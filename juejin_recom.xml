<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[iOS åç¼–è¯‘é˜²æŠ¤å·¥å…·å…¨æ™¯è§£æ ä»åº•å±‚ç¬¦å·åˆ°èµ„æºå±‚çš„å¤šç»´å®‰å…¨ä½“ç³»]]></title>    <link>https://juejin.cn/post/7581666815001821235</link>    <guid>https://juejin.cn/post/7581666815001821235</guid>    <pubDate>2025-12-09T07:44:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581666815001821235" data-draft-id="7581658157144932402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS åç¼–è¯‘é˜²æŠ¤å·¥å…·å…¨æ™¯è§£æ ä»åº•å±‚ç¬¦å·åˆ°èµ„æºå±‚çš„å¤šç»´å®‰å…¨ä½“ç³»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:44:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS åç¼–è¯‘é˜²æŠ¤å·¥å…·å…¨æ™¯è§£æ ä»åº•å±‚ç¬¦å·åˆ°èµ„æºå±‚çš„å¤šç»´å®‰å…¨ä½“ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:44:53.000Z" title="Tue Dec 09 2025 07:44:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨å®‰å…¨ä½“ç³»ä¸­ï¼Œâ€œåç¼–è¯‘é˜²æŠ¤â€å§‹ç»ˆæ˜¯ iOS ç«¯ç»•ä¸å¼€çš„å…³é”®ç¯èŠ‚ã€‚
è™½ç„¶ iOS çš„ç³»ç»Ÿå®‰å…¨æ€§è¾ƒé«˜ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨ App æœ¬èº«ä¸ä¼šè¢«é€†å‘ã€‚äº‹å®ä¸Šï¼Œåªè¦æ”»å‡»è€…èƒ½å¤Ÿæ‹¿åˆ° IPAï¼Œå°±å¯ä»¥ä½¿ç”¨æˆç†Ÿçš„é€†å‘å·¥å…·é“¾è¿˜åŸä½ çš„ï¼š</p>
<ul>
<li>ç±»åã€æ–¹æ³•åã€å˜é‡å</li>
<li>ä¸šåŠ¡è°ƒç”¨é“¾</li>
<li>é…ç½®ä¸é€»è¾‘æ–‡ä»¶</li>
<li>èµ„æºç»“æ„</li>
<li>è„šæœ¬å†…å®¹ï¼ˆJS / Lua / H5ï¼‰</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ çš„ App åœ¨æ”»å‡»è€…ç”µè„‘é‡Œï¼Œå‡ ä¹æ˜¯â€œé€æ˜çš„â€ã€‚</p>
<p>ä¸ºäº†å‡å°‘è¿™ç§é€æ˜åº¦ï¼Œå°±éœ€è¦æ„å»º <strong>iOS åç¼–è¯‘é˜²æŠ¤ä½“ç³»</strong>ï¼Œè€Œä¸æ˜¯ä¾èµ–å•ä¸€å·¥å…·ã€‚
æœ¬æ–‡ä»å·¥ç¨‹åŒ–è§’åº¦åˆ‡å…¥ï¼Œç³»ç»Ÿæ¢³ç†å¸¸è§å·¥å…·ã€å®ƒä»¬çš„é€‚ç”¨åœºæ™¯ã€ä¼˜åŠ¿ä¸é™åˆ¶ï¼ŒåŒæ—¶ç»™å‡ºä¸€ä¸ªå¯è½åœ°çš„â€œå¤šå·¥å…·ç»„åˆæ–¹æ¡ˆâ€ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ iOS éœ€è¦åç¼–è¯‘é˜²æŠ¤ï¼Ÿ</h2>
<p>å¾ˆå¤šå›¢é˜Ÿè¯¯ä»¥ä¸ºï¼š</p>
<blockquote>
<p>iOS ä¸èƒ½éšä¾¿è£…åŒ…ï¼Œæ‰€ä»¥åˆ«äººå¾ˆéš¾åˆ†ææˆ‘çš„åº”ç”¨ã€‚</p>
</blockquote>
<p>ä½†å®é™…æƒ…å†µæ˜¯ï¼š</p>
<ol>
<li>IPA å¯ä»¥éšæ—¶è¢«å¯¼å‡º</li>
<li>å¾®åšã€æŠ–éŸ³ã€é“¶è¡Œç­‰å¤§å‹ App éƒ½è¢«é€†å‘åˆ†æè¿‡</li>
<li>è¶Šç‹±è®¾å¤‡ä¸Šå¯ç›´æ¥ dump å†…å­˜</li>
<li>Frida ç­‰åŠ¨æ€æ’æ¡©å·¥å…·èƒ½ç»•è¿‡å¾ˆå¤šæ£€æŸ¥</li>
<li>Hook æŠ€æœ¯é«˜åº¦æˆç†Ÿ</li>
</ol>
<p>å¸¸è§é£é™©åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>ä¸šåŠ¡é€»è¾‘æ³„éœ²</strong>ï¼ˆæ”¯ä»˜é€»è¾‘ã€åŠ å¯†ç®—æ³•ã€é£æ§ç­–ç•¥ï¼‰</li>
<li><strong>èµ„æºå¯æ›¿æ¢</strong>ï¼ˆJSONã€JSã€H5ã€å›¾ç‰‡ã€é…ç½®ï¼‰</li>
<li><strong>å¯æ’æ¡©ã€å¯ä¿®æ”¹æµç¨‹</strong></li>
<li><strong>ç¬¬ä¸‰æ–¹æ¸ é“æ‰“åŒ…ä¿®æ”¹</strong></li>
<li><strong>ç›—ç‰ˆã€å¤–æŒ‚ã€äºŒæ”¹ç‰ˆæœ¬ä¼ æ’­</strong></li>
</ul>
<p>å› æ­¤ï¼Œåç¼–è¯‘é˜²æŠ¤å¿…é¡»å½¢æˆå®Œæ•´ä½“ç³»ï¼Œè€Œä¸æ˜¯å•ç‚¹é˜²æŠ¤ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€iOS åç¼–è¯‘é˜²æŠ¤çš„å››å¤§æ ¸å¿ƒæ–¹å‘</h2>
<p>ä¸€ä¸ªå¯æŒç»­çš„é˜²æŠ¤ä½“ç³»ï¼Œè‡³å°‘è¦è¦†ç›–ä»¥ä¸‹å››ç±»é£é™©ï¼š</p>
<hr/>
<h2 data-id="heading-2"><strong>â‘  ç¬¦å·çº§é˜²æŠ¤ï¼ˆæœ€åŸºç¡€ï¼Œä¹Ÿæ˜¯æœ€é‡è¦ï¼‰</strong></h2>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç±»å</li>
<li>æ–¹æ³•å</li>
<li>å±æ€§å</li>
<li>Swift ç±»å‹ä¿¡æ¯</li>
</ul>
<p>æ”»å‡»è€…é€šè¿‡ç¬¦å·å³å¯ç†è§£å¤§é‡ä¸šåŠ¡ç»“æ„ã€‚
è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ··æ·†å‡ ä¹æ˜¯æ‰€æœ‰ App çš„ç¬¬ä¸€é“å¿…å¤‡é˜²æŠ¤ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>â‘¡ èµ„æºä¸è„šæœ¬é˜²æŠ¤ï¼ˆæœ€æ˜“è¢«æ›¿æ¢ï¼‰</strong></h2>
<p>å°¤å…¶åœ¨ä»¥ä¸‹é¡¹ç›®ä¸­ï¼š</p>
<ul>
<li>H5 / Hybrid</li>
<li>Flutter</li>
<li>React Native</li>
<li>Unity / Cocos</li>
<li>è¿è¥é…ç½®ï¼ˆjsonï¼‰</li>
</ul>
<p>è¿™äº›èµ„æºå¤©ç”Ÿæ˜æ–‡ï¼Œæ˜¯é€†å‘è€…çš„ä¸»è¦æ”»å‡»ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>â‘¢ åŠ¨æ€è°ƒè¯•å¯¹æŠ—ï¼ˆè¿è¡Œæ—¶å®‰å…¨ï¼‰</strong></h2>
<p>ä¸»è¦å¯¹æŠ—å·¥å…·åŒ…æ‹¬ï¼š</p>
<ul>
<li>Frida</li>
<li>Cycript</li>
<li>MonkeyDev</li>
<li>Hook ç³»åˆ—æ’ä»¶</li>
</ul>
<hr/>
<h2 data-id="heading-5"><strong>â‘£ å®Œæ•´æ€§éªŒè¯ï¼ˆç¡®ä¿ IPA æœªè¢«ç¯¡æ”¹ï¼‰</strong></h2>
<p>å…³é”®èµ„æºä¸èƒ½éšæ„æ›¿æ¢ï¼Œéœ€è¦ï¼š</p>
<ul>
<li>Hash æ ¡éªŒ</li>
<li>è·¯å¾„æ‰°åŠ¨</li>
<li>åŠ å¯†æˆ–ä¼ªåŠ å¯†</li>
<li>æ–‡ä»¶ç»“æ„ä¿æŠ¤</li>
</ul>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€iOS åç¼–è¯‘é˜²æŠ¤å·¥å…·å…¨æ™¯å›¾ï¼ˆæŒ‰é˜¶æ®µåˆ†ç±»ï¼‰</h2>
<p>ä¸‹è¡¨æ€»ç»“äº†ä¸€å¥—é€‚é… iOS é¡¹ç›®çš„â€œå¤šå·¥å…·çŸ©é˜µâ€ï¼š</p>


















































<table><thead><tr><th>å·¥å…·</th><th>æ‰€å±æ–¹å‘</th><th>ä¸»è¦ç”¨é€”</th></tr></thead><tbody><tr><td><strong>Ipa Guard CLI</strong></td><td><em>IPA å±‚æ··æ·† + èµ„æºä¿æŠ¤</em>ï¼ˆæ ¸å¿ƒï¼‰</td><td>æ— éœ€æºç æ··æ·†ç¬¦å·ã€æ‰°åŠ¨èµ„æºç»“æ„ã€ä¿®æ”¹ MD5ã€æ··æ·† JSï¼Œé€‚åˆå…¨ç±»å‹ App</td></tr><tr><td>Swift Shield</td><td>æºç çº§æ··æ·†</td><td>Swift é¡¹ç›®ç¬¦å·æ··æ·†ï¼Œéœ€æºç </td></tr><tr><td>obfuscator-llvm</td><td>æºç ç¼–è¯‘çº§æ··æ·†</td><td>LLVM å±‚æŒ‡ä»¤æ··æ·†ï¼Œéœ€æºç ã€ä¾µå…¥æ€§å¼º</td></tr><tr><td>JS Obfuscator</td><td>å‰ç«¯ä»£ç ä¿æŠ¤</td><td>æ··æ·† Hybrid / H5 è„šæœ¬</td></tr><tr><td>lua-minify</td><td>æ¸¸æˆç±»é¡¹ç›®è„šæœ¬ä¿æŠ¤</td><td>æ··æ·† Lua</td></tr><tr><td>kxsign</td><td>IPA é‡ç­¾å</td><td>å¯¹æ··æ·†å IPA è¿›è¡ŒçœŸæœºéªŒè¯</td></tr><tr><td>Hopper / IDA</td><td>é€†å‘åˆ†æå·¥å…·</td><td>éªŒè¯æ˜¯å¦ä»å¯è¯»ã€å¯è¿½è¸ªé€»è¾‘</td></tr><tr><td>Frida</td><td>åŠ¨æ€ Hook</td><td>éªŒè¯æ˜¯å¦ä»å¯å®šä½å…³é”®æ–¹æ³•</td></tr></tbody></table>
<p>ä¸åŒé¡¹ç›®å¯é€šè¿‡ç»„åˆè¿™äº›å·¥å…·æ„å»ºè‡ªå·±çš„å®‰å…¨ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€æ·±å…¥åˆ†æå„ç±»åç¼–è¯‘é˜²æŠ¤å·¥å…·çš„ä¼˜åŠ£åŠ¿</h2>
<p>ä»¥ä¸‹è¯„ä»·åŸºäºå®é™…å·¥ç¨‹ç»éªŒï¼Œæ— å•†ä¸šå€¾å‘ã€‚</p>
<hr/>
<h2 data-id="heading-8"><strong>â‘  æºç çº§å·¥å…·ï¼šSwift Shield</strong></h2>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨é—¨æ§›ä½ï¼Œé€‚åˆçº¯ Swift é¡¹ç›®</li>
<li>ä¸æºç ç»“æ„ç´§å¯†ç»“åˆ</li>
<li>å¯¹å¸¸è§„ç¬¦å·æ··æ·†æ•ˆæœå¥½</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å¿…é¡»æœ‰æºç </li>
<li>å¯¹æ··åˆé¡¹ç›®æ— æ•ˆï¼ˆFlutter/RN/H5ï¼‰</li>
<li>å¯¹ JSON/JS ç­‰èµ„æºå®Œå…¨æ— ä¿æŠ¤</li>
</ul>
<p><strong>é€‚ç”¨æ–¹å‘ï¼š</strong></p>
<p>é€‚åˆäº§å“æ—©æœŸã€ä»£ç è§„æ¨¡ä¸­å°çš„å›¢é˜Ÿã€‚</p>
<hr/>
<h2 data-id="heading-9"><strong>â‘¡ ç¼–è¯‘é“¾çº§å·¥å…·ï¼šObfuscator-LLVM</strong></h2>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>å¼ºåº¦é«˜</li>
<li>èƒ½å¯¹ IR ä½œæ·±åº¦æ··æ·†</li>
<li>éš¾åº¦è¿œé«˜äºç¬¦å·ä¿æŠ¤</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>å¿…é¡»æœ‰æºç </li>
<li>é›†æˆå›°éš¾ã€å…¼å®¹æ€§å¤æ‚</li>
<li>å½±å“ç¼–è¯‘æ—¶é—´</li>
<li>äº§ç‰©ä¸æ˜“è°ƒè¯•</li>
</ul>
<p><strong>é€‚ç”¨æ–¹å‘ï¼š</strong></p>
<p>é‡è§†åº•å±‚ç®—æ³•å®‰å…¨çš„å›¢é˜Ÿï¼ˆä½†éœ€æ³¨æ„æˆæœ¬æé«˜ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>â‘¢ å‰ç«¯/H5 å±‚å·¥å…·ï¼ˆJS æ··æ·†ã€å‹ç¼©ç±»å·¥å…·ï¼‰</strong></h2>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>éƒ¨ç½²ç®€å•</li>
<li>åœ¨æŸäº›åœºæ™¯ä¸‹æå‡å¯è¯»æ€§é—¨æ§›</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>åªèƒ½ä¿æŠ¤å¯è¯»æ€§</li>
<li>æ— æ³•é˜»æ­¢æ›¿æ¢èµ„æº</li>
<li>å¯¹å·¥ç¨‹å®‰å…¨å¸®åŠ©æœ‰é™</li>
</ul>
<p><strong>é€‚ç”¨æ–¹å‘ï¼š</strong></p>
<p>ä½œä¸ºåŸºç¡€â€œå¯è¯»æ€§ä¿æŠ¤å±‚â€ã€‚</p>
<hr/>
<h2 data-id="heading-11"><strong>â‘£ IPA æˆå“å±‚æ··æ·†ï¼šIpa Guard CLIï¼ˆé«˜é€‚é…åº¦æ–¹æ¡ˆï¼‰</strong></h2>
<p>è¿™æ˜¯ç›®å‰æ··åˆæ¶æ„å’Œæ— æºç åœºæ™¯æœ€é€‚é…çš„æ–¹æ¡ˆã€‚</p>
<p>å®ƒèƒ½è§£å†³å…¶ä»–å·¥å…·æ— æ³•è¦†ç›–çš„æ–¹å‘ï¼š</p>









































<table><thead><tr><th>èƒ½åŠ›</th><th>æ˜¯å¦æ”¯æŒ</th></tr></thead><tbody><tr><td>æ— éœ€æºç </td><td>æ˜¯</td></tr><tr><td>æ··æ·† Swift/OC ç¬¦å·</td><td>æ˜¯</td></tr><tr><td>ä¿®æ”¹èµ„æºæ–‡ä»¶åï¼ˆå›¾ç‰‡/json/js/luaï¼‰</td><td>æ˜¯</td></tr><tr><td>èµ„æº MD5 æ‰°åŠ¨ï¼ˆé˜²æ›¿æ¢ï¼‰</td><td>æ˜¯</td></tr><tr><td>JS æ··æ·†</td><td>æ˜¯</td></tr><tr><td>æ”¯æŒ Flutter/RN/H5 æ¸¸æˆé¡¹ç›®</td><td>æ˜¯</td></tr><tr><td>æ”¯æŒ IPA è§£ææœºåˆ¶</td><td>æ˜¯</td></tr><tr><td>CLI è‡ªåŠ¨åŒ–ï¼ˆå¯æ¥ CI/CDï¼‰</td><td>æ˜¯</td></tr></tbody></table>
<p>ç¤ºä¾‹æµç¨‹ï¼š</p>
<hr/>
<h3 data-id="heading-12">Step 1ï¼šè§£æ IPAï¼Œç”Ÿæˆç¬¦å·ä¸èµ„æºè·¯å¾„ä¿¡æ¯</h3>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli parse app.ipa -o sym.json
</code></pre>
<hr/>
<h3 data-id="heading-13">Step 2ï¼šç¼–è¾‘æ··æ·†ç­–ç•¥</h3>
<p>æ ¹æ® sym.json åˆ¤æ–­å“ªäº›èƒ½æ”¹ï¼Œå“ªäº›ä¸èƒ½æ”¹ã€‚</p>
<hr/>
<h3 data-id="heading-14">Step 3ï¼šæ‰§è¡Œæ··æ·†ä¸èµ„æºé˜²ç¯¡æ”¹</h3>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli protect app.ipa -c sym.json --js --image -o protected.ipa
</code></pre>
<p>å®Œæˆèµ„æºè·¯å¾„æ‰°åŠ¨ã€ç¬¦å·æ··æ·†ã€MD5 ä¿®æ”¹ç­‰ã€‚</p>
<hr/>
<h3 data-id="heading-15">Step 4ï¼šé‡ç­¾åéªŒè¯ IPA</h3>
<pre><code class="hljs language-bash" lang="bash">kxsign sign protected.ipa -c cert.p12 -p <span class="hljs-built_in">pwd</span> -m dev.mobileprovision -z signed.ipa -i
</code></pre>
<p>ç¡®ä¿åŠŸèƒ½å®Œæ•´ä¸å—å½±å“ã€‚</p>
<hr/>
<h2 data-id="heading-16"><strong>â‘¤ å·¥å…·éªŒè¯å±‚ï¼šHopper / Frida</strong></h2>
<p>è¿™äº›å·¥å…·ä¸æ˜¯åŠ å›ºå·¥å…·ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p>ç”¨æ¥éªŒè¯ä½ çš„é˜²æŠ¤æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„ã€‚</p>
</blockquote>
<p>å¦‚æœï¼š</p>
<ul>
<li>Hopper ä»èƒ½è¯»æ‡‚ç¬¦å·</li>
<li>Frida ä»èƒ½ç§’ Hook</li>
<li>json/js ä»èƒ½éšæ„æ›¿æ¢</li>
</ul>
<p>é‚£è¯´æ˜é˜²æŠ¤ä¸åˆ°ä½ã€‚</p>
<hr/>
<h2 data-id="heading-17">äº”ã€å¦‚ä½•æŠŠè¿™äº›å·¥å…·ç»„åˆæˆä¸€å¥—å¯å·¥ç¨‹åŒ–è¿è¡Œçš„â€œåç¼–è¯‘é˜²æŠ¤ä½“ç³»â€ï¼Ÿ</h2>
<p>ä»¥ä¸‹æµç¨‹å¯ä»¥ç›´æ¥æ¥å…¥ CI/CDã€‚</p>
<hr/>
<h2 data-id="heading-18"><strong>â‘  ä»£ç æäº¤ â†’ CI ç¼–è¯‘å‡ºå¹²å‡€ IPA</strong></h2>
<hr/>
<h2 data-id="heading-19"><strong>â‘¡ Ipa Guard CLI è§£æç¬¦å·/èµ„æº</strong></h2>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli parse app.ipa -o sym.json
</code></pre>
<hr/>
<h2 data-id="heading-20"><strong>â‘¢ è‡ªåŠ¨ç”Ÿæˆæ··æ·†ç­–ç•¥ï¼ˆè„šæœ¬åŒ–ï¼‰</strong></h2>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>çƒ­æ›´æ–°è·¯å¾„ â†’ ä¿ç•™</li>
<li>SDK é“¾æ¥ç¬¦å· â†’ ä¿ç•™</li>
<li>ä¸šåŠ¡ç¬¦å· â†’ å¼ºæ··æ·†</li>
<li>JS/json è·¯å¾„ â†’ æ‰°åŠ¨</li>
<li>å›¾ç‰‡ç­‰èµ„æº â†’ æ”¹å+MD5</li>
</ul>
<hr/>
<h2 data-id="heading-21"><strong>â‘£ æ··æ·† + é˜²ç¯¡æ”¹å¤„ç†</strong></h2>
<pre><code class="hljs language-bash" lang="bash">ipaguard_cli protect app.ipa -c sym.json --js --image -o encrypted.ipa
</code></pre>
<hr/>
<h2 data-id="heading-22"><strong>â‘¤ é‡ç­¾åå¹¶è‡ªåŠ¨å®‰è£…æµ‹è¯•</strong></h2>
<p>éªŒè¯ï¼š</p>
<ul>
<li>é¡µé¢ã€èµ„æºã€UI æ˜¯å¦æ­£å¸¸</li>
<li>é…ç½®æ˜¯å¦è§£ææˆåŠŸ</li>
<li>JSBridge æ˜¯å¦é€šä¿¡æ­£å¸¸</li>
<li>æ˜¯å¦å­˜åœ¨å¼‚å¸¸å´©æºƒ</li>
</ul>
<hr/>
<h2 data-id="heading-23"><strong>â‘¥ å®‰å…¨æµ‹è¯•</strong></h2>
<ul>
<li>ä½¿ç”¨ Hopper æ£€æŸ¥ç¬¦å·å¯è¯»æ€§</li>
<li>èµ„æºæ›¿æ¢æµ‹è¯•</li>
<li>Frida æ‰§è¡Œ Hook æµ‹è¯•</li>
</ul>
<hr/>
<h2 data-id="heading-24"><strong>â‘¦ æ˜ å°„è¡¨æ²»ç†ï¼ˆå…³é”®ï¼‰</strong></h2>
<p>å°† sym.json + æ˜ å°„æ–‡ä»¶å­˜å…¥åŠ å¯†ä»“åº“ã€‚</p>
<hr/>
<p>è¿™å¥—ä½“ç³»è§£å†³äº†å¸‚é¢ä¸Šå¤§å¤šæ•° iOS é¡¹ç›®çš„åç¼–è¯‘é˜²æŠ¤éœ€æ±‚ã€‚</p>
<hr/>
<h2 data-id="heading-25">åç¼–è¯‘é˜²æŠ¤ä¸ä¾èµ–å•ä¸€å·¥å…·ï¼Œè€Œæ˜¯ä½“ç³»åŒ–å»ºè®¾</h2>
<p>æœ€ç»ˆæ–¹æ¡ˆå¯æ€»ç»“ä¸ºï¼š</p>
<p><strong>æºç å±‚ä¿æŠ¤</strong></p>
<p>Swift Shieldã€Obfuscator-llvm</p>
<p><strong>å‰ç«¯å±‚ä¿æŠ¤</strong></p>
<p>JS Obfuscatorã€ lua-minify</p>
<p><strong>IPA æˆå“å±‚ä¿æŠ¤ï¼ˆæ ¸å¿ƒï¼‰</strong></p>
<p><strong>Ipa Guard CLIï¼šç¬¦å·æ··æ·†ï¼‹èµ„æºæ‰°åŠ¨ï¼‹MD5 é˜²æ›¿æ¢ï¼‹å¤šç«¯æ”¯æŒ</strong></p>
<p><strong>éƒ¨ç½²ä¸éªŒè¯å±‚</strong></p>
<p>kxsignã€Hopperã€Frida</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[flutter_easy_refreshåœ¨3.38.3é…åˆNestedScrollViewçš„æ³¨æ„è¦ç‚¹ã€‚]]></title>    <link>https://juejin.cn/post/7581481178823213075</link>    <guid>https://juejin.cn/post/7581481178823213075</guid>    <pubDate>2025-12-09T07:48:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581481178823213075" data-draft-id="7581408984416813075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="flutter_easy_refreshåœ¨3.38.3é…åˆNestedScrollViewçš„æ³¨æ„è¦ç‚¹ã€‚"/> <meta itemprop="keywords" content="Flutter,Android,Dart"/> <meta itemprop="datePublished" content="2025-12-09T07:48:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CrazyQ1"/> <meta itemprop="url" content="https://juejin.cn/user/3843548381709512"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            flutter_easy_refreshåœ¨3.38.3é…åˆNestedScrollViewçš„æ³¨æ„è¦ç‚¹ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548381709512/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CrazyQ1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:48:06.000Z" title="Tue Dec 09 2025 07:48:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>easy_refreshå·²ç»æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰æ›´æ–°äº†,ä¸çŸ¥é“è¿™ä¸ªé—®é¢˜è·Ÿflutterç‰ˆæœ¬æœ‰æ²¡æœ‰å…³ç³»ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜ç‚¹</h2>
<p>ä¸‹æ‹‰åˆ·æ–°æ¾å¼€ä¹‹åï¼Œåˆ·æ–°å®Œæˆï¼Œä¼šå¯¼è‡´å¤§ç‰‡å¤´éƒ¨åŒºåŸŸç©ºç™½ï¼Œä¸€ç›´ä¸æ¶ˆå¤±ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜åŸå› </h2>
<p>å½“æ‰‹åŠ¿æ¾å¼€ä¹‹åflutter-sdké‡Œé¢ä¼šè°ƒç”¨<code>ScrollPositionwithsinglecontext.goBallistic</code>ï¼Œå¯¼è‡´<code>NestScrollView</code>çš„<code>goBallistic</code>æ— æ³•è¢«é€šçŸ¥ï¼Œå¦‚ä¸‹å›¾ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7414c7a42f84269ac60dc74278bfe18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ3JhenlRMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871511&amp;x-signature=nTodcCOmigHp3Payp%2BzP78IEASI%3D" alt="01c899277e62c449b408d4ae02244271.png" loading="lazy"/></p>
<p>ç„¶åç»“æœå°±æ˜¯EasyRefreshçš„å¤´éƒ¨æŒ‡ç¤ºå™¨å·²ç»æ¶ˆå¤±ï¼Œä½†æ˜¯æ»‘åŠ¨æ§åˆ¶å™¨çš„æ»‘åŠ¨å¹¶æ²¡æœ‰è¢«è§¦å‘ã€‚</p>
<h2 data-id="heading-3">ç›¸å…³ä»£ç ä½ç½®</h2>
<blockquote>
<p>ã€è®¡ç®—ä½ç½®ã€‘overExtent of <code>D:\Pub\hosted\pub.flutter-io.cn\easy_refresh-3.4.0\lib\src\notifier\indicator_notifier.dart</code></p>
</blockquote>
<blockquote>
<p>ã€è¿”å›ç»“æœåˆ·æ–°ç»“æœã€‘: _onRefresh of D:\Pub\hosted\pub.flutter-io.cn\easy_refresh-3.4.0\lib\src\easy_refresh.dart</p>
</blockquote>
<blockquote>
<p>ã€æŒ‡ç¤ºå™¨è®¡ç®—ä½ç½®ã€‘_calculateOffset of D:\Pub\hosted\pub.flutter-io.cn\easy_refresh-3.4.0\lib\src\notifier\indicator_notifier.dart</p>
</blockquote>
<blockquote>
<p>ç›‘å¬ç”¨æˆ·æ»‘åŠ¨åˆ°çš„ä½ç½®ï¼š_onUserOffset of D:\Pub\hosted\pub.flutter-io.cn\easy_refresh-3.4.0\lib\src\notifier\indicator_notifier.dart</p>
</blockquote>
<h2 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h2>
<p>ä½¿ç”¨EasyRefresh.builderé…åˆå–<code>innerController</code>ï¼Œå¤ç”¨physicsæœ€å¥½ã€‚</p>
<p>ç¤ºä¾‹ä»£ç </p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_RoomListContent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-keyword">const</span> _RoomListContent({<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.topPadding});

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> topPadding;

  <span class="hljs-meta">@override</span>
  State&lt;_RoomListContent&gt; createState() =&gt; _RoomListContentState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_RoomListContentState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">_RoomListContent</span>&gt; </span>{
  <span class="hljs-keyword">late</span> <span class="hljs-keyword">final</span> ScrollController innerController = PrimaryScrollController.of(context);

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> EasyRefresh.builder(
      scrollController: innerController,
      onRefresh: () =&gt; provider.refresh(),
      onLoad: () =&gt; provider.loadMore(),
      childBuilder: (BuildContext context, ScrollPhysics physics) =&gt; CustomScrollView(
        controller: innerController,
        physics: physics,
        slivers: &lt;Widget&gt;[
        .....ä½ çš„å…·ä½“ç»„ä»¶å†…å®¹
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Agentic AI for Dataç³»åˆ—ã€‘Kiroå®æˆ˜ï¼šDuckDB vs SparkæŠ€æœ¯é€‰å‹å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7581667332305862694</link>    <guid>https://juejin.cn/post/7581667332305862694</guid>    <pubDate>2025-12-09T07:49:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581667332305862694" data-draft-id="7581448482544992282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Agentic AI for Dataç³»åˆ—ã€‘Kiroå®æˆ˜ï¼šDuckDB vs SparkæŠ€æœ¯é€‰å‹å…¨æµç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-09T07:49:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºšé©¬é€Šäº‘å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2850395271209496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Agentic AI for Dataç³»åˆ—ã€‘Kiroå®æˆ˜ï¼šDuckDB vs SparkæŠ€æœ¯é€‰å‹å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2850395271209496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºšé©¬é€Šäº‘å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:49:38.000Z" title="Tue Dec 09 2025 07:49:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fs3.cn-north-1.amazonaws.com.cn%2Fawschinablog%2Fblogbanner-newnew.png" target="_blank" title="https://s3.cn-north-1.amazonaws.com.cn/awschinablog/blogbanner-newnew.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bf6e91e022d4a958b5e255bfe48fdfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871681&amp;x-signature=P8zV8nYhWSAm9vGHMNFMFwY774A%3D" alt="" loading="lazy"/></a></p>
<h2 data-id="heading-0"><strong>1. å¼•è¨€ï¼šæŠ€æœ¯é€‰å‹çš„æ–°æŒ‘æˆ˜</strong></h2>
<p>å½“é¢ä¸´DuckDBä¸Sparkçš„æŠ€æœ¯é€‰å‹æ—¶ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾å›°æƒ‘ï¼šæ–°å…´çš„DuckDBçœŸçš„æ¯”æˆç†Ÿçš„Sparkæ›´é€‚åˆæˆ‘çš„æ•°æ®åˆ†æåœºæ™¯å—ï¼Ÿä¼ ç»Ÿçš„æŠ€æœ¯é€‰å‹å¾€å¾€ä¾èµ–ç»éªŒåˆ¤æ–­æˆ–ç®€å•çš„æ€§èƒ½æµ‹è¯•ï¼Œé¢å¯¹å¤æ‚çš„ä¸šåŠ¡åœºæ™¯å’Œå¤šç»´åº¦çš„è¯„ä¼°æŒ‡æ ‡ï¼Œè¿™ç§æ–¹æ³•æ—¢è€—æ—¶åˆéš¾ä»¥ä¿è¯å®¢è§‚æ€§ã€‚</p>
<p><strong>Agentic AI</strong> <strong>æ­£åœ¨æ”¹å˜è¿™ä¸€åˆ‡ï¼</strong> Â åœ¨AIåŸç”Ÿæ•°æ®æ²»ç†ä¸å¼€å‘çš„æ–°èŒƒå¼ä¸‹ï¼ŒAIä¸å†ä»…ä»…æ˜¯è¾…åŠ©å·¥å…·ï¼Œè€Œæ˜¯æˆä¸ºè´¯ç©¿æŠ€æœ¯é€‰å‹å…¨æµç¨‹çš„æ™ºèƒ½å†³ç­–å¼•æ“ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨åŒ–åœ°è¿›è¡Œç¯å¢ƒé…ç½®ã€æ€§èƒ½æµ‹è¯•ã€æŒ‡æ ‡æ”¶é›†å’Œç»“æœåˆ†æï¼Œå°†åŸæœ¬éœ€è¦æ•°å‘¨çš„æ‰‹åŠ¨éªŒè¯å·¥ä½œå‹ç¼©åˆ°å‡ å¤©å†…å®Œæˆã€‚</p>
<p>æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªçœŸå®æ¡ˆä¾‹å±•ç¤ºè¿™ç§å˜é©ï¼šé¢å¯¹ç”µå•†ç”¨æˆ·è¡Œä¸ºæ•°æ®çš„è¥é”€åˆ†æä»»åŠ¡ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨AIå¼€å‘åŠ©æ‰‹Kiroè¿›è¡Œäº†ä¸€æ¬¡ç§‘å­¦çš„æ¯”è¾ƒã€‚åœ¨3å¤©å†…ï¼ŒAIè‡ªä¸»å®Œæˆäº†å®Œæ•´çš„æ€§èƒ½å¯¹æ¯”æµ‹è¯•ï¼Œå®¢è§‚åœ°ç»™å‡ºé€‰å‹æŠ¥å‘Šã€‚</p>
<blockquote>
<p>ğŸ”¥ æƒ³åˆ©ç”¨ç”Ÿæˆå¼AIå¼€å‘å·¥å…·è§£æ”¾åŒæ‰‹ï¼Œå´è‹¦äºåº”ç”¨æ•ˆæœä¸å¤Ÿå®Œå–„ã€æµç¨‹ä¸å¤Ÿè§„èŒƒï¼Ÿ</p>
<p>âœ¨ äºšé©¬é€Šäº‘ç§‘æŠ€ Kiro ç™»åœºï¼é‡‡ç”¨â€œè§„èŒƒé©±åŠ¨â€å¼€å‘ç†å¿µï¼Œç»“åˆ Agent Hooks è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œ1å°æ—¶è®©å°ç™½å˜èº«ç”Ÿäº§çº§æ¸¸æˆåˆ¶ä½œäººï¼</p>
<p>ğŸ”› é€Ÿæ¥äº‘ä¸Šæ¢ç´¢å®éªŒå®¤ï¼Œä½“éªŒ Kiro å¼€å‘ç‹¬ç«‹æ¸¸æˆï¼Œä»éœ€æ±‚åˆ°éƒ¨ç½²å…¨æŒæ¡ï¼</p>
<p>ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D689ae2225c6c3e09c84f68d9%26visitfrom%3D3P_Juejinhead_1209%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejinhead_1209" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=689ae2225c6c3e09c84f68d9&amp;visitfrom=3P_Juejinhead_1209&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejinhead_1209" ref="nofollow noopener noreferrer">ç‚¹å‡»è¿™é‡Œ</a>ï¼Œå³åˆ»å¼€å¯ AI å¼€å‘ä¹‹æ—…ï¼</p>
</blockquote>
<h2 data-id="heading-1"><strong>2. æŠ€æœ¯èƒŒæ™¯ä»‹ç»</strong></h2>
<h3 data-id="heading-2">2.1Â <strong>DuckDB</strong> <strong>å’Œ</strong> <strong>Spark</strong> <strong>çš„äº§å“å®šä½</strong></h3>
<p>åœ¨æ·±å…¥AIé©±åŠ¨çš„æŠ€æœ¯é€‰å‹å®æˆ˜ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£DuckDBå’ŒSparkçš„æ ¸å¿ƒå·®å¼‚ã€‚è®¾æƒ³è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼šå½“ä½ éœ€è¦å¿«é€Ÿåˆ†æä¸šåŠ¡æ•°æ®æ—¶ï¼ŒSparkéœ€è¦å¯åŠ¨é›†ç¾¤ã€ç­‰å¾…ä»»åŠ¡è°ƒåº¦ï¼Œæ•´ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦æ•°åˆ†é’Ÿï¼›è€ŒDuckDBåˆ™å¯ä»¥ç«‹å³æ‰§è¡ŒSQLæŸ¥è¯¢ï¼Œå‡ ç§’å†…å¾—åˆ°ç»“æœã€‚è¿™ç§å·®å¼‚æ­£æ˜¯ä¸¤ç§æŠ€æœ¯ä¸åŒå®šä½çš„ä½“ç°ã€‚</p>
<p><strong>DuckDB</strong> <strong>çš„å®šä½</strong></p>
<p>ä¸»è¦é€‚åˆå•æœºèƒ½å¤Ÿå¤„ç†çš„æ•°æ®é‡åœºæ™¯ï¼Œå…¶ç›®æ ‡ç”¨æˆ·æ˜¯ç†Ÿæ‚‰SQLçš„æ•°æ®åˆ†æå¸ˆã€ç§‘å­¦å®¶å’Œä¸šåŠ¡äººå‘˜ã€‚å…¸å‹åº”ç”¨åŒ…æ‹¬æ—¥æŠ¥ç”Ÿæˆã€æ•°æ®æ¢ç´¢ã€æ–‡ä»¶å¤„ç†å’Œäº¤äº’å¼æŸ¥è¯¢ï¼Œæ ¸å¿ƒä¼˜åŠ¿åœ¨äºé›¶é…ç½®ã€å³å¼€å³ç”¨çš„SQLåŸç”Ÿæ”¯æŒ[1]ã€‚</p>
<p><strong>Spark</strong> <strong>çš„å®šä½</strong></p>
<p>æ›´é€‚åˆéœ€è¦åˆ†å¸ƒå¼å¤„ç†çš„å¤§è§„æ¨¡æ•°æ®åœºæ™¯ï¼Œä¸»è¦æœåŠ¡äºå¤§æ•°æ®å·¥ç¨‹å¸ˆã€‚å…¶å…¸å‹åº”ç”¨æ¶µç›–å¤§è§„æ¨¡ETLã€æœºå™¨å­¦ä¹ å’Œæµå¤„ç†ï¼Œæ ¸å¿ƒä¼˜åŠ¿ä½“ç°åœ¨åˆ†å¸ƒå¼å¤„ç†èƒ½åŠ›ã€ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿå’Œä¼ä¸šçº§ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-3">2.2Â <strong>DuckDB</strong> <strong>çš„ä¼˜åŠ¿ä¸å®é™…ä½¿ç”¨ä½“éªŒ</strong></h3>
<p>ä»æŠ€æœ¯ç‰¹ç‚¹æ¥çœ‹ï¼ŒDuckDBé‡‡ç”¨åµŒå…¥å¼æ¶æ„ï¼Œç›´æ¥è¿è¡Œåœ¨Pythonè¿›ç¨‹å†…éƒ¨ï¼Œè™½ç„¶å—æœ¬åœ°èµ„æºé™åˆ¶ä½†é¿å…äº†ç½‘ç»œå»¶è¿Ÿã€‚å®ƒæä¾›å®Œæ•´çš„SQLæ”¯æŒï¼ŒåŒ…æ‹¬çª—å£å‡½æ•°ã€CTEã€å¤æ‚JOINç­‰é«˜çº§ç‰¹æ€§ï¼ŒåŒæ—¶æ”¯æŒå¤šç§æ•°æ®æ ¼å¼ï¼ŒåŒä¸€æ¡SQLå¯ä»¥æŸ¥è¯¢CSVã€Parquetã€Pandas DataFrameã€‚DuckDBåœ¨æ€§èƒ½æ–¹é¢ï¼Œé™¤äº†å•æœºæ¶æ„é¿å…äº†ç½‘ç»œå’Œè°ƒåº¦å¼€é”€å¤–ï¼Œå…¶æ ¸å¿ƒåœ¨äºå…¶å‘é‡åŒ–æ‰§è¡Œå¼•æ“ã€‚è¯¥å¼•æ“ä»¥åˆ—å¼æ•°æ®å—ï¼ˆVectorsï¼‰ä¸ºå•ä½è¿›è¡Œå¤„ç†ï¼Œè€Œéä¼ ç»Ÿçš„é€è¡Œå¤„ç†ï¼Œæå¤§åœ°å‡å°‘äº†CPUæŒ‡ä»¤çš„è°ƒç”¨å¼€é”€å’Œç¼“å­˜æœªå‘½ä¸­ï¼ˆCache Missï¼‰ï¼Œåœ¨è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚èšåˆã€è¿‡æ»¤ã€å»é‡ï¼‰ä¸Šå±•ç°å‡ºæ— ä¸ä¼¦æ¯”çš„æ•ˆç‡ã€‚ç‰¹åˆ«å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒDuckDBä¸Amazon S3 Tablesçš„é›†æˆè®©ç”¨æˆ·å¯ä»¥ç›´æ¥æŸ¥è¯¢äº‘ç«¯å­˜å‚¨çš„Apache Icebergæ ¼å¼æ•°æ®ï¼Œæ— éœ€æ•°æ®ç§»åŠ¨æˆ–å¤æ‚é…ç½®ï¼Œæ—¢èŠ‚çœå­˜å‚¨ç©ºé—´åˆä¿è¯æ•°æ®å®‰å…¨æ€§[2]ã€‚</p>
<p><strong>DuckDB</strong> <strong>å®é™…ä½¿ç”¨ä½“éªŒ</strong></p>
<pre><code class="hljs language-ini" lang="ini">Python
import duckdb
<span class="hljs-comment"># ç›´æ¥æŸ¥è¯¢S3æ•°æ®ï¼Œæ— éœ€é›†ç¾¤å¯åŠ¨ï¼Œå‡ ç§’å†…å®Œæˆ</span>
<span class="hljs-attr">result</span> = duckdb.sql(<span class="hljs-string">"""
    SELECT region, SUM(revenue) as total_revenue
    FROM 's3://your-bucket/sales-data/*.csv'
    GROUP BY region
"""</span>).df()
</code></pre>
<h3 data-id="heading-4">2.3Â <strong>æŠ€æœ¯é€‰å‹çš„æŒ‘æˆ˜</strong></h3>
<p>è¿™äº›äº§å“å®šä½å’ŒæŠ€æœ¯ç‰¹æ€§ä¿¡æ¯ä¸ºæˆ‘ä»¬ç†è§£åç»­çš„æµ‹è¯•æä¾›äº†é‡è¦èƒŒæ™¯ã€‚ä½†æ˜¯ï¼Œä»…å‡­ç†è®ºåˆ†æè¿˜ä¸è¶³ä»¥åšå‡ºå‡†ç¡®çš„æŠ€æœ¯é€‰å‹å†³ç­–ï¼ŒçœŸæ­£çš„ç­”æ¡ˆéœ€è¦é€šè¿‡ç§‘å­¦çš„æµ‹è¯•éªŒè¯æ¥è·å¾—ã€‚</p>
<p>æ­£å¦‚ã€Šå¼€å‘æ–°èŒƒå¼ï¼šAgentic AIé©±åŠ¨çš„AI for Dataé©å‘½ã€‹è¿™ç¯‡åšå®¢ä¸­ä»‹ç»çš„Agentic AIæ•°æ®å¼€å‘æ–¹æ³•è®ºï¼Œæˆ‘ä»¬ç°åœ¨å°†å…¶åº”ç”¨åˆ°å…·ä½“çš„æŠ€æœ¯é€‰å‹åœºæ™¯ä¸­ï¼Œçœ‹çœ‹Agentic AIçœŸå®çš„ç”Ÿäº§åŠ›ã€‚</p>
<h2 data-id="heading-5"><strong>3. Agentic AI</strong> <strong>å®æˆ˜ï¼š</strong> <strong>Kiro</strong> <strong>é©±åŠ¨çš„æ™ºèƒ½æŠ€æœ¯é€‰å‹</strong></h2>
<h3 data-id="heading-6">3.1Â <strong>ä»€ä¹ˆæ˜¯</strong> <strong>Kiro</strong> <strong>ï¼Ÿ</strong></h3>
<p>è¿™æ¬¡éªŒè¯ï¼Œæˆ‘ç›´æ¥é€‰æ‹©ä½¿ç”¨out-of-boxçš„å¼€å‘æ™ºèƒ½ä½“Kiroï¼Œä¸ºå¤§å®¶å±•ç¤ºAgentic AIé©±åŠ¨çš„æ•°æ®å¼€å‘å…¨æµç¨‹.</p>
<p>Kiroä½œä¸ºAIå¼€å‘æ™ºèƒ½ä½“ï¼Œé€šè¿‡å…¶æ ¸å¿ƒåŠŸèƒ½å±•ç°äº†Agentic AIçš„é©å‘½æ€§èƒ½åŠ›ï¼šè‡ªç„¶è¯­è¨€äº¤äº’çš„é›¶é—¨æ§›åä½œã€Specsè§„èŒƒé©±åŠ¨å¼€å‘ï¼Œä»¥åŠAgent Hooksæ”¯æŒçš„æ™ºèƒ½è‡ªåŠ¨åŒ–[3]ã€‚è¿™ä¸‰ä¸ªèƒ½åŠ›çš„æœ‰æœºç»“åˆï¼Œè®©Kiroä¸å†æ˜¯è¢«åŠ¨çš„å·¥å…·ï¼Œè€Œæ˜¯èƒ½ä¸»åŠ¨æ€è€ƒã€è§„åˆ’å’Œæ‰§è¡Œçš„æ™ºèƒ½å¼€å‘ä¼™ä¼´ã€‚</p>
<p><strong>è‡ªç„¶è¯­è¨€äº¤äº’</strong></p>
<p>è®©å¼€å‘è€…æ— éœ€å­¦ä¹ å¤æ‚çš„å‘½ä»¤æˆ–ç•Œé¢æ“ä½œï¼Œç›´æ¥ç”¨è‡ªç„¶è¯­è¨€å¯¹è¯å°±èƒ½å®Œæˆå¼€å‘å·¥ä½œï¼Œå°±åƒå’ŒåŒäº‹èŠå¤©ä¸€æ ·è‡ªç„¶ï¼›</p>
<p><strong>Specs</strong> <strong>è§„èŒƒé©±åŠ¨å¼€å‘</strong></p>
<p>å°±åƒæœ‰ä¸ªèµ„æ·±äº§å“ç»ç†ï¼Œèƒ½æŠŠä½ ä¸€å¥è¯çš„æƒ³æ³•å˜æˆè¯¦ç»†çš„äº§å“éœ€æ±‚æ–‡æ¡£ã€æŠ€æœ¯è®¾è®¡å’Œå¼€å‘ä»»åŠ¡æ¸…å•ï¼›</p>
<p><strong>Agent Hooks</strong></p>
<p>åˆ™åƒä¸ªè´´å¿ƒåŠ©æ‰‹ï¼Œèƒ½è‡ªåŠ¨å¤„ç†é‚£äº›é‡å¤æ¯ç‡¥çš„å·¥ä½œï¼Œæ¯”å¦‚ä»£ç ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ã€è·‘æµ‹è¯•ã€æ£€æŸ¥é”™è¯¯ã€‚</p>
<h3 data-id="heading-7">3.2Â <strong>Kiro</strong> <strong>çš„å·¥ä½œæµç¨‹å±•ç¤ºï¼šä»è‡ªç„¶è¯­è¨€åˆ°æ–¹æ¡ˆè½åœ°</strong></h3>
<p><strong>1. å’Œ</strong> <strong>AI</strong> <strong>å¯¹è¯</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">Plaintext
è¾“å…¥ï¼š<span class="hljs-string">"å¸®æˆ‘å¯¹æ¯”DuckDBå’ŒSparkå¤„ç†ç”µå•†ç”¨æˆ·è¡Œä¸ºæ•°æ®çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å°æ–‡ä»¶åœºæ™¯"</span>
</code></pre>
<p>Agentic AIèƒ½å¤Ÿä»è¿™ä¸€å¥è¯ä¸­æå–å…³é”®ä¿¡æ¯ï¼Œä¾‹å¦‚æŠ€æœ¯å¯¹æ¯”éœ€æ±‚ã€ä¸šåŠ¡åœºæ™¯ã€æ•°æ®ç‰¹ç‚¹ã€æŒ‡æ ‡å…³æ³¨ç‚¹ç­‰ç­‰ã€‚</p>
<p><strong>2. æ™ºèƒ½éœ€æ±‚è§£æ</strong></p>
<p>KiroåŸºäºå¤§æ¨¡å‹çš„æ¨ç†èƒ½åŠ›ï¼Œä¸“æ³¨äºç†è§£å’Œåˆ†è§£è‡ªç„¶è¯­è¨€éœ€æ±‚ï¼Œè¯†åˆ«å…³é”®æŠ€æœ¯è¦ç´ å’Œä¸šåŠ¡æ„å›¾ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">Plaintext
æ™ºèƒ½è§£æç»“æœï¼š
â”œâ”€â”€ æ ¸å¿ƒä»»åŠ¡è¯†åˆ«
â”‚   â”œâ”€â”€ ä¸»è¦ç›®æ ‡ï¼šæ€§èƒ½å¯¹æ¯”åˆ†æ
â”‚   â”œâ”€â”€ å¯¹æ¯”å¯¹è±¡ï¼šDuckDB vs Spark
â”‚   â””â”€â”€ å†³ç­–æ”¯æŒï¼šæŠ€æœ¯é€‰å‹å»ºè®®
â”œâ”€â”€ ä¸šåŠ¡åœºæ™¯ç†è§£
â”‚   â”œâ”€â”€ æ•°æ®ç±»å‹ï¼šç”µå•†ç”¨æˆ·è¡Œä¸ºæ•°æ®
â”‚   â”œâ”€â”€ æ•°æ®ç‰¹ç‚¹ï¼šå°æ–‡ä»¶åˆ†å¸ƒå¼å­˜å‚¨
â”‚   â””â”€â”€ å¤„ç†éœ€æ±‚ï¼šå»é‡ã€èšåˆã€æ¼æ–—åˆ†æ
â”œâ”€â”€ æŠ€æœ¯å·®å¼‚è¯†åˆ«
â”‚   â”œâ”€â”€ DuckDBç‰¹ç‚¹ï¼šå•æœºæ¶æ„ï¼Œåˆ—å¼å­˜å‚¨ï¼Œå‘é‡åŒ–æ‰§è¡Œ
â”‚   â”œâ”€â”€ Sparkç‰¹ç‚¹ï¼šåˆ†å¸ƒå¼æ¶æ„ï¼Œå†…å­˜è®¡ç®—ï¼Œä»»åŠ¡è°ƒåº¦
â”‚   â””â”€â”€ å…³é”®å·®å¼‚ï¼šå°æ–‡ä»¶åœºæ™¯ä¸‹çš„å¯åŠ¨å¼€é”€å·®å¼‚
â””â”€â”€ æ€§èƒ½å…³æ³¨ç‚¹
<span class="hljs-code">    â”œâ”€â”€ æ‰§è¡Œæ—¶é—´ï¼šç«¯åˆ°ç«¯å¤„ç†æ—¶é—´ï¼›æ ¸å¿ƒè®¡ç®—ä»»åŠ¡å¤„ç†æ—¶é—´
    â”œâ”€â”€ èµ„æºåˆ©ç”¨ï¼šCPUã€å†…å­˜ä½¿ç”¨æ•ˆç‡
    â””â”€â”€ æˆæœ¬æ•ˆç›Šï¼šDPUæ¶ˆè€—å’Œå¤„ç†èƒ½åŠ›
</span></code></pre>
<p><strong>3. è‡ªåŠ¨åŒ–æ–¹æ¡ˆç”Ÿæˆï¼ˆ</strong> <strong>Specs</strong> <strong>è§„èŒƒé©±åŠ¨å¼€å‘åŠŸèƒ½ï¼‰</strong></p>
<p>åŸºäºéœ€æ±‚è§£æç»“æœï¼ŒKiroçš„è‡ªä¸»å†³ç­–æ¶æ„è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„æŠ€æœ¯å®ç°æ–¹æ¡ˆï¼Œè¿™æ­£æ˜¯Kiro SpecsåŠŸèƒ½çš„ä½“ç°ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">Plaintext
Kiroç”Ÿæˆçš„å®Œæ•´Specsæ–¹æ¡ˆï¼š

Requirementsï¼ˆéœ€æ±‚è§„èŒƒï¼‰ï¼š
<span class="hljs-deletion">- ç”¨æˆ·æ•…äº‹ï¼šä½œä¸ºæ•°æ®å·¥ç¨‹å¸ˆï¼Œæˆ‘éœ€è¦ç§‘å­¦å¯¹æ¯”ä¸¤ç§å¼•æ“çš„æ€§èƒ½è¡¨ç°</span>
<span class="hljs-deletion">- éªŒæ”¶æ ‡å‡†ï¼šè·å¾—å¯é‡åŒ–ã€å¯é‡å¤çš„æ€§èƒ½å¯¹æ¯”æ•°æ®</span>
<span class="hljs-deletion">- æˆåŠŸæŒ‡æ ‡ï¼šåŸºäºçœŸå®æ•°æ®å¾—å‡ºå®¢è§‚çš„æŠ€æœ¯é€‰å‹å»ºè®®</span>

Designï¼ˆæŠ€æœ¯æ¶æ„ï¼‰ï¼š
<span class="hljs-deletion">- æµ‹è¯•ç¯å¢ƒï¼šAmazon Glue cn-northwest-1åŒºåŸŸï¼Œç»Ÿä¸€DPUé…ç½®</span>
<span class="hljs-deletion">- æ•°æ®è®¾è®¡ï¼š38ä¸ªParquetå°æ–‡ä»¶ï¼Œå…±3780æ¡ç”µå•†è¡Œä¸ºè®°å½•</span>
<span class="hljs-deletion">- ç›‘æ§ä½“ç³»ï¼šåŒé‡æŒ‡æ ‡æ”¶é›†ï¼ˆäºšé©¬é€Šäº‘ç§‘æŠ€åŸç”Ÿ + è‡ªå®šä¹‰ä¸šåŠ¡æŒ‡æ ‡ï¼‰</span>
<span class="hljs-deletion">- å…¬å¹³æ€§ä¿è¯ï¼šç›¸åŒç¯å¢ƒã€ç­‰ä»·é€»è¾‘ã€ç»Ÿä¸€æ•°æ®æº</span>

Implementationï¼ˆæ‰§è¡Œè®¡åˆ’ï¼‰ï¼š
<span class="hljs-deletion">- [ ] æµ‹è¯•æ•°æ®å‡†å¤‡ï¼šç”Ÿæˆæ ‡å‡†åŒ–çš„ç”µå•†ç”¨æˆ·è¡Œä¸ºæ•°æ®é›†</span>
<span class="hljs-deletion">- [ ] è„šæœ¬å¼€å‘ï¼šåˆ›å»ºDuckDBå’ŒSparkçš„ç­‰ä»·å¤„ç†è„šæœ¬</span>
<span class="hljs-deletion">- [ ] ç¯å¢ƒé…ç½®ï¼šè®¾ç½®Amazon Glueä½œä¸šå’ŒIAMæƒé™</span>
<span class="hljs-deletion">- [ ] ç›‘æ§éƒ¨ç½²ï¼šé…ç½®CloudWatchæŒ‡æ ‡æ”¶é›†å’Œå®æ—¶ç›‘æ§</span>
<span class="hljs-deletion">- [ ] æµ‹è¯•æ‰§è¡Œï¼šè‡ªåŠ¨åŒ–è¿è¡Œå¹¶æ”¶é›†æ€§èƒ½æ•°æ®</span>
<span class="hljs-deletion">- [ ] ç»“æœåˆ†æï¼šç”Ÿæˆå¯¹æ¯”æŠ¥å‘Šå’ŒæŠ€æœ¯é€‰å‹å»ºè®®</span>
</code></pre>
<p><strong>4. è‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆ</strong></p>
<p>åŸºäºå‰é¢çš„éœ€æ±‚ç†è§£å’Œæ–¹æ¡ˆè®¾è®¡ï¼ŒKiroè‡ªåŠ¨ç”Ÿæˆäº†å®Œæ•´çš„æ€§èƒ½æµ‹è¯•ä»£ç ã€‚åŒ…æ‹¬é«˜æ•ˆçš„SQLæŸ¥è¯¢ä»£ç å’Œå®Œæ•´æ€§èƒ½æŒ‡æ ‡æ”¶é›†ï¼Œä»¥åŠSparkç‰ˆæœ¬çš„ç­‰ä»·ä¸šåŠ¡é€»è¾‘å®ç°ã€‚ä¸ºç¡®ä¿æµ‹è¯•çš„å…¬å¹³æ€§ï¼ŒDuckDBå’ŒSparkä»£ç å‡ä½¿ç”¨ç›¸åŒçš„æ•°æ®è¾“å…¥ã€ç­‰ä»·çš„å¤„ç†é€»è¾‘å’Œç»Ÿä¸€çš„ç¯å¢ƒé…ç½®ã€‚</p>
<p>ç›‘æ§æŒ‡æ ‡è®¾è®¡æ–¹é¢ï¼Œé‡‡ç”¨åŒé‡ç›‘æ§ç­–ç•¥ï¼Œæ—¢æ”¶é›†Amazon GlueåŸç”ŸæŒ‡æ ‡ï¼ˆCPUã€å†…å­˜ã€æ‰§è¡Œæ—¶é—´ç­‰ç³»ç»Ÿçº§æ€§èƒ½ï¼‰ï¼Œä¹Ÿå‘å¸ƒè‡ªå®šä¹‰ä¸šåŠ¡æŒ‡æ ‡ï¼ˆå»é‡è€—æ—¶ã€èšåˆè®¡ç®—ã€å¤„ç†è®°å½•æ•°ç­‰åº”ç”¨çº§æ€§èƒ½ï¼‰ï¼Œç¡®ä¿å¤šä¸ªç»´åº¦çš„å…¨é¢æ€§èƒ½åˆ†æã€‚</p>
<p><strong>5. å®æ—¶åä½œä¸é—®é¢˜è°ƒè¯•</strong></p>
<p>Kiroä¾ç…§ç¬¬3æ­¥äº§å‡ºçš„æ‰§è¡Œè®¡åˆ’ï¼Œå‘ç”¨æˆ·ç¡®è®¤ï¼Œå¾—åˆ°ç”¨æˆ·è®¸å¯åé€æ­¥ç¬¬4æ­¥äº§å‡ºçš„ä»£ç ã€‚ä¸­é—´æ‰§è¡Œæœ‰ä»»ä½•é—®é¢˜ï¼Œç”¨æˆ·å‡å¯é€šè¿‡è‡ªç„¶è¯­è¨€å¯¹è¯çš„æ–¹å¼å»è°ƒæ•´ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">Plaintext
Kiroï¼šSparkä½œä¸šæ­£åœ¨è¿è¡Œ...é¢„è®¡éœ€è¦2-3åˆ†é’Ÿ

ç”¨æˆ·ï¼šä¸ºä»€ä¹ˆSparkéœ€è¦è¿™ä¹ˆé•¿æ—¶é—´ï¼Ÿæ•°æ®é‡ä¸å¤§å•Š

Kiroï¼šè®©æˆ‘å®æ—¶æŸ¥çœ‹æ‰§è¡Œæƒ…å†µ...

å®æ—¶åˆ†æï¼š
<span class="hljs-deletion">- é›†ç¾¤å¯åŠ¨æ—¶é—´ï¼š90ç§’ï¼ˆå æ€»æ—¶é—´59%ï¼‰</span>
<span class="hljs-deletion">- å®é™…æ•°æ®å¤„ç†ï¼š62ç§’</span>
<span class="hljs-deletion">- å¯¹äºå°æ•°æ®é›†ï¼Œå¯åŠ¨å¼€é”€ç¡®å®å¾ˆå¤§</span>

ç”¨æˆ·ï¼šé‚£DuckDBå‘¢ï¼Ÿ

Kiroï¼šDuckDBä½œä¸šå·²ç»å®Œæˆäº†ï¼æ€»å…±44ç§’ï¼š
<span class="hljs-deletion">- æ— å¯åŠ¨å¼€é”€ï¼Œç›´æ¥å¼€å§‹å¤„ç†</span>
<span class="hljs-deletion">- å»é‡æ“ä½œï¼š0.69ç§’ï¼ˆæ¯”Sparkå¿«97%ï¼‰</span>
<span class="hljs-deletion">- è¿™å°±æ˜¯å•æœºæ¶æ„çš„ä¼˜åŠ¿</span>

ç”¨æˆ·ï¼šå·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿèƒ½ç¡®è®¤æµ‹è¯•çš„å…¬å¹³æ€§å—ï¼Ÿ

Kiroï¼šå…¬å¹³ï¼Œè®©æˆ‘å±•ç¤ºå¯¹æ¯”æ•°æ®ï¼š

å…¬å¹³æ€§ä¿è¯ï¼š
<span class="hljs-deletion">- ç›¸åŒçš„Amazon Glueç¯å¢ƒï¼ˆcn-northwest-1ï¼‰</span>
<span class="hljs-deletion">- ç›¸åŒçš„DPUé…ç½®ï¼ˆ2 DPUï¼‰</span>
<span class="hljs-deletion">- ç­‰ä»·çš„å¤„ç†é€»è¾‘ï¼ˆæˆ‘ç”Ÿæˆçš„ä»£ç ç¡®ä¿åŠŸèƒ½ä¸€è‡´ï¼‰</span>
<span class="hljs-deletion">- ç›¸åŒçš„æµ‹è¯•æ•°æ®ï¼ˆ38ä¸ªParquetæ–‡ä»¶ï¼Œ3780æ¡è®°å½•ï¼‰</span>
</code></pre>
<p><strong>6. æ‰§è¡Œè®¡åˆ’å®Œæˆ</strong></p>
<p><strong>7. æˆæœå¼€æºï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">Plaintext
ç”¨æˆ·ï¼šå¤ªæ£’äº†ï¼Œé€‰å‹æŠ¥å‘Šå¾ˆå®Œå–„ï¼è¿™å¥—æµ‹è¯•æ–¹æ³•èƒ½å¼€æºç»™å…¶ä»–å¼€å‘è€…ä½¿ç”¨å—ï¼Ÿ

å½“ç„¶ï¼è®©æˆ‘æ‰§è¡Œå®Œæ•´çš„å¼€æºé¡¹ç›®å‡†å¤‡ï¼š

å¼€æºé¡¹ç›®ï¼šagentic-ai-glue-performance-comparison
â”œâ”€â”€ æ ¸å¿ƒæµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ DuckDBæ€§èƒ½æµ‹è¯•è„šæœ¬ï¼ˆå«äºšé©¬é€Šäº‘ç§‘æŠ€å‡­è¯æ™ºèƒ½é…ç½®ï¼‰
â”‚   â”œâ”€â”€ Sparkç­‰ä»·æµ‹è¯•è„šæœ¬ï¼ˆç¡®ä¿å…¬å¹³å¯¹æ¯”ï¼‰
â”‚   â””â”€â”€ åŒé‡ç›‘æ§ç³»ç»Ÿï¼ˆ<span class="hljs-number">22</span>ä¸ªç»´åº¦æ€§èƒ½æŒ‡æ ‡ï¼‰
â”œâ”€â”€ ä¸€é”®éƒ¨ç½²å·¥å…·
â”‚   â”œâ”€â”€ Amazon Glueä½œä¸šè‡ªåŠ¨åˆ›å»º
â”‚   â”œâ”€â”€ IAMæƒé™æ™ºèƒ½é…ç½®
â”‚   â””â”€â”€ æµ‹è¯•æ•°æ®è‡ªåŠ¨ç”Ÿæˆ
â”œâ”€â”€ å¯è§†åŒ–åˆ†æ
â”‚   â”œâ”€â”€ CloudWatchç›‘æ§é¢æ¿
â”‚   â”œâ”€â”€ æ€§èƒ½å¯¹æ¯”æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â””â”€â”€ æŠ€æœ¯é€‰å‹å†³ç­–çŸ©é˜µ
â””â”€â”€ å®Œæ•´æ–‡æ¡£
    â”œâ”€â”€ å¿«é€Ÿå¼€å§‹æŒ‡å—
    â”œâ”€â”€ é…ç½®å‚æ•°è¯´æ˜
    â””â”€â”€ æ•…éšœæ’é™¤æ‰‹å†Œ

ğŸ”— GitHub: https:<span class="hljs-comment">//github.com/aws-samples/agentic-ai-glue-performance-comparison</span>
</code></pre>
<p>è¿™ä¸ªæ¡ˆä¾‹å±•ç¤ºäº†Agentic AIçš„ç«¯åˆ°ç«¯æ‰§è¡Œèƒ½åŠ›ã€‚ä»æœ€åˆçš„ä¸€å¥è¯éœ€æ±‚â€å¯¹æ¯”DuckDBå’ŒSparkå¤„ç†ç”µå•†ç”¨æˆ·è¡Œä¸ºæ•°æ®çš„æ€§èƒ½â€ï¼Œåˆ°æœ€ç»ˆäº¤ä»˜æµ‹è¯•æŠ¥å‘Šç»™å‡ºé€‰å‹å»ºè®®ï¼Œå†åˆ°è´¡çŒ®å®Œæ•´çš„å¼€æºé¡¹ç›®ä»£ç ï¼Œæ•´ä¸ªè¿‡ç¨‹ä½“ç°äº†Agentic AIå·¥å…·ä»ç†è§£éœ€æ±‚åˆ°ä»·å€¼åˆ›é€ çš„å®Œæ•´é—­ç¯ã€‚</p>
<h2 data-id="heading-8"><strong>4. Agentic AI</strong> <strong>ç”Ÿæˆçš„æµ‹è¯•æŠ¥å‘Šä¸é€‰å‹å»ºè®®</strong></h2>
<p>ç»è¿‡å®Œæ•´çš„æµ‹è¯•æ‰§è¡Œï¼ŒKiroåŸºäºæ”¶é›†åˆ°çš„22ä¸ªç»´åº¦æ€§èƒ½æ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆäº†è¯¦ç»†çš„æŠ€æœ¯é€‰å‹æŠ¥å‘Šã€‚è¿™ä»½æŠ¥å‘Šä¸ä»…åŒ…å«å®¢è§‚çš„æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼Œæ›´é‡è¦çš„æ˜¯æä¾›äº†åŸºäºä¸šåŠ¡åœºæ™¯çš„æ™ºèƒ½é€‰å‹å»ºè®®ã€‚</p>
<h3 data-id="heading-9">4.1Â <strong>æ€§èƒ½æµ‹è¯•ç»“æœå¯¹æ¯”</strong></h3>
<p><strong>æ ¸å¿ƒæ€§èƒ½æŒ‡æ ‡å¯¹æ¯”</strong>ï¼š</p>






















































<table><thead><tr><th>æ€§èƒ½ç»´åº¦</th><th>Sparkè¡¨ç°</th><th>DuckDBè¡¨ç°</th><th>æ€§èƒ½å·®å¼‚</th><th>å…³é”®æ´å¯Ÿ</th></tr></thead><tbody><tr><td><strong>æ€»æ‰§è¡Œæ—¶é—´</strong></td><td>67.77ç§’</td><td>6.48ç§’</td><td><strong>DuckDB</strong> <strong>å¿«</strong> <strong>90.4%</strong></td><td>é©å‘½æ€§çš„æ€§èƒ½ä¼˜åŠ¿</td></tr><tr><td><strong>æ•°æ®å»é‡æ—¶é—´</strong></td><td>26.39ç§’</td><td>0.69ç§’</td><td><strong>DuckDB</strong> <strong>å¿«</strong> <strong>97.4%</strong></td><td>å•æœºæ¶æ„é¿å…ç½‘ç»œå¼€é”€</td></tr><tr><td><strong>å¹³å‡å†…å­˜ä½¿ç”¨</strong></td><td>1761MB</td><td>1392MB</td><td><strong>DuckDB</strong> <strong>èŠ‚çœ</strong> <strong>21.0%</strong></td><td>æ›´é«˜æ•ˆçš„å†…å­˜ç®¡ç†</td></tr><tr><td><strong>å¹³å‡</strong> <strong>CPU</strong> <strong>ä½¿ç”¨</strong></td><td>47.3%</td><td>47.9%</td><td><strong>ç›¸è¿‘</strong></td><td>CPUåˆ©ç”¨ç‡ç›¸å½“</td></tr><tr><td><strong>æ•°æ®ååé‡</strong></td><td>55.8æ¡/ç§’</td><td>583.3æ¡/ç§’</td><td><strong>DuckDB</strong> <strong>å¿«</strong> <strong>945%</strong></td><td>å¤„ç†æ•ˆç‡å·¨å¤§æå‡</td></tr><tr><td><strong>æˆæœ¬æ•ˆç‡</strong></td><td>2 DPU Ã— 67.77ç§’</td><td>2 DPU Ã— 6.48ç§’</td><td><strong>DuckDB</strong> <strong>èŠ‚çœ</strong> <strong>90.4%</strong></td><td>ç›´æ¥è½¬åŒ–ä¸ºæˆæœ¬èŠ‚çº¦</td></tr></tbody></table>
<p><strong>è¯¦ç»†æ€§èƒ½åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-matlab" lang="matlab">Plaintext
ğŸ” Kiroçš„æ™ºèƒ½åˆ†ææŠ¥å‘Šï¼š

æ‰§è¡Œæ—¶é—´åˆ†è§£ï¼š
â”œâ”€â”€ Spark (<span class="hljs-number">67.77</span>ç§’æ€»è®¡)
â”‚   â”œâ”€â”€ æ•°æ®å¤„ç†: <span class="hljs-number">28.51</span>ç§’ (<span class="hljs-number">42.1</span><span class="hljs-comment">%)</span>
â”‚   â”œâ”€â”€ å»é‡å¤„ç†: <span class="hljs-number">26.39</span>ç§’ (<span class="hljs-number">38.9</span><span class="hljs-comment">%)</span>
â”‚   â”œâ”€â”€ æ•°æ®ç¼“å­˜: <span class="hljs-number">0.15</span>ç§’ (<span class="hljs-number">0.2</span><span class="hljs-comment">%)</span>
â”‚   â””â”€â”€ å…¶ä»–æ“ä½œ: <span class="hljs-number">12.72</span>ç§’ (<span class="hljs-number">18.8</span><span class="hljs-comment">%)</span>
â”‚
â””â”€â”€ DuckDB (<span class="hljs-number">6.48</span>ç§’æ€»è®¡)
    â”œâ”€â”€ åˆå§‹åŒ–æ—¶é—´: <span class="hljs-number">3.47</span>ç§’ (<span class="hljs-number">53.5</span><span class="hljs-comment">%)</span>
    â”œâ”€â”€ æ‰¹å¤„ç†æ—¶é—´: <span class="hljs-number">2.67</span>ç§’ (<span class="hljs-number">41.2</span><span class="hljs-comment">%)</span>
    â”œâ”€â”€ å»é‡å¤„ç†: <span class="hljs-number">0.69</span>ç§’ (<span class="hljs-number">10.6</span><span class="hljs-comment">%) â† æ˜¾è‘—ä¼˜åŠ¿</span>
    â”œâ”€â”€ æ–‡ä»¶åˆå¹¶: <span class="hljs-number">0.02</span>ç§’ (<span class="hljs-number">0.4</span><span class="hljs-comment">%)</span>
    â””â”€â”€ å…¶ä»–æ£€æŸ¥: <span class="hljs-number">0.03</span>ç§’ (<span class="hljs-number">0.5</span><span class="hljs-comment">%)</span>

ğŸ’¡ å…³é”®å‘ç°ï¼š
- DuckDBæ€»æ‰§è¡Œæ—¶é—´æ¯”Sparkå¿«<span class="hljs-number">90.4</span><span class="hljs-comment">%ï¼Œæ€§èƒ½ä¼˜åŠ¿å·¨å¤§</span>
- DuckDBçš„å»é‡æ“ä½œæ¯”Sparkå¿«<span class="hljs-number">97.4</span><span class="hljs-comment">%ï¼Œä½“ç°äº†åˆ—å¼å­˜å‚¨ä¼˜åŠ¿</span>
- æ•°æ®ååé‡æå‡<span class="hljs-number">945</span><span class="hljs-comment">%ï¼Œä»55.8æ¡/ç§’æå‡åˆ°583.3æ¡/ç§’</span>
- å³ä½¿åŒ…å«åˆå§‹åŒ–å¼€é”€ï¼ŒDuckDBä»ç„¶å…·æœ‰å‹å€’æ€§ä¼˜åŠ¿
</code></pre>
<h3 data-id="heading-10">4.2Â <strong>Agentic AI</strong> <strong>çš„æ™ºèƒ½é€‰å‹å»ºè®®</strong></h3>
<p>åŸºäºæµ‹è¯•æ•°æ®å’Œä¸šåŠ¡åœºæ™¯åˆ†æï¼ŒKiroæä¾›äº†ä»¥ä¸‹æ™ºèƒ½é€‰å‹å»ºè®®ï¼š</p>
<p><strong>æ¨èä½¿ç”¨</strong> <strong>DuckDB</strong> <strong>çš„åœºæ™¯</strong></p>
<p><strong>ğŸ¯</strong> <strong>æœ€ä½³é€‚ç”¨åœºæ™¯</strong>ï¼šDuckDBåœ¨å¤„ç†å•æœºå¯å¤„ç†çš„å°æ•°æ®é‡åœºæ™¯ä¸­è¡¨ç°å“è¶Šï¼Œç‰¹åˆ«é€‚åˆå°æ–‡ä»¶å¤šä¸”éœ€è¦é¢‘ç¹å»é‡çš„æ•°æ®å¤„ç†ä»»åŠ¡ã€‚å¯¹äºéœ€è¦äº¤äº’å¼æŸ¥è¯¢å’Œå¿«é€Ÿè¿­ä»£çš„ä¸šåŠ¡åœºæ™¯ï¼Œä»¥åŠå¯¹ä½å»¶è¿Ÿã€å¿«é€Ÿå“åº”æœ‰è¦æ±‚çš„åº”ç”¨ï¼ŒDuckDBéƒ½èƒ½æä¾›æ˜¾è‘—çš„æ€§èƒ½ä¼˜åŠ¿ã€‚åŒæ—¶ï¼Œåœ¨æˆæœ¬æ•æ„Ÿçš„é¡¹ç›®ä¸­ï¼ŒDuckDBèƒ½å¤Ÿæœ‰æ•ˆæ§åˆ¶è®¡ç®—æˆæœ¬ã€‚éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œç°ä»£æœåŠ¡å™¨çš„â€˜å•æœºâ€™èƒ½åŠ›å·²éå¸¸å¼ºå¤§ï¼Œå¯ä»¥é…å¤‡æ•°ç™¾GBç”šè‡³TBçº§åˆ«çš„å†…å­˜å’Œé«˜é€ŸNVMe SSDã€‚åœ¨è¿™ç§ç¡¬ä»¶ç¯å¢ƒä¸‹ï¼ŒDuckDBèƒ½å¤Ÿè½»æ¾å¤„ç†æ•°åäº¿è¡Œã€æ•°ç™¾GBç”šè‡³TBçº§åˆ«çš„ä¸­ç­‰è§„æ¨¡æ•°æ®é›†ï¼Œå…¶å¤„ç†èŒƒå›´è¿œè¶…ä¼ ç»Ÿè§‚å¿µä¸­çš„â€˜å°æ•°æ®â€™ã€‚</p>
<p><strong>æ¨èä½¿ç”¨</strong> <strong>Spark</strong> <strong>çš„åœºæ™¯</strong></p>
<p><strong>ğŸ¯ Spark</strong> <strong>ä»ç„¶æœ€ä¼˜çš„åœºæ™¯</strong>ï¼šå½“é¢å¯¹å¤§æ•°æ®é‡ä¸”éœ€è¦åˆ†å¸ƒå¼å¤„ç†çš„å¤æ‚åœºæ™¯æ—¶ï¼ŒSparkä¾ç„¶æ˜¯æœ€ä½³é€‰æ‹©ã€‚ç‰¹åˆ«æ˜¯åœ¨æ„å»ºå¤æ‚çš„æ•°æ®ç®¡é“å’Œæœºå™¨å­¦ä¹ å·¥ä½œæµæ—¶ï¼ŒSparkä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿç»„ä»¶æä¾›äº†æ— å¯æ›¿ä»£çš„ä»·å€¼ã€‚å¯¹äºæœ‰é«˜å¯ç”¨æ€§å’Œä¼ä¸šçº§æ²»ç†è¦æ±‚çš„å…³é”®ä¸šåŠ¡ç³»ç»Ÿï¼ŒSparkçš„æˆç†Ÿåº¦å’Œç¨³å®šæ€§ä»ç„¶æ˜¯é¦–é€‰ã€‚</p>
<p><strong>æ··åˆæ¶æ„ç­–ç•¥</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">Plaintext
ä¼ä¸šæ•°æ®å¤„ç†æ¶æ„å»ºè®®ï¼š
â”œâ”€â”€ äº¤äº’å±‚ â†’ DuckDB
â”‚   â”œâ”€â”€ æ—¥æŠ¥ç”Ÿæˆå’Œä¸´æ—¶æŸ¥è¯¢
â”‚   â”œâ”€â”€ æ•°æ®æ¢ç´¢å’ŒåŸå‹å¼€å‘
â”‚   â””â”€â”€ å°è§„æ¨¡ETLå’Œæ•°æ®æ¸…æ´—
â”‚
â””â”€â”€ æ‰¹å¤„ç†å±‚ â†’ Spark
<span class="hljs-code">    â”œâ”€â”€ å¤§è§„æ¨¡æ•°æ®å¤„ç†
    â”œâ”€â”€ å¤æ‚çš„æœºå™¨å­¦ä¹ ç®¡é“
    â””â”€â”€ ä¼ä¸šçº§æ•°æ®æ²»ç†
</span></code></pre>
<h2 data-id="heading-11"><strong>5. æ€»ç»“ï¼š</strong> <strong>Agentic AI</strong> <strong>é‡æ–°å®šä¹‰æŠ€æœ¯é€‰å‹</strong></h2>
<p>é€šè¿‡è¿™æ¬¡DuckDB vs Sparkçš„å®Œæ•´æŠ€æœ¯é€‰å‹å®æˆ˜ï¼Œæˆ‘ä»¬æ·±åˆ»ä½“éªŒäº†Agentic AIå¦‚ä½•ä»æ ¹æœ¬ä¸Šæ”¹å˜æŠ€æœ¯å†³ç­–çš„æ–¹å¼ã€‚è¿™æ¬¡å®æˆ˜å®Œç¾éªŒè¯äº†Agentic AIæ•°æ®å¼€å‘çš„ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šAIè‡ªä¸»ç†è§£ä¸šåŠ¡éœ€æ±‚å¹¶åˆ¶å®šå®Œæ•´ç­–ç•¥ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€äº¤äº’å¤§å¤§é™ä½æŠ€æœ¯é€‰å‹é—¨æ§›ï¼Œå®ç°ä»éœ€æ±‚ç†è§£åˆ°å¼€æºé¡¹ç›®äº¤ä»˜çš„ç«¯åˆ°ç«¯æ™ºèƒ½æµç¨‹ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒAIåŸºäº25ä¸ªç»´åº¦çš„é‡åŒ–æ•°æ®è¿›è¡Œå®¢è§‚å†³ç­–ï¼Œå‘ç°DuckDBåœ¨å°æ–‡ä»¶å¤„ç†åœºæ™¯ä¸‹æ¯”Sparkå¿«90.4%ï¼Œå°†ä¼ ç»Ÿ2-3å‘¨çš„é€‰å‹å‘¨æœŸç¼©çŸ­åˆ°3å¤©ï¼Œæ•ˆç‡æå‡80%ï¼Œæ ‡å¿—ç€æˆ‘ä»¬æ­£å¼è¿ˆå…¥AIåŸç”Ÿæ•°æ®å¼€å‘çš„æ–°æ—¶ä»£ã€‚</p>
<h2 data-id="heading-12"><strong>6. ç³»åˆ—æ–‡ç« å¯¼èˆª</strong></h2>
<p><strong>ç¬¬</strong> <strong>1</strong> <strong>ç¯‡ï¼š</strong> ã€Agentic AI for Dataç³»åˆ—ã€‘å¼€å‘æ–°èŒƒå¼ï¼šAIé©±åŠ¨çš„æ•°æ®é©å‘½</p>
<p><strong>ç¬¬</strong> <strong>2</strong> <strong>ç¯‡ï¼š</strong> ã€Agentic AI for Dataç³»åˆ—ã€‘Kiroå®æˆ˜ï¼šDuckDB vs SparkæŠ€æœ¯é€‰å‹å…¨æµç¨‹ï¼ˆæœ¬ç¯‡ï¼‰</p>
<h2 data-id="heading-13"><strong>7. å‚è€ƒèµ„æ–™</strong></h2>
<p>[1]<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Fblogs%2Fchina%2Fwhen-pyiceberg-and-duckdb-meet-aws-s3-tables-building-an-open-source-dream-team-for-serverless-data-lakes%2F" target="_blank" title="https://aws.amazon.com/cn/blogs/china/when-pyiceberg-and-duckdb-meet-aws-s3-tables-building-an-open-source-dream-team-for-serverless-data-lakes/" ref="nofollow noopener noreferrer">å½“ PyIceberg å’Œ DuckDB é‡è§ Amazon S3 Tablesï¼šæ‰“é€  Serverless æ•°æ®æ¹–â€å¼€æºæ¢¦å¹»ç»„åˆâ€</a></p>
<p>[2]<a href="https://link.juejin.cn?target=https%3A%2F%2Fduckdb.org%2F2025%2F03%2F14%2Fpreview-amazon-s3-tables.html" target="_blank" title="https://duckdb.org/2025/03/14/preview-amazon-s3-tables.html" ref="nofollow noopener noreferrer">DuckDBé›†æˆS3 Tables</a></p>
<p>[3]<a href="https://link.juejin.cn?target=https%3A%2F%2Fkiro-community.github.io%2Fbook-of-kiro%2F" target="_blank" title="https://kiro-community.github.io/book-of-kiro/" ref="nofollow noopener noreferrer">KiroåŠŸèƒ½å®Œå…¨æŒ‡å—</a></p>
<p>*<strong>å‰è¿°ç‰¹å®šäºšé©¬é€Šäº‘ç§‘æŠ€ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ç›¸å…³çš„æœåŠ¡ç›®å‰åœ¨äºšé©¬é€Šäº‘ç§‘æŠ€æµ·å¤–åŒºåŸŸå¯ç”¨ã€‚äºšé©¬é€Šäº‘ç§‘æŠ€ä¸­å›½åŒºåŸŸç›¸å…³äº‘æœåŠ¡ç”±è¥¿äº‘æ•°æ®å’Œå…‰ç¯æ–°ç½‘è¿è¥ï¼Œå…·ä½“ä¿¡æ¯ä»¥ä¸­å›½åŒºåŸŸå®˜ç½‘ä¸ºå‡†ã€‚</strong></p>
<p><strong>æœ¬ç¯‡ä½œè€…</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23ea030b72644413bca8064b2419299b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa6ams6YCK5LqR5byA5Y-R6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871681&amp;x-signature=xrQPQ%2BDXRO8z1Iw9%2FRyW07YNFoU%3D" alt="2.webp" loading="lazy"/></p>
<blockquote>
<p>ğŸ”¥ æƒ³åˆ©ç”¨ç”Ÿæˆå¼AIå¼€å‘å·¥å…·è§£æ”¾åŒæ‰‹ï¼Œå´è‹¦äºåº”ç”¨æ•ˆæœä¸å¤Ÿå®Œå–„ã€æµç¨‹ä¸å¤Ÿè§„èŒƒï¼Ÿ</p>
<p>âœ¨ äºšé©¬é€Šäº‘ç§‘æŠ€ Kiro ç™»åœºï¼é‡‡ç”¨â€œè§„èŒƒé©±åŠ¨â€å¼€å‘ç†å¿µï¼Œç»“åˆ Agent Hooks è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œ1å°æ—¶è®©å°ç™½å˜èº«ç”Ÿäº§çº§æ¸¸æˆåˆ¶ä½œäººï¼</p>
<p>ğŸ”› é€Ÿæ¥äº‘ä¸Šæ¢ç´¢å®éªŒå®¤ï¼Œä½“éªŒ Kiro å¼€å‘ç‹¬ç«‹æ¸¸æˆï¼Œä»éœ€æ±‚åˆ°éƒ¨ç½²å…¨æŒæ¡ï¼</p>
<p>ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdev.amazoncloud.cn%2Fexperience%2Fcloudlab%3Fid%3D689ae2225c6c3e09c84f68d9%26visitfrom%3D3P_Juejintail_1209%26sc_medium%3Downed%26sc_campaign%3Dcloudlab%26sc_channel%3D3P_Juejintail_1209" target="_blank" title="https://dev.amazoncloud.cn/experience/cloudlab?id=689ae2225c6c3e09c84f68d9&amp;visitfrom=3P_Juejintail_1209&amp;sc_medium=owned&amp;sc_campaign=cloudlab&amp;sc_channel=3P_Juejintail_1209" ref="nofollow noopener noreferrer">ç‚¹å‡»è¿™é‡Œ</a>ï¼Œå³åˆ»å¼€å¯ AI å¼€å‘ä¹‹æ—…ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[std::stringè¯¦è§£]]></title>    <link>https://juejin.cn/post/7581408984416911379</link>    <guid>https://juejin.cn/post/7581408984416911379</guid>    <pubDate>2025-12-09T07:47:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581408984416911379" data-draft-id="7581428845683228715" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="std::stringè¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:47:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qwepoilkjasd"/> <meta itemprop="url" content="https://juejin.cn/user/318221180214507"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            std::stringè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/318221180214507/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qwepoilkjasd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:47:38.000Z" title="Tue Dec 09 2025 07:47:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¨é¢ä¸”ç³»ç»Ÿçš„ <code>std::string</code> çŸ¥è¯†æ¢³ç†ã€‚ä½œä¸ºä¸€å C++ å¼€å‘è€…ï¼Œä» C é£æ ¼å­—ç¬¦ä¸²è¿‡æ¸¡åˆ° <code>std::string</code> æ˜¯æå‡å¼€å‘æ•ˆç‡å’Œä»£ç å®‰å…¨æ€§çš„å…³é”®ä¸€æ­¥ã€‚</p>
<p>ä¸ºäº†å¸®åŠ©ä½ æ›´å¥½åœ°æ¶ˆåŒ–è¿™äº›æ¦‚å¿µï¼Œæˆ‘å°†è¿™äº›é›¶æ•£çš„çŸ¥è¯†ç‚¹é‡æ–°ç»„ç»‡æˆä¸€ä¸ª<strong>ç»“æ„åŒ–çš„å­¦ä¹ æŒ‡å—</strong>ï¼Œå¹¶è¡¥å……äº†ä¸€äº›ä½œä¸ºâ€œè¿‡æ¥äººâ€çš„ç»éªŒæ³¨è§£ï¼ˆBest Practicesï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. æ ¸å¿ƒæ¦‚å¿µï¼šä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ <code>std::string</code>ï¼Ÿ</h3>
<p>åœ¨ C è¯­è¨€ä¸­ï¼Œå­—ç¬¦ä¸²åªæ˜¯ä¸€ä¸ªä»¥ <code>\0</code> ç»“å°¾çš„å­—ç¬¦æ•°ç»„ã€‚è¿™ç§è®¾è®¡è™½ç„¶åº•å±‚ï¼Œä½†å¯¹äºå¤§å‹å¼€å‘æ¥è¯´æœ‰ä¸‰ä¸ªè‡´å‘½ä¼¤ï¼š</p>
<ol>
<li><strong>å†…å­˜ç®¡ç†ç—›è‹¦</strong>ï¼šéœ€è¦æ‰‹åŠ¨ <code>malloc</code>/<code>free</code>ï¼Œå®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>è¶Šç•Œé£é™©</strong>ï¼šä¸€ä¸å°å¿ƒå†™å…¥è¶…è¿‡æ•°ç»„é•¿åº¦çš„å­—ç¬¦ï¼Œç¨‹åºç›´æ¥å´©æºƒã€‚</li>
<li><strong>æ“ä½œç¹ç</strong>ï¼šæ‹¼æ¥ã€å¤åˆ¶éƒ½éœ€è¦è°ƒç”¨ <code>strcpy</code>, <code>strcat</code> ç­‰å‡½æ•°ï¼Œä¸”ä¸ç›´è§‚ã€‚</li>
</ol>
<p>std::string çš„æœ¬è´¨ï¼š</p>
<p>å®ƒæ˜¯ä¸€ä¸ªç±»ï¼ˆClassï¼‰ï¼Œå®ƒåƒä¸€ä¸ªæ™ºèƒ½å®¹å™¨ï¼Œå†…éƒ¨å°è£…äº†ä¸€ä¸ªåŠ¨æ€å¢é•¿çš„ char* æ•°ç»„ã€‚</p>
<ul>
<li><strong>è‡ªåŠ¨ç®¡ç†å†…å­˜</strong>ï¼šä½ åªç®¡ç”¨ï¼Œå®ƒè´Ÿè´£ç”³è¯·å’Œé‡Šæ”¾ã€‚</li>
<li><strong>é˜²å‘†è®¾è®¡</strong>ï¼šæä¾›äº† <code>at()</code> ç­‰æ–¹æ³•é˜²æ­¢è¶Šç•Œã€‚</li>
<li><strong>ä¸°å¯Œçš„æ¥å£</strong>ï¼šæŸ¥æ‰¾ã€æ›¿æ¢ã€æ‹¼æ¥å°±åƒæ“ä½œæ™®é€šå˜é‡ä¸€æ ·ç®€å•ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. æ„é€ ä¸èµ‹å€¼ï¼šå­—ç¬¦ä¸²çš„è¯ç”Ÿ</h3>
<h4 data-id="heading-2">æ„é€ å‡½æ•°ï¼ˆåˆå§‹åŒ–ï¼‰</h4>
<p>C++</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span>
using namespace <span class="hljs-built_in">std</span>;

<span class="hljs-built_in">string</span> s1;             <span class="hljs-comment">// é»˜è®¤æ„é€ ï¼šç©ºå­—ç¬¦ä¸² ""</span>
<span class="hljs-built_in">string</span> <span class="hljs-title function_">s2</span><span class="hljs-params">(<span class="hljs-string">"Hello"</span>)</span>;    <span class="hljs-comment">// Cé£æ ¼å­—ç¬¦ä¸²åˆå§‹åŒ–</span>
<span class="hljs-built_in">string</span> <span class="hljs-title function_">s3</span><span class="hljs-params">(s2)</span>;         <span class="hljs-comment">// æ‹·è´æ„é€ ï¼šs3 æ˜¯ s2 çš„å‰¯æœ¬</span>
<span class="hljs-built_in">string</span> <span class="hljs-title function_">s4</span><span class="hljs-params">(<span class="hljs-number">5</span>, <span class="hljs-string">'A'</span>)</span>;     <span class="hljs-comment">// å¡«å……æ„é€ ï¼šç”Ÿæˆ "AAAAA"</span>
</code></pre>
<h4 data-id="heading-3">èµ‹å€¼æ“ä½œ</h4>
<p>ç°ä»£ C++ æåŠ›æ¨èä½¿ç”¨ <code>=</code> å·ï¼Œå› ä¸ºå®ƒæœ€ç›´è§‚ã€‚<code>assign</code> å‡½æ•°é€šå¸¸ç”¨äºæ›´å¤æ‚çš„â€œéƒ¨åˆ†èµ‹å€¼â€åœºæ™¯ã€‚</p>
<p>C++</p>
<pre><code class="hljs language-ini" lang="ini">string s<span class="hljs-comment">;</span>
<span class="hljs-attr">s</span> = <span class="hljs-string">"Hello"</span><span class="hljs-comment">;           // èµ‹å€¼ C é£æ ¼å­—ç¬¦ä¸²</span>
<span class="hljs-attr">s</span> = s2<span class="hljs-comment">;                // èµ‹å€¼å¦ä¸€ä¸ª string å¯¹è±¡</span>
<span class="hljs-attr">s</span> = <span class="hljs-string">'c'</span><span class="hljs-comment">;               // èµ‹å€¼å•ä¸ªå­—ç¬¦</span>

// assign çš„ç‰¹æ®Šç”¨æ³•ï¼ˆäº†è§£å³å¯ï¼Œæ—¥å¸¸ç”¨çš„å°‘ï¼‰
s.assign("Hello World", 5)<span class="hljs-comment">; // å–å‰5ä¸ªå­—ç¬¦ -&gt; "Hello"</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">3. å­˜å–å­—ç¬¦ï¼šå®‰å…¨ä¸æ•ˆç‡çš„æƒè¡¡</h3>
<p>è¿™æ˜¯é¢è¯•å’Œå®æˆ˜ä¸­å¸¸è¢«é—®åˆ°çš„ç‚¹ï¼š<code>[]</code> å’Œ <code>at()</code> çš„åŒºåˆ«ã€‚</p>


























<table><thead><tr><th><strong>æ–¹å¼</strong></th><th><strong>è¯­æ³•</strong></th><th><strong>è¶Šç•Œåæœ</strong></th><th><strong>æ•ˆç‡</strong></th><th><strong>æ¨èåœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>ä¸‹æ ‡æ“ä½œç¬¦</strong></td><td><code>str[i]</code></td><td><strong>ç¨‹åºå´©æºƒ</strong> (æœªå®šä¹‰è¡Œä¸º)</td><td>é«˜ (æ— æ£€æŸ¥)</td><td>ç¡®å®šç´¢å¼•ä¸€å®šåˆæ³•æ—¶ (å¦‚å¾ªç¯å†…)</td></tr><tr><td><strong>at() æˆå‘˜å‡½æ•°</strong></td><td><code>str.at(i)</code></td><td><strong>æŠ›å‡ºå¼‚å¸¸</strong> (<code>out_of_range</code>)</td><td>ç¨ä½ (æœ‰æ£€æŸ¥)</td><td>ç´¢å¼•å¯èƒ½æ¥æºäºå¤–éƒ¨è¾“å…¥ï¼Œä¸ç¡®å®šæ˜¯å¦è¶Šç•Œæ—¶</td></tr></tbody></table>
<p><strong>å®æˆ˜ä»£ç ï¼š</strong></p>
<p>C++</p>
<pre><code class="hljs language-c" lang="c">try {
    <span class="hljs-built_in">string</span> s = <span class="hljs-string">"abc"</span>;
    <span class="hljs-comment">// cout &lt;&lt; s[100]; // å±é™©ï¼ç¨‹åºç›´æ¥æŒ‚æ‰</span>
    <span class="hljs-built_in">cout</span> &lt;&lt; s.at(<span class="hljs-number">100</span>); <span class="hljs-comment">// å®‰å…¨ï¼æŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥è¢« catch</span>
} catch (out_of_range&amp; e) {
    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"è¶Šç•Œå•¦: "</span> &lt;&lt; e.what() &lt;&lt; <span class="hljs-built_in">endl</span>;
}
</code></pre>
<hr/>
<h3 data-id="heading-5">4. å­—ç¬¦ä¸²ä¿®æ”¹ï¼šæ‹¼æ¥ã€æ’å…¥ä¸åˆ é™¤</h3>
<h4 data-id="heading-6">æ‹¼æ¥ (Concatenation)</h4>
<p>æœ€å¸¸ç”¨çš„å°±æ˜¯ <code>+=</code>ï¼Œç®€å•ç²—æš´ã€‚</p>
<p>C++</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-built_in">string</span> s = <span class="hljs-string">"I"</span>;
s += <span class="hljs-string">" love"</span>;  <span class="hljs-comment">// è¿½åŠ å­—ç¬¦ä¸²</span>
s += <span class="hljs-string">' '</span>;      <span class="hljs-comment">// è¿½åŠ å­—ç¬¦</span>
s += <span class="hljs-string">"C++"</span>;
<span class="hljs-comment">// ç»“æœ: "I love C++"</span>
</code></pre>
<h4 data-id="heading-7">æ’å…¥ (Insert) &amp; åˆ é™¤ (Erase)</h4>
<p>è¿™ä¸¤ä¸ªæ“ä½œä¼šç§»åŠ¨å†…å­˜ä¸­çš„æ•°æ®ï¼Œå¦‚æœå­—ç¬¦ä¸²å¾ˆé•¿ï¼Œé¢‘ç¹æ“ä½œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚</p>
<p>C++</p>
<pre><code class="hljs language-perl" lang="perl">string s = <span class="hljs-string">"Hello World"</span>;

<span class="hljs-regexp">//</span> æ’å…¥
s.insert(<span class="hljs-number">5</span>, <span class="hljs-string">" my"</span>); <span class="hljs-regexp">//</span> åœ¨ä¸‹æ ‡<span class="hljs-number">5</span>çš„ä½ç½®æ’å…¥ -&gt; <span class="hljs-string">"Hello my World"</span>

// åˆ é™¤
s.erase(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>);      <span class="hljs-regexp">//</span> ä»ä¸‹æ ‡<span class="hljs-number">5</span>å¼€å§‹ï¼Œåˆ é™¤<span class="hljs-number">3</span>ä¸ªå­—ç¬¦ (<span class="hljs-string">" my"</span>) -&gt; <span class="hljs-string">"Hello World"</span>
</code></pre>
<hr/>
<h3 data-id="heading-8">5. æŸ¥æ‰¾ (Find) ä¸ æ›¿æ¢ (Replace)</h3>
<h4 data-id="heading-9">æŸ¥æ‰¾çš„ç¥å™¨ï¼š<code>string::npos</code></h4>
<p><code>find</code> ç³»åˆ—å‡½æ•°å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›®æ ‡ï¼Œä¸ä¼šè¿”å› -1ï¼ˆè™½ç„¶æ‰“å°å‡ºæ¥åƒ -1ï¼‰ï¼Œè€Œæ˜¯è¿”å› <code>string::npos</code>ã€‚</p>
<ul>
<li>æœ¬è´¨ï¼š<code>npos</code> æ˜¯ <code>size_t</code> ç±»å‹çš„æœ€å¤§å€¼ï¼ˆå…¨ä¸º1çš„äºŒè¿›åˆ¶è¡¥ç ï¼‰ã€‚</li>
<li><strong>åˆ¤æ–­æ ‡å‡†</strong>ï¼š<code>if (str.find("abc") != string::npos) { ... }</code></li>
</ul>
<p>C++</p>
<pre><code class="hljs language-ini" lang="ini">string <span class="hljs-attr">s</span> = <span class="hljs-string">"abcdefg"</span><span class="hljs-comment">;</span>
int <span class="hljs-attr">pos</span> = s.find(<span class="hljs-string">"de"</span>)<span class="hljs-comment">;</span>
if (pos != string::npos) {
    cout &lt;&lt; "Found at: " &lt;&lt; pos &lt;&lt; endl<span class="hljs-comment">;</span>
}

// rfind æ˜¯ä»å³å¾€å·¦æ‰¾ï¼ˆRight Findï¼‰ï¼Œå¸¸ç”¨äºæ‰¾æ–‡ä»¶åç¼€å
string <span class="hljs-attr">file</span> = <span class="hljs-string">"test.txt.bak"</span><span class="hljs-comment">;</span>
int <span class="hljs-attr">lastDot</span> = file.rfind(<span class="hljs-string">'.'</span>)<span class="hljs-comment">; // æ‰¾åˆ°æœ€åä¸€ä¸ªç‚¹çš„ä½ç½®</span>
</code></pre>
<h4 data-id="heading-10">æ›¿æ¢ (Replace)</h4>
<p>C++</p>
<pre><code class="hljs language-perl" lang="perl">string s = <span class="hljs-string">"Hello World"</span>;
<span class="hljs-regexp">//</span> ä»ä½ç½® <span class="hljs-number">6</span> å¼€å§‹ï¼Œå°†åé¢çš„ <span class="hljs-number">5</span> ä¸ªå­—ç¬¦æ›¿æ¢ä¸º <span class="hljs-string">"C++"</span>
s.replace(<span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-string">"C++"</span>); <span class="hljs-regexp">//</span> -&gt; <span class="hljs-string">"Hello C++"</span>
</code></pre>
<hr/>
<h3 data-id="heading-11">6. ç±»å‹è½¬æ¢ï¼šC++ ä¸ C çš„æ¡¥æ¢</h3>
<p>è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“è¸©å‘çš„åœ°æ–¹ã€‚</p>
<h4 data-id="heading-12"><code>string</code> è½¬ <code>const char*</code></h4>
<p>æœ‰äº›è€çš„ C è¯­è¨€ APIï¼ˆæ¯”å¦‚ç³»ç»Ÿå‡½æ•° <code>open</code>, <code>printf</code>ï¼‰åªæ¥å— <code>char*</code>ï¼Œä¸æ¥å— <code>string</code>ã€‚</p>
<p>C++</p>
<pre><code class="hljs language-ini" lang="ini">string <span class="hljs-attr">s</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
// const char* <span class="hljs-attr">p</span> = s<span class="hljs-comment">; // âŒ é”™è¯¯ï¼Œä¸èƒ½ç›´æ¥è½¬</span>
const char* <span class="hljs-attr">p</span> = s.c_str()<span class="hljs-comment">; // âœ… æ­£ç¡®</span>

// âš ï¸ è­¦å‘Šï¼šåƒä¸‡ä¸è¦ä¿å­˜ c_str() è¿”å›çš„æŒ‡é’ˆå¤ªä¹…ï¼
// ä¸€æ—¦ s è¢«ä¿®æ”¹æˆ–é”€æ¯ï¼Œp æŒ‡å‘çš„å†…å­˜å°±å¤±æ•ˆäº†ï¼ˆé‡æŒ‡é’ˆï¼‰ã€‚
</code></pre>
<h4 data-id="heading-13">æ•°å­— è½¬ å­—ç¬¦ä¸² (C++11)</h4>
<p>è¶…çº§å¥½ç”¨çš„ <code>to_string</code>ã€‚</p>
<p>C++</p>
<pre><code class="hljs language-ini" lang="ini">int <span class="hljs-attr">i</span> = <span class="hljs-number">100</span><span class="hljs-comment">;</span>
string <span class="hljs-attr">s</span> = to_string(i)<span class="hljs-comment">; // "100"</span>
</code></pre>
<h4 data-id="heading-14">å­—ç¬¦ä¸² è½¬ æ•°å­—</h4>
<p>C++</p>
<pre><code class="hljs language-ini" lang="ini">string <span class="hljs-attr">s</span> = <span class="hljs-string">"3.14"</span><span class="hljs-comment">;</span>
double <span class="hljs-attr">d</span> = stod(s)<span class="hljs-comment">; // string to double</span>
int <span class="hljs-attr">i</span> = stoi(<span class="hljs-string">"123"</span>)<span class="hljs-comment">; // string to int</span>
</code></pre>
<hr/>
<h3 data-id="heading-15">7. è¿›é˜¶æŠ€å·§ï¼šå¤§å°å†™è½¬æ¢</h3>
<p><code>std::string</code> æœ¬èº«æ²¡æœ‰æä¾› <code>to_upper</code> è¿™ç§æˆå‘˜å‡½æ•°ï¼Œå¿…é¡»é…åˆ <code>&lt;algorithm&gt;</code> åº“ä½¿ç”¨ã€‚</p>
<p>C++</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cctype&gt;</span></span>

<span class="hljs-built_in">string</span> s = <span class="hljs-string">"Hello"</span>;
<span class="hljs-comment">// è¿™é‡Œçš„ transform åƒä¸€ä¸ªåŠ å·¥æµæ°´çº¿</span>
<span class="hljs-comment">// å‚æ•°å«ä¹‰: [å¼€å§‹ä½ç½®, ç»“æŸä½ç½®), ç»“æœå†™å…¥ä½ç½®, åŠ å·¥å‡½æ•°</span>
transform(s.begin(), s.end(), s.begin(), ::<span class="hljs-built_in">toupper</span>);
<span class="hljs-comment">// s å˜ä¸º "HELLO"</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">æ€»ç»“ä¸å»ºè®®</h3>
<ol>
<li><strong>èƒ½ç”¨ <code>string</code> å°±åˆ«ç”¨ <code>char*</code></strong> ï¼šé™¤éä½ åœ¨å†™æåº•å±‚çš„é©±åŠ¨æˆ–ä¸çº¯ C åº“äº¤äº’ã€‚</li>
<li><strong>ä¸ä»…æ˜¯å®¹å™¨ï¼Œæ›´æ˜¯å·¥å…·</strong>ï¼š<code>string</code> æä¾›äº†ä¸°å¯Œçš„å­—ç¬¦ä¸²å¤„ç†èƒ½åŠ›ï¼Œå°½é‡ä¸è¦è‡ªå·±é€ è½®å­ï¼ˆæ¯”å¦‚ä¸è¦è‡ªå·±å†™å­ä¸²æŸ¥æ‰¾ç®—æ³•ï¼Œç›´æ¥ç”¨ <code>find</code>ï¼‰ã€‚</li>
<li><strong>æ³¨æ„ <code>npos</code></strong>ï¼šæŸ¥æ‰¾æ“ä½œä¸€å®šè¦åˆ¤æ–­è¿”å›å€¼æ˜¯å¦ç­‰äº <code>string::npos</code>ã€‚</li>
<li><strong>å¼‚å¸¸å®‰å…¨</strong>ï¼šåœ¨ä¸ç¡®å®šç´¢å¼•æ˜¯å¦è¶Šç•Œæ—¶ï¼Œå…»æˆç”¨ <code>at()</code> æˆ–å…ˆåˆ¤æ–­ <code>size()</code> çš„ä¹ æƒ¯ã€‚</li>
</ol>
<p>ä½ ç°åœ¨å¯¹ <code>string</code> çš„æ•´ä½“æ¶æ„åº”è¯¥æ¸…æ™°å¤šäº†ã€‚å¦‚æœæƒ³é’ˆå¯¹æŸä¸ªå…·ä½“å‡½æ•°è¿›è¡Œä»£ç æµ‹è¯•ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Springç›‘å¬å™¨ï¼ˆApplicationEventï¼‰ï¼šæ¯”MQæ›´è½»çš„å¼‚æ­¥ç¥å™¨ï¼]]></title>    <link>https://juejin.cn/post/7581477397510324258</link>    <guid>https://juejin.cn/post/7581477397510324258</guid>    <pubDate>2025-12-09T07:49:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581477397510324258" data-draft-id="7581486065996890147" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Springç›‘å¬å™¨ï¼ˆApplicationEventï¼‰ï¼šæ¯”MQæ›´è½»çš„å¼‚æ­¥ç¥å™¨ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:49:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é©¬å¡å·´å¡"/> <meta itemprop="url" content="https://juejin.cn/user/1892677617451163"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Springç›‘å¬å™¨ï¼ˆApplicationEventï¼‰ï¼šæ¯”MQæ›´è½»çš„å¼‚æ­¥ç¥å™¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1892677617451163/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é©¬å¡å·´å¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:49:04.000Z" title="Tue Dec 09 2025 07:49:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å¼•è¨€ï¼šå½“å’–å•¡åº—é­é‡ç¨‹åºå‘˜</h3>
<blockquote>
<p>â€œé¡¾å®¢æŒ¤çˆ†æŸœå°æ—¶ï¼Œä¼˜ç§€çš„åº—é•¿ä¸ä¼šå‚¬ä¿ƒå’–å•¡å¸ˆåŠ é€Ÿï¼Œè€Œæ˜¯å¯åŠ¨ä¸€å¥—ç§‘å­¦çš„åä½œæœºåˆ¶â€”â€”<br/>
å°±åƒSpringäº‹ä»¶é©±åŠ¨ï¼Œç”¨<strong>å‘å¸ƒ-è®¢é˜…æ¨¡å¼</strong>è®©ç³»ç»Ÿåƒé¡¶çº§å’–å•¡å›¢é˜Ÿèˆ¬ä¼˜é›…åº”å¯¹æ´ªå³°æµé‡â€</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€å’–å•¡åº—é‡Œçš„ç›‘å¬å™¨ï¼š3ä½çµé­‚è§’è‰²</h3>
<p><strong>çœŸå®æˆ˜åœºè¿˜åŸ</strong>ï¼ˆæ¯ç§’1000è®¢å•çš„å’–å•¡åº—ï¼‰ï¼š</p>
<p>ğŸ”¥ é¡¾å®¢å–Šå•ï¼ˆäº‹ä»¶å‘å¸ƒè€…ï¼‰</p>
<p>ğŸ“¦ OrderEventï¼ˆäº‹ä»¶å¯¹è±¡ï¼‰</p>
<p>â˜• å’–å•¡å¸ˆï¼ˆç›‘å¬å™¨1ï¼‰</p>
<p>ğŸ’° æ”¶é“¶å‘˜ï¼ˆç›‘å¬å™¨2ï¼‰</p>
<p>ğŸ° ç”œç‚¹å¸ˆï¼ˆç›‘å¬å™¨3ï¼‰</p>
<h4 data-id="heading-2">1. äº‹ä»¶å®šä¹‰ï¼šå’–å•¡åº—çš„ã€Œè®¢å•å°ç¥¨ã€</h4>
<pre><code class="hljs language-scala" lang="scala">public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ApplicationEvent</span> </span>{
    <span class="hljs-comment">// finalä¿®é¥°çš„è®¢å•IDï¼šå°±åƒå’–å•¡å¸ˆç»ä¸æ¶‚æ”¹çš„è®¢å•å°ç¥¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> orderId;  
    
    <span class="hljs-comment">// åˆ›å»ºæ—¶é—´ï¼šè®°å½•è®¢å•è¯ç”Ÿæ—¶åˆ»ï¼ˆçº¿ç¨‹å®‰å…¨ä¸å¯å˜ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">LocalDateTime</span> createTime = <span class="hljs-type">LocalDateTime</span>.now(); 

    <span class="hljs-comment">// æ— setterï¼šé˜²æ­¢å¤šçº¿ç¨‹å¹¶å‘ç¯¡æ”¹è®¢å•</span>
}
</code></pre>
<h4 data-id="heading-3">2. äº‹ä»¶å‘å¸ƒï¼šåº—é•¿çš„ã€Œå¹¿æ’­ç³»ç»Ÿã€</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-comment">// åº—é•¿çš„éº¦å…‹é£ï¼ˆæ„é€ å™¨æ³¨å…¥æ›´ä¼˜é›…ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ApplicationEventPublisher eventPublisher; 

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-comment">// æ ¸å¿ƒä¸šåŠ¡ï¼šç”Ÿæˆè®¢å•ï¼ˆå’–å•¡åº—æ¥å•ï¼‰</span>
        eventPublisher.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderEvent</span>(<span class="hljs-built_in">this</span>, order.getId())); <span class="hljs-comment">// ğŸ“¢ å¹¿æ’­è®¢å•</span>
    }
}
</code></pre>
<h4 data-id="heading-4">3. äº‹ä»¶ç›‘å¬ï¼šå’–å•¡å›¢é˜Ÿçš„ã€ŒæŠ€èƒ½å“åº”ã€</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
public class CoffeeMakerListener {
    <span class="hljs-variable">@EventListener</span> 
    <span class="hljs-variable">@Order</span>(<span class="hljs-number">1</span>) <span class="hljs-comment">// ä¼˜å…ˆçº§ï¼šå…ˆåšå’–å•¡å†æ¨èç”œç‚¹</span>
    public void <span class="hljs-built_in">makeCoffee</span>(OrderEvent event) {
        <span class="hljs-comment">// ä¸“æ³¨åšå’–å•¡ï¼Œä¸å…³å¿ƒè°ç»“è´¦</span>
        <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"å’–å•¡å¸ˆï¼šå¼€å§‹åˆ¶ä½œè®¢å•{}çš„æ‹¿é“..."</span>, event.<span class="hljs-built_in">getOrderId</span>());
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æ‰›ä½äº¿çº§æµé‡çš„3æŠŠåˆ©å™¨</h3>
<h4 data-id="heading-6">ğŸ”¥Â <strong>åœºæ™¯1ï¼šå†·å¯åŠ¨ç¼“å­˜é¢„åŠ è½½ï¼ˆé˜²é›ªå´©ï¼‰</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CachePreloader</span> {
    <span class="hljs-comment">// åœ¨Springå®¹å™¨"å¼€åº—å‡†å¤‡å®Œæˆ"æ—¶è§¦å‘</span>
    <span class="hljs-meta">@EventListener(ContextRefreshedEvent.class)</span> 
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initCache</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å¼‚æ­¥åŠ è½½çœæ—¶30%ï¼ˆå®æµ‹æ•°æ®ï¼‰</span>
        CompletableFuture.runAsync(() -&gt; {
            provinceService.loadProvincesToCache(); 
            productService.preloadHotProducts();
        });
    }
}
</code></pre>
<h4 data-id="heading-7">ğŸ’¡Â <strong>åœºæ™¯2ï¼šäº‹åŠ¡æˆåŠŸåçš„ç¼“å­˜æ¸…ç†ï¼ˆä¿ä¸€è‡´æ€§ï¼‰</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åªåœ¨æ•°æ®åº“æäº¤æˆåŠŸåæ‰§è¡Œï¼ˆé¿å…è„æ¸…ç†ï¼‰</span>
<span class="hljs-meta">@TransactionalEventListener</span>(phase = <span class="hljs-title class_">TransactionPhase</span>.<span class="hljs-property">AFTER_COMMIT</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">cleanCache</span>(<span class="hljs-params">OrderUpdateEvent event</span>) {
    <span class="hljs-comment">// å¼‚æ­¥æ¸…ç†ï¼šä¸é˜»å¡ç»“è´¦é˜Ÿä¼</span>
    redisTemplate.<span class="hljs-title function_">executeAsync</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisCallback</span>&lt;&gt;() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-title class_">Void</span> <span class="hljs-title function_">doInRedis</span>(<span class="hljs-params">RedisConnection connection</span>) {
            connection.<span class="hljs-title function_">del</span>((<span class="hljs-string">"order:"</span> + event.<span class="hljs-title function_">getId</span>()).<span class="hljs-title function_">getBytes</span>());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    });
}
</code></pre>
<h4 data-id="heading-8">ğŸš€Â <strong>åœºæ™¯3ï¼šæ— ä¾µå…¥å¼åŠŸèƒ½æ‰©å±•</strong></h4>
<p><strong>æ”¹é€ å‰ï¼ˆè‡ƒè‚¿çš„æ”¶é“¶å°ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">public void <span class="hljs-built_in">pay</span>() {
    paymentService<span class="hljs-selector-class">.pay</span>();   <span class="hljs-comment">// æ ¸å¿ƒæ”¯ä»˜</span>
    auditService<span class="hljs-selector-class">.log</span>();     <span class="hljs-comment">// å®¡è®¡ä»£ç å…¥ä¾µ</span>
    riskService<span class="hljs-selector-class">.check</span>();    <span class="hljs-comment">// é£æ§ä»£ç è€¦åˆ</span>
    marketingService<span class="hljs-selector-class">.addPoints</span>(); <span class="hljs-comment">// æ–°å¢éœ€æ±‚æ±¡æŸ“æ ¸å¿ƒ</span>
}
</code></pre>
<p><strong>äº‹ä»¶é©±åŠ¨æ”¹é€ å</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// çº¯å‡€æ”¯ä»˜æ ¸å¿ƒï¼ˆä¸“æ³¨æ”¶é’±ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">pay</span>(<span class="hljs-params">Long orderId</span>) {
    paymentService.<span class="hljs-title function_">process</span>(orderId);
    eventPublisher.<span class="hljs-title function_">publishEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentSuccessEvent</span>(orderId)); <span class="hljs-comment">// ğŸ“¢ å¹¿æ’­æ”¯ä»˜æˆåŠŸ</span>
}

<span class="hljs-comment">// æ–°å¢ç§¯åˆ†æ¨¡å—ï¼ˆæ— éœ€ä¿®æ”¹æ”¯ä»˜ä»£ç ï¼‰</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PointListener</span> {
    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addPoints</span>(<span class="hljs-params">PaymentSuccessEvent event</span>) {
        <span class="hljs-comment">// ç§¯åˆ†æœåŠ¡ç‹¬ç«‹æ¼”è¿›</span>
        pointService.<span class="hljs-title function_">award</span>(event.<span class="hljs-title function_">getOrderId</span>(), <span class="hljs-number">100</span>); 
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-9">ä¸‰ã€è¡€æ³ªæ•™è®­ï¼š3ä¸ªæ·±å¤œåŠ ç­äº‹æ•…</h3>
<h4 data-id="heading-10">ğŸš«Â <strong>äº‹æ•…1ï¼šå¤šçº¿ç¨‹ç¯¡æ”¹äº‹ä»¶ï¼ˆè®¢å•æ··ä¹±ï¼‰</strong></h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// é”™è¯¯ï¼äº‹ä»¶å¿…é¡»æ˜¯åªè¯»çš„</span>
@EventListener
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">handle</span>(<span class="hljs-params">OrderEvent <span class="hljs-keyword">event</span></span>)</span> {
    <span class="hljs-keyword">event</span>.setStatus(<span class="hljs-string">"MODIFIED"</span>); <span class="hljs-comment">// âš ï¸ å¤šçº¿ç¨‹å¹¶å‘ä¿®æ”¹å¼•å‘è®¢å•é”™ä¹±</span>
}
</code></pre>
<blockquote>
<p><strong>æ­£ç¡®åšæ³•</strong>ï¼šäº‹ä»¶ç±»è®¾è®¡ä¸ºfinalå­—æ®µ + æ— setter</p>
</blockquote>
<h4 data-id="heading-11">ğŸš«Â <strong>äº‹æ•…2ï¼šå¼‚æ­¥äº‹ä»¶ä¸¢å¤±ï¼ˆé¡¾å®¢æŠ•è¯‰ï¼‰</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@EnableAsync</span> <span class="hljs-comment">// å¿…é¡»æ˜¾å¼å¼€å¯å¼‚æ­¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span> {
    <span class="hljs-meta">@Bean</span>(<span class="hljs-string">"eventExecutor"</span>) 
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Executor</span> <span class="hljs-title function_">taskExecutor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// å…³é”®å‚æ•°ï¼šæ‹’ç»ç­–ç•¥ç”¨CallerRunsPolicyï¼ˆé¿å…ä¸¢å•ï¼‰</span>
        <span class="hljs-title class_">ThreadPoolTaskExecutor</span> executor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolTaskExecutor</span>();
        executor.<span class="hljs-title function_">setRejectedExecutionHandler</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>.<span class="hljs-title class_">CallerRunsPolicy</span>());
        <span class="hljs-keyword">return</span> executor;
    }
}

<span class="hljs-comment">// æŒ‡å®šçº¿ç¨‹æ± æ‰§è¡Œ</span>
<span class="hljs-meta">@Async</span>(<span class="hljs-string">"eventExecutor"</span>) 
<span class="hljs-meta">@EventListener</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">asyncHandle</span>(<span class="hljs-params">OrderEvent event</span>) {...}
</code></pre>
<h4 data-id="heading-12">ğŸš«Â <strong>äº‹æ•…3ï¼šäº‹ä»¶å¾ªç¯è°ƒç”¨ï¼ˆå’–å•¡å¸ˆå¡æ­»ï¼‰</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é”™è¯¯ï¼šåœ¨äº‹ä»¶å¤„ç†ä¸­å‘å¸ƒæ–°äº‹ä»¶</span>
<span class="hljs-meta">@EventListener</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleA</span>(<span class="hljs-params">EventA a</span>) {
    publisher.<span class="hljs-title function_">publishEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">EventB</span>()); 
}

<span class="hljs-meta">@EventListener</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleB</span>(<span class="hljs-params">EventB b</span>) {
    publisher.<span class="hljs-title function_">publishEvent</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">EventA</span>()); <span class="hljs-comment">// â™»ï¸ æ­»å¾ªç¯ï¼</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-13">å››ã€å…³é”®æŠ‰æ‹©ï¼šç›‘å¬å™¨ vs MQ æ¶æ„å¯¹å’</h3>



































<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>Springç›‘å¬å™¨</strong></th><th><strong>MQæ¶ˆæ¯é˜Ÿåˆ—</strong></th></tr></thead><tbody><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å•æœºäº‹åŠ¡åä½œ âœ…</td><td>è·¨æœåŠ¡é€šä¿¡ âœ…</td></tr><tr><td><strong>å¯é æ€§</strong></td><td>è¿›ç¨‹å®•æœºäº‹ä»¶æ¶ˆå¤± âŒ</td><td>æŒä¹…åŒ–/é‡è¯• âœ…</td></tr><tr><td><strong>ååé‡</strong></td><td>å†…å­˜çº§ä¼ è¾“ï¼Œ10w+/s ğŸš€</td><td>å—ç½‘ç»œé™åˆ¶ï¼Œ1w/s âš ï¸</td></tr><tr><td><strong>å¼€å‘æ•ˆç‡</strong></td><td>å…æ­å»ºMQï¼Œæ³¨è§£å³ç”¨ âœ…</td><td>éœ€éƒ¨ç½²ä¸­é—´ä»¶ âŒ</td></tr><tr><td><strong>æ•°æ®ä¸€è‡´æ€§</strong></td><td>æœ¬åœ°äº‹åŠ¡ä¿éšœ âœ…</td><td>éœ€åˆ†å¸ƒå¼äº‹åŠ¡ âš ï¸</td></tr></tbody></table>
<blockquote>
<p><strong>é»„é‡‘å†³ç­–æ ‘</strong>ï¼š</p>
<ul>
<li>åŒJVMäº‹åŠ¡æ“ä½œ â†’Â <code>Springç›‘å¬å™¨</code>ï¼ˆå¼€å‘æ•ˆç‡ç‹ç‚¸ï¼‰</li>
<li>è·¨æœåŠ¡æœ€ç»ˆä¸€è‡´ â†’Â <code>RocketMQ</code>ï¼ˆå¯é æ€§æ‹…å½“ï¼‰</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-14">äº”ã€æ€§èƒ½è°ƒä¼˜ï¼šç›‘å¬å™¨çš„æ¶¡è½®å¢å‹</h3>
<ol>
<li>
<p><strong>å¼‚æ­¥å–·å°„</strong>ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Async</span> <span class="hljs-comment">// æ–¹æ³•çº§å¼‚æ­¥ï¼ˆçº¿ç¨‹æ± åŠ é€Ÿï¼‰</span>
<span class="hljs-variable">@EventListener</span>
public void <span class="hljs-built_in">asyncProcess</span>(LogEvent event) {...}
</code></pre>
</li>
<li>
<p><strong>æ¡ä»¶è¿‡æ»¤</strong>ï¼ˆå‡å°‘æ— æ•ˆå¤„ç†ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åªå¤„ç†VIPå®¢æˆ·çš„è®¢å•</span>
<span class="hljs-meta">@EventListener</span>(condition = <span class="hljs-string">"#event.user.level == 'VIP'"</span>)
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleVipOrder</span>(<span class="hljs-params">OrderEvent event</span>) {...}
</code></pre>
</li>
<li>
<p><strong>æ‰¹é‡å¤„ç†</strong>ï¼ˆSpring 4.2+ç‰¹æ€§ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// ä¸€æ¬¡æ€§å¤„ç†æ•´æ‰¹è®¢å•ï¼ˆæå‡æ•°æ®åº“IOæ•ˆç‡ï¼‰</span>
<span class="hljs-variable">@EventListener</span>
public void <span class="hljs-built_in">batchProcess</span>(List&lt;OrderEvent&gt; events) {
    <span class="hljs-selector-tag">orderDao</span><span class="hljs-selector-class">.batchInsert</span>(events.<span class="hljs-built_in">stream</span>().<span class="hljs-built_in">map</span>(<span class="hljs-attribute">OrderConverter</span>::toEntity).<span class="hljs-built_in">toList</span>());
}
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-15">å…­ã€æœ€ä½³å®è·µï¼š5æ¡ç”Ÿå­˜æ³•åˆ™</h3>
<ol>
<li>
<p><strong>å•ä¸€èŒè´£åŸåˆ™</strong><br/>
<code>ä¸€ä¸ªç›‘å¬å™¨åªåšä¸€ä»¶äº‹</code>ï¼šå¦‚Â <code>PaymentListener</code>Â åªå¤„ç†æ”¯ä»˜ï¼Œ<code>CouponListener</code>Â åªå‘åˆ¸</p>
</li>
<li>
<p><strong>äº‹ä»¶è½»é‡åŒ–</strong><br/>
ç¦æ­¢åœ¨äº‹ä»¶ä¸­æºå¸¦Â <code>HttpSession</code>Â ç­‰é‡å‹å¯¹è±¡ï¼ˆå»ºè®®åªä¼ IDï¼‰</p>
</li>
<li>
<p><strong>å¼‚å¸¸éš”ç¦»èˆ±</strong><br/>
å¼‚æ­¥äº‹ä»¶å¿…é¡»ç‹¬ç«‹æ•è·å¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Async</span>
<span class="hljs-variable">@EventListener</span>
public void <span class="hljs-built_in">handle</span>(Event event) {
    <span class="hljs-selector-tag">try</span> { 
        <span class="hljs-selector-tag">businessLogic</span>(); 
    } <span class="hljs-selector-tag">catch</span> (Exception e) { 
        <span class="hljs-comment">// è®°å½•æ—¥å¿— + å‘Šè­¦ï¼ˆé˜²æ­¢é›ªå´©ï¼‰</span>
        <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.error</span>(<span class="hljs-string">"äº‹ä»¶å¤„ç†å¤±è´¥: {}"</span>, event, e); 
        <span class="hljs-selector-tag">alarmManager</span><span class="hljs-selector-class">.notify</span>(e);
    }
}
</code></pre>
</li>
<li>
<p><strong>ç‰ˆæœ¬å…¼å®¹è®¾è®¡</strong><br/>
äº‹ä»¶ç±»é¢„ç•™ç‰ˆæœ¬å­—æ®µï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEvent</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> version = <span class="hljs-string">"1.0"</span>; <span class="hljs-comment">// æœªæ¥å¯æ‰©å±•</span>
}
</code></pre>
</li>
<li>
<p><strong>ç›‘æ§ä¸‰ä»¶å¥—</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç›‘æ§å¤„ç†æ—¶é•¿/å¤±è´¥ç‡/QPS</span>
<span class="hljs-meta">@Around("@annotation(org.springframework.context.event.EventListener)")</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">monitor</span><span class="hljs-params">(ProceedingJoinPoint pjp)</span> {
    Timer.<span class="hljs-type">Sample</span> <span class="hljs-variable">sample</span> <span class="hljs-operator">=</span> Timer.start();
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> pjp.proceed();
    } <span class="hljs-keyword">finally</span> {
        sample.stop(Metrics.timer(<span class="hljs-string">"event.process.time"</span>));
    }
}
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-16">ç»“è¯­ï¼šäº‹ä»¶é©±åŠ¨çš„è‰ºæœ¯</h3>
<blockquote>
<p>ä¼˜ç§€æ¶æ„çš„æœ¬è´¨ä¸æ˜¯é¢„æµ‹æ‰€æœ‰éœ€æ±‚ï¼Œè€Œæ˜¯æ‹¥æŠ±å˜åŒ–ã€‚<br/>
é€šè¿‡Springäº‹ä»¶ç›‘å¬å™¨ï¼Œæˆ‘ä»¬å°†ç³»ç»Ÿæ‹†è§£ä¸º<strong>å¯æ’æ‹”çš„ä¹é«˜æ¨¡å—</strong>ï¼š</p>
<ul>
<li>æ–°å¢åŠŸèƒ½æ—¶ â†’ æ·»åŠ ç›‘å¬å™¨ï¼ˆæ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç ï¼‰</li>
<li>æµé‡æš´å¢æ—¶ â†’ å¼€å¯å¼‚æ­¥ï¼ˆæ— éœ€é‡æ„æ¶æ„ï¼‰</li>
</ul>
<p>è¿™æ°å¦‚ç»è¥å’–å•¡åº—çš„çœŸè°›ï¼š<br/>
<strong>â€œä¸æ˜¯é›‡ä½£æ›´å¿«çš„å’–å•¡å¸ˆï¼Œè€Œæ˜¯è®¾è®¡æ°¸ä¸æ‹¥å µçš„åä½œæœºåˆ¶â€</strong></p>
<p><strong>ç¨‹åºå‘˜å½©è›‹</strong>ï¼š<br/>
ä¸‹å›å½“ä½ ä¸ºéœ€æ±‚å˜æ›´ç„¦å¤´çƒ‚é¢æ—¶ï¼Œä¸å¦¨é—®é—®è‡ªå·±ï¼š<br/>
<strong>â€œæˆ‘çš„ä»£ç ï¼Œåƒä¸€å®¶åº”å¯¹è‡ªå¦‚çš„å’–å•¡åº—å—ï¼Ÿâ€</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Compaction in Apache Iceberg]]></title>    <link>https://juejin.cn/post/7581667332305748006</link>    <guid>https://juejin.cn/post/7581667332305748006</guid>    <pubDate>2025-12-09T07:32:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581667332305748006" data-draft-id="7581658157144735794" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Compaction in Apache Iceberg"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:32:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ•°æ–°æ™ºèƒ½"/> <meta itemprop="url" content="https://juejin.cn/user/1983968244427527"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Compaction in Apache Iceberg
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1983968244427527/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ•°æ–°æ™ºèƒ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:32:49.000Z" title="Tue Dec 09 2025 07:32:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Apache Iceberg çš„æ•°æ®ç®¡ç†ä½“ç³»ä¸­ï¼Œæ•°æ®å‹ç¼©ï¼ˆCompactionï¼‰æ˜¯ä¼˜åŒ–å­˜å‚¨å¸ƒå±€ã€æå‡æŸ¥è¯¢æ€§èƒ½çš„æ ¸å¿ƒç»´æŠ¤ä»»åŠ¡ä¹‹ä¸€ã€‚é€šè¿‡ Binpack é‡å†™ç­–ç•¥ã€æ’åºç­–ç•¥åŠ Z åºæ’åºç­‰æœºåˆ¶ï¼ŒIceberg å¯é«˜æ•ˆåˆå¹¶å°æ–‡ä»¶ã€é‡ç»„æ•°æ®åˆ†å¸ƒï¼Œå‡å°‘å…ƒæ•°æ®å†—ä½™ä¸æŸ¥è¯¢æ‰«ææˆæœ¬ã€‚æœ¬æ–‡ç»“åˆè¡¨ç»´æŠ¤æµç¨‹ï¼Œæ·±å…¥è§£æ Compaction çš„æ ¸å¿ƒç­–ç•¥åŸç†ï¼Œä»¥åŠè¿‡æœŸå¿«ç…§æ¸…ç†ã€æ—§å…ƒæ•°æ®åˆ é™¤ã€å­¤å„¿æ–‡ä»¶å¤„ç†ç­‰é…å¥—æœºåˆ¶ï¼Œä¸ºä¼˜åŒ– Iceberg è¡¨å­˜å‚¨æ•ˆç‡æä¾›å®è·µæŒ‡å¼•ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.dremio.com%2Fblog%2Fcompaction-in-apache-iceberg-fine-tuning-your-iceberg-tables-data-files%2F" target="_blank" title="https://www.dremio.com/blog/compaction-in-apache-iceberg-fine-tuning-your-iceberg-tables-data-files/" ref="nofollow noopener noreferrer">www.dremio.com/blog/compacâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.dremio.com%2Fblog%2Fmaintaining-iceberg-tables-compaction-expiring-snapshots-and-more%2F" target="_blank" title="https://www.dremio.com/blog/maintaining-iceberg-tables-compaction-expiring-snapshots-and-more/" ref="nofollow noopener noreferrer">www.dremio.com/blog/maintaâ€¦</a></p>
<p>Maintenance Tasks with Iceberg Tables</p>
<p>åœ¨ æ•°æ®æ¹–ä¸Šä½¿ç”¨ icebergæœ‰å¾ˆå¤šå¥½å¤„ï¼Œå¦‚ partition/schema evolutionã€time-travelã€version rollback ç­‰ç­‰<br/>
ä½†æ•°æ®æ‘„å–æ—¶ä¼šå‡ºç°å¾ˆå¤šå°é—®é¢˜ï¼Œå¯¹äº hive æ¥è¯´æ˜¯å¾ˆå¤§é—®é¢˜ï¼Œå¯¹äº ice-berg å¯ä»¥ç”¨ å‹ç¼©æ¥è§£å†³<br/>
å¯¹äº ä»»ä½•è¡¨æ ¼å¼æ¥è¯´ï¼Œéƒ½éœ€è¦å®šæœŸæ¸…ç†ï¼Œç¡®ä¿å…ƒæ•°æ®æ–‡ä»¶ä¸è¦å¤ªå¤š<br/>
icebergæä¾› APIçš„æ–¹å¼ï¼Œå¯ä»¥</p>
<ul>
<li>expire snapshots</li>
<li>remove old metadata files</li>
<li>delete orphan files</li>
</ul>
<p>Compaction</p>
<p>å¤ªå¤šçš„å°æ–‡ä»¶ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œå½“æ‰§è¡Œå‹ç¼©æ—¶</p>
<ul>
<li>ä½¿ç”¨ rewriteDataFiles procedure æ¥åšå‹ç¼©ï¼Œå¯ä»¥é€‰æ‹©å‹ç¼©çš„æ–‡ä»¶ï¼Œä»¥åŠæœŸæœ›çš„ç»“æœå¤§å°</li>
<li>spark ä¼šå°†è¿™äº›å°æ–‡ä»¶è¯»å–ï¼Œç„¶ååˆå¹¶å‹ç¼©ä¸ºå¤§æ–‡ä»¶</li>
<li>ä¹‹åæ˜¯å†™ manifest filesã€manifest listã€è¡¨å…ƒæ•°æ®ï¼Œæœ€åæäº¤è¿™æ¬¡ä¿®æ”¹åˆ° catalog</li>
</ul>
<p>ä¹‹å‰çš„æ—§æ–‡ä»¶è¿˜åœ¨ï¼Œä½†ä¸ä¼šè¢«æŸ¥è¯¢åˆ°äº†ï¼Œé™¤éæŒ‡å®šäº† time-travel</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02081b0f3c3e4d39845e69dd2f5d95c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=SPYeOIG39MnL2ioHvyFul0MMUG8%3D" alt="å›¾ç‰‡" loading="lazy"/>ä½¿ç”¨ RewriteDataFiles æ¥åšå‹ç¼©ï¼Œæ”¯æŒ spark3 å’Œ flink<br/>
è¿™é‡ŒæŒ‡å®šäº† event_dateï¼Œå¤§äº 7 å¤©å‰çš„æ•°æ®<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1082b943f6f4cdba0ac408e6d1a1f65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=WOqHdzNJ8CBFT0SkcRLAMnfurMQ%3D" alt="å›¾ç‰‡" loading="lazy"/>sql æ–¹å¼<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8548849cad1f4bf798c14f6a0a9f4621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=V6%2F8SLNdS2QDmabetvtO7tYz5%2FY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸€äº›å‚æ•°</p>
<ul>
<li>The table: Which table to run the operation on</li>
<li>The strategy: Whether to use the â€œbinpackâ€ or â€œsortâ€ strategy (each are elaborated upon in the sections below)</li>
<li>Options: Settings to tailor how the job is run, for example, the minimum number of files to compact, and the minimum/maximum file size of the files to be compacted</li>
</ul>
<p>å…¶ä»–å‚æ•°</p>
<ul>
<li>Where: Criteria to filter files to compact based on the data in them (in case you only want to target a particular partition for compaction)</li>
<li>Sort order: How to sort the data when using the â€œsortâ€ strategy</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dae499a40864e62ba942442b63013d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=HFIQJTgDTeWzKV%2Fukrka7k61XjE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>The Binpack Rewrite Strategy</p>
<p>è¿™æ˜¯é»˜è®¤çš„ç­–ç•¥ï¼Œå°† å¾ˆå¤šå°æ–‡ä»¶åˆå¹¶ä¸ºç›®æ ‡å¤§æ–‡ä»¶ï¼Œæ²¡æœ‰å†åšå…¶ä»–ä¼˜åŒ–äº†ï¼Œæ‰€ä»¥å‹ç¼©é€Ÿåº¦ä¼šå¾ˆå¿«<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/234e3bc0a6894857ae8c5681f1037674~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=vP19Ir4NETrog0laUxaGFntmLw4%3D" alt="å›¾ç‰‡" loading="lazy"/>é»˜è®¤çš„ç›®æ ‡ size ä¸º 512M<br/>
ä¸‹é¢æ˜¯å‹ç¼© æœ€è¿‘ä¸€å°æ—¶çš„æ•°æ®<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c79b64812da4ec79fa91c426a553d4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=dpPduJ0auHPAZnpU0nE2Az0Ezlk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>The Sort Strategy</p>
<p>é™¤äº†å‹ç¼©å°æ–‡ä»¶ï¼Œè¿˜åšäº†æ’åºï¼Œè¿™æ„å‘³ç€æœ€å°/æœ€å¤§è¿‡æ»¤çš„å¥½å¤„å°†ä¼šæ›´å¤§(æ‰«æçš„æ–‡ä»¶è¶Šå°‘ï¼Œé€Ÿåº¦è¶Šå¿«)<br/>
æœªæ’åºçš„å‹ç¼©å¦‚ä¸‹ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b78957f004794261acb0e5d0d79ca85c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=9bJF1VM18x6sbvNylUrGXmw%2FFq8%3D" alt="å›¾ç‰‡" loading="lazy"/>ç”±äºæ²¡æœ‰æ’åºï¼ŒæŸ¥è¯¢æ—¶éœ€è¦æ‰«æä¸¤ä¸ªæ–‡ä»¶ï¼Œè€Œç»è¿‡æ’åºä¹‹åï¼Œå°±å¯ä»¥å‡å°‘æ‰«ææ–‡ä»¶çš„æ•°é‡<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/874c3848df1547e4bbb0d20383871ce9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=P1xISUzsbxfoBAdQzZ%2FosJKCM3Y%3D" alt="å›¾ç‰‡" loading="lazy"/>æ’åºç­–ç•¥å¦‚ä¸‹ï¼Œå¢åŠ äº† sort_order å‚æ•°ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7115c4dd0b6e418ea32e895fc03b81c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=%2Bj5gHlgSz3YcfwbwJ8BrSRumKCE%3D" alt="å›¾ç‰‡" loading="lazy"/>æ’åºå¤šä¸ªå­—æ®µï¼Œä»¥åŠå¦‚ä½•å¯¹å¾… NULL<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/704f3263e2ed4b8a8e7a55372c376258~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=3tv7XzuMLkz6ZOX91kNvjdW70kA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Z-Order Sorting</p>
<p>è·Ÿå¤šåˆ—æ’åºä¸ä¸€æ ·ï¼Œä»–æ˜¯å°†æ‰€æœ‰åˆ—ç­‰å€¼çš„å¯¹å¾…<br/>
å‡è®¾æœ‰ heigh_in_cmï¼Œä»¥åŠ ageï¼Œå°†ä»–ä»¬è®°å½•åˆ° å››ä¸ªè±¡é™ä¸­<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12439c7c52fa42a6a4c07974514173e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=D3R7he2%2BZs1qRArK%2BREcnV08OQc%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¹‹åå°†æ‰€æœ‰çš„è®°å½• put åˆ°è¿™å››ä¸ªè±¡é™ä¸­ï¼Œå¹¶å°†ä»–ä»¬å†™å…¥åˆ°åˆé€‚çš„æ–‡ä»¶ä¸­ï¼Œè¿™å¯¹äº min/max æ¥è¯´å¾ˆæœ‰ç›Š<br/>
æ¯”å¦‚å½“ä½ æœç´¢ age = 25,é«˜åº¦æœª 200cmï¼Œè¿™æ ·åªä¼šå®šä½åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å·¦ä¸‹æ–¹çš„è±¡é™<br/>
z-orderå¯ä»¥é‡å¤å¤šæ¬¡ï¼Œåœ¨ä¸€ä¸ªè±¡é™å†…åˆ›å»ºå¦å¤–å››ä¸ªè±¡é™ï¼Œç”¨æˆ·è¿›ä¸€æ­¥å¾®è°ƒé›†ç¾¤ï¼Œæ¯”å¦‚å¯¹å·¦ä¸‹è¿›ä¸€æ­¥å¾®è°ƒï¼Œå°±å¾—åˆ°äº†ä¸‹é¢è¿™æ ·ï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5830e2ea2a6a48d8a4661e6639156907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=dO8%2BssISdC319upMh8naTABdSsA%3D" alt="å›¾ç‰‡" loading="lazy"/>å½“è¿è¡Œ age å’Œ heigh_in_cm æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥æœ‰æ•ˆçš„åšè£å‰ªï¼Œæ‰€ä»¥z-orderé€‚åˆå¤šç»´åº¦ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªåˆ—åŒæ—¶æŸ¥è¯¢<br/>
å¯ä»¥é€šè¿‡ä¸‹é¢è¿™æ ·é…ç½®z-orderå‹ç¼©<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e6c46251c5b43668db4b111ccf27df6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=GcgCi9YrMyxss%2FVBijNNpijax1M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Expire Snapshots</p>
<p>icebergçš„æœ‰ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œé€šè¿‡å¿«ç…§å¯ä»¥åš time-travelï¼Œverion rolbackï¼Œ å¿«ç…§ä¸­çš„ manifest filesä¸ä¼šè¢«åˆ é™¤<br/>
å½“æ‰‹åŠ¨æŒ‡å®šåˆ é™¤ä¸éœ€è¦çš„å¿«ç…§æ—¶ï¼Œå¯¹åº”çš„ manifest listã€manifest filesã€data files éƒ½ä¼šè¢«åˆ é™¤<br/>
å¦‚æœè¿™ä¸ª æ•°æ®æ–‡ä»¶è¿˜è¢«å…¶ä»– æœ‰æ•ˆçš„manifest files å…³è”ï¼Œåˆ™ä¸ä¼šè¢«åˆ é™¤<br/>
å­¤å„¿æ–‡ä»¶ä¸å…³è”ä»»ä½•å¿«ç…§ï¼Œéœ€è¦ç”¨å…¶ä»–çš„æ–¹å¼å°†å…¶åˆ é™¤<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77990dbd3d234170b7e8447196bdd141~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=hianQuWAkBqLtHlhU4vf6Jqt2do%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¸‹é¢æ˜¯ åˆ é™¤æ‰€æœ‰ tsToExpire ä¹‹å‰çš„å¿«ç…§ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šåˆ é™¤ä»»æ„å¤„ç†çš„å¿«ç…§ï¼Œæˆ–è€…å¿«ç…§ ID<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d75cf461802441e843b4edd46ae23d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=HlLFmms%2B7MziomhF6tJ5WINsh7w%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Removing Old Metadata files</p>
<p>Snapshot isolation æ˜¯icebergä¸­éå¸¸æœ‰ç”¨çš„ä¸€ä¸ªç‰¹æ€§<br/>
ä½†æµå†™å…¥æ—¶ï¼Œä¼šå‡ºç°å¾ˆå¤šæ–°çš„å°æ–‡ä»¶ï¼Œåˆ é™¤è¿‡æœŸæ–‡ä»¶å¯ä»¥å°†è¿™äº›æ–‡ä»¶æ•°æ®åˆ é™¤ï¼Œä½†æ˜¯å¤„ç†ä¸äº† manifest æ–‡ä»¶<br/>
iceberg å¯ä»¥å…è®¸ä½ è®¾ç½®å¼€å¯ æœ€è€çš„ manifest æ–‡ä»¶åˆ é™¤åŠŸèƒ½ï¼Œå½“æ–°çš„ä¸€ä¸ªåˆ›å»ºæ—¶ï¼Œå°±ä¼šåˆ é™¤æ‰è€çš„ manifestæ–‡ä»¶<br/>
è¿˜å¯ä»¥æŒ‡å®šè¦ä¿ç•™çš„ manifestæ–‡ä»¶æ•°é‡ï¼Œä¸‹é¢æ˜¯ ä¿ç•™ 4 ä¸ª<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dce771aedd584e0b87a2da1b1d6aac71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=hXuJ73oesfj8n7Ia3Xds1EccnFc%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¸‹é¢æ˜¯è®¾ç½®åˆ é™¤æœ€è€çš„ manifest æ–‡ä»¶ï¼Œå½“æ–°çš„åˆ›å»ºæ—¶ï¼Œé»˜è®¤ä¸º falseï¼š<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/318858a3646244cfaf928fb3a4a408e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=oI5REl%2BrbqUtVU4pF8a5dvKtYVg%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¸‹é¢è®¾ç½®è¦ä¿ç•™å¤šå°‘ä¸ª manifestæ–‡ä»¶ï¼Œé»˜è®¤ä¸º 100<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48ed53e28f4345e888d29b816c06e431~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=4nXfLYsaE5uAHf4rPxGpejTUHvo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Delete Orphan Files</p>
<p>jobã€taskæ‰§è¡Œå¤±è´¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†™å…¥äº†éƒ¨åˆ†æ•°æ®ï¼Œè¿™äº›æ•°æ®æ²¡æœ‰ä»»ä½•å…³è”ä»»ä½•å¿«ç…§ï¼Œå› æ­¤ä¹Ÿä¸èƒ½ç”¨æ­£å¸¸çš„æ–¹å¼åˆ é™¤ä»–ä»¬ï¼Œå› ä¸ºæ²¡æœ‰ä»»ä½•å…³è”å…³ç³»<br/>
æ­£å¸¸çš„ å¿«ç…§è¿‡æœŸï¼Œåˆ é™¤å…ƒæ•°æ®éƒ½ä¸è¡Œï¼Œéœ€è¦ç”¨å…¶ä»–æ–¹å¼æ‰«æè¡¨çš„ç›®å½•ï¼Œç„¶åæ‰¾åˆ°ä»–ä»¬<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2435bcb5147a42c283f667f2c4fb7eec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=UzH4PicpiIGINb%2F7Q0NySwLJ4f0%3D" alt="å›¾ç‰‡" loading="lazy"/>deleteOrphanFiles æ“ä½œå¦‚ä¸‹<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2089994b526f4962bc08f1199bcfe179~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pWw5paw5pm66IO9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870369&amp;x-signature=KeEkdmHi5PwkANM9kTfF00jGb54%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªæ“ä½œæ˜¯æ‰«ææ¯ä¸ªæœ‰æ•ˆçš„å¿«ç…§ï¼Œç„¶åæ‰¾åˆ°å“ªäº›æ–‡ä»¶ å…³è”äº†è¿™äº›å¿«ç…§<br/>
å¯¹äºåœ¨ æ•°æ®ç›®å½•ä¸­ï¼Œæ²¡æœ‰è¢«æœ‰æ•ˆå¿«ç…§å…³è”çš„æ–‡ä»¶ï¼Œå°±å¯ä»¥è¢«åˆ é™¤äº†<br/>
è¡¨çš„æ–‡ä»¶ä¹Ÿå¯ä»¥å­˜å‚¨åœ¨æ•°æ®ç›®å½•ä¹‹å¤–ï¼Œå› æ­¤éœ€è¦å®šæœŸçš„åšæ¸…ç†</p>
<ul>
<li>olderThanï¼Œå¸®åŠ©é¢„é˜²åˆ é™¤æ­£å¸¸å¤„ç†çš„æ–‡ä»¶</li>
<li>locationï¼Œåˆ é™¤æŒ‡å®šç›®å½•ä¸‹çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®ä¸åœ¨ ä¸»æ•°æ®ç›®å½•ä¸­ï¼Œè‚¯æ©æ˜¯ä¹‹å‰ä»å…¶ä»–åœ°æ–¹è¿ç§»åˆ° iceberg ä¸­çš„</li>
</ul>
<p>Reference</p>
<ul>
<li>How Z-Ordering in Apache Iceberg Helps Improve Performance</li>
<li>What Is a Data Lakehouse?</li>
<li>OneTable github</li>
</ul>
<p>ç›¸å…³æ–‡ç« </p>
<ul>
<li>The Life of a Read/Write Query for Apache Iceberg Tables</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[goä¸­å•ä¾‹æ¨¡å¼ä»¥åŠä½¿ç”¨åå°„ç ´åå•ä¾‹çš„æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7581486065996906531</link>    <guid>https://juejin.cn/post/7581486065996906531</guid>    <pubDate>2025-12-09T07:52:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581486065996906531" data-draft-id="7581545175509483572" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="goä¸­å•ä¾‹æ¨¡å¼ä»¥åŠä½¿ç”¨åå°„ç ´åå•ä¾‹çš„æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:52:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QZQ54188"/> <meta itemprop="url" content="https://juejin.cn/user/666776045362473"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            goä¸­å•ä¾‹æ¨¡å¼ä»¥åŠä½¿ç”¨åå°„ç ´åå•ä¾‹çš„æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/666776045362473/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QZQ54188
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:52:28.000Z" title="Tue Dec 09 2025 07:52:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å•ä¾‹æ¨¡å¼ä¿è¯ä¸€ä¸ªç±»æˆ–è€…ç»“æ„ä½“åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªå…¨å±€çš„è®¿é—®ç‚¹æ¥è·å–è¿™ä¸ªå®ä¾‹ï¼Œä¸»è¦ç”¨äºç®¡ç†å…±äº«èµ„æºå’Œæ§åˆ¶å…¨å±€çŠ¶æ€ã€‚</p>
<p>ä¾‹å¦‚åœ¨ç®¡ç†é…ç½®ä¸­ï¼Œç¨‹åºè‡ªåŠ¨è¯»å–<code>config.yaml</code>å¹¶ä¸”æ˜ å°„åˆ°<code>config</code>ç»“æ„ä½“ä¸­ï¼Œå› ä¸ºé…ç½®æ•°æ®åœ¨è¿è¡ŒæœŸé—´æ˜¯åªè¯»ä¸”å…¨å±€å…±äº«çš„ï¼Œä¸éœ€è¦æ¯æ¬¡ä½¿ç”¨éƒ½é‡æ–°è¯»å–æ–‡ä»¶ï¼Œä¿ç•™ä¸€ä»½å†…å­˜å‰¯æœ¬å³å¯ã€‚è¿˜æœ‰åˆå§‹åŒ– <code>sql.DB</code> æˆ– Redis Clientï¼Œå»ºç«‹è¿æ¥æ˜¯æ˜‚è´µçš„æ“ä½œï¼ˆTCP æ¡æ‰‹ç­‰ï¼‰ï¼Œé€šå¸¸å¸Œæœ›åœ¨å…¨å±€å¤ç”¨åŒä¸€ä¸ªè¿æ¥æ± å¯¹è±¡ï¼Œè€Œä¸æ˜¯é¢‘ç¹åˆ›å»ºå’Œé”€æ¯ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“å•ä¾‹æ¨¡å¼æœ‰é¥¿æ±‰å’Œæ‡’æ±‰ä¸¤ç§å®ç°æ–¹å¼ï¼Œä¸‹é¢å…ˆä»‹ç»é¥¿æ±‰å¼ã€‚</p>
<p>é¥¿æ±‰å¼åœ¨ç¨‹åºå¯åŠ¨ï¼ˆåŒ…åŠ è½½ï¼‰é˜¶æ®µå°±ç«‹åˆ»åˆ›å»ºå®ä¾‹ï¼Œä¸ç®¡åé¢ç”¨ä¸ç”¨å¾—åˆ°ã€‚åˆ©ç”¨ Go çš„åŒ…åˆå§‹åŒ–æœºåˆ¶ï¼ˆå…¨å±€å˜é‡åˆå§‹åŒ–æˆ– <code>init</code> å‡½æ•°ï¼‰ï¼Œè¿™æ˜¯å¤©ç„¶çº¿ç¨‹å®‰å…¨çš„ã€‚åœ¨<code>main</code>å‡½æ•°æ‰§è¡Œä¹‹å‰ï¼ŒGo çš„ Runtimeï¼ˆè¿è¡Œæ—¶ï¼‰æ¥ç®¡ç¨‹åºçš„åˆå§‹åŒ–é˜¶æ®µï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼ŒGo Runtime åªå¯åŠ¨äº†ä¸€ä¸ªä¸» Goroutineæ¥è´Ÿè´£æ‰€æœ‰çš„åˆå§‹åŒ–å·¥ä½œï¼Œæ—¢ç„¶åªæœ‰ä¸€ä¸ªGoroutine åœ¨è·‘ï¼Œä¸å­˜åœ¨ç¬¬äºŒä¸ª Goroutine å»äº‰æŠ¢èµ„æºï¼Œè‡ªç„¶ä¹Ÿå°±ä¸å­˜åœ¨æ•°æ®ç«äº‰ï¼Œæ‰€ä»¥å®ƒæ˜¯ç»å¯¹çº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<p>ä¸‹é¢æ˜¯ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> singleton

<span class="hljs-keyword">type</span> eagerSingleton <span class="hljs-keyword">struct</span> {
    Name <span class="hljs-type">string</span>
}

<span class="hljs-comment">// åœ¨åŒ…åŠ è½½æ—¶ç›´æ¥å®ä¾‹åŒ–</span>
<span class="hljs-comment">// ä¼˜ç‚¹ï¼šæ²¡æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼ŒGo çš„ runtime ä¿è¯å…¨å±€å˜é‡åˆå§‹åŒ–æ˜¯åŸå­çš„ã€‚</span>
<span class="hljs-keyword">var</span> eagerInstance = &amp;eagerSingleton{Name: <span class="hljs-string">"Eager"</span>}

<span class="hljs-comment">// æä¾›ä¸€ä¸ªå…¬å¼€è®¿é—®æ¥å£</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetEagerInstance</span><span class="hljs-params">()</span></span> *eagerSingleton {
    <span class="hljs-keyword">return</span> eagerInstance
}
</code></pre>
<p>ä¼˜ç‚¹æ˜¯å®ç°æå…¶ç®€å•ï¼Œè€Œä¸”ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨åŠ é”ç›¸å…³ï¼Œæ€§èƒ½å¥½ã€‚ç¼ºç‚¹æ˜¯å¦‚æœè¿™ä¸ªå¯¹è±¡åˆå§‹åŒ–éå¸¸è€—æ—¶ï¼ˆæ¯”å¦‚åŠ è½½å·¨å¤§çš„æ¨¡å‹æ–‡ä»¶ï¼‰æˆ–è€…å ç”¨å¤§é‡å†…å­˜ï¼Œä½†ç¨‹åºè¿è¡Œå¾ˆä¹…åæ‰ç”¨åˆ°ï¼ˆç”šè‡³å®Œå…¨æ²¡ç”¨åˆ°ï¼‰ï¼Œå°±ä¼šé€ æˆå¯åŠ¨æ…¢å’Œå†…å­˜æµªè´¹ã€‚</p>
<p>æ‡’æ±‰å¼å®ä¾‹åœ¨ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨ <code>GetInstance</code> æ—¶æ‰åˆ›å»ºã€‚è¿™å°±é¿å…äº†é¥¿æ±‰å¼çš„å†…å­˜æµªè´¹é—®é¢˜ï¼Œç¼ºç‚¹å°±æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®æ—¶éœ€è¦åŒæ­¥ç­‰å¾…åˆå§‹åŒ–å®Œæˆï¼Œç¨å¾®æœ‰ä¸€ç‚¹ç‚¹æ€§èƒ½æŸè€—ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> Singleton <span class="hljs-keyword">struct</span> {
	Data <span class="hljs-type">string</span>
}

<span class="hljs-keyword">var</span> (
	instance *Singleton
	mu       sync.Mutex
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetInstance</span><span class="hljs-params">()</span></span> *Singleton {
	<span class="hljs-keyword">if</span> instance == <span class="hljs-literal">nil</span> {
		mu.Lock()
		<span class="hljs-keyword">defer</span> mu.Unlock()

		<span class="hljs-keyword">if</span> instance == <span class="hljs-literal">nil</span> {
			instance = &amp;Singleton{Data: <span class="hljs-string">"I am Singleton"</span>}
		}
	}
	<span class="hljs-keyword">return</span> instance
}
</code></pre>
<p>åœ¨<code>GetInstance</code>ä¸­ï¼Œç¬¬ä¸€æ¬¡æ£€æµ‹æ˜¯å¦ä¸ºnilæ˜¯ä¸ºäº†æ€§èƒ½ä¼˜åŒ–ï¼Œå¦‚æœå®ä¾‹å·²ç»è¢«åˆ›å»ºäº†ï¼Œå°±æ²¡å¿…è¦å»æŠ¢é”äº†ã€‚ç›´æ¥è¿”å›å®ä¾‹ï¼Œé¿å…äº†é”ç«äº‰å¸¦æ¥çš„æ€§èƒ½æŸè€—ã€‚å¦‚æœæ²¡è¢«åˆ›å»ºå°±åŠ é”ï¼Œä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªåç¨‹èƒ½è¿›å…¥åˆå§‹åŒ–ç¯èŠ‚ã€‚ç¬¬äºŒæ¬¡æ£€æŸ¥æ˜¯å¦ä¸ºnilæ˜¯ä¸ºäº†é˜²æ­¢é‡å¤åˆ›å»ºï¼Œå‡è®¾åç¨‹ A å’Œ B åŒæ—¶é€šè¿‡äº†ç¬¬ä¸€å±‚æ£€æŸ¥ã€‚A æŠ¢åˆ°äº†é”ï¼Œåˆ›å»ºäº†å®ä¾‹å¹¶é‡Šæ”¾é”ã€‚æ­¤æ—¶ B æ‹¿åˆ°é”è¿›æ¥ï¼Œå¦‚æœæ²¡æœ‰ç¬¬äºŒæ¬¡æ£€æŸ¥ï¼ŒB å°±ä¼šå†æ¬¡åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œè¦†ç›–æ‰ A åˆ›å»ºçš„ï¼Œä»è€Œç ´åäº†å•ä¾‹çš„å”¯ä¸€æ€§ã€‚</p>
<p>ä¸Šè¿°é€»è¾‘ä¹Ÿå¯ä»¥ä½¿ç”¨<code>sync.Once</code>ä»£æ›¿ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> Singleton <span class="hljs-keyword">struct</span> {
	Data <span class="hljs-type">string</span>
}

<span class="hljs-keyword">var</span> (
	instance *Singleton
	once     sync.Once
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetInstance</span><span class="hljs-params">()</span></span> *Singleton {
	<span class="hljs-comment">// once.Do æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨æ•´ä¸ªç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­åªä¼šè¢«æ‰§è¡Œä¸€æ¬¡</span>
	once.Do(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		fmt.Println(<span class="hljs-string">"Initializing Singleton..."</span>)
		instance = &amp;Singleton{Data: <span class="hljs-string">"I am Singleton"</span>}
	})
	<span class="hljs-keyword">return</span> instance
}
</code></pre>
<p>å…¶ä¸­<code>once.Do()</code>è¿™ä¸ªæ–¹æ³•å¯ä»¥ä¿è¯å‡½æ•°åªä¼šåœ¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå†…è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥ç¡®ä¿çº¿ç¨‹å®‰å…¨ï¼Œä¸ä¼šé‡å¤åˆå§‹åŒ–å•ä¾‹ã€‚</p>
<p>æœ‰å…³<code>sync.Once</code>çš„éƒ¨åˆ†ä¹Ÿå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgeektutu.com%2Fpost%2Fhpg-sync-once.html%25EF%25BC%258C%25E5%259C%25A8%25E6%25AD%25A4%25E6%2588%2591%25E7%25A8%258D%25E4%25BD%259C%25E8%25A7%25A3%25E9%2587%258A%25E3%2580%2582" target="_blank" title="https://geektutu.com/post/hpg-sync-once.html%EF%BC%8C%E5%9C%A8%E6%AD%A4%E6%88%91%E7%A8%8D%E4%BD%9C%E8%A7%A3%E9%87%8A%E3%80%82" ref="nofollow noopener noreferrer">geektutu.com/post/hpg-syâ€¦</a></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç®€åŒ–ç‰ˆæºç åˆ†æ</span>
<span class="hljs-keyword">package</span> sync

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"sync/atomic"</span>
)

<span class="hljs-keyword">type</span> Once <span class="hljs-keyword">struct</span> {
	done <span class="hljs-type">uint32</span>

	m    Mutex
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(o *Once)</span></span> Do(f <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span>) {
	<span class="hljs-keyword">if</span> atomic.LoadUint32(&amp;o.done) == <span class="hljs-number">0</span> {
		o.doSlow(f)
	}
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(o *Once)</span></span> doSlow(f <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span>) {
	o.m.Lock()
	<span class="hljs-keyword">defer</span> o.m.Unlock()
	<span class="hljs-keyword">if</span> o.done == <span class="hljs-number">0</span> {
		<span class="hljs-keyword">defer</span> atomic.StoreUint32(&amp;o.done, <span class="hljs-number">1</span>)
		f()
	}
}
</code></pre>
<p>åœ¨<code>once.Do()</code>ä¸­ï¼Œç¬¬ä¸€è¡Œä»£ç  <code>atomic.LoadUint32(&amp;o.done)</code>æ˜¯æ£€æµ‹å¿«é€Ÿè·¯å¾„çš„åŸå­è¯»å–ï¼Œä¸€æ—¦å•ä¾‹åˆ›å»ºå®Œæˆï¼Œåç»­æˆåƒä¸Šä¸‡æ¬¡çš„è°ƒç”¨éƒ½åªä¼šèµ°è¿™ä¸€è¡Œä»£ç ã€‚åŸå­è¯»çš„æ€§èƒ½æŸè€—æä½ï¼ˆçº³ç§’çº§ï¼‰ï¼Œè¿™æ¯” <code>Mutex.Lock()</code> å¿«å¾—å¤šã€‚</p>
<p>å¦‚æœæ£€æµ‹åˆ°å•ä¾‹æ²¡æœ‰åˆ›å»ºå®Œæˆï¼Œå°±ä¼šèµ°åˆ°<code>doSlow()</code>è·¯å¾„ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬ä¹‹å‰å®ç°çš„ä¸¤æ¬¡æ£€æµ‹æ˜¯å¦ä¸ºnilçš„æµç¨‹ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬æƒ³æƒ³ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥ç ´åå•ä¾‹æ¨¡å¼å‘¢ï¼Œæ¯”å¦‚è¯´åˆ›å»ºä¸¤ä¸ªã€‚å› ä¸ºç»“æ„ä½“æ˜¯å°å†™çš„ <code>type singleton struct</code>ï¼Œåœ¨ <code>main</code> åŒ…é‡Œæ ¹æœ¬æ— æ³•å†™å‡º <code>&amp;singleton.singleton{}</code>ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ï¼Œè€Œä¸”ä½¿ç”¨<code>sync.Once</code>çš„è¯ï¼Œæ ¸å¿ƒæ§åˆ¶å­—æ®µ <code>done</code> æ˜¯å°å†™çš„ï¼ˆæœªå¯¼å‡ºçš„ï¼‰ã€‚ä½ ä¸èƒ½åœ¨å¤–éƒ¨å†™ <code>once.done = 0</code>ï¼Œç¼–è¯‘å™¨ä¹Ÿä¼šæŠ¥é”™ã€‚</p>
<p>çœ‹èµ·æ¥æˆ‘ä»¬æŸæ‰‹æ— ç­–ã€‚Go è¯­è¨€çš„ç¼–è¯‘å™¨åƒä¸€ä¸ªå°½èŒçš„ä¿å®‰ï¼Œå› ä¸ºå®ƒçœ‹åˆ°äº†é¦–å­—æ¯å°å†™çš„å­—æ®µï¼Œå°±ä¸¥æ ¼ç¦æ­¢æˆ‘ä»¬åœ¨åŒ…å¤–è¿›è¡Œä»»ä½•è¯»å†™æ“ä½œã€‚æŒ‰ç…§æ­£å¸¸çš„ç¼–ç¨‹é€»è¾‘ï¼Œåªè¦å•ä¾‹åˆå§‹åŒ–è¿‡ä¸€æ¬¡ï¼Œé‚£ä¸ª <code>done</code> æ ‡è®°å°±æ°¸è¿œæ˜¯ 1ï¼Œæˆ‘ä»¬æ°¸è¿œæ— æ³•è§¦å‘ç¬¬äºŒæ¬¡åˆå§‹åŒ–ã€‚</p>
<p>å½“ç¨‹åºè¿è¡Œèµ·æ¥åï¼Œæ‰€æœ‰çš„ç»“æ„ä½“ã€æ‰€æœ‰çš„ç§æœ‰å­—æ®µï¼Œæœ¬è´¨ä¸Šéƒ½åªæ˜¯å†…å­˜ä¸­çš„ä¸€æ®µæ®µå­—èŠ‚åºåˆ—ã€‚å¦‚æœæˆ‘ä»¬èƒ½ç»•è¿‡ç¼–è¯‘å™¨çš„é™æ€æ£€æŸ¥ï¼Œç›´æ¥æ‰¾åˆ°å­˜å‚¨ <code>done</code> æ ‡è®°çš„é‚£å—å†…å­˜ï¼Œå¹¶å°†å®ƒå¼ºè¡Œæ”¹å†™ä¸º 0ï¼Œ<code>sync.Once</code> å°±ä¼šå¤±å¿†ã€‚ä¸‹æ¬¡æˆ‘ä»¬å†è°ƒç”¨ <code>GetInstance()</code> æ—¶ï¼Œå®ƒå°±ä¼šä»¥ä¸ºè‡ªå·±ä»æ²¡è¿è¡Œè¿‡ï¼Œä»è€Œå†æ¬¡æ‰§è¡Œåˆå§‹åŒ–ä»£ç ï¼Œåˆ›å»ºå‡ºç¬¬äºŒä¸ªå®ä¾‹ã€‚</p>
<p>è¿™å¯ä»¥ä½¿ç”¨åå°„åšåˆ°ï¼Œåå°„å…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°æ£€æŸ¥å˜é‡çš„ç±»å‹å’Œå€¼ï¼Œç”šè‡³çª¥æ¢é‚£äº›æœªå¯¼å‡ºçš„ç§æœ‰å­—æ®µã€‚è™½ç„¶ Go çš„åå°„åº“å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œé»˜è®¤ç¦æ­¢ä¿®æ”¹ç§æœ‰å­—æ®µï¼ˆä¼šè§¦å‘ Panicï¼‰ï¼Œä½†é…åˆ <code>unsafe</code> æŒ‡é’ˆæ“ä½œï¼Œæˆ‘ä»¬å°±èƒ½è·å¾—ä¸Šå¸è§†è§’ï¼Œå¯¹å†…å­˜è¿›è¡Œä¿®æ”¹ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"reflect"</span>
	<span class="hljs-string">"sync"</span>
	<span class="hljs-string">"sync/atomic"</span>
	<span class="hljs-string">"unsafe"</span>
)

<span class="hljs-keyword">type</span> singleton <span class="hljs-keyword">struct</span> {
	data <span class="hljs-type">string</span>
}

<span class="hljs-keyword">type</span> SingletonManager <span class="hljs-keyword">struct</span> {
	instance *singleton
	once     sync.Once
}

<span class="hljs-keyword">var</span> Mgr = &amp;SingletonManager{}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(m *SingletonManager)</span></span> GetInstance() *singleton {
	m.once.Do(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		fmt.Println(<span class="hljs-string">"&gt;&gt;&gt; å•ä¾‹åˆå§‹åŒ–é€»è¾‘æ‰§è¡Œä¸­..."</span>)
		m.instance = &amp;singleton{data: <span class="hljs-string">"UniqueInstance"</span>}
	})
	<span class="hljs-keyword">return</span> m.instance
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	Mgr.GetInstance()
	fmt.Println(<span class="hljs-string">"ç¬¬ä¸€æ¬¡è·å–å®Œæˆã€‚\n"</span>)

	fmt.Println(<span class="hljs-string">"æ­£åœ¨é€šè¿‡åå°„é‡ç½® sync.Once çŠ¶æ€..."</span>)

	val := reflect.ValueOf(Mgr).Elem()
	
	onceField := val.FieldByName(<span class="hljs-string">"once"</span>)
	doneField := onceField.FieldByName(<span class="hljs-string">"done"</span>)

	<span class="hljs-keyword">var</span> finalField reflect.Value

	<span class="hljs-keyword">if</span> doneField.Kind() == reflect.Struct {
		<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; doneField.NumField(); i++ {
			<span class="hljs-keyword">if</span> doneField.Field(i).Kind() == reflect.Uint32 {
				finalField = doneField.Field(i)
				<span class="hljs-keyword">break</span>
			}
		}
	} <span class="hljs-keyword">else</span> {
		finalField = doneField
	}

	<span class="hljs-keyword">if</span> !finalField.IsValid() {
		<span class="hljs-built_in">panic</span>(<span class="hljs-string">"æ— æ³•å®šä½ done æ ‡è®°ä½"</span>)
	}

	ptr := (*<span class="hljs-type">uint32</span>)(unsafe.Pointer(finalField.UnsafeAddr()))

	atomic.StoreUint32(ptr, <span class="hljs-number">0</span>)
	fmt.Println(<span class="hljs-string">"é‡ç½®æˆåŠŸï¼\n"</span>)

	Mgr.GetInstance()
	fmt.Println(<span class="hljs-string">"ç¬¬äºŒæ¬¡è·å–å®Œæˆï¼ˆæ³¨æ„ä¸Šæ–¹æ˜¯å¦å†æ¬¡æ‰“å°äº†åˆå§‹åŒ–æ—¥å¿—ï¼‰ã€‚"</span>)
}
</code></pre>
<p>æ‰§è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">&gt;&gt;&gt; å•ä¾‹åˆå§‹åŒ–é€»è¾‘æ‰§è¡Œä¸­...
ç¬¬ä¸€æ¬¡è·å–å®Œæˆã€‚

æ­£åœ¨é€šè¿‡åå°„é‡ç½® sync.Once çŠ¶æ€...
é‡ç½®æˆåŠŸï¼

&gt;&gt;&gt; å•ä¾‹åˆå§‹åŒ–é€»è¾‘æ‰§è¡Œä¸­...
ç¬¬äºŒæ¬¡è·å–å®Œæˆï¼ˆæ³¨æ„ä¸Šæ–¹æ˜¯å¦å†æ¬¡æ‰“å°äº†åˆå§‹åŒ–æ—¥å¿—ï¼‰ã€‚
</code></pre>
<p>ç”±äº <code>Mgr</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆè°ƒç”¨ <code>.Elem()</code> æ¥â€œè§£å¼•ç”¨â€ï¼Œæ‹¿åˆ°å®ƒæŒ‡å‘çš„å®é™… <code>SingletonManager</code> ç»“æ„ä½“ï¼Œå¦åˆ™æ— æ³•è®¿é—®å…¶å†…éƒ¨å­—æ®µã€‚</p>
<p>åªä¼šæˆ‘ä»¬ä½¿ç”¨äº† <code>FieldByName</code>ã€‚å³ä½¿ <code>once</code> å’Œ <code>done</code> æ˜¯ç§æœ‰å­—æ®µï¼ˆé¦–å­—æ¯å°å†™ï¼‰ï¼Œåå°„ä¾ç„¶èƒ½é€šè¿‡åç§°æ‰¾åˆ°å®ƒä»¬çš„å…ƒæ•°æ®ã€‚æ­¤æ—¶æˆ‘ä»¬åªèƒ½çœ‹ï¼Œä¸èƒ½åŠ¨ï¼Œå› ä¸ºå¦‚æœç›´æ¥è°ƒç”¨ <code>Set()</code> æ–¹æ³•ä¿®æ”¹å®ƒä»¬ï¼ŒGo ä¼šç›´æ¥ Panicã€‚</p>
<p>åœ¨ <strong>Go 1.23</strong> ä¹‹å‰ï¼Œ<code>sync.Once</code> çš„ <code>done</code> æ ‡è®°åªæ˜¯ä¸€ä¸ªæ™®é€šçš„ <code>uint32</code> æ•´æ•°ã€‚ä½†åœ¨ <strong>Go 1.23</strong> åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œä¸ºäº†æ›´å¥½çš„è¯­ä¹‰ï¼Œå®˜æ–¹å°†å…¶æ”¹ä¸ºäº† <code>atomic.Uint32</code> ç»“æ„ä½“ã€‚æˆ‘ä»¬çš„ä»£ç ä¼šè‡ªåŠ¨æ£€æµ‹ <code>done</code> çš„ç±»å‹ï¼Œå¦‚æœæ˜¯ç»“æ„ä½“ï¼Œå®ƒä¼šéå†å†…éƒ¨å­—æ®µï¼Œæ‰¾åˆ°é‚£ä¸ªçœŸæ­£å­˜å‚¨æ•°æ®çš„ <code>uint32</code> å­—æ®µã€‚</p>
<p>æœ€å…³é”®çš„å°±æ˜¯<code>ptr := (*uint32)(unsafe.Pointer(finalField.UnsafeAddr()))</code>è¿™ä¸€è¡Œï¼Œç›´æ¥è¿”å›è¯¥å­—æ®µåœ¨å†…å­˜ä¸­çš„ç‰©ç†åœ°å€ï¼Œå°†è¿™ä¸ªåœ°å€è½¬æ¢ä¸ºé€šç”¨æŒ‡é’ˆï¼Œå‰¥ç¦»äº†æ‰€æœ‰åŸæœ‰çš„ç±»å‹ä¿æŠ¤ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨ï¼ŒæŠŠè¿™å—å†…å­˜å½“æˆä¸€ä¸ªæ™®é€šçš„æ•´æ•°æŒ‡é’ˆç»™æˆ‘å¤„ç†ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨åŸå­æ“ä½œå°†è¯¥å†…å­˜åœ°å€çš„å€¼å¼ºåˆ¶å†™å› <code>0</code>ã€‚ å¯¹äº <code>sync.Once</code> æ¥è¯´ï¼Œå®ƒåˆ¤æ–­æ˜¯å¦åˆå§‹åŒ–çš„å”¯ä¸€ä¾æ®å°±æ˜¯è¿™å—å†…å­˜çš„å€¼ã€‚ä¸€æ—¦å˜ä¸º 0ï¼Œå®ƒå°±â€œå¤±å¿†â€äº†â€”â€”ä¸‹æ¬¡è°ƒç”¨ <code>Do</code> æ–¹æ³•æ—¶ï¼Œå®ƒä¼šè®¤ä¸ºè‡ªå·±ä»æœªè¿è¡Œè¿‡ï¼Œä»è€Œå…è®¸å•ä¾‹è¢«å†æ¬¡åˆ›å»ºã€‚</p>
<p>å¦‚æœä¸ä½¿ç”¨<code>sync.Once</code>çš„æ‡’æ±‰å•ä¾‹æ¨¡å¼ä¹Ÿå¯ä»¥ä½¿ç”¨ç±»ä¼¼æ–¹å¼ç ´åï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å‡è®¾ç›®æ ‡æ˜¯ var instance *singleton</span>

<span class="hljs-comment">// 1. è·å– instance å˜é‡çš„åå°„å€¼</span>
val := reflect.ValueOf(Mgr).Elem()
instanceField := val.FieldByName(<span class="hljs-string">"instance"</span>)

<span class="hljs-comment">// 2. å¼ºè¡Œè®¾ç½®ä¸º nil</span>
<span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œéœ€è¦ç»•è¿‡ç§æœ‰æ£€æŸ¥ï¼Œå’Œä¹‹å‰ä¸€æ ·ä½¿ç”¨ unsafe</span>
ptr := (*unsafe.Pointer)(unsafe.Pointer(instanceField.UnsafeAddr()))
*ptr = <span class="hljs-literal">nil</span> <span class="hljs-comment">// å½’é›¶ï¼</span>

<span class="hljs-comment">// 3. å†æ¬¡è°ƒç”¨ GetInstance</span>
<span class="hljs-comment">// æ­¤æ—¶ instance == nil æˆç«‹ï¼Œç”±äºæ˜¯æ‡’æ±‰å¼ï¼Œå®ƒä¼šé‡æ–° new ä¸€ä¸ªå¯¹è±¡</span>
</code></pre>
<p>ä½†æ˜¯å¯¹äºé¥¿æ±‰å•ä¾‹æ¨¡å¼å°±ä¸ä¸€æ ·äº†ï¼Œ</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetInstance</span><span class="hljs-params">()</span></span> *singleton {
    <span class="hljs-keyword">return</span> instance <span class="hljs-comment">//æ²¡æœ‰ä»»ä½•åˆ¤æ–­é€»è¾‘ï¼Œç›´æ¥è¿”å›å˜é‡</span>
}
</code></pre>
<p>å¦‚æœä½ æŠŠ <code>instance</code> è®¾ä¸º <code>nil</code>ï¼Œ è°ƒç”¨ <code>GetInstance()</code> å°±ä¼šè¿”å› <code>nil</code>ã€‚ä½ æˆåŠŸæŠŠå•ä¾‹ææŒ‚äº†ï¼Œä½†ä½ æ²¡æœ‰è®©å®ƒé‡æ–°åˆ›å»ºä¸€ä¸ªï¼Œç¨‹åºå¤§æ¦‚ç‡ä¼š Panicã€‚</p>
<p>å¦‚æœä½ æƒ³åˆ›å»ºå¦å¤–ä¸€ä¸ªå•ä¾‹ï¼Œä½ å¿…é¡»æ‰‹åŠ¨é€šè¿‡åå°„åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>singleton</code> å¯¹è±¡ï¼ˆåˆ©ç”¨ <code>reflect.New</code>ï¼‰ï¼Œç„¶åå¼ºè¡ŒæŠŠè¿™ä¸ªæ–°å¯¹è±¡çš„åœ°å€å¡ç»™å…¨å±€å˜é‡ instanceã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èŠèŠè®¾è®¡æ¨¡å¼åœ¨ Vue 3 ä¸šåŠ¡å¼€å‘ä¸­çš„è½åœ°â€”â€”ä»ä¸€æ¬¡ä»£ç é‡æ„è¯´èµ·]]></title>    <link>https://juejin.cn/post/7581477397507997730</link>    <guid>https://juejin.cn/post/7581477397507997730</guid>    <pubDate>2025-12-09T07:03:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581477397507997730" data-draft-id="7581545175509123124" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠèŠè®¾è®¡æ¨¡å¼åœ¨ Vue 3 ä¸šåŠ¡å¼€å‘ä¸­çš„è½åœ°â€”â€”ä»ä¸€æ¬¡ä»£ç é‡æ„è¯´èµ·"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-09T07:03:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2277843821926871"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠèŠè®¾è®¡æ¨¡å¼åœ¨ Vue 3 ä¸šåŠ¡å¼€å‘ä¸­çš„è½åœ°â€”â€”ä»ä¸€æ¬¡ä»£ç é‡æ„è¯´èµ·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2277843821926871/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.4 èä¼šè´¯é€š
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.4 èä¼šè´¯é€š" title="VIP.4 èä¼šè´¯é€š" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:03:38.000Z" title="Tue Dec 09 2025 07:03:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘æ¥æ‰‹äº†ä¸€ä¸ªè€æ¨¡å—çš„é‡æ„ä»»åŠ¡ï¼Œä»£ç é‡Œåˆ°å¤„éƒ½æ˜¯ç¡¬ç¼–ç çš„ä¸­æ–‡å­—ç¬¦ä¸²ï¼Œé…ç½®æ•£è½åœ¨å„ä¸ªç»„ä»¶é‡Œï¼ŒçŠ¶æ€æ˜ å°„é€»è¾‘é‡å¤äº†å¥½å‡ éã€‚ä½ æ‡‚çš„ï¼Œå°±æ˜¯é‚£ç§"èƒ½è·‘ä½†çœ‹ç€éš¾å—"çš„ä»£ç ã€‚</p>
<p>è¶ç€è¿™æ¬¡é‡æ„ï¼Œæˆ‘æŠŠä¸€äº›è®¾è®¡æ¨¡å¼ç”¨åœ¨äº†å®é™…ä¸šåŠ¡é‡Œã€‚ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œçº¯ç²¹æ˜¯è§£å†³é—®é¢˜ã€‚å†™å®Œä¹‹åè§‰å¾—æŒºæœ‰æ”¶è·ï¼Œåˆ†äº«å‡ºæ¥èŠèŠã€‚</p>
<h2 data-id="heading-0">èƒŒæ™¯ï¼šä¸€ä¸ªå…¸å‹çš„åå°ç®¡ç†æ¨¡å—</h2>
<p>é¡¹ç›®æ˜¯ Vue 3 + TypeScript + Element Plus çš„æŠ€æœ¯æ ˆã€‚è¿™ä¸ªæ¨¡å—å¤§æ¦‚é•¿è¿™æ ·ï¼š</p>
<ul>
<li>é¡¶éƒ¨æœ‰ä¸€æ’æµç¨‹ç»Ÿè®¡å¡ç‰‡</li>
<li>ä¸­é—´æ˜¯ä¸€ä¸ªå¤š Tab åˆ‡æ¢çš„æ•°æ®è¡¨æ ¼ï¼Œæ¯ä¸ª Tab å¯¹åº”ä¸åŒçš„åˆ—é…ç½®</li>
<li>åº•éƒ¨æ˜¯å›¾è¡¨ç»Ÿè®¡åŒºåŸŸ</li>
<li>è¿˜è¦æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢</li>
</ul>
<p>ä»£ç çš„é—®é¢˜å¾ˆæ˜æ˜¾ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ•£è½åœ¨ç»„ä»¶é‡Œçš„é…ç½®</span>
<span class="hljs-keyword">const</span> columns = [
  { <span class="hljs-attr">key</span>: <span class="hljs-string">'orderNo'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'è®¢å•å·'</span>, <span class="hljs-attr">minWidth</span>: <span class="hljs-string">'140px'</span> },
  { <span class="hljs-attr">key</span>: <span class="hljs-string">'status'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'çŠ¶æ€'</span>, <span class="hljs-attr">minWidth</span>: <span class="hljs-string">'100px'</span> },
  <span class="hljs-comment">// ...</span>
]

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STATUS_MAP</span> = {
  <span class="hljs-attr">pending</span>: { <span class="hljs-attr">text</span>: <span class="hljs-string">'å¾…å¤„ç†'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span> },
  <span class="hljs-attr">done</span>: { <span class="hljs-attr">text</span>: <span class="hljs-string">'å·²å®Œæˆ'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span> },
}
</code></pre>
<p>é—®é¢˜æ¥äº†ï¼š</p>
<ol>
<li><strong>label å†™æ­»ä¸­æ–‡</strong>ï¼Œå›½é™…åŒ–æ€ä¹ˆåŠï¼Ÿ</li>
<li><strong>é…ç½®æ•£è½å„å¤„</strong>ï¼Œæ”¹ä¸€ä¸ªåœ°æ–¹è¦æ‰¾åŠå¤©</li>
<li><strong>çŠ¶æ€æ˜ å°„é‡å¤</strong>ï¼Œcomposable é‡Œæœ‰ä¸€ä»½ï¼Œç»„ä»¶é‡Œåˆæœ‰ä¸€ä»½</li>
</ol>
<h2 data-id="heading-1">æ–¹æ¡ˆä¸€ï¼šå·¥å‚å‡½æ•°æ¨¡å¼</h2>
<p>æœ€ç›´æ¥çš„é—®é¢˜æ˜¯å›½é™…åŒ–ã€‚ä¸€å¼€å§‹æˆ‘æƒ³ç”¨ computed åŒ…ä¸€å±‚ï¼Œä½†å¾ˆå¿«å‘ç°ä¸å¯¹åŠ²â€”â€”é…ç½®å¯¹è±¡åœ¨æ¨¡å—é¡¶å±‚å®šä¹‰ï¼Œé‚£æ—¶å€™ i18n å®ä¾‹è¿˜æ²¡åˆå§‹åŒ–å‘¢ã€‚</p>
<p>è§£æ³•æ˜¯æŠŠé™æ€é…ç½®æ”¹æˆ<strong>å·¥å‚å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// constants/index.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">ComposerTranslation</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-i18n'</span>

<span class="hljs-comment">// é™æ€é…ç½®ï¼šè·¯ç”±ã€å›¾æ ‡è¿™äº›ä¸éœ€è¦ç¿»è¯‘çš„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">ROUTE_CONFIG</span> = {
  <span class="hljs-attr">detail</span>: <span class="hljs-string">'/order/detail'</span>,
  <span class="hljs-attr">edit</span>: <span class="hljs-string">'/order/edit'</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>

<span class="hljs-comment">// å·¥å‚å‡½æ•°ï¼šéœ€è¦ç¿»è¯‘çš„é…ç½®</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createStatusConfig</span>(<span class="hljs-params">t: ComposerTranslation</span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">pending</span>: { <span class="hljs-attr">text</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'status.pending'</span>), <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span> },
    <span class="hljs-attr">processing</span>: { <span class="hljs-attr">text</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'status.processing'</span>), <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span> },
    <span class="hljs-attr">done</span>: { <span class="hljs-attr">text</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'status.done'</span>), <span class="hljs-attr">type</span>: <span class="hljs-string">'success'</span> },
    <span class="hljs-attr">failed</span>: { <span class="hljs-attr">text</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'status.failed'</span>), <span class="hljs-attr">type</span>: <span class="hljs-string">'danger'</span> },
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createTableColumns</span>(<span class="hljs-params">t: ComposerTranslation</span>) {
  <span class="hljs-keyword">return</span> [
    { <span class="hljs-attr">key</span>: <span class="hljs-string">'orderNo'</span>, <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'columns.orderNo'</span>), <span class="hljs-attr">minWidth</span>: <span class="hljs-string">'140px'</span> },
    { <span class="hljs-attr">key</span>: <span class="hljs-string">'status'</span>, <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'columns.status'</span>), <span class="hljs-attr">minWidth</span>: <span class="hljs-string">'100px'</span> },
    { <span class="hljs-attr">key</span>: <span class="hljs-string">'createTime'</span>, <span class="hljs-attr">label</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">'columns.createTime'</span>), <span class="hljs-attr">minWidth</span>: <span class="hljs-string">'160px'</span> },
  ]
}
</code></pre>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç»„ä»¶æˆ– composable é‡Œ</span>
<span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useI18n</span>()

<span class="hljs-keyword">const</span> statusConfig = <span class="hljs-title function_">createStatusConfig</span>(t)
<span class="hljs-keyword">const</span> columns = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">createTableColumns</span>(t))
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ</strong></p>
<p>è¯´å®è¯ä¸€å¼€å§‹æˆ‘ä¹Ÿè§‰å¾—éº»çƒ¦ï¼Œç›´æ¥åœ¨æ¨¡æ¿é‡Œå†™ <code>{{ t('xxx') }}</code> ä¸é¦™å—ï¼Ÿ</p>
<p>ä½†ä»”ç»†æƒ³æƒ³ï¼Œé…ç½®é›†ä¸­ç®¡ç†çš„å¥½å¤„å¤ªå¤šäº†ï¼š</p>
<ul>
<li>æ”¹åˆ—é…ç½®ä¸ç”¨ç¿»ç»„ä»¶ä»£ç </li>
<li>å¤šä¸ªåœ°æ–¹ç”¨åŒä¸€å¥—çŠ¶æ€æ˜ å°„ï¼Œæ”¹ä¸€å¤„å°±å¤Ÿäº†</li>
<li>ç±»å‹æç¤ºå‹å¥½ï¼Œæ‹¼é”™ key ç«‹åˆ»æŠ¥é”™</li>
</ul>
<p>è€Œä¸”å·¥å‚å‡½æ•°è¿˜æœ‰ä¸ªå¥½å¤„â€”â€”<strong>å¯ä»¥ä¿ç•™é™æ€ç‰ˆæœ¬åšå‘åå…¼å®¹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> è¯·ä½¿ç”¨ createStatusConfig(t) */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STATUS_CONFIG</span> = {
  <span class="hljs-attr">pending</span>: { <span class="hljs-attr">text</span>: <span class="hljs-string">'å¾…å¤„ç†'</span>, <span class="hljs-attr">type</span>: <span class="hljs-string">'warning'</span> },
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>è€ä»£ç å¯ä»¥æ…¢æ…¢è¿ç§»ï¼Œä¸ç”¨ä¸€å£æ°”æ”¹å®Œã€‚</p>
<h2 data-id="heading-2">æ–¹æ¡ˆäºŒï¼šç­–ç•¥æ¨¡å¼å¤„ç†çŠ¶æ€æ˜ å°„</h2>
<p>ä¸šåŠ¡é‡Œæœ‰ä¸ªåœºæ™¯ï¼šåç«¯è¿”å›ä¸€ä¸ª <code>timeStatus</code> å­—æ®µï¼Œå¯èƒ½æ˜¯ <code>'urgent'</code>ã€<code>'normal'</code>ã€<code>'overdue'</code>ï¼Œå‰ç«¯è¦æ˜ å°„æˆä¸åŒçš„æ ·å¼å’Œæ–‡æ¡ˆã€‚</p>
<p>æœ€åˆçš„å†™æ³•å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getStatusStyle</span>(<span class="hljs-params">status: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'urgent'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'warning'</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'normal'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'success'</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'overdue'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'disabled'</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">'info'</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getStatusText</span>(<span class="hljs-params">status: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'urgent'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å³å°†è¶…æ—¶'</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'normal'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'æ­£å¸¸'</span>
  <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'overdue'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²è¶…æ—¶'</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">'-'</span>
}
</code></pre>
<p>ä¸¤ä¸ªå‡½æ•°é‡Œå†™äº†ä¸¤éæ˜ å°„é€»è¾‘ï¼Œè€Œä¸”æ–°å¢çŠ¶æ€è¦æ”¹ä¸¤ä¸ªåœ°æ–¹ã€‚</p>
<p>ç”¨ç­–ç•¥æ¨¡å¼é‡æ„ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">TimeStatus</span> = <span class="hljs-string">'urgent'</span> | <span class="hljs-string">'normal'</span> | <span class="hljs-string">'overdue'</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">StatusStrategy</span> {
  <span class="hljs-attr">style</span>: <span class="hljs-string">'warning'</span> | <span class="hljs-string">'success'</span> | <span class="hljs-string">'disabled'</span> | <span class="hljs-string">'info'</span>
  <span class="hljs-attr">i18nKey</span>: <span class="hljs-built_in">string</span>
}

<span class="hljs-comment">// ç­–ç•¥æ˜ å°„è¡¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">TIME_STATUS_STRATEGY</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-title class_">TimeStatus</span>, <span class="hljs-title class_">StatusStrategy</span>&gt; = {
  <span class="hljs-attr">urgent</span>: { <span class="hljs-attr">style</span>: <span class="hljs-string">'warning'</span>, <span class="hljs-attr">i18nKey</span>: <span class="hljs-string">'status.urgent'</span> },
  <span class="hljs-attr">normal</span>: { <span class="hljs-attr">style</span>: <span class="hljs-string">'success'</span>, <span class="hljs-attr">i18nKey</span>: <span class="hljs-string">'status.normal'</span> },
  <span class="hljs-attr">overdue</span>: { <span class="hljs-attr">style</span>: <span class="hljs-string">'disabled'</span>, <span class="hljs-attr">i18nKey</span>: <span class="hljs-string">'status.overdue'</span> },
}

<span class="hljs-comment">// ç»Ÿä¸€çš„è·å–æ–¹æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getTimeStatus</span>(<span class="hljs-params">status: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">StatusStrategy</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">TIME_STATUS_STRATEGY</span>[status <span class="hljs-keyword">as</span> <span class="hljs-title class_">TimeStatus</span>] ?? { 
    <span class="hljs-attr">style</span>: <span class="hljs-string">'info'</span>, 
    <span class="hljs-attr">i18nKey</span>: <span class="hljs-string">'status.unknown'</span> 
  }
}
</code></pre>
<p>ç°åœ¨æ–°å¢ä¸€ä¸ªçŠ¶æ€ï¼Œåªéœ€è¦åœ¨æ˜ å°„è¡¨é‡ŒåŠ ä¸€è¡Œã€‚</p>
<p><strong>è¿™ä¸ªæ¨¡å¼è¿˜æœ‰ä¸ªå¦™ç”¨â€”â€”å¤„ç†å¤š Tab åœºæ™¯</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">TabType</span> = <span class="hljs-string">'pending'</span> | <span class="hljs-string">'processing'</span> | <span class="hljs-string">'completed'</span>

<span class="hljs-comment">// æ¯ä¸ª Tab å¯¹åº”ä¸åŒçš„åˆ—é…ç½®</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">TAB_COLUMNS_STRATEGY</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-title class_">TabType</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">TableColumn</span>[]&gt; = {
  <span class="hljs-attr">pending</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">createPendingColumns</span>(t),
  <span class="hljs-attr">processing</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">createProcessingColumns</span>(t),
  <span class="hljs-attr">completed</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">createCompletedColumns</span>(t),
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> columns = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> strategy = <span class="hljs-variable constant_">TAB_COLUMNS_STRATEGY</span>[activeTab.<span class="hljs-property">value</span>]
  <span class="hljs-keyword">return</span> strategy ? <span class="hljs-title function_">strategy</span>() : []
})
</code></pre>
<p>æ¯”ä¸€å † <code>if-else</code> æ¸…çˆ½å¤šäº†ã€‚</p>
<h2 data-id="heading-3">æ–¹æ¡ˆä¸‰ï¼šComposables çš„ç»„åˆå¤ç”¨</h2>
<p>Vue 3 çš„ Composition API æœ¬èº«å°±æ˜¯ä¸€ç§ç»„åˆæ¨¡å¼çš„ä½“ç°ã€‚ä½†æˆ‘å‘ç°å¾ˆå¤šäººå†™ composable çš„æ—¶å€™ï¼Œè¦ä¹ˆå†™æˆä¸€ä¸ªå·¨å¤§çš„å‡½æ•°ï¼Œè¦ä¹ˆæ‹†å¾—å¤ªç¢ä¸å¥½ç”¨ã€‚</p>
<p>è¿™æ¬¡æˆ‘çš„åšæ³•æ˜¯<strong>æŒ‰èŒè´£æ‹†åˆ†ï¼ŒæŒ‰åœºæ™¯ç»„åˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// composables/useTableConfig.ts</span>
<span class="hljs-comment">// åªè´Ÿè´£è¡¨æ ¼é…ç½®ç›¸å…³</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useTableConfig</span>(<span class="hljs-params">tabRef: Ref&lt;TabType&gt;</span>) {
  <span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useI18n</span>()
  
  <span class="hljs-keyword">const</span> columns = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> columnsMap = <span class="hljs-title function_">createTabColumnsMap</span>(t)
    <span class="hljs-keyword">return</span> columnsMap[tabRef.<span class="hljs-property">value</span>] ?? []
  })
  
  <span class="hljs-keyword">return</span> { columns }
}

<span class="hljs-comment">// composables/useStatusMapper.ts  </span>
<span class="hljs-comment">// åªè´Ÿè´£çŠ¶æ€æ˜ å°„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useStatusMapper</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { t } = <span class="hljs-title function_">useI18n</span>()
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getStatusDisplay</span>(<span class="hljs-params">status: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-keyword">const</span> strategy = <span class="hljs-variable constant_">TIME_STATUS_STRATEGY</span>[status]
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">text</span>: strategy ? <span class="hljs-title function_">t</span>(strategy.<span class="hljs-property">i18nKey</span>) : <span class="hljs-string">'-'</span>,
      <span class="hljs-attr">type</span>: strategy?.<span class="hljs-property">style</span> ?? <span class="hljs-string">'info'</span>,
    }
  }
  
  <span class="hljs-keyword">return</span> { getStatusDisplay }
}

<span class="hljs-comment">// composables/usePageData.ts</span>
<span class="hljs-comment">// é¡µé¢çº§ composableï¼Œç»„åˆä¸Šé¢çš„åŠŸèƒ½</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">usePageData</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> activeTab = ref&lt;<span class="hljs-title class_">TabType</span>&gt;(<span class="hljs-string">'pending'</span>)
  
  <span class="hljs-comment">// ç»„åˆå…¶ä»– composables</span>
  <span class="hljs-keyword">const</span> { columns } = <span class="hljs-title function_">useTableConfig</span>(activeTab)
  <span class="hljs-keyword">const</span> { getStatusDisplay } = <span class="hljs-title function_">useStatusMapper</span>()
  
  <span class="hljs-comment">// é¡µé¢ç‰¹æœ‰çš„é€»è¾‘</span>
  <span class="hljs-keyword">const</span> tableData = <span class="hljs-title function_">ref</span>([])
  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadData</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
  
  <span class="hljs-keyword">return</span> {
    activeTab,
    columns,
    tableData,
    getStatusDisplay,
    loadData,
  }
}
</code></pre>
<p><strong>ç»„åˆçš„åŸåˆ™æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æˆ‘çš„ç»éªŒæ˜¯ï¼š</p>
<ul>
<li><strong>åŸºç¡€ composable</strong>ï¼šå•ä¸€èŒè´£ï¼Œä¸ä¾èµ–å…·ä½“ä¸šåŠ¡</li>
<li><strong>ä¸šåŠ¡ composable</strong>ï¼šç»„åˆåŸºç¡€èƒ½åŠ›ï¼Œæ·»åŠ ä¸šåŠ¡é€»è¾‘</li>
<li><strong>é¡µé¢ composable</strong>ï¼šç»„è£…ä¸€åˆ‡ï¼Œå¯¹æ¥ç»„ä»¶</li>
</ul>
<p>è¿™æ ·æ‹†çš„å¥½å¤„æ˜¯ï¼ŒåŸºç¡€ composable å¯ä»¥åœ¨å…¶ä»–æ¨¡å—å¤ç”¨ï¼Œè€Œä¸šåŠ¡é€»è¾‘å˜åŒ–åªå½±å“ä¸Šå±‚ã€‚</p>
<h2 data-id="heading-4">è¸©è¿‡çš„å‘</h2>
<p>è¯´å‡ ä¸ªå®é™…é‡åˆ°çš„é—®é¢˜ï¼š</p>
<h3 data-id="heading-5">1. å·¥å‚å‡½æ•°è°ƒç”¨æ—¶æœº</h3>
<p>ä¸€å¼€å§‹æˆ‘åœ¨æ¨¡å—é¡¶å±‚è°ƒç”¨å·¥å‚å‡½æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¨¡å—åŠ è½½æ—¶ i18n è¿˜æ²¡å‡†å¤‡å¥½</span>
<span class="hljs-keyword">const</span> config = <span class="hljs-title function_">createStatusConfig</span>(t)
</code></pre>
<p>æ­£ç¡®åšæ³•æ˜¯åœ¨ setup é‡Œè°ƒç”¨ï¼Œæˆ–è€…ç”¨ computed åŒ…è£…ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">const</span> config = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">createStatusConfig</span>(t))
</code></pre>
<h3 data-id="heading-6">2. ç±»å‹æ¨å¯¼ä¸¢å¤±</h3>
<p>ç­–ç•¥è¡¨å¦‚æœç”¨ <code>Record&lt;string, xxx&gt;</code> å®šä¹‰ï¼Œkey çš„ç±»å‹æç¤ºå°±æ²¡äº†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ key æ˜¯ stringï¼Œæ²¡æœ‰æç¤º</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">map</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Strategy</span>&gt; = { ... }

<span class="hljs-comment">// âœ… ç”¨ as const æˆ–æ˜ç¡® key ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">map</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-string">'a'</span> | <span class="hljs-string">'b'</span> | <span class="hljs-string">'c'</span>, <span class="hljs-title class_">Strategy</span>&gt; = { ... }
</code></pre>
<h3 data-id="heading-7">3. å‘åå…¼å®¹åˆ«å¿˜äº†</h3>
<p>é‡æ„ä¸æ˜¯ä¸€é”¤å­ä¹°å–ã€‚ä¿ç•™è€çš„å¯¼å‡ºï¼ŒåŠ ä¸Š <code>@deprecated</code> æ³¨é‡Šï¼Œè®©è°ƒç”¨æ–¹æœ‰æ—¶é—´è¿ç§»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/** <span class="hljs-doctag">@deprecated</span> è¯·ä½¿ç”¨ createXxx() */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">OLD_CONFIG</span> = { ... }
</code></pre>
<h2 data-id="heading-8">å†™åœ¨æœ€å</h2>
<p>è®¾è®¡æ¨¡å¼è¿™ä¸œè¥¿ï¼Œå­¦çš„æ—¶å€™è§‰å¾—ç„ä¹ï¼Œç”¨çš„æ—¶å€™å‘ç°ä¹Ÿå°±é‚£æ ·â€”â€”<strong>æœ¬è´¨ä¸Šæ˜¯å‰äººè¸©å‘è¸©å‡ºæ¥çš„å¥—è·¯</strong>ã€‚</p>
<p>ä¸ç”¨åˆ»æ„è¿½æ±‚"æˆ‘è¦ç”¨ xx æ¨¡å¼"ï¼Œè€Œæ˜¯é‡åˆ°é—®é¢˜çš„æ—¶å€™æƒ³æƒ³ï¼š</p>
<ul>
<li>è¿™å—é€»è¾‘é‡å¤äº†ï¼Œèƒ½ä¸èƒ½æŠ½å‡ºæ¥ï¼Ÿ</li>
<li>è¿™ä¸ª if-else è¶Šæ¥è¶Šé•¿ï¼Œèƒ½ä¸èƒ½ç”¨æ˜ å°„è¡¨ï¼Ÿ</li>
<li>è¿™ä¸ªé…ç½®è€æ˜¯æ”¹ï¼Œèƒ½ä¸èƒ½é›†ä¸­ç®¡ç†ï¼Ÿ</li>
</ul>
<p>æƒ³æ¸…æ¥šé—®é¢˜ï¼Œæ¨¡å¼è‡ªç„¶å°±å‡ºæ¥äº†ã€‚</p>
<p>å¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚æœ‰é—®é¢˜æ¬¢è¿è¯„è®ºåŒºäº¤æµã€‚</p>
<hr/>
<p><em>æŠ€æœ¯æ ˆï¼šVue 3.5 + TypeScript 5 + vue-i18n</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CommonJSã€ESã€åŒ…ç®¡ç†å™¨]]></title>    <link>https://juejin.cn/post/7581408984416649235</link>    <guid>https://juejin.cn/post/7581408984416649235</guid>    <pubDate>2025-12-09T07:13:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581408984416649235" data-draft-id="7581324707481108521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CommonJSã€ESã€åŒ…ç®¡ç†å™¨"/> <meta itemprop="keywords" content="å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2025-12-09T07:13:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è½®æ»‘å°å…†é˜³"/> <meta itemprop="url" content="https://juejin.cn/user/870468942306509"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CommonJSã€ESã€åŒ…ç®¡ç†å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/870468942306509/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è½®æ»‘å°å…†é˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:13:38.000Z" title="Tue Dec 09 2025 07:13:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6295be082dc44a10adb0da738bf47424~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2u5ruR5bCP5YWG6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765869217&amp;x-signature=9bsxBRpCS18QGB6SsqFrx37otcw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0">CMJ è§„èŒƒï¼š</h3>
<ol>
<li>æ‰€æœ‰çš„ js æ–‡ä»¶å‡æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œè¿è¡Œçš„æ¨¡å—ä¸º<strong>å…¥å£æ¨¡å—</strong></li>
<li>æ‰€æœ‰çš„æ¨¡å—ä¸­çš„å…¨å±€å˜é‡ã€å‡½æ•°ï¼Œå‡ä¸ä¼šäº§ç”Ÿæ±¡æŸ“</li>
<li>å½“ä¸€ä¸ªæ¨¡å—éœ€è¦æä¾›ä¸€äº›ä¸œè¥¿ç»™åˆ«çš„<strong>æ¨¡å—</strong>ä½¿ç”¨æ—¶ï¼Œéœ€è¦æŠŠè¿™äº›ä¸œè¥¿ã€Œå¯¼å‡ºã€</li>
<li>å½“ä¸€ä¸ªæ¨¡å—éœ€è¦ç”¨åˆ°åˆ«çš„æ¨¡å—çš„ä¸œè¥¿çš„æ—¶å€™ï¼Œéœ€è¦ã€Œå¯¼å…¥ã€ï¼ˆæ¨¡å—è·¯å¾„å¿…é¡»ä»¥ ./ æˆ– ../ å¼€å¤´ï¼‰</li>
<li>æ¨¡å—æœ‰ç¼“å­˜ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œæ¨¡å—åï¼Œå¯¼å‡ºç»“æœä¼šè¢«ç¼“å­˜ï¼Œä¹‹åå†ä½¿ç”¨è¯¥æ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨ç¼“å­˜ç»“æœ</li>
</ol>
<h3 data-id="heading-1">ä¸€ã€CommonJS æ¨¡å—</h3>
<p>CommonJS æ˜¯<strong>Node.js æ—©æœŸçš„æ¨¡å—åŒ–è§„èŒƒ</strong>ï¼Œä¸»è¦ä¸ºæœåŠ¡ç«¯è®¾è®¡ï¼Œè§£å†³äº† JavaScript æ²¡æœ‰åŸç”Ÿæ¨¡å—åŒ–çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-2">æ ¸å¿ƒç‰¹ç‚¹ä¸ç”¨æ³•</h4>
<ul>
<li><strong>å¯¼å‡ºï¼ˆexports/module.exportsï¼‰</strong> ï¼šå®šä¹‰æ¨¡å—å¯¹å¤–æš´éœ²çš„å†…å®¹</li>
<li><strong>å¯¼å…¥ï¼ˆrequire ()ï¼‰</strong> ï¼šåŠ è½½å…¶ä»–æ¨¡å—</li>
</ul>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡å—æ–‡ä»¶ï¼šmath.js (CommonJS å†™æ³•)</span>
<span class="hljs-comment">// æ–¹å¼1ï¼šå•ä¸ªå¯¼å‡º</span>
<span class="hljs-built_in">exports</span>.<span class="hljs-property">add</span> = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b;
<span class="hljs-built_in">exports</span>.<span class="hljs-property">sub</span> = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b;

<span class="hljs-comment">// æ–¹å¼2ï¼šæ•´ä½“å¯¼å‡ºï¼ˆæ›´å¸¸ç”¨ï¼‰</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b,
  <span class="hljs-attr">sub</span>: <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b
};

<span class="hljs-comment">// å¯¼å…¥æ¨¡å—ï¼šindex.js</span>
<span class="hljs-keyword">const</span> math = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./math.js'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(math.<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// è¾“å‡º 3</span>
</code></pre>
<h4 data-id="heading-3">å…³é”®ç‰¹æ€§</h4>
<ul>
<li>åŒæ­¥åŠ è½½æ¨¡å—ï¼ˆé€‚åˆæœåŠ¡ç«¯ï¼Œæ–‡ä»¶è¯»å–å¿«ï¼‰</li>
<li>è¿è¡Œæ—¶åŠ è½½ï¼ˆæ‰§è¡Œåˆ° require æ‰åŠ è½½æ¨¡å—ï¼‰</li>
<li>æ¯ä¸ªæ¨¡å—æ˜¯ç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œé¿å…å…¨å±€å˜é‡æ±¡æŸ“</li>
</ul>
<h3 data-id="heading-4">äºŒã€ES æ¨¡å—ï¼ˆES Modulesï¼Œç®€ç§° ESMï¼‰</h3>
<p>ES æ¨¡å—æ˜¯Â <strong>ES6 åŸç”Ÿæ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ</strong>ï¼Œç›®å‰æ˜¯æµè§ˆå™¨å’Œ Node.js é€šç”¨çš„æ ‡å‡†æ¨¡å—åŒ–æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-5">æ ¸å¿ƒç‰¹ç‚¹ä¸ç”¨æ³•</h4>
<ul>
<li><strong>å¯¼å‡ºï¼ˆexportï¼‰</strong> ï¼šåˆ†æŒ‰éœ€å¯¼å‡ºã€é»˜è®¤å¯¼å‡º</li>
<li><strong>å¯¼å…¥ï¼ˆimportï¼‰</strong> ï¼šåˆ†æŒ‰éœ€å¯¼å…¥ã€é»˜è®¤å¯¼å…¥</li>
</ul>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¨¡å—æ–‡ä»¶ï¼šmath.js (ES æ¨¡å—å†™æ³•)</span>
<span class="hljs-comment">// æ–¹å¼1ï¼šæŒ‰éœ€å¯¼å‡º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params">a, b</span>) =&gt; a + b;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">sub</span> = (<span class="hljs-params">a, b</span>) =&gt; a - b;

<span class="hljs-comment">// æ–¹å¼2ï¼šé»˜è®¤å¯¼å‡ºï¼ˆä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">add</span>: <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b,
  <span class="hljs-attr">sub</span>: <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b
};

<span class="hljs-comment">// å¯¼å…¥æ¨¡å—ï¼šindex.js</span>
<span class="hljs-comment">// æŒ‰éœ€å¯¼å…¥</span>
<span class="hljs-keyword">import</span> { add, sub } <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.js'</span>;
<span class="hljs-comment">// é»˜è®¤å¯¼å…¥ï¼ˆå¯è‡ªå®šä¹‰åç§°ï¼‰</span>
<span class="hljs-keyword">import</span> math <span class="hljs-keyword">from</span> <span class="hljs-string">'./math.js'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// è¾“å‡º 3</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(math.<span class="hljs-title function_">sub</span>(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// è¾“å‡º 2</span>
</code></pre>
<h4 data-id="heading-6">å…³é”®ç‰¹æ€§</h4>
<ul>
<li>å¼‚æ­¥åŠ è½½æ¨¡å—ï¼ˆé€‚åˆæµè§ˆå™¨ï¼Œé¿å…é˜»å¡æ¸²æŸ“ï¼‰</li>
<li>ç¼–è¯‘æ—¶åŠ è½½ï¼ˆè§£æé˜¶æ®µå°±ç¡®å®šä¾èµ–ï¼Œæ”¯æŒæ ‘æ‘‡ä¼˜åŒ–ï¼‰</li>
<li>éœ€åœ¨æ–‡ä»¶å¼€å¤´å£°æ˜ï¼Œæˆ–é€šè¿‡Â <code>type="module"</code>Â è®©æµè§ˆå™¨è¯†åˆ«ï¼ˆå¦‚Â <code>&lt;script type="module" src="index.js"&gt;&lt;/script&gt;</code>ï¼‰</li>
</ul>
<h4 data-id="heading-7">CommonJS vs ES æ¨¡å— æ ¸å¿ƒåŒºåˆ«</h4>



































<table><thead><tr><th>ç‰¹æ€§</th><th>CommonJS</th><th>ES æ¨¡å—</th></tr></thead><tbody><tr><td>åŠ è½½æ—¶æœº</td><td>è¿è¡Œæ—¶åŠ è½½</td><td>ç¼–è¯‘æ—¶åŠ è½½</td></tr><tr><td>åŠ è½½æ–¹å¼</td><td>åŒæ­¥</td><td>å¼‚æ­¥ï¼ˆæµè§ˆå™¨ï¼‰/ åŒæ­¥ + å¼‚æ­¥ï¼ˆNode.jsï¼‰</td></tr><tr><td>å¯¼å‡º / å¯¼å…¥å…³é”®å­—</td><td>module.exports/require</td><td>export/import</td></tr><tr><td>å¯ä¿®æ”¹å¯¼å‡ºå†…å®¹</td><td>å¯ä»¥ï¼ˆåŠ¨æ€ï¼‰</td><td>ä¸å¯ä»¥ï¼ˆé™æ€ï¼‰</td></tr><tr><td>é€‚ç”¨ç¯å¢ƒ</td><td>ä¸»è¦ Node.js</td><td>æµè§ˆå™¨ + Node.jsï¼ˆv14+ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-8">ä¸‰ã€åŒ…ç®¡ç†å™¨</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b96b81db33d49408eaf04696f302081~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L2u5ruR5bCP5YWG6Ziz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765869217&amp;x-signature=IvncW5sLHHjKPexr%2BPEnovh8a1k%3D" alt="image.png" loading="lazy"/></p>
<p>åŒ…ç®¡ç†å™¨æ˜¯<strong>ç®¡ç† JavaScript ç¬¬ä¸‰æ–¹åŒ…ï¼ˆæ¨¡å—ï¼‰çš„å·¥å…·</strong>ï¼Œæ ¸å¿ƒåŠŸèƒ½ï¼šä¸‹è½½ã€å®‰è£…ã€æ›´æ–°ã€å¸è½½åŒ…ï¼Œç®¡ç†åŒ…çš„ç‰ˆæœ¬ä¾èµ–ã€‚</p>
<h4 data-id="heading-9">ä¸»æµåŒ…ç®¡ç†å™¨</h4>
<h5 data-id="heading-10">1. npmï¼ˆNode Package Managerï¼‰</h5>
<ul>
<li>
<p>Node.js è‡ªå¸¦çš„é»˜è®¤åŒ…ç®¡ç†å™¨ï¼Œç”Ÿæ€æœ€ä¸°å¯Œ</p>
</li>
<li>
<p>æ ¸å¿ƒå‘½ä»¤ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># åˆå§‹åŒ–é¡¹ç›®ï¼ˆç”Ÿæˆ package.jsonï¼‰</span>
npm <span class="hljs-keyword">init</span> -y
<span class="hljs-meta"># å®‰è£…åŒ…ï¼ˆç”Ÿäº§ä¾èµ–ï¼‰</span>
npm install axios
<span class="hljs-meta"># å®‰è£…åŒ…ï¼ˆå¼€å‘ä¾èµ–ï¼‰</span>
npm install --save-dev webpack
<span class="hljs-meta"># å¸è½½åŒ…</span>
npm uninstall axios
<span class="hljs-meta"># æ›´æ–°åŒ…</span>
npm update axios
</code></pre>
</li>
</ul>
<h5 data-id="heading-11">2. yarn</h5>
<ul>
<li>
<p>ç”± Facebook å¼€å‘ï¼Œè§£å†³ npm æ—©æœŸçš„æ€§èƒ½å’Œä¾èµ–ä¸€è‡´æ€§é—®é¢˜</p>
</li>
<li>
<p>æ ¸å¿ƒå‘½ä»¤ï¼ˆå’Œ npm åŸºæœ¬å…¼å®¹ï¼‰ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp">yarn <span class="hljs-keyword">init</span> -y
yarn <span class="hljs-keyword">add</span> axios          <span class="hljs-meta"># ç”Ÿäº§ä¾èµ–</span>
yarn <span class="hljs-keyword">add</span> -D webpack     <span class="hljs-meta"># å¼€å‘ä¾èµ–</span>
yarn <span class="hljs-keyword">remove</span> axios
yarn upgrade axios
</code></pre>
</li>
</ul>
<h5 data-id="heading-12">3. pnpm</h5>
<ul>
<li>
<p>æ–°ä¸€ä»£åŒ…ç®¡ç†å™¨ï¼Œç£ç›˜å ç”¨æ›´å°‘ã€å®‰è£…é€Ÿåº¦æ›´å¿«ï¼ˆé‡‡ç”¨ç¡¬é“¾æ¥ / ç¬¦å·é“¾æ¥å¤ç”¨åŒ…ï¼‰</p>
</li>
<li>
<p>æ ¸å¿ƒå‘½ä»¤ï¼ˆå…¼å®¹ npm/yarnï¼‰ï¼š</p>
<p>bash</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-csharp" lang="csharp">pnpm <span class="hljs-keyword">init</span> -y
pnpm <span class="hljs-keyword">add</span> axios
pnpm <span class="hljs-keyword">add</span> -D webpack
pnpm <span class="hljs-keyword">remove</span> axios
pnpm update axios
</code></pre>
</li>
</ul>
<h4 data-id="heading-13">æ ¸å¿ƒæ–‡ä»¶è¯´æ˜</h4>
<ul>
<li><code>package.json</code>ï¼šè®°å½•é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€ä¾èµ–åŒ…ç­‰æ ¸å¿ƒä¿¡æ¯ï¼Œæ˜¯åŒ…ç®¡ç†å™¨çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</li>
<li><code>package-lock.json</code>/<code>yarn.lock</code>/<code>pnpm-lock.yaml</code>ï¼šé”å®šåŒ…çš„ç²¾ç¡®ç‰ˆæœ¬ï¼Œä¿è¯ä¸åŒç¯å¢ƒå®‰è£…çš„ä¾èµ–ç‰ˆæœ¬ä¸€è‡´</li>
</ul>
<h3 data-id="heading-14">æ€»ç»“</h3>
<ol>
<li><strong>CommonJS</strong>Â æ˜¯ Node.js æ—©æœŸæ¨¡å—åŒ–è§„èŒƒï¼Œç”¨Â <code>require/module.exports</code>ï¼›<strong>ES æ¨¡å—</strong>Â æ˜¯åŸç”Ÿæ ‡å‡†ï¼Œç”¨Â <code>import/export</code>ï¼Œæ”¯æŒæµè§ˆå™¨å’Œç°ä»£ Node.jsã€‚</li>
<li>åŒ…ç®¡ç†å™¨ï¼ˆnpm/yarn/pnpmï¼‰çš„æ ¸å¿ƒä½œç”¨æ˜¯ç®¡ç†ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè§£å†³ä¾èµ–å®‰è£…ã€ç‰ˆæœ¬æ§åˆ¶é—®é¢˜ï¼Œå…¶ä¸­ npm ç”Ÿæ€æœ€å¹¿ï¼Œpnpm æ€§èƒ½æœ€ä¼˜ã€‚</li>
<li>å®é™…å¼€å‘ä¸­ï¼ŒNode.js é¡¹ç›®å¯æ··ç”¨ä¸¤ç§æ¨¡å—ï¼ˆéœ€é…ç½®ï¼‰ï¼Œæµè§ˆå™¨ç«¯ä¼˜å…ˆç”¨ ES æ¨¡å—ï¼ŒåŒ…ç®¡ç†å™¨æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©å³å¯ï¼ˆnpm æ˜¯åŸºç¡€ï¼Œpnpm æ›´æ¨èæ–°é¡¹ç›®ä½¿ç”¨ï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutteræ¨ªå‘æ ‘å½¢é€‰æ‹©å™¨å®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7581448482546221082</link>    <guid>https://juejin.cn/post/7581448482546221082</guid>    <pubDate>2025-12-09T07:28:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581448482546221082" data-draft-id="7581664885861269514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutteræ¨ªå‘æ ‘å½¢é€‰æ‹©å™¨å®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Android,iOS"/> <meta itemprop="datePublished" content="2025-12-09T07:28:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜å›87997"/> <meta itemprop="url" content="https://juejin.cn/user/413072103838462"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutteræ¨ªå‘æ ‘å½¢é€‰æ‹©å™¨å®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/413072103838462/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜å›87997
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:28:02.000Z" title="Tue Dec 09 2025 07:28:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ’¸äº†ä¸ªæ¨ªå‘æ ‘å½¢é€‰æ‹©å™¨ï¼Œåˆ†äº«ä¸€ä¸‹è¸©å‘è®°å½•</h2>
<p>æœ€è¿‘é¡¹ç›®é‡Œéœ€è¦åšä¸€ä¸ªå¤šçº§åˆ†ç±»é€‰æ‹©ï¼Œç±»ä¼¼æ·˜å®é‚£ç§"ç”µå­äº§å“ &gt; æ‰‹æœº &gt; iPhone"çš„æ•ˆæœã€‚æ‰¾äº†ä¸€åœˆæ²¡çœ‹åˆ°åˆé€‚çš„è½®å­ï¼Œç´¢æ€§è‡ªå·±æ’¸ä¸€ä¸ªã€‚</p>
<h3 data-id="heading-1">å…ˆçœ‹æ•ˆæœ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ab2bacd26f445d99e0e59d833d01c99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piO5ZCbODc5OTc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870174&amp;x-signature=9NHmylG8kPqp3o8uLrurbF4R%2BJs%3D" alt="screenshot.GIF" loading="lazy"/>
å¤§æ¦‚å°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œç‚¹å‡»ä¸€çº§ä¼šå±•å¼€ä¸‹ä¸€çº§ï¼Œé¡¶éƒ¨æœ‰é¢åŒ…å±‘å¯¼èˆªå¯ä»¥å›é€€ï¼Œæ”¯æŒæœç´¢ã€‚</p>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆè¦æ¨ªå‘ï¼Ÿ</h3>
<p>è¯´å®è¯ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³ç”¨çºµå‘æŠ˜å çš„æ–¹æ¡ˆçš„ï¼Œä½†äº§å“è§‰å¾—å±‚çº§å¤šäº†ä»¥åå¤ªä¸‘äº†ï¼Œè€Œä¸”ç”¨æˆ·ä¸çŸ¥é“è‡ªå·±é€‰åˆ°ç¬¬å‡ å±‚ã€‚åæ¥çœ‹äº†ä¸€äº›ç«å“ï¼Œå‘ç°æ¨ªå‘å±•å¼€+é¢åŒ…å±‘è¿™ä¸ªæ–¹æ¡ˆç¡®å®æ¸…æ™°å¾ˆå¤šï¼Œç”¨æˆ·ä¸€çœ¼å°±çŸ¥é“è‡ªå·±é€‰äº†ä»€ä¹ˆã€‚</p>
<h3 data-id="heading-3">æ ¸å¿ƒæ€è·¯</h3>
<p>å…¶å®æ•´ä¸ªç»„ä»¶çš„æ ¸å¿ƒå°±æ˜¯ç»´æŠ¤ä¸¤ä¸ªçŠ¶æ€ï¼š</p>
<ul>
<li><code>_breadcrumbs</code> - é¢åŒ…å±‘è·¯å¾„ï¼Œè®°å½•ç”¨æˆ·ç‚¹äº†å“ªäº›çˆ¶çº§</li>
<li><code>_currentOptions</code> - å½“å‰æ˜¾ç¤ºçš„é€‰é¡¹åˆ—è¡¨</li>
</ul>
<p>æ¯æ¬¡ç‚¹å‡»ä¸€ä¸ªæœ‰å­é¡¹çš„é€‰é¡¹ï¼Œå°±æŠŠå®ƒåŠ åˆ°é¢åŒ…å±‘é‡Œï¼Œç„¶åæŠŠå®ƒçš„ children è®¾æˆå½“å‰é€‰é¡¹åˆ—è¡¨ã€‚ç‚¹é¢åŒ…å±‘å°±åå‘æ“ä½œï¼Œæˆªå–æ•°ç»„å°±è¡Œã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">å¯¼èˆªåˆ°å­é¡¹</span></span>
<span class="hljs-keyword">void</span> _navigateToChildren(T parent) {
  setState(() {
    _breadcrumbs.add(parent);
    _currentOptions = parent.children?.map((child) =&gt; child <span class="hljs-keyword">as</span> T).toList() ?? [];
  });
}

<span class="hljs-comment">/// <span class="markdown">å¯¼èˆªåˆ°é¢åŒ…å±‘æŒ‡å®šä½ç½®</span></span>
<span class="hljs-keyword">void</span> _navigateToBreadcrumb(<span class="hljs-built_in">int</span> index) {
  setState(() {
    _breadcrumbs = _breadcrumbs.sublist(<span class="hljs-number">0</span>, index + <span class="hljs-number">1</span>);
    _currentOptions = _breadcrumbs[index].children?.map((child) =&gt; child <span class="hljs-keyword">as</span> T).toList() ?? [];
  });
}
</code></pre>
<h3 data-id="heading-4">å›æ˜¾è¿™ä¸ªå‘</h3>
<p>æœ€éº»çƒ¦çš„å…¶å®æ˜¯å›æ˜¾ï¼Œå°±æ˜¯ç”¨æˆ·ä¹‹å‰é€‰è¿‡çš„å€¼è¦æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™å°±éœ€è¦åœ¨æ•´æ£µæ ‘é‡Œé€’å½’æŸ¥æ‰¾ï¼Œæ‰¾åˆ°åæŠŠå®Œæ•´è·¯å¾„æ„å»ºå‡ºæ¥ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">é€’å½’æŸ¥æ‰¾é¡¹ç›®è·¯å¾„</span></span>
<span class="hljs-built_in">bool</span> _findItemPath(<span class="hljs-built_in">List</span>&lt;T&gt; options, T target, <span class="hljs-built_in">List</span>&lt;T&gt; path) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> option <span class="hljs-keyword">in</span> options) {
    path.add(option);

    <span class="hljs-keyword">if</span> (option.value == target.value) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }

    <span class="hljs-keyword">if</span> (option.children != <span class="hljs-keyword">null</span> &amp;&amp; option.children!.isNotEmpty) {
      <span class="hljs-built_in">List</span>&lt;T&gt; children = option.children!.map((child) =&gt; child <span class="hljs-keyword">as</span> T).toList();
      <span class="hljs-keyword">if</span> (_findItemPath(children, target, path)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
      }
    }

    path.removeLast();  <span class="hljs-comment">// å›æº¯</span>
  }
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
}
</code></pre>
<p>è¿™ä¸ªå›æº¯ç®—æ³•æŒºç»å…¸çš„ï¼Œæ‰¾åˆ°äº†å°±ä¸€è·¯è¿”å› trueï¼Œæ²¡æ‰¾åˆ°å°±æŠŠåˆšåŠ çš„èŠ‚ç‚¹åˆ æ‰ç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªã€‚</p>
<h3 data-id="heading-5">æœç´¢åŠŸèƒ½</h3>
<p>æœç´¢åŠŸèƒ½ä¹Ÿæ˜¯åæ¥åŠ çš„ï¼Œéœ€æ±‚æ˜¯åªæœå¶å­èŠ‚ç‚¹ï¼ˆæœ€ç»ˆå¯é€‰çš„é¡¹ï¼‰ï¼Œç„¶åæ˜¾ç¤ºå®Œæ•´è·¯å¾„è®©ç”¨æˆ·çŸ¥é“è¿™ä¸ªé€‰é¡¹åœ¨å“ªã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> _searchInTree(<span class="hljs-built_in">List</span>&lt;T&gt; options, <span class="hljs-built_in">String</span> query, <span class="hljs-built_in">List</span>&lt;T&gt; results, <span class="hljs-built_in">List</span>&lt;T&gt; path) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> option <span class="hljs-keyword">in</span> options) {
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> isLeaf = option.children == <span class="hljs-keyword">null</span> || option.children!.isEmpty;
    <span class="hljs-keyword">final</span> <span class="hljs-built_in">bool</span> nameMatches = option.name?.toLowerCase().contains(query) == <span class="hljs-keyword">true</span>;
    
    <span class="hljs-keyword">if</span> (isLeaf &amp;&amp; nameMatches) {
      results.add(option);
    }

    <span class="hljs-comment">// é€’å½’æœç´¢å­é¡¹</span>
    <span class="hljs-keyword">if</span> (option.children != <span class="hljs-keyword">null</span> &amp;&amp; option.children!.isNotEmpty) {
      <span class="hljs-built_in">List</span>&lt;T&gt; newPath = <span class="hljs-built_in">List</span>.from(path)..add(option);
      <span class="hljs-built_in">List</span>&lt;T&gt; children = option.children!.map((child) =&gt; child <span class="hljs-keyword">as</span> T).toList();
      _searchInTree(children, query, results, newPath);
    }
  }
}
</code></pre>
<h3 data-id="heading-6">æ•°æ®ç»“æ„è®¾è®¡</h3>
<p>ä¸ºäº†é€šç”¨æ€§ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸šåŠ¡æ–¹ç»§æ‰¿ä¸€ä¸‹å°±èƒ½ç”¨ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OptionChildrenItem</span> </span>{
  <span class="hljs-built_in">String?</span> name;
  <span class="hljs-built_in">String?</span> value;
  <span class="hljs-built_in">List</span>&lt;OptionChildrenItem&gt;? children;

  OptionChildrenItem({<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.value, <span class="hljs-keyword">this</span>.children});
}
</code></pre>
<p>ä¹Ÿæä¾›äº†ä¸€ä¸ªé»˜è®¤å®ç° <code>OptionChildrenItemImpl</code>ï¼Œä¸æƒ³è‡ªå®šä¹‰å¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<h3 data-id="heading-7">ä½¿ç”¨æ–¹å¼</h3>
<p>ç”¨èµ·æ¥å¾ˆç®€å•ï¼Œè°ƒä¸€ä¸ªæ–¹æ³•å°±è¡Œï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> result = <span class="hljs-keyword">await</span> showHorizontalTreePopup(
  context: context,
  options: _demoOptions,
  title: <span class="hljs-string">'è¯·é€‰æ‹©åˆ†ç±»'</span>,
  themeColor: Colors.blue,
  showSearch: <span class="hljs-keyword">true</span>,  <span class="hljs-comment">// è¦ä¸è¦æœç´¢æ¡†</span>
  showConfirmButton: <span class="hljs-keyword">true</span>,  <span class="hljs-comment">// è¦ä¸è¦ç¡®å®šæŒ‰é’®ï¼Œfalse çš„è¯é€‰ä¸­ç›´æ¥è¿”å›</span>
  onConfirm: (selectedItem) {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'é€‰ä¸­äº†: <span class="hljs-subst">${selectedItem?.name}</span>'</span>);
  },
);
</code></pre>
<h3 data-id="heading-8">ä¸€äº›ç»†èŠ‚å¤„ç†</h3>
<ol>
<li>
<p><strong>åº•éƒ¨å®‰å…¨åŒº</strong> - iPhone é‚£ä¸ªå°æ¨ªæ¡è¦ç•™å‡ºæ¥ï¼Œç”¨ <code>MediaQuery.of(context).padding.bottom</code></p>
</li>
<li>
<p><strong>æ³›å‹æ”¯æŒ</strong> - æ•´ä¸ªç»„ä»¶æ˜¯æ³›å‹çš„ï¼Œ<code>T extends OptionChildrenItem</code>ï¼Œè¿™æ ·ä¸šåŠ¡æ–¹è‡ªå·±çš„æ•°æ®æ¨¡å‹ä¹Ÿèƒ½ç”¨</p>
</li>
<li>
<p><strong>ä¸¤ç§æ¨¡å¼</strong> - <code>showConfirmButton</code> ä¸º true æ—¶éœ€è¦ç‚¹ç¡®å®šæ‰è¿”å›ï¼Œä¸º false æ—¶ç‚¹å‡»å¶å­èŠ‚ç‚¹ç›´æ¥è¿”å›ï¼Œé€‚åˆä¸åŒåœºæ™¯</p>
</li>
</ol>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>æ•´ä½“ä¸‹æ¥ä»£ç é‡ä¸å¤§ï¼Œ700 å¤šè¡Œï¼Œæ ¸å¿ƒé€»è¾‘å°±æ˜¯ç»´æŠ¤é¢åŒ…å±‘å’Œå½“å‰åˆ—è¡¨è¿™ä¸¤ä¸ªçŠ¶æ€ã€‚æœ€å‘çš„åœ°æ–¹æ˜¯æ³›å‹è½¬æ¢ï¼ŒDart çš„æ³›å‹åå˜æœ‰ç‚¹å‘ï¼Œchildren é‚£é‡Œéœ€è¦æ‰‹åŠ¨ map è½¬ä¸€ä¸‹ç±»å‹ã€‚</p>
<p>æœ‰éœ€è¦çš„å¯ä»¥ç›´æ¥ç”¨ï¼Œpub.dev æœ <code>horizontal_tree_selector</code> å°±è¡Œï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">horizontal_tree_selector:</span> <span class="hljs-string">^0.0.1</span>
</code></pre>
<p>ä»£ç å†™å¾—æ¯”è¾ƒç³™ï¼Œæœ‰é—®é¢˜æ¬¢è¿æ issue~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[script æ ‡ç­¾ä¸­çš„ async å’Œ defer çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7581664885861335050</link>    <guid>https://juejin.cn/post/7581664885861335050</guid>    <pubDate>2025-12-09T07:32:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664885861335050" data-draft-id="7581666815001542707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="script æ ‡ç­¾ä¸­çš„ async å’Œ defer çš„åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T07:32:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹‹æ’å›"/> <meta itemprop="url" content="https://juejin.cn/user/2261046026312318"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            script æ ‡ç­¾ä¸­çš„ async å’Œ defer çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2261046026312318/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹‹æ’å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:32:51.000Z" title="Tue Dec 09 2025 07:32:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark-reasonable">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-keyword,.hljs-operator,.hljs-pattern-match{color:#f92672}.hljs-function,.hljs-pattern-match .hljs-constructor{color:#61aeee}.hljs-function .hljs-params{color:#a6e22e}.hljs-function .hljs-params .hljs-typing{color:#fd971f}.hljs-module-access .hljs-module{color:#7e57c2}.hljs-constructor{color:#e2b93d}.hljs-constructor .hljs-string{color:#9ccc65}.hljs-comment,.hljs-quote{color:#b18eb1;font-style:italic}.hljs-doctag,.hljs-formula{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>&lt;script&gt;</code>æ ‡ç­¾çš„<code>async</code>å’Œ<code>defer</code>å±æ€§å‡ç”¨äºä¼˜åŒ–è„šæœ¬åŠ è½½ä¸é¡µé¢æ¸²æŸ“çš„å…³ç³»ï¼Œé¿å…è„šæœ¬é˜»å¡é¡µé¢è§£æï¼Œä½†äºŒè€…åœ¨<strong>æ‰§è¡Œæ—¶æœºã€åŠ è½½é¡ºåºã€é€‚ç”¨åœºæ™¯</strong>ä¸Šå­˜åœ¨å…³é”®åŒºåˆ«ã€‚ä¸‹é¢ä»æ ¸å¿ƒæ¦‚å¿µã€å·¥ä½œæµç¨‹ã€å¯¹æ¯”åˆ†æå’Œå®è·µå»ºè®®å››ä¸ªç»´åº¦è¯¦ç»†è¯´æ˜ï¼š</p>
<h3 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šä¸ºä»€ä¹ˆéœ€è¦ async/deferï¼Ÿ</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ˆæ— <code>async</code>/<code>defer</code>ï¼‰ï¼Œæµè§ˆå™¨è§£æHTMLæ—¶é‡åˆ°<code>&lt;script&gt;</code>æ ‡ç­¾ä¼šï¼š</p>
<ol>
<li>æš‚åœHTMLè§£æï¼ˆé˜»å¡æ¸²æŸ“ï¼‰ï¼›</li>
<li>ä¸‹è½½è„šæœ¬æ–‡ä»¶ï¼›</li>
<li>ä¸‹è½½å®Œæˆåç«‹å³æ‰§è¡Œè„šæœ¬ï¼›</li>
<li>æ‰§è¡Œç»“æŸåæ‰æ¢å¤HTMLè§£æã€‚</li>
</ol>
<p>è¿™ç§â€œé˜»å¡â€ä¼šå¯¼è‡´é¡µé¢åŠ è½½ç¼“æ…¢ï¼ˆå°¤å…¶æ˜¯è„šæœ¬ä½“ç§¯å¤§æˆ–ç½‘ç»œå·®æ—¶ï¼‰ã€‚</p>
<p><code>async</code>å’Œ<code>defer</code>çš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š<strong>è®©è„šæœ¬ä¸‹è½½ä¸HTMLè§£æå¹¶è¡Œè¿›è¡Œ</strong>ï¼Œä»…åœ¨ç‰¹å®šæ—¶æœºæ‰§è¡Œè„šæœ¬ï¼Œå‡å°‘å¯¹é¡µé¢æ¸²æŸ“çš„é˜»å¡ã€‚</p>
<h3 data-id="heading-1">äºŒã€async å±æ€§ï¼šâ€œå¼‚æ­¥åŠ è½½ï¼ŒåŠ è½½å®Œç«‹å³æ‰§è¡Œâ€</h3>
<p><code>async</code>ï¼ˆå¼‚æ­¥ï¼‰çš„æ ¸å¿ƒé€»è¾‘æ˜¯â€œåŠ è½½ä¼˜å…ˆï¼Œæ‰§è¡Œä¸ç­‰å¾…â€ï¼Œé€‚ç”¨äº<strong>ä¸ä¾èµ–å…¶ä»–è„šæœ¬/DOMã€ä¹Ÿä¸è¢«å…¶ä»–è„šæœ¬ä¾èµ–</strong>çš„ç‹¬ç«‹è„šæœ¬ï¼ˆå¦‚ç»Ÿè®¡è„šæœ¬ã€å¹¿å‘Šè„šæœ¬ï¼‰ã€‚</p>
<h4 data-id="heading-2">å·¥ä½œæµç¨‹</h4>
<ol>
<li>æµè§ˆå™¨è§£æHTMLæ—¶ï¼Œé‡åˆ°<code>&lt;script async src="xxx.js"&gt;</code>ï¼Œä¼š<strong>å¹¶è¡Œä¸‹è½½è„šæœ¬</strong>ï¼ˆä¸æš‚åœHTMLè§£æï¼‰ï¼›</li>
<li>è„šæœ¬ä¸‹è½½å®Œæˆåï¼Œä¼š<strong>ç«‹å³æš‚åœHTMLè§£æ</strong>ï¼Œæ‰§è¡Œè¯¥è„šæœ¬ï¼›</li>
<li>è„šæœ¬æ‰§è¡Œç»“æŸåï¼Œæ¢å¤HTMLè§£æã€‚</li>
</ol>
<h4 data-id="heading-3">å…³é”®ç‰¹æ€§</h4>
<ul>
<li><strong>æ‰§è¡Œæ—¶æœºä¸ç¡®å®š</strong>ï¼šè„šæœ¬çš„æ‰§è¡Œé¡ºåºå®Œå…¨å–å†³äºâ€œä¸‹è½½é€Ÿåº¦â€ï¼Œä¸‹è½½å¿«çš„å…ˆæ‰§è¡Œï¼ˆå³ä½¿è„šæœ¬åœ¨HTMLä¸­é¡ºåºé åï¼Œä¹Ÿå¯èƒ½å…ˆæ‰§è¡Œï¼‰ï¼›</li>
<li><strong>ä¸ä¿è¯é¡ºåº</strong>ï¼šè‹¥å¤šä¸ª<code>async</code>è„šæœ¬å­˜åœ¨ä¾èµ–å…³ç³»ï¼ˆå¦‚Aè„šæœ¬ä¾èµ–Bè„šæœ¬ï¼‰ï¼Œå¯èƒ½å‡ºç°Aå…ˆæ‰§è¡Œã€Båæ‰§è¡Œçš„é”™è¯¯ï¼›</li>
<li><strong>æ‰§è¡Œæ—¶é˜»å¡è§£æ</strong>ï¼šè„šæœ¬ä¸‹è½½å®Œæˆåä¼šâ€œæ’é˜Ÿâ€æ‰§è¡Œï¼Œæ­¤æ—¶ä»ä¼šæš‚åœHTMLè§£æï¼ˆä½†ä¸‹è½½é˜¶æ®µä¸é˜»å¡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">ç¤ºä¾‹</h4>
<pre><code class="hljs language-js" lang="js">&lt;!-- è„šæœ¬<span class="hljs-number">1</span>ä½“ç§¯å°ï¼Œè„šæœ¬<span class="hljs-number">2</span>ä½“ç§¯å¤§ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"small.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span> 
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">async</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"large.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span> 
&lt;!-- å®é™…æ‰§è¡Œé¡ºåºï¼šsmall.<span class="hljs-property">js</span>å¯èƒ½æ¯”large.<span class="hljs-property">js</span>å…ˆæ‰§è¡Œï¼ˆå› ä¸‹è½½å¿«ï¼‰ï¼Œä¸<span class="hljs-variable constant_">HTML</span>ä¸­é¡ºåºæ— å…³ --&gt;
</code></pre>
<h3 data-id="heading-5">ä¸‰ã€defer å±æ€§ï¼šâ€œå¼‚æ­¥åŠ è½½ï¼Œè§£æå®Œå†æ‰§è¡Œâ€</h3>
<p><code>defer</code>ï¼ˆå»¶è¿Ÿï¼‰çš„æ ¸å¿ƒé€»è¾‘æ˜¯â€œåŠ è½½å¹¶è¡Œï¼Œæ‰§è¡Œæ’é˜Ÿâ€ï¼Œé€‚ç”¨äº<strong>ä¾èµ–DOMç»“æ„ã€æˆ–ä¾èµ–å…¶ä»–è„šæœ¬</strong>çš„è„šæœ¬ï¼ˆå¦‚åˆå§‹åŒ–é¡µé¢çš„è„šæœ¬ã€ä¾èµ–jQueryçš„æ’ä»¶ï¼‰ã€‚</p>
<h4 data-id="heading-6">å·¥ä½œæµç¨‹</h4>
<ol>
<li>æµè§ˆå™¨è§£æHTMLæ—¶ï¼Œé‡åˆ°<code>&lt;script defer src="xxx.js"&gt;</code>ï¼Œä¼š<strong>å¹¶è¡Œä¸‹è½½è„šæœ¬</strong>ï¼ˆä¸æš‚åœHTMLè§£æï¼‰ï¼›</li>
<li>è„šæœ¬ä¸‹è½½å®Œæˆåï¼Œä¸ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯<strong>ç­‰å¾…HTMLè§£æå®Œå…¨ç»“æŸ</strong>ï¼ˆå³è§¦å‘<code>DOMContentLoaded</code>äº‹ä»¶å‰ï¼‰ï¼›</li>
<li>æ‰€æœ‰<code>defer</code>è„šæœ¬æŒ‰<strong>HTMLä¸­çš„å£°æ˜é¡ºåº</strong>ä¾æ¬¡æ‰§è¡Œã€‚</li>
</ol>
<h4 data-id="heading-7">å…³é”®ç‰¹æ€§</h4>
<ul>
<li><strong>æ‰§è¡Œæ—¶æœºå›ºå®š</strong>ï¼šå¿…é¡»ç­‰åˆ°HTMLè§£æå®Œæ‰æ‰§è¡Œï¼Œä¸ä¼šâ€œæ’é˜Ÿâ€é˜»å¡è§£æï¼›</li>
<li><strong>ä¿è¯é¡ºåº</strong>ï¼šå¤šä¸ª<code>defer</code>è„šæœ¬çš„æ‰§è¡Œé¡ºåºä¸å®ƒä»¬åœ¨HTMLä¸­çš„é¡ºåºå®Œå…¨ä¸€è‡´ï¼ˆå³ä½¿åå£°æ˜çš„è„šæœ¬å…ˆä¸‹è½½å®Œï¼Œä¹Ÿä¼šç­‰å¾…å‰ä¸€ä¸ªæ‰§è¡Œï¼‰ï¼›</li>
<li><strong>ä¾èµ–å®‰å…¨</strong>ï¼šè‹¥è„šæœ¬Aä¾èµ–è„šæœ¬Bï¼Œåªéœ€åœ¨HTMLä¸­è®©Bæ’åœ¨Aå‰é¢ï¼ˆå‡åŠ <code>defer</code>ï¼‰ï¼Œå³å¯ç¡®ä¿Bå…ˆæ‰§è¡Œã€‚</li>
</ul>
<h4 data-id="heading-8">ç¤ºä¾‹</h4>
<pre><code class="hljs language-js" lang="js">&lt;!-- è„šæœ¬<span class="hljs-number">1</span>ä¾èµ–è„šæœ¬<span class="hljs-number">2</span>ï¼Œè„šæœ¬<span class="hljs-number">2</span>ä½“ç§¯å¤§ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"large.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>  &lt;!-- å£°æ˜åœ¨å‰ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">defer</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"small.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>  &lt;!-- å£°æ˜åœ¨å --&gt;
&lt;!-- å®é™…æ‰§è¡Œé¡ºåºï¼šlarge.<span class="hljs-property">js</span>å…ˆæ‰§è¡Œï¼Œsmall.<span class="hljs-property">js</span>åæ‰§è¡Œï¼ˆä¸å£°æ˜é¡ºåºä¸€è‡´ï¼‰ï¼Œä¸”éƒ½åœ¨<span class="hljs-variable constant_">HTML</span>è§£æå®Œåæ‰§è¡Œ --&gt;
</code></pre>
<h3 data-id="heading-9">å››ã€async vs defer æ ¸å¿ƒå¯¹æ¯”</h3>
<p>ä¸ºäº†æ›´æ¸…æ™°åŒºåˆ†ï¼Œä¸‹è¡¨ä»6ä¸ªå…³é”®ç»´åº¦å¯¹æ¯”äºŒè€…å·®å¼‚ï¼š</p>








































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>async</th><th>defer</th></tr></thead><tbody><tr><td><strong>ä¸‹è½½ä¸è§£æå…³ç³»</strong></td><td>ä¸‹è½½ä¸HTMLè§£æå¹¶è¡Œ</td><td>ä¸‹è½½ä¸HTMLè§£æå¹¶è¡Œ</td></tr><tr><td><strong>æ‰§è¡Œæ—¶æœº</strong></td><td>ä¸‹è½½å®Œæˆåç«‹å³æ‰§è¡Œ</td><td>HTMLè§£æå®Œå…¨ç»“æŸåæ‰§è¡Œ</td></tr><tr><td><strong>æ‰§è¡Œé¡ºåº</strong></td><td>ä¸ä¿è¯ï¼ˆæŒ‰ä¸‹è½½é€Ÿåº¦æ’åºï¼‰</td><td>ä¿è¯ï¼ˆæŒ‰HTMLå£°æ˜é¡ºåºæ’åºï¼‰</td></tr><tr><td><strong>æ˜¯å¦é˜»å¡è§£æ</strong></td><td>æ‰§è¡Œæ—¶é˜»å¡ï¼Œä¸‹è½½æ—¶ä¸é˜»å¡</td><td>ä¸‹è½½å’Œæ‰§è¡Œæ—¶å‡ä¸é˜»å¡</td></tr><tr><td><strong>ä¾èµ–æ”¯æŒ</strong></td><td>ä¸æ”¯æŒï¼ˆæ— æ³•ä¾èµ–å…¶ä»–è„šæœ¬ï¼‰</td><td>æ”¯æŒï¼ˆå¯æŒ‰é¡ºåºä¾èµ–å…¶ä»–è„šæœ¬ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ç‹¬ç«‹è„šæœ¬ï¼ˆç»Ÿè®¡ã€å¹¿å‘Šã€ç›‘æ§ï¼‰</td><td>ä¾èµ–DOM/å…¶ä»–è„šæœ¬ï¼ˆåˆå§‹åŒ–ã€æ’ä»¶ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-10">äº”ã€ä¸é»˜è®¤è„šæœ¬ï¼ˆæ— å±æ€§ï¼‰çš„å¯¹æ¯”</h3>





























<table><thead><tr><th>è„šæœ¬ç±»å‹</th><th>ä¸‹è½½é˜¶æ®µæ˜¯å¦é˜»å¡HTMLè§£æ</th><th>æ‰§è¡Œé˜¶æ®µæ˜¯å¦é˜»å¡HTMLè§£æ</th><th>æ‰§è¡Œé¡ºåº</th></tr></thead><tbody><tr><td>é»˜è®¤è„šæœ¬ï¼ˆæ— å±æ€§ï¼‰</td><td>æ˜¯ï¼ˆæš‚åœè§£æï¼Œå…ˆä¸‹è½½ï¼‰</td><td>æ˜¯ï¼ˆæ‰§è¡Œæ—¶ç»§ç»­æš‚åœï¼‰</td><td>æŒ‰HTMLé¡ºåº</td></tr><tr><td>async è„šæœ¬</td><td>å¦ï¼ˆå¹¶è¡Œä¸‹è½½ï¼‰</td><td>æ˜¯ï¼ˆæ‰§è¡Œæ—¶æš‚åœï¼‰</td><td>æŒ‰ä¸‹è½½é€Ÿåº¦</td></tr><tr><td>defer è„šæœ¬</td><td>å¦ï¼ˆå¹¶è¡Œä¸‹è½½ï¼‰</td><td>å¦ï¼ˆè§£æå®Œå†æ‰§è¡Œï¼‰</td><td>æŒ‰HTMLé¡ºåº</td></tr></tbody></table>
<h3 data-id="heading-11">å…­ã€å®è·µå»ºè®®</h3>
<ol>
<li><strong>ä¼˜å…ˆç”¨ defer çš„åœºæ™¯</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è„šæœ¬ä¾èµ–DOMï¼ˆå¦‚æ“ä½œ<code>&lt;div id="app"&gt;</code>ï¼‰ï¼Œéœ€ç­‰HTMLè§£æå®Œæ‰èƒ½æ‰§è¡Œï¼›</li>
<li>è„šæœ¬é—´æœ‰ä¾èµ–å…³ç³»ï¼ˆå¦‚Aä¾èµ–Bï¼ŒBä¾èµ–jQueryï¼‰ï¼Œéœ€ä¿è¯æ‰§è¡Œé¡ºåºï¼›</li>
<li>é¡µé¢æ ¸å¿ƒåŠŸèƒ½è„šæœ¬ï¼ˆå¦‚åˆå§‹åŒ–äº¤äº’ã€æ¸²æŸ“å†…å®¹ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ä¼˜å…ˆç”¨ async çš„åœºæ™¯</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è„šæœ¬å®Œå…¨ç‹¬ç«‹ï¼ˆä¸ä¾èµ–ä»»ä½•DOM/å…¶ä»–è„šæœ¬ï¼Œä¹Ÿä¸è¢«å…¶ä»–è„šæœ¬ä¾èµ–ï¼‰ï¼›</li>
<li>éæ ¸å¿ƒè„šæœ¬ï¼ˆå¦‚ç™¾åº¦ç»Ÿè®¡ã€Google Analyticsã€å¹¿å‘Šè„šæœ¬ï¼‰ï¼Œæ—©æ‰§è¡Œæˆ–æ™šæ‰§è¡Œä¸å½±å“é¡µé¢åŠŸèƒ½ã€‚</li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><code>async</code>/<code>defer</code>ä»…å¯¹<strong>å¤–éƒ¨è„šæœ¬ï¼ˆå¸¦srcå±æ€§ï¼‰æœ‰æ•ˆ</strong>ï¼Œå¯¹å†…åµŒè„šæœ¬ï¼ˆ<code>&lt;script&gt;...&lt;/script&gt;</code>ï¼‰æ— æ•ˆï¼›</li>
<li>è‹¥åŒæ—¶è®¾ç½®<code>async</code>å’Œ<code>defer</code>ï¼Œæµè§ˆå™¨ä¼šå¿½ç•¥<code>defer</code>ï¼Œä»…æŒ‰<code>async</code>è§„åˆ™æ‰§è¡Œï¼›</li>
<li>å³ä½¿ä½¿ç”¨<code>defer</code>ï¼Œè„šæœ¬ä¹Ÿåº”é¿å…åœ¨<code>DOMContentLoaded</code>äº‹ä»¶åæ‰æ‰§è¡Œå…³é”®é€»è¾‘ï¼ˆå› <code>defer</code>å·²ç¡®ä¿åœ¨è¯¥äº‹ä»¶å‰æ‰§è¡Œï¼‰ã€‚</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1å¼€å‘è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼šElectron å®æˆ˜å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7581664885861302282</link>    <guid>https://juejin.cn/post/7581664885861302282</guid>    <pubDate>2025-12-09T07:32:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664885861302282" data-draft-id="7581448482546237466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1å¼€å‘è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼šElectron å®æˆ˜å…¨æŒ‡å—"/> <meta itemprop="keywords" content="Electron,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:32:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‹æ–—çŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/1702522294632830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1å¼€å‘è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼šElectron å®æˆ˜å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1702522294632830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‹æ–—çŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:32:32.000Z" title="Tue Dec 09 2025 07:32:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ æ˜¯å¦æ›¾æƒ³è¿‡å°†è‡ªå·±çš„ç½‘é¡µé¡¹ç›®æ”¹é€ æˆæ¡Œé¢åº”ç”¨ï¼Ÿæ˜¯å¦ç¾¡æ…•é‚£äº›èƒ½åœ¨ Windowsã€macOSã€Linux ä¸Šæ— ç¼è¿è¡Œçš„å·¥å…·è½¯ä»¶ï¼Ÿä»Šå¤©ï¼Œæˆ‘è¦ç»™å¤§å®¶ä»‹ç»çš„ <strong>Electron</strong> æ¡†æ¶ï¼Œå°±èƒ½å¸®ä½ å®ç°è¿™ä¸ªæ„¿æœ›â€”â€”ç”¨ HTMLã€CSSã€JavaScript è¿™äº›å‰ç«¯æŠ€æœ¯æ ˆï¼Œè½»æ¾æ‰“é€ è·¨å¹³å°æ¡Œé¢åº”ç”¨ã€‚</p>
<p>VS Codeã€Figmaã€Slack è¿™äº›çŸ¥åè½¯ä»¶ï¼Œéƒ½æ˜¯åŸºäº Electron å¼€å‘çš„ã€‚æ˜¯ä¸æ˜¯ç¬é—´è§‰å¾—è¿™ä¸ªæ¡†æ¶å¾ˆæœ‰å¸å¼•åŠ›ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šä»ç¯å¢ƒæ­å»ºåˆ°æ‰“åŒ…å‘å¸ƒï¼Œå¸¦ä½ èµ°å®Œ Electron å¼€å‘çš„å®Œæ•´æµç¨‹ï¼Œæœ€åè¿˜ä¼šåˆ†äº«å®æˆ˜ä¸­çš„ä¼˜åŒ–æŠ€å·§å’Œè¸©å‘ç»éªŒã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆææ‡‚è¿™3ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œé¿å…åç»­è¸©å‘</h2>
<p>åœ¨åŠ¨æ‰‹å¼€å‘å‰ï¼Œå…ˆç†æ¸… Electron çš„æ ¸å¿ƒæ¶æ„ï¼Œä¸ç„¶å†™ä»£ç æ—¶å¾ˆå®¹æ˜“æ··æ·†è¿›ç¨‹èŒè´£ï¼Œå‡ºç°â€œä¸»è¿›ç¨‹è°ƒä¸äº† DOMï¼Œæ¸²æŸ“è¿›ç¨‹ç”¨ä¸äº†ç³»ç»Ÿ APIâ€çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-1">1. ä¸»è¿›ç¨‹ï¼ˆMain Processï¼‰</h3>
<p>æ•´ä¸ªåº”ç”¨çš„â€œå¤§è„‘â€ï¼Œè´Ÿè´£ç»Ÿç­¹å…¨å±€ï¼š - ç®¡ç†çª—å£çš„åˆ›å»ºã€å…³é—­ã€æœ€å¤§åŒ–ç­‰æ“ä½œï¼› - è°ƒç”¨ç³»ç»ŸåŸç”Ÿ APIï¼ˆæ¯”å¦‚æ–‡ä»¶è¯»å†™ã€ç³»ç»Ÿå¯¹è¯æ¡†ï¼‰ï¼› - æ§åˆ¶åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå¯åŠ¨ã€é€€å‡ºï¼‰ã€‚ æ¯ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªä¸»è¿›ç¨‹ï¼Œå¯¹åº”æˆ‘ä»¬é¡¹ç›®ä¸­çš„ <code>main.js</code> æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-2">2. æ¸²æŸ“è¿›ç¨‹ï¼ˆRenderer Processï¼‰</h3>
<p>æ¯ä¸ªçª—å£å¯¹åº”ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œç›¸å½“äºâ€œæ˜¾ç¤ºå™¨â€ï¼š - è´Ÿè´£ UI æ¸²æŸ“ï¼Œå’Œæ™®é€šç½‘é¡µä¸€æ ·ç”¨ HTML/CSS/JS å¼€å‘ï¼› - åŸºäº Chromium å†…æ ¸ï¼Œæ”¯æŒæ‰€æœ‰å‰ç«¯æŠ€æœ¯ï¼ˆVue/React éƒ½èƒ½ä¸Šï¼‰ï¼› - ä¸èƒ½ç›´æ¥è°ƒç”¨ç³»ç»Ÿ APIï¼Œéœ€è¦é€šè¿‡ IPC å‘ä¸»è¿›ç¨‹â€œæ±‚åŠ©â€ã€‚ å¯¹åº”é¡¹ç›®ä¸­çš„ <code>index.html</code> åŠç›¸å…³è„šæœ¬ã€‚</p>
<h3 data-id="heading-3">3. IPC é€šä¿¡ï¼ˆInter-Process Communicationï¼‰</h3>
<p>ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„â€œå¯¹è®²æœºâ€ï¼Œç”¨äºä¼ é€’æ•°æ®å’ŒæŒ‡ä»¤ã€‚æ¯”å¦‚æ¸²æŸ“è¿›ç¨‹è¦è¯»å–æœ¬åœ°æ–‡ä»¶ï¼Œå°±é€šè¿‡ IPC å‘Šè¯‰ä¸»è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹æ‰§è¡Œåå†æŠŠç»“æœè¿”å›ç»™æ¸²æŸ“è¿›ç¨‹ã€‚</p>
<p>è®°ä½è¿™ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š<strong>ç³»ç»Ÿçº§æ“ä½œæ‰¾ä¸»è¿›ç¨‹ï¼ŒUI ç›¸å…³æ“ä½œæ‰¾æ¸²æŸ“è¿›ç¨‹</strong></p>
<h2 data-id="heading-4">äºŒã€ç¯å¢ƒæ­å»ºï¼š3åˆ†é’Ÿæå®šå‰ç½®ä¾èµ–</h2>
<p>Electron ä¾èµ– Node.jsï¼Œæ•´ä¸ªç¯å¢ƒæ­å»ºéå¸¸ç®€å•ï¼Œæ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚</p>
<h3 data-id="heading-5">1. å®‰è£…å¿…è¦å·¥å…·</h3>
<ul>
<li><strong>Node.js</strong>ï¼šæ¨è LTS ç‰ˆæœ¬ï¼ˆv16+ ç¨³å®šï¼Œæœ¬æ–‡ç”¨ v20 æ¼”ç¤ºï¼‰ï¼Œè‡ªå¸¦ npm åŒ…ç®¡ç†å™¨ã€‚ ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fzh-cn%2F" target="_blank" title="https://nodejs.org/zh-cn/" ref="nofollow noopener noreferrer">Node.js å®˜ç½‘</a> éªŒè¯å®‰è£…ï¼šæ‰“å¼€ç»ˆç«¯è¾“å…¥ <code>node -v</code> å’Œ <code>npm -v</code>ï¼Œèƒ½æ˜¾ç¤ºç‰ˆæœ¬å·å°±æ²¡é—®é¢˜ã€‚</li>
<li><strong>ä»£ç ç¼–è¾‘å™¨</strong>ï¼šé¦–æ¨ VS Codeï¼Œå†è£…ä¸¤ä¸ªæ’ä»¶æå‡æ•ˆç‡ï¼š - Electronï¼šè¯­æ³•æç¤ºã€ä»£ç è¡¥å…¨ï¼› - Electron Debuggerï¼šè°ƒè¯•ä¸»è¿›ç¨‹ã€‚</li>
<li><strong>ç³»ç»Ÿä¾èµ–ï¼ˆå¯é€‰ï¼‰</strong> ï¼š - Windowsï¼šæ— éœ€é¢å¤–æ“ä½œï¼Œç¡®ä¿ PowerShell èƒ½ç”¨ï¼› - macOSï¼šæ‰§è¡Œ <code>xcode-select --install</code> å®‰è£…å‘½ä»¤è¡Œå·¥å…·ï¼› - Linuxï¼ˆUbuntuï¼‰ï¼šæ‰§è¡Œ <code>sudo apt-get install libx11-dev libxkbfile-dev</code> å®‰è£…ä¾èµ–ã€‚</li>
</ul>
<h3 data-id="heading-6">2. é…ç½®é•œåƒï¼ˆè§£å†³å®‰è£…æ…¢é—®é¢˜ï¼‰</h3>
<p>Electron å®‰è£…åŒ…åœ¨å›½å¤–ï¼Œç›´æ¥è£…å¯èƒ½å¡ä½ï¼Œå…ˆé…ç½®å›½å†…é•œåƒï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta"># npm é…ç½®é•œåƒ</span>
npm config set electron_mirror https:<span class="hljs-comment">//npmmirror.com/mirrors/electron/</span>
<span class="hljs-meta"># yarn é…ç½®ï¼ˆå¦‚æœç”¨ yarnï¼‰</span>
yarn config set electron_mirror https:<span class="hljs-comment">//npmmirror.com/mirrors/electron/</span>
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€é¡¹ç›®åˆå§‹åŒ–ï¼š5æ­¥åˆ›å»ºç¬¬ä¸€ä¸ª Electron åº”ç”¨</h2>
<p>æˆ‘ä»¬ä»ç©ºæ–‡ä»¶å¤¹å¼€å§‹ï¼Œä¸€æ­¥æ­¥æ­å»ºä¸€ä¸ªèƒ½è¿è¡Œçš„åŸºç¡€é¡¹ç›®ã€‚</p>
<h3 data-id="heading-8">1. åˆ›å»ºé¡¹ç›®ç›®å½•å¹¶åˆå§‹åŒ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ›å»ºæ–‡ä»¶å¤¹å¹¶è¿›å…¥</span>
<span class="hljs-built_in">mkdir</span> electron-demo &amp;&amp; <span class="hljs-built_in">cd</span> electron-demo
<span class="hljs-comment"># 2. åˆå§‹åŒ– npm é¡¹ç›®ï¼ˆä¸€è·¯å›è½¦ï¼Œåç»­å¯ä¿®æ”¹ package.jsonï¼‰</span>
npm init -y
</code></pre>
<p>æ‰§è¡Œå®Œåï¼Œæ–‡ä»¶å¤¹é‡Œä¼šå¤šå‡ºä¸€ä¸ª <code>package.json</code> æ–‡ä»¶ï¼Œè¿™æ˜¯é¡¹ç›®çš„é…ç½®æ ¸å¿ƒã€‚</p>
<h3 data-id="heading-9">2. å®‰è£… Electron</h3>
<p>æŠŠ Electron è£…ä¸ºå¼€å‘ä¾èµ–ï¼ˆé¿å…æ‰“åŒ…æ—¶å†—ä½™ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># npm å®‰è£…</span>
npm install electron --save-dev
<span class="hljs-meta"># æˆ– yarn å®‰è£…</span>
yarn <span class="hljs-keyword">add</span> electron --dev
</code></pre>
<h3 data-id="heading-10">3. é…ç½® package.json</h3>
<p>ä¿®æ”¹ <code>package.json</code> çš„å…³é”®é…ç½®ï¼ŒæŒ‡å®šå…¥å£æ–‡ä»¶å’Œå¯åŠ¨è„šæœ¬ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"electron-demo"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Electron æ–°æ‰‹å®æˆ˜é¡¹ç›®"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"main.js"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä¸»è¿›ç¨‹å…¥å£æ–‡ä»¶</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"start"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"electron ."</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¯åŠ¨åº”ç”¨çš„å‘½ä»¤</span>
    <span class="hljs-attr">"pack"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"electron-builder --dir"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ‰“åŒ…æµ‹è¯•ç‰ˆ</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"electron-builder"</span> <span class="hljs-comment">// æ‰“åŒ…æ­£å¼ç‰ˆ</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„åå­—"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MIT"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"electron"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^28.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"electron-builder"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^24.9.1"</span> <span class="hljs-comment">// æ‰“åŒ…å·¥å…·ï¼Œå…ˆæå‰è£…</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-comment">// æ‰“åŒ…é…ç½®ï¼Œåç»­è¯¦ç»†è®²</span>
    <span class="hljs-attr">"appId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.youname.electrondemo"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"productName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElectronDemo"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-11">4. ç¼–å†™æ ¸å¿ƒä»£ç </h3>
<p>ç°åœ¨åˆ›å»ºä¸‰ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼Œå®ç°â€œä¸»è¿›ç¨‹åˆ›å»ºçª—å£ + æ¸²æŸ“è¿›ç¨‹æ˜¾ç¤ºç•Œé¢ + è¿›ç¨‹é—´é€šä¿¡â€çš„åŸºç¡€åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-12">â‘  ä¸»è¿›ç¨‹ï¼šmain.js</h4>
<p>è´Ÿè´£åˆ›å»ºçª—å£ã€å¤„ç† IPC é€šä¿¡å’Œç³»ç»Ÿäº‹ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼•å…¥ Electron æ ¸å¿ƒæ¨¡å—</span>
<span class="hljs-keyword">const</span> { app, <span class="hljs-title class_">BrowserWindow</span>, ipcMain } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);

<span class="hljs-keyword">let</span> mainWindow; <span class="hljs-comment">// ä¿å­˜çª—å£å¼•ç”¨ï¼Œé¿å…è¢«åƒåœ¾å›æ”¶</span>

<span class="hljs-comment">// åˆ›å»ºä¸»çª—å£çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createWindow</span>(<span class="hljs-params"/>) {
  mainWindow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-number">800</span>, <span class="hljs-comment">// çª—å£å®½åº¦</span>
    <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>, <span class="hljs-comment">// çª—å£é«˜åº¦</span>
    <span class="hljs-attr">minWidth</span>: <span class="hljs-number">600</span>, <span class="hljs-comment">// æœ€å°å®½åº¦</span>
    <span class="hljs-attr">webPreferences</span>: {
      <span class="hljs-comment">// å®‰å…¨èµ·è§ï¼Œæ¨èç”¨ preload è„šæœ¬æ›¿ä»£ç›´æ¥å¼€å¯ nodeIntegration</span>
      <span class="hljs-attr">contextIsolation</span>: <span class="hljs-literal">true</span>, 
      <span class="hljs-attr">preload</span>: path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'preload.js'</span>) 
    }
  });

  <span class="hljs-comment">// åŠ è½½æ¸²æŸ“è¿›ç¨‹çš„ HTML æ–‡ä»¶</span>
  mainWindow.<span class="hljs-title function_">loadFile</span>(<span class="hljs-string">'index.html'</span>);

  <span class="hljs-comment">// å¼€å‘é˜¶æ®µæ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆå’Œç½‘é¡µè°ƒè¯•ä¸€æ ·æ–¹ä¾¿ï¼‰</span>
  mainWindow.<span class="hljs-property">webContents</span>.<span class="hljs-title function_">openDevTools</span>();

  <span class="hljs-comment">// çª—å£å…³é—­æ—¶é‡Šæ”¾å¼•ç”¨</span>
  mainWindow.<span class="hljs-title function_">on</span>(<span class="hljs-string">'closed'</span>, <span class="hljs-function">() =&gt;</span> {
    mainWindow = <span class="hljs-literal">null</span>;
  });

  <span class="hljs-comment">// ç›‘å¬çª—å£çŠ¶æ€å˜åŒ–ï¼Œé€šè¿‡ IPC é€šçŸ¥æ¸²æŸ“è¿›ç¨‹</span>
  mainWindow.<span class="hljs-title function_">on</span>(<span class="hljs-string">'maximize'</span>, <span class="hljs-function">() =&gt;</span> {
    mainWindow.<span class="hljs-property">webContents</span>.<span class="hljs-title function_">send</span>(<span class="hljs-string">'window-status'</span>, <span class="hljs-string">'å·²æœ€å¤§åŒ–'</span>);
  });
}

<span class="hljs-comment">// ç›‘å¬æ¸²æŸ“è¿›ç¨‹å‘æ¥çš„æ¶ˆæ¯</span>
ipcMain.<span class="hljs-title function_">on</span>(<span class="hljs-string">'send-to-main'</span>, <span class="hljs-function">(<span class="hljs-params">event, data</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸²æŸ“è¿›ç¨‹ä¼ æ¥ï¼š'</span>, data);
  <span class="hljs-comment">// å›å¤æ¸²æŸ“è¿›ç¨‹</span>
  event.<span class="hljs-title function_">reply</span>(<span class="hljs-string">'reply-from-main'</span>, <span class="hljs-string">`æ”¶åˆ°ä½ çš„æ¶ˆæ¯å•¦ï¼š<span class="hljs-subst">${data}</span>`</span>);
});

<span class="hljs-comment">// åº”ç”¨å°±ç»ªååˆ›å»ºçª—å£</span>
app.<span class="hljs-title function_">whenReady</span>().<span class="hljs-title function_">then</span>(createWindow);

<span class="hljs-comment">// å¤„ç†ä¸åŒç³»ç»Ÿçš„çª—å£å…³é—­é€»è¾‘ï¼ˆmacOS ç‰¹æ®Šå¤„ç†ï¼‰</span>
app.<span class="hljs-title function_">on</span>(<span class="hljs-string">'window-all-closed'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">platform</span> !== <span class="hljs-string">'darwin'</span>) { <span class="hljs-comment">// darwin æ˜¯ macOS çš„æ ‡è¯†</span>
    app.<span class="hljs-title function_">quit</span>();
  }
});

<span class="hljs-comment">// macOS ä¸‹ç‚¹å‡» Dock å›¾æ ‡é‡æ–°åˆ›å»ºçª—å£</span>
app.<span class="hljs-title function_">on</span>(<span class="hljs-string">'activate'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">BrowserWindow</span>.<span class="hljs-title function_">getAllWindows</span>().<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-title function_">createWindow</span>();
  }
});
</code></pre>
<h4 data-id="heading-13">â‘¡ é¢„åŠ è½½è„šæœ¬ï¼špreload.jsï¼ˆå®‰å…¨é€šä¿¡å…³é”®ï¼‰</h4>
<p>Electron 12+ åé»˜è®¤å…³é—­äº†æ¸²æŸ“è¿›ç¨‹çš„ Node.js æƒé™ï¼Œæ¨èç”¨é¢„åŠ è½½è„šæœ¬å®ç°å®‰å…¨é€šä¿¡â€”â€”å®ƒåƒä¸€ä¸ªâ€œä¸­é—´ä»¶â€ï¼ŒæŠŠä¸»è¿›ç¨‹çš„ API å®‰å…¨åœ°æš´éœ²ç»™æ¸²æŸ“è¿›ç¨‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { contextBridge, ipcRenderer } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);

<span class="hljs-comment">// å‘æ¸²æŸ“è¿›ç¨‹çš„å…¨å±€å¯¹è±¡æš´éœ² APIï¼ˆå‘½åç©ºé—´ä¸º electronAPIï¼‰</span>
contextBridge.<span class="hljs-title function_">exposeInMainWorld</span>(<span class="hljs-string">'electronAPI'</span>, {
  <span class="hljs-comment">// å‘é€æ¶ˆæ¯åˆ°ä¸»è¿›ç¨‹</span>
  <span class="hljs-attr">sendMessage</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> ipcRenderer.<span class="hljs-title function_">send</span>(<span class="hljs-string">'send-to-main'</span>, data),
  <span class="hljs-comment">// ç›‘å¬ä¸»è¿›ç¨‹çš„å›å¤</span>
  <span class="hljs-attr">onMessage</span>: <span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> ipcRenderer.<span class="hljs-title function_">on</span>(<span class="hljs-string">'reply-from-main'</span>, <span class="hljs-function">(<span class="hljs-params">event, data</span>) =&gt;</span> <span class="hljs-title function_">callback</span>(data)),
  <span class="hljs-comment">// ç›‘å¬çª—å£çŠ¶æ€å˜åŒ–</span>
  <span class="hljs-attr">onWindowStatus</span>: <span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> ipcRenderer.<span class="hljs-title function_">on</span>(<span class="hljs-string">'window-status'</span>, <span class="hljs-function">(<span class="hljs-params">event, data</span>) =&gt;</span> <span class="hljs-title function_">callback</span>(data))
});
</code></pre>
<h4 data-id="heading-14">â‘¢ æ¸²æŸ“è¿›ç¨‹ï¼šindex.html + renderer.js</h4>
<p>æ¸²æŸ“è¿›ç¨‹è´Ÿè´£ UI å±•ç¤ºå’Œç”¨æˆ·äº¤äº’ï¼Œå’Œå¼€å‘æ™®é€šç½‘é¡µå®Œå…¨ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>);
<span class="hljs-keyword">const</span> msgBox = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'msg-box'</span>);

<span class="hljs-comment">// ç‚¹å‡»æŒ‰é’®å‘é€æ¶ˆæ¯åˆ°ä¸»è¿›ç¨‹</span>
btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">electronAPI</span>.<span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'Hello ä¸»è¿›ç¨‹ï¼Œæˆ‘æ˜¯æ¸²æŸ“è¿›ç¨‹ï¼'</span>);
});

<span class="hljs-comment">// ç›‘å¬ä¸»è¿›ç¨‹çš„å›å¤</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">electronAPI</span>.<span class="hljs-title function_">onMessage</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  msgBox.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`<span class="hljs-subst">${data}</span>`</span>;
});

<span class="hljs-comment">// ç›‘å¬çª—å£çŠ¶æ€å˜åŒ–</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-property">electronAPI</span>.<span class="hljs-title function_">onWindowStatus</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
  msgBox.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`çª—å£çŠ¶æ€ï¼š<span class="hljs-subst">${data}</span>`</span>;
});
</code></pre>
<h3 data-id="heading-15">5. å¯åŠ¨åº”ç”¨ï¼Œçœ‹æ•ˆæœï¼</h3>
<p>åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤ï¼Œå°±èƒ½çœ‹åˆ°ä½ çš„ç¬¬ä¸€ä¸ª Electron åº”ç”¨è·‘èµ·æ¥äº†ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">npm <span class="hljs-keyword">start</span>
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®ä¼šçœ‹åˆ°è¿›ç¨‹é—´é€šä¿¡çš„æ•ˆæœï¼Œæœ€å¤§åŒ–çª—å£ä¹Ÿä¼šæ”¶åˆ°çŠ¶æ€é€šçŸ¥ï¼Œå¼€å‘è€…å·¥å…·ä¹Ÿé»˜è®¤æ‰“å¼€äº†ï¼Œè°ƒè¯•èµ·æ¥å’Œç½‘é¡µä¸€æ¨¡ä¸€æ ·ã€‚</p>
<h2 data-id="heading-16">å››ã€è°ƒè¯•æŠ€å·§ï¼šä¸»è¿›ç¨‹+æ¸²æŸ“è¿›ç¨‹éƒ½èƒ½è°ƒ</h2>
<p>å¼€å‘ä¸­éš¾å…é‡åˆ° bugï¼ŒæŒæ¡è°ƒè¯•æŠ€å·§èƒ½çœå¾ˆå¤šæ—¶é—´ã€‚</p>
<h3 data-id="heading-17">1. æ¸²æŸ“è¿›ç¨‹è°ƒè¯•</h3>
<p>å’Œç½‘é¡µè°ƒè¯•å®Œå…¨ä¸€è‡´ï¼š - å¯åŠ¨åº”ç”¨åï¼Œä¸»è¿›ç¨‹ä»£ç é‡Œå·²ç»åŠ äº† <code>mainWindow.webContents.openDevTools()</code>ï¼Œä¼šè‡ªåŠ¨æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼› - æ–­ç‚¹ã€Consoleã€Network é¢æ¿éƒ½èƒ½ç”¨ï¼Œå’Œè°ƒè¯• Vue/React é¡¹ç›®æ²¡åŒºåˆ«ã€‚</p>
<h3 data-id="heading-18">2. ä¸»è¿›ç¨‹è°ƒè¯•ï¼ˆVS Codeï¼‰</h3>
<p>ä¸»è¿›ç¨‹æ˜¯ Node.js ç¯å¢ƒï¼Œéœ€è¦é…ç½®è°ƒè¯•æ–‡ä»¶ï¼š</p>
<ol>
<li>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.vscode/launch.json</code> æ–‡ä»¶ï¼›</li>
<li>ç²˜è´´ä»¥ä¸‹é…ç½®ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">{
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"0.2.0"</span>,
  <span class="hljs-string">"configurations"</span>: [
    {
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"Electron: Main"</span>,
      <span class="hljs-string">"type"</span>: <span class="hljs-string">"node"</span>,
      <span class="hljs-string">"request"</span>: <span class="hljs-string">"launch"</span>,
      <span class="hljs-string">"cwd"</span>: <span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>"</span>,
      <span class="hljs-string">"runtimeExecutable"</span>: <span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>/node_modules/.bin/electron"</span>,
      <span class="hljs-string">"windows"</span>: {
        <span class="hljs-string">"runtimeExecutable"</span>: <span class="hljs-string">"<span class="hljs-variable">${workspaceFolder}</span>/node_modules/.bin/electron.cmd"</span>
      },
      <span class="hljs-string">"args"</span>: [<span class="hljs-string">"."</span>],
      <span class="hljs-string">"outputCapture"</span>: <span class="hljs-string">"std"</span>
    }
  ]
}
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œåœ¨ VS Code ä¸­æŒ‰ <code>F5</code> å°±èƒ½å¯åŠ¨è°ƒè¯•ï¼Œåœ¨ <code>main.js</code> é‡Œæ‰“ä¸ªæ–­ç‚¹ï¼Œä»£ç æ‰§è¡Œåˆ°è¿™é‡Œå°±ä¼šæš‚åœï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚</p>
<h2 data-id="heading-19">äº”ã€å®æˆ˜æ‰©å±•ï¼šå¸¸ç”¨åŠŸèƒ½æ€ä¹ˆå®ç°ï¼Ÿ</h2>
<p>åŸºç¡€åº”ç”¨è·‘é€šåï¼Œæˆ‘ä»¬æ¥åŠ å‡ ä¸ªå¸¸ç”¨åŠŸèƒ½ï¼Œè®©åº”ç”¨æ›´å®ç”¨ã€‚</p>
<h3 data-id="heading-20">1. æ–‡ä»¶è¯»å†™ï¼ˆä¸»è¿›ç¨‹+IPCï¼‰</h3>
<p>æ¸²æŸ“è¿›ç¨‹ä¸èƒ½ç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œéœ€è¦é€šè¿‡ IPC è°ƒç”¨ä¸»è¿›ç¨‹çš„ Node.js èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">
<span class="hljs-keyword">const</span> fs = require(<span class="hljs-string">'fs'</span>); <span class="hljs-comment">// å¼•å…¥ Node.js çš„ fs æ¨¡å—</span>

<span class="hljs-comment">// ç”¨ handle æ–¹æ³•å¤„ç†å¼‚æ­¥è¯·æ±‚ï¼ˆæœ‰è¿”å›å€¼ï¼‰</span>
ipcMain.handle(<span class="hljs-string">'read-file'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-keyword">event</span>, filePath) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> content = fs.readFileSync(filePath, <span class="hljs-string">'utf8'</span>);
    <span class="hljs-keyword">return</span> { success: <span class="hljs-literal">true</span>, content };
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-keyword">return</span> { success: <span class="hljs-literal">false</span>, error: err.message };
  }
});

<span class="hljs-comment">// æ–‡ä»¶å†™å…¥</span>
ipcMain.handle(<span class="hljs-string">'write-file'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-keyword">event</span>, { filePath, content }) =&gt; {
  <span class="hljs-keyword">try</span> {
    fs.writeFileSync(filePath, content, <span class="hljs-string">'utf8'</span>);
    <span class="hljs-keyword">return</span> { success: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-keyword">return</span> { success: <span class="hljs-literal">false</span>, error: err.message };
  }
});
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript">
contextBridge.<span class="hljs-title function_">exposeInMainWorld</span>(<span class="hljs-string">'electronAPI'</span>, {
  <span class="hljs-comment">// æ–°å¢æ–‡ä»¶è¯»å†™æ–¹æ³•</span>
  <span class="hljs-attr">readFile</span>: <span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> ipcMain.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'read-file'</span>, filePath),
  <span class="hljs-attr">writeFile</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> ipcMain.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'write-file'</span>, data),
  <span class="hljs-comment">// åŸæœ‰æ–¹æ³•...</span>
});
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// è¯»å–æ–‡ä»¶ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">readTestFile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">electronAPI</span>.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">'./test.txt'</span>);
  <span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
    msgBox.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`æ–‡ä»¶å†…å®¹ï¼š<span class="hljs-subst">${result.content}</span>`</span>;
  } <span class="hljs-keyword">else</span> {
    msgBox.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`è¯»å–å¤±è´¥ï¼š<span class="hljs-subst">${result.error}</span>`</span>;
  }
}

<span class="hljs-comment">// å†™å…¥æ–‡ä»¶ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">writeTestFile</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">electronAPI</span>.<span class="hljs-title function_">writeFile</span>({
    <span class="hljs-attr">filePath</span>: <span class="hljs-string">'./output.txt'</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">'è¿™æ˜¯ Electron å†™å…¥çš„å†…å®¹'</span>
  });
  <span class="hljs-keyword">if</span> (result.<span class="hljs-property">success</span>) {
    msgBox.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`å†™å…¥æˆåŠŸï¼`</span>;
  }
}
</code></pre>
<h3 data-id="heading-21">2. ç³»ç»Ÿå¯¹è¯æ¡†ï¼ˆæ‰“å¼€æ–‡ä»¶/ä¿å­˜æ–‡ä»¶ï¼‰</h3>
<p>ç”¨ Electron è‡ªå¸¦çš„ <code>dialog</code> æ¨¡å—ï¼Œå®ç°ç³»ç»Ÿçº§çš„æ–‡ä»¶é€‰æ‹©æ¡†ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">
<span class="hljs-keyword">const</span> { dialog } = require(<span class="hljs-string">'electron'</span>);

<span class="hljs-comment">// æ‰“å¼€æ–‡ä»¶é€‰æ‹©æ¡†</span>
ipcMain.<span class="hljs-keyword">on</span>(<span class="hljs-string">'open-file-dialog'</span>, <span class="hljs-keyword">async</span> (<span class="hljs-keyword">event</span>) =&gt; {
  <span class="hljs-keyword">const</span> { filePaths } = <span class="hljs-keyword">await</span> dialog.showOpenDialog(mainWindow, {
    properties: [<span class="hljs-string">'openFile'</span>], <span class="hljs-comment">// åªå…è®¸æ‰“å¼€æ–‡ä»¶</span>
    filters: [{ name: <span class="hljs-string">'æ–‡æœ¬æ–‡ä»¶'</span>, extensions: [<span class="hljs-string">'txt'</span>] }] <span class="hljs-comment">// ç­›é€‰æ–‡ä»¶ç±»å‹</span>
  });
  <span class="hljs-comment">// å°†é€‰ä¸­çš„æ–‡ä»¶è·¯å¾„è¿”å›ç»™æ¸²æŸ“è¿›ç¨‹</span>
  <span class="hljs-keyword">if</span> (filePaths.length &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">event</span>.reply(<span class="hljs-string">'file-selected'</span>, filePaths[<span class="hljs-number">0</span>]);
  }
});
</code></pre>
<h3 data-id="heading-22">3. ç³»ç»Ÿæ‰˜ç›˜ï¼ˆå¸¸é©»ä»»åŠ¡æ ï¼‰</h3>
<p>ç»™åº”ç”¨åŠ ä¸ªæ‰˜ç›˜å›¾æ ‡ï¼Œç‚¹å‡»èƒ½æ˜¾ç¤ºèœå•ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼š</p>
<pre><code class="hljs language-scss" lang="scss">
const { Tray, <span class="hljs-selector-tag">Menu</span> } = <span class="hljs-built_in">require</span>('electron');

let tray;

function <span class="hljs-built_in">createTray</span>() {
  <span class="hljs-comment">// æ‰˜ç›˜å›¾æ ‡ï¼ˆéœ€è¦è‡ªå·±å‡†å¤‡ä¸€å¼ å›¾ç‰‡ï¼Œæ¯”å¦‚ tray.pngï¼‰</span>
  tray = new <span class="hljs-built_in">Tray</span>(path.join(__dirname, 'tray.png'));
  <span class="hljs-comment">// æ‰˜ç›˜å³é”®èœå•</span>
  const trayMenu = <span class="hljs-selector-tag">Menu</span><span class="hljs-selector-class">.buildFromTemplate</span>([
    { label: 'æ˜¾ç¤ºçª—å£', click: () =&gt; mainWindow<span class="hljs-selector-class">.show</span>() },
    { <span class="hljs-selector-tag">label</span>: <span class="hljs-string">'éšè—çª—å£'</span>, click: () =&gt; mainWindow.<span class="hljs-built_in">hide</span>() },
    { type: <span class="hljs-string">'separator'</span> }, <span class="hljs-comment">// åˆ†å‰²çº¿</span>
    { <span class="hljs-selector-tag">label</span>: <span class="hljs-string">'é€€å‡ºåº”ç”¨'</span>, click: () =&gt; app.<span class="hljs-built_in">quit</span>() }
  ]);
  tray<span class="hljs-selector-class">.setContextMenu</span>(trayMenu);
  tray<span class="hljs-selector-class">.setToolTip</span>('æˆ‘çš„ Electron åº”ç”¨'); <span class="hljs-comment">// é¼ æ ‡æ‚¬æµ®æç¤º</span>
  <span class="hljs-comment">// ç‚¹å‡»æ‰˜ç›˜å›¾æ ‡æ˜¾ç¤º/éšè—çª—å£</span>
  tray<span class="hljs-selector-class">.on</span>('click', () =&gt; {
    mainWindow<span class="hljs-selector-class">.isVisible</span>() ? mainWindow<span class="hljs-selector-class">.hide</span>() : mainWindow.<span class="hljs-built_in">show</span>();
  });
}

<span class="hljs-comment">// åœ¨ createWindow å‡½æ•°æœ«å°¾è°ƒç”¨</span>
<span class="hljs-built_in">createWindow</span>() {
  <span class="hljs-comment">// ... åŸæœ‰ä»£ç  ...</span>
  <span class="hljs-built_in">createTray</span>();
}
</code></pre>
<h2 data-id="heading-23">å…­ã€æ‰“åŒ…å‘å¸ƒï¼šç”Ÿæˆå„å¹³å°å®‰è£…åŒ…</h2>
<p>å¼€å‘å®Œæˆåï¼Œéœ€è¦æ‰“åŒ…æˆå¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…ï¼Œæ‰èƒ½åˆ†å‘ç»™ç”¨æˆ·ã€‚è¿™é‡Œç”¨æœ€å¸¸ç”¨çš„ <code>electron-builder</code> å·¥å…·ã€‚</p>
<h3 data-id="heading-24">1. å®Œå–„æ‰“åŒ…é…ç½®</h3>
<p>ä¿®æ”¹ <code>package.json</code> ä¸­çš„ <code>build</code> å­—æ®µï¼Œé€‚é… Windowsã€macOSã€Linux ä¸‰å¤§å¹³å°ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"appId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.youname.electrondemo"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åº”ç”¨å”¯ä¸€æ ‡è¯†ï¼ˆåå‘åŸŸåæ ¼å¼ï¼‰</span>
  <span class="hljs-attr">"productName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ElectronDemo"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åº”ç”¨åç§°</span>
  <span class="hljs-attr">"directories"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist"</span> <span class="hljs-comment">// æ‰“åŒ…è¾“å‡ºç›®å½•</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// æ‰“åŒ…æ—¶éœ€è¦åŒ…å«çš„æ–‡ä»¶</span>
    <span class="hljs-string">"main.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"preload.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"renderer.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"tray.png"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ‰˜ç›˜å›¾æ ‡</span>
    <span class="hljs-string">"node_modules/**/*"</span> <span class="hljs-comment">// ä¾èµ–åŒ…</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-comment">// Windows é…ç½®</span>
  <span class="hljs-attr">"win"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span> <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"nsis"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"arch"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"x64"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ia32"</span><span class="hljs-punctuation">]</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å®‰è£…åŒ…ï¼ˆ32/64ä½ï¼‰</span>
      <span class="hljs-string">"portable"</span> <span class="hljs-comment">// ä¾¿æºç‰ˆï¼ˆæ— éœ€å®‰è£…ï¼‰</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assets/icon.ico"</span> <span class="hljs-comment">// åº”ç”¨å›¾æ ‡ï¼ˆico æ ¼å¼ï¼‰</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-comment">// macOS é…ç½®</span>
  <span class="hljs-attr">"mac"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dmg"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç”Ÿæˆ dmg å®‰è£…åŒ…</span>
    <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assets/icon.icns"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å›¾æ ‡ï¼ˆicns æ ¼å¼ï¼‰</span>
    <span class="hljs-attr">"category"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"public.app-category.utilities"</span> <span class="hljs-comment">// åº”ç”¨åˆ†ç±»</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-comment">// Linux é…ç½®</span>
  <span class="hljs-attr">"linux"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"deb"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// deb åŒ…ï¼ˆUbuntu ç­‰ç³»ç»Ÿç”¨ï¼‰</span>
    <span class="hljs-attr">"icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assets/icon.png"</span> <span class="hljs-comment">// å›¾æ ‡ï¼ˆpng æ ¼å¼ï¼‰</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-comment">// Windows å®‰è£…åŒ…ç»†èŠ‚é…ç½®</span>
  <span class="hljs-attr">"nsis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"oneClick"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ä¸å¯ç”¨ä¸€é”®å®‰è£…</span>
    <span class="hljs-attr">"allowToChangeInstallationDirectory"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…è®¸ç”¨æˆ·é€‰æ‹©å®‰è£…ç›®å½•</span>
    <span class="hljs-attr">"createDesktopShortcut"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼</span>
    <span class="hljs-attr">"installerIcon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assets/icon.ico"</span> <span class="hljs-comment">// å®‰è£…ç¨‹åºå›¾æ ‡</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-25">2. å‡†å¤‡å›¾æ ‡èµ„æº</h3>
<p>ä¸åŒå¹³å°å¯¹å›¾æ ‡æ ¼å¼è¦æ±‚ä¸åŒï¼Œæ¨èç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Ficon.wuruihong.com%2F" target="_blank" title="https://icon.wuruihong.com/" ref="nofollow noopener noreferrer">å›¾æ ‡è½¬æ¢å·¥å…·</a> ç”Ÿæˆå¯¹åº”æ ¼å¼ï¼š</p>
<ul>
<li>Windowsï¼šico æ ¼å¼ï¼ˆå°ºå¯¸ 256x256ï¼‰ï¼›</li>
<li>macOSï¼šicns æ ¼å¼ï¼›</li>
<li>Linuxï¼špng æ ¼å¼ï¼ˆå°ºå¯¸ 512x512ï¼‰ã€‚</li>
</ul>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>assets</code> æ–‡ä»¶å¤¹ï¼ŒæŠŠå›¾æ ‡æ”¾è¿›å»ã€‚</p>
<h3 data-id="heading-26">3. æ‰§è¡Œæ‰“åŒ…å‘½ä»¤</h3>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ‰“åŒ…æµ‹è¯•ç‰ˆï¼ˆæœªå‹ç¼©ï¼Œå¿«é€Ÿç”Ÿæˆï¼Œç”¨äºæµ‹è¯•ï¼‰</span>
npm run <span class="hljs-keyword">pack</span>

<span class="hljs-comment"># æ‰“åŒ…æ­£å¼ç‰ˆï¼ˆç”Ÿæˆå®‰è£…åŒ…ï¼Œé€‚åˆåˆ†å‘ï¼‰</span>
npm run build
</code></pre>
<p>æ‰“åŒ…å®Œæˆåï¼Œ<code>dist</code> ç›®å½•ä¸‹ä¼šå‡ºç°å¯¹åº”å¹³å°çš„å®‰è£…åŒ…ï¼Œæ¯”å¦‚ Windows ä¼šæœ‰ <code>.exe</code> å®‰è£…ç¨‹åºå’Œä¾¿æºç‰ˆï¼ŒmacOS ä¼šæœ‰ <code>.dmg</code> æ–‡ä»¶ã€‚</p>
<p>æ³¨æ„ï¼šmacOS å®‰è£…åŒ…éœ€è¦åœ¨ macOS ç³»ç»Ÿä¸Šæ‰“åŒ…ï¼ŒWindows å®‰è£…åŒ…å¯åœ¨ Windows æˆ– macOSï¼ˆéœ€è£… Wineï¼‰ä¸Šæ‰“åŒ…ã€‚</p>
<h2 data-id="heading-27">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–ï¼šè§£å†³ Electron åº”ç”¨â€œä½“ç§¯å¤§ã€å¯åŠ¨æ…¢â€é—®é¢˜</h2>
<p>Electron åº”ç”¨çš„é€šç—…æ˜¯ä½“ç§¯å¤§ã€å¯åŠ¨æ…¢ï¼Œè¿™äº›ä¼˜åŒ–æŠ€å·§èƒ½å¸®ä½ æ”¹å–„ä½“éªŒã€‚</p>
<ol>
<li><strong>ç²¾ç®€ä¾èµ–</strong>ï¼š - ç”¨ <code>npm prune --production</code> ç§»é™¤å¼€å‘ä¾èµ–ï¼› - é¿å…å¼•å…¥å¤§ä½“ç§¯åº“ï¼ˆæ¯”å¦‚ç”¨ Lodash å­é›†æ›¿ä»£å®Œæ•´åŒ…ï¼‰ã€‚</li>
<li><strong>ç¦ç”¨ä¸å¿…è¦åŠŸèƒ½</strong>ï¼š - ç”Ÿäº§ç¯å¢ƒå…³é—­å¼€å‘è€…å·¥å…·ï¼› - å…³é—­ <code>nodeIntegration</code>ï¼Œåªç”¨ preload è„šæœ¬æš´éœ²å¿…è¦ APIã€‚</li>
<li><strong>èµ„æºå‹ç¼©</strong>ï¼š - ç”¨ Webpack/Vite å‹ç¼© HTML/CSS/JSï¼› - ä¼˜åŒ–å›¾ç‰‡ï¼ˆç”¨ TinyPNG ç­‰å·¥å…·å‹ç¼©ï¼‰ã€‚</li>
<li><strong>å¯åŠ¨ä¼˜åŒ–</strong>ï¼š - å»¶è¿ŸåŠ è½½éé¦–å±èµ„æºï¼› - é¿å…ä¸»è¿›ç¨‹å¯åŠ¨æ—¶æ‰§è¡Œè¿‡å¤šåŒæ­¥æ“ä½œã€‚</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼š - çª—å£å…³é—­æ—¶åŠæ—¶é‡Šæ”¾å¼•ç”¨ï¼› - æ¸…ç†æ— ç”¨çš„ IPC ç›‘å¬ï¼ˆç”¨ <code>ipcRenderer.removeListener</code>ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-28">å…«ã€å¸¸è§è¸©å‘æ€»ç»“</h2>
<p>æ•´ç†äº†å‡ ä¸ªæ–°æ‰‹å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œå¸®ä½ å°‘èµ°å¼¯è·¯ï¼š</p>
<ul>
<li><strong>Electron å®‰è£…å¤±è´¥</strong>ï¼š åŸå› ï¼šç½‘ç»œé—®é¢˜æˆ– Node.js ç‰ˆæœ¬ä¸å…¼å®¹ã€‚ è§£å†³ï¼šé…ç½®å›½å†…é•œåƒï¼Œç¡®è®¤ Node.js æ˜¯ LTS ç‰ˆæœ¬ï¼Œæ‰§è¡Œ <code>npm cache clean --force</code> æ¸…ç†ç¼“å­˜åé‡è¯•ã€‚</li>
<li><strong>æ¸²æŸ“è¿›ç¨‹è°ƒç”¨ electronAPI æŠ¥é”™</strong>ï¼š åŸå› ï¼špreload è„šæœ¬é…ç½®é”™è¯¯ï¼Œæˆ– API æœªæš´éœ²ã€‚ è§£å†³ï¼šæ£€æŸ¥ <code>webPreferences</code> ä¸­ <code>preload</code> è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤ <code>contextBridge.exposeInMainWorld</code> é…ç½®æ— è¯¯ã€‚</li>
<li><strong>æ‰“åŒ…ååº”ç”¨æ— æ³•è¿è¡Œ</strong>ï¼š åŸå› ï¼š<code>build.files</code> é…ç½®é—æ¼æ–‡ä»¶ï¼Œæˆ–ä¾èµ–ç¼ºå¤±ã€‚ è§£å†³ï¼šç¡®è®¤æ‰€æœ‰æ ¸å¿ƒæ–‡ä»¶éƒ½åœ¨ <code>files</code> åˆ—è¡¨ä¸­ï¼Œæ‰“åŒ…å‰é‡æ–°å®‰è£…ä¾èµ–ï¼ˆ<code>rm -rf node_modules &amp;&amp; npm install</code>ï¼‰ã€‚</li>
<li><strong>macOS åº”ç”¨æ— æ³•æ‰“å¼€ï¼ˆæç¤ºâ€œæœªçŸ¥å¼€å‘è€…â€ï¼‰</strong> ï¼š åŸå› ï¼šmacOS å®‰å…¨æœºåˆ¶é™åˆ¶ã€‚ è§£å†³ï¼šå³é”®åº”ç”¨é€‰æ‹©â€œæ‰“å¼€â€ï¼Œæˆ–ç”¨è‹¹æœå¼€å‘è€…è´¦å·ç­¾åï¼ˆæ­£å¼å‘å¸ƒéœ€è¦ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-29">ä¹ã€æ€»ç»“ä¸æ‰©å±•</h2>
<p>åˆ°è¿™é‡Œï¼Œä½ å·²ç»æŒæ¡äº† Electron å¼€å‘çš„å®Œæ•´æµç¨‹ï¼šä»ç¯å¢ƒæ­å»ºåˆ°é¡¹ç›®åˆå§‹åŒ–ï¼Œä»æ ¸å¿ƒåŠŸèƒ½å¼€å‘åˆ°æ‰“åŒ…å‘å¸ƒï¼Œå†åˆ°è°ƒè¯•å’Œä¼˜åŒ–ã€‚Electron çš„æ ¸å¿ƒä¼˜åŠ¿å°±æ˜¯â€œå¤ç”¨å‰ç«¯æŠ€æœ¯æ ˆï¼Œè·¨å¹³å°æˆæœ¬ä½â€ï¼Œå‰ç«¯å¼€å‘è€…å‡ ä¹é›¶é—¨æ§›å°±èƒ½ä¸Šæ‰‹ã€‚</p>
<p>å¦‚æœæƒ³å¼€å‘æ›´å¤æ‚çš„åº”ç”¨ï¼Œå¯ä»¥ç»“åˆè¿™äº›å·¥å…·ï¼š</p>
<ul>
<li><strong>UI æ¡†æ¶</strong>ï¼šç”¨ Vue/React/Angular æ„å»ºå¤æ‚ç•Œé¢ï¼ˆæ¯”å¦‚ <code>vue-cli-plugin-electron-builder</code> å¯å¿«é€Ÿåˆ›å»º Vue+Electron é¡¹ç›®ï¼‰ï¼›</li>
<li><strong>æœ¬åœ°å­˜å‚¨</strong>ï¼šç”¨ <code>electron-store</code> å­˜å‚¨é…ç½®ä¿¡æ¯ï¼Œæ¯” <code>localStorage</code> æ›´ç¨³å®šï¼›</li>
<li><strong>è‡ªåŠ¨æ›´æ–°</strong>ï¼šç”¨ <code>electron-updater</code> å®ç°åº”ç”¨è‡ªåŠ¨æ›´æ–°ï¼›</li>
<li><strong>è°ƒè¯•å·¥å…·</strong>ï¼š<code>electron-inspector</code> å¢å¼ºè°ƒè¯•èƒ½åŠ›ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œå°±ç”¨ Electron æŠŠä½ çš„ç½‘é¡µé¡¹ç›®æ”¹é€ æˆæ¡Œé¢åº”ç”¨å§ï¼å¦‚æœé‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose å®æˆ˜ï¼šå®ç°æ‰‹åŠ¿ç¼©æ”¾å›¾ç‰‡ (Zoomable Image) ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7581415427516956714</link>    <guid>https://juejin.cn/post/7581415427516956714</guid>    <pubDate>2025-12-09T07:04:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581415427516956714" data-draft-id="7581481178822836243" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose å®æˆ˜ï¼šå®ç°æ‰‹åŠ¿ç¼©æ”¾å›¾ç‰‡ (Zoomable Image) ç»„ä»¶"/> <meta itemprop="keywords" content="Kotlin,Android Jetpack"/> <meta itemprop="datePublished" content="2025-12-09T07:04:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å„¿æ­Œå…«ä¸‡é¦–"/> <meta itemprop="url" content="https://juejin.cn/user/3034307822894333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose å®æˆ˜ï¼šå®ç°æ‰‹åŠ¿ç¼©æ”¾å›¾ç‰‡ (Zoomable Image) ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3034307822894333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å„¿æ­Œå…«ä¸‡é¦–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:04:04.000Z" title="Tue Dec 09 2025 07:04:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Android å¼€å‘ä¸­ï¼ŒæŸ¥çœ‹å¤§å›¾ã€æ‰‹åŠ¿ç¼©æ”¾æ˜¯ä¸€ä¸ªéå¸¸é«˜é¢‘çš„éœ€æ±‚ã€‚åœ¨ä¼ ç»Ÿçš„ View ä½“ç³»ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨ <code>PhotoView</code> è¿™æ ·çš„ç¬¬ä¸‰æ–¹åº“ã€‚è€Œåœ¨ Jetpack Compose ä¸­ï¼Œå¾—ç›Šäºå¼ºå¤§çš„æ‰‹åŠ¿å¤„ç† APIï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¾ˆå°‘çš„ä»£ç è‡ªå·±å®ç°ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ç¼©æ”¾ç»„ä»¶ã€‚</p>
<p>æœ¬æ–‡å°†å®ç°ä¸€ä¸ªæ”¯æŒ <strong>åŒæŒ‡ç¼©æ”¾ (Pinch to Zoom)</strong>ã€<strong>å•æŒ‡æ‹–æ‹½ (Pan)</strong> ä»¥åŠ <strong>åŒå‡»æ”¾å¤§/å¤åŸ (Double Tap)</strong> çš„å›¾ç‰‡ç»„ä»¶ã€‚</p>
<h2 data-id="heading-0">1. æ ¸å¿ƒ API</h2>
<p>Compose æä¾›äº†ä¸¤ä¸ªå…³é”®çš„ Modifier æ¥å¤„ç†æ‰‹åŠ¿å’Œå˜æ¢ï¼š</p>
<ol>
<li><strong><code>Modifier.pointerInput</code></strong>: ç”¨äºç›‘å¬åº•å±‚çš„æ‰‹åŠ¿äº‹ä»¶ã€‚æˆ‘ä»¬å°†ä¸»è¦ä½¿ç”¨ <code>detectTransformGestures</code> æ¥æ£€æµ‹ç¼©æ”¾å’Œå¹³ç§»ï¼Œä»¥åŠ <code>detectTapGestures</code> æ¥æ£€æµ‹åŒå‡»ã€‚</li>
<li><strong><code>Modifier.graphicsLayer</code></strong>: ç”¨äºåº”ç”¨å˜æ¢ï¼ˆç¼©æ”¾ã€å¹³ç§»ã€æ—‹è½¬ï¼‰ï¼Œå®ƒæ¯”ç›´æ¥æ”¹å˜å®½é«˜ç­‰å±æ€§æ€§èƒ½æ›´å¥½ï¼Œå› ä¸ºå®ƒåœ¨ GPU å±‚é¢ä¸Šæ“ä½œï¼Œé¿å…äº†ä¸å¿…è¦çš„é‡ç»„ (Recomposition) å’Œé‡ç»˜ã€‚</li>
</ol>
<h2 data-id="heading-1">2. åŸºç¡€å®ç°ï¼šåŒæŒ‡ç¼©æ”¾ä¸å¹³ç§»</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰çŠ¶æ€å˜é‡æ¥ä¿å­˜å½“å‰çš„ç¼©æ”¾æ¯”ä¾‹ (<code>scale</code>) å’Œåç§»é‡ (<code>offset</code>)ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SimpleZoomableImage</span><span class="hljs-params">(
    painter: <span class="hljs-type">Painter</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier
)</span></span> {
    <span class="hljs-comment">// çŠ¶æ€ï¼šç¼©æ”¾æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 1f</span>
    <span class="hljs-keyword">var</span> scale <span class="hljs-keyword">by</span> remember { mutableFloatStateOf(<span class="hljs-number">1f</span>) }
    <span class="hljs-comment">// çŠ¶æ€ï¼šåç§»é‡ï¼Œé»˜è®¤ä¸º (0, 0)</span>
    <span class="hljs-keyword">var</span> offset <span class="hljs-keyword">by</span> remember { mutableStateOf(Offset.Zero) }

    Box(
        modifier = modifier
            <span class="hljs-comment">// è£å‰ªè¶…å‡ºè¾¹ç•Œçš„å†…å®¹</span>
            .clip(RectangleShape)
            .pointerInput(<span class="hljs-built_in">Unit</span>) {
                detectTransformGestures { _, pan, zoom, _ -&gt;
                    <span class="hljs-comment">// 1. è®¡ç®—æ–°çš„ç¼©æ”¾æ¯”ä¾‹</span>
                    scale *= zoom
                    <span class="hljs-comment">// é™åˆ¶æœ€å°ç¼©æ”¾ä¸º 1å€ï¼Œæœ€å¤§ä¸º 3å€</span>
                    scale = scale.coerceIn(<span class="hljs-number">1f</span>, <span class="hljs-number">3f</span>)

                    <span class="hljs-comment">// 2. è®¡ç®—æ–°çš„åç§»é‡ (åªæœ‰æ”¾å¤§æ—¶æ‰å…è®¸æ‹–åŠ¨)</span>
                    <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œéœ€è¦æ ¹æ® scale è¿›è¡Œç´¯åŠ </span>
                    <span class="hljs-comment">// ç®€å•çš„å®ç°å¯ä»¥ç›´æ¥ç´¯åŠ  pan</span>
                    <span class="hljs-keyword">if</span> (scale &gt; <span class="hljs-number">1f</span>) {
                        <span class="hljs-keyword">val</span> newOffset = offset + pan
                        <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ·»åŠ è¾¹ç•Œé™åˆ¶é€»è¾‘ï¼Œæš‚ä¸”ç•¥è¿‡</span>
                        offset = newOffset
                    } <span class="hljs-keyword">else</span> {
                        offset = Offset.Zero
                    }
                }
            }
    ) {
        Image(
            painter = painter,
            contentDescription = <span class="hljs-literal">null</span>,
            contentScale = ContentScale.Fit,
            modifier = Modifier
                .fillMaxSize()
                .graphicsLayer {
                    <span class="hljs-comment">// åº”ç”¨å˜æ¢</span>
                    scaleX = scale
                    scaleY = scale
                    translationX = offset.x
                    translationY = offset.y
                }
        )
    }
}
</code></pre>
<h2 data-id="heading-2">3. è¿›é˜¶åŠŸèƒ½ï¼šåŒå‡»ç¼©æ”¾ä¸å›å¼¹åŠ¨ç”»</h2>
<p>ä¸ºäº†æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬éœ€è¦åŠ å…¥åŠ¨ç”»æ•ˆæœï¼Œå¹¶å¤„ç†åŒå‡»é€»è¾‘ã€‚å½“ç”¨æˆ·åŒå‡»æ—¶ï¼Œå¦‚æœå½“å‰æœªæ”¾å¤§ï¼Œåˆ™æ”¾å¤§åˆ°æŒ‡å®šå€æ•°ï¼›å¦‚æœå·²æ”¾å¤§ï¼Œåˆ™æ¢å¤åŸçŠ¶ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>Animatable</code> æ¥æ›¿ä»£ç®€å•çš„ <code>MutableState</code>ï¼Œä»¥ä¾¿æ‰§è¡ŒåŠ¨ç”»ã€‚</p>
<h3 data-id="heading-3">å®Œæ•´ä»£ç å®ç°</h3>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå°è£…å¥½çš„ <code>ZoomableImage</code> ç»„ä»¶ï¼Œæ•´åˆäº†åŒå‡»ã€æ‰‹åŠ¿ç¼©æ”¾å’Œè¾¹ç•Œæ§åˆ¶ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> androidx.compose.foundation.Image
<span class="hljs-keyword">import</span> androidx.compose.foundation.gestures.detectTapGestures
<span class="hljs-keyword">import</span> androidx.compose.foundation.gestures.detectTransformGestures
<span class="hljs-keyword">import</span> androidx.compose.foundation.layout.Box
<span class="hljs-keyword">import</span> androidx.compose.foundation.layout.fillMaxSize
<span class="hljs-keyword">import</span> androidx.compose.runtime.*
<span class="hljs-keyword">import</span> androidx.compose.ui.Alignment
<span class="hljs-keyword">import</span> androidx.compose.ui.Modifier
<span class="hljs-keyword">import</span> androidx.compose.ui.draw.clip
<span class="hljs-keyword">import</span> androidx.compose.ui.geometry.Offset
<span class="hljs-keyword">import</span> androidx.compose.ui.graphics.RectangleShape
<span class="hljs-keyword">import</span> androidx.compose.ui.graphics.graphicsLayer
<span class="hljs-keyword">import</span> androidx.compose.ui.graphics.painter.Painter
<span class="hljs-keyword">import</span> androidx.compose.ui.input.pointer.pointerInput
<span class="hljs-keyword">import</span> androidx.compose.ui.layout.ContentScale
<span class="hljs-keyword">import</span> androidx.compose.ui.layout.onSizeChanged
<span class="hljs-keyword">import</span> androidx.compose.ui.unit.IntSize
<span class="hljs-keyword">import</span> kotlinx.coroutines.launch

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ZoomableImage</span><span class="hljs-params">(
    painter: <span class="hljs-type">Painter</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier,
    contentDescription: <span class="hljs-type">String</span>? = <span class="hljs-literal">null</span>,
    maxScale: <span class="hljs-type">Float</span> = <span class="hljs-number">3</span>f,
    minScale: <span class="hljs-type">Float</span> = <span class="hljs-number">1</span>f
)</span></span> {
    <span class="hljs-comment">// ç¼©æ”¾æ¯”ä¾‹åŠ¨ç”»çŠ¶æ€</span>
    <span class="hljs-keyword">var</span> scale <span class="hljs-keyword">by</span> remember { mutableFloatStateOf(<span class="hljs-number">1f</span>) }
    <span class="hljs-comment">// åç§»é‡åŠ¨ç”»çŠ¶æ€</span>
    <span class="hljs-keyword">var</span> offset <span class="hljs-keyword">by</span> remember { mutableStateOf(Offset.Zero) }
    
    <span class="hljs-comment">// ç”¨äºè®¡ç®—è¾¹ç•Œ</span>
    <span class="hljs-keyword">var</span> size <span class="hljs-keyword">by</span> remember { mutableStateOf(IntSize.Zero) }

    Box(
        modifier = modifier
            .clip(RectangleShape) <span class="hljs-comment">// ç¡®ä¿å›¾ç‰‡æ”¾å¤§åä¸ç”»å‡ºè¾¹ç•Œ</span>
            .onSizeChanged { size = it }
            .pointerInput(<span class="hljs-built_in">Unit</span>) {
                <span class="hljs-comment">// å¤„ç†åŒå‡»äº‹ä»¶</span>
                detectTapGestures(
                    onDoubleTap = { tapOffset -&gt;
                        <span class="hljs-comment">// å¦‚æœå½“å‰å·²ç»æ”¾å¤§äº†ï¼Œåˆ™æ¢å¤åŸçŠ¶</span>
                        <span class="hljs-keyword">if</span> (scale &gt; <span class="hljs-number">1f</span>) {
                            scale = <span class="hljs-number">1f</span>
                            offset = Offset.Zero
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-comment">// åŒå‡»æ”¾å¤§ï¼šé€šå¸¸æ”¾å¤§åˆ°æœ€å¤§å€æ•°</span>
                            <span class="hljs-comment">// è¿™é‡Œå¯ä»¥åšä¸€ä¸ªç®€å•çš„è®¡ç®—ï¼Œè®©åŒå‡»ç‚¹æˆä¸ºä¸­å¿ƒ</span>
                            <span class="hljs-comment">// ä¸ºäº†æ¼”ç¤ºç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥æ”¾å¤§ï¼Œä¸åšå¤æ‚çš„ä¸­å¿ƒç‚¹åç§»è®¡ç®—</span>
                            scale = maxScale
                        }
                    }
                )
            }
            .pointerInput(<span class="hljs-built_in">Unit</span>) {
                <span class="hljs-comment">// å¤„ç†æ‰‹åŠ¿å˜æ¢ï¼ˆç¼©æ”¾å’Œå¹³ç§»ï¼‰</span>
                detectTransformGestures { centroid, pan, zoom, _ -&gt;
                    <span class="hljs-keyword">val</span> oldScale = scale
                    <span class="hljs-keyword">val</span> newScale = (scale * zoom).coerceIn(minScale, maxScale)
                    
                    <span class="hljs-comment">// 1. æ›´æ–°ç¼©æ”¾</span>
                    scale = newScale

                    <span class="hljs-comment">// 2. æ›´æ–°åç§»é‡</span>
                    <span class="hljs-comment">// ä¸ºäº†è®©ç¼©æ”¾è¿‡ç¨‹æ›´è‡ªç„¶ï¼ˆä»¥ä¸¤æŒ‡ä¸­å¿ƒä¸ºåŸºå‡†ï¼‰ï¼Œéœ€è¦é…åˆ centroid è®¡ç®— offset</span>
                    <span class="hljs-comment">// è¿™é‡Œçš„ç®—æ³•ç®€åŒ–å¤„ç†ï¼šä»…å¤„ç†å¹³ç§» pan å’ŒåŸºäºç¼©æ”¾çš„ç®€å•ä½ç§»</span>
                    <span class="hljs-comment">// çœŸå®çš„ PhotoView ç®—æ³•ä¼šæ›´å¤æ‚ï¼Œéœ€è¦è€ƒè™‘ centroid çš„ä½ç½®ä¿æŒä¸åŠ¨</span>
                    
                    <span class="hljs-comment">// ç®€å•çš„å¹³ç§»é€»è¾‘ï¼š</span>
                    <span class="hljs-keyword">var</span> newOffset = offset + pan
                    
                    <span class="hljs-comment">// 3. è¾¹ç•Œé™åˆ¶ (Rubber Banding ç®€åŒ–ç‰ˆ)</span>
                    <span class="hljs-comment">// è®¡ç®—å›¾ç‰‡æ”¾å¤§åçš„å®½é«˜</span>
                    <span class="hljs-keyword">val</span> imageWidth = size.width * scale
                    <span class="hljs-keyword">val</span> imageHeight = size.height * scale
                    
                    <span class="hljs-comment">// è®¡ç®—å…è®¸çš„æœ€å¤§åç§»é‡ (Xè½´å’ŒYè½´)</span>
                    <span class="hljs-comment">// å¦‚æœå›¾ç‰‡å®½åº¦å¤§äºå®¹å™¨ï¼Œå…è®¸å·¦å³æ»‘åŠ¨ï¼›å¦åˆ™å±…ä¸­ï¼ˆåç§»é™åˆ¶ä¸º0ï¼‰</span>
                    <span class="hljs-keyword">val</span> maxOffsetX = ((imageWidth - size.width) / <span class="hljs-number">2</span>).coerceAtLeast(<span class="hljs-number">0f</span>)
                    <span class="hljs-keyword">val</span> maxOffsetY = ((imageHeight - size.height) / <span class="hljs-number">2</span>).coerceAtLeast(<span class="hljs-number">0f</span>)
                    
                    <span class="hljs-comment">// é™åˆ¶ Offset åœ¨ [-max, +max] ä¹‹é—´</span>
                    newOffset = Offset(
                        x = newOffset.x.coerceIn(-maxOffsetX, maxOffsetX),
                        y = newOffset.y.coerceIn(-maxOffsetY, maxOffsetY)
                    )
                    
                    offset = newOffset
                }
            }
    ) {
        Image(
            painter = painter,
            contentDescription = contentDescription,
            contentScale = ContentScale.Fit,
            modifier = Modifier
                .fillMaxSize()
                .align(Alignment.Center)
                .graphicsLayer {
                    scaleX = scale
                    scaleY = scale
                    translationX = offset.x
                    translationY = offset.y
                }
        )
    }
}
</code></pre>
<h2 data-id="heading-4">4. ä¼˜åŒ–ä½“éªŒï¼šæ·»åŠ åŠ¨ç”»</h2>
<p>ä¸Šé¢çš„ä»£ç æ˜¯ç¬æ—¶æ”¹å˜çŠ¶æ€çš„ã€‚ä¸ºäº†è®©ä½“éªŒæ›´ä¸æ»‘ï¼ˆä¾‹å¦‚åŒå‡»æ”¾å¤§æ—¶æœ‰è¿‡æ¸¡åŠ¨ç”»ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Animatable</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">AnimatedZoomableImage</span><span class="hljs-params">(
    painter: <span class="hljs-type">Painter</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier
)</span></span> {
    <span class="hljs-keyword">val</span> scale = remember { Animatable(<span class="hljs-number">1f</span>) }
    <span class="hljs-keyword">val</span> offset = remember { Animatable(Offset.Zero, Offset.VectorConverter) }
    <span class="hljs-keyword">val</span> scope = rememberCoroutineScope()

    Box(
        modifier = modifier
            .pointerInput(<span class="hljs-built_in">Unit</span>) {
                detectTapGestures(
                    onDoubleTap = {
                        scope.launch {
                            <span class="hljs-keyword">if</span> (scale.value &gt; <span class="hljs-number">1f</span>) {
                                <span class="hljs-comment">// åŠ¨ç”»å¤åŸ</span>
                                scale.animateTo(<span class="hljs-number">1f</span>)
                                offset.animateTo(Offset.Zero)
                            } <span class="hljs-keyword">else</span> {
                                <span class="hljs-comment">// åŠ¨ç”»æ”¾å¤§</span>
                                scale.animateTo(<span class="hljs-number">3f</span>)
                            }
                        }
                    }
                )
            }
            .pointerInput(<span class="hljs-built_in">Unit</span>) {
                detectTransformGestures { _, pan, zoom, _ -&gt;
                    scope.launch {
                        <span class="hljs-comment">// æ‰‹åŠ¿è¿‡ç¨‹ä¸­é€šå¸¸ä½¿ç”¨ snapTo ç›´æ¥è®¾ç½®å€¼ï¼Œé¿å…åŠ¨ç”»å»¶è¿Ÿ</span>
                        scale.snapTo((scale.value * zoom).coerceIn(<span class="hljs-number">1f</span>, <span class="hljs-number">3f</span>))
                        
                        <span class="hljs-comment">// ç®€å•çš„ Pan å¤„ç†</span>
                        <span class="hljs-keyword">val</span> newOffset = offset.value + pan
                        offset.snapTo(newOffset)
                    }
                }
            }
    ) {
        <span class="hljs-comment">// Image ... (ä½¿ç”¨ scale.value å’Œ offset.value)</span>
    }
}
</code></pre>
<h2 data-id="heading-5">5. æ€»ç»“</h2>
<p>åœ¨ Compose ä¸­å®ç°å›¾ç‰‡ç¼©æ”¾çš„æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li><strong>Modifier.graphicsLayer</strong>: é«˜æ•ˆå¤„ç† Scale å’Œ Translationã€‚</li>
<li><strong>detectTransformGestures</strong>: ä¸€ç«™å¼è·å–ç¼©æ”¾ç³»æ•° (zoom) å’Œä½ç§»å‘é‡ (pan)ã€‚</li>
<li><strong>State Management</strong>: ç»´æŠ¤ scale å’Œ offset çŠ¶æ€ã€‚</li>
<li><strong>è¾¹ç•Œè®¡ç®—</strong>: è¿™ä¸€æ­¥æ˜¯éš¾ç‚¹ï¼Œéœ€è¦æ ¹æ®å½“å‰ç¼©æ”¾åçš„å›¾ç‰‡å°ºå¯¸ä¸å®¹å™¨å°ºå¯¸å¯¹æ¯”ï¼Œé™åˆ¶ offset çš„èŒƒå›´ï¼Œé˜²æ­¢å›¾ç‰‡è¢«æ‹–å‡ºå±å¹•ã€‚</li>
<li><strong>äº¤äº’ç»†èŠ‚</strong>: ç»“åˆ <code>detectTapGestures</code> å®ç°åŒå‡»ç¼©æ”¾ï¼Œç»“åˆ <code>Animatable</code> å®ç°å¹³æ»‘è¿‡æ¸¡ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›ç»„åˆï¼Œå¯ä»¥æ„å»ºå‡ºä¸€ä¸ªæ€§èƒ½åª²ç¾åŸç”Ÿ PhotoView çš„ Compose å›¾ç‰‡ç»„ä»¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®ç°ä¸€ä¸ªå†…ç½‘æœåŠ¡ç›‘æµ‹å‘Šè­¦ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7581667332305895462</link>    <guid>https://juejin.cn/post/7581667332305895462</guid>    <pubDate>2025-12-09T07:54:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581667332305895462" data-draft-id="7581666815001870387" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®ç°ä¸€ä¸ªå†…ç½‘æœåŠ¡ç›‘æµ‹å‘Šè­¦ç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯,è‡ªåŠ¨åŒ–è¿ç»´"/> <meta itemprop="datePublished" content="2025-12-09T07:54:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡çš„ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/3984285870859614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®ç°ä¸€ä¸ªå†…ç½‘æœåŠ¡ç›‘æµ‹å‘Šè­¦ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3984285870859614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡çš„ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:54:38.000Z" title="Tue Dec 09 2025 07:54:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab8e22b8241c447690c5a8ab567e8fea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=IXP6a9ULbQpLPG4KrqqlDGMTxRg%3D" alt="ChatGPT Image 2025å¹´12æœˆ9æ—¥ 14_27_46" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>æ˜¨å¤©æˆ‘çš„pveç³»ç»Ÿæ•´ä¸ªæŒ‚æ‰äº†ï¼Œä¹‹å‰æ­å»ºçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kaisir.cn%2Fpost%2F181" target="_blank" title="https://www.kaisir.cn/post/181" ref="nofollow noopener noreferrer">å‘Šè­¦æœåŠ¡</a>è‡ªç„¶ä¹Ÿæ­»æ‰äº†ï¼Œè¿™å°±å¯¼è‡´äº†æˆ‘ä¸èƒ½åŠæ—¶å‘ç°ç½‘ç«™å´©æ‰äº†ï¼Œé‡å¯æœºå™¨ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å°±æŠŠç›®å…‰é”å®šåˆ°äº†å®¶é‡Œçš„è½¯è·¯ç”±ä¸Šé¢ï¼Œå®ƒæ˜¯x86æ¶æ„çš„ï¼Œä¹Ÿå®‰è£…äº†dockerï¼Œæˆ‘åªéœ€è¦ç”¨pythonå†™ä¸ªè„šæœ¬ï¼Œåšä¸ªdockeræœåŠ¡å³å¯ã€‚</p>
<h2 data-id="heading-1">åŠŸèƒ½è®¾è®¡</h2>
<p>æœ‰äº†æƒ³æ³•åï¼Œæ¥ä¸‹æ¥éœ€è¦å…ˆç¡®å®šä¸‹è¦å®ç°ä»€ä¹ˆåŠŸèƒ½ã€‚</p>
<ul>
<li><strong>å®šæ—¶æ£€æŸ¥</strong>ï¼šæ¯ N ç§’æ£€æŸ¥ä¸€æ¬¡æŒ‡å®šä¸»æœºçš„æŒ‡å®šç«¯å£</li>
<li><strong>è‡ªåŠ¨å‘Šè­¦</strong>ï¼šå¦‚æœè¿ç»­å¤±è´¥ N æ¬¡ï¼Œå°±è‡ªåŠ¨é€šè¿‡ QQ é‚®ç®±å‘é‚®ä»¶é€šçŸ¥</li>
<li><strong>Docker / docker-compose æ”¯æŒ</strong>ï¼šä¸€ä¸ª <code>docker-compose up -d</code> å°±æå®šï¼Œä¸éœ€è¦åœ¨å®¿ä¸»æœºå®‰è£…ä»€ä¹ˆå¤æ‚ä¾èµ–</li>
<li><strong>æ—¥å¿— + æ—¶åŒº</strong>ï¼šæ—¥å¿—é‡Œè®°å½•è®¿é—®æ—¶é—´ / æˆåŠŸå¤±è´¥ / å‘Šè­¦çŠ¶æ€ï¼Œå°±ç®—é‡å¯ä¹Ÿèƒ½çœ‹åˆ°å†å²</li>
</ul>
<h2 data-id="heading-2">å®ç°è¿‡ç¨‹</h2>
<p>æ¥ä¸‹æ¥å°±è·Ÿå¤§å®¶åˆ†äº«ä¸‹æˆ‘çš„å…·ä½“å®ç°è¿‡ç¨‹ã€‚</p>
<ul>
<li>ç”¨ Python + <code>smtp</code> + <code>socket</code>ï¼Œåšä¸€ä¸ªå¾ªç¯è„šæœ¬ï¼š
<ul>
<li>å°è¯• TCP connectï¼ˆæ£€æµ‹ç«¯å£ï¼‰</li>
<li>è¿ä¸ä¸Šå°±è®¡æ•°ï¼Œè¶…è¿‡é˜ˆå€¼å°±å‘é‚®ä»¶</li>
</ul>
</li>
<li>ç”¨ Dockerfile æ„å»ºä¸€ä¸ªé•œåƒï¼Œåœ¨é‡Œé¢å®‰è£… <code>ping</code> ã€ <code>ca-certificates</code> ï¼Œé…ç½®æ—¶åŒºï¼Œä½¿å¾—ï¼š
<ul>
<li>å®¹å™¨é‡Œçš„æ—¶é—´ç¬¦åˆé¢„æœŸ</li>
<li>è„šæœ¬æ—¥å¿—èƒ½å®æ—¶è¾“å‡ºï¼Œä¸­æ–­é‡å¯ä¹Ÿæ–¹ä¾¿æŸ¥çœ‹</li>
</ul>
</li>
<li>docker-compose ç®¡ç†ï¼šä½¿ç”¨çš„æ—¶å€™åªéœ€è¦å¡«å†™ç¯å¢ƒå˜é‡ï¼ˆç›®æ ‡ä¸»æœº + ç«¯å£ + é‚®ç®± + æˆæƒç â€¦ï¼‰ï¼Œç„¶å <code>docker-compose up -d</code> å°±èƒ½å…¨è‡ªåŠ¨è¿è¡Œã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> smtplib
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> socket
<span class="hljs-keyword">from</span> email.mime.text <span class="hljs-keyword">import</span> MIMEText
<span class="hljs-keyword">from</span> email.header <span class="hljs-keyword">import</span> Header
<span class="hljs-keyword">from</span> email.utils <span class="hljs-keyword">import</span> formataddr

<span class="hljs-comment"># ç›‘æ§é…ç½®</span>
TARGET_HOST = os.getenv(<span class="hljs-string">"TARGET_HOST"</span>, <span class="hljs-string">"127.0.0.1"</span>)
TARGET_PORT = <span class="hljs-built_in">int</span>(os.getenv(<span class="hljs-string">"TARGET_PORT"</span>, <span class="hljs-string">"80"</span>))
INTERVAL_SEC = <span class="hljs-built_in">int</span>(os.getenv(<span class="hljs-string">"INTERVAL_SEC"</span>, <span class="hljs-string">"60"</span>))
FAIL_THRESHOLD = <span class="hljs-built_in">int</span>(os.getenv(<span class="hljs-string">"FAIL_THRESHOLD"</span>, <span class="hljs-string">"3"</span>))

<span class="hljs-comment"># é‚®ä»¶é…ç½®ï¼ˆQQ é‚®ç®±ï¼‰</span>
SMTP_HOST = os.getenv(<span class="hljs-string">"SMTP_HOST"</span>, <span class="hljs-string">"smtp.qq.com"</span>)
SMTP_PORT = <span class="hljs-built_in">int</span>(os.getenv(<span class="hljs-string">"SMTP_PORT"</span>, <span class="hljs-string">"587"</span>))
SMTP_USER = os.getenv(<span class="hljs-string">"SMTP_USER"</span>, <span class="hljs-string">""</span>)
SMTP_PASS = os.getenv(<span class="hljs-string">"SMTP_PASS"</span>, <span class="hljs-string">""</span>)
MAIL_FROM = os.getenv(<span class="hljs-string">"MAIL_FROM"</span>, SMTP_USER)
MAIL_TO = os.getenv(<span class="hljs-string">"MAIL_TO"</span>, <span class="hljs-string">""</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_port</span>(<span class="hljs-params">host: <span class="hljs-built_in">str</span>, port: <span class="hljs-built_in">int</span>, timeout=<span class="hljs-number">2</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
    <span class="hljs-string">"""
    è¿”å› True è¡¨ç¤ºç«¯å£å¯è¿æ¥ï¼ŒFalse è¡¨ç¤ºå¤±è´¥
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">with</span> socket.create_connection((host, port), timeout=timeout):
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">except</span> Exception:
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">send_mail</span>(<span class="hljs-params">subject: <span class="hljs-built_in">str</span>, content: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (SMTP_HOST <span class="hljs-keyword">and</span> SMTP_USER <span class="hljs-keyword">and</span> SMTP_PASS <span class="hljs-keyword">and</span> MAIL_TO):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"SMTP é…ç½®ä¸å®Œæ•´ï¼Œæ— æ³•å‘é€é‚®ä»¶"</span>)
        <span class="hljs-keyword">return</span>

    from_addr = MAIL_FROM <span class="hljs-keyword">or</span> SMTP_USER

    msg = MIMEText(content, <span class="hljs-string">"plain"</span>, <span class="hljs-string">"utf-8"</span>)
    msg[<span class="hljs-string">"From"</span>] = formataddr((<span class="hljs-string">"Pingå‘Šè­¦ç³»ç»Ÿ"</span>, from_addr))
    msg[<span class="hljs-string">"To"</span>] = formataddr((<span class="hljs-string">"å‘Šè­¦æ¥æ”¶äºº"</span>, MAIL_TO))
    msg[<span class="hljs-string">"Subject"</span>] = Header(subject, <span class="hljs-string">"utf-8"</span>)

    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ã€é‚®ä»¶ã€‘å‡†å¤‡è¿æ¥ SMTP: host=<span class="hljs-subst">{SMTP_HOST}</span>, port=<span class="hljs-subst">{SMTP_PORT}</span>, user=<span class="hljs-subst">{SMTP_USER}</span>"</span>)

    server = <span class="hljs-literal">None</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">if</span> SMTP_PORT == <span class="hljs-number">465</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€é‚®ä»¶ã€‘ä½¿ç”¨ SMTP_SSL è¿æ¥ï¼ˆ465 ç«¯å£ï¼‰"</span>)
            server = smtplib.SMTP_SSL(SMTP_HOST, SMTP_PORT, timeout=<span class="hljs-number">10</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€é‚®ä»¶ã€‘ä½¿ç”¨ SMTP + STARTTLS è¿æ¥"</span>)
            server = smtplib.SMTP(SMTP_HOST, SMTP_PORT, timeout=<span class="hljs-number">10</span>)
            server.ehlo()
            server.starttls()
            server.ehlo()

        server.login(SMTP_USER, SMTP_PASS)
        <span class="hljs-comment"># sendmail å¦‚æœä¸æŠ›å¼‚å¸¸ï¼Œå°±è®¤ä¸ºæˆåŠŸ</span>
        failed = server.sendmail(from_addr, [MAIL_TO], msg.as_string())
        <span class="hljs-keyword">if</span> failed:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€é‚®ä»¶ã€‘éƒ¨åˆ†æ”¶ä»¶äººå‘é€å¤±è´¥ï¼š"</span>, failed)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€é‚®ä»¶ã€‘å‘Šè­¦é‚®ä»¶å·²å‘é€ï¼ˆsendmail è¿”å›æ­£å¸¸ï¼‰"</span>)

    <span class="hljs-keyword">except</span> smtplib.SMTPResponseException <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">if</span> e.smtp_code == -<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> e.smtp_error == <span class="hljs-string">b'\x00\x00\x00'</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ã€é‚®ä»¶ã€‘QQ åœ¨ QUIT é˜¶æ®µè¿”å› (-1, b'\\x00\\x00\\x00')ï¼Œå¯å¿½ç•¥ï¼Œé‚®ä»¶å·²ç»å…¥é˜Ÿã€‚"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ã€é‚®ä»¶ã€‘SMTPResponseExceptionï¼šcode=<span class="hljs-subst">{e.smtp_code}</span>, error=<span class="hljs-subst">{e.smtp_error}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ã€é‚®ä»¶ã€‘å‘é€å¤±è´¥ï¼š<span class="hljs-subst">{<span class="hljs-built_in">repr</span>(e)}</span>ï¼Œç±»å‹ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(e)}</span>"</span>)
    <span class="hljs-keyword">finally</span>:
        <span class="hljs-keyword">if</span> server <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            <span class="hljs-keyword">try</span>:
                server.quit()
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-comment"># è¿™é‡Œçš„å¼‚å¸¸ç›´æ¥åæ‰å³å¯</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ã€é‚®ä»¶ã€‘å…³é—­è¿æ¥æ—¶å¼‚å¸¸ï¼ˆå¯å¿½ç•¥ï¼‰ï¼š<span class="hljs-subst">{<span class="hljs-built_in">repr</span>(e)}</span>"</span>)





<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    fail_count = <span class="hljs-number">0</span>
    <span class="hljs-built_in">print</span>(
        <span class="hljs-string">f"å¼€å§‹ç›‘æ§ <span class="hljs-subst">{TARGET_HOST}</span>:<span class="hljs-subst">{TARGET_PORT}</span>ï¼Œæ¯ <span class="hljs-subst">{INTERVAL_SEC}</span>s æ£€æµ‹ä¸€æ¬¡ï¼Œ"</span>
        <span class="hljs-string">f"è¿ç»­å¤±è´¥ <span class="hljs-subst">{FAIL_THRESHOLD}</span> æ¬¡è§¦å‘ä¸€æ¬¡å‘Šè­¦"</span>
    )

    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        now = time.strftime(<span class="hljs-string">"%F %T"</span>)
        ok = check_port(TARGET_HOST, TARGET_PORT)

        <span class="hljs-keyword">if</span> ok:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{now}</span> [OK]  <span class="hljs-subst">{TARGET_HOST}</span>:<span class="hljs-subst">{TARGET_PORT}</span> ç«¯å£å¯è®¿é—®"</span>)
            <span class="hljs-keyword">if</span> fail_count &gt; <span class="hljs-number">0</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{now}</span> æ¢å¤æ­£å¸¸ï¼Œä¹‹å‰è¿ç»­å¤±è´¥ <span class="hljs-subst">{fail_count}</span> æ¬¡ï¼Œè®¡æ•°æ¸…é›¶"</span>)
            fail_count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">else</span>:
            fail_count += <span class="hljs-number">1</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{now}</span> [FAIL] <span class="hljs-subst">{TARGET_HOST}</span>:<span class="hljs-subst">{TARGET_PORT}</span> æ— æ³•è¿æ¥ï¼Œè¿ç»­å¤±è´¥æ¬¡æ•°ï¼š<span class="hljs-subst">{fail_count}</span>"</span>)

            <span class="hljs-keyword">if</span> fail_count == FAIL_THRESHOLD:
                subject = <span class="hljs-string">f"[å‘Šè­¦] <span class="hljs-subst">{TARGET_HOST}</span>:<span class="hljs-subst">{TARGET_PORT}</span> æ— æ³•è®¿é—®"</span>
                content = (
                    <span class="hljs-string">f"ç›®æ ‡ <span class="hljs-subst">{TARGET_HOST}</span>:<span class="hljs-subst">{TARGET_PORT}</span> å·²è¿ç»­ <span class="hljs-subst">{FAIL_THRESHOLD}</span> æ¬¡è¿æ¥å¤±è´¥ã€‚\n"</span>
                    <span class="hljs-string">f"æ—¶é—´ï¼š<span class="hljs-subst">{now}</span>"</span>
                )
                send_mail(subject, content)

        time.sleep(INTERVAL_SEC)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()

</code></pre>
<h3 data-id="heading-3">æ„å»ºä¸ä¸Šä¼ é•œåƒ</h3>
<p>ç¼–å†™DockerFileé•œåƒæ–‡ä»¶</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">FROM python:3.11-slim

ENV TZ=Asia/Shanghai

WORKDIR /app

RUN apt-get update &amp;&amp; \
    apt-get install -y iputils-ping ca-certificates tzdata &amp;&amp; \
    ln -snf /usr/share/zoneinfo/$TZ /etc/localtime &amp;&amp; \
    echo $TZ &gt; /etc/timezone &amp;&amp; \
    update-ca-certificates &amp;&amp; \
    rm -rf /var/lib/apt/lists/*

COPY ping_alert.py .

CMD ["python", "-u", "ping_alert.py"]

</code></pre>
<p>ç¼–å†™æ„å»ºè„šæœ¬</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env sh</span>
<span class="hljs-built_in">set</span> -e

<span class="hljs-comment"># === é…ç½®åŒºï¼šæŒ‰éœ€ä¿®æ”¹ ===</span>
IMAGE_NAME=<span class="hljs-string">"magiccoders/ping-alert"</span> <span class="hljs-comment"># magiccoderséœ€è¦æ”¹æˆä½ çš„docker-hubçš„ç”¨æˆ·å</span>
TAG=<span class="hljs-string">"latest"</span>
BUILD_CONTEXT=<span class="hljs-string">"./app"</span>
<span class="hljs-comment"># =======================</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"==&gt; æ„å»ºé•œåƒ: <span class="hljs-variable">${IMAGE_NAME}</span>:<span class="hljs-variable">${TAG}</span>"</span>
docker build -t <span class="hljs-string">"<span class="hljs-variable">${IMAGE_NAME}</span>:<span class="hljs-variable">${TAG}</span>"</span> <span class="hljs-string">"<span class="hljs-variable">${BUILD_CONTEXT}</span>"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"==&gt; æ¨é€é•œåƒåˆ°ä»“åº“: <span class="hljs-variable">${IMAGE_NAME}</span>:<span class="hljs-variable">${TAG}</span>"</span>
docker push <span class="hljs-string">"<span class="hljs-variable">${IMAGE_NAME}</span>:<span class="hljs-variable">${TAG}</span>"</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"==&gt; å®Œæˆï¼š<span class="hljs-variable">${IMAGE_NAME}</span>:<span class="hljs-variable">${TAG}</span> å·²å‘å¸ƒ"</span>

</code></pre>
<p>æ‰§è¡Œæ­¤è„šæœ¬å‰ï¼Œéœ€è¦å…ˆåœ¨ç»ˆç«¯æ‰§è¡Œdocker login å‘½ä»¤ç™»å½•åˆ°ä½ çš„docker-hubè´¦æˆ·ã€‚</p>
<h3 data-id="heading-4">ç¼–å†™docker-composeé…ç½®</h3>
<p>æ„å»ºå¥½é•œåƒåï¼Œéœ€è¦åˆ›å»º<code>docker-compose.yml</code>æ–‡ä»¶æ¥ç¼–æ’è¿™ä¸ªé•œåƒè¿è¡Œæ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">ping-alert:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">magiccoders/ping-alert:latest</span> <span class="hljs-comment"># æ­¤å¤„å°±æ˜¯å­˜å‚¨åœ¨docker-hubä¸Šçš„é•œåƒ</span>
    <span class="hljs-attr">container_name:</span> <span class="hljs-string">ping-alert</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">always</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-comment"># ===== ç›‘æ§ç›®æ ‡é…ç½® =====</span>
      <span class="hljs-attr">TARGET_HOST:</span> <span class="hljs-string">"192.168.9.131"</span> <span class="hljs-comment">#ç›‘æ§ç›®æ ‡æœºå™¨ip</span>
      <span class="hljs-attr">TARGET_PORT:</span> <span class="hljs-string">"80"</span> <span class="hljs-comment"># ç›®æ ‡æœºå™¨ç«¯å£å·</span>
      <span class="hljs-attr">INTERVAL_SEC:</span> <span class="hljs-string">"30"</span>              <span class="hljs-comment"># æ¯ 30 ç§’æ£€æŸ¥ä¸€æ¬¡</span>
      <span class="hljs-attr">FAIL_THRESHOLD:</span> <span class="hljs-string">"3"</span>             <span class="hljs-comment"># è¿ç»­ 3 æ¬¡å¤±è´¥å‘ä¸€å°å‘Šè­¦é‚®ä»¶</span>

      <span class="hljs-comment"># ===== QQ é‚®ç®± SMTP é…ç½® =====</span>
      <span class="hljs-attr">SMTP_HOST:</span> <span class="hljs-string">"smtp.qq.com"</span>
      <span class="hljs-attr">SMTP_PORT:</span> <span class="hljs-string">"465"</span>
      <span class="hljs-attr">SMTP_USER:</span> <span class="hljs-string">""</span>    <span class="hljs-comment"># ä½ çš„ QQ é‚®ç®±</span>
      <span class="hljs-attr">SMTP_PASS:</span> <span class="hljs-string">""</span>  <span class="hljs-comment"># å¼€é€š SMTP æœåŠ¡æ—¶å¾—åˆ°çš„æˆæƒç </span>
      <span class="hljs-attr">MAIL_FROM:</span> <span class="hljs-string">""</span>    <span class="hljs-comment"># å’Œ SMTP_USER ä¿æŒä¸€è‡´</span>
      <span class="hljs-attr">MAIL_TO:</span> <span class="hljs-string">""</span>  <span class="hljs-comment"># æ¥å—å‘Šè­¦çš„é‚®ç®±</span>

    <span class="hljs-comment"># ç›´æ¥å¤ç”¨å®¿ä¸»æœºç½‘ç»œï¼Œæ–¹ä¾¿è®¿é—®å†…ç½‘ IP</span>
    <span class="hljs-attr">network_mode:</span> <span class="hljs-string">"host"</span>

</code></pre>
<h2 data-id="heading-5">å®ç°æ•ˆæœ</h2>
<p>æˆ‘çš„è½¯è·¯ç”±ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdpanel.cc%2F" target="_blank" title="https://dpanel.cc/" ref="nofollow noopener noreferrer">DPanel</a>æ¥ç®¡ç†dockerï¼Œæ­¤å¤„æˆ‘å°±ä»¥å®ƒä¸ºä¾‹æ¥è®²è§£å¦‚ä½•ä½¿ç”¨è¿™ä¸ªé•œåƒã€‚</p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œåˆ‡æ¢åˆ°composeé€‰é¡¹å¡ï¼Œç‚¹å‡»åˆ›å»ºä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bd162f7f3d8455ab206022a4ac8e57d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=Yj3fDSSKexI4cyH2hy%2FKEtSjBxg%3D" alt="image-20251209144128674" loading="lazy"/></p>
<p>åœ¨æ‰“å¼€çš„é¢æ¿ä¸­ï¼Œå¡«å†™æ ‡è¯†ã€åç§°ï¼Œä»¥åŠåˆšæ‰çš„docker-composeé…ç½®ä»£ç ï¼ŒæŒ‰éœ€æ›´æ”¹é‡Œé¢çš„å˜é‡å³å¯</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1580240bf8c5403fb8d972b2a8c0c809~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=nheksdgN48j%2FrwV1Fs2pjjUJHf8%3D" alt="image-20251209144606047" loading="lazy"/></p>
<p>åšå®Œè¿™äº›æ“ä½œåï¼Œå¯åŠ¨å®¹å™¨ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼Œå¦‚æœä½ çš„æœåŠ¡æ­£å¸¸è¿è¡Œä½ å°±èƒ½çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºçš„è¾“å‡ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9583cb0c0b5420ab1d50c2730409921~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=oAr%2BUDCOjXlX9QBtpwx0Rf0%2F1yM%3D" alt="image-20251209144814577" loading="lazy"/></p>
<p>æˆ‘æŠŠç«¯å£å…³é—­ï¼Œå†æ¥éªŒè¯ä¸‹å¤±è´¥çš„æƒ…å†µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c8f53b5632747d4b14af499c2a1459f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=5jOgDMzvBf%2BE9vT3viX29rj9ly4%3D" alt="image-20251209144954699" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9e9ec5f2e95411f8feacf9b8fa70492~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=jS39yYDfMa%2F9D%2BBha%2FATieXfAjo%3D" alt="image-20251209145134325" loading="lazy"/></p>
<p>é‚®ç®±ä¹Ÿæ”¶åˆ°äº†é‚®ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19ae39a2bbe64d6996f937d7fb65449b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=GS6bLb4Kd3fY2bkGHF1AcaZJx3U%3D" alt="image-20251209152415652" loading="lazy"/></p>
<p>æœ€åï¼Œæˆ‘å¯åŠ¨æœåŠ¡ï¼Œå†æ¥éªŒè¯ä¸‹ä»–æ˜¯å¦ä¼šæ¸…é›¶è®¡æ•°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0603500b8d84740901a5f8120330f41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=3fymw6Do43fo1orN5bfZXOSlOFg%3D" alt="image-20251209145400497" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/191e978f43df46ac8d220f68a20f4839~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH55qE56iL5bqP5ZGY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871678&amp;x-signature=aXYujzu86W4XgHGBtT%2BcWVr5H6o%3D" alt="image-20251209145438229" loading="lazy"/></p>
<h2 data-id="heading-6">é¡¹ç›®åœ°å€</h2>
<ul>
<li>GitHubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flikaia%2Fping-alert" target="_blank" title="https://github.com/likaia/ping-alert" ref="nofollow noopener noreferrer">ping-alert</a></li>
<li>dockeré•œåƒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fhub.docker.com%2Fr%2Fmagiccoders%2Fping-alert" target="_blank" title="https://hub.docker.com/r/magiccoders/ping-alert" ref="nofollow noopener noreferrer">magiccoders/ping-alert</a></li>
</ul>
<h2 data-id="heading-7">å†™åœ¨æœ€å</h2>
<p>è‡³æ­¤ï¼Œæ–‡ç« å°±åˆ†äº«å®Œæ¯•äº†ã€‚</p>
<p>æˆ‘æ˜¯<strong>ç¥å¥‡çš„ç¨‹åºå‘˜</strong>ï¼Œä¸€ä½å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆã€‚</p>
<p>å¦‚æœä½ å¯¹æˆ‘æ„Ÿå…´è¶£ï¼Œè¯·ç§»æ­¥æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kaisir.cn%2F" target="_blank" title="https://www.kaisir.cn/" ref="nofollow noopener noreferrer">ä¸ªäººç½‘ç«™</a>ï¼Œè¿›ä¸€æ­¥äº†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨Electron+Vue3å¼€å‘Qwen3 2Bæ¡Œé¢åº”ç”¨ï¼šä»æƒ³æ³•åˆ°å®ç°çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7581413562486587398</link>    <guid>https://juejin.cn/post/7581413562486587398</guid>    <pubDate>2025-12-09T07:38:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581413562486587398" data-draft-id="7581545175509368884" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨Electron+Vue3å¼€å‘Qwen3 2Bæ¡Œé¢åº”ç”¨ï¼šä»æƒ³æ³•åˆ°å®ç°çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-09T07:38:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµªæµªå±±_å¤§æ©™å­"/> <meta itemprop="url" content="https://juejin.cn/user/606586149550429"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨Electron+Vue3å¼€å‘Qwen3 2Bæ¡Œé¢åº”ç”¨ï¼šä»æƒ³æ³•åˆ°å®ç°çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/606586149550429/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµªæµªå±±_å¤§æ©™å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:38:00.000Z" title="Tue Dec 09 2025 07:38:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>æœ¬é¡¹ç›®å®Œå…¨ä½¿ç”¨ Trae solo æ¨¡å¼å¼€å‘ï¼</p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹çš„å¿«é€Ÿå‘å±•ï¼Œæœ¬åœ°éƒ¨ç½²å’Œä½¿ç”¨LLMå·²ç»æˆä¸ºå¼€å‘è€…å’Œä¼ä¸šçš„é‡è¦éœ€æ±‚ã€‚Qwen3 2Bä½œä¸ºä¸€æ¬¾è½»é‡çº§çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œå…·æœ‰è‰¯å¥½çš„æ€§èƒ½å’Œå…¼å®¹æ€§ï¼Œéå¸¸é€‚åˆåœ¨æ¡Œé¢åº”ç”¨ä¸­é›†æˆã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨Electron+Vite+Vue3æŠ€æœ¯æ ˆï¼Œå¼€å‘ä¸€æ¬¾é›†æˆQwen3 2Bæ¨¡å‹çš„æ¡Œé¢åº”ç”¨ï¼Œå®ç°ç¦»çº¿é—®ç­”ã€æ–‡æ¡£è§£æã€è¯­éŸ³è¾“å…¥å’ŒOCRè¯†åˆ«ç­‰åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">1.1 é—®é¢˜èƒŒæ™¯</h3>
<p>åœ¨å½“å‰çš„AIåº”ç”¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š</p>
<ul>
<li>äº‘ç«¯LLMæœåŠ¡å­˜åœ¨æ•°æ®éšç§å’Œç½‘ç»œä¾èµ–é—®é¢˜</li>
<li>æœ¬åœ°æ¨¡å‹éƒ¨ç½²å¤æ‚ï¼Œéœ€è¦ä¸“ä¸šçŸ¥è¯†</li>
<li>æ¡Œé¢åº”ç”¨å¼€å‘éœ€è¦è·¨å¹³å°æ”¯æŒ</li>
<li>å¤šç§AIåŠŸèƒ½ï¼ˆè¯­éŸ³ã€OCRã€æ–‡æ¡£è§£æï¼‰çš„é›†æˆå›°éš¾</li>
</ul>
<h3 data-id="heading-2">1.2 è§£å†³æ–¹æ¡ˆ</h3>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•æ„å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ¡Œé¢åº”ç”¨ï¼Œè§£å†³ä¸Šè¿°é—®é¢˜ï¼š</p>
<ul>
<li>åŸºäºElectron+Vite+Vue3æŠ€æœ¯æ ˆï¼Œå®ç°è·¨å¹³å°æ”¯æŒ</li>
<li>é›†æˆQwen3 2Bæ¨¡å‹ï¼Œå®ç°ç¦»çº¿æœ¬åœ°é—®ç­”</li>
<li>æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼è§£æå’Œæ£€ç´¢</li>
<li>é›†æˆè¯­éŸ³è¾“å…¥å’ŒOCRè¯†åˆ«åŠŸèƒ½</li>
<li>æ”¯æŒåœ¨çº¿/ç¦»çº¿æ¨¡å¼åˆ‡æ¢</li>
</ul>
<h2 data-id="heading-3">äºŒã€æŠ€æœ¯é€‰å‹ä¸æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-4">2.1 æŠ€æœ¯æ ˆé€‰æ‹©</h3>













































<table><thead><tr><th>æŠ€æœ¯</th><th>ç‰ˆæœ¬</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Electron</td><td>æœ€æ–°ç¨³å®šç‰ˆ</td><td>æ¡Œé¢åº”ç”¨æ¡†æ¶</td></tr><tr><td>Vite</td><td>5.x</td><td>æ„å»ºå·¥å…·</td></tr><tr><td>Vue</td><td>3.x</td><td>å‰ç«¯æ¡†æ¶</td></tr><tr><td>@deepgram/sdk</td><td>æœ€æ–°</td><td>è¯­éŸ³è½¬æ–‡å­—</td></tr><tr><td>Tesseract.js</td><td>6.x</td><td>OCRè¯†åˆ«</td></tr><tr><td>pdf-parse</td><td>2.x</td><td>PDFæ–‡æ¡£è§£æ</td></tr><tr><td>mammoth</td><td>1.x</td><td>DOCXæ–‡æ¡£è§£æ</td></tr></tbody></table>
<h3 data-id="heading-5">2.2 æ¶æ„è®¾è®¡</h3>
<p>åº”ç”¨é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒæ¨¡å—ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”œâ”€â”€ ä¸»è¿›ç¨‹ï¼ˆElectronï¼‰
â”‚   â”œâ”€â”€ çª—å£ç®¡ç†
â”‚   â”œâ”€â”€ æ¨¡å‹åŠ è½½ä¸æ¨ç†
â”‚   â””â”€â”€ ç³»ç»Ÿèµ„æºç®¡ç†
â”œâ”€â”€ æ¸²æŸ“è¿›ç¨‹ï¼ˆVue3ï¼‰
â”‚   â”œâ”€â”€ ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ äº‹ä»¶å¤„ç†
â””â”€â”€ æ ¸å¿ƒæœåŠ¡
<span class="hljs-code">    â”œâ”€â”€ æ¨¡å‹ç®¡ç†å™¨
    â”œâ”€â”€ æ–‡æ¡£è§£ææœåŠ¡
    â”œâ”€â”€ è¯­éŸ³è½¬æ–‡å­—æœåŠ¡
    â”œâ”€â”€ OCRæœåŠ¡
    â”œâ”€â”€ å­˜å‚¨æœåŠ¡
    â””â”€â”€ æ›´æ–°æœåŠ¡
</span></code></pre>
<h2 data-id="heading-6">ä¸‰ã€é¡¹ç›®åˆå§‹åŒ–ä¸æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-7">3.1 é¡¹ç›®åˆå§‹åŒ–</h3>
<p>é¦–å…ˆï¼Œä½¿ç”¨Viteåˆ›å»ºVue3é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm create vite@5 qwen3-desktop-app -- --template vue
<span class="hljs-built_in">cd</span> qwen3-desktop-app
npm install
</code></pre>
<p>ç„¶åï¼Œå®‰è£…Electronç›¸å…³ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install electron vite-plugin-electron vite-plugin-electron-renderer --save-dev
</code></pre>
<h3 data-id="heading-8">3.2 æ ¸å¿ƒæœåŠ¡å®ç°</h3>
<h4 data-id="heading-9">3.2.1 æ¨¡å‹ç®¡ç†å™¨</h4>
<p>æ¨¡å‹ç®¡ç†å™¨è´Ÿè´£Qwen3 2Bæ¨¡å‹çš„åŠ è½½ã€æ¨ç†å’Œå†…å­˜ç®¡ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/services/modelManager.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ModelManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPath</span> = <span class="hljs-string">''</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// æ¨ç†ç»“æœç¼“å­˜</span>
  }

  <span class="hljs-comment">// åŠ è½½Qwen3 2Bæ¨¡å‹</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadModel</span>(<span class="hljs-params">modelPath, progressCallback = () =&gt; {}</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">modelPath</span> = modelPath;
      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'å¼€å§‹åŠ è½½æ¨¡å‹...'</span>);

      <span class="hljs-comment">// æ¨¡å‹åŠ è½½å®ç°</span>
      <span class="hljs-comment">// ...</span>

      <span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span> = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Qwen3 2B'</span>,
        <span class="hljs-attr">version</span>: <span class="hljs-string">'1.0.0'</span>,
        <span class="hljs-attr">path</span>: modelPath
      };
      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">100</span>, <span class="hljs-string">'æ¨¡å‹åŠ è½½å®Œæˆ'</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ¨¡å‹åŠ è½½å¤±è´¥:'</span>, error);
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ¨¡å‹åŠ è½½å¤±è´¥: '</span> + error.<span class="hljs-property">message</span>);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoading</span> = <span class="hljs-literal">false</span>;
    }
  }

  <span class="hljs-comment">// æ‰§è¡Œæ¨¡å‹æ¨ç†</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">inference</span>(<span class="hljs-params">prompt, options = {}, progressCallback = () =&gt; {}</span>) {
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">const</span> cacheKey = <span class="hljs-string">`<span class="hljs-subst">${prompt}</span>-<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(options)}</span>`</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(cacheKey)) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(cacheKey);
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'å¼€å§‹æ¨ç†...'</span>);

      <span class="hljs-comment">// æ¨¡å‹æ¨ç†å®ç°</span>
      <span class="hljs-comment">// ...</span>

      <span class="hljs-keyword">const</span> response = <span class="hljs-string">`Qwen3 2B æ¨¡å‹å›å¤ï¼š\n\né’ˆå¯¹æç¤º "<span class="hljs-subst">${prompt}</span>"ï¼Œæˆ‘ç”Ÿæˆäº†ä»¥ä¸‹å›å¤...`</span>;

      <span class="hljs-comment">// ç¼“å­˜ç»“æœ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(cacheKey, response);

      <span class="hljs-keyword">return</span> response;
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRunning</span> = <span class="hljs-literal">false</span>;
    }
  }
}
</code></pre>
<h4 data-id="heading-10">3.2.2 æ–‡æ¡£è§£ææœåŠ¡</h4>
<p>æ–‡æ¡£è§£ææœåŠ¡æ”¯æŒPDFã€TXTã€DOCXæ ¼å¼çš„å†…å®¹æå–å’Œæ£€ç´¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/services/documentParser.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentParser</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">supportedFormats</span> = [<span class="hljs-string">'pdf'</span>, <span class="hljs-string">'txt'</span>, <span class="hljs-string">'docx'</span>];
  }

  <span class="hljs-comment">// è§£ææ–‡æ¡£å†…å®¹</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">filePath, progressCallback = () =&gt; {}</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isSupported</span>(filePath)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼'</span>);
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'å¼€å§‹è§£ææ–‡æ¡£...'</span>);

      <span class="hljs-comment">// æ ¹æ®æ–‡ä»¶æ ¼å¼é€‰æ‹©è§£ææ–¹å¼</span>
      <span class="hljs-keyword">const</span> ext = filePath.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">pop</span>().<span class="hljs-title function_">toLowerCase</span>();
      <span class="hljs-keyword">let</span> content = <span class="hljs-string">''</span>;

      <span class="hljs-keyword">switch</span> (ext) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'pdf'</span>:
          <span class="hljs-comment">// PDFè§£æå®ç°</span>
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'txt'</span>:
          <span class="hljs-comment">// TXTè§£æå®ç°</span>
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'docx'</span>:
          <span class="hljs-comment">// DOCXè§£æå®ç°</span>
          <span class="hljs-keyword">break</span>;
      }

      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">100</span>, <span class="hljs-string">'æ–‡æ¡£è§£æå®Œæˆ'</span>);
      <span class="hljs-keyword">return</span> content;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ–‡æ¡£è§£æå¤±è´¥:'</span>, error);
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ–‡æ¡£è§£æå¤±è´¥: '</span> + error.<span class="hljs-property">message</span>);
    }
  }

  <span class="hljs-comment">// ç´¢å¼•æ–‡æ¡£å†…å®¹</span>
  <span class="hljs-title function_">indexContent</span>(<span class="hljs-params">content</span>) {
    <span class="hljs-keyword">const</span> paragraphs = content.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\n+/</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">para</span> =&gt;</span> para.<span class="hljs-title function_">trim</span>());
    <span class="hljs-keyword">const</span> index = {};

    <span class="hljs-comment">// æ„å»ºç´¢å¼•</span>
    paragraphs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">paragraph, idx</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> words = paragraph.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\s+/</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> word.<span class="hljs-property">length</span> &gt; <span class="hljs-number">2</span>);
      words.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">word</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (!index[word]) {
          index[word] = [];
        }
        index[word].<span class="hljs-title function_">push</span>(idx);
      });
    });

    <span class="hljs-keyword">return</span> { paragraphs, index, <span class="hljs-attr">totalParagraphs</span>: paragraphs.<span class="hljs-property">length</span> };
  }
}
</code></pre>
<h4 data-id="heading-11">3.2.3 è¯­éŸ³è½¬æ–‡å­—æœåŠ¡</h4>
<p>è¯­éŸ³è½¬æ–‡å­—æœåŠ¡é›†æˆ@deepgram/sdkï¼Œæ”¯æŒè¯­éŸ³è¾“å…¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/services/speechToText.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpeechToTextService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isInitialized</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRecording</span> = <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">// åˆå§‹åŒ–Deepgramå®¢æˆ·ç«¯</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params">apiKey</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isInitialized</span>) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// åˆå§‹åŒ–Deepgramå®¢æˆ·ç«¯</span>
      <span class="hljs-comment">// ...</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isInitialized</span> = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è¯­éŸ³è½¬æ–‡å­—æœåŠ¡åˆå§‹åŒ–å¤±è´¥: '</span> + error.<span class="hljs-property">message</span>);
    }
  }

  <span class="hljs-comment">// å¼€å§‹å®æ—¶è¯­éŸ³è½¬å½•</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">startRealtimeTranscription</span>(<span class="hljs-params">callback, options = {}</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isInitialized</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRecording</span>) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRecording</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-comment">// å®æ—¶è½¬å½•å®ç°</span>
      <span class="hljs-comment">// ...</span>
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isRecording</span> = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å®æ—¶è¯­éŸ³è½¬å½•å¤±è´¥: '</span> + error.<span class="hljs-property">message</span>);
    }
  }
}
</code></pre>
<h4 data-id="heading-12">3.2.4 OCRæœåŠ¡</h4>
<p>OCRæœåŠ¡æ”¯æŒå›¾åƒæ–‡å­—è¯†åˆ«å’Œæˆªå›¾å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/services/ocrService.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OCRService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">// ä»å›¾åƒæ–‡ä»¶ä¸­è¯†åˆ«æ–‡å­—</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">recognizeText</span>(<span class="hljs-params">imagePath, options = {}, progressCallback = () =&gt; {}</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'OCRæœåŠ¡æ­£åœ¨å¤„ç†ä¸­'</span>);
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">true</span>;
      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'å¼€å§‹å›¾åƒå¤„ç†...'</span>);

      <span class="hljs-comment">// OCRè¯†åˆ«å®ç°</span>
      <span class="hljs-comment">// ...</span>

      <span class="hljs-keyword">const</span> text = <span class="hljs-string">'è¯†åˆ«ç»“æœ...'</span>;
      <span class="hljs-title function_">progressCallback</span>(<span class="hljs-number">100</span>, <span class="hljs-string">'OCRè¯†åˆ«å®Œæˆ'</span>);
      <span class="hljs-keyword">return</span> text;
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    }
  }

  <span class="hljs-comment">// å¤„ç†æˆªå›¾</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processScreenshot</span>(<span class="hljs-params">screenshotPath, options = {}</span>) {
    <span class="hljs-comment">// æˆªå›¾å¤„ç†å®ç°</span>
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<h4 data-id="heading-13">3.2.5 å­˜å‚¨æœåŠ¡</h4>
<p>å­˜å‚¨æœåŠ¡è´Ÿè´£æ•°æ®çš„æŒä¹…åŒ–å­˜å‚¨å’Œè¯»å–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/services/storageService.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span> = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoaded</span> = <span class="hljs-literal">false</span>;
  }

  <span class="hljs-comment">// åˆå§‹åŒ–å­˜å‚¨æœåŠ¡</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoaded</span>) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// ä»ç£ç›˜åŠ è½½æ•°æ®</span>
      <span class="hljs-comment">// ...</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoaded</span> = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å¤±è´¥: '</span> + error.<span class="hljs-property">message</span>);
    }
  }

  <span class="hljs-comment">// ä¿å­˜æ–‡æ¡£ç´¢å¼•</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">saveDocumentIndex</span>(<span class="hljs-params">documentId, index</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoaded</span>) {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initialize</span>();
    }

    <span class="hljs-comment">// ä¿å­˜æ–‡æ¡£ç´¢å¼•</span>
    <span class="hljs-comment">// ...</span>
  }

  <span class="hljs-comment">// ä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">savePreferences</span>(<span class="hljs-params">preferences</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isLoaded</span>) {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initialize</span>();
    }

    <span class="hljs-comment">// ä¿å­˜ç”¨æˆ·åå¥½</span>
    <span class="hljs-comment">// ...</span>
  }
}
</code></pre>
<h3 data-id="heading-14">3.3 UIè®¾è®¡ä¸å®ç°</h3>
<h4 data-id="heading-15">3.3.1 ä¸»ç•Œé¢è®¾è®¡</h4>
<p>ä¸»ç•Œé¢åŒ…å«çŠ¶æ€æ ã€èŠå¤©åŒºåŸŸå’Œè¾“å…¥åŒºåŸŸï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- src/App.vue --&gt;
&lt;template&gt;
  &lt;div class="app-container"&gt;
    &lt;!-- é¡¶éƒ¨çŠ¶æ€æ  --&gt;
    &lt;header class="app-header"&gt;
      &lt;div class="header-content"&gt;
        &lt;h1&gt;Qwen3 2B æ¡Œé¢åº”ç”¨&lt;/h1&gt;
        &lt;div class="header-actions"&gt;
          &lt;SettingsPanel /&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;div class="status-bar"&gt;
        &lt;!-- ç½‘ç»œçŠ¶æ€ã€æ¨¡å‹çŠ¶æ€ã€è¿›åº¦æ˜¾ç¤º --&gt;
      &lt;/div&gt;
    &lt;/header&gt;

    &lt;!-- ä¸»å†…å®¹åŒºåŸŸ --&gt;
    &lt;main class="main-content"&gt;
      &lt;!-- èŠå¤©åŒºåŸŸ --&gt;
      &lt;div class="chat-container"&gt;
        &lt;div class="chat-history"&gt;
          &lt;!-- èŠå¤©æ¶ˆæ¯ --&gt;
        &lt;/div&gt;

        &lt;!-- è¾“å…¥åŒºåŸŸ --&gt;
        &lt;div class="input-container"&gt;
          &lt;!-- è¾“å…¥å·¥å…·æ  --&gt;
          &lt;div class="input-tools"&gt;
            &lt;button class="tool-btn" @click="startSpeechRecognition" title="è¯­éŸ³è¾“å…¥"&gt;ğŸ¤&lt;/button&gt;
            &lt;button class="tool-btn" @click="stopSpeechRecognition" title="åœæ­¢è¯­éŸ³"&gt;â¹ï¸&lt;/button&gt;
            &lt;button class="tool-btn" @click="takeScreenshot" title="æˆªå›¾è¯†åˆ«"&gt;ğŸ“¸&lt;/button&gt;
            &lt;button class="tool-btn" @click="selectDocument" title="ä¸Šä¼ æ–‡æ¡£"&gt;ğŸ“&lt;/button&gt;
          &lt;/div&gt;
          &lt;!-- è¾“å…¥æ¡†å’Œå‘é€æŒ‰é’® --&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/main&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-16">3.3.2 è®¾ç½®é¢æ¿</h4>
<p>è®¾ç½®é¢æ¿å…è®¸ç”¨æˆ·é…ç½®åº”ç”¨åå¥½ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- src/components/SettingsPanel.vue --&gt;
&lt;template&gt;
  &lt;div class="settings-container"&gt;
    &lt;button class="settings-toggle" @click="toggleSettings"&gt;âš™ï¸ è®¾ç½®&lt;/button&gt;
    
    &lt;div v-if="isOpen" class="settings-panel"&gt;
      &lt;div class="settings-header"&gt;
        &lt;h3&gt;åº”ç”¨è®¾ç½®&lt;/h3&gt;
        &lt;button class="close-btn" @click="toggleSettings"&gt;Ã—&lt;/button&gt;
      &lt;/div&gt;
      
      &lt;div class="settings-content"&gt;
        &lt;!-- åŸºæœ¬è®¾ç½® --&gt;
        &lt;div class="setting-group"&gt;
          &lt;h4&gt;åŸºæœ¬è®¾ç½®&lt;/h4&gt;
          &lt;div class="setting-item"&gt;
            &lt;label class="setting-label"&gt;
              &lt;input type="checkbox" v-model="preferences.onlineMode"&gt;
              åœ¨çº¿æ¨¡å¼
            &lt;/label&gt;
          &lt;/div&gt;
          &lt;!-- å…¶ä»–è®¾ç½®é¡¹ --&gt;
        &lt;/div&gt;
        
        &lt;!-- æ¨¡å‹è®¾ç½® --&gt;
        &lt;!-- æ€§èƒ½è®¾ç½® --&gt;
      &lt;/div&gt;
      
      &lt;div class="settings-footer"&gt;
        &lt;button class="reset-btn" @click="resetToDefaults"&gt;é‡ç½®é»˜è®¤&lt;/button&gt;
        &lt;button class="save-btn" @click="savePreferences"&gt;ä¿å­˜è®¾ç½®&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-17">å››ã€åŠŸèƒ½é›†æˆä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-18">4.1 Electronä¸»è¿›ç¨‹ä¸æ¸²æŸ“è¿›ç¨‹é€šä¿¡</h3>
<p>å®ç°ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ï¼Œç”¨äºå¤„ç†æ–‡ä»¶é€‰æ‹©ã€è¯­éŸ³è¯†åˆ«å’ŒOCRç­‰åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// electron/main.js</span>
ipcMain.<span class="hljs-title function_">on</span>(<span class="hljs-string">'speech:start'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†è¯­éŸ³å¼€å§‹è¯·æ±‚</span>
  event.<span class="hljs-title function_">reply</span>(<span class="hljs-string">'speech:result'</span>, { <span class="hljs-attr">isFinal</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">transcript</span>: <span class="hljs-string">'å¼€å§‹è¯­éŸ³è¯†åˆ«...'</span> });
});

ipcMain.<span class="hljs-title function_">on</span>(<span class="hljs-string">'ocr:screenshot'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-comment">// å¤„ç†æˆªå›¾è¯·æ±‚</span>
  event.<span class="hljs-title function_">reply</span>(<span class="hljs-string">'ocr:result'</span>, <span class="hljs-string">'æˆªå›¾è¯†åˆ«ç»“æœ...'</span>);
});
</code></pre>
<h3 data-id="heading-19">4.2 æ€§èƒ½ä¼˜åŒ–</h3>
<ol>
<li>
<p><strong>æ¨¡å‹åŠ è½½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å®ç°æ¨¡å‹é¢„åŠ è½½æœºåˆ¶</li>
<li>ä¼˜åŒ–æ¨¡å‹æ–‡ä»¶ç»“æ„</li>
<li>é‡‡ç”¨å»¶è¿ŸåŠ è½½ç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>æ¨ç†æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å®ç°æ¨ç†ç»“æœç¼“å­˜</li>
<li>ä¼˜åŒ–æ¨ç†å‚æ•°</li>
<li>é‡‡ç”¨æ‰¹å¤„ç†æ–¹å¼</li>
</ul>
</li>
<li>
<p><strong>UIæ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å®ç°åå°ä»»åŠ¡å¤„ç†</li>
<li>é‡‡ç”¨è™šæ‹Ÿæ»šåŠ¨æ¸²æŸ“èŠå¤©è®°å½•</li>
<li>ä¼˜åŒ–ç»„ä»¶æ¸²æŸ“</li>
</ul>
</li>
</ol>
<h2 data-id="heading-20">äº”ã€åº”ç”¨ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-21">5.1 åŸºæœ¬ä½¿ç”¨</h3>
<ol>
<li>
<p><strong>å¯åŠ¨åº”ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run dev
</code></pre>
</li>
<li>
<p><strong>åŠ è½½æ¨¡å‹</strong>ï¼šç‚¹å‡»"åŠ è½½æ¨¡å‹"æŒ‰é’®</p>
</li>
<li>
<p><strong>æé—®</strong>ï¼š</p>
<ul>
<li>è¾“å…¥æ–‡å­—æé—®</li>
<li>ç‚¹å‡»ğŸ¤æŒ‰é’®è¿›è¡Œè¯­éŸ³è¾“å…¥</li>
<li>ç‚¹å‡»ğŸ“¸æŒ‰é’®è¿›è¡Œæˆªå›¾è¯†åˆ«</li>
<li>ç‚¹å‡»ğŸ“æŒ‰é’®ä¸Šä¼ æ–‡æ¡£</li>
</ul>
</li>
<li>
<p><strong>æŸ¥çœ‹ç»“æœ</strong>ï¼šåœ¨èŠå¤©åŒºåŸŸæŸ¥çœ‹æ¨¡å‹å›å¤</p>
</li>
</ol>
<h3 data-id="heading-22">5.2 é«˜çº§åŠŸèƒ½</h3>
<ol>
<li><strong>åˆ‡æ¢åœ¨çº¿/ç¦»çº¿æ¨¡å¼</strong>ï¼šç‚¹å‡»"åˆ‡æ¢"æŒ‰é’®</li>
<li><strong>è°ƒæ•´è®¾ç½®</strong>ï¼šç‚¹å‡»âš™ï¸æŒ‰é’®è¿›å…¥è®¾ç½®é¢æ¿</li>
<li><strong>ç®¡ç†ç¼“å­˜</strong>ï¼šåœ¨è®¾ç½®ä¸­è°ƒæ•´ç¼“å­˜å¤§å°</li>
<li><strong>è‡ªåŠ¨æ›´æ–°</strong>ï¼šåº”ç”¨ä¼šè‡ªåŠ¨æ£€æŸ¥æ›´æ–°</li>
</ol>
<h2 data-id="heading-23">å…­ã€æ½œåœ¨æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-24">6.1 Electronä¸Node.jsæ¨¡å—çš„å…¼å®¹æ€§</h3>
<p><strong>æŒ‘æˆ˜</strong>ï¼šElectronç¯å¢ƒä¸­ï¼Œæœ‰äº›Node.jsæ¨¡å—åœ¨æ¸²æŸ“è¿›ç¨‹ä¸­æ— æ³•ç›´æ¥ä½¿ç”¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å°†Node.jsæ¨¡å—çš„ä½¿ç”¨é™åˆ¶åœ¨ä¸»è¿›ç¨‹ä¸­</li>
<li>ä½¿ç”¨preload.jsä½œä¸ºæ¡¥æ¢ï¼Œæš´éœ²å®‰å…¨çš„APIç»™æ¸²æŸ“è¿›ç¨‹</li>
<li>å¯¹äºæµè§ˆå™¨ä¸æ”¯æŒçš„æ¨¡å—ï¼Œä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆæˆ–æ¨¡æ‹Ÿå®ç°</li>
</ul>
<h3 data-id="heading-25">6.2 æ¨¡å‹åŠ è½½å’Œæ¨ç†æ€§èƒ½</h3>
<p><strong>æŒ‘æˆ˜</strong>ï¼šæ¨¡å‹åŠ è½½æ—¶é—´é•¿ï¼Œæ¨ç†é€Ÿåº¦æ…¢ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å®ç°æ¨¡å‹é¢„åŠ è½½æœºåˆ¶</li>
<li>ä¼˜åŒ–æ¨¡å‹æ–‡ä»¶ï¼Œå‡å°ä½“ç§¯</li>
<li>å®ç°æ¨ç†ç»“æœç¼“å­˜</li>
<li>é‡‡ç”¨Web Workersè¿›è¡Œåå°æ¨ç†</li>
</ul>
<h3 data-id="heading-26">6.3 è·¨å¹³å°æ”¯æŒ</h3>
<p><strong>æŒ‘æˆ˜</strong>ï¼šä¸åŒæ“ä½œç³»ç»Ÿçš„APIå’Œè¡Œä¸ºå·®å¼‚ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨Electronæä¾›çš„è·¨å¹³å°API</li>
<li>é’ˆå¯¹ä¸åŒå¹³å°è¿›è¡Œæµ‹è¯•å’Œé€‚é…</li>
<li>é‡‡ç”¨æ¡ä»¶ç¼–è¯‘å¤„ç†å¹³å°å·®å¼‚</li>
</ul>
<h3 data-id="heading-27">6.4 ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h3>
<p><strong>æŒ‘æˆ˜</strong>ï¼šæ¨¡å‹åŠ è½½å’Œæ¨ç†è¿‡ç¨‹ä¸­UIå¡é¡¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å®ç°åå°ä»»åŠ¡å¤„ç†</li>
<li>æä¾›æ¸…æ™°çš„è¿›åº¦æŒ‡ç¤ºå™¨</li>
<li>é‡‡ç”¨å¼‚æ­¥æ“ä½œå’Œå›è°ƒæœºåˆ¶</li>
<li>ä¼˜åŒ–UIæ¸²æŸ“æ€§èƒ½</li>
</ul>
<h2 data-id="heading-28">ä¸ƒã€æ€»ç»“ä¸æœªæ¥æ”¹è¿›</h2>
<h3 data-id="heading-29">7.1 æ€»ç»“</h3>
<p>æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Electron+Vite+Vue3å¼€å‘ä¸€æ¬¾é›†æˆQwen3 2Bæ¨¡å‹çš„æ¡Œé¢åº”ç”¨ï¼Œå®ç°äº†ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>ç¦»çº¿æœ¬åœ°é—®ç­”</li>
<li>ä¸­æ–‡æ™ºèƒ½äº¤äº’</li>
<li>è½»é‡çº§æ–‡æ¡£è§£æ</li>
<li>ç½‘ç»œå¢å¼ºåŠŸèƒ½</li>
<li>è¯­éŸ³å½•å…¥</li>
<li>OCRè¯†åˆ«åŠæˆªå›¾åŠŸèƒ½</li>
</ul>
<p>åº”ç”¨é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œå…·æœ‰è‰¯å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼Œæ”¯æŒWindowsã€macOSå’ŒLinuxä¸»æµæ“ä½œç³»ç»Ÿã€‚</p>
<h3 data-id="heading-30">7.2 æœªæ¥æ”¹è¿›æ–¹å‘</h3>
<ol>
<li><strong>é›†æˆçœŸå®çš„Qwen3 2Bæ¨¡å‹æ¨ç†å¼•æ“</strong></li>
<li><strong>ä¼˜åŒ–æ¨¡å‹åŠ è½½å’Œæ¨ç†æ€§èƒ½</strong></li>
<li><strong>å®ç°æ–‡æ¡£ç´¢å¼•çš„æŒä¹…åŒ–å­˜å‚¨</strong></li>
<li><strong>å®Œå–„ç”¨æˆ·è®¾ç½®å’Œåå¥½ç®¡ç†</strong></li>
<li><strong>å¢åŠ è‡ªåŠ¨æ›´æ–°åŠŸèƒ½</strong></li>
<li><strong>ä¼˜åŒ–è·¨å¹³å°å…¼å®¹æ€§</strong></li>
<li><strong>æ·»åŠ æ›´å¤šAIåŠŸèƒ½ï¼Œå¦‚å›¾åƒç”Ÿæˆã€è§†é¢‘åˆ†æç­‰</strong></li>
<li><strong>å®Œå–„ç”¨æˆ·æ–‡æ¡£å’ŒæŠ€æœ¯æ”¯æŒè¯´æ˜</strong></li>
</ol>
<h2 data-id="heading-31">å…«ã€æºä»£ç ä¸èµ„æº</h2>
<ul>
<li>é¡¹ç›®æºä»£ç ï¼š[GitHubä»“åº“é“¾æ¥]</li>
<li>Qwen3 2Bæ¨¡å‹ï¼š[æ¨¡å‹ä¸‹è½½é“¾æ¥]</li>
<li>æŠ€æœ¯æ–‡æ¡£ï¼š[æ–‡æ¡£é“¾æ¥]</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cbf0a3c3e7743b9a0c23429fa2d52c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWq5rWq5bGxX-Wkp-apmeWtkA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765870744&amp;x-signature=Ait5MLxjrNCnTafwKqJPYmYPuYs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-32">ä¹ã€ç»“è¯­</h2>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬äº†è§£äº†å¦‚ä½•ä½¿ç”¨Electron+Vite+Vue3å¼€å‘ä¸€æ¬¾åŠŸèƒ½å®Œæ•´çš„Qwen3 2Bæ¡Œé¢åº”ç”¨ã€‚è¿™æ¬¾åº”ç”¨ä¸ä»…è§£å†³äº†äº‘ç«¯LLMæœåŠ¡çš„éšç§å’Œç½‘ç»œä¾èµ–é—®é¢˜ï¼Œè¿˜æä¾›äº†ä¸°å¯Œçš„AIåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·å¸¦æ¥äº†ä¾¿æ·çš„æ™ºèƒ½äº¤äº’ä½“éªŒã€‚</p>
<p>éšç€AIæŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œæœ¬åœ°éƒ¨ç½²LLMå°†æˆä¸ºè¶Šæ¥è¶Šé‡è¦çš„è¶‹åŠ¿ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿä¸ºå¼€å‘è€…æä¾›ä¸€äº›å‚è€ƒå’Œå¯å‘ï¼Œå¸®åŠ©å¤§å®¶æ„å»ºæ›´å¤šä¼˜ç§€çš„AIæ¡Œé¢åº”ç”¨ã€‚</p>
<p>å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰6. è¾“å‡ºä¿®æ­£è§£æå™¨ OutputFixingParser]]></title>    <link>https://juejin.cn/post/7581649704883224591</link>    <guid>https://juejin.cn/post/7581649704883224591</guid>    <pubDate>2025-12-09T07:29:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581649704883224591" data-draft-id="7581477397510225954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰6. è¾“å‡ºä¿®æ­£è§£æå™¨ OutputFixingParser"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LangChain"/> <meta itemprop="datePublished" content="2025-12-09T07:29:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RedTiemr"/> <meta itemprop="url" content="https://juejin.cn/user/2140104538466522"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰6. è¾“å‡ºä¿®æ­£è§£æå™¨ OutputFixingParser
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2140104538466522/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RedTiemr
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:29:07.000Z" title="Tue Dec 09 2025 07:29:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰6. è¾“å‡ºä¿®æ­£è§£æå™¨ OutputFixingParser</h2>
<p>åœ¨ LangChain ä¸­çš„ <code>OutputFixingParser</code> æä¾›äº†ä¸€ç§è‡ªåŠ¨åŒ–çš„æœºåˆ¶ï¼Œç”¨äºçº æ­£åœ¨è¾“å‡ºè§£æè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚</p>
<p>è¯¥è§£æå™¨æ—¨åœ¨å›´ç»•å¦ä¸€ä¸ªè§£æå™¨ï¼ˆä¾‹å¦‚ <code>PydanticOutputParser</code>ï¼‰è¿›è¡Œéƒ¨ç½²ï¼Œå¹¶åœ¨åº•å±‚è§£æå™¨é‡åˆ°æ ¼å¼é”™è¯¯æˆ–ä¸ç¬¦åˆé¢„æœŸæ ¼å¼çš„è¾“å‡ºæ—¶ä»‹å…¥ã€‚</p>
<p>å®ƒé€šè¿‡è°ƒç”¨æ›´å¤šçš„è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ¥ä¿®æ­£é”™è¯¯å¹¶ç¡®ä¿æ ¼å¼æ­£ç¡®ã€‚</p>
<p>å…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯å¤„ç†åˆå§‹è¾“å‡ºä¸ç¬¦åˆé¢„è®¾æ¨¡å¼çš„æƒ…å†µã€‚ä¸€æ—¦å‡ºç°æ­¤ç±»é—®é¢˜ï¼Œè¯¥è§£æå™¨ä¼šè‡ªåŠ¨æ£€æµ‹å‡ºæ ¼å¼é”™è¯¯ï¼Œå¹¶å‘æ¨¡å‹æäº¤ä¸€ä¸ªæ–°çš„è¯·æ±‚ï¼Œå…¶ä¸­åŒ…å«çº æ­£é—®é¢˜çš„å…·ä½“è¯´æ˜ã€‚è¿™äº›è¯´æ˜ä¼šæŒ‡å‡ºé—®é¢˜æ‰€åœ¨ï¼Œå¹¶æä¾›æ¸…æ™°çš„æŒ‡å¯¼ï¼Œä»¥ä½¿æ•°æ®æŒ‰ç…§æ­£ç¡®çš„æ ¼å¼è¿›è¡Œé‡æ–°ç»„ç»‡ã€‚</p>
<p>æ­¤åŠŸèƒ½åœ¨ä¸¥æ ¼éµå¾ªç‰¹å®šæ¨¡å¼çš„åœºæ™¯ä¸­å°¤ä¸ºæœ‰ç”¨ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨<code>PydanticOutputParser</code>æ¥ç”Ÿæˆç¬¦åˆç‰¹å®šæ•°æ®æ¨¡å¼çš„è¾“å‡ºæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°è¯¸å¦‚ç¼ºå°‘å­—æ®µæˆ–æ•°æ®ç±»å‹é”™è¯¯ç­‰é—®é¢˜ã€‚</p>
<ul>
<li><code>è¾“å‡ºä¿®æ­£è§£æå™¨</code>çš„æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</li>
</ul>
<ol>
<li>
<p><strong>é”™è¯¯æ£€æµ‹</strong> ï¼šå®ƒä¼šè¯†åˆ«å‡ºè¾“å‡ºä¸ç¬¦åˆæ¨¡å¼è¦æ±‚ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯ä¿®æ­£</strong> ï¼šå®ƒä¼šå‘è¯­è¨€æ¨¡å‹å‘é€åç»­è¯·æ±‚ï¼Œå¹¶æ˜ç¡®æŒ‡ç¤ºå…¶è§£å†³ç›¸å…³é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>æ ¹æ®ç‰¹å®šè¦æ±‚é‡æ–°æ ¼å¼åŒ–çš„è¾“å‡º</strong> ï¼šâ€œè¾“å‡ºä¿®æ­£è§£æå™¨â€ç¡®ä¿ä¿®æ­£æŒ‡ä»¤èƒ½å¤Ÿå‡†ç¡®åœ°æŒ‡å‡ºé”™è¯¯ä¹‹å¤„ï¼Œä¾‹å¦‚ç¼ºå°‘çš„å­—æ®µæˆ–ä¸æ­£ç¡®çš„æ•°æ®ç±»å‹ã€‚è¿™äº›æŒ‡ä»¤å¼•å¯¼è¯­è¨€æ¨¡å‹å¯¹è¾“å‡ºè¿›è¡Œé‡æ–°æ ¼å¼åŒ–ï¼Œä»¥å®Œå…¨ç¬¦åˆæ¨¡å¼è¦æ±‚ã€‚</p>
</li>
</ol>
<hr/>
<p>å®é™…ç¤ºä¾‹ï¼š</p>
<p>å‡è®¾æ‚¨æ­£åœ¨ä½¿ç”¨â€œPydanticOutputParserâ€æ¥æ‰§è¡Œä¸€ä¸ªéœ€è¦ç‰¹å®šå­—æ®µï¼ˆå¦‚â€œå§“åâ€ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€â€œå¹´é¾„â€ï¼ˆæ•´æ•°ï¼‰å’Œâ€œç”µå­é‚®ä»¶â€ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼‰çš„è§„èŒƒã€‚å¦‚æœè¯­è¨€æ¨¡å‹ç”Ÿæˆçš„è¾“å‡ºä¸­ç¼ºå°‘â€œå¹´é¾„â€å­—æ®µæˆ–è€…â€œç”µå­é‚®ä»¶â€å­—æ®µä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆâ€œOutputFixingParserâ€ä¼šè‡ªåŠ¨ä»‹å…¥ã€‚</p>
<p>å®ƒä¼šå‘è¯­è¨€æ¨¡å‹å‘å‡ºä¸€ä¸ªæ–°çš„è¯·æ±‚ï¼Œå¹¶é™„ä¸Šè¯¦ç»†çš„è¯´æ˜ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>è¾“å‡ºä¸­ç¼ºå°‘äº†<code>å¹´é¾„</code>è¿™ä¸€å­—æ®µã€‚è¯·ä¸º<code>å¹´é¾„</code>æ·»åŠ ä¸€ä¸ªåˆé€‚çš„æ•´æ•°å€¼ã€‚</li>
<li><code>ç”µå­é‚®ä»¶</code>å­—æ®µçš„æ ¼å¼ä¸æ­£ç¡®ã€‚è¯·å°†å…¶æ›´æ­£ä¸ºç¬¦åˆæœ‰æ•ˆç”µå­é‚®ä»¶æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p>è¿™ç§è¿­ä»£è¿‡ç¨‹èƒ½å¤Ÿç¡®ä¿æœ€ç»ˆè¾“å‡ºç¬¦åˆæŒ‡å®šçš„æ ¼å¼ï¼Œè€Œæ— éœ€äººå·¥å¹²é¢„ã€‚</p>
<hr/>
<p>ä¸»è¦ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>é”™è¯¯æ¢å¤</strong>ï¼šèƒ½å¤Ÿè‡ªåŠ¨å¤„ç†æ ¼å¼é”™è¯¯çš„è¾“å‡ºï¼Œæ— éœ€ç”¨æˆ·å¹²é¢„ã€‚</li>
<li><strong>å‡†ç¡®æ€§æå‡</strong>ï¼šç¡®ä¿è¾“å‡ºç¬¦åˆé¢„è®¾çš„æ ¼å¼è§„èŒƒï¼Œé™ä½å‡ºç°ä¸ä¸€è‡´æƒ…å†µçš„é£é™©ã€‚</li>
<li><strong>æµç¨‹ç®€åŒ–</strong>ï¼šå‡å°‘æ‰‹åŠ¨ä¿®æ­£çš„éœ€æ±‚ï¼ŒèŠ‚çœæ—¶é—´å¹¶æé«˜æ•ˆç‡ã€‚</li>
</ul>
<hr/>
<p>å®æ–½æ­¥éª¤ï¼š
è¦æœ‰æ•ˆåœ°ä½¿ç”¨<code>è¾“å‡ºä¿®æ­£è§£æå™¨</code>ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li>
<p><strong>å°è£…è§£æå™¨</strong>ï¼šä½¿ç”¨å¦ä¸€ä¸ªè§£æå™¨ï¼ˆä¾‹å¦‚ <code>PydanticOutputParser</code>ï¼‰ä½œä¸ºåŸºç¡€ï¼Œæ¥å®ä¾‹åŒ– <code>OutputFixingParser</code> ã€‚</p>
</li>
<li>
<p><strong>å®šä¹‰æ¨¡å¼</strong>ï¼šæ˜ç¡®è¾“å‡ºå¿…é¡»éµå¾ªçš„æ¨¡å¼æˆ–æ ¼å¼ã€‚</p>
</li>
<li>
<p><strong>å¯ç”¨é”™è¯¯ä¿®æ­£åŠŸèƒ½</strong>ï¼šå…è®¸<code>è¾“å‡ºä¿®æ­£è§£æå™¨</code>é€šè¿‡é¢å¤–çš„å¤§å‹è¯­è¨€æ¨¡å‹è°ƒç”¨è‡ªåŠ¨æ£€æµ‹å¹¶çº æ­£é”™è¯¯ï¼Œç¡®ä¿ä¿®æ­£æŒ‡ä»¤èƒ½å¤Ÿå‡†ç¡®åœ°è¯†åˆ«å¹¶è§£å†³é—®é¢˜ï¼Œä»è€Œå®ç°ç²¾ç¡®çš„æ ¼å¼é‡æ’ã€‚</p>
</li>
</ol>
<p>é€šè¿‡å°†<code>è¾“å‡ºä¿®æ­£è§£æå™¨</code>é›†æˆåˆ°æ‚¨çš„å·¥ä½œæµç¨‹ä¸­ï¼Œæ‚¨èƒ½å¤Ÿç¡®ä¿å¼ºå¤§çš„é”™è¯¯å¤„ç†èƒ½åŠ›ï¼Œå¹¶åœ¨æ‚¨çš„ LangChain åº”ç”¨ç¨‹åºä¸­ä¿æŒä¸€è‡´çš„è¾“å‡ºè´¨é‡ã€‚</p>
<h3 data-id="heading-1">å®šä¹‰æ•°æ®æ¨¡å‹å’Œè®¾ç½® PydanticOutputParser</h3>
<ul>
<li>Actor ç±»ä½¿ç”¨ Pydantic æ¨¡å‹å®šä¹‰ï¼Œå…¶ä¸­ name å’Œ film_names å­—æ®µåˆ†åˆ«è¡¨ç¤ºæ¼”å‘˜çš„å§“åå’Œä»–ä»¬å‡ºæ¼”çš„ç”µå½±åˆ—è¡¨ã€‚</li>
<li><code>PydanticOutputParser</code> ç”¨äºå°†è¾“å‡ºè§£æä¸º Actor å¯¹è±¡ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> PydanticOutputParser
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>

<span class="hljs-comment"># ä½¿ç”¨ Pydantic å®šä¹‰æ¼”å‘˜ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Actor</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    name: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ¼”å‘˜çš„å§“å"</span>)
    film_names: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>] = Field(description=<span class="hljs-string">"å‡ºæ¼”çš„ç”µå½±åç§°åˆ—è¡¨"</span>)

<span class="hljs-comment"># ç”Ÿæˆéšæœºæ¼”å‘˜ç”µå½±ä½œå“åˆ—è¡¨çš„æŸ¥è¯¢</span>
actor_query = <span class="hljs-string">"ç”Ÿæˆä¸€ä¸ªéšæœºæ¼”å‘˜çš„ç”µå½±ä½œå“åˆ—è¡¨ã€‚"</span>

<span class="hljs-comment"># ä½¿ç”¨ PydanticOutputParser å°†è¾“å‡ºè§£æä¸º Actor å¯¹è±¡</span>
parser = PydanticOutputParser(pydantic_object=Actor)
</code></pre>
<h4 data-id="heading-2">å°è¯•è§£ææ ¼å¼é”™è¯¯çš„è¾“å…¥æ•°æ® ***</h4>
<ul>
<li>misformatted å˜é‡åŒ…å«ä¸€ä¸ªæ ¼å¼ä¸æ­£ç¡®çš„å­—ç¬¦ä¸²ï¼Œå®ƒä¸é¢„æœŸçš„ç»“æ„ä¸åŒ¹é…ï¼ˆä½¿ç”¨äº† ' è€Œä¸æ˜¯ "ï¼‰ã€‚</li>
<li>è°ƒç”¨ parser.parse() å°†ä¼šå› ä¸ºæ ¼å¼ä¸åŒ¹é…è€Œå¯¼è‡´é”™è¯¯ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å°è¯•è§£ææ ¼å¼é”™è¯¯çš„è¾“å…¥æ•°æ®</span>
misformatted = <span class="hljs-string">"{'name': 'Tom Hanks', 'film_names': ['Forrest Gump']}"</span>
parser.parse(misformatted)
</code></pre>
<p>è¾“å‡ºçš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-title class_">OutputParserException</span>: <span class="hljs-title class_">Invalid</span> json <span class="hljs-symbol">output:</span> {<span class="hljs-string">'name'</span>: <span class="hljs-string">'Tom Hanks'</span>, <span class="hljs-string">'film_names'</span>: [<span class="hljs-string">'Forrest Gump'</span>]}
<span class="hljs-title class_">For</span> troubleshooting, <span class="hljs-symbol">visit:</span> <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/python.langchain.com/docs</span><span class="hljs-regexp">/troubleshooting/errors</span><span class="hljs-regexp">/OUTPUT_PARSING_FAILURE 
</span></code></pre>
<ul>
<li>è¾“å‡ºä¿®æ­£è§£æå™¨ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ ¼å¼é”™è¯¯ï¼Œå¹¶å‘æ¨¡å‹å‘é€ä¿®æ­£æŒ‡ä»¤ã€‚</li>
<li>ä¿®æ­£åçš„è¾“å‡ºå°†ç¬¦åˆ Actor ç±»çš„å®šä¹‰ï¼Œå¹¶ä¸”å¯ä»¥æˆåŠŸè§£æã€‚</li>
</ul>
<h3 data-id="heading-3">ä½¿ç”¨ OutputFixingParser ä¿®æ­£æ ¼å¼é”™è¯¯</h3>
<h4 data-id="heading-4">è®¾ç½® OutputFixingParser è‡ªåŠ¨ä¿®æ­£é”™è¯¯ é€‚ç”¨ä¸ å°äº ç‰ˆæœ¬1.0</h4>
<ul>
<li><code>OutputFixingParser</code> åŒ…è£…ç°æœ‰çš„ <code>PydanticOutputParser</code>ï¼Œé€šè¿‡å¯¹ LLM è¿›è¡Œé¢å¤–è°ƒç”¨æ¥è‡ªåŠ¨ä¿®å¤é”™è¯¯ã€‚è¿™ä¸ªè§£æè¿‡ç¨‹æ˜¯é€æ˜çš„ï¼Œç”¨æˆ·æ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</li>
<li>from_llm() æ–¹æ³•å°† <code>OutputFixingParser</code> ä¸ <code>ChatOpenAI</code> è¿æ¥ï¼Œä»¥ä¿®æ­£è¾“å‡ºä¸­çš„æ ¼å¼é—®é¢˜ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate
<span class="hljs-keyword">from</span> langchain.output_parsers <span class="hljs-keyword">import</span> OutputFixingParser


<span class="hljs-comment"># å®šä¹‰è‡ªå®šä¹‰æç¤ºä»¥æä¾›ä¿®å¤è¯´æ˜</span>
fixing_prompt = PromptTemplate(
    template=(
        <span class="hljs-string">"ä»¥ä¸‹JSONæ ¼å¼ä¸æ­£ç¡®æˆ–ä¸å®Œæ•´: {completion}\n"</span>
    ),
    input_variables=[
        <span class="hljs-string">"completion"</span>,
    ],
)
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">import</span> os

load_dotenv()


Qwen2_5_7B_Instruct_llm = ChatOpenAI(
    temperature=<span class="hljs-number">0.1</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼Œå€¼è¶Šä½è¾“å‡ºè¶Šç¨³å®šå¯é¢„æµ‹ï¼Œå€¼è¶Šé«˜è¾“å‡ºè¶Šæœ‰åˆ›æ„ä½†å¯èƒ½åç¦»é¢„æœŸ (èŒƒå›´: 0.0 ~ 2.0)</span>
    model_name=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨æ”¯æŒçš„æ¨¡å‹åç§°</span>
    openai_api_key=os.getenv(<span class="hljs-string">"SILICONFLOW_API_KEY"</span>),  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥</span>
    openai_api_base=<span class="hljs-string">"https://api.siliconflow.cn/v1"</span>  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨APIçš„åŸºç¡€URL</span>
)

<span class="hljs-comment"># ä½¿ç”¨OutputFixingParserè‡ªåŠ¨ä¿®å¤é”™è¯¯</span>
new_parser = OutputFixingParser.from_llm(
    parser=parser, llm=Qwen2_5_7B_Instruct_llm, prompt=fixing_prompt
)
</code></pre>
<h4 data-id="heading-5">è®¾ç½® æœ€æ–°çš„ è‡ªåŠ¨ä¿®æ­£é”™è¯¯ ä½¿ç”¨æ–¹å¼ é€‚ç”¨ä¸ å¤§äº ç‰ˆæœ¬1.0çš„ Langchain åº“</h4>
<p>åœ¨ <code>LangChain</code> æœ€æ–°ç‰ˆæœ¬ä¸­ï¼Œ<code>OutputFixingParser</code> å·²è¢« <code>with_structured_output()</code> çš„å†…ç½®é‡è¯•æœºåˆ¶å–ä»£ï¼Œä¸å†éœ€è¦å•ç‹¬ä½¿ç”¨ã€‚</p>
<p>ç°ä»£æ¨¡å‹é€šè¿‡ <code>with_structured_output()</code> æ–¹æ³• + <code>ToolStrategy</code> æä¾›è‡ªåŠ¨é”™è¯¯ä¿®å¤ï¼Œå½“è§£æå¤±è´¥æ—¶ä¼šè‡ªåŠ¨é‡è¯•å¹¶æä¾›å…·ä½“é”™è¯¯åé¦ˆã€‚</p>
<p><code>ToolStrategy</code> æ˜¯ <code>LangChain</code> çš„ä¸€ç§ ç»“æ„åŒ–è¾“å‡ºç­–ç•¥ ï¼Œä¸»è¦ç”¨äºï¼š</p>
<p><code>ToolStrategy</code> æ˜¯ <code>LangChain v1.0+</code> ä¸­çš„ä¸€ä¸ªé‡è¦ç»„ä»¶ï¼Œç”¨äºå¤„ç†ç»“æ„åŒ–è¾“å‡ºå’Œè‡ªåŠ¨é”™è¯¯ä¿®å¤ã€‚</p>
<ol>
<li>å·¥å…·è°ƒç”¨ç­–ç•¥ ï¼šé€šè¿‡å·¥å…·è°ƒç”¨å®ç°ç»“æ„åŒ–è¾“å‡º</li>
<li>è‡ªåŠ¨é”™è¯¯å¤„ç† ï¼šå½“è§£æå¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•å¹¶æä¾›å…·ä½“é”™è¯¯åé¦ˆ</li>
<li>æ¨¡å‹å…¼å®¹æ€§ ï¼šæ”¯æŒä¸æ”¯æŒåŸç”Ÿç»“æ„åŒ–è¾“å‡ºçš„æ¨¡å‹</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents.structured_output <span class="hljs-keyword">import</span> ToolStrategy
Qwen2_5_7B_Instruct_llm = ChatOpenAI(
    temperature=<span class="hljs-number">0.1</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼Œå€¼è¶Šä½è¾“å‡ºè¶Šç¨³å®šå¯é¢„æµ‹ï¼Œå€¼è¶Šé«˜è¾“å‡ºè¶Šæœ‰åˆ›æ„ä½†å¯èƒ½åç¦»é¢„æœŸ (èŒƒå›´: 0.0 ~ 2.0)</span>
    model_name=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨æ”¯æŒçš„æ¨¡å‹åç§°</span>
    openai_api_key=os.getenv(<span class="hljs-string">"SILICONFLOW_API_KEY"</span>),  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥</span>
    openai_api_base=<span class="hljs-string">"https://api.siliconflow.cn/v1"</span>  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨APIçš„åŸºç¡€URL</span>
)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Actor</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    name: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ¼”å‘˜çš„å§“å"</span>)
    film_names: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>] = Field(description=<span class="hljs-string">"å‡ºæ¼”çš„ç”µå½±åç§°åˆ—è¡¨"</span>)
<span class="hljs-comment"># è‡ªåŠ¨ä¿®å¤è§£æé”™è¯¯ (é»˜è®¤é‡è¯•3æ¬¡)</span>
structured_model = Qwen2_5_7B_Instruct_llm.with_structured_output(
    Actor, 
    method=<span class="hljs-string">"json_schema"</span>  <span class="hljs-comment"># æˆ– "function_calling"</span>
)
<span class="hljs-comment"># æµ‹è¯•é”™è¯¯è¾“å…¥ - ä¼šè‡ªåŠ¨ä¿®å¤</span>
result = structured_model.invoke(<span class="hljs-string">"æ¼”å‘˜ å¼ ä¸‰ å‡ºæ¼”äº† ç”µå½± 1, ç”µå½± 2, ç”µå½± 3"</span>)
<span class="hljs-built_in">print</span>(result)
</code></pre>
<p>æˆ–è€…å¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>create_agent</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ™ºèƒ½ä½“ï¼Œè¯¥æ™ºèƒ½ä½“ä¼šè‡ªåŠ¨å¤„ç†ç»“æ„åŒ–è¾“å‡ºå’Œé”™è¯¯ä¿®å¤ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents.structured_output <span class="hljs-keyword">import</span> ToolStrategy

Qwen2_5_7B_Instruct_llm = ChatOpenAI(
    temperature=<span class="hljs-number">0.1</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼Œå€¼è¶Šä½è¾“å‡ºè¶Šç¨³å®šå¯é¢„æµ‹ï¼Œå€¼è¶Šé«˜è¾“å‡ºè¶Šæœ‰åˆ›æ„ä½†å¯èƒ½åç¦»é¢„æœŸ (èŒƒå›´: 0.0 ~ 2.0)</span>
    model_name=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨æ”¯æŒçš„æ¨¡å‹åç§°</span>
    openai_api_key=os.getenv(<span class="hljs-string">"SILICONFLOW_API_KEY"</span>),  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥</span>
    openai_api_base=<span class="hljs-string">"https://api.siliconflow.cn/v1"</span>  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨APIçš„åŸºç¡€URL</span>
)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Actor</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    name: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ¼”å‘˜çš„å§“å"</span>)
    film_names: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>] = Field(description=<span class="hljs-string">"å‡ºæ¼”çš„ç”µå½±åç§°åˆ—è¡¨"</span>)

agent = create_agent(
    model=Qwen2_5_7B_Instruct_llm,
    tools=[],  <span class="hljs-comment"># æ— å·¥å…·æ—¶ä½¿ç”¨ç»“æ„åŒ–è¾“å‡º</span>
    response_format=ToolStrategy(Actor, handle_errors=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># è‡ªåŠ¨é‡è¯•</span>
)

result = agent.invoke({
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: <span class="hljs-string">"Parse: æ¼”å‘˜ å¼ ä¸‰ å‡ºæ¼”äº† ç”µå½± 1, ç”µå½± 2, ç”µå½± 3"</span>}]
})
<span class="hljs-built_in">print</span>(result[<span class="hljs-string">"structured_response"</span>])

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS åº”ç”¨ä¸Šæ¶æµç¨‹çš„å·¥ç¨‹åŒ–æ‹†è§£ ä»ç­¾åä½“ç³»åˆ°æäº¤å®¡æ ¸çš„å…¨è¿‡ç¨‹ç®¡æ§]]></title>    <link>https://juejin.cn/post/7581670270843945000</link>    <guid>https://juejin.cn/post/7581670270843945000</guid>    <pubDate>2025-12-09T07:58:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581670270843945000" data-draft-id="7581545175509532724" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS åº”ç”¨ä¸Šæ¶æµç¨‹çš„å·¥ç¨‹åŒ–æ‹†è§£ ä»ç­¾åä½“ç³»åˆ°æäº¤å®¡æ ¸çš„å…¨è¿‡ç¨‹ç®¡æ§"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T07:58:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS åº”ç”¨ä¸Šæ¶æµç¨‹çš„å·¥ç¨‹åŒ–æ‹†è§£ ä»ç­¾åä½“ç³»åˆ°æäº¤å®¡æ ¸çš„å…¨è¿‡ç¨‹ç®¡æ§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:58:08.000Z" title="Tue Dec 09 2025 07:58:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç§»åŠ¨åº”ç”¨çš„äº¤ä»˜é“¾è·¯ä¸­ï¼Œâ€œiOS åº”ç”¨ä¸Šæ¶â€ å¾€å¾€æ¯”ä¸Šçº¿åŠŸèƒ½æœ¬èº«æ›´å…·æŒ‘æˆ˜æ€§ã€‚è®¸å¤šå›¢é˜Ÿç¬¬ä¸€æ¬¡ç»å† iOS æäº¤æµç¨‹æ—¶ï¼Œéƒ½ä¼šæ„Ÿå—åˆ°æ˜æ˜¾çš„å­¦ä¹ æ›²çº¿ï¼šå¤æ‚çš„è¯ä¹¦ä½“ç³»ã€ä¸¥æ ¼çš„å®¡æ ¸æ ‡å‡†ã€ä¸å¯è·³è¿‡çš„å…ƒæ•°æ®å¡«å†™ã€æˆªå›¾è¦æ±‚ã€Bundle ID é™åˆ¶ï¼Œä»¥åŠåªèƒ½ä¾é è‹¹æœæœåŠ¡å™¨éªŒè¯çš„ IPA ä¸Šä¼ æœºåˆ¶ã€‚</p>
<p>æ¯”æµç¨‹æœ¬èº«æ›´å¤æ‚çš„æ˜¯â€”â€”<strong>ä¸åŒå›¢é˜Ÿæˆå‘˜é€šå¸¸ä½¿ç”¨ä¸åŒæ“ä½œç³»ç»Ÿ</strong>ã€‚å¼€å‘è€…å¯èƒ½ä½¿ç”¨ Windowsã€Linux æˆ– macOSï¼Œè€Œ iOS ä¸Šæ¶ä¼ ç»Ÿä¸Šä¸¥é‡ä¾èµ– macOSï¼Œè¿™ä½¿å¾—æ•´ä¸ªæµç¨‹å®¹æ˜“å—åˆ°å•ç‚¹é˜»å¡ã€‚</p>
<p>æœ¬æ–‡å°è¯•ä»¥å·¥ç¨‹æ‹†è§£çš„æ–¹å¼ï¼Œåˆ†æ iOS åº”ç”¨ä¸Šæ¶çš„å…³é”®ç¯èŠ‚ï¼Œå¹¶ç»“åˆå®é™…é¡¹ç›®ç»éªŒè®¨è®ºå¦‚ä½•åœ¨å¤šå¹³å°å›¢é˜Ÿä¸­æ„å»ºå¯å¤ç”¨ã€å¯ç»´æŠ¤çš„ä¸Šæ¶æµç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€ä¸Šæ¶çš„ç¬¬ä¸€å±‚é—¨æ§›ï¼šè‹¹æœçš„ç­¾åä½“ç³»</strong></h2>
<p>åœ¨ iOS å¹³å°ï¼Œåº”ç”¨èƒ½å¦å®‰è£…ä¸å‘å¸ƒå®Œå…¨å–å†³äºè¯ä¹¦ä¸æè¿°æ–‡ä»¶æ˜¯å¦åŒ¹é…ã€‚è¿™ä¸ªæœºåˆ¶ç¡®ä¿äº†åº”ç”¨æ¥æºå¯éªŒè¯ï¼Œä½†ä¹Ÿè®©ç¬¬ä¸€æ¬¡ä¸Šæ¶è¿‡ç¨‹å˜å¾—å¤æ‚ã€‚</p>
<p>è‹¹æœçš„ç­¾åä½“ç³»åŒ…å«ï¼š</p>
<ul>
<li><strong>å¼€å‘è¯ä¹¦ï¼ˆDevelopmentï¼‰</strong></li>
<li><strong>å‘å¸ƒè¯ä¹¦ï¼ˆDistributionï¼‰</strong></li>
<li><strong>æè¿°æ–‡ä»¶ï¼ˆProvisioning Profileï¼‰</strong></li>
<li><strong>Bundle ID ä¸ Entitlements</strong></li>
<li><strong>è®¾å¤‡ UDID æ¸…å•ï¼ˆå¼€å‘é˜¶æ®µï¼‰</strong></li>
</ul>
<p>ä»»ä½•ç¯èŠ‚å‡ºç°è¯¯å·®ï¼Œéƒ½å¯èƒ½å¯¼è‡´ï¼š</p>
<ul>
<li>ä¸èƒ½å®‰è£…åˆ°æ‰‹æœº</li>
<li>IPA æ— æ³•è¢«è‹¹æœæœåŠ¡å™¨éªŒè¯</li>
<li>App Store ä¸Šä¼ å¤±è´¥</li>
<li>TestFlight æ„å»ºè¢«æ‹’ç»</li>
</ul>
<p>åœ¨å›¢é˜Ÿåä½œæ—¶ï¼Œæœ€å¤§çš„éšæ‚£æ¥è‡ª â€œè¯ä¹¦åˆ†æ•£â€â€”â€”ä¸åŒæˆå‘˜å„è‡ªåˆ›å»ºè¯ä¹¦ï¼Œå¯¼è‡´æè¿°æ–‡ä»¶åŒ¹é…æ··ä¹±ã€‚</p>
<p>ä¸ºäº†å‡å°‘è¿™ç§ä¸å¿…è¦çš„é”™è¯¯ï¼Œåœ¨å¤šä¸ªé¡¹ç›®ä¸­æˆ‘ä¼šå€ŸåŠ©è·¨å¹³å°çš„å·¥å…·å¯¹è¯ä¹¦è¿›è¡Œç»“æ„åŒ–ç®¡ç†ã€‚ä¾‹å¦‚ä½¿ç”¨ <strong>Appuploader çš„è¯ä¹¦æŸ¥çœ‹ä¸ mobileprovision è§£æåŠŸèƒ½</strong> æŸ¥çœ‹ï¼š</p>
<ul>
<li>è¯ä¹¦æŒ‡çº¹</li>
<li>è¯ä¹¦å…¬é’¥</li>
<li>æè¿°æ–‡ä»¶ç»‘å®šçš„è¯ä¹¦</li>
<li>æè¿°æ–‡ä»¶å…è®¸çš„è®¾å¤‡</li>
<li>Bundle ID ä¿¡æ¯
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8db245a24555457986724a6c6f688cd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871888&amp;x-signature=HdL1im%2BGwUTIYhwVy2P2Gcd195c%3D" alt="æŸ¥çœ‹" loading="lazy"/></li>
</ul>
<p>è¿™ç§æ–¹å¼èƒ½è®© Windows / Linux æˆå‘˜ä¹Ÿèƒ½å‚ä¸ç­¾åæ’æŸ¥ï¼Œè€Œä¸éœ€è¦ä¾èµ–ç‰¹å®šçš„ macOS è®¾å¤‡ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€æ„å»ºå¯æäº¤å®¡æ ¸çš„ IPAï¼šå·¥ç¨‹ç¯å¢ƒä¸­çš„å…³é”®å†³ç­–</strong></h2>
<p>iOS åº”ç”¨æœ€ç»ˆæäº¤çš„æ˜¯ <strong>IPA æ–‡ä»¶</strong>ï¼Œå®ƒé€šå¸¸ç”±ä»¥ä¸‹å‡ ç§æ–¹å¼äº§ç”Ÿï¼š</p>
<ol>
<li>Xcode æ„å»ºï¼ˆä¼ ç»Ÿï¼‰</li>
<li>è·¨ç«¯æ¡†æ¶æ„å»ºï¼ˆFlutterã€uni-appã€RN ç­‰ï¼‰</li>
<li>CI è‡ªåŠ¨æ„å»ºï¼ˆJenkinsã€GitHub Actions ç­‰ï¼‰</li>
<li>å›¢é˜Ÿå†…éƒ¨è„šæœ¬æˆ–æ„å»ºæœºå™¨</li>
</ol>
<p>æ— è®ºé‡‡ç”¨å“ªç§æ–¹å¼ï¼ŒIPA æœ€ç»ˆå¿…é¡»ç»è¿‡è‹¹æœç­¾åéªŒè¯ã€‚</p>
<p>åœ¨æ„å»ºå’Œç­¾åé˜¶æ®µï¼Œæˆ‘å¸¸åšä¸¤ä»¶äº‹ï¼š</p>
<h3 data-id="heading-2"><strong>1. ä½¿ç”¨å·¥å…·æŸ¥çœ‹ IPA å†…éƒ¨ä¿¡æ¯ï¼Œæå‰æ’æŸ¥ç­¾åé—®é¢˜</strong></h3>
<p>Appuploader çš„æ–‡ä»¶å†…å®¹æŸ¥çœ‹èƒ½åŠ›å¯ä»¥æŸ¥çœ‹ IPA å†…çš„ï¼š</p>
<ul>
<li>Info.plist</li>
<li>ç­¾åç»“æ„</li>
<li>åŒ…å«çš„æè¿°æ–‡ä»¶</li>
</ul>
<p>è¿™æ¯”å•çº¯ä¾èµ– Xcode çš„é”™è¯¯æç¤ºæ›´ç›´è§‚ã€‚</p>
<h3 data-id="heading-3"><strong>2. åœ¨å·¥ç¨‹å±‚é¢ç»´æŒ Bundle ID ä¸è¯ä¹¦çš„ä¸€è‡´æ€§</strong></h3>
<p>è®¸å¤šä¸Šæ¶å¤±è´¥æ¡ˆä¾‹å¹¶ä¸æ˜¯å› ä¸ºæ„å»ºé—®é¢˜ï¼Œè€Œæ˜¯å› ä¸ºï¼š</p>
<ul>
<li>Bundle ID ä¸åŒ¹é…</li>
<li>æè¿°æ–‡ä»¶ç»‘å®šçš„è¯ä¹¦ä¸æ­£ç¡®</li>
<li>IPA ä»ç„¶æºå¸¦æ—§çš„ç­¾å</li>
</ul>
<p>æå‰æ£€æŸ¥å¯ä»¥é¿å…æµªè´¹ä¸Šä¼ ç­‰å¾…æ—¶é—´ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>ä¸‰ã€IPA ä¸Šä¼ ï¼šiOS ä¸Šæ¶æµç¨‹ä¸­æœ€å®¹æ˜“å—ç³»ç»Ÿç¯å¢ƒé™åˆ¶çš„ç¯èŠ‚</strong></h2>
<p>iOS åº”ç”¨ä¸Šæ¶ä¸­å”¯ä¸€å¿…é¡»é€šè¿‡è‹¹æœæœåŠ¡å™¨éªŒè¯çš„æ­¥éª¤ï¼Œå°±æ˜¯ <strong>ä¸Šä¼  IPA</strong>ã€‚</p>
<p>ä¼ ç»Ÿä¸Šä¼ æ–¹å¼åŒ…æ‹¬ï¼š</p>
<ul>
<li>Xcode Organizerï¼ˆä»… macOSï¼‰</li>
<li>Transporterï¼ˆä»… macOSï¼‰</li>
<li>Fastlane çš„ upload_to_app_storeï¼ˆä»ç„¶ä¾èµ– macOS ç¯å¢ƒï¼‰</li>
</ul>
<p>å¯¹å¤šå¹³å°å›¢é˜Ÿæ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<p>Windows æ— æ³•ä¸Šä¼ 
Linux æ— æ³•ä¸Šä¼ 
CI è‹¥æ²¡æœ‰ macOS Runner ä¹Ÿæ— æ³•ä¸Šä¼ </p>
<p>åœ¨å¤šé¡¹ç›®äº¤ä»˜è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç»å¸¸éœ€è¦åœ¨ Windows æˆ– CIï¼ˆLinuxï¼‰æœåŠ¡å™¨ä¸Šç›´æ¥æäº¤ IPAï¼Œå› æ­¤ä¼šä½¿ç”¨ <strong>Appuploader çš„è·¨å¹³å° IPA ä¸Šä¼ åŠŸèƒ½</strong> æ¥è§£å†³ç¯å¢ƒä¾èµ–é—®é¢˜ã€‚</p>
<p>ç¤ºä¾‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-css" lang="css">appuploader_cli -u account<span class="hljs-keyword">@icloud</span>.com -p xxx-xxx -c <span class="hljs-number">1</span> -f build.ipa
</code></pre>
<p>è¿™æ¡å‘½ä»¤èƒ½åœ¨ Windows / Linux / macOS è¿è¡Œï¼Œä¸ä¾èµ–è‹¹æœçš„ Transporter å·¥å…·ï¼Œä¹Ÿä¸éœ€è¦å®‰è£… Xcodeã€‚</p>
<p>å¯¹äºå›¢é˜Ÿè€Œè¨€ï¼Œè¿™èƒ½æ˜¾è‘—é™ä½ä¸Šæ¶æµç¨‹å¯¹ macOS è®¾å¤‡çš„ä¾èµ–ã€‚
åŒæ—¶è¿˜æœ‰å›¾å½¢åŒ–ç•Œé¢ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28d56b7301f940a4b5551f6b590abeb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871888&amp;x-signature=x%2FdEMEbzCK6tu5QSTWFXl7GUrqk%3D" alt="ipaä¸Šä¼ " loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5"><strong>å››ã€æµ‹è¯•æµç¨‹çš„ç°å®éœ€æ±‚ï¼šå¿«é€Ÿå®‰è£…æ¯” TestFlight æ›´å…³é”®</strong></h2>
<p>è™½ç„¶ TestFlight æ˜¯å®˜æ–¹æ¨èçš„æµ‹è¯•æ–¹å¼ï¼Œä½†å®ƒéœ€è¦ç»è¿‡ï¼š</p>
<ul>
<li>ä¸Šä¼ </li>
<li>æ„å»ºå¤„ç†</li>
<li>ç¬¦åˆæ€§å®¡æ ¸ï¼ˆçº¦ 5â€“30 åˆ†é’Ÿï¼‰</li>
<li>é‚€è¯·æµ‹è¯•ç”¨æˆ·</li>
</ul>
<p>å¯¹äºé«˜é¢‘è¿­ä»£é˜¶æ®µï¼Œè¿™ç§æ–¹å¼å¹¶ä¸é€‚åˆã€‚</p>
<p>åœ¨è°ƒè¯•é˜¶æ®µæˆ‘æ›´å¸¸ç”¨çš„æ–¹å¼æ˜¯ï¼š</p>
<ul>
<li><strong>USB å®‰è£… IPA</strong></li>
<li><strong>äºŒç»´ç å®‰è£…ï¼ˆå±€åŸŸç½‘æˆ–å†…éƒ¨æµ‹è¯•ï¼‰</strong></li>
</ul>
<p>Appuploader æä¾›çš„å®‰è£…åŠŸèƒ½å¯ä»¥ç›´æ¥åœ¨è®¾å¤‡ä¸Šæ‰§è¡Œ IPA å®‰è£…ï¼ŒåŒæ—¶è¿˜èƒ½è‡ªåŠ¨è¯»å–è®¾å¤‡çš„ <strong>UDID</strong>ï¼Œç”¨äºæè¿°æ–‡ä»¶ç®¡ç†ã€‚</p>
<p>è¿™åœ¨è°ƒè¯•é˜¶æ®µèƒ½èŠ‚çœå¤§é‡æ—¶é—´ï¼Œä¹Ÿé¿å… TestFlight å®¡æ ¸å¡ä½å¼€å‘è¿›åº¦ã€‚</p>
<hr/>
<h2 data-id="heading-6"><strong>äº”ã€ä¸Šæ¶ App Store å‰å¿…é¡»ç¡®è®¤çš„å…³é”®é¡¹</strong></h2>
<p>åœ¨æ­£å¼æäº¤å®¡æ ¸å‰ï¼Œæœ‰ä¸€å¥—æˆ‘è®¤ä¸ºéå¸¸å¿…è¦çš„å·¥ç¨‹çº§æ£€æŸ¥åˆ—è¡¨ï¼š</p>
<h3 data-id="heading-7"><strong>1. Bundle ID ä¸€è‡´æ€§</strong></h3>
<p>å·¥ç¨‹ã€æè¿°æ–‡ä»¶ã€App Store Connect å¿…é¡»å®Œå…¨ä¸€è‡´ã€‚</p>
<h3 data-id="heading-8"><strong>2. è¯ä¹¦æœ‰æ•ˆæ€§</strong></h3>
<p>è¯ä¹¦æ˜¯å¦å³å°†è¿‡æœŸã€æ˜¯å¦è¢«æ’¤é”€ã€‚</p>
<h3 data-id="heading-9"><strong>3. æè¿°æ–‡ä»¶ç»‘å®šå…³ç³»</strong></h3>
<p>æ˜¯å¦ç»‘å®šæ­£ç¡®çš„å‘å¸ƒè¯ä¹¦ã€‚</p>
<h3 data-id="heading-10"><strong>4. IPA ç­¾åå†…å®¹æ£€æŸ¥</strong></h3>
<p>å¯ä»¥å€ŸåŠ© Appuploader çš„æ–‡ä»¶æŸ¥çœ‹åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-11"><strong>5. æˆªå›¾ã€å…³é”®è¯ã€å¤šè¯­è¨€ä¿¡æ¯</strong></h3>
<p>å¯é€šè¿‡ Appuploader çš„æˆªå›¾æ‰¹é‡ä¸Šä¼ åŠŸèƒ½ç®¡ç†ï¼ˆè‹¥å›¢é˜Ÿéœ€è¦è¿™ä¸€æµç¨‹ï¼‰ã€‚</p>
<h3 data-id="heading-12"><strong>6. å†…è´­ã€éšç§ä¿¡æ¯ã€åŠ å¯†åˆè§„å¡«å†™</strong></h3>
<p>å®¡æ ¸ä¸­æœ€å®¹æ˜“è¢«æ‹’çš„å†…å®¹ä¹‹ä¸€ã€‚</p>
<hr/>
<h2 data-id="heading-13"><strong>å·¥ç¨‹å›¢é˜Ÿå¦‚ä½•æ„å»ºæ›´ç¨³å®šçš„ä¸Šæ¶æµç¨‹ï¼Ÿ</strong></h2>
<p>åœ¨å¤§é‡é¡¹ç›®å®è·µä¸­ï¼Œæˆ‘å½¢æˆäº†ä»¥ä¸‹è¾ƒä¸ºç¨³å®šçš„ä½“ç³»ï¼š</p>
<h3 data-id="heading-14"><strong>1. ä¸Šæ¶æµç¨‹å°½å¯èƒ½è‡ªåŠ¨åŒ–ï¼Œä½†ä¸Šä¼ é˜¶æ®µå¯å•ç‹¬æ‹†å‡º</strong></h3>
<p>æ‹†åˆ†ä¸Šä¼ æ¨¡å—åï¼Œå¯ä»¥æ›´è‡ªç”±åœ°æ›¿æ¢å·¥å…·ï¼Œä¾‹å¦‚åœ¨ Windows ä¸Šç”¨ Appuploader CLI ä¸Šä¼ ã€‚</p>
<h3 data-id="heading-15"><strong>2. è¯ä¹¦ä½“ç³»é¡»ç»Ÿä¸€ç®¡ç†</strong></h3>
<p>é¿å…ä¸ªäºº Mac æˆä¸ºâ€œå•ç‚¹æ•…éšœâ€ã€‚</p>
<h3 data-id="heading-16"><strong>3. ä¸ä¾èµ–æŸç§ IDE æˆ–æ“ä½œç³»ç»Ÿ</strong></h3>
<p>å›¢é˜Ÿæˆå‘˜å¯åˆ†å¸ƒäº Windowsã€Linuxã€macOSã€‚</p>
<h3 data-id="heading-17"><strong>4. ä½¿ç”¨å¯è§†åŒ–å·¥å…·å‡å°‘ç­¾åæ’é”™æ—¶é—´</strong></h3>
<p>è¿™ä¹Ÿæ˜¯æˆ‘å¸¸ä½¿ç”¨ Appuploader æŸ¥çœ‹è¯ä¹¦ä¸æè¿°æ–‡ä»¶çš„åŸå› ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-18"><strong>5. æµ‹è¯•é˜¶æ®µä¿æŒçµæ´»æ€§</strong></h3>
<p>USB å®‰è£…ä¸ TestFlight å¹¶è¡Œä½¿ç”¨ã€‚</p>
<p>è¿™æ˜¯ç›®å‰æœ€é€‚åˆå¤šäººåä½œä¸è·¨å¹³å°å¼€å‘çš„ä¸Šæ¶æ–¹å¼ã€‚</p>
<hr/>
<p>iOS åº”ç”¨ä¸Šæ¶å¹¶ä¸æ˜¯ä¸€ä¸ªçº¯æŠ€æœ¯é—®é¢˜ï¼Œè€Œæ˜¯ä¸€ä¸ª <strong>æµç¨‹æ²»ç†é—®é¢˜</strong>ã€‚è¯ä¹¦ç®¡ç†ã€æè¿°æ–‡ä»¶ä¸€è‡´æ€§ã€IPA æ„å»ºã€ç­¾åé“¾è·¯ã€ä¸Šä¼ æ–¹å¼ã€æµ‹è¯•æ–¹å¼ï¼Œéƒ½å¯èƒ½å½±å“æœ€ç»ˆèƒ½å¦æˆåŠŸæäº¤ã€‚</p>
<p>åœ¨å¤šå¹³å°å·¥ç¨‹å›¢é˜Ÿä¸­ï¼Œé€šè¿‡è·¨å¹³å°å·¥å…·è¡¥é½ä¸Šä¼ ä¸ç­¾åæ£€æŸ¥çš„èƒ½åŠ›ï¼Œä¾‹å¦‚ä½¿ç”¨ Appuploader æ‰§è¡Œ IPA ä¸Šä¼ ã€æŸ¥çœ‹è¯ä¹¦ã€å…¬é’¥ã€æè¿°æ–‡ä»¶å†…å®¹ï¼Œä½¿æ•´ä¸ªé“¾è·¯ä»ä¾èµ–å•ä¸€ macOSï¼Œè½¬å˜ä¸ºæ›´çµæ´»ã€æ›´å¯æ§çš„å·¥ç¨‹ä½“ç³»ã€‚</p>
<p>å½“è¯ä¹¦å¯ç®¡ç†ã€IPA å¯éªŒè¯ã€ä¸Šä¼ å¯è‡ªåŠ¨åŒ–ã€æµ‹è¯•å¯æœ¬åœ°åŒ–ï¼Œä¸Šæ¶æµç¨‹æ‰çœŸæ­£å…·å¤‡å·¥ç¨‹ä¸Šçš„ç¨³å®šæ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹å­¦MCPï¼ˆå››ï¼‰- è®¤è¯†MCP clients]]></title>    <link>https://juejin.cn/post/7581667332305846310</link>    <guid>https://juejin.cn/post/7581667332305846310</guid>    <pubDate>2025-12-09T07:46:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581667332305846310" data-draft-id="7581658157144883250" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹å­¦MCPï¼ˆå››ï¼‰- è®¤è¯†MCP clients"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2025-12-09T07:46:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é”å­¦AI"/> <meta itemprop="url" content="https://juejin.cn/user/1165926981220583"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹å­¦MCPï¼ˆå››ï¼‰- è®¤è¯†MCP clients
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1165926981220583/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é”å­¦AI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:46:28.000Z" title="Tue Dec 09 2025 07:46:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>MCPå®¢æˆ·ç«¯ç”±Hoståº”ç”¨å®ä¾‹åŒ–ï¼Œä¸ç‰¹å®šçš„MCPæœåŠ¡å™¨é€šä¿¡ã€‚Hoståº”ç”¨ï¼Œå¦‚Claude.aiæˆ–IDEï¼ˆCursorï¼‰ï¼Œç®¡ç†æ•´ä½“ç”¨æˆ·ä½“éªŒå¹¶åè°ƒå¤šä¸ªå®¢æˆ·ç«¯ã€‚æ¯ä¸ªå®¢æˆ·ç«¯å¤„ç†ä¸ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸€æ¬¡ç›´æ¥é€šä¿¡ã€‚</p>
<p><strong>âš ï¸æ³¨æ„ï¼š</strong> Hostæ˜¯ä¸ç”¨æˆ·äº¤äº’çš„åº”ç”¨ï¼Œè€ŒClientæ˜¯è¿æ¥æœåŠ¡å™¨çš„ç»„ä»¶ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒåŠŸèƒ½</h2>
<p>é™¤äº†å¯ä»¥ä½¿ç”¨æœåŠ¡å™¨æä¾›çš„ä¸Šä¸‹æ–‡ï¼Œå®¢æˆ·ç«¯è¿˜å¯ä»¥å‘æœåŠ¡å™¨æä¾›å¤šç§åŠŸèƒ½ã€‚è¿™äº›å®¢æˆ·ç«¯åŠŸèƒ½ä½¿æœåŠ¡å™¨å¼€å‘è€…èƒ½å¤Ÿæ„å»ºæ›´ä¸°å¯Œçš„äº¤äº’ã€‚</p>

























<table><thead><tr><th>åŠŸèƒ½</th><th>è§£é‡Š</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>Elicitationï¼ˆå¼•å¯¼ï¼‰</strong></td><td>Elicitationå…è®©æœåŠ¡å™¨åœ¨äº¤äº’è¿‡ç¨‹ä¸­èƒ½å¤Ÿå‘ç”¨æˆ·è¯·æ±‚ç‰¹å®šä¿¡æ¯ï¼Œä¸ºæœåŠ¡å™¨æ ¹æ®éœ€æ±‚æ”¶é›†ä¿¡æ¯æä¾›äº†ä¸€ç§ç»“æ„åŒ–æ–¹æ³•ã€‚</td><td>ä¸€ä¸ªé¢„è®¢æ—…è¡Œçš„æœåŠ¡å™¨å¯èƒ½ä¼šè¯¢é—®ç”¨æˆ·å¯¹é£æœºåº§ä½ã€æˆ¿é—´ç±»å‹æˆ–è”ç³»ç”µè¯çš„åå¥½æ¥å®Œæˆé¢„è®¢ã€‚</td></tr><tr><td><strong>Rootsï¼ˆæ ¹ï¼‰</strong></td><td>Rootså…è®¸å®¢æˆ·ç«¯æŒ‡å®šæœåŠ¡å™¨åº”å…³æ³¨çš„ç›®å½•ï¼Œå¹¶é€šè¿‡åè°ƒæœºåˆ¶ä¼ è¾¾é¢„æœŸèŒƒå›´</td><td>ä¸€ä¸ªç”¨äºé¢„è®¢æ—…è¡Œçš„æœåŠ¡å™¨å¯ä»¥è®¿é—®ç‰¹å®šçš„ç›®å½•ï¼Œä»ä¸­å¯ä»¥è¯»å–ç”¨æˆ·çš„æ—¥å†ã€‚</td></tr><tr><td><strong>Samplingï¼ˆé‡‡æ ·ï¼‰</strong></td><td>Samplingå…è®¸æœåŠ¡å™¨é€šè¿‡å®¢æˆ·ç«¯å‘å¤§æ¨¡å‹å‘èµ·è¯·æ±‚ï¼Œä»è€Œå¯ç”¨agenticå·¥ä½œæµã€‚è¿™ç§æ–¹æ³•ä½¿å®¢æˆ·ç«¯å®Œå…¨æ§åˆ¶ç”¨æˆ·æƒé™å’Œå®‰å…¨æªæ–½ã€‚</td><td>ä¸€ä¸ªç”¨äºé¢„è®¢æ—…è¡Œçš„æœåŠ¡å™¨å¯èƒ½ä¼šå‘LLMå‘é€èˆªç­åˆ—è¡¨ï¼Œå¹¶è¯·æ±‚LLMä¸ºç”¨æˆ·é€‰æ‹©æœ€ä½³èˆªç­ã€‚</td></tr></tbody></table>
<h3 data-id="heading-1">Elicitationï¼ˆå¼•å¯¼ï¼‰</h3>
<p>Elicitationï¼ˆå¼•å¯¼ï¼‰å…è®¸æœåŠ¡å™¨åœ¨äº¤äº’è¿‡ç¨‹ä¸­å‘ç”¨æˆ·è¯·æ±‚ç‰¹å®šä¿¡æ¯ï¼Œä»è€Œåˆ›å»ºæ›´å…·åŠ¨æ€æ€§å’Œå“åº”æ€§çš„å·¥ä½œæµã€‚</p>
<h4 data-id="heading-2">æ¦‚è¿°</h4>
<p>Elicitationï¼ˆå¼•å¯¼ï¼‰ä¸ºæœåŠ¡å™¨æä¾›äº†ä¸€ç§ç»“æ„åŒ–çš„æ–¹å¼æ¥æ ¹æ®éœ€è¦æ”¶é›†å¿…è¦çš„ä¿¡æ¯ã€‚æœåŠ¡å™¨å¯ä»¥æš‚åœå…¶æ“ä½œæ¥è¯·æ±‚ç”¨æˆ·çš„ç‰¹å®šè¾“å…¥ï¼Œè€Œä¸æ˜¯è¦æ±‚é¢„å…ˆæä¾›æ‰€æœ‰ä¿¡æ¯æˆ–åœ¨æ•°æ®ä¸¢å¤±æ—¶å¤±æ•ˆã€‚è¿™åˆ›å»ºäº†æ›´çµæ´»çš„äº¤äº’ï¼ŒæœåŠ¡å™¨å¯ä»¥é€‚åº”ç”¨æˆ·éœ€æ±‚ï¼Œè€Œä¸æ˜¯éµå¾ªä¸¥æ ¼çš„æ¨¡å¼ã€‚</p>
<p><strong>Elicitation flow:</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55d1b1a30b3e475fbcfb322cc848041e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZSQ5a2mQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871509&amp;x-signature=3O5rxk0WVu9COqMaRF5AgwTdxYk%3D" alt="" loading="lazy"/></p>
<p>ä¸Šè¿°æµç¨‹å›¾æ”¯æŒåŠ¨æ€ä¿¡æ¯æ”¶é›†ã€‚æœåŠ¡å™¨å¯ä»¥åœ¨éœ€è¦æ—¶è¯·æ±‚ç‰¹å®šçš„æ•°æ®ï¼Œç”¨æˆ·é€šè¿‡åˆé€‚çš„UIç•Œé¢æä¾›ä¿¡æ¯ï¼ŒæœåŠ¡å™¨ç»§ç»­ä½¿ç”¨æ–°è·å–çš„ä¸Šä¸‹æ–‡è¿›è¡Œå¤„ç†ã€‚</p>
<p><strong>Elicitation components example:</strong></p>
<pre><code class="hljs language-css" lang="css">{
  method: <span class="hljs-string">"elicitation/requestInput"</span>,
  params: {
    message: <span class="hljs-string">"Please confirm your Wuhan vacation booking details:"</span>,
    schema: {
      type: <span class="hljs-string">"object"</span>,
      properties: {
        confirmBooking: {
          type: <span class="hljs-string">"boolean"</span>,
          description: <span class="hljs-string">"Confirm the booking (Flights + Hotel = Â¥3,000)"</span>
        },
        seatPreference: {
          type: <span class="hljs-string">"string"</span>,
          enum: [<span class="hljs-string">"window"</span>, <span class="hljs-string">"aisle"</span>, <span class="hljs-string">"no preference"</span>],
          description: <span class="hljs-string">"Preferred seat type for flights"</span>
        },
        roomType: {
          type: <span class="hljs-string">"string"</span>,
          enum: [<span class="hljs-string">"sea view"</span>, <span class="hljs-string">"city view"</span>, <span class="hljs-string">"garden view"</span>],
          description: <span class="hljs-string">"Preferred room type at hotel"</span>
        },
        travelInsurance: {
          type: <span class="hljs-string">"boolean"</span>,
          default: false,
          description: <span class="hljs-string">"Add travel insurance (Â¥150)"</span>
        }
      },
      required: [<span class="hljs-string">"confirmBooking"</span>]
    }
  }
}
</code></pre>
<p>TypeScript</p>
<h4 data-id="heading-3">ç¤ºä¾‹: å‡æœŸé¢„è®¢å®¡æ‰¹</h4>
<p>ç¤ºä¾‹ï¼šå‡æœŸé¢„è®¢å®¡æ‰¹</p>
<p>æ—…æ¸¸é¢„è®¢æœåŠ¡å™¨é€šè¿‡æœ€ç»ˆçš„é¢„è®¢ç¡®è®¤è¿‡ç¨‹å±•ç¤ºäº†Elicitationï¼ˆå¼•å¯¼ï¼‰çš„åŠ›é‡ã€‚å½“ç”¨æˆ·é€‰æ‹©äº†ä»–ä»¬ç†æƒ³çš„æ­¦æ±‰åº¦å‡å¥—é¤åï¼ŒæœåŠ¡å™¨éœ€è¦åœ¨ç»§ç»­ä»»åŠ¡ä¹‹å‰è·å–æœ€ç»ˆæ‰¹å‡†å’Œä»»ä½•ç¼ºå¤±çš„è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>æœåŠ¡å™¨é€šè¿‡ä¸€ä¸ªç»“æ„åŒ–çš„è¯·æ±‚æ¥è·å–é¢„è®¢ç¡®è®¤ï¼Œè¯¥è¯·æ±‚åŒ…æ‹¬è¡Œç¨‹æ‘˜è¦ï¼ˆæ­¦æ±‰1æœˆ1æ—¥è‡³3æ—¥çš„èˆªç­ï¼Œæµ·æ»¨é…’åº—ï¼Œæ€»è®¡3000å…ƒï¼‰å’Œä»»ä½•å…¶ä»–åå¥½ï¼Œå¦‚åº§ä½é€‰æ‹©ã€æˆ¿é—´ç±»å‹æˆ–æ—…è¡Œä¿é™©ã€‚</p>
<p>éšç€é¢„è®¢çš„è¿›è¡Œï¼ŒæœåŠ¡å™¨ä¼šè·å–å®Œæˆé¢„è®¢æ‰€éœ€çš„è”ç³»æ–¹å¼ã€‚å®ƒå¯èƒ½ä¼šå‘æ—…è¡Œè€…è¯¢é—®å…³äºèˆªç­é¢„è®¢ã€é…’åº—çš„ç‰¹æ®Šè¦æ±‚æˆ–ç´§æ€¥è”ç³»æ–¹å¼ç­‰è¯¦ç»†ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-4">ç”¨æˆ·äº¤äº’æ¨¡å‹</h4>
<p>Elicitationï¼ˆå¼•å¯¼ï¼‰äº¤äº’æ—¨åœ¨æ¸…æ™°ã€æƒ…å¢ƒåŒ–ï¼Œå¹¶å°Šé‡ç”¨æˆ·æ„æ„¿ï¼š</p>
<p><strong>è¯·æ±‚æ¼”ç¤ºï¼š</strong> å®¢æˆ·ç«¯æ˜¾ç¤ºå¯å‘è¯·æ±‚ï¼Œå¹¶æ¸…æ¥šåœ°è¯´æ˜å“ªä¸ªæœåŠ¡å™¨åœ¨è¯·æ±‚ã€ä¸ºä»€ä¹ˆéœ€è¦ä¿¡æ¯ä»¥åŠå¦‚ä½•ä½¿ç”¨ä¿¡æ¯ã€‚è¯·æ±‚çš„æ¶ˆæ¯è§£é‡Šäº†å…¶ç›®çš„ï¼Œè€Œschemaæä¾›äº†ç»“æ„å’ŒéªŒè¯æ–¹å¼ã€‚</p>
<p><strong>å“åº”é€‰é¡¹ï¼š</strong> ç”¨æˆ·å¯ä»¥é€šè¿‡åˆé€‚çš„UIæ§ä»¶ï¼ˆæ–‡æœ¬å­—æ®µã€ä¸‹æ‹‰èœå•ã€å¤é€‰æ¡†ï¼‰æä¾›å®¢æˆ·ç«¯æ‰€è¯·æ±‚çš„ä¿¡æ¯ï¼Œæ‹’ç»æä¾›ä¸æƒ³è§£é‡Šçš„ä¿¡æ¯ï¼Œæˆ–å–æ¶ˆæ•´ä¸ªæ“ä½œã€‚å®¢æˆ·ç«¯åœ¨å°†å“åº”è¿”å›ç»™æœåŠ¡å™¨ä¹‹å‰ï¼Œæ ¹æ®æä¾›çš„schemaå¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚</p>
<p><strong>éšç§æ³¨æ„äº‹é¡¹ï¼š</strong> Elicitationä»ä¸è¯·æ±‚å¯†ç æˆ–APIå¯†é’¥ã€‚å®¢æˆ·ç«¯ä¼šè­¦å‘Šå¯ç–‘è¯·æ±‚ï¼Œå¹¶è®©ç”¨æˆ·åœ¨å‘é€å‰æ£€æŸ¥æ•°æ®ã€‚</p>
<h3 data-id="heading-5">Rootsï¼ˆæ ¹ï¼‰</h3>
<p>Rootså®šä¹‰äº†æœåŠ¡å™¨æ“ä½œçš„æ–‡ä»¶ç³»ç»Ÿè¾¹ç•Œï¼Œå…è®¸å®¢æˆ·ç«¯æŒ‡å®šæœåŠ¡å™¨åº”è¯¥å…³æ³¨å“ªäº›æ–‡ä»¶å¤¹ã€‚</p>
<h4 data-id="heading-6">æ¦‚è¿°</h4>
<p>Rootsæ˜¯å®¢æˆ·ä¸æœåŠ¡å™¨é€šä¿¡æ–‡ä»¶ç³»ç»Ÿè®¿é—®è¾¹ç•Œçš„ä¸€ç§æœºåˆ¶ã€‚å®ƒä»¬ç”±æ–‡ä»¶URIç»„æˆï¼ŒæŒ‡ç¤ºæœåŠ¡å™¨å¯ä»¥æ“ä½œçš„ç›®å½•ï¼Œå¸®åŠ©æœåŠ¡å™¨äº†è§£å¯ç”¨æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„èŒƒå›´ã€‚è™½ç„¶Rootsæ ¹èŠ‚ç‚¹ä¼ è¾¾äº†é¢„æœŸçš„è¾¹ç•Œï¼Œä½†å®ƒä»¬å¹¶ä¸å¼ºåˆ¶æ‰§è¡Œå®‰å…¨é™åˆ¶ã€‚å®é™…çš„å®‰å…¨æ€§å¿…é¡»åœ¨æ“ä½œç³»ç»Ÿçº§åˆ«é€šè¿‡æ–‡ä»¶æƒé™å’Œï¼ˆæˆ–ï¼‰æ²™ç›’å¼ºåˆ¶æ¥æ‰§è¡Œã€‚</p>
<p><strong>Rootçš„ç»“æ„:</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"uri"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"file:///Users/agent/travel-planning"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Travel Planning Workspace"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>JSON</p>
<p>Rootsæ˜¯ä¸“é—¨çš„æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ï¼Œå¹¶ä¸”å§‹ç»ˆä½¿ç”¨ Â file://Â  URI çš„æ–¹æ¡ˆã€‚å®ƒä»¬å¸®åŠ©æœåŠ¡å™¨äº†è§£é¡¹ç›®è¾¹ç•Œã€å·¥ä½œç©ºé—´ç»„ç»‡å’Œå¯è®¿é—®ç›®å½•ã€‚å½“ç”¨æˆ·å¤„ç†ä¸åŒçš„é¡¹ç›®æˆ–æ–‡ä»¶å¤¹æ—¶ï¼Œæ ¹åˆ—è¡¨å¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œå½“è¾¹ç•Œå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒæœåŠ¡å™¨ä¼šé€šè¿‡ Â roots/list_changedÂ  æ¥æ”¶é€šçŸ¥ã€‚</p>
<h4 data-id="heading-7">ç¤ºä¾‹ï¼šæ—…è¡Œè®¡åˆ’å·¥ä½œç©ºé—´</h4>
<p>å¤„ç†å¤šä¸ªå®¢æˆ·è¡Œç¨‹çš„æ—…è¡Œagentå¾—ç›Šäºç»„ç»‡æ–‡ä»¶ç³»ç»Ÿè®¿é—®çš„Rootsï¼ˆæ ¹ï¼‰ã€‚è€ƒè™‘é‡‡ç”¨ä¸€ä¸ªå¸¦æœ‰ä¸åŒç›®å½•çš„å·¥ä½œç©ºé—´ï¼Œç”¨äºæ—…è¡Œè®¡åˆ’çš„å„ä¸ªæ–¹é¢ã€‚</p>
<ul>
<li>Â file:///Users/agent/travel-templatesÂ  - å¯é‡ç”¨çš„è¡Œç¨‹æ¨¡æ¿å’Œèµ„æº</li>
</ul>

<ul>
<li>Â file:///Users/agent/client-documentsÂ  - å®¢æˆ·æŠ¤ç…§å’Œæ—…è¡Œè¯ä»¶</li>
</ul>
<p>å½“agentåˆ›å»ºæ­¦æ±‰çš„è¡Œç¨‹æ—¶ï¼Œè¡¨ç°è‰¯å¥½çš„æœåŠ¡å™¨ä¼šå°Šé‡è¿™äº›è¾¹ç•Œ- è®¿é—®æ¨¡æ¿ã€ä¿å­˜æ–°è¡Œç¨‹å¹¶åœ¨æŒ‡å®šçš„Rootsä¸­å¼•ç”¨å®¢æˆ·ç«¯æ–‡æ¡£ã€‚æœåŠ¡å™¨é€šå¸¸é€šè¿‡ä½¿ç”¨æ ¹ç›®å½•ä¸­çš„ç›¸å¯¹è·¯å¾„æˆ–ä½¿ç”¨éµå®ˆRootsè¾¹ç•Œçš„æ–‡ä»¶æœç´¢å·¥å…·æ¥è®¿é—®Rootsä¸­çš„æ–‡ä»¶ã€‚</p>
<p>å¦‚æœagentæ‰“å¼€ä¸€ä¸ªå½’æ¡£æ–‡ä»¶å¤¹ï¼Œå¦‚ Â file:///Users/agent/archive/2023-tripsÂ  ï¼Œå®¢æˆ·ç«¯é€šè¿‡æ›´æ–°æ ¹åˆ—è¡¨ Â roots/list_changedÂ  ã€‚</p>
<p>å¯¹äºéµå®ˆRootsè¾¹ç•Œçš„serverçš„å®Œæ•´å®ç°ï¼Œåœ¨å®˜æ–¹ä»“åº“ Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelcontextprotocol%2Fservers%2Ftree%2Fmain%2Fsrc%2Ffilesystem" target="_blank" title="https://github.com/modelcontextprotocol/servers/tree/main/src/filesystem" ref="nofollow noopener noreferrer">filesystem serverÂ </a> ä¸­æŸ¥çœ‹ã€‚</p>
<h4 data-id="heading-8">è®¾è®¡ç†å¿µ</h4>
<p>Rootsæ ¹ä½œä¸ºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„åè°ƒæœºåˆ¶ï¼Œè€Œä¸æ˜¯å®‰å…¨è¾¹ç•Œã€‚è¯¥è§„èŒƒè¦æ±‚æœåŠ¡å™¨â€œåº”è¯¥å°Šé‡Rootsè¾¹ç•Œâ€ï¼Œè€Œä¸æ˜¯å®ƒä»¬â€œå¿…é¡»æ‰§è¡Œâ€ï¼Œå› ä¸ºæœåŠ¡å™¨è¿è¡Œçš„ä»£ç æ˜¯å®¢æˆ·ç«¯æ— æ³•æ§åˆ¶çš„ã€‚</p>
<p>Rootså½“æœåŠ¡å™¨å—åˆ°ä¿¡ä»»æˆ–å®¡æŸ¥ï¼Œç”¨æˆ·äº†è§£å…¶å’¨è¯¢æ€§è´¨ï¼Œå¹¶ä¸”ç›®æ ‡æ˜¯é˜²æ­¢äº‹æ•…è€Œä¸æ˜¯é˜»æ­¢æ¶æ„è¡Œä¸ºæ—¶ï¼ŒRootsçš„è¡¨ç°æ˜¯æœ€å¥½çš„ã€‚å®ƒä»¬æ“…é•¿äºä¸Šä¸‹æ–‡èŒƒå›´ç•Œå®šï¼ˆå‘Šè¯‰æœåŠ¡å™¨åº”è¯¥å…³æ³¨å“ªé‡Œï¼‰ã€äº‹æ•…é¢„é˜²ï¼ˆå¸®åŠ©è¡¨ç°å¥½çš„æœåŠ¡å™¨ä¿æŒåœ¨è¾¹ç•Œå†…ï¼‰å’Œå·¥ä½œæµç»„ç»‡ï¼ˆä¾‹å¦‚è‡ªåŠ¨ç®¡ç†é¡¹ç›®è¾¹ç•Œï¼‰ã€‚</p>
<h4 data-id="heading-9">ç”¨æˆ·äº¤äº’æ¨¡å‹</h4>
<p>Rootsæ ¹é€šå¸¸ç”±Hoståº”ç”¨æ ¹æ®ç”¨æˆ·æ“ä½œè‡ªåŠ¨ç®¡ç†ï¼Œå°½ç®¡æœ‰äº›åº”ç”¨å¯èƒ½ä¼šæš´éœ²äººä¸ºçš„Rootç®¡ç†ï¼š</p>
<p><strong>è‡ªåŠ¨æ ¹æ£€æµ‹ï¼š</strong> å½“ç”¨æˆ·æ‰“å¼€æ–‡ä»¶å¤¹æ—¶ï¼Œå®¢æˆ·ç«¯è‡ªåŠ¨å°†å…¶æš´éœ²ä¸ºæ ¹ã€‚æ‰“å¼€æ—…è¡Œå·¥ä½œç©ºé—´å…è®¸å®¢æˆ·ç«¯å°†è¯¥ç›®å½•æš´éœ²ä¸ºæ ¹ç›®å½•ï¼Œä»è€Œå¸®åŠ©æœåŠ¡å™¨äº†è§£å“ªäº›è¡Œç¨‹å’Œæ–‡æ¡£åœ¨å½“å‰å·¥ä½œçš„èŒƒå›´å†…ã€‚</p>
<p><strong>æ‰‹åŠ¨é…ç½®æ ¹ï¼š</strong> é«˜çº§ç”¨æˆ·å¯ä»¥é€šè¿‡é…ç½®æŒ‡å®šæ ¹ã€‚ä¾‹å¦‚ï¼šä¸ºå¯é‡ç”¨èµ„æºæ·»åŠ  Â /travel-templatesÂ ï¼ŒåŒæ—¶æ’é™¤åŒ…å«è´¢åŠ¡è®°å½•çš„ç›®å½•ã€‚</p>
<h3 data-id="heading-10">Samplingï¼ˆé‡‡æ ·ï¼‰</h3>
<p>Samplingé‡‡æ ·å…è®¸æœåŠ¡å™¨é€šè¿‡å®¢æˆ·ç«¯å‘å¤§æ¨¡å‹å‘èµ·è¯·æ±‚ï¼Œåœ¨ä¿æŒå®‰å…¨æ€§å’Œç”¨æˆ·å¯æ§çš„åŒæ—¶å¯ç”¨agenticæ“ä½œã€‚</p>
<h4 data-id="heading-11">æ¦‚è¿°</h4>
<p>Samplingé‡‡æ ·ä½¿æœåŠ¡å™¨èƒ½å¤Ÿæ‰§è¡Œéœ€è¦AIæ‰èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œè€Œæ— éœ€ç›´æ¥ä¸AIå¤§æ¨¡å‹é›†æˆæˆ–ä»˜è´¹ã€‚ç›¸åï¼ŒæœåŠ¡å™¨å¯ä»¥è¯·æ±‚å·²ç»å…·æœ‰AIå¤§æ¨¡å‹è®¿é—®æƒé™çš„å®¢æˆ·ç«¯ä»£æ›¿è‡ªå·±å¤„ç†è¿™äº›ä»»åŠ¡ã€‚è¿™ç§æ–¹æ³•ä½¿å®¢æˆ·ç«¯å®Œå…¨æ§åˆ¶ç”¨æˆ·æƒé™å’Œå®‰å…¨æªæ–½ã€‚ç”±äºé‡‡æ ·è¯·æ±‚å‘ç”Ÿåœ¨å…¶ä»–æ“ä½œçš„ä¸Šä¸‹æ–‡ä¸­ï¼ˆå¦‚åˆ†ææ•°æ®çš„å·¥å…·ï¼‰ï¼Œå¹¶ä¸”ä½œä¸ºå•ç‹¬çš„å¤§æ¨¡å‹è°ƒç”¨è¿›è¡Œå¤„ç†ï¼Œå› æ­¤å®ƒä»¬åœ¨ä¸åŒä¸Šä¸‹æ–‡ä¸­ä¿æŒæ¸…æ™°çš„è¾¹ç•Œï¼Œä»è€Œå…è®¸æ›´æœ‰æ•ˆåœ°ä½¿ç”¨ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p><strong>Sampling flow:</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1d69407ccf94bb4bdc9d5ad65636649~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZSQ5a2mQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871509&amp;x-signature=baMTzi2TD32bmDsDChb8EtvpchY%3D" alt="" loading="lazy"/></p>
<p>ä¸Šè¿°æµç¨‹å›¾é€šè¿‡å¤šä¸ª <em><strong>human-in-the-loop</strong></em> çš„æ£€æŸ¥ç‚¹ç¡®ä¿å®‰å…¨æ€§ã€‚åœ¨åˆå§‹è¯·æ±‚å’Œç”Ÿæˆçš„å“åº”è¿”å›åˆ°æœåŠ¡å™¨ä¹‹å‰ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹å¹¶ä¿®æ”¹å®ƒä»¬ã€‚</p>
<p><strong>è¯·æ±‚å‚æ•°ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-swift" lang="swift">{
  messages: [
    {
      role: <span class="hljs-string">"user"</span>,
      content: <span class="hljs-string">"Analyze these flight options and recommend the best choice:<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
               <span class="hljs-string">"[47 flights with prices, times, airlines, and layovers]<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
               <span class="hljs-string">"User preferences: morning departure, max 1 layover"</span>
    }
  ],
  modelPreferences: {
    hints: [{
      name: <span class="hljs-string">"claude-sonnet-4-20250514"</span>  <span class="hljs-comment">// Suggested model</span>
    }],
    costPriority: <span class="hljs-number">0.3</span>,      <span class="hljs-comment">// Less concerned about API cost</span>
    speedPriority: <span class="hljs-number">0.2</span>,     <span class="hljs-comment">// Can wait for thorough analysis</span>
    intelligencePriority: <span class="hljs-number">0.9</span>  <span class="hljs-comment">// Need complex trade-off evaluation</span>
  },
  systemPrompt: <span class="hljs-string">"You are a travel expert helping users find the best flights based on their preferences"</span>,
  maxTokens: <span class="hljs-number">1500</span>
}
</code></pre>
<p>TypeScript</p>
<h4 data-id="heading-12">ç¤ºä¾‹ï¼šèˆªç­åˆ†æå·¥å…·</h4>
<p>è€ƒè™‘å®ç°ä¸€ä¸ªå¸¦æœ‰ Â findBestFlight Â å·¥å…·çš„æ—…è¡Œé¢„è®¢æœåŠ¡å™¨ï¼Œè¯¥å·¥å…·ä½¿ç”¨é‡‡æ ·æ¥åˆ†æå¯ç”¨èˆªç­å¹¶æ¨èæœ€ä½³é€‰æ‹©ã€‚å½“ç”¨æˆ·è¯¢é—®â€œä¸ºæˆ‘é¢„è®¢ä¸‹ä¸ªæœˆå»æ­¦æ±‰çš„æœ€ä½³èˆªç­â€æ—¶ï¼Œè¯¥å·¥å…·éœ€è¦AIçš„å¸®åŠ©æ¥è¿›è¡Œè¯„ä¼°åˆ†æã€‚</p>
<p>è¯¥å·¥å…·æŸ¥è¯¢èˆªç©ºå…¬å¸APIå¹¶æ”¶é›†47ä¸ªèˆªç­é€‰é¡¹ã€‚ç„¶åï¼Œå®ƒè¯·æ±‚AIååŠ©åˆ†æè¿™äº›é€‰é¡¹ï¼šâ€œåˆ†æè¿™äº›èˆªç­é€‰é¡¹å¹¶æ¨èæœ€ä½³é€‰æ‹©ï¼š[47ä¸ªèˆªç­ï¼ŒåŒ…æ‹¬ä»·æ ¼ã€æ—¶é—´ã€èˆªç©ºå…¬å¸å’Œä¸­è½¬] ç”¨æˆ·åå¥½ï¼šæ—©ä¸Šå‡ºå‘ï¼Œæœ€å¤šä¸­è½¬ä¸€æ¬¡ã€‚â€</p>
<p>å®¢æˆ·å‘èµ·é‡‡æ ·è¯·æ±‚ï¼Œå…è®¸AIè¯„ä¼°è¿›è¡Œè¯„ä¼°åˆ†æï¼Œæ¯”å¦‚ï¼šred-eye flightsï¼ˆå¤œç­èˆªç­ï¼‰æ›´ä¾¿å®œï¼Œæ—©æ™¨å‡ºå‘æ›´æ–¹ä¾¿ã€‚ä»¥æ­¤ç»™å‡ºä¸‰ä¸ªæœ€ä½³å»ºè®®ã€‚</p>
<h4 data-id="heading-13">ç”¨æˆ·äº¤äº’æ¨¡å‹</h4>
<p>è™½ç„¶ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†é‡‡æ ·çš„è®¾è®¡æ˜¯ä¸ºäº†å…è®¸<em><strong>human-in-the-loop</strong></em>ï¼ˆäººæœºå›è·¯ï¼‰è¿›è¡Œæ§åˆ¶ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å¤šç§æœºåˆ¶è¿›è¡Œç›‘ç£ï¼š</p>
<p><strong>å®¡æ‰¹æ§åˆ¶ï¼š</strong> é‡‡æ ·è¯·æ±‚å¯èƒ½éœ€è¦ç”¨æˆ·æ˜ç¡®åŒæ„ã€‚å®¢æˆ·ç«¯å¯ä»¥æ˜¾ç¤ºæœåŠ¡å™¨æƒ³è¦åˆ†æä»€ä¹ˆä»¥åŠä¸ºä»€ä¹ˆã€‚ç”¨æˆ·å¯ä»¥æ‰¹å‡†ã€æ‹’ç»æˆ–ä¿®æ”¹è¯·æ±‚ã€‚</p>
<p><strong>é€æ˜åº¦åŠŸèƒ½ï¼š</strong> å®¢æˆ·ç«¯å¯ä»¥æ˜¾ç¤ºç¡®åˆ‡çš„æç¤ºã€æ¨¡å‹é€‰æ‹©å’Œä»¤ç‰Œé™åˆ¶ï¼Œå…è®¸ç”¨æˆ·åœ¨è¿”å›æ ·æœ¬ç»™æœåŠ¡å™¨ä¹‹å‰æŸ¥çœ‹AIçš„å“åº”ã€‚</p>
<p><strong>é…ç½®é€‰é¡¹ï¼š</strong> ç”¨æˆ·å¯ä»¥è®¾ç½®æ¨¡å‹å‚æ•°ï¼Œç»™å€¼å¾—ä¿¡ä»»çš„æ“ä½œé…ç½®è‡ªåŠ¨å®¡æ‰¹æƒé™ï¼Œæˆ–è€…è¦æ±‚æ‰€æœ‰å†…å®¹éƒ½éœ€è¦äººä¸ºå®¡æ‰¹ã€‚å®¢æˆ·ç«¯å¯ä»¥æä¾›ç¼–è¾‘æ•æ„Ÿä¿¡æ¯çš„é€‰é¡¹ã€‚</p>
<p><strong>å®‰å…¨è€ƒè™‘ï¼š</strong> åœ¨é‡‡æ ·è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½å¿…é¡»é€‚å½“åœ°å¤„ç†æ•æ„Ÿæ•°æ®ã€‚å®¢æˆ·ç«¯åº”å®æ–½é€Ÿç‡é™åˆ¶å¹¶éªŒè¯æ‰€æœ‰æ¶ˆæ¯å†…å®¹ã€‚<em><strong>human-in-the-loop</strong></em> äººæœºäº¤äº’è®¾è®¡ç¡®ä¿äº†æœåŠ¡å™¨å‘èµ·çš„AIäº¤äº’åœ¨æœªç»ç”¨æˆ·æ˜ç¡®åŒæ„çš„æƒ…å†µä¸‹ä¸ä¼šå±åŠå®‰å…¨æˆ–è®¿é—®æ•æ„Ÿæ•°æ®ã€‚</p>
<hr/>
<blockquote>
<p>æ¬¢è¿åŠ å…¥æˆ‘çš„ã€imaçŸ¥è¯†åº“ã€‘ Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fima.qq.com%2Fwiki%2F%3FshareId%3D58d81eb0444db19630cccc44e04ab7692431b71a8de38b24ed4f34920ec08bf4" target="_blank" title="https://ima.qq.com/wiki/?shareId=58d81eb0444db19630cccc44e04ab7692431b71a8de38b24ed4f34920ec08bf4" ref="nofollow noopener noreferrer">ä»é›¶å¼€å§‹å­¦MCPÂ </a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS è¿›é˜¶ TS ï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´å­¦ä¹ è·¯å¾„]]></title>    <link>https://juejin.cn/post/7581658157145014322</link>    <guid>https://juejin.cn/post/7581658157145014322</guid>    <pubDate>2025-12-09T07:58:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581658157145014322" data-draft-id="7581648776303017993" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" JS è¿›é˜¶ TS ï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´å­¦ä¹ è·¯å¾„"/> <meta itemprop="keywords" content="TypeScript"/> <meta itemprop="datePublished" content="2025-12-09T07:58:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥‹æ–—çŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/1702522294632830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             JS è¿›é˜¶ TS ï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´å­¦ä¹ è·¯å¾„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1702522294632830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥‹æ–—çŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:58:32.000Z" title="Tue Dec 09 2025 07:58:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-cave-light">.hljs-comment,.hljs-quote{color:#655f6d}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#be4678}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa573c}.hljs-bullet,.hljs-string,.hljs-symbol{color:#2a9292}.hljs-section,.hljs-title{color:#576ddb}.hljs-keyword,.hljs-selector-tag{color:#955ae7}.hljs-addition,.hljs-deletion{color:#19171c;display:inline-block;width:100%}.hljs-deletion{background-color:#be4678}.hljs-addition{background-color:#2a9292}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#efecf4;color:#585260}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ æ˜¯å¦æ›¾åœ¨ JS é¡¹ç›®ä¸­é‡åˆ°è¿‡è¿™äº›é—®é¢˜ï¼Ÿâ€œç”Ÿäº§ç¯å¢ƒçªç„¶æŠ¥â€˜undefined æ²¡æœ‰ xxx å±æ€§â€™â€â€œæ¥æ‰‹è€é¡¹ç›®æ—¶ï¼Œæ ¹æœ¬ä¸çŸ¥é“å‡½æ•°å‚æ•°è¯¥ä¼ ä»€ä¹ˆç±»å‹â€â€œå¤šäººåä½œæ—¶ï¼Œå˜é‡è¢«æ„å¤–ä¿®æ”¹å¯¼è‡´é€»è¾‘æ··ä¹±â€ã€‚è€Œ TypeScriptï¼ˆç®€ç§° TSï¼‰â€”â€” è¿™æ¬¾ JS çš„è¶…é›†ï¼Œæ­£æ˜¯ä¸ºè§£å†³è¿™äº›ç—›ç‚¹è€Œç”Ÿã€‚æœ¬æ–‡å°†ä» JS å¼€å‘è€…çš„è§†è§’ï¼Œå¸¦ä½ ä»é›¶æŒæ¡ TSï¼Œå®ç°ä»â€œåŠ¨æ€å¼±ç±»å‹â€åˆ°â€œé™æ€å¼ºç±»å‹â€çš„è¿›é˜¶ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šä¸ºä»€ä¹ˆ JS å¼€å‘è€…å¿…é¡»å­¦ TSï¼Ÿ</h2>
<p>å¾ˆå¤šäººè§‰å¾—â€œTS å¢åŠ äº†ç±»å‹çº¦æŸï¼Œæ˜¯é¢å¤–è´Ÿæ‹…â€ï¼Œä½†å®é™…ä¸Šï¼ŒTS æ˜¯ JS çš„â€œå¢å¼ºbuffâ€è€Œéâ€œæ·é”â€ã€‚å®ƒçš„æ ¸å¿ƒä»·å€¼ä½“ç°åœ¨ä¸‰ä¸ªç»´åº¦ï¼Œå°¤å…¶é€‚åˆä¸­å¤§å‹é¡¹ç›®å’Œå›¢é˜Ÿåä½œã€‚</p>
<ul>
<li><strong>æå‰è§„é¿é”™è¯¯</strong>ï¼šTS çš„ç±»å‹æ£€æŸ¥èƒ½åœ¨ç¼–ç é˜¶æ®µï¼ˆè€Œéè¿è¡Œæ—¶ï¼‰å‘ç°ç±»å‹é”™è¯¯ï¼Œæ¯”å¦‚æŠŠå­—ç¬¦ä¸²ä¼ ç»™éœ€è¦æ•°å­—çš„å‡½æ•°ã€è®¿é—®å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§ç­‰ï¼Œå‡å°‘ç”Ÿäº§ç¯å¢ƒ bugã€‚</li>
<li><strong>æå‡ä»£ç å¯ç»´æŠ¤æ€§</strong>ï¼šç±»å‹æ³¨è§£ç›¸å½“äºâ€œè‡ªå¸¦æ–‡æ¡£â€ï¼Œå¼€å‘è€…ä¸ç”¨é€šè¯»é€»è¾‘å°±èƒ½çŸ¥é“å˜é‡ã€å‡½æ•°çš„ç”¨é€”ï¼Œæ¥æ‰‹è€é¡¹ç›®æˆ–å¤šäººåä½œæ—¶æ•ˆç‡ç¿»å€ã€‚</li>
<li><strong>é€‚é…ç°ä»£å·¥ç¨‹åŒ–</strong>ï¼šVue3ã€React18ã€Node.js ç­‰ä¸»æµæŠ€æœ¯æ ˆå‡å¯¹ TS æœ‰æä½³æ”¯æŒï¼Œè®¸å¤šå¤§å‚å²—ä½å·²å°† TS ä½œä¸ºå¿…å¤‡æŠ€èƒ½ï¼ŒæŒæ¡ TS èƒ½æ˜¾è‘—æå‡ç«äº‰åŠ›ã€‚</li>
</ul>
<p>å…³é”®è®¤çŸ¥ï¼šTS ä¸æ˜¯æ›¿ä»£ JSï¼Œè€Œæ˜¯â€œå¢å¼ºâ€JSã€‚æ‰€æœ‰ JS ä»£ç éƒ½èƒ½ç›´æ¥åœ¨ TS ç¯å¢ƒä¸­è¿è¡Œï¼Œä½ å¯ä»¥ä»â€œéƒ¨åˆ†ç±»å‹æ³¨è§£â€å¼€å§‹ï¼Œé€æ­¥è¿‡æ¸¡åˆ°å®Œæ•´ TS é¡¹ç›®ï¼Œæ— éœ€ä¸€æ¬¡æ€§é‡æ„ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒåŸºç¡€ï¼šTS æœ€å¸¸ç”¨çš„ç±»å‹è¯­æ³•</h2>
<p>TS çš„æ ¸å¿ƒæ˜¯â€œç±»å‹ç³»ç»Ÿâ€ï¼Œä½†å®ƒçš„åŸºç¡€è¯­æ³•ä¸ JS é«˜åº¦å…¼å®¹ã€‚æˆ‘ä»¬ä» JS å¼€å‘è€…æœ€ç†Ÿæ‚‰çš„åœºæ™¯å…¥æ‰‹ï¼Œå¯¹æ¯”å­¦ä¹ æ ¸å¿ƒç±»å‹ç”¨æ³•ã€‚</p>
<h3 data-id="heading-2">1. åŸºç¡€ç±»å‹ï¼šç»™ JS å˜é‡â€œè´´æ ‡ç­¾â€</h3>
<p>JS æœ‰ä¸ƒç§åŸºæœ¬ç±»å‹ï¼ˆstringã€numberã€booleanã€nullã€undefinedã€symbolã€bigintï¼‰ï¼ŒTS ä¸ä»…å®Œå…¨æ”¯æŒè¿™äº›ç±»å‹ï¼Œè¿˜å¯¹éƒ¨åˆ†ç±»å‹åšäº†æ›´ç²¾ç»†çš„çº¦æŸã€‚é€šè¿‡åœ¨å˜é‡ååŠ  <code>: ç±»å‹</code> çš„æ³¨è§£ï¼Œå°±èƒ½æ˜ç¡®å˜é‡çš„ç±»å‹è¾¹ç•Œï¼Œèµ‹å€¼ä¸ç¬¦åˆç±»å‹æ—¶ï¼Œç¼–è¾‘å™¨ä¼šå®æ—¶æŠ¥é”™ï¼Œé¿å…é—®é¢˜ç•™åˆ°è¿è¡Œæ—¶ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// JS å†™æ³•ï¼šæ— ç±»å‹çº¦æŸï¼Œå¯èƒ½è¢«æ„å¤–ä¿®æ”¹ä¸ºå…¶ä»–ç±»å‹
let <span class="hljs-attr">name</span> = <span class="hljs-string">"JS å¼€å‘è€…"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">name</span> = <span class="hljs-number">123</span><span class="hljs-comment">; // è¯­æ³•ä¸æŠ¥é”™ï¼Œè¿è¡Œæ—¶è‹¥ç”¨ name.split('') å°±ä¼šå´©æºƒ</span>

// TS å†™æ³•ï¼šæŒ‡å®šç±»å‹åï¼Œç±»å‹ä¸åŒ¹é…ç›´æ¥æŠ¥é”™
let tsName: <span class="hljs-attr">string</span> = <span class="hljs-string">"TS å­¦ä¹ è€…"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">tsName</span> = <span class="hljs-number">123</span><span class="hljs-comment">; // ç¼–è¾‘å™¨æŠ¥é”™ï¼šç±»å‹"number"ä¸èƒ½èµ‹ç»™ç±»å‹"string"</span>

// å…¶ä»–åŸºç¡€ç±»å‹ç¤ºä¾‹
let age: <span class="hljs-attr">number</span> = <span class="hljs-number">25</span><span class="hljs-comment">; // æ•°å­—ç±»å‹ï¼ˆåŒ…å«æ•´æ•°ã€æµ®ç‚¹æ•°ï¼‰</span>
let isStudy: <span class="hljs-attr">boolean</span> = <span class="hljs-literal">true</span><span class="hljs-comment">; // å¸ƒå°”ç±»å‹ï¼ˆä»… true/falseï¼‰</span>
let empty: <span class="hljs-attr">null</span> = null<span class="hljs-comment">; // null ç±»å‹ï¼ˆå”¯ä¸€å€¼ nullï¼‰</span>
let undef: <span class="hljs-attr">undefined</span> = undefined<span class="hljs-comment">; // undefined ç±»å‹ï¼ˆå”¯ä¸€å€¼ undefinedï¼‰</span>
let uniqueKey: <span class="hljs-attr">symbol</span> = Symbol(<span class="hljs-string">"key"</span>)<span class="hljs-comment">; // ç¬¦å·ç±»å‹ï¼ˆå”¯ä¸€ä¸”ä¸å¯å˜ï¼ŒES6 æ–°å¢ï¼‰</span>
let bigNum: <span class="hljs-attr">bigint</span> = <span class="hljs-number">100</span>n<span class="hljs-comment">; // å¤§æ•´æ•°ç±»å‹ï¼ˆå¤„ç†è¶…è¿‡ Number æœ€å¤§å€¼çš„æ•°å€¼ï¼‰</span>

// æ³¨æ„ï¼šnull å’Œ undefined æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼ˆstrictNullChecks å…³é—­æ—¶ï¼‰
// å¼€å¯ strictNullChecks: true åï¼Œå¿…é¡»æ˜¾å¼å£°æ˜æ‰å…è®¸èµ‹å€¼
let strWithNull: string | <span class="hljs-attr">null</span> = <span class="hljs-string">"hello"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">strWithNull</span> = null<span class="hljs-comment">; // å¼€å¯ä¸¥æ ¼æ¨¡å¼åä»…æ­¤å¤„åˆæ³•</span>
</code></pre>
<p>ğŸ’¡ æŠ€å·§ï¼šTS æœ‰å¼ºå¤§çš„â€œç±»å‹æ¨æ–­â€èƒ½åŠ›ï¼Œè‹¥å˜é‡å£°æ˜æ—¶ç›´æ¥èµ‹å€¼ï¼Œå¯çœç•¥ç±»å‹æ³¨è§£ï¼ˆTS ä¼šè‡ªåŠ¨æ¨å¯¼æœ€è´´åˆ‡çš„ç±»å‹ï¼‰ã€‚ä¾‹å¦‚ <code>let num = 10</code> ä¼šè¢«æ¨æ–­ä¸º <code>number</code> ç±»å‹ã€‚ä½†å¯¹äºå‡½æ•°å‚æ•°ã€å‡½æ•°è¿”å›å€¼ã€å¤æ‚å¯¹è±¡ï¼Œå»ºè®®æ˜¾å¼æ ‡æ³¨ç±»å‹ï¼Œæå‡ä»£ç å¯è¯»æ€§ã€‚æ­¤å¤–ï¼ŒTS ä¸­çš„ <code>strictNullChecks</code> é…ç½®ï¼ˆåœ¨ tsconfig.json ä¸­ï¼‰éå¸¸å…³é”®ï¼Œå¼€å¯åä¼šä¸¥æ ¼åŒºåˆ† <code>string</code> å’Œ <code>string | null | undefined</code>ï¼Œé¿å…â€œCannot read property 'xxx' of nullâ€è¿™ç±»ç»å…¸é”™è¯¯ã€‚</p>
<h3 data-id="heading-3">2. æ•°ç»„ä¸å¯¹è±¡ï¼šçº¦æŸå¤æ‚æ•°æ®ç»“æ„</h3>
<p>JS ä¸­æ•°ç»„å’Œå¯¹è±¡çš„å…ƒç´ ç±»å‹æ··ä¹±æ˜¯å¸¸è§é—®é¢˜ï¼ŒTS èƒ½ç²¾å‡†çº¦æŸå…¶å†…éƒ¨ç»“æ„ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æ•°ç»„ç±»å‹ï¼šä¸¤ç§å†™æ³•ï¼ˆæ•ˆæœä¸€è‡´ï¼Œæ¨èç¬¬ä¸€ç§æ›´ç®€æ´ï¼‰</span>
<span class="hljs-comment">// å†™æ³•1ï¼šç±»å‹[]ï¼ˆå¸¸ç”¨ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">numbers</span>: <span class="hljs-built_in">number</span>[] = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
numbers.<span class="hljs-title function_">push</span>(<span class="hljs-string">"4"</span>); <span class="hljs-comment">// æŠ¥é”™ï¼šä¸èƒ½å°†ç±»å‹"string"åˆ†é…ç»™ç±»å‹"number"</span>
numbers.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>); <span class="hljs-comment">// æ­£ç¡®</span>

<span class="hljs-comment">// å†™æ³•2ï¼šArray&lt;ç±»å‹&gt;ï¼ˆæ³›å‹å†™æ³•ï¼Œåç»­è¯¦è§£ï¼Œé€‚åˆå¤æ‚åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">strings</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>];
<span class="hljs-keyword">let</span> <span class="hljs-attr">mixedArr</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>&gt; = [<span class="hljs-number">1</span>, <span class="hljs-string">"a"</span>, <span class="hljs-number">2</span>]; <span class="hljs-comment">// ç»“åˆè”åˆç±»å‹</span>

<span class="hljs-comment">// 2. å¯¹è±¡ç±»å‹ï¼šæŒ‡å®šæ¯ä¸ªå±æ€§çš„ç±»å‹ï¼ˆç²¾ç¡®åˆ°å±æ€§çº§åˆ«ï¼‰</span>
<span class="hljs-comment">// åŸºç¡€å†™æ³•</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">user</span>: { 
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å¿…é€‰å±æ€§ï¼šå¿…é¡»èµ‹å€¼</span>
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>; 
  isStudy?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// å¯é€‰å±æ€§ï¼šå¯èµ‹å€¼å¯çœç•¥</span>
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// åªè¯»å±æ€§ï¼šåˆå§‹åŒ–åä¸å¯ä¿®æ”¹</span>
  [<span class="hljs-attr">prop</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>; <span class="hljs-comment">// ç´¢å¼•ç­¾åï¼šå…è®¸å­˜åœ¨å…¶ä»–å­—ç¬¦ä¸²é”®çš„ä»»æ„ç±»å‹å±æ€§</span>
} = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-comment">// isStudy å¯é€‰ï¼Œæ­¤å¤„çœç•¥</span>
  <span class="hljs-attr">gender</span>: <span class="hljs-string">"ç”·"</span> <span class="hljs-comment">// ç¬¦åˆç´¢å¼•ç­¾åï¼Œå…è®¸å­˜åœ¨</span>
};

user.<span class="hljs-property">name</span> = <span class="hljs-string">"å¼ ä¸‰ä¸‰"</span>; <span class="hljs-comment">// æ­£ç¡®ï¼šä¿®æ”¹å¿…é€‰å±æ€§</span>
user.<span class="hljs-property">id</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// æŠ¥é”™ï¼šåªè¯»å±æ€§ä¸èƒ½ä¿®æ”¹</span>
user.<span class="hljs-property">isStudy</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ­£ç¡®ï¼šèµ‹å€¼å¯é€‰å±æ€§</span>
user.<span class="hljs-property">address</span> = <span class="hljs-string">"åŒ—äº¬"</span>; <span class="hljs-comment">// æ­£ç¡®ï¼šç¬¦åˆç´¢å¼•ç­¾å</span>

<span class="hljs-comment">// å¸¸è§é”™è¯¯ï¼šå¯¹è±¡å­—é¢é‡èµ‹å€¼æ—¶çš„â€œå¤šä½™å±æ€§æ£€æŸ¥â€</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">user2</span>: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> } = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>,
  <span class="hljs-attr">gender</span>: <span class="hljs-string">"ç”·"</span> <span class="hljs-comment">// æŠ¥é”™ï¼šå¯¹è±¡å­—é¢é‡åªèƒ½æŒ‡å®šå·²çŸ¥å±æ€§</span>
};
</code></pre>
<h3 data-id="heading-4">3. å‡½æ•°ç±»å‹ï¼šæ˜ç¡®è¾“å…¥è¾“å‡ºçº¦æŸ</h3>
<p>JS å‡½æ•°çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹å®Œå…¨åŠ¨æ€ï¼Œè°ƒç”¨æ—¶å¾ˆå®¹æ˜“ä¼ é”™å‚æ•°ã€‚TS å¯ç»™å‚æ•°å’Œè¿”å›å€¼éƒ½åŠ ä¸Šç±»å‹çº¦æŸã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// JS å‡½æ•°ï¼šå‚æ•°ç±»å‹ã€è¿”å›å€¼ç±»å‹å‡ä¸æ˜ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-title function_">add</span>(<span class="hljs-string">"1"</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// ä¸æŠ¥é”™ï¼Œä½†è¿”å›"12"è€Œéé¢„æœŸçš„3ï¼Œè‹¥åç»­ç”¨ç»“æœåšè¿ç®—ä¼šå‡ºé”™</span>

<span class="hljs-comment">// TS å‡½æ•°ï¼šå®Œæ•´çš„ç±»å‹æ³¨è§£ï¼ˆå‚æ•° + è¿”å›å€¼ï¼‰</span>
<span class="hljs-comment">// å†™æ³•1ï¼šæ™®é€šå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">tsAdd</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> a + b;
}
<span class="hljs-title function_">tsAdd</span>(<span class="hljs-string">"1"</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// æŠ¥é”™ï¼šå‚æ•°"a"æœŸæœ›numberç±»å‹</span>
<span class="hljs-title function_">tsAdd</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œè¿”å›3ï¼ˆç±»å‹ä¸ºnumberï¼‰</span>

<span class="hljs-comment">// å†™æ³•2ï¼šå‡½æ•°è¡¨è¾¾å¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">tsSubtract</span>: <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">number</span> = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> x - y;
};

<span class="hljs-comment">// å†™æ³•3ï¼šç®­å¤´å‡½æ•°ç®€å†™ï¼ˆTS è‡ªåŠ¨æ¨æ–­è¿”å›å€¼ç±»å‹ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">tsMultiply</span> = (<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span></span>) =&gt; x * y;

<span class="hljs-comment">// æ— è¿”å›å€¼çš„å‡½æ•°ï¼šç”¨ void è¡¨ç¤ºï¼ˆè¿”å› undefined æˆ–ä¸è¿”å›ä»»ä½•å€¼ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">logMsg</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg);
  <span class="hljs-comment">// return 123; // æŠ¥é”™ï¼šä¸èƒ½è¿”å›numberç±»å‹</span>
  <span class="hljs-keyword">return</span>; <span class="hljs-comment">// æ­£ç¡®ï¼ˆè¿”å›undefinedï¼‰</span>
}

<span class="hljs-comment">// å¯é€‰å‚æ•°ï¼šç”¨ ? æ ‡è®°ï¼Œå¿…é¡»æ”¾åœ¨å¿…é€‰å‚æ•°ä¹‹å</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, greeting?: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> greeting ? <span class="hljs-string">`<span class="hljs-subst">${greeting}</span>, <span class="hljs-subst">${name}</span>`</span> : <span class="hljs-string">`Hello, <span class="hljs-subst">${name}</span>`</span>;
}
<span class="hljs-title function_">greet</span>(<span class="hljs-string">"å¼ ä¸‰"</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œgreeting çœç•¥</span>
<span class="hljs-title function_">greet</span>(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"Hi"</span>); <span class="hljs-comment">// æ­£ç¡®</span>

<span class="hljs-comment">// é»˜è®¤å‚æ•°ï¼šå¸¦é»˜è®¤å€¼çš„å‚æ•°è‡ªåŠ¨è½¬ä¸ºå¯é€‰ï¼Œç±»å‹ç”±é»˜è®¤å€¼æ¨æ–­</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getPrice</span>(<span class="hljs-params">price: <span class="hljs-built_in">number</span>, discount: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.1</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> price * (<span class="hljs-number">1</span> - discount);
}
<span class="hljs-title function_">getPrice</span>(<span class="hljs-number">100</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œdiscount ç”¨é»˜è®¤å€¼ 0.1</span>

<span class="hljs-comment">// å‰©ä½™å‚æ•°ï¼šç”¨ ... è¡¨ç¤ºï¼Œç±»å‹ä¸ºæ•°ç»„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">...nums: <span class="hljs-built_in">number</span>[]</span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, num</span>) =&gt;</span> total + num, <span class="hljs-number">0</span>);
}
<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œè¿”å›6</span>
</code></pre>
<h3 data-id="heading-5">4. ç‰¹æ®Šç±»å‹ï¼šå¤„ç†â€œä¸ç¡®å®šâ€çš„åœºæ™¯</h3>
<p>å¼€å‘ä¸­å¸¸é‡åˆ°â€œå˜é‡å¯èƒ½æ˜¯å¤šç§ç±»å‹â€çš„æƒ…å†µï¼ŒTS æä¾›äº†è”åˆç±»å‹ã€äº¤å‰ç±»å‹ç­‰è§£å†³è¿™ç±»é—®é¢˜ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. è”åˆç±»å‹ï¼ˆ|ï¼‰ï¼šå˜é‡å¯ä»¥æ˜¯å¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œé€‚ç”¨äºâ€œæˆ–â€åœºæ™¯</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">mixed</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> = <span class="hljs-string">"hello"</span>;
mixed = <span class="hljs-number">123</span>; <span class="hljs-comment">// æ­£ç¡®</span>
mixed = <span class="hljs-literal">true</span>; <span class="hljs-comment">// æŠ¥é”™ï¼šä¸å…è®¸æ˜¯booleanç±»å‹</span>

<span class="hljs-comment">// åº”ç”¨åœºæ™¯1ï¼šå¤„ç†å¯èƒ½ä¸ºnull/undefinedçš„å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getLength</span>(<span class="hljs-params">value: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-comment">// éœ€å…ˆåˆ¤æ–­ç±»å‹ï¼ˆç±»å‹å®ˆå«ï¼‰ï¼Œå¦åˆ™TSæ— æ³•ç¡®å®švalueçš„å…·ä½“ç±»å‹</span>
  <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// åŒæ—¶åˆ¤æ–­nullå’Œundefined</span>
  <span class="hljs-keyword">return</span> value.<span class="hljs-property">length</span>;
}

<span class="hljs-comment">// åº”ç”¨åœºæ™¯2ï¼šå‡½æ•°å‚æ•°çš„å¤šç±»å‹æ”¯æŒ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">formatValue</span>(<span class="hljs-params">value: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"number"</span>) {
    <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// æ­¤æ—¶TSçŸ¥é“valueæ˜¯number</span>
  }
  <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">trim</span>(); <span class="hljs-comment">// æ­¤æ—¶TSçŸ¥é“valueæ˜¯string</span>
}

<span class="hljs-comment">// 2. ä»»æ„ç±»å‹ï¼ˆanyï¼‰ï¼šä¸´æ—¶â€œå…³é—­â€TSç±»å‹æ£€æŸ¥ï¼ˆå°½é‡å°‘ç”¨ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">anyValue</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">"hello"</span>;
anyValue = <span class="hljs-number">123</span>; <span class="hljs-comment">// ä¸æŠ¥é”™</span>
<span class="hljs-title function_">anyValue</span>(); <span class="hljs-comment">// ä¸æŠ¥é”™ï¼Œä½†è¿è¡Œæ—¶ä¼šå› â€œ123ä¸æ˜¯å‡½æ•°â€å´©æºƒ</span>
<span class="hljs-comment">// æ³¨æ„ï¼šè¿‡åº¦ä½¿ç”¨anyä¼šè®©TSé€€åŒ–ä¸ºJSï¼Œä»…åœ¨å…¼å®¹è€JSä»£ç æˆ–å¿«é€ŸåŸå‹å¼€å‘æ—¶ä¸´æ—¶ä½¿ç”¨</span>

<span class="hljs-comment">// 3. æœªçŸ¥ç±»å‹ï¼ˆunknownï¼‰ï¼šæ¯”anyæ›´å®‰å…¨çš„â€œä¸ç¡®å®šç±»å‹â€ï¼Œé€‚ç”¨äºâ€œç±»å‹æœªçŸ¥â€åœºæ™¯</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">unknownValue</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-string">"hello"</span>;
unknownValue = <span class="hljs-number">123</span>;
unknownValue = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> };

<span class="hljs-comment">// ä¸èƒ½ç›´æ¥ä½¿ç”¨unknownç±»å‹çš„å±æ€§æˆ–æ–¹æ³•ï¼Œå¿…é¡»å…ˆé€šè¿‡ç±»å‹å®ˆå«ç¼©å°èŒƒå›´</span>
<span class="hljs-comment">// console.log(unknownValue.length); // æŠ¥é”™ï¼šunknownç±»å‹æ— æ³•ç›´æ¥è®¿é—®å±æ€§</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> unknownValue === <span class="hljs-string">"string"</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(unknownValue.<span class="hljs-property">length</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œæ­¤æ—¶ç¡®å®šä¸ºstringç±»å‹</span>
}
<span class="hljs-keyword">if</span> (unknownValue <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span> &amp;&amp; <span class="hljs-string">"name"</span> <span class="hljs-keyword">in</span> unknownValue) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(unknownValue.<span class="hljs-property">name</span>); <span class="hljs-comment">// æ­£ç¡®ï¼Œæ­¤æ—¶ç¡®å®šä¸ºå¸¦nameå±æ€§çš„å¯¹è±¡</span>
}

<span class="hljs-comment">// 4. ç©ºç±»å‹ï¼ˆneverï¼‰ï¼šè¡¨ç¤ºâ€œæ°¸è¿œä¸ä¼šå‘ç”Ÿâ€çš„ç±»å‹ï¼Œé€‚ç”¨äºæ— æ³•æ‰§è¡Œåˆ°ç»ˆç‚¹çš„åœºæ™¯</span>
<span class="hljs-comment">// åœºæ™¯1ï¼šæŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">throwError</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg);
  <span class="hljs-comment">// å‡½æ•°æ‰§è¡Œåˆ°throwåç»ˆæ­¢ï¼Œæ°¸è¿œä¸ä¼šè¿”å›å€¼</span>
}

<span class="hljs-comment">// åœºæ™¯2ï¼šæ— é™å¾ªç¯çš„å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">loopForever</span>(<span class="hljs-params"/>): <span class="hljs-built_in">never</span> {
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {}
}

<span class="hljs-comment">// åœºæ™¯3ï¼šç©·å°½è”åˆç±»å‹çš„æ£€æŸ¥ï¼ˆç¡®ä¿æ‰€æœ‰æƒ…å†µéƒ½è¢«è¦†ç›–ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Direction</span> = <span class="hljs-string">"up"</span> | <span class="hljs-string">"down"</span> | <span class="hljs-string">"left"</span> | <span class="hljs-string">"right"</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleDirection</span>(<span class="hljs-params">dir: Direction</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">switch</span> (dir) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"up"</span>: <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"down"</span>: <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"left"</span>: <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"right"</span>: <span class="hljs-keyword">break</span>;
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">const</span> <span class="hljs-attr">_exhaustiveCheck</span>: <span class="hljs-built_in">never</span> = dir; <span class="hljs-comment">// è‹¥æ¼å†™caseï¼Œæ­¤å¤„ä¼šæŠ¥é”™</span>
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`æœªçŸ¥æ–¹å‘ï¼š<span class="hljs-subst">${_exhaustiveCheck}</span>`</span>);
  }
}
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€è¿›é˜¶ç‰¹æ€§ï¼šTS æå‡ä»£ç è´¨é‡çš„å…³é”®</h2>
<p>æŒæ¡åŸºç¡€ç±»å‹åï¼Œè¿™äº›è¿›é˜¶ç‰¹æ€§èƒ½è®©ä½ å†™å‡ºæ›´å¥å£®ã€å¯å¤ç”¨çš„ä»£ç ï¼Œä¹Ÿæ˜¯ TS åŒºåˆ«äº JS çš„æ ¸å¿ƒä»·å€¼æ‰€åœ¨ã€‚</p>
<h3 data-id="heading-7">1. æ¥å£ï¼ˆInterfaceï¼‰ï¼šå®šä¹‰å¯¹è±¡çš„â€œè“å›¾â€</h3>
<p>å½“å¤šä¸ªå¯¹è±¡ã€å‡½æ•°å‚æ•°æ‹¥æœ‰ç›¸åŒçš„ç»“æ„æ—¶ï¼Œé‡å¤ç¼–å†™ç±»å‹æ³¨è§£ä¼šå¯¼è‡´ä»£ç å†—ä½™ä¸”éš¾ä»¥ç»´æŠ¤ã€‚æ¥å£ï¼ˆInterfaceï¼‰æ­£æ˜¯ä¸ºè§£å†³æ­¤é—®é¢˜è€Œç”Ÿï¼Œå®ƒç›¸å½“äºâ€œå¯¹è±¡ç»“æ„çš„å¥‘çº¦â€ï¼Œå®šä¹‰äº†å¯¹è±¡å¿…é¡»éµå¾ªçš„å±æ€§å’Œç±»å‹è§„èŒƒï¼Œæ”¯æŒç»§æ‰¿ã€åˆå¹¶ç­‰ç‰¹æ€§ï¼Œå®ç°ç±»å‹çš„å¤ç”¨ä¸æ‰©å±•ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ¥å£ï¼ˆé¦–å­—æ¯å¤§å†™ï¼Œçº¦å®šä¿—æˆï¼Œå¢å¼ºå¯è¯»æ€§ï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å¿…é€‰å±æ€§ï¼šå¯¹è±¡å¿…é¡»åŒ…å«è¯¥å±æ€§</span>
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  gender?: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// å¯é€‰å±æ€§ï¼šå¯¹è±¡å¯åŒ…å«å¯ä¸åŒ…å«</span>
  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// åªè¯»å±æ€§ï¼šåˆå§‹åŒ–åä¸å¯ä¿®æ”¹</span>
  <span class="hljs-comment">// å‡½æ•°å±æ€§ï¼šå®šä¹‰å¯¹è±¡ä¸­çš„æ–¹æ³•ç±»å‹</span>
  <span class="hljs-attr">greet</span>: <span class="hljs-function">(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// ä½¿ç”¨æ¥å£ä½œä¸ºç±»å‹çº¦æŸï¼šå¯¹è±¡å¿…é¡»ä¸¥æ ¼ç¬¦åˆæ¥å£ç»“æ„</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">user1</span>: <span class="hljs-title class_">User</span> = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>,
  <span class="hljs-attr">greet</span>: <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${msg}</span>, æˆ‘æ˜¯<span class="hljs-subst">${name}</span>`</span>
};

user1.<span class="hljs-property">id</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// æŠ¥é”™ï¼šåªè¯»å±æ€§ä¸èƒ½ä¿®æ”¹</span>
user1.<span class="hljs-property">gender</span> = <span class="hljs-string">"ç”·"</span>; <span class="hljs-comment">// æ­£ç¡®ï¼šèµ‹å€¼å¯é€‰å±æ€§</span>
user1.<span class="hljs-title function_">greet</span>(<span class="hljs-string">"Hi"</span>); <span class="hljs-comment">// æ­£ç¡®ï¼šè°ƒç”¨å‡½æ•°å±æ€§</span>

<span class="hljs-comment">// æ¥å£ç»§æ‰¿ï¼šå®ç°ç±»å‹æ‰©å±•ï¼Œå‡å°‘é‡å¤å®šä¹‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">studentId</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// æ–°å¢å­¦ç”Ÿä¸“å±å±æ€§</span>
  <span class="hljs-attr">study</span>: <span class="hljs-function">(<span class="hljs-params">course: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>; <span class="hljs-comment">// æ–°å¢å­¦ç”Ÿä¸“å±æ–¹æ³•</span>
}

<span class="hljs-comment">// å®ç°Studentæ¥å£çš„å¯¹è±¡ï¼Œéœ€åŒ…å«Userå’ŒStudentçš„æ‰€æœ‰å±æ€§</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">student</span>: <span class="hljs-title class_">Student</span> = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"ç‹äº”"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>,
  <span class="hljs-attr">studentId</span>: <span class="hljs-number">2024001</span>,
  <span class="hljs-attr">greet</span>: <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${msg}</span>, æˆ‘æ˜¯å­¦ç”Ÿ<span class="hljs-subst">${name}</span>`</span>,
  <span class="hljs-attr">study</span>: <span class="hljs-function">(<span class="hljs-params">course</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ­£åœ¨å­¦ä¹ <span class="hljs-subst">${course}</span>`</span>)
};

<span class="hljs-comment">// æ¥å£åˆå¹¶ï¼šåŒåæ¥å£ä¼šè‡ªåŠ¨åˆå¹¶å±æ€§å’Œæ–¹æ³•ï¼ˆé€‚ç”¨äºæ‰©å±•ç¬¬ä¸‰æ–¹ç±»å‹ï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">eat</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
}
<span class="hljs-comment">// åˆå¹¶åçš„Animalæ¥å£åŒ…å« nameã€ageã€eat</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Animal</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"æ—ºè´¢"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">eat</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åƒéª¨å¤´"</span>)
};

<span class="hljs-comment">// æ¥å£ä¸å‡½æ•°å‚æ•°ï¼šçº¦æŸå‡½æ•°æ¥æ”¶çš„å¯¹è±¡ç»“æ„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">printUserInfo</span>(<span class="hljs-params">user: User</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ID: <span class="hljs-subst">${user.id}</span>, å§“å: <span class="hljs-subst">${user.name}</span>`</span>);
}
<span class="hljs-title function_">printUserInfo</span>(user1); <span class="hljs-comment">// æ­£ç¡®ï¼šä¼ å…¥ç¬¦åˆUseræ¥å£çš„å¯¹è±¡</span>
</code></pre>
<p>ğŸ’¡ åŒºåˆ«ï¼šæ¥å£ï¼ˆInterfaceï¼‰å’Œç±»å‹åˆ«åï¼ˆtypeï¼‰éƒ½èƒ½å®šä¹‰è‡ªå®šä¹‰ç±»å‹ï¼Œæ¥å£æ›´ä¾§é‡â€œå¯¹è±¡ç»“æ„â€ï¼Œæ”¯æŒç»§æ‰¿å’Œåˆå¹¶ï¼›ç±»å‹åˆ«åæ›´çµæ´»ï¼Œå¯å®šä¹‰åŸºæœ¬ç±»å‹ã€è”åˆç±»å‹ç­‰ï¼ˆåç»­ä¼šè¯¦ç»†å¯¹æ¯”ï¼‰ã€‚</p>
<h3 data-id="heading-8">2. æ³›å‹ï¼ˆGenericï¼‰ï¼šè§£å†³â€œç±»å‹é‡å¤â€é—®é¢˜</h3>
<p>è¿™æ˜¯ TS æœ€å¼ºå¤§çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œè¢«ç§°ä¸ºâ€œç±»å‹å±‚é¢çš„å‡½æ•°â€ã€‚å½“å‡½æ•°ã€ç±»ã€æ¥å£éœ€è¦æ”¯æŒå¤šç§ç±»å‹ï¼Œä½†åˆä¸æƒ³ç”¨ any ç‰ºç‰²ç±»å‹å®‰å…¨æ—¶ï¼Œæ³›å‹å¯ä»¥å®ç°â€œç±»å‹å‚æ•°åŒ–â€â€”â€” æŠŠç±»å‹ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè®©ä»£ç åœ¨ä¿æŒå¤ç”¨æ€§çš„åŒæ—¶ï¼Œç²¾å‡†çº¦æŸè¾“å…¥è¾“å‡ºçš„ç±»å‹å…³ç³»ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é—®é¢˜1ï¼šJS å†™çš„æ•°ç»„åè½¬å‡½æ•°ï¼Œæ— æ³•çº¦æŸè¾“å…¥è¾“å‡ºç±»å‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reverseArr</span>(<span class="hljs-params">arr</span>) {
  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reverse</span>();
}
<span class="hljs-keyword">const</span> arr1 = <span class="hljs-title function_">reverseArr</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// è¿”å›anyç±»å‹ï¼Œæ— æ³•ç¡®å®šæ˜¯number[]</span>
<span class="hljs-keyword">const</span> arr2 = <span class="hljs-title function_">reverseArr</span>([<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>]); <span class="hljs-comment">// åŒæ ·è¿”å›anyç±»å‹</span>

<span class="hljs-comment">// é—®é¢˜2ï¼šç”¨anyå®ç°â€œé€šç”¨â€å‡½æ•°ï¼Œå¤±å»ç±»å‹å®‰å…¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reverseArrAny</span>(<span class="hljs-params">arr: <span class="hljs-built_in">any</span>[]</span>): <span class="hljs-built_in">any</span>[] {
  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reverse</span>();
}
<span class="hljs-keyword">const</span> arr3 = <span class="hljs-title function_">reverseArrAny</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
arr3.<span class="hljs-title function_">push</span>(<span class="hljs-string">"a"</span>); <span class="hljs-comment">// ä¸æŠ¥é”™ï¼Œä½†ä¼šå¯¼è‡´æ•°ç»„ç±»å‹æ··ä¹±</span>

<span class="hljs-comment">// ç”¨æ³›å‹ä¼˜åŒ–ï¼šå®šä¹‰ç±»å‹å‚æ•° Tï¼ˆå¯è‡ªå®šä¹‰åç§°ï¼Œé€šå¸¸ç”¨Tã€Uã€Vè¡¨ç¤ºï¼‰</span>
<span class="hljs-comment">// T ä»£è¡¨â€œä¼ å…¥çš„æ•°ç»„å…ƒç´ ç±»å‹â€ï¼Œå‡½æ•°è¿”å›å€¼ç±»å‹ä¸ä¼ å…¥ç±»å‹ä¸€è‡´</span>
<span class="hljs-keyword">function</span> reverseArrTs&lt;T&gt;(<span class="hljs-attr">arr</span>: T[]): T[] {
  <span class="hljs-comment">// è¿™é‡Œçš„Tä¼šæ ¹æ®å®é™…ä¼ å…¥çš„æ•°ç»„ç±»å‹åŠ¨æ€ç¡®å®š</span>
  <span class="hljs-keyword">return</span> [...arr].<span class="hljs-title function_">reverse</span>(); <span class="hljs-comment">// ç”¨æ‰©å±•è¿ç®—ç¬¦é¿å…ä¿®æ”¹åŸæ•°ç»„</span>
}

<span class="hljs-comment">// ä½¿ç”¨1ï¼šæ˜¾å¼æŒ‡å®šç±»å‹å‚æ•°</span>
<span class="hljs-keyword">const</span> numArr = reverseArrTs&lt;<span class="hljs-built_in">number</span>&gt;([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// T=numberï¼Œè¿”å›number[]</span>
numArr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>); <span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-comment">// numArr.push("a"); // æŠ¥é”™ï¼šä¸èƒ½ä¼ å…¥stringç±»å‹</span>

<span class="hljs-comment">// ä½¿ç”¨2ï¼šTSè‡ªåŠ¨æ¨æ–­ç±»å‹å‚æ•°ï¼ˆæ›´ç®€æ´ï¼Œæ¨èï¼‰</span>
<span class="hljs-keyword">const</span> strArr = <span class="hljs-title function_">reverseArrTs</span>([<span class="hljs-string">"a"</span>, <span class="hljs-string">"b"</span>, <span class="hljs-string">"c"</span>]); <span class="hljs-comment">// è‡ªåŠ¨æ¨æ–­T=stringï¼Œè¿”å›string[]</span>
<span class="hljs-keyword">const</span> objArr = <span class="hljs-title function_">reverseArrTs</span>([{ <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }, { <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span> }]); <span class="hljs-comment">// T={name:string}</span>

<span class="hljs-comment">// æ³›å‹çº¦æŸï¼šé™åˆ¶Tçš„èŒƒå›´ï¼Œé¿å…ä¼ å…¥ä¸æ”¯æŒçš„ç±»å‹</span>
<span class="hljs-comment">// åœºæ™¯ï¼šè·å–å¯¹è±¡çš„æŸä¸ªå±æ€§ï¼Œç¡®ä¿å¯¹è±¡æœ‰è¯¥å±æ€§</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">HasId</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
}
<span class="hljs-comment">// T extends HasId è¡¨ç¤ºTå¿…é¡»æ˜¯HasIdçš„å­ç±»å‹ï¼ˆåŒ…å«idå±æ€§ï¼‰</span>
<span class="hljs-keyword">function</span> getId&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HasId</span>&gt;(<span class="hljs-attr">obj</span>: T): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> obj.<span class="hljs-property">id</span>;
}
<span class="hljs-title function_">getId</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span> }); <span class="hljs-comment">// æ­£ç¡®ï¼šå¯¹è±¡æœ‰idå±æ€§</span>
<span class="hljs-comment">// getId({ name: "æå››" }); // æŠ¥é”™ï¼šå¯¹è±¡æ²¡æœ‰idå±æ€§ï¼Œä¸ç¬¦åˆçº¦æŸ</span>

<span class="hljs-comment">// æ³›å‹é»˜è®¤å€¼ï¼šç»™ç±»å‹å‚æ•°æŒ‡å®šé»˜è®¤ç±»å‹ï¼Œå¢å¼ºæ˜“ç”¨æ€§</span>
<span class="hljs-keyword">function</span> createArray&lt;T = <span class="hljs-built_in">string</span>&gt;(<span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">value</span>: T): T[] {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>(length).<span class="hljs-title function_">fill</span>(value);
}
<span class="hljs-title function_">createArray</span>(<span class="hljs-number">3</span>, <span class="hljs-string">"a"</span>); <span class="hljs-comment">// T=stringï¼Œè¿”å›string[]</span>
createArray&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">3</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">// æ˜¾å¼æŒ‡å®šT=numberï¼Œè¿”å›number[]</span>

<span class="hljs-comment">// æ³›å‹æ¥å£ï¼šå®šä¹‰é€šç”¨çš„æ•°æ®ç»“æ„</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">KeyValue</span>&lt;K, V&gt; {
  <span class="hljs-attr">key</span>: K;
  <span class="hljs-attr">value</span>: V;
}
<span class="hljs-comment">// çµæ´»å®šä¹‰ä¸åŒç±»å‹çš„é”®å€¼å¯¹</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">kv1</span>: <span class="hljs-title class_">KeyValue</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>&gt; = { <span class="hljs-attr">key</span>: <span class="hljs-string">"age"</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">25</span> };
<span class="hljs-keyword">let</span> <span class="hljs-attr">kv2</span>: <span class="hljs-title class_">KeyValue</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-built_in">string</span>&gt; = { <span class="hljs-attr">key</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"name"</span> };
<span class="hljs-keyword">let</span> <span class="hljs-attr">kv3</span>: <span class="hljs-title class_">KeyValue</span>&lt;<span class="hljs-built_in">symbol</span>, <span class="hljs-built_in">boolean</span>&gt; = { <span class="hljs-attr">key</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">"flag"</span>), <span class="hljs-attr">value</span>: <span class="hljs-literal">true</span> };

<span class="hljs-comment">// æ³›å‹ç±»ï¼šåˆ›å»ºæ”¯æŒå¤šç§ç±»å‹çš„ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span>&lt;T&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">items</span>: T[] = [];
  <span class="hljs-title function_">push</span>(<span class="hljs-attr">item</span>: T): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(item);
  }
  <span class="hljs-title function_">pop</span>(): T | <span class="hljs-literal">undefined</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">pop</span>();
  }
}
<span class="hljs-comment">// æ•°å­—ç±»å‹çš„æ ˆ</span>
<span class="hljs-keyword">const</span> numberStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;<span class="hljs-built_in">number</span>&gt;();
numberStack.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);
numberStack.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// è¿”å›numberç±»å‹</span>

<span class="hljs-comment">// å­—ç¬¦ä¸²ç±»å‹çš„æ ˆ</span>
<span class="hljs-keyword">const</span> stringStack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Stack</span>&lt;<span class="hljs-built_in">string</span>&gt;();
stringStack.<span class="hljs-title function_">push</span>(<span class="hljs-string">"a"</span>);
stringStack.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// è¿”å›stringç±»å‹</span>
</code></pre>
<h3 data-id="heading-9">3. ç±»å‹å®ˆå«ï¼šç¼©å°ç±»å‹èŒƒå›´</h3>
<p>å½“å˜é‡æ˜¯è”åˆç±»å‹æ—¶ï¼ŒTS ä»…çŸ¥é“å®ƒâ€œå¯èƒ½æ˜¯å¤šç§ç±»å‹ä¸­çš„ä¸€ç§â€ï¼Œæ— æ³•ç¡®å®šå…·ä½“ç±»å‹ï¼Œå› æ­¤ä¸èƒ½ç›´æ¥è®¿é—®æŸä¸€ç±»å‹çš„ä¸“å±å±æ€§æˆ–æ–¹æ³•ã€‚æ­¤æ—¶éœ€è¦ç”¨â€œç±»å‹å®ˆå«â€â€”â€” é€šè¿‡ç‰¹å®šè¯­æ³•æˆ–é€»è¾‘åˆ¤æ–­å˜é‡çš„å…·ä½“ç±»å‹ï¼Œè®© TS ç¼©å°ç±»å‹èŒƒå›´ï¼Œä»è€Œå®‰å…¨åœ°ä½¿ç”¨å¯¹åº”ç±»å‹çš„ç‰¹æ€§ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è”åˆç±»å‹çš„å˜é‡ï¼šTS ä»…çŸ¥é“å®ƒæ˜¯å‡ ç§ç±»å‹çš„é›†åˆ</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span>;

<span class="hljs-comment">// 1. typeof ç±»å‹å®ˆå«ï¼šåˆ¤æ–­åŸºç¡€ç±»å‹ï¼ˆstring/number/boolean/symbol/functionï¼‰</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">length</span>); <span class="hljs-comment">// æ­£ç¡®ï¼ŒTS ç¡®å®švalueæ˜¯string</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-title function_">toUpperCase</span>()); <span class="hljs-comment">// å¯å®‰å…¨ä½¿ç”¨stringçš„æ–¹æ³•</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"number"</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// æ­£ç¡®ï¼ŒTS ç¡®å®švalueæ˜¯number</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)); <span class="hljs-comment">// å¯å®‰å…¨ä½¿ç”¨numberçš„æ–¹æ³•</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"boolean"</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value ? <span class="hljs-string">"çœŸ"</span> : <span class="hljs-string">"å‡"</span>); <span class="hljs-comment">// æ­£ç¡®ï¼ŒTS ç¡®å®švalueæ˜¯boolean</span>
}

<span class="hljs-comment">// 2. instanceof ç±»å‹å®ˆå«ï¼šåˆ¤æ–­å¼•ç”¨ç±»å‹ï¼ˆç±»å®ä¾‹ã€æ•°ç»„ç­‰ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> {
  <span class="hljs-attr">breed</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// ç‹—çš„å“ç§</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">breed: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">breed</span> = breed;
  }
  <span class="hljs-title function_">bark</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ±ªæ±ªï¼Œæˆ‘æ˜¯<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.breed}</span>`</span>); }
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> {
  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// çŒ«çš„é¢œè‰²</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">color</span> = color;
  }
  <span class="hljs-title function_">meow</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å–µå–µï¼Œæˆ‘æ˜¯<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.color}</span>çš„çŒ«`</span>); }
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">animal</span>: <span class="hljs-title class_">Dog</span> | <span class="hljs-title class_">Cat</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-string">"é‡‘æ¯›"</span>);
<span class="hljs-keyword">if</span> (animal <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Dog</span>) {
  animal.<span class="hljs-title function_">bark</span>(); <span class="hljs-comment">// æ­£ç¡®ï¼ŒTS ç¡®å®šanimalæ˜¯Dogå®ä¾‹</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animal.<span class="hljs-property">breed</span>); <span class="hljs-comment">// å¯è®¿é—®Dogçš„ä¸“å±å±æ€§</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (animal <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Cat</span>) {
  animal.<span class="hljs-title function_">meow</span>(); <span class="hljs-comment">// æ­£ç¡®ï¼ŒTS ç¡®å®šanimalæ˜¯Catå®ä¾‹</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(animal.<span class="hljs-property">color</span>); <span class="hljs-comment">// å¯è®¿é—®Catçš„ä¸“å±å±æ€§</span>
}

<span class="hljs-comment">// 3. è‡ªå®šä¹‰ç±»å‹å®ˆå«ï¼šé€šè¿‡å‡½æ•°è¿”å›â€œvalue is ç±»å‹â€åˆ¤æ–­å¯¹è±¡ç»“æ„</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Fish</span> {
  <span class="hljs-attr">swim</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">finCount</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// é±¼çš„é±¼é³æ•°é‡</span>
}
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Bird</span> {
  <span class="hljs-attr">fly</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">wingSpan</span>: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// é¸Ÿçš„ç¿¼å±•</span>
}

<span class="hljs-comment">// è‡ªå®šä¹‰å®ˆå«å‡½æ•°ï¼šè¿”å›å€¼ç±»å‹ä¸ºâ€œvalue is Fishâ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isFish</span>(<span class="hljs-params">value: Fish | Bird</span>): value is <span class="hljs-title class_">Fish</span> {
  <span class="hljs-comment">// ç±»å‹æ–­è¨€ï¼ˆasï¼‰ï¼šä¸´æ—¶å‘Šè¯‰TS valueæ˜¯Fishç±»å‹ï¼Œç”¨äºåˆ¤æ–­å±æ€§æ˜¯å¦å­˜åœ¨</span>
  <span class="hljs-keyword">return</span> (value <span class="hljs-keyword">as</span> <span class="hljs-title class_">Fish</span>).<span class="hljs-property">swim</span> !== <span class="hljs-literal">undefined</span>;
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">pet</span>: <span class="hljs-title class_">Fish</span> | <span class="hljs-title class_">Bird</span> = { 
  <span class="hljs-attr">swim</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ¸¸å•Šæ¸¸"</span>), 
  <span class="hljs-attr">finCount</span>: <span class="hljs-number">4</span> 
};
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isFish</span>(pet)) {
  pet.<span class="hljs-title function_">swim</span>(); <span class="hljs-comment">// æ­£ç¡®ï¼ŒTS ç¡®å®špetæ˜¯Fish</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`é±¼é³æ•°é‡ï¼š<span class="hljs-subst">${pet.finCount}</span>`</span>); <span class="hljs-comment">// å¯è®¿é—®Fishçš„ä¸“å±å±æ€§</span>
} <span class="hljs-keyword">else</span> {
  pet.<span class="hljs-title function_">fly</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¿¼å±•ï¼š<span class="hljs-subst">${pet.wingSpan}</span>`</span>);
}

<span class="hljs-comment">// 4. in æ“ä½œç¬¦ç±»å‹å®ˆå«ï¼šåˆ¤æ–­å¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getAnimalInfo</span>(<span class="hljs-params">animal: Dog | Cat</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">if</span> (<span class="hljs-string">"breed"</span> <span class="hljs-keyword">in</span> animal) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`ç‹— - å“ç§ï¼š<span class="hljs-subst">${animal.breed}</span>`</span>; <span class="hljs-comment">// æ­£ç¡®ï¼ŒåŒ…å«breedè¯´æ˜æ˜¯Dog</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"color"</span> <span class="hljs-keyword">in</span> animal) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`çŒ« - é¢œè‰²ï¼š<span class="hljs-subst">${animal.color}</span>`</span>; <span class="hljs-comment">// æ­£ç¡®ï¼ŒåŒ…å«colorè¯´æ˜æ˜¯Cat</span>
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥åŠ¨ç‰©"</span>;
}

<span class="hljs-comment">// 5. å­—é¢é‡ç±»å‹å®ˆå«ï¼šåˆ¤æ–­è”åˆç±»å‹ä¸­çš„å­—é¢é‡ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Direction</span> = <span class="hljs-string">"up"</span> | <span class="hljs-string">"down"</span> | <span class="hljs-string">"left"</span> | <span class="hljs-string">"right"</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getDirectionMsg</span>(<span class="hljs-params">dir: Direction</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">switch</span> (dir) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"up"</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">"å‘ä¸Š"</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"down"</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">"å‘ä¸‹"</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"left"</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">"å‘å·¦"</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"right"</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">"å‘å³"</span>;
    <span class="hljs-attr">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥æ–¹å‘"</span>;
  }
}
</code></pre>
<h3 data-id="heading-10">4. ç±»å‹åˆ«åï¼ˆType Aliasï¼‰ï¼šç»™ç±»å‹â€œèµ·åˆ«åâ€</h3>
<p>ç±»å‹åˆ«åï¼ˆType Aliasï¼‰ç”¨ <code>type</code> å…³é”®å­—å®šä¹‰ï¼Œä½œç”¨æ˜¯ç»™å·²æœ‰ç±»å‹èµ·ä¸€ä¸ªæ›´ç®€æ´ã€æ˜“æ‡‚çš„åå­—ã€‚å®ƒæ¯”æ¥å£æ›´çµæ´»ï¼Œä¸ä»…èƒ½å®šä¹‰å¯¹è±¡ç±»å‹ï¼Œè¿˜èƒ½å®šä¹‰åŸºç¡€ç±»å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ã€æ³›å‹ç­‰å‡ ä¹æ‰€æœ‰ TS ç±»å‹ï¼Œæ˜¯å®ç°ç±»å‹å¤ç”¨çš„å¦ä¸€ç§é‡è¦æ–¹å¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. ç»™åŸºç¡€ç±»å‹èµ·åˆ«åï¼šå¢å¼ºä»£ç è¯­ä¹‰ï¼ˆå°¤å…¶é€‚åˆä¸šåŠ¡ä¸“å±ç±»å‹ï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Age</span> = <span class="hljs-built_in">number</span>; <span class="hljs-comment">// å¹´é¾„ç±»å‹ï¼ˆæœ¬è´¨æ˜¯numberï¼‰</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Username</span> = <span class="hljs-built_in">string</span>; <span class="hljs-comment">// ç”¨æˆ·åç±»å‹ï¼ˆæœ¬è´¨æ˜¯stringï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">userAge</span>: <span class="hljs-title class_">Age</span> = <span class="hljs-number">25</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">userName</span>: <span class="hljs-title class_">Username</span> = <span class="hljs-string">"å¼ ä¸‰"</span>;

<span class="hljs-comment">// 2. ç»™è”åˆç±»å‹èµ·åˆ«åï¼šç®€åŒ–å¤æ‚çš„è”åˆç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">StringOrNumber</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Direction</span> = <span class="hljs-string">"up"</span> | <span class="hljs-string">"down"</span> | <span class="hljs-string">"left"</span> | <span class="hljs-string">"right"</span>; <span class="hljs-comment">// å­—ç¬¦ä¸²å­—é¢é‡è”åˆç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NullableString</span> = <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> | <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// æ”¯æŒnull/undefinedçš„å­—ç¬¦ä¸²</span>

<span class="hljs-keyword">let</span> <span class="hljs-attr">mixed</span>: <span class="hljs-title class_">StringOrNumber</span> = <span class="hljs-string">"hello"</span>;
mixed = <span class="hljs-number">123</span>; <span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">dir</span>: <span class="hljs-title class_">Direction</span> = <span class="hljs-string">"up"</span>;
<span class="hljs-comment">// dir = "top"; // æŠ¥é”™ï¼šä¸åœ¨Directionçš„å­—é¢é‡èŒƒå›´å†…</span>

<span class="hljs-comment">// 3. ç»™å¯¹è±¡ç±»å‹èµ·åˆ«åï¼šä¸æ¥å£ç±»ä¼¼ï¼Œä½†è¯­æ³•æ›´çµæ´»</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-title class_">Username</span>; <span class="hljs-comment">// å¼•ç”¨å·²å®šä¹‰çš„ç±»å‹åˆ«å</span>
  <span class="hljs-attr">age</span>: <span class="hljs-title class_">Age</span>;
  gender?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">greet</span>: <span class="hljs-function">(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">string</span>;
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">person</span>: <span class="hljs-title class_">Person</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"æå››"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,
  <span class="hljs-attr">greet</span>: <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${msg}</span>, <span class="hljs-subst">${name}</span>`</span>
};

<span class="hljs-comment">// 4. äº¤å‰ç±»å‹ï¼ˆ&amp;ï¼‰ï¼šåˆå¹¶å¤šä¸ªç±»å‹ï¼Œå®ç°â€œå¹¶ä¸”â€çš„é€»è¾‘</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Student</span> = <span class="hljs-title class_">Person</span> &amp; {
  <span class="hljs-attr">studentId</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">study</span>: <span class="hljs-function">(<span class="hljs-params">course: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
};
<span class="hljs-comment">// Studentç±»å‹åŒ…å«Personå’Œæ–°å¢çš„æ‰€æœ‰å±æ€§æ–¹æ³•</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">student</span>: <span class="hljs-title class_">Student</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"èµµå…­"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">19</span>,
  <span class="hljs-attr">studentId</span>: <span class="hljs-number">2024002</span>,
  <span class="hljs-attr">greet</span>: <span class="hljs-function">(<span class="hljs-params">msg</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${msg}</span>, æˆ‘æ˜¯å­¦ç”Ÿ<span class="hljs-subst">${name}</span>`</span>,
  <span class="hljs-attr">study</span>: <span class="hljs-function">(<span class="hljs-params">course</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å­¦ä¹ <span class="hljs-subst">${course}</span>`</span>)
};

<span class="hljs-comment">// 5. æ³›å‹ç±»å‹åˆ«åï¼šå®šä¹‰é€šç”¨ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span>&lt;T&gt; = {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">data</span>: T | <span class="hljs-literal">null</span>;
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;
};
<span class="hljs-comment">// æ¥å£è¯·æ±‚æˆåŠŸçš„ç»“æœï¼ˆdataä¸ºç”¨æˆ·æ•°ç»„ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">userResult</span>: <span class="hljs-title class_">Result</span>&lt;<span class="hljs-title class_">Person</span>[]&gt; = {
  <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">data</span>: [person, student],
  <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·æ±‚æˆåŠŸ"</span>
};
<span class="hljs-comment">// æ¥å£è¯·æ±‚å¤±è´¥çš„ç»“æœï¼ˆdataä¸ºnullï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">errorResult</span>: <span class="hljs-title class_">Result</span>&lt;<span class="hljs-built_in">never</span>&gt; = {
  <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·æ±‚å¤±è´¥"</span>
};

<span class="hljs-comment">// æ¥å£ vs ç±»å‹åˆ«åï¼šæ ¸å¿ƒåŒºåˆ«ä¸é€‰æ‹©å»ºè®®</span>
<span class="hljs-comment">// 1. æ¥å£æ”¯æŒç»§æ‰¿å’Œåˆå¹¶ï¼Œç±»å‹åˆ«åä¸æ”¯æŒ</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; }
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> { <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>; } <span class="hljs-comment">// åˆå¹¶æˆåŠŸ</span>
<span class="hljs-comment">// type Animal = { name: string };</span>
<span class="hljs-comment">// type Animal = { age: number }; // æŠ¥é”™ï¼šé‡å¤å®šä¹‰ç±»å‹åˆ«å</span>

<span class="hljs-comment">// 2. ç±»å‹åˆ«åæ”¯æŒæ›´å¤šç±»å‹ï¼ˆåŸºç¡€ç±»å‹ã€è”åˆã€äº¤å‰ç­‰ï¼‰ï¼Œæ¥å£ä»…æ”¯æŒå¯¹è±¡/å‡½æ•°ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NumOrStr</span> = <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>; <span class="hljs-comment">// åˆæ³•</span>
<span class="hljs-comment">// interface NumOrStr extends number | string {} // æŠ¥é”™ï¼šæ¥å£åªèƒ½ç»§æ‰¿å¯¹è±¡ç±»å‹</span>

<span class="hljs-comment">// 3. é€‰æ‹©å»ºè®®ï¼š</span>
<span class="hljs-comment">// - å®šä¹‰å¯¹è±¡/å‡½æ•°çš„ç»“æ„ï¼Œä¸”å¯èƒ½éœ€è¦æ‰©å±•æˆ–åˆå¹¶æ—¶ï¼Œç”¨æ¥å£ï¼ˆInterfaceï¼‰</span>
<span class="hljs-comment">// - å®šä¹‰åŸºç¡€ç±»å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹æˆ–æ³›å‹ç»„åˆç±»å‹æ—¶ï¼Œç”¨ç±»å‹åˆ«åï¼ˆTypeï¼‰</span>
</code></pre>
<h2 data-id="heading-11">å››ã€å®æˆ˜è¿ç§»ï¼šJS é¡¹ç›®é€æ­¥å‡çº§ TS</h2>
<p>å¾ˆå¤šäººæ‹…å¿ƒâ€œè€ JS é¡¹ç›®å‡çº§ TS æˆæœ¬å¤ªé«˜â€ï¼Œå®é™…ä¸Šå®Œå…¨å¯ä»¥â€œæ¸è¿›å¼è¿ç§»â€ï¼Œæ— éœ€ä¸€æ¬¡æ€§é‡æ„ã€‚ä»¥ä¸‹æ˜¯å…·ä½“æ­¥éª¤ï¼š</p>
<h3 data-id="heading-12">1. ç¯å¢ƒå‡†å¤‡ï¼šç»™ JS é¡¹ç›®â€œæ­ TS ç¯å¢ƒâ€</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£… TS ä¾èµ–ï¼ˆå…¨å±€æˆ–é¡¹ç›®å±€éƒ¨ï¼‰</span>
npm install typescript @types/node --save-dev

<span class="hljs-comment"># 2. ç”Ÿæˆ TS é…ç½®æ–‡ä»¶ tsconfig.jsonï¼ˆæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰</span>
npx tsc --init
</code></pre>
<p>å…³é”®é…ç½®é¡¹è¯´æ˜ï¼ˆtsconfig.jsonï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ES6"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç¼–è¯‘åçš„ JS ç‰ˆæœ¬</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ¨¡å—è§„èŒƒ</span>
    <span class="hljs-attr">"outDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// ç¼–è¯‘è¾“å‡ºç›®å½•</span>
    <span class="hljs-attr">"rootDir"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./src"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æºç ç›®å½•</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼ˆå»ºè®®å¼€å¯ï¼Œå‘æŒ¥TSæœ€å¤§ä»·å€¼ï¼‰</span>
    <span class="hljs-attr">"allowJs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…è®¸ç¼–è¯‘ JS æ–‡ä»¶ï¼ˆæ ¸å¿ƒï¼æ”¯æŒJSå’ŒTSæ··å†™ï¼‰</span>
    <span class="hljs-attr">"checkJs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ£€æŸ¥ JS æ–‡ä»¶çš„ç±»å‹é”™è¯¯ï¼ˆå¯é€‰ï¼Œé€æ­¥å¼€å¯ï¼‰</span>
    <span class="hljs-attr">"esModuleInterop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-comment">// å…¼å®¹ CommonJS å’Œ ES æ¨¡å—</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"./src/**/*"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è¦ç¼–è¯‘çš„æ–‡ä»¶</span>
  <span class="hljs-attr">"exclude"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"node_modules"</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// æ’é™¤çš„æ–‡ä»¶</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-13">2. é€æ­¥è¿ç§»ï¼šä»â€œç±»å‹æ³¨è§£â€åˆ°â€œå®Œæ•´ TSâ€</h3>
<ol>
<li><strong>ç¬¬ä¸€æ­¥ï¼šç»™ JS æ–‡ä»¶åŠ ç±»å‹æ³¨è§£</strong>ï¼šæ— éœ€ä¿®æ”¹æ–‡ä»¶åç¼€ï¼Œåœ¨ JS æ–‡ä»¶ä¸­é€šè¿‡ JSDoc è¯­æ³•æ·»åŠ ç±»å‹ï¼ˆTS èƒ½è¯†åˆ«ï¼‰ï¼Œè¿™æ˜¯æœ€ä½æˆæœ¬çš„è¿‡æ¸¡æ–¹å¼ï¼Œé€‚åˆè€é¡¹ç›®åˆæœŸã€‚ç¤ºä¾‹ï¼š <code> // JS æ–‡ä»¶ä¸­ç”¨ JSDoc æ ‡æ³¨ç±»å‹ï¼ˆTS å¯è¯†åˆ«å¹¶æä¾›ç±»å‹æç¤ºï¼‰  `` /**  `` * ä¸¤æ•°ç›¸åŠ   `` * @param {number} a - ç¬¬ä¸€ä¸ªæ•°å­—ï¼ˆå¿…ä¼ ï¼Œç±»å‹ä¸ºnumberï¼‰  `` * @param {number} b - ç¬¬äºŒä¸ªæ•°å­—ï¼ˆå¿…ä¼ ï¼Œç±»å‹ä¸ºnumberï¼‰  `` * @returns {number} ä¸¤æ•°ä¹‹å’Œï¼ˆè¿”å›å€¼ç±»å‹ä¸ºnumberï¼‰  `` */  `` function add(a, b) {  `` return a + b;  `` }  ```` /**  `` * ç”¨æˆ·ä¿¡æ¯å¯¹è±¡  `` * @typedef {Object} User  `` * @property {number} id - ç”¨æˆ·IDï¼ˆåªè¯»ï¼‰  `` * @property {string} name - ç”¨æˆ·å  `` * @property {number} age - ç”¨æˆ·å¹´é¾„  `` * @property {string} [gender] - ç”¨æˆ·æ€§åˆ«ï¼ˆå¯é€‰ï¼‰  `` */  ```` /**  `` * æ‰“å°ç”¨æˆ·ä¿¡æ¯  `` * @param {User} user - ç”¨æˆ·å¯¹è±¡ï¼ˆç¬¦åˆUserç»“æ„ï¼‰  `` */  `` function printUser(user) {  ``` console.log(</code>ID: <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">.</mi><mi>i</mi><mi>d</mi></mrow><mo separator="true">,</mo><mtext>å§“å</mtext><mo>:</mo></mrow><annotation encoding="application/x-tex">{user.id}, å§“å: </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">ser</span><span class="mord">.</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord cjk_fallback">å§“å</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span></span></span></span></span>{user.name}<code>);  ```}</code></li>
<li><strong>ç¬¬äºŒæ­¥ï¼šé‡å‘½å JS ä¸º TS æ–‡ä»¶</strong>ï¼šå°†æ ¸å¿ƒæ–‡ä»¶çš„åç¼€ä» <code>.js</code> æ”¹ä¸º <code>.ts</code>ï¼ˆReact é¡¹ç›®ä¸º <code>.tsx</code>ï¼‰ï¼Œæ­¤æ—¶ TS ä¼šè‡ªåŠ¨æ£€æŸ¥ç±»å‹é”™è¯¯ï¼Œé€æ­¥ä¿®å¤æŠ¥é”™ï¼ˆå¦‚æ·»åŠ ç¼ºå¤±çš„ç±»å‹æ³¨è§£ã€å¤„ç† any ç±»å‹ï¼‰ã€‚</li>
<li><strong>ç¬¬ä¸‰æ­¥ï¼šå¼•å…¥ç±»å‹å£°æ˜æ–‡ä»¶</strong>ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹ JS åº“æ—¶ï¼ŒTS å¯èƒ½æ‰¾ä¸åˆ°ç±»å‹å®šä¹‰ï¼Œéœ€å®‰è£…å¯¹åº”çš„ <code>@types/xxx</code> åŒ…ï¼Œæ¯”å¦‚ï¼š <code> # å®‰è£… jQuery çš„ç±»å‹å£°æ˜æ–‡ä»¶  ``npm install @types/jquery --save-dev</code></li>
<li><strong>ç¬¬å››æ­¥ï¼šå…¨é‡ TS å¼€å‘</strong>ï¼šæ–°åŠŸèƒ½ç”¨ TS å¼€å‘ï¼Œè€åŠŸèƒ½é€æ­¥è¿ç§»ï¼Œæœ€ç»ˆå®ç°å…¨é¡¹ç›® TS åŒ–ã€‚</li>
</ol>
<h3 data-id="heading-14">3. å·¥å…·è¾…åŠ©ï¼šæå‡è¿ç§»æ•ˆç‡</h3>
<ul>
<li><strong>VS Code æ’ä»¶</strong>ï¼šTypeScript Heroï¼ˆè‡ªåŠ¨ç”Ÿæˆç±»å‹æ³¨è§£ï¼‰ã€ESLintï¼ˆé…åˆ @typescript-eslint è§„èŒƒä»£ç ï¼‰ã€‚</li>
<li><strong>è‡ªåŠ¨è½¬æ¢å·¥å…·</strong>ï¼šä½¿ç”¨ <code>typescript-estree</code> æˆ–åœ¨çº¿å·¥å…·ï¼ˆå¦‚ TypeScript Convertï¼‰æ‰¹é‡å°† JS è½¬æ¢ä¸º TSï¼Œå‡å°‘æ‰‹åŠ¨ä¿®æ”¹æˆæœ¬ã€‚</li>
</ul>
<h2 data-id="heading-15">äº”ã€é¿å‘æŒ‡å—ï¼šJS å¼€å‘è€…å¸¸çŠ¯çš„ TS é”™è¯¯</h2>
<ol start="4">
<li><strong>æ»¥ç”¨ any ç±»å‹</strong>ï¼šé‡åˆ°ç±»å‹æŠ¥é”™å°±ç”¨ any ç»•è¿‡ï¼Œè¿™ä¼šè®© TS å¤±å»ç±»å‹æ£€æŸ¥çš„æ„ä¹‰ï¼Œç›¸å½“äºâ€œèŠ±é’±ä¹°äº†å®‰å…¨é”å´ä¸ç”¨â€ã€‚æ­£ç¡®åšæ³•ï¼šä¼˜å…ˆç”¨ unknown ç±»å‹æ›¿ä»£ï¼ˆéœ€é…åˆç±»å‹å®ˆå«ä½¿ç”¨ï¼‰ï¼›å®åœ¨æ— æ³•ç¡®å®šç±»å‹æ—¶ï¼Œç”¨ // @ts-ignore ä¸´æ—¶å¿½ç•¥ï¼ˆå¿…é¡»æ ‡æ³¨åŸå› ï¼Œå¦‚â€œå…¼å®¹ç¬¬ä¸‰æ–¹åº“æœªæä¾›ç±»å‹â€ï¼‰ï¼Œå¹¶åç»­è·Ÿè¿›ç±»å‹è¡¥å……ã€‚</li>
<li><strong>å¿½ç•¥â€œå¯é€‰å±æ€§å¯èƒ½ä¸º undefinedâ€</strong> ï¼šæ¥å£ä¸­å®šä¹‰çš„å¯é€‰å±æ€§ï¼ˆå¸¦ ?ï¼‰å¯èƒ½ä¸º undefinedï¼Œç›´æ¥è®¿é—®ä¼šæŠ¥é”™ã€‚è§£å†³ï¼šç”¨å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰ï¼Œæ¯”å¦‚ <code>user.gender?.length</code>ã€‚</li>
<li><strong>æ··æ·†â€œç±»å‹â€å’Œâ€œå€¼â€</strong> ï¼šTS ä¸­æœ‰æ˜ç¡®çš„â€œç±»å‹ç©ºé—´â€å’Œâ€œå€¼ç©ºé—´â€åˆ’åˆ†ã€‚<code>string</code>ã€<code>number</code> æ˜¯ç±»å‹ç©ºé—´çš„æˆå‘˜ï¼Œä»…ç”¨äºç±»å‹æ³¨è§£ï¼›<code>"hello"</code>ã€<code>123</code> æ˜¯å€¼ç©ºé—´çš„æˆå‘˜ï¼Œç”¨äºä»£ç è¿è¡Œæ—¶ï¼›<code>String</code>ã€<code>Number</code> æ˜¯å€¼ç©ºé—´çš„æ„é€ å‡½æ•°ï¼Œä¸èƒ½ç”¨äºç±»å‹æ³¨è§£ã€‚é¿å…å†™æˆ <code>let age: Number = 25</code>ï¼ˆåº”å†™ <code>let age: number = 25</code>ï¼‰ã€‚</li>
<li><strong>æ³›å‹è¿‡åº¦å¤æ‚</strong>ï¼šæ–°æ‰‹å®¹æ˜“ä¸ºäº†è¿½æ±‚â€œä¸‡èƒ½â€è€Œæ»¥ç”¨æ³›å‹ï¼Œæ¯”å¦‚ç»™ç®€å•çš„å•ç±»å‹å‡½æ•°åŠ æ³›å‹ã€‚åŸåˆ™ï¼šæ³›å‹ä»…ç”¨äºâ€œç¡®å®éœ€è¦æ”¯æŒå¤šç§ç±»å‹ä¸”ç±»å‹é—´æœ‰å…³è”â€çš„åœºæ™¯ï¼ˆå¦‚é€šç”¨ç»„ä»¶ã€å·¥å…·å‡½æ•°ï¼‰ï¼Œç®€å•åœºæ™¯ä¼˜å…ˆç”¨å…·ä½“ç±»å‹ï¼Œé¿å…ç±»å‹é€»è¾‘æ™¦æ¶©éš¾æ‡‚ã€‚</li>
<li><strong>ä¸å¼€å¯ strict æ¨¡å¼</strong>ï¼šstrict æ¨¡å¼ä¼šå¼ºåˆ¶æ£€æŸ¥ null/undefined ç­‰æ½œåœ¨é—®é¢˜ï¼Œå¾ˆå¤šäººæ€•éº»çƒ¦å…³é—­å®ƒï¼Œåè€ŒåŸ‹ä¸‹éšæ‚£ã€‚å»ºè®®æ–°é¡¹ç›®ç›´æ¥å¼€å¯ï¼Œè€é¡¹ç›®é€æ­¥é€‚é…ã€‚</li>
</ol>
<h2 data-id="heading-16">å…­ã€å­¦ä¹ èµ„æºä¸è¿›é˜¶æ–¹å‘</h2>
<p>æŒæ¡åŸºç¡€åï¼Œå¯é€šè¿‡ä»¥ä¸‹èµ„æºæ·±åŒ–å­¦ä¹ ï¼Œé¿å…åœç•™åœ¨â€œä¼šç”¨åŸºç¡€ç±»å‹â€çš„é˜¶æ®µï¼š</p>
<ul>
<li><strong>å®˜æ–¹èµ„æº</strong>ï¼šTS å®˜æ–¹æ–‡æ¡£ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2F" target="_blank" title="https://www.typescriptlang.org/docs/" ref="nofollow noopener noreferrer">www.typescriptlang.org/docs/</a>ï¼‰ï¼Œä¸­æ–‡ç‰ˆæœ¬è´¨æ¸…æ™°ï¼Œæ˜¯æœ€æƒå¨çš„èµ„æ–™ï¼›å®˜æ–¹ Playgroundï¼ˆåœ¨çº¿ç¼–å†™ TS ä»£ç ï¼Œå®æ—¶æŸ¥çœ‹ç¼–è¯‘åçš„ JSï¼‰ã€‚</li>
<li><strong>å®æˆ˜ç»ƒä¹ </strong>ï¼šå°†ä¸ªäºº JS å°é¡¹ç›®æ”¹é€ æˆ TSï¼›ç”¨ TS + Vue3/React å¼€å‘æ–°é¡¹ç›®ï¼Œé‡ç‚¹ç»ƒä¹ ç»„ä»¶ props ç±»å‹ã€çŠ¶æ€ç®¡ç†ç±»å‹ï¼ˆPinia/Redux Toolkitï¼‰ã€‚</li>
<li><strong>è¿›é˜¶çŸ¥è¯†ç‚¹</strong>ï¼šæ¡ä»¶ç±»å‹ã€æ˜ å°„ç±»å‹ï¼ˆå®ç°ç±»å‹å±‚é¢çš„â€œå¾ªç¯â€ï¼‰ã€è£…é¥°å™¨ï¼ˆTS æ”¯æŒçš„é«˜çº§è¯­æ³•ï¼Œç”¨äºå¢å¼ºç±»å’Œæ–¹æ³•ï¼‰ã€æ¨¡å—ç±»å‹ï¼ˆå¤„ç† ES æ¨¡å—å’Œ CommonJS æ¨¡å—çš„å…¼å®¹ï¼‰ã€‚</li>
<li><strong>å·¥å…·å­¦ä¹ </strong>ï¼šæŒæ¡ tsconfig.json å…¨é…ç½®ã€TS ä¸ ESLintã€Prettier çš„é…åˆã€TypeScript ç±»å‹æµ‹è¯•ï¼ˆç¡®ä¿ç±»å‹å®šä¹‰æ­£ç¡®ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-17">ä¸ƒã€æ€»ç»“</h2>
<p>JS è¿›é˜¶ TS çš„æ ¸å¿ƒï¼Œä¸æ˜¯å­¦ä¹ ä¸€å¥—å…¨æ–°çš„è¯­æ³•ï¼Œè€Œæ˜¯å»ºç«‹â€œç±»å‹æ€ç»´â€â€”â€” ä»â€œå†™ä»£ç æ—¶ä¸è€ƒè™‘ç±»å‹â€è½¬å˜ä¸ºâ€œä¸»åŠ¨ç”¨ç±»å‹çº¦æŸä¿è¯ä»£ç å®‰å…¨â€ã€‚åˆæœŸå¯èƒ½ä¼šè§‰å¾—ç±»å‹æ³¨è§£å¢åŠ äº†å·¥ä½œé‡ï¼Œä½†éšç€é¡¹ç›®è§„æ¨¡æ‰©å¤§ï¼Œä½ ä¼šå‘ç° TS å¸¦æ¥çš„â€œæå‰æ’é”™â€å’Œâ€œæ–‡æ¡£åŒ–â€ä»·å€¼ï¼Œè¿œè¶…è¿‡åˆæœŸçš„æŠ•å…¥ã€‚</p>
<p>å»ºè®®ä»â€œç»™å‡½æ•°åŠ å‚æ•°ç±»å‹â€â€œç»™å¯¹è±¡åŠ æ¥å£â€è¿™äº›å°æ­¥éª¤å¼€å§‹ï¼Œé€æ­¥ç†Ÿæ‚‰æ³›å‹ã€ç±»å‹å®ˆå«ç­‰è¿›é˜¶ç‰¹æ€§ï¼Œå†é€šè¿‡å®æˆ˜è¿ç§»å·©å›ºçŸ¥è¯†ã€‚è®°ä½ï¼šTS æ˜¯ JS å¼€å‘è€…çš„â€œå‡çº§åˆ©å™¨â€ï¼Œè€Œéâ€œè´Ÿæ‹…â€ï¼Œè¶Šæ—©æŒæ¡ï¼Œè¶Šèƒ½åœ¨å‰ç«¯å·¥ç¨‹åŒ–æµªæ½®ä¸­å æ®ä¼˜åŠ¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[python docxtplåº“å­¦ä¹ ]]></title>    <link>https://juejin.cn/post/7581545175509467188</link>    <guid>https://juejin.cn/post/7581545175509467188</guid>    <pubDate>2025-12-09T07:45:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581545175509467188" data-draft-id="7581363652780589066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="python docxtplåº“å­¦ä¹ "/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-09T07:45:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Rookie_JE"/> <meta itemprop="url" content="https://juejin.cn/user/13664671762615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            python docxtplåº“å­¦ä¹ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/13664671762615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Rookie_JE
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T07:45:53.000Z" title="Tue Dec 09 2025 07:45:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p><code>docxtpl</code>Â æ˜¯ Python ä¸­åŸºäºÂ <code>python-docx</code>Â æ‰©å±•çš„æ¨¡æ¿å¼•æ“åº“ï¼Œæ ¸å¿ƒç”¨äºæ‰¹é‡ç”Ÿæˆ Word æ–‡æ¡£ï¼ˆ.docx æ ¼å¼ï¼‰ï¼Œæ”¯æŒ Jinja2 æ¨¡æ¿è¯­æ³•ã€å¾ªç¯ / æ¡ä»¶æ¸²æŸ“ã€å›¾ç‰‡æ’å…¥ã€è¡¨æ ¼åŠ¨æ€ç”Ÿæˆç­‰æ ¸å¿ƒèƒ½åŠ›ï¼Œæ˜¯è‡ªåŠ¨åŒ–ç”ŸæˆåˆåŒã€æŠ¥è¡¨ã€æŠ¥å‘Šç­‰æ–‡æ¡£çš„é¦–é€‰å·¥å…·ã€‚</p>
</blockquote>
<h2 data-id="heading-0">1. å˜é‡æ¸²æŸ“</h2>


























<table><thead><tr><th>è¯­æ³•</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th><th/><th/></tr></thead><tbody><tr><td><code>{{ å˜é‡å }}</code></td><td>æ¸²æŸ“å•ä¸ªå˜é‡</td><td><code>{{ salary }}</code></td><td/><td/></tr><tr><td>`{{ å˜é‡</td><td>è¿‡æ»¤å™¨ }}`</td><td>å˜é‡è¿‡æ»¤ï¼ˆJinja2 å†…ç½®ï¼‰</td><td>`{{ date</td><td>dateformat('%Y-%m-%d') }}`</td></tr></tbody></table>
<h5 data-id="heading-1">å¸¸ç”¨è¿‡æ»¤å™¨</h5>
<ul>
<li><code>upper</code>/<code>lower</code>ï¼šå¤§å°å†™è½¬æ¢ â†’Â <code>{{ name|upper }}</code>ï¼›</li>
<li><code>default</code>ï¼šé»˜è®¤å€¼ â†’Â <code>{{ address|default('æœªå¡«å†™') }}</code>ï¼›</li>
<li><code>length</code>ï¼šè·å–é•¿åº¦ â†’Â <code>{{ list_data|length }}</code>ã€‚</li>
</ul>
<h3 data-id="heading-2">1.1 ç®€å•å˜é‡æ¸²æŸ“</h3>
<p><strong>ä¸¾ ä¾‹ï¼š</strong></p>
<p>æ¨¡ç‰ˆå†…å®¹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58aa598be43a4715bb7fdb07bc1d1d6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=60D2sb8yKQGwxK%2B6UeXdZ1rqjww%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">##### å˜é‡æ¸²æŸ“ #####</span>
<span class="hljs-keyword">import</span> docxtpl
<span class="hljs-keyword">from</span> docx <span class="hljs-keyword">import</span> Document
<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx</span>(<span class="hljs-params">template_file, output_file, context</span>):
    doc = docxtpl.DocxTemplate(template_file)
    content = {
        <span class="hljs-string">'name'</span>: <span class="hljs-string">'John'</span>,
        <span class="hljs-string">'age'</span>: <span class="hljs-number">30</span>,
        <span class="hljs-string">'city'</span>: <span class="hljs-string">'New York'</span>,
        <span class="hljs-string">'address'</span>: <span class="hljs-string">'123 Main St'</span>,
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    doc.render(content)
    doc.save(output_file)

render_docx(<span class="hljs-string">'tmp1.docx'</span>, <span class="hljs-string">'output.docx'</span>, {})
</code></pre>
<p>è¾“å‡ºç»“æœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b44a9b7ff7e14eb5b1c7a2ec6eec29b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=06RCv5nAvTeMt1jw9EY0%2Fb%2Bm9v0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">1.2 å­—å…¸ç±»å‹ï¼ˆç‚¹è¯­æ³• / é”®ç´¢å¼•ï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">###### ä½¿ç”¨å­—å…¸çš„æ–¹å¼è¿›è¡Œæ¸²æŸ“ ######</span>
<span class="hljs-keyword">import</span> docxtpl

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx_with_dict</span>(<span class="hljs-params">template_file, output_file, context</span>):
    pasddoc = docxtpl.DocxTemplate(template_file)
    render_context = {
        <span class="hljs-string">'test'</span>:{
            <span class="hljs-string">'t1'</span>:<span class="hljs-string">'test1'</span>,
            <span class="hljs-string">'t2'</span>:<span class="hljs-string">'test2'</span>,
            <span class="hljs-string">'t3'</span>:<span class="hljs-string">'test3'</span>
        },
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    final_context = context <span class="hljs-keyword">if</span> context <span class="hljs-keyword">else</span> render_context
    pasddoc.render(final_context)
    pasddoc.save(output_file)

render_docx_with_dict(<span class="hljs-string">'tmp2.docx'</span>, <span class="hljs-string">'output.docx'</span>, context={})
</code></pre>
<p>ä½¿ç”¨æ¨¡ç‰ˆå†…å®¹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d16d33155828463996de55792e362ec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=cFsIdtAhaNNtO31epdRw1Snvunk%3D" alt="image.png" loading="lazy"/>
ç¨‹åºè¾“å‡ºç»“æœ:</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e95b4cb646d8461786448873fbe6dea0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=R7b7YWPcOZlBIufc8unnZ07dFzI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">1.3 å¯Œæ–‡æœ¬å˜é‡æ¸²æŸ“</h3>
<p>åœ¨è¿›è¡Œå¯Œæ–‡æœ¬å˜äº†æ¸²æŸ“çš„æ—¶å€™ï¼Œæ³¨æ„ä½¿ç”¨docxtplä¸­çš„RichTextåº“è®¾ç½®å¯Œæ–‡æœ¬ï¼Œå¹¶ä¸”åœ¨æ¨¡ç‰ˆä¸­ç›¸æ¯”æ™®é€šå˜é‡çš„æ¸²æŸ“{{ variable }},éœ€è¦åœ¨æ¨¡ç‰ˆä¸­æ·»åŠ å­—æ¯"r" {{r variable }}ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">##### å¯Œæ–‡æœ¬å˜é‡æ¸²æŸ“ #####</span>
<span class="hljs-keyword">import</span> docxtpl
<span class="hljs-keyword">from</span> docxtpl <span class="hljs-keyword">import</span> DocxTemplate,RichText

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx_with_richtext</span>(<span class="hljs-params">template_file, output_file, context</span>):
    doc = DocxTemplate(template_file)
    rich_text = RichText()
    rich_text.add(<span class="hljs-string">'This is '</span>, bold=<span class="hljs-literal">True</span>)
    rich_text.add(<span class="hljs-string">'rich '</span>, italic=<span class="hljs-literal">True</span>, color=<span class="hljs-string">'FF0000'</span>)
    rich_text.add(<span class="hljs-string">'text.'</span>, underline=<span class="hljs-literal">True</span>)

    render_context = {
        <span class="hljs-string">'rich_text_var'</span>: rich_text,
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    final_context = context <span class="hljs-keyword">if</span> context <span class="hljs-keyword">else</span> render_context
    doc.render(final_context)
    doc.save(output_file)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    template_file = <span class="hljs-string">'tmp3.docx'</span>
    output_file = <span class="hljs-string">'output.docx'</span>
    context = <span class="hljs-literal">None</span>
    render_docx_with_richtext(template_file, output_file, context)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Document rendered successfully.'</span>)
</code></pre>
<p>æ¨¡ç‰ˆå’Œæ¸²æŸ“çš„ç»“æœ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f59275a9eaeb4de99926bc73d4170910~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=nKSQUZwD%2F0WGjriL2%2F1%2FehJIWZ0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">2. æ³¨é‡Š</h2>
<p>æ‰€æœ‰Â <code>{# ... #}</code>Â åŒ…è£¹çš„å†…å®¹ï¼Œåœ¨Â <code>docxtpl.render()</code>Â æ¸²æŸ“æ—¶ä¼šè¢«å®Œå…¨å¿½ç•¥ï¼Œä¸ä¼šå‡ºç°åœ¨æœ€ç»ˆçš„ Word æ–‡æ¡£ä¸­ï¼Œ<code>p/tr/tc</code>Â æ˜¯äººä¸ºçº¦å®šçš„ç±»å‹å‰ç¼€ï¼ˆé docxtpl å¼ºåˆ¶è¯­æ³•ï¼‰ï¼Œç›®çš„æ˜¯è®©æ¨¡æ¿å¼€å‘è€…å¿«é€Ÿè¯†åˆ«æ³¨é‡Šå¯¹åº”çš„ Word å…ƒç´ ï¼ˆæ¯”å¦‚çœ‹åˆ°Â <code>{#tr ...#}</code>Â å°±çŸ¥é“è¿™æ˜¯é’ˆå¯¹è¡¨æ ¼è¡Œçš„æ³¨é‡Šï¼‰ã€‚</p>
<pre><code class="hljs language-pyhton" lang="pyhton">{#p this is a comment as a paragraph #}
{#tr this is a comment as a table row #}
{#tc this is a comment as a table cell #}
</code></pre>
<h2 data-id="heading-6">3. æ–‡æœ¬æ¢è¡Œå’Œåˆå¹¶</h2>
<p>Jinja2 æ ‡ç­¾ï¼ˆå¦‚Â <code>{% ... %}</code>Â <code>{{ ... }}</code>ï¼‰é»˜è®¤ä¼šä¿ç•™æ ‡ç­¾å‰åçš„æ¢è¡Œ / ç©ºç™½å­—ç¬¦ï¼Œè€ŒÂ <code>{%-</code>Â å’ŒÂ <code>-%}</code>Â æ˜¯ã€Œç©ºç™½æ§åˆ¶ç¬¦ã€ï¼Œç”¨äºåˆå¹¶æ ‡ç­¾ä¸å‰åè¡Œçš„æ–‡æœ¬ï¼Œæ¶ˆé™¤å¤šä½™ç©ºç™½ã€‚
ä¸¾ ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">######## æ–‡æœ¬æ¢è¡Œå’Œåˆå¹¶ #######</span>
<span class="hljs-keyword">import</span> docxtpl
<span class="hljs-keyword">from</span> docx <span class="hljs-keyword">import</span> Document

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx_with_line_break</span>(<span class="hljs-params">template_file, output_file, context</span>):
    doc = docxtpl.DocxTemplate(template_file)

    <span class="hljs-comment"># åˆ›å»ºåŒ…å«æ¢è¡Œç¬¦çš„æ–‡æœ¬</span>
    multiline_text = <span class="hljs-string">"This is line 1.\nThis is line 2.\nThis is line 3."</span>

    render_context = {
        <span class="hljs-string">'multiline_var'</span>: multiline_text,
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    final_context = context <span class="hljs-keyword">if</span> context <span class="hljs-keyword">else</span> render_context
    doc.render(final_context)
    doc.save(output_file)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    template_file = <span class="hljs-string">'tmp4.docx'</span>
    output_file = <span class="hljs-string">'output.docx'</span>
    context = <span class="hljs-literal">None</span>
    render_docx_with_line_break(template_file, output_file, context)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8b5073867e64f098b468cd564f2c0ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=uKBQQToA%2BBSLahnk3IDZiORyzgc%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸Šé¢çš„æ•ˆæœä¸­å¯ä»¥çœ‹å‡ºï¼Œåˆ—è¡¨ä¸­æ¸²æŸ“çš„ç»“æœæ˜¯æ¯ä¸ªå€¼ä¹‹é—´éƒ½æ˜¯æœ‰ä¸€ä¸ªç©ºç™½è¡Œã€‚ä½¿ç”¨å»é™¤ç©ºç™½è¡Œçš„æ–¹å¼æŸ¥çœ‹ä¸€ä¸‹æ•ˆæœã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">######## æ–‡æœ¬æ¢è¡Œå’Œåˆå¹¶ #######</span>
<span class="hljs-keyword">import</span> docxtpl
<span class="hljs-keyword">from</span> docx <span class="hljs-keyword">import</span> Document

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx_with_line_break</span>(<span class="hljs-params">template_file, output_file, context</span>):
    doc = docxtpl.DocxTemplate(template_file)

    <span class="hljs-comment"># åˆ›å»ºåŒ…å«æ¢è¡Œç¬¦çš„æ–‡æœ¬</span>
    multiline_text = <span class="hljs-string">"This is line 1.\nThis is line 2.\nThis is line 3."</span>

    render_context = {
        <span class="hljs-string">'multiline_var'</span>: multiline_text,
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    final_context = context <span class="hljs-keyword">if</span> context <span class="hljs-keyword">else</span> render_context
    doc.render(final_context)
    doc.save(output_file)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    template_file = <span class="hljs-string">'tmp4.docx'</span>
    output_file = <span class="hljs-string">'output.docx'</span>
    context = <span class="hljs-literal">None</span>
    render_docx_with_line_break(template_file, output_file, context)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/759b0ce912f54ef1ab6f481e09c1ad07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=96NAAb6JQWuH7xmyY4wV%2BC7qQcg%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">######## æ–‡æœ¬æ¢è¡Œå’Œåˆå¹¶ #######</span>
<span class="hljs-keyword">import</span> docxtpl
<span class="hljs-keyword">from</span> docx <span class="hljs-keyword">import</span> Document

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx_with_line_break</span>(<span class="hljs-params">template_file, output_file, context</span>):
    doc = docxtpl.DocxTemplate(template_file)

    <span class="hljs-comment"># åˆ›å»ºåŒ…å«æ¢è¡Œç¬¦çš„æ–‡æœ¬</span>
    multiline_text = <span class="hljs-string">"This is line 1.\nThis is line 2.\nThis is line 3."</span>

    render_context = {
        <span class="hljs-string">'multiline_var'</span>: multiline_text,
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    final_context = context <span class="hljs-keyword">if</span> context <span class="hljs-keyword">else</span> render_context
    doc.render(final_context)
    doc.save(output_file)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    template_file = <span class="hljs-string">'tmp4.docx'</span>
    output_file = <span class="hljs-string">'output.docx'</span>
    context = <span class="hljs-literal">None</span>
    render_docx_with_line_break(template_file, output_file, context)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c86e7e1efbe4fa18c368a4fbca62297~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=UcDLWkkZ42bhl1CfyrS6r8hHXF4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">4. æ’å…¥è¡¨æ ¼å’Œåˆ—è¡¨</h2>
<h3 data-id="heading-8">4.1 æ’å…¥åˆ—è¡¨</h3>
<h4 data-id="heading-9">æ— åºåˆ—è¡¨</h4>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">import</span> docx
<span class="hljs-keyword">from</span> docxtpl <span class="hljs-keyword">import</span> DocxTemplate

<span class="hljs-keyword">def</span> <span class="hljs-title function_">insert_unordered_list</span>(<span class="hljs-params">docx_path, output_path, list_data</span>):
    doc = DocxTemplate(docx_path)
    render_context = {
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    }
    doc.render(render_context)
    doc.save(output_path)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    docx_path = <span class="hljs-string">'tmp5.docx'</span>
    output_path = <span class="hljs-string">'output.docx'</span>
    list_data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    insert_unordered_list(docx_path, output_path, list_data)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c200b46185554d9f8a8d79cdfa63cbbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=gl3WR%2FPsrxlqPJDemHW%2FfPHwqeA%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-10">æœ‰åºåˆ—è¡¨</h4>
<p>ä½¿ç”¨{{ loop.index }}å¯ä»¥è·å¾—å…ƒç´ çš„ç´¢å¼•å€¼ï¼Œé»˜è®¤æ˜¯ä»1å¼€å§‹è¿›è¡Œè®¡æ•°çš„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> docx
<span class="hljs-keyword">from</span> docxtpl <span class="hljs-keyword">import</span> DocxTemplate

<span class="hljs-keyword">def</span> <span class="hljs-title function_">insert_unordered_list</span>(<span class="hljs-params">docx_path, output_path, list_data</span>):
    doc = DocxTemplate(docx_path)
    render_context = {
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    }
    doc.render(render_context)
    doc.save(output_path)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    docx_path = <span class="hljs-string">'tmp5.docx'</span>
    output_path = <span class="hljs-string">'output.docx'</span>
    list_data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    insert_unordered_list(docx_path, output_path, list_data)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad062b4855d5494395eef4013ed40dd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=4a0hwIA79cOeBdQV%2Bvb5meq82%2Fs%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">4.2 æ’å…¥è¡¨æ ¼</h3>
<p>æ³¨æ„åœ¨æ¸²æŸ“è¡¨æ ¼å†…å®¹çš„æ—¶å€™ï¼Œ{%tr for %}å’Œç›´æ¥{% for %}æœ€ååœ¨è¡¨æ ¼ä¸­æ¸²æŸ“å‡ºçš„ç»“æœæ˜¯æœ‰å·®åˆ«çš„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> docxtpl

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_dynamic_row_table</span>():
    tpl = docxtpl.DocxTemplate(<span class="hljs-string">"tmp6.docx"</span>)
    context = {
        <span class="hljs-string">"emp_list"</span>: [
            {<span class="hljs-string">"name"</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"dept"</span>: <span class="hljs-string">"æŠ€æœ¯éƒ¨"</span>, <span class="hljs-string">"salary"</span>: <span class="hljs-string">"15k"</span>},
            {<span class="hljs-string">"name"</span>: <span class="hljs-string">"æå››"</span>, <span class="hljs-string">"dept"</span>: <span class="hljs-string">"å¸‚åœºéƒ¨"</span>, <span class="hljs-string">"salary"</span>: <span class="hljs-string">"12k"</span>},
            {<span class="hljs-string">"name"</span>: <span class="hljs-string">"ç‹äº”"</span>, <span class="hljs-string">"dept"</span>: <span class="hljs-string">"äººäº‹éƒ¨"</span>, <span class="hljs-string">"salary"</span>: <span class="hljs-string">"10k"</span>}
        ]
    }
    tpl.render(context)
    tpl.save(<span class="hljs-string">"table_dynamic_row_output.docx"</span>)

render_dynamic_row_table()
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22cef36aeec34f78b275eeee93077a7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=wM%2BvKuDGL3ngdYIEUGuQJwbOhWg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68911edba66747d3a596dd75abde84ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=tyIxDdJY9fCTYcNjm55PNWpQAGc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-12">5. å›¾ç‰‡æ¸²æŸ“</h2>
<p><code>docxtpl</code> ä½¿ç”¨ <code>InlineImage</code> ç±»æ¥è¡¨ç¤ºå›¾ç‰‡ã€‚ä½ å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ç±»ä¼¼ <code>{{ myimage }}</code> çš„å ä½ç¬¦ï¼Œç„¶ååœ¨ Python ä»£ç ä¸­å°†è¯¥å˜é‡æ›¿æ¢ä¸ºä¸€ä¸ª <code>InlineImage</code> å®ä¾‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">##### å›¾ç‰‡æ¸²æŸ“ #####</span>
<span class="hljs-keyword">import</span> docxtpl
<span class="hljs-keyword">from</span> docxtpl <span class="hljs-keyword">import</span> DocxTemplate, InlineImage
<span class="hljs-keyword">from</span> docx.shared <span class="hljs-keyword">import</span> Mm

<span class="hljs-keyword">def</span> <span class="hljs-title function_">render_docx_with_image</span>(<span class="hljs-params">template_file, output_file, context</span>):
    <span class="hljs-comment"># åŠ è½½æ¨¡æ¿</span>
    doc = DocxTemplate(template_file)
    image_path = <span class="hljs-string">'image.png'</span>
    render_context = {
        <span class="hljs-string">'image'</span>: InlineImage(doc, image_path,width=Mm(<span class="hljs-number">80</span>), height=Mm(<span class="hljs-number">50</span>)),
        <span class="hljs-string">'list_data'</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    }
    final_context = context <span class="hljs-keyword">if</span> context <span class="hljs-keyword">else</span> render_context
    doc.render(final_context)
    <span class="hljs-comment"># ä¿å­˜æ¸²æŸ“åçš„æ–‡æ¡£</span>
    doc.save(output_file)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    template_file = <span class="hljs-string">'tmp7.docx'</span>
    output_file = <span class="hljs-string">'output.docx'</span>
    render_docx_with_image(template_file, output_file, context=<span class="hljs-literal">None</span>)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c06d318077b64a0b9115033e28a3ef71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9va2llX0pF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765871152&amp;x-signature=5eGkZePeNsiaXgoqip8gs7Vyv6M%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´å¤åˆå¢é•¿ç‡6.2%ï¼å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿]]></title>    <link>https://juejin.cn/post/7581477397507768354</link>    <guid>https://juejin.cn/post/7581477397507768354</guid>    <pubDate>2025-12-09T06:36:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581477397507768354" data-draft-id="7581437632854949928" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´å¤åˆå¢é•¿ç‡6.2%ï¼å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:36:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´å¤åˆå¢é•¿ç‡6.2%ï¼å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:36:13.000Z" title="Tue Dec 09 2025 06:36:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ˜¯æŒ‡æ—¨åœ¨å¸®åŠ©å„ç±»ç»„ç»‡ï¼ˆåŒ…æ‹¬ä¼ä¸šã€æ”¿åºœæœºæ„ã€éè¥åˆ©ç»„ç»‡å’Œåˆåˆ›å…¬å¸ï¼‰åº”å¯¹å¤æ‚çš„å…¨çƒç›‘ç®¡ç¯å¢ƒã€ç¡®ä¿éµå®ˆè¡Œä¸šç‰¹å®šæ³•å¾‹å’Œæ”¿ç­–ï¼Œå¹¶åˆ©ç”¨æ•°æ®é©±åŠ¨çš„æ´å¯Ÿæ¥æŒ‡å¯¼æˆ˜ç•¥å†³ç­–çš„ç»¼åˆæ€§ä¸“ä¸šæœåŠ¡ã€‚è¿™äº›æœåŠ¡èåˆäº†ä¸¤å¤§æ ¸å¿ƒæ”¯æŸ±ï¼šç›‘ç®¡å’¨è¯¢ï¼ŒåŒ…æ‹¬è§£è¯»å’Œæä¾›æ³•è§„å»ºè®®ï¼ˆä¾‹å¦‚ï¼Œäº§å“å®‰å…¨æ ‡å‡†ã€ç¯å¢ƒæ³•å¾‹ã€åŒ»ç–—ä¿å¥åˆè§„ã€æ•°æ®éšç§è§„åˆ™ï¼Œå¦‚GDPRæˆ–CCPAï¼‰ï¼ŒååŠ©è·å–è®¸å¯è¯/æ‰§ç…§ï¼Œåˆ¶å®šåˆè§„æ¡†æ¶ï¼Œé™ä½ç›‘ç®¡é£é™©ï¼Œå¹¶å€¡å¯¼æœ‰åˆ©çš„æ”¿ç­–ç»“æœï¼›ä»¥åŠæˆ˜ç•¥æƒ…æŠ¥ï¼ŒåŒ…æ‹¬æ”¶é›†ã€åˆ†æå’Œæ•´åˆæœ‰å…³æ–°å…´ç›‘ç®¡è¶‹åŠ¿ã€æ”¿ç­–å˜åŒ–ã€ç«äº‰å¯¹æ‰‹åˆè§„ç­–ç•¥ã€å¸‚åœºå‡†å…¥å£å’å’Œåˆ©ç›Šç›¸å…³è€…åŠ¨æ€ï¼ˆä¾‹å¦‚ï¼Œæ”¿åºœæœºæ„ã€è¡Œä¸šåä¼šã€å…¬ä¼—èˆ†è®ºï¼‰çš„å¯æ“ä½œæ•°æ®ã€‚</p>
<p><strong>å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡è¡Œä¸šå¸‚åœºè§„æ¨¡è°ƒæŸ¥ï¼š</strong> 2025å¹´å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†4654ç™¾ä¸‡ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°6677ç™¾ä¸‡ç¾å…ƒï¼Œ2025-2031å¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º6.2%ã€‚ï¼ˆæ•°æ®æ¥æºï¼šQYResearchè°ƒç ”ä¸­å¿ƒï¼‰</p>
<p>ã€Š<strong>2025-2031å…¨çƒä¸ä¸­å›½ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿</strong>ã€‹æœ¬æ–‡ç ”ç©¶å…¨çƒåŠä¸­å›½å¸‚åœºç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ï¼Œä¾§é‡åˆ†æå…¨çƒåŠä¸­å›½å¸‚åœºçš„ä¸»è¦ä¼ä¸šï¼ŒåŒæ—¶å¯¹æ¯”åŒ—ç¾ã€æ¬§æ´²ã€ä¸­å›½ã€æ—¥æœ¬ã€ä¸œå—äºšå’Œå°åº¦ç­‰åœ°åŒºçš„ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‚</p>
<p>é‡ç‚¹åˆ†æåœ¨å…¨çƒåŠä¸­å›½æœ‰é‡è¦è§’è‰²çš„ä¼ä¸šï¼Œåˆ†æè¿™äº›ä¼ä¸šç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“çš„å¸‚åœºè§„æ¨¡ã€å¸‚åœºä»½é¢ã€å¸‚åœºå®šä½ã€äº§å“ç±»å‹ä»¥åŠå‘å±•è§„åˆ’ç­‰ã€‚å¸®åŠ©ä¼ä¸šæˆ–ä¸ªäººå‡†ç¡®ã€å…¨é¢ã€è¿…é€Ÿäº†è§£ç›®å‰ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡è¡Œä¸šå‘å±•åŠ¨å‘ã€æŠŠæ¡ä¼ä¸šæˆ˜ç•¥å‘å±•å®šä½æ–¹å‘ä¸å¯æˆ–ç¼ºçš„ä¸“ä¸šæ€§æŠ¥å‘Šã€‚</p>
<p><strong>ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æŠ¥å‘Š-æ ¸å¿ƒä¼ä¸šã€‘</strong> <strong>PPDã€ Freyr Solutionsã€ Intertekã€ IQVIAã€ Clarivateã€ Arrielloã€ ICONã€ Syneos Healthã€ SCR Consultingã€ Deloitteã€ Vistaarã€ Vigilareã€ LFH Regulatoryã€ Labcorpã€ Citelineã€ Ergomedã€ PwCã€ Parexelã€ InfoDeskã€ Cullen Internationalã€ Qinecsaã€ Armanino</strong></p>
<p><strong>ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æŠ¥å‘Š-äº§å“ç±»å‹ã€‘</strong> ï¼š<strong>æ³•è§„åˆè§„å’¨è¯¢ã€ æˆ˜ç•¥æ”¿ç­–æƒ…æŠ¥ã€ ç›‘ç®¡é£é™©ç¼“è§£å’¨è¯¢ã€ å…¶ä»–</strong></p>
<p><strong>ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æŠ¥å‘Š-åº”ç”¨é¢†åŸŸã€‘</strong> ï¼š<strong>åˆ¶è¯ä¸åŒ»ç–—ä¿å¥ã€ é‡‘èæœåŠ¡ä¸é‡‘èç§‘æŠ€ã€ åˆ¶é€ ä¸šä¸å·¥ä¸šã€ å…¶ä»–</strong></p>
<p>1 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºæ¦‚è¿°<br/>
1.1 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºæ¦‚è¿°<br/>
1.2 ä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡åˆ†æ<br/>
1.2.1 æ³•è§„åˆè§„å’¨è¯¢<br/>
1.2.2 æˆ˜ç•¥æ”¿ç­–æƒ…æŠ¥<br/>
1.2.3 ç›‘ç®¡é£é™©ç¼“è§£å’¨è¯¢<br/>
1.2.4 å…¶ä»–<br/>
1.2.5 å…¨çƒå¸‚åœºä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.2.6 å…¨çƒä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.2.6.1 å…¨çƒä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.2.6.2 å…¨çƒä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.2.7 ä¸­å›½ä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.2.7.1 ä¸­å›½ä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.2.7.2 ä¸­å›½ä¸åŒäº§å“ç±»å‹ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.3 ä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡åˆ†æ<br/>
1.3.1 åŸºäºé¡¾é—®è´¹çš„æœåŠ¡<br/>
1.3.2 åŸºäºé¡¹ç›®çš„å’¨è¯¢<br/>
1.3.3 å…¶ä»–<br/>
1.3.4 å…¨çƒå¸‚åœºä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.3.5 å…¨çƒä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.3.5.1 å…¨çƒä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.3.5.2 å…¨çƒä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.3.6 ä¸­å›½ä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.3.6.1 ä¸­å›½ä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.3.6.2 ä¸­å›½ä¸åŒæœåŠ¡äº¤ä»˜æ¨¡å¼ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.4 ä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡åˆ†æ<br/>
1.4.1 å…¨çƒç›‘ç®¡æœåŠ¡<br/>
1.4.2 åŒºåŸŸ/å›½å®¶ç›‘ç®¡æœåŠ¡<br/>
1.4.3 å…¶ä»–<br/>
1.4.4 å…¨çƒå¸‚åœºä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.4.5 å…¨çƒä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.4.5.1 å…¨çƒä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.4.5.2 å…¨çƒä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.4.6 ä¸­å›½ä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.4.6.1 ä¸­å›½ä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.4.6.2 ä¸­å›½ä¸åŒç›‘ç®¡èŒƒå›´ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
2 ä¸åŒåº”ç”¨åˆ†æ<br/>
2.1 ä»ä¸åŒåº”ç”¨ï¼Œç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢<br/>
2.1.1 åˆ¶è¯ä¸åŒ»ç–—ä¿å¥<br/>
2.1.2 é‡‘èæœåŠ¡ä¸é‡‘èç§‘æŠ€<br/>
2.1.3 åˆ¶é€ ä¸šä¸å·¥ä¸š<br/>
2.1.4 å…¶ä»–<br/>
2.2 å…¨çƒå¸‚åœºä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
2.3 å…¨çƒä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.3.1 å…¨çƒä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
2.3.2 å…¨çƒä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
2.4 ä¸­å›½ä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.4.1 ä¸­å›½ä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
2.4.2 ä¸­å›½ä¸åŒåº”ç”¨ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3 å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡ä¸»è¦åœ°åŒºåˆ†æ<br/>
3.1 å…¨çƒä¸»è¦åœ°åŒºç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºè§„æ¨¡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.1.1 å…¨çƒä¸»è¦åœ°åŒºç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.1.2 å…¨çƒä¸»è¦åœ°åŒºç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠä»½é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3.2 åŒ—ç¾ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.3 æ¬§æ´²ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.4 ä¸­å›½ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.5 æ—¥æœ¬ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.6 ä¸œå—äºšç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.7 å°åº¦ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
4 å…¨çƒä¸»è¦ä¼ä¸šå¸‚åœºå æœ‰ç‡<br/>
4.1 å…¨çƒä¸»è¦ä¼ä¸šç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢<br/>
4.2 å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡ä¸»è¦ä¼ä¸šç«äº‰æ€åŠ¿<br/>
4.2.1 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡è¡Œä¸šé›†ä¸­åº¦åˆ†æï¼š2024å¹´å…¨çƒTop 5å‚å•†å¸‚åœºä»½é¢<br/>
4.2.2 å…¨çƒç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡ç¬¬ä¸€æ¢¯é˜Ÿã€ç¬¬äºŒæ¢¯é˜Ÿå’Œç¬¬ä¸‰æ¢¯é˜Ÿä¼ä¸šåŠå¸‚åœºä»½é¢<br/>
4.3 2024å¹´å…¨çƒä¸»è¦å‚å•†ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥æ’å<br/>
4.4 å…¨çƒä¸»è¦å‚å•†ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ€»éƒ¨åŠå¸‚åœºåŒºåŸŸåˆ†å¸ƒ<br/>
4.5 å…¨çƒä¸»è¦å‚å•†ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“ç±»å‹åŠåº”ç”¨<br/>
4.6 å…¨çƒä¸»è¦å‚å•†ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å•†ä¸šåŒ–æ—¥æœŸ<br/>
4.7 æ–°å¢æŠ•èµ„åŠå¸‚åœºå¹¶è´­æ´»åŠ¨<br/>
4.8 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å…¨çƒé¢†å…ˆä¼ä¸šSWOTåˆ†æ<br/>
5 ä¸­å›½å¸‚åœºç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡ä¸»è¦ä¼ä¸šåˆ†æ<br/>
5.1 ä¸­å›½ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
5.2 ä¸­å›½ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡Top 3å’ŒTop 5ä¼ä¸šå¸‚åœºä»½é¢<br/>
6 ä¸»è¦ä¼ä¸šç®€ä»‹<br/>
6.1 PPD<br/>
6.1.1 PPDå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.1.2 PPD ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.1.3 PPD ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.1.4 PPDå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.1.5 PPDä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.2 Freyr Solutions<br/>
6.2.1 Freyr Solutionså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.2.2 Freyr Solutions ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.2.3 Freyr Solutions ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.2.4 Freyr Solutionså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.2.5 Freyr Solutionsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.3 Intertek<br/>
6.3.1 Intertekå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.3.2 Intertek ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.3.3 Intertek ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.3.4 Intertekå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.3.5 Intertekä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.4 IQVIA<br/>
6.4.1 IQVIAå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.4.2 IQVIA ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.4.3 IQVIA ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.4.4 IQVIAå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.5 Clarivate<br/>
6.5.1 Clarivateå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.5.2 Clarivate ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.5.3 Clarivate ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.5.4 Clarivateå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.5.5 Clarivateä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.6 Arriello<br/>
6.6.1 Arrielloå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.6.2 Arriello ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.6.3 Arriello ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.6.4 Arrielloå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.6.5 Arrielloä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.7 ICON<br/>
6.7.1 ICONå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.7.2 ICON ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.7.3 ICON ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.7.4 ICONå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.7.5 ICONä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.8 Syneos Health<br/>
6.8.1 Syneos Healthå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.8.2 Syneos Health ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.8.3 Syneos Health ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.8.4 Syneos Healthå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.8.5 Syneos Healthä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.9 SCR Consulting<br/>
6.9.1 SCR Consultingå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.9.2 SCR Consulting ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.9.3 SCR Consulting ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.9.4 SCR Consultingå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.9.5 SCR Consultingä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.10 Deloitte<br/>
6.10.1 Deloitteå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.10.2 Deloitte ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.10.3 Deloitte ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.10.4 Deloitteå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.10.5 Deloitteä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.11 Vistaar<br/>
6.11.1 Vistaarå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.11.2 Vistaar ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.11.3 Vistaar ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.11.4 Vistaarå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.11.5 Vistaarä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.12 Vigilare<br/>
6.12.1 Vigilareå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.12.2 Vigilare ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.12.3 Vigilare ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.12.4 Vigilareå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.12.5 Vigilareä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.13 LFH Regulatory<br/>
6.13.1 LFH Regulatoryå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.13.2 LFH Regulatory ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.13.3 LFH Regulatory ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.13.4 LFH Regulatoryå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.13.5 LFH Regulatoryä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.14 Labcorp<br/>
6.14.1 Labcorpå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.14.2 Labcorp ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.14.3 Labcorp ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.14.4 Labcorpå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.14.5 Labcorpä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.15 Citeline<br/>
6.15.1 Citelineå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.15.2 Citeline ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.15.3 Citeline ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.15.4 Citelineå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.15.5 Citelineä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.16 Ergomed<br/>
6.16.1 Ergomedå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.16.2 Ergomed ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.16.3 Ergomed ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.16.4 Ergomedå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.16.5 Ergomedä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.17 PwC<br/>
6.17.1 PwCå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.17.2 PwC ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.17.3 PwC ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.17.4 PwCå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.17.5 PwCä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.18 Parexel<br/>
6.18.1 Parexelå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.18.2 Parexel ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.18.3 Parexel ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.18.4 Parexelå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.18.5 Parexelä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.19 InfoDesk<br/>
6.19.1 InfoDeskå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.19.2 InfoDesk ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.19.3 InfoDesk ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.19.4 InfoDeskå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.19.5 InfoDeskä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.20 Cullen International<br/>
6.20.1 Cullen Internationalå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.20.2 Cullen International ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.20.3 Cullen International ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.20.4 Cullen Internationalå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.20.5 Cullen Internationalä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.21 Qinecsa<br/>
6.21.1 Qinecsaå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.21.2 Qinecsa ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.21.3 Qinecsa ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.21.4 Qinecsaå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.21.5 Qinecsaä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.22 Armanino<br/>
6.22.1 Armaninoå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.22.2 Armanino ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.22.3 Armanino ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.22.4 Armaninoå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.22.5 Armaninoä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
7 è¡Œä¸šå‘å±•æœºé‡å’Œé£é™©åˆ†æ<br/>
7.1 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡è¡Œä¸šå‘å±•æœºé‡åŠä¸»è¦é©±åŠ¨å› ç´ <br/>
7.2 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡è¡Œä¸šå‘å±•é¢ä¸´çš„é£é™©<br/>
7.3 ç›‘ç®¡å’¨è¯¢å’Œæˆ˜ç•¥æƒ…æŠ¥æœåŠ¡è¡Œä¸šæ”¿ç­–åˆ†æ<br/>
8 ç ”ç©¶ç»“æœ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´å¤åˆå¢é•¿ç‡9.2%ï¼å…¨çƒçº¢å¤–æœºå™¨è§†è§‰å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿]]></title>    <link>https://juejin.cn/post/7581545175508860980</link>    <guid>https://juejin.cn/post/7581545175508860980</guid>    <pubDate>2025-12-09T06:37:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581545175508860980" data-draft-id="7581437632854966312" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´å¤åˆå¢é•¿ç‡9.2%ï¼å…¨çƒçº¢å¤–æœºå™¨è§†è§‰å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:37:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´å¤åˆå¢é•¿ç‡9.2%ï¼å…¨çƒçº¢å¤–æœºå™¨è§†è§‰å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:37:15.000Z" title="Tue Dec 09 2025 06:37:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>çº¢å¤–æœºå™¨è§†è§‰æ˜¯æŒ‡åˆ©ç”¨è¿‘çº¢å¤–ã€çŸ­æ³¢çº¢å¤–ã€ä¸­æ³¢çº¢å¤–æˆ–çƒ­æˆåƒç­‰çº¢å¤–æˆåƒæŠ€æœ¯ï¼Œå®ç°è‡ªåŠ¨åŒ–è§†è§‰æ£€æµ‹ã€è¯†åˆ«ã€æµ‹é‡å’Œç›‘æ§çš„æŠ€æœ¯ä½“ç³»ï¼Œç‰¹åˆ«é€‚ç”¨äºå¯è§å…‰æ— æ³•æœ‰æ•ˆæˆåƒçš„ç¯å¢ƒï¼Œå¦‚çƒ­åˆ†å¸ƒåˆ†æã€ææ–™é€è§†ã€ç¼ºé™·æ£€æµ‹ä»¥åŠå¼±å…‰/æ— å…‰åœºæ™¯ç­‰ã€‚<br/>
ä¸Šæ¸¸ä¸»è¦åŒ…æ‹¬çº¢å¤–ä¼ æ„Ÿå™¨ã€çº¢å¤–æ¢æµ‹å™¨ï¼ˆå¦‚ InGaAsã€VOxã€HgCdTeï¼‰ã€å…‰å­¦é•œå¤´ã€ä¸“ç”¨å…‰æºä»¥åŠåŠå¯¼ä½“åŠ å·¥ææ–™ï¼Œä¸ºçº¢å¤–æˆåƒæä¾›æ ¸å¿ƒæŠ€æœ¯åŸºç¡€ã€‚ä¸­æ¸¸ç”±çº¢å¤–ç›¸æœºåˆ¶é€ å•†ã€æœºå™¨è§†è§‰è§£å†³æ–¹æ¡ˆä¾›åº”å•†å’Œç³»ç»Ÿé›†æˆå•†æ„æˆï¼Œè´Ÿè´£ç»„è£…å’Œäº¤ä»˜å®Œæ•´çš„æˆåƒç³»ç»Ÿã€‚ä¸‹æ¸¸åº”ç”¨è¦†ç›–å·¥ä¸šæ£€æµ‹ã€åŠå¯¼ä½“åˆ¶é€ ã€æ±½è½¦ç”µå­ã€å®‰é˜²ç›‘æ§ã€é£Ÿå“åˆ†é€‰åŠåŒ»å­¦è¯Šæ–­ç­‰é¢†åŸŸï¼Œå½¢æˆå¤šå…ƒåŒ–çš„éœ€æ±‚ä½“ç³»ã€‚</p>
<p><strong>å…¨çƒçº¢å¤–æœºå™¨è§†è§‰è¡Œä¸šå¸‚åœºè§„æ¨¡è°ƒæŸ¥ï¼š</strong> 2025å¹´å…¨çƒçº¢å¤–æœºå™¨è§†è§‰å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†566ç™¾ä¸‡ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°959ç™¾ä¸‡ç¾å…ƒï¼Œ2025-2031å¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º9.2%ã€‚ï¼ˆæ•°æ®æ¥æºï¼šQYResearchè°ƒç ”ä¸­å¿ƒï¼‰<br/>
ã€Š<strong>2025-2031å…¨çƒä¸ä¸­å›½çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿</strong>ã€‹æœ¬æ–‡ç ”ç©¶å…¨çƒåŠä¸­å›½å¸‚åœºçº¢å¤–æœºå™¨è§†è§‰ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ï¼Œä¾§é‡åˆ†æå…¨çƒåŠä¸­å›½å¸‚åœºçš„ä¸»è¦ä¼ä¸šï¼ŒåŒæ—¶å¯¹æ¯”åŒ—ç¾ã€æ¬§æ´²ã€ä¸­å›½ã€æ—¥æœ¬ã€ä¸œå—äºšå’Œå°åº¦ç­‰åœ°åŒºçš„ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‚</p>
<p>é‡ç‚¹åˆ†æåœ¨å…¨çƒåŠä¸­å›½æœ‰é‡è¦è§’è‰²çš„ä¼ä¸šï¼Œåˆ†æè¿™äº›ä¼ä¸šçº¢å¤–æœºå™¨è§†è§‰äº§å“çš„å¸‚åœºè§„æ¨¡ã€å¸‚åœºä»½é¢ã€å¸‚åœºå®šä½ã€äº§å“ç±»å‹ä»¥åŠå‘å±•è§„åˆ’ç­‰ã€‚å¸®åŠ©ä¼ä¸šæˆ–ä¸ªäººå‡†ç¡®ã€å…¨é¢ã€è¿…é€Ÿäº†è§£ç›®å‰çº¢å¤–æœºå™¨è§†è§‰è¡Œä¸šå‘å±•åŠ¨å‘ã€æŠŠæ¡ä¼ä¸šæˆ˜ç•¥å‘å±•å®šä½æ–¹å‘ä¸å¯æˆ–ç¼ºçš„ä¸“ä¸šæ€§æŠ¥å‘Šã€‚</p>
<p><strong>ã€çº¢å¤–æœºå™¨è§†è§‰æŠ¥å‘Š-æ ¸å¿ƒä¼ä¸šã€‘</strong> <strong>Teledyneã€ Allied Vision Technologies GmbHã€ SWIR Vision Systemsã€ Basler AGã€ Sierra-Olympia Techã€ LUCID Vision Labs Inc.ã€ JAIã€ SVS-Vistekã€ New Imaging Technologiesã€ Balluff Incã€ Photonã€ First Light Imagingã€ ProPhotonix</strong></p>
<p><strong>ã€çº¢å¤–æœºå™¨è§†è§‰æŠ¥å‘Š-äº§å“ç±»å‹ã€‘</strong> ï¼š<strong>è®¾å¤‡ã€ è§£å†³æ–¹æ¡ˆ</strong></p>
<p><strong>ã€çº¢å¤–æœºå™¨è§†è§‰æŠ¥å‘Š-åº”ç”¨é¢†åŸŸã€‘</strong> ï¼š<strong>å·¥ä¸šæ£€éªŒã€ è´¨é‡æ§åˆ¶ã€ åŒ»ç–—ã€ ç¯å¢ƒç›‘æµ‹</strong></p>
<p>1 çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºæ¦‚è¿°<br/>
1.1 çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºæ¦‚è¿°<br/>
1.2 ä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰åˆ†æ<br/>
1.2.1 è®¾å¤‡<br/>
1.2.2 è§£å†³æ–¹æ¡ˆ<br/>
1.2.3 å…¨çƒå¸‚åœºä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.2.4 å…¨çƒä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.2.4.1 å…¨çƒä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.2.4.2 å…¨çƒä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.2.5 ä¸­å›½ä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.2.5.1 ä¸­å›½ä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.2.5.2 ä¸­å›½ä¸åŒäº§å“ç±»å‹çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.3 ä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰åˆ†æ<br/>
1.3.1 è¿‘çº¢å¤–<br/>
1.3.2 çŸ­æ³¢çº¢å¤–<br/>
1.3.3 å…¨çƒå¸‚åœºä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.3.4 å…¨çƒä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.3.4.1 å…¨çƒä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.3.4.2 å…¨çƒä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.3.5 ä¸­å›½ä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.3.5.1 ä¸­å›½ä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.3.5.2 ä¸­å›½ä¸åŒå…‰è°±åŒºé—´çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.4 ä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰åˆ†æ<br/>
1.4.1 çƒ­æˆåƒ<br/>
1.4.2 ä¸»åŠ¨çº¢å¤–æˆåƒ<br/>
1.4.3 å…¨çƒå¸‚åœºä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.4.4 å…¨çƒä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.4.4.1 å…¨çƒä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.4.4.2 å…¨çƒä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.4.5 ä¸­å›½ä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.4.5.1 ä¸­å›½ä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.4.5.2 ä¸­å›½ä¸åŒæˆåƒæœºåˆ¶çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.5 ä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰åˆ†æ<br/>
1.5.1 çº¢å¤–ç›¸æœº<br/>
1.5.2 çº¢å¤–æœºå™¨è§†è§‰ç³»ç»Ÿ<br/>
1.5.3 å…¨çƒå¸‚åœºä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.5.4 å…¨çƒä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.5.4.1 å…¨çƒä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.5.4.2 å…¨çƒä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.5.5 ä¸­å›½ä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.5.5.1 ä¸­å›½ä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.5.5.2 ä¸­å›½ä¸åŒç³»ç»Ÿæ„æˆçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
2 ä¸åŒåº”ç”¨åˆ†æ<br/>
2.1 ä»ä¸åŒåº”ç”¨ï¼Œçº¢å¤–æœºå™¨è§†è§‰ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢<br/>
2.1.1 å·¥ä¸šæ£€éªŒ<br/>
2.1.2 è´¨é‡æ§åˆ¶<br/>
2.1.3 åŒ»ç–—<br/>
2.1.4 ç¯å¢ƒç›‘æµ‹<br/>
2.2 å…¨çƒå¸‚åœºä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
2.3 å…¨çƒä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.3.1 å…¨çƒä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
2.3.2 å…¨çƒä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
2.4 ä¸­å›½ä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.4.1 ä¸­å›½ä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
2.4.2 ä¸­å›½ä¸åŒåº”ç”¨çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3 å…¨çƒçº¢å¤–æœºå™¨è§†è§‰ä¸»è¦åœ°åŒºåˆ†æ<br/>
3.1 å…¨çƒä¸»è¦åœ°åŒºçº¢å¤–æœºå™¨è§†è§‰å¸‚åœºè§„æ¨¡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.1.1 å…¨çƒä¸»è¦åœ°åŒºçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.1.2 å…¨çƒä¸»è¦åœ°åŒºçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠä»½é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3.2 åŒ—ç¾çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.3 æ¬§æ´²çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.4 ä¸­å›½çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.5 æ—¥æœ¬çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.6 ä¸œå—äºšçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.7 å°åº¦çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
4 å…¨çƒä¸»è¦ä¼ä¸šå¸‚åœºå æœ‰ç‡<br/>
4.1 å…¨çƒä¸»è¦ä¼ä¸šçº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢<br/>
4.2 å…¨çƒçº¢å¤–æœºå™¨è§†è§‰ä¸»è¦ä¼ä¸šç«äº‰æ€åŠ¿<br/>
4.2.1 çº¢å¤–æœºå™¨è§†è§‰è¡Œä¸šé›†ä¸­åº¦åˆ†æï¼š2024å¹´å…¨çƒTop 5å‚å•†å¸‚åœºä»½é¢<br/>
4.2.2 å…¨çƒçº¢å¤–æœºå™¨è§†è§‰ç¬¬ä¸€æ¢¯é˜Ÿã€ç¬¬äºŒæ¢¯é˜Ÿå’Œç¬¬ä¸‰æ¢¯é˜Ÿä¼ä¸šåŠå¸‚åœºä»½é¢<br/>
4.3 2024å¹´å…¨çƒä¸»è¦å‚å•†çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥æ’å<br/>
4.4 å…¨çƒä¸»è¦å‚å•†çº¢å¤–æœºå™¨è§†è§‰æ€»éƒ¨åŠå¸‚åœºåŒºåŸŸåˆ†å¸ƒ<br/>
4.5 å…¨çƒä¸»è¦å‚å•†çº¢å¤–æœºå™¨è§†è§‰äº§å“ç±»å‹åŠåº”ç”¨<br/>
4.6 å…¨çƒä¸»è¦å‚å•†çº¢å¤–æœºå™¨è§†è§‰å•†ä¸šåŒ–æ—¥æœŸ<br/>
4.7 æ–°å¢æŠ•èµ„åŠå¸‚åœºå¹¶è´­æ´»åŠ¨<br/>
4.8 çº¢å¤–æœºå™¨è§†è§‰å…¨çƒé¢†å…ˆä¼ä¸šSWOTåˆ†æ<br/>
5 ä¸­å›½å¸‚åœºçº¢å¤–æœºå™¨è§†è§‰ä¸»è¦ä¼ä¸šåˆ†æ<br/>
5.1 ä¸­å›½çº¢å¤–æœºå™¨è§†è§‰é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
5.2 ä¸­å›½çº¢å¤–æœºå™¨è§†è§‰Top 3å’ŒTop 5ä¼ä¸šå¸‚åœºä»½é¢<br/>
6 ä¸»è¦ä¼ä¸šç®€ä»‹<br/>
6.1 Teledyne<br/>
6.1.1 Teledyneå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.1.2 Teledyne çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.1.3 Teledyne çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.1.4 Teledyneå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.1.5 Teledyneä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.2 Allied Vision Technologies GmbH<br/>
6.2.1 Allied Vision Technologies GmbHå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.2.2 Allied Vision Technologies GmbH çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.2.3 Allied Vision Technologies GmbH çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.2.4 Allied Vision Technologies GmbHå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.2.5 Allied Vision Technologies GmbHä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.3 SWIR Vision Systems<br/>
6.3.1 SWIR Vision Systemså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.3.2 SWIR Vision Systems çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.3.3 SWIR Vision Systems çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.3.4 SWIR Vision Systemså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.3.5 SWIR Vision Systemsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.4 Basler AG<br/>
6.4.1 Basler AGå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.4.2 Basler AG çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.4.3 Basler AG çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.4.4 Basler AGå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.5 Sierra-Olympia Tech<br/>
6.5.1 Sierra-Olympia Techå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.5.2 Sierra-Olympia Tech çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.5.3 Sierra-Olympia Tech çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.5.4 Sierra-Olympia Techå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.5.5 Sierra-Olympia Techä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.6 LUCID Vision Labs Inc.<br/>
6.6.1 LUCID Vision Labs Inc.å…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.6.2 LUCID Vision Labs Inc. çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.6.3 LUCID Vision Labs Inc. çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.6.4 LUCID Vision Labs Inc.å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.6.5 LUCID Vision Labs Inc.ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.7 JAI<br/>
6.7.1 JAIå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.7.2 JAI çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.7.3 JAI çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.7.4 JAIå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.7.5 JAIä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.8 SVS-Vistek<br/>
6.8.1 SVS-Vistekå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.8.2 SVS-Vistek çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.8.3 SVS-Vistek çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.8.4 SVS-Vistekå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.8.5 SVS-Vistekä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.9 New Imaging Technologies<br/>
6.9.1 New Imaging Technologieså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.9.2 New Imaging Technologies çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.9.3 New Imaging Technologies çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.9.4 New Imaging Technologieså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.9.5 New Imaging Technologiesä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.10 Balluff Inc<br/>
6.10.1 Balluff Incå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.10.2 Balluff Inc çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.10.3 Balluff Inc çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.10.4 Balluff Incå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.10.5 Balluff Incä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.11 Photon<br/>
6.11.1 Photonå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.11.2 Photon çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.11.3 Photon çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.11.4 Photonå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.11.5 Photonä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.12 First Light Imaging<br/>
6.12.1 First Light Imagingå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.12.2 First Light Imaging çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.12.3 First Light Imaging çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.12.4 First Light Imagingå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.12.5 First Light Imagingä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.13 ProPhotonix<br/>
6.13.1 ProPhotonixå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€çº¢å¤–æœºå™¨è§†è§‰å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.13.2 ProPhotonix çº¢å¤–æœºå™¨è§†è§‰äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.13.3 ProPhotonix çº¢å¤–æœºå™¨è§†è§‰æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.13.4 ProPhotonixå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.13.5 ProPhotonixä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
7 è¡Œä¸šå‘å±•æœºé‡å’Œé£é™©åˆ†æ<br/>
7.1 çº¢å¤–æœºå™¨è§†è§‰è¡Œä¸šå‘å±•æœºé‡åŠä¸»è¦é©±åŠ¨å› ç´ <br/>
7.2 çº¢å¤–æœºå™¨è§†è§‰è¡Œä¸šå‘å±•é¢ä¸´çš„é£é™©<br/>
7.3 çº¢å¤–æœºå™¨è§†è§‰è¡Œä¸šæ”¿ç­–åˆ†æ<br/>
8 ç ”ç©¶ç»“æœ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.js 16 è‡ªå®šä¹‰ SVG Icon ç»„ä»¶å®ç°æ–¹æ¡ˆ ğŸ¨]]></title>    <link>https://juejin.cn/post/7581324707481796649</link>    <guid>https://juejin.cn/post/7581324707481796649</guid>    <pubDate>2025-12-09T06:09:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581324707481796649" data-draft-id="7581408984415944723" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Next.js 16 è‡ªå®šä¹‰ SVG Icon ç»„ä»¶å®ç°æ–¹æ¡ˆ ğŸ¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T06:09:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dorisrv"/> <meta itemprop="url" content="https://juejin.cn/user/1522178380270712"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Next.js 16 è‡ªå®šä¹‰ SVG Icon ç»„ä»¶å®ç°æ–¹æ¡ˆ ğŸ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1522178380270712/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dorisrv
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:09:10.000Z" title="Tue Dec 09 2025 06:09:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Next.js 16 è‡ªå®šä¹‰ SVG Icon ç»„ä»¶å®ç°æ–¹æ¡ˆ ğŸ¨</h2>
<p>åœ¨ç°ä»£Webåº”ç”¨ä¸­ï¼ŒSVGå›¾æ ‡å·²æˆä¸ºæå‡ç”¨æˆ·ç•Œé¢è´¨é‡çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Next.js 16é¡¹ç›®ä¸­å®ç°ä¸€ä¸ªé«˜æ€§èƒ½ã€å¯å¤ç”¨çš„è‡ªå®šä¹‰SVG Iconç»„ä»¶ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œç±»å‹å®‰å…¨ã€‚</p>
<h3 data-id="heading-1">ç›®å½•ç»“æ„</h3>
<p>æœ¬é¡¹ç›®çš„SVG IconåŠŸèƒ½æ¶‰åŠä»¥ä¸‹æ ¸å¿ƒæ–‡ä»¶å’Œç›®å½•ï¼š</p>
<pre><code class="hljs language-python" lang="python">src/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ icons/               <span class="hljs-comment"># åŸå§‹SVGå›¾æ ‡æ–‡ä»¶</span>
â””â”€â”€ components/
    â””â”€â”€ Icon/
        â”œâ”€â”€ icons/           <span class="hljs-comment"># æ‰€æœ‰SVGå›¾æ ‡Reactç»„ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰</span>
        â”‚   â””â”€â”€ Logo.tsx     <span class="hljs-comment"># Logo SVGç»„ä»¶</span>
        â”œâ”€â”€ index.tsx        <span class="hljs-comment"># ä¸»Iconç»„ä»¶</span>
        â”œâ”€â”€ constants.ts     <span class="hljs-comment"># å›¾æ ‡è·¯å¾„é…ç½®</span>
        â”œâ”€â”€ <span class="hljs-built_in">type</span>.d.ts        <span class="hljs-comment"># ç±»å‹å®šä¹‰</span>
</code></pre>
<h3 data-id="heading-2">æ ¸å¿ƒå®ç°</h3>
<h4 data-id="heading-3">1. åŸå§‹SVGæ–‡ä»¶ç®¡ç†</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†åŸå§‹SVGå›¾æ ‡æ–‡ä»¶æ”¾ç½®åœ¨æŒ‡å®šç›®å½•ä¸­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸå§‹SVGæ–‡ä»¶å­˜æ”¾ä½ç½®</span>
src/assets/icons/
</code></pre>
<p>ä¾‹å¦‚ï¼Œå°†logo.svgæ–‡ä»¶æ”¾ç½®åœ¨æ­¤ç›®å½•ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/assets/icons/logo.svg
</code></pre>
<h4 data-id="heading-4">2. è‡ªåŠ¨åŒ–SVGè½¬æ¢å·¥å…·</h4>
<p>ä¸ºäº†å°†SVGæ–‡ä»¶è½¬æ¢ä¸ºReactç»„ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Freact-svgr.com%2F" target="_blank" title="https://react-svgr.com/" ref="nofollow noopener noreferrer">SVGR</a>å·¥å…·ï¼Œå®ƒå¯ä»¥å°†SVGæ–‡ä»¶è‡ªåŠ¨è½¬æ¢ä¸ºReactç»„ä»¶ï¼Œå¹¶æ”¯æŒTypeScriptã€‚</p>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè‡ªåŠ¨å°†SVGæ–‡ä»¶è½¬æ¢ä¸ºReactç»„ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx svgr --typescript --ext=tsx  --out-dir src/components/Icon/icons src/assets/icons
</code></pre>
<p>æ‰§è¡Œåï¼Œä¼šåœ¨<code>src/components/Icon/icons/</code>ç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„Reactç»„ä»¶ï¼ˆå¦‚<code>Logo.tsx</code>ï¼‰ã€‚</p>
<h4 data-id="heading-5">3. ç±»å‹å®šä¹‰</h4>
<p>åœ¨<code>type.d.ts</code>ä¸­å®šä¹‰Iconç»„ä»¶çš„ç±»å‹ï¼Œç¡®ä¿ç±»å‹å®‰å…¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/Icon/type.d.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { iconPaths } <span class="hljs-keyword">from</span> <span class="hljs-string">'./constants'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IconNameType</span> = keyof <span class="hljs-keyword">typeof</span> iconPaths;
</code></pre>
<h4 data-id="heading-6">4. å›¾æ ‡è·¯å¾„é…ç½®</h4>
<p>åœ¨<code>constants.ts</code>ä¸­é…ç½®æ‰€æœ‰å¯ç”¨çš„å›¾æ ‡è·¯å¾„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/Icon/constants.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> iconPaths = {
  <span class="hljs-attr">logo</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./icons/Logo'</span>),
};
</code></pre>
<h4 data-id="heading-7">5. SVGå›¾æ ‡ç»„ä»¶</h4>
<p>è‡ªåŠ¨ç”Ÿæˆçš„SVGå›¾æ ‡ç»„ä»¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/Icon/icons/Logo.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Logo</span> = (<span class="hljs-params">props: React.SVGProps&lt;SVGSVGElement&gt;</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{582}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{582}</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 582 582"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> {<span class="hljs-attr">...props</span>}&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rect</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{582}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{582}</span> <span class="hljs-attr">rx</span>=<span class="hljs-string">{291}</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"url(#paint0_linear)"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">path</span>
      <span class="hljs-attr">d</span>=<span class="hljs-string">"M157.521 303.421l198.36-196.995c3.706-3.68 9.669.799 7.168 5.383L289.22 247.123c-1.647 3.018.538 6.698 3.976 6.698h127.586c4.11 0 6.095 5.036 3.09 7.84L200.293 470.326c-4.009 3.741-9.976-1.53-6.757-5.97l105.837-146.005c2.17-2.994.031-7.187-3.667-7.187H160.713c-4.043 0-6.06-4.894-3.192-7.743z"</span>
      <span class="hljs-attr">fill</span>=<span class="hljs-string">"#fff"</span>
    /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">defs</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">linearGradient</span>
        <span class="hljs-attr">id</span>=<span class="hljs-string">"paint0_linear"</span>
        <span class="hljs-attr">x1</span>=<span class="hljs-string">{291}</span>
        <span class="hljs-attr">y1</span>=<span class="hljs-string">{0}</span>
        <span class="hljs-attr">x2</span>=<span class="hljs-string">{291}</span>
        <span class="hljs-attr">y2</span>=<span class="hljs-string">{582}</span>
        <span class="hljs-attr">gradientUnits</span>=<span class="hljs-string">"userSpaceOnUse"</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">stopColor</span>=<span class="hljs-string">"#7BCBD4"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">stop</span> <span class="hljs-attr">offset</span>=<span class="hljs-string">{1}</span> <span class="hljs-attr">stopColor</span>=<span class="hljs-string">"#29C6B7"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">linearGradient</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">defs</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span></span>
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Logo</span>;
</code></pre>
<h4 data-id="heading-8">6. ä¸»Iconç»„ä»¶</h4>
<p>å®ç°æ ¸å¿ƒçš„Iconç»„ä»¶ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œç¼“å­˜ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/Icon/index.tsx</span>
<span class="hljs-string">'use client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">IconProps</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@chakra-ui/react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Box</span>, <span class="hljs-title class_">Icon</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@chakra-ui/react'</span>;
<span class="hljs-keyword">import</span> { iconPaths } <span class="hljs-keyword">from</span> <span class="hljs-string">'./constants'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">IconNameType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./type.d'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">iconCache</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">MyIcon</span> = (<span class="hljs-params">{ name, w = <span class="hljs-string">'auto'</span>, h = <span class="hljs-string">'auto'</span>, ...props }: { name: IconNameType } &amp; IconProps</span>) =&gt; {
  <span class="hljs-keyword">const</span> [, setUpdate] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (iconCache[name]) {
      <span class="hljs-keyword">return</span>;
    }

    iconPaths[name]?.()
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">icon</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> component = { <span class="hljs-attr">as</span>: icon.<span class="hljs-property">default</span> };
        iconCache[name] = component;
        <span class="hljs-title function_">setUpdate</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> prev + <span class="hljs-number">1</span>);
      })
      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error));
  }, [name]);

  <span class="hljs-keyword">const</span> <span class="hljs-title class_">IconComponent</span> = iconCache[name];

  <span class="hljs-keyword">return</span> !!<span class="hljs-title class_">IconComponent</span> ? (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Icon</span>
      {<span class="hljs-attr">...IconComponent</span>}
      <span class="hljs-attr">w</span>=<span class="hljs-string">{w}</span>
      <span class="hljs-attr">h</span>=<span class="hljs-string">{h}</span>
      <span class="hljs-attr">boxSizing</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">content-box</span>'}
      <span class="hljs-attr">verticalAlign</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">top</span>'}
      <span class="hljs-attr">fill</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">currentcolor</span>'}
      {<span class="hljs-attr">...props</span>}
    /&gt;</span></span>
  ) : (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Box</span> <span class="hljs-attr">w</span>=<span class="hljs-string">{w}</span> <span class="hljs-attr">h</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">1px</span>'}&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Box</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-title class_">MyIcon</span>);
</code></pre>
<h3 data-id="heading-9">æ ¸å¿ƒåŠŸèƒ½è§£æ</h3>
<h4 data-id="heading-10">1. åŠ¨æ€åŠ è½½ä¸ç¼“å­˜æœºåˆ¶</h4>
<p>Iconç»„ä»¶é‡‡ç”¨äº†å…ˆè¿›çš„åŠ¨æ€å¯¼å…¥æŠ€æœ¯ï¼Œå®ç°å›¾æ ‡æŒ‰éœ€åŠ è½½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (iconCache[name]) {
    <span class="hljs-keyword">return</span>;
  }

  iconPaths[name]?.()
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">icon</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> component = { <span class="hljs-attr">as</span>: icon.<span class="hljs-property">default</span> };
      iconCache[name] = component;
      <span class="hljs-title function_">setUpdate</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> prev + <span class="hljs-number">1</span>);
    })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error));
}, [name]);
</code></pre>
<p>è¿™ç§æœºåˆ¶ç¡®ä¿åªæœ‰åœ¨å®é™…ä½¿ç”¨å›¾æ ‡æ—¶æ‰ä¼šåŠ è½½å¯¹åº”çš„SVGæ–‡ä»¶ï¼Œæ˜¾è‘—å‡å°‘åº”ç”¨çš„åˆå§‹åŠ è½½ä½“ç§¯ã€‚åŒæ—¶ï¼Œç»„ä»¶å®ç°äº†æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ(<code>iconCache</code>)ï¼Œé¿å…é‡å¤åŠ è½½ç›¸åŒå›¾æ ‡ï¼Œå¤§å¹…æå‡åº”ç”¨æ€§èƒ½ã€‚</p>
<h4 data-id="heading-11">2. ç±»å‹å®‰å…¨è®¾è®¡</h4>
<p>é€šè¿‡TypeScriptçš„ç±»å‹ç³»ç»Ÿï¼Œæä¾›äº†å®Œæ•´çš„ç±»å‹æ”¯æŒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/Icon/type.d.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { iconPaths } <span class="hljs-keyword">from</span> <span class="hljs-string">'./constants'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">IconNameType</span> = keyof <span class="hljs-keyword">typeof</span> iconPaths;
</code></pre>
<p>è¿™ç§è®¾è®¡ç¡®ä¿äº†ï¼š</p>
<ul>
<li>å›¾æ ‡åç§°çš„è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½</li>
<li>ç¼–è¯‘æ—¶çš„ç±»å‹æ£€æŸ¥ï¼Œé¿å…æ‹¼å†™é”™è¯¯</li>
<li>ä¸Chakra UIçš„IconPropså®Œå…¨å…¼å®¹</li>
</ul>
<h4 data-id="heading-12">3. æ€§èƒ½ä¸å¸ƒå±€ä¼˜åŒ–</h4>
<p>ç»„ä»¶é‡‡ç”¨äº†å¤šé¡¹æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">return</span> !!<span class="hljs-title class_">IconComponent</span> ? (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Icon</span>
    {<span class="hljs-attr">...IconComponent</span>}
    <span class="hljs-attr">w</span>=<span class="hljs-string">{w}</span>
    <span class="hljs-attr">h</span>=<span class="hljs-string">{h}</span>
    <span class="hljs-attr">boxSizing</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">content-box</span>'}
    <span class="hljs-attr">verticalAlign</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">top</span>'}
    <span class="hljs-attr">fill</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">currentcolor</span>'}
    {<span class="hljs-attr">...props</span>}
  /&gt;</span></span>
) : (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Box</span> <span class="hljs-attr">w</span>=<span class="hljs-string">{w}</span> <span class="hljs-attr">h</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">1px</span>'}&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Box</span>&gt;</span></span>
);
</code></pre>
<ul>
<li>ä½¿ç”¨<code>React.memo</code>åŒ…è£¹ç»„ä»¶ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“</li>
<li>åŠ è½½è¿‡ç¨‹ä¸­ä½¿ç”¨1pxé«˜çš„å ä½å…ƒç´ ï¼Œé¿å…å¸ƒå±€æŠ–åŠ¨</li>
<li>è®¾ç½®<code>fill={'currentcolor'}</code>è®©å›¾æ ‡é¢œè‰²è‡ªåŠ¨ç»§æ‰¿çˆ¶å…ƒç´ æ–‡æœ¬é¢œè‰²</li>
<li>é›†æˆChakra UIçš„Iconç»„ä»¶ï¼Œæ”¯æŒä¸°å¯Œçš„æ ·å¼è‡ªå®šä¹‰</li>
</ul>
<h4 data-id="heading-13">4. æ ·å¼ä¸ä¸»é¢˜é›†æˆ</h4>
<p>ä½œä¸ºChakra UIç”Ÿæ€çš„ä¸€éƒ¨åˆ†ï¼ŒIconç»„ä»¶æ”¯æŒï¼š</p>
<ul>
<li>Chakra UIçš„å°ºå¯¸å•ä½(px, em, remç­‰)</li>
<li>ä¸»é¢˜é¢œè‰²ç³»ç»Ÿ</li>
<li>å®Œæ•´çš„æ ·å¼å±æ€§ç»§æ‰¿</li>
<li>å“åº”å¼è®¾è®¡èƒ½åŠ›</li>
</ul>
<h3 data-id="heading-14">ä½¿ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-15">åŸºæœ¬ä½¿ç”¨</h4>
<p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è‡ªå®šä¹‰çš„Iconç»„ä»¶éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyIcon</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/Icon"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* é»˜è®¤å¤§å° */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> /&gt;</span>
      
      {/* è‡ªå®šä¹‰å¤§å° */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">w</span>=<span class="hljs-string">{24}</span> <span class="hljs-attr">h</span>=<span class="hljs-string">{24}</span> /&gt;</span>
      
      {/* è‡ªå®šä¹‰é¢œè‰² */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"red"</span> /&gt;</span>
      
      {/* ä¸æ–‡æœ¬ä¸€èµ·ä½¿ç”¨ï¼Œé¢œè‰²ç»§æ‰¿ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> "<span class="hljs-attr">blue</span>" }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> /&gt;</span> Logo
      <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-16">ç»“åˆChakra UIä½¿ç”¨</h4>
<p>ç”±äºIconç»„ä»¶åŸºäºChakra UIå®ç°ï¼Œæ‚¨å¯ä»¥è½»æ¾ä½¿ç”¨Chakra UIçš„æ ·å¼å±æ€§ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyIcon</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/Icon"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Box</span>, <span class="hljs-title class_">Text</span>, useColorModeValue } <span class="hljs-keyword">from</span> <span class="hljs-string">"@chakra-ui/react"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">MyComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Box</span>&gt;</span>
      {/* ä½¿ç”¨Chakra UIçš„å°ºå¯¸å•ä½ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">w</span>=<span class="hljs-string">{8}</span> <span class="hljs-attr">h</span>=<span class="hljs-string">{8}</span> /&gt;</span>
      
      {/* ç»“åˆé¢œè‰²æ¨¡å¼ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{useColorModeValue(</span>"<span class="hljs-attr">primary.500</span>", "<span class="hljs-attr">primary.300</span>")} /&gt;</span>
      
      {/* æ—‹è½¬å’Œé€æ˜åº¦ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">transform</span>=<span class="hljs-string">"rotate(45deg)"</span> <span class="hljs-attr">opacity</span>=<span class="hljs-string">{0.7}</span> /&gt;</span>
      
      {/* ä¸æ–‡æœ¬å¯¹é½ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">fontSize</span>=<span class="hljs-string">"lg"</span> <span class="hljs-attr">fontWeight</span>=<span class="hljs-string">"bold"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">MyIcon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"logo"</span> <span class="hljs-attr">w</span>=<span class="hljs-string">{6}</span> <span class="hljs-attr">h</span>=<span class="hljs-string">{6}</span> <span class="hljs-attr">mr</span>=<span class="hljs-string">{2}</span> /&gt;</span> Welcome
      <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Box</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-17">æ·»åŠ æ–°å›¾æ ‡</h4>
<p>è¦æ·»åŠ æ–°å›¾æ ‡ï¼Œåªéœ€éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>å°†SVGæ–‡ä»¶æ·»åŠ åˆ°<code>src/assets/icons/</code>ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/assets/icons/user-profile.svg
</code></pre>
</li>
<li>
<p>ç”ŸæˆReactç»„ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx svgr --typescript --ext=tsx  --out-dir src/components/Icon/icons src/assets/icons
</code></pre>
</li>
<li>
<p>åœ¨<code>constants.ts</code>ä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/Icon/constants.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> iconPaths = {
  <span class="hljs-attr">logo</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./icons/Logo'</span>),
  <span class="hljs-attr">userProfile</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./icons/UserProfile'</span>),
};
</code></pre>
</li>
<li>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">&lt;<span class="hljs-title class_">MyIcon</span> name=<span class="hljs-string">"userProfile"</span> w={<span class="hljs-number">32</span>} h={<span class="hljs-number">32</span>} /&gt;
</code></pre>
</li>
</ol>
<h3 data-id="heading-18">æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-19">1. å‘½åè§„èŒƒ</h4>
<ul>
<li>å›¾æ ‡æ–‡ä»¶åä½¿ç”¨å°å†™å’ŒçŸ­æ¨ªçº¿ï¼š<code>user-profile.svg</code></li>
<li>åœ¨<code>constants.ts</code>ä¸­ä½¿ç”¨é©¼å³°å‘½åï¼š<code>userProfile: () =&gt; import('./icons/UserProfile')</code></li>
</ul>
<h4 data-id="heading-20">2. å›¾æ ‡ä¼˜åŒ–</h4>
<ul>
<li>ç¡®ä¿SVGæ–‡ä»¶ç»è¿‡ä¼˜åŒ–ï¼Œç§»é™¤ä¸å¿…è¦çš„å±æ€§å’Œæ³¨é‡Š</li>
<li>å°½é‡ä½¿ç”¨ç®€å•çš„è·¯å¾„å’Œå½¢çŠ¶ï¼Œå‡å°‘æ–‡ä»¶å¤§å°</li>
<li>å¯¹äºå¤æ‚å›¾æ ‡ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šä¸ªç®€å•å›¾æ ‡ç»„åˆ</li>
</ul>
<h4 data-id="heading-21">3. æ€§èƒ½è€ƒè™‘</h4>
<ul>
<li>åªå¯¼å…¥éœ€è¦ä½¿ç”¨çš„å›¾æ ‡ï¼Œé¿å…åŠ è½½ä¸å¿…è¦çš„èµ„æº</li>
<li>åˆ©ç”¨ç»„ä»¶çš„ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤åŠ è½½ç›¸åŒçš„å›¾æ ‡</li>
<li>å¯¹äºé¢‘ç¹ä½¿ç”¨çš„å›¾æ ‡ï¼Œå¯ä»¥è€ƒè™‘é¢„åŠ è½½</li>
</ul>
<h4 data-id="heading-22">4. æ ·å¼ç®¡ç†</h4>
<ul>
<li>å°½é‡ä½¿ç”¨<code>currentcolor</code>ä½œä¸ºå›¾æ ‡çš„å¡«å……è‰²ï¼Œä»¥ä¾¿ç»§æ‰¿çˆ¶å…ƒç´ çš„é¢œè‰²</li>
<li>ä½¿ç”¨Chakra UIçš„ä¸»é¢˜è‰²å’Œå°ºå¯¸å•ä½ï¼Œä¿æŒæ ·å¼çš„ä¸€è‡´æ€§</li>
<li>é¿å…åœ¨æ¯ä¸ªä½¿ç”¨ç‚¹éƒ½è®¾ç½®ç›¸åŒçš„æ ·å¼ï¼Œå¯ä»¥åˆ›å»ºå°è£…ç»„ä»¶</li>
</ul>
<h3 data-id="heading-23">æ€»ç»“</h3>
<p>æœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªé«˜æ€§èƒ½ã€å¯å¤ç”¨çš„è‡ªå®šä¹‰SVG Iconç»„ä»¶ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>åŠ¨æ€åŠ è½½</strong>ï¼šä½¿ç”¨åŠ¨æ€å¯¼å…¥(<code>import()</code>)å®ç°å›¾æ ‡æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½ä½“ç§¯</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šå®ç°äº†å›¾æ ‡ç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½ç›¸åŒçš„å›¾æ ‡ï¼Œæå‡æ€§èƒ½</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šä½¿ç”¨TypeScriptå®šä¹‰å›¾æ ‡åç§°ç±»å‹ï¼Œç¡®ä¿ä½¿ç”¨æ—¶çš„ç±»å‹å®‰å…¨</li>
<li><strong>è‡ªåŠ¨åŒ–å·¥å…·</strong>ï¼šé›†æˆSVGRå·¥å…·ï¼Œè‡ªåŠ¨å°†SVGæ–‡ä»¶è½¬æ¢ä¸ºReactç»„ä»¶</li>
<li><strong>ä¸Chakra UIé›†æˆ</strong>ï¼šåŸºäºChakra UIçš„Iconç»„ä»¶ï¼Œæ”¯æŒä¸°å¯Œçš„æ ·å¼è‡ªå®šä¹‰</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰å›¾æ ‡å°ºå¯¸ï¼Œé€‚åº”ä¸åŒçš„ä½¿ç”¨åœºæ™¯</li>
<li><strong>æ˜“äºæ‰©å±•</strong>ï¼šæ·»åŠ æ–°å›¾æ ‡åªéœ€å‡ ä¸ªç®€å•æ­¥éª¤</li>
</ul>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Next.js 16é¡¹ç›®ä¸­é«˜æ•ˆåœ°ä½¿ç”¨å’Œç®¡ç†SVGå›¾æ ‡ï¼Œæå‡ç”¨æˆ·ç•Œé¢çš„è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚</p>
<hr/>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ åœ¨Next.jsé¡¹ç›®ä¸­å®ç°è‡ªå®šä¹‰SVG Iconç»„ä»¶æœ‰æ‰€å¸®åŠ©ï¼å¦‚æœæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµ ğŸ’¬</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´å¤åˆå¢é•¿ç‡12.6%ï¼å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿]]></title>    <link>https://juejin.cn/post/7581477397507801122</link>    <guid>https://juejin.cn/post/7581477397507801122</guid>    <pubDate>2025-12-09T06:39:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581477397507801122" data-draft-id="7581545175508910132" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´å¤åˆå¢é•¿ç‡12.6%ï¼å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:39:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´å¤åˆå¢é•¿ç‡12.6%ï¼å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:39:58.000Z" title="Tue Dec 09 2025 06:39:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ˜¯æŒ‡è¿è¡Œåœ¨æ±½è½¦å¾®æ§åˆ¶å™¨å’Œå¾®å¤„ç†å™¨ä¸Šçš„å›ºä»¶ã€å®æ—¶æ§åˆ¶è½¯ä»¶ã€ä¸­é—´ä»¶å’Œé«˜çº§åº”ç”¨é€»è¾‘ã€‚è¿™äº›è½¯ä»¶ç»„ä»¶æ”¯æŒè½¦è¾†çš„å…³é”®åŠŸèƒ½ï¼ŒåŒ…æ‹¬åŠ¨åŠ›ç³»ç»Ÿæ§åˆ¶ã€ç”µæ± ç®¡ç†ã€çƒ­ç®¡ç†ã€è½¦èº«ç”µå­æ§åˆ¶ã€åº•ç›˜æ§åˆ¶ã€é«˜çº§é©¾é©¶è¾…åŠ©ç³»ç»Ÿ (ADAS) å¤„ç†ã€é€šä¿¡ç½‘å…³å’ŒåŸºäºè½¦è½½æ“ä½œç³»ç»Ÿçš„æœåŠ¡ã€‚æ¯›åˆ©ç‡é€šå¸¸åœ¨ 35% è‡³ 55% ä¹‹é—´ï¼Œä¸»è¦å—åŠŸèƒ½å®‰å…¨è¦æ±‚ï¼ˆISO 26262ï¼‰ã€ç½‘ç»œå®‰å…¨åˆè§„æ€§ï¼ˆISO/SAE 21434ï¼‰ã€ç¡¬ä»¶æŠ½è±¡å¤æ‚æ€§ä»¥åŠåŸºäº MCU/MPU çš„åŸŸæ§åˆ¶æ—¥ç›Šå¤æ‚åŒ–ç­‰å› ç´ é©±åŠ¨ã€‚ä¾›åº”é“¾åŒ…æ‹¬ä¸Šæ¸¸æ±½è½¦ MCU/MPUã€RTOS/AUTOSAR åè®®æ ˆå’Œå®‰å…¨åº“ï¼›ä¸­æ¸¸ä¾›åº”å•†æä¾›å›ºä»¶å¼€å‘ã€æ§åˆ¶ç®—æ³•ã€è¯Šæ–­å’Œä¸­é—´ä»¶ï¼›ä¸‹æ¸¸å®¢æˆ·åŒ…æ‹¬åŸå§‹è®¾å¤‡åˆ¶é€ å•† (OEM)ã€ä¸€çº§ä¾›åº”å•†ã€ç”µåŠ¨æ±½è½¦åˆ¶é€ å•†å’ŒåŸŸæ§åˆ¶å™¨å¼€å‘å•†ã€‚</p>
<p><strong>å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶è¡Œä¸šå¸‚åœºè§„æ¨¡è°ƒæŸ¥ï¼š</strong> 2025å¹´å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†3625ç™¾ä¸‡ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°7397ç™¾ä¸‡ç¾å…ƒï¼Œ2025-2031å¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º12.6%ã€‚ï¼ˆæ•°æ®æ¥æºï¼šQYResearchè°ƒç ”ä¸­å¿ƒï¼‰</p>
<p>ã€Š<strong>2025-2031å…¨çƒä¸ä¸­å›½æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿</strong>ã€‹æœ¬æ–‡ç ”ç©¶å…¨çƒåŠä¸­å›½å¸‚åœºæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ï¼Œä¾§é‡åˆ†æå…¨çƒåŠä¸­å›½å¸‚åœºçš„ä¸»è¦ä¼ä¸šï¼ŒåŒæ—¶å¯¹æ¯”åŒ—ç¾ã€æ¬§æ´²ã€ä¸­å›½ã€æ—¥æœ¬ã€ä¸œå—äºšå’Œå°åº¦ç­‰åœ°åŒºçš„ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‚</p>
<p>é‡ç‚¹åˆ†æåœ¨å…¨çƒåŠä¸­å›½æœ‰é‡è¦è§’è‰²çš„ä¼ä¸šï¼Œåˆ†æè¿™äº›ä¼ä¸šæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“çš„å¸‚åœºè§„æ¨¡ã€å¸‚åœºä»½é¢ã€å¸‚åœºå®šä½ã€äº§å“ç±»å‹ä»¥åŠå‘å±•è§„åˆ’ç­‰ã€‚å¸®åŠ©ä¼ä¸šæˆ–ä¸ªäººå‡†ç¡®ã€å…¨é¢ã€è¿…é€Ÿäº†è§£ç›®å‰æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶è¡Œä¸šå‘å±•åŠ¨å‘ã€æŠŠæ¡ä¼ä¸šæˆ˜ç•¥å‘å±•å®šä½æ–¹å‘ä¸å¯æˆ–ç¼ºçš„ä¸“ä¸šæ€§æŠ¥å‘Šã€‚</p>
<p><strong>ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æŠ¥å‘Š-æ ¸å¿ƒä¼ä¸šã€‘</strong> <strong>Continental Automotive Softwareã€ Aptivã€ Intel / Mobileyeã€ NXP Semiconductorsã€ Infineon Technologiesã€ STMicroelectronicsã€ Texas Instrumentsã€ Renesas Electronicsã€ Siemensï¼ˆMentor Graphicsï¼‰ã€ BlackBerry QNXã€ Green Hills Softwareã€ Wind Riverã€ Vector Informatikã€ Elektrobitï¼ˆEB Automotiveï¼‰</strong></p>
<p><strong>ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æŠ¥å‘Š-äº§å“ç±»å‹ã€‘</strong> ï¼š<strong>äº‹ä»¶é©±åŠ¨è½¯ä»¶ã€ å‘¨æœŸæ€§æ§åˆ¶è½¯ä»¶ã€ æ··åˆæ¨¡å¼è½¯ä»¶</strong></p>
<p><strong>ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æŠ¥å‘Š-åº”ç”¨é¢†åŸŸã€‘</strong> ï¼š<strong>ä¹˜ç”¨è½¦ã€ å•†ç”¨è½¦</strong></p>
<p>1 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºæ¦‚è¿°<br/>
1.1 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºæ¦‚è¿°<br/>
1.2 ä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶åˆ†æ<br/>
1.2.1 äº‹ä»¶é©±åŠ¨è½¯ä»¶<br/>
1.2.2 å‘¨æœŸæ€§æ§åˆ¶è½¯ä»¶<br/>
1.2.3 æ··åˆæ¨¡å¼è½¯ä»¶<br/>
1.2.4 å…¨çƒå¸‚åœºä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.2.5 å…¨çƒä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.2.5.1 å…¨çƒä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.2.5.2 å…¨çƒä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.2.6 ä¸­å›½ä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.2.6.1 ä¸­å›½ä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.2.6.2 ä¸­å›½ä¸åŒäº§å“ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.3 ä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶åˆ†æ<br/>
1.3.1 åŸºäº MCU çš„åµŒå…¥å¼è½¯ä»¶<br/>
1.3.2 åŸºäº MPU çš„åµŒå…¥å¼è½¯ä»¶<br/>
1.3.3 MCU+MPU æ··åˆå¼è½¯ä»¶<br/>
1.3.4 å…¨çƒå¸‚åœºä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.3.5 å…¨çƒä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.3.5.1 å…¨çƒä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.3.5.2 å…¨çƒä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.3.6 ä¸­å›½ä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.3.6.1 ä¸­å›½ä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.3.6.2 ä¸­å›½ä¸åŒè¿è¡ŒèŠ¯ç‰‡ç±»å‹æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.4 ä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶åˆ†æ<br/>
1.4.1 æ¨¡å‹é©±åŠ¨å¼€å‘<br/>
1.4.2 ç»å…¸åµŒå…¥å¼å¼€å‘<br/>
1.4.3 å…¶ä»–<br/>
1.4.4 å…¨çƒå¸‚åœºä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
1.4.5 å…¨çƒä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.4.5.1 å…¨çƒä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.4.5.2 å…¨çƒä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
1.4.6 ä¸­å›½ä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
1.4.6.1 ä¸­å›½ä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
1.4.6.2 ä¸­å›½ä¸åŒå¼€å‘æ–¹å¼æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
2 ä¸åŒåº”ç”¨åˆ†æ<br/>
2.1 ä»ä¸åŒåº”ç”¨ï¼Œæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢<br/>
2.1.1 ä¹˜ç”¨è½¦<br/>
2.1.2 å•†ç”¨è½¦<br/>
2.2 å…¨çƒå¸‚åœºä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢å¯¹æ¯”ï¼ˆ2020 VS 2024 VS 2031ï¼‰<br/>
2.3 å…¨çƒä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.3.1 å…¨çƒä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
2.3.2 å…¨çƒä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
2.4 ä¸­å›½ä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.4.1 ä¸­å›½ä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
2.4.2 ä¸­å›½ä¸åŒåº”ç”¨æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3 å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶ä¸»è¦åœ°åŒºåˆ†æ<br/>
3.1 å…¨çƒä¸»è¦åœ°åŒºæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºè§„æ¨¡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.1.1 å…¨çƒä¸»è¦åœ°åŒºæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.1.2 å…¨çƒä¸»è¦åœ°åŒºæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠä»½é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3.2 åŒ—ç¾æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.3 æ¬§æ´²æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.4 ä¸­å›½æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.5 æ—¥æœ¬æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.6 ä¸œå—äºšæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
3.7 å°åº¦æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
4 å…¨çƒä¸»è¦ä¼ä¸šå¸‚åœºå æœ‰ç‡<br/>
4.1 å…¨çƒä¸»è¦ä¼ä¸šæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢<br/>
4.2 å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶ä¸»è¦ä¼ä¸šç«äº‰æ€åŠ¿<br/>
4.2.1 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶è¡Œä¸šé›†ä¸­åº¦åˆ†æï¼š2024å¹´å…¨çƒTop 5å‚å•†å¸‚åœºä»½é¢<br/>
4.2.2 å…¨çƒæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶ç¬¬ä¸€æ¢¯é˜Ÿã€ç¬¬äºŒæ¢¯é˜Ÿå’Œç¬¬ä¸‰æ¢¯é˜Ÿä¼ä¸šåŠå¸‚åœºä»½é¢<br/>
4.3 2024å¹´å…¨çƒä¸»è¦å‚å•†æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥æ’å<br/>
4.4 å…¨çƒä¸»è¦å‚å•†æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ€»éƒ¨åŠå¸‚åœºåŒºåŸŸåˆ†å¸ƒ<br/>
4.5 å…¨çƒä¸»è¦å‚å•†æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“ç±»å‹åŠåº”ç”¨<br/>
4.6 å…¨çƒä¸»è¦å‚å•†æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å•†ä¸šåŒ–æ—¥æœŸ<br/>
4.7 æ–°å¢æŠ•èµ„åŠå¸‚åœºå¹¶è´­æ´»åŠ¨<br/>
4.8 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å…¨çƒé¢†å…ˆä¼ä¸šSWOTåˆ†æ<br/>
5 ä¸­å›½å¸‚åœºæ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶ä¸»è¦ä¼ä¸šåˆ†æ<br/>
5.1 ä¸­å›½æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶é”€å”®é¢åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
5.2 ä¸­å›½æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶Top 3å’ŒTop 5ä¼ä¸šå¸‚åœºä»½é¢<br/>
6 ä¸»è¦ä¼ä¸šç®€ä»‹<br/>
6.1 Continental Automotive Software<br/>
6.1.1 Continental Automotive Softwareå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.1.2 Continental Automotive Software æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.1.3 Continental Automotive Software æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.1.4 Continental Automotive Softwareå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.1.5 Continental Automotive Softwareä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.2 Aptiv<br/>
6.2.1 Aptivå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.2.2 Aptiv æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.2.3 Aptiv æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.2.4 Aptivå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.2.5 Aptivä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.3 Intel / Mobileye<br/>
6.3.1 Intel / Mobileyeå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.3.2 Intel / Mobileye æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.3.3 Intel / Mobileye æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.3.4 Intel / Mobileyeå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.3.5 Intel / Mobileyeä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.4 NXP Semiconductors<br/>
6.4.1 NXP Semiconductorså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.4.2 NXP Semiconductors æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.4.3 NXP Semiconductors æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.4.4 NXP Semiconductorså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.5 Infineon Technologies<br/>
6.5.1 Infineon Technologieså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.5.2 Infineon Technologies æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.5.3 Infineon Technologies æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.5.4 Infineon Technologieså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.5.5 Infineon Technologiesä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.6 STMicroelectronics<br/>
6.6.1 STMicroelectronicså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.6.2 STMicroelectronics æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.6.3 STMicroelectronics æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.6.4 STMicroelectronicså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.6.5 STMicroelectronicsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.7 Texas Instruments<br/>
6.7.1 Texas Instrumentså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.7.2 Texas Instruments æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.7.3 Texas Instruments æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.7.4 Texas Instrumentså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.7.5 Texas Instrumentsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.8 Renesas Electronics<br/>
6.8.1 Renesas Electronicså…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.8.2 Renesas Electronics æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.8.3 Renesas Electronics æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.8.4 Renesas Electronicså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.8.5 Renesas Electronicsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.9 Siemensï¼ˆMentor Graphicsï¼‰<br/>
6.9.1 Siemensï¼ˆMentor Graphicsï¼‰å…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.9.2 Siemensï¼ˆMentor Graphicsï¼‰ æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.9.3 Siemensï¼ˆMentor Graphicsï¼‰ æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.9.4 Siemensï¼ˆMentor Graphicsï¼‰å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.9.5 Siemensï¼ˆMentor Graphicsï¼‰ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.10 BlackBerry QNX<br/>
6.10.1 BlackBerry QNXå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.10.2 BlackBerry QNX æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.10.3 BlackBerry QNX æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.10.4 BlackBerry QNXå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.10.5 BlackBerry QNXä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.11 Green Hills Software<br/>
6.11.1 Green Hills Softwareå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.11.2 Green Hills Software æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.11.3 Green Hills Software æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.11.4 Green Hills Softwareå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.11.5 Green Hills Softwareä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.12 Wind River<br/>
6.12.1 Wind Riverå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.12.2 Wind River æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.12.3 Wind River æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.12.4 Wind Riverå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.12.5 Wind Riverä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.13 Vector Informatik<br/>
6.13.1 Vector Informatikå…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.13.2 Vector Informatik æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.13.3 Vector Informatik æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.13.4 Vector Informatikå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.13.5 Vector Informatikä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6.14 Elektrobitï¼ˆEB Automotiveï¼‰<br/>
6.14.1 Elektrobitï¼ˆEB Automotiveï¼‰å…¬å¸ä¿¡æ¯ã€æ€»éƒ¨ã€æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶å¸‚åœºåœ°ä½ä»¥åŠä¸»è¦çš„ç«äº‰å¯¹æ‰‹<br/>
6.14.2 Elektrobitï¼ˆEB Automotiveï¼‰ æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶äº§å“åŠæœåŠ¡ä»‹ç»<br/>
6.14.3 Elektrobitï¼ˆEB Automotiveï¼‰ æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶æ”¶å…¥åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰&amp;ï¼ˆç™¾ä¸‡ç¾å…ƒï¼‰<br/>
6.14.4 Elektrobitï¼ˆEB Automotiveï¼‰å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
6.14.5 Elektrobitï¼ˆEB Automotiveï¼‰ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
7 è¡Œä¸šå‘å±•æœºé‡å’Œé£é™©åˆ†æ<br/>
7.1 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶è¡Œä¸šå‘å±•æœºé‡åŠä¸»è¦é©±åŠ¨å› ç´ <br/>
7.2 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶è¡Œä¸šå‘å±•é¢ä¸´çš„é£é™©<br/>
7.3 æ±½è½¦ MCU/MPU ç”¨åµŒå…¥å¼è½¯ä»¶è¡Œä¸šæ”¿ç­–åˆ†æ<br/>
8 ç ”ç©¶ç»“æœ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­—èŠ‚ç£¨çš®ç®—æ³•è¯¦è§£]]></title>    <link>https://juejin.cn/post/7581428845682589739</link>    <guid>https://juejin.cn/post/7581428845682589739</guid>    <pubDate>2025-12-09T06:25:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581428845682589739" data-draft-id="7581428845682573355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­—èŠ‚ç£¨çš®ç®—æ³•è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T06:25:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uu_code007"/> <meta itemprop="url" content="https://juejin.cn/user/2557884828495019"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­—èŠ‚ç£¨çš®ç®—æ³•è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2557884828495019/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uu_code007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:25:46.000Z" title="Tue Dec 09 2025 06:25:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å­—èŠ‚ç£¨çš®ç®—æ³•è¯¦è§£</h2>
<h3 data-id="heading-1">ä¸€ã€ç®—æ³•æ¦‚è¿°</h3>
<p>å­—èŠ‚ç£¨çš®ç®—æ³•æ˜¯å­—èŠ‚è·³åŠ¨å¼€å‘çš„ä¸€ç§é«˜æ•ˆå›¾åƒç¾åŒ–æŠ€æœ¯ï¼Œå¹¿æ³›åº”ç”¨äºæŠ–éŸ³ã€FaceUç­‰äº§å“çš„å®æ—¶ç¾é¢œåŠŸèƒ½ä¸­ã€‚è¯¥ç®—æ³•é€šè¿‡<strong>åŒé‡æ»¤æ³¢æŠ€æœ¯</strong>ï¼ˆå¹³æ»‘é™å™ª+é”åŒ–å¢å¼ºï¼‰åœ¨ä¿ç•™çš®è‚¤ç»†èŠ‚çš„åŒæ—¶å®ç°è‡ªç„¶çš„ç£¨çš®æ•ˆæœï¼Œç‰¹åˆ«é€‚åˆç§»åŠ¨ç«¯è®¾å¤‡çš„å®æ—¶å¤„ç†éœ€æ±‚ã€‚</p>
<h3 data-id="heading-2">äºŒã€ç®—æ³•æ¶æ„</h3>
<h4 data-id="heading-3">1. é¡¶ç‚¹ç€è‰²å™¨ï¼šæ™ºèƒ½é‡‡æ ·ç‚¹å‡†å¤‡</h4>
<pre><code class="hljs language-ini" lang="ini">void main()
{
    <span class="hljs-attr">gl_Position</span> = vec4(attPosition, <span class="hljs-number">1.0</span>)<span class="hljs-comment">;</span>
    <span class="hljs-attr">textureCoord</span> = attUV<span class="hljs-comment">;</span>
    
    // ç”Ÿæˆå››ä¸ªæ–¹å‘çš„åç§»é‡‡æ ·ç‚¹
    <span class="hljs-attr">textureShift_1</span> = vec2(attUV + <span class="hljs-number">0.5</span> * vec2(width<span class="hljs-literal">Off</span>set, height<span class="hljs-literal">Off</span>set))<span class="hljs-comment">;</span>
    <span class="hljs-attr">textureShift_2</span> = vec2(attUV + <span class="hljs-number">0.5</span> * vec2(-width<span class="hljs-literal">Off</span>set, -height<span class="hljs-literal">Off</span>set))<span class="hljs-comment">;</span>
    <span class="hljs-attr">textureShift_3</span> = vec2(attUV + <span class="hljs-number">0.5</span> * vec2(-width<span class="hljs-literal">Off</span>set, height<span class="hljs-literal">Off</span>set))<span class="hljs-comment">;</span>
    <span class="hljs-attr">textureShift_4</span> = vec2(attUV + <span class="hljs-number">0.5</span> * vec2(width<span class="hljs-literal">Off</span>set, -height<span class="hljs-literal">Off</span>set))<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å…³é”®æŠ€æœ¯</strong>ï¼š</p>
<ul>
<li>åŠ¨æ€é‡‡æ ·ç‚¹ç”Ÿæˆï¼šæ ¹æ®çº¹ç†åæ ‡åˆ›å»ºå››ä¸ªæ–¹å‘çš„åç§»ç‚¹</li>
<li>å‚æ•°æ§åˆ¶ï¼š<code>widthOffset</code>å’Œ<code>heightOffset</code>æ§åˆ¶é‡‡æ ·èŒƒå›´å’Œæ•ˆæœå¼ºåº¦</li>
<li>æ•ˆç‡ä¼˜åŒ–ï¼šä¸€æ¬¡é¡¶ç‚¹è®¡ç®—ï¼Œå¤šæ¬¡ç‰‡æ®µä½¿ç”¨</li>
</ul>
<h4 data-id="heading-4">2. ç‰‡æ®µç€è‰²å™¨ï¼šæ ¸å¿ƒå¤„ç†é€»è¾‘</h4>
<h5 data-id="heading-5">ç¬¬ä¸€é˜¶æ®µï¼šè‡ªé€‚åº”çš®è‚¤å¹³æ»‘</h5>
<pre><code class="hljs language-ini" lang="ini">// 1. è·å–å½“å‰åƒç´ å’Œæ¨¡ç³Šå‚è€ƒåƒç´ 
lowp vec4 <span class="hljs-attr">preColor</span> = texture2D(blurImageTex, textureCoord)<span class="hljs-comment">;</span>
lowp vec4 <span class="hljs-attr">inColor</span> = texture2D(srcImageTex, textureCoord)<span class="hljs-comment">;</span>

// 2. è®¡ç®—è‡ªé€‚åº”å¹³æ»‘ç³»æ•°
mediump float <span class="hljs-attr">p</span> = clamp((min(inColor.r, meanColor.r-<span class="hljs-number">0.1</span>)-<span class="hljs-number">0.2</span>)*<span class="hljs-number">4.0</span>, <span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>)<span class="hljs-comment">;</span>
mediump float <span class="hljs-attr">kMin</span> = (<span class="hljs-number">1.0</span> - preColor.a / (preColor.a + theta)) * p * blurAlpha<span class="hljs-comment">;</span>
</code></pre>
<p><strong>è‡ªé€‚åº”å¹³æ»‘åŸç†</strong>ï¼š</p>
<ul>
<li>åŸºäºçº¢è‰²é€šé“å·®å¼‚è®¡ç®—å¹³æ»‘å¼ºåº¦ï¼ˆçº¢è‰²é€šé“å¯¹è‚¤è‰²æ•æ„Ÿï¼‰</li>
<li><code>theta=0.1</code>é˜²æ­¢é™¤é›¶é”™è¯¯ï¼ŒåŒæ—¶æ§åˆ¶å¹³æ»‘è¾¹ç•Œ</li>
<li><code>p</code>å€¼ç¡®ä¿åªåœ¨éœ€è¦å¹³æ»‘çš„åŒºåŸŸåº”ç”¨æ•ˆæœ</li>
</ul>
<h5 data-id="heading-6">ç¬¬äºŒé˜¶æ®µï¼šæ™ºèƒ½è’™ç‰ˆå¤„ç†</h5>
<pre><code class="hljs language-ini" lang="ini">// è’™ç‰ˆå¤„ç†é€»è¾‘
if(<span class="hljs-attr">useMask</span> == <span class="hljs-number">1</span>) {
    lowp vec3 <span class="hljs-attr">mask_rgb</span> = texture2D(inputMaskTexture, textureCoord).rgb<span class="hljs-comment">;</span>
    lowp float <span class="hljs-attr">threshold</span> = <span class="hljs-number">0.005</span><span class="hljs-comment">;</span>
    if (mask_rgb.r &gt; threshold &amp;&amp; mask_rgb.b &lt;= threshold) {
        <span class="hljs-attr">maskValue</span> = mask_rgb.r<span class="hljs-comment">;  // çº¢è‰²é€šé“ï¼šç£¨çš®åŒºåŸŸ</span>
    } else if (mask_rgb.r &gt; threshold &amp;&amp; mask_rgb.b &gt; threshold) {
        <span class="hljs-attr">maskValue</span> = <span class="hljs-number">1.0</span> - mask_rgb.b<span class="hljs-comment">;  // è“è‰²é€šé“ï¼šä¿ç•™ç»†èŠ‚åŒºåŸŸ</span>
    }
}
</code></pre>
<p><strong>è’™ç‰ˆç³»ç»Ÿè®¾è®¡</strong>ï¼š</p>
<ul>
<li><strong>çº¢è‰²é€šé“ (R)</strong> ï¼šéœ€è¦ç£¨çš®çš„åŒºåŸŸï¼ˆå¦‚è„¸é¢Šã€é¢å¤´ï¼‰</li>
<li><strong>è“è‰²é€šé“ (B)</strong> ï¼šéœ€è¦ä¿ç•™ç»†èŠ‚çš„åŒºåŸŸï¼ˆå¦‚çœ¼ç›ã€çœ‰æ¯›ã€å˜´å”‡ï¼‰</li>
<li><strong>é˜ˆå€¼å¤„ç†</strong>ï¼š0.005é˜ˆå€¼è¿‡æ»¤æµ®ç‚¹æ•°ç²¾åº¦è¯¯å·®</li>
</ul>
<h5 data-id="heading-7">ç¬¬ä¸‰é˜¶æ®µï¼šé«˜é¢‘ç»†èŠ‚é”åŒ–</h5>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// 1. è®¡ç®—å››ä¸ªæ–¹å‘çš„ç»¿è‰²é€šé“å¹³å‡å€¼</span>
mediump <span class="hljs-attribute">float</span> sum = <span class="hljs-built_in">texture2D</span>(srcImageTex, textureShift_1)<span class="hljs-selector-class">.g</span>;
sum += <span class="hljs-built_in">texture2D</span>(srcImageTex, textureShift_2)<span class="hljs-selector-class">.g</span>;
sum += <span class="hljs-built_in">texture2D</span>(srcImageTex, textureShift_3)<span class="hljs-selector-class">.g</span>;
sum += <span class="hljs-built_in">texture2D</span>(srcImageTex, textureShift_4)<span class="hljs-selector-class">.g</span>;
sum = sum * <span class="hljs-number">0.25</span>;

<span class="hljs-comment">// 2. é«˜é€šæ»¤æ³¢æå–è¾¹ç¼˜ä¿¡æ¯</span>
<span class="hljs-attribute">float</span> hPass = inColor<span class="hljs-selector-class">.g</span> - sum + <span class="hljs-number">0.5</span>;
<span class="hljs-attribute">float</span> flag = <span class="hljs-built_in">step</span>(<span class="hljs-number">0.5</span>, hPass);

<span class="hljs-comment">// 3. é”åŒ–å¢å¼º</span>
vec3 tmpColor = <span class="hljs-built_in">vec3</span>(<span class="hljs-number">2.0</span> * hPass + smoothColor - <span class="hljs-number">1.0</span>);
vec3 sharpColor = <span class="hljs-built_in">mix</span>(max(vec3(<span class="hljs-number">0.0</span>), tmpColor), <span class="hljs-built_in">min</span>(vec3(<span class="hljs-number">1.0</span>), tmpColor), flag);
</code></pre>
<p><strong>é”åŒ–åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>ç»¿è‰²é€šé“ä¼˜å…ˆ</strong>ï¼šäººçœ¼å¯¹ç»¿è‰²æœ€æ•æ„Ÿï¼Œç»†èŠ‚ä¿ç•™æ›´å¥½</li>
<li><strong>å››æ–¹å‘é‡‡æ ·</strong>ï¼šæ›´å…¨é¢çš„è¾¹ç¼˜æ£€æµ‹</li>
<li><strong>å®‰å…¨è£å‰ª</strong>ï¼šé˜²æ­¢é¢œè‰²æº¢å‡ºï¼Œä¿æŒè‡ªç„¶æ•ˆæœ</li>
</ul>
<h3 data-id="heading-8">ä¸‰ã€ä½¿ç”¨æ¡ˆä¾‹è¯¦è§£</h3>
<h4 data-id="heading-9">æ¡ˆä¾‹1ï¼šå®æ—¶ç›´æ’­ç¾é¢œ</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// Androidç«¯ä½¿ç”¨ç¤ºä¾‹</span>
public class ByteDanceSkinSmoothing {
    private <span class="hljs-attribute">float</span> blurAlpha = <span class="hljs-number">0.65</span>f;    <span class="hljs-comment">// ç£¨çš®å¼ºåº¦</span>
    private <span class="hljs-attribute">float</span> sharpen = <span class="hljs-number">0.60</span>f;      <span class="hljs-comment">// é”åŒ–å¼ºåº¦</span>
    private <span class="hljs-attribute">float</span> widthOffset = <span class="hljs-number">0.00078</span>f; <span class="hljs-comment">// æ¨ªå‘é‡‡æ ·èŒƒå›´</span>
    private <span class="hljs-attribute">float</span> heightOffset = <span class="hljs-number">0.70</span>f; <span class="hljs-comment">// çºµå‘é‡‡æ ·èŒƒå›´</span>
    
    public void <span class="hljs-built_in">setupBeautyFilter</span>() {
        <span class="hljs-comment">// 1. è®¾ç½®ç€è‰²å™¨å‚æ•°</span>
        <span class="hljs-built_in">glUniform1f</span>(blurAlphaLocation, blurAlpha);
        <span class="hljs-built_in">glUniform1f</span>(sharpenLocation, sharpen);
        <span class="hljs-built_in">glUniform1f</span>(widthOffsetLocation, widthOffset / textureWidth);
        <span class="hljs-built_in">glUniform1f</span>(heightOffsetLocation, heightOffset / textureHeight);
        
        <span class="hljs-comment">// 2. ç»‘å®šä¸‰å¼ çº¹ç†</span>
        <span class="hljs-comment">// çº¹ç†0: åŸå§‹æ‘„åƒå¤´ç”»é¢</span>
        <span class="hljs-comment">// çº¹ç†1: é«˜æ–¯æ¨¡ç³Šåçš„ç”»é¢ï¼ˆé¢„å¤„ç†ï¼‰</span>
        <span class="hljs-comment">// çº¹ç†2: é¢éƒ¨è’™ç‰ˆï¼ˆAIç”Ÿæˆçš„é¢éƒ¨åŒºåŸŸåˆ†å‰²ï¼‰</span>
        
        <span class="hljs-comment">// 3. æ ¹æ®ä¸åŒåœºæ™¯è°ƒæ•´å‚æ•°</span>
        if (isLiveStreaming) {
            blurAlpha = <span class="hljs-number">0.55</span>f;  <span class="hljs-comment">// ç›´æ’­æ—¶é™ä½å¼ºåº¦ï¼Œä¿æŒçœŸå®æ„Ÿ</span>
            sharpen = <span class="hljs-number">0.65</span>f;    <span class="hljs-comment">// å¢å¼ºé”åŒ–ï¼Œè¡¥å¿æ¸…æ™°åº¦</span>
        } else if (isPhotoMode) {
            blurAlpha = <span class="hljs-number">0.75</span>f;  <span class="hljs-comment">// æ‹ç…§æ—¶å¯æ›´å¼ºåŠ›ç£¨çš®</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-10">æ¡ˆä¾‹2ï¼šçŸ­è§†é¢‘å½•åˆ¶ä¼˜åŒ–</h4>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># Pythonç«¯å‚æ•°è°ƒä¼˜ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">VideoBeautyOptimizer</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span></span>):
        <span class="hljs-comment"># ä¸åŒå…‰çº¿æ¡ä»¶ä¸‹çš„é¢„è®¾å‚æ•°</span>
        <span class="hljs-variable language_">self</span>.presets = {
            <span class="hljs-string">'low_light'</span>: {
                <span class="hljs-string">'blur_alpha'</span>: <span class="hljs-number">0.70</span>,    <span class="hljs-comment"># å¼±å…‰ä¸‹åŠ å¼ºç£¨çš®ï¼Œå‡å°‘å™ªç‚¹</span>
                <span class="hljs-string">'sharpen'</span>: <span class="hljs-number">0.50</span>,        <span class="hljs-comment"># é™ä½é”åŒ–ï¼Œé¿å…å¢å¼ºå™ªç‚¹</span>
                <span class="hljs-string">'use_mask'</span>: <span class="hljs-number">1</span>           <span class="hljs-comment"># å¯ç”¨è’™ç‰ˆç²¾å‡†æ§åˆ¶</span>
            },
            <span class="hljs-string">'studio_light'</span>: {
                <span class="hljs-string">'blur_alpha'</span>: <span class="hljs-number">0.45</span>,    <span class="hljs-comment"># å¼ºå…‰ä¸‹å‡å°‘ç£¨çš®ï¼Œä¿ç•™ç»†èŠ‚</span>
                <span class="hljs-string">'sharpen'</span>: <span class="hljs-number">0.75</span>,        <span class="hljs-comment"># å¢å¼ºé”åŒ–çªå‡ºè´¨æ„Ÿ</span>
                <span class="hljs-string">'use_mask'</span>: <span class="hljs-number">1</span>
            },
            <span class="hljs-string">'backlight'</span>: {
                <span class="hljs-string">'blur_alpha'</span>: <span class="hljs-number">0.60</span>,
                <span class="hljs-string">'sharpen'</span>: <span class="hljs-number">0.80</span>,        <span class="hljs-comment"># é€†å…‰æ—¶ç‰¹åˆ«éœ€è¦é”åŒ–</span>
                <span class="hljs-string">'use_mask'</span>: <span class="hljs-number">1</span>
            }
        }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">optimize_for_scene</span>(<span class="hljs-params"><span class="hljs-variable language_">self</span>, light_condition, is_front_camera=<span class="hljs-title class_">True</span></span>):
        params = <span class="hljs-variable language_">self</span>.presets[light_condition]
        
        <span class="hljs-comment"># å‰ç½®æ‘„åƒå¤´ç‰¹æ®Šå¤„ç†</span>
        <span class="hljs-keyword">if</span> <span class="hljs-symbol">is_front_camera:</span>
            params[<span class="hljs-string">'blur_alpha'</span>] *= <span class="hljs-number">1.1</span>  <span class="hljs-comment"># è‡ªæ‹æ—¶ç”¨æˆ·åå¥½æ›´å¼ºç¾é¢œ</span>
            params[<span class="hljs-string">'width_offset'</span>] = <span class="hljs-number">0.0010</span>  <span class="hljs-comment"># é€‚åº”é¢éƒ¨æ¯”ä¾‹</span>
        
        <span class="hljs-keyword">return</span> params
</code></pre>
<h4 data-id="heading-11">æ¡ˆä¾‹3ï¼šç…§ç‰‡ç²¾ä¿®åº”ç”¨</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Webç«¯ç…§ç‰‡å¤„ç†ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PhotoRetouchProcessor</span> {
    <span class="hljs-keyword">constructor</span>() {
        <span class="hljs-keyword">this</span>.steps = {
            <span class="hljs-string">'light_retouch'</span>: { blurAlpha: <span class="hljs-number">0.4</span>, sharpen: <span class="hljs-number">0.7</span> },
            <span class="hljs-string">'medium_retouch'</span>: { blurAlpha: <span class="hljs-number">0.6</span>, sharpen: <span class="hljs-number">0.6</span> },
            <span class="hljs-string">'heavy_retouch'</span>: { blurAlpha: <span class="hljs-number">0.8</span>, sharpen: <span class="hljs-number">0.5</span> }
        };
    }
    
    async processPhoto(imageData, intensity = <span class="hljs-string">'medium'</span>) {
        <span class="hljs-keyword">const</span> params = <span class="hljs-keyword">this</span>.steps[intensity];
        
        <span class="hljs-comment">// 1. ç”Ÿæˆé¢éƒ¨è’™ç‰ˆï¼ˆä½¿ç”¨TensorFlow.jsï¼‰</span>
        <span class="hljs-keyword">const</span> faceMask = await <span class="hljs-keyword">this</span>.generateFaceMask(imageData);
        
        <span class="hljs-comment">// 2. åˆ›å»ºæ¨¡ç³Šç‰ˆæœ¬</span>
        <span class="hljs-keyword">const</span> blurredImage = await <span class="hljs-keyword">this</span>.applyGaussianBlur(imageData, <span class="hljs-number">3</span>);
        
        <span class="hljs-comment">// 3. åº”ç”¨å­—èŠ‚ç£¨çš®ç®—æ³•</span>
        <span class="hljs-keyword">const</span> result = await <span class="hljs-keyword">this</span>.applyByteDanceFilter(
            imageData,
            blurredImage,
            faceMask,
            params
        );
        
        <span class="hljs-comment">// 4. æ·»åŠ å¯é€‰çš„ç¾å¦†æ•ˆæœ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.addMakeup) {
            result = await <span class="hljs-keyword">this</span>.addVirtualMakeup(result);
        }
        
        <span class="hljs-keyword">return</span> result;
    }
}
</code></pre>
<h3 data-id="heading-12">å››ã€å‚æ•°è°ƒä¼˜æŒ‡å—</h3>
<h4 data-id="heading-13">1. åŸºç¡€å‚æ•°è®¾ç½®</h4>



































<table><thead><tr><th>å‚æ•°</th><th>æ¨èèŒƒå›´</th><th>ä½œç”¨</th><th>è°ƒä¼˜å»ºè®®</th></tr></thead><tbody><tr><td><code>blurAlpha</code></td><td>0.3-0.8</td><td>ç£¨çš®å¼ºåº¦</td><td>æ•°å€¼è¶Šå¤§çš®è‚¤è¶Šå…‰æ»‘ï¼Œä½†å¯èƒ½å¤±å»ç»†èŠ‚</td></tr><tr><td><code>sharpen</code></td><td>0.4-0.8</td><td>é”åŒ–å¼ºåº¦</td><td>è¡¥å¿ç£¨çš®æŸå¤±çš„ç»†èŠ‚ï¼Œå¢å¼ºè½®å»“</td></tr><tr><td><code>widthOffset</code></td><td>0.0005-0.002</td><td>æ°´å¹³é‡‡æ ·</td><td>æ§åˆ¶ç£¨çš®çš„èŒƒå›´å’ŒæŸ”å’Œåº¦</td></tr><tr><td><code>heightOffset</code></td><td>0.0005-0.002</td><td>å‚ç›´é‡‡æ ·</td><td>ä¸widthOffsetå…±åŒå†³å®šæ•ˆæœèŒƒå›´</td></tr></tbody></table>
<h4 data-id="heading-14">2. åœºæ™¯åŒ–é…ç½®æ¨¡æ¿</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># é…ç½®æ–‡ä»¶ç¤ºä¾‹</span>
<span class="hljs-attr">beauty_presets:</span>
  <span class="hljs-attr">natural_look:</span>        <span class="hljs-comment"># è‡ªç„¶å¦†å®¹</span>
    <span class="hljs-attr">blur_alpha:</span> <span class="hljs-number">0.45</span>
    <span class="hljs-attr">sharpen:</span> <span class="hljs-number">0.65</span>
    <span class="hljs-attr">use_mask:</span> <span class="hljs-literal">true</span>
    
  <span class="hljs-attr">porcelain_skin:</span>      <span class="hljs-comment"># ç“·å¨ƒå¨ƒæ•ˆæœ</span>
    <span class="hljs-attr">blur_alpha:</span> <span class="hljs-number">0.75</span>
    <span class="hljs-attr">sharpen:</span> <span class="hljs-number">0.50</span>
    <span class="hljs-attr">use_mask:</span> <span class="hljs-literal">true</span>
    
  <span class="hljs-attr">male_beauty:</span>         <span class="hljs-comment"># ç”·å£«ç¾é¢œ</span>
    <span class="hljs-attr">blur_alpha:</span> <span class="hljs-number">0.35</span>   <span class="hljs-comment"># ç”·å£«ç£¨çš®å¼ºåº¦è¾ƒä½</span>
    <span class="hljs-attr">sharpen:</span> <span class="hljs-number">0.75</span>      <span class="hljs-comment"># å¼ºè°ƒè½®å»“æ„Ÿ</span>
    <span class="hljs-attr">use_mask:</span> <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-15">äº”ã€æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
<h4 data-id="heading-16">1. ç§»åŠ¨ç«¯ä¼˜åŒ–</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// çº¹ç†å‹ç¼©å’Œé™çº§ç­–ç•¥</span>
public class MobileOptimization {
    public void <span class="hljs-built_in">optimizeForDevice</span>(DeviceInfo device) {
        if (device.gpuTier &lt; <span class="hljs-number">2</span>) {
            <span class="hljs-comment">// ä½ç«¯è®¾å¤‡ï¼šé™ä½ç²¾åº¦ï¼Œå‡å°‘é‡‡æ ·</span>
            <span class="hljs-built_in">setPrecision</span>("lowp");
            <span class="hljs-built_in">reduceSamplingPoints</span>(<span class="hljs-number">2</span>);  <span class="hljs-comment">// åªç”¨2ä¸ªé‡‡æ ·ç‚¹</span>
            
        } else if (device.gpuTier &gt;= <span class="hljs-number">3</span>) {
            <span class="hljs-comment">// é«˜ç«¯è®¾å¤‡ï¼šå¯ç”¨é«˜çº§ç‰¹æ€§</span>
            <span class="hljs-built_in">enableAdvancedFeatures</span>();
            <span class="hljs-built_in">increaseSamplingQuality</span>();
        }
    }
}
</code></pre>
<h4 data-id="heading-17">2. å®æ—¶æ€§ä¿è¯</h4>
<ul>
<li><strong>é¢„å¤„ç†ä¼˜åŒ–</strong>ï¼šæå‰è®¡ç®—é«˜æ–¯æ¨¡ç³Šå›¾åƒ</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šå¤ç”¨è’™ç‰ˆè®¡ç®—ç»“æœ</li>
<li><strong>åˆ†çº§å¤„ç†</strong>ï¼šæ ¹æ®è®¾å¤‡æ€§èƒ½åŠ¨æ€è°ƒæ•´è´¨é‡</li>
</ul>
<h3 data-id="heading-18">å…­ã€ç®—æ³•ä¼˜åŠ¿æ€»ç»“</h3>
<ol>
<li><strong>åŒé‡æ•ˆæœ</strong>ï¼šå¹³æ»‘ä¸é”åŒ–çš„å®Œç¾å¹³è¡¡</li>
<li><strong>è‡ªé€‚åº”å¤„ç†</strong>ï¼šæ ¹æ®å›¾åƒå†…å®¹æ™ºèƒ½è°ƒæ•´å‚æ•°</li>
<li><strong>ç²¾å‡†æ§åˆ¶</strong>ï¼šé€šè¿‡è’™ç‰ˆå®ç°åŒºåŸŸåŒ–å¤„ç†</li>
<li><strong>é«˜æ•ˆå®ç°</strong>ï¼šå•æ¬¡æ¸²æŸ“å®Œæˆå¤šé‡æ•ˆæœ</li>
<li><strong>è·¨å¹³å°å…¼å®¹</strong>ï¼šä»ç§»åŠ¨ç«¯åˆ°Webç«¯å‡å¯éƒ¨ç½²</li>
</ol>
<h3 data-id="heading-19">ä¸ƒã€å®é™…åº”ç”¨æ•ˆæœå¯¹æ¯”</h3>



































<table><thead><tr><th>å¤„ç†é˜¶æ®µ</th><th>çš®è‚¤åŒºåŸŸ</th><th>ç»†èŠ‚åŒºåŸŸ</th><th>æ•´ä½“æ•ˆæœ</th></tr></thead><tbody><tr><td>åŸå§‹å›¾åƒ</td><td>æœ‰ç‘•ç–µå’Œæ¯›å­”</td><td>ç»†èŠ‚æ¸…æ™°</td><td>çœŸå®ä½†éœ€ç¾åŒ–</td></tr><tr><td>ä»…å¹³æ»‘</td><td>å…‰æ»‘ä½†æ¨¡ç³Š</td><td>ç»†èŠ‚ä¸¢å¤±</td><td>ä¸è‡ªç„¶</td></tr><tr><td>ä»…é”åŒ–</td><td>ç‘•ç–µæ›´æ˜æ˜¾</td><td>ç»†èŠ‚å¢å¼º</td><td>è¿‡äºç”Ÿç¡¬</td></tr><tr><td>å­—èŠ‚ç®—æ³•</td><td>è‡ªç„¶å…‰æ»‘</td><td>ç»†èŠ‚ä¿ç•™</td><td>å®Œç¾å¹³è¡¡</td></tr></tbody></table>
<p>è¯¥ç®—æ³•å·²åœ¨å­—èŠ‚è·³åŠ¨å¤šä¸ªäº§å“ä¸­éªŒè¯ï¼Œèƒ½å¤Ÿåœ¨å¤§è§„æ¨¡ç”¨æˆ·åœºæ™¯ä¸‹ä¿æŒç¨³å®šçš„æ€§èƒ½å’Œæ•ˆæœï¼Œä»£è¡¨äº†å½“å‰ç§»åŠ¨ç«¯å®æ—¶ç¾é¢œæŠ€æœ¯çš„å…ˆè¿›æ°´å¹³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€JavaSEã€‘åŠ¨æ€ä»£ç†æŠ€æœ¯è¯¦è§£ä¸æ¡ˆä¾‹å®æˆ˜]]></title>    <link>https://juejin.cn/post/7581415427516481578</link>    <guid>https://juejin.cn/post/7581415427516481578</guid>    <pubDate>2025-12-09T06:12:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581415427516481578" data-draft-id="7581415427516317738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€JavaSEã€‘åŠ¨æ€ä»£ç†æŠ€æœ¯è¯¦è§£ä¸æ¡ˆä¾‹å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-09T06:12:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CyberShen"/> <meta itemprop="url" content="https://juejin.cn/user/554609587530014"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€JavaSEã€‘åŠ¨æ€ä»£ç†æŠ€æœ¯è¯¦è§£ä¸æ¡ˆä¾‹å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/554609587530014/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CyberShen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:12:33.000Z" title="Tue Dec 09 2025 06:12:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€åŠ¨æ€ä»£ç†æ¦‚è¿°</h2>
<p>åŠ¨æ€ä»£ç†æ˜¯Javaè¯­è¨€ä¸­ä¸€é¡¹å¼ºå¤§çš„æŠ€æœ¯ç‰¹æ€§ï¼Œå®ƒå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè€Œæ— éœ€åœ¨ç¼–è¯‘æœŸé¢„å…ˆå®šä¹‰ä»£ç†ç±»ã€‚ä¸é™æ€ä»£ç†ç›¸æ¯”ï¼ŒåŠ¨æ€ä»£ç†å…·æœ‰æ›´é«˜çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ˜¯ç°ä»£Javaæ¡†æ¶ï¼ˆå¦‚Springï¼‰çš„æ ¸å¿ƒåŸºç¡€ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-1">1.1 é™æ€ä»£ç† vs åŠ¨æ€ä»£ç†</h3>
<p><strong>é™æ€ä»£ç†</strong>éœ€è¦åœ¨ç¼–è¯‘æœŸæ‰‹åŠ¨ç¼–å†™ä»£ç†ç±»ï¼Œæ¯ä¸ªè¢«ä»£ç†ç±»éƒ½éœ€è¦å¯¹åº”ä¸€ä¸ªä»£ç†ç±»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é™æ€ä»£ç†ç¤ºä¾‹ï¼šéœ€è¦ä¸ºæ¯ä¸ªç±»ç¼–å†™ä»£ç†ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceStaticProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserService</span> userService;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">UserServiceStaticProxy</span>(<span class="hljs-title class_">UserService</span> userService) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span> = userService;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"Before method"</span>);
        userService.<span class="hljs-title function_">addUser</span>(name);
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"After method"</span>);
    }
}
</code></pre>
<p><strong>åŠ¨æ€ä»£ç†</strong>åˆ™åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä»£ç†ç±»ï¼Œå¤§å¤§å‡å°‘äº†ä»£ç é‡ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// åŠ¨æ€ä»£ç†ï¼šä¸€ä¸ªå¤„ç†å™¨å¯ä»¥ä»£ç†å¤šä¸ªç±»</span>
UserService proxy = (UserService) Proxy<span class="hljs-selector-class">.newProxyInstance</span>(
    target.getClass()<span class="hljs-selector-class">.getClassLoader</span>(),
    target<span class="hljs-selector-class">.getClass</span>()<span class="hljs-selector-class">.getInterfaces</span>(),
    new <span class="hljs-built_in">LoggingHandler</span>(target)
);
</code></pre>
<h3 data-id="heading-2">1.2 Javaä¸­ä¸¤ç§åŠ¨æ€ä»£ç†æ–¹å¼</h3>
<p>Javaå¹³å°ä¸»è¦æä¾›ä¸¤ç§åŠ¨æ€ä»£ç†å®ç°æœºåˆ¶ï¼š</p>
<ol>
<li><strong>JDKåŠ¨æ€ä»£ç†</strong>â€‹ - åŸºäºæ¥å£å®ç°ï¼ŒJavaåŸç”Ÿæ”¯æŒ</li>
<li><strong>CGLibåŠ¨æ€ä»£ç†</strong>â€‹ - åŸºäºç»§æ‰¿å®ç°ï¼Œéœ€å¼•å…¥ç¬¬ä¸‰æ–¹åº“</li>
</ol>
<p>è¿™ä¸¤ç§æ–¹å¼åœ¨å®ç°åŸç†ã€é€‚ç”¨åœºæ™¯å’Œæ€§èƒ½ç‰¹å¾ä¸Šæœ‰ç€æ˜¾è‘—å·®å¼‚ï¼Œä¸‹é¢æˆ‘ä»¬å°†æ·±å…¥æ¢è®¨è¿™ä¸¤ç§åŠ¨æ€ä»£ç†æŠ€æœ¯ã€‚</p>
<h2 data-id="heading-3">äºŒã€JDKåŠ¨æ€ä»£ç†è¯¦è§£</h2>
<h3 data-id="heading-4">2.1 JDKåŠ¨æ€ä»£ç†çš„æ ¸å¿ƒåŸç†</h3>
<p>JDKåŠ¨æ€ä»£ç†æ˜¯åŸºäº<strong>æ¥å£</strong>çš„ä»£ç†æ–¹å¼ã€‚å½“ç›®æ ‡ç±»å®ç°äº†è‡³å°‘ä¸€ä¸ªæ¥å£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ã€‚å…¶æ ¸å¿ƒåŸç†æ˜¯é€šè¿‡åå°„æœºåˆ¶åœ¨è¿è¡Œæ—¶åˆ›å»ºä¸€ä¸ªå®ç°äº†ç›®æ ‡æ¥å£çš„ä»£ç†ç±»ã€‚ <strong>æ ¸å¿ƒç»„ä»¶</strong>ï¼š</p>
<ul>
<li><code>java.lang.reflect.Proxy</code>- è´Ÿè´£ç”Ÿæˆä»£ç†ç±»</li>
<li><code>java.lang.reflect.InvocationHandler</code>- è°ƒç”¨å¤„ç†å™¨ï¼ŒåŒ…å«ä»£ç†é€»è¾‘</li>
</ul>
<h3 data-id="heading-5">2.2 JDKåŠ¨æ€ä»£ç†çš„å®ç°æœºåˆ¶</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. å®šä¹‰ä¸šåŠ¡æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-built_in">void</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-title class_">String</span> name);
    <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteUser</span>(<span class="hljs-title class_">String</span> name);
}

<span class="hljs-comment">// 2. å®ç°ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ·»åŠ ç”¨æˆ·: "</span> + name);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">deleteUser</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"åˆ é™¤ç”¨æˆ·: "</span> + name);
    }
}

<span class="hljs-comment">// 3. å®ç°InvocationHandler</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {
    <span class="hljs-keyword">private</span> final <span class="hljs-title class_">Object</span> target;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">LoggingHandler</span>(<span class="hljs-title class_">Object</span> target) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">target</span> = target;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">invoke</span>(<span class="hljs-title class_">Object</span> proxy, <span class="hljs-title class_">Method</span> method, <span class="hljs-title class_">Object</span>[] args) throws <span class="hljs-title class_">Throwable</span> {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"[JDKä»£ç†] è°ƒç”¨æ–¹æ³•: "</span> + method.<span class="hljs-title function_">getName</span>());
        long start = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
        
        <span class="hljs-title class_">Object</span> result = method.<span class="hljs-title function_">invoke</span>(target, args);
        
        long end = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"[JDKä»£ç†] æ–¹æ³•æ‰§è¡Œæ—¶é—´: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
        <span class="hljs-keyword">return</span> result;
    }
}

<span class="hljs-comment">// 4. ä½¿ç”¨ä»£ç†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdkProxyDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">UserService</span> realService = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();
        <span class="hljs-title class_">UserService</span> proxy = (<span class="hljs-title class_">UserService</span>) <span class="hljs-title class_">Proxy</span>.<span class="hljs-title function_">newProxyInstance</span>(
            realService.<span class="hljs-title function_">getClass</span>().<span class="hljs-title function_">getClassLoader</span>(),
            realService.<span class="hljs-title function_">getClass</span>().<span class="hljs-title function_">getInterfaces</span>(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoggingHandler</span>(realService)
        );
        
        proxy.<span class="hljs-title function_">addUser</span>(<span class="hljs-string">"å¼ ä¸‰"</span>);
    }
}
</code></pre>
<h3 data-id="heading-6">2.3 JDKåŠ¨æ€ä»£ç†çš„åˆ›å»ºæµç¨‹</h3>
<p>ä»¥ä¸‹æ˜¯JDKåŠ¨æ€ä»£ç†çš„åˆ›å»ºè¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç›®æ ‡å¯¹è±¡] --&gt; B[è·å–ClassLoader]
    B --&gt; C[è·å–æ¥å£æ•°ç»„]
    C --&gt; D[åˆ›å»ºInvocationHandler]
    D --&gt; E[è°ƒç”¨Proxy.newProxyInstance]
    E --&gt; F[ç”Ÿæˆä»£ç†ç±»å­—èŠ‚ç ]
    F --&gt; G[åŠ è½½ä»£ç†ç±»]
    G --&gt; H[åˆ›å»ºä»£ç†å®ä¾‹]
    H --&gt; I[è¿”å›ä»£ç†å¯¹è±¡]
</code></pre>
<p>å…·ä½“ç”Ÿæˆä»£ç†ç±»çš„åç¼–è¯‘ä»£ç å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// åç¼–è¯‘åçš„ä»£ç†ç±»ç¤ºä¾‹</span>
public <span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">$Proxy0</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Proxy</span> <span class="hljs-title">implements</span> <span class="hljs-title">UserService</span> </span>{
    <span class="hljs-keyword">private</span> static <span class="hljs-type">Method</span> m1;
    <span class="hljs-keyword">private</span> static <span class="hljs-type">Method</span> m3;
    <span class="hljs-keyword">private</span> static <span class="hljs-type">Method</span> m2;
    
    public $<span class="hljs-type">Proxy0</span>(<span class="hljs-type">InvocationHandler</span> var1) <span class="hljs-keyword">throws</span> {
        <span class="hljs-keyword">super</span>(var1);
    }
    
    public <span class="hljs-keyword">final</span> void addUser(<span class="hljs-type">String</span> var1) <span class="hljs-keyword">throws</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">super</span>.h.invoke(<span class="hljs-keyword">this</span>, m3, <span class="hljs-keyword">new</span> <span class="hljs-type">Object</span>[]{var1});
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">RuntimeException</span> | <span class="hljs-type">Error</span> var3) {
            <span class="hljs-keyword">throw</span> var3;
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">Throwable</span> var4) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">UndeclaredThrowableException</span>(var4);
        }
    }
    
    <span class="hljs-comment">// å…¶ä»–æ–¹æ³•...</span>
}
</code></pre>
<p>ä»åç¼–è¯‘ä»£ç å¯ä»¥çœ‹å‡ºï¼ŒJDKç”Ÿæˆçš„ä»£ç†ç±»ç»§æ‰¿è‡ª<code>Proxy</code>ç±»å¹¶å®ç°äº†ç›®æ ‡æ¥å£ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆJDKåŠ¨æ€ä»£ç†<strong>åªèƒ½åŸºäºæ¥å£</strong>è€Œä¸èƒ½åŸºäºç±»ã€‚</p>
<h2 data-id="heading-7">ä¸‰ã€CGLibåŠ¨æ€ä»£ç†è¯¦è§£</h2>
<h3 data-id="heading-8">3.1 CGLibåŠ¨æ€ä»£ç†çš„æ ¸å¿ƒåŸç†</h3>
<p>CGLibï¼ˆCode Generation Libraryï¼‰æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ã€é«˜æ€§èƒ½çš„ä»£ç ç”Ÿæˆåº“ï¼Œå®ƒé€šè¿‡<strong>ç»§æ‰¿</strong>ç›®æ ‡ç±»çš„æ–¹å¼æ¥å®ç°ä»£ç†ã€‚å½“ç›®æ ‡ç±»æ²¡æœ‰å®ç°ä»»ä½•æ¥å£æ—¶ï¼Œå¯ä»¥ä½¿ç”¨CGLibåŠ¨æ€ä»£ç†ã€‚ CGLibé€šè¿‡åœ¨è¿è¡Œæ—¶åˆ›å»ºç›®æ ‡ç±»çš„å­ç±»ï¼Œå¹¶é‡å†™å…¶ä¸­çš„éfinalæ–¹æ³•æ¥å®ç°ä»£ç†åŠŸèƒ½ã€‚ç”±äºæ˜¯åŸºäºç»§æ‰¿ï¼Œå› æ­¤å¯ä»¥ä»£ç†æ²¡æœ‰å®ç°æ¥å£çš„æ™®é€šJavaç±»ã€‚</p>
<h3 data-id="heading-9">3.2 CGLibåŠ¨æ€ä»£ç†çš„å®ç°æœºåˆ¶</h3>
<p>é¦–å…ˆéœ€è¦æ·»åŠ CGLibä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>cglib<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>cglib<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>å®ç°CGLibä»£ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. ç›®æ ‡ç±»ï¼ˆæ— éœ€å®ç°æ¥å£ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addProduct</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"æ·»åŠ äº§å“: "</span> + name);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getProductInfo</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"äº§å“ä¿¡æ¯: "</span> + name;
    }
}

<span class="hljs-comment">// 2. å®ç°MethodInterceptor</span>
<span class="hljs-keyword">import</span> net.<span class="hljs-property">sf</span>.<span class="hljs-property">cglib</span>.<span class="hljs-property">proxy</span>.<span class="hljs-property">Enhancer</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">sf</span>.<span class="hljs-property">cglib</span>.<span class="hljs-property">proxy</span>.<span class="hljs-property">MethodInterceptor</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">sf</span>.<span class="hljs-property">cglib</span>.<span class="hljs-property">proxy</span>.<span class="hljs-property">MethodProxy</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CglibProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MethodInterceptor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Object</span> target;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">getInstance</span>(<span class="hljs-params"><span class="hljs-built_in">Object</span> target</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">target</span> = target;
        <span class="hljs-title class_">Enhancer</span> enhancer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Enhancer</span>();
        <span class="hljs-comment">// è®¾ç½®çˆ¶ç±»</span>
        enhancer.<span class="hljs-title function_">setSuperclass</span>(target.<span class="hljs-title function_">getClass</span>());
        <span class="hljs-comment">// è®¾ç½®å›è°ƒ</span>
        enhancer.<span class="hljs-title function_">setCallback</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span>
        <span class="hljs-keyword">return</span> enhancer.<span class="hljs-title function_">create</span>();
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">intercept</span>(<span class="hljs-title class_">Object</span> obj, <span class="hljs-title class_">Method</span> method, <span class="hljs-title class_">Object</span>[] args, <span class="hljs-title class_">MethodProxy</span> proxy) throws <span class="hljs-title class_">Throwable</span> {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"[CGLibä»£ç†] æ–¹æ³•è°ƒç”¨å‰: "</span> + method.<span class="hljs-title function_">getName</span>());
        long start = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
        
        <span class="hljs-comment">// ä½¿ç”¨invokeSuperè°ƒç”¨çˆ¶ç±»æ–¹æ³•</span>
        <span class="hljs-title class_">Object</span> result = proxy.<span class="hljs-title function_">invokeSuper</span>(obj, args);
        
        long end = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>();
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"[CGLibä»£ç†] æ–¹æ³•æ‰§è¡Œæ—¶é—´: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
        <span class="hljs-keyword">return</span> result;
    }
}

<span class="hljs-comment">// 3. ä½¿ç”¨ä»£ç†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CglibTest</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>) {
        <span class="hljs-title class_">ProductService</span> target = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProductService</span>();
        <span class="hljs-title class_">CglibProxy</span> proxyFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CglibProxy</span>();
        <span class="hljs-title class_">ProductService</span> proxy = (<span class="hljs-title class_">ProductService</span>) proxyFactory.<span class="hljs-title function_">getInstance</span>(target);
        
        proxy.<span class="hljs-title function_">addProduct</span>(<span class="hljs-string">"ç¬”è®°æœ¬ç”µè„‘"</span>);
    }
}
</code></pre>
<h3 data-id="heading-10">3.3 CGLibçš„åŠ¨æ€ä»£ç†æœºåˆ¶</h3>
<p>CGLibé‡‡ç”¨<strong>FastClassæœºåˆ¶</strong>ä¸ºä»£ç†ç±»å’Œè¢«ä»£ç†ç±»å„ç”Ÿæˆä¸€ä¸ªç±»ï¼Œä¸ºä»£ç†ç±»æˆ–è¢«ä»£ç†ç±»çš„æ–¹æ³•åˆ†é…ç´¢å¼•ï¼Œè°ƒç”¨æ—¶ç›´æ¥æ ¹æ®ç´¢å¼•æ¥æ‰§è¡Œæ–¹æ³•ï¼Œé¿å…äº†ä½¿ç”¨åå°„è°ƒç”¨å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚</p>
<h2 data-id="heading-11">å››ã€JDKä»£ç† vs CGLibä»£ç†å…¨é¢å¯¹æ¯”</h2>
<h3 data-id="heading-12">4.1 åŸç†æœºåˆ¶å¯¹æ¯”</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>JDKåŠ¨æ€ä»£ç†</th><th>CGLibåŠ¨æ€ä»£ç†</th></tr></thead><tbody><tr><td><strong>å®ç°åŸºç¡€</strong>â€‹</td><td>åŸºäºæ¥å£å®ç°</td><td>åŸºäºç»§æ‰¿å®ç°</td></tr><tr><td><strong>ä»£ç†ç›®æ ‡</strong>â€‹</td><td>åªèƒ½ä»£ç†æ¥å£</td><td>å¯ä»¥ä»£ç†æ™®é€šç±»</td></tr><tr><td><strong>ç”Ÿæˆæ–¹å¼</strong>â€‹</td><td>åå°„æœºåˆ¶ç”Ÿæˆä»£ç†ç±»</td><td>å­—èŠ‚ç æŠ€æœ¯ç”Ÿæˆå­ç±»</td></tr><tr><td><strong>æ–¹æ³•è°ƒç”¨</strong>â€‹</td><td>åå°„è°ƒç”¨ç›®æ ‡æ–¹æ³•</td><td>é€šè¿‡FastClassæœºåˆ¶ç›´æ¥è°ƒç”¨</td></tr></tbody></table>
<h3 data-id="heading-13">4.2 æ€§èƒ½å¯¹æ¯”</h3>
<p>æ ¹æ®å®é™…æµ‹è¯•æ•°æ®ï¼Œä¸¤ç§ä»£ç†åœ¨æ€§èƒ½ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š</p>

























<table><thead><tr><th>åœºæ™¯</th><th>JDKåŠ¨æ€ä»£ç†</th><th>CGLibåŠ¨æ€ä»£ç†</th></tr></thead><tbody><tr><td><strong>åˆ›å»ºé€Ÿåº¦</strong>â€‹</td><td>è¾ƒå¿«ï¼ˆåå°„ç”Ÿæˆï¼‰</td><td>è¾ƒæ…¢ï¼ˆå­—èŠ‚ç ç”Ÿæˆï¼Œçº¦æ…¢8å€ï¼‰</td></tr><tr><td><strong>æ‰§è¡Œé€Ÿåº¦</strong>â€‹</td><td>è¾ƒæ…¢ï¼ˆåå°„è°ƒç”¨ï¼‰</td><td>è¾ƒå¿«ï¼ˆç›´æ¥è°ƒç”¨ï¼Œçº¦å¿«10å€ï¼‰</td></tr><tr><td><strong>å†…å­˜å ç”¨</strong>â€‹</td><td>è¾ƒå°</td><td>è¾ƒå¤§ï¼ˆç”Ÿæˆå­ç±»ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-14">4.3 ä½¿ç”¨é™åˆ¶å¯¹æ¯”</h3>

























<table><thead><tr><th>é™åˆ¶æ–¹é¢</th><th>JDKåŠ¨æ€ä»£ç†</th><th>CGLibåŠ¨æ€ä»£ç†</th></tr></thead><tbody><tr><td><strong>æ¥å£è¦æ±‚</strong>â€‹</td><td>å¿…é¡»å®ç°æ¥å£</td><td>æ— éœ€æ¥å£</td></tr><tr><td><strong>finalé™åˆ¶</strong>â€‹</td><td>æ— é™åˆ¶</td><td>ä¸èƒ½ä»£ç†finalç±»å’Œæ–¹æ³•</td></tr><tr><td><strong>æ„é€ å™¨è¦æ±‚</strong>â€‹</td><td>æ— ç‰¹æ®Šè¦æ±‚</td><td>éœ€è¦é»˜è®¤æ„é€ å™¨</td></tr></tbody></table>
<h2 data-id="heading-15">äº”ã€Springæ¡†æ¶ä¸­çš„ä»£ç†é€‰æ‹©æœºåˆ¶</h2>
<p>Springæ¡†æ¶æ ¹æ®ç›®æ ‡ç±»çš„ç‰¹æ€§è‡ªåŠ¨é€‰æ‹©ä»£ç†æ–¹å¼ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
A[ç›®æ ‡ç±»] --&gt; B{æ˜¯å¦å®ç°æ¥å£}
B --&gt;|æ˜¯| C[JDKåŠ¨æ€ä»£ç†]
B --&gt;|å¦| D[CGLibåŠ¨æ€ä»£ç†]
C --&gt; E[ç”Ÿæˆä»£ç†å¯¹è±¡]
D --&gt; E
</code></pre>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¯ä»¥å¼ºåˆ¶Springä½¿ç”¨CGLibä»£ç†ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å¼ºåˆ¶ä½¿ç”¨CGLibä»£ç† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span> <span class="hljs-attr">proxy-target-class</span>=<span class="hljs-string">"true"</span>/&gt;</span>
</code></pre>
<h2 data-id="heading-16">å…­ã€å®é™…åº”ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-17">6.1 é€‰æ‹©å»ºè®®</h3>
<ol>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨JDKåŠ¨æ€ä»£ç†çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç›®æ ‡å¯¹è±¡å·²ç»å®ç°äº†æ¥å£</li>
<li>éœ€è¦é¢‘ç¹åˆ›å»ºå’Œé”€æ¯ä»£ç†å¯¹è±¡</li>
<li>å¯¹å¯åŠ¨æ€§èƒ½è¦æ±‚è¾ƒé«˜</li>
</ul>
</li>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨CGLibåŠ¨æ€ä»£ç†çš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ç›®æ ‡å¯¹è±¡æ²¡æœ‰å®ç°æ¥å£</li>
<li>å•ä¾‹å¯¹è±¡ï¼Œä¸éœ€è¦é¢‘ç¹åˆ›å»ºä»£ç†</li>
<li>å¯¹è¿è¡Œæ—¶æ€§èƒ½è¦æ±‚è¾ƒé«˜</li>
</ul>
</li>
</ol>
<h3 data-id="heading-18">6.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>å¯¹äºå•ä¾‹å¯¹è±¡</strong>ï¼Œä½¿ç”¨CGLibä»£ç†æ›´åˆé€‚ï¼Œå› ä¸ºæ‰§è¡Œæ€§èƒ½æ›´é«˜</li>
<li><strong>å¯¹äºé¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡</strong>ï¼Œä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œå› ä¸ºåˆ›å»ºå¼€é”€è¾ƒå°</li>
<li><strong>ç¼“å­˜ä»£ç†å¯¹è±¡</strong>ï¼Œé¿å…é‡å¤åˆ›å»ºå¸¦æ¥çš„æ€§èƒ½å¼€é”€</li>
<li><strong>åˆç†ä½¿ç”¨æ¡ä»¶åˆ¤æ–­</strong>ï¼Œé¿å…ä¸å¿…è¦çš„ä»£ç†é€»è¾‘</li>
</ol>
<h3 data-id="heading-19">6.3 ç»¼åˆç¤ºä¾‹ï¼šæ—¥å¿—è®°å½•ä¸æ€§èƒ½ç›‘æ§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç»¼åˆä»£ç†å·¥å‚ï¼Œæ ¹æ®æ¡ä»¶é€‰æ‹©ä»£ç†æ–¹å¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProxyFactory</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">getProxy</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-comment">// å¦‚æœæœ‰æ¥å£ï¼Œä½¿ç”¨JDKä»£ç†ï¼›å¦åˆ™ä½¿ç”¨CGLibä»£ç†</span>
        <span class="hljs-keyword">if</span> (target.getClass().getInterfaces().length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> createJdkProxy(target);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> createCglibProxy(target);
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">createJdkProxy</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-keyword">return</span> Proxy.newProxyInstance(
            target.getClass().getClassLoader(),
            target.getClass().getInterfaces(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LoggingInvocationHandler</span>(target)
        );
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Object <span class="hljs-title function_">createCglibProxy</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-type">Enhancer</span> <span class="hljs-variable">enhancer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Enhancer</span>();
        enhancer.setSuperclass(target.getClass());
        enhancer.setCallback(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LoggingMethodInterceptor</span>(target));
        <span class="hljs-keyword">return</span> enhancer.create();
    }
}

<span class="hljs-comment">// JDKä»£ç†å¤„ç†å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object target;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LoggingInvocationHandler</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-built_in">this</span>.target = target;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// ç»Ÿä¸€çš„é¢„å¤„ç†é€»è¾‘</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"å¼€å§‹æ‰§è¡Œ: "</span> + method.getName());
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(target, args);
            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            System.out.println(<span class="hljs-string">"æ‰§è¡Œå®Œæˆ: "</span> + method.getName() + <span class="hljs-string">", è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
        }
    }
}

<span class="hljs-comment">// CGLibæ–¹æ³•æ‹¦æˆªå™¨  </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingMethodInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MethodInterceptor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object target;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LoggingMethodInterceptor</span><span class="hljs-params">(Object target)</span> {
        <span class="hljs-built_in">this</span>.target = target;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Object obj, Method method, Object[] args, MethodProxy proxy)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(<span class="hljs-string">"å¼€å§‹æ‰§è¡Œ: "</span> + method.getName());
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä½¿ç”¨invokeSuperè°ƒç”¨çˆ¶ç±»æ–¹æ³•</span>
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> proxy.invokeSuper(obj, args);
            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-type">long</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
            System.out.println(<span class="hljs-string">"æ‰§è¡Œå®Œæˆ: "</span> + method.getName() + <span class="hljs-string">", è€—æ—¶: "</span> + (end - start) + <span class="hljs-string">"ms"</span>);
        }
    }
}
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€æ€»ç»“</h2>
<p>JDKåŠ¨æ€ä»£ç†å’ŒCGLibåŠ¨æ€ä»£ç†éƒ½æ˜¯Javaä¸­å¼ºå¤§çš„ä»£ç†æŠ€æœ¯ï¼Œå„æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>JDKåŠ¨æ€ä»£ç†</strong>åŸºäºæ¥å£å®ç°ï¼Œæ˜¯Javaæ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œä½¿ç”¨ç®€å•ä½†åŠŸèƒ½æœ‰é™</li>
<li><strong>CGLibåŠ¨æ€ä»£ç†</strong>åŸºäºç»§æ‰¿å®ç°ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ä½†éœ€è¦ç¬¬ä¸‰æ–¹åº“æ”¯æŒ</li>
</ul>
<p><strong>é€‰æ‹©ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å¦‚æœç›®æ ‡å¯¹è±¡å·²ç»å®ç°äº†æ¥å£ï¼Œä¼˜å…ˆä½¿ç”¨JDKåŠ¨æ€ä»£ç†</li>
<li>å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰æ¥å£æˆ–è€…æ˜¯éœ€è¦æ›´é«˜æ€§èƒ½çš„å•ä¾‹ï¼Œä½¿ç”¨CGLibåŠ¨æ€ä»£ç†</li>
<li>åœ¨Springç¯å¢ƒä¸­ï¼Œé€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨é€‰æ‹©ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨é€‰ç”¨åˆé€‚çš„ä»£ç†æ–¹å¼</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–]]></title>    <link>https://juejin.cn/post/7581437632855015464</link>    <guid>https://juejin.cn/post/7581437632855015464</guid>    <pubDate>2025-12-09T06:40:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581437632855015464" data-draft-id="7581545175508598836" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-09T06:40:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HashTang"/> <meta itemprop="url" content="https://juejin.cn/user/1117561754756488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561754756488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HashTang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:40:54.000Z" title="Tue Dec 09 2025 06:40:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><blockquote>
<p>ä¼ ç»Ÿæ–¹å¼æ­å»ºå‰ç«¯é¡¹ç›®ï¼šæŸ¥æ–‡æ¡£ã€è¯•é”™ã€è°ƒè¯•ï¼Œè€—æ—¶ 1 å¤©èµ·æ­¥ã€‚AI è¾…åŠ©ï¼šå¯¹è¯å¼é…ç½®ï¼Œ1 å°æ—¶æå®šã€‚è¿™æ˜¯ã€Š<a href="https://juejin.cn/column/7579556047783624756" target="_blank" title="https://juejin.cn/column/7579556047783624756">AI ç¼–ç¨‹å®æˆ˜ï¼šTRAE SOLO å…¨æ ˆå¼€å‘æŒ‡å—</a>ã€‹ä¸“æ çš„ç¬¬äºŒç¯‡æ–‡ç« ï¼Œå¸¦ä½ ç”¨ AI å¿«é€Ÿæ­å»ºä¸“ä¸šçº§å‰ç«¯é¡¹ç›®æ¶æ„ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ï¼šä¸ºä»€ä¹ˆé¡¹ç›®åˆå§‹åŒ–è¿™ä¹ˆè®©äººå¤´ç–¼ï¼Ÿ</h2>
<p>è¿˜è®°å¾—ä¸Šä¸€ç¯‡æ–‡ç« é‡Œæåˆ°çš„å°ä½•å—ï¼Ÿä»–åœ¨"å¿ƒåŠ¨æ‹èŠ"é¡¹ç›®ä¸­é‡åˆ°çš„ç¬¬ä¸€ä¸ªæŒ‘æˆ˜ï¼Œå°±æ˜¯å‰ç«¯é¡¹ç›®åˆå§‹åŒ–ã€‚</p>
<h3 data-id="heading-1">1.1 ä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹</h3>
<p>å¦‚æœä½ åšè¿‡å‰ç«¯é¡¹ç›®ï¼Œä¸€å®šæ·±æœ‰ä½“ä¼šï¼š</p>
<p><strong>æŠ€æœ¯é€‰å‹è¿·èŒ«</strong>ï¼š</p>
<pre><code class="hljs">UniApp vs Taro vs åŸç”Ÿï¼Ÿ
Vue3 è¿˜æ˜¯ Reactï¼Ÿ
Vite è¿˜æ˜¯ Webpackï¼Ÿ
UnoCSS è¿˜æ˜¯ Tailwind CSSï¼Ÿ
</code></pre>
<p>æ¯ä¸ªé€‰æ‹©èƒŒåéƒ½æ˜¯æ— æ•°çš„æ–‡æ¡£ã€åšå®¢ã€è¸©å‘è®°å½•ã€‚å…‰æ˜¯æŠ€æœ¯é€‰å‹ï¼Œå°±èƒ½è®©äººçº ç»“åŠå¤©ã€‚</p>
<p><strong>é…ç½®åœ°ç‹±</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">vite.config.ts
tsconfig.json
uno.config.ts
.eslintrc.js
.prettierrc
pages.json
manifest.json
...
</code></pre>
<p>æ¯ä¸€ä¸ªé…ç½®æ–‡ä»¶éƒ½æœ‰è‡ªå·±çš„è¯­æ³•ã€è§„åˆ™ã€å‘ç‚¹ã€‚é…ç½®å®Œä¸€ä¸ªï¼Œè¿˜æœ‰ä¸‹ä¸€ä¸ªåœ¨ç­‰ç€ä½ ã€‚</p>
<p><strong>æ—¶é—´é»‘æ´</strong>ï¼š</p>
<p>å°ä½•æœ€åˆçš„ä¼°ç®—ï¼š</p>

















































<table><thead><tr><th>ä»»åŠ¡</th><th>é¢„è®¡æ—¶é—´</th></tr></thead><tbody><tr><td>æŠ€æœ¯è°ƒç ”</td><td>2 å°æ—¶</td></tr><tr><td>é¡¹ç›®åˆ›å»º</td><td>0.5 å°æ—¶</td></tr><tr><td>Vite é…ç½®</td><td>1 å°æ—¶</td></tr><tr><td>TypeScript é…ç½®</td><td>1 å°æ—¶</td></tr><tr><td>UI æ¡†æ¶é›†æˆ</td><td>2 å°æ—¶</td></tr><tr><td>è‡ªåŠ¨å¯¼å…¥é…ç½®</td><td>1 å°æ—¶</td></tr><tr><td>è·¯ç”±é…ç½®</td><td>1 å°æ—¶</td></tr><tr><td>ç¯å¢ƒå˜é‡é…ç½®</td><td>0.5 å°æ—¶</td></tr><tr><td>ä»£ç è§„èŒƒé…ç½®</td><td>2 å°æ—¶</td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>11 å°æ—¶</strong></td></tr></tbody></table>
<p>å®é™…ä¸Šï¼Œå› ä¸ºå„ç§é—®é¢˜ã€ç‰ˆæœ¬å†²çªã€é…ç½®ä¸å…¼å®¹ï¼Œå¾€å¾€éœ€è¦ <strong>1.5-2 å¤©</strong>ã€‚</p>
<h3 data-id="heading-2">1.2 AI è¾…åŠ©çš„é©å‘½æ€§å˜åŒ–</h3>
<p>æœ‰äº† TRAE SOLOï¼Œä¸€åˆ‡éƒ½ä¸åŒäº†ã€‚</p>
<p><strong>å°ä½•çš„å®é™…ä½“éªŒ</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šå¸®æˆ‘åˆ›å»ºä¸€ä¸ª UniApp + Vue3 + TypeScript é¡¹ç›®ï¼Œ
      ä½¿ç”¨ Vite æ„å»ºï¼Œæ”¯æŒå¾®ä¿¡å°ç¨‹åºã€H5ã€App ä¸‰ç«¯ï¼Œ
      é›†æˆ UnoCSS å’Œ UView Pro ç»„ä»¶åº“

AIï¼šå¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ æ­å»ºå®Œæ•´çš„é¡¹ç›®æ¶æ„ï¼š

    âœ“ åˆ†æéœ€æ±‚ï¼Œç¡®å®šæŠ€æœ¯é€‰å‹
    âœ“ åˆ›å»º Monorepo é¡¹ç›®ç»“æ„
    âœ“ é…ç½® Vite æ„å»ºå·¥å…·
    âœ“ é›†æˆ TypeScript ä¸¥æ ¼æ¨¡å¼
    âœ“ é…ç½® UnoCSS åŸå­åŒ– CSS
    âœ“ é›†æˆ UView Pro ç»„ä»¶åº“
    âœ“ è®¾ç½®è‡ªåŠ¨å¯¼å…¥
    âœ“ é…ç½®å¤šç¯å¢ƒå˜é‡
    âœ“ æ·»åŠ ä»£ç è§„èŒƒå·¥å…·

    é¡¹ç›®ç»“æ„å·²ç”Ÿæˆï¼Œè¯·æŸ¥çœ‹...
</code></pre>
<p><strong>ä¸€å¤©çš„å·¥ä½œï¼Œä¸åˆ°ä¸€å°æ—¶å®Œæˆã€‚</strong> è¿™å°±æ˜¯ AI è¾…åŠ©å¼€å‘çš„é­”åŠ›ã€‚</p>
<h2 data-id="heading-3">äºŒã€æŠ€æœ¯é€‰å‹ï¼šè®© AI å¸®ä½ åšå†³ç­–</h2>
<h3 data-id="heading-4">2.1 æ¡†æ¶å¯¹æ¯”åˆ†æ</h3>
<p>é¡¹ç›®å¼€å§‹å‰ï¼Œå°ä½•éœ€è¦ç¡®å®šæŠ€æœ¯é€‰å‹ã€‚ä¼ ç»Ÿåšæ³•æ˜¯æœç´¢å„ç§åšå®¢æ–‡ç« ã€æŠ€æœ¯å¯¹æ¯”ï¼Œç„¶åçº ç»“åŠå¤©ã€‚</p>
<p><strong>TRAE SOLO çš„åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šå¸®æˆ‘å¯¹æ¯” UniAppã€Taroã€åŸç”Ÿå°ç¨‹åºçš„ä¼˜åŠ£ï¼Œ
      é¡¹ç›®éœ€æ±‚ï¼šç¤¾äº¤ç±»å°ç¨‹åºï¼Œéœ€è¦æ”¯æŒå¾®ä¿¡å°ç¨‹åºã€H5ã€App ä¸‰ç«¯

AIï¼šï¼ˆé€šè¿‡ MCP å®æ—¶æŸ¥é˜…æœ€æ–°æ–‡æ¡£ï¼‰

      åˆ†æç»“è®ºï¼š

      1. UniApp ä¼˜åŠ¿ï¼š
         - ä¸€å¥—ä»£ç ï¼Œæ”¯æŒå¾®ä¿¡/H5/App/é¸¿è’™ç­‰å¤šç«¯
         - Vue3 æŠ€æœ¯æ ˆï¼Œå­¦ä¹ æˆæœ¬ä½
         - ç”Ÿæ€å®Œå–„ï¼Œç»„ä»¶åº“ä¸°å¯Œ
         - æ–‡æ¡£å®Œå–„ï¼Œç¤¾åŒºæ´»è·ƒ

      2. Taro ä¼˜åŠ¿ï¼š
         - React æŠ€æœ¯æ ˆå‹å¥½
         - é€‚åˆå·²æœ‰ React ç»éªŒçš„å›¢é˜Ÿ

      3. åŸç”Ÿå°ç¨‹åºï¼š
         - æ€§èƒ½æœ€ä¼˜
         - ä½†åªèƒ½åœ¨å•ä¸€å¹³å°è¿è¡Œ

      æ¨èï¼šUniApp + Vue3

      ç†ç”±ï¼š
      1. é¡¹ç›®éœ€è¦ä¸‰ç«¯å‘å¸ƒï¼ŒUniApp è·¨ç«¯èƒ½åŠ›æœ€å¼º
      2. ç¤¾äº¤ç±»åº”ç”¨è¿­ä»£å¿«ï¼ŒUniApp å¼€å‘æ•ˆç‡é«˜
      3. åç»­è¿˜è¦æ‰©å±•åˆ°é¸¿è’™ã€å®‰å“ã€iOSï¼ŒUniApp æ”¯æŒæœ€å…¨
</code></pre>
<p><strong>5 åˆ†é’Ÿï¼Œå¾—åˆ°äº†ä¸“ä¸šçº§çš„æŠ€æœ¯é€‰å‹åˆ†ææŠ¥å‘Šã€‚</strong></p>
<h3 data-id="heading-5">2.2 æ„å»ºå·¥å…·é€‰æ‹©</h3>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šUniApp åº”è¯¥ç”¨ Vite è¿˜æ˜¯ Webpackï¼Ÿ

AIï¼šå¼ºçƒˆæ¨è Viteï¼

      å¯¹æ¯”åˆ†æï¼š
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   ç»´åº¦     â”‚     Vite       â”‚    Webpack     â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚ å†·å¯åŠ¨     â”‚ æ¯«ç§’çº§         â”‚ ç§’çº§           â”‚
      â”‚ çƒ­æ›´æ–°     â”‚ å³æ—¶           â”‚ æœ‰å»¶è¿Ÿ         â”‚
      â”‚ é…ç½®å¤æ‚åº¦ â”‚ ç®€å•           â”‚ å¤æ‚           â”‚
      â”‚ ç”Ÿæ€æ”¯æŒ   â”‚ å®Œå–„           â”‚ éå¸¸å®Œå–„       â”‚
      â”‚ æ„å»ºé€Ÿåº¦   â”‚ å¿«             â”‚ è¾ƒæ…¢           â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

      å®æµ‹æ•°æ®ï¼ˆå¿ƒåŠ¨æ‹èŠé¡¹ç›®ï¼‰ï¼š
      - Vite å†·å¯åŠ¨ï¼š1.2 ç§’
      - Webpack å†·å¯åŠ¨ï¼š8.5 ç§’

      ç»“è®ºï¼šVite å¼€å‘ä½“éªŒå®Œèƒœï¼Œé€‰å®ƒï¼
</code></pre>
<h3 data-id="heading-6">2.3 æœ€ç»ˆæŠ€æœ¯æ ˆç¡®å®š</h3>
<p>é€šè¿‡ AI è¾…åŠ©åˆ†æï¼Œ"å¿ƒåŠ¨æ‹èŠ"é¡¹ç›®ç¡®å®šäº†ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å‰ç«¯æŠ€æœ¯æ ˆï¼š
â”œâ”€â”€ æ¡†æ¶ï¼šUniApp + Vue 3.4.21
â”œâ”€â”€ æ„å»ºå·¥å…·ï¼šVite 5.2.8
â”œâ”€â”€ è¯­è¨€ï¼šTypeScript 5.7
â”œâ”€â”€ çŠ¶æ€ç®¡ç†ï¼šPinia 2.0.36 + æŒä¹…åŒ–
â”œâ”€â”€ åŸå­åŒ– CSSï¼šUnoCSS 66.0
â”œâ”€â”€ UI ç»„ä»¶åº“ï¼šUView Pro
â”œâ”€â”€ HTTP è¯·æ±‚ï¼šè‡ªå®šä¹‰å°è£…ï¼ˆåŸºäº uni.requestï¼‰
â”œâ”€â”€ åˆ—è¡¨ä¼˜åŒ–ï¼šz-paging 2.8.7
â””â”€â”€ æ•°æ®è¯·æ±‚ï¼š@tanstack/vue-query
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€é¡¹ç›®åˆå§‹åŒ–ï¼šAI ä¸€é”®ç”Ÿæˆ</h2>
<h3 data-id="heading-8">3.1 Monorepo é¡¹ç›®ç»“æ„</h3>
<p>"å¿ƒåŠ¨æ‹èŠ"é‡‡ç”¨ Monorepo æ¶æ„ï¼Œè¿™æ˜¯ç°ä»£å‰ç«¯é¡¹ç›®çš„æœ€ä½³å®è·µã€‚</p>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘åˆ›å»ºä¸€ä¸ª Monorepo é¡¹ç›®ç»“æ„ï¼ŒåŒ…å«ï¼š
1. apps/unibest-mp - UniApp å°ç¨‹åºç«¯
2. apps/xindong-server - Next.js æœåŠ¡ç«¯
3. packages/shared-types - å…±äº«ç±»å‹å®šä¹‰
ä½¿ç”¨ pnpm ç®¡ç†ä¾èµ–ï¼ŒTurborepo ç¼–æ’ä»»åŠ¡
</code></pre>
<p><strong>AI ç”Ÿæˆçš„é¡¹ç›®ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">xingdong/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ unibest-mp/              # UniApp å¤šç«¯åº”ç”¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ api/             # API æ¥å£å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ components/      # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ composables/     # ç»„åˆå¼å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ http/            # HTTP è¯·æ±‚å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ layouts/         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ store/           # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ subPackages/     # åˆ†åŒ…é¡µé¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ agreement/   # åè®®ç›¸å…³
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ vip/         # ä¼šå‘˜ç›¸å…³
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ planForm/    # è®¡åˆ’è¡¨å•
â”‚   â”‚   â”‚   â”œâ”€â”€ tabbar/          # åº•éƒ¨å¯¼èˆª
â”‚   â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ env/                 # ç¯å¢ƒå˜é‡
â”‚   â”‚   â”œâ”€â”€ vite.config.ts       # Vite é…ç½®
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ xingdong-server/         # Next.js æœåŠ¡ç«¯
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â””â”€â”€ app/             # App Router
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ shared-types/            # å…±äº«ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â””â”€â”€ index.ts
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ pnpm-workspace.yaml          # pnpm å·¥ä½œåŒºé…ç½®
â”œâ”€â”€ turbo.json                   # Turborepo é…ç½®
â””â”€â”€ package.json                 # æ ¹é…ç½®
</code></pre>
<p><strong>pnpm-workspace.yaml</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">packages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">apps/*</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">packages/*</span>
</code></pre>
<p><strong>turbo.json</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"$schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://turbo.build/schema.json"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tasks"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"dependsOn"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"^build"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"outputs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"apps/unibest-mp/dist/**"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"apps/xingdong-server/.next/**"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"cache"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"persistent"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™ä¸ªç»“æ„çš„å¥½å¤„ï¼š</p>
<ol>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šshared-types åŒ…è®©å‰åç«¯ç±»å‹ä¸€è‡´</li>
<li><strong>ç‹¬ç«‹å¼€å‘</strong>ï¼šå‰åç«¯å¯ä»¥ç‹¬ç«‹å¯åŠ¨ã€ç‹¬ç«‹éƒ¨ç½²</li>
<li><strong>å¹¶è¡Œæ„å»º</strong>ï¼šTurborepo è‡ªåŠ¨å¹¶è¡Œæ‰§è¡Œä¸ç›¸å…³çš„ä»»åŠ¡</li>
</ol>
<h3 data-id="heading-9">3.2 é…ç½® Vite</h3>
<p>Vite é…ç½®æ˜¯å‰ç«¯é¡¹ç›®çš„æ ¸å¿ƒã€‚è®©æˆ‘ä»¬çœ‹çœ‹ AI ç”Ÿæˆçš„å®é™…é…ç½®ï¼š</p>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘é…ç½® UniApp çš„ Vite é…ç½®æ–‡ä»¶ï¼Œéœ€è¦ï¼š
1. è‡ªåŠ¨å¯¼å…¥ Vue API
2. è‡ªåŠ¨å¯¼å…¥ uni-app API
3. è‡ªåŠ¨å¯¼å…¥è‡ªå®šä¹‰ hooks
4. é…ç½®è·¯å¾„åˆ«å
5. æ”¯æŒå¤šç¯å¢ƒå˜é‡
6. é›†æˆ UnoCSS
7. é…ç½®åˆ†åŒ…ä¼˜åŒ–
</code></pre>
<p><strong>ç”Ÿæˆçš„ vite.config.tsï¼ˆå®é™…é¡¹ç›®é…ç½®ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts æ ¸å¿ƒé…ç½®ç‰‡æ®µ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ({ command, mode }) =&gt; {
  <span class="hljs-comment">// ... ç¯å¢ƒå˜é‡åŠ è½½é€»è¾‘ ...</span>

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">defineConfig</span>({
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-comment">// 1. é¡µé¢è·¯ç”±è‡ªåŠ¨ç”Ÿæˆ</span>
      <span class="hljs-title class_">UniPages</span>({
        <span class="hljs-attr">exclude</span>: [<span class="hljs-string">'**/components/**/**.*'</span>],
        <span class="hljs-attr">subPackages</span>: [
          <span class="hljs-string">'src/subPackages/agreement'</span>,
          <span class="hljs-string">'src/subPackages/vip'</span>,
          <span class="hljs-string">'src/subPackages/planForm'</span>,
        ],
      }),

      <span class="hljs-comment">// 2. å¸ƒå±€ç³»ç»Ÿ &amp; å¹³å°é€‚é…</span>
      <span class="hljs-title class_">UniLayouts</span>(),
      <span class="hljs-title class_">UniPlatform</span>(),
      <span class="hljs-title class_">UniManifest</span>(),

      <span class="hljs-comment">// 3. ä¿®å¤ Vue ç¼–è¯‘é—®é¢˜ï¼ˆAI è‡ªåŠ¨ç”Ÿæˆçš„è¡¥ä¸ï¼‰</span>
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'fix-vite-plugin-vue'</span>,
        <span class="hljs-title function_">configResolved</span>(<span class="hljs-params">config</span>) {
          <span class="hljs-keyword">const</span> plugin = config.<span class="hljs-property">plugins</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> p.<span class="hljs-property">name</span> === <span class="hljs-string">'vite:vue'</span>);
          <span class="hljs-keyword">if</span> (plugin &amp;&amp; plugin.<span class="hljs-property">api</span> &amp;&amp; plugin.<span class="hljs-property">api</span>.<span class="hljs-property">options</span>) {
            plugin.<span class="hljs-property">api</span>.<span class="hljs-property">options</span>.<span class="hljs-property">devToolsEnabled</span> = <span class="hljs-literal">false</span>;
          }
        },
      },

      <span class="hljs-comment">// 4. UnoCSS åŸå­åŒ– CSS</span>
      <span class="hljs-title class_">UnoCSS</span>(),

      <span class="hljs-comment">// 5. è‡ªåŠ¨å¯¼å…¥</span>
      <span class="hljs-title class_">AutoImport</span>({
        <span class="hljs-attr">imports</span>: [<span class="hljs-string">'vue'</span>, <span class="hljs-string">'uni-app'</span>],
        <span class="hljs-attr">dirs</span>: [<span class="hljs-string">'src/hooks'</span>],
        <span class="hljs-attr">vueTemplate</span>: <span class="hljs-literal">true</span>,
      }),

      <span class="hljs-comment">// ... å…¶ä»–æ’ä»¶</span>
      <span class="hljs-title class_">Uni</span>(),
    ],
    <span class="hljs-comment">// ...</span>
  });
};
</code></pre>
<p><strong>è¿™ä¸ªé…ç½®åŒ…å«äº†</strong>ï¼š</p>
<ol>
<li><strong>@uni-helper æ’ä»¶ç”Ÿæ€</strong>ï¼šé¡µé¢è·¯ç”±ã€å¸ƒå±€ã€å¹³å°ã€manifest å…¨è‡ªåŠ¨åŒ–</li>
<li><strong>UnoCSS</strong>ï¼šåŸå­åŒ– CSSï¼Œå¼€å‘æ•ˆç‡ç¿»å€</li>
<li><strong>AutoImport</strong>ï¼šVue APIã€uni-app APIã€è‡ªå®šä¹‰ hooks è‡ªåŠ¨å¯¼å…¥</li>
<li><strong>Hack ä¿®å¤</strong>ï¼šAI ç”šè‡³å¸®æˆ‘ç”Ÿæˆäº†ä¸€ä¸ª <code>fix-vite-plugin-vue</code> æ’ä»¶æ¥è§£å†³ç‰¹å®šçš„ç¼–è¯‘ Bugï¼Œè¿™åœ¨ä¼ ç»Ÿå¼€å‘ä¸­å¯èƒ½è¦æ’æŸ¥åŠå¤©ã€‚</li>
</ol>
<h3 data-id="heading-10">3.3 TypeScript é…ç½®</h3>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘é…ç½® TypeScript ä¸¥æ ¼æ¨¡å¼ï¼Œç¡®ä¿ç±»å‹å®‰å…¨ï¼Œæ”¯æŒ Vue3 å’Œ uni-app
</code></pre>
<p><strong>ç”Ÿæˆçš„é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"extends"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@vue/tsconfig/tsconfig.dom.json"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"noImplicitAny"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"strictNullChecks"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bundler"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jsx"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"preserve"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jsxImportSource"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vue"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"./src/*"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"@img/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"./src/static/images/*"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"@dcloudio/types"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@uni-helper/uni-types"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"miniprogram-api-typings"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/**/*.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"src/**/*.vue"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exclude"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"node_modules"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"dist"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-11">å››ã€UI æ¡†æ¶é›†æˆï¼šUnoCSS + UView Pro</h2>
<h3 data-id="heading-12">4.1 UnoCSS é…ç½®ï¼šAI ä¹Ÿä¼š"ç¿»è½¦"</h3>
<p>UnoCSS æ˜¯åŸå­åŒ– CSS çš„æœ€ä½³é€‰æ‹©ï¼Œä½†åœ¨å°ç¨‹åºç¯å¢ƒä¸­ä½¿ç”¨æ—¶ï¼ŒAI ä¸€å¼€å§‹ç»™å‡ºçš„é…ç½®å¹¶ä¸å®Œç¾ã€‚</p>
<p><strong>ç¬¬ä¸€æ¬¡å°è¯•</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šé…ç½® UnoCSS
AIï¼šç”Ÿæˆäº†æ ‡å‡†çš„ Web ç«¯é…ç½®ï¼ˆpresetUnoï¼‰ã€‚
ç»“æœï¼šå°ç¨‹åºç«¯æ ·å¼å®Œå…¨ä¸ç”Ÿæ•ˆã€‚
</code></pre>
<p><strong>ä¿®æ­£åçš„äº¤äº’</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šè¿™ä¸ªé…ç½®åœ¨å¾®ä¿¡å°ç¨‹åºé‡Œä¸ç”Ÿæ•ˆï¼Œè¯·æ£€æŸ¥æ˜¯å¦éœ€è¦ä¸“ç”¨é¢„è®¾ï¼Ÿ

AIï¼šæŠ±æ­‰ï¼Œä½ æ˜¯å¯¹çš„ã€‚åœ¨ UniApp ä¸­éœ€è¦ä½¿ç”¨ `@uni-helper/unocss-preset-uni`ã€‚
    æˆ‘å·²æ›´æ–°é…ç½®ï¼š
</code></pre>
<p><strong>æœ€ç»ˆç”Ÿæˆçš„ uno.config.ts</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { defineConfig, presetIcons } <span class="hljs-keyword">from</span> <span class="hljs-string">'unocss'</span>;
<span class="hljs-keyword">import</span> { presetUni } <span class="hljs-keyword">from</span> <span class="hljs-string">'@uni-helper/unocss-preset-uni'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">presets</span>: [
    <span class="hljs-comment">// ä½¿ç”¨ UniApp ä¸“ç”¨é¢„è®¾ï¼Œè§£å†³å°ç¨‹åºå…¼å®¹æ€§é—®é¢˜</span>
    <span class="hljs-title function_">presetUni</span>({
      <span class="hljs-attr">attributify</span>: {
        <span class="hljs-attr">prefixedOnly</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// é¿å…å±æ€§å†²çª</span>
      },
    }),
    <span class="hljs-title function_">presetIcons</span>({
      <span class="hljs-attr">scale</span>: <span class="hljs-number">1.2</span>,
      <span class="hljs-attr">warn</span>: <span class="hljs-literal">true</span>,
    }),
  ],
  <span class="hljs-attr">theme</span>: {
    <span class="hljs-attr">colors</span>: {
      <span class="hljs-comment">// ä½¿ç”¨ CSS å˜é‡ï¼Œæ”¯æŒåŠ¨æ€æ¢è‚¤</span>
      <span class="hljs-attr">primary</span>: <span class="hljs-string">'var(--wot-color-theme,#0957DE)'</span>,
    },
  },
});
</code></pre>
<p>è¿™é‡Œçš„é‡ç‚¹æ˜¯ <strong><code>presetUni</code></strong> å’Œ <strong><code>prefixedOnly</code></strong>ï¼Œè¿™æ˜¯ AI åœ¨è¢«æŒ‡å‡ºé”™è¯¯åè¿…é€Ÿä¿®æ­£çš„å…³é”®ç‚¹ã€‚</p>
<p><strong>UnoCSS çš„ä¼˜åŠ¿</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- ä¼ ç»Ÿ CSS å†™æ³• --&gt;
&lt;template&gt;
  &lt;view class="container"&gt;
    &lt;text class="title"&gt;å¿ƒåŠ¨æ‹èŠ&lt;/text&gt;
  &lt;/view&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.container {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
}
.title {
  font-size: 24px;
  font-weight: bold;
  color: #ff6b9d;
}
&lt;/style&gt;

&lt;!-- UnoCSS å†™æ³• --&gt;
&lt;template&gt;
  &lt;view class="flex-center p-4"&gt;
    &lt;text class="text-24px font-bold text-primary"&gt;å¿ƒåŠ¨æ‹èŠ&lt;/text&gt;
  &lt;/view&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ä»£ç é‡å‡å°‘ 70%ï¼Œå¼€å‘æ•ˆç‡å¤§å¹…æå‡ï¼</strong></p>
<h3 data-id="heading-13">4.2 UView Pro é›†æˆ</h3>
<p>UView Pro æ˜¯ UniApp æœ€å¥½ç”¨çš„ç»„ä»¶åº“ä¹‹ä¸€ã€‚</p>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘é›†æˆ UView Pro ç»„ä»¶åº“ï¼Œé…ç½®æŒ‰éœ€å¯¼å…¥å’Œä¸»é¢˜å®šåˆ¶
</code></pre>
<p><strong>package.json ä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"uview-pro"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.0.3"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;view class="page"&gt;
    &lt;!-- å¯¼èˆªæ  --&gt;
    &lt;u-navbar title="å¿ƒåŠ¨æ‹èŠ" :placeholder="true" /&gt;

    &lt;!-- è¡¨å• --&gt;
    &lt;u-form ref="formRef" :model="formData" :rules="rules"&gt;
      &lt;u-form-item label="æ˜µç§°" prop="nickname"&gt;
        &lt;u-input v-model="formData.nickname" placeholder="è¯·è¾“å…¥æ˜µç§°" /&gt;
      &lt;/u-form-item&gt;
      &lt;u-form-item label="æ€§åˆ«" prop="gender"&gt;
        &lt;u-radio-group v-model="formData.gender"&gt;
          &lt;u-radio label="ç”·" :name="1" /&gt;
          &lt;u-radio label="å¥³" :name="2" /&gt;
        &lt;/u-radio-group&gt;
      &lt;/u-form-item&gt;
    &lt;/u-form&gt;

    &lt;!-- æŒ‰é’® --&gt;
    &lt;u-button type="primary" @click="handleSubmit"&gt;æäº¤&lt;/u-button&gt;

    &lt;!-- å¼¹çª— --&gt;
    &lt;u-popup v-model:show="showPopup" mode="bottom"&gt;
      &lt;view class="p-4"&gt;å¼¹çª—å†…å®¹&lt;/view&gt;
    &lt;/u-popup&gt;
  &lt;/view&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
const formRef = ref();
const showPopup = ref(false);

const formData = reactive({
  nickname: '',
  gender: 1,
});

const rules = {
  nickname: [{ required: true, message: 'è¯·è¾“å…¥æ˜µç§°' }],
  gender: [{ required: true, message: 'è¯·é€‰æ‹©æ€§åˆ«' }],
};

const handleSubmit = async () =&gt; {
  const valid = await formRef.value.validate();
  if (valid) {
    // æäº¤é€»è¾‘
  }
};
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-14">äº”ã€è‡ªåŠ¨å¯¼å…¥é…ç½®ï¼šæå‡å¼€å‘ä½“éªŒ</h2>
<h3 data-id="heading-15">5.1 Vue API è‡ªåŠ¨å¯¼å…¥</h3>
<p>ä¼ ç»Ÿå†™æ³•æ¯ä¸ªæ–‡ä»¶éƒ½è¦å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼ ç»Ÿå†™æ³•</span>
<span class="hljs-keyword">import</span> { ref, reactive, computed, watch, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">''</span> });
</code></pre>
<p>é…ç½®è‡ªåŠ¨å¯¼å…¥åï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è‡ªåŠ¨å¯¼å…¥åï¼Œç›´æ¥ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">''</span> });
<span class="hljs-keyword">const</span> double = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'mounted'</span>);
});
</code></pre>
<p><strong>AutoImport é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">AutoImport</span>({
  <span class="hljs-attr">imports</span>: [<span class="hljs-string">'vue'</span>, <span class="hljs-string">'uni-app'</span>],
  <span class="hljs-attr">dts</span>: <span class="hljs-string">'src/types/auto-import.d.ts'</span>,
  <span class="hljs-attr">dirs</span>: [<span class="hljs-string">'src/hooks'</span>],
  <span class="hljs-attr">vueTemplate</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<p>è¿™ä¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ <code>src/types/auto-import.d.ts</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Auto generated by unplugin-auto-import</span>
<span class="hljs-keyword">export</span> {};
<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">global</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">computed</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'vue'</span>))[<span class="hljs-string">'computed'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">onMounted</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'vue'</span>))[<span class="hljs-string">'onMounted'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">onUnmounted</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'vue'</span>))[<span class="hljs-string">'onUnmounted'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">reactive</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'vue'</span>))[<span class="hljs-string">'reactive'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">ref</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'vue'</span>))[<span class="hljs-string">'ref'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">watch</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'vue'</span>))[<span class="hljs-string">'watch'</span>];
  <span class="hljs-comment">// uni-app APIs</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">onLaunch</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'uni-app'</span>))[<span class="hljs-string">'onLaunch'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">onShow</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'uni-app'</span>))[<span class="hljs-string">'onShow'</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">onHide</span>: (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'uni-app'</span>))[<span class="hljs-string">'onHide'</span>];
  <span class="hljs-comment">// ... æ›´å¤š</span>
}
</code></pre>
<h3 data-id="heading-16">5.2 è‡ªå®šä¹‰ Hooks è‡ªåŠ¨å¯¼å…¥</h3>
<p>åœ¨ <code>src/hooks/</code> ç›®å½•ä¸‹åˆ›å»ºçš„ hooks ä¹Ÿä¼šè‡ªåŠ¨å¯¼å…¥ï¼š</p>
<p><strong>src/hooks/useRequest.ts</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">Ref</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UseRequestOptions</span>&lt;T&gt; {
  immediate?: <span class="hljs-built_in">boolean</span>;
  onSuccess?: <span class="hljs-function">(<span class="hljs-params">data: T</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
  onError?: <span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> useRequest&lt;T&gt;(<span class="hljs-attr">fn</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;, <span class="hljs-attr">options</span>: <span class="hljs-title class_">UseRequestOptions</span>&lt;T&gt; = {}) {
  <span class="hljs-keyword">const</span> { immediate = <span class="hljs-literal">false</span>, onSuccess, onError } = options;

  <span class="hljs-keyword">const</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">Ref</span>&lt;T | <span class="hljs-literal">null</span>&gt; = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> loading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> error = ref&lt;<span class="hljs-title class_">Error</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">execute</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    loading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
    error.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
      data.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>();
      onSuccess?.(data.<span class="hljs-property">value</span>);
    } <span class="hljs-keyword">catch</span> (e) {
      error.<span class="hljs-property">value</span> = e <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>;
      onError?.(error.<span class="hljs-property">value</span>);
    } <span class="hljs-keyword">finally</span> {
      loading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
    }
  };

  <span class="hljs-keyword">if</span> (immediate) {
    <span class="hljs-title function_">execute</span>();
  }

  <span class="hljs-keyword">return</span> { data, loading, error, execute };
}
</code></pre>
<p><strong>ä½¿ç”¨æ—¶æ— éœ€å¯¼å…¥</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
// ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ import
const { data, loading, execute } = useRequest(() =&gt; apiGetUserInfo(), { immediate: true });
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-17">5.3 ç»„ä»¶è‡ªåŠ¨æ³¨å†Œ</h3>
<p>é…ç½® <code>@uni-helper/vite-plugin-uni-components</code> åï¼Œç»„ä»¶ä¹Ÿè‡ªåŠ¨æ³¨å†Œï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Components</span>({
  <span class="hljs-attr">extensions</span>: [<span class="hljs-string">'vue'</span>],
  <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">directoryAsNamespace</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">dts</span>: <span class="hljs-string">'src/types/components.d.ts'</span>,
});
</code></pre>
<p><strong>src/components/UserCard.vue</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;view class="user-card"&gt;
    &lt;image :src="user.avatar" class="avatar" /&gt;
    &lt;text class="name"&gt;{{ user.name }}&lt;/text&gt;
  &lt;/view&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
defineProps&lt;{
  user: {
    avatar: string;
    name: string;
  };
}&gt;();
&lt;/script&gt;
</code></pre>
<p><strong>ä½¿ç”¨æ—¶æ— éœ€æ³¨å†Œ</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€ import å’Œ components æ³¨å†Œ --&gt;
  &lt;UserCard :user="userInfo" /&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-18">å…­ã€è·¯ç”±é…ç½®ï¼špages.json ä¼˜åŒ–</h2>
<h3 data-id="heading-19">6.1 é¡µé¢è·¯ç”±è‡ªåŠ¨ç”Ÿæˆ</h3>
<p>ä½¿ç”¨ <code>@uni-helper/vite-plugin-uni-pages</code>ï¼Œé¡µé¢è·¯ç”±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆã€‚</p>
<p><strong>åœ¨é¡µé¢æ–‡ä»¶ä¸­é…ç½®è·¯ç”±</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- src/pages/index/index.vue --&gt;
&lt;route lang="json"&gt;
{
  "style": {
    "navigationBarTitleText": "é¦–é¡µ"
  }
}
&lt;/route&gt;

&lt;template&gt;
  &lt;view class="page"&gt;
    &lt;!-- é¡µé¢å†…å®¹ --&gt;
  &lt;/view&gt;
&lt;/template&gt;
</code></pre>
<p><strong>è‡ªåŠ¨ç”Ÿæˆçš„ pages.json</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"pages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pages/index/index"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¦–é¡µ"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pages/my/my"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"subPackages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"root"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"subPackages/agreement"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"privacy"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"éšç§åè®®"</span> <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user-agreement"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·åè®®"</span> <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"root"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"subPackages/vip"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"index"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¼šå‘˜ä¸­å¿ƒ"</span> <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tabBar"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#999999"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"selectedColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#FF6B9D"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"backgroundColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#ffffff"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"list"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"pagePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pages/index/index"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¦–é¡µ"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"iconPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"static/tabbar/home.png"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"selectedIconPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"static/tabbar/home-active.png"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"pagePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pages/my/my"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"iconPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"static/tabbar/my.png"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"selectedIconPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"static/tabbar/my-active.png"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"globalStyle"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"navigationBarTextStyle"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"black"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"navigationBarTitleText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¿ƒåŠ¨æ‹èŠ"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"navigationBarBackgroundColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#ffffff"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"backgroundColor"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#F5F5F5"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-20">6.2 åˆ†åŒ…é…ç½®</h3>
<p>å°ç¨‹åºæœ‰åŒ…ä½“ç§¯é™åˆ¶ï¼ˆä¸»åŒ… 2MBï¼Œæ€»åŒ… 20MBï¼‰ï¼Œåˆ†åŒ…æ˜¯å¿…é¡»çš„ã€‚</p>
<p><strong>é…ç½®åˆ†åŒ…</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-title class_">UniPages</span>({
  <span class="hljs-attr">exclude</span>: [<span class="hljs-string">'**/components/**/**.*'</span>],
  <span class="hljs-attr">dts</span>: <span class="hljs-string">'src/types/uni-pages.d.ts'</span>,
  <span class="hljs-attr">subPackages</span>: [
    <span class="hljs-string">'src/subPackages/agreement'</span>, <span class="hljs-comment">// åè®®ç›¸å…³é¡µé¢</span>
    <span class="hljs-string">'src/subPackages/vip'</span>, <span class="hljs-comment">// ä¼šå‘˜ç›¸å…³é¡µé¢</span>
    <span class="hljs-string">'src/subPackages/planForm'</span>, <span class="hljs-comment">// è®¡åˆ’è¡¨å•é¡µé¢</span>
  ],
});
</code></pre>
<p><strong>åˆ†åŒ…ä¼˜åŒ–æ’ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// @uni-ku/bundle-optimizer è‡ªåŠ¨ä¼˜åŒ–</span>
<span class="hljs-title class_">Optimization</span>({
  <span class="hljs-attr">enable</span>: {
    <span class="hljs-attr">optimization</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯ä¼˜åŒ–</span>
    <span class="hljs-string">'async-import'</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼‚æ­¥å¯¼å…¥</span>
    <span class="hljs-string">'async-component'</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼‚æ­¥ç»„ä»¶</span>
  },
  <span class="hljs-attr">dts</span>: {
    <span class="hljs-attr">base</span>: <span class="hljs-string">'src/types'</span>,
  },
});
</code></pre>
<h2 data-id="heading-21">ä¸ƒã€ç¯å¢ƒå˜é‡é…ç½®</h2>
<h3 data-id="heading-22">7.1 å¤šç¯å¢ƒé…ç½®</h3>
<p>"å¿ƒåŠ¨æ‹èŠ"é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒã€å¤šé¡¹ç›®é…ç½®ï¼š</p>
<p><strong>ç›®å½•ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">env/
â”œâ”€â”€ .env                           # åŸºç¡€é…ç½®
â”œâ”€â”€ .env.development               # å¼€å‘ç¯å¢ƒ
â””â”€â”€ .env.production                # ç”Ÿäº§ç¯å¢ƒ
</code></pre>
<p><strong>.env.development</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"> <span class="hljs-comment"># åŸºç¡€é…ç½®</span>
 VITE_APP_PORT=5173
 VITE_APP_PUBLIC_BASE=/

 <span class="hljs-comment"># API é…ç½®</span>
 VITE_SERVER_BASEURL=http://localhost:3000
 VITE_APP_PROXY=<span class="hljs-literal">true</span>

 <span class="hljs-comment"># ä¸šåŠ¡é…ç½®</span>
 VITE_APP_SOURCE_ID=your_source_id
 VITE_APP_CHANNEL_ID=weixin
</code></pre>
<h3 data-id="heading-23">7.2 ç¯å¢ƒå˜é‡ä½¿ç”¨</h3>
<p><strong>åœ¨ä»£ç ä¸­ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç›´æ¥ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> apiBaseUrl = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_SERVER_BASEURL</span>;
<span class="hljs-keyword">const</span> sourceId = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_APP_SOURCE_ID</span>;

<span class="hljs-comment">// ç±»å‹å®‰å…¨</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ImportMetaEnv</span> {
  <span class="hljs-attr">VITE_APP_PORT</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">VITE_SERVER_BASEURL</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">VITE_APP_SOURCE_ID</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">VITE_APP_CHANNEL_ID</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">VITE_APP_BRAND_KEY</span>: <span class="hljs-built_in">string</span>;
}
</code></pre>
<p><strong>å¯åŠ¨å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev:mp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uni -p mp-weixin --mode development"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build:mp"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"uni build -p mp-weixin --mode production"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-24">å…«ã€ä»£ç è§„èŒƒé…ç½®</h2>
<h3 data-id="heading-25">8.1 ESLint é…ç½®</h3>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">é…ç½® ESLintï¼Œé€‚åˆ Vue3 + TypeScript + UniApp é¡¹ç›®
</code></pre>
<p><strong>ä½¿ç”¨ @uni-helper/eslint-config</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eslint.config.js</span>
<span class="hljs-keyword">import</span> uniHelper <span class="hljs-keyword">from</span> <span class="hljs-string">'@uni-helper/eslint-config'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">uniHelper</span>({
  <span class="hljs-attr">typescript</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">vue</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">unocss</span>: <span class="hljs-literal">true</span>,
});
</code></pre>
<h3 data-id="heading-26">8.2 Prettier é…ç½®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// .prettierrc</span>
{
  <span class="hljs-string">"printWidth"</span>: <span class="hljs-number">100</span>,
  <span class="hljs-string">"singleQuote"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"trailingComma"</span>: <span class="hljs-string">"all"</span>,
  <span class="hljs-string">"semi"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-string">"tabWidth"</span>: <span class="hljs-number">2</span>,
  <span class="hljs-string">"endOfLine"</span>: <span class="hljs-string">"lf"</span>
}
</code></pre>
<h3 data-id="heading-27">8.3 Git Hooks</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"lint-staged"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"*"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint --fix"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-28">ä¹ã€å®æˆ˜æ¼”ç¤ºï¼šé¦–é¡µæ ¸å¿ƒé€»è¾‘å¼€å‘</h2>
<p>"å¿ƒåŠ¨æ‹èŠ"çš„é¦–é¡µå¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„å±•ç¤ºé¡µï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªå¤æ‚çš„äº¤äº’é€»è¾‘ï¼š<strong>æ–‡å­—/å›¾ç‰‡è¾“å…¥æ¨¡å¼åˆ‡æ¢</strong>ã€‚</p>
<h3 data-id="heading-29">9.1 éœ€æ±‚æè¿°</h3>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šé¦–é¡µéœ€è¦ä¸€ä¸ªè¾“å…¥åŒºåŸŸï¼Œæ”¯æŒä¸¤ç§æ¨¡å¼ï¼š
1. æ–‡å­—æ¨¡å¼ï¼šè¾“å…¥å¯¹æ–¹è¯´çš„è¯ã€‚
2. å›¾ç‰‡æ¨¡å¼ï¼šä¸Šä¼ èŠå¤©æˆªå›¾ã€‚

åˆ‡æ¢æ¨¡å¼æ—¶ï¼Œè¾“å…¥æ¡†å’Œä¸Šä¼ åŒºåŸŸè¦äº’æ–¥æ˜¾ç¤ºã€‚
å¹¶ä¸”éœ€è¦ä¸€ä¸ª"æ¸…é™¤è®°å¿†"çš„åŠŸèƒ½ï¼Œä½†åªåœ¨æ–‡å­—æ¨¡å¼ä¸‹æ˜¾ç¤ºã€‚
</code></pre>
<h3 data-id="heading-30">9.2 AI çš„é€æ­¥å®ç°</h3>
<p>è¿™æ˜¯ä¸€ä¸ªæ¶‰åŠçŠ¶æ€ç®¡ç†ã€UI äº¤äº’å’Œä¸šåŠ¡é€»è¾‘çš„å¤æ‚éœ€æ±‚ã€‚AI æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥å®ç°çš„å‘¢ï¼Ÿ</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå®šä¹‰çŠ¶æ€</strong></p>
<p>AI é¦–å…ˆå®šä¹‰äº†æ ¸å¿ƒçš„å“åº”å¼çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/index/index.vue</span>
<span class="hljs-keyword">const</span> showUploadArea = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// æ§åˆ¶æ¨¡å¼åˆ‡æ¢</span>
<span class="hljs-keyword">const</span> inputText = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>); <span class="hljs-comment">// æ–‡å­—è¾“å…¥</span>
<span class="hljs-keyword">const</span> selectedImages = <span class="hljs-title function_">ref</span>([]); <span class="hljs-comment">// å›¾ç‰‡åˆ—è¡¨</span>

<span class="hljs-comment">// åˆ‡æ¢æ¨¡å¼é€»è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleInputMode</span> = (<span class="hljs-params"/>) =&gt; {
  showUploadArea.<span class="hljs-property">value</span> = !showUploadArea.<span class="hljs-property">value</span>;
  <span class="hljs-comment">// åˆ‡æ¢æ—¶æ¸…ç©ºçŠ¶æ€ï¼Œé¿å…æ•°æ®æ··æ·†</span>
  <span class="hljs-keyword">if</span> (showUploadArea.<span class="hljs-property">value</span>) {
    inputText.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
  } <span class="hljs-keyword">else</span> {
    selectedImages.<span class="hljs-property">value</span> = [];
  }
};
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šæ„å»ºåŠ¨æ€ UI</strong></p>
<p>åˆ©ç”¨ Vue çš„ <code>v-if/v-show</code> æŒ‡ä»¤å¤„ç†å¤æ‚çš„æ˜¾ç¤ºé€»è¾‘ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- æ¨¡å¼åˆ‡æ¢æŒ‰é’® --&gt;
  &lt;view class="flex justify-between items-center"&gt;
    &lt;text&gt;{{ showUploadArea ? 'ä¸Taçš„èŠå¤©æˆªå›¾ï¼š' : 'Taè¯´ï¼š' }}&lt;/text&gt;
    &lt;view @click="toggleInputMode"&gt;
      &lt;text&gt;{{ showUploadArea ? 'åˆ‡æ¢æ–‡å­—' : 'åˆ‡æ¢å›¾ç‰‡' }}&lt;/text&gt;
    &lt;/view&gt;
  &lt;/view&gt;

  &lt;!-- ä¸Šä¼ åŒºåŸŸ (å›¾ç‰‡æ¨¡å¼) --&gt;
  &lt;view v-show="showUploadArea" class="upload-area"&gt;
    &lt;ImageGrid :images="selectedImages" @add="addImages" /&gt;
  &lt;/view&gt;

  &lt;!-- è¾“å…¥æ¡† (æ–‡å­—æ¨¡å¼) --&gt;
  &lt;view v-show="!showUploadArea" class="input-wrapper"&gt;
    &lt;u-input type="textarea" v-model="inputText" :autoHeight="true" /&gt;
  &lt;/view&gt;

  &lt;!-- æ¸…é™¤è®°å¿† (ä»…æ–‡å­—æ¨¡å¼) --&gt;
  &lt;view v-if="!showUploadArea" class="clear-memory-btn" @click="handleClearMemory"&gt;
    &lt;text&gt;æ¸…é™¤è®°å¿†&lt;/text&gt;
  &lt;/view&gt;
&lt;/template&gt;
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šå¤„ç†ä¸šåŠ¡é€»è¾‘</strong></p>
<p>ç”Ÿæˆå›å¤æ—¶ï¼Œéœ€è¦æ ¹æ®å½“å‰æ¨¡å¼è°ƒç”¨ä¸åŒçš„æ¥å£ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleGenerate</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// 1. é‰´æƒæ£€æŸ¥</span>
  <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">await</span> <span class="hljs-title function_">checkAuth</span>())) <span class="hljs-keyword">return</span>;

  <span class="hljs-comment">// 2. æ¨¡å¼åˆ¤æ–­</span>
  <span class="hljs-keyword">if</span> (showUploadArea.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// å›¾ç‰‡æ¨¡å¼é€»è¾‘</span>
    <span class="hljs-keyword">if</span> (selectedImages.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> toast.<span class="hljs-title function_">info</span>(<span class="hljs-string">'è¯·ä¸Šä¼ æˆªå›¾'</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateByImage</span>(selectedImages.<span class="hljs-property">value</span>);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// æ–‡å­—æ¨¡å¼é€»è¾‘</span>
    <span class="hljs-keyword">if</span> (!inputText.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span> toast.<span class="hljs-title function_">info</span>(<span class="hljs-string">'è¯·è¾“å…¥å†…å®¹'</span>);
    <span class="hljs-comment">// è°ƒç”¨å¸¦è®°å¿†çš„æ¥å£</span>
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateByText</span>({
      <span class="hljs-attr">text</span>: inputText.<span class="hljs-property">value</span>,
      <span class="hljs-attr">sessionId</span>: chatSessionStore.<span class="hljs-property">sessionId</span>,
    });
  }
};
</code></pre>
<h3 data-id="heading-31">9.3 çœŸå®ä»£ç ç‰‡æ®µ</h3>
<p>æœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¸ä»…é€»è¾‘æ¸…æ™°ï¼Œè¿˜å¤„ç†äº†å¾ˆå¤šç»†èŠ‚ï¼Œæ¯”å¦‚ iOS çš„æ ·å¼é€‚é…ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é€‚é… iOS çš„è¾“å…¥æ¡†æ ·å¼</span>
<span class="hljs-keyword">const</span> inputCustomStyle = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> isIOS = systemInfo?.<span class="hljs-property">platform</span> === <span class="hljs-string">'ios'</span>;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">padding</span>: isIOS ? <span class="hljs-string">'12rpx'</span> : <span class="hljs-string">'20rpx'</span>,
    <span class="hljs-attr">minHeight</span>: <span class="hljs-string">'240rpx'</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">'12px'</span>,
  };
});
</code></pre>
<p>è¿™å°±æ˜¯ AI è¾…åŠ©å¼€å‘çš„å¨åŠ›ï¼š<strong>å®ƒä¸ä»…èƒ½å†™å‡ºè·‘é€šçš„ä»£ç ï¼Œè¿˜èƒ½è€ƒè™‘åˆ°å¹³å°å·®å¼‚å’Œè¾¹ç•Œæƒ…å†µã€‚</strong></p>
<h3 data-id="heading-32">9.3 è¿è¡Œæµ‹è¯•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¾®ä¿¡å°ç¨‹åº</span>
pnpm --filter unibest-mp dev:mp

<span class="hljs-comment"># H5</span>
pnpm --filter unibest-mp dev:h5

<span class="hljs-comment"># App</span>
pnpm --filter unibest-mp dev:app
</code></pre>
<h2 data-id="heading-33">åã€æ€»ç»“ä¸ä¸‹ä¸€æ­¥</h2>
<h3 data-id="heading-34">10.1 æœ¬ç¯‡å®Œæˆçš„å·¥ä½œ</h3>
<p>é€šè¿‡ AI è¾…åŠ©ï¼Œæˆ‘ä»¬åœ¨ <strong>ä¸åˆ° 1 å°æ—¶</strong> å†…å®Œæˆäº†ï¼š</p>

















































<table><thead><tr><th>ä»»åŠ¡</th><th>å®Œæˆæƒ…å†µ</th></tr></thead><tbody><tr><td>âœ… Monorepo é¡¹ç›®ç»“æ„</td><td>æ ‡å‡†çš„ pnpm + Turborepo æ¶æ„</td></tr><tr><td>âœ… Vite é…ç½®</td><td>å®Œæ•´çš„æ’ä»¶é“¾å’Œä¼˜åŒ–é…ç½®</td></tr><tr><td>âœ… TypeScript é…ç½®</td><td>ä¸¥æ ¼æ¨¡å¼ï¼Œå®Œæ•´ç±»å‹æ”¯æŒ</td></tr><tr><td>âœ… UnoCSS é›†æˆ</td><td>åŸå­åŒ– CSSï¼Œä¸»é¢˜å®šåˆ¶</td></tr><tr><td>âœ… UView Pro é›†æˆ</td><td>ç»„ä»¶åº“å®Œæ•´æ¥å…¥</td></tr><tr><td>âœ… è‡ªåŠ¨å¯¼å…¥é…ç½®</td><td>Vue APIã€uni-app APIã€Hooks</td></tr><tr><td>âœ… è·¯ç”±ç³»ç»Ÿ</td><td>è‡ªåŠ¨ç”Ÿæˆï¼Œåˆ†åŒ…ä¼˜åŒ–</td></tr><tr><td>âœ… ç¯å¢ƒå˜é‡</td><td>å¤šç¯å¢ƒã€å¤šé¡¹ç›®æ”¯æŒ</td></tr><tr><td>âœ… ä»£ç è§„èŒƒ</td><td>ESLint + Prettier</td></tr><tr><td>âœ… é¦–é¡µå¼€å‘</td><td>å®Œæ•´çš„é¡µé¢å®ç°</td></tr></tbody></table>
<h3 data-id="heading-35">10.2 æ ¸å¿ƒæç¤ºè¯æ¨¡æ¿</h3>
<p><strong>é¡¹ç›®åˆå§‹åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">åˆ›å»º [æ¡†æ¶] + [æŠ€æœ¯æ ˆ] é¡¹ç›®ï¼Œ
åŒ…å« [ç›®å½•ç»“æ„]ï¼Œ
é…ç½® [æ„å»ºå·¥å…·]
</code></pre>
<p><strong>é…ç½®æ–‡ä»¶ç”Ÿæˆ</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">é…ç½® [å·¥å…·åç§°]ï¼Œéœ€è¦ï¼š
1. [åŠŸèƒ½ç‚¹ 1]
2. [åŠŸèƒ½ç‚¹ 2]
3. [åŠŸèƒ½ç‚¹ 3]
</code></pre>
<p><strong>é¡µé¢ç”Ÿæˆ</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">åˆ›å»º [é¡µé¢åç§°]ï¼ŒåŒ…æ‹¬ï¼š
- [åŠŸèƒ½æè¿°]
ä½¿ç”¨ [UI æ¡†æ¶] å’Œ [æ ·å¼æ–¹æ¡ˆ]
</code></pre>
<h3 data-id="heading-36">10.4 ä¸‹ä¸€ç¯‡é¢„å‘Š</h3>
<p><strong>ã€Šã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 3 ç¯‡ï¼šAI è¾…åŠ©åç«¯å¼€å‘ - Next.js 15 API å¿«é€Ÿæ­å»ºã€‹</strong></p>
<p>æˆ‘ä»¬å°†å­¦ä¹ ï¼š</p>
<ul>
<li>Next.js 15 App Router æ¶æ„</li>
<li>Prisma ORM æ•°æ®åº“æ“ä½œ</li>
<li>RESTful API è®¾è®¡</li>
<li>JWT è®¤è¯ä¸­é—´ä»¶</li>
<li>å‰åç«¯ç±»å‹å…±äº«</li>
</ul>
<p><strong>å…³æ³¨æˆ‘ï¼Œä¸é”™è¿‡æ¯ä¸€ç¯‡å®æˆ˜å¹²è´§ï¼</strong></p>
<hr/>
<blockquote>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼Œè®©æ›´å¤šäººäº†è§£ AI ç¼–ç¨‹çš„å¼ºå¤§ï¼</p>
<p>æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Bean Searcher é‡â€œé¬¼â€è®°ï¼šä¸ºä½•æˆ‘çš„æŸ¥è¯¢æ¡ä»¶å·å·è·‘è¿›äº† HAVINGï¼Ÿ]]></title>    <link>https://juejin.cn/post/7581437632855081000</link>    <guid>https://juejin.cn/post/7581437632855081000</guid>    <pubDate>2025-12-09T06:42:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581437632855081000" data-draft-id="7581437632854458408" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Bean Searcher é‡â€œé¬¼â€è®°ï¼šä¸ºä½•æˆ‘çš„æŸ¥è¯¢æ¡ä»¶å·å·è·‘è¿›äº† HAVINGï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Java,ORM"/> <meta itemprop="datePublished" content="2025-12-09T06:42:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‡è§ä»£ç "/> <meta itemprop="url" content="https://juejin.cn/user/2928754709235800"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Bean Searcher é‡â€œé¬¼â€è®°ï¼šä¸ºä½•æˆ‘çš„æŸ¥è¯¢æ¡ä»¶å·å·è·‘è¿›äº† HAVINGï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2928754709235800/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‡è§ä»£ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:42:21.000Z" title="Tue Dec 09 2025 06:42:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€è¡Œä»£ç å®ç°å¤æ‚æŸ¥è¯¢çš„ä¼˜é›…èƒŒåï¼Œè—ç€ SQL è¯­ä¹‰çš„ä¸¥æ ¼å®ˆå«è€…ã€‚å½“ä½ ä¸äº†è§£å®ƒçš„è§„åˆ™æ—¶ï¼Œå®ƒå°±ä¼šç”¨çœ‹ä¼¼è¯¡å¼‚çš„è¡Œä¸ºæé†’ä½ ã€‚</p>
</blockquote>
<h2 data-id="heading-0">1. ä¼˜é›…æ¡†æ¶çš„æ„å¤–éš¾é¢˜</h2>
<p>Bean Searcher åœ¨ Java å¼€å‘è€…ä¸­æ­£è·å¾—è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ã€‚å®ƒè¢«æè¿°ä¸º â€œæ¯” MyBatis å¼€å‘æ•ˆç‡ <strong>å¿« 100 å€</strong> çš„åªè¯» ORMï¼Œå¤©ç”Ÿæ”¯æŒè”è¡¨â€ï¼Œåªéœ€è¦ä¸€è¡Œä»£ç å°±èƒ½å®ç°å¤šè¡¨è”æŸ¥ã€åˆ†é¡µæœç´¢ã€ç»„åˆè¿‡æ»¤ç­‰å¤æ‚åŠŸèƒ½ã€‚</p>
<p>æˆ‘å¾ˆå¿«å°±åœ¨é¡¹ç›®ä¸­åº”ç”¨äº†è¿™ä¸ªæ¡†æ¶ï¼Œå¤„ç†é‚£äº›å¸¸è§„çš„åˆ—è¡¨æŸ¥è¯¢ç¡®å®å¾—å¿ƒåº”æ‰‹ã€‚ç›´åˆ°æˆ‘é‡åˆ°äº†éœ€è¦åˆ†ç»„ç»Ÿè®¡çš„åœºæ™¯ã€‚</p>
<h2 data-id="heading-1">2. é—®é¢˜çš„æ˜¾ç°</h2>
<p>æˆ‘çš„éœ€æ±‚å¾ˆæ˜ç¡®ï¼šç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å¹³å‡åˆ†ï¼ŒåŒæ—¶åªå…³æ³¨ç‰¹å®šæ•™å¸ˆæ•™æˆçš„è¯¾ç¨‹ã€‚æˆ‘è®¾è®¡äº†å¦‚ä¸‹ SearchBeanï¼ˆæ£€ç´¢å®ä½“ç±»ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SearchBean(
    tables = "course c, teacher t, score s",
    where = "c.teacher_id = t.id and c.id = s.course_id",
    groupBy = "c.id"   // æŒ‰è¯¾ç¨‹ ID åˆ†ç»„
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AvgScoreVO</span> {

    <span class="hljs-meta">@DbField("c.id")</span>
    <span class="hljs-keyword">private</span> Integer courseId;

    <span class="hljs-meta">@DbField("avg(s.score)")</span>
    <span class="hljs-keyword">private</span> Float averageScore;

    <span class="hljs-meta">@DbField("t.id")</span>  <span class="hljs-comment">// æˆ‘æƒ³ç”¨è¿™ä¸ªå­—æ®µç­›é€‰ç‰¹å®šæ•™å¸ˆçš„è¯¾ç¨‹</span>
    <span class="hljs-keyword">private</span> Integer teacherId;

    <span class="hljs-comment">// çœç•¥getter/setter</span>
}
</code></pre>
<p>åœ¨æ§åˆ¶å™¨ä¸­ï¼Œæˆ‘åƒå¾€å¸¸ä¸€æ ·ä½¿ç”¨ä¸€è¡Œä»£ç è¿›è¡ŒæŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@GetMapping("/avgScores")</span>
<span class="hljs-keyword">public</span> List&lt;AvgScoreVO&gt; <span class="hljs-title function_">getAvgScores</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> beanSearcher.searchAll(AvgScoreVO.class);
}
</code></pre>
<blockquote>
<p>è¿™é‡Œæˆ‘ä½¿ç”¨äº† Bean Searcher å®˜æ–¹æ–‡æ¡£ä¸­æ¨èçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fbs.zhxu.cn%2Fguide%2Fusage%2Fothers.html" target="_blank" title="https://bs.zhxu.cn/guide/usage/others.html" ref="nofollow noopener noreferrer"><strong>è‡ªåŠ¨æ¥æ”¶å‰ç«¯è¯·æ±‚å‚æ•°</strong></a> çš„æœºåˆ¶ã€‚æ‰€ä»¥è¿™é‡ŒçœŸçš„åªå‰©ä¸€è¡Œä»£ç äº†ã€‚</p>
</blockquote>
<p>é€»è¾‘çœ‹èµ·æ¥æ— æ‡ˆå¯å‡»ï¼šæŒ‰è¯¾ç¨‹åˆ†ç»„ï¼Œè®¡ç®—å¹³å‡åˆ†ï¼ŒåŒæ—¶ç­›é€‰å‡ºæŒ‡å®šæ•™å¸ˆçš„è¯¾ç¨‹ã€‚æˆ‘ç”¨ HTTP å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76f944b95db04b52912302caaa512773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YGH6KeB5Luj56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765867340&amp;x-signature=dYKsnf1hfqs7hmrAz7yYYI24b5A%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶è€Œè¯·æ±‚å‘èµ·åï¼Œæˆ‘å´å¾—åˆ°äº†è¿™æ ·çš„é”™è¯¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">SQLSyntaxErrorException: <span class="hljs-literal">Unknown</span> <span class="hljs-keyword">column</span> <span class="hljs-string">'t.id'</span> <span class="hljs-keyword">in</span> <span class="hljs-string">'having clause'</span>
</code></pre>
<p>ç”Ÿæˆçš„ SQL å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">select</span> c.id c_0, <span class="hljs-built_in">avg</span>(s.score) c_1, t.id c_2
<span class="hljs-keyword">from</span> course c, teacher t, score s
<span class="hljs-keyword">where</span> c.teacher_id <span class="hljs-operator">=</span> t.id <span class="hljs-keyword">and</span> c.id <span class="hljs-operator">=</span> s.course_id
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> c.id
<span class="hljs-keyword">HAVING</span> c_2 <span class="hljs-operator">=</span> ?  <span class="hljs-comment">-- é—®é¢˜åœ¨è¿™é‡Œï¼</span>
</code></pre>
<p>ä¸ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆæˆ‘çš„Â <code>teacherId</code>Â æ¡ä»¶è¢«æ”¾åœ¨Â <code>HAVING</code>Â å­å¥è€Œä¸æ˜¯Â <code>WHERE</code>Â å­å¥ï¼ŸæŒ‰ç…§ SQL æ‰§è¡Œé¡ºåºï¼Œ<code>WHERE</code>Â åœ¨åˆ†ç»„å‰æ‰§è¡Œï¼Œ<code>HAVING</code>Â åœ¨åˆ†ç»„åæ‰§è¡Œã€‚å°†æ•™å¸ˆç­›é€‰æ¡ä»¶æ”¾åœ¨Â <code>HAVING</code>Â ä¸­ä¸ä»…é€»è¾‘é”™è¯¯ï¼Œè€Œä¸”æ˜¯ SQL è¯­æ³•é”™è¯¯ï¼</p>
<h2 data-id="heading-2">3. æ·±å…¥æ¢ç´¢ï¼šå®˜æ–¹æ–‡æ¡£çš„çº¿ç´¢</h2>
<p>é¢å¯¹è¿™ä¸ªçœ‹ä¼¼è¯¡å¼‚çš„é—®é¢˜ï¼Œæˆ‘å¼€å§‹ä»”ç»†æŸ¥é˜… Bean Searcher çš„å®˜æ–¹æ–‡æ¡£ã€‚åœ¨å…¶ <a href="https://link.juejin.cn?target=https%3A%2F%2Fbs.zhxu.cn%2Fguide%2Fbean%2Ffields.html" target="_blank" title="https://bs.zhxu.cn/guide/bean/fields.html" ref="nofollow noopener noreferrer"><strong>æ¡ä»¶å±æ€§</strong></a> ç« èŠ‚ï¼Œæˆ‘å‘ç°äº†å…³äºÂ <code>@DbField</code>Â æ³¨è§£çš„Â <code>cluster</code>Â å±æ€§çš„å…³é”®è¯´æ˜ã€‚</p>
<p><code>cluster</code>Â å±æ€§æœ‰ä¸‰ç§å–å€¼ï¼š</p>

























<table><thead><tr><th>å–å€¼</th><th>å«ä¹‰</th><th>GroupBy æ—¶æ¡ä»¶ç”Ÿæˆä½ç½®</th></tr></thead><tbody><tr><td><code>Cluster.TRUE</code></td><td>è¡¨æ˜è¯¥å±æ€§æ˜¯èšåˆå­—æ®µ</td><td>åªä¼šç”ŸæˆÂ <code>HAVING</code>Â æ¡ä»¶</td></tr><tr><td><code>Cluster.FALSE</code></td><td>è¡¨æ˜è¯¥å±æ€§æ˜¯éèšåˆå­—æ®µ</td><td>åªä¼šç”ŸæˆÂ <code>WHERE</code>Â æ¡ä»¶</td></tr><tr><td><code>Cluster.AUTO</code></td><td>é»˜è®¤å€¼ï¼Œè‡ªåŠ¨æ¨æ–­</td><td>æ ¹æ®è§„åˆ™æ¨æ–­</td></tr></tbody></table>
<p>æ–‡æ¡£è¿›ä¸€æ­¥è§£é‡Šäº†Â <code>Cluster.AUTO</code>Â çš„æ¨æ–­é€»è¾‘ï¼š</p>
<ul>
<li>å½“æ¡ä»¶å±æ€§ <strong>åœ¨Â <code>groupBy</code>Â åˆ—è¡¨ä¸­æ—¶</strong>ï¼Œè‡ªåŠ¨æ¨æ–­ä¸ºÂ <code>FALSE</code>ï¼ˆç”ŸæˆÂ <code>WHERE</code>Â æ¡ä»¶ï¼‰</li>
<li>å½“æ¡ä»¶å±æ€§ <strong>ä¸åœ¨Â <code>groupBy</code>Â åˆ—è¡¨ä¸­</strong>ï¼Œå¹¶ä¸” <strong>è¯¥å±æ€§åŒæ—¶æ˜¯ Java ç±»ä¸­çš„å­—æ®µ</strong> æ—¶ï¼Œè‡ªåŠ¨æ¨æ–­ä¸ºÂ <code>TRUE</code>ï¼ˆç”ŸæˆÂ <code>HAVING</code>Â æ¡ä»¶ï¼‰</li>
<li>å…¶ä»–æƒ…å†µéƒ½æ¨æ–­ä¸ºÂ <code>FALSE</code></li>
</ul>
<p>è¿™å°±æ˜¯å…³é”®ï¼æˆ‘çš„Â <code>teacherId</code>Â å­—æ®µä¸åœ¨Â <code>groupBy</code>Â åˆ—è¡¨ä¸­ï¼Œä½†å®ƒæ˜¯ Java ç±»ä¸­çš„å­—æ®µï¼Œå› æ­¤è¢«è‡ªåŠ¨æ¨æ–­ä¸ºÂ <code>Cluster.TRUE</code>ï¼Œæ¡ä»¶è¢«ç”Ÿæˆåœ¨Â <code>HAVING</code>Â å­å¥ä¸­ã€‚</p>
<h2 data-id="heading-3">4. è®¾è®¡è€…çš„ç²¾å¦™è€ƒé‡</h2>
<p>ä¸ºä»€ä¹ˆ Bean Searcher çš„ä½œè€…è¦è¿™æ ·è®¾è®¡ï¼Ÿèµ·åˆæˆ‘è§‰å¾—è¿™æ˜¯åç›´è§‰çš„ï¼Œä½†æ·±å…¥æ€è€ƒåï¼Œæˆ‘å‘ç°è¿™èƒŒåæœ‰ç€ä¸¥è°¨çš„é€»è¾‘ã€‚</p>
<p>é¦–å…ˆï¼Œéœ€è¦ç†è§£ Bean Searcher ä¸­ä¸¤ç§ä¸åŒç±»å‹ æ¡ä»¶å±æ€§ çš„åŒºåˆ«ï¼š</p>
<ul>
<li><strong>å­—æ®µå±æ€§</strong>ï¼šå£°æ˜åœ¨ Java ç±» (<code>@SearchBean</code>) ä¸­çš„å­—æ®µï¼Œæ—¢å¯ä»¥æ ¹æ®å‚æ•°ç”Ÿæˆæ¡ä»¶ï¼Œåˆç”¨äº <strong>æ‰¿è½½æŸ¥è¯¢ç»“æœ</strong>ï¼Œä¼šå‡ºç°åœ¨Â <code>SELECT</code>Â åˆ—è¡¨ä¸­</li>
<li><strong>é™„åŠ å±æ€§</strong>ï¼šé€šè¿‡Â <code>@SearchBean.fields</code>Â å®šä¹‰çš„å±æ€§ï¼Œä¸æ‰¿è½½æŸ¥è¯¢ç»“æœï¼Œ<strong>ä¸ä¼š</strong>å‡ºç°åœ¨Â <code>SELECT</code>Â åˆ—è¡¨ä¸­ï¼Œä»…ä½œä¸ºåŠ¨æ€æŸ¥è¯¢æ¡ä»¶ä½¿ç”¨</li>
</ul>
<p>å½“æ‰§è¡Œå¸¦æœ‰Â <code>GROUP BY</code>Â çš„æŸ¥è¯¢æ—¶ï¼Œ<strong>SQL-92</strong>Â å’ŒÂ <strong>SQL:1999</strong> è§„èŒƒé‡Œéƒ½æœ‰ä¸€ä¸ªä¸¥æ ¼çš„è¯­ä¹‰è§„åˆ™ï¼š<strong><code>SELECT</code>Â åˆ—è¡¨ä¸­çš„ä»»ä½•éèšåˆåˆ—ï¼Œå¿…é¡»å‡ºç°åœ¨Â <code>GROUP BY</code>Â å­å¥ä¸­</strong>ã€‚</p>
<p>Bean Searcher çš„è®¾è®¡è€…é¢ä¸´ä¸€ä¸ªæŠ‰æ‹©ï¼šå½“æ¡†æ¶æ£€æµ‹åˆ°ä¸€ä¸ª"æ™®é€šJavaå­—æ®µ"å‡ºç°åœ¨åˆ†ç»„æŸ¥è¯¢ä¸­ï¼Œä½†åˆä¸å‚ä¸åˆ†ç»„æ—¶ï¼Œè¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</p>
<p>å¦‚æœæ¡†æ¶å°†å…¶æ¡ä»¶ç”Ÿæˆåœ¨Â <code>WHERE</code>Â å­å¥ï¼Œè¿™åœ¨è¯­ä¹‰ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä½†å¦‚æœå¼€å‘è€…æœ¬æ„æ˜¯æƒ³ç”¨è¿™ä¸ªå­—æ®µè¿‡æ»¤åˆ†ç»„åçš„ç»“æœï¼Œæ¡†æ¶å°†å…¶æ”¾åœ¨Â <code>WHERE</code>Â å°±ä¼šå¯¼è‡´é€»è¾‘é”™è¯¯ã€‚</p>
<p><code>Cluster.AUTO</code>Â é€‰æ‹©æ¨æ–­ä¸ºÂ <code>TRUE</code>ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§"å®‰å…¨ä¾§"è®¾è®¡ã€‚è¿™ç§æ¨æ–­å¾ˆå¤§æ¦‚ç‡ä¼šå¯¼è‡´è¿è¡Œæ—¶æ•°æ®åº“æŠ¥é”™ï¼Œä½†è¿™ä¸ª<strong>é”™è¯¯ä¼šå¼ºåˆ¶å¼€å‘è€…åœä¸‹æ¥æ€è€ƒ</strong>ï¼š"æˆ‘åˆ°åº•æƒ³ç”¨è¿™ä¸ªå­—æ®µåšä»€ä¹ˆï¼Ÿ"</p>
<p>ç„¶åå¼€å‘è€…å¿…é¡»åšå‡ºæ˜ç¡®çš„å†³å®šï¼š</p>
<ul>
<li>å¦‚æœè¿™ä¸ªå­—æ®µåªæ˜¯ç”¨äºåŠ¨æ€ç”Ÿæˆæ¡ä»¶ï¼Œä¸æ‰¿è½½æ£€ç´¢ç»“æœï¼Œå°±åº”è¯¥å°†å…¶å£°æ˜å†é™„åŠ å±æ€§ä¸­</li>
<li>å¦‚æœç¡®å®æƒ³åŸºäºè¯¥å­—æ®µçš„èšåˆç»“æœè¿‡æ»¤ï¼šåˆ™éœ€è¦æ”¹å†™ SQLï¼Œä¾‹å¦‚ä½¿ç”¨Â <code>avg(s.score)</code>Â ç­‰èšåˆå‡½æ•°</li>
<li>å¦‚æœç¡®å®ç”¨ä¸äº†èšåˆå‡½æ•°ï¼Œä½†æ—¢æƒ³æ‰¿è½½æ£€ç´¢ç»“æœï¼Œåˆæƒ³åœ¨åˆ†ç»„å‰è¿‡æ»¤ï¼šé‚£æ˜¯å¦è€ƒè™‘å°†å…¶å£°æ˜åˆ° <code>groupBy</code> åˆ—è¡¨ä¸­å»ï¼ˆéµå®ˆ SQL è§„èŒƒï¼‰</li>
<li>å¦‚æœå°± <strong>ä¸æƒ³éµå®ˆ SQL è§„èŒƒ</strong>ï¼Œå°±åº”æ˜¾å¼è®¾ç½®ä¸ºÂ <code>@DbField(cluster = Cluster.FALSE)</code></li>
</ul>
<h2 data-id="heading-4">5. é—®é¢˜çš„æœ¬è´¨ä¸è§£å†³æ–¹æ¡ˆ</h2>
<p>åŸºäºä¸Šè¿°ç†è§£ï¼Œæˆ‘æ„è¯†åˆ°æˆ‘çš„é—®é¢˜æœ¬è´¨æ˜¯ï¼š<code>teacherId</code>Â æ˜¯ä¸€ä¸ª<strong>å­—æ®µå±æ€§</strong>ï¼ˆJavaç±»ä¸­çš„å­—æ®µï¼‰ï¼Œå®ƒä¼šå‡ºç°åœ¨Â <code>SELECT</code>Â åˆ—è¡¨ä¸­ï¼Œä½†åœ¨Â <code>GROUP BY</code>Â æŸ¥è¯¢ä¸­ï¼Œå®ƒæ—¢ä¸åœ¨åˆ†ç»„åˆ—è¡¨ä¸­ï¼Œä¹Ÿä¸æ˜¯èšåˆå‡½æ•°ã€‚</p>
<p>æ ¹æ® SQL è¯­ä¹‰ï¼Œè¿™æ ·çš„å­—æ®µåœ¨Â <code>SELECT</code>Â ä¸­æ˜¯éæ³•çš„ã€‚Bean Searcher çš„Â <code>Cluster.AUTO</code>Â æ¨æ–­é€»è¾‘åœ¨è¿™ç§æƒ…å†µä¸‹é€‰æ‹©å°†å…¶è§†ä¸ºèšåˆå­—æ®µï¼ˆ<code>TRUE</code>ï¼‰ï¼Œå› æ­¤å°†è¿‡æ»¤æ¡ä»¶æ”¾åœ¨Â <code>HAVING</code>Â ä¸­ã€‚</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<h3 data-id="heading-5">æ–¹æ³•ä¸€ï¼šå°†å­—æ®µæ”¹ä¸ºé™„åŠ å±æ€§</h3>
<p>å¦‚æœè¿™ä¸ªå­—æ®µä¸éœ€è¦å‡ºç°åœ¨æŸ¥è¯¢ç»“æœä¸­ï¼Œåªä½œä¸ºè¿‡æ»¤æ¡ä»¶ï¼Œå¯ä»¥å°†å…¶å®šä¹‰ä¸ºé™„åŠ å±æ€§ï¼š</p>
<p>java</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@SearchBean</span>(
    tables = <span class="hljs-string">"course c, teacher t, score s"</span>,
    joinCond = <span class="hljs-string">"c.teacher_id = t.id and c.id = s.course_id"</span>,
    groupBy = <span class="hljs-string">"c.id"</span>,
    fields = {
        <span class="hljs-variable">@DbField</span>(name = <span class="hljs-string">"teacherId"</span>, value = <span class="hljs-string">"t.id"</span>)    <span class="hljs-comment">// å®šä¹‰é™„åŠ å±æ€§</span>
    }
)
public class CourseScoreVO {

    <span class="hljs-variable">@DbField</span>(<span class="hljs-string">"c.id"</span>)
    private Long courseId;

    <span class="hljs-variable">@DbField</span>(<span class="hljs-string">"AVG(s.score)"</span>)
    private Double averageScore;

    <span class="hljs-comment">// teacherId ç°åœ¨æ˜¯é™„åŠ å±æ€§ï¼Œä¸ä¼šå‡ºç°åœ¨SELECTä¸­</span>
    <span class="hljs-comment">// å®ƒå°†è¢«è‡ªåŠ¨æ¨æ–­ä¸º Cluster.FALSEï¼Œæ¡ä»¶ç”Ÿæˆåœ¨WHEREä¸­</span>
    
    <span class="hljs-comment">// çœç•¥å…¶ä»–å­—æ®µå’Œgetter/setter</span>
}
</code></pre>
<h3 data-id="heading-6">æ–¹æ³•äºŒï¼šæ˜¾å¼æŒ‡å®š cluster å±æ€§</h3>
<p>å¦‚æœç¡®å® <strong>ä¸æƒ³éµå®ˆ SQL è§„èŒƒ</strong>ï¼Œå¹¶ä¸”ä¹Ÿç¡®å®šæˆ‘çš„æ•°æ®åº“æ”¯æŒè¿è¡Œè¿™ç§ä¸è§„èŒƒçš„ SQLï¼Œé‚£ä¹ˆåªéœ€æŒ‡å®š <code>cluster</code> å±æ€§ä¸º <code>FALSE</code> å³å¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@DbField(value = "t.id", cluster = Cluster.FALSE)</span>
<span class="hljs-keyword">private</span> Long teacherId;
</code></pre>
<p>è¿™æ ·æ˜ç¡®å‘Šè¯‰æ¡†æ¶ï¼Œè¿™ä¸ªå­—æ®µæ˜¯éèšåˆå­—æ®µï¼Œæ¡ä»¶åº”è¯¥æ”¾åœ¨Â <code>WHERE</code>Â å­å¥ä¸­ã€‚</p>
<h2 data-id="heading-7">6. ä½œè€…çš„è®¾è®¡å“²å­¦ï¼š"å¥½ç±»" ä¸ "åç±»"</h2>
<p>ä¸ Bean Searcher ä½œè€…æ²Ÿé€šåï¼Œæˆ‘è·å¾—äº†æ›´æ·±å±‚æ¬¡çš„ç†è§£ã€‚ä½œè€…å°†åˆ†ç»„æŸ¥è¯¢åœºæ™¯ä¸‹çš„Â <code>@SearchBean</code>Â ç±»åˆ†ä¸ºä¸¤ç§ï¼š</p>
<h3 data-id="heading-8">ä»€ä¹ˆæ˜¯"å¥½ç±»"ï¼Ÿ</h3>
<p>ä¸€ä¸ªè¢«å¼€å‘è€…æ·±æ€ç†Ÿè™‘çš„"å¥½ç±»"ï¼Œåœ¨åˆ†ç»„æŸ¥è¯¢ä¸­ï¼Œå…¶æ¯ä¸ªå­—æ®µéƒ½ä¸¥æ ¼éµå®ˆ SQL è¯­ä¹‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SearchBean(
    tables = "student_course sc",
    groupBy = "sc.course_id"
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CourseScore</span> {

    <span class="hljs-comment">// è¿™ä¸ªå­—æ®µåœ¨ groupBy åˆ—è¡¨ä¸­ï¼Œåˆæ³•</span>
    <span class="hljs-meta">@DbField("sc.course_id")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> courseId;

    <span class="hljs-comment">// è¿™ä¸ªå­—æ®µæ˜¯èšåˆå‡½æ•°ï¼Œåˆæ³•</span>
    <span class="hljs-meta">@DbField("sum(sc.score)")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> totalScore;

    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ª"å¥½ç±»"ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®š cluster å±æ€§</span>
}
</code></pre>
<p>"å¥½ç±»" çš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ¯ä¸ªå­—æ®µè¦ä¹ˆåœ¨Â <code>groupBy</code>Â åˆ—è¡¨ä¸­</li>
<li>è¦ä¹ˆä½¿ç”¨äº†èšåˆå‡½æ•°ï¼ˆå¦‚Â <code>SUM</code>,Â <code>AVG</code>,Â <code>COUNT</code>Â ç­‰ï¼‰</li>
<li>æ¡†æ¶çš„ <strong>è‡ªåŠ¨æ¨æ–­</strong> èƒ½å®Œç¾å·¥ä½œï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„</li>
</ol>
<h3 data-id="heading-9">ä»€ä¹ˆæ˜¯"åç±»"ï¼Ÿ</h3>
<p>ä¸€ä¸ªæœªè¢«å¼€å‘è€…æ·±æ€ç†Ÿè™‘çš„"åç±»"ï¼ŒåŒ…å«ä¸ç¬¦åˆåˆ†ç»„æŸ¥è¯¢è¯­ä¹‰çš„å­—æ®µï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SearchBean(
    tables = "course c, teacher t, score s",
    joinCond = "c.teacher_id = t.id AND c.id = s.course_id",
    groupBy = "c.id"
)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CourseScoreVO</span> {

    <span class="hljs-comment">// è¿™ä¸ªå­—æ®µåœ¨ groupBy åˆ—è¡¨ä¸­ï¼Œåˆæ³•</span>
    <span class="hljs-meta">@DbField("c.id")</span>
    <span class="hljs-keyword">private</span> Long courseId;

    <span class="hljs-comment">// è¿™ä¸ªå­—æ®µæ˜¯èšåˆå‡½æ•°ï¼Œåˆæ³•</span>
    <span class="hljs-meta">@DbField("AVG(s.score)")</span>
    <span class="hljs-keyword">private</span> Double averageScore;

    <span class="hljs-comment">// è¿™ä¸ªå­—æ®µæ—¢ä¸åœ¨ groupBy åˆ—è¡¨ä¸­ï¼Œä¹Ÿä¸æ˜¯èšåˆå‡½æ•°</span>
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ª "åç±»" çš„å…¸å‹è¡¨ç°</span>
    <span class="hljs-meta">@DbField("t.id")</span>
    <span class="hljs-keyword">private</span> Long teacherId;
}
</code></pre>
<p>"åç±»"çš„é—®é¢˜ï¼š</p>
<ol>
<li>åŒ…å«æ—¢ä¸åœ¨Â <code>groupBy</code>Â åˆ—è¡¨ä¸­ï¼Œä¹Ÿä¸æ˜¯èšåˆå‡½æ•°çš„å­—æ®µ</li>
<li>è¿™äº›å­—æ®µåœ¨åˆ†ç»„æŸ¥è¯¢çš„Â <code>SELECT</code>Â å­å¥ä¸­æ˜¯ä¸åˆæ³•çš„ï¼Œæ²¡æœ‰éµå¾ª SQL è§„èŒƒ</li>
<li>æ¡†æ¶æ— æ³•è‡ªåŠ¨ç¡®å®šå¦‚ä½•å¤„ç†è¿™äº›å­—æ®µçš„è¿‡æ»¤æ¡ä»¶</li>
</ol>
<h3 data-id="heading-10">ä½œè€…çš„æ„å›¾</h3>
<p>ä½œè€…çš„è®¾è®¡å“²å­¦æ˜¯ï¼š<strong>å¼•å¯¼å¼€å‘è€…è®¾è®¡ "å¥½ç±»"ï¼Œè€Œä¸æ˜¯è¿å°± "åç±»"</strong> ã€‚</p>
<p>å½“ä¸€ä¸ªç±»è¢«æ¡†æ¶æ ‡è®°ä¸º"åç±»"ï¼ˆé€šè¿‡æ¡ä»¶è¢«é”™è¯¯æ”¾å…¥Â <code>HAVING</code>Â æ¥æç¤ºï¼‰æ—¶ï¼Œæ¡†æ¶å®é™…ä¸Šåœ¨è¯´ï¼š</p>
<blockquote>
<p>"ä½ çš„ç±»è®¾è®¡å¯èƒ½å­˜åœ¨é—®é¢˜ã€‚è¯·é‡æ–°æ€è€ƒï¼šè¿™ä¸ªå­—æ®µçœŸçš„åº”è¯¥åœ¨åˆ†ç»„æŸ¥è¯¢çš„ç»“æœä¸­å‡ºç°å—ï¼Ÿ"</p>
</blockquote>
<p>å¦‚æœå¼€å‘è€…ç»è¿‡æ€è€ƒåï¼Œè®¤ä¸ºè¿™ä¸ªå­—æ®µç¡®å®éœ€è¦ï¼Œé‚£ä¹ˆå°±åº”è¯¥æ˜ç¡®å‘Šè¯‰æ¡†æ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç»è¿‡æ€è€ƒï¼Œæˆ‘ç¡®å®éœ€è¦è¿™ä¸ªå­—æ®µï¼Œä½†å®ƒåº”è¯¥ä½œä¸ºåˆ†ç»„å‰è¿‡æ»¤æ¡ä»¶</span>
<span class="hljs-meta">@DbField(value = "t.id", cluster = Cluster.FALSE)</span>
<span class="hljs-keyword">private</span> Long teacherId;
</code></pre>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¡†æ¶æ—¢ä¿è¯äº† SQL çš„è¯­ä¹‰æ­£ç¡®æ€§ï¼Œåˆç»™äº†å¼€å‘è€…çµæ´»å¤„ç†ç‰¹æ®Šæƒ…å†µçš„ç©ºé—´ã€‚</p>
<h2 data-id="heading-11">7. æœ€ä½³å®è·µä¸æ€»ç»“</h2>
<p>é€šè¿‡è¿™æ¬¡ç»å†ï¼Œæˆ‘æ€»ç»“äº†åœ¨ä½¿ç”¨ Bean Searcher è¿›è¡Œåˆ†ç»„æŸ¥è¯¢æ—¶çš„æœ€ä½³å®è·µï¼š</p>
<ol>
<li><strong>è®¾è®¡"å¥½ç±»"ä¼˜å…ˆ</strong>ï¼šåœ¨è®¾è®¡åˆ†ç»„æŸ¥è¯¢çš„å®ä½“ç±»æ—¶ï¼Œä¼˜å…ˆç¡®ä¿æ¯ä¸ªå­—æ®µè¦ä¹ˆåœ¨Â <code>groupBy</code>Â åˆ—è¡¨ä¸­ï¼Œè¦ä¹ˆæ˜¯èšåˆå‡½æ•°ã€‚è¿™æ ·çš„"å¥½ç±»"èƒ½è®©æ¡†æ¶çš„è‡ªåŠ¨æ¨æ–­å®Œç¾å·¥ä½œã€‚</li>
<li><strong>ç†è§£"åç±»"çš„ä»£ä»·</strong>ï¼šå¦‚æœç¡®å®éœ€è¦åŒ…å«éåˆ†ç»„ã€éèšåˆçš„å­—æ®µï¼Œç†è§£è¿™æ˜¯"åç±»"ï¼Œå¹¶æ¥å—éœ€è¦æ‰‹åŠ¨æŒ‡å®šÂ <code>cluster</code>Â å±æ€§çš„ä»£ä»·ã€‚</li>
<li><strong>ç†è§£æ¡†æ¶è®¾è®¡å“²å­¦</strong>ï¼šBean Searcher çš„è®¾è®¡è€…åœ¨"ä¾¿åˆ©æ€§"å’Œ"è¯­ä¹‰æ­£ç¡®æ€§"ä¹‹é—´é€‰æ‹©äº†åè€…ã€‚è¿™å¯èƒ½å¯¼è‡´åˆæœŸçš„å­¦ä¹ æ›²çº¿ï¼Œä½†é•¿æœŸæ¥çœ‹ï¼Œå®ƒ <strong>é¿å…äº†æ›´éšè”½çš„é€»è¾‘é”™è¯¯</strong>ã€‚</li>
<li><strong>åŒºåˆ†å­—æ®µç”¨é€”</strong>ï¼šæ˜ç¡®åŒºåˆ†å“ªäº›å­—æ®µç”¨äºå±•ç¤ºç»“æœï¼ˆéœ€è¦åœ¨Â <code>SELECT</code>Â ä¸­ï¼‰ï¼Œå“ªäº›ä»…ç”¨äºè¿‡æ»¤ï¼ˆå¯ä»¥å®šä¹‰ä¸ºé™„åŠ å±æ€§ï¼‰ã€‚</li>
</ol>
<p>å›é¡¾æ•´ä¸ªæ¢ç´¢è¿‡ç¨‹ï¼Œé‚£ä¸ªçœ‹ä¼¼"è¯¡å¼‚"çš„é”™è¯¯å®é™…ä¸Šæ˜¯æŒ‡å¼•æˆ‘æ·±å…¥ç†è§£ SQL è¯­ä¹‰å’Œæ¡†æ¶è®¾è®¡ç†å¿µçš„è·¯æ ‡ã€‚Bean Searcher é€šè¿‡è¿™ç§ <strong>"å¿«é€Ÿå¤±è´¥"</strong> çš„è®¾è®¡ï¼Œç¡®ä¿å¼€å‘è€…åœ¨æ—©æœŸå°±èƒ½å‘ç°å¹¶ä¿®å¤æ½œåœ¨çš„é€»è¾‘é—®é¢˜ã€‚</p>
<p>è¿™ä¸ªæ¡†æ¶ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€åŒ–ä»£ç çš„å·¥å…·ï¼Œå®ƒæ›´æ˜¯ä¸€ä¸ªå¼•å¯¼å¼€å‘è€…å†™å‡ºæ›´ä¸¥è°¨ SQL çš„è‰¯å¸ˆç›Šå‹ã€‚ä¸‹æ¬¡å½“ä½ çš„æŸ¥è¯¢æ¡ä»¶"å·å·"è·‘è¿›Â <code>HAVING</code>Â å­å¥æ—¶ï¼Œä¸è¦æƒŠæ…Œï¼Œè¿™æ˜¯æ¡†æ¶åœ¨æé†’ä½ ï¼šæ˜¯æ—¶å€™ä»”ç»†æ€è€ƒä½ çš„æŸ¥è¯¢é€»è¾‘äº†ã€‚</p>
<p>æ¯•ç«Ÿï¼Œåœ¨ç¼–ç¨‹çš„ä¸–ç•Œé‡Œï¼Œæ²¡æœ‰æ— ç¼˜æ— æ•…çš„"è¯¡å¼‚"ï¼Œåªæœ‰å°šæœªç†è§£çš„ç²¾å¦™è®¾è®¡ï¼</p>
<blockquote>
<p><strong>å¼€æºä»£ç ï¼š</strong></p>
<ul>
<li>Gitee: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftroyzhxu%2Fbean-searcher" target="_blank" title="https://gitee.com/troyzhxu/bean-searcher" ref="nofollow noopener noreferrer">gitee.com/troyzhxu/beâ€¦</a></li>
<li>Github: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftroyzhxu%2Fbean-searcher" target="_blank" title="https://github.com/troyzhxu/bean-searcher" ref="nofollow noopener noreferrer">github.com/troyzhxu/beâ€¦</a></li>
<li>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbs.zhxu.cn%2F" target="_blank" title="https://bs.zhxu.cn/" ref="nofollow noopener noreferrer">bs.zhxu.cn/</a></li>
</ul>
<p><strong>å¾€æœŸé˜…è¯»ï¼š</strong></p>
<ul>
<li><a href="https://juejin.cn/post/7027733039299952676" target="_blank" title="https://juejin.cn/post/7027733039299952676">æˆ‘è¿™æ ·å†™ä»£ç ï¼Œæ¯”ç›´æ¥ä½¿ç”¨ MyBatis æ•ˆç‡æé«˜äº† 100 å€</a></li>
<li><a href="https://juejin.cn/post/7092411551507808264" target="_blank" title="https://juejin.cn/post/7092411551507808264">æœ€è¿‘ç«èµ·çš„ Bean Searcher ä¸ MyBatis Plus å€’åº•æœ‰å•¥åŒºåˆ«ï¼Ÿ</a></li>
<li><a href="https://juejin.cn/post/7116736773065343012" target="_blank" title="https://juejin.cn/post/7116736773065343012">Bean Searcher v3.8.0 ä¸€å¤§æ³¢æ–°ç‰¹æ€§æ¥è¢­</a></li>
<li><a href="https://juejin.cn/post/7379667550504517643" target="_blank" title="https://juejin.cn/post/7379667550504517643">ä½ çŸ¥é“åªè¯» ORM å—ï¼ŒBean Searcher v4.3.0 æ¥å•¦ï¼</a></li>
</ul>
</blockquote>
<p>å¦‚æœè§‰å¾—æ–‡æœ¬ä¸é”™ï¼ŒåŠ¨æ‰‹ç‚¹ä¸ªèµå§ ^_^</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´å¤åˆå¢é•¿ç‡5.3%ï¼å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿]]></title>    <link>https://juejin.cn/post/7581486065996300323</link>    <guid>https://juejin.cn/post/7581486065996300323</guid>    <pubDate>2025-12-09T06:42:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581486065996300323" data-draft-id="7581545175508942900" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´å¤åˆå¢é•¿ç‡5.3%ï¼å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:42:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´å¤åˆå¢é•¿ç‡5.3%ï¼å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:42:17.000Z" title="Tue Dec 09 2025 06:42:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2024å¹´å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡è¾¾27481.51ä¸‡å¹³æ–¹ç±³ï¼Œå¹³å‡å”®ä»·ä¸º8.75ç¾å…ƒ/å¹³æ–¹ç±³ã€‚<br/>
ä¸ºè§£å†³ä¼ ç»Ÿæ ‡è¯†èƒ¶å¸¦å›¾æ¡ˆå›ºåŒ–ã€å¸ƒæ–™æ ‡è¯†ç²˜è´´æ€§ä¸è¶³ã€å®šåˆ¶åŒ–éœ€æ±‚å“åº”æ»åç­‰é—®é¢˜ï¼Œå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™åº”è¿è€Œç”Ÿã€‚å…¶é€šè¿‡åœ¨åŸºæå¸ƒæ–™è¡¨é¢å¤åˆå‹æ•èƒ¶å±‚å¹¶åšæ‰“å°é€‚é…å¤„ç†ï¼Œèåˆäº†ç»‡ç‰©çš„æŸ”éŸ§ç‰¹æ€§ä¸èƒ¶å¸¦çš„ç²˜åˆåŠŸèƒ½ï¼Œç°å·²å‘å±•ä¸ºæ¶µç›–ç¯ä¿å‹ã€åŠŸèƒ½æ€§ç­‰å¤šå“ç±»ï¼Œå¹¿æ³›åº”ç”¨äºåŒ…è£…æ ‡è¯†ã€ç”µå­é˜²æŠ¤ã€åŒ»ç”¨æ•·æ–™ã€å¹¿å‘Šè£…é¥°ç­‰é¢†åŸŸçš„æ–°å‹ææ–™ã€‚â€‹</p>
<p>2024 å¹´å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºæ°‘ç”¨åŒ…è£…ç±»äº§å“å‡ä»· 1.2-3.5 ç¾å…ƒ / å¹³æ–¹ç±³ï¼Œç”µå­åŒ»ç”¨é«˜ç«¯å‹å·å‡ä»·å¯è¾¾ 12-25 ç¾å…ƒ / å¹³æ–¹ç±³ã€‚äº§èƒ½æ–¹é¢ï¼Œä¸­å°å‹ä¼ä¸šå•çº¿å¹´äº§èƒ½ä¸€èˆ¬ä¸º 1000-2000 ä¸‡å¹³æ–¹ç±³ã€‚è¡Œä¸šå¹³å‡äº§èƒ½åˆ©ç”¨ç‡çº¦ 72%ï¼Œç”µå•†ä¿ƒé”€æ—ºå­£å¯å‡è‡³ 85%ã€‚æ¯›åˆ©ç‡å› åº”ç”¨åœºæ™¯å·®å¼‚æ˜¾è‘—ï¼šæ°‘ç”¨åŸºç¡€æ¬¾çº¦ 15%-18%ï¼Œç”µå­åŒ»ç”¨é«˜ç«¯æ¬¾å¯è¾¾ 22%-27%ã€‚â€‹<br/>
å…¸å‹äº¤æ˜“æ¡ˆä¾‹â€‹<br/>
é›…è¯—å…°é»›é›†å›¢ 2024 å¹´ç¬¬äºŒå­£åº¦é‡‡è´­ 1200 ä¸‡å¹³æ–¹ç±³åˆ›ç»‡ç¾ç¯ä¿å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ï¼Œå‹å·ä¸º ECO-PRINT 08ï¼Œæ€»é‡‘é¢çº¦ 2880 ä¸‡ç¾å…ƒï¼Œé‡‡è´­è¦æ±‚æ˜ç¡® â€œé‡‡ç”¨å¯é™è§£çº¸çº¤ç»´åŸºæï¼Œæ”¯æŒå…¨å½©æ•°ç å°åˆ·ï¼Œå‰¥ç¦»å¼ºåº¦â‰¥3.2N/25mmï¼Œé€‚é…åŒ–å¦†å“ç¤¼ç›’è‡ªåŠ¨åŒ–å°è£…çº¿â€ï¼Œç”¨äºå…¨çƒ 32 ä¸ªåœ°åŒºçš„èŠ‚æ—¥é™å®šç¤¼ç›’åŒ…è£…ã€‚â€‹<br/>
å®å¾·æ—¶ä»£ 2025 å¹´åˆé‡‡è´­ 800 ä¸‡å¹³æ–¹ç±³æ·±åœ³è“æ£®åŠŸèƒ½æ€§å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ï¼Œå•ä»· 14 ç¾å…ƒ / å¹³æ–¹ç±³ï¼Œè¦æ±‚ â€œå…·å¤‡æŠ—é™ç”µæ€§èƒ½ï¼ˆè¡¨é¢ç”µé˜»â‰¤10â¹Î©ï¼‰ã€è€é«˜ä½æ¸©ï¼ˆ-40â„ƒè‡³ 85â„ƒï¼‰ã€å¯æ‰“å°ç”µææ ‡è¯†å›¾æ¡ˆâ€ï¼Œç”¨äºåŠ¨åŠ›ç”µæ± æ¨¡ç»„ç»ç¼˜æ ‡è¯†ä¸å›ºå®šã€‚â€‹<br/>
äº§ä¸šé“¾ç»“æ„â€‹<br/>
å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§ä¸šé“¾ä¸Šæ¸¸èšç„¦æ ¸å¿ƒææ–™ï¼ˆBOPPè–„è†œã€äºšå…‹åŠ›èƒ¶ã€ç¯ä¿çº¸çº¤ç»´ï¼‰ä¸å…³é”®ç»„ä»¶ï¼ˆæ¶‚å¸ƒæ¨¡å…·ã€æ‰“å°é€‚é…æ¶‚å±‚ã€é˜²æ»‘åŸºæï¼‰ï¼Œä¾æ‰˜å¾·å›½å¸ƒé²å…‹çº³ç”Ÿäº§çº¿åŠæ•°ç å°åˆ·è®¾å¤‡æä¾›æŠ€æœ¯æ”¯æ’‘ï¼›ä¸‹æ¸¸åº”ç”¨ä»¥åŒ…è£…è¡Œä¸šï¼ˆ55%ï¼‰ä¸ºä¸»ï¼Œè¦†ç›–ç”µå•†ç‰©æµã€å¥¢ä¾ˆå“ç¤¼ç›’åŠé£Ÿå“åŒ…è£…ï¼Œå…¶ä¸­ä¸œå—äºšç”µå•†éœ€æ±‚2024å¹´å¢é•¿32%ï¼Œç”µå­å·¥ä¸šï¼ˆ22%ï¼‰å—ç›Šäºå…¨çƒæ™ºèƒ½è®¾å¤‡ä¸åŠ¨åŠ›ç”µæ± å‘å±•éœ€æ±‚å¹´å¢18%ï¼Œå»ºç­‘ä¸åŒ»ç–—é¢†åŸŸåˆ†åˆ«å æ¯”15%å’Œ8%ï¼Œæ¬§ç¾åŒ»ç”¨æ•·æ–™å¸‚åœºå¢é€Ÿè¾¾25%ã€‚<br/>
è¡Œä¸šè¶‹åŠ¿ä¸æŒ‘æˆ˜â€‹<br/>
å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šå‘ˆç°ä¸‰å¤§å‘å±•è¶‹åŠ¿ä¸æœºé‡æŒ‘æˆ˜ï¼šç¯ä¿åŒ–åŠ é€Ÿæ¨åŠ¨å¯é™è§£åŸºææ¸—é€ç‡å¹´å¢12%ï¼Œ2025å¹´å°†å æ°‘ç”¨å¸‚åœº45%ï¼Œæ¬§ç›Ÿ2027å¹´å…¨é¢ç¦ç”¨éé™è§£æ¬¾ï¼›å®šåˆ¶åŒ–å‡çº§ä½¿å°æ‰¹é‡å®šåˆ¶å æ¯”ä»2021å¹´18%æå‡è‡³2024å¹´35%ï¼Œåˆ›ç»‡ç¾24å°æ—¶æ‰“æ ·æœåŠ¡æˆè¡Œä¸šæ ‡é…ï¼›åŠŸèƒ½é›†æˆåŒ–é©±åŠ¨å¤åˆäº§å“å¢é€Ÿè¾¾28%ï¼Œé˜²æ°´+æŠ—é™ç”µæ¬¾åœ¨ç”µå­é¢†åŸŸéœ€æ±‚æ¿€å¢ã€‚å¸‚åœºæœºé‡æ–¹é¢ï¼Œæ–°å…´å¸‚åœºï¼ˆå°åº¦ã€éæ´²åŒ…è£…ï¼‰å¹´å¢é€Ÿè¶…22%å¸¦åŠ¨æ°‘ç”¨åŸºç¡€æ¬¾é”€é‡ï¼Œç”µå­å…ƒä»¶å°å‹åŒ–å‚¬ç”Ÿ300dpiä»¥ä¸Šé«˜ç²¾åº¦æ‰“å°äº§å“30%æº¢ä»·ç©ºé—´ï¼Œä¸­å›½ç¯ä¿æ”¿ç­–æ¨åŠ¨50äº¿å¹³æ–¹ç±³è€æ—§äº§èƒ½æ›¿æ¢ï¼›æ ¸å¿ƒæŒ‘æˆ˜åˆ™åŒ…æ‹¬ç¯ä¿ææ–™æˆæœ¬é«˜40%æŒ¤å‹ä¸­å°ä¼ä¸šåˆ©æ¶¦ã€æ°‘ç”¨å¸‚åœºä»·æ ¼æˆ˜è‡´åŸºç¡€æ¬¾æ¯›åˆ©ç‡å‹ç¼©è‡³15%ä»¥ä¸‹ï¼Œä»¥åŠæ¬§ç›ŸREACHè®¤è¯168é¡¹æ£€æµ‹é€šè¿‡ç‡ä»…62%çš„è®¤è¯å£å’ã€‚<br/>
éœ€æ±‚ä¸å•†æœºåˆ†æâ€‹<br/>
å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™çš„éœ€æ±‚å¢é•¿ä¸»è¦å—å››å¤§å› ç´ é©±åŠ¨ï¼šåŒ…è£…å®šåˆ¶åŒ–é¢†åŸŸï¼Œå…¨çƒç”µå•†åŒ…è£¹é‡å¹´å¢25%åŠå¥¢ä¾ˆå“ç¤¼ç›’æ ‡è¯†éœ€æ±‚æ¨åŠ¨è®¢å•å¢é•¿38%ï¼ŒåŒæ—¶å…¶â€œç²˜è´´+æ ‡è¯†â€äºŒåˆä¸€ç‰¹æ€§ä½¿åŒ…è£…æ•ˆç‡æå‡50%ã€å•ä»¶æˆæœ¬é™ä½0.3ç¾å…ƒï¼›ç”µå­å·¥ä¸šå› å…ƒä»¶ç²¾å¯†åŒ–ï¼ˆå¦‚æ™ºèƒ½æ‰‹æœº0.1mmé—´è·ï¼‰ä¸å¯é æ€§è¦æ±‚ï¼ˆåŠ¨åŠ›ç”µæ± æ•…éšœç‡éœ€â‰¤0.01%ï¼‰ï¼Œå¸¦åŠ¨é«˜ç²¾åº¦é€‚é…äº§å“å¹´é‡‡è´­é‡è¶…800ä¸‡å¹³æ–¹ç±³ï¼›ç¯ä¿æ”¿ç­–æ–¹é¢ï¼Œæ¬§ç›Ÿã€ŠåŒ…è£…ä¸åŒ…è£…åºŸç‰©æŒ‡ä»¤ã€‹ä¸å›½å†…äº§ä¸šæ”¿ç­–åˆ†åˆ«æ¨åŠ¨æ¬§æ´²å¸‚åœºå¹´å¢28%ã€ä¼ä¸šè·è¡¥è´´å ç ”å‘æŠ•å…¥22%ï¼›æŠ€æœ¯å±‚é¢å…¼å®¹8ç§åŸºæä¸6ç§æ‰“å°æŠ€æœ¯ï¼Œé€‚é…ç‡è¾¾93%ï¼Œæ•°ç æ‰“å°æ›´ä½¿å°æ‰¹é‡å®šåˆ¶æˆæœ¬ä¸‹é™60%ï¼Œå•ä½æ‰“å°æˆæœ¬ä»…0.02ç¾å…ƒ/å¹³æ–¹ç±³ã€‚</p>
<p><strong>å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å…¨çƒå¸‚åœºè§„æ¨¡ç°çŠ¶åŠè¶‹åŠ¿é¢„æµ‹ï¼š</strong> QYResearchå¸‚åœºæŠ¥å‘Šæ•°æ®è¡¨ç¤ºï¼Œ2025å¹´å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†2531ç™¾ä¸‡ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°3445ç™¾ä¸‡ç¾å…ƒï¼Œ2025-2031å¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º5.3%ã€‚</p>
<p>**è¡Œä¸šæŠ¥å‘Šï¼šæ´å¯Ÿè¶‹åŠ¿ï¼ŒæŒ‡å¼•æ–¹å‘<br/>
**<strong>ã€Š2025-2031å…¨çƒä¸ä¸­å›½å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‹</strong> ä¸ºè¡Œä¸šå‚ä¸è€…æä¾›äº†å…¨é¢è€Œæ·±å…¥çš„å¸‚åœºæ´å¯Ÿã€‚è¯¥æŠ¥å‘Šèšç„¦å…¨çƒä¸ä¸­å›½å¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™çš„äº§èƒ½ã€äº§é‡ã€é”€é‡ã€é”€å”®é¢ã€ä»·æ ¼åŠæœªæ¥è¶‹åŠ¿ç­‰å…³é”®æŒ‡æ ‡ï¼Œé‡ç‚¹åˆ†æå…¨çƒä¸ä¸­å›½å¸‚åœºä¸»è¦å‚å•†çš„äº§å“ç‰¹ç‚¹ã€äº§å“è§„æ ¼ã€ä»·æ ¼ã€é”€é‡ã€é”€å”®æ”¶å…¥åŠå¸‚åœºä»½é¢ç­‰æ ¸å¿ƒä¿¡æ¯ã€‚é€šè¿‡è¿™ä»½æŠ¥å‘Šï¼Œä¼ä¸šèƒ½å¤Ÿæ›´å¥½åœ°æŠŠæ¡å¸‚åœºåŠ¨æ€ï¼Œåˆ¶å®šç§‘å­¦åˆç†çš„å‘å±•æˆ˜ç•¥ï¼Œåœ¨æ¿€çƒˆçš„å¸‚åœºç«äº‰ä¸­æŠ¢å å…ˆæœºã€‚</p>
<p><strong>å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºç»†åˆ†å†…å®¹å¦‚ä¸‹ï¼š</strong><br/>
ï¼ˆæ ¸å¿ƒä¼ä¸šåå•ï¼‰ï¼š3Mã€ BASFã€ Tesaã€ Friendship Groupã€ å¹¿ä¸œåˆ›ç»‡ç¾ã€ æ·±åœ³è“æ£®ã€ KAMOI KAKOSHIã€ Washi Millã€ Nishikawa Communicationsã€ Nittoã€ AveryDennisonã€ WONDERã€ YOURIJIUã€ WINGTAIã€ Ginnvaã€ CROWNã€ æ°¸å† æ–°æã€ Vibac Groupã€ Shurtape Technologies</p>
<p>ï¼ˆäº§å“ç±»å‹ï¼‰ï¼šBOPP åŸºæå‹ã€ æ— çººå¸ƒåŸºæå‹ã€ ç»‡ç‰©åŸºæå‹Â </p>
<p>ï¼ˆåº”ç”¨é¢†åŸŸï¼‰ï¼šåŒ…è£…ä¸ç‰©æµã€ å»ºç­‘è£…é¥°ã€ æ±½è½¦åˆ¶é€ ã€ ç”µå­ç”µæ°”ã€ çººç»‡æœè£…ã€ å…¶ä»–</p>
<p>1 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºæ¦‚è¿°<br/>
1.1 äº§å“å®šä¹‰åŠç»Ÿè®¡èŒƒå›´<br/>
1.2 æŒ‰ç…§ä¸åŒäº§å“ç±»å‹ï¼Œå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸»è¦å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªç±»åˆ«<br/>
1.2.1 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.2.2 BOPP åŸºæå‹<br/>
1.2.3 æ— çººå¸ƒåŸºæå‹<br/>
1.2.4 ç»‡ç‰©åŸºæå‹<br/>
1.3 æŒ‰ç…§ä¸åŒæ‰“å°æŠ€æœ¯é€‚é…ï¼Œå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸»è¦å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªç±»åˆ«<br/>
1.3.1 å…¨çƒä¸åŒæ‰“å°æŠ€æœ¯é€‚é… å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.3.2 æ•°ç æ‰“å°å‹<br/>
1.3.3 çƒ­è½¬å°å‹<br/>
1.3.4 ä¸ç½‘å°åˆ·å‹<br/>
1.4 æŒ‰ç…§ä¸åŒåŠŸèƒ½ç‰¹æ€§ï¼Œå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸»è¦å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªç±»åˆ«<br/>
1.4.1 å…¨çƒä¸åŒåŠŸèƒ½ç‰¹æ€§ å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.4.2 ç¯ä¿é™è§£å‹<br/>
1.4.3 åŠŸèƒ½æ€§é˜²æŠ¤å‹<br/>
1.4.4 é«˜å¼ºåº¦ç²˜åˆå‹<br/>
1.5 ä»ä¸åŒåº”ç”¨ï¼Œå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢<br/>
1.5.1 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.5.2 åŒ…è£…ä¸ç‰©æµ<br/>
1.5.3 å»ºç­‘è£…é¥°<br/>
1.5.4 æ±½è½¦åˆ¶é€ <br/>
1.5.5 ç”µå­ç”µæ°”<br/>
1.5.6 çººç»‡æœè£…<br/>
1.5.7 å…¶ä»–<br/>
1.6 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šèƒŒæ™¯ã€å‘å±•å†å²ã€ç°çŠ¶åŠè¶‹åŠ¿<br/>
1.6.1 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šç›®å‰ç°çŠ¶åˆ†æ<br/>
1.6.2 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å‘å±•è¶‹åŠ¿<br/>
2 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ€»ä½“è§„æ¨¡åˆ†æ<br/>
2.1 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¾›éœ€ç°çŠ¶åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.1.1 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§èƒ½ã€äº§é‡ã€äº§èƒ½åˆ©ç”¨ç‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.1.2 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡ã€éœ€æ±‚é‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.2 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.2.1 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡ï¼ˆ2020-2025ï¼‰<br/>
2.2.2 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡ï¼ˆ2026-2031ï¼‰<br/>
2.2.3 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡å¸‚åœºä»½é¢ï¼ˆ2020-2031ï¼‰<br/>
2.3 ä¸­å›½å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¾›éœ€ç°çŠ¶åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.3.1 ä¸­å›½å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§èƒ½ã€äº§é‡ã€äº§èƒ½åˆ©ç”¨ç‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.3.2 ä¸­å›½å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§é‡ã€å¸‚åœºéœ€æ±‚é‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.4 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡åŠé”€å”®é¢<br/>
2.4.1 å…¨çƒå¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®é¢ï¼ˆ2020-2031ï¼‰<br/>
2.4.2 å…¨çƒå¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2031ï¼‰<br/>
2.4.3 å…¨çƒå¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä»·æ ¼è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
3 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸»è¦åœ°åŒºåˆ†æ<br/>
3.1 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å¸‚åœºè§„æ¨¡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.1.1 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®æ”¶å…¥åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.1.2 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®æ”¶å…¥é¢„æµ‹ï¼ˆ2026-2031å¹´ï¼‰<br/>
3.2 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.2.1 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.2.2 å…¨çƒä¸»è¦åœ°åŒºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡åŠå¸‚åœºä»½é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3.3 åŒ—ç¾å¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.4 æ¬§æ´²å¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.5 ä¸­å›½å¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.6 æ—¥æœ¬å¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.7 ä¸œå—äºšå¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.8 å°åº¦å¸‚åœºå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
4 å…¨çƒä¸ä¸­å›½ä¸»è¦å‚å•†å¸‚åœºä»½é¢åˆ†æ<br/>
4.1 å…¨çƒå¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§èƒ½å¸‚åœºä»½é¢<br/>
4.2 å…¨çƒå¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.2.1 å…¨çƒå¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.2.2 å…¨çƒå¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®æ”¶å…¥ï¼ˆ2020-2025ï¼‰<br/>
4.2.3 å…¨çƒå¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®ä»·æ ¼ï¼ˆ2020-2025ï¼‰<br/>
4.2.4 2024å¹´å…¨çƒä¸»è¦ç”Ÿäº§å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥æ’å<br/>
4.3 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.3.1 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.3.2 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®æ”¶å…¥ï¼ˆ2020-2025ï¼‰<br/>
4.3.3 2024å¹´ä¸­å›½ä¸»è¦ç”Ÿäº§å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥æ’å<br/>
4.3.4 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®ä»·æ ¼ï¼ˆ2020-2025ï¼‰<br/>
4.4 å…¨çƒä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ€»éƒ¨åŠäº§åœ°åˆ†å¸ƒ<br/>
4.5 å…¨çƒä¸»è¦å‚å•†æˆç«‹æ—¶é—´åŠå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å•†ä¸šåŒ–æ—¥æœŸ<br/>
4.6 å…¨çƒä¸»è¦å‚å•†å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“ç±»å‹åŠåº”ç”¨<br/>
4.7 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šé›†ä¸­åº¦ã€ç«äº‰ç¨‹åº¦åˆ†æ<br/>
4.7.1 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šé›†ä¸­åº¦åˆ†æï¼š2024å¹´å…¨çƒTop 5ç”Ÿäº§å•†å¸‚åœºä»½é¢<br/>
4.7.2 å…¨çƒå¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç¬¬ä¸€æ¢¯é˜Ÿã€ç¬¬äºŒæ¢¯é˜Ÿå’Œç¬¬ä¸‰æ¢¯é˜Ÿç”Ÿäº§å•†ï¼ˆå“ç‰Œï¼‰åŠå¸‚åœºä»½é¢<br/>
4.8 æ–°å¢æŠ•èµ„åŠå¸‚åœºå¹¶è´­æ´»åŠ¨<br/>
5 å…¨çƒä¸»è¦ç”Ÿäº§å•†åˆ†æ<br/>
5.1 3M<br/>
5.1.1 3MåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.1.2 3M å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.1.3 3M å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.1.4 3Må…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.1.5 3Mä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.2 BASF<br/>
5.2.1 BASFåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.2.2 BASF å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.2.3 BASF å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.2.4 BASFå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.2.5 BASFä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.3 Tesa<br/>
5.3.1 TesaåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.3.2 Tesa å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.3.3 Tesa å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.3.4 Tesaå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.3.5 Tesaä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.4 Friendship Group<br/>
5.4.1 Friendship GroupåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.4.2 Friendship Group å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.4.3 Friendship Group å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.4.4 Friendship Groupå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.4.5 Friendship Groupä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.5 å¹¿ä¸œåˆ›ç»‡ç¾<br/>
5.5.1 å¹¿ä¸œåˆ›ç»‡ç¾åŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.5.2 å¹¿ä¸œåˆ›ç»‡ç¾ å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.5.3 å¹¿ä¸œåˆ›ç»‡ç¾ å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.5.4 å¹¿ä¸œåˆ›ç»‡ç¾å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.5.5 å¹¿ä¸œåˆ›ç»‡ç¾ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.6 æ·±åœ³è“æ£®<br/>
5.6.1 æ·±åœ³è“æ£®åŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.6.2 æ·±åœ³è“æ£® å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.6.3 æ·±åœ³è“æ£® å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.6.4 æ·±åœ³è“æ£®å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.6.5 æ·±åœ³è“æ£®ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.7 KAMOI KAKOSHI<br/>
5.7.1 KAMOI KAKOSHIåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.7.2 KAMOI KAKOSHI å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.7.3 KAMOI KAKOSHI å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.7.4 KAMOI KAKOSHIå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.7.5 KAMOI KAKOSHIä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.8 Washi Mill<br/>
5.8.1 Washi MillåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.8.2 Washi Mill å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.8.3 Washi Mill å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.8.4 Washi Millå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.8.5 Washi Millä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.9 Nishikawa Communications<br/>
5.9.1 Nishikawa CommunicationsåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.9.2 Nishikawa Communications å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.9.3 Nishikawa Communications å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.9.4 Nishikawa Communicationså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.9.5 Nishikawa Communicationsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.10 Nitto<br/>
5.10.1 NittoåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.10.2 Nitto å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.10.3 Nitto å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.10.4 Nittoå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.10.5 Nittoä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.11 AveryDennison<br/>
5.11.1 AveryDennisonåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.11.2 AveryDennison å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.11.3 AveryDennison å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.11.4 AveryDennisonå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.11.5 AveryDennisonä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.12 WONDER<br/>
5.12.1 WONDERåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.12.2 WONDER å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.12.3 WONDER å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.12.4 WONDERå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.12.5 WONDERä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.13 YOURIJIU<br/>
5.13.1 YOURIJIUåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.13.2 YOURIJIU å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.13.3 YOURIJIU å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.13.4 YOURIJIUå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.13.5 YOURIJIUä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.14 WINGTAI<br/>
5.14.1 WINGTAIåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.14.2 WINGTAI å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.14.3 WINGTAI å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.14.4 WINGTAIå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.14.5 WINGTAIä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.15 Ginnva<br/>
5.15.1 GinnvaåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.15.2 Ginnva å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.15.3 Ginnva å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.15.4 Ginnvaå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.15.5 Ginnvaä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.16 CROWN<br/>
5.16.1 CROWNåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.16.2 CROWN å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.16.3 CROWN å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.16.4 CROWNå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.16.5 CROWNä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.17 æ°¸å† æ–°æ<br/>
5.17.1 æ°¸å† æ–°æåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.17.2 æ°¸å† æ–°æ å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.17.3 æ°¸å† æ–°æ å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.17.4 æ°¸å† æ–°æå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.17.5 æ°¸å† æ–°æä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.18 Vibac Group<br/>
5.18.1 Vibac GroupåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.18.2 Vibac Group å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.18.3 Vibac Group å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.18.4 Vibac Groupå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.18.5 Vibac Groupä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.19 Shurtape Technologies<br/>
5.19.1 Shurtape TechnologiesåŸºæœ¬ä¿¡æ¯ã€å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.19.2 Shurtape Technologies å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.19.3 Shurtape Technologies å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.19.4 Shurtape Technologieså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.19.5 Shurtape Technologiesä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6 ä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™åˆ†æ<br/>
6.1 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2031ï¼‰<br/>
6.1.1 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
6.1.2 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
6.2 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥ï¼ˆ2020-2031ï¼‰<br/>
6.2.1 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
6.2.2 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
6.3 å…¨çƒä¸åŒäº§å“ç±»å‹å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä»·æ ¼èµ°åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
7 ä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™åˆ†æ<br/>
7.1 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡ï¼ˆ2020-2031ï¼‰<br/>
7.1.1 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
7.1.2 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€é‡é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
7.2 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥ï¼ˆ2020-2031ï¼‰<br/>
7.2.1 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
7.2.2 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™æ”¶å…¥é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
7.3 å…¨çƒä¸åŒåº”ç”¨å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä»·æ ¼èµ°åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
8 ä¸Šæ¸¸åŸæ–™åŠä¸‹æ¸¸å¸‚åœºåˆ†æ<br/>
8.1 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§ä¸šé“¾åˆ†æ<br/>
8.2 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™å·¥è‰ºåˆ¶é€ æŠ€æœ¯åˆ†æ<br/>
8.3 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™äº§ä¸šä¸Šæ¸¸ä¾›åº”åˆ†æ<br/>
8.3.1 ä¸Šæ¸¸åŸæ–™ä¾›ç»™çŠ¶å†µ<br/>
8.3.2 åŸæ–™ä¾›åº”å•†åŠè”ç³»æ–¹å¼<br/>
8.4 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸‹æ¸¸å®¢æˆ·åˆ†æ<br/>
8.5 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™é”€å”®æ¸ é“åˆ†æ<br/>
9 è¡Œä¸šå‘å±•æœºé‡å’Œé£é™©åˆ†æ<br/>
9.1 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šå‘å±•æœºé‡åŠä¸»è¦é©±åŠ¨å› ç´ <br/>
9.2 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šå‘å±•é¢ä¸´çš„é£é™©<br/>
9.3 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™è¡Œä¸šæ”¿ç­–åˆ†æ<br/>
9.4 å¯æ‰“å°èƒ¶å¸¦å¸ƒæ–™ä¸­å›½ä¼ä¸šSWOTåˆ†æ<br/>
10 ç ”ç©¶æˆæœåŠç»“è®º</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå¤§å‚é¢è¯•ç‰ˆï¼Œæ¥è‡ªå­—èŠ‚è·³åŠ¨ï¼ˆäº²è‡ªç»å†ï¼‰]]></title>    <link>https://juejin.cn/post/7581486065996316707</link>    <guid>https://juejin.cn/post/7581486065996316707</guid>    <pubDate>2025-12-09T06:43:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581486065996316707" data-draft-id="7581545175508959284" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå¤§å‚é¢è¯•ç‰ˆï¼Œæ¥è‡ªå­—èŠ‚è·³åŠ¨ï¼ˆäº²è‡ªç»å†ï¼‰"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,Java"/> <meta itemprop="datePublished" content="2025-12-09T06:43:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå¤§å‚é¢è¯•ç‰ˆï¼Œæ¥è‡ªå­—èŠ‚è·³åŠ¨ï¼ˆäº²è‡ªç»å†ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:43:03.000Z" title="Tue Dec 09 2025 06:43:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h6 data-id="heading-0">1ã€ ThreadLocal</h6>
<p><strong>1.1 è°ˆè°ˆä½ å¯¹ThreadLocalçš„ç†è§£ï¼Ÿ</strong><br/>
ThreadLocalçš„ä½œç”¨ä¸»è¦æ˜¯åšæ•°æ®éš”ç¦»ï¼Œå¡«å……çš„æ•°æ®åªå±äºå½“å‰çº¿ç¨‹ï¼Œå˜é‡çš„æ•°æ®å¯¹åˆ«çš„çº¿ç¨‹è€Œè¨€æ˜¯ç›¸å¯¹éš”ç¦»çš„ã€‚å®ƒä¸æ˜¯é’ˆå¯¹ç¨‹åºçš„[å…¨å±€å˜é‡]ï¼Œåªæ˜¯é’ˆå¯¹å½“å‰çº¿ç¨‹çš„å…¨å±€å˜é‡ã€‚</p>
<p><strong>1.2 ThreadLocalåº•å±‚å®ç°åŸç†ï¼Ÿ</strong><br/>
Threadlocalå†…éƒ¨æœ‰ä¸€ä¸ªéå¸¸å…³é”®çš„[å†…éƒ¨ç±»]ThreadlocalMapï¼Œé‡Œé¢å®šä¹‰äº†ä¸€ä¸ªç”±key - valueç»„æˆçš„Entryæ•°ç»„ï¼Œkeyå­˜æ”¾çš„å°±æ˜¯å½“å‰çš„çº¿ç¨‹ï¼Œvalueä¸ºæˆ‘ä»¬æ‰€éœ€çš„æ•°æ®ã€‚ è€Œkeyæ˜¯å¼±å¼•ç”¨ä¼šè¢«gcæ¸…é™¤ï¼Œvalueæ˜¯å¼ºå¼•ç”¨ä¸ä¼šè¢«æ¸…é™¤ï¼Œæ‰€ä»¥ä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚å¦‚æœæˆ‘ä»¬åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨äº†Threadlocalï¼Œä¸€å®šè¦è®°å¾—è°ƒç”¨removeï¼ˆï¼‰æ–¹æ³•ï¼Œé¿å…ThreadLocal ä¿å­˜çš„æ•°æ®è¢«æ³„æ¼æˆ–æ±¡æŸ“ï¼ï¼ï¼</p>
<pre><code class="hljs language-scss" lang="scss"> public void <span class="hljs-built_in">set</span>(T value) {
 <span class="hljs-comment">//è¿›è¡Œsetæ–¹æ³•æ—¶ï¼Œå…ˆè·å–å½“å‰çº¿ç¨‹å¯¹è±¡ï¼Œæ ¹æ®å½“å‰çº¿ç¨‹è·å–ThreadLocalMapï¼Œ</span>
 <span class="hljs-comment">//ç„¶åä»¥å½“å‰Threadlocalä¸ºkeyè¿›è¡Œå­˜å‚¨</span>
        Thread t = Thread<span class="hljs-selector-class">.currentThread</span>();
        ThreadLocalMap map = <span class="hljs-built_in">getMap</span>(t);
        if (map != null)
            map<span class="hljs-selector-class">.set</span>(this, value);
        else
            <span class="hljs-built_in">createMap</span>(t, value);
    }
AIå†™ä»£ç 
</code></pre>
<h6 data-id="heading-1"><a href="https://link.juejin.cn/?target=" target="_blank" title="https://link.juejin.cn/?target="/>2ã€synchronizedç›¸å…³é—®é¢˜</h6>
<p><strong>2.1 synchronizedä¸Reentrantlockçš„åŒºåˆ«</strong></p>
<ul>
<li>synchronizedæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œå±äºJVMå±‚é¢çš„ï¼ŒReentrantlockæ˜¯ä¸€ä¸ªç±»ï¼Œæ˜¯APIå±‚é¢çš„ï¼›</li>
<li>synchronizedæ˜¯è‡ªåŠ¨åŠ é”ã€é‡Šæ”¾é”ï¼ŒReentrantlockåˆ™éœ€è¦æ‰‹åŠ¨åŠ é”å’Œé‡Šæ”¾ï¼›</li>
<li>synchronizedåº•å±‚æœ‰ä¸€ä¸ªé”å‡çº§çš„è¿‡ç¨‹ï¼ˆåå‘é”â€”è½»é‡çº§é”----é‡é‡çº§é”ï¼‰</li>
</ul>
<blockquote>
<p>å½“ä¸€ä¸ªçº¿ç¨‹è·å–ä¸€ä¸ªçæ—¶ï¼Œæ­¤æ—¶è¯¥é”ä¸ºåå‘é”ï¼Œå½“ç¬¬äºŒä¸ªçº¿ç¨‹å°è¯•è·å–é”æ—¶ï¼Œè¯¥é”ä¼šå‡çº§ä¸ºè½»é‡çº§é”,åº•å±‚é€šè¿‡è‡ªæ—‹æ¥å®ç°ï¼ˆä¸ä¼šé€ æˆçº¿ç¨‹é˜»å¡ï¼‰,å½“è‡ªæ—‹æ¬¡æ•°è¿‡å¤šï¼Œä¼šå‡çº§ä¸ºé‡é‡çº§é”ï¼Œä¼šé€ æˆçº¿ç¨‹é˜»å¡ã€‚</p>
</blockquote>
<p><strong>2.2 volatileå…³é”®å­—å¦‚ä½•ä¿è¯å¯è§æ€§å’Œæœ‰åºæ€§</strong></p>
<ul>
<li>å¯è§æ€§ï¼šå¯¹åŠ äº†volatileçš„æˆå‘˜å˜é‡è¿›è¡Œä¿®æ”¹æ—¶ï¼Œä¼šç›´æ¥å°†cpué«˜çº§ç¼“å­˜åŒºçš„æ•°æ®æ”¾åˆ°ä¸»å†…å­˜ä¸­ï¼Œå¯¹è¿™ä¸ªæ•°æ®çš„è¯»å–ï¼Œä¼šç›´æ¥ä»ä¸»å†…å­˜ä¸­å–ã€‚</li>
<li>æœ‰åºæ€§ï¼šå¯¹åŠ äº†volatileçš„æˆå‘˜å˜é‡è¿›è¡Œè¯»å†™æ—¶ï¼Œä¼šæ’å…¥å†…å­˜å±éšœï¼Œé˜²æ­¢æŒ‡ä»¤é‡æ’ï¼Œä¿éšœäº†æœ‰åºæ€§ã€‚</li>
</ul>
<blockquote>
<p>volatileåªæœ‰å†™æ“ä½œæ˜¯åŸå­æ€§çš„ï¼Œä¹Ÿå°±æ˜¯æ•°æ®æ“ä½œå®Œæˆåä¼šç«‹åˆ»åˆ·æ–°åˆ°ä¸»å†…å­˜ä¸­ã€‚ä½†æ˜¯è¢«volatileä¿®é¥°çš„å˜é‡åœ¨è¯»çš„æ—¶å€™å¯èƒ½ä¼šè¢«å¤šä¸ªçº¿ç¨‹è¯»,æ‰€ä»¥å®ƒä¸èƒ½ä¿è¯åŸå­æ€§ã€‚</p>
</blockquote>
<p><strong>2.3 Javaå¦‚ä½•é¿å…æ­»é”</strong></p>
<ul>
<li>æ³¨æ„åŠ é”çš„é¡ºåºï¼Œä¿è¯æ¯ä¸ªçº¿ç¨‹æŒ‰é¡ºåºè¿›è¡ŒåŠ é”ï¼›</li>
<li>åŠ é”æ—¶é™ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼›</li>
<li>æ³¨æ„æ­»é”æ£€æŸ¥ï¼Œè¿™æ˜¯ä¸€ç§é¢„é˜²æœºåˆ¶ï¼Œå¯ä»¥ç¡®ä¿å‘ç”Ÿæ­»é”çš„ç¬¬ä¸€æ—¶é—´è¿›è¡Œå¤„ç†ã€‚</li>
</ul>
<h6 data-id="heading-2">[]3ã€ å¤šçº¿ç¨‹ï¼ˆçº¿ç¨‹æ± ï¼‰</h6>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
<blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4b1c7183837486b8eb2d200d8ad8221~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765868341&amp;x-signature=jH7Ot%2FMDtZTA43CGk7QeZChnQ9Y%3D" alt="c25310b285cd7198a33a66f22a71890.png" loading="lazy"/></p>
</blockquote>
<p><strong>3.1 çº¿ç¨‹æœ‰å“ªäº›çŠ¶æ€ï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰</strong><br/>
æ–°å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€æ­»äº¡<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97ee352689f340aa8adb58f8805198e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765868341&amp;x-signature=Ij9IIPn8VewEnoUJlBsVrxOrc24%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/><br/>
<strong>3.2 å¦‚ä½•è·å–å¤šçº¿ç¨‹çš„è¿”å›å€¼ï¼Ÿ</strong><br/>
æ·±å‘ï¼å¦‚æœé—®å¤šçº¿ç¨‹çš„åˆ›å»ºæ–¹å¼ï¼Œä½ ä¸€å®šçŸ¥é“æ˜¯ç»§æ‰¿Threadç±»ï¼Œå®ç°runnable,callableæ¥å£ã€‚è¿™é‡Œå°±æ˜¯æ‹äº†ä¸ªå¼¯ï¼Œå˜ç›¸çš„äº†è§£æœ‰è¿”å›å€¼çš„callableæ¥å£ã€‚é€šè¿‡ä¸­é—´åª’ä»‹FutureTaskï¼Œå°†å®ç°callableæ¥å£çš„ç±»å¯¹è±¡ä¼ é€’è¿›å»ï¼Œè°ƒç”¨FutureTaské‡Œé¢çš„getï¼ˆï¼‰æ–¹æ³•ï¼Œå³å¯è·å–å¤šçº¿ç¨‹çš„è¿”å›å€¼ã€‚</p>
<p><strong>3.3 ä¸ºä»€ä¹ˆä½¿ç”¨çº¿ç¨‹æ± ï¼Œå‡ ä¸ªå‚æ•°ï¼Ÿ</strong><br/>
é™ä½èµ„æºæ¶ˆè€—ï¼ˆåˆ›å»ºã€é”€æ¯è€—èµ„æºï¼‰ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼ˆä»»åŠ¡æ¥äº†ï¼Œå¯ä»¥æœ‰çº¿ç¨‹ç›´æ¥ä½¿ç”¨ï¼‰ï¼›</p>
<blockquote>
<ul>
<li>æ ¸å¿ƒçº¿ç¨‹æ•°ã€ æœ€å¤§çº¿ç¨‹æ•°é‡ã€æœ€å¤§ç©ºé—²æ—¶é—´ã€ ç©ºé—²æ—¶é—´å•ä½ã€ä»»åŠ¡é˜Ÿåˆ—ã€ çº¿ç¨‹å·¥å‚ã€æ‹’ç»ç­–ç•¥ï¼›</li>
</ul>
</blockquote>
<h6 data-id="heading-3"><a href="https://link.juejin.cn/?target=" target="_blank" title="https://link.juejin.cn/?target="/>4ã€å¹¶å‘ç›¸å…³é—®é¢˜</h6>
<p><strong>4.1ã€ å¹¶è¡Œã€ä¸²è¡Œã€å¹¶å‘ï¼Ÿ</strong></p>
<ul>
<li>å¹¶è¡Œï¼š åŒä¸€æ—¶åˆ»ï¼Œå¤šä¸ªä»»åŠ¡äº’ä¸å¹²æ‰°çš„åŒæ—¶è¿›è¡Œï¼›</li>
<li>ä¸²è¡Œï¼šä»»åŠ¡æ’é˜Ÿï¼Œä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œï¼›</li>
<li>å¹¶å‘ï¼šåŒä¸€æ—¶åˆ»ï¼Œåªæœ‰ä¸€ä¸ªä»»åŠ¡ï¼Œå¤šä¸ªä»»åŠ¡äº¤æ›¿æ‰§è¡Œï¼›</li>
</ul>
<p><strong>4.2ã€ è°ˆè°ˆå¯¹AQSçš„ç†è§£ï¼ŒAQSå¦‚ä½•å®ç°å¯é‡å…¥é”ï¼Ÿ</strong></p>
<ul>
<li>AQSæ˜¯ä¸€ä¸ªJavaçº¿ç¨‹åŒæ­¥çš„æ¡†æ¶ï¼Œæ˜¯JDKå¾ˆå¤šé”çš„æ ¸å¿ƒå®ç°æ¡†æ¶ã€‚</li>
<li>åœ¨AQSä¸­,ç»´æŠ¤äº†ä¸€ä¸ªä¿¡å·é‡stateå’Œä¸€ä¸ªç”±çº¿ç¨‹ç»„æˆçš„åŒå‘é“¾è¡¨é˜Ÿåˆ—ã€‚å…¶ä¸­ï¼Œè¿™ä¸ªçº¿ç¨‹é˜Ÿåˆ—å°±æ˜¯ç»™çº¿ç¨‹æ’é˜Ÿçš„ï¼Œè€Œstateå°±åƒæ˜¯çº¢ç»¿ç¯ï¼Œç”¨æ¥æ§åˆ¶çº¿ç¨‹æ’é˜Ÿæˆ–è€…æ”¾è¡Œçš„ã€‚ä¸åŒåœºæ™¯ä¸‹ï¼Œæœ‰ä¸åŒçš„æ„ä¹‰ã€‚</li>
<li>åœ¨å¯é‡å…¥é”ï¼ˆé”äº†è¿˜å¯ä»¥å†é”ï¼‰åœºæ™¯ä¸‹ï¼Œstateè¡¨ç¤ºåŠ é”æ¬¡æ•°ï¼Œ0è¡¨ç¤ºæ— é”ï¼Œæ¯åŠ ä¸€æ¬¡é”ï¼Œstateå°±åŠ 1ï¼Œé‡Šæ”¾é”stateå°±å‡1ã€‚ç‚¹å‡»é˜…è¯»Â [å¹¶å‘ç¼–ç¨‹å°ç»“]</li>
</ul>
<h5 data-id="heading-4"><a href="https://link.juejin.cn/?target=" target="_blank" title="https://link.juejin.cn/?target="/><a href="https://link.juejin.cn/?target=" target="_blank" title="https://link.juejin.cn/?target="/>ä¸‰ã€mysqlç›¸å…³é—®é¢˜</h5>
<p>ç¬”è€…æ€»ç»“äº†ä¸€ç¯‡Mysqlé«˜çº§ï¼Œæ¶‰åŠå†…å®¹è¾ƒæ·±äº›ï¼Œä¹Ÿæ˜¯å¸¸é—®çš„é¢è¯•é¢˜ï¼Œç‚¹å‡»é“¾æ¥æŸ¥é˜…</p>
<p>[Mysqlé«˜çº§ç¯‡]</p>
<h6 data-id="heading-5"><a href="https://link.juejin.cn/?target=" target="_blank" title="https://link.juejin.cn/?target="/>1ã€Mysqlç´¢å¼•</h6>
<p><strong>1.1 ç´¢å¼•çš„ç±»å‹å¯ä»¥æ˜¯Stringç±»å‹å—ï¼Ÿ</strong><br/>
èšç°‡ç´¢å¼•----æ•°æ®å’Œç´¢å¼•æ”¾ä¸€å—ï¼Œåƒä¸»é”®ç´¢å¼•ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼ˆInnodbå°±æ˜¯ï¼‰<br/>
æ•°æ®åº“ç¬¬ä¸€èŒƒå¼ï¼šå¿…é¡»è¦æœ‰idï¼Œè¿™ä¸ªidæ˜¯è‡ªå¸¦ç´¢å¼•çš„ã€‚</p>
<p>ä¸€èˆ¬ç”¨è‡ªå¢idï¼Œå­—ç¬¦ä¸²å¯ä»¥åšidï¼Œä½†æ˜¯ä¸å¥½ï¼Œåƒuuidåšçš„idæ˜¯éšæœºçš„ï¼Œéƒ½æ²¡æœ‰æ’åºï¼ï¼ï¼ä¸åƒè‡ªå¢idç»´æŠ¤ç´¢å¼•çš„æˆæœ¬ä¼šå¾ˆä½</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9afe3de1ece144aeb3db9d6662185d8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765868341&amp;x-signature=8Qc2CpqRI6Rn86BxHthj2cCbUq4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>1.2 ä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹ç”¨ç´¢å¼•ï¼Ÿä»€ä¹ˆæ—¶å€™ä¸ç”¨ï¼Ÿ</strong></p>
<p>1ï¼‰å°±æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç›®çš„å°±æ˜¯ä¸ºäº†å¿«é€ŸæŸ¥æ‰¾æ•°æ®ã€‚<br/>
2ï¼‰å¯¹æŸ¥è¯¢é¢‘ç‡é«˜ï¼ˆç´¢å¼•å°±æ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ï¼Œåƒwhereåçš„å­—æ®µ<br/>
æ•°æ®é‡ç‰¹åˆ«å¤§ï¼Œ ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œä¼šå½±å“å¢åˆ çš„æ•ˆç‡ï¼Œå…¸å‹çš„ç”¨ç©ºé—´æ¢æ—¶é—´ã€‚<br/>
åˆ†ç»„å­—æ®µå¯ä»¥å»ºç«‹ç´¢å¼•ï¼Œå› ä¸ºåˆ†ç»„çš„å‰ææ˜¯æ’åºï¼ˆè¦†ç›–ç´¢å¼•ï¼‰<br/>
3ï¼‰é¢‘ç¹æ›´æ–°çš„å­—æ®µã€æŸ¥è¯¢å°‘çš„ã€å‚ä¸è®¡ç®—çš„ä¸é€‚åˆå»ºç´¢å¼•ã€‚</p>
<p><strong>1.3 ç´¢å¼•å¤±æ•ˆï¼Ÿ</strong></p>
<blockquote>
<p>åœ¨MySQLä¸­ï¼ŒæŸ¥è¯¢ä¸èµ°ç´¢å¼•å¯èƒ½æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<ol>
<li>æ•°æ®é‡å¤ªå°ï¼šå¦‚æœè¡¨ä¸­çš„æ•°æ®é‡æ¯”è¾ƒå°ï¼ŒMySQLä¼šé€‰æ‹©è¿›è¡Œå…¨è¡¨æ‰«æè€Œä¸ä½¿ç”¨ç´¢å¼•ï¼Œå› ä¸ºå…¨è¡¨æ‰«æçš„å¼€é”€å¯èƒ½æ¯”ä½¿ç”¨ç´¢å¼•æ›´å°ã€‚</li>
<li>å¯¹ç´¢å¼•åˆ—è¿›è¡Œäº†å‡½æ•°æ“ä½œï¼šå¦‚æœåœ¨æŸ¥è¯¢è¯­å¥ä¸­å¯¹ç´¢å¼•åˆ—è¿›è¡Œäº†å‡½æ•°æ“ä½œæˆ–è¡¨è¾¾å¼è¿ç®—ï¼ŒMySQLæ— æ³•ä½¿ç”¨ç´¢å¼•è¿›è¡Œä¼˜åŒ–ï¼Œå› æ­¤å¯èƒ½ä¸èµ°ç´¢å¼•ã€‚</li>
<li>èŒƒå›´æŸ¥è¯¢ï¼šå¦‚æœæŸ¥è¯¢è¯­å¥ä¸­åŒ…å«èŒƒå›´æŸ¥è¯¢ï¼ˆä¾‹å¦‚å¤§äºã€å°äºã€åŒºé—´æŸ¥è¯¢ç­‰ï¼‰ï¼ŒMySQLå¯èƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•è¿›è¡Œä¼˜åŒ–ï¼Œå¯¼è‡´ä¸èµ°ç´¢å¼•ï¼ˆæ¨¡ç³ŠæŸ¥è¯¢like,%å‰ç½®ä¸ä¼šèµ°ï¼Œåç½®ä¼šèµ°ï¼‰ã€‚</li>
<li>æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼šå¦‚æœç´¢å¼•åˆ—çš„æ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œç´¢å¼•çš„é€‰æ‹©æ€§è¾ƒä½ï¼ŒMySQLå¯èƒ½é€‰æ‹©è¿›è¡Œå…¨è¡¨æ‰«æè€Œä¸ä½¿ç”¨ç´¢å¼•ã€‚</li>
</ol>
<p>åœ¨è¿›è¡ŒMySQLç´¢å¼•ä¼˜åŒ–æ—¶ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸Šæƒ…å†µï¼Œå¹¶é€šè¿‡åˆ†ææŸ¥è¯¢è¯­å¥ã€ä¼˜åŒ–ç´¢å¼•è®¾è®¡ã€é€‚æ—¶æ›´æ–°ç»Ÿè®¡ä¿¡æ¯ç­‰æ–¹æ³•ï¼Œæé«˜MySQLæŸ¥è¯¢æ€§èƒ½ï¼Œå°½å¯èƒ½å‡å°‘ä¸èµ°ç´¢å¼•çš„æƒ…å†µã€‚</p>
</blockquote>
<p><strong>1.4 æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨å’ŒæŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼Ÿ</strong><br/>
ç´¢å¼•ä½¿ç”¨ï¼š explain ç»“æœ ï¼ˆåªè¦æ•°å­—å¤§äº1ï¼‰1 row in set å³ç”Ÿæ•ˆäº†<br/>
æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼š show indexs from è¡¨å</p>
<p><strong>1.5 å¤åˆç´¢å¼•ï¼Ÿæœ€å·¦åŒ¹é…åŸåˆ™ï¼Ÿ</strong><br/>
æœ€æ ¸å¿ƒçš„æ˜¯Â <strong>ç­‰å€¼æ¯”è¾ƒ</strong><br/>
å¤åˆç´¢å¼•å°±æ˜¯å¤šä¸ªå­—æ®µæ”¾ä¸€å—ï¼ˆä¼ä¸šæœ€å¸¸ç”¨çš„æ˜¯ç¬¦åˆç´¢å¼•ï¼ï¼ï¼å”¯ä¸€ç´¢å¼•ï¼Œæ™®é€šç´¢å¼•æˆ‘ä»¬ä¹Ÿç”¨ï¼‰<br/>
mysqlä¼šä¸€ç›´å‘å³æŸ¥è¯¢ï¼Œç›´åˆ°é‡åˆ°<strong>èŒƒå›´æŸ¥è¯¢</strong>ï¼ˆ&gt; &lt; likeï¼‰ï¼Œæ¯”å¦‚ç”¨ a b c då››ä¸ªå­—æ®µåˆ›å»ºäº†ä¸€ä¸ªå¤åˆç´¢å¼•ï¼Œ a=3 b=5 c&gt;7 d=9 åªä¼šç”¨åˆ°å‰ä¸‰ä¸ªï¼Œå› ä¸ºb c d æ˜¯æ ¹æ®a çš„åé¢è¿›è¡Œè§„åˆ™çš„æ’åºï¼Œå³aæ˜¯æœ‰åºçš„ï¼Œåé¢çš„bcdæ˜¯æ— åºçš„ã€‚ ï¼ˆhashç´¢å¼•ç”¨çš„ä¸å¤šï¼Œå› ä¸ºæ— åºï¼Œä½†æ˜¯å®šä½å¿«ï¼Œäº†è§£å³å¯ï¼‰</p>
<p><strong>1.6 Btreeå’ŒB+treeï¼Ÿä¸ºä»€ä¹ˆmysqlç”¨çš„æ˜¯B+ treeï¼Ÿ</strong> Â **<br/>
B+treeæ˜¯Btreeçš„å‡çº§ç‰ˆã€‚<br/>
Btreeï¼šå¤šè·¯å¹³è¡¡æ ‘ï¼Œå½“å¢åˆ æ•°æ®æ—¶ï¼Œä¼šè‡ªåŠ¨çš„å°†æ•°æ®è¿›è¡Œè¿™ä¸ªå¹³è¡¡ï¼ˆæ—‹è½¬ï¼‰<br/>
ä¸ºä»€ä¹ˆä»Btreeè½¬åˆ°B+tree? å› ä¸ºï¼šç´¢å¼•ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå­˜æ¡£åœ¨ç£ç›˜ï¼Œåœ¨ä½¿ç”¨æ—¶è¯»å…¥åˆ°å†…å­˜ã€‚å†…å­˜æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç´¢å¼•æ–‡ä»¶è¿‡å¤§ï¼Œæ— æ³•ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½ï¼Œéœ€è¦åˆ†æ‰¹åŠ è½½ã€‚åœ¨æœ‰é™ç£ç›˜çš„é™åˆ¶ä¸‹ï¼ŒB+treeå¯ä»¥å‡å°‘ç£ç›˜çš„I/Oã€‚</p>
<p><em><strong>å¯¹äºB+treeï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½å­˜åœ¨å¶å­èŠ‚ç‚¹ï¼Œæ ¹å’Œéå¶å­èŠ‚ç‚¹åªæ˜¯å­˜å‚¨çš„æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®çš„åœ°å€ï¼Œç”±å¶å­èŠ‚ç‚¹å†å»æŸ¥æ‰¾åˆ°å…³è”çš„æ•°æ®ä¿¡æ¯ã€‚å¯¹äºæŸ¥è¯¢çš„æ•°æ®ï¼Œéƒ½è¦ä»rootèŠ‚ç‚¹èµ°åˆ°å¶å­èŠ‚ç‚¹ï¼Œæ‰€ä»¥æŸ¥è¯¢ç›¸æ¯”äºBtreeæ›´åŠ ç¨³å®šã€‚</strong></em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3523b0364c4c43769fea74dc7b0a7141~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765868341&amp;x-signature=5s4vSFvG3ZAquFGQMQDpiyAsup8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/><br/>
å¯¹äºmysqlï¼Œæ˜¯åœ¨B+treeçš„åŸºç¡€ä¸Šï¼Œåœ¨ç›¸é‚»èŠ‚ç‚¹é—´å¢åŠ äº†ä¸€ä¸ªé“¾è¡¨æŒ‡é’ˆï¼Œå½¢æˆäº†å¸¦æœ‰é¡ºåºçš„B+tree,æé«˜äº†åŒºé—´çš„è®¿é—®æ€§èƒ½ã€‚<br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b67fb25455a744508742e249d61fe128~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765868341&amp;x-signature=BpWQYSj9kPVTlsB1peJMh0O9hjM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/><br/>
<strong>1.7 è¦†ç›–ç´¢å¼•ä¸å›è¡¨</strong><br/>
å¦‚æœåªéœ€è¦åœ¨ä¸€æ£µç´¢å¼•æ ‘ä¸Šå°±å¯ä»¥è·å–Sqlæ‰€éœ€è¦çš„æ‰€æœ‰åˆ—ï¼Œå°±ä¸éœ€è¦å›è¡¨æŸ¥è¯¢ï¼Œè¿™æ ·æŸ¥è¯¢é€Ÿåº¦ä¼šæ›´å¿«ã€‚è€Œå®ç°è¦†ç›–ç´¢å¼•æœ€å¿«çš„æ–¹å¼å°±æ˜¯å°†æ‰€éœ€è¦çš„å­—æ®µæ”¾åœ¨ä¸€èµ·å»ºä¸€ä¸ªè”åˆç´¢å¼•ã€‚</p>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
<blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79b262cffb6a493da447b8e54f3bb0ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765868341&amp;x-signature=hxKOCrvKvQEDL9mOVkXALLm4fco%3D" alt="c25310b285cd7198a33a66f22a71890.png" loading="lazy"/></p>
</blockquote>
<p><strong>1.8 Mysqlçš„é”æœ‰å“ªäº›ï¼Ÿä»€ä¹ˆæ˜¯é—´éš™é”ï¼Ÿ</strong><br/>
ä»é”çš„ç²’åº¦æ¥åˆ†<br/>
1ã€è¡Œé”ï¼šåŠ é”ç²’åº¦å°ï¼Œä½†æ˜¯åŠ é”çš„èµ„æºå¼€é”€æ¯”è¾ƒå¤§ã€‚Innodbæ”¯æŒã€‚<br/>
1ï¼‰å…±äº«é”ï¼šå¤šä¸ªäº‹åŠ¡å¯ä»¥å…±äº«ä¸€æŠŠé”ï¼Œä½†æ˜¯åªèƒ½è¯»ä¸èƒ½ä¿®æ”¹<br/>
2ï¼‰æ’ä»–é”ï¼šåªæœ‰ä¸€ä¸ªäº‹åŠ¡å¯ä»¥è·å¾—æ’ä»–é”ï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½è·å–è¯¥è¡Œçš„é”ã€‚Innodbä¼šè‡ªè¡Œå¯¹å¢åˆ æ”¹æ“ä½œæ·»åŠ æ’ä»–é”ã€‚<br/>
2ã€è¡¨é”ï¼šåŠ é”ç²’åº¦å¤§ï¼ŒåŠ é”çš„èµ„æºæ¶ˆè€—å°ï¼ŒMysalmå’ŒInnodbéƒ½æ”¯æŒã€‚<br/>
3ã€å…¨å±€é”ï¼šåŠ é”åå…¨åº“éƒ½å¤„äºåªè¯»çŠ¶æ€ï¼Œç”¨äºå…¨åº“æ•°æ®å¤‡ä»½ã€‚</p>
<p><strong>1.9 æµ·é‡æ•°æ®ä¸‹ï¼Œå¦‚ä½•å¿«é€Ÿæ‰¾åˆ°ä¸€æ¡æ•°æ®</strong><br/>
1ï¼‰ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¿«é€Ÿè¿‡æ»¤ä¸å­˜åœ¨çš„æ•°æ®ï¼›<br/>
2ï¼‰red isä¸­å»ºç«‹æ•°æ®ç¼“å­˜<br/>
3ï¼‰æŸ¥è¯¢ä¼˜åŒ–</p>
<h6 data-id="heading-6"><a href="https://link.juejin.cn/?target=" target="_blank" title="https://link.juejin.cn/?target="/>2ã€æ•°æ®åº“åˆ†åº“åˆ†è¡¨</h6>
<p><strong>2.1 æ•°æ®åº“çš„åˆ†åº“åˆ†è¡¨ï¼Ÿä»€ä¹ˆæ—¶å€™åˆ†ï¼Ÿæ€ä¹ˆåˆ†ï¼Ÿ</strong><br/>
å½“å•è¡¨æ•°æ®è¶…è¿‡1000Wæ—¶ï¼Œå¾ˆå¤šæ“ä½œçš„æ€§èƒ½ä¼šä¸‹é™ï¼Œæ‰€ä»¥éœ€è¦åˆ‡åˆ†ï¼Œä»¥å‡å°‘æ•°æ®åº“çš„å‹åŠ›ï¼Œç¼©çŸ­æŸ¥è¯¢æ—¶é—´ã€‚<br/>
å‚ç›´åˆ‡åˆ†ï¼šå°†å…³ç³»è”ç³»ä¸ç´§å¯†çš„è¡¨è¿›è¡Œåˆ†åº“ï¼Œå°†ä¸€å¼ è¡¨ä¸­ä¸å¸¸ç”¨çš„å­—æ®µè¿›è¡ŒæŠ½å–æ–°å»ºä¸€å¼ è¡¨ã€‚ä¼˜ç‚¹ç±»ä¼¼äºå¾®æœåŠ¡ã€‚<br/>
æ°´å¹³åˆ‡åˆ†ï¼šå½“ä¸€ä¸ªåº”ç”¨éš¾ä»¥å†ç»†ç²’åº¦çš„å‚ç›´åˆ‡åˆ†ï¼Œæ ¹æ®æ•°æ®é—´çš„é€»è¾‘è¿›è¡Œåˆ’åˆ†ï¼Œæ¯”å¦‚å®¢æˆ·ã€å­˜æ¬¾ã€æ”¯ä»˜ï¼›<br/>
<strong>2.2 æ•°æ®åº“çš„ä¼˜åŒ–?</strong><br/>
1ï¼‰sqlä¼˜åŒ–ä»¥åŠç´¢å¼•çš„ä¼˜åŒ–ï¼Œç´¢å¼•å»ºç«‹è¦åˆç†ï¼Œè¿‡å¤šä¼šå½±å“å¢åˆ æ€§èƒ½<br/>
2ï¼‰æ•°æ®å¯è®¾è®¡è¦æ»¡è¶³ä»–çš„ä¸‰å¤§èŒƒå¼ã€äº”å¤§çº¦æŸ<br/>
3ï¼‰ç¡¬ä»¶ä¼˜åŒ–</p>
<p><strong>2.3 è¡¨è®¾è®¡çš„æ—¶å€™æ³¨æ„å“ªäº›ï¼Œå­—æ®µï¼Ÿ</strong></p>
<blockquote>
<p>åœ¨è®¾è®¡æ•°æ®åº“è¡¨æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼Œç‰¹åˆ«æ˜¯åœ¨å®šä¹‰å­—æ®µçš„æ—¶å€™ï¼š</p>
<ol>
<li>æ•°æ®ç±»å‹é€‰æ‹©ï¼šé€‰æ‹©æœ€é€‚åˆçš„æ•°æ®ç±»å‹å¯ä»¥å‡å°æ•°æ®åº“è¡¨çš„å­˜å‚¨ç©ºé—´ï¼Œæé«˜æ£€ç´¢æ•ˆç‡ã€‚å¯¹äºæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ä¸²ç­‰ä¸åŒç±»å‹çš„æ•°æ®ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹æ˜¯è®¾è®¡è¡¨ç»“æ„æ—¶çš„å…³é”®ä¹‹ä¸€ã€‚</li>
<li>ç´¢å¼•è®¾è®¡ï¼šæ ¹æ®å®é™…æŸ¥è¯¢éœ€æ±‚è®¾è®¡åˆé€‚çš„ç´¢å¼•ï¼Œå¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚é€šå¸¸åœ¨ä¸»é”®ã€å¤–é”®ã€ç»å¸¸ç”¨äºæŸ¥è¯¢çš„å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ã€‚</li>
<li>ä¸»é”®è®¾è®¡ï¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€ã€ç¨³å®šã€æ˜“äºç†è§£çš„å­—æ®µä½œä¸ºä¸»é”®ï¼Œä»¥ç¡®ä¿æ¯æ¡è®°å½•éƒ½æœ‰å”¯ä¸€æ ‡è¯†ï¼Œä¾¿äºæ•°æ®è®¿é—®å’Œç®¡ç†ã€‚</li>
<li>å­—æ®µå‘½åè§„èŒƒï¼šå­—æ®µå‘½ååº”å…·æœ‰æè¿°æ€§ï¼Œæ˜“äºç†è§£å’Œè®°å¿†ï¼Œå»ºè®®ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼ˆå¦‚ï¼šfirst_nameï¼‰ï¼Œé¿å…ä½¿ç”¨å«ç³Šä¸æ¸…æˆ–ç¼©å†™çš„å­—æ®µåã€‚</li>
<li>å­—æ®µçº¦æŸï¼šå®šä¹‰å­—æ®µçš„çº¦æŸæ¡ä»¶ï¼Œå¦‚NOT NULLã€UNIQUEã€DEFAULTå€¼ç­‰ï¼Œå¯ä»¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚</li>
<li>æ•°æ®å†—ä½™ï¼šé¿å…æ•°æ®å†—ä½™ï¼Œå°½å¯èƒ½å°†é‡å¤çš„æ•°æ®æŠ½å–æˆå•ç‹¬çš„è¡¨ï¼Œä»¥å‡å°æ•°æ®å­˜å‚¨é‡ï¼ŒåŒæ—¶é¿å…æ•°æ®æ›´æ–°å¼‚å¸¸ã€‚</li>
<li>å‚ç…§å®Œæ•´æ€§ï¼šåœ¨è®¾è®¡å¤–é”®å…³ç³»æ—¶ï¼Œä¿è¯å‚ç…§å®Œæ•´æ€§ï¼Œç¡®ä¿ç›¸å…³æ•°æ®çš„ä¸€è‡´æ€§ï¼Œé¿å…æ•°æ®å…³è”å¼‚å¸¸ã€‚</li>
<li>è€ƒè™‘æ•°æ®å¢é•¿ï¼šé¢„ä¼°æ•°æ®è¡¨çš„å¢é•¿æƒ…å†µï¼Œé€‰æ‹©é€‚å½“çš„å­˜å‚¨å¼•æ“å’Œåˆ†åŒºæ–¹æ¡ˆï¼Œä»¥æ”¯æŒæœªæ¥æ•°æ®é‡çš„å¢é•¿ã€‚</li>
</ol>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„æ—¶ï¼Œå­—æ®µçš„æ•°æ®ç±»å‹ã€ç´¢å¼•è®¾è®¡ã€ä¸»é”®é€‰æ‹©ã€å‘½åè§„èŒƒã€çº¦æŸæ¡ä»¶ã€æ•°æ®å†—ä½™ã€å‚ç…§å®Œæ•´æ€§ã€æ•°æ®å¢é•¿ç­‰æ–¹é¢éƒ½éœ€è¦è®¤çœŸè€ƒè™‘ï¼Œä»¥ä¿è¯æ•°æ®åº“è¡¨çš„ç¨³å¥æ€§ã€æ€§èƒ½å’Œçµæ´»æ€§ã€‚</p>
</blockquote>
<h6 data-id="heading-7">[]3ã€æ•°æ®åº“äº‹åŠ¡</h6>
<p>springé‡Œé¢çš„äº‹åŠ¡å’Œmysqlé‡Œé¢çš„äº‹åŠ¡æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå¦‚æœmysqlä¸æ”¯æŒäº‹åŠ¡ï¼ŒåŠ ä¸Š@transationä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚ä½†æ˜¯springé‡Œé¢çš„@transationä¸èƒ½ç”¨äºåˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œåˆ†å¸ƒå¼å¤šçº¿ç¨‹ä¸‹ç”¨çš„æ˜¯senta+@globalTransationæ³¨è§£ã€‚<br/>
<strong>3.1 @transationç”¨äºç±»å’Œæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong><br/>
@transationåªèƒ½ä¿®é¥°publicæ–¹æ³•ã€‚<br/>
ç±»ä¸Šï¼šç›¸å½“äºåœ¨æ‰€æœ‰çš„publicæ–¹æ³•ä¸ŠåŠ ä¸Šäº†@transationæ³¨è§£<br/>
æ–¹æ³•ï¼šä¼šè¦†ç›–ç±»ä¸Šçš„é…ç½®ã€‚</p>
<p><strong>3.2 äº‹åŠ¡çš„4ä¸ªæ¡ä»¶ACID</strong><br/>
åŸå­æ€§ï¼šæ‰€æœ‰çš„æ“ä½œæ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼ˆå›æ»šï¼‰<br/>
ä¸€è‡´æ€§ï¼šäº‹åŠ¡å¼€å§‹å‰åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åï¼Œä¹Ÿå°±æ˜¯å†™å…¥çš„èµ„æ–™å®Œå…¨ç¬¦åˆæˆ‘ä»¬çš„é¢„è®¾ã€‚<br/>
éš”ç¦»æ€§ï¼šå…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œè¯»å†™æ“ä½œï¼Œå®ƒå¯ä»¥æœ‰æ•ˆçš„é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚ï¼ˆéš”ç¦»æ€§é‡Œé¢æœ‰4ä¸ªéš”ç¦»çº§åˆ«ï¼šè¯»æœªæäº¤ã€è¯»ä»¥æäº¤ã€å¯é‡å¤è¯»ã€ä¸²è¡ŒåŒ–ï¼‰<br/>
æŒä¹…æ€§ï¼šäº‹åŠ¡å®Œæˆï¼Œå¯¹æ•°æ®çš„æ“ä½œå°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä½¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
<p><strong>3.3 mysqläº‹ç‰©éš”ç¦»çº§åˆ«ï¼Ÿ</strong></p>
<p>MySQL æä¾›äº†å››ç§éš”ç¦»çº§åˆ«ï¼Œç”¨äºæ§åˆ¶äº‹åŠ¡ä¹‹é—´çš„éš”ç¦»ç¨‹åº¦ï¼Œä»¥ç¡®ä¿äº‹åŠ¡æ“ä½œçš„ä¸€è‡´æ€§å’Œå¹¶å‘æ€§ã€‚è¿™å››ç§éš”ç¦»çº§åˆ«åˆ†åˆ«æ˜¯ï¼š</p>
<blockquote>
<ol>
<li><strong>è¯»æœªæäº¤ï¼ˆRead Uncommittedï¼‰</strong> Â ï¼šæœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå…è®¸ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚å¯èƒ½ä¼šå‡ºç°è„è¯»ï¼ˆDirty Readï¼‰é—®é¢˜ã€‚</li>
<li><strong>è¯»æäº¤ï¼ˆRead Committedï¼‰</strong> Â ï¼šå…¶ä»–äº‹åŠ¡æäº¤åæ‰èƒ½è¯»å–æ•°æ®ï¼Œé¿å…è„è¯»é—®é¢˜ã€‚ä½†å¯èƒ½ä¼šå‡ºç°ä¸å¯é‡å¤è¯»ï¼ˆ<em><strong>æŒ‡çš„æ˜¯åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒæŸä¸ªæŸ¥è¯¢æ“ä½œåœ¨ä¸åŒæ—¶é—´ç‚¹å†…å¤šæ¬¡æ‰§è¡Œï¼Œä½†ç”±äºå…¶ä»–äº‹åŠ¡çš„å¹¶å‘æ“ä½œï¼Œåœ¨å¤šæ¬¡æ‰§è¡Œè¿‡ç¨‹ä¸­è¿”å›çš„æ•°æ®ç»“æœä¸ä¸€è‡´çš„æƒ…å†µ</strong></em>ï¼‰é—®é¢˜ã€‚</li>
<li><strong>å¯é‡å¤è¯»ï¼ˆRepeatable Readï¼‰</strong> Â ï¼šä¿è¯åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­å¤šæ¬¡è¯»å–åŒä¸€è¡Œæ•°æ®æ—¶ï¼Œç»“æœå§‹ç»ˆä¸€è‡´ã€‚é¿å…äº†è„è¯»å’Œä¸å¯é‡å¤è¯»é—®é¢˜ã€‚ä½†ä¾ç„¶å¯èƒ½å­˜åœ¨å¹»è¯»ï¼ˆ<em><strong>åœ¨ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶ä¸‹ï¼Œä¸åŒçš„äº‹åŠ¡åœ¨ä¸åŒæ—¶é—´ç‚¹æ‰§è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œå¯èƒ½ä¼šçœ‹åˆ°ä¸åŒæ•°é‡çš„è¡Œï¼Œä»è€Œäº§ç”Ÿ"å¹»åƒ"çš„é”™è§‰</strong></em>ï¼‰é—®é¢˜ã€‚</li>
<li><strong>ä¸²è¡ŒåŒ–ï¼ˆSerializableï¼‰</strong> Â ï¼šæœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œé€šè¿‡ç¡®ä¿äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œæ¥é¿å…è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œå¹»è¯»é—®é¢˜ã€‚ç¡®ä¿æ‰€æœ‰äº‹åŠ¡çš„å¹¶å‘æ‰§è¡Œä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚</li>
</ol>
<p>åœ¨ MySQL ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ¥æ§åˆ¶äº‹åŠ¡çš„éš”ç¦»ç¨‹åº¦ï¼Œä»è€Œçµæ´»åœ°å¹³è¡¡å¹¶å‘æ€§èƒ½å’Œæ•°æ®çš„ä¸€è‡´æ€§ã€‚å¼€å‘è€…å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„éš”ç¦»çº§åˆ«æ¥ç¡®ä¿æ•°æ®æ“ä½œçš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ã€‚</p>
</blockquote>
<h6 data-id="heading-8">[]4ã€Mysqlå…¶ä»–é—®é¢˜</h6>
<p><strong>4.1 mysqlä¸­çš„nullå’Œç©ºå€¼æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Ÿ</strong><br/>
1ï¼‰ç©ºå€¼æ˜¯ä¸å ç©ºé—´çš„ï¼Œnullå€¼å ç”¨ç©ºé—´ã€‚ä¸¤è€…å°±åƒï¼šç©ºå€¼æ˜¯çœŸç©ºçŠ¶æ€çš„æ¯å­ï¼Œè€Œnullå€¼æ˜¯è£…æ»¡ç©ºæ°”çš„æ¯å­ã€‚<br/>
2ï¼‰æŸ¥å¯»ä¸Šï¼šnull å€¼æ˜¯ç”¨is null/is not nullæ¥æŸ¥è¯¢ï¼Œè€Œç©ºå€¼( â€™ â€™ )åˆ™å¯ä»¥ç”¨ = &gt; !=ç­‰ã€‚ åœ¨ä½¿ç”¨èšåˆå‡½æ•°countæ—¶ï¼Œä¼šè¿‡æ»¤æ‰nullï¼Œè€Œä¸ä¼šè¿‡æ»¤æ‰ ï¼ˆ â€™ â€™ ï¼‰å€¼ã€‚<br/>
åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ²¡æœ‰ç‰¹å®šéœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç©ºå€¼ï¼ï¼ï¼</p>
<p><strong>4.2 mysqlä¸»ä»æ•°æ®åº“å»¶æ—¶çš„åŸå› ï¼Ÿ</strong></p>
<blockquote>
<p>MySQLä¸»ä»æ•°æ®åº“å»¶æ—¶å¯èƒ½æœ‰å¤šç§åŸå› ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„åŸå› ï¼š</p>
<ol>
<li>ç½‘ç»œå»¶è¿Ÿï¼šä¸»ä»æ•°æ®åº“ä¹‹é—´çš„ç½‘ç»œè¿æ¥å¦‚æœä¸ç¨³å®šæˆ–è€…ç½‘ç»œè´¨é‡å·®ï¼Œä¼šå¯¼è‡´æ•°æ®åŒæ­¥çš„å»¶è¿Ÿã€‚</li>
<li>ä¸»ä»æ•°æ®åº“è´Ÿè½½ï¼šä¸»æ•°æ®åº“çš„è´Ÿè½½è¿‡é«˜ï¼Œæˆ–è€…ä»æ•°æ®åº“çš„æ€§èƒ½ä¸è¶³ï¼Œéƒ½å¯èƒ½å¯¼è‡´æ•°æ®åŒæ­¥å»¶è¿Ÿã€‚</li>
<li>æ•°æ®é‡è¿‡å¤§ï¼šå¦‚æœè¦åŒæ­¥çš„æ•°æ®é‡è¿‡å¤§ï¼Œæˆ–è€…æœ‰å¤§é‡çš„å†™æ“ä½œï¼Œéƒ½ä¼šå¢åŠ åŒæ­¥çš„æ—¶é—´ã€‚</li>
<li>å¤åˆ¶æ–¹å¼è®¾ç½®ä¸å½“ï¼šMySQLå¤åˆ¶æ–¹å¼ï¼ˆå¦‚å¼‚æ­¥å¤åˆ¶ã€åŠåŒæ­¥å¤åˆ¶ç­‰ï¼‰çš„é…ç½®ä¸åˆç†ä¹Ÿä¼šå¯¼è‡´å»¶æ—¶ã€‚</li>
<li>ä¸»ä»æ•°æ®åº“ç‰ˆæœ¬ä¸å…¼å®¹ï¼šå¦‚æœä¸»ä»æ•°æ®åº“çš„ç‰ˆæœ¬ä¸ä¸€è‡´æˆ–ä¸å…¼å®¹ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´æ•°æ®åŒæ­¥å»¶è¿Ÿã€‚</li>
</ol>
<p>åœ¨æ’æŸ¥MySQLä¸»ä»æ•°æ®åº“å»¶æ—¶é—®é¢˜æ—¶ï¼Œå¯ä»¥é€ä¸€æ£€æŸ¥ä¸Šè¿°å¯èƒ½çš„åŸå› ï¼Œé€æ­¥å®šä½å¹¶è§£å†³é—®é¢˜ã€‚</p>
</blockquote>
<p><strong>4.3 mysqlä¸»ä»å¤åˆ¶çš„è¿‡ç¨‹ï¼Ÿ</strong></p>
<blockquote>
<p>MySQLä¸»ä»å¤åˆ¶æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®åº“å¤åˆ¶æŠ€æœ¯ï¼Œç”¨äºå°†ä¸»æ•°æ®åº“ä¸­çš„æ•°æ®å®æ—¶åŒæ­¥å¤åˆ¶åˆ°ä»æ•°æ®åº“ã€‚ä»¥ä¸‹æ˜¯MySQLä¸»ä»å¤åˆ¶çš„åŸºæœ¬è¿‡ç¨‹ï¼š</p>
<ol>
<li>é…ç½®ä¸»æ•°æ®åº“ï¼šé¦–å…ˆéœ€è¦åœ¨ä¸»æ•°æ®åº“ä¸Šå¼€å¯äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary Logï¼‰ï¼Œå¹¶é…ç½®ä¸»æœºçš„å”¯ä¸€æ ‡è¯†ï¼ˆServer IDï¼‰ã€‚</li>
<li>é…ç½®ä»æ•°æ®åº“ï¼šåœ¨ä»æ•°æ®åº“ä¸Šé…ç½®è¿æ¥ä¸»æ•°æ®åº“çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸»æ•°æ®åº“çš„IPåœ°å€ã€ç«¯å£å·ã€ç”¨æˆ·åå¯†ç ç­‰ã€‚åŒæ—¶è®¾ç½®ä»æ•°æ®åº“çš„å”¯ä¸€æ ‡è¯†ï¼ˆServer IDï¼‰ã€‚</li>
<li>å¯åŠ¨ä¸»ä»å¤åˆ¶è¿‡ç¨‹ï¼šåœ¨ä»æ•°æ®åº“ä¸Šæ‰§è¡ŒCHANGE MASTER TOå‘½ä»¤ï¼ŒæŒ‡å®šä¸»æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ï¼Œå¹¶å¯åŠ¨ä»æ•°æ®åº“ä¸ä¸»æ•°æ®åº“çš„è¿æ¥ã€‚</li>
<li>æ•°æ®ä¼ è¾“ä¸åŒæ­¥ï¼šå½“ä¸»ä»æ•°æ®åº“è¿æ¥æˆåŠŸåï¼Œä¸»æ•°æ®åº“ä¼šå°†å˜æ›´å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ï¼Œå¹¶é€šè¿‡ä¸»ä»å¤åˆ¶çº¿ç¨‹å°†è¿™äº›å˜æ›´ä¼ è¾“ç»™ä»æ•°æ®åº“ï¼Œä»æ•°æ®åº“æ¥æ”¶åˆ°å˜æ›´ååº”ç”¨äºè‡ªèº«æ•°æ®åº“ï¼Œå®ç°æ•°æ®åŒæ­¥ã€‚</li>
<li>ç›‘æ§ä¸ç»´æŠ¤ï¼šå®šæœŸæ£€æŸ¥ä¸»ä»æ•°æ®åº“çš„çŠ¶æ€ï¼Œç¡®ä¿ä¸»ä»å¤åˆ¶æ­£å¸¸è¿è¡Œã€‚å¦‚æœå‘ç°å»¶è¿Ÿæˆ–åŒæ­¥å¤±è´¥ï¼Œéœ€è¦åŠæ—¶æ’æŸ¥å¹¶è§£å†³é—®é¢˜ã€‚</li>
</ol>
<p>æ€»çš„æ¥è¯´ï¼ŒMySQLä¸»ä»å¤åˆ¶çš„è¿‡ç¨‹åŒ…æ‹¬é…ç½®ä¸»ä»æ•°æ®åº“ã€å¯åŠ¨å¤åˆ¶ã€æ•°æ®ä¼ è¾“ä¸åŒæ­¥ä»¥åŠç›‘æ§ä¸ç»´æŠ¤ç­‰æ­¥éª¤ã€‚é€šè¿‡ä¸»ä»å¤åˆ¶ï¼Œå¯ä»¥å®ç°æ•°æ®çš„å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ä»¥åŠå®¹ç¾ç­‰åŠŸèƒ½ã€‚</p>
</blockquote>
<h5 data-id="heading-9">[][]å››ã€JVMè™šæ‹Ÿæœº</h5>
<p>ç¬”è€…æ­¤å‰åœ¨å…¶ä»–åšå®¢ä¸Šæ•´ç†è¿‡ï¼Œä¸åœ¨é‡å¤ï¼Œé“¾æ¥å¦‚ä¸‹ï¼š</p>
<h6 data-id="heading-10">[]</h6>
<h5 data-id="heading-11">[]äº”ã€Redisé¢è¯•é¢˜</h5>
<h6 data-id="heading-12">[]1 ã€ç¼“å­˜é›ªå´©ã€ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿</h6>
<ul>
<li>*<strong>ç¼“å­˜é›ªå´©ï¼š</strong> Â *Â ç¼“å­˜åŒä¸€æ—¶é—´å¤§é¢ç§¯å¤±æ•ˆï¼Œå¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ä¸Šï¼Œæ•°æ®åº“æ‰¿å—ä¸ä½å´©æ‰ï¼›<br/>
è§£å†³æ–¹æ¡ˆï¼šè¿‡æœŸæ—¶é—´è®¾ç½®æˆéšæœºã€ç¼“å­˜é¢„çƒ­ï¼ˆç³»ç»Ÿå‡ºåˆå¯åŠ¨ï¼Œå…ˆå­˜æ•°æ®åˆ°ç¼“å­˜é‡Œï¼‰</li>
<li>*<strong>ç¼“å­˜ç©¿é€ï¼š</strong> Â *Â æ•°æ®åº“å’Œredisä¸­éƒ½æ²¡æœ‰æ•°æ®ï¼Œå¯¼è‡´å¤§é‡æ•°æ®æŸ¥è¯¢æ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“å´©æ‰ï¼›</li>
<li>å¯ä»¥å°†ä¸å­˜åœ¨çš„è¯·æ±‚keyçš„value è®¾ç½®æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›ï¼Œè¿™æ ·å°±é¿å…äº†é»‘å›æ”»å‡»åˆ°æ•°æ®åº“ã€‚<br/>
è§£å†³æ–¹æ¡ˆï¼š æ¥å£å±‚è¿›è¡Œæ ¡éªŒï¼ˆid&lt;0çš„ç›´æ¥æ‹’ç»ï¼‰ã€é‡‡ç”¨å¸ƒéš†è¿‡æ»¤å™¨</li>
<li>*<strong>ç¼“å­˜å‡»ç©¿ï¼š</strong> Â *Â redisçš„ä¸€ä¸ªkeyå¤±æ•ˆï¼Œè¯·æ±‚å…¨éƒ¨æ‰“åˆ°æ•°æ®åº“ï¼ˆç¼“å­˜æ²¡æœ‰æ•°æ®åº“æœ‰ï¼‰ï¼›<br/>
è§£å†³æ–¹æ¡ˆï¼š çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸï¼Œè®¾ç½®æˆç©ºå­—ç¬¦ä¸²è¿”å›</li>
</ul>
<h6 data-id="heading-13">[]2ã€ å¦‚ä½•ä¿è¯æ•°æ®åº“å’ŒRedisçš„æ•°æ®ä¸€è‡´æ€§</h6>
<p>å½“æˆ‘ä»¬é‡åˆ°è¿™ä¸ªé—®é¢˜æ—¶ï¼Œè¦è€ƒè™‘æ˜¯å…ˆåˆ ç¼“å­˜ï¼Œè¿˜æ˜¯å…ˆå†™æ•°æ®åº“ã€‚<br/>
å»¶æ—¶åŒåˆ ï¼š å…ˆåˆ redisç¼“å­˜æ•°æ®ï¼Œå†æ›´æ–°æ•°æ®åº“ï¼Œç„¶åå†åˆ redisç¼“å­˜,è¿™æ ·å°±é¿å…äº†åˆ é™¤rediså’Œæ›´æ–°æ•°æ®åº“è¿™æœŸé—´ï¼Œå…¶ä»–çš„çº¿ç¨‹è¯»ä¸åˆ°redisé‡Œçš„å€¼ï¼Œå»è¯»æ•°æ®åº“é‡Œçš„æ—§æ•°æ®ã€‚</p>
<p>å°†æ“ä½œå¯ä¸²è¡ŒåŒ–ï¼ˆå…ˆå†™åœ¨è¯»å°±å¯ä»¥äº†ï¼‰<br/>
1ï¼‰å…ˆåˆ ç¼“å­˜ï¼Œå°†æ›´æ–°æ•°æ®åº“æ“ä½œæ”¾åˆ°ä¸€ä¸ªæœ‰åºé˜Ÿåˆ—ä¸­<br/>
2ï¼‰ä»ç¼“å­˜ä¸­æŸ¥ä¸åˆ°çš„æŸ¥è¯¢æ“ä½œï¼Œéƒ½è¿›å…¥æœ‰åºé˜Ÿåˆ—ï¼ˆMQï¼‰<br/>
é—®é¢˜ï¼šå¤§é‡è¯»è¯·æ±‚ç§¯å‹--------&gt; å°†é˜Ÿåˆ—æ°´å¹³æ‹†åˆ†</p>
<h6 data-id="heading-14">[]3ã€Redisçš„æ•°æ®ç»“æ„åŠä½¿ç”¨åœºæ™¯</h6>
<p>String :å­—ç¬¦ä¸² ----------åŸå­è®¡æ•°å™¨<br/>
List ï¼šåˆ—è¡¨ ---------å¾®åšã€å¾®ä¿¡ç­‰æ¶ˆæ¯æµæ•°æ®<br/>
Set ï¼šæ— åºé›†åˆ ---------å¥½å‹æ¨è<br/>
Zset ï¼šæœ‰åºé›†åˆ -----------æ’è¡Œæ¦œ<br/>
Hash ï¼šå“ˆå¸Œè¡¨ ----------é€‚åˆå­˜å‚¨å¯¹è±¡</p>
<p>----------------------------------å‰äº”ç§ä¸ºå¸¸è§ï¼Œåå››ç§ä¸ºé¢è¯•åŠ åˆ†é¡¹-------------------------------------------<br/>
bitmap:å¸ƒéš†è¿‡æ»¤å™¨<br/>
GeoHash:åæ ‡ï¼Œï¼ˆå­˜å‚¨åæ ‡çš„ï¼‰åŸºäºZsetçš„scoreè¿›è¡Œæ’åºå°±å¯ä»¥å¾—åˆ°åæ ‡é™„è¿‘çš„å€¼<br/>
HyperLoglog: ç»Ÿè®¡ä¸é‡å¤æ•°æ®ï¼Œç”¨äºå¤§æ•°æ®åŸºç¡€ä½¿ç”¨<br/>
Streams:å†…å­˜ç‰ˆçš„Kafkaï¼Œæ¶ˆæ¯çš„è®¢é˜…å‘å¸ƒ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´å¤åˆå¢é•¿ç‡5.0%ï¼å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿]]></title>    <link>https://juejin.cn/post/7581545175508975668</link>    <guid>https://juejin.cn/post/7581545175508975668</guid>    <pubDate>2025-12-09T06:45:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581545175508975668" data-draft-id="7581478953867362304" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´å¤åˆå¢é•¿ç‡5.0%ï¼å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:45:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´å¤åˆå¢é•¿ç‡5.0%ï¼å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºå‘ˆç°ç¨³å¥å¢é•¿æ€åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:45:47.000Z" title="Tue Dec 09 2025 06:45:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ˜¯ä¸€ç±»åˆ©ç”¨å…‰ç”µ/å…‰å¯¼æ•ˆåº”ç²¾ç¡®æ“æ§å’Œç­›é€‰å¤§é‡å•ç»†èƒçš„è‡ªåŠ¨åŒ–å¹³å°ï¼Œå¯åœ¨å¾®æµæ§èŠ¯ç‰‡ä¸­å®ç°å¿«é€Ÿå®šä½ã€åˆ†é€‰ä¸æˆåƒï¼Œé€‚ç”¨äºæŠ—ä½“è¯ç‰©å‘ç°ã€ç»†èƒæ ªæ„å»ºä¸ç»†èƒæ²»ç–—å·¥è‰ºå¼€å‘ç­‰é«˜é€šé‡åº”ç”¨ã€‚ä¸Šæ¸¸åŒ…æ‹¬å…‰å­¦å…ƒä»¶ä¸æˆåƒç»„ä»¶ã€æ¿€å…‰ä¸ DMD/SLM å™¨ä»¶ã€ç²¾å¯†ç”µå­ä¸æ§åˆ¶æ¨¡å—ã€å¾®æµæ§èŠ¯ç‰‡ä¸ç”Ÿç‰©è¯•å‰‚è€—æç­‰ï¼›ä¸‹æ¸¸è¦†ç›–è¯ä¼ä¸ç”Ÿç‰©æŠ€æœ¯å…¬å¸ã€CDMO æœºæ„ã€ç»†èƒæ²»ç–—ä¸åŸºå› æ²»ç–—ä¼ä¸šï¼Œä»¥åŠé«˜æ ¡ä¸ç§‘ç ”é™¢æ‰€ç­‰ã€‚2024å¹´å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºå•ä»·122ä¸‡ç¾å…ƒ/å°ï¼Œé”€é‡çº¦90å°ï¼Œå…¨çƒäº§èƒ½95-110å°ï¼Œè¡Œä¸šåˆ©æ¶¦ç‡25-35%ã€‚</p>
<p><strong>é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå…¨çƒå¸‚åœºè§„æ¨¡ç°çŠ¶åŠè¶‹åŠ¿é¢„æµ‹ï¼š</strong> QYResearchå¸‚åœºæŠ¥å‘Šæ•°æ®è¡¨ç¤ºï¼Œ2025å¹´å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºé”€å”®é¢è¾¾åˆ°äº†115ç™¾ä¸‡ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°154ç™¾ä¸‡ç¾å…ƒï¼Œ2025-2031å¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º5.0%ã€‚</p>
<p>**è¡Œä¸šæŠ¥å‘Šï¼šæ´å¯Ÿè¶‹åŠ¿ï¼ŒæŒ‡å¼•æ–¹å‘<br/>
**<strong>ã€Š2025-2031å…¨çƒä¸ä¸­å›½é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‹</strong> ä¸ºè¡Œä¸šå‚ä¸è€…æä¾›äº†å…¨é¢è€Œæ·±å…¥çš„å¸‚åœºæ´å¯Ÿã€‚è¯¥æŠ¥å‘Šèšç„¦å…¨çƒä¸ä¸­å›½å¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿçš„äº§èƒ½ã€äº§é‡ã€é”€é‡ã€é”€å”®é¢ã€ä»·æ ¼åŠæœªæ¥è¶‹åŠ¿ç­‰å…³é”®æŒ‡æ ‡ï¼Œé‡ç‚¹åˆ†æå…¨çƒä¸ä¸­å›½å¸‚åœºä¸»è¦å‚å•†çš„äº§å“ç‰¹ç‚¹ã€äº§å“è§„æ ¼ã€ä»·æ ¼ã€é”€é‡ã€é”€å”®æ”¶å…¥åŠå¸‚åœºä»½é¢ç­‰æ ¸å¿ƒä¿¡æ¯ã€‚é€šè¿‡è¿™ä»½æŠ¥å‘Šï¼Œä¼ä¸šèƒ½å¤Ÿæ›´å¥½åœ°æŠŠæ¡å¸‚åœºåŠ¨æ€ï¼Œåˆ¶å®šç§‘å­¦åˆç†çš„å‘å±•æˆ˜ç•¥ï¼Œåœ¨æ¿€çƒˆçš„å¸‚åœºç«äº‰ä¸­æŠ¢å å…ˆæœºã€‚</p>
<p><strong>é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºç»†åˆ†å†…å®¹å¦‚ä¸‹ï¼š</strong><br/>
ï¼ˆæ ¸å¿ƒä¼ä¸šåå•ï¼‰ï¼šBruker Cellular Analysisã€ å½©ç§‘ç”Ÿç‰©ã€ å¾®çº³åŠ¨åŠ›ç§‘æŠ€ã€ OptoSeeker Biotechnologyã€ Mightex Systems</p>
<p>ï¼ˆäº§å“ç±»å‹ï¼‰ï¼š4ä¸ªè§å…‰é€šé“ã€ 5ä¸ªè§å…‰é€šé“Â </p>
<p>ï¼ˆåº”ç”¨é¢†åŸŸï¼‰ï¼šåŒ»é™¢ã€ ç”Ÿç‰©ç§‘ç ”æœºæ„ã€ å…¶ä»–</p>
<p>1 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºæ¦‚è¿°<br/>
1.1 äº§å“å®šä¹‰åŠç»Ÿè®¡èŒƒå›´<br/>
1.2 æŒ‰ç…§ä¸åŒäº§å“ç±»å‹ï¼Œé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸»è¦å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªç±»åˆ«<br/>
1.2.1 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.2.2 4ä¸ªè§å…‰é€šé“<br/>
1.2.3 5ä¸ªè§å…‰é€šé“<br/>
1.3 æŒ‰ç…§ä¸åŒå…‰æ“æ§ä¸é©±åŠ¨ï¼Œé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸»è¦å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªç±»åˆ«<br/>
1.3.1 å…¨çƒä¸åŒå…‰æ“æ§ä¸é©±åŠ¨ é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.3.2 å…‰ç”µä»‹è´¨é©±åŠ¨<br/>
1.3.3 æ¿€å…‰æ•è·å¼<br/>
1.3.4 DMD/SLM å›¾æ¡ˆæŠ•å½±å¼<br/>
1.4 æŒ‰ç…§ä¸åŒç³»ç»Ÿå½¢æ€ï¼Œé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸»è¦å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªç±»åˆ«<br/>
1.4.1 å…¨çƒä¸åŒç³»ç»Ÿå½¢æ€ é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.4.2 é«˜é€šé‡å°å¼ä¸€ä½“æœº<br/>
1.4.3 æ¨¡å—åŒ–é™„ä»¶å‹<br/>
1.4.4 äº§çº¿/å°é—­å¼é›†æˆç³»ç»Ÿ<br/>
1.5 ä»ä¸åŒåº”ç”¨ï¼Œé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢<br/>
1.5.1 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®é¢å¢é•¿è¶‹åŠ¿2020 VS 2024 VS 2031<br/>
1.5.2 åŒ»é™¢<br/>
1.5.3 ç”Ÿç‰©ç§‘ç ”æœºæ„<br/>
1.5.4 å…¶ä»–<br/>
1.6 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šèƒŒæ™¯ã€å‘å±•å†å²ã€ç°çŠ¶åŠè¶‹åŠ¿<br/>
1.6.1 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šç›®å‰ç°çŠ¶åˆ†æ<br/>
1.6.2 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå‘å±•è¶‹åŠ¿<br/>
2 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ€»ä½“è§„æ¨¡åˆ†æ<br/>
2.1 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¾›éœ€ç°çŠ¶åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.1.1 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§èƒ½ã€äº§é‡ã€äº§èƒ½åˆ©ç”¨ç‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.1.2 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§é‡ã€éœ€æ±‚é‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.2 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§é‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.2.1 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§é‡ï¼ˆ2020-2025ï¼‰<br/>
2.2.2 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§é‡ï¼ˆ2026-2031ï¼‰<br/>
2.2.3 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§é‡å¸‚åœºä»½é¢ï¼ˆ2020-2031ï¼‰<br/>
2.3 ä¸­å›½é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¾›éœ€ç°çŠ¶åŠé¢„æµ‹ï¼ˆ2020-2031ï¼‰<br/>
2.3.1 ä¸­å›½é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§èƒ½ã€äº§é‡ã€äº§èƒ½åˆ©ç”¨ç‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.3.2 ä¸­å›½é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§é‡ã€å¸‚åœºéœ€æ±‚é‡åŠå‘å±•è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
2.4 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡åŠé”€å”®é¢<br/>
2.4.1 å…¨çƒå¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®é¢ï¼ˆ2020-2031ï¼‰<br/>
2.4.2 å…¨çƒå¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2031ï¼‰<br/>
2.4.3 å…¨çƒå¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä»·æ ¼è¶‹åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
3 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸»è¦åœ°åŒºåˆ†æ<br/>
3.1 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå¸‚åœºè§„æ¨¡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.1.1 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®æ”¶å…¥åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.1.2 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®æ”¶å…¥é¢„æµ‹ï¼ˆ2026-2031å¹´ï¼‰<br/>
3.2 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡åˆ†æï¼š2020 VS 2024 VS 2031<br/>
3.2.1 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025å¹´ï¼‰<br/>
3.2.2 å…¨çƒä¸»è¦åœ°åŒºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡åŠå¸‚åœºä»½é¢é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
3.3 åŒ—ç¾å¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.4 æ¬§æ´²å¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.5 ä¸­å›½å¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.6 æ—¥æœ¬å¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.7 ä¸œå—äºšå¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
3.8 å°åº¦å¸‚åœºé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥åŠå¢é•¿ç‡ï¼ˆ2020-2031ï¼‰<br/>
4 å…¨çƒä¸ä¸­å›½ä¸»è¦å‚å•†å¸‚åœºä»½é¢åˆ†æ<br/>
4.1 å…¨çƒå¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§èƒ½å¸‚åœºä»½é¢<br/>
4.2 å…¨çƒå¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.2.1 å…¨çƒå¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.2.2 å…¨çƒå¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®æ”¶å…¥ï¼ˆ2020-2025ï¼‰<br/>
4.2.3 å…¨çƒå¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®ä»·æ ¼ï¼ˆ2020-2025ï¼‰<br/>
4.2.4 2024å¹´å…¨çƒä¸»è¦ç”Ÿäº§å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥æ’å<br/>
4.3 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.3.1 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2025ï¼‰<br/>
4.3.2 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®æ”¶å…¥ï¼ˆ2020-2025ï¼‰<br/>
4.3.3 2024å¹´ä¸­å›½ä¸»è¦ç”Ÿäº§å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥æ’å<br/>
4.3.4 ä¸­å›½å¸‚åœºä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®ä»·æ ¼ï¼ˆ2020-2025ï¼‰<br/>
4.4 å…¨çƒä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ€»éƒ¨åŠäº§åœ°åˆ†å¸ƒ<br/>
4.5 å…¨çƒä¸»è¦å‚å•†æˆç«‹æ—¶é—´åŠé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå•†ä¸šåŒ–æ—¥æœŸ<br/>
4.6 å…¨çƒä¸»è¦å‚å•†é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§å“ç±»å‹åŠåº”ç”¨<br/>
4.7 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šé›†ä¸­åº¦ã€ç«äº‰ç¨‹åº¦åˆ†æ<br/>
4.7.1 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šé›†ä¸­åº¦åˆ†æï¼š2024å¹´å…¨çƒTop 5ç”Ÿäº§å•†å¸‚åœºä»½é¢<br/>
4.7.2 å…¨çƒé«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿç¬¬ä¸€æ¢¯é˜Ÿã€ç¬¬äºŒæ¢¯é˜Ÿå’Œç¬¬ä¸‰æ¢¯é˜Ÿç”Ÿäº§å•†ï¼ˆå“ç‰Œï¼‰åŠå¸‚åœºä»½é¢<br/>
4.8 æ–°å¢æŠ•èµ„åŠå¸‚åœºå¹¶è´­æ´»åŠ¨<br/>
5 å…¨çƒä¸»è¦ç”Ÿäº§å•†åˆ†æ<br/>
5.1 Bruker Cellular Analysis<br/>
5.1.1 Bruker Cellular AnalysisåŸºæœ¬ä¿¡æ¯ã€é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.1.2 Bruker Cellular Analysis é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.1.3 Bruker Cellular Analysis é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.1.4 Bruker Cellular Analysiså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.1.5 Bruker Cellular Analysisä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.2 å½©ç§‘ç”Ÿç‰©<br/>
5.2.1 å½©ç§‘ç”Ÿç‰©åŸºæœ¬ä¿¡æ¯ã€é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.2.2 å½©ç§‘ç”Ÿç‰© é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.2.3 å½©ç§‘ç”Ÿç‰© é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.2.4 å½©ç§‘ç”Ÿç‰©å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.2.5 å½©ç§‘ç”Ÿç‰©ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.3 å¾®çº³åŠ¨åŠ›ç§‘æŠ€<br/>
5.3.1 å¾®çº³åŠ¨åŠ›ç§‘æŠ€åŸºæœ¬ä¿¡æ¯ã€é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.3.2 å¾®çº³åŠ¨åŠ›ç§‘æŠ€ é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.3.3 å¾®çº³åŠ¨åŠ›ç§‘æŠ€ é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.3.4 å¾®çº³åŠ¨åŠ›ç§‘æŠ€å…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.3.5 å¾®çº³åŠ¨åŠ›ç§‘æŠ€ä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.4 OptoSeeker Biotechnology<br/>
5.4.1 OptoSeeker BiotechnologyåŸºæœ¬ä¿¡æ¯ã€é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.4.2 OptoSeeker Biotechnology é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.4.3 OptoSeeker Biotechnology é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.4.4 OptoSeeker Biotechnologyå…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.4.5 OptoSeeker Biotechnologyä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
5.5 Mightex Systems<br/>
5.5.1 Mightex SystemsåŸºæœ¬ä¿¡æ¯ã€é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿç”Ÿäº§åŸºåœ°ã€é”€å”®åŒºåŸŸã€ç«äº‰å¯¹æ‰‹åŠå¸‚åœºåœ°ä½<br/>
5.5.2 Mightex Systems é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§å“è§„æ ¼ã€å‚æ•°åŠå¸‚åœºåº”ç”¨<br/>
5.5.3 Mightex Systems é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæ¯›åˆ©ç‡ï¼ˆ2020-2025ï¼‰<br/>
5.5.4 Mightex Systemså…¬å¸ç®€ä»‹åŠä¸»è¦ä¸šåŠ¡<br/>
5.5.5 Mightex Systemsä¼ä¸šæœ€æ–°åŠ¨æ€<br/>
6 ä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿåˆ†æ<br/>
6.1 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2031ï¼‰<br/>
6.1.1 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
6.1.2 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
6.2 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥ï¼ˆ2020-2031ï¼‰<br/>
6.2.1 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
6.2.2 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
6.3 å…¨çƒä¸åŒäº§å“ç±»å‹é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä»·æ ¼èµ°åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
7 ä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿåˆ†æ<br/>
7.1 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡ï¼ˆ2020-2031ï¼‰<br/>
7.1.1 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
7.1.2 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€é‡é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
7.2 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥ï¼ˆ2020-2031ï¼‰<br/>
7.2.1 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥åŠå¸‚åœºä»½é¢ï¼ˆ2020-2025ï¼‰<br/>
7.2.2 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿæ”¶å…¥é¢„æµ‹ï¼ˆ2026-2031ï¼‰<br/>
7.3 å…¨çƒä¸åŒåº”ç”¨é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä»·æ ¼èµ°åŠ¿ï¼ˆ2020-2031ï¼‰<br/>
8 ä¸Šæ¸¸åŸæ–™åŠä¸‹æ¸¸å¸‚åœºåˆ†æ<br/>
8.1 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§ä¸šé“¾åˆ†æ<br/>
8.2 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿå·¥è‰ºåˆ¶é€ æŠ€æœ¯åˆ†æ<br/>
8.3 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿäº§ä¸šä¸Šæ¸¸ä¾›åº”åˆ†æ<br/>
8.3.1 ä¸Šæ¸¸åŸæ–™ä¾›ç»™çŠ¶å†µ<br/>
8.3.2 åŸæ–™ä¾›åº”å•†åŠè”ç³»æ–¹å¼<br/>
8.4 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸‹æ¸¸å®¢æˆ·åˆ†æ<br/>
8.5 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿé”€å”®æ¸ é“åˆ†æ<br/>
9 è¡Œä¸šå‘å±•æœºé‡å’Œé£é™©åˆ†æ<br/>
9.1 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šå‘å±•æœºé‡åŠä¸»è¦é©±åŠ¨å› ç´ <br/>
9.2 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šå‘å±•é¢ä¸´çš„é£é™©<br/>
9.3 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿè¡Œä¸šæ”¿ç­–åˆ†æ<br/>
9.4 é«˜é€šé‡å•ç»†èƒå…‰å¯¼ç³»ç»Ÿä¸­å›½ä¼ä¸šSWOTåˆ†æ<br/>
10 ç ”ç©¶æˆæœåŠç»“è®º</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025å¹´å…¨çƒè½½å¸¦å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†10.48äº¿ç¾å…ƒ]]></title>    <link>https://juejin.cn/post/7581437632855130152</link>    <guid>https://juejin.cn/post/7581437632855130152</guid>    <pubDate>2025-12-09T06:47:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581437632855130152" data-draft-id="7581478953867395072" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025å¹´å…¨çƒè½½å¸¦å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†10.48äº¿ç¾å…ƒ"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:47:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025å¹´å…¨çƒè½½å¸¦å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†10.48äº¿ç¾å…ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:47:17.000Z" title="Tue Dec 09 2025 06:47:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ ¹æ®QYResearchï¼ˆæ’å·åšæ™ºï¼‰çš„ç»Ÿè®¡åŠé¢„æµ‹ï¼Œ2025å¹´å…¨çƒè½½å¸¦å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†10.48äº¿ç¾å…ƒï¼Œé¢„è®¡2032å¹´å°†è¾¾åˆ°15.23äº¿ç¾å…ƒï¼Œå¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º5.27%ï¼ˆ2026-2032ï¼‰ã€‚åœ°åŒºå±‚é¢æ¥çœ‹ï¼Œä¸­å›½å¸‚åœºåœ¨è¿‡å»å‡ å¹´å˜åŒ–è¾ƒå¿«ï¼Œ2025å¹´å¸‚åœºè§„æ¨¡ä¸º5.24äº¿ç¾å…ƒï¼Œå å…¨çƒçš„50.02%ï¼Œé¢„è®¡2032å¹´å°†è¾¾åˆ°8.03äº¿ç¾å…ƒï¼Œå±Šæ—¶å…¨çƒå æ¯”å°†è¾¾åˆ°52.72%ã€‚
ã€2026-2032å…¨çƒä¸ä¸­å›½è½½å¸¦å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‘æœ¬æŠ¥å‘Šç ”ç©¶å…¨çƒä¸ä¸­å›½å¸‚åœºè½½å¸¦çš„äº§èƒ½ã€äº§é‡ã€é”€é‡ã€é”€å”®é¢ã€ä»·æ ¼åŠæœªæ¥è¶‹åŠ¿ã€‚é‡ç‚¹åˆ†æå…¨çƒä¸ä¸­å›½å¸‚åœºçš„ä¸»è¦å‚å•†äº§å“ä»·æ ¼ã€é”€é‡ã€é”€å”®é¢åŠå…¨çƒå’Œä¸­å›½å¸‚åœºä¸»è¦ç”Ÿäº§å•†çš„å¸‚åœºä»½é¢ã€‚å†å²æ•°æ®ä¸º2021è‡³2025å¹´ï¼Œé¢„æµ‹æ•°æ®ä¸º2026è‡³2032å¹´ã€‚</p>
<p>ä¸»è¦å‚å•†åŒ…æ‹¬ï¼š
ï®	3M
ï®	æµ™æ±Ÿæ´ç¾ç”µå­ç§‘æŠ€
ï®	Advantek
ï®	Shin-Etsu Polymer
ï®	NIPPO CO.,LTD
ï®	Nissho Corporation
ï®	ç®é”‹ç§‘æŠ€
ï®	YAC GARTER
ï®	C-Pak
ï®	Oji F-Tex
ï®	ePAK International
ï®	ROTHE
ï®	Sumitomo Bakelite
ï®	Tek Pak
ï®	Miyata System
ï®	é›·ç§‘è‚¡ä»½
ï®	SEKISUI SEIKEI
ï®	JSK Co.,Ltd
ï®	æ±Ÿé˜´æ–°æ°ç§‘æŠ€
ï®	Asahi Kasei
ï®	å°æ¹¾è½½å¸¦
ï®	Kanazu Giken
ï®	æ¡¦å¡‘ä¼ä¸š
ï®	å¦é—¨å¸‚æµ·å¾·é¾™ç”µå­</p>
<p>æŒ‰ç…§ä¸åŒæè´¨ï¼ŒåŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªç±»åˆ«ï¼š
ï®	çº¸è´¨è½½å¸¦
ï®	å¡‘æ–™è½½å¸¦</p>
<p>æŒ‰ç…§ä¸åŒåº”ç”¨ï¼Œä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
ï®	åŠŸç‡åˆ†ç«‹å™¨ä»¶
ï®	é›†æˆç”µè·¯
ï®	å…‰ç”µå­å™¨ä»¶
ï®	æ— æºå™¨ä»¶
ï®	å…¶ä»–</p>
<p>é‡ç‚¹å…³æ³¨å¦‚ä¸‹å‡ ä¸ªåœ°åŒº
ï®	åŒ—ç¾
ï®	æ¬§æ´²
ï®	ä¸­å›½
ï®	æ—¥æœ¬
ï®	ä¸œå—äºš
ï®	ä¸­å›½å°æ¹¾
ï®	éŸ©å›½</p>
<p>æœ¬æ–‡æ­£æ–‡å…±10ç« ï¼Œå„ç« èŠ‚ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š
ï®	ç¬¬1ç« ï¼šæŠ¥å‘Šç»Ÿè®¡èŒƒå›´ã€äº§å“ç»†åˆ†åŠä¸»è¦çš„ä¸‹æ¸¸å¸‚åœºï¼Œè¡Œä¸šèƒŒæ™¯ã€å‘å±•å†å²ã€ç°çŠ¶åŠè¶‹åŠ¿ç­‰
ï®	ç¬¬2ç« ï¼šå…¨çƒæ€»ä½“è§„æ¨¡ï¼ˆäº§èƒ½ã€äº§é‡ã€é”€é‡ã€éœ€æ±‚é‡ã€é”€å”®é¢ç­‰æ•°æ®ï¼Œ2021-2032å¹´ï¼‰
ï®	ç¬¬3ç« ï¼šå…¨çƒè½½å¸¦ä¸»è¦åœ°åŒºåˆ†æï¼ŒåŒ…æ‹¬é”€é‡ã€é”€å”®é¢ç­‰
ï®	ç¬¬4ç« ï¼šå…¨çƒèŒƒå›´å†…è½½å¸¦ä¸»è¦å‚å•†ç«äº‰åˆ†æï¼Œä¸»è¦åŒ…æ‹¬è½½å¸¦é”€é‡ã€é”€å”®é¢ã€å¸‚åœºä»½é¢ã€ä»·æ ¼ã€äº§åœ°åŠè¡Œä¸šé›†ä¸­åº¦åˆ†æ
ï®	ç¬¬5ç« ï¼šå…¨çƒè½½å¸¦ä¸»è¦å‚å•†åŸºæœ¬æƒ…å†µä»‹ç»ï¼ŒåŒ…æ‹¬å…¬å¸ç®€ä»‹ã€è½½å¸¦äº§å“ä»‹ç»ã€é”€é‡ã€é”€å”®é¢åŠä»·æ ¼ç­‰
ï®	ç¬¬6ç« ï¼šå…¨çƒä¸åŒæè´¨è½½å¸¦é”€é‡ã€é”€å”®é¢ã€ä»·æ ¼åŠä»½é¢ç­‰
ï®	ç¬¬7ç« ï¼šå…¨çƒä¸åŒåº”ç”¨è½½å¸¦é”€é‡ã€é”€å”®é¢ã€ä»·æ ¼åŠä»½é¢ç­‰
ï®	ç¬¬8ç« ï¼šäº§ä¸šé“¾ã€ä¸Šä¸‹æ¸¸åˆ†æã€é”€å”®æ¸ é“ä¸å®¢æˆ·åˆ†æç­‰
ï®	ç¬¬9ç« ï¼šè¡Œä¸šåŠ¨æ€ã€å¢é•¿é©±åŠ¨å› ç´ ã€å‘å±•æœºé‡ã€æœ‰åˆ©å› ç´ ã€ä¸åˆ©åŠé˜»ç¢å› ç´ ã€è¡Œä¸šæ”¿ç­–ç­‰
ï®	ç¬¬10ç« ï¼šæŠ¥å‘Šç»“è®º</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Doker å­¦ä¹  å°å†Œ]]></title>    <link>https://juejin.cn/post/7533434265415499811</link>    <guid>https://juejin.cn/post/7533434265415499811</guid>    <pubDate>2025-08-01T16:33:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7533434265415499811" data-draft-id="7533286881750007849" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Doker å­¦ä¹  å°å†Œ"/> <meta itemprop="keywords" content="Docker"/> <meta itemprop="datePublished" content="2025-08-01T16:33:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Œäº‘ä¸‹çš„é£"/> <meta itemprop="url" content="https://juejin.cn/user/3299008626569934"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Doker å­¦ä¹  å°å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3299008626569934/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Œäº‘ä¸‹çš„é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-08-01T16:33:58.000Z" title="Fri Aug 01 2025 16:33:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-08-01
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Doker ç»ƒä¹ </h2>
<h3 data-id="heading-1">ubuntu-24.04.2-live-server ç‰ˆæœ¬</h3>
<h3 data-id="heading-2">ubuntu docker å®æˆ˜</h3>
<pre><code class="hljs language-js" lang="js">sudo apt-get install apt-transport-https ca-certificates curl software-properties-common
</code></pre>
<h4 data-id="heading-3">éœ€è¦å¤–ç½‘</h4>
<pre><code class="hljs language-js" lang="js">curl -fsSL <span class="hljs-attr">https</span>:<span class="hljs-comment">//download.docker.com/linux/ubuntu/gpg | sudo apt-key add -  </span>
sudo add-apt-repository <span class="hljs-string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"</span>
sudo apt-get update
sudo apt-get install docker-ce



sudo systemctl enable docker
sudo systemctl start docker
sudo docker version
sudo docker info

vim /etc/docker/daemon.<span class="hljs-property">json</span>
{
    <span class="hljs-string">"registry-mirrors"</span>: [
        <span class="hljs-string">"https://registry.docker-cn.com"</span>
    ]
}
 

 systemctl daemon-reload
 sudo systemctl restart docker
<span class="hljs-comment">//æŸ¥çœ‹ mirrors ç”Ÿæ•ˆ</span>
sudo docker info
</code></pre>
<h4 data-id="heading-4">æ™®é€šç”¨æˆ·</h4>
<p><strong>permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Post "http://%2Fvar%2Frun%2Fdocker.sock/v1.51/images/create?fromImage=docker.io%2Flibrary%2Fbusybox&amp;tag=latest": dial unix /var/run/docker.sock: connect: permission denied</strong></p>
<ul>
<li>echo $USER # æŸ¥çœ‹å½“å‰ç”¨æˆ· liweihai</li>
<li>æ·»åŠ ç”¨æˆ·ç»„ æŠŠå½“å‰ç”¨æˆ·æ·»åŠ åˆ°ç»„
<code>	sudo groupadd docker   sudo gpasswd -a $USER docker</code></li>
<li>#æ›´æ–°dockerç»„</li>
<li>newgrp docker</li>
<li>ls -al  /var/run/docker.sock // æŸ¥çœ‹æƒé™</li>
<li>sudo chmod 777 /var/run/docker.sock // èµ‹äºˆæƒé™</li>
</ul>
<h4 data-id="heading-5">é…ç½®ä»£ç†</h4>
<pre><code class="hljs language-js" lang="js">sudo  mkdir -p /etc/systemd/system/docker.<span class="hljs-property">service</span>.<span class="hljs-property">d</span>
sudo  vim /etc/systemd/system/docker.<span class="hljs-property">service</span>.<span class="hljs-property">d</span>/http-proxy.<span class="hljs-property">conf</span>
	[<span class="hljs-title class_">Service</span>]
	<span class="hljs-title class_">Environment</span>=<span class="hljs-string">"HTTP_PROXY=http://192.168.131.1:9665"</span>
	<span class="hljs-title class_">Environment</span>=<span class="hljs-string">"HTTPS_PROXY=http://192.168.131.1:9665"</span>
	<span class="hljs-title class_">Environment</span>=<span class="hljs-string">"NO_PROXY=localhost,127.0.0.1"</span>

sudo systemctl daemon-reload
sudo systemctl restart docker 
systemctl show --property=<span class="hljs-title class_">Environment</span> docker
        
</code></pre>
<p>sudo docker pull redis:3.2
sudo docker inspect redis:3.2</p>
<h4 data-id="heading-6">å®¹å™¨äº’è”</h4>
<pre><code class="hljs language-js" lang="js">sudo docker run -d --name mysql -e <span class="hljs-variable constant_">MYSQL_RANDOM_ROOT_PASSWORD</span>=yes mysql
sudo docker run -d --name webapp --link mysql <span class="hljs-attr">webapp</span>:latest
</code></pre>
<ul>
<li>å‡è®¾æˆ‘ä»¬åœ¨ Web åº”ç”¨ä¸­ä½¿ç”¨çš„æ˜¯ JDBC è¿›è¡Œæ•°æ®åº“è¿æ¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå¡«å†™è¿æ¥</li>
<li>String url = "jdbc:mysql://mysql:3306/webapp";</li>
<li>åœ¨è¿™é‡Œï¼Œè¿æ¥åœ°å€ä¸­çš„ mysql å°±å¥½ä¼¼æˆ‘ä»¬å¸¸è§çš„åŸŸåè§£æï¼ŒDocker ä¼šå°†å…¶æŒ‡å‘ MySQL å®¹å™¨çš„ IP åœ°å€</li>
</ul>
<h4 data-id="heading-7">æš´éœ²ç«¯å£</h4>
<p><code>sudo docker run -d --name mysql -e MYSQL_RANDOM_ROOT_PASSWORD=yes --expose 13306 --expose 23306 mysql:5.7</code>
è¿™é‡Œæˆ‘ä»¬ä¸º MySQL æš´éœ²äº† 13306 å’Œ 23306 è¿™ä¸¤ä¸ªç«¯å£ï¼Œ
docker ps</p>
<h4 data-id="heading-8">é€šè¿‡åˆ«åè¿æ¥</h4>
<pre><code class="hljs language-js" lang="js">sudo docker run -d --name webapp --link <span class="hljs-attr">mysql</span>:database <span class="hljs-attr">webapp</span>:latest
</code></pre>
<ul>
<li>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ --link : çš„å½¢å¼ï¼Œè¿æ¥åˆ° MySQL å®¹å™¨ï¼Œå¹¶è®¾ç½®å®ƒçš„åˆ«åä¸º databaseã€‚å½“æˆ‘ä»¬è¦åœ¨ Web åº”ç”¨ä¸­ä½¿ç”¨ MySQL è¿æ¥æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ database æ¥ä»£æ›¿è¿æ¥åœ°å€äº†
<code>String url = "jdbc:mysql://database:3306/webapp";</code></li>
</ul>
<h4 data-id="heading-9">é…ç½®ç½‘ç»œ</h4>
<pre><code class="hljs language-js" lang="js">docker network list
sudo docker run -d --name mysql -e <span class="hljs-variable constant_">MYSQL_RANDOM_ROOT_PASSWORD</span>=yes --network individual <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
</code></pre>
<h4 data-id="heading-10">æŒ‚è½½</h4>
<pre><code class="hljs language-js" lang="js">sudo docker run -d --name nginx -v /webapp/<span class="hljs-attr">html</span>:<span class="hljs-regexp">/usr/</span>share/nginx/html <span class="hljs-attr">nginx</span>:<span class="hljs-number">1.12</span> 
/webapp/<span class="hljs-attr">html</span>:<span class="hljs-regexp">/usr/</span>share/nginx/html æ–‡ä»¶å¤¹è‡ªåŠ¨åˆ›å»º
sudo docker inspect nginx
æŸ¥çœ‹ <span class="hljs-title class_">Mounts</span> èŠ‚ç‚¹
sudo docker run -d --name nginx -v /webapp/<span class="hljs-attr">html</span>:<span class="hljs-regexp">/usr/</span>share/nginx/<span class="hljs-attr">html</span>:ro <span class="hljs-attr">nginx</span>:<span class="hljs-number">1.12</span>
åœ¨æŒ‚è½½é€‰é¡¹ -v åå†æ¥ä¸Š :ro å°±å¯ä»¥åªè¯»æŒ‚è½½äº†ã€‚
æŒ‚åœ¨ä¸´æ—¶èŠ‚ç‚¹
sudo docker run -d --name webapp --tmpfs /webapp/cache <span class="hljs-attr">webapp</span>:latest
</code></pre>
<h6 data-id="heading-11">æŒ‚è½½ä¸´æ—¶æ–‡ä»¶é¦–å…ˆè¦æ³¨æ„å®ƒä¸æ˜¯æŒä¹…å­˜å‚¨è¿™ä¸€ç‰¹æ€§ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ƒæœ‰å‡ ç§å¸¸è§çš„é€‚åº”åœºæ™¯ã€‚</h6>
<ol>
<li>åº”ç”¨ä¸­ä½¿ç”¨åˆ°ï¼Œä½†ä¸éœ€è¦è¿›è¡ŒæŒä¹…ä¿å­˜çš„æ•æ„Ÿæ•°æ®ï¼Œå¯ä»¥å€ŸåŠ©å†…å­˜çš„éæŒä¹…æ€§å’Œç¨‹åºéš”ç¦»æ€§è¿›è¡Œä¸€å®šçš„å®‰å…¨ä¿éšœã€‚</li>
<li>è¯»å†™é€Ÿåº¦è¦æ±‚è¾ƒé«˜ï¼Œæ•°æ®å˜åŒ–é‡å¤§ï¼Œä½†ä¸éœ€è¦æŒä¹…ä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥å€ŸåŠ©å†…å­˜çš„é«˜è¯»å†™é€Ÿåº¦å‡å°‘æ“ä½œçš„æ—¶é—´ã€‚</li>
</ol>
<p>æ‰‹åŠ¨æŒ‡å®šç›®å½•å’ŒéæŒ‡å®š</p>
<pre><code class="hljs language-js" lang="js">sudo docker run -d --name nginx -v /webapp/<span class="hljs-attr">html</span>:<span class="hljs-regexp">/usr/</span>share/nginx/html <span class="hljs-attr">nginx</span>:<span class="hljs-number">1.12</span>
        <span class="hljs-string">"Mounts"</span>: [
            {
                <span class="hljs-string">"Type"</span>: <span class="hljs-string">"bind"</span>,
                <span class="hljs-string">"Source"</span>: <span class="hljs-string">"/webapp/html"</span>,
                <span class="hljs-string">"Destination"</span>: <span class="hljs-string">"/usr/share/nginx/html"</span>,
                <span class="hljs-string">"Mode"</span>: <span class="hljs-string">""</span>,
                <span class="hljs-string">"RW"</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-string">"Propagation"</span>: <span class="hljs-string">"rprivate"</span>
            }
        ],
    
sudo docker run -d --name webapp -v /webapp/storage <span class="hljs-attr">webapp</span>:latest
            <span class="hljs-string">"Mounts"</span>: [
            {
                <span class="hljs-string">"Type"</span>: <span class="hljs-string">"volume"</span>,
                <span class="hljs-string">"Name"</span>: <span class="hljs-string">"2bbd2719b81fbe030e6f446243386d763ef25879ec82bb60c9be7ef7f3a25336"</span>,
                <span class="hljs-string">"Source"</span>: <span class="hljs-string">"/var/lib/docker/volumes/2bbd2719b81fbe030e6f446243386d763ef25879ec82bb60c9be7ef7f3a25336/_data"</span>,
                <span class="hljs-string">"Destination"</span>: <span class="hljs-string">"/webapp/storage"</span>,
                <span class="hljs-string">"Driver"</span>: <span class="hljs-string">"local"</span>,
                <span class="hljs-string">"Mode"</span>: <span class="hljs-string">""</span>,
                <span class="hljs-string">"RW"</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-string">"Propagation"</span>: <span class="hljs-string">""</span>
            }
        ],
</code></pre>
<h4 data-id="heading-12">å…±ç”¨æ•°æ®å·</h4>
<pre><code class="hljs language-js" lang="js">sudo docker run -d --name webapp -v <span class="hljs-attr">html</span>:<span class="hljs-regexp">/webapp/</span>html <span class="hljs-attr">webapp</span>:latest

</code></pre>
<h4 data-id="heading-13">å¤‡ä»½å’Œè¿ç§»æ•°æ®å·</h4>
<pre><code class="hljs language-js" lang="js">    sudo docker create --name appdata -v /webapp/storage ubuntu 
    sudo docker run -d --name webapp --volumes-<span class="hljs-keyword">from</span> appdata <span class="hljs-attr">webapp</span>:latest 
æ‰“åŒ…
    sudo docker run --rm --volumes-<span class="hljs-keyword">from</span> appdata -v /<span class="hljs-attr">backup</span>:<span class="hljs-regexp">/backup ubuntu tar cvf /</span>backup/backup.<span class="hljs-property">tar</span> /webapp/storage 
è§£å‹
    sudo docker run --rm --volumes-<span class="hljs-keyword">from</span> appdata -v /<span class="hljs-attr">backup</span>:<span class="hljs-regexp">/backup ubuntu tar xvf /</span>backup/backup.<span class="hljs-property">tar</span> -C /webapp/storage --strip
å¤æ‚æŒ‚åœ¨ å¤šç›®å½• å¤šç±»å‹ å¤šç”¨é€” --mount
    $ sudo docker run -d --name webapp <span class="hljs-attr">webapp</span>:latest --mount <span class="hljs-string">'type=volume,src=appdata,dst=/webapp/storage,volume-driver=local,volume-opt=type=nfs,volume-opt=device=&lt;nfs-server&gt;:&lt;nfs-path&gt;'</span> <span class="hljs-attr">webapp</span>:latest

</code></pre>
<h4 data-id="heading-14">ä¿å­˜å’Œå…±äº«é•œåƒ</h4>
<pre><code class="hljs language-js" lang="js">docker run -it --name busybox -t <span class="hljs-attr">busybox</span>:unstable-musl sh -c <span class="hljs-string">"export"</span>
docker commit busybox
docker commit -m <span class="hljs-string">"Configured"</span> busybox
docker tag f3d8e95b96aae <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span>
docker tag <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span> <span class="hljs-attr">busybox</span>:<span class="hljs-number">2.0</span>
docker images
docker commit -m <span class="hljs-string">"Upgrade test"</span> busybox <span class="hljs-attr">busybox</span>:<span class="hljs-number">3.0</span>
docker save <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span>&gt;<span class="hljs-regexp">/home/</span>liweihai/busybox-<span class="hljs-number">1.0</span>.<span class="hljs-property">tar</span>
docker save  <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span> -o /home/liweihai/busybox-<span class="hljs-number">1.1</span>.<span class="hljs-property">tar</span>
docker images
docker rmi <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span>
docker load &lt; <span class="hljs-regexp">/home/</span>liweihai/busybox-<span class="hljs-number">1.1</span>.<span class="hljs-property">tar</span>
docker load -i /home/liweihai/busybox-<span class="hljs-number">1.1</span>.<span class="hljs-property">tar</span>
docker images                                   
docker save -o  /home/liweihai/images.<span class="hljs-property">tar</span> <span class="hljs-attr">busybox</span>:<span class="hljs-number">2.0</span> <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span> <span class="hljs-attr">busybox</span>:<span class="hljs-number">3.0</span>
docker <span class="hljs-keyword">export</span> -o <span class="hljs-attr">busybox</span>:<span class="hljs-number">1.0</span> /home/liweihai/busybox-<span class="hljs-number">1.1</span>.<span class="hljs-property">tar</span>
docker <span class="hljs-keyword">import</span> /home/liweihai/busybox-<span class="hljs-number">1.1</span>.<span class="hljs-property">tar</span> <span class="hljs-attr">webapp</span>:<span class="hljs-number">1.0</span>
                 
</code></pre>
<h4 data-id="heading-15">Dockerfile æŒ‡ä»¤</h4>
<p>åŸºç¡€æŒ‡ä»¤ã€æ§åˆ¶æŒ‡ä»¤ã€å¼•å…¥æŒ‡ä»¤ã€æ‰§è¡ŒæŒ‡ä»¤ã€é…ç½®æŒ‡ä»¤</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">FROM</span> &lt;image&gt; [<span class="hljs-variable constant_">AS</span> &lt;name&gt;]
<span class="hljs-variable constant_">FROM</span> &lt;image&gt;[:&lt;tag&gt;] [<span class="hljs-variable constant_">AS</span> &lt;name&gt;]
<span class="hljs-variable constant_">FROM</span> &lt;image&gt;[@&lt;digest&gt;] [<span class="hljs-variable constant_">AS</span> &lt;name&gt;]

<span class="hljs-variable constant_">RUN</span> &lt;command&gt;
<span class="hljs-variable constant_">RUN</span> [<span class="hljs-string">"executable"</span>, <span class="hljs-string">"param1"</span>, <span class="hljs-string">"param2"</span>]

<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"executable"</span>,<span class="hljs-string">"param1"</span>,<span class="hljs-string">"param2"</span>]
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"param1"</span>,<span class="hljs-string">"param2"</span>]
<span class="hljs-variable constant_">CMD</span> command param1 param2

<span class="hljs-variable constant_">ENTRYPOINT</span> [<span class="hljs-string">"executable"</span>, <span class="hljs-string">"param1"</span>, <span class="hljs-string">"param2"</span>]
<span class="hljs-variable constant_">ENTRYPOINT</span> command param1 param2

<span class="hljs-variable constant_">COPY</span> [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;
<span class="hljs-variable constant_">ADD</span> [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;

<span class="hljs-variable constant_">COPY</span> [--chown=&lt;user&gt;:&lt;group&gt;] [<span class="hljs-string">"&lt;src&gt;"</span>,... <span class="hljs-string">"&lt;dest&gt;"</span>]
<span class="hljs-variable constant_">ADD</span> [--chown=&lt;user&gt;:&lt;group&gt;] [<span class="hljs-string">"&lt;src&gt;"</span>,... <span class="hljs-string">"&lt;dest&gt;"</span>]

<span class="hljs-variable constant_">EXPOSE</span> &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]

    
<span class="hljs-variable constant_">VOLUME</span> [<span class="hljs-string">"/data"</span>]
</code></pre>
<p><code>  å½“ENTRYPOINT ä¸ CMD åŒæ—¶ç»™å‡ºæ—¶ï¼ŒCMD ä¸­çš„å†…å®¹ä¼šä½œä¸º ENTRYPOINT å®šä¹‰å‘½ä»¤çš„å‚æ•°ï¼Œæœ€ç»ˆæ‰§è¡Œå®¹å™¨å¯åŠ¨çš„è¿˜æ˜¯ ENTRYPOINT ä¸­ç»™å‡ºçš„å‘½ä»¤ä¸­</code><br/>
<code>COPYå’ŒADD æ–‡ä»¶æ–‡ä»¶å¤¹å¿…é¡»å’ŒDockerfileåŒçº§ç›®å½•</code></p>
<pre><code class="hljs language-js" lang="js">docker build ./webapp
docker build -t containerName .
docker build -t=containerName .
docker build -t <span class="hljs-attr">webapp</span>:latest -f ./webapp/a.<span class="hljs-property">Dockerfile</span> ./webapp
docker build -t <span class="hljs-attr">webapp</span>:latest ./webapp
</code></pre>
<p><code>-f Dockerfile æ–‡ä»¶çš„è·¯å¾„ -t ç”Ÿæˆé•œåƒçš„åç§°</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">debian</span>:stretch-slim
<span class="hljs-variable constant_">ARG</span> <span class="hljs-variable constant_">TOMCAT_MAJOR</span>
<span class="hljs-variable constant_">ARG</span> <span class="hljs-variable constant_">TOMCAT_VERSION</span>
<span class="hljs-variable constant_">RUN</span> wget -O tomcat.<span class="hljs-property">tar</span>.<span class="hljs-property">gz</span> <span class="hljs-string">"https://www.apache.org/dyn/closer.cgi?action=download&amp;filename=tomcat/tomcat-$TOMCAT_MAJOR/v$TOMCAT_VERSION/bin/apache-tomcat-$TOMCAT_VERSION.tar.gz"</span>
</code></pre>
<p><code> </code>ARG<code>æŒ‡ä»¤å®šä¹‰ä¸ºå‚æ•°å˜é‡</code>--build-arg<code>Â é€‰é¡¹æ¥è®¾ç½®å‚æ•°å˜é‡</code></p>
<pre><code class="hljs language-js" lang="js">docker build --build-arg <span class="hljs-variable constant_">TOMCAT_MAJOR</span>=<span class="hljs-number">8</span> --build-arg <span class="hljs-variable constant_">TOMCAT_VERSION</span>=<span class="hljs-number">8.0</span><span class="hljs-number">.53</span> -t <span class="hljs-attr">tomcat</span>:<span class="hljs-number">8.0</span> ./tomcat
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">debian</span>:stretch-slim
<span class="hljs-variable constant_">ENV</span> <span class="hljs-variable constant_">TOMCAT_MAJOR</span> <span class="hljs-number">8</span>
<span class="hljs-variable constant_">ENV</span> <span class="hljs-variable constant_">TOMCAT_VERSION</span> <span class="hljs-number">8.0</span><span class="hljs-number">.53</span>
<span class="hljs-variable constant_">RUN</span> wget -O tomcat.<span class="hljs-property">tar</span>.<span class="hljs-property">gz</span> <span class="hljs-string">"https://www.apache.org/dyn/closer.cgi?action=download&amp;filename=tomcat/tomcat-$TOMCAT_MAJOR/v$TOMCAT_VERSION/bin/apache-tomcat-$TOMCAT_VERSION.tar.gz"</span>
</code></pre>
<p><code>Â </code>-e<code>Â æˆ–æ˜¯Â </code>--env<code>Â å¯¹ç¯å¢ƒå˜é‡çš„å€¼è¿›è¡Œä¿®æ”¹æˆ–é‡æ–°å®šä¹‰ï¼Œé‡‡ç”¨ $ + NAME è¿™ç§å½¢å¼æ¥å ä½ENV æŒ‡ä»¤æ‰€å®šä¹‰çš„å˜é‡ï¼Œæ°¸è¿œä¼šè¦†ç›– ARG æ‰€å®šä¹‰çš„å˜é‡</code></p>
<pre><code class="hljs language-js" lang="js">docker run -e <span class="hljs-variable constant_">MYSQL_ROOT_PASSWORD</span>=my-secret-pw -d <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">RUN</span> apt-get update; \
apt-get install -y --no-install-recommends $fetchDeps; \
rm -rf /<span class="hljs-keyword">var</span>/lib/apt/lists<span class="hljs-comment">/*;
</span></code></pre>
<p><code>ä¸Šä¸‹ä¸¤å—ä»£ç ä¸€æ ·åŒºåˆ«ä¸º åˆå¹¶ å’Œæ‹†åˆ† ä¸€æ¡å¤šæ¡</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable constant_">RUN</span> apt-get update
<span class="hljs-variable constant_">RUN</span> apt-get install -y --no-install-recommends $fetchDeps
<span class="hljs-variable constant_">RUN</span> rm -rf /<span class="hljs-keyword">var</span>/lib/apt/lists<span class="hljs-comment">/*
</span></code></pre>
<blockquote>
<p>åˆå¹¶åˆ°ä¸€æ¡æŒ‡ä»¤ä¸­ï¼Œå› å‡å°‘äº†é•œåƒå±‚çš„æ•°é‡ï¼Œä¹Ÿå‡å°‘äº†é•œåƒæ„å»ºè¿‡ç¨‹ä¸­åå¤åˆ›å»ºå®¹å™¨çš„æ¬¡æ•°ï¼Œæé«˜äº†é•œåƒæ„å»ºçš„é€Ÿåº¦ã€‚</p>
</blockquote>
<p><code>$ sudo docker build --no-cache ./webapp </code> ç¦ç”¨ç¼“å­˜</p>



















































<table><thead><tr><th align="left">ENTRYPOINT</th><th align="left">CMD</th><th align="left">å®é™…æ‰§è¡Œ</th></tr></thead><tbody><tr><td align="left">ENTRYPOINT ["/bin/ep", "arge"]</td><td align="left"/><td align="left">/bin/ep arge</td></tr><tr><td align="left">ENTRYPOINT /bin/ep arge</td><td align="left"/><td align="left">/bin/sh -c /bin/ep arge</td></tr><tr><td align="left"/><td align="left">CMD ["/bin/exec", "args"]</td><td align="left">/bin/exec args</td></tr><tr><td align="left"/><td align="left">CMD /bin/exec args</td><td align="left">/bin/sh -c /bin/exec args</td></tr><tr><td align="left">ENTRYPOINT ["/bin/ep", "arge"]</td><td align="left">CMD ["/bin/exec", "argc"]</td><td align="left">/bin/ep arge /bin/exec argc</td></tr><tr><td align="left">ENTRYPOINT ["/bin/ep", "arge"]</td><td align="left">CMD /bin/exec args</td><td align="left">/bin/ep arge /bin/sh -c /bin/exec args</td></tr><tr><td align="left">ENTRYPOINT /bin/ep arge</td><td align="left">CMD ["/bin/exec", "argc"]</td><td align="left">/bin/sh -c /bin/ep arge /bin/exec argc</td></tr><tr><td align="left">ENTRYPOINT /bin/ep arge</td><td align="left">CMD /bin/exec args</td><td align="left">/bin/sh -c /bin/ep arge /bin/sh -c /bin/exec args</td><td/></tr></tbody></table>
<p><code>ENTRYPOINT å’Œ CMDçš„ä¸åŒã€‚ENTRYPOINT æŒ‡ä»¤ä¸»è¦åˆå§‹åŒ–ï¼Œ CMD æŒ‡ä»¤åˆ™å®šä¹‰å®¹å™¨ä¸­ä¸»ç¨‹åºçš„å¯åŠ¨å‘½ä»¤</code></p>
<blockquote>
<p>åˆ›å»ºå®¹å™¨æ—¶å¯ä»¥æ”¹å†™å®¹å™¨ä¸»ç¨‹åºçš„å¯åŠ¨å‘½ä»¤ï¼Œè€Œè¿™ä¸ªè¦†ç›–åªä¼šè¦†ç›– CMD ä¸­å®šä¹‰çš„å†…å®¹ï¼Œè€Œä¸ä¼šå½±å“ ENTRYPOINT ä¸­çš„å†…å®¹ã€‚</p>
</blockquote>
<blockquote>
<p><code>exec "$@"</code>ã€‚åœ¨å¾ˆå¤šé•œåƒçš„ ENTRYPOINT è„šæœ¬é‡Œï¼Œæˆ‘ä»¬éƒ½ä¼šçœ‹åˆ°è¿™æ¡å‘½ä»¤ï¼Œå…¶ä½œç”¨å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œè€Œè¿è¡Œå‘½ä»¤å°±æ˜¯ ENTRYPOINT è„šæœ¬çš„å‚æ•°ã€‚åè¿‡æ¥ï¼Œç”±äº ENTRYPOINT è„šæœ¬çš„å‚æ•°å°±æ˜¯ CMD æŒ‡ä»¤ä¸­çš„å†…å®¹ï¼Œæ‰€ä»¥å®é™…æ‰§è¡Œçš„å°±æ˜¯ CMD é‡Œçš„å‘½ä»¤ã€‚</p>
</blockquote>
<h4 data-id="heading-16">Docker Compose</h4>
<pre><code class="hljs language-js" lang="js">curl -L <span class="hljs-string">"https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m)"</span> -o /usr/local/bin/docker-compose
curl -L <span class="hljs-string">"https://github.com/docker/compose/releases/download/v2.37.0/docker-compose-linux-x86_64"</span> -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
<span class="hljs-comment">//æ›¿æ¢ç‰ˆæœ¬å·æ›¿æ¢å˜é‡</span>
curl -L <span class="hljs-string">"https://github.com/docker/compose/releases/download/v2.37.0/docker-compose-linux-x86_64"</span> --proxy <span class="hljs-attr">http</span>:<span class="hljs-comment">//192.168.131.1:9665 -o /usr/local/bin/docker-compose</span>
 ä½¿ç”¨ä»£ç†

docker-compose version
docker-compose version <span class="hljs-number">1.21</span><span class="hljs-number">.2</span>, build a133471
docker-py <span class="hljs-attr">version</span>: <span class="hljs-number">3.3</span><span class="hljs-number">.0</span>
<span class="hljs-title class_">CPython</span> <span class="hljs-attr">version</span>: <span class="hljs-number">3.6</span><span class="hljs-number">.5</span>
<span class="hljs-title class_">OpenSSL</span> <span class="hljs-attr">version</span>: <span class="hljs-title class_">OpenSSL</span> <span class="hljs-number">1.0</span>.1t  <span class="hljs-number">3</span> <span class="hljs-title class_">May</span> <span class="hljs-number">2016</span>
    
ä½¿ç”¨pip å®‰è£…docker-compose
sudo apt update
sudo apt install  python3 python3-pip -y
   
</code></pre>
<pre><code class="hljs language-js" lang="js">    sudo mkdir dockerfile
    cd dockerfile/
    sudo vim docker-compose.<span class="hljs-property">yml</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">version</span>: <span class="hljs-string">'3'</span>

<span class="hljs-attr">services</span>:

  <span class="hljs-attr">webapp</span>:
    <span class="hljs-attr">build</span>: ./image/webapp
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"5000:5000"</span>
    <span class="hljs-attr">volumes</span>:
      - ./<span class="hljs-attr">code</span>:/code
      - <span class="hljs-attr">logvolume</span>:<span class="hljs-regexp">/var/</span>log
    <span class="hljs-attr">links</span>:
      - mysql
      - redis

  <span class="hljs-attr">redis</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">redis</span>:<span class="hljs-number">3.2</span>
  
  <span class="hljs-attr">mysql</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
    <span class="hljs-attr">environment</span>:
      - <span class="hljs-variable constant_">MYSQL_ROOT_PASSWORD</span>=my-secret-pw

<span class="hljs-attr">volumes</span>:
  <span class="hljs-attr">logvolume</span>: {}

</code></pre>
<pre><code class="hljs language-js" lang="js">    sudo docker-compose up -d
    sudo docker-compose down
    $ sudo docker-compose -f ./compose/docker-compose.<span class="hljs-property">yml</span> -p myapp up -d

</code></pre>
<blockquote>
<p>é€‰é¡¹Â <code>-f</code>Â æ¥ä¿®æ”¹è¯†åˆ«Docker Composeé…ç½®æ–‡ä»¶ï¼ŒÂ <code>-p</code>Â å®šä¹‰é¡¹ç›®åã€‚
æ—¥å¿— docker logs  docker-compose logs</p>
</blockquote>
<p>docker-compose æ¡ˆä¾‹</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>

<span class="hljs-attr">services</span>:

  <span class="hljs-attr">redis</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">redis</span>:<span class="hljs-number">3.2</span>
    <span class="hljs-attr">networks</span>:
      - backend
    <span class="hljs-attr">volumes</span>:
      - ./redis/redis.<span class="hljs-property">conf</span>:<span class="hljs-regexp">/etc/</span>redis.<span class="hljs-property">conf</span>:ro
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"6379:6379"</span>
    <span class="hljs-attr">command</span>: [<span class="hljs-string">"redis-server"</span>, <span class="hljs-string">"/etc/redis.conf"</span>]

  <span class="hljs-attr">database</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
    <span class="hljs-attr">networks</span>:
      - backend
    <span class="hljs-attr">volumes</span>:
      - ./mysql/my.<span class="hljs-property">cnf</span>:<span class="hljs-regexp">/etc/my</span>sql/my.<span class="hljs-property">cnf</span>:ro
      - mysql-<span class="hljs-attr">data</span>:<span class="hljs-regexp">/var/</span>lib/mysql
    <span class="hljs-attr">environment</span>:
      - <span class="hljs-variable constant_">MYSQL_ROOT_PASSWORD</span>=my-secret-pw
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"3306:3306"</span>

  <span class="hljs-attr">webapp</span>:
    <span class="hljs-attr">build</span>: ./webapp
    <span class="hljs-attr">networks</span>:
      - frontend
      - backend
    <span class="hljs-attr">volumes</span>:
      - ./<span class="hljs-attr">webapp</span>:/webapp
    <span class="hljs-attr">depends_on</span>:
      - redis
      - database

  <span class="hljs-attr">nginx</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">nginx</span>:<span class="hljs-number">1.12</span>
    <span class="hljs-attr">networks</span>:
      - frontend
    <span class="hljs-attr">volumes</span>:
      - ./nginx/nginx.<span class="hljs-property">conf</span>:<span class="hljs-regexp">/etc/</span>nginx/nginx.<span class="hljs-property">conf</span>:ro
      - ./nginx/conf.<span class="hljs-property">d</span>:<span class="hljs-regexp">/etc/</span>nginx/conf.<span class="hljs-property">d</span>:ro
      - ./webapp/<span class="hljs-attr">html</span>:<span class="hljs-regexp">/webapp/</span>html
    <span class="hljs-attr">depends_on</span>:
      - webapp
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"80:80"</span>
      - <span class="hljs-string">"443:443"</span>

<span class="hljs-attr">networks</span>:
  <span class="hljs-attr">frontend</span>:
  <span class="hljs-attr">backend</span>:

<span class="hljs-attr">volumes</span>:
  mysql-<span class="hljs-attr">data</span>:

</code></pre>
<pre><code class="hljs language-js" lang="js">    ## ......
  <span class="hljs-attr">webapp</span>:
    <span class="hljs-attr">build</span>:
      <span class="hljs-attr">context</span>: ./webapp
      <span class="hljs-attr">dockerfile</span>: webapp-dockerfile
      <span class="hljs-attr">args</span>:
        - <span class="hljs-variable constant_">JAVA_VERSION</span>=<span class="hljs-number">1.6</span>
## ......

</code></pre>
<p><code>å‘ŠçŸ¥ Docker Compose å®¹å™¨çš„å…ˆåå¯åŠ¨é¡ºåº depends_on è¿™ä¸ªé…ç½®é¡¹</code></p>
<blockquote>
<p>ç”¨ Map çš„å½¢å¼æ¥å®šä¹‰ buildï¼Œåœ¨è¿™ç§æ ¼å¼ä¸‹ï¼Œæˆ‘ä»¬èƒ½å¤ŸæŒ‡å®šæ›´å¤šçš„é•œåƒæ„å»ºå‚æ•°ï¼Œä¾‹å¦‚ Dockerfile çš„æ–‡ä»¶åï¼Œæ„å»ºå‚æ•°ç­‰ç­‰</p>
</blockquote>
<pre><code class="hljs language-js" lang="js">## ......
<span class="hljs-attr">volumes</span>:
  mysql-<span class="hljs-attr">data</span>:
    <span class="hljs-attr">external</span>: <span class="hljs-literal">true</span>
## ......
&gt; å¦‚æœæˆ‘ä»¬æƒ³æŠŠå±äº <span class="hljs-title class_">Docker</span> <span class="hljs-title class_">Compose</span> é¡¹ç›®ä»¥å¤–çš„æ•°æ®å·å¼•å…¥è¿›æ¥ç›´æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®å·å®šä¹‰ä¸ºå¤–éƒ¨å¼•å…¥ï¼Œé€šè¿‡ external è¿™ä¸ªé…ç½®å°±èƒ½å®Œæˆè¿™ä¸ªå®šä¹‰
</code></pre>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">networks</span>:
  <span class="hljs-attr">frontend</span>:
    <span class="hljs-attr">driver</span>: bridge
    <span class="hljs-attr">ipam</span>:
      <span class="hljs-attr">driver</span>: <span class="hljs-keyword">default</span>
      <span class="hljs-attr">config</span>:
        - <span class="hljs-attr">subnet</span>: <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>/<span class="hljs-number">24</span>
## ......
&gt; å£°æ˜ frontend å’Œ backend è¿™ä¸¤ä¸ªç½‘ç»œæœ€ç®€å•çš„æ–¹å¼ã€‚
</code></pre>
<p><code>Docker Compose çš„æ¯ä¸ªæœåŠ¡é…ç½®é‡Œï¼Œ ports é…ç½®é¡¹ï¼Œå®ƒæ˜¯ç”¨æ¥å®šä¹‰ç«¯å£æ˜ å°„çš„ã€‚</code></p>
<p>docker-compose.yml é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>

<span class="hljs-attr">networks</span>:
  <span class="hljs-attr">frontend</span>:
  <span class="hljs-attr">backend</span>:

<span class="hljs-attr">services</span>:

  <span class="hljs-attr">redis</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">redis</span>:<span class="hljs-number">3.2</span>
    <span class="hljs-attr">networks</span>:
      - backend
    <span class="hljs-attr">volumes</span>:
      - ../redis/redis.<span class="hljs-property">conf</span>:<span class="hljs-regexp">/etc/</span>redis/redis.<span class="hljs-property">conf</span>:ro
      - ../redis/<span class="hljs-attr">data</span>:/data
    <span class="hljs-attr">command</span>: [<span class="hljs-string">"redis-server"</span>, <span class="hljs-string">"/etc/redis/redis.conf"</span>]
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"6379:6379"</span>

  <span class="hljs-attr">mysql</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
    <span class="hljs-attr">networks</span>:
      - backend
    <span class="hljs-attr">volumes</span>:
      - ../mysql/my.<span class="hljs-property">cnf</span>:<span class="hljs-regexp">/etc/my</span>sql/my.<span class="hljs-property">cnf</span>:ro
      - ../mysql/<span class="hljs-attr">data</span>:<span class="hljs-regexp">/var/</span>lib/mysql
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD</span>: my-secret-pw
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"3306:3306"</span>

  <span class="hljs-attr">phpfpm</span>:
    <span class="hljs-attr">build</span>: ./phpfpm
    <span class="hljs-attr">networks</span>:
      - frontend
      - backend
    <span class="hljs-attr">volumes</span>:
      - ../phpfpm/php.<span class="hljs-property">ini</span>:<span class="hljs-regexp">/usr/</span>local/etc/php/php.<span class="hljs-property">ini</span>:ro
      - ../phpfpm/php-fpm.<span class="hljs-property">conf</span>:<span class="hljs-regexp">/usr/</span>local/etc/php-fpm.<span class="hljs-property">conf</span>:ro
      - ../phpfpm/php-fpm.<span class="hljs-property">d</span>:<span class="hljs-regexp">/usr/</span>local/etc/php-fpm.<span class="hljs-property">d</span>:ro
      - ../phpfpm/<span class="hljs-attr">crontab</span>:<span class="hljs-regexp">/etc/</span><span class="hljs-attr">crontab</span>:ro
      - ../<span class="hljs-attr">website</span>:/website
    <span class="hljs-attr">depends_on</span>:
      - redis
      - mysql
  
  <span class="hljs-attr">nginx</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">nginx</span>:<span class="hljs-number">1.12</span>
    <span class="hljs-attr">networks</span>:
      - frontend
    <span class="hljs-attr">volumes</span>:
      - ../nginx/nginx.<span class="hljs-property">conf</span>:<span class="hljs-regexp">/etc/</span>nginx/nginx.<span class="hljs-property">conf</span>:ro
      - ../nginx/conf.<span class="hljs-property">d</span>:<span class="hljs-regexp">/etc/</span>nginx/conf.<span class="hljs-property">d</span>:ro
      - ../<span class="hljs-attr">website</span>:/website
    <span class="hljs-attr">depends_on</span>:
      - phpfpm
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"80:80"</span>

</code></pre>
<blockquote>
<p>åœ¨å‡†å¤‡å¥½è¿™äº›ä¹‹åï¼Œå¼€å§‹ç¼–å†™æ„å»º PHP é•œåƒçš„ Dockerfile æ–‡ä»¶ã€‚</p>
</blockquote>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">php</span>:<span class="hljs-number">7.2</span>-fpm

<span class="hljs-variable constant_">MAINTAINER</span> <span class="hljs-title class_">You</span> <span class="hljs-title class_">Ming</span> &lt;youming@funcuter.<span class="hljs-property">org</span>&gt;

<span class="hljs-variable constant_">RUN</span> apt-get update \
 &amp;&amp; apt-get install -y --no-install-recommends cron

<span class="hljs-variable constant_">RUN</span> docker-php-ext-install pdo_mysql

<span class="hljs-variable constant_">COPY</span> docker-entrypoint.<span class="hljs-property">sh</span> /usr/local/bin/

<span class="hljs-variable constant_">RUN</span> chmod +x /usr/local/bin/docker-entrypoint.<span class="hljs-property">sh</span>

<span class="hljs-variable constant_">ENTRYPOINT</span> [<span class="hljs-string">"docker-entrypoint.sh"</span>]

<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"php-fpm"</span>]

</code></pre>
<p>docker-entrypoint.sh</p>
<pre><code class="hljs language-js" lang="js">    #!<span class="hljs-regexp">/bin/</span>bash

service cron start

exec <span class="hljs-string">"$@"</span>

</code></pre>
<p><code>è„šæœ¬çš„æœ€åçœ‹åˆ°çš„æ˜¯Â </code>exec "<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">@</mi><mi mathvariant="normal">"</mi><mi mathvariant="normal">â€˜</mi><mtext>Â è¿™è¡Œå‘½ä»¤ã€‚</mtext><mi mathvariant="normal">â€˜</mi></mrow><annotation encoding="application/x-tex">@"`Â è¿™è¡Œå‘½ä»¤ã€‚`</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">@"â€˜Â </span><span class="mord cjk_fallback">è¿™è¡Œå‘½ä»¤ã€‚</span><span class="mord">â€˜</span></span></span></span></span>@<code>Â æ˜¯ shell è„šæœ¬è·å–å‚æ•°çš„ç¬¦å·ï¼Œè¿™é‡Œè·å¾—çš„æ˜¯æ‰€æœ‰ä¼ å…¥è„šæœ¬çš„å‚æ•°ï¼Œè€Œ exec æ˜¯æ‰§è¡Œå‘½ä»¤ï¼Œç›´æ¥æ‰§è¡Œè¿™äº›å‚æ•°ã€‚</code></p>
<blockquote>
<p>$ sudo docker-compose -p website up -d</p>
</blockquote>
<p>ç¼–å†™ä¸€ä¸ª compose è„šæœ¬ï¼Œç”¨æ¥ç®€åŒ– docker-compose çš„æ“ä½œå‘½ä»¤ã€‚</p>
<pre><code class="hljs language-js" lang="js">$ sudo ./bin/compose up -d

$ sudo ./bin/compose logs nginx

$ sudo ./bin/compose down

</code></pre>
<pre><code class="hljs">å®æˆ˜
</code></pre>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>

<span class="hljs-attr">networks</span>:
  <span class="hljs-attr">backend</span>:
  <span class="hljs-attr">mesh</span>:

<span class="hljs-attr">services</span>:

  <span class="hljs-attr">mysql</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
    <span class="hljs-attr">networks</span>:
      - backend
    <span class="hljs-attr">volumes</span>:
      - ../mysql/my.<span class="hljs-property">cnf</span>:<span class="hljs-regexp">/etc/my</span>sql/my.<span class="hljs-property">cnf</span>:ro
      - ../mysql/<span class="hljs-attr">data</span>:<span class="hljs-regexp">/var/</span>lib/mysql
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD</span>: my-secret-pw
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-string">"3306:3306"</span>

  <span class="hljs-attr">app</span>:
    <span class="hljs-attr">build</span>: ./spring
    <span class="hljs-attr">networks</span>:
      - mesh
      - backend
    <span class="hljs-attr">volumes</span>:
      - ../<span class="hljs-attr">app</span>:/app
    <span class="hljs-attr">depends_on</span>:
      - mysql

</code></pre>
<p>sudo docker swarm init æ¥åŠ å…¥é›†ç¾¤
docker swarm join-token å‘½ä»¤æ¥è·å¾—ç®¡ç†èŠ‚ç‚¹çš„åŠ å…¥å‘½ä»¤ã€‚</p>
<pre><code class="hljs language-js" lang="js">    $ sudo docker swarm init

<span class="hljs-title class_">Swarm</span> <span class="hljs-attr">initialized</span>: current node (t4ydh2o5mwp5io2netepcauyl) is now a manager.

<span class="hljs-title class_">To</span> add a worker to <span class="hljs-variable language_">this</span> swarm, run the following <span class="hljs-attr">command</span>:

    docker swarm join --token <span class="hljs-variable constant_">SWMTKN</span>-<span class="hljs-number">1</span>-4dvxvx4n7magy5zh0g0de0xoues9azekw308jlv6hlvqwpriwy-cb43z26n5jbadk024tx0cqz5r <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.5</span>:<span class="hljs-number">2377</span>

$ sudo docker swarm join-token manager
<span class="hljs-title class_">To</span> add a manager to <span class="hljs-variable language_">this</span> swarm, run the following <span class="hljs-attr">command</span>:

    docker swarm join --token <span class="hljs-variable constant_">SWMTKN</span>-<span class="hljs-number">1</span>-60am9y6axwot0angn1e5inxrpzrj5d6aa91gx72f8et94wztm1-7lz0dth35wywekjd1qn30jtes <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.5</span>:<span class="hljs-number">2377</span>
</code></pre>
<h4 data-id="heading-17">å®šä¹‰é¡¹ç›®ç»“æ„</h4>
<ul>
<li>
<p>app ï¼šç”¨äºå­˜æ”¾ç¨‹åºå·¥ç¨‹ï¼Œå³ä»£ç ã€ç¼–è¯‘ç»“æœä»¥åŠç›¸å…³çš„åº“ã€å·¥å…·ç­‰ï¼›</p>
</li>
<li>
<p>compose ï¼šç”¨äºå®šä¹‰ Docker Compose é¡¹ç›®ï¼›</p>
</li>
<li>
<p>mysql ï¼šä¸ MySQL ç›¸å…³é…ç½®ç­‰å†…å®¹ï¼›</p>
</li>
<li>
<p>redis ï¼šä¸ Redis ç›¸å…³é…ç½®ç­‰å†…å®¹ï¼›</p>
</li>
<li>
<p>tomcat ï¼šä¸ Tomcat ç›¸å…³é…ç½®ç­‰å†…å®¹ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"># ./mysql/my.<span class="hljs-property">cnf</span>

[mysqld_safe]
pid-file = <span class="hljs-regexp">/var/</span>run/mysqld/mysqld.<span class="hljs-property">pid</span>
socket   = <span class="hljs-regexp">/var/</span>run/mysqld/mysqld.<span class="hljs-property">sock</span>
nice     = <span class="hljs-number">0</span>
[mysqld]
skip-host-cache
skip-name-resolve
explicit_defaults_for_timestamp
bind-address = <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>
port         = <span class="hljs-number">3306</span>
user      = mysql
pid-file  = <span class="hljs-regexp">/var/</span>run/mysqld/mysqld.<span class="hljs-property">pid</span>
socket    = <span class="hljs-regexp">/var/</span>run/mysqld/mysqld.<span class="hljs-property">sock</span>
log-error = <span class="hljs-regexp">/var/</span>log/mysql/error.<span class="hljs-property">log</span>
basedir   = /usr
datadir   = <span class="hljs-regexp">/var/</span>lib/mysql
tmpdir    = /tmp
sql_mode  = <span class="hljs-variable constant_">NO_ENGINE_SUBSTITUTION</span>,<span class="hljs-variable constant_">STRICT_TRANS_TABLES</span>
lc-messages-dir = <span class="hljs-regexp">/usr/</span>share/mysql
symbolic-links = <span class="hljs-number">0</span>
</code></pre>
<pre><code class="hljs language-js" lang="js">    # ./redis/redis.<span class="hljs-property">conf</span>
##...
################################## <span class="hljs-variable constant_">SECURITY</span> ###################################

# <span class="hljs-title class_">Require</span> clients to issue <span class="hljs-variable constant_">AUTH</span> &lt;<span class="hljs-variable constant_">PASSWORD</span>&gt; before processing any other
# commands.  <span class="hljs-title class_">This</span> might be useful <span class="hljs-keyword">in</span> environments <span class="hljs-keyword">in</span> which you <span class="hljs-keyword">do</span> not trust
# others <span class="hljs-keyword">with</span> access to the host running redis-server.
#
# <span class="hljs-title class_">This</span> should stay commented out <span class="hljs-keyword">for</span> backward compatibility and because most
# people <span class="hljs-keyword">do</span> not need auth (e.<span class="hljs-property">g</span>. they run their own servers).
#
# <span class="hljs-title class_">Warning</span>: since <span class="hljs-title class_">Redis</span> is pretty fast an outside user can <span class="hljs-keyword">try</span> up to
# 150k passwords per second against a good box. <span class="hljs-title class_">This</span> means that you should
# use a very strong password otherwise it will be very easy to <span class="hljs-keyword">break</span>.
#
requirepass my-secret-pw
##...

</code></pre>
<pre><code class="hljs language-js" lang="js">    è¦æ‹¿åˆ° <span class="hljs-title class_">Tomcat</span> ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ <span class="hljs-title class_">Tomcat</span> å®¹å™¨ã€‚
    # docker run --rm -d --name temp-tomcat <span class="hljs-attr">tomcat</span>:<span class="hljs-number">8.5</span> 

</code></pre>
<pre><code class="hljs language-js" lang="js">    # docker cp temp-<span class="hljs-attr">tomcat</span>:<span class="hljs-regexp">/usr/</span>local/tomcat/conf/server.<span class="hljs-property">xml</span> ./server.<span class="hljs-property">xml</span>

# docker cp temp-<span class="hljs-attr">tomcat</span>:<span class="hljs-regexp">/usr/</span>local/tomcat/conf/web.<span class="hljs-property">xml</span> ./web.<span class="hljs-property">xml</span>
# docker cp ./server.<span class="hljs-property">xml</span> temp-<span class="hljs-attr">tomcat</span>:<span class="hljs-regexp">/usr/</span>local/tomcat/conf/server.<span class="hljs-property">xml</span>
# docker stop temp-tomcat

</code></pre>
<blockquote>
<pre><code class="hljs">ç¼–å†™ Docker Compose å®šä¹‰æ–‡ä»¶
</code></pre>
</blockquote>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">version</span>: <span class="hljs-string">"3"</span>

<span class="hljs-attr">services</span>:

  <span class="hljs-attr">redis</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">redis</span>:<span class="hljs-number">3.2</span>
    <span class="hljs-attr">volumes</span>:
      - ../redis/redis.<span class="hljs-property">conf</span>:<span class="hljs-regexp">/etc/</span>redis/redis.<span class="hljs-property">conf</span>:ro
      - ../redis/<span class="hljs-attr">data</span>:/data
    <span class="hljs-attr">command</span>:
      - redis-server
      - <span class="hljs-regexp">/etc/</span>redis/redis.<span class="hljs-property">conf</span>
    <span class="hljs-attr">ports</span>:
     - <span class="hljs-number">6379</span>:<span class="hljs-number">6379</span>

  <span class="hljs-attr">mysql</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">mysql</span>:<span class="hljs-number">5.7</span>
    <span class="hljs-attr">volumes</span>:
      - ../mysql/my.<span class="hljs-property">cnf</span>:<span class="hljs-regexp">/etc/my</span>sql/my.<span class="hljs-property">cnf</span>:ro
      - ../mysql/<span class="hljs-attr">data</span>:<span class="hljs-regexp">/var/</span>lib/mysql
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD</span>: my-secret-pw
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-number">3306</span>:<span class="hljs-number">3306</span>

  <span class="hljs-attr">tomcat</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">tomcat</span>:<span class="hljs-number">8.5</span>
    <span class="hljs-attr">volumes</span>:
      - ../<span class="hljs-attr">app</span>:<span class="hljs-regexp">/usr/</span>local/tomcat/webapps/<span class="hljs-variable constant_">ROOT</span>
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-number">80</span>:<span class="hljs-number">8080</span>

</code></pre>
<pre><code class="hljs language-bash" lang="bash">åœ¨è¿™ä¸ªé¡¹ç›®é‡Œï¼Œæˆ‘å°† Redis å’Œ MySQL çš„æ•°æ®å­˜å‚¨ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ Redis å®¹å™¨ä¸­çš„ /data ç›®å½•å’Œ MySQL å®¹å™¨ä¸­çš„ /var/lib/mysql ç›®å½•é€šè¿‡æŒ‚è½½çš„æ–¹å¼ç»‘å®šåˆ°äº†å®¿ä¸»æœºä¸Šçš„ç›®å½•ä¸­ã€‚ è¿™ä¹ˆåšçš„ç›®çš„æ˜¯ä¸ºäº†è®© Redis å’Œ MySQL çš„æ•°æ®èƒ½å¤ŸæŒä¹…åŒ–å­˜å‚¨ï¼Œé¿å…æˆ‘ä»¬åœ¨åˆ›å»ºå’Œç§»é™¤å®¹å™¨æ—¶é€ æˆæ•°æ®çš„æµå¤±ã€‚
</code></pre>
<p>åŒæ—¶ï¼Œè¿™ç§å°†æ•°æ®æŒ‚è½½å‡ºæ¥çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥æ–¹ä¾¿æˆ‘ä»¬æ‰“åŒ…æ•°æ®å¹¶ä¼ é€ç»™å…¶ä»–å¼€å‘è€…ï¼Œæ–¹ä¾¿å¼€å‘è¿‡ç¨‹ä¸­è¿›è¡Œè”è°ƒã€‚</p>
<p>åœ¨ Tomcat è¿™ä¸ªæœåŠ¡ä¸­ï¼Œæˆ‘ä»¬å°†ç¨‹åºç›´æ¥æŒ‚è½½åˆ° webapps/ROOT ç›®å½•ä¸‹ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¤Ÿå€ŸåŠ© Tomcat è®¿é—®æˆ‘ä»¬çš„åº”ç”¨äº†ã€‚ å¦‚æœå¤§å®¶æœ‰å¤šä¸ªé¡¹ç›®ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œé€‚å½“è°ƒæ•´ï¼Œå°†å®ƒä»¬æŒ‚è½½åˆ° webapps ä¸‹é¢çš„å­ç›®å½•ä¸­ï¼Œå®ç°åŒæ—¶è®¿é—®å¤šä¸ªåº”ç”¨çš„ç›®çš„ã€‚</p>
<p>å¦å¤–ï¼Œè¿™é‡Œæˆ‘è¿˜æŠŠ Tomcat é»˜è®¤çš„ 8080 ç«¯å£æ˜ å°„åˆ°äº†å®¿ä¸»æœºçš„ 80 ç«¯å£ä¸Šï¼Œè¿™æ ·ä¾¿äºæˆ‘ä»¬ç›´æ¥é€šè¿‡åœ°å€è®¿é—®ç½‘ç«™ï¼Œä¸éœ€è¦ç»å¸¸äººå·¥è¡¥å……ç«¯å£å·äº†ã€‚
# docker-compose -p javaweb -f ./compose/docker-compose.yml up -d</p>
<h4 data-id="heading-18">ä½¿ç”¨ Docker Compose æ¨¡æ‹Ÿ Zookeeper é›†ç¾¤</h4>
<p>ç¼–å†™ docker-compose.yml</p>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-attr">version</span>: <span class="hljs-string">'3'</span>

<span class="hljs-attr">services</span>:

  <span class="hljs-attr">zk1</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">zookeeper</span>:<span class="hljs-number">3.4</span>
    <span class="hljs-attr">restart</span>: always
    <span class="hljs-attr">hostname</span>: zk1
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">ZOO_MY_ID</span>: <span class="hljs-number">1</span>
      <span class="hljs-attr">ZOO_SERVERS</span>: server<span class="hljs-number">.1</span>=<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.2</span>=<span class="hljs-attr">zk2</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.3</span>=<span class="hljs-attr">zk3</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span>
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-number">2181</span>:<span class="hljs-number">2181</span>

  <span class="hljs-attr">zk2</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">zookeeper</span>:<span class="hljs-number">3.4</span>
    <span class="hljs-attr">restart</span>: always
    <span class="hljs-attr">hostname</span>: zk2
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">ZOO_MY_ID</span>: <span class="hljs-number">2</span>
      <span class="hljs-attr">ZOO_SERVERS</span>: server<span class="hljs-number">.1</span>=<span class="hljs-attr">zk1</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.2</span>=<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.3</span>=<span class="hljs-attr">zk3</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span>
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-number">2182</span>:<span class="hljs-number">2181</span>

  <span class="hljs-attr">zk3</span>:
    <span class="hljs-attr">image</span>: <span class="hljs-attr">zookeeper</span>:<span class="hljs-number">3.4</span>
    <span class="hljs-attr">restart</span>: always
    <span class="hljs-attr">hostname</span>: zk3
    <span class="hljs-attr">environment</span>:
      <span class="hljs-attr">ZOO_MY_ID</span>: <span class="hljs-number">3</span>
      <span class="hljs-attr">ZOO_SERVERS</span>: server<span class="hljs-number">.1</span>=<span class="hljs-attr">zk1</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.2</span>=<span class="hljs-attr">zk2</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.3</span>=<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span>
    <span class="hljs-attr">ports</span>:
      - <span class="hljs-number">2183</span>:<span class="hljs-number">2181</span>

</code></pre>
<pre><code class="hljs language-js" lang="js">    server<span class="hljs-number">.1</span>=<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.2</span>=<span class="hljs-attr">zk2</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span> server<span class="hljs-number">.3</span>=<span class="hljs-attr">zk3</span>:<span class="hljs-number">2888</span>:<span class="hljs-number">3888</span>

</code></pre>
<blockquote>
<p>åœ¨é¡¹ç›®å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬è¿˜æ³¨æ„åˆ°äº† restart: always è¿™ä¸ªé…ç½®ï¼Œè¿™ä¸ªé…ç½®ä¸»è¦æ˜¯ç”¨æ¥æ§åˆ¶å®¹å™¨çš„é‡å¯ç­–ç•¥çš„ã€‚
å¯åŠ¨é¡¹ç›®
# ./bin/compose.sh up -d</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025-2031å…¨çƒä¸ä¸­å›½32ä½è½¦è§„çº§MCUèŠ¯ç‰‡å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿]]></title>    <link>https://juejin.cn/post/7581477397507932194</link>    <guid>https://juejin.cn/post/7581477397507932194</guid>    <pubDate>2025-12-09T06:48:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581477397507932194" data-draft-id="7581478953867411456" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025-2031å…¨çƒä¸ä¸­å›½32ä½è½¦è§„çº§MCUèŠ¯ç‰‡å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:48:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025-2031å…¨çƒä¸ä¸­å›½32ä½è½¦è§„çº§MCUèŠ¯ç‰‡å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:48:05.000Z" title="Tue Dec 09 2025 06:48:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ ¹æ®QYResearchï¼ˆæ’å·åšæ™ºï¼‰çš„ç»Ÿè®¡åŠé¢„æµ‹ï¼Œ2024å¹´å…¨çƒ32ä½è½¦è§„çº§MCUèŠ¯ç‰‡å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†9933.9ç™¾ä¸‡ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°19142.1ç™¾ä¸‡ç¾å…ƒï¼Œå¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º10.59%ï¼ˆ2025-2031ï¼‰ã€‚åœ°åŒºå±‚é¢æ¥çœ‹ï¼Œä¸­å›½å¸‚åœºåœ¨è¿‡å»å‡ å¹´å˜åŒ–è¾ƒå¿«ï¼Œ2024å¹´å¸‚åœºè§„æ¨¡ä¸º3861.54ç™¾ä¸‡ç¾å…ƒï¼Œçº¦å å…¨çƒçš„38.8%ï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°7737.3ç™¾ä¸‡ç¾å…ƒï¼Œå±Šæ—¶å…¨çƒå æ¯”å°†è¾¾åˆ°40.4%ã€‚
æ¶ˆè´¹å±‚é¢æ¥è¯´ï¼Œç›®å‰äºšå¤ªåœ°åŒºæ˜¯å…¨çƒæœ€å¤§çš„æ¶ˆè´¹å¸‚åœºï¼Œ2024å¹´å æœ‰50.59%çš„å¸‚åœºä»½é¢ï¼Œä¹‹åæ˜¯åŒ—ç¾å’Œæ¬§æ´²ï¼Œåˆ†åˆ«å æœ‰21.49%å’Œ24.19%ã€‚é¢„è®¡æœªæ¥å‡ å¹´ï¼Œäºšå¤ªåœ°åŒºå¢é•¿æœ€å¿«ï¼Œ2025-2031æœŸé—´CAGRå¤§çº¦ä¸º11.05%ã€‚
ä»äº§å“ç±»å‹æ–¹é¢æ¥çœ‹ï¼Œé«˜ç«¯å‹å æœ‰é‡è¦åœ°ä½ï¼Œé¢„è®¡2031å¹´ä»½é¢å°†è¾¾åˆ°41.86%ã€‚åŒæ—¶å°±åº”ç”¨æ¥çœ‹ï¼Œè½¦èº«æ§åˆ¶åœ¨2024å¹´ä»½é¢å¤§çº¦æ˜¯18.38%ï¼Œæœªæ¥å‡ å¹´CAGRå¤§çº¦ä¸º10.05%ã€‚
ä»ç”Ÿäº§å•†æ¥è¯´ï¼Œå…¨çƒèŒƒå›´å†…ï¼Œ32ä½è½¦è§„çº§MCUèŠ¯ç‰‡æ ¸å¿ƒå‚å•†ä¸»è¦åŒ…æ‹¬Texas Instrumentsã€STMicroelectronicsã€Microchip Technologyã€Infineon Technologieså’ŒNXP Semiconductorsç­‰ã€‚2024å¹´ï¼Œå…¨çƒç¬¬ä¸€æ¢¯é˜Ÿå‚å•†ä¸»è¦æœ‰Texas Instrumentsã€STMicroelectronicsã€Microchip Technologyã€Infineon Technologieså’ŒNXP Semiconductorsï¼Œç¬¬ä¸€æ¢¯é˜Ÿå æœ‰å¤§çº¦çš„å¸‚åœºä»½é¢88.13%
æœ¬æŠ¥å‘Šç ”ç©¶å…¨çƒä¸ä¸­å›½å¸‚åœº32ä½è½¦è§„çº§MCUèŠ¯ç‰‡çš„äº§èƒ½ã€äº§é‡ã€é”€é‡ã€é”€å”®é¢ã€ä»·æ ¼åŠæœªæ¥è¶‹åŠ¿ã€‚é‡ç‚¹åˆ†æå…¨çƒä¸ä¸­å›½å¸‚åœºçš„ä¸»è¦å‚å•†äº§å“ç‰¹ç‚¹ã€äº§å“è§„æ ¼ã€ä»·æ ¼ã€é”€é‡ã€é”€å”®æ”¶å…¥åŠå…¨çƒå’Œä¸­å›½å¸‚åœºä¸»è¦ç”Ÿäº§å•†çš„å¸‚åœºä»½é¢ã€‚å†å²æ•°æ®ä¸º2020è‡³2025å¹´ï¼Œé¢„æµ‹æ•°æ®ä¸º2025è‡³2031å¹´ã€‚</p>
<p>ä¸»è¦å‚å•†åŒ…æ‹¬ï¼š
ï®	Texas Instruments
ï®	STMicroelectronics
ï®	Microchip Technology
ï®	Infineon Technologies
ï®	NXP Semiconductors
ï®	Renesas Electronics
ï®	ä¸­å¾®åŠå¯¼ä½“
ï®	ä¸Šæµ·çªåŸ”ç»´åŠå¯¼ä½“
ï®	æ¯”äºšè¿ªåŠå¯¼ä½“
ï®	èŠ¯æ—ºå¾®ç”µå­
ï®	äº‘é€”åŠå¯¼ä½“
ï®	æ——èŠ¯å¾®åŠå¯¼ä½“
ï®	å›½èŠ¯ç§‘æŠ€
ï®	èˆªé¡ºèŠ¯ç‰‡
ï®	å…†æ˜“åˆ›æ–°
ï®	æ°å‘ç§‘æŠ€
ï®	èŠ¯é©°ç§‘æŠ€
ï®	æ–°å”ç§‘æŠ€
ï®	å›½æ°‘æŠ€æœ¯
ï®	çµåŠ¨å¾®ç”µå­
ï®	å‡Œé¸¥åˆ›èŠ¯
ï®	ææµ·åŠå¯¼ä½“
ï®	è‹±è¿ªèŠ¯å¾®
æŒ‰ç…§ä¸åŒäº§å“ç±»å‹ï¼ŒåŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªç±»åˆ«ï¼š
ï®	ä¸­ç«¯å’Œä½ç«¯å‹
ï®	é«˜ç«¯å‹
æŒ‰ç…§ä¸åŒåº”ç”¨ï¼Œä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
ï®	è½¦èº«æ§åˆ¶
ï®	åº•ç›˜æ§åˆ¶
ï®	åŠ¨åŠ›æ§åˆ¶
ï®	æ™ºèƒ½é©¾é©¶è¾…åŠ©ï¼ˆADASï¼‰
ï®	å…¶ä»–
é‡ç‚¹å…³æ³¨å¦‚ä¸‹å‡ ä¸ªåœ°åŒº
ï®	åŒ—ç¾
ï®	æ¬§æ´²
ï®	äºšå¤ªåœ°åŒº
ï®	æ‹‰ä¸ç¾æ´²
ï®	ä¸­ä¸œä¸éæ´²
æœ¬æ–‡æ­£æ–‡å…±10ç« ï¼Œå„ç« èŠ‚ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š
ï®	ç¬¬1ç« ï¼šæŠ¥å‘Šç»Ÿè®¡èŒƒå›´ã€äº§å“ç»†åˆ†åŠä¸»è¦çš„ä¸‹æ¸¸å¸‚åœºï¼Œè¡Œä¸šèƒŒæ™¯ã€å‘å±•å†å²ã€ç°çŠ¶åŠè¶‹åŠ¿ç­‰
ï®	ç¬¬2ç« ï¼šå…¨çƒæ€»ä½“è§„æ¨¡ï¼ˆäº§èƒ½ã€äº§é‡ã€é”€é‡ã€éœ€æ±‚é‡ã€é”€å”®æ”¶å…¥ç­‰æ•°æ®ï¼Œ2020-2031å¹´ï¼‰
ï®	ç¬¬3ç« ï¼šå…¨çƒèŒƒå›´å†…32ä½è½¦è§„çº§MCUèŠ¯ç‰‡ä¸»è¦å‚å•†ç«äº‰åˆ†æï¼Œä¸»è¦åŒ…æ‹¬32ä½è½¦è§„çº§MCUèŠ¯ç‰‡äº§èƒ½ã€é”€é‡ã€æ”¶å…¥ã€å¸‚åœºä»½é¢ã€ä»·æ ¼ã€äº§åœ°åŠè¡Œä¸šé›†ä¸­åº¦åˆ†æ
ï®	ç¬¬4ç« ï¼šå…¨çƒ32ä½è½¦è§„çº§MCUèŠ¯ç‰‡ä¸»è¦åœ°åŒºåˆ†æï¼ŒåŒ…æ‹¬é”€é‡ã€é”€å”®æ”¶å…¥ç­‰
ï®	ç¬¬5ç« ï¼šå…¨çƒ32ä½è½¦è§„çº§MCUèŠ¯ç‰‡ä¸»è¦å‚å•†åŸºæœ¬æƒ…å†µä»‹ç»ï¼ŒåŒ…æ‹¬å…¬å¸ç®€ä»‹ã€32ä½è½¦è§„çº§MCUèŠ¯ç‰‡äº§å“å‹å·ã€é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠæœ€æ–°åŠ¨æ€ç­‰
ï®	ç¬¬6ç« ï¼šå…¨çƒä¸åŒäº§å“ç±»å‹32ä½è½¦è§„çº§MCUèŠ¯ç‰‡é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠä»½é¢ç­‰
ï®	ç¬¬7ç« ï¼šå…¨çƒä¸åŒåº”ç”¨32ä½è½¦è§„çº§MCUèŠ¯ç‰‡é”€é‡ã€æ”¶å…¥ã€ä»·æ ¼åŠä»½é¢ç­‰
ï®	ç¬¬8ç« ï¼šäº§ä¸šé“¾ã€ä¸Šä¸‹æ¸¸åˆ†æã€é”€å”®æ¸ é“åˆ†æç­‰
ï®	ç¬¬9ç« ï¼šè¡Œä¸šåŠ¨æ€ã€å¢é•¿é©±åŠ¨å› ç´ ã€å‘å±•æœºé‡ã€æœ‰åˆ©å› ç´ ã€ä¸åˆ©åŠé˜»ç¢å› ç´ ã€è¡Œä¸šæ”¿ç­–ç­‰
ï®	ç¬¬10ç« ï¼šæŠ¥å‘Šç»“è®º</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025-2031å…¨çƒä¸ä¸­å›½åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿]]></title>    <link>https://juejin.cn/post/7581477397507915810</link>    <guid>https://juejin.cn/post/7581477397507915810</guid>    <pubDate>2025-12-09T06:47:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581477397507915810" data-draft-id="7581437632855162920" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025-2031å…¨çƒä¸ä¸­å›½åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2025-12-09T06:47:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QYResearchå¸‚åœºè°ƒç ”"/> <meta itemprop="url" content="https://juejin.cn/user/2201688502713011"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025-2031å…¨çƒä¸ä¸­å›½åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2201688502713011/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QYResearchå¸‚åœºè°ƒç ”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:47:44.000Z" title="Tue Dec 09 2025 06:47:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ ¹æ®QYResearchçš„ç»Ÿè®¡åŠé¢„æµ‹ï¼Œ2024å¹´å…¨çƒåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºé”€å”®é¢è¾¾åˆ°äº†29.98äº¿ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°52.60äº¿ç¾å…ƒï¼Œå¹´å¤åˆå¢é•¿ç‡ï¼ˆCAGRï¼‰ä¸º7.47%ï¼ˆ2025-2031ï¼‰ã€‚
åœ°åŒºå±‚é¢æ¥è¯´ï¼Œç›®å‰åŒ—ç¾æ˜¯å…¨çƒæœ€å¤§çš„å¸‚åœºï¼Œ2025å¹´å æœ‰29.22%çš„å¸‚åœºä»½é¢ï¼Œä¹‹åæ˜¯æ—¥æœ¬å’Œä¸­å›½å¤§é™†å¸‚åœºï¼Œåˆ†åˆ«å æœ‰21.2%å’Œ14.1%ã€‚é¢„è®¡æœªæ¥å‡ å¹´ï¼Œä¸­å›½å¢é•¿æœ€å¿«ï¼Œ2025-2031æœŸé—´CAGRå¤§çº¦ä¸º11.09%ã€‚
ä»ææ–™ç±»å‹æ–¹é¢æ¥çœ‹ï¼Œæ°§åŒ–é“é™¶ç“·å æœ‰é‡è¦åœ°ä½ï¼Œé¢„è®¡2031å¹´ä»½é¢å°†è¾¾åˆ°42.6%ã€‚åŒæ—¶å°±åº”ç”¨æ¥çœ‹ï¼ŒåŠå¯¼ä½“åˆ»èš€è®¾å¤‡åº”ç”¨æ¯”é‡æœ€å¤§ï¼Œ2024å¹´ä»½é¢å¤§çº¦æ˜¯36.1%ï¼Œæœªæ¥å‡ å¹´CAGRå¤§çº¦ä¸º7.48%ã€‚
å…¨çƒåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºçš„ç°çŠ¶å¯ä»¥æ¦‚æ‹¬ä¸ºâ€œè§„æ¨¡ä¸å¤§ä½†é«˜åº¦å…³é”®ã€ä¸æ™¶åœ†å‚èµ„æœ¬å¼€æ”¯ä¸å·¥è‰ºå¼ºåº¦å¼ºç›¸å…³â€ã€‚è¿™ç±»éƒ¨ä»¶é€šå¸¸ä»¥æ¶ˆè€—ä»¶/æ˜“æŸä»¶/å…³é”®åŠŸèƒ½ä»¶å½¢æ€åµŒå…¥å‰é“è®¾å¤‡çš„æ ¸å¿ƒè…”ä½“ä¸ä¼ è¾“ç³»ç»Ÿï¼ˆå¦‚ç­‰ç¦»å­ä½“åˆ»èš€/æ²‰ç§¯è…”ä½“å†…è¡¬ä¸ç¯ä»¶ã€æ‰¿è½½ä¸éš”çƒ­/ç»ç¼˜éƒ¨ä»¶ã€çœŸç©º/åŒ–å­¦ç¯å¢ƒä¸‹çš„ç»“æ„ä»¶ç­‰ï¼‰ï¼Œå…¶éœ€æ±‚ç”±ä¸¤æ¡ä¸»çº¿é©±åŠ¨ï¼šä¸€æ˜¯æ™¶åœ†å‚æ‰©äº§ä¸è®¾å¤‡æŠ•èµ„çš„å‘¨æœŸæ€§ï¼›äºŒæ˜¯åˆ¶ç¨‹å‡çº§å¸¦æ¥çš„å•æœºä»·å€¼é‡ä¸æ›´æ¢é¢‘æ¬¡ä¸Šå‡ã€‚ä»¥300mmäº§çº¿ä¸ºä¾‹ï¼ŒSEMI é¢„è®¡300mmæ™¶åœ†å‚è®¾å¤‡æ”¯å‡ºåœ¨2025å¹´å°†è¶…è¿‡1000äº¿ç¾å…ƒï¼Œå¹¶é¢„æµ‹2026â€“2028å¹´åˆè®¡æ”¯å‡ºè¾¾åˆ°çº¦3740äº¿ç¾å…ƒé‡çº§â€”â€”è¿™ç›´æ¥æŠ¬å‡äº†è®¾å¤‡ç«¯â€œè£…æœºé‡ + å­˜é‡ç»´æŠ¤â€å¯¹é«˜çº¯ã€è€ç­‰ç¦»å­ã€ä½é¢—ç²’çš„é™¶ç“·ç»“æ„ä»¶éœ€æ±‚ã€‚
åœ¨ä¸»è¦åº”ç”¨ä¸ç«äº‰æ€åŠ¿æ–¹é¢ï¼Œéœ€æ±‚æœ€â€œç¡¬â€çš„åœºæ™¯é€šå¸¸é›†ä¸­åœ¨å‰é“å…³é”®è®¾å¤‡ï¼ˆåˆ»èš€ã€å„ç±»è–„è†œæ²‰ç§¯ã€ç¦»å­æ³¨å…¥ã€çƒ­å¤„ç†/æ‰©æ•£ã€éƒ¨åˆ†å…‰åˆ»ç›¸å…³çš„çœŸç©º/ç»ç¼˜ç»“æ„ä»¶ï¼Œä»¥åŠé«˜æ´å‡€æ™¶åœ†æ¬è¿ä¸æ‰¿è½½ï¼‰ï¼Œå¹¶å‘ˆç°â€œå®šåˆ¶åŒ–è®¾è®¡ + é•¿éªŒè¯å‘¨æœŸ + å¼ºå®¢æˆ·ç»‘å®šâ€çš„äº§ä¸šç‰¹å¾ã€‚ç«äº‰æ ¼å±€ä¸Šï¼Œå…¨çƒå¸‚åœºç”±å°‘æ•°å…·å¤‡ææ–™ä½“ç³»ã€ç²¾å¯†åŠ å·¥ä¸å…¨çƒäº¤ä»˜èƒ½åŠ›çš„æŠ€æœ¯é™¶ç“·å‚å•†é•¿æœŸä¸»å¯¼ï¼Œå…¸å‹ä»£è¡¨åŒ…æ‹¬NGK Insulatorsã€Kyoceraã€Niterra Co., Ltd.Coorstekã€Ferrotecã€TOTO Advanced Ceramicsã€Morgan Advanced Materialså’ŒMiCo Ceramics Co., Ltd.ç­‰ï¼Œ2024å¹´å…¨çƒå‰å…«å¤§å‚å•†å æœ‰83%çš„å¸‚åœºä»½é¢ï¼šå®ƒä»¬é¢å‘åŠå¯¼ä½“åŠ å·¥è®¾å¤‡æä¾›ä»è…”ä½“å†…è¡¬/ç¯ä»¶åˆ°å·¥è‰ºè…”ä½“ä¸å„ç±»é™¶ç“·ç»„ä»¶çš„å®šåˆ¶åŒ–äº§å“ä¸å·¥è‰ºèƒ½åŠ›ï¼ˆä¾‹å¦‚Morganå…¬å¼€åˆ—ç¤ºå…¶åŠå¯¼ä½“é™¶ç“·ç»„ä»¶è¦†ç›–Lithographyã€Implantã€CVD/PVD/Etchç­‰åº”ç”¨ï¼›NGKå…¬å¼€åˆ—ç¤ºå…¶äº§å“åŒ…æ‹¬é™¶ç“·åŠ çƒ­å™¨ã€é™ç”µå¸ç›˜ä»¥åŠAlN/Alâ‚‚Oâ‚ƒç­‰è…”ä½“éƒ¨ä»¶ï¼‰ï¼Œå¹¶åœ¨è¿‘å¹´é€šè¿‡èƒ½åŠ›æ‰©å……æ¥åŒ¹é…éœ€æ±‚å¢é•¿ï¼ˆä¾‹å¦‚NGKæŠ«éœ²æ‰©äº§ä»¥å“åº”ä¸‹ä¸€ä»£åŠå¯¼ä½“å¸‚åœºç›¸å…³äº§å“éœ€æ±‚ï¼‰ã€‚æ€»ä½“æ¥çœ‹ï¼Œæœªæ¥è¡Œä¸šåˆ†åŒ–å°†æ›´å¤šä½“ç°åœ¨ï¼šï¼ˆ1ï¼‰è€ç­‰ç¦»å­ææ–™ä½“ç³»ä¸æ¶‚å±‚èƒ½åŠ›ï¼Œï¼ˆ2ï¼‰è¶…é«˜çº¯ä¸ä½é¢—ç²’æ§åˆ¶ï¼Œï¼ˆ3ï¼‰å¤æ‚å½¢çŠ¶ä¸ä¸€è‡´æ€§é‡äº§ï¼Œï¼ˆ4ï¼‰å…¨çƒæœ¬åœ°åŒ–ä¾›è´§ä¸å¿«é€Ÿå“åº”è¿™å››ç±»â€œç¡¬æŒ‡æ ‡â€ä¸Šã€‚
ä»ä¼ä¸šæ€»éƒ¨æ¥çœ‹ï¼Œæ—¥æœ¬ä¼ä¸šå¤„äºä¸»å¯¼åœ°ä½ï¼Œ2024å¹´å æœ‰å…¨çƒè¶…è¿‡70%çš„å¸‚åœºä»½é¢ï¼Œä»£è¡¨æ€§å‚å•†æœ‰NGK Insulatorsã€Kyoceraã€Ferrotecã€TOTO Advanced Ceramicså’ŒNiterra Co., Ltd.ç­‰ï¼›åŒ—ç¾ä¼ä¸šæ€»ä½“è§„æ¨¡å¤„äºç¬¬äºŒä½ï¼Œ2024å¹´å æœ‰å…¨çƒå¤§çº¦10%çš„ä»½é¢ï¼Œä»£è¡¨æ€§å‚å•†æœ‰Coorstekã€‚æ¬§æ´²å‚å•†æ€»ä½“æ’åç¬¬ä¸‰ï¼Œ2024å¹´å æœ‰6.7%çš„ä»½é¢ï¼Œä»£è¡¨æ€§å‚å•†åŒ…æ‹¬CeramTecã€Schunk Xycarb Technologyå’ŒMorgan Advanced Materialsç­‰ã€‚ä¸­å›½å’ŒéŸ©å›½ä¼ä¸šï¼Œ2024å¹´ä»½é¢å‡ä¸º5.5%å·¦å³ï¼Œå…¶ä¸­ä¸­å›½å‚å•†è¿‘å‡ å¹´å¢é•¿è¿…é€Ÿï¼ŒæŒ‰ä¼ä¸šæ€»éƒ¨ï¼Œ2024å¹´ä¸­å›½å¸‚åœºè§„æ¨¡è¾¾åˆ°1.65äº¿ç¾å…ƒï¼Œé¢„è®¡2031å¹´å°†è¾¾åˆ°6.18äº¿ç¾å…ƒï¼Œå¹´å¤åˆå¢é•¿ç‡é¢„è®¡ä¸º18.58%ã€‚
é¢å‘æœªæ¥è¶‹åŠ¿ä¸å¢é•¿é€»è¾‘ï¼Œç»“æ„é™¶ç“·çš„ä»·å€¼é‡æ›´æ˜¾è‘—åœ°å‘â€œæ›´æç«¯å·¥è‰ºç¯å¢ƒâ€é›†ä¸­ï¼šå…ˆè¿›é€»è¾‘ï¼ˆæ›´å°èŠ‚ç‚¹ï¼‰ã€3D NANDé«˜çºµæ·±ä¸é«˜å¾ªç¯ã€åŠŸç‡/åŒ–åˆç‰©ï¼ˆSiC/GaNï¼‰å¸¦æ¥çš„é«˜æ¸©/è…èš€ä¸æ›´ä¸¥è‹›æ´å‡€è¦æ±‚ï¼Œéƒ½åœ¨æ¨åŠ¨ææ–™ä¸ç»“æ„ä»¶ä»â€œå¯ç”¨â€èµ°å‘â€œå¯é‡äº§ä¸”å¯é•¿å¯¿å‘½ç¨³å®šâ€ã€‚ä»å…¬å¼€çš„å‚å•†æŠ€æœ¯å£å¾„çœ‹ï¼Œé«˜çº¯æ°§åŒ–é“ä¸CVD/é«˜çº¯SiCç­‰ææ–™è¢«å¹¿æ³›ç”¨äºç­‰ç¦»å­åˆ»èš€è…”ä½“ã€æ²‰ç§¯/æ‰©æ•£/RTPç­‰é‡å¤çƒ­-åŒ–å­¦å¾ªç¯ç¯å¢ƒï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯é™ä½é‡‘å±æ‚è´¨ä¸é¢—ç²’ã€æå‡è€è…èš€ä¸è€çƒ­å†²å‡»èƒ½åŠ›ï¼›åŒæ—¶ï¼Œå›´ç»•å¹²æ³•åˆ»èš€çš„Yâ‚‚Oâ‚ƒï¼ˆæ°§åŒ–é’‡ï¼‰ç­‰ç¦»å­é˜²æŠ¤æ¶‚å±‚/å¤åˆä½“ç³»ä¹Ÿåœ¨åŠ é€Ÿæ¸—é€ï¼Œç”¨äºæå‡åˆ»èš€è…”ä½“ä¸ESCç­‰éƒ¨ä»¶çš„è€ç­‰ç¦»å­ä¾µèš€ä¸ç¨³å®šæ€§ã€‚
ä»å¢é•¿è¶‹åŠ¿ä¸é©±åŠ¨å› ç´ çœ‹ï¼Œå…¨çƒåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºæœªæ¥å‡ å¹´å¤§æ¦‚ç‡å‘ˆç°â€œéš300mmäº§çº¿æŠ•èµ„ä¸Šè¡Œè€Œç¨³å¥å¢é•¿ã€ä¸”å•ä½ä»·å€¼é‡ä¸æ¶ˆè€—å¼ºåº¦åŒæ­¥æŠ¬å‡â€çš„ç‰¹å¾ï¼šä¸€æ–¹é¢ï¼ŒSEMIåœ¨æœ€æ–° 300mm Fab Outlook ä¸­é¢„è®¡å…¨çƒ 300mm æ™¶åœ†å‚è®¾å¤‡æ”¯å‡º 2025 å¹´å°†é¦–æ¬¡çªç ´ 1000 äº¿ç¾å…ƒï¼ˆçº¦ 1070 äº¿ç¾å…ƒï¼‰ï¼Œå¹¶åœ¨ 2026â€“2028 å¹´åˆè®¡è¾¾åˆ° 3740 äº¿ç¾å…ƒï¼ŒèƒŒåé©±åŠ¨æ˜ç¡®æŒ‡å‘ AI èŠ¯ç‰‡éœ€æ±‚ä¸Šè¡Œä¸äº§èƒ½åŒºåŸŸåŒ–/æœ¬åœ°åŒ–ç”Ÿæ€å»ºè®¾ï¼ˆè‡ªç»™è‡ªè¶³ã€ä¾›åº”é“¾é‡æ„ï¼‰ï¼Œå…¶ä¸­é€»è¾‘/å¾®å¤„ç†ï¼ˆå« sub-2nmã€GAAã€èƒŒé¢ä¾›ç”µç­‰ï¼‰ä¸å­˜å‚¨ï¼ˆå« HBMã€3D NANDï¼‰æˆä¸ºä¸»è¦æŠ•èµ„ä¸å·¥è‰ºå‡çº§æ¥æºï¼›è¿™æ„å‘³ç€åˆ»èš€ã€è–„è†œæ²‰ç§¯ã€çƒ­å¤„ç†ã€æ¸…æ´—ã€ç¦»å­æ³¨å…¥ç­‰å…³é”®è®¾å¤‡çš„è£…æœºä¸ç¨¼åŠ¨ç‡ç»§ç»­èµ°é«˜ï¼Œè€Œç»“æ„é™¶ç“·ä»¶æ°æ°å¹¿æ³›åµŒå…¥è¿™äº›â€œé«˜æ¸©/é«˜çœŸç©º/å¼ºç­‰ç¦»å­ä½“/å¼ºè…èš€â€çš„æ ¸å¿ƒå·¥è‰ºè…”ä½“ä¸å…³é”®å­ç³»ç»Ÿï¼ˆä¾‹å¦‚å·¥è‰ºè…”ä½“åŠå…¶å†…è¡¬ä¸ç»“æ„ä»¶è¦†ç›– Lithographyã€Implantã€CVD/PVD/Etch ç­‰å…¸å‹åº”ç”¨ï¼‰ï¼Œä»è€Œå¸¦æ¥â€œé¦–è£…ï¼ˆBOMï¼‰+ å­˜é‡ç»´æŠ¤ï¼ˆMROï¼‰â€çš„åŒé‡éœ€æ±‚å¢é‡ã€‚å¦ä¸€æ–¹é¢ï¼Œå…ˆè¿›å·¥è‰ºå¯¹é¢—ç²’ä¸é‡‘å±æ±¡æŸ“æ§åˆ¶ã€è€ç­‰ç¦»å­ä½“ä¾µèš€ã€çƒ­ç¨³å®šä¸çƒ­å†²å‡»å¯é æ€§çš„è¦æ±‚æŒç»­åŠ ä¸¥ï¼Œä½¿é™¶ç“·ç»“æ„ä»¶ä»â€œé€šç”¨ç»“æ„ææ–™â€å‡çº§ä¸ºâ€œè‰¯ç‡ä¸ uptime çš„å…³é”®å› å­â€ï¼Œæ¨åŠ¨ææ–™ä½“ç³»å‘é«˜çº¯æ°§åŒ–é“/æ°®åŒ–é“/ç¢³åŒ–ç¡…/é«˜çº¯è“å®çŸ³ç­‰æ–¹å‘è¿­ä»£ï¼Œå¹¶å åŠ è¡¨é¢å·¥ç¨‹ï¼ˆæ¶‚å±‚/è‡´å¯†åŒ–/æ¸…æ´—ï¼‰ä»¥é™ä½é¢—ç²’ä¸æ±¡æŸ“é£é™©ï¼šä¾‹å¦‚åœ¨æ™¶åœ†ä¼ è¾“ä¸ç«¯æ‰§è¡Œå™¨åœºæ™¯ï¼Œé™¶ç“·æ¬é€è‡‚å¼ºè°ƒè€çƒ­ä¸ä½æŸä¼¤ï¼Œå¹¶å¯é€šè¿‡ DLC ç­‰æ¶‚å±‚æå‡é˜²æ±¡æŸ“ä¸é˜²æ‰©æ•£èƒ½åŠ›ï¼›åœ¨é«˜æ¸©/å¼ºç­‰ç¦»å­ä½“ç›¸å…³éƒ¨ä½ï¼Œé«˜çº¯ææ–™è¢«çªå‡ºç”¨äºæå‡ç­‰ç¦»å­ä½“è€å—ä¸ä½é¢—ç²’ç‰¹æ€§ï¼›åœ¨è…”ä½“çƒ­ç®¡ç†ä¸å¤¹æŒæ§åˆ¶ç¯èŠ‚ï¼Œç”µé™å¸ç›˜ä¸é™¶ç“·åŠ çƒ­å™¨ç­‰å…¸å‹é™¶ç“·åŠŸèƒ½ç»“æ„ä»¶åˆ™å¼ºè°ƒå®½æ¸©åŸŸã€è€è…èš€ä¸ä½é¢—ç²’å¤„ç†ã€ä»¥åŠé€šè¿‡é«˜å¯¼çƒ­ææ–™ï¼ˆå¦‚ AlNï¼‰å®ç°æ¸©åº¦å‡åŒ€æ€§ä¸é™ä½é‡‘å±æ±¡æŸ“ã€‚
ç»¼åˆæ¥çœ‹ï¼Œæœªæ¥å¢é•¿çš„â€œå› æœé“¾â€å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šAI ä¸å…ˆè¿›èŠ‚ç‚¹/å…ˆè¿›å­˜å‚¨æ‹‰åŠ¨è®¾å¤‡æŠ•èµ„ä¸å·¥è‰ºå¼ºåº¦ä¸Šå‡ â†’ è…”ä½“ä¸ä¼ è¾“å…³é”®éƒ¨ä½çš„é™¶ç“·ä»¶ç”¨é‡ã€è§„æ ¼ç­‰çº§ä¸æ›´æ¢é¢‘æ¬¡æå‡ â†’ åŒºåŸŸåŒ–ä¸ä¾›åº”é“¾å®‰å…¨è¯‰æ±‚å¼ºåŒ–æœ¬åœ°ä¾›ç»™ä¸å¤šæºè®¤è¯ â†’ ç»“æ„é™¶ç“·å¸‚åœºåœ¨è§„æ¨¡æ‰©å¼ çš„åŒæ—¶å‘é«˜çº¯ã€é«˜ä¸€è‡´æ€§ã€é«˜å¯é æ€§ä¸å¤æ‚ç²¾å¯†åŠ å·¥èƒ½åŠ›é›†ä¸­ã€‚
æœ¬æ–‡ç ”ç©¶å…¨çƒåŠä¸­å›½å¸‚åœºåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ï¼Œä¾§é‡åˆ†æå…¨çƒåŠä¸­å›½å¸‚åœºçš„ä¸»è¦ä¼ä¸šï¼ŒåŒæ—¶å¯¹æ¯”åŒ—ç¾ã€æ¬§æ´²ã€ä¸­å›½ã€æ—¥æœ¬ã€ä¸­å›½å°æ¹¾å’ŒéŸ©å›½ç­‰åœ°åŒºçš„ç°çŠ¶åŠæœªæ¥å‘å±•è¶‹åŠ¿ã€‚
æœ¬æ–‡é‡ç‚¹åˆ†æåœ¨å…¨çƒåŠä¸­å›½æœ‰é‡è¦è§’è‰²çš„ä¼ä¸šï¼Œåˆ†æè¿™äº›ä¼ä¸šåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·äº§å“çš„å¸‚åœºè§„æ¨¡ã€å¸‚åœºä»½é¢ã€å¸‚åœºå®šä½ã€äº§å“ç±»å‹ä»¥åŠå‘å±•è§„åˆ’ç­‰ã€‚
ä¸»è¦ä¼ä¸šåŒ…æ‹¬ï¼š
ï®	NGK Insulators
ï®	Kyocera
ï®	Niterra Co., Ltd.
ï®	Coorstek
ï®	Ferrotec
ï®	TOTO Advanced Ceramics
ï®	Morgan Advanced Materials
ï®	MiCo Ceramics Co., Ltd.
ï®	ç‚ç›ç§‘æŠ€
ï®	ä¸Šæµ·å¡è´å°¼
ï®	ASUZAC Fine Ceramics
ï®	CeramTec
ï®	AGC
ï®	Solmics
ï®	Japan Fine Ceramics Co., Ltd. (JFC)
ï®	ä¸‰è´£æ–°æ
ï®	Schunk Xycarb Technology
ï®	Krosaki Harima Corporation
ï®	Kallexå‡±æ¨‚å£«
ï®	Maruwa
ï®	WONIK QnC
ï®	3M
ï®	Saint-Gobain
ï®	Bullen Ultrasonics
ï®	Pacific Rundum
ï®	æ£•èŒ‚ç§‘æŠ€
ï®	é™•è¥¿å›ºå‹¤ææ–™
ï®	Advanced Special Tools (AST)
ï®	STC Material Solutions
ï®	æ¹–å—åœ£ç“·ç§‘æŠ€
ï®	Precision Ferrites &amp; Ceramics (PFC)
ï®	Ortech Ceramics
ï®	Micro Ceramics Ltd
ï®	Repton Co., Ltd.
ï®	æ·±åœ³æ–¹æ³°æ–°ææ–™
ï®	ä¸­ç“·ç”µå­
ï®	å“ç“·ç§‘æŠ€
ï®	Nishimura Advanced Ceramics
ï®	æ½®å·ä¸‰ç¯
ï®	ä¸‰é¼æ™Ÿç§‘æŠ€
ï®	ç¦å»ºåæ¸…ç”µå­
æŒ‰ç…§ä¸åŒææ–™ç±»å‹ï¼ŒåŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªç±»åˆ«ï¼š
ï®	æ°§åŒ–é“é™¶ç“·
ï®	æ°®åŒ–é“é™¶ç“·
ï®	ç¢³åŒ–ç¡…é™¶ç“·
ï®	æ°®åŒ–ç¡…é™¶ç“·
ï®	å…¶ä»–é™¶ç“·
æŒ‰ç…§ä¸åŒåº”ç”¨ï¼Œä¸»è¦åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
ï®	åŠå¯¼ä½“è–„è†œæ²‰ç§¯è®¾å¤‡
ï®	åŠå¯¼ä½“åˆ»èš€è®¾å¤‡
ï®	åŠå¯¼ä½“å…‰åˆ»è®¾å¤‡
ï®	åŠå¯¼ä½“ç¦»å­æ³¨å…¥æœº
ï®	åŠå¯¼ä½“çƒ­å¤„ç†è®¾å¤‡
ï®	åŠå¯¼ä½“CMPè®¾å¤‡
ï®	åŠå¯¼ä½“æ™¶åœ†ä¼ è¾“è®¾å¤‡
ï®	åŠå¯¼ä½“å°è£…æµ‹è¯•è®¾å¤‡
ï®	å…¶ä»–åŠå¯¼ä½“è®¾å¤‡
é‡ç‚¹å…³æ³¨å¦‚ä¸‹å‡ ä¸ªåœ°åŒº
ï®	åŒ—ç¾
ï®	æ¬§æ´²
ï®	ä¸­å›½
ï®	æ—¥æœ¬
ï®	ä¸­å›½å°æ¹¾
ï®	éŸ©å›½
ï®	å…¶ä»–åœ°åŒº
æœ¬æ–‡æ­£æ–‡å…±8ç« ï¼Œå„ç« èŠ‚ä¸»è¦å†…å®¹å¦‚ä¸‹ï¼š
ï®	ç¬¬1ç« ï¼šæŠ¥å‘Šç»Ÿè®¡èŒƒå›´ã€äº§å“ç»†åˆ†åŠå…¨çƒæ€»ä½“è§„æ¨¡åŠå¢é•¿ç‡ç­‰æ•°æ®
ï®	ç¬¬2ç« ï¼šå…¨çƒä¸åŒåº”ç”¨åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·å¸‚åœºè§„æ¨¡åŠä»½é¢ç­‰
ï®	ç¬¬3ç« ï¼šå…¨çƒåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·ä¸»è¦åœ°åŒºå¸‚åœºè§„æ¨¡åŠä»½é¢ç­‰
ï®	ç¬¬4ç« ï¼šå…¨çƒèŒƒå›´å†…åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·ä¸»è¦ä¼ä¸šç«äº‰åˆ†æï¼Œä¸»è¦åŒ…æ‹¬åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·æ”¶å…¥ã€å¸‚åœºä»½é¢åŠè¡Œä¸šé›†ä¸­åº¦åˆ†æ
ï®	ç¬¬5ç« ï¼šä¸­å›½å¸‚åœºåŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·ä¸»è¦ä¼ä¸šç«äº‰åˆ†æï¼Œä¸»è¦åŒ…æ‹¬åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·æ”¶å…¥ã€å¸‚åœºä»½é¢åŠè¡Œä¸šé›†ä¸­åº¦åˆ†æ
ï®	ç¬¬6ç« ï¼šå…¨çƒä¸»è¦ä¼ä¸šåŸºæœ¬æƒ…å†µä»‹ç»ï¼ŒåŒ…æ‹¬å…¬å¸ç®€ä»‹ã€åŠå¯¼ä½“è®¾å¤‡ç”¨ç»“æ„é™¶ç“·äº§å“ã€æ”¶å…¥åŠæœ€æ–°åŠ¨æ€ç­‰ã€‚
ï®	ç¬¬7ç« ï¼šè¡Œä¸šå‘å±•æœºé‡å’Œé£é™©åˆ†æ
ï®	ç¬¬8ç« ï¼šæŠ¥å‘Šç»“è®º</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Entity æŸ¥è¯¢ï¼šå¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­çš„â€œå®ä½“æœç´¢å¼•æ“â€ï¼Œå®æˆ˜æŒ‡å—ï¼]]></title>    <link>https://juejin.cn/post/7581413562486341638</link>    <guid>https://juejin.cn/post/7581413562486341638</guid>    <pubDate>2025-12-09T06:49:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581413562486341638" data-draft-id="7581097545671049235" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Entity æŸ¥è¯¢ï¼šå¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­çš„â€œå®ä½“æœç´¢å¼•æ“â€ï¼Œå®æˆ˜æŒ‡å—ï¼"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-09T06:49:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Entity æŸ¥è¯¢ï¼šå¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­çš„â€œå®ä½“æœç´¢å¼•æ“â€ï¼Œå®æˆ˜æŒ‡å—ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:49:46.000Z" title="Tue Dec 09 2025 06:49:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šè·¯é¥</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1aPSxBJE9R%2F" target="_blank" title="https://www.bilibili.com/video/BV1aPSxBJE9R/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹è§†é¢‘æ¼”ç¤ºï¼</p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨å¯è§‚æµ‹æ€§ç³»ç»Ÿä¸­ï¼ŒUModel å®šä¹‰äº†ç»Ÿä¸€çš„æ•°æ®æ¨¡å‹ï¼ˆSchemaï¼‰ï¼ŒUModel æŸ¥è¯¢ä¸“æ³¨äºæ¢ç´¢çŸ¥è¯†å›¾è°±å…ƒæ•°æ®ï¼Œè€Œ Entity æŸ¥è¯¢åˆ™ç”¨äºæŸ¥è¯¢å’Œæ£€ç´¢å…·ä½“çš„å®ä½“å®ä¾‹æ•°æ®ã€‚Entity æŸ¥è¯¢åŸºäº USearch å¼•æ“ï¼Œæä¾›äº†å¼ºå¤§çš„å…¨æ–‡æ£€ç´¢ã€ç²¾ç¡®æŸ¥æ‰¾ã€æ¡ä»¶è¿‡æ»¤ç­‰èƒ½åŠ›ï¼Œæ”¯æŒè·¨åŸŸã€è·¨å®ä½“ç±»å‹çš„è”åˆæŸ¥è¯¢ã€‚</p>
<p>ä¸ UModel æŸ¥è¯¢å…³æ³¨ Schema å®šä¹‰ä¸åŒï¼ŒEntity æŸ¥è¯¢ä¸“æ³¨äº<strong>è¿è¡Œæ—¶å®ä½“æ•°æ®</strong>ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿå®šä½ã€æ£€ç´¢å’Œåˆ†æå…·ä½“çš„å®ä½“å®ä¾‹ï¼Œå¦‚æœåŠ¡å®ä¾‹ã€Pod å®ä¾‹ã€ä¸»æœºå®ä¾‹ç­‰ã€‚</p>
<h3 data-id="heading-1">1.1 Entity æŸ¥è¯¢è§£å†³çš„é—®é¢˜</h3>
<p>åœ¨å®é™…çš„å¯è§‚æµ‹æ€§åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ï¼š</p>
<ol>
<li><strong>å¿«é€Ÿå®šä½å®ä½“ï¼š</strong> æ ¹æ®å…³é”®è¯ã€å±æ€§å€¼å¿«é€Ÿæ‰¾åˆ°ç›¸å…³å®ä½“</li>
<li><strong>è·¨åŸŸæ£€ç´¢ï¼š</strong> åœ¨å¤šä¸ªåŸŸï¼ˆAPMã€K8sã€äº‘èµ„æºç­‰ï¼‰ä¸­è”åˆæœç´¢</li>
<li><strong>ç²¾ç¡®æŸ¥è¯¢ï¼š</strong> æ ¹æ®å·²çŸ¥çš„å®ä½“ ID æ‰¹é‡æŸ¥è¯¢è¯¦ç»†ä¿¡æ¯</li>
<li><strong>æ¡ä»¶è¿‡æ»¤ï¼š</strong> åŸºäºå®ä½“å±æ€§è¿›è¡Œå¤æ‚çš„æ¡ä»¶ç­›é€‰</li>
<li><strong>ç»Ÿè®¡åˆ†æï¼š</strong> å¯¹å®ä½“æ•°æ®è¿›è¡Œèšåˆåˆ†æå’Œè®¡ç®—</li>
</ol>
<p>Entity æŸ¥è¯¢é€šè¿‡ USearch å¼•æ“çš„ç»Ÿä¸€æ¥å£ï¼Œè§£å†³äº†ä¼ ç»Ÿå¤šç³»ç»ŸæŸ¥è¯¢çš„ç—›ç‚¹ï¼Œæä¾›äº†é«˜æ•ˆã€çµæ´»çš„å®ä½“æ£€ç´¢èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-2">1.2 ä¸‰ç§æŸ¥è¯¢ç±»å‹çš„åŒºåˆ«</h3>
<p>åœ¨ EntityStore ä¸­ï¼Œå­˜åœ¨ä¸‰ç§ä¸åŒç±»å‹çš„æŸ¥è¯¢ï¼š</p>
<blockquote>
<p>EntityStore æ˜¯ UModel ç³»ç»Ÿä¸­çš„ç»Ÿä¸€å­˜å‚¨å¼•æ“ï¼Œè´Ÿè´£å­˜å‚¨å’Œç®¡ç†å¯è§‚æµ‹æ€§é¢†åŸŸçš„æ ¸å¿ƒ Metadata æ•°æ®ï¼ŒåŒ…æ‹¬ UModel å…ƒæ•°æ®ã€å®ä½“æ•°æ®å’Œå®ä½“å…³ç³»æ•°æ®ã€‚å®ƒä¸ºå¯è§‚æµ‹æ€§åˆ†ææä¾›é«˜æ€§èƒ½çš„æ•°æ®å­˜å‚¨å’ŒæŸ¥è¯¢èƒ½åŠ›ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c539637b4a64aff9f8194d6d50c3fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765867786&amp;x-signature=Q%2FGdme7Ze6mFOEAStpPL4atfGNY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Entity æŸ¥è¯¢ä¸“æ³¨äº<strong>å®ä½“å®ä¾‹æ•°æ®</strong>ï¼Œæ˜¯æ—¥å¸¸è¿ç»´å’Œé—®é¢˜æ’æŸ¥ä¸­æœ€å¸¸ç”¨çš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
<h2 data-id="heading-3">Entity æŸ¥è¯¢ä»‹ç»</h2>
<h3 data-id="heading-4">2.1 æ•°æ®æ¨¡å‹</h3>
<h4 data-id="heading-5">ä¸‰å±‚å­˜å‚¨ç»“æ„</h4>
<p>USearch é‡‡ç”¨åˆ†å±‚å­˜å‚¨ç»“æ„ï¼Œç¡®ä¿æ•°æ®çš„é€»è¾‘éš”ç¦»å’Œé«˜æ•ˆæŸ¥è¯¢ï¼š</p>
<ol>
<li><strong>Workspace å±‚ï¼š</strong> æœ€é¡¶å±‚éš”ç¦»å•ä½ï¼Œä¸åŒ workspace ä¹‹é—´å®Œå…¨éš”ç¦»</li>
<li><strong>Domain å±‚ï¼š</strong> åŸŸçº§åˆ«çš„åˆ†ç±»ï¼Œç”¨äºä¸šåŠ¡é€»è¾‘åˆ†ç»„ï¼ˆå¦‚ apmã€k8sã€acs ç­‰ï¼‰</li>
<li><strong>EntityType å±‚ï¼š</strong> å…·ä½“çš„å®ä½“ç±»å‹ï¼ŒåŒ…å«å®é™…çš„å®ä½“æ•°æ®ï¼ˆå¦‚ apm.serviceã€k8s.pod ç­‰ï¼‰</li>
</ol>

<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Workspace:</span> <span class="hljs-string">my-observability</span>
<span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">Domain:</span> <span class="hljs-string">apm</span>
<span class="hljs-string">â”‚</span> Â  <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">apm.service</span>
<span class="hljs-string">â”‚</span> Â  <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">apm.host</span> Â 
<span class="hljs-string">â”‚</span> Â  <span class="hljs-string">â””â”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">apm.instance</span>
<span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">Domain:</span> <span class="hljs-string">k8s</span>
<span class="hljs-string">â”‚</span> Â  <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">k8s.pod</span>
<span class="hljs-string">â”‚</span> Â  <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">k8s.node</span>
<span class="hljs-string">â”‚</span> Â  <span class="hljs-string">â””â”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">k8s.service</span>
<span class="hljs-string">â””â”€â”€</span> <span class="hljs-attr">Domain:</span> <span class="hljs-string">acs</span>
Â  Â  <span class="hljs-string">â”œâ”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">acs.ecs.instance</span>
Â  Â  <span class="hljs-string">â””â”€â”€</span> <span class="hljs-attr">EntityType:</span> <span class="hljs-string">acs.rds.instance</span>
</code></pre>
<h4 data-id="heading-6">æ•°æ®å­˜å‚¨ç‰¹ç‚¹</h4>
<ul>
<li><strong>å”¯ä¸€æ€§ä¿è¯ï¼š</strong> åœ¨åŒä¸€ EntityType ä¸‹ï¼Œ<code>__entity_id__</code> ä¿è¯å”¯ä¸€æ€§</li>
<li><strong>åˆ—å¼å­˜å‚¨ï¼š</strong> æ”¯æŒå¤šè¡Œå¤šåˆ—çš„è¡¨ç»“æ„æ•°æ®ï¼Œæ”¯æŒ SPL è¿›è¡Œç»Ÿè®¡åˆ†æ</li>
<li><strong>ç´¢å¼•ä¼˜åŒ–ï¼š</strong> é’ˆå¯¹æ£€ç´¢åœºæ™¯è¿›è¡Œå…¨æ–‡ç´¢å¼•ä¼˜åŒ–ï¼Œæ”¯æŒå¤šå…³é”®è¯æ£€ç´¢å’Œ Ranking æ‰“åˆ†</li>
<li><strong>æ—¶åºæ”¯æŒï¼š</strong> æ”¯æŒåŸºäºæ—¶é—´èŒƒå›´çš„æ•°æ®æŸ¥è¯¢å’Œè¿‡æ»¤ï¼Œæ”¯æŒå›æº¯ä»»æ„æ—¶åˆ»çš„å®ä½“å’Œå…³ç³»çŠ¶æ€</li>
</ul>
<h3 data-id="heading-7">2.2 USearch æ ¸å¿ƒåŠŸèƒ½</h3>
<h4 data-id="heading-8">æ£€ç´¢èƒ½åŠ›</h4>
<p>USearch æä¾›å¼ºå¤§çš„å…¨æ–‡æ£€ç´¢èƒ½åŠ›ï¼Œæ”¯æŒï¼š</p>
<ul>
<li><strong>å¤šç±»å‹è”åˆæ£€ç´¢ï¼š</strong> è·¨å¤šä¸ª domain å’Œ entity_type è¿›è¡Œè”åˆæŸ¥è¯¢ï¼Œç»Ÿä¸€æ‰“åˆ†æ’åº</li>
<li><strong>å¤šå…³é”®è¯æ£€ç´¢æ‰“åˆ†ï¼š</strong> åŸºäºè¯æƒé‡ã€å­—æ®µæƒé‡ç­‰ä¿¡æ¯è®¡ç®—ç›¸å…³æ€§åˆ†æ•°</li>
<li><strong>æ™ºèƒ½åˆ†è¯ï¼š</strong> è‡ªåŠ¨åˆ†è¯å’Œç›¸å…³æ€§æ‰“åˆ†ï¼Œæé«˜æ£€ç´¢å‡†ç¡®æ€§</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">-- æ£€ç´¢æ‰€æœ‰domainä¸­åŒ…å«"cart"çš„å®ä½“
.entityÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'*'</span>, name=<span class="hljs-string">'*'</span>, query=<span class="hljs-string">'cart'</span>)Â 
</code></pre>
<h4 data-id="heading-9">æ‰«æèƒ½åŠ›</h4>
<p>é™¤äº†æ£€ç´¢æ¨¡å¼ï¼ŒUSearch è¿˜æ”¯æŒæ‰«ææ¨¡å¼ï¼Œè¯»å–åŸå§‹æ•°æ®åé€šè¿‡ SPL è¿›è¡Œæ›´å¤šçš„è¿‡æ»¤å’Œè®¡ç®—ï¼Œé€‚ç”¨äºéœ€è¦å¤æ‚æ•°æ®å¤„ç†çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">-- æ‰«æapmåŸŸä¸­é¦™æ¸¯åŒºåŸŸçš„åº”ç”¨æ•°é‡
.entityÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>)Â 
|Â whereÂ <span class="hljs-attr">region_id</span>Â =Â <span class="hljs-string">'cn-hongkong'</span>
|Â stats <span class="hljs-attr">count</span>Â =Â count()Â 
</code></pre>
<h3 data-id="heading-10">2.3 æŸ¥è¯¢è¯­æ³•</h3>
<h4 data-id="heading-11">åŸºç¡€è¯­æ³•ç»“æ„</h4>
<pre><code class="hljs language-ini" lang="ini">.entityÂ with(
Â  Â  <span class="hljs-attr">domain</span>=<span class="hljs-string">'domain_pattern'</span>, Â  Â Â -- åŸŸè¿‡æ»¤æ¨¡å¼
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">'type_pattern'</span>, Â  Â  Â  Â Â -- ç±»å‹è¿‡æ»¤æ¨¡å¼ Â 
Â  Â  <span class="hljs-attr">query</span>=<span class="hljs-string">'search_query'</span>, Â  Â  Â  Â -- æŸ¥è¯¢æ¡ä»¶
Â  Â  <span class="hljs-attr">topk</span>=<span class="hljs-number">10</span>, Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â -- è¿”å›æ¡æ•°
Â  Â  <span class="hljs-attr">ids</span>=[<span class="hljs-string">'id1'</span>,<span class="hljs-string">'id2'</span>,<span class="hljs-string">'id3'</span>] Â  Â  Â -- ç²¾ç¡®IDæŸ¥è¯¢
)
</code></pre>
<h4 data-id="heading-12">å‚æ•°è¯¦è§£</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf4d69c8335f478aa6634c10d3ecf3a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765867786&amp;x-signature=loMKBy%2Bq6gqcdyoTJK4IfRo7Axc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>fnmatch è¯­æ³•è¯´æ˜ï¼š</strong> æ”¯æŒé€šé…ç¬¦åŒ¹é…ï¼Œå¦‚Â <code>*</code> åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œ<code>?</code>Â åŒ¹é…å•ä¸ªå­—ç¬¦ã€‚å‚è€ƒÂ fnmatch æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.python.org%2F3%2Flibrary%2Ffnmatch.html%25E3%2580%2582" target="_blank" title="https://docs.python.org/3/library/fnmatch.html%E3%80%82" ref="nofollow noopener noreferrer">docs.python.org/3/library/fâ€¦</a></p>
<h4 data-id="heading-13">åŸŸå’Œç±»å‹è¿‡æ»¤æ¨¡å¼</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åŒ¹é…æ¨¡å¼ç¤ºä¾‹</span>
.entityÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'ac*'</span>) Â  Â  Â  Â  Â Â <span class="hljs-comment">-- acå¼€å¤´çš„domain</span>
.entityÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'a*c'</span>) Â  Â  Â  Â  Â Â <span class="hljs-comment">-- aå¼€å¤´ã€cç»“å°¾çš„domain Â </span>
.entityÂ <span class="hljs-keyword">with</span>(name<span class="hljs-operator">=</span><span class="hljs-string">'*instance'</span>) Â  Â  Â Â <span class="hljs-comment">-- ä»¥instanceç»“å°¾çš„ç±»å‹</span>
.entityÂ <span class="hljs-keyword">with</span>(name<span class="hljs-operator">=</span><span class="hljs-string">'k8s.*'</span>) Â  Â  Â  Â  Â Â <span class="hljs-comment">-- k8såŸŸä¸‹çš„æ‰€æœ‰ç±»å‹</span>
.entityÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'*'</span>, name<span class="hljs-operator">=</span><span class="hljs-string">'*'</span>) Â Â <span class="hljs-comment">-- æ‰€æœ‰domainå’Œç±»å‹</span>
</code></pre>
<h2 data-id="heading-14">æŸ¥è¯¢æ¨¡å¼è¯¦è§£</h2>
<h3 data-id="heading-15">3.1 ç²¾ç¡® ID æŸ¥è¯¢</h3>
<p>å½“çŸ¥é“å…·ä½“çš„å®ä½“ ID æ—¶ï¼Œä½¿ç”¨ ids å‚æ•°è¿›è¡Œç²¾ç¡®æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- æŸ¥è¯¢ç‰¹å®šIDçš„å®ä½“
.entityÂ with(
Â  Â  <span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>,Â 
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">'apm.service'</span>,Â 
Â  Â  <span class="hljs-attr">ids</span>=[<span class="hljs-string">'4567bd905a719d197df'</span>,<span class="hljs-string">'973ad511dad2a3f70a'</span>]
)
</code></pre>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>æ ¹æ®å‘Šè­¦ä¸­çš„å®ä½“ ID æŸ¥è¯¢è¯¦ç»†ä¿¡æ¯</li>
<li>éªŒè¯ç‰¹å®šå®ä½“çš„å­˜åœ¨æ€§å’ŒçŠ¶æ€</li>
<li>æ‰¹é‡æŸ¥è¯¢å·²çŸ¥ ID çš„å®ä½“ä¿¡æ¯</li>
</ul>
<h3 data-id="heading-16">3.2 å…¨æ–‡æ£€ç´¢æ¨¡å¼</h3>
<h4 data-id="heading-17">åŸºç¡€å…¨æ–‡æœç´¢</h4>
<pre><code class="hljs language-ini" lang="ini">-- ç®€å•å…³é”®è¯æœç´¢
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'web application'</span>)
-- å¤šè¯ORå…³ç³»ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'kubernetes docker container'</span>)
</code></pre>
<p><strong>æœç´¢ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>å¤šä¸ªè¯ä¹‹é—´æ˜¯ OR å…³ç³»ï¼Œå‡ºç°ä»»æ„ä¸€ä¸ªè¯å³æ»¡è¶³æ¡ä»¶</li>
<li>æœç´¢æ‰€æœ‰å­—æ®µï¼ŒåŒ…æ‹¬ç³»ç»Ÿå­—æ®µå’Œè‡ªå®šä¹‰å­—æ®µ</li>
<li>è‡ªåŠ¨åˆ†è¯å’Œç›¸å…³æ€§æ‰“åˆ†</li>
</ul>
<h4 data-id="heading-18">çŸ­è¯­æœç´¢</h4>
<p>å¯¹äºé€šè¿‡ç¬¦å·è¿æ¥ï¼ˆ-ï¼‰çš„è¯ï¼Œå¿…é¡»åœ¨åŒä¸€å­—æ®µä¸‹å®Œæ•´åŒ¹é…ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- å®Œæ•´çŸ­è¯­åŒ¹é…
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'opentelemetry.io/name-fraud-detection'</span>)
-- æ™®é€šæœç´¢ï¼ˆå‘½ä¸­ä»»æ„ä¸€ä¸ªè¯ï¼‰
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'opentelemetry.io/name cart'</span>)
</code></pre>
<h4 data-id="heading-19">å­—æ®µé™å®šæœç´¢</h4>
<p>æŒ‡å®šåœ¨ç‰¹å®šå­—æ®µä¸­æœç´¢ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- åœ¨æè¿°å­—æ®µä¸­æœç´¢
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'description:"error handling service"'</span>)
-- åœ¨è‡ªå®šä¹‰å±æ€§ä¸­æœç´¢
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'cluster_name:production'</span>)
-- åœ¨æ ‡ç­¾ä¸­æœç´¢
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'labels.team:backend'</span>)
</code></pre>
<h4 data-id="heading-20">é€»è¾‘æ¡ä»¶ç»„åˆ</h4>
<p>æ”¯æŒ andã€orã€not é€»è¾‘è¿ç®—ç¬¦ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- ANDæ¡ä»¶ï¼šåŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'service_name:web AND status:running'</span>)
-- ORæ¡ä»¶ï¼šæ»¡è¶³ä»»ä¸€æ¡ä»¶
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'environment:prod OR environment:staging'</span>)
-- NOTæ¡ä»¶ï¼šæ»¡è¶³å·¦ä¾§ã€ä¸æ»¡è¶³å³ä¾§
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'type:service NOT status:stopped'</span>)
-- å¤æ‚ç»„åˆ
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'(cluster:prod OR cluster:staging) AND NOT status:maintenance'</span>)
</code></pre>
<p><strong>ç‰¹æ®Šå­—ç¬¦å¤„ç†ï¼š</strong></p>
<ul>
<li>åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚Â |ã€:ï¼‰çš„æŸ¥è¯¢å¿…é¡»ç”¨åŒå¼•å·åŒ…å«</li>
<li>ç¤ºä¾‹ï¼š<code>query='description:"ratio is 1:2"'</code></li>
</ul>
<h3 data-id="heading-21">3.3 å¤šç±»å‹è”åˆæ£€ç´¢</h3>
<p>æ”¯æŒè·¨å¤šä¸ª domain å’Œ entity_type è¿›è¡Œè”åˆæŸ¥è¯¢ï¼Œç»Ÿä¸€æ‰“åˆ†æ’åºï¼š</p>
<pre><code class="hljs language-java" lang="java">-- æ£€ç´¢æ‰€æœ‰domainä¸­åŒ…å«<span class="hljs-string">"cart"</span>çš„å®ä½“
.entityÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'*'</span>, name=<span class="hljs-string">'*'</span>, query=<span class="hljs-string">'cart'</span>)</span>Â 
-- æ£€ç´¢æ‰€æœ‰domainä¸­åŒ…å«<span class="hljs-string">"service"</span>çš„å®ä½“ç±»å‹ï¼Œå±æ€§ä¸­å­˜åœ¨<span class="hljs-string">"production"</span>çš„å®ä½“
.entityÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'*'</span>, name=<span class="hljs-string">'*service*'</span>, query=<span class="hljs-string">'production'</span>)</span>
-- æ£€ç´¢ç‰¹å®šdomainä¸‹çš„å¤šç§å®ä½“ç±»å‹ï¼Œå±æ€§ä¸­å­˜åœ¨<span class="hljs-string">"error"</span>æˆ–<span class="hljs-string">"rate"</span>çš„å®ä½“
.entityÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.*'</span>, query=<span class="hljs-string">'error rate'</span>)</span>
</code></pre>
<h3 data-id="heading-22">3.4 ç»“åˆ SPL è¿›è¡Œæ•°æ®è®¡ç®—åˆ†æ</h3>
<p>æ— è®ºæ£€ç´¢æ¨¡å¼è¿˜æ˜¯æ‰«ææ¨¡å¼ï¼Œéƒ½å¯ä»¥ç»“åˆ SPL è¿›è¡Œæ›´æ·±å…¥çš„æ•°æ®è®¡ç®—ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ£€ç´¢apmåŸŸä¸­åœ¨é¦™æ¸¯åŒºåŸŸçš„ä¸åŒè¯­è¨€çš„åº”ç”¨æ•°é‡ï¼ŒæŒ‰ç…§åº”ç”¨æ•°é‡é™åºæ’åˆ—</span>
.entityÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'apm'</span>, name<span class="hljs-operator">=</span><span class="hljs-string">'apm.service'</span>)Â 
<span class="hljs-operator">|</span>Â <span class="hljs-keyword">where</span>Â region_idÂ <span class="hljs-operator">=</span>Â <span class="hljs-string">'cn-hongkong'</span>
<span class="hljs-operator">|</span>Â stats countÂ <span class="hljs-operator">=</span>Â <span class="hljs-built_in">count</span>()Â <span class="hljs-keyword">by</span>Â <span class="hljs-keyword">language</span>Â 
<span class="hljs-operator">|</span>Â projectÂ <span class="hljs-keyword">language</span>, countÂ 
<span class="hljs-operator">|</span>Â sort countÂ <span class="hljs-keyword">desc</span>
</code></pre>
<h2 data-id="heading-23">æ‰“åˆ†å’Œæ’åºæœºåˆ¶</h2>
<h3 data-id="heading-24">4.1 ç›¸å…³æ€§æ‰“åˆ†</h3>
<p>USearch ä½¿ç”¨å¤šå› ç´ ç»¼åˆæ‰“åˆ†ç®—æ³•ï¼š</p>
<ol>
<li><strong>è¯é¢‘æƒé‡ï¼š</strong> å…³é”®è¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡</li>
<li><strong>å­—æ®µæƒé‡ï¼š</strong> ä¸åŒå­—æ®µçš„é‡è¦æ€§æƒé‡ï¼ˆå¦‚åç§°å­—æ®µæƒé‡é«˜äºæè¿°å­—æ®µï¼‰</li>
<li><strong>æ–‡æ¡£é•¿åº¦ï¼š</strong> è¾ƒçŸ­æ–‡æ¡£ä¸­çš„åŒ¹é…é€šå¸¸å¾—åˆ†æ›´é«˜</li>
<li><strong>é€†æ–‡æ¡£é¢‘ç‡ï¼š</strong> ç¨€æœ‰è¯æ±‡è·å¾—æ›´é«˜æƒé‡</li>
</ol>
<h3 data-id="heading-25">4.2 æ’åºè§„åˆ™</h3>
<p>é»˜è®¤æŒ‰ç›¸å…³æ€§åˆ†æ•°é™åºæ’åˆ—ï¼Œåˆ†æ•°ç›¸åŒæ—¶æŒ‰æ—¶é—´æˆ³æ’åºï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é»˜è®¤ç›¸å…³æ€§æ’åº</span>
.entityÂ <span class="hljs-keyword">with</span>(query<span class="hljs-operator">=</span><span class="hljs-string">'web service error'</span>, topk<span class="hljs-operator">=</span><span class="hljs-number">20</span>)
<span class="hljs-comment">-- ç»“åˆSPLè‡ªå®šä¹‰æ’åº</span>
.entityÂ <span class="hljs-keyword">with</span>(query<span class="hljs-operator">=</span><span class="hljs-string">'kubernetes pod'</span>)
<span class="hljs-operator">|</span>Â sort __last_observed_time__Â <span class="hljs-keyword">desc</span>
<span class="hljs-operator">|</span>Â limitÂ <span class="hljs-number">50</span>
<span class="hljs-comment">-- å¤šå­—æ®µæ’åº</span>
.entityÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'apm'</span>, name<span class="hljs-operator">=</span><span class="hljs-string">'apm.service'</span>)
<span class="hljs-operator">|</span>Â sort clusterÂ <span class="hljs-keyword">asc</span>, service_nameÂ <span class="hljs-keyword">asc</span>
</code></pre>
<h2 data-id="heading-26">Entity æŸ¥è¯¢å…·ä½“åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-27">5.1 åœºæ™¯ä¸€ï¼šå¿«é€Ÿå®šä½å’Œæ£€ç´¢å®ä½“</h3>
<p><strong>é—®é¢˜æè¿°ï¼š</strong> çº¿ä¸Šå‡ºç°å‘Šè­¦æˆ–éœ€è¦æŸ¥æ‰¾ç‰¹å®šå®ä½“æ—¶ï¼Œéœ€è¦å¿«é€Ÿå®šä½ç›¸å…³å®ä½“å®ä¾‹ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> æ ¹æ®åœºæ™¯é€‰æ‹©ä¸åŒçš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">-- æ–¹å¼1ï¼šæ ¹æ®å‘Šè­¦ä¸­çš„å®ä½“IDç²¾ç¡®æŸ¥è¯¢
.entityÂ with(
Â  Â  <span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>,Â 
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">'apm.service'</span>,Â 
Â  Â  <span class="hljs-attr">ids</span>=[<span class="hljs-string">'4567bd905a719d197df'</span>,<span class="hljs-string">'973ad511dad2a3f70a'</span>]
)
-- æ–¹å¼2ï¼šæ ¹æ®å…³é”®è¯å…¨æ–‡æ£€ç´¢
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'user-service error'</span>, topk=<span class="hljs-number">10</span>)
-- æ–¹å¼3ï¼šå­—æ®µé™å®šç²¾ç¡®æŸ¥è¯¢
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'service_name:user-service'</span>)
-- æ–¹å¼4ï¼šé€šè¿‡æ ‡ç­¾æŸ¥æ‰¾ç‰¹å®šå›¢é˜Ÿçš„æœåŠ¡
.entityÂ with(
Â  Â  <span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>,Â 
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">'apm.service'</span>,Â 
Â  Â  <span class="hljs-attr">query</span>=<span class="hljs-string">'labels.team:backend AND labels.language:java AND status:running'</span>
)
</code></pre>
<p><strong>æ•ˆæœï¼š</strong> å¿«é€Ÿè·å–é—®é¢˜å®ä½“çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬çŠ¶æ€ã€å±æ€§ã€æ ‡ç­¾ç­‰ï¼Œæ”¯æŒå¤šç§æŸ¥è¯¢æ–¹å¼æ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ã€‚</p>
<h3 data-id="heading-28">5.2 åœºæ™¯äºŒï¼šè·¨åŸŸè”åˆæ£€ç´¢</h3>
<p><strong>é—®é¢˜æè¿°ï¼š</strong> éœ€è¦åœ¨å¤šä¸ªåŸŸï¼ˆAPMã€K8sã€äº‘èµ„æºç­‰ï¼‰ä¸­æœç´¢åŒ…å«ç‰¹å®šå…³é”®è¯çš„å®ä½“ï¼Œé¿å…åœ¨å¤šç³»ç»Ÿé—´åˆ‡æ¢ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨å¤šç±»å‹è”åˆæ£€ç´¢ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">-- åœ¨æ‰€æœ‰åŸŸä¸­æœç´¢åŒ…å«"error"çš„å®ä½“
.entityÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'*'</span>, name=<span class="hljs-string">'*'</span>, query=<span class="hljs-string">'error'</span>, topk=<span class="hljs-number">50</span>)
-- æ£€ç´¢ç‰¹å®šå‰ç¼€domainä¸‹çš„å¤šç§å®ä½“ç±»å‹
.entityÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm*'</span>, name=<span class="hljs-string">'*'</span>, query=<span class="hljs-string">'error'</span>, topk=<span class="hljs-number">50</span>)
</code></pre>
<p><strong>æ•ˆæœï¼š</strong> ç»Ÿä¸€æ¥å£æ£€ç´¢è·¨åŸŸå®ä½“ï¼Œæ‰“ç ´æ•°æ®å­¤å²›ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p>
<h3 data-id="heading-29">5.3 åœºæ™¯ä¸‰ï¼šæ¡ä»¶è¿‡æ»¤å’Œæ•°æ®åˆ†æ</h3>
<p><strong>é—®é¢˜æè¿°ï¼š</strong> éœ€è¦æ‰¾å‡ºæ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å®ä½“ï¼Œå¹¶è¿›è¡Œç»Ÿè®¡åˆ†æï¼Œè¯†åˆ«é—®é¢˜æ¨¡å¼æˆ–è¿›è¡Œæ•°æ®æ´å¯Ÿã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ç»“åˆ SPL è¿›è¡Œæ¡ä»¶è¿‡æ»¤å’Œèšåˆåˆ†æã€‚</p>
<pre><code class="hljs language-ini" lang="ini">-- æ‰¾å‡ºjavaè¯­è¨€çš„apmæœåŠ¡ï¼ŒæŒ‰é›†ç¾¤ç»Ÿè®¡
.entityÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>)Â 
|Â whereÂ <span class="hljs-attr">language</span>=<span class="hljs-string">'java'</span>
|Â stats <span class="hljs-attr">count</span>=count()Â byÂ cluster
-- æŸ¥è¯¢ç”Ÿäº§ç¯å¢ƒæˆ–é¢„å‘ç¯å¢ƒä¸­è¿è¡Œçš„æœåŠ¡
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'(environment:prod OR environment:staging) AND status:running'</span>)
|Â stats <span class="hljs-attr">count</span>=count()Â byÂ environment, cluster
-- æ£€ç´¢apmåŸŸä¸­ARMSç”Ÿäº§åº”ç”¨åœ¨ä¸åŒåŒºåŸŸçš„æ•°é‡ï¼ŒæŒ‰ç…§åº”ç”¨æ•°é‡é™åºæ’åˆ—
.entityÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, query=<span class="hljs-string">'environment:prod'</span>)Â 
|Â whereÂ <span class="hljs-attr">telemetry_client</span>=<span class="hljs-string">'ARMS'</span>Â 
|Â stats <span class="hljs-attr">service_count</span>Â =Â count()Â byÂ service, region_idÂ 
|Â project region_id, service, service_countÂ 
|Â sort service_countÂ desc
</code></pre>
<p><strong>æ•ˆæœï¼š</strong> å¿«é€Ÿè¯†åˆ«é—®é¢˜å®ä½“ï¼Œè¿›è¡Œæ•°æ®èšåˆåˆ†æï¼Œå‘ç°æ•°æ®æ¨¡å¼ã€‚</p>
<h2 data-id="heading-30">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-31">6.1 ä½¿ç”¨ç²¾ç¡®åŒ¹é…</h3>
<p>å­—æ®µé™å®šæŸ¥è¯¢æ¯”å…¨æ–‡æœç´¢æ›´é«˜æ•ˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- âŒ å…¨æ–‡æœç´¢ï¼ˆè¾ƒæ…¢ï¼‰
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'production'</span>)
-- âœ… å­—æ®µé™å®šï¼ˆæ›´å¿«ï¼‰
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'environment:production'</span>)
</code></pre>
<h3 data-id="heading-32">6.2 é¿å…å‰ç¼€é€šé…ç¬¦</h3>
<p>åç¼€é€šé…ç¬¦æ¯”å‰ç¼€é€šé…ç¬¦æ€§èƒ½æ›´å¥½ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- âŒ å‰ç¼€é€šé…ç¬¦ï¼ˆè¾ƒæ…¢ï¼‰
.entityÂ with(<span class="hljs-attr">name</span>=<span class="hljs-string">'*service'</span>)
-- âœ… åç¼€é€šé…ç¬¦ï¼ˆæ›´å¿«ï¼‰
.entityÂ with(<span class="hljs-attr">name</span>=<span class="hljs-string">'service*'</span>)
</code></pre>
<h3 data-id="heading-33">6.3 åˆç†ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦</h3>
<p>ç®€å•çš„ AND æ¡ä»¶æ¯”å¤æ‚çš„ OR æ¡ä»¶æ›´é«˜æ•ˆï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- âœ… ç®€å•ANDæ¡ä»¶
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'status:running AND cluster:prod'</span>)
-- âš ï¸ å¤æ‚ORæ¡ä»¶ï¼ˆæ€§èƒ½è¾ƒå·®ï¼‰
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'name:a OR name:b OR name:c OR name:d'</span>)
</code></pre>
<h3 data-id="heading-34">6.4 åˆç†è®¾ç½® topk</h3>
<p>æ ¹æ®å®é™…éœ€æ±‚è®¾ç½® topk å€¼ï¼Œé¿å…è¿”å›è¿‡å¤šä¸å¿…è¦çš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- åªéœ€è¦å‰10æ¡ç»“æœ
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'error'</span>, topk=<span class="hljs-number">10</span>)
-- éœ€è¦æ›´å¤šç»“æœæ—¶å†å¢åŠ 
.entityÂ with(<span class="hljs-attr">query</span>=<span class="hljs-string">'error'</span>, topk=<span class="hljs-number">100</span>)
</code></pre>
<h2 data-id="heading-35">æ€»ç»“</h2>
<p>Entity æŸ¥è¯¢ä½œä¸º EntityStore ä¸­ç”¨äºæŸ¥è¯¢å®ä½“å®ä¾‹çš„æ ¸å¿ƒæ¥å£ï¼Œä¸ºå¯è§‚æµ‹æ€§åœºæ™¯æä¾›äº†å¼ºå¤§çš„æ£€ç´¢å’Œåˆ†æèƒ½åŠ›ã€‚é€šè¿‡ Entity æŸ¥è¯¢ï¼Œç”¨æˆ·å¯ä»¥ï¼š</p>
<ol>
<li><strong>å¿«é€Ÿå®šä½ï¼š</strong> é€šè¿‡å…³é”®è¯ã€IDã€æ¡ä»¶å¿«é€Ÿæ‰¾åˆ°ç›®æ ‡å®ä½“</li>
<li><strong>è·¨åŸŸæ£€ç´¢ï¼š</strong> ç»Ÿä¸€æ¥å£æŸ¥è¯¢å¤šä¸ªåŸŸçš„å®ä½“æ•°æ®</li>
<li><strong>ç²¾ç¡®æŸ¥è¯¢ï¼š</strong> æ”¯æŒå­—æ®µé™å®šã€é€»è¾‘ç»„åˆç­‰ç²¾ç¡®æŸ¥è¯¢æ–¹å¼</li>
<li><strong>æ•°æ®åˆ†æï¼š</strong> ç»“åˆ SPL è¿›è¡Œå¤æ‚çš„æ•°æ®è¿‡æ»¤å’Œç»Ÿè®¡åˆ†æ</li>
</ol>
<p>è¿™äº›èƒ½åŠ›ä½¿å¾— Entity æŸ¥è¯¢æˆä¸ºæ—¥å¸¸è¿ç»´ã€é—®é¢˜æ’æŸ¥ã€æ•°æ®åˆ†æç­‰åœºæ™¯ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼Œä¸ºå¯è§‚æµ‹æ€§æ•°æ®çš„æœ‰æ•ˆåˆ©ç”¨æä¾›äº†åšå®çš„åŸºç¡€ã€‚</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1aPSxBJE9R%2F" target="_blank" title="https://www.bilibili.com/video/BV1aPSxBJE9R/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>æŸ¥çœ‹è§†é¢‘æ¼”ç¤ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Compiler Plugin]]></title>    <link>https://juejin.cn/post/7581478953867182080</link>    <guid>https://juejin.cn/post/7581478953867182080</guid>    <pubDate>2025-12-09T06:34:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581478953867182080" data-draft-id="7581545175508615220" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Compiler Plugin"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-09T06:34:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CnLiang"/> <meta itemprop="url" content="https://juejin.cn/user/219558056823367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Compiler Plugin
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056823367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CnLiang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:34:53.000Z" title="Tue Dec 09 2025 06:34:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ç®€ä»‹</h2>
<p>React ç¼–è¯‘å™¨ä¼šåœ¨æ„å»ºæ—¶è‡ªåŠ¨ä¼˜åŒ–ä½ çš„ React åº”ç”¨</p>
<p>ã€å›°æ‰°ï¼šReactÂ çš„æ€§èƒ½ä¹Ÿå·²ç»è¶³å¤Ÿå¿«ï¼Œä½†æœ‰æ—¶ä½ éœ€è¦æ‰‹åŠ¨å¯¹ç»„ä»¶å’Œå€¼è¿›è¡Œè®°å¿†åŒ–ï¼ˆmemoizationï¼‰ä»¥ä¿æŒåº”ç”¨çš„å“åº”é€Ÿåº¦ã€‚è¿™ç§æ‰‹åŠ¨è®°å¿†åŒ–æ—¢ç¹çåˆå®¹æ˜“å‡ºé”™ï¼Œå¹¶ä¸”ä¼šå¢åŠ éœ€è¦ç»´æŠ¤çš„é¢å¤–ä»£ç ã€‘</p>
<ul>
<li>ä½¿ç”¨ä¹‹å‰</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/181a65cab933441d9cda09ae5cc95a9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=INg5ug6h25erPAqVfHweoUNj%2Fhc%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰‹åŠ¨è®°å¿†åŒ–å­˜åœ¨ä¸€ä¸ªä¼šç ´åè®°å¿†åŒ–æ•ˆæœçš„ç»†å¾® bugï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;Item <span class="hljs-attr">key</span>={item.id} <span class="hljs-literal">on</span>Click={() =&gt; handleClick(item)} /&gt;
</code></pre>
<p>å°½ç®¡Â <code>handleClick</code>Â è¢«Â <code>useCallback</code>Â åŒ…è£¹ï¼Œä½†æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œç®­å¤´å‡½æ•°Â <code>() =&gt; handleClick(item)</code>Â éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚è¿™æ„å‘³ç€Â <code>Item</code>Â æ€»ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªæ–°çš„Â <code>onClick</code>Â propï¼Œä»è€Œç ´åäº†è®°å¿†åŒ–æ•ˆæœ</p>
<ul>
<li>ä½¿ç”¨ä¹‹å</li>
</ul>
<p>ä½¿ç”¨ React ç¼–è¯‘å™¨ï¼Œä½ å¯ä»¥ç¼–å†™ç›¸åŒçš„ä»£ç è€Œæ— éœ€æ‰‹åŠ¨è¿›è¡Œè®°å¿†åŒ–ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efdffc9927e749fc943f14ee82e0b301~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=t3iOuAs%2FwaKsvsQKYlv4uneHUtY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€å®‰è£…</h2>
<p>ã€å‰ææ¡ä»¶ã€‘</p>
<p>React ç¼–è¯‘å™¨ä¸“ä¸ºä¸ React 19 é…åˆä½¿ç”¨è€Œè®¾è®¡ï¼Œä½†ä¹Ÿæ”¯æŒ React 17 å’Œ 18ã€‚åœ¨æ’ä»¶ä¸­é€šè¿‡targetå±æ€§æŒ‡å®šreactç‰ˆæœ¬è¿›è¡Œå¯¹åº”çš„ç‰ˆæœ¬ç¼–è¯‘ã€‚ï¼ˆæ³¨æ„ï¼š17å’Œ18éœ€è¦å®‰è£…Â react-compiler-runtimeÂ åŒ…ï¼‰</p>
<p>React 19Â ä½¿ç”¨å†…ç½®çš„Â react/compiler-runtimeï¼ŒReact 17/18Â ä½¿ç”¨ç‹¬ç«‹åŒ…Â react-compiler-runtime</p>
<pre><code class="hljs language-javascript" lang="javascript">{
    <span class="hljs-attr">target</span>:  <span class="hljs-string">'19'</span> <span class="hljs-comment">// æˆ– '18' å’Œ '17'</span>
}
</code></pre>
<p>ã€å®‰è£…å‘½ä»¤ã€‘</p>
<pre><code class="hljs language-css" lang="css">pnpm install -D babel-plugin-react-compiler <span class="hljs-keyword">@latest</span>
</code></pre>
<p>æ³¨æ„ï¼šReact ç¼–è¯‘å™¨å¿…é¡»åœ¨ä½ çš„ Babel æ’ä»¶ç®¡é“ä¸­Â <strong>é¦–å…ˆ</strong>Â è¿è¡Œã€‚ç¼–è¯‘å™¨éœ€è¦åŸå§‹çš„æºä»£ç ä¿¡æ¯æ¥è¿›è¡Œæ­£ç¡®çš„åˆ†æï¼Œå› æ­¤å®ƒå¿…é¡»åœ¨å…¶ä»–è½¬æ¢æ“ä½œä¹‹å‰å¤„ç†ä½ çš„ä»£ç </p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
    plugins: [
        <span class="hljs-string">'babel-plugin-react-compiler'</span> ,  <span class="hljs-comment">// å¿…é¡»é¦–å…ˆè¿è¡Œï¼</span>
        <span class="hljs-comment">// ... å…¶ä»–æ’ä»¶</span>
    ],
    <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
};
</code></pre>
<p>ã€ESLinté›†æˆæ”¯æŒã€‘</p>
<p>React ç¼–è¯‘å™¨åŒ…å«ä¸€æ¡ ESLint è§„åˆ™ï¼Œå¯å¸®åŠ©è¯†åˆ«æ— æ³•ä¼˜åŒ–çš„ä»£ç ã€‚å½“ ESLint è§„åˆ™æŠ¥å‘Šé”™è¯¯æ—¶ï¼Œæ„å‘³ç€ç¼–è¯‘å™¨å°†è·³è¿‡å¯¹è¯¥ç‰¹å®šç»„ä»¶æˆ– Hook çš„ä¼˜åŒ–ã€‚è¿™æ˜¯å®‰å…¨çš„ï¼šç¼–è¯‘å™¨å°†ç»§ç»­ä¼˜åŒ–ä»£ç åº“çš„å…¶ä»–éƒ¨åˆ†ã€‚ä½ ä¸éœ€è¦ç«‹å³ä¿®å¤æ‰€æœ‰è¿è§„ä¹‹å¤„ã€‚å¯ä»¥æŒ‰ç…§è‡ªå·±çš„èŠ‚å¥é€æ­¥è§£å†³è¿™äº›é—®é¢˜ï¼Œä»¥é€æ¸å¢åŠ å·²ä¼˜åŒ–ç»„ä»¶çš„æ•°é‡ã€‚</p>
<p>å®‰è£…</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-string">`npm install -D eslint-plugin-react-hooks`</span><span class="hljs-string">`@latest`</span>
</code></pre>
<p>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffacebook%2Freact%2Fblob%2Fmain%2Fpackages%2Feslint-plugin-react-hooks%2FREADME.md%23installation" target="_blank" title="https://github.com/facebook/react/blob/main/packages/eslint-plugin-react-hooks/README.md#installation" ref="nofollow noopener noreferrer">github.com/facebook/reâ€¦</a></p>
<p>ã€éªŒè¯æ˜¯å¦ç»è¿‡Reactç¼–è¯‘å™¨ä¼˜åŒ–ã€‘</p>
<p>1ã€æ£€æŸ¥React DevTools</p>
<p>React ç¼–è¯‘å™¨ä¼˜åŒ–çš„ç»„ä»¶ä¼šåœ¨ React DevTools ä¸­æ˜¾ç¤ºä¸€ä¸ª â€œMemo âœ¨â€ å¾½ç« </p>
<p>2ã€æ£€æŸ¥æ„å»ºè¾“å‡º</p>
<p>ç¼–è¯‘åçš„ä»£ç å°†åŒ…å«ç¼–è¯‘å™¨è‡ªåŠ¨æ·»åŠ çš„è‡ªåŠ¨è®°å¿†åŒ–é€»è¾‘</p>
<p>ã€æ•…éšœæ’æŸ¥ã€‘</p>
<p>å¦‚æœæŸä¸ªç»„ä»¶åœ¨ç¼–è¯‘åå¼•å‘é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨Â <code>"use no memo"</code>Â æŒ‡ä»¤æš‚æ—¶å°†å…¶æ’é™¤</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">function <span class="hljs-title">ProblematicComponent</span>()</span> {
    <span class="hljs-string">"use no memo"</span>;
    <span class="hljs-comment">// è¿™é‡Œæ˜¯ç»„ä»¶ä»£ç </span>
}
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€æ’ä»¶é…ç½®é¡¹è§£æ</h2>
<p>1ã€ç¼–è¯‘æ§åˆ¶ - compilationMode ã€æ§åˆ¶é€‰æ‹©è¦ç¼–è¯‘çš„å‡½æ•°çš„ç­–ç•¥ã€‘</p>
<pre><code class="hljs language-css" lang="css">{
    compilationMode:  <span class="hljs-string">'infer'</span> // æˆ– <span class="hljs-string">'annotation'</span>ã€<span class="hljs-string">'syntax'</span> å’Œ <span class="hljs-string">'all'</span>
}
</code></pre>
<ul>
<li>
<p><strong><code>'infer'</code></strong> ï¼ˆé»˜è®¤å€¼ï¼‰ï¼šç¼–è¯‘å™¨ä½¿ç”¨æ™ºèƒ½çš„å¯å‘å¼æ–¹æ³•æ¥è¯†åˆ« React ç»„ä»¶å’Œ Hookï¼š</p>
<ul>
<li>æ˜ç¡®ä½¿ç”¨Â <code>"use memo"</code>Â æŒ‡ä»¤æ³¨é‡Šçš„å‡½æ•°</li>
<li>å‘½åç±»ä¼¼ç»„ä»¶ï¼ˆPascalCaseï¼‰æˆ– Hookï¼ˆ<code>use</code>Â å‰ç¼€ï¼‰å¹¶ä¸”åˆ›å»ºäº† JSX å’Œ/æˆ–è°ƒç”¨äº†å…¶ä»– Hook çš„å‡½æ•°</li>
</ul>
</li>
<li>
<p><strong><code>'annotation'</code></strong> ï¼šä»…ç¼–è¯‘ä½¿ç”¨Â <code>"use memo"</code>Â æŒ‡ç¤ºç¬¦æ˜ç¡®æ ‡è®°çš„å‡½æ•°ã€‚æ˜¯å¢é‡é‡‡ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚</p>
</li>
<li>
<p><strong><code>'syntax'</code></strong> ï¼šä»…ç¼–è¯‘ä½¿ç”¨ Flow çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fflow.org%2Fen%2Fdocs%2Freact%2Fcomponent-syntax%2F" target="_blank" title="https://flow.org/en/docs/react/component-syntax/" ref="nofollow noopener noreferrer">component</a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fflow.org%2Fen%2Fdocs%2Freact%2Fhook-syntax%2F" target="_blank" title="https://flow.org/en/docs/react/hook-syntax/" ref="nofollow noopener noreferrer">hook</a>Â è¯­æ³•çš„ç»„ä»¶å’Œ Hookã€‚ã€æ— æ³•ä¸tsä¸€èµ·ä½¿ç”¨ã€‘</p>
</li>
<li>
<p><strong><code>'all'</code></strong> ï¼šç¼–è¯‘æ‰€æœ‰é¡¶å±‚å‡½æ•°ã€‚ä¸æ¨èï¼Œå› ä¸ºå®ƒå¯èƒ½ä¼šç¼–è¯‘é React å‡½æ•°ã€‚</p>
</li>
<li>
<p>æ³¨æ„ï¼šæ— è®ºåœ¨å“ªç§æ¨¡å¼ä¸‹ï¼Œå¸¦æœ‰Â <code>"use no memo"</code>Â æŒ‡ä»¤çš„å‡½æ•°æ€»ä¼šè¢«è·³è¿‡</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c01567174a60418fb34496db31e1dc01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=RwCI1zAFaJ3y%2Brf6gWX31kHBf30%3D" alt="image.png" loading="lazy"/></p>
<p>2ã€ç‰ˆæœ¬å…¼å®¹æ€§ - targetã€ç¡®ä¿ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç ä¸ä½ çš„ React ç‰ˆæœ¬å…¼å®¹ã€‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce307a8be6ab4dedaa0cff6998ce148f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=Weormu6bBs20%2ByMFl4egtEW%2BVyc%3D" alt="image.png" loading="lazy"/></p>
<p>3ã€é”™è¯¯å¤„ç† - panicThresholdã€æ§åˆ¶ç¼–è¯‘å™¨å¦‚ä½•å¤„ç†ä¸éµå¾ªÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.react.dev%2Freference%2Frules" target="_blank" title="https://zh-hans.react.dev/reference/rules" ref="nofollow noopener noreferrer">React è§„åˆ™</a>Â çš„ä»£ç ï¼Œå†³å®šæ˜¯è®©æ„å»ºå¤±è´¥è¿˜æ˜¯è·³è¿‡å­˜åœ¨é—®é¢˜çš„ç»„ä»¶ã€‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b61dbb3c3c24d1f93e1a296d5e87f7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=imZ3PZGBDcxAn0Fd5%2B%2FxspPOfoo%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong><code>'none'</code></strong> Â (é»˜è®¤, æ¨è): è·³è¿‡æ— æ³•ç¼–è¯‘çš„ç»„ä»¶å¹¶ç»§ç»­æ„å»º</li>
<li><strong><code>'critical_errors'</code></strong> : ä»…åœ¨å…³é”®ç¼–è¯‘å™¨é”™è¯¯æ—¶ä½¿æ„å»ºå¤±è´¥</li>
<li><strong><code>'all_errors'</code></strong> : é‡åˆ°ä»»ä½•ç¼–è¯‘è¯Šæ–­å³ä½¿æ„å»ºå¤±è´¥</li>
</ul>
<p>4ã€è°ƒè¯• - loggerã€ä¸ºç¼–è¯‘äº‹ä»¶æä¾›è‡ªå®šä¹‰æ—¥å¿—åŠŸèƒ½ã€‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8ca17bef93f48999db7faec13431b8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=NERE%2F7OURTVhD%2BPrx%2FldWxyXJ3Q%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-3">æ–¹æ³•Â </h4>
<ul>
<li><strong><code>logEvent</code></strong>ï¼šä¼ å…¥æ–‡ä»¶åå’Œäº‹ä»¶è¯¦æƒ…æ¥è®°å½•æ¯æ¬¡ç¼–è¯‘å™¨äº‹ä»¶</li>
</ul>
<h4 data-id="heading-4">äº‹ä»¶ç±»å‹Â </h4>
<ul>
<li><strong><code>CompileSuccess</code></strong>ï¼šå‡½æ•°æˆåŠŸç¼–è¯‘</li>
<li><strong><code>CompileError</code></strong>ï¼š ç”±äºé”™è¯¯è€Œè·³è¿‡è¯¥å‡½æ•°</li>
<li><strong><code>CompileDiagnostic</code></strong>ï¼šéè‡´å‘½çš„è¯Šæ–­ä¿¡æ¯</li>
<li><strong><code>CompileSkip</code></strong>ï¼š å› å…¶ä»–åŸå› è·³è¿‡è¯¥å‡½æ•°</li>
<li><strong><code>PipelineError</code></strong>ï¼š æ„å¤–çš„ç¼–è¯‘ç®¡çº¿é”™è¯¯</li>
<li><strong><code>Timing</code></strong>ï¼šæ€§èƒ½è®¡æ—¶ä¿¡æ¯</li>
</ul>
<p>è·å–è¯¦ç»†é”™è¯¯æ—¥å¿—ä¿¡æ¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10469cacdf334961a25fa427544a8ae9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=JBhsnsDpeX5mlMC%2BGEqlZw8q4ug%3D" alt="image.png" loading="lazy"/></p>
<p>5ã€Feature Flags - gatingã€ç”¨è¿è¡Œæ—¶çš„ç‰¹æ€§å¼€å…³ï¼Œç”¨äº A/B æµ‹è¯•æˆ–æ¸è¿›å¼å‘å¸ƒã€‘</p>
<p><code>gating</code>Â é€‰é¡¹å¯ç”¨æ¡ä»¶ç¼–è¯‘ï¼Œå…è®¸ä½ æ§åˆ¶æ˜¯å¦åœ¨è¿è¡Œæ—¶ä½¿ç”¨ä¼˜åŒ–ä»£ç </p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85c8830128534b13aaf2b0587ccd2fb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=QCB4UkcRPbJ4K4mj9NHRK0dzAsQ%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong><code>source</code></strong>ï¼šç”¨äºå¯¼å…¥ç‰¹æ€§å¼€å…³çš„æ¨¡å—è·¯å¾„</li>
<li><strong><code>importSpecifierName</code></strong>ï¼šè¦å¯¼å…¥çš„å·²å¯¼å‡ºå‡½æ•°çš„åå­—</li>
</ul>
<h4 data-id="heading-5">æ³¨æ„äº‹é¡¹Â </h4>
<ul>
<li>gating å‡½æ•°å¿…é¡»è¿”å›å¸ƒå°”å€¼</li>
<li>åŒæ—¶åŒ…å«ç¼–è¯‘ç‰ˆæœ¬ä¸åŸå§‹ç‰ˆæœ¬ä¼šå¢åŠ åŒ…å¤§å°</li>
<li>æ‰€æœ‰åŒ…å«å·²ç¼–è¯‘å‡½æ•°çš„æ–‡ä»¶éƒ½ä¼šè¢«æ·»åŠ è¯¥å¯¼å…¥</li>
</ul>
<p><strong>ç”¨æ³•</strong></p>
<p>1ã€åˆ›å»ºä¸€ä¸ªç‰¹æ€§å¼€å…³æ¨¡å—ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b118c6c33f0648d696fcd87518cf5782~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=ekVm3PWB370FVFtWF0kWre%2FnKNo%3D" alt="image.png" loading="lazy"/></p>
<p>2ã€é…ç½®ç¼–è¯‘å™¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aed9754cb7b9421da1bfeab8464678e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=shlC3jMjtwqDxrhCqqJxSp3Ilhg%3D" alt="image.png" loading="lazy"/></p>
<p>3ã€ç¼–è¯‘å™¨å°†ç”Ÿæˆ gated ä»£ç ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8631d4f46d7549c983ce356ba9675ac8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=rMi%2Bdzs9ZF0dWXzNrOOtwZNAvqA%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„ï¼šgating å‡½æ•°åœ¨æ¨¡å—åŠ è½½æ—¶åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå› æ­¤ä¸€æ—¦ JS åŒ…è¢«è§£æå¹¶æ‰§è¡Œï¼Œç»„ä»¶çš„é€‰æ‹©å°†åœ¨æœ¬æ¬¡æµè§ˆå™¨ä¼šè¯çš„å‰©ä½™æ—¶é—´å†…ä¿æŒä¸å˜</p>
<h2 data-id="heading-6">å››ã€æŒ‡ä»¤</h2>
<p>React ç¼–è¯‘å™¨æŒ‡ä»¤æ˜¯ç‰¹æ®Šçš„å­—ç¬¦ä¸²æ–‡å­—ï¼Œç”¨äºæ§åˆ¶ç‰¹å®šå‡½æ•°æ˜¯å¦è¢«ç¼–è¯‘</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97d702304f4e4993a26b42953d253dd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=446Bj0eQNTf%2Bfwp3VA7PUnbbLl0%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-7">å¯ç”¨çš„æŒ‡ä»¤Â </h3>
<ul>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.react.dev%2Freference%2Freact-compiler%2Fdirectives%2Fuse-memo" target="_blank" title="https://zh-hans.react.dev/reference/react-compiler/directives/use-memo" ref="nofollow noopener noreferrer"><code>"use memo"</code></a></strong> Â - è®©ä¸€ä¸ªå‡½æ•°é€‰æ‹©åŠ å…¥ç¼–è¯‘[å¼ºåˆ¶ç¼–è¯‘]:å½“ä½¿ç”¨Â <code>annotation</code>Â æ¨¡å¼æ—¶ï¼Œæˆ–éœ€è¦è¦†ç›–Â <code>infer</code>Â æ¨¡å¼çš„æ¨æ–­é€»è¾‘æ—¶</li>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.react.dev%2Freference%2Freact-compiler%2Fdirectives%2Fuse-no-memo" target="_blank" title="https://zh-hans.react.dev/reference/react-compiler/directives/use-no-memo" ref="nofollow noopener noreferrer"><code>"use no memo"</code></a></strong> Â - è®©ä¸€ä¸ªå‡½æ•°é€‰æ‹©é€€å‡ºç¼–è¯‘[é˜»æ­¢ç¼–è¯‘]:è°ƒè¯•é—®é¢˜æˆ–å¤„ç†ä¸å…¼å®¹çš„ä»£ç æ—¶</li>
</ul>
<p>1ã€å‡½æ•°çº§åˆ«</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a8c202d0af6440492e0bd922644d8fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=h3J7r%2F4Ma2X%2FY3Wut9gwZNYxI80%3D" alt="image.png" loading="lazy"/></p>
<p>2ã€æ¨¡å—çº§åˆ«</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/968e3dbdd231460e8eaf35c5175eba3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ25MaWFuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765866892&amp;x-signature=e%2FWeI6LzG31UDXCyUyqgsHuSczs%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[js å•ä¾‹æ¨¡å¼ 6 ç§å®ç°æ–¹å¼]]></title>    <link>https://juejin.cn/post/7581664885861072906</link>    <guid>https://juejin.cn/post/7581664885861072906</guid>    <pubDate>2025-12-09T06:56:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581664885861072906" data-draft-id="7581448482545942554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="js å•ä¾‹æ¨¡å¼ 6 ç§å®ç°æ–¹å¼"/> <meta itemprop="keywords" content="è®¾è®¡æ¨¡å¼,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T06:56:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="willxiao"/> <meta itemprop="url" content="https://juejin.cn/user/1556564195674830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            js å•ä¾‹æ¨¡å¼ 6 ç§å®ç°æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564195674830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    willxiao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:56:01.000Z" title="Tue Dec 09 2025 06:56:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>JavaScript ä¸­çš„å•ä¾‹æ¨¡å¼ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®ç‚¹ã€‚ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„å®ç°æ–¹å¼ï¼š</p>
<h2 data-id="heading-0">1.å¯¹è±¡å­—é¢é‡ï¼ˆæœ€ç®€å•çš„æ–¹å¼ï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Singleton</span> = {
  <span class="hljs-attr">property</span>: <span class="hljs-string">'value'</span>,
  <span class="hljs-title function_">method</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä½¿ç”¨ thisï¼ˆåœ¨æ–¹æ³•è¢«è§£æ„è°ƒç”¨æ—¶ä¼šä¸¢å¤±ä¸Šä¸‹æ–‡ï¼‰</span>
    <span class="hljs-comment">// console.log(this.property);</span>
    
    <span class="hljs-comment">// ä½¿ç”¨ Singletonï¼ˆæ›´å®‰å…¨ï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Singleton</span>.<span class="hljs-property">property</span>);
  }
};

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-title class_">Singleton</span>.<span class="hljs-title function_">method</span>();
</code></pre>
<p>JavaScript  å¯ä»¥ä½¿ç”¨å¯¹è±¡å­—é¢é‡å¿«é€Ÿåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œåˆ›å»ºçš„å¯¹è±¡æœ¬èº«å°±æ˜¯å•ä¾‹ã€‚è¿™ç§æ–¹å¼æœ€ä¸ºç®€å•ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ <code>this</code> çš„å¼•ç”¨å¯èƒ½å‡ºé—®é¢˜ã€‚</p>
<p>ä¸ºäº†è§£å†³ <code>this</code> çš„é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨å•ä¾‹å¯¹è±¡æœ¬èº«ã€‚</p>
<h2 data-id="heading-1">2.é—­åŒ…å®ç°</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">Singleton</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> instance;
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">createInstance</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> object = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(<span class="hljs-string">'I am the instance'</span>);
    <span class="hljs-keyword">return</span> object;
  }
  
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">getInstance</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">if</span> (!instance) {
        instance = <span class="hljs-title function_">createInstance</span>();
      }
      <span class="hljs-keyword">return</span> instance;
    }
  };
})();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> instance1 = <span class="hljs-title class_">Singleton</span>.<span class="hljs-title function_">getInstance</span>();
</code></pre>
<p>è¿™é‡Œåˆ©ç”¨äº†é—­åŒ…çš„ç‰¹æ€§å®ç°äº†æ¨¡å—çš„å°è£…å’Œå•ä¾‹å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿”å›ä¸€ä¸ª <code>getInstance</code> æ–¹æ³•ç”¨äºè·å–å®ä¾‹å¯¹è±¡ã€‚</p>
<h2 data-id="heading-2">3.ES6 Class å®ç°</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Singleton</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Singleton</span>.<span class="hljs-property">instance</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Singleton</span>.<span class="hljs-property">instance</span>;
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = <span class="hljs-string">'Singleton Data'</span>;
    <span class="hljs-title class_">Singleton</span>.<span class="hljs-property">instance</span> = <span class="hljs-variable language_">this</span>;
  }
  
  <span class="hljs-title function_">getData</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>;
  }
  
  <span class="hljs-title function_">setData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span> = data;
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> s1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singleton</span>();
<span class="hljs-keyword">const</span> s2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singleton</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s1 === s2); <span class="hljs-comment">// true</span>
s1.<span class="hljs-title function_">setData</span>(<span class="hljs-string">'New Data'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s2.<span class="hljs-title function_">getData</span>()); <span class="hljs-comment">// 'New Data'</span>
</code></pre>
<p>è¿™é‡Œçš„ <code>instance</code> æ˜¯ä¸€ä¸ªé™æ€å˜é‡ï¼Œè¿™ç§æ–¹å¼åœ¨ <code>constructor</code> çš„æœ€åå°† <code>this</code> èµ‹å€¼ç»™ <code>instance</code>ã€‚</p>
<h2 data-id="heading-3">4.æ”¹è¿›çš„ class å®ç°ï¼ˆtypescript ç‰ˆæœ¬ï¼‰</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Singleton</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> instance?: <span class="hljs-title class_">Singleton</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {}

  <span class="hljs-keyword">static</span> <span class="hljs-title function_">getInstance</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Singleton</span>.<span class="hljs-property">instance</span>) {
      <span class="hljs-title class_">Singleton</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Singleton</span>();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Singleton</span>.<span class="hljs-property">instance</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> s1 = <span class="hljs-title class_">Singleton</span>.<span class="hljs-title function_">getInstance</span>();
<span class="hljs-keyword">const</span> s2 = <span class="hljs-title class_">Singleton</span>.<span class="hljs-title function_">getInstance</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(s1 === s2); <span class="hljs-comment">// true</span>
</code></pre>
<p>typescript ç‰ˆæœ¬æŠ½å– <code>getInstance</code> æ–¹æ³•ï¼Œè®©ä»£ç æ›´å¯è¯»ã€‚ä½¿ç”¨ <code>private</code> å…³é”®å­—å®ç°ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä¿è¯ä»£ç ä¸ä¼šè¢«éšæ„ç¯¡æ”¹ã€‚</p>
<h2 data-id="heading-4">5.ES6 æ¨¡å—æ¨¡å¼çš„å•ä¾‹</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨æ¨¡å—æ–‡ä»¶ä¸­</span>
<span class="hljs-keyword">let</span> instance = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Database</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">if</span> (instance) {
      <span class="hljs-keyword">return</span> instance;
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">connection</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">connect</span>(config);
    instance = <span class="hljs-variable language_">this</span>;
  }
  
  <span class="hljs-title function_">connect</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">connected</span>: <span class="hljs-literal">true</span>, config };
  }
}

<span class="hljs-comment">// å¯¼å‡ºä¸€ä¸ªè·å–å®ä¾‹çš„å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getInstance= (<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">let</span> instance = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!instance) {
      instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Database</span>(config);
    }
    <span class="hljs-keyword">return</span> instance;
  };
})();
</code></pre>
<p>è¿™ç§æ–¹å¼åˆ©ç”¨ ES6 æ¨¡å—å˜é‡çš„å¼•ç”¨å…±äº«ç‰¹æ€§ï¼Œä¿è¯ <code>instance</code> å”¯ä¸€ã€‚å¯¼å‡ºä¸€ä¸ª <code>getInstance</code> æ–¹æ³•ã€‚</p>
<h2 data-id="heading-5">6.ES6 æ¨¡å—æœ¬èº«å°±æ˜¯å•ä¾‹</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Database</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">connection</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">connect</span>(config);
  }
  
  <span class="hljs-title function_">connect</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">connected</span>: <span class="hljs-literal">true</span>, config };
  }
}

<span class="hljs-comment">// ç›´æ¥å¯¼å‡ºä¸€ä¸ªå®ä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Database</span>({ <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span> });
</code></pre>
<p>å®æµ‹è¯æ˜ï¼Œå¯¼å‡ºçš„å®ä¾‹åœ¨å¤šä¸ªæ¨¡å—é—´æ˜¯å…±äº«çš„ã€‚</p>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>JavaScript å®ç°å•ä¾‹æ¨¡å¼çš„æ–¹å¼å¾ˆå¤šï¼Œè¿™é‡Œä»‹ç»å¸¸ç”¨çš„6ç§ï¼Œä¸»è¦åˆ†4å¤§ç±»ï¼šå¯¹è±¡å­—é¢é‡ã€é—­åŒ…å®ç°ã€ ES6 class å®ç°ã€ES6 æ¨¡å—æ¨¡å¼å®ç°ã€‚</p>
<p>é€‰æ‹©å“ªç§å®ç°æ–¹å¼å–å†³äºå…·ä½“éœ€æ±‚ï¼Œç®€å•åœºæ™¯å¯ä»¥ä½¿ç”¨å¯¹è±¡å­—é¢é‡ï¼Œå¤æ‚åœºæ™¯å»ºè®®ä½¿ç”¨ ES6 Class æˆ– ES6 æ¨¡å—æ¨¡å¼å®ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React 19 ç”Ÿå‘½å‘¨æœŸï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7581437632855113768</link>    <guid>https://juejin.cn/post/7581437632855113768</guid>    <pubDate>2025-12-09T06:46:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581437632855113768" data-draft-id="7581477397507866658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React 19 ç”Ÿå‘½å‘¨æœŸï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="React.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T06:46:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªçˆ±åƒç³–çš„å°ç¾Š"/> <meta itemprop="url" content="https://juejin.cn/user/1865251025859358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React 19 ç”Ÿå‘½å‘¨æœŸï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1865251025859358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªçˆ±åƒç³–çš„å°ç¾Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:46:47.000Z" title="Tue Dec 09 2025 06:46:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©æ¥èŠèŠ React 19 ä¸­çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœä½ ä¹‹å‰å†™è¿‡ç±»ç»„ä»¶ï¼Œå¯èƒ½è¿˜è®°å¾—é‚£ä¸€å † <code>componentDidMount</code>ã€<code>componentWillUnmount</code> ä¹‹ç±»çš„æ–¹æ³•ã€‚ä¸è¿‡ç°åœ¨éƒ½ 2025 å¹´äº†ï¼Œå‡½æ•°ç»„ä»¶ + Hooks æ—©å°±æˆä¸ºä¸»æµï¼Œæ‰€ä»¥ä»Šå¤©æˆ‘ä»¬ä¸»è¦èŠèŠåœ¨å‡½æ•°ç»„ä»¶ä¸­å¦‚ä½•ä¼˜é›…åœ°å¤„ç†ç”Ÿå‘½å‘¨æœŸã€‚</p>
<h2 data-id="heading-0">å…ˆè¯´è¯´ä»€ä¹ˆæ˜¯ç”Ÿå‘½å‘¨æœŸ</h2>
<p>ç®€å•æ¥è¯´ï¼Œç”Ÿå‘½å‘¨æœŸå°±æ˜¯ç»„ä»¶ä»"å‡ºç”Ÿ"åˆ°"æ­»äº¡"çš„æ•´ä¸ªè¿‡ç¨‹ã€‚å°±åƒæˆ‘ä»¬äººä¸€æ ·ï¼Œæœ‰å‡ºç”Ÿã€æˆé•¿ã€è¡°è€ã€æ­»äº¡ï¼ŒReact ç»„ä»¶ä¹Ÿæ˜¯ï¼š</p>
<pre><code class="hljs">åˆ›å»º â†’ æŒ‚è½½åˆ°é¡µé¢ â†’ æ›´æ–°æ•°æ® â†’ å†æ›´æ–° â†’ æœ€ç»ˆå¸è½½
</code></pre>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­çš„æ¯ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åšä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ç»„ä»¶åˆšæŒ‚è½½æ—¶å»è¯·æ±‚æ•°æ®</li>
<li>æ•°æ®æ›´æ–°åé‡æ–°è®¡ç®—ä¸€äº›å€¼</li>
<li>ç»„ä»¶è¦å¸è½½æ—¶æ¸…ç†å®šæ—¶å™¨ã€å–æ¶ˆè®¢é˜…ç­‰</li>
</ul>
<h2 data-id="heading-1">React 19 çš„ç”Ÿå‘½å‘¨æœŸï¼šHooks æ—¶ä»£</h2>
<p>åœ¨ç°ä»£ React ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨è¿™å‡ ä¸ª Hook æ¥å¤„ç†ç”Ÿå‘½å‘¨æœŸï¼š</p>
<h3 data-id="heading-2">1. useEffect - æœ€å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸ Hook</h3>
<p>è¿™æ˜¯ä½ ä¼šç”¨å¾—æœ€å¤šçš„ä¸€ä¸ªã€‚æˆ‘åˆšå¼€å§‹å­¦çš„æ—¶å€™ï¼Œæ€»æŠŠå®ƒç†è§£æˆ"å‰¯ä½œç”¨"ï¼Œå¬èµ·æ¥æŒºé«˜å¤§ä¸Šï¼Œå…¶å®è¯´ç™½äº†å°±æ˜¯ï¼š<strong>åœ¨ç»„ä»¶æ¸²æŸ“ååšç‚¹äº‹æƒ…</strong>ã€‚</p>
<h4 data-id="heading-3">åŸºç¡€ç”¨æ³•ï¼šæŒ‚è½½æ—¶æ‰§è¡Œ</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-keyword">const</span> [user, setUser] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);

  <span class="hljs-comment">// ç»„ä»¶æŒ‚è½½åæ‰§è¡Œ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶æŒ‚è½½äº†ï¼'</span>);
    
    <span class="hljs-comment">// è·å–ç”¨æˆ·æ•°æ®</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${userId}</span>`</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
        <span class="hljs-title function_">setUser</span>(data);
        <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
      });
  }, []); <span class="hljs-comment">// ç©ºæ•°ç»„è¡¨ç¤ºåªåœ¨æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡</span>

  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{user.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>è¿™é‡Œæœ‰ä¸ªå‘</strong>ï¼šå¾ˆå¤šæ–°æ‰‹ä¼šå¿˜è®°å†™ä¾èµ–æ•°ç»„ <code>[]</code>ï¼Œç»“æœæ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“éƒ½ä¼šè§¦å‘ useEffectï¼Œç„¶åå°±é™·å…¥æ— é™å¾ªç¯äº†ã€‚æˆ‘å½“å¹´ä¹Ÿè¸©è¿‡è¿™ä¸ªå‘ï¼Œdebug äº†åŠå¤©æ‰å‘ç° ğŸ˜…</p>
<h4 data-id="heading-4">ç›‘å¬å˜åŒ–ï¼šä¾èµ–æ•°ç»„</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchResults</span>(<span class="hljs-params">{ keyword }</span>) {
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åªæœ‰å½“ keyword å˜åŒ–æ—¶æ‰æ‰§è¡Œ</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœç´¢å…³é”®è¯å˜äº†: <span class="hljs-subst">${keyword}</span>`</span>);
    
    <span class="hljs-keyword">if</span> (keyword.<span class="hljs-title function_">trim</span>()) {
      <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?q=<span class="hljs-subst">${keyword}</span>`</span>)
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">setResults</span>(data));
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">setResults</span>([]);
    }
  }, [keyword]); <span class="hljs-comment">// ä¾èµ– keyword</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {results.map(item =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>å®æˆ˜ç»éªŒ</strong>ï¼šä¾èµ–æ•°ç»„é‡Œè¦è¯šå®ï¼Œç”¨äº†ä»€ä¹ˆå°±å†™ä»€ä¹ˆã€‚åˆ«æƒ³ç€å·æ‡’çœç•¥ï¼ŒESLint ä¼šæé†’ä½ çš„ï¼ˆè™½ç„¶æˆ‘çŸ¥é“ä½ å¯èƒ½ä¼šæƒ³å…³æ‰æç¤º ğŸ˜‚ï¼‰ã€‚</p>
<h4 data-id="heading-5">æ¸…ç†å‡½æ•°ï¼šç»„ä»¶å¸è½½æ—¶æ‰§è¡Œ</h4>
<p>è¿™ä¸ªç‰¹åˆ«é‡è¦ï¼ä¸åšæ¸…ç†ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œç„¶åä½ çš„åº”ç”¨å°±ä¼šè¶Šè·‘è¶Šæ…¢ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Timer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [seconds, setSeconds] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶å™¨å¼€å§‹'</span>);
    
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setSeconds</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>);
    }, <span class="hljs-number">1000</span>);

    <span class="hljs-comment">// è¿”å›æ¸…ç†å‡½æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶å™¨æ¸…ç†'</span>);
      <span class="hljs-built_in">clearInterval</span>(timer); <span class="hljs-comment">// ä¸€å®šè¦æ¸…ç†ï¼</span>
    };
  }, []);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²è¿è¡Œ {seconds} ç§’<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p><strong>æˆ‘è¸©è¿‡çš„å‘</strong>ï¼šæ›¾ç»å†™äº†ä¸ªèŠå¤©åº”ç”¨ï¼ŒWebSocket è¿æ¥æ²¡æœ‰åœ¨ç»„ä»¶å¸è½½æ—¶å…³é—­ï¼Œç»“æœç”¨æˆ·åˆ‡æ¢é¡µé¢åï¼Œåå°è¿˜åœ¨ç–¯ç‹‚æ¥æ”¶æ¶ˆæ¯ï¼Œæœ€åæµè§ˆå™¨ç›´æ¥å¡æ­»äº†ã€‚æ‰€ä»¥æ¸…ç†å‡½æ•°çœŸçš„å¾ˆé‡è¦ï¼</p>
<h3 data-id="heading-6">2. useLayoutEffect - DOM æ›´æ–°åç«‹å³æ‰§è¡Œ</h3>
<p>è¿™ä¸ªè·Ÿ <code>useEffect</code> å¾ˆåƒï¼Œä½†æ‰§è¡Œæ—¶æœºä¸åŒï¼š</p>
<ul>
<li><code>useEffect</code>ï¼šæµè§ˆå™¨ç»˜åˆ¶å®Œæˆåæ‰§è¡Œï¼ˆå¼‚æ­¥ï¼‰</li>
<li><code>useLayoutEffect</code>ï¼šDOM æ›´æ–°åã€æµè§ˆå™¨ç»˜åˆ¶å‰æ‰§è¡Œï¼ˆåŒæ­¥ï¼‰</li>
</ul>
<p>å¬èµ·æ¥æœ‰ç‚¹ç»•ï¼Ÿæˆ‘ç”»ä¸ªå›¾ï¼š</p>
<pre><code class="hljs">çŠ¶æ€æ›´æ–° â†’ DOM æ›´æ–° â†’ useLayoutEffect æ‰§è¡Œ â†’ æµè§ˆå™¨ç»˜åˆ¶ â†’ useEffect æ‰§è¡Œ
</code></pre>
<h4 data-id="heading-7">ä»€ä¹ˆæ—¶å€™ç”¨ useLayoutEffectï¼Ÿ</h4>
<p>è¯´å®è¯ï¼Œ99% çš„æƒ…å†µç”¨ <code>useEffect</code> å°±å¤Ÿäº†ã€‚åªæœ‰åœ¨è¿™äº›åœºæ™¯æ‰éœ€è¦ <code>useLayoutEffect</code>ï¼š</p>
<p><strong>åœºæ™¯ 1ï¼šéœ€è¦æµ‹é‡ DOM å°ºå¯¸</strong></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useLayoutEffect, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Tooltip</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">const</span> tooltipRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [position, setPosition] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> });

  <span class="hljs-title function_">useLayoutEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç«‹å³æµ‹é‡ DOMï¼Œé¿å…é—ªçƒ</span>
    <span class="hljs-keyword">const</span> rect = tooltipRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">getBoundingClientRect</span>();
    
    <span class="hljs-title function_">setPosition</span>({
      <span class="hljs-attr">top</span>: rect.<span class="hljs-property">bottom</span> + <span class="hljs-number">10</span>,
      <span class="hljs-attr">left</span>: rect.<span class="hljs-property">left</span>
    });
  }, [children]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{tooltipRef}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
        <span class="hljs-attr">className</span>=<span class="hljs-string">"tooltip"</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> 
          <span class="hljs-attr">position:</span> '<span class="hljs-attr">fixed</span>',
          <span class="hljs-attr">top:</span> <span class="hljs-attr">position.top</span>,
          <span class="hljs-attr">left:</span> <span class="hljs-attr">position.left</span> 
        }}
      &gt;</span>
        æç¤ºä¿¡æ¯
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<p>å¦‚æœç”¨ <code>useEffect</code>ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°æç¤ºæ¡†å…ˆå‡ºç°åœ¨é”™è¯¯ä½ç½®ï¼Œç„¶åé—ªä¸€ä¸‹è·³åˆ°æ­£ç¡®ä½ç½®ï¼Œä½“éªŒå¾ˆå·®ã€‚ç”¨ <code>useLayoutEffect</code> å°±èƒ½åœ¨ç»˜åˆ¶å‰è®¡ç®—å¥½ä½ç½®ï¼Œé¿å…é—ªçƒã€‚</p>
<p><strong>åœºæ™¯ 2ï¼šåŠ¨ç”»å‰çš„å‡†å¤‡</strong></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">FadeIn</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">const</span> ref = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useLayoutEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è®¾ç½®åˆå§‹çŠ¶æ€ï¼ˆé€æ˜ï¼‰</span>
    ref.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = <span class="hljs-string">'0'</span>;
    
    <span class="hljs-comment">// ä¸‹ä¸€å¸§å¼€å§‹åŠ¨ç”»</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      ref.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transition</span> = <span class="hljs-string">'opacity 0.3s'</span>;
      ref.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = <span class="hljs-string">'1'</span>;
    });
  }, []);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{ref}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p><strong>æˆ‘çš„å»ºè®®</strong>ï¼šå…ˆç”¨ <code>useEffect</code>ï¼Œå¦‚æœå‘ç°æœ‰è§†è§‰é—ªçƒæˆ–æŠ–åŠ¨ï¼Œå†æ”¹æˆ <code>useLayoutEffect</code>ã€‚ä¸è¦ä¸€ä¸Šæ¥å°±ç”¨ <code>useLayoutEffect</code>ï¼Œå®ƒæ˜¯åŒæ­¥çš„ï¼Œä¼šé˜»å¡æ¸²æŸ“ï¼Œç”¨å¤šäº†ä¼šè®©é¡µé¢å¡é¡¿ã€‚</p>
<h3 data-id="heading-8">3. useInsertionEffect - CSS-in-JS ä¸“ç”¨</h3>
<p>è¿™ä¸ªæ˜¯ React 18 å¼•å…¥çš„ï¼ŒReact 19 ç»§ç»­ä¿ç•™ã€‚è€å®è¯´ï¼Œé™¤éä½ åœ¨å†™ CSS-in-JS åº“ï¼ˆæ¯”å¦‚ styled-componentsã€emotionï¼‰ï¼Œå¦åˆ™åŸºæœ¬ç”¨ä¸åˆ°ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useInsertionEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useCSS</span>(<span class="hljs-params">rule</span>) {
  <span class="hljs-title function_">useInsertionEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨ DOM æ›´æ–°å‰æ’å…¥æ ·å¼</span>
    <span class="hljs-keyword">const</span> style = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
    style.<span class="hljs-property">textContent</span> = rule;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(style);
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">removeChild</span>(style);
    };
  }, [rule]);
}
</code></pre>
<p>æ‰§è¡Œé¡ºåºæ˜¯ï¼š</p>
<pre><code class="hljs">useInsertionEffect â†’ useLayoutEffect â†’ æµè§ˆå™¨ç»˜åˆ¶ â†’ useEffect
</code></pre>
<p><strong>æ™®é€šå¼€å‘è€…</strong>ï¼šåŸºæœ¬ä¸ä¼šç”¨åˆ°ï¼ŒçŸ¥é“æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿å°±è¡Œã€‚</p>
<h3 data-id="heading-9">4. useEffect çš„å¤šç§ä½¿ç”¨æ¨¡å¼</h3>
<h4 data-id="heading-10">æ¨¡å¼ 1ï¼šåªåœ¨æŒ‚è½½æ—¶æ‰§è¡Œï¼ˆcomponentDidMountï¼‰</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æˆ‘åªæ‰§è¡Œä¸€æ¬¡ï¼'</span>);
  <span class="hljs-comment">// åˆå§‹åŒ–æ“ä½œ</span>
}, []); <span class="hljs-comment">// ç©ºä¾èµ–æ•°ç»„</span>
</code></pre>
<h4 data-id="heading-11">æ¨¡å¼ 2ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œï¼ˆcomponentDidUpdateï¼‰</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œï¼'</span>);
  <span class="hljs-comment">// é€šå¸¸ä¸æ¨èè¿™æ ·åš</span>
}); <span class="hljs-comment">// æ²¡æœ‰ä¾èµ–æ•°ç»„</span>
</code></pre>
<p><strong>è­¦å‘Š</strong>ï¼šè¿™ä¸ªè¦æ…ç”¨ï¼å¾ˆå®¹æ˜“é€ æˆæ€§èƒ½é—®é¢˜ã€‚</p>
<h4 data-id="heading-12">æ¨¡å¼ 3ï¼šç›‘å¬ç‰¹å®šå€¼å˜åŒ–</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'count å˜äº†ï¼'</span>);
}, [count]); <span class="hljs-comment">// åªåœ¨ count å˜åŒ–æ—¶æ‰§è¡Œ</span>
</code></pre>
<h4 data-id="heading-13">æ¨¡å¼ 4ï¼šå¸è½½æ—¶æ¸…ç†ï¼ˆcomponentWillUnmountï¼‰</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶å¸è½½äº†ï¼'</span>);
    <span class="hljs-comment">// æ¸…ç†æ“ä½œ</span>
  };
}, []);
</code></pre>
<h2 data-id="heading-14">å®æˆ˜åœºæ™¯è¯¦è§£</h2>
<p>å¥½äº†ï¼Œç†è®ºè¯´å®Œäº†ï¼Œå’±ä»¬æ¥çœ‹çœ‹å®é™…é¡¹ç›®ä¸­æ€ä¹ˆç”¨ã€‚</p>
<h3 data-id="heading-15">åœºæ™¯ 1ï¼šæ•°æ®è¯·æ±‚</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„åœºæ™¯ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ArticleList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [articles, setArticles] = <span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [error, setError] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è¿™ä¸ª flag å¾ˆé‡è¦ï¼Œé˜²æ­¢ç»„ä»¶å¸è½½åè¿˜åœ¨ setState</span>
    <span class="hljs-keyword">let</span> isMounted = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchArticles</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/articles'</span>);
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
        
        <span class="hljs-comment">// åªæœ‰ç»„ä»¶è¿˜åœ¨æ—¶æ‰æ›´æ–°çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setArticles</span>(data);
          <span class="hljs-title function_">setError</span>(<span class="hljs-literal">null</span>);
        }
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setError</span>(err.<span class="hljs-property">message</span>);
        }
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
        }
      }
    }

    <span class="hljs-title function_">fetchArticles</span>();

    <span class="hljs-comment">// æ¸…ç†ï¼šæ ‡è®°ç»„ä»¶å·²å¸è½½</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      isMounted = <span class="hljs-literal">false</span>;
    };
  }, []);

  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å‡ºé”™äº†ï¼š{error}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {articles.map(article =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{article.id}</span>&gt;</span>{article.title}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>æˆ‘è¸©è¿‡çš„å‘</strong>ï¼šä¹‹å‰æ²¡åŠ  <code>isMounted</code> æ ‡å¿—ï¼Œç”¨æˆ·å¿«é€Ÿåˆ‡æ¢é¡µé¢æ—¶ä¼šæŠ¥é”™"Can't perform a React state update on an unmounted component"ã€‚åŠ ä¸Šè¿™ä¸ªæ ‡å¿—åä¸–ç•Œæ¸…å‡€äº†ã€‚</p>
<h3 data-id="heading-16">åœºæ™¯ 2ï¼šè®¢é˜…å’Œå–æ¶ˆè®¢é˜…</h3>
<p>æ¯”å¦‚ WebSocketã€EventBusã€å®æ—¶æ•°æ®æµç­‰ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ChatRoom</span>(<span class="hljs-params">{ roomId }</span>) {
  <span class="hljs-keyword">const</span> [messages, setMessages] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è¿æ¥åˆ°èŠå¤©å®¤</span>
    <span class="hljs-keyword">const</span> socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">`wss://chat.example.com/<span class="hljs-subst">${roomId}</span>`</span>);

    socket.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å·²è¿æ¥åˆ°æˆ¿é—´ <span class="hljs-subst">${roomId}</span>`</span>);
    };

    socket.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> message = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);
      <span class="hljs-title function_">setMessages</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, message]);
    };

    socket.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'WebSocket é”™è¯¯:'</span>, error);
    };

    <span class="hljs-comment">// æ¸…ç†ï¼šå…³é—­è¿æ¥</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ–­å¼€æˆ¿é—´ <span class="hljs-subst">${roomId}</span> è¿æ¥`</span>);
      socket.<span class="hljs-title function_">close</span>();
    };
  }, [roomId]); <span class="hljs-comment">// roomId å˜åŒ–æ—¶é‡æ–°è¿æ¥</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>èŠå¤©å®¤ {roomId}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"messages"</span>&gt;</span>
        {messages.map((msg, index) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>{msg.text}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šä¾èµ–æ•°ç»„é‡Œå†™äº† <code>roomId</code>ï¼Œæ‰€ä»¥å½“ç”¨æˆ·åˆ‡æ¢æˆ¿é—´æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œæ¸…ç†å‡½æ•°ï¼ˆå…³é—­æ—§è¿æ¥ï¼‰ï¼Œç„¶åå†å»ºç«‹æ–°è¿æ¥ã€‚è¿™ä¸ªé€»è¾‘å¾ˆä¼˜é›…ï¼</p>
<h3 data-id="heading-17">åœºæ™¯ 3ï¼šå®šæ—¶å™¨å’Œè½®è¯¢</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">StockPrice</span>(<span class="hljs-params">{ <span class="hljs-built_in">symbol</span> }</span>) {
  <span class="hljs-keyword">const</span> [price, setPrice] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç«‹å³è·å–ä¸€æ¬¡</span>
    <span class="hljs-title function_">fetchPrice</span>();

    <span class="hljs-comment">// æ¯ 5 ç§’è½®è¯¢ä¸€æ¬¡</span>
    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">fetchPrice</span>();
    }, <span class="hljs-number">5000</span>);

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchPrice</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/stock/<span class="hljs-subst">${<span class="hljs-built_in">symbol</span>}</span>`</span>);
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
        <span class="hljs-title function_">setPrice</span>(data.<span class="hljs-property">price</span>);
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–è‚¡ä»·å¤±è´¥:'</span>, error);
      }
    }

    <span class="hljs-comment">// æ¸…ç†å®šæ—¶å™¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-built_in">clearInterval</span>(interval);
    };
  }, [<span class="hljs-built_in">symbol</span>]); <span class="hljs-comment">// symbol å˜åŒ–æ—¶é‡æ–°è½®è¯¢</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {symbol}: ${price ?? 'åŠ è½½ä¸­...'}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-18">åœºæ™¯ 4ï¼šç›‘å¬æµè§ˆå™¨äº‹ä»¶</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useWindowSize</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [size, setSize] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">width</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>
  });

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleResize</span>(<span class="hljs-params"/>) {
      <span class="hljs-title function_">setSize</span>({
        <span class="hljs-attr">width</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>
      });
    }

    <span class="hljs-comment">// æ·»åŠ äº‹ä»¶ç›‘å¬</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize);

    <span class="hljs-comment">// æ¸…ç†äº‹ä»¶ç›‘å¬</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize);
    };
  }, []); <span class="hljs-comment">// åªåœ¨æŒ‚è½½æ—¶æ·»åŠ ï¼Œå¸è½½æ—¶ç§»é™¤</span>

  <span class="hljs-keyword">return</span> size;
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ResponsiveComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { width, height } = <span class="hljs-title function_">useWindowSize</span>();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      çª—å£å¤§å°: {width} x {height}
      {width &lt; 768 ? <span class="hljs-tag">&lt;<span class="hljs-name">MobileView</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">DesktopView</span> /&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-19">åœºæ™¯ 5ï¼šæ–‡æ¡£æ ‡é¢˜åŒæ­¥</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useDocumentTitle</span>(<span class="hljs-params">title</span>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> prevTitle = <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = title;

    <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶æ¢å¤åŸæ ‡é¢˜</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = prevTitle;
    };
  }, [title]);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ArticlePage</span>(<span class="hljs-params">{ article }</span>) {
  <span class="hljs-title function_">useDocumentTitle</span>(article.<span class="hljs-property">title</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">article</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{article.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{article.content}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-20">åœºæ™¯ 6ï¼šè¡¨å•è‡ªåŠ¨ä¿å­˜</h3>
<p>è¿™ä¸ªåœ¨å®é™…é¡¹ç›®ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œç”¨æˆ·ä½“éªŒä¼šå¥½å¾ˆå¤šã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">AutoSaveForm</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [formData, setFormData] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">title</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">content</span>: <span class="hljs-string">''</span>
  });
  <span class="hljs-keyword">const</span> [lastSaved, setLastSaved] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-comment">// é˜²æŠ–ï¼šå†…å®¹å˜åŒ– 2 ç§’åè‡ªåŠ¨ä¿å­˜</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (formData.<span class="hljs-property">title</span> || formData.<span class="hljs-property">content</span>) {
        <span class="hljs-title function_">saveToServer</span>(formData);
        <span class="hljs-title function_">setLastSaved</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>());
      }
    }, <span class="hljs-number">2000</span>);

    <span class="hljs-comment">// æ¸…ç†ä¸Šä¸€ä¸ªå®šæ—¶å™¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer);
  }, [formData]); <span class="hljs-comment">// formData å˜åŒ–æ—¶é‡æ–°è®¾ç½®å®šæ—¶å™¨</span>

  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">saveToServer</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/drafts'</span>, {
        <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
        <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data)
      });
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è‡ªåŠ¨ä¿å­˜æˆåŠŸ'</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ä¿å­˜å¤±è´¥:'</span>, error);
    }
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.title}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setFormData({ ...formData, title: e.target.value })}
        placeholder="æ ‡é¢˜"
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{formData.content}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setFormData({ ...formData, content: e.target.value })}
        placeholder="å†…å®¹"
      /&gt;
      {lastSaved &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"save-status"</span>&gt;</span>
          æœ€åä¿å­˜äº {lastSaved.toLocaleTimeString()}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>ä¼˜åŒ–æŠ€å·§</strong>ï¼šè¿™é‡Œæ¯æ¬¡ formData å˜åŒ–éƒ½ä¼šæ¸…é™¤æ—§å®šæ—¶å™¨ã€è®¾ç½®æ–°å®šæ—¶å™¨ï¼Œå®ç°äº†é˜²æŠ–æ•ˆæœã€‚ç”¨æˆ·åœæ­¢è¾“å…¥ 2 ç§’åæ‰ä¼šçœŸæ­£å‘é€è¯·æ±‚ï¼Œé¿å…é¢‘ç¹è¯·æ±‚æœåŠ¡å™¨ã€‚</p>
<h3 data-id="heading-21">åœºæ™¯ 7ï¼šæ»šåŠ¨ä½ç½®æ¢å¤</h3>
<p>è¿™ä¸ªåœ¨åˆ—è¡¨é¡µç‰¹åˆ«æœ‰ç”¨ï¼Œç”¨æˆ·ä»è¯¦æƒ…é¡µè¿”å›æ—¶èƒ½å›åˆ°ä¹‹å‰çš„æ»šåŠ¨ä½ç½®ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ProductList</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [products, setProducts] = <span class="hljs-title function_">useState</span>([]);
  <span class="hljs-keyword">const</span> scrollPos = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// æ¢å¤æ»šåŠ¨ä½ç½®</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, scrollPos.<span class="hljs-property">current</span>);

    <span class="hljs-comment">// ç›‘å¬æ»šåŠ¨ï¼Œä¿å­˜ä½ç½®</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params"/>) {
      scrollPos.<span class="hljs-property">current</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span>;
    }

    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll);

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll);
    };
  }, []);

  <span class="hljs-comment">// è·å–æ•°æ®...</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"product-list"</span>&gt;</span>
      {products.map(product =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">ProductCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{product.id}</span> <span class="hljs-attr">product</span>=<span class="hljs-string">{product}</span> /&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-22">åœºæ™¯ 8ï¼šå›¾ç‰‡æ‡’åŠ è½½</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">LazyImage</span>(<span class="hljs-params">{ src, alt }</span>) {
  <span class="hljs-keyword">const</span> imgRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [isVisible, setIsVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åˆ›å»º Intersection Observer</span>
    <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(
      <span class="hljs-function">(<span class="hljs-params">[entry]</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
          <span class="hljs-title function_">setIsVisible</span>(<span class="hljs-literal">true</span>);
          observer.<span class="hljs-title function_">disconnect</span>(); <span class="hljs-comment">// åŠ è½½åå°±ä¸å†è§‚å¯Ÿ</span>
        }
      },
      { <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.1</span> } <span class="hljs-comment">// 10% å¯è§æ—¶è§¦å‘</span>
    );

    <span class="hljs-keyword">if</span> (imgRef.<span class="hljs-property">current</span>) {
      observer.<span class="hljs-title function_">observe</span>(imgRef.<span class="hljs-property">current</span>);
    }

    <span class="hljs-comment">// æ¸…ç†</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      observer.<span class="hljs-title function_">disconnect</span>();
    };
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span>
      <span class="hljs-attr">ref</span>=<span class="hljs-string">{imgRef}</span>
      <span class="hljs-attr">src</span>=<span class="hljs-string">{isVisible</span> ? <span class="hljs-attr">src</span> <span class="hljs-attr">:</span> '/<span class="hljs-attr">placeholder.png</span>'}
      <span class="hljs-attr">alt</span>=<span class="hljs-string">{alt}</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">minHeight:</span> '<span class="hljs-attr">200px</span>' }}
    /&gt;</span></span>
  );
}
</code></pre>
<h2 data-id="heading-23">å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-24">é”™è¯¯ 1ï¼šæ— é™å¾ªç¯</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¼šæ— é™å¾ªç¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">BadComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè§¦å‘</span>
  }); <span class="hljs-comment">// æ²¡æœ‰ä¾èµ–æ•°ç»„ï¼</span>

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoodComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>);
  }, []); <span class="hljs-comment">// åªæ‰§è¡Œä¸€æ¬¡</span>
}
</code></pre>
<h3 data-id="heading-25">é”™è¯¯ 2ï¼šåœ¨æ¸…ç†å‡½æ•°ä¸­è®¿é—®è¿‡æœŸçš„çŠ¶æ€</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// âŒ å¯èƒ½æœ‰é—®é¢˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">BadTimer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count æ˜¯é—­åŒ…ä¸­çš„æ—§å€¼</span>
    }, <span class="hljs-number">1000</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
  }, []); <span class="hljs-comment">// count ä¸åœ¨ä¾èµ–æ•°ç»„ä¸­</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨å‡½æ•°å¼æ›´æ–°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoodTimer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>); <span class="hljs-comment">// ä½¿ç”¨å‰ä¸€ä¸ªå€¼</span>
    }, <span class="hljs-number">1000</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
  }, []);
}
</code></pre>
<h3 data-id="heading-26">é”™è¯¯ 3ï¼šå¿˜è®°æ¸…ç†</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// âŒ å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">BadComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> subscription = <span class="hljs-title function_">subscribeToData</span>();
    <span class="hljs-comment">// å¿˜è®°è¿”å›æ¸…ç†å‡½æ•°ï¼</span>
  }, []);
}

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoodComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> subscription = <span class="hljs-title function_">subscribeToData</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      subscription.<span class="hljs-title function_">unsubscribe</span>(); <span class="hljs-comment">// æ¸…ç†è®¢é˜…</span>
    };
  }, []);
}
</code></pre>
<h3 data-id="heading-27">é”™è¯¯ 4ï¼šä¾èµ–æ•°ç»„ä¸å®Œæ•´</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// âŒ ESLint ä¼šè­¦å‘Š</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">BadSearch</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchUserData</span>(userId); <span class="hljs-comment">// ä½¿ç”¨äº† userId</span>
  }, []); <span class="hljs-comment">// ä½†ä¾èµ–æ•°ç»„é‡Œæ²¡æœ‰ï¼</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoodSearch</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchUserData</span>(userId);
  }, [userId]); <span class="hljs-comment">// è¯šå®åœ°å†™ä¸Šæ‰€æœ‰ä¾èµ–</span>
}
</code></pre>
<h2 data-id="heading-28">è¿›é˜¶æŠ€å·§</h2>
<h3 data-id="heading-29">æŠ€å·§ 1ï¼šè‡ªå®šä¹‰ Hook å°è£…ç”Ÿå‘½å‘¨æœŸé€»è¾‘</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// å°è£…æ•°æ®è¯·æ±‚é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useFetch</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [error, setError] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> isMounted = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
        <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
        
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setData</span>(json);
          <span class="hljs-title function_">setError</span>(<span class="hljs-literal">null</span>);
        }
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setError</span>(err.<span class="hljs-property">message</span>);
        }
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
        }
      }
    }

    <span class="hljs-title function_">fetchData</span>();

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      isMounted = <span class="hljs-literal">false</span>;
    };
  }, [url]);

  <span class="hljs-keyword">return</span> { data, loading, error };
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserProfile</span>(<span class="hljs-params">{ userId }</span>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: user, loading, error } = <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${userId}</span>`</span>);

  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é”™è¯¯: {error}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-30">æŠ€å·§ 2ï¼šç»„åˆå¤šä¸ªç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ComplexComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// æŒ‚è½½æ—¶æ‰§è¡Œ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶æŒ‚è½½'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶å¸è½½'</span>);
  }, []);

  <span class="hljs-comment">// ç›‘å¬çª—å£å¤§å°</span>
  <span class="hljs-keyword">const</span> windowSize = <span class="hljs-title function_">useWindowSize</span>();

  <span class="hljs-comment">// ç›‘å¬åœ¨çº¿çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> isOnline = <span class="hljs-title function_">useOnlineStatus</span>();

  <span class="hljs-comment">// è‡ªåŠ¨ä¿å­˜</span>
  <span class="hljs-title function_">useAutoSave</span>(formData);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-31">æŠ€å·§ 3ï¼šæ¡ä»¶æ€§åœ°æ‰§è¡Œå‰¯ä½œç”¨</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchResults</span>(<span class="hljs-params">{ query, enabled }</span>) {
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åªåœ¨å¯ç”¨ä¸”æœ‰æŸ¥è¯¢è¯æ—¶æ‰§è¡Œ</span>
    <span class="hljs-keyword">if</span> (!enabled || !query) {
      <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">let</span> isMounted = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">search</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?q=<span class="hljs-subst">${query}</span>`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>());
      <span class="hljs-keyword">if</span> (isMounted) {
        <span class="hljs-title function_">setResults</span>(data);
      }
    }

    <span class="hljs-title function_">search</span>();

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      isMounted = <span class="hljs-literal">false</span>;
    };
  }, [query, enabled]);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h2 data-id="heading-32">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-33">1. é¿å…åœ¨ useEffect ä¸­åˆ›å»ºæ–°å¯¹è±¡/æ•°ç»„</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// âŒ æ¯æ¬¡éƒ½åˆ›å»ºæ–°å¯¹è±¡</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> options = { <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span> }; <span class="hljs-comment">// æ–°å¯¹è±¡</span>
  <span class="hljs-title function_">fetch</span>(url, options);
}, [url, options]); <span class="hljs-comment">// options æ¯æ¬¡éƒ½ä¸åŒï¼Œä¼šæ— é™å¾ªç¯</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ useMemo</span>
<span class="hljs-keyword">const</span> options = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span> }), []);
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetch</span>(url, options);
}, [url, options]);
</code></pre>
<h3 data-id="heading-34">2. ä½¿ç”¨ AbortController å–æ¶ˆè¯·æ±‚</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchBox</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [query, setQuery] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åˆ›å»º AbortController</span>
    <span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">search</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?q=<span class="hljs-subst">${query}</span>`</span>, {
          <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span> <span class="hljs-comment">// ä¼ å…¥ signal</span>
        });
        <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
        <span class="hljs-title function_">setResults</span>(data);
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">if</span> (err.<span class="hljs-property">name</span> === <span class="hljs-string">'AbortError'</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¯·æ±‚è¢«å–æ¶ˆ'</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æœç´¢å¤±è´¥:'</span>, err);
        }
      }
    }

    <span class="hljs-keyword">if</span> (query) {
      <span class="hljs-title function_">search</span>();
    }

    <span class="hljs-comment">// æ¸…ç†ï¼šå–æ¶ˆè¯·æ±‚</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      controller.<span class="hljs-title function_">abort</span>();
    };
  }, [query]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{e</span> =&gt;</span> setQuery(e.target.value)}
        placeholder="æœç´¢..."
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{results.map(r =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{r.id}</span>&gt;</span>{r.title}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç”¨æˆ·å¿«é€Ÿè¾“å…¥æ—¶ï¼Œæ—§çš„è¯·æ±‚ä¼šè¢«è‡ªåŠ¨å–æ¶ˆï¼Œé¿å…èµ„æºæµªè´¹ã€‚</p>
<h3 data-id="heading-35">3. åˆå¹¶å¤šä¸ªçŠ¶æ€æ›´æ–°</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// âŒ å¤šæ¬¡æ¸²æŸ“</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-title function_">setError</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-title function_">setData</span>(<span class="hljs-literal">null</span>);
}, []);

<span class="hljs-comment">// âœ… ä½¿ç”¨ useReducer æˆ–å¯¹è±¡çŠ¶æ€</span>
<span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title function_">useState</span>({
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span>
});

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">setState</span>({ <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>, <span class="hljs-attr">data</span>: <span class="hljs-literal">null</span> });
}, []);
</code></pre>
<h2 data-id="heading-36">è°ƒè¯•æŠ€å·§</h2>
<h3 data-id="heading-37">1. ä½¿ç”¨ console.log è¿½è¸ªæ‰§è¡Œ</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ“Œ useEffect æ‰§è¡Œ'</span>, { userId, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
  
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ğŸ§¹ æ¸…ç†å‡½æ•°æ‰§è¡Œ'</span>, { userId, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
  };
}, [userId]);
</code></pre>
<h3 data-id="heading-38">2. ä½¿ç”¨ React DevTools Profiler</h3>
<p>React DevTools å¯ä»¥çœ‹åˆ°ç»„ä»¶çš„æ¸²æŸ“æ¬¡æ•°å’ŒåŸå› ï¼Œå¸®ä½ æ‰¾å‡ºæ€§èƒ½é—®é¢˜ã€‚</p>
<h3 data-id="heading-39">3. æ£€æŸ¥ä¾èµ–æ•°ç»„</h3>
<p>å®‰è£… <code>eslint-plugin-react-hooks</code> æ’ä»¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ£€æŸ¥ä½ çš„ä¾èµ–æ•°ç»„æ˜¯å¦å®Œæ•´ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">npm install eslint-plugin-react-hooks --save-dev
</code></pre>
<h2 data-id="heading-40">æ€»ç»“</h2>
<p>å¥½äº†ï¼Œè¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼š</p>
<h3 data-id="heading-41">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>useEffect æ˜¯ä¸»åŠ›</strong>ï¼š99% çš„ç”Ÿå‘½å‘¨æœŸéœ€æ±‚éƒ½ç”¨å®ƒ</li>
<li><strong>ä¾èµ–æ•°ç»„å¾ˆé‡è¦</strong>ï¼šç”¨äº†ä»€ä¹ˆå°±å†™ä»€ä¹ˆï¼Œåˆ«å·æ‡’</li>
<li><strong>è®°å¾—æ¸…ç†</strong>ï¼šå®šæ—¶å™¨ã€è®¢é˜…ã€äº‹ä»¶ç›‘å¬éƒ½è¦æ¸…ç†</li>
<li><strong>useLayoutEffect æ…ç”¨</strong>ï¼šåªåœ¨éœ€è¦åŒæ­¥ DOM æ“ä½œæ—¶ç”¨</li>
<li><strong>å°è£…è‡ªå®šä¹‰ Hook</strong>ï¼šå¤ç”¨é€»è¾‘ï¼Œè®©ä»£ç æ›´å¹²å‡€</li>
</ol>
<h3 data-id="heading-42">æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">BestPracticeComponent</span>(<span class="hljs-params">{ id }</span>) {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// 1. ä½¿ç”¨æ ‡å¿—é˜²æ­¢å¸è½½åæ›´æ–°çŠ¶æ€</span>
    <span class="hljs-keyword">let</span> isMounted = <span class="hljs-literal">true</span>;

    <span class="hljs-comment">// 2. ä½¿ç”¨ AbortController å–æ¶ˆè¯·æ±‚</span>
    <span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/data/<span class="hljs-subst">${id}</span>`</span>, {
          <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span>
        });
        <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
        
        <span class="hljs-keyword">if</span> (isMounted) {
          <span class="hljs-title function_">setData</span>(json);
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">if</span> (error.<span class="hljs-property">name</span> !== <span class="hljs-string">'AbortError'</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
        }
      }
    }

    <span class="hljs-title function_">fetchData</span>();

    <span class="hljs-comment">// 3. è¿”å›æ¸…ç†å‡½æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      isMounted = <span class="hljs-literal">false</span>;
      controller.<span class="hljs-title function_">abort</span>();
    };
  }, [id]); <span class="hljs-comment">// 4. å®Œæ•´çš„ä¾èµ–æ•°ç»„</span>

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{data?.title}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h3 data-id="heading-43">æˆ‘çš„å¿ƒå¾—</h3>
<p>å†™äº†è¿™ä¹ˆå¤šå¹´ Reactï¼Œç”Ÿå‘½å‘¨æœŸè¿™å—å…¶å®å°±æ˜¯è¦å…»æˆå¥½ä¹ æƒ¯ï¼š</p>
<ul>
<li><strong>è¯¥æ¸…ç†çš„ä¸€å®šè¦æ¸…ç†</strong>ï¼Œä¸ç„¶ä¼šåŸ‹é›·</li>
<li><strong>ä¾èµ–æ•°ç»„è¦è¯šå®</strong>ï¼Œåˆ«è·Ÿ ESLint å¯¹ç€å¹²</li>
<li><strong>å…ˆæƒ³æ¸…æ¥šå†å†™</strong>ï¼Œåˆ«ä¸Šæ¥å°±ä¸€é¡¿æ“ä½œ</li>
<li><strong>å¤šç”¨è‡ªå®šä¹‰ Hook</strong>ï¼Œè®©é€»è¾‘æ›´æ¸…æ™°</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°ä½ ï¼å¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€è®¨è®ºã€‚Happy coding! ğŸš€</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Freference%2Freact%2FuseEffect" target="_blank" title="https://react.dev/reference/react/useEffect" ref="nofollow noopener noreferrer">React å®˜æ–¹æ–‡æ¡£ - useEffect</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Freference%2Freact%2FuseLayoutEffect" target="_blank" title="https://react.dev/reference/react/useLayoutEffect" ref="nofollow noopener noreferrer">React å®˜æ–¹æ–‡æ¡£ - useLayoutEffect</a></li>
</ul>
<p><strong>å†™äº</strong>: 2025-12-09<br/>
<strong>æœ€åæ›´æ–°</strong>: 2025-12-09</p>
<p><strong>æœ€åï¼Œæ¬¢è¿è®¿é—®æˆ‘çš„ä¸ªäººç½‘ç«™ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fhixiaohezi.com" target="_blank" title="https://hixiaohezi.com" ref="nofollow noopener noreferrer">hixiaohezi.com</a></strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a417435cb8e43b3a73846735d858d7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q54ix5ZCD57OW55qE5bCP576K:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765867606&amp;x-signature=oKzn3Pm8S4JR3OO4o8N%2BLcQ7btE%3D" alt="og-image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Supabase å®ç°è½»é‡åŸ‹ç‚¹ç›‘æ§]]></title>    <link>https://juejin.cn/post/7581481178822754323</link>    <guid>https://juejin.cn/post/7581481178822754323</guid>    <pubDate>2025-12-09T06:49:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581481178822754323" data-draft-id="7581481178822737939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Supabase å®ç°è½»é‡åŸ‹ç‚¹ç›‘æ§"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T06:49:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Junsen"/> <meta itemprop="url" content="https://juejin.cn/user/747323638945111"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Supabase å®ç°è½»é‡åŸ‹ç‚¹ç›‘æ§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323638945111/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Junsen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T06:49:52.000Z" title="Tue Dec 09 2025 06:49:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸºäº Supabase æ„å»ºä¸€ä¸ªè½»é‡çº§ã€éšç§å‹å¥½çš„åŸ‹ç‚¹åˆ†æç³»ç»Ÿï¼Œé€‚åˆä¸ªäººé¡¹ç›®æˆ–å°å‹å›¢é˜Ÿå¿«é€Ÿæ­å»ºç”¨æˆ·è¡Œä¸ºè¿½è¸ªæ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆé€‰æ‹© Supabaseï¼Ÿ</h2>
<ul>
<li><strong>å…è´¹é¢åº¦å……è¶³</strong>ï¼šå…è´¹ç‰ˆè¶³å¤Ÿæ”¯æ’‘å°å‹é¡¹ç›®</li>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šPostgreSQL + Auth + Edge Functions ä¸€ç«™å¼è§£å†³</li>
<li><strong>æ— éœ€è¿ç»´</strong>ï¼šæ‰˜ç®¡æœåŠ¡ï¼Œä¸“æ³¨ä¸šåŠ¡é€»è¾‘</li>
<li><strong>å®æ—¶èƒ½åŠ›</strong>ï¼šæ”¯æŒå®æ—¶è®¢é˜…ï¼Œå¯æ‰©å±•ä¸ºå®æ—¶ç›‘æ§</li>
<li><strong>è½»é‡</strong>ï¼šæ— éœ€éƒ¨ç½²Sentryç­‰å¤§å‹åŸ‹ç‚¹é¡¹ç›®</li>
</ul>
<h2 data-id="heading-1">æ¶æ„è®¾è®¡</h2>
<pre><code class="hljs language-txt" lang="txt">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     POST /track      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®¢æˆ·ç«¯    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Edge Function   â”‚
â”‚  (App/Web)  â”‚    x-track-token     â”‚  (Deno Runtime)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚ service_role
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     anon key         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä»ªè¡¨ç›˜    â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    PostgreSQL    â”‚
â”‚  (é™æ€é¡µé¢) â”‚    authenticated     â”‚  events + views  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>æ ¸å¿ƒæ€è·¯ï¼š</p>
<ol>
<li><strong>å†™å…¥éš”ç¦»</strong>ï¼šå®¢æˆ·ç«¯é€šè¿‡ Edge Function ä¸ŠæŠ¥äº‹ä»¶ï¼Œä½¿ç”¨ service_role å†™å…¥ï¼Œé¿å…æš´éœ²å†™æƒé™</li>
<li><strong>è¯»å–å—æ§</strong>ï¼šä»ªè¡¨ç›˜ä½¿ç”¨ anon key + ç”¨æˆ·ç™»å½•åè¯»å–ï¼ŒRLS ä¿æŠ¤æ•°æ®å®‰å…¨</li>
<li><strong>æ‰¹é‡ä¸ŠæŠ¥</strong>ï¼šå®¢æˆ·ç«¯æœ¬åœ°é˜Ÿåˆ— + å®šæ—¶ flushï¼Œå‡å°‘è¯·æ±‚æ¬¡æ•°</li>
</ol>
<h2 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ•°æ®åº“è¡¨</h2>
<p>åœ¨ Supabase SQL Editor ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¯ç”¨æ‰©å±•</span>
<span class="hljs-keyword">create</span> extension if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> "uuid-ossp";

<span class="hljs-comment">-- äº‹ä»¶è¡¨</span>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> if <span class="hljs-keyword">not</span> <span class="hljs-keyword">exists</span> public.events (
  id uuid <span class="hljs-keyword">primary</span> key <span class="hljs-keyword">default</span> gen_random_uuid(),
  user_id uuid <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,          <span class="hljs-comment">-- åŒ¿åç”¨æˆ· ID</span>
  session_id uuid <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,       <span class="hljs-comment">-- ä¼šè¯ ID</span>
  event text <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,            <span class="hljs-comment">-- äº‹ä»¶åç§°</span>
  ts timestamptz <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span>,        <span class="hljs-comment">-- äº‹ä»¶æ—¶é—´æˆ³</span>
  os_platform text,               <span class="hljs-comment">-- æ“ä½œç³»ç»Ÿ</span>
  os_release text,                <span class="hljs-comment">-- ç³»ç»Ÿç‰ˆæœ¬</span>
  os_arch text,                   <span class="hljs-comment">-- CPU æ¶æ„</span>
  app_version text,               <span class="hljs-comment">-- åº”ç”¨ç‰ˆæœ¬</span>
  <span class="hljs-keyword">language</span> text,                  <span class="hljs-comment">-- è¯­è¨€</span>
  screen_resolution text,         <span class="hljs-comment">-- å±å¹•åˆ†è¾¨ç‡</span>
  extra jsonb <span class="hljs-keyword">default</span> <span class="hljs-string">'{}'</span>::jsonb,<span class="hljs-comment">-- æ‰©å±•å­—æ®µ</span>
  inserted_at timestamptz <span class="hljs-keyword">not</span> <span class="hljs-keyword">null</span> <span class="hljs-keyword">default</span> now()
);

<span class="hljs-comment">-- ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½</span>
<span class="hljs-keyword">create</span> index idx_events_user_ts <span class="hljs-keyword">on</span> public.events (user_id, ts <span class="hljs-keyword">desc</span>);
<span class="hljs-keyword">create</span> index idx_events_ts <span class="hljs-keyword">on</span> public.events (ts <span class="hljs-keyword">desc</span>);
<span class="hljs-keyword">create</span> index idx_events_event <span class="hljs-keyword">on</span> public.events (event);
</code></pre>
<h2 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé…ç½®è¡Œçº§å®‰å…¨ç­–ç•¥ (RLS)</h2>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¯ç”¨ RLS</span>
<span class="hljs-keyword">alter</span> <span class="hljs-keyword">table</span> public.events enable <span class="hljs-type">row</span> level security;

<span class="hljs-comment">-- ä»…å…è®¸ authenticated ç”¨æˆ·è¯»å–ï¼ˆç”¨äºä»ªè¡¨ç›˜ï¼‰</span>
<span class="hljs-keyword">create</span> policy "events_read" <span class="hljs-keyword">on</span> public.events
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">select</span> <span class="hljs-keyword">to</span> authenticated
  <span class="hljs-keyword">using</span> (<span class="hljs-literal">true</span>);

<span class="hljs-comment">-- ä»…å…è®¸ service_role å†™å…¥ï¼ˆç”¨äº Edge Functionï¼‰</span>
<span class="hljs-keyword">create</span> policy "events_insert" <span class="hljs-keyword">on</span> public.events
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">to</span> service_role
  <span class="hljs-keyword">with</span> <span class="hljs-keyword">check</span> (<span class="hljs-literal">true</span>);
</code></pre>
<p>è¿™æ ·é…ç½®åï¼š</p>
<ul>
<li>å‰ç«¯ anon key æ— æ³•ç›´æ¥å†™å…¥æ•°æ®</li>
<li>å¿…é¡»é€šè¿‡ Edge Functionï¼ˆä½¿ç”¨ service_roleï¼‰æ‰èƒ½å†™å…¥</li>
<li>ç™»å½•ç”¨æˆ·å¯ä»¥æŸ¥è¯¢æ•°æ®ç”¨äºä»ªè¡¨ç›˜å±•ç¤º</li>
</ul>
<h2 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º Edge Function</h2>
<p>åˆ›å»º <code>supabase/functions/track/index.ts</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { serve } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://deno.land/std@0.223.0/http/server.ts'</span>
<span class="hljs-keyword">import</span> { createClient } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/@supabase/supabase-js@2.45.2'</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SUPABASE_URL</span> = <span class="hljs-title class_">Deno</span>.<span class="hljs-property">env</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'SUPABASE_URL'</span>)!
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SUPABASE_SERVICE_ROLE_KEY</span> = <span class="hljs-title class_">Deno</span>.<span class="hljs-property">env</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'SUPABASE_SERVICE_ROLE_KEY'</span>)!
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">TRACK_TOKEN</span> = <span class="hljs-title class_">Deno</span>.<span class="hljs-property">env</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'TRACK_TOKEN'</span>)!

<span class="hljs-keyword">const</span> supabase = <span class="hljs-title function_">createClient</span>(<span class="hljs-variable constant_">SUPABASE_URL</span>, <span class="hljs-variable constant_">SUPABASE_SERVICE_ROLE_KEY</span>)

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX_BATCH</span> = <span class="hljs-number">200</span>

<span class="hljs-title function_">serve</span>(<span class="hljs-keyword">async</span> (req) =&gt; {
  <span class="hljs-comment">// ä»…å…è®¸ POST</span>
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> !== <span class="hljs-string">'POST'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Method not allowed'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">405</span> })
  }

  <span class="hljs-comment">// Token é‰´æƒ</span>
  <span class="hljs-keyword">const</span> token = req.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'x-track-token'</span>)
  <span class="hljs-keyword">if</span> (token !== <span class="hljs-variable constant_">TRACK_TOKEN</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'Unauthorized'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">401</span> })
  }

  <span class="hljs-comment">// è§£æè¯·æ±‚ä½“</span>
  <span class="hljs-keyword">let</span> events
  <span class="hljs-keyword">try</span> {
    events = <span class="hljs-keyword">await</span> req.<span class="hljs-title function_">json</span>()
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(events))
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Body must be an array'</span>)
  }
  <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">`Invalid JSON: <span class="hljs-subst">${err}</span>`</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">400</span> })
  }

  <span class="hljs-comment">// æ‰¹é‡é™åˆ¶</span>
  <span class="hljs-keyword">if</span> (events.<span class="hljs-property">length</span> &gt; <span class="hljs-variable constant_">MAX_BATCH</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">`Too many events (max <span class="hljs-subst">${MAX_BATCH}</span>)`</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">413</span> })
  }

  <span class="hljs-comment">// æ•°æ®æ¸…æ´—</span>
  <span class="hljs-keyword">const</span> sanitized = events.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span>
    ev.<span class="hljs-property">user_id</span> &amp;&amp; ev.<span class="hljs-property">session_id</span> &amp;&amp; ev.<span class="hljs-property">event</span> &amp;&amp; ev.<span class="hljs-property">ts</span>
  ).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">ev</span>) =&gt;</span> {
    <span class="hljs-comment">// é™åˆ¶ extra å­—æ®µå¤§å°</span>
    <span class="hljs-keyword">if</span> (ev.<span class="hljs-property">extra</span> &amp;&amp; <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(ev.<span class="hljs-property">extra</span>).<span class="hljs-property">length</span> &gt; <span class="hljs-number">4000</span>) {
      ev.<span class="hljs-property">extra</span> = { <span class="hljs-attr">warning</span>: <span class="hljs-string">'truncated'</span> }
    }
    <span class="hljs-keyword">return</span> ev
  })

  <span class="hljs-keyword">if</span> (sanitized.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">'No valid events'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">400</span> })
  }

  <span class="hljs-comment">// å†™å…¥æ•°æ®åº“</span>
  <span class="hljs-keyword">const</span> { error } = <span class="hljs-keyword">await</span> supabase.<span class="hljs-title function_">from</span>(<span class="hljs-string">'events'</span>).<span class="hljs-title function_">insert</span>(sanitized)
  <span class="hljs-keyword">if</span> (error) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-string">`Insert failed: <span class="hljs-subst">${error.message}</span>`</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">500</span> })
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">inserted</span>: sanitized.<span class="hljs-property">length</span> }), {
    <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
  })
})
</code></pre>
<h2 data-id="heading-5">ç¬¬å››æ­¥ï¼šéƒ¨ç½² Edge Function</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç™»å½• Supabase CLI</span>
supabase login

<span class="hljs-comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span>
supabase secrets <span class="hljs-built_in">set</span> \
  SUPABASE_URL=https://your-project.supabase.co \
  SUPABASE_SERVICE_ROLE_KEY=your_service_role_key \
  TRACK_TOKEN=your_custom_token \
  --project-ref your_project_ref

<span class="hljs-comment"># éƒ¨ç½²å‡½æ•°ï¼ˆè·³è¿‡ JWT éªŒè¯ï¼Œä½¿ç”¨è‡ªå®šä¹‰ Tokenï¼‰</span>
supabase <span class="hljs-built_in">functions</span> deploy track --project-ref your_project_ref --no-verify-jwt
</code></pre>
<h2 data-id="heading-6">ç¬¬äº”æ­¥ï¼šåˆ›å»ºåˆ†æè§†å›¾</h2>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç”¨æˆ·ç”»åƒè§†å›¾</span>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">view</span> public.user_profile <span class="hljs-keyword">as</span>
<span class="hljs-keyword">select</span>
  user_id,
  <span class="hljs-built_in">min</span>(ts) <span class="hljs-keyword">as</span> first_seen_at,
  <span class="hljs-built_in">max</span>(ts) <span class="hljs-keyword">as</span> last_seen_at,
  <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'app_start'</span>) <span class="hljs-keyword">as</span> total_sessions,
  <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> total_events,
  <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> <span class="hljs-type">date</span>(ts)) <span class="hljs-keyword">as</span> active_days
<span class="hljs-keyword">from</span> public.events
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> user_id;

<span class="hljs-comment">-- ç”¨æˆ·åˆ†å±‚è§†å›¾</span>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">or</span> replace <span class="hljs-keyword">view</span> public.user_tags <span class="hljs-keyword">as</span>
<span class="hljs-keyword">with</span> activity <span class="hljs-keyword">as</span> (
  <span class="hljs-keyword">select</span>
    user_id,
    <span class="hljs-built_in">max</span>(ts) <span class="hljs-keyword">as</span> last_seen_at,
    <span class="hljs-built_in">min</span>(ts) <span class="hljs-keyword">as</span> first_seen_at,
    <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> <span class="hljs-type">date</span>(ts)) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> ts <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'7 days'</span>) <span class="hljs-keyword">as</span> active_days_7d
  <span class="hljs-keyword">from</span> public.events
  <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> user_id
)
<span class="hljs-keyword">select</span>
  user_id,
  <span class="hljs-keyword">case</span>
    <span class="hljs-keyword">when</span> active_days_7d <span class="hljs-operator">&gt;=</span> <span class="hljs-number">5</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'heavy'</span>
    <span class="hljs-keyword">when</span> active_days_7d <span class="hljs-keyword">between</span> <span class="hljs-number">2</span> <span class="hljs-keyword">and</span> <span class="hljs-number">4</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'medium'</span>
    <span class="hljs-keyword">else</span> <span class="hljs-string">'light'</span>
  <span class="hljs-keyword">end</span> <span class="hljs-keyword">as</span> active_level,
  <span class="hljs-keyword">case</span>
    <span class="hljs-keyword">when</span> first_seen_at <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'7 days'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'new_user'</span>
    <span class="hljs-keyword">when</span> last_seen_at <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'7 days'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'retained'</span>
    <span class="hljs-keyword">when</span> last_seen_at <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'30 days'</span> <span class="hljs-keyword">then</span> <span class="hljs-string">'churn_risk'</span>
    <span class="hljs-keyword">else</span> <span class="hljs-string">'churned'</span>
  <span class="hljs-keyword">end</span> <span class="hljs-keyword">as</span> lifecycle_stage
<span class="hljs-keyword">from</span> activity;
</code></pre>
<h2 data-id="heading-7">é¡¹ç›®å®è·µï¼šxiaozhi-desktop åŸ‹ç‚¹å®ç°åˆ†æ</h2>
<pre><code class="hljs language-txt" lang="txt">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ¸²æŸ“è¿›ç¨‹           â”‚
â”‚  useAnalytics()     â”‚
â”‚  trackEvent()       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ IPC (analytics:track)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸»è¿›ç¨‹             â”‚
â”‚  AnalyticsService   â”‚
â”‚  - æ”¶é›†ç³»ç»Ÿä¿¡æ¯     â”‚
â”‚  - ç¼“å­˜äº‹ä»¶é˜Ÿåˆ—     â”‚
â”‚  - æ‰¹é‡ä¸ŠæŠ¥         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ POST /bright-task
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Supabase           â”‚
â”‚  Edge Function      â”‚
â”‚  Token é‰´æƒ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ service_role
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL         â”‚
â”‚  events è¡¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-8">æ ¸å¿ƒä»£ç ç»“æ„</h3>
<h4 data-id="heading-9">1. ä¸»æœåŠ¡ï¼š<code>AnalyticsService.ts</code></h4>
<ul>
<li>ç”Ÿæˆç¨³å®šçš„ç”¨æˆ· ID (åŸºäºè®¾å¤‡æŒ‡çº¹ + UUID v5)</li>
<li>æ”¶é›†ç³»ç»Ÿä¿¡æ¯ (OSã€å±å¹•åˆ†è¾¨ç‡ã€åº”ç”¨ç‰ˆæœ¬ç­‰)</li>
<li>äº‹ä»¶é˜Ÿåˆ—ç®¡ç†ä¸æ‰¹é‡ä¸ŠæŠ¥</li>
<li>å®šæ—¶å‘é€ (30ç§’) + è¾¾åˆ°æ‰¹é‡é˜ˆå€¼ç«‹å³å‘é€ (50æ¡)</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main/services/AnalyticsService.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalyticsService</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">config</span>: <span class="hljs-title class_">AnalyticsConfig</span> = {
    <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">endpoint</span>: <span class="hljs-string">'https://your-project.supabase.co/functions/v1/bright-task'</span>,
    <span class="hljs-attr">token</span>: <span class="hljs-string">'junsen-track-2025-LightDot'</span>,
    <span class="hljs-attr">flushInterval</span>: <span class="hljs-number">30000</span>, <span class="hljs-comment">// 30ç§’</span>
    <span class="hljs-attr">flushBatchSize</span>: <span class="hljs-number">50</span>, <span class="hljs-comment">// 50æ¡äº‹ä»¶</span>
  }

  <span class="hljs-comment">// ä¸ŠæŠ¥äº‹ä»¶</span>
  <span class="hljs-title function_">track</span>(<span class="hljs-attr">event</span>: <span class="hljs-built_in">string</span>, extra?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">payload</span>: <span class="hljs-title class_">EventPayload</span> = {
      <span class="hljs-attr">user_id</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span>, <span class="hljs-comment">// åŸºäºè®¾å¤‡æŒ‡çº¹ç”Ÿæˆçš„ç¨³å®š UUID</span>
      <span class="hljs-attr">session_id</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">sessionId</span>, <span class="hljs-comment">// æ¯æ¬¡å¯åŠ¨ç”Ÿæˆæ–°çš„ä¼šè¯ ID</span>
      event,
      <span class="hljs-attr">ts</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">systemInfo</span>, <span class="hljs-comment">// ç³»ç»Ÿä¿¡æ¯</span>
      extra, <span class="hljs-comment">// è‡ªå®šä¹‰æ•°æ®</span>
    }

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventQueue</span>.<span class="hljs-title function_">push</span>(payload)

    <span class="hljs-comment">// é˜Ÿåˆ—è¾¾åˆ°æ‰¹é‡å¤§å°æ—¶ç«‹å³å‘é€</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventQueue</span>.<span class="hljs-property">length</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">flushBatchSize</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">flush</span>()
    }
  }
}
</code></pre>
<h4 data-id="heading-10">2. IPC é€šä¿¡ï¼š<code>analyticsIpc.ts</code></h4>
<p><strong>æš´éœ²åŸ‹ç‚¹èƒ½åŠ›ç»™æ¸²æŸ“è¿›ç¨‹</strong>ï¼Œæä¾› 4 ä¸ª IPC é€šé“ï¼š</p>
<ul>
<li><code>analytics:track</code> - ä¸ŠæŠ¥äº‹ä»¶</li>
<li><code>analytics:get-config</code> - è·å–é…ç½®</li>
<li><code>analytics:update-config</code> - æ›´æ–°é…ç½®</li>
<li><code>analytics:flush</code> - æ‰‹åŠ¨è§¦å‘å‘é€</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main/ipc/analyticsIpc.ts</span>
ipcMain.<span class="hljs-title function_">handle</span>(<span class="hljs-string">'analytics:track'</span>, <span class="hljs-keyword">async</span> (_event, <span class="hljs-attr">eventName</span>: <span class="hljs-built_in">string</span>, extra?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;) =&gt; {
  <span class="hljs-keyword">const</span> analytics = <span class="hljs-title function_">getAnalyticsService</span>()
  analytics.<span class="hljs-title function_">track</span>(eventName, extra)
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span> }
})
</code></pre>
<h4 data-id="heading-11">3. å‰ç«¯å°è£…ï¼š<code>useAnalytics.ts</code></h4>
<p><strong>Vue Composable</strong> å°è£…ï¼Œç®€åŒ–å‰ç«¯è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/renderer/src/composables/useAnalytics.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trackEvent</span>(<span class="hljs-params">event: <span class="hljs-built_in">string</span>, extra?: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">api</span>
    .<span class="hljs-title function_">analyticsTrack</span>(event, extra)
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŸ‹ç‚¹ä¸ŠæŠ¥å¤±è´¥:'</span>, error))
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useAnalytics</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">track</span>: trackEvent,
  }
}
</code></pre>
<h4 data-id="heading-12">4. Preload æ¡¥æ¥ï¼š<code>analytics.ts</code></h4>
<p><strong>å®‰å…¨åœ°æš´éœ² API ç»™æ¸²æŸ“è¿›ç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/preload/modules/analytics.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> analyticsApi = {
  <span class="hljs-attr">track</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">event</span>: <span class="hljs-built_in">string</span>, extra?: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> ipcRenderer.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'analytics:track'</span>, event, extra)
  },

  <span class="hljs-attr">getConfig</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> ipcRenderer.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'analytics:get-config'</span>)
  },

  <span class="hljs-attr">updateConfig</span>: <span class="hljs-keyword">async</span> (<span class="hljs-attr">config</span>: <span class="hljs-built_in">any</span>) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> ipcRenderer.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'analytics:update-config'</span>, config)
  },

  <span class="hljs-attr">flush</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> ipcRenderer.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'analytics:flush'</span>)
  },
}
</code></pre>
<h3 data-id="heading-13">å·²åŸ‹äº‹ä»¶æ¸…å•</h3>



































<table><thead><tr><th>äº‹ä»¶åç§°</th><th>è§¦å‘ä½ç½®</th><th>æºå¸¦æ•°æ®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>app_start</code></td><td><code>src/main/index.ts:147</code></td><td><code>version</code>, <code>platform</code>, <code>isDev</code></td><td>åº”ç”¨å¯åŠ¨æ—¶ä¸ŠæŠ¥</td></tr><tr><td><code>app_quit</code></td><td><code>src/main/index.ts:275</code></td><td>-</td><td>åº”ç”¨é€€å‡ºæ—¶ä¸ŠæŠ¥ (ä¼šç­‰å¾…å‘é€å®Œæˆ)</td></tr><tr><td><code>activation_verified</code></td><td><code>src/main/services/ActivationService.ts:265</code></td><td>-</td><td>è®¾å¤‡æ¿€æ´»éªŒè¯é€šè¿‡</td></tr><tr><td><code>activation_success</code></td><td><code>src/main/services/ActivationService.ts:360</code></td><td><code>attempts</code></td><td>æ¿€æ´»æˆåŠŸï¼Œè®°å½•å°è¯•æ¬¡æ•°</td></tr></tbody></table>
<h3 data-id="heading-14">æ•°æ®å­—æ®µè¯´æ˜</h3>
<h4 data-id="heading-15">å›ºå®šå­—æ®µ</h4>
<p>æ¯ä¸ªäº‹ä»¶é»˜è®¤æºå¸¦ä»¥ä¸‹ç³»ç»Ÿä¿¡æ¯ï¼š</p>













































































<table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th><th>æ¥æº</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>user_id</code></td><td>UUID</td><td>è®¾å¤‡æŒ‡çº¹ + UUID v5</td><td><code>550e8400-e29b-41d4-a716-446655440000</code></td></tr><tr><td><code>session_id</code></td><td>UUID</td><td>æ¯æ¬¡å¯åŠ¨ç”Ÿæˆ</td><td><code>123e4567-e89b-12d3-a456-426614174000</code></td></tr><tr><td><code>event</code></td><td>string</td><td>äº‹ä»¶åç§°</td><td><code>app_start</code></td></tr><tr><td><code>ts</code></td><td>ISO 8601</td><td>äº‹ä»¶æ—¶é—´æˆ³</td><td><code>2025-12-09T10:30:00.000Z</code></td></tr><tr><td><code>os_platform</code></td><td>string</td><td><code>process.platform</code></td><td><code>darwin</code> / <code>win32</code> / <code>linux</code></td></tr><tr><td><code>os_release</code></td><td>string</td><td><code>os.release()</code></td><td><code>24.6.0</code></td></tr><tr><td><code>os_arch</code></td><td>string</td><td><code>process.arch</code></td><td><code>arm64</code> / <code>x64</code></td></tr><tr><td><code>app_version</code></td><td>string</td><td><code>app.getVersion()</code></td><td><code>1.0.5-beta.7</code></td></tr><tr><td><code>language</code></td><td>string</td><td><code>app.getLocale()</code></td><td><code>zh-CN</code></td></tr><tr><td><code>screen_resolution</code></td><td>string</td><td>ä¸»æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡</td><td><code>1920x1080</code></td></tr><tr><td><code>extra</code></td><td>jsonb</td><td>è‡ªå®šä¹‰æ•°æ®</td><td><code>{ "attempts": 3 }</code></td></tr></tbody></table>
<h4 data-id="heading-16">ç”¨æˆ·æ ‡è¯†ç”Ÿæˆç­–ç•¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŸºäºè®¾å¤‡æŒ‡çº¹ç”Ÿæˆç¨³å®šçš„ UUID</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">generateUserId</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">const</span> fingerprintManager = <span class="hljs-keyword">await</span> <span class="hljs-title class_">DeviceFingerprintManager</span>.<span class="hljs-title function_">getInstanceAsync</span>()
  <span class="hljs-keyword">const</span> serialNumber = fingerprintManager.<span class="hljs-title function_">getSerialNumber</span>()

  <span class="hljs-comment">// ä½¿ç”¨ UUID v5 ç”Ÿæˆç¨³å®šçš„ UUID (åŒä¸€è®¾å¤‡å§‹ç»ˆç›¸åŒ)</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">UUID_NAMESPACE</span> = <span class="hljs-string">'6ba7b810-9dad-11d1-80b4-00c04fd430c8'</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">userId</span> = <span class="hljs-title function_">uuidv5</span>(serialNumber, <span class="hljs-variable constant_">UUID_NAMESPACE</span>)
}
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>åŒä¸€è®¾å¤‡å¸è½½é‡è£…å <code>user_id</code> ä¿æŒä¸å˜ï¼Œå¯è¿½è¸ªé•¿æœŸè¡Œä¸º</li>
<li>æ— éœ€è´¦å·ä½“ç³»ï¼Œæ”¯æŒåŒ¿ååˆ†æ</li>
<li>éšç§å‹å¥½ï¼Œä¸æ”¶é›†ä»»ä½•ä¸ªäººä¿¡æ¯</li>
</ul>
<h3 data-id="heading-17">æ‰¹é‡ä¸ŠæŠ¥ç­–ç•¥</h3>
<p>é¡¹ç›®é‡‡ç”¨ <strong>é˜Ÿåˆ—ç¼“å­˜ + åŒè§¦å‘æœºåˆ¶</strong>ï¼š</p>
<ol>
<li><strong>å®šæ—¶å‘é€</strong>ï¼šæ¯ 30 ç§’è‡ªåŠ¨ flush é˜Ÿåˆ— (<code>flushInterval</code>)</li>
<li><strong>æ‰¹é‡é˜ˆå€¼</strong>ï¼šé˜Ÿåˆ—è¾¾åˆ° 50 æ¡äº‹ä»¶ç«‹å³å‘é€ (<code>flushBatchSize</code>)</li>
<li><strong>åº”ç”¨é€€å‡º</strong>ï¼šè°ƒç”¨ <code>shutdown()</code> ç¡®ä¿å‰©ä½™äº‹ä»¶å‘é€å®Œæˆ</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ‰¹é‡å‘é€é€»è¾‘</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">flush</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventQueue</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>

  <span class="hljs-keyword">const</span> events = [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventQueue</span>]
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventQueue</span> = []

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">sendToSupabase</span>(events)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">logger</span>.<span class="hljs-title function_">debug</span>(<span class="hljs-string">`æˆåŠŸå‘é€ <span class="hljs-subst">${events.length}</span> ä¸ªäº‹ä»¶`</span>)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">logger</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å‘é€äº‹ä»¶å¤±è´¥,ä¿å­˜åˆ°ç¦»çº¿ç¼“å­˜'</span>, error)
    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveOffline</span>(events)  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> æœªå®ç°</span>
  }
}
</code></pre>
<h3 data-id="heading-18">Edge Function é…ç½®</h3>
<p><strong>ç«¯ç‚¹ä¿¡æ¯</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-attr">endpoint</span>: <span class="hljs-string">'https://your-project.supabase.co/functions/v1/bright-task'</span>
<span class="hljs-attr">token</span>: <span class="hljs-string">'junsen-track-2025-LightDot'</span>
</code></pre>
<p><strong>è¯·æ±‚æ ¼å¼</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -X POST https://your-project.supabase.co/functions/v1/bright-task \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -H <span class="hljs-string">"X-Track-Token: junsen-track-2025-LightDot"</span> \
  -d <span class="hljs-string">'[
    {
      "user_id": "550e8400-e29b-41d4-a716-446655440000",
      "session_id": "123e4567-e89b-12d3-a456-426614174000",
      "event": "app_start",
      "ts": "2025-12-09T10:30:00.000Z",
      "os_platform": "darwin",
      "os_release": "24.6.0",
      "os_arch": "arm64",
      "app_version": "1.0.5-beta.7",
      "language": "zh-CN",
      "screen_resolution": "1920x1080",
      "extra": {
        "version": "1.0.5-beta.7",
        "platform": "darwin",
        "isDev": false
      }
    }
  ]'</span>
</code></pre>
<h2 data-id="heading-19">æœ€ä½³å®è·µä¸å»ºè®®</h2>
<h3 data-id="heading-20">1. åŸ‹ç‚¹è®¾è®¡åŸåˆ™</h3>
<h4 data-id="heading-21">äº‹ä»¶åˆ†ç±»å»ºè®®</h4>








































<table><thead><tr><th>åˆ†ç±»</th><th>ç¤ºä¾‹äº‹ä»¶</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç”Ÿå‘½å‘¨æœŸ</strong></td><td><code>app_start</code>, <code>app_quit</code>, <code>window_opened</code></td><td>åº”ç”¨/çª—å£ç”Ÿå‘½å‘¨æœŸ</td></tr><tr><td><strong>åŠŸèƒ½ä½¿ç”¨</strong></td><td><code>camera_capture</code>, <code>music_play</code>, <code>voice_wakeup</code></td><td>ç”¨æˆ·ä¸»åŠ¨è§¦å‘çš„åŠŸèƒ½</td></tr><tr><td><strong>ç”¨æˆ·è¡Œä¸º</strong></td><td><code>button_click</code>, <code>menu_opened</code>, <code>settings_changed</code></td><td>ç”¨æˆ·äº¤äº’è¡Œä¸º</td></tr><tr><td><strong>æ¿€æ´»æˆæƒ</strong></td><td><code>activation_verified</code>, <code>activation_success</code></td><td>æ¿€æ´»/æˆæƒæµç¨‹</td></tr><tr><td><strong>é”™è¯¯å¼‚å¸¸</strong></td><td><code>error_occurred</code>, <code>api_failed</code>, <code>crash_report</code></td><td>é”™è¯¯å’Œå¼‚å¸¸</td></tr><tr><td><strong>æ€§èƒ½æŒ‡æ ‡</strong></td><td><code>startup_time</code>, <code>api_latency</code>, <code>memory_usage</code></td><td>æ€§èƒ½æ•°æ®</td></tr></tbody></table>
<h3 data-id="heading-22">2. æ•°æ®é‡‡é›†å»ºè®®</h3>
<h4 data-id="heading-23">ä¼˜å…ˆçº§åˆ’åˆ†</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// é«˜ä¼˜å…ˆçº§ï¼šæ ¸å¿ƒä¸šåŠ¡æŒ‡æ ‡</span>
<span class="hljs-title function_">track</span>(<span class="hljs-string">'app_start'</span>) <span class="hljs-comment">// å¯åŠ¨æ¬¡æ•°</span>
<span class="hljs-title function_">track</span>(<span class="hljs-string">'activation_success'</span>) <span class="hljs-comment">// æ¿€æ´»æˆåŠŸ</span>
<span class="hljs-title function_">track</span>(<span class="hljs-string">'feature_used'</span>, { feature }) <span class="hljs-comment">// åŠŸèƒ½ä½¿ç”¨</span>

<span class="hljs-comment">// ä¸­ä¼˜å…ˆçº§ï¼šç”¨æˆ·è¡Œä¸º</span>
<span class="hljs-title function_">track</span>(<span class="hljs-string">'button_click'</span>, { button_id }) <span class="hljs-comment">// æŒ‰é’®ç‚¹å‡»</span>
<span class="hljs-title function_">track</span>(<span class="hljs-string">'page_view'</span>, { page }) <span class="hljs-comment">// é¡µé¢è®¿é—®</span>

<span class="hljs-comment">// ä½ä¼˜å…ˆçº§ï¼šè°ƒè¯•ä¿¡æ¯</span>
<span class="hljs-title function_">track</span>(<span class="hljs-string">'debug_log'</span>, { message }) <span class="hljs-comment">// è°ƒè¯•æ—¥å¿—</span>
</code></pre>
<h3 data-id="heading-24">3. é”™è¯¯ç›‘æ§å®è·µ</h3>
<h4 data-id="heading-25">ç»Ÿä¸€é”™è¯¯ä¸ŠæŠ¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main/utils/errorTracking.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trackError</span>(<span class="hljs-params">error: <span class="hljs-built_in">Error</span>, context?: Record&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">unknown</span>&gt;</span>) {
  <span class="hljs-keyword">const</span> analytics = <span class="hljs-title function_">getAnalyticsService</span>()

  analytics.<span class="hljs-title function_">track</span>(<span class="hljs-string">'error_occurred'</span>, {
    <span class="hljs-attr">error_name</span>: error.<span class="hljs-property">name</span>,
    <span class="hljs-attr">error_message</span>: error.<span class="hljs-property">message</span>,
    <span class="hljs-attr">error_stack</span>: error.<span class="hljs-property">stack</span>?.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">500</span>), <span class="hljs-comment">// é™åˆ¶é•¿åº¦</span>
    ...context,
  })
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">someRiskyOperation</span>()
}
<span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-title function_">trackError</span>(error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>, {
    <span class="hljs-attr">operation</span>: <span class="hljs-string">'someRiskyOperation'</span>,
    <span class="hljs-attr">retry_count</span>: <span class="hljs-number">3</span>,
  })
}
</code></pre>
<h4 data-id="heading-26">å…¨å±€å¼‚å¸¸æ•è·</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main/index.ts</span>
process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'uncaughtException'</span>, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-title function_">trackError</span>(error, { <span class="hljs-attr">type</span>: <span class="hljs-string">'uncaughtException'</span> })
  logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Uncaught Exception:'</span>, error)
})

process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'unhandledRejection'</span>, <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> {
  <span class="hljs-title function_">trackError</span>(reason <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">'unhandledRejection'</span> })
  logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Unhandled Rejection:'</span>, reason)
})
</code></pre>
<h3 data-id="heading-27">4. æ€§èƒ½ç›‘æ§å®è·µ</h3>
<h4 data-id="heading-28">å¯åŠ¨è€—æ—¶ç›‘æ§</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main/index.ts</span>
<span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()

app.<span class="hljs-title function_">whenReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-comment">// ... åˆå§‹åŒ–é€»è¾‘ ...</span>

  <span class="hljs-keyword">const</span> startupDuration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime

  analytics.<span class="hljs-title function_">track</span>(<span class="hljs-string">'app_start'</span>, {
    <span class="hljs-attr">version</span>: app.<span class="hljs-title function_">getVersion</span>(),
    <span class="hljs-attr">platform</span>: process.<span class="hljs-property">platform</span>,
    <span class="hljs-attr">isDev</span>: !app.<span class="hljs-property">isPackaged</span>,
    <span class="hljs-attr">startup_duration_ms</span>: startupDuration, <span class="hljs-comment">// å¯åŠ¨è€—æ—¶</span>
  })
})
</code></pre>
<h4 data-id="heading-29">API è¯·æ±‚ç›‘æ§</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/main/utils/apiTracking.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> trackApiCall&lt;T&gt;(
  <span class="hljs-attr">apiName</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">apiCall</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
  <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">apiCall</span>()
    <span class="hljs-keyword">const</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime

    <span class="hljs-title function_">getAnalyticsService</span>().<span class="hljs-title function_">track</span>(<span class="hljs-string">'api_call'</span>, {
      <span class="hljs-attr">api_name</span>: apiName,
      <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">duration_ms</span>: duration,
    })

    <span class="hljs-keyword">return</span> result
  }
  <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">const</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime

    <span class="hljs-title function_">getAnalyticsService</span>().<span class="hljs-title function_">track</span>(<span class="hljs-string">'api_call'</span>, {
      <span class="hljs-attr">api_name</span>: apiName,
      <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">duration_ms</span>: duration,
      <span class="hljs-attr">error</span>: (error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>).<span class="hljs-property">message</span>,
    })

    <span class="hljs-keyword">throw</span> error
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">trackApiCall</span>(<span class="hljs-string">'fetchUserData'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/user'</span>))
</code></pre>
<h3 data-id="heading-30">5. æ•°æ®åˆ†ææŸ¥è¯¢ç¤ºä¾‹</h3>
<h4 data-id="heading-31">æ´»è·ƒç”¨æˆ·ç»Ÿè®¡</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ—¥æ´»ç”¨æˆ· (DAU)</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> user_id) <span class="hljs-keyword">as</span> dau
<span class="hljs-keyword">from</span> public.events
<span class="hljs-keyword">where</span> <span class="hljs-type">date</span>(ts) <span class="hljs-operator">=</span> <span class="hljs-built_in">current_date</span>;

<span class="hljs-comment">-- å‘¨æ´»ç”¨æˆ· (WAU)</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> user_id) <span class="hljs-keyword">as</span> wau
<span class="hljs-keyword">from</span> public.events
<span class="hljs-keyword">where</span> ts <span class="hljs-operator">&gt;=</span> <span class="hljs-built_in">current_date</span> <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'7 days'</span>;

<span class="hljs-comment">-- æœˆæ´»ç”¨æˆ· (MAU)</span>
<span class="hljs-keyword">select</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> user_id) <span class="hljs-keyword">as</span> mau
<span class="hljs-keyword">from</span> public.events
<span class="hljs-keyword">where</span> ts <span class="hljs-operator">&gt;=</span> <span class="hljs-built_in">current_date</span> <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'30 days'</span>;
</code></pre>
<h4 data-id="heading-32">åŠŸèƒ½ä½¿ç”¨æ’è¡Œ</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åŠŸèƒ½ä½¿ç”¨æ¬¡æ•°æ’è¡Œ (æœ€è¿‘ 7 å¤©)</span>
<span class="hljs-keyword">select</span>
  extra<span class="hljs-operator">-</span><span class="hljs-operator">&gt;&gt;</span><span class="hljs-string">'feature'</span> <span class="hljs-keyword">as</span> feature_name,
  <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> usage_count,
  <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> user_id) <span class="hljs-keyword">as</span> unique_users
<span class="hljs-keyword">from</span> public.events
<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'feature_used'</span>
  <span class="hljs-keyword">and</span> ts <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'7 days'</span>
<span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> extra<span class="hljs-operator">-</span><span class="hljs-operator">&gt;&gt;</span><span class="hljs-string">'feature'</span>
<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> usage_count <span class="hljs-keyword">desc</span>
limit <span class="hljs-number">10</span>;
</code></pre>
<h4 data-id="heading-33">ç•™å­˜ç‡åˆ†æ</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ¬¡æ—¥ç•™å­˜ç‡</span>
<span class="hljs-keyword">with</span> first_day_users <span class="hljs-keyword">as</span> (
  <span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> user_id, <span class="hljs-type">date</span>(ts) <span class="hljs-keyword">as</span> first_day
  <span class="hljs-keyword">from</span> public.events
  <span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'app_start'</span>
    <span class="hljs-keyword">and</span> <span class="hljs-type">date</span>(ts) <span class="hljs-operator">=</span> <span class="hljs-string">'2025-12-08'</span>
)
<span class="hljs-keyword">select</span>
  <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> e.user_id)::<span class="hljs-type">float</span> <span class="hljs-operator">/</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span> f.user_id) <span class="hljs-operator">*</span> <span class="hljs-number">100</span> <span class="hljs-keyword">as</span> retention_rate
<span class="hljs-keyword">from</span> first_day_users f
<span class="hljs-keyword">left</span> <span class="hljs-keyword">join</span> public.events e
  <span class="hljs-keyword">on</span> f.user_id <span class="hljs-operator">=</span> e.user_id
  <span class="hljs-keyword">and</span> <span class="hljs-type">date</span>(e.ts) <span class="hljs-operator">=</span> f.first_day <span class="hljs-operator">+</span> <span class="hljs-type">interval</span> <span class="hljs-string">'1 day'</span>;
</code></pre>
<h4 data-id="heading-34">ç”¨æˆ·ä¼šè¯åˆ†æ</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¹³å‡ä¼šè¯æ—¶é•¿ (app_start åˆ° app_quit çš„æ—¶é—´å·®)</span>
<span class="hljs-keyword">with</span> sessions <span class="hljs-keyword">as</span> (
  <span class="hljs-keyword">select</span>
    session_id,
    <span class="hljs-built_in">min</span>(ts) <span class="hljs-keyword">as</span> session_start,
    <span class="hljs-built_in">max</span>(ts) <span class="hljs-keyword">as</span> session_end,
    <span class="hljs-built_in">extract</span>(epoch <span class="hljs-keyword">from</span> (<span class="hljs-built_in">max</span>(ts) <span class="hljs-operator">-</span> <span class="hljs-built_in">min</span>(ts))) <span class="hljs-keyword">as</span> session_duration_sec
  <span class="hljs-keyword">from</span> public.events
  <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> session_id
  <span class="hljs-keyword">having</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span>  <span class="hljs-comment">-- è‡³å°‘æœ‰ 2 ä¸ªäº‹ä»¶</span>
)
<span class="hljs-keyword">select</span>
  <span class="hljs-built_in">avg</span>(session_duration_sec) <span class="hljs-operator">/</span> <span class="hljs-number">60</span> <span class="hljs-keyword">as</span> avg_session_minutes,
  <span class="hljs-built_in">percentile_cont</span>(<span class="hljs-number">0.5</span>) <span class="hljs-keyword">within</span> <span class="hljs-keyword">group</span> (<span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> session_duration_sec) <span class="hljs-operator">/</span> <span class="hljs-number">60</span> <span class="hljs-keyword">as</span> median_session_minutes
<span class="hljs-keyword">from</span> sessions
<span class="hljs-keyword">where</span> session_duration_sec <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>;
</code></pre>
<h4 data-id="heading-35">æ¿€æ´»æ¼æ–—åˆ†æ</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ¿€æ´»æµç¨‹è½¬åŒ–ç‡</span>
<span class="hljs-keyword">select</span>
  <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'activation_start'</span>) <span class="hljs-keyword">as</span> started,
  <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'activation_verified'</span>) <span class="hljs-keyword">as</span> verified,
  <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'activation_success'</span>) <span class="hljs-keyword">as</span> succeeded,
  round(
    <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'activation_success'</span>)::<span class="hljs-type">float</span> <span class="hljs-operator">/</span>
    <span class="hljs-built_in">nullif</span>(<span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">filter</span> (<span class="hljs-keyword">where</span> event <span class="hljs-operator">=</span> <span class="hljs-string">'activation_start'</span>), <span class="hljs-number">0</span>) <span class="hljs-operator">*</span> <span class="hljs-number">100</span>,
    <span class="hljs-number">2</span>
  ) <span class="hljs-keyword">as</span> conversion_rate
<span class="hljs-keyword">from</span> public.events
<span class="hljs-keyword">where</span> ts <span class="hljs-operator">&gt;=</span> now() <span class="hljs-operator">-</span> <span class="hljs-type">interval</span> <span class="hljs-string">'7 days'</span>;
</code></pre>
<h2 data-id="heading-36">å‰ç«¯é¢„è§ˆé¡µ</h2>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>LightDot ç”¨æˆ·ç”»åƒç›‘æ§<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.tailwindcss.com"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.45.2/dist/umd/supabase.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- Google Fonts --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"preconnect"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.gstatic.com"</span> <span class="hljs-attr">crossorigin</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&amp;family=Inter:wght@400;500;600;700&amp;display=swap"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    tailwind.<span class="hljs-property">config</span> = {
      <span class="hljs-attr">theme</span>: {
        <span class="hljs-attr">extend</span>: {
          <span class="hljs-attr">fontFamily</span>: {
            <span class="hljs-attr">sans</span>: [<span class="hljs-string">'"Inter"'</span>, <span class="hljs-string">'"Noto Sans SC"'</span>, <span class="hljs-string">'sans-serif'</span>],
          },
          <span class="hljs-attr">colors</span>: {
            <span class="hljs-attr">primary</span>: {
              <span class="hljs-number">50</span>: <span class="hljs-string">'#f0f9ff'</span>,
              <span class="hljs-number">100</span>: <span class="hljs-string">'#e0f2fe'</span>,
              <span class="hljs-number">500</span>: <span class="hljs-string">'#0ea5e9'</span>,
              <span class="hljs-number">600</span>: <span class="hljs-string">'#0284c7'</span>,
              <span class="hljs-number">700</span>: <span class="hljs-string">'#0369a1'</span>,
            }
          }
        }
      }
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
       <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8fafc</span>;
       <span class="hljs-attribute">background-image</span>: 
         <span class="hljs-built_in">radial-gradient</span>(at <span class="hljs-number">0%</span> <span class="hljs-number">0%</span>, <span class="hljs-built_in">hsla</span>(<span class="hljs-number">253</span>,<span class="hljs-number">16%</span>,<span class="hljs-number">7%</span>,<span class="hljs-number">0</span>) <span class="hljs-number">0</span>, transparent <span class="hljs-number">50%</span>), 
         <span class="hljs-built_in">radial-gradient</span>(at <span class="hljs-number">50%</span> <span class="hljs-number">0%</span>, <span class="hljs-built_in">hsla</span>(<span class="hljs-number">225</span>,<span class="hljs-number">39%</span>,<span class="hljs-number">30%</span>,<span class="hljs-number">0</span>) <span class="hljs-number">0</span>, transparent <span class="hljs-number">50%</span>), 
         <span class="hljs-built_in">radial-gradient</span>(at <span class="hljs-number">100%</span> <span class="hljs-number">0%</span>, <span class="hljs-built_in">hsla</span>(<span class="hljs-number">339</span>,<span class="hljs-number">49%</span>,<span class="hljs-number">30%</span>,<span class="hljs-number">0</span>) <span class="hljs-number">0</span>, transparent <span class="hljs-number">50%</span>);
       <span class="hljs-attribute">background-attachment</span>: fixed;
    }
    <span class="hljs-selector-class">.glass-panel</span> {
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.9</span>);
        backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">20px</span>);
        -webkit-backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">20px</span>);
        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.8</span>);
        <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">6px</span> -<span class="hljs-number">1px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.05</span>), <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">4px</span> -<span class="hljs-number">1px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.03</span>);
    }
    <span class="hljs-selector-class">.glass-header</span> {
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.8</span>);
        backdrop-<span class="hljs-attribute">filter</span>: <span class="hljs-built_in">blur</span>(<span class="hljs-number">12px</span>);
        <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">rgba</span>(<span class="hljs-number">226</span>, <span class="hljs-number">232</span>, <span class="hljs-number">240</span>, <span class="hljs-number">0.8</span>);
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"min-h-screen font-sans text-slate-800 bg-slate-50"</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- Navbar --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-header sticky top-0 z-50"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex justify-between h-16 items-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center gap-3"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-indigo-600 p-1.5 rounded-lg"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-6 h-6 text-white"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"font-bold text-xl tracking-tight text-slate-900"</span>&gt;</span>LightDot <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-indigo-600"</span>&gt;</span>Monitor<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center gap-4"</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"auth-status"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm text-slate-500 hidden md:block"</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"logout-btn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hidden px-4 py-2 rounded-lg text-sm font-medium text-slate-600 hover:bg-slate-100 transition-colors"</span>&gt;</span>é€€å‡ºç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 space-y-8"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Config &amp; Login Card --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-1 lg:grid-cols-3 gap-8"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- Left: Login &amp; Config --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lg:col-span-1 space-y-6"</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Login Panel --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-panel rounded-2xl p-6"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-5 h-5 text-indigo-500"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            ç®¡ç†å‘˜ç™»å½•
          <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space-y-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-xs font-medium text-slate-500 mb-1 uppercase tracking-wider"</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none text-sm"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"admin@example.com"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-xs font-medium text-slate-500 mb-1 uppercase tracking-wider"</span>&gt;</span>Password<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-slate-50/50 focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all outline-none text-sm"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"login"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full py-2.5 rounded-xl bg-indigo-600 hover:bg-indigo-700 text-white font-medium shadow-lg shadow-indigo-600/20 transition-all active:scale-95 flex justify-center items-center gap-2"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>ç™»å½•ç³»ç»Ÿ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-4 h-4"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M14 5l7 7m0 0l-7 7m7-7H3"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"login-msg"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-center min-h-[1.5em] text-rose-500 font-medium"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Connection Settings (Collapsible or Small) --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-panel rounded-2xl p-6"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center justify-between mb-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-bold text-slate-900 flex items-center gap-2"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-5 h-5 text-slate-400"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M15 12a3 3 0 11-6 0 3 3 0 016 0z"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
              è¿æ¥é…ç½®
            <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"save-config"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs bg-slate-100 hover:bg-slate-200 text-slate-600 px-3 py-1.5 rounded-lg transition-colors"</span>&gt;</span>ä¿å­˜<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"space-y-3"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-xs text-slate-400 mb-1"</span>&gt;</span>Supabase URL<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"supabase-url"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full px-3 py-2 rounded-lg border border-slate-200 bg-slate-50/50 text-xs focus:ring-1 focus:ring-indigo-500 outline-none"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"https://..."</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block text-xs text-slate-400 mb-1"</span>&gt;</span>Supabase Anon Key<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"supabase-anon"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full px-3 py-2 rounded-lg border border-slate-200 bg-slate-50/50 text-xs focus:ring-1 focus:ring-indigo-500 outline-none"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ey..."</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      <span class="hljs-comment">&lt;!-- Right: Dashboard Content --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"lg:col-span-2 space-y-8"</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- Summary Cards - ç”¨æˆ·è§„æ¨¡ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-panel rounded-2xl p-6 mb-6"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-5 h-5 text-indigo-500"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            ç”¨æˆ·è§„æ¨¡ç»Ÿè®¡
          <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-2 lg:grid-cols-5 gap-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>æ€»ç”¨æˆ·æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-total-users"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-slate-800 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>æ—¥æ´» (DAU)<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-dau"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-emerald-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>å‘¨æ´» (WAU)<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-wau"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-blue-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>æœˆæ´» (MAU)<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-mau"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-indigo-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>æ–°ç”¨æˆ· (æœ¬å‘¨)<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-new-users"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-purple-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-panel rounded-2xl p-6 mb-6"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-5 h-5 text-blue-500"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M13 10V3L4 14h7v7l9-11h-7z"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
            ç”¨æˆ·è¡Œä¸ºåˆ†æ
          <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-2 lg:grid-cols-4 gap-4"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>å¹³å‡ä½¿ç”¨æ—¶é•¿<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-avg-duration"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-slate-800 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-400"</span>&gt;</span>åˆ†é’Ÿ/ä¼šè¯<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>æ—¥å‡å¯åŠ¨æ¬¡æ•°<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-avg-starts"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-blue-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-400"</span>&gt;</span>æ¬¡/å¤©<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>æ¿€æ´»æˆåŠŸç‡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-activation-rate"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-emerald-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-400"</span>&gt;</span>%<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-4 border border-slate-100"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-500 font-medium uppercase tracking-wider"</span>&gt;</span>å´©æºƒç‡<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"stat-crash-rate"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-rose-600 mt-1 block"</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xs text-slate-400"</span>&gt;</span>%<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Charts Section --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-panel rounded-2xl p-6 md:p-8"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center justify-between mb-8"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-slate-900"</span>&gt;</span>æ•°æ®æ¦‚è§ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-slate-500 text-sm mt-1"</span>&gt;</span>å®æ—¶èšåˆç”¨æˆ·ç”»åƒæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"load-charts"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"px-4 py-2 rounded-xl bg-white border border-slate-200 text-slate-600 hover:text-indigo-600 hover:border-indigo-200 hover:shadow-md transition-all flex items-center gap-2 text-sm font-medium"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-4 h-4"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
              åˆ·æ–°æ•°æ®
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-1 md:grid-cols-2 gap-6"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- æ“ä½œç³»ç»Ÿåˆ†å¸ƒ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-5 border border-slate-100 shadow-sm"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-blue-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> æ“ä½œç³»ç»Ÿåˆ†å¸ƒ
              <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-48 flex items-center justify-center"</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart-platform"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- CPU æ¶æ„åˆ†å¸ƒ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-5 border border-slate-100 shadow-sm"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2"</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-indigo-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> CPU æ¶æ„åˆ†å¸ƒ
              <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-48"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart-arch"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- åº”ç”¨ç‰ˆæœ¬åˆ†å¸ƒ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-5 border border-slate-100 shadow-sm"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2"</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-orange-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> åº”ç”¨ç‰ˆæœ¬åˆ†å¸ƒ (Top 6)
              <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-48"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart-version"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- æ´»è·ƒæ—¶æ®µåˆ†å¸ƒ --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-5 border border-slate-100 shadow-sm"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2"</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-emerald-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> æ´»è·ƒæ—¶æ®µåˆ†å¸ƒ (24h)
              <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-48"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart-hour"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- å¼€å‘/ç”Ÿäº§ç¯å¢ƒå æ¯” --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-5 border border-slate-100 shadow-sm"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2"</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-purple-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> ç¯å¢ƒåˆ†å¸ƒ
              <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-48"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart-env"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- å±å¹•åˆ†è¾¨ç‡ Top 5 --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white rounded-xl p-5 border border-slate-100 shadow-sm"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm font-semibold text-slate-700 mb-4 flex items-center gap-2"</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-2 h-2 rounded-full bg-pink-500"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> å±å¹•åˆ†è¾¨ç‡ (Top 5)
              <span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-48"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chart-resolution"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Data Table Section --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"glass-panel rounded-2xl p-6 md:p-8"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex items-center justify-between mb-6"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-xl font-bold text-slate-900"</span>&gt;</span>è¯¦ç»†æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex bg-slate-100 p-1 rounded-lg"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"load-combined"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"px-4 py-1.5 rounded-md text-sm font-medium text-slate-600 hover:bg-white hover:shadow-sm transition-all"</span>&gt;</span>ç”¨æˆ·æ±‡æ€»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"load-events"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"px-4 py-1.5 rounded-md text-sm font-medium text-slate-600 hover:bg-white hover:shadow-sm transition-all"</span>&gt;</span>åŸå§‹äº‹ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"table-container"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white border border-slate-200 rounded-xl overflow-hidden min-h-[200px]"</span>&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-full flex flex-col items-center justify-center text-slate-400 py-12 space-y-2"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-12 h-12 text-slate-200"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"1.5"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-sm"</span>&gt;</span>è¯·å…ˆç™»å½•å¹¶åŠ è½½æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
             <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// --- Config ---</span>
    <span class="hljs-keyword">const</span> cfgKeys = {
      <span class="hljs-attr">supabaseUrl</span>: <span class="hljs-string">'supabase-url'</span>,
      <span class="hljs-attr">supabaseAnon</span>: <span class="hljs-string">'supabase-anon'</span>
    };

    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEFAULT_CONFIG</span> = {
      <span class="hljs-attr">supabaseUrl</span>: <span class="hljs-string">'https://your-project.supabase.co'</span>,
      <span class="hljs-attr">supabaseAnon</span>: <span class="hljs-string">''</span> 
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getConfig</span> = (<span class="hljs-params"/>) =&gt; ({
      <span class="hljs-attr">supabaseUrl</span>: <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(cfgKeys.<span class="hljs-property">supabaseUrl</span>) || <span class="hljs-variable constant_">DEFAULT_CONFIG</span>.<span class="hljs-property">supabaseUrl</span> || <span class="hljs-string">''</span>,
      <span class="hljs-attr">supabaseAnon</span>: <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(cfgKeys.<span class="hljs-property">supabaseAnon</span>) || <span class="hljs-variable constant_">DEFAULT_CONFIG</span>.<span class="hljs-property">supabaseAnon</span> || <span class="hljs-string">''</span>
    });

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">setConfig</span> = (<span class="hljs-params">cfg</span>) =&gt; {
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(cfgKeys.<span class="hljs-property">supabaseUrl</span>, cfg.<span class="hljs-property">supabaseUrl</span>.<span class="hljs-title function_">trim</span>());
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(cfgKeys.<span class="hljs-property">supabaseAnon</span>, cfg.<span class="hljs-property">supabaseAnon</span>.<span class="hljs-title function_">trim</span>());
    };

    <span class="hljs-comment">// --- Supabase ---</span>
    <span class="hljs-keyword">let</span> supabaseClient = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">ensureSupabase</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">const</span> cfg = <span class="hljs-title function_">getConfig</span>();
      <span class="hljs-keyword">if</span> (!cfg.<span class="hljs-property">supabaseUrl</span> || !cfg.<span class="hljs-property">supabaseAnon</span>) {
        <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'è¯·å…ˆé…ç½® Supabase URL å’Œ Key'</span>, <span class="hljs-string">'error'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      }
      <span class="hljs-keyword">if</span> (supabaseClient) <span class="hljs-keyword">return</span> supabaseClient;
      <span class="hljs-keyword">try</span> {
        supabaseClient = <span class="hljs-variable language_">window</span>.<span class="hljs-property">supabase</span>.<span class="hljs-title function_">createClient</span>(cfg.<span class="hljs-property">supabaseUrl</span>, cfg.<span class="hljs-property">supabaseAnon</span>);
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'Supabase åˆå§‹åŒ–å¤±è´¥: '</span> + e.<span class="hljs-property">message</span>, <span class="hljs-string">'error'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      }
      <span class="hljs-keyword">return</span> supabaseClient;
    };

    <span class="hljs-comment">// --- UI Helpers ---</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">showMsg</span> = (<span class="hljs-params">msg, type = <span class="hljs-string">'info'</span></span>) =&gt; {
      <span class="hljs-keyword">const</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'login-msg'</span>);
      el.<span class="hljs-property">textContent</span> = msg;
      el.<span class="hljs-property">className</span> = <span class="hljs-string">`text-xs text-center min-h-[1.5em] font-medium <span class="hljs-subst">${type === <span class="hljs-string">'error'</span> ? <span class="hljs-string">'text-rose-500'</span> : <span class="hljs-string">'text-emerald-500'</span>}</span>`</span>;
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> { el.<span class="hljs-property">textContent</span> = <span class="hljs-string">''</span>; }, <span class="hljs-number">3000</span>);
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateAuthUI</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">const</span> supa = <span class="hljs-title function_">ensureSupabase</span>();
        <span class="hljs-keyword">if</span>(!supa) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: { session } } = <span class="hljs-keyword">await</span> supa.<span class="hljs-property">auth</span>.<span class="hljs-title function_">getSession</span>();
        <span class="hljs-keyword">const</span> statusEl = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'auth-status'</span>);
        <span class="hljs-keyword">const</span> logoutBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'logout-btn'</span>);
        
        <span class="hljs-keyword">if</span> (session) {
            statusEl.<span class="hljs-property">textContent</span> = session.<span class="hljs-property">user</span>.<span class="hljs-property">email</span>;
            statusEl.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'text-indigo-600'</span>, <span class="hljs-string">'font-medium'</span>);
            logoutBtn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'hidden'</span>);
        } <span class="hljs-keyword">else</span> {
            statusEl.<span class="hljs-property">textContent</span> = <span class="hljs-string">'æœªç™»å½•'</span>;
            statusEl.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">'text-indigo-600'</span>, <span class="hljs-string">'font-medium'</span>);
            logoutBtn.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'hidden'</span>);
        }
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">formatTime</span> = (<span class="hljs-params">ts</span>) =&gt; {
        <span class="hljs-keyword">if</span> (!ts) <span class="hljs-keyword">return</span> <span class="hljs-string">'-'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(ts).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">'zh-CN'</span>, { <span class="hljs-attr">hour12</span>: <span class="hljs-literal">false</span> });
    };

    <span class="hljs-comment">// --- Charts ---</span>
    <span class="hljs-keyword">const</span> charts = {};
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">destroyChart</span> = (<span class="hljs-params">key</span>) =&gt; {
      <span class="hljs-keyword">if</span> (charts[key]) {
        charts[key].<span class="hljs-title function_">destroy</span>();
        <span class="hljs-keyword">delete</span> charts[key];
      }
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">upsertChart</span> = (<span class="hljs-params">key, ctx, config</span>) =&gt; {
      <span class="hljs-title function_">destroyChart</span>(key);
      charts[key] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Chart</span>(ctx, config);
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">countBy</span> = (<span class="hljs-params">rows, key</span>) =&gt; {
      <span class="hljs-keyword">const</span> m = {};
      rows.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> k = (r[key] || <span class="hljs-string">'unknown'</span>).<span class="hljs-title function_">toString</span>();
        m[k] = (m[k] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
      });
      <span class="hljs-keyword">return</span> m;
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">toDataset</span> = (<span class="hljs-params">m</span>) =&gt; {
      <span class="hljs-keyword">const</span> labels = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(m);
      <span class="hljs-keyword">const</span> values = labels.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> m[k]);
      <span class="hljs-keyword">return</span> { labels, values };
    };

    <span class="hljs-keyword">const</span> palette = [<span class="hljs-string">'#3b82f6'</span>, <span class="hljs-string">'#6366f1'</span>, <span class="hljs-string">'#10b981'</span>, <span class="hljs-string">'#f97316'</span>, <span class="hljs-string">'#ef4444'</span>, <span class="hljs-string">'#14b8a6'</span>, <span class="hljs-string">'#a855f7'</span>, <span class="hljs-string">'#f59e0b'</span>];

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadCharts</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">const</span> supa = <span class="hljs-title function_">ensureSupabase</span>();
      <span class="hljs-keyword">if</span> (!supa) <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: { session } } = <span class="hljs-keyword">await</span> supa.<span class="hljs-property">auth</span>.<span class="hljs-title function_">getSession</span>();
      <span class="hljs-keyword">if</span> (!session) {
          <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'è¯·å…ˆç™»å½•'</span>, <span class="hljs-string">'error'</span>);
          <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-comment">// æŸ¥è¯¢æ‰€æœ‰äº‹ä»¶æ•°æ®</span>
      <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: events, error } = <span class="hljs-keyword">await</span> supa.<span class="hljs-title function_">from</span>(<span class="hljs-string">'events'</span>).<span class="hljs-title function_">select</span>(<span class="hljs-string">'*'</span>).<span class="hljs-title function_">limit</span>(<span class="hljs-number">10000</span>);

      <span class="hljs-keyword">if</span> (error) {
        <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æƒé™'</span>, <span class="hljs-string">'error'</span>);
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-keyword">if</span> (!events || events.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'æš‚æ— æ•°æ®'</span>, <span class="hljs-string">'info'</span>);
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-comment">// ===== 1. ç”¨æˆ·è§„æ¨¡ç»Ÿè®¡ =====</span>
      <span class="hljs-keyword">const</span> totalUsers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(events.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">user_id</span>)).<span class="hljs-property">size</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-total-users'</span>).<span class="hljs-property">textContent</span> = totalUsers;

      <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();

      <span class="hljs-comment">// DAU - ä»Šå¤©0ç‚¹åˆ°ç°åœ¨çš„æ´»è·ƒç”¨æˆ·</span>
      <span class="hljs-keyword">const</span> todayStart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getFullYear</span>(), now.<span class="hljs-title function_">getMonth</span>(), now.<span class="hljs-title function_">getDate</span>(), <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
      <span class="hljs-keyword">const</span> dau = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(events.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &gt;= todayStart).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">user_id</span>)).<span class="hljs-property">size</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-dau'</span>).<span class="hljs-property">textContent</span> = dau;

      <span class="hljs-comment">// WAU - æœ¬å‘¨ä¸€0ç‚¹åˆ°ç°åœ¨çš„æ´»è·ƒç”¨æˆ·</span>
      <span class="hljs-keyword">const</span> dayOfWeek = now.<span class="hljs-title function_">getDay</span>();
      <span class="hljs-keyword">const</span> daysToMonday = dayOfWeek === <span class="hljs-number">0</span> ? <span class="hljs-number">6</span> : dayOfWeek - <span class="hljs-number">1</span>; <span class="hljs-comment">// å‘¨æ—¥ç®—6å¤©å‰</span>
      <span class="hljs-keyword">const</span> thisWeekStart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getFullYear</span>(), now.<span class="hljs-title function_">getMonth</span>(), now.<span class="hljs-title function_">getDate</span>() - daysToMonday, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
      <span class="hljs-keyword">const</span> wau = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(events.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &gt;= thisWeekStart).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">user_id</span>)).<span class="hljs-property">size</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-wau'</span>).<span class="hljs-property">textContent</span> = wau;

      <span class="hljs-comment">// MAU - æœ¬æœˆ1æ—¥0ç‚¹åˆ°ç°åœ¨çš„æ´»è·ƒç”¨æˆ·</span>
      <span class="hljs-keyword">const</span> thisMonthStart = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now.<span class="hljs-title function_">getFullYear</span>(), now.<span class="hljs-title function_">getMonth</span>(), <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
      <span class="hljs-keyword">const</span> mau = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(events.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &gt;= thisMonthStart).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">user_id</span>)).<span class="hljs-property">size</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-mau'</span>).<span class="hljs-property">textContent</span> = mau;

      <span class="hljs-comment">// æ–°ç”¨æˆ· (æœ¬å‘¨æ¿€æ´»)</span>
      <span class="hljs-keyword">const</span> newUsers = events.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">event</span> === <span class="hljs-string">'activation_success'</span> &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &gt;= thisWeekStart).<span class="hljs-property">length</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-new-users'</span>).<span class="hljs-property">textContent</span> = newUsers;

      <span class="hljs-comment">// ===== 2. ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ï¼ˆåŸºäºæœ€è¿‘30å¤©ï¼‰=====</span>
      <span class="hljs-keyword">const</span> thirtyDaysAgo = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(now - <span class="hljs-number">30</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>);
      <span class="hljs-keyword">const</span> recentEvents = events.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &gt;= thirtyDaysAgo);

      <span class="hljs-comment">// è®¡ç®—å¹³å‡ä½¿ç”¨æ—¶é•¿ï¼ˆä» app_start åˆ° app_quit çš„æ—¶é—´å·®ï¼‰</span>
      <span class="hljs-keyword">const</span> sessions = {};
      recentEvents.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">event</span> === <span class="hljs-string">'app_start'</span>) {
          sessions[e.<span class="hljs-property">session_id</span>] = { <span class="hljs-attr">start</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>), <span class="hljs-attr">quit</span>: <span class="hljs-literal">null</span> };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">event</span> === <span class="hljs-string">'app_quit'</span> &amp;&amp; sessions[e.<span class="hljs-property">session_id</span>]) {
          sessions[e.<span class="hljs-property">session_id</span>].<span class="hljs-property">quit</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>);
        }
      });

      <span class="hljs-comment">// è®¡ç®—æœ‰æ•ˆä¼šè¯æ—¶é•¿ï¼ˆæ’é™¤å¼‚å¸¸å€¼ï¼š&lt;10ç§’ æˆ– &gt;2å°æ—¶ï¼‰</span>
      <span class="hljs-keyword">const</span> durations = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(sessions)
        .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.<span class="hljs-property">quit</span>)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> (s.<span class="hljs-property">quit</span> - s.<span class="hljs-property">start</span>) / <span class="hljs-number">1000</span> / <span class="hljs-number">60</span>) <span class="hljs-comment">// åˆ†é’Ÿ</span>
        .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> d &gt;= <span class="hljs-number">0.17</span> &amp;&amp; d &lt;= <span class="hljs-number">120</span>); <span class="hljs-comment">// 10ç§’åˆ°2å°æ—¶</span>

      <span class="hljs-keyword">const</span> avgDuration = durations.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>
        ? (durations.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>) / durations.<span class="hljs-property">length</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">1</span>)
        : <span class="hljs-string">'0'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-avg-duration'</span>).<span class="hljs-property">textContent</span> = avgDuration;

      <span class="hljs-comment">// æ—¥å‡å¯åŠ¨æ¬¡æ•°ï¼ˆç”¨æˆ·ç»´åº¦ï¼šå¹³å‡æ¯ä¸ªæ´»è·ƒç”¨æˆ·æ¯å¤©å¯åŠ¨å¤šå°‘æ¬¡ï¼‰</span>
      <span class="hljs-keyword">const</span> appStarts = recentEvents.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">event</span> === <span class="hljs-string">'app_start'</span>);
      <span class="hljs-comment">// ç»Ÿè®¡"ç”¨æˆ·-æ—¥æœŸ"çš„å”¯ä¸€ç»„åˆæ•°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘ä¸ª"ç”¨æˆ·æ´»è·ƒå¤©"</span>
      <span class="hljs-keyword">const</span> activeUserDays = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(appStarts.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>).<span class="hljs-title function_">toDateString</span>();
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${e.user_id}</span>_<span class="hljs-subst">${date}</span>`</span>;
      })).<span class="hljs-property">size</span>;
      <span class="hljs-keyword">const</span> avgStarts = activeUserDays &gt; <span class="hljs-number">0</span> ? (appStarts.<span class="hljs-property">length</span> / activeUserDays).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">1</span>) : <span class="hljs-string">'0'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-avg-starts'</span>).<span class="hljs-property">textContent</span> = avgStarts;

      <span class="hljs-comment">// æ¿€æ´»æˆåŠŸç‡ï¼ˆæœ€è¿‘30å¤©çš„é¦–æ¬¡æ¿€æ´»ç‡ï¼‰</span>
      <span class="hljs-keyword">const</span> recentActivations = recentEvents.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">event</span> === <span class="hljs-string">'activation_success'</span>);
      <span class="hljs-keyword">const</span> recentUsers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(recentEvents.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">user_id</span>)).<span class="hljs-property">size</span>;
      <span class="hljs-keyword">const</span> activationRate = recentUsers &gt; <span class="hljs-number">0</span> ? ((recentActivations.<span class="hljs-property">length</span> / recentUsers) * <span class="hljs-number">100</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">1</span>) : <span class="hljs-string">'0'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-activation-rate'</span>).<span class="hljs-property">textContent</span> = activationRate;

      <span class="hljs-comment">// å´©æºƒç‡ï¼ˆæœ€è¿‘30å¤©æ²¡æœ‰æ­£å¸¸é€€å‡ºçš„ä¼šè¯æ¯”ä¾‹ï¼‰</span>
      <span class="hljs-keyword">const</span> totalSessions = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(sessions).<span class="hljs-property">length</span>;
      <span class="hljs-keyword">const</span> crashedSessions = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(sessions).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> !s.<span class="hljs-property">quit</span>).<span class="hljs-property">length</span>;
      <span class="hljs-keyword">const</span> crashRate = totalSessions &gt; <span class="hljs-number">0</span> ? ((crashedSessions / totalSessions) * <span class="hljs-number">100</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">1</span>) : <span class="hljs-string">'0'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'stat-crash-rate'</span>).<span class="hljs-property">textContent</span> = crashRate;

      <span class="hljs-comment">// ===== 3. å›¾è¡¨æ•°æ® =====</span>

      <span class="hljs-comment">// 3.1 æ“ä½œç³»ç»Ÿåˆ†å¸ƒ (æŒ‰ç”¨æˆ·æ•°ç»Ÿè®¡)</span>
      <span class="hljs-keyword">const</span> platformMap = {};
      events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">os_platform</span>) {
          <span class="hljs-keyword">if</span> (!platformMap[e.<span class="hljs-property">os_platform</span>]) platformMap[e.<span class="hljs-property">os_platform</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
          platformMap[e.<span class="hljs-property">os_platform</span>].<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
        }
      });
      <span class="hljs-keyword">const</span> platformData = <span class="hljs-title function_">toDataset</span>(
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(platformMap).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[k, v]</span>) =&gt;</span> [k, v.<span class="hljs-property">size</span>]))
      );
      <span class="hljs-title function_">upsertChart</span>(<span class="hljs-string">'platform'</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-platform'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>), {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'doughnut'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">labels</span>: platformData.<span class="hljs-property">labels</span>,
          <span class="hljs-attr">datasets</span>: [{ <span class="hljs-attr">data</span>: platformData.<span class="hljs-property">values</span>, <span class="hljs-attr">backgroundColor</span>: palette, <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">0</span> }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">legend</span>: { <span class="hljs-attr">position</span>: <span class="hljs-string">'right'</span>, <span class="hljs-attr">labels</span>: { <span class="hljs-attr">boxWidth</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">font</span>: { <span class="hljs-attr">size</span>: <span class="hljs-number">11</span> } } } },
            <span class="hljs-attr">cutout</span>: <span class="hljs-string">'65%'</span>
        }
      });

      <span class="hljs-comment">// 3.2 CPU æ¶æ„åˆ†å¸ƒ (æŒ‰ç”¨æˆ·æ•°ç»Ÿè®¡)</span>
      <span class="hljs-keyword">const</span> archMap = {};
      events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">os_arch</span>) {
          <span class="hljs-keyword">if</span> (!archMap[e.<span class="hljs-property">os_arch</span>]) archMap[e.<span class="hljs-property">os_arch</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
          archMap[e.<span class="hljs-property">os_arch</span>].<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
        }
      });
      <span class="hljs-keyword">const</span> archData = <span class="hljs-title function_">toDataset</span>(
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(archMap).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[k, v]</span>) =&gt;</span> [k, v.<span class="hljs-property">size</span>]))
      );
      <span class="hljs-title function_">upsertChart</span>(<span class="hljs-string">'arch'</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-arch'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>), {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'doughnut'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">labels</span>: archData.<span class="hljs-property">labels</span>,
          <span class="hljs-attr">datasets</span>: [{ <span class="hljs-attr">data</span>: archData.<span class="hljs-property">values</span>, <span class="hljs-attr">backgroundColor</span>: palette, <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">0</span> }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">legend</span>: { <span class="hljs-attr">position</span>: <span class="hljs-string">'right'</span>, <span class="hljs-attr">labels</span>: { <span class="hljs-attr">boxWidth</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">font</span>: { <span class="hljs-attr">size</span>: <span class="hljs-number">11</span> } } } },
            <span class="hljs-attr">cutout</span>: <span class="hljs-string">'65%'</span>
        }
      });

      <span class="hljs-comment">// 3.3 åº”ç”¨ç‰ˆæœ¬åˆ†å¸ƒ (Top 6) (æŒ‰ç”¨æˆ·æ•°ç»Ÿè®¡)</span>
      <span class="hljs-keyword">const</span> versionMap = {};
      events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">app_version</span>) {
          <span class="hljs-keyword">if</span> (!versionMap[e.<span class="hljs-property">app_version</span>]) versionMap[e.<span class="hljs-property">app_version</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
          versionMap[e.<span class="hljs-property">app_version</span>].<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
        }
      });
      <span class="hljs-keyword">const</span> versionEntries = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(versionMap)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[k, v]</span>) =&gt;</span> [k, v.<span class="hljs-property">size</span>])
        .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b[<span class="hljs-number">1</span>] - a[<span class="hljs-number">1</span>])
        .<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>);
      <span class="hljs-title function_">upsertChart</span>(<span class="hljs-string">'version'</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-version'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>), {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'bar'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">labels</span>: versionEntries.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e[<span class="hljs-number">0</span>]),
          <span class="hljs-attr">datasets</span>: [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'ç”¨æˆ·æ•°'</span>, <span class="hljs-attr">data</span>: versionEntries.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e[<span class="hljs-number">1</span>]), <span class="hljs-attr">backgroundColor</span>: palette[<span class="hljs-number">3</span>], <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span> }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">indexAxis</span>: <span class="hljs-string">'y'</span>,
            <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">legend</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } },
            <span class="hljs-attr">scales</span>: { <span class="hljs-attr">x</span>: { <span class="hljs-attr">beginAtZero</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">grid</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } }, <span class="hljs-attr">y</span>: { <span class="hljs-attr">grid</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } } }
        }
      });

      <span class="hljs-comment">// 3.4 æ´»è·ƒæ—¶æ®µåˆ†å¸ƒ (24h) (æŒ‰ç”¨æˆ·æ•°ç»Ÿè®¡)</span>
      <span class="hljs-keyword">const</span> hourMap = {};
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">24</span>; i++) hourMap[i] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
      events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> hour = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>).<span class="hljs-title function_">getHours</span>();
        hourMap[hour].<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
      });
      <span class="hljs-keyword">const</span> hourLabels = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(hourMap).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${h}</span>:00`</span>);
      <span class="hljs-keyword">const</span> hourValues = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(hourMap).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.<span class="hljs-property">size</span>);
      <span class="hljs-title function_">upsertChart</span>(<span class="hljs-string">'hour'</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-hour'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>), {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'line'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">labels</span>: hourLabels,
          <span class="hljs-attr">datasets</span>: [{
            <span class="hljs-attr">label</span>: <span class="hljs-string">'æ´»è·ƒç”¨æˆ·æ•°'</span>,
            <span class="hljs-attr">data</span>: hourValues,
            <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'rgba(16, 185, 129, 0.1)'</span>,
            <span class="hljs-attr">borderColor</span>: palette[<span class="hljs-number">2</span>],
            <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">fill</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">tension</span>: <span class="hljs-number">0.4</span>
          }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">legend</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } },
            <span class="hljs-attr">scales</span>: {
              <span class="hljs-attr">y</span>: { <span class="hljs-attr">beginAtZero</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">grid</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">'rgba(0,0,0,0.05)'</span> } },
              <span class="hljs-attr">x</span>: { <span class="hljs-attr">grid</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } }
            }
        }
      });

      <span class="hljs-comment">// 3.5 ç¯å¢ƒåˆ†å¸ƒ (å¼€å‘/ç”Ÿäº§) (æŒ‰ç”¨æˆ·æ•°ç»Ÿè®¡)</span>
      <span class="hljs-keyword">const</span> devUsers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
      <span class="hljs-keyword">const</span> prodUsers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
      events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">extra</span> &amp;&amp; <span class="hljs-keyword">typeof</span> e.<span class="hljs-property">extra</span> === <span class="hljs-string">'object'</span>) {
          <span class="hljs-keyword">if</span> (e.<span class="hljs-property">extra</span>.<span class="hljs-property">isDev</span> === <span class="hljs-literal">true</span>) devUsers.<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
          <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">extra</span>.<span class="hljs-property">isDev</span> === <span class="hljs-literal">false</span>) prodUsers.<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
        }
      });
      <span class="hljs-title function_">upsertChart</span>(<span class="hljs-string">'env'</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-env'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>), {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'doughnut'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">labels</span>: [<span class="hljs-string">'ç”Ÿäº§ç¯å¢ƒ'</span>, <span class="hljs-string">'å¼€å‘ç¯å¢ƒ'</span>],
          <span class="hljs-attr">datasets</span>: [{ <span class="hljs-attr">data</span>: [prodUsers.<span class="hljs-property">size</span>, devUsers.<span class="hljs-property">size</span>], <span class="hljs-attr">backgroundColor</span>: [palette[<span class="hljs-number">2</span>], palette[<span class="hljs-number">6</span>]], <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">0</span> }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">legend</span>: { <span class="hljs-attr">position</span>: <span class="hljs-string">'right'</span>, <span class="hljs-attr">labels</span>: { <span class="hljs-attr">boxWidth</span>: <span class="hljs-number">12</span>, <span class="hljs-attr">font</span>: { <span class="hljs-attr">size</span>: <span class="hljs-number">11</span> } } } },
            <span class="hljs-attr">cutout</span>: <span class="hljs-string">'65%'</span>
        }
      });

      <span class="hljs-comment">// 3.6 å±å¹•åˆ†è¾¨ç‡ (Top 5) (æŒ‰ç”¨æˆ·æ•°ç»Ÿè®¡)</span>
      <span class="hljs-keyword">const</span> resolutionMap = {};
      events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">screen_resolution</span>) {
          <span class="hljs-keyword">if</span> (!resolutionMap[e.<span class="hljs-property">screen_resolution</span>]) resolutionMap[e.<span class="hljs-property">screen_resolution</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
          resolutionMap[e.<span class="hljs-property">screen_resolution</span>].<span class="hljs-title function_">add</span>(e.<span class="hljs-property">user_id</span>);
        }
      });
      <span class="hljs-keyword">const</span> resolutionEntries = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(resolutionMap)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[k, v]</span>) =&gt;</span> [k, v.<span class="hljs-property">size</span>])
        .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b[<span class="hljs-number">1</span>] - a[<span class="hljs-number">1</span>])
        .<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>);
      <span class="hljs-title function_">upsertChart</span>(<span class="hljs-string">'resolution'</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chart-resolution'</span>).<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>), {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'bar'</span>,
        <span class="hljs-attr">data</span>: {
          <span class="hljs-attr">labels</span>: resolutionEntries.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e[<span class="hljs-number">0</span>]),
          <span class="hljs-attr">datasets</span>: [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'ç”¨æˆ·æ•°'</span>, <span class="hljs-attr">data</span>: resolutionEntries.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e[<span class="hljs-number">1</span>]), <span class="hljs-attr">backgroundColor</span>: palette[<span class="hljs-number">7</span>], <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span> }]
        },
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">indexAxis</span>: <span class="hljs-string">'y'</span>,
            <span class="hljs-attr">plugins</span>: { <span class="hljs-attr">legend</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } },
            <span class="hljs-attr">scales</span>: { <span class="hljs-attr">x</span>: { <span class="hljs-attr">beginAtZero</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">grid</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } }, <span class="hljs-attr">y</span>: { <span class="hljs-attr">grid</span>: { <span class="hljs-attr">display</span>: <span class="hljs-literal">false</span> } } }
        }
      });

      <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'å›¾è¡¨å·²æ›´æ–°'</span>, <span class="hljs-string">'success'</span>);
    };

    <span class="hljs-comment">// --- Table ---</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">renderTable</span> = (<span class="hljs-params">rows, columns = []</span>) =&gt; {
      <span class="hljs-keyword">const</span> el = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'table-container'</span>);
      <span class="hljs-keyword">if</span> (!rows || rows.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        el.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;div class="p-12 text-center text-slate-400"&gt;æš‚æ— æ•°æ®&lt;/div&gt;'</span>;
        <span class="hljs-keyword">return</span>;
      }
      
      <span class="hljs-keyword">const</span> headers = columns.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? columns : <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(rows[<span class="hljs-number">0</span>]);
      
      <span class="hljs-comment">// Helper to get nested value or format</span>
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">getVal</span> = (<span class="hljs-params">row, col</span>) =&gt; {
          <span class="hljs-keyword">const</span> key = <span class="hljs-keyword">typeof</span> col === <span class="hljs-string">'string'</span> ? col : col.<span class="hljs-property">key</span>;
          <span class="hljs-keyword">const</span> val = row[key];
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> col === <span class="hljs-string">'object'</span> &amp;&amp; col.<span class="hljs-property">format</span>) {
              <span class="hljs-keyword">return</span> col.<span class="hljs-title function_">format</span>(val, row);
          }
          <span class="hljs-keyword">return</span> val ?? <span class="hljs-string">'-'</span>;
      };
      
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">getHeader</span> = (<span class="hljs-params">col</span>) =&gt; <span class="hljs-keyword">typeof</span> col === <span class="hljs-string">'string'</span> ? col : col.<span class="hljs-property">label</span>;

      <span class="hljs-keyword">const</span> html = [
        <span class="hljs-string">'&lt;div class="overflow-auto max-h-[500px]"&gt;'</span>,
        <span class="hljs-string">'&lt;table class="min-w-full text-left border-collapse"&gt;'</span>,
        <span class="hljs-string">'&lt;thead class="sticky top-0 z-10 bg-slate-50"&gt;&lt;tr&gt;'</span>,
        headers.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-string">`&lt;th class="px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider border-b border-slate-200 whitespace-nowrap"&gt;<span class="hljs-subst">${getHeader(h)}</span>&lt;/th&gt;`</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>),
        <span class="hljs-string">'&lt;/tr&gt;&lt;/thead&gt;'</span>,
        <span class="hljs-string">'&lt;tbody class="divide-y divide-slate-100 bg-white"&gt;'</span>,
        rows.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> <span class="hljs-string">`&lt;tr class="hover:bg-slate-50 transition-colors"&gt;<span class="hljs-subst">${headers.map(h =&gt; <span class="hljs-string">`&lt;td class="px-4 py-3 text-sm text-slate-600 border-b border-slate-50 max-w-xs truncate" title="<span class="hljs-subst">${getVal(r, h)}</span>"&gt;<span class="hljs-subst">${getVal(r, h)}</span>&lt;/td&gt;`</span>).join(<span class="hljs-string">''</span>)}</span>&lt;/tr&gt;`</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>),
        <span class="hljs-string">'&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;'</span>
      ].<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
      el.<span class="hljs-property">innerHTML</span> = html;
    };

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadTableData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">type</span>) =&gt; {
        <span class="hljs-keyword">const</span> supa = <span class="hljs-title function_">ensureSupabase</span>();
        <span class="hljs-keyword">if</span> (!supa) <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: { session } } = <span class="hljs-keyword">await</span> supa.<span class="hljs-property">auth</span>.<span class="hljs-title function_">getSession</span>();
        <span class="hljs-keyword">if</span> (!session) {
            <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'è¯·å…ˆç™»å½•'</span>, <span class="hljs-string">'error'</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">let</span> data = [];
        <span class="hljs-keyword">let</span> columns = [];

        <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'combined'</span>) {
            <span class="hljs-comment">// æŸ¥è¯¢æœ€è¿‘ 1000 æ¡äº‹ä»¶</span>
            <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: events, error } = <span class="hljs-keyword">await</span> supa.<span class="hljs-title function_">from</span>(<span class="hljs-string">'events'</span>).<span class="hljs-title function_">select</span>(<span class="hljs-string">'*'</span>).<span class="hljs-title function_">order</span>(<span class="hljs-string">'ts'</span>, { <span class="hljs-attr">ascending</span>: <span class="hljs-literal">false</span> }).<span class="hljs-title function_">limit</span>(<span class="hljs-number">1000</span>);

            <span class="hljs-keyword">if</span> (error) {
                <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'åŠ è½½å¤±è´¥'</span>, <span class="hljs-string">'error'</span>);
                <span class="hljs-keyword">return</span>;
            }

            <span class="hljs-comment">// æŒ‰ç”¨æˆ·èšåˆæ•°æ®</span>
            <span class="hljs-keyword">const</span> userMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
            events.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
                <span class="hljs-keyword">if</span> (!userMap.<span class="hljs-title function_">has</span>(e.<span class="hljs-property">user_id</span>)) {
                    userMap.<span class="hljs-title function_">set</span>(e.<span class="hljs-property">user_id</span>, {
                        <span class="hljs-attr">user_id</span>: e.<span class="hljs-property">user_id</span>,
                        <span class="hljs-attr">os_platform</span>: e.<span class="hljs-property">os_platform</span>,
                        <span class="hljs-attr">os_arch</span>: e.<span class="hljs-property">os_arch</span>,
                        <span class="hljs-attr">app_version</span>: e.<span class="hljs-property">app_version</span>,
                        <span class="hljs-attr">screen_resolution</span>: e.<span class="hljs-property">screen_resolution</span>,
                        <span class="hljs-attr">first_seen_at</span>: e.<span class="hljs-property">ts</span>,
                        <span class="hljs-attr">last_seen_at</span>: e.<span class="hljs-property">ts</span>,
                        <span class="hljs-attr">total_events</span>: <span class="hljs-number">0</span>,
                        <span class="hljs-attr">total_sessions</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()
                    });
                }
                <span class="hljs-keyword">const</span> user = userMap.<span class="hljs-title function_">get</span>(e.<span class="hljs-property">user_id</span>);
                user.<span class="hljs-property">total_events</span>++;
                user.<span class="hljs-property">total_sessions</span>.<span class="hljs-title function_">add</span>(e.<span class="hljs-property">session_id</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &lt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(user.<span class="hljs-property">first_seen_at</span>)) {
                    user.<span class="hljs-property">first_seen_at</span> = e.<span class="hljs-property">ts</span>;
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(e.<span class="hljs-property">ts</span>) &gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(user.<span class="hljs-property">last_seen_at</span>)) {
                    user.<span class="hljs-property">last_seen_at</span> = e.<span class="hljs-property">ts</span>;
                    user.<span class="hljs-property">os_platform</span> = e.<span class="hljs-property">os_platform</span> || user.<span class="hljs-property">os_platform</span>;
                    user.<span class="hljs-property">app_version</span> = e.<span class="hljs-property">app_version</span> || user.<span class="hljs-property">app_version</span>;
                }
            });

            data = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(userMap.<span class="hljs-title function_">values</span>()).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">u</span> =&gt;</span> ({
                ...u,
                <span class="hljs-attr">total_sessions</span>: u.<span class="hljs-property">total_sessions</span>.<span class="hljs-property">size</span>
            }));

            columns = [
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'user_id'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'User ID'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'os_platform'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'æ“ä½œç³»ç»Ÿ'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'os_arch'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'CPUæ¶æ„'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'app_version'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'åº”ç”¨ç‰ˆæœ¬'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'screen_resolution'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'å±å¹•åˆ†è¾¨ç‡'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'total_sessions'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'ä¼šè¯æ•°'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'total_events'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'äº‹ä»¶æ•°'</span> },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'first_seen_at'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'é¦–æ¬¡æ´»è·ƒ'</span>, <span class="hljs-attr">format</span>: formatTime },
                { <span class="hljs-attr">key</span>: <span class="hljs-string">'last_seen_at'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'æœ€åæ´»è·ƒ'</span>, <span class="hljs-attr">format</span>: formatTime },
            ];
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// ç›´æ¥æŸ¥è¯¢åŸå§‹è¡¨ï¼ˆevents, user_profile, user_tagsï¼‰</span>
            <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: rawData, error } = <span class="hljs-keyword">await</span> supa.<span class="hljs-title function_">from</span>(type).<span class="hljs-title function_">select</span>(<span class="hljs-string">'*'</span>).<span class="hljs-title function_">order</span>(<span class="hljs-string">'ts'</span>, { <span class="hljs-attr">ascending</span>: <span class="hljs-literal">false</span> }).<span class="hljs-title function_">limit</span>(<span class="hljs-number">100</span>);
            <span class="hljs-keyword">if</span> (error) {
                <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">`åŠ è½½å¤±è´¥: <span class="hljs-subst">${error.message}</span>`</span>, <span class="hljs-string">'error'</span>);
                <span class="hljs-keyword">return</span>;
            }
            data = rawData;
            <span class="hljs-comment">// Auto columns but format dates</span>
            columns = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data[<span class="hljs-number">0</span>] || {}).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span> =&gt;</span> {
                <span class="hljs-keyword">if</span> (k.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'_at'</span>) || k.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'time'</span>) || k === <span class="hljs-string">'ts'</span>) {
                    <span class="hljs-keyword">return</span> { <span class="hljs-attr">key</span>: k, <span class="hljs-attr">label</span>: k, <span class="hljs-attr">format</span>: formatTime };
                }
                <span class="hljs-keyword">return</span> k;
            });
        }

        <span class="hljs-title function_">renderTable</span>(data, columns);
        <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">`å·²åŠ è½½æ•°æ®`</span>, <span class="hljs-string">'success'</span>);
    };

    <span class="hljs-comment">// --- Init &amp; Bindings ---</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'supabase-url'</span>).<span class="hljs-property">value</span> = <span class="hljs-title function_">getConfig</span>().<span class="hljs-property">supabaseUrl</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'supabase-anon'</span>).<span class="hljs-property">value</span> = <span class="hljs-title function_">getConfig</span>().<span class="hljs-property">supabaseAnon</span>;

    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'save-config'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setConfig</span>({
        <span class="hljs-attr">supabaseUrl</span>: <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'supabase-url'</span>).<span class="hljs-property">value</span>,
        <span class="hljs-attr">supabaseAnon</span>: <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'supabase-anon'</span>).<span class="hljs-property">value</span>
      });
      supabaseClient = <span class="hljs-literal">null</span>;
      <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'é…ç½®å·²ä¿å­˜'</span>, <span class="hljs-string">'success'</span>);
    };

    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'login'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> supa = <span class="hljs-title function_">ensureSupabase</span>();
      <span class="hljs-keyword">if</span> (!supa) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">const</span> email = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'email'</span>).<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
      <span class="hljs-keyword">const</span> password = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'password'</span>).<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
      <span class="hljs-keyword">if</span>(!email || !password) {
          <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'è¯·è¾“å…¥é‚®ç®±å’Œå¯†ç '</span>, <span class="hljs-string">'error'</span>);
          <span class="hljs-keyword">return</span>;
      }
      <span class="hljs-keyword">const</span> { error } = <span class="hljs-keyword">await</span> supa.<span class="hljs-property">auth</span>.<span class="hljs-title function_">signInWithPassword</span>({ email, password });
      <span class="hljs-keyword">if</span> (error) {
        <span class="hljs-title function_">showMsg</span>(error.<span class="hljs-property">message</span>, <span class="hljs-string">'error'</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'ç™»å½•æˆåŠŸ'</span>, <span class="hljs-string">'success'</span>);
        <span class="hljs-title function_">updateAuthUI</span>();
      }
    };

    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'logout-btn'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">const</span> supa = <span class="hljs-title function_">ensureSupabase</span>();
      <span class="hljs-keyword">if</span> (!supa) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">await</span> supa.<span class="hljs-property">auth</span>.<span class="hljs-title function_">signOut</span>();
      <span class="hljs-title function_">showMsg</span>(<span class="hljs-string">'å·²é€€å‡ºç™»å½•'</span>, <span class="hljs-string">'info'</span>);
      <span class="hljs-title function_">updateAuthUI</span>();
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'table-container'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">'&lt;div class="h-full flex flex-col items-center justify-center text-slate-400 py-12 space-y-2"&gt;&lt;span class="text-sm"&gt;è¯·å…ˆç™»å½•å¹¶åŠ è½½æ•°æ®&lt;/span&gt;&lt;/div&gt;'</span>;
    };

    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'load-charts'</span>).<span class="hljs-property">onclick</span> = loadCharts;
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'load-combined'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">loadTableData</span>(<span class="hljs-string">'combined'</span>);
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'load-events'</span>).<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">loadTableData</span>(<span class="hljs-string">'events'</span>);

    <span class="hljs-comment">// Check auth on load</span>
    <span class="hljs-built_in">setTimeout</span>(updateAuthUI, <span class="hljs-number">500</span>);

  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nvm use xxx æŠ¥é”™ï¼š exit status 145: The directory is not empty.]]></title>    <link>https://juejin.cn/post/7581413562485784582</link>    <guid>https://juejin.cn/post/7581413562485784582</guid>    <pubDate>2025-12-09T05:28:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581413562485784582" data-draft-id="7581408984415633427" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nvm use xxx æŠ¥é”™ï¼š exit status 145: The directory is not empty."/> <meta itemprop="keywords" content="Node.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T05:28:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="acaiEncode"/> <meta itemprop="url" content="https://juejin.cn/user/3773179639371336"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nvm use xxx æŠ¥é”™ï¼š exit status 145: The directory is not empty.
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3773179639371336/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    acaiEncode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T05:28:10.000Z" title="Tue Dec 09 2025 05:28:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><pre><code class="hljs language-vbscript" lang="vbscript">nvm use <span class="hljs-number">20.19</span><span class="hljs-number">.6</span>
<span class="hljs-keyword">exit</span> status <span class="hljs-number">145</span>: The directory <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">empty</span>.
</code></pre>
<ul>
<li>
<p>æ£€æŸ¥æœ¬åœ°æ˜¯å¦æœ‰æ®‹ç•™çš„nodeç‰ˆæœ¬ï¼Œè‹¥æœ‰éƒ½è¦åˆ é™¤å¹²å‡€ã€‚</p>
</li>
<li>
<p>æ£€æŸ¥nodeæ˜¯å¦å¯ç”¨ï¼ˆå‰æï¼šnodeç³»ç»Ÿç¯å¢ƒå˜é‡è¦æ·»åŠ ï¼Œä¸”è¯¥pathè¦ä¸nvmä¸­nodeå®‰è£…åœ°å€ä¸€è‡´ï¼‰ï¼Œ<code>node -v</code>æŠ¥é”™<code> node -v 'node' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤,ä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº æˆ–æ‰¹å¤„ç†æ–‡ä»¶</code>ã€‚</p>
</li>
<li>
<p>å†æ¬¡æ£€æŸ¥nodeç³»ç»Ÿç¯å¢ƒå˜é‡æ˜¯å¦å·²ç»æ·»åŠ ï¼ˆå·²æ·»åŠ ï¼‰ã€‚</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ab89049bfcf450f8e7d6852e226eb97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWNhaUVuY29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765862889&amp;x-signature=wLyuDKDdcqmBlWpxR7JbAJE%2BID8%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>åœ¨nvmå®‰è£…nodeçš„æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºç©ºæ–‡ä»¶å¤¹<code>nodejs</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72bb4548e34e446cb918bb5a798d41d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWNhaUVuY29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765862889&amp;x-signature=s4miCIq%2FHgVMUxOAsASyu4ibtbg%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><code>nvm use  20.19.6</code> åˆ‡æ¢æˆåŠŸï¼</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/465249d6de564e2dba0826881ea67114~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWNhaUVuY29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765862889&amp;x-signature=JBW9E3ZGtj%2BZ3yxUt2%2BxQjSsksM%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><code>node -v</code> æŸ¥çœ‹nodeç‰ˆæœ¬ä¹ŸOK~</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d2c352f8d014c4badd29cae51da799c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYWNhaUVuY29kZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765862889&amp;x-signature=HzHfZ4vP1WIkT%2Ff2tvP3oNoRPH0%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[swiftUIçŠ¶æ€ç®¡ç†]]></title>    <link>https://juejin.cn/post/7581619505584668723</link>    <guid>https://juejin.cn/post/7581619505584668723</guid>    <pubDate>2025-12-09T03:41:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581619505584668723" data-draft-id="7581412607061098542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="swiftUIçŠ¶æ€ç®¡ç†"/> <meta itemprop="keywords" content="iOS,SwiftUI"/> <meta itemprop="datePublished" content="2025-12-09T03:41:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mike1023"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565321751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            swiftUIçŠ¶æ€ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565321751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mike1023
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T03:41:27.000Z" title="Tue Dec 09 2025 03:41:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">@state</h2>
<p>ç”¨äºå½“å‰è§†å›¾çš„çŠ¶æ€ç®¡ç†ï¼Œ@Stateçš„å±æ€§ç”Ÿå‘½å‘¨æœŸå’Œå½“å‰è§†å›¾ä¿æŒä¸€è‡´</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying: <span class="hljs-type">Bool</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span> {
            <span class="hljs-type">Button</span> {
                isPlaying.toggle()
            } label: {
                <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">"pause.circle"</span> : <span class="hljs-string">"play.circle"</span>)
            }
        }
        .padding()
  
</code></pre>
<h2 data-id="heading-1">@binding</h2>
<p>ä¸»è¦ç”¨äºçˆ¶å­è§†å›¾ä¹‹é—´å…±äº«çŠ¶æ€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a08e8355d3c40ee912a96905dca0daf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWlrZTEwMjM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765856487&amp;x-signature=6CXq3WME674sOWOm6lmmFFAJGWc%3D" alt="binding.jpg" loading="lazy"/></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å­è§†å›¾</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PlayButton</span>: <span class="hljs-title class_">View</span> {
    
    <span class="hljs-meta">@Binding</span> <span class="hljs-keyword">var</span> isPlaying: <span class="hljs-type">Bool</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">Button</span>(action: {
            <span class="hljs-keyword">self</span>.isPlaying.toggle()
        }) {
            <span class="hljs-type">Image</span>(systemName: isPlaying <span class="hljs-operator">?</span> <span class="hljs-string">"pause.circle"</span> : <span class="hljs-string">"play.circle"</span>)
        }
    }
}

<span class="hljs-comment">// çˆ¶è§†å›¾</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isPlaying: <span class="hljs-type">Bool</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span> {
            <span class="hljs-type">Text</span>(<span class="hljs-string">"11111"</span>)
            <span class="hljs-type">Text</span>(<span class="hljs-string">"22222"</span>)
            <span class="hljs-type">PlayButton</span>(isPlaying: <span class="hljs-variable">$isPlaying</span>)
        }
        .padding()
    }
}
</code></pre>
<h2 data-id="heading-2">@stateObject å’Œ @observedObject</h2>
<p>å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>ä¸»è§†å›¾</p>
<p>ç‚¹å‡»buttonä¼šæ›´æ”¹è§†å›¾çš„<code>showRealName</code>çš„çŠ¶æ€ï¼Œå¯¼è‡´è§†å›¾åˆ·æ–°</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> showRealName <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span> {
            <span class="hljs-type">Button</span>(<span class="hljs-string">"Toggle name"</span>) {
                showRealName.toggle()
            }
            <span class="hljs-type">Text</span>(<span class="hljs-string">"current user: <span class="hljs-subst">\(showRealName <span class="hljs-operator">?</span> <span class="hljs-string">"Harris"</span> : <span class="hljs-string">"yiyi"</span>)</span>"</span>)
            <span class="hljs-type">ScorePlate</span>().padding(.top, <span class="hljs-number">20</span>)
        }
        .padding()
    }
}
</code></pre>
<p>ScorePlate</p>
<p>ç‚¹å‡»buttonæ”¹å˜modelçš„scoreå±æ€§å€¼</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Model</span>: <span class="hljs-title class_">ObservableObject</span> {
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"model created"</span>)
    }
    <span class="hljs-meta">@Published</span> <span class="hljs-keyword">var</span> score: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
}
</code></pre>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ScorePlate</span>: <span class="hljs-title class_">View</span> {
    
    <span class="hljs-meta">@ObservedObject</span> <span class="hljs-keyword">var</span> model <span class="hljs-operator">=</span> <span class="hljs-type">Model</span>()
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> niceScore <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span> {
            <span class="hljs-type">Button</span>(<span class="hljs-string">"+1"</span>) {
                model.score <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>
                <span class="hljs-keyword">if</span> model.score <span class="hljs-operator">&gt;</span> <span class="hljs-number">3</span> {
                    niceScore <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
                }
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"model.score = <span class="hljs-subst">\(model.score)</span>"</span>)
            }
            <span class="hljs-type">Text</span>(<span class="hljs-string">"score: <span class="hljs-subst">\(model.score)</span>"</span>)
            <span class="hljs-type">Text</span>(<span class="hljs-string">"Nice? <span class="hljs-subst">\(niceScore <span class="hljs-operator">?</span> <span class="hljs-string">"YES"</span> : <span class="hljs-string">"NO"</span>)</span>"</span>)
            <span class="hljs-type">ScoreText</span>(model: model).padding(.top, <span class="hljs-number">20</span>)
        }
    }
}
</code></pre>
<p>ScoreText: æ¥æ”¶ä»å¤–éƒ¨ä¼ å…¥çš„modelï¼Œæ ¹æ®modelä¸­scoreçš„å€¼æ›´æ–°æ–‡æœ¬</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ScoreText</span>: <span class="hljs-title class_">View</span> {
    
    <span class="hljs-meta">@ObservedObject</span> <span class="hljs-keyword">var</span> model: <span class="hljs-type">Model</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-keyword">if</span> model.score <span class="hljs-operator">&gt;</span> <span class="hljs-number">10</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-type">Text</span>(<span class="hljs-string">"fantastic"</span>)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> model.score <span class="hljs-operator">&gt;</span> <span class="hljs-number">3</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-type">Text</span>(<span class="hljs-string">"Good"</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-type">Text</span>(<span class="hljs-string">"mmmmm"</span>)
        }
    }
}
</code></pre>
<p>å½“å¤šæ¬¡ç‚¹å‡»+1 buttonæ—¶ï¼Œscoreå¢åŠ ï¼ŒScorePlateå’ŒScoreTextéƒ½æ­£å¸¸æ›´æ–°ï¼Œä½†æ˜¯å½“ç‚¹å‡» <code>Togglename</code> æ—¶ï¼Œå‘ç°modelçš„ init æ–¹æ³•å†æ¬¡æ‰§è¡Œï¼Œæ„å‘³ç€modelè¢«é‡ç½®äº†ï¼Œscoreçš„å€¼ä¹Ÿè¢«é‡ç½®äº†ï¼ŒScorePlateå’ŒScoreTextçš„çŠ¶æ€éƒ½ä¸¢å¤±äº†ï¼Œè¿™ä¸æ˜¯æœŸæœ›çš„ç»“æœã€‚</p>
<blockquote>
<p>åŸå› ï¼šè¿™æ˜¯å› ä¸ºï¼Œå’Œ@state è¿™ç§åº•å±‚å­˜å‚¨è¢« SwiftUlâ€œå…¨é¢æ¥ç®¡â€çš„çŠ¶æ€ä¸åŒï¼Œ@observedobjectåªæ˜¯åœ¨Viewå’ŒModelä¹‹é—´æ·»åŠ è®¢é˜…å…³ç³»ï¼Œè€Œä¸å½±å“å­˜å‚¨ã€‚å› æ­¤ï¼Œå½“ContentViewä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒContentView.body è¢«é‡æ–°æ±‚å€¼æ—¶ï¼ŒScorePlateå°±ä¼šè¢«é‡æ–°ç”Ÿæˆï¼Œå…¶ä¸­çš„ modelä¹Ÿä¸€åŒé‡æ–°ç”Ÿæˆï¼Œå¯¼è‡´äº†çŠ¶æ€çš„â€œä¸¢å¤±â€ã€‚</p>
</blockquote>
<p>è§£å†³åŠæ³•ï¼šåœ¨ScorePlateä¸­ï¼ŒæŠŠmodelçš„ä¿®é¥°ç¬¦æ”¹ä¸ºï¼š<code>@stateobject</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7620960eac174648a145c36e267ae682~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWlrZTEwMjM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765856487&amp;x-signature=88dtdflfG%2B1L71AtTXC7JRbMgUE%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨Promiseå®ç°ä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå«å‡ºé”™é‡è¯•åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7581470169840631846</link>    <guid>https://juejin.cn/post/7581470169840631846</guid>    <pubDate>2025-12-09T04:47:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581470169840631846" data-draft-id="7581350888790376484" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨Promiseå®ç°ä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå«å‡ºé”™é‡è¯•åŠŸèƒ½"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-12-09T04:47:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘ä¹Ÿæƒ³å¥½å¥½å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/1317650407368906"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨Promiseå®ç°ä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œå«å‡ºé”™é‡è¯•åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1317650407368906/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘ä¹Ÿæƒ³å¥½å¥½å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T04:47:32.000Z" title="Tue Dec 09 2025 04:47:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®ç°è¦æ±‚</h2>
<p>ä¼ å…¥ä¸€ä¸ªåŒ…å«å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„tasksæ•°ç»„ä¸é‡è¯•æ¬¡æ•°retries, æŒ‰åºæ‰§è¡Œtaskså†…çš„å¼‚æ­¥ä»»åŠ¡ï¼Œå½“æ‰€æœ‰çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆä¹‹åï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å…¨éƒ¨æ‰§è¡Œç»“æœçš„ç»“æœæ•°ç»„<br/>
å¯¹äºæ‰§è¡Œå¤±è´¥çš„taskï¼Œå…è®¸é‡è¯•retriesæ¬¡ï¼Œå¦‚æœå‡å¤±è´¥äº†ï¼Œå°±å°†å¤±è´¥åŸå› å­˜å…¥ç»“æœæ•°ç»„ä¹‹ä¸­ï¼Œæ¥ç€ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªtask</p>
<h2 data-id="heading-1">å®ç°æ€è·¯</h2>
<p>å¦‚ä½•ä½¿ç”¨promiseå®ç°ä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„æ•ˆæœï¼Ÿé‡ç‚¹éœ€è¦æ€è€ƒçš„ç‚¹åº”è¯¥æ˜¯<strong>å¦‚ä½•åœ¨å½“å‰çš„taskå®Œæˆä¹‹åå†æ‰§è¡Œä¸‹ä¸€ä¸ªtaskï¼Ÿ</strong><br/>
æ²¡é”™ï¼Œå°±æ˜¯<strong>ä½¿ç”¨promiseçš„<code>.then()</code>è¿›è¡Œå åŠ </strong>ï¼Œé€šè¿‡ä¸ºå½“å‰taskçš„promiseä½¿ç”¨<code>.then</code>æ·»åŠ taskå®Œæˆçš„å›è°ƒï¼Œåœ¨<code>.then</code>ä¹‹ä¸­æ‰§è¡Œä¸‹ä¸€ä¸ªtaskï¼Œè¿™æ ·å°±å®ç°äº†å®Œæˆå½“å‰taskå†æ‰§è¡Œä¸‹ä¸€ä¸ªtaskçš„æ•ˆæœã€‚<br/>
é‚£ä¹ˆåˆå¦‚ä½•å®ç°ç´¯è®¡æ·»åŠ <code>.then</code>ï¼Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„çš„<code>reduce</code>æ–¹æ³•ï¼Œå®ç°ä¸æ–­çš„ç´¯åŠ çš„æ•ˆæœã€‚ä½¿ç”¨<code>tasks.reduce((p,task) =&gt; {...},Promise.resolve())</code>,å…¶ä¸­pæ˜¯ä¸æ–­ç´¯è®¡æ·»åŠ <code>.then</code>çš„promiseï¼Œtaskæ˜¯å½“å‰å¼‚æ­¥ä»»åŠ¡</p>
<h2 data-id="heading-2">å¼‚æ­¥æ‰§è¡Œå®ç°(ä¸å¸¦é‡è¯•åŠŸèƒ½)</h2>
<p>å…ˆæ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨promise+reduceå®ç°ä¸²è¡Œè°ƒç”¨å¼‚æ­¥ä»»åŠ¡</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">serialExcute</span>(<span class="hljs-params">tasks</span>) {
  <span class="hljs-keyword">const</span> values = []	<span class="hljs-comment">// ç»“æœæ•°ç»„</span>
  <span class="hljs-comment">// è¿”å›çš„pæ˜¯å·²ç»å¤„ç†å®Œæ‰€æœ‰taskä¸²è¡Œæ“ä½œçš„promise</span>
  <span class="hljs-keyword">let</span> p = tasks.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">p,task</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> p.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
        <span class="hljs-title function_">task</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
          values.<span class="hljs-title function_">push</span>(value)	<span class="hljs-comment">// å°†ç»“æœå­˜å‚¨</span>
          <span class="hljs-title function_">resolve</span>()	<span class="hljs-comment">// æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</span>
        }).<span class="hljs-title function_">catch</span>(<span class="hljs-params">err</span>) {
          <span class="hljs-comment">// å‡ºé”™æ—¶ï¼Œè®°å½•é”™è¯¯ï¼Œæ‰§è¡Œä¸‹ä¸€task</span>
          value.<span class="hljs-title function_">push</span>(err)
          <span class="hljs-title function_">resolve</span>()
        }
      })
    })
  },<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>())
  <span class="hljs-comment">// å½“tasksä¸­æ‰€æœ‰taskæ‰§è¡Œå®Œæˆä¹‹åï¼Œè¿”å›valuesæ•°ç»„</span>
  <span class="hljs-keyword">return</span> p.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reslove</span>(values)
  })
}
</code></pre>
<h2 data-id="heading-3">é‡è¯•åŠŸèƒ½å®ç°</h2>
<p>é¢å¤–æ·»åŠ ä¸€ä¸ªæ–¹æ³•<code>excuteTaskWithRetry(task,retryTime)</code>ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡taskä»¥åŠé‡è¯•æ¬¡æ•°ä½œä¸ºå‚æ•°ï¼Œå®ç°å•ä¸ªå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œå¹¶å¸¦æœ‰å¤±è´¥é‡è¯•çš„åŠŸèƒ½ï¼Œè¿”å›ä¸€ä¸ªè¿”å›ä¸€ä¸ªå·²å®Œæˆ/å¤±è´¥çš„promiseï¼Œä½œä¸ºtaskæ‰§è¡Œçš„ç»“æœ<br/>
<strong>é‡è¯•å¦‚ä½•å®ç°ï¼Ÿ</strong> ä½¿ç”¨é€’å½’çš„æ€æƒ³ï¼Œå½“taskæ‰§è¡Œå¤±è´¥æ—¶ï¼Œä¼šè¢«<code>.catch</code>æ•è·ï¼Œåœ¨<code>.catch</code>ä¹‹ä¸­åˆ¤æ–­å½“å‰é‡è¯•æ¬¡æ•°æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0ï¼Œå°±ç›´æ¥<code>reject(err)</code>ï¼Œåä¹‹åˆ™é€’å½’åˆ°ä¸‹ä¸€å±‚æ‰§è¡Œï¼ŒåŒæ—¶é‡è¯•æ¬¡æ•°å‡1 <code>excuteTaskWithRetry(task,retryTime-1)</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">excuteTaskWithRetry</span>(<span class="hljs-params">task, retryTime</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-title function_">task</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
            <span class="hljs-comment">// ä»»åŠ¡å®Œæˆï¼Œè¿”å›ç»“æœ</span>
            <span class="hljs-title function_">resolve</span>(res)
        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
            <span class="hljs-comment">// å¦‚æœæ¬¡æ•°è¶³å¤Ÿï¼Œå°±é‡è¯•</span>
            <span class="hljs-keyword">if</span> (retryTime &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä»»åŠ¡æ‰§è¡Œå‡ºé”™,å‰©ä½™é‡è¯•æ¬¡æ•°<span class="hljs-subst">${retryTime}</span>`</span>)
                <span class="hljs-title function_">excuteTaskWithRetry</span>(task, retryTime - <span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
                    <span class="hljs-comment">// å¦‚æœé‡è¯•æˆåŠŸäº†</span>
                    <span class="hljs-title function_">resolve</span>(res)
                }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
                    <span class="hljs-comment">// å¦‚æœé‡è¯•å¤±è´¥</span>
                    <span class="hljs-title function_">reject</span>(err)
                })
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// é‡è¯•æ¬¡æ•°ç”¨å®Œ</span>
                <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`æ‰§è¡Œå‡ºé”™,é‡è¯•æ¬¡æ•°ç”¨å°½,error:<span class="hljs-subst">${err}</span>`</span>))
            }
        })
    })
}
</code></pre>
<p>æ•´åˆåˆ°å…ˆå‰ä¸å¸¦é‡è¯•åŠŸèƒ½çš„ä¸²è¡Œæ‰§è¡Œæ–¹æ³•ä¹‹ä¸­</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">serialExcute</span>(<span class="hljs-params">tasks, retries</span>) {
    <span class="hljs-keyword">const</span> values = []
    <span class="hljs-keyword">let</span> p = tasks.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">p, task</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> p.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// æ›´æ¢æˆå¯é‡è¯•çš„æ–¹æ³•</span>
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">excuteTaskWithRetry</span>(task, retries).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
                values.<span class="hljs-title function_">push</span>(res)
            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
                values.<span class="hljs-title function_">push</span>(err)
            })
        })
    }, <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>())
    <span class="hljs-comment">// æŒ‰åºè¿”å›å…¨éƒ¨æ•°æ®</span>
    <span class="hljs-keyword">return</span> p.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(value)
    })
}
</code></pre>
<h2 data-id="heading-4">å®Œæ•´ä»£ç  + è°ƒè¯•æ•°æ®</h2>
<p>ä¸‹é¢é™„ä¸Šå®Œæ•´çš„ä»£ç åŠè°ƒè¯•çš„æ•°æ®</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ‰§è¡Œå•ä¸ªä»»åŠ¡ï¼ŒåŒ…å«é‡è¯•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">excuteTaskWithRetry</span>(<span class="hljs-params">task, retryTime</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-title function_">task</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
            <span class="hljs-comment">// ä»»åŠ¡å®Œæˆï¼Œè¿”å›ç»“æœ</span>
            <span class="hljs-title function_">resolve</span>(res)
        }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
            <span class="hljs-comment">// å¦‚æœæ¬¡æ•°è¶³å¤Ÿï¼Œå°±é‡è¯•</span>
            <span class="hljs-keyword">if</span> (retryTime &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä»»åŠ¡æ‰§è¡Œå‡ºé”™,å‰©ä½™é‡è¯•æ¬¡æ•°<span class="hljs-subst">${retryTime}</span>`</span>)
                <span class="hljs-title function_">excuteTaskWithRetry</span>(task, retryTime - <span class="hljs-number">1</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
                    <span class="hljs-comment">// å¦‚æœé‡è¯•æˆåŠŸäº†</span>
                    <span class="hljs-title function_">resolve</span>(res)
                }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
                    <span class="hljs-comment">// å¦‚æœé‡è¯•å¤±è´¥</span>
                    <span class="hljs-title function_">reject</span>(err)
                })
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// é‡è¯•æ¬¡æ•°ç”¨å®Œ</span>
                <span class="hljs-title function_">reject</span>(err)
            }
        })
    })
}
<span class="hljs-comment">// ä¸²è¡Œæ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">runTask</span>(<span class="hljs-params">tasks, retries</span>) {
    <span class="hljs-keyword">const</span> value = []
    <span class="hljs-keyword">let</span> p = tasks.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">p, task</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> p.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// æ›´æ¢æˆå¯é‡è¯•çš„æ–¹æ³•</span>
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">excuteTaskWithRetry</span>(task, retries).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
                value.<span class="hljs-title function_">push</span>(res)
            }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
                value.<span class="hljs-title function_">push</span>(err)
            })
        })
    }, <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>())
    <span class="hljs-comment">// æŒ‰åºè¿”å›å…¨éƒ¨æ•°æ®</span>
    <span class="hljs-keyword">return</span> p.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(value)
    })
}
<span class="hljs-comment">// ç”Ÿæˆå¼‚æ­¥ä»»åŠ¡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createMockTask</span>(<span class="hljs-params">taskName, successProbability = <span class="hljs-number">0.7</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &lt; successProbability) {
                <span class="hljs-keyword">const</span> result = <span class="hljs-string">`<span class="hljs-subst">${taskName}</span> æ‰§è¡ŒæˆåŠŸ`</span>;
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result);
                <span class="hljs-title function_">resolve</span>(result);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`<span class="hljs-subst">${taskName}</span> æ‰§è¡Œå¤±è´¥`</span>));
            }
        }, <span class="hljs-number">500</span>); <span class="hljs-comment">// æ¯ä¸ªä»»åŠ¡æ¨¡æ‹Ÿ 500ms æ‰§è¡Œæ—¶é—´</span>
    });
}
<span class="hljs-keyword">const</span> tasks = [<span class="hljs-title function_">createMockTask</span>(<span class="hljs-string">'task1'</span>), <span class="hljs-title function_">createMockTask</span>(<span class="hljs-string">'task2'</span>, <span class="hljs-number">0.4</span>), <span class="hljs-title function_">createMockTask</span>(<span class="hljs-string">'task3'</span>)]
<span class="hljs-title function_">runTask</span>(tasks,<span class="hljs-number">3</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value)
})
</code></pre>
<p>å®Œç»“æ’’èŠ±ğŸŒ¸~æœ‰ç–‘é—®æˆ–è€…æœ‰ä»€ä¹ˆé—®é¢˜çš„æ¬¢è¿åœ¨è¯„è®ºåŒºæå‡ºï¼<br/>
å‚è€ƒæ–‡æ¡£: <a href="https://juejin.cn/post/6844904077537574919%5B" target="_blank" title="https://juejin.cn/post/6844904077537574919%5B">45é“promiseé¢è¯•é¢˜</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fq%2F1010000010748967" target="_blank" title="https://segmentfault.com/q/1010000010748967" ref="nofollow noopener noreferrer">å¦‚ä½•è®©å¼‚æ­¥æ“ä½œé¡ºåºæ‰§è¡Œ</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Nativeå°æŠ€å·§]]></title>    <link>https://juejin.cn/post/7581324707481600041</link>    <guid>https://juejin.cn/post/7581324707481600041</guid>    <pubDate>2025-12-09T05:21:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581324707481600041" data-draft-id="7581381365494333494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Nativeå°æŠ€å·§"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T05:21:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§ƒäº†æ‰èƒ½å˜å¾—æ›´å¼º"/> <meta itemprop="url" content="https://juejin.cn/user/676954895033799"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Nativeå°æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/676954895033799/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§ƒäº†æ‰èƒ½å˜å¾—æ›´å¼º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T05:21:35.000Z" title="Tue Dec 09 2025 05:21:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1ã€è¾“å…¥æ¡† + clearæŒ‰é’® ä¸å…³é—­é”®ç›˜</h3>
<p><code>RNçš„é»˜è®¤è¡Œä¸º</code>ï¼š scrollview + textinput + è‡ªå®šä¹‰çš„æ¸…é™¤æŒ‰é’®ï¼Œè¾“å…¥æ¡†è·ç„¦çš„æ—¶å€™ å¼¹èµ·é”®ç›˜ï¼Œæ­¤æ—¶ç‚¹å‡»æ¸…ç©ºæŒ‰é’®çš„æ—¶å€™<code>ä¼šå…ˆå…³é—­å¼¹æ¡†ï¼Œéœ€è¦å†æ¬¡ç‚¹å‡»æ¸…é™¤æŒ‰é’®æ‰ä¼šæ¸…ç©ºè¾“å…¥æ¡†</code>ã€‚</p>
<p>è§‚å¯ŸåŸç”Ÿappçš„è¾“å…¥æ¡†å¯ä»¥ <code>ç‚¹å‡»æ¸…ç©ºæŒ‰é’®çš„æ—¶å€™ è¾“å…¥æ¡†è¿˜æ˜¯è·ç„¦çŠ¶æ€ è€Œä¸”é”®ç›˜æ²¡æœ‰å…³é—­</code>ï¼Œç„¶åæ‘¸ç´¢å®ç°æ–¹å¼ã€‚</p>
<p>æ–¹å¼ä¸€ï¼šå¤±ç„¦å†è·ç„¦ï¼Œè¿™æ ·ä¼šè®©é”®ç›˜æœ‰å…³é—­åŠ¨ä½œå†å‡èµ·æ¥ï¼Œæ•ˆæœè™½ç„¶è¾¾åˆ°äº†ï¼Œä½†æ˜¯è¿˜å·®ä¸€äº›æ„æ€ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchInput</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [text, setText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> inputRef = useRef&lt;<span class="hljs-title class_">TextInput</span>&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClear</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setText</span>(<span class="hljs-string">''</span>);
    <span class="hljs-comment">// ç«‹å³é‡æ–°èšç„¦</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      inputRef.<span class="hljs-property">current</span>?.<span class="hljs-title function_">focus</span>();
    });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.input}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{text}</span> <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{setText}</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥å†…å®¹..."</span> /&gt;</span>
      {text.length &gt; 0 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.closeButton}</span>
          <span class="hljs-attr">onPress</span>=<span class="hljs-string">{handleClear}</span>
          <span class="hljs-attr">activeOpacity</span>=<span class="hljs-string">{0.7}</span>
          <span class="hljs-attr">hitSlop</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">top:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">left:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">right:</span> <span class="hljs-attr">10</span> }}
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.closeText}</span>&gt;</span>Ã—<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ–¹å¼äºŒï¼šä½¿ç”¨<code>react-native-gesture-handler</code>è‡ªå¸¦çš„<code>Pressable</code>ç»„ä»¶ï¼Œå®ƒè¿è¡Œåœ¨åŸç”Ÿçº¿ç¨‹ä¸Šï¼Œä¸ä¼šè§¦å‘ JS çº¿ç¨‹çš„å¤±ç„¦äº‹ä»¶ï¼Œå®Œç¾çš„è¾¾åˆ°æˆ‘éœ€è¦çš„æ•ˆæœã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">View</span>, <span class="hljs-title class_">TextInput</span>, <span class="hljs-title class_">Text</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-comment">// ä¸»è¦æ˜¯è¿™é‡Œçš„ Pressableç»„ä»¶ï¼</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Pressable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchInput</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [text, setText] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> inputRef = useRef&lt;<span class="hljs-title class_">TextInput</span>&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClear</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setText</span>(<span class="hljs-string">''</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.input}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{text}</span> <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{setText}</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥å†…å®¹..."</span> /&gt;</span>
      {text.length &gt; 0 &amp;&amp; (
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.closeButton}</span>
          <span class="hljs-attr">onPress</span>=<span class="hljs-string">{handleClear}</span>
          <span class="hljs-attr">hitSlop</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">top:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">left:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">right:</span> <span class="hljs-attr">10</span> }}
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.closeText}</span>&gt;</span>Ã—<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-variable constant_">COLORS</span>.<span class="hljs-property">white</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">9</span>),
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-variable constant_">SPACING</span>.<span class="hljs-property">md</span>),
    <span class="hljs-attr">height</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">38</span>),
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-variable constant_">COLORS</span>.<span class="hljs-property">gray4</span>,
  },
  <span class="hljs-attr">input</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">14</span>),
    <span class="hljs-attr">color</span>: <span class="hljs-variable constant_">COLORS</span>.<span class="hljs-property">textPrimary</span>,
    <span class="hljs-attr">paddingVertical</span>: <span class="hljs-number">0</span>,
  },
  <span class="hljs-attr">closeButton</span>: {
    <span class="hljs-attr">width</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">24</span>),
    <span class="hljs-attr">height</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">24</span>),
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">12</span>),
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-variable constant_">COLORS</span>.<span class="hljs-property">gray1</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">marginLeft</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">4</span>),
  },
  <span class="hljs-attr">closeText</span>: {
    <span class="hljs-attr">fontSize</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">16</span>),
    <span class="hljs-attr">color</span>: <span class="hljs-variable constant_">COLORS</span>.<span class="hljs-property">textSecondary</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">lineHeight</span>: <span class="hljs-title function_">scaleLinear</span>(<span class="hljs-number">22</span>),
  },
});

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Prompt ä¼˜åŒ–æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7581619505584930867</link>    <guid>https://juejin.cn/post/7581619505584930867</guid>    <pubDate>2025-12-09T04:08:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581619505584930867" data-draft-id="7581412607061442606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Prompt ä¼˜åŒ–æ•™ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T04:08:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸‰ç§¦èµµå“¥"/> <meta itemprop="url" content="https://juejin.cn/user/4283353031519453"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Prompt ä¼˜åŒ–æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353031519453/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸‰ç§¦èµµå“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T04:08:22.000Z" title="Tue Dec 09 2025 04:08:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“˜ Promptä¼˜åŒ–æ•™ç¨‹</h2>
<h4 data-id="heading-1">1. Prompt ä¼˜åŒ–åŸºç¡€æ•™ç¨‹</h4>
<h6 data-id="heading-2">æ ¸å¿ƒåŸåˆ™ï¼ˆ4 æ¡ï¼‰</h6>
<ol>
<li>
<p><strong>æ˜ç¡®ï¼ˆClearï¼‰</strong></p>
<ul>
<li>
<p>é¿å…æ¨¡ç³Šæè¿°</p>
</li>
<li>
<p>ç»™æ¸…æ™°è¾“å…¥ã€è¾“å‡ºå®šä¹‰</p>
<p>âŒ å·®ï¼š â€œå¸®æˆ‘å†™ä¸ªè„šæœ¬â€<br/>
âœ”ï¸ å¥½ï¼š â€œå¸®æˆ‘å†™ä¸€ä¸ª Node.js è„šæœ¬ï¼šåŠŸèƒ½æ˜¯ä» MySQL è¯»å–ç”¨æˆ·æ•°æ®å¹¶å¯¼å‡ºåˆ° CSVã€‚ä¸è¦ä½¿ç”¨ TypeScriptã€‚â€</p>
</li>
</ul>
</li>
<li>
<p><strong>ç»“æ„åŒ–ï¼ˆStructuredï¼‰</strong><br/>
åˆ†æ®µå†™ &gt; ä¸€æ•´æ®µéšä¾¿è®²</p>
</li>
</ol>
<p>è®©æ¨¡å‹æ›´ç¨³å®šã€‚</p>
<pre><code class="hljs">ä»»åŠ¡ï¼š
æ­¥éª¤ï¼š
æ ¼å¼ï¼š
é™åˆ¶ï¼š
ç¤ºä¾‹ï¼š
</code></pre>
<ol start="3">
<li>
<p><strong>è§’è‰²ï¼ˆRole Assignmentï¼‰</strong><br/>
æ¨¡å‹ä»¥æŸç§è§’è‰²æ€è€ƒï¼Œä¼šæå¤§æå‡æ•ˆæœã€‚</p>
<pre><code class="hljs">ä½ æ˜¯ä¸€å Senior AI Engineerâ€¦
</code></pre>
</li>
<li>
<p><strong>å¤šè½®è¿­ä»£ï¼ˆIterative Promptingï¼‰</strong><br/>
Prompt æœ¬èº«å°±æ˜¯ä¸€ä¸ªâ€œåå¤è¿­ä»£â€çš„è¿‡ç¨‹ã€‚</p>
<pre><code class="hljs">ä¸‹é¢æˆ‘ç»™ä½ åˆç¨¿ï¼Œè¯·å¸®æˆ‘æŒ‡å‡ºç¼ºé™·ï¼Œä¸è¦ç›´æ¥æ”¹ã€‚
</code></pre>
</li>
</ol>
<hr/>
<h4 data-id="heading-3">2. Prompt ä¸‡èƒ½æ¨¡æ¿</h4>
<pre><code class="hljs language-markdown" lang="markdown">ä½ ç°åœ¨æ˜¯ {è§’è‰²}ã€‚
æˆ‘éœ€è¦ä½ å®Œæˆ {ä»»åŠ¡}ã€‚

è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š
<span class="hljs-bullet">1.</span> ç»“è®º
<span class="hljs-bullet">2.</span> åˆ†æè¿‡ç¨‹
<span class="hljs-bullet">3.</span> å¯é€‰å»ºè®®
<span class="hljs-bullet">4.</span> ç¤ºä¾‹ï¼ˆå¦‚é€‚ç”¨ï¼‰

å¿…é¡»éµå®ˆä»¥ä¸‹é™åˆ¶ï¼š
<span class="hljs-bullet">-</span> {é™åˆ¶ A}
<span class="hljs-bullet">-</span> {é™åˆ¶ B}

åœ¨å›ç­”å‰ï¼Œè¯·å…ˆé—®æˆ‘ 3 ä¸ªå…³é”®é—®é¢˜æ¥å˜æ¸…éœ€æ±‚ã€‚
</code></pre>
<p>è¿™ä¸ªæ¨¡æ¿é€‚ç”¨äºï¼š</p>
<p>âœ” å†™ä»£ç </p>
<p>âœ” ç¿»è¯‘/æ¶¦è‰²</p>
<p>âœ” ç”ŸæˆçŸ¥è¯†å†…å®¹</p>
<p>âœ” å¤æ‚æ¨ç†</p>
<p>âœ” å•†ä¸šè®¡åˆ’</p>
<p>âœ” ä¸“ä¸šé¢†åŸŸè®¨è®º</p>
<hr/>
<h4 data-id="heading-4">3. Prompt ä¼˜åŒ–æŠ€å·§ï¼ˆå®æˆ˜ï¼‰</h4>
<h6 data-id="heading-5">æŠ€å·§ 1ï¼šæä¾›ç¤ºä¾‹ï¼ˆFew-shotï¼‰</h6>
<p>æ¨¡å‹æœ€æ“…é•¿â€œæ¨¡ä»¿â€ã€‚</p>
<pre><code class="hljs">ç¤ºä¾‹è¾“å…¥ï¼š
xxx
ç¤ºä¾‹è¾“å‡ºï¼š
yyy
ç°åœ¨æ ¹æ®æˆ‘çš„æ–‡æœ¬ï¼š
{ä½ çš„æ–‡æœ¬}
</code></pre>
<h6 data-id="heading-6">æŠ€å·§ 2ï¼šæŒ‡å®šè¾“å‡ºæ ¼å¼</h6>
<pre><code class="hljs language-json" lang="json">è¾“å‡ºæ ¼å¼ï¼š
<span class="hljs-punctuation">{</span>
Â  <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-attr">"summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-attr">"steps"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
Â  <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h6 data-id="heading-7">æŠ€å·§ 3ï¼šå…ˆæ€è€ƒå†å›ç­”</h6>
<pre><code class="hljs">è¯·å…ˆåˆ—å‡ºä½ å¯¹ä»»åŠ¡çš„ç†è§£ä¸è§£å†³æ­¥éª¤ï¼Œä¸è¦ç›´æ¥å›ç­”é—®é¢˜ã€‚
æˆ‘ç¡®è®¤åä½ å†æ‰§è¡Œã€‚
</code></pre>
<h6 data-id="heading-8">æŠ€å·§ 4ï¼šè¯·æ¨¡å‹è¯„ä¼° Prompt</h6>
<pre><code class="hljs">è¯·ä» Prompt å·¥ç¨‹çš„è§’åº¦åˆ†ææˆ‘è¿™ä¸ª Prompt çš„ç¼ºé™·ã€‚
ç„¶åæä¾›ä¸€ä¸ªæ”¹è¿›ç‰ˆæœ¬ã€‚
</code></pre>
<h6 data-id="heading-9">æŠ€å·§ 5ï¼šé™åˆ¶æ¨¡å‹è‡ªç”±åº¦ï¼ˆå‡å°‘å¹»è§‰ï¼‰</h6>
<pre><code class="hljs">ä¸è¦è¿›è¡Œæ¨æµ‹ã€‚
ä¸è¦ç¼–é€ ä¸å­˜åœ¨çš„ä¿¡æ¯ã€‚
å¦‚æœä½ æ— æ³•ç¡®å®šï¼Œè¯·å›ç­”ï¼šâ€œä¿¡æ¯ä¸è¶³â€ã€‚
</code></pre>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²ä¸é¢„çƒ­å…¨æ”»ç•¥ï¼šè®©é¦–æ¬¡å“åº”é€Ÿåº¦æå‡ 5 å€]]></title>    <link>https://juejin.cn/post/7581412607061803054</link>    <guid>https://juejin.cn/post/7581412607061803054</guid>    <pubDate>2025-12-09T04:51:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581412607061803054" data-draft-id="7581470169840615462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²ä¸é¢„çƒ­å…¨æ”»ç•¥ï¼šè®©é¦–æ¬¡å“åº”é€Ÿåº¦æå‡ 5 å€"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-09T04:51:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lomocode"/> <meta itemprop="url" content="https://juejin.cn/user/2103792315926697"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²ä¸é¢„çƒ­å…¨æ”»ç•¥ï¼šè®©é¦–æ¬¡å“åº”é€Ÿåº¦æå‡ 5 å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2103792315926697/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lomocode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T04:51:08.000Z" title="Tue Dec 09 2025 04:51:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1345198baac044c5ad125b3d6e789277~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG9tb2NvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765860667&amp;x-signature=ZwISx6jlICtAum5FKF9ecD5Gtrs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">æ•…äº‹çš„å¼€å§‹ï¼šæ”¶åˆ°å’¨è¯¢â€œé¢„çƒ­æ€ä¹ˆæï¼Ÿâ€</h2>
<p>å‰ä¸ä¹…æ”¶åˆ°å’¨è¯¢ï¼šâ€œæœ¬åœ° vLLM éƒ¨ç½²çš„æ¨¡å‹ï¼Œé¢„çƒ­æ€ä¹ˆåšï¼Ÿé¦–ä¸ª token æ€»æ˜¯æ…¢ï¼Œæœ‰æ²¡æœ‰å®æˆ˜ç»†èŠ‚ï¼Ÿâ€</p>
<p>æˆ‘å¿ƒæƒ³ï¼š"vLLM ä¸æ˜¯å·²ç»å¤Ÿå¿«äº†å—ï¼Ÿ" ç»“æœä¸€æŸ¥æ—¥å¿—ï¼Œé¦–è½®è¯·æ±‚è¿˜æ˜¯è§¦å‘äº†æ¨¡å‹åŠ è½½ã€CUDA å†…æ ¸ JITã€KV Cache ç”³è¯·ï¼ŒGPU è¿˜åœ¨æ‰ç”µå¾…æœºçŠ¶æ€...éš¾æ€ªè¦ç­‰ã€‚</p>
<p>äºæ˜¯æˆ‘ä¸“é—¨è®°å½•äº†ä¼˜åŒ–å…¨è¿‡ç¨‹å¹¶â€œè‚â€äº†æœ¬æ–‡ï¼Œåˆ†äº«ï¼š<strong>å¦‚ä½•åœ¨æœ¬åœ° GPU ä¸Šç”¨ vLLM éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå¹¶æŠŠé¢„çƒ­åšåˆ°æè‡´ï¼Œè®©ç”¨æˆ·ä¸€ä¸Šçº¿å°±æ„Ÿå—åˆ°â€œç§’å›â€çš„ä¸æ»‘ã€‚</strong></p>
<hr/>
<h2 data-id="heading-1">é¦–å…ˆï¼ŒvLLM æ˜¯ä¸ªå•¥ï¼Ÿå®ƒé€‚åˆè·‘å“ªäº›å¼€æºæ¨¡å‹ï¼Ÿ</h2>
<p><strong>æ•²é»‘æ¿ï¼š</strong> vLLM = é«˜æ€§èƒ½æ¨ç†å¼•æ“ï¼Œæ ¸å¿ƒæ˜¯ PagedAttention + è¿ç»­æ‰¹å¤„ç†ï¼ˆcontinuous batchingï¼‰ï¼ŒåŸç”Ÿæ”¯æŒ OpenAI å…¼å®¹æ¥å£ã€‚</p>
<p>åƒè‹¦è€åŠ³çš„æˆ‘è¿›è¡Œäº†ä¸€ç•ªæœç´¢å¹¶æ•´ç†ï¼Œç›®å‰ç¤¾åŒºé‡Œçš„æ¨¡å‹çƒ­åº¦æ’åï¼ˆæŒ‰å…¬å¼€ç‰ˆæœ¬å¸¸ç”¨åº¦æ’åºï¼‰å¦‚ä¸‹ï¼š</p>
<ol>
<li>Qwen2.5 ç³»åˆ—ï¼š7B/14B/32B/72B Instructï¼Œä¸­æ–‡/å¤šè¯­è¡¨ç°å¼ºï¼Œç¤¾åŒºæ´»è·ƒåº¦é«˜</li>
<li>Llama 3.1ï¼š8B/70B Instructï¼Œç”Ÿæ€æ’ä»¶/é‡åŒ–å¤š</li>
<li>Mixtral &amp; Mistralï¼šMistral Nemo 12Bã€Mixtral 8x7Bã€8x22Bï¼ˆMoEï¼‰</li>
<li>Yi 1.5ï¼š9B/34B Instructï¼Œä¸­æ–‡é•¿æ–‡ç¨³å®š</li>
<li>GLM-4 9B / ChatGLM3/4 6B/9Bï¼šå¯¹è¯/å·¥å…·è°ƒç”¨æˆç†Ÿ</li>
<li>Gemma 2ï¼š9B/27Bï¼ˆæŒ‡ä»¤ç‰ˆæ›´å¥½ç”¨ï¼‰</li>
<li>Phi-3.5ï¼šmini/mediumï¼Œæè‡´æ€§ä»·æ¯”</li>
<li>é‡åŒ–å˜ä½“ï¼šAWQã€GPTQã€GGUFï¼ˆæ³¨æ„ flash-attn/rope æ”¯æŒï¼‰</li>
</ol>
<h3 data-id="heading-2">æ¨¡å‹é€‰æ‹©æŒ‡å—ï¼š</h3>





























































<table><thead><tr><th>æ¨¡å‹</th><th>å‚æ•°é‡</th><th>æ˜¾å­˜éœ€æ±‚(fp16)</th><th>ä¸­æ–‡èƒ½åŠ›</th><th>æ¨ç†é€Ÿåº¦</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Qwen2.5-Instruct</strong></td><td>7B/14B/32B/72B</td><td>14/28/64/144 GB</td><td>äº”æ˜Ÿ</td><td>å¿«</td><td>é€šç”¨å¯¹è¯ã€RAG</td></tr><tr><td><strong>Llama 3.1</strong></td><td>8B/70B</td><td>16/140 GB</td><td>ä¸‰æ˜Ÿ</td><td>å¿«</td><td>è‹±æ–‡ä¸ºä¸»</td></tr><tr><td><strong>Yi-1.5</strong></td><td>9B/34B</td><td>18/68 GB</td><td>äº”æ˜Ÿ</td><td>å¿«</td><td>é•¿æ–‡æœ¬(200k)</td></tr><tr><td><strong>GLM-4</strong></td><td>9B</td><td>18 GB</td><td>äº”æ˜Ÿ</td><td>ä¸­</td><td>å·¥å…·è°ƒç”¨</td></tr><tr><td><strong>Mistral-Nemo</strong></td><td>12B</td><td>24 GB</td><td>ä¸‰æ˜Ÿ</td><td>å¿«</td><td>ä»£ç ç”Ÿæˆ</td></tr><tr><td><strong>Mixtral-8x7B</strong></td><td>47B(MoE)</td><td>94 GB</td><td>ä¸‰æ˜Ÿ</td><td>ä¸­</td><td>å¤æ‚æ¨ç†</td></tr></tbody></table>
<p>ä»¥ä¸Šæ’åå’Œæ¨ªè¯„æœªå¿…æ­£ç¡®æ— è¯¯ï¼Œå¦‚æœ‰å‡ºå…¥ï¼Œæ¬¢è¿ç•™è¨€çº æ­£ï¼</p>
<p>æœ¬æ–‡è®°å½•çš„æ˜¯ä½¿ç”¨å•å¡ï¼ˆRTX 3070 16GB æ˜¾å­˜ï¼‰ã€å†…å­˜ 64GB è·‘ <code>Qwen/Qwen2.5-7B-Instruct</code> (fp16) çš„å®æˆ˜è¿‡ç¨‹ï¼Œæ¨¡å‹é€‰æ‹©ä»…ä¾›å‚è€ƒï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©æ¨¡å‹ã€‚</p>
<blockquote>
<p><strong>ä¸ºä½•é€‰å®ƒï¼Ÿ</strong> Qwen2.5-7B-Instruct å…¼é¡¾ä¸­æ–‡/å¤šè¯­ä½“éªŒã€7B ä½“é‡é€‚é… 16GB æ˜¾å­˜å•å¡ï¼Œç¤¾åŒºæ¡ˆä¾‹å¤šã€é‡åŒ–/éƒ¨ç½²èµ„æ–™ä¸°å¯Œï¼Œæ˜“å¤åˆ¶å¤ç°ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ç¯å¢ƒå‡†å¤‡</h2>
<h3 data-id="heading-4">ç¡¬ä»¶ä¸è½¯ä»¶è¦æ±‚</h3>















































<table><thead><tr><th>ç»„ä»¶</th><th>æœ€ä½è¦æ±‚</th><th>æ¨èé…ç½®</th><th>æœ¬æ–‡æµ‹è¯•ç¯å¢ƒ</th></tr></thead><tbody><tr><td>GPU</td><td>8GB VRAM</td><td>16GB+ VRAM</td><td>RTX 3070 16GB</td></tr><tr><td>CUDA</td><td>11.8</td><td>12.1+</td><td>12.1</td></tr><tr><td>Driver</td><td>525.x</td><td>535+</td><td>535.183</td></tr><tr><td>Python</td><td>3.9</td><td>3.10/3.11</td><td>3.10</td></tr><tr><td>PyTorch</td><td>2.1.0</td><td>2.2.0+</td><td>2.2.1+cu121</td></tr><tr><td>RAM</td><td>32GB</td><td>64GB+</td><td>64GB</td></tr></tbody></table>
<h3 data-id="heading-5">åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3>
<pre><code class="hljs language-bash" lang="bash">python -m venv vllm_env
<span class="hljs-built_in">source</span> vllm_env/bin/activate  <span class="hljs-comment"># Linux/Mac</span>
<span class="hljs-comment"># vllm_env\Scripts\activate   # Windows</span>
</code></pre>
<h3 data-id="heading-6">å®‰è£…æ ¸å¿ƒä¾èµ–ï¼ˆè‡ªåŠ¨åŒ¹é… CUDA ç‰ˆæœ¬ï¼‰</h3>
<p>pip install torch==2.2.1 --index-url <a href="https://link.juejin.cn?target=https%3A%2F%2Fdownload.pytorch.org%2Fwhl%2Fcu121" target="_blank" title="https://download.pytorch.org/whl/cu121" ref="nofollow noopener noreferrer">download.pytorch.org/whl/cu121</a>
pip install "vllm&gt;=0.5.0" "transformers&gt;=4.40.0"
pip install "openai&gt;=1.40.0" "huggingface_hub&gt;=0.22.0"
pip install matplotlib pandas  # ç”¨äºæ€§èƒ½åˆ†æ</p>
<h3 data-id="heading-7">å¯é€‰ï¼šFlash Attentionï¼ˆæ˜¾è‘—åŠ é€Ÿï¼‰</h3>
<p>pip install flash-attn --no-build-isolation</p>
<hr/>
<h2 data-id="heading-8">â‘  ä»¥ä¸ºâ€œå¯åŠ¨ = ä¸Šçº¿â€ï¼Œè¢«ã€Œé¦– tokenã€ ä¸Šäº†ä¸€è¯¾</h2>
<p>æˆ‘ä¿¡å¿ƒæ»¡æ»¡åœ°æ•²ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python -m vllm.entrypoints.openai.api_server \
  --model Qwen/Qwen2.5-7B-Instruct \
  --host 0.0.0.0 --port 8000 \
  --gpu-memory-utilization 0.9 \
  --max-model-len 4096
</code></pre>
<p>ï¼ˆæç¤ºï¼šè‹¥æ¨¡å‹éœ€ä» Hugging Face æ‹‰å–ï¼Œå…ˆ <code>huggingface-cli login</code> æˆ–è®¾ç½® <code>HF_TOKEN</code>ï¼›å¦‚ 16GB æ˜¾å­˜ä»åƒç´§ï¼Œå¯æŠŠ <code>--gpu-memory-utilization</code> è°ƒä½è‡³ 0.88 æˆ–æŠŠ <code>--max-model-len</code> ä¸‹è°ƒåˆ° 3072ã€‚ï¼‰</p>
<p>ç«¯å£é€šäº†ï¼Œå¥åº·æ£€æŸ¥ OKï¼Œå‘ç¬¬ä¸€æ¡è¯·æ±‚ï¼š</p>
<pre><code class="hljs">TTFTï¼ˆé¦– token å»¶è¿Ÿï¼‰ï¼š5~6s
</code></pre>
<p>ç¬¬äºŒæ¡è¯·æ±‚ï¼š</p>
<pre><code class="hljs">TTFTï¼šâ‰ˆ1s
</code></pre>
<p>å·®è·ä¸€çœ¼æ˜äº†ï¼š<strong>å†·å¯åŠ¨ä¼¤ä¸èµ·</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-9">â‘¡ ç¿»æ—¥å¿—æ‰çŸ¥é“ï¼Œé¢„çƒ­è¦è§¦å‘çš„ä¸œè¥¿å¤ªå¤šäº†</h2>
<p>å†·å¯åŠ¨çš„éšå½¢æˆæœ¬ï¼š</p>
<ul>
<li>åˆ†è¯å™¨æ‡’åŠ è½½ï¼šç¬¬ä¸€æ¡ä¸­æ–‡/ç¬¦å·æ··åˆ prompt æœ€æ…¢</li>
<li>CUDA kernel JITï¼šflash-attnã€ropeã€rmsnorm ç­‰éƒ½è¦ç¼–è¯‘</li>
<li>KV Cache ç”³è¯·ï¼šé•¿ prompt ä¼šè§¦å‘å¤§é¡µåˆ†é…</li>
<li>è°ƒåº¦å™¨åˆå§‹åŒ–ï¼šcontinuous batching çš„æ‰¹æ¬¡åˆå¹¶è¦å…ˆè·‘ä¸€é</li>
<li>GPU æ‰ç”µï¼šæ²¡å¼€ nvidia-persistencedï¼ŒGPU é¢‘ç‡æ…¢æ…¢çˆ¬</li>
</ul>
<p>ç›®æ ‡å¾ˆæ˜ç¡®ï¼š<strong>æŠŠè¿™äº›æˆæœ¬æå‰èŠ±æ‰</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-10">â‘¢ è®¾è®¡é¢„çƒ­ç­–ç•¥ï¼Œè¦†ç›–â€œé•¿çŸ­èƒ–ç˜¦â€æ‰€æœ‰å§¿åŠ¿</h2>
<p>æˆ‘åˆ—äº†ä¸€å¼ é¢„çƒ­è¦†ç›–è¡¨ï¼š</p>



































<table><thead><tr><th>ç»´åº¦</th><th>è¦è¦†ç›–ä»€ä¹ˆ</th><th>ç›®çš„</th></tr></thead><tbody><tr><td>Prompt é•¿åº¦</td><td>32 / 256 / 1024+</td><td>è§¦å‘åˆ†è¯ç¼“å­˜ã€KV å¤§é¡µç”³è¯·</td></tr><tr><td>è¾“å‡ºé•¿åº¦</td><td>32 / 128</td><td>è®© decode å†…æ ¸ JIT å®Œæ•´</td></tr><tr><td>å¹¶å‘</td><td>4 / 8 / 16</td><td>è®©è°ƒåº¦å™¨ã€è¿ç»­æ‰¹æ¬¡ç¨³å®š</td></tr><tr><td>è¯­æ–™ç±»å‹</td><td>ä¸­/è‹±/ç¬¦å·æ··åˆ</td><td>å¡«æ»¡åˆ†è¯ cacheï¼Œé¿å…é¦–æ¡ä¸­æ–‡æ…¢</td></tr><tr><td>ç‰¹æ®Šè·¯å¾„</td><td>æµå¼ / éæµå¼</td><td>SSE/HTTP chunking éƒ½èµ°ä¸€é</td></tr></tbody></table>
<p>é¢„çƒ­è„šæœ¬è¦â€œä¸€æ¬¡æ‰“ç©¿â€è¿™äº›ç»„åˆï¼Œä¸èƒ½åªå‘ä¸€æ¡çŸ­ promptã€‚</p>
<hr/>
<p>æç‰›å­å‰è¾ˆè¯´ï¼šâ€œTalk is cheap. Show me the code.â€
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b3557c2cd6443fca4fc49b765b2f3bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG9tb2NvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765860667&amp;x-signature=oJs3yajIf8xRbxMcAP%2Fnx9XlGrs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å¥½å§ï¼</p>
<h2 data-id="heading-11">â‘£ ä¸Šä»£ç ï¼šé¢„çƒ­è„šæœ¬</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># warmup_vllm.py</span>
<span class="hljs-keyword">import</span> asyncio, time, sys
<span class="hljs-keyword">from</span> openai <span class="hljs-keyword">import</span> AsyncOpenAI

client = AsyncOpenAI(
    base_url=<span class="hljs-string">"http://127.0.0.1:8000/v1"</span>,
    api_key=<span class="hljs-string">"not-used"</span>,
    timeout=<span class="hljs-number">30</span>,
)

base_prompts = [
    <span class="hljs-string">"ç”¨ 3 ç‚¹æ¦‚æ‹¬ Transformer çš„æ ¸å¿ƒæ€æƒ³ã€‚"</span>,
    <span class="hljs-string">"Write a concise intro to CUDA graph capture for attention kernels."</span>,
    <span class="hljs-string">"ç»™å‡ºä¸€ç¯‡ 1200 å­—çš„ç»¼è¿°ï¼švLLM çš„è°ƒåº¦ã€KV Cache åˆ†é¡µä¸è¿ç»­æ‰¹æ¬¡ã€‚"</span>,
    <span class="hljs-string">"Symbols: $$$ *** ### æ··åˆä¸€ä¸‹ tokenizer ç¼“å­˜ã€‚"</span>,
]

length_pairs = [(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>), (<span class="hljs-number">256</span>, <span class="hljs-number">64</span>), (<span class="hljs-number">1024</span>, <span class="hljs-number">128</span>)]  <span class="hljs-comment"># (target_prompt_len, max_tokens)</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">make_prompt_with_length</span>(<span class="hljs-params">base_prompt, target_len</span>):
    <span class="hljs-string">"""æ‰©å±• prompt åˆ°ç›®æ ‡é•¿åº¦ï¼ˆæŒ‰å­—ç¬¦æ•°ä¼°ç®—ï¼‰"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(base_prompt) &gt;= target_len:
        <span class="hljs-keyword">return</span> base_prompt

    <span class="hljs-comment"># æ„é€ å¡«å……å†…å®¹ï¼Œè®© prompt è¾¾åˆ°ç›®æ ‡é•¿åº¦</span>
    padding_text = <span class="hljs-string">"è¯·è¯¦ç»†å±•å¼€è¯´æ˜ï¼ŒåŒ…æ‹¬å…·ä½“çš„æŠ€æœ¯ç»†èŠ‚ã€å®ç°åŸç†ã€ä¼˜åŒ–æ–¹æ³•ã€æ€§èƒ½æŒ‡æ ‡ã€åº”ç”¨åœºæ™¯ã€‚"</span>
    repeat_count = (target_len - <span class="hljs-built_in">len</span>(base_prompt)) // <span class="hljs-built_in">len</span>(padding_text) + <span class="hljs-number">1</span>
    padding = (padding_text * repeat_count)[:target_len - <span class="hljs-built_in">len</span>(base_prompt)]
    <span class="hljs-keyword">return</span> base_prompt + padding

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">send</span>(<span class="hljs-params">prompt, max_tokens</span>):
    <span class="hljs-keyword">try</span>:
        t0 = time.time()
        resp = <span class="hljs-keyword">await</span> client.chat.completions.create(
            model=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,
            messages=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
            max_tokens=max_tokens,
            temperature=<span class="hljs-number">0.2</span>,
            stream=<span class="hljs-literal">False</span>,
        )
        dt = time.time() - t0
        preview = resp.choices[<span class="hljs-number">0</span>].message.content[:<span class="hljs-number">60</span>].replace(<span class="hljs-string">"\n"</span>, <span class="hljs-string">" "</span>)
        <span class="hljs-keyword">return</span> dt, preview
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é¢„çƒ­è¯·æ±‚å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>, file=sys.stderr)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, <span class="hljs-string">f"ERROR: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)[:<span class="hljs-number">50</span>]}</span>"</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹é¢„çƒ­ vLLM æœåŠ¡..."</span>)
    tasks = []

    <span class="hljs-comment"># ç”Ÿæˆä¸åŒé•¿åº¦çš„ prompt ç»„åˆ</span>
    <span class="hljs-keyword">for</span> base_prompt <span class="hljs-keyword">in</span> base_prompts:
        <span class="hljs-keyword">for</span> prompt_len, max_tok <span class="hljs-keyword">in</span> length_pairs:
            <span class="hljs-comment"># æ ¹æ®ç›®æ ‡é•¿åº¦æ‰©å±• prompt</span>
            extended_prompt = make_prompt_with_length(base_prompt, prompt_len)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  å‡†å¤‡é•¿åº¦ ~<span class="hljs-subst">{<span class="hljs-built_in">len</span>(extended_prompt)}</span> çš„ promptï¼Œmax_tokens=<span class="hljs-subst">{max_tok}</span>"</span>)

            <span class="hljs-comment"># å¹¶å‘ 4 ä¸ªç›¸åŒè¯·æ±‚ï¼Œæµ‹è¯•å¹¶å‘å¤„ç†èƒ½åŠ›</span>
            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):
                tasks.append(asyncio.create_task(send(extended_prompt, max_tok)))

    <span class="hljs-comment"># ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
    results = <span class="hljs-keyword">await</span> asyncio.gather(*tasks, return_exceptions=<span class="hljs-literal">True</span>)

    <span class="hljs-comment"># ç»Ÿè®¡ç»“æœ</span>
    success_count = <span class="hljs-built_in">sum</span>(<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(r, <span class="hljs-built_in">tuple</span>) <span class="hljs-keyword">and</span> r[<span class="hljs-number">0</span>] &gt; <span class="hljs-number">0</span>)
    error_count = <span class="hljs-built_in">len</span>(results) - success_count

    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\né¢„çƒ­å®Œæˆï¼æˆåŠŸ: <span class="hljs-subst">{success_count}</span>, å¤±è´¥: <span class="hljs-subst">{error_count}</span>"</span>)

    <span class="hljs-comment"># æ˜¾ç¤ºéƒ¨åˆ†ç»“æœ</span>
    <span class="hljs-keyword">for</span> i, result <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(results[:<span class="hljs-number">10</span>]):  <span class="hljs-comment"># åªæ˜¾ç¤ºå‰10ä¸ª</span>
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(result, <span class="hljs-built_in">tuple</span>):
            dt, preview = result
            <span class="hljs-keyword">if</span> dt &gt; <span class="hljs-number">0</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[<span class="hljs-subst">{i:02d}</span>] <span class="hljs-subst">{dt:<span class="hljs-number">.3</span>f}</span>s <span class="hljs-subst">{preview!r}</span>"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[<span class="hljs-subst">{i:02d}</span>] å¼‚å¸¸: <span class="hljs-subst">{result}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(main())
</code></pre>
<p>ä¸¤è½®è·‘ä¸‹æ¥ï¼ŒTTFT ä» 5.x s æ‰åˆ° 0.7~1.x sï¼Œå»¶è¿Ÿæ³¢åŠ¨ä¹Ÿå°äº†å¾ˆå¤šã€‚æ˜¾å­˜ç´§å¼ æˆ–æ‹…å¿ƒ OOM æ—¶ï¼ŒæŠŠæ¯ä¸ª prompt çš„å¹¶å‘ä» 4 æ”¹æˆ 2ã€‚</p>
<hr/>
<h2 data-id="heading-12">â‘¤ æŠŠé¢„çƒ­â€œäº§å“åŒ–â€â€”â€”å¯åŠ¨å³è§¦å‘</h2>
<h3 data-id="heading-13">å¯åŠ¨åè‡ªåŠ¨é¢„çƒ­</h3>
<ol>
<li>ç”¨ systemd ç®¡ vLLMï¼Œå†åœ¨ <code>ExecStartPost</code> è°ƒç”¨ warmupï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[Service]</span>
<span class="hljs-attr">ExecStart</span>=/usr/bin/python -m vllm.entrypoints.openai.api_server \
  --model Qwen/Qwen2.5-7B-Instruct \
  --host 0.0.0.0 --port 8000 \
  --gpu-memory-utilization 0.9 \
  --max-model-len 4096

<span class="hljs-comment"># ç­‰å¾…æœåŠ¡å°±ç»ªåå†æ‰§è¡Œé¢„çƒ­</span>
<span class="hljs-attr">ExecStartPost</span>=/bin/bash -c <span class="hljs-string">'for i in {1..30}; do \
  curl -s http://127.0.0.1:8000/v1/models &amp;&amp; break || sleep 2; \
done &amp;&amp; /usr/bin/python /opt/warmup_vllm.py'</span>

<span class="hljs-attr">Restart</span>=<span class="hljs-literal">on</span>-failure
<span class="hljs-attr">RestartSec</span>=<span class="hljs-number">10</span>
</code></pre>
<ol start="2">
<li>æˆ–è€…åœ¨ CI/CD çš„éƒ¨ç½²è„šæœ¬é‡Œï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨æœåŠ¡åç­‰å¾…å°±ç»ª</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç­‰å¾… vLLM æœåŠ¡å¯åŠ¨..."</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..30}; <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> curl -s http://127.0.0.1:8000/v1/models &gt; /dev/null; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æœåŠ¡å·²å°±ç»ªï¼Œå¼€å§‹é¢„çƒ­"</span>
    <span class="hljs-built_in">break</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-built_in">sleep</span> 2
<span class="hljs-keyword">done</span>

<span class="hljs-comment"># æ‰§è¡Œé¢„çƒ­è„šæœ¬</span>
python warmup_vllm.py || (<span class="hljs-built_in">echo</span> <span class="hljs-string">"warmup failed"</span> &amp;&amp; <span class="hljs-built_in">exit</span> 1)
</code></pre>
<h3 data-id="heading-14">å®šæ—¶ä¿æ´»</h3>
<p>é•¿æ—¶é—´æ— æµé‡ï¼ŒGPU å¯èƒ½é™é¢‘ã€cache å¤±æ•ˆã€‚ç”¨ cron æ¯ 15 åˆ†é’Ÿæ‰“ä¸€æ¬¡è½»é‡è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">*/15 * * * * /usr/bin/python /opt/warmup_ping.py &gt;&gt; /var/log/vllm_warm.log 2&gt;&amp;1
</code></pre>
<p><code>warmup_ping.py</code> å¯ä»¥åªå‘ä¸€æ¡ 32-token çš„çŸ­è¯·æ±‚ï¼Œä¸å½±å“æ˜¾å­˜ã€‚</p>
<hr/>
<h2 data-id="heading-15">â‘¥ vLLM å‚æ•°ä¹Ÿè¦é…åˆé¢„çƒ­ï¼Œå¦åˆ™å¯èƒ½ç™½å¿™</h2>
<ul>
<li><code>--gpu-memory-utilization 0.9</code>ï¼šç•™ 10% ä½™é‡ï¼Œé¿å…é¢„çƒ­æ—¶ OOM</li>
<li><code>--max-model-len 4096/8192</code>ï¼šè¿‡å°é•¿ prompt ä¼šå¤±è´¥ï¼Œè¿‡å¤§ä¼šæ’‘çˆ†æ˜¾å­˜ï¼Œé¢„çƒ­å‰å…ˆç®—å¥½æ˜¾å­˜å ç”¨</li>
<li><code>--enforce-eager</code>ï¼šé»˜è®¤ Falseï¼Œå¿…è¦æ—¶å¯æ‰“å¼€ä¾¿äºè°ƒè¯•å†…æ ¸ç¼–è¯‘</li>
<li><code>--max-num-batched-tokens</code>ï¼šåœ¨é«˜å¹¶å‘åœºæ™¯é€‚å½“æ”¾å¤§ï¼Œé¿å…é¢„çƒ­è¦†ç›–ä¸åˆ°å¤§ batch</li>
<li>å¤šå¡ï¼š<code>--tensor-parallel-size N</code>ï¼Œé¢„çƒ­è„šæœ¬è¦çœŸæ­£æ‰“åˆ°æ‰€æœ‰ GPUï¼Œåˆ«åªæ‰“åˆ° rank0</li>
<li>ä½æ˜¾å­˜ï¼ˆ8/12GBï¼‰é‡åŒ–æ–¹æ¡ˆï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 12GB æ˜¾å­˜ï¼šä½¿ç”¨ AWQ 4bit é‡åŒ–</span>
python -m vllm.entrypoints.openai.api_server \
  --model TheBloke/Qwen2.5-7B-Instruct-AWQ \
  --quantization awq \
  --gpu-memory-utilization 0.85 \
  --max-model-len 2048

<span class="hljs-comment"># 8GB æ˜¾å­˜ï¼šä½¿ç”¨ GPTQ 4bit é‡åŒ–</span>
python -m vllm.entrypoints.openai.api_server \
  --model TheBloke/Qwen2.5-7B-Instruct-GPTQ \
  --quantization gptq \
  --gpu-memory-utilization 0.8 \
  --max-model-len 1024
</code></pre>
</li>
</ul>
<hr/>
<h2 data-id="heading-16">â‘¦ è§‚æµ‹éªŒè¯ï¼šæ•°æ®è¯´è¯æ‰æœ‰åº•æ°”</h2>
<p><strong>å¯¹æ¯”è¡¨ï¼ˆRTX 3070 16GB / Qwen2.5-7B-Instruct / fp16ï¼‰ï¼š</strong></p>






























<table><thead><tr><th>æŒ‡æ ‡</th><th>å†·å¯åŠ¨</th><th>é¢„çƒ­å</th></tr></thead><tbody><tr><td>TTFTï¼ˆä¸­ç­‰ promptï¼‰</td><td>5.4s</td><td>1.1s</td></tr><tr><td>TTFTï¼ˆé•¿ prompt 1kï¼‰</td><td>6.9s</td><td>1.7s</td></tr><tr><td>P95 æ³¢åŠ¨</td><td>2.6s</td><td>0.7s</td></tr><tr><td>GPU åˆ©ç”¨ç‡çˆ¬å‡æ—¶é—´</td><td>9s</td><td>2.3s</td></tr></tbody></table>
<blockquote>
<p>æ³¨ï¼šä¸Šè¿°ä¸ºæœ¬æœºå®æµ‹ï¼Œè‹¥ç¡¬ä»¶/é©±åŠ¨/æ¨¡å‹ä¸åŒï¼Œæ•°å€¼ä»…ä¾›å‚è€ƒï¼Œé‡ç‚¹çœ‹â€œé¦–è½® vs æ¬¡è½®â€çš„ä¸‹é™å¹…åº¦ã€‚</p>
</blockquote>
<p><strong>ç›‘æ§å»ºè®®ï¼š</strong></p>
<ul>
<li><code>nvidia-smi dmon -s pucvmet</code> çœ‹åŠŸè€—/æ˜¾å­˜/é¢‘ç‡</li>
<li>vLLM æ—¥å¿—ä¸­çš„ <code>prefill</code>, <code>decode</code> latencyï¼ˆ<code>tail -f</code> è§‚å¯Ÿï¼‰</li>
<li>ç®€å•å‹æµ‹ï¼š<code>hey -n 200 -c 16 http://127.0.0.1:8000/v1/chat/completions</code></li>
</ul>
<hr/>
<h2 data-id="heading-17">æ¶æ„é•¿å•¥æ ·ï¼Ÿä¸€å›¾æ¦‚æ‹¬</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    User[ç”¨æˆ·è¯·æ±‚] --&gt; LB[LB/Nginx]
    LB --&gt; V1[vLLM å®ä¾‹ 1]
    LB --&gt; V2[vLLM å®ä¾‹ 2]
    V1 --&gt; GPU1[GPU]
    V2 --&gt; GPU2[GPU]
    subgraph Warmup &amp; Obs
        Cron[é¢„çƒ­å®šæ—¶ä»»åŠ¡] --&gt; V1
        Cron --&gt; V2
        Loki[æ—¥å¿—æ”¶é›†] --&gt; Grafana[ç›‘æ§é¢æ¿]
    end
    style User fill:#e1f5fe
    style GPU1 fill:#fff3e0
    style GPU2 fill:#fff3e0
    style Grafana fill:#e8f5e9
</code></pre>
<hr/>
<h2 data-id="heading-18">å¿«é€Ÿé¿å‘æ¸…å•</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1) GPU æŒä¹…åŒ–ï¼Œé¿å…æ‰ç”µé‡å¯</span>
sudo nvidia-persistenced

<span class="hljs-comment"># 2) å…ˆç¡®è®¤æ˜¾å­˜è¶³å¤Ÿï¼Œå†è®¾ max-model-len</span>
python - &lt;&lt;<span class="hljs-string">'PY'</span>
<span class="hljs-comment"># Qwen2.5-7B æ˜¾å­˜éœ€æ±‚è®¡ç®—</span>
model_params_gb = 7 * 2  <span class="hljs-comment"># 7B params * 2 bytes (fp16) = 14GB</span>

<span class="hljs-comment"># KV Cache è®¡ç®—</span>
hidden=4096; layers=32
max_len=4096; dtype_bytes=2  <span class="hljs-comment"># fp16</span>
<span class="hljs-comment"># æ¯ token KV = hidden * 2 (K+V) * layers * dtype</span>
kv_per_token = hidden * 2 * layers * dtype_bytes
kv_cache_gb = kv_per_token * max_len / 1024 / 1024 / 1024

<span class="hljs-comment"># æ€»æ˜¾å­˜éœ€æ±‚ï¼ˆé¢„ä¼°ï¼‰</span>
total_gb = model_params_gb + kv_cache_gb + 0.5  <span class="hljs-comment"># 0.5GB for activation</span>
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"æ¨¡å‹æƒé‡: {model_params_gb:.1f} GB"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"KV Cache (max_len={max_len}): {kv_cache_gb:.1f} GB"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"æ¿€æ´»å€¼å’Œå…¶ä»–: ~0.5 GB"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"æ€»éœ€æ±‚: ~{total_gb:.1f} GB"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nå»ºè®®é…ç½®:"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"16GB æ˜¾å­˜: --max-model-len 4096 --gpu-memory-utilization 0.9"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"24GB æ˜¾å­˜: --max-model-len 8192 --gpu-memory-utilization 0.9"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"12GB æ˜¾å­˜: ä½¿ç”¨é‡åŒ–ç‰ˆæœ¬ (AWQ/GPTQ 4bit)"</span>)
PY

<span class="hljs-comment"># 3) é¢„çƒ­è„šæœ¬åŠ¡å¿…è¦†ç›–é•¿ prompt + å¹¶å‘</span>

<span class="hljs-comment"># 4) å¦‚æœå¼€äº† LoRA / speculativeï¼Œé¢„çƒ­ä¹Ÿè¦æ‰“åˆ°å¯¹åº”è·¯å¾„</span>

<span class="hljs-comment"># 5) è§‚æµ‹ TTFT æ”¹å–„ï¼šè·‘ä¸¤è½® warmupï¼Œå†å‹æµ‹</span>
</code></pre>
<hr/>
<h2 data-id="heading-19">ä¸€é”®å¯ç”¨çš„ç¤ºä¾‹é…ç½®</h2>
<p><strong>å¯åŠ¨å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">python -m vllm.entrypoints.openai.api_server \
  --model Qwen/Qwen2.5-7B-Instruct \
  --host 0.0.0.0 --port 8000 \
  --tensor-parallel-size 1 \
  --gpu-memory-utilization 0.9 \
  --max-model-len 4096 \
  --max-num-batched-tokens 8192
</code></pre>
<p><strong>é¢„çƒ­è„šæœ¬è°ƒç”¨ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">python warmup_vllm.py
python warmup_vllm.py  <span class="hljs-comment"># å†è·‘ä¸€éçœ‹ TTFT å·®å¼‚</span>
</code></pre>
<p><strong>ç®€æ˜“å‹æµ‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">hey -n 200 -c 16 \
  -m POST \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"model":"Qwen/Qwen2.5-7B-Instruct","messages":[{"role":"user","content":"hello"}]}'</span> \
  http://127.0.0.1:8000/v1/chat/completions
</code></pre>
<hr/>
<h2 data-id="heading-20">æ­¤ç•ªæŠ˜è…¾çš„æ”¶è·</h2>
<p><strong>è¸©è¿‡çš„å‘ï¼š</strong></p>
<ul>
<li>å¿˜å¼€ GPU æŒä¹…åŒ–ï¼Œå†·å¯åŠ¨åŠŸè€—/é¢‘ç‡çˆ¬å‡æ…¢</li>
<li>åªé¢„çƒ­çŸ­ promptï¼Œç»“æœç¬¬ä¸€æ¡é•¿å¯¹è¯ä»ç„¶ 3s+</li>
<li>å¤šå¡åªæ‰“åˆ° rank0ï¼Œå…¶ä»–å¡çš„å†…æ ¸æ²¡ JIT</li>
<li><code>--max-model-len</code> ä¼°ç®—ä¸è¶³ï¼Œé•¿ prompt ç›´æ¥ OOM</li>
</ul>
<p><strong>å€¼å¾—å¤ç”¨çš„ç»éªŒï¼š</strong></p>
<ol>
<li>é¢„çƒ­è¦è¦†ç›–â€œé•¿çŸ­èƒ–ç˜¦â€ï¼šé•¿åº¦ã€å¹¶å‘ã€è¯­æ–™ç±»å‹ã€æµå¼è·¯å¾„éƒ½è¦èµ°ä¸€é</li>
<li>é¢„çƒ­åº”äº§å“åŒ–ï¼šéƒ¨ç½²è„šæœ¬/cron å†…ç½®ï¼Œä¸é â€œæœ‰äººæƒ³èµ·æ¥å°±è·‘ä¸€ä¸‹â€</li>
<li>å‚æ•°å…ˆç®—åè®¾ï¼šKV Cache æ˜¯æŒ‰ max_len é¢„ç•™çš„ï¼Œåˆ«å‡­æ„Ÿè§‰</li>
<li>è§‚æµ‹é—­ç¯ï¼šTTFTã€P95ã€GPU é¢‘ç‡ã€æ—¥å¿—éƒ½è¦çœ‹ï¼Œåˆ«åªæ‹è„‘è¢‹</li>
</ol>
<hr/>
<h2 data-id="heading-21">å†™åœ¨æœ€åï¼šè®©ç”¨æˆ·ä¸€ä¸Šæ¥å°±è§‰å¾—â€œçœŸå¿«â€</h2>
<p>vLLM å·²ç»å¸®æˆ‘ä»¬è§£å†³äº†å¤§æ¨¡å‹æ¨ç†çš„ç»å¤§éƒ¨åˆ†æ€§èƒ½é—®é¢˜ï¼Œé¢„çƒ­åˆ™æ˜¯â€œä¸´é—¨ä¸€è„šâ€ï¼šæŠŠæ‰€æœ‰å†·å¯åŠ¨æˆæœ¬å‰ç½®ã€å¹³æ»‘æ‰æ³¢åŠ¨ï¼Œè®©ä½“éªŒä»ç¬¬ä¸€æ¡è¯·æ±‚å°±æ‹‰æ»¡ã€‚</p>
<p>æŠŠè¿™ç¯‡æ”»ç•¥ç…§ç€åšï¼Œå¹¶ä¸¾ä¸€åä¸‰åœ°è¿ç”¨åˆ°ä½ çš„å·¥ç¨‹ä¸­ï¼Œè®©ç”¨æˆ·ä»ã€Œç­‰åŠå¤©ã€å˜æˆã€Œæ€ä¹ˆè¿™ä¹ˆå¿«ã€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº¬ä¸œé›¶å”®åç«¯ä¸€äºŒé¢ï¼Œé™„å‚è€ƒç­”æ¡ˆï¼]]></title>    <link>https://juejin.cn/post/7581412607062016046</link>    <guid>https://juejin.cn/post/7581412607062016046</guid>    <pubDate>2025-12-09T05:39:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581412607062016046" data-draft-id="7581619505585143859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº¬ä¸œé›¶å”®åç«¯ä¸€äºŒé¢ï¼Œé™„å‚è€ƒç­”æ¡ˆï¼"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-09T05:39:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº¬ä¸œé›¶å”®åç«¯ä¸€äºŒé¢ï¼Œé™„å‚è€ƒç­”æ¡ˆï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T05:39:40.000Z" title="Tue Dec 09 2025 05:39:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>äº¬ä¸œä»Šå¹´çš„è–ªèµ„å¤ªé¦™äº†ï¼æ ¹æ®ç½‘ä¸Šå·²ç»çˆ†å‡ºçš„è–ªèµ„æ¥çœ‹ï¼Œä¸‹é¢æ˜¯äº¬ä¸œç§‘æŠ€å’Œé›¶å”®åç«¯å²—ä½ä»Šå¹´å·²ç»å¼€å¥–çš„è–ªèµ„æƒ…å†µï¼š</p>
<ul>
<li>åç«¯ï¼š24k * 20ï¼ŒåŒ—äº¬ï¼Œç§‘æŠ€ï¼Œç™½èœ</li>
<li>åç«¯ï¼š28k * 20ï¼ŒåŒ—äº¬ï¼Œç§‘æŠ€ï¼ŒSP</li>
<li>åç«¯ï¼š26k * 20ï¼ŒåŒ—äº¬ï¼Œé›¶å”®ï¼Œç™½èœ</li>
<li>åç«¯ï¼šï¼ˆ30~32ï¼‰k * 20ï¼ŒåŒ—äº¬ï¼Œé›¶å”®ï¼ŒSP</li>
<li>åç«¯ï¼šï¼ˆ31~32ï¼‰k * 20ï¼ŒåŒ—äº¬ï¼Œé›¶å”®ï¼ŒSSP</li>
</ul>
<p>é›¶å”®å¼€çš„ä¸€èˆ¬è¦æ¯”ç§‘æŠ€é«˜ä¸€äº›ï¼Œç§‘æŠ€å¼€çš„ç™½èœä»·å¯èƒ½è¿˜è¦æ¯”æˆ‘ä¸Šé¢æåˆ°çš„ 24k ä½ä¸€äº›ã€‚</p>
<p>ç§‘æŠ€å’Œé›¶å”®éƒ½æ˜¯ 20 è–ªï¼Œå…¶ä¸­ 14 è–ªæ˜¯ 100%èƒ½æ‹¿åˆ°çš„ï¼Œå‰©ä¸‹ 6 è–ªæ˜¯çœ‹ç»©æ•ˆï¼ŒHR è¯´ï¼Œ70ï¼…çš„äººèƒ½æ‹¿æ»¡ 20ã€‚</p>
<p>é«˜è–ªå¯¹åº”çš„æ˜¯é«˜å¼ºåº¦ï¼Œäº¬ä¸œç°åœ¨çš„å·¥ä½œå¼ºåº¦çœŸçš„æŒºå¤§çš„ï¼Œå°¤å…¶æ˜¯æ¶¨è–ªä¹‹åã€‚</p>
<p>çœ‹åˆ°è¿™é‡Œï¼Œè‚¯å®šæœ‰åŒå­¦è¦é—®äº†ï¼Œè¿™äº¬ä¸œçš„ç ”å‘å²—åˆ°åº•æ€ä¹ˆæ ·ï¼Ÿå€¼ä¸å€¼å¾—å†²ï¼Ÿåˆ«æ€¥ï¼Œä»Šå¤©æˆ‘å°±æ¥è·Ÿå¤§å®¶åˆ†äº«ä¸€ä½è¯»è€…çš„äº¬ä¸œç ”å‘å²—æ ¡æ‹›é¢ç»ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ï¼</p>
<h2 data-id="heading-0">é¡¹ç›®æ‹·æ‰“</h2>
<h3 data-id="heading-1">ä»‹ç»ä¸€ä¸‹ä½ åšçš„é¡¹ç›®</h3>
<p>ä½œä¸ºæ±‚èŒè€…ï¼Œæˆ‘ä»¬å¯ä»¥ä»å“ªäº›æ–¹æ¡ˆå»å‡†å¤‡é¡¹ç›®ç»å†çš„å›ç­”ï¼š</p>
<ol>
<li><strong>æ¢³ç†é¡¹ç›®å…¨è²Œ</strong>ï¼š
<ul>
<li><strong>ä¸€å¥è¯æ¦‚æ‹¬é¡¹ç›®</strong>ï¼šç”¨ç®€æ´çš„è¯­è¨€è¯´æ¸…æ¥šè¿™ä¸ªé¡¹ç›®æ˜¯åšä»€ä¹ˆçš„ï¼ˆæ ¸å¿ƒä¸šåŠ¡/ç›®æ ‡ï¼‰ä»¥åŠä¸ºä»€ä¹ˆè¦åšï¼ˆé¡¹ç›®èƒŒæ™¯ã€è¦è§£å†³ä»€ä¹ˆç—›ç‚¹ï¼‰ã€‚</li>
<li><strong>æ ¸å¿ƒåŠŸèƒ½ä¸äº®ç‚¹</strong>ï¼šä»‹ç»é¡¹ç›®çš„ä¸»è¦åŠŸèƒ½æ¨¡å—ï¼Œç‰¹åˆ«æ˜¯é‚£äº›æŠ€æœ¯å«é‡é«˜æˆ–ä¸šåŠ¡ä»·å€¼å¤§çš„éƒ¨åˆ†ã€‚</li>
<li><strong>æŠ€æœ¯æ¶æ„ä¸é€‰å‹</strong>ï¼šèƒ½æ¸…æ™°åœ°è¯´æ˜é¡¹ç›®çš„æ•´ä½“æŠ€æœ¯æ¶æ„ï¼ˆæ¯”å¦‚æ˜¯å¾®æœåŠ¡ã€å•ä½“ï¼Ÿç”¨äº†å“ªäº›ä¸­é—´ä»¶ï¼Ÿï¼‰ï¼Œå¹¶è§£é‡Šä¸ºä»€ä¹ˆé€‰æ‹©è¿™äº›æŠ€æœ¯ï¼ˆæŠ€æœ¯é€‰å‹çš„è€ƒé‡ï¼‰ã€‚å‡†å¤‡å¥½å¯èƒ½è¢«è¦æ±‚ç”»ç®€è¦æ¶æ„å›¾æˆ–è§£é‡Šå…³é”®æ¨¡å—è®¾è®¡ã€‚</li>
</ul>
</li>
<li><strong>æ˜ç¡®ä½ çš„è§’è‰²ä¸è´¡çŒ®</strong>ï¼š
<ul>
<li><strong>ä½ çš„è§’è‰²</strong>ï¼šæ¸…æ¥šè¯´æ˜ä½ åœ¨é¡¹ç›®ä¸­æ‹…ä»»çš„è§’è‰²ï¼ˆæ¯”å¦‚æ ¸å¿ƒå¼€å‘è€…ã€æ¨¡å—è´Ÿè´£äººã€é¡¹ç›®ç»ç†ç­‰ï¼‰ã€‚</li>
<li><strong>å…·ä½“èŒè´£</strong>ï¼šä½ å…·ä½“è´Ÿè´£äº†å“ªäº›æ¨¡å—æˆ–ä»»åŠ¡ï¼Ÿ</li>
<li><strong>å…³é”®è´¡çŒ®ï¼ˆé‡ä¸­ä¹‹é‡ï¼ï¼‰</strong>ï¼šç”¨ STAR æ³•åˆ™ (Situation, Task, Action, Result) æ¥å‡†å¤‡å‡ ä¸ªå®é™…æ¡ˆä¾‹ã€‚é‡ç‚¹çªå‡ºä½ é€šè¿‡å…·ä½“è¡ŒåŠ¨å–å¾—äº†å¯é‡åŒ–çš„æˆæœæˆ–è§£å†³äº†å…³é”®é—®é¢˜ï¼Œä¸€å®šè¦å…·ä½“åœºæ™¯ï¼Œè€Œéç½—åˆ—æŠ€æœ¯ã€‚ä¾‹å¦‚ï¼Œâ€œè´Ÿè´£ä¼˜åŒ– XX æ¥å£ï¼Œé€šè¿‡ Aã€Bã€C æªæ–½ï¼Œå°†å“åº”æ—¶é—´ä» X é™ä½åˆ° Yï¼Œæå‡äº† Z% çš„ç”¨æˆ·ä½“éªŒâ€ã€‚</li>
</ul>
</li>
<li><strong>å‡†å¤‡è§£å†³é—®é¢˜çš„äº®ç‚¹æ¡ˆä¾‹</strong>ï¼š
<ul>
<li><strong>æŒ–æ˜æŒ‘æˆ˜</strong>ï¼šå›å¿†é¡¹ç›®ä¸­é‡åˆ°çš„æœ€æ£˜æ‰‹çš„æŠ€æœ¯éš¾é¢˜ã€æ€§èƒ½ç“¶é¢ˆã€æˆ–è€…å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å®ç°ã€‚è¿™ä¸ªåœ¨é¢è¯•ä¸­å¾ˆå¯èƒ½ä¼šé—®åˆ°ï¼Œä¾‹å¦‚é¢è¯•å®˜ä¼šé—®ä½ ï¼šâ€œé¢è¯•ä¸­é‡åˆ°äº†ä»€ä¹ˆå›°éš¾ï¼Ÿå¦‚ä½•è§£å†³çš„ï¼Ÿâ€ã€‚</li>
<li><strong>å±•ç°æ€è·¯</strong>ï¼šè¯¦ç»†è¯´æ˜ä½ æ˜¯å¦‚ä½•åˆ†æé—®é¢˜ï¼ˆç”¨äº†ä»€ä¹ˆå·¥å…·ï¼Ÿæ€ä¹ˆå®šä½çš„ï¼Ÿï¼‰ã€æ€è€ƒè§£å†³æ–¹æ¡ˆï¼ˆè€ƒè™‘äº†å“ªäº›æ–¹æ¡ˆï¼Ÿä¸ºä»€ä¹ˆé€‰æ‹©æœ€ç»ˆæ–¹æ¡ˆï¼Ÿï¼‰ã€æœ€ç»ˆå¦‚ä½•è§£å†³çš„ï¼Œä»¥åŠç»“æœå¦‚ä½•ã€‚</li>
<li><strong>æç‚¼æ”¶è·</strong>ï¼šä»è§£å†³è¿™ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œä½ å­¦åˆ°äº†ä»€ä¹ˆï¼ŸæŠ€æœ¯ä¸Šæœ‰ä»€ä¹ˆæˆé•¿ï¼Ÿæˆ–è€…å¯¹ä¸šåŠ¡æœ‰äº†æ›´æ·±çš„ç†è§£ï¼Ÿ</li>
</ul>
</li>
<li><strong>æ·±å…¥ç†è§£å…³é”®æŠ€æœ¯</strong>ï¼šåƒé€ä½ åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ç”¨åˆ°çš„æŠ€æœ¯ï¼ˆä¸¾ä¸ªä¾‹å­ï¼Œä½ çš„é¡¹ç›®ç»å†ä½¿ç”¨äº† Seata æ¥åšåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œé‚£ Seata ç›¸å…³çš„é—®é¢˜ä½ è¦æå‰å‡†å¤‡ä¸€ä¸‹å§ï¼Œæ¯”å¦‚è¯´ Seata æ”¯æŒå“ªäº›é…ç½®ä¸­å¿ƒã€Seata çš„äº‹åŠ¡åˆ†ç»„æ˜¯æ€ä¹ˆåšçš„ã€Seata æ”¯æŒå“ªäº›äº‹åŠ¡æ¨¡å¼ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆç”¨ JWTï¼Ÿ</h3>
<p>JWT ç›¸è¾ƒäº Session è®¤è¯ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>æ— çŠ¶æ€ï¼š</strong> æœåŠ¡ç«¯æ— éœ€å­˜å‚¨ Session ä¿¡æ¯ï¼Œå‡è½»æœåŠ¡å™¨å‹åŠ›ï¼Œæé«˜å¯ç”¨æ€§å’Œä¼¸ç¼©æ€§ã€‚ä½†ä¹Ÿå› æ­¤å­˜åœ¨ JWT å¤±æ•ˆä¸å¯æ§çš„ç¼ºç‚¹ï¼Œéœ€è¦é¢å¤–å¤„ç†ã€‚</li>
<li><strong>é˜² CSRF æ”»å‡»ï¼š</strong> JWT é€šå¸¸å­˜å‚¨åœ¨ localStorage ä¸­ï¼Œä¸ä¾èµ– Cookieï¼Œé¿å…äº† CSRF æ”»å‡»ã€‚ä½†éœ€æ³¨æ„ XSS æ”»å‡»é£é™©ï¼Œå¯é€šè¿‡è¿‡æ»¤å¯ç–‘å­—ç¬¦ä¸²ç­‰æ–¹å¼é˜²èŒƒã€‚</li>
<li><strong>é€‚åˆç§»åŠ¨ç«¯ï¼š</strong> JWT å¯è¢«å®¢æˆ·ç«¯å­˜å‚¨ï¼Œä¸”å¯è·¨è¯­è¨€ä½¿ç”¨ï¼Œè§£å†³äº† Session è®¤è¯åœ¨ç§»åŠ¨ç«¯çŠ¶æ€ç®¡ç†ã€å…¼å®¹æ€§å’Œå®‰å…¨æ€§ä¸Šçš„é—®é¢˜ã€‚</li>
<li><strong>å•ç‚¹ç™»å½•å‹å¥½ï¼š</strong> JWT ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œé¿å…äº† Session è®¤è¯ä¸­ Cookie è·¨åŸŸç­‰é—®é¢˜ï¼Œæ›´æ˜“å®ç°å•ç‚¹ç™»å½•ã€‚</li>
</ol>
<p>å…³äºJWTçš„è¯¦ç»†ä»‹ç»ï¼Œå¼ºçƒˆæ¨èçœ‹çœ‹æˆ‘å†™çš„è¿™ä¸¤ç¯‡æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fsystem-design%2Fsecurity%2Fjwt-intro.html" target="_blank" title="https://javaguide.cn/system-design/security/jwt-intro.html" ref="nofollow noopener noreferrer">JWT åŸºç¡€æ¦‚å¿µè¯¦è§£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fsystem-design%2Fsecurity%2Fadvantages-and-disadvantages-of-jwt.html" target="_blank" title="https://javaguide.cn/system-design/security/advantages-and-disadvantages-of-jwt.html" ref="nofollow noopener noreferrer">JWT èº«ä»½è®¤è¯ä¼˜ç¼ºç‚¹åˆ†æ</a></li>
</ul>
<h3 data-id="heading-3">é¡¹ç›®ç”¨ Redis æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3>
<p>Redis é™¤äº†å¯ä»¥ç”¨æ¥ç¼“å­˜é«˜é¢‘è®¿é—®çš„æ•°æ®ä¹‹å¤–ï¼Œè¿˜ä»¥ç”¨æ¥å®ç°ï¼š</p>
<ul>
<li><strong>åˆ†å¸ƒå¼é”</strong>ï¼šé€šè¿‡ Redis æ¥åšåˆ†å¸ƒå¼é”æ˜¯ä¸€ç§æ¯”è¾ƒå¸¸è§çš„æ–¹å¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯åŸºäº Redisson æ¥å®ç°åˆ†å¸ƒå¼é”ã€‚å…³äº Redis å®ç°åˆ†å¸ƒå¼é”çš„è¯¦ç»†ä»‹ç»ï¼Œå¯ä»¥çœ‹æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fy8kAflIenRpa4zIwCP_8iA" target="_blank" title="https://mp.weixin.qq.com/s/y8kAflIenRpa4zIwCP_8iA" ref="nofollow noopener noreferrer">å¦‚ä½•åŸºäº Redis å®ç°åˆ†å¸ƒå¼é”ï¼Ÿ</a>ã€‚</li>
<li><strong>é™æµ</strong>ï¼šä¸€èˆ¬æ˜¯é€šè¿‡ Redis + Lua è„šæœ¬çš„æ–¹å¼æ¥å®ç°é™æµã€‚å¦‚æœä¸æƒ³è‡ªå·±å†™ Lua è„šæœ¬çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ©ç”¨ Redisson ä¸­çš„ <code>RRateLimiter</code> æ¥å®ç°åˆ†å¸ƒå¼é™æµï¼Œå…¶åº•å±‚å®ç°å°±æ˜¯åŸºäº Lua ä»£ç +ä»¤ç‰Œæ¡¶ç®—æ³•ã€‚</li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šRedis è‡ªå¸¦çš„ List æ•°æ®ç»“æ„å¯ä»¥ä½œä¸ºä¸€ä¸ªç®€å•çš„é˜Ÿåˆ—ä½¿ç”¨ã€‚Redis 5.0 ä¸­å¢åŠ çš„ Stream ç±»å‹çš„æ•°æ®ç»“æ„æ›´åŠ é€‚åˆç”¨æ¥åšæ¶ˆæ¯é˜Ÿåˆ—ã€‚å®ƒæ¯”è¾ƒç±»ä¼¼äº Kafkaï¼Œæœ‰ä¸»é¢˜å’Œæ¶ˆè´¹ç»„çš„æ¦‚å¿µï¼Œæ”¯æŒæ¶ˆæ¯æŒä¹…åŒ–ä»¥åŠ ACK æœºåˆ¶ã€‚</li>
<li><strong>å»¶æ—¶é˜Ÿåˆ—</strong>ï¼šRedisson å†…ç½®äº†å»¶æ—¶é˜Ÿåˆ—ï¼ˆåŸºäº Sorted Set å®ç°çš„ï¼‰ã€‚</li>
<li><strong>åˆ†å¸ƒå¼ Session</strong> ï¼šåˆ©ç”¨ String æˆ–è€… Hash æ•°æ®ç±»å‹ä¿å­˜ Session æ•°æ®ï¼Œæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å¯ä»¥è®¿é—®ã€‚</li>
<li><strong>å¤æ‚ä¸šåŠ¡åœºæ™¯</strong>ï¼šé€šè¿‡ Redis ä»¥åŠ Redis æ‰©å±•ï¼ˆæ¯”å¦‚ Redissonï¼‰æä¾›çš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®Œæˆå¾ˆå¤šå¤æ‚çš„ä¸šåŠ¡åœºæ™¯æ¯”å¦‚é€šè¿‡ Bitmap ç»Ÿè®¡æ´»è·ƒç”¨æˆ·ã€é€šè¿‡ Sorted Set ç»´æŠ¤æ’è¡Œæ¦œã€‚</li>
</ul>
<p>é¢è¯•ä¸­ï¼Œæ ¹æ®ä½ é¡¹ç›®çš„å®é™…æƒ…å†µå»å›ç­”å³å¯ï¼</p>
<p>æ›´å¤š Redis é«˜é¢‘çŸ¥è¯†ç‚¹å’Œé¢è¯•é¢˜æ€»ç»“ï¼Œå¯ä»¥é˜…è¯»ç¬”è€…å†™çš„è¿™å‡ ç¯‡æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fdatabase%2Fredis%2Fredis-questions-01.html" target="_blank" title="https://javaguide.cn/database/redis/redis-questions-01.html" ref="nofollow noopener noreferrer">Redis å¸¸è§é¢è¯•é¢˜æ€»ç»“ï¼ˆä¸Šï¼‰</a>ï¼ˆRedis åŸºç¡€ã€åº”ç”¨ã€æ•°æ®ç±»å‹ã€æŒä¹…åŒ–æœºåˆ¶ã€çº¿ç¨‹æ¨¡å‹ç­‰ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fdatabase%2Fredis%2Fredis-questions-02.html" target="_blank" title="https://javaguide.cn/database/redis/redis-questions-02.html" ref="nofollow noopener noreferrer">Redis å¸¸è§é¢è¯•é¢˜æ€»ç»“(ä¸‹)</a>ï¼ˆRedis äº‹åŠ¡ã€æ€§èƒ½ä¼˜åŒ–ã€ç”Ÿäº§é—®é¢˜ã€é›†ç¾¤ã€ä½¿ç”¨è§„èŒƒç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-4">å¼•å…¥ Sentinel çš„æ„ä¹‰æ˜¯ï¼Ÿ</h3>
<p><strong>Sentinelï¼ˆå“¨å…µï¼‰</strong> åªæ˜¯ Redis çš„ä¸€ç§è¿è¡Œæ¨¡å¼ ï¼Œä¸æä¾›è¯»å†™æœåŠ¡ï¼Œé»˜è®¤è¿è¡Œåœ¨ 26379 ç«¯å£ä¸Šï¼Œä¾èµ–äº Redis å·¥ä½œã€‚Redis Sentinel çš„ç¨³å®šç‰ˆæœ¬æ˜¯åœ¨ Redis 2.8 ä¹‹åå‘å¸ƒçš„ã€‚</p>
<p>Redis Sentinel å®ç° Redis é›†ç¾¤é«˜å¯ç”¨ï¼Œåªæ˜¯åœ¨ä¸»ä»å¤åˆ¶å®ç°é›†ç¾¤çš„åŸºç¡€ä¸‹ï¼Œå¤šäº†ä¸€ä¸ª Sentinel è§’è‰²æ¥å¸®åŠ©æˆ‘ä»¬ç›‘æ§ Redis èŠ‚ç‚¹çš„è¿è¡ŒçŠ¶æ€å¹¶è‡ªåŠ¨å®ç°æ•…éšœè½¬ç§»ã€‚</p>
<p>å½“ master èŠ‚ç‚¹å‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œ Sentinel ä¼šå¸®åŠ©æˆ‘ä»¬å®ç°æ•…éšœè½¬ç§»ï¼Œè‡ªåŠ¨æ ¹æ®ä¸€å®šçš„è§„åˆ™é€‰å‡ºä¸€ä¸ª slave å‡çº§ä¸º masterï¼Œç¡®ä¿æ•´ä¸ª Redis ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚æ•´ä¸ªè¿‡ç¨‹å®Œå…¨è‡ªåŠ¨ï¼Œä¸éœ€è¦äººå·¥ä»‹å…¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2f659270ce64af8b0bb85cbbdab84cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765863580&amp;x-signature=AP%2Frokz%2BziAw%2Bcl4VZes1soerLo%3D" alt="Redis Sentinel ç›‘æ§ Redis èŠ‚ç‚¹å®ç°é«˜å¯ç”¨" loading="lazy"/></p>
<h3 data-id="heading-5">MySQL åŒæ­¥ ES çš„å®ç°</h3>
<p>ä½¿ç”¨ Canal å¯ä»¥åšåˆ°ä¸šåŠ¡ä»£ç å®Œå…¨è§£è€¦ï¼ŒAPI å®Œå…¨è§£è€¦ï¼Œé›¶ä»£ç å®ç°å‡†å®æ—¶åŒæ­¥, Canal é€šè¿‡è§£æ MySQL çš„ binlog æ—¥å¿—æ–‡ä»¶è¿›è¡Œæ•°æ®åŒæ­¥ã€‚</p>
<p>Canal çš„åŸç†æœ¬è´¨ä¸Šæ˜¯ <strong>æ¨¡æ‹Ÿäº† MySQL çš„ä¸»ä»å¤åˆ¶åè®®</strong> ï¼š</p>
<ol>
<li><strong>ä¼ªè£…æˆä»åº“ (Slave)ï¼š</strong> Canal Server ä¼šå‘ MySQL Master å‘é€å’Œæ ‡å‡† MySQL Slave å®Œå…¨ä¸€æ ·çš„æ¡æ‰‹åŒ…ï¼Œå°†è‡ªå·±ä¼ªè£…æˆä¸€ä¸ªä»åº“ã€‚</li>
<li><strong>è®¢é˜… Binlogï¼š</strong> MySQL Master éªŒè¯é€šè¿‡åï¼Œå°±ä¼šæŠŠå®ƒå½“æˆä¸€ä¸ªçœŸæ­£çš„ä»åº“ã€‚ä» Canal æŒ‡å®šçš„ä½ç‚¹ï¼ˆPosition æˆ– GTIDï¼‰å¼€å§‹ï¼ŒæŒç»­åœ°ã€æµå¼åœ°æŠŠäºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinlogï¼‰æ¨é€ç»™ Canalã€‚Binlog è®°å½•äº†æ•°æ®åº“ä¸­æ‰€æœ‰çš„æ•°æ®å˜æ›´æ“ä½œï¼ˆINSERT, UPDATE, DELETEï¼‰ã€‚</li>
<li><strong>è§£æä¸æŠ•é€’ï¼š</strong> Canal æ¥æ”¶åˆ°è¿™äº›åŸå§‹çš„äºŒè¿›åˆ¶æ—¥å¿—æµåï¼Œä¼šåœ¨å†…éƒ¨è¿›è¡Œè§£æï¼Œå°†å®ƒä»¬è½¬æ¢æˆç»“æ„åŒ–çš„ã€æ˜“äºæ¶ˆè´¹çš„æ•°æ®æ ¼å¼ï¼ˆæ¯”å¦‚JSONï¼‰ã€‚æœ€åï¼Œå†å°†è¿™äº›ç»“æ„åŒ–çš„å˜æ›´äº‹ä»¶æŠ•é€’å‡ºå»ï¼Œé€šå¸¸æ˜¯æŠ•é€’åˆ°åƒ Kafka æˆ– RocketMQ è¿™æ ·çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œç”±ä¸‹æ¸¸çš„æ¶ˆè´¹ç¨‹åºï¼ˆæ¯”å¦‚æˆ‘ä»¬çš„åŒæ­¥æœåŠ¡ï¼‰è®¢é˜…å¹¶å†™å…¥åˆ° Elasticsearchã€‚</li>
</ol>
<p>ä¸è¿‡ï¼ŒCanal ä»…ä»…æ”¯æŒå¢é‡åŒæ­¥ã€‚å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥å€ŸåŠ©å…¨é‡å¯¼å…¥å·¥å…·å®ç°å…¨é‡åŒæ­¥ï¼Œä¾‹å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2FDataX" target="_blank" title="https://github.com/alibaba/DataX" ref="nofollow noopener noreferrer">Datax</a> ï¼Œåç»­å†é€šè¿‡ Canal å®ç°å¢é‡åŒæ­¥ï¼Œç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p>ä¸ºäº†è¿›ä¸€æ­¥æé«˜ç³»ç»Ÿæ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå¼•å…¥æ¶ˆæ¯é˜Ÿåˆ— (MQ) ä½œä¸ºä¸­é—´å±‚ï¼Œè§£è€¦ Canal å’Œ Elasticsearchï¼Œ</p>
<p>å¼•å…¥ MQ çš„ä¼˜åŠ¿:</p>
<ul>
<li><strong>å¼‚æ­¥å¤„ç†:</strong> Canal å°†æ•°æ®å˜æ›´æ¶ˆæ¯å‘é€åˆ° MQ åï¼Œæ— éœ€ç­‰å¾… ES å¤„ç†å®Œæˆå³å¯è¿”å›ï¼Œæé«˜ Canal çš„ååé‡ã€‚</li>
<li><strong>æµé‡æ§åˆ¶:</strong> MQ ä½œä¸ºç¼“å†²åŒºï¼Œå¯ä»¥å‰Šå³°å¡«è°·ï¼Œé¿å… Elasticsearch ç¬æ—¶å†™å…¥å‹åŠ›è¿‡å¤§ã€‚</li>
<li><strong>æ•°æ®å¤„ç†:</strong> å¯ä»¥åœ¨æ¶ˆè´¹ MQ æ¶ˆæ¯çš„è¿‡ç¨‹ä¸­è¿›è¡Œæ•°æ®æ¸…æ´—ã€è½¬æ¢ç­‰æ“ä½œï¼Œä¾‹å¦‚æ•°æ®æ ¼å¼åŒ–ã€å­—æ®µæ˜ å°„ç­‰ã€‚</li>
<li><strong>ç³»ç»Ÿè§£è€¦:</strong> Canal å’Œ Elasticsearch ä¹‹é—´ä¸å†ç›´æ¥ä¾èµ–ï¼Œæé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li>
</ul>
<p>å¼•å…¥ MQ åï¼ŒMySQL æ•°æ®åŒæ­¥åˆ° Elasticsearch çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b078b65f78a484794e2cda1af5a6a7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765863580&amp;x-signature=6hBJKgojM5vVdJ9ib4cGH%2B4yZNE%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>ç›‘å¬è§£æ:</strong> Canal è¯»å– binlogï¼Œè§£æå˜æ›´äº‹ä»¶ã€‚</li>
<li><strong>å‘é€æ¶ˆæ¯:</strong> Canal å°†äº‹ä»¶å°è£…æˆæ¶ˆæ¯å‘é€åˆ° MQã€‚</li>
<li><strong>æ¶ˆè´¹æ¶ˆæ¯:</strong> æ¶ˆè´¹ç«¯ç›‘å¬ MQï¼Œè·å–å˜æ›´æ¶ˆæ¯ã€‚</li>
<li><strong>åŒæ­¥æ•°æ®:</strong> æ¶ˆè´¹ç«¯å¤„ç†æ¶ˆæ¯ï¼Œæ›´æ–° Elasticsearch ç´¢å¼•ã€‚</li>
</ol>
<p>Canal ä» 1.1.1 ç‰ˆæœ¬å¼€å§‹ï¼Œé»˜è®¤æ”¯æŒå°†æ¥æ”¶åˆ°çš„ binlog æ•°æ®ç›´æ¥æŠ•é€’åˆ° MQï¼Œç®€åŒ–äº†é›†æˆæµç¨‹ã€‚ ä½ åªéœ€è¦é…ç½® Canal è¿æ¥ MQ çš„ç›¸å…³ä¿¡æ¯ï¼Œå³å¯å®ç° Canal ä¸ MQ çš„è”åŠ¨ã€‚</p>
<h3 data-id="heading-6">é¡¹ç›®éš¾ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>STAR æ³•åˆ™</strong> æ˜¯ä»‹ç»é¡¹ç›®ç»éªŒçš„é»„é‡‘æ³•åˆ™ï¼š</p>
<ul>
<li><strong>Situation (èƒŒæ™¯):</strong> â€œæˆ‘å‚ä¸çš„é¡¹ç›®æ˜¯ Xï¼ˆæ¯”å¦‚ï¼Œä¸€ä¸ªç”µå•†ç§’æ€ç³»ç»Ÿ/ä¸€ä¸ªå†…å®¹æ¨èå¹³å°/ä¸€ä¸ªå†…éƒ¨ç®¡ç†ç³»ç»Ÿï¼‰ã€‚è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦ç›®æ ‡æ˜¯è§£å†³ Y é—®é¢˜ï¼ˆæ¯”å¦‚ï¼Œåº”å¯¹é«˜å¹¶å‘æŠ¢è´­/æå‡ç”¨æˆ·ç‚¹å‡»ç‡/æé«˜ç®¡ç†æ•ˆç‡ï¼‰ã€‚â€</li>
<li><strong>Task (ä»»åŠ¡):</strong> â€œæˆ‘åœ¨å…¶ä¸­ä¸»è¦è´Ÿè´£ Z æ¨¡å—ï¼ˆæ¯”å¦‚ï¼Œè®¢å•å¤„ç†æ¨¡å—/æ¨èç®—æ³•å®ç°/æƒé™ç®¡ç†éƒ¨åˆ†ï¼‰çš„å¼€å‘å’Œç»´æŠ¤ã€‚â€</li>
<li><strong>Action (è¡ŒåŠ¨ - é‡ç‚¹è®²éš¾ç‚¹å’Œè§£å†³):</strong> â€œé¡¹ç›®ä¸­é‡åˆ°çš„ä¸€ä¸ªä¸»è¦æŒ‘æˆ˜æ˜¯ Aï¼ˆæ¯”å¦‚ï¼Œç§’æ€åœºæ™¯ä¸‹çš„åº“å­˜è¶…å–é—®é¢˜/æ¨èæ¥å£å“åº”æ—¶é—´è¿‡é•¿/å¤æ‚çš„æƒé™æ ¡éªŒé€»è¾‘ï¼‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘/æˆ‘ä»¬é‡‡å–äº†ä»¥ä¸‹æªæ–½ï¼š1.ï¼ˆæ¯”å¦‚ï¼Œå¼•å…¥ Redis åˆ†å¸ƒå¼é”æ§åˆ¶åº“å­˜æ‰£å‡çš„åŸå­æ€§ï¼‰ï¼›2.ï¼ˆæ¯”å¦‚ï¼Œå¯¹æ¨èç®—æ³•è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶ä½¿ç”¨ç¼“å­˜å‡å°‘è®¡ç®—é‡ï¼‰ï¼›3.ï¼ˆæ¯”å¦‚ï¼Œè®¾è®¡äº†åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶æ¨¡å‹ RBACï¼Œå¹¶è¿›è¡Œäº†ç»†ç²’åº¦çš„æƒé™è®¾è®¡ï¼‰ã€‚æˆ‘å…·ä½“åšäº† Bï¼ˆæ¯”å¦‚ï¼Œè´Ÿè´£é”æ–¹æ¡ˆçš„è°ƒç ”å’Œç¼–ç å®ç°/ä¼˜åŒ–äº†éƒ¨åˆ†ç®—æ³•é€»è¾‘/è®¾è®¡å¹¶å®ç°äº†æƒé™æ ¡éªŒçš„æ ¸å¿ƒä»£ç ï¼‰ã€‚â€</li>
<li><strong>Result (ç»“æœ):</strong> â€œé€šè¿‡è¿™äº›åŠªåŠ›ï¼Œæˆ‘ä»¬æˆåŠŸè§£å†³äº† A é—®é¢˜ï¼Œæœ€ç»ˆæ•ˆæœæ˜¯ Cï¼ˆæ¯”å¦‚ï¼Œç§’æ€æˆåŠŸç‡æå‡äº† X%ï¼Œæ¥å£ RT é™ä½äº† Y msï¼Œç³»ç»Ÿå®‰å…¨æ€§å¾—åˆ°äº†ä¿éšœï¼‰ï¼Œé¡¹ç›®ä¹Ÿé¡ºåˆ©ä¸Šçº¿/è¾¾åˆ°äº†é¢„æœŸç›®æ ‡ã€‚é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æ·±å…¥å­¦ä¹ äº† D æŠ€æœ¯ï¼ˆæ¯”å¦‚ï¼Œåˆ†å¸ƒå¼é”çš„åº”ç”¨/æ€§èƒ½è°ƒä¼˜æ–¹æ³•/å¤æ‚ä¸šåŠ¡é€»è¾‘çš„è®¾è®¡ï¼‰ï¼Œä¹Ÿæå‡äº† E èƒ½åŠ›ï¼ˆæ¯”å¦‚ï¼Œè§£å†³å¤æ‚é—®é¢˜çš„èƒ½åŠ›/å›¢é˜Ÿåä½œèƒ½åŠ›ï¼‰ã€‚â€</li>
</ul>
<p>é’ˆå¯¹è‡ªå·±ç®€å†ä¸Šçš„æ¯ä¸ªé¡¹ç›®ï¼Œè‡³å°‘å‡†å¤‡ 1-2 ä¸ªæœ‰æŠ€æœ¯å«é‡æˆ–ä¸šåŠ¡å¤æ‚åº¦çš„éš¾ç‚¹ï¼Œæƒ³æ¸…æ¥šè§£å†³è¿‡ç¨‹å’Œç»“æœã€‚ä¸è¦åªè¯´åŠŸèƒ½å®ç°ï¼Œè¦çªå‡ºæŠ€æœ¯é€‰å‹ã€ä¼˜åŒ–æ€è·¯å’Œé‡åˆ°çš„æŒ‘æˆ˜ã€‚</p>
<h2 data-id="heading-7">Java</h2>
<h3 data-id="heading-8">ä¸ºä»€ä¹ˆè¦ç”¨çº¿ç¨‹æ± ï¼Ÿ</h3>
<p>æ± åŒ–æŠ€æœ¯æƒ³å¿…å¤§å®¶å·²ç»å±¡è§ä¸é²œäº†ï¼Œçº¿ç¨‹æ± ã€æ•°æ®åº“è¿æ¥æ± ã€HTTP è¿æ¥æ± ç­‰ç­‰éƒ½æ˜¯å¯¹è¿™ä¸ªæ€æƒ³çš„åº”ç”¨ã€‚æ± åŒ–æŠ€æœ¯çš„æ€æƒ³ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘æ¯æ¬¡è·å–èµ„æºçš„æ¶ˆè€—ï¼Œæé«˜å¯¹èµ„æºçš„åˆ©ç”¨ç‡ã€‚</p>
<p>çº¿ç¨‹æ± æä¾›äº†ä¸€ç§é™åˆ¶å’Œç®¡ç†èµ„æºï¼ˆåŒ…æ‹¬æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼‰çš„æ–¹å¼ã€‚ æ¯ä¸ªçº¿ç¨‹æ± è¿˜ç»´æŠ¤ä¸€äº›åŸºæœ¬ç»Ÿè®¡ä¿¡æ¯ï¼Œä¾‹å¦‚å·²å®Œæˆä»»åŠ¡çš„æ•°é‡ã€‚ä½¿ç”¨çº¿ç¨‹æ± ä¸»è¦å¸¦æ¥ä»¥ä¸‹å‡ ä¸ªå¥½å¤„ï¼š</p>
<ol>
<li><strong>é™ä½èµ„æºæ¶ˆè€—</strong>ï¼šçº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹æ˜¯å¯ä»¥é‡å¤åˆ©ç”¨çš„ã€‚ä¸€æ—¦çº¿ç¨‹å®Œæˆäº†æŸä¸ªä»»åŠ¡ï¼Œå®ƒä¸ä¼šç«‹å³é”€æ¯ï¼Œè€Œæ˜¯å›åˆ°æ± å­é‡Œç­‰å¾…ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚è¿™å°±é¿å…äº†é¢‘ç¹åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹å¸¦æ¥çš„å¼€é”€ã€‚</li>
<li><strong>æé«˜å“åº”é€Ÿåº¦</strong>ï¼šå› ä¸ºçº¿ç¨‹æ± é‡Œé€šå¸¸ä¼šç»´æŠ¤ä¸€å®šæ•°é‡çš„æ ¸å¿ƒçº¿ç¨‹ï¼ˆæˆ–è€…è¯´â€œå¸¸é©»å·¥äººâ€ï¼‰ï¼Œä»»åŠ¡æ¥äº†ä¹‹åï¼Œå¯ä»¥ç›´æ¥äº¤ç»™è¿™äº›å·²ç»å­˜åœ¨çš„ã€ç©ºé—²çš„çº¿ç¨‹å»æ‰§è¡Œï¼Œçœå»äº†åˆ›å»ºçº¿ç¨‹çš„æ—¶é—´ï¼Œä»»åŠ¡èƒ½å¤Ÿæ›´å¿«åœ°å¾—åˆ°å¤„ç†ã€‚</li>
<li><strong>æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§</strong>ï¼šçº¿ç¨‹æ± å…è®¸æˆ‘ä»¬ç»Ÿä¸€ç®¡ç†æ± ä¸­çš„çº¿ç¨‹ã€‚æˆ‘ä»¬å¯ä»¥é…ç½®çº¿ç¨‹æ± çš„å¤§å°ï¼ˆæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ï¼‰ã€ä»»åŠ¡é˜Ÿåˆ—çš„ç±»å‹å’Œå¤§å°ã€æ‹’ç»ç­–ç•¥ç­‰ã€‚è¿™æ ·å°±èƒ½æ§åˆ¶å¹¶å‘çº¿ç¨‹çš„æ€»é‡ï¼Œé˜²æ­¢èµ„æºè€—å°½ï¼Œä¿è¯ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚åŒæ—¶ï¼Œçº¿ç¨‹æ± é€šå¸¸ä¹Ÿæä¾›äº†ç›‘æ§æ¥å£ï¼Œæ–¹ä¾¿æˆ‘ä»¬äº†è§£çº¿ç¨‹æ± çš„è¿è¡ŒçŠ¶æ€ï¼ˆæ¯”å¦‚æœ‰å¤šå°‘æ´»è·ƒçº¿ç¨‹ã€å¤šå°‘ä»»åŠ¡åœ¨æ’é˜Ÿç­‰ï¼‰ï¼Œä¾¿äºè°ƒä¼˜ã€‚</li>
</ol>
<h3 data-id="heading-9">å†…ç½®çº¿ç¨‹æ± ç”¨è¿‡å—ï¼Ÿ</h3>
<p>åœ¨ã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹â€œå¹¶å‘å¤„ç†â€è¿™ä¸€ç« èŠ‚ï¼Œæ˜ç¡®æŒ‡å‡ºçº¿ç¨‹èµ„æºå¿…é¡»é€šè¿‡çº¿ç¨‹æ± æä¾›ï¼Œä¸å…è®¸åœ¨åº”ç”¨ä¸­è‡ªè¡Œæ˜¾å¼åˆ›å»ºçº¿ç¨‹ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</strong></p>
<blockquote>
<p>ä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„æ˜¯å‡å°‘åœ¨åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹ä¸Šæ‰€æ¶ˆè€—çš„æ—¶é—´ä»¥åŠç³»ç»Ÿèµ„æºå¼€é”€ï¼Œè§£å†³èµ„æºä¸è¶³çš„é—®é¢˜ã€‚å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹æ± ï¼Œæœ‰å¯èƒ½ä¼šé€ æˆç³»ç»Ÿåˆ›å»ºå¤§é‡åŒç±»çº¿ç¨‹è€Œå¯¼è‡´æ¶ˆè€—å®Œå†…å­˜æˆ–è€…â€œè¿‡åº¦åˆ‡æ¢â€çš„é—®é¢˜ã€‚</p>
</blockquote>
<p>å¦å¤–ï¼Œã€Šé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œã€‹ä¸­å¼ºåˆ¶çº¿ç¨‹æ± ä¸å…è®¸ä½¿ç”¨ <code>Executors</code> å»åˆ›å»ºï¼Œè€Œæ˜¯é€šè¿‡ <code>ThreadPoolExecutor</code> æ„é€ å‡½æ•°çš„æ–¹å¼ï¼Œè¿™æ ·çš„å¤„ç†æ–¹å¼è®©å†™çš„åŒå­¦æ›´åŠ æ˜ç¡®çº¿ç¨‹æ± çš„è¿è¡Œè§„åˆ™ï¼Œè§„é¿èµ„æºè€—å°½çš„é£é™©</p>
<p><code>Executors</code> è¿”å›çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹(åæ–‡ä¼šè¯¦ç»†ä»‹ç»åˆ°)ï¼š</p>
<ul>
<li><code>FixedThreadPool</code> å’Œ <code>SingleThreadExecutor</code>:ä½¿ç”¨çš„æ˜¯é˜»å¡é˜Ÿåˆ— <code>LinkedBlockingQueue</code>ï¼Œä»»åŠ¡é˜Ÿåˆ—æœ€å¤§é•¿åº¦ä¸º <code>Integer.MAX_VALUE</code>ï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ— ç•Œçš„ï¼Œå¯èƒ½å †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ OOMã€‚</li>
<li><code>CachedThreadPool</code>:ä½¿ç”¨çš„æ˜¯åŒæ­¥é˜Ÿåˆ— <code>SynchronousQueue</code>, å…è®¸åˆ›å»ºçš„çº¿ç¨‹æ•°é‡ä¸º <code>Integer.MAX_VALUE</code> ï¼Œå¦‚æœä»»åŠ¡æ•°é‡è¿‡å¤šä¸”æ‰§è¡Œé€Ÿåº¦è¾ƒæ…¢ï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´ OOMã€‚</li>
<li><code>ScheduledThreadPool</code> å’Œ <code>SingleThreadScheduledExecutor</code>:ä½¿ç”¨çš„æ— ç•Œçš„å»¶è¿Ÿé˜»å¡é˜Ÿåˆ—<code>DelayedWorkQueue</code>ï¼Œä»»åŠ¡é˜Ÿåˆ—æœ€å¤§é•¿åº¦ä¸º <code>Integer.MAX_VALUE</code>,å¯èƒ½å †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ OOMã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-title function_">newFixedThreadPool</span><span class="hljs-params">(<span class="hljs-type">int</span> nThreads)</span> {
    <span class="hljs-comment">// LinkedBlockingQueue çš„é»˜è®¤é•¿åº¦ä¸º Integer.MAX_VALUEï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ— ç•Œçš„</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(nThreads, nThreads,<span class="hljs-number">0L</span>, TimeUnit.MILLISECONDS,<span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;Runnable&gt;());

}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-title function_">newSingleThreadExecutor</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// LinkedBlockingQueue çš„é»˜è®¤é•¿åº¦ä¸º Integer.MAX_VALUEï¼Œå¯ä»¥çœ‹ä½œæ˜¯æ— ç•Œçš„</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FinalizableDelegatedExecutorService</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>,<span class="hljs-number">0L</span>, TimeUnit.MILLISECONDS,<span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;Runnable&gt;()));

}

<span class="hljs-comment">// åŒæ­¥é˜Ÿåˆ— SynchronousQueueï¼Œæ²¡æœ‰å®¹é‡ï¼Œæœ€å¤§çº¿ç¨‹æ•°æ˜¯ Integer.MAX_VALUE`</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-title function_">newCachedThreadPool</span><span class="hljs-params">()</span> {

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(<span class="hljs-number">0</span>, Integer.MAX_VALUE,<span class="hljs-number">60L</span>, TimeUnit.SECONDS,<span class="hljs-keyword">new</span> <span class="hljs-title class_">SynchronousQueue</span>&lt;Runnable&gt;());

}

<span class="hljs-comment">// DelayedWorkQueueï¼ˆå»¶è¿Ÿé˜»å¡é˜Ÿåˆ—ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ScheduledExecutorService <span class="hljs-title function_">newScheduledThreadPool</span><span class="hljs-params">(<span class="hljs-type">int</span> corePoolSize)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScheduledThreadPoolExecutor</span>(corePoolSize);
}
<span class="hljs-keyword">public</span> <span class="hljs-title function_">ScheduledThreadPoolExecutor</span><span class="hljs-params">(<span class="hljs-type">int</span> corePoolSize)</span> {
    <span class="hljs-built_in">super</span>(corePoolSize, Integer.MAX_VALUE, <span class="hljs-number">0</span>, NANOSECONDS,
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayedWorkQueue</span>());
}
</code></pre>
<h3 data-id="heading-10">çº¿ç¨‹æ± å¤„ç†ä»»åŠ¡çš„æµç¨‹æ˜¯ï¼Ÿ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db2955176eeb41c2b346617cd6b67da0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765863580&amp;x-signature=3ZtTH4KLnGzz9jjiUcX6VzSQZtM%3D" alt="å›¾è§£çº¿ç¨‹æ± å®ç°åŸç†" loading="lazy"/></p>
<ol>
<li>å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±ä¼šæ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li>å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°ç­‰äºæˆ–å¤§äºæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œä½†æ˜¯å°äºæœ€å¤§çº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå°±æŠŠè¯¥ä»»åŠ¡æ”¾å…¥åˆ°ä»»åŠ¡é˜Ÿåˆ—é‡Œç­‰å¾…æ‰§è¡Œã€‚</li>
<li>å¦‚æœå‘ä»»åŠ¡é˜Ÿåˆ—æŠ•æ”¾ä»»åŠ¡å¤±è´¥ï¼ˆä»»åŠ¡é˜Ÿåˆ—å·²ç»æ»¡äº†ï¼‰ï¼Œä½†æ˜¯å½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°æ˜¯å°äºæœ€å¤§çº¿ç¨‹æ•°çš„ï¼Œå°±æ–°å»ºä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ã€‚</li>
<li>å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å·²ç»ç­‰åŒäºæœ€å¤§çº¿ç¨‹æ•°äº†ï¼Œæ–°å»ºçº¿ç¨‹å°†ä¼šä½¿å½“å‰è¿è¡Œçš„çº¿ç¨‹è¶…å‡ºæœ€å¤§çº¿ç¨‹æ•°ï¼Œé‚£ä¹ˆå½“å‰ä»»åŠ¡ä¼šè¢«æ‹’ç»ï¼Œæ‹’ç»ç­–ç•¥ä¼šè°ƒç”¨<code>RejectedExecutionHandler.rejectedExecution()</code>æ–¹æ³•ã€‚</li>
</ol>
<p>å†æä¸€ä¸ªæœ‰æ„æ€çš„å°é—®é¢˜ï¼š<strong>çº¿ç¨‹æ± åœ¨æäº¤ä»»åŠ¡å‰ï¼Œå¯ä»¥æå‰åˆ›å»ºçº¿ç¨‹å—ï¼Ÿ</strong></p>
<p>ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼<code>ThreadPoolExecutor</code> æä¾›äº†ä¸¤ä¸ªæ–¹æ³•å¸®åŠ©æˆ‘ä»¬åœ¨æäº¤ä»»åŠ¡ä¹‹å‰ï¼Œå®Œæˆæ ¸å¿ƒçº¿ç¨‹çš„åˆ›å»ºï¼Œä»è€Œå®ç°çº¿ç¨‹æ± é¢„çƒ­çš„æ•ˆæœï¼š</p>
<ul>
<li><code>prestartCoreThread()</code>:å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œç­‰å¾…ä»»åŠ¡ï¼Œå¦‚æœå·²è¾¾åˆ°æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å› falseï¼Œå¦åˆ™è¿”å› trueï¼›</li>
<li><code>prestartAllCoreThreads()</code>:å¯åŠ¨æ‰€æœ‰çš„æ ¸å¿ƒçº¿ç¨‹ï¼Œå¹¶è¿”å›å¯åŠ¨æˆåŠŸçš„æ ¸å¿ƒçº¿ç¨‹æ•°ã€‚</li>
</ul>
<h3 data-id="heading-11">å¦‚ä½•è·¨çº¿ç¨‹ä¼ é€’ ThreadLocal çš„å€¼ï¼Ÿ</h3>
<p>ç”±äº <code>ThreadLocal</code> çš„å˜é‡å€¼å­˜æ”¾åœ¨ <code>Thread</code> é‡Œï¼Œè€Œçˆ¶å­çº¿ç¨‹å±äºä¸åŒçš„ <code>Thread</code> çš„ã€‚å› æ­¤åœ¨å¼‚æ­¥åœºæ™¯ä¸‹ï¼Œçˆ¶å­çº¿ç¨‹çš„ <code>ThreadLocal</code> å€¼æ— æ³•è¿›è¡Œä¼ é€’ã€‚</p>
<p>å¦‚æœæƒ³è¦åœ¨å¼‚æ­¥åœºæ™¯ä¸‹ä¼ é€’ <code>ThreadLocal</code> å€¼ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><code>InheritableThreadLocal</code> ï¼š<code>InheritableThreadLocal</code> æ˜¯ JDK1.2 æä¾›çš„å·¥å…·ï¼Œç»§æ‰¿è‡ª <code>ThreadLocal</code> ã€‚ä½¿ç”¨ <code>InheritableThreadLocal</code> æ—¶ï¼Œä¼šåœ¨åˆ›å»ºå­çº¿ç¨‹æ—¶ï¼Œä»¤å­çº¿ç¨‹ç»§æ‰¿çˆ¶çº¿ç¨‹ä¸­çš„ <code>ThreadLocal</code> å€¼ï¼Œä½†æ˜¯æ— æ³•æ”¯æŒçº¿ç¨‹æ± åœºæ™¯ä¸‹çš„ <code>ThreadLocal</code> å€¼ä¼ é€’ã€‚</li>
<li><code>TransmittableThreadLocal</code> ï¼š <code>TransmittableThreadLocal</code> ï¼ˆç®€ç§° TTLï¼‰ æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„å·¥å…·ç±»ï¼Œç»§æ‰¿å¹¶åŠ å¼ºäº†<code>InheritableThreadLocal</code>ç±»ï¼Œå¯ä»¥åœ¨çº¿ç¨‹æ± çš„åœºæ™¯ä¸‹æ”¯æŒ <code>ThreadLocal</code> å€¼ä¼ é€’ã€‚é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Ftransmittable-thread-local%25E3%2580%2582" target="_blank" title="https://github.com/alibaba/transmittable-thread-local%E3%80%82" ref="nofollow noopener noreferrer">github.com/alibaba/traâ€¦</a></li>
</ul>
<h4 data-id="heading-12">InheritableThreadLocal åŸç†</h4>
<p><code>InheritableThreadLocal</code> å®ç°äº†åˆ›å»ºå¼‚æ­¥çº¿ç¨‹æ—¶ï¼Œç»§æ‰¿çˆ¶çº¿ç¨‹ <code>ThreadLocal</code> å€¼çš„åŠŸèƒ½ã€‚è¯¥ç±»æ˜¯ JDK å›¢é˜Ÿæä¾›çš„ï¼Œé€šè¿‡æ”¹é€  JDK æºç åŒ…ä¸­çš„ <code>Thread</code> ç±»æ¥å®ç°åˆ›å»ºçº¿ç¨‹æ—¶ï¼Œ<code>ThreadLocal</code> å€¼çš„ä¼ é€’ã€‚</p>
<p><strong><code>InheritableThreadLocal</code> çš„å€¼å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ</strong></p>
<p>åœ¨ <code>Thread</code> ç±»ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ <code>ThreadLocalMap</code> ï¼Œå‘½åä¸º <code>inheritableThreadLocals</code> ï¼Œè¯¥å˜é‡ç”¨äºå­˜å‚¨éœ€è¦è·¨çº¿ç¨‹ä¼ é€’çš„ <code>ThreadLocal</code> å€¼ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-JAVA" lang="JAVA"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Thread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    ThreadLocal.<span class="hljs-type">ThreadLocalMap</span> <span class="hljs-variable">threadLocals</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    ThreadLocal.<span class="hljs-type">ThreadLocalMap</span> <span class="hljs-variable">inheritableThreadLocals</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<p><strong>å¦‚ä½•å®Œæˆ <code>ThreadLocal</code> å€¼çš„ä¼ é€’ï¼Ÿ</strong></p>
<p>é€šè¿‡æ”¹é€  <code>Thread</code> ç±»çš„æ„é€ æ–¹æ³•æ¥å®ç°ï¼Œåœ¨åˆ›å»º <code>Thread</code> çº¿ç¨‹æ—¶ï¼Œæ‹¿åˆ°çˆ¶çº¿ç¨‹çš„ <code>inheritableThreadLocals</code> å˜é‡èµ‹å€¼ç»™å­çº¿ç¨‹å³å¯ã€‚ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-JAVA" lang="JAVA"><span class="hljs-comment">// Thread çš„æ„é€ æ–¹æ³•ä¼šè°ƒç”¨ init() æ–¹æ³•</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(<span class="hljs-comment">/* ... */</span>)</span> {
  <span class="hljs-comment">// 1ã€è·å–çˆ¶çº¿ç¨‹</span>
    <span class="hljs-type">Thread</span> <span class="hljs-variable">parent</span> <span class="hljs-operator">=</span> currentThread();
    <span class="hljs-comment">// 2ã€å°†çˆ¶çº¿ç¨‹çš„ inheritableThreadLocals èµ‹å€¼ç»™å­çº¿ç¨‹</span>
    <span class="hljs-keyword">if</span> (inheritThreadLocals &amp;&amp; parent.inheritableThreadLocals != <span class="hljs-literal">null</span>)
        <span class="hljs-built_in">this</span>.inheritableThreadLocals =
          ThreadLocal.createInheritedMap(parent.inheritableThreadLocals);
}
</code></pre>
<h4 data-id="heading-13">TransmittableThreadLocal åŸç†</h4>
<p>JDK é»˜è®¤æ²¡æœ‰æ”¯æŒçº¿ç¨‹æ± åœºæ™¯ä¸‹ <code>ThreadLocal</code> å€¼ä¼ é€’çš„åŠŸèƒ½ï¼Œå› æ­¤é˜¿é‡Œå·´å·´å¼€æºäº†ä¸€å¥—å·¥å…· <code>TransmittableThreadLocal</code> æ¥å®ç°è¯¥åŠŸèƒ½ã€‚</p>
<p>é˜¿é‡Œå·´å·´æ— æ³•æ”¹åŠ¨ JDK çš„æºç ï¼Œå› æ­¤ä»–å†…éƒ¨é€šè¿‡ <strong>è£…é¥°å™¨æ¨¡å¼</strong> åœ¨åŸæœ‰çš„åŠŸèƒ½ä¸Šåšå¢å¼ºï¼Œä»¥æ­¤æ¥å®ç°çº¿ç¨‹æ± åœºæ™¯ä¸‹çš„ <code>ThreadLocal</code> å€¼ä¼ é€’ã€‚</p>
<p>TTL æ”¹é€ çš„åœ°æ–¹æœ‰ä¸¤å¤„ï¼š</p>
<ul>
<li>å®ç°è‡ªå®šä¹‰çš„ <code>Thread</code> ï¼Œåœ¨ <code>run()</code> æ–¹æ³•å†…éƒ¨åš <code>ThreadLocal</code> å˜é‡çš„èµ‹å€¼æ“ä½œã€‚</li>
<li>åŸºäº <strong>çº¿ç¨‹æ± </strong> è¿›è¡Œè£…é¥°ï¼Œåœ¨ <code>execute()</code> æ–¹æ³•ä¸­ï¼Œä¸æäº¤ JDK å†…éƒ¨çš„ <code>Thread</code> ï¼Œè€Œæ˜¯æäº¤è‡ªå®šä¹‰çš„ <code>Thread</code> ã€‚</li>
</ul>
<p>å¦‚æœæƒ³è¦æŸ¥çœ‹ç›¸å…³æºç ï¼Œå¯ä»¥å¼•å…¥ Maven ä¾èµ–è¿›è¡Œä¸‹è½½ã€‚</p>
<pre><code class="hljs language-XML" lang="XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>transmittable-thread-local<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.12.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-14">åº”ç”¨åœºæ™¯</h4>
<ol>
<li><strong>å‹æµ‹æµé‡æ ‡è®°</strong>ï¼š åœ¨å‹æµ‹åœºæ™¯ä¸­ï¼Œä½¿ç”¨ <code>ThreadLocal</code> å­˜å‚¨å‹æµ‹æ ‡è®°ï¼Œç”¨äºåŒºåˆ†å‹æµ‹æµé‡å’ŒçœŸå®æµé‡ã€‚å¦‚æœæ ‡è®°ä¸¢å¤±ï¼Œå¯èƒ½å¯¼è‡´å‹æµ‹æµé‡è¢«é”™è¯¯åœ°å½“æˆçº¿ä¸Šæµé‡å¤„ç†ã€‚</li>
<li><strong>ä¸Šä¸‹æ–‡ä¼ é€’</strong>ï¼šåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¼ é€’é“¾è·¯è¿½è¸ªä¿¡æ¯ï¼ˆå¦‚ Trace IDï¼‰æˆ–ç”¨æˆ·ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</li>
</ol>
<p>æ›´å¤š Java  é«˜é¢‘çŸ¥è¯†ç‚¹å’Œé¢è¯•é¢˜ï¼Œå¯ä»¥é˜…è¯»ç¬”è€…å†™çš„è¿™å‡ ç¯‡æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fjava%2Fconcurrent%2Fjava-concurrent-questions-01.html" target="_blank" title="https://javaguide.cn/java/concurrent/java-concurrent-questions-01.html" ref="nofollow noopener noreferrer">Javaå¹¶å‘å¸¸è§é¢è¯•é¢˜æ€»ç»“ï¼ˆä¸Šï¼‰</a>ï¼ˆå¤šçº¿ç¨‹åŸºç¡€çŸ¥è¯†ï¼Œä¾‹å¦‚çº¿ç¨‹å’Œè¿›ç¨‹çš„æ¦‚å¿µã€æ­»é”ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fjava%2Fconcurrent%2Fjava-concurrent-questions-02.html" target="_blank" title="https://javaguide.cn/java/concurrent/java-concurrent-questions-02.html" ref="nofollow noopener noreferrer">Javaå¹¶å‘å¸¸è§é¢è¯•é¢˜æ€»ç»“ï¼ˆä¸­ï¼‰</a>ï¼ˆå„ç§é”ï¼Œä¾‹å¦‚ä¹è§‚é”å’Œæ‚²è§‚é”ã€<code>synchronized</code>å…³é”®å­—ã€<code>ReentrantLock</code>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fjava%2Fconcurrent%2Fjava-concurrent-questions-03.html" target="_blank" title="https://javaguide.cn/java/concurrent/java-concurrent-questions-03.html" ref="nofollow noopener noreferrer">Javaå¹¶å‘å¸¸è§é¢è¯•é¢˜æ€»ç»“ï¼ˆä¸‹ï¼‰</a>(<code>ThreadLocal</code>ã€çº¿ç¨‹æ± ã€<code>Future</code>ã€AQSã€è™šæ‹Ÿçº¿ç¨‹ç­‰)</li>
</ul>
<h3 data-id="heading-15">åˆ—ä¸¾ä½ çŸ¥é“çš„åƒåœ¾æ”¶é›†å™¨</h3>
<p>Serialã€Serial Oldã€ParNewã€Parallel Scavengeã€Parallel Oldã€CMSã€G1ã€ZGCã€‚</p>
<h3 data-id="heading-16">ZGC æ˜¯é»˜è®¤çš„å—ï¼Ÿ</h3>
<p>ZGC åœ¨ Java11 ä¸­å¼•å…¥ï¼Œå¤„äºè¯•éªŒé˜¶æ®µã€‚ç»è¿‡å¤šä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼Œä¸æ–­çš„å®Œå–„å’Œä¿®å¤é—®é¢˜ï¼ŒZGC åœ¨ Java15 å·²ç»å¯ä»¥æ­£å¼ä½¿ç”¨äº†ã€‚</p>
<p>ä¸è¿‡ï¼Œé»˜è®¤çš„åƒåœ¾å›æ”¶å™¨ä¾ç„¶æ˜¯ G1ã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‚æ•°å¯ç”¨ ZGCï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -XX:+UseZGC className
</code></pre>
<p>åœ¨ Java21 ä¸­ï¼Œå¼•å…¥äº†åˆ†ä»£ ZGCï¼Œæš‚åœæ—¶é—´å¯ä»¥ç¼©çŸ­åˆ° 1 æ¯«ç§’ä»¥å†…ã€‚</p>
<p>ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‚æ•°å¯ç”¨åˆ†ä»£ ZGCï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -XX:+UseZGC -XX:+ZGenerational className
</code></pre>
<h2 data-id="heading-17">MySQL</h2>
<h3 data-id="heading-18">ä¸å¯é‡å¤è¯»</h3>
<p>ä¸å¯é‡å¤è¯»ï¼ˆUnrepeatable readï¼‰æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡å†…å¤šæ¬¡è¯»åŒä¸€æ•°æ®ã€‚åœ¨è¿™ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰ç»“æŸæ—¶ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¯¥æ•°æ®ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸¤æ¬¡è¯»æ•°æ®ä¹‹é—´ï¼Œç”±äºç¬¬äºŒä¸ªäº‹åŠ¡çš„ä¿®æ”¹å¯¼è‡´ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸¤æ¬¡è¯»å–çš„æ•°æ®å¯èƒ½ä¸å¤ªä¸€æ ·ã€‚è¿™å°±å‘ç”Ÿäº†åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„æƒ…å†µï¼Œå› æ­¤ç§°ä¸ºä¸å¯é‡å¤è¯»ã€‚</p>
<p>ä¾‹å¦‚ï¼šäº‹åŠ¡ 1 è¯»å–æŸè¡¨ä¸­çš„æ•°æ® A=20ï¼Œäº‹åŠ¡ 2 ä¹Ÿè¯»å– A=20ï¼Œäº‹åŠ¡ 1 ä¿®æ”¹ A=A-1ï¼Œäº‹åŠ¡ 2 å†æ¬¡è¯»å– A =19ï¼Œæ­¤æ—¶è¯»å–çš„ç»“æœå’Œç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœä¸åŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccc92883de374eb0bbfdca5f584cbca6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765863580&amp;x-signature=g9tuIBAzFZhzI10Uas3YNn6bP1I%3D" alt="ä¸å¯é‡å¤è¯»" loading="lazy"/></p>
<h3 data-id="heading-19">ä¸å¯é‡å¤è¯»å’Œå¹»è¯»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3>
<ul>
<li>ä¸å¯é‡å¤è¯»çš„é‡ç‚¹æ˜¯å†…å®¹ä¿®æ”¹æˆ–è€…è®°å½•å‡å°‘æ¯”å¦‚å¤šæ¬¡è¯»å–ä¸€æ¡è®°å½•å‘ç°å…¶ä¸­æŸäº›è®°å½•çš„å€¼è¢«ä¿®æ”¹ï¼›</li>
<li>å¹»è¯»çš„é‡ç‚¹åœ¨äºè®°å½•æ–°å¢æ¯”å¦‚å¤šæ¬¡æ‰§è¡ŒåŒä¸€æ¡æŸ¥è¯¢è¯­å¥ï¼ˆDQLï¼‰æ—¶ï¼Œå‘ç°æŸ¥åˆ°çš„è®°å½•å¢åŠ äº†ã€‚</li>
</ul>
<p>å¹»è¯»å…¶å®å¯ä»¥çœ‹ä½œæ˜¯ä¸å¯é‡å¤è¯»çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå•ç‹¬æŠŠå¹»è¯»åŒºåˆ†å‡ºæ¥çš„åŸå› ä¸»è¦æ˜¯è§£å†³å¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„æ–¹æ¡ˆä¸ä¸€æ ·ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šæ‰§è¡Œ <code>delete</code> å’Œ <code>update</code> æ“ä½œçš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥å¯¹è®°å½•åŠ é”ï¼Œä¿è¯äº‹åŠ¡å®‰å…¨ã€‚è€Œæ‰§è¡Œ <code>insert</code> æ“ä½œçš„æ—¶å€™ï¼Œç”±äºè®°å½•é”ï¼ˆRecord Lockï¼‰åªèƒ½é”ä½å·²ç»å­˜åœ¨çš„è®°å½•ï¼Œä¸ºäº†é¿å…æ’å…¥æ–°è®°å½•ï¼Œéœ€è¦ä¾èµ–é—´éš™é”ï¼ˆGap Lockï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´æ‰§è¡Œ <code>insert</code> æ“ä½œçš„æ—¶å€™éœ€è¦ä¾èµ– Next-Key Lockï¼ˆRecord Lock+Gap Lockï¼‰ è¿›è¡ŒåŠ é”æ¥ä¿è¯ä¸å‡ºç°å¹»è¯»ã€‚</p>
<h3 data-id="heading-20">InnoDB çš„ REPEATABLE READ éš”ç¦»çº§åˆ«èƒ½è§£å†³å¹»è¯»å—ï¼Ÿ</h3>
<p>æ ‡å‡†çš„ SQL éš”ç¦»çº§åˆ«å®šä¹‰é‡Œï¼ŒREPEATABLE READ æ˜¯æ— æ³•é˜²æ­¢å¹»è¯»çš„ã€‚ä½† InnoDB çš„å®ç°é€šè¿‡ä»¥ä¸‹æœºåˆ¶å¾ˆå¤§ç¨‹åº¦ä¸Šé¿å…äº†å¹»è¯»ï¼š</p>
<ul>
<li><strong>å¿«ç…§è¯» (Snapshot Read)</strong>:æ™®é€šçš„ SELECT è¯­å¥ï¼Œé€šè¿‡ <strong>MVCC</strong> æœºåˆ¶å®ç°ã€‚äº‹åŠ¡å¯åŠ¨æ—¶åˆ›å»ºä¸€ä¸ªæ•°æ®å¿«ç…§ï¼Œåç»­çš„å¿«ç…§è¯»éƒ½è¯»å–è¿™ä¸ªç‰ˆæœ¬çš„æ•°æ®ï¼Œä»è€Œé¿å…äº†çœ‹åˆ°å…¶ä»–äº‹åŠ¡æ–°æ’å…¥çš„è¡Œï¼ˆå¹»è¯»ï¼‰æˆ–ä¿®æ”¹çš„è¡Œï¼ˆä¸å¯é‡å¤è¯»ï¼‰ã€‚</li>
<li><strong>å½“å‰è¯» (Current Read)</strong>:åƒ <code>SELECT ... FOR UPDATE</code>, <code>SELECT ... LOCK IN SHARE MODE</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> è¿™äº›æ“ä½œã€‚InnoDB ä½¿ç”¨ <strong>Next-Key Lock</strong> æ¥é”å®šæ‰«æåˆ°çš„ç´¢å¼•è®°å½•åŠå…¶é—´çš„èŒƒå›´ï¼ˆé—´éš™ï¼‰ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åœ¨è¿™ä¸ªèŒƒå›´å†…æ’å…¥æ–°çš„è®°å½•ï¼Œä»è€Œé¿å…å¹»è¯»ã€‚Next-Key Lock æ˜¯è¡Œé”ï¼ˆRecord Lockï¼‰å’Œé—´éš™é”ï¼ˆGap Lockï¼‰çš„ç»„åˆã€‚</li>
</ul>
<h3 data-id="heading-21">å¦‚ä½•åˆ†æ SQL æ€§èƒ½?</h3>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>EXPLAIN</code> å‘½ä»¤æ¥åˆ†æ SQL çš„ <strong>æ‰§è¡Œè®¡åˆ’</strong> ã€‚æ‰§è¡Œè®¡åˆ’æ˜¯æŒ‡ä¸€æ¡ SQL è¯­å¥åœ¨ç»è¿‡ MySQL æŸ¥è¯¢ä¼˜åŒ–å™¨çš„ä¼˜åŒ–ä¼šåï¼Œå…·ä½“çš„æ‰§è¡Œæ–¹å¼ã€‚</p>
<p><code>EXPLAIN</code> å¹¶ä¸ä¼šçœŸçš„å»æ‰§è¡Œç›¸å…³çš„è¯­å¥ï¼Œè€Œæ˜¯é€šè¿‡ <strong>æŸ¥è¯¢ä¼˜åŒ–å™¨</strong> å¯¹è¯­å¥è¿›è¡Œåˆ†æï¼Œæ‰¾å‡ºæœ€ä¼˜çš„æŸ¥è¯¢æ–¹æ¡ˆï¼Œå¹¶æ˜¾ç¤ºå¯¹åº”çš„ä¿¡æ¯ã€‚</p>
<p><code>EXPLAIN</code> é€‚ç”¨äº <code>SELECT</code>, <code>DELETE</code>, <code>INSERT</code>, <code>REPLACE</code>, å’Œ <code>UPDATE</code>è¯­å¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬åˆ†æ <code>SELECT</code> æŸ¥è¯¢è¾ƒå¤šã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œç®€å•æ¥æ¼”ç¤ºä¸€ä¸‹ <code>EXPLAIN</code> çš„ä½¿ç”¨ã€‚</p>
<p><code>EXPLAIN</code> çš„è¾“å‡ºæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">mysql<span class="hljs-operator">&gt;</span> EXPLAIN <span class="hljs-keyword">SELECT</span> `score`,`name` <span class="hljs-keyword">FROM</span> `cus_order` <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> `score` <span class="hljs-keyword">DESC</span>;
<span class="hljs-operator">+</span><span class="hljs-comment">----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+</span>
<span class="hljs-operator">|</span> id <span class="hljs-operator">|</span> select_type <span class="hljs-operator">|</span> <span class="hljs-keyword">table</span>     <span class="hljs-operator">|</span> partitions <span class="hljs-operator">|</span> type <span class="hljs-operator">|</span> possible_keys <span class="hljs-operator">|</span> key  <span class="hljs-operator">|</span> key_len <span class="hljs-operator">|</span> <span class="hljs-keyword">ref</span>  <span class="hljs-operator">|</span> <span class="hljs-keyword">rows</span>   <span class="hljs-operator">|</span> filtered <span class="hljs-operator">|</span> Extra          <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+</span>
<span class="hljs-operator">|</span>  <span class="hljs-number">1</span> <span class="hljs-operator">|</span> SIMPLE      <span class="hljs-operator">|</span> cus_order <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>       <span class="hljs-operator">|</span> <span class="hljs-keyword">ALL</span>  <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>          <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span>    <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span> <span class="hljs-number">997572</span> <span class="hljs-operator">|</span>   <span class="hljs-number">100.00</span> <span class="hljs-operator">|</span> <span class="hljs-keyword">Using</span> filesort <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----+-------------+-----------+------------+------+---------------+------+---------+------+--------+----------+----------------+</span>
<span class="hljs-number">1</span> <span class="hljs-type">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span>, <span class="hljs-number">1</span> warning (<span class="hljs-number">0.00</span> sec)
</code></pre>
<p>å„ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š</p>

























































<table><thead><tr><th><strong>åˆ—å</strong></th><th><strong>å«ä¹‰</strong></th></tr></thead><tbody><tr><td>id</td><td>SELECT æŸ¥è¯¢çš„åºåˆ—æ ‡è¯†ç¬¦</td></tr><tr><td>select_type</td><td>SELECT å…³é”®å­—å¯¹åº”çš„æŸ¥è¯¢ç±»å‹</td></tr><tr><td>table</td><td>ç”¨åˆ°çš„è¡¨å</td></tr><tr><td>partitions</td><td>åŒ¹é…çš„åˆ†åŒºï¼Œå¯¹äºæœªåˆ†åŒºçš„è¡¨ï¼Œå€¼ä¸º NULL</td></tr><tr><td>type</td><td>è¡¨çš„è®¿é—®æ–¹æ³•</td></tr><tr><td>possible_keys</td><td>å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•</td></tr><tr><td>key</td><td>å®é™…ç”¨åˆ°çš„ç´¢å¼•</td></tr><tr><td>key_len</td><td>æ‰€é€‰ç´¢å¼•çš„é•¿åº¦</td></tr><tr><td>ref</td><td>å½“ä½¿ç”¨ç´¢å¼•ç­‰å€¼æŸ¥è¯¢æ—¶ï¼Œä¸ç´¢å¼•ä½œæ¯”è¾ƒçš„åˆ—æˆ–å¸¸é‡</td></tr><tr><td>rows</td><td>é¢„è®¡è¦è¯»å–çš„è¡Œæ•°</td></tr><tr><td>filtered</td><td>æŒ‰è¡¨æ¡ä»¶è¿‡æ»¤åï¼Œç•™å­˜çš„è®°å½•æ•°çš„ç™¾åˆ†æ¯”</td></tr><tr><td>Extra</td><td>é™„åŠ ä¿¡æ¯</td></tr></tbody></table>
<p>æ›´å¤š MySQL é«˜é¢‘çŸ¥è¯†ç‚¹å’Œé¢è¯•é¢˜æ€»ç»“ï¼Œå¯ä»¥é˜…è¯»ç¬”è€…å†™çš„è¿™ç¯‡æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjavaguide.cn%2Fdatabase%2Fmysql%2Fmysql-questions-01.html" target="_blank" title="https://javaguide.cn/database/mysql/mysql-questions-01.html" ref="nofollow noopener noreferrer">MySQL å¸¸è§é¢è¯•é¢˜æ€»ç»“</a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[python]miniconda(å®‰è£…)]]></title>    <link>https://juejin.cn/post/7581324707481518121</link>    <guid>https://juejin.cn/post/7581324707481518121</guid>    <pubDate>2025-12-09T05:05:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581324707481518121" data-draft-id="7581408984415617043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[python]miniconda(å®‰è£…)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-09T05:05:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="import_random"/> <meta itemprop="url" content="https://juejin.cn/user/2013961033882312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [python]miniconda(å®‰è£…)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961033882312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    import_random
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T05:05:44.000Z" title="Tue Dec 09 2025 05:05:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸ºMacå®‰è£…Minicondaï¼Œå…³é”®åœ¨äºä¸‹è½½ä¸èŠ¯ç‰‡åŒ¹é…çš„å®‰è£…åŒ…ï¼Œå¹¶æ­£ç¡®è¿è¡Œè„šæœ¬ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„å®‰è£…å’Œä½¿ç”¨æ­¥éª¤ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€æ­¥ï¼šç¡®è®¤èŠ¯ç‰‡ä¸ä¸‹è½½</h2>
<p>é¦–å…ˆï¼Œä½ éœ€è¦ç¡®è®¤Macçš„å¤„ç†å™¨ç±»å‹ï¼Œä»¥é€‰æ‹©æ­£ç¡®çš„å®‰è£…åŒ…ã€‚</p>
<ol>
<li>ç‚¹å‡»å±å¹•å·¦ä¸Šè§’è‹¹æœèœå•ï¼Œé€‰æ‹© <strong>å…³äºæœ¬æœº</strong>ã€‚</li>
<li>æŸ¥çœ‹â€œèŠ¯ç‰‡â€ä¸€é¡¹ã€‚
<ul>
<li>å¦‚æœæ˜¾ç¤º <strong>Apple Mç³»åˆ—</strong>ï¼Œè¯·ä¸‹è½½ <strong>Miniconda3 macOS Apple M1 64-bit pkg</strong>ï¼ˆæˆ– arm64 ç‰ˆæœ¬ï¼‰ã€‚</li>
<li>å¦‚æœæ˜¾ç¤º <strong>Intel</strong>ï¼Œè¯·ä¸‹è½½ <strong>Miniconda3 macOS Intel x86 64-bit pkg</strong>ï¼ˆæˆ– x86_64 ç‰ˆæœ¬ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p>ä½ å¯ä»¥ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.conda.io%2Fen%2Flatest%2Fminiconda.html" target="_blank" title="https://docs.conda.io/en/latest/miniconda.html" ref="nofollow noopener noreferrer">Miniconda å®˜æ–¹ç½‘ç«™</a> ä¸‹è½½ã€‚å¦‚æœä¸‹è½½é€Ÿåº¦æ…¢ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Fanaconda%2Fminiconda%2F" target="_blank" title="https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/" ref="nofollow noopener noreferrer">æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</a>ã€‚</p>
<h2 data-id="heading-1">ç¬¬äºŒæ­¥ï¼šå®‰è£…ä¸åˆå§‹åŒ–</h2>
<p>ä¸‹è½½å®Œæˆåï¼Œæ ¹æ®ä½ ä¸‹è½½çš„æ–‡ä»¶ç±»å‹é€‰æ‹©å®‰è£…æ–¹æ³•ï¼š</p>
<p><strong>æ–¹æ³•Aï¼šä½¿ç”¨ <code>.pkg</code> å®‰è£…åŒ…ï¼ˆæ¨èæ–°æ‰‹ï¼‰</strong>
è¿™æ˜¯å›¾å½¢åŒ–å®‰è£…æ–¹å¼ã€‚åŒå‡»ä¸‹è½½çš„ <code>.pkg</code> æ–‡ä»¶ï¼Œè·Ÿéšå®‰è£…å‘å¯¼çš„æç¤ºå®Œæˆå³å¯ã€‚</p>
<p><strong>æ–¹æ³•Bï¼šä½¿ç”¨ <code>.sh</code> è„šæœ¬å®‰è£…ï¼ˆé€‚ç”¨äºå‘½ä»¤è¡Œï¼‰</strong>
å¦‚æœä½ ä¸‹è½½çš„æ˜¯ <code>.sh</code> è„šæœ¬ï¼Œæˆ–æ›´å–œæ¬¢å‘½ä»¤è¡Œï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li>æ‰“å¼€â€œç»ˆç«¯â€åº”ç”¨ï¼ˆå¯åœ¨â€œåº”ç”¨ç¨‹åºâ€&gt;â€œå®ç”¨å·¥å…·â€ä¸­æ‰¾åˆ°ï¼‰ã€‚</li>
<li>è¿›å…¥è„šæœ¬æ‰€åœ¨ç›®å½•ï¼ˆé€šå¸¸åœ¨â€œä¸‹è½½â€æ–‡ä»¶å¤¹ï¼‰ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~/Downloads
</code></pre>
</li>
<li>è¿è¡Œå®‰è£…è„šæœ¬ï¼š
<pre><code class="hljs language-bash" lang="bash">bash Miniconda3-latest-MacOSX-x86_64.sh <span class="hljs-comment"># IntelèŠ¯ç‰‡</span>
<span class="hljs-comment"># æˆ–</span>
bash Miniconda3-latest-MacOSX-arm64.sh   <span class="hljs-comment"># Apple SiliconèŠ¯ç‰‡</span>
</code></pre>
</li>
<li>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ï¼š
<ul>
<li>æŒ‰å›è½¦é˜…è¯»è®¸å¯åè®®ï¼Œç„¶åè¾“å…¥ <code>yes</code> åŒæ„ã€‚</li>
<li>æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤å®‰è£…è·¯å¾„ï¼ˆé€šå¸¸æ˜¯ <code>~/miniconda3</code>ï¼‰ã€‚</li>
<li>åœ¨è¯¢é—® <strong>â€œæ˜¯å¦å¸Œæœ›å®‰è£…ç¨‹åºåˆå§‹åŒ– Miniconda3â€</strong> æ—¶ï¼ŒåŠ¡å¿…è¾“å…¥ <code>yes</code>ï¼Œè¿™ä¼šå°†condaå‘½ä»¤è‡ªåŠ¨é…ç½®åˆ°ä½ çš„shellä¸­ã€‚</li>
</ul>
</li>
</ol>
<p><strong>é™é»˜å®‰è£…é€‰é¡¹</strong>ï¼šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ— éœ€äº¤äº’çš„é™é»˜å®‰è£…ï¼ˆåŒæ ·é€‚ç”¨äºè„šæœ¬æ–¹å¼ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bash ~/miniconda3/miniconda.sh -b -u -p ~/miniconda3
</code></pre>
<h2 data-id="heading-2">ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ä¸åŸºæœ¬ä½¿ç”¨</h2>
<p>å®‰è£…å®Œæˆåï¼Œ<strong>å…³é—­å¹¶é‡æ–°æ‰“å¼€ç»ˆç«¯</strong>ã€‚ä½ ä¼šçœ‹åˆ°å‘½ä»¤è¡Œæç¤ºç¬¦å‰å‡ºç°äº† <code>(base)</code>ï¼Œè¿™è¡¨ç¤ºå·²è‡ªåŠ¨è¿›å…¥Minicondaçš„åŸºç¡€ç¯å¢ƒã€‚</p>
<ol>
<li><strong>éªŒè¯å®‰è£…</strong>ï¼šè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¦‚æ˜¾ç¤ºç‰ˆæœ¬å·åˆ™å®‰è£…æˆåŠŸã€‚
<pre><code class="hljs language-bash" lang="bash">conda --version
</code></pre>
</li>
<li><strong>åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„Pythonç¯å¢ƒ</strong>ï¼ˆä¾‹å¦‚ï¼Œç”¨äºç‰¹å®šé¡¹ç›®ï¼‰ï¼š
<pre><code class="hljs language-bash" lang="bash">conda create -n my_env python=3.10
</code></pre>
<ul>
<li><code>my_env</code> æ˜¯ä½ è‡ªå®šä¹‰çš„ç¯å¢ƒåã€‚</li>
<li><code>python=3.10</code> æ˜¯æŒ‡å®šçš„Pythonç‰ˆæœ¬ï¼Œå¯æŒ‰éœ€æ›´æ”¹ã€‚</li>
</ul>
</li>
<li><strong>æ¿€æ´»ä¸é€€å‡ºç¯å¢ƒ</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">conda activate my_env  <span class="hljs-comment"># æ¿€æ´»ç¯å¢ƒ</span>
conda deactivate       <span class="hljs-comment"># é€€å‡ºå½“å‰ç¯å¢ƒ</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-3">ç¬¬å››æ­¥ï¼šå®ç”¨é…ç½®ï¼ˆå¯é€‰ä½†å»ºè®®ï¼‰</h2>
<p>ä¸ºäº†è·å¾—æ›´å¥½çš„ä½“éªŒï¼Œå»ºè®®è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š</p>
<ul>
<li><strong>é…ç½®å›½å†…é•œåƒæº</strong>ï¼šåœ¨å›½å†…ä½¿ç”¨ï¼Œå¯ä»¥æ·»åŠ æ¸…åé•œåƒæ¥åŠ é€ŸåŒ…ä¸‹è½½ã€‚
<pre><code class="hljs language-bash" lang="bash">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --<span class="hljs-built_in">set</span> show_channel_urls <span class="hljs-built_in">yes</span>
</code></pre>
</li>
<li><strong>å®‰è£…å¸¸ç”¨åŒ…</strong>ï¼šåœ¨æ¿€æ´»çš„ç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>conda install package_name</code> å‘½ä»¤å®‰è£…æ‰€éœ€è½¯ä»¶åŒ…ï¼Œå¦‚ <code>numpy</code>, <code>pandas</code>ã€‚</li>
</ul>
<h2 data-id="heading-4">å®‰è£…ä¸ä½¿ç”¨æ³¨æ„äº‹é¡¹</h2>
<ul>
<li><strong>ç¡®ä¿ä¸‹è½½æ­£ç¡®çš„å®‰è£…åŒ…</strong>ï¼šè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼ŒèŠ¯ç‰‡ç±»å‹é€‰é”™ä¼šå¯¼è‡´å®‰è£…å¤±è´¥æˆ–åç»­å…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li><strong>å…³äºåˆå§‹åŒ–</strong>ï¼šåœ¨å®‰è£…è„šæœ¬çš„æœ€åä¸€æ­¥ï¼Œ<strong>å¼ºçƒˆå»ºè®®åŒæ„åˆå§‹åŒ–ï¼ˆè¾“å…¥<code>yes</code>ï¼‰</strong>ã€‚å¦‚æœé”™è¿‡ï¼Œå¯ä»¥åç»­åœ¨ç»ˆç«¯æ‰‹åŠ¨è¿è¡Œ <code>conda init</code> æ¥ä¿®å¤ã€‚</li>
<li><strong>IntelèŠ¯ç‰‡Macçš„ç‰¹æ®Šæƒ…å†µ</strong>ï¼šå³ä½¿ä½ æ˜¯IntelèŠ¯ç‰‡çš„Macï¼Œå¦‚æœæŸäº›è½¯ä»¶è¦æ±‚<code>x86_64</code>æ¶æ„ï¼Œåœ¨åˆ›å»ºç¯å¢ƒæ—¶å¯ä»¥è¿è¡Œ <code>CONDA_SUBDIR=osx-64 conda create -n env_name python=3.10</code> æ¥ç¡®ä¿å…¼å®¹æ€§ã€‚</li>
<li><strong>ç¯å¢ƒç®¡ç†</strong>ï¼šå»ºè®®ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„ç¯å¢ƒï¼Œå¹¶ä½¿ç”¨ <code>conda env list</code> æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒã€‚</li>
</ul>
<p>å¦‚æœåœ¨å®‰è£…åæ‰“å¼€ç»ˆç«¯æ²¡æœ‰çœ‹åˆ°<code>(base)</code>ï¼Œæˆ–è€…é‡åˆ°<code>conda: command not found</code>çš„é”™è¯¯ï¼Œé€šå¸¸æ˜¯å› ä¸ºåˆå§‹åŒ–æ­¥éª¤æœªå®Œæˆã€‚è¯·é‡æ–°æ‰“å¼€ç»ˆç«¯å¹¶å°è¯•è¿è¡Œ <code>conda init</code>ï¼Œç„¶åå†æ¬¡é‡å¯ç»ˆç«¯å³å¯ã€‚</p>
<p>å¸Œæœ›è¿™ä»½è¯¦ç»†çš„æŒ‡å—èƒ½å¸®åŠ©ä½ é¡ºåˆ©å®Œæˆå®‰è£…ï¼å¦‚æœä½ åœ¨æŸä¸ªå…·ä½“æ­¥éª¤é‡åˆ°é—®é¢˜ï¼Œä¾‹å¦‚ç¯å¢ƒæ¿€æ´»å¤±è´¥æˆ–é•œåƒé…ç½®å‡ºé”™ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ï¼Œæˆ‘èƒ½æä¾›æ›´å…·ä½“çš„æ’æŸ¥å»ºè®®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ Java å¤šæ€ï¼šè§£é”é¢å‘å¯¹è±¡ç¼–ç¨‹çš„çµæ´»æ€§]]></title>    <link>https://juejin.cn/post/7581423932613443624</link>    <guid>https://juejin.cn/post/7581423932613443624</guid>    <pubDate>2025-12-09T03:32:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7581423932613443624" data-draft-id="7581437632854097960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ Java å¤šæ€ï¼šè§£é”é¢å‘å¯¹è±¡ç¼–ç¨‹çš„çµæ´»æ€§"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-09T03:32:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ Java å¤šæ€ï¼šè§£é”é¢å‘å¯¹è±¡ç¼–ç¨‹çš„çµæ´»æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-09T03:32:46.000Z" title="Tue Dec 09 2025 03:32:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">1.å¼•è¨€</h2>
<p>åœ¨ Java é¢å‘å¯¹è±¡çš„ä¸‰å¤§æ ¸å¿ƒç‰¹æ€§ï¼ˆå°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼‰ä¸­ï¼Œå¤šæ€æ˜¯ä½“ç°ä»£ç çµæ´»æ€§ä¸æ‰©å±•æ€§çš„å…³é”®ã€‚å®ƒå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹åŠ¨æ€è°ƒç”¨å¯¹åº”çš„æ–¹æ³•ï¼Œå®ç°äº† â€œä¸€ä¸ªæ¥å£ï¼Œå¤šç§å®ç°â€ çš„ç¼–ç¨‹æ€æƒ³ã€‚</p>
<h3 data-id="heading-1">2.å¤šæ€çš„åŸºç¡€è¯­æ³•</h3>
<p>å¤šæ€å¹¶éå­¤ç«‹å­˜åœ¨çš„ç‰¹æ€§ï¼Œå®ƒä¾èµ–<code>ç»§æ‰¿ / å®ç°ã€æ–¹æ³•é‡å†™ã€çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</code>è¿™ä¸‰ä¸ªæ ¸å¿ƒæ¡ä»¶ï¼Œä¸‰è€…ç¼ºä¸€ä¸å¯ã€‚æˆ‘ä»¬å…ˆä»åŸºç¡€è¯­æ³•å±‚é¢æ‹†è§£å¤šæ€çš„å®ç°é€»è¾‘ã€‚</p>
<h4 data-id="heading-2">2.1 æ ¸å¿ƒå‰æï¼šç»§æ‰¿æˆ–æ¥å£å®ç°</h4>
<p>å¤šæ€çš„æœ¬è´¨æ˜¯ â€œç±»å‹çš„å‘ä¸Šè½¬å‹â€ï¼Œè€Œå‘ä¸Šè½¬å‹çš„å‰ææ˜¯ç±»ä¸ç±»ä¹‹é—´å­˜åœ¨ç»§æ‰¿å…³ç³»ï¼Œæˆ–ç±»ä¸æ¥å£ä¹‹é—´å­˜åœ¨å®ç°å…³ç³»ã€‚â€‹</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// å®šä¹‰çˆ¶ç±»ï¼šAnimal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">makeSound</span><span class="hljs-params">()</span> {
System.out.println(<span class="hljs-string">"åŠ¨ç‰©å‘å‡ºåŸºç¡€å«å£°"</span>);
   }
}
<span class="hljs-comment">// å®šä¹‰å­ç±»ï¼šDogï¼Œç»§æ‰¿è‡ªAnimal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> {}
<span class="hljs-comment">// å®šä¹‰å­ç±»ï¼šCatï¼Œç»§æ‰¿è‡ªAnimal</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> {}
</code></pre>
<h4 data-id="heading-3">2.2 å…³é”®æ¡ä»¶ï¼šæ–¹æ³•é‡å†™</h4>
<p>å¤šæ€éœ€è¦å­ç±»å¯¹çˆ¶ç±»çš„æ–¹æ³•è¿›è¡Œé‡å†™ï¼Œä»¥æ­¤å®ç° â€œåŒä¸€è¡Œä¸ºï¼Œä¸åŒè¡¨ç°â€ã€‚æ–¹æ³•é‡å†™éœ€éµå¾ª â€œä¸¤åŒä¸¤å°ä¸€å¤§â€ è§„åˆ™ï¼ˆæ–¹æ³•åã€å‚æ•°åˆ—è¡¨ç›¸åŒï¼›å­ç±»è¿”å›å€¼èŒƒå›´æ›´å°ã€å¼‚å¸¸èŒƒå›´æ›´å°ï¼›å­ç±»è®¿é—®æƒé™æ›´å¤§ï¼‰</p>
<h4 data-id="heading-4">2.3 æ ¸å¿ƒæ“ä½œï¼šçˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</h4>
<p>è¿™æ˜¯å¤šæ€çš„ç›´è§‚ä½“ç°ï¼Œé€šè¿‡å‘ä¸Šè½¬å‹ï¼Œè®©çˆ¶ç±»ç±»å‹çš„å˜é‡æŒ‡å‘å­ç±»çš„å®ä¾‹ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶ä¼šè‡ªåŠ¨è¯†åˆ«å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œè°ƒç”¨å¯¹åº”çš„é‡å†™æ–¹æ³•</p>
<h3 data-id="heading-5">ä¸‰ã€å¤šæ€çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹åŠå¸¸ç”¨æ–¹æ³•</h3>
<h4 data-id="heading-6">3.1 å¤šæ€çš„ä¸¤ç§å®ç°å½¢å¼</h4>
<p>Java ä¸­å¤šæ€ä¸»è¦åˆ†ä¸ºç±»ç»§æ‰¿å¤šæ€å’Œæ¥å£å®ç°å¤šæ€ï¼Œå…¶ä¸­æ¥å£å¤šæ€åœ¨å®é™…å¼€å‘ä¸­åº”ç”¨æ›´ä¸ºå¹¿æ³›ã€‚</p>
<h4 data-id="heading-7">3.1.1 ç±»ç»§æ‰¿å¤šæ€</h4>
<p>åŸºäºç±»çš„ç»§æ‰¿å…³ç³»å®ç°ï¼Œå¦‚ä¸Šæ–‡çš„Animalä¸Dogã€Catçš„æ¡ˆä¾‹ã€‚è¿™ç§å½¢å¼é€‚ç”¨äºæœ‰æ˜ç¡®çˆ¶å­ç±»å±‚çº§çš„åœºæ™¯ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// å®šä¹‰çˆ¶ç±»ï¼šäº¤é€šå·¥å…·</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Vehicle</span> {
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
System.out.println(<span class="hljs-string">"äº¤é€šå·¥å…·å¯åŠ¨"</span>);
    }
}
<span class="hljs-comment">// å­ç±»ï¼šæ±½è½¦</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Vehicle</span> {
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
System.out.println(<span class="hljs-string">"æ±½è½¦åœ¨å…¬è·¯ä¸Šé£é©°"</span>);
    }
}
<span class="hljs-comment">// å­ç±»ï¼šè‡ªè¡Œè½¦</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Bike</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Vehicle</span> {
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
System.out.println(<span class="hljs-string">"è‡ªè¡Œè½¦åœ¨å°é“ä¸Šéª‘è¡Œ"</span>);
  }
}
<span class="hljs-comment">// æµ‹è¯•ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClassInheritPolymorphism</span> {
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
<span class="hljs-type">Vehicle</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Car</span>();
<span class="hljs-type">Vehicle</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bike</span>();
  }
}
</code></pre>
<h4 data-id="heading-8">3.1.2 æ¥å£å®ç°å¤šæ€</h4>
<p>åŸºäºæ¥å£ä¸å®ç°ç±»çš„å…³ç³»å®ç°ï¼Œæ¥å£å®šä¹‰è¡Œä¸ºè§„èŒƒï¼Œä¸åŒå®ç°ç±»æä¾›å·®å¼‚åŒ–å®ç°ï¼Œæ˜¯æ¡†æ¶å¼€å‘çš„å¸¸ç”¨æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// å®šä¹‰æ¥å£ï¼šæ”¯ä»˜æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Payable</span> {
<span class="hljs-keyword">void</span> <span class="hljs-title function_">pay</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span>; <span class="hljs-comment">// æ”¯ä»˜è¡Œä¸ºè§„èŒƒ</span>
}
<span class="hljs-comment">// å®ç°ç±»ï¼šæ”¯ä»˜å®æ”¯ä»˜</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AliPay</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Payable</span> {
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pay</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
System.out.println(<span class="hljs-string">"ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜äº†"</span> + amount + <span class="hljs-string">"å…ƒ"</span>);
   }
}
<span class="hljs-comment">// å®ç°ç±»ï¼šå¾®ä¿¡æ”¯ä»˜</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WeChatPay</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Payable</span> {
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pay</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
System.out.println(<span class="hljs-string">"ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜äº†"</span> + amount + <span class="hljs-string">"å…ƒ"</span>);
  }
}
<span class="hljs-comment">// æµ‹è¯•ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InterfacePolymorphism</span> {
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
<span class="hljs-comment">// æ¥å£å¼•ç”¨æŒ‡å‘å®ç°ç±»å¯¹è±¡</span>
<span class="hljs-type">Payable</span> <span class="hljs-variable">pay1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AliPay</span>();
<span class="hljs-type">Payable</span> <span class="hljs-variable">pay2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeChatPay</span>();
pay1.pay(<span class="hljs-number">100.0</span>); <span class="hljs-comment">// è¾“å‡ºï¼šä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜äº†100.0å…ƒ</span>
pay2.pay(<span class="hljs-number">50.0</span>); <span class="hljs-comment">// è¾“å‡ºï¼šä½¿ç”¨å¾®ä¿¡æ”¯ä»˜äº†50.0å…ƒ</span>
  }
}
</code></pre>
<h4 data-id="heading-9">3.2 å¤šæ€çš„æ ¸å¿ƒæ–¹æ³•ï¼šå‘ä¸‹è½¬å‹ä¸ <code>instanceof</code> å…³é”®å­—</h4>
<p>åœ¨å¤šæ€åœºæ™¯ä¸­ï¼Œçˆ¶ç±»å¼•ç”¨æ— æ³•ç›´æ¥è°ƒç”¨å­ç±»çš„ç‰¹æœ‰æ–¹æ³•ï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡å‘ä¸‹è½¬å‹å®ç°ï¼Œä½†è½¬å‹å‰éœ€ç”¨instanceofå…³é”®å­—åˆ¤æ–­å¯¹è±¡å®é™…ç±»å‹ï¼Œé¿å…ClassCastExceptionã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DownCastDemo</span> {
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
<span class="hljs-type">Animal</span> <span class="hljs-variable">animal</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();
animal.makeSound(); <span class="hljs-comment">// å¯è°ƒç”¨é‡å†™çš„æ–¹æ³•</span>
<span class="hljs-comment">// å­ç±»Dogç‰¹æœ‰æ–¹æ³•ï¼šfetchï¼ˆæ¡ä¸œè¥¿ï¼‰</span>
<span class="hljs-comment">// animal.fetch(); // ç¼–è¯‘æŠ¥é”™ï¼Œçˆ¶ç±»å¼•ç”¨æ— æ³•è°ƒç”¨å­ç±»ç‰¹æœ‰æ–¹æ³•</span>
<span class="hljs-comment">// å…ˆåˆ¤æ–­ç±»å‹ï¼Œå†å‘ä¸‹è½¬å‹</span>
<span class="hljs-keyword">if</span> (animal <span class="hljs-keyword">instanceof</span> Dog) {
<span class="hljs-type">Dog</span> <span class="hljs-variable">dog</span> <span class="hljs-operator">=</span> (Dog) animal;
dog.fetch(); <span class="hljs-comment">// è°ƒç”¨å­ç±»ç‰¹æœ‰æ–¹æ³•</span>
      }
   }
}
<span class="hljs-comment">// ä¸ºDogç±»æ·»åŠ ç‰¹æœ‰æ–¹æ³•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> {
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">makeSound</span><span class="hljs-params">()</span> {
System.out.println(<span class="hljs-string">"å°ç‹—å‘å‡ºâ€œæ±ªæ±ªâ€å£°"</span>);
  }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fetch</span><span class="hljs-params">()</span> {
System.out.println(<span class="hljs-string">"å°ç‹—å¸®ä¸»äººæ¡èµ·äº†ç©å…·"</span>);
  }
}
</code></pre>
<h4 data-id="heading-10">3.3 å¤šæ€çš„å…¸å‹åº”ç”¨ï¼šç»Ÿä¸€æ–¹æ³•å‚æ•°</h4>
<p>åˆ©ç”¨å¤šæ€å¯ä»¥ç»Ÿä¸€æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œè®©æ–¹æ³•å…·å¤‡æ›´å¼ºçš„é€šç”¨æ€§ï¼Œæ— éœ€ä¸ºæ¯ä¸ªå­ç±»å•ç‹¬å®šä¹‰æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PolymorphismParamDemo</span> {
<span class="hljs-comment">// ç»Ÿä¸€çš„â€œåŠ¨ç‰©å«å£°æ’­æ”¾â€æ–¹æ³•ï¼Œå‚æ•°ä¸ºçˆ¶ç±»ç±»å‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">playSound</span><span class="hljs-params">(Animal animal)</span> {
animal.makeSound();
  }
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
playSound(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>()); <span class="hljs-comment">// è¾“å‡ºï¼šå°ç‹—å‘å‡ºâ€œæ±ªæ±ªâ€å£°</span>
playSound(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>()); <span class="hljs-comment">// è¾“å‡ºï¼šå°çŒ«å‘å‡ºâ€œå–µå–µâ€å£°</span>
playSound(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>()); <span class="hljs-comment">// è¾“å‡ºï¼šåŠ¨ç‰©å‘å‡ºåŸºç¡€å«å£°</span>
   }
}
</code></pre>
<h3 data-id="heading-11">å››ã€å¤šæ€ä½¿ç”¨çš„æ³¨æ„äº‹é¡¹</h3>
<ol>
<li>
<p><strong>æˆå‘˜è®¿é—®è§„åˆ™</strong>ï¼šå¤šæ€åœºæ™¯ä¸‹ï¼Œæˆå‘˜å˜é‡çš„è®¿é—®éµå¾ª â€œç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å·¦è¾¹â€ï¼ˆå³çˆ¶ç±»å¼•ç”¨åªèƒ½è®¿é—®çˆ¶ç±»çš„æˆå‘˜å˜é‡ï¼‰ï¼›æˆå‘˜æ–¹æ³•éµå¾ª â€œç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹â€ï¼ˆè¿è¡Œæ—¶è°ƒç”¨å­ç±»é‡å†™çš„æ–¹æ³•ï¼‰ï¼ŒäºŒè€…éœ€ä¸¥æ ¼åŒºåˆ†ã€‚</p>
</li>
<li>
<p><strong>é™æ€æ–¹æ³•æ— å¤šæ€</strong>ï¼šé™æ€æ–¹æ³•å±äºç±»è€Œéå¯¹è±¡ï¼Œä¸ä¼šè¢«é‡å†™ï¼Œçˆ¶ç±»å¼•ç”¨è°ƒç”¨é™æ€æ–¹æ³•æ—¶ï¼Œå§‹ç»ˆæ‰§è¡Œçˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼Œä¸å­ç±»æ— å…³ã€‚</p>
</li>
<li>
<p><strong>å‘ä¸‹è½¬å‹éœ€è°¨æ…</strong>ï¼šæœªåšç±»å‹åˆ¤æ–­çš„å¼ºåˆ¶å‘ä¸‹è½¬å‹ä¼šå¼•å‘ClassCastExceptionï¼Œå¿…é¡»å…ˆç”¨instanceofæ ¡éªŒå¯¹è±¡å®é™…ç±»å‹ã€‚</p>
</li>
<li>
<p><strong>æ„é€ æ–¹æ³•æ— å¤šæ€</strong>ï¼šæ„é€ æ–¹æ³•æ˜¯åˆ›å»ºå¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•ï¼Œæ— æ³•è¢«é‡å†™ï¼Œå› æ­¤ä¸å…·å¤‡å¤šæ€ç‰¹æ€§ï¼Œå­ç±»æ„é€ æ—¶ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ã€‚</p>
</li>
<li>
<p><strong>æŠ½è±¡ç±»ä¸æ¥å£çš„å¤šæ€å·®å¼‚</strong>ï¼šæŠ½è±¡ç±»å¯åŒ…å«æ™®é€šæ–¹æ³•å’ŒæŠ½è±¡æ–¹æ³•ï¼Œé€‚åˆæŠ½å–å­ç±»å…±æ€§ï¼›æ¥å£ä»…å®šä¹‰è¡Œä¸ºè§„èŒƒï¼Œé€‚åˆå®ç°å¤šç±»åˆ«çš„è¡Œä¸ºæ‰©å±•ï¼Œéœ€æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©ã€‚</p>
</li>
</ol>
<h3 data-id="heading-12">äº”ã€æ€»ç»“</h3>
<p>æœ¬æ–‡å›´ç»• Java å¤šæ€å±•å¼€æ·±åº¦è§£æï¼Œå…¶æ ¸å¿ƒçŸ¥è¯†ç‚¹å¯å½’çº³ä¸ºä»¥ä¸‹ 3 ç‚¹ï¼š</p>
<ol>
<li>å®ç°ä¸‰è¦ç´ ï¼šå¤šæ€å¿…é¡»åŒæ—¶æ»¡è¶³ç»§æ‰¿ / æ¥å£å®ç°ã€æ–¹æ³•é‡å†™ã€çˆ¶ç±» / æ¥å£å¼•ç”¨æŒ‡å‘å­ç±» / å®ç°ç±»å¯¹è±¡ï¼Œä¸‰è€…å…±åŒæ„æˆäº†å¤šæ€çš„åŸºç¡€ã€‚</li>
<li>ä¸¤ç§æ ¸å¿ƒå½¢å¼ï¼šç±»ç»§æ‰¿å¤šæ€é€‚ç”¨äºæœ‰æ˜ç¡®å±‚çº§çš„ç±»ç»“æ„ï¼Œæ¥å£å®ç°å¤šæ€æ˜¯ä¸šåŠ¡æ‰©å±•ä¸æ¡†æ¶å¼€å‘çš„ä¸»æµé€‰æ‹©ï¼Œå¯çµæ´»é€‚é…ä¸åŒä¸šåŠ¡åœºæ™¯ã€‚</li>
<li>å…³é”®æ“ä½œä¸è§„èŒƒï¼šå‘ä¸‹è½¬å‹éœ€ç»“åˆinstanceofåšç±»å‹æ ¡éªŒï¼ŒåŒæ—¶è¦åŒºåˆ†æˆå‘˜å˜é‡ä¸æˆå‘˜æ–¹æ³•çš„è®¿é—®è§„åˆ™ï¼Œè§„é¿é™æ€æ–¹æ³•æ— å¤šæ€ç­‰å¸¸è§è¯¯åŒºã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>