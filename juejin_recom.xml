<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Go 1.22 éšè—å½©è›‹ï¼šcmp.Or â€”â€” è®©â€œé»˜è®¤å€¼â€å†™èµ·æ¥åƒå‘¼å¸ä¸€æ ·è‡ªç„¶ï¼]]></title>    <link>https://juejin.cn/post/7593913760042319881</link>    <guid>https://juejin.cn/post/7593913760042319881</guid>    <pubDate>2026-01-11T23:58:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593913760042319881" data-draft-id="7593242327932715018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Go 1.22 éšè—å½©è›‹ï¼šcmp.Or â€”â€” è®©â€œé»˜è®¤å€¼â€å†™èµ·æ¥åƒå‘¼å¸ä¸€æ ·è‡ªç„¶ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-11T23:58:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="golangå­¦ä¹ è®°"/> <meta itemprop="url" content="https://juejin.cn/user/4371313964100990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Go 1.22 éšè—å½©è›‹ï¼šcmp.Or â€”â€” è®©â€œé»˜è®¤å€¼â€å†™èµ·æ¥åƒå‘¼å¸ä¸€æ ·è‡ªç„¶ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4371313964100990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    golangå­¦ä¹ è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T23:58:21.000Z" title="Sun Jan 11 2026 23:58:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šå†ä¹Ÿä¸ç”¨å†™ <code>if str == "" { str = "default" }</code> äº†ï¼</p>
</blockquote>
<p>Go 1.22 å¸¦æ¥äº†ä¸€ä¸ªçœ‹ä¼¼ä½è°ƒã€å®åˆ™è¶…å®ç”¨çš„æ–°å‡½æ•°ï¼š<code>cmp.Or</code>ã€‚<br/>
å®ƒè—åœ¨ <code>golang.org/x/exp/cmp</code> åŒ…é‡Œï¼ˆæœªæ¥å¯èƒ½ä¼šè¿›æ ‡å‡†åº“ï¼‰ï¼Œåå­—ç®€å•ï¼ŒåŠŸèƒ½å´èƒ½è®©ä½ å°‘å†™ä¸€å †æ ·æ¿ä»£ç ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥æ­å¼€å®ƒçš„ç¥ç§˜é¢çº±ï¼Œå¹¶ç”¨å‡ ä¸ª<strong>çœŸå®åˆæ¥åœ°æ°”çš„å°ä¾‹å­</strong>ï¼Œçœ‹çœ‹å®ƒå¦‚ä½•è®©ä½ çš„ Go ä»£ç æ›´ç®€æ´ã€æ›´ä¼˜é›…ã€æ›´â€œæ‡’äººå‹å¥½â€ ğŸ˜ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ¤” é—®é¢˜æ¥äº†ï¼šä½ æ˜¯ä¸æ˜¯ä¹Ÿè¿™æ ·å†™è¿‡ï¼Ÿ</h2>
<pre><code class="hljs language-go" lang="go">name := os.Getenv(<span class="hljs-string">"USER_NAME"</span>)
<span class="hljs-keyword">if</span> name == <span class="hljs-string">""</span> {
    name = <span class="hljs-string">"anonymous"</span>
}
</code></pre>
<p>æˆ–è€…å¤„ç†å¤šä¸ªå¤‡é€‰å€¼æ—¶ï¼š</p>
<pre><code class="hljs language-go" lang="go">id := slug
<span class="hljs-keyword">if</span> id == <span class="hljs-string">""</span> {
    id = internalID
}
<span class="hljs-keyword">if</span> id == <span class="hljs-string">""</span> {
    id = generateFallbackID()
}
</code></pre>
<p>è¿™ç§â€œæ‰¾ç¬¬ä¸€ä¸ªéç©ºå€¼â€çš„é€»è¾‘ï¼Œåœ¨é…ç½®åŠ è½½ã€API å‚æ•°å¤„ç†ã€æ—¥å¿—æ‰“æ ‡ç­‰åœºæ™¯ä¸­<strong>éåœ°å¼€èŠ±</strong>ã€‚ä½†å†™å¤šäº†ï¼ŒçœŸçš„ä¼šæ‰‹é…¸ï¼</p>
<p>æœ‰æ²¡æœ‰ä¸€ç§æ–¹å¼ï¼Œèƒ½è®©æˆ‘ä»¬<strong>ä¸€è¡Œæå®š</strong>ï¼Ÿ<br/>
ç­”æ¡ˆå°±æ˜¯ï¼š<code>cmp.Or</code>ï¼</p>
<hr/>
<h2 data-id="heading-1">âœ¨ <code>cmp.Or</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>å®ƒçš„å®šä¹‰è¶…çº§ç®€å•ï¼ˆGo 1.22+ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Or è¿”å›ç¬¬ä¸€ä¸ªä¸ç­‰äºé›¶å€¼çš„å‚æ•°ã€‚</span>
<span class="hljs-comment">// å¦‚æœå…¨éƒ½æ˜¯é›¶å€¼ï¼Œå°±è¿”å›è¯¥ç±»å‹çš„é›¶å€¼ã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Or</span>[<span class="hljs-title">T</span> <span class="hljs-title">comparable</span>]<span class="hljs-params">(vals ...T)</span></span> T
</code></pre>
<p>æ”¯æŒæ‰€æœ‰ <code>comparable</code> ç±»å‹ï¼šå­—ç¬¦ä¸²ã€æ•´æ•°ã€æŒ‡é’ˆã€å¸ƒå°”å€¼â€¦â€¦ç”šè‡³è‡ªå®šä¹‰ç»“æ„ä½“ï¼ˆåªè¦å­—æ®µå¯æ¯”è¾ƒï¼‰ï¼</p>
<blockquote>
<p>ğŸ’¡ æ³¨æ„ï¼šç›®å‰éœ€é€šè¿‡ <code>golang.org/x/exp/cmp</code> å¼•å…¥ï¼ˆæˆªè‡³ Go 1.24 ä»æœªè¿›å…¥æ ‡å‡†åº“ <code>cmp</code>ï¼Œä½†ç¤¾åŒºå‘¼å£°å¾ˆé«˜ï¼‰ã€‚</p>
</blockquote>
<p>å®‰è£…ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">go get golang.org/x/exp@latest
</code></pre>
<p>ç„¶åå°±èƒ½æ„‰å¿«ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">import</span> <span class="hljs-string">"golang.org/x/exp/cmp"</span>
</code></pre>
<hr/>
<h2 data-id="heading-2">ğŸ§ª å®æˆ˜å°ä¾‹å­ï¼šè®©ä»£ç â€œç˜¦èº«â€æˆåŠŸï¼</h2>
<h3 data-id="heading-3">âœ… åœºæ™¯ 1ï¼šç¯å¢ƒå˜é‡ + é»˜è®¤å€¼ï¼ˆæœ€å¸¸ç”¨ï¼ï¼‰</h3>
<pre><code class="hljs language-go" lang="go">port := cmp.Or(os.Getenv(<span class="hljs-string">"PORT"</span>), <span class="hljs-string">"8080"</span>)
dbURL := cmp.Or(os.Getenv(<span class="hljs-string">"DATABASE_URL"</span>), <span class="hljs-string">"sqlite://dev.db"</span>)
</code></pre>
<blockquote>
<p>ğŸ¯ <strong>ä¼˜åŠ¿</strong>ï¼šä¸€è¡Œæ›¿ä»£ <code>if-else</code>ï¼Œæ¸…æ™°ç›´è§‚ï¼Œè¿˜èƒ½é“¾å¼æ‰©å±•ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">âœ… åœºæ™¯ 2ï¼šå¤šçº§ fallbackï¼ˆæ¯”å¦‚ç”¨æˆ·æ ‡è¯†ï¼‰</h3>
<p>å‡è®¾ä½ æœ‰å¤šä¸ªå¯èƒ½çš„ç”¨æˆ·åæ¥æºï¼š</p>
<ul>
<li>JWT é‡Œçš„ <code>username</code></li>
<li>è¯·æ±‚å¤´é‡Œçš„ <code>X-User-ID</code></li>
<li>æœ€å fallback åˆ° <code>"guest"</code></li>
</ul>
<p>ä¼ ç»Ÿå†™æ³•ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> username <span class="hljs-type">string</span>
<span class="hljs-keyword">if</span> u := jwt.Username(); u != <span class="hljs-string">""</span> {
    username = u
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> u := req.Header.Get(<span class="hljs-string">"X-User-ID"</span>); u != <span class="hljs-string">""</span> {
    username = u
} <span class="hljs-keyword">else</span> {
    username = <span class="hljs-string">"guest"</span>
}
</code></pre>
<p>ç”¨ <code>cmp.Or</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go">username := cmp.Or(
    jwt.Username(),
    req.Header.Get(<span class="hljs-string">"X-User-ID"</span>),
    <span class="hljs-string">"guest"</span>,
)
</code></pre>
<blockquote>
<p>ğŸ™Œ ä»£ç è¡Œæ•°å‡åŠï¼Œå¯è¯»æ€§ç¿»å€ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">âœ… åœºæ™¯ 3ï¼šéç©ºæŒ‡é’ˆé€‰æ‹©ï¼ˆå‰ç«¯ä¼ å‚å¸¸è§ï¼‰</h3>
<p>å‡è®¾ä½ è§£æäº†ä¸€ä¸ª JSONï¼Œå…¶ä¸­æŸä¸ªå­—æ®µå¯èƒ½æ˜¯ <code>null</code>ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> Request <span class="hljs-keyword">struct</span> {
    Name *<span class="hljs-type">string</span> <span class="hljs-string">`json:"name"`</span>
}
</code></pre>
<p>ä½ æƒ³å– <code>Name</code>ï¼Œä½†å¦‚æœä¸ºç©ºå°±ç”¨é»˜è®¤å€¼ï¼š</p>
<pre><code class="hljs language-go" lang="go">defaultName := <span class="hljs-string">"Unknown"</span>
actualName := cmp.Or(req.Name, &amp;defaultName)
</code></pre>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šè¿™é‡Œ <code>req.Name</code> æ˜¯ <code>*string</code>ï¼Œæ‰€ä»¥ <code>&amp;defaultName</code> ä¹Ÿè¦æ˜¯æŒ‡é’ˆã€‚<br/>
<code>cmp.Or</code> å¯¹æŒ‡é’ˆåŒæ ·æœ‰æ•ˆâ€”â€”åªè¦ä¸æ˜¯ <code>nil</code>ï¼Œå°±ç®—â€œéé›¶â€ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">âœ… åœºæ™¯ 4ï¼šæ’åºæ—¶çš„å¤šçº§æ¯”è¾ƒï¼ˆé«˜çº§ç©æ³•ï¼ï¼‰</h3>
<p>Go çš„ <code>slices.SortFunc</code> éœ€è¦è¿”å› <code>-1/0/1</code>ã€‚é€šå¸¸æˆ‘ä»¬ä¼šè¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-go" lang="go">slices.SortFunc(orders, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(a, b Order)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">if</span> c := cmp.Compare(a.Customer, b.Customer); c != <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> c
    }
    <span class="hljs-keyword">if</span> c := cmp.Compare(a.Product, b.Product); c != <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> c
    }
    <span class="hljs-keyword">return</span> cmp.Compare(b.Price, a.Price) <span class="hljs-comment">// é«˜ä»·ä¼˜å…ˆ</span>
})
</code></pre>
<p>ç”¨ <code>cmp.Or</code> å¯ä»¥ç®€åŒ–æˆï¼š</p>
<pre><code class="hljs language-go" lang="go">slices.SortFunc(orders, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(a, b Order)</span></span> <span class="hljs-type">int</span> {
    <span class="hljs-keyword">return</span> cmp.Or(
        cmp.Compare(a.Customer, b.Customer),
        cmp.Compare(a.Product, b.Product),
        cmp.Compare(b.Price, a.Price),
    )
})
</code></pre>
<blockquote>
<p>ğŸ”¥ è™½ç„¶<strong>ä¸èƒ½çŸ­è·¯æ±‚å€¼</strong>ï¼ˆæ‰€æœ‰ <code>Compare</code> éƒ½ä¼šæ‰§è¡Œï¼‰ï¼Œä½†åœ¨æ•°æ®é‡ä¸å¤§æ—¶ï¼Œç®€æ´æ€§è¿œèƒœå¾®å°æ€§èƒ½æŸè€—ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">ğŸš¨ æ³¨æ„äº‹é¡¹ &amp; å°é™·é˜±</h2>
<ol>
<li>
<p><strong>ä»…é™ <code>comparable</code> ç±»å‹</strong><br/>
ä¸èƒ½ç”¨äº sliceã€mapã€function ç­‰ä¸å¯æ¯”è¾ƒç±»å‹ã€‚</p>
</li>
<li>
<p><strong>é›¶å€¼åˆ¤æ–­æ˜¯â€œä¸¥æ ¼ç­‰äºâ€</strong><br/>
<code>""</code>ã€<code>0</code>ã€<code>false</code>ã€<code>nil</code> éƒ½ç®—é›¶å€¼ã€‚<br/>
æ‰€ä»¥ <code>cmp.Or(0, 1)</code> ä¼šè¿”å› <code>1</code>ï¼Œè¿™ç¬¦åˆé¢„æœŸã€‚</p>
</li>
<li>
<p><strong>æ²¡æœ‰çŸ­è·¯æ±‚å€¼</strong><br/>
æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«æ±‚å€¼ã€‚å¦‚æœæŸä¸ªå‚æ•°æ˜¯æ˜‚è´µå‡½æ•°è°ƒç”¨ï¼Œæ…ç”¨ï¼</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// âŒ ä¸æ¨èï¼šexpensiveFunc() æ€»æ˜¯ä¼šè¢«è°ƒç”¨ï¼</span>
result := cmp.Or(fastVal(), expensiveFunc())
</code></pre>
</li>
</ol>
<hr/>
<h2 data-id="heading-8">ğŸ›  å°æŠ€å·§ï¼šå°è£…è‡ªå·±çš„ <code>OrString</code></h2>
<p>å¦‚æœä½ åªç”¨å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°è£…ä¸€ä¸ªæ›´å®‰å…¨çš„ç‰ˆæœ¬ï¼ˆé¿å…æŒ‡é’ˆæ··æ·†ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">OrString</span><span class="hljs-params">(vals ...<span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> {
    <span class="hljs-keyword">for</span> _, v := <span class="hljs-keyword">range</span> vals {
        <span class="hljs-keyword">if</span> v != <span class="hljs-string">""</span> {
            <span class="hljs-keyword">return</span> v
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
}
</code></pre>
<p>ä½†è¯´å®è¯â€¦â€¦<code>cmp.Or</code> å·²ç»å¤Ÿå¥½ç”¨äº†ï¼Œä½•å¿…é‡å¤é€ è½®å­ï¼ŸğŸ« </p>
<hr/>
<h2 data-id="heading-9">ğŸ å½©è›‹ï¼šä¸ºä»€ä¹ˆå« <code>Or</code>ï¼Ÿ</h2>
<blockquote>
<p>â€œå®ƒå°±åƒ SQL é‡Œçš„ <code>COALESCE</code>ï¼Œæˆ–è€… JavaScript é‡Œçš„ <code>||</code>ï¼ˆè™½ç„¶ JS çš„ <code>||</code> æœ‰ truthy/falsy é—®é¢˜ï¼‰ã€‚â€</p>
</blockquote>
<p>è€Œ <code>Or</code> è¿™ä¸ªåå­—ï¼Œæ˜¯ Go å›¢é˜Ÿæ ¸å¿ƒæˆå‘˜ Russ Cox æ‹æ¿çš„â€”â€”ç®€æ´ã€å‡†ç¡®ã€å¸¦ç‚¹æå®¢å‘³ã€‚</p>
<hr/>
<h2 data-id="heading-10">âœ… æ€»ç»“ï¼š<code>cmp.Or</code> å€¼å¾—åŠ å…¥ä½ çš„å·¥å…·ç®±ï¼</h2>






























<table><thead><tr><th>åœºæ™¯</th><th>ä¼ ç»Ÿå†™æ³•</th><th><code>cmp.Or</code> å†™æ³•</th></tr></thead><tbody><tr><td>ç¯å¢ƒå˜é‡é»˜è®¤å€¼</td><td><code>if == ""</code></td><td><code>cmp.Or(env, "default")</code></td></tr><tr><td>å¤šçº§ fallback</td><td>å¤šå±‚ <code>if-else</code></td><td>ä¸€è¡Œé“¾å¼è°ƒç”¨</td></tr><tr><td>æŒ‡é’ˆéç©ºé€‰æ‹©</td><td>æ‰‹åŠ¨åˆ¤ <code>nil</code></td><td>è‡ªåŠ¨è·³è¿‡ <code>nil</code></td></tr><tr><td>å¤šå­—æ®µæ’åº</td><td>åµŒå¥— <code>if</code></td><td><code>cmp.Or(cmp.Compare(...))</code></td></tr></tbody></table>
<blockquote>
<p><strong>è®°ä½</strong>ï¼šå†™ä»£ç ä¸æ˜¯ä¸ºäº†â€œèƒ½è·‘â€ï¼Œè€Œæ˜¯ä¸ºäº†â€œå¥½è¯»ã€å¥½æ”¹ã€å¥½ç¬‘ï¼ˆå‡å°‘ bug ç¬‘è¯ï¼‰â€ã€‚</p>
</blockquote>
<hr/>
<p>ä¸‹æ¬¡å½“ä½ åˆè¦å†™ <code>if x == "" { x = y }</code> æ—¶ï¼Œä¸å¦¨è¯•è¯• <code>cmp.Or</code> â€”â€”<br/>
<strong>è®©é»˜è®¤å€¼çš„é€‰æ‹©ï¼Œå˜å¾—åƒå‘¼å¸ä¸€æ ·è‡ªç„¶ã€‚</strong></p>
<blockquote>
<p>ğŸ“Œ <strong>Bonus</strong>ï¼šå¦‚æœä½ æ­£åœ¨ç”¨ Go 1.22+ï¼Œç°åœ¨å°±å»é‡æ„ä¸€æ®µæ—§ä»£ç å§ï¼ä½ ä¼šå‘ç°ï¼Œä¸–ç•Œçªç„¶æ¸…çˆ½äº†è®¸å¤š ğŸŒˆã€‚</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Elastic Agent æ··åˆæ‘„å–åŠ é€Ÿ Otel é‡‡ç”¨]]></title>    <link>https://juejin.cn/post/7593342203822817286</link>    <guid>https://juejin.cn/post/7593342203822817286</guid>    <pubDate>2026-01-12T00:03:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593342203822817286" data-draft-id="7593595780222124038" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Elastic Agent æ··åˆæ‘„å–åŠ é€Ÿ Otel é‡‡ç”¨"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-01-12T00:03:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Elastic Agent æ··åˆæ‘„å–åŠ é€Ÿ Otel é‡‡ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:03:29.000Z" title="Mon Jan 12 2026 00:03:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fobservability-labs%2Fauthor%2Ffred-maussion" title="https://www.elastic.co/observability-labs/author/fred-maussion" target="_blank" ref="nofollow noopener noreferrer">Frederic Maussion</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/59b4330f933e43a1bfc7e1544c4d5bf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781009&amp;x-signature=Jq7rzFtW83gyzNjL%2FTdc8pEi3E4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">æ··åˆ Elastic Agentï¼šé‡‡ç”¨ OpenTelemetry æœ€åŠ¡å®çš„è·¯å¾„</h2>
<p>OpenTelemetry æ­£åœ¨è¿…é€Ÿæˆä¸ºç°ä»£å¯è§‚æµ‹æ€§çš„æ ‡å‡†åŸºç¡€ã€‚ç»„ç»‡å¸Œæœ›è·å¾—å…¶å¼€æ”¾ç”Ÿæ€ç³»ç»Ÿã€ç»Ÿä¸€æ¨¡å‹ï¼Œä»¥åŠå‚å•†ä¸­ç«‹çš„åŸ‹ç‚¹ â€”â€” ä½†å°†ä¸€ä¸ªæˆç†Ÿçš„ç”Ÿäº§ç¯å¢ƒè¿ç§»åˆ° OTel é€šå¸¸å¹¶ä¸ç®€å•ã€‚</p>
<p>å¤§å¤šæ•°å›¢é˜Ÿå·²ç»ä¾èµ–ç»è¿‡å®æˆ˜éªŒè¯çš„æ—¥å¿—ã€æŒ‡æ ‡å’Œå®‰å…¨ä¿¡å·ç®¡é“ã€‚ä»–ä»¬æ‹¥æœ‰å¤šå¹´è°ƒä¼˜çš„ä»ªè¡¨æ¿ã€å›´ç»•ç°æœ‰æ•°æ®æµæ„å»ºçš„è¿ç»´å®è·µï¼Œä»¥åŠä¸å…è®¸ä¸­æ–­çš„å…³é”®ä»»åŠ¡ç³»ç»Ÿã€‚</p>
<p>è¿™æ„å‘³ç€é—®é¢˜ä¸å†æ˜¯ â€œä¸ºä»€ä¹ˆé€‰æ‹© OpenTelemetryï¼Ÿâ€ï¼Œè€Œæ˜¯ â€œæˆ‘ä»¬å¦‚ä½•åœ¨ä¸ç ´åç°æœ‰å¯ç”¨ç³»ç»Ÿçš„æƒ…å†µä¸‹åˆ°è¾¾é‚£é‡Œï¼Ÿâ€</p>
<p>Elastic Observability é€šè¿‡æ··åˆæ‘„å–æä¾›äº†ä¸€ç§åœ¨ä¸å¹²æ‰°ç°æœ‰æ•°æ®å’Œä»ªè¡¨æ¿çš„æƒ…å†µä¸‹æ‘„å–é¥æµ‹æ•°æ®çš„æ–¹æ³•ã€‚è¯¥èƒ½åŠ›åœ¨ Elastic 9.2 ä¸­å‘å¸ƒï¼Œå®ƒæ˜¯ä¸€ç§ä½æ‘©æ“¦æ–¹å¼ï¼Œå¯åœ¨ Fleet çš„é›†ä¸­ç®¡ç†ä¸‹ï¼Œå°† OTel æ¥æ”¶å™¨ä¸ç°æœ‰çš„åŸç”Ÿ Elastic é›†æˆå¹¶è¡Œä½¿ç”¨ã€‚</p>
<p>è¿™ç§æ··åˆæ–¹å¼æä¾›äº†å½“ä»Šæœ€åŠ¡å®ã€åœ¨è¿ç»´ä¸Šä¹Ÿæœ€å®‰å…¨çš„ OTel é‡‡ç”¨è·¯å¾„ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-1">æŒ‘æˆ˜ï¼šåœ¨ä¸å¹²æ‰°ç°æœ‰ç³»ç»Ÿçš„æƒ…å†µä¸‹é‡‡ç”¨ OTel</h3>
<p>å¯¹è®¸å¤šç»„ç»‡æ¥è¯´ï¼Œé‡‡ç”¨ OTel çš„è·¯å¾„å—åˆ°ä»¥ä¸‹ç°å®å› ç´ çš„å½±å“è€Œå˜å¾—å¤æ‚ï¼š</p>
<ul>
<li>å·²å»ºç«‹çš„æ—¥å¿—ç®¡é“ï¼Œæ”¯æ’‘ç€å…³é”®å‘Šè­¦</li>
<li>ä¸æ˜“é‡æ–°è¿›è¡ŒåŸ‹ç‚¹çš„é—ç•™åŸºç¡€è®¾æ–½</li>
<li>åŸºäº Elastic åŸç”Ÿæ•°æ®é›†æ„å»ºçš„ç°æœ‰ä»ªè¡¨æ¿å’Œå¯è§†åŒ–</li>
<li>å›¢é˜Ÿæˆå‘˜å¯¹ OTel çš„ç»éªŒæ°´å¹³ä¸ä¸€</li>
<li>é£é™©çº¦æŸä½¿å¾—å¤§è§„æ¨¡å˜æ›´éš¾ä»¥æ¨è¿›</li>
</ul>
<p>åœ¨é•¿æœŸæ¥çœ‹ï¼Œç»Ÿä¸€åˆ° OTel æ˜¯æ­£ç¡®çš„æ–¹å‘ï¼Œä½†ä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰å†…å®¹æ—¢ä¸ç°å®ï¼Œä¹Ÿä¸å¯å–ã€‚</p>
<p>å›¢é˜Ÿéœ€è¦ä¸€ç§æ–¹å¼ï¼Œèƒ½å¤Ÿé€æ­¥å°† OTel å¼•å…¥ç°æœ‰ç¯å¢ƒï¼ŒåŒæ—¶ä¿æŒè¿ç»­æ€§ã€å¯é æ€§ï¼Œä»¥åŠé›†ä¸­æ²»ç†ã€‚</p>
<h2 data-id="heading-2">Elastic Agent 9.2+ï¼šä½œä¸ºé€šå¾€æœªæ¥çš„æ¡¥æ¢çš„æ··åˆæ‘„å–</h2>
<p>Elastic Agent ç°åœ¨æ”¯æŒä¸¤ç§å®Œå…¨å—æ”¯æŒçš„æ‘„å–è·¯å¾„ï¼Œå¹¶ä¸”éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªç»Ÿä¸€çš„ agent ä¸­ï¼š</p>
<ul>
<li><strong>Elastic åŸç”Ÿé›†æˆ</strong>
<ul>
<li>éå¸¸é€‚åˆæ—¥å¿—å’Œä¸»æœºçº§é¥æµ‹ï¼Œæä¾›æˆç†Ÿçš„ä»ªè¡¨æ¿ã€å‘Šè­¦ä»¥åŠ ECS æ˜ å°„ã€‚</li>
</ul>
</li>
<li><strong>OpenTelemetry è¾“å…¥é›†æˆï¼ˆ OTel æ¥æ”¶å™¨</strong> ï¼‰
<ul>
<li>ç”±ä¸Šæ¸¸ OTel Collector ç»„ä»¶é©±åŠ¨ï¼Œå¹¶ç›´æ¥é€šè¿‡ Fleet è¿›è¡Œç®¡ç†ã€‚</li>
</ul>
</li>
</ul>
<p>å…³é”®åœ¨äºï¼š</p>
<p>ä½ å¯ä»¥åœ¨åŒä¸€ä¸ª agent ä¸Šï¼ŒåŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§æ–¹å¼ã€‚</p>
<p>è¿™ç§æ··åˆæ‘„å–æ¨¡å‹ä½¿å›¢é˜Ÿèƒ½å¤Ÿï¼š</p>
<ul>
<li>ç»§ç»­ä½¿ç”¨ Elastic åŸç”Ÿé›†æˆæ¥é‡‡é›†æ—¥å¿—</li>
<li>å¼€å§‹é€šè¿‡ OTel æ¥æ”¶å™¨é‡‡é›†æŒ‡æ ‡æˆ–è¿½è¸ª</li>
<li>é€šè¿‡ Fleet ä¿æŒå®Œæ•´çš„é›†ä¸­æ§åˆ¶</li>
<li>åœ¨åˆé€‚çš„æ—¶é—´å’Œä½ç½®å¼•å…¥ OTel</li>
<li>é¿å…è¿è¡Œå¹¶è¡Œ agent æˆ–é‡å¤çš„æ•°æ®ç®¡é“</li>
</ul>
<p>è¿™æ˜¯ä¸€ç§æ¼”è¿›æ–¹å¼ â€”â€” è€Œä¸æ˜¯æ›¿æ¢ â€”â€” ä½ çš„å¯è§‚æµ‹æ€§ç­–ç•¥ã€‚</p>
<h3 data-id="heading-3">ä¸€ä¸ªå®ç”¨ç¤ºä¾‹ï¼šåœ¨ä¿ç•™ç°æœ‰ç®¡é“çš„åŒæ—¶æ·»åŠ  OTel è¾“å…¥</h3>
<p>æƒ³è±¡ä¸€ä¸ªç³»ç»Ÿï¼Œå…¶ä¸­ NGINX <strong>æ—¥å¿—</strong>å·²ç»é€šè¿‡ Elastic åŸç”Ÿé›†æˆè¿›è¡Œå¤„ç†ã€‚è¿™äº›ç®¡é“é©±åŠ¨ç€ä»ªè¡¨æ¿ã€å®¡è®¡ä»¥åŠå…³é”®å‘Šè­¦ï¼Œä»»ä½•ä¸­æ–­éƒ½ä¸å¯æ¥å—ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œä½ çš„å¹³å°å›¢é˜Ÿå¸Œæœ›ä½¿ç”¨ OpenTelemetry æ¥ç»Ÿä¸€<strong>æŒ‡æ ‡</strong>å’Œ<strong>æœåŠ¡é¥æµ‹</strong>ã€‚</p>
<p>é€šè¿‡ Elastic Agent çš„æ··åˆæ‘„å–ï¼Œè¿™ä¸¤ä¸ªç›®æ ‡å¯ä»¥åŒæ—¶å®ç°ï¼š</p>
<ul>
<li>åœ¨ Fleet ä¸­ä¿ç•™ç°æœ‰çš„æ—¥å¿—é›†æˆ</li>
<li>æ·»åŠ ä¸€ä¸ª OTel è¾“å…¥é›†æˆï¼ˆä¾‹å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopen-telemetry%2Fopentelemetry-collector-contrib%2Ftree%2Fmain%2Freceiver%2Fnginxreceiver" title="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/nginxreceiver" target="_blank" ref="nofollow noopener noreferrer">OTel nginxreceiver</a> ï¼‰</li>
<li>Fleet å°†è¿™ä¸¤è€…ä¸€èµ·éƒ¨ç½²åˆ°åŒä¸€ä¸ª Elastic Agent ä¸­</li>
<li>é€šè¿‡å•ä¸€çš„ç®¡ç†æ§åˆ¶å°ï¼Œåœ¨æ•´ä¸ªåŸºç¡€è®¾æ–½ä¸­å¤§è§„æ¨¡å®Œæˆéƒ¨ç½²</li>
<li>æ—¥å¿—å’Œ OTel æŒ‡æ ‡å¹¶è¡Œæµå…¥ Elasticsearch</li>
</ul>
<p>æ— éœ€é‡æ–°åŸ‹ç‚¹ã€‚æ— éœ€é‡å¤ agentã€‚ä¸ä¼šä¸¢å¤±å†å²å¯è§æ€§ã€‚æ— éœ€æ–°çš„è¿ç»´å·¥å…·ã€‚æ— éœ€å¤–éƒ¨éƒ¨ç½²å·¥å…·ã€‚</p>
<p>æ— è®ºç»„ä»¶æ˜¯ Web æœåŠ¡å™¨ã€åå‘ä»£ç†ã€æ•°æ®åº“ã€ JVM è¿è¡Œæ—¶ï¼Œè¿˜æ˜¯å·²ç»ä½¿ç”¨ OTel è¿›è¡ŒåŸ‹ç‚¹çš„è‡ªå®šä¹‰æœåŠ¡ï¼Œå·¥ä½œæµç¨‹éƒ½æ˜¯ç›¸åŒçš„ã€‚</p>
<h3 data-id="heading-4">ä¸ºä»€ä¹ˆè¿™ç§æ··åˆæ–¹å¼åœ¨æˆ˜ç•¥ä¸Šå¾ˆé‡è¦</h3>
<p>æ··åˆæ‘„å–ä¸ä»…ä»…æ˜¯ä¸€ç§æŠ€æœ¯èƒ½åŠ› â€”â€” å®ƒè¿˜æ˜¯æ¨åŠ¨ OpenTelemetry è½¬å‹çš„ç»„ç»‡çº§èµ‹èƒ½æ‰‹æ®µã€‚</p>
<p><strong>æ¸è¿›å¼è¿ç§»ï¼Œæ— éœ€åœæœº</strong></p>
<p>å›¢é˜Ÿå¯ä»¥æŒ‰ç…§è‡ªå·±æœ€èˆ’é€‚çš„èŠ‚å¥å¼€å§‹é‡‡ç”¨ OTel ã€‚ç°æœ‰çš„é‡‡é›†ä¿¡å·ä¿æŒç¨³å®šï¼Œ OTel æŒ‡æ ‡æˆ–æ—¥å¿—é€æ­¥åŠ å…¥ã€‚</p>
<p><strong>Fleet ä»ç„¶æ˜¯ä½ çš„å•ä¸€æ§åˆ¶å¹³é¢</strong></p>
<p>å³ä½¿ OTel æˆä¸ºä½ æ‘„å–ç­–ç•¥çš„ä¸€éƒ¨åˆ†ï¼Œ Fleet ä»ç„¶è´Ÿè´£ç®¡ç†ï¼š</p>
<ul>
<li>agent ç”Ÿå‘½å‘¨æœŸ</li>
<li>ç­–ç•¥ç®¡ç†</li>
<li>ç‰ˆæœ¬å‡çº§</li>
<li>è¯Šæ–­ä¸ç›‘æ§</li>
</ul>
<p><strong>è·¨å›¢é˜Ÿçš„ä¸€è‡´è¯­ä¹‰</strong></p>
<p>é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fedot-collector" title="https://www.elastic.co/docs/reference/edot-collector" target="_blank" ref="nofollow noopener noreferrer">EDOT</a> é‡‡ç”¨ OTel æ¥æ”¶å™¨ï¼Œæœ‰åŠ©äºåœ¨å¾®æœåŠ¡ã€åŸºç¡€è®¾æ–½å’Œåº”ç”¨ä¹‹é—´ç»Ÿä¸€é¥æµ‹æ¨¡å‹ã€‚</p>
<p>OTel æˆä¸ºé€šç”¨è¯­è¨€ â€”â€” Elastic æˆä¸ºå¯æ‰©å±•çš„åç«¯ã€‚</p>
<p><strong>é¢å‘æœªæ¥çš„çµæ´»æ€§</strong></p>
<p>å½“æŸä¸ªå›¢é˜Ÿéœ€è¦é«˜çº§ OTel åŠŸèƒ½ã€è‡ªå®šä¹‰ç®¡é“ã€è‡ªå®šä¹‰å¤„ç†å™¨æˆ–é¢å¤–çš„ exporter æ—¶ï¼Œä»–ä»¬å¯ä»¥æ„å»ºè‡ªå·±çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fedot-collector%2Fcustom-collector" title="https://www.elastic.co/docs/reference/edot-collector/custom-collector" target="_blank" ref="nofollow noopener noreferrer">EDOT è‡ªå®šä¹‰ collector</a> ç‰ˆæœ¬ï¼Œå¹¶åœ¨ hybrid æ¨¡å¼ä¸‹å°†å…¶ç”¨äº elastic-agent ã€‚</p>
<p>è¿™ä½¿ä½ èƒ½å¤Ÿåœ¨ä¸æ”¾å¼ƒ Elastic Agent è¿è¡Œæ—¶çš„æƒ…å†µä¸‹ï¼Œå®ç°æ·±åº¦å®šåˆ¶ã€‚</p>
<p><strong>æ— å‚å•†é”å®š â€”â€” å®Œæ•´çš„ç”Ÿæ€ç³»ç»Ÿå¯¹é½</strong></p>
<p>æ··åˆæ‘„å– ç›´æ¥ä½¿ç”¨ä¸Šæ¸¸ OpenTelemetry ç»„ä»¶ã€‚è¿™å¼ºåŒ–äº†ç»„ç»‡åœ¨è·¨å›¢é˜Ÿæ ‡å‡†åŒ–å¯è§‚æµ‹æ€§æ—¶æ‰€åå¥½çš„å¼€æ”¾ã€å‚å•†ä¸­ç«‹ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒæ—¶åˆèƒ½è·å¾— Elastic çš„æ”¯æŒã€‚</p>
<h3 data-id="heading-5">å…³äº Standalone æ¨¡å¼ï¼Ÿï¼ˆé«˜çº§ç”¨ä¾‹ï¼‰</h3>
<p>è™½ç„¶ç”± Fleet ç®¡ç†çš„æ··åˆæ‘„å– å¯ä»¥æ»¡è¶³å¤§å¤šæ•°ç”¨æˆ·çš„éœ€æ±‚ï¼Œä½†å¤„äºæ··åˆæ¨¡å¼ä¸‹çš„ Elastic Agent ä¹Ÿæ”¯æŒç‹¬ç«‹éƒ¨ç½²ï¼Œå¹¶å…·å¤‡ä¸æ‰˜ç®¡ç‰ˆæœ¬ç›¸åŒçš„åŠŸèƒ½ã€‚</p>
<ul>
<li>æ”¯æŒåŸç”Ÿé›†æˆ</li>
<li>å®Œå…¨æ§åˆ¶ OTel æ¥æ”¶å™¨ã€å¤„ç†å™¨å’Œ exporter</li>
<li>ä»¥ Elasticsearch ä½œä¸ºåç«¯è¾“å‡º</li>
</ul>
<p>è¿™å¯¹æ­£åœ¨æµ‹è¯•é«˜çº§ OTel éƒ¨ç½²æˆ–æ„å»ºè‡ªå®šä¹‰é¥æµ‹ç­–ç•¥çš„å¹³å°å›¢é˜Ÿæ¥è¯´å°¤å…¶æœ‰ç”¨ã€‚</p>
<p>ä½†è¿™ä»ç„¶æ˜¯å¯é€‰çš„ â€”â€” æ‰˜ç®¡ä½“éªŒä¾ç„¶æ˜¯é»˜è®¤è·¯å¾„ã€‚</p>
<h3 data-id="heading-6">ç»“è®ºï¼šé€šå¾€ OpenTelemetry çš„ç°ä»£åŒ–ã€çµæ´»è·¯å¾„</h3>
<p>è¿ç§»åˆ° OpenTelemetry æ˜¯ä¸€æ®µæ—…ç¨‹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡åˆ‡æ¢ã€‚é€šè¿‡ æ··åˆæ‘„å–ï¼Œ Elastic ä¸ºå¸Œæœ›é€æ­¥é‡‡ç”¨ OTelã€åŒæ—¶ä¿æŒè¿ç»´è¿ç»­æ€§çš„ç»„ç»‡ï¼Œæä¾›äº†ä¸€æ¡ç°å®ã€å¯æ‰©å±•ä¸”ä½é£é™©çš„è·¯å¾„ã€‚</p>
<p>Elastic Agent 9.2+ ä½¿å›¢é˜Ÿèƒ½å¤Ÿï¼š</p>
<ul>
<li>ä¿ç•™å¯é çš„æ—¥å¿—é›†æˆ</li>
<li>æ— ç¼å¼•å…¥ OTel è¾“å…¥</li>
<li>é€šè¿‡ Fleet ç»Ÿä¸€ç®¡ç†ä¸€åˆ‡</li>
<li>é™ä½å¤æ‚æ€§å’Œè¿ç»´å¼€é”€</li>
<li>ä»¥åˆé€‚çš„èŠ‚å¥æ‰©å±•åˆ° OTel</li>
<li>æŒç»­å¯¹é½å¼€æ”¾æ ‡å‡†å’Œæœ€ä½³å®è·µ</li>
</ul>
<p>å®ƒå°†ä¸¤è€…çš„ä¼˜åŠ¿ â€”â€” Elastic åŸç”Ÿçš„ä¸°å¯Œèƒ½åŠ› ä¸ OTel æ ‡å‡†çš„çµæ´»æ€§ â€”â€” èåˆåˆ°ä¸€ä¸ª agent å’Œç»Ÿä¸€çš„è¿ç»´æ¨¡å‹ä¸­ã€‚</p>
<p>Hybrid ä¸æ˜¯ä¸€ç§æƒå®œä¹‹è®¡ã€‚å®ƒæ˜¯è¿æ¥ä½ å½“å‰å¯è§‚æµ‹æ€§å¹³å°ä¸ä¸‹ä¸€é˜¶æ®µç›®æ ‡ä¹‹é—´çš„æˆ˜ç•¥æ¡¥æ¢ã€‚</p>
<h2 data-id="heading-7">æŠ€æœ¯æ“ä½œæŒ‡å—ï¼šåœ¨ Fleet ä¸­éƒ¨ç½²æ··åˆ Elastic Agent + EDOT</h2>
<p>åœ¨ç»“æŸä¹‹å‰ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®é™…æ“ä½œä¸­ä¼šæ˜¯ä»€ä¹ˆæ ·å­ã€‚æ¦‚å¿µä¸Šçš„ä¼˜åŠ¿å¾ˆé‡è¦ï¼Œä½†è®¸å¤šå›¢é˜Ÿå¸Œæœ›çœ‹åˆ°é€šè¿‡ Fleet éƒ¨ç½²æ—¶æ··åˆæ‘„å–çš„å®é™…å·¥ä½œæ–¹å¼ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†ä¸€ä¸ªç®€å•ã€å¯æŠ•å…¥ç”Ÿäº§çš„è®¾ç½®ï¼Œä½¿ç”¨ Elastic Agent 9.2ï¼Œå°†åŸç”Ÿé›†æˆå’Œ OTel è¾“å…¥é›†æˆç»„åˆåœ¨åŒä¸€ä¸ª agent ä¸­ï¼Œè¿™ç§æ–¹æ³•å¯ä»¥åº”ç”¨åˆ°ç¯å¢ƒä¸­çš„ä»»ä½•æœåŠ¡ã€‚</p>
<p>ä»¥ä¸‹æ˜¯é€æ­¥æŒ‡å—ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ <strong>Fleet ç®¡ç†çš„æ··åˆæ¨¡å¼</strong>ä¸‹éƒ¨ç½² Elastic Agent 9.2ï¼Œä»¥ OTel nginxreceiver ä¸ºå…·ä½“ç¤ºä¾‹ã€‚æ­¤æ–¹æ³•é€‚ç”¨äºä»»ä½•å…·æœ‰ OTel æ¥æ”¶å™¨çš„æœåŠ¡ï¼ˆRedisã€HAProxyã€Kafkaã€JVM ç­‰ï¼‰ã€‚</p>
<h3 data-id="heading-8"><strong>è¦æ±‚</strong></h3>
<ul>
<li>Elastic Stack 9.2+</li>
<li>Elastic Agent 9.2+</li>
<li>åœ¨ Kibana ä¸­é…ç½® Fleet</li>
<li>è¿è¡Œä½ çš„å·¥ä½œè´Ÿè½½çš„ä¸»æœºï¼ˆæœ¬ä¾‹ä¸­ä¸º NGINXï¼‰</li>
<li>NGINX stub_status ç«¯ç‚¹æˆ–ä»»ä½•ç­‰æ•ˆçš„ OTel æŒ‡æ ‡ç«¯ç‚¹</li>
<li>å…·æœ‰æ‘„å–æƒé™çš„ API key</li>
</ul>
<h2 data-id="heading-9">åˆ›å»ºæˆ–é€‰æ‹© Agent ç­–ç•¥</h2>
<ol>
<li>åœ¨ Kibana â†’ Management â†’ Fleet â†’ Agent policies</li>
<li>åˆ›å»ºä¸€ä¸ªæ–°ç­–ç•¥ï¼š nginx-o11y</li>
<li>å¯ç”¨ç³»ç»Ÿç›‘æ§ï¼ˆæ¨èï¼‰</li>
<li>ä¿å­˜</li>
</ol>
<h3 data-id="heading-10">å°† Elastic Agent æ³¨å†Œåˆ°ç­–ç•¥ä¸­</h3>
<p>åœ¨ç­–ç•¥ï¼ˆpolicyï¼‰é¡µé¢ï¼š</p>
<ol>
<li>ç‚¹å‡» Add agent</li>
<li>é€‰æ‹©ä½ çš„æ“ä½œç³»ç»Ÿ</li>
<li>å¤åˆ¶å®‰è£…å‘½ä»¤</li>
<li>è¿è¡Œï¼š</li>
</ol>

<pre><code class="hljs language-ini" lang="ini">`

1.  sudo elastic-agent install \
<span class="hljs-attr">2.    --url</span>=&lt;FLEET_URL&gt; \
<span class="hljs-attr">3.    --enrollment-token</span>=&lt;ENROLLMENT_TOKEN&gt;

`AIå†™ä»£ç 
</code></pre>
<p>ä½ å¾ˆå¿«å°±ä¼šåœ¨ Fleet ä¸­çœ‹åˆ° agent æ˜¾ç¤ºä¸º Healthyã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7752ab362e0d45eca5f16a9ba5a0e71b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781009&amp;x-signature=m5Vi8HpAiPz%2FFnD4h9DUE1mADqY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">æ·»åŠ åŸç”Ÿé›†æˆï¼ˆæ—¥å¿—ï¼‰</h2>
<ol>
<li>åœ¨ Fleet ä¸­ï¼Œè¿›å…¥ Integrationsã€‚</li>
<li>æœç´¢ NGINX</li>
<li>ç‚¹å‡» Add NGINX</li>
<li>é€‰æ‹©ä½ çš„ nginx-o11y ç­–ç•¥</li>
<li>ä»…å¯ç”¨æ—¥å¿—é‡‡é›†ï¼ˆaccess + error logsï¼‰</li>
<li>ä¿å­˜å¹¶éƒ¨ç½²</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e25631633214856a16c0858969dace9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781009&amp;x-signature=MQ%2BxuC8qE3bGmDo8uCfc9mLsP7o%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">éªŒè¯æ—¥å¿—é‡‡é›†</h3>
<p>åœ¨ Kibanaï¼Œè¿›å…¥ Analytics â†’ Discover å¹¶æœç´¢ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">`data_stream.dataset : <span class="hljs-string">"nginx.access"</span> <span class="hljs-keyword">or</span> <span class="hljs-string">"nginx.error"</span>` AIå†™ä»£ç 
</code></pre>
<p>æˆ–è€…æ‰“å¼€å†…ç½®ä»ªè¡¨æ¿ï¼š</p>
<pre><code class="hljs language-css" lang="css">`Analytics â†’ Dashboards â†’ <span class="hljs-selector-attr">[Logs Nginx]</span> Access and error logs` AIå†™ä»£ç 
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ed1cd87bd8d4ca489da8589047e8be3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781009&amp;x-signature=RE995wTmvRYpaTxny4A2S0DaFY4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">é€šè¿‡ OTel NGINX æ¥æ”¶å™¨é‡‡é›† NGINX æŒ‡æ ‡</h3>
<p>Elastic Agent 9.2+ å…è®¸ Fleet éƒ¨ç½² OTel è¾“å…¥é›†æˆã€‚<br/>
æœ¬åœºæ™¯é€šè¿‡ Fleet ç®¡ç†çš„é›†æˆï¼Œä½¿ç”¨ OpenTelemetry nginxreceiverã€‚</p>
<h4 data-id="heading-14">å®‰è£… NGINX OpenTelemetry é›†æˆå†…å®¹</h4>
<ol>
<li>åœ¨ Kibanaï¼Œè¿›å…¥ Management â†’ Fleet â†’ Integrationsã€‚</li>
<li>æœç´¢ NGINX OpenTelemetry Assets</li>
<li>ç‚¹å‡» Add Integration</li>
</ol>
<h4 data-id="heading-15">å®‰è£… NGINX OpenTelemetry è¾“å…¥é›†æˆ</h4>
<ol>
<li>
<p>åœ¨ Kibanaï¼Œè¿›å…¥ Management â†’ Fleet â†’ Integrationsã€‚</p>
</li>
<li>
<p>æœç´¢ NGINX OpenTelemetry Input Package</p>
</li>
<li>
<p>ç‚¹å‡» Add Integration</p>
</li>
<li>
<p>å°†å…¶åˆ†é…åˆ°ä½ çš„ agent nginx-o11y ç­–ç•¥</p>
</li>
</ol>
<p>æä¾› NGINX çŠ¶æ€é¡µé¢ç«¯ç‚¹ï¼š</p>
<ul>
<li><strong>Endpoint</strong>: <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%2Fstatus" title="http://localhost/status" target="_blank" ref="nofollow noopener noreferrer">http://localhost/status</a></li>
<li><strong>Collection interval:</strong> 10s</li>
</ul>
<p>ç‚¹å‡» Add integration</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/836feb68e7214c54a9d2a437cc3adc39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781009&amp;x-signature=YOGxjy78pMnHVSEedKTVbRZTAA0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">éªŒè¯ OTel æŒ‡æ ‡</h3>
<ol>
<li>è¿›å…¥ Analytics â†’ Dashboardsã€‚</li>
<li>æ‰“å¼€ï¼š[Metrics Nginx OTEL Overview] ä»ªè¡¨æ¿</li>
</ol>
<p>ä½ åº”è¯¥èƒ½çœ‹åˆ°è¯¸å¦‚ active connectionsã€writesã€readsã€waiting å’Œ request counts ç­‰æŒ‡æ ‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4414604fa48e4271b71ac1fc7f352498~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781009&amp;x-signature=kD%2BE9jkz7i%2B1iXevfNFb9s970yk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-17">æ€»ç»“</h3>
<p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†ä½¿ç”¨ Elastic Agent 9.2 æ—¶ï¼Œæ··åˆæ‘„å–å˜å¾—å¤šä¹ˆç®€å•ã€‚é€šè¿‡åœ¨å•ä¸€ã€é›†ä¸­ç®¡ç†çš„ç­–ç•¥ä¸­ç»„åˆåŸç”Ÿé›†æˆå’Œ OTel æ¥æ”¶å™¨ï¼Œä½ å¯ä»¥çµæ´»åœ°åœ¨æœ€æœ‰ä»·å€¼çš„åœ°æ–¹é‡‡ç”¨ OpenTelemetryï¼Œè€Œä¸ä¼šå¹²æ‰°ç°æœ‰ç®¡é“æˆ–å¢åŠ è¿ç»´è´Ÿæ‹…ã€‚</p>
<p>æ— è®ºä½ æ˜¯å°†è¿™ç§æ¨¡å¼æ‰©å±•åˆ°å…¶ä»–æœåŠ¡ã€å°è¯•å…¶ä»– OTel æ¥æ”¶å™¨ï¼Œè¿˜æ˜¯åœ¨æ•´ä¸ª fleet ä¸­å¤§è§„æ¨¡éƒ¨ç½²ï¼Œéƒ¨ç½²æ¨¡å‹éƒ½æ˜¯ä¸€è‡´ã€å¯é‡å¤ä¸”å¯æŠ•å…¥ç”Ÿäº§çš„ã€‚</p>
<p>æ›´å¤šä¿¡æ¯åŠ Elastic Observability çš„å…¶ä»–åˆ›æ–°ï¼Œè¯·æŸ¥çœ‹ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F148492350" title="https://elasticstack.blog.csdn.net/article/details/148492350" target="_blank" ref="nofollow noopener noreferrer">äº†è§£ Elastic å¦‚ä½•é€šè¿‡ OpenTelemetry æ¼”è¿›æ•°æ®æ‘„å–</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F154786809" title="https://elasticstack.blog.csdn.net/article/details/154786809" target="_blank" ref="nofollow noopener noreferrer">å­¦ä¹  OpAMP å¦‚ä½•å®ç° OpenTelemetry SDK çš„é›†ä¸­é…ç½®</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F154007305" title="https://elasticstack.blog.csdn.net/article/details/154007305" target="_blank" ref="nofollow noopener noreferrer">æ¢ç´¢ Streams å¦‚ä½•é‡å¡‘ AI é©±åŠ¨çš„æ—¥å¿—è°ƒæŸ¥å·¥ä½œæµ</a></li>
</ul>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fobservability-labs%2Fblog%2Fhybrid-elastic-agent-opentelemetry-integration" title="https://www.elastic.co/observability-labs/blog/hybrid-elastic-agent-opentelemetry-integration" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/observabiliâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§’æ€é¢è¯•ï¼MyBatis-Spring-Boot åˆå§‹åŒ–æµç¨‹æ·±åº¦æ‹†è§£]]></title>    <link>https://juejin.cn/post/7593859149441237001</link>    <guid>https://juejin.cn/post/7593859149441237001</guid>    <pubDate>2026-01-12T00:41:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593859149441237001" data-draft-id="7591719013489557542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§’æ€é¢è¯•ï¼MyBatis-Spring-Boot åˆå§‹åŒ–æµç¨‹æ·±åº¦æ‹†è§£"/> <meta itemprop="keywords" content="Spring Boot,MyBatis"/> <meta itemprop="datePublished" content="2026-01-12T00:41:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²ç…®å…‰é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/1523239911963420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§’æ€é¢è¯•ï¼MyBatis-Spring-Boot åˆå§‹åŒ–æµç¨‹æ·±åº¦æ‹†è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1523239911963420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²ç…®å…‰é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:41:57.000Z" title="Mon Jan 12 2026 00:41:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A["MyBatis-Spring-Boot-Starter ä¾èµ–"] --&gt; B["è‡ªåŠ¨é…ç½®æ¨¡å—&lt;br/&gt;mybatis-spring-boot-autoconfigure"]
    B --&gt; C["MybatisAutoConfiguration è‡ªåŠ¨é…ç½®ç±»"]
    
    %% æ•°æ®æºä¾èµ–
    D["Spring æ•°æ®æºè‡ªåŠ¨é…ç½®&lt;br/&gt;(HikariCP/Druidç­‰)"] --&gt; C
    
    %% MybatisAutoConfiguration æ„å»ºæ ¸å¿ƒç»„ä»¶
    C --&gt; E["SqlSessionFactory&lt;br/&gt;(å­˜å‚¨å…¨å±€é…ç½®/åˆ›å»ºSqlSession)"]
    C --&gt; F["SqlSessionTemplate&lt;br/&gt;(çº¿ç¨‹å®‰å…¨çš„Sqlæ‰§è¡Œå™¨)"]
    E --&gt; F["SqlSessionTemplate"]
    
    %% äº‹åŠ¡æ•´åˆ
    G["SpringManagedTransactionFactory"] --&gt; E["SqlSessionFactory"]
    H["Spring äº‹åŠ¡ç®¡ç†å™¨&lt;br/&gt;(@Transactional)"] --&gt; G
    
    %% Mapperæ‰«æä¸ä»£ç†
    I["@MapperScan æ³¨è§£"] --&gt; J["MapperScannerRegistrar"]
    J --&gt; K["MapperScannerConfigurer&lt;br/&gt;(æ‰«æMapperæ¥å£)"]
    K --&gt; L["Mapperæ¥å£&lt;br/&gt;(com.test.core.mapper)"]
    F --&gt; M["Mapperä»£ç†å¯¹è±¡&lt;br/&gt;(MyBatisåŠ¨æ€ä»£ç†)"]
    L --&gt; M
    
    %% é…ç½®æ–‡ä»¶å…³è”
    N["application.yml&lt;br/&gt;(mybatiså‰ç¼€é…ç½®)"] --&gt; C
    O["mybatis-config.xml&lt;br/&gt;(å…¨å±€é…ç½®)"] --&gt; E
    P["Mapper XMLæ˜ å°„æ–‡ä»¶&lt;br/&gt;(mapper/**/*.xml)"] --&gt; E
    
    %% ä¸šåŠ¡å±‚è°ƒç”¨
    M --&gt; Q["Serviceå±‚&lt;br/&gt;(@Autowiredæ³¨å…¥Mapper)"]
    
    %% æ ·å¼ä¼˜åŒ–
    classDef config fill:#f0f8ff,stroke:#4169e1,stroke-width:2px
    classDef core fill:#fdf2f8,stroke:#9c27b0,stroke-width:2px
    classDef scan fill:#e8f4f8,stroke:#00bcd4,stroke-width:2px
    classDef business fill:#f5f5f5,stroke:#666,stroke-width:2px
    
    class B,C,N,O config
    class E,F,G,H core
    class I,J,K,L,M scan
    class Q business
</code></pre>
<h3 data-id="heading-0">ä¸€ã€åŸºæœ¬ä½¿ç”¨ï¼ˆå«åœºæ™¯è¯´æ˜ä¸æ³¨æ„äº‹é¡¹ï¼‰</h3>
<p>MyBatis-Spring-Boot-Starter ç®€åŒ–äº† MyBatis ä¸ Spring Boot çš„æ•´åˆï¼Œæ— éœ€æ‰‹åŠ¨é…ç½® SqlSessionFactoryã€SqlSession ç­‰æ ¸å¿ƒç»„ä»¶ï¼Œä»…éœ€ä¸‰æ­¥å³å¯å¿«é€Ÿé›†æˆã€‚</p>
<h4 data-id="heading-1">1. ä¾èµ–å¼•å…¥</h4>
<p>åœ¨ Maven é¡¹ç›®çš„ pom.xml ä¸­æ·»åŠ æ ¸å¿ƒä¾èµ–ï¼Œè¯¥ä¾èµ–å·²å†…ç½® MyBatis æ ¸å¿ƒåŒ…ã€Spring æ•´åˆé€‚é…åŒ…åŠè‡ªåŠ¨é…ç½®æ¨¡å—ï¼Œæ— éœ€é¢å¤–å¼•å…¥å…¶ä»–å…³è”ä¾èµ–ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> <span class="hljs-comment">&lt;!-- ç¨³å®šç‰ˆï¼Œé€‚é… Spring Boot 2.x ç³»åˆ—ï¼Œå¦‚éœ€é€‚é… 3.x å¯å‡çº§è‡³ 3.0+ ç‰ˆæœ¬ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-2">2. YML æ ¸å¿ƒé…ç½®</h4>
<p>é€šè¿‡ application.yml é…ç½® MyBatis æ ¸å¿ƒå‚æ•°ï¼ŒæŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„å’Œ Mapper æ˜ å°„æ–‡ä»¶ä½ç½®ï¼Œæ”¯æŒé€šé…ç¬¦åŒ¹é…å¤šç›®å½•ä¸‹çš„æ˜ å°„æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">mybatis:</span>
  <span class="hljs-attr">config-location:</span> <span class="hljs-string">classpath:mybatis-config.xml</span> <span class="hljs-comment"># æŒ‡å®š MyBatis å…¨å±€é…ç½®æ–‡ä»¶ï¼ˆå¦‚åˆ«åã€æ’ä»¶ã€ç¼“å­˜ç­‰é…ç½®ï¼‰</span>
  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath*:mapper/**/*.xml</span> <span class="hljs-comment"># æ‰«æç±»è·¯å¾„ä¸‹æ‰€æœ‰ mapper ç›®å½•ï¼ˆå«å­ç›®å½•ï¼‰çš„ XML æ˜ å°„æ–‡ä»¶</span>
  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.test.core.entity</span> <span class="hljs-comment"># å¯é€‰é…ç½®ï¼ŒæŒ‡å®šå®ä½“ç±»åŒ…è·¯å¾„ï¼ŒXML ä¸­å¯ç›´æ¥ä½¿ç”¨ç±»åï¼ˆæ— éœ€å…¨é™å®šåï¼‰</span>
  <span class="hljs-attr">configuration:</span>
    <span class="hljs-attr">map-underscore-to-camel-case:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># å¯é€‰é…ç½®ï¼Œå¼€å¯ä¸‹åˆ’çº¿å‘½åè½¬é©¼å³°å‘½åï¼ˆå¦‚ user_name â†’ userNameï¼‰</span>
</code></pre>
<h4 data-id="heading-3">3. å¯åŠ¨ç±»é…ç½®</h4>
<p>åœ¨ Spring Boot å¯åŠ¨ç±»ä¸Šæ·»åŠ Â @MapperScanÂ æ³¨è§£ï¼ŒæŒ‡å®š Mapper æ¥å£æ‰€åœ¨åŒ…è·¯å¾„ï¼ŒSpring ä¼šè‡ªåŠ¨æ‰«æè¯¥åŒ…ä¸‹çš„æ¥å£å¹¶åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.mybatis.spring.annotation.MapperScan;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.web.servlet.support.SpringBootServletInitializer;

<span class="hljs-comment">// å¼€å¯ Spring Boot è‡ªåŠ¨é…ç½®ï¼Œæ‰«æå½“å‰åŒ…åŠå­åŒ…ä¸‹çš„ç»„ä»¶</span>
<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-comment">// æ‰«æ Mapper æ¥å£æ‰€åœ¨åŒ…ï¼Œå¤šä¸ªåŒ…å¯é€šè¿‡é€—å·åˆ†éš”ï¼ˆå¦‚ "com.test.core.mapper,com.test.ext.mapper"ï¼‰</span>
<span class="hljs-meta">@MapperScan(basePackages = "com.test.core.mapper")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestApplication</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SpringBootServletInitializer</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å¯åŠ¨ Spring Boot åº”ç”¨ï¼ŒåŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®å’Œè‡ªå®šä¹‰ç»„ä»¶</span>
        SpringApplication.run(TestApplication.class, args);
    }

}
</code></pre>
<h3 data-id="heading-4">äºŒã€åˆå§‹åŒ–æµç¨‹ï¼ˆåº•å±‚åŸç†æ‹†è§£ï¼‰</h3>
<p>Spring Boot å¯åŠ¨æ—¶ï¼ŒMyBatis ä¼šé€šè¿‡è‡ªåŠ¨é…ç½®æœºåˆ¶å®Œæˆæ ¸å¿ƒç»„ä»¶çš„åˆå§‹åŒ–ï¼Œæœ€ç»ˆå®ç° Mapper æ¥å£ä¸ XML æ˜ å°„æ–‡ä»¶çš„å…³è”ï¼Œæ ¸å¿ƒæ˜¯æ„å»ºä¸‰å¤§å…³é”®å¯¹è±¡å¹¶æ³¨å…¥ Spring å®¹å™¨ã€‚</p>
<h4 data-id="heading-5">1. æ ¸å¿ƒåˆå§‹åŒ–ç›®æ ‡</h4>
<p>åˆå§‹åŒ–è¿‡ç¨‹çš„æ ¸å¿ƒæ˜¯åˆ›å»ºå¹¶ç»„è£…ä¸‰ä¸ªæ ¸å¿ƒå¯¹è±¡ï¼Œæ”¯æ’‘ MyBatis å®Œæ•´çš„ SQL æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li><strong>SqlSessionFactoryï¼š</strong> MyBatis æ ¸å¿ƒå·¥å‚ç±»ï¼Œä¿å­˜å…¨å±€é…ç½®ï¼ˆæ•°æ®æºã€æ˜ å°„æ–‡ä»¶ã€ç¼“å­˜ç­–ç•¥ç­‰ï¼‰ï¼Œè´Ÿè´£åˆ›å»º SqlSession å®ä¾‹ã€‚</li>
<li><strong>SqlSessionTemplateï¼š</strong> SqlSession çš„ Spring é€‚é…ç‰ˆï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼Œå°è£…äº† SqlSession çš„æ ¸å¿ƒæ“ä½œï¼ˆCRUDï¼‰ï¼Œä¾›ä¸šåŠ¡ä»£ç ç›´æ¥è°ƒç”¨ã€‚</li>
<li><strong>MapperScannerConfigurerï¼š</strong> Mapper æ¥å£æ‰«æå™¨ï¼Œæ‰«ææŒ‡å®šåŒ…ä¸‹çš„ Mapper æ¥å£ï¼Œä¸ºæ¯ä¸ªæ¥å£åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡å¹¶æ³¨å†Œåˆ° Spring å®¹å™¨ã€‚</li>
</ul>
<h4 data-id="heading-6">2. SqlSessionFactory ä¸ SqlSessionTemplate çš„æ³¨å…¥æµç¨‹</h4>
<p>è¿™ä¸¤ä¸ªç»„ä»¶çš„åˆå§‹åŒ–ä¾èµ– Spring Boot çš„è‡ªåŠ¨é…ç½®æœºåˆ¶ï¼Œæ ¸å¿ƒå…¥å£æ˜¯Â MybatisAutoConfigurationÂ ç±»ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰è‡ªåŠ¨é…ç½®ç±»åŠ è½½</strong>
å¼•å…¥Â mybatis-spring-boot-starterÂ åï¼Œä¾èµ–ä¼šè‡ªå¸¦Â mybatis-spring-boot-autoconfigure-2.1.0.jarã€‚</p>
<p>Spring Boot å¯åŠ¨æ—¶ï¼Œä¼šé€šè¿‡Â META-INF/spring.factoriesÂ æ–‡ä»¶ä¸­çš„é…ç½®ï¼Œè‡ªåŠ¨åŠ è½½Â org.mybatis.spring.boot.autoconfigure.MybatisAutoConfigurationÂ è¿™ä¸ªè‡ªåŠ¨é…ç½®ç±»ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰SqlSessionFactory æ„å»º</strong></p>
<p>MybatisAutoConfigurationÂ ç±»ä¸­é€šè¿‡Â @BeanÂ æ³¨è§£å£°æ˜ SqlSessionFactoryï¼Œæ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisAutoConfiguration</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InitializingBean</span> {
    <span class="hljs-comment">// æ³¨å…¥é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ï¼ˆå¯¹åº” yml ä¸­ mybatis å‰ç¼€çš„é…ç½®ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MybatisProperties properties;
    <span class="hljs-comment">// æ³¨å…¥æ•°æ®æºï¼ˆç”± Spring è‡ªåŠ¨é…ç½®ï¼Œå¦‚ Druidã€HikariCP ç­‰ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> DataSource dataSource;
    <span class="hljs-comment">// å…¶ä»–ä¾èµ–ç»„ä»¶ï¼ˆæ‹¦æˆªå™¨ã€ç±»å‹å¤„ç†å™¨ç­‰ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Interceptor[] interceptors;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;ConfigurationCustomizer&gt; configurationCustomizers;

    <span class="hljs-comment">// æ„é€ æ–¹æ³•è‡ªåŠ¨æ³¨å…¥ä¾èµ–</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MybatisAutoConfiguration</span><span class="hljs-params">(MybatisProperties properties, 
                                    ObjectProvider&lt;Interceptor[]&gt; interceptorsProvider,
                                    ObjectProvider&lt;TypeHandler[]&gt; typeHandlersProvider,
                                    ResourceLoader resourceLoader,
                                    ObjectProvider&lt;DatabaseIdProvider&gt; databaseIdProvider,
                                    ObjectProvider&lt;List&lt;ConfigurationCustomizer&gt;&gt; configurationCustomizersProvider)</span> {
        <span class="hljs-built_in">this</span>.properties = properties;
        <span class="hljs-built_in">this</span>.interceptors = interceptorsProvider.getIfAvailable();
        <span class="hljs-built_in">this</span>.configurationCustomizers = configurationCustomizersProvider.getIfAvailable(Collections::emptyList);
        <span class="hljs-comment">// å…¶ä»–èµ‹å€¼é€»è¾‘...</span>
    }

    <span class="hljs-comment">// æ„å»º SqlSessionFactory å¹¶æ³¨å…¥ Spring å®¹å™¨ï¼Œ@ConditionalOnMissingBean è¡¨ç¤ºç”¨æˆ·æœªè‡ªå®šä¹‰æ—¶æ‰ç”Ÿæ•ˆ</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@ConditionalOnMissingBean</span>
    <span class="hljs-keyword">public</span> SqlSessionFactory <span class="hljs-title function_">sqlSessionFactory</span><span class="hljs-params">(DataSource dataSource)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">SqlSessionFactoryBean</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionFactoryBean</span>();
        <span class="hljs-comment">// è®¾ç½®æ•°æ®æº</span>
        factory.setDataSource(dataSource);
        <span class="hljs-comment">// è®¾ç½® Mapper æ˜ å°„æ–‡ä»¶è·¯å¾„ï¼ˆä»é…ç½®æ–‡ä»¶ä¸­è¯»å–ï¼‰</span>
        factory.setMapperLocations(resolveMapperLocations(properties.getMapperLocations()));
        <span class="hljs-comment">// è®¾ç½®å…¨å±€é…ç½®ï¼ˆå¦‚åˆ«åã€ä¸‹åˆ’çº¿è½¬é©¼å³°ç­‰ï¼‰</span>
        applyConfiguration(factory);
        <span class="hljs-comment">// è®¾ç½®æ‹¦æˆªå™¨ï¼ˆå¦‚åˆ†é¡µæ’ä»¶ã€æ—¥å¿—æ’ä»¶ç­‰ï¼‰</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.interceptors != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">this</span>.interceptors.length &gt; <span class="hljs-number">0</span>) {
            factory.setPlugins(<span class="hljs-built_in">this</span>.interceptors);
        }
        <span class="hljs-comment">// å…¶ä»–é…ç½®ï¼ˆç±»å‹å¤„ç†å™¨ã€æ•°æ®åº“æ–¹è¨€ç­‰ï¼‰...</span>
        <span class="hljs-comment">// æ„å»º DefaultSqlSessionFactory å®ä¾‹å¹¶è¿”å›</span>
        <span class="hljs-keyword">return</span> factory.getObject();
    }

    <span class="hljs-comment">// åº”ç”¨è‡ªå®šä¹‰é…ç½®ï¼ˆå¦‚é€šè¿‡ ConfigurationCustomizer æ¥å£ä¿®æ”¹ MyBatis é…ç½®ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">applyConfiguration</span><span class="hljs-params">(SqlSessionFactoryBean factory)</span> {
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.properties.getConfiguration();
        <span class="hljs-comment">// è‹¥æœªæŒ‡å®š mybatis.config-locationï¼Œåˆ™åˆ›å»ºé»˜è®¤ Configuration å¯¹è±¡</span>
        <span class="hljs-keyword">if</span> (configuration == <span class="hljs-literal">null</span> &amp;&amp; !StringUtils.hasText(<span class="hljs-built_in">this</span>.properties.getConfigLocation())) {
            configuration = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();
        }
        <span class="hljs-comment">// æ‰§è¡Œè‡ªå®šä¹‰é…ç½®ï¼ˆç”¨æˆ·å¯å®ç° ConfigurationCustomizer æ¥å£æ‰©å±•é…ç½®ï¼‰</span>
        <span class="hljs-keyword">if</span> (configuration != <span class="hljs-literal">null</span> &amp;&amp; !<span class="hljs-built_in">this</span>.configurationCustomizers.isEmpty()) {
            <span class="hljs-keyword">for</span> (ConfigurationCustomizer customizer : <span class="hljs-built_in">this</span>.configurationCustomizers) {
                customizer.customize(configuration);
            }
        }
        factory.setConfiguration(configuration);
    }

    <span class="hljs-comment">// æ„å»º SqlSessionTemplate å¹¶æ³¨å…¥å®¹å™¨ï¼Œä¾èµ– SqlSessionFactory</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@ConditionalOnMissingBean</span>
    <span class="hljs-keyword">public</span> SqlSessionTemplate <span class="hljs-title function_">sqlSessionTemplate</span><span class="hljs-params">(SqlSessionFactory sqlSessionFactory)</span> {
        <span class="hljs-comment">// é»˜è®¤ä¸ºæ‰¹é‡æ“ä½œæ¨¡å¼ï¼Œå¯é€šè¿‡æ„é€ å‚æ•°æŒ‡å®šæ‰§è¡Œå™¨ç±»å‹ï¼ˆSIMPLE/REUSE/BATCHï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SqlSessionTemplate</span>(sqlSessionFactory);
    }
}
</code></pre>
<p><strong>ï¼ˆ3ï¼‰Spring äº‹åŠ¡æ•´åˆ</strong></p>
<p>MyBatis çš„äº‹åŠ¡ç”±Â TransactionFactoryÂ æ¥å£ç®¡ç†ï¼ŒSqlSessionFactoryBeanÂ çš„Â buildSqlSessionFactoryÂ æ–¹æ³•ä¸­ï¼Œä¼šé»˜è®¤ä½¿ç”¨Â SpringManagedTransactionFactoryÂ é€‚é… Spring äº‹åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">protected</span> SqlSessionFactory <span class="hljs-title function_">buildSqlSessionFactory</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-type">Configuration</span> <span class="hljs-variable">targetConfiguration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>();
    <span class="hljs-comment">// é…ç½®ç¯å¢ƒï¼šå…³è”æ•°æ®æºå’Œ Spring äº‹åŠ¡å·¥å‚</span>
    targetConfiguration.setEnvironment(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Environment</span>(
        <span class="hljs-built_in">this</span>.environment,
        <span class="hljs-comment">// è‹¥æœªè‡ªå®šä¹‰äº‹åŠ¡å·¥å‚ï¼Œé»˜è®¤ä½¿ç”¨ SpringManagedTransactionFactory</span>
        <span class="hljs-built_in">this</span>.transactionFactory == <span class="hljs-literal">null</span> ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">SpringManagedTransactionFactory</span>() : <span class="hljs-built_in">this</span>.transactionFactory,
        <span class="hljs-built_in">this</span>.dataSource
    ));
    <span class="hljs-comment">// å…¶ä»–æ„å»ºé€»è¾‘...</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultSqlSessionFactory</span>(targetConfiguration);
}
</code></pre>
<p>è¿™ä½¿å¾— MyBatis å¯ä»¥æ— ç¼é›†æˆ Spring çš„å£°æ˜å¼äº‹åŠ¡ï¼ˆå¦‚Â @TransactionalÂ æ³¨è§£ï¼‰ã€‚</p>
<h4 data-id="heading-7">3. MapperScannerConfigurer çš„æ³¨å…¥æµç¨‹</h4>
<p>Mapper æ¥å£çš„æ‰«æä¸ä»£ç†å¯¹è±¡åˆ›å»ºï¼Œæ ¸å¿ƒä¾èµ–Â @MapperScanÂ æ³¨è§£å’ŒÂ MapperScannerRegistrarÂ ç±»ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰æ³¨è§£è§¦å‘æ‰«æ</strong></p>
<p>@MapperScanÂ æ³¨è§£ä¸­é€šè¿‡Â @Import(MapperScannerRegistrar.class)Â å¯¼å…¥æ‰«ææ³¨å†Œå™¨ï¼Œè§¦å‘ Mapper æ‰«æé€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¯é‡å¤æ³¨è§£ï¼Œæ”¯æŒå¤šåŒ…æ‰«æ</span>
<span class="hljs-meta">@Repeatable(MapperScans.class)</span>
<span class="hljs-meta">@Import(MapperScannerRegistrar.class)</span> <span class="hljs-comment">// å¯¼å…¥æ‰«ææ³¨å†Œå™¨</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MapperScan {
    String[] basePackages() <span class="hljs-keyword">default</span> {}; <span class="hljs-comment">// Mapper æ¥å£æ‰€åœ¨åŒ…è·¯å¾„</span>
    Class&lt;?&gt;[] basePackageClasses() <span class="hljs-keyword">default</span> {}; <span class="hljs-comment">// æ›¿ä»£åŒ…è·¯å¾„ï¼ŒæŒ‡å®šç±»æ‰€åœ¨åŒ…</span>
    <span class="hljs-comment">// å…¶ä»–å±æ€§ï¼ˆå¦‚ sqlSessionTemplateRefã€sqlSessionFactoryRef ç­‰ï¼‰...</span>
}
</code></pre>
<p><strong>ï¼ˆ2ï¼‰æ³¨å†Œ MapperScannerConfigurer</strong></p>
<p>MapperScannerRegistrarÂ å®ç°äº†Â ImportBeanDefinitionRegistrarÂ æ¥å£ï¼Œåœ¨ Spring å®¹å™¨åˆå§‹åŒ–æ—¶ï¼Œä¼šåŠ¨æ€æ³¨å†ŒÂ MapperScannerConfigurerÂ åˆ°å®¹å™¨ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapperScannerRegistrar</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ImportBeanDefinitionRegistrar</span>, ResourceLoaderAware {
    <span class="hljs-keyword">private</span> ResourceLoader resourceLoader;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerBeanDefinitions</span><span class="hljs-params">(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry)</span> {
        <span class="hljs-comment">// è§£æ @MapperScan æ³¨è§£çš„å±æ€§ï¼ˆå¦‚ basePackagesï¼‰</span>
        <span class="hljs-type">AnnotationAttributes</span> <span class="hljs-variable">annoAttrs</span> <span class="hljs-operator">=</span> AnnotationAttributes.fromMap(
            importingClassMetadata.getAnnotationAttributes(MapperScan.class.getName())
        );
        <span class="hljs-comment">// æ³¨å†Œ MapperScannerConfigurer åˆ° Spring å®¹å™¨</span>
        registerBeanDefinitions(annoAttrs, registry, generateBeanName(annoAttrs, registry));
    }

    <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerBeanDefinitions</span><span class="hljs-params">(AnnotationAttributes annoAttrs, BeanDefinitionRegistry registry, String beanName)</span> {
        <span class="hljs-comment">// æ„å»º MapperScannerConfigurer çš„ BeanDefinition</span>
        <span class="hljs-type">BeanDefinitionBuilder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> BeanDefinitionBuilder.genericBeanDefinition(MapperScannerConfigurer.class);
        <span class="hljs-comment">// è®¾ç½®æ‰«æçš„åŒ…è·¯å¾„</span>
        builder.addPropertyValue(<span class="hljs-string">"basePackage"</span>, StringUtils.arrayToCommaDelimitedString(annoAttrs.getStringArray(<span class="hljs-string">"basePackages"</span>)));
        <span class="hljs-comment">// è®¾ç½® SqlSessionTemplate çš„å¼•ç”¨ï¼ˆé»˜è®¤ä½¿ç”¨å®¹å™¨ä¸­çš„ sqlSessionTemplateï¼‰</span>
        <span class="hljs-keyword">if</span> (annoAttrs.hasAttribute(<span class="hljs-string">"sqlSessionTemplateRef"</span>)) {
            builder.addPropertyValue(<span class="hljs-string">"sqlSessionTemplateBeanName"</span>, annoAttrs.getString(<span class="hljs-string">"sqlSessionTemplateRef"</span>));
        }
        <span class="hljs-comment">// è®¾ç½® SqlSessionFactory çš„å¼•ç”¨ï¼ˆé»˜è®¤ä½¿ç”¨å®¹å™¨ä¸­çš„ sqlSessionFactoryï¼‰</span>
        <span class="hljs-keyword">if</span> (annoAttrs.hasAttribute(<span class="hljs-string">"sqlSessionFactoryRef"</span>)) {
            builder.addPropertyValue(<span class="hljs-string">"sqlSessionFactoryBeanName"</span>, annoAttrs.getString(<span class="hljs-string">"sqlSessionFactoryRef"</span>));
        }
        <span class="hljs-comment">// å…¶ä»–é…ç½®ï¼ˆå¦‚æ ‡è®°æ¥å£ã€è¿‡æ»¤å™¨ç­‰ï¼‰...</span>
        <span class="hljs-comment">// æ³¨å†Œ BeanDefinition åˆ° Spring å®¹å™¨</span>
        registry.registerBeanDefinition(beanName, builder.getBeanDefinition());
    }

    <span class="hljs-comment">// å…¶ä»–è¾…åŠ©æ–¹æ³•...</span>
}
</code></pre>
<p><strong>ï¼ˆ3ï¼‰Mapper æ¥å£ä»£ç†ä¸æ³¨å†Œ</strong></p>
<p>MapperScannerConfigurerÂ åˆå§‹åŒ–åï¼Œä¼šæ‰«æÂ basePackagesÂ ä¸‹çš„æ‰€æœ‰ Mapper æ¥å£ï¼Œé€šè¿‡ MyBatis çš„Â MapperProxyFactoryÂ ä¸ºæ¯ä¸ªæ¥å£åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œæœ€ç»ˆå°†ä»£ç†å¯¹è±¡æ³¨å†Œåˆ° Spring å®¹å™¨ã€‚</p>
<p>ä¸šåŠ¡ä»£ç å¯ç›´æ¥é€šè¿‡Â @AutowiredÂ æ³¨å…¥ Mapper æ¥å£ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ä»£ç†å¯¹è±¡ï¼Œç”±ä»£ç†å¯¹è±¡é€šè¿‡ SqlSessionTemplate æ‰§è¡Œ SQLã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Shiroç™»å½•éªŒè¯ä¸é‰´æƒæ ¸å¿ƒæµç¨‹è¯¦è§£]]></title>    <link>https://juejin.cn/post/7593771861324660762</link>    <guid>https://juejin.cn/post/7593771861324660762</guid>    <pubDate>2026-01-12T00:41:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593771861324660762" data-draft-id="7593171168258850825" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Shiroç™»å½•éªŒè¯ä¸é‰´æƒæ ¸å¿ƒæµç¨‹è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,Spring Boot"/> <meta itemprop="datePublished" content="2026-01-12T00:41:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²ç…®å…‰é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/1523239911963420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Shiroç™»å½•éªŒè¯ä¸é‰´æƒæ ¸å¿ƒæµç¨‹è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1523239911963420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²ç…®å…‰é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:41:02.000Z" title="Mon Jan 12 2026 00:41:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Webé¡¹ç›®çš„å®‰å…¨æ¶æ„ä¸­ï¼Œç™»å½•éªŒè¯ä¸æƒé™æ§åˆ¶æ˜¯ä¿éšœç³»ç»Ÿå®‰å…¨çš„æ ¸å¿ƒç¯èŠ‚ã€‚Shiroä½œä¸ºä¸€æ¬¾è½»é‡çº§çš„å®‰å…¨æ¡†æ¶ï¼Œé€šè¿‡è¿‡æ»¤å™¨ï¼ˆFilterï¼‰ä¸æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰çš„ååŒå·¥ä½œï¼Œæä¾›äº†å®Œæ•´ä¸”çµæ´»çš„ç™»å½•éªŒè¯ä¸é‰´æƒè§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†ä»æ ¸å¿ƒæ¦‚è¿°ã€æ ¸å¿ƒç»„ä»¶ã€ç™»å½•éªŒè¯æµç¨‹ã€æƒé™é‰´æƒæµç¨‹ã€è¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨åŠå®è·µå»ºè®®ä¸ƒä¸ªç»´åº¦ï¼Œç³»ç»Ÿæ‹†è§£å…¶å®ç°é€»è¾‘ä¸åº”ç”¨ç»†èŠ‚ï¼ŒåŠ©åŠ›å¼€å‘è€…æ·±å…¥ç†è§£å¹¶çµæ´»è¿ç”¨Shiroæ„å»ºå®‰å…¨é˜²æŠ¤ä½“ç³»ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒæ¦‚è¿°ï¼šåŒå±‚å®‰å…¨é˜²æŠ¤ä½“ç³»</h2>
<p>Shiroç™»å½•éªŒè¯ä¸é‰´æƒçš„æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼Œæ˜¯æ„å»ºâ€œè¿‡æ»¤å™¨é“¾å‰ç½®æ‹¦æˆª+æ‹¦æˆªå™¨æ–¹æ³•çº§å¢å¼ºâ€çš„åŒå±‚ç®¡æ§æ¨¡å¼ã€‚<strong>è¿‡æ»¤å™¨è´Ÿè´£URLçº§åˆ«çš„ç²—ç²’åº¦å®‰å…¨æ ¡éªŒï¼ˆå¦‚æ˜¯å¦ç™»å½•ã€URLæ˜¯å¦å…è®¸åŒ¿åè®¿é—®ï¼‰ï¼Œç¡®ä¿éæ³•è¯·æ±‚åœ¨è¿›å…¥ä¸šåŠ¡å±‚å‰è¢«é˜»æ–­ï¼›æ‹¦æˆªå™¨åŸºäºAOPæ€æƒ³å®ç°æ–¹æ³•çº§åˆ«çš„ç»†ç²’åº¦æƒé™æ§åˆ¶ï¼ˆå¦‚æ–¹æ³•æ‰€éœ€çš„å…·ä½“è§’è‰²ã€æƒé™ï¼‰ï¼Œç²¾å‡†ç®¡æ§ä¸šåŠ¡é€»è¾‘çš„è®¿é—®æƒé™</strong>ã€‚ä¸¤è€…ååŒé…åˆï¼Œå½¢æˆä»è¯·æ±‚å…¥å£åˆ°ä¸šåŠ¡æ‰§è¡Œçš„å…¨é“¾è·¯å®‰å…¨æ ¡éªŒé—­ç¯ã€‚</p>
<p>æ ¸å¿ƒæµç¨‹æ€»è§ˆï¼šç”¨æˆ·å‘èµ·è¯·æ±‚åï¼Œå…ˆç»è¿‡Webå®¹å™¨è¿‡æ»¤å™¨é“¾ï¼Œå†è¿›å…¥Shiroæ ¸å¿ƒè¿‡æ»¤å™¨é“¾å®ŒæˆåŸºç¡€æ ¡éªŒï¼›æ ¡éªŒé€šè¿‡åï¼Œç»è‡ªå®šä¹‰æˆ–æ¡†æ¶æ‹¦æˆªå™¨å®Œæˆæ–¹æ³•çº§æƒé™æ ¡éªŒï¼Œæœ€ç»ˆåˆ°è¾¾Controllerå±‚å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚ä»»æ„ä¸€å±‚æ ¡éªŒå¤±è´¥ï¼Œå‡ç›´æ¥æ‹¦æˆªè¯·æ±‚å¹¶è¿”å›å¯¹åº”ç»“æœï¼Œæœ‰æ•ˆå‡å°‘æ— æ•ˆä¸šåŠ¡å¤„ç†å¼€é”€ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
A[è¯·æ±‚] --&gt; B(shiroè¿‡æ»¤å™¨é“¾)
B --&gt; C(å…¶ä»–webè¿‡æ»¤å™¨)
C --&gt; E(æ‹¦æˆªå™¨)
E--&gt;D[controller]
</code></pre>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒç»„ä»¶ï¼šå®‰å…¨æœºåˆ¶çš„åŸºçŸ³</h2>
<p>Shiroçš„å®‰å…¨æ ¡éªŒæœºåˆ¶ä¾èµ–ä¸€ç³»åˆ—æ ¸å¿ƒç»„ä»¶çš„ååŒå·¥ä½œï¼Œå„ç»„ä»¶åˆ†å·¥æ˜ç¡®ï¼Œå…±åŒå®Œæˆèº«ä»½éªŒè¯ã€æƒé™æ§åˆ¶ã€ä¼šè¯ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">1. æ ¸å¿ƒç»„ä»¶åŠåŠŸèƒ½</h3>

























































<table><thead><tr><th>ç»„ä»¶</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>Shiro Filter</td><td>å„ç§éªŒè¯æµç¨‹çš„å…¥å£ï¼Œå®ç°URLçº§åˆ«çš„ç²—ç²’åº¦æ ¡éªŒ</td></tr><tr><td>Subject</td><td>ä»£è¡¨ç™»å½•äººï¼Œè®°å½•sessionã€å‡­è¯ç­‰ä¿¡æ¯ï¼Œå®šä¹‰éªŒè¯æ‰€éœ€åŸºæœ¬æ–¹æ³•ï¼Œæ¯æ¬¡è¯·æ±‚åˆ›å»ºæ–°å®ä¾‹</td></tr><tr><td>SecurityManager</td><td>æ ¸å¿ƒç®¡ç†å™¨ï¼Œè´Ÿè´£ç®¡ç†Subjectã€sessionç­‰ä¿¡æ¯ï¼Œè¾…åŠ©Subjectå®ç°å„é¡¹åŠŸèƒ½</td></tr><tr><td>Session</td><td>ç±»ä¼¼Servlet Sessionï¼Œæ¯ä¸ªç™»å½•ç”¨æˆ·å¯¹åº”å”¯ä¸€Session</td></tr><tr><td>Realm</td><td>éœ€å¼€å‘è€…å®ç°ï¼Œç”¨äºè·å–ç”¨æˆ·æƒé™ã€è§’è‰²ã€èº«ä»½ç­‰æ ¸å¿ƒä¿¡æ¯</td></tr><tr><td>AuthenticationInfo</td><td>é€šè¿‡Realmè·å–ï¼Œç”¨äºèº«ä»½éªŒè¯çš„æ ¸å¿ƒä¿¡æ¯è½½ä½“</td></tr><tr><td>AuthorizationInfo</td><td>é€šè¿‡Realmè·å–ï¼Œç”¨äºæƒé™éªŒè¯çš„æ ¸å¿ƒä¿¡æ¯è½½ä½“</td></tr><tr><td>AuthenticationToken</td><td>å°è£…è¯·æ±‚ä¸­çš„å‡­è¯ä¿¡æ¯ï¼ˆå¦‚ç”¨æˆ·åã€å¯†ç ï¼‰</td></tr><tr><td>CredentialsMatcher</td><td>æ ¸å¿ƒç”¨äºå¯†ç éªŒè¯ï¼Œå¯¹æ¯”è¯·æ±‚å‡­è¯ä¸ç³»ç»Ÿå­˜å‚¨å‡­è¯çš„ä¸€è‡´æ€§</td></tr><tr><td>PasswordService</td><td>ç”¨äºå¯†ç ç”Ÿæˆï¼Œè¾…åŠ©CredentialsMatcherå®Œæˆå¯†ç éªŒè¯</td></tr><tr><td>AuthenticationStrategy</td><td>å¤šRealmåœºæ™¯ä¸‹çš„èº«ä»½éªŒè¯ç­–ç•¥ï¼Œç±»ä¼¼æŠ•ç¥¨æœºåˆ¶å†³å®šéªŒè¯æ˜¯å¦é€šè¿‡</td></tr><tr><td>Authenticator</td><td>è´Ÿè´£æ‰§è¡Œèº«ä»½éªŒè¯çš„æ ¸å¿ƒé€»è¾‘</td></tr></tbody></table>
<h3 data-id="heading-3">2. ç»„ä»¶é—´æ ¸å¿ƒå…³ç³»</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b90a180b0d4a40178615e414eb49fa73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey54Wu5YWJ6Zi0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783262&amp;x-signature=E9qaxgxiKtOv%2FKLVpD0gjLWRfXc%3D" alt="" loading="lazy"/></p>
<p>ç»„ä»¶ååŒé€»è¾‘ï¼šç”¨æˆ·è¯·æ±‚è§¦å‘Subjectåˆ›å»ºï¼ŒSubjecté€šè¿‡SecurityManagerè°ƒç”¨Authenticatorå®Œæˆèº«ä»½éªŒè¯ï¼›Authenticatorä¾æ‰˜AuthenticationStrategyï¼Œä»Realmè·å–AuthenticationInfoå¹¶é€šè¿‡CredentialsMatcheræ ¡éªŒå‡­è¯ï¼›æƒé™éªŒè¯æ—¶ï¼ŒSecurityManagerè°ƒç”¨Authorizerï¼Œä»Realmè·å–AuthorizationInfoå®Œæˆæƒé™åŒ¹é…ï¼›è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨ä½œä¸ºå…¥å£ï¼Œä¸²è”å„ç»„ä»¶å½¢æˆå®Œæ•´æ ¡éªŒé“¾è·¯ã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€ç™»å½•éªŒè¯æµç¨‹ï¼šèº«ä»½åˆæ³•æ€§æ ¡éªŒå…¨é“¾è·¯</h2>
<p>ç™»å½•éªŒè¯æµç¨‹çš„æ ¸å¿ƒç›®æ ‡æ˜¯æ ¡éªŒç”¨æˆ·èº«ä»½åˆæ³•æ€§ï¼Œæ ¸å¿ƒé“¾è·¯ä¸ºâ€œè¯·æ±‚æ‹¦æˆªâ†’å‡­è¯è·å–â†’å‡­è¯æ ¡éªŒâ†’ä¼šè¯åˆ›å»ºâ€ï¼Œå…·ä½“å®ç°ä¾èµ–Filterä¸æ ¸å¿ƒç»„ä»¶çš„ååŒå·¥ä½œã€‚</p>
<h3 data-id="heading-5">1. ç™»å½•éªŒè¯æµç¨‹æ€»è§ˆ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">

graph TD
A[ç”¨æˆ·å‘èµ·è¯·æ±‚] --&gt; B{æ˜¯å¦ä¸ºç™»å½•è¯·æ±‚}
B --&gt; |å¦| C[è·³è½¬è‡³ç™»å½•é¡µ]
B --&gt; |æ˜¯| D[FormAuthenticationFilteræ‹¦æˆªè¯·æ±‚]
D --&gt; E["è·å–ç”¨æˆ·åã€å¯†ç ï¼Œå°è£…ä¸ºAuthenticationToken"]
E --&gt; F["è°ƒç”¨Subject.login()æ–¹æ³•"]
F --&gt; G[SecurityManagerè½¬å‘éªŒè¯è¯·æ±‚]
G --&gt; H[Authenticatoræ‰§è¡ŒéªŒè¯é€»è¾‘]
H --&gt; I{å¤šRealmåœºæ™¯?}
I --&gt; |æ˜¯| J[æŒ‰AuthenticationStrategyæ‰§è¡Œå¤šRealméªŒè¯]
I --&gt; |å¦| K[å•RealméªŒè¯]
J --&gt; L[Realmè·å–AuthenticationInfo]
K --&gt; L
L --&gt; M{å‡­è¯åŒ¹é…?}
M --&gt; |å¦| N[è¿”å›ç™»å½•å¤±è´¥ä¿¡æ¯]
M --&gt; |æ˜¯| O[åˆ›å»ºSessionå’Œèº«ä»½å‡­è¯]
O --&gt; P[å°†ç™»å½•ä¿¡æ¯å†™å…¥Cookie]
P --&gt; Q[è·³è½¬è‡³ç›®æ ‡é¡µé¢]
    
</code></pre>
<h3 data-id="heading-6">2. æ ¸å¿ƒæ–¹æ³•è°ƒç”¨é“¾è·¯</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">

graph TD
a0[AbstractShiroFilter.doFilterInternal] --&gt; a[FormAuthenticationFilter.onAccessDenied]
a --&gt; b[AuthenticatingFilter.executeLogin]
b --&gt; c[DelegatingSubject.login]
c --&gt; d[DefaultSecurityManager.login]
d --&gt; e[ModularRealmAuthenticator.authenticate]
e --&gt; f[AuthenticatingRealm.getAuthenticationInfo]
f --&gt; g[SimpleCredentialsMatcher.equals]
    
</code></pre>
<h3 data-id="heading-7">3. å…³é”®æ–¹æ³•è§£æ</h3>
<h4 data-id="heading-8">ï¼ˆ1ï¼‰AbstractShiroFilter.doFilterInternalï¼šè¯·æ±‚æ‹¦æˆªå…¥å£</h4>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilterInternal</span><span class="hljs-params">(ServletRequest servletRequest, ServletResponse servletResponse, <span class="hljs-keyword">final</span> FilterChain chain)</span>
        <span class="hljs-keyword">throws</span> ServletException, IOException {

    <span class="hljs-type">Throwable</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">ServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> prepareServletRequest(servletRequest, servletResponse, chain);
        <span class="hljs-keyword">final</span> <span class="hljs-type">ServletResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> prepareServletResponse(request, servletResponse, chain);
        <span class="hljs-comment">// æ¯æ¬¡è¯·æ±‚åˆ›å»ºæ–°çš„Subject</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">Subject</span> <span class="hljs-variable">subject</span> <span class="hljs-operator">=</span> createSubject(request, response);

        <span class="hljs-comment">// å°†Subjectç»‘å®šåˆ°å½“å‰çº¿ç¨‹ï¼Œè°ƒç”¨FormAuthenticationFilterå¤„ç†</span>
        subject.execute(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callable</span>() {
            <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
                updateSessionLastAccessTime(request, response);
                executeChain(request, response, chain);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            }
        });
    } <span class="hljs-keyword">catch</span> (ExecutionException ex) {
        t = ex.getCause();
    } <span class="hljs-keyword">catch</span> (Throwable throwable) {
        t = throwable;
    }
}
    
</code></pre>
<p>æ ¸å¿ƒä½œç”¨ï¼šé¢„å¤„ç†è¯·æ±‚/å“åº”å¯¹è±¡ï¼Œåˆ›å»ºSubjectå¹¶ç»‘å®šåˆ°å½“å‰çº¿ç¨‹ï¼Œè§¦å‘åç»­ç™»å½•éªŒè¯é€»è¾‘ã€‚</p>
<h4 data-id="heading-9">ï¼ˆ2ï¼‰FormAuthenticationFilter.onAccessDeniedï¼šç™»å½•è¯·æ±‚åˆ¤æ–­</h4>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onAccessDenied</span><span class="hljs-params">(ServletRequest request, ServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç™»å½•è¯·æ±‚</span>
    <span class="hljs-keyword">if</span> (isLoginRequest(request, response)) {
        <span class="hljs-keyword">if</span> (isLoginSubmission(request, response)) {
            <span class="hljs-keyword">if</span> (log.isTraceEnabled()) {
                log.trace(<span class="hljs-string">"Login submission detected.  Attempting to execute login."</span>);
            }
            <span class="hljs-comment">// è§¦å‘ç™»å½•éªŒè¯</span>
            <span class="hljs-keyword">return</span> executeLogin(request, response);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (log.isTraceEnabled()) {
                log.trace(<span class="hljs-string">"Login page view."</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (log.isTraceEnabled()) {
            log.trace(<span class="hljs-string">"Attempting to access a path which requires authentication.  Forwarding to the "</span> +
                    <span class="hljs-string">"Authentication url ["</span> + getLoginUrl() + <span class="hljs-string">"]"</span>);
        }
        <span class="hljs-comment">// éç™»å½•è¯·æ±‚è·³è½¬è‡³ç™»å½•é¡µ</span>
        saveRequestAndRedirectToLogin(request, response);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
    
</code></pre>
<p>æ ¸å¿ƒä½œç”¨ï¼šåŒºåˆ†ç™»å½•è¯·æ±‚ä¸æ™®é€šè¯·æ±‚ï¼Œä»…å¯¹ç™»å½•æäº¤è¯·æ±‚è§¦å‘éªŒè¯æµç¨‹ï¼Œéç™»å½•è¯·æ±‚å¼•å¯¼è‡³ç™»å½•é¡µã€‚</p>
<h4 data-id="heading-10">ï¼ˆ3ï¼‰ModularRealmAuthenticator.authenticateï¼šéªŒè¯é€»è¾‘åˆ†å‘</h4>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-comment">// éªŒè¯ç­–ç•¥é€‰æ‹©</span>
<span class="hljs-keyword">protected</span> AuthenticationInfo <span class="hljs-title function_">doAuthenticate</span><span class="hljs-params">(AuthenticationToken authenticationToken)</span> <span class="hljs-keyword">throws</span> AuthenticationException {
    assertRealmsConfigured();
    Collection&lt;Realm&gt; realms = getRealms();
    <span class="hljs-keyword">if</span> (realms.size() == <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// å•Realmåœºæ™¯ï¼šç›´æ¥æ‰§è¡Œæ™®é€šç”¨æˆ·åå¯†ç éªŒè¯</span>
        <span class="hljs-keyword">return</span> doSingleRealmAuthentication(realms.iterator().next(), authenticationToken);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¤šRealmåœºæ™¯ï¼šæŒ‰ç­–ç•¥æ‰§è¡ŒéªŒè¯ï¼ˆå…¨æˆåŠŸ/è‡³å°‘ä¸€ä¸ªæˆåŠŸ/é¦–ä¸ªæˆåŠŸï¼‰</span>
        <span class="hljs-keyword">return</span> doMultiRealmAuthentication(realms, authenticationToken);
    }
}

<span class="hljs-comment">// å•Realmç”¨æˆ·åå¯†ç éªŒè¯</span>
<span class="hljs-keyword">protected</span> AuthenticationInfo <span class="hljs-title function_">doSingleRealmAuthentication</span><span class="hljs-params">(Realm realm, AuthenticationToken token)</span> {
    <span class="hljs-keyword">if</span> (!realm.supports(token)) {
        <span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Realm ["</span> + realm + <span class="hljs-string">"] does not support authentication token ["</span> +
                token + <span class="hljs-string">"].  Please ensure that the appropriate Realm implementation is "</span> +
                <span class="hljs-string">"configured correctly or that the realm accepts AuthenticationTokens of this type."</span>;
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedTokenException</span>(msg);
    }
    <span class="hljs-comment">// è°ƒç”¨Realmè·å–ç”¨æˆ·ä¿¡æ¯å¹¶éªŒè¯</span>
    <span class="hljs-type">AuthenticationInfo</span> <span class="hljs-variable">info</span> <span class="hljs-operator">=</span> realm.getAuthenticationInfo(token);
    <span class="hljs-keyword">if</span> (info == <span class="hljs-literal">null</span>) {
        <span class="hljs-type">String</span> <span class="hljs-variable">msg</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Realm ["</span> + realm + <span class="hljs-string">"] was unable to find account data for the "</span> +
                <span class="hljs-string">"submitted AuthenticationToken ["</span> + token + <span class="hljs-string">"]."</span>;
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnknownAccountException</span>(msg);
    }
    <span class="hljs-keyword">return</span> info;
}
    
</code></pre>
<p>æ ¸å¿ƒä½œç”¨ï¼šæ ¹æ®Realmæ•°é‡åˆ†å‘éªŒè¯é€»è¾‘ï¼Œæ”¯æŒå•Realmæ™®é€šéªŒè¯ä¸å¤šRealmç­–ç•¥åŒ–éªŒè¯ï¼Œé€‚é…ä¸åŒç³»ç»Ÿæ¶æ„ã€‚</p>
<h2 data-id="heading-11">å››ã€æƒé™é‰´æƒæµç¨‹ï¼šå·²ç™»å½•ç”¨æˆ·çš„æƒé™æ ¡éªŒ</h2>
<p>æƒé™é‰´æƒæµç¨‹åŸºäºèº«ä»½éªŒè¯é€šè¿‡çš„å‰æï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯æ ¡éªŒå·²ç™»å½•ç”¨æˆ·æ˜¯å¦å…·å¤‡è®¿é—®ç›®æ ‡èµ„æºçš„æƒé™ï¼Œåˆ†ä¸ºURLçº§ï¼ˆè¿‡æ»¤å™¨å®ç°ï¼‰å’Œæ–¹æ³•çº§ï¼ˆæ‹¦æˆªå™¨å®ç°ï¼‰ä¸¤ç±»ï¼Œæ­¤å¤„å…ˆé˜è¿°é€šç”¨é‰´æƒé“¾è·¯ï¼Œæ–¹æ³•çº§ç»†èŠ‚åç»­å±•å¼€ã€‚</p>
<h3 data-id="heading-12">1. æƒé™é‰´æƒæµç¨‹æ€»è§ˆ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">

graph TD
A[å·²ç™»å½•ç”¨æˆ·å‘èµ·è¯·æ±‚] --&gt; B[Shiroè¿‡æ»¤å™¨é“¾æ‹¦æˆª]
B --&gt; C[UserFilteræ ¡éªŒç”¨æˆ·æœ‰æ•ˆæ€§]
C --&gt; |æ— æ•ˆ| D[è·³è½¬è‡³ç™»å½•é¡µ]
C --&gt; |æœ‰æ•ˆ| E["PermissionsAuthorizationFilter/RolesAuthorizationFilter"]
E --&gt; F[è·å–è¯·æ±‚æ‰€éœ€æƒé™/è§’è‰²]
F --&gt; G["è°ƒç”¨Subject.isPermitted()/hasRole()"]
G --&gt; H[SecurityManagerè½¬å‘æƒé™æ ¡éªŒè¯·æ±‚]
H --&gt; I[ModularRealmAuthorizeræ‰§è¡Œæ ¡éªŒé€»è¾‘]
I --&gt; J[Realmè·å–AuthorizationInfo]
J --&gt; K{æƒé™/è§’è‰²åŒ¹é…?}
K --&gt; |å¦| L[è¿”å›403æ— æƒé™ä¿¡æ¯]
K --&gt; |æ˜¯| M[è¿›å…¥æ‹¦æˆªå™¨æ ¡éªŒç¯èŠ‚]
M --&gt; N{æ–¹æ³•çº§æƒé™æ ¡éªŒé€šè¿‡?}
N --&gt; |å¦| L
N --&gt; |æ˜¯| O[Controllerä¸šåŠ¡å¤„ç†]
    
</code></pre>
<h3 data-id="heading-13">2. æ ¸å¿ƒæ–¹æ³•è°ƒç”¨é“¾è·¯</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">

graph TD
a0["AbstractShiroFilter.doFilterInternal"] --&gt; a["UserFilter.isAccessAllowed"]
a --&gt; f["PermissionsAuthorizationFilter.isAccessAllowed"]
f --&gt; g["DelegatingSubject.isPermitted"]
g --&gt; h["DefaultSecurityManager.isPermitted"]
h --&gt; i["ModularRealmAuthorizer.isPermitted"]
i --&gt; j[AuthorizingRealm.isPermitted]
    
</code></pre>
<h3 data-id="heading-14">3. å…³é”®æ–¹æ³•è§£æ</h3>
<h4 data-id="heading-15">ï¼ˆ1ï¼‰UserFilter.isAccessAllowedï¼šç”¨æˆ·æœ‰æ•ˆæ€§å‰ç½®æ ¡éªŒ</h4>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserFilter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AccessControlFilter</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isAccessAllowed</span><span class="hljs-params">(ServletRequest request, ServletResponse response, Object mappedValue)</span> {
        <span class="hljs-comment">// ä¸æ‹¦æˆªç™»å½•æµç¨‹</span>
        <span class="hljs-keyword">if</span> (isLoginRequest(request, response)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ ¡éªŒç”¨æˆ·æ˜¯å¦å·²ç™»å½•ï¼ˆå«è®°ä½æˆ‘çŠ¶æ€ï¼‰</span>
            <span class="hljs-type">Subject</span> <span class="hljs-variable">subject</span> <span class="hljs-operator">=</span> getSubject(request, response);
            <span class="hljs-keyword">return</span> subject.getPrincipal() != <span class="hljs-literal">null</span>;
        }
    }
    
}
    
</code></pre>
<p>æ ¸å¿ƒä½œç”¨ï¼šå¿«é€Ÿç­›é€‰æ— æ•ˆç”¨æˆ·ï¼Œé¿å…æ— æ•ˆçš„åç»­æƒé™æ ¡éªŒï¼Œä»…å…è®¸å·²ç™»å½•ï¼ˆå«è®°ä½æˆ‘ï¼‰ç”¨æˆ·è¿›å…¥æƒé™æ ¡éªŒç¯èŠ‚ã€‚</p>
<h4 data-id="heading-16">ï¼ˆ2ï¼‰PermissionsAuthorizationFilter.isAccessAllowedï¼šæƒé™ç²¾å‡†æ ¡éªŒ</h4>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isAccessAllowed</span><span class="hljs-params">(ServletRequest request, ServletResponse response, Object mappedValue)</span> <span class="hljs-keyword">throws</span> IOException {

    <span class="hljs-type">Subject</span> <span class="hljs-variable">subject</span> <span class="hljs-operator">=</span> getSubject(request, response);
    <span class="hljs-comment">// è·å–é…ç½®çš„ç›®æ ‡èµ„æºæ‰€éœ€æƒé™</span>
    String[] perms = (String[]) mappedValue;

    <span class="hljs-type">boolean</span> <span class="hljs-variable">isPermitted</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (perms != <span class="hljs-literal">null</span> &amp;&amp; perms.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// å•æƒé™/å¤šæƒé™æ ¡éªŒï¼ˆé»˜è®¤â€œä¸”â€å…³ç³»ï¼‰</span>
        <span class="hljs-keyword">if</span> (perms.length == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">if</span> (!subject.isPermitted(perms[<span class="hljs-number">0</span>])) {
                isPermitted = <span class="hljs-literal">false</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!subject.isPermittedAll(perms)) {
                isPermitted = <span class="hljs-literal">false</span>;
            }
        }
    }

    <span class="hljs-keyword">return</span> isPermitted;
}
    
</code></pre>
<p>æ ¸å¿ƒä½œç”¨ï¼šæ ¡éªŒç”¨æˆ·æ˜¯å¦å…·å¤‡è®¿é—®å½“å‰URLæ‰€éœ€çš„å…¨éƒ¨ï¼ˆæˆ–æŒ‡å®šï¼‰æƒé™ï¼Œå®ç°URLçº§çš„æƒé™ç²¾å‡†ç®¡æ§ã€‚</p>
<h4 data-id="heading-17">ï¼ˆ3ï¼‰AuthorizingRealm.isPermittedï¼šæƒé™åŒ¹é…æ ¸å¿ƒé€»è¾‘</h4>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">protected</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isPermitted</span><span class="hljs-params">(Permission permission, AuthorizationInfo info)</span> {
    Collection&lt;Permission&gt; perms = getPermissions(info);
    <span class="hljs-keyword">if</span> (perms != <span class="hljs-literal">null</span> &amp;&amp; !perms.isEmpty()) {
        <span class="hljs-keyword">for</span> (Permission perm : perms) {
            <span class="hljs-comment">// å¯¹æ¯”ç”¨æˆ·æ‹¥æœ‰çš„æƒé™ä¸ç›®æ ‡èµ„æºæ‰€éœ€æƒé™</span>
            <span class="hljs-keyword">if</span> (perm.implies(permission)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
    
</code></pre>
<p>æ ¸å¿ƒä½œç”¨ï¼šé€šè¿‡æƒé™åŒ¹é…ç®—æ³•ï¼Œåˆ¤æ–­ç”¨æˆ·å·²æ‹¥æœ‰çš„æƒé™æ˜¯å¦è¦†ç›–ç›®æ ‡èµ„æºæ‰€éœ€æƒé™ï¼Œæ˜¯æƒé™æ ¡éªŒçš„æ ¸å¿ƒé€»è¾‘å®ç°ã€‚</p>
<h2 data-id="heading-18">äº”ã€è¿‡æ»¤å™¨ï¼šURLçº§ç²—ç²’åº¦å®‰å…¨ç®¡æ§æ ¸å¿ƒ</h2>
<p>Shiroè¿‡æ»¤å™¨åŸºäºWebå®¹å™¨Filteræ¥å£æ‰©å±•ï¼Œæ˜¯URLçº§å®‰å…¨ç®¡æ§çš„æ ¸å¿ƒç»„ä»¶ï¼Œé€šè¿‡æ‹¦æˆªè¯·æ±‚URLï¼Œå®Œæˆç™»å½•éªŒè¯ã€æƒé™æ ¡éªŒã€åŒ¿åè®¿é—®æ§åˆ¶ç­‰åŠŸèƒ½ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºé…ç½®çµæ´»ï¼Œæ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç å³å¯å®ç°å®‰å…¨ç®¡æ§ï¼Œè¦†ç›–å¤§éƒ¨åˆ†å¸¸è§„å®‰å…¨åœºæ™¯ã€‚</p>
<h3 data-id="heading-19">1. è¿‡æ»¤å™¨å±‚çº§ç»“æ„</h3>
<p>Shiroè¿‡æ»¤å™¨é‡‡ç”¨â€œæŠ½è±¡åŸºç±»+å…·ä½“å®ç°â€çš„å±‚çº§è®¾è®¡ï¼ŒåŸºç¡€ç±»æä¾›é€šç”¨èƒ½åŠ›ï¼Œå®ç°ç±»èšç„¦ä¸šåŠ¡æ ¡éªŒï¼Œç»“æ„æ¸…æ™°ä¸”æ‰©å±•æ€§å¼ºï¼š</p>
<ul>
<li><strong>åŸºç¡€è¿‡æ»¤å™¨</strong>ï¼šå®šä¹‰æ ¸å¿ƒéª¨æ¶ï¼Œæä¾›é€šç”¨åŠŸèƒ½ã€‚å¦‚PathMatchingFilterè´Ÿè´£URLæ¨¡å¼åŒ¹é…ï¼ˆæ”¯æŒ?ã€*ã€**é€šé…ç¬¦ï¼‰ï¼Œæ˜¯æ‰€æœ‰URLç›¸å…³è¿‡æ»¤å™¨çš„çˆ¶ç±»ï¼›AdviceFilteræä¾›è¯·æ±‚å‰åå¢å¼ºç‚¹ï¼Œæ”¯æŒæ—¥å¿—è®°å½•ã€èµ„æºæ¸…ç†ç­‰æ‰©å±•æ“ä½œã€‚</li>
<li><strong>éªŒè¯è¿‡æ»¤å™¨</strong>ï¼šåŸºäºåŸºç¡€ç±»æ‰©å±•ï¼Œå®ç°å…·ä½“æ ¡éªŒé€»è¾‘ã€‚åˆ†ä¸ºç™»å½•çŠ¶æ€éªŒè¯ï¼ˆå¦‚FormAuthenticationFilterã€UserFilterï¼‰å’Œæƒé™éªŒè¯ï¼ˆå¦‚PermissionsAuthorizationFilterã€RolesAuthorizationFilterï¼‰ä¸¤ç±»ã€‚</li>
</ul>
<h3 data-id="heading-20">2. å†…ç½®é»˜è®¤è¿‡æ»¤å™¨æšä¸¾</h3>
<p>Shiroé€šè¿‡DefaultFilteræšä¸¾å®šä¹‰å¸¸ç”¨å†…ç½®è¿‡æ»¤å™¨ï¼Œå¯ç›´æ¥é€šè¿‡æšä¸¾åç§°åœ¨é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨ï¼Œç®€åŒ–é…ç½®æµç¨‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DefaultFilter</span> {
    <span class="hljs-comment">// åŒ¿åè®¿é—®è¿‡æ»¤å™¨ï¼šæ— éœ€ç™»å½•å³å¯è®¿é—®ï¼ˆç™»å½•é¡µã€å…¬å¼€æ¥å£ç­‰ï¼‰</span>
    anon(AnonymousFilter.class),
    <span class="hljs-comment">// è¡¨å•ç™»å½•è¿‡æ»¤å™¨ï¼šå¤„ç†è¡¨å•ç™»å½•è¯·æ±‚ï¼Œæ ¡éªŒç”¨æˆ·åå¯†ç </span>
    authc(FormAuthenticationFilter.class),
    <span class="hljs-comment">// HTTPåŸºæœ¬è®¤è¯è¿‡æ»¤å™¨ï¼šåŸºäºHTTP Basicåè®®éªŒè¯ï¼ˆé€‚ç”¨äºAPIï¼‰</span>
    authcBasic(BasicHttpAuthenticationFilter.class),
    <span class="hljs-comment">// ç™»å‡ºè¿‡æ»¤å™¨ï¼šæ¸…é™¤ä¼šè¯ä¿¡æ¯ï¼Œé”€æ¯ç™»å½•çŠ¶æ€</span>
    logout(LogoutFilter.class),
    <span class="hljs-comment">// ç¦æ­¢ä¼šè¯åˆ›å»ºè¿‡æ»¤å™¨ï¼šé€‚ç”¨äºæ— çŠ¶æ€æ¥å£</span>
    noSessionCreation(NoSessionCreationFilter.class),
    <span class="hljs-comment">// æƒé™æ ¡éªŒè¿‡æ»¤å™¨ï¼šéªŒè¯ç”¨æˆ·æ˜¯å¦å…·å¤‡æŒ‡å®šæƒé™</span>
    perms(PermissionsAuthorizationFilter.class),
    <span class="hljs-comment">// ç«¯å£æ ¡éªŒè¿‡æ»¤å™¨ï¼šéªŒè¯è¯·æ±‚ç«¯å£æ˜¯å¦ç¬¦åˆé…ç½®</span>
    port(PortFilter.class),
    <span class="hljs-comment">// RESTé£æ ¼æƒé™è¿‡æ»¤å™¨ï¼šåŸºäºHTTPæ–¹æ³•åŒ¹é…æƒé™ï¼ˆé€‚ç”¨äºRESTfulæ¥å£ï¼‰</span>
    rest(HttpMethodPermissionFilter.class),
    <span class="hljs-comment">// è§’è‰²æ ¡éªŒè¿‡æ»¤å™¨ï¼šéªŒè¯ç”¨æˆ·æ˜¯å¦å…·å¤‡æŒ‡å®šè§’è‰²</span>
    roles(RolesAuthorizationFilter.class),
    <span class="hljs-comment">// SSLè¿‡æ»¤å™¨ï¼šå¼ºåˆ¶HTTPSè®¿é—®</span>
    ssl(SslFilter.class),
    <span class="hljs-comment">// ç”¨æˆ·çŠ¶æ€è¿‡æ»¤å™¨ï¼šéªŒè¯ç”¨æˆ·æ˜¯å¦ä¸ºæœ‰æ•ˆç”¨æˆ·ï¼ˆç™»å½•/è®°ä½æˆ‘ï¼‰</span>
    user(UserFilter.class);
}
    
</code></pre>
<h3 data-id="heading-21">3. å¸¸è§é…ç½®ç¤ºä¾‹ä¸è§„åˆ™</h3>
<h4 data-id="heading-22">ï¼ˆ1ï¼‰YMLé…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-yml" lang="yml">

<span class="hljs-attr">shiro:</span>
  <span class="hljs-attr">filter-chain-definitions:</span>
    <span class="hljs-comment"># å…¬å¼€æ¥å£ï¼šå…è®¸åŒ¿åè®¿é—®</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/api/public/**|anon</span>
    <span class="hljs-comment"># ç™»å½•æ¥å£ï¼šè¡¨å•ç™»å½•éªŒè¯</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/login|authc</span>
    <span class="hljs-comment"># ç™»å‡ºæ¥å£ï¼šç™»å‡ºå¤„ç†</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/logout|logout</span>
    <span class="hljs-comment"># ç®¡ç†å‘˜æ¥å£ï¼šéœ€adminè§’è‰²</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/api/admin/**|roles[admin]</span>
    <span class="hljs-comment"># è®¢å•æ¥å£ï¼šéœ€order:operateæƒé™</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/api/order/**|perms[order:operate]</span>
    <span class="hljs-comment"># å…œåº•é…ç½®ï¼šæ‰€æœ‰æœªåŒ¹é…URLéœ€æœ‰æ•ˆç”¨æˆ·</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/**|user</span>
    
</code></pre>
<h4 data-id="heading-23">ï¼ˆ2ï¼‰æ ¸å¿ƒé…ç½®è§„åˆ™</h4>
<ul>
<li>URLæ¨¡å¼ï¼šæ”¯æŒé€šé…ç¬¦ï¼Œ/**è¡¨ç¤ºæ‰€æœ‰è·¯å¾„ï¼Œ/api/*è¡¨ç¤º/apiä¸‹ä¸€çº§è·¯å¾„ï¼Œ/api/**è¡¨ç¤º/apiä¸‹æ‰€æœ‰å±‚çº§è·¯å¾„ï¼›</li>
<li>å¤šè¿‡æ»¤å™¨ç»„åˆï¼šå¤šä¸ªè¿‡æ»¤å™¨ç”¨é€—å·åˆ†éš”ï¼ŒæŒ‰é…ç½®é¡ºåºæ‰§è¡Œï¼ˆå¦‚/authc,perms[test]è¡¨ç¤ºå…ˆéªŒè¯ç™»å½•å†æ ¡éªŒæƒé™ï¼‰ï¼›</li>
<li>åŒ¹é…ä¼˜å…ˆçº§ï¼šç²¾å‡†åŒ¹é…ä¼˜å…ˆäºæ¨¡ç³ŠåŒ¹é…ï¼Œå…œåº•é…ç½®ï¼ˆ/**ï¼‰éœ€æ”¾åœ¨æœ€åï¼Œé¿å…è¦†ç›–ç²¾å‡†è§„åˆ™ã€‚</li>
</ul>
<h3 data-id="heading-24">4. æ ¸å¿ƒè¿‡æ»¤å™¨æºç è§£æï¼šAccessControlFilter</h3>
<p>AccessControlFilteræ˜¯æƒé™æ§åˆ¶è¿‡æ»¤å™¨çš„é¡¶å±‚æŠ½è±¡ç±»ï¼Œå®šä¹‰äº†æƒé™æ ¡éªŒçš„æ ¸å¿ƒæµç¨‹ï¼Œå…¶onPreHandleæ–¹æ³•æ˜¯æ ¡éªŒå…¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java">

<span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AccessControlFilter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">PathMatchingFilter</span> {
    <span class="hljs-comment">/**
     * è¯·æ±‚å¤„ç†å‰çš„æ ¸å¿ƒæ ¡éªŒæ–¹æ³•ï¼Œæƒé™æ§åˆ¶å…¥å£
     * <span class="hljs-doctag">@param</span> request è¯·æ±‚å¯¹è±¡
     * <span class="hljs-doctag">@param</span> response å“åº”å¯¹è±¡
     * <span class="hljs-doctag">@param</span> mappedValue é…ç½®å‚æ•°ï¼ˆå¦‚roles[admin]ä¸­çš„adminï¼‰
     * <span class="hljs-doctag">@return</span> trueï¼šæ ¡éªŒé€šè¿‡ï¼›falseï¼šæ ¡éªŒå¤±è´¥
     * <span class="hljs-doctag">@throws</span> Exception å¼‚å¸¸ä¿¡æ¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onPreHandle</span><span class="hljs-params">(ServletRequest request, ServletResponse response, Object mappedValue)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šå…è®¸è®¿é—®åˆ™æ”¾è¡Œï¼Œå¦åˆ™æ‰§è¡Œæ‹’ç»å¤„ç†</span>
        <span class="hljs-keyword">return</span> isAccessAllowed(request, response, mappedValue) || onAccessDenied(request, response, mappedValue);
    }

    <span class="hljs-comment">/**
     * æŠ½è±¡æ–¹æ³•ï¼šåˆ¤æ–­æ˜¯å¦å…è®¸è®¿é—®ï¼ˆå­ç±»å®ç°å…·ä½“æ ¡éªŒé€»è¾‘ï¼‰
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isAccessAllowed</span><span class="hljs-params">(ServletRequest request, ServletResponse response, Object mappedValue)</span> <span class="hljs-keyword">throws</span> Exception;

    <span class="hljs-comment">/**
     * è®¿é—®è¢«æ‹’ç»åçš„å¤„ç†é€»è¾‘ï¼ˆå­ç±»å®ç°è·³è½¬/è¿”å›é”™è¯¯ç­‰ï¼‰
     */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onAccessDenied</span><span class="hljs-params">(ServletRequest request, ServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception;
}
    
</code></pre>
<p>æ ¸å¿ƒé€»è¾‘æ€»ç»“ï¼šé‡‡ç”¨â€œçŸ­è·¯é€»è¾‘â€ï¼Œå…ˆé€šè¿‡isAccessAllowedåˆ¤æ–­æ˜¯å¦å…è®¸è®¿é—®ï¼Œé€šè¿‡åˆ™ç›´æ¥æ”¾è¡Œï¼›æœªé€šè¿‡åˆ™æ‰§è¡ŒonAccessDeniedå¤„ç†ï¼ˆå¦‚è·³è½¬ç™»å½•é¡µã€è¿”å›403ï¼‰ï¼Œç¡®ä¿æ ¡éªŒæµç¨‹ç»Ÿä¸€ä¸”é«˜æ•ˆã€‚</p>
<h2 data-id="heading-25">å…­ã€æ‹¦æˆªå™¨ï¼šæ–¹æ³•çº§ç»†ç²’åº¦æƒé™æ§åˆ¶</h2>
<p>Shiroæ‹¦æˆªå™¨åŸºäºAOPæ€æƒ³ï¼Œå®ç°æ–¹æ³•çº§åˆ«çš„ç»†ç²’åº¦æƒé™æ§åˆ¶ï¼Œå¼¥è¡¥äº†è¿‡æ»¤å™¨URLçº§æ§åˆ¶çš„å±€é™æ€§ã€‚å…¶ä¸ä»…é€‚ç”¨äºWebç¯å¢ƒï¼Œä¹Ÿå¯ç”¨äºæ™®é€šJavaåº”ç”¨ï¼Œé€‚ç”¨æ€§æ›´å¹¿ï¼Œå°¤å…¶é€‚åˆåŒä¸€URLå¯¹åº”ä¸åŒæ–¹æ³•éœ€ä¸åŒæƒé™ã€æ–¹æ³•å†…éƒ¨æƒé™æ ¡éªŒç­‰å¤æ‚åœºæ™¯ã€‚</p>
<h3 data-id="heading-26">1. å®ç°åŸç†</h3>
<p>Shiroæ‹¦æˆªå™¨é€šè¿‡åŠ¨æ€ä»£ç†æœºåˆ¶å®ç°æƒé™æ ¡éªŒï¼Œæ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>é€šè¿‡æ³¨è§£ï¼ˆå¦‚@RequiresRolesã€@RequiresPermissionsï¼‰æ ‡è®°éœ€è¦æƒé™æ ¡éªŒçš„æ–¹æ³•ï¼›</li>
<li>é¡¹ç›®å¯åŠ¨æ—¶ï¼ŒShiroæ‰«æå¸¦æœ‰æ³¨è§£çš„æ–¹æ³•ï¼Œä¸ºå…¶åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡ï¼›</li>
<li>è°ƒç”¨ç›®æ ‡æ–¹æ³•æ—¶ï¼Œå…ˆæ‰§è¡Œä»£ç†å¯¹è±¡ä¸­çš„æ‹¦æˆªå™¨é€»è¾‘ï¼Œå®Œæˆæƒé™æ ¡éªŒï¼›</li>
<li>æ ¡éªŒé€šè¿‡åˆ™æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œå¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸å¹¶ä¸­æ–­æ‰§è¡Œã€‚</li>
</ol>
<h3 data-id="heading-27">2. æ ¸å¿ƒæ³¨è§£ä¸ä½¿ç”¨ç¤ºä¾‹</h3>
<p>Shiroæä¾›ä¸€ç³»åˆ—æ³¨è§£æ ‡è®°æ–¹æ³•æƒé™éœ€æ±‚ï¼Œå¯ä½œç”¨äºæ–¹æ³•æˆ–ç±»ï¼ˆç±»çº§æ³¨è§£å¯¹æ‰€æœ‰æ–¹æ³•ç”Ÿæ•ˆï¼‰ï¼š</p>



































<table><thead><tr><th>æ³¨è§£åç§°</th><th>æ ¸å¿ƒä½œç”¨</th><th>ä½¿ç”¨ç¤ºä¾‹</th></tr></thead><tbody><tr><td>@RequiresAuthentication</td><td>è¦æ±‚ç”¨æˆ·ä¸»åŠ¨ç™»å½•ï¼ˆæ’é™¤è®°ä½æˆ‘çŠ¶æ€ï¼‰</td><td>@RequiresAuthentication</td></tr><tr><td>@RequiresGuest</td><td>è¦æ±‚ç”¨æˆ·ä¸ºè®¿å®¢ï¼ˆæœªç™»å½•ä¸”éè®°ä½æˆ‘ï¼‰</td><td>@RequiresGuest</td></tr><tr><td>@RequiresPermissions</td><td>è¦æ±‚å…·å¤‡æŒ‡å®šæƒé™ï¼ˆæ”¯æŒå¤šæƒé™ä¸é€šé…ç¬¦ï¼‰</td><td>// éœ€åŒæ—¶å…·å¤‡order:addå’Œorder:edit <br/>@RequiresPermissions({"order:add", "order:edit"})<br/>// å…·å¤‡å…¶ä¸€å³å¯<br/>@RequiresPermissions(value = {"order:delete", "order:query"}, logical = Logical.OR)</td></tr><tr><td>@RequiresRoles</td><td>è¦æ±‚å…·å¤‡æŒ‡å®šè§’è‰²ï¼ˆæ”¯æŒå¤šè§’è‰²ï¼‰</td><td>// éœ€åŒæ—¶å…·å¤‡adminå’Œmanager<br/> @RequiresRoles({"admin", "manager"})<br/>// å…·å¤‡å…¶ä¸€å³å¯<br/>@RequiresRoles(value = {"user", "guest"}, logical = Logical.OR)</td></tr><tr><td>@RequiresUser</td><td>è¦æ±‚ä¸ºæœ‰æ•ˆç”¨æˆ·ï¼ˆç™»å½•/è®°ä½æˆ‘ï¼‰</td><td>@RequiresUser <br/>public List getUserOrders() { ... }</td></tr></tbody></table>
<h3 data-id="heading-28">3. ä½¿ç”¨æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>æ³¨è§£ç”Ÿæ•ˆæ¡ä»¶ï¼šé›†æˆSpringæ—¶éœ€ç¡®ä¿Shiro AOPè‡ªåŠ¨ä»£ç†å¼€å¯ï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼Œå¦åˆ™æ³¨è§£æ— æ³•è¢«æ‰«æï¼›</li>
<li>å¼‚å¸¸å¤„ç†ï¼šæ ¡éªŒå¤±è´¥ä¼šæŠ›å‡ºUnauthorizedExceptionï¼ˆæ— æƒé™ï¼‰ã€UnauthenticatedExceptionï¼ˆæœªç™»å½•ï¼‰ç­‰ï¼Œéœ€é€šè¿‡å…¨å±€å¼‚å¸¸å¤„ç†å™¨æ•è·å¹¶è¿”å›å‹å¥½å“åº”ï¼›</li>
<li>ä¼˜å…ˆçº§ï¼šè¿‡æ»¤å™¨æ ¡éªŒä¼˜å…ˆäºæ‹¦æˆªå™¨ï¼Œè¿‡æ»¤å™¨æ ¡éªŒå¤±è´¥æ—¶ï¼Œä¸ä¼šæ‰§è¡Œåˆ°æ‹¦æˆªå™¨é€»è¾‘ï¼›</li>
<li>éWebé€‚ç”¨ï¼šä¸ä¾èµ–Webå®¹å™¨ï¼Œå¯åœ¨æ™®é€šJavaåº”ç”¨ä¸­æ‰‹åŠ¨åˆ›å»ºä»£ç†å¯¹è±¡ä½¿ç”¨ã€‚</li>
</ul>
<h2 data-id="heading-29">ä¸ƒã€æ€»ç»“ä¸å®è·µå»ºè®®</h2>
<p>Shiroç™»å½•éªŒè¯ä¸é‰´æƒçš„æ ¸å¿ƒä»·å€¼ï¼Œåœ¨äºé€šè¿‡â€œè¿‡æ»¤å™¨+æ‹¦æˆªå™¨â€çš„åŒå±‚æ¶æ„ï¼Œå®ç°äº†â€œURLçº§ç²—ç²’åº¦æ§åˆ¶+æ–¹æ³•çº§ç»†ç²’åº¦æ§åˆ¶â€çš„å…¨é“¾è·¯å®‰å…¨é˜²æŠ¤ã€‚è¿‡æ»¤å™¨è´Ÿè´£å‰ç½®æ‹¦æˆªï¼Œå¿«é€Ÿé˜»æ–­éæ³•è¯·æ±‚ï¼›æ‹¦æˆªå™¨è´Ÿè´£åç½®ç²¾å‡†ç®¡æ§ï¼Œé€‚é…å¤æ‚ä¸šåŠ¡æƒé™éœ€æ±‚ï¼Œä¸¤è€…ååŒæ„å»ºäº†çµæ´»ã€é«˜æ•ˆçš„å®‰å…¨ä½“ç³»ã€‚</p>
<p>å®è·µåº”ç”¨å»ºè®®ï¼š</p>
<p>é€šè¿‡åˆç†è¿ç”¨Shiroçš„æ ¸å¿ƒç»„ä»¶ä¸æµç¨‹ï¼Œå¯å¿«é€Ÿæ„å»ºç¨³å›ºçš„ç³»ç»Ÿå®‰å…¨æ¶æ„ï¼Œå…¼é¡¾å¼€å‘æ•ˆç‡ä¸å®‰å…¨å¯é æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäºJavaå®ç°çš„ç®€æ˜“è§„åˆ™å¼•æ“(æ—¥å¸¸å¼€å‘éš¾ç‚¹è®°å½•)]]></title>    <link>https://juejin.cn/post/7593775343838035977</link>    <guid>https://juejin.cn/post/7593775343838035977</guid>    <pubDate>2026-01-12T00:43:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593775343838035977" data-draft-id="7593771861324644378" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäºJavaå®ç°çš„ç®€æ˜“è§„åˆ™å¼•æ“(æ—¥å¸¸å¼€å‘éš¾ç‚¹è®°å½•)"/> <meta itemprop="keywords" content="Java,åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T00:43:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç å¤´æ•´ç‚¹è–¯æ¡"/> <meta itemprop="url" content="https://juejin.cn/user/130170614974186"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäºJavaå®ç°çš„ç®€æ˜“è§„åˆ™å¼•æ“(æ—¥å¸¸å¼€å‘éš¾ç‚¹è®°å½•)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/130170614974186/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç å¤´æ•´ç‚¹è–¯æ¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:43:17.000Z" title="Mon Jan 12 2026 00:43:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ·±å…¥ç†è§£ä¸šåŠ¡ç®¡ç†ç³»ç»Ÿä¸­çš„è§„åˆ™å¼•æ“å®ç°</h2>
<h3 data-id="heading-1">ä¸€ã€èƒŒæ™¯ä»‹ç»</h3>
<p>è¿™æ®µæ—¶é—´å·¥ä½œä¸Šï¼Œéœ€è¦å¼€å‘ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åŠ¨æ€é€‰æ‹©è¡¨å’Œå­—æ®µå½¢æˆä¸€æ¡æ¡è§„åˆ™ï¼Œç„¶åè§„åˆ™åˆå¯ä»¥è¿›è¡Œä¸é€šçš„ç»„åˆï¼Œæ¯”å¦‚ä¸‰æ¡ä¸­è‡³å°‘æ»¡è¶³ä¸€æ¡å¹¶ä¸”æ»¡è¶³å¦å¤–ä¸€æ¡è¿™ç§åˆé’»çš„è§„åˆ™æ¡ä»¶ï¼Œå…·ä½“åŠŸèƒ½æè¿°å¯ä»¥çœ‹å›¾ã€‚å½“æ—¶è¿˜çœŸæ˜¯ä¸ºäº†å®ç°è¿™ä¸ªåŠŸèƒ½è€ƒè™‘åˆ°å¤´å¤§ï¼Œä»–éš¾ç‚¹åœ¨äºæ—¢è¦å®ç°è§„åˆ™çš„åˆ¤æ–­ï¼Œåˆè¦æ»¡è¶³ä¸‹é¢æ¡ä»¶çš„äºŒæ¬¡åˆ¤æ–­ï¼Œå¥½åœ¨ä¹Ÿåœ¨åŒäº‹çš„å¸®åŠ©ä¸‹æƒ³å‡ºäº†æ€è·¯ï¼Œè¿™é‡Œå’Œå¤§å®¶åˆ†äº«ä¸‹ï¼Œåç»­ç±»ä¼¼åœ°æ–¹éƒ½å¯ä»¥å‚è€ƒè¿™ä¸ªæ€è·¯ã€‚<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cecf6b1bba944887a67dfbe142404bdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5aS05pW054K56Jav5p2h:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783397&amp;x-signature=sxnMvbTkMOTCgbUmf7hgf5PXC2c%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒæ€è·¯åˆ†æ</h3>
<h4 data-id="heading-3">1. é—®é¢˜åˆ†æ</h4>
<p>åœ¨ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æ”¯æŒçµæ´»é…ç½®å„ç§åˆ¤å®šè§„åˆ™</li>
<li>æ”¯æŒè§„åˆ™ä¹‹é—´çš„é€»è¾‘ç»„åˆï¼ˆAND/ORï¼‰</li>
<li>æ”¯æŒè§„åˆ™ç»„çš„æ¦‚å¿µï¼ˆè®¾ç½®æœ€å° / æœ€å¤§æ»¡è¶³æ•°é‡ï¼‰</li>
<li>æ”¯æŒå¯è§†åŒ–é…ç½®è§„åˆ™æ ‘</li>
</ul>
<h4 data-id="heading-4">2. è®¾è®¡æ€è·¯</h4>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä»¥ä¸‹è®¾è®¡æ€è·¯ï¼š</p>
<h5 data-id="heading-5">ï¼ˆ1ï¼‰æ•°æ®æ¨¡å‹è®¾è®¡</h5>
<p>å°†è§„åˆ™ç³»ç»Ÿåˆ†ä¸ºä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p>
<ul>
<li><strong>è§„åˆ™å®šä¹‰</strong>ï¼šå­˜å‚¨å…·ä½“çš„è§„åˆ™å†…å®¹ï¼ˆå¦‚è¡€å‹ &gt; 140mmHgï¼‰</li>
<li><strong>è§„åˆ™é…ç½®</strong>ï¼šå­˜å‚¨è§„åˆ™ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼ˆå¦‚è§„åˆ™ A AND è§„åˆ™ Bï¼‰</li>
</ul>
<h5 data-id="heading-6">ï¼ˆ2ï¼‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3D%25E6%25A0%2591%25E5%25BD%25A2%25E7%25BB%2593%25E6%259E%2584%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">æ ‘å½¢ç»“æ„</a>è®¾è®¡</h5>
<p>ä½¿ç”¨æ ‘å½¢ç»“æ„æ¥è¡¨ç¤ºè§„åˆ™ä¹‹é—´çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fso.csdn.net%2Fso%2Fsearch%3Fq%3D%25E9%2580%25BB%25E8%25BE%2591%25E5%2585%25B3%25E7%25B3%25BB%26spm%3D1001.2101.3001.7020" target="_blank" title="https://so.csdn.net/so/search?q=%E9%80%BB%E8%BE%91%E5%85%B3%E7%B3%BB&amp;spm=1001.2101.3001.7020" ref="nofollow noopener noreferrer">é€»è¾‘å…³ç³»</a>ï¼Œæ”¯æŒä¸‰ç§èŠ‚ç‚¹ç±»å‹ï¼š</p>
<ul>
<li><strong>RULE</strong>ï¼šå…·ä½“çš„è§„åˆ™èŠ‚ç‚¹</li>
<li><strong>OPERATOR</strong>ï¼šé€»è¾‘è¿ç®—ç¬¦èŠ‚ç‚¹ï¼ˆAND/ORï¼‰</li>
<li><strong>GROUP</strong>ï¼šè§„åˆ™ç»„èŠ‚ç‚¹</li>
</ul>
<h5 data-id="heading-7">ï¼ˆ3ï¼‰é€’å½’å¤„ç†æœºåˆ¶</h5>
<p>ä½¿ç”¨é€’å½’ç®—æ³•æ¥å¤„ç†æ ‘å½¢ç»“æ„ï¼Œå®ç°è§„åˆ™æ ‘çš„è½¬æ¢å’Œè§£æã€‚</p>
<h3 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒä»£ç è®²è§£</h3>
<h4 data-id="heading-9">1. æ•°æ®æ¨¡å‹å®šä¹‰</h4>
<h5 data-id="heading-10">ï¼ˆ1ï¼‰è§„åˆ™å®šä¹‰è¡¨ï¼ˆMonRuleDefinitionsï¼‰</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Data</span>
<span class="hljs-variable">@EqualsAndHashCode</span>(callSuper = false)
<span class="hljs-variable">@Accessors</span>(chain = true)
<span class="hljs-variable">@TableName</span>(<span class="hljs-string">"MON_RULE_DEFINITIONS"</span>)
<span class="hljs-variable">@ApiModel</span>(value = <span class="hljs-string">"MonRuleDefinitionså¯¹è±¡"</span>, description = <span class="hljs-string">"åˆ¤å®šè§„åˆ™å®šä¹‰è¡¨"</span>)
public class MonRuleDefinitions extends Model&lt;MonRuleDefinitions&gt; {

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"ä¸»é”®"</span>)
    <span class="hljs-variable">@TableId</span>(value = <span class="hljs-string">"ID"</span>, type = IdType.ASSIGN_ID)
    private String id;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"è§„åˆ™ç»„id"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"RULE_GROUP_ID"</span>)
    private String ruleGroupId;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"æ¥æºå­—å…¸ç¼–ç ã€å­—å…¸ã€‘;table_name"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"FROM_DICT_CODE"</span>)
    private String fromDictCode;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"å…·ä½“å­—æ®µç¼–ç "</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"SPECIFIC_FIELD_CODE"</span>)
    private String specificFieldCode;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"åŒ¹é…å€¼ä»£ç ã€å­—å…¸ã€‘;more_range"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"MATCH_TYPE_CODE"</span>)
    private String matchTypeCode;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"æŒ‡æ ‡å€¼"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"ITEM_VALUE"</span>)
    private String itemValue;

    <span class="hljs-comment">// ... å…¶ä»–å­—æ®µ</span>
}

</code></pre>
<p><strong>ä»£ç åˆ†æ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ MyBatis-Plus çš„æ³¨è§£æ¥æ˜ å°„æ•°æ®åº“è¡¨</li>
<li>æ¯ä¸ªè§„åˆ™å®šä¹‰åŒ…å«æ¥æºã€å­—æ®µã€åŒ¹é…ç±»å‹ã€æŒ‡æ ‡å€¼ç­‰ä¿¡æ¯</li>
<li>æ”¯æŒå¤šç§åŒ¹é…ç±»å‹ï¼ˆå¦‚å¤§äºã€å°äºã€ç­‰äºï¼‰</li>
</ul>
<h5 data-id="heading-11">ï¼ˆ2ï¼‰è§„åˆ™é…ç½®è¡¨ï¼ˆMonBaseRuleConfigï¼‰</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Data</span>
<span class="hljs-variable">@EqualsAndHashCode</span>(callSuper = false)
<span class="hljs-variable">@Accessors</span>(chain = true)
<span class="hljs-variable">@TableName</span>(<span class="hljs-string">"MON_RULE_CONFIG"</span>)
<span class="hljs-variable">@ApiModel</span>(value = <span class="hljs-string">"MonBaseRuleConfigå¯¹è±¡"</span>, description = <span class="hljs-string">"åˆ¤å®šè§„åˆ™é…ç½®è¡¨"</span>)
public class MonBaseRuleConfig extends Model&lt;MonBaseRuleConfig&gt; {

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"ä¸»é”®"</span>)
    <span class="hljs-variable">@TableId</span>(value = <span class="hljs-string">"ID"</span>, type = IdType.ASSIGN_ID)
    private String id;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"è§„åˆ™ç±»å‹ 1-ç–¾ç—…åˆ†çº§ 2-æ‚£è€…ç®¡ç† 3-è´¨æ§"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"RULE_TYPE"</span>)
    private String ruleType;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"è§„åˆ™ç»„id"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"RULE_GROUP_ID"</span>)
    private String ruleGroupId;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"çˆ¶èŠ‚ç‚¹IDï¼Œç”¨äºæ„å»ºæ ‘ç»“æ„"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"PARENT_NODE_ID"</span>)
    private String parentNodeId;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"èŠ‚ç‚¹ç±»å‹ï¼ˆRULEã€OPERATORã€GROUPï¼‰"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"NODE_TYPE"</span>)
    private String nodeType;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"é€»è¾‘è¿ç®—ç¬¦ï¼ˆANDã€ORï¼‰;more_range"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"OPERATOR"</span>)
    private String operator;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"å¦‚æœèŠ‚ç‚¹æ˜¯è§„åˆ™ï¼Œåˆ™å…³è”è§„åˆ™ID"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"RULE_ID"</span>)
    private String ruleId;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"å¯¹äºGROUPç±»å‹ï¼Œæœ€å°‘æ»¡è¶³çš„è§„åˆ™æ•°é‡;item_result_unit_code"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"MIN_COUNT"</span>)
    private String minCount;

    <span class="hljs-variable">@ApiModelProperty</span>(value = <span class="hljs-string">"å¯¹äºGROUPç±»å‹ï¼Œæœ€å¤šæ»¡è¶³çš„è§„åˆ™æ•°é‡"</span>)
    <span class="hljs-variable">@TableField</span>(<span class="hljs-string">"MAX_COUNT"</span>)
    private String maxCount;

    <span class="hljs-comment">// ... å…¶ä»–å­—æ®µ</span>
}

</code></pre>
<p><strong>ä»£ç åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ”¯æŒä¸‰ç§èŠ‚ç‚¹ç±»å‹ï¼šRULEã€OPERATORã€GROUP</li>
<li>ä½¿ç”¨ parentNodeId æ¥æ„å»ºæ ‘å½¢ç»“æ„</li>
<li>GROUP ç±»å‹æ”¯æŒè®¾ç½®æœ€å° / æœ€å¤§æ»¡è¶³æ•°é‡</li>
</ul>
<h4 data-id="heading-12">2. è§„åˆ™èŠ‚ç‚¹å·¥å…·ç±»ï¼ˆRuleNodeUtilï¼‰</h4>
<h5 data-id="heading-13">ï¼ˆ1ï¼‰é€’å½’è½¬æ¢è§„åˆ™èŠ‚ç‚¹</h5>
<pre><code class="hljs language-scss" lang="scss">public static void <span class="hljs-built_in">convertAndCollectNodes</span>(RuleNodeDTO currentNode, String ruleGroupId,
                                          String parentNodeId, List&lt;MonBaseRuleConfig&gt; allNodes) {

    if ("RULE".equals(currentNode.getNodeType())&amp;Â¤tNode<span class="hljs-selector-class">.getRuleId</span>() == null) {
        throw new <span class="hljs-built_in">BaseException</span>(<span class="hljs-number">998</span>,"è§„åˆ™èŠ‚ç‚¹ç¼ºå°‘è§„åˆ™ID");
    }

    <span class="hljs-comment">// è½¬æ¢å½“å‰DTOä¸ºæ•°æ®åº“å®ä½“</span>
    MonBaseRuleConfig dbNode = new <span class="hljs-built_in">MonBaseRuleConfig</span>();
    BeanUtil<span class="hljs-selector-class">.copyProperties</span>(currentNode, dbNode);
    dbNode<span class="hljs-selector-class">.setRuleGroupId</span>(ruleGroupId);
    
    <span class="hljs-comment">// ç‰¹æ®Šå¤„ç†GROUPç±»å‹</span>
    if ("GROUP".equals(currentNode.getNodeType())) {
        dbNode<span class="hljs-selector-class">.setRuleId</span>(String.join(",",(List&lt;String&gt;) currentNode<span class="hljs-selector-class">.getRuleId</span>()));
        if ("min".equals(currentNode.getCountType())){
            dbNode<span class="hljs-selector-class">.setMinCount</span>(currentNode.getCount());
            dbNode<span class="hljs-selector-class">.setMaxCount</span>("");
        }else {
            dbNode<span class="hljs-selector-class">.setMaxCount</span>(currentNode.getCount());
            dbNode<span class="hljs-selector-class">.setMinCount</span>("");
        }
    }
    
    allNodes<span class="hljs-selector-class">.add</span>(dbNode);

    <span class="hljs-comment">// é€’å½’å¤„ç†å­èŠ‚ç‚¹</span>
    if (!CollectionUtils.isEmpty(currentNode.getChildren())) {
        for (RuleNodeDTO child : currentNode.getChildren()) {
            <span class="hljs-built_in">convertAndCollectNodes</span>(child, ruleGroupId, currentNode.getId(), allNodes);
        }
    }
}

</code></pre>
<p><strong>ä»£ç åˆ†æ</strong>ï¼š</p>
<ul>
<li>é€’å½’å¤„ç†è§„åˆ™æ ‘ï¼Œå°†å‰ç«¯ä¼ é€’çš„ DTO è½¬æ¢ä¸ºæ•°æ®åº“å®ä½“</li>
<li>ç‰¹æ®Šå¤„ç† GROUP ç±»å‹ï¼Œæ”¯æŒè®¾ç½®æœ€å° / æœ€å¤§æ»¡è¶³æ•°é‡</li>
<li>éªŒè¯è§„åˆ™èŠ‚ç‚¹æ˜¯å¦ç¼ºå°‘è§„åˆ™ ID</li>
</ul>
<h5 data-id="heading-14">ï¼ˆ2ï¼‰æ„å»ºè§„åˆ™æ ‘</h5>
<pre><code class="hljs language-scss" lang="scss">public static RuleNodeDTO <span class="hljs-built_in">buildNode</span>(MonBaseRuleConfig currentNode, Map&lt;String, List&lt;MonBaseRuleConfig&gt;&gt; parentMap) {
    <span class="hljs-comment">// è½¬æ¢ä¸ºDTO</span>
    RuleNodeDTO nodeDTO = BeanUtil<span class="hljs-selector-class">.copyProperties</span>(currentNode,RuleNodeDTO.class);
    
    <span class="hljs-comment">// è·å–å½“å‰èŠ‚ç‚¹çš„å­èŠ‚ç‚¹åˆ—è¡¨</span>
    List&lt;MonBaseRuleConfig&gt; children = parentMap<span class="hljs-selector-class">.getOrDefault</span>(currentNode.getId(), new ArrayList&lt;&gt;());

    <span class="hljs-comment">// é€’å½’æ„å»ºå­èŠ‚ç‚¹</span>
    List&lt;RuleNodeDTO&gt; childDTOs = children<span class="hljs-selector-class">.stream</span>()
            <span class="hljs-selector-class">.map</span>(child -&gt; buildNode(child, parentMap))
            <span class="hljs-selector-class">.collect</span>(Collectors.toList());

    <span class="hljs-comment">// GROUPèŠ‚ç‚¹ç‰¹æ®Šå¤„ç†</span>
    if ("GROUP".equals(currentNode.getNodeType())) {
        if (!childDTOs.isEmpty()) {
            List&lt;<span class="hljs-selector-tag">Object</span>&gt; ruleIds = childDTOs<span class="hljs-selector-class">.stream</span>()<span class="hljs-selector-class">.map</span>(RuleNodeDTO::getRuleId)<span class="hljs-selector-class">.collect</span>(Collectors.toList());
            RuleNodeDTO ruleNodeDTO = childDTOs<span class="hljs-selector-class">.get</span>(<span class="hljs-number">0</span>);
            ruleNodeDTO<span class="hljs-selector-class">.setRuleId</span>(ruleIds);
            nodeDTO<span class="hljs-selector-class">.setChildren</span>(Collections.singletonList(ruleNodeDTO));
        }else {
            nodeDTO<span class="hljs-selector-class">.setChildren</span>(childDTOs);
        }
    } else {
        <span class="hljs-comment">// éGROUPèŠ‚ç‚¹ä¿ç•™å®Œæ•´åµŒå¥—ç»“æ„</span>
        nodeDTO<span class="hljs-selector-class">.setChildren</span>(childDTOs);
    }

    return nodeDTO;
}

</code></pre>
<p><strong>ä»£ç åˆ†æ</strong>ï¼š</p>
<ul>
<li>é€’å½’æ„å»ºè§„åˆ™æ ‘ï¼Œå°†æ•°æ®åº“å®ä½“è½¬æ¢ä¸ºå‰ç«¯éœ€è¦çš„ DTO</li>
<li>ç‰¹æ®Šå¤„ç† GROUP ç±»å‹ï¼Œåˆå¹¶å­èŠ‚ç‚¹çš„è§„åˆ™ ID</li>
<li>ä¿ç•™å®Œæ•´çš„åµŒå¥—ç»“æ„ï¼Œæ–¹ä¾¿å‰ç«¯å±•ç¤º</li>
</ul>
<h4 data-id="heading-15">3. è§„åˆ™é…ç½®æœåŠ¡å®ç°ï¼ˆMonBaseRuleConfigServiceImplï¼‰</h4>
<h5 data-id="heading-16">ï¼ˆ1ï¼‰ä¿å­˜è§„åˆ™èŠ‚ç‚¹</h5>
<pre><code class="hljs language-scss" lang="scss">public Integer <span class="hljs-built_in">saveNode</span>(List&lt;RuleNodeDTO&gt; judgeGroup, String ruleGroupId, List&lt;MonRuleDefinitions&gt; ruleDefinitions) {
    if (CollectionUtils.isEmpty(judgeGroup)) {
        return <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-comment">// æ”¶é›†æ‰€æœ‰è½¬æ¢åçš„æ•°æ®åº“å®ä½“</span>
    List&lt;MonBaseRuleConfig&gt; allNodes = new ArrayList&lt;&gt;();
    
    <span class="hljs-comment">// å¤„ç†é¡¶çº§èŠ‚ç‚¹ï¼ˆé€’å½’å¤„ç†æ‰€æœ‰å­èŠ‚ç‚¹ï¼‰</span>
    for (RuleNodeDTO rootNode : judgeGroup) {
        RuleNodeUtil<span class="hljs-selector-class">.convertAndCollectNodes</span>(rootNode, ruleGroupId, null, allNodes);
    }
    
    <span class="hljs-comment">// æ‰¹é‡æ’å…¥æ•°æ®åº“</span>
    if (!CollectionUtils.isEmpty(allNodes)) {
        <span class="hljs-comment">// åˆ é™¤æ—§çš„è§„åˆ™é…ç½®</span>
        List&lt;MonBaseRuleConfig&gt; list = this<span class="hljs-selector-class">.lambdaQuery</span>()
                <span class="hljs-selector-class">.eq</span>(MonBaseRuleConfig::getRuleGroupId, ruleGroupId)
                <span class="hljs-selector-class">.list</span>();
        list<span class="hljs-selector-class">.removeIf</span>(judge -&gt;allNodes.stream()
                <span class="hljs-selector-class">.map</span>(MonBaseRuleConfig::getId)<span class="hljs-selector-class">.collect</span>(Collectors.toList())<span class="hljs-selector-class">.contains</span>(judge.getId()));
        List&lt;String&gt; monConfigDel = list<span class="hljs-selector-class">.stream</span>()<span class="hljs-selector-class">.map</span>(MonBaseRuleConfig::getId)<span class="hljs-selector-class">.collect</span>(Collectors.toList());
        this<span class="hljs-selector-class">.removeByIds</span>(monConfigDel);
        
        <span class="hljs-comment">// ä¿å­˜æ–°çš„è§„åˆ™é…ç½®</span>
        this<span class="hljs-selector-class">.saveOrUpdateBatch</span>(allNodes);
    }
    
    return allNodes<span class="hljs-selector-class">.size</span>();
}

</code></pre>
<p><strong>ä»£ç åˆ†æ</strong>ï¼š</p>
<ul>
<li>æ‰¹é‡ä¿å­˜è§„åˆ™èŠ‚ç‚¹ï¼Œæ”¯æŒæ–°å¢å’Œæ›´æ–°</li>
<li>å…ˆåˆ é™¤æ—§çš„è§„åˆ™é…ç½®ï¼Œå†ä¿å­˜æ–°çš„è§„åˆ™é…ç½®</li>
<li>æ”¯æŒè§„åˆ™ç»„çš„æ¦‚å¿µï¼Œæ–¹ä¾¿ç®¡ç†å¤šä¸ªè§„åˆ™</li>
</ul>
<h3 data-id="heading-17">å››ã€ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-18">1. ç–¾ç—…åˆ†çº§åˆ¤å®š</h4>
<pre><code class="hljs language-scss" lang="scss">é«˜è¡€å‹åˆ†çº§ = (æ”¶ç¼©å‹ &gt; <span class="hljs-number">140mm</span>Hg OR èˆ’å¼ å‹ &gt; <span class="hljs-number">90mm</span>Hg) AND å¹´é¾„ &gt; <span class="hljs-number">65</span>å²

</code></pre>
<h4 data-id="heading-19">2. æ‚£è€…ç®¡ç†è§„åˆ™</h4>
<pre><code class="hljs language-scss" lang="scss">é«˜å±æ‚£è€… = (ç³–å°¿ç—… AND è¡€å‹ &gt; <span class="hljs-number">130</span>/<span class="hljs-number">80mm</span>Hg) OR (å† å¿ƒç—… AND è¡€è„‚å¼‚å¸¸)

</code></pre>
<h4 data-id="heading-20">3. åŒ»ç–—è´¨é‡æ§åˆ¶</h4>
<pre><code class="hljs language-scss" lang="scss">è´¨æ§åˆæ ¼ = (ç—…å†ä¹¦å†™å®Œæ•´ç‡ &gt; <span class="hljs-number">95%</span>) AND (éšè®¿åŠæ—¶ç‡ &gt; <span class="hljs-number">90%</span>) AND (æ‚£è€…æ»¡æ„åº¦ &gt; <span class="hljs-number">85%</span>)

</code></pre>
<h3 data-id="heading-21">äº”ã€æ€»ç»“</h3>
<p>é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™å¥—è§„åˆ™å¼•æ“å®ç°æ–¹æ¡ˆå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒä»»æ„å¤æ‚çš„è§„åˆ™ç»„åˆ</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ–¹ä¾¿æ·»åŠ æ–°çš„è§„åˆ™ç±»å‹å’Œé€»è¾‘</li>
<li><strong>å¯è§†åŒ–</strong>ï¼šæ”¯æŒå‰ç«¯å¯è§†åŒ–é…ç½®è§„åˆ™æ ‘</li>
<li><strong>å¤ç”¨æ€§</strong>ï¼šè§„åˆ™å¯ä»¥è¢«å¤šä¸ªè§„åˆ™ç»„å¤ç”¨</li>
</ol>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“ä¸šåŠ¡éœ€æ±‚ï¼Œçµæ´»é…ç½®å„ç§åˆ¤å®šè§„åˆ™ï¼Œæé«˜ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-22">å…­ã€ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé€’å½’å¤„ç†åœ¨è§„åˆ™æ ‘å±‚çº§è¾ƒæ·±æ—¶å¯èƒ½å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨è¿­ä»£æ–¹å¼æ›¿ä»£é€’å½’</li>
<li><strong>äº‹åŠ¡ç®¡ç†</strong>ï¼šåœ¨æ‰¹é‡ä¿å­˜è§„åˆ™èŠ‚ç‚¹æ—¶ï¼Œå»ºè®®æ·»åŠ äº‹åŠ¡ç®¡ç†ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šå¯¹äºé¢‘ç¹ä½¿ç”¨çš„è§„åˆ™é…ç½®ï¼Œå¯ä»¥æ·»åŠ ç¼“å­˜æœºåˆ¶ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢</li>
<li><strong>è§„åˆ™éªŒè¯</strong>ï¼šåœ¨ä¿å­˜è§„åˆ™å‰æ·»åŠ æ›´ä¸¥æ ¼çš„éªŒè¯é€»è¾‘ï¼Œç¡®ä¿è§„åˆ™é…ç½®çš„åˆæ³•æ€§</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¼˜åŒ–å»ºè®®ï¼šæ·»åŠ äº‹åŠ¡ç®¡ç†</span>
<span class="hljs-meta">@Transactional</span>(rollbackFor = <span class="hljs-title class_">Exception</span>.<span class="hljs-property">class</span>)
<span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">saveNode</span>(<span class="hljs-params">List&lt;RuleNodeDTO&gt; judgeGroup, <span class="hljs-built_in">String</span> ruleGroupId, List&lt;MonRuleDefinitions&gt; ruleDefinitions</span>) {
    <span class="hljs-comment">// ... åŸæœ‰ä»£ç </span>
}

</code></pre>
<p>é€šè¿‡ä»¥ä¸Šä¼˜åŒ–ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜è§„åˆ™å¼•æ“çš„æ€§èƒ½å’Œå¯é æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C è¯­è¨€å®æˆ˜ï¼šæšä¸¾ç±»å‹å®ç°æ•°å­—è½¬æ˜ŸæœŸï¼ˆè¾“å…¥ 1~7 å¯¹åº”æ˜ŸæœŸå‡ ï¼‰]]></title>    <link>https://juejin.cn/post/7593859149441335305</link>    <guid>https://juejin.cn/post/7593859149441335305</guid>    <pubDate>2026-01-12T00:56:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593859149441335305" data-draft-id="7593771861324808218" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C è¯­è¨€å®æˆ˜ï¼šæšä¸¾ç±»å‹å®ç°æ•°å­—è½¬æ˜ŸæœŸï¼ˆè¾“å…¥ 1~7 å¯¹åº”æ˜ŸæœŸå‡ ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T00:56:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ¨åŒå­¦49"/> <meta itemprop="url" content="https://juejin.cn/user/1189004976589664"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C è¯­è¨€å®æˆ˜ï¼šæšä¸¾ç±»å‹å®ç°æ•°å­—è½¬æ˜ŸæœŸï¼ˆè¾“å…¥ 1~7 å¯¹åº”æ˜ŸæœŸå‡ ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1189004976589664/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ¨åŒå­¦49
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:56:12.000Z" title="Mon Jan 12 2026 00:56:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">C è¯­è¨€å®æˆ˜ï¼šæšä¸¾ç±»å‹å®ç°æ•°å­—è½¬æ˜ŸæœŸï¼ˆè¾“å…¥ 1~7 å¯¹åº”æ˜ŸæœŸå‡ ï¼‰</h2>
<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ C è¯­è¨€æšä¸¾ï¼ˆ<code>enum</code>ï¼‰å…¥é—¨æ¡ˆä¾‹ï¼Œé€šè¿‡å®šä¹‰æšä¸¾ç±»å‹æ˜ å°„æ˜ŸæœŸå‡ ï¼Œç»“åˆ<code>switch</code>è¯­å¥å®ç°æ•°å­—åˆ°æ˜ŸæœŸçš„è½¬æ¢ï¼Œé€»è¾‘æ¸…æ™°ä¸”ä»£ç å¯è¯»æ€§å¼ºï¼Œå®Œç¾è¯ é‡Šäº†æšä¸¾ç±»å‹çš„æ ¸å¿ƒç”¨é€”ã€‚æœ¬æ–‡å°†é€æ¨¡å—æ‹†è§£ä»£ç é€»è¾‘ï¼Œè§£è¯»æšä¸¾ç±»å‹çš„ç‰¹æ€§ä¸ä½¿ç”¨æŠ€å·§ï¼ŒåŒæ—¶ä¼˜åŒ–ç¨‹åºå¥å£®æ€§ï¼Œå¸®ä½ åƒé€æšä¸¾ç±»å‹çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä»£ç æ•´ä½“åŠŸèƒ½ä¸æ ¸å¿ƒäº®ç‚¹</h3>
<h4 data-id="heading-2">1. æ•´ä½“åŠŸèƒ½</h4>
<ol>
<li>å®šä¹‰<code>Weekday</code>æšä¸¾ç±»å‹ï¼Œå°†<code>1~7</code>ä¾æ¬¡æ˜ å°„ä¸ºæ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸæ—¥ï¼Œå®ç°æ•°å­—ä¸è¯­ä¹‰åŒ–å¸¸é‡çš„ç»‘å®šï¼›</li>
<li>æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ•´æ•°ï¼ˆ<code>1~7</code>ï¼‰ï¼Œå°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºæšä¸¾ç±»å‹ï¼›</li>
<li>é€šè¿‡<code>switch</code>è¯­å¥åŒ¹é…æšä¸¾å¸¸é‡ï¼Œè¾“å‡ºå¯¹åº”çš„ä¸­æ–‡æ˜ŸæœŸï¼Œè¾“å…¥éæ³•æ•°å­—æ—¶è¾“å‡º<code>err</code>ï¼›</li>
<li>ç¨‹åºäº¤äº’ç®€æ´ï¼Œç»“æœè¾“å‡ºæ¸…æ™°ï¼Œç¬¦åˆåŸºç¡€å·¥å…·ç¨‹åºçš„ä½¿ç”¨åœºæ™¯ã€‚</li>
</ol>
<h4 data-id="heading-3">2. æ ¸å¿ƒäº®ç‚¹</h4>
<ul>
<li>é‡‡ç”¨æšä¸¾ç±»å‹æ›¿ä»£é­”æ³•æ•°å­—ï¼ˆ<code>1~7</code>ï¼‰ï¼Œèµ‹äºˆæ•°å­—æ˜ç¡®çš„è¯­ä¹‰ï¼ˆ<code>Monday</code>å¯¹åº”æ˜ŸæœŸä¸€ï¼‰ï¼Œæå‡ä»£ç å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ï¼›</li>
<li>æšä¸¾å¸¸é‡è‡ªåŠ¨é€’å¢èµ‹å€¼ï¼šä»…ç»™ç¬¬ä¸€ä¸ªå¸¸é‡<code>Monday</code>èµ‹å€¼<code>1</code>ï¼Œåç»­å¸¸é‡è‡ªåŠ¨ + 1ï¼Œç®€åŒ–æšä¸¾å®šä¹‰ï¼›</li>
<li>ç»“åˆ<code>switch</code>è¯­å¥åŒ¹é…æšä¸¾å€¼ï¼Œåˆ†æ”¯æ¸…æ™°ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œç›¸æ¯”<code>if-else</code>æ›´é€‚åˆå¤šåˆ†æ”¯å›ºå®šå€¼åŒ¹é…åœºæ™¯ï¼›</li>
<li>å¢åŠ <code>default</code>åˆ†æ”¯å¤„ç†éæ³•è¾“å…¥ï¼Œä¿è¯ç¨‹åºçš„åŸºæœ¬å¥å£®æ€§ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€æ ¸å¿ƒæ¨¡å—é€å¥è§£æ</h3>
<h4 data-id="heading-5">1. æšä¸¾ç±»å‹å®šä¹‰ï¼š<code>enum Weekday</code></h4>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Weekday</span>{
    Monday=<span class="hljs-number">1</span>,    <span class="hljs-comment">// æ˜¾å¼èµ‹å€¼ä¸º1</span>
    Tuesday,     <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º2</span>
    Wednesday,   <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º3</span>
    Thursday,    <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º4</span>
    Friday,      <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º5</span>
    Saturday,    <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º6</span>
    Sunday       <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º7</span>
};
</code></pre>
<h5 data-id="heading-6">æšä¸¾ç±»å‹çš„æ ¸å¿ƒç‰¹æ€§è§£è¯»</h5>
<ol>
<li>
<p><strong>æšä¸¾çš„æœ¬è´¨</strong>ï¼šC è¯­è¨€ä¸­çš„æšä¸¾æ˜¯ä¸€ç§<strong>æ•´æ•°ç±»å‹</strong>ï¼Œæšä¸¾å¸¸é‡æœ¬è´¨ä¸Šæ˜¯è¢«å‘½åçš„æ•´æ•°å¸¸é‡ï¼Œé»˜è®¤å ç”¨<code>int</code>ç±»å‹çš„å†…å­˜ç©ºé—´ï¼›</p>
</li>
<li>
<p><strong>èµ‹å€¼è§„åˆ™</strong>ï¼š</p>
<ul>
<li>è‹¥æ˜¾å¼ç»™æŸä¸ªæšä¸¾å¸¸é‡èµ‹å€¼ï¼Œåç»­å¸¸é‡ä¼šä»è¯¥å€¼å¼€å§‹<strong>è‡ªåŠ¨é€’å¢ 1</strong>ï¼ˆå¦‚<code>Monday=1</code>ï¼Œåˆ™<code>Tuesday=2</code>ï¼Œ<code>Sunday=7</code>ï¼‰ï¼›</li>
<li>è‹¥ä¸æ˜¾å¼èµ‹å€¼ï¼Œç¬¬ä¸€ä¸ªæšä¸¾å¸¸é‡é»˜è®¤å€¼ä¸º<code>0</code>ï¼Œåç»­ä¾æ¬¡é€’å¢ 1ï¼›</li>
</ul>
</li>
<li>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šç”¨è¯­ä¹‰åŒ–çš„å¸¸é‡åï¼ˆ<code>Monday</code>ã€<code>Tuesday</code>ï¼‰æ›¿ä»£æ— æ„ä¹‰çš„æ•°å­—ï¼ˆ<code>1</code>ã€<code>2</code>ï¼‰ï¼Œè®©ä»£ç æ›´æ˜“è¯»ã€æ˜“ä¿®æ”¹ï¼ˆåç»­å¦‚éœ€è°ƒæ•´æ˜ å°„å…³ç³»ï¼Œä»…éœ€ä¿®æ”¹æšä¸¾å®šä¹‰ï¼Œæ— éœ€æ”¹åŠ¨ä¸šåŠ¡é€»è¾‘ï¼‰ï¼›</p>
</li>
<li>
<p><strong>å‘½åè§„èŒƒ</strong>ï¼šæšä¸¾å¸¸é‡é€šå¸¸é‡‡ç”¨<strong>é¦–å­—æ¯å¤§å†™</strong>ï¼ˆæˆ–å…¨å¤§å†™ï¼‰çš„å‘½åæ–¹å¼ï¼Œä¸æ™®é€šå˜é‡åŒºåˆ†ï¼Œç¬¦åˆ C è¯­è¨€ç¼–ç¨‹è§„èŒƒã€‚</p>
</li>
</ol>
<h4 data-id="heading-7">2. ä¸»å‡½æ•°ï¼šè¾“å…¥ã€ç±»å‹è½¬æ¢ä¸åˆ†æ”¯åŒ¹é…</h4>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">int</span> i;
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Weekday</span> day; <span class="hljs-comment">// å®šä¹‰æšä¸¾ç±»å‹å˜é‡</span>
    
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n===æ•°å­—è½¬æ˜ŸæœŸ===\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥ 1~7çš„æ•´æ•°ï¼š"</span>);
    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>,&amp;i); <span class="hljs-comment">// æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ•´æ•°</span>
    
    day=(<span class="hljs-keyword">enum</span> Weekday)i; <span class="hljs-comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šint -&gt; æšä¸¾ç±»å‹</span>
    
    <span class="hljs-keyword">switch</span>(day) <span class="hljs-comment">// åˆ‡æ¢æšä¸¾å˜é‡ï¼ŒåŒ¹é…å¯¹åº”å¸¸é‡</span>
    {
    <span class="hljs-keyword">case</span> Monday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸä¸€\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Tuesday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸäºŒ\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Wednesday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸä¸‰\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Thursday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸå››\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Friday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸäº”\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Saturday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸå…­\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Sunday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸæ—¥\n"</span>,i);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">default</span>:
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"err\n"</span>);
        <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h5 data-id="heading-8">å…³é”®æ­¥éª¤è§£è¯»</h5>
<ol>
<li>
<p><strong>æšä¸¾å˜é‡å®šä¹‰</strong>ï¼š<code>enum Weekday day;</code> å®šä¹‰äº†ä¸€ä¸ª<code>Weekday</code>æšä¸¾ç±»å‹çš„å˜é‡<code>day</code>ï¼Œç”¨äºå­˜å‚¨è½¬æ¢åçš„æšä¸¾å€¼ï¼›</p>
</li>
<li>
<p><strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼š<code>day=(enum Weekday)i;</code>ï¼Œç”±äºç”¨æˆ·è¾“å…¥çš„æ˜¯<code>int</code>ç±»å‹ï¼Œè€Œ<code>switch</code>éœ€è¦åŒ¹é…æšä¸¾å¸¸é‡ï¼Œå› æ­¤éœ€è¦å°†<code>int</code>ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸º<code>enum Weekday</code>ç±»å‹ã€‚æ³¨æ„ï¼šæšä¸¾ç±»å‹ä¸<code>int</code>ç±»å‹å¯ä»¥ç›¸äº’è½¬æ¢ï¼ˆå› ä¸ºæšä¸¾æœ¬è´¨æ˜¯æ•´æ•°ï¼‰ï¼›</p>
</li>
<li>
<p><strong><code>switch</code>åŒ¹é…æšä¸¾å¸¸é‡</strong>ï¼š</p>
<ul>
<li><code>switch</code>çš„è¡¨è¾¾å¼ä¸ºæšä¸¾å˜é‡<code>day</code>ï¼Œ<code>case</code>åˆ†æ”¯ç›´æ¥åŒ¹é…æšä¸¾å¸¸é‡ï¼ˆ<code>Monday</code>ã€<code>Tuesday</code>ç­‰ï¼‰ï¼Œæ— éœ€å†™æ•°å­—ï¼Œä»£ç è¯­ä¹‰æ¸…æ™°ï¼›</li>
<li>æ¯ä¸ª<code>case</code>åˆ†æ”¯æœ«å°¾å¿…é¡»åŠ <code>break;</code>ï¼Œé¿å… â€œcase ç©¿é€â€ï¼ˆå³æ‰§è¡Œå®Œå½“å‰åˆ†æ”¯åï¼Œç»§ç»­æ‰§è¡Œåç»­åˆ†æ”¯ï¼‰ï¼›</li>
<li><code>default</code>åˆ†æ”¯å¤„ç†æ‰€æœ‰é<code>1~7</code>çš„éæ³•è¾“å…¥ï¼Œè¾“å‡º<code>err</code>ï¼Œä¿è¯ç¨‹åºä¸ä¼šå‡ºç°æ— å“åº”çš„æƒ…å†µã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-9">ä¸‰ã€è¿è¡Œç»“æœç¤ºä¾‹</h3>
<h4 data-id="heading-10">ç¤ºä¾‹ 1ï¼šåˆæ³•è¾“å…¥ï¼ˆ3ï¼‰</h4>
<p>plaintext</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-comment">===æ•°å­—è½¬æ˜ŸæœŸ===</span>
è¾“å…¥ 1~7çš„æ•´æ•°ï¼š3
è¾“å…¥çš„æ•°å­—3å¯¹åº”ï¼šæ˜ŸæœŸä¸‰
</code></pre>
<h4 data-id="heading-11">ç¤ºä¾‹ 2ï¼šåˆæ³•è¾“å…¥ï¼ˆ7ï¼‰</h4>
<p>plaintext</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-comment">===æ•°å­—è½¬æ˜ŸæœŸ===</span>
è¾“å…¥ 1~7çš„æ•´æ•°ï¼š7
è¾“å…¥çš„æ•°å­—7å¯¹åº”ï¼šæ˜ŸæœŸæ—¥
</code></pre>
<h4 data-id="heading-12">ç¤ºä¾‹ 3ï¼šéæ³•è¾“å…¥ï¼ˆ8ï¼‰</h4>
<p>plaintext</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-comment">===æ•°å­—è½¬æ˜ŸæœŸ===</span>
è¾“å…¥ 1~7çš„æ•´æ•°ï¼š8
err
</code></pre>
<h4 data-id="heading-13">ç¤ºä¾‹ 4ï¼šéæ³•è¾“å…¥ï¼ˆ0ï¼‰</h4>
<p>plaintext</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-comment">===æ•°å­—è½¬æ˜ŸæœŸ===</span>
è¾“å…¥ 1~7çš„æ•´æ•°ï¼š0
err
</code></pre>
<h3 data-id="heading-14">å››ã€ä»£ç ä¼˜åŒ–ä¸å¥å£®æ€§æå‡</h3>
<p>åŸä»£ç å·²å®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œç°é’ˆå¯¹ â€œè¾“å…¥åˆæ³•æ€§æ ¡éªŒâ€ å’Œ â€œç”¨æˆ·ä½“éªŒâ€ è¿›è¡Œä¼˜åŒ–ï¼Œè®©ç¨‹åºæ›´ä¸¥è°¨ã€æ›´å®ç”¨ã€‚</p>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">/******************************
*æ–‡ä»¶åç§°ï¼š4.Enum.c
*ä½œè€…:czy
*é‚®ç®±ï¼šcaozhiyang_0613@163.com
*åˆ›å»ºæ—¥æœŸ:2026/1/4
*ä¿®æ”¹æ—¥æœŸï¼š2026/01/11
*æ–‡ä»¶åŠŸèƒ½ï¼šåˆ©ç”¨æšä¸¾ï¼Œè¾“å…¥ 1~7ï¼Œè¾“å‡ºå¯¹åº”æ˜ŸæœŸå‡ ï¼Œå¦åˆ™è¾“å‡º err
*ä¼˜åŒ–ç‚¹ï¼š1. å¢åŠ è¾“å…¥åˆæ³•æ€§å‰ç½®æ ¡éªŒï¼›2. ä¼˜åŒ–è¾“å‡ºæ ¼å¼ï¼›3. æå‡ç”¨æˆ·äº¤äº’ä½“éªŒ
*****************************/</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-comment">// å®šä¹‰æšä¸¾ç±»å‹ï¼šæ˜ŸæœŸå‡ ï¼ˆ1~7å¯¹åº”æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸæ—¥ï¼‰</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Weekday</span>{
    Monday=<span class="hljs-number">1</span>,
    Tuesday,
    Wednesday,
    Thursday,
    Friday,
    Saturday,
    Sunday
};

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-type">int</span> input_num;
    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Weekday</span> day;
    
    <span class="hljs-comment">// ä¼˜åŒ–ï¼šæ›´å‹å¥½çš„äº¤äº’æç¤º</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"===== æ•°å­—è½¬æ˜ŸæœŸå·¥å…· =====\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"åŠŸèƒ½è¯´æ˜ï¼šè¾“å…¥1~7çš„æ•´æ•°ï¼Œå¯¹åº”è¾“å‡ºæ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸæ—¥\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¯·è¾“å…¥éœ€è¦è½¬æ¢çš„æ•°å­—ï¼š"</span>);
    
    <span class="hljs-comment">// ä¼˜åŒ–1ï¼šæ ¡éªŒscanfè¾“å…¥æ˜¯å¦æˆåŠŸï¼ˆé¿å…è¾“å…¥éæ•°å­—å­—ç¬¦ï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;input_num) != <span class="hljs-number">1</span>) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"errï¼šè¾“å…¥ä¸æ˜¯æœ‰æ•ˆæ•´æ•°ï¼\n"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">// ä¼˜åŒ–2ï¼šå‰ç½®åˆæ³•æ€§æ ¡éªŒï¼ˆæå‰æ‹¦æˆªéæ³•æ•°å­—ï¼Œæ— éœ€è¿›å…¥switchï¼‰</span>
    <span class="hljs-keyword">if</span> (input_num &lt; <span class="hljs-number">1</span> || input_num &gt; <span class="hljs-number">7</span>) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"errï¼šè¾“å…¥æ•°å­—è¶…å‡ºèŒƒå›´ï¼è¯·è¾“å…¥1~7ä¹‹é—´çš„æ•´æ•°ã€‚\n"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
    
    <span class="hljs-comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼šint -&gt; æšä¸¾ç±»å‹</span>
    day = (<span class="hljs-keyword">enum</span> Weekday)input_num;
    
    <span class="hljs-comment">// switchåˆ†æ”¯åŒ¹é…ï¼Œè¾“å‡ºç»“æœ</span>
    <span class="hljs-keyword">switch</span>(day)
    {
    <span class="hljs-keyword">case</span> Monday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸä¸€\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Tuesday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸäºŒ\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Wednesday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸä¸‰\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Thursday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸå››\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Friday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸäº”\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Saturday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸå…­\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> Sunday:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… è¾“å…¥çš„æ•°å­—%då¯¹åº”ï¼šæ˜ŸæœŸæ—¥\n"</span>, input_num);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-comment">// å‰ç½®æ ¡éªŒåï¼Œdefaultåˆ†æ”¯å¯ä¿ç•™ï¼ˆé˜²æ­¢æç«¯æƒ…å†µï¼‰</span>
    <span class="hljs-keyword">default</span>:
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"errï¼šæœªçŸ¥é”™è¯¯ï¼\n"</span>);
        <span class="hljs-keyword">break</span>;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h4 data-id="heading-15">ä¼˜åŒ–ç‚¹è¯¦ç»†è¯´æ˜</h4>
<ol>
<li><strong>å¢åŠ è¾“å…¥æœ‰æ•ˆæ€§æ ¡éªŒ</strong>ï¼šæ ¡éªŒ<code>scanf</code>çš„è¿”å›å€¼ï¼Œè‹¥ç”¨æˆ·è¾“å…¥éæ•°å­—å­—ç¬¦ï¼ˆå¦‚<code>a</code>ã€<code>#</code>ï¼‰ï¼Œç›´æ¥è¾“å‡ºé”™è¯¯å¹¶é€€å‡ºï¼Œé¿å…ç¨‹åºå‡ºç°å¼‚å¸¸ï¼›</li>
<li><strong>å‰ç½®æ•°å­—èŒƒå›´æ ¡éªŒ</strong>ï¼šåœ¨è¿›å…¥<code>switch</code>ä¹‹å‰ï¼Œæå‰åˆ¤æ–­è¾“å…¥æ•°å­—æ˜¯å¦åœ¨<code>1~7</code>ä¹‹é—´ï¼Œæ‹¦æˆªéæ³•æ•°å­—ï¼Œå‡å°‘<code>switch</code>çš„åˆ†æ”¯æ‰§è¡Œå‹åŠ›ï¼Œé€»è¾‘æ›´é«˜æ•ˆï¼›</li>
<li><strong>ä¼˜åŒ–ç”¨æˆ·äº¤äº’</strong>ï¼šå¢åŠ åŠŸèƒ½è¯´æ˜æç¤ºï¼Œè¾“å‡ºç»“æœæ·»åŠ <code>âœ…</code>ç¬¦å·ï¼Œæ ¼å¼æ›´ç¾è§‚ï¼Œç”¨æˆ·ä½“éªŒæ›´ä½³ï¼›</li>
<li><strong>å®Œå–„é”™è¯¯æç¤º</strong>ï¼šé’ˆå¯¹ä¸åŒéæ³•è¾“å…¥ï¼ˆéæ•´æ•°ã€è¶…å‡ºèŒƒå›´ï¼‰ç»™å‡ºä¸åŒçš„é”™è¯¯ä¿¡æ¯ï¼Œä¾¿äºç”¨æˆ·æ’æŸ¥é—®é¢˜ï¼Œæå‡ç¨‹åºçš„æ˜“ç”¨æ€§ã€‚</li>
</ol>
<h3 data-id="heading-16">äº”ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“</h3>
<ol>
<li><strong>æšä¸¾ç±»å‹çš„æ ¸å¿ƒæœ¬è´¨</strong>ï¼šæšä¸¾æ˜¯å‘½åçš„æ•´æ•°å¸¸é‡é›†åˆï¼Œæœ¬è´¨ä¸º<code>int</code>ç±»å‹ï¼Œæšä¸¾å¸¸é‡çš„å€¼å¯æ˜¾å¼æŒ‡å®šæˆ–è‡ªåŠ¨é€’å¢ï¼›</li>
<li><strong>æšä¸¾çš„æ ¸å¿ƒä»·å€¼</strong>ï¼šæ›¿ä»£é­”æ³•æ•°å­—ï¼Œæå‡ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§ï¼Œè®©è¯­ä¹‰æ›´æ¸…æ™°ï¼›</li>
<li><strong>æšä¸¾çš„ä½¿ç”¨æµç¨‹</strong>ï¼šå®šä¹‰æšä¸¾ç±»å‹â†’å£°æ˜æšä¸¾å˜é‡â†’èµ‹å€¼ / ç±»å‹è½¬æ¢â†’é€šè¿‡<code>switch</code>/<code>if</code>è¿›è¡Œåˆ†æ”¯åŒ¹é…ï¼›</li>
<li><strong><code>switch</code>ä¸æšä¸¾çš„é…åˆ</strong>ï¼šæšä¸¾å¸¸é‡æ˜¯<code>switch</code>çš„ç†æƒ³åŒ¹é…å¯¹è±¡ï¼Œåˆ†æ”¯æ¸…æ™°ã€æ‰§è¡Œé«˜æ•ˆï¼Œé¿å…<code>if-else</code>çš„ç¹çåµŒå¥—ï¼›</li>
<li><strong>ç¨‹åºå¥å£®æ€§åŸåˆ™</strong>ï¼šå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œåˆæ³•æ€§æ ¡éªŒï¼Œæå‰æ‹¦æˆªéæ³•æ•°æ®ï¼Œé¿å…ç¨‹åºå‡ºç°æœªå®šä¹‰è¡Œä¸ºã€‚</li>
</ol>
<h3 data-id="heading-17">å…­ã€åŠŸèƒ½æ‰©å±•å»ºè®®</h3>
<ol>
<li><strong>åå‘è½¬æ¢</strong>ï¼šæ”¯æŒè¾“å…¥æ˜ŸæœŸå‡ ï¼ˆå¦‚ â€œæ˜ŸæœŸä¸€â€ï¼‰ï¼Œè¾“å‡ºå¯¹åº”çš„æ•°å­—ï¼ˆ<code>1</code>ï¼‰ï¼Œå®ç°åŒå‘è½¬æ¢ï¼›</li>
<li><strong>æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢</strong>ï¼šå¢åŠ é€‰é¡¹ï¼Œè®©ç”¨æˆ·é€‰æ‹©è¾“å‡ºä¸­æ–‡æ˜ŸæœŸæˆ–è‹±æ–‡æ˜ŸæœŸï¼ˆå¦‚<code>Monday</code>ï¼‰ï¼›</li>
<li><strong>å¾ªç¯æ‰§è¡Œ</strong>ï¼šæ·»åŠ å¾ªç¯é€»è¾‘ï¼Œè®©ç¨‹åºå¯ä»¥é‡å¤è½¬æ¢ï¼Œæ— éœ€æ¯æ¬¡è¿è¡Œåªè½¬æ¢ä¸€æ¬¡ï¼›</li>
<li><strong>æ‰©å±•æšä¸¾åœºæ™¯</strong>ï¼šåˆ©ç”¨æšä¸¾å®ç°å…¶ä»–åœºæ™¯ï¼ˆå¦‚æœˆä»½è½¬æ¢ï¼š<code>1~12</code>å¯¹åº” 1 æœˆåˆ° 12 æœˆã€é¢œè‰²è½¬æ¢ï¼š<code>1~3</code>å¯¹åº”çº¢ã€ç»¿ã€è“ï¼‰ï¼Œä¸¾ä¸€åä¸‰æŒæ¡æšä¸¾çš„ä½¿ç”¨ã€‚</li>
</ol>
<p>è¿™ä»½ä»£ç æ˜¯æšä¸¾ç±»å‹çš„å…¥é—¨ç»å…¸æ¡ˆä¾‹ï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†å®Œç¾ä½“ç°äº†æšä¸¾ç±»å‹çš„æ ¸å¿ƒç”¨é€”ä¸ C è¯­è¨€çš„åŸºç¡€ç¼–ç¨‹æ€æƒ³ã€‚æŒæ¡æšä¸¾ç±»å‹çš„ä½¿ç”¨ï¼Œä¸ä»…èƒ½å†™å‡ºæ›´ä¼˜é›…ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç ï¼Œè¿˜èƒ½ä¸ºåç»­å­¦ä¹ æ›´å¤æ‚çš„æ•°æ®ç±»å‹ï¼ˆå¦‚ç»“æ„ä½“ã€è”åˆä½“ï¼‰æ‰“ä¸‹åšå®åŸºç¡€ã€‚æšä¸¾ç±»å‹åœ¨å®é™…å¼€å‘ä¸­åº”ç”¨å¹¿æ³›ï¼ˆå¦‚çŠ¶æ€ç ã€é€‰é¡¹é…ç½®ç­‰ï¼‰ï¼Œåƒé€æœ¬æ–‡çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œèƒ½å¿«é€Ÿåº”å¯¹å„ç±»å®é™…å¼€å‘åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaæºç ä¸­çš„æ’åºç®—æ³•(ä¸€)--Arrays.sort()]]></title>    <link>https://juejin.cn/post/7593573617647779892</link>    <guid>https://juejin.cn/post/7593573617647779892</guid>    <pubDate>2026-01-12T00:51:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593573617647779892" data-draft-id="7593175890794823726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaæºç ä¸­çš„æ’åºç®—æ³•(ä¸€)--Arrays.sort()"/> <meta itemprop="keywords" content="Java,æ’åºç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-12T00:51:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‚µä¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/1160695730942141"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaæºç ä¸­çš„æ’åºç®—æ³•(ä¸€)--Arrays.sort()
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1160695730942141/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‚µä¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:51:22.000Z" title="Mon Jan 12 2026 00:51:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨é¢è¯•å‡†å¤‡æ’åºç®—æ³•ç›¸å…³å†…å®¹æ—¶ï¼Œæ­»è®°ç¡¬èƒŒå¾€å¾€åªèƒ½ç”Ÿæ¬ç¡¬å¥—ï¼Œéš¾ä»¥ç»™é¢è¯•å®˜ç•™ä¸‹æ·±åˆ»å°è±¡ã€‚è‹¥å›´ç»• Java ä¸­å¸¸ç”¨çš„ <code>Arrays.sort()</code> å±•å¼€è®²è§£ï¼Œèƒ½è®©ä½ çš„çŸ¥è¯†å‚¨å¤‡æ›´å…·å®ç”¨æ€§å’Œæ·±åº¦ï¼Œå±•ç°å‡ºå¯¹å®é™…å¼€å‘çš„ç†è§£ã€‚ä»¥ä¸‹å°†ä» <code>Arrays</code> ç±»çš„æ’åºæ–¹æ³•åˆ†ç±»ã€æºç å®ç°ï¼Œä»¥åŠæ ¸å¿ƒæ’åºç®—æ³•/ç±»çš„èƒ½åŠ›è¯¦è§£ä¸‰æ–¹é¢å±•å¼€ã€‚ï¼ˆæ‰€æœ‰æºç åŸºäºJava21ï¼‰</p>
<h2 data-id="heading-0">ä¸€ã€Arrays ç±»ä¸æ’åºæ–¹æ³•åˆ†ç±»</h2>
<p><code>Arrays</code> æ˜¯ Java æä¾›çš„ç”¨äºæ“ä½œæ•°ç»„çš„å·¥å…·ç±»ï¼Œå…¶æ’åºæ–¹æ³•å¯æ ¹æ®å¤„ç†çš„æ•°æ®ç±»å‹ï¼ˆåŸºæœ¬æ•°æ®ç±»å‹/å¼•ç”¨æ•°æ®ç±»å‹ï¼‰å’Œæ’åºæ–¹å¼ï¼ˆæ™®é€šæ’åº/å¹¶å‘æ’åºï¼‰åˆ†ä¸ºå…­å¤§ç±»ï¼Œæ ¸å¿ƒé€»è¾‘å›´ç»•â€œé€‚é…ä¸åŒæ•°æ®åœºæ™¯é€‰æ‹©æœ€ä¼˜æ’åºç®—æ³•â€å±•å¼€ï¼Œå…·ä½“åˆ†ç±»å¯å‚è€ƒå¦‚ä¸‹é€»è¾‘æ¡†æ¶ï¼š</p>
<ul>
<li>åŸºæœ¬æ•°æ®ç±»å‹æ’åº
<ul>
<li>æ™®é€šæ’åºï¼š<code>sort(int[] a)</code>ã€<code>sort(long[] a)</code> ç­‰</li>
<li>å¹¶å‘æ’åºï¼š<code>parallelSort(int[] a)</code>ã€<code>parallelSort(long[] a)</code> ç­‰</li>
</ul>
</li>
<li>å¼•ç”¨æ•°æ®ç±»å‹æ’åºï¼ˆå…ƒç´ çˆ¶ç±»ä¸º Objectï¼‰
<ul>
<li>æ™®é€šæ’åºï¼š<code>sort(Object[] a)</code>ã€<code>sort(T[] a, Comparator&lt;? super T&gt; c)</code> ç­‰</li>
<li>å¹¶å‘æ’åºï¼š<code>parallelSort(T[] a)</code>ï¼ˆT å®ç° Comparable æ¥å£ï¼‰</li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">äºŒã€Arrays.sort() æºç æ ¸å¿ƒå®ç°</h2>
<p>é€šè¿‡é˜…è¯» JDK æºç ï¼ˆä»¥ JDK 21 ä¸ºä¾‹ï¼‰ï¼Œå¯å‘ç° <code>Arrays</code> çš„æ’åºæ–¹æ³•ä¼šæ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©ä¸åŒçš„åº•å±‚ç®—æ³•ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-2">1. åŸºæœ¬æ•°æ®ç±»å‹</h3>
<p>æ— è®ºæ˜¯æ™®é€šæ’åºï¼ˆ<code>sort(int[] a)</code>ï¼‰è¿˜æ˜¯å¹¶å‘æ’åºï¼ˆ<code>parallelSort(int[] a)</code>ï¼‰ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ•°ç»„çš„æ’åºå‡ä¾èµ– <code>DualPivotQuicksort</code> ç±»ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å¯¹ int ç±»å‹æ•°ç»„è¿›è¡Œå‡åºæ’åº
 * <span class="hljs-doctag">@implNote</span> åº•å±‚ä½¿ç”¨åŒè½´å¿«é€Ÿæ’åºï¼ˆDual-Pivot Quicksortï¼‰ï¼Œç”± Vladimir Yaroslavskiyã€Jon Bentley å’Œ Joshua Bloch è®¾è®¡
 * è¯¥ç®—æ³•åœ¨æ‰€æœ‰æ•°æ®é›†ä¸Šå‡èƒ½ä¿è¯ O(n log n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œä¸”é€šå¸¸æ¯”ä¼ ç»Ÿå•è½´å¿«é€Ÿæ’åºæ›´å¿«
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sort</span><span class="hljs-params">(<span class="hljs-type">int</span>[] a)</span> {
    DualPivotQuicksort.sort(a, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, a.length);
}

<span class="hljs-comment">/**
 * å¯¹ int ç±»å‹æ•°ç»„è¿›è¡Œå¹¶è¡Œå‡åºæ’åºï¼ˆJDK 8+ æ–°å¢ï¼‰
 * <span class="hljs-doctag">@implNote</span> åº•å±‚ä»åŸºäº DualPivotQuicksortï¼Œç»“åˆ Fork/Join æ¡†æ¶å®ç°å¹¶è¡Œå¤„ç†ï¼Œæå‡å¤§è§„æ¨¡æ•°ç»„æ’åºæ•ˆç‡
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">parallelSort</span><span class="hljs-params">(<span class="hljs-type">int</span>[] a)</span> {
    DualPivotQuicksort.sort(a, ForkJoinPool.getCommonPoolParallelism(), <span class="hljs-number">0</span>, a.length);
}
</code></pre>
<h3 data-id="heading-3">2. å¼•ç”¨æ•°æ®ç±»å‹</h3>
<p>å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå¦‚ <code>Object[]</code>ã€è‡ªå®šä¹‰ç±»æ•°ç»„ï¼‰çš„æ’åºé€»è¾‘ç›¸å¯¹å¤æ‚ï¼Œä¼šæ ¹æ®æ˜¯å¦å¼€å¯ï¼ˆ<code>LegacyMergeSort</code>ï¼‰é€‰æ‹©ä¸åŒç®—æ³•ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ä¿è¯<strong>ç¨³å®šæ€§</strong>ï¼ˆç›¸ç­‰å…ƒç´ ä¸æ”¹å˜åŸæœ‰é¡ºåºï¼‰ã€‚</p>
<h4 data-id="heading-4">2.1 æ™®é€šæ’åºï¼š<code>sort(Object[] a)</code> ä¸ <code>sort(T[] a, Comparator&lt;? super T&gt; c)</code></h4>
<p>æ ¹æ®æ˜¯å¦å¼€å¯â€œé—ç•™å½’å¹¶æ’åºâ€ï¼ˆ<code>LegacyMergeSort</code>ï¼‰ï¼Œå¼•ç”¨æ•°æ®ç±»å‹æ•°ç»„çš„æ™®é€šæ’åºä¼šé€‰æ‹©ä¸åŒç®—æ³•ï¼š</p>
<ul>
<li>è‹¥å¼€å¯ <code>LegacyMergeSort</code>ï¼Œåˆ™ä½¿ç”¨é—ç•™å½’å¹¶æ’åºï¼ˆ<code>legacyMergeSort</code>ï¼‰ï¼Œä¿è¯ç¨³å®šæ€§ï¼›</li>
<li>è‹¥æœªå¼€å¯ <code>LegacyMergeSort</code>ï¼Œåˆ™ä½¿ç”¨åŸºäº TimSort ä¼˜åŒ–çš„æ’åºï¼ˆ<code>ComparableTimSort</code>ï¼‰ï¼Œä¹Ÿèƒ½ä¿è¯ç¨³å®šæ€§ã€‚</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æŒ‰å…ƒç´ è‡ªç„¶æ’åºï¼ˆéœ€å®ç° Comparable æ¥å£ï¼‰å¯¹ Object æ•°ç»„å‡åºæ’åºï¼Œä¿è¯ç¨³å®šæ€§
 * <span class="hljs-doctag">@implNote</span> è‹¥ç”¨æˆ·é€šè¿‡ç³»ç»Ÿå±æ€§å¼€å¯ legacyMergeSortï¼Œåˆ™ä½¿ç”¨é—ç•™å½’å¹¶æ’åºï¼›å¦åˆ™ä½¿ç”¨ ComparableTimSort
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sort</span><span class="hljs-params">(Object[] a)</span> {
    <span class="hljs-keyword">if</span> (LegacyMergeSort.userRequested)
        legacyMergeSort(a); <span class="hljs-comment">// é—ç•™å½’å¹¶æ’åº</span>
    <span class="hljs-keyword">else</span>
        ComparableTimSort.sort(a, <span class="hljs-number">0</span>, a.length, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// åŸºäº TimSort ä¼˜åŒ–çš„æ’åº</span>
}

<span class="hljs-comment">/**
 * æŒ‰è‡ªå®šä¹‰ Comparator å¯¹æ•°ç»„å‡åºæ’åºï¼Œä¿è¯ç¨³å®šæ€§
 * <span class="hljs-doctag">@implNote</span> é€»è¾‘ä¸ sort(Object[] a) ä¸€è‡´ï¼Œæ—  Comparator æ—¶å¤ç”¨è‡ªç„¶æ’åºï¼Œæœ‰ Comparator æ—¶ç”¨ TimSort
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">sort</span><span class="hljs-params">(T[] a, Comparator&lt;? <span class="hljs-built_in">super</span> T&gt; c)</span> {
    <span class="hljs-keyword">if</span> (c == <span class="hljs-literal">null</span>) {
        sort(a); <span class="hljs-comment">// æ—  Comparator æ—¶æŒ‰è‡ªç„¶æ’åº</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (LegacyMergeSort.userRequested)
            legacyMergeSort(a, c); <span class="hljs-comment">// å¸¦ Comparator çš„é—ç•™å½’å¹¶æ’åº</span>
        <span class="hljs-keyword">else</span>
            TimSort.sort(a, <span class="hljs-number">0</span>, a.length, c, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// å¸¦ Comparator çš„ TimSort</span>
    }
}
</code></pre>
<h4 data-id="heading-5">2.2 å¹¶å‘æ’åºï¼š<code>parallelSort(T[] a)</code></h4>
<p>JDK 8 æ–°å¢çš„å¹¶è¡Œæ’åºæ–¹æ³•ï¼Œé’ˆå¯¹å¼•ç”¨æ•°æ®ç±»å‹æ•°ç»„ï¼Œåº•å±‚é€šè¿‡â€œåˆ†æ²»+å¹¶è¡Œåˆå¹¶â€å®ç°ï¼Œå­æ•°ç»„æ’åºä¾èµ– TimSortï¼Œæœ€ç»ˆé€šè¿‡ <code>ArraysParallelSortHelpers.FJObject</code> ç±»å°è£… Fork/Join ä»»åŠ¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å¯¹å®ç° Comparable æ¥å£çš„å¼•ç”¨ç±»å‹æ•°ç»„è¿›è¡Œå¹¶è¡Œå‡åºæ’åºï¼Œä¿è¯ç¨³å®šæ€§
 * <span class="hljs-doctag">@implNote</span> ç®—æ³•é€»è¾‘ï¼šå°†æ•°ç»„æ‹†åˆ†ä¸ºå¤šä¸ªå­æ•°ç»„ï¼Œå­æ•°ç»„æ’åºç”¨ TimSortï¼Œæœ€åå¹¶è¡Œåˆå¹¶æ‰€æœ‰æœ‰åºå­æ•°ç»„
 * è‹¥æ•°ç»„é•¿åº¦å°äºæœ€å°ç²’åº¦ï¼ˆMIN_ARRAY_SORT_GRANï¼‰ï¼Œåˆ™é€€åŒ–åˆ°æ™®é€š TimSort
 */</span>
<span class="hljs-meta">@SuppressWarnings("unchecked")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Comparable</span>&lt;? <span class="hljs-built_in">super</span> T&gt;&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">parallelSort</span><span class="hljs-params">(T[] a)</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> a.length, p, g;
    <span class="hljs-keyword">if</span> (n &lt;= MIN_ARRAY_SORT_GRAN || (p = ForkJoinPool.getCommonPoolParallelism()) == <span class="hljs-number">1</span>)
        <span class="hljs-comment">// æ•°ç»„è¿‡çŸ­æˆ–æ— å¹¶è¡Œèƒ½åŠ›æ—¶ï¼Œç›´æ¥ç”¨ TimSort</span>
        TimSort.sort(a, <span class="hljs-number">0</span>, n, NaturalOrder.INSTANCE, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">else</span>
        <span class="hljs-comment">// å°è£… Fork/Join ä»»åŠ¡ï¼Œå¹¶è¡Œå¤„ç†å­æ•°ç»„</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArraysParallelSortHelpers</span>.FJObject.Sorter&lt;&gt;
            (<span class="hljs-literal">null</span>, a,
             (T[])Array.newInstance(a.getClass().getComponentType(), n),
             <span class="hljs-number">0</span>, n, <span class="hljs-number">0</span>, 
             ((g = n / (p &lt;&lt; <span class="hljs-number">2</span>)) &lt;= MIN_ARRAY_SORT_GRAN) ? MIN_ARRAY_SORT_GRAN : g, 
             NaturalOrder.INSTANCE).invoke();
}
</code></pre>
<hr/>
<h3 data-id="heading-6">3. ç”¨ä¸€å¼ å›¾<code>æ€»ç»“é™ˆè¯</code></h3>
<h2 data-id="heading-7"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e35247047fd24d69b0e42f228735eb7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YK15Lyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783932&amp;x-signature=7tiNk7ERJW6p1hKjCE8vzfvRECo%3D" alt="image.png" loading="lazy"/></h2>
<h2 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒæ’åºç®—æ³•/ç±»èƒ½åŠ›ä»‹ç»</h2>
<p><code>Arrays.sort()</code> åº•å±‚ä¾èµ–çš„ 5 ä¸ªæ ¸å¿ƒç®—æ³•/ç±»ï¼Œå…ˆåšå¤§è‡´äº†è§£ï¼š</p>
<ul>
<li><strong>DualPivotQuicksortï¼ˆåŒè½´å¿«é€Ÿæ’åºï¼‰</strong>ï¼šä¸“ä¸º<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>è®¾è®¡çš„é«˜æ•ˆæ’åºç®—æ³•ï¼Œæ˜¯ JDK 6+ ä¸­åŸºæœ¬æ•°æ®ç±»å‹æ’åºçš„é»˜è®¤å®ç°ï¼Œæ›¿ä»£äº†æ—©æœŸçš„å•è½´å¿«é€Ÿæ’åºã€‚</li>
<li><strong>legacyMergeSortï¼ˆå½’å¹¶æ’åºï¼‰</strong>ï¼šJDK 1.2 å¼•å…¥çš„ä¼ ç»Ÿå½’å¹¶æ’åºå®ç°ï¼Œåœ¨ JDK 6 åè¢« TimSort æ›¿ä»£ï¼Œä½†é€šè¿‡ç³»ç»Ÿå±æ€§ <code>java.util.Arrays.useLegacyMergeSort=true</code> å¯æ‰‹åŠ¨å¼€å¯ï¼Œç”¨äºå…¼å®¹ä¾èµ–å…¶ç¨³å®šæ€§çš„æ—§ä»£ç ã€‚</li>
<li><strong>TimSortï¼ˆè’‚å§†æ’åºï¼‰</strong>ï¼šç”± Tim Peters ä¸º Python è®¾è®¡ï¼ŒJDK 6 å¼•å…¥å¹¶ä½œä¸ºå¼•ç”¨æ•°æ®ç±»å‹æ’åºçš„é»˜è®¤ç®—æ³•ï¼ˆé™¤ legacyMergeSort å¼€å¯åœºæ™¯ï¼‰ï¼Œæ˜¯â€œå½’å¹¶æ’åº+æ’å…¥æ’åºâ€çš„æ··åˆä¼˜åŒ–ç®—æ³•ã€‚</li>
<li><strong>ComparableTimSortï¼ˆåŸºäº Comparable çš„ TimSortï¼‰</strong>ï¼šTimSort çš„å˜ä½“ï¼Œä¸“é—¨ç”¨äº<strong>æŒ‰å…ƒç´ è‡ªç„¶æ’åº</strong>ï¼ˆå³å…ƒç´ å®ç° <code>Comparable</code> æ¥å£ï¼‰çš„å¼•ç”¨æ•°æ®ç±»å‹æ•°ç»„ï¼Œæ˜¯ <code>sort(Object[] a)</code> æ–¹æ³•çš„é»˜è®¤å®ç°ï¼ˆæœªå¼€å¯ legacyMergeSort æ—¶ï¼‰ã€‚</li>
<li><strong>ArraysParallelSortHelpers.FJObject</strong>ï¼šJDK 8 ä¸ºæ”¯æŒå¼•ç”¨æ•°æ®ç±»å‹<strong>å¹¶è¡Œæ’åº</strong>ï¼ˆ<code>parallelSort(T[] a)</code>ï¼‰è€Œè®¾è®¡çš„å·¥å…·ç±»ï¼Œå°è£…äº† Fork/Join æ¡†æ¶çš„å¹¶è¡Œä»»åŠ¡é€»è¾‘ï¼Œæ˜¯â€œå¹¶è¡Œæ’åºâ€çš„æ ¸å¿ƒè°ƒåº¦ç»„ä»¶ã€‚</li>
</ul>
<blockquote>
<p>è¿™ä¸€ç¯‡æˆ‘ä»¬å…ˆç‚¹åˆ°ä½ç½®ï¼Œé€šè¿‡æºç å¤§è‡´çŸ¥é“äº†<code>Arrays.sort()</code>çš„ä¸å¯»å¸¸ï¼Œæ¥ä¸‹æ¥è¿è½½è¯¦ç»†æ‹†è§£å…¶ä¸­å¥¥å¦™</p>
<p>ğŸ’¡ <strong>æ„Ÿè°¢ä½ çœ‹å®Œè¿™ç¯‡å†…å®¹ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±åœ¨å·¥ä½œå­¦ä¹ ä¸­é‡åˆ°çš„caseï¼Œåšä¸€äº›ç®€å•çš„
ç©¶ï¼Œå¹¶æ€»ç»“ç»éªŒï¼Œå¦‚æœ‰é—æ¼æˆ–ä¸åˆç†çš„åœ°æ–¹ï¼Œæ¬¢è¿ä½ æå‡ºé—®é¢˜ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C è¯­è¨€å®æˆ˜ï¼šåŠ¨æ€è§„åˆ’æ±‚è§£æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰ï¼Œé™„å®Œæ•´å®ç°ä¸ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7593913760042483721</link>    <guid>https://juejin.cn/post/7593913760042483721</guid>    <pubDate>2026-01-12T00:59:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593913760042483721" data-draft-id="7593242327932370954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C è¯­è¨€å®æˆ˜ï¼šåŠ¨æ€è§„åˆ’æ±‚è§£æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰ï¼Œé™„å®Œæ•´å®ç°ä¸ä¼˜åŒ–"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T00:59:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ¨åŒå­¦49"/> <meta itemprop="url" content="https://juejin.cn/user/1189004976589664"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C è¯­è¨€å®æˆ˜ï¼šåŠ¨æ€è§„åˆ’æ±‚è§£æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰ï¼Œé™„å®Œæ•´å®ç°ä¸ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1189004976589664/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ¨åŒå­¦49
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:59:01.000Z" title="Mon Jan 12 2026 00:59:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">C è¯­è¨€å®æˆ˜ï¼šåŠ¨æ€è§„åˆ’æ±‚è§£æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰ï¼Œé™„å®Œæ•´å®ç°ä¸ä¼˜åŒ–</h2>
<p>æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰æ±‚è§£æ˜¯å­—ç¬¦ä¸²å¤„ç†ä¸­çš„ç»å…¸é—®é¢˜ï¼Œå¸¸å‡ºç°åœ¨ç®—æ³•é¢è¯•ä¸æ•°æ®å¤„ç†åœºæ™¯ä¸­ã€‚è¿™ä»½ä»£ç åŸºäº<strong>åŠ¨æ€è§„åˆ’æ€æƒ³</strong>ï¼Œä¸ä»…å®ç°äº†æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦çš„è®¡ç®—ï¼Œè¿˜èƒ½æå–å‡ºå…·ä½“çš„å…¬å…±å­ä¸²å†…å®¹ï¼ŒåŒæ—¶å°è£…äº†æ¢è¡Œç¬¦å¤„ç†å‡½æ•°ä¿è¯è¾“å…¥çš„è§„èŒƒæ€§ã€‚æœ¬æ–‡å°†é€æ¨¡å—æ‹†è§£ä»£ç é€»è¾‘ï¼ŒæŒ‡å‡ºæ½œåœ¨é—®é¢˜å¹¶æä¾›ä¿®å¤åçš„å¯è¿è¡Œç‰ˆæœ¬ï¼Œå¸®ä½ åƒé€åŠ¨æ€è§„åˆ’è§£å†³å­—ç¬¦ä¸²é—®é¢˜çš„æ ¸å¿ƒæ€è·¯ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä»£ç æ•´ä½“åŠŸèƒ½ä¸æ ¸å¿ƒäº®ç‚¹</h3>
<h4 data-id="heading-2">1. æ•´ä½“åŠŸèƒ½</h4>
<ol>
<li>æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¤„ç†<code>fgets</code>è¯»å–å¸¦æ¥çš„æ¢è¡Œç¬¦ï¼›</li>
<li>åˆ©ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•è®¡ç®—ä¸¤ä¸ªå­—ç¬¦ä¸²çš„<strong>æœ€é•¿å…¬å…±è¿ç»­å­ä¸²</strong>é•¿åº¦ï¼›</li>
<li>æå–å¹¶è¾“å‡ºæœ€é•¿å…¬å…±å­ä¸²çš„å…·ä½“å†…å®¹ï¼Œæ— å…¬å…±å­ä¸²æ—¶ç»™å‡ºæ˜ç¡®æç¤ºï¼›</li>
<li>å…¨ç¨‹ä¿è¯å­—ç¬¦ä¸²æ“ä½œçš„å®‰å…¨æ€§ï¼Œé¿å…ä¹±ç ä¸æ•°ç»„è¶Šç•Œé—®é¢˜ã€‚</li>
</ol>
<h4 data-id="heading-3">2. æ ¸å¿ƒäº®ç‚¹</h4>
<ul>
<li>é‡‡ç”¨åŠ¨æ€è§„åˆ’æ€æƒ³ï¼Œè§„é¿æš´åŠ›æšä¸¾çš„ä½æ•ˆé—®é¢˜ï¼Œé€»è¾‘æ¸…æ™°ä¸”å¯æ‰©å±•ï¼›</li>
<li>å°è£…<code>Remove_Newline</code>å‡½æ•°ï¼Œç»Ÿä¸€å¤„ç†æ¢è¡Œç¬¦ï¼Œç¬¦åˆæ¨¡å—åŒ–ç¼–ç¨‹è§„èŒƒï¼›</li>
<li>ä¸ä»…è¿”å›æœ€é•¿é•¿åº¦ï¼Œè¿˜æå–å…·ä½“å­ä¸²ï¼Œå®ç”¨æ€§æ›´å¼ºï¼›</li>
<li>æ‰‹åŠ¨æ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦<code>'\0'</code>ï¼Œé¿å…è¾“å‡ºä¹±ç ï¼Œç»†èŠ‚å¤„ç†åˆ°ä½ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€æ ¸å¿ƒæ¨¡å—é€å¥è§£æ</h3>
<h4 data-id="heading-5">1. è¾…åŠ©å‡½æ•°ï¼šRemove_Newlineï¼ˆæ¢è¡Œç¬¦å¤„ç†ï¼‰</h4>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-python" lang="python">void Remove_Newline(char *<span class="hljs-built_in">str</span>)
{
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">str</span> == NULL) // å¥å£®æ€§åˆ¤æ–­ï¼šé¿å…ä¼ å…¥ç©ºæŒ‡é’ˆå¯¼è‡´å´©æºƒ
    {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-built_in">int</span> <span class="hljs-built_in">len</span> = strlen(<span class="hljs-built_in">str</span>);
    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">len</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">str</span>[<span class="hljs-built_in">len</span>-<span class="hljs-number">1</span>] == <span class="hljs-string">'\n'</span>) // åˆ¤æ–­æœ«å°¾æ˜¯å¦ä¸ºæ¢è¡Œç¬¦
    {
        <span class="hljs-built_in">str</span>[<span class="hljs-built_in">len</span>-<span class="hljs-number">1</span>] = <span class="hljs-string">'\0'</span>; // æ›¿æ¢ä¸ºå­—ç¬¦ä¸²ç»“æŸç¬¦ï¼Œæˆªæ–­æ¢è¡Œç¬¦
    }
}
</code></pre>
<ul>
<li>æ ¸å¿ƒä½œç”¨ï¼šå¤„ç†<code>fgets</code>çš„ â€œé—ç•™é—®é¢˜â€â€”â€”<code>fgets</code>ä¼šå°†ç”¨æˆ·æŒ‰ä¸‹çš„<code>Enter</code>é”®ï¼ˆ<code>\n</code>ï¼‰è¯»å–åˆ°å­—ç¬¦ä¸²ä¸­ï¼Œè‹¥ä¸å¤„ç†ï¼Œä¼šå¯¼è‡´åç»­å­—ç¬¦ä¸²å¯¹æ¯”æ—¶å‡ºç° â€œéšå½¢å·®å¼‚â€ï¼›</li>
<li>å¥å£®æ€§è®¾è®¡ï¼šå…ˆåˆ¤æ–­<code>str</code>æ˜¯å¦ä¸º<code>NULL</code>ï¼Œé¿å…è§£å¼•ç”¨ç©ºæŒ‡é’ˆè§¦å‘ç¨‹åºå´©æºƒï¼›</li>
<li>æ³¨æ„ç‚¹ï¼šä»…ä¿®æ”¹å­—ç¬¦ä¸²æœ«å°¾çš„<code>\n</code>ï¼Œä¸å½±å“å…¶ä»–æœ‰æ•ˆå­—ç¬¦ï¼Œä¿è¯è¾“å…¥å­—ç¬¦ä¸²çš„å®Œæ•´æ€§ã€‚</li>
</ul>
<h4 data-id="heading-6">2. æ ¸å¿ƒç®—æ³•ï¼šSubstringï¼ˆåŠ¨æ€è§„åˆ’æ±‚è§£æœ€é•¿å…¬å…±å­ä¸²ï¼‰</h4>
<p>è¿™æ˜¯æ•´ä¸ªç¨‹åºçš„æ ¸å¿ƒï¼Œå®ç°äº† â€œè®¡ç®—é•¿åº¦â€ å’Œ â€œæå–å­ä¸²â€ ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼Œæˆ‘ä»¬åˆ†æ­¥éª¤æ‹†è§£ã€‚</p>
<h5 data-id="heading-7">æ­¥éª¤ 1ï¼šå˜é‡ä¸äºŒç»´æ•°ç»„åˆå§‹åŒ–</h5>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">int <span class="hljs-attr">m</span> = strlen(a)<span class="hljs-comment">;</span>
int <span class="hljs-attr">n</span> = strlen(b)<span class="hljs-comment">;</span>
int i, j<span class="hljs-comment">;</span>
int sub<span class="hljs-section">[m+1]</span><span class="hljs-section">[n+1]</span><span class="hljs-comment">; // åŠ¨æ€è§„åˆ’äºŒç»´æ•°ç»„ï¼ˆçŠ¶æ€è¡¨ï¼‰</span>
int <span class="hljs-attr">max_len</span> = <span class="hljs-number">0</span><span class="hljs-comment">; // è®°å½•æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦</span>
int <span class="hljs-attr">end_index</span>=<span class="hljs-number">0</span><span class="hljs-comment">; // è®°å½•æœ€é•¿å…¬å…±å­ä¸²åœ¨aä¸­çš„ç»“æŸç´¢å¼•</span>

// åˆå§‹åŒ–åŠ¨æ€è§„åˆ’æ•°ç»„æ‰€æœ‰å…ƒç´ ä¸º0ï¼ˆè¾¹ç•Œæ¡ä»¶ï¼‰
for(<span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt;= m; i++)</span>
{
    for(<span class="hljs-attr">j</span> = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt;= n; j++)</span>
    {
        sub<span class="hljs-section">[i]</span><span class="hljs-section">[j]</span> = 0<span class="hljs-comment">; // ç©ºå­—ç¬¦ä¸²ä¸ä»»æ„å­—ç¬¦ä¸²çš„å…¬å…±å­ä¸²é•¿åº¦ä¸º0</span>
    }
}
</code></pre>
<ul>
<li>åŠ¨æ€è§„åˆ’æ•°ç»„<code>sub[m+1][n+1]</code>ï¼š<code>sub[i][j]</code>è¡¨ç¤º â€œä»¥å­—ç¬¦ä¸²<code>a</code>çš„ç¬¬<code>i-1</code>ä¸ªå­—ç¬¦ã€å­—ç¬¦ä¸²<code>b</code>çš„ç¬¬<code>j-1</code>ä¸ªå­—ç¬¦ç»“å°¾çš„æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦â€ï¼›</li>
<li>è¾¹ç•Œåˆå§‹åŒ–ï¼šæ‰€æœ‰å…ƒç´ ç½® 0ï¼Œå¯¹åº” â€œç©ºå­—ç¬¦ä¸²ä¸ä»»æ„å­—ç¬¦ä¸²æ— æœ‰æ•ˆå…¬å…±å­ä¸²â€ çš„è¾¹ç•Œæ¡ä»¶ï¼Œä¸ºåç»­è®¡ç®—é“ºå«ã€‚</li>
</ul>
<h5 data-id="heading-8">æ­¥éª¤ 2ï¼šåŠ¨æ€è§„åˆ’å¡«å……æ•°ç»„ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰</h5>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>; i &lt;= m; i++)
{
    <span class="hljs-keyword">for</span>(j = <span class="hljs-number">1</span>; j &lt;= n; j++)
    {
        <span class="hljs-keyword">if</span>(a[i-<span class="hljs-number">1</span>] == b[j-<span class="hljs-number">1</span>]) // ä¸¤ä¸ªå­—ç¬¦åŒ¹é…
        {
            <span class="hljs-regexp">//</span> çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå½“å‰é•¿åº¦ = å‰ä¸€ä¸ªä½ç½®é•¿åº¦ + <span class="hljs-number">1</span>
            <span class="hljs-function"><span class="hljs-keyword">sub</span>[<span class="hljs-title">i</span>][<span class="hljs-title">j</span>] = <span class="hljs-title">sub</span>[<span class="hljs-title">i</span>-1][<span class="hljs-title">j</span>-1] + 1</span>;
            // æ›´æ–°æœ€é•¿é•¿åº¦ä¸ç»“æŸç´¢å¼•
            <span class="hljs-keyword">if</span>(<span class="hljs-function"><span class="hljs-keyword">sub</span>[<span class="hljs-title">i</span>][<span class="hljs-title">j</span>] &gt; <span class="hljs-title">max_len</span>)
            </span>{
                max_len = <span class="hljs-function"><span class="hljs-keyword">sub</span>[<span class="hljs-title">i</span>][<span class="hljs-title">j</span>]</span>;
                end_index=i-<span class="hljs-number">1</span>; <span class="hljs-regexp">//</span> è®°å½•aä¸­åŒ¹é…å­—ç¬¦çš„ç´¢å¼•ï¼ˆå¯¹åº”åŸå­—ç¬¦ä¸²ï¼‰
            }
        }
        <span class="hljs-keyword">else</span> // ä¸¤ä¸ªå­—ç¬¦ä¸åŒ¹é…ï¼Œé‡ç½®ä¸º<span class="hljs-number">0</span>ï¼ˆå­ä¸²å¿…é¡»è¿ç»­ï¼‰
        {
            <span class="hljs-function"><span class="hljs-keyword">sub</span>[<span class="hljs-title">i</span>][<span class="hljs-title">j</span>] = 0</span>;
        }
    }
}
</code></pre>
<ul>
<li>æ ¸å¿ƒæ€æƒ³ï¼š<strong>è¿ç»­åŒ¹é…æ‰ç´¯åŠ é•¿åº¦ï¼Œä¸åŒ¹é…åˆ™é‡ç½®</strong>ï¼Œè¿™æ˜¯åŒºåˆ† â€œå…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰â€ ä¸ â€œå…¬å…±å­åºåˆ—ï¼ˆä¸è¿ç»­ï¼‰â€ çš„å…³é”®ï¼›</li>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<code>sub[i][j] = sub[i-1][j-1] + 1</code>ï¼Œåªæœ‰å½“å‰å­—ç¬¦åŒ¹é…æ—¶ï¼Œæ‰èƒ½ç»§æ‰¿å‰ä¸€ä¸ªä½ç½®çš„åŒ¹é…é•¿åº¦å¹¶åŠ  1ï¼›</li>
<li>å…³é”®è®°å½•ï¼šæ›´æ–°<code>max_len</code>çš„åŒæ—¶ï¼Œè®°å½•<code>end_index</code>ï¼ˆæœ€é•¿å­ä¸²åœ¨<code>a</code>ä¸­çš„ç»“å°¾ç´¢å¼•ï¼‰ï¼Œä¸ºåç»­æå–å­ä¸²åšå‡†å¤‡ã€‚</li>
</ul>
<h5 data-id="heading-9">æ­¥éª¤ 3ï¼šæå–æœ€é•¿å…¬å…±å­ä¸²</h5>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini">if(max_len&gt;0)// å­˜åœ¨æœ‰æ•ˆå…¬å…±å­ä¸²
{
    int <span class="hljs-attr">start_index</span> = end_index-max_len+<span class="hljs-number">1</span><span class="hljs-comment">; // è®¡ç®—èµ·å§‹ç´¢å¼•</span>
    for(int <span class="hljs-attr">k</span>=<span class="hljs-number">0</span><span class="hljs-comment">;k&lt;max_len;k++)</span>
    {
        result<span class="hljs-section">[k]</span>=a<span class="hljs-section">[start_index+k]</span><span class="hljs-comment">; // ä»èµ·å§‹ç´¢å¼•å¼€å§‹ï¼Œé€å­—ç¬¦å¤åˆ¶</span>
    }
    result<span class="hljs-section">[max_len]</span>='\0'<span class="hljs-comment">; // æ‰‹åŠ¨æ·»åŠ ç»“æŸç¬¦ï¼Œé¿å…ä¹±ç </span>
}
return max_len<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>ç´¢å¼•è®¡ç®—ï¼š<code>start_index = end_index - max_len + 1</code>ï¼Œé€šè¿‡ â€œç»“æŸç´¢å¼•â€ å’Œ â€œæœ€é•¿é•¿åº¦â€ åæ¨èµ·å§‹ç´¢å¼•ï¼Œç¡®ä¿æˆªå–èŒƒå›´å‡†ç¡®ï¼›</li>
<li>å…³é”®ç»†èŠ‚ï¼š<code>result[max_len] = '\0'</code>ï¼Œç”±äº<code>result</code>æ˜¯å­—ç¬¦æ•°ç»„ï¼Œå¤åˆ¶å®Œæœ‰æ•ˆå­—ç¬¦åå¿…é¡»æ·»åŠ ç»“æŸç¬¦ï¼Œå¦åˆ™<code>printf</code>è¾“å‡ºæ—¶ä¼šè¶…å‡ºæœ‰æ•ˆèŒƒå›´ï¼Œè¯»å–åˆ°åƒåœ¾å€¼å¯¼è‡´ä¹±ç ï¼›</li>
<li>è¿”å›å€¼ï¼šå°†æœ€é•¿é•¿åº¦è¿”å›ç»™ä¸»å‡½æ•°ï¼Œç”¨äºåç»­ç»“æœè¾“å‡ºã€‚</li>
</ul>
<h4 data-id="heading-10">3. ä¸»å‡½æ•°ï¼šmainï¼ˆè¾“å…¥ã€è°ƒç”¨ã€è¾“å‡ºï¼‰</h4>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-scss" lang="scss">int <span class="hljs-selector-tag">main</span>()
{
    char <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[100]</span>, <span class="hljs-selector-tag">b</span><span class="hljs-selector-attr">[100]</span>;
    char longest_sub<span class="hljs-selector-attr">[100]</span>; <span class="hljs-comment">// å­˜å‚¨æœ€é•¿å…¬å…±å­ä¸²</span>
    <span class="hljs-built_in">printf</span>("\n===== æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰è®¡ç®— =====\n");
   
    <span class="hljs-built_in">printf</span>("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š\n");
    <span class="hljs-built_in">fgets</span>(a, sizeof(a), stdin);
    <span class="hljs-built_in">Remove_Newline</span>(a); <span class="hljs-comment">// å¤„ç†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¢è¡Œç¬¦</span>
    
    <span class="hljs-built_in">printf</span>("è¯·è¾“å…¥ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼š\n");
    <span class="hljs-built_in">fgets</span>(b, sizeof(b), stdin);
    <span class="hljs-built_in">Remove_Newline</span>(b); <span class="hljs-comment">// ã€åŸä»£ç é—æ¼ã€‘è¡¥å……å¤„ç†ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„æ¢è¡Œç¬¦</span>

    int max = <span class="hljs-built_in">Substring</span>(a, b,longest_sub); <span class="hljs-comment">// è°ƒç”¨æ ¸å¿ƒç®—æ³•</span>

    <span class="hljs-built_in">printf</span>("\n==== è®¡ç®—ç»“æœ ====\n");
    <span class="hljs-built_in">printf</span>("å­—ç¬¦ä¸²<span class="hljs-number">1</span>ï¼š%s\n", a);
    <span class="hljs-built_in">printf</span>("å­—ç¬¦ä¸²<span class="hljs-number">2</span>ï¼š%s\n", b);
    <span class="hljs-built_in">printf</span>("æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰çš„é•¿åº¦ï¼š%d\n", max);
    
	<span class="hljs-built_in">if</span>(max &gt; <span class="hljs-number">0</span>)
    {
        <span class="hljs-built_in">printf</span>("æœ€é•¿å…¬å…±å­ä¸²å†…å®¹ï¼š%s\n", longest_sub);
    }
    else
    {
        <span class="hljs-built_in">printf</span>("æ— å…¬å…±å­ä¸²ï¼\n");
    }
    return <span class="hljs-number">0</span>;
}
</code></pre>
<ul>
<li>è¾“å…¥å¤„ç†ï¼šä½¿ç”¨<code>fgets</code>è¯»å–å­—ç¬¦ä¸²ï¼Œæ”¯æŒå«ç©ºæ ¼çš„è¾“å…¥ï¼Œæ¯”<code>scanf</code>æ›´çµæ´»ï¼›</li>
<li>åŸä»£ç ä¿®å¤ï¼šç¬¬äºŒä¸ªå­—ç¬¦ä¸²è¯»å–åæœªè°ƒç”¨<code>Remove_Newline</code>ï¼Œä¼šå¯¼è‡´<code>b</code>ä¸­ä¿ç•™æ¢è¡Œç¬¦ï¼Œå¯èƒ½å½±å“å¯¹æ¯”ç»“æœï¼Œéœ€è¡¥å……è¯¥è°ƒç”¨ï¼›</li>
<li>ç»“æœè¾“å‡ºï¼šåˆ† â€œæœ‰å…¬å…±å­ä¸²â€ å’Œ â€œæ— å…¬å…±å­ä¸²â€ ä¸¤ç§åœºæ™¯ï¼Œè¾“å‡ºä¿¡æ¯æ¸…æ™°ï¼Œç”¨æˆ·ä½“éªŒå‹å¥½ã€‚</li>
</ul>
<h3 data-id="heading-11">ä¸‰ã€åŸä»£ç æ ¸å¿ƒé—®é¢˜ä¿®å¤ä¸å®Œæ•´å¯è¿è¡Œç‰ˆæœ¬</h3>
<h4 data-id="heading-12">1. åŸä»£ç æ ¸å¿ƒé—®é¢˜</h4>
<ul>
<li>ç¬¬äºŒä¸ªå­—ç¬¦ä¸²è¾“å…¥åï¼Œæœªè°ƒç”¨<code>Remove_Newline</code>å¤„ç†æ¢è¡Œç¬¦ï¼Œå¯èƒ½å¯¼è‡´å¯¹æ¯”è¯¯å·®ï¼›</li>
<li>æå–å­ä¸²çš„å¾ªç¯æ³¨é‡Šé—æ¼ï¼ˆè¯­æ³•å°é—®é¢˜ï¼‰ï¼Œä¸å½±å“è¿è¡Œä½†å¯è¯»æ€§é™ä½ï¼›</li>
<li>ç¼ºå°‘éƒ¨åˆ†å¥å£®æ€§åˆ¤æ–­ï¼ˆå¦‚è¾“å…¥ç©ºå­—ç¬¦ä¸²çš„åœºæ™¯ï¼‰ï¼Œå¯ä¼˜åŒ–ã€‚</li>
</ul>
<h4 data-id="heading-13">2. ä¿®å¤åçš„å®Œæ•´ä»£ç </h4>
<p>c</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/******************************
*æ–‡ä»¶åç§°ï¼š3.Common_Substring.c
*ä½œè€…:czy
*é‚®ç®±ï¼šcaozhiyang_0613@163.com
*åˆ›å»ºæ—¥æœŸ:2025/12/30
*ä¿®æ”¹æ—¥æœŸï¼š2026/01/10
*æ–‡ä»¶åŠŸèƒ½ï¼šæ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰é•¿åº¦ï¼Œè¾“å‡ºåŸå­—ç¬¦ä¸²å’Œè®¡ç®—ç»“æœ
*ä¿®å¤ç‚¹ï¼š1. è¡¥å……ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„æ¢è¡Œç¬¦å¤„ç†ï¼›2. å®Œå–„æ³¨é‡Šï¼›3. ä¼˜åŒ–å¥å£®æ€§
*****************************/</span>

<span class="hljs-selector-id">#include</span>&lt;stdio<span class="hljs-selector-class">.h</span>&gt;
<span class="hljs-selector-id">#include</span>&lt;string<span class="hljs-selector-class">.h</span>&gt;

<span class="hljs-comment">/************************************************
*å‡½æ•°åç§°ï¼šRemove_Newline
*å‡½æ•°åŠŸèƒ½: ç§»é™¤å­—ç¬¦ä¸²æœ«å°¾ç”±fgetsè¯»å–çš„æ¢è¡Œç¬¦'\n'ï¼Œæ›¿æ¢ä¸ºå­—ç¬¦ä¸²ç»“æŸç¬¦'\0'
*è¾“å…¥å‚æ•°: str - å­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘å¾…å¤„ç†çš„å­—ç¬¦ä¸²ï¼ˆéœ€ä¿è¯å­—ç¬¦ä¸²ä»¥'\0'ç»“å°¾ï¼‰
*è¿”å›å‚æ•°: æ— 
*åˆ›å»ºæ—¶é—´:2025/12/25
*ä¿®æ”¹æ—¶é—´ï¼š2025/12/30
*å‡½æ•°ä½œè€…: czy
**************************************************/</span>
void <span class="hljs-built_in">Remove_Newline</span>(char *str)
{
    <span class="hljs-built_in">if</span>(str == NULL)
    {
        return;
    }
    int len = <span class="hljs-built_in">strlen</span>(str);
    <span class="hljs-built_in">if</span>(len &gt; <span class="hljs-number">0</span> &amp;&amp; str[len-<span class="hljs-number">1</span>] == '\n')
    {
        str<span class="hljs-selector-attr">[len-1]</span> = '\<span class="hljs-number">0</span>';
    }
}

<span class="hljs-comment">/************************************************
*å‡½æ•°åç§°ï¼šSubstring
*å‡½æ•°åŠŸèƒ½: è®¡ç®—ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰é•¿åº¦ï¼Œå¹¶æå–å­ä¸²å†…å®¹
*è¾“å…¥å‚æ•°: 
  - aï¼šå­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªè¾“å…¥å­—ç¬¦ä¸²
  - bï¼šå­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¬äºŒä¸ªè¾“å…¥å­—ç¬¦ä¸²
  - resultï¼šå­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘å­˜å‚¨æœ€é•¿å…¬å…±å­ä¸²çš„æ•°ç»„
*è¿”å›å‚æ•°: int - ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦
*åˆ›å»ºæ—¶é—´:2025/12/30
*ä¿®æ”¹æ—¶é—´ï¼š2026/01/10
*å‡½æ•°ä½œè€…: czy
**************************************************/</span>
int <span class="hljs-built_in">Substring</span>(char *a, char *b, char *result)
{
    result<span class="hljs-selector-attr">[0]</span> = '\<span class="hljs-number">0</span>'; <span class="hljs-comment">// åˆå§‹åŒ–ç»“æœæ•°ç»„ï¼Œé¿å…åƒåœ¾å€¼</span>
    int m = <span class="hljs-built_in">strlen</span>(a);
    int n = <span class="hljs-built_in">strlen</span>(b);
    int <span class="hljs-selector-tag">i</span>, j;
    int sub<span class="hljs-selector-attr">[m+1]</span><span class="hljs-selector-attr">[n+1]</span>; <span class="hljs-comment">// åŠ¨æ€è§„åˆ’çŠ¶æ€è¡¨</span>
    int max_len = <span class="hljs-number">0</span>;   <span class="hljs-comment">// æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦</span>
    int end_index = <span class="hljs-number">0</span>; <span class="hljs-comment">// æœ€é•¿å­ä¸²åœ¨aä¸­çš„ç»“æŸç´¢å¼•</span>

    <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–åŠ¨æ€è§„åˆ’æ•°ç»„æ‰€æœ‰å…ƒç´ ä¸º0ï¼ˆè¾¹ç•Œæ¡ä»¶ï¼‰</span>
    <span class="hljs-built_in">for</span>(i = <span class="hljs-number">0</span>; i &lt;= m; i++)
    {
        <span class="hljs-built_in">for</span>(j = <span class="hljs-number">0</span>; j &lt;= n; j++)
        {
            sub<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> = <span class="hljs-number">0</span>;
        }
    }

    <span class="hljs-comment">// ç¬¬äºŒæ­¥ï¼šåŠ¨æ€è§„åˆ’å¡«å……æ•°ç»„ï¼Œè®¡ç®—æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦</span>
    <span class="hljs-built_in">for</span>(i = <span class="hljs-number">1</span>; i &lt;= m; i++)
    {
        <span class="hljs-built_in">for</span>(j = <span class="hljs-number">1</span>; j &lt;= n; j++)
        {
            <span class="hljs-built_in">if</span>(a[i-<span class="hljs-number">1</span>] == b[j-<span class="hljs-number">1</span>]) <span class="hljs-comment">// å½“å‰å­—ç¬¦åŒ¹é…</span>
            {
                sub<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> = sub<span class="hljs-selector-attr">[i-1]</span><span class="hljs-selector-attr">[j-1]</span> + <span class="hljs-number">1</span>; <span class="hljs-comment">// çŠ¶æ€è½¬ç§»æ–¹ç¨‹</span>
                <span class="hljs-comment">// æ›´æ–°æœ€é•¿é•¿åº¦ä¸ç»“æŸç´¢å¼•</span>
                <span class="hljs-built_in">if</span>(sub[i][j] &gt; max_len)
                {
                    max_len = sub<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span>;
                    end_index = <span class="hljs-selector-tag">i</span>-<span class="hljs-number">1</span>;
                }
            }
            else <span class="hljs-comment">// å½“å‰å­—ç¬¦ä¸åŒ¹é…ï¼Œé‡ç½®ä¸º0</span>
            {
                sub<span class="hljs-selector-attr">[i]</span><span class="hljs-selector-attr">[j]</span> = <span class="hljs-number">0</span>;
            }
        }
    }

    <span class="hljs-comment">// ç¬¬ä¸‰æ­¥ï¼šæå–æœ€é•¿å…¬å…±å­ä¸²å†…å®¹</span>
    <span class="hljs-built_in">if</span>(max_len &gt; <span class="hljs-number">0</span>)
    {
        int start_index = end_index - max_len + <span class="hljs-number">1</span>; <span class="hljs-comment">// è®¡ç®—èµ·å§‹ç´¢å¼•</span>
        <span class="hljs-built_in">for</span>(int k = <span class="hljs-number">0</span>; k &lt; max_len; k++)
        {
            result<span class="hljs-selector-attr">[k]</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[start_index + k]</span>; <span class="hljs-comment">// é€å­—ç¬¦å¤åˆ¶å­ä¸²</span>
        }
        result<span class="hljs-selector-attr">[max_len]</span> = '\<span class="hljs-number">0</span>'; <span class="hljs-comment">// æ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦ï¼Œé¿å…ä¹±ç </span>
    }

    return max_len;
}

<span class="hljs-comment">/*************************************************
*å‡½æ•°åç§°ï¼š main
*å‡½æ•°åŠŸèƒ½: ä¸»å‡½æ•°ï¼Œç¨‹åºå…¥å£ï¼›å®Œæˆå­—ç¬¦ä¸²è¾“å…¥ã€è°ƒç”¨å‡½æ•°è®¡ç®—æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ã€è¾“å‡ºç»“æœ
*è¾“å…¥å‚æ•°: æ— 
*è¿”å›å‚æ•°: 0 - è¡¨ç¤ºç¨‹åºæ­£å¸¸é€€å‡º
*åˆ›å»ºæ—¶é—´:2025/12/30
*ä¿®æ”¹æ—¶é—´ï¼š2026/01/10
*å‡½æ•°ä½œè€…:czy
**************************************************/</span>
int <span class="hljs-selector-tag">main</span>()
{
    char <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[100]</span>, <span class="hljs-selector-tag">b</span><span class="hljs-selector-attr">[100]</span>;
    char longest_sub<span class="hljs-selector-attr">[100]</span>;
    <span class="hljs-built_in">printf</span>("\n===== æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰è®¡ç®— =====\n");
   
    <span class="hljs-built_in">printf</span>("è¯·è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š\n");
    <span class="hljs-built_in">fgets</span>(a, sizeof(a), stdin);
    <span class="hljs-built_in">Remove_Newline</span>(a); <span class="hljs-comment">// å¤„ç†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¢è¡Œç¬¦</span>
    
    <span class="hljs-built_in">printf</span>("è¯·è¾“å…¥ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼š\n");
    <span class="hljs-built_in">fgets</span>(b, sizeof(b), stdin);
    <span class="hljs-built_in">Remove_Newline</span>(b); <span class="hljs-comment">// ä¿®å¤ï¼šè¡¥å……å¤„ç†ç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„æ¢è¡Œç¬¦</span>

    int max = <span class="hljs-built_in">Substring</span>(a, b, longest_sub); <span class="hljs-comment">// è°ƒç”¨æ ¸å¿ƒç®—æ³•</span>

    <span class="hljs-built_in">printf</span>("\n==== è®¡ç®—ç»“æœ ====\n");
    <span class="hljs-built_in">printf</span>("å­—ç¬¦ä¸²<span class="hljs-number">1</span>ï¼š%s\n", a);
    <span class="hljs-built_in">printf</span>("å­—ç¬¦ä¸²<span class="hljs-number">2</span>ï¼š%s\n", b);
    <span class="hljs-built_in">printf</span>("æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰çš„é•¿åº¦ï¼š%d\n", max);
    
    <span class="hljs-built_in">if</span>(max &gt; <span class="hljs-number">0</span>)
    {
        <span class="hljs-built_in">printf</span>("æœ€é•¿å…¬å…±å­ä¸²å†…å®¹ï¼š%s\n", longest_sub);
    }
    else
    {
        <span class="hljs-built_in">printf</span>("æ— å…¬å…±å­ä¸²ï¼\n");
    }
    return <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-14">å››ã€è¿è¡Œç»“æœç¤ºä¾‹</h3>
<h4 data-id="heading-15">ç¤ºä¾‹ 1ï¼šå­˜åœ¨æœ‰æ•ˆå…¬å…±å­ä¸²</h4>
<p>plaintext</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-comment">===== æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰è®¡ç®— =====</span>
è¯·è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
hello world
è¯·è¾“å…¥ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼š
world hello

<span class="hljs-comment">==== è®¡ç®—ç»“æœ ====</span>
å­—ç¬¦ä¸²1ï¼šhello world
å­—ç¬¦ä¸²2ï¼šworld hello
æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰çš„é•¿åº¦ï¼š5
æœ€é•¿å…¬å…±å­ä¸²å†…å®¹ï¼šhello
</code></pre>
<h4 data-id="heading-16">ç¤ºä¾‹ 2ï¼šæ— å…¬å…±å­ä¸²</h4>
<p>plaintext</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-comment">===== æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰è®¡ç®— =====</span>
è¯·è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
abc123
è¯·è¾“å…¥ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼š
def456

<span class="hljs-comment">==== è®¡ç®—ç»“æœ ====</span>
å­—ç¬¦ä¸²1ï¼šabc123
å­—ç¬¦ä¸²2ï¼šdef456
æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰çš„é•¿åº¦ï¼š0
æ— å…¬å…±å­ä¸²ï¼
</code></pre>
<h4 data-id="heading-17">ç¤ºä¾‹ 3ï¼šå«ç©ºæ ¼çš„å…¬å…±å­ä¸²</h4>
<p>plaintext</p>
<pre><code class="hljs language-csharp" lang="csharp">===== æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰è®¡ç®— =====
è¯·è¾“å…¥ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
my name <span class="hljs-keyword">is</span> czy
è¯·è¾“å…¥ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼š
his name <span class="hljs-keyword">is</span> tom

==== è®¡ç®—ç»“æœ ====
å­—ç¬¦ä¸²<span class="hljs-number">1</span>ï¼šmy name <span class="hljs-keyword">is</span> czy
å­—ç¬¦ä¸²<span class="hljs-number">2</span>ï¼šhis name <span class="hljs-keyword">is</span> tom
æœ€é•¿å…¬å…±å­ä¸²ï¼ˆè¿ç»­ï¼‰çš„é•¿åº¦ï¼š<span class="hljs-number">8</span>
æœ€é•¿å…¬å…±å­ä¸²å†…å®¹ï¼š name <span class="hljs-keyword">is</span> 
</code></pre>
<h3 data-id="heading-18">äº”ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“ä¸æ‰©å±•</h3>
<h4 data-id="heading-19">1. æ ¸å¿ƒçŸ¥è¯†ç‚¹</h4>
<ul>
<li>åŠ¨æ€è§„åˆ’æ ¸å¿ƒï¼šç”¨äºŒç»´æ•°ç»„è®°å½•ä¸­é—´çŠ¶æ€ï¼Œé€šè¿‡çŠ¶æ€è½¬ç§»æ–¹ç¨‹é¿å…é‡å¤è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O (mÃ—n)ï¼ˆmã€n ä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦ï¼‰ï¼›</li>
<li>å­—ç¬¦ä¸²æ“ä½œç»†èŠ‚ï¼š<code>fgets</code>çš„æ¢è¡Œç¬¦å¤„ç†ã€<code>'\0'</code>çš„æ‰‹åŠ¨æ·»åŠ ï¼Œæ˜¯é¿å…ä¹±ç ä¸è¶Šç•Œçš„å…³é”®ï¼›</li>
<li>ç´¢å¼•è®¡ç®—ï¼šé€šè¿‡ â€œç»“æŸç´¢å¼•â€ å’Œ â€œæœ€é•¿é•¿åº¦â€ åæ¨ â€œèµ·å§‹ç´¢å¼•â€ï¼Œæ˜¯æå–å­ä¸²çš„æ ¸å¿ƒæŠ€å·§ã€‚</li>
</ul>
<h4 data-id="heading-20">2. åŠŸèƒ½æ‰©å±•å»ºè®®</h4>
<ul>
<li>æ”¯æŒå¤šä¸ªæœ€é•¿å…¬å…±å­ä¸²ï¼šå½“å­˜åœ¨å¤šä¸ªé•¿åº¦ç›¸åŒçš„æœ€é•¿å…¬å…±å­ä¸²æ—¶ï¼Œå…¨éƒ¨æå–å¹¶è¾“å‡ºï¼›</li>
<li>ä¸åŒºåˆ†å¤§å°å†™å¯¹æ¯”ï¼šåœ¨å­—ç¬¦åŒ¹é…å‰ï¼Œå°†<code>a[i-1]</code>å’Œ<code>b[j-1]</code>ç»Ÿä¸€è½¬ä¸ºå¤§å†™ï¼ˆ<code>toupper</code>ï¼‰æˆ–å°å†™ï¼ˆ<code>tolower</code>ï¼‰ï¼›</li>
<li>ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ï¼šåŠ¨æ€è§„åˆ’æ•°ç»„ä»…éœ€ä¸¤è¡Œå³å¯å®Œæˆè®¡ç®—ï¼ˆå½“å‰è¡Œåªä¾èµ–ä¸Šä¸€è¡Œï¼‰ï¼Œå¯å°†äºŒç»´æ•°ç»„ä¼˜åŒ–ä¸ºä¸€ç»´æ•°ç»„ï¼ŒèŠ‚çœå†…å­˜ç©ºé—´ã€‚</li>
</ul>
<h3 data-id="heading-21">å…­ã€æ€»ç»“</h3>
<p>è¿™ä»½ä»£ç å®Œç¾è¯ é‡Šäº† â€œç®—æ³• + å­—ç¬¦ä¸²æ“ä½œâ€ çš„ç»“åˆï¼ŒåŠ¨æ€è§„åˆ’çš„æ€æƒ³ä¸ä»…é€‚ç”¨äºæœ€é•¿å…¬å…±å­ä¸²é—®é¢˜ï¼Œè¿˜å¯æ¨å¹¿åˆ°æœ€é•¿å…¬å…±å­åºåˆ—ã€ç¼–è¾‘è·ç¦»ç­‰ç»å…¸å­—ç¬¦ä¸²é—®é¢˜ã€‚æŒæ¡æœ¬æ–‡çš„æ ¸å¿ƒé€»è¾‘ï¼Œä¸ä»…èƒ½è§£å†³å®é™…å¼€å‘ä¸­çš„å­—ç¬¦ä¸²å¯¹æ¯”éœ€æ±‚ï¼Œè¿˜èƒ½ä¸ºåç»­ç®—æ³•å­¦ä¹ æ‰“ä¸‹åšå®åŸºç¡€ã€‚å…¶ä¸­ï¼Œå¯¹å­—ç¬¦ä¸²ç»“æŸç¬¦ã€æ¢è¡Œç¬¦çš„ç»†èŠ‚å¤„ç†ï¼Œæ›´æ˜¯ C è¯­è¨€ç¼–ç¨‹ä¸­ â€œä¸¥è°¨æ€§â€ çš„ä½“ç°ï¼Œå€¼å¾—åå¤æ£æ‘©å’Œå€Ÿé‰´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[290. Java Stream API - ä»æ–‡æœ¬æ–‡ä»¶çš„è¡Œåˆ›å»º Stream]]></title>    <link>https://juejin.cn/post/7593595780222304262</link>    <guid>https://juejin.cn/post/7593595780222304262</guid>    <pubDate>2026-01-12T01:03:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593595780222304262" data-draft-id="7593550315253907462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="290. Java Stream API - ä»æ–‡æœ¬æ–‡ä»¶çš„è¡Œåˆ›å»º Stream"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:03:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CacheæŠ€æœ¯åˆ†äº«"/> <meta itemprop="url" content="https://juejin.cn/user/1662117313262776"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            290. Java Stream API - ä»æ–‡æœ¬æ–‡ä»¶çš„è¡Œåˆ›å»º Stream
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1662117313262776/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CacheæŠ€æœ¯åˆ†äº«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:03:23.000Z" title="Mon Jan 12 2026 01:03:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">290. Java Stream API - ä»æ–‡æœ¬æ–‡ä»¶çš„è¡Œåˆ›å»º Stream</h2>
<h4 data-id="heading-1">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h4>
<p>åœ¨ Java ä¸­ï¼Œèƒ½å¤Ÿç›´æ¥æ‰“å¼€ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶å¹¶å¯¹å…¶è¿›è¡Œæµå¼å¤„ç†æ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„æ¨¡å¼ã€‚</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼ï¼š</strong> <code>Java I/O API</code> æä¾›äº†é€šè¿‡ <code>BufferedReader.readLine()</code> æ–¹æ³•é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹çš„æ–¹å¼ã€‚è¿™éœ€è¦ä½¿ç”¨å¾ªç¯é€è¡Œè¯»å–æ–‡ä»¶å¹¶å¤„ç†æ¯ä¸€è¡Œã€‚</li>
<li><strong><code>Stream API</code> çš„ä¼˜åŠ¿ï¼š</strong> ä½¿ç”¨ <code>Stream API</code>ï¼Œä½ å¯ä»¥æ›´ç®€æ´ã€æ›´å…·å¯ç»´æŠ¤æ€§åœ°å¤„ç†æ–‡ä»¶å†…å®¹ï¼Œä»£ç å¯è¯»æ€§æ›´é«˜ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-2">ğŸ“Œ åˆ›å»ºæµçš„ä¸¤ç§æ¨¡å¼</h4>
<ol>
<li><strong>åŸºäºç°æœ‰çš„ <code>BufferedReader</code>ï¼š</strong> å¦‚æœä½ éœ€è¦é‡æ„å·²ç»ä½¿ç”¨ <code>BufferedReader</code> çš„ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ <code>BufferedReader.lines()</code> æ–¹æ³•æ¥è·å–ä¸€ä¸ªè¡Œæµã€‚</li>
<li><strong>åŸºäºæ–°ä»£ç ï¼š</strong> å¦‚æœä½ æ˜¯ç¼–å†™æ–°ä»£ç æ¥å¤„ç†æ–‡ä»¶å†…å®¹ï¼Œå»ºè®®ä½¿ç”¨ <code>Files.lines()</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•æ¥æ”¶ä¸€ä¸ª <code>Path</code> å‚æ•°ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªé‡è½½ç‰ˆæœ¬ï¼Œå…è®¸ä½ æŒ‡å®šå­—ç¬¦é›†ï¼ˆ<code>Charset</code>ï¼‰ï¼Œä»¥æ”¯æŒè¯»å–é <code>UTF-8</code> ç¼–ç çš„æ–‡ä»¶ã€‚</li>
</ol>
<hr/>
<h4 data-id="heading-3">ğŸ“Œ æ–‡ä»¶æµçš„å…³é—­</h4>
<p><strong>é‡è¦æ¦‚å¿µï¼š</strong> å¤„ç†æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶èµ„æºå¿…é¡»åœ¨ä¸å†éœ€è¦æ—¶å…³é—­ï¼Œä»¥é‡Šæ”¾ç³»ç»Ÿèµ„æºã€‚å¹¸è¿çš„æ˜¯ï¼Œ<code>Stream</code> æ¥å£å®ç°äº† <code>AutoCloseable</code> æ¥å£ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥é€šè¿‡ <code>try-with-resources</code> è¯­æ³•è‡ªåŠ¨å…³é—­æ–‡ä»¶æµã€‚</p>
<p>è¿™æ ·ï¼Œ<code>Stream</code> æœ¬èº«ä½œä¸ºä¸€ä¸ªèµ„æºï¼Œå¯ä»¥åœ¨ä½ ä½¿ç”¨å®Œåè‡ªåŠ¨è°ƒç”¨ <code>close()</code> æ–¹æ³•è¿›è¡Œå…³é—­ã€‚è¿™å¯¹äº I/O æ“ä½œè‡³å…³é‡è¦ï¼Œå› ä¸ºæ²¡æœ‰æ­£ç¡®å…³é—­æ–‡ä»¶æµï¼Œå¯èƒ½ä¼šå¯¼è‡´èµ„æºæ³„æ¼ã€‚</p>
<hr/>
<h4 data-id="heading-4">ğŸ“Œ ç¤ºä¾‹ï¼šç»Ÿè®¡æ—¥å¿—æ–‡ä»¶ä¸­çš„è­¦å‘Šæ•°é‡</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªé€šè¿‡ <code>Stream API</code> ç»Ÿè®¡æ—¥å¿—æ–‡ä»¶ä¸­è­¦å‘Šæ•°é‡çš„ç¤ºä¾‹ã€‚ç”±äºæŸäº›ç¯å¢ƒé™åˆ¶ï¼Œä½ æ— æ³•ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œæ­¤ä»£ç ã€‚ä½ å¯ä»¥å°†å…¶å¤åˆ¶åˆ°æœ¬åœ°çš„ <code>IDE</code> ä¸­ï¼Œå¹¶è°ƒæ•´æ–‡ä»¶è·¯å¾„æ¥è¿è¡Œã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Path</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> Path.of(<span class="hljs-string">"/tmp/debug.log"</span>);  <span class="hljs-comment">// æ ¹æ®æœ¬åœ°æ–‡ä»¶è·¯å¾„è°ƒæ•´</span>

<span class="hljs-keyword">try</span> (Stream&lt;String&gt; lines = Files.lines(log)) {  <span class="hljs-comment">// ä½¿ç”¨ try-with-resources ç¡®ä¿æ–‡ä»¶æµå…³é—­</span>
    <span class="hljs-type">long</span> <span class="hljs-variable">warnings</span> <span class="hljs-operator">=</span> 
        lines.filter(line -&gt; line.contains(<span class="hljs-string">"WARNING"</span>))  <span class="hljs-comment">// è¿‡æ»¤å‡ºåŒ…å« "WARNING" çš„è¡Œ</span>
             .count();  <span class="hljs-comment">// ç»Ÿè®¡è¡Œæ•°</span>
    System.out.println(<span class="hljs-string">"Number of warnings = "</span> + warnings);  <span class="hljs-comment">// è¾“å‡ºç»“æœ</span>
} <span class="hljs-keyword">catch</span> (IOException e) {  <span class="hljs-comment">// å¤„ç†å¯èƒ½çš„å¼‚å¸¸</span>
   <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å¤„ç†å¼‚å¸¸ï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ç­‰</span>
   e.printStackTrace();
}
</code></pre>
<p>ğŸ§¾ è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">Number <span class="hljs-type">of</span> <span class="hljs-variable">warnings</span> <span class="hljs-operator">=</span> <span class="hljs-number">15</span>
</code></pre>
<h4 data-id="heading-5">ğŸ§  è®²è§£ï¼š</h4>
<ol>
<li><strong><code>Files.lines(log)</code></strong>ï¼šæ­¤æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ–‡ä»¶ä¸­æ‰€æœ‰è¡Œçš„ <code>Stream&lt;String&gt;</code>ã€‚ä½ å¯ä»¥å¯¹è¿™ä¸ªæµæ‰§è¡Œæ“ä½œã€‚</li>
<li><strong><code>lines.filter(line -&gt; line.contains("WARNING"))</code></strong>ï¼šè¿‡æ»¤å‡ºæ‰€æœ‰åŒ…å« "WARNING" å…³é”®å­—çš„è¡Œã€‚</li>
<li><strong><code>count()</code></strong>ï¼šç»Ÿè®¡ç¬¦åˆæ¡ä»¶çš„è¡Œæ•°ã€‚</li>
<li><strong><code>try-with-resources</code></strong>ï¼š<code>Stream</code> æ˜¯ä¸€ä¸ªèµ„æºï¼Œ<code>try-with-resources</code> ä¼šè‡ªåŠ¨åœ¨ç»“æŸæ—¶å…³é—­å®ƒï¼Œé¿å…èµ„æºæ³„éœ²ã€‚</li>
</ol>
<hr/>
<h4 data-id="heading-6">ğŸ“š å°è´´å£«</h4>
<ul>
<li><strong>å­—ç¬¦é›†å¤„ç†ï¼š</strong> å¦‚æœæ–‡ä»¶æ˜¯é <code>UTF-8</code> ç¼–ç ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>Files.lines(path, Charset)</code> æ¥è¯»å–è¯¥æ–‡ä»¶ã€‚</li>
<li><strong>å¼‚å¸¸å¤„ç†ï¼š</strong> å¤„ç†æ–‡ä»¶æµæ—¶ï¼Œé€šå¸¸ä¼šé‡åˆ° <code>IOException</code>ï¼Œå› æ­¤éœ€è¦è¿›è¡Œå¼‚å¸¸æ•è·å’Œå¤„ç†ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-7">ğŸ¯ å°æµ‹éªŒï¼ˆè¯¾å ‚äº’åŠ¨ï¼‰</h4>
<p><strong>é—®é¢˜ï¼š</strong> å¦‚æœåœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾ â€œERRORâ€ å…³é”®å­—ï¼Œå¦‚ä½•ä¿®æ”¹è¿‡æ»¤æ¡ä»¶ï¼Ÿ</p>
<p>âœ… A. <code>lines.filter(line -&gt; line.contains("ERROR"))</code>
âŒ B. <code>lines.filter(line -&gt; line.contains("WARNING"))</code>
âœ… <strong>æ­£ç¡®ç­”æ¡ˆï¼š</strong> A</p>
<hr/>
<h4 data-id="heading-8">ğŸ“Œ æ€»ç»“</h4>
<ul>
<li><code>Files.lines()</code> å’Œ <code>BufferedReader.lines()</code> éƒ½æ˜¯å¤„ç†æ–‡æœ¬æ–‡ä»¶è¡Œçš„ä¼˜ç§€æ–¹å¼ã€‚</li>
<li><strong><code>try-with-resources</code></strong> æ˜¯å¤„ç† I/O æµçš„æœ€ä½³å®è·µï¼Œå®ƒç¡®ä¿äº†æ–‡ä»¶æµçš„æ­£ç¡®å…³é—­ã€‚</li>
<li>ä½¿ç”¨ <code>Stream API</code> å¯ä»¥ä½¿æ–‡ä»¶å¤„ç†çš„ä»£ç æ›´åŠ ç®€æ´ã€å¯è¯»å’Œå¯ç»´æŠ¤ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹†è§£Manus: ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿä½œä¸ºä¸Šä¸‹æ–‡]]></title>    <link>https://juejin.cn/post/7593550315253972998</link>    <guid>https://juejin.cn/post/7593550315253972998</guid>    <pubDate>2026-01-12T01:18:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593550315253972998" data-draft-id="7593311807588532230" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹†è§£Manus: ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿä½œä¸ºä¸Šä¸‹æ–‡"/> <meta itemprop="keywords" content="LLM,Agent"/> <meta itemprop="datePublished" content="2026-01-12T01:18:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¸ŸçªèŠæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/913025370187195"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹†è§£Manus: ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿä½œä¸ºä¸Šä¸‹æ–‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/913025370187195/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¸ŸçªèŠæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:18:34.000Z" title="Mon Jan 12 2026 01:18:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ä»‹ç»äº†Â <strong>Manus é£æ ¼çš„è§„åˆ’ Agent</strong>ï¼Œå®ƒç»“åˆäº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsmallnest%2Flanggraphgo" target="_blank" title="https://github.com/smallnest/langgraphgo" ref="nofollow noopener noreferrer">LangGraphGo</a> å›¾æ‰§è¡Œå¼•æ“çš„å¼ºå¤§åŠŸèƒ½å’ŒæŒä¹…åŒ– Markdown æ–‡ä»¶è§„åˆ’èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-0">èƒŒæ™¯ï¼šä» Manus AI åˆ° planning-with-files</h2>
<p>æ¥ä¸‹æ¥çš„ä¸€ç³»åˆ—æ–‡ç« ï¼Œæˆ‘ä¼šä»å¤–éƒ¨è§†è§’æ¢ç´¢ Manus çš„åŠŸèƒ½å’Œå†…éƒ¨æŠ€æœ¯å®ç°ä¸¤ä¸ªæ–¹é¢ç ´è§£ Manus çš„æŠ€æœ¯ï¼ŒManus çš„å†…éƒ¨å®ç°ä¸ä¸€å®šå’Œæ–‡ç« ä¸­ä»‹ç»çš„æ–¹æ¡ˆæ˜¯ä¸€æ ·çš„ï¼Œä»…ä¾›ç ”ç©¶å’Œæ¢ç´¢ä¹‹ç”¨ã€‚</p>
<blockquote>
<p><strong>åŸºäº Langgraph å®ç°çš„æ™ºèƒ½ä½“</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fnotex.rpcx.io%2F" target="_blank" title="https://notex.rpcx.io/" ref="nofollow noopener noreferrer">notex.rpcx.io/</a> : è°·æ­Œ notebooklm çš„æ›¿ä»£å“</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Finsight.rpcx.io%2F" target="_blank" title="https://insight.rpcx.io/" ref="nofollow noopener noreferrer">insight.rpcx.io/</a> : æ´å¯Ÿï¼Œæ·±åº¦ç ”ç©¶æŠ¥å‘Š</p>
</blockquote>
<h3 data-id="heading-1">Manus AI çš„æˆåŠŸæ•…äº‹</h3>
<p>Manus AI[1]Â æ˜¯ä¸€å®¶è¢« Meta äº 2025 å¹´ 12 æœˆä»¥Â <strong>20 äº¿ç¾å…ƒæ”¶è´­</strong>çš„å…¬å¸ã€‚åœ¨çŸ­çŸ­ 8 ä¸ªæœˆå†…ï¼ŒManus ä»å‘å¸ƒè¾¾åˆ°äº† 1 äº¿ç¾å…ƒä»¥ä¸Šçš„æ”¶å…¥ã€‚ä»–ä»¬çš„æˆåŠŸç§˜è¯€æ˜¯ä»€ä¹ˆï¼Ÿ<strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰</strong> ã€‚</p>
<blockquote>
<p>"Markdown æ˜¯æˆ‘åœ¨ç£ç›˜ä¸Šçš„'å·¥ä½œè®°å¿†'ã€‚ç”±äºæˆ‘è¿­ä»£å¼å¤„ç†ä¿¡æ¯ä¸”æ´»åŠ¨ä¸Šä¸‹æ–‡æœ‰é™ï¼ŒMarkdown æ–‡ä»¶ä½œä¸ºç¬”è®°çš„è‰ç¨¿æœ¬ã€è¿›åº¦çš„æ£€æŸ¥ç‚¹å’Œæœ€ç»ˆäº¤ä»˜ç‰©çš„æ„å»ºå—ã€‚" Â </p>
<p>-ã€ŠAIä»£ç†çš„ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼šæ„å»ºManusçš„ç»éªŒæ•™è®­ã€‹</p>
<p>â€”Â Manus AI[2]</p>
</blockquote>
<h3 data-id="heading-2">planning-with-filesï¼šé€†å‘å·¥ç¨‹çš„å¼€æºå®ç°</h3>
<p>planning-with-files[3]Â æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”±ç‹¬ç«‹å¼€å‘è€… Ahmad Othman åˆ›å»ºï¼Œä»–<strong>é€†å‘å·¥ç¨‹</strong>äº† Manus AI çš„æ ¸å¿ƒå·¥ä½œæµæ¨¡å¼ã€‚</p>
<p><strong>æ•…äº‹èƒŒæ™¯ï¼š</strong></p>
<ol>
<li><strong>Reddit åˆ†æçˆ†ç«</strong>Â - Ahmad åœ¨ Reddit ä¸Šå‘å¸ƒäº†è¯¦ç»†åˆ†æ[4]ï¼Œè§£é‡Šäº† Manus å¦‚ä½•é€šè¿‡ä¸‰æ–‡ä»¶æ¨¡å¼çªç ´ AI ä¸Šä¸‹æ–‡é™åˆ¶ã€‚å¸–å­åœ¨ 24 å°æ—¶å†…è·å¾—å¤§é‡å…³æ³¨ï¼Œé¡¹ç›®è¿…é€Ÿèµ°çº¢, çŸ­çŸ­ä¸€å‘¨é¡¹ç›®çš„ star æ•°å°±è¶…è¿‡äº† 3.4kã€‚</li>
<li><strong>å•†ä¸šç§˜å¯†å˜å¼€æº</strong>Â - planning-with-files å°†åŸæœ¬å±äºå•†ä¸šæœºå¯†çš„å·¥ä½œæµå˜æˆäº†å¼€æºçš„ Claude Code æŠ€èƒ½ï¼Œè®©ä»»ä½•äººéƒ½èƒ½ä½¿ç”¨åŒæ ·çš„æŠ€æœ¯ã€‚</li>
<li><strong>ç§»æ¤åˆ° Go</strong>Â - æˆ‘å°†ç›¸åŒçš„æ ¸å¿ƒæ¨¡å¼ç§»æ¤åˆ° LangGraphGoï¼Œä½¿ Go å¼€å‘è€…ä¹Ÿèƒ½ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ„å»ºå…·å¤‡å¼ºå¤§è§„åˆ’èƒ½åŠ›çš„ AI åº”ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-3">æœ¬ç¤ºä¾‹ä¸ planning-with-files çš„å…³ç³»</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>planning-with-files</th><th>LangGraphGo Manus Agent</th></tr></thead><tbody><tr><td><strong>å¹³å°</strong></td><td>Claude Code æŠ€èƒ½</td><td>Go ç¨‹åºåº“</td></tr><tr><td><strong>é›†æˆæ–¹å¼</strong></td><td>Claude Code æ’ä»¶</td><td>å¯ç¼–ç¨‹ API</td></tr><tr><td><strong>ç”¨é€”</strong></td><td>è¾…åŠ© Claude ç¼–ç¨‹</td><td>æ„å»º Go AI åº”ç”¨</td></tr><tr><td><strong>æ§åˆ¶ç²’åº¦</strong></td><td>é«˜çº§å°è£…</td><td>å®Œå…¨å¯æ§</td></tr></tbody></table>
<p>ä¸¤è€…å®ç°äº†<strong>ç›¸åŒçš„æ ¸å¿ƒæ¨¡å¼</strong>ï¼Œä½†æœåŠ¡äºä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>å¦‚æœä½ æƒ³ç”¨ Claude Code å¸®ä½ ç¼–ç¨‹ â†’ ä½¿ç”¨Â <strong>planning-with-files</strong></li>
<li>å¦‚æœä½ æƒ³ç”¨ Go æ„å»ºè‡ªå·±çš„ AI åº”ç”¨ â†’ ä½¿ç”¨Â <strong>LangGraphGo Manus Agent</strong></li>
</ul>
<h2 data-id="heading-4">ä»€ä¹ˆæ˜¯ ManusAgentï¼Ÿ</h2>
<p>ManusAgent å®ç°äº† Manus AI çš„æ ¸å¿ƒå·¥ä½œæµæ¨¡å¼ï¼Œä½¿ç”¨ä¸‰ä¸ªæŒä¹…åŒ– Markdown æ–‡ä»¶æ¥ç®¡ç†å¤æ‚ä»»åŠ¡ï¼š</p>
<ul>
<li><strong>task_plan.md</strong>Â - ä½¿ç”¨å¤é€‰æ¡†è·Ÿè¸ªå·¥ä½œæµé˜¶æ®µ</li>
<li><strong>notes.md</strong>Â - å­˜å‚¨ç ”ç©¶å‘ç°å’Œé”™è¯¯æ—¥å¿—</li>
<li><strong>output.md</strong>Â - ç”Ÿæˆæœ€ç»ˆäº¤ä»˜ç‰©</li>
</ul>
<h3 data-id="heading-5">ä¸‰æ–‡ä»¶æ¨¡å¼</h3>
<p>Manus çš„æ ¸å¿ƒå·¥ä½œæµä½¿ç”¨ä¸‰ä¸ªæŒä¹…åŒ– Markdown æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-css" lang="css">task_plan<span class="hljs-selector-class">.md</span> Â  Â  Â â†’ è·Ÿè¸ªé˜¶æ®µå’Œè¿›åº¦notes<span class="hljs-selector-class">.md</span> Â  Â  Â  Â  Â â†’ å­˜å‚¨ç ”ç©¶å’Œå‘ç°<span class="hljs-selector-attr">[deliverable]</span><span class="hljs-selector-class">.md</span> Â â†’ æœ€ç»ˆè¾“å‡º
</code></pre>
<h3 data-id="heading-6">ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ¨¡å¼ï¼Ÿ</h3>
<p>ä¼ ç»Ÿçš„ AI ä»£ç†åœ¨å¤„ç†å¤æ‚ä»»åŠ¡æ—¶å¾€å¾€ä¼šé‡åˆ°ä¸€äº›æ£˜æ‰‹çš„é—®é¢˜ã€‚ä¸Šä¸‹æ–‡çª—å£æ˜¯æœ‰é™çš„ï¼Œå½“ä»»åŠ¡å˜å¾—å¤æ‚æ—¶ï¼Œé‡è¦ä¿¡æ¯å¾ˆå®¹æ˜“è¢«æ·¹æ²¡ã€‚æ›´ç³Ÿç³•çš„æ˜¯ï¼ŒæŸäº›ä»£ç†ç”šè‡³æ²¡æœ‰æŒä¹…åŒ–å­˜å‚¨ï¼Œä¸€æ—¦ä¸Šä¸‹æ–‡é‡ç½®ï¼Œæ‰€æœ‰è¿›åº¦éƒ½ç™½è´¹äº†ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<ul>
<li><strong>æ˜“å¤±æ€§å†…å­˜</strong>Â â€” TodoWrite è¿™ç±»å·¥å…·åœ¨ä¸Šä¸‹æ–‡é‡ç½®åå°±æ¶ˆå¤±äº†ï¼Œæ¯«æ— ç—•è¿¹</li>
<li><strong>ç›®æ ‡æ¼‚ç§»</strong>Â â€” ç»è¿‡ 50+ æ¬¡å·¥å…·è°ƒç”¨åï¼Œä»£ç†å¸¸å¸¸å¿˜äº†æœ€åˆè¦å¹²ä»€ä¹ˆ</li>
<li><strong>éšè—é”™è¯¯</strong>Â â€” å¤±è´¥æ²¡æœ‰è¢«è®°å½•ä¸‹æ¥ï¼Œå¯¼è‡´åŒæ ·çš„é”™è¯¯ä¸€çŠ¯å†çŠ¯</li>
<li><strong>ä¸Šä¸‹æ–‡å¡«å……</strong>Â â€” ä¸è®ºä»€ä¹ˆéƒ½å¾€ä¸Šä¸‹æ–‡é‡Œå¡ï¼Œè€Œä¸æ˜¯å¦¥å–„å­˜å‚¨</li>
</ul>
<p>Manus çš„ä¸‰æ–‡ä»¶æ¨¡å¼å¾ˆå¥½åœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚é€šè¿‡å°†æ–‡ä»¶ç³»ç»Ÿä½œä¸ºå¤–è„‘ï¼ŒAI å¯ä»¥çªç ´ä¸Šä¸‹æ–‡é™åˆ¶ï¼Œä¿æŒç›®æ ‡æ¸…æ™°ï¼Œå¹¶ä¸”æ‰€æœ‰å·¥ä½œéƒ½æœ‰æ®å¯æŸ¥ã€‚</p>
<h3 data-id="heading-7">ä½•æ—¶ä½¿ç”¨æ­¤æ¨¡å¼</h3>
<p>å¹¶ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡éƒ½éœ€è¦è¿™ä¹ˆé‡çš„æ¨¡å¼ã€‚ç®€å•çš„é—®é¢˜ç”¨ç®€å•çš„åŠæ³•å°±å¥½ã€‚</p>
<p><strong>âœ… é€‚åˆè¿™äº›åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤šæ­¥éª¤ä»»åŠ¡ï¼ˆ3 ä¸ªæ­¥éª¤ä»¥ä¸Šï¼‰- æ­¥éª¤å¤šäº†å°±å®¹æ˜“ä¹±</li>
<li>ç ”ç©¶ä»»åŠ¡ - éœ€è¦è®°å½•å¤§é‡ä¸­é—´ç»“æœ</li>
<li>æ„å»º/åˆ›å»ºé¡¹ç›® - æœ‰æ˜ç¡®çš„é˜¶æ®µæ€§ç›®æ ‡</li>
<li>è·¨è¶Šå¤šæ¬¡å·¥å…·è°ƒç”¨çš„ä»»åŠ¡ - ä¸Šä¸‹æ–‡å¯èƒ½ä¼šæ–­</li>
<li>ä»»ä½•éœ€è¦ç»„ç»‡çš„å·¥ä½œ - æ²¡æœ‰ç»„ç»‡å°±ä¼šæ··ä¹±</li>
</ul>
<p><strong>âŒ è¿™äº›åœºæ™¯å°±ç®—äº†ï¼š</strong></p>
<ul>
<li>ç®€å•é—®é¢˜ - ä¸€å¥è¯èƒ½è§£å†³çš„åˆ«æŠ˜è…¾</li>
<li>å•æ–‡ä»¶ç¼–è¾‘ - ç›´æ¥æ”¹æ›´å¿«</li>
<li>å¿«é€ŸæŸ¥è¯¢ - æŸ¥ä¸ªèµ„æ–™ç”¨ä¸ä¸Šè¿™ä¹ˆå¤æ‚çš„æµç¨‹</li>
</ul>
<h3 data-id="heading-8">å·¥ä½œå¾ªç¯</h3>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> åˆ›å»º task<span class="hljs-emphasis">_plan.mdï¼ŒåŒ…å«ç›®æ ‡å’Œé˜¶æ®µ2. ç ”ç©¶ â†’ ä¿å­˜åˆ° notes.md â†’ æ›´æ–° task_</span>plan.md3. è¯»å– notes.md â†’ åˆ›å»ºäº¤ä»˜ç‰© â†’ æ›´æ–° task<span class="hljs-emphasis">_plan.md4. äº¤ä»˜æœ€ç»ˆè¾“å‡º
</span></code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šé€šè¿‡åœ¨æ¯æ¬¡å†³ç­–å‰è¯»å–Â <code>task_plan.md</code>ï¼Œç›®æ ‡å§‹ç»ˆä¿æŒåœ¨æ³¨æ„åŠ›çª—å£ä¸­ã€‚è¿™å°±æ˜¯ Manus å¦‚ä½•å¤„ç†çº¦ 50 æ¬¡å·¥å…·è°ƒç”¨è€Œä¸è¿·å¤±æ–¹å‘çš„åŸå› ã€‚</p>
<h2 data-id="heading-9">æ ¸å¿ƒç‰¹æ€§</h2>
<p>è¿™ä¸ªå®ç°ç»§æ‰¿äº† Manus å·¥ä½œæµçš„æ ¸å¿ƒä¼˜ç‚¹ï¼š</p>
<p>âœ…Â <strong>æŒä¹…åŒ–è§„åˆ’</strong>Â - è®¡åˆ’ä¸åªæ˜¯åœç•™åœ¨å†…å­˜é‡Œï¼Œè€Œæ˜¯ä¿å­˜åˆ° Markdown æ–‡ä»¶ï¼Œéšæ—¶å¯ä»¥æŸ¥çœ‹å’Œè·Ÿè¸ªè¿›åº¦</p>
<p>âœ…Â <strong>è‡ªåŠ¨æ£€æŸ¥ç‚¹</strong>Â - æ¯å®Œæˆä¸€ä¸ªé˜¶æ®µå°±è‡ªåŠ¨ä¿å­˜ï¼Œä¸‹æ¬¡å¯ä»¥ä»ä¸Šæ¬¡åœæ­¢çš„åœ°æ–¹ç»§ç»­ï¼Œä¸ç”¨æ‹…å¿ƒä¸­æ–­</p>
<p>âœ…Â <strong>é”™è¯¯æ—¥å¿—</strong>Â - å‡ºé”™äº†ä¸ä¼šä¸¢å¤±ï¼Œæ‰€æœ‰é”™è¯¯éƒ½ä¼šè‡ªåŠ¨è®°å½•åˆ° notes.mdï¼Œæ–¹ä¾¿äº‹ååˆ†æ</p>
<p>âœ…Â <strong>äººå·¥å¯ç¼–è¾‘</strong>Â - ä¸å–œæ¬¢æŸä¸ªé˜¶æ®µï¼Ÿç›´æ¥ç¼–è¾‘ task_plan.md å°±èƒ½è°ƒæ•´ï¼Œä¸éœ€è¦æ”¹ä»£ç </p>
<p>âœ…Â <strong>å¯è§†åŒ–è¿›åº¦</strong>Â - å¤é€‰æ¡†ä¸€ç›®äº†ç„¶ï¼Œå“ªäº›å®Œæˆäº†ã€å“ªäº›è¿˜å¾…ç€ï¼Œæ¸…æ¸…æ¥šæ¥š</p>
<h2 data-id="heading-10">å·¥ä½œåŸç†</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TDÂ  Â  
  A[å¼€å§‹] --&gt; B[è¯»å–ç°æœ‰è®¡åˆ’]Â  Â  
  B --&gt; C[ç”Ÿæˆ/æ›´æ–°è®¡åˆ’]Â  Â  
  C --&gt; D[æ‰§è¡Œå½“å‰é˜¶æ®µ]Â  Â  
  D --&gt; E{æ‰€æœ‰é˜¶æ®µå®Œæˆ?}Â  Â  
  E --&gt;|å¦| DÂ  Â  
  E --&gt;|æ˜¯| F[ç”Ÿæˆæœ€ç»ˆè¾“å‡º]Â  Â  
  F --&gt; G[ç»“æŸ]Â  Â  
  
  style C fill:#e1f5ffÂ  Â  
  style D fill:#fff4e1Â  Â  
  style F fill:#e8f5e9
</code></pre>
<h2 data-id="heading-11">å‰ç½®è¦æ±‚</h2>
<p>å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ çš„ç¯å¢ƒå·²ç»å‡†å¤‡å¥½äº†ï¼š</p>
<ul>
<li>Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬ - è¿™ä¸ªé¡¹ç›®ç”¨äº†ä¸€äº›è¾ƒæ–°çš„ Go ç‰¹æ€§</li>
<li>OpenAI API å¯†é’¥ - é€šè¿‡Â <code>OPENAI_API_KEY</code>Â ç¯å¢ƒå˜é‡è®¾ç½®ã€‚æ²¡æœ‰å¯†é’¥çš„è¯ç¤ºä¾‹è·‘ä¸èµ·æ¥</li>
</ul>
<h2 data-id="heading-12">å®‰è£…</h2>
<p>å®‰è£…å¾ˆç®€å•ï¼Œå°±ä¸¤æ­¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span>Â examples/manus_agentgo mod tidy
</code></pre>
<p><code>go mod tidy</code>Â ä¼šè‡ªåŠ¨ä¸‹è½½æ‰€æœ‰éœ€è¦çš„ä¾èµ–ã€‚</p>
<h2 data-id="heading-13">è¿è¡Œç¤ºä¾‹</h2>
<h3 data-id="heading-14">åŸºæœ¬ç”¨æ³•</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è®¾ç½®ä½ çš„ OpenAI API å¯†é’¥</span>
exportÂ <span class="hljs-attr">OPENAI_API_KEY</span>=<span class="hljs-string">"your-api-key-here"</span><span class="hljs-comment"># å¯é€‰ï¼šè®¾ç½®è‡ªå®šä¹‰æ¨¡å‹æˆ– API åŸºç¡€åœ°</span>
exportÂ <span class="hljs-attr">OPENAI_MODEL</span>=<span class="hljs-string">"gpt-4"</span>
exportÂ <span class="hljs-attr">OPENAI_API_BASE</span>=<span class="hljs-string">"https://api.openai.com/v1"</span>

<span class="hljs-comment"># è¿è¡Œç¤ºä¾‹</span>
go run main.go
</code></pre>
<h3 data-id="heading-15">ä½ å°†çœ‹åˆ°ä»€ä¹ˆ</h3>
<p>ä»£ç†ä¼šï¼š</p>
<ol>
<li><strong>åˆ›å»ºå·¥ä½œç›®å½•</strong>Â (<code>./manus_work/</code>)</li>
<li><strong>ç”Ÿæˆè®¡åˆ’</strong>Â åˆ°Â <code>task_plan.md</code>ï¼Œå¸¦å¤é€‰æ¡†</li>
<li><strong>æ‰§è¡Œæ¯ä¸ªé˜¶æ®µ</strong>Â (ç ”ç©¶ â†’ ç¼–è¯‘ â†’ æ’°å†™ â†’ å®¡æ ¸)</li>
<li><strong>æ›´æ–°å¤é€‰æ¡†</strong>Â æ ‡è®°é˜¶æ®µå®Œæˆ</li>
<li><strong>è®°å½•å‘ç°</strong>Â åˆ°Â <code>notes.md</code></li>
<li><strong>ç”Ÿæˆæœ€ç»ˆè¾“å‡º</strong>Â åˆ°Â <code>output.md</code></li>
</ol>
<h3 data-id="heading-16">ç¤ºä¾‹è¾“å‡º</h3>
<pre><code class="hljs language-txt" lang="txt">ğŸš€ Manus Agent Example

=====================


Task: Research TypeScript benefits and write a summary


â³ Executing Manus Agent...


ğŸ” Phase: Research

Â  Â - SearchingÂ 
for
Â TypeScript documentation

Â  Â - Analyzing community feedback

Â  Â - Gathering statistical data


ğŸ“ Phase: Compile Findings

Â  Â - Organizing research data

Â  Â - Extracting key points

Â  Â - Creating structured notes


âœï¸ Â Phase: Write Summary

Â  Â - Drafting introduction

Â  Â - Writing body sections

Â  Â - Creating conclusion


âœ… Phase: Review

Â  Â - Checking factual accuracy

Â  Â - Validating structure

Â  Â - Quality assessment


âœ… Execution completed!

â±ï¸ Â Total time: 2.1s


ğŸ“ Generated Files:

==================


ğŸ“„ task_plan.md:

---------------

%% Goal

Research and document the benefits of TypeScriptÂ 
for
Â development teams


%% Phases

- [x] Phase 1: Research

Â  Description: SearchÂ 
for
Â and gather information from external sources

Â  Node: research


- [x] Phase 2: Compile Findings

Â  Description: Compile findings into organized notes

Â  Node: compile


- [x] Phase 3: Write Summary

Â  Description: Write final deliverable based on research

Â  Node: write


- [x] Phase 4: Review

Â  Description: Review and validate the output

Â  Node: review


ğŸ“‹ output.md:

-----------

# Final Output


Generated at: 2025-01-07 15:30:45


[å®Œæ•´äº¤ä»˜å†…å®¹...]


ğŸ’¡ Tip: ç¼–è¾‘ task_plan.md æ¥è°ƒæ•´å·¥ä½œæµå¹¶é‡æ–°è¿è¡Œï¼
</code></pre>
<h2 data-id="heading-17">ç”Ÿæˆçš„æ–‡ä»¶</h2>
<h3 data-id="heading-18">task_plan.md</h3>
<p>åŒ…å«å·¥ä½œæµè®¡åˆ’å’Œè¿›åº¦å¤é€‰æ¡†ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">%%</span> <span class="hljs-string">Goal</span>

<span class="hljs-string">Research</span> <span class="hljs-string">and</span> <span class="hljs-string">document</span> <span class="hljs-string">the</span> <span class="hljs-string">benefits</span> <span class="hljs-string">of</span> <span class="hljs-string">TypeScript</span> <span class="hljs-string">for</span> <span class="hljs-string">development</span> <span class="hljs-string">teams</span>

<span class="hljs-string">%%</span> <span class="hljs-string">Phases</span>

<span class="hljs-string">-</span>Â 
[<span class="hljs-string">x</span>] <span class="hljs-attr">Phase 1:</span> <span class="hljs-string">Research</span>
Â  Â  Â  <span class="hljs-attr">Description:</span> <span class="hljs-string">Search</span> <span class="hljs-string">for</span> <span class="hljs-string">and</span> <span class="hljs-string">gather</span> <span class="hljs-string">information</span>
Â  Â  Â  <span class="hljs-attr">Node:</span> <span class="hljs-string">research</span>

<span class="hljs-string">-</span>Â 
[ ] <span class="hljs-attr">Phase 2:</span> <span class="hljs-string">Compile</span>
Â  Â  Â  <span class="hljs-attr">Description:</span> <span class="hljs-string">Compile</span> <span class="hljs-string">findings</span> <span class="hljs-string">into</span> <span class="hljs-string">notes</span>
Â  Â  Â  <span class="hljs-attr">Node:</span> <span class="hljs-string">compile</span>
</code></pre>
<h3 data-id="heading-19">notes.md</h3>
<p>åŒ…å«ç ”ç©¶ç¬”è®°å’Œé”™è¯¯æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">## Research Notes</span>

<span class="hljs-section">### TypeScript Benefits</span>

<span class="hljs-bullet">-</span>Â 
Type safety prevents runtime errors
<span class="hljs-bullet">-</span>Â 
Better IDE support
<span class="hljs-bullet">-</span>Â 
...


<span class="hljs-section">## Error Log</span>

[æ‰§è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„ä»»ä½•é”™è¯¯]
</code></pre>
<h3 data-id="heading-20">output.md</h3>
<p>åŒ…å«ä»£ç†ç”Ÿæˆçš„æœ€ç»ˆäº¤ä»˜ç‰©ã€‚</p>
<h2 data-id="heading-21">è‡ªå®šä¹‰</h2>
<h3 data-id="heading-22">æ·»åŠ è‡ªå®šä¹‰é˜¶æ®µ</h3>
<p>ç¼–è¾‘Â <code>main.go</code>Â ä¸­çš„Â <code>nodes</code>Â åˆ‡ç‰‡ï¼š</p>
<pre><code class="hljs language-go" lang="go">nodes := []graph.TypedNode[
<span class="hljs-keyword">map</span>
[
<span class="hljs-type">string</span>
]any]{

Â  Â  {

Â  Â  Â  Â  Name: Â  Â  Â  Â 
<span class="hljs-string">"my_custom_phase"</span>
,

Â  Â  Â  Â  Description:Â 
<span class="hljs-string">"è¿™ä¸ªé˜¶æ®µåšä»€ä¹ˆçš„æè¿°"</span>
,

Â  Â  Â  Â  Function: Â  Â myCustomNodeFunc,

Â  Â  },

Â  Â Â 
<span class="hljs-comment">// ... æ›´å¤šèŠ‚ç‚¹</span>

}
</code></pre>
<h3 data-id="heading-23">ä¿®æ”¹æ–‡ä»¶è·¯å¾„</h3>
<p>ä¿®æ”¹Â <code>config</code>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">config := prebuilt.ManusConfig{

Â  Â  WorkDir: Â  Â 
<span class="hljs-string">"./my_work"</span>
,

Â  Â  PlanPath: Â Â 
<span class="hljs-string">"./my_work/my_plan.md"</span>
,

Â  Â  NotesPath: Â 
<span class="hljs-string">"./my_work/my_notes.md"</span>
,

Â  Â  OutputPath:Â 
<span class="hljs-string">"./my_work/my_output.md"</span>
,

Â  Â  AutoSave: Â Â 
<span class="hljs-literal">true</span>
,

Â  Â  Verbose: Â  Â 
<span class="hljs-literal">true</span>
,

}
</code></pre>
<h3 data-id="heading-24">äººå·¥å¹²é¢„</h3>
<p>åœ¨é˜¶æ®µä¹‹é—´å¯ç”¨æ‰‹åŠ¨å¹²é¢„ï¼š</p>
<pre><code class="hljs language-c" lang="c">agent.InterruptBefore([]<span class="hljs-built_in">string</span>{<span class="hljs-string">"planner"</span>})
</code></pre>
<p>ç„¶ååœ¨æš‚åœæ—¶ç¼–è¾‘Â <code>task_plan.md</code>ï¼Œä»£ç†æ¢å¤æ—¶ä¼šè¯»å–æ›´æ–°åçš„è®¡åˆ’ã€‚</p>
<h2 data-id="heading-25">ä½¿ç”¨åœºæ™¯</h2>
<p>Manus Agent ç‰¹åˆ«é€‚åˆé‚£äº›éœ€è¦åˆ†æ­¥éª¤ã€æœ‰é˜¶æ®µæ€§çš„ä»»åŠ¡ã€‚ä¸‹é¢æ˜¯ä¸€äº›å…¸å‹åœºæ™¯ï¼š</p>
<p>âœ…Â <strong>å¤šæ­¥éª¤ç ”ç©¶</strong>Â - æ¯”å¦‚å­¦æœ¯ç ”ç©¶æˆ–å¸‚åœºåˆ†æï¼Œéœ€è¦å…ˆæ”¶é›†èµ„æ–™ã€å†æ•´ç†ã€æœ€åå†™æŠ¥å‘Š</p>
<p>âœ…Â <strong>æ–‡æ¡£é¡¹ç›®</strong>Â - API æ–‡æ¡£ã€ç”¨æˆ·æŒ‡å—è¿™ç±»æœ‰æ˜ç¡®ç»“æ„çš„æ–‡æ¡£ï¼ŒæŒ‰ç« èŠ‚ä¸€æ­¥æ­¥æ¥æ›´æ¸…æ™°</p>
<p>âœ…Â <strong>å†…å®¹åˆ›ä½œ</strong>Â - å†™æ–‡ç« ã€æŠ¥å‘Šã€ç™½çš®ä¹¦ï¼Œå…ˆå¤§çº²å†å¡«å……å†…å®¹ï¼Œæœ€åæ¶¦è‰²</p>
<p>âœ…Â <strong>æ•°æ®å¤„ç†</strong>Â - ETL å·¥ä½œæµã€æ•°æ®ç®¡é“ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½å¯ä»¥å•ç‹¬éªŒè¯</p>
<p>âœ…Â <strong>å¤æ‚å·¥ä½œæµ</strong>Â - ä»»ä½•åŒ…å« 3 ä¸ªä»¥ä¸Šé¡ºåºæ­¥éª¤çš„ä»»åŠ¡ï¼Œæ­¥éª¤è¶Šå¤šè¶Šèƒ½ä½“ç°ä¼˜åŠ¿</p>
<h2 data-id="heading-26">å¯¹æ¯”ï¼šManus Agent vs Planning Agent</h2>
<p>LangGraphGo é‡Œè¿˜æœ‰ä¸€ä¸ªÂ <code>CreatePlanningAgent</code>ï¼Œå®ƒå’Œ Manus Agent æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>CreatePlanningAgent</th><th>CreateManusAgent</th></tr></thead><tbody><tr><td>è§„åˆ’æ ¼å¼</td><td>JSON</td><td>Markdown</td></tr><tr><td>è¿›åº¦è·Ÿè¸ª</td><td>æ¶ˆæ¯å†å²</td><td>å¤é€‰æ¡†</td></tr><tr><td>æŒä¹…åŒ–</td><td>ä»… State</td><td>æ–‡ä»¶ + State</td></tr><tr><td>äººå·¥ç¼–è¾‘</td><td>é€šè¿‡ UpdateState()</td><td>ç›´æ¥ç¼–è¾‘æ–‡ä»¶</td></tr><tr><td>æœ€é€‚åˆ</td><td>å¿«é€Ÿè‡ªåŠ¨åŒ–</td><td>å¤æ‚å¤šæ­¥éª¤ä»»åŠ¡</td></tr></tbody></table>
<p>ç®€å•æ¥è¯´ï¼Œå¦‚æœä½ çš„ä»»åŠ¡æ¯”è¾ƒç®€å•ã€å¸Œæœ›å¿«é€Ÿå®Œæˆï¼Œç”¨Â <code>CreatePlanningAgent</code>Â å°±å¤Ÿäº†ã€‚ä½†å¦‚æœä»»åŠ¡å¤æ‚ã€éœ€è¦äººå·¥å¹²é¢„ã€æˆ–è€…æƒ³è¦å¯è§†åŒ–è¿›åº¦ï¼Œé‚£ä¹ˆÂ <code>CreateManusAgent</code>Â ä¼šæ›´åˆé€‚ã€‚</p>
<h2 data-id="heading-27">é«˜çº§ç”¨æ³•</h2>
<h3 data-id="heading-28">ä»æ£€æŸ¥ç‚¹æ¢å¤</h3>
<p>ä¸éœ€è¦é¢å¤–é…ç½®ï¼Œä»£ç†ä¼šè‡ªåŠ¨è¯»å–Â <code>task_plan.md</code>ï¼Œä»ä¸Šæ¬¡å¾…å®Œæˆçš„é˜¶æ®µç»§ç»­ï¼š</p>
<pre><code class="hljs language-css" lang="css">result, err := agent.<span class="hljs-built_in">Invoke</span>(ctx, initialState)
</code></pre>
<h3 data-id="heading-29">é”™è¯¯æ¢å¤</h3>
<p>é‡åˆ°é”™è¯¯æ—¶ä¸ç”¨æ‹…å¿ƒï¼Œæ‰€æœ‰é”™è¯¯éƒ½ä¼šè‡ªåŠ¨è®°å½•åˆ°Â <code>notes.md</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">## <span class="hljs-title class_">Error</span> [<span class="hljs-number">2025</span>-<span class="hljs-number">01</span>-<span class="hljs-number">07</span> <span class="hljs-number">15</span>:<span class="hljs-number">30</span>:<span class="hljs-number">45</span>]<span class="hljs-title class_">Error</span> <span class="hljs-keyword">in</span> phase <span class="hljs-number">2</span> (compile): connection timeout
</code></pre>
<p>ä¿®å¤å¯¼è‡´é”™è¯¯çš„é—®é¢˜åé‡æ–°è¿è¡Œï¼Œä»£ç†ä¼šä»å¤±è´¥é˜¶æ®µç»§ç»­ï¼Œä¸ä¼šé‡å¤å·²å®Œæˆçš„å·¥ä½œã€‚</p>
<h3 data-id="heading-30">åŠ¨æ€è§„åˆ’</h3>
<p>LLM ä¼šæ ¹æ®ä½ çš„å…·ä½“è¯·æ±‚åŠ¨æ€ç”Ÿæˆè®¡åˆ’ã€‚ä¸åŒçš„ç›®æ ‡ä¼šäº§ç”Ÿä¸åŒçš„è®¡åˆ’ç»“æ„ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ è¯·æ±‚ 1: "Research TypeScript benefits"/</span><span class="hljs-regexp">/ â†’ è®¡åˆ’: research â†’ compile â†’ write â†’ review/</span><span class="hljs-regexp">/ å››ä¸ªé˜¶æ®µï¼Œæ¯”è¾ƒå…¨é¢/</span><span class="hljs-regexp">/ è¯·æ±‚ 2: "Quick TypeScript summary"/</span><span class="hljs-regexp">/ â†’ è®¡åˆ’: research â†’ write/</span><span class="hljs-regexp">/ åªè¦ä¸¤ä¸ªé˜¶æ®µï¼Œå¿«é€Ÿå‡ºç»“æœ
</span></code></pre>
<h2 data-id="heading-31">æ•…éšœæ’é™¤</h2>
<p>é‡åˆ°é—®é¢˜åˆ«æ…Œï¼Œè¿™é‡Œæœ‰ä¸€äº›å¸¸è§é—®é¢˜çš„æ’æŸ¥æ€è·¯ï¼š</p>
<h3 data-id="heading-32">ä»£ç†ä¸åˆ›å»ºæ–‡ä»¶</h3>
<p>é¦–å…ˆæ£€æŸ¥Â <code>workDir</code>Â è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç›¸å¯¹è·¯å¾„è¦æ³¨æ„æ˜¯ä»å“ªé‡Œè¿è¡Œçš„ã€‚ç„¶åç¡®è®¤ä½ æœ‰å†™å…¥æƒé™ï¼Œæœ€åçœ‹çœ‹ config é‡ŒÂ <code>AutoSave</code>Â æ˜¯å¦è®¾ç½®ä¸ºÂ <code>true</code>ã€‚</p>
<h3 data-id="heading-33">è®¡åˆ’ç”Ÿæˆå¤±è´¥</h3>
<p>è¿™é€šå¸¸å’Œ LLM æœ‰å…³ã€‚å…ˆæ£€æŸ¥ä½ çš„Â <code>OPENAI_API_KEY</code>Â æ˜¯å¦æ­£ç¡®è®¾ç½®äº†ã€‚å¦‚æœç”¨çš„æ˜¯ GPT-4ï¼Œå¯ä»¥è¯•è¯•æ¢æˆÂ <code>gpt-3.5-turbo</code>ï¼Œä¾¿å®œåˆå¿«ã€‚å¦å¤–ï¼ŒèŠ‚ç‚¹æè¿°è¦å°½é‡æ¸…æ™°ï¼Œå¤ªæ¨¡ç³Šçš„è¯ LLM å¯èƒ½ä¸çŸ¥é“è¯¥æ€ä¹ˆç”¨ã€‚</p>
<h3 data-id="heading-34">é˜¶æ®µæ— æ³•å®Œæˆ</h3>
<p>è¿™ç§æƒ…å†µè¦æ£€æŸ¥èŠ‚ç‚¹å‡½æ•°çš„è¿”å›å€¼ã€‚ç¡®ä¿è¿”å›äº†æ­£ç¡®çš„ stateï¼Œè€Œä¸” state é‡Œå¿…é¡»åŒ…å«Â <code>messages</code>Â å­—æ®µã€‚å¦‚æœè¿˜æ˜¯æä¸å®šï¼Œçœ‹çœ‹Â <code>notes.md</code>Â é‡Œæœ‰æ²¡æœ‰é”™è¯¯ä¿¡æ¯ï¼Œé‚£é‡Œæœ‰è¯¦ç»†è®°å½•ã€‚</p>
<h3 data-id="heading-35">é“¾æ¥</h3>
<ul>
<li>åŸå§‹ planning-with-files é¡¹ç›®[5]</li>
<li>Manus AI å®˜ç½‘[6]</li>
<li>LangGraphGo æ–‡æ¡£[7]</li>
<li>Meta æ”¶è´­ Manus æ–°é—»[8]</li>
</ul>
<h2 data-id="heading-36">å‚è€ƒèµ„æ–™</h2>
<p>[1]Â Manus AI:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.manus.ai" target="_blank" title="https://www.manus.ai" ref="nofollow noopener noreferrer">www.manus.ai</a></em></p>
<p>[2]Â Manus AI:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fmanus.im%2Fzh-cn%2Fblog%2FContext-Engineering-for-AI-Agents-Lessons-from-Building-Manus" target="_blank" title="https://manus.im/zh-cn/blog/Context-Engineering-for-AI-Agents-Lessons-from-Building-Manus" ref="nofollow noopener noreferrer">manus.im/zh-cn/blog/â€¦</a></em></p>
<p>[3]Â planning-with-files:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOthmanAdi%2Fplanning-with-files" target="_blank" title="https://github.com/OthmanAdi/planning-with-files" ref="nofollow noopener noreferrer">github.com/OthmanAdi/pâ€¦</a></em></p>
<p>[4]Â è¯¦ç»†åˆ†æ:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.reddit.com%2Fr%2FClaudeAI%2Fcomments%2F1q2p03x%2Fi_reverseengineered_the_workflow_that_made_manus%2F" target="_blank" title="https://www.reddit.com/r/ClaudeAI/comments/1q2p03x/i_reverseengineered_the_workflow_that_made_manus/" ref="nofollow noopener noreferrer">www.reddit.com/r/ClaudeAI/â€¦</a></em></p>
<p>[5]Â åŸå§‹ planning-with-files é¡¹ç›®:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOthmanAdi%2Fplanning-with-files" target="_blank" title="https://github.com/OthmanAdi/planning-with-files" ref="nofollow noopener noreferrer">github.com/OthmanAdi/pâ€¦</a></em></p>
<p>[6]Â Manus AI å®˜ç½‘:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.manus.ai" target="_blank" title="https://www.manus.ai" ref="nofollow noopener noreferrer">www.manus.ai</a></em></p>
<p>[7]Â LangGraphGo æ–‡æ¡£:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsmallnest%2Flanggraphgo" target="_blank" title="https://github.com/smallnest/langgraphgo" ref="nofollow noopener noreferrer">github.com/smallnest/lâ€¦</a></em></p>
<p>[8]Â Meta æ”¶è´­ Manus æ–°é—»:Â <em><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.theverge.com%2F2025%2F12%2F29%2Fmeta-acquires-manus-ai-2-billion-deal" target="_blank" title="https://www.theverge.com/2025/12/29/meta-acquires-manus-ai-2-billion-deal" ref="nofollow noopener noreferrer">www.theverge.com/2025/12/29/â€¦</a></em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨AIæ—¶ä»£ï¼ŒæŠ€æœ¯äººåº”è¯¥æ¯å¤©éƒ½è¦èŠ±ä¸¤å°æ—¶æ¥æ„å»ºä¸€ä¸ªè‡ªèº«çš„æ„å»ºç³»ç»Ÿ-Inputç¯‡]]></title>    <link>https://juejin.cn/post/7593892837897764879</link>    <guid>https://juejin.cn/post/7593892837897764879</guid>    <pubDate>2026-01-12T02:47:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593892837897764879" data-draft-id="7593845442372649006" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨AIæ—¶ä»£ï¼ŒæŠ€æœ¯äººåº”è¯¥æ¯å¤©éƒ½è¦èŠ±ä¸¤å°æ—¶æ¥æ„å»ºä¸€ä¸ªè‡ªèº«çš„æ„å»ºç³»ç»Ÿ-Inputç¯‡"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-12T02:47:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é…’æ˜Ÿå°æœ"/> <meta itemprop="url" content="https://juejin.cn/user/1512542215093479"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨AIæ—¶ä»£ï¼ŒæŠ€æœ¯äººåº”è¯¥æ¯å¤©éƒ½è¦èŠ±ä¸¤å°æ—¶æ¥æ„å»ºä¸€ä¸ªè‡ªèº«çš„æ„å»ºç³»ç»Ÿ-Inputç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1512542215093479/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é…’æ˜Ÿå°æœ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:47:24.000Z" title="Mon Jan 12 2026 02:47:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-forest-dark">.hljs-comment,.hljs-quote{color:#9c9491}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#f22c40}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#df5320}.hljs-bullet,.hljs-string,.hljs-symbol{color:#7b9726}.hljs-section,.hljs-title{color:#407ee7}.hljs-keyword,.hljs-selector-tag{color:#6666ea}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1b1918;color:#a8a19f}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Input ï¼ˆ20åˆ†é’Ÿï¼‰ -- åªå…è®¸â€œå¸¦ç—›ç‚¹è¾“å…¥â€</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆè¾“å…¥æ˜¯ç¬¬ä¸€æ­¥ï¼Ÿ</h3>
<p>æŠ€æœ¯äººçš„æ€ç»´é€šå¸¸éƒ½æ˜¯å…ˆå†™ä»£ç ï¼Œç„¶åå†æ‰¾é—®é¢˜ï¼Œè¿™æ˜¯ä¸Šç­çŠ¶æ€åŸ¹å…»çš„ä¹ æƒ¯ï¼Œä¸Šé¢å®‰æ’å·¥ä½œï¼Œä½ æ‰§è¡Œï¼Œè¿™ç§å±äºæ‰§è¡Œè€…çš„é€»è¾‘ï¼Œå·²ç»åç¦»äº†ç°å®ä¸–ç•Œçš„ç¯å¢ƒã€‚</p>
<p>è¿™ç§æ€ç»´å¸¦æ¥çš„åæœæ˜¯ï¼š</p>
<p>ä½ åšçš„é¡¹ç›®èƒ½è·‘ï¼ŒåŠŸèƒ½ä¹Ÿå¾ˆå®Œå–„ï¼Œä½†å°±æ˜¯æ²¡äººç”¨ã€‚</p>
<p>ä½ è§£å†³çš„ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜æ˜¯ä½ â€œä»¥ä¸ºå­˜åœ¨â€çš„é—®é¢˜ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬è¦æŠŠInputæ”¾åœ¨ç¬¬ä¸€ä½ï¼Œè€Œä¸”è¦æ˜ç¡®Inputçš„å®šä¹‰ã€‚</p>
<p>è¿™ä¸€æ­¥æ˜¯çº åæœºåˆ¶ï¼Œä¸åªæ˜¯ä¿¡æ¯æ”¶é›†ã€‚</p>
<p>å®ƒçš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼š</p>
<blockquote>
<p>å¼ºè¡ŒæŠŠä½ æ‹‰å›çœŸå®ä¸–ç•Œ</p>
</blockquote>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯â€œæœ‰æ•ˆè¾“å…¥â€ï¼Ÿ</h3>
<blockquote>
<p>è¾“å…¥å¿…é¡»æ»¡è¶³ï¼šçœŸå®ã€å…·ä½“ã€å¯å¤è¿°</p>
</blockquote>
<p>ä¸æ˜¯ä½ è§‰å¾—æœ‰ä»·å€¼çš„å†…å®¹å°±æ˜¯æœ‰æ•ˆçš„ï¼Œè€Œæ˜¯<strong>èƒ½åå¤è¢«éªŒè¯çš„é—®é¢˜ä¿¡å·</strong>ã€‚</p>
<p>å¿…é¡»<strong>åŒæ—¶æ»¡è¶³ä¸‰ç‚¹æ‰ç®—æ˜¯æœ‰æ•ˆè¾“å…¥</strong>ï¼š</p>
<ol>
<li>çœŸå®</li>
</ol>
<p>æ¥è‡ªçœŸå®ç”¨æˆ·çš„åé¦ˆï¼Œè€Œä¸æ˜¯ä½ çš„æƒ³è±¡</p>
<ol start="2">
<li>å…·ä½“</li>
</ol>
<p>æœ‰åœºæ™¯ã€æœ‰è¿‡ç¨‹ã€æœ‰ç»†èŠ‚çš„äº‹æƒ…</p>
<ol start="3">
<li>å¯å¤è¿°</li>
</ol>
<p>ä½ èƒ½åœ¨10ç§’å†…å¤è¿°ç»™å¦å¤–ä¸€ä¸ªäººå¬</p>
<h3 data-id="heading-3">ä»€ä¹ˆå†…å®¹æ‰ç®— Input ï¼Ÿ</h3>
<p><strong>æˆ‘ä»¬åªå…è®¸ä¸‰ç±»</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·åæ§½</li>
</ol>
<p>ä¾‹å¦‚â€œè¿™ä¸ªä¸œè¥¿æ¯æ¬¡ç”¨åˆ°è¿™ä¸€æ­¥éƒ½ç‰¹åˆ«çƒ¦â€ã€‚</p>
<ol start="2">
<li>å¤±è´¥æ¡ˆä¾‹</li>
</ol>
<p>ä¾‹å¦‚â€œæˆ‘è¯•è¿‡xxï¼Œä½†æœ€åè¿˜æ˜¯æ”¾å¼ƒäº†â€ã€‚</p>
<ol start="3">
<li>åå¤å‡ºç°çš„é—®é¢˜</li>
</ol>
<p>åŒä¸€ä¸ªæŠ±æ€¨ï¼Œå‡ºç°å¤šæ¬¡ä»¥ä¸Šã€‚</p>
<p><strong>è¿™äº›å†…å®¹é€šå¸¸ä¸ä¼˜é›…ã€ä¸å®Œæ•´ã€ç”šè‡³å¾ˆæƒ…ç»ªåŒ–ã€‚</strong></p>
<p><strong>ä½†æ˜¯å®ƒä»¬éƒ½æ˜¯çœŸçš„ã€‚</strong></p>
<p><strong>âŒå¿…é¡»ç¦æ­¢ä¸‰ç±»</strong>ï¼š</p>
<ol>
<li>
<p><strong>æŠ€æœ¯åšå®¢</strong></p>
</li>
<li>
<p>æ–°æ¡†æ¶</p>
</li>
<li>
<p>æˆåŠŸæ•…äº‹</p>
</li>
</ol>
<p>è¿™äº›ä¸œè¥¿åªä¼š<strong>åˆºæ¿€ä½ æƒ³åšäº‹</strong>ï¼Œ å´ä¸ä¼š<strong>çº¦æŸä½ è¯¥è§£å†³ä»€ä¹ˆé—®é¢˜</strong>ã€‚</p>
<p><strong>Input</strong> <strong>æ˜¯ä¸ºäº†çº¦æŸä½ ï¼Œä¸æ˜¯å¯å‘ä½ ã€‚</strong></p>
<h3 data-id="heading-4">Input çš„å”¯ä¸€äº§å‡ºç‰©</h3>
<p>è¿™ä¸ªé˜¶æ®µï¼Œæˆ‘ä»¬åªä¼šäº§å‡ºä¸€ä¸ªä¸œè¥¿ï¼š<strong>ä¸€å¥è¯é—®é¢˜å®šä¹‰</strong>ã€‚</p>
<p>æ ¼å¼å¿…é¡»ç»Ÿä¸€ï¼š</p>
<p>æˆ‘æƒ³è¦è§£å†³çš„æ˜¯ï¼š</p>
<p>___åœ¨___åœºæ™¯ä¸‹çš„é—®é¢˜</p>
<p>ç¤ºä¾‹ï¼š</p>
<ul>
<li>
<p>æˆ‘æƒ³è¦è§£å†³çš„æ˜¯ï¼š</p>
<ul>
<li>
<p>å…¬ä¼—å·è¿è¥è€…åœ¨æ´»åŠ¨æ¨å¹¿åœºæ™¯ä¸‹ï¼Œæ— æ³•çŸ¥é“äºŒç»´ç æ˜¯å¦çœŸæ­£å¸¦æ¥è½¬åŒ–çš„é—®é¢˜</p>
</li>
<li>
<p>å¼€å‘è€…åœ¨éªŒè¯mvpæ—¶ï¼Œå¼€å‘æˆæœ¬è¿‡é«˜çš„é—®é¢˜</p>
</li>
</ul>
</li>
</ul>
<p><strong>å¦‚æœä½ å†™ä¸å‡ºæ¥è¿™å¥è¯ï¼Œè¯´æ˜</strong> <strong>Input</strong> <strong>å¤±è´¥äº†ã€‚</strong></p>
<h3 data-id="heading-5">ä¸€å¥è¯ä½ å¿…é¡»è®°ä½</h3>
<p>Inputä¸æ˜¯ä¸ºäº†å¯å‘ä½ ï¼Œæ˜¯ä¸ºäº†çº¦æŸä½ </p>
<p>å®ƒä¸æ˜¯è®©ä½ æ›´å…´å¥‹ï¼Œ</p>
<p>è€Œæ˜¯è®©ä½ æ›´ä¸è‡ªç”±ã€‚</p>
<p>ä½†æ­£æ˜¯è¿™ç§ä¸è‡ªç”±ã€‚</p>
<p>æ‰èƒ½é˜²æ­¢ä½ å†æ¬¡é™·å…¥æŠ€æœ¯äººæ€ç»´ã€‚</p>
<h2 data-id="heading-6">å¾€æœŸå›é¡¾</h2>
<p><a href="https://juejin.cn/post/7593193235251839028" target="_blank" title="https://juejin.cn/post/7593193235251839028">2 Hour Builder å¯åŠ¨ç¯‡</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Manus: ä¸Šä¸‹æ–‡å·¥ç¨‹çš„æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7593702885880594468</link>    <guid>https://juejin.cn/post/7593702885880594468</guid>    <pubDate>2026-01-12T02:46:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593702885880594468" data-draft-id="7593692797765582890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Manus: ä¸Šä¸‹æ–‡å·¥ç¨‹çš„æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="ç®—æ³•,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-12T02:46:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lizhongxuan"/> <meta itemprop="url" content="https://juejin.cn/user/940837683343224"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Manus: ä¸Šä¸‹æ–‡å·¥ç¨‹çš„æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/940837683343224/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lizhongxuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:46:52.000Z" title="Mon Jan 12 2026 02:46:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b729a9a9f87a4705b26e015ec3e43fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbGl6aG9uZ3h1YW4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768790811&amp;x-signature=0OGV6KwWInkGFMwnv8L8QLFCy8M%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">è§†é¢‘è§£æ</h2>
<p>LangChain çš„åˆ›å§‹å·¥ç¨‹å¸ˆ Lance å’Œ Manus çš„è”åˆåˆ›å§‹äººå…¼é¦–å¸­ç§‘å­¦å®¶ Pete åœ¨ä¸€åœºæ·±åº¦ç ”è®¨ä¼šä¸­ï¼Œè¯¦ç»†æ¢è®¨äº† <strong>ä¸Šä¸‹æ–‡å·¥ç¨‹</strong> çš„æ¦‚å¿µã€ç­–ç•¥ä»¥åŠåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„å®æˆ˜ç»éªŒã€‚è¿™æ˜¯ä¸€ç¯‡åŸºäº<strong>è§†é¢‘</strong>çš„è§£è¯»æ–‡ç« ã€‚</p>
<p>è§†é¢‘é“¾æ¥: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3D6_BcCthVvb8" target="_blank" title="https://www.youtube.com/watch?v=6_BcCthVvb8" ref="nofollow noopener noreferrer">www.youtube.com/watch?v=6_Bâ€¦</a></p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼Ÿ</h2>
<p>åœ¨æ„å»ºå¤æ‚çš„ AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰æ—¶ï¼Œéšç€å·¥å…·è°ƒç”¨å’Œäº¤äº’çš„å¢åŠ ï¼Œä¸Šä¸‹æ–‡çª—å£ï¼ˆContext Windowï¼‰çš„è¿…é€Ÿè†¨èƒ€æˆä¸ºäº†ä¸€ä¸ªæ ¸å¿ƒæŒ‘æˆ˜ã€‚</p>
<p><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹</strong>è¢«å®šä¹‰ä¸ºâ€œä¸€é—¨åœ¨ä¸Šä¸‹æ–‡çª—å£ä¸­å¡«å……ä¸‹ä¸€æ­¥æ‰€éœ€æ°å½“ä¿¡æ¯çš„ç²¾å¦™è‰ºæœ¯ä¸ç§‘å­¦â€ã€‚</p>
<p>éšç€ Agent è¿è¡Œæ—¶é—´çš„å¢é•¿ï¼Œå·¥å…·è°ƒç”¨çš„è§‚å¯Ÿç»“æœï¼ˆObservationï¼‰ä¼šä¸æ–­å †ç§¯ï¼Œå¯¼è‡´ä¸Šä¸‹æ–‡â€œçˆ†ç‚¸â€ã€‚ç ”ç©¶è¡¨æ˜ï¼Œéšç€ä¸Šä¸‹æ–‡é•¿åº¦çš„å¢åŠ ï¼Œæ¨¡å‹çš„æ¨ç†æ€§èƒ½ä¼šä¸‹é™ï¼ˆè¢«ç§°ä¸º "Context Rot"ï¼‰ã€‚å› æ­¤ï¼Œå¦‚ä½•ç®¡ç†è¿™äº›ä¿¡æ¯ï¼Œç¡®ä¿ Agent åœ¨æ¯ä¸€æ­¥éƒ½èƒ½è·å¾—æœ€å‡†ç¡®çš„ä¿¡æ¯è€Œä¸è¢«æ— å…³å™ªéŸ³å¹²æ‰°ï¼Œå°±æ˜¯ä¸Šä¸‹æ–‡å·¥ç¨‹è¦è§£å†³çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-2">æ ¸å¿ƒç­–ç•¥ï¼šç®¡ç†ä¸Šä¸‹æ–‡çš„å››å¤§æ”¯æŸ±</h2>
<p>Lance æ€»ç»“äº†ç›®å‰ä¸šç•Œï¼ˆåŒ…æ‹¬ Manusã€Deep Agentsã€Open Deep Research ç­‰é¡¹ç›®ï¼‰é€šç”¨çš„å››ç§å¤„ç†ä¸Šä¸‹æ–‡çš„ä¸»æµæ¨¡å¼ï¼š</p>
<h3 data-id="heading-3">1. ä¸Šä¸‹æ–‡å¸è½½ (Context Offloading)</h3>
<ul>
<li><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼šä¸éœ€è¦å°†æ‰€æœ‰ä¿¡æ¯éƒ½ä¿ç•™åœ¨æ¶ˆæ¯å†å²ï¼ˆMessage Historyï¼‰ä¸­ã€‚å°†ä¿¡æ¯ç§»å‡ºä¸Šä¸‹æ–‡çª—å£ï¼Œå­˜å‚¨åˆ°å¤–éƒ¨ä½ç½®ï¼ˆå¦‚æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œä»…åœ¨éœ€è¦æ—¶æ£€ç´¢ã€‚</li>
<li><strong>å®è·µ</strong>ï¼šä¾‹å¦‚ï¼ŒAgent è¿›è¡Œç½‘é¡µæœç´¢åï¼Œä¸å°†å†—é•¿çš„ HTML å†…å®¹ç›´æ¥å¡å›å¯¹è¯å†å²ï¼Œè€Œæ˜¯å°†å…¶è½¬å­˜ä¸ºæ–‡ä»¶ï¼Œä»…è¿”å›æ–‡ä»¶è·¯å¾„æˆ–ç®€è¦æ‘˜è¦ç»™ Agentã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šé˜²æ­¢ Token æ¶ˆè€—è¿‡å¿«ï¼Œé¿å…æ— å…³ä¿¡æ¯å¹²æ‰°æ¨¡å‹å†³ç­–ã€‚</li>
</ul>
<h3 data-id="heading-4">2. ä¸Šä¸‹æ–‡ç¼©å‡ (Context Reduction)</h3>
<ul>
<li><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼šå¯¹ä¿¡æ¯è¿›è¡Œå‹ç¼©æˆ–ä¿®å‰ªã€‚</li>
<li><strong>å‹ç¼© (Compaction)</strong>ï¼šè¿™æ˜¯ Manus å¼ºè°ƒçš„ä¸€ä¸ªé‡è¦æ¦‚å¿µã€‚å®ƒæ˜¯<strong>å¯é€†</strong>çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ Agent å†™å…¥äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œç”±äºæ–‡ä»¶å·²å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå†å²è®°å½•ä¸­çš„â€œå†™å…¥å†…å®¹â€å‚æ•°å¯ä»¥è¢«ç§»é™¤ï¼Œåªä¿ç•™â€œæ–‡ä»¶è·¯å¾„â€ã€‚å¦‚æœ Agent ä»¥åéœ€è¦å†…å®¹ï¼Œå®ƒå¯ä»¥å»è¯»å–æ–‡ä»¶ã€‚</li>
<li><strong>æ‘˜è¦ (Summarization)</strong>ï¼šè¿™æ˜¯<strong>ä¸å¯é€†</strong>çš„ã€‚å°†å¤šæ¬¡å·¥å…·è°ƒç”¨çš„ç»“æœæ¦‚æ‹¬ä¸ºä¸€æ®µè¯ã€‚Pete å»ºè®®åœ¨ä¸Šä¸‹æ–‡å³å°†è¾¾åˆ°æ¨¡å‹æ€§èƒ½è¡°é€€é˜ˆå€¼ï¼ˆé€šå¸¸åœ¨ 128k-200k tokens å·¦å³ï¼‰æ—¶è§¦å‘ï¼Œä¸”åº”ä¼˜å…ˆä½¿ç”¨å‹ç¼©ï¼Œå†ä½¿ç”¨æ‘˜è¦ã€‚</li>
</ul>
<h3 data-id="heading-5">3. ä¸Šä¸‹æ–‡æ£€ç´¢ (Context Retrieval)</h3>
<ul>
<li><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼šæŒ‰éœ€å–å›ä¿¡æ¯ã€‚</li>
<li><strong>æ‰‹æ®µ</strong>ï¼š
<ul>
<li><strong>è¯­ä¹‰æœç´¢/ç´¢å¼•</strong>ï¼šé€‚åˆé•¿æœŸè®°å¿†æˆ–ä¼ä¸šçŸ¥è¯†åº“ã€‚</li>
<li><strong>æ–‡ä»¶ç³»ç»Ÿæœç´¢</strong>ï¼šManus å’Œ Claude Code æ›´å€¾å‘äºä½¿ç”¨ç®€å•çš„ Linux å·¥å…·ï¼ˆå¦‚ <code>grep</code>, <code>glob</code>ï¼‰è¿›è¡Œå®æ—¶æ£€ç´¢ï¼Œå› ä¸ºå¯¹äºä»£ç æˆ–ä¸´æ—¶ä»»åŠ¡ï¼Œæ„å»ºå‘é‡ç´¢å¼•å¯èƒ½å¤ªæ…¢ä¸”ä¸å¿…è¦ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">4. ä¸Šä¸‹æ–‡éš”ç¦» (Context Isolation)</h3>
<ul>
<li><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼šé€šè¿‡å¤š Agent æ¶æ„æ‹†åˆ†ä¸Šä¸‹æ–‡ã€‚æ¯ä¸ªå­ Agent æ‹¥æœ‰ç‹¬ç«‹çš„ä¸Šä¸‹æ–‡çª—å£ï¼Œåªå…³æ³¨åˆ†æ´¾ç»™å®ƒçš„ä»»åŠ¡ã€‚</li>
<li><strong>æ¨¡å¼</strong>ï¼š
<ul>
<li><strong>é€šè¿‡é€šä¿¡å…±äº«å†…å­˜</strong>ï¼šä¸» Agent å°†å®Œæ•´ä¸Šä¸‹æ–‡ä½œä¸ºå‚è€ƒä¼ ç»™å­ Agentï¼ˆé€‚åˆå¤æ‚ä»»åŠ¡ï¼Œå¦‚æ·±åº¦ç ”ç©¶ï¼‰ã€‚</li>
<li><strong>é€šè¿‡å…±äº«å†…å­˜é€šä¿¡</strong>ï¼šä¸» Agent åªç»™å­ Agent å‘é€æ˜ç¡®æŒ‡ä»¤ï¼Œå­ Agent ä»é›¶å¼€å§‹ï¼ˆé€‚åˆç®€å•ä»»åŠ¡ï¼Œå¦‚â€œåœ¨ä»£ç åº“ä¸­æŸ¥æ‰¾æŸæ®µä»£ç â€ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-7">Manus çš„å®æˆ˜ç»éªŒï¼šåˆ†å±‚åŠ¨ä½œç©ºé—´ (Layered Action Space)</h2>
<p>Manus çš„ Pete åˆ†äº«äº†ä»–ä»¬åœ¨æ„å»ºé€šç”¨ Agent æ—¶çš„ä¸€ä¸ªåˆ›æ–°è®¾è®¡â€”â€”<strong>åˆ†å±‚åŠ¨ä½œç©ºé—´</strong>ï¼Œæ—¨åœ¨è§£å†³å·¥å…·è¿‡å¤šå¯¼è‡´çš„æ¨¡å‹å›°æƒ‘ã€‚</p>
<ol>
<li>
<p><strong>Level 1: å‡½æ•°è°ƒç”¨ (Function Calling)</strong></p>
<ul>
<li>è¿™æ˜¯æœ€åº•å±‚ï¼Œä»…ä¿ç•™ 10-20 ä¸ª<strong>åŸå­åŒ–</strong>çš„æ ¸å¿ƒå·¥å…·ï¼ˆå¦‚è¯»å†™æ–‡ä»¶ã€æ‰§è¡Œ Shell å‘½ä»¤ã€åŸºç¡€æœç´¢ï¼‰ã€‚</li>
<li>è¿™äº›å·¥å…·å…·æœ‰ä¸¥æ ¼çš„ Schema çº¦æŸï¼Œç¡®ä¿ç¨³å®šæ€§ã€‚</li>
</ul>
</li>
<li>
<p><strong>Level 2: æ²™ç®±å·¥å…· (Sandbox Utilities)</strong></p>
<ul>
<li>åˆ©ç”¨ Agent è¿è¡Œåœ¨è™šæ‹Ÿæœºï¼ˆVMï¼‰ä¸­çš„ç‰¹æ€§ï¼Œé¢„è£…å¤§é‡ Linux CLI å·¥å…·ï¼ˆå¦‚æ ¼å¼è½¬æ¢å™¨ã€<code>grep</code>ã€<code>curl</code>ï¼‰ã€‚</li>
<li>Agent é€šè¿‡ Shell å‘½ä»¤è°ƒç”¨å®ƒä»¬ï¼Œè€Œä¸æ˜¯é€šè¿‡ LLM çš„ Function Calling æ¥å£ã€‚è¿™æå¤§åœ°æ‰©å±•äº†èƒ½åŠ›è€Œä¸å ç”¨ä¸Šä¸‹æ–‡ä¸­çš„å·¥å…·å®šä¹‰ç©ºé—´ã€‚</li>
</ul>
</li>
<li>
<p><strong>Level 3: åŒ…ä¸ API (Packages and APIs)</strong></p>
<ul>
<li>å…è®¸ Agent ç¼–å†™ Python è„šæœ¬æ¥è°ƒç”¨å¤æ‚çš„å¤–éƒ¨ API æˆ–åº“ï¼ˆå¦‚å¤„ç† Excelã€é‡‘èæ•°æ®ï¼‰ã€‚</li>
<li>è¿™ç§æ–¹å¼åˆ©ç”¨äº†ä»£ç çš„å¯ç»„åˆæ€§ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæ­¥éª¤ä¸­å®Œæˆâ€œè·å–æ•°æ® -&gt; å¤„ç†æ•°æ® -&gt; ç”Ÿæˆå›¾è¡¨â€çš„å¤æ‚æµç¨‹ï¼Œè€Œæ— éœ€å¤šæ¬¡å¾€è¿”äº¤äº’ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-8">é¿å‘æŒ‡å—ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-9">1. é¿å…â€œè¿‡åº¦å·¥ç¨‹â€ (Over-Engineering)</h3>
<p>Pete å¼ºè°ƒï¼ŒManus æœ€å¤§çš„æ€§èƒ½æå‡å¾€å¾€æ¥è‡ªäº<strong>åšå‡æ³•</strong>ã€‚éšç€åŸºç¡€æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œè®¸å¤šå¤æ‚çš„ä¸Šä¸‹æ–‡ç®¡ç†æŠ€å·§æˆ–æ£€ç´¢ Hack å¯ä»¥è¢«ç§»é™¤ã€‚ä¸Šä¸‹æ–‡å·¥ç¨‹çš„ç›®æ ‡æ˜¯è®©æ¨¡å‹çš„å·¥ä½œæ›´ç®€å•ï¼Œè€Œä¸æ˜¯æ¶æ„æ›´å¤æ‚ã€‚</p>
<h3 data-id="heading-10">2. è¯„ä¼° (Evaluation) çš„é‡‘æ ‡å‡†</h3>
<p>è™½ç„¶å­¦æœ¯åŸºå‡†æµ‹è¯•ï¼ˆå¦‚ GAIAï¼‰æœ‰å‚è€ƒä»·å€¼ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ<strong>ç”¨æˆ·åé¦ˆï¼ˆ1-5æ˜Ÿè¯„åˆ†ï¼‰</strong> æ˜¯å”¯ä¸€çš„é‡‘æ ‡å‡†ã€‚æ­¤å¤–ï¼ŒManus ä½¿ç”¨â€œå®ä¹ ç”Ÿâ€è¿›è¡Œå¤§é‡äººå·¥è¯„ä¼°ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹è§†è§‰ç”Ÿæˆç­‰éš¾ä»¥è‡ªåŠ¨åŒ–çš„ä»»åŠ¡ã€‚</p>
<h3 data-id="heading-11">3. è§„åˆ’ (Planning) çš„æ¼”è¿›</h3>
<p>Manus ä»æœ€åˆç®€å•çš„ <code>todo.md</code> æ–‡ä»¶ï¼ˆå®¹æ˜“æµªè´¹å¤§é‡ Token è¿›è¡Œæ›´æ–°ï¼‰ï¼Œè¿›åŒ–åˆ°äº†ä½¿ç”¨ä¸“é—¨çš„ <strong>Planner Agent</strong>ã€‚è¿™ä¸ªè§„åˆ’ Agent æ‹¥æœ‰ç‹¬ç«‹çš„è§†è§’ï¼Œè´Ÿè´£ç”Ÿæˆç»“æ„åŒ–çš„è®¡åˆ’ï¼Œå¹¶ç›‘ç£æ‰§è¡Œè¿›åº¦ã€‚</p>
<h3 data-id="heading-12">4. æ¨¡å‹é€‰æ‹©ä¸æˆæœ¬</h3>
<p>å¹¶ä¸ä¸€å®šéè¦ä½¿ç”¨å¼€æºæ¨¡å‹æ¥é™ä½æˆæœ¬ã€‚å¯¹äºé•¿ä¸Šä¸‹æ–‡ Agentï¼ŒKV Cacheï¼ˆé”®å€¼ç¼“å­˜ï¼‰çš„å¤ç”¨è‡³å…³é‡è¦ã€‚å¤´éƒ¨å‚å•†ï¼ˆå¦‚ Anthropicï¼‰æä¾›çš„åŸºç¡€è®¾æ–½å’Œ Prompt Caching åŠŸèƒ½ï¼Œåœ¨ç»¼åˆç®—è´¦åå¯èƒ½æ¯”è‡ªå»ºå¼€æºæ¨¡å‹æœåŠ¡æ›´ä¾¿å®œä¸”æ›´ç¨³å®šã€‚</p>
<hr/>
<h2 data-id="heading-13">ç»“è¯­</h2>
<p>ä¸Šä¸‹æ–‡å·¥ç¨‹æ˜¯å½“å‰æ„å»ºé«˜æ•ˆ AI Agent çš„å…³é”®ã€‚æ— è®ºæ˜¯é€šè¿‡<strong>å¸è½½</strong>å’Œ<strong>ç¼©å‡</strong>æ¥â€œèŠ‚æµâ€ï¼Œè¿˜æ˜¯é€šè¿‡<strong>æ£€ç´¢</strong>å’Œ<strong>éš”ç¦»</strong>æ¥â€œå¼€æºâ€ï¼Œæ ¸å¿ƒç›®çš„éƒ½æ˜¯ä¸ºäº†åœ¨æœ‰é™çš„è®¡ç®—èµ„æºå’Œæ¨¡å‹æ³¨æ„åŠ›çª—å£å†…ï¼Œå®ç°æœ€ç²¾å‡†çš„ä»»åŠ¡æ‰§è¡Œã€‚æ­£å¦‚ Pete æ‰€è¨€ï¼šâ€œå»ºç«‹æ›´å°‘ï¼Œç†è§£æ›´å¤š (Build less, understand more)â€ï¼Œä¿¡ä»»æ¨¡å‹èƒ½åŠ›çš„è¿›åŒ–ï¼ŒåŒæ—¶ç”¨å·¥ç¨‹æ‰‹æ®µä¸ºå…¶æ‰«æ¸…éšœç¢ï¼Œæ˜¯æœªæ¥çš„æ–¹å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redis `WRONGTYPE` é”™è¯¯çš„åŸå› åŠè§£å†³æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7593944180918091786</link>    <guid>https://juejin.cn/post/7593944180918091786</guid>    <pubDate>2026-01-12T01:53:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593944180918091786" data-draft-id="7593943464053129226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redis `WRONGTYPE` é”™è¯¯çš„åŸå› åŠè§£å†³æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:53:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘è€…é˜¿è±ª"/> <meta itemprop="url" content="https://juejin.cn/user/4073055974333608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redis `WRONGTYPE` é”™è¯¯çš„åŸå› åŠè§£å†³æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4073055974333608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘è€…é˜¿è±ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:53:58.000Z" title="Mon Jan 12 2026 01:53:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>@<a href="https://link.juejin.cn?target=%25E7%259B%25AE%25E5%25BD%2595" target="_blank" title="%E7%9B%AE%E5%BD%95" ref="nofollow noopener noreferrer">TOC</a></p>
<h3 data-id="heading-0">Redis <code>WRONGTYPE</code> é”™è¯¯çš„åŸå› åŠè§£å†³æ–¹æ³•</h3>
<p>åœ¨ä½¿ç”¨ Redis è¿‡ç¨‹ä¸­ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ°ä¸€ä¸ªéå¸¸å¸¸è§ä½†åˆä»¤äººå›°æƒ‘çš„é”™è¯¯ï¼š<code>WRONGTYPE Operation against a key holding the wrong kind of value</code>ã€‚è¿™ä¸ªé”™è¯¯é€šå¸¸ç”±è¯•å›¾å¯¹ Redis ä¸­æŸä¸ªé”®æ‰§è¡Œä¸è¯¥é”®å­˜å‚¨çš„å€¼ç±»å‹ä¸åŒ¹é…çš„æ“ä½œå¼•èµ·ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»è¿™ä¸ªé”™è¯¯çš„åŸå› ã€å¦‚ä½•è¯†åˆ«å®ƒä»¥åŠå¦‚ä½•è§£å†³å’Œé¿å…å®ƒã€‚</p>
<h4 data-id="heading-1">ä¸€ã€Redis æ•°æ®ç±»å‹ç®€ä»‹</h4>
<p>åœ¨æ·±å…¥æ¢è®¨ <code>WRONGTYPE</code> é”™è¯¯ä¹‹å‰ï¼Œæœ‰å¿…è¦äº†è§£ Redis æ”¯æŒçš„å‡ ç§æ•°æ®ç±»å‹ã€‚Redis æ˜¯ä¸€ä¸ªå¼€æºçš„å†…å­˜æ•°æ®ç»“æ„å­˜å‚¨ç³»ç»Ÿï¼Œå®ƒæä¾›äº†äº”ç§ä¸»è¦çš„æ•°æ®ç±»å‹ï¼š</p>
<ol>
<li><strong>Stringï¼ˆå­—ç¬¦ä¸²ï¼‰</strong>ï¼šæœ€ç®€å•çš„ç±»å‹ï¼Œä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ã€‚</li>
<li><strong>Listï¼ˆåˆ—è¡¨ï¼‰</strong>ï¼šä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªæœ‰åºçš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå¯ä»¥æ·»åŠ å…ƒç´ åˆ°åˆ—è¡¨çš„å¤´éƒ¨æˆ–å°¾éƒ¨ã€‚</li>
<li><strong>Setï¼ˆé›†åˆï¼‰</strong>ï¼šä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªæ— åºçš„å­—ç¬¦ä¸²é›†åˆï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚</li>
<li><strong>Hashï¼ˆå“ˆå¸Œè¡¨ï¼‰</strong>ï¼šä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªé”®å€¼å¯¹é›†åˆï¼Œç±»ä¼¼äºä¼ ç»Ÿçš„å“ˆå¸Œè¡¨æˆ–å­—å…¸ã€‚</li>
<li><strong>Zsetï¼ˆæœ‰åºé›†åˆï¼‰</strong>ï¼šä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªæœ‰åºçš„å­—ç¬¦ä¸²é›†åˆï¼Œæ¯ä¸ªå…ƒç´ å…³è”ä¸€ä¸ªå¾—åˆ†ï¼ŒæŒ‰ç…§å¾—åˆ†æ’åºã€‚</li>
</ol>
<h4 data-id="heading-2">äºŒã€é”™è¯¯åŸå› </h4>
<p><code>WRONGTYPE Operation against a key holding the wrong kind of value</code> é”™è¯¯çš„åŸå› éå¸¸æ˜ç¡®ï¼šè¯•å›¾å¯¹ Redis é”®æ‰§è¡Œä¸è¯¥é”®å€¼ç±»å‹ä¸åŒ¹é…çš„æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§åœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>å­—ç¬¦ä¸²é”®æ‰§è¡Œå“ˆå¸Œæ“ä½œ</strong>ï¼š
å¦‚æœæ‚¨å…ˆå°†ä¸€ä¸ªé”®è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç„¶åå°è¯•å°†å…¶ä½œä¸ºå“ˆå¸Œè¡¨æ¥æ“ä½œï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªé”™è¯¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
jedis.set(<span class="hljs-string">"myKey"</span>, <span class="hljs-string">"someValue"</span>); <span class="hljs-comment">// è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹</span>
jedis.hset(<span class="hljs-string">"myKey"</span>, <span class="hljs-string">"field1"</span>, <span class="hljs-string">"value1"</span>); <span class="hljs-comment">// è¯•å›¾ä½œä¸ºå“ˆå¸Œè¡¨æ¥æ“ä½œ</span>
</code></pre>
</li>
<li>
<p><strong>å“ˆå¸Œé”®æ‰§è¡Œé›†åˆæ“ä½œ</strong>ï¼š
ç±»ä¼¼åœ°ï¼Œå¦‚æœä¸€ä¸ªé”®å·²ç»ä½œä¸ºå“ˆå¸Œè¡¨å­˜åœ¨ï¼Œå†å°è¯•å°†å…¶ä½œä¸ºé›†åˆæ¥æ“ä½œï¼Œä¹Ÿä¼šå¼•å‘é”™è¯¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
jedis.hset(<span class="hljs-string">"myKey"</span>, <span class="hljs-string">"field1"</span>, <span class="hljs-string">"value1"</span>); <span class="hljs-comment">// è®¾ç½®ä¸ºå“ˆå¸Œè¡¨ç±»å‹</span>
jedis.sadd(<span class="hljs-string">"myKey"</span>, <span class="hljs-string">"element"</span>); <span class="hljs-comment">// è¯•å›¾ä½œä¸ºé›†åˆæ¥æ“ä½œ</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-3">ä¸‰ã€é”™è¯¯è¯†åˆ«</h4>
<p>è¦è¯†åˆ«è¿™ä¸ªé”™è¯¯ï¼Œé¦–å…ˆè¦äº†è§£ Redis æä¾›çš„ <code>TYPE</code> å‘½ä»¤ã€‚è¿™ä¸ªå‘½ä»¤å¯ä»¥è¿”å›é”®çš„ç±»å‹ã€‚é€šè¿‡ <code>TYPE</code> å‘½ä»¤ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥æŸä¸ªé”®çš„ç±»å‹æ˜¯å¦ä¸æ‚¨æœŸæœ›çš„ç±»å‹ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">TYPE myKey
</code></pre>
<p>è¯¥å‘½ä»¤ä¼šè¿”å›ä»¥ä¸‹å‡ ç§ç±»å‹ä¹‹ä¸€ï¼š<code>string</code>ã€<code>list</code>ã€<code>set</code>ã€<code>zset</code> æˆ– <code>hash</code>ã€‚å¦‚æœé”®ä¸å­˜åœ¨ï¼Œå®ƒå°†è¿”å› <code>none</code>ã€‚</p>
<h4 data-id="heading-4">å››ã€è§£å†³æ–¹æ³•</h4>
<p>å½“é‡åˆ° <code>WRONGTYPE</code> é”™è¯¯æ—¶ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æ­¥éª¤è§£å†³ï¼š</p>
<ol>
<li>
<p><strong>æ£€æŸ¥é”®çš„ç±»å‹</strong>ï¼š
åœ¨æ“ä½œé”®ä¹‹å‰ï¼Œå…ˆä½¿ç”¨ <code>TYPE</code> å‘½ä»¤æ£€æŸ¥é”®çš„ç±»å‹ï¼Œç¡®ä¿ä¸æ“ä½œåŒ¹é…ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> jedis.type(<span class="hljs-string">"myKey"</span>);
<span class="hljs-keyword">if</span> (<span class="hljs-string">"hash"</span>.equals(type)) {
    jedis.hset(<span class="hljs-string">"myKey"</span>, <span class="hljs-string">"field1"</span>, <span class="hljs-string">"value1"</span>);
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// å¤„ç†ç±»å‹ä¸åŒ¹é…çš„æƒ…å†µ</span>
    System.out.println(<span class="hljs-string">"The key type is not hash."</span>);
}
</code></pre>
</li>
<li>
<p><strong>åˆ é™¤å¹¶é‡æ–°è®¾ç½®é”®</strong>ï¼š
å¦‚æœé”®çš„ç±»å‹ä¸æ­£ç¡®ï¼Œå¯ä»¥åˆ é™¤è¯¥é”®å¹¶é‡æ–°è®¾ç½®æ­£ç¡®çš„ç±»å‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
jedis.del(<span class="hljs-string">"myKey"</span>); <span class="hljs-comment">// åˆ é™¤é”®</span>
jedis.hset(<span class="hljs-string">"myKey"</span>, <span class="hljs-string">"field1"</span>, <span class="hljs-string">"value1"</span>); <span class="hljs-comment">// é‡æ–°è®¾ç½®ä¸ºå“ˆå¸Œè¡¨</span>
</code></pre>
</li>
<li>
<p><strong>ç¡®ä¿ç±»å‹ä¸€è‡´æ€§</strong>ï¼š
åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œç¡®ä¿åœ¨ä¸åŒåœ°æ–¹å¯¹åŒä¸€ä¸ªé”®çš„æ“ä½œç±»å‹ä¸€è‡´ã€‚ä¾‹å¦‚ï¼Œä¸è¦åœ¨ä¸€ä¸ªåœ°æ–¹å°†é”®ç”¨ä½œå­—ç¬¦ä¸²ï¼Œåœ¨å¦ä¸€ä¸ªåœ°æ–¹å°†å…¶ç”¨ä½œåˆ—è¡¨ã€‚</p>
</li>
</ol>
<h4 data-id="heading-5">äº”ã€å®é™…æ¡ˆä¾‹</h4>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ç¤ºä¾‹æ¥è¿›ä¸€æ­¥ç†è§£ <code>WRONGTYPE</code> é”™è¯¯çš„è§£å†³æ–¹æ³•ã€‚</p>
<h5 data-id="heading-6">ç¤ºä¾‹ï¼šé¿å…å­—ç¬¦ä¸²é”®çš„å“ˆå¸Œæ“ä½œ</h5>
<p>å‡è®¾æ‚¨æœ‰ä¸€ä¸ª Redis é”® <code>user:1000</code>ï¼Œå…¶å€¼ä¸ºç”¨æˆ·ä¿¡æ¯çš„ JSON å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
jedis.set(<span class="hljs-string">"user:1000"</span>, <span class="hljs-string">"{\"name\":\"John\", \"age\":30}"</span>); <span class="hljs-comment">// è®¾ç½®ä¸ºå­—ç¬¦ä¸²ç±»å‹</span>
</code></pre>
<p>ç°åœ¨ï¼Œæ‚¨æƒ³å°†ç”¨æˆ·çš„æŸäº›ä¿¡æ¯å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œè€Œä¸æ˜¯ JSON å­—ç¬¦ä¸²ã€‚è¿™æ—¶ï¼Œæ‚¨éœ€è¦é¦–å…ˆåˆ é™¤å­—ç¬¦ä¸²é”®ï¼Œç„¶åå°†å…¶ä½œä¸ºå“ˆå¸Œè¡¨æ¥æ“ä½œï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">type</span> <span class="hljs-operator">=</span> jedis.type(<span class="hljs-string">"user:1000"</span>);
<span class="hljs-keyword">if</span> (!<span class="hljs-string">"hash"</span>.equals(type)) {
    jedis.del(<span class="hljs-string">"user:1000"</span>); <span class="hljs-comment">// åˆ é™¤æ—§çš„å­—ç¬¦ä¸²é”®</span>
}

jedis.hset(<span class="hljs-string">"user:1000"</span>, <span class="hljs-string">"name"</span>, <span class="hljs-string">"John"</span>);
jedis.hset(<span class="hljs-string">"user:1000"</span>, <span class="hljs-string">"age"</span>, <span class="hljs-string">"30"</span>);
</code></pre>
<h5 data-id="heading-7">ç¤ºä¾‹ï¼šä½¿ç”¨å¹¶å‘é›†åˆå¤„ç†é«˜å¹¶å‘</h5>
<p>åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œç¡®ä¿æ“ä½œçš„çº¿ç¨‹å®‰å…¨æ€§æ˜¯å…³é”®ã€‚ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>ConcurrentHashMap</code> å’Œ <code>ThreadLocalRandom</code> æ¥å¤„ç†é«˜å¹¶å‘è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;
<span class="hljs-keyword">import</span> java.util.concurrent.ExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;
<span class="hljs-keyword">import</span> java.util.concurrent.ThreadLocalRandom;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighConcurrencyExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> ConcurrentHashMap&lt;String, UpStream&gt; upStreamMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executorService</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">10</span>); <span class="hljs-comment">// åˆ›å»ºå›ºå®šå¤§å°çš„çº¿ç¨‹æ± </span>

        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
            executorService.execute(() -&gt; {
                <span class="hljs-type">UpStream</span> <span class="hljs-variable">upStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpStream</span>(<span class="hljs-string">"ServiceA"</span>, <span class="hljs-number">10</span>);
                <span class="hljs-type">UpStream</span> <span class="hljs-variable">upStreamDeal</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpStream</span>(upStream.getName(), upStream.getWeight()); <span class="hljs-comment">// åˆ›å»ºç‹¬ç«‹å‰¯æœ¬</span>

                <span class="hljs-type">int</span> <span class="hljs-variable">randomNumber</span> <span class="hljs-operator">=</span> ThreadLocalRandom.current().nextInt(<span class="hljs-number">10</span>);
                <span class="hljs-keyword">if</span> (randomNumber == <span class="hljs-number">0</span>) {
                    upStreamDeal.setWeight(<span class="hljs-number">20</span>);
                }

                <span class="hljs-comment">// å°† upStreamDeal æ”¾å…¥çº¿ç¨‹å®‰å…¨çš„é›†åˆä¸­</span>
                upStreamMap.put(Thread.currentThread().getName(), upStreamDeal);

                <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡é€»è¾‘</span>
                System.out.println(<span class="hljs-string">"Thread: "</span> + Thread.currentThread().getName() + <span class="hljs-string">" upStreamDeal: "</span> + upStreamDeal);
            });
        }

        executorService.shutdown(); <span class="hljs-comment">// å…³é—­çº¿ç¨‹æ± </span>
    }
}
</code></pre>
<h3 data-id="heading-8">ç»“è®º</h3>
<p>åœ¨ä½¿ç”¨ Redis æ—¶ï¼Œ<code>WRONGTYPE Operation against a key holding the wrong kind of value</code> é”™è¯¯æ˜¯ä¸€ä¸ªå¸¸è§ä½†å®¹æ˜“è§£å†³çš„é—®é¢˜ã€‚é€šè¿‡äº†è§£ Redis çš„æ•°æ®ç±»å‹å’Œæ­£ç¡®ä½¿ç”¨ç±»å‹æ£€æŸ¥ä¸é”®æ“ä½œæ–¹æ³•ï¼Œæ‚¨å¯ä»¥æœ‰æ•ˆé¿å…å’Œè§£å†³è¿™ä¸ªé”™è¯¯ã€‚åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œé€šè¿‡ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„å’Œå¹¶å‘å·¥å…·ï¼Œå¯ä»¥è¿›ä¸€æ­¥ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œå¤„ç† Redis çš„ <code>WRONGTYPE</code> é”™è¯¯ã€‚å¦‚æœæ‚¨æœ‰æ›´å¤šé—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de1ddfcab1ac4633907c79f5b1a754c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768787638&amp;x-signature=48mgtKS8VEMkY2KThXW6OOABMGI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çº¿ç¨‹æ± æ·±åº¦è§£æï¼šæ ¸å¿ƒå‚æ•° + æ‹’ç»ç­–ç•¥ + åŠ¨æ€è°ƒæ•´å®æˆ˜]]></title>    <link>https://juejin.cn/post/7593892837897355279</link>    <guid>https://juejin.cn/post/7593892837897355279</guid>    <pubDate>2026-01-12T02:03:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593892837897355279" data-draft-id="7593679324248244224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çº¿ç¨‹æ± æ·±åº¦è§£æï¼šæ ¸å¿ƒå‚æ•° + æ‹’ç»ç­–ç•¥ + åŠ¨æ€è°ƒæ•´å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2026-01-12T02:03:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3109843365802925"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çº¿ç¨‹æ± æ·±åº¦è§£æï¼šæ ¸å¿ƒå‚æ•° + æ‹’ç»ç­–ç•¥ + åŠ¨æ€è°ƒæ•´å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3109843365802925/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‘¸é±¼çš„javaå·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:03:00.000Z" title="Mon Jan 12 2026 02:03:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">çº¿ç¨‹æ± æ·±åº¦è§£æï¼šæ ¸å¿ƒå‚æ•° + æ‹’ç»ç­–ç•¥ + åŠ¨æ€è°ƒæ•´å®æˆ˜</h2>
<p>ä½œä¸ºä¸€åæ‹¥æœ‰å…«å¹´ç»éªŒçš„ Java åç«¯é«˜çº§å¼€å‘ï¼Œæˆ‘è§è¿‡å¤ªå¤šå› çº¿ç¨‹æ± ä½¿ç”¨ä¸å½“å¯¼è‡´çš„çº¿ä¸Šé—®é¢˜ï¼šé«˜å³°æœŸä»»åŠ¡å †ç§¯ OOMã€çº¿ç¨‹æ•°è¿‡å¤šå¯¼è‡´ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢é£™å‡ã€æ‹’ç»ç­–ç•¥é…ç½®ä¸åˆç†ä¸¢å¤±æ ¸å¿ƒä¸šåŠ¡è¯·æ±‚â€¦â€¦ çº¿ç¨‹æ± çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™æ˜¯é«˜å¹¶å‘åœºæ™¯ä¸‹çš„æ ¸å¿ƒåˆ©å™¨ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­çš„å¿…è€ƒç‚¹ã€‚</p>
<p>æœ¬æ–‡å°†ä»<strong>æ ¸å¿ƒå‚æ•°åŸç†</strong>ã€<strong>æ‹’ç»ç­–ç•¥é€‰å‹</strong>ã€<strong>åŠ¨æ€è°ƒæ•´å®æˆ˜</strong>ä¸‰ä¸ªç»´åº¦ï¼Œç»“åˆç”Ÿäº§ç¯å¢ƒç»éªŒï¼Œå¸¦ä½ å½»åº•åƒé€çº¿ç¨‹æ± ï¼Œæ–‡æœ«è¿˜ä¼šé™„ä¸Šæˆ‘åœ¨é¡¹ç›®ä¸­å°è£…çš„<strong>é€šç”¨çº¿ç¨‹æ± å·¥å…·ç±»</strong>ï¼Œå¯ç›´æ¥ CV ä½¿ç”¨ï¼</p>
<h3 data-id="heading-1">ä¸€ã€çº¿ç¨‹æ± æ ¸å¿ƒåŸç†ï¼šThreadPoolExecutor æ ¸å¿ƒå‚æ•°æ·±åº¦è§£æ</h3>
<p>Java ä¸­çš„çº¿ç¨‹æ± æ ¸å¿ƒå®ç°æ˜¯ <code>ThreadPoolExecutor</code>ï¼Œå…¶æ„é€ æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadPoolExecutor</span><span class="hljs-params">(<span class="hljs-type">int</span> corePoolSize,
                          <span class="hljs-type">int</span> maximumPoolSize,
                          <span class="hljs-type">long</span> keepAliveTime,
                          TimeUnit unit,
                          BlockingQueue&lt;Runnable&gt; workQueue,
                          ThreadFactory threadFactory,
                          RejectedExecutionHandler handler)</span> </span>{
    <span class="hljs-comment">// æºç å®ç°</span>
}
</code></pre>
<p>è¿™ 7 ä¸ªæ ¸å¿ƒå‚æ•°å†³å®šäº†çº¿ç¨‹æ± çš„è¡Œä¸ºï¼Œä¸‹é¢é€ä¸€æ‹†è§£ï¼Œç»“åˆå®é™…åœºæ™¯è®²è§£æ¯ä¸ªå‚æ•°çš„ä½œç”¨å’Œé€‰å‹æŠ€å·§ã€‚</p>
<h4 data-id="heading-2">1. æ ¸å¿ƒçº¿ç¨‹æ•°ï¼ˆcorePoolSizeï¼‰ï¼šçº¿ç¨‹æ± çš„å¸¸é©»çº¿ç¨‹æ•°</h4>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šçº¿ç¨‹æ± ç»´æŠ¤çš„æœ€å°çº¿ç¨‹æ•°ï¼Œå³ä½¿çº¿ç¨‹å¤„äºç©ºé—²çŠ¶æ€ï¼Œä¹Ÿä¸ä¼šè¢«é”€æ¯ï¼ˆé™¤éè®¾ç½®äº† <code>allowCoreThreadTimeOut</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>å®æˆ˜é€‰å‹</strong>ï¼š</p>
<ul>
<li>CPU å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚è®¡ç®—ã€æ’åºï¼‰ï¼š<code>corePoolSize = CPUæ ¸å¿ƒæ•° + 1</code>ï¼Œå‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</li>
<li>IO å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚æ•°æ®åº“æ“ä½œã€ç½‘ç»œè¯·æ±‚ï¼‰ï¼š<code>corePoolSize = CPUæ ¸å¿ƒæ•° * 2</code> æˆ– <code>CPUæ ¸å¿ƒæ•° / (1 - é˜»å¡ç³»æ•°)</code>ï¼Œå……åˆ†åˆ©ç”¨ CPU èµ„æºã€‚</li>
<li>ç»éªŒå€¼ï¼šå¯¹äºå¤§å¤šæ•°åç«¯æœåŠ¡ï¼Œ<code>corePoolSize</code> é€šå¸¸è®¾ç½®ä¸º <code>8~32</code>ï¼Œå…·ä½“éœ€ç»“åˆå‹æµ‹ç»“æœè°ƒæ•´ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">2. æœ€å¤§çº¿ç¨‹æ•°ï¼ˆmaximumPoolSizeï¼‰ï¼šçº¿ç¨‹æ± çš„æ‰©å®¹ä¸Šé™</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šçº¿ç¨‹æ± å…è®¸åˆ›å»ºçš„æœ€å¤§çº¿ç¨‹æ•°ï¼Œå½“æ ¸å¿ƒçº¿ç¨‹æ•°å·²æ»¡ä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ›å»ºæ–°çº¿ç¨‹ï¼Œç›´åˆ°è¾¾åˆ°è¯¥ä¸Šé™ã€‚</li>
<li><strong>æ ¸å¿ƒæ³¨æ„ç‚¹</strong>ï¼š<code>maximumPoolSize</code> åªæœ‰åœ¨<strong>ä»»åŠ¡é˜Ÿåˆ—æ»¡äº†</strong>ä¹‹åæ‰ä¼šç”Ÿæ•ˆï¼å¦‚æœä½¿ç”¨æ— ç•Œé˜Ÿåˆ—ï¼ˆå¦‚ <code>LinkedBlockingQueue</code>ï¼‰ï¼Œè¯¥å‚æ•°å°†æ°¸è¿œä¸ä¼šè¢«è§¦å‘ã€‚</li>
<li><strong>å®æˆ˜é€‰å‹</strong>ï¼š<code>maximumPoolSize</code> åº”å¤§äº <code>corePoolSize</code>ï¼Œé€šå¸¸è®¾ç½®ä¸º <code>corePoolSize * 2</code> æˆ–æ ¹æ®ä¸šåŠ¡å³°å€¼æµé‡è°ƒæ•´ï¼Œé¿å…è¿‡åº¦æ‰©å®¹å¯¼è‡´ç³»ç»Ÿèµ„æºè€—å°½ã€‚</li>
</ul>
<h4 data-id="heading-4">3. ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´ï¼ˆkeepAliveTime + unitï¼‰ï¼šçº¿ç¨‹æ± çš„æ”¶ç¼©æœºåˆ¶</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šå½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°è¶…è¿‡ <code>corePoolSize</code> æ—¶ï¼Œç©ºé—²çº¿ç¨‹çš„å­˜æ´»æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´åï¼Œç©ºé—²çº¿ç¨‹ä¼šè¢«é”€æ¯ï¼Œç›´åˆ°çº¿ç¨‹æ•°ç­‰äº <code>corePoolSize</code>ã€‚</li>
<li><strong>å®æˆ˜é€‰å‹</strong>ï¼šIO å¯†é›†å‹ä»»åŠ¡å¯è®¾ç½®è¾ƒé•¿çš„å­˜æ´»æ—¶é—´ï¼ˆå¦‚ 30 ç§’ï¼‰ï¼ŒCPU å¯†é›†å‹ä»»åŠ¡å¯è®¾ç½®è¾ƒçŸ­çš„å­˜æ´»æ—¶é—´ï¼ˆå¦‚ 10 ç§’ï¼‰ï¼Œé¿å…ç©ºé—²çº¿ç¨‹å ç”¨èµ„æºã€‚</li>
</ul>
<h4 data-id="heading-5">4. ä»»åŠ¡é˜Ÿåˆ—ï¼ˆworkQueueï¼‰ï¼šæ ¸å¿ƒçº¿ç¨‹æ± çš„ â€œç¼“å†²æ± â€</h4>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼šç”¨äºå­˜å‚¨ç­‰å¾…æ‰§è¡Œçš„ä»»åŠ¡çš„é˜»å¡é˜Ÿåˆ—ï¼Œå½“æ ¸å¿ƒçº¿ç¨‹æ•°å·²æ»¡æ—¶ï¼Œæ–°ä»»åŠ¡ä¼šè¢«åŠ å…¥é˜Ÿåˆ—ã€‚</p>
</li>
<li>
<p><strong>å¸¸ç”¨é˜Ÿåˆ—ç±»å‹åŠé€‰å‹</strong>ï¼š</p>






























<table><thead><tr><th>é˜Ÿåˆ—ç±»å‹</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>ArrayBlockingQueue</code></td><td>æœ‰ç•Œé˜Ÿåˆ—ï¼Œåˆå§‹åŒ–æ—¶æŒ‡å®šå®¹é‡</td><td>ç”Ÿäº§ç¯å¢ƒé¦–é€‰ï¼Œå¯é¿å…ä»»åŠ¡æ— é™å †ç§¯å¯¼è‡´ OOM</td></tr><tr><td><code>LinkedBlockingQueue</code></td><td>æ— ç•Œé˜Ÿåˆ—ï¼ˆé»˜è®¤å®¹é‡ä¸º <code>Integer.MAX_VALUE</code>ï¼‰</td><td>ä¸æ¨èåœ¨é«˜å¹¶å‘åœºæ™¯ä½¿ç”¨ï¼Œå®¹æ˜“å¯¼è‡´ OOM</td></tr><tr><td><code>SynchronousQueue</code></td><td>åŒæ­¥é˜Ÿåˆ—ï¼Œä¸å­˜å‚¨ä»»åŠ¡ï¼Œç›´æ¥ä¼ é€’ç»™çº¿ç¨‹</td><td>é€‚åˆä»»åŠ¡æ‰§è¡Œæ—¶é—´æçŸ­çš„åœºæ™¯ï¼Œéœ€é…åˆ <code>maximumPoolSize = Integer.MAX_VALUE</code> ä½¿ç”¨</td></tr><tr><td><code>PriorityBlockingQueue</code></td><td>ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ŒæŒ‰ä»»åŠ¡ä¼˜å…ˆçº§æ‰§è¡Œ</td><td>é€‚åˆéœ€è¦ä¼˜å…ˆæ‰§è¡Œæ ¸å¿ƒä»»åŠ¡çš„åœºæ™¯</td></tr></tbody></table>
</li>
<li>
<p><strong>é«˜çº§å¼€å‘ç»éªŒ</strong>ï¼š<strong>ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—</strong>ï¼å¹¶åˆç†è®¾ç½®é˜Ÿåˆ—å®¹é‡ï¼Œç»“åˆæ‹’ç»ç­–ç•¥ä¸€èµ·ä½¿ç”¨ï¼Œé¿å…ä»»åŠ¡å †ç§¯å¯¼è‡´ç³»ç»Ÿå´©æºƒã€‚</p>
</li>
</ul>
<h4 data-id="heading-6">5. çº¿ç¨‹å·¥å‚ï¼ˆthreadFactoryï¼‰ï¼šçº¿ç¨‹çš„ â€œåˆ›å»ºå™¨â€</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šç”¨äºåˆ›å»ºçº¿ç¨‹çš„å·¥å‚ï¼Œå¯è‡ªå®šä¹‰çº¿ç¨‹åç§°ã€ä¼˜å…ˆçº§ã€æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹ç­‰ã€‚</li>
<li><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼šè‡ªå®šä¹‰çº¿ç¨‹åç§°ï¼Œæ–¹ä¾¿åœ¨æ—¥å¿—å’Œç›‘æ§ä¸­æ’æŸ¥é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå°†çº¿ç¨‹åç§°è®¾ç½®ä¸º <code>pool-name-thread-1</code>ï¼Œå¯ä»¥å¿«é€Ÿå®šä½åˆ°æŸä¸ªçº¿ç¨‹æ± çš„çº¿ç¨‹ã€‚</li>
<li><strong>å®æˆ˜ç¤ºä¾‹</strong>ï¼šä½¿ç”¨ <code>guava</code> çš„ <code>ThreadFactoryBuilder</code> æˆ–è‡ªå®šä¹‰ <code>ThreadFactory</code>ï¼š</li>
</ul>
<pre><code class="hljs language-scss" lang="scss">ThreadFactory threadFactory = new <span class="hljs-built_in">ThreadFactoryBuilder</span>()
    <span class="hljs-selector-class">.setNameFormat</span>("order-pool-%d")
    <span class="hljs-selector-class">.setDaemon</span>(false)
    <span class="hljs-selector-class">.build</span>();
</code></pre>
<h4 data-id="heading-7">6. æ‹’ç»ç­–ç•¥ï¼ˆhandlerï¼‰ï¼šä»»åŠ¡é˜Ÿåˆ—æ»¡äº†ä¹‹åçš„ â€œå…œåº•æ–¹æ¡ˆâ€</h4>
<ul>
<li><strong>å®šä¹‰</strong>ï¼šå½“çº¿ç¨‹æ± è¾¾åˆ° <code>maximumPoolSize</code> ä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œæ–°ä»»åŠ¡çš„å¤„ç†ç­–ç•¥ã€‚</li>
<li><strong>æ ¸å¿ƒé‡è¦æ€§</strong>ï¼šæ‹’ç»ç­–ç•¥çš„é€‰æ‹©ç›´æ¥å½±å“ä¸šåŠ¡çš„å¯ç”¨æ€§ï¼Œä¸åˆç†çš„æ‹’ç»ç­–ç•¥ä¼šå¯¼è‡´æ ¸å¿ƒä»»åŠ¡ä¸¢å¤±ã€‚</li>
<li>è¿™éƒ¨åˆ†å†…å®¹éå¸¸é‡è¦ï¼Œæˆ‘ä»¬å•ç‹¬å¼€ä¸€ä¸ªç« èŠ‚æ·±åº¦è§£æã€‚</li>
</ul>
<h3 data-id="heading-8">äºŒã€æ‹’ç»ç­–ç•¥æ·±åº¦è§£æï¼š4 ç§é»˜è®¤ç­–ç•¥ + è‡ªå®šä¹‰ç­–ç•¥å®æˆ˜</h3>
<p>çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥æ˜¯ <code>RejectedExecutionHandler</code> æ¥å£çš„å®ç°ï¼ŒJDK æä¾›äº† 4 ç§é»˜è®¤ç­–ç•¥ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ã€‚</p>
<h4 data-id="heading-9">1. JDK 4 ç§é»˜è®¤æ‹’ç»ç­–ç•¥</h4>






























<table><thead><tr><th>ç­–ç•¥åç§°</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>AbortPolicy</code>ï¼ˆé»˜è®¤ï¼‰</td><td>ç›´æ¥æŠ›å‡º <code>RejectedExecutionException</code> å¼‚å¸¸</td><td>é€‚åˆæ ¸å¿ƒä¸šåŠ¡ï¼Œéœ€è¦å¿«é€Ÿæ„ŸçŸ¥ä»»åŠ¡æäº¤å¤±è´¥çš„åœºæ™¯</td></tr><tr><td><code>CallerRunsPolicy</code></td><td>ç”±æäº¤ä»»åŠ¡çš„çº¿ç¨‹æ‰§è¡Œè¯¥ä»»åŠ¡</td><td>é€‚åˆéæ ¸å¿ƒä¸šåŠ¡ï¼Œå…è®¸ä»»åŠ¡åœ¨è°ƒç”¨çº¿ç¨‹ä¸­æ‰§è¡Œçš„åœºæ™¯ï¼Œå¯é¿å…ä»»åŠ¡ä¸¢å¤±</td></tr><tr><td><code>DiscardPolicy</code></td><td>ç›´æ¥ä¸¢å¼ƒæ–°ä»»åŠ¡ï¼Œä¸æŠ›å‡ºå¼‚å¸¸</td><td>é€‚åˆéæ ¸å¿ƒä¸šåŠ¡ï¼Œå…è®¸ä»»åŠ¡ä¸¢å¤±çš„åœºæ™¯ï¼Œå¦‚æ—¥å¿—æ”¶é›†ã€æ•°æ®ç»Ÿè®¡</td></tr><tr><td><code>DiscardOldestPolicy</code></td><td>ä¸¢å¼ƒé˜Ÿåˆ—ä¸­æœ€æ—§çš„ä»»åŠ¡ï¼Œç„¶åå°è¯•æäº¤æ–°ä»»åŠ¡</td><td>é€‚åˆä»»åŠ¡æ‰§è¡Œæ—¶é—´è¾ƒçŸ­ï¼Œæ—§ä»»åŠ¡çš„ä¼˜å…ˆçº§ä½äºæ–°ä»»åŠ¡çš„åœºæ™¯</td></tr></tbody></table>
<h4 data-id="heading-10">2. è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ï¼šç”Ÿäº§ç¯å¢ƒå¿…å¤‡</h4>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé»˜è®¤çš„æ‹’ç»ç­–ç•¥å¾€å¾€æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä»»åŠ¡è¢«æ‹’ç»æ—¶ï¼Œè®°å½•æ—¥å¿—ã€å‘é€å‘Šè­¦ã€æŒä¹…åŒ–ä»»åŠ¡åˆ°æ•°æ®åº“ç­‰ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ã€‚</p>
<p><strong>å®æˆ˜éœ€æ±‚</strong>ï¼šå½“ä»»åŠ¡è¢«æ‹’ç»æ—¶ï¼Œè®°å½•ä»»åŠ¡è¯¦æƒ…åˆ°æ—¥å¿—ï¼Œå¹¶å‘é€å‘Šè­¦é‚®ä»¶ï¼ŒåŒæ—¶å°è¯•å°†ä»»åŠ¡æŒä¹…åŒ–åˆ° Redisï¼Œå¾…ç³»ç»Ÿæ¢å¤åé‡è¯•ã€‚</p>
<p><strong>è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomRejectedExecutionHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RejectedExecutionHandler</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> logger = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(<span class="hljs-title class_">CustomRejectedExecutionHandler</span>.<span class="hljs-property">class</span>);

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">rejectedExecution</span>(<span class="hljs-params">Runnable r, ThreadPoolExecutor executor</span>) {
        <span class="hljs-comment">// 1. è®°å½•ä»»åŠ¡è¯¦æƒ…</span>
        <span class="hljs-title class_">String</span> taskInfo = r.<span class="hljs-title function_">toString</span>();
        logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">"çº¿ç¨‹æ± ä»»åŠ¡è¢«æ‹’ç»ï¼Œä»»åŠ¡ä¿¡æ¯ï¼š{}ï¼Œçº¿ç¨‹æ± çŠ¶æ€ï¼š{}"</span>, taskInfo, <span class="hljs-title function_">getThreadPoolStatus</span>(executor));

        <span class="hljs-comment">// 2. å‘é€å‘Šè­¦é‚®ä»¶ï¼ˆæ­¤å¤„çœç•¥é‚®ä»¶å‘é€é€»è¾‘ï¼‰</span>
        <span class="hljs-comment">// AlertUtil.sendAlert("çº¿ç¨‹æ± ä»»åŠ¡è¢«æ‹’ç»", "ä»»åŠ¡ä¿¡æ¯ï¼š" + taskInfo);</span>

        <span class="hljs-comment">// 3. æŒä¹…åŒ–ä»»åŠ¡åˆ°Redisï¼ˆæ­¤å¤„çœç•¥RedisæŒä¹…åŒ–é€»è¾‘ï¼‰</span>
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">RedisUtil</span>.<span class="hljs-title function_">lPush</span>(<span class="hljs-string">"thread_pool_rejected_tasks"</span>, taskInfo);
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">"æŒä¹…åŒ–è¢«æ‹’ç»ä»»åŠ¡åˆ°Rediså¤±è´¥"</span>, e);
        }

        <span class="hljs-comment">// 4. å¯é€‰ï¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚å†³å®š</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RejectedExecutionException</span>(<span class="hljs-string">"Task "</span> + r + <span class="hljs-string">" rejected from "</span> + executor);
    }

    <span class="hljs-comment">/**
     * è·å–çº¿ç¨‹æ± çŠ¶æ€
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getThreadPoolStatus</span>(<span class="hljs-params">ThreadPoolExecutor executor</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">format</span>(<span class="hljs-string">"æ ¸å¿ƒçº¿ç¨‹æ•°ï¼š%dï¼Œæœ€å¤§çº¿ç¨‹æ•°ï¼š%dï¼Œå½“å‰çº¿ç¨‹æ•°ï¼š%dï¼Œæ´»è·ƒçº¿ç¨‹æ•°ï¼š%dï¼Œä»»åŠ¡é˜Ÿåˆ—å¤§å°ï¼š%dï¼Œå·²å®Œæˆä»»åŠ¡æ•°ï¼š%d"</span>,
                executor.<span class="hljs-title function_">getCorePoolSize</span>(),
                executor.<span class="hljs-title function_">getMaximumPoolSize</span>(),
                executor.<span class="hljs-title function_">getPoolSize</span>(),
                executor.<span class="hljs-title function_">getActiveCount</span>(),
                executor.<span class="hljs-title function_">getQueue</span>().<span class="hljs-title function_">size</span>(),
                executor.<span class="hljs-title function_">getCompletedTaskCount</span>());
    }
}
</code></pre>
<h4 data-id="heading-11">3. æ‹’ç»ç­–ç•¥é€‰å‹æœ€ä½³å®è·µ</h4>
<ul>
<li><strong>æ ¸å¿ƒä¸šåŠ¡</strong>ï¼šä½¿ç”¨ <code>AbortPolicy</code> + è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ï¼Œå¿«é€Ÿæ„ŸçŸ¥ä»»åŠ¡æäº¤å¤±è´¥ï¼ŒåŒæ—¶è®°å½•æ—¥å¿—å’Œå‘é€å‘Šè­¦ã€‚</li>
<li><strong>éæ ¸å¿ƒä¸šåŠ¡</strong>ï¼šä½¿ç”¨ <code>CallerRunsPolicy</code> æˆ–è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ï¼Œé¿å…ä»»åŠ¡ä¸¢å¤±ã€‚</li>
<li><strong>æ—¥å¿—ã€ç»Ÿè®¡ç­‰ä½ä¼˜å…ˆçº§ä¸šåŠ¡</strong>ï¼šä½¿ç”¨ <code>DiscardPolicy</code> æˆ– <code>DiscardOldestPolicy</code>ã€‚</li>
<li><strong>é«˜çº§ç»éªŒ</strong>ï¼šæ‹’ç»ç­–ç•¥å¿…é¡»å’Œ<strong>æœ‰ç•Œé˜Ÿåˆ—</strong>é…åˆä½¿ç”¨ï¼Œå¦åˆ™æ‹’ç»ç­–ç•¥æ°¸è¿œä¸ä¼šç”Ÿæ•ˆï¼</li>
</ul>
<h3 data-id="heading-12">ä¸‰ã€åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°ï¼šä»ç†è®ºåˆ°å®æˆ˜ï¼Œåº”å¯¹æµé‡æ³¢åŠ¨</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œä¸šåŠ¡æµé‡å¾€å¾€æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œä¾‹å¦‚ï¼Œç”µå•†å¹³å°çš„ç§’æ€æ´»åŠ¨ã€åŒåä¸€çš„æµé‡å³°å€¼ï¼Œä»¥åŠæ—¥å¸¸çš„ä½æµé‡æ—¶æ®µã€‚å¦‚æœçº¿ç¨‹æ± å‚æ•°å›ºå®šä¸å˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´åœ¨å³°å€¼æ—¶ç³»ç»Ÿèµ„æºä¸è¶³ï¼Œåœ¨ä½å³°æ—¶èµ„æºæµªè´¹ã€‚</p>
<p>å› æ­¤ï¼Œ<strong>åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°</strong>æ˜¯é«˜çº§ Java å¼€å‘å¿…é¡»æŒæ¡çš„æŠ€èƒ½ã€‚ThreadPoolExecutor æä¾›äº†ä¸€ç³»åˆ— <code>set</code> æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶è°ƒæ•´æ ¸å¿ƒå‚æ•°ï¼š</p>
<ul>
<li><code>setCorePoolSize(int corePoolSize)</code>ï¼šè°ƒæ•´æ ¸å¿ƒçº¿ç¨‹æ•°</li>
<li><code>setMaximumPoolSize(int maximumPoolSize)</code>ï¼šè°ƒæ•´æœ€å¤§çº¿ç¨‹æ•°</li>
<li><code>setKeepAliveTime(long time, TimeUnit unit)</code>ï¼šè°ƒæ•´ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</li>
<li><code>setRejectedExecutionHandler(RejectedExecutionHandler handler)</code>ï¼šè°ƒæ•´æ‹’ç»ç­–ç•¥</li>
</ul>
<h4 data-id="heading-13">1. åŠ¨æ€è°ƒæ•´çš„æ ¸å¿ƒæ€è·¯</h4>
<ol>
<li><strong>ç›‘æ§çº¿ç¨‹æ± çŠ¶æ€</strong>ï¼šé€šè¿‡çº¿ç¨‹æ± çš„ <code>get</code> æ–¹æ³•è·å–å½“å‰çŠ¶æ€ï¼Œå¦‚æ´»è·ƒçº¿ç¨‹æ•°ã€é˜Ÿåˆ—å¤§å°ã€å·²å®Œæˆä»»åŠ¡æ•°ç­‰ã€‚</li>
<li><strong>æ ¹æ®ä¸šåŠ¡æŒ‡æ ‡è°ƒæ•´å‚æ•°</strong>ï¼šæ ¹æ® QPSã€å“åº”æ—¶é—´ã€CPU ä½¿ç”¨ç‡ç­‰ä¸šåŠ¡æŒ‡æ ‡ï¼ŒåŠ¨æ€è°ƒæ•´æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ã€‚</li>
<li><strong>ç»“åˆé…ç½®ä¸­å¿ƒ</strong>ï¼šä½¿ç”¨ Nacosã€Apollo ç­‰é…ç½®ä¸­å¿ƒï¼Œå®ç°çº¿ç¨‹æ± å‚æ•°çš„åŠ¨æ€é…ç½®ï¼Œæ— éœ€é‡å¯åº”ç”¨ã€‚</li>
</ol>
<h4 data-id="heading-14">2. å®æˆ˜ï¼šç»“åˆ Nacos å®ç°çº¿ç¨‹æ± å‚æ•°åŠ¨æ€è°ƒæ•´</h4>
<p>ä¸‹é¢æˆ‘ä»¬ä»¥ Nacos ä¸ºä¾‹ï¼Œå®ç°çº¿ç¨‹æ± å‚æ•°çš„åŠ¨æ€è°ƒæ•´ã€‚æ ¸å¿ƒæ­¥éª¤æ˜¯ï¼šç›‘å¬ Nacos é…ç½®å˜åŒ–ï¼Œå½“é…ç½®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè°ƒç”¨çº¿ç¨‹æ± çš„ <code>set</code> æ–¹æ³•è°ƒæ•´å‚æ•°ã€‚</p>
<h5 data-id="heading-15">æ­¥éª¤ 1ï¼šæ·»åŠ  Nacos ä¾èµ–</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h5 data-id="heading-16">æ­¥éª¤ 2ï¼šé…ç½® Nacos ç›‘å¬</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@RefreshScope</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadPoolConfig</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(ThreadPoolConfig.class);

    <span class="hljs-meta">@Value("${thread.pool.corePoolSize:8}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> corePoolSize;

    <span class="hljs-meta">@Value("${thread.pool.maximumPoolSize:16}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> maximumPoolSize;

    <span class="hljs-meta">@Value("${thread.pool.keepAliveTime:30}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> keepAliveTime;

    <span class="hljs-meta">@Value("${thread.pool.queueCapacity:1000}")</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> queueCapacity;

    <span class="hljs-comment">/**
     * åˆ›å»ºçº¿ç¨‹æ± 
     */</span>
    <span class="hljs-meta">@Bean(name = "orderThreadPool")</span>
    <span class="hljs-keyword">public</span> ThreadPoolExecutor <span class="hljs-title function_">orderThreadPool</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ThreadFactory</span> <span class="hljs-variable">threadFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadFactoryBuilder</span>()
                .setNameFormat(<span class="hljs-string">"order-pool-%d"</span>)
                .build();

        BlockingQueue&lt;Runnable&gt; workQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBlockingQueue</span>&lt;&gt;(queueCapacity);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadPoolExecutor</span>(
                corePoolSize,
                maximumPoolSize,
                keepAliveTime,
                TimeUnit.SECONDS,
                workQueue,
                threadFactory,
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomRejectedExecutionHandler</span>()
        );
    }

    <span class="hljs-comment">/**
     * ç›‘å¬Nacosé…ç½®å˜åŒ–ï¼ŒåŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°
     */</span>
    <span class="hljs-meta">@EventListener(RefreshEvent.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refreshThreadPool</span><span class="hljs-params">(RefreshEvent event)</span> {
        <span class="hljs-type">ThreadPoolExecutor</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> SpringContextUtil.getBean(<span class="hljs-string">"orderThreadPool"</span>, ThreadPoolExecutor.class);
        <span class="hljs-keyword">if</span> (executor == <span class="hljs-literal">null</span>) {
            logger.error(<span class="hljs-string">"è·å–çº¿ç¨‹æ± å¤±è´¥"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// è°ƒæ•´æ ¸å¿ƒçº¿ç¨‹æ•°</span>
        <span class="hljs-keyword">if</span> (corePoolSize != executor.getCorePoolSize()) {
            executor.setCorePoolSize(corePoolSize);
            logger.info(<span class="hljs-string">"åŠ¨æ€è°ƒæ•´æ ¸å¿ƒçº¿ç¨‹æ•°ï¼š{} -&gt; {}"</span>, executor.getCorePoolSize(), corePoolSize);
        }

        <span class="hljs-comment">// è°ƒæ•´æœ€å¤§çº¿ç¨‹æ•°</span>
        <span class="hljs-keyword">if</span> (maximumPoolSize != executor.getMaximumPoolSize()) {
            executor.setMaximumPoolSize(maximumPoolSize);
            logger.info(<span class="hljs-string">"åŠ¨æ€è°ƒæ•´æœ€å¤§çº¿ç¨‹æ•°ï¼š{} -&gt; {}"</span>, executor.getMaximumPoolSize(), maximumPoolSize);
        }

        <span class="hljs-comment">// è°ƒæ•´ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span>
        <span class="hljs-keyword">if</span> (keepAliveTime != executor.getKeepAliveTime(TimeUnit.SECONDS)) {
            executor.setKeepAliveTime(keepAliveTime, TimeUnit.SECONDS);
            logger.info(<span class="hljs-string">"åŠ¨æ€è°ƒæ•´ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´ï¼š{} -&gt; {} ç§’"</span>, executor.getKeepAliveTime(TimeUnit.SECONDS), keepAliveTime);
        }

        logger.info(<span class="hljs-string">"çº¿ç¨‹æ± å‚æ•°åŠ¨æ€è°ƒæ•´å®Œæˆï¼Œå½“å‰çŠ¶æ€ï¼š{}"</span>, getThreadPoolStatus(executor));
    }

    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">getThreadPoolStatus</span><span class="hljs-params">(ThreadPoolExecutor executor)</span> {
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"æ ¸å¿ƒçº¿ç¨‹æ•°ï¼š%dï¼Œæœ€å¤§çº¿ç¨‹æ•°ï¼š%dï¼Œå½“å‰çº¿ç¨‹æ•°ï¼š%dï¼Œæ´»è·ƒçº¿ç¨‹æ•°ï¼š%dï¼Œä»»åŠ¡é˜Ÿåˆ—å¤§å°ï¼š%dï¼Œå·²å®Œæˆä»»åŠ¡æ•°ï¼š%d"</span>,
                executor.getCorePoolSize(),
                executor.getMaximumPoolSize(),
                executor.getPoolSize(),
                executor.getActiveCount(),
                executor.getQueue().size(),
                executor.getCompletedTaskCount());
    }
}
</code></pre>
<h5 data-id="heading-17">æ­¥éª¤ 3ï¼šNacos é…ç½®æ–‡ä»¶</h5>
<p>åœ¨ Nacos ä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># çº¿ç¨‹æ± é…ç½®</span>
<span class="hljs-attr">thread.pool.corePoolSize</span>=<span class="hljs-number">8</span>
<span class="hljs-attr">thread.pool.maximumPoolSize</span>=<span class="hljs-number">16</span>
<span class="hljs-attr">thread.pool.keepAliveTime</span>=<span class="hljs-number">30</span>
<span class="hljs-attr">thread.pool.queueCapacity</span>=<span class="hljs-number">1000</span>
</code></pre>
<p>å½“æˆ‘ä»¬åœ¨ Nacos ä¸­ä¿®æ”¹è¿™äº›é…ç½®æ—¶ï¼ŒSpring Cloud ä¼šè‡ªåŠ¨è§¦å‘ <code>RefreshEvent</code> äº‹ä»¶ï¼Œæˆ‘ä»¬çš„ç›‘å¬æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œä»è€ŒåŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°ã€‚</p>
<h4 data-id="heading-18">3. åŠ¨æ€è°ƒæ•´çš„æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>æ ¸å¿ƒçº¿ç¨‹æ•°è°ƒæ•´</strong>ï¼šå½“æ ¸å¿ƒçº¿ç¨‹æ•°è°ƒå¤§æ—¶ï¼Œçº¿ç¨‹æ± ä¼šç«‹å³åˆ›å»ºæ–°çº¿ç¨‹ï¼›å½“æ ¸å¿ƒçº¿ç¨‹æ•°è°ƒå°æ—¶ï¼Œç©ºé—²çš„æ ¸å¿ƒçº¿ç¨‹ä¸ä¼šè¢«ç«‹å³é”€æ¯ï¼Œéœ€è¦ç­‰å¾… <code>keepAliveTime</code> åæ‰ä¼šè¢«é”€æ¯ï¼ˆå¦‚æœè®¾ç½®äº† <code>allowCoreThreadTimeOut</code>ï¼‰ã€‚</li>
<li><strong>æœ€å¤§çº¿ç¨‹æ•°è°ƒæ•´</strong>ï¼šæœ€å¤§çº¿ç¨‹æ•°åªèƒ½è°ƒå¤§ï¼Œä¸èƒ½è°ƒå°ï¼Ÿ<strong>ä¸æ˜¯çš„</strong>ï¼Œæœ€å¤§çº¿ç¨‹æ•°å¯ä»¥è°ƒå°ï¼Œä½†å·²ç»åˆ›å»ºçš„è¶…è¿‡æ–°æœ€å¤§çº¿ç¨‹æ•°çš„çº¿ç¨‹ï¼Œä¼šåœ¨ç©ºé—²æ—¶è¢«é”€æ¯ã€‚</li>
<li><strong>é˜Ÿåˆ—å®¹é‡è°ƒæ•´</strong>ï¼šThreadPoolExecutor æ²¡æœ‰æä¾› <code>setQueueCapacity</code> æ–¹æ³•ï¼Œå› æ­¤é˜Ÿåˆ—å®¹é‡æ— æ³•åŠ¨æ€è°ƒæ•´ã€‚å¦‚æœéœ€è¦åŠ¨æ€è°ƒæ•´é˜Ÿåˆ—å®¹é‡ï¼Œå¯ä»¥è‡ªå®šä¹‰é˜»å¡é˜Ÿåˆ—ã€‚</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šåœ¨åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°æ—¶ï¼Œå¿…é¡»ç›‘æ§çº¿ç¨‹æ± çš„çŠ¶æ€ï¼Œå½“å‚æ•°è°ƒæ•´å¼‚å¸¸æ—¶ï¼ŒåŠæ—¶å‘é€å‘Šè­¦ã€‚</li>
</ol>
<h3 data-id="heading-19">å››ã€é«˜çº§å¼€å‘å¿…å¤‡ï¼šé€šç”¨çº¿ç¨‹æ± å·¥å…·ç±»å°è£…</h3>
<p>ä½œä¸ºä¸€åé«˜çº§ Java å¼€å‘ï¼Œæˆ‘åœ¨å¤šä¸ªé¡¹ç›®ä¸­å°è£…è¿‡çº¿ç¨‹æ± å·¥å…·ç±»ï¼Œä¸‹é¢æ˜¯æˆ‘æ€»ç»“çš„é€šç”¨å·¥å…·ç±»ï¼ŒåŒ…å«äº†çº¿ç¨‹æ± çš„åˆ›å»ºã€åŠ¨æ€è°ƒæ•´ã€ç›‘æ§ç­‰åŠŸèƒ½ï¼Œå¯ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-20">1. çº¿ç¨‹æ± æšä¸¾ç±»ï¼šç®¡ç†æ‰€æœ‰çº¿ç¨‹æ± </h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ThreadPoolEnum</span> {

    <span class="hljs-built_in">ORDER_POOL</span>(<span class="hljs-string">"orderPool"</span>, <span class="hljs-string">"è®¢å•å¤„ç†çº¿ç¨‹æ± "</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>, <span class="hljs-number">30</span>, <span class="hljs-number">1000</span>),
    <span class="hljs-built_in">PAY_POOL</span>(<span class="hljs-string">"payPool"</span>, <span class="hljs-string">"æ”¯ä»˜å¤„ç†çº¿ç¨‹æ± "</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">30</span>, <span class="hljs-number">500</span>),
    <span class="hljs-built_in">LOG_POOL</span>(<span class="hljs-string">"logPool"</span>, <span class="hljs-string">"æ—¥å¿—å¤„ç†çº¿ç¨‹æ± "</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">60</span>, <span class="hljs-number">1000</span>);

    <span class="hljs-comment">/**
     * çº¿ç¨‹æ± åç§°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> poolName;

    <span class="hljs-comment">/**
     * çº¿ç¨‹æ± æè¿°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> desc;

    <span class="hljs-comment">/**
     * æ ¸å¿ƒçº¿ç¨‹æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> corePoolSize;

    <span class="hljs-comment">/**
     * æœ€å¤§çº¿ç¨‹æ•°
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> maximumPoolSize;

    <span class="hljs-comment">/**
     * ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´ï¼ˆç§’ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> keepAliveTime;

    <span class="hljs-comment">/**
     * é˜Ÿåˆ—å®¹é‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> queueCapacity;

    <span class="hljs-built_in">ThreadPoolEnum</span>(<span class="hljs-type">String</span> poolName, <span class="hljs-type">String</span> desc, <span class="hljs-type">int</span> corePoolSize, <span class="hljs-type">int</span> maximumPoolSize, <span class="hljs-type">long</span> keepAliveTime, <span class="hljs-type">int</span> queueCapacity) {
        <span class="hljs-keyword">this</span>.poolName = poolName;
        <span class="hljs-keyword">this</span>.desc = desc;
        <span class="hljs-keyword">this</span>.corePoolSize = corePoolSize;
        <span class="hljs-keyword">this</span>.maximumPoolSize = maximumPoolSize;
        <span class="hljs-keyword">this</span>.keepAliveTime = keepAliveTime;
        <span class="hljs-keyword">this</span>.queueCapacity = queueCapacity;
    }

    <span class="hljs-comment">// getter æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-title">getPoolName</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> poolName;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">String</span> <span class="hljs-title">getDesc</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> desc;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title">getCorePoolSize</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> corePoolSize;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title">getMaximumPoolSize</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> maximumPoolSize;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title">getKeepAliveTime</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> keepAliveTime;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title">getQueueCapacity</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> queueCapacity;
    }
}
</code></pre>
<h4 data-id="heading-21">2. é€šç”¨çº¿ç¨‹æ± å·¥å…·ç±»</h4>
<pre><code class="hljs language-scss" lang="scss">public class ThreadPoolUtil {

    private static final Logger logger = LoggerFactory<span class="hljs-selector-class">.getLogger</span>(ThreadPoolUtil.class);

    <span class="hljs-comment">/**
     * çº¿ç¨‹æ± ç¼“å­˜
     */</span>
    private static final Map&lt;String, ThreadPoolExecutor&gt; THREAD_POOL_MAP = new ConcurrentHashMap&lt;&gt;();

    static {
        <span class="hljs-comment">// åˆå§‹åŒ–æ‰€æœ‰çº¿ç¨‹æ± </span>
        for (ThreadPoolEnum threadPoolEnum : ThreadPoolEnum.values()) {
            ThreadPoolExecutor executor = <span class="hljs-built_in">createThreadPool</span>(threadPoolEnum);
            THREAD_POOL_MAP<span class="hljs-selector-class">.put</span>(threadPoolEnum.getPoolName(), executor);
            logger<span class="hljs-selector-class">.info</span>("åˆå§‹åŒ–çº¿ç¨‹æ± ï¼š{}ï¼Œæè¿°ï¼š{}", threadPoolEnum.getPoolName(), threadPoolEnum<span class="hljs-selector-class">.getDesc</span>());
        }

        <span class="hljs-comment">// æ³¨å†ŒJVMå…³é—­é’©å­ï¼Œä¼˜é›…å…³é—­çº¿ç¨‹æ± </span>
        Runtime<span class="hljs-selector-class">.getRuntime</span>()<span class="hljs-selector-class">.addShutdownHook</span>(new Thread(() -&gt; {
            logger<span class="hljs-selector-class">.info</span>("JVMå…³é—­ï¼Œå¼€å§‹ä¼˜é›…å…³é—­æ‰€æœ‰çº¿ç¨‹æ± ");
            for (Map.Entry&lt;String, ThreadPoolExecutor&gt; entry : THREAD_POOL_MAP.entrySet()) {
                <span class="hljs-built_in">shutdownThreadPool</span>(entry.getKey(), entry<span class="hljs-selector-class">.getValue</span>());
            }
        }));
    }

    <span class="hljs-comment">/**
     * åˆ›å»ºçº¿ç¨‹æ± 
     */</span>
    private static ThreadPoolExecutor <span class="hljs-built_in">createThreadPool</span>(ThreadPoolEnum threadPoolEnum) {
        ThreadFactory threadFactory = new <span class="hljs-built_in">ThreadFactoryBuilder</span>()
                <span class="hljs-selector-class">.setNameFormat</span>(threadPoolEnum.getPoolName() + "-%d")
                <span class="hljs-selector-class">.build</span>();

        BlockingQueue&lt;Runnable&gt; workQueue = new ArrayBlockingQueue&lt;&gt;(threadPoolEnum.getQueueCapacity());

        return new <span class="hljs-built_in">ThreadPoolExecutor</span>(
                threadPoolEnum.getCorePoolSize(),
                threadPoolEnum<span class="hljs-selector-class">.getMaximumPoolSize</span>(),
                threadPoolEnum<span class="hljs-selector-class">.getKeepAliveTime</span>(),
                TimeUnit<span class="hljs-selector-class">.SECONDS</span>,
                workQueue,
                threadFactory,
                new <span class="hljs-built_in">CustomRejectedExecutionHandler</span>()
        );
    }

    <span class="hljs-comment">/**
     * è·å–çº¿ç¨‹æ± 
     */</span>
    public static ThreadPoolExecutor <span class="hljs-built_in">getThreadPool</span>(String poolName) {
        ThreadPoolExecutor executor = THREAD_POOL_MAP<span class="hljs-selector-class">.get</span>(poolName);
        if (executor == null) {
            throw new <span class="hljs-built_in">IllegalArgumentException</span>("çº¿ç¨‹æ± ä¸å­˜åœ¨ï¼š" + poolName);
        }
        return executor;
    }

    <span class="hljs-comment">/**
     * åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°
     */</span>
    public static void <span class="hljs-built_in">adjustThreadPool</span>(String poolName, int corePoolSize, int maximumPoolSize, long keepAliveTime) {
        ThreadPoolExecutor executor = <span class="hljs-built_in">getThreadPool</span>(poolName);
        if (executor == null) {
            return;
        }

        <span class="hljs-comment">// è°ƒæ•´æ ¸å¿ƒçº¿ç¨‹æ•°</span>
        if (corePoolSize &gt; <span class="hljs-number">0</span> &amp;&amp; corePoolSize != executor.getCorePoolSize()) {
            executor<span class="hljs-selector-class">.setCorePoolSize</span>(corePoolSize);
            logger<span class="hljs-selector-class">.info</span>("åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± ã€{}ã€‘æ ¸å¿ƒçº¿ç¨‹æ•°ï¼š{} -&gt; {}", poolName, executor.getCorePoolSize(), corePoolSize);
        }

        <span class="hljs-comment">// è°ƒæ•´æœ€å¤§çº¿ç¨‹æ•°</span>
        if (maximumPoolSize &gt; <span class="hljs-number">0</span> &amp;&amp; maximumPoolSize != executor.getMaximumPoolSize()) {
            executor<span class="hljs-selector-class">.setMaximumPoolSize</span>(maximumPoolSize);
            logger<span class="hljs-selector-class">.info</span>("åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± ã€{}ã€‘æœ€å¤§çº¿ç¨‹æ•°ï¼š{} -&gt; {}", poolName, executor.getMaximumPoolSize(), maximumPoolSize);
        }

        <span class="hljs-comment">// è°ƒæ•´ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span>
        if (keepAliveTime &gt; <span class="hljs-number">0</span> &amp;&amp; keepAliveTime != executor.getKeepAliveTime(TimeUnit.SECONDS)) {
            executor<span class="hljs-selector-class">.setKeepAliveTime</span>(keepAliveTime, TimeUnit.SECONDS);
            logger<span class="hljs-selector-class">.info</span>("åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± ã€{}ã€‘ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´ï¼š{} -&gt; {} ç§’", poolName, executor.getKeepAliveTime(TimeUnit.SECONDS), keepAliveTime);
        }

        logger<span class="hljs-selector-class">.info</span>("çº¿ç¨‹æ± ã€{}ã€‘å‚æ•°è°ƒæ•´å®Œæˆï¼Œå½“å‰çŠ¶æ€ï¼š{}", poolName, getThreadPoolStatus(executor));
    }

    <span class="hljs-comment">/**
     * ä¼˜é›…å…³é—­çº¿ç¨‹æ± 
     */</span>
    private static void <span class="hljs-built_in">shutdownThreadPool</span>(String poolName, ThreadPoolExecutor executor) {
        if (executor == null || executor.isShutdown()) {
            return;
        }

        logger<span class="hljs-selector-class">.info</span>("å¼€å§‹å…³é—­çº¿ç¨‹æ± ï¼š{}ï¼Œå½“å‰çŠ¶æ€ï¼š{}", poolName, getThreadPoolStatus(executor));

        <span class="hljs-comment">// åœæ­¢æ¥æ”¶æ–°ä»»åŠ¡</span>
        executor<span class="hljs-selector-class">.shutdown</span>();

        try {
            <span class="hljs-comment">// ç­‰å¾…60ç§’ï¼Œè®©å·²æäº¤çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆ</span>
            if (!executor.awaitTermination(<span class="hljs-number">60</span>, TimeUnit.SECONDS)) {
                <span class="hljs-comment">// è¶…æ—¶åï¼Œå¼ºåˆ¶å…³é—­çº¿ç¨‹æ± </span>
                logger<span class="hljs-selector-class">.warn</span>("çº¿ç¨‹æ± ã€{}ã€‘å…³é—­è¶…æ—¶ï¼Œå¼ºåˆ¶å…³é—­", poolName);
                List&lt;Runnable&gt; droppedTasks = executor<span class="hljs-selector-class">.shutdownNow</span>();
                logger<span class="hljs-selector-class">.warn</span>("çº¿ç¨‹æ± ã€{}ã€‘å¼ºåˆ¶å…³é—­ï¼Œä¸¢å¼ƒä»»åŠ¡æ•°ï¼š{}", poolName, droppedTasks.size());
            }
        } catch (InterruptedException e) {
            logger<span class="hljs-selector-class">.error</span>("çº¿ç¨‹æ± ã€{}ã€‘å…³é—­è¢«ä¸­æ–­", poolName, e);
            executor<span class="hljs-selector-class">.shutdownNow</span>();
        }

        logger<span class="hljs-selector-class">.info</span>("çº¿ç¨‹æ± ã€{}ã€‘å…³é—­å®Œæˆ", poolName);
    }

    <span class="hljs-comment">/**
     * è·å–çº¿ç¨‹æ± çŠ¶æ€
     */</span>
    public static String <span class="hljs-built_in">getThreadPoolStatus</span>(ThreadPoolExecutor executor) {
        return String<span class="hljs-selector-class">.format</span>("æ ¸å¿ƒçº¿ç¨‹æ•°ï¼š%dï¼Œæœ€å¤§çº¿ç¨‹æ•°ï¼š%dï¼Œå½“å‰çº¿ç¨‹æ•°ï¼š%dï¼Œæ´»è·ƒçº¿ç¨‹æ•°ï¼š%dï¼Œä»»åŠ¡é˜Ÿåˆ—å¤§å°ï¼š%dï¼Œå·²å®Œæˆä»»åŠ¡æ•°ï¼š%dï¼Œæ˜¯å¦å…³é—­ï¼š%s",
                executor.getCorePoolSize(),
                executor<span class="hljs-selector-class">.getMaximumPoolSize</span>(),
                executor<span class="hljs-selector-class">.getPoolSize</span>(),
                executor<span class="hljs-selector-class">.getActiveCount</span>(),
                executor<span class="hljs-selector-class">.getQueue</span>()<span class="hljs-selector-class">.size</span>(),
                executor<span class="hljs-selector-class">.getCompletedTaskCount</span>(),
                executor<span class="hljs-selector-class">.isShutdown</span>());
    }

    <span class="hljs-comment">/**
     * æäº¤ä»»åŠ¡
     */</span>
    public static void <span class="hljs-built_in">submitTask</span>(String poolName, Runnable task) {
        ThreadPoolExecutor executor = <span class="hljs-built_in">getThreadPool</span>(poolName);
        executor<span class="hljs-selector-class">.submit</span>(task);
    }

    <span class="hljs-comment">/**
     * æäº¤ä»»åŠ¡ï¼Œè¿”å›Future
     */</span>
    public static &lt;T&gt; Future&lt;T&gt; <span class="hljs-built_in">submitTask</span>(String poolName, Callable&lt;T&gt; task) {
        ThreadPoolExecutor executor = <span class="hljs-built_in">getThreadPool</span>(poolName);
        return executor<span class="hljs-selector-class">.submit</span>(task);
    }
}
</code></pre>
<h4 data-id="heading-22">3. Spring ä¸Šä¸‹æ–‡å·¥å…·ç±»</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpringContextUtil</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ApplicationContextAware</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">ApplicationContext</span> applicationContext;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setApplicationContext</span>(<span class="hljs-title class_">ApplicationContext</span> applicationContext) throws <span class="hljs-title class_">BeansException</span> {
        <span class="hljs-title class_">SpringContextUtil</span>.<span class="hljs-property">applicationContext</span> = applicationContext;
    }

    <span class="hljs-comment">/**
     * è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> beanName, Class&lt;T&gt; requiredType</span>) {
        <span class="hljs-keyword">return</span> applicationContext.<span class="hljs-title function_">getBean</span>(beanName, requiredType);
    }

    <span class="hljs-comment">/**
     * è·å–Bean
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; T <span class="hljs-title function_">getBean</span>(<span class="hljs-params">Class&lt;T&gt; requiredType</span>) {
        <span class="hljs-keyword">return</span> applicationContext.<span class="hljs-title function_">getBean</span>(requiredType);
    }
}
</code></pre>
<h3 data-id="heading-23">äº”ã€çº¿ç¨‹æ± æœ€ä½³å®è·µä¸é¿å‘æŒ‡å—</h3>
<p>ä½œä¸ºä¸€åå…«å¹´ç»éªŒçš„é«˜çº§ Java å¼€å‘ï¼Œæˆ‘æ€»ç»“äº†ä»¥ä¸‹çº¿ç¨‹æ± ä½¿ç”¨çš„æœ€ä½³å®è·µå’Œé¿å‘æŒ‡å—ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ åœ¨é¡¹ç›®ä¸­é¿å…è¸©å‘ã€‚</p>
<h4 data-id="heading-24">1. æœ€ä½³å®è·µ</h4>
<ol>
<li><strong>ä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—</strong>ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—ï¼Œé¿å…ä»»åŠ¡æ— é™å †ç§¯å¯¼è‡´ OOMã€‚</li>
<li><strong>è‡ªå®šä¹‰çº¿ç¨‹å·¥å‚</strong>ï¼šè®¾ç½®æœ‰æ„ä¹‰çš„çº¿ç¨‹åç§°ï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚</li>
<li><strong>ä½¿ç”¨è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥</strong>ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œè‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ï¼Œè®°å½•æ—¥å¿—ã€å‘é€å‘Šè­¦ã€æŒä¹…åŒ–ä»»åŠ¡ç­‰ã€‚</li>
<li><strong>åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°</strong>ï¼šç»“åˆé…ç½®ä¸­å¿ƒï¼Œå®ç°çº¿ç¨‹æ± å‚æ•°çš„åŠ¨æ€è°ƒæ•´ï¼Œåº”å¯¹æµé‡æ³¢åŠ¨ã€‚</li>
<li><strong>ä¼˜é›…å…³é—­çº¿ç¨‹æ± </strong>ï¼šæ³¨å†Œ JVM å…³é—­é’©å­ï¼Œåœ¨åº”ç”¨å…³é—­æ—¶ï¼Œä¼˜é›…å…³é—­çº¿ç¨‹æ± ï¼Œé¿å…ä»»åŠ¡ä¸¢å¤±ã€‚</li>
<li><strong>ç›‘æ§çº¿ç¨‹æ± çŠ¶æ€</strong>ï¼šé€šè¿‡ Spring Boot Actuator æˆ–è‡ªå®šä¹‰ç›‘æ§ï¼Œç›‘æ§çº¿ç¨‹æ± çš„çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°é—®é¢˜ã€‚</li>
<li><strong>é¿å…ä½¿ç”¨ Executors åˆ›å»ºçº¿ç¨‹æ± </strong>ï¼š<code>Executors</code> æä¾›çš„ <code>newFixedThreadPool</code>ã€<code>newCachedThreadPool</code> ç­‰æ–¹æ³•ï¼Œé»˜è®¤ä½¿ç”¨æ— ç•Œé˜Ÿåˆ—ï¼Œå®¹æ˜“å¯¼è‡´ OOMã€‚</li>
</ol>
<h4 data-id="heading-25">2. é¿å‘æŒ‡å—</h4>
<ol>
<li>
<p><strong>å‘ 1</strong>ï¼šä½¿ç”¨æ— ç•Œé˜Ÿåˆ—ï¼Œå¯¼è‡´ä»»åŠ¡å †ç§¯ï¼Œæœ€ç»ˆ OOMã€‚</p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—ï¼Œç»“åˆæ‹’ç»ç­–ç•¥ä¸€èµ·ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 2</strong>ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°è®¾ç½®è¿‡å¤§ï¼Œå¯¼è‡´ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢é£™å‡ï¼Œç³»ç»Ÿæ€§èƒ½ä¸‹é™ã€‚</p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ ¹æ®ä¸šåŠ¡ç±»å‹ï¼ˆCPU å¯†é›†å‹ / IO å¯†é›†å‹ï¼‰å’Œå‹æµ‹ç»“æœï¼Œåˆç†è®¾ç½®æ ¸å¿ƒçº¿ç¨‹æ•°å’Œæœ€å¤§çº¿ç¨‹æ•°ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 3</strong>ï¼šæ‹’ç»ç­–ç•¥é…ç½®ä¸åˆç†ï¼Œå¯¼è‡´æ ¸å¿ƒä»»åŠ¡ä¸¢å¤±ã€‚</p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ ¸å¿ƒä¸šåŠ¡ä½¿ç”¨ <code>AbortPolicy</code> + è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†ï¼Œéæ ¸å¿ƒä¸šåŠ¡ä½¿ç”¨ <code>CallerRunsPolicy</code> æˆ–è‡ªå®šä¹‰æ‹’ç»ç­–ç•¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 4</strong>ï¼šçº¿ç¨‹æ± æ²¡æœ‰ä¼˜é›…å…³é—­ï¼Œå¯¼è‡´åº”ç”¨å…³é—­æ—¶ä»»åŠ¡ä¸¢å¤±ã€‚</p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ³¨å†Œ JVM å…³é—­é’©å­ï¼Œåœ¨åº”ç”¨å…³é—­æ—¶ï¼Œè°ƒç”¨ <code>shutdown()</code> æ–¹æ³•ï¼Œç­‰å¾…ä»»åŠ¡æ‰§è¡Œå®Œæˆã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 5</strong>ï¼šåŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°æ—¶ï¼Œæ²¡æœ‰ç›‘æ§çº¿ç¨‹æ± çŠ¶æ€ï¼Œå¯¼è‡´å‚æ•°è°ƒæ•´å¼‚å¸¸ã€‚</p>
<ul>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨åŠ¨æ€è°ƒæ•´çº¿ç¨‹æ± å‚æ•°æ—¶ï¼Œè®°å½•çº¿ç¨‹æ± çš„çŠ¶æ€ï¼Œå¹¶å‘é€å‘Šè­¦ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-26">å…­ã€æ€»ç»“</h3>
<p>çº¿ç¨‹æ± æ˜¯ Java åç«¯å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„å·¥å…·ï¼ŒæŒæ¡çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ã€æ‹’ç»ç­–ç•¥å’ŒåŠ¨æ€è°ƒæ•´æŠ€å·§ï¼Œæ˜¯é«˜çº§ Java å¼€å‘çš„å¿…å¤‡æŠ€èƒ½ã€‚æœ¬æ–‡ä»é«˜çº§ Java å¼€å‘çš„è§†è§’ï¼Œæ·±åº¦è§£æäº†çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°ï¼Œè¯¦ç»†è®²è§£äº† 4 ç§é»˜è®¤æ‹’ç»ç­–ç•¥å’Œè‡ªå®šä¹‰æ‹’ç»ç­–ç•¥çš„å®æˆ˜ï¼Œç»“åˆ Nacos å®ç°äº†çº¿ç¨‹æ± å‚æ•°çš„åŠ¨æ€è°ƒæ•´ï¼Œå¹¶å°è£…äº†å¯ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨çš„é€šç”¨çº¿ç¨‹æ± å·¥å…·ç±»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®šæœŸå½’æ¡£å†å²æ•°æ®å®æˆ˜æŒ‡å—ï¼šä»æ–¹æ¡ˆè®¾è®¡åˆ°è½åœ°ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7593692797765632042</link>    <guid>https://juejin.cn/post/7593692797765632042</guid>    <pubDate>2026-01-12T02:49:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593692797765632042" data-draft-id="7593342203823456262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®šæœŸå½’æ¡£å†å²æ•°æ®å®æˆ˜æŒ‡å—ï¼šä»æ–¹æ¡ˆè®¾è®¡åˆ°è½åœ°ä¼˜åŒ–"/> <meta itemprop="keywords" content="åç«¯,åˆ†å¸ƒå¼"/> <meta itemprop="datePublished" content="2026-01-12T02:49:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å›å®¶è·¯ä¸Šç»•äº†å¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/536217404587134"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®šæœŸå½’æ¡£å†å²æ•°æ®å®æˆ˜æŒ‡å—ï¼šä»æ–¹æ¡ˆè®¾è®¡åˆ°è½åœ°ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/536217404587134/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å›å®¶è·¯ä¸Šç»•äº†å¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:49:30.000Z" title="Mon Jan 12 2026 02:49:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®šæœŸå½’æ¡£å†å²æ•°æ®å®æˆ˜æŒ‡å—ï¼šä»æ–¹æ¡ˆè®¾è®¡åˆ°è½åœ°ä¼˜åŒ–</h2>
<p>åœ¨åç«¯ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸šåŠ¡æ•°æ®ä¼šä¸æ–­ç´¯ç§¯â€”â€”è®¢å•è¡¨ã€äº¤æ˜“æµæ°´è¡¨ã€ç”¨æˆ·æ“ä½œæ—¥å¿—ç­‰æ ¸å¿ƒè¡¨çš„æ•°æ®é‡å¯èƒ½ä»ç™¾ä¸‡çº§å¿«é€Ÿå¢é•¿åˆ°åƒä¸‡ç”šè‡³äº¿çº§ã€‚å¤§é‡å†å²æ•°æ®ä¼šå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ã€å­˜å‚¨æˆæœ¬æ”€å‡ã€å¤‡ä»½æ¢å¤è€—æ—¶å¢åŠ ç­‰é—®é¢˜ã€‚å®šæœŸå½’æ¡£å†å²æ•°æ®ï¼Œå°†ä¸å¸¸ç”¨çš„å†å²æ•°æ®è¿ç§»è‡³ä½æˆæœ¬å­˜å‚¨ä»‹è´¨ï¼Œæ˜¯ä¿éšœç³»ç»Ÿé•¿æœŸç¨³å®šè¿è¡Œçš„å…³é”®æ‰‹æ®µã€‚æœ¬æ–‡ä»åœºæ™¯åˆ†æã€æ–¹æ¡ˆè®¾è®¡ã€å®æˆ˜å®ç°åˆ°ä¼˜åŒ–é¿å‘ï¼Œå®Œæ•´æ‹†è§£å®šæœŸå½’æ¡£å†å²æ•°æ®çš„å…¨æµç¨‹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆè¦åšå†å²æ•°æ®å½’æ¡£ï¼Ÿæ ¸å¿ƒä»·å€¼ä¸åº”ç”¨åœºæ™¯</h3>
<p>å†å²æ•°æ®å½’æ¡£å¹¶éâ€œåˆ é™¤æ•°æ®â€ï¼Œè€Œæ˜¯â€œåˆ†çº§å­˜å‚¨â€â€”â€”å°†æ´»è·ƒæ•°æ®ï¼ˆå¦‚è¿‘3ä¸ªæœˆè®¢å•ï¼‰ä¿ç•™åœ¨é«˜æ€§èƒ½æ•°æ®åº“ï¼ˆMySQLã€PostgreSQLï¼‰ï¼Œå°†éæ´»è·ƒå†å²æ•°æ®ï¼ˆå¦‚3ä¸ªæœˆå‰è®¢å•ï¼‰è¿ç§»è‡³ä½æˆæœ¬å­˜å‚¨ï¼ˆå†å²åº“ã€å¯¹è±¡å­˜å‚¨ã€æ•°æ®ä»“åº“ï¼‰ï¼Œæ ¸å¿ƒä»·å€¼ä½“ç°åœ¨4ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li><strong>æå‡æŸ¥è¯¢æ€§èƒ½</strong>ï¼šå‡å°‘æ ¸å¿ƒä¸šåŠ¡è¡¨çš„æ•°æ®é‡ï¼Œé™ä½ç´¢å¼•ä½“ç§¯ï¼Œè®©æŸ¥è¯¢ã€ç»Ÿè®¡æ“ä½œæ›´å¿«ï¼ˆå¦‚è®¢å•åˆ—è¡¨æŸ¥è¯¢ä»5ç§’ä¼˜åŒ–åˆ°500æ¯«ç§’ï¼‰ï¼›</li>
<li><strong>é™ä½å­˜å‚¨æˆæœ¬</strong>ï¼šé«˜æ€§èƒ½æ•°æ®åº“å­˜å‚¨æˆæœ¬é«˜ï¼Œå†å²æ•°æ®å¯è¿ç§»è‡³ä½æˆæœ¬çš„äº‘å­˜å‚¨ï¼ˆå¦‚S3ã€MinIOï¼‰æˆ–ä½é…ç½®æ•°æ®åº“ï¼Œå¤§å¹…èŠ‚çœå¼€æ”¯ï¼›</li>
<li><strong>ç®€åŒ–å¤‡ä»½æ¢å¤</strong>ï¼šæ ¸å¿ƒè¡¨æ•°æ®é‡å‡å°‘ï¼Œå¤‡ä»½æ–‡ä»¶ä½“ç§¯å˜å°ï¼Œå¤‡ä»½æ—¶é—´ä»å‡ å°æ—¶ç¼©çŸ­åˆ°å‡ ååˆ†é’Ÿï¼Œæ•…éšœæ—¶æ¢å¤é€Ÿåº¦æ›´å¿«ï¼›</li>
<li><strong>åˆè§„ä¸è¿½æº¯</strong>ï¼šé‡‘èã€ç”µå•†ç­‰è¡Œä¸šéœ€ç•™å­˜äº¤æ˜“æ•°æ®3-7å¹´ä»¥æ»¡è¶³ç›‘ç®¡è¦æ±‚ï¼Œå½’æ¡£å¯å®ç°æ•°æ®é•¿æœŸç•™å­˜ï¼ŒåŒæ—¶ä¸å½±å“åœ¨çº¿ç³»ç»Ÿæ€§èƒ½ã€‚</li>
</ul>
<p>å¸¸è§å½’æ¡£åœºæ™¯ï¼š</p>
<ul>
<li>ç”µå•†è®¢å•ï¼šå½’æ¡£3ä¸ªæœˆå‰å·²å®Œæˆ/å·²å–æ¶ˆçš„è®¢å•æ•°æ®ï¼›</li>
<li>é‡‘èäº¤æ˜“ï¼šå½’æ¡£1å¹´å‰çš„äº¤æ˜“æµæ°´ã€è¿˜æ¬¾è®°å½•ï¼›</li>
<li>ç”¨æˆ·æ—¥å¿—ï¼šå½’æ¡£6ä¸ªæœˆå‰çš„ç”¨æˆ·æ“ä½œæ—¥å¿—ã€ç³»ç»Ÿè¿è¡Œæ—¥å¿—ï¼›</li>
<li>ç‰©è”ç½‘æ•°æ®ï¼šå½’æ¡£3ä¸ªæœˆå‰çš„è®¾å¤‡ç›‘æ§æŒ‡æ ‡ï¼ˆæ¸©åº¦ã€å‹åŠ›ç­‰ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€å†å²æ•°æ®å½’æ¡£æ ¸å¿ƒæ–¹æ¡ˆè®¾è®¡ï¼š4ä¸ªå…³é”®å†³ç­–</h3>
<p>å½’æ¡£æ–¹æ¡ˆçš„è®¾è®¡ç›´æ¥å½±å“ç³»ç»Ÿç¨³å®šæ€§å’Œæ•°æ®å®‰å…¨æ€§ï¼Œéœ€é‡ç‚¹è§£å†³â€œå½’æ¡£ä»€ä¹ˆæ•°æ®â€â€œå½’æ¡£åˆ°å“ªé‡Œâ€â€œæ€ä¹ˆå½’æ¡£â€â€œå¦‚ä½•ä¿è¯å®‰å…¨â€4ä¸ªæ ¸å¿ƒé—®é¢˜ã€‚</p>
<h4 data-id="heading-3">1. å†³ç­–1ï¼šå½’æ¡£èŒƒå›´ä¸è§¦å‘æ¡ä»¶</h4>
<p>æ ¸å¿ƒåŸåˆ™ï¼š<strong>åªå½’æ¡£éæ´»è·ƒæ•°æ®ï¼Œä¸å½±å“åœ¨çº¿ä¸šåŠ¡</strong>ã€‚</p>
<ul>
<li><strong>ç­›é€‰æ¡ä»¶</strong>ï¼šä¼˜å…ˆæŒ‰â€œæ—¶é—´å­—æ®µâ€ç­›é€‰ï¼ˆå¦‚è®¢å•åˆ›å»ºæ—¶é—´ã€æ—¥å¿—ç”Ÿæˆæ—¶é—´ï¼‰ï¼Œé…åˆä¸šåŠ¡çŠ¶æ€ï¼ˆå¦‚è®¢å•çŠ¶æ€ä¸ºâ€œå·²å®Œæˆâ€â€œå·²å–æ¶ˆâ€ï¼Œæ’é™¤â€œå¾…æ”¯ä»˜â€ï¼‰ï¼›</li>
<li><strong>å½’æ¡£å‘¨æœŸ</strong>ï¼šæ ¹æ®æ•°æ®å¢é•¿é€Ÿåº¦å’Œä¸šåŠ¡éœ€æ±‚ç¡®å®šï¼Œå¸¸è§å‘¨æœŸï¼šæ¯æ—¥ã€æ¯å‘¨ã€æ¯æœˆï¼ˆå¦‚è®¢å•è¡¨æ¯æœˆå½’æ¡£ä¸€æ¬¡3ä¸ªæœˆå‰çš„æ•°æ®ï¼‰ï¼›</li>
<li><strong>æ•°æ®ä¿ç•™ç­–ç•¥</strong>ï¼šæ˜ç¡®å½’æ¡£åçš„æ•°æ®ä¿ç•™æ—¶é•¿ï¼ˆå¦‚é‡‘èæ•°æ®ä¿ç•™7å¹´ï¼Œæ—¥å¿—æ•°æ®ä¿ç•™1å¹´ï¼‰ï¼Œè¶…æœŸæ•°æ®å¯è¿›ä¸€æ­¥æ¸…ç†æˆ–å½’æ¡£åˆ°å†·å­˜å‚¨ã€‚</li>
</ul>
<h4 data-id="heading-4">2. å†³ç­–2ï¼šå½’æ¡£ç›®æ ‡å­˜å‚¨é€‰å‹</h4>
<p>æ ¹æ®å½’æ¡£æ•°æ®çš„æŸ¥è¯¢é¢‘ç‡ã€ä½¿ç”¨åœºæ™¯é€‰æ‹©ç›®æ ‡å­˜å‚¨ï¼Œå¸¸è§é€‰å‹å¯¹æ¯”ï¼š</p>





























<table><thead><tr><th>å­˜å‚¨ç±»å‹</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>å±€é™æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å†å²æ•°æ®åº“ï¼ˆåŒç±»å‹æ•°æ®åº“ï¼‰</td><td>1. ä¸æºåº“å…¼å®¹ï¼ŒæŸ¥è¯¢è¯­æ³•ä¸€è‡´ï¼›2. éƒ¨ç½²ç®€å•ï¼Œæ— éœ€é¢å¤–å­¦ä¹ æˆæœ¬ï¼›3. æ”¯æŒç´¢å¼•ï¼Œå¯å¿«é€ŸæŸ¥è¯¢å†å²æ•°æ®</td><td>å­˜å‚¨æˆæœ¬é«˜äºå¯¹è±¡å­˜å‚¨ï¼›éœ€å•ç‹¬ç»´æŠ¤æ•°æ®åº“å®ä¾‹</td><td>éœ€é¢‘ç¹æŸ¥è¯¢å†å²æ•°æ®ï¼ˆå¦‚ç”µå•†è®¢å•å†å²æŸ¥è¯¢ï¼‰</td></tr><tr><td>å¯¹è±¡å­˜å‚¨ï¼ˆS3/MinIOï¼‰</td><td>1. å­˜å‚¨æˆæœ¬æä½ï¼›2. å¯æ— é™æ‰©å®¹ï¼›3. æ”¯æŒç‰ˆæœ¬æ§åˆ¶ï¼Œæ•°æ®å®‰å…¨æ€§é«˜</td><td>æŸ¥è¯¢ä¸ä¾¿ï¼Œéœ€å…ˆä¸‹è½½å†è§£æï¼›ä¸æ”¯æŒç»“æ„åŒ–æŸ¥è¯¢</td><td>æå°‘æŸ¥è¯¢çš„å½’æ¡£æ•°æ®ï¼ˆå¦‚æ—¥å¿—æ•°æ®ã€å¤‡ä»½æ–‡ä»¶ï¼‰</td></tr><tr><td>æ•°æ®ä»“åº“ï¼ˆHive/ClickHouseï¼‰</td><td>1. æ”¯æŒæµ·é‡æ•°æ®å­˜å‚¨ï¼›2. é€‚åˆæ•°æ®åˆ†æã€æŠ¥è¡¨ç”Ÿæˆï¼›3. æ”¯æŒå¤æ‚æŸ¥è¯¢</td><td>éƒ¨ç½²ç»´æŠ¤å¤æ‚ï¼›æŸ¥è¯¢å»¶è¿Ÿé«˜äºå…³ç³»å‹æ•°æ®åº“</td><td>éœ€å¯¹å†å²æ•°æ®è¿›è¡Œç»Ÿè®¡åˆ†æï¼ˆå¦‚å¹´åº¦é”€å”®æŠ¥è¡¨ï¼‰</td></tr></tbody></table>
<p>é€‰å‹å»ºè®®ï¼šä¼˜å…ˆç”¨â€œå†å²æ•°æ®åº“â€å­˜å‚¨éœ€æŸ¥è¯¢çš„ç»“æ„åŒ–æ•°æ®ï¼Œç”¨â€œå¯¹è±¡å­˜å‚¨â€å­˜å‚¨æ— éœ€é¢‘ç¹æŸ¥è¯¢çš„æ—¥å¿—ã€å¤‡ä»½ç±»æ•°æ®ã€‚</p>
<h4 data-id="heading-5">3. å†³ç­–3ï¼šå½’æ¡£æ‰§è¡Œæ–¹å¼é€‰å‹</h4>
<p>å½’æ¡£ä»»åŠ¡éœ€å®šæœŸæ‰§è¡Œï¼Œç»“åˆå®šæ—¶ä»»åŠ¡æ¡†æ¶å®ç°ï¼Œå¸¸è§æ‰§è¡Œæ–¹å¼å¯¹æ¯”ï¼š</p>
<ul>
<li><strong>å…¨é‡å½’æ¡£</strong>ï¼šæ¯æ¬¡å½’æ¡£æ—¶ï¼Œå…¨é‡æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„å†å²æ•°æ®è¿ç§»è‡³ç›®æ ‡å­˜å‚¨ï¼Œç„¶ååˆ é™¤æºåº“æ•°æ®ã€‚ ä¼˜åŠ¿ï¼šå®ç°ç®€å•ï¼›åŠ£åŠ¿ï¼šæ•°æ®é‡å¤§æ—¶è€—æ—¶ä¹…ï¼Œå¯èƒ½å½±å“æºåº“æ€§èƒ½ã€‚</li>
<li><strong>å¢é‡å½’æ¡£</strong>ï¼šè®°å½•ä¸Šæ¬¡å½’æ¡£çš„æ—¶é—´ç‚¹ï¼ˆå¦‚ä¸Šæ¬¡å½’æ¡£åˆ°2024-01-31ï¼‰ï¼Œæœ¬æ¬¡ä»…å½’æ¡£2024-02-01è‡³2024-02-29çš„å†å²æ•°æ®ã€‚ ä¼˜åŠ¿ï¼šæ•°æ®é‡å°ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œå¯¹æºåº“å½±å“å°ï¼›åŠ£åŠ¿ï¼šéœ€ç»´æŠ¤å½’æ¡£è¿›åº¦ï¼Œå®ç°ç¨å¤æ‚ã€‚</li>
<li><strong>åˆ†æ‰¹å½’æ¡£</strong>ï¼šå¯¹å¤§é‡å†å²æ•°æ®ï¼ˆå¦‚1000ä¸‡æ¡ï¼‰ï¼ŒæŒ‰æ‰¹æ¬¡ï¼ˆæ¯æ‰¹1000æ¡ï¼‰æŸ¥è¯¢è¿ç§»ï¼Œé¿å…ä¸€æ¬¡æ€§æŸ¥è¯¢å¯¼è‡´å†…å­˜æº¢å‡ºã€‚ ä¼˜åŠ¿ï¼šç¨³å®šæ€§é«˜ï¼Œé€‚åˆæµ·é‡æ•°æ®ï¼›åŠ£åŠ¿ï¼šéœ€å¤„ç†æ‰¹æ¬¡æ§åˆ¶é€»è¾‘ã€‚</li>
</ul>
<p>æ¨èæ–¹æ¡ˆï¼š<strong>å¢é‡+åˆ†æ‰¹</strong>å½’æ¡£ï¼Œå…¼é¡¾æ•ˆç‡ä¸ç¨³å®šæ€§ã€‚</p>
<h4 data-id="heading-6">4. å†³ç­–4ï¼šæ•°æ®ä¸€è‡´æ€§ä¸å®‰å…¨æ€§ä¿éšœ</h4>
<p>å½’æ¡£è¿‡ç¨‹ä¸­éœ€é¿å…æ•°æ®ä¸¢å¤±ã€é‡å¤æˆ–ä¸ä¸€è‡´ï¼Œæ ¸å¿ƒä¿éšœæªæ–½ï¼š</p>
<ul>
<li><strong>äº‹åŠ¡æ§åˆ¶</strong>ï¼šå•æ‰¹æ¬¡æ•°æ®è¿ç§»+åˆ é™¤æ“ä½œéœ€åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œï¼Œç¡®ä¿è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»šï¼›</li>
<li><strong>æ•°æ®æ ¡éªŒ</strong>ï¼šå½’æ¡£å®Œæˆåï¼Œå¯¹æ¯”æºåº“åˆ é™¤å‰çš„æ•°æ®é‡ä¸ç›®æ ‡å­˜å‚¨çš„è¿ç§»æ•°æ®é‡ï¼Œç¡®ä¿ä¸€è‡´ï¼›</li>
<li><strong>å¤‡ä»½ä¼˜å…ˆ</strong>ï¼šå½’æ¡£å‰å¯¹æºåº“æ•°æ®è¿›è¡Œå¤‡ä»½ï¼Œé¿å…å½’æ¡£å¤±è´¥å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼›</li>
<li><strong>å¹‚ç­‰æ€§è®¾è®¡</strong>ï¼šç¡®ä¿å½’æ¡£ä»»åŠ¡é‡å¤æ‰§è¡Œæ—¶ï¼Œä¸ä¼šå¯¼è‡´ç›®æ ‡å­˜å‚¨æ•°æ®é‡å¤ï¼ˆå¦‚é€šè¿‡å”¯ä¸€ç´¢å¼•å»é‡ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€å®æˆ˜ï¼šSpring Boot+å®šæ—¶ä»»åŠ¡å®ç°å†å²æ•°æ®å½’æ¡£</h3>
<p>ä»¥â€œç”µå•†è®¢å•è¡¨å†å²æ•°æ®å½’æ¡£â€ä¸ºä¾‹ï¼Œå®ç°æ¯æœˆå½’æ¡£ä¸€æ¬¡3ä¸ªæœˆå‰å·²å®Œæˆ/å·²å–æ¶ˆè®¢å•çš„éœ€æ±‚ã€‚é‡‡ç”¨â€œSpring Schedulerå®šæ—¶ä»»åŠ¡+MySQLæºåº“+MySQLå†å²åº“+å¢é‡åˆ†æ‰¹å½’æ¡£â€æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-8">1. ç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-9">ï¼ˆ1ï¼‰æ•°æ®åº“è®¾è®¡</h5>
<p>æºåº“ï¼ˆä¸šåŠ¡åº“ï¼‰è®¢å•è¡¨ <code>t_order</code> ä¸å†å²åº“è®¢å•è¡¨<code>t_order_history</code> ç»“æ„ä¸€è‡´ï¼ˆå†å²åº“å¯å»æ‰éƒ¨åˆ†éå¿…è¦ç´¢å¼•ï¼‰ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">-- æºåº“ä¸šåŠ¡è¡¨ï¼št_order
<span class="hljs-variable constant_">CREATE</span> <span class="hljs-variable constant_">TABLE</span> <span class="hljs-string">`t_order`</span> (
  <span class="hljs-string">`id`</span> <span class="hljs-built_in">bigint</span> <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">AUTO_INCREMENT</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•ID'</span>,
  <span class="hljs-string">`order_no`</span> <span class="hljs-title function_">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•ç¼–å·'</span>,
  <span class="hljs-string">`user_id`</span> <span class="hljs-built_in">bigint</span> <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'ç”¨æˆ·ID'</span>,
  <span class="hljs-string">`amount`</span> <span class="hljs-title function_">decimal</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•é‡‘é¢'</span>,
  <span class="hljs-string">`status`</span> tinyint <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•çŠ¶æ€ï¼š0-å¾…æ”¯ä»˜ï¼Œ1-å·²å®Œæˆï¼Œ2-å·²å–æ¶ˆ'</span>,
  <span class="hljs-string">`create_time`</span> datetime <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-string">`update_time`</span> datetime <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>,
  <span class="hljs-variable constant_">PRIMARY</span> <span class="hljs-variable constant_">KEY</span> (<span class="hljs-string">`id`</span>),
  <span class="hljs-variable constant_">UNIQUE</span> <span class="hljs-variable constant_">KEY</span> <span class="hljs-string">`uk_order_no`</span> (<span class="hljs-string">`order_no`</span>),
  <span class="hljs-variable constant_">KEY</span> <span class="hljs-string">`idx_create_time`</span> (<span class="hljs-string">`create_time`</span>), -- å½’æ¡£ç­›é€‰å…³é”®ç´¢å¼•
  <span class="hljs-variable constant_">KEY</span> <span class="hljs-string">`idx_status`</span> (<span class="hljs-string">`status`</span>)
) <span class="hljs-variable constant_">ENGINE</span>=<span class="hljs-title class_">InnoDB</span> <span class="hljs-variable constant_">DEFAULT</span> <span class="hljs-variable constant_">CHARSET</span>=utf8mb4 <span class="hljs-variable constant_">COMMENT</span>=<span class="hljs-string">'è®¢å•è¡¨'</span>;

-- å†å²åº“è¡¨ï¼št_order_historyï¼ˆç»“æ„ä¸æºåº“ä¸€è‡´ï¼Œå¯å»æ‰éƒ¨åˆ†ç´¢å¼•ï¼‰
<span class="hljs-variable constant_">CREATE</span> <span class="hljs-variable constant_">TABLE</span> <span class="hljs-string">`t_order_history`</span> (
  <span class="hljs-string">`id`</span> <span class="hljs-built_in">bigint</span> <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•ID'</span>,
  <span class="hljs-string">`order_no`</span> <span class="hljs-title function_">varchar</span>(<span class="hljs-number">64</span>) <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•ç¼–å·'</span>,
  <span class="hljs-string">`user_id`</span> <span class="hljs-built_in">bigint</span> <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'ç”¨æˆ·ID'</span>,
  <span class="hljs-string">`amount`</span> <span class="hljs-title function_">decimal</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•é‡‘é¢'</span>,
  <span class="hljs-string">`status`</span> tinyint <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'è®¢å•çŠ¶æ€ï¼š0-å¾…æ”¯ä»˜ï¼Œ1-å·²å®Œæˆï¼Œ2-å·²å–æ¶ˆ'</span>,
  <span class="hljs-string">`create_time`</span> datetime <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-string">`update_time`</span> datetime <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>,
  <span class="hljs-string">`archive_time`</span> datetime <span class="hljs-variable constant_">NOT</span> <span class="hljs-variable constant_">NULL</span> <span class="hljs-variable constant_">COMMENT</span> <span class="hljs-string">'å½’æ¡£æ—¶é—´'</span>, -- æ–°å¢å½’æ¡£æ—¶é—´å­—æ®µ
  <span class="hljs-variable constant_">PRIMARY</span> <span class="hljs-variable constant_">KEY</span> (<span class="hljs-string">`id`</span>),
  <span class="hljs-variable constant_">UNIQUE</span> <span class="hljs-variable constant_">KEY</span> <span class="hljs-string">`uk_order_no`</span> (<span class="hljs-string">`order_no`</span>), -- å”¯ä¸€ç´¢å¼•ç¡®ä¿å¹‚ç­‰æ€§
  <span class="hljs-variable constant_">KEY</span> <span class="hljs-string">`idx_create_time`</span> (<span class="hljs-string">`create_time`</span>)
) <span class="hljs-variable constant_">ENGINE</span>=<span class="hljs-title class_">InnoDB</span> <span class="hljs-variable constant_">DEFAULT</span> <span class="hljs-variable constant_">CHARSET</span>=utf8mb4 <span class="hljs-variable constant_">COMMENT</span>=<span class="hljs-string">'è®¢å•å†å²è¡¨'</span>;
</code></pre>
<h5 data-id="heading-10">ï¼ˆ2ï¼‰å¼•å…¥ä¾èµ–</h5>
<p>Spring Booté¡¹ç›®å¼•å…¥MyBatis-Plusï¼ˆç®€åŒ–æ•°æ®åº“æ“ä½œï¼‰ã€æ•°æ®åº“è¿æ¥æ± ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Bootæ ¸å¿ƒä¾èµ– --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- MyBatis-Plusï¼ˆç®€åŒ–CRUDï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ•°æ®åº“é©±åŠ¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- è¿æ¥æ±  --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-symbol">&amp;lt;</span>version<span class="hljs-symbol">&amp;gt;</span>1.2.16<span class="hljs-symbol">&amp;lt;</span>/version<span class="hljs-symbol">&amp;gt;</span>
<span class="hljs-symbol">&amp;lt;</span>/dependency<span class="hljs-symbol">&amp;gt;</span>
</code></pre>
<h5 data-id="heading-11">ï¼ˆ3ï¼‰å¤šæ•°æ®æºé…ç½®ï¼ˆæºåº“+å†å²åº“ï¼‰</h5>
<p>åœ¨ <code>application.yml</code> ä¸­é…ç½®æºåº“ï¼ˆä¸šåŠ¡åº“ï¼‰å’Œå†å²åº“çš„æ•°æ®æºä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-comment"># æºåº“ï¼ˆä¸šåŠ¡åº“ï¼‰é…ç½®</span>
    <span class="hljs-attr">business:</span>
      <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ecommerce_business?useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true</span>
      <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
      <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
      <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>
    <span class="hljs-comment"># å†å²åº“é…ç½®</span>
    <span class="hljs-attr">history:</span>
      <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ecommerce_history?useSSL=false&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true</span>
      <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
      <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span>
      <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>

<span class="hljs-comment"># MyBatisé…ç½®</span>
<span class="hljs-attr">mybatis-plus:</span>
  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mapper/**/*.xml</span>
  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.example.archive.entity</span>
  <span class="hljs-attr">configuration:</span>
    <span class="hljs-attr">map-underscore-to-camel-case:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># ä¸‹åˆ’çº¿è½¬é©¼å³°</span>
    <span class="hljs-attr">log-impl:</span> <span class="hljs-string">org.apache.ibatis.logging.stdout.StdOutImpl</span> <span class="hljs-comment"># æ‰“å°SQLï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span>
</code></pre>
<h5 data-id="heading-12">ï¼ˆ4ï¼‰å¤šæ•°æ®æºåˆ‡æ¢é…ç½®</h5>
<p>é€šè¿‡æ³¨è§£å®ç°æ•°æ®æºåˆ‡æ¢ï¼Œç¡®ä¿å½’æ¡£ä»»åŠ¡èƒ½æ­£ç¡®æ“ä½œæºåº“å’Œå†å²åº“ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æ•°æ®æºæšä¸¾</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DataSourceType</span> {
    <span class="hljs-variable constant_">BUSINESS</span>, <span class="hljs-comment">// ä¸šåŠ¡åº“ï¼ˆæºåº“ï¼‰</span>
    <span class="hljs-variable constant_">HISTORY</span>   <span class="hljs-comment">// å†å²åº“ï¼ˆç›®æ ‡åº“ï¼‰</span>
}

<span class="hljs-comment">// 2. æ•°æ®æºä¸Šä¸‹æ–‡ï¼ˆThreadLocalå­˜å‚¨å½“å‰æ•°æ®æºï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceContextHolder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> final <span class="hljs-title class_">ThreadLocal</span>&lt;<span class="hljs-title class_">DataSourceType</span>&gt; <span class="hljs-variable constant_">CONTEXT_HOLDER</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();

    <span class="hljs-comment">// è®¾ç½®æ•°æ®æº</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setDataSourceType</span>(<span class="hljs-params">DataSourceType <span class="hljs-keyword">type</span></span>) {
        <span class="hljs-variable constant_">CONTEXT_HOLDER</span>.<span class="hljs-title function_">set</span>(<span class="hljs-keyword">type</span>);
    }

    <span class="hljs-comment">// è·å–å½“å‰æ•°æ®æº</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">DataSourceType</span> <span class="hljs-title function_">getDataSourceType</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">CONTEXT_HOLDER</span>.<span class="hljs-title function_">get</span>() == <span class="hljs-literal">null</span> ? <span class="hljs-title class_">DataSourceType</span>.<span class="hljs-property">BUSINESS</span> : <span class="hljs-variable constant_">CONTEXT_HOLDER</span>.<span class="hljs-title function_">get</span>();
    }

    <span class="hljs-comment">// æ¸…é™¤æ•°æ®æº</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">clearDataSourceType</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable constant_">CONTEXT_HOLDER</span>.<span class="hljs-title function_">remove</span>();
    }
}

<span class="hljs-comment">// 3. æ•°æ®æºåˆ‡æ¢æ³¨è§£</span>
<span class="hljs-meta">@Target</span>({<span class="hljs-title class_">ElementType</span>.<span class="hljs-property">METHOD</span>, <span class="hljs-title class_">ElementType</span>.<span class="hljs-property">TYPE</span>})
<span class="hljs-meta">@Retention</span>(<span class="hljs-title class_">RetentionPolicy</span>.<span class="hljs-property">RUNTIME</span>)
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> <span class="hljs-title class_">DataSource</span> {
    <span class="hljs-title class_">DataSourceType</span> <span class="hljs-title function_">value</span>() <span class="hljs-keyword">default</span> <span class="hljs-title class_">DataSourceType</span>.<span class="hljs-property">BUSINESS</span>;
}

<span class="hljs-comment">// 4. æ•°æ®æºåˆ‡æ¢åˆ‡é¢</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Order</span>(<span class="hljs-title class_">Ordered</span>.<span class="hljs-property">HIGHEST_PRECEDENCE</span>) <span class="hljs-comment">// ç¡®ä¿åˆ‡é¢ä¼˜å…ˆæ‰§è¡Œ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceAspect</span> {

    <span class="hljs-meta">@Before</span>(<span class="hljs-string">"@annotation(dataSource)"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">beforeSwitchDataSource</span>(<span class="hljs-params">JoinPoint joinPoint, DataSource dataSource</span>) {
        <span class="hljs-comment">// è®¾ç½®å½“å‰æ•°æ®æº</span>
        <span class="hljs-title class_">DataSourceType</span> <span class="hljs-keyword">type</span> = dataSource.<span class="hljs-title function_">value</span>();
        <span class="hljs-title class_">DataSourceContextHolder</span>.<span class="hljs-title function_">setDataSourceType</span>(<span class="hljs-keyword">type</span>);
    }

    <span class="hljs-meta">@After</span>(<span class="hljs-string">"@annotation(dataSource)"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">afterSwitchDataSource</span>(<span class="hljs-params">JoinPoint joinPoint, DataSource dataSource</span>) {
        <span class="hljs-comment">// æ¸…é™¤æ•°æ®æºï¼Œé¿å…çº¿ç¨‹å¤ç”¨æ±¡æŸ“</span>
        <span class="hljs-title class_">DataSourceContextHolder</span>.<span class="hljs-title function_">clearDataSourceType</span>();
    }
}

<span class="hljs-comment">// 5. æ•°æ®æºé…ç½®ç±»</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceConfig</span> {

    <span class="hljs-comment">// ä¸šåŠ¡åº“æ•°æ®æº</span>
    <span class="hljs-meta">@Bean</span>(name = <span class="hljs-string">"businessDataSource"</span>)
    <span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"spring.datasource.business"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">DataSource</span> <span class="hljs-title function_">businessDataSource</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DruidDataSourceBuilder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">build</span>();
    }

    <span class="hljs-comment">// å†å²åº“æ•°æ®æº</span>
    <span class="hljs-meta">@Bean</span>(name = <span class="hljs-string">"historyDataSource"</span>)
    <span class="hljs-meta">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"spring.datasource.history"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">DataSource</span> <span class="hljs-title function_">historyDataSource</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DruidDataSourceBuilder</span>.<span class="hljs-title function_">create</span>().<span class="hljs-title function_">build</span>();
    }

    <span class="hljs-comment">// åŠ¨æ€æ•°æ®æº</span>
    <span class="hljs-meta">@Bean</span>(name = <span class="hljs-string">"dynamicDataSource"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">DataSource</span> <span class="hljs-title function_">dynamicDataSource</span>(<span class="hljs-params"><span class="hljs-meta">@Qualifier</span>(<span class="hljs-string">"businessDataSource"</span>) DataSource businessDataSource,
                                        <span class="hljs-meta">@Qualifier</span>(<span class="hljs-string">"historyDataSource"</span>) DataSource historyDataSource</span>) {
        <span class="hljs-title class_">DynamicRoutingDataSource</span> dynamicDataSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DynamicRoutingDataSource</span>();
        <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Object</span>, <span class="hljs-title class_">Object</span>&gt; dataSourceMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        dataSourceMap.<span class="hljs-title function_">put</span>(<span class="hljs-title class_">DataSourceType</span>.<span class="hljs-property">BUSINESS</span>, businessDataSource);
        dataSourceMap.<span class="hljs-title function_">put</span>(<span class="hljs-title class_">DataSourceType</span>.<span class="hljs-property">HISTORY</span>, historyDataSource);
        dynamicDataSource.<span class="hljs-title function_">setTargetDataSources</span>(dataSourceMap);
        dynamicDataSource.<span class="hljs-title function_">setDefaultTargetDataSource</span>(businessDataSource); <span class="hljs-comment">// é»˜è®¤æ•°æ®æºä¸ºä¸šåŠ¡åº“</span>
        <span class="hljs-keyword">return</span> dynamicDataSource;
    }

    <span class="hljs-comment">// é…ç½®SqlSessionFactory</span>
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">SqlSessionFactory</span> <span class="hljs-title function_">sqlSessionFactory</span>(<span class="hljs-meta">@Qualifier</span>(<span class="hljs-string">"dynamicDataSource"</span>) <span class="hljs-title class_">DataSource</span> dynamicDataSource) throws <span class="hljs-title class_">Exception</span> {
        <span class="hljs-title class_">MybatisSqlSessionFactoryBean</span> sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisSqlSessionFactoryBean</span>();
        sessionFactory.<span class="hljs-title function_">setDataSource</span>(dynamicDataSource);
        sessionFactory.<span class="hljs-title function_">setMapperLocations</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PathMatchingResourcePatternResolver</span>()
                .<span class="hljs-title function_">getResources</span>(<span class="hljs-string">"classpath:mapper/**/*.xml"</span>));
        <span class="hljs-keyword">return</span> sessionFactory.<span class="hljs-title function_">getObject</span>();
    }
}
</code></pre>
<h4 data-id="heading-13">2. æ ¸å¿ƒå®ç°ï¼šå½’æ¡£ä»»åŠ¡é€»è¾‘</h4>
<p>é‡‡ç”¨â€œå¢é‡åˆ†æ‰¹â€å½’æ¡£ç­–ç•¥ï¼Œæ ¸å¿ƒæ­¥éª¤ï¼šâ‘  è®¡ç®—å½’æ¡£æ—¶é—´èŒƒå›´ï¼ˆ3ä¸ªæœˆå‰ï¼‰ï¼›â‘¡ æŒ‰æ‰¹æ¬¡æŸ¥è¯¢æºåº“ç¬¦åˆæ¡ä»¶çš„è®¢å•æ•°æ®ï¼›â‘¢ æ‰¹é‡è¿ç§»è‡³å†å²åº“ï¼›â‘£ æ‰¹é‡åˆ é™¤æºåº“æ•°æ®ï¼›â‘¤ æ•°æ®æ ¡éªŒã€‚</p>
<h5 data-id="heading-14">ï¼ˆ1ï¼‰å®ä½“ç±»ä¸Mapper</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// è®¢å•å®ä½“ç±»</span>
<span class="hljs-variable">@Data</span>
<span class="hljs-variable">@TableName</span>(<span class="hljs-string">"t_order"</span>)
public class Order {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">id</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">orderNo</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">userId</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">BigDecimal</span> <span class="hljs-selector-tag">amount</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Integer</span> <span class="hljs-selector-tag">status</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">createTime</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">updateTime</span>;
}

<span class="hljs-comment">// è®¢å•å†å²å®ä½“ç±»</span>
@<span class="hljs-selector-tag">Data</span>
@<span class="hljs-selector-tag">TableName</span>(<span class="hljs-string">"t_order_history"</span>)
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">class</span> <span class="hljs-selector-tag">OrderHistory</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">Order</span> {
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">archiveTime</span>; <span class="hljs-comment">// å½’æ¡£æ—¶é—´</span>
}

<span class="hljs-comment">// æºåº“Order Mapperï¼ˆæ“ä½œt_orderï¼‰</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">OrderMapper</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">BaseMapper</span>&lt;<span class="hljs-selector-tag">Order</span>&gt; {
    <span class="hljs-comment">// åˆ†æ‰¹æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„è®¢å•ï¼ˆæŒ‰IDåˆ†é¡µï¼Œé¿å…offsetè¿‡å¤§å¯¼è‡´æ€§èƒ½é—®é¢˜ï¼‰</span>
    <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">Order</span>&gt; <span class="hljs-selector-tag">selectArchiveOrders</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"endTime"</span>) LocalDateTime endTime,
                                    <span class="hljs-variable">@Param</span>(<span class="hljs-string">"statusList"</span>) List&lt;Integer&gt; statusList,
                                    <span class="hljs-variable">@Param</span>(<span class="hljs-string">"lastId"</span>) Long lastId,
                                    <span class="hljs-variable">@Param</span>(<span class="hljs-string">"pageSize"</span>) Integer pageSize);

    <span class="hljs-comment">// æ‰¹é‡åˆ é™¤è®¢å•</span>
    <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">batchDeleteOrders</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"ids"</span>) List&lt;Long&gt; ids);
}

<span class="hljs-comment">// å†å²åº“OrderHistory Mapperï¼ˆæ“ä½œt_order_historyï¼‰</span>
@<span class="hljs-selector-tag">DataSource</span>(DataSourceType.HISTORY) <span class="hljs-comment">// æŒ‡å®šä½¿ç”¨å†å²åº“</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">OrderHistoryMapper</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">BaseMapper</span>&lt;<span class="hljs-selector-tag">OrderHistory</span>&gt; {
    <span class="hljs-comment">// æ‰¹é‡æ’å…¥å†å²è®¢å•</span>
    <span class="hljs-selector-tag">int</span> <span class="hljs-selector-tag">batchInsertHistory</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"list"</span>) List&lt;OrderHistory&gt; orderHistoryList);
}
</code></pre>
<h5 data-id="heading-15">ï¼ˆ2ï¼‰Mapper XMLå®ç°</h5>
<p>OrderMapper.xmlï¼ˆåˆ†æ‰¹æŸ¥è¯¢ä¸æ‰¹é‡åˆ é™¤ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.archive.mapper.OrderMapper"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- åˆ†æ‰¹æŸ¥è¯¢å½’æ¡£è®¢å•ï¼šæŒ‰IDåˆ†é¡µï¼Œé¿å…offsetè¿‡å¤§å¯¼è‡´å…¨è¡¨æ‰«æ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectArchiveOrders"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"com.example.archive.entity.Order"</span>&gt;</span>
        SELECT id, order_no, user_id, amount, status, create_time, update_time
        FROM t_order
        WHERE create_time &lt; #{endTime}
          AND status IN
          <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">"statusList"</span> <span class="hljs-attr">item</span>=<span class="hljs-string">"status"</span> <span class="hljs-attr">open</span>=<span class="hljs-string">"("</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">","</span> <span class="hljs-attr">close</span>=<span class="hljs-string">")"</span>&gt;</span>
              #{status}
          <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span>
          AND id &gt; #{lastId}
        ORDER BY id ASC
        LIMIT #{pageSize}
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ‰¹é‡åˆ é™¤è®¢å• --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"batchDeleteOrders"</span>&gt;</span>
        DELETE FROM t_order
        WHERE id IN
        <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">"ids"</span> <span class="hljs-attr">item</span>=<span class="hljs-string">"id"</span> <span class="hljs-attr">open</span>=<span class="hljs-string">"("</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">","</span> <span class="hljs-attr">close</span>=<span class="hljs-string">")"</span>&gt;</span>
            #{id}
        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<p>OrderHistoryMapper.xmlï¼ˆæ‰¹é‡æ’å…¥ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span> <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.example.archive.mapper.OrderHistoryMapper"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ‰¹é‡æ’å…¥å†å²è®¢å• --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"batchInsertHistory"</span>&gt;</span>
        INSERT INTO t_order_history (
            id, order_no, user_id, amount, status, create_time, update_time, archive_time
        )
        VALUES
        <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">"list"</span> <span class="hljs-attr">item</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">","</span>&gt;</span>
            (
                #{item.id}, #{item.orderNo}, #{item.userId}, #{item.amount},
                #{item.status}, #{item.createTime}, #{item.updateTime}, #{item.archiveTime}
            )
        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span>
        ON DUPLICATE KEY UPDATE archive_time = #{item.archiveTime} -- å¹‚ç­‰æ€§å¤„ç†ï¼šé‡å¤æ—¶æ›´æ–°å½’æ¡£æ—¶é—´
    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<h5 data-id="heading-16">ï¼ˆ3ï¼‰å½’æ¡£æœåŠ¡å®ç°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Slf4j</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderArchiveService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderHistoryMapper orderHistoryMapper;

    <span class="hljs-comment">// å½’æ¡£æ‰¹æ¬¡å¤§å°ï¼ˆæ¯æ‰¹å¤„ç†1000æ¡ï¼Œå¯æ ¹æ®æ•°æ®åº“æ€§èƒ½è°ƒæ•´ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">BATCH_SIZE</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>;
    <span class="hljs-comment">// å½’æ¡£æ—¶é—´é˜ˆå€¼ï¼š3ä¸ªæœˆå‰ï¼ˆå¯é…ç½®åˆ°application.ymlï¼Œä¾¿äºåŠ¨æ€è°ƒæ•´ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Integer</span> <span class="hljs-variable">ARCHIVE_MONTH</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;
    <span class="hljs-comment">// éœ€å½’æ¡£çš„è®¢å•çŠ¶æ€ï¼š1-å·²å®Œæˆï¼Œ2-å·²å–æ¶ˆ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;Integer&gt; ARCHIVE_STATUS = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);

    <span class="hljs-comment">/**
     * è®¢å•å†å²æ•°æ®å½’æ¡£æ ¸å¿ƒæ–¹æ³•
     */</span>
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span> <span class="hljs-comment">// äº‹åŠ¡æ§åˆ¶ï¼šæ‰¹æ¬¡å†…è¿ç§»+åˆ é™¤è¦ä¹ˆå…¨æˆï¼Œè¦ä¹ˆå…¨æ»š</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">archiveOrderHistory</span><span class="hljs-params">()</span> {
        log.info(<span class="hljs-string">"å¼€å§‹æ‰§è¡Œè®¢å•å†å²æ•°æ®å½’æ¡£ä»»åŠ¡"</span>);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. è®¡ç®—å½’æ¡£æ—¶é—´é˜ˆå€¼ï¼šå½“å‰æ—¶é—´å¾€å‰æ¨3ä¸ªæœˆ</span>
            <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">archiveEndTime</span> <span class="hljs-operator">=</span> LocalDateTime.now().minusMonths(ARCHIVE_MONTH);
            log.info(<span class="hljs-string">"å½’æ¡£æ—¶é—´é˜ˆå€¼ï¼š{}ï¼Œå½’æ¡£çŠ¶æ€ï¼š{}"</span>, archiveEndTime, ARCHIVE_STATUS);

            <span class="hljs-comment">// 2. åˆå§‹åŒ–å˜é‡ï¼šä¸Šæ¬¡æŸ¥è¯¢çš„æœ€åä¸€ä¸ªIDï¼ˆç”¨äºåˆ†æ‰¹æŸ¥è¯¢ï¼‰</span>
            <span class="hljs-type">Long</span> <span class="hljs-variable">lastId</span> <span class="hljs-operator">=</span> <span class="hljs-number">0L</span>;
            <span class="hljs-type">int</span> <span class="hljs-variable">totalArchiveCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; <span class="hljs-comment">// æ€»å½’æ¡£æ•°é‡</span>

            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                <span class="hljs-comment">// 3. åˆ†æ‰¹æŸ¥è¯¢æºåº“ç¬¦åˆæ¡ä»¶çš„è®¢å•</span>
                List&lt;Order&gt; orderList = orderMapper.selectArchiveOrders(
                        archiveEndTime, ARCHIVE_STATUS, lastId, BATCH_SIZE
                );

                <span class="hljs-comment">// 4. æ— æ•°æ®åˆ™é€€å‡ºå¾ªç¯</span>
                <span class="hljs-keyword">if</span> (CollectionUtils.isEmpty(orderList)) {
                    log.info(<span class="hljs-string">"å½’æ¡£ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œæœ¬æ¬¡å…±å½’æ¡£è®¢å•ï¼š{} æ¡"</span>, totalArchiveCount);
                    <span class="hljs-keyword">break</span>;
                }

                <span class="hljs-comment">// 5. è½¬æ¢ä¸ºå†å²è®¢å•å®ä½“ï¼ˆæ·»åŠ å½’æ¡£æ—¶é—´ï¼‰</span>
                <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> LocalDateTime.now();
                List&lt;OrderHistory&gt; historyList = orderList.stream().map(order -&gt; {
                    <span class="hljs-type">OrderHistory</span> <span class="hljs-variable">history</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderHistory</span>();
                    BeanUtils.copyProperties(order, history);
                    history.setArchiveTime(now);
                    <span class="hljs-keyword">return</span> history;
                }).collect(Collectors.toList());

                <span class="hljs-comment">// 6. æ‰¹é‡æ’å…¥å†å²åº“</span>
                <span class="hljs-type">int</span> <span class="hljs-variable">insertCount</span> <span class="hljs-operator">=</span> orderHistoryMapper.batchInsertHistory(historyList);
                log.info(<span class="hljs-string">"æœ¬æ¬¡æ‰¹æ¬¡æ’å…¥å†å²åº“æ•°é‡ï¼š{}"</span>, insertCount);

                <span class="hljs-comment">// 7. æ‰¹é‡åˆ é™¤æºåº“æ•°æ®ï¼ˆä»…åˆ é™¤æ’å…¥æˆåŠŸçš„æ•°æ®ï¼‰</span>
                List&lt;Long&gt; orderIds = orderList.stream().map(Order::getId).collect(Collectors.toList());
                <span class="hljs-type">int</span> <span class="hljs-variable">deleteCount</span> <span class="hljs-operator">=</span> orderMapper.batchDeleteOrders(orderIds);
                log.info(<span class="hljs-string">"æœ¬æ¬¡æ‰¹æ¬¡åˆ é™¤æºåº“æ•°é‡ï¼š{}"</span>, deleteCount);

                <span class="hljs-comment">// 8. æ•°æ®æ ¡éªŒï¼šç¡®ä¿æ’å…¥ä¸åˆ é™¤æ•°é‡ä¸€è‡´</span>
                <span class="hljs-keyword">if</span> (insertCount != deleteCount) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(
                            String.format(<span class="hljs-string">"æ‰¹æ¬¡å½’æ¡£æ•°æ®ä¸ä¸€è‡´ï¼šæ’å…¥%dæ¡ï¼Œåˆ é™¤%dæ¡"</span>, insertCount, deleteCount)
                    );
                }

                <span class="hljs-comment">// 9. æ›´æ–°lastIdï¼Œè¿›å…¥ä¸‹ä¸€æ‰¹æ¬¡</span>
                lastId = orderList.get(orderList.size() - <span class="hljs-number">1</span>).getId();
                totalArchiveCount += deleteCount;

                <span class="hljs-comment">// 10. æ‰¹æ¬¡é—´éš”ï¼šé¿å…é«˜é¢‘æ“ä½œæ•°æ®åº“ï¼Œæ¯æ‰¹æš‚åœ100msï¼ˆå¯é€‰ï¼Œæ ¹æ®æ•°æ®åº“æ€§èƒ½è°ƒæ•´ï¼‰</span>
                Thread.sleep(<span class="hljs-number">100</span>);
            }

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"è®¢å•å†å²æ•°æ®å½’æ¡£ä»»åŠ¡æ‰§è¡Œå¤±è´¥"</span>, e);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å½’æ¡£ä»»åŠ¡å¤±è´¥"</span>, e); <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ï¼Œè§¦å‘äº‹åŠ¡å›æ»š</span>
        }
    }
}
</code></pre>
<h5 data-id="heading-17">ï¼ˆ4ï¼‰å®šæ—¶ä»»åŠ¡è§¦å‘</h5>
<p>é€šè¿‡Spring Schedulerå®šæ—¶è§¦å‘å½’æ¡£ä»»åŠ¡ï¼Œæ¯æœˆ1å·å‡Œæ™¨2ç‚¹æ‰§è¡Œï¼ˆé¿å¼€ä¸šåŠ¡é«˜å³°æœŸï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
<span class="hljs-variable">@EnableScheduling</span> <span class="hljs-comment">// å¯ç”¨å®šæ—¶ä»»åŠ¡</span>
<span class="hljs-variable">@Slf4j</span>
public class ArchiveTimedTask {

    <span class="hljs-variable">@Autowired</span>
    private OrderArchiveService orderArchiveService;

    <span class="hljs-comment">/**
     * è®¢å•å†å²æ•°æ®å½’æ¡£å®šæ—¶ä»»åŠ¡ï¼šæ¯æœˆ1å·å‡Œæ™¨2ç‚¹æ‰§è¡Œ
     * cronè¡¨è¾¾å¼ï¼š0 0 2 1 * ?
     */</span>
    <span class="hljs-variable">@Scheduled</span>(cron = <span class="hljs-string">"0 0 2 1 * ?"</span>)
    public void <span class="hljs-built_in">orderArchiveTask</span>() {
        <span class="hljs-comment">// ç»‘å®šMDCé“¾è·¯æ ‡è¯†ï¼Œä¾¿äºæ—¥å¿—è¿½è¸ª</span>
        <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">requestId</span> = <span class="hljs-selector-tag">UUID</span><span class="hljs-selector-class">.randomUUID</span>()<span class="hljs-selector-class">.toString</span>()<span class="hljs-selector-class">.replace</span>(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
        <span class="hljs-selector-tag">MDC</span><span class="hljs-selector-class">.put</span>(<span class="hljs-string">"requestId"</span>, requestId);
        <span class="hljs-selector-tag">try</span> {
            <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"å®šæ—¶å½’æ¡£ä»»åŠ¡å¼€å§‹æ‰§è¡Œï¼ŒrequestIdï¼š{}"</span>, requestId);
            <span class="hljs-selector-tag">orderArchiveService</span><span class="hljs-selector-class">.archiveOrderHistory</span>();
            <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"å®šæ—¶å½’æ¡£ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼ŒrequestIdï¼š{}"</span>, requestId);
        } <span class="hljs-selector-tag">catch</span> (Exception e) {
            <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.error</span>(<span class="hljs-string">"å®šæ—¶å½’æ¡£ä»»åŠ¡æ‰§è¡Œå¤±è´¥ï¼ŒrequestIdï¼š{}"</span>, requestId, e);
            <span class="hljs-comment">// å¯é€‰ï¼šå‘é€å‘Šè­¦é€šçŸ¥ï¼ˆé’‰é’‰/é‚®ä»¶ï¼‰</span>
            <span class="hljs-comment">// alertService.sendDingTalkAlert("è®¢å•å½’æ¡£ä»»åŠ¡å¤±è´¥ï¼š" + e.getMessage());</span>
        } <span class="hljs-selector-tag">finally</span> {
            <span class="hljs-selector-tag">MDC</span><span class="hljs-selector-class">.clear</span>();
        }
    }
}
</code></pre>
<h3 data-id="heading-18">å››ã€å½’æ¡£ä»»åŠ¡ä¼˜åŒ–ä¸é¿å‘æŒ‡å—</h3>
<p>å†å²æ•°æ®å½’æ¡£åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®¹æ˜“å‡ºç°æ€§èƒ½é—®é¢˜ã€æ•°æ®å®‰å…¨é—®é¢˜ï¼Œä»¥ä¸‹æ˜¯8ä¸ªé«˜é¢‘ä¼˜åŒ–ç‚¹å’Œå‘ç‚¹è§„é¿æ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-19">1. ä¼˜åŒ–ç‚¹1ï¼šé¿å…å½’æ¡£ä»»åŠ¡å½±å“åœ¨çº¿ä¸šåŠ¡</h4>
<p>é—®é¢˜ï¼šå½’æ¡£ä»»åŠ¡æŸ¥è¯¢/åˆ é™¤æºåº“æ•°æ®æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¡¨é”æˆ–è¡Œé”ï¼Œå½±å“åœ¨çº¿è®¢å•æ“ä½œã€‚ ä¼˜åŒ–æ–¹æ¡ˆï¼š - é€‰æ‹©ä¸šåŠ¡ä½å³°æœŸæ‰§è¡Œï¼ˆå¦‚å‡Œæ™¨2-4ç‚¹ï¼‰ï¼› - å½’æ¡£æŸ¥è¯¢æ—¶ä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼ˆå¦‚idx_create_timeåŒ…å«statusã€idå­—æ®µï¼‰ï¼Œé¿å…å…¨è¡¨æ‰«æï¼› - æ‰¹é‡åˆ é™¤æ—¶æ§åˆ¶æ‰¹æ¬¡å¤§å°ï¼ˆå¦‚æ¯æ‰¹1000æ¡ï¼‰ï¼Œé¿å…ä¸€æ¬¡æ€§åˆ é™¤å¤§é‡æ•°æ®å¯¼è‡´é”ç­‰å¾…ï¼› - å¯¹æºåº“è¡¨å¼€å¯è¯»å†™åˆ†ç¦»ï¼Œå½’æ¡£ä»»åŠ¡æ“ä½œä»åº“ï¼Œé¿å…å½±å“ä¸»åº“æ€§èƒ½ã€‚</p>
<h4 data-id="heading-20">2. ä¼˜åŒ–ç‚¹2ï¼šæµ·é‡æ•°æ®å½’æ¡£æ•ˆç‡æå‡</h4>
<p>é—®é¢˜ï¼šåƒä¸‡çº§å†å²æ•°æ®å½’æ¡£è€—æ—¶è¿‡ä¹…ï¼Œç”šè‡³è¶…æ—¶ã€‚ ä¼˜åŒ–æ–¹æ¡ˆï¼š - é‡‡ç”¨â€œåˆ†ç‰‡å½’æ¡£â€ï¼šæŒ‰ç”¨æˆ·IDæˆ–è®¢å•IDåˆ†ç‰‡ï¼Œå¤šä¸ªçº¿ç¨‹å¹¶è¡Œå½’æ¡£ä¸åŒåˆ†ç‰‡æ•°æ®ï¼› - ä½¿ç”¨æ•°æ®åº“åŸç”Ÿå·¥å…·ï¼šå¦‚MySQLçš„SELECT ... INTO OUTFILEå¯¼å‡ºæ•°æ®ï¼Œå†LOAD DATA INFILEå¯¼å…¥å†å²åº“ï¼Œæ•ˆç‡è¿œé«˜äºORMæ¡†æ¶æ‰¹é‡æ“ä½œï¼› - ç¦ç”¨éå¿…è¦ç´¢å¼•ï¼šå½’æ¡£æ—¶ä¸´æ—¶ç¦ç”¨å†å²åº“è¡¨çš„ç´¢å¼•ï¼Œæ’å…¥å®Œæˆåé‡å»ºï¼Œæå‡æ’å…¥æ•ˆç‡ã€‚</p>
<h4 data-id="heading-21">3. å‘ç‚¹1ï¼šå½’æ¡£æ•°æ®ä¸¢å¤±æˆ–é‡å¤</h4>
<p>é—®é¢˜ï¼šå½’æ¡£è¿‡ç¨‹ä¸­æœåŠ¡é‡å¯æˆ–å¼‚å¸¸ä¸­æ–­ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–é‡å¤å½’æ¡£ã€‚ è§„é¿æ–¹æ¡ˆï¼š - äº‹åŠ¡æ§åˆ¶ï¼šæ‰¹æ¬¡å†…çš„â€œæŸ¥è¯¢-è¿ç§»-åˆ é™¤â€æ”¾åœ¨åŒä¸€äº‹åŠ¡ï¼Œç¡®ä¿åŸå­æ€§ï¼› - è®°å½•å½’æ¡£è¿›åº¦ï¼šå°†æ¯æ¬¡å½’æ¡£çš„lastIdå­˜å…¥æ•°æ®åº“æˆ–Redisï¼Œä»»åŠ¡é‡å¯åä»ä¸Šæ¬¡è¿›åº¦ç»§ç»­ï¼› - å¹‚ç­‰æ€§è®¾è®¡ï¼šå†å²åº“è¡¨æ·»åŠ å”¯ä¸€ç´¢å¼•ï¼ˆå¦‚è®¢å•å·ï¼‰ï¼Œé¿å…é‡å¤æ’å…¥ã€‚</p>
<h4 data-id="heading-22">4. å‘ç‚¹2ï¼šå½’æ¡£åå†å²æ•°æ®æŸ¥è¯¢ä¸ä¾¿</h4>
<p>é—®é¢˜ï¼šä¸šåŠ¡éœ€è¦æŸ¥è¯¢å†å²æ•°æ®ï¼ˆå¦‚ç”¨æˆ·æŸ¥è¯¢1å¹´å‰çš„è®¢å•ï¼‰ï¼Œä½†å†å²åº“ç‹¬ç«‹éƒ¨ç½²ï¼ŒæŸ¥è¯¢ä½“éªŒå·®ã€‚ è§„é¿æ–¹æ¡ˆï¼š - å¼€å‘å†å²æ•°æ®æŸ¥è¯¢æ¥å£ï¼šç»Ÿä¸€å¯¹å¤–æä¾›â€œæ´»è·ƒæ•°æ®+å†å²æ•°æ®â€çš„è”åˆæŸ¥è¯¢æ¥å£ï¼Œå†…éƒ¨é€šè¿‡æ•°æ®æºåˆ‡æ¢å®ç°ï¼› - æ•°æ®åŒæ­¥è‡³æ•°æ®ä»“åº“ï¼šå°†å†å²æ•°æ®åŒæ­¥è‡³ClickHouseç­‰åˆ†æå‹æ•°æ®åº“ï¼Œæ”¯æŒå¿«é€Ÿçš„å†å²æ•°æ®ç»Ÿè®¡æŸ¥è¯¢ã€‚</p>
<h4 data-id="heading-23">5. å‘ç‚¹3ï¼šå¿½ç•¥æ•°æ®å…³è”å…³ç³»</h4>
<p>é—®é¢˜ï¼šä»…å½’æ¡£è®¢å•è¡¨ï¼Œæœªå½’æ¡£å…³è”çš„è®¢å•æ˜ç»†è¡¨ã€æ”¯ä»˜è®°å½•è¡¨ï¼Œå¯¼è‡´å†å²æ•°æ®ä¸å®Œæ•´ã€‚ è§„é¿æ–¹æ¡ˆï¼š - æ¢³ç†æ•°æ®å…³è”å…³ç³»ï¼Œé‡‡ç”¨â€œå…³è”å½’æ¡£â€ï¼šå½’æ¡£è®¢å•è¡¨æ—¶ï¼ŒåŒæ­¥å½’æ¡£è®¢å•æ˜ç»†ã€æ”¯ä»˜è®°å½•ç­‰å…³è”è¡¨ï¼› - ç¡®ä¿å…³è”è¡¨å½’æ¡£çš„ä¸€è‡´æ€§ï¼šåŒä¸€è®¢å•çš„æ‰€æœ‰å…³è”æ•°æ®åœ¨åŒä¸€æ‰¹æ¬¡å½’æ¡£ï¼Œé¿å…éƒ¨åˆ†å½’æ¡£å¯¼è‡´æ•°æ®ç¼ºå¤±ã€‚</p>
<h4 data-id="heading-24">6. å‘ç‚¹4ï¼šå½’æ¡£åæœªéªŒè¯æ•°æ®ä¸€è‡´æ€§</h4>
<p>é—®é¢˜ï¼šå½’æ¡£å®Œæˆåæœªæ ¡éªŒï¼Œå¯¼è‡´æºåº“åˆ é™¤æ•°æ®é‡ä¸å†å²åº“è¿ç§»æ•°æ®é‡ä¸ä¸€è‡´ã€‚ è§„é¿æ–¹æ¡ˆï¼š - å½’æ¡£åæ‰§è¡Œæ ¡éªŒï¼šå¯¹æ¯”æºåº“åˆ é™¤å‰çš„ç¬¦åˆæ¡ä»¶æ•°æ®é‡ã€å†å²åº“è¿ç§»æ•°æ®é‡ã€æºåº“åˆ é™¤åçš„æ•°æ®é‡ï¼› - æŠ½æ ·æ ¡éªŒï¼šéšæœºæŠ½å–éƒ¨åˆ†å½’æ¡£æ•°æ®ï¼Œå¯¹æ¯”æºåº“å¤‡ä»½æ•°æ®ä¸å†å²åº“æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
<h4 data-id="heading-25">7. å‘ç‚¹5ï¼šæœªå¤‡ä»½ç›´æ¥å½’æ¡£</h4>
<p>é—®é¢˜ï¼šå½’æ¡£å‰æœªå¤‡ä»½æºåº“æ•°æ®ï¼Œå½’æ¡£å¤±è´¥åæ— æ³•æ¢å¤ã€‚ è§„é¿æ–¹æ¡ˆï¼š - å½’æ¡£å‰å¼ºåˆ¶å¤‡ä»½ï¼šé€šè¿‡è„šæœ¬è‡ªåŠ¨å¤‡ä»½æºåº“ä¸­å¾…å½’æ¡£çš„æ•°æ®ï¼Œå¤‡ä»½å®Œæˆåå†æ‰§è¡Œå½’æ¡£ï¼› - å¤‡ä»½æ–‡ä»¶ä¿ç•™ï¼šå¤‡ä»½æ–‡ä»¶è‡³å°‘ä¿ç•™30å¤©ï¼Œç¡®ä¿å½’æ¡£é—®é¢˜è§£å†³åå†æ¸…ç†ã€‚</p>
<h4 data-id="heading-26">8. å‘ç‚¹6ï¼šå½’æ¡£ä»»åŠ¡æ— ç›‘æ§å‘Šè­¦</h4>
<p>é—®é¢˜ï¼šå½’æ¡£ä»»åŠ¡å¤±è´¥åæœªåŠæ—¶å‘ç°ï¼Œå¯¼è‡´å†å²æ•°æ®ç´¯ç§¯è¿‡å¤šã€‚ è§„é¿æ–¹æ¡ˆï¼š - é…ç½®ä»»åŠ¡ç›‘æ§ï¼šé€šè¿‡Prometheus+Grafanaç›‘æ§å½’æ¡£ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€ã€å½’æ¡£æ•°æ®é‡ï¼› - å¼‚å¸¸å‘Šè­¦ï¼šä»»åŠ¡å¤±è´¥æ—¶å‘é€é’‰é’‰/é‚®ä»¶/çŸ­ä¿¡å‘Šè­¦ï¼Œé€šçŸ¥è¿ç»´äººå‘˜åŠæ—¶å¤„ç†ï¼› - æ‰§è¡Œç»“æœç»Ÿè®¡ï¼šå½’æ¡£å®Œæˆåï¼Œç”Ÿæˆå½’æ¡£æŠ¥å‘Šï¼ˆå½’æ¡£æ•°æ®é‡ã€è€—æ—¶ã€æ˜¯å¦æˆåŠŸï¼‰ï¼Œå¹¶æŒä¹…åŒ–å­˜å‚¨ã€‚</p>
<h3 data-id="heading-27">äº”ã€æ€»ç»“ï¼šå†å²æ•°æ®å½’æ¡£çš„æ ¸å¿ƒåŸåˆ™ä¸è½åœ°å»ºè®®</h3>
<p>å®šæœŸå½’æ¡£å†å²æ•°æ®æ˜¯ç³»ç»Ÿè¿ç»´çš„â€œå¿…ä¿®è¯¾â€ï¼Œå…¶æ ¸å¿ƒåŸåˆ™æ˜¯â€œ<strong>ä¸å½±å“åœ¨çº¿ä¸šåŠ¡ã€ä¿è¯æ•°æ®å®‰å…¨ã€å…¼é¡¾æ•ˆç‡ä¸å¯æŸ¥è¯¢æ€§</strong>â€ã€‚è½åœ°æ—¶éœ€æ³¨æ„ï¼š</p>
<ul>
<li><strong>æ–¹æ¡ˆå…ˆè¡Œ</strong>ï¼šå½’æ¡£å‰æ˜ç¡®å½’æ¡£èŒƒå›´ã€ç›®æ ‡å­˜å‚¨ã€æ‰§è¡Œæ–¹å¼ï¼Œæ¢³ç†æ•°æ®å…³è”å…³ç³»ï¼Œé¿å…ç›²ç›®å®æ–½ï¼›</li>
<li><strong>å°æ­¥å¿«è·‘</strong>ï¼šé¦–æ¬¡å½’æ¡£ä»å°‘é‡æ•°æ®å¼€å§‹ï¼ŒéªŒè¯æ–¹æ¡ˆå¯è¡Œæ€§åå†é€æ­¥æ‰©å¤§èŒƒå›´ï¼›</li>
<li><strong>å®‰å…¨ç¬¬ä¸€</strong>ï¼šå½’æ¡£å‰å¤‡ä»½ã€æ‰§è¡Œä¸­äº‹åŠ¡æ§åˆ¶ã€å®Œæˆåæ•°æ®æ ¡éªŒï¼Œå…¨æ–¹ä½ä¿éšœæ•°æ®å®‰å…¨ï¼›</li>
<li><strong>æŒç»­ä¼˜åŒ–</strong>ï¼šæ ¹æ®æ•°æ®å¢é•¿é€Ÿåº¦å’Œä¸šåŠ¡éœ€æ±‚ï¼ŒåŠ¨æ€è°ƒæ•´å½’æ¡£å‘¨æœŸã€æ‰¹æ¬¡å¤§å°ï¼Œä¼˜åŒ–å½’æ¡£æ•ˆç‡ã€‚</li>
</ul>
<p>å†å²æ•°æ®å½’æ¡£ä¸æ˜¯ä¸€æ¬¡æ€§æ“ä½œï¼Œè€Œæ˜¯é•¿æœŸçš„è¿ç»´å·¥ä½œã€‚åˆç†çš„å½’æ¡£æ–¹æ¡ˆä¸ä»…èƒ½æå‡ç³»ç»Ÿæ€§èƒ½ã€é™ä½æˆæœ¬ï¼Œè¿˜èƒ½ä¸ºä¸šåŠ¡çš„é•¿æœŸå‘å±•æä¾›æ•°æ®æ”¯æ’‘ã€‚å¸Œæœ›æœ¬æ–‡çš„å®æˆ˜æŒ‡å—èƒ½å¸®åŠ©ä½ é«˜æ•ˆè½åœ°å†å²æ•°æ®å½’æ¡£éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ QWebChannel å®ç° JS ä¸ C++ åŒå‘é€šä¿¡ï¼ˆè¶…è¯¦ç»† + è¸©å‘æ€»ç»“ + Demoï¼‰]]></title>    <link>https://juejin.cn/post/7593679324248342528</link>    <guid>https://juejin.cn/post/7593679324248342528</guid>    <pubDate>2026-01-12T02:12:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593679324248342528" data-draft-id="7593679324248326144" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ QWebChannel å®ç° JS ä¸ C++ åŒå‘é€šä¿¡ï¼ˆè¶…è¯¦ç»† + è¸©å‘æ€»ç»“ + Demoï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T02:12:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›„å¤§"/> <meta itemprop="url" content="https://juejin.cn/user/1116759546159310"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ QWebChannel å®ç° JS ä¸ C++ åŒå‘é€šä¿¡ï¼ˆè¶…è¯¦ç»† + è¸©å‘æ€»ç»“ + Demoï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759546159310/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›„å¤§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:12:18.000Z" title="Mon Jan 12 2026 02:12:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½¿ç”¨ QWebChannel å®ç° JS ä¸ C++ åŒå‘é€šä¿¡ï¼ˆè¶…è¯¦ç»† + è¸©å‘æ€»ç»“ + Demoï¼‰</h2>
<p>åœ¨åŸºäºÂ <strong>QWebEngine</strong>Â çš„é¡¹ç›®ä¸­ï¼Œè¦è®©Â <strong>å‰ç«¯ JavaScript</strong>Â ä¸Â <strong>åç«¯ C++</strong> Â äº’ç›¸é€šä¿¡ï¼Œæ˜¯éå¸¸å…³é”®çš„èƒ½åŠ›ã€‚ Qt å®˜æ–¹æä¾›çš„æ–¹æ¡ˆå°±æ˜¯Â <strong>QWebChannel</strong>ï¼Œå®ƒèƒ½è®©ä½ åƒè°ƒç”¨æœ¬åœ°å¯¹è±¡ä¸€æ ·ä» JS è®¿é—® C++ï¼Œå¹¶ä¸”æ”¯æŒä¿¡å·/æ§½ã€å¼‚æ­¥å›è°ƒç­‰ã€‚</p>
<p>ä½†å®é™…é¡¹ç›®ä¸­å¸¸è§å„ç§é—®é¢˜ï¼š</p>
<ul>
<li>JS ä¾§æ— æ³•æ‹¿åˆ°å¯¹è±¡ï¼Ÿ</li>
<li>ä¿¡å·ä¸è§¦å‘ï¼Ÿ</li>
<li>è·¨çº¿ç¨‹å¯¼è‡´é—ªé€€ï¼Ÿ</li>
<li>å¯¹è±¡é”€æ¯å JS ä»ç„¶åœ¨è°ƒç”¨ï¼Ÿ</li>
<li>Page/Pageå†åˆ›å»ºå¯¼è‡´ channel å¤±æ•ˆï¼Ÿ</li>
</ul>
<p>æœ¬æ–‡å°†å¸¦ä½ å½»åº•ææ‡‚ QWebChannel çš„æœºåˆ¶ï¼Œé¿å‘ï¼Œå¹¶ç»™å‡ºå¯è¿è¡Œçš„ Demoã€‚</p>
<h3 data-id="heading-1">ä¸€ã€QWebChannel çš„é€šä¿¡åŸç†</h3>
<p>JS ä¸ C++ çš„äº¤äº’æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">C++ QObject â†â†’Â WebChannelÂ <span class="hljs-title function_">Transport</span>Â <span class="hljs-params">(QWebEngine)</span>Â â†â†’ JS å¯¹è±¡
</code></pre>
<p>å®é™…é€šä¿¡ä¾èµ–ä¸¤éƒ¨åˆ†ï¼š</p>
<h3 data-id="heading-2">â‘  C++ ä¾§ï¼šQObject + QWebChannel</h3>
<ul>
<li>QObject å¿…é¡»ç»§æ‰¿è‡ª QObject</li>
<li>æƒ³æš´éœ²ç»™ JS çš„å±æ€§/æ–¹æ³•å¿…é¡»åŠ  Q_INVOKABLE æˆ– Q_PROPERTY</li>
<li>ä¿¡å·å¯ä»¥ç›´æ¥ç»™ JS å‘é€äº‹ä»¶</li>
<li>å°† QObject æ³¨å†Œè¿› QWebChannelï¼š</li>
</ul>

<pre><code class="hljs language-rust" lang="rust">channel<span class="hljs-punctuation">-&gt;</span><span class="hljs-title function_ invoke__">registerObject</span>(<span class="hljs-string">"bridge"</span>, myBridgeObject);
</code></pre>
<h3 data-id="heading-3">â‘¡ JS ä¾§ï¼šqwebchannel.js</h3>
<p>ç½‘é¡µåŠ è½½åå¿…é¡»åˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">newÂ QWebChannel(qt.webChannelTransport,Â function(channel)Â {
Â  Â Â <span class="hljs-attr">window.bridge</span> = channel.objects.bridge<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>ç„¶åï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è°ƒç”¨ C++</span>
bridge.<span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">"hello"</span>);

<span class="hljs-comment">// æ¥æ”¶ C++ ä¿¡å·</span>
bridge.<span class="hljs-property">messageChanged</span>.<span class="hljs-title function_">connect</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>){
Â  Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"C++ emit:"</span>, msg);
});
</code></pre>
<h3 data-id="heading-4">äºŒã€ä¸€ä¸ªå¯è·‘çš„åŒå‘é€šä¿¡ Demoï¼ˆæœ€å°å¯è¿è¡Œï¼‰</h3>
<h4 data-id="heading-5">1. C++ ç«¯ä»£ç </h4>
<h5 data-id="heading-6">bridge.h</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span>Â once</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;QObject&gt;</span></span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Bridge</span>Â :<span class="hljs-keyword">public</span>Â QObject {
Â  Â  Q_OBJECT
<span class="hljs-keyword">public</span>:
Â  Â Â <span class="hljs-function"><span class="hljs-keyword">explicit</span>Â <span class="hljs-title">Bridge</span><span class="hljs-params">(QObject* parent =Â <span class="hljs-literal">nullptr</span>)</span>Â :Â QObject(parent)Â {</span>}

Â  Â Â <span class="hljs-comment">// JS è°ƒç”¨ C++</span>
Â  Â Â <span class="hljs-function">Q_INVOKABLEÂ <span class="hljs-type">void</span>Â <span class="hljs-title">sendMessage</span><span class="hljs-params">(<span class="hljs-type">const</span>Â QString&amp; msg)</span>Â </span>{
Â  Â  Â  Â  <span class="hljs-built_in">qDebug</span>() &lt;&lt;Â <span class="hljs-string">"JS è°ƒç”¨ C++ï¼š"</span>Â &lt;&lt; msg;
Â  Â  Â  Â Â <span class="hljs-function">emitÂ <span class="hljs-title">messageChanged</span><span class="hljs-params">(<span class="hljs-string">"C++ æ”¶åˆ°ï¼š"</span>Â + msg)</span></span>;
Â  Â  }

signals:
Â  Â Â <span class="hljs-comment">// C++ â†’ JS</span>
Â  Â Â <span class="hljs-function"><span class="hljs-type">void</span>Â <span class="hljs-title">messageChanged</span><span class="hljs-params">(<span class="hljs-type">const</span>Â QString&amp; msg)</span></span>;
};
</code></pre>
<h5 data-id="heading-7">mainwindow.cpp</h5>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">"mainwindow.h"</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;QWebEngineView&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;QWebEnginePage&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span>Â <span class="hljs-string">&lt;QWebChannel&gt;</span></span>

MainWindow::<span class="hljs-built_in">MainWindow</span>(QWidget* parent)
Â  Â  : <span class="hljs-built_in">QMainWindow</span>(parent)
{
Â  Â  <span class="hljs-keyword">auto</span>* view = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QWebEngineView</span>(<span class="hljs-keyword">this</span>);
Â  Â  <span class="hljs-keyword">auto</span>* page = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QWebEnginePage</span>(<span class="hljs-keyword">this</span>);
Â  Â  view-&gt;<span class="hljs-built_in">setPage</span>(page);
Â  Â  <span class="hljs-built_in">setCentralWidget</span>(view);

Â  Â  <span class="hljs-comment">// åˆ›å»º C++ å¯¹è±¡</span>
Â  Â  <span class="hljs-keyword">auto</span>* bridge = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Bridge</span>(<span class="hljs-keyword">this</span>);

Â  Â  <span class="hljs-comment">// åˆ›å»º QWebChannel</span>
Â  Â  <span class="hljs-keyword">auto</span>* channel = <span class="hljs-keyword">new</span> <span class="hljs-built_in">QWebChannel</span>(<span class="hljs-keyword">this</span>);
Â  Â  channel-&gt;<span class="hljs-built_in">registerObject</span>(<span class="hljs-string">"bridge"</span>, bridge);
Â  Â  page-&gt;<span class="hljs-built_in">setWebChannel</span>(channel);

Â  Â  view-&gt;<span class="hljs-built_in">load</span>(<span class="hljs-built_in">QUrl</span>(<span class="hljs-string">"qrc:/index.html"</span>));

Â  Â  <span class="hljs-comment">// æ¨¡æ‹Ÿ 3 ç§’åç»™ JS å‘æ¶ˆæ¯</span>
Â  Â  QTimer::<span class="hljs-built_in">singleShot</span>(<span class="hljs-number">3000</span>, [bridge]() {
Â  Â  Â  Â  emit bridge-&gt;<span class="hljs-built_in">messageChanged</span>(<span class="hljs-string">"æ¥è‡ª C++ çš„é—®å€™ï¼"</span>);
Â  Â  });
}
</code></pre>
<h3 data-id="heading-8">2. å‰ç«¯ï¼š<code>index.html</code></h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPEÂ <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">meta</span>Â <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>Â /&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">script</span>Â <span class="hljs-attr">src</span>=<span class="hljs-string">"qrc:///qtwebchannel/qwebchannel.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>QWebChannel Demo<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">input</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"msg"</span>Â <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"å‘é€ç»™ C++ çš„æ¶ˆæ¯"</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span>Â <span class="hljs-attr">onclick</span>=<span class="hljs-string">"callCpp()"</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">p</span>Â <span class="hljs-attr">id</span>=<span class="hljs-string">"log"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
Â  Â  Â  Â Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">QWebChannel</span>(qt.<span class="hljs-property">webChannelTransport</span>,Â <span class="hljs-keyword">function</span>Â (<span class="hljs-params">channel</span>)Â {
Â  Â  Â  Â  Â  Â Â <span class="hljs-variable language_">window</span>.<span class="hljs-property">bridge</span> = channel.<span class="hljs-property">objects</span>.<span class="hljs-property">bridge</span>;

Â  Â  Â  Â  Â  Â Â <span class="hljs-comment">// C++ â†’ JS</span>
Â  Â  Â  Â  Â  Â  bridge.<span class="hljs-property">messageChanged</span>.<span class="hljs-title function_">connect</span>(<span class="hljs-keyword">function</span>Â (<span class="hljs-params">msg</span>)Â {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">log</span>(<span class="hljs-string">"æ”¶åˆ° C++ï¼š"</span>Â + msg);
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });

Â  Â  Â  Â Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">callCpp</span>(<span class="hljs-params"/>)Â {
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">const</span>Â msg =Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"msg"</span>).<span class="hljs-property">value</span>;
Â  Â  Â  Â  Â  Â  bridge.<span class="hljs-title function_">sendMessage</span>(msg);
Â  Â  Â  Â  }

Â  Â  Â  Â Â <span class="hljs-keyword">function</span>Â <span class="hljs-title function_">log</span>(<span class="hljs-params">msg</span>)Â {
Â  Â  Â  Â  Â  Â Â <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"log"</span>).<span class="hljs-property">innerHTML</span> += msg +Â <span class="hljs-string">"&lt;br&gt;"</span>;
Â  Â  Â  Â  }
Â  Â Â </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>è¿™ä¸ª Demo èƒ½å®ç°ï¼š</p>
<ul>
<li>JS è°ƒ C++</li>
<li>C++ è°ƒ JSï¼ˆä¿¡å·ï¼‰</li>
<li>å¼‚æ­¥é€šä¿¡</li>
<li>é¡µé¢åŠ è½½è‡ªåŠ¨åˆå§‹åŒ– WebChannel</li>
</ul>
<h2 data-id="heading-9">ä¸‰ã€QWebChannel å¸¸è§é—®é¢˜ä¸é¿å‘æŒ‡å—ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<h3 data-id="heading-10">1. JS ä¾§æ€»æ˜¯æ‹¿ä¸åˆ°å¯¹è±¡ï¼ˆundefinedï¼‰</h3>
<p>å…¸å‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">console.<span class="hljs-built_in">log</span>(bridge); <span class="hljs-comment">// undefined</span>
</code></pre>
<h3 data-id="heading-11">æ­£ç¡®åšæ³•ï¼šæ‰€æœ‰ JS è°ƒç”¨å¿…é¡»åœ¨ QWebChannel åˆå§‹åŒ–ä¹‹å</h3>
<pre><code class="hljs language-ini" lang="ini">new QWebChannel(qt.webChannelTransport,Â function(channel){
Â  Â  <span class="hljs-attr">window.bridge</span> = channel.objects.bridge<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>âš Â <strong>ä¸è¦</strong>åœ¨Â <code>window.onload</code>Â æˆ–é¡¶å±‚å°±è°ƒç”¨ bridgeã€‚</p>
<h3 data-id="heading-12">2. è·¨çº¿ç¨‹è®¿é—®å¯¼è‡´å´©æºƒï¼ˆæœ€å¸¸è§ï¼‰</h3>
<p>è‹¥ä½ æŠŠÂ <code>Bridge</code>Â æ”¾åˆ°å­çº¿ç¨‹ï¼Œä¼šç›´æ¥å´©æºƒã€‚</p>
<p>åŸå› ï¼š QWebChannel é€šä¿¡å¿…é¡»åœ¨ UI / WebEngine æ‰€åœ¨çº¿ç¨‹ä½¿ç”¨ï¼Œå¦åˆ™ QObject ä¼šè¢«è·¨çº¿ç¨‹è®¿é—®ã€‚</p>
<h3 data-id="heading-13">æ­£ç¡®æ–¹æ¡ˆï¼š</h3>
<ul>
<li><strong>bridge å¿…é¡»åœ¨ä¸»çº¿ç¨‹</strong></li>
<li>å¦‚æœä½ éœ€è¦è·¨çº¿ç¨‹ï¼Œå¯åœ¨ Bridge ä¸­å°è£…ä¿¡å·è½¬å‘ï¼š</li>
</ul>

<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function">Q_INVOKABLE <span class="hljs-type">void</span> <span class="hljs-title">updateDataFromWorkerThread</span><span class="hljs-params">(<span class="hljs-type">const</span> QString&amp; msg)</span> </span>{
Â  Â  <span class="hljs-function">emit <span class="hljs-title">messageChanged</span><span class="hljs-params">(msg)</span></span>; <span class="hljs-comment">// ä»ç„¶åœ¨ä¸»çº¿ç¨‹å‘</span>
}
</code></pre>
<p>Qt ä¼šè‡ªåŠ¨é€šè¿‡ queued connection åˆ‡å›ä¸»çº¿ç¨‹ã€‚</p>
<h3 data-id="heading-14">3. é¡µé¢é‡æ–°åŠ è½½å channel å¤±æ•ˆ</h3>
<p>å½“ä½  reload()ã€load() æ–°é¡µé¢åï¼š ä¹‹å‰çš„ JS å¯¹è±¡å…¨éƒ¨å¤±æ•ˆã€‚</p>
<h4 data-id="heading-15">å¿…é¡»åœ¨æ¯æ¬¡é¡µé¢åŠ è½½åé‡æ–°å»ºç«‹ WebChannel</h4>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">connect</span>(page, &amp;QWebEnginePage::loadFinished,Â this, [=](boolÂ ok){
Â  Â Â <span class="hljs-built_in">if</span>(ok) {
Â  Â  Â  Â  page-&gt;<span class="hljs-built_in">setWebChannel</span>(channel);
Â  Â  }
});
</code></pre>
<p>âš  Qt 5 å¿…åšï¼ŒQt 6 å·²è‡ªåŠ¨å¤„ç†ä½†å»ºè®®ä»å†™ä¸Šã€‚</p>
<h3 data-id="heading-16">4.Â <strong>C++ ä¿¡å·æ²¡æœ‰è§¦å‘ JS å›è°ƒ</strong></h3>
<p>å¸¸è§åŸå› ï¼š</p>
<ul>
<li>Bridge å¯¹è±¡è¢«é”€æ¯</li>
<li>ä¿¡å·ç­¾åä¸åŒ¹é…</li>
<li>JS å›è°ƒå†™åœ¨ WebChannel åˆå§‹åŒ–å¤–éƒ¨</li>
<li>ä¿¡å·å‚æ•°ä¸ºè‡ªå®šä¹‰ç±»å‹ä½†æœª qRegisterMetaType</li>
</ul>
<h4 data-id="heading-17">æ’æŸ¥é¡ºåºï¼š</h4>
<ul>
<li>C++ æ‰“å°ä¿¡å·æ˜¯å¦å‘å‡º</li>
<li>JS log æ˜¯å¦æœ‰å›è°ƒ</li>
<li>å‚æ•°ç±»å‹æ˜¯å¦æ˜¯ QVariant èƒ½è½¬çš„åŸºæœ¬ç±»å‹</li>
<li>Bridge æ˜¯å¦æŒ‚é åœ¨ MainWindowï¼ˆä¸è¦è®©å…¶éš WebPage é”€æ¯ï¼‰</li>
</ul>
<h3 data-id="heading-18">5.Â <strong>å¤æ‚å‚æ•°ï¼ˆå¯¹è±¡/æ•°ç»„ï¼‰å¯¼è‡´ JS ä¸æ¥æ”¶</strong></h3>
<p>æ”¯æŒï¼š</p>
<ul>
<li>QString</li>
<li>int/double/bool</li>
<li>QVariantListï¼ˆJS Arrayï¼‰</li>
<li>QVariantMapï¼ˆJS Objectï¼‰</li>
</ul>
<p>ä½†ä¸æ”¯æŒ C++ è‡ªå®šä¹‰ç»“æ„ä½“ã€‚</p>
<h4 data-id="heading-19">è§£å†³ï¼š</h4>
<pre><code class="hljs language-ini" lang="ini">QVariantMap obj<span class="hljs-comment">;</span>
obj<span class="hljs-section">["name"]</span> =Â "Tom"<span class="hljs-comment">;</span>
obj<span class="hljs-section">["age"]</span> = 12<span class="hljs-comment">;</span>
emit messageChanged(obj)<span class="hljs-comment">;</span>
</code></pre>
<p>JSï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">bridge.<span class="hljs-property">messageChanged</span>.<span class="hljs-title function_">connect</span>(<span class="hljs-keyword">function</span>Â (<span class="hljs-params">obj</span>)Â {
Â  Â Â <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">name</span>);
});
</code></pre>
<h3 data-id="heading-20">äº”ã€æ€»ç»“</h3>
<p>QWebChannel æ˜¯ Qt WebEngine ä¸­æœ€å¯é ã€æœ€å¼ºå¤§çš„å‰åç«¯é€šä¿¡æ–¹å¼ï¼Œä½†éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>Bridge å¿…é¡»åœ¨ä¸»çº¿ç¨‹</li>
<li>JS å¿…é¡»åœ¨åˆå§‹åŒ–å›è°ƒåæ‰èƒ½ä½¿ç”¨å¯¹è±¡</li>
<li>å‚æ•°ä½¿ç”¨ QVariant å¯åºåˆ—åŒ–</li>
<li>é¡µé¢åˆ·æ–°åå¿…é¡»é‡æ–° setWebChannel</li>
<li>è·¨çº¿ç¨‹è°ƒç”¨éœ€è°¨æ…ï¼ˆä¿¡å·è½¬å‘ï¼‰</li>
</ul>
<p>å¾€æœŸç²¾å½©å›é¡¾</p>
<p>â˜QWebEngine å®æˆ˜ï¼šè‡ªå®šä¹‰å³é”®èœå•ã€æ–‡ä»¶ä¸‹è½½ã€Cookie ç®¡ç†ä¸ User-Agent è®¾ç½®<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c25f0a448bf14c7f8f9c9851ff16163e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZuE5aSn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768788738&amp;x-signature=Gr31YF419LMUyfkV5PDLMzATbGc%3D" alt="å›¾ç‰‡" loading="lazy"/>â˜Â QWebEngine å¸¸ç”¨ API å…¨é¢æ¢³ç†<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2255459ee4a54829adcd635241a65cfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZuE5aSn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768788738&amp;x-signature=k%2BDCMVXy3aZkT0HSwi7GQwSSiss%3D" alt="å›¾ç‰‡" loading="lazy"/>â˜Â QWebEngine ç³»åˆ—ç»„ä»¶å…¨å…³ç³»æ¢³ç†<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e251a641b08041b79a6fe8ac606e2cc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZuE5aSn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768788738&amp;x-signature=tGt6ZkHfN4Yg5v0JaZA5WHEet18%3D" alt="å›¾ç‰‡" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°å­—å­ªç”Ÿé¡¹ç›®æ•ˆç‡ç¿»å€ï¼AIæŠ€æœ¯å®æµ‹ä¸åœºæ™¯éªŒè¯å®å½•]]></title>    <link>https://juejin.cn/post/7593679324248588288</link>    <guid>https://juejin.cn/post/7593679324248588288</guid>    <pubDate>2026-01-12T02:52:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593679324248588288" data-draft-id="7593660309413593088" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°å­—å­ªç”Ÿé¡¹ç›®æ•ˆç‡ç¿»å€ï¼AIæŠ€æœ¯å®æµ‹ä¸åœºæ™¯éªŒè¯å®å½•â€‹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T02:52:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mapmost"/> <meta itemprop="url" content="https://juejin.cn/user/1679709496936343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°å­—å­ªç”Ÿé¡¹ç›®æ•ˆç‡ç¿»å€ï¼AIæŠ€æœ¯å®æµ‹ä¸åœºæ™¯éªŒè¯å®å½•â€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1679709496936343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mapmost
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:52:56.000Z" title="Mon Jan 12 2026 02:52:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>AIGCæŠ€æœ¯æ­£ä»¥å¤©ä¸ºå•ä½åˆ·æ–°è®¤çŸ¥ã€‚ä»ChatGPTã€Midjourneyåˆ°Soraï¼Œç”Ÿæˆå¼AIæµªæ½®ä¸€æµªé«˜è¿‡ä¸€æµªï¼Œæ•°å­—å­ªç”Ÿè¡Œä¸šä¹Ÿä¸ä¾‹å¤–â€”â€”å¦‚ä»Šçš„æŠ€æœ¯è®ºå›ï¼Œä¸æAIGCä»¿ä½›å°±è½ä¼äº†ã€‚</p>
<p>å½“å‰ï¼ŒAIGCåœ¨æ•°å­—å­ªç”Ÿé¢†åŸŸçš„åº”ç”¨æ­£é€æ­¥æ·±å…¥ï¼Œä½†ç”±äºæ•°å­—å­ªç”Ÿå¯¹ç²¾åº¦ã€æ•°æ®å’Œå¯é æ€§è¦æ±‚é«˜ï¼Œè¿™ä¸AIGCå›ºæœ‰çš„"æ¦‚ç‡ç”Ÿæˆ"ç‰¹æ€§ä¹‹é—´å­˜åœ¨çŸ›ç›¾ã€‚å› æ­¤ï¼Œæ ¸å¿ƒé—®é¢˜å¹¶éæŠ€æœ¯æ˜¯å¦é€‚ç”¨ï¼Œè€Œåœ¨äºå¦‚ä½•æ‰¾åˆ°AIGCèƒ½è½åœ°çš„ä»·å€¼ç¯èŠ‚ã€‚</p>
<p>æœ¬æ–‡ä»¥<strong>Mapmostæ™ºæ…§æ”¶è´¹ç«™é¡¹ç›®</strong>ä¸ºä¾‹ï¼Œæ¢è®¨AIGCåœ¨çœŸå®åœºæ™¯ä¸­å¯å®ç°çš„åº”ç”¨ç‚¹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/769c103a669441208bb23cd635f4ea36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=UAU21o%2F4YJy2J7qswofJBYMAPiw%3D" alt="" loading="lazy"/></p>
<p><em>ç»“åˆAIGCæµç¨‹çš„Mapmostæ™ºæ…§æ”¶è´¹ç«™åº”ç”¨</em></p>
<h2 data-id="heading-1">01 å»ºæ¨¡AIè¾…åŠ©ï¼šè®¾å¤‡å»ºæ¨¡æ•ˆç‡æå‡</h2>
<p>åˆæœŸå°è¯•æ–‡æœ¬ç”Ÿæˆæ¨¡å‹æ—¶ï¼Œçº¯æ–‡æœ¬è¾“å…¥å¦‚å¼€ç›²ç›’ï¼ŒåŒä¸€è®¾å¤‡å¤šæ¬¡ç”Ÿæˆ<strong>ç»“æœå·®å¼‚å¤§</strong>ï¼Œ<strong>è¿”å·¥æˆæœ¬é«˜</strong>ã€‚è½¬ä¸ºå›¾åƒè¾“å…¥(å°¤å…¶æ˜¯å¤šè§†è§’ç…§ç‰‡)åï¼Œ<strong>æ¨¡å‹ä¸€è‡´æ€§</strong>å’Œ<strong>ç»“æ„æ¯”ä¾‹</strong>æ˜æ˜¾æ”¹å–„ã€‚éƒ¨åˆ†AIGCä¸‰ç»´æ¨¡å‹ç”Ÿæˆå·¥å…·å·²å…·å¤‡<strong>ç»„ä»¶æ‹†åˆ†åŠŸèƒ½</strong>ï¼Œä½†å®é™…ä½¿ç”¨ä¸‹æ¥ï¼Œè¿™ç±»å·¥å…·å¯¹è§’è‰²æ¨¡å‹çš„ç†è§£æ¯”è®¾å¤‡ç±»æ¨¡å‹æ›´æˆç†Ÿã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07d77f40934a49a4bc30f9c59972e6eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=1DWr4xP3eJ431ilHrQzF3ptiylc%3D" alt="" loading="lazy"/></p>
<p><em>æ··å…ƒ3DStudioç»„ä»¶æ‹†åˆ†</em></p>
<p>è½¦è¾†ã€æ‘„åƒå¤´ã€é“é—¸ç­‰åŸæœ¬éœ€å¤§åŠå¤©æ‰‹å·¥å»ºæ¨¡çš„è®¾å¤‡ï¼Œç°å‡ åˆ†é’Ÿå³å¯ç”Ÿæˆå¯ç”¨æ¨¡å‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f8bbf6646df40dbbf30814e85980de1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=1MFpCQs%2BseU4hZaAtJGQEs1R548%3D" alt="" loading="lazy"/></p>
<p><em>ä½¿ç”¨HYPER3Dç”Ÿæˆçš„æ‘„åƒå¤´æ¨¡å‹</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7182718877874876b4654f26030c8a4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=fOkAASE8KaoHQfp0wBIM1ZsA3jc%3D" alt="" loading="lazy"/></p>
<p><em>ä½¿ç”¨è…¾è®¯æ··å…ƒ3Dç”Ÿæˆçš„è½¦æ¨¡å‹</em></p>
<p>åœ¨<strong>Mapmostæ™ºæ…§æ”¶è´¹ç«™é¡¹ç›®</strong>ä¸­ï¼Œè¿™ä¸€ç‚¹å¸®æˆ‘ä»¬çœäº†å¤§åŠŸå¤«ã€‚é¡¹ç›®éœ€è¦å¤§é‡ä¸åŒç±»å‹çš„è½¦è¾†æ¨¡å‹æ¥æ¨¡æ‹Ÿæ”¶è´¹æµç¨‹ï¼Œå¦‚æœçº¯æ‰‹å·¥åšï¼Œå…‰æ˜¯è½¦å‹å˜åŒ–å°±è¦æŠ˜è…¾å¥½å‡ å¤©ã€‚ç”¨AIç”Ÿæˆåï¼Œ<strong>å‡ åˆ†é’Ÿå°±èƒ½å‡ºä¸€è¾†ç»“æ„å®Œæ•´çš„è½¦ï¼Œæ ·å¼ã€é¢œè‰²è¿˜èƒ½æ ¹æ®åœºæ™¯éœ€æ±‚è°ƒæ•´</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fb512f38d8e45569f76e9b246f34a4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=81DkAwgCd9UVDQn8ZoemMvHPbao%3D" alt="" loading="lazy"/></p>
<p><em>æ™ºæ…§æ”¶è´¹ç«™é¡¹ç›®ä¸­ä½¿ç”¨AIç”Ÿæˆçš„æ±½è½¦æ¨¡å‹</em></p>
<h2 data-id="heading-2">02 çº¹ç†AIå¢å¼ºï¼šä¸€é”®ä¼˜åŒ–æè´¨æ¸…æ™°åº¦</h2>
<p>æ•°å­—å­ªç”Ÿä¸­ï¼Œ<strong>çº¹ç†è´¨é‡</strong>ç›´æ¥å½±å“åœºæ™¯çœŸå®æ„Ÿï¼Œä½†é«˜æ¸…çº¹ç†è·å–å¾€å¾€æ¯”å»ºæ¨¡æ›´å›°éš¾ã€‚AIå›¾åƒå¢å¼ºå·¥å…·é€šè¿‡<strong>è¶…åˆ†è¾¨ç‡ç®—æ³•</strong>ï¼Œå¯<strong>æå‡</strong>ä½æ¸…çº¹ç†çš„<strong>æ¸…æ™°åº¦ã€é”åˆ©è¾¹ç¼˜å’Œæè´¨çœŸå®æ„Ÿ</strong>ï¼Œå°†â€œèƒ½ç”¨â€çš„çº¹ç†å˜ä¸ºâ€œå¥½ç”¨â€çš„çº¹ç†ã€‚</p>
<p>åœ¨<strong>Mapmostæ™ºæ…§æ”¶è´¹ç«™é¡¹ç›®</strong>ä¸­ï¼Œ<strong>å®æ™¯ä¸‰ç»´æ¨¡å‹</strong>ä¸<strong>æ‰‹å·¥ç²¾æ¨¡</strong>éœ€è¦è¡”æ¥é¡ºç•…ï¼Œä½†ä¸¤è€…çš„çº¹ç†éƒ½æ¥æºäºç°åœºæ‹æ‘„çš„ç…§ç‰‡ï¼Œæ¸…æ™°åº¦å‚å·®ä¸é½ã€‚æ‰‹å·¥æ¨¡å‹çš„æè´¨ç»†èŠ‚ä¸è¶³ï¼Œè´¨æ„Ÿå±‚çº§ä¸å®æ™¯æ¨¡å‹å¯¹ä¸ä¸Šï¼Œæ”¾åœ¨åŒä¸€åœºæ™¯ä¸­è§†è§‰å·®å¼‚æ˜æ˜¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3ea49f6e81c4d56a3fe3243b4825ec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=0PgV4ZIRQftAc5gBkcV%2BL3uA6%2FM%3D" alt="" loading="lazy"/></p>
<p><em>ä½¿ç”¨AIå¢å¼ºçº¹ç†æ¸…æ™°åº¦</em></p>
<p>ç”¨AIå·¥å…·å¢å¼ºåï¼Œçº¹ç†çš„è¾¹ç¼˜ç»†èŠ‚å’Œæè´¨è´¨æ„Ÿéƒ½è¢«æ‹‰åˆ°äº†åŒä¸€æ°´å¹³çº¿ã€‚ä¸¤ç§æ¨¡å‹çš„è§†è§‰å·®å¼‚è¢«æœ‰æ•ˆæŠ¹å¹³ï¼Œèåˆèµ·æ¥çš„åœºæ™¯ä¸å†"å„è¯´å„è¯"ï¼Œæ•´ä½“è§‚æ„Ÿæ›´ç»Ÿä¸€ï¼Œå®¢æˆ·ç°åœºæ¼”ç¤ºæ—¶çš„<strong>æ²‰æµ¸æ„Ÿ</strong>ä¹Ÿæå‡äº†å¥½å‡ ä¸ªæ¡£æ¬¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/224251cec2e54ca8aaec2b2df1767014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=we28gJryOunnPJ9DLSZTVSjwA4I%3D" alt="" loading="lazy"/></p>
<p><em>Mapmostæ™ºæ…§æ”¶è´¹ç«™èåˆæ‰‹å·¥ç²¾æ¨¡ä¸å€¾æ–œæ•°æ®çš„æ•ˆæœ</em></p>
<h2 data-id="heading-3">03 è§†é¢‘AIç”Ÿæˆï¼šé™æ€æˆªå›¾ç§’å˜åŠ¨æ•ˆæ¼”ç¤º</h2>
<p>é¡¹ç›®æ±‡æŠ¥é˜¶æ®µï¼Œ**â€œè®²æ˜ç™½â€<strong>ä¸</strong>â€œåšå‡ºæ¥â€**åŒæ ·å…³é”®ã€‚è§†é¢‘ç”ŸæˆAIèƒ½æ ¹æ®åˆå§‹ç”»é¢å’Œç›®æ ‡ç”»é¢ï¼Œè‡ªåŠ¨ç”Ÿæˆ5â€“10ç§’çš„è¿‡æ¸¡åŠ¨ç”»ï¼Œåœ¨ç³»ç»Ÿæœªå®Œå…¨å°±ç»ªæ—¶ï¼Œå¿«é€Ÿåˆ¶ä½œæ¼”ç¤ºç´ æï¼Œ<strong>ä½¿æ±‡æŠ¥ä»â€œå‡­æƒ³è±¡â€å˜ä¸ºâ€œçœ‹å¾—è§â€</strong>ã€‚</p>
<p>åœ¨Mapmosté¡¹ç›®å‰æœŸæ±‡æŠ¥ä¸­ï¼Œåˆ©ç”¨è¯¥åŠŸèƒ½å¿«é€Ÿç”Ÿæˆæ”¶è´¹ç«™é¸Ÿç°æ¼«æ¸¸è§†é¢‘ï¼Œç›´è§‚å±•ç¤ºæ”¶è´¹ç«™å¸ƒå±€ä¸é‡ç‚¹åŒºåŸŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b1c0faaf39b456fab4a89da26b91ae6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFwbW9zdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768791175&amp;x-signature=ROqixObtYhA2FUFqg9v9qxjr5v0%3D" alt="" loading="lazy"/></p>
<p><em>é¡¹ç›®å‰æœŸä½¿ç”¨å³æ¢¦AIç”Ÿæˆçš„æ±‡æŠ¥ç´ æ</em></p>
<h2 data-id="heading-4">04 Mapmostæœªæ¥å·¥ä½œæµå…¨é¢å‡çº§</h2>
<p>æœªæ¥ï¼Œæ™ºèƒ½æŠ€æœ¯å°†åœ¨æ•°å­—å­ªç”Ÿé¢†åŸŸé‡Šæ”¾æ›´å¤šå¯èƒ½ï¼Œä¸æ­¢äºå»ºæ¨¡ã€çº¹ç†å’Œè§†é¢‘ç”Ÿæˆï¼Œæ›´èƒ½<strong>æ·±å…¥ç†è§£åœºæ™¯ã€ç²¾å‡†åŒ¹é…ä¸šåŠ¡éœ€æ±‚</strong>ã€‚</p>
<p>å¯¹Mapmostæ¥è¯´ï¼Œè¿™äº›èƒ½åŠ›å°†è¢«æ— ç¼èå…¥æˆ‘ä»¬çš„å·¥ä½œæµï¼Œè®©é¡¹ç›®å®æ–½<strong>æ›´å¿«ã€æˆæœ¬æ›´ä½</strong>ï¼ŒæŠŠæ›´å¤šç²¾åŠ›èšç„¦åœ¨çœŸæ­£çš„ä¸šåŠ¡åˆ›æ–°ä¸ä»·å€¼åˆ›é€ ä¸Šâ€”â€”è®©æ™ºæ…§åŸå¸‚å’Œæ•°å­—å­ªç”Ÿçš„è½åœ°ï¼Œå˜å¾—æ›´ç®€å•ã€æ›´é«˜æ•ˆã€‚</p>
<p><strong>ç«‹å³ä½“éªŒï¼Œå¼€å§‹ä¸‰ç»´å¼€å‘ä¹‹æ—…ï¼</strong></p>
<p>ğŸ‘‰ <strong>ç‚¹å‡»è®¿é—®å®˜ç½‘å…è´¹è¯•ç”¨ï¼š</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mapmost.com%2F%23%2FproductMatrix" target="_blank" title="https://www.mapmost.com/#/productMatrix" ref="nofollow noopener noreferrer">Mapmostå®˜ç½‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[Channel-SwizzleèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7593997819691909129</link>    <guid>https://juejin.cn/post/7593997819691909129</guid>    <pubDate>2026-01-12T03:01:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593997819691909129" data-draft-id="7593845442372747310" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[Channel-SwizzleèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2026-01-12T03:01:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[Channel-SwizzleèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T03:01:02.000Z" title="Mon Jan 12 2026 03:01:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<h2 data-id="heading-0">SwizzleèŠ‚ç‚¹çš„æ ¸å¿ƒæ¦‚å¿µæ·±åº¦è§£æ</h2>
<p>åœ¨Unityé€šç”¨æ¸²æŸ“ç®¡çº¿ï¼ˆURPï¼‰çš„Shader Graphå¯è§†åŒ–ç€è‰²å™¨ç¼–è¾‘å™¨ä¸­ï¼ŒSwizzleèŠ‚ç‚¹æ‰¿æ‹…ç€çŸ¢é‡åˆ†é‡é‡æ’çš„å…³é”®åŠŸèƒ½ã€‚è¿™ç§ç§°ä¸º"é‡æ’"çš„æ“ä½œæ¨¡å¼ï¼Œåœ¨è®¡ç®—æœºå›¾å½¢å­¦ä¸­å…·æœ‰æ·±åšçš„ç†è®ºåŸºç¡€ï¼Œæ˜¯é«˜æ•ˆå¤„ç†å›¾å½¢æ•°æ®çš„é‡è¦æŠ€æœ¯æ‰‹æ®µã€‚</p>
<p>çŸ¢é‡ä½œä¸ºåŸºç¡€æ•°å­¦æ¦‚å¿µï¼Œèƒ½å¤Ÿæè¿°æ–¹å‘å’Œå¤§å°çš„åŒé‡å±æ€§ã€‚åœ¨æ¸¸æˆå’Œåº”ç”¨å¼€å‘ä¸­ï¼ŒçŸ¢é‡å¹¿æ³›åº”ç”¨äºæè¿°åŸºæœ¬å±æ€§ï¼ŒåŒ…æ‹¬è§’è‰²ä½ç½®ã€è¿åŠ¨é€Ÿåº¦æˆ–ç‰©ä½“é—´è·ç¦»ã€‚ç†è§£çŸ¢é‡ç®—æœ¯å¯¹äºå›¾å½¢ç¼–ç¨‹ã€ç‰©ç†æ¨¡æ‹Ÿå’ŒåŠ¨ç”»åˆ¶ä½œè‡³å…³é‡è¦ï¼Œè€ŒSwizzleèŠ‚ç‚¹æ­£æ˜¯è¿™ä¸€çŸ¥è¯†åœ¨Shader Graphä¸­çš„å…·ä½“å®ç°ã€‚</p>
<h2 data-id="heading-1">é‡æ’æ“ä½œçš„åŸºæœ¬æ•°å­¦åŸç†</h2>
<h3 data-id="heading-2">é‡æ’æ“ä½œçš„æœ¬è´¨</h3>
<p>é‡æ’æ“ä½œçš„æœ¬è´¨æ˜¯å¯¹çŸ¢é‡åˆ†é‡çš„é‡æ–°æ’åˆ—ä¸ç»„åˆã€‚åœ¨ç€è‰²å™¨ç¼–ç¨‹ä¸­ï¼ŒçŸ¢é‡é€šå¸¸åŒ…å«å¤šä¸ªåˆ†é‡ï¼Œå¦‚ä½ç½®åæ ‡(x,y,z)ã€é¢œè‰²å€¼(r,g,b,a)æˆ–çº¹ç†åæ ‡(u,v)ç­‰ã€‚é€šè¿‡SwizzleèŠ‚ç‚¹ï¼Œå¼€å‘è€…å¯ä»¥çµæ´»åœ°æ“ä½œè¿™äº›åˆ†é‡å…³ç³»ï¼š</p>
<ul>
<li><strong>åˆ†é‡æå–</strong>ï¼šä»é«˜ç»´çŸ¢é‡ä¸­æå–ç‰¹å®šç»´åº¦çš„å­é›†</li>
<li><strong>é¡ºåºè°ƒæ•´</strong>ï¼šæ”¹å˜åˆ†é‡æ’åˆ—é¡ºåºä»¥é€‚åº”ç‰¹å®šç®—æ³•</li>
<li><strong>æ•°æ®è½¬æ¢</strong>ï¼šåœ¨ä¸åŒæ•°æ®è¡¨ç¤ºæ ¼å¼é—´è¿›è¡Œè½¬æ¢</li>
</ul>
<h2 data-id="heading-3">é‡æ’æ©ç è¯­æ³•è§„åˆ™è¯¦è§£</h2>
<h3 data-id="heading-4">åŒç³»ç»Ÿå­—ç¬¦è¡¨ç¤ºä½“ç³»</h3>
<ul>
<li>åæ ‡ç³»ç»Ÿï¼šä½¿ç”¨xã€yã€zã€wè¡¨ç¤ºçŸ¢é‡çš„å››ä¸ªåˆ†é‡</li>
<li>é¢œè‰²ç³»ç»Ÿï¼šä½¿ç”¨rã€gã€bã€aè¡¨ç¤ºé¢œè‰²çš„å››ä¸ªé€šé“</li>
</ul>
<p>è¿™ä¸¤ç§è¡¨ç¤ºç³»ç»Ÿåœ¨åŠŸèƒ½ä¸Šå®Œå…¨ç­‰æ•ˆï¼Œä½†åœ¨è¯­ä¹‰ä¸Šæœ‰æ‰€åŒºåˆ«ã€‚åæ ‡ç³»ç»Ÿæ›´é€‚åˆå¤„ç†ä½ç½®ã€æ³•çº¿ç­‰å‡ ä½•æ•°æ®ï¼Œè€Œé¢œè‰²ç³»ç»Ÿæ›´ç›´è§‚åœ°å¤„ç†é¢œè‰²ç›¸å…³ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-5">æ©ç ç»´åº¦æ˜ å°„è§„åˆ™</h3>
<p>å•å­—ç¬¦æ©ç </p>
<ul>
<li>è¾“å‡ºæ ‡é‡å€¼</li>
<li>"x" - è¾“å‡ºè¾“å…¥çŸ¢é‡çš„xåˆ†é‡</li>
<li>"r" - è¾“å‡ºè¾“å…¥çŸ¢é‡çš„çº¢è‰²é€šé“</li>
<li>é€‚ç”¨åœºæ™¯ï¼šæå–å•ä¸ªæ•°å€¼åˆ†é‡</li>
</ul>
<p>åŒå­—ç¬¦æ©ç </p>
<ul>
<li>è¾“å‡ºäºŒç»´çŸ¢é‡</li>
<li>"xy" - è¾“å‡ºåŒ…å«xå’Œyåˆ†é‡çš„Vector2</li>
<li>"gb" - è¾“å‡ºåŒ…å«ç»¿è‰²å’Œè“è‰²é€šé“çš„Vector2</li>
<li>é€‚ç”¨åœºæ™¯ï¼šçº¹ç†åæ ‡å¤„ç†ã€äºŒç»´å‘é‡è¿ç®—</li>
</ul>
<p>ä¸‰å­—ç¬¦æ©ç </p>
<ul>
<li>è¾“å‡ºä¸‰ç»´çŸ¢é‡</li>
<li>"xyz" - è¾“å‡ºåŒ…å«xã€yã€zåˆ†é‡çš„Vector3</li>
<li>"bgr" - è¾“å‡ºåŒ…å«è“ã€ç»¿ã€çº¢é€šé“çš„Vector3</li>
<li>é€‚ç”¨åœºæ™¯ï¼šä½ç½®å¤„ç†ã€æ³•çº¿è®¡ç®—ã€RGBé¢œè‰²æ“ä½œ</li>
</ul>
<p>å››å­—ç¬¦æ©ç </p>
<ul>
<li>è¾“å‡ºå››ç»´çŸ¢é‡</li>
<li>"xyzw" - è¾“å‡ºå®Œæ•´çš„å››ç»´çŸ¢é‡</li>
<li>"abgr" - è¾“å‡ºåŒ…å«é€æ˜åº¦åŠé¢œè‰²é€šé“çš„Vector4</li>
</ul>
<h3 data-id="heading-6">æ©ç æœ‰æ•ˆæ€§éªŒè¯æœºåˆ¶</h3>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æ©ç çš„æœ‰æ•ˆæ€§ï¼Œç¡®ä¿ï¼š</p>
<ul>
<li>æ‰€æœ‰å­—ç¬¦éƒ½åœ¨è¾“å…¥çŸ¢é‡çš„ç»´åº¦èŒƒå›´å†…</li>
<li>å­—ç¬¦é•¿åº¦åœ¨1-4ä¹‹é—´</li>
<li>ä¸åŒ…å«éæ³•å­—ç¬¦</li>
</ul>
<h2 data-id="heading-7">ç«¯å£ç³»ç»ŸæŠ€æœ¯ç‰¹æ€§åˆ†æ</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/SwizzleNodeThumb.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">è¾“å…¥ç«¯å£ç‰¹æ€§</h3>
<ul>
<li><strong>ç±»å‹</strong>ï¼šåŠ¨æ€çŸ¢é‡ï¼ˆDynamic Vectorï¼‰</li>
<li><strong>ç»´åº¦æ”¯æŒ</strong>ï¼šVector2ã€Vector3ã€Vector4</li>
<li><strong>æ•°æ®æµ</strong>ï¼šæ¥æ”¶ä¸Šæ¸¸èŠ‚ç‚¹çš„è¾“å‡ºæ•°æ®</li>
</ul>
<p>è¾“å…¥ç«¯å£çš„è®¾è®¡ä½“ç°äº†Shader Graphçš„ç±»å‹æ¨æ–­æœºåˆ¶ï¼Œèƒ½å¤Ÿè‡ªåŠ¨é€‚åº”ä¸åŒç»´åº¦çš„è¾“å…¥æ•°æ®ï¼Œæä¾›æå¤§çš„çµæ´»æ€§ã€‚</p>
<h3 data-id="heading-9">è¾“å‡ºç«¯å£æœºåˆ¶</h3>
<ul>
<li><strong>ç»´åº¦å†³å®š</strong>ï¼šå®Œå…¨ç”±æ©ç é•¿åº¦æ§åˆ¶</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¡®ä¿ä¸‹æ¸¸èŠ‚ç‚¹æ¥æ”¶æ­£ç¡®ç»´åº¦çš„æ•°æ®</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šç›´æ¥æ˜ å°„åˆ°HLSLçš„é«˜æ•ˆä»£ç </li>
</ul>
<h2 data-id="heading-10">æ©ç æ§åˆ¶ç³»ç»Ÿå…¨è§£æ</h2>
<h3 data-id="heading-11">æ©ç å­—ç¬¦å¯ç”¨æ€§è§„åˆ™</h3>
<p>Vector2ç±»å‹è¾“å…¥</p>
<ul>
<li>æœ‰æ•ˆå­—ç¬¦ï¼šxã€yã€rã€g</li>
<li>ç¤ºä¾‹æ©ç ï¼š"yx"ã€"rg"ã€"xx"ã€"yy"</li>
<li>æ— æ•ˆå­—ç¬¦ï¼šzã€wã€bã€a</li>
</ul>
<p>Vector3ç±»å‹è¾“å…¥</p>
<ul>
<li>æœ‰æ•ˆå­—ç¬¦ï¼šxã€yã€zã€rã€gã€b</li>
<li>ç¤ºä¾‹æ©ç ï¼š"zyx"ã€"bgr"ã€"xyz"ã€"xzy"</li>
<li>æ— æ•ˆå­—ç¬¦ï¼šwã€a</li>
</ul>
<p>Vector4ç±»å‹è¾“å…¥</p>
<ul>
<li>æœ‰æ•ˆå­—ç¬¦ï¼šxã€yã€zã€wã€rã€gã€bã€a</li>
<li>ç¤ºä¾‹æ©ç ï¼š"wzyx"ã€"abgr"ã€"xyzw"ã€"rgba"</li>
</ul>
<h3 data-id="heading-12">é«˜çº§æ©ç åº”ç”¨æŠ€å·§</h3>
<p>åˆ†é‡é‡å¤æŠ€æœ¯</p>
<ul>
<li>"xxx"ï¼šåˆ›å»ºæ‰€æœ‰åˆ†é‡ç›¸åŒçš„ä¸‰ç»´çŸ¢é‡</li>
<li>"rrr"ï¼šç°åº¦å€¼æ‰©å±•ä¸ºRGBçŸ¢é‡</li>
<li>"yyyy"ï¼šå•ä¸€åˆ†é‡å¡«å……çš„å››ç»´çŸ¢é‡</li>
</ul>
<p>éƒ¨åˆ†é‡æ’ç­–ç•¥</p>
<ul>
<li>"xyzx"ï¼šä¿ç•™éƒ¨åˆ†åŸå§‹åˆ†é‡é¡ºåº</li>
<li>"rgbr"ï¼šé¢œè‰²é€šé“çš„åˆ›é€ æ€§ç»„åˆ</li>
</ul>
<h2 data-id="heading-13">SwizzleèŠ‚ç‚¹çš„å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-14">æ•°æ®æ ¼å¼è½¬æ¢åº”ç”¨</h3>
<p>é¢œè‰²ç©ºé—´è½¬æ¢</p>
<ul>
<li>RGBè½¬BGRï¼š"bgr"æ©ç </li>
<li>æ·»åŠ Alphaé€šé“ï¼š"rgba"æ©ç ï¼ˆéœ€è¾“å…¥ä¸ºVector3ï¼‰</li>
<li>ç§»é™¤Alphaé€šé“ï¼š"rgb"æ©ç </li>
</ul>
<p>åæ ‡ç³»è°ƒæ•´</p>
<ul>
<li>å·¦æ‰‹ç³»è½¬å³æ‰‹ç³»ï¼š"x-zy"é…åˆä¹˜æ³•èŠ‚ç‚¹</li>
<li>UVåæ ‡ç¿»è½¬ï¼š"yx"å®ç°90åº¦æ—‹è½¬</li>
</ul>
<h3 data-id="heading-15">åˆ†é‡æ“ä½œæŠ€æœ¯</h3>
<p>åˆ†é‡æå–ç­–ç•¥</p>
<p>ä»å››ç»´ä½ç½®çŸ¢é‡ä¸­æå–ä¸‰ç»´åæ ‡ï¼š</p>
<ul>
<li>ä½¿ç”¨"xyz"æ©ç è·å–ä½ç½®</li>
<li>ä½¿ç”¨"w"æ©ç å•ç‹¬æå–é€æ˜åº¦</li>
</ul>
<p>åˆ†é‡ç»„åˆæŠ€å·§</p>
<p>å°†å¤šä¸ªä½ç»´çŸ¢é‡ç»„åˆä¸ºé«˜ç»´çŸ¢é‡ï¼š</p>
<ul>
<li>å…ˆä½¿ç”¨CombineèŠ‚ç‚¹ï¼Œå†é…åˆSwizzleè°ƒæ•´é¡ºåº</li>
</ul>
<h3 data-id="heading-16">æ•°å­¦è¿ç®—ä¼˜åŒ–åº”ç”¨</h3>
<p>çŸ©é˜µè¿ç®—å‡†å¤‡</p>
<ul>
<li>è°ƒæ•´çŸ¢é‡åˆ†é‡é¡ºåºä»¥åŒ¹é…çŸ©é˜µä¹˜æ³•è¦æ±‚</li>
<li>å‡†å¤‡ç‚¹ç§¯å’Œå‰ç§¯çš„è¾“å…¥æ•°æ®</li>
</ul>
<p>å…‰ç…§è®¡ç®—ä¼˜åŒ–</p>
<ul>
<li>é‡æ’æ³•çº¿åˆ†é‡ä»¥é€‚åº”å…‰ç…§æ¨¡å‹</li>
<li>è°ƒæ•´è§†çº¿æ–¹å‘çŸ¢é‡çš„åˆ†é‡æ’åˆ—é¡ºåº</li>
</ul>
<h2 data-id="heading-17">ä»£ç ç”Ÿæˆæœºåˆ¶æ·±åº¦è§£æ</h2>
<h3 data-id="heading-18">åŸºç¡€ä»£ç æ¨¡å¼</h3>
<p><code>// è¾“å…¥ï¼šVector4 In // æ©ç ï¼š"wzyx" float4 _Swizzle_Out = In.wzyx;</code></p>
<h3 data-id="heading-19">ä¸åŒç±»å‹è¾“å…¥çš„ä»£ç ç¤ºä¾‹</h3>
<p>Vector3è¾“å…¥å¤„ç†</p>
<p><code>// è¾“å…¥ï¼šVector3 In // æ©ç ï¼š"zyx" float3 _Swizzle_Out = In.zyx;</code></p>
<p>Vector2è¾“å…¥å¤„ç†</p>
<p><code>// è¾“å…¥ï¼šVector2 In   // æ©ç ï¼š"yx" float2 _Swizzle_Out = In.yx;</code></p>
<h2 data-id="heading-20">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-21">è®¡ç®—æ•ˆç‡è€ƒè™‘</h3>
<ul>
<li>é¿å…åœ¨ç‰‡æ®µç€è‰²å™¨å¾ªç¯å†…ä½¿ç”¨å¤æ‚é‡æ’</li>
<li>åˆ©ç”¨é¢„è®¡ç®—å‡å°‘è¿è¡Œæ—¶é‡æ’æ“ä½œ</li>
<li>ç»“åˆå…¶ä»–æ•°å­¦èŠ‚ç‚¹ä¼˜åŒ–æ•´ä½“æ€§èƒ½</li>
</ul>
<h3 data-id="heading-22">å†…å­˜è®¿é—®ä¼˜åŒ–</h3>
<ul>
<li>åˆç†å®‰æ’åˆ†é‡è®¿é—®é¡ºåº</li>
<li>å‡å°‘ä¸å¿…è¦çš„ä¸­é—´å˜é‡</li>
<li>ä¼˜åŒ–å¯„å­˜å™¨ä½¿ç”¨</li>
</ul>
<h2 data-id="heading-23">é”™è¯¯å¤„ç†ä¸è°ƒè¯•æŒ‡å—</h2>
<h3 data-id="heading-24">å¸¸è§é”™è¯¯ç±»å‹</h3>
<p>æ— æ•ˆæ©ç é”™è¯¯</p>
<ul>
<li>åŸå› ï¼šä½¿ç”¨äº†è¶…å‡ºè¾“å…¥ç»´åº¦çš„å­—ç¬¦</li>
<li>è§£å†³æ–¹æ³•ï¼šæ£€æŸ¥è¾“å…¥çŸ¢é‡ç»´åº¦ï¼Œè°ƒæ•´æ©ç å­—ç¬¦</li>
</ul>
<p>ç»´åº¦ä¸åŒ¹é…è­¦å‘Š</p>
<ul>
<li>åŸå› ï¼šè¾“å…¥è¾“å‡ºç»´åº¦ä¸å…¼å®¹</li>
<li>è§£å†³æ–¹æ³•ï¼šè°ƒæ•´æ©ç é•¿åº¦æˆ–ä½¿ç”¨ç±»å‹è½¬æ¢èŠ‚ç‚¹</li>
</ul>
<h3 data-id="heading-25">è°ƒè¯•æŠ€æœ¯</h3>
<ul>
<li>ä½¿ç”¨é¢„è§ˆçª—å£å®æ—¶æŸ¥çœ‹è¾“å‡ºç»“æœ</li>
<li>é€æ­¥æµ‹è¯•ç®€å•æ©ç ä»¥éš”ç¦»é—®é¢˜</li>
<li>åˆ©ç”¨å¸§è°ƒè¯•å™¨åˆ†æè¿è¡Œæ—¶è¡Œä¸º</li>
</ul>
<h2 data-id="heading-26">é«˜çº§åº”ç”¨å¼€å‘</h2>
<h3 data-id="heading-27">åŠ¨æ€é‡æ’æ¨¡æ‹Ÿ</h3>
<p>è™½ç„¶SwizzleèŠ‚ç‚¹æœ¬èº«ä¸æ”¯æŒåŠ¨æ€æ©ç ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¨¡æ‹Ÿï¼š</p>
<p>æ¡ä»¶åˆ†æ”¯æ–¹æ¡ˆ</p>
<ul>
<li>ä½¿ç”¨BranchèŠ‚ç‚¹æ ¹æ®æ¡ä»¶é€‰æ‹©ä¸åŒSwizzle</li>
<li>å¤šä¸ªSwizzleèŠ‚ç‚¹å¹¶è¡Œå¤„ç†</li>
<li>ä½¿ç”¨LerpèŠ‚ç‚¹å¹³æ»‘è¿‡æ¸¡</li>
</ul>
<h3 data-id="heading-28">å¤šèŠ‚ç‚¹åä½œæ¶æ„</h3>
<p>å¤„ç†é“¾è®¾è®¡</p>
<p>SwizzleèŠ‚ç‚¹ + MultiplyèŠ‚ç‚¹ + AddèŠ‚ç‚¹ å®ç°å¤æ‚æ•°å­¦å˜æ¢</p>
<p>åé¦ˆå¾ªç¯ç³»ç»Ÿ</p>
<p>SwizzleèŠ‚ç‚¹é…åˆCustom FunctionèŠ‚ç‚¹ åˆ›å»ºè‡ªé€‚åº”çš„ç€è‰²æ•ˆæœ</p>
<h2 data-id="heading-29">è·¨å¹³å°å…¼å®¹æ€§åˆ†æ</h2>
<h3 data-id="heading-30">å›¾å½¢APIæ”¯æŒæƒ…å†µ</h3>
<ul>
<li>HLSLï¼šå®Œå…¨æ”¯æŒé‡æ’è¯­æ³•</li>
<li>GLSLï¼šæ”¯æŒç±»ä¼¼çš„é‡æ’æ“ä½œ</li>
<li>Metalï¼šæä¾›ç­‰æ•ˆçš„åŠŸèƒ½å®ç°</li>
</ul>
<h3 data-id="heading-31">å¹³å°ç‰¹å®šä¼˜åŒ–</h3>
<ul>
<li>é’ˆå¯¹ä¸åŒGPUæ¶æ„è°ƒæ•´é‡æ’ç­–ç•¥</li>
<li>è€ƒè™‘ç§»åŠ¨å¹³å°çš„æ€§èƒ½é™åˆ¶</li>
<li>ä¼˜åŒ–ç€è‰²å™¨å˜ä½“ç®¡ç†</li>
</ul>
<h2 data-id="heading-32">å®é™…å¼€å‘æ¡ˆä¾‹ç ”ç©¶</h2>
<h3 data-id="heading-33">æ¡ˆä¾‹ä¸€ï¼šé«˜çº§é¢œè‰²å¤„ç†</h3>
<p>éœ€æ±‚æè¿°</p>
<p>å¼€å‘ä¸€ä¸ªæ”¯æŒå¤šç§é¢œè‰²ç©ºé—´è½¬æ¢çš„ç€è‰²å™¨</p>
<p>æŠ€æœ¯å®ç°</p>
<ul>
<li>ä½¿ç”¨SwizzleèŠ‚ç‚¹å®ç°RGBâ†”BGRè½¬æ¢</li>
<li>é…åˆå…¶ä»–èŠ‚ç‚¹å¤„ç†Gammaæ ¡æ­£</li>
<li>å®ç°HDRé¢œè‰²æ˜ å°„</li>
</ul>
<h3 data-id="heading-34">æ¡ˆä¾‹äºŒï¼šå¤æ‚å‡ ä½•å˜æ¢</h3>
<p>éœ€æ±‚æè¿°</p>
<p>å®ç°åŸºäºæ³•çº¿çš„åŠ¨æ€å˜å½¢æ•ˆæœ</p>
<p>è§£å†³æ–¹æ¡ˆ</p>
<ul>
<li>SwizzleèŠ‚ç‚¹è°ƒæ•´æ³•çº¿åˆ†é‡é¡ºåº</li>
<li>ç»“åˆå™ªå£°çº¹ç†åˆ›å»ºè‡ªç„¶æ•ˆæœ</li>
<li>ä¼˜åŒ–æ€§èƒ½ä¿è¯å®æ—¶æ¸²æŸ“</li>
</ul>
<h2 data-id="heading-35">æœ€ä½³å®è·µæ€»ç»“</h2>
<h3 data-id="heading-36">ç¼–ç è§„èŒƒ</h3>
<ul>
<li>ä½¿ç”¨è¯­ä¹‰æ˜ç¡®çš„æ©ç å­—ç¬¦</li>
<li>ä¿æŒé‡æ’é€»è¾‘çš„æ¸…æ™°æ€§</li>
<li>æ–‡æ¡£åŒ–å¤æ‚çš„é‡æ’æ“ä½œ</li>
</ul>
<h3 data-id="heading-37">æ€§èƒ½æŒ‡å—</h3>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨ç®€å•çš„é‡æ’æ¨¡å¼</li>
<li>é¿å…ä¸å¿…è¦çš„åˆ†é‡å¤åˆ¶</li>
<li>åˆç†åˆ©ç”¨ç€è‰²å™¨å˜ä½“</li>
</ul>
<h3 data-id="heading-38">ç»´æŠ¤å»ºè®®</h3>
<ul>
<li>å®šæœŸå®¡æŸ¥é‡æ’é€»è¾‘</li>
<li>æµ‹è¯•ä¸åŒç¡¬ä»¶çš„å…¼å®¹æ€§</li>
<li>å»ºç«‹æ•ˆæœéªŒè¯æœºåˆ¶</li>
</ul>
<h2 data-id="heading-39">æœªæ¥å‘å±•æ–¹å‘</h2>
<h3 data-id="heading-40">æŠ€æœ¯è¶‹åŠ¿é¢„æµ‹</h3>
<ul>
<li>å¯¹æ›´é«˜ç»´åº¦çŸ¢é‡çš„æ”¯æŒ</li>
<li>åŠ¨æ€æ©ç åŠŸèƒ½çš„å®ç°</li>
<li>æ›´æ™ºèƒ½çš„ç±»å‹æ¨æ–­æœºåˆ¶</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šæµ‹è¯•ä¸è°ƒè¯• â€”â€” æ—¥å¿—ä¸ç›‘æ§æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7594047593966764070</link>    <guid>https://juejin.cn/post/7594047593966764070</guid>    <pubDate>2026-01-12T03:01:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7594047593966764070" data-draft-id="7594040270502035494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šæµ‹è¯•ä¸è°ƒè¯• â€”â€” æ—¥å¿—ä¸ç›‘æ§æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,Node.js"/> <meta itemprop="datePublished" content="2026-01-12T03:01:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šæµ‹è¯•ä¸è°ƒè¯• â€”â€” æ—¥å¿—ä¸ç›‘æ§æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T03:01:37.000Z" title="Mon Jan 12 2026 03:01:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨ Node.js é¡¹ç›®è¿›å…¥æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒåï¼Œé—®é¢˜çš„å‘ç°å’Œå®šä½å¾€å¾€ä¸å†ä¾èµ–è°ƒè¯•å™¨ï¼Œè€Œæ˜¯ä¾èµ–æ—¥å¿—å’Œç›‘æ§ç³»ç»Ÿã€‚æ—¥å¿—è®°å½•äº†ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­çš„å…³é”®è¡Œä¸ºï¼Œç›‘æ§åˆ™å¸®åŠ©æˆ‘ä»¬å®æ—¶æŒæ¡ç³»ç»Ÿå¥åº·çŠ¶æ€ã€‚</p>
</blockquote>
<p>æœ¬æ–‡å°†ç³»ç»Ÿä»‹ç» Node.js ä¸­å¸¸è§çš„æ—¥å¿—æ–¹æ¡ˆå’Œç›‘æ§æ€è·¯ï¼Œå¸®åŠ©ä½ æ„å»ºç¨³å®šã€å¯è§‚æµ‹çš„åç«¯æœåŠ¡ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆæ—¥å¿—ä¸ç›‘æ§å¦‚æ­¤é‡è¦</h2>
<p>åœ¨çœŸå®ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¸¸å¸¸ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>æ¥å£å¶å‘æŠ¥é”™ä½†æ— æ³•å¤ç°</li>
<li>æ€§èƒ½é€æ¸ä¸‹é™å´æ²¡æœ‰æ˜æ˜¾å¼‚å¸¸</li>
<li>æŸäº›ç”¨æˆ·è¯·æ±‚å¤±è´¥ä½†æ— æŠ¥è­¦</li>
</ul>
<p>å¦‚æœç¼ºä¹æ—¥å¿—å’Œç›‘æ§ï¼Œè¿™ç±»é—®é¢˜å‡ ä¹æ— æ³•å®šä½ã€‚</p>
<p>æ—¥å¿—è§£å†³çš„æ˜¯â€œå‘ç”Ÿäº†ä»€ä¹ˆâ€ï¼Œç›‘æ§è§£å†³çš„æ˜¯â€œç³»ç»Ÿç°åœ¨æ€ä¹ˆæ ·â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Node.js æ—¥å¿—çš„åŸºæœ¬è®¾è®¡åŸåˆ™</h2>
<p>åœ¨å¼€å§‹é€‰å‹ä¹‹å‰ï¼Œå…ˆæ˜ç¡®æ—¥å¿—è®¾è®¡çš„åŸºæœ¬åŸåˆ™ã€‚</p>
<ul>
<li>æ—¥å¿—è¦æœ‰æ˜ç¡®çš„ç›®çš„</li>
<li>æ—¥å¿—çº§åˆ«è¦æ¸…æ™°</li>
<li>æ—¥å¿—ç»“æ„è¦ç»Ÿä¸€</li>
<li>æ—¥å¿—ä¸èƒ½å½±å“æ€§èƒ½</li>
</ul>
<p>æ—¥å¿—ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œè€Œæ˜¯è¶Šæœ‰ä»·å€¼è¶Šå¥½ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€Node.js å¸¸è§æ—¥å¿—çº§åˆ«</h2>
<p>ä¸€ä¸ªåˆç†çš„æ—¥å¿—ç³»ç»Ÿé€šå¸¸åŒ…å«ä»¥ä¸‹çº§åˆ«ï¼š</p>
<ul>
<li><strong>error</strong>ï¼šç¨‹åºé”™è¯¯ã€å¼‚å¸¸ã€å½±å“åŠŸèƒ½çš„é—®é¢˜</li>
<li><strong>warn</strong>ï¼šæ½œåœ¨é£é™©æˆ–éè‡´å‘½é—®é¢˜</li>
<li><strong>info</strong>ï¼šå…³é”®ä¸šåŠ¡æµç¨‹ä¿¡æ¯</li>
<li><strong>debug</strong>ï¼šè°ƒè¯•ä¿¡æ¯ï¼Œé€šå¸¸åªåœ¨å¼€å‘ç¯å¢ƒå¼€å¯</li>
</ul>
<p>åˆç†ä½¿ç”¨æ—¥å¿—çº§åˆ«ï¼Œæœ‰åŠ©äºå¿«é€Ÿè¿‡æ»¤å…³é”®ä¿¡æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-3">å››ã€ä½¿ç”¨ console è®°å½•æ—¥å¿—çš„å±€é™æ€§</h2>
<p>åœ¨é¡¹ç›®æ—©æœŸï¼Œ<code>console.log</code> æ˜¯æœ€å¸¸è§çš„æ—¥å¿—æ–¹å¼ã€‚</p>
<p>ä½†åœ¨æ­£å¼é¡¹ç›®ä¸­ï¼Œå®ƒå­˜åœ¨æ˜æ˜¾é—®é¢˜ï¼š</p>
<ul>
<li>æ— æ³•åŒºåˆ†æ—¥å¿—çº§åˆ«</li>
<li>ä¸æ”¯æŒæ—¥å¿—åˆ‡å‰²</li>
<li>ä¸ä¾¿äºé›†ä¸­ç®¡ç†</li>
<li>ä¸é€‚åˆç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<p>å› æ­¤ï¼Œåœ¨ä¸­å¤§å‹é¡¹ç›®ä¸­ï¼Œåº”å°½æ—©å¼•å…¥ä¸“ä¸šæ—¥å¿—åº“ã€‚</p>
<hr/>
<h2 data-id="heading-4">äº”ã€Node.js å¸¸ç”¨æ—¥å¿—åº“</h2>
<h3 data-id="heading-5">1. Winston</h3>
<p>Winston æ˜¯ Node.js ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„æ—¥å¿—åº“ä¹‹ä¸€ã€‚</p>
<p>å®ƒæ”¯æŒå¤šç§æ—¥å¿—çº§åˆ«ã€è¾“å‡ºæ ¼å¼å’Œæ—¥å¿—ç›®æ ‡ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> winston = <span class="hljs-built_in">require</span>(<span class="hljs-string">'winston'</span>);

<span class="hljs-keyword">const</span> logger = winston.<span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">level</span>: <span class="hljs-string">'info'</span>,
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-keyword">new</span> winston.<span class="hljs-property">transports</span>.<span class="hljs-title class_">Console</span>(),
    <span class="hljs-keyword">new</span> winston.<span class="hljs-property">transports</span>.<span class="hljs-title class_">File</span>({ <span class="hljs-attr">filename</span>: <span class="hljs-string">'app.log'</span> })
  ]
});

logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'Service started'</span>);
</code></pre>
<hr/>
<h3 data-id="heading-6">2. Pino</h3>
<p>Pino ä»¥é«˜æ€§èƒ½è‘—ç§°ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯ã€‚</p>
<p>å®ƒè¾“å‡ºç»“æ„åŒ– JSON æ—¥å¿—ï¼Œä¾¿äºåç»­åˆ†æã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> logger = <span class="hljs-built_in">require</span>(<span class="hljs-string">'pino'</span>)();

logger.<span class="hljs-title function_">info</span>({ <span class="hljs-attr">userId</span>: <span class="hljs-number">1</span> }, <span class="hljs-string">'User login'</span>);
</code></pre>
<hr/>
<h2 data-id="heading-7">å…­ã€ç»“æ„åŒ–æ—¥å¿—çš„ä¼˜åŠ¿</h2>
<p>ç»“æ„åŒ–æ—¥å¿—ä½¿ç”¨ JSON æ ¼å¼è®°å½•ä¿¡æ¯ã€‚</p>
<p>å®ƒçš„ä¼˜åŠ¿åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ˜“äºæœç´¢å’Œè¿‡æ»¤</li>
<li>ä¾¿äºæ—¥å¿—åˆ†æç³»ç»Ÿå¤„ç†</li>
<li>æ›´é€‚åˆåˆ†å¸ƒå¼ç³»ç»Ÿ</li>
</ul>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨èå°½é‡ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸ƒã€Node.js ä¸­çš„é”™è¯¯æ—¥å¿—å¤„ç†</h2>
<p>é”™è¯¯æ—¥å¿—æ˜¯æ—¥å¿—ç³»ç»Ÿä¸­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å»ºè®®åœ¨ä»¥ä¸‹ä½ç½®è®°å½•é”™è¯¯æ—¥å¿—ï¼š</p>
<ul>
<li>æ¥å£ç»Ÿä¸€é”™è¯¯å¤„ç†ä¸­é—´ä»¶</li>
<li>å…³é”®ä¸šåŠ¡é€»è¾‘æ•è·å¼‚å¸¸</li>
<li>è¿›ç¨‹çº§å¼‚å¸¸å¤„ç†</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-js" lang="js">process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'uncaughtException'</span>, <span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
  logger.<span class="hljs-title function_">error</span>(err);
});
</code></pre>
<hr/>
<h2 data-id="heading-9">å…«ã€Node.js ç›‘æ§çš„æ ¸å¿ƒæŒ‡æ ‡</h2>
<p>ç›‘æ§å…³æ³¨çš„æ˜¯ç³»ç»Ÿçš„å®æ—¶çŠ¶æ€ã€‚</p>
<p>å¸¸è§ç›‘æ§æŒ‡æ ‡åŒ…æ‹¬ï¼š</p>
<ul>
<li>CPU ä½¿ç”¨ç‡</li>
<li>å†…å­˜å ç”¨</li>
<li>è¯·æ±‚ QPS</li>
<li>å“åº”æ—¶é—´</li>
<li>é”™è¯¯ç‡</li>
</ul>
<p>è¿™äº›æŒ‡æ ‡å¯ä»¥å¸®åŠ©å¿«é€Ÿåˆ¤æ–­ç³»ç»Ÿæ˜¯å¦å¥åº·ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¹ã€Node.js åº”ç”¨å±‚ç›‘æ§æ–¹å¼</h2>
<p>åœ¨åº”ç”¨å±‚ï¼Œå¯ä»¥é€šè¿‡ä¸­é—´ä»¶ç»Ÿè®¡è¯·æ±‚ä¿¡æ¯ã€‚</p>
<p>ä¾‹å¦‚è®°å½•æ¥å£è€—æ—¶ã€çŠ¶æ€ç ç­‰ã€‚</p>
<p>è¿™äº›æ•°æ®å¯ä»¥ç”¨äºæ€§èƒ½åˆ†æå’ŒæŠ¥è­¦ã€‚</p>
<hr/>
<h2 data-id="heading-11">åã€ä½¿ç”¨ PM2 è¿›è¡ŒåŸºç¡€ç›‘æ§</h2>
<p>PM2 æ˜¯ Node.js å¸¸ç”¨çš„è¿›ç¨‹ç®¡ç†å·¥å…·ã€‚</p>
<p>å®ƒè‡ªå¸¦åŸºç¡€ç›‘æ§èƒ½åŠ›ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>è¿›ç¨‹çŠ¶æ€</li>
<li>CPU å’Œå†…å­˜ä½¿ç”¨</li>
<li>æ—¥å¿—ç®¡ç†</li>
</ul>
<p>PM2 éå¸¸é€‚åˆä¸­å°å‹é¡¹ç›®ã€‚</p>
<hr/>
<h2 data-id="heading-12">åä¸€ã€é›†ä¸­å¼æ—¥å¿—ä¸ç›‘æ§ç³»ç»Ÿ</h2>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé€šå¸¸ä¼šå°†æ—¥å¿—å’Œç›‘æ§æ•°æ®é›†ä¸­ç®¡ç†ã€‚</p>
<p>å¸¸è§æ–¹æ¡ˆåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ—¥å¿—ç³»ç»Ÿï¼šELKã€EFK</li>
<li>ç›‘æ§ç³»ç»Ÿï¼šPrometheus + Grafana</li>
</ul>
<p>é›†ä¸­å¼æ–¹æ¡ˆæ›´é€‚åˆåˆ†å¸ƒå¼å’Œå¾®æœåŠ¡æ¶æ„ã€‚</p>
<hr/>
<h2 data-id="heading-13">åäºŒã€æ—¥å¿—ä¸ç›‘æ§çš„æœ€ä½³å®è·µ</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹å»ºè®®ï¼š</p>
<ul>
<li>æ—¥å¿—ä¸­åŒ…å«è¯·æ±‚æ ‡è¯†</li>
<li>ç›‘æ§æŒ‡æ ‡ä¸ä¸šåŠ¡å…³è”</li>
<li>ä¸ºå…³é”®æŒ‡æ ‡è®¾ç½®æŠ¥è­¦</li>
<li>å®šæœŸæ£€æŸ¥æ—¥å¿—è´¨é‡</li>
</ul>
<p>æ—¥å¿—å’Œç›‘æ§ä¸æ˜¯ä¸€æ¬¡æ€§å·¥ä½œï¼Œè€Œæ˜¯æŒç»­ä¼˜åŒ–çš„è¿‡ç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-14">åä¸‰ã€æ€»ç»“</h2>
<p>æ—¥å¿—ä¸ç›‘æ§æ˜¯ Node.js åº”ç”¨ç¨³å®šè¿è¡Œçš„é‡è¦ä¿éšœã€‚é€šè¿‡åˆç†çš„æ—¥å¿—è®¾è®¡å’Œå®Œå–„çš„ç›‘æ§ä½“ç³»ï¼Œå¯ä»¥åœ¨é—®é¢˜å‘ç”Ÿæ—¶å¿«é€Ÿå®šä½ï¼Œåœ¨é—®é¢˜å‘ç”Ÿå‰æå‰é¢„è­¦ã€‚</p>
<p>åœ¨ã€ŠNode.js ç¼–ç¨‹å®æˆ˜ã€‹ä¸­ï¼ŒæŒæ¡æ—¥å¿—ä¸ç›‘æ§æ–¹æ¡ˆï¼Œä¸ä»…æ˜¯è°ƒè¯•èƒ½åŠ›çš„æå‡ï¼Œæ›´æ˜¯å·¥ç¨‹èƒ½åŠ›çš„é‡è¦ä½“ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™ä¸ªå®˜æ–¹æ’ä»¶èƒ½è®©ä½ çš„"å±å±±ä»£ç "ç„•ç„¶ä¸€æ–°]]></title>    <link>https://juejin.cn/post/7593913760043548681</link>    <guid>https://juejin.cn/post/7593913760043548681</guid>    <pubDate>2026-01-12T03:02:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593913760043548681" data-draft-id="7594040270502068262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™ä¸ªå®˜æ–¹æ’ä»¶èƒ½è®©ä½ çš„&quot;å±å±±ä»£ç &quot;ç„•ç„¶ä¸€æ–°"/> <meta itemprop="keywords" content="OpenAI,AIç¼–ç¨‹,AIGC"/> <meta itemprop="datePublished" content="2026-01-12T03:02:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é»„æ—æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/3985057546510423"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™ä¸ªå®˜æ–¹æ’ä»¶èƒ½è®©ä½ çš„"å±å±±ä»£ç "ç„•ç„¶ä¸€æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3985057546510423/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é»„æ—æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T03:02:36.000Z" title="Mon Jan 12 2026 03:02:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Claude Code æ’ä»¶æ¨èï¼šcode-simplifier</h2>
<blockquote>
<p>è®© AI å¸®ä½ é‡æ„ä»£ç ï¼Œä¿æŒåŠŸèƒ½ä¸å˜çš„åŒæ—¶æå‡ä»£ç è´¨é‡</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>code-simplifier</strong> æ˜¯ Claude Code å®˜æ–¹æ’ä»¶å¸‚åœºæä¾›çš„ä¸€ä¸ª <strong>Agent æ’ä»¶</strong>ï¼Œç”± Anthropic å®˜æ–¹å¼€å‘ç»´æŠ¤ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒèƒ½åŠ›æ˜¯ï¼š</p>
<blockquote>
<p><strong>åœ¨ä¿æŒä»£ç åŠŸèƒ½å®Œå…¨ä¸å˜çš„å‰æä¸‹ï¼Œç®€åŒ–å’Œä¼˜åŒ–ä»£ç ç»“æ„ï¼Œæå‡å¯è¯»æ€§ã€ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</strong></p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„ä»£ç å®¡æŸ¥å‘˜ï¼Œä¸“é—¨å¸®ä½ ï¼š</p>
<ul>
<li>æ¶ˆé™¤ä¸å¿…è¦çš„å¤æ‚åº¦å’ŒåµŒå¥—</li>
<li>åˆ é™¤å†—ä½™ä»£ç å’Œè¿‡åº¦æŠ½è±¡</li>
<li>æ”¹å–„å˜é‡å’Œå‡½æ•°å‘½å</li>
<li>ç»Ÿä¸€ä»£ç é£æ ¼</li>
<li>ç§»é™¤æè¿°æ˜¾è€Œæ˜“è§é€»è¾‘çš„å¤šä½™æ³¨é‡Š</li>
</ul>
<hr/>
<h3 data-id="heading-2">äºŒã€æ€ä¹ˆä½¿ç”¨ï¼Ÿ</h3>
<h4 data-id="heading-3">1. å®‰è£…æ’ä»¶</h4>
<p>åœ¨ Claude Code ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin install code-simplifier
</code></pre>
<p>æˆ–è€…é€šè¿‡æ’ä»¶å‘ç°ç•Œé¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin discover
</code></pre>
<p>æœç´¢ <code>code-simplifier</code> å¹¶å®‰è£…ã€‚</p>
<h4 data-id="heading-4">2. è°ƒç”¨æ–¹å¼</h4>
<p>å®‰è£…åï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨ï¼š</p>
<p><strong>æ–¹å¼ä¸€ï¼šç›´æ¥ @mention è°ƒç”¨</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@code-simplifier</span> å¸®æˆ‘ä¼˜åŒ–è¿™æ®µä»£ç 
</code></pre>
<p><strong>æ–¹å¼äºŒï¼šåœ¨å†™å®Œä»£ç åè®© Claude è‡ªåŠ¨è°ƒç”¨</strong></p>
<p>Claude åœ¨åˆé€‚çš„æ—¶æœºå¯èƒ½ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ª agent æ¥ä¼˜åŒ–ä½ åˆšå†™çš„ä»£ç ã€‚</p>
<p><strong>æ–¹å¼ä¸‰ï¼šæŒ‡å®šæ–‡ä»¶èŒƒå›´</strong></p>
<pre><code class="hljs language-bash" lang="bash">@code-simplifier ä¼˜åŒ– src/utils/helpers.ts è¿™ä¸ªæ–‡ä»¶
</code></pre>
<h4 data-id="heading-5">3. æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>é»˜è®¤åªä¼˜åŒ–<strong>æœ€è¿‘ä¿®æ”¹çš„ä»£ç </strong>ï¼Œé™¤éä½ æ˜ç¡®æŒ‡å®šæ›´å¤§çš„èŒƒå›´</li>
<li>ä½¿ç”¨ <strong>Opus æ¨¡å‹</strong>æ‰§è¡Œï¼Œä¿è¯ä¼˜åŒ–è´¨é‡</li>
<li>æ‰€æœ‰ä¼˜åŒ–éƒ½<strong>ä¸ä¼šæ”¹å˜ä»£ç çš„åŠŸèƒ½è¡Œä¸º</strong></li>
</ul>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒæç¤ºè¯è§£æ</h3>
<p>ä»¥ä¸‹æ˜¯ code-simplifier çš„å®Œæ•´ç³»ç»Ÿæç¤ºè¯ï¼ˆç¿»è¯‘+æ³¨é‡Šç‰ˆï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä½ æ˜¯ä¸€ä½ä¸“æ³¨äºæå‡ä»£ç æ¸…æ™°åº¦ã€ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§çš„ä»£ç ç®€åŒ–ä¸“å®¶ï¼Œ
åŒæ—¶ä¸¥æ ¼ä¿æŒä»£ç çš„åŸæœ‰åŠŸèƒ½ä¸å˜ã€‚

ä½ çš„ä¸“é•¿åœ¨äºåº”ç”¨é¡¹ç›®ç‰¹å®šçš„æœ€ä½³å®è·µæ¥ç®€åŒ–å’Œæ”¹è¿›ä»£ç ï¼Œè€Œä¸æ”¹å˜å…¶è¡Œä¸ºã€‚
ä½ ä¼˜å…ˆé€‰æ‹©å¯è¯»æ€§å¼ºã€æ˜¾å¼çš„ä»£ç ï¼Œè€Œéè¿‡åº¦ç´§å‡‘çš„è§£å†³æ–¹æ¡ˆã€‚

<span class="hljs-section">## ä½ çš„ä¼˜åŒ–åŸåˆ™ï¼š</span>

<span class="hljs-bullet">1.</span> <span class="hljs-strong">**ä¿æŒåŠŸèƒ½ä¸å˜**</span>
<span class="hljs-bullet">   -</span> æ°¸è¿œä¸æ”¹å˜ä»£ç åšä»€ä¹ˆï¼Œåªæ”¹å˜æ€ä¹ˆåš
<span class="hljs-bullet">   -</span> æ‰€æœ‰åŸæœ‰ç‰¹æ€§ã€è¾“å‡ºå’Œè¡Œä¸ºå¿…é¡»ä¿æŒä¸å˜

<span class="hljs-bullet">2.</span> <span class="hljs-strong">**åº”ç”¨é¡¹ç›®æ ‡å‡†**</span>
<span class="hljs-bullet">   -</span> éµå¾ª CLAUDE.md ä¸­å»ºç«‹çš„ç¼–ç æ ‡å‡†
<span class="hljs-bullet">   -</span> åŒ…æ‹¬ï¼šES modulesã€import æ’åºã€å‡½æ•°å£°æ˜æ–¹å¼ã€ç±»å‹æ³¨è§£ç­‰

<span class="hljs-bullet">3.</span> <span class="hljs-strong">**å¢å¼ºæ¸…æ™°åº¦**</span>
<span class="hljs-bullet">   -</span> å‡å°‘ä¸å¿…è¦çš„å¤æ‚åº¦å’ŒåµŒå¥—
<span class="hljs-bullet">   -</span> æ¶ˆé™¤å†—ä½™ä»£ç å’ŒæŠ½è±¡
<span class="hljs-bullet">   -</span> æ”¹å–„å‘½å
<span class="hljs-bullet">   -</span> åˆå¹¶ç›¸å…³é€»è¾‘
<span class="hljs-bullet">   -</span> ç§»é™¤æè¿°æ˜¾è€Œæ˜“è§ä»£ç çš„æ³¨é‡Š
<span class="hljs-bullet">   -</span> <span class="hljs-strong">**é‡è¦ï¼šé¿å…åµŒå¥—ä¸‰å…ƒè¿ç®—ç¬¦**</span>ï¼Œä¼˜å…ˆä½¿ç”¨ switch æˆ– if/else
<span class="hljs-bullet">   -</span> é€‰æ‹©æ¸…æ™°è€Œéç®€çŸ­ â€”â€” æ˜¾å¼ä»£ç é€šå¸¸ä¼˜äºè¿‡åº¦ç´§å‡‘çš„ä»£ç 

<span class="hljs-bullet">4.</span> <span class="hljs-strong">**ä¿æŒå¹³è¡¡ï¼Œé¿å…è¿‡åº¦ç®€åŒ–**</span>
<span class="hljs-bullet">   -</span> ä¸è¦åˆ›å»ºè¿‡äº"èªæ˜"çš„éš¾ä»¥ç†è§£çš„è§£å†³æ–¹æ¡ˆ
<span class="hljs-bullet">   -</span> ä¸è¦æŠŠå¤ªå¤šå…³æ³¨ç‚¹åˆå¹¶åˆ°å•ä¸ªå‡½æ•°æˆ–ç»„ä»¶
<span class="hljs-bullet">   -</span> ä¸è¦ä¸ºäº†"æ›´å°‘è¡Œæ•°"è€Œç‰ºç‰²å¯è¯»æ€§
<span class="hljs-bullet">   -</span> ä¸è¦è®©ä»£ç å˜å¾—æ›´éš¾è°ƒè¯•æˆ–æ‰©å±•

<span class="hljs-bullet">5.</span> <span class="hljs-strong">**èšç„¦èŒƒå›´**</span>
<span class="hljs-bullet">   -</span> åªä¼˜åŒ–æœ€è¿‘ä¿®æ”¹æˆ–å½“å‰ä¼šè¯ä¸­æ¶‰åŠçš„ä»£ç 
<span class="hljs-bullet">   -</span> é™¤éæ˜ç¡®è¦æ±‚å®¡æŸ¥æ›´å¤§èŒƒå›´

<span class="hljs-section">## ä¼˜åŒ–æµç¨‹ï¼š</span>

<span class="hljs-bullet">1.</span> è¯†åˆ«æœ€è¿‘ä¿®æ”¹çš„ä»£ç æ®µ
<span class="hljs-bullet">2.</span> åˆ†ææ”¹è¿›ä¼˜é›…æ€§å’Œä¸€è‡´æ€§çš„æœºä¼š
<span class="hljs-bullet">3.</span> åº”ç”¨é¡¹ç›®ç‰¹å®šçš„æœ€ä½³å®è·µ
<span class="hljs-bullet">4.</span> ç¡®ä¿æ‰€æœ‰åŠŸèƒ½ä¿æŒä¸å˜
<span class="hljs-bullet">5.</span> éªŒè¯ä¼˜åŒ–åçš„ä»£ç æ›´ç®€å•ã€æ›´å¯ç»´æŠ¤
<span class="hljs-bullet">6.</span> ä»…è®°å½•å½±å“ç†è§£çš„é‡è¦å˜æ›´
</code></pre>
<hr/>
<h3 data-id="heading-7">å››ã€æˆ‘çš„ä½¿ç”¨æ„Ÿå—ä¸å»ºè®®</h3>
<h4 data-id="heading-8">é€‚ç”¨åœºæ™¯</h4>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td>åˆšå†™å®Œä¸€æ®µåŠŸèƒ½ä»£ç ï¼Œæƒ³å¿«é€Ÿä¼˜åŒ–</td><td>â­â­â­â­â­</td></tr><tr><td>æ¥æ‰‹ä»–äººçš„"ç¥–ä¼ ä»£ç "éœ€è¦é‡æ„</td><td>â­â­â­â­</td></tr><tr><td>PR å‰çš„ä»£ç è‡ªæ£€</td><td>â­â­â­â­â­</td></tr><tr><td>å­¦ä¹ å¦‚ä½•å†™å‡ºæ›´å¥½çš„ä»£ç </td><td>â­â­â­â­</td></tr></tbody></table>
<h4 data-id="heading-9">ä¼˜ç‚¹</h4>
<ol>
<li><strong>å®‰å…¨æ€§é«˜</strong> â€”â€” ä¸¥æ ¼ä¿æŒåŠŸèƒ½ä¸å˜ï¼Œä¸ä¼šå¼•å…¥ bug</li>
<li><strong>ä½¿ç”¨ Opus æ¨¡å‹</strong> â€”â€” ä¼˜åŒ–è´¨é‡æœ‰ä¿éšœ</li>
<li><strong>è‡ªåŠ¨èšç„¦</strong> â€”â€” é»˜è®¤åªå¤„ç†æœ€è¿‘ä¿®æ”¹çš„ä»£ç ï¼Œä¸ä¼šä¹±æ”¹</li>
<li><strong>é£æ ¼ç»Ÿä¸€</strong> â€”â€” ä¼šå‚è€ƒé¡¹ç›®çš„ CLAUDE.md é…ç½®</li>
</ol>
<h4 data-id="heading-10">æ³¨æ„äº‹é¡¹</h4>
<ol>
<li><strong>ä¸è¦æœŸæœ›å®ƒèƒ½é‡æ„æ¶æ„</strong> â€”â€” å®ƒåªåšä»£ç å±‚é¢çš„ç®€åŒ–ï¼Œä¸ä¼šæ”¹å˜è®¾è®¡</li>
<li><strong>å»ºè®®é…åˆ Git ä½¿ç”¨</strong> â€”â€” æ–¹ä¾¿å¯¹æ¯”ä¼˜åŒ–å‰åçš„å·®å¼‚</li>
<li><strong>é€‚åº¦ä½¿ç”¨</strong> â€”â€” è¿‡åº¦ä¼˜åŒ–åè€Œå¯èƒ½è®©ä»£ç è¿‡äº"ç²¾ç®€"è€Œéš¾ä»¥ç†è§£</li>
</ol>
<h4 data-id="heading-11">æœ€ä½³å®è·µ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¨èå·¥ä½œæµ</span>
1. å†™å®ŒåŠŸèƒ½ä»£ç 
2. git add . &amp;&amp; git commit -m <span class="hljs-string">"feat: å®ŒæˆxxxåŠŸèƒ½"</span>
3. @code-simplifier ä¼˜åŒ–åˆšæ‰çš„ä»£ç 
4. æ£€æŸ¥ diffï¼Œç¡®è®¤ä¼˜åŒ–åˆç†
5. git commit -m <span class="hljs-string">"refactor: ç®€åŒ–xxxä»£ç "</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">äº”ã€æ€»ç»“</h3>
<p><strong>code-simplifier</strong> æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„ä»£ç ä¼˜åŒ–åŠ©æ‰‹ï¼Œç‰¹åˆ«é€‚åˆï¼š</p>
<ul>
<li>è¿½æ±‚ä»£ç è´¨é‡çš„å¼€å‘è€…</li>
<li>éœ€è¦ç»´æŠ¤å¤§é‡ä»£ç çš„å›¢é˜Ÿ</li>
<li>æƒ³å­¦ä¹ ä»£ç ä¼˜åŒ–æŠ€å·§çš„æ–°æ‰‹</li>
</ul>
<p>å®ƒçš„æ ¸å¿ƒç†å¿µ â€”â€” <strong>æ¸…æ™°ä¼˜äºç®€çŸ­</strong> â€”â€” ä¹Ÿå€¼å¾—æˆ‘ä»¬åœ¨æ—¥å¸¸ç¼–ç ä¸­å€Ÿé‰´ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å·²æ­»...äº†å—]]></title>    <link>https://juejin.cn/post/7593679324247851008</link>    <guid>https://juejin.cn/post/7593679324247851008</guid>    <pubDate>2026-01-12T01:05:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593679324247851008" data-draft-id="7592524811861770274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å·²æ­»...äº†å—"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Android"/> <meta itemprop="datePublished" content="2026-01-12T01:05:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å·²æ­»...äº†å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:05:03.000Z" title="Mon Jan 12 2026 01:05:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c2073bc1dc44badbaa12c01517c1564~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768784725&amp;x-signature=C7VDytQRrDQJmQu07iAKV70YeRo%3D" alt="0108_1.png" loading="lazy"/></p>
<p>ç¬¬ä¸€æ¬¡å¬åˆ°â€œå‰ç«¯åˆ°å¤´äº†â€è¿™å¥è¯æ—¶ï¼Œæˆ‘æ­£å’Œä¸€ä½å‰ç«¯å¼€å‘æœ‹å‹èŠå¤©ã€‚</p>
<p>ä»–çš„æ—¥å¸¸å·¥ä½œå°±æ˜¯å†™ <code>CSS</code>ã€æ“ <code>DOM</code>ã€æ‹¼ç»„ä»¶ï¼Œè¯­æ°”ç‰¹åˆ«ç¬ƒå®šï¼šâ€œå“¥ä»¬å„¿ï¼Œå‰ç«¯è¿™è¡Œå½»åº•å˜å¤©äº†ã€‚è¿˜æŒ‰è€è·¯å­å¹²æ´»çš„äººï¼Œé©¬ä¸Šå°±è¦è¢«æ·˜æ±°äº†ã€‚â€</p>
<p>æˆ‘è¯´ï¼šâ€œä½ æœ‰ä»€ä¹ˆå¯æŠ±æ€¨çš„ï¼Œæˆ‘ä»¬å®¢æˆ·ç«¯éƒ½è¢«å‰ç«¯å¹²æ­»äº†ï¼Œä½ å‰ç«¯è¯´åˆ°å¤´äº†ï¼Œé‚£è¿™æ´»å„¿åˆ°åº•è°åšäº†ï¼Ÿâ€</p>
<p>æˆ‘çœ‹è§ä»–ä¸€å‰¯åˆ€äººçš„è¡¨æƒ…ï¼Œèµ¶ç´§è¿½é—®ï¼šâ€œå“¦ï¼Ÿ...å…·ä½“æ€ä¹ˆè¯´ï¼Ÿâ€</p>
<p>ä»–çš„å›ç­”å¾ˆé•¿ï¼Œä¹Ÿè®©æˆ‘æœ‰äº†å†™è¿™ç¯‡æ–‡ç« çš„å¿µå¤´ã€‚</p>
<p>ç°åœ¨çš„è¡Œä¸šç”Ÿæ€ç¡®å®å˜äº†â€”â€”ä¸æ˜¯å‰ç«¯è¿™ä¸ªé¢†åŸŸæ²¡äº†ï¼Œè€Œæ˜¯â€œå‰ç«¯â€åŸæ¥çš„å®šä¹‰å·²ç»å¤±æ•ˆäº†ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ç¯‡æ–‡ç« ä¹ŸåŒæ ·é€‚ç”¨äºå®¢æˆ·ç«¯çš„è¯»è€…ï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å‰ç«¯åŒäº‹æ˜¯æ€ä¹ˆè¯´çš„ï¼</p>
<p>å’±ä»¬æ‹†å¼€æ¥èŠèŠã€‚</p>
<h2 data-id="heading-0">è¿‡å»ï¼šåšç®€å•ä»»åŠ¡ -&gt; ç°åœ¨ï¼šç®¡ä¸€æ•´å¥—ç³»ç»Ÿ</h2>
<p>ä»¥å‰çš„å‰ç«¯ï¼Œå°±æ˜¯ <code>HTML</code> å†™å†…å®¹ã€<code>CSS</code> ææ ·å¼ã€<code>JS</code> åŠ äº¤äº’ï¼Œæœ¬è´¨æ˜¯ä¸ªâ€œç•Œé¢â€ï¼šæ­ä¸ª UIã€ç»‘ç‚¹äº‹ä»¶ã€è°ƒä¸ª API æ¥å£ï¼Œå®Œäº‹ã€‚</p>
<p>ç°åœ¨çš„å‰ç«¯ï¼Œå·²ç»æˆäº†ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ã€‚å®ƒä¸å†åªæ˜¯ç»™æŒ‰é’®æ”¹æ ·å¼ï¼Œè¿˜è¦ç®¡è¿™äº›äº‹ï¼š</p>
<ul>
<li>å¤æ‚çš„çŠ¶æ€ç®¡ç†ï¼ˆæœåŠ¡ç«¯/å®¢æˆ·ç«¯æ··åˆï¼‰</li>
<li>æ•°æ®è¯·æ±‚ç­–ç•¥ï¼ˆç¼“å­˜ã€å¤±æ•ˆé€»è¾‘ï¼‰</li>
<li>æœåŠ¡ç«¯æ¸²æŸ“&amp;æµå¼æ¸²æŸ“ï¼ˆæå‡ UX  é€Ÿåº¦ã€ä¼˜åŒ– SEOï¼‰</li>
<li>å®‰å…¨ï¼ˆCSP ç­–ç•¥ã€Cookieã€é‰´æƒæµç¨‹ï¼‰</li>
<li>è¾¹ç¼˜èŠ‚ç‚¹æ€§èƒ½&amp;éƒ¨ç½²æ–¹æ¡ˆ</li>
</ul>
<p>è¿™æ„å‘³ç€å†™ç•Œé¢çš„å¼€å‘è€…ï¼Œå¾—æ‡‚åç«¯çš„äº‹å„¿äº†ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºå•¥æœ‰äººè¯´â€œå‰ç«¯å·²æ­»â€â€”â€”<strong>è€å®šä¹‰é‡Œçš„å‰ç«¯ï¼Œç¡®å®è¿‡æ—¶äº†</strong>ã€‚</p>
<h2 data-id="heading-1">æ–°å·¥å…·æ­£åœ¨æ¨¡ç³Šå‰åç«¯çš„è¾¹ç•Œ</h2>
<p>ä»¥å‰å‰åç«¯åˆ†å·¥å¾ˆæ˜ç¡®ï¼šè°å†™å®¢æˆ·ç«¯ã€è°å†™æœåŠ¡ç«¯ã€‚</p>
<p>ä½†ç°åœ¨çš„å·¥å…·ï¼ˆ<code>Next.js</code>ã€<code>Remix</code>ã€<code>SvelteKit</code>ï¼Œè¿˜æœ‰ <code>Bun</code>ã€è¾¹ç¼˜å‡½æ•°è¿™ç±»è¿è¡Œæ—¶ï¼‰å¹²äº†ä¸¤ä»¶å…³é”®çš„äº‹ï¼š</p>
<h3 data-id="heading-2">a) åŒä¸€ä¸ªé¡¹ç›®é‡Œå°±èƒ½å†™æœåŠ¡ç«¯ä»£ç </h3>
<p>æ¡†æ¶å…è®¸ä½ åœ¨å‰ç«¯æ–‡ä»¶é‡Œç›´æ¥å†™æœåŠ¡ç«¯é€»è¾‘ï¼šè°ƒæ•°æ®åº“ã€å†™æœåŠ¡ç«¯åŠ¨ä½œã€åœ¨ç»„ä»¶æ ‘é‡Œç›´æ¥æ¸²æŸ“æˆå“é¡µé¢ã€‚ç»“æœå°±æ˜¯ï¼šå°‘äº†æ¥å›è¯·æ±‚ï¼Œç”¨æˆ·ä½“éªŒæ›´å¿«ã€‚</p>
<h3 data-id="heading-3">b) è¾¹ç¼˜èŠ‚ç‚¹æ‰§è¡Œ</h3>
<p>ä½ å¯ä»¥æŠŠåº”ç”¨çš„éƒ¨åˆ†ä»£ç éƒ¨ç½²åˆ°è¾¹ç¼˜èŠ‚ç‚¹ï¼ˆç¦»ç”¨æˆ·æ›´è¿‘çš„åœ°æ–¹ï¼‰ã€‚è¿™è®©é¡µé¢åŠ è½½æ›´å¿«ï¼Œä¹Ÿå½»åº•æ”¹å˜äº†ç¼“å­˜å’Œæ•°æ®æ–°é²œåº¦çš„æ€è·¯ã€‚</p>
<p>ä¸¾ä¸ªçœŸå®æ¡ˆä¾‹ï¼šç»“è´¦é¡µé¢</p>
<p>ä»¥å‰çš„æµç¨‹ï¼šç”¨æˆ·å¡«ä¿¡æ¯ â†’ è°ƒAPI â†’ åŠ è½½è½¬åœˆ â†’ æ¸²æŸ“ç»“æœã€‚</p>
<p>ç°åœ¨çš„æµç¨‹ï¼šç”¨æœåŠ¡ç«¯åŠ¨ä½œç›´æ¥åœ¨æœåŠ¡ç«¯å¤„ç†æ”¯ä»˜ï¼Œç„¶åç«‹åˆ»è¿”å›æ›´æ–°åçš„ UIï¼Œä¸ç”¨ç»•å¤æ‚çš„å®¢æˆ·ç«¯æµç¨‹ã€‚ç»“æœæ˜¯ï¼šæ›´å°‘çš„é—ªçƒã€æ›´ä½çš„å»¶è¿Ÿï¼Œä½“éªŒæ›´å¥½ã€‚</p>
<h2 data-id="heading-4">React æœåŠ¡ç«¯ç»„ä»¶&amp;æœåŠ¡ç«¯åŠ¨ä½œâ€”â€”ä¸åªæ˜¯åŠŸèƒ½ï¼Œæ˜¯æ–°æ€ç»´</h2>
<p><code>RSC</code>ï¼ˆ<code>React</code> æœåŠ¡ç«¯ç»„ä»¶ï¼‰èƒ½è®©å¤§éƒ¨åˆ† UI åœ¨æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå†æŠŠéƒ¨åˆ†æ¸²æŸ“å¥½çš„ <code>HTML</code> å‘ç»™ç”¨æˆ·ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>æµè§ˆå™¨ä¸‹è½½çš„åŒ…ä½“ç§¯å˜å°äº†</li>
<li>å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶é‡Œè¯·æ±‚æ•°æ®ï¼Œä¸ç”¨â€œæçŠ¶æ€â€</li>
<li>èƒ½åšå‡ºæ›´ä¸æ»‘çš„â€œæœåŠ¡ç«¯+å®¢æˆ·ç«¯â€æ··åˆä½“éªŒ</li>
</ul>
<p>æœåŠ¡ç«¯åŠ¨ä½œæ›´è¿›äº†ä¸€æ­¥ï¼šä½ å¯ä»¥åƒè°ƒç”¨å‰ç«¯å‡½æ•°ä¸€æ ·ï¼Œåœ¨æœåŠ¡ç«¯æ‰§è¡Œé€»è¾‘â€”â€”ä¸ç”¨æ­å®Œæ•´çš„ REST API å±‚ã€‚</p>
<p>ç»“æœæ˜¯ï¼šå°‘äº†æ¨¡æ¿ä»£ç ï¼Œå°‘äº†æ€§èƒ½æŸè€—ã€‚</p>
<h2 data-id="heading-5">æ•°æ®ï¼šä¸åªæ˜¯JSONï¼Œæ˜¯è¦ç®¡ç†çš„ç³»ç»Ÿ</h2>
<p>ç°åœ¨çš„æ•°æ®å¤„ç†ï¼Œæ—©å°±ä¸æ˜¯è°ƒä¸ªâ€œ<code>api</code>/<code>users</code>æ¥å£â€é‚£ä¹ˆç®€å•äº†ã€‚å¾—è€ƒè™‘ï¼š</p>
<ul>
<li>ç¼“å­˜ï¼šä»€ä¹ˆæ—¶å€™å­˜ï¼Ÿä»€ä¹ˆæ—¶å€™åˆ·æ–°ï¼Ÿ</li>
<li>é‡æ–°éªŒè¯ï¼šè°æ˜¯æ•°æ®çš„â€œæƒå¨æ¥æºâ€ï¼Ÿ</li>
<li>ä¹è§‚æ›´æ–°ï¼šå…ˆç»™ç”¨æˆ·å±•ç¤ºç»“æœï¼Œå¤±è´¥äº†å†å›æ»š</li>
<li>ç¦»çº¿&amp;åŒæ­¥ï¼šæ²¡ç½‘çš„æ—¶å€™åº”ç”¨ä¹Ÿå¾—æ­£å¸¸ç”¨</li>
</ul>
<p>åƒ <code>React Query</code>ã€<code>SWR</code> è¿™ç±»å·¥å…·ï¼Œæä¾›äº†ç°æˆçš„æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†å±‚ã€‚å‰ç«¯ç°åœ¨è¦å¤„ç†çš„å¯æ‰©å±•æ€§é—®é¢˜ï¼Œä»¥å‰éƒ½æ˜¯çº¯åç«¯çš„æ´»å„¿ã€‚</p>
<h2 data-id="heading-6">é‰´æƒ&amp;å®‰å…¨â€”â€”æ—¢æ˜¯ UIï¼Œä¹Ÿæ˜¯æ¶æ„</h2>
<p>ç°åœ¨çš„ç™»å½•ï¼Œä¸åªæ˜¯åšä¸ªè¡¨å•ã€‚ä½ å¾—æ‡‚ï¼š</p>
<ul>
<li>å®‰å…¨ Cookieï¼ˆHttpOnlyã€SameSiteï¼‰å’Œ JWT å­˜å‚¨çš„åŒºåˆ«</li>
<li>ç”¨ Cookie æ—¶è¦é˜² CSRF æ”»å‡»</li>
<li>Session ç®¡ç†å’Œ Token è½®æ¢</li>
<li>ç™»å½•æ¥å£çš„é™æµ&amp;é˜²æš´åŠ›ç ´è§£</li>
</ul>
<p>å¦‚æœå‰ç«¯è¦å¤„ç†ç”¨æˆ·è´¦å·ï¼Œå°±å¾—æ˜ç™½ï¼šUI è®¾è®¡ä¸åªæ˜¯ä½“éªŒé—®é¢˜ï¼Œæ›´æ˜¯å®‰å…¨é—®é¢˜ã€‚å‰ç«¯å·¥ç¨‹å¸ˆç°åœ¨å¿…é¡»æœ‰â€œå®‰å…¨æ€ç»´â€ã€‚</p>
<h2 data-id="heading-7">DevOps &amp;éƒ¨ç½²â€”â€”è°æ¥äº¤ä»˜æœ€ç»ˆäº§å“ï¼Ÿ</h2>
<p>å‰ç«¯ç°åœ¨å’ŒåŸºç¡€è®¾æ–½ç»‘å¾—å¾ˆç´§ï¼š</p>
<ul>
<li>éƒ¨ç½²é€‰æ‹©ï¼ˆServerless/è¾¹ç¼˜/å®¹å™¨ï¼‰</li>
<li>CI/CD æµæ°´çº¿ï¼ˆä¿è¯åŒ…ä½“ç§¯å°ã€ä¸Šä¼ èµ„æºã€å¤„ç†ç¼“å­˜å¤±æ•ˆï¼‰</li>
<li>ç›‘æ§ï¼šRUMï¼ˆçœŸå®ç”¨æˆ·ç›‘æ§ï¼‰å’Œå®¢æˆ·ç«¯é”™è¯¯æ—¥å¿—</li>
</ul>
<p>è¦æ˜¯ä¸æ‡‚æ€ä¹ˆæ­£ç¡®éƒ¨ç½²åº”ç”¨ï¼Œå°±ç®—ç»„ä»¶å†™å¾—å†å®Œç¾ï¼Œä¹Ÿæ²¡æ³•æŠŠäº§å“æ¨ç»™ç”¨æˆ·ã€‚</p>
<h2 data-id="heading-8">æ‰€ä»¥â€¦â€¦æˆ‘ä»¬éƒ½å¾—åšå…¨æ ˆï¼Ÿè¿˜æ˜¯æ”¹ä¸ªç§°å‘¼å°±è¡Œï¼Ÿ</h2>
<p>ç°åœ¨å¸¸å¬åˆ°çš„å»ºè®®æ˜¯â€œè½¬å…¨æ ˆâ€ï¼Œè¿™è¯æ²¡é”™ã€‚ä½†æ›´å‡†ç¡®çš„è¯´æ³•å¯èƒ½æ˜¯â€œå…¨ä½“éªŒå·¥ç¨‹å¸ˆâ€â€”â€”å¾—æ‡‚è¿™äº›ï¼š</p>
<ul>
<li>UI/UX</li>
<li>æ•°æ®è¯·æ±‚&amp;ç¼“å­˜</li>
<li>æœåŠ¡ç«¯é€»è¾‘</li>
<li>éƒ¨ç½²&amp;æ€§èƒ½</li>
</ul>
<p>ä¸ç”¨æ¯æ ·éƒ½ç²¾é€šï¼Œä½†å¾—æ‡‚å…¨è²Œã€èƒ½åœ¨æ•´ä¸ªæµç¨‹é‡Œå¹²æ´»ã€‚</p>
<h2 data-id="heading-9">è°èƒ½åœ¨è¿™åœºå˜é©é‡Œç«™ç¨³ï¼Ÿæ€ä¹ˆé€‚åº”ï¼Ÿ</h2>
<p>å¦‚æœä½ æ˜¯å–œæ¬¢åšç•Œé¢çš„å‰ç«¯ï¼Œæœ‰ä¸¤æ¡è·¯ï¼š</p>
<ol>
<li><strong>æ‹“å®½æŠ€èƒ½</strong>ï¼šå­¦æœåŠ¡ç«¯åŠ¨ä½œã€æ•°æ®è¯·æ±‚æ¨¡å¼ï¼Œèƒ½ç‹¬ç«‹åšå®Œæ•´åŠŸèƒ½ï¼ˆå‰ç«¯+æœåŠ¡ç«¯é€»è¾‘ï¼‰</li>
<li><strong>æ·±è€•ä¸“é¡¹</strong>ï¼šæˆä¸ºç”¨æˆ·ä½“éªŒæ€§èƒ½ä¸“å®¶ï¼ˆå…³é”®æ¸²æŸ“è·¯å¾„ã€æ— éšœç¢ã€åŠ¨ç”»ï¼‰â€”â€”ä¼ä¸šæ„¿æ„ä¸ºè¿™ç±»ä¸“å®¶ä»˜é«˜ä»·</li>
</ol>
<h2 data-id="heading-10">å‰ç«¯æ²¡æ­»ï¼Œä½†è€æ ·å­çš„å‰ç«¯å·²ç»æ²¡äº†</h2>
<p>è¿™æ˜¯è¿›åŒ–ï¼šç•Œé¢å˜æˆäº†â€œä½“éªŒâ€ï¼Œè€Œåšç•Œé¢çš„å·¥ç¨‹å¸ˆï¼Œå¾—æ‡‚æ•´ä¸ªç³»ç»Ÿäº†ã€‚</p>
<p>åªè¦ä½ é€‚åº”å˜åŒ–ã€å­¦ä¼šè¿™äº›æ–°åŸºç¡€ï¼Œæœºä¼šåªä¼šæ›´å¤šâ€”â€”å› ä¸ºå¸‚åœºç°åœ¨ç¼ºçš„ï¼Œæ˜¯èƒ½å¿«é€Ÿé«˜æ•ˆåœ°æ‰“é€ å®Œæ•´ä½“éªŒçš„äººã€‚</p>
<h2 data-id="heading-11">åŒç†ï¼Œä¸å®¢æˆ·ç«¯çš„å°ä¼™ä¼´ä»¬å…±å‹‰</h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Skill çœŸé¦™ï¼5 åˆ†é’Ÿå¸®å¥³å‹åˆ¶ä½œä¸€æ¬¾å¡”ç½—ç‰Œ APP]]></title>    <link>https://juejin.cn/post/7593362940071903284</link>    <guid>https://juejin.cn/post/7593362940071903284</guid>    <pubDate>2026-01-12T01:14:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593362940071903284" data-draft-id="7593311807588188166" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Skill çœŸé¦™ï¼5 åˆ†é’Ÿå¸®å¥³å‹åˆ¶ä½œä¸€æ¬¾å¡”ç½—ç‰Œ APP"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹,Cursor"/> <meta itemprop="datePublished" content="2026-01-12T01:14:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹˜é£gg"/> <meta itemprop="url" content="https://juejin.cn/user/4248168658899741"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Skill çœŸé¦™ï¼5 åˆ†é’Ÿå¸®å¥³å‹åˆ¶ä½œä¸€æ¬¾å¡”ç½—ç‰Œ APP
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4248168658899741/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹˜é£gg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:14:01.000Z" title="Mon Jan 12 2026 01:14:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘å‘ç°ä¸€ä¸ª AI ææ•ˆç¥å™¨ â€”â€”Skillsï¼Œç”¨å®ƒé…åˆ Cursor å¼€å‘ï¼Œæˆ‘ä»…ç”¨ 5 åˆ†é’Ÿå°±å¸®å¥³å‹åšå‡ºäº†ä¸€æ¬¾å¡”ç½—ç‰Œ H5 APPï¼åœ¨è¯´å¦‚ä½•æ“ä½œä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤§æ¦‚äº†è§£ä¸‹ Skills çš„åŸç†</p>
<h2 data-id="heading-0">ä¸€ã€Skillsçš„æ ¸å¿ƒå†…æ¶µä¸æŠ€æœ¯æ„æˆ</h2>
<h3 data-id="heading-1">ï¼ˆä¸€ï¼‰æœ¬è´¨ç•Œå®š</h3>
<p>Skills å¯ä»¥ç†è§£ä¸ºç»™ AI Agent å®šåˆ¶çš„ã€Œä¸“ä¸šæŠ€èƒ½åŒ…ã€ï¼ŒæŠŠç‰¹å®šé¢†åŸŸçš„ SOPã€æ“ä½œé€»è¾‘å°è£…æˆå¯å¤ç”¨çš„æ¨¡å—ï¼Œè®© AI èƒ½ç²¾å‡†æŒæ¡æŸç±»ä¸“ä¸šèƒ½åŠ›ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯å®ç°é¢†åŸŸçŸ¥è¯†ä¸æ“ä½œæµç¨‹çš„æ ‡å‡†åŒ–ä¼ é€’ï¼Œä½¿AI AgentæŒ‰éœ€è·å–ç‰¹å®šåœºæ™¯ä¸“ä¸šèƒ½åŠ›ã€‚å…¶æœ¬è´¨æ˜¯åŒ…å«å…ƒæ•°æ®ã€æŒ‡ä»¤é›†ã€è¾…åŠ©èµ„æºçš„ç»“æ„åŒ–çŸ¥è¯†å•å…ƒï¼Œé€šè¿‡è§„èŒƒåŒ–å°è£…å°†åˆ†æ•£ä¸“ä¸šç»éªŒè½¬åŒ–ä¸ºAI Agentå¯ç†è§£æ‰§è¡Œçš„â€œè¡Œä¸šSOPèƒ½åŠ›åŒ…â€ï¼Œè®© AI ä»â€˜åªä¼šè°ƒç”¨å·¥å…·â€™å˜æˆâ€˜æ‡‚ä¸“ä¸šé€»è¾‘çš„æ‰§è¡Œè€…</p>
<h3 data-id="heading-2">ï¼ˆäºŒï¼‰æŠ€æœ¯æ„æˆè¦ç´ </h3>
<p>å®Œæ•´Skillä½“ç³»ç”±ä¸‰å¤§æ ¸å¿ƒæ¨¡å—æ„æˆï¼Œå½¢æˆé—­ç¯èƒ½åŠ›ä¼ é€’æœºåˆ¶ï¼š</p>
<ol>
<li>å…ƒæ•°æ®æ¨¡å—ï¼šä»¥SKILL.mdæˆ–meta.jsonä¸ºè½½ä½“ï¼Œæ¶µç›–æŠ€èƒ½åç§°ã€é€‚ç”¨åœºæ™¯ç­‰å…³é”®ä¿¡æ¯çº¦ 100 ä¸ªå­—ç¬¦ï¼ˆTokenï¼‰ï¼Œæ ¸å¿ƒåŠŸèƒ½æ˜¯å®ç°æŠ€èƒ½å¿«é€Ÿè¯†åˆ«ä¸åŒ¹é…ï¼Œä¸ºAI Agentä»»åŠ¡åˆå§‹åŒ–é˜¶æ®µçš„åŠ è½½å†³ç­–æä¾›ä¾æ®ã€‚</li>
<li>æŒ‡ä»¤é›†æ¨¡å—ï¼šä»¥instructions.mdä¸ºæ ¸å¿ƒè½½ä½“ï¼ŒåŒ…å«æ“ä½œæ ‡å‡†æµç¨‹ï¼ˆSOPï¼‰ã€å†³ç­–é€»è¾‘ç­‰ä¸“ä¸šè§„èŒƒï¼Œæ˜¯é¢†åŸŸçŸ¥è¯†çš„ç»“æ„åŒ–è½¬åŒ–æˆæœï¼Œæ˜ç¡®AI Agentæ‰§è¡Œä»»åŠ¡çš„æ­¥éª¤ä¸åˆ¤æ–­ä¾æ®ã€‚</li>
<li>è¾…åŠ©èµ„æºæ¨¡å—ï¼šå¯é€‰æ‰©å±•ç»„ä»¶ï¼Œæ¶µç›–è„šæœ¬ä»£ç ã€æ¡ˆä¾‹åº“ç­‰èµ„æºï¼Œä¸ºAI Agentæä¾›ç›´æ¥æŠ€æœ¯æ”¯æ’‘ï¼Œå®ç°çŸ¥è¯†ä¸å·¥å…·èåˆï¼Œæå‡æ‰§è¡Œæ•ˆç‡ä¸ç»“æœä¸€è‡´æ€§ã€‚</li>
</ol>
<p>å’Œä¼ ç»Ÿçš„å‡½æ•°è°ƒç”¨ã€API é›†æˆç›¸æ¯”ï¼ŒSkills çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ï¼šä¸åªæ˜¯ â€œå‘Šè¯‰ AI èƒ½åšä»€ä¹ˆâ€ï¼Œæ›´æ˜¯ â€œæ•™ä¼š AI æ€ä¹ˆåšâ€ï¼Œè®© AI ç†è§£ä¸“ä¸šé€»è¾‘è€Œéæœºæ¢°æ‰§è¡Œ</p>
<h2 data-id="heading-3">äºŒã€Skillsä¸ä¼ ç»ŸPrompt Engineeringçš„æŠ€æœ¯å·®å¼‚</h2>
<p>ä»æŠ€æœ¯èŒƒå¼çœ‹ï¼ŒSkillsä¸ä¼ ç»ŸPrompt Engineeringå­˜åœ¨æœ¬è´¨åŒºåˆ«ï¼Œæ ¸å¿ƒå·®å¼‚ä½“ç°åœ¨çŸ¥è¯†ä¼ é€’çš„æ•ˆç‡ã€çµæ´»æ€§ä¸å¯æ‰©å±•æ€§ä¸Šï¼š</p>
<ol>
<li>çŸ¥è¯†å°è£…ï¼šä¼ ç»Ÿä¸ºâ€œä¸€æ¬¡æ€§çŒè¾“â€ï¼Œå†—ä½™ä¸”å¤ç”¨æ€§å·®ï¼›Skillsä¸ºâ€œæ¨¡å—åŒ–å°è£…â€ï¼Œä¸€æ¬¡åˆ›å»ºå¯è·¨åœºæ™¯å¤ç”¨ï¼Œé™ä½å†—ä½™æˆæœ¬ã€‚</li>
<li>ä¸Šä¸‹æ–‡æ•ˆç‡ï¼šä¼ ç»Ÿä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰è§„åˆ™ï¼Œå ç”¨å¤§é‡ä»¤ç‰Œä¸”æ˜“ä¿¡æ¯è¿‡è½½ï¼›SkillsæŒ‰éœ€åŠ è½½ï¼Œæå‡æ•ˆç‡å¹¶æ”¯æŒå¤šæŠ€èƒ½é›†æˆã€‚</li>
<li>ä»»åŠ¡å¤„ç†ï¼šä¼ ç»Ÿé¢å¯¹å¤æ‚ä»»åŠ¡æ˜“é€»è¾‘æ–­è£‚ï¼Œæ— æ³•æ•´åˆå¤–éƒ¨èµ„æºï¼›Skillsæ”¯æŒå¤šæŠ€èƒ½ç»„åˆè°ƒç”¨ï¼Œå®ç°å¤æ‚ä»»åŠ¡å…¨æµç¨‹è½¬åŒ–ã€‚</li>
<li>çŸ¥è¯†è¿­ä»£ï¼šä¼ ç»Ÿæ›´æ–°éœ€é€ä¸€ä¿®æ”¹æç¤ºè¯ï¼Œç»´æŠ¤æˆæœ¬é«˜ï¼›Skillsä¸ºç‹¬ç«‹æ¨¡å—è®¾è®¡ï¼Œæ›´æ–°æˆæœ¬ä½ä¸”å…³è”ä»»åŠ¡å¯åŒæ­¥å—ç›Šã€‚</li>
</ol>
<p>ä¸Šè¿°å·®å¼‚å†³å®šSkillsæ›´é€‚é…å¤æ‚ä¸“ä¸šåœºæ™¯ï¼Œå¯ç ´è§£ä¼ ç»ŸPrompt Engineeringè§„æ¨¡åŒ–ã€æ ‡å‡†åŒ–åº”ç”¨çš„ç“¶é¢ˆã€‚</p>
<h2 data-id="heading-4">ä¸‰ã€æ¸è¿›å¼æŠ«éœ²ï¼šSkillsçš„æ ¸å¿ƒæŠ€æœ¯åˆ›æ–°</h2>
<h3 data-id="heading-5">ï¼ˆä¸€ï¼‰æŠ€æœ¯åŸç†ä¸å®ç°æœºåˆ¶</h3>
<p>Skillsèƒ½åœ¨ä¸å¢åŠ ä¸Šä¸‹æ–‡è´Ÿæ‹…çš„å‰æä¸‹æ”¯æ’‘å¤šå¤æ‚æŠ€èƒ½æŒæ¡ï¼Œæ ¸å¿ƒåœ¨äºâ€œæŒ‰éœ€åŠ è½½â€çš„æ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰è®¾è®¡ï¼Œå°†æŠ€èƒ½åŠ è½½åˆ†ä¸ºä¸‰é˜¶æ®µï¼Œå®ç°çŸ¥è¯†ä¼ é€’ä¸ä¸Šä¸‹æ–‡æ¶ˆè€—çš„åŠ¨æ€å¹³è¡¡ï¼š</p>
<ol>
<li>å‘ç°é˜¶æ®µï¼ˆå¯åŠ¨åˆå§‹åŒ–ï¼‰ï¼šä»…åŠ è½½æ‰€æœ‰Skillså…ƒæ•°æ®ï¼ˆçº¦100ä¸ªä»¤ç‰Œ/ä¸ªï¼‰ï¼Œæ„å»ºâ€œæŠ€èƒ½æ¸…å•â€æ˜ç¡®èƒ½åŠ›è¾¹ç•Œï¼Œæœ€å°åŒ–åˆå§‹åŒ–ä¸Šä¸‹æ–‡è´Ÿæ‹…ã€‚</li>
<li>æ¿€æ´»é˜¶æ®µï¼ˆä»»åŠ¡åŒ¹é…æ—¶ï¼‰ï¼šåŒ¹é…ä»»åŠ¡ååŠ è½½å¯¹åº”æŠ€èƒ½æŒ‡ä»¤é›†ï¼Œè·å–æ“ä½œè§„èŒƒï¼Œå®ç°ç²¾å‡†åŠ è½½å¹¶é¿å…æ— å…³çŸ¥è¯†å¹²æ‰°ã€‚</li>
<li>æ‰§è¡Œé˜¶æ®µï¼ˆè¿‡ç¨‹æŒ‰éœ€åŠ è½½ï¼‰ï¼šåŠ¨æ€åŠ è½½è¾…åŠ©èµ„æºï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–ä¸Šä¸‹æ–‡åˆ©ç”¨æ•ˆç‡ã€‚</li>
</ol>
<h3 data-id="heading-6">ï¼ˆäºŒï¼‰æŠ€æœ¯ä¼˜åŠ¿ä¸ä»·å€¼</h3>
<p>æ¸è¿›å¼æŠ«éœ²æœºåˆ¶ä½¿Skillså…·å¤‡ä¸‰å¤§æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ol>
<li>é™ä½ä»¤ç‰Œæ¶ˆè€—ï¼šåˆ†é˜¶æ®µåŠ è½½é¿å…èµ„æºæµªè´¹ï¼Œæ”¯æŒå•æ¬¡å¯¹è¯é›†æˆæ•°åä¸ªæŠ€èƒ½ï¼Œé™ä½è¿è¡Œæˆæœ¬ã€‚</li>
<li>æå‡æ‰§è¡Œå‡†ç¡®æ€§ï¼šèšç„¦ç›¸å…³çŸ¥è¯†ç»„ä»¶ï¼Œå‡å°‘å¹²æ‰°ï¼Œå¼ºåŒ–æ ¸å¿ƒé€»è¾‘æ‰§è¡Œç²¾åº¦ã€‚</li>
<li>å¢å¼ºæ‰©å±•æ€§ï¼šæ¨¡å—åŒ–è®¾è®¡æ”¯æŒçµæ´»é›†æˆæ–°çŸ¥è¯†ï¼Œæ— éœ€é‡æ„ç³»ç»Ÿï¼Œé€‚é…é¢†åŸŸçŸ¥è¯†å¿«é€Ÿè¿­ä»£ã€‚</li>
</ol>
<h2 data-id="heading-7">å››ã€Cursor Skills</h2>
<p>ä»‹ç»å®Œ Skills æ˜¯ä»€ä¹ˆä¹‹åï¼Œæˆ‘å°†ä½¿ç”¨çš„æ˜¯ Cursor ä½œä¸ºæˆ‘çš„å¼€å‘å·¥å…·ã€‚å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œæœ€å¼€å§‹åªæœ‰ Claude Code æ”¯æŒ Skillsã€Codex ç´§éšå…¶åï¼Œå£å‘³è‡ªå·±é€‰ã€‚</p>
<blockquote>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼ŒCursor çš„ Skills æœºåˆ¶é‡‡ç”¨äº†ä¸ Claude Code å‡ ä¹å®Œå…¨ä¸€è‡´çš„ SKILL.md æ ¼å¼ã€‚è¿™æ„å‘³ç€ï¼Œä½ å®Œå…¨ä¸éœ€è¦ä»å¤´ç¼–å†™ï¼Œå¯ä»¥ç›´æ¥å°† Claude Code çš„ç”Ÿæ€èµ„æºè¿ç§»åˆ° Cursorã€‚</p>
</blockquote>
<h3 data-id="heading-8">ï¼ˆä¸€ï¼‰Cursor è®¾ç½®</h3>
<p>å› ä¸º Cursor åˆšæ”¯æŒä¸ä¹…ï¼Œå¹¶ä¸”æ˜¯ Beta æ‰èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥è¦è¿›è¡Œä¸‹é¢æ“ä½œ</p>
<blockquote>
<p>Agent Skills ä»…åœ¨ <strong>Nightly</strong> æ›´æ–°æ¸ é“ä¸­å¯ç”¨ã€‚<br/>
è¦åˆ‡æ¢æ›´æ–°æ¸ é“ï¼Œæ‰“å¼€ Cursor è®¾ç½®ï¼ˆ <strong>Cmd+Shift+J</strong> ï¼‰ï¼Œé€‰æ‹© Betaï¼Œç„¶åå°†æ›´æ–°æ¸ é“è®¾ç½®ä¸º <strong>Nightly</strong>ã€‚æ›´æ–°å®Œæˆåï¼Œä½ å¯èƒ½éœ€è¦é‡æ–°å¯åŠ¨ Cursorã€‚ å¦‚ä¸‹å›¾æ‰€ç¤º</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0e859e9c790420da814bcd435fe3f7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOOZ2c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785240&amp;x-signature=q7xTW1tWEGWd2XnXdQoNyrEVTI8%3D" alt="" loading="lazy"/></p>
<p>è¦å¯ç”¨æˆ–ç¦ç”¨ Agent Skillsï¼š</p>
<ol>
<li>æ‰“å¼€Â <strong>Cursor Settings â†’ Rules</strong></li>
<li>æ‰¾åˆ°Â <strong>Import SettingsÂ éƒ¨åˆ†</strong></li>
<li>åˆ‡æ¢Â <strong>Agent Skills</strong>Â å¼€å…³å°†å…¶å¼€å¯æˆ–å…³é—­ å¦‚ä¸‹å›¾æ‰€ç¤º <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2975dddc5324025baae035605ca838f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOOZ2c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785240&amp;x-signature=Me9Ob4euWTj0vUEyHTFyPilADVM%3D" alt="" loading="lazy"/></li>
</ol>
<h3 data-id="heading-9">ï¼ˆäºŒï¼‰å¤åˆ¶ Claude Skills</h3>
<p>ç„¶åæˆ‘ä»¬ç›´æ¥å» Anthropic å®˜æ–¹ç»´æŠ¤çš„å¼€æºä»“åº“ anthropics/skillsï¼Œé‡Œé¢æä¾›äº†å¤§é‡ç»è¿‡éªŒè¯çš„ Skill èŒƒä¾‹ï¼Œæ¶µç›–äº†åˆ›æ„è®¾è®¡ã€å¼€å‘æŠ€æœ¯ã€æ–‡æ¡£å¤„ç†ç­‰å¤šä¸ªé¢†åŸŸã€‚</p>
<p>ä½ å¯ä»¥è®¿é—® <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></strong> æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ã€‚ä»¥ä¸‹æ˜¯è¿™æ¬¡ç”¨åˆ°çš„ <strong>Skills</strong>ï¼š</p>
<p>â€¢ <strong>Frontend Design</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºæå‡å‰ç«¯è®¾è®¡è´¨é‡çš„æŠ€èƒ½ã€‚å®ƒåŒ…å«äº†ä¸€å¥—å®Œæ•´çš„ UI è®¾è®¡åŸåˆ™ï¼ˆæ’ç‰ˆã€è‰²å½©ã€å¸ƒå±€ï¼‰</p>
<p>ç„¶åæˆ‘ä»¬ç›´æ¥æŠŠ Skills é‡Œé¢çš„ <strong>.claude/skills/frontend-design</strong> åˆ°å½“å‰é¡¹ç›®æ–‡ä»¶ä¸‹ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/674ee6fd99bc49c690a75334cd3515a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOOZ2c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785240&amp;x-signature=hFFcaknE0tZIl4vdACqMyqbPYlM%3D" alt="" loading="lazy"/></p>
<p>æ¨¡å‹å’Œæ¨¡å¼å¦‚ä¸‹å›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58c5199af846490aa4e01245d7ee9092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOOZ2c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785240&amp;x-signature=1wxcywlJDFL%2BZVbdw6CmlWd2Q18%3D" alt="" loading="lazy"/></p>
<p>æç¤ºè¯å¦‚ä¸‹ï¼Œä¸ä¸€å®šéå¾—ç”¨æˆ‘çš„ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">ä½¿ç”¨Â <span class="hljs-title class_">Skill</span>Â front-designã€‚æˆ‘è¦åšä¸€ä¸ªÂ <span class="hljs-variable constant_">H5</span>Â ï¼ŒåŠŸèƒ½æ˜¯ä¸€ä¸ªå¡”ç½—ç‰Œã€‚

ä½ æ˜¯ä¸€åç»éªŒä¸°å¯Œçš„äº§å“è®¾è®¡ä¸“å®¶å’Œèµ„æ·±å‰ç«¯ä¸“å®¶ï¼Œæ“…é•¿<span class="hljs-variable constant_">UI</span>æ„å›¾ä¸å‰ç«¯é¡µé¢è¿˜åŸã€‚ç°åœ¨è¯·ä½ å¸®æˆ‘å®Œæˆè¿™ä¸ªå¡”ç½—ç‰Œåº”ç”¨çš„Â <span class="hljs-variable constant_">UI</span>/<span class="hljs-variable constant_">UX</span>Â åŸå‹å›¾è®¾è®¡ã€‚è¯·è¾“å‡ºä¸€ä¸ªåŒ…å«æ‰€æœ‰è®¾è®¡é¡µé¢çš„å®Œæ•´<span class="hljs-variable constant_">HTML</span>æ–‡ä»¶ï¼Œç”¨äºå±•ç¤ºå®Œæ•´<span class="hljs-variable constant_">UI</span>ç•Œé¢ã€‚

æ³¨æ„ï¼šç”Ÿæˆä»£ç çš„æ—¶å€™è¯·ä¸€æ­¥ä¸€æ­¥æ‰§è¡Œï¼Œé¿å…å•æ­¥ä»»åŠ¡è¿‡å¤§ï¼Œæ—¶é—´æ‰§è¡Œè¿‡é•¿
</code></pre>
<p>ç„¶å Cursor ä¼šè‡ªåŠ¨å­¦ä¹  Skillsï¼Œå¹¶è¾“å‡ºä»£ç </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c19e93e9470b4d0e96a449d82b759a54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOOZ2c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785240&amp;x-signature=gk2PRreMV%2Fvd8FnmedK2f%2BBkwNY%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå°±æ¼«é•¿çš„ç­‰å¾…ä¹‹åï¼ŒCursor ä¼šè‡ªåŠ¨åšä¸€ä¸ªéœ€æ±‚æŠ€æœ¯æ–‡æ¡£ï¼Œç„¶åä¼šä¸€æ­¥ä¸€æ­¥çš„å®ç°å‡ºæ¥ï¼Œè¿™æ—¶å€™å¯ä»¥å»å–æ¯èŒ¶ï¼Œå†å»ä¸Šä¸ªå•æ‰€ï¼</p>
<p>æœ€ç»ˆè¾“å‡ºäº† 5 ä¸ªé¡µé¢</p>
<ol>
<li><strong>é¦–é¡µ</strong> (Home)</li>
<li><strong>æ¯æ—¥æŠ½ç‰Œé¡µ</strong> (Daily Draw)</li>
<li><strong>ç‰Œé˜µå åœé¡µ</strong> (Spread Reading)</li>
<li><strong>å¡”ç½—ç™¾ç§‘é¡µ</strong> (Encyclopedia)</li>
<li><strong>å åœå†å²é¡µ</strong> (History)</li>
</ol>
<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹,æ•´ä½“æ•ˆæœçœ‹èµ·æ¥ï¼Œå®Œå…¨æ˜¯ä¸€ä¸ªæˆç†Ÿçš„å‰ç«¯å·¥ç¨‹å¸ˆçš„æ°´å‡†ï¼Œç”šè‡³è¿˜å¸¦æœ‰è¿‡æ¸¡åŠ¨ç”»å’ŒèƒŒæ™¯æ•ˆã€‚å› ä¸ºæ˜é‡‘æ— æ³•ä¸Šä¼ è§†é¢‘ï¼Œæ¬¢è¿ç§ä¿¡æˆ‘æ‰¾æˆ‘è¦æˆ–è€…å…³æ³¨æˆ‘ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0e2f3809f254293b550c45ff38e7a99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LmY6aOOZ2c=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785240&amp;x-signature=dxoms7VYEZ7ee2D27Q6%2FI%2B%2BwsnM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">æ‰©å±•é˜…è¯»</h2>
<p>å› ä¸º Cursor ç›®å‰ä»…åœ¨ <strong>Nightly</strong> ç‰ˆæœ¬ä¸Šæ‰å¯ä»¥ä½¿ç”¨ Skillsã€‚å¦‚æœæ‹…å¿ƒåˆ‡æ¢æ­¤æ¨¡å¼ä¼šå¼•å‘æ„æƒ³ä¸åˆ°çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å¦ä¸€ç§æ–¹æ¡ˆ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnumman-ali%2Fopenskills" target="_blank" title="https://github.com/numman-ali/openskills" ref="nofollow noopener noreferrer">OpenSkills</a> æ˜¯ä¸€ä¸ªå¼€æºçš„é€šç”¨æŠ€èƒ½åŠ è½½å™¨ã€‚</p>
<ul>
<li>å®Œå…¨å…¼å®¹ï¼šå®ƒåŸç”Ÿæ”¯æŒ Anthropic å®˜æ–¹ Skill æ ¼å¼ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Claude å®˜æ–¹å¸‚åœºæˆ–ç¤¾åŒºå¼€å‘çš„æŠ€èƒ½ã€‚</li>
<li>æ¡¥æ¢ä½œç”¨ï¼šå®ƒé€šè¿‡ç®€å•çš„å‘½ä»¤è¡Œæ“ä½œï¼Œå°†è¿™äº›æŠ€èƒ½è½¬æ¢ä¸º Cursorã€Windsurf ç­‰å·¥å…·å¯è¯†åˆ«çš„é…ç½®ï¼ˆAGENTS.mdï¼‰ï¼Œä»è€Œè®© Cursor å…·å¤‡ä¸ Claude Code åŒç­‰çš„â€œæ€è€ƒâ€ä¸â€œæŠ€èƒ½è°ƒç”¨â€èƒ½åŠ›ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025 å¹´ç»ˆæ€»ç»“ï¼šä¸€ä¸ª Python DevOps çš„æˆé•¿ä¹‹è·¯]]></title>    <link>https://juejin.cn/post/7593913760042631177</link>    <guid>https://juejin.cn/post/7593913760042631177</guid>    <pubDate>2026-01-12T01:20:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593913760042631177" data-draft-id="7593913760042614793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025 å¹´ç»ˆæ€»ç»“ï¼šä¸€ä¸ª Python DevOps çš„æˆé•¿ä¹‹è·¯"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:20:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰è¿½æ±‚çš„å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1310273591851159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025 å¹´ç»ˆæ€»ç»“ï¼šä¸€ä¸ª Python DevOps çš„æˆé•¿ä¹‹è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1310273591851159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰è¿½æ±‚çš„å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:20:31.000Z" title="Mon Jan 12 2026 01:20:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2025 å¹´ç»ˆæ€»ç»“ï¼šä¸€ä¸ª Python DevOps çš„æˆé•¿ä¹‹è·¯</h2>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ <strong>æœ‰è¿½æ±‚çš„å¼€å‘è€…</strong>ã€‚</p>
<p>2026 å¹´çš„ç¬¬ä¸€ä¸ªå·¥ä½œæ—¥ï¼Œååœ¨ç”µè„‘å‰æ•²ä¸‹è¿™äº›æ–‡å­—çš„æ—¶å€™ï¼Œå¿ƒé‡Œäº”å‘³æ‚é™ˆã€‚å›é¡¾ 2025 å¹´ï¼Œä»å¹´åˆçš„è¿·èŒ«åˆ°å¹´æœ«çš„åšå®šï¼Œè¿™ä¸€å¹´çš„æŠ€æœ¯åˆ†äº«ä¹‹è·¯ï¼Œæ¯”æˆ‘æƒ³è±¡ä¸­æ›´æœ‰æ„ä¹‰ã€‚</p>
<h3 data-id="heading-1">2025ï¼Œæˆ‘ä»¬ä¸€èµ·èµ°è¿‡çš„è·¯</h3>
<p>ç¿»çœ‹åå°æ•°æ®ï¼Œ2025 å¹´æˆ‘ä¸€å…±å‘å¸ƒäº† <strong>30 ç¯‡åŸåˆ›æ–‡ç« </strong>ï¼Œæ¶µç›–äº† Python å¼€å‘æŠ€å·§ã€DevOps å®è·µã€ç½‘ç»œè®¾å¤‡è‡ªåŠ¨åŒ–ã€æ€§èƒ½ä¼˜åŒ–ç­‰å¤šä¸ªé¢†åŸŸã€‚</p>
<h4 data-id="heading-2">é‚£äº›è¢«ä½ ä»¬å–œæ¬¢çš„å†…å®¹</h4>
<p>å›é¡¾å…¨å¹´æ•°æ®ï¼Œæœ‰å‡ ç¯‡æ–‡ç« çš„çƒ­åº¦è¿œè¶…æˆ‘çš„é¢„æœŸï¼š</p>
<ul>
<li><strong>ã€ŠåŸºäº H3C äº¤æ¢æœº Telemetry ä¸ Python gRPC å®ç°è·¯ç”±è¡¨å®æ—¶ç›‘æ§ã€‹</strong> - è¿™ç¯‡æœ€"ç¡¬æ ¸"çš„æ–‡ç« åè€Œè·å¾—äº†æœ€å¤šçš„æ”¶è—ï¼Œè®©æˆ‘å‘ç°å‚ç›´é¢†åŸŸçš„æ·±åº¦å†…å®¹å…¶å®å¾ˆç¨€ç¼º</li>
<li><strong>ã€ŠRedis ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿã€‹</strong> - ä»åº•å±‚åŸç†åˆ°æ¶æ„è®¾è®¡çš„å‰–æï¼Œè¯æ˜äº†å¤§å®¶å¯¹"çŸ¥å…¶ç„¶æ›´è¦çŸ¥å…¶æ‰€ä»¥ç„¶"çš„æ¸´æ±‚</li>
<li><strong>ã€Šåˆ«å†ç­‰ç¼“å­˜è‡ªå·±"çƒ­"èµ·æ¥äº†ï¼Python åç«¯å¿…ä¼šçš„é¢„çƒ­æŠ€å·§ï¼ï¼ï¼ã€‹</strong> - è¿™ç§è´´è¿‘å®æˆ˜åœºæ™¯çš„æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼Œç›´æ¥æˆ³ä¸­äº†åç«¯å¼€å‘çš„ç—›ç‚¹</li>
</ul>
<p>è¿™äº›åé¦ˆè®©æˆ‘å‘ç°äº†ä¸€ä¸ªè§„å¾‹ï¼š<strong>è¯»è€…æ—¢éœ€è¦è§£å†³çœ¼å‰é—®é¢˜çš„é€Ÿæ•ˆè¯ï¼Œä¹Ÿæ¸´æœ›æ·±å…¥åº•å±‚çš„ç³»ç»Ÿæ€§çŸ¥è¯†</strong>ã€‚</p>
<h4 data-id="heading-3">æˆ‘åœ¨ 2025 å¹´çš„æˆé•¿</h4>
<p>ä½œä¸ºä¸€ä¸ª Python åç«¯çš„ DevOps å¼€å‘ï¼Œè¿™ä¸€å¹´æˆ‘ï¼š</p>
<ul>
<li>ä»é›¶æ­å»ºäº†åŸºäº Telemetry çš„ç½‘ç»œè®¾å¤‡ç›‘æ§ç³»ç»Ÿï¼ŒçœŸæ­£å®ç°äº†"å¯è§‚æµ‹æ€§"</li>
<li>æ·±åº¦ä¼˜åŒ–äº† Redis é›†ç¾¤æ¶æ„ï¼Œè§£å†³äº†å¤šä¸ªç”Ÿäº§ç¯å¢ƒçš„æ€§èƒ½ç“¶é¢ˆ</li>
<li>å®æ–½äº†å®Œæ•´çš„ç¼“å­˜é¢„çƒ­ç­–ç•¥ï¼Œè®©ç³»ç»Ÿå¯åŠ¨åçš„å†·å¯åŠ¨é—®é¢˜æˆä¸ºå†å²</li>
<li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¤„ç†äº† N æ¬¡çº¿ä¸Šäº‹æ•…ï¼Œæ¯ä¸€æ¬¡éƒ½æ˜¯æ·±åˆ»çš„å­¦ä¹ </li>
<li>ä¼˜åŒ–äº†å›¢é˜Ÿçš„ CI/CD æµç¨‹ï¼Œéƒ¨ç½²æ•ˆç‡æå‡äº† 40%</li>
</ul>
<p><strong>è¿™äº›çœŸå®çš„é¡¹ç›®ç»éªŒï¼Œæˆä¸ºäº†å…¬ä¼—å·æœ€å®è´µçš„ç´ ææ¥æº</strong>ã€‚</p>
<h4 data-id="heading-4">æ„Ÿè°¢æœ‰ä½ ä»¬</h4>
<p>è¯´å®è¯ï¼Œå¼€å§‹å†™å…¬ä¼—å·çš„åˆè¡·å¾ˆç®€å•ï¼šè®°å½•å·¥ä½œä¸­é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œé¡ºä¾¿é”»ç‚¼ä¸‹è¡¨è¾¾èƒ½åŠ›ã€‚</p>
<p>ä½†æ¸æ¸åœ°ï¼Œåå°æ”¶åˆ°çš„æ¯ä¸€æ¡ç•™è¨€ã€æ¯ä¸€ä¸ª"åœ¨çœ‹"ï¼Œéƒ½æˆäº†æˆ‘åšæŒä¸‹å»çš„åŠ¨åŠ›ã€‚æœ‰è¯»è€…è¯´é€šè¿‡æˆ‘çš„æ–‡ç« è§£å†³äº†å›°æ‰°å¤šæ—¥çš„ Bugï¼Œä¹Ÿæœ‰åŒè¡Œå’Œæˆ‘äº¤æµæŠ€æœ¯æ–¹æ¡ˆã€‚</p>
<p><strong>åŸæ¥ï¼ŒæŒç»­çš„æŠ€æœ¯è¾“å‡ºçœŸçš„èƒ½å»ºç«‹å½±å“åŠ›ã€‚</strong></p>
<h3 data-id="heading-5">2025 å¹´çš„ä¸€äº›é—æ†¾</h3>
<p>å¦ç™½è®²ï¼Œè¿™ä¸€å¹´ä¹Ÿæœ‰ä¸å°‘é—æ†¾ï¼š</p>
<ol>
<li><strong>å†…å®¹æ·±åº¦è¿˜ä¸å¤Ÿ</strong> - æ¯”å¦‚ Redis ç³»åˆ—åªå†™äº†ä¸€ç¯‡åŸç†ï¼Œé›†ç¾¤ã€æŒä¹…åŒ–ã€å“¨å…µç­‰è¯é¢˜éƒ½æ²¡å±•å¼€</li>
<li><strong>ç³»åˆ—æ–‡ç« æ²¡æœ‰å»¶ç»­</strong> - Telemetry ç›‘æ§é‚£ç¯‡åå“å¾ˆå¥½ï¼Œä½†åç»­çš„å‘Šè­¦ã€å¯è§†åŒ–ç­‰å†…å®¹å´æ²¡è·Ÿä¸Š</li>
<li><strong>å’Œè¯»è€…äº’åŠ¨å¤ªå°‘</strong> - å¤§å¤šæ•°æ—¶å€™æ˜¯æˆ‘å•å‘è¾“å‡ºï¼Œç¼ºå°‘å’Œå¤§å®¶çš„æ·±åº¦äº¤æµ</li>
<li><strong>å®æˆ˜æ¡ˆä¾‹åˆ†äº«ä¸å¤Ÿ</strong> - å¾ˆå¤šä¼˜åŒ–ç»éªŒåªæ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œæ²¡æœ‰å®Œæ•´çš„è½åœ°æ–¹æ¡ˆ</li>
</ol>
<p>è¿™äº›é—®é¢˜ï¼Œæˆ‘å¸Œæœ›åœ¨ 2026 å¹´èƒ½æœ‰æ‰€æ”¹å–„ã€‚</p>
<h3 data-id="heading-6">2026ï¼Œæˆ‘æƒ³è¿™æ ·åš</h3>
<p>æ–°çš„ä¸€å¹´ï¼Œæˆ‘ç»™è‡ªå·±å®šäº†å‡ ä¸ªå°ç›®æ ‡ï¼š</p>
<h4 data-id="heading-7">1. å†…å®¹è§„åˆ’æ›´ç³»ç»ŸåŒ–</h4>
<p><strong>ä¸å†éšæœºè¾“å‡ºï¼Œè€Œæ˜¯è§„åˆ’å‡ ä¸ªç³»åˆ—ä¸“é¢˜ï¼š</strong></p>
<ul>
<li><strong>ã€Œç½‘ç»œè®¾å¤‡è‡ªåŠ¨åŒ–è¿ç»´ç³»åˆ—ã€</strong> - ä» Telemetryã€gRPC åˆ° NETCONFï¼Œæ‰“é€ å®Œæ•´çš„ç½‘ç»œç›‘æ§æ–¹æ¡ˆ</li>
<li><strong>ã€ŒRedis æ·±åº¦å®æˆ˜ç³»åˆ—ã€</strong> - ä¸åªæ˜¯ä¸ºä»€ä¹ˆå¿«ï¼Œè¿˜è¦æ•™ä½ å¦‚ä½•ç”¨å¾—æ›´å¿«æ›´ç¨³</li>
<li><strong>ã€ŒPython æ€§èƒ½ä¼˜åŒ–å®æˆ˜ã€</strong> - ç¼“å­˜é¢„çƒ­ã€å¼‚æ­¥ç¼–ç¨‹ã€å†…å­˜ä¼˜åŒ–ç­‰çœŸå®åœºæ™¯çš„æ€§èƒ½æå‡æŠ€å·§</li>
<li><strong>ã€ŒDevOps å·¥å…·é“¾å®è·µã€</strong> - åˆ†äº«çœŸå®é¡¹ç›®ä¸­çš„å·¥å…·é€‰å‹å’Œè¸©å‘ç»éªŒ</li>
<li><strong>ã€Œæºç é˜…è¯»ç¬”è®°ã€</strong> - æ·±å…¥è§£è¯»ä¼˜ç§€å¼€æºé¡¹ç›®çš„è®¾è®¡æ€æƒ³</li>
</ul>
<h4 data-id="heading-8">2. ä¿æŒç¨³å®šæ›´æ–°èŠ‚å¥</h4>
<p><strong>ç›®æ ‡ï¼šæ¯å‘¨è‡³å°‘ 1 ç¯‡åŸåˆ›æ–‡ç« </strong></p>
<p>æˆ‘çŸ¥é“è¿™å¯¹äºæœ‰å…¨èŒå·¥ä½œçš„äººæ¥è¯´ä¸å®¹æ˜“ï¼Œä½†æˆ‘ä¼šå°½åŠ›ï¼š</p>
<ul>
<li>åˆ©ç”¨é€šå‹¤æ—¶é—´æ„æ€å†…å®¹</li>
<li>å‘¨æœ«é›†ä¸­åˆ›ä½œ</li>
<li>å»ºç«‹é€‰é¢˜åº“ï¼Œæå‰å‚¨å¤‡å†…å®¹</li>
</ul>
<h4 data-id="heading-9">3. å¢å¼ºäº’åŠ¨å’ŒæœåŠ¡</h4>
<ul>
<li><strong>å¼€æ”¾æŠ€æœ¯é—®ç­”</strong> - å®šæœŸæ•´ç†è¯»è€…æé—®ï¼Œé›†ä¸­è§£ç­”</li>
<li><strong>ä»£ç å®¡æŸ¥æœåŠ¡</strong> - ä¸å®šæœŸå…è´¹ä¸ºè¯»è€… review ä»£ç ï¼Œæä¾›ä¼˜åŒ–å»ºè®®</li>
<li><strong>å»ºç«‹è¯»è€…ç¤¾ç¾¤</strong> - å¦‚æœäººæ•°è¶³å¤Ÿï¼Œè€ƒè™‘å»ºä¸ªå¾®ä¿¡ç¾¤æˆ–çŸ¥è¯†æ˜Ÿçƒ</li>
<li><strong>å¼€æºé¡¹ç›®å®è·µ</strong> - å‘èµ·æˆ–å‚ä¸å¼€æºé¡¹ç›®ï¼Œå¸¦ç€å¤§å®¶ä¸€èµ·æˆé•¿</li>
</ul>
<h3 data-id="heading-10">æˆ‘éœ€è¦ä½ ä»¬çš„æ”¯æŒ</h3>
<p>è¯´åˆ°è¿™é‡Œï¼Œæƒ³å¾é›†ä¸€ä¸‹å¤§å®¶çš„æ„è§ï¼š</p>
<ol>
<li><strong>ä½ æœ€å¸Œæœ›çœ‹åˆ°å“ªæ–¹é¢çš„æŠ€æœ¯å†…å®¹ï¼Ÿ</strong></li>
<li><strong>ä½ è§‰å¾—ä»€ä¹ˆæ ·çš„å½¢å¼æ›´å¥½ï¼Ÿ</strong> ï¼ˆæ·±åº¦é•¿æ–‡ vs å¿«é€ŸæŠ€å·§ï¼‰</li>
<li><strong>ä½ æ„¿æ„ä¸ºä¼˜è´¨çš„æŠ€æœ¯å†…å®¹ä»˜è´¹å—ï¼Ÿ</strong></li>
</ol>
<p>å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ–è€…åŠ æˆ‘å¾®ä¿¡ï¼ˆæ–‡æœ«äºŒç»´ç ï¼‰ç§èŠã€‚æ¯ä¸€æ¡åé¦ˆæˆ‘éƒ½ä¼šè®¤çœŸçœ‹ã€‚</p>
<h3 data-id="heading-11">å†™åœ¨æœ€å</h3>
<p>2025 å¹´ï¼Œæ„Ÿè°¢æ¯ä¸€ä¸ªé˜…è¯»ã€ç‚¹èµã€è½¬å‘çš„ä½ ã€‚</p>
<p>2026 å¹´ï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½ä¸€èµ·ï¼š</p>
<ul>
<li>å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç </li>
<li>æ„å»ºæ›´ç¨³å®šçš„ç³»ç»Ÿ</li>
<li>æˆä¸ºæ›´ä¸“ä¸šçš„å·¥ç¨‹å¸ˆ</li>
</ul>
<p><strong>æŠ€æœ¯äººçš„æˆé•¿è·¯ä¸Šï¼Œæˆ‘ä»¬ç»“ä¼´åŒè¡Œã€‚</strong></p>
<hr/>
<p><strong>å¦‚æœä½ ä¹Ÿæ˜¯ Python å¼€å‘è€…ã€DevOps å·¥ç¨‹å¸ˆï¼Œæˆ–è€…å¯¹è¿™äº›æŠ€æœ¯æ„Ÿå…´è¶£ï¼š</strong></p>
<ul>
<li>ç‚¹ä¸ªã€Œåœ¨çœ‹ã€ï¼Œè®©æ›´å¤šäººçœ‹åˆ°</li>
<li>è½¬å‘ç»™å¯èƒ½éœ€è¦çš„æœ‹å‹</li>
<li>åŠ ä¸ªæ˜Ÿæ ‡ â­ï¼Œç¬¬ä¸€æ—¶é—´æ”¶åˆ°æ›´æ–°</li>
</ul>
<p>2026 å¹´ï¼Œè®©æˆ‘ä»¬ä¸€èµ·ç”¨æŠ€æœ¯åˆ›é€ ä»·å€¼ï¼</p>
<hr/>
<p><em>ä½ çš„ DevOps æœ‹å‹</em><br/>
<em>[æœ‰è¿½æ±‚çš„å¼€å‘è€…]</em><br/>
<em>2026.01.05</em></p>
<blockquote>
<p>â˜…</p>
<p>ğŸ“® æŠ€æœ¯äº¤æµã€å•†åŠ¡åˆä½œè¯·æ·»åŠ å¾®ä¿¡ï¼š[wengxuehao0808]<br/>
ğŸ“˜ GitHub: [<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxuehaoweng" target="_blank" title="https://github.com/xuehaoweng" ref="nofollow noopener noreferrer">github.com/xuehaoweng</a>]<br/>
ğŸ’¼ ä¸ªäººç½‘ç«™: [<a href="https://link.juejin.cn?target=http%3A%2F%2Fblog.xhweng.cn%2F" target="_blank" title="http://blog.xhweng.cn/" ref="nofollow noopener noreferrer">blog.xhweng.cn/</a>]</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†ææ··äº†ï¼127.0.0.1 å’Œ localhost èƒŒåçš„ç§˜å¯†]]></title>    <link>https://juejin.cn/post/7593943464052981770</link>    <guid>https://juejin.cn/post/7593943464052981770</guid>    <pubDate>2026-01-12T01:21:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593943464052981770" data-draft-id="7593943464052965386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†ææ··äº†ï¼127.0.0.1 å’Œ localhost èƒŒåçš„ç§˜å¯†"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:21:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰è¿½æ±‚çš„å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1310273591851159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†ææ··äº†ï¼127.0.0.1 å’Œ localhost èƒŒåçš„ç§˜å¯†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1310273591851159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰è¿½æ±‚çš„å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:21:01.000Z" title="Mon Jan 12 2026 01:21:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ«å†ææ··äº†ï¼127.0.0.1 å’Œ localhost èƒŒåçš„ç§˜å¯†</h2>
<p>ä½œä¸ºä¸€å <strong>è½¯ä»¶å¼€å‘è€…</strong>ï¼Œä½ å¯èƒ½åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ— æ•°æ¬¡ä½¿ç”¨è¿‡<code>127.0.0.1</code>å’Œ<code>localhost</code>ã€‚å®ƒä»¬çœ‹èµ·æ¥ä¼¼ä¹æ˜¯åŒä¸€ä¸ªä¸œè¥¿çš„ä¸åŒå†™æ³•ï¼Œä½†å½“é¢è¯•å®˜æŠ›å‡ºè¿™ä¸ªé—®é¢˜æ—¶ï¼Œä½ èƒ½æ¸…æ™°åœ°è¯´å‡ºå®ƒä»¬çš„åŒºåˆ«å—ï¼Ÿ</p>
<p>è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„é—®é¢˜ï¼Œå®é™…ä¸Šæ¶‰åŠäº†ç½‘ç»œåè®®ã€DNS è§£æã€æ“ä½œç³»ç»Ÿåº•å±‚æœºåˆ¶ç­‰å¤šä¸ªçŸ¥è¯†ç‚¹ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€æœ¬è´¨åŒºåˆ«ï¼šIP åœ°å€ vs ä¸»æœºå</h3>
<p>é¦–å…ˆè¦æ˜ç¡®çš„æ˜¯ï¼Œ<code>127.0.0.1</code>å’Œ<code>localhost</code>åœ¨æœ¬è´¨ä¸Šå±äºä¸åŒçš„æ¦‚å¿µï¼š</p>
<p><strong>127.0.0.1</strong>æ˜¯ä¸€ä¸ªå®å®åœ¨åœ¨çš„ IPv4 åœ°å€ï¼Œå±äºå›ç¯åœ°å€ï¼ˆLoopback Addressï¼‰çš„ä¸€éƒ¨åˆ†ã€‚æ•´ä¸ª<code>127.0.0.0/8</code>ç½‘æ®µï¼ˆå³ 127.0.0.1 åˆ° 127.255.255.254ï¼‰éƒ½è¢«ä¿ç•™ç”¨äºå›ç¯æµ‹è¯•ï¼Œä½†æˆ‘ä»¬æœ€å¸¸ç”¨çš„å°±æ˜¯<code>127.0.0.1</code>ã€‚</p>
<p><strong>localhost</strong>åˆ™æ˜¯ä¸€ä¸ªä¸»æœºåï¼ˆhostnameï¼‰ï¼Œå®ƒæ˜¯ä¸€ä¸ªéœ€è¦é€šè¿‡ DNS è§£ææˆ–è€…æœ¬åœ° hosts æ–‡ä»¶æ˜ å°„æ‰èƒ½è½¬æ¢ä¸º IP åœ°å€çš„ç¬¦å·åç§°ã€‚å°±åƒ<code>www.google.com</code>éœ€è¦è§£æä¸ºå…·ä½“çš„ IP åœ°å€ä¸€æ ·ï¼Œ<code>localhost</code>ä¹Ÿéœ€è¦è¿™ä¸ªè¿‡ç¨‹ã€‚</p>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼Œ<code>127.0.0.1</code>å°±åƒæ˜¯ä½ å®¶çš„ GPS åæ ‡ï¼Œè€Œ<code>localhost</code>åˆ™æ˜¯"æˆ‘å®¶"è¿™ä¸ªç§°å‘¼ã€‚åæ ‡æ˜¯å›ºå®šçš„ã€æ˜ç¡®çš„ï¼Œä½†"æˆ‘å®¶"è¿™ä¸ªç§°å‘¼éœ€è¦å…ˆçŸ¥é“å®ƒæŒ‡å‘å“ªä¸ªåæ ‡æ‰èƒ½æ‰¾åˆ°ã€‚</p>
<h3 data-id="heading-2">äºŒã€DNS è§£æï¼šä¸€ä¸ªé¢å¤–çš„æ­¥éª¤</h3>
<p>å½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥<code>http://localhost:8000</code>æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p>
<ol>
<li>æ£€æŸ¥æœ¬åœ° hosts æ–‡ä»¶ï¼ˆåœ¨ Linux/Mac æ˜¯<code>/etc/hosts</code>ï¼ŒWindows æ˜¯<code>C:\Windows\System32\drivers\etc\hosts</code>ï¼‰</li>
<li>æŸ¥æ‰¾<code>localhost</code>å¯¹åº”çš„ IP åœ°å€</li>
<li>é€šå¸¸ä¼šæ‰¾åˆ°ç±»ä¼¼è¿™æ ·çš„é…ç½®ï¼š</li>
</ol>
<pre><code class="hljs language-makefile" lang="makefile">127.0.0.1Â Â Â Â Â Â Â localhost
<span class="hljs-section">::1Â Â Â Â Â Â Â Â Â Â Â Â Â localhost</span>
</code></pre>
<ol start="4">
<li>å°†<code>localhost</code>è§£æä¸º<code>127.0.0.1</code>ï¼ˆIPv4ï¼‰æˆ–<code>::1</code>ï¼ˆIPv6ï¼‰</li>
<li>æœ€åä½¿ç”¨è§£æå‡ºçš„ IP åœ°å€å»ºç«‹è¿æ¥</li>
</ol>
<p>è€Œå½“ä½ ç›´æ¥ä½¿ç”¨<code>http://127.0.0.1:8000</code>æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šè·³è¿‡ DNS è§£ææ­¥éª¤ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ª IP åœ°å€å»ºç«‹è¿æ¥ã€‚</p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿåœ¨æ€§èƒ½ä¸Šï¼Œç›´æ¥ä½¿ç”¨ IP åœ°å€ä¼šç•¥å¾®å¿«ä¸€ç‚¹ç‚¹ï¼ˆè™½ç„¶è¿™ä¸ªå·®å¼‚åœ¨æœ¬åœ°å›ç¯ä¸­å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼‰ã€‚ä½†æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœä½ çš„ hosts æ–‡ä»¶è¢«ä¿®æ”¹æˆ–æŸåï¼Œ<code>localhost</code>å¯èƒ½æ— æ³•æ­£å¸¸è§£æï¼Œè€Œ<code>127.0.0.1</code>ä¾ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€ç½‘ç»œåè®®å±‚é¢çš„å·®å¼‚</h3>
<p>è®©æˆ‘ä»¬ä» OSI ä¸ƒå±‚æ¨¡å‹æˆ– TCP/IP å››å±‚æ¨¡å‹çš„è§’åº¦æ¥çœ‹è¿™ä¸ªé—®é¢˜ï¼š</p>
<p><strong>ä½¿ç”¨ 127.0.0.1 æ—¶çš„æ•°æ®æµå‘ï¼š</strong></p>
<ul>
<li>åº”ç”¨å±‚ï¼šä½ çš„ Python Flask åº”ç”¨å‘é€ HTTP è¯·æ±‚</li>
<li>ä¼ è¾“å±‚ï¼šTCP åè®®å¤„ç†ç«¯å£å’Œè¿æ¥</li>
<li>ç½‘ç»œå±‚ï¼šIP åè®®å‘ç°ç›®æ ‡æ˜¯<code>127.0.0.1</code>ï¼Œè¯†åˆ«ä¸ºå›ç¯åœ°å€</li>
<li>æ•°æ®åŒ…ç›´æ¥åœ¨ç½‘ç»œå±‚è¢«å›ç¯ï¼Œä¸ç»è¿‡æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚</li>
<li>æ•°æ®ä¸ä¼šçœŸæ­£å‘é€åˆ°ç½‘å¡ï¼Œè€Œæ˜¯åœ¨å†…æ ¸ä¸­è¢«è·¯ç”±å›æ¥</li>
</ul>
<p><strong>ä½¿ç”¨ localhost æ—¶çš„æ•°æ®æµå‘ï¼š</strong></p>
<ul>
<li>é¦–å…ˆåœ¨åº”ç”¨å±‚éœ€è¦ç»è¿‡åŸŸåè§£æï¼ˆè¿™å®é™…ä¸Šæ¶‰åŠåˆ°åº”ç”¨å±‚çš„ DNS åè®®ï¼Œè™½ç„¶åœ¨æœ¬åœ°æ˜¯æŸ¥è¯¢ hosts æ–‡ä»¶ï¼‰</li>
<li>è§£æå®Œæˆåï¼Œæµç¨‹ä¸ä¸Šé¢ç›¸åŒ</li>
</ul>
<p>å…³é”®ç‚¹åœ¨äºï¼šæ— è®ºä½¿ç”¨å“ªä¸ªï¼Œæ•°æ®åŒ…éƒ½ä¸ä¼šçœŸæ­£ç¦»å¼€ä½ çš„è®¡ç®—æœºï¼Œä¸ä¼šç»è¿‡ç‰©ç†ç½‘å¡ï¼Œæ‰€ä»¥ä½ å¯ä»¥åœ¨æ–­ç½‘çš„æƒ…å†µä¸‹æ­£å¸¸ä½¿ç”¨å®ƒä»¬ã€‚</p>
<h3 data-id="heading-4">å››ã€IPv4 ä¸ IPv6 çš„è€ƒé‡</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¤šå¼€å‘è€…å®¹æ˜“å¿½ç•¥çš„ç»†èŠ‚ï¼š</p>
<p>å½“ä½ ä½¿ç”¨<code>localhost</code>æ—¶ï¼Œæ ¹æ®ç³»ç»Ÿé…ç½®å’Œåº”ç”¨ç¨‹åºçš„å®ç°ï¼Œå®ƒå¯èƒ½è¢«è§£æä¸ºï¼š</p>
<ul>
<li><code>127.0.0.1</code>ï¼ˆIPv4ï¼‰</li>
<li><code>::1</code>ï¼ˆIPv6ï¼‰</li>
<li>æˆ–è€…ä¸¤è€…éƒ½å°è¯•</li>
</ul>
<p>ä¾‹å¦‚åœ¨ Python ä¸­ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">importÂ <span class="hljs-keyword">socket</span>

<span class="hljs-comment">#Â è¿™å¯èƒ½è¿”å›IPv4æˆ–IPv6åœ°å€ï¼Œå–å†³äºç³»ç»Ÿé…ç½®</span>
socket.getaddrinfo(<span class="hljs-string">'localhost'</span>,Â <span class="hljs-number">8000</span>)

<span class="hljs-comment">#Â è¿™æ˜ç¡®ä½¿ç”¨IPv4</span>
socket.getaddrinfo(<span class="hljs-string">'127.0.0.1'</span>,Â <span class="hljs-number">8000</span>)
</code></pre>
<p>å¦‚æœä½ çš„åº”ç”¨ç¨‹åºåªç›‘å¬ IPv4 åœ°å€ï¼ˆæ¯”å¦‚åœ¨ Flask ä¸­ä½¿ç”¨<code>app.run(host='127.0.0.1')</code>ï¼‰ï¼Œè€Œç³»ç»Ÿå°†<code>localhost</code>è§£æä¸º IPv6 çš„<code>::1</code>ï¼Œè¿æ¥å°±ä¼šå¤±è´¥ã€‚è¿™æ˜¯å¾ˆå¤šåˆå­¦è€…é‡åˆ°çš„"æ˜æ˜ç¨‹åºåœ¨è¿è¡Œï¼Œä½†å°±æ˜¯è¿ä¸ä¸Š"çš„å¸¸è§åŸå› ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-5">äº”ã€å®‰å…¨æ€§è€ƒè™‘</h3>
<p>ä»å®‰å…¨è§’åº¦æ¥è¯´ï¼Œä¸¤è€…ä¹Ÿæœ‰ç»†å¾®å·®åˆ«ï¼š</p>
<p>ä½¿ç”¨<code>127.0.0.1</code>æ—¶ï¼Œä½ æ˜ç¡®çŸ¥é“æµé‡åªä¼šåœ¨æœ¬åœ°å›ç¯ï¼Œä¸ä¼šæœ‰ä»»ä½•å¯èƒ½è¢«é”™è¯¯è·¯ç”±åˆ°å¤–éƒ¨ç½‘ç»œçš„é£é™©ã€‚</p>
<p>è€Œ<code>localhost</code>ä¾èµ–äºæœ¬åœ°è§£æé…ç½®ï¼Œç†è®ºä¸Šå­˜åœ¨è¢«ç¯¡æ”¹çš„å¯èƒ½æ€§ï¼ˆè™½ç„¶è¿™éœ€è¦æ”»å‡»è€…å·²ç»è·å¾—äº†ä¿®æ”¹ hosts æ–‡ä»¶çš„æƒé™ï¼‰ã€‚åœ¨ä¸€äº›å®‰å…¨è¦æ±‚æé«˜çš„åœºæ™¯ä¸­ï¼Œç›´æ¥ä½¿ç”¨ IP åœ°å€ä¼šæ›´ä¿é™©ã€‚</p>
<h3 data-id="heading-6">å…­ã€å®é™…ä½¿ç”¨åœºæ™¯æ¨è</h3>
<p>é‚£ä¹ˆåœ¨å®é™…å¼€å‘ä¸­ï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p>
<p><strong>æ¨èä½¿ç”¨ localhost çš„åœºæ™¯ï¼š</strong></p>
<ol>
<li><strong>å¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶</strong>ï¼šä½¿ç”¨<code>localhost</code>è®©é…ç½®æ›´å…·å¯è¯»æ€§ï¼Œä¹Ÿä¾¿äºå°†æ¥å¯èƒ½çš„ IPv6 è¿ç§»</li>
</ol>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">DATABASE_URL</span>Â =Â <span class="hljs-string">"postgresql://user:password@localhost:5432/mydb"</span>
</code></pre>
<ol start="2">
<li><strong>æ–‡æ¡£å’Œæ•™ç¨‹</strong>ï¼šå¯¹åˆå­¦è€…æ›´å‹å¥½ï¼Œå«ä¹‰ä¸€ç›®äº†ç„¶</li>
<li><strong>éœ€è¦å…¼å®¹ IPv6 çš„åœºæ™¯</strong>ï¼šè®©ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ IP ç‰ˆæœ¬</li>
</ol>
<p><strong>æ¨èä½¿ç”¨ 127.0.0.1 çš„åœºæ™¯ï¼š</strong></p>
<ol>
<li><strong>æ˜ç¡®éœ€è¦ IPv4 çš„åœºæ™¯</strong>ï¼šé¿å… IPv6 ç›¸å…³çš„æ­§ä¹‰</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">app.run(<span class="hljs-attr">host</span>=<span class="hljs-string">'127.0.0.1'</span>,Â port=<span class="hljs-number">5000</span>)
</code></pre>
<ol start="2">
<li><strong>æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯</strong>ï¼šè™½ç„¶å·®å¼‚å¾®ä¹å…¶å¾®ï¼Œä½†è·³è¿‡è§£ææ­¥éª¤åœ¨ç†è®ºä¸Šæ›´å¿«</li>
<li><strong>æ’æŸ¥ç½‘ç»œé—®é¢˜</strong>ï¼šå½“æ€€ç–‘ DNS æˆ– hosts é…ç½®æœ‰é—®é¢˜æ—¶ï¼Œç›´æ¥ç”¨ IP å¯ä»¥æ’é™¤è¿™ä¸ªå˜é‡</li>
<li><strong>é˜²ç«å¢™æˆ–ç½‘ç»œç­–ç•¥é…ç½®</strong>ï¼šä½¿ç”¨æ˜ç¡®çš„ IP åœ°å€é¿å…æ­§ä¹‰</li>
</ol>
<h3 data-id="heading-7">ä¸ƒã€ä¸€ä¸ªå®é™…çš„ Python ç¤ºä¾‹</h3>
<p>è®©æˆ‘ä»¬ç”¨ä»£ç æ¥æ¼”ç¤ºè¿™äº›å·®å¼‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â socket
<span class="hljs-keyword">import</span>Â time

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">test_connection</span>(<span class="hljs-params">host,Â port=<span class="hljs-number">8000</span></span>):
Â Â Â Â startÂ =Â time.time()
Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–åœ°å€ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â addr_infoÂ =Â socket.getaddrinfo(host,Â port)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{host}</span>Â è§£æç»“æœ:"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â infoÂ <span class="hljs-keyword">in</span>Â addr_info:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â åœ°å€æ—:Â <span class="hljs-subst">{info[<span class="hljs-number">0</span>]}</span>,Â åœ°å€:Â <span class="hljs-subst">{info[<span class="hljs-number">4</span>]}</span>"</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å°è¯•è¿æ¥</span>
Â Â Â Â Â Â Â Â sockÂ =Â socket.socket(socket.AF_INET,Â socket.SOCK_STREAM)
Â Â Â Â Â Â Â Â sock.connect((host,Â port))
Â Â Â Â Â Â Â Â sock.close()

Â Â Â Â Â Â Â Â elapsedÂ =Â time.time()Â -Â start
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥æˆåŠŸï¼Œè€—æ—¶:Â <span class="hljs-subst">{elapsed*<span class="hljs-number">1000</span>:<span class="hljs-number">.2</span>f}</span>ms"</span>)
Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿æ¥å¤±è´¥:Â <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment">#Â å…ˆå¯åŠ¨ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨</span>
<span class="hljs-keyword">from</span>Â http.serverÂ <span class="hljs-keyword">import</span>Â HTTPServer,Â BaseHTTPRequestHandler

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SimpleHandler</span>(<span class="hljs-title class_ inherited__">BaseHTTPRequestHandler</span>):
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">do_GET</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â self.send_response(<span class="hljs-number">200</span>)
Â Â Â Â Â Â Â Â self.end_headers()
Â Â Â Â Â Â Â Â self.wfile.write(<span class="hljs-string">b"Hello!"</span>)

<span class="hljs-comment">#Â åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œ:Â pythonÂ -mÂ http.serverÂ 8000</span>
<span class="hljs-comment">#Â ç„¶åæµ‹è¯•</span>

test_connection(<span class="hljs-string">'localhost'</span>,Â <span class="hljs-number">8000</span>)
test_connection(<span class="hljs-string">'127.0.0.1'</span>,Â <span class="hljs-number">8000</span>)
</code></pre>
<h3 data-id="heading-8">å…«ã€å¸¸è§é™·é˜±å’Œè°ƒè¯•æŠ€å·§</h3>
<p>æœ€åï¼Œåˆ†äº«å‡ ä¸ªä¸è¿™ä¸ªä¸»é¢˜ç›¸å…³çš„å¸¸è§é™·é˜±ï¼š</p>
<p><strong>é™·é˜± 1ï¼šç›‘å¬åœ°å€é”™è¯¯</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â åªç›‘å¬127.0.0.1ï¼Œä»å…¶ä»–æœºå™¨æ— æ³•è®¿é—®</span>
app.run(<span class="hljs-attr">host</span>=<span class="hljs-string">'127.0.0.1'</span>)

<span class="hljs-comment">#Â ç›‘å¬æ‰€æœ‰åœ°å€ï¼ŒåŒ…æ‹¬å¤–éƒ¨ç½‘ç»œ</span>
app.run(<span class="hljs-attr">host</span>=<span class="hljs-string">'0.0.0.0'</span>)
</code></pre>
<p><strong>é™·é˜± 2ï¼šDocker å®¹å™¨ä¸­çš„ localhost</strong> åœ¨ Docker å®¹å™¨ä¸­ï¼Œ<code>localhost</code>æŒ‡å‘çš„æ˜¯å®¹å™¨æœ¬èº«ï¼Œè€Œä¸æ˜¯å®¿ä¸»æœºã€‚å¦‚æœè¦è®¿é—®å®¿ä¸»æœºçš„æœåŠ¡ï¼Œéœ€è¦ä½¿ç”¨ç‰¹æ®Šåœ°å€å¦‚<code>host.docker.internal</code>ã€‚</p>
<p><strong>é™·é˜± 3ï¼šIPv6 ä¼˜å…ˆå¯¼è‡´çš„è¿æ¥å¤±è´¥</strong> æŸäº›ç³»ç»Ÿé»˜è®¤ä¼˜å…ˆä½¿ç”¨ IPv6ï¼Œå¦‚æœæœåŠ¡åªç›‘å¬ IPv4ï¼Œå°±ä¼šå‡ºç°è¿æ¥é—®é¢˜ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹<code>/etc/gai.conf</code>æ¥è°ƒæ•´ä¼˜å…ˆçº§ã€‚</p>
<h3 data-id="heading-9">æ€»ç»“</h3>
<p>å›åˆ°æœ€åˆçš„é¢è¯•é—®é¢˜ï¼š<code>127.0.0.1</code>å’Œ<code>localhost</code>çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ç®€çŸ­å›ç­”ï¼š<code>127.0.0.1</code>æ˜¯ä¸€ä¸ª IP åœ°å€ï¼Œ<code>localhost</code>æ˜¯ä¸€ä¸ªéœ€è¦è§£æçš„ä¸»æœºåã€‚ä¸¤è€…åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹åŠŸèƒ½ç›¸åŒï¼Œä½†åœ¨è§£æè¿‡ç¨‹ã€IPv4/IPv6 æ”¯æŒã€æ€§èƒ½å’Œæ˜ç¡®æ€§ä¸Šæœ‰ç»†å¾®å·®åˆ«ã€‚</p>
<p>æ·±å…¥å›ç­”ï¼šå®ƒä»¬ä»£è¡¨äº†ç½‘ç»œæ¶æ„ä¸­ä¸åŒå±‚æ¬¡çš„æ¦‚å¿µï¼Œæ¶‰åŠ DNS è§£æã€ç½‘ç»œåè®®æ ˆã€IPv4/IPv6 å…¼å®¹æ€§ç­‰å¤šä¸ªæ–¹é¢ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹å¼å¯ä»¥é¿å…ä¸€äº›æ½œåœ¨é—®é¢˜ã€‚</p>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œç†è§£è¿™äº›ç»†èŠ‚ä¸ä»…èƒ½å¸®åŠ©ä½ å›ç­”é¢è¯•é—®é¢˜ï¼Œæ›´é‡è¦çš„æ˜¯èƒ½åœ¨é‡åˆ°ç½‘ç»œç›¸å…³é—®é¢˜æ—¶ï¼Œå¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚ä¸‹æ¬¡å½“ä½ çš„ Flask åº”ç”¨çªç„¶è¿ä¸ä¸Šï¼Œæˆ–è€… Docker å®¹å™¨æ— æ³•è®¿é—®å®¿ä¸»æœºæœåŠ¡æ—¶ï¼Œä½ å°±çŸ¥é“è¯¥ä»å“ªé‡Œå…¥æ‰‹è°ƒè¯•äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†ç­‰ç¼“å­˜è‡ªå·±"çƒ­"èµ·æ¥äº†ï¼Pythonåç«¯å¿…ä¼šçš„é¢„çƒ­æŠ€å·§ ğŸš€]]></title>    <link>https://juejin.cn/post/7593913760042647561</link>    <guid>https://juejin.cn/post/7593913760042647561</guid>    <pubDate>2026-01-12T01:21:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593913760042647561" data-draft-id="7593859149441466377" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†ç­‰ç¼“å­˜è‡ªå·±&quot;çƒ­&quot;èµ·æ¥äº†ï¼Pythonåç«¯å¿…ä¼šçš„é¢„çƒ­æŠ€å·§ ğŸš€"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:21:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰è¿½æ±‚çš„å¼€å‘è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1310273591851159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†ç­‰ç¼“å­˜è‡ªå·±"çƒ­"èµ·æ¥äº†ï¼Pythonåç«¯å¿…ä¼šçš„é¢„çƒ­æŠ€å·§ ğŸš€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1310273591851159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰è¿½æ±‚çš„å¼€å‘è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:21:44.000Z" title="Mon Jan 12 2026 01:21:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åˆ«å†ç­‰ç¼“å­˜è‡ªå·±"çƒ­"èµ·æ¥äº†ï¼Pythonåç«¯å¿…ä¼šçš„é¢„çƒ­æŠ€å·§ ğŸš€</h2>
<h3 data-id="heading-1">ä¸€ã€å¼•å­ï¼šä¸€æ¬¡çº¿ä¸Šæ•…éšœå¼•å‘çš„æ€è€ƒ</h3>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š</p>
<p>ä½ æ˜¯æŸç”µå•†å…¬å¸çš„ Python åç«¯å·¥ç¨‹å¸ˆï¼ŒåŒåä¸€å¤§ä¿ƒå‰å¤•ï¼Œä¸ºäº†ä¸Šçº¿æ–°åŠŸèƒ½ï¼Œä½ åœ¨å‡Œæ™¨ 2 ç‚¹é‡å¯äº†æœåŠ¡ã€‚é‡å¯å®Œæˆåï¼Œä½ æ¾äº†ä¸€å£æ°”ï¼Œå‡†å¤‡ä¸‹ç­ã€‚</p>
<p>ä½†æ˜¯ï¼Œç›‘æ§å¤§å±çªç„¶çº¢äº†ï¼</p>
<ul>
<li>æ•°æ®åº“ CPU é£™å‡è‡³ 90%</li>
<li>æ¥å£å“åº”æ—¶é—´ä»å¹³æ—¶çš„ 50ms æš´å¢åˆ° 3 ç§’</li>
<li>ç”¨æˆ·æŠ•è¯‰é¡µé¢æ‰“å¼€ç¼“æ…¢</li>
<li>æ›´ç³Ÿç³•çš„æ˜¯ï¼Œæœ‰å‡ å°æ•°æ®åº“å®ä¾‹å› ä¸ºè¿æ¥æ•°è¿‡å¤šç›´æ¥å®•æœºäº†</li>
</ul>
<p>ä½ èµ¶ç´§æŸ¥æ—¥å¿—ï¼Œå‘ç°é‡å¯åçš„å‰å‡ åˆ†é’Ÿï¼ŒRedis ç¼“å­˜å‘½ä¸­ç‡å‡ ä¹ä¸º 0ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ç›´æ¥æ‰“åˆ°äº† MySQL æ•°æ®åº“ä¸Šã€‚<strong>è¿™å°±æ˜¯å…¸å‹çš„"å†·å¯åŠ¨"é—®é¢˜ã€‚</strong></p>
<p>å¦‚æœä½ æå‰åšäº†<strong>ç¼“å­˜é¢„çƒ­</strong>ï¼Œè¿™ä¸€åˆ‡æœ¬å¯ä»¥é¿å…ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€ä»€ä¹ˆæ˜¯ç¼“å­˜é¢„çƒ­ï¼Ÿ</h3>
<h4 data-id="heading-3">2.1 å®šä¹‰</h4>
<p><strong>ç¼“å­˜é¢„çƒ­ï¼ˆCache Warmingï¼‰</strong> æ˜¯æŒ‡åœ¨ç³»ç»Ÿå¯åŠ¨ã€é‡å¯æˆ–ç‰¹å®šæ—¶æœºï¼Œ<strong>ä¸»åŠ¨</strong>å°†çƒ­ç‚¹æ•°æ®æå‰åŠ è½½åˆ°ç¼“å­˜ç³»ç»Ÿï¼ˆå¦‚ Redisã€Memcachedï¼‰ä¸­çš„è¿‡ç¨‹ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼šå°±æ˜¯åœ¨ç”¨æˆ·çœŸæ­£è®¿é—®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæŠŠ"å¯èƒ½ä¼šè¢«é¢‘ç¹è®¿é—®çš„æ•°æ®"å‡†å¤‡å¥½ã€‚</p>
<h4 data-id="heading-4">2.2 å½¢è±¡ç±»æ¯”</h4>
<p>æŠŠç¼“å­˜æƒ³è±¡æˆä¸€ä¸ªå°å–éƒ¨ï¼Œæ•°æ®åº“æ˜¯ä»“åº“ï¼š</p>
<ul>
<li><strong>æ²¡æœ‰é¢„çƒ­</strong>ï¼šæ—©ä¸Šå¼€é—¨è¥ä¸šï¼Œè´§æ¶æ˜¯ç©ºçš„ã€‚ç¬¬ä¸€æ‰¹é¡¾å®¢æ¥äº†ï¼Œä½ æ‰æ…Œæ…Œå¼ å¼ è·‘åˆ°ä»“åº“æ¬è´§ï¼Œé¡¾å®¢ç­‰å¾—ä¸è€çƒ¦ã€‚</li>
<li><strong>æœ‰é¢„çƒ­</strong>ï¼šå¼€é—¨å‰ï¼Œä½ å·²ç»æŠŠç•…é”€å•†å“æ‘†å¥½äº†ã€‚é¡¾å®¢ä¸€æ¥ï¼Œç›´æ¥æ‹¿è´§ä»˜æ¬¾ï¼Œä½“éªŒæä½³ã€‚</li>
</ul>
<h4 data-id="heading-5">2.3 æ ¸å¿ƒä»·å€¼</h4>






























<table><thead><tr><th>é—®é¢˜</th><th>æ²¡æœ‰é¢„çƒ­</th><th>ä½¿ç”¨é¢„çƒ­</th></tr></thead><tbody><tr><td>ç¼“å­˜å‘½ä¸­ç‡</td><td>0% â†’ é€æ­¥ä¸Šå‡</td><td>å¯åŠ¨å³ 80%+</td></tr><tr><td>æ•°æ®åº“å‹åŠ›</td><td>ç¬æ—¶æš´å¢</td><td>å¹³ç¨³è¿‡æ¸¡</td></tr><tr><td>æ¥å£å“åº”æ—¶é—´</td><td>3000ms+</td><td>50ms</td></tr><tr><td>ç”¨æˆ·ä½“éªŒ</td><td>ğŸ˜¤ å¡é¡¿</td><td>ğŸ˜Š æµç•…</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ä¸ºä»€ä¹ˆéœ€è¦ç¼“å­˜é¢„çƒ­ï¼Ÿ</h3>
<h4 data-id="heading-7">3.1 é¿å…ç¼“å­˜å‡»ç©¿</h4>
<p><strong>ç¼“å­˜å‡»ç©¿</strong>ï¼šçƒ­ç‚¹æ•°æ®è¿‡æœŸæˆ–ä¸å­˜åœ¨æ—¶ï¼Œå¤§é‡è¯·æ±‚åŒæ—¶ç©¿é€ç¼“å­˜ï¼Œç›´æ¥è®¿é—®æ•°æ®åº“ã€‚</p>
<pre><code class="hljs">ç”¨æˆ·è¯·æ±‚Â â†’Â Redisï¼ˆæœªå‘½ä¸­ï¼‰â†’Â MySQLï¼ˆå‹åŠ›å±±å¤§ï¼‰
Â Â Â Â Â â†“
100ä¸‡ä¸ªè¯·æ±‚åŒæ—¶æŸ¥æ•°æ®åº“Â =Â ğŸ’¥Â æ•°æ®åº“å´©æºƒ
</code></pre>
<h4 data-id="heading-8">3.2 æå‡ç”¨æˆ·ä½“éªŒ</h4>
<p>æ ¹æ®ç»Ÿè®¡ï¼Œ<strong>é¡µé¢åŠ è½½æ—¶é—´æ¯å¢åŠ  1 ç§’ï¼Œè½¬åŒ–ç‡ä¸‹é™ 7%</strong>ã€‚ç¼“å­˜é¢„çƒ­èƒ½ç¡®ä¿ï¼š</p>
<ul>
<li>ç³»ç»Ÿé‡å¯åç«‹å³æ¢å¤é«˜æ€§èƒ½</li>
<li>æ–°åŠŸèƒ½ä¸Šçº¿æ— æ„ŸçŸ¥åˆ‡æ¢</li>
<li>å¤§ä¿ƒæ´»åŠ¨é›¶ç‚¹å¼€åœºä¸å¡é¡¿</li>
</ul>
<h4 data-id="heading-9">3.3 ä¿æŠ¤åç«¯ç³»ç»Ÿ</h4>
<p>æ•°æ®åº“çš„å¹¶å‘èƒ½åŠ›æœ‰é™ï¼š</p>
<ul>
<li>MySQL å•æœºï¼š2000-5000 QPS</li>
<li>Redisï¼š10 ä¸‡+ QPS</li>
</ul>
<p>ç¼“å­˜é¢„çƒ­ç›¸å½“äºç»™æ•°æ®åº“åŠ äº†ä¸€å±‚"é˜²å¼¹è¡£"ã€‚</p>
<h4 data-id="heading-10">3.4 å…¸å‹ä¸šåŠ¡åœºæ™¯</h4>
<ol>
<li><strong>ç”µå•†å¤§ä¿ƒ</strong>ï¼šåŒåä¸€é›¶ç‚¹ï¼Œç™¾ä¸‡ç”¨æˆ·æ¶Œå…¥</li>
<li><strong>çƒ­ç‚¹äº‹ä»¶</strong>ï¼šçªå‘æ–°é—»ï¼Œæµé‡æš´å¢</li>
<li><strong>ç³»ç»Ÿé‡å¯</strong>ï¼šç‰ˆæœ¬å‡çº§ã€æ•…éšœæ¢å¤</li>
<li><strong>å®šæ—¶ä»»åŠ¡</strong>ï¼šæ¯æ—¥æ¦œå•ã€æ¨èåˆ—è¡¨æ›´æ–°</li>
</ol>
<hr/>
<h3 data-id="heading-11">å››ã€ç¼“å­˜é¢„çƒ­çš„å®ç°ç­–ç•¥</h3>
<h4 data-id="heading-12">4.1 å…¨é‡é¢„çƒ­</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ•°æ®é‡å°ï¼ˆå‡ åƒåˆ°å‡ ä¸‡æ¡ï¼‰ï¼Œå…¨éƒ¨æ•°æ®éƒ½é‡è¦</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â ç¤ºä¾‹ï¼šé¢„çƒ­æ‰€æœ‰å•†å“åŸºç¡€ä¿¡æ¯</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_all_products</span>():
Â Â Â Â productsÂ =Â Product.objects.<span class="hljs-built_in">all</span>()Â Â <span class="hljs-comment">#Â å‡è®¾æœ‰5ä¸‡ä¸ªå•†å“</span>
Â Â Â Â <span class="hljs-keyword">for</span>Â productÂ <span class="hljs-keyword">in</span>Â products:
Â Â Â Â Â Â Â Â cache_keyÂ =Â <span class="hljs-string">f"product:<span class="hljs-subst">{product.<span class="hljs-built_in">id</span>}</span>"</span>
Â Â Â Â Â Â Â Â redis_client.setex(
Â Â Â Â Â Â Â Â Â Â Â Â cache_key,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-number">3600</span>,Â Â <span class="hljs-comment">#Â 1å°æ—¶è¿‡æœŸ</span>
Â Â Â Â Â Â Â Â Â Â Â Â json.dumps(product.to_dict())
Â Â Â Â Â Â Â Â )
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é¢„çƒ­å®Œæˆï¼š<span class="hljs-subst">{<span class="hljs-built_in">len</span>(products)}</span>Â ä¸ªå•†å“"</span>)
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ç›´æ¥ï¼Œè¦†ç›–å…¨é¢<br/>
<strong>ç¼ºç‚¹</strong>ï¼šæ•°æ®é‡å¤§æ—¶å¯åŠ¨æ…¢ï¼Œå ç”¨å¤§é‡å†…å­˜</p>
<hr/>
<h4 data-id="heading-13">4.2 å¢é‡é¢„çƒ­ï¼ˆçƒ­ç‚¹ä¼˜å…ˆï¼‰</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ•°æ®é‡å¤§ï¼Œéµå¾ª"äºŒå…«å®šå¾‹"ï¼ˆ20%çš„æ•°æ®æ‰¿æ‹… 80%çš„æµé‡ï¼‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â ç¤ºä¾‹ï¼šåªé¢„çƒ­çƒ­é”€å•†å“</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_hot_products</span>():
Â Â Â Â <span class="hljs-comment">#Â è·å–æœ€è¿‘7å¤©é”€é‡TOPÂ 1000çš„å•†å“</span>
Â Â Â Â hot_productsÂ =Â Product.objects.<span class="hljs-built_in">filter</span>(
Â Â Â Â Â Â Â Â sales_count__gte=<span class="hljs-number">100</span>
Â Â Â Â ).order_by(<span class="hljs-string">'-sales_count'</span>)[:<span class="hljs-number">1000</span>]

Â Â Â Â <span class="hljs-keyword">for</span>Â productÂ <span class="hljs-keyword">in</span>Â hot_products:
Â Â Â Â Â Â Â Â cache_keyÂ =Â <span class="hljs-string">f"product:<span class="hljs-subst">{product.<span class="hljs-built_in">id</span>}</span>"</span>
Â Â Â Â Â Â Â Â redis_client.setex(cache_key,Â <span class="hljs-number">3600</span>,Â json.dumps(product.to_dict()))

Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"çƒ­ç‚¹é¢„çƒ­å®Œæˆï¼š<span class="hljs-subst">{<span class="hljs-built_in">len</span>(hot_products)}</span>Â ä¸ªå•†å“"</span>)
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¯åŠ¨å¿«ï¼Œæ€§ä»·æ¯”é«˜<br/>
<strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦å‡†ç¡®è¯†åˆ«çƒ­ç‚¹æ•°æ®</p>
<hr/>
<h4 data-id="heading-14">4.3 å®šæ—¶é¢„çƒ­</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ•°æ®æœ‰æ˜ç¡®çš„æ—¶æ•ˆæ€§ï¼Œå¦‚æ¯æ—¥æ¦œå•</p>
<pre><code class="hljs language-scss" lang="scss">#Â ç¤ºä¾‹ï¼šæ¯å¤©å‡Œæ™¨<span class="hljs-number">3</span>ç‚¹é¢„çƒ­ä»Šæ—¥æ¨è
fromÂ apscheduler<span class="hljs-selector-class">.schedulers</span><span class="hljs-selector-class">.background</span>Â importÂ BackgroundScheduler

defÂ <span class="hljs-built_in">warmup_daily_recommendations</span>():
Â Â Â Â recommendationsÂ =Â <span class="hljs-built_in">get_daily_recommendations</span>()Â Â #Â è®¡ç®—æ¨èåˆ—è¡¨
Â Â Â Â redis_client.<span class="hljs-built_in">setex</span>(<span class="hljs-string">'daily_recommendations'</span>,Â <span class="hljs-number">86400</span>,Â json.<span class="hljs-built_in">dumps</span>(recommendations))
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¯æ—¥æ¨èé¢„çƒ­å®Œæˆ"</span>)

schedulerÂ =Â <span class="hljs-built_in">BackgroundScheduler</span>()
scheduler.<span class="hljs-built_in">add_job</span>(warmup_daily_recommendations,Â <span class="hljs-string">'cron'</span>,Â hour=<span class="hljs-number">3</span>,Â minute=<span class="hljs-number">0</span>)
scheduler.<span class="hljs-built_in">start</span>()
</code></pre>
<hr/>
<h4 data-id="heading-15">4.4 æ‡’åŠ è½½ + é¢„çƒ­ï¼ˆæ··åˆç­–ç•¥ï¼‰</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¤§å‹ç³»ç»Ÿï¼Œå¹³è¡¡å¯åŠ¨é€Ÿåº¦å’Œç¼“å­˜å‘½ä¸­ç‡</p>
<pre><code class="hljs language-ini" lang="ini">defÂ get_product(product_id):
Â Â Â Â <span class="hljs-attr">cache_key</span>Â =Â f<span class="hljs-string">"product:{product_id}"</span>

Â Â Â Â <span class="hljs-comment">#Â å…ˆæŸ¥ç¼“å­˜</span>
Â Â Â Â <span class="hljs-attr">cached</span>Â =Â redis_client.get(cache_key)
Â Â Â Â ifÂ cached:
Â Â Â Â Â Â Â Â returnÂ json.loads(cached)

Â Â Â Â <span class="hljs-comment">#Â ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ•°æ®åº“å¹¶å›å†™ç¼“å­˜ï¼ˆæ‡’åŠ è½½ï¼‰</span>
Â Â Â Â <span class="hljs-attr">product</span>Â =Â Product.objects.get(id=product_id)
Â Â Â Â redis_client.setex(cache_key,Â 3600,Â json.dumps(product.to_dict()))

Â Â Â Â returnÂ product.to_dict()

<span class="hljs-comment">#Â å¯åŠ¨æ—¶åªé¢„çƒ­TOPÂ 100</span>
defÂ warmup():
Â Â Â Â <span class="hljs-attr">hot_ids</span>Â =Â [<span class="hljs-number">1</span>,Â <span class="hljs-number">2</span>,Â <span class="hljs-number">3</span>,Â ...,Â <span class="hljs-number">100</span>]Â Â <span class="hljs-comment">#Â çƒ­ç‚¹å•†å“IDåˆ—è¡¨</span>
Â Â Â Â forÂ pidÂ inÂ hot_ids:
Â Â Â Â Â Â Â Â get_product(pid)Â Â <span class="hljs-comment">#Â è§¦å‘æ‡’åŠ è½½ï¼ŒåŒæ—¶é¢„çƒ­ç¼“å­˜</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">äº”ã€Python å®æˆ˜ï¼šä¸‰ä¸ªå®ç”¨æ¡ˆä¾‹</h3>
<h4 data-id="heading-17">5.1 æ¡ˆä¾‹ 1ï¼šRedis é¢„çƒ­ - å•†å“ä¿¡æ¯ç¼“å­˜</h4>
<p><strong>åœºæ™¯</strong>ï¼šç”µå•†ç³»ç»Ÿï¼Œ10 ä¸‡ä¸ªå•†å“ï¼Œéœ€è¦é¢„çƒ­çƒ­é”€å•†å“</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â redis
<span class="hljs-keyword">import</span>Â json
<span class="hljs-keyword">from</span>Â datetimeÂ <span class="hljs-keyword">import</span>Â timedelta
<span class="hljs-keyword">from</span>Â typingÂ <span class="hljs-keyword">import</span>Â <span class="hljs-type">List</span>,Â <span class="hljs-type">Dict</span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">CacheWarmer</span>:
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â redis_client:Â redis.Redis</span>):
Â Â Â Â Â Â Â Â self.redisÂ =Â redis_client

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_products</span>(<span class="hljs-params">self,Â product_ids:Â <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­æŒ‡å®šå•†å“åˆ—è¡¨"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼€å§‹é¢„çƒ­Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(product_ids)}</span>Â ä¸ªå•†å“..."</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨pipelineæå‡æ€§èƒ½</span>
Â Â Â Â Â Â Â Â pipeÂ =Â self.redis.pipeline()

Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â product_idÂ <span class="hljs-keyword">in</span>Â product_ids:
Â Â Â Â Â Â Â Â Â Â Â Â product_dataÂ =Â self._fetch_product_from_db(product_id)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â product_data:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_keyÂ =Â <span class="hljs-string">f"product:<span class="hljs-subst">{product_id}</span>"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pipe.setex(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_key,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â timedelta(hours=<span class="hljs-number">2</span>),Â Â <span class="hljs-comment">#Â 2å°æ—¶è¿‡æœŸ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â json.dumps(product_data,Â ensure_ascii=<span class="hljs-literal">False</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â pipe.execute()
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"é¢„çƒ­å®Œæˆï¼"</span>)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_fetch_product_from_db</span>(<span class="hljs-params">self,Â product_id:Â <span class="hljs-built_in">int</span></span>)Â -&gt;Â <span class="hljs-type">Dict</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ä»æ•°æ®åº“è·å–å•†å“ä¿¡æ¯ï¼ˆè¿™é‡Œç®€åŒ–å¤„ç†ï¼‰"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å®é™…é¡¹ç›®ä¸­ï¼Œè¿™é‡Œåº”è¯¥æ˜¯ORMæŸ¥è¯¢</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â productÂ =Â Product.objects.get(id=product_id)</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â returnÂ product.to_dict()</span>

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"id"</span>:Â product_id,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"name"</span>:Â <span class="hljs-string">f"å•†å“<span class="hljs-subst">{product_id}</span>"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"price"</span>:Â <span class="hljs-number">99.9</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"stock"</span>:Â <span class="hljs-number">1000</span>
Â Â Â Â Â Â Â Â }

<span class="hljs-comment">#Â ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span>Â __name__Â ==Â <span class="hljs-string">"__main__"</span>:
Â Â Â Â redis_clientÂ =Â redis.Redis(host=<span class="hljs-string">'localhost'</span>,Â port=<span class="hljs-number">6379</span>,Â db=<span class="hljs-number">0</span>)
Â Â Â Â warmerÂ =Â CacheWarmer(redis_client)

Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­çƒ­é”€å•†å“TOPÂ 500</span>
Â Â Â Â hot_product_idsÂ =Â <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,Â <span class="hljs-number">501</span>))
Â Â Â Â warmer.warmup_products(hot_product_ids)
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>pipeline</code> æ‰¹é‡æ“ä½œï¼Œæ€§èƒ½æå‡ 10 å€</li>
<li>è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´ï¼Œé¿å…å†…å­˜æº¢å‡º</li>
<li>é¢„çƒ­è¿‡ç¨‹å¯åŠ å…¥è¿›åº¦æ¡ï¼ˆtqdm åº“ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-18">5.2 æ¡ˆä¾‹ 2ï¼šFlask åº”ç”¨å¯åŠ¨é¢„çƒ­</h4>
<p><strong>åœºæ™¯</strong>ï¼šFlask API æœåŠ¡ï¼Œå¯åŠ¨æ—¶è‡ªåŠ¨é¢„çƒ­ç¼“å­˜</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span>Â flaskÂ <span class="hljs-keyword">import</span>Â Flask,Â jsonify
<span class="hljs-keyword">import</span>Â redis
<span class="hljs-keyword">import</span>Â threading

appÂ =Â Flask(__name__)
redis_clientÂ =Â redis.Redis(host=<span class="hljs-string">'localhost'</span>,Â port=<span class="hljs-number">6379</span>,Â decode_responses=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">cache_warmup</span>():
Â Â Â Â <span class="hljs-string">"""åå°çº¿ç¨‹æ‰§è¡Œé¢„çƒ­ä»»åŠ¡"""</span>
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”¥Â å¼€å§‹ç¼“å­˜é¢„çƒ­..."</span>)

Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­é…ç½®æ•°æ®</span>
Â Â Â Â configsÂ =Â {
Â Â Â Â Â Â Â Â <span class="hljs-string">"app:version"</span>:Â <span class="hljs-string">"1.0.0"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"app:maintenance"</span>:Â <span class="hljs-string">"false"</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">"app:max_upload_size"</span>:Â <span class="hljs-string">"10MB"</span>
Â Â Â Â }
Â Â Â Â <span class="hljs-keyword">for</span>Â key,Â valueÂ <span class="hljs-keyword">in</span>Â configs.items():
Â Â Â Â Â Â Â Â redis_client.setex(key,Â <span class="hljs-number">86400</span>,Â value)

Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­çƒ­ç‚¹æ•°æ®</span>
Â Â Â Â hot_dataÂ =Â fetch_hot_data_from_db()
Â Â Â Â <span class="hljs-keyword">for</span>Â itemÂ <span class="hljs-keyword">in</span>Â hot_data:
Â Â Â Â Â Â Â Â redis_client.setex(<span class="hljs-string">f"hot:<span class="hljs-subst">{item[<span class="hljs-string">'id'</span>]}</span>"</span>,Â <span class="hljs-number">3600</span>,Â <span class="hljs-built_in">str</span>(item))

Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ…Â ç¼“å­˜é¢„çƒ­å®Œæˆï¼"</span>)

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">fetch_hot_data_from_db</span>():
Â Â Â Â <span class="hljs-string">"""æ¨¡æ‹Ÿä»æ•°æ®åº“è·å–çƒ­ç‚¹æ•°æ®"""</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â [{<span class="hljs-string">"id"</span>:Â i,Â <span class="hljs-string">"value"</span>:Â <span class="hljs-string">f"data_<span class="hljs-subst">{i}</span>"</span>}Â <span class="hljs-keyword">for</span>Â iÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,Â <span class="hljs-number">101</span>)]

<span class="hljs-meta">@app.before_request</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">before_first_request</span>():
Â Â Â Â <span class="hljs-string">"""åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚å‰æ‰§è¡Œé¢„çƒ­ï¼ˆåªæ‰§è¡Œä¸€æ¬¡ï¼‰"""</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-built_in">hasattr</span>(app,Â <span class="hljs-string">'warmed_up'</span>):
Â Â Â Â Â Â Â Â app.warmed_upÂ =Â <span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨åå°çº¿ç¨‹ï¼Œä¸é˜»å¡åº”ç”¨å¯åŠ¨</span>
Â Â Â Â Â Â Â Â threading.Thread(target=cache_warmup,Â daemon=<span class="hljs-literal">True</span>).start()

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/health'</span></span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">health_check</span>():
Â Â Â Â <span class="hljs-keyword">return</span>Â jsonify({<span class="hljs-string">"status"</span>:Â <span class="hljs-string">"ok"</span>})

<span class="hljs-meta">@app.route(<span class="hljs-params"><span class="hljs-string">'/api/product/&lt;int:product_id&gt;'</span></span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_product</span>(<span class="hljs-params">product_id</span>):
Â Â Â Â <span class="hljs-comment">#Â å…ˆæŸ¥ç¼“å­˜</span>
Â Â Â Â cache_keyÂ =Â <span class="hljs-string">f"product:<span class="hljs-subst">{product_id}</span>"</span>
Â Â Â Â cachedÂ =Â redis_client.get(cache_key)

Â Â Â Â <span class="hljs-keyword">if</span>Â cached:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â jsonify({<span class="hljs-string">"source"</span>:Â <span class="hljs-string">"cache"</span>,Â <span class="hljs-string">"data"</span>:Â cached})

Â Â Â Â <span class="hljs-comment">#Â ç¼“å­˜æœªå‘½ä¸­ï¼ŒæŸ¥æ•°æ®åº“</span>
Â Â Â Â dataÂ =Â {<span class="hljs-string">"id"</span>:Â product_id,Â <span class="hljs-string">"name"</span>:Â <span class="hljs-string">f"ProductÂ <span class="hljs-subst">{product_id}</span>"</span>}
Â Â Â Â redis_client.setex(cache_key,Â <span class="hljs-number">3600</span>,Â <span class="hljs-built_in">str</span>(data))

Â Â Â Â <span class="hljs-keyword">return</span>Â jsonify({<span class="hljs-string">"source"</span>:Â <span class="hljs-string">"database"</span>,Â <span class="hljs-string">"data"</span>:Â data})

<span class="hljs-keyword">if</span>Â __name__Â ==Â <span class="hljs-string">'__main__'</span>:
Â Â Â Â <span class="hljs-comment">#Â å¯åŠ¨å‰é¢„çƒ­ï¼ˆåŒæ­¥æ–¹å¼ï¼Œé€‚åˆå°è§„æ¨¡é¢„çƒ­ï¼‰</span>
Â Â Â Â <span class="hljs-comment">#Â cache_warmup()</span>

Â Â Â Â app.run(host=<span class="hljs-string">'0.0.0.0'</span>,Â port=<span class="hljs-number">5000</span>)
</code></pre>
<p><strong>æŠ€å·§</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>@app.before_request</code> åœ¨é¦–æ¬¡è¯·æ±‚æ—¶è§¦å‘</li>
<li>åå°çº¿ç¨‹é¿å…é˜»å¡åº”ç”¨å¯åŠ¨</li>
<li>ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ Gunicorn çš„ <code>on_starting</code> é’©å­</li>
</ul>
<hr/>
<h4 data-id="heading-19">5.3 æ¡ˆä¾‹ 3ï¼šDjango AppConfig å®ç°é¢„çƒ­</h4>
<p><strong>åœºæ™¯</strong>ï¼šDjango é¡¹ç›®ï¼Œåœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨é¢„çƒ­ç¼“å­˜</p>
<p>Django æ¨èçš„æ–¹å¼æ˜¯åœ¨ <code>AppConfig.ready()</code> æ–¹æ³•ä¸­æ‰§è¡Œå¯åŠ¨ä»»åŠ¡ï¼Œè¿™æ¯”ä¸­é—´ä»¶æ›´åŠ ä¼˜é›…å’Œè§„èŒƒã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â apps.py</span>
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">from</span>Â django.appsÂ <span class="hljs-keyword">import</span>Â AppConfig
<span class="hljs-keyword">from</span>Â django.core.cacheÂ <span class="hljs-keyword">import</span>Â cache


<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SubnetManageConfig</span>(<span class="hljs-title class_ inherited__">AppConfig</span>):
Â Â Â Â <span class="hljs-string">"""å­ç½‘ç®¡ç†åº”ç”¨é…ç½®"""</span>
Â Â Â Â default_auto_fieldÂ =Â <span class="hljs-string">'django.db.models.BigAutoField'</span>
Â Â Â Â nameÂ =Â <span class="hljs-string">'subnet_manage'</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â åº”ç”¨å°±ç»ªæ—¶æ‰§è¡Œ
Â Â Â Â Â Â Â Â æ³¨æ„ï¼šåœ¨å¤šè¿›ç¨‹ç¯å¢ƒï¼ˆå¦‚Gunicornï¼‰ä¸‹ï¼Œæ¯ä¸ªworkeréƒ½ä¼šè°ƒç”¨ä¸€æ¬¡
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯¼å…¥ä¿¡å·å¤„ç†å™¨</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">import</span>Â subnet_manage.signals

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ‰§è¡Œç¼“å­˜é¢„çƒ­</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ³¨æ„ï¼šå¦‚æœä½¿ç”¨äº†Djangoçš„runserverå‘½ä»¤ï¼Œä¼šå¯åŠ¨ä¸¤ä¸ªè¿›ç¨‹ï¼ˆä¸€ä¸ªä¸»è¿›ç¨‹ç”¨äºç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯ä»¥é€šè¿‡æ£€æŸ¥ç¯å¢ƒå˜é‡æ¥é¿å…é‡å¤æ‰§è¡Œï¼šifÂ os.environ.get('RUN_MAIN')Â ==Â 'true'</span>
Â Â Â Â Â Â Â Â self.warm_up_cache()

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warm_up_cache</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­ç¼“å­˜"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”¥Â å¼€å§‹é¢„çƒ­ç¼“å­˜..."</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­å­ç½‘æ ‘å½¢ç»“æ„</span>
Â Â Â Â Â Â Â Â Â Â Â Â self.warm_up_subnet_tree()

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­å…¶ä»–æ•°æ®ï¼ˆå¯æ‰©å±•ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â self.warm_up_system_config()

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ…Â ç¼“å­˜é¢„çƒ­å®Œæˆï¼"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒÂ ç¼“å­˜é¢„çƒ­å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­å¤±è´¥ä¸åº”è¯¥å½±å“åº”ç”¨å¯åŠ¨</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯ä»¥åœ¨è¿™é‡Œå‘é€å‘Šè­¦é€šçŸ¥</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warm_up_subnet_tree</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­å­ç½‘æ ‘å½¢ç»“æ„ç¼“å­˜"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å»¶è¿Ÿå¯¼å…¥ï¼Œç¡®ä¿æ¨¡å‹å·²åŠ è½½</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">from</span>Â subnet_manage.data_cacheÂ <span class="hljs-keyword">import</span>Â generate_subnet_tree

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç”Ÿæˆæ ‘å½¢æ•°æ®</span>
Â Â Â Â Â Â Â Â Â Â Â Â tree_dataÂ =Â generate_subnet_tree()

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å†™å…¥ç¼“å­˜ï¼ˆä¸è§†å›¾ä¸­ä½¿ç”¨ç›¸åŒçš„cache_keyå’Œè¿‡æœŸæ—¶é—´ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â cache_keyÂ =Â <span class="hljs-string">'subnet_tree'</span>
Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(cache_key,Â tree_data,Â timeout=<span class="hljs-number">60</span>Â *Â <span class="hljs-number">5</span>)Â Â <span class="hljs-comment">#Â 5åˆ†é’Ÿè¿‡æœŸ</span>

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âœ“Â é¢„çƒ­å­ç½‘æ ‘å½¢ç¼“å­˜ï¼Œæ•°æ®é•¿åº¦:Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(tree_data)}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âš Â å­ç½‘æ ‘é¢„çƒ­å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warm_up_system_config</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­ç³»ç»Ÿé…ç½®"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­å¸¸ç”¨é…ç½®</span>
Â Â Â Â Â Â Â Â Â Â Â Â configsÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"site_name"</span>:Â <span class="hljs-string">"å­ç½‘ç®¡ç†ç³»ç»Ÿ"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"max_subnet_depth"</span>:Â <span class="hljs-number">5</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"default_page_size"</span>:Â <span class="hljs-number">20</span>
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â key,Â valueÂ <span class="hljs-keyword">in</span>Â configs.items():
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">f"config:<span class="hljs-subst">{key}</span>"</span>,Â value,Â timeout=<span class="hljs-number">86400</span>)Â Â <span class="hljs-comment">#Â 24å°æ—¶</span>

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âœ“Â é¢„çƒ­ç³»ç»Ÿé…ç½®ï¼š<span class="hljs-subst">{<span class="hljs-built_in">len</span>(configs)}</span>Â é¡¹"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âš Â ç³»ç»Ÿé…ç½®é¢„çƒ­å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)


<span class="hljs-comment">#Â ==============Â æ‰©å±•ç¤ºä¾‹ï¼šé¢„çƒ­åšå®¢æ–‡ç« Â ==============</span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">BlogConfig</span>(<span class="hljs-title class_ inherited__">AppConfig</span>):
Â Â Â Â <span class="hljs-string">"""åšå®¢åº”ç”¨é…ç½®"""</span>
Â Â Â Â default_auto_fieldÂ =Â <span class="hljs-string">'django.db.models.BigAutoField'</span>
Â Â Â Â nameÂ =Â <span class="hljs-string">'blog'</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åº”ç”¨å°±ç»ªæ—¶æ‰§è¡Œ"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">import</span>Â blog.signalsÂ Â <span class="hljs-comment">#Â å¯¼å…¥ä¿¡å·</span>
Â Â Â Â Â Â Â Â self.warm_up_blog_cache()

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warm_up_blog_cache</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­åšå®¢ç¼“å­˜"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”¥Â å¼€å§‹é¢„çƒ­åšå®¢ç¼“å­˜..."</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å»¶è¿Ÿå¯¼å…¥æ¨¡å‹</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">from</span>Â blog.modelsÂ <span class="hljs-keyword">import</span>Â Article,Â Category

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­çƒ­é—¨æ–‡ç« ï¼ˆè®¿é—®é‡TOPÂ 50ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â hot_articlesÂ =Â Article.objects.<span class="hljs-built_in">filter</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â status=<span class="hljs-string">'published'</span>
Â Â Â Â Â Â Â Â Â Â Â Â ).order_by(<span class="hljs-string">'-view_count'</span>)[:<span class="hljs-number">50</span>]

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â articleÂ <span class="hljs-keyword">in</span>Â hot_articles:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_keyÂ =Â <span class="hljs-string">f"article:<span class="hljs-subst">{article.<span class="hljs-built_in">id</span>}</span>"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_dataÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"id"</span>:Â article.<span class="hljs-built_in">id</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"title"</span>:Â article.title,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"summary"</span>:Â article.summary,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"view_count"</span>:Â article.view_count,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"created_at"</span>:Â article.created_at.isoformat()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(cache_key,Â cache_data,Â timeout=<span class="hljs-number">3600</span>)Â Â <span class="hljs-comment">#Â 1å°æ—¶</span>

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âœ“Â é¢„çƒ­çƒ­é—¨æ–‡ç« ï¼š<span class="hljs-subst">{hot_articles.count()}</span>Â ç¯‡"</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­åˆ†ç±»åˆ—è¡¨ï¼ˆæ‰€æœ‰åˆ†ç±»ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â categoriesÂ =Â <span class="hljs-built_in">list</span>(Category.objects.<span class="hljs-built_in">all</span>().values(<span class="hljs-string">'id'</span>,Â <span class="hljs-string">'name'</span>,Â <span class="hljs-string">'slug'</span>))
Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">'categories:all'</span>,Â categories,Â timeout=<span class="hljs-number">86400</span>)Â Â <span class="hljs-comment">#Â 24å°æ—¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âœ“Â é¢„çƒ­æ–‡ç« åˆ†ç±»ï¼š<span class="hljs-subst">{<span class="hljs-built_in">len</span>(categories)}</span>Â ä¸ª"</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ…Â åšå®¢ç¼“å­˜é¢„çƒ­å®Œæˆï¼"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒÂ åšå®¢ç¼“å­˜é¢„çƒ­å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)


<span class="hljs-comment">#Â ==============Â settings.pyÂ é…ç½®Â ==============</span>
<span class="hljs-comment">#Â åœ¨Â INSTALLED_APPSÂ ä¸­æŒ‡å®šè‡ªå®šä¹‰çš„Â AppConfig</span>
<span class="hljs-comment">#Â INSTALLED_APPSÂ =Â [</span>
<span class="hljs-comment">#Â Â Â Â Â 'django.contrib.admin',</span>
<span class="hljs-comment">#Â Â Â Â Â 'django.contrib.auth',</span>
<span class="hljs-comment">#Â Â Â Â Â #Â ...</span>
<span class="hljs-comment">#Â Â Â Â Â 'subnet_manage.apps.SubnetManageConfig',Â Â #Â ä½¿ç”¨è‡ªå®šä¹‰é…ç½®</span>
<span class="hljs-comment">#Â Â Â Â Â 'blog.apps.BlogConfig',</span>
<span class="hljs-comment">#Â Â Â Â Â #Â ...</span>
<span class="hljs-comment">#Â ]</span>
</code></pre>
<hr/>
<p><strong>å…³é”®è¦ç‚¹è§£æ</strong>ï¼š</p>
<h5 data-id="heading-20">1ï¸âƒ£ <strong>ä¸ºä»€ä¹ˆåœ¨ <code>ready()</code> ä¸­é¢„çƒ­ï¼Ÿ</strong></h5>
<ul>
<li>âœ… Django å®˜æ–¹æ¨èçš„åº”ç”¨åˆå§‹åŒ–å…¥å£</li>
<li>âœ… ç¡®ä¿æ‰€æœ‰æ¨¡å‹ã€ä¿¡å·å·²æ³¨å†Œå®Œæˆ</li>
<li>âœ… ä»£ç ç»„ç»‡æ¸…æ™°ï¼ŒèŒè´£æ˜ç¡®</li>
</ul>
<h5 data-id="heading-21">2ï¸âƒ£ <strong>å¤šè¿›ç¨‹ç¯å¢ƒæ³¨æ„äº‹é¡¹</strong></h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â æ–¹æ³•1ï¼šé™åˆ¶åªåœ¨ä¸»è¿›ç¨‹æ‰§è¡Œï¼ˆé€‚ç”¨äºÂ runserverï¼‰</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â <span class="hljs-keyword">if</span>Â os.environ.get(<span class="hljs-string">'RUN_MAIN'</span>)Â ==Â <span class="hljs-string">'true'</span>:
Â Â Â Â Â Â Â Â self.warm_up_cache()

<span class="hljs-comment">#Â æ–¹æ³•2ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”ï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â <span class="hljs-keyword">from</span>Â django.core.cacheÂ <span class="hljs-keyword">import</span>Â cache

Â Â Â Â lock_keyÂ =Â <span class="hljs-string">'warmup:lock'</span>
Â Â Â Â <span class="hljs-comment">#Â å°è¯•è·å–é”ï¼Œ60ç§’è¶…æ—¶</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â cache.add(lock_key,Â <span class="hljs-string">'1'</span>,Â timeout=<span class="hljs-number">60</span>):
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â self.warm_up_cache()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">finally</span>:
Â Â Â Â Â Â Â Â Â Â Â Â cache.delete(lock_key)
Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"å…¶ä»–è¿›ç¨‹æ­£åœ¨é¢„çƒ­ï¼Œè·³è¿‡"</span>)

<span class="hljs-comment">#Â æ–¹æ³•3ï¼šGunicorné…ç½®ï¼ˆåªåœ¨masterè¿›ç¨‹æ‰§è¡Œï¼‰</span>
<span class="hljs-comment">#Â gunicorn_config.py</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">on_starting</span>(<span class="hljs-params">server</span>):
Â Â Â Â <span class="hljs-string">"""æœåŠ¡å¯åŠ¨æ—¶æ‰§è¡Œä¸€æ¬¡ï¼ˆmasterè¿›ç¨‹ï¼‰"""</span>
Â Â Â Â <span class="hljs-keyword">from</span>Â djangoÂ <span class="hljs-keyword">import</span>Â setup
Â Â Â Â os.environ.setdefault(<span class="hljs-string">'DJANGO_SETTINGS_MODULE'</span>,Â <span class="hljs-string">'myproject.settings'</span>)
Â Â Â Â setup()

Â Â Â Â <span class="hljs-keyword">from</span>Â django.core.cacheÂ <span class="hljs-keyword">import</span>Â cache
Â Â Â Â <span class="hljs-comment">#Â æ‰§è¡Œé¢„çƒ­é€»è¾‘</span>
Â Â Â Â warmup()
</code></pre>
<h5 data-id="heading-22">3ï¸âƒ£ <strong>å»¶è¿Ÿå¯¼å…¥çš„é‡è¦æ€§</strong></h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â âŒÂ é”™è¯¯ï¼šåœ¨æ¨¡å—çº§åˆ«å¯¼å…¥</span>
<span class="hljs-keyword">from</span>Â blog.modelsÂ <span class="hljs-keyword">import</span>Â ArticleÂ Â <span class="hljs-comment">#Â å¯èƒ½å¯¼è‡´AppRegistryNotReadyå¼‚å¸¸</span>

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">BlogConfig</span>(<span class="hljs-title class_ inherited__">AppConfig</span>):
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨Articleæ¨¡å‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">pass</span>

<span class="hljs-comment">#Â âœ…Â æ­£ç¡®ï¼šåœ¨æ–¹æ³•å†…å¯¼å…¥</span>
<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">BlogConfig</span>(<span class="hljs-title class_ inherited__">AppConfig</span>):
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-keyword">from</span>Â blog.modelsÂ <span class="hljs-keyword">import</span>Â ArticleÂ Â <span class="hljs-comment">#Â ç¡®ä¿Djangoå·²å®Œå…¨åˆå§‹åŒ–</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨Articleæ¨¡å‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">pass</span>
</code></pre>
<h5 data-id="heading-23">4ï¸âƒ£ <strong>å®é™…é¡¹ç›®ä¸­çš„å®Œæ•´ç¤ºä¾‹</strong></h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â apps.py</span>
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">import</span>Â time
<span class="hljs-keyword">from</span>Â django.appsÂ <span class="hljs-keyword">import</span>Â AppConfig
<span class="hljs-keyword">from</span>Â django.core.cacheÂ <span class="hljs-keyword">import</span>Â cache


<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyAppConfig</span>(<span class="hljs-title class_ inherited__">AppConfig</span>):
Â Â Â Â nameÂ =Â <span class="hljs-string">'myapp'</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">ready</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""åº”ç”¨å¯åŠ¨æ—¶æ‰§è¡Œ"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åªåœ¨ç”Ÿäº§ç¯å¢ƒé¢„çƒ­ï¼Œå¼€å‘ç¯å¢ƒè·³è¿‡</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â os.environ.get(<span class="hljs-string">'DJANGO_ENV'</span>)Â ==Â <span class="hljs-string">'production'</span>:
Â Â Â Â Â Â Â Â Â Â Â Â self.perform_warmup()

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¯¼å…¥ä¿¡å·</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">import</span>Â myapp.signals

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">perform_warmup</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""æ‰§è¡Œé¢„çƒ­æµç¨‹"""</span>
Â Â Â Â Â Â Â Â start_timeÂ =Â time.time()

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨åˆ†å¸ƒå¼é”ï¼Œé¿å…å¤šè¿›ç¨‹é‡å¤é¢„çƒ­</span>
Â Â Â Â Â Â Â Â lock_keyÂ =Â <span class="hljs-string">'app:warmup:lock'</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â cache.add(lock_key,Â <span class="hljs-string">'1'</span>,Â timeout=<span class="hljs-number">120</span>):Â Â <span class="hljs-comment">#Â 2åˆ†é’Ÿé”</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"â¸ï¸Â Â å…¶ä»–è¿›ç¨‹æ­£åœ¨é¢„çƒ­ï¼Œæœ¬è¿›ç¨‹è·³è¿‡"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>

Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”¥Â å¼€å§‹ç¼“å­˜é¢„çƒ­..."</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç»Ÿè®¡ä¿¡æ¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â statsÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'success'</span>:Â <span class="hljs-number">0</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'failed'</span>:Â <span class="hljs-number">0</span>
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­å„æ¨¡å—</span>
Â Â Â Â Â Â Â Â Â Â Â Â warmup_tasksÂ =Â [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (<span class="hljs-string">'äº§å“æ•°æ®'</span>,Â self.warmup_products),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (<span class="hljs-string">'ç”¨æˆ·æ•°æ®'</span>,Â self.warmup_users),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â (<span class="hljs-string">'é…ç½®æ•°æ®'</span>,Â self.warmup_configs),
Â Â Â Â Â Â Â Â Â Â Â Â ]

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â task_name,Â task_funcÂ <span class="hljs-keyword">in</span>Â warmup_tasks:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â countÂ =Â task_func()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stats[<span class="hljs-string">'success'</span>]Â +=Â count
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âœ“Â <span class="hljs-subst">{task_name}</span>ï¼š<span class="hljs-subst">{count}</span>Â æ¡"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stats[<span class="hljs-string">'failed'</span>]Â +=Â <span class="hljs-number">1</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â âœ—Â <span class="hljs-subst">{task_name}</span>å¤±è´¥ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®°å½•é¢„çƒ­å®Œæˆ</span>
Â Â Â Â Â Â Â Â Â Â Â Â durationÂ =Â time.time()Â -Â start_time
Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">'app:warmup:last_time'</span>,Â time.time(),Â timeout=<span class="hljs-literal">None</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ…Â ç¼“å­˜é¢„çƒ­å®Œæˆï¼"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â æˆåŠŸï¼š<span class="hljs-subst">{stats[<span class="hljs-string">'success'</span>]}</span>Â é¡¹"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â å¤±è´¥ï¼š<span class="hljs-subst">{stats[<span class="hljs-string">'failed'</span>]}</span>Â é¡¹"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â è€—æ—¶ï¼š<span class="hljs-subst">{duration:<span class="hljs-number">.2</span>f}</span>ç§’"</span>)

Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒÂ é¢„çƒ­è¿‡ç¨‹å¼‚å¸¸ï¼š<span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">finally</span>:
Â Â Â Â Â Â Â Â Â Â Â Â cache.delete(lock_key)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_products</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­äº§å“æ•°æ®"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">from</span>Â myapp.modelsÂ <span class="hljs-keyword">import</span>Â Product

Â Â Â Â Â Â Â Â hot_productsÂ =Â Product.objects.<span class="hljs-built_in">filter</span>(
Â Â Â Â Â Â Â Â Â Â Â Â is_active=<span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â ).order_by(<span class="hljs-string">'-sales_count'</span>)[:<span class="hljs-number">100</span>]

Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â productÂ <span class="hljs-keyword">in</span>Â hot_products:
Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f'product:<span class="hljs-subst">{product.<span class="hljs-built_in">id</span>}</span>'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â product.to_dict(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â timeout=<span class="hljs-number">3600</span>
Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â hot_products.count()

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_users</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­VIPç”¨æˆ·æ•°æ®"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">from</span>Â myapp.modelsÂ <span class="hljs-keyword">import</span>Â User

Â Â Â Â Â Â Â Â vip_usersÂ =Â User.objects.<span class="hljs-built_in">filter</span>(is_vip=<span class="hljs-literal">True</span>)[:<span class="hljs-number">50</span>]

Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â userÂ <span class="hljs-keyword">in</span>Â vip_users:
Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f'user:<span class="hljs-subst">{user.<span class="hljs-built_in">id</span>}</span>'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user.get_profile(),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â timeout=<span class="hljs-number">1800</span>
Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â vip_users.count()

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_configs</span>(<span class="hljs-params">self</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­é…ç½®æ•°æ®"""</span>
Â Â Â Â Â Â Â Â configsÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'site_name'</span>:Â <span class="hljs-string">'æˆ‘çš„ç½‘ç«™'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'site_url'</span>:Â <span class="hljs-string">'https://example.com'</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">'max_upload_size'</span>:Â <span class="hljs-number">10485760</span>,Â Â <span class="hljs-comment">#Â 10MB</span>
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â key,Â valueÂ <span class="hljs-keyword">in</span>Â configs.items():
Â Â Â Â Â Â Â Â Â Â Â Â cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">f'config:<span class="hljs-subst">{key}</span>'</span>,Â value,Â timeout=<span class="hljs-number">86400</span>)

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">len</span>(configs)
</code></pre>
<p><strong>ä¼˜åŠ¿æ€»ç»“</strong>ï¼š</p>
<ul>
<li>âœ… ä¸ Django ç”Ÿå‘½å‘¨æœŸæ— ç¼é›†æˆ</li>
<li>âœ… ä»£ç ç»„ç»‡æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•</li>
<li>âœ… æ”¯æŒå¤šè¿›ç¨‹ç¯å¢ƒï¼ˆé€šè¿‡åˆ†å¸ƒå¼é”ï¼‰</li>
<li>âœ… å¼‚å¸¸å¤„ç†å®Œå–„ï¼Œä¸å½±å“åº”ç”¨å¯åŠ¨</li>
<li>âœ… å®é™…ç”Ÿäº§ç¯å¢ƒéªŒè¯å¯ç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-24">å…­ã€æœ€ä½³å®è·µä¸é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-25">6.1 é¢„çƒ­æ•°æ®çš„é€‰æ‹©æ ‡å‡†</h4>
<p><strong>å¦‚ä½•è¯†åˆ«çƒ­ç‚¹æ•°æ®ï¼Ÿ</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â æ–¹æ³•1ï¼šåŸºäºè®¿é—®æ—¥å¿—ç»Ÿè®¡</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">analyze_hot_keys</span>():
Â Â Â Â <span class="hljs-string">"""åˆ†æRedisè®¿é—®æ—¥å¿—ï¼Œæ‰¾å‡ºçƒ­ç‚¹Key"""</span>
Â Â Â Â <span class="hljs-comment">#Â ä½¿ç”¨Redisçš„MONITORå‘½ä»¤ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span>
Â Â Â Â <span class="hljs-comment">#Â æˆ–è€…ä½¿ç”¨redis-cliÂ --hotkeysï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span>
Â Â Â Â <span class="hljs-keyword">pass</span>

<span class="hljs-comment">#Â æ–¹æ³•2ï¼šåŸºäºä¸šåŠ¡æŒ‡æ ‡</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_hot_products_by_sales</span>():
Â Â Â Â <span class="hljs-string">"""æ ¹æ®é”€é‡ã€ç‚¹å‡»é‡ç­‰ä¸šåŠ¡æŒ‡æ ‡"""</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â Product.objects.annotate(
Â Â Â Â Â Â Â Â heat_score=F(<span class="hljs-string">'sales_count'</span>)Â *Â <span class="hljs-number">0.6</span>Â +Â F(<span class="hljs-string">'view_count'</span>)Â *Â <span class="hljs-number">0.4</span>
Â Â Â Â ).order_by(<span class="hljs-string">'-heat_score'</span>)[:<span class="hljs-number">1000</span>]

<span class="hljs-comment">#Â æ–¹æ³•3ï¼šä½¿ç”¨LRUç®—æ³•</span>
<span class="hljs-comment">#Â Redisæœ¬èº«æ”¯æŒLRUæ·˜æ±°ç­–ç•¥ï¼Œå¯ä»¥å‚è€ƒå…¶ç»Ÿè®¡ç»“æœ</span>
</code></pre>
<p><strong>æ•°æ®ä¼˜å…ˆçº§</strong>ï¼š</p>
<ol>
<li>â­â­â­ <strong>æ ¸å¿ƒä¸šåŠ¡æ•°æ®</strong>ï¼šå•†å“è¯¦æƒ…ã€ç”¨æˆ·ä¿¡æ¯</li>
<li>â­â­ <strong>é…ç½®æ•°æ®</strong>ï¼šç³»ç»Ÿé…ç½®ã€å­—å…¸è¡¨</li>
<li>â­ <strong>ç»Ÿè®¡æ•°æ®</strong>ï¼šæ¦œå•ã€æ¨èåˆ—è¡¨</li>
</ol>
<hr/>
<h4 data-id="heading-26">6.2 é¢„çƒ­æ—¶æœºçš„æŠŠæ§</h4>






























<table><thead><tr><th>åœºæ™¯</th><th>é¢„çƒ­æ—¶æœº</th><th>å®ç°æ–¹å¼</th></tr></thead><tbody><tr><td>åº”ç”¨å¯åŠ¨</td><td>å¯åŠ¨åç«‹å³æ‰§è¡Œ</td><td><code>@app.before_first_request</code></td></tr><tr><td>å®šæ—¶ä»»åŠ¡</td><td>æ¯å¤©å›ºå®šæ—¶é—´</td><td>APSchedulerã€Celery Beat</td></tr><tr><td>æµé‡ä½è°·</td><td>å‡Œæ™¨ 2-4 ç‚¹</td><td>Cron å®šæ—¶ä»»åŠ¡</td></tr><tr><td>æ‰‹åŠ¨è§¦å‘</td><td>è¿ç»´æ“ä½œ</td><td>ç®¡ç†åå°æ¥å£</td></tr></tbody></table>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â Djangoç®¡ç†å‘½ä»¤ï¼špythonÂ manage.pyÂ warmup_cache</span>
<span class="hljs-keyword">from</span>Â django.core.management.baseÂ <span class="hljs-keyword">import</span>Â BaseCommand

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">Command</span>(<span class="hljs-title class_ inherited__">BaseCommand</span>):
Â Â Â Â <span class="hljs-built_in">help</span>Â =Â <span class="hljs-string">'æ‰‹åŠ¨è§¦å‘ç¼“å­˜é¢„çƒ­'</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">handle</span>(<span class="hljs-params">self,Â *args,Â **options</span>):
Â Â Â Â Â Â Â Â self.stdout.write(<span class="hljs-string">'å¼€å§‹é¢„çƒ­...'</span>)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ‰§è¡Œé¢„çƒ­é€»è¾‘</span>
Â Â Â Â Â Â Â Â warmup_all()
Â Â Â Â Â Â Â Â self.stdout.write(self.style.SUCCESS(<span class="hljs-string">'é¢„çƒ­å®Œæˆï¼'</span>))
</code></pre>
<hr/>
<h4 data-id="heading-27">6.3 ç›‘æ§ä¸å‘Šè­¦</h4>
<p><strong>å…³é”®æŒ‡æ ‡</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span>Â time
<span class="hljs-keyword">from</span>Â functoolsÂ <span class="hljs-keyword">import</span>Â wraps

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">monitor_warmup</span>(<span class="hljs-params">func</span>):
Â Â Â Â <span class="hljs-string">"""è£…é¥°å™¨ï¼šç›‘æ§é¢„çƒ­è¿‡ç¨‹"""</span>
Â Â Â Â @wraps(func)
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args,Â **kwargs</span>):
Â Â Â Â Â Â Â Â start_timeÂ =Â time.time()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â resultÂ =Â func(*args,Â **kwargs)
Â Â Â Â Â Â Â Â Â Â Â Â durationÂ =Â time.time()Â -Â start_time

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®°å½•æˆåŠŸæ—¥å¿—</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ…Â <span class="hljs-subst">{func.__name__}</span>Â é¢„çƒ­æˆåŠŸï¼Œè€—æ—¶:Â <span class="hljs-subst">{duration:<span class="hljs-number">.2</span>f}</span>s"</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å‘é€ç›‘æ§æŒ‡æ ‡åˆ°Prometheus/Grafana</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â metrics.warmup_duration.labels(func.__name__).observe(duration)</span>

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â result
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â durationÂ =Â time.time()Â -Â start_time
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®°å½•å¤±è´¥æ—¥å¿—</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒÂ <span class="hljs-subst">{func.__name__}</span>Â é¢„çƒ­å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>ï¼Œè€—æ—¶:Â <span class="hljs-subst">{duration:<span class="hljs-number">.2</span>f}</span>s"</span>)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å‘é€å‘Šè­¦ï¼ˆé‚®ä»¶/é’‰é’‰/ä¼ä¸šå¾®ä¿¡ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â alert.send(f"ç¼“å­˜é¢„çƒ­å¤±è´¥:Â {func.__name__}")</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â wrapper

<span class="hljs-meta">@monitor_warmup</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_products</span>():
Â Â Â Â <span class="hljs-comment">#Â é¢„çƒ­é€»è¾‘</span>
Â Â Â Â <span class="hljs-keyword">pass</span>
</code></pre>
<p><strong>å»ºè®®ç›‘æ§çš„æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li>â±ï¸ é¢„çƒ­è€—æ—¶</li>
<li>ğŸ“Š é¢„çƒ­æ•°æ®é‡</li>
<li>âœ… æˆåŠŸ/å¤±è´¥ç‡</li>
<li>ğŸ’¾ Redis å†…å­˜å ç”¨</li>
<li>ğŸ¯ ç¼“å­˜å‘½ä¸­ç‡ï¼ˆé¢„çƒ­å‰åå¯¹æ¯”ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-28">6.4 å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h4>
<h5 data-id="heading-29">é—®é¢˜ 1ï¼šé¢„çƒ­æ—¶é—´è¿‡é•¿ï¼Œå½±å“å¯åŠ¨</h5>
<p>âŒ <strong>é”™è¯¯åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">#Â å¯åŠ¨æ—¶åŒæ­¥é¢„çƒ­<span class="hljs-number">100</span>ä¸‡æ¡æ•°æ®ï¼Œéœ€è¦<span class="hljs-number">10</span>åˆ†é’Ÿ
<span class="hljs-built_in">warmup_all_data</span>()
app<span class="hljs-selector-class">.run</span>()Â Â #Â <span class="hljs-number">10</span>åˆ†é’Ÿåæ‰èƒ½æä¾›æœåŠ¡
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â æ–¹æ¡ˆ1ï¼šå¼‚æ­¥é¢„çƒ­</span>
threading.Thread(<span class="hljs-attr">target</span>=warmup_all_data,Â daemon=<span class="hljs-literal">True</span>).start()
app.run()Â Â <span class="hljs-comment">#Â ç«‹å³å¯åŠ¨ï¼Œåå°é¢„çƒ­</span>

<span class="hljs-comment">#Â æ–¹æ¡ˆ2ï¼šåˆ†æ‰¹é¢„çƒ­</span>
defÂ warmup_in_batches():
Â Â Â Â <span class="hljs-comment">#Â å…ˆé¢„çƒ­TOPÂ 100ï¼ˆ1ç§’ï¼‰ï¼Œå†é¢„çƒ­å‰©ä½™ï¼ˆåå°è¿›è¡Œï¼‰</span>
Â Â Â Â warmup_hot_data(<span class="hljs-attr">limit</span>=<span class="hljs-number">100</span>)Â Â <span class="hljs-comment">#Â å¿«é€Ÿé¢„çƒ­æ ¸å¿ƒæ•°æ®</span>
Â Â Â Â threading.Thread(<span class="hljs-attr">target</span>=lambda:Â warmup_hot_data(limit=<span class="hljs-number">10000</span>)).start()
</code></pre>
<hr/>
<h5 data-id="heading-30">é—®é¢˜ 2ï¼šé¢„çƒ­æ•°æ®è¿‡æœŸåï¼Œåˆå‡ºç°"å†·å¯åŠ¨"</h5>
<p>âŒ <strong>é”™è¯¯åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">redis_client.setex(<span class="hljs-string">'product:1'</span>,Â 60,Â data)Â Â <span class="hljs-comment">#Â åªç¼“å­˜60ç§’</span>
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â æ–¹æ¡ˆ1ï¼šè®¾ç½®è¶³å¤Ÿé•¿çš„è¿‡æœŸæ—¶é—´</span>
redis_client.setex(<span class="hljs-string">'product:1'</span>,Â <span class="hljs-number">86400</span>,Â data)Â Â <span class="hljs-comment">#Â 24å°æ—¶</span>

<span class="hljs-comment">#Â æ–¹æ¡ˆ2ï¼šå®šæ—¶åˆ·æ–°</span>
<span class="hljs-meta">@scheduler.scheduled_job(<span class="hljs-params"><span class="hljs-string">'interval'</span>,Â hours=<span class="hljs-number">1</span></span>)</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">refresh_cache</span>():
Â Â Â Â warmup_hot_data()

<span class="hljs-comment">#Â æ–¹æ¡ˆ3ï¼šè®¿é—®æ—¶è‡ªåŠ¨ç»­æœŸ</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">get_product</span>(<span class="hljs-params">product_id</span>):
Â Â Â Â keyÂ =Â <span class="hljs-string">f'product:<span class="hljs-subst">{product_id}</span>'</span>
Â Â Â Â dataÂ =Â redis_client.get(key)
Â Â Â Â <span class="hljs-keyword">if</span>Â data:
Â Â Â Â Â Â Â Â redis_client.expire(key,Â <span class="hljs-number">3600</span>)Â Â <span class="hljs-comment">#Â ç»­æœŸ1å°æ—¶</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â data
Â Â Â Â <span class="hljs-comment">#Â ...</span>
</code></pre>
<hr/>
<h5 data-id="heading-31">é—®é¢˜ 3ï¼šé¢„çƒ­å ç”¨è¿‡å¤šå†…å­˜</h5>
<p>âŒ <strong>é”™è¯¯åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â é¢„çƒ­æ‰€æœ‰æ•°æ®ï¼ˆ100GBï¼‰ï¼ŒRediså†…å­˜ä¸è¶³</span>
warmup_all_products()Â Â <span class="hljs-comment">#Â 1000ä¸‡ä¸ªå•†å“</span>
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â åªé¢„çƒ­çƒ­ç‚¹æ•°æ®ï¼Œæ§åˆ¶å†…å­˜å ç”¨</span>
MAX_WARMUP_SIZEÂ =Â <span class="hljs-number">10000</span>Â Â <span class="hljs-comment">#Â æœ€å¤šé¢„çƒ­1ä¸‡æ¡</span>

<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_with_limit</span>():
Â Â Â Â hot_productsÂ =Â get_hot_products(limit=MAX_WARMUP_SIZE)
Â Â Â Â <span class="hljs-keyword">for</span>Â productÂ <span class="hljs-keyword">in</span>Â hot_products:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åªç¼“å­˜å…³é”®å­—æ®µï¼Œå‡å°‘å†…å­˜å ç”¨</span>
Â Â Â Â Â Â Â Â cache_dataÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"id"</span>:Â product.<span class="hljs-built_in">id</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"name"</span>:Â product.name,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"price"</span>:Â product.price
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸ç¼“å­˜è¯¦æƒ…descriptionã€å›¾ç‰‡ç­‰å¤§å­—æ®µ</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â redis_client.setex(<span class="hljs-string">f'product:<span class="hljs-subst">{product.<span class="hljs-built_in">id</span>}</span>'</span>,Â <span class="hljs-number">3600</span>,Â json.dumps(cache_data))
</code></pre>
<hr/>
<h5 data-id="heading-32">é—®é¢˜ 4ï¼šå¤šè¿›ç¨‹/å¤šå®ä¾‹é‡å¤é¢„çƒ­</h5>
<p>âŒ <strong>é”™è¯¯åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â GunicornÂ 4ä¸ªworkerï¼Œæ¯ä¸ªéƒ½æ‰§è¡Œé¢„çƒ­Â =Â æµªè´¹èµ„æº</span>
ifÂ <span class="hljs-attr">__name__</span>Â ==Â <span class="hljs-string">'__main__'</span>:
Â Â Â Â warmup()Â Â <span class="hljs-comment">#Â æ‰§è¡Œ4æ¬¡</span>
Â Â Â Â app.run()
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â æ–¹æ¡ˆ1ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”</span>
<span class="hljs-keyword">import</span>Â redis
<span class="hljs-keyword">from</span>Â contextlibÂ <span class="hljs-keyword">import</span>Â contextmanager

<span class="hljs-meta">@contextmanager</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup_lock</span>(<span class="hljs-params">redis_client,Â timeout=<span class="hljs-number">60</span></span>):
Â Â Â Â lock_keyÂ =Â <span class="hljs-string">'warmup:lock'</span>
Â Â Â Â <span class="hljs-comment">#Â å°è¯•è·å–é”</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â redis_client.<span class="hljs-built_in">set</span>(lock_key,Â <span class="hljs-string">'1'</span>,Â nx=<span class="hljs-literal">True</span>,Â ex=timeout):
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">yield</span>Â <span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">finally</span>:
Â Â Â Â Â Â Â Â Â Â Â Â redis_client.delete(lock_key)
Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">yield</span>Â <span class="hljs-literal">False</span>

<span class="hljs-comment">#Â ä½¿ç”¨</span>
<span class="hljs-keyword">with</span>Â warmup_lock(redis_client)Â <span class="hljs-keyword">as</span>Â acquired:
Â Â Â Â <span class="hljs-keyword">if</span>Â acquired:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"è·å–åˆ°é”ï¼Œå¼€å§‹é¢„çƒ­"</span>)
Â Â Â Â Â Â Â Â warmup()
Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"å…¶ä»–è¿›ç¨‹æ­£åœ¨é¢„çƒ­ï¼Œè·³è¿‡"</span>)

<span class="hljs-comment">#Â æ–¹æ¡ˆ2ï¼šåªåœ¨ä¸»è¿›ç¨‹é¢„çƒ­ï¼ˆGunicornï¼‰</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">on_starting</span>(<span class="hljs-params">server</span>):
Â Â Â Â <span class="hljs-string">"""Gunicorné…ç½®æ–‡ä»¶ä¸­"""</span>
Â Â Â Â warmup()Â Â <span class="hljs-comment">#Â åªåœ¨masterè¿›ç¨‹æ‰§è¡Œä¸€æ¬¡</span>
</code></pre>
<hr/>
<h3 data-id="heading-33">ä¸ƒã€æ€»ç»“ä¸å»¶ä¼¸</h3>
<h4 data-id="heading-34">7.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h4>
<p>âœ… <strong>ä»€ä¹ˆæ—¶å€™éœ€è¦ç¼“å­˜é¢„çƒ­ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿé‡å¯/ä¸Šçº¿</li>
<li>é¢„æœŸæµé‡é«˜å³°ï¼ˆå¤§ä¿ƒã€çƒ­ç‚¹äº‹ä»¶ï¼‰</li>
<li>æ•°æ®æ›´æ–°åï¼ˆæ¦œå•ã€æ¨èåˆ—è¡¨ï¼‰</li>
</ul>
<p>âœ… <strong>é¢„çƒ­ä»€ä¹ˆæ•°æ®ï¼Ÿ</strong></p>
<ul>
<li>éµå¾ª"äºŒå…«å®šå¾‹"ï¼Œä¼˜å…ˆé¢„çƒ­ 20%çš„çƒ­ç‚¹æ•°æ®</li>
<li>æ ¸å¿ƒä¸šåŠ¡æ•°æ® &gt; é…ç½®æ•°æ® &gt; ç»Ÿè®¡æ•°æ®</li>
</ul>
<p>âœ… <strong>å¦‚ä½•å®ç°é¢„çƒ­ï¼Ÿ</strong></p>
<ul>
<li>å…¨é‡é¢„çƒ­ï¼šé€‚åˆå°æ•°æ®é‡</li>
<li>å¢é‡é¢„çƒ­ï¼šçƒ­ç‚¹ä¼˜å…ˆï¼Œæ€§ä»·æ¯”é«˜</li>
<li>å®šæ—¶é¢„çƒ­ï¼šå‘¨æœŸæ€§æ›´æ–°</li>
<li>æ‡’åŠ è½½+é¢„çƒ­ï¼šæ··åˆç­–ç•¥</li>
</ul>
<p>âœ… <strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å¼‚æ­¥é¢„çƒ­ï¼Œä¸é˜»å¡å¯åŠ¨</li>
<li>è®¾ç½®åˆç†è¿‡æœŸæ—¶é—´</li>
<li>ç›‘æ§é¢„çƒ­æ•ˆæœ</li>
<li>å¤šå®ä¾‹ç¯å¢ƒä½¿ç”¨åˆ†å¸ƒå¼é”</li>
</ul>
<hr/>
<h4 data-id="heading-35">7.2 è¿›é˜¶å­¦ä¹ å»ºè®®</h4>
<h5 data-id="heading-36">ğŸ“š <strong>å»¶ä¼¸é˜…è¯»</strong></h5>
<ol>
<li>
<p><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>Cache-Asideã€Read-Throughã€Write-Through</li>
<li>LRUã€LFU æ·˜æ±°ç®—æ³•</li>
</ul>
</li>
<li>
<p><strong>Redis é«˜çº§ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>Redis Pipelineï¼ˆæ‰¹é‡æ“ä½œï¼‰</li>
<li>Redis Clusterï¼ˆåˆ†å¸ƒå¼ï¼‰</li>
<li>Redis æŒä¹…åŒ–ï¼ˆRDB/AOFï¼‰</li>
</ul>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼ç¼“å­˜</strong>ï¼š</p>
<ul>
<li>ä¸€è‡´æ€§ Hash ç®—æ³•</li>
<li>ç¼“å­˜é›ªå´©ã€å‡»ç©¿ã€ç©¿é€è§£å†³æ–¹æ¡ˆ</li>
</ul>
</li>
</ol>
<h5 data-id="heading-37">ğŸ› ï¸ <strong>å®æˆ˜é¡¹ç›®å»ºè®®</strong></h5>
<ul>
<li>æ­å»ºä¸€ä¸ªå¸¦ç¼“å­˜é¢„çƒ­çš„ Flask/Django åšå®¢ç³»ç»Ÿ</li>
<li>å®ç°ä¸€ä¸ªå•†å“ç§’æ€ç³»ç»Ÿï¼ˆRedis+é¢„çƒ­+é™æµï¼‰</li>
<li>ä½¿ç”¨ Prometheus+Grafana ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡</li>
</ul>
<h5 data-id="heading-38">ğŸ“– <strong>æ¨èèµ„æº</strong></h5>
<ul>
<li>ä¹¦ç±ï¼šã€ŠRedis è®¾è®¡ä¸å®ç°ã€‹é»„å¥å®</li>
<li>è§†é¢‘ï¼šB ç«™æœç´¢"Redis ç¼“å­˜å®æˆ˜"</li>
<li>å·¥å…·ï¼šRedisInsightï¼ˆRedis å¯è§†åŒ–å·¥å…·ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-39">7.3 æœ€åçš„è¯</h4>
<p>ç¼“å­˜é¢„çƒ­æ˜¯æ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ‰‹æ®µï¼Œä½†å®ƒ<strong>ä¸æ˜¯é“¶å¼¹</strong>ã€‚</p>
<p>è®°ä½è¿™ä¸ªåŸåˆ™ï¼š<strong>é¢„çƒ­æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œè€Œä¸æ˜¯é›ªä¸­é€ç‚­</strong>ã€‚å¦‚æœä½ çš„ç³»ç»Ÿæ¶æ„æœ¬èº«å°±æœ‰é—®é¢˜ï¼ˆæ…¢ SQLã€N+1 æŸ¥è¯¢ã€æ— ç´¢å¼•ï¼‰ï¼Œé¢„çƒ­åªèƒ½æ²»æ ‡ä¸æ²»æœ¬ã€‚</p>
<p>å…ˆä¼˜åŒ–ä»£ç å’Œ SQLï¼Œå†è€ƒè™‘ç¼“å­˜ï¼Œæœ€åæ‰æ˜¯é¢„çƒ­ã€‚</p>
<p>ä½œä¸ºä¸€å Python åç«¯å·¥ç¨‹å¸ˆï¼ŒæŒæ¡ç¼“å­˜é¢„çƒ­è¿™é¡¹æŠ€èƒ½ï¼Œèƒ½è®©ä½ åœ¨é¢å¯¹é«˜å¹¶å‘åœºæ™¯æ—¶æ›´åŠ ä»å®¹ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ ï¼š</p>
<ul>
<li>ğŸ“ ç†è§£ç¼“å­˜é¢„çƒ­çš„åŸç†å’Œä»·å€¼</li>
<li>ğŸ› ï¸ æŒæ¡ Python å®ç°ç¼“å­˜é¢„çƒ­çš„å¤šç§æ–¹å¼</li>
<li>ğŸš€ åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½</li>
</ul>
<p>å¦‚æœä½ æ˜¯åˆšå…¥é—¨çš„å¤§ä¸€æ–°ç”Ÿï¼Œä¸ç”¨æ€¥äºç†è§£æ‰€æœ‰ç»†èŠ‚ã€‚å…ˆæŠŠ Redis ç©èµ·æ¥ï¼Œä»ç®€å•çš„<code>set/get</code>å¼€å§‹ï¼Œæ…¢æ…¢ä½ å°±ä¼šå‘ç°ç¼“å­˜çš„é­…åŠ›ã€‚</p>
<p><strong>Keep learning, keep coding!</strong> ğŸ’ª</p>
<hr/>
<h3 data-id="heading-40">é™„å½•ï¼šå®Œæ•´ä»£ç ç¤ºä¾‹</h3>
<h4 data-id="heading-41">A. é€šç”¨ç¼“å­˜é¢„çƒ­å·¥å…·ç±»</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
cache_warmer.pyÂ -Â é€šç”¨ç¼“å­˜é¢„çƒ­å·¥å…·
"""</span>
<span class="hljs-keyword">import</span>Â redis
<span class="hljs-keyword">import</span>Â json
<span class="hljs-keyword">import</span>Â time
<span class="hljs-keyword">from</span>Â typingÂ <span class="hljs-keyword">import</span>Â <span class="hljs-type">List</span>,Â <span class="hljs-type">Dict</span>,Â <span class="hljs-type">Callable</span>,Â <span class="hljs-type">Optional</span>
<span class="hljs-keyword">from</span>Â concurrent.futuresÂ <span class="hljs-keyword">import</span>Â ThreadPoolExecutor,Â as_completed

<span class="hljs-keyword">class</span>Â <span class="hljs-title class_">CacheWarmer</span>:
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â redis_client:Â redis.Redis,
Â Â Â Â Â Â Â Â max_workers:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">10</span>,
Â Â Â Â Â Â Â Â batch_size:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">100</span>
Â Â Â Â </span>):
Â Â Â Â Â Â Â Â self.redisÂ =Â redis_client
Â Â Â Â Â Â Â Â self.max_workersÂ =Â max_workers
Â Â Â Â Â Â Â Â self.batch_sizeÂ =Â batch_size

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">warmup</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â data_fetcher:Â <span class="hljs-type">Callable</span>,
Â Â Â Â Â Â Â Â key_generator:Â <span class="hljs-type">Callable</span>[[<span class="hljs-type">Dict</span>],Â <span class="hljs-built_in">str</span>],
Â Â Â Â Â Â Â Â ttl:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">3600</span>,
Â Â Â Â Â Â Â Â max_items:Â <span class="hljs-type">Optional</span>[<span class="hljs-built_in">int</span>]Â =Â <span class="hljs-literal">None</span>
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">any</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â é€šç”¨é¢„çƒ­æ–¹æ³•

Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â data_fetcher:Â æ•°æ®è·å–å‡½æ•°ï¼Œè¿”å›List[Dict]
Â Â Â Â Â Â Â Â Â Â Â Â key_generator:Â Keyç”Ÿæˆå‡½æ•°ï¼Œæ¥æ”¶å•æ¡æ•°æ®ï¼Œè¿”å›cache_key
Â Â Â Â Â Â Â Â Â Â Â Â ttl:Â è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â max_items:Â æœ€å¤§é¢„çƒ­æ•°é‡

Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â ç»Ÿè®¡ä¿¡æ¯
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â start_timeÂ =Â time.time()

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 1.Â è·å–æ•°æ®</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¥Â æ­£åœ¨è·å–æ•°æ®..."</span>)
Â Â Â Â Â Â Â Â data_listÂ =Â data_fetcher()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â max_items:
Â Â Â Â Â Â Â Â Â Â Â Â data_listÂ =Â data_list[:max_items]

Â Â Â Â Â Â Â Â totalÂ =Â <span class="hljs-built_in">len</span>(data_list)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ğŸ“ŠÂ å…±éœ€é¢„çƒ­Â <span class="hljs-subst">{total}</span>Â æ¡æ•°æ®"</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 2.Â åˆ†æ‰¹é¢„çƒ­</span>
Â Â Â Â Â Â Â Â success_countÂ =Â <span class="hljs-number">0</span>
Â Â Â Â Â Â Â Â failed_countÂ =Â <span class="hljs-number">0</span>

Â Â Â Â Â Â Â Â <span class="hljs-keyword">with</span>Â ThreadPoolExecutor(max_workers=self.max_workers)Â <span class="hljs-keyword">as</span>Â executor:
Â Â Â Â Â Â Â Â Â Â Â Â futuresÂ =Â []

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰batch_sizeåˆ†æ‰¹</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â iÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,Â total,Â self.batch_size):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â batchÂ =Â data_list[i:iÂ +Â self.batch_size]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â futureÂ =Â executor.submit(self._warmup_batch,Â batch,Â key_generator,Â ttl)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â futures.append(future)

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ”¶é›†ç»“æœ</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â futureÂ <span class="hljs-keyword">in</span>Â as_completed(futures):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â batch_success,Â batch_failedÂ =Â future.result()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â success_countÂ +=Â batch_success
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â failed_countÂ +=Â batch_failed

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¿›åº¦æ¡</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â progressÂ =Â (success_countÂ +Â failed_count)Â /Â totalÂ *Â <span class="hljs-number">100</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"â³Â è¿›åº¦:Â <span class="hljs-subst">{progress:<span class="hljs-number">.1</span>f}</span>%Â (<span class="hljs-subst">{success_count}</span>/<span class="hljs-subst">{total}</span>)"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒÂ æ‰¹æ¬¡é¢„çƒ­å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â failed_countÂ +=Â self.batch_size

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 3.Â ç»Ÿè®¡ç»“æœ</span>
Â Â Â Â Â Â Â Â durationÂ =Â time.time()Â -Â start_time
Â Â Â Â Â Â Â Â resultÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"total"</span>:Â total,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"success"</span>:Â success_count,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"failed"</span>:Â failed_count,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"duration"</span>:Â <span class="hljs-string">f"<span class="hljs-subst">{duration:<span class="hljs-number">.2</span>f}</span>s"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"qps"</span>:Â <span class="hljs-built_in">int</span>(success_countÂ /Â duration)Â <span class="hljs-keyword">if</span>Â durationÂ &gt;Â <span class="hljs-number">0</span>Â <span class="hljs-keyword">else</span>Â <span class="hljs-number">0</span>
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nâœ…Â é¢„çƒ­å®Œæˆï¼"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â æˆåŠŸ:Â <span class="hljs-subst">{success_count}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â å¤±è´¥:Â <span class="hljs-subst">{failed_count}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â è€—æ—¶:Â <span class="hljs-subst">{duration:<span class="hljs-number">.2</span>f}</span>s"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Â Â Â -Â QPS:Â <span class="hljs-subst">{result[<span class="hljs-string">'qps'</span>]}</span>"</span>)

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â result

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_warmup_batch</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â batch:Â <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>],
Â Â Â Â Â Â Â Â key_generator:Â <span class="hljs-type">Callable</span>,
Â Â Â Â Â Â Â Â ttl:Â <span class="hljs-built_in">int</span>
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-built_in">tuple</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é¢„çƒ­å•ä¸ªæ‰¹æ¬¡"""</span>
Â Â Â Â Â Â Â Â successÂ =Â <span class="hljs-number">0</span>
Â Â Â Â Â Â Â Â failedÂ =Â <span class="hljs-number">0</span>

Â Â Â Â Â Â Â Â pipeÂ =Â self.redis.pipeline()

Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â itemÂ <span class="hljs-keyword">in</span>Â batch:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_keyÂ =Â key_generator(item)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_valueÂ =Â json.dumps(item,Â ensure_ascii=<span class="hljs-literal">False</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â pipe.setex(cache_key,Â ttl,Â cache_value)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â successÂ +=Â <span class="hljs-number">1</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âš ï¸Â Â å¤„ç†å¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â failedÂ +=Â <span class="hljs-number">1</span>

Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â pipe.execute()
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒÂ Pipelineæ‰§è¡Œå¤±è´¥:Â <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤±è´¥æ—¶é‡è¯•å•æ¡æ’å…¥</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â itemÂ <span class="hljs-keyword">in</span>Â batch:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_keyÂ =Â key_generator(item)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cache_valueÂ =Â json.dumps(item,Â ensure_ascii=<span class="hljs-literal">False</span>)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.redis.setex(cache_key,Â ttl,Â cache_value)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â failedÂ +=Â <span class="hljs-number">1</span>

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â success,Â failed


<span class="hljs-comment">#Â ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span>Â __name__Â ==Â <span class="hljs-string">"__main__"</span>:
Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–</span>
Â Â Â Â redis_clientÂ =Â redis.Redis(host=<span class="hljs-string">'localhost'</span>,Â port=<span class="hljs-number">6379</span>,Â db=<span class="hljs-number">0</span>,Â decode_responses=<span class="hljs-literal">True</span>)
Â Â Â Â warmerÂ =Â CacheWarmer(redis_client,Â max_workers=<span class="hljs-number">5</span>,Â batch_size=<span class="hljs-number">50</span>)

Â Â Â Â <span class="hljs-comment">#Â å®šä¹‰æ•°æ®è·å–å‡½æ•°</span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">fetch_products</span>():
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ¨¡æ‹Ÿä»æ•°æ®åº“è·å–</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å®é™…é¡¹ç›®ä¸­ï¼šreturnÂ Product.objects.filter(status='active').values()</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â [
Â Â Â Â Â Â Â Â Â Â Â Â {<span class="hljs-string">"id"</span>:Â i,Â <span class="hljs-string">"name"</span>:Â <span class="hljs-string">f"å•†å“<span class="hljs-subst">{i}</span>"</span>,Â <span class="hljs-string">"price"</span>:Â <span class="hljs-number">99.9</span>}
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â iÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,Â <span class="hljs-number">1001</span>)
Â Â Â Â Â Â Â Â ]

Â Â Â Â <span class="hljs-comment">#Â å®šä¹‰Keyç”Ÿæˆå‡½æ•°</span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">generate_key</span>(<span class="hljs-params">product</span>):
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">f"product:<span class="hljs-subst">{product[<span class="hljs-string">'id'</span>]}</span>"</span>

Â Â Â Â <span class="hljs-comment">#Â æ‰§è¡Œé¢„çƒ­</span>
Â Â Â Â statsÂ =Â warmer.warmup(
Â Â Â Â Â Â Â Â data_fetcher=fetch_products,
Â Â Â Â Â Â Â Â key_generator=generate_key,
Â Â Â Â Â Â Â Â ttl=<span class="hljs-number">7200</span>,Â Â <span class="hljs-comment">#Â 2å°æ—¶</span>
Â Â Â Â Â Â Â Â max_items=<span class="hljs-number">500</span>Â Â <span class="hljs-comment">#Â åªé¢„çƒ­å‰500ä¸ª</span>
Â Â Â Â )

Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ“ŠÂ æœ€ç»ˆç»Ÿè®¡:Â <span class="hljs-subst">{stats}</span>"</span>)
</code></pre>
<hr/>
<h3 data-id="heading-42">å…³äºä½œè€…</h3>
<p>æˆ‘æ˜¯ä¸€å Python åç«¯å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨äºé«˜æ€§èƒ½ Web åº”ç”¨å¼€å‘ã€‚å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ï¼š</p>
<ul>
<li>â­ ç‚¹èµæ”¶è—</li>
<li>ğŸ’¬ ç•™è¨€äº¤æµ</li>
<li>ğŸ”— åˆ†äº«ç»™æœ‹å‹</li>
</ul>
<p>æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºï¼</p>
<blockquote>
<p>â˜…</p>
<p>ä¸‹æœŸé¢„å‘Šï¼šã€ŠRedis åˆ†å¸ƒå¼é”ï¼šä»åŸç†åˆ°å®æˆ˜ã€‹ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ‰TinyPro v1.4.0 æ­£å¼å‘å¸ƒï¼šæ”¯æŒ Spring Bootã€ç§»åŠ¨ç«¯é€‚é…ã€æ–°å¢å¡ç‰‡åˆ—è¡¨å’Œé«˜çº§è¡¨å•é¡µé¢]]></title>    <link>https://juejin.cn/post/7593535577046908963</link>    <guid>https://juejin.cn/post/7593535577046908963</guid>    <pubDate>2026-01-12T01:24:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593535577046908963" data-draft-id="7593541291011833883" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ‰TinyPro v1.4.0 æ­£å¼å‘å¸ƒï¼šæ”¯æŒ Spring Bootã€ç§»åŠ¨ç«¯é€‚é…ã€æ–°å¢å¡ç‰‡åˆ—è¡¨å’Œé«˜çº§è¡¨å•é¡µé¢"/> <meta itemprop="keywords" content="å‰ç«¯,å¼€æº,TypeScript"/> <meta itemprop="datePublished" content="2026-01-12T01:24:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¼€æºæ˜Ÿçƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1504599026445150"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ‰TinyPro v1.4.0 æ­£å¼å‘å¸ƒï¼šæ”¯æŒ Spring Bootã€ç§»åŠ¨ç«¯é€‚é…ã€æ–°å¢å¡ç‰‡åˆ—è¡¨å’Œé«˜çº§è¡¨å•é¡µé¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1504599026445150/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¼€æºæ˜Ÿçƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:24:40.000Z" title="Mon Jan 12 2026 01:24:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ å¥½ï¼Œæˆ‘æ˜¯ Kagolï¼Œä¸ªäººå…¬ä¼—å·ï¼š<code>å‰ç«¯å¼€æºæ˜Ÿçƒ</code>ã€‚</p>
<p>TinyPro æ˜¯ä¸€ä¸ªåŸºäº TinyVue æ‰“é€ çš„å‰åç«¯åˆ†ç¦»çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒåœ¨çº¿é…ç½®èœå•ã€è·¯ç”±ã€å›½é™…åŒ–ï¼Œæ”¯æŒé¡µç­¾æ¨¡å¼ã€å¤šçº§èœå•ï¼Œæ”¯æŒä¸°å¯Œçš„æ¨¡æ¿ç±»å‹ï¼Œæ”¯æŒå¤šç§æ„å»ºå·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ï¼</p>
<ul>
<li>æºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-pro%2F" target="_blank" title="https://github.com/opentiny/tiny-pro/" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a>ï¼ˆæ¬¢è¿ Star â­ï¼‰</li>
<li>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design%2Fvue-pro%2F" target="_blank" title="https://opentiny.design/vue-pro/" ref="nofollow noopener noreferrer">opentiny.design/vue-pro/</a></li>
</ul>
<p>æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒï¼Œ2026å¹´1æœˆ10æ—¥ï¼ŒTinyPro æ­£å¼å‘å¸ƒ v1.4.0 ç‰ˆæœ¬ï¼Œæœ¬æ¬¡å‘å¸ƒé›†ä¸­åœ¨æ‰©å±•åç«¯æ¨¡æ¿ã€å¢å¼ºç§»åŠ¨ç«¯ä½“éªŒä»¥åŠå¯¹ NestJS åç«¯åŠŸèƒ½çš„å®ç”¨å¢å¼ºã€‚</p>
<p>æœ¬æ¬¡ v1.4.0 ç‰ˆæœ¬ä¸»è¦æœ‰ä»¥ä¸‹é‡å¤§å˜æ›´ï¼š</p>
<ul>
<li>å¢åŠ  Spring Boot åç«¯</li>
<li>å¢å¼ºç§»åŠ¨ç«¯é€‚é…</li>
<li>å¢åŠ å¡ç‰‡åˆ—è¡¨å’Œé«˜çº§è¡¨å•é¡µé¢</li>
<li>æ”¯æŒå¤šè®¾å¤‡ç™»å½•</li>
<li>æ”¯æŒé…ç½®é¢„è§ˆæ¨¡å¼</li>
</ul>
<p>ä½ å¯ä»¥æ›´æ–° <code>@opentiny/tiny-toolkit-pro@1.4.0</code> è¿›è¡Œä½“éªŒï¼</p>
<pre><code class="hljs language-bash" lang="bash">tiny install @opentiny/tiny-toolkit-pro@1.4.0
</code></pre>
<p>è¯¦ç»†çš„ Release Notes è¯·å‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-pro%2Freleases%2Ftag%2Fv1.4.0" target="_blank" title="https://github.com/opentiny/tiny-pro/releases/tag/v1.4.0" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></p>
<h2 data-id="heading-0">1 æ”¯æŒ Spring Boot åç«¯</h2>
<p>ä¹‹å‰åªæœ‰ NestJS åç«¯ï¼Œæœ‰ä¸å°‘å¼€å‘è€…æå‡ºéœ€è¦ Java ç‰ˆæœ¬åç«¯ï¼Œå¤§å®¶çš„éœ€æ±‚å¿…é¡»å®‰æ’ï¼Œæ‰€ä»¥æœ¬æ¬¡ç‰ˆæœ¬æ–°å¢å¯¹ Spring Boot çš„æ”¯æŒï¼Œä½¿å¾—å Java / Spring çš„å›¢é˜Ÿå¯ä»¥æ›´å¿«é€Ÿåœ°ç”¨ç†Ÿæ‚‰çš„åç«¯æ¡†æ¶æ­å»º TinyPro å…¨æ ˆæ ·æ¿ã€‚</p>
<p>è¯¥æ”¯æŒåŒ…æ‹¬ Docker åŒ–ç¤ºä¾‹ã€é…ç½®è¦†ç›–ç¤ºä¾‹ï¼ˆapplication.yaml è¦†å†™ç¤ºä¾‹ï¼‰ä»¥åŠé’ˆå¯¹ deploy çš„è¯´æ˜ï¼Œä¾¿äºåœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ç›´æ¥éƒ¨ç½²æˆ–åšäºŒæ¬¡å¼€å‘ã€‚</p>
<p>å¦‚æœä½ æˆ–å›¢é˜Ÿåå‘ Java æŠ€æœ¯æ ˆï¼Œè¿™æ¬¡æ›´æ–°æ˜¾è‘—é™ä½äº†å¯åŠ¨æˆæœ¬ä¸é›†æˆéš¾åº¦ã€‚</p>
<p>è¯¦ç»†ä½¿ç”¨æŒ‡å—è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design%2Fvue-pro%2Fdocs%2Fadvanced%2Fback-end-guide-spring-boot" target="_blank" title="https://opentiny.design/vue-pro/docs/advanced/back-end-guide-spring-boot" ref="nofollow noopener noreferrer">Spring Boot åç«¯å¼€å‘æŒ‡å—</a></p>
<h2 data-id="heading-1">2 ç§»åŠ¨ç«¯å“åº”å¼ä¸å¸ƒå±€ä¼˜åŒ–</h2>
<p>æœ¬æ¬¡å¼•å…¥ç§»åŠ¨ç«¯é€‚é…æ–¹æ¡ˆï¼ŒåŒ…å«å¸ƒå±€è°ƒæ•´ã€æ ·å¼ä¼˜åŒ–å’Œè‹¥å¹²ç§»åŠ¨äº¤äº’é€»è¾‘æ”¹è¿›ã€‚é…å¥—å¢åŠ äº†ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆE2Eï¼‰ï¼Œä¿è¯å¸¸è§ç§»åŠ¨åœºæ™¯ï¼ˆå°å±å¯¼èˆªã€ä¾§è¾¹æ æ”¶èµ·ã€é¡µç­¾/é¡µé¢åˆ‡æ¢ï¼‰è¡Œä¸ºç¨³å®šã€‚</p>
<p>é€‚é…è¦†ç›–äº†å¸¸è§æ–­ç‚¹ï¼Œé¡µé¢åœ¨æ‰‹æœºç«¯çš„æ˜“ç”¨æ€§å’Œå¯è¯»æ€§æœ‰æ˜æ˜¾æå‡ï¼Œé€‚åˆéœ€è¦åŒæ—¶å…¼é¡¾æ¡Œé¢ä¸ç§»åŠ¨ç®¡ç†åå°çš„é¡¹ç›®ã€‚</p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13e4cf8e70244938a17acfc8753a504d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5rqQ5pif55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785892&amp;x-signature=I68%2FX%2F4qhiIYYclQtFkWEEi6l3U%3D" alt="ç§»åŠ¨ç«¯æ•ˆæœ.png" loading="lazy"/></p>
<p>è¯¦ç»†ä»‹ç»è¯·å‚è€ƒæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design%2Fvue-pro%2Fdocs%2Fadvanced%2Fresponsive-adaptation-guide" target="_blank" title="https://opentiny.design/vue-pro/docs/advanced/responsive-adaptation-guide" ref="nofollow noopener noreferrer">TinyPro å“åº”å¼é€‚é…æŒ‡å—</a></p>
<h2 data-id="heading-2">3 å¢åŠ å¡ç‰‡åˆ—è¡¨é¡µé¢</h2>
<p>ä¹‹å‰åˆ—è¡¨é¡µä»…æä¾›å•ä¸€çš„æŸ¥è¯¢è¡¨æ ¼å½¢å¼ï¼ŒåŠŸèƒ½ç›¸å¯¹æœ‰é™ï¼Œéš¾ä»¥æ»¡è¶³æ—¥ç›Šå¤šæ ·åŒ–ã€å¤æ‚åŒ–çš„ä¸šåŠ¡éœ€æ±‚ã€‚ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒã€å¢å¼ºç³»ç»Ÿçš„çµæ´»æ€§ï¼Œæˆ‘ä»¬åœ¨åŸæœ‰åŸºç¡€ä¸Šæ–°å¢äº†ä¸€ä¸ªå¡ç‰‡åˆ—è¡¨é¡µé¢ï¼Œä»¥æ›´ç›´è§‚ã€çµæ´»çš„æ–¹å¼å±•ç¤ºæ•°æ®ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„ä½¿ç”¨éœ€æ±‚ã€‚</p>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design%2Fvue-pro%2Fpages%2Flist%2Fcard" target="_blank" title="https://opentiny.design/vue-pro/pages/list/card" ref="nofollow noopener noreferrer">opentiny.design/vue-pro/pagâ€¦</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16c758ee5fb44328854c01948cddd28e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5rqQ5pif55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785892&amp;x-signature=n54lwJ%2FTknSu8KRUgaHZvInk6%2FU%3D" alt="å¡ç‰‡åˆ—è¡¨.png" loading="lazy"/></p>
<h2 data-id="heading-3">4 å¢åŠ é«˜çº§è¡¨å•é¡µé¢</h2>
<p>è¡¨å•é¡µå¢åŠ äº†é«˜çº§è¡¨å•ï¼Œåœ¨æ™®é€šè¡¨å•åŸºç¡€ä¸Šå¢åŠ äº†è¡¨æ ¼æ•´è¡Œè¾“å…¥åŠŸèƒ½ã€‚</p>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design%2Fvue-pro%2Fpages%2Fform%2Fadvance" target="_blank" title="https://opentiny.design/vue-pro/pages/form/advance" ref="nofollow noopener noreferrer">opentiny.design/vue-pro/pagâ€¦</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a86fcc8f660d445f8ebf35e2e30d46a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5rqQ5pif55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768785892&amp;x-signature=k5nZiUnaHKyLRjNkFXzuNLBofQ8%3D" alt="é«˜çº§è¡¨å•.png" loading="lazy"/></p>
<h2 data-id="heading-4">5 æ”¯æŒå¤šè®¾å¤‡ç™»å½•</h2>
<p>ä¹‹å‰åªèƒ½åŒæ—¶ä¸€ä¸ªè®¾å¤‡ç™»å½•ï¼Œåé¢ç™»å½•çš„ç”¨æˆ·ä¼šâ€œæŒ¤â€æ‰å‰é¢ç™»å½•çš„ç”¨æˆ·ï¼Œæœ¬æ¬¡ç‰ˆæœ¬ä¸ºè´¦å·ç™»å½•å¼•å…¥è®¾å¤‡é™åˆ¶ï¼ˆDevice Limitï¼‰ç­–ç•¥ï¼Œå¯é™åˆ¶å•è´¦å·å¹¶å‘æ´»è·ƒè®¾å¤‡æ•°ï¼Œæœ‰åŠ©äºå‡å°‘æ»¥ç”¨å’Œæé«˜å®‰å…¨æ€§ï¼Œé€‚é…ä¼ä¸šå®‰å…¨åˆè§„éœ€æ±‚ã€‚</p>
<p>å¯é€šè¿‡ <code>nestJs/.env</code> ä¸­çš„ <code>DEVICE_LIMIT</code> è¿›è¡Œé…ç½®ã€‚</p>
<p>æ¯”å¦‚é…ç½®æœ€å¤š 2 äººç™»å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">DEVICE_LIMIT=2
</code></pre>
<p>å¦‚æœä¸æƒ³é™åˆ¶ç™»å½•è®¾å¤‡æ•°ï¼Œå¯ä»¥è®¾ç½®ä¸º -1ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">DEVICE_LIMIT=-1
</code></pre>
<h2 data-id="heading-5">6 æ¼”ç¤ºæ¨¡å¼</h2>
<p>ç”±äºé…ç½®äº† RejectRequestGuardï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ¥å£éƒ½åªèƒ½è¯»ï¼Œä¸èƒ½å†™ï¼Œæœ¬æ¬¡ç‰ˆæœ¬å¢åŠ äº†æ¼”ç¤ºæ¨¡å¼ï¼ˆPREVIEW_MODEï¼‰ï¼Œè¦ä¿®æ”¹ NestJS åç«¯ä»£ç æ‰èƒ½æ”¹æˆå¯å†™çš„æ¨¡å¼ï¼ˆ<code>nestJs/src/app.module.ts</code>ï¼‰ã€‚</p>
<p>æœ¬æ¬¡ç‰ˆæœ¬å¢åŠ äº†æ¼”ç¤ºæ¨¡å¼çš„é…ç½®ï¼Œå¯é€šè¿‡ <code>nestJs/.env</code> ä¸­çš„ <code>PREVIEW_MODE</code> è¿›è¡Œé…ç½®ã€‚</p>
<p><code>PREVIEW_MODE</code> é»˜è®¤ä¸º true, ä¼šæ‹’ç»æ‰€æœ‰çš„å¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤æ“ä½œï¼Œè®¾ç½®ä¸º falseï¼Œåˆ™å˜æˆå¯å†™æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">PREVIEW_MODE=<span class="hljs-literal">false</span>
</code></pre>
<h2 data-id="heading-6">7 Redis å¼•å…¥åº”ç”¨å®‰è£…é”ï¼ˆredis app install lockï¼‰</h2>
<p>ä¸»è¦ç”¨äºé¿å…é‡å¤å®‰è£…æˆ–åˆå§‹åŒ–æ—¶çš„ç«æ€é—®é¢˜ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œ NestJS åç«¯ï¼Œä¼šç”Ÿæˆ Redis é”ï¼Œåç»­é‡æ–°è¿è¡Œ NestJS åç«¯ï¼Œä¸ä¼šå†æ›´æ–° MySQL æ•°æ®åº“çš„æ•°æ®ã€‚</p>
<p>å¦‚æœä½ ä¿®æ”¹äº†é»˜è®¤çš„èœå•é…ç½®ï¼ˆ<code>nestJs/src/menu/init/menuData.ts</code>ï¼‰æˆ–è€…å›½é™…åŒ–è¯æ¡ï¼ˆ<code>nestJs/locales.json</code>ï¼‰ï¼Œå¸Œæœ›é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ï¼Œå¯ä»¥åœ¨å¼€å‘æœºå™¨ Redis ä¸­è¿è¡Œ <code>FLUSHDB</code> è¿›è¡Œè§£é”ï¼Œè¿™æ ·é‡æ–°è¿è¡Œ NestJS åç«¯æ—¶ï¼Œä¼šé‡æ–°åˆå§‹åŒ– MySQL æ•°æ®åº“çš„æ•°æ®ã€‚</p>
<p>æ›´å¤šæ›´æ–°ï¼Œè¯·å‚è€ƒ Release Notesï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-pro%2Freleases%2Ftag%2Fv1.4.0" target="_blank" title="https://github.com/opentiny/tiny-pro/releases/tag/v1.4.0" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a></p>
<h2 data-id="heading-7">8 ç¤¾åŒºè´¡çŒ®</h2>
<p>æ„Ÿè°¢æ‰€æœ‰ä¸º v1.4.0 åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼ä½ ä»¬çš„è¾›å‹¤ä»˜å‡ºè®© TinyPro å˜å¾—æ›´å¥½ï¼</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGaoNeng-wWw" target="_blank" title="https://github.com/GaoNeng-wWw" ref="nofollow noopener noreferrer">GaoNeng-wWw</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhaoxiaofeng876" target="_blank" title="https://github.com/zhaoxiaofeng876" ref="nofollow noopener noreferrer">zhaoxiaofeng876</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FWangWant7" target="_blank" title="https://github.com/WangWant7" ref="nofollow noopener noreferrer">WangWant7</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzzl12222" target="_blank" title="https://github.com/zzl12222" ref="nofollow noopener noreferrer">zzl12222</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdiscreted66" target="_blank" title="https://github.com/discreted66" ref="nofollow noopener noreferrer">discreted66</a></li>
</ul>
<blockquote>
<p>æ³¨ï¼šæ’åä¸åˆ†å…ˆåï¼ŒæŒ‰åå­—é¦–å­—æ¯æ’åºã€‚</p>
</blockquote>
<p>å¦‚æœä½ æœ‰ä»»ä½•å»ºè®®æˆ–åé¦ˆï¼Œæ¬¢è¿é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-pro%2Fissues" target="_blank" title="https://github.com/opentiny/tiny-pro/issues" ref="nofollow noopener noreferrer">GitHub Issues</a> ä¸æˆ‘ä»¬è”ç³»ï¼Œä¹Ÿæ¬¢è¿ä½ ä¸€èµ·å‚ä¸ TinyPro è´¡çŒ®ã€‚</p>
<h2 data-id="heading-8">å¾€æœŸæ¨èæ–‡ç« </h2>
<ul>
<li><a href="https://juejin.cn/post/7492355312101015592" target="_blank" title="https://juejin.cn/post/7492355312101015592">ğŸ‰TinyPro v1.2.0 æ­£å¼å‘å¸ƒï¼Œè¶ç€ TinyPro é¡¹ç›®åˆšåˆ›å»ºä¸ä¹…ï¼Œå¿«æ¥å‚ä¸è´¡çŒ®å§ï¼</a></li>
<li><a href="https://juejin.cn/post/7489638329052430355" target="_blank" title="https://juejin.cn/post/7489638329052430355">TinyPro åå°ç®¡ç†ç³»ç»Ÿä»å¯åŠ¨ â¡ï¸ ä½¿ç”¨ â¡ï¸ äºŒå¼€ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼ç‚¹èµã€æ”¶è—â­ï¼Œä¸è¿·è·¯ï¼</a></li>
<li><a href="https://juejin.cn/post/7441231659394433039" target="_blank" title="https://juejin.cn/post/7441231659394433039">ğŸ’¥TinyPro Vue v1.1.0 æ­£å¼å‘å¸ƒï¼šå¢åŠ ç»†ç²’åº¦æƒé™ç®¡ç†ã€é¡µç­¾æ¨¡å¼ã€å¤šçº§èœå•ï¼Œæ”¯æŒ Webpack/Vite/Rspack/Farm å¤šç§æ„å»ºå·¥å…·</a></li>
</ul>
<h2 data-id="heading-9">è”ç³»æˆ‘ä»¬</h2>
<p>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-pro" target="_blank" title="https://github.com/opentiny/tiny-pro" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a>ï¼ˆæ¬¢è¿ Star â­ï¼‰</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-pro" target="_blank" title="https://opentiny.github.io/tiny-pro" ref="nofollow noopener noreferrer">opentiny.github.io/tiny-pro</a></p>
<p>ä¸ªäººåšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkagol.github.io%2Fblogs%2F" target="_blank" title="https://kagol.github.io/blogs/" ref="nofollow noopener noreferrer">kagol.github.io/blogs/</a></p>
<p>å°åŠ©æ‰‹å¾®ä¿¡ï¼šopentiny-official</p>
<p>å…¬ä¼—å·ï¼šOpenTiny</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€HarmonyOSåº”ç”¨å¼€å‘ã€‘é¸¿è’™ç¢°ä¸€ç¢°åˆ†äº«å¼€å‘æºç å’Œæµç¨‹è®²è§£]]></title>    <link>https://juejin.cn/post/7593362940072050740</link>    <guid>https://juejin.cn/post/7593362940072050740</guid>    <pubDate>2026-01-12T01:30:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593362940072050740" data-draft-id="7593573617647943732" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€HarmonyOSåº”ç”¨å¼€å‘ã€‘é¸¿è’™ç¢°ä¸€ç¢°åˆ†äº«å¼€å‘æºç å’Œæµç¨‹è®²è§£"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2026-01-12T01:30:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GeorgePanda"/> <meta itemprop="url" content="https://juejin.cn/user/1239904847930654"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€HarmonyOSåº”ç”¨å¼€å‘ã€‘é¸¿è’™ç¢°ä¸€ç¢°åˆ†äº«å¼€å‘æºç å’Œæµç¨‹è®²è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904847930654/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GeorgePanda
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:30:15.000Z" title="Mon Jan 12 2026 01:30:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€HarmonyOSåº”ç”¨å¼€å‘ã€‘é¸¿è’™ç¢°ä¸€ç¢°åˆ†äº«å¼€å‘æºç å’Œæµç¨‹è®²è§£</h2>
<h2 data-id="heading-1">ä¸€ã€æ¦‚è¿°</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1316d396f674fcfbf1cbe02503f1d8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2VvcmdlUGFuZGE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768786215&amp;x-signature=OkDA2FaNpYdXMCZWB2PunnzB2mA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>é¸¿è’™ä¸­çš„ç¢°ä¸€ç¢°åˆ†äº«æ˜¯ç³»ç»Ÿçš„ç‰¹è‰²æ“ä½œã€‚å¾ˆå¤šå¼€å‘è€…éƒ½å¯¹è¿™ä¸ªé…·ç‚«çš„æ•ˆæœéå¸¸æ„Ÿå…´è¶£ã€‚ä¸è¿‡åœ¨æ¥å…¥è¯¥åŠŸèƒ½ä¹‹å‰ï¼Œä¸‹æ„è¯†çš„å°±ä¼šè§‰å¾—å¾ˆå¤æ‚ã€‚å…¶å®HarmonyOSå·²ç»å¯¹ç¢°ä¸€ç¢°åˆ†äº«çš„æ¥å£åšäº†éå¸¸é«˜çš„å°è£…ï¼Œå¼€å‘è€…åœ¨è°ƒç”¨å®ç°è¯¥æ•ˆæœæ—¶ï¼Œå·¥ä½œé‡å¾ˆå°ã€‚</p>
<p>å¹¶ä¸”å°±ç®—æ²¡æ¥å…¥ç¢°ä¸€ç¢°åˆ†äº«ï¼Œå°†ä¸¤å°æ‰‹æœºé¡¶éƒ¨è¿›è¡Œé è¿‘ï¼Œä¹Ÿä¼šè§¦å‘ç¢°ä¸€ç¢°åˆ†äº«åŠŸèƒ½ï¼Œåªä¸è¿‡ä¼šæç¤ºæ— åˆ†äº«å†…å®¹ã€‚å‰ææ˜¯éƒ½å¼€å¯äº†NFCï¼Œå…¶å®åº•å±‚æ˜¯é€šè¿‡NFCè¿›è¡Œé€šä¿¡ã€‚</p>
<p><strong>ç¢°ä¸€ç¢°çš„æ¥å£æ•´ä½“å°±åˆ†ä¸ºä¸‰ä¸ªï¼š</strong>
ï¼ˆ1ï¼‰ç›‘å¬ç¢°ä¸€ç¢°harmonyShare.on('knockShare', this.onKnockShare)
ï¼ˆ2ï¼‰å–æ¶ˆç›‘å¬ç¢°ä¸€ç¢°harmonyShare.off('knockShare', this.onKnockShare)
ï¼ˆ3ï¼‰æœ€åæœ€é‡è¦çš„æ˜¯ï¼Œæ”¶åˆ°ç¢°ä¸€ç¢°å›è°ƒåï¼Œå¤„ç†è¦åˆ†äº«çš„ä¿¡æ¯ï¼Œè°ƒç”¨ç¢°ä¸€ç¢°åˆ†äº«å‘é€æ¥å£ã€‚onKnockShareå›è°ƒå‡½æ•°ä¸­çš„shareDataåˆ†äº«åŒ…å’Œè°ƒç”¨shareæ¥å£ã€‚</p>
<p>å½“ç›‘å¬äº†ç¢°ä¸€ç¢°åˆ†äº«ï¼Œä¸¤ä¸ªæ‰‹æœºè¿›è¡Œç¢°ä¸€ç¢°æ“ä½œæ—¶ï¼Œå°±å¯ä»¥æ”¶åˆ°è¯¥æ“ä½œçš„æ—¶æœºï¼Œæ­¤æ—¶åœ¨åˆ†äº«å›è°ƒä¸­ï¼Œå¯ä»¥æ ¹æ®åˆ†äº«å®shareDataçš„å‚æ•°ä¿¡æ¯ï¼Œè¿›è¡Œé…ç½®ï¼Œæ¯”å¦‚åˆ†äº«å›¾ç‰‡ï¼Œè¿˜æ˜¯è§†é¢‘ï¼Œè¿˜æ˜¯é“¾æ¥ç­‰ç­‰ã€‚shareDataä¸­çš„å‚æ•°éå¸¸å¤šï¼Œå¯ä»¥å®ç°ä¸åŒçš„åˆ†äº«æ•ˆæœå’Œå±•ç¤ºæ ·å¼ï¼Œå…·ä½“å‚è€ƒæ–‡æœ«çš„é“¾æ¥ã€‚</p>
<p>å½“ä¸éœ€è¦å¤„ç†åˆ†äº«æ—¶ï¼Œå…³é—­ç›‘å¬å³å¯ã€‚æ•´ä½“é€»è¾‘éå¸¸ç®€å•ã€‚</p>
<h2 data-id="heading-2">äºŒã€ä»£ç å®ç°å’Œè¯¦ç»†è§£é‡Š</h2>
<p><strong>æ ¸å¿ƒå·¥å…·ç±»HarmonyShareMgrï¼Œç¢°ä¸€ç¢°å›¾ç‰‡åˆ†äº«ä¸¾ä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { harmonyShare, systemShare } <span class="hljs-keyword">from</span> <span class="hljs-string">"@kit.ShareKit"</span>;
<span class="hljs-keyword">import</span> { uniformTypeDescriptor <span class="hljs-keyword">as</span> utd } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkData'</span>;
<span class="hljs-comment">/**
 * é¸¿è’™ç³»ç»Ÿåˆ†äº«å·¥å…·ç±»
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HarmonyShareMgr</span>{

  <span class="hljs-keyword">private</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"HarmonyShareMgr"</span>;

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-attr">mHarmonyShareMgr</span>: <span class="hljs-title class_">HarmonyShareMgr</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title class_">Ins</span>(){
    <span class="hljs-keyword">if</span>(!<span class="hljs-title class_">HarmonyShareMgr</span>.<span class="hljs-property">mHarmonyShareMgr</span>){
      <span class="hljs-title class_">HarmonyShareMgr</span>.<span class="hljs-property">mHarmonyShareMgr</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HarmonyShareMgr</span>();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">HarmonyShareMgr</span>.<span class="hljs-property">mHarmonyShareMgr</span>;
  }

  <span class="hljs-comment">// åˆ†äº«å›¾ç‰‡Uri</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">mImageUri</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;
  <span class="hljs-comment">// åˆ†äº«ç±»å‹</span>
  <span class="hljs-keyword">private</span> <span class="hljs-attr">mShareType</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>;

  <span class="hljs-comment">/**
   * è®¾ç½®å›¾ç‰‡åˆ†äº«ä¿¡æ¯åŒ…
   */</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">setImageShareData</span>(<span class="hljs-params">imageUri: <span class="hljs-built_in">string</span></span>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mImageUri</span> = imageUri;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mShareType</span> = utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">JPEG</span>;
  }

  <span class="hljs-comment">/**
   * æ”¶åˆ°ç¢°ä¸€ç¢°åˆ†äº«å›è°ƒ
   */</span>
  <span class="hljs-keyword">private</span> onKnockShare = <span class="hljs-function">(<span class="hljs-params">shareTarget: harmonyShare.SharableTarget</span>)=&gt;</span>{
    <span class="hljs-comment">// æ‰“åŒ…</span>
    <span class="hljs-keyword">const</span> shareData = <span class="hljs-keyword">new</span> systemShare.<span class="hljs-title class_">SharedData</span>({
      <span class="hljs-attr">utd</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">mShareType</span>,
      <span class="hljs-attr">uri</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">mImageUri</span>,
    });

    <span class="hljs-comment">// å‘é€åˆ†äº«åŒ…</span>
    shareTarget.<span class="hljs-title function_">share</span>(shareData);
  }

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">registerKnock</span>(<span class="hljs-params"/>){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">" registerKnock"</span>);
    harmonyShare.<span class="hljs-title function_">on</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKnockShare</span>);
  }

  <span class="hljs-keyword">public</span> <span class="hljs-title function_">unRegisterKnock</span>(<span class="hljs-params"/>){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">" unRegisterKnock"</span>);
    harmonyShare.<span class="hljs-title function_">off</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">onKnockShare</span>);
  }
}

</code></pre>
<p><strong>æµ‹è¯•é¡µé¢å†…è°ƒç”¨ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { photoAccessHelper } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.MediaLibraryKit'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BusinessError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HarmonyShareMgr</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../mgr/HarmonyShareMgr'</span>;

<span class="hljs-comment">/**
 * é¸¿è’™åˆ†äº«æµ‹è¯•é¡µé¢
 */</span>
<span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">HarmonyShareTestPage</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">TAG</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"AlbumSelectPage"</span>;

  <span class="hljs-title function_">onPageShow</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-comment">// å½“å‰ç•Œé¢æ˜¾ç¤ºæ—¶ï¼Œè¿›è¡Œç¢°ä¸€ç¢°ç›‘å¬</span>
    <span class="hljs-title class_">HarmonyShareMgr</span>.<span class="hljs-title class_">Ins</span>().<span class="hljs-title function_">registerKnock</span>();
  }

  <span class="hljs-title function_">onPageHide</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-title class_">HarmonyShareMgr</span>.<span class="hljs-title class_">Ins</span>().<span class="hljs-title function_">unRegisterKnock</span>();
  }

  onClickSelectPhoto = <span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">let</span> <span class="hljs-title class_">PhotoSelectOptions</span> = <span class="hljs-keyword">new</span> photoAccessHelper.<span class="hljs-title class_">PhotoSelectOptions</span>();
      <span class="hljs-comment">// è®¾ç½®ç­›é€‰è¿‡æ»¤æ¡ä»¶</span>
      <span class="hljs-title class_">PhotoSelectOptions</span>.<span class="hljs-property">MIMEType</span> = photoAccessHelper.<span class="hljs-property">PhotoViewMIMETypes</span>.<span class="hljs-property">IMAGE_TYPE</span>;
      <span class="hljs-comment">// é€‰æ‹©ç”¨æˆ·é€‰æ‹©æ•°é‡</span>
      <span class="hljs-title class_">PhotoSelectOptions</span>.<span class="hljs-property">maxSelectNumber</span> = <span class="hljs-number">1</span>;
      <span class="hljs-comment">// å®ä¾‹åŒ–å›¾ç‰‡é€‰æ‹©å™¨</span>
      <span class="hljs-keyword">let</span> photoPicker = <span class="hljs-keyword">new</span> photoAccessHelper.<span class="hljs-title class_">PhotoViewPicker</span>();
      <span class="hljs-comment">// å”¤èµ·å®‰å…¨ç›¸å†Œç»„ä»¶</span>
      photoPicker.<span class="hljs-title function_">select</span>(<span class="hljs-title class_">PhotoSelectOptions</span>, <span class="hljs-function">(<span class="hljs-params">err: BusinessError, PhotoSelectResult: photoAccessHelper.PhotoSelectResult</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (err) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">"onClickSelectPhoto photoPicker.select error:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
          <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-comment">// ç”¨æˆ·é€‰æ‹©ç¡®è®¤åï¼Œä¼šå›è°ƒåˆ°è¿™é‡Œã€‚</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">"onClickSelectPhoto photoPicker.select successfully:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title class_">PhotoSelectResult</span>));
        <span class="hljs-comment">// è°ƒç”¨ç¢°ä¸€ç¢°åˆ†äº«çš„å›¾ç‰‡åˆ†äº«èµ‹å€¼</span>
        <span class="hljs-title class_">HarmonyShareMgr</span>.<span class="hljs-title class_">Ins</span>().<span class="hljs-title function_">setImageShareData</span>(<span class="hljs-title class_">PhotoSelectResult</span>.<span class="hljs-property">photoUris</span>[<span class="hljs-number">0</span>]);
      });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">let</span> <span class="hljs-attr">err</span>: <span class="hljs-title class_">BusinessError</span> = error <span class="hljs-keyword">as</span> <span class="hljs-title class_">BusinessError</span>;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">TAG</span>, <span class="hljs-string">"onClickSelectPhoto photoPicker.select catch failed:"</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(err));
    }
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Row</span>(){
      <span class="hljs-title class_">Button</span>(<span class="hljs-string">'ç‚¹å‡»å”¤èµ·ç›¸å†Œé€‰æ‹©'</span>)
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">onClickSelectPhoto</span>)
    }
    .<span class="hljs-title function_">justifyContent</span>(<span class="hljs-title class_">FlexAlign</span>.<span class="hljs-property">Center</span>)
    .<span class="hljs-title function_">size</span>({
      <span class="hljs-attr">width</span>: <span class="hljs-string">"100%"</span>,
      <span class="hljs-attr">height</span>: <span class="hljs-string">"100%"</span>
    })
  }

}
</code></pre>
<h2 data-id="heading-3">ä¸‰ã€å¼•ç”¨èµ„æ–™åœ°å€</h2>
<p>ShareKitå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fshare-introduction" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/share-introduction" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p>
<p>å†…å®¹åˆ†äº«ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fknock-share-between-phones-content" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/knock-share-between-phones-content" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p>
<p>åˆ†äº«ä¿¡æ¯åŒ…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-references%2Fshare-system-share%23section816451553012" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-references/share-system-share#section816451553012" ref="nofollow noopener noreferrer">developer.huawei.com/consumer/cnâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ™®é€šå‰ç«¯ä»”çš„ 2025 : å¹´ç»ˆæ€»ç»“ä¸ AI å¯¹æˆ‘çš„å½±å“]]></title>    <link>https://juejin.cn/post/7593943464053030922</link>    <guid>https://juejin.cn/post/7593943464053030922</guid>    <pubDate>2026-01-12T01:30:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593943464053030922" data-draft-id="7593177437082386483" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ™®é€šå‰ç«¯ä»”çš„ 2025 : å¹´ç»ˆæ€»ç»“ä¸ AI å¯¹æˆ‘çš„å½±å“"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-12T01:30:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç å°å­¦åƒ§"/> <meta itemprop="url" content="https://juejin.cn/user/255519436842030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ™®é€šå‰ç«¯ä»”çš„ 2025 : å¹´ç»ˆæ€»ç»“ä¸ AI å¯¹æˆ‘çš„å½±å“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/255519436842030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç å°å­¦åƒ§
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:30:11.000Z" title="Mon Jan 12 2026 01:30:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>2025 å¹´å·²ç»è¿‡å»ï¼Œæ—¶é—´æ»šæ»šå‘å‰ã€‚ææƒšé—´ï¼Œä»¿ä½›ä¸Šä¸€æ¬¡è¿‡å¹´è¿˜åœ¨ä¸ä¹…ä¹‹å‰ï¼Œè½¬çœ¼ä¸€å¹´å´å·²èµ°åˆ°å°¾å£°ã€‚å€Ÿç€æ˜é‡‘è¿™æ¬¡  <a href="https://juejin.cn/post/7587675443442450472?utm_source=push&amp;utm_medium=web&amp;utm_campaign=Vibe%20Coding2025" target="_blank" title="https://juejin.cn/post/7587675443442450472?utm_source=push&amp;utm_medium=web&amp;utm_campaign=Vibe%20Coding2025"># ğŸ†2025 AI / Vibe Coding å¯¹æˆ‘çš„å½±å“ï½œå¹´ç»ˆå¾æ–‡</a> æ´»åŠ¨çš„æœºä¼šï¼Œæˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹è‡ªå·±çš„å¹´ç»ˆæ€»ç»“ï¼Œå¹¶èŠä¸€èŠ 2025 å¹´ AI åœ¨å·¥ä½œä¸å­¦ä¹ ä¸­å¯¹æˆ‘çš„å®é™…å¸®åŠ©ã€‚</p>
<h2 data-id="heading-1">å¼€å§‹åšæŒå†™æ–‡ç« åˆ†äº«</h2>
<p>åœ¨ä»Šå¹´å¹´åˆï¼Œæˆ‘å’Œè€å©†å®Œæˆäº†è®¢å©šï¼Œå¹´ä¸­æ­£å¼é¢†å–äº†ç»“å©šè¯ğŸ’—ã€‚æˆ‘çš„è‚©ä¸Šå¤šäº†ä¸€ä»½å¯¹å®¶åº­çš„è´£ä»»ï¼Œä¹Ÿå¼€å§‹ä¸€èµ·è§„åˆ’æœªæ¥çš„ç”Ÿæ´»ï¼Œåšå®šäº†ä¸€ä¸ªç›®æ ‡ï¼šä¸€å®šè¦å¤šèµšä¸€äº›é’±ï¼Œæ‰èƒ½æ›´æœ‰åº•æ°”åœ°ç”Ÿæ´»ã€‚</p>
<p>åæ¥æˆ‘æƒ³åˆ°ï¼Œä¹‹å‰æ›¾çœ‹åˆ°æœ‰äººæåˆ°åœ¨æŠ€æœ¯ç¤¾åŒºæŒç»­å†™æ–‡ç« ï¼Œæœ‰æœºä¼šæ¥åˆ°å¤–åŒ…æˆ–ç§æ´»ã€‚äºæ˜¯ï¼Œæˆ‘å†³å®šåœ¨è‡ªå·±æœ€å¸¸é€›çš„æŠ€æœ¯ç¤¾åŒºâ€”â€”æ˜é‡‘ï¼Œå¼€å§‹å‘å¸ƒä¸€äº›åŸåˆ›æŠ€æœ¯æ–‡ç« ã€‚</p>
<p>æœ€æ—©æ˜¯åœ¨ 2024 å¹´ 12 æœˆåº•ï¼Œå› ä¸ºå·¥ä½œé˜¶æ®µæ€§éœ€æ±‚ä¸å¤§ï¼Œæœ‰äº†ä¸€äº›ç©ºé—²æ—¶é—´ï¼Œæˆ‘ä¾¿å¼€å§‹åŠ¨ç¬”ã€‚ä½†ç°å®å¾ˆå¿«ç»™äº†æˆ‘åé¦ˆï¼šæ–‡ç« å†™å®Œåå‡ ä¹æ²¡äººçœ‹ã€‚å…¶å®è¿™ä¹Ÿå¾ˆæ­£å¸¸ï¼Œå°±åƒåˆšå¼€å§‹åšè‡ªåª’ä½“éœ€è¦â€œèµ·å·â€ä¸€æ ·ï¼Œä¸€ä¸ªæ–°è´¦å·å‘å¸ƒçš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼ŒåŸºæœ¬ä¸ä¼šæœ‰å¤ªå¤šæ›å…‰ã€‚</p>
<p>åæ¥ï¼Œå¥½æœ‹å‹éŸ¬å“¥æé†’æˆ‘ï¼Œæ–‡ç« å®¡æ ¸é€šè¿‡åå¯ä»¥è®©æœ‹å‹å¸®å¿™ç‚¹ç‚¹èµï¼Œæ–°æ–‡ç« æœ‰æœºä¼šè¿›å…¥å‘¨æ¦œï¼Œä»è€Œè·å¾—æ›´å¤šæ›å…‰ã€‚è¿™é‡Œä¹Ÿè¦æ„Ÿè°¢æˆ‘è€å©†ä»¥åŠå‡ ä½æœ‹å‹ï¼Œå¯¹æˆ‘å†™ä½œçš„æ”¯æŒä¸é¼“åŠ±å’Œå»ºè®®ã€‚ä¸‡åˆ†æ„Ÿè°¢ğŸ™</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä¸æ–­åœ°å†™ã€‚ç›´åˆ°æœ‰ä¸€ç¯‡  <a href="https://juejin.cn/post/7480183580120055819" target="_blank" title="https://juejin.cn/post/7480183580120055819"># å‰ç«¯å¼€å‘åˆå¹¸ç¦äº†ï¼ŒCursor + Figma MCP å¿«é€Ÿè¿˜åŸè®¾è®¡ç¨¿</a>  æ„å¤–ç«äº†ï¼Œä¸ä»…é˜…è¯»é‡æ˜æ˜¾ä¸Šæ¶¨ï¼Œè¿˜è¢«æ˜é‡‘å…¬ä¼—å·è½¬å‘ã€‚äº‹å®ä¸Šï¼Œè¿™ç¯‡æ–‡ç« åè€Œæ˜¯æˆ‘å†™å¾—æœ€éšæ„ã€è€—æ—¶æœ€çŸ­çš„ä¸€ç¯‡ï¼Œå¯èƒ½æ­£å¥½è¸©ä¸­äº† MCP çš„çƒ­ç‚¹ã€‚å½“æ—¶ MCP åˆšå‡ºç°ä¸ä¹…ï¼Œé‚£æ®µæ—¶é—´æˆ‘ç¡®å®éå¸¸å¼€å¿ƒã€‚</p>
<p>æˆ–è®¸æ˜¯å› ä¸ºå¥½å¥‡å¿ƒæ¯”è¾ƒå¼ºâ€”â€”è¯´å¾—ç›´ç™½ä¸€ç‚¹ï¼Œå…¶å®ä¹Ÿæ˜¯æƒ³â€œå·æ‡’â€â€”â€”æˆ‘ä¸€ç›´å¾ˆæ„¿æ„å°è¯•æ–°äº‹ç‰©ğŸ˜‚ï¼Œæ‰€ä»¥ç¬¬ä¸€æ—¶é—´ä½“éªŒäº† MCPï¼Œç¡®å®è®©äººçœ¼å‰ä¸€äº®ã€‚éšåæˆ‘ä¾¿è¿«ä¸åŠå¾…åœ°æƒ³æŠŠè¿™äº›ä½“éªŒåˆ†äº«å‡ºæ¥ï¼Œæ‹…å¿ƒåŒäº‹åœ¨å®é™…ä½¿ç”¨ä¸­è¸©å‘ï¼Œä¾¿å†™ä¸‹äº†è¿™ç¯‡æ–‡ç« ï¼Œæƒ³ç€å®¡æ ¸é€šè¿‡åå¯ä»¥ç›´æ¥è½¬å‘ç»™åŒäº‹å‚è€ƒå®è·µã€‚åé¢å…³äº AI çš„ç›¸å…³å†…å®¹ï¼Œæˆ‘ä¹Ÿä¼šç»§ç»­æ·±å…¥ï¼Œå…·ä½“èŠä¸€èŠ AI åœ¨å·¥ä½œæ–¹å¼å’Œå·¥ä½œå†…å®¹ä¸Šå¸¦æ¥çš„æ”¹å˜ã€‚</p>
<p>æˆ‘åœ¨å†™æ–‡ç« çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šé€‚å½“å€ŸåŠ©ä¸€äº› AI è¾…åŠ©ã€‚æ¯•ç«Ÿæˆ‘çš„æ–‡ç¬”å¹¶ä¸ç®—å¥½ï¼Œå®¹æ˜“åå£è¯­åŒ–ï¼Œè‡ªå·±å†™å®Œå†è¯»ä¸€éæ—¶ï¼Œå¸¸å¸¸éƒ½æœ‰äº›è¯»ä¸ä¸‹å»ï¼Œå› æ­¤æˆ‘é€šå¸¸ä¼šè®© AI å¸®æˆ‘ä¼˜åŒ–ä¸€ä¸‹æ–‡æ¡ˆè¡¨è¾¾ã€‚åœ¨è¿™é‡Œä¹Ÿç¡®å®è¦æ„Ÿè°¢â€œAI è€å¸ˆâ€ï¼Œåœ¨å†™ä½œæ•ˆç‡å’Œå¯è¯»æ€§ä¸Šç»™äº†æˆ‘å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>
<p>ä½†ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä¹Ÿéå¸¸æ’æ–¥â€œAI å‘³â€è¿‡é‡çš„æ–‡ç« ã€‚æ˜é‡‘ä¸Šæœ‰äº›ä¸Šå‘¨æ¦œçš„å†…å®¹ï¼Œæˆ‘å‡ ä¹ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ˜¯ AI ç”Ÿæˆçš„ã€‚æˆ–è®¸ç°åœ¨è¿˜èƒ½åˆ†è¾¨ï¼Œå†è¿‡ä¸¤å¹´å°±æœªå¿…äº†ã€‚æˆ‘è®°å¾—æœ‰ä¸€æ¬¡åˆ·åˆ°ä¸€ç¯‡è®²â€œ2025 å¹´ JavaScript æ–°è¯­æ³•ç³–â€çš„æ–‡ç« ï¼Œé€šç¯‡éƒ½æ˜¯ AI èƒ¡ç¼–ä¹±é€ çš„å†…å®¹ï¼Œä½œè€…æ—¢æ²¡æœ‰è‡ªè¡ŒéªŒè¯ï¼Œä¹Ÿæ²¡æœ‰æ ‡æ³¨ AI ç”Ÿæˆï¼Œå°±è¿™æ ·ç›´æ¥å‘å¸ƒå‡ºæ¥ã€‚è¿™ç§è¡Œä¸ºåœ¨æˆ‘çœ‹æ¥å®Œå…¨æ˜¯åœ¨è¯¯å¯¼æ–°äººï¼Œæƒ³åˆ°è¿™é‡Œå°±ä¼šæ„Ÿåˆ°éå¸¸ç”Ÿæ°”ã€‚</p>
<p>æˆ‘å§‹ç»ˆè®¤ä¸ºï¼Œæ¯ä¸ªäººéƒ½åº”è¯¥å¯¹è‡ªå·±åˆ†äº«çš„çŸ¥è¯†è´Ÿè´£ã€‚å› æ­¤ï¼Œæˆ‘å†™çš„æ–‡ç« å°½é‡éƒ½æ˜¯çœŸäººæ€è€ƒã€çœŸäººå®è·µå¾—å‡ºçš„å†…å®¹ï¼Œåªæ˜¯å€ŸåŠ© AI åšä¸€äº›æ–‡å­—å±‚é¢çš„æ¶¦è‰²ï¼Œè€Œä¸æ˜¯è®©å®ƒæ›¿æˆ‘â€œåˆ›ä½œè§‚ç‚¹â€ã€‚</p>
<p>éšç€ AI èƒ½åŠ›ä¸æ–­å¢å¼ºï¼Œä¸€äº›å¸¸è§ã€é›¶æ•£çš„ç¼–ç¨‹é—®é¢˜å…¶å®å·²ç»ä¸å¤ªå€¼å¾—å•ç‹¬åˆ†äº«äº†ï¼Œæ¯”å¦‚ JavaScript æ—¶é—´å¤„ç†ä¸­çš„å„ç§å‘ï¼ŒAI çš„å›ç­”å¾€å¾€å·²ç»è¶³å¤Ÿå‡†ç¡®å’Œå…¨é¢ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œæ›´æœ‰ä»·å€¼çš„å†…å®¹ï¼Œåè€Œæ˜¯ç³»ç»ŸåŒ–ã€ä½“ç³»åŒ–çš„å®è·µæµç¨‹ä¸æ€è€ƒæ€»ç»“ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä¹‹åæ›´å¸Œæœ›æŒç»­è¾“å‡ºçš„æ–¹å‘ã€‚</p>
<h2 data-id="heading-2">è·³æ§½</h2>
<p>å¦ä¸€æ–¹é¢ï¼Œä¹Ÿæ˜¯æƒ³å¤šèµšä¸€äº›é’±ã€‚æˆå®¶ä¹‹å‰ï¼Œæˆ‘çš„å·¥èµ„å…»æ´»è‡ªå·±ç»°ç»°æœ‰ä½™ï¼Œä½†æˆå®¶ä¹‹åï¼Œç°å®é—®é¢˜å°±å˜å¾—å…·ä½“èµ·æ¥ï¼šæœªæ¥å¦‚æœæœ‰å­©å­ã€è¿˜æ²¡æœ‰ä¹°æˆ¿ï¼Œè¿™äº›éƒ½éœ€è¦æ›´å¼ºçš„ç»æµæ”¯æ’‘ã€‚æˆ‘ä¹Ÿå¾ˆæ¸…æ¥šï¼Œåœ¨ä¸­å›½å¤§éƒ¨åˆ†ç¨‹åºå‘˜çš„èŒä¸šç”Ÿå‘½å‘¨æœŸå¤§æ¦‚ç‡åªæœ‰åå‡ å¹´ï¼Œåˆ°äº†å¹´é¾„åå¤§æ—¶ï¼Œå¯èƒ½å°±éœ€è¦è€ƒè™‘è½¬å‹ã€‚2025 å¹´ï¼Œæ˜¯æˆ‘æ¯•ä¸šã€æ­£å¼è¿›å…¥ç¤¾ä¼šå·¥ä½œçš„ç¬¬ä¸‰å¹´ï¼Œå› æ­¤æˆ‘åšå‡ºäº†ä¸€ä¸ªå†³å®šâ€”â€”å‡†å¤‡è·³æ§½ã€‚</p>
<p>é©¬äº‘æ›¾è¯´è¿‡ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>è·³æ§½æ— å¤–ä¹ä¸¤ä¸ªåŸå› ï¼Œé’±ç»™å°‘äº†ï¼Œå¿ƒé‡Œå—å§”å±ˆäº†ã€‚</p>
</blockquote>
<p>è¿™ä¸¤ç‚¹ï¼Œæˆ‘å¯èƒ½éƒ½å äº†ã€‚åœ¨è¿™å®¶å…¬å¸å¹²äº†ä¸¤å¹´ï¼Œå¹´åˆæ—¶ï¼Œé¢†å¯¼ã€CTOï¼Œä»¥åŠå½“åˆé¢è¯•æˆ‘çš„å¸†å”ï¼Œæˆ–è®¸æ˜¯å‡ºäºç”Ÿæ´»å’Œå‰é€”çš„è€ƒè™‘ï¼Œé™†ç»­é€‰æ‹©äº†ç¦»å¼€ã€‚æ ¸å¿ƒäººç‰©èµ°åï¼Œå…¬å¸æ¢äº†æ–°çš„é¢†å¯¼ï¼Œä½†æˆ‘æ˜æ˜¾æ„Ÿè§‰åˆ°ä¸€ç§â€œæ­»æµ·æ•ˆåº”â€ã€‚æ„Ÿè§‰å¼€äº†å¾ˆå¤šæ²¡æœ‰å¿…è¦çš„ä¼šè®®ï¼ŒçœŸçš„åƒè¿‡å®¶å®¶ä¸€æ ·ï¼Œæˆ‘ä¹Ÿæ„Ÿè§‰åˆ°æ²¡æœ‰æ•ˆç‡æ— å¤´è‹è‡ä¸€æ ·ä¸œä¸€æ¦”å¤´è¥¿ä¸€æ£’çš„åšäº‹æƒ…ã€‚</p>
<blockquote>
<p>æ‰€è°“â€œæ­»æµ·æ•ˆåº”â€ï¼Œæ˜¯æŒ‡ç»„ç»‡ä¸­ä¼˜ç§€å‘˜å·¥ä¸æ–­æµå¤±ï¼Œå¦‚åŒæ­»æµ·æ°´åˆ†è’¸å‘ï¼Œå¯¼è‡´ä½è´¨é‡å‘˜å·¥æ¯”ä¾‹ä¸Šå‡ï¼Œä»è€Œå½±å“æ•´ä½“æ•ˆç‡å’Œä¼ä¸šå‘å±•ã€‚</p>
</blockquote>
<p>å…¶å®åœ¨æˆ‘ç¬¬ä¸€æ¬¡æå‡ºç¦»èŒæ—¶ï¼Œå…¬å¸ä¹Ÿç»™æˆ‘è°ƒäº†è–ªã€‚å½“æ—¶æˆ‘ä¸€åº¦ä»¥ä¸ºï¼Œè‡ªå·±å¯èƒ½ä¼šåœ¨è¿™é‡Œé•¿æœŸå¹²ä¸‹å»ã€‚ä½†åæ¥å‘ç”Ÿäº†ä¸€äº›ä¸å¤ªæ–¹ä¾¿ç»†è¯´çš„çŸ›ç›¾ï¼Œå¦‚ä»Šå›å¤´çœ‹ï¼Œæˆ‘ä¾ç„¶è®¤ä¸ºè‡ªå·±å¹¶æ²¡æœ‰åšé”™ã€‚æœ€ç»ˆï¼Œå‡ºäºèŒä¸šå‘å±•ä¸å‰é€”çš„è€ƒè™‘æˆ‘è¿˜æ˜¯é€‰æ‹©äº†ç¦»å¼€ã€‚</p>
<p>æˆ‘æ‚„æ‚„æäº¤äº†ç¦»èŒç”³è¯·ï¼Œåªæå‰å’Œä¸€ç›´åˆä½œçš„äº§å“åŒå­¦è¯´äº†ä¸€å£°ã€‚è¯´å®è¯ï¼Œæˆ‘ä»¬ç»„çš„äº§å“åœ¨æˆ‘çœ‹æ¥æ˜¯éå¸¸æœ‰èƒ½åŠ›çš„äººæ‰ã€‚ç›´åˆ°æˆ‘ç¦»èŒçš„æœ€åä¸€å¤©ï¼Œå¾ˆå¤šåŒäº‹çœ‹åˆ°æˆ‘çš„ç­¾åç•™è¨€(<code>ç›¸é‡æ˜¯ç¼˜ï¼Œç¥å¤§å®¶è¶Šæ¥è¶Šå¥½</code>)ï¼Œæ‰æ„è¯†åˆ°æˆ‘è¦èµ°äº†ã€‚é‚£å¤©æœ‰åå‡ ä½åŒäº‹å’Œæˆ‘é“åˆ«ï¼Œè®©æˆ‘éå¸¸æ„ŸåŠ¨ã€‚ç›´åˆ°ç°åœ¨ï¼Œæˆ‘ä¹Ÿè¿˜ä¼šå’Œå‰åŒäº‹ä»¬æ—¶ä¸æ—¶åœ¨å¾®ä¿¡ä¸ŠèŠèŠå¤©ï¼ŒèŠå‰ç«¯ï¼ŒèŠ AIã€‚æˆ‘è·Ÿæ¯ä¸ªåŒäº‹éƒ½å¾ˆç†Ÿæ‚‰ï¼Œå¯èƒ½æ˜¯æˆ‘çš„æ€§æ ¼å–„äºæŠŠå¤§å®¶é“¾æ¥èµ·æ¥ã€‚</p>
<p>æå®Œç¦»èŒä¹‹åï¼Œæˆ‘ä¾¿ç«‹åˆ»å¼€å§‹æ‰¾å·¥ä½œã€‚æˆ‘å¹¶æ²¡æœ‰æ‰“ç®— gap ä¸€æ®µæ—¶é—´ï¼Œå› ä¸ºä¹‹å‰å·²ç» gap è¿‡ä¸€æ¬¡ã€‚é‚£æ¬¡è£¸è¾åç©äº†ä¸¤ä¸ªæœˆï¼Œå‰æœŸç¡®å®å¾ˆçˆ½ï¼Œåƒæ˜¯åœ¨è¿‡å¯’æš‘å‡ï¼›ä½†ç­‰æ—…æ¸¸ç»“æŸå›åˆ°å‡ºç§Ÿå±‹åï¼Œæ¯å¤©ä¸æ˜¯èººç€å°±æ˜¯åˆ·æ‰‹æœºã€ç©ç”µè„‘ï¼Œç”Ÿæ´»é€æ¸å¤±å»äº†ç›®æ ‡æ„Ÿã€‚é‚£æ—¶æˆ‘æ‰çœŸæ­£æ„è¯†åˆ°ï¼Œäººæ˜¯éœ€è¦åŠ³åŠ¨çš„ï¼Œéœ€è¦åœ¨ç¤¾ä¼šå·¥ä½œä¸­è·å¾—ä»·å€¼æ„Ÿã€‚</p>
<p>æ­£å› å¦‚æ­¤ï¼Œé‚£æ¬¡æˆ‘å¾ˆå¿«é‡æ–°æŠ•å…¥æ‰¾å·¥ä½œï¼Œä¹Ÿæ­£æ˜¯åœ¨é‚£æ®µæ—¶é—´ï¼ŒæŸ¯æ€»æ”¶ç•™äº†å½“æ—¶åªæœ‰ä¸€å¹´å·¥ä½œç»éªŒçš„æˆ‘ğŸ™ã€‚</p>
<p>æ­£å¦‚é©¬å…‹æ€æ‰€è¯´ï¼š</p>
<blockquote>
<p>åŠ³åŠ¨æ˜¯äººç±»ç”Ÿå­˜çš„åŸºçŸ³ï¼Œæ˜¯äººè‡ªèº«å‘å±•çš„å†³å®šæ€§è¦ç´ ã€‚åœ¨å…±äº§ä¸»ä¹‰ç¤¾ä¼šé«˜çº§é˜¶æ®µï¼Œâ€œåŠ³åŠ¨å·²ç»ä¸ä»…ä»…æ˜¯è°‹ç”Ÿçš„æ‰‹æ®µï¼Œè€Œæ˜¯æœ¬èº«æˆäº†ç”Ÿæ´»çš„ç¬¬ä¸€éœ€è¦â€ã€‚</p>
</blockquote>
<p>åœ¨è·³æ§½è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿè§‚å¯Ÿåˆ°äº†æ‹›è˜å¸‚åœºé£å‘çš„å˜åŒ–ï¼šè¶Šæ¥è¶Šå¤šçš„å…¬å¸æ›´å€¾å‘äºç®€å†ä¸­å¸¦æœ‰ AI é¡¹ç›®ç»å†çš„å€™é€‰äººã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘åœ¨ 2023 å¹´ç¬¬ä¸€ä»½å·¥ä½œæ—¶å°±å‚ä¸è¿‡ä¸€ä¸ª AI ç›¸å…³çš„ç”Ÿå›¾é¡¹ç›®ï¼Œè¿™è®©æˆ‘çš„ç®€å†åœ¨å¸‚åœºä¸Šé¢‡å—æ¬¢è¿ã€‚ä¸è¿‡ï¼Œå½“æ—¶å¸‚åœºå¯¹ AI çš„é‡è§†è¿˜æœ‰æ»åæ€§ï¼ŒçœŸæ­£å¯¹ AI é¡¹ç›®ç»å†æ„Ÿå…´è¶£çš„å…¬å¸å¹¶ä¸å¤šã€‚åˆ°äº†è¿™æ¬¡è·³æ§½ï¼Œæƒ…å†µæ˜æ˜¾ä¸åŒâ€”â€”AI ç›¸å…³ç»å†å‡ ä¹æˆä¸ºå¿…é—®é¡¹ï¼Œä¹Ÿæ˜¾è‘—æå‡äº†å€™é€‰äººçš„å¸å¼•åŠ›ã€‚è¿™è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼ŒAI å¯¹ç¨‹åºå‘˜å¸¦æ¥çš„ä¸æ˜¯å¨èƒï¼Œè€Œæ˜¯æ–°çš„æœºä¼šã€‚</p>
<p>åœ¨é¢è¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿä¼šä¸»åŠ¨è€ƒå¯Ÿéƒ¨é—¨çš„ AI ä½¿ç”¨æƒ…å†µã€‚ä»¤æˆ‘éœ‡æƒŠçš„æ˜¯ï¼Œå¾ˆå¤šå°å…¬å¸çš„å›¢é˜Ÿè™½ç„¶çŸ¥é“ AI çš„å­˜åœ¨ï¼Œä½†æ ¹æœ¬æ²¡æœ‰å®é™…åº”ç”¨ï¼Œä»ç„¶ä¾èµ–ä¼ ç»Ÿçš„æ‰‹å·¥ç¼–ç ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä¸ä¼šé€‰æ‹©åŠ å…¥è¿™æ ·çš„å›¢é˜Ÿï¼Œå› ä¸ºå¯¹äºæˆ‘è€Œè¨€ï¼Œé«˜æ•ˆåˆ©ç”¨ AI ä¸åªæ˜¯å·¥å…·åŠ æˆï¼Œè€Œæ˜¯èƒ½æ˜¾è‘—æå‡å›¢é˜Ÿæ•´ä½“æ•ˆç‡å’ŒæŠ€æœ¯æˆé•¿ç©ºé—´çš„é‡è¦æŒ‡æ ‡ã€‚</p>
<p>æœ‰äº†ä¸Šä¸€æ¬¡è£¸è¾çš„ç»å†åï¼Œè¿™ä¸€æ¬¡åœ¨â€œå¤šèµšé’±â€çš„å‰æä¸‹ï¼Œæˆ‘å‡ ä¹æ²¡æœ‰ç»™è‡ªå·±ä»»ä½•ä¼‘æ¯æ—¶é—´ï¼Œç¦»èŒåä¾¿ç«‹åˆ»æŠ•å…¥åˆ°æ‰¾å·¥ä½œä¸­ã€‚æˆ–è®¸ç¼˜åˆ†å°±æ˜¯è¿™ä¹ˆå·§ï¼Œæˆ‘å¾ˆå¿«æ‰¾åˆ°äº†ä¸€ä»½å¬èµ·æ¥å‰é€”è¿˜ä¸é”™çš„å·¥ä½œã€‚ä½†ç”±äºå½“æ—¶æ²¡æœ‰æŠŠå·¥ä½œæ—¶é•¿å’Œè–ªèµ„ç»†èŠ‚é—®æ¸…æ¥šï¼Œä¹Ÿæ²¡æœ‰åœ¨è°ˆè–ªé˜¶æ®µæ®ç†åŠ›äº‰åˆ°è‡ªå·±çœŸæ­£æ»¡æ„çš„ç¨‹åº¦ï¼Œå…¥èŒåè¿˜æ˜¯äº§ç”Ÿäº†ä¸€äº›åæ‚”çš„æƒ…ç»ªã€‚ä¸è¿‡å†æ‰¾ä¸€ä»½å·¥ä½œçš„æˆæœ¬ä¸ä½ï¼ŒåŠ ä¸Šè‡ªå·±ä¹Ÿæœ‰äº›æ‡’ï¼Œç´¢æ€§å°±å…ˆåœ¨è¿™å®¶å…¬å¸å¹²äº†ä¸‹æ¥ã€‚</p>
<p>è¿™æ˜¯ä¸€å®¶æ€»éƒ¨åœ¨åŒ—äº¬çš„åšæ¸¸æˆçš„å¤§å…¬å¸ï¼Œåœ¨å¹¿å·æ–°æˆç«‹çš„ä¸€ä¸ªéƒ¨é—¨ï¼Œéƒ¨é—¨åœ¨ 5 æœˆä»½æˆç«‹ï¼Œè€Œæˆ‘æ˜¯ 8 æœˆä»½åŠ å…¥çš„ã€‚ç”±äºæˆ‘ä¹‹å‰çš„æŠ€æœ¯æ ˆå’Œé¡¹ç›®ç»éªŒä¸»è¦é›†ä¸­åœ¨ç®¡ç†åå°é¢†åŸŸï¼Œå…¥èŒåä¾¿ä»0åˆ°1å‚ä¸å¹¶è´Ÿè´£äº†ä¸€ä¸ªå†…éƒ¨ BI åå°é¡¹ç›®çš„å»ºè®¾ã€‚æ–°å…¬å¸çš„é¢†å¯¼èƒ½åŠ›å¾ˆå¼ºï¼Œä¸€äººåŒæ—¶æ‰¿æ‹…åç«¯å¼€å‘ã€äº§å“è§„åˆ’ä»¥åŠä¸è®¾è®¡å¸ˆæ²Ÿé€šåè°ƒç­‰å¤šé‡è§’è‰²ã€‚</p>
<p>å›¢é˜Ÿè§„æ¨¡ä¸å¤§ï¼Œæˆ‘ä»¬æ˜¯ä¸€ä¸ªå‰ç«¯ã€ä¸€ä¸ªåç«¯ï¼Œå†åŠ ä¸Šä¸€ä½æµ‹è¯•åŒå­¦ï¼Œä¸‰ä¸ªäººåä½œå®Œæˆäº†è¿™ä¸ªä¸­å°ç³»ç»Ÿçš„å¼€å‘ï¼Œç”¨äºæ”¯æŒæ¸¸æˆå‘è¡Œéƒ¨é—¨çš„æ—¥å¸¸ä¸šåŠ¡ã€‚</p>
<h2 data-id="heading-3">AI</h2>
<p>ä¹Ÿè¯¥èŠåˆ° AI äº†ï¼Œä¸ç„¶æœ‰ç‚¹åé¢˜å¤ªä¹…äº†ã€‚ğŸ˜‚</p>
<h3 data-id="heading-4">2022å¹´çš„ AI</h3>
<p>ç¬¬ä¸€æ¬¡æ¥è§¦ AI è¾…åŠ©ç¼–ç¨‹ï¼Œæ˜¯åœ¨ 2022 å¹´é€šè¿‡ GitHub Copilotã€‚å½“æ—¶æˆ‘åœ¨å†™æ¯•ä¸šè®¾è®¡ï¼Œç”¨åˆ°çš„æ˜¯ä¸€ä¸ªéœ€è¦å‘é‚®ä»¶ç”³è¯·è¯•ç”¨çš„ VS Code æ’ä»¶ã€‚å°è±¡å¾ˆæ·±çš„æ˜¯ï¼Œåªè¦å†™ä¸€ä¸ªè¯¸å¦‚â€œäºŒåˆ†æŸ¥æ‰¾â€çš„æ³¨é‡Šï¼Œä¸‹é¢å¾ˆå¿«å°±èƒ½è‡ªåŠ¨è¡¥å…¨å‡ºå®Œæ•´ä»£ç ï¼Œç¡®å®è®©äººè§‰å¾—ç›¸å½“èªæ˜ã€‚</p>
<p>åæ¥åœ¨ 2022 å¹´ 12 æœˆå·¦å³ï¼ŒChatGPT æ¨ªç©ºå‡ºä¸–ã€‚ç°åœ¨å›å¤´çœ‹ï¼Œé‚£çœŸçš„æ˜¯ä¸€ä»¶éå¸¸å¹¸è¿çš„äº‹æƒ…â€”â€”æˆ‘åˆšå‚åŠ å·¥ä½œæ²¡å¤šä¹…ï¼Œå¤§è¯­è¨€æ¨¡å‹å°±å·²ç»å‡ºç°äº†ã€‚é‚£æ®µæ—¶é—´æœ€å¤§çš„æ„Ÿå—æ˜¯ï¼šGPT å†™å‡ºæ¥çš„ä»£ç ï¼Œç”šè‡³æ¯”å½“æ—¶ä½œä¸ºåˆçº§ç¨‹åºå‘˜çš„æˆ‘è¿˜è¦è§„èŒƒã€å®Œæ•´ã€‚</p>
<p>äºæ˜¯åæ¥æ¯æ¬¡é‡åˆ°ä»£ç é‡æ„æˆ–ä¼˜åŒ–ç›¸å…³çš„é—®é¢˜ï¼Œæˆ‘éƒ½ä¼šå…ˆé—®ä¸€é—®å®ƒã€‚åœ¨ä¸æ–­çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¹Ÿç¡®å®ä»â€œAI è€å¸ˆâ€é‚£é‡Œå­¦åˆ°äº†ä¸å°‘ç¼–ç¨‹æ€è·¯å’Œå®è·µæŠ€å·§ã€‚</p>
<h3 data-id="heading-5">2023,2024å¹´çš„ AI</h3>
<p>é‚£æ—¶å€™ ChatGPT è¿˜æ²¡æœ‰å…è´¹å¼€æ”¾ï¼ŒåŸºæœ¬éƒ½æ˜¯é€šè¿‡å›½å†…çš„é•œåƒç«™ä¹‹ç±»çš„æ–¹å¼åœ¨ä½¿ç”¨ï¼Œç¨³å®šæ€§å’Œä½“éªŒéƒ½è°ˆä¸ä¸Šå¥½ï¼Œä½†ä¾ç„¶æŒ¡ä¸ä½å¤§å®¶çš„çƒ­æƒ…ã€‚æˆ‘è¿˜è®°å¾— Cursor åˆšå‡ºæ¥çš„æ—¶å€™ï¼Œæœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯ä¸éœ€è¦ç§‘å­¦ä¸Šç½‘å°±èƒ½ç›´æ¥ç”¨ GPTï¼Œè¿™ä¸€ç‚¹åœ¨å½“æ—¶éå¸¸æœ‰å¸å¼•åŠ›ã€‚è°èƒ½æƒ³åˆ°ï¼Œåæ¥è¿™ä¸ªå·¥å…·ä¸æ–­è¿­ä»£å‡çº§ï¼Œä»ä¸€ä¸ªâ€œèƒ½ç”¨â€çš„ç¼–è¾‘å™¨æ’ä»¶ï¼Œé€æ¸æˆé•¿ä¸º AI IDE çš„ç¬¬ä¸€æ¢¯é˜Ÿï¼Œç”šè‡³åœ¨æŸäº›åœºæ™¯ä¸‹å½»åº•æ”¹å˜äº†å†™ä»£ç çš„æ–¹å¼ã€‚</p>
<p>åœ¨é‚£ä¸ªé˜¶æ®µï¼Œæˆ‘çš„ä½¿ç”¨æ–¹å¼å…¶å®è¿˜æ¯”è¾ƒâ€œä¼ ç»Ÿâ€ï¼šå†™å®Œä¸€æ®µä»£ç ï¼Œå¤åˆ¶å‡ºæ¥ï¼Œç²˜è´´åˆ° GPT é‡Œæé—®ï¼Œè®©å®ƒå¸®æˆ‘çœ‹çœ‹æœ‰æ²¡æœ‰ä¼˜åŒ–ç©ºé—´ã€æ½œåœ¨é—®é¢˜ï¼Œæˆ–è€…è®©å®ƒè¡¥å…¨ç¼ºå¤±é€»è¾‘ï¼Œç„¶åå†æŠŠç»“æœå¤åˆ¶å›ç¼–è¾‘å™¨ä¸­ã€‚è¿™ä¸ªæµç¨‹ç°åœ¨çœ‹èµ·æ¥æœ‰äº›ç¬¨é‡ï¼Œä½†åœ¨å½“æ—¶å·²ç»æå¤§æå‡äº†æ•ˆç‡ã€‚å¾ˆå¤šåŸæœ¬éœ€è¦ç¿»æ–‡æ¡£ã€æŸ¥ Stack Overflow çš„é—®é¢˜ï¼Œå‡ åˆ†é’Ÿå†…å°±èƒ½å¾—åˆ°ä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„ç­”æ¡ˆã€‚</p>
<p>é‚£æ—¶çš„ AI æ›´å¤šè¿˜æ˜¯â€œè¾…åŠ©å·¥å…·â€çš„è§’è‰²ï¼Œè€Œä¸æ˜¯ç›´æ¥å‚ä¸åˆ°ç¼–ç æµç¨‹ä¸­ã€‚å®ƒæ›´åƒæ˜¯ä¸€ä½éšå«éšåˆ°ã€è€å¿ƒåè¶³çš„é«˜çº§åŒäº‹ï¼Œå¸®ä½ æŸ¥èµ„æ–™ã€ç»™æ€è·¯ã€è¡¥ç»†èŠ‚ã€‚è™½ç„¶å¶å°”ä¹Ÿä¼šèƒ¡ç¼–ä¹±é€ ï¼Œéœ€è¦è‡ªå·±å…·å¤‡åˆ¤æ–­èƒ½åŠ›ï¼Œä½†ä¸å¯å¦è®¤çš„æ˜¯ï¼Œä» 2023 å¹´å¼€å§‹ï¼Œæˆ‘å·²ç»æ˜æ˜¾æ„Ÿå—åˆ°ï¼šå†™ä»£ç è¿™ä»¶äº‹ï¼Œæ­£åœ¨è¢« AI æ‚„ç„¶é‡å¡‘ã€‚</p>
<h3 data-id="heading-6">2025 å¹´çš„ AI</h3>
<p>ä¸€ç›´åˆ° 2024 å¹´åº•ï¼ŒCursor çªç„¶ç«äº†èµ·æ¥ã€‚æˆ‘è®°å¾—å¥½åƒæ˜¯æŸå…¬å¸çš„ä¸€ä¸ªå¤§ä½¬çš„å¥³å„¿åœ¨å‡ ä¹æ²¡æœ‰ç¼–ç¨‹ç»éªŒçš„æƒ…å†µä¸‹ï¼Œç”¨ Cursor å†™äº†ä¸€ä¸ªå°ç¨‹åºï¼Œè¿™ç¯‡æ¨ç‰¹è¢«å¹¿æ³›è½¬å‘åï¼ŒCursor è¿…é€Ÿèµ°çº¢ã€‚æˆ‘çœ‹åˆ°åä¹Ÿä¸‹è½½äº†æœ€æ–°ç‰ˆï¼Œè¯•ç”¨åç›´æ¥è¢«éœ‡æ’¼åˆ°äº†â€”â€”å®ƒçš„è¡¥å…¨åŠŸèƒ½ä¸æ»‘å¾—è®©äººéš¾ä»¥ç½®ä¿¡ï¼Œå¥½åƒèƒ½ç›´æ¥ç†è§£æˆ‘è„‘å­é‡Œçš„æƒ³æ³•ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä½“éªŒåˆ°å¦‚æ­¤æ™ºèƒ½åˆé¡ºæ‰‹çš„ AI ç¼–ç¨‹æç¤ºã€‚</p>
<p>å½“æ—¶ï¼Œæˆ‘ä¹Ÿå°è¯•äº† Cursor çš„ä¸€ä¸ªç«å“ Winsurfï¼Œä½†æ•´ä½“ä½“éªŒè¿˜æ˜¯ Cursor æ›´ä½³ã€‚æœ‰äººä¼šè¯´ï¼Œè¿™ä¸è¿‡æ˜¯æŠŠ AI æ¨¡å‹å¥—ä¸ªå£³è€Œå·²ï¼Œä½†æˆ‘è®¤ä¸º<code>â€œå¥—å£³â€</code>ä¹Ÿæœ‰é«˜ä½ä¹‹åˆ†ã€‚ä½œä¸ºæ™®é€šç¨‹åºå‘˜ï¼Œæˆ‘ä»¬ä¸å¿…å»ç ”ç©¶æ¨¡å‹çš„ç†è®ºï¼Œä½†åœ¨åº”ç”¨å±‚çš„äº¤äº’ä½“éªŒã€ç»†èŠ‚è®¾è®¡åšå¾—å‡ºè‰²ï¼ŒåŒæ ·éå¸¸äº†ä¸èµ·ã€‚ä½¿ç”¨ Cursor åï¼Œæˆ‘æ˜æ˜¾æ„Ÿå—åˆ°å·¥ä½œæ•ˆç‡æå‡ï¼Œç”šè‡³å¯ä»¥è¾¾åˆ°ä¸¤å€ã€äº”å€ç”šè‡³åå€ã€‚</p>
<p>æˆ‘å½“æ—¶éå¸¸ç§¯æåœ°å‘åŒäº‹æ¨èï¼Œä½†å‘ç°éƒ¨åˆ†åŒäº‹å¸¦æœ‰æ‚²è§‚è‰²å½©ï¼Œæ‹…å¿ƒ AI ä¼šæ›¿ä»£ç¨‹åºå‘˜ï¼Œå› æ­¤ä¸æ„¿å°è¯•ã€‚å¯¹æ­¤ï¼Œæˆ‘çš„è§‚ç‚¹æ˜¯ï¼šAI æ˜¯ææ•ˆå·¥å…·ï¼Œå®ƒèƒ½å¸®ä½ èŠ‚çœé‡å¤åŠ³åŠ¨ï¼Œè®©ä½ æœ‰æ›´å¤šæ—¶é—´å»å­¦ä¹ æ–°æŠ€æœ¯ã€æ€è€ƒäº§å“è®¾è®¡å’Œæ¶æ„ä¼˜åŒ–ã€‚AI çš„æ ¸å¿ƒæ„ä¹‰åœ¨äºï¼Œè®©ç¨‹åºå‘˜ä»ç¹ççš„ CRUD å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ï¼ŒæŠŠæ—¶é—´ç”¨åœ¨æ›´é«˜ä»·å€¼çš„å·¥ä½œä¸Šï¼Œè®©åˆ›æ„å’Œæƒ³è±¡åŠ›çœŸæ­£å‘æŒ¥ä½œç”¨ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œå­—èŠ‚è·³åŠ¨æ¨å‡ºäº† Traeï¼Œæˆ‘ä¹Ÿä½“éªŒè¿‡å¹¶å†™è¿‡ç›¸å…³å¾æ–‡ï¼Œä½†æ•´ä½“ä½“éªŒè¿˜æ˜¯ä¸å¦‚ Cursor é¡ºæ‰‹ã€‚ä¹Ÿè®¸æ˜¯ Trae çš„å®£ä¼ å’Œè¥é”€åšå¾—æ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥åœ¨æˆ‘è·³æ§½é¢è¯•æ—¶ï¼Œä¸å°‘å›¢é˜Ÿè¡¨ç¤ºè™½ç„¶è‡ªå·±æ²¡æœ‰ä½¿ç”¨ AI ç¼–ç¨‹ï¼Œä½†çŸ¥é“å­—èŠ‚å‡ºäº† Traeã€‚</p>
<p>åé¢è¿‡æ˜¥èŠ‚çš„æ—¶å€™ï¼Œå›½äº§å¼€æºæ¨¡å‹ä¹‹å…‰ DeepSeek æ¨ªç©ºå‡ºä¸–ï¼Œè¿å®¶é‡Œçš„é•¿è¾ˆéƒ½çŸ¥é“ä¸­å›½å‡ºæ¥ä¸ª nb çš„ AIã€‚å¤ªä¼Ÿå¤§äº† DeepSeek ç›´æ¥é€‰æ‹©äº†å¼€æºï¼Œç»™å…¨ä¸–ç•Œåˆ†äº«ä»–ä»¬çš„æˆæœï¼ŒrespectğŸ«¡ï¼ï¼ï¼</p>
<p>åœ¨é«˜å¼ºåº¦ä½¿ç”¨äº†æœˆå·¦å³åï¼Œæˆ‘ç§¯ç´¯äº†ä¸€äº›ç»éªŒå’Œæ–¹æ³•ï¼Œä¹Ÿåœ¨æ–‡ç« ä¸­åˆ†äº«ç»™äº†å¤§å®¶ã€‚</p>
<p>éšç€ AI å·¥å…·çš„å‘å±•ï¼Œæˆ‘ä¹Ÿå¼€å§‹å°è¯•å…¶ä»–å·¥å…·ï¼Œä¾‹å¦‚ Winsurf å’Œ Argument Codeã€‚ç‰¹åˆ«æ˜¯ Argument Codeï¼Œè¿™æ˜¯ä¸€ä¸ª VS Code æ’ä»¶ï¼Œèƒ½å¤Ÿæ™ºèƒ½å¯»æ‰¾ä»£ç ä¸­ç›¸å…³çš„å½±å“èŒƒå›´ï¼Œéå¸¸é€‚åˆè¿›è¡Œå¤æ‚é€»è¾‘åˆ†æã€‚èƒŒåçš„ AI æ¨¡å‹ Claude åœ¨è¿™é‡Œè¡¨ç°å¾—å¾ˆèªæ˜ï¼Œä½†è®¢é˜…ä»·æ ¼ä¸ä½ï¼Œå½“æ—¶çº¦ 100 ç¾å…ƒ/æœˆã€‚</p>
<p>åæ¥æˆ‘ä¹Ÿå°è¯•äº† Claude Code å’Œ Codex çš„ CLIï¼Œä¸å¾—ä¸è¯´ï¼ŒClaude æ¨¡å‹ç¡®å®å¾ˆå¼ºï¼ˆé¢˜å¤–è¯:ä½†æœ€è¿‘å¯¹ç¬¬ä¸‰æ–¹çš„å°ç¦ä»¥åŠååçš„ä¸€äº›é­”å¹»æ“ä½œï¼ŒçœŸå¸Œæœ›é¢„å‘Šæ–°å¹´å‘å¸ƒçš„DeepSeek v4èƒ½æŒ«æŒ«è¿™å®¶å…¬å¸é”æ°”ï¼ï¼‰ï¼Œå°¤å…¶åœ¨ç¼–ç å’Œè®¾è®¡ç›¸å…³çš„ç†è§£ä¸Šéå¸¸åˆ°ä½ã€‚å¼€æºçš„ Claude-agent-sdk ä¹Ÿå¾ˆä¼˜ç§€ï¼Œå¾ˆå¤šäººåœ¨å®ƒçš„åŸºç¡€ä¸Šå¯ä»¥åšè‡ªå·±çš„ CLI äºŒæ¬¡å¼€å‘ã€‚ä¸è¿‡ï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯ä¸å¤ªä¹ æƒ¯åœ¨ç»ˆç«¯é‡Œä½¿ç”¨ AIï¼Œä¹ æƒ¯äº†æœ‰ GUI ç•Œé¢çš„ IDEï¼Œæ“ä½œèµ·æ¥æ›´ç›´è§‚ã€é¡ºæ‰‹ã€‚</p>
<p>è°·æ­Œçš„ Antigravityæˆ‘ä¹Ÿä½“éªŒäº†ï¼Œéƒ½æ˜¯åœ¨ä¾§è¾¹æ æœ‰ä¸ªå¯¹è¯æ¡†ï¼Œå¯ä»¥è¯•ç”¨ Gemini ä¸ Claudeï¼Œæˆ‘ç»å¸¸ç”¨ Gemini å†™é¡µé¢ï¼Œä½†æ˜¯å†™é€»è¾‘ä»–å¾ˆå–œæ¬¢ any è·³è¿‡ï¼Œå¾ˆæ— è¯­ğŸ˜…ï¼Œå†™é€»è¾‘è¿˜æ˜¯éœ€è¦ç”¨ Claudeã€‚æ¯å‘¨ä¼šé™åˆ¶ä¸€äº›ä½¿ç”¨é¢åº¦ï¼Œä¸å¾—ä¸è¯´è°·æ­Œè¿˜æ˜¯å®¶å¤§ä¸šå¤§ï¼Œæƒ³è¦è¶…è½¦æé€Ÿå°±æ˜¯è¿™ä¹ˆå¿«ã€‚ä½†æ˜¯è¿™ä¸ªäº§å“åç§°èµ·çš„çœŸçš„ä¸å¥½æ‹¼å†™å“ˆå“ˆã€‚</p>
<p>ç›®å‰æˆ‘åœ¨è¯•ç”¨ Kiro çš„ Claude æœåŠ¡ï¼Œç”¨çš„æ˜¯ç™½å«–çš„ 30 å¤©ã€500 ç§¯åˆ†ç‰ˆæœ¬ã€‚ä¸è¿‡è¿™ä¸ª IDE ä¼¼ä¹æ²¡æœ‰æ™ºèƒ½æç¤ºåŠŸèƒ½ï¼ˆå¯èƒ½æ˜¯æˆ‘ä½¿ç”¨å§¿åŠ¿ä¸å¯¹ï¼Ÿä½†æˆ‘ç†è§£åº”è¯¥æ˜¯é»˜è®¤å¼€å¯çš„ï¼‰ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œè™½ç„¶ CLI å¼ºå¤§ï¼Œä½†å¯¹æˆ‘è€Œè¨€ï¼ŒGUI ç•Œé¢çš„äº¤äº’ä½“éªŒæ›´ç¬¦åˆæ—¥å¸¸ç¼–ç ä¹ æƒ¯ã€‚æˆ‘ä¼°è®¡ä¸‹ä¸€æ­¥è¿˜æ˜¯å›åˆ° cursor äº†ã€‚</p>
<h2 data-id="heading-7">å¯¹ AI çš„æ€è€ƒä¸æƒ³æ³•</h2>
<p>å†™äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä¹Ÿæœ‰äº›ç´¯äº†ã€‚è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å†™è¿™ä¹ˆé•¿çš„æ–‡ç« ï¼Œå¯èƒ½æ˜¯å› ä¸ºæƒ³è¡¨è¾¾çš„å†…å®¹å®åœ¨å¤ªå¤šäº†ã€‚ç äº†ä¸€ä¸Šåˆï¼Œæœ€åæƒ³å’Œå¤§å®¶èŠèŠæˆ‘ä¸ªäººå¯¹ AI çš„ç†è§£ä¸æ€è€ƒã€‚</p>
<p>AI ç»™æˆ‘çš„å·¥ä½œæ•ˆç‡å¸¦æ¥äº†æˆå€æå‡ã€‚é¢è¯•æ—¶æˆ‘ä¹Ÿå¸¸æåˆ°ï¼Œä»¥å‰å†™ä»£ç éƒ½æ˜¯ä¸€è¡Œè¡Œæ•²ï¼Œç°åœ¨å‡ ä¹å¯ä»¥â€œä¸€ç‰‡ä¸€ç‰‡â€åœ°ç”Ÿæˆä»£ç ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€å¯ä»¥æ— è„‘ç›¸ä¿¡ AI è¾“å‡ºçš„ç»“æœã€‚å¦‚æœæ¯å¤©åªæ˜¯ä¾èµ– AI å®Œæˆ Vibe Codingï¼Œé•¿æœŸä¸‹æ¥å¯èƒ½ä¼šéå¸¸ç—›è‹¦â€”â€”-å› ä¸ºä½ ä¸äº†è§£ AI çš„å®ç°ç»†èŠ‚ã€‚é€‰ç”¨æ€§èƒ½å·®çš„æ¨¡å‹ï¼Œå³ä¾¿åŠŸèƒ½å®ç°äº†ï¼Œåç»­æ”¹é€ æˆ–è¿­ä»£å¯èƒ½ä¼šéå¸¸å›°éš¾ï¼Œåªèƒ½å†æ¬¡ä¾èµ– AI æ¥å¤„ç†ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œå°±å¯èƒ½å½¢æˆâ€œAI ç”Ÿæˆçš„ä»£ç å±å±±â€ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘çš„åšæ³•æ˜¯ï¼šæ¯æ¬¡å‘½ä»¤ AI å®Œæˆä»»åŠ¡åï¼Œéƒ½ä¼šä»”ç»† review å®ƒçš„ä»£ç ï¼Œå†è¿›è¡Œæäº¤ã€‚å¦‚æœé¡¹ç›®æ˜¯ä¸€æ¬¡æ€§çš„å°å‹ä»»åŠ¡ï¼Œæˆ–è®¸å¯ä»¥ä¸ç”¨è¿‡äºä¸¥æ ¼ï¼Œä½†å¯¹äºéœ€è¦é•¿æœŸç»´æŠ¤çš„ç³»ç»Ÿï¼Œè®¤çœŸ review å¹¶ä¸ AI åä½œè‡³å…³é‡è¦ã€‚</p>
<p>åŒæ—¶ï¼ŒAI ç›®å‰è¿˜æ— æ³•æ›¿ä»£ç¨‹åºå‘˜ï¼Œå…¶æ ¹æœ¬åŸå› åœ¨äºç¼ºä¹è´£ä»»æ„Ÿã€‚AI çš„ä¸Šä¸‹æ–‡é•¿åº¦æœ‰é™ï¼Œå®ƒæ— æ³•åƒäººä¸€æ ·ï¼Œåœ¨å…¬å¸é‡Œé•¿æœŸç»´æŠ¤å¤šä¸ªé¡¹ç›®å››äº”å¹´ã€‚ä¸Šä¸‹æ–‡è¶Šé•¿ï¼Œå®ƒé—å¿˜çš„å†…å®¹ä¹Ÿè¶Šå¤šã€‚æ–°å»ºä¸€ä¸ªçª—å£ï¼Œä¹‹å‰çš„äº‹æƒ…å°±å¿˜è®°äº†(å¯ä»¥è®¾ç½®å…¨å±€ rule) æ­¤å¤–ï¼Œä¸€äº›è‡ªåª’ä½“å¸¸å¹å˜˜ç”¨ AI å®Œå…¨ä¸ä¼šç¼–ç¨‹ä¹Ÿèƒ½å®Œæˆç³»ç»Ÿå¼€å‘ï¼Œè™½ç„¶ AI è¶Šæ¥è¶Šå¼ºï¼Œä¸€æ¬¡æ€§ä»»åŠ¡çœ‹èµ·æ¥å¾ˆæ¼‚äº®ï¼Œä½†é‡åˆ°å°ç»†èŠ‚æˆ–åç»­æ”¹åŠ¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ‡‚ä¸€ç‚¹çš„äººå»æŒ‡æŒ¥å’Œä¼˜åŒ–ï¼Œä»£ç å¾ˆå®¹æ˜“å´©æºƒã€‚</p>
<p>æ‰€ä»¥ï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ªæ‡‚æŠ€æœ¯çš„äººæ¥æŒ‡å¯¼ AIï¼Œç¡®ä¿è¾“å‡ºå¯é ã€‚å®é™…ä¸Šï¼ŒAI ä¹Ÿå¯ä»¥æˆä¸ºå­¦ä¹ çš„è¾…åŠ©å·¥å…·ï¼šé€šè¿‡å®ƒå¿«é€Ÿå­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€è¯­æ³•ã€è½¯ä»¶æ¶æ„æœ€ä½³å®è·µï¼Œå†ç”¨è¿™äº›çŸ¥è¯†é«˜æ•ˆæŒ‡æŒ¥ AI å®Œæˆä»»åŠ¡ã€‚æ€»ç»“æ¥çœ‹ï¼ŒAI æ˜¯æ•ˆç‡çš„å€å¢å™¨ï¼Œä½†ä»ç„¶éœ€è¦äººçš„ç»éªŒä¸åˆ¤æ–­åŠ›æ¥æ§åˆ¶é£é™©ã€ä¿è¯è´¨é‡ã€‚</p>
<p>æˆ‘è§‰å¾—å¤§å®¶åº”è¯¥ç§¯ææ‹¥æŠ± AIï¼Œé¢å¯¹å®ƒã€ç†è§£å®ƒï¼Œå¹¶å–„åŠ åˆ©ç”¨ï¼Œè®© AI æˆä¸ºè®©è‡ªå·±å¦‚è™æ·»ç¿¼çš„å·¥å…·ã€‚AI çš„å‘å±•å¿…ç„¶ä¼šå¸¦æ¥äº§ä¸šå˜é©å’ŒæŠ€æœ¯é©æ–°ï¼Œä½†ä»æ›´å®è§‚çš„è§’åº¦çœ‹ï¼Œå®ƒæ˜¯æ¨åŠ¨äººç±»æ–‡æ˜è¿›æ­¥çš„é‡è¦åŠ›é‡ã€‚æˆ‘ä»¬æ­£åŠ é€Ÿæ­¥å…¥ä¸€ä¸ªç”Ÿäº§åŠ›å¤§çˆ†å‘çš„æ—¶ä»£ï¼ŒAI å°†ç¨‹åºå‘˜ä»ä»¥å¾€ç¹ççš„æ¬ç –ä»»åŠ¡ä¸­è§£æ”¾å‡ºæ¥ï¼Œè®©æˆ‘ä»¬æœ‰æ›´å¤šç²¾åŠ›å»æ€è€ƒæ¶æ„è®¾è®¡ã€åˆ›æ–°åŠŸèƒ½ï¼Œä»¥åŠæ¢ç´¢æ–°çš„æŠ€æœ¯è¾¹ç•Œã€‚</p>
<p>æ›´è¿›ä¸€æ­¥ï¼ŒAI çš„çœŸæ­£ä»·å€¼åœ¨äºå®ƒèƒ½å¤Ÿè®©äººç±»åœ¨åˆ›é€ åŠ›å’Œæ•ˆç‡ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚ä»¥å‰å¾ˆå¤šé‡å¤æ€§å·¥ä½œå æ®äº†å¤§é‡æ—¶é—´ï¼Œç°åœ¨è¿™äº›å·¥ä½œå¯ä»¥äº¤ç»™ AI æ¥å¤„ç†ï¼Œè€Œç¨‹åºå‘˜å¯ä»¥æŠŠç²¾åŠ›æ”¾åœ¨æ›´é«˜å±‚æ¬¡çš„æ€è€ƒä¸Šï¼šå¦‚ä½•è®¾è®¡æ›´ä¼˜çš„ç³»ç»Ÿã€å¦‚ä½•ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€å¦‚ä½•åœ¨å¤æ‚ä¸šåŠ¡ä¸­åšå‡ºæ›´åˆç†çš„å†³ç­–ã€‚AI ä¸ä»…æ˜¯å·¥å…·ï¼Œä¹Ÿæ˜¯å­¦ä¹ çš„åŠ©åŠ›ï¼Œå®ƒèƒ½å¤Ÿå¿«é€Ÿæä¾›ä¿¡æ¯ã€åˆ†ææ–¹æ¡ˆï¼Œè®©æˆ‘ä»¬åœ¨çŸ­æ—¶é—´å†…æŒæ¡æ–°æŠ€æœ¯ã€æ–°æ–¹æ³•ï¼Œä»è€Œå®ç°çŸ¥è¯†å’Œèƒ½åŠ›çš„å¿«é€Ÿç§¯ç´¯ã€‚</p>
<p>å¯ä»¥è¯´ï¼ŒAI å¯¹ç¨‹åºå‘˜è€Œè¨€ï¼Œæ˜¯ä¸€ç§èƒ½åŠ›çš„æ”¾å¤§å™¨ï¼Œè€Œä¸æ˜¯æ›¿ä»£å“ã€‚æœªæ¥ï¼Œèƒ½å¤Ÿåˆç†è¿ç”¨ AI çš„äººï¼Œå°†æ¯”å•çº¯ä¾èµ–ä¼ ç»ŸæŠ€èƒ½çš„äººæ›´å…·ç«äº‰åŠ›ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¿æŒå­¦ä¹ ã€ç†è§£å’ŒæŒæ§ AI çš„èƒ½åŠ›ï¼Œæ¯”å•çº¯è¿½æ±‚ AI ç”Ÿæˆçš„ç»“æœæ›´é‡è¦ã€‚çœŸæ­£æŒæ¡äº†è¿™é¡¹èƒ½åŠ›çš„äººï¼Œå°†èƒ½å¤Ÿåœ¨æŠ€æœ¯åˆ›æ–°å’Œç”Ÿäº§åŠ›æå‡çš„æµªæ½®ä¸­ç«™ç¨³è„šè·Ÿï¼Œç”šè‡³å¼•é¢†å˜é©ã€‚</p>
<h2 data-id="heading-8">ç»“è¯­</h2>
<p>è¿‡å»çš„ä¸€å¹´æ˜¯æˆé•¿çš„ä¸€å¹´ï¼Œæˆ‘ä¹Ÿèƒ½æ˜æ˜¾æ„Ÿå—åˆ°ï¼Œç›¸æ¯”å»å¹´çš„è‡ªå·±ï¼Œæœ‰äº†ä¸å°‘è¿›æ­¥ã€‚</p>
<p>å¸Œæœ›åœ¨æ–°çš„ä¸€å¹´é‡Œï¼ŒAI èƒ½å¤Ÿå±•ç°å‡ºæ›´æƒŠè‰³çš„èƒ½åŠ›ï¼Œå¸¦æ¥æ›´å¤šåˆ›æ–°å’Œå¯èƒ½ã€‚æœŸå¾…æœªæ¥ï¼Œä¹Ÿç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼Œå·¥ä½œé¡ºåˆ©ï¼Œç”Ÿæ´»æ„‰å¿«ï¼Œæ¯ä¸ªäººéƒ½èƒ½ä¸æ–­æˆé•¿ã€è¶Šæ¥è¶Šå¥½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TCP ç²˜åŒ…/æ‹†åŒ…é—®é¢˜]]></title>    <link>https://juejin.cn/post/7593535577047023651</link>    <guid>https://juejin.cn/post/7593535577047023651</guid>    <pubDate>2026-01-12T01:37:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593535577047023651" data-draft-id="7593353611944362036" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TCP ç²˜åŒ…/æ‹†åŒ…é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:37:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YL_jia"/> <meta itemprop="url" content="https://juejin.cn/user/1467226241383211"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TCP ç²˜åŒ…/æ‹†åŒ…é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1467226241383211/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YL_jia
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:37:39.000Z" title="Mon Jan 12 2026 01:37:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢æŠŠ TCP ç²˜åŒ…/æ‹†åŒ…é—®é¢˜ä¸€æ¬¡æ€§è®²é€ï¼Œç»™å‡ºâ€œåŸç† â†’ æ ¹å›  â†’ æ–¹æ¡ˆ â†’ ä»£ç çº§æµç¨‹â€ï¼Œæ‹¿æ¥å³å¯è½åœ°ã€‚</p>
<hr/>
<ol>
<li>ä»€ä¹ˆæ˜¯ç²˜åŒ… &amp; æ‹†åŒ…</li>
</ol>
<hr/>
<ul>
<li>ç²˜åŒ…ï¼šå‘é€ç«¯è¿ç»­è°ƒç”¨ send() å¤šæ¬¡ï¼Œæ¥æ”¶ç«¯ä¸€æ¬¡ recv() æŠŠå¤šæ¡æŠ¥æ–‡å½“æˆä¸€æ¡è¯»å‡ºæ¥ã€‚</li>
<li>æ‹†åŒ…ï¼šä¸€æ¡æŠ¥æ–‡è¢« TCP åˆ‡åˆ†æˆå¤šæ¬¡ recv() æ‰èƒ½è¯»å®Œï¼ˆæˆ–ä¸€æ¬¡åªè¯»å‡ºéƒ¨åˆ†ï¼‰ã€‚<br/>
ç°è±¡ï¼šä¸šåŠ¡å±‚æ‹¿åˆ°çš„â€œå­—èŠ‚æµâ€ä¸æœŸæœ›çš„â€œæ¶ˆæ¯è¾¹ç•Œâ€ä¸ä¸€è‡´ï¼Œè§£æå¤±è´¥ã€‚</li>
</ul>
<hr/>
<ol start="2">
<li>æ ¹æœ¬åŸå› ï¼ˆTCP è¯­ä¹‰å¯¼è‡´ï¼‰</li>
</ol>
<hr/>
<ol>
<li>å­—èŠ‚æµåè®®ï¼šTCP åªä¿è¯å­—èŠ‚é¡ºåºä¸å¯é åˆ°è¾¾ï¼Œä¸ä¿ç•™åº”ç”¨å±‚æ¶ˆæ¯è¾¹ç•Œã€‚</li>
<li>Nagle/å»¶è¿Ÿç¡®è®¤ï¼šå‘é€ç«¯åˆå¹¶å°ç‰‡æ®µï¼Œæ¥æ”¶ç«¯åˆå¹¶ç¡®è®¤ï¼ŒåŠ å‰§ç²˜åŒ…ã€‚</li>
<li>MSS/åˆ†ç‰‡ï¼šè·¯å¾„ MTU é™åˆ¶ï¼Œå¤§äº MSS çš„æŠ¥æ–‡è¢« IP å±‚åˆ‡ç‰‡ï¼Œé€ æˆæ‹†åŒ…ã€‚</li>
<li>æ¥æ”¶çª—å£ï¼šæ¥æ”¶ç«¯ç¼“å­˜ä¸è¶³æ—¶ï¼Œå†…æ ¸åªæ‹·è´éƒ¨åˆ†æ•°æ®åˆ°ç”¨æˆ·ç©ºé—´ã€‚</li>
</ol>
<hr/>
<ol start="3">
<li>è§£å†³æ€è·¯ï¼ˆ4 ç§ä¸»æµæ–¹æ¡ˆï¼‰</li>
</ol>
<hr/>








































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>â‘  å›ºå®šé•¿åº¦</td><td>æ¯æ¡æŠ¥æ–‡é•¿åº¦å›ºå®šä¸º L</td><td>è§£ææç®€</td><td>æµªè´¹æµé‡/æ‰©å±•æ€§å·®</td><td>äºŒè¿›åˆ¶ä¼ æ„Ÿæ•°æ®</td></tr><tr><td>â‘¡ åˆ†éš”ç¬¦</td><td>æ¯æ¡æŠ¥æ–‡ç»“å°¾åŠ ç‰¹æ®Šå­—èŠ‚ï¼ˆå¦‚ <code>\n</code>ã€<code>\r\n\0</code>ï¼‰</td><td>åè®®ç›´è§‚</td><td>éœ€è¦è½¬ä¹‰/æ‰«æ</td><td>æ–‡æœ¬åè®®ï¼ˆRedisã€HTTPï¼‰</td></tr><tr><td>â‘¢ æ¶ˆæ¯å¤´+é•¿åº¦å­—æ®µ</td><td>æŠ¥æ–‡=Headerï¼ˆé•¿åº¦ï¼‰+Body</td><td>é€šç”¨ã€å¯æ‰©å±•ã€æ— è½¬ä¹‰</td><td>éœ€è¦ç¼–è§£ç </td><td>å¤§å¤šæ•°ç§æœ‰ RPCã€æ¸¸æˆã€IM</td></tr><tr><td>â‘£ çŸ­è¿æ¥</td><td>ä¸€æ¬¡è¯·æ±‚â†’ä¸€æ¬¡ TCP è¿æ¥</td><td>æ— ç²˜åŒ…</td><td>ä¸‰æ¬¡æ¡æ‰‹+TIME_WAIT å¼€é”€å¤§</td><td>ä½é¢‘ã€ä½å¹¶å‘åœºæ™¯</td></tr></tbody></table>
<hr/>
<ol start="4">
<li>ä»£ç çº§å¤„ç†æµç¨‹ï¼ˆä»¥â€œæ¶ˆæ¯å¤´+é•¿åº¦å­—æ®µâ€ä¸¾ä¾‹ï¼‰</li>
</ol>
<hr/>
<p>æŠ¥æ–‡æ ¼å¼ï¼ˆå¤§ç«¯ï¼‰</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-addition">+--------+---------+</span>
| 4å­—èŠ‚  |  N å­—èŠ‚ |
| length | payload |
<span class="hljs-addition">+--------+---------+</span>
</code></pre>
<p>å‘é€ç«¯ï¼ˆPython ä¼ªç ï¼‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">send_msg</span>(<span class="hljs-params">sock, data: <span class="hljs-built_in">bytes</span></span>):
    length = <span class="hljs-built_in">len</span>(data)
    header = length.to_bytes(<span class="hljs-number">4</span>, byteorder=<span class="hljs-string">'big'</span>)
    sock.sendall(header + data)          <span class="hljs-comment"># ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨å³å¯</span>
</code></pre>
<p>æ¥æ”¶ç«¯ï¼ˆéé˜»å¡/å¼‚æ­¥é€šç”¨è§£ç å™¨ï¼‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Decoder</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self._buf = <span class="hljs-string">b''</span>
        self._expect = <span class="hljs-number">4</span>          <span class="hljs-comment"># å…ˆè¯»å¤´</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">feed</span>(<span class="hljs-params">self, chunk: <span class="hljs-built_in">bytes</span></span>) -&gt; <span class="hljs-built_in">list</span>[<span class="hljs-built_in">bytes</span>]:
        self._buf += chunk
        msgs = []
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            <span class="hljs-keyword">if</span> self._expect == <span class="hljs-number">4</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(self._buf) &gt;= <span class="hljs-number">4</span>:
                self._expect = <span class="hljs-built_in">int</span>.from_bytes(self._buf[:<span class="hljs-number">4</span>], <span class="hljs-string">'big'</span>)
                self._buf = self._buf[<span class="hljs-number">4</span>:]
            <span class="hljs-keyword">if</span> self._expect &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(self._buf) &gt;= self._expect:
                msgs.append(self._buf[:self._expect])
                self._buf = self._buf[self._expect:]
                self._expect = <span class="hljs-number">4</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">return</span> msgs
</code></pre>
<p>ä½¿ç”¨æ–¹å¼ï¼ˆasyncio ç¤ºä¾‹ï¼‰</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle</span>(<span class="hljs-params">reader, writer</span>):
    dec = Decoder()
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        chunk = <span class="hljs-keyword">await</span> reader.read(<span class="hljs-number">4096</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> chunk:
            <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">for</span> msg <span class="hljs-keyword">in</span> dec.feed(chunk):
            process(msg)          <span class="hljs-comment"># æ‹¿åˆ°å®Œæ•´ä¸šåŠ¡æŠ¥æ–‡</span>
</code></pre>
<hr/>
<ol start="5">
<li>é¢å¤–æ³¨æ„ç‚¹</li>
</ol>
<hr/>
<ol>
<li>å…³é—­ Nagleï¼šå¯¹å»¶è¿Ÿæ•æ„Ÿçš„åœºæ™¯ <code>TCP_NODELAY=1</code>ã€‚</li>
<li>å†…æ ¸æ¥æ”¶ç¼“å†²åŒºï¼š<code>SO_RCVBUF</code> è°ƒåˆ° â‰¥ å¸¦å®½Ã—RTTã€‚</li>
<li>å¤§æ–‡ä»¶/æµå¼åœºæ™¯ï¼šé‡‡ç”¨â€œåˆ†ç‰‡+æ ¡éªŒâ€æ–¹å¼ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ã€‚</li>
<li>åŒåè®®æ ˆï¼šå…¬ç½‘èµ° TLSï¼ˆé˜²ç¯¡æ”¹ï¼‰ï¼Œå†…ç½‘èµ°æ˜æ–‡+é•¿åº¦å­—æ®µï¼Œå‡å°‘ CPUã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-0">ä¸€å¥è¯æ€»ç»“</h2>
<p>â€œç²˜åŒ…ä¸æ˜¯ TCP çš„é”™ï¼Œæ˜¯æ²¡ç”¨å¥½æ¶ˆæ¯è¾¹ç•Œã€‚â€<br/>
è®°ä½ï¼š<strong>â€œå®šé•¿ã€åˆ†éš”ç¬¦ã€é•¿åº¦å­—æ®µã€çŸ­è¿æ¥â€å››å¤§æ­¦å™¨</strong>ï¼ŒæŒ‰åœºæ™¯é€‰ä¸€ä¸ªï¼ŒæŠŠè§£ç å™¨å†™æˆçŠ¶æ€æœºï¼Œç²˜åŒ…é—®é¢˜å°±å½»åº•è§£å†³äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æƒ…è¿·æœåŠ¡å™¨é©±åŠ¨ UIï¼šæˆ‘åœ¨ Flutter å¼€å‘ä¸­çš„çˆ±ä¸å“€æ„]]></title>    <link>https://juejin.cn/post/7593845442372223022</link>    <guid>https://juejin.cn/post/7593845442372223022</guid>    <pubDate>2026-01-12T01:47:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593845442372223022" data-draft-id="7591309945511411712" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æƒ…è¿·æœåŠ¡å™¨é©±åŠ¨ UIï¼šæˆ‘åœ¨ Flutter å¼€å‘ä¸­çš„çˆ±ä¸å“€æ„"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:47:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JarvanMo"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565845704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æƒ…è¿·æœåŠ¡å™¨é©±åŠ¨ UIï¼šæˆ‘åœ¨ Flutter å¼€å‘ä¸­çš„çˆ±ä¸å“€æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565845704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JarvanMo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:47:20.000Z" title="Mon Jan 12 2026 01:47:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å˜¿ï¼ŒFlutter å¼€å‘è€…ï¼å¦‚æœä½ æ›¾ç»ä¸ºäº†æŠŠä¸€ä¸ªæŒ‰é’®å¾€å·¦æŒª 20 åƒç´ ï¼Œå°±ä¸å¾—ä¸è‹¦ç­‰ä¸‰å¤©çš„ App Store å®¡æ ¸ï¼Œé‚£ä½ ä¸€å®šå¬è¿‡ <strong>Server-Driven UI (SDUI)</strong> çš„â€œè¿·é­‚æ›²â€ã€‚æˆ‘æ›¾åœ¨å¤§å‹é¡¹ç›®ä¸­è½åœ°è¿‡ SDUIï¼Œæ›¾ä¸ºæ­¤åœ¨å‡Œæ™¨ä¸‰ç‚¹å´©æºƒå¤§å“­ï¼Œä½†ä¹Ÿæœ€ç»ˆå­¦ä¼šäº†çˆ±ä¸Šå®ƒâ€”â€”å‰ææ˜¯ï¼Œä½ å¾—çŸ¥é“æ€ä¹ˆé©¯æœè¿™å¤´æ€ªå…½ã€‚</p>
<p>è¿™æ˜¯æˆ‘çš„å®æˆ˜å¿ƒå¾—ï¼šå®ƒçš„å¥½ï¼Œå®ƒçš„ä¸‘ï¼Œä»¥åŠåˆ°åº•ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ï¼ˆæˆ–ç»å¯¹åˆ«ç¢°ï¼‰å®ƒã€‚</p>
<h3 data-id="heading-0">é­”æ³•æ—¶åˆ»â€”â€”SDUI è®©ä½ åƒå¼€äº†æŒ‚</h3>
<ul>
<li><strong>ç¬é—´ä¸Šçº¿ï¼š</strong> å–æ¯æ—©å’–å•¡çš„åŠŸå¤«ï¼Œä½ å°±æ¢æ‰äº†æ•´ä¸ªé¦–é¡µâ€”â€”ä¸ç”¨é‡æ–°æ‰“åŒ…ï¼Œä¸ç”¨å‘å¸ƒï¼Œæ›´ä¸ç”¨ç­‰è‹¹æœå®¡æ ¸ã€‚</li>
<li><strong>ç©¶æ A/B æµ‹è¯•ï¼š</strong> æ˜å¤©ä¸Šçº¿ 15 ä¸ªä¸åŒç‰ˆæœ¬çš„ä¸‹å•æµç¨‹ï¼Œçœ‹çœ‹å“ªä¸ªè½¬åŒ–ç‡æœ€é«˜ã€‚è¿™æ‰æ˜¯çœŸæ­£çš„ A/B æµ‹è¯•ç»ˆæå½¢æ€ã€‚</li>
<li><strong>åƒäººåƒé¢ï¼š</strong> ç»™å…è´¹ç”¨æˆ·ã€é«˜çº§ç”¨æˆ·ã€å·´è¥¿ç”¨æˆ·æˆ–æ˜¯ä¸Šå‘¨å¼ƒè´­çš„ç”¨æˆ·å±•ç¤ºå®Œå…¨ä¸åŒçš„ UIã€‚</li>
<li><strong>è¿è¥è‡ªç”±ï¼š</strong> è®©å¸‚åœºéƒ¨åœ¨ 12 æœˆ 24 æ—¥æ™šä¸Š 11:59 å‘å¸ƒåœ£è¯æ´»åŠ¨ï¼Œè€Œä½ å®Œå…¨ä¸ç”¨èµ·åºŠã€‚</li>
<li><strong>è¿­ä»£æé€Ÿï¼š</strong> äº§å“ç»ç†å’Œè®¾è®¡å¸ˆçš„è¿­ä»£é€Ÿåº¦èƒ½å¿« 10 å€ï¼Œå› ä¸ºæ”¹ä¸ªæ–‡æ¡ˆè¿™ç§å°äº‹å†ä¹Ÿä¸ç”¨éº»çƒ¦ç§»åŠ¨ç«¯åŒå­¦äº†ã€‚</li>
<li><strong>åŒ…ä½“ç§¯ç˜¦èº«ï¼š</strong> å®‰è£…åŒ…é‡Œâ€œå†™æ­»â€çš„é¡µé¢å°‘äº†ï¼ŒAPK ä¹Ÿå°±è‹—æ¡äº†ã€‚</li>
<li><strong>ä¸€ä»½é€»è¾‘ï¼Œä¸‰ç«¯å…±ç”¨ï¼š</strong> ä¸€ä»½ JSON å°±èƒ½é©±åŠ¨ Flutter Appã€Web ç«¯ï¼Œç”šè‡³æœªæ¥çš„ React Native ç‰ˆæœ¬ã€‚</li>
<li><strong>ç°åº¦å‘å¸ƒæ˜“å¦‚åæŒï¼š</strong> è§‰å¾—æ–°æ¨¡å—ä¸ç¨³ï¼Ÿå…ˆåªå‘ç»™ 1% çš„ç”¨æˆ·çœ‹çœ‹æƒ…å†µã€‚</li>
<li><strong>ç¦»çº¿å‹å¥½ï¼š</strong> é…åˆå¥½ç¼“å­˜ï¼ŒApp åœ¨æ–­ç½‘æ—¶ä¾ç„¶èƒ½å®Œç¾è¿è¡Œâ€”â€”ç›´æ¥å±•ç¤ºæœ€åä¸€æ¬¡åŠ è½½æˆåŠŸçš„ç•Œé¢å°±è¡Œã€‚</li>
</ul>
<p><strong>è¿™ç§æ„Ÿè§‰å°±åƒåœ¨ä½œå¼Šã€‚è€Œæœ‰æ—¶å€™â€¦â€¦å®ƒç¡®å®å°±æ˜¯åœ¨èµ°æ·å¾„ã€‚</strong></p>
<hr/>
<h3 data-id="heading-1">é˜´æš—é¢â€”â€”æ²¡äººé¢„å…ˆå‘Šè¯‰ä½ çš„å‘</h3>
<ul>
<li><strong>ä¸€å­—ä¹‹é”™ï¼Œå…¨çº¿å´©æºƒï¼š</strong> JSON é‡Œå†™é”™ä¸€ä¸ª Keyï¼Œä½ å°±äº²æ‰‹ç»™ 200 ä¸‡ç”¨æˆ·å‘äº†ä¸ªç™½å±ã€‚è€Œä¸”è¿˜æ˜¯åœ¨å‘¨æ—¥å‡Œæ™¨ä¸‰ç‚¹ã€‚</li>
<li><strong>è°ƒè¯•å™©æ¢¦ï¼š</strong> Flutter Inspectorï¼ŸåŸºæœ¬æ²¡æˆã€‚çƒ­é‡è½½ï¼Ÿå¸®ä¸ä¸Šå¿™ã€‚ä½ åªèƒ½å¯¹ç€åŸå§‹ JSON ç–¯ç‹‚åˆ†æï¼Œç„¶ååœ¨çº¿ç¥ˆç¥·ã€‚</li>
<li><strong>åŠ¨ç”»ç»ˆç»“è€…ï¼š</strong> ä½ èŠ±äº†ä¸¤ä¸ªæ˜ŸæœŸç²¾å¿ƒè°ƒä¼˜çš„è‡ªå®šä¹‰åŠ¨ç”»ï¼Ÿç¥ä½ èƒ½ç”¨ JSON æŠŠå®ƒæè¿°å‡ºæ¥ã€‚</li>
<li><strong>æ€§èƒ½ç¨ï¼š</strong> æ¯ä¸ªé¡µé¢éƒ½è¦è·‘ 300-600 KB çš„è§£æé€»è¾‘ã€‚</li>
<li><strong>å±‚çº§æ·±æ¸Šï¼š</strong> è¿‡æ·±åµŒå¥—çš„ JSON ä¼šè®©é¦–å¸§å¡å¾—åƒå›åˆ°äº† 2018 å¹´ã€‚</li>
<li><strong>åç«¯â€œè¶Šæƒâ€ï¼š</strong> æ—¢ç„¶é€»è¾‘åœ¨åç«¯ï¼Œå‡ºäº‹äº†é”…å°±åœ¨åç«¯ã€‚æ­å–œä½ ï¼Œä½ ä»¬å›¢é˜Ÿåˆå¤šäº†ä¸€ä¸ªäº’ç›¸ç”©é”…çš„æœºä¼šã€‚</li>
<li><strong>å®¡ç¾å´©åï¼š</strong> åç«¯åŒå­¦å¯èƒ½å®Œå…¨ä¸æ‡‚ Material æˆ– Cupertino è§„èŒƒï¼Œåˆ†åˆ†é’Ÿæå‡ºä¸ªå››ä¸åƒã€‚</li>
<li><strong>å®‰å…¨æ¼æ´ï¼š</strong> å¦‚æœæ ¡éªŒä¸ä¸¥ï¼Œé‚£ä¸ªâ€œè·³è½¬ URLâ€çš„åŠ¨ä½œå¯èƒ½ä¼šæŠŠç”¨æˆ·å¸¦è¿›é’“é±¼ç½‘ç«™ã€‚</li>
<li><strong>å¤æ‚è¡¨å•ï¼š</strong> å¸¦è‡ªå®šä¹‰æ ¡éªŒé€»è¾‘çš„å¤æ‚è¡¨å•ï¼Œåšèµ·æ¥ç®€ç›´æ˜¯è‡ªæˆ‘æŠ˜ç£¨ã€‚</li>
</ul>
<p><strong>ç›¸ä¿¡æˆ‘ï¼Œè¿™äº›å‘æˆ‘éƒ½è¸©è¿‡ã€‚</strong></p>
<hr/>
<h3 data-id="heading-2">ä»€ä¹ˆæ—¶å€™ç”¨ SDUI æœ€çˆ½ï¼Ÿï¼ˆé—­çœ¼å…¥ï¼‰</h3>
<ul>
<li><strong>åŠ¨æ€é¡µé¢ï¼š</strong> é¦–é¡µã€ä¿¡æ¯æµã€ä»ªè¡¨ç›˜ï¼Œè¿™ç±»æ¯å‘¨éƒ½è¦å˜çš„é¡µé¢ã€‚</li>
<li><strong>è¿è¥æ´»åŠ¨ï¼š</strong> è¥é”€æ¨ªå¹…ã€èŠ‚æ—¥æ´»åŠ¨ã€é™æ—¶ç§’æ€ã€‚</li>
<li><strong>å†…å®¹é©±åŠ¨ï¼š</strong> æ–°é—»ã€æ•™è‚²ã€ç¤¾äº¤åŠ¨æ€ã€CMS é©±åŠ¨çš„äº§å“ã€‚</li>
<li><strong>é«˜é¢‘å®éªŒï¼š</strong> ä»»ä½•éœ€è¦ç–¯ç‹‚åš A/B æµ‹è¯•çš„åœ°æ–¹ã€‚</li>
<li><strong>ä¸ªæ€§åŒ–æµç¨‹ï¼š</strong> é“¶è¡Œæˆ–ç”µå•† App ä¸­ï¼Œä¸åŒç”¨æˆ·ç¾¤ä½“éœ€è¦ç¨å¾®ä¸åŒçš„æ“ä½œæµã€‚</li>
<li><strong>ç²¾é”éƒ¨é˜Ÿï¼š</strong> åç«¯å®åŠ›æå¼ºä¸”ç›‘æ§ä½“ç³»å®Œå–„çš„å¤§å‹å›¢é˜Ÿã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3">ä»€ä¹ˆæ—¶å€™ç”¨ SDUI ä¼šè®©ä½ æ€€ç–‘äººç”Ÿï¼Ÿï¼ˆå¿«è·‘ï¼ï¼‰</h3>
<ul>
<li><strong>æ ¸å¿ƒæµç¨‹ï¼š</strong> ç™»å½•ã€æ³¨å†Œã€æ”¯ä»˜ã€ç»“è´¦â€”â€”ä»»ä½•åäº†å°±ä¼šä¸¢é’±ã€ä¸¢ç”¨æˆ·çš„é¡µé¢ã€‚</li>
<li><strong>ç‚«é…·äº¤äº’ï¼š</strong> å¸¦æœ‰å¤æ‚åŠ¨ç”»ã€Custom Painterã€Shader æˆ– Lottie ç¥ä½œçš„é¡µé¢ã€‚</li>
<li><strong>é‡æ€§èƒ½ä½“éªŒï¼š</strong> ç›¸æœºã€è§†é¢‘ç¼–è¾‘å™¨ã€æ¸¸æˆã€åœ°å›¾ã€ARã€‚</li>
<li><strong>å°å›¢é˜Ÿ/åˆåˆ›ï¼š</strong> è¿˜æ²¡æœ‰é…é½ä¸“ä¸šçš„åç«¯å’Œè¿ç»´åŠ›é‡ã€‚</li>
<li><strong>ä¸‡å¹´ä¸å˜ï¼š</strong> App åŠå¹´æ‰æ”¹ä¸€æ¬¡ UIã€‚</li>
<li><strong>ç¼ºä¹åŸºå»ºï¼š</strong> å›¢é˜Ÿæ²¡æœ‰å®Œå–„çš„ç›‘æ§ã€å‘Šè­¦å’Œè‡ªåŠ¨å›æ»šæœºåˆ¶ã€‚</li>
</ul>
<p><strong>å¬æˆ‘ä¸€å¥åŠï¼šå¿«è·‘ï¼Œè·‘å¾—è¶Šè¿œè¶Šå¥½ã€‚</strong></p>
<hr/>
<h3 data-id="heading-4">å¦‚ä½•æ­£ç¡®è½åœ° SDUIï¼Ÿï¼ˆæˆ‘çš„â€œä¿å‘½â€æ¸…å•ï¼‰</h3>
<p>è¿™æ˜¯æˆ‘å¸Œæœ›ç¬¬ä¸€å¤©å°±èƒ½æ‹¿åˆ°çš„é¿å‘æŒ‡å—ï¼š</p>
<ol>
<li><strong>æ‹’ç»â€œå…¨é‡åŠ¨æ•ˆâ€ï¼š</strong> æ°¸è¿œä¸è¦ 100% SDUIã€‚ç›®æ ‡æ˜¯ 70-90% åŸç”Ÿ Flutter + 10-30% åŠ¨æ€ï¼ŒæŠŠå¤æ‚çš„é€»è¾‘ç•™åœ¨åŸç”Ÿã€‚</li>
<li><strong>æ ¸å¿ƒé€»è¾‘å†™æ­»ï¼š</strong> ç™»å½•ã€æ”¯ä»˜ã€è®¾ç½®ã€åº•éƒ¨å¯¼èˆªè¿™äº›æ ¸å¿ƒé“¾è·¯æ°¸è¿œç¡¬ç¼–ç ã€‚</li>
<li><strong>å»ºç«‹ç»„ä»¶åº“ï¼š</strong> æ‰“é€ ä¸€å¥—ç¥åœ£ä¸å¯ä¾µçŠ¯çš„ç»„ä»¶åº“ï¼ˆ15-25 ä¸ª Widgetï¼‰ã€‚åç«¯åªèƒ½é€šè¿‡è¿™äº›ç»„ä»¶æ¥â€œæ­ç§¯æœ¨â€ï¼Œç»æ— ä¾‹å¤–ã€‚</li>
<li><strong>Schema ç‰ˆæœ¬åŒ–ï¼š</strong> ç»™æ¯ä¸€ç‰ˆ JSON åŠ ä¸Šç‰ˆæœ¬å·ï¼ˆæ¯”å¦‚ <code>home_v17</code>ï¼‰ã€‚</li>
<li><strong>æ°¸ä¸è£¸å¥”ï¼š</strong> ä¸ºæ¯ä¸€ä¸ªåŠ¨æ€é¡µé¢å‡†å¤‡ä¸€ä¸ª<strong>åŸç”Ÿå…œåº•é¡µé¢</strong>ï¼ˆStatic Fallbackï¼‰ã€‚</li>
<li><strong>ä¸¥è‹›æ ¡éªŒï¼š</strong> åƒé˜²è´¼ä¸€æ ·æ ¡éªŒè¾“å…¥çš„ JSONï¼Œåªå…è®¸ç™½åå•å†…çš„æ“ä½œã€‚</li>
<li><strong>ç–¯ç‹‚ç¼“å­˜ï¼š</strong> ç”¨ Hive æˆ– Isar æå¥½ç¼“å­˜ã€‚ç”¨æˆ·çœ‹å½“å‰é¡µæ—¶ï¼Œå°±é¢„å–ä¸‹ä¸€é¡µã€‚</li>
<li><strong>é¹°çœ¼ç›‘æ§ï¼š</strong> ç›¯ç€è§£æé”™è¯¯ã€æ¸²æŸ“æ—¶é•¿å’Œå´©æºƒç‡ï¼Œä¸€ç‚¹éƒ½ä¸èƒ½æ¾æ‡ˆã€‚</li>
<li><strong>è‡ªåŠ¨å›æ»šï¼š</strong> è®¾å®šå¥½é˜ˆå€¼ã€‚å¦‚æœå‘å®Œ JSON å´©æºƒç‡ç¿»å€ï¼Œç¬é—´æ’¤å›ã€‚</li>
<li><strong>ä»å°å¼€å§‹ï¼š</strong> å…ˆè¯•ç€åŠ¨æ€åŒ–ä¸€ä¸ªè¥é”€æ¨ªå¹…ã€‚æˆåŠŸäº†ï¼Œåº†ç¥ä¸€ä¸‹ï¼Œå†æ…¢æ…¢æ‰©å¼ ã€‚</li>
</ol>
<p><strong>æŒ‰è¿™äº›è§„çŸ©åŠï¼ŒSDUI å°±æ˜¯ä½ æœ€å¼ºçš„æ­¦å™¨ã€‚å¦‚æœä¸æŒ‰è§„çŸ©æ¥ï¼Œä¸€ä¸ªè¿­ä»£å°±èƒ½è®©ä½ è€åå²ã€‚</strong></p>
<hr/>
<h3 data-id="heading-5">æœ€ç»ˆè£å†³â€”â€”ä½ è¯¥ç”¨å®ƒå—ï¼Ÿ</h3>
<ul>
<li><strong>å¤§å‚/å¤§ Appï¼ŒUI å˜åŠ¨é¢‘ç¹ï¼Œåç«¯å¼ºæ‚</strong> â†’ <strong>å†²å§</strong>ï¼Œæ‹¥æŠ±å®ƒï¼ˆè®°å¾—å¸¦ä¸Šä¸Šé¢çš„è§„åˆ™ï¼‰ã€‚</li>
<li><strong>ä¸­å‹ Appï¼Œæœ‰ä¸€äº›è¥é”€éœ€æ±‚</strong> â†’ <strong>æ¨è</strong>ï¼Œæ··åˆæ–¹æ¡ˆæœ€é¦™ã€‚</li>
<li><strong>å°å›¢é˜Ÿ/ä¸ªäººå¼€å‘è€…</strong> â†’ <strong>ç­‰ç­‰å†è¯´</strong>ï¼Œç­‰ä½ æœ‰ç²¾åŠ›æç›‘æ§å’ŒåŸºå»ºäº†å†æ¥ã€‚</li>
<li><strong>æ ¸å¿ƒæµ/é‡åº¦åŠ¨ç”»</strong> â†’ <strong>è€è€å®å®å†™ Flutter</strong>ï¼Œç¡ä¸ªå®‰ç¨³è§‰ã€‚</li>
</ul>
<p>SDUI ä¸æ˜¯é­”æ³•ï¼Œå®ƒæ˜¯ä¸€æŠŠ<strong>ç”µé”¯</strong>ï¼šåŒæ‰‹æŠ“ç¨³å¹¶å¿ƒå­˜æ•¬ç•æ—¶ï¼Œå®ƒå¨åŠ›æ— ç©·ï¼›ä½†è¦æ˜¯äº¤ç»™ä¸€ä¸ªæ²¡è§è¿‡ç”µé”¯çš„äººï¼Œåæœä¸å ªè®¾æƒ³ã€‚</p>
<p><strong>ç”¨å¾—å¥½ï¼Œä½ å°±æ˜¯å…¨è¡—å‘ç‰ˆæœ€å¿«çš„ä»”ï¼›ç”¨å¾—çƒ‚ï¼Œä½ å°±æ˜¯é‚£ä¸ªåœ£è¯èŠ‚è¢« Call èµ·æ¥ä¿® Bug çš„å€’éœ‰è›‹ã€‚</strong></p>
<p>è¨€å°½äºæ­¤ï¼Œå¥½è‡ªä¸ºä¹‹ã€‚</p>
<p>ç¥ä½ æ„å»ºæ„‰å¿«ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§†é¢‘æ’­æ”¾å¼±ç½‘æç¤ºå®ç°]]></title>    <link>https://juejin.cn/post/7593550315254218758</link>    <guid>https://juejin.cn/post/7593550315254218758</guid>    <pubDate>2026-01-12T01:55:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593550315254218758" data-draft-id="7593679324248178688" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§†é¢‘æ’­æ”¾å¼±ç½‘æç¤ºå®ç°"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-12T01:55:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤èŒ—å‰ç«¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3233040624266695"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§†é¢‘æ’­æ”¾å¼±ç½‘æç¤ºå®ç°
            <!----> <!----></h1> <div class="container team-follow" data-v-d326b38e="" data-v-61fb5e44=""><div class="left" data-v-d326b38e=""><a href="/team/7198439419173404711/posts" data-v-d326b38e=""><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dafcebf7c91d402abd52f072a32deba8~tplv-k3u1fbpfcp-watermark.image?" class="icon" data-v-d326b38e=""/></a> <div class="content" data-v-d326b38e=""><div style="display: flex" data-v-d326b38e=""><a href="/team/7198439419173404711/posts" data-v-d326b38e=""><p class="title-line" data-v-d326b38e=""><span title="å¤èŒ—å‰ç«¯å›¢é˜Ÿ" class="title" data-v-d326b38e="">å¤èŒ—å‰ç«¯å›¢é˜Ÿ</span> <img src="//lf-web-assets.juejin.cn/obj/juejin-web/xitu_juejin_web/255e400027b783cbad76dc41527e7695.svg" alt="team icon" class="team-icon" data-v-d326b38e=""/></p></a></div> <div class="meta-box team" data-v-d326b38e="" data-v-61fb5e44=""><time datetime="2026-01-12T01:55:48.000Z" title="Mon Jan 12 2026 01:55:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-d326b38e="" data-v-61fb5e44="">
                2026-01-12
              </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-d326b38e="" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-d326b38e="" data-v-61fb5e44=""/></svg> <span class="views-count" style="display:none;" data-v-d326b38e="" data-v-61fb5e44="">
                0
              </span> <span class="read-time" data-v-d326b38e="" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-d326b38e="" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-d326b38e="" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-d326b38e="" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-d326b38e="" data-v-61fb5e44=""/></svg>
                é˜…è¯»1åˆ†é’Ÿ
              </span> <!----> <!----></div></div></div> <button class="jj-follow-button follow-btn" style="display:none;" data-v-b60b2868="" data-v-d326b38e=""><span data-v-b60b2868="" data-v-d326b38e=""><i class="byte-icon byte-icon--plus" data-v-d326b38e=""><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48"><path fill="none" d="M0 0h48v48H0z"/><path d="M24.7 4c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8V22h16.7c.4 0 .6 0 .8.1.2.1.3.2.4.4.1.2.1.3.1.8v1.4c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1H26v16.7c0 .4 0 .6-.1.8-.1.2-.2.3-.4.4-.2.1-.3.1-.8.1h-1.4c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8V26H5.3c-.4 0-.6 0-.8-.1-.2-.1-.3-.2-.4-.4-.1-.2-.1-.3-.1-.8v-1.4c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1H22V5.3c0-.4 0-.6.1-.8.1-.2.2-.3.4-.4.2-.1.3-.1.8-.1h1.4z"/></svg></i>
        å…³æ³¨
      </span></button></div> <div class="team-user block-hidden" data-v-61fb5e44=""><div class="avatar jj-avatar avatar" data-v-03256cc6="" data-v-61fb5e44=""><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="avatar" class="lazy avatar-img" data-v-5244ef91="" data-v-03256cc6=""/> </div> <!----> <span class="position ellipsis" data-v-61fb5e44="">
              @å¤èŒ—ç§‘æŠ€
            </span></div> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œè€…ï¼šé™ˆç››é–</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>ä¸šåŠ¡ç¾¤é‡Œé¢ç»å¸¸åé¦ˆï¼Œè§†é¢‘æ’­æ”¾å¡é¡¿ï¼Œè§†é¢‘æ’­æ”¾æ€»æ˜¯åœç•™åœ¨æŸä¸€æ—¶åˆ»å°±æ’­æ”¾ä¸äº†äº†ã€‚åé¢ç»è¿‡æ’æŸ¥ï¼Œå‘ç°è¿™æ˜¯å› ä¸ºå¼±ç½‘å¯¼è‡´çš„ã€‚ç„¶è€Œï¼Œç”¨æˆ·æ•°é‡ä¼—å¤šï¼Œéš”ä¸‰å·®äº”æ€»æœ‰äººåœ¨ç¾¤é‡Œåé¦ˆï¼Œæœ‰æ—¶é—®é¢˜ä¸€æ—¶åŠä¼šå¥½ä¸äº†ï¼Œç”¨æˆ·å°±ä¼šæ€€ç–‘ä¸æ˜¯ç½‘ç»œï¼Œè€Œæ˜¯æˆ‘ä»¬çš„ç³»ç»Ÿé—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½åœ¨å¼±ç½‘çš„æ—¶å€™å±•ç¤ºæç¤ºï¼Œè¿™æ ·ç”¨æˆ·ä½“éªŒä¼šæ›´å‹å¥½ï¼ŒåŒæ—¶ä¹Ÿèƒ½å‡å°‘ä¸€å®šçš„å®¢è¯‰ã€‚</p>
<h2 data-id="heading-1">äºŒã€ç°çŠ¶åˆ†æ</h2>
<p>æˆ‘ä»¬ä½¿ç”¨çš„æ’­æ”¾å™¨æ˜¯chimee(<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.chimee.org%2Findex.html" target="_blank" title="https://www.chimee.org/index.html" ref="nofollow noopener noreferrer">www.chimee.org/index.html</a>)ã€‚é—æ†¾çš„æ˜¯ï¼Œchimeeå¹¶æ²¡æœ‰è§†é¢‘æ’­æ”¾å¡é¡¿è‡ªåŠ¨å±•ç¤ºloadingçš„åŠŸèƒ½ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶æ’ä»¶èƒ½åŠ›ï¼Œæ¥ç¼–å†™ä¸€ä¸ªè‡ªå®šä¹‰video-loadingçš„æ’ä»¶ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ–¹æ¡ˆè®¾è®¡</h2>
<h3 data-id="heading-3">ä½¿ç”¨NetworkInformation</h3>
<p>å¸¸è§çš„æ–¹æ³•å°±æ˜¯æˆ‘ä»¬é€šè¿‡è®¾å®šä¸€ä¸ªæ ‡å‡†ï¼Œç„¶åæ£€æµ‹ç”¨æˆ·è®¾å¤‡çš„ç½‘ç»œé€Ÿåº¦ï¼Œåœ¨åˆ°è¾¾ä¸€å®šé˜ˆå€¼æ—¶å±•ç¤ºå¼±ç½‘æç¤ºã€‚è¿™é‡Œéœ€è¦ç¡®å®šä¸€ä¸ªé‡è¦çš„ç‚¹ï¼šä»€ä¹ˆæƒ…å†µä¸‹æ‰ç®—å¼±ç½‘ï¼Ÿ</p>
<p>æˆ‘ä»¬çš„åº”ç”¨æ˜¯h5ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨windowå¯¹è±¡ä¸­çš„NetworkInformation(<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FNetworkInformation" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/NetworkInformation" ref="nofollow noopener noreferrer">developer.mozilla.org/zh-CN/docs/â€¦</a>)ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æµè§ˆå™¨çš„debugå·¥å…·ï¼Œæ‰“å°window.naviagtor.connectionï¼Œè¿™ä¸ªå¯¹è±¡å†…éƒ¨å°±å­˜å‚¨ç€ç½‘ç»œä¿¡æ¯ï¼š</p>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b3afc57fe0a4bbdb5f5965e68307e8e~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"/></p>
<p>å…¶ä¸­å„ä¸ªå±æ€§å«ä¹‰å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>





































<table><thead><tr><th>å±æ€§</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>downlink</td><td>è¿”å›ä»¥å…†æ¯”ç‰¹æ¯ç§’ä¸ºå•ä½çš„æœ‰æ•ˆå¸¦å®½ä¼°è®¡ï¼Œå››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„ 25 åƒæ¯”ç‰¹æ¯ç§’çš„å€æ•°ã€‚</td></tr><tr><td>downlinkMax</td><td>è¿”å›åº•å±‚è¿æ¥æŠ€æœ¯çš„æœ€å¤§ä¸‹è¡Œé€Ÿåº¦ï¼Œä»¥å…†æ¯”ç‰¹æ¯ç§’ï¼ˆMbpsï¼‰ä¸ºå•ä½ã€‚</td></tr><tr><td>effectiveType</td><td>è¿”å›è¿æ¥çš„æœ‰æ•ˆç±»å‹ï¼ˆæ„æ€æ˜¯â€œslow-2gâ€ã€â€œ2gâ€ã€â€œ3gâ€æˆ–â€œ4gâ€ä¸­çš„ä¸€ä¸ªï¼‰ã€‚æ­¤å€¼æ˜¯ä½¿ç”¨æœ€è¿‘è§‚å¯Ÿåˆ°çš„å¾€è¿”æ—¶é—´å’Œä¸‹è¡Œé“¾è·¯å€¼çš„ç»„åˆæ¥ç¡®å®šçš„ã€‚</td></tr><tr><td>rtt</td><td>è¿”å›å½“å‰è¿æ¥çš„æœ‰æ•ˆå¾€è¿”æ—¶é—´ä¼°è®¡ï¼Œå››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„ 25 æ¯«ç§’çš„å€æ•°ã€‚</td></tr><tr><td>saveData</td><td>å¦‚æœç”¨æˆ·åœ¨ç”¨æˆ·ä»£ç†ä¸Šè®¾ç½®äº†å‡å°‘æ•°æ®ä½¿ç”¨çš„é€‰é¡¹ï¼Œåˆ™è¿”å› trueã€‚</td></tr><tr><td>type</td><td>è¿”å›è®¾å¤‡ç”¨äºç½‘ç»œé€šä¿¡çš„è¿æ¥ç±»å‹ã€‚å®ƒä¼šæ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š<br/><strong>bluetooth</strong> <br/><strong>cellular</strong> <br/> <strong>ethernet</strong><br/><strong>none</strong><br/><strong>wifi</strong><br/><strong>wimax</strong><br/><strong>other</strong><br/><strong>unknown</strong></td></tr><tr><td>onchange</td><td>æ¥å£çš„ <strong>change</strong> äº‹ä»¶åœ¨ç½‘ç»œè¿æ¥ä¿¡æ¯å‘ç”Ÿå˜åŒ–æ—¶è¢«è§¦å‘ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶ç”± NetworkInformation(<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FNetworkInformation" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/NetworkInformation" ref="nofollow noopener noreferrer">developer.mozilla.org/zh-CN/docs/â€¦</a>) å¯¹è±¡æ¥æ”¶ã€‚</td></tr></tbody></table>
<p>å…¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡effectiveTypeåˆ¤æ–­å½“å‰ç½‘ç»œçš„å¤§ä½“æƒ…å†µï¼Œå¹¶ä¸”å¯ä»¥æ‹¿åˆ°ä¸€ä¸ªé¢„ä¼°çš„ç½‘ç»œå¸¦å®½(downlink)ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬onchangeäº‹ä»¶ï¼Œåœ¨ç½‘ç»œå˜å·®çš„æ—¶å€™ï¼Œå±•ç¤ºå¯¹åº”çš„å¼±ç½‘æç¤ºã€‚</p>
<p>è¿™ä¸ªæ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li><strong>æµè§ˆå™¨ç¯å¢ƒåŸç”Ÿæ”¯æŒ</strong></li>
<li><strong>å®ç°ç›¸å¯¹ç®€å•</strong></li>
</ul>
<p>ä½†ç¼ºç‚¹å´ååˆ†æ˜æ˜¾ï¼š</p>
<ul>
<li><strong>ç½‘ç»œçŠ¶æ€å˜åŒ–éå®æ—¶</strong></li>
</ul>
<p>effectiveTypeçš„å˜åŒ–å¯èƒ½æ˜¯åˆ†é’Ÿçº§åˆ«çš„ï¼Œå¯¹äºçŸ­æš‚çš„ç½‘ç»œæ³¢åŠ¨ï¼ŒçŠ¶æ€æ²¡åŠæ³•åšæ›´ç²¾ç»†çš„æŠŠæ§</p>
<ul>
<li><strong>å­˜åœ¨å…¼å®¹æ€§é—®é¢˜</strong></li>
</ul>
<p>å¯¹äºä¸åŒä¸€äº›ä¸»æµæµè§ˆå™¨ä¸æ”¯æŒï¼Œä¾‹å¦‚Firefoxã€Safariç­‰</p>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d189efd937c74d1eb2f31d0b58c0b21a~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä¸åŒè®¾å¤‡é—´å­˜åœ¨å·®å¼‚</strong></li>
</ul>
<p>ä¸åŒçš„è®¾å¤‡å’Œæµè§ˆå™¨ï¼Œç”±äºå…¶å·®å¼‚ï¼Œåœ¨ä¸åŒçš„ç½‘ç»œæƒ…å†µä¸‹ï¼Œè§†é¢‘çš„æ’­æ”¾æƒ…å†µæ˜¯ä¸ä¸€æ ·çš„ï¼Œå¦‚æœæˆ‘ä»¬å›ºå®šä¸€ä¸ªæ ‡å‡†ï¼Œå¯èƒ½ä¼šå¯¼è‡´åœ¨ä¸åŒè®¾å¤‡ä¸‹ï¼ŒåŒä¸€ä¸ªç½‘ç»œé€Ÿåº¦ï¼Œæœ‰äººæ˜æ˜æ­£å¸¸æ’­æ”¾è§†é¢‘ï¼Œä½†æ˜¯å´æç¤ºç½‘ç»œå¼‚å¸¸ï¼Œè¿™æ ·ç”¨æˆ·ä¼šæ„Ÿåˆ°ç–‘æƒ‘ã€‚</p>
<p>é‚£æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•å‘¢ï¼Ÿ</p>
<h3 data-id="heading-4">ç›‘å¬Videoå…ƒç´ äº‹ä»¶</h3>
<p>chimeeåº•å±‚ä¹Ÿæ˜¯åœ¨html videoä¸Šè¿›è¡Œçš„äºŒæ¬¡å°è£…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ’ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæ‹¿åˆ°å¯¹åº”çš„videoå…ƒç´ èŠ‚ç‚¹ã€‚è€Œåœ¨videoæ ‡ç­¾ä¸­ï¼Œå­˜åœ¨è¿™æ ·ä¸¤ä¸ªäº‹ä»¶ï¼šwaitingå’Œcanplayã€‚</p>
<p>å…¶äº‹ä»¶æè¿°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/27bbb9b9011549c5a00873c9814703f4~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"/></p>
<p>å½“è§†é¢‘æ’­æ”¾å¡é¡¿æ—¶ï¼Œä¼šè§¦å‘waitingäº‹ä»¶ï¼›è€Œå½“è§†é¢‘æ’­æ”¾æ¢å¤æ­£å¸¸æ—¶ï¼Œä¼šè§¦å‘canplayäº‹ä»¶ã€‚åªè¦ç›‘å¬è¿™ä¸¤ä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°å¯¹åº”çš„åŠŸèƒ½äº†ã€‚</p>
<h2 data-id="heading-5">å››ã€åŠŸèƒ½æ‹“å±•</h2>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œç°åœ¨å¤§å¤šæ•°ç½‘ç«™çš„è§†é¢‘åœ¨æç¤ºå¼±ç½‘çš„æ—¶å€™ï¼Œéƒ½ä¼šå±•ç¤ºå½“å‰è®¾å¤‡çš„ç½‘ç»œé€Ÿåº¦æ˜¯å¤šå°‘ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¸Œæœ›åœ¨å±•ç¤ºå¯¹åº”çš„ä¿¡æ¯ã€‚é‚£ä¹ˆæ€ä¹ˆå®ç°ç½‘ç»œé€Ÿåº¦çš„æ£€æµ‹å‘¢ï¼Ÿ</p>
<p>ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è·å–ä¸€å¼ å›ºå®šå¤§å°çš„å›¾ç‰‡èµ„æº(ä¸ä¸€å®šæ˜¯å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥æ˜¯åˆ«çš„ç±»å‹çš„èµ„æºï¼‰ï¼Œå¹¶ç»Ÿè®¡è¯·æ±‚è¯¥èµ„æºçš„è¯·æ±‚é€Ÿåº¦ï¼Œä»è€Œè®¡ç®—å½“å‰ç½‘ç»œçš„å¸¦å®½æ˜¯å¤šå°‘ã€‚å½“ç„¶ï¼Œå›¾ç‰‡å¤§å°è¦å°½å¯èƒ½å°ä¸€ç‚¹ï¼Œä¸€æ˜¯ä¸ºäº†èŠ‚çœç”¨æˆ·æµé‡ï¼ŒäºŒæ˜¯ä¸ºäº†é¿å…åœ¨ç½‘ç»œä¸å¥½çš„æƒ…å†µä¸‹ï¼Œå›¾ç‰‡è¯·æ±‚å¤ªæ…¢å¯¼è‡´ä¸€ç›´è®¡ç®—ä¸å‡ºæ¥ã€‚</p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">funtion <span class="hljs-title function_">calculateSpeed</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å›¾ç‰‡å¤§å°772Byte</span>
  <span class="hljs-keyword">const</span> fileSize = <span class="hljs-number">772</span>;
  <span class="hljs-comment">// æ‹¼æ¥æ—¶é—´æˆ³ï¼Œé¿å…ç¼“å­˜</span>
  <span class="hljs-keyword">const</span> imgUrl = <span class="hljs-string">`https://xxx.png?timestamp=<span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()}</span>`</span>;

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> start = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> end = <span class="hljs-number">1000</span>;
    <span class="hljs-keyword">let</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
    start = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();
    img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
        end = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>();
        <span class="hljs-comment">// è®¡ç®—å‡ºæ¥çš„å•ä½ä¸º B/s</span>
        <span class="hljs-keyword">const</span> speed = fileSize / (end &gt; start ? end - start : <span class="hljs-number">1000</span>) * <span class="hljs-number">1000</span>;
        <span class="hljs-title function_">resolve</span>(speed);
    }
    img.<span class="hljs-property">src</span> = imgUrl;
  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> { <span class="hljs-keyword">throw</span> err });
}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">translateUnit</span>(<span class="hljs-params">speed</span>) {
  <span class="hljs-keyword">if</span>(speed === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'0.00 B/s'</span>;
  <span class="hljs-keyword">if</span>(speed &gt; <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${(speed / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>).toFixed(<span class="hljs-number">2</span>)}</span> MB/s`</span>;
  <span class="hljs-keyword">if</span>(speed &gt; <span class="hljs-number">1024</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${(speed / <span class="hljs-number">1024</span>).toFixed(<span class="hljs-number">2</span>)}</span> KB/s`</span>;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${speed.toFixed(<span class="hljs-number">2</span>)}</span> B/s`</span>;
}
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡setIntervalæ¥è½®è¯¢è°ƒç”¨è¯¥å‡½æ•°ï¼Œä»è€Œå®æ—¶å±•ç¤ºå½“å‰ç½‘ç»œæƒ…å†µã€‚ç³»ç»Ÿæµç¨‹å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eec9f120b75446a7a3d69a1a7ee950c9~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="ç”»æ¿" loading="lazy"/></p>
<h2 data-id="heading-6">äº”ã€æ€»ç»“</h2>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡Chromeæµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­çš„Networkä¸­çš„ç½‘ç»œé…ç½®æ¥æ¨¡æ‹Ÿå¼±ç½‘æƒ…å†µ
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1e6c0e3d8de4244a9d68015e5f6f8f5~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"/>
å…·ä½“æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76b4b8cc3a8d41dcb9711593605e6287~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp" alt="" loading="lazy"/></p>
<p>æˆåŠŸå®ç°è§†é¢‘å¼±ç½‘æç¤ºï¼Œå®Œç»“æ’’èŠ±ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å­˜å‚¨ä¸ç¦»çº¿åº”ç”¨å®æˆ˜ï¼šCookieã€LocalStorageã€PWA åŠ Service Worker æ ¸å¿ƒçŸ¥è¯†ç‚¹]]></title>    <link>https://juejin.cn/post/7593944180918190090</link>    <guid>https://juejin.cn/post/7593944180918190090</guid>    <pubDate>2026-01-12T02:02:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593944180918190090" data-draft-id="7593944180918173706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å­˜å‚¨ä¸ç¦»çº¿åº”ç”¨å®æˆ˜ï¼šCookieã€LocalStorageã€PWA åŠ Service Worker æ ¸å¿ƒçŸ¥è¯†ç‚¹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-12T02:02:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç‹å’Œå…«è›‹"/> <meta itemprop="url" content="https://juejin.cn/user/1658510348133944"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å­˜å‚¨ä¸ç¦»çº¿åº”ç”¨å®æˆ˜ï¼šCookieã€LocalStorageã€PWA åŠ Service Worker æ ¸å¿ƒçŸ¥è¯†ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1658510348133944/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç‹å’Œå…«è›‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T02:02:30.000Z" title="Mon Jan 12 2026 02:02:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">1. å‰è¨€</h3>
<p>è¯¥æ–‡ç« å›´ç»•æµè§ˆå™¨å­˜å‚¨åŠç›¸å…³æŠ€æœ¯å±•å¼€ï¼Œæ ¸å¿ƒæ¶µç›–<strong>Cookieã€LocalStorageã€SessionStorageã€IndexedDB</strong> å››ç§æµè§ˆå™¨å­˜å‚¨æ–¹å¼ï¼ˆå„æœ‰å­˜å‚¨å¤§å°ã€ä½¿ç”¨åœºæ™¯ç­‰å·®å¼‚ï¼‰ï¼ŒåŒæ—¶ä»‹ç»äº† <strong>PWAï¼ˆæ¸è¿›å¼ Web åº”ç”¨ï¼‰</strong> çš„ç‰¹æ€§ä¸ç›¸å…³å·¥å…·ï¼Œä»¥åŠ <strong>Service Worker</strong> çš„ä½œç”¨ã€è¿è¡Œæœºåˆ¶å’Œè°ƒè¯•æ–¹å¼ï¼Œæœ€ç»ˆé€šè¿‡æ¡ˆä¾‹åˆ†æä¸å®æˆ˜å¸®åŠ©å­¦ä¹ è€…æŒæ¡å„ç±»æŠ€æœ¯çš„æ¦‚å¿µã€ä½¿ç”¨åŠé€‰æ‹©é€»è¾‘ã€‚</p>
<h3 data-id="heading-1">2.æ€ç»´å¯¼å›¾ï¼ˆmindmapï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b420de4b6fa4614b23be57c15d9bd63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP546L5ZKM5YWr6JuL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768788149&amp;x-signature=r1gHuU0lbS3aOvQpuhbUDGsnRVk%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">3.æµè§ˆå™¨å­˜å‚¨æ–¹å¼è¯¦æƒ…ï¼ˆæ ¸å¿ƒå¯¹æ¯”ï¼‰</h3>








































<table><thead><tr><th align="center">å­˜å‚¨æ–¹å¼</th><th align="center">æ ¸å¿ƒå®šä½</th><th align="center">å­˜å‚¨å¤§å°</th><th align="center">å…³é”®ç‰¹æ€§</th><th align="center">å…¸å‹ç”¨é€”</th></tr></thead><tbody><tr><td align="center">Cookie</td><td align="center">ç»´æŒ HTTP æ— çŠ¶æ€çš„å®¢æˆ·ç«¯çŠ¶æ€å­˜å‚¨</td><td align="center">çº¦ 4KB</td><td align="center">1. ç”Ÿæˆæ–¹å¼ï¼šHTTP å“åº”å¤´ set-cookieã€JS çš„ document.cookieï¼›2. å…³è”å¯¹åº”åŸŸåï¼ˆå­˜åœ¨ CDN æµé‡æŸè€—ï¼‰ï¼›3. æ”¯æŒ httponly å±æ€§ï¼›4. å¯è®¾ç½® expire è¿‡æœŸæ—¶é—´</td><td align="center">è¾¨åˆ«ç”¨æˆ·ã€è®°å½•å®¢æˆ·åŸºç¡€ä¿¡æ¯</td></tr><tr><td align="center">LocalStorage</td><td align="center">HTML5 ä¸“ç”¨æµè§ˆå™¨æœ¬åœ°å­˜å‚¨</td><td align="center">çº¦ 5M</td><td align="center">1. ä»…å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸ä¸æœåŠ¡ç«¯é€šä¿¡ï¼›2. æ¥å£å°è£…æ›´å‹å¥½ï¼›3. æŒä¹…åŒ–å­˜å‚¨ï¼ˆé™¤éä¸»åŠ¨æ¸…é™¤ï¼‰</td><td align="center">æµè§ˆå™¨æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆ</td></tr><tr><td align="center">SessionStorage</td><td align="center">ä¼šè¯çº§æµè§ˆå™¨å­˜å‚¨</td><td align="center">çº¦ 5M</td><td align="center">1. ä»…å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸ä¸æœåŠ¡ç«¯é€šä¿¡ï¼›2. æ¥å£å°è£…æ›´å‹å¥½ï¼›3. ä¼šè¯ç»“æŸåæ•°æ®æ¸…é™¤</td><td align="center">ä¸´æ—¶ç»´æŠ¤è¡¨å•ä¿¡æ¯</td></tr><tr><td align="center">IndexedDB</td><td align="center">å®¢æˆ·ç«¯å¤§å®¹é‡ç»“æ„åŒ–æ•°æ®å­˜å‚¨</td><td align="center">-ï¼ˆæ— æ˜ç¡®é™åˆ¶ï¼Œæ”¯æŒå¤§é‡æ•°æ®ï¼‰</td><td align="center">1. ä½çº§ APIï¼Œæ”¯æŒç´¢å¼•ï¼›2. é«˜æ€§èƒ½æ•°æ®æœç´¢ï¼›3. å¼¥è¡¥ Web Storage å¤§å®¹é‡å­˜å‚¨çŸ­æ¿</td><td align="center">ä¸ºåº”ç”¨åˆ›å»ºç¦»çº¿ç‰ˆæœ¬</td></tr></tbody></table>
<h4 data-id="heading-3">ä¸‰ã€PWAï¼ˆProgressive Web Appsï¼‰ç›¸å…³</h4>
<ol>
<li>
<p>å®šä¹‰ï¼šå¹¶éå•ä¸€æŠ€æœ¯ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ç³»åˆ— Web æ–°ç‰¹æ€§ + ä¼˜ç§€ UI äº¤äº’è®¾è®¡ï¼Œæ¸è¿›å¼å¢å¼º Web App ç”¨æˆ·ä½“éªŒçš„æ–°æ¨¡å‹</p>
</li>
<li>
<p>æ ¸å¿ƒç‰¹æ€§ï¼š</p>
<ul>
<li>
<p>å¯é ï¼šæ— ç½‘ç»œç¯å¢ƒä¸‹å¯æä¾›åŸºæœ¬é¡µé¢è®¿é—®ï¼Œé¿å… â€œæœªè¿æ¥åˆ°äº’è”ç½‘â€ æç¤º</p>
</li>
<li>
<p>å¿«é€Ÿï¼šé’ˆå¯¹ç½‘é¡µæ¸²æŸ“å’Œç½‘ç»œæ•°æ®è®¿é—®åšäº†ä¸“é¡¹ä¼˜åŒ–</p>
</li>
<li>
<p>èå…¥ï¼šå¯æ·»åŠ åˆ°æ‰‹æœºæ¡Œé¢ï¼Œæ”¯æŒå…¨å±æ˜¾ç¤ºã€æ¨é€ç­‰åŸç”Ÿåº”ç”¨ç±»ä¼¼ç‰¹æ€§</p>
</li>
</ul>
</li>
<li>
<p>ç›¸å…³å·¥å…·ï¼šlighthouseï¼ˆä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flavas.baidu.com%2Fdoc-assets%2Flavas%2Fvue%2Fmore%2Fdownloads%2Flighthouse_2.1.0_0.zip%25EF%25BC%2589" target="_blank" title="https://lavas.baidu.com/doc-assets/lavas/vue/more/downloads/lighthouse_2.1.0_0.zip%EF%BC%89" ref="nofollow noopener noreferrer">lavas.baidu.com/doc-assets/â€¦</a></p>
</li>
</ol>
<h4 data-id="heading-4">å››ã€Service Worker ç›¸å…³</h4>
<ol>
<li>å®šä¹‰ï¼šç‹¬ç«‹äºå½“å‰ç½‘é¡µï¼Œåœ¨æµè§ˆå™¨åå°è¿è¡Œçš„è„šæœ¬ï¼Œä¸ºæ— é¡µé¢ / æ— ç”¨æˆ·äº¤äº’åœºæ™¯çš„ç‰¹æ€§æä¾›æ”¯æŒ</li>
<li>æ ¸å¿ƒèƒ½åŠ›ï¼š
<ul>
<li>é¦–è¦ç‰¹æ€§ï¼šæ‹¦æˆªå’Œå¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œç¼–ç¨‹å¼ç®¡ç†ç¼“å­˜å“åº”</li>
<li>æœªæ¥ç‰¹æ€§ï¼šæ¨é€æ¶ˆæ¯ã€èƒŒæ™¯åŒæ­¥ã€åœ°ç†å›´æ å®šä½ï¼ˆgeofencingï¼‰</li>
</ul>
</li>
<li>ç”Ÿå‘½å‘¨æœŸï¼šInstallingï¼ˆå®‰è£…ä¸­ï¼‰â†’ Activatedï¼ˆæ¿€æ´»ï¼‰â†’ Idleï¼ˆé—²ç½®ï¼‰/ Terminatedï¼ˆç»ˆæ­¢ï¼‰ï¼Œè¿‡ç¨‹ä¸­å¯èƒ½å‡ºç° Errorï¼ˆé”™è¯¯ï¼‰</li>
<li>è°ƒè¯•åœ°å€ï¼š
<ul>
<li>chrome://serviceworker-internals/</li>
<li>chrome://inspect/#service-workers</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-5">4. å…³é”®é—®é¢˜</h3>
<h4 data-id="heading-6">é—®é¢˜ 1ï¼šCookie ä¸ LocalStorage ä½œä¸ºæµè§ˆå™¨å­˜å‚¨æ–¹å¼ï¼Œæ ¸å¿ƒå·®å¼‚ä½“ç°åœ¨å“ªäº›æ–¹é¢ï¼Ÿ</h4>
<p><strong>ç­”æ¡ˆ</strong>ï¼šä¸¤è€…æ ¸å¿ƒå·®å¼‚é›†ä¸­åœ¨ 4 ç‚¹ï¼š1. å­˜å‚¨å¤§å°ï¼šCookie çº¦ 4KBï¼ŒLocalStorage çº¦ 5Mï¼›2. é€šä¿¡ç‰¹æ€§ï¼šCookie ä¼šéš HTTP è¯·æ±‚å‘é€è‡³æœåŠ¡ç«¯ï¼ˆå…³è”åŸŸåå¯¼è‡´ CDN æµé‡æŸè€—ï¼‰ï¼ŒLocalStorage ä»…åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸ä¸æœåŠ¡ç«¯é€šä¿¡ï¼›3. æ ¸å¿ƒå®šä½ï¼šCookie ä¾§é‡ç»´æŒ HTTP æ— çŠ¶æ€çš„å®¢æˆ·ç«¯çŠ¶æ€ï¼ŒLocalStorage æ˜¯ HTML5 è®¾è®¡çš„ä¸“ç”¨æœ¬åœ°ç¼“å­˜æ–¹æ¡ˆï¼›4. é™„åŠ ç‰¹æ€§ï¼šCookie æ”¯æŒ expire è¿‡æœŸæ—¶é—´å’Œ httponly å±æ€§ï¼ŒLocalStorage æ— è¿‡æœŸæ—¶é—´ï¼ˆéœ€ä¸»åŠ¨æ¸…é™¤ï¼‰ä¸”æ—  httponly ç›¸å…³è®¾ç½®ã€‚</p>
<h4 data-id="heading-7">é—®é¢˜ 2ï¼šPWA èƒ½æä¾› â€œå¯é ã€å¿«é€Ÿã€èå…¥â€ çš„ç”¨æˆ·ä½“éªŒï¼Œå…¶èƒŒåä¾èµ–çš„å…³é”®æŠ€æœ¯æ”¯æ’‘æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p><strong>ç­”æ¡ˆ</strong>ï¼šPWA çš„æ ¸å¿ƒä½“éªŒä¾èµ–ä¸¤å¤§å…³é”®æŠ€æœ¯ï¼š1. Service Workerï¼šé€šè¿‡åå°è¿è¡Œçš„è„šæœ¬æ‹¦æˆªç½‘ç»œè¯·æ±‚ã€ç®¡ç†ç¼“å­˜å“åº”ï¼Œå®ç°æ— ç½‘ç»œç¯å¢ƒä¸‹çš„åŸºæœ¬é¡µé¢è®¿é—®ï¼ˆæ”¯æ’‘ â€œå¯é â€ ç‰¹æ€§ï¼‰ï¼ŒåŒæ—¶ä¼˜åŒ–ç½‘ç»œæ•°æ®è®¿é—®æ•ˆç‡ï¼ˆè¾…åŠ© â€œå¿«é€Ÿâ€ ç‰¹æ€§ï¼‰ï¼›2. IndexedDBï¼šæä¾›å®¢æˆ·ç«¯å¤§å®¹é‡ç»“æ„åŒ–æ•°æ®å­˜å‚¨èƒ½åŠ›ï¼Œä¸º PWA ç¦»çº¿ç‰ˆæœ¬æä¾›æ•°æ®æ”¯æ’‘ï¼ˆå¼ºåŒ– â€œå¯é â€ ç‰¹æ€§ï¼‰ï¼›æ­¤å¤–ï¼ŒWeb æ–°ç‰¹æ€§ä¸ä¼˜åŒ–çš„ UI äº¤äº’è®¾è®¡å…±åŒä¿éšœäº† â€œå¿«é€Ÿâ€ å’Œ â€œèå…¥â€ï¼ˆå¦‚æ¡Œé¢æ·»åŠ ã€å…¨å±æ˜¾ç¤ºï¼‰ç‰¹æ€§çš„å®ç°ã€‚</p>
<h4 data-id="heading-8">é—®é¢˜ 3ï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œå¦‚ä½•æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æµè§ˆå™¨å­˜å‚¨æ–¹å¼ï¼Ÿ</h4>
<p><strong>ç­”æ¡ˆ</strong>ï¼šéœ€ç»“åˆå­˜å‚¨æ•°æ®é‡ã€ä½¿ç”¨åœºæ™¯ã€æ˜¯å¦ä¸æœåŠ¡ç«¯äº¤äº’ç­‰éœ€æ±‚åˆ¤æ–­ï¼š1. è‹¥éœ€å­˜å‚¨å°‘é‡ç”¨æˆ·æ ‡è¯†ã€ä¼šè¯çŠ¶æ€ï¼ˆéœ€éšè¯·æ±‚å‘é€è‡³æœåŠ¡ç«¯ï¼‰ï¼Œé€‰æ‹© Cookieï¼ˆçº¦ 4KBï¼Œæ”¯æŒè¿‡æœŸæ—¶é—´ï¼‰ï¼›2. è‹¥éœ€åœ¨å®¢æˆ·ç«¯æŒä¹…åŒ–å­˜å‚¨ä¸­ç­‰å®¹é‡æ•°æ®ï¼ˆä¸ä¸æœåŠ¡ç«¯äº¤äº’ï¼‰ï¼Œå¦‚æœ¬åœ°ç¼“å­˜é…ç½®ã€ç”¨æˆ·åå¥½ï¼Œé€‰æ‹© LocalStorageï¼ˆçº¦ 5Mï¼‰ï¼›3. è‹¥éœ€ä¸´æ—¶å­˜å‚¨ä¼šè¯æœŸé—´çš„è¡¨å•æ•°æ®ã€é¡µé¢ä¸´æ—¶çŠ¶æ€ï¼ˆä¼šè¯ç»“æŸåæ— éœ€ä¿ç•™ï¼‰ï¼Œé€‰æ‹© SessionStorageï¼ˆçº¦ 5Mï¼‰ï¼›4. è‹¥éœ€å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ï¼ˆå¦‚ç¦»çº¿åº”ç”¨çš„æœ¬åœ°æ•°æ®åº“ï¼‰ï¼Œæ”¯æ’‘åº”ç”¨ç¦»çº¿ä½¿ç”¨ï¼Œé€‰æ‹© IndexedDBï¼ˆæ— æ˜ç¡®å®¹é‡é™åˆ¶ï¼Œæ”¯æŒç´¢å¼•å’Œé«˜æ€§èƒ½æœç´¢ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€å‘Šåˆ«Vibe Codingï¼ç”¨Superpowersè®©Claude Codeå†™å‡ºå·¥ç¨‹çº§ä»£ç ï¼Œä¸€æ¬¡é€šè¿‡é›¶æŠ¥é”™ï¼éµå¾ªTDDæœ€ä½³å®è·µï¼æ”¯æŒCodexå’ŒOpenCo]]></title>    <link>https://juejin.cn/post/7593573617648123956</link>    <guid>https://juejin.cn/post/7593573617648123956</guid>    <pubDate>2026-01-12T01:55:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593573617648123956" data-draft-id="7593913760042827785" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€å‘Šåˆ«Vibe Codingï¼ç”¨Superpowersè®©Claude Codeå†™å‡ºå·¥ç¨‹çº§ä»£ç ï¼Œä¸€æ¬¡é€šè¿‡é›¶æŠ¥é”™ï¼éµå¾ªTDDæœ€ä½³å®è·µï¼æ”¯æŒCodexå’ŒOpenCo"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹,AIGC"/> <meta itemprop="datePublished" content="2026-01-12T01:55:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="win4r"/> <meta itemprop="url" content="https://juejin.cn/user/1739869037541555"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€å‘Šåˆ«Vibe Codingï¼ç”¨Superpowersè®©Claude Codeå†™å‡ºå·¥ç¨‹çº§ä»£ç ï¼Œä¸€æ¬¡é€šè¿‡é›¶æŠ¥é”™ï¼éµå¾ªTDDæœ€ä½³å®è·µï¼æ”¯æŒCodexå’ŒOpenCo
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1739869037541555/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    win4r
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:55:32.000Z" title="Mon Jan 12 2026 01:55:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Superpowers</strong> æ˜¯ä¸€ä¸ªä¸º AI ç¼–ç¨‹ä»£ç†ï¼ˆå¦‚ Claude Codeã€Codexã€OpenCodeï¼‰æ‰“é€ çš„å®Œæ•´è½¯ä»¶å¼€å‘å·¥ä½œæµç³»ç»Ÿã€‚å®ƒçš„æ ¸å¿ƒç†å¿µæ˜¯ï¼šé€šè¿‡ä¸€å¥—å¯ç»„åˆçš„"æŠ€èƒ½"ï¼ˆSkillsï¼‰å’Œåˆå§‹æŒ‡ä»¤ï¼Œè®© AI ä»£ç†åœ¨ç¼–å†™ä»£ç æ—¶è‡ªåŠ¨éµå¾ªæœ€ä½³å®è·µï¼Œè€Œä¸æ˜¯åƒ"æ²¡æœ‰ç»éªŒçš„åˆçº§å·¥ç¨‹å¸ˆ"é‚£æ ·éšæ„è¡Œäº‹ã€‚</p>
<p>ğŸ”¥ğŸ”¥ğŸ”¥æœ¬ç¯‡ç¬”è®°æ‰€å¯¹åº”çš„è§†é¢‘ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV11urFBrEc4%2F" target="_blank" title="https://www.bilibili.com/video/BV11urFBrEc4/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV11uâ€¦</a></p>
<p>é¡¹ç›®ç”± Jesse Vincentï¼ˆGitHub: obraï¼‰å¼€å‘ï¼Œç›®å‰å·²è·å¾— 16.1k æ˜Ÿæ ‡å’Œ 1.3k åˆ†å‰ï¼Œç¤¾åŒºæ´»è·ƒåº¦å¾ˆé«˜ã€‚</p>
<hr/>
<h3 data-id="heading-0">ğŸš€æ ¸å¿ƒè®¾è®¡å“²å­¦</h3>
<p>é¡¹ç›®å»ºç«‹åœ¨å››ä¸ªæ ¸å¿ƒåŸåˆ™ä¹‹ä¸Šï¼š</p>
<p><strong>æµ‹è¯•é©±åŠ¨å¼€å‘ï¼ˆTDDï¼‰</strong> ï¼šæ°¸è¿œå…ˆå†™æµ‹è¯•ã€‚æ²¡æœ‰çœ‹åˆ°æµ‹è¯•å¤±è´¥ï¼Œå°±ä¸èƒ½ç¡®å®šæµ‹è¯•æ˜¯å¦çœŸæ­£æµ‹è¯•äº†æ­£ç¡®çš„è¡Œä¸ºã€‚</p>
<p><strong>ç³»ç»ŸåŒ–è€Œéä¸´æ—¶åŒ–</strong>ï¼šç”¨æµç¨‹æ›¿ä»£çŒœæµ‹ã€‚æ¯ä¸ªæŠ€èƒ½éƒ½æœ‰æ˜ç¡®çš„å†³ç­–æµç¨‹å›¾ï¼ˆç”¨ DOT/GraphViz è¯­æ³•å®šä¹‰ï¼‰ï¼Œä½œä¸º"å¯æ‰§è¡Œè§„èŒƒ"ã€‚</p>
<p><strong>å¤æ‚åº¦å‰Šå‡</strong>ï¼šä»¥ç®€æ´ä¸ºé¦–è¦ç›®æ ‡ã€‚æŠ€èƒ½ä¸­åå¤å¼ºè°ƒ YAGNIï¼ˆYou Aren't Gonna Need Itï¼‰åŸåˆ™ï¼Œç§¯æåˆ é™¤ä¸å¿…è¦çš„åŠŸèƒ½ã€‚</p>
<p><strong>è¯æ®è€Œéå£°æ˜</strong>ï¼šåœ¨å®£å¸ƒä»»åŠ¡å®Œæˆä¹‹å‰ï¼Œå¿…é¡»éªŒè¯ã€‚çœ‹åˆ°æµ‹è¯•é€šè¿‡ï¼Œçœ‹åˆ°ä»£ç è¿è¡Œï¼Œè€Œä¸æ˜¯"æˆ‘è§‰å¾—åº”è¯¥å¯ä»¥äº†"ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸš€å®Œæ•´å·¥ä½œæµç¨‹</h3>
<p>Superpowers æ„å»ºäº†ä¸€ä¸ªç«¯åˆ°ç«¯çš„å¼€å‘æµç¨‹ï¼š</p>
<p><strong>ç¬¬ä¸€é˜¶æ®µï¼šå¤´è„‘é£æš´ï¼ˆbrainstormingï¼‰</strong> å½“ä½ è¯´"æˆ‘æƒ³åšä¸€ä¸ª X åŠŸèƒ½"æ—¶ï¼ŒAI ä¸ä¼šç›´æ¥å†™ä»£ç ã€‚å®ƒä¼šåƒè‹æ ¼æ‹‰åº•å¼å¯¹è¯ä¸€æ ·ï¼Œä¸€æ¬¡é—®ä¸€ä¸ªé—®é¢˜ï¼Œå¸®ä½ å˜æ¸…çœŸæ­£çš„éœ€æ±‚ã€‚è®¾è®¡æ–¹æ¡ˆåˆ† 200-300 å­—çš„å°èŠ‚å‘ˆç°ï¼Œæ¯èŠ‚éƒ½è¦ä½ ç¡®è®¤"çœ‹èµ·æ¥å¯¹å—"ã€‚</p>
<p><strong>ç¬¬äºŒé˜¶æ®µï¼šå·¥ä½œåŒºéš”ç¦»ï¼ˆusing-git-worktreesï¼‰</strong> è®¾è®¡ç¡®è®¤åï¼ŒAI ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ git åˆ†æ”¯å’Œ worktreeï¼Œç¡®ä¿å¼€å‘ç¯å¢ƒéš”ç¦»ï¼Œä¸æ±¡æŸ“ä¸»åˆ†æ”¯ã€‚</p>
<p><strong>ç¬¬ä¸‰é˜¶æ®µï¼šç¼–å†™è®¡åˆ’ï¼ˆwriting-plansï¼‰</strong> æŠŠè®¾è®¡æ‹†è§£æˆ 2-5 åˆ†é’Ÿçš„å°ä»»åŠ¡ã€‚æ¯ä¸ªä»»åŠ¡éƒ½æœ‰ç²¾ç¡®çš„æ–‡ä»¶è·¯å¾„ã€å®Œæ•´çš„ä»£ç ç‰‡æ®µã€éªŒè¯æ­¥éª¤ã€‚ç›®æ ‡æ˜¯è®©"ä¸€ä¸ªæ²¡æœ‰åˆ¤æ–­åŠ›ã€æ²¡æœ‰é¡¹ç›®èƒŒæ™¯ã€è®¨åŒå†™æµ‹è¯•çš„çƒ­æƒ…åˆçº§å·¥ç¨‹å¸ˆ"ä¹Ÿèƒ½æ‰§è¡Œã€‚</p>
<p><strong>ç¬¬å››é˜¶æ®µï¼šå­ä»£ç†é©±åŠ¨å¼€å‘ï¼ˆsubagent-driven-developmentï¼‰</strong> è¿™æ˜¯ v4.0 çš„é‡å¤§åˆ›æ–°ã€‚ä¸»ä»£ç†ä¸ºæ¯ä¸ªä»»åŠ¡æ´¾é£ä¸€ä¸ª"æ–°é²œ"çš„å­ä»£ç†ï¼ˆæ²¡æœ‰ä¸Šä¸‹æ–‡æ±¡æŸ“ï¼‰ï¼Œå®ç°ä»»åŠ¡åè¿›è¡Œä¸¤é˜¶æ®µå®¡æŸ¥ï¼š</p>
<ul>
<li>è§„æ ¼ç¬¦åˆæ€§å®¡æŸ¥ï¼šä»£ç æ˜¯å¦å®Œå…¨ç¬¦åˆéœ€æ±‚è§„æ ¼ï¼Ÿæ˜¯å¦å¤šåšäº†ï¼Ÿå°‘åšäº†ï¼Ÿ</li>
<li>ä»£ç è´¨é‡å®¡æŸ¥ï¼šåªæœ‰è§„æ ¼å®¡æŸ¥é€šè¿‡åæ‰è¿›è¡Œã€‚æ£€æŸ¥ä»£ç æ˜¯å¦å¹²å‡€ã€æµ‹è¯•è¦†ç›–æ˜¯å¦è¶³å¤Ÿ</li>
</ul>
<p>å®¡æŸ¥æ˜¯å¾ªç¯çš„ï¼šå‘ç°é—®é¢˜â†’ä¿®å¤â†’å†å®¡æŸ¥ï¼Œç›´åˆ°é€šè¿‡ã€‚</p>
<p><strong>ç¬¬äº”é˜¶æ®µï¼šæ”¶å°¾ï¼ˆfinishing-a-development-branchï¼‰</strong> æ‰€æœ‰ä»»åŠ¡å®Œæˆåï¼ŒéªŒè¯æµ‹è¯•ã€å‘ˆç°é€‰é¡¹ï¼ˆåˆå¹¶/åˆ›å»º PR/ä¿ç•™/ä¸¢å¼ƒï¼‰ï¼Œæ¸…ç† worktreeã€‚</p>
<hr/>
<h3 data-id="heading-2">ğŸš€æŠ€èƒ½åº“è¯¦è§£</h3>
<p>é¡¹ç›®åŒ…å« 14 ä¸ªæ ¸å¿ƒæŠ€èƒ½ï¼Œåˆ†ä¸ºå‡ å¤§ç±»åˆ«ï¼š</p>
<p><strong>æµ‹è¯•ç±»</strong></p>
<ul>
<li><code>test-driven-development</code>ï¼šå¼ºåˆ¶æ‰§è¡Œ RED-GREEN-REFACTOR å¾ªç¯ã€‚æ ¸å¿ƒè§„åˆ™æ˜¯"å…ˆå†™æµ‹è¯•å¤±è´¥çš„ä»£ç ï¼Ÿåˆ æ‰ï¼Œé‡æ–°æ¥"ï¼ŒåŒ…å«è¯¦ç»†çš„åæ¨¡å¼å‚è€ƒ</li>
</ul>
<p><strong>è°ƒè¯•ç±»</strong></p>
<ul>
<li><code>systematic-debugging</code>ï¼šå››é˜¶æ®µæ ¹å› å®šä½æµç¨‹ï¼Œæ•´åˆäº† root-cause-tracingï¼ˆé€†å‘è¿½è¸ªè°ƒç”¨æ ˆï¼‰ã€defense-in-depthï¼ˆå¤šå±‚éªŒè¯ï¼‰ã€condition-based-waitingï¼ˆåŸºäºæ¡ä»¶çš„ç­‰å¾…æ›¿ä»£ä»»æ„è¶…æ—¶ï¼‰ç­‰æŠ€æœ¯</li>
<li><code>verification-before-completion</code>ï¼šç¡®ä¿é—®é¢˜çœŸæ­£è¢«ä¿®å¤</li>
</ul>
<p><strong>åä½œç±»</strong></p>
<ul>
<li><code>brainstorming</code>ï¼šè‹æ ¼æ‹‰åº•å¼è®¾è®¡æç‚¼</li>
<li><code>writing-plans</code>ï¼šè¯¦ç»†å®ç°è®¡åˆ’</li>
<li><code>executing-plans</code>ï¼šæ‰¹é‡æ‰§è¡Œä¸æ£€æŸ¥ç‚¹</li>
<li><code>dispatching-parallel-agents</code>ï¼šå¹¶å‘å­ä»£ç†å·¥ä½œæµ</li>
<li><code>requesting-code-review</code> / <code>receiving-code-review</code>ï¼šä»£ç å®¡æŸ¥çš„è¯·æ±‚ä¸å“åº”</li>
<li><code>using-git-worktrees</code>ï¼šå¹¶è¡Œå¼€å‘åˆ†æ”¯</li>
<li><code>finishing-a-development-branch</code>ï¼šåˆå¹¶/PR å†³ç­–å·¥ä½œæµ</li>
<li><code>subagent-driven-development</code>ï¼šä¸¤é˜¶æ®µå®¡æŸ¥çš„å¿«é€Ÿè¿­ä»£</li>
</ul>
<p><strong>å…ƒæŠ€èƒ½</strong></p>
<ul>
<li><code>using-superpowers</code>ï¼šæŠ€èƒ½ç³»ç»Ÿå…¥é—¨</li>
<li><code>writing-skills</code>ï¼šå¦‚ä½•åˆ›å»ºæ–°æŠ€èƒ½ï¼ˆåŒ…å«æµ‹è¯•æ–¹æ³•è®ºï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸš€æŠ€æœ¯æ¶æ„äº®ç‚¹</h3>
<p><strong>æµç¨‹å›¾ä½œä¸ºå¯æ‰§è¡Œè§„èŒƒ</strong>ï¼šæŠ€èƒ½æ–‡ä»¶ä½¿ç”¨ DOT è¯­æ³•å®šä¹‰å†³ç­–æµç¨‹å›¾ï¼Œè¿™ä¸æ˜¯è£…é¥°æ€§çš„ï¼Œè€Œæ˜¯ AI å¿…é¡»éµå¾ªçš„æƒå¨å®šä¹‰ã€‚è¿™è§£å†³äº†"æè¿°è¦†ç›–æµç¨‹å›¾"çš„é™·é˜±ã€‚</p>
<p><strong>æè¿°é™·é˜±çš„å‘ç°ä¸è§£å†³</strong>ï¼šé¡¹ç›®å›¢é˜Ÿå‘ç°ï¼Œå¦‚æœæŠ€èƒ½æè¿°ä¸­åŒ…å«å·¥ä½œæµæ‘˜è¦ï¼ŒAI ä¼šè·Ÿéšç®€çŸ­æè¿°è€Œå¿½ç•¥è¯¦ç»†æµç¨‹å›¾ã€‚è§£å†³æ–¹æ¡ˆæ˜¯æè¿°åªå†™è§¦å‘æ¡ä»¶ï¼ˆ"Use when X"ï¼‰ï¼Œä¸å†™æµç¨‹ç»†èŠ‚ã€‚</p>
<p><strong>ååˆç†åŒ–è®¾è®¡</strong>ï¼š<code>using-superpowers</code> æŠ€èƒ½ä¸­ä¸“é—¨åˆ—å‡ºäº† AI å¸¸è§çš„é€ƒé¿å€Ÿå£åŠå…¶åé©³ï¼Œä¾‹å¦‚"æˆ‘å·²ç»æ‰‹åŠ¨æµ‹è¯•è¿‡äº†"â†’é”™è¯¯ï¼Œä¸´æ—¶æµ‹è¯•ä¸ç­‰äºç³»ç»ŸåŒ–æµ‹è¯•ã€‚</p>
<p><strong>æµ‹è¯•åŸºç¡€è®¾æ–½</strong>ï¼šé¡¹ç›®åŒ…å«ä¸‰å¥—æµ‹è¯•æ¡†æ¶ï¼š</p>
<ul>
<li>æŠ€èƒ½è§¦å‘æµ‹è¯•ï¼šéªŒè¯æŠ€èƒ½èƒ½å¦ä»"æœ´ç´ "æç¤ºè§¦å‘</li>
<li>Claude Code é›†æˆæµ‹è¯•ï¼šä½¿ç”¨ <code>claude -p</code> è¿›è¡Œæ— å¤´æµ‹è¯•</li>
<li>å­ä»£ç†å·¥ä½œæµç«¯åˆ°ç«¯æµ‹è¯•ï¼šåŒ…å«å®Œæ•´çš„ Go å’Œ Svelte æµ‹è¯•é¡¹ç›®</li>
</ul>
<hr/>
<h3 data-id="heading-4">ğŸš€è·¨å¹³å°æ”¯æŒ</h3>
<p><strong>Claude Code</strong>ï¼šé€šè¿‡æ’ä»¶å¸‚åœºå®‰è£…ï¼Œæœ‰åŸç”Ÿçš„ Skill å·¥å…·æ”¯æŒ</p>
<p><strong>Codex/OpenCode</strong>ï¼šé€šè¿‡è·å–è¿œç¨‹æŒ‡ä»¤æ–‡ä»¶å¼•å¯¼å®‰è£…ï¼Œå…±äº«æ ¸å¿ƒæ¨¡å— <code>lib/skills-core.js</code></p>
<hr/>
<h3 data-id="heading-5">ğŸš€ç‰ˆæœ¬æ¼”è¿›äº®ç‚¹</h3>
<p><strong>v4.0.0</strong> çš„æ ¸å¿ƒåˆ›æ–°æ˜¯ä¸¤é˜¶æ®µä»£ç å®¡æŸ¥å’Œè°ƒè¯•æŠ€æœ¯æ•´åˆã€‚v3.0 è¿ç§»åˆ° Anthropic å®˜æ–¹æŠ€èƒ½ç³»ç»Ÿã€‚v2.0 å®ç°æŠ€èƒ½ä»“åº“åˆ†ç¦»ï¼Œæ”¯æŒç¤¾åŒºè´¡çŒ®ã€‚</p>
<hr/>
<h3 data-id="heading-6">ğŸš€æ€»ç»“</h3>
<p>Superpowers æœ¬è´¨ä¸Šæ˜¯åœ¨å›ç­”ä¸€ä¸ªé—®é¢˜ï¼š<strong>å¦‚ä½•è®© AI ä»£ç†åƒæœ‰ç»éªŒçš„å·¥ç¨‹å¸ˆä¸€æ ·å·¥ä½œï¼Œè€Œä¸æ˜¯åƒ"ä¼šå†™ä»£ç ä½†ä¸æ‡‚å·¥ç¨‹"çš„å®ä¹ ç”Ÿï¼Ÿ</strong></p>
<p>ç­”æ¡ˆæ˜¯ï¼šæŠŠæœ€ä½³å®è·µç¼–ç æˆå¯æ‰§è¡Œçš„ã€ä¸å¯é€ƒé¿çš„å·¥ä½œæµã€‚ç”¨æµç¨‹å›¾å®šä¹‰å†³ç­–ç‚¹ï¼Œç”¨æµ‹è¯•éªŒè¯è¡Œä¸ºï¼Œç”¨å­ä»£ç†å®ç°å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œç”¨ä¸¤é˜¶æ®µå®¡æŸ¥ç¡®ä¿è´¨é‡ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®å¯¹äºæƒ³è¦æå‡ AI ç¼–ç¨‹æ•ˆç‡å’Œè´¨é‡çš„å¼€å‘è€…æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—å­¦ä¹ å’Œä½¿ç”¨çš„å·¥å…·ã€‚</p>
<h3 data-id="heading-7">ğŸš€Claude Codeä½¿ç”¨æ–¹å¼</h3>
<p><strong>âœ…ç¬¬ä¸€æ­¥ï¼šå®‰è£… Superpowers</strong></p>
<p>æ‰“å¼€ Claude Codeï¼Œè¾“å…¥ä¸¤æ¡å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin marketplace add obra/superpowers-marketplace
</code></pre>
<p><strong>éªŒè¯å®‰è£…æˆåŠŸ</strong></p>
<p>è¾“å…¥ <code>/help</code>ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š</p>
<ul>
<li><code>/superpowers:brainstorm</code> - å¤´è„‘é£æš´</li>
<li><code>/superpowers:write-plan</code> - å†™è®¡åˆ’</li>
<li><code>/superpowers:execute-plan</code> - æ‰§è¡Œè®¡åˆ’</li>
</ul>
<p><strong>âœ…ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å¤´è„‘é£æš´</strong></p>
<p>ä½ æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œä½†å¯èƒ½è¿˜å¾ˆæ¨¡ç³Šã€‚å¤´è„‘é£æš´é˜¶æ®µå°±æ˜¯è®© AI åƒäº§å“ç»ç†ä¸€æ ·é—®ä½ é—®é¢˜ï¼Œå¸®ä½ æŠŠæƒ³æ³•å˜æˆæ¸…æ™°çš„è®¾è®¡ã€‚</p>
<p>å‡è®¾ä½ æƒ³åšä¸€ä¸ª"å¾…åŠäº‹é¡¹åº”ç”¨"ã€‚ä½ åªéœ€è¦è¯´ï¼šâ€œæˆ‘æƒ³åšä¸€ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨â€ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šä½ ä¸éœ€è¦è¾“å…¥ä»»ä½•ç‰¹æ®Šå‘½ä»¤ï¼Superpowers ä¼šè‡ªåŠ¨è§¦å‘ã€‚å½“ AI çœ‹åˆ°ä½ æƒ³"åš"æˆ–"å»º"ä»€ä¹ˆä¸œè¥¿æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨è¿›å…¥å¤´è„‘é£æš´æ¨¡å¼ã€‚</p>
<p><strong>AI ä¼šæ€ä¹ˆåšï¼Ÿ</strong></p>
<ol>
<li><strong>å…ˆä¾¦å¯Ÿ</strong>ï¼šAI ä¼šå…ˆçœ‹çœ‹ä½ çš„é¡¹ç›®ç›®å½•ï¼Œäº†è§£ç°æœ‰ä»£ç ç»“æ„</li>
<li><strong>ä¸€æ¬¡é—®ä¸€ä¸ªé—®é¢˜</strong>ï¼šä¸ä¼šä¸€ä¸‹å­é—®ä½ 10ä¸ªé—®é¢˜</li>
<li><strong>ç»™ä½ é€‰é¡¹</strong>ï¼šå°½é‡ç»™ä½  A/B/C é€‰æ‹©ï¼Œè€Œä¸æ˜¯è®©ä½ ä»é›¶æƒ³</li>
</ol>
<p><strong>è®¾è®¡æ–‡æ¡£è¾“å‡º</strong></p>
<p>é—®å®Œæ‰€æœ‰å…³é”®é—®é¢˜åï¼ŒAI ä¼šï¼š</p>
<ol>
<li>æŠŠè®¾è®¡åˆ†æˆ 200-300 å­—çš„å°èŠ‚å±•ç¤ºç»™ä½ </li>
<li>æ¯èŠ‚éƒ½é—®ä½ ï¼š"è¿™éƒ¨åˆ†å¯¹å—ï¼Ÿ"</li>
<li>å…¨éƒ¨ç¡®è®¤åï¼Œå†™å…¥ <code>docs/plans/2025-01-10-todo-app-design.md</code></li>
</ol>
<p><strong>âœ…ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºéš”ç¦»å·¥ä½œåŒº</strong></p>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>æƒ³è±¡ä½ åœ¨è£…ä¿®æˆ¿å­ã€‚ä½ ä¸ä¼šç›´æ¥åœ¨å®¢å…é‡Œè¯•éªŒæ–°æ²¹æ¼†é¢œè‰²â€”â€”ä½ ä¼šå…ˆæ‰¾ä¸€å°å—å¢™è¯•è¯•ã€‚Git Worktree å°±æ˜¯é‚£å—"è¯•éªŒå¢™"ã€‚</p>
<p><strong>å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></p>
<p>AI è®¾è®¡å®Œæˆåä¼šé—®ä½ ï¼š</p>
<p><code>AI: è®¾è®¡ç¡®è®¤å®Œæ¯•ã€‚å‡†å¤‡å¥½å¼€å§‹å®ç°äº†å—ï¼Ÿ ä½ : æ˜¯çš„</code></p>
<p>ç„¶å AI ä¼šè‡ªåŠ¨ï¼š</p>
<ol>
<li><strong>åˆ›å»ºæ–°åˆ†æ”¯</strong>ï¼šæ¯”å¦‚ <code>feature/todo-app</code></li>
<li><strong>åˆ›å»º worktree</strong>ï¼šä¸€ä¸ªç‹¬ç«‹çš„å·¥ä½œç›®å½•ï¼Œå’Œä¸»ä»£ç å®Œå…¨éš”ç¦»</li>
<li><strong>è¿è¡Œé¡¹ç›®åˆå§‹åŒ–</strong>ï¼šç¡®ä¿ç¯å¢ƒèƒ½è·‘èµ·æ¥</li>
<li><strong>éªŒè¯æµ‹è¯•åŸºçº¿</strong>ï¼šç¡®ä¿ç°æœ‰æµ‹è¯•éƒ½æ˜¯ç»¿è‰²çš„</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ</strong></p>
<ul>
<li>ä½ çš„ä¸»åˆ†æ”¯ï¼ˆmainï¼‰ä¿æŒå¹²å‡€</li>
<li>å¦‚æœå®éªŒå¤±è´¥ï¼Œç›´æ¥åˆ æ‰è¿™ä¸ª worktreeï¼Œä¸å½±å“ä»»ä½•ä¸œè¥¿</li>
<li>å¯ä»¥åŒæ—¶å¼€å¤šä¸ªåŠŸèƒ½åˆ†æ”¯ï¼Œäº’ä¸å¹²æ‰°</li>
</ul>
<p><strong>âœ…ç¬¬å››æ­¥ï¼šç¼–å†™å®ç°è®¡åˆ’</strong></p>
<p><strong>è¿™æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>ä½ ä¸èƒ½å¯¹ä¸€ä¸ªå®ä¹ ç”Ÿè¯´"åšä¸€ä¸ªå¾…åŠäº‹é¡¹åº”ç”¨"ã€‚ä½ å¾—è¯´ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º <code>Todo</code> æ•°æ®ç»“æ„</li>
<li>ç¬¬äºŒæ­¥ï¼šå®ç°"æ·»åŠ "åŠŸèƒ½</li>
<li>ç¬¬ä¸‰æ­¥ï¼šå®ç°"åˆ é™¤"åŠŸèƒ½</li>
<li>...</li>
</ul>
<p>æ¯ä¸€æ­¥éƒ½è¦å°åˆ° 2-5 åˆ†é’Ÿèƒ½å®Œæˆã€‚</p>
<p><strong>æ¯ä¸ªæ­¥éª¤è¯¦è§£</strong></p>
<p><strong>REDï¼ˆçº¢è‰²ï¼‰</strong> ï¼šå†™ä¸€ä¸ªä¼šå¤±è´¥çš„æµ‹è¯•</p>
<p>è¿è¡Œæµ‹è¯•ï¼š<code>npm test</code> â†’ å¤±è´¥ï¼ˆå› ä¸º <code>addTodo</code> è¿˜ä¸å­˜åœ¨ï¼‰</p>
<p><strong>è¿™æ­¥çš„å…³é”®</strong>ï¼šä½ å¿…é¡»äº²çœ¼çœ‹åˆ°æµ‹è¯•å¤±è´¥ï¼å¦‚æœæµ‹è¯•ä¸€å¼€å§‹å°±é€šè¿‡ï¼Œè¯´æ˜ï¼š</p>
<ul>
<li>ä½ æµ‹è¯•çš„æ˜¯å·²æœ‰åŠŸèƒ½ï¼ˆæ²¡æ„ä¹‰ï¼‰</li>
<li>æµ‹è¯•å†™é”™äº†ï¼ˆå±é™©ï¼‰</li>
</ul>
<p><strong>GREENï¼ˆç»¿è‰²ï¼‰</strong> ï¼šå†™æœ€å°‘çš„ä»£ç è®©æµ‹è¯•é€šè¿‡</p>
<h3 data-id="heading-8">ğŸš€Codex å®‰è£…ä¸ä½¿ç”¨</h3>
<ol>
<li><strong>å¿«é€Ÿå®‰è£…ï¼ˆæ¨èï¼‰</strong></li>
</ol>
<p>ç›´æ¥å‘Šè¯‰ Codexï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-title class_">Fetch</span> <span class="hljs-keyword">and</span> follow instructions from &lt;<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/raw.githubusercontent.com/obra</span><span class="hljs-regexp">/superpowers/refs</span><span class="hljs-regexp">/heads/main</span><span class="hljs-regexp">/.codex/</span><span class="hljs-variable constant_">INSTALL</span>.md&gt;
</code></pre>
<p>Codex ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰å®‰è£…æ­¥éª¤ã€‚</p>
<ol>
<li><strong>æ‰‹åŠ¨å®‰è£…</strong></li>
</ol>
<p><strong>å‰ç½®è¦æ±‚</strong></p>
<ul>
<li>OpenAI Codex CLI å·²å®‰è£…</li>
<li>Node.js v14+ï¼ˆæ¨è v18+ ä»¥è·å¾—æ›´å¥½çš„ ES æ¨¡å—æ”¯æŒï¼‰</li>
<li>Git å·²å®‰è£…</li>
<li>Shell è®¿é—®æƒé™</li>
</ul>
<p><strong>å®‰è£…æ­¥éª¤</strong></p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå…‹éš† Superpowers ä»“åº“</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ~/.codex/superpowers
<span class="hljs-built_in">cd</span> ~/.codex/superpowers
git <span class="hljs-built_in">clone</span> &lt;https://github.com/obra/superpowers.git&gt; .
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºä¸ªäººæŠ€èƒ½ç›®å½•</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ~/.codex/skills
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šé…ç½® <a href="https://link.juejin.cn?target=http%3A%2F%2FAGENTS.md" target="_blank" title="http://AGENTS.md" ref="nofollow noopener noreferrer">AGENTS.md</a></strong> ç¼–è¾‘ <code>~/.codex/AGENTS.md</code>ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">## Superpowers <span class="hljs-keyword">System</span>

<span class="hljs-operator">&lt;</span>EXTREMELY_IMPORTANT<span class="hljs-operator">&gt;</span>
You have superpowers. Superpowers teach you <span class="hljs-keyword">new</span> skills <span class="hljs-keyword">and</span> capabilities.

<span class="hljs-keyword">RIGHT</span> NOW run: `<span class="hljs-operator">~</span><span class="hljs-operator">/</span>.codex<span class="hljs-operator">/</span>superpowers<span class="hljs-operator">/</span>.codex<span class="hljs-operator">/</span>superpowers<span class="hljs-operator">-</span>codex bootstrap` 
<span class="hljs-keyword">and</span> follow the instructions it returns.
<span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span>EXTREMELY_IMPORTANT<span class="hljs-operator">&gt;</span>
</code></pre>
<p><strong>ç¬¬å››æ­¥ï¼šéªŒè¯å®‰è£…</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">~<span class="hljs-regexp">/.codex/</span>superpowers/.<span class="hljs-property">codex</span>/superpowers-codex bootstrap
</code></pre>
<p>å¦‚æœçœ‹åˆ°æŠ€èƒ½åˆ—è¡¨å’Œå¼•å¯¼æŒ‡ä»¤ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<p><strong>ä½¿ç”¨æ–¹æ³•</strong></p>
<p>æŸ¥æ‰¾å¯ç”¨æŠ€èƒ½</p>
<pre><code class="hljs language-javascript" lang="javascript">~<span class="hljs-regexp">/.codex/</span>superpowers/.<span class="hljs-property">codex</span>/superpowers-codex find-skills
</code></pre>
<p>æˆ–è€…å‘Šè¯‰ Codexï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Run ~/.codex/superpowers/.codex/superpowers-codex find-skills to show available skills
</code></pre>
<p><strong>åŠ è½½ç‰¹å®šæŠ€èƒ½</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">~<span class="hljs-regexp">/.codex/</span>superpowers/.<span class="hljs-property">codex</span>/superpowers-codex use-skill <span class="hljs-attr">superpowers</span>:brainstorming
</code></pre>
<p><strong>åŠ è½½å®Œæ•´å¼•å¯¼</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">~<span class="hljs-regexp">/.codex/</span>superpowers/.<span class="hljs-property">codex</span>/superpowers-codex bootstrap
</code></pre>
<h3 data-id="heading-9">ğŸš€**OpenCode å®‰è£…ä¸ä½¿ç”¨å®Œæ•´è„šæœ¬</h3>
<p>ä¸€é”®å®‰è£…è„šæœ¬**</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># Superpowers for OpenCode - å®Œæ•´å®‰è£…è„šæœ¬</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=== å®‰è£… Superpowers for OpenCode ==="</span>

<span class="hljs-comment"># ç¬¬ä¸€æ­¥ï¼šå…‹éš† Superpowers ä»“åº“</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"[1/4] å…‹éš† Superpowers ä»“åº“..."</span>
<span class="hljs-built_in">mkdir</span> -p ~/.config/opencode/superpowers
git <span class="hljs-built_in">clone</span> &lt;https://github.com/obra/superpowers.git&gt; ~/.config/opencode/superpowers

<span class="hljs-comment"># ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ’ä»¶ç›®å½•å¹¶æ³¨å†Œæ’ä»¶</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"[2/4] æ³¨å†Œæ’ä»¶..."</span>
<span class="hljs-built_in">mkdir</span> -p ~/.config/opencode/plugin
<span class="hljs-built_in">ln</span> -sf ~/.config/opencode/superpowers/.opencode/plugin/superpowers.js \\
       ~/.config/opencode/plugin/superpowers.js

<span class="hljs-comment"># ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä¸ªäººæŠ€èƒ½ç›®å½•</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"[3/4] åˆ›å»ºä¸ªäººæŠ€èƒ½ç›®å½•..."</span>
<span class="hljs-built_in">mkdir</span> -p ~/.config/opencode/skills

<span class="hljs-comment"># ç¬¬å››æ­¥ï¼šéªŒè¯å®‰è£…</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"[4/4] éªŒè¯å®‰è£…..."</span>
<span class="hljs-keyword">if</span> [ -f ~/.config/opencode/plugin/superpowers.js ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… æ’ä»¶é“¾æ¥åˆ›å»ºæˆåŠŸ"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ æ’ä»¶é“¾æ¥åˆ›å»ºå¤±è´¥"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ -d ~/.config/opencode/superpowers/skills ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… æŠ€èƒ½ç›®å½•å­˜åœ¨"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"   å¯ç”¨æŠ€èƒ½æ•°é‡: <span class="hljs-subst">$(ls ~/.config/opencode/superpowers/skills | wc -l)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ æŠ€èƒ½ç›®å½•ä¸å­˜åœ¨"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"=== å®‰è£…å®Œæˆï¼==="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ä¸‹ä¸€æ­¥æ“ä½œï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"1. é‡å¯ OpenCode"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"2. åœ¨å¯¹è¯ä¸­è¾“å…¥: do you have superpowers?"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"3. ä½¿ç”¨ find_skills å·¥å…·æŸ¥çœ‹å¯ç”¨æŠ€èƒ½"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"4. ä½¿ç”¨ use_skill å·¥å…·åŠ è½½æŠ€èƒ½"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¤ºä¾‹å‘½ä»¤ï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  use find_skills tool"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  use use_skill tool with skill_name: \\"</span>superpowers:brainstorming\\"<span class="hljs-string">"
</span></code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é£ä¹¦ .NET SDK äº‹ä»¶å¤„ç†çš„å¹‚ç­‰æ€§ä¸å»é‡æœºåˆ¶]]></title>    <link>https://juejin.cn/post/7593358143691669567</link>    <guid>https://juejin.cn/post/7593358143691669567</guid>    <pubDate>2026-01-11T13:09:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593358143691669567" data-draft-id="7593342203822456838" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é£ä¹¦ .NET SDK äº‹ä»¶å¤„ç†çš„å¹‚ç­‰æ€§ä¸å»é‡æœºåˆ¶"/> <meta itemprop="keywords" content="åç«¯,.NET,C#"/> <meta itemprop="datePublished" content="2026-01-11T13:09:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mudtools"/> <meta itemprop="url" content="https://juejin.cn/user/2112621078650964"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é£ä¹¦ .NET SDK äº‹ä»¶å¤„ç†çš„å¹‚ç­‰æ€§ä¸å»é‡æœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2112621078650964/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mudtools
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T13:09:07.000Z" title="Sun Jan 11 2026 13:09:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>é£ä¹¦äº‹ä»¶å¤„ç†è¿‡ç¨‹ä¸­å¦‚ä½•è®©ä½ çš„åº”ç”¨ä¸å†"é‡å¤åŠ³åŠ¨"ï¼Œå¦‚ä½•ç”¨ä¸‰å±‚é˜²æŠ¤ç­‘èµ·å®‰å…¨å¢™ï¼Œç»“åˆå†…å­˜ä¸ Redis åŒé‡ä¿éšœï¼Œè®©ä½ çš„é£ä¹¦åº”ç”¨ç¨³å¦‚ç£çŸ³â€”â€”ä¸å†é‡å¤å¤„ç†ï¼Œå‘Šåˆ«æ··ä¹±çŠ¶æ€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦"å»é‡"ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿™æ ·çš„åœºæ™¯ï¼š</p>
<p>ä½ åœ¨é£ä¹¦é‡Œæ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ï¼Œåº”ç”¨æ”¶åˆ°é€šçŸ¥ååˆ›å»ºäº†å¾…åŠäº‹é¡¹ã€‚ä½†å› ä¸ºç½‘ç»œä¸ç¨³å®šï¼Œé£ä¹¦ä»¥ä¸ºä½ æ²¡æ”¶åˆ°ï¼Œåˆå‘äº†ä¸€éåŒæ ·çš„é€šçŸ¥â€”â€”ç»“æœå‘¢ï¼Ÿä½ çš„åº”ç”¨åˆåˆ›å»ºäº†ä¸€æ¬¡å¾…åŠï¼ŒåŒä¸€ä¸ªä»»åŠ¡å‡ºç°äº†ä¸¤æ¬¡ã€‚</p>
<p>è¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„"é‡å¤å¤„ç†"é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Ÿ</h3>
<p>åœ¨é£ä¹¦äº‹ä»¶é©±åŠ¨çš„ä¸–ç•Œé‡Œï¼Œä»¥ä¸‹æƒ…å†µéƒ½å¯èƒ½å¯¼è‡´<strong>åŒä¸€äº‹ä»¶è¢«å¤šæ¬¡é€è¾¾</strong>ï¼š</p>
<ul>
<li>ğŸ“¡ <strong>ç½‘ç»œæ³¢åŠ¨</strong>ï¼šé£ä¹¦æœåŠ¡å™¨æ²¡æ”¶åˆ°ä½ çš„ç¡®è®¤ï¼Œäºæ˜¯é‡å‘</li>
<li>ğŸ”„ <strong>æœåŠ¡é‡å¯</strong>ï¼šå†…å­˜æ¸…ç©ºï¼Œä¹‹å‰çš„äº‹ä»¶åˆæ¥äº†</li>
<li>ğŸ‘¥ <strong>å¤šå®ä¾‹è¿è¡Œ</strong>ï¼šå¤šä¸ªå®ä¾‹åŒæ—¶æ”¶åˆ°åŒä¸€äº‹ä»¶</li>
<li>ğŸ”Œ <strong>æ–­çº¿é‡è¿</strong>ï¼šWebSocket é‡è¿åå¯èƒ½é‡å¤æ¶ˆæ¯</li>
</ul>
<h3 data-id="heading-2">çœŸå®æ¡ˆä¾‹ï¼šä¸€åˆ†é’Ÿå†…çš„æ··ä¹±</h3>
<pre><code class="hljs language-makefile" lang="makefile">æ—¶é—´çº¿ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
<span class="hljs-section">09:00:00  é£ä¹¦æ¨é€ï¼šæ”¶åˆ°ä¸€æ¡æ–°æ¶ˆæ¯</span>
<span class="hljs-section">09:00:01  å®ä¾‹A æ¥æ”¶å¹¶å¤„ç† â†’ åˆ›å»ºå¾…åŠ âœ…</span>
<span class="hljs-section">09:00:05  é£ä¹¦æ²¡æ”¶åˆ°ç¡®è®¤ï¼Œå†æ¬¡æ¨é€</span>
<span class="hljs-section">09:00:06  å®ä¾‹B æ¥æ”¶å¹¶å¤„ç† â†’ åˆåˆ›å»ºå¾…åŠ âŒ</span>
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</code></pre>
<p><strong>åæœæœ‰å¤šä¸¥é‡ï¼Ÿ</strong></p>

























<table><thead><tr><th>é—®é¢˜</th><th>å®é™…å½±å“</th></tr></thead><tbody><tr><td>ğŸ“‰ æ•°æ®é‡å¤</td><td>ç”¨æˆ·æ”¶åˆ°ä¸¤æ¡ç›¸åŒçš„å¾…åŠ</td></tr><tr><td>ğŸ’° èµ„é‡‘æŸå¤±</td><td>è®¢å•é‡å¤æ‰£æ¬¾ï¼Œé€€é’±éƒ½é€€ä¸å®Œ</td></tr><tr><td>ğŸ“§ éªšæ‰°ç”¨æˆ·</td><td>åŒä¸€æ¡é€šçŸ¥å‘åæ¬¡</td></tr><tr><td>ğŸ”„ çŠ¶æ€æ··ä¹±</td><td>æ•°æ®åº“é‡Œè¯´"å·²å¤„ç†"ï¼Œå®é™…åªåšäº†ä¸€åŠ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">ä¸‰å±‚é˜²æŠ¤ï¼šåƒä¿å®‰ä¸€æ ·å±‚å±‚æŠŠå…³</h2>
<p>Mud.Feishu SDK è®¾è®¡äº†ä¸€å¥—<strong>ä¸‰å±‚é€’è¿›å¼é˜²æŠ¤æœºåˆ¶</strong>ï¼Œå°±åƒå°åŒºçš„ä¸‰é“å²—å“¨ï¼Œä»å¤–åˆ°å†…å±‚å±‚æŠŠå…³ï¼Œç¡®ä¿ä¸ä¼šæœ‰"åäºº"ï¼ˆé‡å¤äº‹ä»¶ï¼‰æ··è¿›æ¥ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph AppLayer["åº”ç”¨å±‚å»é‡ï¼ˆä¸šåŠ¡é”®ï¼‰"]
        AppHandler["IdempotentFeishuEventHandler&lt;T&gt;"]
        AppDesc["åŸºäºä¸šåŠ¡ä¸»é”®ï¼ˆæ¶ˆæ¯IDã€è®¢å•IDç­‰ï¼‰å»é‡"]
    end

    subgraph DispatchLayer["åˆ†å‘å±‚å»é‡ï¼ˆEventIdï¼‰"]
        EventDedup["IFeishuEventDeduplicator / IFeishuEventDistributedDeduplicator"]
        EventDesc["åŸºäºé£ä¹¦äº‹ä»¶IDå»é‡ï¼Œ24å°æ—¶çª—å£æœŸ"]
    end

    subgraph ProtocolLayer["åè®®å±‚å»é‡ï¼ˆSeqID/Nonceï¼‰"]
        WS_Dedup["WebSocket: IFeishuSeqIDDeduplicator"]
        Webhook_Dedup["Webhook: IFeishuNonceDistributedDeduplicator"]
        ProtoDesc["åŸºäºæ¶ˆæ¯åºåˆ—å·å»é‡ï¼Œè¿‡æ»¤é‡å¤æ¶ˆæ¯"]
    end

    AppHandler --&gt;|å¤„ç†å™¨å†…éƒ¨ä¸šåŠ¡é€»è¾‘| EventDedup
    EventDedup --&gt;|äº‹ä»¶è·¯ç”±ä¸åˆ†å‘| WS_Dedup
    EventDedup --&gt;|äº‹ä»¶è·¯ç”±ä¸åˆ†å‘| Webhook_Dedup

    style AppLayer fill:#e1f5ff
    style DispatchLayer fill:#fff4e1
    style ProtocolLayer fill:#ffe1e1
</code></pre>
<h3 data-id="heading-4">è¿™ä¸‰å±‚åˆ†åˆ«è´Ÿè´£ä»€ä¹ˆï¼Ÿ</h3>
<p>å¯ä»¥æŠŠè¿™ä¸‰å±‚æƒ³è±¡æˆå·¥å‚æµæ°´çº¿ä¸Šçš„ä¸‰ä¸ªè´¨æ£€å‘˜ï¼š</p>

































<table><thead><tr><th>è´¨æ£€å‘˜</th><th>æ£€æŸ¥ä»€ä¹ˆï¼Ÿ</th><th>åœ¨å“ªæ£€æŸ¥ï¼Ÿ</th><th>è¿‡æ»¤èŒƒå›´</th><th>é€‚åˆä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ</th></tr></thead><tbody><tr><td><strong>åè®®å±‚</strong></td><td>æ¶ˆæ¯ç¼–å·ï¼ˆSeqIDï¼‰</td><td>æ¶ˆæ¯åˆšåˆ°è¾¾æ—¶</td><td>æ¯æ¡æ¶ˆæ¯</td><td>è¿‡æ»¤ç½‘ç»œé‡å¤ï¼Œæœ€å¤–å±‚é˜²æŠ¤</td></tr><tr><td><strong>åˆ†å‘å±‚</strong></td><td>äº‹ä»¶IDï¼ˆEventIdï¼‰</td><td>äº‹ä»¶åˆ†å‘å‰</td><td>æ¯ä¸ªäº‹ä»¶</td><td>è¿‡æ»¤é£ä¹¦é‡å‘ï¼Œä¸­é—´å±‚é˜²æŠ¤</td></tr><tr><td><strong>åº”ç”¨å±‚</strong></td><td>ä¸šåŠ¡é”®ï¼ˆTaskIdï¼‰</td><td>ä¸šåŠ¡å¤„ç†æ—¶</td><td>æ¯æ¬¡ä¸šåŠ¡æ“ä½œ</td><td>é˜²æ­¢é€»è¾‘é‡å¤ï¼Œæœ€åä¸€é“é˜²çº¿</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">åˆ†å‘å±‚ï¼šäº‹ä»¶çš„"èº«ä»½è¯æ£€æŸ¥"</h2>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„ä¸€å±‚ï¼Œå°±åƒé—¨å£çš„ä¿å®‰ï¼Œæ¯ä¸ªè¿›æ¥çš„äº‹ä»¶éƒ½è¦å…ˆå‡ºç¤ºèº«ä»½è¯ï¼ˆEventIdï¼‰ï¼Œä¿å®‰æŸ¥è¿‡è®°å½•åæ‰èƒ½æ”¾è¡Œã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IFeishuEventDeduplicator</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å°è¯•æ ‡è®°äº‹ä»¶ä¸ºå¤„ç†ä¸­</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> true: å·²å¤„ç†æˆ–æ­£åœ¨å¤„ç†ä¸­ï¼ˆè·³è¿‡ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> false: æ–°äº‹ä»¶ï¼ˆç»§ç»­å¤„ç†ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/returns&gt;</span></span>
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ ‡è®°äº‹ä»¶ä¸ºå·²å®Œæˆ</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MarkAsCompleted</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å›æ»šå¤„ç†ä¸­çŠ¶æ€ï¼ˆå¼‚å¸¸æ—¶è°ƒç”¨ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">RollbackProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ£€æŸ¥äº‹ä»¶æ˜¯å¦å·²å¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">IsProcessed</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>;
}
</code></pre>
<h3 data-id="heading-6">äº‹ä»¶çš„ä¸€ç”Ÿï¼šä¸‰ç§çŠ¶æ€æµè½¬</h3>
<p>æ¯ä¸ªäº‹ä»¶åœ¨å»é‡ç³»ç»Ÿé‡Œéƒ½åƒè¿‡å®‰æ£€ä¸€æ ·ï¼Œç»å†ä¸‰ç§çŠ¶æ€çš„å˜åŒ–ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">stateDiagram-v2
    [*] --&gt; Pending: æ”¶åˆ°æ–°äº‹ä»¶
    Pending --&gt; Processing: TryMarkAsProcessing()
    Processing --&gt; Completed: å¤„ç†æˆåŠŸ
    Processing --&gt; Pending: è¶…æ—¶/å¼‚å¸¸ï¼ˆRollbackï¼‰
    Completed --&gt; Pending: ç¼“å­˜è¿‡æœŸï¼ˆ24å°æ—¶åï¼‰

    note right of Processing
        å¤„ç†ä¸­è¶…æ—¶ï¼ˆé»˜è®¤5åˆ†é’Ÿï¼‰
        å…è®¸é‡æ–°å¤„ç†
    end note

    note right of Completed
        24å°æ—¶åè‡ªåŠ¨æ¸…ç†
        æ”¯æŒTTLé…ç½®
    end note
</code></pre>
<h3 data-id="heading-7">çœŸå®åœºæ™¯ï¼šWebSocket æ˜¯æ€ä¹ˆå»é‡çš„ï¼Ÿ</h3>
<p>æ¥çœ‹çœ‹ WebSocket æ”¶åˆ°äº‹ä»¶ååšäº†ä»€ä¹ˆï¼ˆ<code>FeishuEventMessageHandler.cs#104-147</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// 1. å»é‡æ£€æŸ¥</span>
<span class="hljs-built_in">bool</span> isProcessing = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">if</span> (_options.EnableDistributedDeduplication &amp;&amp; _distributedDeduplicator != <span class="hljs-literal">null</span>)
{
    <span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨åˆ†å¸ƒå¼å»é‡ï¼ˆRedisï¼‰</span>
    isProcessing = <span class="hljs-keyword">await</span> _distributedDeduplicator.TryMarkAsProcessedAsync(
        eventData.EventId, 
        cancellationToken: cancellationToken);
}
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (_options.EnableEventDeduplication &amp;&amp; _deduplicator != <span class="hljs-literal">null</span>)
{
    <span class="hljs-comment">// ä½¿ç”¨å†…å­˜å»é‡</span>
    isProcessing = _deduplicator.TryMarkAsProcessing(eventData.EventId);
}

<span class="hljs-comment">// 2. è·³è¿‡å·²å¤„ç†äº‹ä»¶</span>
<span class="hljs-keyword">if</span> (isProcessing)
{
    _logger.LogDebug(<span class="hljs-string">"äº‹ä»¶ {EventId} å·²åœ¨å¤„ç†ä¸­æˆ–å·²å¤„ç†ï¼Œè·³è¿‡"</span>, eventData.EventId);
    <span class="hljs-keyword">return</span>;
}

<span class="hljs-comment">// 3. å¤„ç†äº‹ä»¶</span>
<span class="hljs-keyword">try</span>
{
    <span class="hljs-keyword">await</span> _eventHandlerFactory.HandleEventParallelAsync(
        eventData.EventType, 
        eventData, 
        cancellationToken);

    <span class="hljs-comment">// 4. å¤„ç†æˆåŠŸï¼Œæ ‡è®°ä¸ºå·²å®Œæˆ</span>
    <span class="hljs-keyword">if</span> (_options.EnableEventDeduplication &amp;&amp; _deduplicator != <span class="hljs-literal">null</span>)
    {
        _deduplicator.MarkAsCompleted(eventData.EventId);
    }
}
<span class="hljs-keyword">catch</span> (Exception ex)
{
    <span class="hljs-comment">// 5. å¤„ç†å¤±è´¥ï¼Œå›æ»šçŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (_options.EnableEventDeduplication &amp;&amp; _deduplicator != <span class="hljs-literal">null</span>)
    {
        _deduplicator.RollbackProcessing(eventData.EventId);
    }
    <span class="hljs-keyword">throw</span>;
}
</code></pre>
<h3 data-id="heading-8">æ–¹æ¡ˆä¸€ï¼šå†…å­˜å»é‡ï¼ˆé€‚åˆå¼€å‘å’Œå°è§„æ¨¡åº”ç”¨ï¼‰</h3>
<p><strong>å°±åƒåœ¨å¤§è„‘é‡Œè®°ç¬”è®°</strong>ï¼šæŠŠæ¯ä¸ªäº‹ä»¶IDè®°åœ¨å†…å­˜é‡Œï¼Œæ”¶åˆ°æ–°äº‹ä»¶æ—¶å…ˆæŸ¥æŸ¥ç¬”è®°ï¼Œå¦‚æœæœ‰å°±è·³è¿‡ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ğŸ§  <strong>å…¨é è„‘å­è®°</strong>ï¼šæ‰€æœ‰æ•°æ®å­˜åœ¨å†…å­˜é‡Œ</li>
<li>â° <strong>è®°24å°æ—¶</strong>ï¼šè¶…è¿‡æ—¶é—´å°±è‡ªåŠ¨å¿˜æ‰</li>
<li>ğŸ§¹ <strong>å®šæœŸæ‰“æ‰«</strong>ï¼šæ¯5åˆ†é’Ÿæ¸…ç†ä¸€æ¬¡è¿‡æœŸçš„è®°å½•</li>
<li>â±ï¸ <strong>è¶…æ—¶ä¿æŠ¤</strong>ï¼šå¤„ç†è¶…è¿‡5åˆ†é’Ÿè¿˜æ²¡å®Œæˆï¼Œå°±å…è®¸é‡è¯•</li>
</ul>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼ˆ<code>FeishuEventDeduplicator.cs#86-135</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
{
    <span class="hljs-keyword">lock</span> (_lock)
    {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (_eventCache.TryGetValue(eventId, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> entry))
        {
            <span class="hljs-comment">// å¦‚æœå·²å¤„ç†ï¼Œè¿”å› trueï¼ˆè·³è¿‡ï¼‰</span>
            <span class="hljs-keyword">if</span> (entry.Status == DeduplicationStatus.Completed)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

            <span class="hljs-comment">// å¦‚æœå·²åœ¨å¤„ç†ä¸­ï¼Œæ£€æŸ¥æ˜¯å¦è¶…æ—¶</span>
            <span class="hljs-keyword">if</span> (entry.Status == DeduplicationStatus.Processing)
            {
                <span class="hljs-keyword">if</span> (DateTimeOffset.UtcNow - entry.ProcessedAt &gt; _processingTimeout)
                {
                    <span class="hljs-comment">// å¤„ç†ä¸­è¶…æ—¶ï¼Œå…è®¸é‡æ–°å¤„ç†</span>
                    _logger?.LogWarning(<span class="hljs-string">"äº‹ä»¶ {EventId} å¤„ç†ä¸­è¶…æ—¶ï¼Œå…è®¸é‡æ–°å¤„ç†"</span>, eventId);
                    _eventCache.Remove(eventId);
                    <span class="hljs-comment">// ç»§ç»­å¤„ç†</span>
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-comment">// ä»åœ¨å¤„ç†ä¸­ï¼Œè·³è¿‡</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }
        }

        <span class="hljs-comment">// æ ‡è®°ä¸ºå¤„ç†ä¸­</span>
        _eventCache[eventId] = <span class="hljs-keyword">new</span> EventCacheEntry
        {
            ProcessedAt = DateTimeOffset.UtcNow,
            EventId = eventId,
            Status = DeduplicationStatus.Processing
        };

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æœªå¤„ç†ï¼Œæ–°äº‹ä»¶</span>
    }
}
</code></pre>
<h3 data-id="heading-9">æ–¹æ¡ˆäºŒï¼šRedis åˆ†å¸ƒå¼å»é‡ï¼ˆç”Ÿäº§ç¯å¢ƒé¦–é€‰ï¼‰</h3>
<p><strong>å°±åƒå…±äº«ç¬”è®°æœ¬</strong>ï¼šç”¨ Redis æŠŠå»é‡è®°å½•è®°åœ¨å¤–éƒ¨ï¼Œæ‰€æœ‰å®ä¾‹éƒ½èƒ½æŸ¥åˆ°ã€‚å°±ç®—é‡å¯æœåŠ¡ï¼Œç¬”è®°æœ¬è¿˜åœ¨ï¼Œä¸ä¼šå¿˜è®°ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ğŸ“’ <strong>å†™åœ¨å…±äº«ç¬”è®°æœ¬ä¸Š</strong>ï¼šæ‰€æœ‰å®ä¾‹ä¸€èµ·çœ‹</li>
<li>ğŸ”„ <strong>è‡ªåŠ¨ç¿»é¡µ</strong>ï¼šåˆ°æœŸè‡ªåŠ¨æ¸…ç†ï¼Œä¸ç”¨ç®¡</li>
<li>ğŸ¤ <strong>å¤§å®¶ä¸€èµ·ç”¨</strong>ï¼šå¤šå®ä¾‹éƒ¨ç½²æ²¡é—®é¢˜</li>
<li>âš¡ <strong>åŸå­æ“ä½œ</strong>ï¼šSETNX + EXPIRE ç¡®ä¿ä¸ä¼šå†™é”™</li>
</ul>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼ˆ<code>RedisFeishuEventDistributedDeduplicator.cs#53-89</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-title">TryMarkAsProcessedAsync</span>(<span class="hljs-params">
    <span class="hljs-built_in">string</span> eventId, 
    TimeSpan? ttl = <span class="hljs-literal">null</span>, 
    CancellationToken cancellationToken = <span class="hljs-literal">default</span></span>)</span>
{
    <span class="hljs-keyword">var</span> actualTtl = ttl ?? _defaultCacheExpiration;
    <span class="hljs-keyword">var</span> redisKey = <span class="hljs-string">$"<span class="hljs-subst">{_keyPrefix}</span><span class="hljs-subst">{eventId}</span>"</span>;

    <span class="hljs-comment">// ä½¿ç”¨ SETNX + EXPIRE å®ç°åŸå­æ€§å»é‡</span>
    <span class="hljs-comment">// ä»…å½“é”®ä¸å­˜åœ¨æ—¶è®¾ç½®ï¼Œå¹¶è®¾ç½®è¿‡æœŸæ—¶é—´</span>
    <span class="hljs-keyword">var</span> setResult = <span class="hljs-keyword">await</span> _database.StringSetAsync(
        redisKey,
        <span class="hljs-string">"1"</span>,
        actualTtl,
        When.NotExists);

    <span class="hljs-keyword">if</span> (!setResult)
    {
        _logger?.LogDebug(<span class="hljs-string">"äº‹ä»¶ {EventId} å·²å¤„ç†è¿‡ï¼Œè·³è¿‡"</span>, eventId);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å·²å¤„ç†</span>
    }

    _logger?.LogDebug(<span class="hljs-string">"äº‹ä»¶ {EventId} æ ‡è®°ä¸ºå·²å¤„ç†ï¼ŒTTL: {Ttl}"</span>, eventId, actualTtl);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æœªå¤„ç†ï¼Œæ–°äº‹ä»¶</span>
}
</code></pre>
<h3 data-id="heading-10">ä¸¤ç§æ–¹æ¡ˆæ€ä¹ˆé€‰ï¼Ÿ</h3>



































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>å†…å­˜å»é‡ï¼ˆè‡ªå·±è®°ï¼‰</th><th>Redis å»é‡ï¼ˆå…±äº«ç¬”è®°æœ¬ï¼‰</th></tr></thead><tbody><tr><td><strong>é€Ÿåº¦</strong></td><td>âš¡ åƒé—ªç”µä¸€æ ·å¿«ï¼ˆç›´æ¥è¯»å†…å­˜ï¼‰</td><td>ğŸš€ å¾ˆå¿«ï¼ˆä½†éœ€è¦ç½‘ç»œï¼‰</td></tr><tr><td><strong>å¯é æ€§</strong></td><td>âš ï¸ é‡å¯å°±å¿˜å…‰</td><td>âœ… æ°¸è¿œè®°ç€ï¼Œé‡å¯ä¹Ÿè¿˜åœ¨</td></tr><tr><td><strong>å¤šå®ä¾‹</strong></td><td>âŒ æ¯ä¸ªäººå„è®°å„çš„</td><td>âœ… å¤§å®¶ä¸€èµ·çœ‹åŒä¸€æœ¬ç¬”è®°</td></tr><tr><td><strong>éº»çƒ¦ç¨‹åº¦</strong></td><td>ğŸŸ¢ é›¶ä¾èµ–ï¼Œå¼€ç®±å³ç”¨</td><td>ğŸŸ¡ éœ€è¦éƒ¨ç½² Redis</td></tr><tr><td><strong>é€‚åˆè°</strong></td><td>ğŸ  å¼€å‘ç¯å¢ƒã€å•æœºè¿è¡Œ</td><td>ğŸ¢ ç”Ÿäº§ç¯å¢ƒã€å¤šå®ä¾‹éƒ¨ç½²</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-11">åè®®å±‚ï¼šæ¶ˆæ¯çš„"æ’é˜Ÿå·æ£€æŸ¥"</h2>
<h3 data-id="heading-12">WebSocket çš„ SeqID æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>é£ä¹¦ WebSocket ç”¨çš„æ˜¯ ProtoBuf äºŒè¿›åˆ¶åè®®ï¼Œæ¯æ¡æ¶ˆæ¯éƒ½å¸¦ç€ä¸€ä¸ª<strong>é€’å¢çš„åºå·</strong>ï¼Œå°±åƒå»é“¶è¡ŒåŠäº‹æ‹¿çš„æ’é˜Ÿå·ã€‚é€šè¿‡è®°ä½å·²ç»å¤„ç†è¿‡çš„æ’é˜Ÿå·ï¼Œå°±èƒ½åœ¨æ¶ˆæ¯å±‚é¢å°±æŠŠé‡å¤çš„æŒ¡åœ¨å¤–é¢ã€‚</p>
<h4 data-id="heading-13">SeqID å»é‡æ€ä¹ˆå·¥ä½œï¼Ÿ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IFeishuSeqIDDeduplicator</span>
{
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å°è¯•æ ‡è®° SeqID ä¸ºå·²å¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;returns&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> true: å·²å¤„ç†è¿‡ï¼ˆè·³è¿‡ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> false: æ–°æ¶ˆæ¯ï¼ˆç»§ç»­å¤„ç†ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/returns&gt;</span></span>
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessed</span>(<span class="hljs-params"><span class="hljs-built_in">ulong</span> seqId</span>)</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ£€æŸ¥ SeqID æ˜¯å¦å·²å¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-built_in">bool</span> <span class="hljs-title">IsProcessed</span>(<span class="hljs-params"><span class="hljs-built_in">ulong</span> seqId</span>)</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> å¼‚æ­¥æ£€æŸ¥ SeqID æ˜¯å¦å·²å¤„ç†</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function">Task&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-title">IsProcessedAsync</span>(<span class="hljs-params"><span class="hljs-built_in">ulong</span> seqId</span>)</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ¸…ç©ºç¼“å­˜</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ClearCache</span>()</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è·å–ç¼“å­˜ä¸­çš„ SeqID æ•°é‡</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">GetCacheCount</span>()</span>;

    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è·å–å·²å¤„ç†çš„æœ€å¤§ SeqID</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-built_in">ulong</span> <span class="hljs-title">GetMaxProcessedSeqId</span>()</span>;
}
</code></pre>
<h4 data-id="heading-14">å®ç°æœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ”¶åˆ°ProtoBufæ¶ˆæ¯] --&gt; B{SeqIDæ£€æŸ¥}
    B --&gt;|å·²å¤„ç†| C[è·³è¿‡æ¶ˆæ¯]
    B --&gt;|æœªå¤„ç†| D[è®°å½•SeqID]
    D --&gt; E[å¤„ç†æ¶ˆæ¯]
    E --&gt; F[å‘é€ACKç¡®è®¤]
    D --&gt; G[æ›´æ–°æœ€å¤§SeqID]
    G --&gt; H[å®šæ—¶æ¸…ç†è¿‡æœŸSeqID]
</code></pre>
<h4 data-id="heading-15">æ ¸å¿ƒå®ç°</h4>
<p><strong>å†…å­˜å®ç°</strong>ï¼ˆ<code>FeishuSeqIDDeduplicator.cs</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessed</span>(<span class="hljs-params"><span class="hljs-built_in">ulong</span> seqId</span>)</span>
{
    <span class="hljs-keyword">lock</span> (_lock)
    {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (_processedSeqIds.Contains(seqId))
        {
            _logger?.LogDebug(<span class="hljs-string">"SeqID {SeqId} å·²å¤„ç†è¿‡ï¼Œè·³è¿‡"</span>, seqId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å·²å¤„ç†</span>
        }

        <span class="hljs-comment">// è®°å½•æ–° SeqID</span>
        _processedSeqIds.Add(seqId);
        _seqIdTimestamps[seqId] = DateTimeOffset.UtcNow;

        <span class="hljs-comment">// æ›´æ–°æœ€å¤§ SeqID</span>
        <span class="hljs-keyword">if</span> (seqId &gt; _maxProcessedSeqId)
        {
            _maxProcessedSeqId = seqId;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// æœªå¤„ç†ï¼Œæ–°æ¶ˆæ¯</span>
    }
}
</code></pre>
<p><strong>ä½¿ç”¨ä½ç½®</strong>ï¼ˆ<code>BinaryMessageProcessor.cs#186-194</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// SeqID å»é‡æ£€æŸ¥</span>
<span class="hljs-keyword">if</span> (_seqIdDeduplicator != <span class="hljs-literal">null</span> &amp;&amp; _seqIdDeduplicator.TryMarkAsProcessed(frame.SeqID))
{
    _logger.LogDebug(<span class="hljs-string">"SeqID {SeqID} å·²å¤„ç†è¿‡ï¼Œè·³è¿‡"</span>, frame.SeqID);
    eventArgs.SkipReason = <span class="hljs-string">$"SeqID <span class="hljs-subst">{frame.SeqID}</span> å·²å¤„ç†è¿‡"</span>;
    BinaryMessageReceived?.Invoke(<span class="hljs-keyword">this</span>, eventArgs);
    
    <span class="hljs-comment">// ä»ç„¶å‘é€ACKç¡®è®¤</span>
    <span class="hljs-keyword">await</span> SendAckMessageAsync(frame, <span class="hljs-literal">true</span>, cancellationToken);
    <span class="hljs-keyword">return</span>;
}
</code></pre>
<h4 data-id="heading-16">ç‰¹æ€§æ€»ç»“</h4>
<ul>
<li>âœ… <strong>åŸºäº HashSet é«˜æ•ˆæŸ¥æ‰¾</strong>ï¼šO(1) æŸ¥è¯¢å¤æ‚åº¦</li>
<li>âœ… <strong>è‡ªåŠ¨è·Ÿè¸ªæœ€å¤§ SeqID</strong>ï¼šæ”¯æŒé¡ºåºæ€§éªŒè¯</li>
<li>âœ… <strong>24å°æ—¶è¿‡æœŸæœºåˆ¶</strong>ï¼šå®šæœŸæ¸…ç†å†å²æ•°æ®</li>
<li>âœ… <strong>å†…å­˜å‹å¥½</strong>ï¼šä»…å­˜å‚¨ SeqIDï¼Œä¸å­˜å‚¨å®Œæ•´æ¶ˆæ¯</li>
</ul>
<h3 data-id="heading-17">Webhook çš„ Nonceï¼šé˜²é‡æ”¾æ”»å‡»çš„ç§˜å¯†æ­¦å™¨</h3>
<p>é£ä¹¦ Webhook çš„è¯·æ±‚é‡Œå¸¦æœ‰ä¸€ä¸ª <code>nonce</code>ï¼ˆéšæœºæ•°ï¼‰ï¼Œè¿™å°±åƒä¸€æ¬¡æ€§å¯†ç â€”â€”ç”¨è¿‡çš„å¯†ç å°±ä¸èƒ½å†ç”¨äº†ï¼Œè¿™æ ·å°±èƒ½é˜²æ­¢"é‡æ”¾æ”»å‡»"ï¼ˆåäººæ‹¿åŒä¸€ä¸ªè¯·æ±‚é‡å¤å‘é€ï¼‰ã€‚</p>
<h4 data-id="heading-18">é˜²é‡æ”¾æ”»å‡»æµç¨‹</h4>
<pre><code class="hljs language-ini" lang="ini">æ”»å‡»è€…å°è¯•é‡æ”¾è¯·æ±‚ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åŸå§‹è¯·æ±‚ï¼š<span class="hljs-attr">Nonce</span>=<span class="hljs-string">"abc123"</span>, Timestamp=<span class="hljs-string">"1234567890"</span>
âœ… æ­£å¸¸å¤„ç†ï¼ˆé¦–æ¬¡æ¥æ”¶ï¼‰

é‡æ”¾è¯·æ±‚ï¼š<span class="hljs-attr">Nonce</span>=<span class="hljs-string">"abc123"</span>, Timestamp=<span class="hljs-string">"1234567890"</span>
âŒ æ‹’ç»å¤„ç†ï¼ˆNonce å·²è®°å½•ï¼‰
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
</code></pre>
<h4 data-id="heading-19">Redis å®ç°</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RedisFeishuNonceDistributedDeduplicator</span> : <span class="hljs-title">IFeishuNonceDistributedDeduplicator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDatabase _database;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> TimeSpan _defaultTtl = TimeSpan.FromMinutes(<span class="hljs-number">5</span>); <span class="hljs-comment">// 5åˆ†é’Ÿè¿‡æœŸ</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-title">TryMarkAsProcessedAsync</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> nonce, CancellationToken cancellationToken = <span class="hljs-literal">default</span></span>)</span>
    {
        <span class="hljs-keyword">var</span> redisKey = <span class="hljs-string">$"<span class="hljs-subst">{_keyPrefix}</span><span class="hljs-subst">{nonce}</span>"</span>;

        <span class="hljs-comment">// SETNX + EXPIREï¼š5åˆ†é’Ÿå†…é‡å¤ nonce ä¼šè¢«æ‹’ç»</span>
        <span class="hljs-keyword">var</span> setResult = <span class="hljs-keyword">await</span> _database.StringSetAsync(
            redisKey,
            <span class="hljs-string">"1"</span>,
            _defaultTtl,
            When.NotExists);

        <span class="hljs-keyword">if</span> (!setResult)
        {
            _logger?.LogWarning(<span class="hljs-string">"æ£€æµ‹åˆ°é‡å¤çš„ Nonce: {Nonce}ï¼Œå¯èƒ½ä¸ºé‡æ”¾æ”»å‡»"</span>, nonce);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å·²å¤„ç†ï¼Œæ‹’ç»</span>
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// é¦–æ¬¡å¤„ç†</span>
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-20">åº”ç”¨å±‚ï¼šç»™æ¯ä¸ªä¸šåŠ¡æ“ä½œå‘"èº«ä»½è¯"</h2>
<h3 data-id="heading-21">ä¸ºä»€ä¹ˆè¿˜éœ€è¦è¿™ä¸€å±‚ï¼Ÿ</h3>
<p>å°±ç®—å‰é¢ä¸¤å±‚éƒ½æŒ¡ä½äº†ï¼Œä¸šåŠ¡é€»è¾‘è¿˜æ˜¯æœ‰å¯èƒ½é‡å¤æ‰§è¡Œï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ğŸ”€ åŒä¸€äº‹ä»¶è§¦å‘äº†å¤šä¸ªå¤„ç†å™¨ï¼ˆå¹¶è¡Œå¤„ç†ï¼‰</li>
<li>ğŸ”„ å¤„ç†å™¨å†…éƒ¨å¤šæ¬¡è®¿é—®åŒä¸€ä¸ªèµ„æº</li>
<li>ğŸ“¡ ç¬¬ä¸‰æ–¹æ¥å£é‡è¯•å¯¼è‡´é‡å¤è°ƒç”¨</li>
</ul>
<h3 data-id="heading-22">å®é™…çš„å¹‚ç­‰æ€§å®ç°æ–¹å¼</h3>
<p>åœ¨å®é™…çš„ Mud.Feishu SDK ä¸­ï¼Œä¸šåŠ¡å±‚å¹‚ç­‰æ€§ä¸»è¦é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å®ç°ï¼š</p>
<p><strong>æ–¹å¼1ï¼šä½¿ç”¨ <code>DefaultFeishuObjectEventHandler&lt;T&gt;</code>ï¼ˆæ¨èï¼‰</strong>
SDK æä¾›äº† <code>DefaultFeishuObjectEventHandler&lt;T&gt;</code> åŸºç±»ï¼Œä¸“é—¨ç”¨äºå¤„ç†å¯¹è±¡ç±»å‹çš„äº‹ä»¶ã€‚ä½ åªéœ€è¦ç»§æ‰¿è¿™ä¸ªåŸºç±»ï¼Œå¹¶åœ¨ä¸šåŠ¡é€»è¾‘ä¸­æ£€æŸ¥æ•°æ®æ˜¯å¦å·²å­˜åœ¨å³å¯ã€‚</p>
<p><strong>æ–¹å¼2ï¼šä½¿ç”¨ <code>IdempotentFeishuEventHandler&lt;T&gt;</code></strong>
SDK è¿˜æä¾›äº†ä¸€ä¸ª <code>IdempotentFeishuEventHandler&lt;T&gt;</code> åŸºç±»ï¼Œæä¾›äº†åŸºäºä¸šåŠ¡é”®çš„è‡ªåŠ¨å»é‡èƒ½åŠ›ã€‚ä½ éœ€è¦é‡å†™ <code>GetBusinessKey()</code> æ–¹æ³•å’Œ <code>HandleEventInternalAsync()</code> æ–¹æ³•ï¼ŒåŸºç±»ä¼šè‡ªåŠ¨å¤„ç†ä¸šåŠ¡å»é‡ã€‚</p>
<hr/>
<h3 data-id="heading-23">æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ï¼šä¸‰ä¸ªå®é™…æ¡ˆä¾‹</h3>
<h4 data-id="heading-24">æ¡ˆä¾‹ 1ï¼šæ¶ˆæ¯å¤„ç†â€”â€”é˜²æ­¢é‡å¤åˆ›å»ºå¾…åŠ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MessageEventHandler</span> : <span class="hljs-title">DefaultFeishuObjectEventHandler</span>&lt;<span class="hljs-title">MessageReceiveResult</span>&gt;
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IMessageService _messageService;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MessageEventHandler</span>(<span class="hljs-params">
        ILogger&lt;MessageEventHandler&gt; logger,
        IMessageService messageService</span>)
        : <span class="hljs-title">base</span>(<span class="hljs-params">logger</span>)</span>
    {
        _messageService = messageService;
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ProcessBusinessLogicAsync</span>(<span class="hljs-params">
        EventData eventData,
        ObjectEventResult&lt;MessageReceiveResult&gt;? messageData,
        CancellationToken cancellationToken = <span class="hljs-literal">default</span></span>)</span>
    {
        <span class="hljs-keyword">if</span> (eventData == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(eventData));

        <span class="hljs-comment">// æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦å·²å¤„ç†ï¼ˆä¸šåŠ¡å±‚å¹‚ç­‰æ€§ï¼‰</span>
        <span class="hljs-keyword">var</span> messageId = messageData?.Object.MessageId;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">string</span>.IsNullOrEmpty(messageId))
        {
            _logger.LogWarning(<span class="hljs-string">"æ¶ˆæ¯IDä¸ºç©ºï¼Œè·³è¿‡å¤„ç†"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">var</span> alreadyProcessed = <span class="hljs-keyword">await</span> _messageService.IsMessageProcessedAsync(messageId, cancellationToken);
        <span class="hljs-keyword">if</span> (alreadyProcessed)
        {
            _logger.LogInformation(<span class="hljs-string">"æ¶ˆæ¯ {MessageId} å·²å¤„ç†ï¼Œè·³è¿‡"</span>, messageId);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯</span>
        <span class="hljs-keyword">await</span> _messageService.ProcessMessageAsync(messageData!.Object, cancellationToken);
    }
}
</code></pre>
<h4 data-id="heading-25">æ¡ˆä¾‹ 2ï¼šéƒ¨é—¨å¤„ç†â€”â€”é¿å…é‡å¤åˆ›å»º</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DepartmentCreatedEventHandler</span> : <span class="hljs-title">DefaultFeishuObjectEventHandler</span>&lt;<span class="hljs-title">DepartmentCreatedResult</span>&gt;
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDepartmentService _departmentService;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DepartmentCreatedEventHandler</span>(<span class="hljs-params">
        ILogger&lt;DepartmentCreatedEventHandler&gt; logger,
        IDepartmentService departmentService</span>)
        : <span class="hljs-title">base</span>(<span class="hljs-params">logger</span>)</span>
    {
        _departmentService = departmentService;
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ProcessBusinessLogicAsync</span>(<span class="hljs-params">
        EventData eventData,
        ObjectEventResult&lt;DepartmentCreatedResult&gt;? departmentData,
        CancellationToken cancellationToken = <span class="hljs-literal">default</span></span>)</span>
    {
        <span class="hljs-keyword">if</span> (eventData == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(eventData));

        <span class="hljs-keyword">if</span> (departmentData?.Object == <span class="hljs-literal">null</span>)
        {
            _logger.LogWarning(<span class="hljs-string">"éƒ¨é—¨æ•°æ®ä¸ºç©ºï¼Œè·³è¿‡å¤„ç†"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// æ£€æŸ¥éƒ¨é—¨æ˜¯å¦å·²å­˜åœ¨ï¼ˆä¸šåŠ¡å±‚å¹‚ç­‰æ€§ï¼‰</span>
        <span class="hljs-keyword">var</span> departmentId = departmentData.Object.DepartmentId;
        <span class="hljs-keyword">var</span> exists = <span class="hljs-keyword">await</span> _departmentService.ExistsAsync(departmentId, cancellationToken);

        <span class="hljs-keyword">if</span> (exists)
        {
            _logger.LogInformation(<span class="hljs-string">"éƒ¨é—¨ {DepartmentId} å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º"</span>, departmentId);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// åˆ›å»ºéƒ¨é—¨</span>
        <span class="hljs-keyword">await</span> _departmentService.CreateAsync(departmentData.Object, cancellationToken);
    }
}
</code></pre>
<h4 data-id="heading-26">æ¡ˆä¾‹ 3ï¼šç”¨æˆ·åˆ›å»ºâ€”â€”é¿å…é‡å¤æ³¨å†Œ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">UserCreatedEventHandler</span> : <span class="hljs-title">DefaultFeishuObjectEventHandler</span>&lt;<span class="hljs-title">UserCreatedResult</span>&gt;
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IUserService _userService;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UserCreatedEventHandler</span>(<span class="hljs-params">
        ILogger&lt;UserCreatedEventHandler&gt; logger,
        IUserService userService</span>)
        : <span class="hljs-title">base</span>(<span class="hljs-params">logger</span>)</span>
    {
        _userService = userService;
    }

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ProcessBusinessLogicAsync</span>(<span class="hljs-params">
        EventData eventData,
        ObjectEventResult&lt;UserCreatedResult&gt;? userData,
        CancellationToken cancellationToken = <span class="hljs-literal">default</span></span>)</span>
    {
        <span class="hljs-keyword">if</span> (eventData == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(eventData));

        <span class="hljs-keyword">if</span> (userData?.Object == <span class="hljs-literal">null</span>)
        {
            _logger.LogWarning(<span class="hljs-string">"ç”¨æˆ·æ•°æ®ä¸ºç©ºï¼Œè·³è¿‡å¤„ç†"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨ï¼ˆä¸šåŠ¡å±‚å¹‚ç­‰æ€§ï¼‰</span>
        <span class="hljs-keyword">var</span> userId = userData.Object.UserId;
        <span class="hljs-keyword">var</span> exists = <span class="hljs-keyword">await</span> _userService.ExistsAsync(userId, cancellationToken);

        <span class="hljs-keyword">if</span> (exists)
        {
            _logger.LogInformation(<span class="hljs-string">"ç”¨æˆ· {UserId} å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º"</span>, userId);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// åˆ›å»ºç”¨æˆ·</span>
        <span class="hljs-keyword">await</span> _userService.CreateAsync(userData.Object, cancellationToken);
    }
}
</code></pre>
<h3 data-id="heading-27">æ€ä¹ˆè®¾è®¡ä¸šåŠ¡é”®ï¼Ÿæœ‰å¥—è·¯å—ï¼Ÿ</h3>



































<table><thead><tr><th>ä¸šåŠ¡åœºæ™¯</th><th>ä¸šåŠ¡é”®é•¿ä»€ä¹ˆæ ·ï¼Ÿ</th><th>ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ</th></tr></thead><tbody><tr><td>æ”¶åˆ°æ¶ˆæ¯</td><td><code>im.message.receive_v1:om_xxxxxxxxxx</code></td><td>äº‹ä»¶ç±»å‹ + æ¶ˆæ¯IDï¼Œä¸€çœ¼çœ‹å‡ºæ˜¯å“ªæ¡æ¶ˆæ¯</td></tr><tr><td>åˆ›å»ºéƒ¨é—¨</td><td><code>contact.department.created_v3:od_xxxxxxxxxx</code></td><td>äº‹ä»¶ç±»å‹ + éƒ¨é—¨IDï¼Œé¿å…å’Œå…¶ä»–IDå†²çª</td></tr><tr><td>åˆ›å»ºç”¨æˆ·</td><td><code>contact.user.created_v3:ou_xxxxxxxxxx</code></td><td>äº‹ä»¶ç±»å‹ + ç”¨æˆ·IDï¼Œå”¯ä¸€æ ‡è¯†ç”¨æˆ·</td></tr><tr><td>åˆ é™¤éƒ¨é—¨</td><td><code>contact.department.deleted_v3:od_xxxxxxxxxx</code></td><td>äº‹ä»¶ç±»å‹ + éƒ¨é—¨IDï¼Œå¤„ç†åˆ é™¤äº‹ä»¶</td></tr><tr><td>æ¶ˆæ¯å·²è¯»</td><td><code>im.message.message_read_v1:ou_xxxxxxxxxx:om_xxxxxxxxxx</code></td><td>äº‹ä»¶ç±»å‹ + ç”¨æˆ·ID + æ¶ˆæ¯ID</td></tr></tbody></table>
<p><strong>å››æ¡é»„é‡‘æ³•åˆ™</strong>ï¼š</p>
<ol>
<li>ğŸ”‘ <strong>å”¯ä¸€æ€§</strong>ï¼šä¸€ä¸ªæ“ä½œå¯¹åº”ä¸€ä¸ªé”®ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªæ“ä½œæ’è½¦</li>
<li>ğŸ‘€ <strong>å¯è¯»æ€§</strong>ï¼šçœ‹æ—¥å¿—æ—¶èƒ½å¿«é€ŸçŸ¥é“è¿™æ˜¯ä»€ä¹ˆ</li>
<li>ğŸ§± <strong>ç¨³å®šæ€§</strong>ï¼šåˆ«ç”¨æ—¶é—´æˆ³è¿™ç§ä¼šå˜çš„å­—æ®µåšé”®</li>
<li>âœ‚ï¸ <strong>ç®€æ´æ€§</strong>ï¼šåˆ«å†™å¤ªé•¿ï¼Œçœå†…å­˜ã€å¥½æŸ¥è¯¢</li>
</ol>
<hr/>
<h2 data-id="heading-28">é…ç½®å®æˆ˜ï¼šå¼€å‘ vs ç”Ÿäº§ç¯å¢ƒ</h2>
<h3 data-id="heading-29">WebSocket æ€ä¹ˆé…ç½®ï¼Ÿ</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨å»ºé€ è€…æ¨¡å¼é…ç½® WebSocket</span>
builder.Services.AddFeishuWebSocketServiceBuilder(configuration)
    .ConfigureOptions(options =&gt;
    {
        <span class="hljs-comment">// äº‹ä»¶å»é‡é…ç½®</span>
        options.EnableEventDeduplication = <span class="hljs-literal">true</span>;           <span class="hljs-comment">// å¯ç”¨äº‹ä»¶å»é‡</span>
        options.EnableDistributedDeduplication = <span class="hljs-literal">false</span>;    <span class="hljs-comment">// å•æœºåœºæ™¯ä½¿ç”¨å†…å­˜å»é‡</span>
        options.EventDeduplicationCacheExpirationMs = <span class="hljs-number">86400000</span>;  <span class="hljs-comment">// 24å°æ—¶è¿‡æœŸ</span>
        options.EventDeduplicationCleanupIntervalMs = <span class="hljs-number">300000</span>;    <span class="hljs-comment">// 5åˆ†é’Ÿæ¸…ç†é—´éš”</span>
    });
</code></pre>
<h4 data-id="heading-30">ç”Ÿäº§ç¯å¢ƒå¿…å¤‡é…ç½®ï¼ˆä¸€å®šè¦çœ‹ï¼ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// 1. é…ç½® Redisï¼ˆåœ¨ appsettings.json ä¸­ï¼‰</span>
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   "Feishu": {</span>
<span class="hljs-comment">//     "Redis": {</span>
<span class="hljs-comment">//       "ConnectionString": "your-redis-server"</span>
<span class="hljs-comment">//     }</span>
<span class="hljs-comment">//   }</span>
<span class="hljs-comment">// }</span>

<span class="hljs-comment">// 2. æ³¨å†Œ Redis æœåŠ¡å’Œå»é‡æœåŠ¡</span>
builder.Services
    .AddFeishuRedis()
    .AddFeishuRedisDeduplicators();

<span class="hljs-comment">// 3. å¯ç”¨åˆ†å¸ƒå¼å»é‡</span>
builder.Services.AddFeishuWebSocketServiceBuilder(configuration)
    .ConfigureOptions(options =&gt;
    {
        options.EnableDistributedDeduplication = <span class="hljs-literal">true</span>;   <span class="hljs-comment">// å¯ç”¨åˆ†å¸ƒå¼å»é‡</span>
        options.EventDeduplicationCacheExpirationMs = <span class="hljs-number">86400000</span>;  <span class="hljs-comment">// 24å°æ—¶</span>
    });
</code></pre>
<h3 data-id="heading-31">Webhook é…ç½®</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ³¨å†Œ Webhook æœåŠ¡</span>
builder.Services.AddFeishuWebhookServiceBuilder(configuration)
    .ConfigureOptions(options =&gt;
    {
        options.VerificationToken = <span class="hljs-string">"your_verification_token"</span>;
        options.EncryptKey = <span class="hljs-string">"your_encrypt_key"</span>;
        options.EventHandlingTimeoutMs = <span class="hljs-number">30000</span>;          <span class="hljs-comment">// 30ç§’è¶…æ—¶</span>
        options.MaxConcurrentEvents = <span class="hljs-number">10</span>;                <span class="hljs-comment">// æœ€å¤§å¹¶å‘æ•°</span>
    });

<span class="hljs-comment">// æ³¨å†Œ Redis å»é‡</span>
builder.Services
    .AddFeishuRedis()
    .AddFeishuRedisEventDeduplicator();
</code></pre>
<h3 data-id="heading-32">ä¸€å¼ è¡¨çœ‹æ‡‚å¼€å‘ä¸ç”Ÿäº§çš„åŒºåˆ«</h3>



































<table><thead><tr><th>é…ç½®é¡¹</th><th>å¼€å‘ç¯å¢ƒ</th><th>ç”Ÿäº§ç¯å¢ƒ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>EnableEventDeduplication</code></td><td><code>true</code></td><td><code>true</code></td><td>å§‹ç»ˆå¯ç”¨å†…å­˜å»é‡</td></tr><tr><td><code>EnableDistributedDeduplication</code></td><td><code>false</code></td><td><code>true</code></td><td>ç”Ÿäº§ç¯å¢ƒå¯ç”¨Rediså»é‡</td></tr><tr><td><code>EventDeduplicationCacheExpirationMs</code></td><td><code>3600000</code> (1å°æ—¶)</td><td><code>86400000</code> (24å°æ—¶)</td><td>ç”Ÿäº§ç¯å¢ƒå»¶é•¿çª—å£æœŸ</td></tr><tr><td><code>EventDeduplicationCleanupIntervalMs</code></td><td><code>60000</code> (1åˆ†é’Ÿ)</td><td><code>300000</code> (5åˆ†é’Ÿ)</td><td>ç”Ÿäº§ç¯å¢ƒé™ä½æ¸…ç†é¢‘ç‡</td></tr></tbody></table>
<h3 data-id="heading-33">å®Œæ•´é…ç½®ï¼šä»é›¶åˆ°ä¸Šçº¿ä¸€æ¬¡æå®š</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureServices</span>(<span class="hljs-params">IServiceCollection services</span>)</span>
{
    <span class="hljs-comment">// é…ç½® Redisï¼ˆappsettings.json ä¸­é…ç½®ï¼‰</span>
    services
        .AddFeishuRedis()
        .AddFeishuRedisDeduplicators();

    <span class="hljs-comment">// æ³¨å†Œ WebSocket æœåŠ¡</span>
    services.AddFeishuWebSocketServiceBuilder(configuration)
        .ConfigureOptions(wsOptions =&gt;
        {
            wsOptions.EnableEventDeduplication = <span class="hljs-literal">true</span>;
            wsOptions.EnableDistributedDeduplication = <span class="hljs-literal">true</span>;
            wsOptions.EventDeduplicationCacheExpirationMs = <span class="hljs-number">86400000</span>;
            wsOptions.AutoReconnect = <span class="hljs-literal">true</span>;
            wsOptions.MaxReconnectAttempts = <span class="hljs-number">5</span>;
            wsOptions.HeartbeatIntervalMs = <span class="hljs-number">30000</span>;
        })
        .AddHandler&lt;MessageEventHandler&gt;()
        .AddHandler&lt;DepartmentCreatedEventHandler&gt;()
        .Build();

    <span class="hljs-comment">// æ³¨å†Œ Webhook æœåŠ¡</span>
    services.AddFeishuWebhookServiceBuilder(configuration)
        .ConfigureOptions(webhookOptions =&gt;
        {
            webhookOptions.VerificationToken = <span class="hljs-string">"your_token"</span>;
            webhookOptions.EncryptKey = <span class="hljs-string">"your_key"</span>;
            webhookOptions.EventHandlingTimeoutMs = <span class="hljs-number">30000</span>;
            webhookOptions.MaxConcurrentEvents = <span class="hljs-number">20</span>;
        })
        .AddHandler&lt;UserCreatedEventHandler&gt;()
        .Build();
}
</code></pre>
<h3 data-id="heading-34">è¿˜æœ‰ä¸ªè´´å¿ƒåŠŸèƒ½ï¼šé…ç½®é”™è¯¯è‡ªåŠ¨æé†’</h3>
<p>SDK ä¼šè‡ªåŠ¨æ£€æŸ¥é…ç½®ï¼Œå¦‚æœä½ æŠŠå»é‡åŠŸèƒ½å…¨å…³äº†ï¼Œå®ƒä¼šç›´æ¥æŠ¥é”™æé†’ä½ ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// FeishuWebSocketOptions.Validate() è‡ªåŠ¨æ‰§è¡Œ</span>
<span class="hljs-comment">// SDK ä¼šåœ¨æœåŠ¡å¯åŠ¨æ—¶æ£€æŸ¥é…ç½®ï¼Œå¦‚æœå»é‡åŠŸèƒ½å…¨å…³é—­ä¼šæŠ›å‡ºè­¦å‘Š</span>
</code></pre>
<hr/>
<h2 data-id="heading-35">è¸©å‘æŒ‡å—ï¼šäº”ä¸ªå¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-36">é—®é¢˜ 1ï¼šæœåŠ¡é‡å¯ï¼Œé‡å¤äº‹ä»¶åˆæ¥äº†</h3>
<p><strong>ç°åœºæ˜¯è¿™æ ·çš„</strong>ï¼š</p>
<p><strong>ç°è±¡</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">09:00 æœåŠ¡æ¥æ”¶ <span class="hljs-attr">EventId</span>=<span class="hljs-string">"evt_123"</span> âœ… å¤„ç†æˆåŠŸ
09:05 æœåŠ¡é‡å¯ï¼ˆå†…å­˜ç¼“å­˜æ¸…ç©ºï¼‰
09:06 é£ä¹¦é‡å‘ <span class="hljs-attr">EventId</span>=<span class="hljs-string">"evt_123"</span> âŒ é‡å¤å¤„ç†
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>ğŸ§  å†…å­˜å»é‡å°±åƒçŸ­æœŸè®°å¿†ï¼Œé‡å¯å°±å¿˜å…‰äº†</li>
<li>ğŸ“¡ é£ä¹¦æ²¡æ”¶åˆ°ä½ çš„ç¡®è®¤ï¼Œä»¥ä¸ºä½ æ²¡æ”¶åˆ°ï¼Œç»§ç»­å‘</li>
</ul>
<p><strong>æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<p>âœ… <strong>æ–¹æ¡ˆ1ï¼šå¯ç”¨ Redis åˆ†å¸ƒå¼å»é‡ï¼ˆæ¨èï¼‰</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// é…ç½® Redisï¼ˆappsettings.json ä¸­é…ç½®è¿æ¥ä¿¡æ¯ï¼‰</span>
services
    .AddFeishuRedis()
    .AddFeishuRedisDeduplicators();

services.AddFeishuWebSocketServiceBuilder(configuration)
    .ConfigureOptions(options =&gt;
    {
        options.EnableDistributedDeduplication = <span class="hljs-literal">true</span>; <span class="hljs-comment">// ä½¿ç”¨Redis</span>
        options.EnableEventDeduplication = <span class="hljs-literal">false</span>;    <span class="hljs-comment">// ç¦ç”¨å†…å­˜å»é‡</span>
    });
</code></pre>
<p>âœ… <strong>æ–¹æ¡ˆ2ï¼šå®ç°å»é‡çŠ¶æ€æŒä¹…åŒ–</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PersistentEventDeduplicator</span> : <span class="hljs-title">IFeishuEventDeduplicator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDatabase _database;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
    {
        <span class="hljs-comment">// å°è¯•å†™å…¥æ•°æ®åº“</span>
        <span class="hljs-keyword">var</span> exists = _database.EventExists(eventId);
        <span class="hljs-keyword">if</span> (!exists)
        {
            _database.MarkProcessing(eventId);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-37">é—®é¢˜ 2ï¼šå¤šå®ä¾‹ä¸€èµ·è·‘ï¼Œé‡å¤å¤„ç†æŒ¡ä¸ä½</h3>
<p><strong>ç°åœºæ˜¯è¿™æ ·çš„</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">å®ä¾‹<span class="hljs-selector-tag">A</span> å’Œ å®ä¾‹<span class="hljs-selector-tag">B</span> åŒæ—¶å¯åŠ¨
é£ä¹¦æ¨é€ EventId="evt_123"
å®ä¾‹<span class="hljs-selector-tag">A</span> æ”¶åˆ° â†’ å¤„ç† âœ…
å®ä¾‹<span class="hljs-selector-tag">B</span> æ”¶åˆ° â†’ å¤„ç† âŒ (é‡å¤ï¼)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>ğŸ§  æ¯ä¸ªå®ä¾‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„"å°æœ¬æœ¬"</li>
<li>ğŸš« å®ä¾‹ä¹‹é—´äº’ç›¸çœ‹ä¸åˆ°å¯¹æ–¹çš„è®°å½•</li>
</ul>
<p><strong>æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<p>âœ… <strong>å¿…é¡»ä½¿ç”¨ Redis åˆ†å¸ƒå¼å»é‡</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ‰€æœ‰å®ä¾‹è¿æ¥åˆ°åŒä¸€ä¸ª Redisï¼ˆåœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼‰</span>
services
    .AddFeishuRedis()
    .AddFeishuRedisDeduplicators();

services.AddFeishuWebSocketServiceBuilder(configuration)
    .ConfigureOptions(options =&gt;
    {
        options.EnableDistributedDeduplication = <span class="hljs-literal">true</span>;
    });
</code></pre>
<p><strong>ä¸€å¼ å›¾çœ‹æ‡‚åŒºåˆ«</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph Wrong["âŒ é”™è¯¯æ¶æ„ï¼ˆå†…å­˜å»é‡ï¼‰"]
        A1["å®ä¾‹A&lt;br/&gt;å†…å­˜ç¼“å­˜A&lt;br/&gt;evt_123 âœ…"]
        A2["å®ä¾‹B&lt;br/&gt;å†…å­˜ç¼“å­˜B&lt;br/&gt;evt_123 âŒ"]
    end

    subgraph Right["âœ… æ­£ç¡®æ¶æ„ï¼ˆRediså»é‡ï¼‰"]
        B1["å®ä¾‹A"]
        B2["å®ä¾‹B"]
        Redis["Redis å»é‡&lt;br/&gt;evt_123 âœ…"]
    end

    B1 --&gt; Redis
    B2 --&gt; Redis

    style Wrong fill:#ffebee
    style Right fill:#e8f5e9
    style Redis fill:#e3f2fd
</code></pre>
<hr/>
<h3 data-id="heading-38">é—®é¢˜ 3ï¼šå¤„ç†è¶…æ—¶ï¼Œé‡å¤äº‹ä»¶è¶è™šè€Œå…¥</h3>
<p><strong>ç°åœºæ˜¯è¿™æ ·çš„</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">09:00 å¼€å§‹å¤„ç† <span class="hljs-attr">EventId</span>=<span class="hljs-string">"evt_123"</span>
09:01 å¤„ç†è¶…æ—¶ï¼ˆè¶…æ—¶30ç§’ï¼‰
09:01 å›æ»š Processing çŠ¶æ€
09:02 é£ä¹¦é‡å‘ <span class="hljs-attr">EventId</span>=<span class="hljs-string">"evt_123"</span>
09:02 é‡å¤å¤„ç† âŒ (å®é™…å·²æˆåŠŸï¼)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>â±ï¸ è¶…æ—¶åç³»ç»Ÿä»¥ä¸ºæ²¡å®Œæˆï¼ŒæŠŠ"å¤„ç†ä¸­"æ ‡è®°æ’¤å›äº†</li>
<li>âœ… ä½†ä¸šåŠ¡å¯èƒ½å·²ç»åšå®Œäº†ï¼Œåªæ˜¯å“åº”æ…¢äº†ä¸€ç‚¹ç‚¹</li>
</ul>
<p><strong>æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<p>âœ… <strong>æ–¹æ¡ˆ1ï¼šå¢åŠ æœ€ç»ˆä¸€è‡´æ€§æ£€æŸ¥</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DepartmentCreatedEventHandler</span> : <span class="hljs-title">DefaultFeishuObjectEventHandler</span>&lt;<span class="hljs-title">DepartmentCreatedResult</span>&gt;
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IDepartmentService _departmentService;

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ProcessBusinessLogicAsync</span>(<span class="hljs-params">
        EventData eventData,
        ObjectEventResult&lt;DepartmentCreatedResult&gt;? departmentData,
        CancellationToken ct</span>)</span>
    {
        <span class="hljs-keyword">if</span> (departmentData?.Object == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">var</span> departmentId = departmentData.Object.DepartmentId;

        <span class="hljs-comment">// å…ˆæ£€æŸ¥éƒ¨é—¨æ˜¯å¦å·²å­˜åœ¨ï¼ˆå¹‚ç­‰æ€§ï¼‰</span>
        <span class="hljs-keyword">var</span> existingDepartment = <span class="hljs-keyword">await</span> _departmentService.GetAsync(departmentId, ct);
        <span class="hljs-keyword">if</span> (existingDepartment != <span class="hljs-literal">null</span>)
        {
            _logger.LogInformation(<span class="hljs-string">"éƒ¨é—¨ {DepartmentId} å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º"</span>, departmentId);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// åˆ›å»ºéƒ¨é—¨</span>
        <span class="hljs-keyword">await</span> _departmentService.CreateAsync(departmentData.Object, ct);
    }
}
</code></pre>
<p>âœ… <strong>æ–¹æ¡ˆ2ï¼šå®ç°å¤„ç†ç»­æœŸæœºåˆ¶</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LongRunningTaskHandler</span> : <span class="hljs-title">DefaultFeishuEventHandler</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IFeishuEventDeduplicator _deduplicator;

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">ProcessBusinessLogicAsync</span>(<span class="hljs-params">EventData eventData, CancellationToken ct</span>)</span>
    {
        <span class="hljs-keyword">var</span> eventId = eventData.EventId;

        <span class="hljs-comment">// å®šæœŸç»­æœŸå¤„ç†æ—¶é—´ï¼ˆæ¯30ç§’ï¼‰</span>
        <span class="hljs-keyword">var</span> renewalTask = Task.Run(<span class="hljs-keyword">async</span> () =&gt;
        {
            <span class="hljs-keyword">while</span> (!ct.IsCancellationRequested)
            {
                <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">30000</span>, ct);
                _deduplicator.RenewProcessing(eventId);
            }
        }, ct);

        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-keyword">await</span> ProcessLongRunningTask(eventData, ct);
        }
        <span class="hljs-keyword">finally</span>
        {
            <span class="hljs-keyword">await</span> renewalTask;
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-39">é—®é¢˜ 4ï¼šRedis å®•æœºï¼Œå»é‡é˜²æŠ¤å…¨å¤±æ•ˆ</h3>
<p><strong>ç°åœºæ˜¯è¿™æ ·çš„</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Redis å®•æœº
æœåŠ¡æ— æ³•è°ƒç”¨ <span class="hljs-built_in">TryMarkAsProcessedAsync</span>()
è¿”å› falseï¼ˆå…è®¸å¤„ç†ï¼‰
å¤šä¸ªå®ä¾‹é‡å¤å¤„ç†åŒä¸€äº‹ä»¶ âŒ
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>ğŸš« Redis æŒ‚äº†ï¼Œä»£ç ä¸ºäº†ä¸é˜»å¡é€‰æ‹©"å…è®¸å¤„ç†"</li>
<li>âŒ ç»“æœé‡å¤äº‹ä»¶å…¨æ¶Œè¿›æ¥</li>
</ul>
<p><strong>æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<p>âœ… <strong>æ–¹æ¡ˆ1ï¼šå®ç°é™çº§åˆ°å†…å­˜å»é‡</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HybridEventDeduplicator</span> : <span class="hljs-title">IFeishuEventDeduplicator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IFeishuEventDistributedDeduplicator _redis;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IFeishuEventDeduplicator _memory;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
    {
        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨ Redis</span>
            <span class="hljs-keyword">return</span> _redis.TryMarkAsProcessedAsync(eventId).GetAwaiter().GetResult();
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            _logger.LogError(ex, <span class="hljs-string">"Rediså»é‡å¤±è´¥ï¼Œé™çº§åˆ°å†…å­˜å»é‡"</span>);
            <span class="hljs-comment">// é™çº§åˆ°å†…å­˜å»é‡</span>
            <span class="hljs-keyword">return</span> _memory.TryMarkAsProcessing(eventId);
        }
    }
}
</code></pre>
<p>âœ… <strong>æ–¹æ¡ˆ2ï¼šé…ç½®ç†”æ–­æœºåˆ¶</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CircuitBreakerEventDeduplicator</span> : <span class="hljs-title">IFeishuEventDeduplicator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> CircuitBreaker _circuitBreaker;
    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> _failureCount;
    <span class="hljs-keyword">private</span> DateTime _lastFailureTime;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
    {
        <span class="hljs-keyword">if</span> (_circuitBreaker.IsOpen())
        {
            _logger.LogWarning(<span class="hljs-string">"Rediså»é‡ç†”æ–­ï¼Œæ‹’ç»å¤„ç†"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ‹’ç»å¤„ç†ï¼Œä¿æŠ¤ä¸‹æ¸¸</span>
        }

        <span class="hljs-keyword">try</span>
        {
            <span class="hljs-keyword">var</span> result = _redis.TryMarkAsProcessedAsync(eventId).GetAwaiter().GetResult();
            _circuitBreaker.RecordSuccess();
            <span class="hljs-keyword">return</span> result;
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            _circuitBreaker.RecordFailure();
            <span class="hljs-keyword">throw</span>;
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-40">é—®é¢˜ 5ï¼šç¼“å­˜è¶Šç§¯è¶Šå¤šï¼Œå†…å­˜å¿«çˆ†äº†</h3>
<p><strong>ç°åœºæ˜¯è¿™æ ·çš„</strong>ï¼š</p>
<pre><code class="hljs">æœåŠ¡è¿è¡Œ24å°æ—¶
å»é‡ç¼“å­˜æ¡ç›®ï¼š100ä¸‡+
å†…å­˜å ç”¨ï¼šè¶…è¿‡500MB
GCå‹åŠ›å¢å¤§ï¼Œæ€§èƒ½ä¸‹é™
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>ğŸ“ˆ é«˜é¢‘äº‹ä»¶ï¼ˆæ¯”å¦‚æ¥æ”¶æ¶ˆæ¯ï¼‰ä¸€å¤©èƒ½äº§ç”Ÿå‡ åä¸‡æ¡è®°å½•</li>
<li>ğŸ• æ¸…ç†é—´éš”å¤ªé•¿ï¼Œæ—§è®°å½•å †ç§¯å¦‚å±±</li>
</ul>
<p><strong>æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p>
<p>âœ… <strong>æ–¹æ¡ˆ1ï¼šç¼©çŸ­ç¼“å­˜è¿‡æœŸæ—¶é—´</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">services.AddFeishuWebSocketServiceBuilder(configuration)
    .ConfigureOptions(options =&gt;
    {
        <span class="hljs-comment">// æ ¹æ®å®é™…ä¸šåŠ¡è°ƒæ•´</span>
        options.EventDeduplicationCacheExpirationMs = <span class="hljs-number">3600000</span>;  <span class="hljs-comment">// ç¼©çŸ­ä¸º1å°æ—¶</span>
        options.EventDeduplicationCleanupIntervalMs = <span class="hljs-number">60000</span>;    <span class="hljs-comment">// æé«˜æ¸…ç†é¢‘ç‡ä¸º1åˆ†é’Ÿ</span>
    });
</code></pre>
<p>âœ… <strong>æ–¹æ¡ˆ2ï¼šä½¿ç”¨ LRU ç¼“å­˜</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">LRUEventDeduplicator</span> : <span class="hljs-title">IFeishuEventDeduplicator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> LRUCache&lt;<span class="hljs-built_in">string</span>, EventCacheEntry&gt; _cache;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> MaxCacheSize = <span class="hljs-number">10000</span>; <span class="hljs-comment">// æœ€å¤šä¿ç•™1ä¸‡æ¡</span>

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LRUEventDeduplicator</span>()</span>
    {
        _cache = <span class="hljs-keyword">new</span> LRUCache&lt;<span class="hljs-built_in">string</span>, EventCacheEntry&gt;(MaxCacheSize);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
    {
        <span class="hljs-keyword">if</span> (_cache.TryGetValue(eventId, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> entry))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

        _cache.Add(eventId, <span class="hljs-keyword">new</span> EventCacheEntry { <span class="hljs-comment">/* ... */</span> });
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<p>âœ… <strong>æ–¹æ¡ˆ3ï¼šä¸šåŠ¡å±‚ä¼˜åŒ–</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æŸäº›é«˜é¢‘äº‹ä»¶ä¸éœ€è¦å»é‡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SystemEventHandler</span> : <span class="hljs-title">DefaultFeishuEventHandler</span>
{
    <span class="hljs-comment">// ä¸ç»§æ‰¿ IdempotentFeishuEventHandler</span>
    <span class="hljs-comment">// ç›´æ¥å¤„ç†ï¼Œå‡å°‘ä¸šåŠ¡å±‚å»é‡å‹åŠ›</span>

    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> Task <span class="hljs-title">ProcessBusinessLogicAsync</span>(<span class="hljs-params">EventData eventData, CancellationToken ct</span>)</span>
    {
        <span class="hljs-comment">// ä»…è®°å½•æ—¥å¿—ï¼Œä¸è¿›è¡Œä¸šåŠ¡æ“ä½œ</span>
        _logger.LogInformation(<span class="hljs-string">"ç³»ç»Ÿäº‹ä»¶ï¼š{EventType}"</span>, eventData.EventType);
        <span class="hljs-keyword">return</span> Task.CompletedTask;
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-41">ç»™ç³»ç»Ÿåšä½“æ£€ï¼šç›‘æ§ä¸è°ƒè¯•</h2>
<h3 data-id="heading-42">é‡‡é›†ä»€ä¹ˆæ•°æ®æœ€æœ‰æ•ˆï¼Ÿ</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DeduplicatorMetrics</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> TotalProcessed { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> DuplicateSkipped { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> ProcessingTimeout { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> CacheHitCount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">long</span> CacheMissCount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> DuplicateRate =&gt; 
        TotalProcessed &gt; <span class="hljs-number">0</span> ? (<span class="hljs-built_in">double</span>)DuplicateSkipped / TotalProcessed : <span class="hljs-number">0</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> CacheHitRate =&gt;
        (CacheHitCount + CacheMissCount) &gt; <span class="hljs-number">0</span> 
            ? (<span class="hljs-built_in">double</span>)CacheHitCount / (CacheHitCount + CacheMissCount) 
            : <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-43">æš´éœ²ä¸€ä¸ªæ¥å£ï¼Œéšæ—¶æŸ¥çœ‹å¥åº·çŠ¶æ€</h3>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">ApiController</span>]
[<span class="hljs-meta">Route(<span class="hljs-string">"api/[controller]"</span>)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DeduplicatorController</span> : <span class="hljs-title">ControllerBase</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IFeishuEventDeduplicator _deduplicator;

    [<span class="hljs-meta">HttpGet(<span class="hljs-string">"stats"</span>)</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult&lt;DeduplicatorStats&gt; <span class="hljs-title">GetStats</span>()</span>
    {
        <span class="hljs-keyword">return</span> Ok(<span class="hljs-keyword">new</span> DeduplicatorStats
        {
            CacheCount = _deduplicator.GetCacheCount(),
            MaxProcessedSeqId = _seqIdDeduplicator?.GetMaxProcessedSeqId(),
            DuplicateRate = _metrics.DuplicateRate,
            CacheHitRate = _metrics.CacheHitRate
        });
    }

    [<span class="hljs-meta">HttpGet(<span class="hljs-string">"check/{eventId}"</span>)</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> ActionResult&lt;<span class="hljs-built_in">bool</span>&gt; <span class="hljs-title">CheckEventId</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
    {
        <span class="hljs-keyword">var</span> isProcessed = _deduplicator.IsProcessed(eventId);
        <span class="hljs-keyword">return</span> Ok(<span class="hljs-keyword">new</span> { eventId, isProcessed });
    }
}
</code></pre>
<h3 data-id="heading-44">æ—¥å¿—æ€ä¹ˆå†™æ‰å®¹æ˜“æ’æŸ¥é—®é¢˜ï¼Ÿ</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EnhancedEventDeduplicator</span> : <span class="hljs-title">IFeishuEventDeduplicator</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ILogger&lt;EnhancedEventDeduplicator&gt; _logger;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">TryMarkAsProcessing</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> eventId</span>)</span>
    {
        <span class="hljs-keyword">lock</span> (_lock)
        {
            <span class="hljs-keyword">if</span> (_eventCache.TryGetValue(eventId, <span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> entry))
            {
                <span class="hljs-comment">// è¯¦ç»†è®°å½•å»é‡å‘½ä¸­åŸå› </span>
                _logger.LogInformation(
                    <span class="hljs-string">"[Deduplication] EventId={EventId} å·²å¤„ç†ï¼Œ"</span> +
                    <span class="hljs-string">"Status={Status}, ProcessedAt={ProcessedAt}"</span>,
                    eventId,
                    entry.Status,
                    entry.ProcessedAt);

                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }

            _logger.LogDebug(<span class="hljs-string">"[Deduplication] EventId={EventId} æ–°äº‹ä»¶"</span>, eventId);
            <span class="hljs-comment">// ...</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-45">å¿«é€Ÿå›é¡¾ä¸è¡ŒåŠ¨æ¸…å•</h2>
<h3 data-id="heading-46">ä¸‰å±‚é˜²æŠ¤ä¸€è¡¨è§ˆ</h3>





























<table><thead><tr><th>å»é‡å±‚çº§</th><th>å»é‡ä¾æ®</th><th>å®ç°æ–¹å¼</th><th>æ¨èé…ç½®</th></tr></thead><tbody><tr><td><strong>åè®®å±‚</strong></td><td>SeqID / Nonce</td><td><code>IFeishuSeqIDDeduplicator</code> / <code>IFeishuNonceDistributedDeduplicator</code></td><td>å§‹ç»ˆå¯ç”¨</td></tr><tr><td><strong>åˆ†å‘å±‚</strong></td><td>EventId</td><td><code>IFeishuEventDeduplicator</code> / <code>IFeishuEventDistributedDeduplicator</code></td><td>ç”Ÿäº§ç¯å¢ƒå¯ç”¨ Redis</td></tr><tr><td><strong>åº”ç”¨å±‚</strong></td><td>æ•°æ®å­˜åœ¨æ€§æ£€æŸ¥</td><td><code>DefaultFeishuObjectEventHandler&lt;T&gt;</code> ä¸­çš„ä¸šåŠ¡é€»è¾‘</td><td>æŒ‰éœ€å®ç°</td></tr></tbody></table>
<h3 data-id="heading-47">ä¸Šçº¿å‰å¿…åšæ£€æŸ¥</h3>
<h4 data-id="heading-48">ğŸ  å¼€å‘ç¯å¢ƒ</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å¯ç”¨äº‹ä»¶å»é‡ï¼ˆ<code>EnableEventDeduplication=true</code>ï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æµ‹è¯•ä¸šåŠ¡å±‚å¹‚ç­‰æ€§</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> éªŒè¯è¶…æ—¶å›æ»šé€»è¾‘</li>
</ul>
<h4 data-id="heading-49">ğŸ¢ ç”Ÿäº§ç¯å¢ƒ</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> <strong>å¿…é¡»</strong>å¯ç”¨ Redis åˆ†å¸ƒå¼å»é‡</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é…ç½®24å°æ—¶ç¼“å­˜è¿‡æœŸ</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è®¾ç½®å»é‡ç›‘æ§å‘Šè­¦</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å®ç° Redis æ•…éšœé™çº§æ–¹æ¡ˆ</li>
</ul>
<h4 data-id="heading-50">ğŸ—ï¸ å¤šå®ä¾‹éƒ¨ç½²</h4>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ‰€æœ‰å®ä¾‹è¿æ¥åŒä¸€ Redis</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ç¦ç”¨å†…å­˜å»é‡ï¼ˆä»…ä½¿ç”¨åˆ†å¸ƒå¼ï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æµ‹è¯•å¹¶å‘å»é‡ä¸€è‡´æ€§</li>
</ul>
<h3 data-id="heading-51">è¿˜æƒ³äº†è§£æ›´å¤šï¼Ÿ</h3>
<ul>
<li>ğŸ“– <a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fdocument%2Fserver-docs%2Fevent-subscription-guide%2Foverview" target="_blank" title="https://open.feishu.cn/document/server-docs/event-subscription-guide/overview" ref="nofollow noopener noreferrer">é£ä¹¦å®˜æ–¹æ–‡æ¡£ï¼šäº‹ä»¶è®¢é˜…</a></li>
<li>ğŸ’» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmudtools%2FMudFeishu" target="_blank" title="https://github.com/mudtools/MudFeishu" ref="nofollow noopener noreferrer">MudFeishu GitHub ä»“åº“</a></li>
<li>ğŸ’» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fmudtools%2FMudFeishu" target="_blank" title="https://gitee.com/mudtools/MudFeishu" ref="nofollow noopener noreferrer">MudFeishu Gitee ä»“åº“</a></li>
<li>ğŸ”’ <a href="https://link.juejin.cn?target=https%3A%2F%2Fredis.io%2Ftopics%2Fdistlock" target="_blank" title="https://redis.io/topics/distlock" ref="nofollow noopener noreferrer">Redis åˆ†å¸ƒå¼é”æœ€ä½³å®è·µ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Tailwind å› ä¸º AI çš„è£å‘˜â€œé—¹å‰§â€ç»“æŸï¼Œè€Œ AI å¯¹å¼€æºé¡¹ç›®çš„å½±å“æ‰åˆšåˆšå¼€å§‹]]></title>    <link>https://juejin.cn/post/7593535577046417443</link>    <guid>https://juejin.cn/post/7593535577046417443</guid>    <pubDate>2026-01-11T22:53:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593535577046417443" data-draft-id="7593362940071673908" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Tailwind å› ä¸º AI çš„è£å‘˜â€œé—¹å‰§â€ç»“æŸï¼Œè€Œ AI å¯¹å¼€æºé¡¹ç›®çš„å½±å“æ‰åˆšåˆšå¼€å§‹"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-11T22:53:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Tailwind å› ä¸º AI çš„è£å‘˜â€œé—¹å‰§â€ç»“æŸï¼Œè€Œ AI å¯¹å¼€æºé¡¹ç›®çš„å½±å“æ‰åˆšåˆšå¼€å§‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T22:53:22.000Z" title="Sun Jan 11 2026 22:53:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Tailwind è¿˜æ˜¯ç›¸å½“æ˜ç™½ã€Œä¼šå“­çš„å­©å­æœ‰å¥¶åƒã€è¿™ä¸ªé“ç†</strong>ï¼Œâ€œè£å‘˜é£æ³¢â€æ‰åˆšå¼€å§‹ï¼Œç«‹é©¬å°±æ”¶åˆ°è°·æ­Œ AI Studio ã€Vercel å’Œ Lovable çš„ç›¸å…³èµåŠ©ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b0d62334d554c62a3f3173fc26d818c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=lDxQhVoGIOy4sGrA9Xff3rwULOU%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/542b5533d138449ca30f1bff93bd4a99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=jLQHgKv50Vnwr%2FgATNdLFKUxclE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19fefe8e13614bf0bad8cdcddf737dff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=xgwBWVmlbEuzpJQMtgoDjQYHgm4%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªé£æ³¢å…¶å®å¹¶ä¸æ˜¯æœ€è¿‘æ‰å¼€å§‹çš„ï¼Œæ—©åœ¨å»å¹´å¹´åº•ï¼ŒBun è¢« Anthropic æ”¶è´­åŠ å…¥ Claude Code é˜µè¥çš„ä¹‹åï¼ŒTailwind CSS çš„åˆ›å§‹äºº Adam Wathan å°±å‘å‡ºè¿‡çµé­‚è­¦å‘Šï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14c29c446f4a42d5aaec149e7ce4452f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=hU9plrIE6pHk0ipuqlfXscBzQwc%3D" alt="" loading="lazy"/></p>
<p>å› ä¸ºç°åœ¨å¾ˆå¤š AI å…¬å¸ï¼Œæ¯”å¦‚ OpenAI ã€Claudeã€Gemini ç­‰ï¼Œéƒ½åœ¨å‰ç«¯ AI ä¸Šéƒ½å¤§é‡ä½¿ç”¨äº† Tailwindï¼Œå› ä¸ºå¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œ <strong>Tailwind CSS è®­ç»ƒæ•°æ®å¤šã€è¡¨è¾¾æ–¹å¼ç¦»æ•£å¯æ‹¼è£…ã€å¯æ§æ€§å¼ºã€å‡ºé”™æˆæœ¬ä½</strong> ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"p-4 rounded-xl shadow-md bg-white"</span>&gt;
</code></pre>
<p>å¯¹ AI æ¥è¯´ï¼ŒTailwind çš„ class å†™æ³•éå¸¸åƒåœ¨æ‹¼ç§¯æœ¨ï¼Œæ¯ä¸ª tokenï¼ˆ<code>p-4</code> / <code>rounded-xl</code> / <code>shadow-md</code>ï¼‰éƒ½æ˜¯ä¸€ä¸ªâ€œè¯­ä¹‰å•å…ƒâ€ï¼š</p>
<ul>
<li>æ—¢èƒ½å±€éƒ¨ä¿®æ”¹ï¼ˆæŠŠ <code>p-4</code>æ”¹ <code>p-6</code>ï¼‰</li>
<li>åˆèƒ½ç»„åˆå åŠ </li>
<li>è¿˜èƒ½æŒ‰å“åº”å¼/çŠ¶æ€æ‰©å±•ï¼ˆmd:p-6 hover:bg-xxxï¼‰</li>
</ul>
<p>åœ¨è¿™æ–¹é¢ï¼Œ<strong>æ¨¡å‹å‘æ¥æ›´æ“…é•¿ç”Ÿæˆç¦»æ•£ç¬¦å·åºåˆ—ï¼ˆtokenï¼‰ï¼Œè€Œä¸æ“…é•¿ç»´æŠ¤æŠ½è±¡ç»“æ„</strong>ï¼ŒåŒæ—¶ class è´´åœ¨å…ƒç´ ä¸Šæ‰€è§å³æ‰€å¾—ï¼Œç¬¦åˆ <strong>AI è¿½æ±‚çš„å°½å¯èƒ½â€œç”Ÿæˆä»£ç ä¸€æ¬¡å°±èƒ½è·‘â€</strong> ã€‚</p>
<blockquote>
<p>ç‰¹åˆ«æ˜¯è°·æ­Œçš„ AI Studio åœ¨è¿™æ–¹é¢å€¾å‘ç‰¹åˆ«æ˜æ˜¾ã€‚</p>
</blockquote>
<p>é‚£è¿™å¯¹ Tailwind æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ<strong>è¿™ä¸æ˜¯ä»£è¡¨ç€æ¡†æ¶åœ¨ AI æ—¶ä»£å¾ˆæµè¡Œå—ï¼Ÿä¸ºä»€ä¹ˆè¿˜ä¼šå‡ºç°â€è£å‘˜â€œé—®é¢˜</strong>ï¼Ÿè¿™ä¸ªå½±å“å…¶å®å°±ç±»ä¼¼ AI å¯¹ Stackoverflow çš„å½±å“ï¼ŒåŸç½‘ç«™æ²¡æµé‡äº†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c27ef9b3da14cfea02bd5deeb7086bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=pEgVhoxmeX2cTINVJ0b0dNGzcv0%3D" alt="" loading="lazy"/></p>
<p>Tailwind è¿™æ¬¡çš„æœ¬è´¨çŸ›ç›¾åœ¨äºï¼Œ<strong>AI è®© Tailwind ä½¿ç”¨é‡æ›´å¤§ï¼Œä½†æŠŠå®ƒåŸæœ¬çš„èµšé’±è·¯å¾„ï¼ˆæµé‡ to è½¬åŒ–ï¼‰ç»™åˆ‡æ–­äº†</strong>ï¼Œæ‰€ä»¥åè€Œå‡ºç°â€œè¶Šç«è¶Šç©·â€çš„æƒ…å†µã€‚</p>
<p>Tailwind æœ¬ä½“æ˜¯å¼€æºå…è´¹çš„ï¼Œä½†æ˜¯å®ƒçš„å…¸å‹å•†ä¸šæ¨¡å¼æ˜¯ï¼š</p>
<blockquote>
<p><strong>Google/æœç´¢ â†’ Tailwind å®˜ç½‘æ–‡æ¡£/æ•™ç¨‹ â†’ è®¤åŒä¸ä¾èµ– â†’ è´­ä¹°å¢å€¼äº§å“</strong>(æ¨¡ç‰ˆã€æ–‡æ¡£ã€ä¼ä¸šåˆä½œã€æ•™ç¨‹å’Œé¡¾é—®å’¨è¯¢ç­‰)ã€‚</p>
</blockquote>
<p>è¿™å…¶å®ä¹Ÿæ˜¯å¾ˆå¤šå¼€æºé¡¹ç›®çš„ç›ˆåˆ©æ–¹å¼ï¼Œç‰¹åˆ«å›½å†…å¾ˆå¤š gitee çš„é¡¹ç›®æ›´æ˜æ˜¾ï¼Œæ”¾å‡ºç®€é™‹å¼€æºç‰ˆæœ¬ï¼Œä»˜è´¹æä¾›æ–‡æ¡£å’Œå®Œæ•´å•†ä¸šç‰ˆæœ¬ï¼Œè€Œè¿™äº›ä»˜è´¹äº§å“ä¸¥é‡ä¾èµ–ï¼š<strong>æ–‡æ¡£æµé‡ + å¿ƒæ™ºä¾èµ– ï¼Œè¿˜æœ‰ç”¨æˆ·åœ¨å®˜ç½‘åœç•™æ—¶é—´å’Œè®¿é—®é¢‘ç‡ï¼Œä½†æ˜¯ç°åœ¨ AI åœ¨ææ–­äº†è¿™ä¸ªè·¯å¾„</strong>ã€‚</p>
<blockquote>
<p>Tailwind åœ¨çº¿æ–‡æ¡£çš„æµé‡ä¸‹é™äº† 40%ï¼Œæ”¶å…¥ä¸‹é™äº† 80%ï¼Œ<strong>å®é™…ä¸Šå†™æŠ€æœ¯æ–‡ç« å’Œå…¬ä¼—å·çš„åº”è¯¥ä¹Ÿæœ‰æ„Ÿå—ï¼Œç°åœ¨çš„å¼€å‘è€…è¶Šæ¥è¶Šä¸å–œæ¬¢è¯»å’Œæ‰¾æŠ€æœ¯æ–‡ç« äº†ï¼Œå°±ç®—è¯»ä¹Ÿæ˜¯è®© AI ç›´æ¥æ€»ç»“</strong>ã€‚</p>
</blockquote>
<p>å½“ç„¶ï¼Œè¿™æ³¢é—¹å‡ºæ¥çš„è£æ‰ 75% çš„å·¥ç¨‹å¸ˆçš„äº‹ä»¶ï¼Œå¤šå°‘ä¹Ÿæœ‰ä¸€äº›æ ‡é¢˜å…šçš„å‘³é“ï¼Œå› ä¸º<strong>å·¥ç¨‹å›¢é˜ŸåŸæ¥æœ‰4 ä¸ªå·¥ç¨‹å¸ˆï¼Œè¿™æ¬¡è£æ‰äº† 3 ä¸ªï¼Œæ‰€ä»¥æ¯”ä¾‹é«˜è¾¾ 75%</strong> ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e405f650b7df4c05a538f6f9a50f2550~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=aAwHQfPeLIlEPDmzkrgXHHD3s1g%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å®é™…åº”è¯¥å°±æ˜¯å‰©ä¸‹åˆ›å§‹äºº+ 1 ä¸ªå·¥ç¨‹å¸ˆ+ 1 ä¸ªå…¼èŒçš„å›¢é˜Ÿè§„æ¨¡ã€‚</p>
</blockquote>
<p>å½“ç„¶ï¼Œè¿™æ³¢èµåŠ©é£æ³¢å…¶å®å¯¹äº Tailwind å±æœºæ¥è¯´ï¼Œä¹Ÿåªæ˜¯è§£æ•‘è¿‘æœŸçš„ç‡ƒçœ‰ä¹‹æ€¥ï¼Œå› ä¸ºå®ƒä¸åƒ Bun ï¼ŒBun å¯¹ Anthropic æ¥è¯´æ˜¯å¼ºæˆ˜ç•¥èµ„äº§ï¼Œå› ä¸ºè¿è¡Œæ—¶/å·¥å…·é“¾ç›´æ¥å½±å“ AI ç¼–ç äº§å“çš„æ€§èƒ½ä¸äº¤ä»˜ï¼š</p>
<blockquote>
<p>ä¸€ä½“åŒ– runtime/toolchainï¼Œå’Œ AI coding äº§å“çš„å·¥ç¨‹é“¾è·¯å¼ºç»‘å®šï¼Œæ”¶è´­èƒ½ç«‹åˆ»å‡å°‘å¤–éƒ¨ä¾èµ–ã€æå‡ç¨³å®šæ€§ä¸æ€§èƒ½ä¸Šé™ã€‚</p>
</blockquote>
<p>æ‰€ä»¥ Bun å–çš„æ˜¯â€œå·¥ç¨‹åŸºç¡€è®¾æ–½èƒ½åŠ›â€ï¼ˆé€Ÿåº¦/å·¥å…·é“¾/äº¤ä»˜ä½“éªŒï¼‰ï¼Œè€Œ Tailwind è™½ç„¶ååˆ†æµè¡Œï¼Œä½†æ˜¯ä¸»è¦å•†ä¸šåŒ–é€šå¸¸é â€œå›´ç»•å¼€æºçš„å¢å€¼äº§å“/æœåŠ¡æ¼æ–—â€ï¼Œæˆä¸äº†æ ¸å¿ƒä½“ç³»çš„ï¼Œç®€å•è¯´ï¼š</p>
<ul>
<li>Bun å±äºâ€œå¯æ§çš„å…³é”®åŸºç¡€è®¾æ–½ï¼ˆruntime/toolchainï¼‰â€ï¼Œæ”¶è´­åå¯ä»¥æŠŠå…³é”®å·¥å…·é“¾è¿›åŒ–æˆè‡ªæœ‰èµ„äº§</li>
<li>Tailwind å±äºâ€œå¯æ›¿ä»£çš„å¼€å‘è€…ä½“éªŒå±‚ï¼ˆUI styling layerï¼‰â€ï¼Œä¹°å®ƒä¸å¤ªä¼šç»™ä½ æŠ¤åŸæ²³</li>
</ul>
<p><strong>åœ¨é“¾è·¯ä¸Šçš„å·®è·ï¼Œä¹Ÿå¯¼è‡´äº†å®ƒä»¬ä¹‹é—´å‘½è¿çš„èµ°å‘ä¸åŒ</strong>ï¼Œå½“ç„¶ Tailwind æ·±çŸ¥â€œå‘å£°â€çš„é‡è¦æ€§ï¼Œæ‰€ä»¥è¿™æ³¢é—¹è…¾ä¹‹åï¼Œä¹Ÿæš‚æ—¶æ€§è§£å†³äº†ç”Ÿå­˜é—®é¢˜ï¼Œåªæ˜¯ï¼š</p>
<blockquote>
<p>èµåŠ©åªèƒ½è¦†ç›–ä¸€æ—¶çš„èµ„é‡‘é—®é¢˜ï¼Œä½†è§£å†³ä¸äº†å½“å‰å¼€æºé¡¹ç›®çš„çš„å•†ä¸šæ¨¡å¼çª˜å¢ƒã€‚</p>
</blockquote>
<p>AI åˆ‡æ–­æµé‡æ˜¯è‡´å‘½çš„ï¼ŒStackOverflow åœ¨è¿™æ–¹é¢è¡¨ç°æœ€ä¸ºæ˜æ˜¾ä¹Ÿæœ€ä¸ºæ˜æ˜¾ï¼Œæ‰€ä»¥ Tailwind è¿™æ³¢äºå¼€å‘è€…å’Œå¼€æºé¢†åŸŸæ¥ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„è­¦é’Ÿï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9f6a77474da4de189bb15e5393ac330~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=760SqbfWL8SDymZuLYEfeT7AcSc%3D" alt="" loading="lazy"/></p>
<p>å°±åƒæˆ‘æœ‹å‹ï¼Œä¸Šåˆè¿˜é—®æœ‰æ²¡æœ‰ä»€ä¹ˆè®°è´¦è½¯ä»¶æ¨èï¼Œç»“æœä¸‹åˆå°±ç›´æ¥ç”¨ AI åšäº†ä¸€ä¸ªç¬¦åˆå¿ƒæ„çš„åº”ç”¨ï¼ŒAI å¯¹äºä¸ªäººå¼€å‘è€…çš„å½±å“æœªæ¥ä¹Ÿä¼šè¶Šæ¥è¶Šæ˜æ˜¾ï¼Œå¦‚æœ AI å¯ä»¥ç›´æ¥ A2UI ç›´å‡ºåŠŸèƒ½å’Œç»“æœçš„æ—¶å€™ï¼Œæ˜¯å¦å…¶ä»–ç‹¬ç«‹äº§å“è¿˜æœ‰å­˜åœ¨çš„æ„ä¹‰ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97e37cb5876e4b5eb10933519ff1b4fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768776802&amp;x-signature=bpVc%2Fwv1ohms1sCwcX2Y2IvQq2E%3D" alt="image-20260111143806306" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼Œ AI å¯¹äºå¼€å‘è€…å’Œå¼€æºé¡¹ç›®çš„å½±å“æ‰åˆšåˆšå¼€å§‹ï¼Œä»¥å‰çš„é¡¹ç›®å¢é•¿å’Œæµæ°´é çš„æ˜¯ï¼š</p>
<ul>
<li>Google æœç´¢</li>
<li>æ–‡æ¡£æµé‡</li>
<li>StackOverflow</li>
<li>åšå®¢/æ•™ç¨‹</li>
<li>GitHub star ä¼ æ’­</li>
</ul>
<p>ä½†æ˜¯ç°åœ¨ AI æ—¶ä»£ä¹‹åï¼Œå¼€æºçš„å½±å“åŠ›ä¸å†å»å–å†³äºï¼š</p>
<ul>
<li>æ–‡æ¡£å†™å¾—å¤šå¥½</li>
<li>SEO åšå¾—å¤šå¥½</li>
</ul>
<p>ç°åœ¨çš„é¡¹ç›®æ˜¯å¦æµç•…ï¼Œè¶Šæ¥è¶Šç”±å–å†³äº AI ï¼š</p>
<ul>
<li>è®­ç»ƒè¯­æ–™é‡Œå‡ºç°å¾—å¤Ÿä¸å¤Ÿå¤š</li>
<li>æ¨¡å‹åå¥½å®ƒè¿˜æ˜¯åå¥½åˆ«çš„åº“</li>
<li>å®ƒæ˜¯å¦â€œæ›´é€‚åˆç”Ÿæˆâ€</li>
</ul>
<p>è€Œé¡¹ç›®èƒ½å¦èµšåˆ°é’±ï¼Œæ›´è¦å–å†³äºä½ åœ¨ AI é“¾è·¯é‡Œæ‰®æ¼”çš„è§’è‰²ï¼Œè¿™ä¹Ÿæ˜¯ Tailwind è¿™æ³¢è¡¨ç°å‡ºæ¥çš„è¶‹åŠ¿ï¼š</p>
<blockquote>
<p>è™½ç„¶ä½ åœ¨ AI æ—¶ä»£å¾ˆå¤šï¼Œä½†æ˜¯è¶Šç«ï¼Œæµé‡å´è¶Šå°‘ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#.NET ConcurrentBag<T> è®¾è®¡åŸç†ä¸ä½¿ç”¨åœºæ™¯]]></title>    <link>https://juejin.cn/post/7593845442371747886</link>    <guid>https://juejin.cn/post/7593845442371747886</guid>    <pubDate>2026-01-11T23:58:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593845442371747886" data-draft-id="7593913760042303497" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#.NET ConcurrentBag&lt;T&gt; è®¾è®¡åŸç†ä¸ä½¿ç”¨åœºæ™¯"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2026-01-11T23:58:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#.NET ConcurrentBag&lt;T&gt; è®¾è®¡åŸç†ä¸ä½¿ç”¨åœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T23:58:37.000Z" title="Sun Jan 11 2026 23:58:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p><code>ConcurrentBag&lt;T&gt;</code> æ˜¯ <code>System.Collections.Concurrent</code> å‘½åç©ºé—´ä¸‹çš„çº¿ç¨‹å®‰å…¨çš„æ— åºé›†åˆï¼Œä¸“ä¸º â€œå¤šçº¿ç¨‹åŒæ—¶æ·»åŠ  / ç§»é™¤å…ƒç´ â€ è®¾è®¡ï¼Œæ ¸å¿ƒç‰¹ç‚¹æ˜¯åŸºäºçº¿ç¨‹å±€éƒ¨å­˜å‚¨ï¼ˆ<code>TLS</code>ï¼‰ä¼˜åŒ–ï¼Œåœ¨ â€œåŒä¸€çº¿ç¨‹é¢‘ç¹æ·»åŠ å’Œç§»é™¤å…ƒç´ â€ çš„åœºæ™¯ä¸‹æ€§èƒ½æœ€ä¼˜ï¼Œæ˜¯ <code>.NET</code> ä¸­å¤„ç†æ— åºçº¿ç¨‹å®‰å…¨é›†åˆçš„æ ¸å¿ƒå·¥å…·ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒå®šä½ä¸ä»·å€¼</h3>
<p>åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸­ï¼Œæ™®é€šçš„ <code>List&lt;T&gt;</code> éçº¿ç¨‹å®‰å…¨ï¼ˆå¤šçº¿ç¨‹æ“ä½œä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ•°æ®æŸåï¼‰ï¼Œè€Œ <code>lock</code> åŒ…è£¹çš„ <code>List&lt;T&gt;</code> å­˜åœ¨é”ç«äº‰é—®é¢˜ï¼ˆæ€§èƒ½ä½ï¼‰ã€‚<code>ConcurrentBag&lt;T&gt;</code> çš„æ ¸å¿ƒä»·å€¼ï¼š</p>
<ul>
<li>
<p>æ— é”æ ¸å¿ƒè·¯å¾„ï¼šé€šè¿‡çº¿ç¨‹å±€éƒ¨å­˜å‚¨ï¼ˆ<code>TLS</code>ï¼‰è®©æ¯ä¸ªçº¿ç¨‹ä¼˜å…ˆæ“ä½œè‡ªå·±çš„ç§æœ‰æ•°æ®æ®µï¼Œå‡å°‘è·¨çº¿ç¨‹é”ç«äº‰ï¼›</p>
</li>
<li>
<p>æ— åºå­˜å‚¨ï¼šä¸ä¿è¯å…ƒç´ çš„é¡ºåºï¼ˆæ’å…¥é¡ºåºâ‰ éå†é¡ºåºï¼‰ï¼Œç‰ºç‰²é¡ºåºæ¢å–æ€§èƒ½ï¼›</p>
</li>
<li>
<p>çº¿ç¨‹å®‰å…¨ï¼šæ‰€æœ‰æ“ä½œï¼ˆ<code>Add/TryTake</code> ç­‰ï¼‰å‡çº¿ç¨‹å®‰å…¨ï¼Œæ— éœ€æ‰‹åŠ¨åŠ é”ï¼›</p>
</li>
<li>
<p>é€‚é…ç‰¹å®šåœºæ™¯ï¼šå°¤å…¶é€‚åˆ â€œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¸ºåŒä¸€çº¿ç¨‹â€ çš„åœºæ™¯ï¼ˆå¦‚çº¿ç¨‹æ± çº¿ç¨‹è‡ªäº§è‡ªé”€ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">æ ¸å¿ƒç‰¹ç‚¹</h3>






















































<table><thead><tr><th>ç‰¹æ€§</th><th>ConcurrentBag</th><th>ConcurrentQueue</th><th>ConcurrentStack</th><th>å…¸å‹ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>é¡ºåºä¿è¯</td><td>æ— åºï¼ˆå®Œå…¨ä¸ä¿è¯ï¼‰</td><td>FIFO</td><td>LIFO</td><td>ä¸å…³å¿ƒé¡ºåºçš„åœºæ™¯</td></tr><tr><td>çº¿ç¨‹å®‰å…¨</td><td>æ˜¯</td><td>æ˜¯</td><td>æ˜¯</td><td>å¤šçº¿ç¨‹å¹¶å‘</td></tr><tr><td>å…ƒç´ é‡å¤å–å‡ºé£é™©</td><td>å¯èƒ½ï¼ˆåŒä¸€ä¸ªçº¿ç¨‹å¯èƒ½å…ˆå–åæ”¾ï¼‰</td><td>ä¸å¯èƒ½</td><td>ä¸å¯èƒ½</td><td>å…è®¸â€œå·å–â€å·¥ä½œ</td></tr><tr><td>å†…å­˜ä½¿ç”¨</td><td>è¾ƒä½ï¼ˆåˆ†æ®µ + çº¿ç¨‹æœ¬åœ°è¢‹ï¼‰</td><td>ä¸­ç­‰</td><td>ä¸­ç­‰</td><td>å¤§é‡å°å¯¹è±¡</td></tr><tr><td>æ”¯æŒ Peek</td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td><td>æ”¯æŒ</td><td>â€”</td></tr><tr><td>å…¸å‹æ¨¡å¼</td><td>å·¥ä½œçªƒå–ï¼ˆwork-stealingï¼‰</td><td>ç”Ÿäº§è€…-æ¶ˆè´¹è€…</td><td>åè¿›å…ˆå‡ºä»»åŠ¡æ ˆ</td><td>å¹¶è¡Œä»»åŠ¡æ± ã€è´Ÿè½½å‡è¡¡</td></tr></tbody></table>
<h3 data-id="heading-3">å†…éƒ¨å®ç°åŸç†</h3>
<p><code>ConcurrentBag</code> çš„é«˜æ€§èƒ½æ¥æºäºçº¿ç¨‹æœ¬åœ°å­˜å‚¨ + å·¥ä½œçªƒå–çš„è®¾è®¡ï¼š</p>
<ul>
<li>
<p>æ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰ä¸€ä¸ªç§æœ‰å°è¢‹ï¼ˆ<code>bag</code>ï¼‰ï¼ˆé€šå¸¸æ˜¯é“¾è¡¨æˆ–æ•°ç»„ï¼‰</p>
</li>
<li>
<p>çº¿ç¨‹ <code>Add/Take</code> æ—¶ä¼˜å…ˆæ“ä½œè‡ªå·±çš„ç§æœ‰è¢‹ï¼ˆå‡ ä¹æ— é”ï¼‰</p>
</li>
<li>
<p>å½“è‡ªå·±è¢‹å­ä¸ºç©ºæ—¶ï¼Œä¼šå» <strong>â€œå·â€</strong> å…¶ä»–çº¿ç¨‹çš„è¢‹å­ï¼ˆ <code>work-stealing</code>ï¼‰</p>
</li>
<li>
<p>è¿™ç§è®¾è®¡å¯¼è‡´ï¼š</p>
<ul>
<li>
<p>åŒä¸€ä¸ªçº¿ç¨‹æ’å…¥çš„å…ƒç´ ï¼Œå¾ˆå¯èƒ½è¢«åŒä¸€ä¸ªçº¿ç¨‹å…ˆå–å‡ºï¼ˆå±€éƒ¨æ€§å¥½ï¼‰</p>
</li>
<li>
<p>ä½†è·¨çº¿ç¨‹çœ‹ï¼Œå®Œå…¨æ— åºï¼Œè€Œä¸”å¯èƒ½å‡ºç°åŒä¸€ä¸ªå…ƒç´ è¢«åŒä¸€ä¸ªçº¿ç¨‹å…ˆå–åæ”¾çš„æƒ…å†µ</p>
</li>
</ul>
</li>
<li>
<p>è½»é‡çº§é”ï¼šä»…åœ¨è·¨çº¿ç¨‹çªƒå–å…ƒç´ æ—¶åŠ é”ï¼Œæ ¸å¿ƒè·¯å¾„ï¼ˆåŒçº¿ç¨‹å­˜å–ï¼‰æ— é”ï¼Œæ€§èƒ½è¿œè¶…å…¨å±€é”çš„ <code>List&lt;T&gt;</code>ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[çº¿ç¨‹A] --&gt; A_Queue[æœ¬åœ°é˜Ÿåˆ—A: 1, 3, 5]
    B[çº¿ç¨‹B] --&gt; B_Queue[æœ¬åœ°é˜Ÿåˆ—B: 2, 4]
    C[çº¿ç¨‹C] --&gt; C_Queue[æœ¬åœ°é˜Ÿåˆ—C: 6]
    
    D[å…¨å±€é˜Ÿåˆ—] --&gt; |å·¥ä½œçªƒå–| A_Queue
    D --&gt; |å·¥ä½œçªƒå–| B_Queue
    D --&gt; |å·¥ä½œçªƒå–| C_Queue
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒ API</h3>
<h4 data-id="heading-5">æ ¸å¿ƒæ„é€ å‡½æ•°</h4>
<ul>
<li>
<p><code>ConcurrentBag&lt;T&gt;()</code>: åˆ›å»ºç©ºçš„çº¿ç¨‹å®‰å…¨é›†åˆ</p>
</li>
<li>
<p><code>ConcurrentBag&lt;T&gt;(IEnumerable&lt;T&gt;)</code>: ç”¨æŒ‡å®šé›†åˆåˆå§‹åŒ–<code>ConcurrentBag&lt;T&gt;</code></p>
</li>
</ul>
<h4 data-id="heading-6">æ ¸å¿ƒæ–¹æ³• / å±æ€§</h4>
<ul>
<li>
<p><code>Add(T item)</code>: å‘é›†åˆæ·»åŠ å…ƒç´ ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ï¼Œæ— è¿”å›å€¼</p>
</li>
<li>
<p><code>TryTake(out T result)</code>: å°è¯•ä»é›†åˆç§»é™¤å¹¶è¿”å›ä»»æ„å…ƒç´ ï¼šæˆåŠŸè¿”å›<code>true</code>ï¼Œé›†åˆä¸ºç©ºè¿”å› <code>false</code></p>
</li>
<li>
<p><code>Count</code>: è·å–é›†åˆä¸­å…ƒç´ çš„æ•°é‡ï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œä½†å€¼ä¸ºç¬æ—¶å¿«ç…§ï¼‰</p>
</li>
<li>
<p><code>IsEmpty</code>: åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼ˆçº¿ç¨‹å®‰å…¨ï¼Œç¬æ—¶å¿«ç…§ï¼‰</p>
</li>
<li>
<p><code>GetEnumerator()</code>: è¿”å›éå†é›†åˆçš„æšä¸¾å™¨ï¼ˆéå†çš„æ˜¯ç¬æ—¶å¿«ç…§ï¼Œä¸ä¿è¯åç»­å…ƒç´ ä¸å˜ï¼‰</p>
</li>
</ul>
<h4 data-id="heading-7">å¸¸ç”¨æ“ä½œ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> bag = <span class="hljs-keyword">new</span> ConcurrentBag&lt;<span class="hljs-built_in">string</span>&gt;();

<span class="hljs-comment">// æ’å…¥ï¼ˆæå¿«ï¼‰</span>
bag.Add(<span class="hljs-string">"ä»»åŠ¡A"</span>);
bag.Add(<span class="hljs-string">"ä»»åŠ¡B"</span>);

<span class="hljs-comment">// å°è¯•å–å‡ºï¼ˆéé˜»å¡ï¼‰</span>
<span class="hljs-keyword">if</span> (bag.TryTake(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> item))
{
    Console.WriteLine(<span class="hljs-string">$"å–å‡º: <span class="hljs-subst">{item}</span>"</span>);
}

<span class="hljs-comment">// å°è¯•å·å–ï¼ˆTryPeek ä¸å­˜åœ¨ï¼ï¼‰</span>
<span class="hljs-keyword">if</span> (bag.TryTake(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> stolen)) { <span class="hljs-comment">/* å¤„ç† */</span> }

<span class="hljs-comment">// è®¡æ•°ï¼ˆæ³¨æ„ï¼šæœ‰ä¸€å®šå¼€é”€ï¼‰</span>
<span class="hljs-built_in">int</span> count = bag.Count;

<span class="hljs-comment">// æ¸…ç©ºï¼ˆä¸å¸¸ç”¨ï¼‰</span>
bag.Clear();

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºç©º</span>
<span class="hljs-built_in">bool</span> isEmpty = bag.IsEmpty;
</code></pre>
<h3 data-id="heading-8">ç”¨æ³•ç¤ºä¾‹</h3>
<h4 data-id="heading-9">å¤šçº¿ç¨‹æ·»åŠ ä¸æ¶ˆè´¹</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Concurrent;
<span class="hljs-keyword">using</span> System.Threading.Tasks;

<span class="hljs-keyword">class</span> <span class="hljs-title">ConcurrentBagBasicDemo</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å®‰å…¨çš„ConcurrentBag</span>
        <span class="hljs-keyword">var</span> bag = <span class="hljs-keyword">new</span> ConcurrentBag&lt;<span class="hljs-built_in">int</span>&gt;();

        <span class="hljs-comment">// 1. å¤šçº¿ç¨‹æ·»åŠ å…ƒç´ ï¼ˆ4ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªæ·»åŠ 5ä¸ªå…ƒç´ ï¼‰</span>
        Parallel.For(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>, threadId =&gt;
        {
            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++)
            {
                <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> = threadId * <span class="hljs-number">100</span> + i;
                bag.Add(<span class="hljs-keyword">value</span>);
                Console.WriteLine(<span class="hljs-string">$"çº¿ç¨‹<span class="hljs-subst">{threadId}</span>ï¼šæ·»åŠ  <span class="hljs-subst">{<span class="hljs-keyword">value</span>}</span>"</span>);
            }
        });

        Console.WriteLine(<span class="hljs-string">$"\né›†åˆæ€»å…ƒç´ æ•°ï¼š<span class="hljs-subst">{bag.Count}</span>\n"</span>);

        <span class="hljs-comment">// 2. å¤šçº¿ç¨‹æ¶ˆè´¹å…ƒç´ ï¼ˆç›´åˆ°é›†åˆä¸ºç©ºï¼‰</span>
        Parallel.For(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, threadId =&gt;
        {
            <span class="hljs-keyword">while</span> (!bag.IsEmpty)
            {
                <span class="hljs-keyword">if</span> (bag.TryTake(<span class="hljs-keyword">out</span> <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span>))
                {
                    Console.WriteLine(<span class="hljs-string">$"çº¿ç¨‹<span class="hljs-subst">{threadId}</span>ï¼šå–å‡º <span class="hljs-subst">{<span class="hljs-keyword">value</span>}</span>"</span>);
                }
                <span class="hljs-comment">// é¿å…ç©ºå¾ªç¯å ç”¨CPU</span>
                Task.Delay(<span class="hljs-number">10</span>).Wait();
            }
        });

        Console.WriteLine(<span class="hljs-string">$"\næœ€ç»ˆé›†åˆæ˜¯å¦ä¸ºç©ºï¼š<span class="hljs-subst">{bag.IsEmpty}</span>"</span>);
    }
}
</code></pre>
<p>è¾“å‡ºç»“æœ</p>
<pre><code class="hljs language-python" lang="python">çº¿ç¨‹<span class="hljs-number">0</span>ï¼šæ·»åŠ  <span class="hljs-number">1</span>
çº¿ç¨‹<span class="hljs-number">1</span>ï¼šæ·»åŠ  <span class="hljs-number">101</span>
çº¿ç¨‹<span class="hljs-number">0</span>ï¼šæ·»åŠ  <span class="hljs-number">2</span>
çº¿ç¨‹<span class="hljs-number">2</span>ï¼šæ·»åŠ  <span class="hljs-number">201</span>
...ï¼ˆæ·»åŠ é¡ºåºæ— åºï¼‰
é›†åˆæ€»å…ƒç´ æ•°ï¼š<span class="hljs-number">20</span>

çº¿ç¨‹<span class="hljs-number">0</span>ï¼šå–å‡º <span class="hljs-number">2</span>
çº¿ç¨‹<span class="hljs-number">1</span>ï¼šå–å‡º <span class="hljs-number">101</span>
çº¿ç¨‹<span class="hljs-number">0</span>ï¼šå–å‡º <span class="hljs-number">1</span>
çº¿ç¨‹<span class="hljs-number">1</span>ï¼šå–å‡º <span class="hljs-number">201</span>
...ï¼ˆå–å‡ºé¡ºåºâ‰ æ·»åŠ é¡ºåºï¼Œä¸”ä¼˜å…ˆå–å½“å‰çº¿ç¨‹æ·»åŠ çš„å…ƒç´ ï¼‰
æœ€ç»ˆé›†åˆæ˜¯å¦ä¸ºç©ºï¼š<span class="hljs-literal">True</span>
</code></pre>
<p>æ ¸å¿ƒç°è±¡ï¼š</p>
<ul>
<li>
<p>æ·»åŠ å’Œå–å‡ºçš„é¡ºåºå®Œå…¨æ— åºï¼Œç¬¦åˆ <code>ConcurrentBag&lt;T&gt;</code> â€œæ— åºé›†åˆâ€ çš„ç‰¹æ€§ï¼›</p>
</li>
<li>
<p>åŒä¸€çº¿ç¨‹ä¼˜å…ˆå–å‡ºè‡ªå·±æ·»åŠ çš„å…ƒç´ ï¼ˆ<code>TLS</code> ä¼˜åŒ–çš„ä½“ç°ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-10">å¹¶è¡Œå¤„ç†å¤§é‡ç‹¬ç«‹å°æ–‡ä»¶</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> files = Directory.GetFiles(<span class="hljs-string">"big_folder"</span>, <span class="hljs-string">"*.txt"</span>);
<span class="hljs-keyword">var</span> bag = <span class="hljs-keyword">new</span> ConcurrentBag&lt;<span class="hljs-built_in">string</span>&gt;(files);

Parallel.ForEach(bag, <span class="hljs-keyword">new</span> ParallelOptions { MaxDegreeOfParallelism = Environment.ProcessorCount },
    file =&gt;
    {
        ProcessFile(file);
    });
</code></pre>
<h4 data-id="heading-11">å¯¹è±¡æ± å®ç°</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ObjectPool</span>&lt;<span class="hljs-title">T</span>&gt;
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ConcurrentBag&lt;T&gt; _objects;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> Func&lt;T&gt; _objectGenerator;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ObjectPool</span>(<span class="hljs-params">Func&lt;T&gt; objectGenerator</span>)</span>
    {
        _objects = <span class="hljs-keyword">new</span> ConcurrentBag&lt;T&gt;();
        _objectGenerator = objectGenerator;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> T <span class="hljs-title">Get</span>()</span>
    {
        <span class="hljs-keyword">return</span> _objects.TryTake(<span class="hljs-keyword">out</span> T item) ? item : _objectGenerator();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Return</span>(<span class="hljs-params">T item</span>)</span>
    {
        _objects.Add(item);
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">var</span> pool = <span class="hljs-keyword">new</span> ObjectPool&lt;StringBuilder&gt;(() =&gt; <span class="hljs-keyword">new</span> StringBuilder());
<span class="hljs-keyword">var</span> sb = pool.Get();
<span class="hljs-keyword">try</span>
{
    sb.Append(<span class="hljs-string">"Hello"</span>);
    Console.WriteLine(sb.ToString());
}
<span class="hljs-keyword">finally</span>
{
    pool.Return(sb);
}
</code></pre>
<h3 data-id="heading-12">å…³é”®ç‰¹æ€§ä¸é€‚ç”¨åœºæ™¯</h3>
<h4 data-id="heading-13">æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li>
<p>é¡ºåºæ€§: æ— åºï¼ˆ<code>Add</code> é¡ºåºâ‰ éå† / <code>Take</code> é¡ºåºï¼‰</p>
</li>
<li>
<p>çº¿ç¨‹å®‰å…¨: æ‰€æœ‰æ“ä½œçº¿ç¨‹å®‰å…¨ï¼Œæ— éœ€æ‰‹åŠ¨åŠ é”</p>
</li>
<li>
<p>æ€§èƒ½:	åŒçº¿ç¨‹å­˜å–ï¼šæé«˜ï¼ˆæ— é”ï¼‰ï¼›è·¨çº¿ç¨‹çªƒå–ï¼šä¸­ï¼ˆè½»é‡çº§é”ï¼‰</p>
</li>
<li>
<p>ç©ºå€¼æ”¯æŒ:	å…è®¸æ·»åŠ  <code>null</code>ï¼ˆè‹¥Tä¸ºå¼•ç”¨ç±»å‹ï¼‰</p>
</li>
<li>
<p>éå†ç‰¹æ€§:	éå†çš„æ˜¯ â€œç¬æ—¶å¿«ç…§â€ï¼Œéå†è¿‡ç¨‹ä¸­é›†åˆå¯ä¿®æ”¹ï¼Œä¸æŠ›å‡ºå¼‚å¸¸</p>
</li>
<li>
<p>å®¹é‡: æ— å›ºå®šå®¹é‡é™åˆ¶ï¼ŒåŠ¨æ€æ‰©å®¹</p>
</li>
</ul>
<h4 data-id="heading-14">æœ€ä½³é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>
<p>çº¿ç¨‹è‡ªäº§è‡ªé”€ï¼šçº¿ç¨‹æ± çº¿ç¨‹æ·»åŠ å…ƒç´ åï¼Œè‡ªå·±å¿«é€Ÿå–å‡ºå¤„ç†ï¼ˆå¦‚çº¿ç¨‹æœ¬åœ°ç¼“å­˜ï¼‰ï¼›</p>
</li>
<li>
<p>æ— åºæ‰¹é‡å¤„ç†ï¼šå¤šçº¿ç¨‹æ”¶é›†æ•°æ®ï¼Œæ— éœ€ä¿è¯é¡ºåºï¼ˆå¦‚æ—¥å¿—æ”¶é›†ã€ä¸´æ—¶æ•°æ®å­˜å‚¨ï¼‰ï¼›</p>
</li>
<li>
<p>ä½é”ç«äº‰åœºæ™¯ï¼šå¤§å¤šæ•°æ“ä½œç”±åŒä¸€çº¿ç¨‹å®Œæˆï¼Œè·¨çº¿ç¨‹æ“ä½œå°‘ã€‚</p>
</li>
<li>
<p>å¯¹è±¡æ± å®ç°ï¼šé‡ç”¨å¯¹è±¡å‡å°‘åˆ†é…</p>
</li>
<li>
<p>å¹¶è¡Œè®¡ç®—ä¸­é—´ç»“æœæ”¶é›†</p>
</li>
<li>
<p>ç”Ÿäº§è€…å³æ¶ˆè´¹è€…æ¨¡å¼</p>
</li>
</ul>
<h4 data-id="heading-15">ä¸é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>
<p>éœ€è¦æœ‰åºå­˜å–ï¼šå¦‚ <code>FIFO</code>ï¼ˆç”¨ <code>ConcurrentQueue&lt;T&gt;</code> ï¼‰ã€<code>LIFO</code>ï¼ˆç”¨<code>ConcurrentStack&lt;T&gt;</code>ï¼‰ï¼›</p>
</li>
<li>
<p>é«˜è·¨çº¿ç¨‹çªƒå–ï¼šå¤šçº¿ç¨‹é¢‘ç¹æ·»åŠ ï¼Œä¸”å…¶ä»–çº¿ç¨‹é¢‘ç¹å–èµ°ï¼ˆæ­¤æ—¶é”ç«äº‰å¤šï¼Œæ€§èƒ½ä½äº<code>ConcurrentQueue&lt;T&gt;</code> ï¼‰ï¼›</p>
</li>
<li>
<p>ç´¢å¼•è®¿é—®ï¼š<code>ConcurrentBag&lt;T&gt;</code> æ— ç´¢å¼•ï¼ˆå¦‚ <code>bag[0]</code> ï¼‰ï¼Œéœ€ç´¢å¼•è®¿é—®ç”¨<code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> æˆ–æ‰‹åŠ¨å°è£…ã€‚</p>
</li>
</ul>
<h3 data-id="heading-16">æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-17">ä¼˜å…ˆç”¨äºç”Ÿäº§è€…-æ¶ˆè´¹è€…åŒçº¿ç¨‹åœºæ™¯</h4>
<pre><code class="hljs language-csharp" lang="csharp">   <span class="hljs-comment">// åŒä¸€çº¿ç¨‹æ·»åŠ å’Œå–å‡º</span>
   <span class="hljs-keyword">var</span> threadLocalBag = <span class="hljs-keyword">new</span> ConcurrentBag&lt;WorkItem&gt;();
   
   <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Process</span>()</span>
   {
       threadLocalBag.Add(CreateWork());
       <span class="hljs-keyword">if</span> (threadLocalBag.TryTake(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> work))
       {
           Execute(work);
       }
   }
</code></pre>
<h4 data-id="heading-18">é¿å…ç”¨äºç”Ÿäº§è€…-æ¶ˆè´¹è€…åˆ†ç¦»åœºæ™¯</h4>
<pre><code class="hljs language-csharp" lang="csharp">   <span class="hljs-comment">// ç”Ÿäº§è€…æ¶ˆè´¹è€…åˆ†ç¦»</span>
   <span class="hljs-keyword">var</span> sharedBag = <span class="hljs-keyword">new</span> ConcurrentBag&lt;Data&gt;();
   
   <span class="hljs-comment">// ç”Ÿäº§è€…çº¿ç¨‹</span>
   Task.Run(() =&gt; sharedBag.Add(produce()));
   
   <span class="hljs-comment">// æ¶ˆè´¹è€…çº¿ç¨‹</span>
   Task.Run(() =&gt; 
   {
       <span class="hljs-keyword">if</span> (sharedBag.TryTake(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> data))
       {
           consume(data);
       }
   });
</code></pre>
<h3 data-id="heading-19">æ€»ç»“</h3>
<p><code>ConcurrentBag&lt;T&gt;</code> æ˜¯ <code>.NET</code> å¹¶å‘é›†åˆä¸­çš„ç‰¹æ®Šå·¥å…·ï¼š</p>
<ul>
<li>
<p>âœ… åœ¨ç”Ÿäº§è€…å³æ¶ˆè´¹è€…åœºæ™¯ä¸­æ€§èƒ½å“è¶Š</p>
</li>
<li>
<p>âœ… å†…ç½®å·¥ä½œçªƒå–æœºåˆ¶</p>
</li>
<li>
<p>âœ… æ— é”å®ç°å‡å°‘ç«äº‰</p>
</li>
<li>
<p>âœ… çº¿ç¨‹æœ¬åœ°å­˜å‚¨ä¼˜åŒ–</p>
</li>
</ul>
<p>æœ€ä½³é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>
<p>çº¿ç¨‹å¤„ç†è‡ªå·±ç”Ÿæˆçš„ä»»åŠ¡</p>
</li>
<li>
<p>å¯¹è±¡æ± å®ç°</p>
</li>
<li>
<p>å¹¶è¡Œè®¡ç®—çš„ç»“æœæ”¶é›†</p>
</li>
<li>
<p>å·¥ä½œçªƒå–æ¨¡å¼çš„ä»»åŠ¡åˆ†å‘</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot 3.0å®æˆ˜ï¼šè¿™5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%]]></title>    <link>https://juejin.cn/post/7593535577046466595</link>    <guid>https://juejin.cn/post/7593535577046466595</guid>    <pubDate>2026-01-12T00:18:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593535577046466595" data-draft-id="7593353611944247348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot 3.0å®æˆ˜ï¼šè¿™5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-12T00:18:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot 3.0å®æˆ˜ï¼šè¿™5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:18:07.000Z" title="Mon Jan 12 2026 00:18:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>SpringBoot 3.0å®æˆ˜ï¼šè¿™5ä¸ªæ–°ç‰¹æ€§è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡50%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>SpringBootè‡ªè¯ç”Ÿä»¥æ¥ä¸€ç›´æ˜¯Javaç”Ÿæ€ä¸­æœ€å—æ¬¢è¿çš„æ¡†æ¶ä¹‹ä¸€ï¼Œå…¶"çº¦å®šä¼˜äºé…ç½®"çš„ç†å¿µæå¤§åœ°ç®€åŒ–äº†Springåº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²ã€‚2022å¹´11æœˆï¼ŒSpringå›¢é˜Ÿæ­£å¼å‘å¸ƒäº†SpringBoot 3.0ç‰ˆæœ¬ï¼Œè¿™æ˜¯ç»§2.0ä¹‹åçš„ä¸€æ¬¡é‡å¤§å‡çº§ã€‚åŸºäºSpring Framework 6.0å’ŒJava 17åŸºçº¿ï¼ŒSpringBoot 3.0ä¸ä»…å¸¦æ¥äº†æ€§èƒ½æå‡å’ŒåŠŸèƒ½å¢å¼ºï¼Œæ›´å¼•å…¥äº†ä¸€ç³»åˆ—èƒ½æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡çš„æ–°ç‰¹æ€§ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æå…¶ä¸­æœ€å…·ä»·å€¼çš„5ä¸ªç‰¹æ€§ï¼Œå¹¶é€šè¿‡å®é™…ä»£ç ç¤ºä¾‹å±•ç¤ºå¦‚ä½•åˆ©ç”¨å®ƒä»¬å°†å¼€å‘æ•ˆç‡æå‡50%ä»¥ä¸Šã€‚</p>
<h2 data-id="heading-2">ä¸€ã€GraalVMåŸç”Ÿé•œåƒæ”¯æŒï¼ˆNative Imageï¼‰</h2>
<h3 data-id="heading-3">1.1 æŠ€æœ¯èƒŒæ™¯</h3>
<p>GraalVMåŸç”Ÿé•œåƒæ˜¯SpringBoot 3.0æœ€å¼•äººæ³¨ç›®çš„ç‰¹æ€§ä¹‹ä¸€ã€‚é€šè¿‡AOTï¼ˆAhead-Of-Timeï¼‰ç¼–è¯‘ï¼Œåº”ç”¨å¯ä»¥ç¼–è¯‘ä¸ºç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå½»åº•æ‘†è„±JVMçš„å¯åŠ¨å¼€é”€ã€‚</p>
<h3 data-id="heading-4">1.2 å®è·µä»·å€¼</h3>
<ul>
<li><strong>å¯åŠ¨æ—¶é—´ç¼©çŸ­10å€</strong>ï¼šä¼ ç»ŸSpringBootåº”ç”¨å¯åŠ¨å¯èƒ½éœ€è¦2-3ç§’ï¼Œè€ŒåŸç”Ÿé•œåƒé€šå¸¸åœ¨100msä»¥å†…</li>
<li><strong>å†…å­˜å ç”¨é™ä½30%-50%</strong>ï¼šæ¶ˆé™¤JITç¼–è¯‘å’Œå…ƒæ•°æ®å­˜å‚¨çš„å¼€é”€</li>
<li><strong>æ›´é€‚åˆServerlessåœºæ™¯</strong>ï¼šå†·å¯åŠ¨æ—¶é—´ä»ç§’çº§é™è‡³æ¯«ç§’çº§</li>
</ul>
<h3 data-id="heading-5">1.3 å®æˆ˜ç¤ºä¾‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// pom.xmlæ·»åŠ ä¾èµ–</span>
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;
    &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;<span class="hljs-number">0.12</span><span class="hljs-number">.1</span>&lt;/version&gt;
&lt;/dependency&gt;

<span class="hljs-comment">// æ„å»ºå‘½ä»¤</span>
mvn spring-boot:build-image -Dspring-boot.build-image.imageName=demo-app
</code></pre>
<h3 data-id="heading-6">1.4 æ³¨æ„äº‹é¡¹</h3>
<ul>
<li>åå°„ã€åŠ¨æ€ä»£ç†ç­‰ç‰¹æ€§éœ€è¦é¢å¤–é…ç½®<code>reflect-config.json</code></li>
<li>Hibernateç­‰ORMæ¡†æ¶éœ€è¦ç‰¹æ®Šå¤„ç†</li>
<li>IDEè°ƒè¯•æ”¯æŒä»åœ¨å®Œå–„ä¸­</li>
</ul>
<h2 data-id="heading-7">äºŒã€Problem Details APIæ ‡å‡†åŒ–é”™è¯¯å“åº”</h2>
<h3 data-id="heading-8">2.1 RFCæ ‡å‡†å®ç°</h3>
<p>SpringBoot 3.0å®ç°äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc7807" target="_blank" title="https://tools.ietf.org/html/rfc7807" ref="nofollow noopener noreferrer">RFC7807</a>è§„èŒƒï¼Œæä¾›äº†ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://example.com/probs/out-of-stock"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Out of Stock"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">404</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"detail"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Item B00027Y5QG is no longer available"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"instance"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/account/items/12345"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">2.2 vsä¼ ç»Ÿæ–¹å¼ä¼˜åŠ¿</h3>





















<table><thead><tr><th>ä¼ ç»Ÿæ–¹å¼</th><th>ProblemDetails</th></tr></thead><tbody><tr><td>æ ¼å¼éšæ„</td><td>æ ‡å‡†ç»“æ„</td></tr><tr><td>æ— ç±»å‹å®šä¹‰</td><td>æœ‰æ˜ç¡®é—®é¢˜ç±»å‹</td></tr><tr><td>éš¾ä»¥è¿½è¸ª</td><td>åŒ…å«è¿½è¸ªä¿¡æ¯</td></tr></tbody></table>
<h3 data-id="heading-10">2.3 APIé›†æˆç¤ºä¾‹</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalExceptionHandler</span> {
    
    <span class="hljs-meta">@ExceptionHandler(BookNotFoundException.class)</span>
    <span class="hljs-keyword">public</span> ProblemDetail <span class="hljs-title function_">handleBookNotFound</span><span class="hljs-params">(BookNotFoundException ex)</span> {
        <span class="hljs-type">ProblemDetail</span> <span class="hljs-variable">problemDetail</span> <span class="hljs-operator">=</span> ProblemDetail.forStatusAndDetail(
            HttpStatus.NOT_FOUND, ex.getMessage());
        problemDetail.setTitle(<span class="hljs-string">"Book Not Found"</span>);
        problemDetail.setType(URI.create(<span class="hljs-string">"https://api.library.com/errors/not-found"</span>));
        <span class="hljs-keyword">return</span> problemDetail;
    }
}
</code></pre>
<h2 data-id="heading-11">ä¸‰ã€JDK Recordè‡ªåŠ¨ç»‘å®š</h2>
<h3 data-id="heading-12">3.1 Recordç±»ä¼˜åŠ¿</h3>
<p>Java16å¼•å…¥çš„Recordç±»å‹ä¸SpringBootå®Œç¾å¥‘åˆï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">UserRegistration</span><span class="hljs-params">(
    @NotBlank String username,
    @Email String email,
    @Size(min=8)</span> String password) {}
</code></pre>
<h3 data-id="heading-13">3.2 MVCè‡ªåŠ¨ç»‘å®š</h3>
<p>æ§åˆ¶å™¨æ–¹æ³•å¯ä»¥ç›´æ¥ä½¿ç”¨Recordä½œä¸ºå‚æ•°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostMapping("/register")</span>
<span class="hljs-keyword">public</span> ResponseEntity&lt;Void&gt; <span class="hljs-title function_">register</span><span class="hljs-params">(UserRegistration registration)</span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-14">3.3 VS Lombokæ¯”è¾ƒ</h3>

























<table><thead><tr><th/><th>Record</th><th>Lombok</th></tr></thead><tbody><tr><td>JDKåŸç”Ÿæ”¯æŒ</td><td>âœ“</td><td>Ã—</td></tr><tr><td>JPAå…¼å®¹æ€§</td><td>â–³</td><td>âœ“</td></tr><tr><td>Builderæ¨¡å¼</td><td>Ã—</td><td>âœ“</td></tr></tbody></table>
<p>##å››ã€æ”¹è¿›çš„Observabilityèƒ½åŠ›</p>
<p>###4.1 Micrometeré›†æˆå¢å¼º<br/>
SpringBoot Actuatorç°åœ¨æ·±åº¦æ•´åˆMicrometerï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">management:</span>
 <span class="hljs-attr">metrics:</span>
   <span class="hljs-attr">export:</span>
     <span class="hljs-attr">prometheus:</span>
       <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
 <span class="hljs-attr">endpoints:</span>
   <span class="hljs-attr">web:</span>
     <span class="hljs-attr">exposure:</span>
       <span class="hljs-attr">include:</span> <span class="hljs-string">health,metrics,prometheus</span>
</code></pre>
<p>###4.2 Tracingè§„èŒƒæ”¯æŒ<br/>
éµå¾ªOpenTelemetryæ ‡å‡†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@NewSpan("orderService")</span>
<span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(OrderRequest request)</span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>###4.3 Metricsæ”¹è¿›äº®ç‚¹</p>
<ul>
<li>HTTPå®¢æˆ·ç«¯æŒ‡æ ‡è‡ªåŠ¨æ”¶é›†ï¼ˆRestTemplate/WebClientï¼‰</li>
<li>JVMæŒ‡æ ‡ç²’åº¦ç»†åŒ–ï¼ˆåˆ†ä»£GCç»Ÿè®¡ï¼‰</li>
<li>Taskæ‰§è¡Œæ—¶åºç›‘æ§ï¼ˆ@Scheduledï¼‰</li>
</ul>
<p>##äº”ã€å£°æ˜å¼HTTPå®¢æˆ·ç«¯ä¼˜åŒ–</p>
<p>###5.1 HttpInterfaceé©å‘½æ€§æ”¹è¿›<br/>
åŸºäº<code>@HttpExchange</code>æ³¨è§£çš„å…¨æ–°å£°æ˜å¼å®¢æˆ·ç«¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@HttpExchange(url = "/api/v1", accept = "application/json")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BookClient</span> {

    <span class="hljs-meta">@GetExchange("/books/{isbn}")</span>
    Book <span class="hljs-title function_">getByIsbn</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String isbn)</span>;

    <span class="hljs-meta">@PostExchange("/books")</span> 
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">create</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span>;
}
</code></pre>
<p>###5.2 VS OpenFeignå¯¹æ¯”ä¼˜åŠ¿</p>
<p>####5.2æ€§èƒ½è¡¨ç°æµ‹è¯•æ•°æ®ï¼ˆ10000æ¬¡è°ƒç”¨ï¼‰</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 
â”‚ <span class="hljs-built_in">Client</span> Type   â”‚ Avg Latency â”‚ Memory Usage â”‚ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 
â”‚ RestTemplate â”‚    <span class="hljs-number">142</span>ms   â”‚    <span class="hljs-number">48</span>MB     â”‚ 
â”‚ WebClient     â”‚    <span class="hljs-number">118</span>ms   â”‚    <span class="hljs-number">52</span>MB     â”‚ 
â”‚ OpenFeign     â”‚     <span class="hljs-number">96</span>ms   â”‚    <span class="hljs-number">65</span>MB     â”‚ 
â”‚ HttpInterface â”‚     <span class="hljs-number">78</span>ms   â”‚    <span class="hljs-number">41</span>MB     â”‚ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ 
</code></pre>
<p>####5ä»£ç ç®€æ´åº¦å¯¹æ¯”</p>
<p>ä¼ ç»Ÿæ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BookServiceProxy</span> {

 <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> WebClient webClient;

 <span class="hljs-keyword">public</span> Mono&lt;Book&gt; <span class="hljs-title function_">getByIsbn</span><span class="hljs-params">(String isbn)</span> {
 <span class="hljs-keyword">return</span> webClient.get()
 .uri(<span class="hljs-string">"/api/v1/books/{isbn}"</span>, isbn)
 .retrieve()
 .bodyToMono(Book.class);
 }
} 
</code></pre>
<p>HttpInterfaceæ–¹å¼ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// Interfaceå®šä¹‰å³å®ç°ï¼</span>
</code></pre>
<hr/>
<p>##æ€»ç»“ä¸å±•æœ›</p>
<p>æœ¬æ–‡è¯¦ç»†è§£æçš„äº”ä¸ªæ ¸å¿ƒç‰¹æ€§â€”â€”GraalVMåŸç”Ÿé•œåƒã€ProblemDetailsAPIã€Recordç»‘å®šã€å¯è§‚æµ‹æ€§å’ŒHttpInterfaceâ€”â€”ä»£è¡¨äº†ç°ä»£Javaå¼€å‘çš„å››å¤§è¶‹åŠ¿ï¼š</p>
<p>1.<strong>äº‘åŸç”Ÿä¼˜å…ˆ</strong>ï¼šé€šè¿‡åŸç”Ÿé•œåƒæ”¯æŒå’Œæ”¹è¿›çš„å¯è§‚æµ‹æ€§é€‚åº”äº‘ç¯å¢ƒéœ€æ±‚</p>
<p>2.<strong>å¼€å‘è€…ä½“éªŒè‡³ä¸Š</strong>ï¼šRecordç»‘å®šå’ŒHttpInterfaceå¤§å¹…å‡å°‘æ ·æ¿ä»£ç </p>
<p>3.<strong>æ ‡å‡†åŒ–è§„èŒƒè½åœ°</strong>ï¼šéµå¾ªRFC7807å’ŒOpenTelemetryç­‰è¡Œä¸šæ ‡å‡†</p>
<p>4.<strong>æ€§èƒ½æŒç»­ä¼˜åŒ–</strong>ï¼šåœ¨èµ„æºåˆ©ç”¨ç‡å’Œæ‰§è¡Œæ•ˆç‡ä¸Šçš„æ˜¾è‘—æå‡</p>
<p>è¿™äº›ç‰¹æ€§çš„åˆç†è¿ç”¨ç¡®å®å¯ä»¥å®ç°50%ä»¥ä¸Šçš„å¼€å‘æ•ˆç‡æå‡ã€‚å»ºè®®åœ¨å®é™…é¡¹ç›®ä¸­é‡‡ç”¨æ¸è¿›å¼è¿ç§»ç­–ç•¥ï¼š</p>
<p>ç¬¬ä¸€é˜¶æ®µï¼šä»ProblemDetailså’ŒRecordå¼€å§‹æ”¹å–„APIè®¾è®¡å’ŒDTOå¤„ç†</p>
<p>ç¬¬äºŒé˜¶æ®µï¼šå¼•å…¥HttpInterfaceé‡æ„æœåŠ¡é—´è°ƒç”¨</p>
<p>ç¬¬ä¸‰é˜¶æ®µï¼šé’ˆå¯¹å…³é”®æœåŠ¡å°è¯•GraalVMç¼–è¯‘</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰]]></title>    <link>https://juejin.cn/post/7593859149441155081</link>    <guid>https://juejin.cn/post/7593859149441155081</guid>    <pubDate>2026-01-12T00:19:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593859149441155081" data-draft-id="7592276497399742514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-12T00:19:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ä¸€æ ·çš„å°‘å¹´_"/> <meta itemprop="url" content="https://juejin.cn/user/3035079961218551"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº§å“å‚¬ï¼š 1 å¤©ä¼˜åŒ– Vue å®˜ç½‘ SEOï¼Ÿæˆ‘ç”¨è¿™ä¸ªæ’ä»¶åŠå¤©æå®šï¼ˆä¸é‡æ„ Nuxtï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3035079961218551/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ä¸€æ ·çš„å°‘å¹´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:19:28.000Z" title="Mon Jan 12 2026 00:19:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><blockquote>
<p>ä¸Šå‘¨å››æ—©ä¸Šåˆšåä¸‹ï¼Œè¿˜æ²¡æ¥å¾—åŠæ‘¸é±¼ï¼Œäº§å“å°±ç´§æ€¥æ‹‰äº†ä¸ªä¼šï¼Œè¯´ä¸ºäº†ææµé‡ï¼Œå’±ä»¬å®˜ç½‘å¾—åš SEO ä¼˜åŒ–ã€‚
ç„¶åç›´æ¥ç”©äº†ä¸€ä»½<strong>å¸‚åœºéƒ¨å‡ºçš„ SEO è§„èŒƒæ–‡æ¡£</strong>åˆ°ç¾¤é‡Œï¼š</p>
<p>è¿™æ–‡æ¡£é‡Œçš„è¦æ±‚ï¼šæ¯ä¸ªé¡µé¢è¦æœ‰ç‹¬ç«‹æ ‡é¢˜ã€å…³é”®è¯ï¼Œå†…å®¹å¾—æ˜¯æºç é‡Œèƒ½çœ‹è§çš„... æœ€å¥½è¿™å‘¨å°±ä¸Šçº¿ã€‚â€</p>
<p>è¿™å®˜ç½‘æ˜¯å‰åŒäº‹å†™çš„é¡¹ç›®ï¼Œä¸€ä¸ªæ ‡å‡†çš„ <strong>Vue 3 + Vite å•é¡µåº”ç”¨ (SPA)</strong>ã€‚ä»£ç å€’æ˜¯å†™å¾—æŒºä¼˜é›…ï¼Œä½† <strong>SEO ç®€ç›´å°±æ˜¯è£¸å¥”</strong>ã€‚</p>
<p>åšå‰ç«¯çš„éƒ½æ‡‚ï¼Œ<strong>SPA</strong>ï¼ˆå•é¡µé¢åº”ç”¨ï¼‰è¿™ç©æ„å„¿ï¼Œå³é”®æŸ¥çœ‹æºä»£ç ï¼Œé™¤äº† <code>index.html</code> é‡Œ<strong>ä¸‡å¹´ä¸å˜çš„é‚£å¥— TDK</strong>ï¼ˆæ ‡é¢˜ã€æè¿°ã€å…³é”®è¯ï¼‰å¤–ï¼Œå°±å‰©ä¸€ä¸ªç©ºçš„ <code>&lt;div id="app"&gt;&lt;/div&gt;</code>ã€‚åœ¨çˆ¬è™«çœ¼é‡Œï¼Œä¸ç®¡å“ªä¸ªé¡µé¢ï¼Œ<strong>çœ‹åˆ°çš„æ°¸è¿œæ˜¯åŒä¸€ä¸ªå£³å­</strong>ï¼Œæ ¹æœ¬æŠ“ä¸åˆ°å…·ä½“çš„ä¸šåŠ¡å†…å®¹ã€‚</p>
</blockquote>
<h3 data-id="heading-0">é¢ä¸´çš„ä¸‰å¤§éš¾é¢˜</h3>
<ol>
<li>
<p><strong>æ—¶é—´å¤ªç´§</strong>ï¼šå¸‚åœºéƒ¨é‚£è¾¹æ´»åŠ¨ç­‰ç€å‘ï¼Œé¡¶å¤šç»™1å¤©æ—¶é—´ã€‚</p>
</li>
<li>
<p><strong>æ”¹åŠ¨ä¸æ•¢å¤ªå¤§</strong>ï¼šè¿™é¡¹ç›®è·‘å¾—å¥½å¥½çš„ï¼Œè¦æ˜¯ä¸ºäº† SEO é‡æ„æŠŠåŠŸèƒ½ææŒ‚äº†ï¼Œé”…èƒŒä¸åŠ¨ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®å…¶å®æŒºæ­»æ¿</strong>ï¼šç›®å‰è¿™å®˜ç½‘ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯äº§å“ä»‹ç»ã€æ–‡æ¡£è¿™ç§<strong>é™æ€å†…å®¹</strong>ï¼Œæ¥å£è¯·æ±‚å›æ¥çš„æ•°æ®å‡ ä¸ªæœˆéƒ½ä¸ä¸€å®šå˜ä¸€æ¬¡ã€‚</p>
</li>
</ol>
<h2 data-id="heading-1">é€‰å‹ ä¸ºä»€ä¹ˆæˆ‘ä¸ä¸Š Nuxtï¼Ÿ</h2>
<ul>
<li>
<p><strong>è¿ç§»æˆæœ¬å¤ªé«˜</strong>ï¼šæŠŠä¸€ä¸ªå†™å¥½çš„ SPA æ¬åˆ° Nuxtï¼Œè·¯ç”±è¦æ”¹ã€Pinia è¦æ”¹ã€API è¯·æ±‚è¦æ”¹ï¼Œç”Ÿå‘½å‘¨æœŸè¿˜å¾—æ‹ä¸€éã€‚ç»™æˆ‘ 1 å¤©æ—¶é—´ï¼Ÿæä¸å®Œå•Šã€‚</p>
</li>
<li>
<p><strong>è¿ç»´å¤ªéº»çƒ¦</strong>ï¼šç°åœ¨æ˜¯é™æ€éƒ¨ç½²ï¼Œç®€å•ç¨³å®šï¼›ä¸Š SSR è¿˜å¾—é¢å¤–éƒ¨ç½² Node.js æœåŠ¡å™¨ã€‚</p>
</li>
</ul>
<p>æ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒNuxt é‡æ„è¿™æ¡è·¯å°±ä¸èµ°ä¸é€šäº†ã€‚é‚£æœ‰æ²¡æœ‰ä¸€ç§æ‹›ï¼Œæ—¢èƒ½ä¿ç•™ç°åœ¨çš„ SPA å†™æ³•ï¼Œåˆèƒ½è®©å®ƒéƒ¨ç½²å‡ºæ¥å˜æˆå¤šé¡µé¢å‘¢ï¼Ÿ</p>
<p>æœ‰çš„ï¼Œè¿™æ­£å¥½æ˜¯ <strong>SSGï¼ˆé™æ€ç«™ç‚¹ç”Ÿæˆï¼‰</strong> çš„çœ‹å®¶æœ¬é¢†ã€‚é…åˆ <strong><code>vite-ssg</code></strong> è¿™ä¸ªç¥å™¨ï¼Œåªéœ€è¦æ”¹åŠ¨ä¸€ç‚¹ä»£ç å°±èƒ½å®ç°SEOä¼˜åŒ–ã€‚</p>
<p>è¯´ç™½äº†ï¼Œæ ¸å¿ƒåŸç†å°±æ˜¯<strong>æå‰äº¤å·</strong>ã€‚ä»¥å‰æ˜¯æµè§ˆå™¨æ‹¿åˆ°ç©ºå£³å†æ‰§è¡Œjsä»£ç è¿›è¡Œé¡µé¢æ¸²æŸ“ï¼Œç°åœ¨æˆ‘ä»¬åœ¨<strong>æ‰“åŒ…é˜¶æ®µ</strong>å°±æŠŠé¡µé¢å†…å®¹å…¨æ‹¼æ¥å¥½äº†ã€‚éƒ¨ç½²ä¸Šå»åï¼Œç”¨æˆ·è¯·æ±‚çš„ç›´æ¥å°±æ˜¯å†™æ»¡å­—çš„â€œæˆå“ HTMLâ€ã€‚è¿™æ ·ä¸€æ¥ï¼Œé¡µé¢æºç é‡Œå…¨æ˜¯å¹²è´§ï¼Œçˆ¬è™«æ¥äº†èƒ½çœ‹æ‡‚ï¼ŒSEOæ•ˆæœå°±æ æ†çš„ã€‚</p>
<h2 data-id="heading-2">ğŸ› ï¸ æ ¸å¿ƒæ”¹é€ ï¼šä» SPA åˆ° SSG çš„èœ•å˜</h2>
<p>é¦–å…ˆéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å®‰è£…<code>vite-ssg</code> ç„¶åå¯¹å…¥å£æ–‡ä»¶main.tså’Œè·¯ç”±è¿›è¡Œæ”¹é€ </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvite-ssg" target="_blank" title="https://www.npmjs.com/package/vite-ssg" ref="nofollow noopener noreferrer">npmåœ°å€</a>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvite-ssg" target="_blank" title="https://www.npmjs.com/package/vite-ssg" ref="nofollow noopener noreferrer">www.npmjs.com/package/vitâ€¦</a></p>
<pre><code class="hljs language-Bash" lang="Bash">pnpm add -D vite-ssg
</code></pre>
<h3 data-id="heading-3">å…¥å£æ–‡ä»¶æ”¹é€  (<code>main.ts</code>)</h3>
<p><code>vite-ssg</code> çš„æ ¸å¿ƒä»£ç æ”¹åŠ¨åœ¨äºæ›¿æ¢ <code>createApp</code>ã€‚æˆ‘ä»¬éœ€è¦å¯¼å‡ºä¸€ä¸ªåˆ›å»ºåº”ç”¨çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯ç›´æ¥æŒ‚è½½ã€‚</p>
<p><strong>æ”¹é€ å‰ï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">use</span>(router).<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p><strong>æ”¹é€ åï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ViteSSG</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-ssg'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> { routes } <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span> <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œå¯¼å‡ºçš„æ˜¯è·¯ç”±é…ç½®æ•°ç»„ï¼Œä¸æ˜¯ router å®ä¾‹</span>

<span class="hljs-comment">// æ ¸å¿ƒæ”¹é€ ï¼šViteSSG æ¥ç®¡åº”ç”¨åˆ›å»º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> createApp = <span class="hljs-title class_">ViteSSG</span>(
  <span class="hljs-title class_">App</span>,
  { routes, <span class="hljs-attr">base</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span> },
  <span class="hljs-function">(<span class="hljs-params">{ app, router, routes, isClient, initialState }</span>) =&gt;</span> {
    <span class="hljs-comment">// æ’ä»¶æ³¨å†Œ</span>
    <span class="hljs-keyword">const</span> head = <span class="hljs-title function_">createHead</span>()
    app.<span class="hljs-title function_">use</span>(head)
    
    <span class="hljs-comment">// ğŸ’¡ ä¼˜åŒ–ç‚¹ï¼šç¬¬ä¸‰æ–¹è„šæœ¬çš„åŠ¨æ€æ³¨å…¥</span>
    <span class="hljs-comment">// å°†åŸæœ¬ index.html é‡Œçš„ volc-collect.js ç§»åˆ°è¿™é‡Œ</span>
    <span class="hljs-comment">// ä»…åœ¨å®¢æˆ·ç«¯ç¯å¢ƒåŠ è½½ï¼Œé˜²æ­¢æ„å»ºæ—¶æŠ¥é”™</span>
    <span class="hljs-keyword">if</span> (isClient) {
      <span class="hljs-keyword">import</span>(<span class="hljs-string">'./utils/volc-collect.js'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç«å±±å¼•æ“ç»Ÿè®¡è„šæœ¬å·²åŠ è½½'</span>)
      })
    }
  }
)
</code></pre>
<p><strong>ğŸ’¡ ä¸ºä»€ä¹ˆè¦æ”¹æˆå¯¼å‡ºï¼Ÿ</strong></p>
<ul>
<li><strong>ä»¥å‰ (<code>mount</code>)</strong>ï¼šæ˜¯<strong>å‘½ä»¤å¼</strong>çš„ã€‚æµè§ˆå™¨è¯»åˆ°è¿™è¡Œä»£ç ï¼Œç«‹å³å¹²æ´»ï¼ŒæŠŠ App æŒ‚è½½åˆ° DOM ä¸Šã€‚</li>
<li><strong>ç°åœ¨ (<code>export</code>)</strong>ï¼šæ˜¯<strong>æŠŠâ€œå¯åŠ¨æƒâ€äº¤å‡ºå»</strong>ã€‚
<ul>
<li><strong>Node.js (æ‰“åŒ…æ—¶)</strong>ï¼šå¼•å…¥è¿™ä¸ªå‡½æ•°ï¼Œåœ¨æœåŠ¡ç«¯è·‘ä¸€éï¼Œç”Ÿæˆ HTML é™æ€æ–‡ä»¶ã€‚</li>
<li><strong>æµè§ˆå™¨ (è®¿é—®æ—¶)</strong>ï¼š<code>vite-ssg</code> çš„å®¢æˆ·ç«¯è„šæœ¬ä¹Ÿä¼šå¼•å…¥è¿™ä¸ªå‡½æ•°ï¼Œç”¨æ¥<strong>æ¿€æ´»</strong>ç°æœ‰çš„ HTMLï¼Œè®©å®ƒå˜å›åŠ¨æ€é¡µé¢ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-4">è·¯ç”±é…ç½®æ”¹é€  (<code>router/index.ts</code>)</h3>
<p><code>vite-ssg</code> å¯¹è·¯ç”±æœ‰ä¸¤ä¸ªç¡¬æ€§è¦æ±‚ï¼š</p>
<ol>
<li>
<p><strong>ä¸èƒ½ç›´æ¥è¿”å› router å®ä¾‹</strong>ï¼šå®ƒéœ€è¦å¯¼å‡ºåŸå§‹çš„ <code>routes</code> æ•°ç»„ã€‚</p>
</li>
<li>
<p><strong>History æ¨¡å¼</strong>ï¼šå¿…é¡»ä½¿ç”¨ Web Historyã€‚
åŸå› ï¼šHash ç‰‡æ®µï¼ˆ<code>#</code> åï¼‰ä¸å‚ä¸ HTTP è¯·æ±‚ï¼ŒæœåŠ¡å™¨æ— æ³•åŒ¹é…ä¾‹å¦‚ <code>/about/index.html</code> çš„ç‰©ç†æ–‡ä»¶ï¼ŒSSG ç”Ÿæˆçš„å¤šé¡µé¢ä¼šå¤±æ•ˆã€‚</p>
</li>
</ol>
<p><strong>æ”¹é€ å‰ï¼ˆä¼ ç»Ÿçš„ SPA å¯¼å‡ºï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">const</span> routes = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../views/Home.vue'</span>) },
  <span class="hljs-comment">// ... å…¶ä»–è·¯ç”±</span>
]

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
  routes
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router <span class="hljs-comment">// ç›´æ¥å¯¼å‡ºå®ä¾‹ï¼ŒSSG æ— æ³•è§£æ</span>
</code></pre>
<p><strong>æ”¹é€ åï¼ˆé€‚é… SSGï¼‰ï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">RouteRecordRaw</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-comment">// 1. å¯¼å‡º routes æ•°ç»„ä¾› ViteSSG ä½¿ç”¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">routes</span>: <span class="hljs-title class_">RouteRecordRaw</span>[] = [
  { 
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, 
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../views/Home.vue'</span>) 
  }
   <span class="hljs-comment">// ... å…¶ä»–è·¯ç”±</span>
]
</code></pre>
<h2 data-id="heading-5">æ”»åšæˆ˜ä¸€ï¼šç¯å¢ƒå…¼å®¹æ€§æ²»ç†ï¼ˆå¡«å‘å®å½•ï¼‰</h2>
<p>è¿™æ˜¯ SSG æ”¹é€ ä¸­æœ€å®¹æ˜“å´©æºƒçš„ç¯èŠ‚ã€‚æ„å»ºè¿‡ç¨‹æ˜¯åœ¨ Node.js ç¯å¢ƒä¸‹è¿è¡Œçš„ï¼Œå¦‚æœä½ åœ¨vue3ç»„ä»¶ <code>setup</code> é¡¶å±‚ï¼ˆéæµè§ˆå™¨ç”Ÿå‘½å‘¨æœŸé’©å­å†…ï¼‰ç›´æ¥è®¿é—®äº† <code>window</code> æˆ– <code>document</code>ï¼ŒNode ç¯å¢ƒä¼šæŠ¥ <code>ReferenceError</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc1e4d0bd0cd4aaea4859f9ac6a1386d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781968&amp;x-signature=5%2Fuw38t%2BrLa8PH7i2Mj%2FGbmxZsc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">1. ä¿®å¤æŠ¥é”™å¤„ç† <code>windowã€document is not defined</code></h3>
<ul>
<li><strong>é€»è¾‘å±‚ï¼š</strong> å¾ˆå¤šç»„ä»¶åº“æˆ–å·¥å…·å‡½æ•°ä¼šåœ¨æ–‡ä»¶é¡¶éƒ¨ç›´æ¥è®¿é—® <code>window</code>ï¼Œå¯¼è‡´æ‰“åŒ…æŠ¥é”™ã€‚
å¿…é¡»å¢åŠ ç¯å¢ƒåˆ¤å®šã€‚ä¸¥æ ¼ä½¿ç”¨ <code>if (typeof window !== 'undefined')</code> æˆ– <code>import.meta.env.SSR</code> è¿›è¡Œåˆ¤æ–­ã€‚</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isClient = <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">window</span> !== <span class="hljs-string">'undefined'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getViewportWidth</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (isClient) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>
}
...
</code></pre>
<ul>
<li><strong>ç»„ä»¶å±‚ï¼ˆUI é€»è¾‘ï¼‰ï¼š</strong> å‡¡æ˜¯æ¶‰åŠ DOM/BOM çš„æ“ä½œï¼Œä¸€å¾‹ä¸‹æ²‰åˆ° <code>onMounted</code>ã€‚</li>
</ul>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> width = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)

<span class="hljs-comment">// âŒ é”™è¯¯å†™æ³•ï¼šæ„å»ºæ—¶ä¼šç›´æ¥æŠ¥é”™ ReferenceError</span>
<span class="hljs-comment">// width.value = window.innerWidth </span>

<span class="hljs-comment">// âœ… æ­£ç¡®å†™æ³•ï¼šç­‰åˆ°ç»„ä»¶æŒ‚è½½ï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰åå†è®¿é—®</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  width.<span class="hljs-property">value</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>)
})
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">2. <strong>æ¥å£è¯·æ±‚é€‚é…</strong>ï¼ˆç»å¯¹è·¯å¾„é—®é¢˜ï¼‰</h3>
<p>åœ¨æµè§ˆå™¨ç«¯ï¼Œæˆ‘ä»¬ä¹ æƒ¯ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ <code>/api</code>ï¼ˆé…åˆ Vite Proxyï¼‰ï¼›ä½†åœ¨ SSG æ„å»ºé˜¶æ®µï¼ŒNode ç¯å¢ƒå¹¶ä¸çŸ¥é“ç›¸å¯¹è·¯å¾„æŒ‡å‘å“ªé‡Œã€‚</p>
<p><strong>æ”¹é€ æ–¹æ¡ˆï¼šAxios å°è£…</strong> ï¼šåˆ©ç”¨ <code>import.meta.env.SSR</code> åŠ¨æ€åˆ‡æ¢ <code>baseURL</code>ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

<span class="hljs-keyword">const</span> service = axios.<span class="hljs-title function_">create</span>({
  <span class="hljs-comment">// import.meta.env.SSR æ˜¯ Vite æä¾›çš„ç¯å¢ƒå˜é‡</span>
  <span class="hljs-attr">baseURL</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span> 
    ? <span class="hljs-string">'http://xxxx/api'</span>  <span class="hljs-comment">// SSG æ„å»ºæ—¶ï¼šä½¿ç”¨ç»å¯¹è·¯å¾„</span>
    : <span class="hljs-string">'/api'</span>,                      <span class="hljs-comment">// æµè§ˆå™¨è¿è¡Œæ—¶ï¼šç”¨ç›¸å¯¹è·¯å¾„èµ°ä»£ç†</span>
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span>
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> service
</code></pre>
<h3 data-id="heading-8">3. <strong>è„šæœ¬æ³¨å…¥</strong>ï¼ˆç¬¬ä¸‰æ–¹ SDK åŠ¨æ€åŠ è½½ï¼‰</h3>
<p>åŸå…ˆåœ¨ <code>index.html</code> é‡Œç›´æ¥ç¡¬ç¼–ç çš„ <code>&lt;script&gt;</code>ï¼ˆå¦‚ç«å±±å¼•æ“ <code>volc-collect.js</code>ã€ç™¾åº¦ç»Ÿè®¡ç­‰ï¼‰ï¼Œç”±äºå†…éƒ¨åŒ…å«å¤§é‡ç«‹å³æ‰§è¡Œçš„ DOM æ“ä½œï¼Œä¼šå¯¼è‡´æ„å»ºç›´æ¥æŒ‚æ‰ã€‚</p>
<p><strong>æ”¹é€ æ–¹æ¡ˆï¼šä» HTML ç§»å‡ºï¼Œæ”¹åœ¨ <code>main.ts</code> ä¸­åŠ¨æ€åŠ è½½</strong> åˆ©ç”¨ <code>ViteSSG</code> æä¾›çš„ <code>isClient</code> å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿è¿™äº›è„šæœ¬åªåœ¨æµè§ˆå™¨ç¯å¢ƒè¿è¡Œ</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ViteSSG</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-ssg'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> createApp = <span class="hljs-title class_">ViteSSG</span>(
  <span class="hljs-title class_">App</span>,
  { routes },
  <span class="hljs-function">(<span class="hljs-params">{ app, isClient }</span>) =&gt;</span> {
    <span class="hljs-comment">//  æ ¸å¿ƒï¼šåªåœ¨å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ç¯å¢ƒåŠ è½½è¿™äº›è„šæœ¬</span>
    <span class="hljs-keyword">if</span> (isClient) {
      <span class="hljs-comment">// åŠ¨æ€å¯¼å…¥ï¼Œæ„å»ºæ—¶ Node ä¼šç›´æ¥å¿½ç•¥è¿™æ®µä»£ç </span>
      <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/baidu-analytics.js'</span>)
      <span class="hljs-keyword">import</span>(<span class="hljs-string">'./plugins/volc-engine.js'</span>)
    }
  }
)
</code></pre>
<h2 data-id="heading-9">æ”»åšæˆ˜äºŒï¼šè®© HTML â€œæœ‰è¡€æœ‰è‚‰â€ (<code>onServerPrefetch</code>)</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>onMounted</code> é‡Œçš„æ•°æ®è¯·æ±‚åœ¨ SSG æ‰“åŒ…é˜¶æ®µ<strong>æ ¹æœ¬ä¸ä¼šè·‘</strong>ï¼Œç”Ÿæˆçš„ HTML è¿˜æ˜¯ä¸ªç©ºå£³ã€‚</p>
<p>æƒ³è¦è®©çˆ¬è™«çœ‹åˆ°çœŸå®æ•°æ®ï¼Œå¿…é¡»å¾—è¯·å‡º <code>onServerPrefetch</code>ã€‚è¯´ç™½äº†ï¼Œå°±æ˜¯å‘Šè¯‰æ„å»ºå·¥å…·ï¼šâ€œå…„å¼Ÿï¼Œæ‰“åŒ…çš„æ—¶å€™åˆ«å…‰é¡¾ç€ç¼–è¯‘ä»£ç ï¼Œé¡ºæ‰‹å¸®æˆ‘æŠŠè¿™äº›æ¥å£ä¹Ÿè¯·æ±‚ä¸€ä¸‹ï¼ŒæŠŠæ•°æ®ç›´æ¥ç„Šæ­»åœ¨ HTML é‡Œã€‚â€</p>
<p><strong>å®æˆ˜ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-ts" lang="ts">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref, onServerPrefetch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { getCompanyInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'../api/common'</span>;

<span class="hljs-keyword">const</span> info = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// æ ¸å¿ƒï¼šæœåŠ¡ç«¯æ¸²æŸ“/SSG æ„å»ºæ—¶è§¦å‘</span>
<span class="hljs-comment">// åœ¨è¿™é‡Œè¯·æ±‚çš„æ•°æ®ä¼šè¢«è‡ªåŠ¨åºåˆ—åŒ–åˆ° HTML ä¸­</span>
<span class="hljs-title function_">onServerPrefetch</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCompanyInfo</span>();
  info.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>;
});
&lt;/script&gt;
</code></pre>
<h2 data-id="heading-10">ğŸ” æ”»åšæˆ˜ä¸‰ï¼šå…¨æ–¹ä½çš„ SEO ç»†èŠ‚æ‰“ç£¨</h2>
<p>è§£å†³äº†â€œèƒ½çœ‹â€çš„é—®é¢˜ï¼Œè¿˜å¾—è§£å†³â€œå¥½çœ‹â€å’Œâ€œå¥½æŠ“â€çš„é—®é¢˜ã€‚åœ¨åŠ¨æ‰‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆææ¸…æ¥šæˆ‘ä»¬çš„â€œç”²æ–¹â€â€”â€”<strong>èœ˜è››ï¼ˆçˆ¬è™«ï¼‰</strong> åˆ°åº•æƒ³è¦ä»€ä¹ˆã€‚</p>
<h4 data-id="heading-11">ğŸ•·ï¸ ä»€ä¹ˆæ˜¯â€œèœ˜è››/çˆ¬è™«â€ï¼Ÿå®ƒæŠ“å®Œä»£ç åå¹²äº†ä»€ä¹ˆï¼Ÿ</h4>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>èœ˜è››</strong>å°±æ˜¯æœç´¢å¼•æ“æ´¾å‡ºçš„â€œå…¨è‡ªåŠ¨åŒ–ä¿¡æ¯æ¬è¿å·¥â€ã€‚å®ƒçš„å·¥ä½œé€»è¾‘åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<ul>
<li>
<p><strong>æŠ“å– (Crawling)</strong> ï¼šå®ƒé¡ºç€é“¾æ¥çˆ¬è¡Œï¼Œä¸çœ‹ UI åä¸åä¸½ï¼Œåªæ‰“åŒ… <strong>HTML æºç </strong>å¸¦èµ°ã€‚</p>
</li>
<li>
<p><strong>ç´¢å¼• (Indexing)</strong> ï¼šæŠ“å›çš„ä»£ç å­˜å…¥æœç´¢å¼•æ“å·¨å¤§çš„<strong>æ•°æ®åº“</strong>ï¼Œå¹¶è®°å½•æ¯ä¸ªé¡µé¢â€œåœ¨è®²ä»€ä¹ˆâ€ã€‚</p>
</li>
<li>
<p><strong>æŸ¥è¯¢ (Querying)</strong> ï¼š <strong>ã€æ ¸å¿ƒå…³é”®ã€‘</strong> å½“ç”¨æˆ·æœç´¢æ—¶ï¼Œæœç´¢å¼•æ“æ˜¯åœ¨<strong>è‡ªå·±çš„æ•°æ®åº“</strong>é‡Œç¿»æ‰¾ï¼Œè€Œä¸æ˜¯å…¨ç½‘ç°æ‰¾ã€‚</p>
</li>
</ul>
<p><strong>æ‰å¿ƒçœŸç›¸ï¼šä¸ºä»€ä¹ˆ SPA ä¼šåœ¨ SEO é¢å‰â€œé«˜åº¦è¿‘è§†â€ï¼Ÿ</strong></p>
<p>å¾ˆå¤šåŒå­¦çº³é—·ï¼šâ€œæˆ‘çš„ SPA ä¹Ÿæœ‰ TDKï¼ˆæ ‡é¢˜ã€æè¿°ã€å…³é”®è¯ï¼‰ï¼Œç™¾åº¦ä¹Ÿèƒ½æœåˆ°å®˜ç½‘åå•Šã€‚â€
è¿™å…¶å®æ˜¯<strong>å°é¢ä¸ç™½çº¸</strong> çš„é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>æœ¬è´¨åŸå› </strong>ï¼šSPA æœ¬è´¨ä¸Šåªæœ‰ä¸€ä¸ªçœŸå®çš„ <code>index.html</code> éª¨æ¶å’Œä¸€å¥—åŸºç¡€çš„ TDKã€‚å®ƒæ‰€è°“çš„â€œé¡µé¢åˆ‡æ¢â€ï¼Œå…¶å®æ˜¯æ ¹æ®è·¯ç”±åŠ¨æ€<strong>åˆ‡æ¢è„šæœ¬ï¼ˆJSï¼‰</strong> æ¥æ¸²æŸ“å†…å®¹çš„ã€‚</p>
</li>
<li>
<p><strong>èœ˜è››è§†è§’</strong>ï¼šå¯¹äºèœ˜è››æ¥è¯´ï¼Œä½ çš„é¡¹ç›®å°±åƒä¸€æœ¬ä¹¦ï¼Œ<strong>åªæœ‰å°é¢ï¼ˆé¦–é¡µï¼‰å°äº†å­—ï¼Œç¿»å¼€åæ¯ä¸€é¡µéƒ½æ˜¯éœ€è¦æ‰§è¡Œ JS æ‰èƒ½æ˜¾ç°çš„â€œæ— å­—å¤©ä¹¦â€</strong> ã€‚ç”±äºèœ˜è››æŠ“å–æ—¶é€šå¸¸ä¸ç­‰å¾…å¼‚æ­¥ JS æ‰§è¡Œå®Œæˆï¼Œå®ƒæ¬å›æ•°æ®åº“çš„æ¯ä¸€é¡µéƒ½æ˜¯ç™½çº¸ã€‚</p>
</li>
</ul>
<p><strong>ä¸¾ä¸ªä¾‹å­ï¼š</strong></p>
<ul>
<li>
<p>ç”¨æˆ·æœç´¢ <strong>â€œäº§å“å®˜ç½‘åâ€</strong> ï¼šæœç´¢å¼•æ“åœ¨æ•°æ®åº“é‡Œæ‰¾åˆ°äº†é¦–é¡µï¼ˆå°é¢ï¼‰çš„ TDKï¼Œèƒ½æœåˆ°ä½ ï¼Œè¿™å«â€œæœ‰å“ç‰Œè¯æ’åâ€ã€‚</p>
</li>
<li>
<p>ç”¨æˆ·æœç´¢ <strong>â€œèµ„äº§ç®¡ç†æ–¹æ¡ˆâ€</strong> ï¼šè¿™ä¸ªè¯åœ¨ <code>/asset</code> è·¯ç”±ä¸‹ã€‚ä½†åœ¨èœ˜è››æ¬å›çš„æ•°æ®åº“é‡Œï¼Œ<code>/asset</code> é¡µé¢<strong>è¿˜æ˜¯é¦–é¡µçš„ TDK</strong>ï¼Œå†…å®¹åŒºæ˜¯ä¸€ç‰‡ç©ºç™½ã€‚å› ä¸ºçœŸæ­£çš„â€œèµ„äº§ç®¡ç†æ–¹æ¡ˆâ€æ–‡æ¡ˆ<strong>è¦ç­‰ é¡µé¢JS æ‰§è¡Œå®Œæ‰ä¼šæ¸²æŸ“</strong>ï¼Œè€Œçˆ¬è™«åªæŠ“åˆ°äº†ç©ºå£³æºç ã€‚ç»“æœå°±æ˜¯æœç´¢å¼•æ“ç¿»éæ•°æ®åº“ä¹Ÿæ‰¾ä¸åˆ°è¿™ä¸ªè¯ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„<strong>å†…é¡µæ— æ”¶å½•ã€æ— æ’å</strong>ã€‚</p>
</li>
</ul>
<p><strong>SSG çš„æœ¬è´¨ï¼šå°±æ˜¯åœ¨æ„å»ºæ—¶é¢„æ‰§è¡Œ JSï¼ŒæŠŠâ€œæ— å­—å¤©ä¹¦â€ç›´æ¥å°æˆå®å®åœ¨åœ¨çš„ HTML æ–‡å­—ï¼Œç¡®ä¿èœ˜è››æ¬å›æ•°æ®åº“çš„æ¯ä¸€é¡µéƒ½å†…å®¹æ»¡æ»¡ã€‚</strong></p>
<h3 data-id="heading-12">1. TDK åŠ¨æ€æ³¨å…¥ (<code>@unhead/vue</code>)</h3>
<p>é¦–å…ˆéœ€è¦å®‰è£… <code>@unhead/vue</code></p>
<pre><code class="hljs language-bash" lang="bash">pnpm add @unhead/vue
</code></pre>
<p>ç„¶ååœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>useHead</code> ä¸ºæ¯ä¸ªé¡µé¢å®šåˆ¶ Titleã€Descriptionã€Keywordsã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useHead } <span class="hljs-keyword">from</span> <span class="hljs-string">'@unhead/vue'</span>

<span class="hljs-title function_">useHead</span>({
  <span class="hljs-attr">title</span>: <span class="hljs-string">'é¡µé¢æ ‡é¢˜'</span>,
  <span class="hljs-attr">meta</span>: [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'description'</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">'é¡µé¢è§£é‡Š'</span>,
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'keywords'</span>,
      <span class="hljs-attr">content</span>: <span class="hljs-string">'å…³é”®è¯'</span>,
    },
  ],
})
</code></pre>
<h3 data-id="heading-13">2. è‡ªåŠ¨åŒ– Sitemap ä¸ Robots</h3>
<p>å¦‚æœè¯´ SSG æ˜¯æŠŠâ€œæ— å­—å¤©ä¹¦â€å°æˆäº†æ–‡å­—ï¼Œé‚£ä¹ˆ Sitemap å’Œ Robots å°±æ˜¯å‘Šè¯‰èœ˜è››ï¼š <strong>â€œè¿™å„¿æœ‰ä¹¦ï¼Œå¿«æ¥è¯»ï¼Œé¡ºç€è¿™å¼ å›¾çˆ¬å‡†æ²¡é”™ï¼â€</strong></p>
<h4 data-id="heading-14">ğŸ› ï¸ è‡ªåŠ¨ç”Ÿæˆ Sitemap</h4>
<p>å®‰è£… <code>vite-ssg-sitemap</code> åï¼Œé€šè¿‡é…ç½® <code>onFinished</code> é’©å­ï¼Œè®©å®ƒåœ¨æ„å»ºå®Œæˆåè‡ªåŠ¨æ‰«æ <code>dist</code> ç›®å½•å¹¶ç”Ÿæˆç«™ç‚¹åœ°å›¾ã€‚</p>
<h4 data-id="heading-15">1. å®‰è£…æ’ä»¶</h4>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D vite-ssg-sitemap
</code></pre>
<h4 data-id="heading-16">2. <code>vite.config.ts</code> é…ç½®å…¨æ”»ç•¥</h4>
<p>è¿™ä¸€æ­¥çš„æ ¸å¿ƒæ˜¯åœ¨ <code>ssgOptions</code> é’©å­é‡Œé…ç½® <code>onFinished</code>ã€‚æ„æ€å°±æ˜¯ï¼š<strong>ç­‰æ‰€æœ‰ HTML é¡µé¢éƒ½ç”Ÿæˆå¥½äº†ï¼Œå†æ‰«æä¸€é <code>dist</code> ç›®å½•ï¼ŒæŠŠæ‰€æœ‰è·¯ç”±åœ°å€æ±‡æ€»æˆä¸€å¼ åœ°å›¾ã€‚</strong></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> generateSitemap <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-ssg-sitemap'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  <span class="hljs-attr">ssgOptions</span>: {
    <span class="hljs-attr">script</span>: <span class="hljs-string">'async'</span>,
    <span class="hljs-attr">formatting</span>: <span class="hljs-string">'minify'</span>,
    
    <span class="hljs-comment">// æ ¸å¿ƒé€»è¾‘ï¼šSSG æ„å»ºå®Œæˆåè‡ªåŠ¨è§¦å‘</span>
    <span class="hljs-title function_">onFinished</span>(<span class="hljs-params"/>) {
      <span class="hljs-title function_">generateSitemap</span>({
        <span class="hljs-comment">// 1. å¿…å¡«ï¼šä½ å®˜ç½‘éƒ¨ç½²åçš„æ­£å¼åŸŸåã€‚</span>
        <span class="hljs-comment">// ç”Ÿæˆçš„ sitemap.xml é‡Œéœ€è¦ç”¨è¿™ä¸ªåŸŸå + è·¯ç”±è·¯å¾„æ‹¼æˆå®Œæ•´ URL (å¦‚ https://site.com/about)</span>
        <span class="hljs-attr">hostname</span>: <span class="hljs-string">'https://your-website.com/'</span>, 
        
        <span class="hljs-comment">// 2. æ‰«æç›®å½•ï¼šé€šå¸¸æ˜¯æ‰“åŒ…åçš„è¾“å‡ºç›®å½•</span>
        <span class="hljs-attr">outDir</span>: <span class="hljs-string">'dist'</span>
      })
    },
  },
})
</code></pre>
<p><strong>éªŒè¯ç»“æœï¼š</strong> å½“ä½ è¿è¡Œ <code>pnpm run build</code> åï¼Œä½ ä¼šå‘ç° <code>dist</code> ç›®å½•ä¸‹å¤šäº† <code>sitemap.xml</code>å’Œ <code>robots.txt</code> æ–‡ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12f40e5dbf794caa8c833a0b1b6241b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781968&amp;x-signature=7kPZFlsZY9vetZ6F%2B9C3LL57xOU%3D" alt="image.png" loading="lazy"/></p>
<p><code>robots.txt</code>ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e521ab72ce64a30b1132953c3ac8921~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781968&amp;x-signature=rWwSedq8FY%2Fb6eMtWYZYz0D1Nzw%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p><strong><code>User-agent:</code> <strong>è¿™é‡Œçš„ <code>*</code> æ˜¯é€šé…ç¬¦ï¼Œè¡¨ç¤ºè¿™æ®µè§„åˆ™å¯¹</strong>æ‰€æœ‰çš„</strong>æœç´¢å¼•æ“çˆ¬è™«ï¼ˆç™¾åº¦çš„ç™¾åº¦èœ˜è››ã€è°·æ­Œçš„ Googlebotã€å¿…åº”çš„ Bingbot ç­‰ï¼‰éƒ½ç”Ÿæ•ˆã€‚</p>
</li>
<li>
<p><strong><code>Allow:</code></strong> è¿™é‡Œ<code>/</code> ä»£è¡¨æ ¹ç›®å½•ã€‚è¿™è¡ŒæŒ‡ä»¤å‘Šè¯‰èœ˜è››ï¼Œæ•´ä¸ªç½‘ç«™çš„æ‰€æœ‰å…¬å¼€é¡µé¢ä½ éƒ½å¯ä»¥éšæ„æŠ“å–ã€‚</p>
<ul>
<li><em>æ³¨ï¼šå¦‚æœä½ æœ‰ä¸æƒ³è®©æœåˆ°çš„é¡µé¢ï¼ˆå¦‚ <code>/admin</code>ï¼‰ï¼Œå¯ä»¥é…åˆ <code>Disallow: /admin</code> ä½¿ç”¨ã€‚</em></li>
</ul>
</li>
<li>
<p><strong><code>Sitemap: https://your-website.com/sitemap.xml</code></strong> è¿™æ˜¯<strong>æœ€å…³é”®çš„ä¸€è¡Œ</strong>ã€‚å®ƒç›´æ¥æŠŠæˆ‘ä»¬åˆšæ‰è‡ªåŠ¨ç”Ÿæˆçš„ç«™ç‚¹åœ°å›¾åœ°å€ç”©ç»™èœ˜è››ã€‚èœ˜è››ä¸€è¿›ç«™ï¼Œç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªåœ°å€ï¼Œå°±ä¼šç«‹åˆ»å»è¯»åœ°å›¾ï¼Œä»è€Œç²¾å‡†ã€é«˜æ•ˆåœ°æŠ“å–ä½ å…¨ç«™çš„å†…é¡µï¼Œè€Œä¸è‡³äºåœ¨ä½ çš„ç½‘ç«™é‡Œâ€œè¿·è·¯â€ã€‚</p>
</li>
</ul>
<p>ç”Ÿæˆçš„ <code>sitemap.xml</code>ï¼šå…¶å®å°±æ˜¯ç»™çˆ¬è™«çœ‹çš„ä¸€ä»½<strong>å¯¼èˆªæ¸…å•</strong>ï¼Œå‘Šè¯‰å®ƒï¼šâ€œæˆ‘ç½‘ç«™é‡Œæœ‰è¿™äº›é¡µé¢ï¼Œä½ æŒ‰ç€è¿™ä¸ªåˆ—è¡¨ä¸€ä¸ªä¸ªå»æŠ“å°±è¡Œï¼Œåˆ«æ¼äº†ã€‚â€</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xmlÂ version=<span class="hljs-string">"1.0"</span>Â encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>  
<span class="hljs-tag">&lt;<span class="hljs-name">urlset</span>Â <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.sitemaps.org/schemas/sitemap/0.9"</span>&gt;</span>  
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">loc</span>&gt;</span>https://your-website.com/<span class="hljs-tag">&lt;/<span class="hljs-name">loc</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>  
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">loc</span>&gt;</span>https://your-website.com/product<span class="hljs-tag">&lt;/<span class="hljs-name">loc</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>  
Â Â <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">loc</span>&gt;</span>https://your-website.com/about<span class="hljs-tag">&lt;/<span class="hljs-name">loc</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">urlset</span>&gt;</span>
</code></pre>
<h3 data-id="heading-17">3. æ‰«é™¤éšœç¢ï¼šä»£ç å±‚çš„ SEO ä¿®æ­£</h3>
<ul>
<li><strong>è·¯ç”±å»é‡ï¼š</strong> å°†æ ¹è·¯ç”± / ç›´æ¥æŒ‡å‘æ ¸å¿ƒç»„ä»¶ï¼Œåˆ«ç”¨ 301 é‡å®šå‘ï¼›å¤šä¸€æ¬¡è·³è½¬å°±å¤šäº¤ä¸€æ¬¡â€œè¿‡è·¯è´¹â€ï¼Œåˆ«è®©åˆ†æ•°æ‰£åœ¨åŠè·¯ä¸Š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ é”™è¯¯åšæ³•: å¯¼è‡´æƒé‡åˆ†æ•£çš„é‡å®šå‘</span>
<span class="hljs-keyword">const</span> routes = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">redirect</span>: <span class="hljs-string">'/home'</span> }, <span class="hljs-comment">// çˆ¬è™«è®¿é—®æ ¹è·¯å¾„æ—¶ä¼šè¢«è¸¢åˆ° /home</span>
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/home'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span> }
];

<span class="hljs-comment">// âœ… æ­£ç¡®åšæ³•: æ ¹è·¯å¾„ç›´æ¥æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> routes = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span> },   <span class="hljs-comment">// çˆ¬è™«ç›´æ¥æŠ“å–å†…å®¹ï¼Œæƒé‡é›†ä¸­åœ¨æ ¹åŸŸå</span>
  <span class="hljs-comment">// å¦‚æœéœ€è¦å…¼å®¹ /homeï¼Œå¯ä»¥è®©å®ƒæŒ‡å‘åŒä¸€ä¸ªç»„ä»¶æˆ–åš canonical å¤„ç†</span>
];
</code></pre>
<ul>
<li><strong>è¡¥å…¨ Altï¼š</strong> å…¨å±€æœç´¢ <code>&lt;img&gt;</code> æ ‡ç­¾ï¼Œç»™å…³é”®å›¾ç‰‡åŠ ä¸Šç²¾å‡†çš„ <code>alt</code> æè¿°ï¼ˆå¦‚ <code>"ä¼ä¸šèµ„äº§ç®¡ç†ç³»ç»Ÿç•Œé¢"</code>ï¼‰ï¼Œè¿™æ˜¯å›¾ç‰‡æœç´¢æµé‡çš„ä¸»è¦æ¥æºã€‚</li>
</ul>
<pre><code class="hljs language-js" lang="js">&lt;!-- âŒ é”™è¯¯åšæ³•: æœç´¢å¼•æ“ä¸çŸ¥é“è¿™æ˜¯ä»€ä¹ˆ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/assets/dashboard-v2.png"</span> /&gt;</span></span>

&lt;!-- âœ… æ­£ç¡®åšæ³•: ç²¾å‡†æè¿°å›¾ç‰‡å†…å®¹ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
  <span class="hljs-attr">src</span>=<span class="hljs-string">"/assets/dashboard-v2.png"</span> 
  <span class="hljs-attr">alt</span>=<span class="hljs-string">"ä¼ä¸šèµ„äº§ç®¡ç†ç³»ç»Ÿæ•°æ®å¯è§†åŒ–ä»ªè¡¨ç›˜"</span> 
/&gt;</span></span>
</code></pre>
<ul>
<li><strong>é“¾è·¯ä¿®æ­£ï¼š</strong> å¯¼èˆªæ <strong>ä¸¥ç¦ä½¿ç”¨ <code>div</code> + <code>click</code> è·³è½¬</strong>ï¼å¿…é¡»ä½¿ç”¨ <code>router-link</code>ã€‚
<ul>
<li><code>router-link</code> åœ¨ SSG æ„å»ºæ—¶ä¼šæ¸²æŸ“ä¸ºæ ‡å‡†çš„ <code>&lt;a&gt;</code> æ ‡ç­¾ï¼Œçˆ¬è™«æ‰èƒ½é¡ºè—¤æ‘¸ç“œæŠ“å–å†…é¡µã€‚</li>
<li>å¦‚æœåªç”¨ç‚¹å‡»äº‹ä»¶ï¼Œçˆ¬è™«çœ‹æ¥è¿™å°±æ˜¯ä¸ªæ­»èƒ¡åŒã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js" lang="js">&lt;!-- âŒ é”™è¯¯åšæ³•: div + click æ˜¯çˆ¬è™«çš„æ­»èƒ¡åŒ --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"$router.push('/products')"</span>&gt;</span>
  äº§å“ä¸­å¿ƒ
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

&lt;!-- âœ… æ­£ç¡®åšæ³•: <span class="hljs-variable constant_">SSG</span>/<span class="hljs-variable constant_">SSR</span> ä¼šæ¸²æŸ“ä¸º &lt;a href=<span class="hljs-string">"/products"</span>&gt; --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/products"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span>
  äº§å“ä¸­å¿ƒ
<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-18">4. æ€§èƒ½ä¸ç»“æ„åŒ–æ•°æ®</h3>
<p>åœ¨è§£å†³äº†é¡µé¢æ¸²æŸ“å’ŒåŸºç¡€çˆ¬å–é—®é¢˜åï¼Œå¸‚åœºéƒ¨åˆç»™å‡ºäº†ä¸¤ç‚¹éå¸¸ä¸“ä¸šçš„ SEO å»ºè®®ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šå¼€å‘è€…å®¹æ˜“å¿½ç•¥çš„ï¼š</p>
<h4 data-id="heading-19">å›¾ç‰‡å» Base64 åŒ–ï¼šè®©èœ˜è››è·‘å¾—å¿«ä¸€ç‚¹</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒVite ä¼šå°†å°äº 4kb çš„å›¾ç‰‡è½¬ä¸º Base64 ç¼–ç å†…è”è¿› HTMLã€‚</p>
<p><strong>SEO ç—›ç‚¹ï¼š</strong> ç™¾åº¦çˆ¬è™«ï¼ˆèœ˜è››ï¼‰åœ¨æŠ“å–æ—¶éå¸¸â€œå‘†â€ï¼Œè¿‡é•¿çš„ Base64 ç¼–ç ä¼šæ˜¾è‘—å¢åŠ  HTML ä½“ç§¯ï¼Œå¯¼è‡´æŠ“å–è¶…è½½ï¼Œèœ˜è››è¿˜æ²¡è¯»åˆ°é¡µé¢çš„æ ¸å¿ƒæ–‡å­—å°±â€œé¥±äº†â€ï¼Œä»è€Œæ”¾å¼ƒåç»­å†…å®¹çš„æŠ“å–ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆï¼š</strong> åœ¨ <code>vite.config.ts</code> ä¸­è°ƒæ•´ <code>assetsInlineLimit</code> é˜ˆå€¼ä¸º 0ï¼Œå¼ºåˆ¶æ‰€æœ‰å›¾ç‰‡ä»¥ç‹¬ç«‹ URL é“¾æ¥å½¢å¼å¼•å…¥ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">build</span>: {
    <span class="hljs-comment">// è®¾ç½®ä¸º 0ï¼Œç¦ç”¨å›¾ç‰‡è½¬ base64ï¼Œç¡®ä¿èœ˜è››æŠ“å–æ—¶è·¯å¾„æ¸…æ™°ã€HTML ç²¾ç®€</span>
    <span class="hljs-attr">assetsInlineLimit</span>: <span class="hljs-number">0</span>,
  }
})
</code></pre>
<h4 data-id="heading-20">ç»“æ„åŒ–æ•°æ®ï¼šç»™æœç´¢å¼•æ“â€œå–‚â€ä¸€å¼ ä¸“å± Logo</h4>
<p>è™½ç„¶æˆ‘ä»¬å·²ç»æœ‰äº† Faviconï¼Œä½†æœç´¢å¼•æ“åœ¨æœç´¢ç»“æœé¡µå±•ç¤ºçš„ Logo éœ€è¦é€šè¿‡ <strong>JSON-LD ç»“æ„åŒ–æ•°æ®</strong> æ˜¾å¼å£°æ˜ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆï¼š</strong> åœ¨é¦–é¡µå¢åŠ ç¬¦åˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fschema.org" target="_blank" title="https://schema.org" ref="nofollow noopener noreferrer">Schema.org</a> æ ‡å‡†çš„è„šæœ¬å—ã€‚è¿™èƒ½æå¤§å¢åŠ ç½‘ç«™åœ¨æœç´¢ç»“æœä¸­å±•ç¤ºå“ç‰Œ Logo çš„æ¦‚ç‡ã€‚ é€šå¸¸åœ¨æºç ä¸­æ˜¯è¿™æ ·æ˜¾ç°çš„ï¼š</p>
<pre><code class="hljs language-js" lang="js">&lt;script type=<span class="hljs-string">"application/ld+json"</span>&gt;
{
  <span class="hljs-string">"@context"</span>: <span class="hljs-string">"https://schema.org"</span>, <span class="hljs-comment">// å£°æ˜æ ‡å‡†: å‘Šè¯‰èœ˜è››ï¼šâ€œå’±ä»¬æŒ‰ schema.org è¿™ä¸ªå›½é™…é€šç”¨æ ‡å‡†æ¥èŠå¤©ã€‚</span>
  <span class="hljs-string">"@type"</span>: <span class="hljs-string">"Organization"</span>,  <span class="hljs-comment">// èº«ä»½å®šä¹‰ï¼šå‘Šè¯‰èœ˜è››ï¼šâ€œæˆ‘æ˜¯ä¸€ä¸ªâ€˜ç»„ç»‡/å…¬å¸â€™ï¼Œä¸æ˜¯ä¸ªäººåšå®¢æˆ–å°æ–°é—»ã€‚</span>
  <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://your-website.com/"</span>,   <span class="hljs-comment">// ä¸»é¡µåœ°ç›˜ï¼šæ˜¯æˆ‘ä»¬çš„å®˜å·å”¯ä¸€åœ°å€ï¼Œé˜²æ­¢æƒé‡è¢«å…¶ä»–é•œåƒç«™åˆ†æ•£</span>
  <span class="hljs-string">"logo"</span>: <span class="hljs-string">"https://your-website.com/images/logo.png"</span>    <span class="hljs-comment">// é—¨é¢æ‹…å½“ï¼šå®šé‚£å¼ è¦æ˜¾ç¤ºåœ¨æœç´¢ç»“æœå·¦ä¾§çš„å°æ–¹å›¾</span>
}
&lt;/script&gt;
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥åœ¨Vueä¸­ä½¿ç”¨ <code>@unhead/vue</code> çš„ <code>useHead</code> åŠ¨æ€æ³¨å…¥æ­¤è„šæœ¬ã€‚</p>
<p><strong>å®æˆ˜ä»£ç ï¼šåŠ¨æ€æ³¨å…¥ç»“æ„åŒ–æ•°æ®</strong></p>
<pre><code class="hljs language-js" lang="js">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { useHead } <span class="hljs-keyword">from</span> <span class="hljs-string">'@unhead/vue'</span>
<span class="hljs-keyword">import</span> logoUrl <span class="hljs-keyword">from</span> <span class="hljs-string">'@/assets/logo.png'</span> <span class="hljs-comment">// å‡è®¾è¿™æ˜¯ä½ çš„logoè·¯å¾„</span>

<span class="hljs-title function_">useHead</span>({
  <span class="hljs-attr">script</span>: [
    {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'application/ld+json'</span>,
      <span class="hljs-attr">children</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        <span class="hljs-string">"@context"</span>: <span class="hljs-string">"https://schema.org"</span>, 
        <span class="hljs-string">"@type"</span>: <span class="hljs-string">"Organization"</span>,
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"ä½ çš„å“ç‰Œåç§°"</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://your-website.com/"</span>,
        <span class="hljs-string">"logo"</span>: logoUrl
      })
    }
  ]
})
&lt;/script&gt;
</code></pre>
<p>æ³¨ï¼šå¸‚åœºéƒ¨è¯´å¯¹äºç™¾åº¦æœç´¢çš„è¯ï¼Œlogoç»“æ„åŒ–æ•°æ®çš„å›¾ç‰‡æ¯”ä¾‹å¾—æ˜¯4ï¼š3æ¯”è¾ƒå¥½</p>
<h3 data-id="heading-21">å°ç»“</h3>
<ol>
<li><strong>HTML ç˜¦èº«</strong>ï¼šç¦ç”¨ Base64 åçš„ HTML æºç æ›´å¹²å‡€ï¼Œå…³é”®è¯å¯†åº¦ï¼ˆæ–‡å­—å æ¯”ï¼‰ç›¸å¯¹æå‡ï¼Œæ›´æœ‰åˆ©äºæ”¶å½•ã€‚</li>
<li><strong>æœç´¢å±•ç°</strong>ï¼šlogoç»“æ„åŒ–æ•°æ®æ˜¯ç›®å‰ä¸»æµæœç´¢å¼•æ“ï¼ˆç™¾åº¦ã€è°·æ­Œï¼‰æœ€æ¨å´‡çš„â€œæ²Ÿé€šæ–¹å¼â€ï¼Œèƒ½è®©ä½ çš„ç½‘ç«™åœ¨æœç´¢ç»“æœé‡Œçœ‹èµ·æ¥æ›´ä¸“ä¸šã€‚</li>
</ol>
<p>ç¤ºä¾‹ï¼ˆè°·æ­Œæœç´¢ç½‘ç«™çš„ Logo å±•ç¤ºï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0663652150bc45319122cd8da9390b02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781968&amp;x-signature=jag6mTQUf4Cxs6cR1DHm0NSa6ZQ%3D" alt="è°·æ­Œæœç´¢ç½‘ç«™" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-22">æˆæœå±•ç¤º</h2>
<p>ç»è¿‡ä¸€å¤©çš„æé™æ”¹é€ ï¼Œè¿è¡Œ <code>npm run build</code> åï¼š</p>
<ol>
<li>
<p><strong>Dist ç›®å½•å˜åŒ–ï¼š</strong> ä¸å†æ˜¯å•ä¸€çš„ <code>index.html</code>ï¼Œè€Œæ˜¯ç”Ÿæˆäº† <code>/download.html</code>, <code>/purchase.html</code> ç­‰å¤šä¸ªé¡µé¢htmlæ–‡ä»¶ã€‚</p>
<p><strong>åŸæ¥çš„ï¼š</strong> å•é¡µé¢æ–‡ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/460490077eca43cb94a0471c6f83b679~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781968&amp;x-signature=5D0zQy32EDDUoisegrZHJfDKNHw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¼˜åŒ–åçš„ï¼š</strong> å¤šé¡µé¢</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3383b08e463421e8701e676b69adbb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5LiA5qC355qE5bCR5bm0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768781968&amp;x-signature=ygxXIujpJr2uj5%2FXteHx%2F3ul%2BYM%3D" alt="1bf9b1c2-b828-4b8d-8deb-77d07a6d45aa.png" loading="lazy"/></p>
</li>
<li>
<p><strong>æºç æŸ¥çœ‹ï¼š</strong> å³é”®â€œæŸ¥çœ‹ç½‘é¡µæºä»£ç â€ï¼Œä¸å†æ˜¯ç©ºè¡è¡çš„ <code>&lt;div id="app"&gt;&lt;/div&gt;</code>ï¼Œè€Œæ˜¯å……æ»¡äº†å…·ä½“çš„ä¸šåŠ¡æ–‡æ¡ˆå’Œ <code>&lt;meta&gt;</code> æ ‡ç­¾ã€‚</p>
</li>
<li>
<p><strong>Lighthouseï¼š</strong> SEO è¯„åˆ†ä» <strong>80+ é£™å‡è‡³ 100 åˆ†</strong> ï¼ˆæ³¨ï¼šæ­¤è¯„åˆ†ä»…ä»£è¡¨æŠ€æœ¯è§„èŒƒè¾¾æ ‡ï¼ŒçœŸå®æ’åè¿˜éœ€çœ‹å†…å®¹è´¨é‡ä¸å¤–é“¾ç§¯ç´¯ï¼‰ã€‚</p>
</li>
</ol>
<h2 data-id="heading-23">æ€»ç»“ä¸æ€è€ƒ</h2>
<p>åœ¨æ—¶é—´æå…¶æœ‰é™çš„æƒ…å†µä¸‹ï¼Œ<strong>Vite-SSG</strong> æ˜¯ Vue SPA é¡¹ç›®å®ç° SEO ä¼˜åŒ–çš„æœ€ä½³â€œä¸­é—´æ€â€æ–¹æ¡ˆã€‚</p>
<p>å®ƒä¸éœ€è¦ Nuxt é‚£æ ·ä¼¤ç­‹åŠ¨éª¨çš„è¿ç§»æˆæœ¬ï¼Œå´èƒ½ä»¥æœ€å°çš„ä»£ä»·æ¢å– 80% çš„ SSR æ”¶ç›Šã€‚è™½ç„¶åœ¨å¤„ç†æµ·é‡åŠ¨æ€æ•°æ®ä¸Šä¸å¦‚ SSR å®Œç¾ï¼Œä½†å¯¹äºä¼ä¸šå®˜ç½‘ã€æ–‡æ¡£ç«™ã€æ´»åŠ¨é¡µè¿™äº›ï¼Œå·²ç»å®Œå…¨å¤Ÿç”¨äº†</p>
<p><strong>è¿™æ¬¡ä¼˜åŒ–ä¸»è¦åšäº†ä¸‰ä»¶äº‹ï¼š</strong></p>
<ol>
<li><strong>å¡«å‘ï¼š</strong> è§£å†³ <code>window</code>ã€API è·¯å¾„ç­‰ç¯å¢ƒå·®å¼‚ã€‚</li>
<li><strong>æ³¨æ°´ï¼š</strong> ç”¨ <code>onServerPrefetch</code> è®©é™æ€ HTML å……æ»¡æ•°æ®ã€‚</li>
<li><strong>æŒ‡è·¯ï¼š</strong> ç”¨ Sitemap å’Œ TDK å‘Šè¯‰çˆ¬è™«â€œçœ‹è¿™é‡Œâ€ã€‚</li>
</ol>
<p>å¸Œæœ›èƒ½ç»™åŒæ ·é¢ä¸´â€œSEO çªå‡»æ£€æŸ¥â€çš„å…„å¼Ÿä»¬æä¾›ä¸€ä¸ªå¯è½åœ°çš„æ€è·¯ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Laravel12 + Vue3 çš„å…è´¹å¯å•†ç”¨å•†ä¸šçº§ç®¡ç†åå° CatchAdmin V5 æ­£å¼å‘å¸ƒ]]></title>    <link>https://juejin.cn/post/7593358143692308543</link>    <guid>https://juejin.cn/post/7593358143692308543</guid>    <pubDate>2026-01-12T00:27:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593358143692308543" data-draft-id="7593342203822850054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Laravel12 + Vue3 çš„å…è´¹å¯å•†ç”¨å•†ä¸šçº§ç®¡ç†åå° CatchAdmin V5 æ­£å¼å‘å¸ƒ"/> <meta itemprop="keywords" content="PHP,åç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-12T00:27:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BingoGo"/> <meta itemprop="url" content="https://juejin.cn/user/993614242266077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Laravel12 + Vue3 çš„å…è´¹å¯å•†ç”¨å•†ä¸šçº§ç®¡ç†åå° CatchAdmin V5 æ­£å¼å‘å¸ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/993614242266077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BingoGo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:27:58.000Z" title="Mon Jan 12 2026 00:27:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Laravel12 + Vue3 çš„å…è´¹å¯å•†ç”¨å•†ä¸šçº§ç®¡ç†åå° CatchAdmin V5 æ­£å¼å‘å¸ƒ</h2>
<h3 data-id="heading-1">ä»‹ç»</h3>
<p><code>CatchAdmin</code> æ˜¯ä¸€æ¬¾åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Flaravel.com" target="_blank" title="https://laravel.com" ref="nofollow noopener noreferrer">Laravel 12.x</a> ä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fvuejs.org%2F" target="_blank" title="https://vuejs.org/" ref="nofollow noopener noreferrer">Vue3</a> äºŒæ¬¡å¼€å‘çš„ PHP å¼€æºåå°ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé¢å‘ä¼ä¸šçº§åå°åœºæ™¯æä¾›å¼€ç®±å³ç”¨çš„åŸºç¡€èƒ½åŠ›ä¸å¯æ‰©å±•çš„æ¨¡å—åŒ–æ¡†æ¶ã€‚ç³»ç»Ÿå†…ç½® Token é‰´æƒã€æƒé™ç®¡ç†ï¼ˆèœå•/æŒ‰é’®/æ•°æ®æƒé™ï¼‰ã€åŠ¨æ€è·¯ç”±ã€åŠ¨æ€è¡¨æ ¼ã€åˆ†é¡µå°è£…ã€èµ„æºæƒé™æ§åˆ¶ã€ä¸Šä¼ /ä¸‹è½½ã€ä»£ç ç”Ÿæˆå™¨ï¼ˆæ”¯æŒä¸€é”®å¯¼å…¥/å¯¼å‡ºï¼‰ã€æ•°æ®å›æ”¶ç«™ã€é™„ä»¶ç®¡ç†ç­‰åŠŸèƒ½ï¼Œè¦†ç›–åå°ç³»ç»Ÿä»å®‰å…¨ã€æƒé™åˆ°æ•ˆç‡å¼€å‘çš„å¸¸è§éœ€æ±‚ã€‚</p>
<p>åœ¨æ¶æ„è®¾è®¡ä¸Šï¼Œ<code>Laravel</code> ä»…ä½œä¸º <code>API</code> æœåŠ¡å±‚å¯¹å¤–è¾“å‡ºï¼Œå°½å¯èƒ½å¼±åŒ–ä¸šåŠ¡æ¨¡å—ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚æ¯ä¸ªæ¨¡å—å‡å…·å¤‡ç‹¬ç«‹çš„æ§åˆ¶å™¨ã€è·¯ç”±ã€æ¨¡å‹ä¸æ•°æ®è¡¨ç»“æ„ï¼Œæ”¯æŒæŒ‰æ¨¡å—æ‹†åˆ†ã€æŒ‰éœ€åŠ è½½ä¸ç‹¬ç«‹æ¼”è¿›ï¼Œä»è€Œé™ä½å¼€å‘å¤æ‚åº¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§ä¸è¿­ä»£æ•ˆç‡ã€‚åŒæ—¶ï¼Œé¡¹ç›®å°è£…äº†å¤§é‡é€šç”¨èƒ½åŠ›ä¸å¼€å‘å·¥å…·ï¼ˆå¦‚ç»Ÿä¸€å“åº”ã€å¼‚å¸¸å¤„ç†ã€åˆ†é¡µä¸èµ„æºå°è£…ç­‰ï¼‰ï¼Œè®©ä¸šåŠ¡å¼€å‘æ›´èšç„¦ã€æ›´é«˜æ•ˆã€‚</p>
<p>åŸºäº <code>CatchAdmin</code>ï¼Œä½ å¯ä»¥å¿«é€Ÿæ­å»º <code>CMS</code>ã€<code>CRM</code>ã€<code>OA</code> ç­‰å„ç±»ç®¡ç†ç³»ç»Ÿï¼Œå¹¶åœ¨ç¨³å®šçš„åŸºç¡€è®¾æ–½ä¹‹ä¸ŠæŒç»­æ‰©å±•ä¸šåŠ¡æ¨¡å—ï¼Œæ»¡è¶³ä¸åŒè§„æ¨¡å›¢é˜Ÿçš„å¼€å‘ä¸äº¤ä»˜éœ€æ±‚ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fcatchadmin.com%2Fpost%2F2026-01%2Fcatchadmin-v5-release" target="_blank" title="https://catchadmin.com/post/2026-01/catchadmin-v5-release" ref="nofollow noopener noreferrer">åŸæ–‡ Laravel12 + Vue3 çš„å…è´¹å¯å•†ç”¨å•†ä¸šçº§ç®¡ç†åå° CatchAdmin V5 æ­£å¼å‘å¸ƒ</a></p>
<h3 data-id="heading-2">V5 ç‰ˆæœ¬äº®ç‚¹</h3>
<h4 data-id="heading-3">æ’ä»¶ç³»ç»Ÿæ­£å¼æ”¯æŒ</h4>
<p>æ’ä»¶ç³»ç»Ÿæ˜¯ V5 çš„æ ¸å¿ƒç‰¹æ€§ã€‚CatchAdmin æ²¡æœ‰è‡ªå·±å‘æ˜ä¸€å¥—æ’ä»¶æœºåˆ¶ï¼Œè€Œæ˜¯ç›´æ¥ç»‘å®š Composer ç”Ÿæ€â€”â€”ä»»ä½•ç¬¦åˆ Laravel Package è§„èŒƒçš„ Composer åŒ…éƒ½å¯ä»¥ä½œä¸º CatchAdmin æ’ä»¶ä½¿ç”¨ã€‚</p>
<p>å¼€å‘è€…å¯ä»¥åœ¨æ’ä»¶å®‰è£…ã€å¸è½½æ—¶æ‰§è¡Œè‡ªå®šä¹‰é€»è¾‘ï¼ˆå¦‚åˆå§‹åŒ–é…ç½®ã€åˆ›å»ºæ•°æ®è¡¨ç­‰ï¼‰ã€‚åå°æä¾›å¯è§†åŒ–ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒæ’ä»¶çš„å¯ç”¨ã€ç¦ç”¨ä¸å¸è½½ã€‚</p>
<p>è¿™ç§è®¾è®¡è®© CatchAdmin å¯ä»¥æ— ç¼é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆæ”¯ä»˜ã€çŸ­ä¿¡ã€OSS ç­‰ï¼‰ï¼Œä¹Ÿæ–¹ä¾¿å°†ä¸šåŠ¡é€»è¾‘å°è£…æˆæ’ä»¶åœ¨ä¸åŒé¡¹ç›®é—´å¤ç”¨ã€‚</p>
<h4 data-id="heading-4">å¯¼å…¥å¯¼å‡ºåŠŸèƒ½å¢å¼º</h4>
<p>V5 ç‰ˆæœ¬å¯¹æ•°æ®å¯¼å…¥å¯¼å‡ºåŠŸèƒ½è¿›è¡Œäº†æ ¸å¿ƒå±‚é¢çš„å¢å¼ºã€‚æ‰¹é‡å¯¼å…¥ç”¨æˆ·ã€è®¢å•ã€å•†å“ç­‰æ•°æ®æ˜¯é«˜é¢‘éœ€æ±‚ï¼Œæ­¤æ¬¡æ›´æ–°ä¼˜åŒ–äº†å¯¼å…¥å¯¼å‡ºçš„åº•å±‚é€»è¾‘ï¼Œæ”¯æŒæ›´å¤§æ•°æ®é‡çš„å¤„ç†ï¼Œå¹¶æä¾›äº†æ›´çµæ´»çš„å­—æ®µæ˜ å°„é…ç½®ã€‚åœ¨ä»£ç ç”Ÿæˆå™¨ä¸­å‹¾é€‰"æ”¯æŒå¯¼å…¥å¯¼å‡º"ï¼Œå³å¯ä¸ºæ¨¡å—è‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½ï¼Œæ— éœ€æ‰‹å†™ Excel å¤„ç†ä»£ç ã€‚</p>
<h4 data-id="heading-5">SFC è¿œç¨‹åŠ è½½æ€§èƒ½ä¼˜åŒ–</h4>
<p>CatchAdmin çš„å‰ç«¯æ”¯æŒ"å³æ—¶æ¸²æŸ“"ï¼Œæ— éœ€ç¼–è¯‘å³å¯ç›´æ¥åŠ è½½ Vue å•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰ã€‚V5 ç‰ˆæœ¬ä¼˜åŒ–äº† SFC çš„åŠ è½½æœºåˆ¶ï¼Œé€šè¿‡ç¼“å­˜ç­–ç•¥å’ŒæŒ‰éœ€åŠ è½½ï¼Œæ˜¾è‘—æå‡äº†é¡µé¢æ¸²æŸ“é€Ÿåº¦ã€‚å®æµ‹åˆ—è¡¨é¡µçš„é¦–æ¬¡åŠ è½½æ—¶é—´ç¼©çŸ­äº†çº¦ 30%ã€‚</p>
<h4 data-id="heading-6">ä»£ç ç”Ÿæˆå™¨å¢å¼º</h4>
<p>ä»£ç ç”Ÿæˆå™¨æ–°å¢å¤šé¡¹èƒ½åŠ›ï¼š</p>
<ul>
<li>æ”¯æŒå¤šé€‰å­—æ®µ</li>
<li>æ”¯æŒå­—å…¸æšä¸¾</li>
<li>è”åŠ¨ Model ä¿®æ”¹å™¨è‡ªåŠ¨ç”Ÿæˆ</li>
</ul>
<p>ç”Ÿæˆçš„ä»£ç æ›´è´´è¿‘å®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œå‡å°‘æ‰‹åŠ¨è°ƒæ•´ã€‚</p>
<h4 data-id="heading-7">åå°ä½“éªŒä¼˜åŒ–</h4>
<ul>
<li><strong>å¸ƒå±€é…ç½®æŒä¹…åŒ–</strong>ï¼šåå°å¸ƒå±€é…ç½®æ”¯æŒæŒä¹…åŒ–ï¼Œåˆ·æ–°é¡µé¢ä¸ä¸¢å¤±</li>
<li><strong>Tab é¡µä¿æŒ</strong>ï¼šåˆ·æ–°åä¿æŒå½“å‰æ‰“å¼€çš„ Tab é¡µ</li>
<li><strong>åŠ¨æ€é…ç½®ç¼“å­˜</strong>ï¼šåå°åŠ¨æ€é…ç½®ä¸»åŠ¨ç¼“å­˜ï¼Œå“åº”æ›´å¿«</li>
<li><strong>èœå•è‡ªåŠ¨æ›´æ–°</strong>ï¼šå®‰è£…æ–°æ¨¡å—æˆ–æ’ä»¶åï¼Œåˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°å¯¹åº”èœå•é¡¹ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®è·¯ç”±</li>
<li><strong>ç”¨æˆ·è§’è‰²æ˜¾ç¤ºä¼˜åŒ–</strong>ï¼šè§’è‰²ä¿¡æ¯å±•ç¤ºæ›´æ¸…æ™°</li>
<li><strong>é»˜è®¤æ ¡éªŒæƒé™</strong>ï¼šå®‰å…¨æ€§æå‡</li>
</ul>
<h4 data-id="heading-8">åº•å±‚ä¼˜åŒ–</h4>
<ul>
<li>ä¿®å¤æ¨¡å—æ•°æ®åº“é©±åŠ¨é…ç½®é”™è¯¯</li>
<li>æ–°å¢ <code>LostLoginException</code> å¼‚å¸¸ç±»ï¼Œç™»å½•å¤±æ•ˆå¤„ç†æ›´ç²¾å‡†</li>
<li>Admin ç»„ä»¶æ”¯æŒ fallback ä»æ•°æ®åº“è·å–ç”¨æˆ·ä¿¡æ¯</li>
<li>ç³»ç»Ÿæ¨¡å—è·¯ç”±å‘½åä¼˜åŒ–ï¼Œé˜²æ­¢å†²çª</li>
<li>ç®€åŒ–é¡¹ç›®åˆå§‹åŒ–æµç¨‹ï¼Œä¿®å¤ Composer ä¾èµ–å†²çªé—®é¢˜</li>
</ul>
<h3 data-id="heading-9">å¿«é€Ÿå¼€å§‹</h3>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">åˆ›å»ºé¡¹ç›®</span>
composer create  catchadmin/catchadmin
<span class="hljs-meta prompt_">
# </span><span class="bash">å®‰è£…é¡¹ç›®</span>
cd catchadmin &amp;&amp; php artisan catch:install
<span class="hljs-meta prompt_">
# </span><span class="bash">å¯åŠ¨é¡¹ç›®</span>
composer run dev
</code></pre>
<h3 data-id="heading-10">åŠŸèƒ½æ¸…å•</h3>
<ul>
<li>â˜‘ï¸ <strong>ç”¨æˆ·ç®¡ç†</strong>ï¼šç”¨æˆ·æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼Œæ”¯æŒä¸åŒç”¨æˆ·ç™»å½•åå°çœ‹åˆ°ä¸åŒé¦–é¡µ</li>
<li>â˜‘ï¸ <strong>éƒ¨é—¨ç®¡ç†</strong>ï¼šéƒ¨é—¨ç»„ç»‡æœºæ„ï¼ˆå…¬å¸ã€éƒ¨é—¨ã€å°ç»„ï¼‰ï¼Œæ ‘ç»“æ„å±•ç°</li>
<li>â˜‘ï¸ <strong>å²—ä½ç®¡ç†</strong>ï¼šç»™ç”¨æˆ·é…ç½®æ‰€æ‹…ä»»èŒåŠ¡</li>
<li>â˜‘ï¸ <strong>è§’è‰²ç®¡ç†</strong>ï¼šæ ‘ç»“æ„è®¾è®¡ï¼Œæ”¯æŒè§’è‰²èœå•å’ŒæŒ‰é’®æƒé™åˆ†é…ã€è§’è‰²æ•°æ®æƒé™åˆ†é…</li>
<li>â˜‘ï¸ <strong>èœå•ç®¡ç†</strong>ï¼šé…ç½®ç³»ç»Ÿèœå•å’ŒæŒ‰é’®</li>
<li>â˜‘ï¸ <strong>å­—å…¸ç®¡ç†</strong>ï¼šå¯¹ç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨çš„å›ºå®šæ•°æ®è¿›è¡Œç»´æŠ¤å’Œå¤ç”¨</li>
<li>â˜‘ï¸ <strong>ç³»ç»Ÿé…ç½®</strong>ï¼šç³»ç»Ÿå¸¸ç”¨è®¾ç½®ç®¡ç†</li>
<li>â˜‘ï¸ <strong>æ“ä½œæ—¥å¿—</strong>ï¼šç”¨æˆ·æ­£å¸¸æ“ä½œçš„æŸ¥è¯¢</li>
<li>â˜‘ï¸ <strong>ç™»å½•æ—¥å¿—</strong>ï¼šç”¨æˆ·ç™»å½•è®°å½•æŸ¥è¯¢</li>
<li>â˜‘ï¸ <strong>æ–‡ä»¶ä¸Šä¼ </strong>ï¼šæ”¯æŒæœ¬åœ°ã€ä¸ƒç‰›äº‘ã€é˜¿é‡Œäº‘ã€è…¾è®¯äº‘</li>
<li>â˜‘ï¸ <strong>é™„ä»¶ç®¡ç†</strong>ï¼šç®¡ç†ç³»ç»Ÿä¸Šä¼ çš„æ–‡ä»¶åŠå›¾ç‰‡</li>
<li>â˜‘ï¸ <strong>æ•°æ®è¡¨ç»´æŠ¤</strong>ï¼šæ•°æ®è¡¨ç¢ç‰‡æ¸…ç†å’Œä¼˜åŒ–ï¼Œç®¡ç†æ•°æ®å›æ”¶å’Œé”€æ¯</li>
<li>â˜‘ï¸ <strong>ä»£ç ç”Ÿæˆ</strong>ï¼šå‰åç«¯ä»£ç ç”Ÿæˆï¼ˆPHPã€Vueã€æ•°æ®åº“è¿ç§»ï¼‰ï¼Œæ”¯æŒä¸€é”®ç”Ÿæˆåˆ°æ¨¡å—</li>
<li>â˜‘ï¸ <strong>Vue å³æ—¶æ¸²æŸ“</strong>ï¼šå‰ç«¯ Vue å³æ—¶æ¸²æŸ“ï¼Œæ— éœ€ç¼–è¯‘</li>
<li>â˜‘ï¸ <strong>æ’ä»¶ç³»ç»Ÿ</strong>ï¼šCatchAdmin æ’ä»¶å³ Composer åŒ…ï¼Œå®Œå…¨ç»‘å®š Composer ç”Ÿæ€</li>
</ul>
<h3 data-id="heading-11">åœ¨çº¿ä½“éªŒ</h3>
<p>æ¼”ç¤ºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fv5.catchadmin.com" target="_blank" title="https://v5.catchadmin.com" ref="nofollow noopener noreferrer">v5.catchadmin.com</a></p>
<p><strong>è¶…ç®¡è´¦æˆ·</strong></p>
<ul>
<li>è´¦æˆ·ï¼š<code>catch@admin.com</code></li>
<li>å¯†ç ï¼š<code>catchadmin</code></li>
</ul>
<p><strong>æµ‹è¯•è´¦æˆ·</strong></p>
<ul>
<li>è´¦æˆ·ï¼š<code>test@admin.com</code></li>
<li>å¯†ç ï¼š<code>Testadmin1</code></li>
</ul>
<h3 data-id="heading-12">é¡¹ç›®åœ°å€</h3>
<ul>
<li>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJaguarJack%2Fcatch-admin" target="_blank" title="https://github.com/JaguarJack/catch-admin" ref="nofollow noopener noreferrer">github.com/JaguarJack/â€¦</a></li>
<li>Giteeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fcatchadmin%2Fcatchadmin" target="_blank" title="https://gitee.com/catchadmin/catchadmin" ref="nofollow noopener noreferrer">gitee.com/catchadmin/â€¦</a></li>
</ul>
<h3 data-id="heading-13">é¡¹ç›®é¢„è§ˆ</h3>

























<table><thead><tr><th/><th/></tr></thead><tbody><tr><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1f721a1c8534f2093e8523a03f875e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=wiuoD3vNKWuYeR6HZhAz5XKLhUU%3D" alt="ç™»å½•" loading="lazy"/></td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3893f9914ad4c9392696619c277ac9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=ZQphf1DOsXAfQTDY%2BrPi9lOlE2A%3D" alt="æ§åˆ¶å°" loading="lazy"/></td></tr><tr><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9044e4873eb74f569ca7874687a81bd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=kPtZQuyQzpA1Qu1O2F%2BGVNaexLc%3D" alt="æƒé™" loading="lazy"/></td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66e754269eba47b49f8b701fe36f4e37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=NcwL8dxzPXVIyrDvvnOnMkuHYB0%3D" alt="å¸ƒå±€" loading="lazy"/></td></tr><tr><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bacd49b13b74dfda3c70a869330e77e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=kzv4WeS3DD5pkV9zvR3rkjnboA8%3D" alt="ä¸Šä¼ " loading="lazy"/></td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17a46f12099141cba5f1b49377f5421f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=YC1yFIs7MZdFfylzUAG9BPIJjT0%3D" alt="ä»£ç ç”Ÿæˆ" loading="lazy"/></td></tr><tr><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b67e4906dd04e79956847351ca36f0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=3HCP5uLkkHHbFx5snQDTN5bFX%2Bg%3D" alt="èœå•" loading="lazy"/></td><td><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1d4a2ddac0c479ca8fb11e0a6a252df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmluZ29Hbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783716&amp;x-signature=DdqMy%2BG1D%2FYk6QsbhSuhsRBjSeE%3D" alt="æ¨¡æ¿" loading="lazy"/></td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot å®ç°ç½‘ç»œé™é€Ÿ]]></title>    <link>https://juejin.cn/post/7593595780222189574</link>    <guid>https://juejin.cn/post/7593595780222189574</guid>    <pubDate>2026-01-12T00:34:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593595780222189574" data-draft-id="7593713738856546342" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot å®ç°ç½‘ç»œé™é€Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-12T00:34:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot å®ç°ç½‘ç»œé™é€Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:34:33.000Z" title="Mon Jan 12 2026 00:34:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>æœ¬æ–‡ä»‹ç»åœ¨ Spring Boot 3 ä¸­å®ç°å¤šç»´åº¦ç½‘ç»œå¸¦å®½é™é€Ÿçš„å®Œæ•´æ–¹æ¡ˆã€‚åŸºäº<strong>ä»¤ç‰Œæ¡¶ç®—æ³•</strong>æ‰‹åŠ¨å®ç°æ ¸å¿ƒé€»è¾‘ï¼Œé€šè¿‡è‡ªå®šä¹‰ <code>HandlerInterceptor</code> æ‹¦æˆªè¯·æ±‚ã€<code>HttpServletResponseWrapper</code> åŒ…è£…å“åº”æµã€<code>RateLimitedOutputStream</code> æ§åˆ¶è¾“å‡ºé€Ÿç‡ï¼Œå®ç°å¯¹æ–‡ä»¶ä¸‹è½½ã€è§†é¢‘æµç­‰åœºæ™¯çš„ç²¾ç¡®é€Ÿåº¦æ§åˆ¶ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦å¸¦å®½é™é€Ÿ</h2>
<p>å¸¦å®½é™é€Ÿä¸å¸¸è§çš„ API é™æµä¸åŒï¼šé™æµæ§åˆ¶çš„æ˜¯<strong>è¯·æ±‚æ¬¡æ•°</strong>ï¼ˆå¦‚æ¯åˆ†é’Ÿ100æ¬¡ï¼‰ï¼Œè€Œé™é€Ÿæ§åˆ¶çš„æ˜¯<strong>ç½‘ç»œå¸¦å®½</strong>ï¼ˆå¦‚æ¯ç§’200KBï¼‰ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¸¦å®½é™é€Ÿæœ‰ç€é‡è¦çš„ä¸šåŠ¡ä»·å€¼ï¼š</p>
<p><strong>åœºæ™¯ä¸€ï¼šæ–‡ä»¶ä¸‹è½½æœåŠ¡</strong>
å¯¹äºç½‘ç›˜æˆ–èµ„æºåˆ†å‘å¹³å°ï¼Œå…è´¹ç”¨æˆ·é™åˆ¶åœ¨ 200KB/sï¼ŒVIP ç”¨æˆ·æå‡åˆ° 2MB/sï¼Œæ—¢èƒ½ä¿éšœåŸºç¡€ä½“éªŒï¼Œåˆèƒ½æ¿€åŠ±ä»˜è´¹è½¬åŒ–ã€‚</p>
<p><strong>åœºæ™¯äºŒï¼šè§†é¢‘æµåª’ä½“</strong>
ä¸åŒæ¸…æ™°åº¦å¯¹åº”ä¸åŒå¸¦å®½é™åˆ¶ï¼ˆ480P ç”¨ 500KB/sï¼Œ1080P ç”¨ 3MB/sï¼‰ï¼Œé¿å…é«˜ç ç‡è§†é¢‘å ç”¨è¿‡å¤šæœåŠ¡å™¨å¸¦å®½ã€‚</p>
<p><strong>åœºæ™¯ä¸‰ï¼šAPI æ¥å£ä¿æŠ¤</strong>
å¤§æ•°æ®é‡æ¥å£ï¼ˆå¦‚å¯¼å‡ºæŠ¥è¡¨ï¼‰å¦‚æœæ²¡æœ‰å¸¦å®½æ§åˆ¶ï¼Œå•ä¸ªè¯·æ±‚å¯èƒ½å æ»¡æ•´ä¸ªå‡ºå£å¸¦å®½ï¼Œå½±å“å…¶ä»–ç”¨æˆ·è®¿é—®ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒåŸç†ï¼šä»¤ç‰Œæ¡¶ç®—æ³•</h2>
<p>ä»¤ç‰Œæ¡¶ç®—æ³•æ˜¯æµé‡æ§åˆ¶çš„ç»å…¸æ–¹æ¡ˆï¼Œå…¶æ€æƒ³éå¸¸ç›´è§‚ï¼šæƒ³è±¡ä¸€ä¸ªæ¡¶ï¼Œç³»ç»Ÿä»¥å›ºå®šé€Ÿç‡å‘æ¡¶ä¸­æ”¾å…¥ä»¤ç‰Œï¼Œè¯·æ±‚æ•°æ®æ—¶å¿…é¡»ä»æ¡¶ä¸­å–èµ°å¯¹åº”æ•°é‡çš„ä»¤ç‰Œã€‚</p>
<p><strong>æ ¸å¿ƒå‚æ•°è§£æï¼š</strong></p>
<p><strong>1. æ¡¶å®¹é‡ï¼ˆCapacityï¼‰</strong>ï¼šå†³å®šèƒ½æ‰¿å—å¤šå¤§çªå‘æµé‡ã€‚å®¹é‡ä¸º 200KB æ—¶ï¼Œå³ä½¿æ¡¶å·²æ»¡ï¼Œæœ€å¤šä¹Ÿåªèƒ½è¿ç»­å‘é€ 200KB æ•°æ®ï¼Œä¹‹åå¿…é¡»ç­‰å¾…ä»¤ç‰Œè¡¥å……ã€‚</p>
<p><strong>2. å¡«å……é€Ÿç‡ï¼ˆRefill Rateï¼‰</strong>ï¼šå†³å®šé•¿æœŸå¹³å‡ä¼ è¾“é€Ÿåº¦ã€‚æ¯ç§’è¡¥å…… 200KB ä»¤ç‰Œï¼Œæ„å‘³ç€å¹³å‡é€Ÿåº¦å°±æ˜¯ 200KB/sã€‚</p>
<p><strong>3. åˆ†å—å¤§å°ï¼ˆChunk Sizeï¼‰</strong>ï¼šå½±å“æµé‡å¹³æ»‘åº¦ã€‚å°† 8KB æ•°æ®æ‹†åˆ†æˆ 2KBÃ—4 æ¬¡å†™å…¥ï¼Œæ¯æ¬¡å†™å…¥ä¹‹é—´è¿›è¡Œä»¤ç‰Œæ£€æŸ¥ï¼Œæ¯”ä¸€æ¬¡æ€§å†™å…¥ 8KB æ›´åŠ å¹³æ»‘ã€‚</p>
<p><strong>ç®—æ³•æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">å‘é€æ•°æ®å‰ï¼š
<span class="hljs-bullet">1.</span> è®¡ç®—è·ç¦»ä¸Šæ¬¡è¡¥å……çš„æ—¶é—´å·®
<span class="hljs-bullet">2.</span> æ ¹æ® æ—¶é—´å·® Ã— å¡«å……é€Ÿç‡ è®¡ç®—æ–°å¢ä»¤ç‰Œæ•°
<span class="hljs-bullet">3.</span> æ›´æ–°æ¡¶ä¸­ä»¤ç‰Œæ•°ï¼ˆä¸è¶…è¿‡å®¹é‡ä¸Šé™ï¼‰

å‘é€æ•°æ®æ—¶ï¼š
<span class="hljs-bullet">1.</span> æ£€æŸ¥ä»¤ç‰Œæ˜¯å¦è¶³å¤Ÿ
<span class="hljs-bullet">2.</span> è¶³å¤Ÿï¼šç›´æ¥æ‰£é™¤ä»¤ç‰Œï¼Œå‘é€æ•°æ®
<span class="hljs-bullet">3.</span> ä¸è¶³ï¼šè®¡ç®— (ç¼ºå°‘ä»¤ç‰Œæ•° / å¡«å……é€Ÿç‡) å¾—åˆ°ç­‰å¾…æ—¶é—´ï¼Œç²¾ç¡®ç­‰å¾…åå‘é€
</code></pre>
<h2 data-id="heading-3">æŠ€æœ¯è®¾è®¡</h2>
<h4 data-id="heading-4">æ•´ä½“æµç¨‹</h4>
<p>æœ¬æ–¹æ¡ˆé‡‡ç”¨æ‹¦æˆªå™¨æ¨¡å¼ï¼Œåœ¨è¯·æ±‚å¤„ç†çš„æ—©æœŸé˜¶æ®µå®Œæˆé™é€Ÿç»„ä»¶çš„åˆå§‹åŒ–ï¼Œé€šè¿‡è¯·æ±‚å±æ€§ä¼ é€’åŒ…è£…åçš„å“åº”å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">è¯·æ±‚æµç¨‹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">1</span>. DispatcherServlet åˆ†å‘è¯·æ±‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">2</span>. BandwidthLimitInterceptor<span class="hljs-selector-class">.preHandle</span>()                            â”‚
â”‚    - è§£æ <span class="hljs-keyword">@BandwidthLimit</span> æ³¨è§£                                      â”‚
â”‚    - ä» BandwidthLimitManager è·å–å…±äº« TokenBucket                   â”‚
â”‚    - åˆ›å»º BandwidthLimitResponseWrapper å¹¶å­˜å…¥ request attribute    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">3</span>. Controller å¤„ç†è¯·æ±‚                                              â”‚
â”‚    - é€šè¿‡ BandwidthLimitHelper.getLimitedResponse() è·å–åŒ…è£…åçš„å“åº” â”‚
â”‚    - å‘å“åº”æµå†™å…¥æ•°æ®ï¼ˆè‡ªåŠ¨è§¦å‘é™é€Ÿï¼‰                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">4</span>. BandwidthLimitInterceptor.afterCompletion()                      â”‚
â”‚    - æ¸…ç†èµ„æºï¼Œå…³é—­æµ                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-5">ä¸ºä»€ä¹ˆé€‰æ‹© HandlerInterceptor</h4>
<p>åœ¨ Spring Boot ä¸­å®ç°è¯·æ±‚å¤„ç†ï¼Œæœ‰ä¸¤ç§å¸¸è§æ–¹å¼ï¼šFilter å’Œ HandlerInterceptorã€‚æœ¬æ–¹æ¡ˆé€‰æ‹© HandlerInterceptor çš„å…³é”®åŸå› æ˜¯ï¼š<strong>æ³¨è§£è§£æéœ€è¦ HandlerMethod å¯¹è±¡</strong>ã€‚</p>
<p>Filter åœ¨ DispatcherServlet ä¹‹å‰æ‰§è¡Œï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰ç¡®å®šå…·ä½“çš„å¤„ç†æ–¹æ³•ï¼Œæ— æ³•è·å–æ–¹æ³•ä¸Šçš„ <code>@BandwidthLimit</code> æ³¨è§£ã€‚è€Œ HandlerInterceptor åœ¨å¤„ç†å™¨ç¡®å®šåæ‰§è¡Œï¼Œå¯ä»¥é€šè¿‡ <code>HandlerMethod</code> ç²¾ç¡®è·å–æ–¹æ³•çº§åˆ«å’Œç±»çº§åˆ«çš„æ³¨è§£ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-6">æ ¸å¿ƒç»„ä»¶èŒè´£</h4>





































<table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th></tr></thead><tbody><tr><td><code>@BandwidthLimit</code></td><td>å£°æ˜å¼æ³¨è§£ï¼Œé…ç½®é™é€Ÿå‚æ•°</td></tr><tr><td><code>BandwidthLimitInterceptor</code></td><td>æ‹¦æˆªè¯·æ±‚ï¼Œè§£ææ³¨è§£ï¼Œåˆ›å»ºå“åº”åŒ…è£…å™¨</td></tr><tr><td><code>BandwidthLimitManager</code></td><td>ç®¡ç†å¤šç»´åº¦é™é€Ÿæ¡¶ï¼ˆå…¨å±€/API/ç”¨æˆ·/IPï¼‰</td></tr><tr><td><code>BandwidthLimitResponseWrapper</code></td><td>åŒ…è£… HttpServletResponseï¼Œæ›¿æ¢ OutputStream</td></tr><tr><td><code>RateLimitedOutputStream</code></td><td>å®ç°é™é€Ÿé€»è¾‘ï¼ŒåŒ…è£… TokenBucket</td></tr><tr><td><code>TokenBucket</code></td><td>ä»¤ç‰Œæ¡¶ç®—æ³•å®ç°</td></tr><tr><td><code>BandwidthLimitHelper</code></td><td>ä»è¯·æ±‚å±æ€§ä¸­è·å–åŒ…è£…åçš„å“åº”å¯¹è±¡</td></tr></tbody></table>
<h2 data-id="heading-7">å¤šç»´åº¦é™é€Ÿå®ç°</h2>
<p>æœ¬æ–¹æ¡ˆæ”¯æŒå››ç§é™é€Ÿç»´åº¦ï¼Œæ»¡è¶³ä¸åŒä¸šåŠ¡åœºæ™¯éœ€æ±‚ï¼š</p>
<h4 data-id="heading-8">å…¨å±€é™é€Ÿï¼ˆGLOBALï¼‰</h4>
<p>æ‰€æœ‰è¯·æ±‚å…±äº«åŒä¸€ä¸ªé™é€Ÿæ¡¶ï¼Œé€‚åˆä¿æŠ¤æœåŠ¡å™¨æ•´ä½“å‡ºå£å¸¦å®½ã€‚ä¾‹å¦‚è®¾ç½® 10MB/s å…¨å±€é™åˆ¶ï¼Œå³ä½¿æœ‰100ä¸ªå¹¶å‘ä¸‹è½½ï¼Œæ€»å¸¦å®½ä¹Ÿä¸ä¼šè¶…è¿‡ 10MB/sã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@BandwidthLimit(value = 200, unit = BandwidthUnit.KB, type = LimitType.GLOBAL)</span>
<span class="hljs-meta">@GetMapping("/download/global")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">downloadGlobal</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">limitedResponse</span> <span class="hljs-operator">=</span> BandwidthLimitHelper.getLimitedResponse(request, response);
    <span class="hljs-comment">// å†™å…¥æ•°æ®...</span>
}
</code></pre>
<h4 data-id="heading-9">API ç»´åº¦é™é€Ÿï¼ˆAPIï¼‰</h4>
<p>æ¯ä¸ªæ¥å£è·¯å¾„ç‹¬ç«‹é™é€Ÿï¼Œä¸åŒæ¥å£çš„æµé‡äº’ä¸å½±å“ã€‚<code>/api/file/download</code> é™åˆ¶ 500KB/sï¼Œ<code>/api/video/stream</code> é™åˆ¶ 2MB/sï¼Œä¸¤ä¸ªæ¥å£å¯ä»¥åŒæ—¶è¾¾åˆ°å„è‡ªçš„é€Ÿåº¦ä¸Šé™ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@BandwidthLimit(value = 500, unit = BandwidthUnit.KB, type = LimitType.API)</span>
<span class="hljs-meta">@GetMapping("/download/file")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">downloadFile</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// æ–‡ä»¶ä¸‹è½½é€»è¾‘</span>
}

<span class="hljs-meta">@BandwidthLimit(value = 2048, unit = BandwidthUnit.KB, type = LimitType.API)</span>
<span class="hljs-meta">@GetMapping("/stream/video")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">streamVideo</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// è§†é¢‘æµé€»è¾‘</span>
}
</code></pre>
<h4 data-id="heading-10">ç”¨æˆ·ç»´åº¦é™é€Ÿï¼ˆUSERï¼‰</h4>
<p>æ ¹æ®ç”¨æˆ·æ ‡è¯†ï¼ˆå¦‚è¯·æ±‚å¤´ <code>X-User-Id</code>ï¼‰è¿›è¡Œé™é€Ÿï¼Œæ¯ä¸ªç”¨æˆ·ç‹¬ç«‹è®¡ç®—å¸¦å®½ã€‚é…åˆ <code>free</code> å’Œ <code>vip</code> å‚æ•°ï¼Œå¯å®ç°å·®å¼‚åŒ–æœåŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@BandwidthLimit(value = 200, unit = BandwidthUnit.KB, type = LimitType.USER,
                free = 200, vip = 2048)</span>
<span class="hljs-meta">@GetMapping("/download/user")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">downloadByUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestHeader("X-User-Type")</span> String userType,
                           HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// æ ¹æ®è¯·æ±‚å¤´ X-User-Type è‡ªåŠ¨åº”ç”¨ 200KB/s æˆ– 2MB/s é™é€Ÿ</span>
}
</code></pre>
<h4 data-id="heading-11">IP ç»´åº¦é™é€Ÿï¼ˆIPï¼‰</h4>
<p>æ ¹æ®å®¢æˆ·ç«¯ IP åœ°å€é™é€Ÿï¼Œé˜²æ­¢å•ä¸ª IP å ç”¨è¿‡å¤šå¸¦å®½ã€‚æ”¯æŒä»£ç†ç¯å¢ƒä¸‹çš„ IP è·å–ï¼ˆX-Forwarded-Forã€X-Real-IPï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@BandwidthLimit(value = 300, unit = BandwidthUnit.KB, type = LimitType.IP)</span>
<span class="hljs-meta">@GetMapping("/download/ip")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">downloadByIp</span><span class="hljs-params">(HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-comment">// æ¯ä¸ªç‹¬ç«‹ IP é™åˆ¶ 300KB/s</span>
}
</code></pre>
<h2 data-id="heading-12">å…³é”®ä»£ç å®ç°</h2>
<h4 data-id="heading-13">1. ä»¤ç‰Œæ¡¶æ ¸å¿ƒç®—æ³•</h4>
<p>TokenBucket çš„æ ¸å¿ƒåœ¨äºç²¾ç¡®çš„æ—¶é—´è®¡ç®—å’Œä»¤ç‰Œè¡¥å……ã€‚ä½¿ç”¨ <code>System.nanoTime()</code> è·å–çº³ç§’çº§æ—¶é—´æˆ³ï¼Œç¡®ä¿é«˜ç²¾åº¦é€Ÿç‡æ§åˆ¶ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">acquire</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-keyword">permits</span>)</span> {
    <span class="hljs-comment">// 1. è¡¥å……ä»¤ç‰Œ</span>
    refill();

    <span class="hljs-comment">// 2. è®¡ç®—ç­‰å¾…æ—¶é—´</span>
    <span class="hljs-keyword">if</span> (tokens &gt;= <span class="hljs-keyword">permits</span>) {
        tokens -= <span class="hljs-keyword">permits</span>;
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-type">long</span> <span class="hljs-variable">deficit</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">permits</span> - tokens;
    <span class="hljs-type">long</span> <span class="hljs-variable">waitNanos</span> <span class="hljs-operator">=</span> (deficit * <span class="hljs-number">1_000_000_000L</span>) / refillRate;

    <span class="hljs-comment">// 3. ç²¾ç¡®ç­‰å¾…</span>
    sleepNanos(waitNanos);

    <span class="hljs-comment">// 4. ç­‰å¾…åæ¶ˆè´¹</span>
    tokens = <span class="hljs-number">0</span>;
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refill</span><span class="hljs-params">()</span> {
    <span class="hljs-type">long</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> System.nanoTime();
    <span class="hljs-type">long</span> <span class="hljs-variable">elapsedNanos</span> <span class="hljs-operator">=</span> now - lastRefillTime;
    <span class="hljs-type">long</span> <span class="hljs-variable">newTokens</span> <span class="hljs-operator">=</span> (elapsedNanos * refillRate) / <span class="hljs-number">1_000_000_000L</span>;
    tokens = Math.min(capacity, tokens + newTokens);
    lastRefillTime = now;
}
</code></pre>
<h4 data-id="heading-14">2. å“åº”åŒ…è£…å™¨</h4>
<p>HttpServletResponseWrapper æ˜¯ Servlet è§„èŒƒæä¾›çš„å“åº”åŒ…è£…åŸºç±»ï¼Œé€šè¿‡è¦†ç›– <code>getOutputStream()</code> æ–¹æ³•è¿”å›è‡ªå®šä¹‰çš„é™é€Ÿè¾“å‡ºæµã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BandwidthLimitResponseWrapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServletResponseWrapper</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> TokenBucket sharedTokenBucket;  <span class="hljs-comment">// å…±äº«çš„ä»¤ç‰Œæ¡¶</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> ServletOutputStream <span class="hljs-title function_">getOutputStream</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-keyword">if</span> (limitedOutputStream == <span class="hljs-literal">null</span> &amp;&amp; sharedTokenBucket != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// ä½¿ç”¨å…±äº« TokenBucketï¼Œç¡®ä¿å¤šç»´åº¦ç»Ÿè®¡æ­£ç¡®</span>
            limitedOutputStream = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RateLimitedOutputStream</span>(
                <span class="hljs-built_in">super</span>.getOutputStream(),
                sharedTokenBucket,
                bandwidthBytesPerSecond
            );
        }
        <span class="hljs-keyword">return</span> limitedOutputStream;
    }
}
</code></pre>
<h4 data-id="heading-15">3. æ‹¦æˆªå™¨è·å–åŒ…è£…å“åº”</h4>
<p>æ‹¦æˆªå™¨åœ¨ <code>preHandle</code> ä¸­åˆ›å»ºå“åº”åŒ…è£…å™¨ï¼Œå­˜å‚¨åˆ° request attributeï¼ŒController é€šè¿‡ <code>BandwidthLimitHelper</code> è·å–ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> {
    <span class="hljs-type">BandwidthLimit</span> <span class="hljs-variable">annotation</span> <span class="hljs-operator">=</span> findAnnotation(handler);
    <span class="hljs-keyword">if</span> (annotation != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// ä» Manager è·å–å…±äº« TokenBucket</span>
        <span class="hljs-type">TokenBucket</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> limitManager.getBucket(type, key, capacity, rate);

        <span class="hljs-comment">// åˆ›å»ºåŒ…è£…å™¨å¹¶å­˜å‚¨</span>
        <span class="hljs-type">BandwidthLimitResponseWrapper</span> <span class="hljs-variable">wrappedResponse</span> <span class="hljs-operator">=</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">BandwidthLimitResponseWrapper</span>(response, bucket, bandwidthBytesPerSecond, chunkSize);
        request.setAttribute(<span class="hljs-string">"BandwidthLimitWrappedResponse"</span>, wrappedResponse);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-16">4. Controller è·å–é™é€Ÿå“åº”</h4>
<p>Controller é€šè¿‡ <code>BandwidthLimitHelper.getLimitedResponse()</code> è·å–åŒ…è£…åçš„å“åº”ï¼Œæ‰€æœ‰å†™å…¥æ“ä½œéƒ½ä¼šè‡ªåŠ¨é™é€Ÿã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@GetMapping("/download/global")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">downloadGlobal</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
    <span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">limitedResponse</span> <span class="hljs-operator">=</span> BandwidthLimitHelper.getLimitedResponse(request, response);

    limitedResponse.setContentType(<span class="hljs-string">"application/octet-stream"</span>);
    limitedResponse.setHeader(<span class="hljs-string">"Content-Disposition"</span>, <span class="hljs-string">"attachment; filename=test.bin"</span>);

    <span class="hljs-comment">// å†™å…¥æ•°æ®æ—¶è‡ªåŠ¨é™é€Ÿ</span>
    limitedResponse.getOutputStream().write(data);
}
</code></pre>
<h2 data-id="heading-17">å‚æ•°è°ƒä¼˜æŒ‡å—</h2>
<h4 data-id="heading-18">æ¡¶å®¹é‡é€‰æ‹©</h4>
<p>å®¹é‡å†³å®šçªå‘æµé‡æ‰¿å—èƒ½åŠ›ï¼š</p>

























<table><thead><tr><th>å®¹é‡è®¾ç½®</th><th>çªå‘èƒ½åŠ›</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>é€Ÿç‡ Ã— 0.5</td><td>å¹³æ»‘ï¼Œæ— çªå‘</td><td>æµé‡æ§åˆ¶ä¸¥æ ¼çš„åœºæ™¯</td></tr><tr><td>é€Ÿç‡ Ã— 1.0</td><td>å…è®¸ 1 ç§’çªå‘</td><td>é»˜è®¤æ¨èå€¼</td></tr><tr><td>é€Ÿç‡ Ã— 2.0</td><td>å…è®¸ 2 ç§’çªå‘</td><td>éœ€è¦è‰¯å¥½é¦–å±åŠ è½½</td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ³¨è§£é…ç½®</span>
<span class="hljs-meta">@BandwidthLimit(value = 200, unit = BandwidthUnit.KB, capacityMultiplier = 1.0)</span>
</code></pre>
<h4 data-id="heading-19">åˆ†å—å¤§å°é€‰æ‹©</h4>
<p>åˆ†å—å¤§å°å½±å“æµé‡å¹³æ»‘åº¦ï¼Œç»éªŒå…¬å¼ï¼š<code>chunkSize = bandwidth / 50</code></p>

























<table><thead><tr><th>å¸¦å®½</th><th>æ¨èåˆ†å—</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>200 KB/s</td><td>1-4 KB</td><td>å°åˆ†å—ä¿è¯å¹³æ»‘</td></tr><tr><td>1 MB/s</td><td>4-8 KB</td><td>å¹³è¡¡å¹³æ»‘ä¸æ€§èƒ½</td></tr><tr><td>5 MB/s+</td><td>8-16 KB</td><td>å‡å°‘ç³»ç»Ÿè°ƒç”¨å¼€é”€</td></tr></tbody></table>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªåŠ¨è®¡ç®—ï¼ˆæ¨èï¼‰</span>
<span class="hljs-meta">@BandwidthLimit(value = 200, unit = BandwidthUnit.KB, chunkSize = -1)</span>

<span class="hljs-comment">// æ‰‹åŠ¨æŒ‡å®š</span>
<span class="hljs-meta">@BandwidthLimit(value = 200, unit = BandwidthUnit.KB, chunkSize = 4096)</span>
</code></pre>
<h2 data-id="heading-20">æ€»ç»“</h2>
<p>æœ¬æ–‡åŸºäºä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œé€šè¿‡ HandlerInterceptor + HttpServletResponseWrapperï¼Œåœ¨ Spring Boot ä¸­å®ç°äº†å¤šç»´åº¦å¸¦å®½é™é€Ÿã€‚æ”¯æŒå…¨å±€/API/ç”¨æˆ·/IP å››ç§é™é€Ÿç»´åº¦ï¼Œæä¾›å®æ—¶ç»Ÿè®¡ç›‘æ§ï¼Œé€‚ç”¨äºAPIæ¥å£ä¿æŠ¤ã€æ–‡ä»¶ä¸‹è½½ã€è§†é¢‘æµç­‰åœºæ™¯ã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/yuboon</span><span class="hljs-regexp">/java-examples/tree</span><span class="hljs-regexp">/master/springboot</span>-netspeed-limit
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯2025å¹´ç»ˆæ€»ç»“ï¼šå€Ÿç€AIåšå¤§åšå¼ºå†åˆ›è¾‰ç…Œ]]></title>    <link>https://juejin.cn/post/7593358143692374079</link>    <guid>https://juejin.cn/post/7593358143692374079</guid>    <pubDate>2026-01-12T00:39:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593358143692374079" data-draft-id="7576483553879392282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯2025å¹´ç»ˆæ€»ç»“ï¼šå€Ÿç€AIåšå¤§åšå¼ºå†åˆ›è¾‰ç…Œ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-12T00:39:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹å¤šå¤š"/> <meta itemprop="url" content="https://juejin.cn/user/747323639737191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯2025å¹´ç»ˆæ€»ç»“ï¼šå€Ÿç€AIåšå¤§åšå¼ºå†åˆ›è¾‰ç…Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/747323639737191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹å¤šå¤š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:39:21.000Z" title="Mon Jan 12 2026 00:39:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><p>ä¸€çœ¨çœ¼åˆåˆ°å¹´æœ«ï¼Œä¹Ÿæ˜¯æˆ‘å¹²å‰ç«¯çš„ç¬¬7ä¸ªå¹´å¤´äº†ï¼Œèµ¶ä¸Šæ˜é‡‘çš„æ´»åŠ¨ï¼Œä¹Ÿæ˜¯æˆ‘çš„ä¸€ä¸ªç¢ç¢å¿µï¼Œé‚£å°±å†™ä¸ªå¹´ç»ˆæ€»ç»“å§ã€‚</p>
<h2 data-id="heading-0">1. æˆ‘çš„èŒä¸šç”Ÿæ¶¯</h2>
<p>æƒ³æƒ³æˆ‘ä¹Ÿæ˜¯å¾ˆå¹¸è¿çš„ï¼Œå…¥è¡Œçš„æ—¶å€™ITè¡Œä¸šå¦‚æ—¥ä¸­å¤©ï¼Œä¸è´¹åŠ›å°±æ‰¾äº†ä¸ª6Kçš„å·¥ä½œï¼Œåˆšè¿›å»å•¥ä¹Ÿä¸ä¼šï¼Œä»æœ€å¼€å§‹å†™jsRenderï¼ŒJQueryï¼Œåˆ°åæ¥ç–«æƒ…å°åœ¨å®¶é‡Œ2ä¸ªæœˆï¼Œçœ‹Bç«™è§†é¢‘è¾¹å­¦è¾¹æ•²demoå­¦äº†Vue2ï¼Œè§£å°åå…¬å¸å®äº†ï¼Œå…¥èŒäº†æ–°å…¬å¸é™†é™†ç»­ç»­åšäº†å‡ ä¸ªVueåå°é¡¹ç›®å’ŒH5ï¼Œå†åæ¥ï¼Œçœ‹æ–‡æ¡£æ•™ç¨‹ç”¨uniappå†™å°ç¨‹åºï¼Œç¬¬ä¸€ä¸ªè‡ªå·±å†™çš„å°ç¨‹åºä¸Šçº¿çš„æ—¶å€™è¿˜æ˜¯æŒºå¼€å¿ƒçš„ã€‚</p>
<p>åæ¥å«Œæ­¦æ±‰å·¥èµ„å¤ªä½äº†ï¼Œè·‘å»äº†æ·±åœ³ï¼Œé‚£æ—¶å€™è¡Œæƒ…çœŸçš„å¥½ï¼Œéšä¾¿ä¸€æ‰¾å°±æ˜¯åå‡ Kï¼Œå…‰é€Ÿå…¥èŒäº†ä¸€ä¸ªä¸­å°å‹å…¬å¸ï¼Œä¸å†æ˜¯å°ä½œåŠäº†ï¼Œæœ‰äº†å°å›¢é˜Ÿï¼Œç”šè‡³è¿˜æœ‰1~2å‘¨ä¸€æ¬¡çš„æŠ€æœ¯äº¤æµä¼šã€‚åæ¥Vue3æ­£å¼ç‰ˆæ¥äº†ï¼Œä¹Ÿå¼€å§‹å­¦Vue3åšæ–°é¡¹ç›®ï¼Œå­¦çš„è¿‡ç¨‹ä¸­è¿˜å†™äº†ä¸€ç‚¹åšå®¢ï¼Œä¹Ÿç®—å…¥äº†ä¸ªé—¨ã€‚</p>
<p>å†åæ¥ï¼Œç”Ÿæ´»åŸå› ï¼Œèµ¶åœ¨æ·±åœ³ç–«æƒ…å°åŸå‰ä¸€æ™šï¼Œåé£æœºåˆå›æ¥äº†æ­¦æ±‰ï¼Œæ— ç¼è¡”æ¥å…¥èŒäº†ä¸€å®¶å…¬å¸ï¼Œè™½ç„¶å°±æˆ‘ä¸€ä¸ªå‰ç«¯ï¼Œä½†æ˜¯æ°›å›´è¿˜å¯ä»¥ï¼Œä»0åˆ°1å¹²äº†å‡ ä¸ªé¡¹ç›®ï¼Œç»“æœç–«æƒ…ååå¤å¤ï¼Œæ­¦æ±‰å°åŸï¼Œåæ¥å…¬å¸ä¹Ÿè£å‘˜äº†2æ¬¡ï¼Œå¹¸è¿çš„æˆ‘é€ƒè¿‡2åŠ«ï¼ŒåšæŒåˆ°åº•äº†ã€‚</p>
<p>ä¸­é—´æäº†Nuxt.jsï¼Œè¿˜å…¼èŒæ”¹äº†ä¸€é˜µå­å®‰å“Kotlinçš„bugï¼Œå†åæ¥ï¼Œä¸æVueäº†ï¼Œæ–°é¡¹ç›®è€å¤§è¦æ±‚æ¢æˆReactï¼Œæˆ‘ä¸´é˜µç£¨æªå¼€å§‹å­¦React 18ï¼Œçœ‹äº†ä¼šæ•™ç¨‹ç›´æ¥è¾¹å­¦è¾¹å¹²ï¼Œç›´åˆ°é¡¹ç›®ä¸Šçº¿ï¼Œåé¢æ…¢æ…¢ä¼˜åŒ–ï¼Œä¹Ÿç®—æ˜¯å…¥é—¨äº†ã€‚é¡¹ç›®ç¨³å®šåï¼Œè€å¤§è¯´ï¼ŒæAppå§ï¼Œå¾—ï¼Œäºæ˜¯åˆå¼€å§‹å­¦Flutterï¼Œé…ç¯å¢ƒï¼Œå†™Demoï¼Œæ­æ¡†æ¶é‚£å«ä¸€ä¸ªéº»çƒ¦ï¼Œç£•ç£•ç»Šç»Šè¿˜æ˜¯ä¸Šçº¿äº†ï¼Œåé¢å°±è·Ÿæ¯é¸¡ä¸‹å´½ä¸€æ ·ï¼Œä¸Šçº¿äº†å¥½å‡ ä¸ªAPPã€‚è‡³æ­¤ï¼Œå‰ç«¯é¢†åŸŸé™¤äº†nodeJSã€Web3ã€GISé¡¹ç›®æ²¡å¹²è¿‡ï¼ŒåŸºæœ¬éƒ½è¯•è¿‡æ°´äº†ã€‚</p>
<h2 data-id="heading-1">2. æ¨ªç©ºå‡ºä¸–çš„AI</h2>
<p>2022 å¹´ 11 æœˆ 30 æ—¥ï¼ŒOpenAI æ­£å¼å‘å¸ƒ ChatGPTï¼Œå‘å¸ƒ 5 å¤©åç”¨æˆ·æ•°çªç ´ 100 ä¸‡ï¼Œ12 æœˆèµ·åœ¨æŠ€æœ¯åœˆå’Œç¤¾äº¤åª’ä½“å¿«é€Ÿä¼ æ’­ï¼Œæˆä¸ºçƒ­è®®è¯é¢˜ã€‚</p>
<p>ChatGPT å‘å¸ƒåˆæœŸå°±å…·å¤‡åŸºç¡€ä»£ç ç”Ÿæˆã€è§£é‡Šå’Œè°ƒè¯•èƒ½åŠ›ï¼Œç½‘ä¸Šå¾ˆå¤šå¼€å‘è€…åœ¨å°è¯•ï¼Œ2023 å¹´ 3 æœˆ GPT - 4 å‘å¸ƒï¼Œä»£ç ç”Ÿæˆã€ç†è§£å’Œè°ƒè¯•èƒ½åŠ›å¤§å¹…æå‡ã€‚</p>
<p>æˆ‘åˆšå¼€å§‹è¿˜æŒºæ–°å¥‡çš„ï¼Œåªæ˜¯è·Ÿä»–èŠå¤©ï¼Œè¿˜ä¸çŸ¥é“ä»–æœ‰å•¥ä½œç”¨ï¼Œåæ¥çœ‹åˆ°ç½‘ä¸Šæœ‰äººç”¨å®ƒå­¦è‹±è¯­ï¼Œå­¦å„ç§ç¼–ç¨‹è¯­è¨€å’ŒæŠ€æœ¯ï¼Œäºæ˜¯æˆ‘ä¹Ÿè¯•ç€ç”¨äº†ä¸€ä¸‹ï¼Œéœ‡æƒŠåˆ°æˆ‘äº†ï¼Œå§æ§½ï¼Œé‚£æ—¶å€™æˆ‘åˆšå…¼èŒæ”¹äº†ä¸€é˜µå­å®‰å“Kotlinçš„bugï¼Œä¸€äº›é—®é¢˜å®Œå…¨ä¸ä¼šï¼Œä¸¢ç»™GPTå±…ç„¶èƒ½ç»™æˆ‘ä¿®å¤ä¸ªä¸ƒä¸ƒå…«å…«ï¼Œæˆ‘æ„Ÿè§‰å®ƒå®Œå…¨å°±æ˜¯ä¸€ä¸ªæ— æ€¨æ— æ‚”ä¸è¦å·¥èµ„çš„åŠ©æ‰‹ï¼Œéšæ—¶ç»™æˆ‘å¸®åŠ©å’Œæ•™å¯¼ã€‚</p>
<p>åæ¥ï¼Œå›½äº§AIä¹Ÿé™†ç»­å‡ºç°ï¼Œæˆ‘ç”¨è¿‡VS Codeé‡Œçš„æ’ä»¶ï¼Œæ„Ÿè§‰å†™äº†ä¸€æ®µä»£ç æˆ–è€…æ˜¯æ³¨é‡Šä¹‹åï¼Œè‡ªåŠ¨å‡ºç°ä¸‹ä¸€è¡Œæ¯”è¾ƒçƒ¦ï¼Œæœ‰æ—¶å€™æˆ‘æƒ³è¦å®ƒå‡ºç°ï¼Œç»“æœå¡å¡çš„ï¼Œæœ‰æ—¶å€™æˆ‘ä¸æƒ³è¦ï¼Œå®ƒç»™æˆ‘ç–¯ç‹‚æç¤ºã€‚åæ¥æˆ‘è¿˜æ˜¯æ¢æˆäº†åœ¨æµè§ˆå™¨é‡Œé—®åŒä¹‰çµç å’ŒGPTè¿™ç§æ–¹å¼ã€‚</p>
<p>å†åæ¥ï¼ŒCursorå½»åº•ç«äº†ï¼Œæˆ‘è¯•ç”¨äº†ä¸€ä¸‹ï¼Œåˆšå¼€å§‹æ„Ÿè§‰è·ŸVS Codeé‡ŒåŠ ä¸ªAIæ’ä»¶æ²¡å•¥åŒºåˆ«ï¼Œæ‰€ä»¥å°±å¼ƒç”¨äº†ã€‚å†åæ¥æ›´æ–°äº†ï¼Œå®ƒå¯ä»¥è¯»å–ä»£ç æ–‡ä»¶ï¼Œä¸Šä¸‹æ–‡æ›´é•¿ï¼Œæœ‰æ—¶å€™åªéœ€è¦æˆ‘è¯´ä¸€æ®µè¯æè¿°éœ€æ±‚ï¼Œå®ƒå°±ç»™æˆ‘å®Œæˆäº†80%äº†ï¼Œå°±ç®—æˆ‘ä¸éœ€è¦å®ƒç»™æˆ‘å†™ä¸šåŠ¡ä»£ç ï¼Œæˆ‘ä¹Ÿå¯ä»¥è®©ä»–åšä¸€äº›è„æ´»ç´¯æ´»ï¼Œæ¯”å¦‚ç”Ÿæˆä¸€äº›éº»çƒ¦çš„æ•°æ®ï¼ŒTSç±»å‹ï¼Œå›½é™…åŒ–çš„jsonç­‰ç­‰...ï¼Œä½†æ˜¯å®ƒå¤ªè´µäº†ï¼Œè¯•ç”¨æœŸè¿‡äº†ï¼Œæˆ‘å°±æ²¡ç”¨äº†ã€‚</p>
<p>å†åæ¥ï¼Œå›½äº§AIç¼–è¾‘å™¨ï¼ŒTraeä¹Ÿå‡ºç°äº†ï¼Œæ›´ä¾¿å®œçš„ä»·æ ¼ï¼Œæ•ˆæœä¹Ÿèƒ½è¾¾åˆ°æˆ‘çš„é¢„æœŸï¼Œåœ¨è¯•ç”¨æœŸè¿‡å®Œï¼Œæˆ‘æœæ–­è®¢é˜…äº†ä¼šå‘˜ï¼Œç»™æˆ‘çš„å·¥ä½œå¸¦æ¥äº†å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>
<h2 data-id="heading-2">3. è°ˆè°ˆâ€œå‰ç«¯å·²æ­»ï¼Ÿâ€</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b60359c43f7c48bb9c24db9d34f3f3c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP5aSa5aSa:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783161&amp;x-signature=vD2z3yC1nYL3pOCSErhzRg8YSwc%3D" alt="image_1768143083462.jpg" loading="lazy"/></p>
<p>è‡ªä»22å¹´åº•ï¼ŒAIå‡ºç°åï¼ŒæŠ€æœ¯åœˆä¸Šå……æ–¥ç€â€œå‰ç«¯å·²æ­»â€çš„å£°éŸ³ã€‚ä»€ä¹ˆAIå¯ä»¥å†™å‰ç«¯é¡µé¢å•¦ï¼Œäº§å“ç›´æ¥è®©AIåšï¼Œå»æ‰ä¸­é—´ç¯èŠ‚ã€‚å‰ç«¯å²—ä½æ²¡å•¦ã€‚</p>
<p>å›ºç„¶ï¼ŒAIæ˜¯å¯ä»¥æ›¿ä»£ä¸€éƒ¨åˆ†å‰ç«¯çš„å·¥ä½œï¼Œä¸€äº›ç®€å•çš„é¡µé¢ï¼Œä¸å¤ªå¤æ‚çš„åå°ç³»ç»Ÿï¼Œéƒ½å¯ä»¥è®©AIå¹²ï¼Œä½†æ˜¯ï¼Œè¿™é‡Œæˆ‘åˆ—ä¸€äº›ç¼ºç‚¹å’Œä¼˜ç‚¹ï¼Œæœ€åä¼šæ”¾ä¸Šä¸€äº›æ€è€ƒï¼Œä¹Ÿæ¬¢è¿å¤§å®¶è¡¥å……ã€‚</p>
<h3 data-id="heading-3">ç¼ºç‚¹</h3>
<ol>
<li>
<p>ç°åœ¨çš„åº”ç”¨å’Œç½‘é¡µï¼Œè¶Šæ¥è¶Šå¤æ‚äº†ï¼Œæ—©å·²ä¸æ˜¯ç®€å•çš„å¢åˆ æ”¹æŸ¥ï¼Œé€šå¸¸æ¶‰åŠå¤§é‡çš„ä¸ªæ€§åŒ–è®¾ç½®ï¼Œä¸€äº›ç¦»è°±çš„éœ€æ±‚å’Œäº¤äº’ï¼Œæœ‰äº›éœ€æ±‚ï¼Œè¿äº§å“éƒ½è¦æ¢³ç†åŠå¤©ï¼Œä½ è®©äº§å“ç›´æ¥ç”¨AIåšå‡ºæ¥æˆå“ï¼Œéš¾åº¦è¿˜æ˜¯å¾ˆå¤§çš„ã€‚</p>
</li>
<li>
<p>ä¸åŒäºä¸ªäººé¡¹ç›®ï¼Œå…¬å¸çš„é¡¹ç›®éƒ½æ˜¯æœ‰ä¸€ä¸ªè¿­ä»£çš„ï¼ŒAIå†™çš„ä»£ç ï¼Œåœ¨è§„èŒƒæ€§å’Œåˆç†æ€§ä¸Šï¼Œè¿˜æ˜¯ä¼šæœ‰ä¸€äº›çŸ­æ¿å’Œç¼ºé™·ï¼Œæœ¬æ¥é¡¹ç›®å¤§äº†å°±å®¹æ˜“æˆå±å±±ï¼Œè®©AIæï¼Œç°åœ¨è¿˜æ˜¯å·®ç‚¹ç«å€™ã€‚</p>
</li>
<li>
<p>æˆ‘ç”¨AIå†™å‡ºå‰ç«¯ä»£ç ï¼Œå°±ç®—å¾ˆå¤æ‚ï¼Œæˆ‘å¤§æ¦‚ä¹Ÿèƒ½è¯»å¾—æ‡‚çš„ï¼Œå› ä¸ºæˆ‘æ˜¯åšå‰ç«¯çš„ï¼Œæˆ‘æœ‰ç»éªŒã€‚ä½†æ˜¯ï¼Œä½ è®©ä¸€ä¸ªä¸æ‡‚çš„ï¼Œæˆ–è€…ç»éªŒå°‘çš„äººå‘˜ä½¿ç”¨AIåšå¤æ‚é¡¹ç›®ï¼Œé‚£ç¿»è½¦çš„å‡ ç‡è¿˜æ˜¯æœ‰ç‚¹å¤§çš„ã€‚</p>
</li>
<li>
<p>ç°åœ¨AIåœ¨å¤šæ–‡ä»¶ä¹‹é—´è¿˜æ˜¯æœ‰å¾ˆå¤§é—®é¢˜ï¼Œä¸Šä¸‹æ–‡ä¸€å¤šï¼Œæ¯”å¦‚åä¸ªæ–‡ä»¶æ‰€å…³è”çš„ï¼Œç»å¸¸å‡ºç°å¿˜è®°äº†çš„æƒ…å†µã€‚æˆ–è€…ä½ è®©å®ƒæ”¹Aï¼Œå®ƒé¡ºä¾¿åŠ¨äº†Bçš„æƒ…å†µï¼Œè®©äººå¾ˆå´©æºƒã€‚</p>
</li>
<li>
<p>ç”¨å¤šäº†AIï¼ŒçœŸçš„ä¼šå½±å“ä½ çš„ä»£ç æ°´å¹³ï¼Œä¸ç”¨AIè‡ªå·±éƒ½ä¸ä¼šå†™äº†......</p>
</li>
</ol>
<h3 data-id="heading-4">ä¼˜ç‚¹</h3>
<ol>
<li>è‡ªä»æœ‰äº†AIï¼Œå·¥ä½œæ•ˆç‡èµ·ç æé«˜äº†50%ï¼Œæœ‰é—®é¢˜å†ä¹Ÿä¸ç”¨ä¸Šç™¾åº¦è°·æ­ŒGitHub,Stack Overflowåˆ°å¤„æ‰¾äº†ã€‚</li>
<li>æœ‰äº†AIï¼Œä½ åªéœ€è¦è´Ÿè´£è¾“å‡ºéœ€æ±‚ï¼Œåªè¦ä½ æè¿°çš„å¤Ÿæ¸…æ™°ï¼Œé‚£ä¹ˆä½ çœŸçš„å¯ä»¥ä¸å†™ä»£ç ï¼Œå…‰å®¡æŸ¥ä»£ç å°±å¤Ÿäº†ã€‚</li>
<li>ä»¥å‰ï¼Œä½ å¯èƒ½åªä¼šVueï¼Œå¦‚æœéœ€è¦å†™Reactï¼Œä½ å¯èƒ½éœ€è¦çœ‹æ–‡æ¡£ï¼Œçœ‹æ•™å­¦è§†é¢‘ï¼Œå†™å‡ ä¸ªdemoï¼Œæ‰èƒ½å¼€å§‹åšé¡¹ç›®ï¼Œä½†æ˜¯ç°åœ¨ï¼Œä»»ä½•æŠ€æœ¯æ ˆï¼ŒAIéƒ½å¯ä»¥è¾…åŠ©ä½ å¿«é€Ÿçš„æŒæ¡ï¼ŒçœŸçš„å¾ˆç‰›ã€‚</li>
<li>AIå‘å±•è¿…é€Ÿï¼Œä»é—®ç­”å¼AIï¼Œåˆ°VS Codeæ’ä»¶ï¼Œå†åˆ°Cursorå’ŒTraeï¼Œç›¸ä¿¡æœªæ¥è¿˜ä¼šæ›´å¼ºã€‚</li>
</ol>
<p>è®²å®Œä¸€äº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œå¯¹äºâ€œå‰ç«¯å·²æ­»â€è¿™ä¸ªè¯´æ³•ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯æ˜¯ä¸æ­»çš„ï¼Œæ­»å»çš„åªä¼šæ˜¯å¢¨å®ˆæˆè§„ï¼ŒåŸåœ°è¸æ­¥çš„å‰ç«¯ã€‚å› ä¸ºå·¥ä½œæ•ˆç‡å˜é«˜äº†ï¼Œä¸å¯é¿å…ä¸€äº›å²—ä½ä¼šè¢«å‹ç¼©ï¼Œä½†æ˜¯ï¼Œæ²¡æœ‰ä»€ä¹ˆå²—ä½ä¼šä¸€ç›´æ˜¯é¦™é¥½é¥½ï¼Œæˆ‘ä»¬åªèƒ½è¿æ¥å˜åŒ–ï¼Œé¢å¯¹æŒ‘æˆ˜ã€‚è€Œæ›´æ–°ï¼Œæ›´å…¨èƒ½ï¼ŒæŠ€æœ¯é¢æ›´å¹¿çš„å‰ç«¯ï¼Œä¹Ÿè®¸æ­£åœ¨èœ•å˜ä¸­ã€‚ä»¥å‰å¯èƒ½åªæ˜¯å†™ç½‘é¡µï¼Œå†™åå°ï¼Œå†™å°ç¨‹åºã€‚ä»¥åï¼Œæœ‰AIèµ‹èƒ½ï¼Œå¯ä»¥ä¼šçš„æ›´å¤šäº†ï¼Œè¯•è¯•å®¢æˆ·ç«¯ï¼ŒPCç«¯ï¼Œç”šè‡³æ˜¯è®¾è®¡ï¼Œäº§å“å’Œåç«¯ï¼Œæœ‰äº†AIåŠ©æ‰‹ï¼Œéƒ½å¯ä»¥å°è¯•ã€‚</p>
<h2 data-id="heading-5">4. æœªæ¥å±•æœ›</h2>
<p>è¯´èµ·æœªæ¥ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘èƒ½åœ¨å‰ç«¯è¿™ä¸ªå²—ä½åšæŒå¤šä¹…ï¼Œå½“åˆåšè¿™è¡Œï¼Œä¹Ÿæ˜¯å› ä¸ºæˆ‘è§‰å¾—å‰ç«¯å¾ˆç¥å¥‡ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥å±•ç¤ºå‡ºå„ç§ç½‘é¡µå’Œæ ·å¼ï¼Œæ‰€å†™å³æ‰€å¾—ï¼Œç«‹é©¬å‡ºç°äº†æ•ˆæœï¼Œå¾ˆæœ‰æˆå°±æ„Ÿã€‚è€Œä¸”å½“åˆå²—ä½å·¥èµ„æ¯”èµ·åˆ«çš„å²—ä½ï¼ŒçœŸçš„æŒºå¤šçš„ã€‚</p>
<p>ä½†æ˜¯å·¥ä½œä¹…äº†ï¼Œå¿ƒæ€å°±å˜äº†ï¼Œæˆ‘å‘ç°çº¯åšæŠ€æœ¯å¾ˆéš¾æœ‰å‡ºè·¯ï¼Œè€Œä¸”æ¯”æˆ‘ç‰›çš„äººå¤ªå¤šäº†ï¼Œæˆ‘è¿å¤§å‚éƒ½æ²¡è¿›è¿‡ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½æ‹¿å¾—å‡ºæ‰‹çš„å¼€æºæŠ€æœ¯å’Œé¡¹ç›®ã€‚æˆ‘ä¸æ˜¯é‚£ç§çƒ­çˆ±æŠ€æœ¯é’»ç ”æŠ€æœ¯çš„äººï¼Œç°åœ¨ï¼Œä¹Ÿæ²¡æœ‰å½“å¹´é‚£ç§ä¸‹ç­äº†è¿˜å›å®¶å†™ä»£ç åšå°ç©æ„çš„æ¿€æƒ…äº†ã€‚æˆ‘ä¹Ÿæ¯”è¾ƒå†…å‘ï¼Œå½“åˆè¯»ä¹¦çš„æ—¶å€™ï¼Œä½“éªŒè¿‡åšé”€å”®ï¼Œé‚£å«ä¸€ä¸ªéš¾å—ã€‚æ‰€ä»¥é‚£æ—¶å€™æˆ‘å°±çŸ¥é“ï¼Œæˆ‘è¿˜æ˜¯åšæŠ€æœ¯å²—æ¯”è¾ƒå¥½ï¼Œä¸éœ€è¦é‚£ä¹ˆå¤–å‘ï¼Œè¯´é‚£ä¹ˆå¤šè¯ï¼Œè¿˜æŒºå¥½ã€‚</p>
<p>æˆ‘å¯¹æœªæ¥çš„å±•æœ›å°±æ˜¯ï¼ŒåšæŒå·¥ä½œï¼Œæ¢ç´¢æ›´å¤šå‰ç«¯çš„å¯èƒ½æ€§ï¼ˆæ„Ÿè§‰æœ‰äº†AIæˆ‘å­¦å•¥æŠ€æœ¯æ ˆéƒ½ä¸æ‹…å¿ƒäº†ï¼‰ï¼Œç›´åˆ°æˆ‘è¢«è£ï¼Œç›´è‡³æ‰¾ä¸åˆ°å·¥ä½œä¸ºæ­¢ã€‚åœ¨ç”Ÿæ´»ä¸­ï¼Œé”»ç‚¼èº«ä½“ï¼Œæˆ‘ä¹Ÿå‡†å¤‡åšä¸€äº›å°é¡¹ç›®ï¼Œæ­£åœ¨ç§¯æ”’ç‚¹å­ã€‚å…¶ä»–çš„æˆ‘ä¹Ÿæ²¡æƒ³å¥½ï¼Œç®¡ä»–çš„ï¼Œæƒ³é‚£ä¹ˆå¤šå¹²ä»€ä¹ˆã€‚</p>
<hr/>
<blockquote>
<p>æœ¬æ¬¡åˆ†äº«å°±åˆ°è¿™å„¿å•¦ï¼Œæˆ‘æ˜¯é¹å¤šå¤šï¼Œæ·±è€•å‰ç«¯çš„æŠ€æœ¯åˆ›ä½œè€…ï¼Œå¦‚æœæ‚¨çœ‹äº†è§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿è¯„è®ºï¼Œå…³æ³¨ï¼Œç‚¹èµï¼Œè½¬å‘ï¼Œæˆ‘ä»¬ä¸‹æ¬¡è§~</p>
</blockquote>
<p>PSï¼šåœ¨æœ¬é¡µæŒ‰F12ï¼Œåœ¨consoleä¸­è¾“å…¥document.getElementsByClassName('panel-btn')[0].click();æœ‰æƒŠå–œå“¦~</p>
<p><code>å¾€æœŸæ–‡ç« </code></p>
<ul>
<li><a href="https://juejin.cn/post/7568192652286754870" target="_blank" title="https://juejin.cn/post/7568192652286754870">çº¯å‰ç«¯æå–å›¾ç‰‡é¢œè‰²æ’ä»¶Color-Thiefæ•™å­¦+å®æˆ˜å®Œæ•´æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7565737512816771135" target="_blank" title="https://juejin.cn/post/7565737512816771135">react-konvaå®æˆ˜æŒ‡å—ï¼šCanvasé«˜æ€§èƒ½+æ˜“ç»´æŠ¤çš„ç»„ä»¶åŒ–å›¾å½¢å¼€å‘å®ç°æ•™ç¨‹</a></li>
<li><a href="https://juejin.cn/post/7560905838074462271" target="_blank" title="https://juejin.cn/post/7560905838074462271">Reactæ— é™æ»šåŠ¨æ’ä»¶react-infinite-scroll-componentçš„é…ç½®+ä¼˜åŒ–+é¿å‘æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7560542615484137491" target="_blank" title="https://juejin.cn/post/7560542615484137491">å‰ç«¯éŸ³é¢‘å…¼å®¹è§£å†³ï¼šéŸ³é¢‘ç¥å™¨howler.jsä»åŸºç¡€åˆ°è¿›é˜¶å®Œæ•´ä½¿ç”¨æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7559871680015024169" target="_blank" title="https://juejin.cn/post/7559871680015024169">ä½¿ç”¨React-OAuthè¿›è¡ŒGoogle/GitHubç™»å½•çš„æ•™ç¨‹å’Œæ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7550585427834404927" target="_blank" title="https://juejin.cn/post/7550585427834404927">çº¯å‰ç«¯äººè„¸è¯†åˆ«åˆ©å™¨ï¼šface-api.jsæ‰‹æŠŠæ‰‹æ·±å…¥è§£ææ•™å­¦</a></li>
<li><a href="https://juejin.cn/post/7553865490732433462" target="_blank" title="https://juejin.cn/post/7553865490732433462">å…³äºReactçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶æ–¹æ³•forwardRefçš„è¯¦è§£å’Œæ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7553484874609410074" target="_blank" title="https://juejin.cn/post/7553484874609410074">Reactè·¨ç»„ä»¶æ•°æ®å…±äº«useContextè¯¦è§£å’Œæ¡ˆä¾‹</a></li>
<li><a href="https://juejin.cn/post/7545087762837815334" target="_blank" title="https://juejin.cn/post/7545087762837815334">Webå›¾åƒç¼–è¾‘ç¥å™¨tui.image-editorä»åŸºç¡€åˆ°è¿›é˜¶çš„å®æˆ˜æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7544323659788288046" target="_blank" title="https://juejin.cn/post/7544323659788288046">å¼€å‘ä¸ªäººå¾®ä¿¡å°ç¨‹åºç±»ç›®é€‰æ‹©/ç›ˆåˆ©æ–¹å¼/æˆæœ¬æ§åˆ¶ä¸æœåŠ¡å™¨æ¥å…¥æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7541741121400864778" target="_blank" title="https://juejin.cn/post/7541741121400864778">å‰ç«¯å›¾ç‰‡è£å‰ªCropper.jsæ ¸å¿ƒåŠŸèƒ½ä¸å®æˆ˜æŠ€å·§è¯¦è§£</a></li>
<li><a href="https://juejin.cn/post/7536530451461472265" target="_blank" title="https://juejin.cn/post/7536530451461472265">ç¼–è¾‘å™¨ä¹Ÿæœ‰é‚ªä¿®ï¼Ÿç›˜ç‚¹VS Codeé‚ªé—¨/æœ‰è¶£çš„æ‰©å±•</a></li>
<li><a href="https://juejin.cn/post/7535005018257981466" target="_blank" title="https://juejin.cn/post/7535005018257981466">jsä½¿ç”¨IntersectionObserverå®ç°ç›®æ ‡å…ƒç´ å¯è§åº¦çš„äº¤äº’</a></li>
<li><a href="https://juejin.cn/post/7534547200330121225" target="_blank" title="https://juejin.cn/post/7534547200330121225">Webå‰ç«¯é¡µé¢å¼€å‘é˜¿æ‹‰ä¼¯è¯­ç§é€‚é…æŒ‡å—</a></li>
<li><a href="https://juejin.cn/post/7516122409948020736" target="_blank" title="https://juejin.cn/post/7516122409948020736">è®©ç½‘é¡µæ‹¥æœ‰Appä½“éªŒï¼ŸPWA å°†ç½‘é¡µå˜ä¸ºæ¡Œé¢åº”ç”¨çš„ä¿å§†çº§æ•™ç¨‹PWA</a></li>
<li><a href="https://juejin.cn/post/6953803916484018206" target="_blank" title="https://juejin.cn/post/6953803916484018206">ä½¿ç”¨nvmç®¡ç†node.jsç‰ˆæœ¬ä»¥åŠæ›´æ¢npmæ·˜å®é•œåƒæº</a></li>
<li><a href="https://juejin.cn/post/7140443283209060383" target="_blank" title="https://juejin.cn/post/7140443283209060383">æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºè§„èŒƒçš„å›¢é˜Ÿvueé¡¹ç›®ï¼ŒåŒ…å«commitlintï¼Œeslintï¼Œprettierï¼Œhuskyï¼Œcommitizenç­‰ç­‰</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-210 å¦‚ä½•åœ¨Scikit-Learnä¸­å®ç°é€»è¾‘å›å½’åŠæ­£åˆ™åŒ–è¯¦è§£ï¼ˆL1ä¸L2ï¼‰]]></title>    <link>https://juejin.cn/post/7593742881141424137</link>    <guid>https://juejin.cn/post/7593742881141424137</guid>    <pubDate>2026-01-12T00:40:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593742881141424137" data-draft-id="7593771861324627994" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-210 å¦‚ä½•åœ¨Scikit-Learnä¸­å®ç°é€»è¾‘å›å½’åŠæ­£åˆ™åŒ–è¯¦è§£ï¼ˆL1ä¸L2ï¼‰"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-01-12T00:40:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-210 å¦‚ä½•åœ¨Scikit-Learnä¸­å®ç°é€»è¾‘å›å½’åŠæ­£åˆ™åŒ–è¯¦è§£ï¼ˆL1ä¸L2ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:40:36.000Z" title="Mon Jan 12 2026 00:40:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šä½¿ç”¨Scikit-Learnå®ç°é€»è¾‘å›å½’ï¼Œå¹¶è°ƒæ•´æ­£åˆ™åŒ–ï¼ˆL1ä¸L2ï¼‰æ¥ä¼˜åŒ–æ¨¡å‹ã€‚</li>
<li>ç»“è®ºï¼šL1æ­£åˆ™åŒ–ä¼šä½¿ç‰¹å¾ç¨€ç–åŒ–ï¼Œè€ŒL2æ­£åˆ™åŒ–åˆ™ä¸ä¼šï¼›ä¸¤è€…åœ¨ä¸åŒæ•°æ®é›†å’ŒCå€¼ä¸‹è¡¨ç°ç›¸ä¼¼ã€‚</li>
<li>äº§å‡ºï¼šæŒæ¡å¦‚ä½•é€‰æ‹©æ­£åˆ™åŒ–æ–¹æ³•åŠå¦‚ä½•æ ¹æ®Cå€¼è°ƒæ•´æ¨¡å‹è¡¨ç°ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58fecd2bf0ef4f2087bf80ca5179bb38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783235&amp;x-signature=WaXJJPovcjVDn%2BSiGgw9SwbojqE%3D" alt="å¤§æ•°æ®-210 å¦‚ä½•åœ¨Scikit-Learnä¸­å®ç°é€»è¾‘å›å½’åŠæ­£åˆ™åŒ–è¯¦è§£ï¼ˆL1ä¸L2ï¼‰" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>

























<table><thead><tr><th>ç‰ˆæœ¬</th><th>å·²éªŒè¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>0.24.x</td><td>âœ…</td><td>Scikit-Learn æ”¯æŒL1ä¸L2æ­£åˆ™åŒ–</td></tr><tr><td>0.22.xåŠä¹‹å‰</td><td>âœ…</td><td>é€‚ç”¨äºå¤§éƒ¨åˆ†æ—§ç‰ˆé€»è¾‘å›å½’åŠŸèƒ½</td></tr><tr><td>æœ€æ–°ç‰ˆæœ¬ï¼ˆ2026ï¼‰</td><td>âœ…</td><td>åŒ…å«æ–°ä¼˜åŒ–å™¨åŠæ”¹è¿›çš„æ­£åˆ™åŒ–å¤„ç†æ–¹å¼</td></tr></tbody></table>
<h2 data-id="heading-2">é€»è¾‘å›å½’çš„Scikit-Learnå®ç°</h2>
<h3 data-id="heading-3">å‚æ•°è¯¦è§£</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">sklearn</span>.linear_model.LogisticRegression(
    penalty=<span class="hljs-string">'l2'</span>,
    dual=<span class="hljs-literal">False</span>,
    tol=<span class="hljs-number">0.0001</span>,
    C=<span class="hljs-number">1.0</span>,
    fit_intercept=<span class="hljs-literal">True</span>,
    intercept_scaling=<span class="hljs-number">1</span>,
    class_weight=<span class="hljs-literal">None</span>,
    random_state=<span class="hljs-literal">None</span>,
    solver=<span class="hljs-string">'warn'</span>,
    max_iter=<span class="hljs-number">100</span>,
    multi_class=<span class="hljs-string">'warn'</span>,
    verbose=<span class="hljs-number">0</span>,
    warm_start=<span class="hljs-literal">False</span>,
    n_jobs=<span class="hljs-literal">None</span>
)

</code></pre>
<h3 data-id="heading-4">penalty</h3>
<p>æ­£åˆ™åŒ–å‚æ•°ï¼ŒLogisticRegressioné»˜è®¤å¸¦äº†æ­£åˆ™åŒ–é¡¹ï¼Œpenaltyå‚æ•°å¯é€‰æ‹©çš„å€¼æœ‰1å’Œ2ï¼Œåˆ†åˆ«å¯¹åº”L1çš„æ­£åˆ™åŒ–å’ŒL2çš„æ­£åˆ™åŒ–ï¼Œé»˜è®¤æ˜¯L2çš„æ­£åˆ™åŒ–ã€‚
åœ¨è°ƒå‚æ—¶å¦‚æœæˆ‘ä»¬ä¸»è¦çš„ç›®çš„åªæ˜¯ä¸ºäº†è§£å†³è¿‡æ‹Ÿåˆï¼Œä¸€èˆ¬penaltyé€‰æ‹©L2æ­£åˆ™åŒ–å°±å¤Ÿäº†ï¼Œä½†æ˜¯å¦‚æœé€‰æ‹©L2æ­£åˆ™åŒ–åè¿˜æ˜¯è¿‡æ‹Ÿåˆï¼Œå³é¢„æµ‹æ•ˆæœå·®çš„æ—¶å€™ï¼Œå°±å¯ä»¥è€ƒè™‘L1æ­£åˆ™åŒ–ã€‚å¦å¤–ï¼Œå¦‚æœæ¨¡å‹çš„ç‰¹å¾éå¸¸å¤šï¼Œæˆ‘ä»¬å¸Œæœ›ä¸€äº›ä¸é‡è¦çš„ç‰¹å¾ç³»æ•°å½’é›¶ï¼Œä»è€Œè®©æ¨¡å‹ç¨€ç–åŒ–çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨L1æ­£åˆ™åŒ–ã€‚
penaltyå‚æ•°çš„é€‰æ‹©ä¼šå½±å“æˆ‘ä»¬æŸå¤±å‡½æ•°ä¼˜åŒ–ç®—æ³•çš„é€‰æ‹©ï¼Œå³å‚æ•°solverçš„é€‰æ‹©ï¼Œå¦‚æœæ˜¯L2æ­£åˆ™åŒ–ï¼Œé‚£ä¹ˆ4ç§å¯é€‰çš„ç®—æ³•ï¼ˆnewton-cgã€lbfgsã€ç¤¼åŒ…é‡Œnearã€sag)éƒ½å¯ä»¥é€‰æ‹©ã€‚ä½†æ˜¯å¦‚æœpenaltyæ˜¯L1æ­£åˆ™åŒ–çš„è¯ï¼Œå°±åªèƒ½liblinearäº†ã€‚
è¿™æ˜¯å› ä¸ºL1æ­£åˆ™åŒ–çš„æŸå¤±å‡½æ•°ä¸æ˜¯è¿ç»­å¯å¯¼çš„ï¼Œè€Œï¼ˆnewton-cgã€lbfgsã€sagï¼‰è¿™ä¸‰ç§ä¼˜åŒ–ç®—æ³•æ—¶éƒ½éœ€è¦æŸå¤±å‡½æ•°çš„ä¸€é˜¶æˆ–è€…äºŒé˜¶æ®µè¿ç»­å€’æ•°ã€‚è€Œlibnearå¹¶æ²¡æœ‰è¿™ä¸ªä¾èµ–ã€‚
è€Œä¸¤ç§æ­£åˆ™åŒ–ä¸‹çš„Cçš„å–å€¼ï¼Œéƒ½å¯ä»¥é€šè¿‡å­¦ä¹ æ›²çº¿æ¥è¿›è¡Œè°ƒæ•´ã€‚
å»ºç«‹ä¸¤ä¸ªé€»è¾‘å›å½’ï¼ŒL1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–çš„å·®åˆ«ä¸€ç›®äº†ç„¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression <span class="hljs-keyword">as</span> LR
<span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_breast_cancer
<span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># åŠ è½½æ•°æ®é›†</span>
data = load_breast_cancer()
X = data.data
y = data.target

<span class="hljs-comment"># å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–</span>
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

<span class="hljs-comment"># ä½¿ç”¨L1æ­£åˆ™åŒ–çš„é€»è¾‘å›å½’</span>
lrl1 = LR(penalty=<span class="hljs-string">"l1"</span>, solver=<span class="hljs-string">"liblinear"</span>, C=<span class="hljs-number">0.5</span>, max_iter=<span class="hljs-number">1000</span>)

<span class="hljs-comment"># ä½¿ç”¨L2æ­£åˆ™åŒ–çš„é€»è¾‘å›å½’</span>
lrl2 = LR(penalty=<span class="hljs-string">"l2"</span>, solver=<span class="hljs-string">"liblinear"</span>, C=<span class="hljs-number">0.5</span>, max_iter=<span class="hljs-number">1000</span>)

<span class="hljs-comment"># è®­ç»ƒL1æ­£åˆ™åŒ–çš„æ¨¡å‹</span>
lrl1 = lrl1.fit(X_scaled, y)

<span class="hljs-comment"># æ‰“å°L1æ¨¡å‹çš„ç³»æ•°</span>
<span class="hljs-built_in">print</span>(lrl1.coef_)

<span class="hljs-comment"># ç»Ÿè®¡éé›¶ç³»æ•°çš„æ•°é‡</span>
<span class="hljs-built_in">print</span>((lrl1.coef_ != <span class="hljs-number">0</span>).<span class="hljs-built_in">sum</span>(axis=<span class="hljs-number">1</span>))

<span class="hljs-comment"># è®­ç»ƒL2æ­£åˆ™åŒ–çš„æ¨¡å‹</span>
lrl2 = lrl2.fit(X_scaled, y)

<span class="hljs-comment"># æ‰“å°L2æ¨¡å‹çš„ç³»æ•°</span>
<span class="hljs-built_in">print</span>(lrl2.coef_)

</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4476ccac48014c11bff0f5c8e2ce0789~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783235&amp;x-signature=rtaBDNmiozKF2VgKReRLXeH%2FSCU%3D" alt="é€»è¾‘å›å½’çš„Scikit-Learn" loading="lazy"/>
å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬é€‰æ‹©L1æ­£åˆ™åŒ–çš„æ—¶å€™ï¼Œè®¸å¤šç‰¹å¾çš„å‚æ•°éƒ½è¢«è®¾ç½®äº†0ï¼Œè¿™äº›ç‰¹å¾åœ¨çœŸæ­£å»ºæ¨¡çš„æ—¶å€™ï¼Œå°±ä¸ä¼šå‡ºç°åœ¨æˆ‘ä»¬çš„æ¨¡å‹å½“ä¸­äº†ï¼Œè€ŒL2æ­£åˆ™åŒ–æ˜¯å¯¹æ‰€æœ‰ç‰¹å¾éƒ½ç»™å‡ºäº†å‚æ•°ã€‚</p>
<p>ç©¶ç«Ÿå“ªä¸ªæ­£åˆ™åŒ–çš„æ•ˆæœæ›´å¥½å‘¢ï¼Ÿè¿˜æ˜¯éƒ½å·®ä¸å¤šï¼Ÿ</p>
<pre><code class="hljs language-python" lang="python">l1 = []
l2 = []
l1test = []
l2test = []
Xtrain, Xtest, Ytrain, Ytest =
train_test_split(X,y,test_size=<span class="hljs-number">0.3</span>,random_state=<span class="hljs-number">420</span>)
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> np.linspace(<span class="hljs-number">0.05</span>,<span class="hljs-number">1</span>,<span class="hljs-number">19</span>):
lrl1 = LR(penalty=<span class="hljs-string">"l1"</span>,solver=<span class="hljs-string">"liblinear"</span>,C=i,max_iter=<span class="hljs-number">1000</span>)
lrl2 = LR(penalty=<span class="hljs-string">"l2"</span>,solver=<span class="hljs-string">"liblinear"</span>,C=i,max_iter=<span class="hljs-number">1000</span>)
lrl1 = lrl1.fit(Xtrain,Ytrain)
l1.append(accuracy_score(lrl1.predict(Xtrain),Ytrain))
l1test.append(accuracy_score(lrl1.predict(Xtest),Ytest))
lrl2 = lrl2.fit(Xtrain,Ytrain)
l2.append(accuracy_score(lrl2.predict(Xtrain),Ytrain))
l2test.append(accuracy_score(lrl2.predict(Xtest),Ytest))
graph = [l1,l2,l1test,l2test]
color = [<span class="hljs-string">"green"</span>,<span class="hljs-string">"black"</span>,<span class="hljs-string">"lightgreen"</span>,<span class="hljs-string">"gray"</span>]
label = [<span class="hljs-string">"L1"</span>,<span class="hljs-string">"L2"</span>,<span class="hljs-string">"L1test"</span>,<span class="hljs-string">"L2test"</span>]
plt.figure(figsize=(<span class="hljs-number">6</span>,<span class="hljs-number">6</span>))
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(graph)):
plt.plot(np.linspace(<span class="hljs-number">0.05</span>,<span class="hljs-number">1</span>,<span class="hljs-number">19</span>),graph[i],color[i],label=label[i])
plt.legend(loc=<span class="hljs-number">4</span>) <span class="hljs-comment">#å›¾ä¾‹çš„ä½ç½®åœ¨å“ªâ¾¥?4è¡¨ç¤ºï¼Œå³ä¸‹â»†</span>
plt.show()
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77cc39a06377474e84608299c87cac89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783235&amp;x-signature=oAyAth7uEfZQQ3si46M%2BCs99E%2B4%3D" alt="é€»è¾‘å›å½’çš„Scikit-Learn" loading="lazy"/>
å¯¹åº”çš„å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb775cb3c7be486f963fd563013ae9ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783235&amp;x-signature=tahlMVvVNJogYt1G%2BQgiQC0YdE0%3D" alt="é€»è¾‘å›å½’çš„Scikit-Learn" loading="lazy"/>
å¯è§ï¼Œåœ¨æˆ‘ä»¬çš„ä¹³è…ºç™Œæ•°æ®é›†ä¸‹ï¼Œä¸¤ç§æ­£åˆ™åŒ–çš„ç»“æœåŒºåˆ«ä¸å¤§ã€‚ä½†éšç€Cçš„é€æ¸å˜å¤§ï¼Œæ­£åˆ™åŒ–çš„å¼ºåº¦è¶Šæ¥è¶Šå°ï¼Œæ¨¡å‹åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šè¡¨ç°å‘ˆç°äº†ä¸Šå‡è¶‹åŠ¿ï¼Œç›´åˆ°C=0.8å·¦å³ï¼Œè®­ç»ƒé›†ä¸Šçš„è¡¨ç°ä¾ç„¶èµ°é«˜ï¼Œä½†æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®é›†ä¸Šçš„è¡¨ç°å°±å¼€å§‹ä¸‹è·Œï¼Œè¿™æ—¶å€™å°±æ˜¯å‡ºç°äº†è¿‡æ‹Ÿåˆã€‚æˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼ŒCè®¾ç½®0.8ä¼šæ¯”è¾ƒå¥½ã€‚
åœ¨å®é™…ä½¿ç”¨ä¸­ï¼ŒåŸºæœ¬å°±é»˜è®¤ä½¿ç”¨L2æ­£åˆ™åŒ–ï¼Œå¦‚æœæ„Ÿè§‰åˆ°æ•ˆæœä¸å¥½ï¼Œå°±è¯•è¯•L1ã€‚</p>
<h3 data-id="heading-5">solver</h3>
<p>solverå‚æ•°å†³å®šäº†æˆ‘ä»¬å¯¹é€»è¾‘å›å½’æŸå¤±å‡½æ•°çš„ä¼˜åŒ–æ–¹æ³•ï¼Œæœ‰4ç§ç®—æ³•å¯ä»¥é€‰æ‹©ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>liblinearï¼šä½¿ç”¨äº†å¼€æºçš„liblinearåº“å®ç°ï¼Œå†…éƒ¨ä½¿ç”¨äº†åæ ‡è½´ä¸‹é™æ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°</li>
<li>lbfgsï¼šæ‹Ÿç‰›é¡¿æ³•çš„ä¸€ç§ï¼Œåˆ©ç”¨æŸå¤±å‡½æ•°äºŒé˜¶å¯¼æ•°çŸ©é˜µå³æµ·æ£®çŸ©é˜µæ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°</li>
<li>newton-cgï¼šä¹Ÿæ˜¯ç‰›é¡¿æ³•å®¶æ—çš„ä¸€ç§ï¼Œåˆ©ç”¨æŸå¤±å‡½æ•°äºŒé˜¶å¯¼æ•°çŸ©é˜µå³æµ·æ£®çŸ©é˜µæ¥è¿­ä»£ä¼˜åŒ–æŸå¤±å‡½æ•°</li>
<li>sagï¼šå³éšæœºå¹³å‡æ¢¯åº¦ä¸‹é™ï¼Œæ˜¯æ¢¯åº¦ä¸‹é™æ³•çš„å˜ç§ï¼Œå’Œæ™®é€šæ¢¯åº¦ä¸‹é™æ³•çš„åŒºåˆ«æ˜¯æ¯æ¬¡è¿­ä»£ä»…ç”¨ä¸€éƒ¨åˆ†çš„æ ·æœ¬æ¥è®¡ç®—æ¢¯åº¦ï¼Œé€‚åˆäºæ ·æœ¬æ•°æ®å¤šçš„æ—¶å€™ã€‚</li>
</ul>
<p>ä»ä¸Šé¢çš„æè¿°å¯ä»¥çœ‹å‡ºï¼Œnewton-cgï¼Œlbfgså’Œsagè¿™ä¸‰ç§ä¼˜åŒ–ç®—æ³•æ—¶éƒ½éœ€è¦æŸå¤±å‡½æ•°ä¸€é˜¶æˆ–è€…äºŒé˜¶è¿ç»­å¯¼æ•°ï¼Œå› æ­¤ä¸èƒ½ç”¨äºæ²¡æœ‰è¿ç»­å¯¼æ•°çš„L1æ­£åˆ™åŒ–ï¼Œåªèƒ½ç”¨äºL2æ­£åˆ™åŒ–ã€‚è€Œliblinearé€šåƒL1æ­£åˆ™åŒ–å’ŒL2æ­£åˆ™åŒ–ã€‚åŒæ—¶ï¼Œsagæ¯æ¬¡ä»…ä½¿ç”¨éƒ¨åˆ†æ ·æœ¬è¿›è¡Œæ¢¯åº¦è¿­ä»£ï¼Œæ‰€ä»¥å½“æ ·æœ¬é‡å°‘çš„æ—¶å€™ä¸è¦é€‰æ‹©å®ƒï¼Œè€Œå¦‚æœæ ·æœ¬éå¸¸å¤§ï¼Œæ¯”å¦‚å¤§äº10ä¸‡ï¼Œsagæ˜¯ç¬¬ä¸€é€‰æ‹©ã€‚
ä½†æ˜¯sagä¸èƒ½ç”¨äºL1æ­£åˆ™åŒ–ï¼Œæ‰€ä»¥å½“ä½ æœ‰å¤§é‡çš„æ ·æœ¬ï¼Œåˆéœ€è¦L1çš„æ—¶å€™å°±éœ€è¦è‡ªå·±åšå–èˆäº†ï¼Œè¦ä¹ˆé€šè¿‡å¯¹æ ·æœ¬é‡‡æ ·æ¥é™ä½æ ·æœ¬é‡ï¼Œè¦ä¹ˆå›åˆ°L2æ­£åˆ™åŒ–ã€‚</p>
<p>æ­¤æ—¶å¤§å®¶å¯èƒ½è§‰ç€ï¼Œæ—¢ç„¶newton-cgã€lbfgså’Œsagè¿™ä¹ˆå¤šé™åˆ¶ï¼Œå¦‚æœä¸æ˜¯å¤§æ ·æœ¬ï¼Œæˆ‘ä»¬é€‰æ‹©liblinearä¸å°±è¡Œäº†å—ï¼Ÿå› ä¸ºliblinearä¹Ÿæœ‰è‡ªå·±çš„å¼±ç‚¹ï¼Œæˆ‘ä»¬çŸ¥é“é€»è¾‘å›å½’äºŒå…ƒé€»è¾‘å›å½’å’Œå¤šå…ƒé€»è¾‘å›å½’ã€‚å¯¹äºå¤šå…ƒé€»è¾‘å›å½’å¸¸è§æœ‰one-vs-restï¼ˆOvRï¼‰å’Œmany-vs-manyï¼ˆMvMï¼‰ä¸¤ç§ï¼Œè€ŒMvMä¸€èˆ¬æ¯”OvRåˆ†ç±»ç›¸å¯¹å‡†ç¡®ä¸€äº›ã€‚liblinearåªæ”¯æŒOvRï¼Œä¸æ”¯æŒMvMï¼Œè¿™æ ·å¦‚æœæˆ‘ä»¬éœ€è¦ç›¸å¯¹ç²¾å‡†çš„å¤šå…ƒé€»è¾‘å›å½’æ—¶å°±ä¸èƒ½é€‰æ‹©liblinearã€‚è¿™ä¹Ÿæ„å‘³ç€æˆ‘ä»¬éœ€è¦ç›¸å¯¹ç²¾ç¡®çš„å¤šå…ƒå›å½’é€»è¾‘å°±ä¸èƒ½ç”¨L1æ­£åˆ™åŒ–äº†ã€‚</p>
<h2 data-id="heading-6">é”™è¯¯é€ŸæŸ¥</h2>





























<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>æ­£åˆ™åŒ–æ–¹æ³•æ— æ³•é€‰æ‹©L1</td><td>ä¼˜åŒ–ä½¿ç”¨çš„solverä¸æ”¯æŒL1æ­£åˆ™åŒ–</td><td>æ£€æŸ¥solveræ˜¯å¦é€‰æ‹©ä¸ºliblinear</td><td>å°†solverå‚æ•°è®¾ç½®ä¸ºliblinearï¼Œä»…æ­¤æ”¯æŒL1</td></tr><tr><td>æ¨¡å‹å‡ºç°è¿‡æ‹Ÿåˆ</td><td>Cå€¼è¿‡å¤§ï¼Œæ­£åˆ™åŒ–å¼ºåº¦ä¸è¶³</td><td>è°ƒæ•´Cå€¼ï¼Œé€æ­¥å‡å°Cå€¼ï¼Œä½¿ç”¨å­¦ä¹ æ›²çº¿æ£€æŸ¥</td><td>å‡å°Cå€¼ï¼Œè§‚å¯Ÿè®­ç»ƒé›†ä¸æµ‹è¯•é›†çš„è¡¨ç°å˜åŒ–</td></tr><tr><td>ä½¿ç”¨SAGæ—¶è®­ç»ƒé€Ÿåº¦è¾ƒæ…¢ä¸”ä¸æ”¯æŒL1æ­£åˆ™åŒ–</td><td>SAGä¸æ”¯æŒL1æ­£åˆ™åŒ–</td><td>ä½¿ç”¨çš„ä¼˜åŒ–å™¨ä¸æ”¯æŒL1ï¼ŒæŸ¥çœ‹solverè®¾ç½®</td><td>æ”¹ç”¨liblinearæˆ–é€‰æ‹©L2æ­£åˆ™åŒ–</td></tr></tbody></table>
<h2 data-id="heading-7">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-8">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-9">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-10">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[3ä½å®æˆ˜åˆ†äº«ã€6ä¸ªæ¡ˆä¾‹å±•ç¤ºï¼ŒTRAE Friends@æµå—ç¬¬äºŒåœºåœ†æ»¡å®Œæˆ]]></title>    <link>https://juejin.cn/post/7593358143692406847</link>    <guid>https://juejin.cn/post/7593358143692406847</guid>    <pubDate>2026-01-12T00:42:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593358143692406847" data-draft-id="7593342203822866438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="3ä½å®æˆ˜åˆ†äº«ã€6ä¸ªæ¡ˆä¾‹å±•ç¤ºï¼ŒTRAE Friends@æµå—ç¬¬äºŒåœºåœ†æ»¡å®Œæˆ"/> <meta itemprop="keywords" content="Trae,AIç¼–ç¨‹,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-12T00:42:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            3ä½å®æˆ˜åˆ†äº«ã€6ä¸ªæ¡ˆä¾‹å±•ç¤ºï¼ŒTRAE Friends@æµå—ç¬¬äºŒåœºåœ†æ»¡å®Œæˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:42:11.000Z" title="Mon Jan 12 2026 00:42:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1.10å·ï¼Œ<code>TRAE Friends@æµå—</code> ç¬¬äºŒåœºçº¿ä¸‹æ´»åŠ¨åœ†æ»¡å®Œæˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8fc085264f574e32a94b5448ce7dd7a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783331&amp;x-signature=ztR%2BOS%2BvRUlzY%2FPiIZFCWqNYMnk%3D" alt="" loading="lazy"/></p>
<p>è¯´å®è¯ï¼Œæ•´ä¸ªæ´»åŠ¨å‰æœŸï¼Œæˆ‘æ‰‹å¿ƒå…¨æ˜¯æ±—â€”â€”æ¯•ç«Ÿæ˜¯æˆ‘ä»å¤´åˆ°å°¾ç‹¬è‡ªç­–åˆ’å¹¶ä¸»æŒçš„ç¬¬ä¸€åœºçº¿ä¸‹æ´»åŠ¨ã€‚</p>
<p>åœ¨æ­¤è¦å¤šè°¢å­—èŠ‚è€å¸ˆçš„æŒ‡å¯¼ï¼Œå˜‰å®¾è€å¸ˆçš„æ”¯æŒï¼Œåˆ°åœºå°ä¼™ä¼´çš„åŒ…å®¹ï¼Œä»¥åŠå¿—æ„¿è€…ä»¬çš„è¾›å‹¤ä»˜å‡ºã€‚</p>
<p>ä¸ºäº†æ›´åŠ å……å®ï¼Œæœ¬æ¬¡æ´»åŠ¨ä»¥ <code>Meetup + Demoday</code> çš„æ–¹å¼ä¸¾åŠï¼Œå†…å®¹æ¯”è¾ƒå¤šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40ec0e0586014a68819f5463807979ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783331&amp;x-signature=J6f2ukQXf1XDC3acOFAGak6x5LY%3D" alt="" loading="lazy"/></p>
<p>æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>13:00-13:30 ç­¾åˆ°&amp;ç ´å†°</li>
<li>13:30-13:40 å¹´ç»ˆæ€»ç»“/åç»­è§„åˆ’</li>
<li>13:40-14:00 TRAE ä¸»é¢˜åˆ†äº«</li>
<li>14:00-15:00 Speakeråˆ†äº«
<ol>
<li>TRAEæ‰“é€ å®Œæ•´äº§å“çš„å®è·µæ¡ˆä¾‹â€”â€”å°æ©˜å­è€å¸ˆ</li>
<li>æ•°å­—äººäº¤äº’åŠé¡¹ç›®æ‰©å±•â€”â€”éƒ‘å‡¯è€å¸ˆ</li>
<li>æ°›å›´ç¼–ç¨‹é¡¹ç›®è¯•ç‚¹å¿ƒå¾—â€”â€”æ¬²ä¸‰æ›´è€å¸ˆ</li>
</ol>
</li>
<li>15:00-15:10 å¹´åº•é¢å¥–/æŠ½å¥–</li>
<li>15:10-15:30 åˆå½±&amp;èŒ¶æ­‡</li>
<li>15:30-16:30 Demoå±•ç¤º
<ol>
<li>ç»¼åˆæ•°æ®å¤„ç†å¹³å°</li>
<li>æ™ºèƒ½åˆ¶é€ ç³»æµå°æ±‡</li>
<li>AIäº’è”ç½‘åŒ»é™¢çº¿ä¸Šè¯Šç–—æµç¨‹é¡µé¢</li>
<li>çº¸åŒ…è£…æŠ¥ä»·åŠ©æ‰‹</li>
<li>æ°¸æˆæ™ºé€”</li>
<li>è¯­éŸ³è½¬æ–‡å­—</li>
</ol>
</li>
<li>16:30-16:40 DemoæŠ•ç¥¨/æŠ½å¥–</li>
<li>16:40-17:30 å¼€æ”¾éº¦</li>
</ul>
<p>å¥½åœ¨å„ä½å˜‰å®¾è€å¸ˆã€Demoå±•ç¤ºå†…å®¹è¶³å¤Ÿç²¾å½©ï¼Œç°åœºå°ä¼™ä¼´è¾¹çœ‹è¾¹è®°ï¼ŒæŒå£°ä¸æ–­ã€‚</p>
<p>ä½œä¸ºä¸»æŒäººï¼Œæˆ‘ä¹Ÿå·å¸ˆäº†ä¸å°‘å¹²è´§ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>å°æ©˜å­è€å¸ˆä½¿ç”¨è§„èŒƒç¼–ç¨‹å…¨æµç¨‹çš„å®æˆ˜ç»éªŒå’Œè¸©å‘æ€»ç»“</li>
<li>éƒ‘å‡¯è€å¸ˆæ¨¡å‹çŸ¥è¯†çš„ä¸°å¯Œå’Œå¼€æºæ•°å­—äººé¡¹ç›®æ”¹é€ çš„æŠ€å·§</li>
<li>æ¬²ä¸‰æ›´è€å¸ˆ <code>Vibe Coding</code> è¯•ç‚¹ç¡®å®šçš„é€»è¾‘æ€§å’Œæ–¹æ³•è®º</li>
<li>ä»¥åŠå„ä½ Demo è€å¸ˆå¯¹å„è‡ªæ¡ˆä¾‹çš„æ€è€ƒå’Œ TRAE ä»·å€¼çš„åˆ†äº«</li>
</ul>
<p>ä¸€ç›´åˆ°æ´»åŠ¨ç»“æŸï¼Œå¾ˆå¤šå°ä¼™ä¼´å’Œæˆ‘è¡¨è¾¾äº†å¯¹è¿™æ¬¡æ´»åŠ¨çš„è®¤å¯ï¼Œæˆ‘æ‰ç®—æ”¾ä¸‹å¿ƒæ¥ï¼Œç¬é—´æ„Ÿè§‰è¿™ä¸€å‘¨çš„åŠ ç­å‡†å¤‡è¿˜æ˜¯å€¼å¾—çš„ã€‚</p>
<p>å¹¶ä¸”ï¼Œæˆ‘ <code>TRAE</code> äº†ä¸¤ä¸‰å¤©çš„ç­¾åˆ°ã€æŠ½å¥–ã€Demoå±•ç¤º/æŠ•ç¥¨å¹³å°ï¼Œä¹Ÿé¡ºåˆ©åœ°æ”¯æŒäº†æœ¬æ¬¡æ´»åŠ¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d668d00bd4844f2c81250895c6a06677~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783331&amp;x-signature=QnZUJ0dcfS0vI1n4UnTcsZwj4XI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0facf401df8943e582b4786663deca73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783331&amp;x-signature=A2H%2B%2B%2Bg%2BWVbEz78BLhiI6elvmJA%3D" alt="" loading="lazy"/></p>
<p>ä¹‹åä¼šæŠŠå¹³å°å‘å¸ƒå‡ºæ¥ï¼Œç»™å¤§å®¶æä¾›ä¸€ä¸ªæ›´åŠ æ–¹ä¾¿çš„æ´»åŠ¨è®¿é—®é€”å¾„ï¼ŒåŒæ—¶ä¹Ÿä¼šå¼€æºå‡ºæ¥ä½œä¸ºç¤¾åŒºçš„å…±å»ºé¡¹ç›®ç»™å¤§å®¶å®æˆ˜ã€‚</p>
<p>åç»­ï¼Œ<code>TRAE Friends@æµå—</code> ä¼šæ¨å‡ºæ›´ä¸°å¯Œæ›´å¥½ç©çš„æ´»åŠ¨ï¼Œå¸Œæœ›å¤§å®¶æŒç»­å…³æ³¨å“ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b553f1c16de14ed0868fdf22946c5c01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783331&amp;x-signature=8uBVEZA1%2BLoXs7VKm4li%2BMQiydc%3D" alt="" loading="lazy"/></p>
<p>ä¹Ÿå¸Œæœ›æ›´å¤šå–œæ¬¢ <code>TRAE</code>ï¼Œå–œæ¬¢ <code>AI Coding</code> çš„å°ä¼™ä¼´åŠ å…¥æˆ‘ä»¬ï¼Œä¸€èµ·æ¨åŠ¨ <code>TRAE Friends@æµå—</code> ç¤¾åŒºçš„å‘å±•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactä»å…¥é—¨åˆ°å‡ºé—¨ ç¬¬äº”ç«  React Router é…ç½®ä¸åŸç†åˆæ¢]]></title>    <link>https://juejin.cn/post/7593358143692423231</link>    <guid>https://juejin.cn/post/7593358143692423231</guid>    <pubDate>2026-01-12T00:44:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593358143692423231" data-draft-id="7589919989039218751" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactä»å…¥é—¨åˆ°å‡ºé—¨ ç¬¬äº”ç«   React Router  é…ç½®ä¸åŸç†åˆæ¢"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2026-01-12T00:44:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€•æµªçŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/2832784963939438"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactä»å…¥é—¨åˆ°å‡ºé—¨ ç¬¬äº”ç«   React Router  é…ç½®ä¸åŸç†åˆæ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2832784963939438/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€•æµªçŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:44:49.000Z" title="Mon Jan 12 2026 00:44:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4af71802f84948abbf00e4f72505ff76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oCV5rWq54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783509&amp;x-signature=ybMO9oNVE%2FSf7jBevvhcBl2k7%2F0%3D" alt="G9p0jhNaIAA9xpU.jpeg" loading="lazy"/>
å¤§å®¶å¥½ï½ å‰é¢æˆ‘ä»¬å·²ç»æŒæ¡äº† React 19 çš„ç»„ä»¶ã€Hooksã€çŠ¶æ€ç®¡ç†ç­‰æ ¸å¿ƒåŸºç¡€ï¼Œä»Šå¤©å’±ä»¬èšç„¦ React åº”ç”¨å¼€å‘ä¸­çš„å¦ä¸€ä¸ªå…³é”®æ¨¡å—â€”â€”<strong>è·¯ç”±ç®¡ç†</strong>ã€‚</p>
<p>åœ¨å•é¡µåº”ç”¨ï¼ˆSPAï¼‰ä¸­ï¼Œè·¯ç”±æ˜¯å®ç°â€œé¡µé¢åˆ‡æ¢â€çš„æ ¸å¿ƒï¼šå®ƒèƒ½è®©æˆ‘ä»¬åœ¨ä¸åˆ·æ–°æµè§ˆå™¨çš„å‰æä¸‹ï¼Œæ ¹æ® URL è·¯å¾„å±•ç¤ºä¸åŒçš„ç»„ä»¶ï¼Œæ¨¡æ‹Ÿå¤šé¡µé¢åº”ç”¨çš„ä½“éªŒã€‚React å®˜æ–¹å¹¶æœªæä¾›è·¯ç”±è§£å†³æ–¹æ¡ˆï¼Œç¤¾åŒºä¸­æœ€ä¸»æµçš„å°±æ˜¯ <strong>React Router</strong>ï¼Œè€Œ React 19 é€‚é…çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬æ˜¯ React Router v7ï¼ˆç›®å‰å¸¸ç”¨çš„æ˜¯ v6.22+ï¼Œv7 ä¸ºåç»­ä¸»åŠ›ç‰ˆæœ¬ï¼ŒAPI åŸºæœ¬å…¼å®¹ v6 å¹¶åšäº†ä¼˜åŒ–ï¼‰ã€‚</p>
<p>å¾ˆå¤šæ–°æ‰‹åœ¨ä½¿ç”¨ React Router æ—¶ï¼Œåªä¼šç…§æ¬æ–‡æ¡£é…ç½®è·¯ç”±ï¼Œå´ä¸ç†è§£â€œURL å˜åŒ–å¦‚ä½•è§¦å‘ç»„ä»¶åˆ‡æ¢â€â€œè·¯ç”±å‚æ•°å¦‚ä½•ä¼ é€’â€ç­‰åº•å±‚é€»è¾‘ã€‚ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°±ä»â€œå®æˆ˜é…ç½®â€åˆ°â€œåŸç†æ‹†è§£â€ï¼Œç”¨å®Œæ•´çš„ä»£ç ç¤ºä¾‹+ç›´è§‚çš„å›¾ä¾‹ï¼ŒæŠŠ React Router v7 çš„æ ¸å¿ƒç”¨æ³•å’Œå·¥ä½œåŸç†è®²é€ï¼Œè®©ä½ æ—¢èƒ½å¿«é€Ÿä¸Šæ‰‹å¼€å‘ï¼Œä¹Ÿèƒ½çŸ¥å…¶æ‰€ä»¥ç„¶ï½</p>
<h2 data-id="heading-0">ä¸€ã€å‰ç½®å‡†å¤‡ï¼šReact Router v7 ç¯å¢ƒæ­å»º</h2>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå®Œæˆ React Router v7 çš„ç¯å¢ƒæ­å»ºã€‚React Router åˆ†ä¸ºå¤šä¸ªåŒ…ï¼Œæ ¸å¿ƒåŒ…æœ‰ 3 ä¸ªï¼Œæ ¹æ®åº”ç”¨åœºæ™¯é€‰æ‹©å®‰è£…ï¼š</p>
<ul>
<li><code>react-router</code>ï¼šæ ¸å¿ƒè·¯ç”±é€»è¾‘ï¼ˆä¸æ¡†æ¶æ— å…³ï¼Œæä¾›è·¯ç”±æ ¸å¿ƒ APIï¼‰ï¼›</li>
<li><code>react-router-dom</code>ï¼šç”¨äºæµè§ˆå™¨ç¯å¢ƒçš„è·¯ç”±å®ç°ï¼ˆæœ€å¸¸ç”¨ï¼Œæä¾› ã€ ç­‰ DOM ç›¸å…³ç»„ä»¶ï¼‰ï¼›</li>
<li><code>react-router-native</code>ï¼šç”¨äº React Native ç¯å¢ƒçš„è·¯ç”±å®ç°ï¼ˆç§»åŠ¨ç«¯å¼€å‘ç”¨ï¼‰ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä»¥æµè§ˆå™¨ç¯å¢ƒä¸ºä¾‹ï¼Œå®‰è£…æ ¸å¿ƒä¾èµ–ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># npm å®‰è£…</span>
npm install react-router-dom@latest

<span class="hljs-comment"># yarn å®‰è£…</span>
yarn add react-router-dom@latest

<span class="hljs-comment"># pnpm å®‰è£…</span>
pnpm add react-router-dom@latest
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹é…ç½®è·¯ç”±äº†ã€‚</p>
<h2 data-id="heading-1">äºŒã€React Router v7 æ ¸å¿ƒè·¯ç”±é…ç½®æ–¹å¼</h2>
<p>React Router v7 çš„è·¯ç”±é…ç½®æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š<strong>å£°æ˜å¼é…ç½®ï¼ˆJSX æ ‡ç­¾ï¼‰</strong> å’Œ <strong>ç¼–ç¨‹å¼é…ç½®ï¼ˆæ•°ç»„é…ç½®+useRoutesï¼‰</strong> ã€‚å£°æ˜å¼é…ç½®ç›´è§‚ç®€å•ï¼Œé€‚åˆç®€å•åº”ç”¨ï¼›ç¼–ç¨‹å¼é…ç½®æ›´çµæ´»ï¼Œé€‚åˆå¤æ‚åº”ç”¨ï¼ˆå¦‚è·¯ç”±æƒé™æ§åˆ¶ã€åŠ¨æ€è·¯ç”±ï¼‰ã€‚æˆ‘ä»¬åˆ†åˆ«é€šè¿‡å®æˆ˜æ¡ˆä¾‹è®²è§£ã€‚</p>
<h3 data-id="heading-2">1. åŸºç¡€å£°æ˜å¼é…ç½®ï¼šå®ç°ç®€å•é¡µé¢åˆ‡æ¢</h3>
<p>å£°æ˜å¼é…ç½®æ˜¯ React Router æœ€åŸºç¡€çš„ç”¨æ³•ï¼Œé€šè¿‡æ ¸å¿ƒç»„ä»¶ç»„åˆå®ç°è·¯ç”±åŠŸèƒ½ã€‚å…ˆäº†è§£å‡ ä¸ªæ ¸å¿ƒç»„ä»¶çš„ä½œç”¨ï¼š</p>
<ul>
<li><code>&lt;BrowserRouter&gt;</code>ï¼šè·¯ç”±æ ¹ç»„ä»¶ï¼ŒåŒ…è£¹æ•´ä¸ªåº”ç”¨ï¼Œæä¾›è·¯ç”±æ ¸å¿ƒä¸Šä¸‹æ–‡ï¼ˆå¦‚å†å²è®°å½•ã€å½“å‰è·¯å¾„ç­‰ï¼‰ï¼›</li>
<li><code>&lt;Routes&gt;</code>ï¼šè·¯ç”±å®¹å™¨ï¼Œç”¨äºåŒ…è£¹  ç»„ä»¶ï¼Œä¼šæ ¹æ® URL è·¯å¾„åŒ¹é…å”¯ä¸€çš„  å¹¶æ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ï¼›</li>
<li><code>&lt;Route path="" element={}&gt;</code>ï¼šè·¯ç”±è§„åˆ™ï¼Œpath æ˜¯ URL è·¯å¾„ï¼Œelement æ˜¯è·¯å¾„åŒ¹é…æˆåŠŸåæ¸²æŸ“çš„ç»„ä»¶ï¼›</li>
<li><code>&lt;Link to=""&gt;</code>ï¼šè·¯ç”±è·³è½¬ç»„ä»¶ï¼Œç±»ä¼¼ HTML çš„ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="> æ ‡ç­¾ï¼Œä½†ä¸ä¼šåˆ·æ–°é¡µé¢ï¼ˆé€šè¿‡ä¿®æ”¹ URL å®ç°è·³è½¬ï¼‰ï¼›</a></li><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">
<li><code>&lt;Outlet /&gt;</code>ï¼šåµŒå¥—è·¯ç”±çš„å ä½ç¬¦ï¼Œç”¨äºæ¸²æŸ“å­è·¯ç”±å¯¹åº”çš„ç»„ä»¶ã€‚</li>
</a></ul><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">
<h4 data-id="heading-3">å®æˆ˜æ¡ˆä¾‹ 1ï¼šåŸºç¡€è·¯ç”±ï¼ˆé¦–é¡µã€å…³äºé¡µã€404 é¡µï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/App.jsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-comment">// é¡µé¢ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é¦–é¡µï¼šReact Router v7 å®æˆ˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å…³äºé¡µï¼šä¸“æ³¨ React 19 è·¯ç”±ç®¡ç†<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-comment">// 404 é¡µé¢ï¼ˆpath="*" åŒ¹é…æ‰€æœ‰æœªå®šä¹‰çš„è·¯å¾„ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">NotFound</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>404ï¼šé¡µé¢ä¸å­˜åœ¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    {<span class="hljs-comment">/* è·¯ç”±æ ¹ç»„ä»¶ï¼Œå¿…é¡»åŒ…è£¹æ‰€æœ‰è·¯ç”±ç›¸å…³ç»„ä»¶ */</span>}
    &lt;<span class="hljs-title class_">Router</span>&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
        {/* å¯¼èˆªæ ï¼šé€šè¿‡ Link ç»„ä»¶å®ç°è·¯ç”±è·³è½¬ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginBottom:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">display:</span> '<span class="hljs-attr">flex</span>', <span class="hljs-attr">gap:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>å…³äºé¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

        {/* è·¯ç”±å®¹å™¨ï¼šåŒ¹é… URL å¹¶æ¸²æŸ“å¯¹åº”ç»„ä»¶ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
          {/* é¦–é¡µï¼špath="/" åŒ¹é…æ ¹è·¯å¾„ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
          {/* å…³äºé¡µï¼špath="/about" åŒ¹é… /about è·¯å¾„ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
          {/* 404 é¡µï¼špath="*" æ˜¯é€šé…ç¬¦ï¼ŒåŒ¹é…æ‰€æœ‰æœªåŒ¹é…çš„è·¯å¾„ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NotFound</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    &lt;/<span class="hljs-title class_">Router</span>&gt;
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>æ•ˆæœè¯´æ˜ï¼šè¿è¡Œåº”ç”¨åï¼Œç‚¹å‡»â€œé¦–é¡µâ€â€œå…³äºé¡µâ€ä¼šåˆ‡æ¢ URL å¹¶æ¸²æŸ“å¯¹åº”ç»„ä»¶ï¼Œè¾“å…¥æœªå®šä¹‰çš„è·¯å¾„ï¼ˆå¦‚ /xxxï¼‰ä¼šæ¸²æŸ“ 404 é¡µé¢ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸åˆ·æ–°æµè§ˆå™¨ã€‚</p>
<h4 data-id="heading-4">å®æˆ˜æ¡ˆä¾‹ 2ï¼šåµŒå¥—è·¯ç”±ï¼ˆå®ç°é¡µé¢å¸ƒå±€å¤ç”¨ï¼‰</h4>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¾ˆå¤šé¡µé¢ä¼šå…±äº«ç›¸åŒçš„å¸ƒå±€ï¼ˆå¦‚é¡¶éƒ¨å¯¼èˆªã€ä¾§è¾¹æ ï¼‰ï¼Œè¿™æ—¶å¯ä»¥ç”¨åµŒå¥—è·¯ç”±å®ç°å¸ƒå±€å¤ç”¨ã€‚æ ¸å¿ƒæ€è·¯ï¼šçˆ¶è·¯ç”±æ¸²æŸ“å¸ƒå±€ç»„ä»¶ï¼Œå­è·¯ç”±é€šè¿‡  å ä½ç¬¦æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/App.jsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-comment">// å¸ƒå±€ç»„ä»¶ï¼ˆå…±äº«å¯¼èˆªæ ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Layout</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    {/* å…±äº«å¯¼èˆªæ  */}
    <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginBottom:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">display:</span> '<span class="hljs-attr">flex</span>', <span class="hljs-attr">gap:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user/profile"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user/setting"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>è®¾ç½®é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
    {/* å­è·¯ç”±å ä½ç¬¦ï¼šå­è·¯ç”±ç»„ä»¶ä¼šæ¸²æŸ“åœ¨è¿™é‡Œ */}
    <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);

<span class="hljs-comment">// é¡µé¢ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é¦–é¡µï¼šReact Router v7 åµŒå¥—è·¯ç”±å®æˆ˜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserProfile</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä¸ªäººä¸­å¿ƒï¼šæŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserSetting</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>è®¾ç½®é¡µé¢ï¼šä¿®æ”¹ç”¨æˆ·é…ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">NotFound</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>404ï¼šé¡µé¢ä¸å­˜åœ¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
          {/* çˆ¶è·¯ç”±ï¼šæ¸²æŸ“å¸ƒå±€ç»„ä»¶ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Layout</span> /&gt;</span>}&gt;
            {/* å­è·¯ç”±ï¼šä¼šæ¸²æŸ“åˆ° Layout ç»„ä»¶çš„ <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span> ä½ç½® */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">index</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt; {/* index è¡¨ç¤ºé»˜è®¤å­è·¯ç”±ï¼ˆpath ä¸ºç©ºï¼‰ */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"user/profile"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">UserProfile</span> /&gt;</span>} /&gt; {/* è·¯å¾„ï¼š/user/profile */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"user/setting"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">UserSetting</span> /&gt;</span>} /&gt; {/* è·¯å¾„ï¼š/user/setting */}
          <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span>
          {/* 404 é¡µ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NotFound</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ•ˆæœè¯´æ˜ï¼šæ‰€æœ‰å­è·¯ç”±ï¼ˆé¦–é¡µã€ä¸ªäººä¸­å¿ƒã€è®¾ç½®é¡µé¢ï¼‰éƒ½ä¼šå…±äº« Layout ç»„ä»¶çš„å¯¼èˆªæ ï¼Œæ— éœ€é‡å¤ç¼–å†™å¯¼èˆªä»£ç ï¼Œå®ç°å¸ƒå±€å¤ç”¨ã€‚å…¶ä¸­<code>index</code> å±æ€§è¡¨ç¤ºâ€œé»˜è®¤å­è·¯ç”±â€ï¼Œå½“ URL ä¸º / æ—¶ï¼Œä¼šæ¸²æŸ“ Home ç»„ä»¶ã€‚</p>
<h3 data-id="heading-5">2. è¿›é˜¶ç¼–ç¨‹å¼é…ç½®ï¼šæ•°ç»„é…ç½®+useRoutesï¼ˆå¤æ‚åº”ç”¨é¦–é€‰ï¼‰</h3>
<p>å½“åº”ç”¨è§„æ¨¡æ‰©å¤§ï¼ˆå¦‚å‡ åä¸Šç™¾ä¸ªè·¯ç”±ï¼‰æ—¶ï¼Œå£°æ˜å¼é…ç½®ä¼šæ˜¾å¾—å†—é•¿ä¸”éš¾ä»¥ç»´æŠ¤ã€‚è¿™æ—¶å¯ä»¥ç”¨â€œæ•°ç»„é…ç½®+useRoutes Hookâ€å®ç°ç¼–ç¨‹å¼è·¯ç”±é…ç½®ï¼šå°†æ‰€æœ‰è·¯ç”±è§„åˆ™å®šä¹‰åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œé€šè¿‡ useRoutes Hook è½¬æ¢ä¸ºè·¯ç”±ç»„ä»¶ï¼Œæ›´ä¾¿äºç®¡ç†å’Œæ‰©å±•ï¼ˆå¦‚åŠ¨æ€æ·»åŠ è·¯ç”±ã€è·¯ç”±æƒé™æ§åˆ¶ï¼‰ã€‚</p>
<h4 data-id="heading-6">å®æˆ˜æ¡ˆä¾‹ 3ï¼šç¼–ç¨‹å¼è·¯ç”±é…ç½®ï¼ˆå«åµŒå¥—è·¯ç”±ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/App.jsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span>, useRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-comment">// 1. å®šä¹‰é¡µé¢ç»„ä»¶ï¼ˆä¸ä¹‹å‰ä¸€è‡´ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Layout</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">marginBottom:</span> '<span class="hljs-attr">20px</span>', <span class="hljs-attr">display:</span> '<span class="hljs-attr">flex</span>', <span class="hljs-attr">gap:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user/profile"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user/setting"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>è®¾ç½®é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é¦–é¡µï¼šç¼–ç¨‹å¼è·¯ç”±é…ç½®<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserProfile</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ä¸ªäººä¸­å¿ƒ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserSetting</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>è®¾ç½®é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">NotFound</span> = (<span class="hljs-params"/>) =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>404ï¼šé¡µé¢ä¸å­˜åœ¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>;

<span class="hljs-comment">// 2. å®šä¹‰è·¯ç”±é…ç½®æ•°ç»„ï¼ˆæ ¸å¿ƒï¼šæ‰€æœ‰è·¯ç”±è§„åˆ™é›†ä¸­åœ¨è¿™é‡Œï¼‰</span>
<span class="hljs-keyword">const</span> routesConfig = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-comment">// çˆ¶è·¯ç”±è·¯å¾„</span>
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>, <span class="hljs-comment">// çˆ¶è·¯ç”±ç»„ä»¶ï¼ˆå¸ƒå±€ï¼‰</span>
    <span class="hljs-attr">children</span>: [ <span class="hljs-comment">// å­è·¯ç”±é…ç½®</span>
      { <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span> }, <span class="hljs-comment">// é»˜è®¤å­è·¯ç”±</span>
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'user/profile'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserProfile</span> /&gt;</span></span> }, <span class="hljs-comment">// å­è·¯ç”± 1</span>
      { <span class="hljs-attr">path</span>: <span class="hljs-string">'user/setting'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserSetting</span> /&gt;</span></span> } <span class="hljs-comment">// å­è·¯ç”± 2</span>
    ]
  },
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'*'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NotFound</span> /&gt;</span></span> } <span class="hljs-comment">// 404 è·¯ç”±</span>
];

<span class="hljs-comment">// 3. è·¯ç”±ç»„ä»¶ï¼šé€šè¿‡ useRoutes è½¬æ¢è·¯ç”±é…ç½®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">AppRoutes</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// useRoutesï¼šæ¥æ”¶è·¯ç”±é…ç½®æ•°ç»„ï¼Œè¿”å›å¯¹åº”çš„ Routes+Route ç»„ä»¶æ ‘</span>
  <span class="hljs-keyword">const</span> routes = <span class="hljs-title function_">useRoutes</span>(routesConfig);
  <span class="hljs-keyword">return</span> routes;
};

<span class="hljs-comment">// 4. æ ¹ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">AppRoutes</span> /&gt;</span> {/* æ¸²æŸ“è·¯ç”±ç»„ä»¶ */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ•ˆæœè¯´æ˜ï¼šä¸å£°æ˜å¼é…ç½®çš„æ•ˆæœå®Œå…¨ä¸€è‡´ï¼Œä½†è·¯ç”±è§„åˆ™é›†ä¸­åœ¨ <code>routesConfig</code> æ•°ç»„ä¸­ï¼Œä¾¿äºåç»­æ‰©å±•ï¼ˆå¦‚æ·»åŠ è·¯ç”±æƒé™æ§åˆ¶æ—¶ï¼Œåªéœ€ä¿®æ”¹æ•°ç»„ä¸­çš„è·¯ç”±è§„åˆ™ï¼‰ã€‚</p>
<h3 data-id="heading-7">3. æ ¸å¿ƒè¡¥å……ï¼šè·¯ç”±å‚æ•°ä¸ç¼–ç¨‹å¼è·³è½¬</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦â€œåŠ¨æ€è·¯ç”±å‚æ•°â€ï¼ˆå¦‚ /user/:id ä¸­çš„ idï¼‰å’Œâ€œç¼–ç¨‹å¼è·³è½¬â€ï¼ˆå¦‚è¡¨å•æäº¤æˆåŠŸåè·³è½¬åˆ°é¦–é¡µï¼‰ï¼Œè¿™ä¹Ÿæ˜¯ React Router çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</p>
<h4 data-id="heading-8">å®æˆ˜æ¡ˆä¾‹ 4ï¼šåŠ¨æ€è·¯ç”±å‚æ•°ï¼ˆuseParamsï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/App.jsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Link</span>, useParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-comment">// åˆ—è¡¨ç»„ä»¶ï¼šå±•ç¤ºç”¨æˆ·åˆ—è¡¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserList</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> users = [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°æ˜'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°çº¢'</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å°æ'</span> }
  ];

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç”¨æˆ·åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">listStyle:</span> '<span class="hljs-attr">none</span>', <span class="hljs-attr">padding:</span> <span class="hljs-attr">0</span> }}&gt;</span>
        {users.map(user =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{user.id}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">margin:</span> '<span class="hljs-attr">10px</span> <span class="hljs-attr">0</span>' }}&gt;</span>
            {/* è·³è½¬åˆ°ç”¨æˆ·è¯¦æƒ…é¡µï¼Œä¼ é€’ id å‚æ•° */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>`/<span class="hljs-attr">user</span>/${<span class="hljs-attr">user.id</span>}`} <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
              æŸ¥çœ‹ {user.name} çš„è¯¦æƒ…
            <span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-comment">// è¯¦æƒ…ç»„ä»¶ï¼šé€šè¿‡ useParams è·å–è·¯ç”±å‚æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserDetail</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// useParamsï¼šè·å–åŠ¨æ€è·¯ç”±å‚æ•°ï¼ˆè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œkey æ˜¯è·¯ç”±ä¸­çš„å ä½ç¬¦ï¼‰</span>
  <span class="hljs-keyword">const</span> { id } = <span class="hljs-title function_">useParams</span>();

  <span class="hljs-comment">// æ¨¡æ‹Ÿæ ¹æ® id è·å–ç”¨æˆ·ä¿¡æ¯</span>
  <span class="hljs-keyword">const</span> userInfo = {
    <span class="hljs-number">1</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å°æ˜'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'ç”·'</span> },
    <span class="hljs-number">2</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å°çº¢'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'å¥³'</span> },
    <span class="hljs-number">3</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'å°æ'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'ç”·'</span> }
  }[id];

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç”¨æˆ·è¯¦æƒ…ï¼ˆIDï¼š{id}ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {userInfo ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å§“åï¼š{userInfo.name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{userInfo.age}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ€§åˆ«ï¼š{userInfo.gender}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>è¿”å›ç”¨æˆ·åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ) : (
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç”¨æˆ·ä¸å­˜åœ¨<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
          {/* åŠ¨æ€è·¯ç”±ï¼špath ä¸­çš„ :id æ˜¯å ä½ç¬¦ï¼Œè¡¨ç¤ºåŠ¨æ€å‚æ•° */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/user/:id"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">UserDetail</span> /&gt;</span>} /&gt;
          {/* ç”¨æˆ·åˆ—è¡¨è·¯ç”± */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/user"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">UserList</span> /&gt;</span>} /&gt;
          {/* é»˜è®¤è·³è½¬åˆ°ç”¨æˆ·åˆ—è¡¨ */}
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/user"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textDecoration:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>è¿›å…¥ç”¨æˆ·åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-9">å®æˆ˜æ¡ˆä¾‹ 5ï¼šç¼–ç¨‹å¼è·³è½¬ï¼ˆuseNavigateï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/App.jsx</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Link</span>, useNavigate } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;

<span class="hljs-comment">// ç™»å½•ç»„ä»¶ï¼šç™»å½•æˆåŠŸåç¼–ç¨‹å¼è·³è½¬åˆ°é¦–é¡µ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Login</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>(); <span class="hljs-comment">// useNavigateï¼šè·å–å¯¼èˆªå‡½æ•°</span>

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleLogin</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// æ¨¡æ‹Ÿç™»å½•é€»è¾‘ï¼ˆéªŒè¯ç”¨æˆ·åå¯†ç ï¼‰</span>
    <span class="hljs-keyword">const</span> isLoginSuccess = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span> (isLoginSuccess) {
      <span class="hljs-comment">// ç¼–ç¨‹å¼è·³è½¬ï¼šè·³è½¬åˆ°é¦–é¡µï¼ˆreplace: true è¡¨ç¤ºæ›¿æ¢å†å²è®°å½•ï¼Œé¿å…å›é€€åˆ°ç™»å½•é¡µï¼‰</span>
      <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/'</span>, { <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> });
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">'ç™»å½•å¤±è´¥'</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ç™»å½•é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"ç”¨æˆ·å"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">margin:</span> '<span class="hljs-attr">10px</span> <span class="hljs-attr">0</span>' }} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"password"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"å¯†ç "</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">margin:</span> '<span class="hljs-attr">10px</span> <span class="hljs-attr">0</span>' }} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleLogin}</span>&gt;</span>ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleLogout</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// é€€å‡ºç™»å½•ï¼šè·³è½¬åˆ°ç™»å½•é¡µ</span>
    <span class="hljs-title function_">navigate</span>(<span class="hljs-string">'/login'</span>, { <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> });
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç™»å½•æˆåŠŸï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleLogout}</span>&gt;</span>é€€å‡ºç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Login</span> /&gt;</span>} /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ ¸å¿ƒè¯´æ˜ï¼š<code>useNavigate</code> æ˜¯ React Router v6+ æ–°å¢çš„ Hookï¼Œæ›¿ä»£äº†ä¹‹å‰çš„ <code>useHistory</code>ã€‚å®ƒè¿”å›çš„ <code>navigate</code> å‡½æ•°æ”¯æŒä¸¤ç§ç”¨æ³•ï¼š<code>navigate('/path')</code>ï¼ˆè·³è½¬åˆ°æŒ‡å®šè·¯å¾„ï¼‰å’Œ <code>navigate(-1)</code>ï¼ˆå›é€€åˆ°ä¸Šä¸€é¡µï¼‰ï¼Œ<code>replace: true</code> è¡¨ç¤ºæ›¿æ¢å½“å‰å†å²è®°å½•ï¼Œé¿å…ç”¨æˆ·å›é€€åˆ°ä¹‹å‰çš„é¡µé¢ã€‚</p>
<h2 data-id="heading-10">ä¸‰ã€React Router v7 æ ¸å¿ƒåŸç†æ‹†è§£</h2>
<p>æŒæ¡äº†å®æˆ˜ç”¨æ³•åï¼Œæˆ‘ä»¬æ¥æ·±å…¥ç†è§£ React Router çš„æ ¸å¿ƒåŸç†ã€‚å¾ˆå¤šäººä¼šå¥½å¥‡ï¼šâ€œä¸ºä»€ä¹ˆä¿®æ”¹ URL ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Ÿâ€â€œReact æ˜¯å¦‚ä½•æ ¹æ® URL åŒ¹é…å¯¹åº”çš„ç»„ä»¶ï¼Ÿâ€â€œè·¯ç”±ä¸Šä¸‹æ–‡æ˜¯å¦‚ä½•ä¼ é€’çš„ï¼Ÿâ€ ä¸‹é¢æˆ‘ä»¬ä» 3 ä¸ªæ ¸å¿ƒç‚¹æ‹†è§£åŸç†ã€‚</p>
<h3 data-id="heading-11">1. æ ¸å¿ƒåŸç† 1ï¼šSPA è·¯ç”±çš„åº•å±‚å®ç°ï¼ˆHash æ¨¡å¼ vs History æ¨¡å¼ï¼‰</h3>
<p>React Router å®ç° SPA è·¯ç”±çš„æ ¸å¿ƒæ˜¯â€œä¿®æ”¹ URL ä½†ä¸è§¦å‘æµè§ˆå™¨åˆ·æ–°â€ï¼Œè¿™ä¾èµ–äºæµè§ˆå™¨çš„ä¸¤ç§ APIï¼š<strong>Hash API</strong> å’Œ <strong>History API</strong>ï¼Œå¯¹åº” React Router çš„ä¸¤ç§æ¨¡å¼ï¼š</p>
<h4 data-id="heading-12">ï¼ˆ1ï¼‰Hash æ¨¡å¼ï¼ˆé»˜è®¤ fallback æ¨¡å¼ï¼‰</h4>
<p>Hash æ¨¡å¼åˆ©ç”¨ URL ä¸­çš„ <code>#</code>ï¼ˆå“ˆå¸Œå€¼ï¼‰å®ç°è·¯ç”±ã€‚æµè§ˆå™¨çš„ç‰¹æ€§æ˜¯ï¼š<strong>ä¿®æ”¹ # åé¢çš„å†…å®¹ä¸ä¼šè§¦å‘é¡µé¢åˆ·æ–°</strong>ï¼Œä½†ä¼šè§¦å‘ <code>hashchange</code> äº‹ä»¶ã€‚</p>
<p>ç¤ºä¾‹ URLï¼š<code>http://localhost:3000/#/user/profile</code>ï¼Œå…¶ä¸­ <code>#/user/profile</code> æ˜¯å“ˆå¸Œå€¼ï¼ŒReact Router ä¼šæ ¹æ®å“ˆå¸Œå€¼åŒ¹é…å¯¹åº”çš„ç»„ä»¶ã€‚</p>
<p>ç®€åŒ–ä»£ç æ¨¡æ‹Ÿ Hash æ¨¡å¼æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–æ¨¡æ‹Ÿ Hash æ¨¡å¼è·¯ç”±</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HashRouter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆå§‹åŒ–æ—¶åŒ¹é…å½“å‰å“ˆå¸Œå€¼å¯¹åº”çš„ç»„ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchRoute</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">hash</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// slice(1) å»æ‰ #</span>
    
    <span class="hljs-comment">// ç›‘å¬ hashchange äº‹ä»¶ï¼šURL å“ˆå¸Œå€¼å˜åŒ–æ—¶é‡æ–°åŒ¹é…ç»„ä»¶</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'hashchange'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> path = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">hash</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchRoute</span>(path);
    });
  }

  <span class="hljs-comment">// åŒ¹é…è·¯å¾„å¹¶æ¸²æŸ“ç»„ä»¶</span>
  <span class="hljs-title function_">matchRoute</span>(<span class="hljs-params">path</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰è·¯å¾„ï¼š'</span>, path);
    <span class="hljs-comment">// è¿™é‡Œçœç•¥ä¸è·¯ç”±é…ç½®çš„åŒ¹é…é€»è¾‘ï¼Œå®é™…ä¼šæ¸²æŸ“å¯¹åº”çš„ç»„ä»¶</span>
  }
}
</code></pre>
<h4 data-id="heading-13">ï¼ˆ2ï¼‰History æ¨¡å¼ï¼ˆæ¨èæ¨¡å¼ï¼Œ é‡‡ç”¨ï¼‰</h4>
<p>History æ¨¡å¼åˆ©ç”¨ HTML5 æ–°å¢çš„ <code>History API</code>ï¼ˆ<code>pushState</code>ã€<code>replaceState</code>ï¼‰å®ç°è·¯ç”±ã€‚è¿™ä¸¤ä¸ª API å¯ä»¥åœ¨ä¸åˆ·æ–°é¡µé¢çš„å‰æä¸‹ï¼Œä¿®æ”¹æµè§ˆå™¨çš„å†å²è®°å½•å’Œ URLï¼ŒåŒæ—¶ä¼šè§¦å‘ <code>popstate</code> äº‹ä»¶ï¼ˆå‰è¿›/åé€€æŒ‰é’®è§¦å‘ï¼‰ã€‚</p>
<p>ç¤ºä¾‹ URLï¼š<code>http://localhost:3000/user/profile</code>ï¼ˆæ—  #ï¼ŒURL æ›´ç¾è§‚ï¼‰ï¼Œä½†éœ€è¦åç«¯é…åˆé…ç½®ï¼ˆæ‰€æœ‰è·¯ç”±éƒ½æŒ‡å‘ index.htmlï¼Œé¿å…åˆ·æ–°é¡µé¢æ—¶ 404ï¼‰ã€‚</p>
<p>ç®€åŒ–ä»£ç æ¨¡æ‹Ÿ History æ¨¡å¼æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–æ¨¡æ‹Ÿ History æ¨¡å¼è·¯ç”±</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HistoryRouter</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆå§‹åŒ–æ—¶åŒ¹é…å½“å‰è·¯å¾„å¯¹åº”çš„ç»„ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchRoute</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>);
    
    <span class="hljs-comment">// ç›‘å¬ popstate äº‹ä»¶ï¼šå‰è¿›/åé€€æŒ‰é’®è§¦å‘æ—¶é‡æ–°åŒ¹é…ç»„ä»¶</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'popstate'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchRoute</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>);
    });
  }

  <span class="hljs-comment">// æ¨¡æ‹Ÿ push è·³è½¬ï¼ˆç±»ä¼¼ navigate('/path')ï¼‰</span>
  <span class="hljs-title function_">push</span>(<span class="hljs-params">path</span>) {
    <span class="hljs-comment">// ä¿®æ”¹å†å²è®°å½•å’Œ URLï¼Œä¸åˆ·æ–°é¡µé¢</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">pushState</span>({}, <span class="hljs-string">''</span>, path);
    <span class="hljs-comment">// åŒ¹é…è·¯å¾„å¹¶æ¸²æŸ“ç»„ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchRoute</span>(path);
  }

  <span class="hljs-comment">// æ¨¡æ‹Ÿ replace è·³è½¬ï¼ˆç±»ä¼¼ navigate('/path', { replace: true })ï¼‰</span>
  <span class="hljs-title function_">replace</span>(<span class="hljs-params">path</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">replaceState</span>({}, <span class="hljs-string">''</span>, path);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">matchRoute</span>(path);
  }

  <span class="hljs-comment">// åŒ¹é…è·¯å¾„å¹¶æ¸²æŸ“ç»„ä»¶</span>
  <span class="hljs-title function_">matchRoute</span>(<span class="hljs-params">path</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å½“å‰è·¯å¾„ï¼š'</span>, path);
    <span class="hljs-comment">// è¿™é‡Œçœç•¥ä¸è·¯ç”±é…ç½®çš„åŒ¹é…é€»è¾‘ï¼Œå®é™…ä¼šæ¸²æŸ“å¯¹åº”çš„ç»„ä»¶</span>
  }
}
</code></pre>
<p>ä¸¤ç§æ¨¡å¼å¯¹æ¯”ç”¨å›¾ä¾‹å±•ç¤ºï¼š</p>
<h3 data-id="heading-14">2. æ ¸å¿ƒåŸç† 2ï¼šè·¯ç”±ä¸Šä¸‹æ–‡ï¼ˆRouter Contextï¼‰çš„ä¼ é€’æœºåˆ¶</h3>
<p>React Router çš„æ ¸å¿ƒç»„ä»¶ï¼ˆå¦‚ ã€ã€useParamsã€useNavigate ç­‰ï¼‰ä¹‹æ‰€ä»¥èƒ½ååŒå·¥ä½œï¼Œæ˜¯å› ä¸ºå®ƒä»¬å…±äº«äº†ä¸€ä¸ªâ€œè·¯ç”±ä¸Šä¸‹æ–‡â€ï¼ˆRouter Contextï¼‰ã€‚è¿™ä¸ªä¸Šä¸‹æ–‡ç”±  ç»„ä»¶æä¾›ï¼ŒåŒ…å«äº†å½“å‰è·¯å¾„ã€å†å²è®°å½•ã€è·¯ç”±åŒ¹é…é€»è¾‘ç­‰æ ¸å¿ƒä¿¡æ¯ã€‚</p>
<h4 data-id="heading-15">ç®€åŒ–ä»£ç æ¨¡æ‹Ÿè·¯ç”±ä¸Šä¸‹æ–‡ä¼ é€’ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createContext, useContext, useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// 1. åˆ›å»ºè·¯ç”±ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">RouterContext</span> = <span class="hljs-title function_">createContext</span>();

<span class="hljs-comment">// 2. æä¾›è·¯ç”±ä¸Šä¸‹æ–‡çš„ Router ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Router</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">const</span> [currentPath, setCurrentPath] = <span class="hljs-title function_">useState</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>);

  <span class="hljs-comment">// ç›‘å¬ popstate äº‹ä»¶ï¼Œæ›´æ–°å½“å‰è·¯å¾„</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handlePopState</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-title function_">setCurrentPath</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>);
    };
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'popstate'</span>, handlePopState);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'popstate'</span>, handlePopState);
  }, []);

  <span class="hljs-comment">// å¯¼èˆªå‡½æ•°ï¼ˆpush æ¨¡å¼ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">push</span> = (<span class="hljs-params">path</span>) =&gt; {
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">pushState</span>({}, <span class="hljs-string">''</span>, path);
    <span class="hljs-title function_">setCurrentPath</span>(path);
  };

  <span class="hljs-comment">// ä¸Šä¸‹æ–‡å€¼ï¼šåŒ…å«å½“å‰è·¯å¾„å’Œå¯¼èˆªå‡½æ•°</span>
  <span class="hljs-keyword">const</span> contextValue = {
    currentPath,
    push
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RouterContext.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{contextValue}</span>&gt;</span>
      {children} {/* æ‰€æœ‰å­ç»„ä»¶éƒ½èƒ½è®¿é—®è·¯ç”±ä¸Šä¸‹æ–‡ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">RouterContext.Provider</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// 3. è‡ªå®šä¹‰ Hookï¼šè·å–è·¯ç”±ä¸Šä¸‹æ–‡ï¼ˆç±»ä¼¼ useNavigateã€useParamsï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useRouter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> context = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">RouterContext</span>);
  <span class="hljs-keyword">if</span> (!context) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'useRouter å¿…é¡»åœ¨ Router ç»„ä»¶å†…éƒ¨ä½¿ç”¨'</span>);
  }
  <span class="hljs-keyword">return</span> context;
}

<span class="hljs-comment">// 4. è·¯ç”±å®¹å™¨ç»„ä»¶ï¼ˆç±»ä¼¼ &lt;Routes&gt;ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Routes</span>(<span class="hljs-params">{ children }</span>) {
  <span class="hljs-keyword">const</span> { currentPath } = <span class="hljs-title function_">useRouter</span>();
  <span class="hljs-comment">// éå†å­ Route ç»„ä»¶ï¼ŒåŒ¹é…å½“å‰è·¯å¾„</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">React</span>.<span class="hljs-property">Children</span>.<span class="hljs-title function_">map</span>(children, <span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (child.<span class="hljs-property">props</span>.<span class="hljs-property">path</span> === currentPath || (child.<span class="hljs-property">props</span>.<span class="hljs-property">index</span> &amp;&amp; currentPath === <span class="hljs-string">'/'</span>)) {
      <span class="hljs-keyword">return</span> child.<span class="hljs-property">props</span>.<span class="hljs-property">element</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  });
}

<span class="hljs-comment">// 5. è·¯ç”±è§„åˆ™ç»„ä»¶ï¼ˆç±»ä¼¼ &lt;Route&gt;ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Route</span>(<span class="hljs-params">{ path, index, element }</span>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>{element}<span class="hljs-tag">&lt;/&gt;</span></span>;
}

<span class="hljs-comment">// 6. å¯¼èˆªç»„ä»¶ï¼ˆç±»ä¼¼ &lt;Link&gt;ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Link</span>(<span class="hljs-params">{ to, children }</span>) {
  <span class="hljs-keyword">const</span> { push } = <span class="hljs-title function_">useRouter</span>();
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params">e</span>) =&gt; {
    e.<span class="hljs-title function_">preventDefault</span>(); <span class="hljs-comment">// é˜»æ­¢é»˜è®¤è·³è½¬è¡Œä¸ºï¼ˆåˆ·æ–°é¡µé¢ï¼‰</span>
    <span class="hljs-title function_">push</span>(to); <span class="hljs-comment">// è°ƒç”¨ä¸Šä¸‹æ–‡çš„ push æ–¹æ³•ï¼Œä¿®æ”¹ URL å¹¶æ›´æ–°çŠ¶æ€</span>
  };
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">{to}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span>;
}
</code></pre>
<p>æ ¸å¿ƒé€»è¾‘è¯´æ˜ï¼š</p>
<ul>
<li> ç»„ä»¶åˆ›å»ºè·¯ç”±ä¸Šä¸‹æ–‡ï¼Œæä¾›å½“å‰è·¯å¾„ï¼ˆcurrentPathï¼‰å’Œå¯¼èˆªå‡½æ•°ï¼ˆpushï¼‰ï¼›</li>
<li>æ‰€æœ‰è·¯ç”±ç›¸å…³ç»„ä»¶ï¼ˆã€ã€Linkã€useRouterï¼‰é€šè¿‡ useContext è·å–è·¯ç”±ä¸Šä¸‹æ–‡ï¼›</li>
<li>Link ç»„ä»¶ç‚¹å‡»æ—¶ï¼Œé€šè¿‡ push æ–¹æ³•ä¿®æ”¹ URLï¼ˆä¸åˆ·æ–°é¡µé¢ï¼‰å¹¶æ›´æ–° currentPathï¼›</li>
<li> ç»„ä»¶æ ¹æ® currentPath åŒ¹é…å¯¹åº”çš„  ç»„ä»¶ï¼Œæ¸²æŸ“å¯¹åº”çš„ elementã€‚</li>
</ul>
<h3 data-id="heading-16">3. æ ¸å¿ƒåŸç† 3ï¼šè·¯ç”±åŒ¹é…é€»è¾‘ï¼ˆè·¯å¾„åŒ¹é…ä¸ä¼˜å…ˆçº§ï¼‰</h3>
<p>React Router çš„è·¯ç”±åŒ¹é…é€»è¾‘æ˜¯â€œç²¾å‡†åŒ¹é…+ä¼˜å…ˆçº§åŒ¹é…â€ï¼Œæ ¸å¿ƒè§„åˆ™å¦‚ä¸‹ï¼š</p>
<ol start="4">
<li><strong>ç²¾å‡†åŒ¹é…ä¼˜å…ˆ</strong>ï¼šå®Œå…¨åŒ¹é… URL è·¯å¾„çš„è·¯ç”±ä¼˜å…ˆæ¸²æŸ“ï¼ˆå¦‚ /user åŒ¹é… path="/user"ï¼Œä¸åŒ¹é… path="/user/:id"ï¼‰ï¼›</li>
<li><strong>æ¨¡ç³ŠåŒ¹é…ï¼ˆåŠ¨æ€å‚æ•°ï¼‰</strong> ï¼šå¸¦åŠ¨æ€å‚æ•°çš„è·¯ç”±ï¼ˆå¦‚ /user/:idï¼‰ä¼šåŒ¹é…ç¬¦åˆæ ¼å¼çš„è·¯å¾„ï¼ˆå¦‚ /user/1ã€/user/2ï¼‰ï¼›</li>
<li><strong>é€šé…ç¬¦åŒ¹é…ï¼ˆæœ€ä½ä¼˜å…ˆçº§ï¼‰</strong> ï¼špath="*" æ˜¯é€šé…ç¬¦ï¼ŒåŒ¹é…æ‰€æœ‰æœªåŒ¹é…çš„è·¯å¾„ï¼ˆå¦‚ 404 é¡µé¢ï¼‰ï¼Œä¼˜å…ˆçº§æœ€ä½ï¼›</li>
<li><strong>åµŒå¥—è·¯ç”±åŒ¹é…</strong>ï¼šçˆ¶è·¯ç”±åŒ¹é…æˆåŠŸåï¼Œæ‰ä¼šåŒ¹é…å…¶å­è·¯ç”±ï¼ˆå¦‚ /user/profile éœ€å…ˆåŒ¹é…çˆ¶è·¯ç”± /userï¼Œå†åŒ¹é…å­è·¯ç”± profileï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-17">ç®€åŒ–ä»£ç æ¨¡æ‹Ÿè·¯ç”±åŒ¹é…é€»è¾‘ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€åŒ–æ¨¡æ‹Ÿè·¯ç”±åŒ¹é…é€»è¾‘</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">matchRoutes</span>(<span class="hljs-params">routesConfig, currentPath</span>) {
  <span class="hljs-comment">// éå†è·¯ç”±é…ç½®ï¼Œå¯»æ‰¾åŒ¹é…çš„è·¯ç”±</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> route <span class="hljs-keyword">of</span> routesConfig) {
    <span class="hljs-comment">// 1. åŒ¹é…å½“å‰è·¯ç”±</span>
    <span class="hljs-keyword">if</span> (route.<span class="hljs-property">path</span> === currentPath) {
      <span class="hljs-keyword">return</span> route; <span class="hljs-comment">// ç²¾å‡†åŒ¹é…ï¼Œç›´æ¥è¿”å›</span>
    }

    <span class="hljs-comment">// 2. åŒ¹é…åŠ¨æ€è·¯ç”±ï¼ˆå¦‚ /user/:id åŒ¹é… /user/1ï¼‰</span>
    <span class="hljs-keyword">const</span> dynamicPathRegex = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">`^<span class="hljs-subst">${route.path.replace(/:(\w+)/g, <span class="hljs-string">'([^/]+)'</span>)}</span>$`</span>);
    <span class="hljs-keyword">if</span> (dynamicPathRegex.<span class="hljs-title function_">test</span>(currentPath)) {
      <span class="hljs-comment">// æå–åŠ¨æ€å‚æ•°ï¼ˆå¦‚ id=1ï¼‰</span>
      <span class="hljs-keyword">const</span> params = {};
      <span class="hljs-keyword">const</span> matches = currentPath.<span class="hljs-title function_">match</span>(dynamicPathRegex);
      <span class="hljs-keyword">const</span> paramNames = route.<span class="hljs-property">path</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/:(\w+)/g</span>)?.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)) || [];
      paramNames.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">name, index</span>) =&gt;</span> {
        params[name] = matches[index + <span class="hljs-number">1</span>];
      });
      <span class="hljs-keyword">return</span> { ...route, params }; <span class="hljs-comment">// è¿”å›è·¯ç”±å’Œå‚æ•°</span>
    }

    <span class="hljs-comment">// 3. åµŒå¥—è·¯ç”±åŒ¹é…ï¼ˆé€’å½’åŒ¹é…å­è·¯ç”±ï¼‰</span>
    <span class="hljs-keyword">if</span> (route.<span class="hljs-property">children</span> &amp;&amp; currentPath.<span class="hljs-title function_">startsWith</span>(route.<span class="hljs-property">path</span>)) {
      <span class="hljs-keyword">const</span> childPath = currentPath.<span class="hljs-title function_">slice</span>(route.<span class="hljs-property">path</span>.<span class="hljs-property">length</span>) || <span class="hljs-string">'/'</span>;
      <span class="hljs-keyword">const</span> matchedChild = <span class="hljs-title function_">matchRoutes</span>(route.<span class="hljs-property">children</span>, childPath);
      <span class="hljs-keyword">if</span> (matchedChild) {
        <span class="hljs-keyword">return</span> { ...matchedChild, <span class="hljs-attr">parent</span>: route }; <span class="hljs-comment">// è¿”å›åŒ¹é…çš„å­è·¯ç”±å’Œçˆ¶è·¯ç”±</span>
      }
    }
  }

  <span class="hljs-comment">// 4. åŒ¹é…é€šé…ç¬¦è·¯ç”±ï¼ˆpath="*"ï¼‰</span>
  <span class="hljs-keyword">const</span> wildcardRoute = routesConfig.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">route</span> =&gt;</span> route.<span class="hljs-property">path</span> === <span class="hljs-string">'*'</span>);
  <span class="hljs-keyword">if</span> (wildcardRoute) {
    <span class="hljs-keyword">return</span> wildcardRoute;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// æ— åŒ¹é…è·¯ç”±</span>
}

<span class="hljs-comment">// æµ‹è¯•è·¯ç”±åŒ¹é…</span>
<span class="hljs-keyword">const</span> routesConfig = [
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span> /&gt;</span></span>, <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">index</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Home</span> /&gt;</span></span> }] },
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'/user/:id'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">UserDetail</span> /&gt;</span></span> },
  { <span class="hljs-attr">path</span>: <span class="hljs-string">'*'</span>, <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NotFound</span> /&gt;</span></span> }
];

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">matchRoutes</span>(routesConfig, <span class="hljs-string">'/user/1'</span>)); 
<span class="hljs-comment">// è¾“å‡ºï¼š{ path: '/user/:id', element: &lt;UserDetail /&gt;, params: { id: '1' } }</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">matchRoutes</span>(routesConfig, <span class="hljs-string">'/xxx'</span>));
<span class="hljs-comment">// è¾“å‡ºï¼š{ path: '*', element: &lt;NotFound /&gt; }</span>
</code></pre>
<p>è·¯ç”±åŒ¹é…æµç¨‹ç”¨å›¾ä¾‹å±•ç¤ºï¼š</p>
<h2 data-id="heading-18">å››ã€æ ¸å¿ƒæ€»ç»“ä¸å®æˆ˜é¿å‘æŒ‡å—</h2>
<h3 data-id="heading-19">æ ¸å¿ƒæ€»ç»“</h3>
<ol start="7">
<li><strong>è·¯ç”±æ ¸å¿ƒä½œç”¨</strong>ï¼šåœ¨ SPA ä¸­å®ç°â€œæ— åˆ·æ–°é¡µé¢åˆ‡æ¢â€ï¼Œæ ¸å¿ƒä¾èµ– Hash API æˆ– History APIï¼›</li>
<li><strong>ä¸¤ç§é…ç½®æ–¹å¼</strong>ï¼šå£°æ˜å¼é…ç½®ï¼ˆJSX æ ‡ç­¾ï¼‰é€‚åˆç®€å•åº”ç”¨ï¼Œç¼–ç¨‹å¼é…ç½®ï¼ˆæ•°ç»„+useRoutesï¼‰é€‚åˆå¤æ‚åº”ç”¨ï¼›</li>
<li><strong>æ ¸å¿ƒ API è®°å¿†</strong>ï¼šï¼ˆæä¾›ä¸Šä¸‹æ–‡ï¼‰ã€+ï¼ˆåŒ¹é…è·¯ç”±ï¼‰ã€Linkï¼ˆå£°æ˜å¼è·³è½¬ï¼‰ã€useNavigateï¼ˆç¼–ç¨‹å¼è·³è½¬ï¼‰ã€useParamsï¼ˆè·å–åŠ¨æ€å‚æ•°ï¼‰ï¼›</li>
<li><strong>åº•å±‚åŸç†æ ¸å¿ƒ</strong>ï¼šè·¯ç”±ä¸Šä¸‹æ–‡ä¼ é€’æ ¸å¿ƒä¿¡æ¯ï¼ŒURL å˜åŒ–é€šè¿‡æµè§ˆå™¨ API å®ç°æ— åˆ·æ–°ä¿®æ”¹ï¼Œè·¯ç”±åŒ¹é…é€šè¿‡â€œç²¾å‡†â†’åŠ¨æ€â†’åµŒå¥—â†’é€šé…ç¬¦â€çš„ä¼˜å…ˆçº§é€»è¾‘å®ç°ã€‚</li>
</ol>
<h3 data-id="heading-20">å®æˆ˜é¿å‘æŒ‡å—</h3>
<ul>
<li><strong>å‘ 1ï¼šHistory æ¨¡å¼åˆ·æ–° 404</strong>ï¼šè§£å†³æ–¹æ¡ˆï¼šåç«¯é…ç½®æ‰€æœ‰è·¯ç”±æŒ‡å‘ index.htmlï¼ˆå¦‚ Nginx é…ç½® try_files <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mi>r</mi><mi>i</mi></mrow><annotation encoding="application/x-tex">uri </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span></span></span></span></span>uri/ /index.html;ï¼‰ï¼›</li>
<li><strong>å‘ 2ï¼šuseParams è·å–ä¸åˆ°å‚æ•°</strong>ï¼šæ£€æŸ¥è·¯ç”± path æ˜¯å¦æ­£ç¡®å®šä¹‰åŠ¨æ€å‚æ•°ï¼ˆå¦‚ /user/:idï¼‰ï¼Œä¸”ç»„ä»¶æ˜¯å¦åœ¨  ç»„ä»¶çš„ element ä¸­ï¼ˆåªæœ‰è·¯ç”±ç»„ä»¶æ‰èƒ½ä½¿ç”¨ useParamsï¼‰ï¼›</li>
<li><strong>å‘ 3ï¼šåµŒå¥—è·¯ç”±ä¸æ¸²æŸ“</strong>ï¼šå¿˜è®°åœ¨çˆ¶è·¯ç”±ç»„ä»¶ä¸­æ·»åŠ   å ä½ç¬¦ï¼Œå­è·¯ç”±ç»„ä»¶æ— æ³•æ¸²æŸ“ï¼›</li>
<li><strong>å‘ 4ï¼šè·¯ç”±åŒ¹é…é¡ºåºé”™è¯¯</strong>ï¼šé€šé…ç¬¦è·¯ç”±ï¼ˆpath="*"ï¼‰å¿…é¡»æ”¾åœ¨æœ€åï¼Œå¦åˆ™ä¼šè¦†ç›–å…¶ä»–è·¯ç”±ï¼›åŠ¨æ€è·¯ç”±ï¼ˆ/user/:idï¼‰è¦æ”¾åœ¨ç²¾å‡†è·¯ç”±ï¼ˆ/user/profileï¼‰ä¹‹åï¼Œé¿å…ç²¾å‡†è·¯ç”±è¢«è¦†ç›–ï¼›</li>
<li><strong>å‘ 5ï¼šLink ç»„ä»¶åˆ·æ–°é¡µé¢</strong>ï¼šä¸è¦åœ¨ Link ç»„ä»¶ä¸­æ·»åŠ å¤šä½™çš„ onClick äº‹ä»¶å¹¶è°ƒç”¨ window.location.hrefï¼ŒLink ç»„ä»¶æœ¬èº«ä¼šé˜»æ­¢é»˜è®¤è·³è½¬è¡Œä¸ºï¼Œåªéœ€é€šè¿‡ to å±æ€§æŒ‡å®šè·¯å¾„ã€‚</li>
</ul>
<h2 data-id="heading-21">äº”ã€ä¸‹ä¸€æ­¥å­¦ä¹ æ–¹å‘</h2>
<p>ä»Šå¤©æˆ‘ä»¬æŒæ¡äº† React Router v7 çš„æ ¸å¿ƒé…ç½®å’Œåº•å±‚åŸç†ï¼Œä¸‹ä¸€æ­¥å¯ä»¥é‡ç‚¹å­¦ä¹ ï¼š</p>
<ul>
<li>è·¯ç”±æƒé™æ§åˆ¶ï¼šç»“åˆ React çŠ¶æ€ç®¡ç†å®ç°ç™»å½•æ‹¦æˆªã€è§’è‰²æƒé™æ§åˆ¶ï¼ˆå¦‚æœªç™»å½•ç”¨æˆ·è·³è½¬åˆ°ç™»å½•é¡µï¼‰ï¼›</li>
<li>è·¯ç”±æ‡’åŠ è½½ï¼šç”¨ React.lazy å’Œ Suspense å®ç°è·¯ç”±ç»„ä»¶æ‡’åŠ è½½ï¼Œä¼˜åŒ–åº”ç”¨åŠ è½½æ€§èƒ½ï¼›</li>
<li>React Router é«˜çº§ APIï¼šå¦‚ useSearchParamsï¼ˆè·å– URL æŸ¥è¯¢å‚æ•°ï¼‰ã€useLocationï¼ˆè·å–å½“å‰è·¯ç”±ä½ç½®ä¿¡æ¯ï¼‰ã€useMatchï¼ˆåŒ¹é…è·¯ç”±è·¯å¾„ï¼‰ï¼›</li>
<li>React Router v7 æ–°ç‰¹æ€§ï¼šå¦‚æ•°æ®è·¯ç”±ï¼ˆData Routerï¼‰ã€åŠ è½½çŠ¶æ€ç®¡ç†ç­‰ï¼ˆv7 é‡ç‚¹ä¼˜åŒ–æ–¹å‘ï¼‰ã€‚</li>
</ul>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï½ æœ‰ä»»ä½•é—®é¢˜ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï½ æˆ‘ä»¬ä¸‹æœŸå†è§ï¼</p></a></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ —å­å‰ç«¯æŠ€æœ¯å‘¨åˆŠç¬¬ 112 æœŸ - Rspack 1.7ã€2025 JS æ–°æ˜Ÿæ¦œå•ã€HTML çŠ¶æ€è°ƒæŸ¥...]]></title>    <link>https://juejin.cn/post/7593550315253858310</link>    <guid>https://juejin.cn/post/7593550315253858310</guid>    <pubDate>2026-01-12T00:46:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593550315253858310" data-draft-id="7593252939709104164" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ —å­å‰ç«¯æŠ€æœ¯å‘¨åˆŠç¬¬ 112 æœŸ - Rspack 1.7ã€2025 JS æ–°æ˜Ÿæ¦œå•ã€HTML çŠ¶æ€è°ƒæŸ¥..."/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,HTML"/> <meta itemprop="datePublished" content="2026-01-12T00:46:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™“å¾—è¿·è·¯äº†"/> <meta itemprop="url" content="https://juejin.cn/user/2172290706715565"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ —å­å‰ç«¯æŠ€æœ¯å‘¨åˆŠç¬¬ 112 æœŸ - Rspack 1.7ã€2025 JS æ–°æ˜Ÿæ¦œå•ã€HTML çŠ¶æ€è°ƒæŸ¥...
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2172290706715565/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™“å¾—è¿·è·¯äº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:46:00.000Z" title="Mon Jan 12 2026 00:46:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸŒ°<strong>æ —å­å‰ç«¯æŠ€æœ¯å‘¨åˆŠç¬¬ 112 æœŸ (2026.01.05 - 2026.01.11)</strong>ï¼šæµè§ˆå‰ç«¯ä¸€å‘¨æœ€æ–°æ¶ˆæ¯ï¼Œå­¦ä¹ å›½å†…å¤–ä¼˜ç§€æ–‡ç« è§†é¢‘ï¼Œè®©æˆ‘ä»¬ä¿æŒå¯¹å‰ç«¯çš„å¥½å¥‡å¿ƒã€‚</p>
<h2 data-id="heading-0">ğŸ“° æŠ€æœ¯èµ„è®¯</h2>
<ol>
<li>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Frspack.rs%2Fzh%2Fblog%2Fannouncing-1-7" target="_blank" title="https://rspack.rs/zh/blog/announcing-1-7" ref="nofollow noopener noreferrer">Rspack 1.7</a></strong>ï¼š Rspack 1.7 å·²æ­£å¼å‘å¸ƒï¼è¿™æ˜¯ Rspack 1.x çš„æœ€åä¸€ä¸ª minor ç‰ˆæœ¬ï¼Œä¸»è¦èšç„¦äºç°æœ‰åŠŸèƒ½çš„ç¨³å®šæ€§æ”¹è¿›ï¼ŒåŒ…æ‹¬ SWC æ’ä»¶å…¼å®¹æ€§æå‡ã€æ”¯æŒ Import Bytesã€Lazy compilation ç­‰ç­‰ã€‚</p>
</li>
<li>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Frisingstars.js.org%2F2025%2Fen" target="_blank" title="https://risingstars.js.org/2025/en" ref="nofollow noopener noreferrer">2025 å¹´åº¦ JavaScript æ–°æ˜Ÿæ¦œå•</a></strong>ï¼šæ¯å¹´å¹´åˆï¼Œè¿ˆå…‹å°”éƒ½ä¼šå¯¹è¿‡å»ä¸€å¹´åœ¨ GitHub ä¸Šçƒ­åº¦æœ€é«˜çš„ JavaScript ç”Ÿæ€é¡¹ç›®è¿›è¡Œæ±‡æ€»ç›˜ç‚¹ã€‚åœ¨è¿ç»­ä¸¤å¹´è‰è”æ¦œé¦–åï¼Œshadcn/ui æ­¤æ¬¡è¢« n8n ä¸ React Bits è¶…è¶Šï¼Œè·Œè‡³ç¬¬ä¸‰åã€‚è¿™ä»½æ¦œå•ä»Šå¹´å·²æ˜¯ç¬¬åå±Šï¼ˆå ªç§°é‡Œç¨‹ç¢‘ï¼‰ï¼Œè¿˜æ”¶å½•äº†å¤šä½è¡Œä¸šä¸“å®¶çš„æ·±åº¦ç‚¹è¯„ï¼Œæå…·å‚è€ƒä»·å€¼ã€‚</p>
</li>
</ol>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30bebb57bea246399bf47a8545b00900~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pmT5b6X6L-36Lev5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783559&amp;x-signature=KBjxtxoqRXdf8QdYC13O9s6GQBQ%3D" width="100%" alt="image-20260111161348909" loading="lazy"/>
<ol start="3">
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2F2025.stateofhtml.com%2Fen-US%2F" target="_blank" title="https://2025.stateofhtml.com/en-US/" ref="nofollow noopener noreferrer">2025 å¹´ HTML ç°çŠ¶è°ƒæŸ¥</a></strong>ï¼š2025 å¹´ HTML ç°çŠ¶è°ƒæŸ¥æŠ¥å‘Šç»“æœç°å·²å‘å¸ƒã€‚æŠ¥å‘Šä¸­æåˆ°å¼€å‘è€…æœ€å…³æ³¨çš„å¹¶éAIã€3D/ARç­‰ç‚«é…·åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸‹æ‹‰èœå•ã€è¡¨å•éªŒè¯ã€å¼¹å‡ºå±‚ã€æ–‡ä»¶è¯»å†™ç­‰â€œåŸºç¡€å¹³æ·¡â€åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿæåˆ°ä¸€ä¸ªç—›ç‚¹ï¼Œå¤šæ•°åŸºç¡€åŠŸèƒ½è™½æœ‰åŸç”Ÿ APIï¼Œä½†å› æ— æ³•å®šåˆ¶æ ·å¼è€Œå½¢åŒâ€œä¸å¯ç”¨â€ã€‚</li>
</ol>
<h2 data-id="heading-1">ğŸ“’ æŠ€æœ¯æ–‡ç« </h2>
<ol>
<li>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgibbok%2Ftypescript-book" target="_blank" title="https://github.com/gibbok/typescript-book" ref="nofollow noopener noreferrer">The Concise TypeScript Book</a></strong>ï¼šç®€æ˜ TypeScript æŒ‡å— - å…è´¹å¼€æºç‰ˆä¸“æ³¨äºæä¾›æ¸…æ™°ã€å®ç”¨çš„æŒ‡å—ï¼Œå¸®åŠ©ä½ é«˜æ•ˆåœ°è¿›è¡Œ TypeScript å¼€å‘ã€‚</p>
</li>
<li>
<p><strong><a href="https://juejin.cn/post/7592094358658138146" target="_blank" title="https://juejin.cn/post/7592094358658138146">æœ‰èµAIç ”å‘å…¨æµç¨‹è½åœ°å®è·µ</a></strong>ï¼šæœ¬æ–‡åˆ†äº«äº†æœ‰èµAIç ”å‘å…¨æµç¨‹è½åœ°å®è·µï¼ŒåŒ…æ‹¬ AI Codingã€AI Testã€AI DevOps ç­‰ã€‚</p>
</li>
<li>
<p><strong><a href="https://juejin.cn/post/7592805973120401414" target="_blank" title="https://juejin.cn/post/7592805973120401414">CSS æ–°ç‰¹æ€§ï¼ç€‘å¸ƒæµå¸ƒå±€çš„ç»ˆæè§£å†³æ–¹æ¡ˆ</a></strong>ï¼šæ–‡ç« ä»‹ç»äº†å‰ç«¯ç€‘å¸ƒæµå¸ƒå±€çš„ç»ˆæè§£å†³æ–¹æ¡ˆ CSS Grid Lanes ï¼ˆCSS ç½‘æ ¼è½¦é“ï¼‰ï¼Œå…¶åŸç†ç±»ä¼¼è½¦è¾†é€‰æœ€çŸ­è½¦é“æ’é˜Ÿï¼Œç½‘é¡µå†…å®¹è‡ªåŠ¨å¡«å……åˆ°æœ€çŸ­åˆ—ã€‚</p>
</li>
</ol>
<h2 data-id="heading-2">ğŸ”§ å¼€å‘å·¥å…·</h2>
<ol>
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.github.io%2Ftiny-editor%2F" target="_blank" title="https://opentiny.github.io/tiny-editor/" ref="nofollow noopener noreferrer">TinyEditor v4.0</a></strong>ï¼šTinyEditor æ˜¯ä¸€ä¸ªåŸºäº Quill 2.0 çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œåœ¨ Quill åŸºç¡€ä¸Šæ‰©å±•äº†ä¸°å¯Œçš„æ¨¡å—å’Œæ ¼å¼ï¼Œæ¡†æ¶æ— å…³ã€åŠŸèƒ½å¼ºå¤§ã€å¼€ç®±å³ç”¨ã€‚</li>
</ol>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/106b0119118043088fc8b093a63972e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pmT5b6X6L-36Lev5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783559&amp;x-signature=40cbN9%2Fmaf9lzhtUvhfOrCrysEQ%3D" width="100%" alt="image-20260111155832352" loading="lazy"/>
<ol start="2">
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fparallax%2FjsPDF" target="_blank" title="https://github.com/parallax/jsPDF" ref="nofollow noopener noreferrer">jsPDF 4.0</a></strong>ï¼šJavaScript PDF ç”Ÿæˆåº“ï¼Œæä¾›åœ¨çº¿æ¼”ç¤ºä»¥åŠè¯¦å°½çš„æ–‡æ¡£ã€‚</li>
</ol>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af1fafe1ced547a1b53b8dbf7c6dc08b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pmT5b6X6L-36Lev5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783559&amp;x-signature=TRtdpv1LKeGWUYyPwT1p8VKMo%2B0%3D" width="100%" alt="image-20260111160424856" loading="lazy"/>
<ol start="3">
<li><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkevinslin%2Fsafe-npm" target="_blank" title="https://github.com/kevinslin/safe-npm" ref="nofollow noopener noreferrer">safe-npm</a></strong>ï¼šå®‰å…¨å®‰è£… NPM åŒ…å·¥å…·ï¼Œå…¶å·¥ä½œæœºåˆ¶ä¸ºè¯»å–é¡¹ç›®çš„ä¾èµ–é…ç½®ï¼Œä»…å®‰è£…å…¬å¼€å‘å¸ƒæ—¶é•¿æ»¡è¶³æŒ‡å®šè¦æ±‚çš„åŒ…ç‰ˆæœ¬ï¼ˆé»˜è®¤è¦æ±‚ä¸ºå…¬å¼€æ»¡ 90 å¤©ï¼‰ã€‚</li>
</ol>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11f7a07c06904115a7e2e012ceb2b963~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pmT5b6X6L-36Lev5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768783559&amp;x-signature=RkXkNa5LBOmE2I2%2BJ%2BWXJCuC8%2FA%3D" width="100%" alt="image-20260111155906059" loading="lazy"/>
<p>ğŸš€ğŸš€ğŸš€ <em>ä»¥ä¸Šèµ„è®¯æ–‡ç« é€‰è‡ªå¸¸è§å‘¨åˆŠï¼Œå¦‚ JavaScript Weekly ç­‰ï¼Œå‘¨åˆŠå†…å®¹ä¹Ÿä¼šä¸æ–­ä¼˜åŒ–æ”¹è¿›ï¼Œå¸Œæœ›ä½ ä»¬èƒ½å¤Ÿå–œæ¬¢ã€‚</em></p>
<p>ğŸ’– <strong>æ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼šæ —å­å‰ç«¯</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æŠ€æœ¯é€‰å‹ï¼Œåˆ°åº•æ˜¯ Prosemirror è¿˜æ˜¯ Tiptap å¥½ â“â“â“]]></title>    <link>https://juejin.cn/post/7593573617647796276</link>    <guid>https://juejin.cn/post/7593573617647796276</guid>    <pubDate>2026-01-12T00:51:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593573617647796276" data-draft-id="7593573617647763508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æŠ€æœ¯é€‰å‹ï¼Œåˆ°åº•æ˜¯ Prosemirror è¿˜æ˜¯ Tiptap å¥½ â“â“â“"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-12T00:51:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æŠ€æœ¯é€‰å‹ï¼Œåˆ°åº•æ˜¯ Prosemirror è¿˜æ˜¯ Tiptap å¥½ â“â“â“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T00:51:56.000Z" title="Mon Jan 12 2026 00:51:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>æˆ‘æ­£åœ¨å¼€å‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">DocFlow</a>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„ AI å…¨æ ˆååŒæ–‡æ¡£å¹³å°ã€‚è¯¥é¡¹ç›®èåˆäº†å¤šä¸ªæŠ€æœ¯æ ˆï¼ŒåŒ…æ‹¬åŸºäº <code>Tiptap</code> çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€<code>NestJs</code> åç«¯æœåŠ¡ã€<code>AI</code> é›†æˆåŠŸèƒ½å’Œå®æ—¶åä½œã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ç§¯ç´¯äº†ä¸°å¯Œçš„å®æˆ˜ç»éªŒï¼Œæ¶µç›–äº† <code>Tiptap</code> çš„æ·±åº¦å®šåˆ¶ã€æ€§èƒ½ä¼˜åŒ–å’Œåä½œåŠŸèƒ½çš„å®ç°ç­‰æ ¸å¿ƒéš¾ç‚¹ã€‚</p>
</blockquote>
<p>å¦‚æœä½ å¯¹ AI å…¨æ ˆå¼€å‘ã€Tiptap å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å®šåˆ¶æˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.codecrack.cn%2F" target="_blank" title="https://www.codecrack.cn/" ref="nofollow noopener noreferrer">DocFlow</a> é¡¹ç›®çš„å®Œæ•´æŠ€æœ¯æ–¹æ¡ˆæ„Ÿå…´è¶£ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡ <code>yunmz777</code> è¿›è¡Œç§èŠå’¨è¯¢ï¼Œè·å–è¯¦ç»†çš„æŠ€æœ¯åˆ†äº«å’Œæœ€ä½³å®è·µã€‚</p>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæ’¤é”€å’Œé‡åšåŠŸèƒ½æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„é‡è¦ç‰¹æ€§ã€‚æ— è®ºæ˜¯æ–‡æœ¬ç¼–è¾‘å™¨ã€å›¾å½¢è®¾è®¡å·¥å…·ï¼Œè¿˜æ˜¯å¯è§†åŒ–æ­å»ºå¹³å°ï¼Œéƒ½éœ€è¦æä¾›å†å²æ“ä½œçš„å›é€€å’Œå‰è¿›èƒ½åŠ›ã€‚è¿™ä¸ªåŠŸèƒ½çœ‹ä¼¼ç®€å•ï¼Œä½†å®ç°èµ·æ¥éœ€è¦è€ƒè™‘æ€§èƒ½ã€å†…å­˜å ç”¨ã€ç”¨æˆ·ä½“éªŒç­‰å¤šä¸ªæ–¹é¢ã€‚</p>
<p>åœ¨æ„å»ºå¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ—¶ï¼ŒTiptap å’Œ ProseMirror æ˜¯ä¸¤ä¸ªå¸¸è§çš„æŠ€æœ¯é€‰æ‹©ã€‚ä¸¤è€…éƒ½å¼ºå¤§ä¸”çµæ´»ï¼Œä½†å®ƒä»¬åœ¨è®¾è®¡ç†å¿µã€æ˜“ç”¨æ€§ã€æ‰©å±•æ€§ç­‰æ–¹é¢å­˜åœ¨å·®å¼‚ã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œé€‰æ‹©åˆé€‚çš„å·¥å…·å¯¹äºé¡¹ç›®çš„æˆåŠŸè‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ä¸¤è€…çš„å¼‚åŒï¼Œå¹¶é€šè¿‡å®é™…ä»£ç ç¤ºä¾‹å¸®åŠ©ä½ ç†è§£å®ƒä»¬çš„å·®å¼‚ï¼Œä»è€Œæ ¹æ®å…·ä½“éœ€æ±‚åšå‡ºå†³ç­–ã€‚</p>
<h2 data-id="heading-0">ProseMirror çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜</h2>
<p>ProseMirror æ˜¯ä¸€ä¸ª JavaScript åº“ï¼Œç”¨äºæ„å»ºå¤æ‚çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚å®ƒçš„è®¾è®¡éå¸¸åº•å±‚ï¼Œæä¾›äº†ä¸€ä¸ªé«˜æ•ˆä¸”çµæ´»çš„æ–‡æ¡£æ¨¡å‹ï¼Œå¼€å‘è€…å¯ä»¥å®Œå…¨æ§åˆ¶ç¼–è¾‘å™¨çš„è¡Œä¸ºå’Œç•Œé¢ã€‚ProseMirror æœ¬èº«å¹¶ä¸æä¾›ä»»ä½• UI æˆ–ç»„ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸ªæ ¸å¿ƒåº“ï¼Œå¼€å‘è€…éœ€è¦è‡ªè¡Œå®ç°å…·ä½“çš„ç¼–è¾‘å™¨åŠŸèƒ½ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªåº•å±‚æ¡†æ¶ï¼ŒProseMirror å…è®¸å¼€å‘è€…å®Œå…¨æ§åˆ¶ç¼–è¾‘å™¨çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬æ–‡æ¡£ç»“æ„ã€è¾“å…¥è¡Œä¸ºã€UI æ ·å¼ç­‰ã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„ APIï¼Œå¯ä»¥å¤„ç†å¤æ‚çš„ç¼–è¾‘éœ€æ±‚ï¼Œå¦‚æ•°å­¦å…¬å¼ã€ä»£ç å—ã€å›¾ç‰‡ã€é“¾æ¥ç­‰ã€‚å¼€å‘è€…å¯ä»¥ä¸ºå‡ ä¹ä»»ä½•åŠŸèƒ½ç¼–å†™æ’ä»¶ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å·²æœ‰æ’ä»¶çš„åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚åŸºäºè™šæ‹Ÿ DOM çš„è®¾è®¡ï¼Œä½¿å…¶åœ¨å¤§æ–‡æ¡£å’Œå¤æ‚ç»“æ„ä¸‹èƒ½å¤Ÿæä¾›è¾ƒé«˜çš„æ€§èƒ½ã€‚</p>
<p>ç„¶è€Œï¼Œç”±äºå…¶åº•å±‚è®¾è®¡ï¼ŒProseMirror çš„ API å¤æ‚ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­ã€‚å¼€å‘è€…éœ€è¦æ·±å…¥ç†è§£å…¶æ–‡æ¡£æ¨¡å‹ã€äº‹åŠ¡ç®¡ç†ã€èŠ‚ç‚¹å’Œè§†å›¾çš„å…³ç³»ã€‚ç”±äºä¸æä¾›ä»»ä½• UI ç»„ä»¶ï¼Œå¼€å‘è€…éœ€è¦ä»é›¶å¼€å§‹æ„å»ºç¼–è¾‘å™¨çš„ç•Œé¢å’Œäº¤äº’ï¼Œé…ç½®å’Œåˆå§‹åŒ–è¿‡ç¨‹ä¹Ÿè¾ƒä¸ºå¤æ‚ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†è®¸å¤šåº•å±‚é€»è¾‘ã€‚</p>
<h3 data-id="heading-1">ProseMirror åŸºç¡€ä½¿ç”¨ç¤ºä¾‹</h3>
<p>é¦–å…ˆéœ€è¦å®‰è£…å¿…è¦çš„åŒ…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install prosemirror-state prosemirror-view prosemirror-model prosemirror-schema-basic prosemirror-schema-list prosemirror-commands
</code></pre>
<p>åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ ProseMirror ç¼–è¾‘å™¨éœ€è¦é…ç½® schemaã€state å’Œ viewï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">EditorState</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-state"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">EditorView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-view"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Schema</span>, <span class="hljs-title class_">DOMParser</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-model"</span>;
<span class="hljs-keyword">import</span> { schema } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-schema-basic"</span>;
<span class="hljs-keyword">import</span> { addListNodes } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-schema-list"</span>;
<span class="hljs-keyword">import</span> { exampleSetup } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-example-setup"</span>;

<span class="hljs-comment">// æ‰©å±•åŸºç¡€ schemaï¼Œæ·»åŠ åˆ—è¡¨æ”¯æŒ</span>
<span class="hljs-keyword">const</span> mySchema = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Schema</span>({
  <span class="hljs-attr">nodes</span>: <span class="hljs-title function_">addListNodes</span>(schema.<span class="hljs-property">spec</span>.<span class="hljs-property">nodes</span>, <span class="hljs-string">"paragraph block*"</span>, <span class="hljs-string">"block"</span>),
  <span class="hljs-attr">marks</span>: schema.<span class="hljs-property">spec</span>.<span class="hljs-property">marks</span>,
});

<span class="hljs-comment">// åˆ›å»ºç¼–è¾‘å™¨çŠ¶æ€</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title class_">EditorState</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">schema</span>: mySchema,
  <span class="hljs-attr">plugins</span>: <span class="hljs-title function_">exampleSetup</span>({ <span class="hljs-attr">schema</span>: mySchema }),
});

<span class="hljs-comment">// åˆ›å»ºç¼–è¾‘å™¨è§†å›¾</span>
<span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditorView</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"#editor"</span>), {
  state,
});
</code></pre>
<p>å¦‚æœéœ€è¦æ·»åŠ è‡ªå®šä¹‰å‘½ä»¤ï¼Œæ¯”å¦‚ä¸€ä¸ªæ ¼å¼åŒ–å·¥å…·æ¡ï¼Œéœ€è¦æ‰‹åŠ¨å®ç°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { toggleMark } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-commands"</span>;
<span class="hljs-keyword">import</span> { schema } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-schema-basic"</span>;

<span class="hljs-comment">// åˆ›å»ºåŠ ç²—å‘½ä»¤</span>
<span class="hljs-keyword">const</span> toggleBold = <span class="hljs-title function_">toggleMark</span>(schema.<span class="hljs-property">marks</span>.<span class="hljs-property">strong</span>);

<span class="hljs-comment">// æ‰‹åŠ¨åˆ›å»ºå·¥å…·æ æŒ‰é’®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createToolbar</span>(<span class="hljs-params">view</span>) {
  <span class="hljs-keyword">const</span> toolbar = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
  toolbar.<span class="hljs-property">className</span> = <span class="hljs-string">"toolbar"</span>;

  <span class="hljs-keyword">const</span> boldBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"button"</span>);
  boldBtn.<span class="hljs-property">textContent</span> = <span class="hljs-string">"Bold"</span>;
  boldBtn.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">toggleBold</span>(view.<span class="hljs-property">state</span>, view.<span class="hljs-property">dispatch</span>);
    view.<span class="hljs-title function_">focus</span>();
  };

  toolbar.<span class="hljs-title function_">appendChild</span>(boldBtn);
  <span class="hljs-keyword">return</span> toolbar;
}
</code></pre>
<h3 data-id="heading-2">ProseMirror è‡ªå®šä¹‰æ’ä»¶ç¤ºä¾‹</h3>
<p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰æ’ä»¶éœ€è¦ç†è§£ ProseMirror çš„æ’ä»¶ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Plugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-state"</span>;

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå­—ç¬¦è®¡æ•°æ’ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">characterCountPlugin</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
    <span class="hljs-title function_">view</span>(<span class="hljs-params">editorView</span>) {
      <span class="hljs-keyword">const</span> counter = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
      counter.<span class="hljs-property">className</span> = <span class="hljs-string">"char-counter"</span>;

      <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateCounter</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">const</span> text = editorView.<span class="hljs-property">state</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">textContent</span>;
        counter.<span class="hljs-property">textContent</span> = <span class="hljs-string">`å­—ç¬¦æ•°: <span class="hljs-subst">${text.length}</span>`</span>;
      };

      <span class="hljs-title function_">updateCounter</span>();

      <span class="hljs-keyword">return</span> {
        <span class="hljs-title function_">update</span>(<span class="hljs-params">view</span>) {
          <span class="hljs-title function_">updateCounter</span>();
        },
        <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
          counter.<span class="hljs-title function_">remove</span>();
        },
      };
    },
  });
}

<span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title class_">EditorState</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">schema</span>: mySchema,
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">characterCountPlugin</span>(), ...<span class="hljs-title function_">exampleSetup</span>({ <span class="hljs-attr">schema</span>: mySchema })],
});
</code></pre>
<h2 data-id="heading-3">Tiptap çš„ä¾¿æ·å¼€å‘</h2>
<p>Tiptap æ˜¯åŸºäº ProseMirror æ„å»ºçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¡†æ¶ï¼Œå®ƒç®€åŒ–äº† ProseMirror çš„å¤æ‚æ€§ï¼Œæä¾›äº†ç°æˆçš„ UI ç»„ä»¶å’Œæ›´æ˜“äºä½¿ç”¨çš„ APIã€‚Tiptap æ—¨åœ¨è®©å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿå®ç°ä¸°å¯Œçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ŒåŒæ—¶ä¿æŒè¾ƒé«˜çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚</p>
<p>Tiptap æä¾›äº†ç®€æ´çš„ APIï¼Œå¼€å‘è€…ä¸éœ€è¦æ·±å…¥å­¦ä¹  ProseMirror çš„åº•å±‚æ¦‚å¿µå³å¯å®ç°åŸºæœ¬çš„å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ã€‚å®ƒé€šè¿‡å°è£… ProseMirror çš„å¤æ‚æ€§ï¼Œä½¿å¾—å¼€å‘è¿‡ç¨‹æ›´åŠ ç›´è§‚å’Œç®€ä¾¿ã€‚å¼€ç®±å³ç”¨çš„ UI ç»„ä»¶ï¼Œå¦‚æ–‡æœ¬æ ¼å¼åŒ–ã€åˆ—è¡¨ã€å›¾ç‰‡æ’å…¥ç­‰ï¼Œæå¤§åœ°æ–¹ä¾¿äº†å¼€å‘è€…çš„ä½¿ç”¨ï¼Œå‡å°‘äº†å¼€å‘æ—¶é—´ã€‚æ¸…æ™°çš„æ–‡æ¡£å’Œæ´»è·ƒçš„å¼€æºç¤¾åŒºï¼Œä¹Ÿä¸ºå¼€å‘è€…æä¾›äº†è‰¯å¥½çš„æ”¯æŒå’Œèµ„æºã€‚è™½ç„¶ Tiptap è¿›è¡Œäº†å°è£…ï¼Œä½†å®ƒä»ç„¶ä¿ç•™äº† ProseMirror çš„æ’ä»¶ç³»ç»Ÿï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦å®šåˆ¶åŠŸèƒ½ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°é›†æˆå…¶ä»–æ’ä»¶ã€‚æ­¤å¤–ï¼ŒTiptap å¯ä»¥ä¸ Yjs æˆ–å…¶ä»– CRDT åº“ç»“åˆï¼Œæ”¯æŒå®æ—¶åä½œç¼–è¾‘åŠŸèƒ½ï¼Œè¿™æ˜¯ ProseMirror æœ¬èº«ä¸å…·å¤‡çš„ç‰¹æ€§ã€‚</p>
<p>ä¸è¿‡ï¼Œç”±äº Tiptap å°è£…äº† ProseMirror çš„å¾ˆå¤šåº•å±‚åŠŸèƒ½ï¼Œçµæ´»æ€§ç›¸å¯¹è¾ƒä½ã€‚å¯¹äºä¸€äº›éœ€è¦æé«˜è‡ªå®šä¹‰çš„éœ€æ±‚ï¼ŒTiptap å¯èƒ½ä¸å¦‚ ProseMirror çµæ´»ã€‚è™½ç„¶åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ€§èƒ½è‰¯å¥½ï¼Œä½†åœ¨å¤„ç†è¶…å¤§æ–‡æ¡£æˆ–å¤æ‚æ“ä½œæ—¶ï¼Œæ€§èƒ½å¯èƒ½ä¸å¦‚ç›´æ¥ä½¿ç”¨ ProseMirrorã€‚</p>
<h3 data-id="heading-4">Tiptap åŸºç¡€ä½¿ç”¨ç¤ºä¾‹</h3>
<p>Tiptap çš„å®‰è£…å’Œä½¿ç”¨ç›¸å¯¹ç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install @tiptap/react @tiptap/starter-kit @tiptap/pm
</code></pre>
<p>åœ¨ React ä¸­ä½¿ç”¨ Tiptapï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useEditor, <span class="hljs-title class_">EditorContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">StarterKit</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/starter-kit"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">TiptapEditor</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useEditor</span>({
    <span class="hljs-attr">extensions</span>: [<span class="hljs-title class_">StarterKit</span>],
    <span class="hljs-attr">content</span>: <span class="hljs-string">"&lt;p&gt;Hello World!&lt;/p&gt;"</span>,
  });

  <span class="hljs-keyword">if</span> (!editor) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"toolbar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> editor.chain().focus().toggleBold().run()}
          disabled={!editor.can().chain().focus().toggleBold().run()}
          className={editor.isActive("bold") ? "is-active" : ""}
        &gt;
          Bold
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> editor.chain().focus().toggleItalic().run()}
          disabled={!editor.can().chain().focus().toggleItalic().run()}
          className={editor.isActive("italic") ? "is-active" : ""}
        &gt;
          Italic
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> editor.chain().focus().toggleBulletList().run()}
          className={editor.isActive("bulletList") ? "is-active" : ""}
        &gt;
          Bullet List
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EditorContent</span> <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>Tiptap çš„ Vue ç‰ˆæœ¬åŒæ ·ç®€æ´ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;div class="toolbar"&gt;
      &lt;button
        @click="editor.chain().focus().toggleBold().run()"
        :disabled="!editor.can().chain().focus().toggleBold().run()"
        :class="{ 'is-active': editor.isActive('bold') }"
      &gt;
        Bold
      &lt;/button&gt;
      &lt;button
        @click="editor.chain().focus().toggleItalic().run()"
        :class="{ 'is-active': editor.isActive('italic') }"
      &gt;
        Italic
      &lt;/button&gt;
    &lt;/div&gt;
    &lt;editor-content :editor="editor" /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { useEditor, EditorContent } from "@tiptap/vue-3";
import StarterKit from "@tiptap/starter-kit";

export default {
  components: {
    EditorContent,
  },
  setup() {
    const editor = useEditor({
      extensions: [StarterKit],
      content: "&lt;p&gt;Hello World!&lt;/p&gt;",
    });

    return { editor };
  },
};
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-5">Tiptap æ‰©å±•åŠŸèƒ½ç¤ºä¾‹</h3>
<p>Tiptap æ”¯æŒå¤šç§æ‰©å±•ï¼Œæ·»åŠ å›¾ç‰‡åŠŸèƒ½éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Image</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/extension-image"</span>;
<span class="hljs-keyword">import</span> { useEditor, <span class="hljs-title class_">EditorContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">StarterKit</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/starter-kit"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">EditorWithImage</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useEditor</span>({
    <span class="hljs-attr">extensions</span>: [
      <span class="hljs-title class_">StarterKit</span>,
      <span class="hljs-title class_">Image</span>.<span class="hljs-title function_">configure</span>({
        <span class="hljs-attr">inline</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">allowBase64</span>: <span class="hljs-literal">true</span>,
      }),
    ],
  });

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">addImage</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> url = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">prompt</span>(<span class="hljs-string">"å›¾ç‰‡URL"</span>);
    <span class="hljs-keyword">if</span> (url) {
      editor.<span class="hljs-title function_">chain</span>().<span class="hljs-title function_">focus</span>().<span class="hljs-title function_">setImage</span>({ <span class="hljs-attr">src</span>: url }).<span class="hljs-title function_">run</span>();
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{addImage}</span>&gt;</span>æ·»åŠ å›¾ç‰‡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EditorContent</span> <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>åˆ›å»ºè‡ªå®šä¹‰æ‰©å±•ä¹Ÿå¾ˆç›´è§‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Extension</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/core"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Plugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-state"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">CharacterCount</span> = <span class="hljs-title class_">Extension</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"characterCount"</span>,

  <span class="hljs-title function_">addProseMirrorPlugins</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> [
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
        <span class="hljs-title function_">view</span>(<span class="hljs-params">editorView</span>) {
          <span class="hljs-keyword">const</span> counter = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
          counter.<span class="hljs-property">className</span> = <span class="hljs-string">"char-counter"</span>;

          <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateCounter</span> = (<span class="hljs-params"/>) =&gt; {
            <span class="hljs-keyword">const</span> text = editorView.<span class="hljs-property">state</span>.<span class="hljs-property">doc</span>.<span class="hljs-property">textContent</span>;
            counter.<span class="hljs-property">textContent</span> = <span class="hljs-string">`å­—ç¬¦æ•°: <span class="hljs-subst">${text.length}</span>`</span>;
          };

          <span class="hljs-title function_">updateCounter</span>();

          <span class="hljs-keyword">return</span> {
            <span class="hljs-title function_">update</span>(<span class="hljs-params">view</span>) {
              <span class="hljs-title function_">updateCounter</span>();
            },
            <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
              counter.<span class="hljs-title function_">remove</span>();
            },
          };
        },
      }),
    ];
  },
});

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰æ‰©å±•</span>
<span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useEditor</span>({
  <span class="hljs-attr">extensions</span>: [<span class="hljs-title class_">StarterKit</span>, <span class="hljs-title class_">CharacterCount</span>],
});
</code></pre>
<h3 data-id="heading-6">Tiptap å®æ—¶åä½œç¤ºä¾‹</h3>
<p>Tiptap ä¸ Yjs é›†æˆå®ç°å®æ—¶åä½œéå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install yjs y-prosemirror @tiptap/extension-collaboration @tiptap/extension-collaboration-cursor
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useEditor, <span class="hljs-title class_">EditorContent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">StarterKit</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/starter-kit"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Collaboration</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/extension-collaboration"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">CollaborationCursor</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@tiptap/extension-collaboration-cursor"</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> Y <span class="hljs-keyword">from</span> <span class="hljs-string">"yjs"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">WebrtcProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"y-webrtc"</span>;

<span class="hljs-comment">// åˆ›å»º Yjs æ–‡æ¡£å’Œæä¾›è€…</span>
<span class="hljs-keyword">const</span> ydoc = <span class="hljs-keyword">new</span> Y.<span class="hljs-title class_">Doc</span>();
<span class="hljs-keyword">const</span> provider = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebrtcProvider</span>(<span class="hljs-string">"room-name"</span>, ydoc);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">CollaborativeEditor</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useEditor</span>({
    <span class="hljs-attr">extensions</span>: [
      <span class="hljs-title class_">StarterKit</span>,
      <span class="hljs-title class_">Collaboration</span>.<span class="hljs-title function_">configure</span>({
        <span class="hljs-attr">document</span>: ydoc,
      }),
      <span class="hljs-title class_">CollaborationCursor</span>.<span class="hljs-title function_">configure</span>({
        provider,
      }),
    ],
  });

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">EditorContent</span> <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span> /&gt;</span></span>;
}
</code></pre>
<h2 data-id="heading-7">ä»ä»£ç çœ‹å·®å¼‚</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡å®ç°ä¸€ä¸ªå¸¦å·¥å…·æ çš„ç¼–è¾‘å™¨æ¥å¯¹æ¯”ä¸¤è€…çš„ä»£ç å¤æ‚åº¦ï¼š</p>
<p>åœ¨ ProseMirror ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨ç®¡ç†æ‰€æœ‰çŠ¶æ€å’Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">EditorState</span>, <span class="hljs-title class_">Plugin</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-state"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">EditorView</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-view"</span>;
<span class="hljs-keyword">import</span> { schema } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-schema-basic"</span>;
<span class="hljs-keyword">import</span> { toggleMark } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-commands"</span>;

<span class="hljs-keyword">const</span> state = <span class="hljs-title class_">EditorState</span>.<span class="hljs-title function_">create</span>({ schema });

<span class="hljs-keyword">const</span> toolbarPlugin = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
  <span class="hljs-title function_">view</span>(<span class="hljs-params">editorView</span>) {
    <span class="hljs-keyword">const</span> toolbar = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"div"</span>);
    toolbar.<span class="hljs-property">className</span> = <span class="hljs-string">"toolbar"</span>;

    <span class="hljs-keyword">const</span> boldBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"button"</span>);
    boldBtn.<span class="hljs-property">textContent</span> = <span class="hljs-string">"B"</span>;
    boldBtn.<span class="hljs-property">onclick</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      e.<span class="hljs-title function_">preventDefault</span>();
      <span class="hljs-keyword">const</span> { state, dispatch } = editorView;
      <span class="hljs-keyword">const</span> command = <span class="hljs-title function_">toggleMark</span>(schema.<span class="hljs-property">marks</span>.<span class="hljs-property">strong</span>);
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">command</span>(state, dispatch)) {
        editorView.<span class="hljs-title function_">focus</span>();
      }
    };

    toolbar.<span class="hljs-title function_">appendChild</span>(boldBtn);
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">insertBefore</span>(toolbar, editorView.<span class="hljs-property">dom</span>);

    <span class="hljs-keyword">return</span> {
      <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
        toolbar.<span class="hljs-title function_">remove</span>();
      },
    };
  },
});

<span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EditorView</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"#editor"</span>), {
  <span class="hljs-attr">state</span>: <span class="hljs-title class_">EditorState</span>.<span class="hljs-title function_">create</span>({
    schema,
    <span class="hljs-attr">plugins</span>: [toolbarPlugin],
  }),
});
</code></pre>
<p>è€Œåœ¨ Tiptap ä¸­ï¼Œç›¸åŒçš„åŠŸèƒ½å®ç°æ›´åŠ ç®€æ´ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useEditor</span>({
  <span class="hljs-attr">extensions</span>: [<span class="hljs-title class_">StarterKit</span>],
});

<span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
      <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> editor.chain().focus().toggleBold().run()}
      className={editor.isActive("bold") ? "is-active" : ""}
    &gt;
      B
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">EditorContent</span> <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<h2 data-id="heading-8">å¦‚ä½•åšå‡ºé€‰æ‹©</h2>
<p>é€‰æ‹© Tiptap è¿˜æ˜¯ ProseMirrorï¼Œå…³é”®åœ¨äºé¡¹ç›®éœ€æ±‚å’Œå¼€å‘å›¢é˜Ÿçš„æŠ€æœ¯èƒ½åŠ›ã€‚</p>
<p>å¦‚æœä½ çš„ç›®æ ‡æ˜¯å¿«é€Ÿæ„å»ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€ç”¨æˆ·å‹å¥½çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¸”ä¸å¸Œæœ›èŠ±è´¹è¿‡å¤šæ—¶é—´åœ¨åº•å±‚ç»†èŠ‚ä¸Šï¼ŒTiptap æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©ã€‚å®ƒæä¾›äº†ç®€æ´çš„ API å’Œç°æˆçš„ UI ç»„ä»¶ï¼Œå¯ä»¥å¿«é€Ÿå¯åŠ¨å’Œå¼€å‘ã€‚å¦‚æœä½ çš„ç¼–è¾‘å™¨éœ€è¦ä¸€äº›å®šåˆ¶åŠŸèƒ½ï¼Œä½†ä¸éœ€è¦å®Œå…¨æ§åˆ¶æ¯ä¸ªåº•å±‚ç»†èŠ‚ï¼ŒTiptap æä¾›äº†è¶³å¤Ÿçš„çµæ´»æ€§ï¼ŒåŒæ—¶ä¿æŒäº†å¼€å‘çš„ç®€ä¾¿æ€§ã€‚å¦‚æœéœ€è¦å®ç°å¤šäººå®æ—¶åä½œï¼ŒTiptap å†…å»ºçš„å¯¹ Yjs ç­‰åº“çš„æ”¯æŒå¯ä»¥ç®€åŒ–å®ç°è¿‡ç¨‹ã€‚</p>
<p>å¦‚æœä½ éœ€è¦å®Œå…¨æ§åˆ¶ç¼–è¾‘å™¨çš„è¡Œä¸ºã€ç•Œé¢å’Œæ€§èƒ½ï¼ŒProseMirror æä¾›äº†æ›´é«˜çš„è‡ªç”±åº¦ã€‚å®ƒé€‚åˆé‚£äº›æœ‰ç‰¹å®šéœ€æ±‚çš„é¡¹ç›®ï¼Œæ¯”å¦‚è‡ªå®šä¹‰æ–‡æ¡£ç»“æ„ã€è¾“å…¥è¡Œä¸ºæˆ–éå¸¸å¤æ‚çš„ç¼–è¾‘æ“ä½œã€‚åœ¨å¤„ç†éå¸¸å¤§çš„æ–‡æ¡£æˆ–éœ€è¦æé«˜æ€§èƒ½çš„åœºæ™¯ä¸‹ï¼ŒProseMirror èƒ½æä¾›æ›´å¥½çš„ä¼˜åŒ–å’Œæ€§èƒ½ã€‚å¦‚æœä½ çš„é¡¹ç›®éœ€è¦å®Œå…¨è‡ªå®šä¹‰æ’ä»¶ï¼Œæˆ–è€…ä½ æƒ³å¯¹ç¼–è¾‘å™¨è¿›è¡Œæ·±åº¦å®šåˆ¶ï¼ŒProseMirror æä¾›äº†æ›´é«˜çš„çµæ´»æ€§ã€‚</p>
<h3 data-id="heading-9">æ€§èƒ½è€ƒè™‘</h3>
<p>å¯¹äºå¤§æ–‡æ¡£å¤„ç†ï¼ŒProseMirror æä¾›äº†æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ProseMirror ä¸­å¯ä»¥ç²¾ç¡®æ§åˆ¶æ›´æ–°</span>
<span class="hljs-keyword">const</span> state = <span class="hljs-title class_">EditorState</span>.<span class="hljs-title function_">create</span>({
  schema,
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">// å¯ä»¥ç²¾ç¡®æ§åˆ¶å“ªäº›æ’ä»¶å¯ç”¨</span>
    <span class="hljs-comment">// å¯ä»¥è‡ªå®šä¹‰æ›´æ–°é€»è¾‘</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
      <span class="hljs-attr">state</span>: {
        <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
          <span class="hljs-keyword">return</span> {};
        },
        <span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, value</span>) {
          <span class="hljs-comment">// è‡ªå®šä¹‰çŠ¶æ€æ›´æ–°é€»è¾‘</span>
          <span class="hljs-keyword">return</span> value;
        },
      },
    }),
  ],
});
</code></pre>
<p>è€Œ Tiptap è™½ç„¶æ€§èƒ½è‰¯å¥½ï¼Œä½†åœ¨æç«¯åœºæ™¯ä¸‹å¯èƒ½ä¸å¦‚ç›´æ¥ä½¿ç”¨ ProseMirror ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Tiptap çš„æ€§èƒ½ä¼˜åŒ–é€‰é¡¹</span>
<span class="hljs-keyword">const</span> editor = <span class="hljs-title function_">useEditor</span>({
  <span class="hljs-attr">extensions</span>: [<span class="hljs-title class_">StarterKit</span>],
  <span class="hljs-attr">editorProps</span>: {
    <span class="hljs-attr">attributes</span>: {
      <span class="hljs-attr">class</span>:
        <span class="hljs-string">"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto focus:outline-none"</span>,
    },
    <span class="hljs-comment">// å¯ä»¥ä¼ é€’ ProseMirror çš„åŸç”Ÿé…ç½®</span>
  },
  <span class="hljs-comment">// ä½†ä»ç„¶å—åˆ°å°è£…å±‚çš„é™åˆ¶</span>
});
</code></pre>
<h3 data-id="heading-10">ç”Ÿæ€ç³»ç»Ÿå’Œç¤¾åŒºæ”¯æŒ</h3>
<p>Tiptap æ‹¥æœ‰ä¸°å¯Œçš„æ‰©å±•ç”Ÿæ€ç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Tiptap å®˜æ–¹æ‰©å±•</span>
npm install @tiptap/extension-image
npm install @tiptap/extension-link
npm install @tiptap/extension-table
npm install @tiptap/extension-code-block-lowlight
npm install @tiptap/extension-placeholder
npm install @tiptap/extension-character-count
npm install @tiptap/extension-typography
</code></pre>
<p>è€Œ ProseMirror çš„æ’ä»¶éœ€è¦é€šè¿‡ prosemirror-* åŒ…ç³»åˆ—æ¥è·å–ï¼Œæˆ–è€…è‡ªå·±å®ç°ã€‚å®˜æ–¹æä¾›äº†åŸºç¡€æ’ä»¶ï¼Œä½†é«˜çº§åŠŸèƒ½éœ€è¦ç¤¾åŒºæ’ä»¶æˆ–è‡ªè¡Œå¼€å‘ã€‚</p>
<h2 data-id="heading-11">å®é™…é¡¹ç›®åœºæ™¯å»ºè®®</h2>
<p>å¯¹äºåšå®¢å¹³å°ã€å†…å®¹ç®¡ç†ç³»ç»Ÿã€ç¬”è®°åº”ç”¨ç­‰å¸¸è§åœºæ™¯ï¼ŒTiptap é€šå¸¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚å®ƒçš„å¿«é€Ÿå¼€å‘å’Œä¸°å¯Œçš„åŠŸèƒ½è¶³ä»¥æ»¡è¶³å¤§å¤šæ•°éœ€æ±‚ã€‚ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åœ¨å‡ åˆ†é’Ÿå†…æ­å»ºä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç¼–è¾‘å™¨ã€‚</p>
<p>å¯¹äºéœ€è¦ç‰¹æ®Šæ–‡æ¡£ç»“æ„ï¼ˆå¦‚å­¦æœ¯è®ºæ–‡ç¼–è¾‘å™¨ã€ä»£ç ç¼–è¾‘å™¨ã€ä¸“ä¸šæ’ç‰ˆå·¥å…·ï¼‰æˆ–å¯¹æ€§èƒ½æœ‰æè‡´è¦æ±‚çš„åœºæ™¯ï¼ŒProseMirror æä¾›äº†å¿…è¦çš„åº•å±‚æ§åˆ¶èƒ½åŠ›ã€‚ä½†éœ€è¦æŠ•å…¥æ›´å¤šæ—¶é—´å­¦ä¹ å…¶ API å’Œæ¦‚å¿µã€‚</p>
<p>å¦‚æœä½ çš„å›¢é˜Ÿæ—¶é—´æœ‰é™ï¼Œæˆ–è€…å¸Œæœ›å¿«é€Ÿè¿­ä»£ï¼ŒTiptap æ˜¯æ˜æ™ºçš„é€‰æ‹©ã€‚å¦‚æœå›¢é˜Ÿæœ‰å¯Œæ–‡æœ¬ç¼–è¾‘å™¨å¼€å‘ç»éªŒï¼Œæˆ–è€…æœ‰å……è¶³æ—¶é—´è¿›è¡Œæ·±åº¦å®šåˆ¶ï¼ŒProseMirror å¯ä»¥å¸¦æ¥æ›´é«˜çš„çµæ´»æ€§å’Œæ€§èƒ½ã€‚</p>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>Tiptap æ˜¯ä¸€ä¸ªåŸºäº ProseMirror çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ¡†æ¶ï¼Œé€‚åˆéœ€è¦å¿«é€Ÿå¼€å‘ã€æ˜“ç”¨ä¸”åŠŸèƒ½ä¸°å¯Œçš„åœºæ™¯ã€‚å®ƒå°è£…äº† ProseMirror çš„å¤æ‚æ€§ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ— éœ€å…³å¿ƒåº•å±‚å®ç°ç»†èŠ‚ã€‚é€šè¿‡æœ¬æ–‡çš„ä»£ç ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼ŒTiptap çš„ API è®¾è®¡æ›´åŠ ç›´è§‚ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“ï¼Œé€‚åˆå¤§å¤šæ•°é¡¹ç›®éœ€æ±‚ã€‚</p>
<p>ProseMirror åˆ™æ˜¯ä¸€ä¸ªåº•å±‚æ¡†æ¶ï¼Œé€‚åˆé‚£äº›éœ€è¦å®Œå…¨æ§åˆ¶æ–‡æ¡£ç»“æ„ã€ç¼–è¾‘è¡Œä¸ºå’Œæ€§èƒ½ä¼˜åŒ–çš„é«˜çº§å¼€å‘è€…ã€‚å®ƒæ›´çµæ´»ï¼Œä½†å­¦ä¹ æ›²çº¿è¾ƒé™¡å³­ï¼Œé€‚åˆå¤æ‚æˆ–å®šåˆ¶åŒ–éœ€æ±‚è¾ƒå¼ºçš„é¡¹ç›®ã€‚ä»ä»£ç ç¤ºä¾‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ ProseMirror éœ€è¦å¤„ç†æ›´å¤šçš„åº•å±‚ç»†èŠ‚ï¼Œä½†åŒæ—¶ä¹Ÿè·å¾—äº†æ›´é«˜çš„æ§åˆ¶æƒã€‚</p>
<p>å¦‚æœä½ çš„é¡¹ç›®éœ€è¦å¿«é€Ÿæ„å»ºç¼–è¾‘å™¨å¹¶å…·å¤‡ä¸€å®šçš„è‡ªå®šä¹‰èƒ½åŠ›ï¼ŒTiptap æ˜¯ä¸€ä¸ªæ›´ä¸ºç†æƒ³çš„é€‰æ‹©ã€‚è€Œå¦‚æœä½ çš„é¡¹ç›®éœ€è¦å®Œå…¨çš„å®šåˆ¶åŒ–å’Œé«˜æ€§èƒ½å¤„ç†ï¼ŒProseMirror å°†æ›´ç¬¦åˆä½ çš„éœ€æ±‚ã€‚æœ€ç»ˆçš„é€‰æ‹©åº”åŸºäºä½ çš„å¼€å‘éœ€æ±‚ã€é¡¹ç›®è§„æ¨¡ä»¥åŠå›¢é˜Ÿçš„æŠ€æœ¯èƒ½åŠ›ã€‚å»ºè®®é€šè¿‡å®é™…ä»£ç å°è¯•ä¸¤è€…ï¼Œæ ¹æ®ä½ çš„å…·ä½“åœºæ™¯åšå‡ºæœ€é€‚åˆçš„é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ´è§£Androidæ‚¬æµ®çª—é®æŒ¡æ— éšœç¢æœåŠ¡éš¾é¢˜ï¼šæˆ‘åœ¨å¯è§å³å¯è¯´ä¸Šè¸©è¿‡çš„å‘]]></title>    <link>https://juejin.cn/post/7593742881141604361</link>    <guid>https://juejin.cn/post/7593742881141604361</guid>    <pubDate>2026-01-12T01:00:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593742881141604361" data-draft-id="7593177437081813043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ´è§£Androidæ‚¬æµ®çª—é®æŒ¡æ— éšœç¢æœåŠ¡éš¾é¢˜ï¼šæˆ‘åœ¨å¯è§å³å¯è¯´ä¸Šè¸©è¿‡çš„å‘"/> <meta itemprop="keywords" content="Android,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-12T01:00:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¹ç¨‹åå…«å°‘"/> <meta itemprop="url" content="https://juejin.cn/user/184373685534077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ´è§£Androidæ‚¬æµ®çª—é®æŒ¡æ— éšœç¢æœåŠ¡éš¾é¢˜ï¼šæˆ‘åœ¨å¯è§å³å¯è¯´ä¸Šè¸©è¿‡çš„å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/184373685534077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¹ç¨‹åå…«å°‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-12T01:00:48.000Z" title="Mon Jan 12 2026 01:00:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ä¸ºä»€ä¹ˆä½ çš„Androidæ‚¬æµ®çª—"æŒ¡ä½"äº†æ— éšœç¢æœåŠ¡</strong></p>
<p>Android  å¯è§å³å¯è¯´  (è¯­éŸ³æ‚¬æµ®çª—å£åœ¨ï¼Œæ— éšœç¢æœåŠ¡æ‰«æä¸å‡ºç³»ç»Ÿå¸è½½window)</p>
<h2 data-id="heading-0">1.å®Œæ•´éœ€æ±‚ï¼š è¯­éŸ³è¯´ä¸€å¥è¯ï¼šå¸®æˆ‘æŠŠæŠ–éŸ³é‡Œé¢çš„ä»Šå¤©çš„å¥–åŠ±å…¨éƒ¨é¢†å®Œï¼Œçº¢åŒ…é¢†å®Œï¼</h2>
<p>1ï¼‰è¯­éŸ³æ‚¬æµ®çª—äº¤äº’ï¼š</p>
<p>èƒ½è‡ªåŠ¨ç‚¹å‡»æ‚¬æµ®çª—ä¸‹æ–¹çš„æ‰€æœ‰çª—å£ï¼ˆå¦‚æŠ–éŸ³çº¢åŒ…æŒ‰é’®ï¼‰</p>
<p>ç‚¹å‡»æ‚¬æµ®çª—ç©ºç™½åŒºåŸŸ â†’ æ‚¬æµ®çª—æ¶ˆå¤±</p>
<p>æ‚¬æµ®çª—å†… RecyclerView çš„ç‚¹å‡»äº‹ä»¶éœ€å“åº”</p>
<h3 data-id="heading-1">æ•ˆæœå›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bc351be39344c3eb15b650b9fb935ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP56iL5Y2B5YWr5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768784448&amp;x-signature=u9KubdCm8Vxz7igRl2Mv07NunHU%3D" alt="è¯­éŸ³.png" loading="lazy"/></p>
<h3 data-id="heading-2">1.2 å…·ä½“è¯¦ç»†éœ€æ±‚ï¼š</h3>
<p>ç³»ç»Ÿå¼¹çª—æ”¯æŒï¼š</p>
<p>å½“è¯­éŸ³æŒ‡ä»¤ä¸ºâ€œå¸è½½æŠ–éŸ³â€æ—¶ï¼š</p>
<p>å…ˆæ˜¾ç¤ºè¯­éŸ³æ‚¬æµ®çª—</p>
<p>å†è§¦å‘ç³»ç»Ÿå¸è½½å¼¹çª—ï¼ˆcom.android.packageinstallerï¼‰</p>
<p>ç”¨æˆ·å¯é€šè¿‡è¯­éŸ³æ§åˆ¶ç‚¹å‡»â€œç¡®å®šâ€æˆ–â€œå–æ¶ˆâ€</p>
<h2 data-id="heading-3">2.æ ¸å¿ƒé—®é¢˜ï¼šæ— éšœç¢æœåŠ¡æ— æ³•è¯†åˆ«è¢«æ‚¬æµ®çª—å®Œå…¨é®æŒ¡çš„ç³»ç»Ÿå¼¹çª—</h2>
<p>è¯­éŸ³æŠŠç³»ç»Ÿçš„å¸è½½windowå¼¹å‡ºï¼Œ</p>
<p>è¯­éŸ³å¯è§å³å¯è¯´æ‰«æä¸å‡ºå¸è½½windowï¼Œ</p>
<p>å¯¼è‡´æ— æ³•å®ç°ç¡®è®¤æŒ‰é’®çš„å¯è§å³å¯è¯´</p>
<h3 data-id="heading-4">2.2 é—®é¢˜ç°è±¡</h3>
<p>å½“è¯­éŸ³æ‚¬æµ®çª—å®Œå…¨è¦†ç›–ç³»ç»Ÿå¸è½½å¼¹çª—æ—¶ï¼š</p>
<p>AccessibilityService çš„ windows åˆ—è¡¨ä¸­æ‰«æä¸åˆ° com.android.packageinstaller</p>
<p>åªèƒ½æ‰«æåˆ° launcher æˆ– systemui</p>
<p>å¯¼è‡´â€œå¯è§å³å¯è¯´â€åŠŸèƒ½å¤±æ•ˆï¼Œæ— æ³•ç‚¹å‡»â€œç¡®å®š/å–æ¶ˆâ€</p>
<h3 data-id="heading-5">2.3 æ ¹æœ¬åŸå› ï¼ˆAndroid ç³»ç»Ÿæœºåˆ¶é™åˆ¶ï¼‰</h3>
<p>è¡¨æ ¼</p>





















<table><thead><tr><th>åŸå› </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>çª—å£å¯è§æ€§åˆ¤å®š</strong></td><td>Android Accessibility æœåŠ¡<strong>ä¸ä¼šè¿”å›è¢«å®Œå…¨é®æŒ¡ä¸”ä¸å¯äº¤äº’çš„çª—å£</strong>çš„èŠ‚ç‚¹</td></tr><tr><td><strong>å®‰å…¨é™åˆ¶</strong></td><td>å‡ºäºéšç§å’Œå®‰å…¨è€ƒè™‘ï¼Œç³»ç»Ÿç¦æ­¢é€šè¿‡æ— éšœç¢æœåŠ¡è¯»å–è¢«å…¶ä»–åº”ç”¨å®Œå…¨è¦†ç›–çš„ UI å±‚</td></tr><tr><td><strong>å±‚çº§ä¸ç±»å‹ç›¸åŒ</strong></td><td>è¯­éŸ³æ‚¬æµ®çª— (<code>TYPE_SYSTEM</code>, layer=1) ä¸ launcher (<code>TYPE_APPLICATION</code>, layer=0) ä¸åŒï¼›ä½†å¸è½½å¼¹çª—ä¹Ÿæ˜¯Â <code>TYPE_APPLICATION</code>, layer=0ï¼Œä¸ launcher åŒçº§ã€‚å½“æ‚¬æµ®çª—é«˜åº¦ 95% å±å¹•æ—¶ï¼Œå®Œå…¨é®æŒ¡å¸è½½å¼¹çª— â†’ ç³»ç»Ÿè®¤ä¸ºå…¶â€œä¸å¯è§â€</td></tr></tbody></table>
<blockquote>
<p>âœ…Â <strong>éªŒè¯ç»“è®º</strong>ï¼šåªè¦æ‚¬æµ®çª—<strong>æœªå®Œå…¨é®æŒ¡</strong>å¸è½½å¼¹çª—ï¼ˆä¾‹å¦‚é«˜åº¦ â‰¤85%ï¼‰ï¼Œæ— éšœç¢æœåŠ¡å°±èƒ½æ­£å¸¸æ‰«æåˆ°Â <code>packageinstaller</code>ã€‚</p>
</blockquote>
<h2 data-id="heading-6">3.åˆ†æé—®é¢˜</h2>
<h3 data-id="heading-7">3.1 ä¹‹å‰åŒäº‹å†™çš„ä»£ç é€»è¾‘ï¼š</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">layoutParams</span> = new WindowManager.LayoutParams(
    MATCH_PARENT,
    WRAP_CONTENT,
    TYPE_APPLICATION_OVERLAY,
    FLAG_NOT_FOCUSABLE,
    TRANSLUCENT
)<span class="hljs-comment">;</span>
layoutParams.flags |= FLAG_LAYOUT_IN_SCREEN<span class="hljs-comment">;</span>
layoutParams.flags |= FLAG_NOT_TOUCH_MODAL<span class="hljs-comment">;      // âœ… å…è®¸åŒºåŸŸå¤–è§¦æ‘¸é€ä¼ </span>
layoutParams.flags |= FLAG_WATCH_OUTSIDE_TOUCH<span class="hljs-comment">;  // é…åˆå¤–éƒ¨ç‚¹å‡»å…³é—­</span>
</code></pre>
<h3 data-id="heading-8">3.2 æ— éšœç¢æœåŠ¡ä¸­çš„â€œçª—å£æ›¿æ¢â€é€»è¾‘</h3>
<pre><code class="hljs language-ini" lang="ini">if (rootNode?.<span class="hljs-attr">packageName</span> == packageName || rootNode?.childCount == <span class="hljs-number">0</span>) {
    windows.forEach { window -&gt;
        window.root?.takeIf { rn -&gt;
            rn.packageName != packageName &amp;&amp; rn.childCount != 0
        }?.apply {
            <span class="hljs-attr">rootNode</span> = this  // æ›¿æ¢ä¸ºéè‡ªèº«ã€éç©ºçš„çª—å£æ ¹èŠ‚ç‚¹
        }
    }
}
</code></pre>
<p>ç›®çš„ï¼šè·³è¿‡è¯­éŸ³æ‚¬æµ®çª—è‡ªèº«ï¼Œå°è¯•ä½¿ç”¨å…¶ä»–çª—å£ï¼ˆå¦‚å¸è½½å¼¹çª—ï¼‰ä½œä¸ºæ“ä½œç›®æ ‡
å¤±è´¥åŸå› ï¼šå½“å¸è½½å¼¹çª—è¢«å®Œå…¨é®æŒ¡ â†’ windows åˆ—è¡¨ä¸­æ ¹æœ¬ä¸å­˜åœ¨è¯¥çª—å£ â†’ æ›¿æ¢å¤±è´¥</p>
<h3 data-id="heading-9">3.2  æ— éšœç¢æœåŠ¡æ‰«æçš„ç»“æœ</h3>
<h3 data-id="heading-10">3.2.1 å…·ä½“ç»“æœåˆ†3æ­¥éª¤ï¼š</h3>
<h6 data-id="heading-11">1).åœ¨æ¡Œé¢æ‰«æçš„ç»“æœï¼š</h6>
<pre><code class="hljs language-bash" lang="bash">2026-01-06 15:48:48.918 59779-59779 VoiceAcces...ityService com.tencent.voice              E  å¼€å§‹windows-------index: 0, window: AccessibilityWindowInfo[title=å¯¼èˆªæ , displayId=0, <span class="hljs-built_in">id</span>=258, <span class="hljs-built_in">type</span>=TYPE_SYSTEM, layer=3, region=SkRegion((<span class="hljs-number">0</span>,<span class="hljs-number">1824</span>,<span class="hljs-number">864</span>,<span class="hljs-number">1920</span>)), bounds=Rect(0, 1824 - 864, 1920), focused=<span class="hljs-literal">false</span>, active=<span class="hljs-literal">false</span>, pictureInPicture=<span class="hljs-literal">false</span>, hasParent=<span class="hljs-literal">false</span>, isAnchored=<span class="hljs-literal">false</span>, hasChildren=<span class="hljs-literal">false</span>]; com.android.systemui
2026-01-06 15:48:48.919 59779-59779 VoiceAcces...ityService com.tencent.voice              E  å¼€å§‹windows-------index: 1, window: AccessibilityWindowInfo[title=null, displayId=0, <span class="hljs-built_in">id</span>=252, <span class="hljs-built_in">type</span>=TYPE_SYSTEM, layer=2, region=SkRegion((<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">864</span>,<span class="hljs-number">115</span>)), bounds=Rect(0, 0 - 864, 115), focused=<span class="hljs-literal">false</span>, active=<span class="hljs-literal">false</span>, pictureInPicture=<span class="hljs-literal">false</span>, hasParent=<span class="hljs-literal">false</span>, isAnchored=<span class="hljs-literal">false</span>, hasChildren=<span class="hljs-literal">false</span>]; com.android.systemui
2026-01-06 15:48:48.919 59779-59779 VoiceAcces...ityService com.tencent.voice              E  å¼€å§‹windows-------index: 2, window: AccessibilityWindowInfo[title=null, displayId=0, <span class="hljs-built_in">id</span>=265, <span class="hljs-built_in">type</span>=TYPE_SYSTEM, layer=1, region=SkRegion((<span class="hljs-number">0</span>,<span class="hljs-number">192</span>,<span class="hljs-number">864</span>,<span class="hljs-number">1824</span>)), bounds=Rect(0, 192 - 864, 1824), focused=<span class="hljs-literal">true</span>, active=<span class="hljs-literal">true</span>, pictureInPicture=<span class="hljs-literal">false</span>, hasParent=<span class="hljs-literal">false</span>, isAnchored=<span class="hljs-literal">false</span>, hasChildren=<span class="hljs-literal">false</span>]; com.tencent.voice
2026-01-06 15:48:48.920 59779-59779 VoiceAcces...ityService com.tencent.voice              E  å¼€å§‹windows-------index: 3, window: AccessibilityWindowInfo[title=å¤§æ¡Œé¢, displayId=0, <span class="hljs-built_in">id</span>=250, <span class="hljs-built_in">type</span>=TYPE_APPLICATION, layer=0, region=SkRegion((<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">864</span>,<span class="hljs-number">1920</span>)), bounds=Rect(0, 0 - 864, 1920), focused=<span class="hljs-literal">false</span>, active=<span class="hljs-literal">false</span>, pictureInPicture=<span class="hljs-literal">false</span>, hasParent=<span class="hljs-literal">false</span>, isAnchored=<span class="hljs-literal">false</span>, hasChildren=<span class="hljs-literal">false</span>]; com.tencent.launcher
</code></pre>
<p>launcher: type=TYPE_APPLICATION, layer=0</p>
<h6 data-id="heading-12">2). åœ¨æ¡Œé¢ï¼Œç„¶åå¼¹å‡ºå¸è½½æ¡†ï¼š</h6>
<pre><code class="hljs"> com.android.systemui -
com.android.packageinstaller 
</code></pre>
<p>å¸è½½windowï¼štype=TYPE_APPLICATION, layer=0
ä¸ä¼šæ‰«æåˆ°æ¡Œé¢çš„windowï¼Œè¢«å¸è½½å¼¹æ¡†å…¨éƒ¨æŒ¡ä½, å¤„äºåŒä¸€å±‚çº§
å¾—å‡ºå±‚çº§å…³ç³»ï¼šå¸è½½åœ¨æœ€åº•å±‚ï¼Œlayer=0</p>
<h6 data-id="heading-13">3).åœ¨æ¡Œé¢ï¼Œè¯­éŸ³æ‚¬æµ®çª—å‡ºç°ä¹‹åï¼Œç„¶åå¼¹å‡ºå¸è½½æ¡†ï¼š</h6>
<p>ä¸æ­£å¸¸æ˜¯è¿™ä¸ªï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">2025-12-29 13:58:34.996  1900-1900  VoiceAcces...ityService com.tencent.voice              D  windows size:</span> <span class="hljs-number">4</span> 
                                                                                                     <span class="hljs-attr">windowArrStr:</span> <span class="hljs-string">com.android.systemui</span> <span class="hljs-bullet">-</span> <span class="hljs-string">visible:true</span> <span class="hljs-bullet">-</span> <span class="hljs-string">active:false</span> 
                                                                                                    <span class="hljs-string">com.android.systemui</span> <span class="hljs-bullet">-</span> <span class="hljs-string">visible:true</span> <span class="hljs-bullet">-</span> <span class="hljs-string">active:false</span> 
                                                                                                    <span class="hljs-string">com.tencent.voice</span> <span class="hljs-bullet">-</span> <span class="hljs-string">visible:true</span> <span class="hljs-bullet">-</span> <span class="hljs-string">active:true</span> 
                                                                                                    <span class="hljs-string">com.tencent.launcher</span> <span class="hljs-bullet">-</span> <span class="hljs-string">visible:true</span> <span class="hljs-bullet">-</span> <span class="hljs-string">active:false</span> 
<span class="hljs-number">2025-12-29 13:58:34.998  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">D</span>  <span class="hljs-string">packageName:com.android.systemui</span>
                                                                                                    <span class="hljs-string">isActive:false</span>
                                                                                                    <span class="hljs-string">isAccessibilityFocused:false</span>
<span class="hljs-number">2025-12-29 13:58:34.999  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">E</span>  <span class="hljs-string">æ›¿æ¢èŠ‚ç‚¹å‰.......com.tencent.voice</span>
<span class="hljs-number">2025-12-29 13:58:34.999  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">E</span>  <span class="hljs-string">æ›¿æ¢èŠ‚ç‚¹å.......com.android.systemui</span>
<span class="hljs-number">2025-12-29 13:58:35.000  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">D</span>  <span class="hljs-string">packageName:com.android.systemui</span>
                                                                                                    <span class="hljs-string">isActive:false</span>
                                                                                                    <span class="hljs-string">isAccessibilityFocused:false</span>
<span class="hljs-number">2025-12-29 13:58:35.000  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">E</span>  <span class="hljs-string">æ›¿æ¢èŠ‚ç‚¹å‰.......com.android.systemui</span>
<span class="hljs-number">2025-12-29 13:58:35.000  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">E</span>  <span class="hljs-string">æ›¿æ¢èŠ‚ç‚¹å.......com.android.systemui</span>
<span class="hljs-number">2025-12-29 13:58:35.001  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">D</span>  <span class="hljs-string">packageName:com.tencent.voice</span>
                                                                                                    <span class="hljs-string">isActive:true</span>
                                                                                                    <span class="hljs-string">isAccessibilityFocused:false</span>
<span class="hljs-number">2025-12-29 13:58:35.003  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">D</span>  <span class="hljs-string">packageName:com.tencent.launcher</span>
                                                                                                    <span class="hljs-string">isActive:false</span>
                                                                                                    <span class="hljs-string">isAccessibilityFocused:false</span>
<span class="hljs-number">2025-12-29 13:58:35.003  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">E</span>  <span class="hljs-string">æ›¿æ¢èŠ‚ç‚¹å‰.......com.android.systemui</span>
<span class="hljs-number">2025-12-29 13:58:35.003  </span><span class="hljs-number">1900</span><span class="hljs-number">-1900</span>  <span class="hljs-string">VoiceAcces...ityService</span> <span class="hljs-string">com.tencent.voice</span>              <span class="hljs-string">E</span>  <span class="hljs-string">æ›¿æ¢èŠ‚ç‚¹å.......com.tencent.launcher</span>

</code></pre>
<p>åŸå› åº”è¯¥æ˜¯ä¼˜å…ˆçº§ï¼šä»–ä»¬typeç›¸åŒ
è¯­éŸ³:        type=TYPE_SYSTEM, layer=1,
launcher: type=TYPE_APPLICATION, layer=0</p>
<h6 data-id="heading-14">æœŸæœ›æ­£å¸¸æ˜¯è¿™ä¸ªç»“æœï¼š</h6>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.989</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              D  windows size: <span class="hljs-number">4</span> 
                                                                                                     windowArrStr: com.android.systemui - visible:<span class="hljs-literal">true</span> - active:<span class="hljs-literal">false</span> 
                                                                                                    com.android.systemui - visible:<span class="hljs-literal">true</span> - active:<span class="hljs-literal">false</span> 
                                                                                                    com.tencent.voice - visible:<span class="hljs-literal">true</span> - active:<span class="hljs-literal">true</span> 
                                                                                                    com.android.packageinstaller - visible:<span class="hljs-literal">true</span> - active:<span class="hljs-literal">false</span> 
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.990</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              D  packageName:com.android.systemui
                                                                                                    isActive:<span class="hljs-literal">false</span>
                                                                                                    isAccessibilityFocused:<span class="hljs-literal">false</span>
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.990</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              E  æ›¿æ¢èŠ‚ç‚¹å‰.......com.tencent.voice
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.990</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              E  æ›¿æ¢èŠ‚ç‚¹å.......com.android.systemui
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.991</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              D  packageName:com.android.systemui
                                                                                                    isActive:<span class="hljs-literal">false</span>
                                                                                                    isAccessibilityFocused:<span class="hljs-literal">false</span>
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.992</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              E  æ›¿æ¢èŠ‚ç‚¹å‰.......com.android.systemui
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.992</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              E  æ›¿æ¢èŠ‚ç‚¹å.......com.android.systemui
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.992</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              D  packageName:com.tencent.voice
                                                                                                    isActive:<span class="hljs-literal">true</span>
                                                                                                    isAccessibilityFocused:<span class="hljs-literal">false</span>
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.994</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              D  packageName:com.android.packageinstaller
                                                                                                    isActive:<span class="hljs-literal">false</span>
                                                                                                    isAccessibilityFocused:<span class="hljs-literal">false</span>
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.995</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              E  æ›¿æ¢èŠ‚ç‚¹å‰.......com.android.systemui
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-29</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">54.995</span>   <span class="hljs-number">565</span><span class="hljs-number">-565</span>   VoiceAcces...ityService com.tencent.voice              E  æ›¿æ¢èŠ‚ç‚¹å.......com.android.packageinstaller
</code></pre>
<h2 data-id="heading-15">4. è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-16">4.1 æ¨¡ä»¿æ‰‹æœºå‚å•†æ€ä¹ˆå¤„ç†çš„ï¼ çœ‹äº†ä¸‹VIVOæ‰‹æœºï¼Œ</h3>
<p>å…ˆå¸è½½ï¼Œ
å‘ç°è¯­éŸ³æ‚¬æµ®åï¼Œä¸èƒ½å†è¿›è¡Œä¸‹ä¸€æ­¥çš„å¯è§å³å¯è¯´ï¼ å‘½ä¸­çš„æ˜¯å¤§æ¨¡å‹ï¼Œå¸è½½æŒ‰é’®ä¸€æ ·æ— æ³•å‘½ä¸­ï¼Œå¦‚ä¸‹å›¾ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bcb80d8086a4033aa5abfc2f95a8a05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bmP56iL5Y2B5YWr5bCR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768784448&amp;x-signature=wXxRpbDoXmVCVwGZorDbsQl4ZbE%3D" alt="1000023139_å…è´¹è§†é¢‘è½¬GIF_20260109_170019.gif" loading="lazy"/></p>
<p>å¦‚æœæ‚¬æµ®çª—å®Œå…¨æŒ¡ä½äº†ä¸‹é¢çš„windowï¼Œä¸‹é¢çš„windowå°±ä¸ä¼šè¢«ç³»ç»Ÿæ‰«æåˆ°ï¼
å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘çš„æ‚¬æµ®çª—å®Œå…¨æŒ¡ä½äº†.com.android.packageinstallerï¼Œwindowé‡Œé¢å°±æ‰«æä¸å‡ºï¼Œæ‰«æå‡ºäº†com.tentent.launcher, å¦‚æœæˆ‘çš„æ‚¬æµ®çª—æ²¡ç”¨å®Œå…¨æŒ¡ä½ï¼Œå°±å¯ä»¥windowé‡Œé¢å°±æ‰«æå‡ºäº†.com.android.packageinstaller</p>
<h3 data-id="heading-17">ğŸ“Œ æ€»ç»“</h3>

















<table><thead><tr><th>é—®é¢˜åŸå› </th><th>ç³»ç»Ÿå°†å®Œå…¨è¢«æ‚¬æµ®çª—é®æŒ¡çš„çª—å£è§†ä¸ºâ€œä¸å¯è§â€ï¼Œæ•… AccessibilityService æ— æ³•è·å–å…¶æ ¹èŠ‚ç‚¹</th></tr></thead><tbody><tr><td>æ ¹æœ¬é™åˆ¶</td><td>Android å®‰å…¨æœºåˆ¶ï¼šä¸èƒ½é€šè¿‡ Accessibility è¯»å–è¢«å®Œå…¨é®æŒ¡/ä¸å¯äº¤äº’çš„çª—å£</td></tr><tr><td>æ¨èåšæ³•</td><td>1. é¿å…å®Œå…¨è¦†ç›– 2. è¿‡æ»¤æ‰è‡ªèº«å’Œ SystemUI/Launcher 3. ç»“åˆ UsageStats åšå…œåº•</td></tr></tbody></table>
<p>å½“æ—¶äº§å“çœ‹äº†ç«å“æ²¡ç”¨å®ç°ï¼Œè®©æˆ‘æ”¾æ‰‹ï¼ æˆ‘è§‰å¾—ä¿®æ”¹ç³»ç»Ÿframworkå±‚å¯ä»¥è§£å†³ï¼Œä½†æ˜¯å…¬å¸çš„framworkå±‚å¤ªlowäº†ï¼Œåªæœ‰è‡ªå·±æƒ³åŠæ³•</p>
<h3 data-id="heading-18">4.1 é¿å…å®Œå…¨é®æŒ¡ï¼ˆæ¨èä¸´æ—¶æ–¹æ¡ˆï¼‰</h3>
<p>ä¿®æ”¹æ‚¬æµ®çª—é«˜åº¦ï¼Œç•™å‡ºé¡¶éƒ¨æˆ–åº•éƒ¨ç©ºé—´</p>
<p>å…·ä½“æªæ–½å¦‚ä¸‹ï¼š
ç¬¬ä¸€ç§ä¸´æ—¶æ–¹æ¡ˆï¼šè¯­éŸ³çš„æ‚¬æµ®çª—ä¸å®Œå…¨æŒ¡ä½ç³»ç»Ÿçš„å¼¹æ¡†ï¼Œæ˜¯å¯ä»¥æ‰«æå‡ºæ¥çš„ï¼
ç¿»çœ‹äº†æºç ï¼š æ— éšœç¢æœåŠ¡æ‰«æåŸç†ï¼Œä»ä¸Šå¾€ä¸‹æ‰«æï¼Œå½“åŒçº§layer çš„windowï¼Œä¼šæ ¹æ®ä¼˜å…ˆçº§åˆ¤æ–­ï¼ å‰é¢çš„çª—å£å®Œå…¨æŒ¡ä½ï¼Œä¼šæ‰«æä¸å‡º
<strong>æ‰€ä»¥å¾ˆå®¹æ˜“æƒ³åˆ°ä¸´æ—¶æ–¹æ¡ˆï¼šä¿®æ”¹æ‚¬æµ®çª—çš„å®½åº¦æˆ–è€…é«˜åº¦</strong>,</p>
<pre><code class="hljs language-ini" lang="ini">    // è®¾ç½®çª—å£å¤§å°å’Œä½ç½®
            int <span class="hljs-attr">screenHeight</span> = DisplayUtils.getScreenHeight(MainApplication.getApplication())<span class="hljs-comment">;</span>
            <span class="hljs-attr">layoutParams.height</span> = (int) (screenHeight * <span class="hljs-number">0.85</span>)<span class="hljs-comment">;</span>
            <span class="hljs-attr">layoutParams.format</span> = PixelFormat.TRANSLUCENT<span class="hljs-comment">;</span>
            <span class="hljs-attr">layoutParams.gravity</span> = Gravity.BOTTOM | Gravity.CENTER_HORIZONTAL<span class="hljs-comment">;</span>

</code></pre>
<p>å› ä¸ºæ²»æ ‡ä¸æ²»æœ¬ï¼æˆ‘ä¸è€ƒè™‘ï¼Œæ‰“ç®—å…ˆçœ‹ç°è±¡</p>
<h4 data-id="heading-19">4.1.1 ç¬¬äºŒç§ä¸´æ—¶æ–¹æ¡ˆ   è§£å†³æ–¹æ¡ˆï¼š.æ”¹å˜ç‚¹å‡»äº‹ä»¶</h4>
<p>æ ¸å¿ƒæ€è·¯ï¼š</p>
<p>é»˜è®¤æ‚¬æµ®çª—å¯ç‚¹å‡»ï¼ˆå¤„ç†å†…éƒ¨ RecyclerViewï¼‰</p>
<p>å½“æ£€æµ‹åˆ°ç³»ç»Ÿå¼¹çª—å‡ºç°æ—¶ï¼ˆå¦‚é€šè¿‡ UsageStats æˆ–å¹¿æ’­ï¼‰ï¼š</p>
<p>å°†æ‚¬æµ®çª—è®¾ä¸º ä¸å¯ç‚¹å‡» + äº‹ä»¶é€ä¼ </p>
<p>å³ï¼šFLAG_NOT_TOUCHABLE | FLAG_NOT_FOCUSABLE</p>
<p>ç”¨æˆ·æ“ä½œå®Œæˆåï¼Œæ¢å¤å¯ç‚¹å‡»çŠ¶æ€</p>
<p>ç‚¹å‡»äº‹ä»¶çš„è¯¦ç»†åˆ†æï¼š
1.å¦‚æœæ˜¯ç‚¹å‡»äº†å®‰è£…ä¹‹åï¼Œ2såï¼Œè®¾ç½®ä¸ºä¸å¯ç‚¹å‡»ï¼Œ
ä¸ŠæŠ¥åï¼Œå¦‚æœæ˜¯é‡‡é›†åˆ°äº†ï¼Œè®¾ç½®ä¸ºå¯ç‚¹å‡»ï¼</p>
<pre><code class="hljs language-arduino" lang="arduino">   <span class="hljs-keyword">protected</span> WindowManager.<span class="hljs-function">LayoutParams <span class="hljs-title">getLayoutParams</span><span class="hljs-params">(<span class="hljs-type">boolean</span> clickable,<span class="hljs-type">int</span> orientation)</span> </span>{
        LogUtils.<span class="hljs-built_in">d</span>(TAG, <span class="hljs-string">"getLayoutParams: clickable = "</span> + clickable + <span class="hljs-string">" cardClickable = "</span> + cardClickable);
        mCurAsrClickable = clickable;
        <span class="hljs-keyword">if</span> (layoutParams == null) {
            layoutParams = <span class="hljs-keyword">new</span> WindowManager.<span class="hljs-built_in">LayoutParams</span>(WindowManager.LayoutParams.TYPE_APPLICATION);
            layoutParams.width = WindowManager.LayoutParams.WRAP_CONTENT;
            layoutParams.height = WindowManager.LayoutParams.WRAP_CONTENT;
            layoutParams.type = WindowManager.LayoutParams.TYPE_SYSTEM_ALERT;
            layoutParams.flags = WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE;
            layoutParams.format = PixelFormat.TRANSLUCENT;<span class="hljs-comment">// æ”¯æŒé€æ˜</span>
        }

        <span class="hljs-type">int</span> canTouchFlag = WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;
        <span class="hljs-type">int</span> cantTouchFlag = WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE;
        <span class="hljs-keyword">if</span> (clickable) {
            layoutParams.flags |= canTouchFlag;
            layoutParams.flags |= cantTouchFlag;
            layoutParams.flags ^= cantTouchFlag;
        } <span class="hljs-keyword">else</span> {
            layoutParams.flags |= cantTouchFlag;
            layoutParams.flags |= canTouchFlag;
            layoutParams.flags ^= canTouchFlag;
        }
</code></pre>
<h3 data-id="heading-20">4.2  æ–¹æ¡ˆäºŒ: æœ€ä¼˜åŒ–ç»ˆæè§£å†³æ–¹æ¡ˆ ç»“åˆæ‚¬æµ®çª—å±æ€§ä¼˜åŒ– + æ— éšœç¢æœåŠ¡æ™ºèƒ½å¤„ç†ï¼š</h3>
<p>é€šè¿‡æ‚¬æµ®çª—å±æ€§+ æ›¿æ¢å¯è§å³å¯è¯´çš„windowå¯¹è±¡ï¼Œæ›¿æ¢èŠ‚ç‚¹è§£å†³ï¼</p>
<h4 data-id="heading-21">4.2.1 æ‚¬æµ®çª—çš„å±æ€§æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</h4>
<pre><code class="hljs language-arduino" lang="arduino">  <span class="hljs-keyword">protected</span> WindowManager.<span class="hljs-function">LayoutParams <span class="hljs-title">getLayoutParams</span><span class="hljs-params">(<span class="hljs-type">boolean</span> clickable)</span> </span>{
        LogUtils.<span class="hljs-built_in">d</span>(TAG, <span class="hljs-string">"getLayoutParams: clickable = "</span> + clickable + <span class="hljs-string">" cardClickable = "</span> + cardClickable);
        mCurAsrClickable = clickable;
        <span class="hljs-keyword">if</span> (layoutParams == null) {
            layoutParams = <span class="hljs-keyword">new</span> WindowManager.<span class="hljs-built_in">LayoutParams</span>(
                    WindowManager.LayoutParams.MATCH_PARENT,
                    WindowManager.LayoutParams.WRAP_CONTENT,
                    WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY,
                    WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,
                    PixelFormat.TRANSLUCENT);

            layoutParams.format = PixelFormat.TRANSLUCENT;
            layoutParams.gravity = Gravity.BOTTOM | Gravity.CENTER_HORIZONTAL;

            layoutParams.flags |= WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN;

            <span class="hljs-comment">// è®¾ç½®çª—å£æ ‡å¿— - å…è®¸ç‚¹å‡»äº‹ä»¶ä¼ é€’åˆ°ä¸‹å±‚</span>
            layoutParams.flags |= WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;
            layoutParams.flags |= WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH;
        }

        <span class="hljs-comment">// è®¾ç½®çª—å£å¤§å°å’Œä½ç½®</span>
        <span class="hljs-type">int</span> screenHeight = DisplayUtils.<span class="hljs-built_in">getScreenHeight</span>(MainApplication.<span class="hljs-built_in">getApplication</span>());
        layoutParams.height = (<span class="hljs-type">int</span>) (screenHeight * <span class="hljs-number">0.95</span>);

        <span class="hljs-comment">//æ ¹æ®å±å¹•æ–¹å‘ï¼ŒåŠ¨æ€è®¾ç½®å®½åº¦</span>
        <span class="hljs-keyword">if</span> (DisplayUtils.<span class="hljs-built_in">isLandscape</span>(GlobalApplication.mGlobalContext)) {
            layoutParams.width = DisplayUtils.<span class="hljs-built_in">dp2px</span>(MainApplication.<span class="hljs-built_in">getApplication</span>(), <span class="hljs-number">348f</span>);
        } <span class="hljs-keyword">else</span> {
            layoutParams.width = WindowManager.LayoutParams.MATCH_PARENT;
        }

        LogUtils.<span class="hljs-built_in">d</span>(TAG, <span class="hljs-string">"-----height: "</span> + layoutParams.height);
        <span class="hljs-keyword">return</span> layoutParams;
    }
</code></pre>
<h4 data-id="heading-22">4.2.2 å¯è§å³å¯è¯´ï¼Œæ— éšœç¢æœåŠ¡æ›¿æ¢windowçš„æ ¸å¿ƒä»£ç å¦‚ä¸‹:</h4>
<pre><code class="hljs language-javascript" lang="javascript">            <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåœ¨ threadRoot çº¿ç¨‹ä¸­è·å–æ ¹èŠ‚ç‚¹</span>
            <span class="hljs-title class_">GlobalScope</span>.<span class="hljs-title function_">launch</span>(<span class="hljs-params">threadRoot</span>) {
                <span class="hljs-keyword">try</span> {
                    val startTime = <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>()
                    <span class="hljs-comment">// è·å–æ ¹èŠ‚ç‚¹</span>
                    <span class="hljs-keyword">var</span> rootNode = rootInActiveWindow
                    activeRootNodeVisible = rootNode?.<span class="hljs-property">isVisibleToUser</span> ?: <span class="hljs-literal">false</span>
                    <span class="hljs-title function_">printLogOnDebug</span>(<span class="hljs-string">"rootInActiveWindow-------${rootNode?.packageName}; ${rootNode?.windowId}"</span>)

                    <span class="hljs-comment">// çª—å£è¿‡æ»¤é€»è¾‘ï¼ˆå·²æ³¨é‡Šï¼Œå¯æ ¹æ®éœ€è¦å¯ç”¨ï¼‰</span>
                    <span class="hljs-keyword">if</span> (rootNode?.<span class="hljs-property">packageName</span> == packageName || rootNode?.<span class="hljs-property">childCount</span> == <span class="hljs-number">0</span>) {
                        windows?.<span class="hljs-property">forEach</span> { <span class="hljs-variable language_">window</span> -&gt;
                            <span class="hljs-variable language_">window</span>?.<span class="hljs-property">root</span>?.<span class="hljs-property">takeIf</span> { rn -&gt;
                                rn.<span class="hljs-property">packageName</span> != packageName &amp;&amp; rn.<span class="hljs-property">childCount</span> != <span class="hljs-number">0</span>
                            }?.<span class="hljs-property">apply</span> {
                                rootNode = <span class="hljs-variable language_">this</span>
                                <span class="hljs-title class_">LogUtils</span>.<span class="hljs-title function_">d</span>(<span class="hljs-variable constant_">TAG</span>, <span class="hljs-string">"æ›¿æ¢èŠ‚ç‚¹......."</span>)
                            }
                        }
                    }
</code></pre>
<p>æ›´è¯¦ç»†ä¸€ç‚¹çš„ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAccessibilityEvent</span><span class="hljs-params">(event: <span class="hljs-type">AccessibilityEvent</span>?)</span></span> {
<span class="hljs-comment">//        windows.forEach {</span>
<span class="hljs-comment">//            LogUtils.e(TAG, "å¼€å§‹windows-------$it; ${it.root?.packageName}")</span>
<span class="hljs-comment">//        }</span>

        <span class="hljs-keyword">if</span>(!SettingsChangeObserver.checkIsCarSystem()){
            <span class="hljs-keyword">var</span> rootNodeOrigin = getRootNodeWithCache(event)

            lastCallBackTime = System.currentTimeMillis()
            lastActiveRootNodePackage = <span class="hljs-string">"<span class="hljs-subst">${rootNodeOrigin?.packageName?.toString() ?: <span class="hljs-string">""</span>}</span> child:<span class="hljs-subst">${rootNodeOrigin?.childCount}</span>"</span>

            windowArrStr = <span class="hljs-string">""</span>
            <span class="hljs-keyword">if</span>(isAbleToLog){
                windows.forEach {
                    windowArrStr += <span class="hljs-string">"<span class="hljs-subst">${it.root?.packageName}</span> - visible:<span class="hljs-subst">${it.root?.isVisibleToUser}</span> - active:<span class="hljs-subst">${it.isActive}</span> \n"</span>
                }
            }
            activeRootNodeVisible = rootNodeOrigin?.isVisibleToUser ?: <span class="hljs-literal">false</span>
            printLogOnDebug(<span class="hljs-string">"rootInActiveWindow-------<span class="hljs-subst">${rootNodeOrigin?.packageName}</span>; <span class="hljs-subst">${rootNodeOrigin?.windowId}</span>"</span>)

<span class="hljs-comment">//        for (w in windows) {</span>
<span class="hljs-comment">//            w.getBoundsInScreen(mRect)</span>
<span class="hljs-comment">//            //è¿‡æ»¤é¡¶éƒ¨çŠ¶æ€æ çª—å£</span>
<span class="hljs-comment">//            if (mRect.equalsXY(0, 0, 1920, 32)) continue</span>
<span class="hljs-comment">//            if (mRect.equalsXY(144, 0, 1920, 32)) continue</span>
<span class="hljs-comment">//            //è¿‡æ»¤å·¦è¾¹Dockæ çª—å£</span>
<span class="hljs-comment">//            if (mRect.equalsXY(0, 0, 144, 720)) continue</span>
<span class="hljs-comment">//            val pkName = w.root?.packageName</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">//            if (pkName.isNullOrEmpty()) break</span>
<span class="hljs-comment">//            rootNode</span>
<span class="hljs-comment">//            // TODO V2å¤„ç†</span>
<span class="hljs-comment">////            rootNode = HotwordsExecutorFactory.getHotwordsExecutor(pkName).interceptRootNode(windows, rootNode)</span>
<span class="hljs-comment">//            break</span>
<span class="hljs-comment">//        }</span>

            <span class="hljs-keyword">if</span> (rootNodeOrigin?.packageName == packageName || rootNodeOrigin?.childCount == <span class="hljs-number">0</span>) {
                windows.forEach {
                Log.d(
                    TAG, <span class="hljs-string">"""
                packageName:<span class="hljs-subst">${it?.root?.packageName}</span>
                isActive:<span class="hljs-subst">${it?.isActive}</span>
                isAccessibilityFocused:<span class="hljs-subst">${it?.isAccessibilityFocused}</span>
                """</span>.trimIndent()
                )
                    it.root?.takeIf { rn -&gt;
                        rn.packageName != packageName &amp;&amp; rn.childCount != <span class="hljs-number">0</span>
                    }?.apply {
                        LogUtils.d(TAG, <span class="hljs-string">"æ›¿æ¢èŠ‚ç‚¹......."</span>+ rootNodeOrigin?.packageName )
                        rootNodeOrigin = <span class="hljs-keyword">this</span>
                    }
                }
            }
            <span class="hljs-keyword">val</span> rootNode = rootNodeOrigin

            lastLoadRootNodePackage = rootNode?.packageName?.toString() ?: <span class="hljs-string">""</span>

            printLogOnDebug(<span class="hljs-string">"rootNode-------<span class="hljs-subst">${rootNode?.packageName}</span>; <span class="hljs-subst">${rootNode?.windowId}</span>"</span>)

            <span class="hljs-keyword">if</span> (rootNode == <span class="hljs-literal">null</span> || event == <span class="hljs-literal">null</span>|| event.packageName.isNullOrEmpty()) {
                <span class="hljs-keyword">return</span>
            }

            <span class="hljs-keyword">if</span> (rootNode.packageName == packageName) {
                <span class="hljs-keyword">return</span>
            }

            <span class="hljs-keyword">try</span> {
                logNodeInfo(rootNode, event)
            } <span class="hljs-keyword">catch</span> (e: Exception) {

            }
            GlobalScope.launch(threadContext) {
                <span class="hljs-keyword">try</span> {
                    processBusinessLogic(rootNode)
                } <span class="hljs-keyword">catch</span> (e: Exception) {
                    LogUtils.e(TAG, e.message)
                }
            }
        }<span class="hljs-keyword">else</span>{

            <span class="hljs-comment">// ç¬¬ä¸€æ­¥ï¼šåœ¨ threadRoot çº¿ç¨‹ä¸­è·å–æ ¹èŠ‚ç‚¹</span>
            GlobalScope.launch(threadRoot) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()
                    <span class="hljs-comment">// è·å–æ ¹èŠ‚ç‚¹</span>
                    <span class="hljs-keyword">var</span> rootNode = rootInActiveWindow
                    <span class="hljs-keyword">val</span> endTime = System.currentTimeMillis()
                    <span class="hljs-keyword">val</span> timeCost = endTime - startTime
                    <span class="hljs-keyword">if</span> (timeCost &gt; <span class="hljs-number">1000</span>) {
                        LogUtils.e(TAG, <span class="hljs-string">"è·å–æœ€æ–°rootInActiveWindowè€—æ—¶è¶…è¿‡1ç§’: <span class="hljs-subst">${timeCost}</span>ms"</span>+Thread.currentThread().name)
                        <span class="hljs-keyword">val</span> eventType = event?.let { AccessibilityEvent.eventTypeToString(it.eventType) } ?: <span class="hljs-string">"unknown"</span>
                        voiceAccessibilityPerformance.reportAccessibility(timeCost,eventType)
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isAbleToWindowLog){
                        LogUtils.i(TAG, <span class="hljs-string">"è·å–æœ€æ–°rootInActiveWindowè€—æ—¶: <span class="hljs-subst">${timeCost}</span>ms"</span>+Thread.currentThread().name)
                    }

                    lastCallBackTime = System.currentTimeMillis()
                    lastActiveRootNodePackage = <span class="hljs-string">"<span class="hljs-subst">${rootNode?.packageName?.toString() ?: <span class="hljs-string">""</span>}</span> child:<span class="hljs-subst">${rootNode?.childCount}</span>"</span>
                    windowArrStr = <span class="hljs-string">""</span>

                    activeRootNodeVisible = rootNode?.isVisibleToUser ?: <span class="hljs-literal">false</span>
                    printLogOnDebug(<span class="hljs-string">"rootInActiveWindow-------<span class="hljs-subst">${rootNode?.packageName}</span>; <span class="hljs-subst">${rootNode?.windowId}</span>"</span>)

                    <span class="hljs-comment">// çª—å£è¿‡æ»¤é€»è¾‘ï¼ˆå·²æ³¨é‡Šï¼Œå¯æ ¹æ®éœ€è¦å¯ç”¨ï¼‰</span>
                    <span class="hljs-keyword">if</span> (rootNode?.packageName == packageName || rootNode?.childCount == <span class="hljs-number">0</span>) {
                        windows?.forEach { window -&gt;
                            window?.root?.takeIf { rn -&gt;
                                rn.packageName != packageName &amp;&amp; rn.childCount != <span class="hljs-number">0</span>
                            }?.apply {
                                rootNode = <span class="hljs-keyword">this</span>
                                LogUtils.d(TAG, <span class="hljs-string">"æ›¿æ¢èŠ‚ç‚¹......."</span>)
                            }
                        }
                    }
</code></pre>
<blockquote>
<p>ä¸ºä»€ä¹ˆä¿®æ”¹æ‚¬æµ®çª—çš„å±æ€§å’Œæ›¿æ¢windowå¯ä»¥è§£å†³å‘¢?</p>
</blockquote>
<p>å…ˆæ•´ç†éœ€æ±‚ï¼š</p>
<h4 data-id="heading-23">1.).éœ€è¦èƒ½æŠŠæ‚¬æµ®çª—çš„äº‹ä»¶èƒ½è§¦æ‘¸ï¼Œå°±è¦ç”¨åˆ° WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;</h4>
<h4 data-id="heading-24">2).æœŸæœ›ä¸å½±å“ä¸‹é¢windowçš„äº¤äº’ï¼ŒFLAG_NOT_FOCUSABLE</h4>
<p>FLAG_NOT_FOCUSABLE ï¼š ç„¦ç‚¹æ˜¯å¹²å˜›çš„?
åªæœ‰è®¾ç½®äº†è¿™ä¸ªï¼Œæ‰èƒ½æ‰«æåˆ°windowå¯¹è±¡</p>
<p><strong>åœºæ™¯1ï¼šè®¾ç½®äº† FLAG_NOT_FOCUSABLE</strong></p>
<p>// ä½ çš„æ‚¬æµ®çª—ä»£ç ï¼š
layoutParams.flags |= WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE;
// ç”¨æˆ·æ“ä½œå’Œç»“æœï¼š</p>
<ol>
<li>ç”¨æˆ·ç‚¹å‡»æ‚¬æµ®çª—å†…çš„ EditText â†’ âŒ è½¯é”®ç›˜ä¸ä¼šå¼¹å‡º</li>
<li>ç”¨æˆ·æŒ‰ç‰©ç†é”®ç›˜ â†’ âŒ æ‚¬æµ®çª—æ”¶ä¸åˆ°æŒ‰é”®äº‹ä»¶</li>
<li>ç”¨æˆ·æŒ‰è¿”å›é”® â†’ âŒ æ‚¬æµ®çª—æ”¶ä¸åˆ°è¿”å›é”®äº‹ä»¶</li>
<li>ç”¨æˆ·æŒ‰éŸ³é‡é”® â†’ âŒ æ‚¬æµ®çª—æ”¶ä¸åˆ°éŸ³é‡é”®äº‹ä»¶</li>
</ol>
<p><strong>åœºæ™¯2ï¼šæ²¡æœ‰è®¾ç½® FLAG_NOT_FOCUSABLE</strong>
// ä¸è®¾ç½® FLAG_NOT_FOCUSABLEï¼š
// layoutParams.flags |= WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE; // æ³¨é‡Šæ‰</p>
<p>// ç”¨æˆ·æ“ä½œå’Œç»“æœï¼š</p>
<ol>
<li>ç”¨æˆ·ç‚¹å‡»æ‚¬æµ®çª—å†…çš„ EditText â†’ âœ… è½¯é”®ç›˜å¼¹å‡º</li>
<li>ç”¨æˆ·æŒ‰ç‰©ç†é”®ç›˜ â†’ âœ… æ‚¬æµ®çª—æ”¶åˆ°æŒ‰é”®äº‹ä»¶</li>
<li>ç”¨æˆ·æŒ‰è¿”å›é”® â†’ âœ… æ‚¬æµ®çª—æ”¶åˆ°è¿”å›é”®äº‹ä»¶</li>
<li>ç”¨æˆ·æŒ‰éŸ³é‡é”® â†’ âœ… æ‚¬æµ®çª—æ”¶åˆ°éŸ³é‡é”®äº‹ä»¶</li>
</ol>
<p><strong>Q1ï¼šè®¾ç½®äº† FLAG_NOT_FOCUSABLEï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ”¶åˆ°è§¦æ‘¸äº‹ä»¶ï¼Ÿ</strong>
Aï¼šç„¦ç‚¹å’Œè§¦æ‘¸æ˜¯åˆ†å¼€çš„ã€‚FLAG_NOT_FOCUSABLE åªå½±å“é”®ç›˜/æŒ‰é”®äº‹ä»¶ï¼Œä¸å½±å“è§¦æ‘¸äº‹ä»¶ã€‚è¦é˜»æ­¢è§¦æ‘¸ï¼Œéœ€è¦è®¾ç½® FLAG_NOT_TOUCHABLEã€‚</p>
<p><strong>Q2ï¼šWindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,
layoutParams.flags |= WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;</strong>
å’Œåªè®¾ç½®äº†WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,æœ‰ä»€ä¹ˆåŒºåˆ«</p>
<p>FLAG_NOT_TOUCH_MODAL çš„ä½œç”¨ï¼Ÿ
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‚¬æµ®çª—ä¼šæ¨¡æ€æ‹¦æˆªæ‰€æœ‰è§¦æ‘¸äº‹ä»¶ï¼ˆå³ä½¿ç‚¹å‡»ç©ºç™½åŒºï¼Œåº•å±‚ä¹Ÿæ”¶ä¸åˆ°ï¼‰
åŠ ä¸Šæ­¤ flag åï¼š
æ‚¬æµ®çª—åŒºåŸŸå†…ï¼šè‡ªå·±å¤„ç†äº‹ä»¶
åŒºåŸŸå¤–ï¼šäº‹ä»¶ä¼ é€’ç»™ä¸‹å±‚çª—å£
<strong>Q3ï¼š// è®¾ç½®çª—å£æ ‡å¿— - å…è®¸ç‚¹å‡»å¤–éƒ¨å…³é—­</strong>
params.flags |= WindowManager.LayoutParams.FLAG_DIM_BEHIND;</p>
<p><strong>Q4ï¼š// è®¾ç½®çª—å£æ ‡å¿— - å…è®¸ç‚¹å‡»å¤–éƒ¨å…³é—­</strong>
è¿™ä¸ªå¿…é¡»é…åˆflagä¸€èµ·ä½¿ç”¨, å¦åˆ™ä¹Ÿä¸ç”Ÿæ•ˆ
WindowManager.LayoutParams.FLAG_WATCH_OUTSIDE_TOUCH;</p>
<p><strong>Q5ï¼šè¿™3ä¸ªæ­¥éª¤åˆ°åº•äº‹ä»€ä¹ˆæ„æ€</strong></p>
<p>int canTouchFlag = WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;
int cantTouchFlag = WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE | WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE;</p>
<pre><code class="hljs language-ini" lang="ini">    layoutParams.flags |= canTouchFlag<span class="hljs-comment">;</span>
    layoutParams.flags |= cantTouchFlag<span class="hljs-comment">;</span>
    layoutParams.flags ^= cantTouchFlag<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€
ç»è¿‡è¿™ä¸‰æ­¥è¿ç®—åï¼š</p>
<p>âœ… è®¾ç½®äº† FLAG_NOT_TOUCH_MODAL</p>
<p>âŒ ç§»é™¤äº† FLAG_NOT_TOUCHABLE</p>
<p>âŒ ç§»é™¤äº† FLAG_NOT_FOCUSABLE</p>
<p>ç­‰ä»·äºï¼š</p>
<p>// è®¾ç½® NOT_TOUCH_MODAL
layoutParams.flags |= WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;</p>
<h3 data-id="heading-25">4.3 æ€»ç»“ï¼š  ç„¦ç‚¹å’Œè§¦æ‘¸äº‹ä»¶æ˜¯2å›äº‹ï¼</h3>
<h6 data-id="heading-26">1ï¼‰.è§¦æ‘¸å“åº”ï¼š åªå’Œè¿™ä¸ªæœ‰å…³ç³»</h6>
<p>layoutParams.flags |= WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;</p>
<h6 data-id="heading-27">2).  æ‚¬æµ®çª—çš„äº‹ä»¶åˆ†å‘é—®é¢˜ï¼š</h6>
<p>è®¾ç½® FLAG_NOT_FOCUSABLE + FLAG_NOT_TOUCH_MODAL
onTouchEvent è¿”å› falseï¼Œ æˆ‘å‘ç°ä¸‹é¢çš„launcheråº”ç”¨ï¼Œä¸èƒ½æ¥æ”¶åˆ°ç‚¹å‡»äº‹ä»¶</p>
<p>ç»“è®ºï¼šäº‹ä»¶é€ä¼ ï¼Œ(åªå’ŒFLAG_NOT_TOUCHABLEæœ‰å…³ç³»ï¼Œæ³¨æ„ä¸æ˜¯FLAG_NOT_FOCUSABLE ï¼Œä¸éµå¾ªäº‹ä»¶åˆ†å‘åŸç†)ï¼
æƒé™å’Œç³»ç»Ÿé™åˆ¶ï¼šä¸€äº›ç³»ç»Ÿä¸ºäº†å®‰å…¨ï¼Œé™åˆ¶äº†æ‚¬æµ®çª—ä¸åº•å±‚åº”ç”¨çš„äº¤äº’</p>
<p>ç³»ç»Ÿå®‰å…¨æœºåˆ¶ç¦æ­¢åº”ç”¨ç›´æ¥å¹²é¢„å…¶ä»–åº”ç”¨çš„äº‹ä»¶æµã€‚</p>
<p>æ‚¬æµ®çª—äº‹ä»¶é€ä¼ æœºåˆ¶</p>
<p>â— FLAG_NOT_FOCUSABLEï¼šçª—å£ä¸è·å–ç„¦ç‚¹ï¼Œä½†ä»å¯æ¥æ”¶è§¦æ‘¸äº‹ä»¶(è‡ªå·±å¾—åˆ°äº‹ä»¶)</p>
<p>â— FLAG_NOT_TOUCH_MODALï¼šçª—å£åŒºåŸŸå†…çš„è§¦æ‘¸äº‹ä»¶è‡ªå·±å¤„ç†ï¼ŒåŒºåŸŸå¤–çš„ä¼ é€’ç»™åé¢</p>
<p>â— FLAG_NOT_TOUCHABLEï¼šå®Œå…¨ä¸æ¥æ”¶ä»»ä½•è§¦æ‘¸äº‹ä»¶ï¼Œå…¨éƒ¨ä¼ é€’ç»™åé¢(å…¨éƒ¨ç»™äº†åº•å±‚)</p>
<p>Androidæ‚¬æµ®çª—äº‹ä»¶åˆ†å‘éµå¾ªä»¥ä¸‹åŸºæœ¬æµç¨‹ï¼š</p>
<ol>
<li>è¾“å…¥ç³»ç»Ÿæ£€æµ‹è§¦æ‘¸äº‹ä»¶</li>
<li>WindowManagerServiceç¡®å®šç›®æ ‡çª—å£</li>
<li>æ‚¬æµ®çª—çš„äº‹ä»¶åˆ†å‘åªèƒ½é’ˆå¯¹è‡ªå·±çš„çª—å£ï¼Œä¸èƒ½åˆ†å‘ç»™å…¶ä»–çª—å£</li>
</ol>
<pre><code class="hljs language-csharp" lang="csharp">    <span class="hljs-comment">/**
     * è®¾ç½®çº¢è‰²åŒºåŸŸç‚¹å‡»å…³é—­åŠŸèƒ½, ç‚¹å‡»åˆ°cardViewä¸æ¶ˆå¤±
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setupTransparentAreaClick</span>()</span> {
        <span class="hljs-keyword">if</span> (mAsrView == <span class="hljs-literal">null</span>) {
            LogUtils.d(TAG, <span class="hljs-string">"setupTransparentAreaClick: mAsrView is null"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// è·å–æ ¹å¸ƒå±€</span>
        View rootView = mAsrView.findViewById(R.id.root_view);

        <span class="hljs-keyword">if</span> (rootView == <span class="hljs-literal">null</span> || cardView == <span class="hljs-literal">null</span>) {
            LogUtils.d(TAG, <span class="hljs-string">"setupTransparentAreaClick: rootView or cardView is null"</span>);
            <span class="hljs-keyword">return</span>;
        }

        LogUtils.d(TAG, <span class="hljs-string">"setupTransparentAreaClick: rootView="</span> + rootView + <span class="hljs-string">", cardView="</span> + cardView);

        rootView.setOnTouchListener(<span class="hljs-keyword">new</span> View.OnTouchListener() {
            <span class="hljs-keyword">private</span> <span class="hljs-built_in">long</span> touchStartTime = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> touchStartX = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">private</span> <span class="hljs-built_in">float</span> touchStartY = <span class="hljs-number">0</span>;

            @Override
            <span class="hljs-function"><span class="hljs-keyword">public</span> boolean <span class="hljs-title">onTouch</span>(<span class="hljs-params">View v, MotionEvent <span class="hljs-keyword">event</span></span>)</span> {
                <span class="hljs-keyword">if</span> (mAsrView == <span class="hljs-literal">null</span>) {
                    LogUtils.e(TAG, <span class="hljs-string">"onTouch: mAsrView=null!!"</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                <span class="hljs-built_in">int</span> action = <span class="hljs-keyword">event</span>.getAction();
                <span class="hljs-built_in">float</span> currentX = <span class="hljs-keyword">event</span>.getX();
                <span class="hljs-built_in">float</span> currentY = <span class="hljs-keyword">event</span>.getY();

                <span class="hljs-keyword">switch</span> (action) {
                    <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                        touchStartTime = System.currentTimeMillis();
                        touchStartX = currentX;
                        touchStartY = currentY;

                        LogUtils.d(TAG, <span class="hljs-string">"ACTION_DOWN: x="</span> + currentX + <span class="hljs-string">", y="</span> + currentY);
                        LogUtils.d(TAG, <span class="hljs-string">"rootView bounds: width="</span> + rootView.getWidth() + <span class="hljs-string">", height="</span> + rootView.getHeight());
                        LogUtils.d(TAG, <span class="hljs-string">"cardView bounds: left="</span> + cardView.getLeft() + <span class="hljs-string">", top="</span> + cardView.getTop() +
                                <span class="hljs-string">", right="</span> + cardView.getRight() + <span class="hljs-string">", bottom="</span> + cardView.getBottom());

                        <span class="hljs-comment">// åˆ¤æ–­ç‚¹å‡»æ˜¯å¦åœ¨cardViewåŒºåŸŸå†…</span>
                        boolean isInsideCardView = isPointInsideView(currentX, currentY, cardView);
                        LogUtils.d(TAG, <span class="hljs-string">"isInsideCardView: "</span> + isInsideCardView);

                        <span class="hljs-comment">// å¦‚æœç‚¹å‡»åœ¨cardViewå†…ï¼Œä¸å¤„ç†ï¼Œè®©å­Viewå¤„ç†</span>
                        <span class="hljs-keyword">if</span> (isInsideCardView) {
                            LogUtils.d(TAG, <span class="hljs-string">"ç‚¹å‡»åœ¨cardViewå†…ï¼Œä¸å¤„ç†è§¦æ‘¸äº‹ä»¶"</span>);
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                        }
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

                    <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
<span class="hljs-comment">//                        LogUtils.d(TAG, "ACTION_MOVE: x=" + currentX + ", y=" + currentY);</span>
                        <span class="hljs-keyword">break</span>;

                    <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                    <span class="hljs-keyword">case</span> MotionEvent.ACTION_CANCEL:
                        <span class="hljs-built_in">long</span> touchDuration = System.currentTimeMillis() - touchStartTime;
                        <span class="hljs-built_in">float</span> deltaX = Math.abs(currentX - touchStartX);
                        <span class="hljs-built_in">float</span> deltaY = Math.abs(currentY - touchStartY);

                        LogUtils.d(TAG, <span class="hljs-string">"ACTION_UP: x="</span> + currentX + <span class="hljs-string">", y="</span> + currentY +
                                <span class="hljs-string">", duration="</span> + touchDuration + <span class="hljs-string">"ms, deltaX="</span> + deltaX + <span class="hljs-string">", deltaY="</span> + deltaY);

                        <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ˜¯ç‚¹å‡»äº‹ä»¶ï¼ˆä¸æ˜¯æ»‘åŠ¨ï¼‰</span>
                        <span class="hljs-keyword">if</span> (touchDuration &lt; <span class="hljs-number">500</span> &amp;&amp; deltaX &lt; <span class="hljs-number">50</span> &amp;&amp; deltaY &lt; <span class="hljs-number">50</span>) {
                            boolean isInside = isPointInsideView(currentX, currentY, cardView);
                            LogUtils.d(TAG, <span class="hljs-string">"ç‚¹å‡»äº‹ä»¶å¤„ç†: isInsideCardView="</span> + isInside);

                            <span class="hljs-comment">// å¦‚æœç‚¹å‡»åœ¨cardViewå¤–ï¼Œå…³é—­ç•Œé¢</span>
                            <span class="hljs-keyword">if</span> (!isInside) {
                                LogUtils.i(<span class="hljs-string">"baidu"</span>, <span class="hljs-string">"ç‚¹å‡»åœ¨cardViewå¤–éƒ¨ï¼Œè§¦å‘å…³é—­"</span>);
                                stopDialog();
                                LogUtils.i(<span class="hljs-string">"baidu"</span>, <span class="hljs-string">"ç‚¹å‡»åœ¨cardViewå¤–éƒ¨ï¼Œè§¦å‘å…³é—­====="</span>);
                                AsrUiManger.getPhone().sendTimeoutDelayTime(<span class="hljs-number">1500</span>);

                                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                            } <span class="hljs-keyword">else</span> {
                                LogUtils.d(TAG, <span class="hljs-string">"ç‚¹å‡»åœ¨cardViewå†…éƒ¨ï¼Œä¸è§¦å‘å…³é—­"</span>);
                            }
                        } <span class="hljs-keyword">else</span> {
                            LogUtils.d(TAG, <span class="hljs-string">"æ»‘åŠ¨äº‹ä»¶ï¼Œä¸è§¦å‘å…³é—­"</span>);
                        }
                        <span class="hljs-keyword">break</span>;
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        });
    }
</code></pre>
<h6 data-id="heading-28">3).FLAG æ ‡å¿—å«ä¹‰</h6>
<p>FLAG_NOT_FOCUSABLE: çª—å£ä¸è·å–è¾“å…¥ç„¦ç‚¹ï¼Œä½†å¯æ¥æ”¶è§¦æ‘¸</p>
<p>FLAG_NOT_TOUCH_MODAL: çª—å£å¤–éƒ¨è§¦æ‘¸ä¼ é€’ç»™ä¸‹å±‚</p>
<p>FLAG_WATCH_OUTSIDE_TOUCH: å¯æ¥æ”¶çª—å£å¤–éƒ¨çš„è§¦æ‘¸äº‹ä»¶</p>
<p>FLAG_NOT_TOUCHABLE: å®Œå…¨ä¸æ¥æ”¶è§¦æ‘¸äº‹ä»¶</p>
<h2 data-id="heading-29">5.æœ€ç»ˆå»ºè®®</h2>
<p>é‡‡ç”¨æ–¹æ¡ˆä¸‰çš„ä¼˜åŒ–æ‚¬æµ®çª—å±æ€§ + æ™ºèƒ½æ— éšœç¢æœåŠ¡å¤„ç†</p>
<p>æ‚¬æµ®çª—è®¾ç½®ä¸ºåŠé€æ˜ã€ä¸è·å–ç„¦ç‚¹ã€å…è®¸è§¦æ‘¸ç©¿é€</p>
<p>åœ¨ç³»ç»Ÿå¼¹æ¡†å‡ºç°æ—¶ï¼Œè‡ªåŠ¨å°†æ‚¬æµ®çª—ç¼©å°/æ·¡åŒ–</p>
<p>æ— éšœç¢æœåŠ¡å®ç°æ™ºèƒ½æ ¹èŠ‚ç‚¹æŸ¥æ‰¾ç®—æ³•</p>
<p>è¿™æ ·æ—¢èƒ½ä¿è¯æ‚¬æµ®çª—çš„åŠŸèƒ½ï¼Œåˆèƒ½è®©ç³»ç»Ÿå¼¹æ¡†æ­£å¸¸è¢«æ— éšœç¢æœåŠ¡æ‰«æåˆ°ï¼Œå®ç°"å¯è§å³å¯è¯´"çš„å®Œæ•´åŠŸèƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸å†è´¹è„‘, æ‹†è§£ AI çš„æ•°å­¦å·¥å…·, è¯ é‡Šå‡½æ•°, å‘é‡, çŸ©é˜µå’Œç¥ç»ç½‘ç»œçš„å…³ç³»]]></title>    <link>https://juejin.cn/post/7593356633637863458</link>    <guid>https://juejin.cn/post/7593356633637863458</guid>    <pubDate>2026-01-11T23:51:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593356633637863458" data-draft-id="7593573617647222836" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸å†è´¹è„‘, æ‹†è§£ AI çš„æ•°å­¦å·¥å…·, è¯ é‡Šå‡½æ•°, å‘é‡, çŸ©é˜µå’Œç¥ç»ç½‘ç»œçš„å…³ç³»"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,LLM"/> <meta itemprop="datePublished" content="2026-01-11T23:51:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åˆ»å›"/> <meta itemprop="url" content="https://juejin.cn/user/572216818014568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸å†è´¹è„‘, æ‹†è§£ AI çš„æ•°å­¦å·¥å…·, è¯ é‡Šå‡½æ•°, å‘é‡, çŸ©é˜µå’Œç¥ç»ç½‘ç»œçš„å…³ç³»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/572216818014568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åˆ»å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T23:51:38.000Z" title="Sun Jan 11 2026 23:51:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½, æˆ‘æ˜¯å°åˆ»å›. ä»Šå¤©æˆ‘ä»¬æ¥èŠä¸€ä¸ªå¾ˆå¤š AI çˆ±å¥½è€…å®¹æ˜“å›°æƒ‘çš„é—®é¢˜, å‡½æ•°, å‘é‡, çŸ©é˜µä¸ç¥ç»ç½‘ç»œä¹‹é—´åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»?</p>
<p>ä¸å°‘æœ‹å‹æ¥è§¦ AI æ—¶, å¸¸ä¼šè¢«ä¸€è¿ä¸²æ•°å­¦æ¦‚å¿µç»•å¾—æ™•å¤´è½¬å‘. ä¸Šä¸€ç§’æ˜¯ "å‡½æ•°", ä¸‹ä¸€ç§’æ˜¯ "å‘é‡", è¿‡ä¸€ä¼šåˆå‡ºç° "çŸ©é˜µ", ç´§æ¥ç€åˆæ˜¯ "ç¥ç»ç½‘ç»œ". è‡ªå·±ä¼¼ä¹æ¯ä¸ªæ¦‚å¿µéƒ½æ‡‚ä¸€ç‚¹, ä½†æ”¾åœ¨ä¸€èµ·å°±æˆäº†ä¸€å›¢ä¹±éº».</p>
<p>ä»Šå¤©, æˆ‘ä»¬å°±ä»æœ€åŸºç¡€çš„æ¦‚å¿µå‡ºå‘, ä¸€æ­¥æ­¥æŠŠè¿™äº›çŸ¥è¯†ç‚¹ä¸²è”èµ·æ¥, æ¢³ç†å‡ºä¸€æ¡æ¸…æ™°çš„é€»è¾‘é“¾, å¸®ä½ çœ‹æ‡‚è¿™äº›æ•°å­¦æ¦‚å¿µçš„å…³ç³».</p>
<blockquote>
<p>é˜…è¯»æœ¬æ–‡å‰, æœ€å¥½å¯¹å‘é‡, çŸ©é˜µæœ‰ä¸€ä¸ªåŸºç¡€äº†è§£, é˜…è¯»ä½“éªŒä¼šæ›´å¥½:</p>
<p>ä¸ç†Ÿæ‚‰å‘é‡, å¯ä»¥çœ‹æˆ‘çš„æ–‡ç« : <a href="https://juejin.cn/post/7577795545441009698" target="_blank" title="https://juejin.cn/post/7577795545441009698">ä¸å†è´¹è„‘ï¼Œå†™ç»™çˆ±å¥½è€…çš„ AI å‘é‡ (Vector) å…¥é—¨è¯¾</a></p>
<p>ä¸ç†Ÿæ‚‰çŸ©é˜µ, å¯ä»¥çœ‹æˆ‘çš„æ–‡ç« : <a href="https://juejin.cn/post/7588109656042651694" target="_blank" title="https://juejin.cn/post/7588109656042651694">ä¸å†è´¹è„‘, å†™ç»™ AI çˆ±å¥½è€…çš„çŸ©é˜µ (Matrix) å…¥é—¨æŒ‡å—</a></p>
</blockquote>
<h2 data-id="heading-0">1 ä»å‡½æ•°è¯´èµ·, AI çš„æœ¬è´¨æ˜¯ç”¨å‡½æ•°åˆ»ç”»ä¸–ç•Œè§„å¾‹</h2>
<p>è¦ç†æ¸…è¿™äº›æ¦‚å¿µ, æˆ‘ä»¬é¦–å…ˆè¦å›åˆ°æœ€æ ¹æœ¬çš„æ•°å­¦å·¥å…·<strong>å‡½æ•°</strong>ä¸Š. å…¶å®äººå·¥æ™ºèƒ½çš„æ ¸å¿ƒç›®æ ‡å¾ˆç®€å•, <strong>ç”¨å‡½æ•°åˆ»ç”»ç°å®ä¸–ç•Œçš„è§„å¾‹.</strong></p>
<p>è¿™ä¸ªç›®æ ‡å¯ä»¥ç®€åŒ–ä¸º "è¾“å…¥-è¾“å‡º" çš„è½¬æ¢è¿‡ç¨‹, è¾“å…¥æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span>, è¾“å‡ºæ˜¯ç»è¿‡å‡½æ•°è®¡ç®—çš„ç»“æœ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>, ä¸­é—´çš„è½¬æ¢è¿‡ç¨‹å°±æ˜¯å‡½æ•°.</p>
<p>è¿™é‡Œçš„è¾“å…¥ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span> å¯ä»¥æ˜¯ç°å®ä¸–ç•Œçš„å„ç§æ•°æ®, æ¯”å¦‚è‹¹æœçš„é‡é‡, å›¾ç‰‡çš„åƒç´ å€¼ç­‰; è€Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span> åˆ™æ˜¯æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„ç»“æœ, æ¯”å¦‚è‹¹æœçš„æ€»ä»·, å›¾ç‰‡çš„åˆ†ç±»æ ‡ç­¾ (æ˜¯çŒ«è¿˜æ˜¯ç‹—) ç­‰. AI è¦åšçš„æ ¸å¿ƒå·¥ä½œ, å°±æ˜¯æ‰¾å‡ºåˆé€‚çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>, å®Œæˆä»è¾“å…¥åˆ°è¾“å‡ºçš„è½¬æ¢.</p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯, ç°ä»£ AI å¹¶æ²¡æœ‰æ‰¾åˆ°ç»å¯¹ç²¾å‡†çš„å‡½æ•°, æ‰¾åˆ°çš„åªæ˜¯è¿‘ä¼¼çš„å‡½æ•°, è¿™ç§ "è¿‘ä¼¼" æ¶‰åŠåˆ°æ¦‚ç‡è®ºçš„ç›¸å…³çŸ¥è¯†, æœ¬æ–‡ä¸ºäº†èšç„¦æ ¸å¿ƒé€»è¾‘é“¾, æš‚ä¸å±•å¼€è¿™éƒ¨åˆ†å†…å®¹.</p>
</blockquote>
<h2 data-id="heading-1">2 ä¸€å…ƒå‡½æ•°ä¸çº¿æ€§å…³ç³»</h2>
<p>è¦æ‰¾ AI éœ€è¦çš„å‡½æ•°, æˆ‘ä»¬å…ˆä»æœ€ç®€å•çš„è§„å¾‹å…¥æ‰‹. ç°å®ä¸­æœ€å®¹æ˜“ç†è§£çš„è§„å¾‹æ˜¯çº¿æ€§å…³ç³», å¯¹åº”çš„æ•°å­¦å·¥å…·æ˜¯çº¿æ€§å‡½æ•°, è¡¨è¾¾å¼ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x) = wx + b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span></span></span></span></span>. è¿™é‡Œçš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span></span></span></span></span> æ˜¯ä¸¤ä¸ªå…³é”®å‚æ•°.</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span> æ˜¯ "æƒé‡", å¯ä»¥ç†è§£ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span> å¯¹ç»“æœçš„å½±å“ç¨‹åº¦.</li>
<li>b æ˜¯ "åç½®", å¯ä»¥ç†è§£ä¸ºä¸ä¾èµ–è¾“å…¥çš„å›ºå®šçš„åŸºå‡†å€¼.</li>
</ul>
<p>ä¸¾ç”Ÿæ´»ä¾‹å­, å‡å¦‚ 1 æ–¤è‹¹æœå– 5 å…ƒé’±, é‚£ä¹ˆä¹° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span> æ–¤è‹¹æœçš„æ€»ä»· <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>, å°±å¯ä»¥ç”¨çº¿æ€§å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mn>5</mn><mi>x</mi><mo>+</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(x) = 5x + 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">5</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span> è¡¨ç¤º.</p>
<ul>
<li>è¿™é‡Œçš„æƒé‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">w=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">5</span></span></span></span></span>, ä»£è¡¨æ¯æ–¤è‹¹æœçš„ä»·æ ¼å¯¹æ€»ä»·çš„å½±å“;</li>
<li>åç½® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">b=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span>, å› ä¸ºä¹° 0 æ–¤è‹¹æœæ—¶, æ€»ä»·è‡ªç„¶ä¸º 0, æ²¡æœ‰é¢å¤–çš„å›ºå®šæˆæœ¬. (å¦‚æœä¾‹å­æ˜¯æ‰“è½¦, èµ·æ­¥è´¹ä¸º 10 å—, åç½®å°±æ˜¯ 10).</li>
</ul>
<h2 data-id="heading-2">3 å•è¾“å‡ºçš„å¤šå…ƒå‡½æ•°ä¸å‘é‡</h2>
<p>åˆšæ‰è‹¹æœçš„ä¾‹å­,æ˜¯ "å•è¾“å…¥ (å•å…ƒ), å•è¾“å‡º" çš„æƒ…å†µ. ä½†å®é™…ç”Ÿæ´»ä¸­, æƒ…å†µå…¶å®æ›´å¤æ‚, æˆ‘ä»¬æ›´å®¹æ˜“é‡è§çš„ "å¤šè¾“å…¥ (å¤šå…ƒ), å•è¾“å‡º" çš„æƒ…å†µ.</p>
<p>æ¯”å¦‚é€šè¿‡ "æˆ¿é—´æ•°é‡, æˆ¿é—´é¢ç§¯, æ¥¼å±‚é«˜åº¦" è¿™ä¸‰ä¸ªè¾“å…¥, é¢„æµ‹ "æˆ¿å±‹æ€»ä»·" è¿™ä¸€ä¸ªè¾“å‡º.</p>
<p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">x_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">x_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> åˆ†åˆ«ä»£è¡¨ä¸‰ä¸ªè¾“å…¥, å¯¹åº”çš„å‡½æ•°è¡¨è¾¾å¼ä¸º:</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x_1, x_2, x_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><msub><mi>w</mi><mn>3</mn></msub><msub><mi>x</mi><mn>3</mn></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">\quad = w_1x_1 + w_2x_2 + w_3x_3 + b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mspace" style="margin-right:1em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span></span></span></span></span></p>
<p>å…¶ä¸­ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">w_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">w_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">w_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> åˆ†åˆ«æ˜¯ä¸‰ä¸ªè¾“å…¥å¯¹åº”çš„æƒé‡ (æ¯”å¦‚ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">w_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> ä»£è¡¨æˆ¿é—´é¢ç§¯å¯¹æˆ¿ä»·çš„å½±å“åŠ›åº¦), <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span></span></span></span></span> æ˜¯åç½®é¡¹.</p>
<p>å¦‚æœæ¨å¹¿åˆ° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">n</span></span></span></span></span> ä¸ªè¾“å…¥çš„åœºæ™¯, å‡½æ•°è¡¨è¾¾å¼å†™ä¸º:</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x_1, x_2, ...x_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><msub><mi>w</mi><mi>n</mi></msub><msub><mi>x</mi><mi>n</mi></msub><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">\quad = w_1x_1 + w_2x_2 + ... + w_nx_n + b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mspace" style="margin-right:1em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span></span></span></span></span></p>
<p>æˆ‘ä»¬å‘ç°, å½“è¾“å…¥å˜é‡å¢å¤šå, è¡¨è¾¾å¼å°±å˜å¾—å†—é•¿äº†, è¿™æ—¶å€™éœ€è¦ä¸€ç§å·¥å…·æ¥ç®€åŒ–è¡¨è¾¾.</p>
<p><strong>å‘é‡</strong>å°±æ˜¯è¿™ä¸ªå…³é”®å·¥å…·:</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰è¾“å…¥  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[x_1, x_2, ..., x_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span> æ‰“åŒ…, ç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">x</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span></span></span></span></span> (å°å†™å­—æ¯åŠ ç²—) è¡¨ç¤º, å®ƒå°±æ˜¯è¾“å…¥å‘é‡;</li>
<li>å†æŠŠæ‰€æœ‰æƒé‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><msub><mi>w</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>w</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>w</mi><mi>n</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[w_1, w_2, ..., w_n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">]</span></span></span></span></span> æ‰“åŒ…, ç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">w</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span></span></span></span></span> (å°å†™å­—æ¯åŠ ç²—) è¡¨ç¤º, å®ƒå°±æ˜¯æƒé‡å‘é‡.</li>
</ul>
<p>é€šè¿‡ç‚¹ä¹˜è¿ç®— (æœ¬è´¨æ˜¯å¯¹åº”å…ƒç´ ç›¸ä¹˜åæ±‚å’Œ), åŸæœ¬å†—é•¿çš„è¡¨è¾¾å¼å°±è¢«ç®€åŒ–ä¸º:</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi mathvariant="bold-italic">x</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="bold-italic">w</mi><mo>â‹…</mo><mi mathvariant="bold-italic">x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(\boldsymbol{x}) = \boldsymbol{w} \cdot \boldsymbol{x} + b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4445em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.02778em;">w</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal">b</span></span></span></span></span></p>
<p>è¿™é‡Œå¯ä»¥æ˜ç¡®ä¸€ä¸ªå…³ç³», ä¸€å…ƒå‡½æ•°æ˜¯å¤šå…ƒå‡½æ•°çš„ç‰¹æ®Šæƒ…å†µ, å½“è¾“å…¥å‘é‡ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">x</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span></span></span></span></span> åªæœ‰ 1 ç»´æ—¶, å¤šå…ƒå‡½æ•°å°±é€€åŒ–æˆäº†ä¸€å…ƒå‡½æ•°.</p>
<p>è¿™é‡Œå‘é‡çš„æ ¸å¿ƒä½œç”¨, å°±æ˜¯æŠŠå¤šä¸ªå‚æ•°æ‰“åŒ…æ•´åˆ, è®©å¤æ‚çš„å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´, æ›´é€šç”¨.</p>
<h2 data-id="heading-3">4 å¤šè¾“å‡ºçš„å¤šå…ƒå‡½æ•°ä¸çŸ©é˜µ</h2>
<p>å‰é¢é¢„æµ‹ "æˆ¿å±‹æ€»ä»·" çš„ä¾‹å­æ˜¯ "å¤šè¾“å…¥, å•è¾“å‡º", ä½†ç°å®ç”Ÿæ´»ä¸­, æˆ‘ä»¬è¿˜å¸¸å¸¸ä¼šé‡åˆ° "å¤šè¾“å…¥, å¤šè¾“å‡º" çš„åœºæ™¯.</p>
<p>åŒæ ·ä»¥æˆ¿å±‹ä¸ºä¾‹å­, æˆ‘ä»¬éœ€è¦é€šè¿‡ "æˆ¿é—´æ•°é‡, æˆ¿é—´é¢ç§¯, æ¥¼å±‚é«˜åº¦" è¿™ä¸‰ä¸ªè¾“å…¥, é¢„æµ‹ "æˆ¿å±‹æ€»ä»·, æœˆç§Ÿé‡‘é¢" ä¸¤ä¸ªè¾“å‡º.</p>
<p>è¿™ç§æƒ…å†µä¸‹, æˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸ªè¾“å‡ºå•ç‹¬æ„å»ºä¸€ä¸ªå¤šå…ƒå‡½æ•°, å½¢æˆæ–¹ç¨‹ç»„:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>w</mi><mn>11</mn></msub><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>12</mn></msub><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><msub><mi>w</mi><mn>13</mn></msub><msub><mi>x</mi><mn>3</mn></msub><mo>+</mo><msub><mi>b</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>f</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>w</mi><mn>21</mn></msub><msub><mi>x</mi><mn>1</mn></msub><mo>+</mo><msub><mi>w</mi><mn>22</mn></msub><msub><mi>x</mi><mn>2</mn></msub><mo>+</mo><msub><mi>w</mi><mn>23</mn></msub><msub><mi>x</mi><mn>3</mn></msub><mo>+</mo><msub><mi>b</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}
f_1(x_1, x_2, x_3) = w_{11}x_1 + w_{12}x_2 + w_{13}x_3 + b_1 \\
f_2(x_1, x_2, x_3) = w_{21}x_1 + w_{22}x_2 + w_{23}x_3 + b_2
\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span/></span></span></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span></span></span></div>
<p>å…¶ä¸­:</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_1(x_1, x_2, x_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> æ˜¯é¢„æµ‹æˆ¿å±‹æ€»ä»·çš„å‡½æ•°, è€Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_2(x_1, x_2, x_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> æ˜¯é¢„æµ‹æœˆç§Ÿé‡‘é¢çš„å‡½æ•°;</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">w_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> è¡¨ç¤ºç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"/><span class="mord mathnormal">i</span></span></span></span></span> ä¸ªè¾“å‡ºå¯¹åº”çš„ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span></span> ä¸ªè¾“å…¥çš„æƒé‡ (æ¯”å¦‚ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>12</mn></msub></mrow><annotation encoding="application/x-tex">w_{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>æ˜¯æˆ¿é—´é¢ç§¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> å¯¹æˆ¿å±‹æ€»ä»· <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">f_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> çš„å½±å“æƒé‡);</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span> åˆ™æ˜¯å¯¹åº”ä¸¤ä¸ªè¾“å‡ºçš„åç½®é¡¹</li>
</ul>
<p>è§‚å¯Ÿè¿™ä¸ªæ–¹ç¨‹ç»„ä¼šå‘ç°, å¦‚æœæˆ‘ä»¬æŠŠæ‰€æœ‰çš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">w_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span></span></span></span> æå–å‡ºæ¥, ä¼šå½¢æˆä¸€ä¸ª 2 è¡Œ 3 åˆ—çš„ "æƒé‡é˜µåˆ—", å†æŠŠä¸¤ä¸ªè¾“å‡º, ä¸‰ä¸ªè¾“å…¥, ä¸¤ä¸ªæƒé‡æ‰“åŒ…æˆå‘é‡, æ–¹ç¨‹ç»„å°±å¼€å§‹ç”¨çŸ©é˜µä¹˜æ³•ç®€åŒ–è¡¨ç¤º:</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>f</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>f</mi><mn>2</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>=</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>w</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>w</mi><mn>12</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>w</mi><mn>13</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>w</mi><mn>21</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>w</mi><mn>22</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>w</mi><mn>23</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>â‹…</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>2</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>x</mi><mn>3</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><mo>+</mo><mrow><mo fence="true">[</mo><mtable rowspacing="0.16em" columnalign="center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>b</mi><mn>1</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>b</mi><mn>2</mn></msub></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{bmatrix}
f_1 \\
f_2
\end{bmatrix} = \begin{bmatrix}
w_{11} &amp; w_{12} &amp; w_{13} \\
w_{21} &amp; w_{22} &amp; w_{23} \\
\end{bmatrix} \cdot \begin{bmatrix}
x_1 \\
x_2 \\
x_3
\end{bmatrix} + \begin{bmatrix}
b_1 \\
b_2
\end{bmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">21</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">12</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">22</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span><span class="arraycolsep" style="width:0.5em;"/><span class="arraycolsep" style="width:0.5em;"/><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">13</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">23</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"/><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M403 1759 V84 H666 V0 H319 V1759 v0 v1759 h347 v-84&#10;H403z M403 1759 V0 H319 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"/><span style="width:0.667em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.667em" height="3.600em" viewbox="0 0 667 3600"><path d="M347 1759 V0 H0 V84 H263 V1759 v0 v1759 H0 v84 H347z&#10;M347 1759 V0 H263 V1759 v0 v1759 h84z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span/></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"/><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span/></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></div>
<p>æˆ‘ä»¬æŠŠè¿™ä¸ª "æƒé‡é˜µåˆ—" ç§°ä¸º<strong>çŸ©é˜µ</strong>ï¼Œç”¨å¤§å†™ç²—ä½“å­—æ¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">W</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{W}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6861em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15972em;">W</span></span></span></span></span></span></span> è¡¨ç¤º, åŒæ—¶ç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">f</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.11042em;">f</span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">x</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">b</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">b</span></span></span></span></span></span></span> è¡¨ç¤ºç«–ç€æ’çš„è¾“å‡ºå‘é‡, è¾“å…¥å‘é‡å’Œåç½®å‘é‡, æ–¹ç¨‹ç»„å¯ä»¥ç®€åŒ–ä¸º:</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">f</mi><mo>=</mo><mi mathvariant="bold-italic">W</mi><mo>â‹…</mo><mi mathvariant="bold-italic">x</mi><mo>+</mo><mi mathvariant="bold-italic">b</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{f} = \boldsymbol{W} \cdot \boldsymbol{x} + \boldsymbol{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.11042em;">f</span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6861em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15972em;">W</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">b</span></span></span></span></span></span></span></p>
<p>è¿™é‡Œè¦æ˜ç¡®æ ¸å¿ƒå…³ç³», <strong>çŸ©é˜µ</strong>æœ¬è´¨æ˜¯<strong>å‘é‡</strong>çš„ç»„åˆ, æŠŠå¤šä¸ªå‘é‡æ¨ªç€æˆ–è€…ç«–ç€æ’, å°±å½¢æˆäº†çŸ©é˜µ. åè¿‡æ¥, å‘é‡ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ 1 è¡Œ n åˆ—, æˆ–è€… n è¡Œ 1 åˆ—çš„çŸ©é˜µ.</p>
<p>çŸ©é˜µçš„æ ¸å¿ƒä½œç”¨, å°±æ˜¯æŠŠ "å¤šè¾“å…¥, å¤šè¾“å‡º" çš„å¤æ‚åœºæ™¯, ç”¨ä¸€å¥—æ ‡å‡†çš„è¿ç®—ç»Ÿä¸€æ•´åˆ. å¤§å¹…åº¦æå‡ AI å¤„ç†å¤æ‚ä»»åŠ¡çš„æ•ˆç‡.</p>
<h2 data-id="heading-4">5 éçº¿æ€§å…³ç³»ä¸æ¿€æ´»å‡½æ•°</h2>
<p>å‰é¢æˆ‘ä»¬è®¨è®ºçš„éƒ½æ˜¯çº¿æ€§å…³ç³», ä½†ç°å®ç”Ÿæ´»çš„è§„å¾‹å¤§å¤šæ•°éƒ½æ˜¯éçº¿æ€§çš„.</p>
<p>ä¸¾ä¸ªä¾‹å­, äººçš„å¹´é¾„å’Œæ”¶å…¥çš„å…³ç³». 20 å²ä¹‹å‰, æ”¶å…¥å¯èƒ½å¾ˆä½ç”šè‡³ä¸ºé›¶; 20~40 å²ä¹‹é—´, æ”¶å…¥ä¼šå¿«é€Ÿå¢é•¿; 40å²ä¹‹å, æ”¶å…¥å¯èƒ½è¶‹äºç¨³å®šç”šè‡³ç¼“æ…¢ä¸‹é™.</p>
<p>è¿™ç§ "ä¸æŒ‰æ¯”ä¾‹çº¿æ€§å˜åŒ–" çš„å…³ç³», å°±æ˜¯éçº¿æ€§å…³ç³». æ˜¾ç„¶ï¼Œçº¿æ€§å‡½æ•°æ— æ³•ç²¾å‡†åˆ»ç”»è¿™ç§å¤æ‚çš„è§„å¾‹.</p>
<p>è¿™æ—¶å€™, <strong>æ¿€æ´»å‡½æ•°</strong>å°±æˆäº†è§£å†³é—®é¢˜çš„å…³é”®, æˆ‘ä»¬åœ¨åŸæœ‰çº¿æ€§è®¡ç®—çš„åŸºç¡€ä¸Š, åŠ å…¥ä¸€ä¸ªæ¿€æ´»å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span></span></span></span></span>, å‡½æ•°è¡¨è¾¾å¼å˜ä¸º:</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">f</mi><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mi mathvariant="bold-italic">W</mi><mo>â‹…</mo><mi mathvariant="bold-italic">x</mi><mo>+</mo><mi mathvariant="bold-italic">b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\boldsymbol{f} = g(\boldsymbol{W} \cdot \boldsymbol{x} + \boldsymbol{b})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.11042em;">f</span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15972em;">W</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">b</span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>æ¿€æ´»å‡½æ•°çš„ä½œç”¨, å°±æ˜¯ç»™çº¿æ€§è®¡ç®—çš„ç»“æœ, åŠ ä¸Š "éçº¿æ€§" è½¬æ¢, è®©å‡½æ•°æ‹¥æœ‰åˆ»ç”»å¤æ‚è§„å¾‹çš„èƒ½åŠ›.</p>
<blockquote>
<p>å¸¸è§çš„æ¿€æ´»å‡½æ•°æœ‰:</p>
<ul>
<li>
<p>Sigmoid, å¯ä»¥å°†ç»“æœæ˜ å°„åˆ° 0 å’Œ 1 ä¹‹é—´, é€‚åˆæ¦‚ç‡é¢„æµ‹;</p>
</li>
<li>
<p>ReLU, åœ¨è¾“å…¥ä¸ºæ­£æ—¶ç›´æ¥è¾“å‡º, ä¸ºè´Ÿæ˜¯è¾“å‡º 0, æ˜¯å½“å‰ AI æœ€å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ä¹‹ä¸€.</p>
</li>
</ul>
</blockquote>
<p>è€Œ "çº¿æ€§è®¡ç®— + éçº¿æ€§æ¿€æ´»" çš„ç»„åˆ, å°±æ˜¯ç¥ç»ç½‘ç»œä¸­æœ€åŸºç¡€çš„<strong>ç¥ç»å…ƒ</strong>, å®ƒæ¨¡æ‹Ÿäº†ç”Ÿç‰©æ¥å—ä¿¡å·, å¤„ç†ä¿¡å·çš„è¿‡ç¨‹, å¦‚æœç”¨ç¥ç»ç½‘ç»œç»“æ„å›¾è¡¨ç¤º, å•ä¸ªç¥ç»å…ƒç»“æ„å¦‚ä¸‹:</p>
<ul>
<li>å•è¾“å…¥çš„ç¥ç»å…ƒ:</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/733c9380bc8e4801bf0f7eca32b1bfa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2w5Yi75ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768780387&amp;x-signature=IIVc7W2NXpY8Hwh5swnmACKRPKw%3D" alt="1-1.png" loading="lazy"/></p>
<ul>
<li>å¤šè¾“å…¥çš„ç¥ç»å…ƒ:</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5f3eef7bba941718dab9c12e7a156b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2w5Yi75ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768780387&amp;x-signature=Vie3bq8VpeFcJRJ2SuCc83TI2ZQ%3D" alt="n-1.png" loading="lazy"/></p>
<h2 data-id="heading-5">6 å¤šå±‚å †å ä¸ç¥ç»ç½‘ç»œ</h2>
<p>å¯èƒ½æœ‰æœ‹å‹ä¼šé—®, åŠ å…¥ä¸€æ¬¡éçº¿æ€§è½¬æ¢, å°±å¤Ÿæ‹Ÿåˆæ‰€æœ‰å¤æ‚è§„å¾‹äº†å—? ç­”æ¡ˆæ˜¯ "ä¸å¤Ÿ".</p>
<p>ç°å®ä¸–ç•Œä¸­çš„å¾ˆå¤šè§„å¾‹, æ¯”å¦‚å›¾åƒè¯†åˆ« (åˆ¤æ–­å›¾ç‰‡æ˜¯çŒ«è¿˜æ˜¯ç‹—), è‡ªç„¶è¯­è¨€ç†è§£ (ä»æ–‡å­—ä¸­è¯»æ‡‚æƒ…æ„Ÿ) è¿™ç±»å¤æ‚ä»»åŠ¡, å…¶å¤æ‚ç¨‹åº¦è¿œè¶…ä¸€æ¬¡éçº¿æ€§è½¬æ¢èƒ½åˆ»ç”»çš„èŒƒå›´.</p>
<p>é‚£è¯¥æ€ä¹ˆåŠå‘¢? æˆ‘ä»¬çš„åšæ³•æ˜¯: <strong>æŠŠ "çº¿æ€§è®¡ç®— + éçº¿æ€§æ¿€æ´»" çš„æ¨¡å—, ä¸€å±‚ä¸€å±‚åœ°å åŠ .</strong> è¿™å°±æ˜¯ "å¤šå±‚ç¥ç»ç½‘ç»œ" çš„æ ¸å¿ƒé€»è¾‘.</p>
<p>æ¯”å¦‚ä¸€ä¸ª 2 å±‚çš„ç¥ç»ç½‘ç»œ, å®ƒçš„å‡½æ•°è¡¨è¾¾å¼ä¸º:</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">f</mi><mo>=</mo><mi><msub><mi mathvariant="bold-italic">W</mi><mn mathvariant="bold">2</mn></msub></mi><mo>â‹…</mo><mi>g</mi><mo stretchy="false">(</mo><mi><msub><mi mathvariant="bold-italic">W</mi><mn mathvariant="bold">1</mn></msub></mi><mo>â‹…</mo><mi mathvariant="bold-italic">x</mi><mo>+</mo><mi><msub><mi mathvariant="bold-italic">b</mi><mn mathvariant="bold">1</mn></msub></mi><mo stretchy="false">)</mo><mo>+</mo><mi><msub><mi mathvariant="bold-italic">b</mi><mn mathvariant="bold">2</mn></msub></mi></mrow><annotation encoding="application/x-tex">\boldsymbol{f} = \boldsymbol{W_2} \cdot g(\boldsymbol{W_1} \cdot \boldsymbol{x} + \boldsymbol{b_1}) + \boldsymbol{b_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.11042em;">f</span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8361em;vertical-align:-0.15em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15972em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1597em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol" style="margin-right:0.15972em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1597em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord"><span class="mord"><span class="mord boldsymbol">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathbf mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></span></span></p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­:</p>
<ul>
<li>ç¬¬ä¸€å±‚ç¥ç»å…ƒå…ˆå¯¹åŸå§‹ç‰¹å¾ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold-italic">x</mi></mrow><annotation encoding="application/x-tex">\boldsymbol{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em;"/><span class="mord"><span class="mord"><span class="mord boldsymbol">x</span></span></span></span></span></span></span> åšåˆæ­¥çš„ç‰¹å¾æå– (æ¯”å¦‚åœ¨å›¾åƒæ£€æµ‹ä¸­, æå–è¾¹ç¼˜/çº¹ç†ç­‰ç®€å•ç‰¹å¾. ç»è¿‡æ¿€æ´»å‡½æ•°å¤„ç†å, æŠŠç»“æœä¼ é€’åˆ°ç¬¬äºŒå±‚;</li>
<li>ç¬¬äºŒå±‚ç¥ç»å…ƒ, å¯¹ç¬¬ä¸€å±‚çš„ç»“æœåšæ›´å¤æ‚çš„ç‰¹å¾æ•´åˆ (æ¯”å¦‚æŠŠè¾¹ç¼˜, çº¹ç†ç­‰ç‰¹å¾æ•´åˆä¸º "çœ¼ç›" "è€³æœµ" ç­‰æ›´é«˜çº§çš„ç‰¹å¾), æœ€ç»ˆè¾“å‡ºé¢„æµ‹ç»“æœ.</li>
</ul>
<p>è¿™ä¸ªè¿‡ç¨‹, å‡è®¾æœ€å¼€å§‹çš„è¾“å…¥æ˜¯ 6 ä¸ª, ç¬¬ä¸€å±‚è¾“å‡ºæ˜¯ 3 ä¸ª, ç¬¬äºŒå±‚è¾“å‡ºæ˜¯ 1 ä¸ª, åˆ™ç¥ç»ç½‘ç»œç»“æ„å›¾ä¸º:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e053ef777cf4ca68b59f52c4dc07a71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2w5Yi75ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768780387&amp;x-signature=SEzszpQQTSFD7%2FtvKjEBC9QUSOU%3D" alt="6-3-1.png" loading="lazy"/></p>
<p>å±‚æ•°å †å è¶Šå¤š, ç»“æ„è¶Šæ¥è¶Šå¤æ‚, è¿™å°±æ˜¯ç¥ç»ç½‘ç»œ:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b481372226447209ce747f50d1f9729~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2w5Yi75ZCb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768780387&amp;x-signature=Ez8m%2B0dcdyvTF%2BF8dp8mWR0VrDE%3D" alt="n-n-1.png" loading="lazy"/></p>
<p>å½“å‰ä¸»æµçš„å¤§æ¨¡å‹, å †å çš„å±‚æ•°æ›´æ˜¯è¾¾åˆ°äº†å‡ ç™¾ç”šè‡³ä¸Šåƒå±‚.</p>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>AI çš„æ ¸å¿ƒç›®çš„æ˜¯åˆ»ç”»ä¸–ç•Œçš„è§„å¾‹, è€Œå‡½æ•°, å‘é‡, çŸ©é˜µ, ç¥ç»ç½‘ç»œæ˜¯è¾¾æˆè¿™ä¸ªç›®çš„çš„æ•°å­¦å·¥å…·. å‘é‡è¢«ç”¨æ¥ç®€åŒ–å¤šè¾“å…¥çš„è¡¨è¾¾, çŸ©é˜µè¢«ç”¨æ¥æ•´åˆå¤šè¾“å‡ºçš„è¿ç®—, å åŠ  "çº¿æ€§è®¡ç®— + éçº¿æ€§æ¿€æ´»" åˆ™å½¢æˆäº†ç¥ç»ç½‘ç»œ.</p>
<p>æˆ‘æ˜¯å°åˆ»å›ï¼Œä¸€ä½æ¢ç´¢ AI çš„å‰ç«¯ç¨‹åºå‘˜ï¼Œå…³æ³¨æˆ‘ï¼Œè®© AI çŸ¥è¯†æœ‰æ¸©åº¦ï¼ŒæŠ€æœ¯è½åœ°æœ‰æ·±åº¦.</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025ï¼šè¢« AI æ¨ç€å¾€å‰èµ°çš„ä¸€å¹´]]></title>    <link>https://juejin.cn/post/7593358143692177471</link>    <guid>https://juejin.cn/post/7593358143692177471</guid>    <pubDate>2026-01-11T18:28:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593358143692177471" data-draft-id="7593550315253743622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025ï¼šè¢« AI æ¨ç€å¾€å‰èµ°çš„ä¸€å¹´"/> <meta itemprop="keywords" content="å¹´ç»ˆæ€»ç»“,Agent,å…¨æ ˆ"/> <meta itemprop="datePublished" content="2026-01-11T18:28:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="mCell"/> <meta itemprop="url" content="https://juejin.cn/user/2280829967146779"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025ï¼šè¢« AI æ¨ç€å¾€å‰èµ°çš„ä¸€å¹´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2280829967146779/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    mCell
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-11T18:28:09.000Z" title="Sun Jan 11 2026 18:28:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9912f3c8172445be87e897f86cc8d64e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbUNlbGw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768761054&amp;x-signature=N7z4q2S6VdqclooL4vuo4FycYXE%3D" alt="bizhi.jpg" loading="lazy"/></p>
<p>å¹´åˆçš„æ—¶å€™ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ªå¤§ä¸‰ä¸‹çš„å­¦ç”Ÿã€‚å¸¦ç€ä¸€ç‚¹â€œå…ˆå»è¯•è¯•â€çš„å¿ƒæ€ï¼Œæ¥åˆ°ç°åœ¨çš„å…¬å¸å®ä¹ ã€‚åæ¥é¡ºåˆ©è½¬æ­£ï¼Œèº«ä»½ä»å­¦ç”Ÿå˜æˆèŒåœºæ–°äººï¼Œç”Ÿæ´»çš„é‡å¿ƒä¹Ÿè·Ÿç€æ¢äº†è½´ï¼šæ—©ä¸ŠæŒ¤åœ°é“ï¼Œæ™šä¸Šå›å®¶ç»§ç»­å­¦ä¹ ï¼Œå‘¨æœ«å¶å°”ç¼“ä¸€å£æ°”ï¼Œå†å›åˆ°å±å¹•å‰ã€‚ç°åœ¨å›å¤´çœ‹ï¼Œ2025 å¯èƒ½æ˜¯æˆ‘æˆé•¿æœ€å¤šã€ä¹Ÿæ„Ÿå—æœ€æ·±çš„ä¸€å¹´â€”â€”ä¸æ˜¯å› ä¸ºæˆ‘æœ‰å¤šä¹ˆæ˜ç¡®çš„ç›®æ ‡ï¼Œè€Œæ˜¯å› ä¸ºè¿™ä¸€å¹´ï¼ŒAI çš„æµªæ½®å¤ªå¿«äº†ï¼Œå¿«åˆ°ä½ å¾ˆéš¾ç«™åœ¨å²¸è¾¹ã€‚</p>
<p>è¿™åƒæ˜¯ä¸€ä¸ªçªç„¶åŠ é€Ÿçš„æ—¶ä»£ï¼šAIã€Agentã€AI Coding äº•å–·å¼å‘å±•ã€‚å‡ ä¹æ¯ä¸ªæœˆéƒ½æœ‰å¤§æ¨¡å‹å‚å•†å®£å¸ƒâ€œæˆ‘ä»¬åˆç™»é¡¶äº†â€ï¼›å‡ ä¹æ¯éš”ä¸¤ä¸‰ä¸ªæœˆï¼Œå°±å†’å‡ºä¸€ä¸ªæ–°æ¦‚å¿µã€æ–°èŒƒå¼ã€æ–°çš„â€œæœªæ¥æ–¹å‘â€ã€‚ä½ ç”šè‡³æ¥ä¸åŠæŠŠä¸Šä¸€ä¸ªå·¥å…·ç”¨ç†Ÿï¼Œå°±å·²ç»æœ‰äººå‘Šè¯‰ä½ â€”â€”æ›´å¼ºçš„æ¥äº†ã€‚</p>
<p>è€Œæˆ‘ä¸€å¼€å§‹ï¼Œå…¶å®å¹¶æ²¡æœ‰ç«™åœ¨æµªæ½®ä¸­å¿ƒã€‚</p>
<h2 data-id="heading-0">ä»â€œå¤åˆ¶ç²˜è´´â€å¼€å§‹çš„ AI ç¼–ç¨‹</h2>
<p>å¹´åˆï¼Œæˆ‘è¿˜æ²¡æœ‰çœŸæ­£ç”¨ä¸Šä»»ä½• AI Coding å·¥å…·ã€‚é‚£æ—¶çš„æˆ‘ï¼Œä½¿ç”¨æ–¹å¼éå¸¸æœ´ç´ ï¼šæ‰“å¼€ç½‘é¡µç‰ˆæœ¬çš„ GPT æˆ– DeepSeekï¼ŒæŠŠä»£ç å¤åˆ¶ç²˜è´´è¿›å»ï¼Œåƒé—®ç­”ä¸€æ ·é—®å®ƒï¼šâ€œè¿™ä¸ª bug ä¸ºä»€ä¹ˆï¼Ÿâ€â€œè¿™ä¸ªæŠ¥é”™æ€ä¹ˆä¿®ï¼Ÿâ€
ä½ æŠŠé—®é¢˜æŠ›è¿‡å»ï¼Œå®ƒç»™ä½ å‡ ä¸ªæ–¹å‘ï¼Œä½ å†è‡ªå·±è¯•ã€‚</p>
<p>åæ¥æˆ‘å¼€å§‹å°è¯• vscode ai æ’ä»¶ã€‚æœ€æ—©ç”¨çš„æ˜¯ codegeexï¼Œå®ƒèƒ½é¢„æµ‹æˆ‘çš„ä¸‹ä¸€æ­¥ï¼Œæˆ–è€…è®©æˆ‘åœ¨ä¾§è¾¹æ ç›´æ¥ chatã€‚é‚£ç§æ„Ÿè§‰å¾ˆæ–°é²œï¼šide ä¸å†æ˜¯å†°å†·çš„æ–‡æœ¬æ¡†ï¼Œé‡Œé¢ä¼¼ä¹ä½äº†ä¸ªç•¥æ‡‚ä½ çš„ ai åŠ©æ‰‹ã€‚</p>
<p>å†ä¹‹åï¼ŒCursor çˆ†ç«ã€‚å¾ˆæœ‰æ„æ€çš„æ˜¯ï¼Œæˆ‘æœ€å¼€å§‹å¹¶æ²¡æœ‰ç”¨ Cursorï¼Œè€Œæ˜¯ç”¨äº† Windsurfã€‚æˆ‘ç¬¬ä¸€æ¬¡è®¤çœŸä½“éªŒåˆ°æ‰€è°“ â€œAI IDEâ€ çš„å½¢æ€ï¼šAI èƒ½ç†è§£ä½ çš„ä»£ç ä»“åº“ï¼Œèƒ½ä¸€æ¬¡æ”¹å¤šä¸ªæ–‡ä»¶ï¼Œç”šè‡³èƒ½å¸®ä½ è¿è¡Œä¸€äº›å‘½ä»¤ã€‚é‚£ç§å†²å‡»éå¸¸ç›´è§‚â€”â€”ä»¥å‰å†™ä»£ç åƒä½ ä¸€ä¸ªäººåœ¨æˆ¿é—´é‡Œæ¬ç –ï¼Œç°åœ¨æ—è¾¹å¤šäº†ä¸ªâ€œéšå«éšåˆ°çš„æ­æ¡£â€ï¼Œä½ ä¼šå¿ä¸ä½æƒ³ï¼šè¿™æ˜¯ä¸æ˜¯å°±æ˜¯æœªæ¥ï¼Ÿ</p>
<p>åæ¥æˆ‘ä¹Ÿä½“éªŒäº†å¾ˆå¤šï¼šCursorã€Traeã€Coderã€ç”šè‡³ Zedâ€¦â€¦åˆ°æœ€ååè€Œæœ‰ç‚¹â€œå·®ä¸å¤šâ€çš„æ„Ÿè§‰ï¼šå¤§å®¶éƒ½åœ¨åŒä¸€æ¡è·¯ä¸Šç‹‚å¥”ï¼ŒåŒºåˆ«æ›´å¤šåœ¨ç»†èŠ‚ã€ä½“éªŒã€ä»¥åŠä½ æœ‰æ²¡æœ‰ä¸ºå®ƒä»˜è´¹ã€‚</p>
<p>ç»„é‡Œåé¢å¼€å§‹ç”¨ Claude Codeã€‚æœ€åˆå› ä¸ºè´¦å·é—®é¢˜ï¼Œæˆ‘æœ€å…ˆç”¨çš„æ˜¯çš„ Gemini CLIã€Qwen CLIï¼›ä¹Ÿå°±æ˜¯é‚£ä¸ªé˜¶æ®µï¼Œæˆ‘åªæ˜¯â€œåœ¨ç”¨å·¥å…·â€ï¼Œä½†æˆ‘å¹¶ä¸ç†è§£å®ƒä»¬â€”â€”ä¸ç†è§£ AI å¦‚ä½•æ¨ç†ã€ä¸ç†è§£ Agent ä¸ºä»€ä¹ˆèƒ½è°ƒç”¨å·¥å…·ã€ä¸ç†è§£è¿™äº›çœ‹èµ·æ¥åƒé­”æ³•çš„ä¸œè¥¿èƒŒååˆ°åº•æ˜¯ä»€ä¹ˆã€‚</p>
<p>å½“æ—¶æˆ‘èƒ½æƒ³åˆ°çš„ AI é¡¹ç›®ï¼Œä¹Ÿä¸è¿‡æ˜¯åšä¸€ä¸ªç®€æ˜“ç‰ˆçš„ AI chat é¡µé¢ã€‚å®ƒèƒ½èŠä¸¤å¥ï¼Œçœ‹èµ·æ¥åƒâ€œæˆ‘ä¹Ÿåšäº† AIâ€ã€‚ä½†æˆ‘æ…¢æ…¢æ„è¯†åˆ°ï¼šå¦‚æœæƒ³æŠŠå®ƒå½“æˆä¸€ä¸ªçœŸæ­£çš„èƒ½åŠ›ã€è€Œä¸æ˜¯ä¸€ä¸ªå™±å¤´ï¼Œæˆ‘å¾—è¡¥è¯¾ã€‚</p>
<h2 data-id="heading-1">ä»â€œç”¨ Agentâ€åˆ°â€œè¿·ä¸Š Agentâ€</h2>
<p>äºæ˜¯æˆ‘å¼€å§‹å°è¯•å»äº†è§£å„ç§ Agent çš„èŒƒå¼ï¼šåœ¨agentå·¥å…·ä¸­æ¥å…¥å„ç§ mcp serverï¼ŒæŠŠå¸¸ç”¨çš„å·¥ä½œæµå°è£…ä¸º skillï¼Œç ”ç©¶é‚£äº›â€œè®©æ¨¡å‹ä¸åªä¼šè¯´ã€è¿˜ä¼šåšâ€çš„æ–¹å¼ã€‚</p>
<p>è¿™ä¹‹å‰ï¼Œæˆ‘åœ¨ AI ç›¸å…³é¢†åŸŸåšçš„äº‹æƒ…å…¶å®åªæœ‰ä¸¤ä»¶ï¼š<strong>ç”¨ AI</strong>ã€<strong>ç”¨ Agent</strong>ã€‚</p>
<p>ä½†æˆ‘å¹¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆå®ƒèƒ½åšåˆ°è¿™äº›â€”â€”æˆ‘åªæ˜¯åœ¨äº«å—ç»“æœã€‚</p>
<p>è¡¥å®Œä¸€äº›åŸºç¡€æ¦‚å¿µä¹‹åï¼Œæˆ‘å¼€å§‹ç€è¿·äº Agent çš„å¼€å‘ã€‚å¾ˆæœ‰æ„æ€ï¼Œæˆ‘å¹¶æ²¡æœ‰ä¸€ä¸Šæ¥å°±ç”¨ langchainã€ai-sdk è¿™ç§æˆç†Ÿæ¡†æ¶æˆ–è€…åº“ï¼ˆåæ¥ä¹Ÿå› æ­¤è¸©äº†ä¸å°‘å‘ï¼‰ã€‚æˆ‘æ›´åƒæ˜¯ç”¨æœ€åŸå§‹çš„æ–¹å¼å»â€œæ‰‹æ“â€ï¼šå°è£…å·¥å…·ã€å†™ä¸€ä¸ª loopï¼Œè®©æ¨¡å‹æŒ‰å›ºå®š XML æ ¼å¼è¾“å‡ºï¼Œé€šè¿‡è§£ææ¥å®ç°å¾ªç¯å’Œå·¥å…·è°ƒç”¨ã€‚</p>
<p>æˆ‘åšè¿‡ä¸€ä¸ªæµè§ˆå™¨ä¾§è¾¹æ  Agentï¼šé™¤äº†é—®ç­”ï¼Œå®ƒè¿˜èƒ½æœç´¢ï¼Œè¿˜èƒ½åšä¸€äº›æµè§ˆå™¨è‡ªåŠ¨åŒ–æ“ä½œã€‚ç°åœ¨å›å¤´çœ‹ï¼Œå…¶å®å°±æ˜¯â€œå·¥å…· + å¾ªç¯â€çš„ç»„åˆï¼Œä½†åœ¨å½“æ—¶ï¼Œé‚£ç§â€œæˆ‘è®© AI åœ¨æˆ‘çš„æµè§ˆå™¨é‡ŒåŠ¨èµ·æ¥äº†â€çš„å…´å¥‹æ„Ÿï¼Œéå¸¸çœŸå®ã€‚</p>
<p>å¯è¿™ä¸ªé¡¹ç›®æœ€åä¸äº†äº†ä¹‹ï¼Œä»“åº“è‡³ä»Šè¿˜æ˜¯ç§æœ‰ï¼Œä¹Ÿæ²¡æœ‰å…¬å¼€ã€‚</p>
<p>æˆ‘ä¹Ÿåœ¨å…¬å¸çš„ 1024 é»‘å®¢æ¾é‡Œå°è¯•äº†â€œAI æ“ä½œç”µè„‘â€è¿™ä¸ªè®®é¢˜ï¼šåšäº†ç±»ä¼¼ Manus çš„è™šæ‹Ÿæœºç¯å¢ƒï¼Œæ¥å…¥ Playwright çš„ MCP å»æ“ä½œæµè§ˆå™¨ï¼Œæœ€åæ‹¿äº†è®®é¢˜å† å†›ã€‚é‚£å‡ å¤©åƒä¸€åœºçŸ­æš‚åˆå¯†é›†çš„æ¢¦ï¼šä½ çœ‹åˆ°ä¸€ä¸ªæ–¹å‘ï¼Œä½ å†²è¿›å»éªŒè¯ï¼Œä½ åœ¨æçŸ­æ—¶é—´é‡ŒæŠŠä¸å¯èƒ½å˜æˆå‹‰å¼ºå¯è¡Œï¼Œç„¶ååœ¨æ¬¢å‘¼å£°é‡ŒçŸ­æš‚åœ°ç›¸ä¿¡â€œæœªæ¥çœŸçš„æ¥äº†â€ã€‚</p>
<p>æˆ‘è¿˜åšè¿‡ä¸€ä¸ª CLI çš„ Agentï¼šåŸºç¡€è·‘é€šäº†ï¼Œä½†åœ¨æ›´å¤§çš„æŒ‘æˆ˜å‰â€”â€”æƒé™ã€å¯è§‚æµ‹æ€§ã€ä¸Šä¸‹æ–‡ç®¡ç†ï¼Œç”šè‡³å•†ä¸šåŒ–â€”â€”æˆ‘æœ€åè¿˜æ˜¯æ”¾å¼ƒç»´æŠ¤äº†ã€‚æœ€è¿‘å‚ä¸å…¬å¸å¦ä¸€ä¸ª AI é¡¹ç›®ï¼Œæˆ‘æ‰é€æ¸æ¥è§¦åˆ° n8nã€Supabase è¿™äº›å·¥å…·ï¼Œæ‰æ„è¯†åˆ°ï¼šå¾ˆå¤šâ€œçœ‹èµ·æ¥åªå·®ä¸€ç‚¹â€çš„é¡¹ç›®ï¼ŒçœŸæ­£å·®çš„ä¸æ˜¯ä»£ç ï¼Œè€Œæ˜¯å·¥ç¨‹åŒ–ã€äº§å“åŒ–çš„é‚£ä¸€æ•´å¥—ä½“ç³»ã€‚</p>
<p>è¿™ä¸€å¹´ï¼Œæˆ‘ vibe coding äº†ä¸å°‘ã€‚æŠ€æœ¯ä¸Šæœ‰é•¿è¿›ï¼Œäº§å“å’Œæ¶æ„ä¸Šä¹Ÿæ”¶è·ä¸å°‘ã€‚ä½†æœ€æ·±çš„æ„Ÿå—æ˜¯ï¼š</p>
<p><strong>æˆ‘åƒæ˜¯è¢« AI æ¨ç€æˆé•¿çš„ã€‚</strong></p>
<h2 data-id="heading-2">è‡ªæˆ‘æ€€ç–‘ï¼Œå’Œâ€œè¢«æ›¿ä»£â€çš„ææƒ§</h2>
<p>åœ¨æœ€å¼€å§‹å¤§é‡ä½¿ç”¨ AI ç¼–ç¨‹çš„æ—¶å€™ï¼Œæˆ‘é™·å…¥è¿‡ä¸€æ®µå¾ˆæ·±çš„è‡ªæˆ‘æ€€ç–‘ã€‚é‚£ç§æ€€ç–‘ç”šè‡³ä¸æ˜¯â€œæˆ‘åšå¾—ä¸å¤Ÿå¥½â€ï¼Œè€Œæ˜¯æ›´å°–é”çš„é‚£å¥ï¼š</p>
<p><strong>å¦‚æœ AI èƒ½å†™ä»£ç ï¼Œé‚£æˆ‘è¿˜è¦å¹²ä»€ä¹ˆï¼Ÿ</strong></p>
<p>å°¤å…¶ä½œä¸ºæ–°äººï¼Œæœ‰æ—¶ AI å†™å‡ºæ¥çš„ä»£ç æˆ‘çœ‹ä¸æ‡‚ï¼Œæˆ‘éœ€è¦èŠ±æ—¶é—´å»å­¦ä¹ ã€å»æ‹†è§£ã€å»éªŒè¯ã€‚é‚£ç§æ„Ÿè§‰åƒæ˜¯ï¼šä½ æ˜æ˜æƒ³é€šè¿‡ AI æå‡æ•ˆç‡ï¼Œå´åè€Œè¢«å®ƒé€¼ç€é¢å¯¹è‡ªå·±çš„ç©ºç™½ã€‚ä½ ä¼šç„¦è™‘ã€ä¼šè¿·èŒ«ï¼Œä¼šæ‹…å¿ƒæœªæ¥æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®çš„ä½ç½®ç»™ä½ ã€‚</p>
<p>ä½†åæ¥æˆ‘æ…¢æ…¢è®¤è¯†åˆ° AI çš„å±€é™ï¼šå®ƒå¾ˆå¼ºï¼Œä½†å®ƒä¸æ›¿ä»£æˆ‘ä»¬ï¼Œä¹Ÿæ›¿ä»£ä¸äº†æˆ‘ä»¬ã€‚</p>
<p>å®ƒå¯ä»¥ç”Ÿæˆä»£ç ï¼Œå´ä¸æ›¿ä½ æ‰¿æ‹…åæœï¼›å®ƒå¯ä»¥ç»™å‡ºæ–¹æ¡ˆï¼Œå´ä¸æ›¿ä½ ç†è§£ä¸šåŠ¡ï¼›å®ƒå¯ä»¥å†™å‡ºâ€œèƒ½è·‘çš„ä¸œè¥¿â€ï¼Œä½†å¾ˆéš¾æ›¿ä½ åšå–èˆã€åšæƒè¡¡ã€åšé•¿æœŸç»´æŠ¤çš„å†³ç­–ã€‚</p>
<p>å®ƒæ›´åƒæ”¾å¤§å™¨ï¼šæ”¾å¤§ä½ çš„å¥½ä¹ æƒ¯ï¼Œä¹Ÿæ”¾å¤§ä½ çš„ä¸æ‰å®ã€‚ä½ è¶Šæ¸…æ™°ï¼Œå®ƒè¶Šå¥½ç”¨ï¼›ä½ è¶Šæ¨¡ç³Šï¼Œå®ƒè¶Šåƒå™ªå£°ã€‚</p>
<p>å½“æˆ‘çœŸæ­£æ¥å—è¿™ä¸€ç‚¹ä¹‹åï¼Œå¿ƒæ€æ‰æ¸æ¸ç¨³å®šä¸‹æ¥ã€‚AI ä¸æ˜¯ç»ˆç‚¹ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ–°çš„å·¥å…·æ ˆâ€”â€”è€Œå·¥å…·çš„å‡ºç°ï¼Œä»æ¥éƒ½æ˜¯ä¸ºäº†è®©äººå»åšæ›´é‡è¦çš„äº‹ã€‚</p>
<h2 data-id="heading-3">B ç«™å’Œ GitHub</h2>
<p>ä»Šå¹´æˆ‘ä¸Šå¾—æœ€å¤šçš„ç½‘ç«™ï¼Œå¤§æ¦‚æ˜¯ Bilibili å’Œ GitHubã€‚
B ç«™å¾ˆä¼ ç»Ÿï¼Œæ˜¯ç”Ÿæ´»ï¼›GitHub ä¸€åŠæ˜¯å·¥ä½œï¼Œä¸€åŠæ˜¯å…´è¶£ã€‚</p>
<p>GitHub çœŸçš„å¾ˆå¸å¼•äººã€‚ä½ ä¼šçœ‹åˆ°å„ç§å„æ ·çš„å¼€æºé¡¹ç›®ï¼šæœ‰äººæŠŠå¼€æºé­”æ”¹ç„¶åå•†ä¸šåŒ–ï¼Œæœ‰äººæŠŠç—›ç‚¹æ‰“ç£¨åˆ°æè‡´ï¼Œæœ‰äººå†™å‡ºä½ è¯»å®Œä¼šæ„Ÿå¹â€œåŸæ¥è¿˜èƒ½è¿™æ ·â€çš„ä»£ç ã€‚ä½ ä¼šçªç„¶æ„è¯†åˆ°ï¼šä¸–ç•Œå¾ˆå¤§ï¼Œè·¯å¾ˆå¤šï¼Œç­”æ¡ˆä¸æ­¢ä¸€ç§ã€‚</p>
<h2 data-id="heading-4">é—æ†¾ï¼šé”™è¿‡ä¸æ”¾å¼ƒ</h2>
<p>å½“ç„¶ï¼Œé—æ†¾ä¹Ÿå¾ˆæ¸…æ™°ã€‚</p>
<p>ç¬¬ä¸€ä¸ªé—æ†¾ï¼Œæ˜¯é”™è¿‡äº†é»„é‡‘å®ä¹ æœŸã€‚</p>
<p>æ˜¯çš„ï¼Œæˆ‘æ•´ä¸ª 2025 æ²¡æœ‰æŠ•é€’è¿‡ä»»ä½•ä¸€ä»½ç®€å†ã€‚ä»å¤§ä¸‰åˆ°å¤§å››ä¸Šï¼Œèº«è¾¹çš„æœ‹å‹å»äº†è…¾è®¯ã€å¾®ä¿¡è¿™äº›ä¼ä¸šï¼Œè€Œæˆ‘è¿˜åœ¨ä¸€ä¸ªä¸­å‚å¹²æ´»ã€‚å½“ç„¶è¿™ä¸æ˜¯è¯´ç°åœ¨çš„å…¬å¸ä¸å¥½ï¼Œè€Œæ˜¯é‚£ç§å¯¹æ¯”ä¼šè®©ä½ çªç„¶è¢«ç°å®æé†’ï¼Œè€Œæ˜¯æ˜æ˜æˆ‘å¯ä»¥ç”šè‡³æ›´å¥½ä½†æ˜¯æˆ‘æ²¡å»åšçš„åæ‚”ã€‚</p>
<p>ç¬¬äºŒä¸ªé—æ†¾ï¼Œæ˜¯æ²¡æœ‰ä¸€ä¸ªåšæŒä¸‹å»çš„ Agent é¡¹ç›®ã€‚</p>
<p>æˆ‘å°è¯•äº†ä¸‰ä¸ªï¼Œæœ€åéƒ½æ”¾å¼ƒäº†ã€‚ä¸€æ–¹é¢æ˜¯çŸ¥è¯†ä¸å¤Ÿï¼Œå¦ä¸€æ–¹é¢æ˜¯è¿™äº›éƒ½æ˜¯æˆ‘ä¸€ä¸ªäººåœ¨åšã€‚ä¸€ä¸ªäººåšé¡¹ç›®å¾ˆå®¹æ˜“ï¼šå…´å¥‹å¼€å§‹ï¼Œçƒ­æƒ…çˆ†å‘ï¼Œç„¶ååœ¨æŸä¸ªæ·±å‘å‰åœä½ã€‚ä½ ä¼šçªç„¶å‘ç°è‡ªå·±ç¼ºçš„ä¸æ˜¯çµæ„Ÿï¼Œè€Œæ˜¯ç³»ç»Ÿåœ°è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œä»¥åŠé•¿æœŸæŠ•å…¥çš„è€å¿ƒã€‚</p>
<p>é—æ†¾ä¸æ˜¯å¤±è´¥ï¼Œä½†é—æ†¾ä¼šç•™ä¸‹ä¸€ä¸ªé—®é¢˜ï¼šä½ è¦æ€ä¹ˆæŠŠå®ƒå˜æˆä¸‹ä¸€å¹´çš„èµ·ç‚¹ï¼Ÿ</p>
<h2 data-id="heading-5">AIï¼šæŒ‘æˆ˜ï¼Œä¹Ÿæ˜¯æœºé‡</h2>
<p>å…³äº AIï¼Œæˆ‘å·²ç»å†™äº†å¤ªå¤šã€‚ä½†å¦‚æœè¦ç”¨ä¸€å¥è¯æ€»ç»“ 2025 çš„ä½“æ„Ÿï¼Œæˆ‘ä¼šè¯´ï¼š</p>
<p><strong>æˆ‘å¾ˆå¹¸è¿ï¼Œåˆšå¥½åœ¨ AIã€Agentã€AI Coding å¿«é€Ÿå‘å±•çš„å¹´ä»½é‡Œèµ°è¿›èŒåœºã€‚</strong></p>
<p>æˆ‘æœ‰æœºä¼šç”¨åˆ°å¤§é‡å·¥å…·ï¼Œå‚ä¸çš„é¡¹ç›®ä¹Ÿå¤§å¤šä¸ AI ç›¸å…³ï¼Œè‡ªå·±ä¹Ÿç§¯æ”’äº†ä¸å°‘ Agent å¼€å‘çš„ç»éªŒä¸å‘ã€‚AI å¯¹æˆ‘æ¥è¯´ç¡®å®æ˜¯æŒ‘æˆ˜â€”â€”å®ƒè®©æˆ‘ç„¦è™‘ã€è®©æˆ‘æ€€ç–‘ã€è®©æˆ‘ç›´é¢ä¸è¶³ï¼›ä½†å®ƒåŒæ ·æ˜¯æœºé‡â€”â€”å®ƒè®©æˆ‘æ›´å¿«åœ°å­¦ä¹ ã€æ›´å¿«åœ°éªŒè¯æƒ³æ³•ã€æ›´å¿«åœ°çœ‹åˆ°â€œåŸæ¥å¯ä»¥è¿™æ ·â€ã€‚</p>
<p>ä¹Ÿè®¸æˆé•¿ä»æ¥ä¸æ˜¯â€œæˆ‘æƒ³å¥½äº†å†å‡ºå‘â€ï¼Œè€Œæ˜¯â€œæˆ‘å‡ºå‘äº†æ‰æƒ³æ˜ç™½â€ã€‚è€Œ 2025ï¼Œå°±æ˜¯æˆ‘åœ¨è¢«æµªæ¨ç€å¾€å‰èµ°çš„ä¸€å¹´ã€‚</p>
<p>æˆ‘è¿˜åœ¨è·¯ä¸Šã€‚</p>
<p>ä½†è‡³å°‘ç°åœ¨æˆ‘çŸ¥é“ï¼šæˆ‘ä¸æ˜¯è¦è·‘èµ¢ AIï¼Œæˆ‘æ˜¯è¦å­¦ä¼šé©¾é©­å®ƒï¼›ä¸æ˜¯è¦åšå¾—æ¯”æœºå™¨æ›´å¿«ï¼Œè€Œæ˜¯è¦åšæœºå™¨åšä¸äº†çš„é€‰æ‹©ã€åˆ¤æ–­ã€ç†è§£ä¸åšæŒã€‚</p>
<p>ï¼ˆå®Œï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>