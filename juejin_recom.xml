<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸‰ï¼‰ï¼šè®¤è¯†custom_promptså’Œskills]]></title>    <link>https://juejin.cn/post/7585005164726075430</link>    <guid>https://juejin.cn/post/7585005164726075430</guid>    <pubDate>2025-12-18T09:28:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585005164726075430" data-draft-id="7584831190730768410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸‰ï¼‰ï¼šè®¤è¯†custom_promptså’Œskills"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T09:28:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸‰ï¼‰ï¼šè®¤è¯†custom_promptså’Œskills
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:28:18.000Z" title="Thu Dec 18 2025 09:28:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¥ä¸Šç¯‡</p>
<p>è¿™ä¸¤é¡¹æ˜¯åœ¨ä½¿ç”¨AIè¾…åŠ©ç¼–ç¨‹æ—¶å¿…é¡»äº†è§£çš„ã€‚æ˜¯ä¸æ˜¯å†™æç¤ºè¯å†™çš„å¾ˆçƒ¦ï¼Œå¹¶ä¸”æ˜¯å¾ˆå¤šé‡å¤çš„åŠ³åŠ¨ï¼Ÿè®©custom_promptså’Œskillsæ¥å¸®å¿™ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€è‡ªå®šä¹‰Prompts</h2>
<p>å®ƒçš„ä½œç”¨å°±æ˜¯æŠŠé‡å¤çš„æç¤ºè¯å›ºå®šä¸‹æ¥ï¼Œä¸‹æ¬¡ç›´æ¥åŠ å…¥åˆ°Codexçš„ä¸Šä¸‹æ–‡ã€‚ä¸‹é¢æ˜¯å®ç°æ­¥éª¤åŠç”¨æ³•ã€‚</p>
<h3 data-id="heading-1">1ã€åˆ›å»ºpromptsæ–‡ä»¶å¤¹</h3>
<p>åœ¨<code>~/.codex</code>è¿›å…¥<code>.codex</code>æ–‡ä»¶å¤¹ï¼Œåˆ›å»º<code>prompts</code>æ–‡ä»¶å¤¹,åœ¨<code>prompts</code>ä¸­å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸ªMarkdownå°±å¯ä»¥å›ºå®šä¸‹æ¥ä¸€ä¸ªä¸ªæç¤ºè¯äº†ã€‚</p>
<h3 data-id="heading-2">2ã€ç¼–è¾‘æç¤ºè¯</h3>
<p>å‡å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>figma_ui.md</code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯å›ºå®šä¸‹æ¥é€šè¿‡Figma MCPè½¬æ¢AndroidåŸç”ŸXML UIçš„æç¤ºè¯ï¼Œé‚£åº”è¯¥å¦‚ä½•ç¼–è¾‘<code>figma_ui.md</code>æ–‡ä»¶å‘¢ï¼Ÿæ˜¯æœ‰å›ºå®šæ ¼å¼çš„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
description: ä½¿ç”¨Figma MCPç”ŸæˆAndroid åŸç”ŸXMLå¸ƒå±€ä»£ç 
argument-hint: [NOTE=]
---

è¿™é‡Œå°±å†™å›ºå®šä¸‹æ¥çš„æç¤ºè¯...
</code></pre>
<p>NOTEå°±æ˜¯å¯ä»¥æ’å…¥å†…å®¹çš„å ä½ç¬¦ï¼Œç”¨çš„ä¸å¤šï¼Œçœ‹ä¸ªäººå‘æŒ¥ã€‚</p>
<h3 data-id="heading-3">3ã€ä½¿ç”¨</h3>
<p>ç¼–è¾‘å¥½åä¿å­˜ï¼Œè¾“å…¥<code>/prompts</code>å°±å¯ä»¥çœ‹åˆ°äº†,å¦‚æœè¦è¿½åŠ NOTEå†…å®¹å°±æŒ‰Tab,ä¸è¿½åŠ å°±æŒ‰å›è½¦ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a775c2fbb10e43428f3f0bb522df603e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766654940&amp;x-signature=ybZvX3Fz7QU5lzH6n0go3p%2BV0tY%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ ·æç¤ºè¯å°±è¿½åŠ åˆ°äº†Codexçš„ä¸Šä¸‹æ–‡ã€‚</p>
<h2 data-id="heading-4">äºŒã€ç¼–è¾‘skills</h2>
<p>skillæ˜¯ä»€ä¹ˆï¼Ÿskillå…¶å®æ˜¯æ²‰æ·€ä¸‹æ¥çš„ä¸€é¡¹é¡¹æŠ€èƒ½ï¼Œæ¯”å¦‚é¡¹ç›®ä¸­åˆ›å»ºActivityï¼Œæ¯ä¸ªé¡¹ç›®ä¸­è‚¯å®šæœ‰ä¸€å¥—å›ºå®šä¸‹æ¥åˆ›å»ºActivityçš„ä»£ç ï¼Œç»§æ‰¿è°å®ç°ä»€ä¹ˆå‡½æ•°ï¼Œå…¨æ˜¯æ¨¡æ¿ä»£ç ï¼Œè€Œè¿™ç§å›ºå®šçš„æ¨¡æ¿ä»£ç å°±å¯ä»¥æŠ½å–ä¸ºä¸€ä¸ªä¸ªskillï¼Œæ³¨æ„skillæ˜¯èƒ½åŠ›ï¼Œä¸æ˜¯æ¨¡ç‰ˆã€‚</p>
<h3 data-id="heading-5">1ã€åˆ›å»ºskillsæ–‡ä»¶å¤¹</h3>
<p>åœ¨<code>~/.codex</code>è¿›å…¥<code>.codex</code>æ–‡ä»¶å¤¹ï¼Œåˆ›å»º<code>skills</code>æ–‡ä»¶å¤¹,åœ¨<code>skills</code>æ–‡ä»¶å¤¹ä¸­å¯ä»¥å­˜æ”¾ä¸€ä¸ªä¸ªskill.</p>
<h3 data-id="heading-6">2ã€ç¼–è¾‘skill</h3>
<p>è¿˜æ˜¯ä»¥Figma UIæ¥ä¸¾ä¾‹ï¼Œåœ¨<code>skills</code>æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼Œå­æ–‡ä»¶å¤¹åå­—æ˜¯<code>figma_ui_to_xml</code>ï¼Œç„¶ååœ¨<code>figma_ui_to_xml</code>å†…åˆ›å»ºä¸€ä¸ªMarkdownæ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯å›ºå®šçš„<code>SKILL.md</code>ã€‚</p>
<p>è¿™ä¸ªæ–‡ä»¶çš„å¤´éƒ¨ä¹Ÿæ˜¯å›ºå®šçš„<code>name</code>å’Œ<code>description</code>, ç”¨æ¥æš´éœ²skill èƒ½åŠ›çš„åå­—å’Œæè¿°ï¼Œæ³¨æ„è¿™äºŒä¸ªç‰¹åˆ«é‡è¦ï¼Œå› ä¸ºskillæ˜¯ä¸€èˆ¬ä¸ä¼šæ˜¾ç¤ºè°ƒç”¨çš„ï¼Œskillçš„èƒ½åŠ›èƒ½ä¸èƒ½è¢«è°ƒç”¨åˆ°ï¼Œå°±æ˜¯çœ‹ä¸<code>name</code>å’Œ<code>description</code>çš„åŒ¹é…åº¦ï¼ŒåŒ¹é…åº¦é«˜AIè®¤ä¸ºéœ€è¦ä½¿ç”¨è¿™ä¸ªskill, å°±ä¼šæŠŠè¿™ä¸ªskillçš„æç¤ºè¯åŠ è½½è¿›ä¸Šä¸‹æ–‡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: figma_ui_to_xml
description: Implement <span class="hljs-keyword">this</span> Figma designã€‚å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXMLã€‚
---

å†™æç¤º

</code></pre>
<h3 data-id="heading-7">3ã€ä½¿ç”¨</h3>
<p>éšå¼è°ƒç”¨ï¼šæ–¹ä¾¿å¿«æ·(æ¨è)ã€‚</p>
<p>æ¯”å¦‚åœ¨æ”¾å…¥Figma MCPé“¾æ¥æ—¶å‰é¢åŠ ä¸Š<code>Implement this Figma design</code>ã€‚é‚£ä¹ˆå› ä¸ºåŒ¹é…åˆ°äº†<code>figma_ui_to_xml</code>çš„<code>description</code>çš„è¯­å¥ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªskillã€‚</p>
<p>æ˜¾ç¤ºè°ƒç”¨ï¼šç›´æ¥ï¼Œæ˜ç¡®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69837b37aab64edca0f559f08a7e17bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766654940&amp;x-signature=2f9WvDhgMYG7lDByxBABGKB6yRg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1eb2746391a410c9867e0a9e9cbde6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766654940&amp;x-signature=RQRPpEXp7UbOb0pgfgmpVozQfBY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€è¯¥ç”¨è°ï¼Ÿ</h2>
<p>ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ¨èç”¨skill, é¡¹ç›®ä¸­çš„è§„èŒƒå†™æ³•ã€ä¸€å¥—ä¸€å¥—çš„æ¨¡ç‰ˆä»£ç ã€å„ç§èƒ½åŠ›éƒ½é€‚åˆå½’çº³ä¸ºskill,ç„¶åè®©AIè‡ªåŠ¨åˆ¤æ–­é€‚åˆç”¨å“ªä¸ªskillã€‚è€Œprompté€‚åˆä¸é¡¹ç›®æ²¡æœ‰å¼ºå…³è”çš„ï¼Œå¶å°”è¦é—®é‚£ä¹ˆä¸€æ¬¡çš„ï¼Œæ¯æ¬¡ç¼–è¾‘éƒ½å¾ˆçƒ¦çš„ï¼Œå°±å¯ä»¥å›ºå®šæˆè‡ªå®šä¹‰promptã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸–ç•Œæ¨¡å‹ï¼šAIçš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘]]></title>    <link>https://juejin.cn/post/7584909732613554211</link>    <guid>https://juejin.cn/post/7584909732613554211</guid>    <pubDate>2025-12-18T09:30:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584909732613554211" data-draft-id="7584909732613505059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸–ç•Œæ¨¡å‹ï¼šAIçš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-18T09:30:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºè§AGI"/> <meta itemprop="url" content="https://juejin.cn/user/4145611877132986"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸–ç•Œæ¨¡å‹ï¼šAIçš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4145611877132986/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºè§AGI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:30:49.000Z" title="Thu Dec 18 2025 09:30:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å¼•è¨€</strong></p>
<p>å½“OpenAIçš„Soraæ¨ªç©ºå‡ºä¸–ï¼Œç”¨ä¸€æ®µ60ç§’çš„é«˜æ¸…è§†é¢‘éœ‡æ’¼æ•´ä¸ªAIç•Œæ—¶ï¼Œå¾ˆå¤šäººè¿˜ä¸çŸ¥é“ï¼Œè¿™èƒŒåçœŸæ­£çš„æŠ€æœ¯é©å‘½å«åš"ä¸–ç•Œæ¨¡å‹"ï¼ˆWorld Modelï¼‰ã€‚</p>
<p>å¦‚æœè¯´å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è®©AIå­¦ä¼šäº†"è¯´è¯"ï¼Œé‚£ä¹ˆä¸–ç•Œæ¨¡å‹åˆ™æ˜¯è¦è®©AIå­¦ä¼š"ç†è§£ä¸–ç•Œ"â€”â€”ä¸ä»…ä»…æ˜¯æ–‡å­—å’Œè¯­è¨€ï¼Œè€Œæ˜¯çœŸæ­£ç†è§£ç‰©ä½“å¦‚ä½•è¿åŠ¨ã€å…‰å½±å¦‚ä½•å˜åŒ–ã€ç‰©ç†è§„å¾‹å¦‚ä½•ä½œç”¨ã€‚è¿™æ˜¯AIé€šå¾€é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰é“è·¯ä¸Šçš„å…³é”®ä¸€æ­¥ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯ä¸–ç•Œæ¨¡å‹ï¼Ÿ</strong></p>
<p><strong>ä»äººè„‘çš„"å¿ƒæ™ºæ¨¡å‹"è¯´èµ·</strong></p>
<p>ä»å†å²è„‰ç»œæ¥çœ‹ï¼Œä¸–ç•Œæ¨¡å‹çš„æ€æƒ³æœ€æ—©å¯è¿½æº¯åˆ° 20 ä¸–çºª 60 å¹´ä»£ Minsky æå‡ºçš„Â <strong>æ¡†æ¶ç†è®ºï¼ˆFrame System Theoryï¼‰</strong> ï¼Œä»¥åŠå¼ºåŒ–å­¦ä¹ ä¸­ç”¨äºå»ºæ¨¡ç¯å¢ƒåŠ¨æ€çš„æ–¹æ³•ã€‚è¿›å…¥æ·±åº¦å­¦ä¹ æ—¶ä»£ï¼Œ2018 å¹´ Ha ç­‰äººæå‡ºçš„å¾ªç¯ç¥ç»ç½‘ç»œéšå¼æ¨¡å‹ï¼Œé‡æ–°ç‚¹ç‡ƒäº†å­¦ç•Œå¯¹ä¸–ç•Œæ¨¡å‹çš„ç ”ç©¶çƒ­æƒ…ã€‚è¿‘å¹´æ¥ï¼Œéšç€Â <strong>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ã€è‡ªç›‘ç£å­¦ä¹ ï¼ˆJEPA æ¶æ„ï¼‰ã€è§†é¢‘ç”Ÿæˆä¸äº¤äº’å¼ä¸‰ç»´ç¯å¢ƒ</strong>Â ç­‰æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œä¸–ç•Œæ¨¡å‹é€æ¸æˆä¸ºäººå·¥æ™ºèƒ½è·¨æ¨¡æ€ã€è·¨ä»»åŠ¡çš„é‡è¦ç ”ç©¶æ–¹å‘ã€‚</p>
<p>åŒæ—¶ï¼Œä¸–ç•Œæ¨¡å‹çš„æ¦‚å¿µå¹¶éä»…æºè‡ªäººå·¥æ™ºèƒ½æœ¬èº«ï¼Œè€Œæ˜¯æ·±æ¤äºå¿ƒç†å­¦ä¸è®¤çŸ¥ç§‘å­¦ä¼ ç»Ÿã€‚æ—©åœ¨ 20 ä¸–çºª 40 å¹´ä»£ï¼ŒCraik å°±æå‡ºäººç±»ä¼šåœ¨å¤§è„‘ä¸­æ„å»ºä¸€ä¸ªå¤–éƒ¨ä¸–ç•Œçš„"å°å‹æ¨¡æ‹Ÿå™¨"ï¼Œé€šè¿‡è¿™ä¸ªæ¨¡æ‹Ÿå™¨æ¥é¢„æµ‹æœªæ¥ã€è¯„ä¼°ä¸åŒé€‰æ‹©çš„åæœï¼Œä»è€Œåšå‡ºæ›´å®‰å…¨ã€æ›´æ˜æ™ºçš„å†³ç­–ã€‚1980 å¹´ä»£ï¼ŒJohnson-Laird ç³»ç»ŸåŒ–æå‡ºâ€œå¿ƒç†æ¨¡å‹ç†è®ºï¼ˆMental Modelï¼‰â€ï¼Œæ­ç¤ºäº†äººç±»æ¨ç†ä¾èµ–äºå¯¹ä¸åŒå¯èƒ½ä¸–ç•Œçš„æ¨¡æ‹Ÿã€‚</p>
<p>æƒ³è±¡ä¸€ä¸ªæ£’çƒå‡»çƒæ‰‹ï¼šçƒé£å‘ä»–çš„ç¬é—´ï¼Œä»–çš„å¤§è„‘ä¼šå¿«é€Ÿæ¨¡æ‹Ÿçƒçš„è½¨è¿¹ã€é¢„åˆ¤è½ç‚¹ã€è®¡ç®—æŒ¥æ£’æ—¶æœºã€‚è¿™ä¸ªè¿‡ç¨‹ä¸æ˜¯é æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯åŸºäºå¯¹ç‰©ç†ä¸–ç•Œçš„ç†è§£â€”â€”é‡åŠ›ã€é€Ÿåº¦ã€è§’åº¦ç­‰ã€‚</p>
<p>AIä¸­çš„ä¸–ç•Œæ¨¡å‹æ­£æ˜¯å—æ­¤å¯å‘ï¼šæ„å»ºä¸€ä¸ªèƒ½å¤Ÿç†è§£å’Œæ¨¡æ‹ŸçœŸå®ä¸–ç•ŒåŠ¨æ€çš„å†…éƒ¨è¡¨å¾ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/382a5edf1b034608b02880c7c5063277~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=wgZ0HUasQ0MnvgJgHYq42BMk3Uk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾1 ä¸–ç•Œæ¨¡å‹çš„æœ¬è´¨ç›®æ ‡ï¼Œå³ç†è§£å¤–éƒ¨ä¸–ç•Œçš„åŠ¨æ€å¹¶é¢„æµ‹æœªæ¥æƒ…æ™¯ã€‚æ—¶é—´çº¿å±•ç¤ºäº†å…³é”®å®šä¹‰å’Œåº”ç”¨çš„å‘å±•ã€‚</p>
<p><strong>æŠ€æœ¯å®šä¹‰</strong></p>
<p><strong>ä¸–ç•Œæ¨¡å‹æ˜¯ä¸€ç§AIç³»ç»Ÿï¼Œèƒ½å¤Ÿï¼š</strong></p>
<ul>
<li>å­¦ä¹ ç¯å¢ƒçš„å†…éƒ¨è¡¨å¾ï¼ˆåŒ…æ‹¬ç‰©ç†è§„å¾‹ã€ç©ºé—´å…³ç³»ã€å› æœè”ç³»ï¼‰</li>
</ul>

<ul>
<li>é¢„æµ‹æœªæ¥çŠ¶æ€çš„æ¼”å˜</li>
</ul>

<ul>
<li>æ¨¡æ‹Ÿä¸åŒè¡ŒåŠ¨çš„åæœ</li>
</ul>

<ul>
<li>æ”¯æŒæ™ºèƒ½ä½“çš„è§„åˆ’å’Œå†³ç­–</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œä¸–ç•Œæ¨¡å‹å°±åƒAIå¤´è„‘ä¸­çš„ä¸€ä¸ª"æ¨¡æ‹Ÿå™¨"ï¼Œè®©å®ƒå¯ä»¥åœ¨æ‰§è¡ŒçœŸå®åŠ¨ä½œä¹‹å‰ï¼Œå…ˆåœ¨è„‘æµ·ä¸­"æ¼”ç»ƒ"ä¸€éã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„æŠ€æœ¯æ¼”è¿›</strong></p>
<p><strong>æ—©æœŸæ¢ç´¢ï¼ˆ1990-2018ï¼‰</strong></p>
<p>ä¸–ç•Œæ¨¡å‹çš„æŠ€æœ¯åŸºç¡€å¯è¿½æº¯åˆ°1990å¹´Richard Suttonæå‡ºçš„Dynaç®—æ³•ï¼Œè¿™æ˜¯åŸºäºæ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ ï¼ˆModel-Based RLï¼‰çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚</p>
<p>2018å¹´ï¼ŒJÃ¼rgen Schmidhuberå’ŒDavid Haåœ¨NeurIPSå‘è¡¨çš„è®ºæ–‡ã€ŠRecurrent World Models Facilitate Policy Evolutionã€‹çœŸæ­£è®©"ä¸–ç•Œæ¨¡å‹"è¿™ä¸ªæœ¯è¯­å¹¿ä¸ºäººçŸ¥ã€‚ä»–ä»¬çš„æ¶æ„åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<p><strong>1.Væ¨¡å—ï¼ˆVAEï¼‰ï¼š</strong> Â å°†é«˜ç»´è§‚æµ‹ï¼ˆå¦‚å›¾åƒï¼‰å‹ç¼©ä¸ºä½ç»´æ½œåœ¨è¡¨å¾</p>
<p><strong>2.Mæ¨¡å—ï¼ˆRNNï¼‰ï¼š</strong> Â é¢„æµ‹åºåˆ—ä¸­ä¸‹ä¸€æ—¶åˆ»çš„è¡¨å¾</p>
<p><strong>3.Cæ¨¡å—ï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong> Â åŸºäºè¡¨å¾åšå‡ºå†³ç­–</p>
<p>è¿™ä¸ªæ¶æ„çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>è®©AIåœ¨å‹ç¼©çš„æ½œåœ¨ç©ºé—´ä¸­è¿›è¡Œä¸–ç•Œå»ºæ¨¡ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨åŸå§‹åƒç´ ç©ºé—´ï¼Œå¤§å¹…é™ä½è®¡ç®—å¤æ‚åº¦ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d907dece838346029723551e25c0a58e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=OvFA1Ae2Ons9%2B8JwGHfATCDuBnc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾2 è®ºæ–‡ã€ŠRecurrent World Models Facilitate Policy Evolutionã€‹ä¸­æåˆ°çš„ä¸–ç•Œæ¨¡å‹æ¶æ„ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„æ ¸å¿ƒç‰¹ç‚¹</strong></p>
<p><strong>å†…åœ¨è¡¨å¾ä¸é¢„æµ‹ï¼š</strong> Â ä¸–ç•Œæ¨¡å‹å¯ä»¥å°†é«˜ç»´çš„åŸå§‹è§‚æµ‹æ•°æ®ï¼ˆå¦‚å›¾åƒã€å£°éŸ³ã€æ–‡æœ¬ç­‰ï¼‰ç¼–ç ä¸ºä½ç»´çš„æ½œåœ¨çŠ¶æ€ï¼Œå½¢æˆå¯¹ä¸–ç•Œçš„ç®€æ´è€Œæœ‰æ•ˆçš„è¡¨å¾ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ƒèƒ½å¤Ÿé¢„æµ‹åœ¨ç»™å®šå½“å‰çŠ¶æ€å’ŒåŠ¨ä½œçš„æƒ…å†µä¸‹ï¼Œä¸‹ä¸€ä¸ªæ—¶åˆ»çš„çŠ¶æ€åˆ†å¸ƒï¼Œä»è€Œå®ç°å¯¹æœªæ¥äº‹ä»¶çš„å‰ç»æ€§é¢„æµ‹ã€‚</p>
<p><strong>ç‰©ç†è®¤çŸ¥ä¸å› æœå…³ç³»ï¼š</strong> Â ä¸–ç•Œæ¨¡å‹å…·å¤‡åŸºæœ¬çš„ç‰©ç†è®¤çŸ¥èƒ½åŠ›ï¼Œèƒ½å¤Ÿç†è§£å’Œæ¨¡æ‹Ÿç‰©ç†ä¸–ç•Œçš„è§„å¾‹ï¼Œå¦‚é‡åŠ›ã€æ‘©æ“¦åŠ›ã€è¿åŠ¨è½¨è¿¹ç­‰ã€‚è¿™ä½¿å¾—å®ƒåœ¨å¤„ç†ä¸ç‰©ç†ä¸–ç•Œç›¸å…³çš„é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿæä¾›æ›´å‡†ç¡®ã€æ›´ç¬¦åˆç°å®çš„é¢„æµ‹å’Œå†³ç­–æ”¯æŒã€‚</p>
<p><strong>åäº‹å®æ¨ç†èƒ½åŠ›ï¼š</strong> Â ä¸–ç•Œæ¨¡å‹ä¸ä»…èƒ½å¤ŸåŸºäºå·²æœ‰çš„æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œè¿˜èƒ½å¤Ÿè¿›è¡Œå‡è®¾æ€§æ€è€ƒå³åäº‹å®æ¨ç†ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥å›ç­”â€œå¦‚æœç¯å¢ƒæ¡ä»¶æ”¹å˜ï¼Œç»“æœä¼šæ€æ ·â€è¿™ç±»é—®é¢˜ï¼Œä»è€Œä¸ºå¤æ‚é—®é¢˜çš„è§£å†³æä¾›æ›´å¤šçš„å¯èƒ½æ€§å’Œæ€è·¯ã€‚</p>
<p><strong>å› æœæ¨ç†</strong>å›ç­”ï¼š"å¦‚æœAå‘ç”Ÿäº†ï¼ŒBä¼šæ€æ ·ï¼Ÿ"</p>
<p><strong>åäº‹å®æ¨ç†</strong>å›ç­”ï¼š"å¦‚æœå½“æ—¶é€‰æ‹©äº†Aè€Œä¸æ˜¯Bï¼Œç»“æœä¼šæ€æ ·ï¼Ÿ"</p>
<p>è¿™ç§"æ¨¡æ‹Ÿæœªå‘ç”Ÿäº‹ä»¶"çš„èƒ½åŠ›ï¼Œæ˜¯äººç±»æ™ºèƒ½çš„é‡è¦ç‰¹å¾ï¼Œä¹Ÿæ˜¯å½“å‰AIæœ€æ¬ ç¼ºçš„ã€‚ä¸€æ—¦çªç ´ï¼Œå°†å¯¹AIå†³ç­–èƒ½åŠ›å¸¦æ¥é©å‘½æ€§æå‡ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„ç°ä»£å®ç°</strong></p>
<p><strong>æŠ€æœ¯æ¶æ„</strong></p>
<p>ç°ä»£ä¸–ç•Œæ¨¡å‹é€šå¸¸é‡‡ç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š</p>
<p><strong>çŠ¶æ€è¡¨å¾æ¨¡å‹ï¼š</strong> Â å…¶ä½œç”¨æ˜¯å°†åŸå§‹è§‚æµ‹æ•°æ®ï¼ˆå¦‚é«˜ç»´å›¾åƒã€ä¼ æ„Ÿå™¨æ•°æ®ç­‰ï¼‰å‹ç¼©ä¸ºä½ç»´çš„æ½œåœ¨çŠ¶æ€ï¼Œä¿ç•™å…³é”®ä¿¡æ¯ï¼Œè¿‡æ»¤å™ªå£°ã€‚å¸¸è§çš„å®ç°æ–¹æ³•æ˜¯ä½¿ç”¨å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ ï¼ˆVAEï¼‰ç­‰æŠ€æœ¯ã€‚è¿™ç§å‹ç¼©å’Œè¡¨ç¤ºæ–¹å¼ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°å¤„ç†å’Œç†è§£å¤æ‚çš„æ•°æ®è¾“å…¥ã€‚</p>
<p><strong>åŠ¨æ€æ¨¡å‹ï¼š</strong> Â è¿™æ˜¯ä¸–ç•Œæ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œç”¨äºé¢„æµ‹ç»™å®šå½“å‰æ½œåœ¨çŠ¶æ€å’ŒåŠ¨ä½œæ—¶ï¼Œç¯å¢ƒçš„ä¸‹ä¸€ä¸ªçŠ¶æ€åˆ†å¸ƒã€‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ã€é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼ˆLSTMï¼‰æˆ–éšæœºçŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆSSMï¼‰ç­‰é€šå¸¸è¢«ç”¨æ¥å­¦ä¹ çŠ¶æ€è½¬ç§»è§„å¾‹ï¼Œä»è€Œæ„å»ºå¯¹ä¸–ç•Œç‰©ç†è§„å¾‹çš„éšå¼ç†è§£ã€‚åŠ¨æ€æ¨¡å‹ä¸ºæ™ºèƒ½ä½“æä¾›äº†ä¸€ä¸ªè™šæ‹Ÿçš„â€œæ²™ç›˜â€ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å…¶ä¸­è¿›è¡Œæ¨¡æ‹Ÿå’Œè¯•éªŒï¼Œè€Œæ— éœ€åœ¨çœŸå®ç¯å¢ƒä¸­è¿›è¡Œæ˜‚è´µçš„è¯•é”™ã€‚</p>
<p><strong>å†³ç­–æ¨¡å‹ï¼š</strong> Â åŸºäºçŠ¶æ€é¢„æµ‹ï¼Œå†³ç­–æ¨¡å‹ä½¿ç”¨æ¨¡å‹é¢„æµ‹æ§åˆ¶ï¼ˆMPCï¼‰æˆ–æ·±åº¦å¼ºåŒ–å­¦ä¹ ï¼ˆå¦‚ Actor-Critic ç½‘ç»œï¼‰ç­‰æ–¹æ³•ï¼Œè§„åˆ’æœ€ä¼˜çš„åŠ¨ä½œåºåˆ—ä»¥è¾¾æˆç›®æ ‡ï¼Œå®ƒæ ¹æ®é¢„æµ‹çš„æœªæ¥çŠ¶æ€æ¥è¯„ä¼°ä¸åŒåŠ¨ä½œçš„ä»·å€¼æˆ–å¥–åŠ±ä¿¡å·ï¼Œä»è€ŒæŒ‡å¯¼æ™ºèƒ½ä½“åœ¨ç¯å¢ƒä¸­é‡‡å–åˆç†çš„è¡ŒåŠ¨ã€‚</p>
<p><strong>Soraï¼šä¸–ç•Œæ¨¡å‹çš„å·¥ä¸šçº§å®ç°</strong></p>
<p>OpenAIçš„Soraæ˜¯ä¸–ç•Œæ¨¡å‹åœ¨è§†é¢‘ç”Ÿæˆé¢†åŸŸçš„çªç ´æ€§åº”ç”¨ã€‚è¿™ä¸ªæ¨¡å‹èƒ½ç”Ÿæˆé•¿è¾¾60ç§’çš„è¿è´¯è§†é¢‘ï¼Œæ”¯æŒä»»æ„åˆ†è¾¨ç‡å’Œå®½é«˜æ¯”ï¼Œæ›´ä»¤äººæƒŠå¹çš„æ˜¯å®ƒèƒ½å±•ç°å‡ºä¸‰ç»´ç©ºé—´çš„ä¸€è‡´æ€§å’Œç‰©ä½“çš„æŒä¹…æ€§ï¼Œå³ä½¿ç‰©ä½“æš‚æ—¶è¢«é®æŒ¡æˆ–ç¦»å¼€ç”»é¢ï¼Œå®ƒä¾ç„¶èƒ½åœ¨æ°å½“çš„æ—¶å€™ä»¥æ­£ç¡®çš„çŠ¶æ€é‡æ–°å‡ºç°ã€‚Soraçš„æŠ€æœ¯åˆ›æ–°ä¸»è¦ä½“ç°åœ¨å››ä¸ªæ–¹é¢ï¼šé¦–å…ˆæ˜¯ç»Ÿä¸€çš„è§†è§‰è¡¨å¾ï¼Œå®ƒå°†ä¸åŒé•¿åº¦ã€åˆ†è¾¨ç‡çš„è§†é¢‘éƒ½ç»Ÿä¸€è½¬æ¢ä¸ºPatchåºåˆ—ï¼Œå°±åƒLLMå¤„ç†æ–‡æœ¬Tokenä¸€æ ·ä¼˜é›…ï¼›å…¶æ¬¡æ˜¯åŸç”Ÿåˆ†è¾¨ç‡è®­ç»ƒï¼Œä¸è£å‰ªä¸è°ƒæ•´ï¼Œå®Œæ•´ä¿ç•™æ„å›¾ä¿¡æ¯ï¼›ç¬¬ä¸‰æ˜¯é‡‡ç”¨ Diffusion Transformerï¼ˆDiTï¼‰ æ¶æ„ï¼Œå·§å¦™ç»“åˆäº†æ‰©æ•£æ¨¡å‹çš„ç”Ÿæˆèƒ½åŠ›å’Œ Transformer çš„åºåˆ—å»ºæ¨¡ä¼˜åŠ¿ï¼›æœ€åä¹Ÿæ˜¯æœ€ç¥å¥‡çš„ä¸€ç‚¹ï¼Œç‰©ç†ç†è§£çš„æ¶Œç°ï¼Œå°½ç®¡æ²¡æœ‰äººæ˜ç¡®å‘Šè¯‰å®ƒä¸‰ç»´ç©ºé—´çš„è§„åˆ™ï¼Œå®ƒå´èƒ½è‡ªå·±"æ‚Ÿå‡º"ç©ºé—´è¿è´¯æ€§ã€‚å½“ç„¶ï¼ŒSoraä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œå¤æ‚çš„ç‰©ç†äº¤äº’ä»ä¼šå‡ºé”™ï¼ˆæ¯”å¦‚ç»ç’ƒç ´ç¢çš„æ–¹å¼ä¸å¤ŸçœŸå®ï¼‰ï¼Œå› æœå…³ç³»ç†è§£ä¹Ÿä¸å®Œå–„ï¼ˆæ¯”å¦‚å’¬äº†æ±‰å ¡å´æ²¡æœ‰ç•™ä¸‹å’¬ç—•ï¼‰ï¼Œè¿˜æœ‰å·¦å³æ··æ·†ç­‰ç©ºé—´æ¨ç†é—®é¢˜ã€‚ä½†æ­£å¦‚Soraçš„æŠ€æœ¯æŠ¥å‘Šæ‰€è¨€ï¼šè§†é¢‘ç”Ÿæˆæ¨¡å‹æ­£åœ¨æˆä¸ºç‰©ç†ä¸–ç•Œçš„é€šç”¨æ¨¡æ‹Ÿå™¨ï¼Œè¿™æ˜¯é€šå¾€AGIçš„å…³é”®è·¯å¾„ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„åº”ç”¨å‰æ™¯</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d985300b8a444dce83a0e067972dfca8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=neY6tEfeskMS%2BsYEG9m3Pt%2FwGe8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾3 æ·±åº¦å­¦ä¹ æ—¶ä»£ä¸–ç•Œæ¨¡å‹ç›¸å…³æŠ€æœ¯ã€åº”ç”¨çš„å‘å±•è·¯çº¿å›¾</p>
<p><strong>æœºå™¨äººæŠ€æœ¯</strong></p>
<p>ä¸–ç•Œæ¨¡å‹æ­£åœ¨æˆä¸ºç‰©ç†AIçš„æ ¸å¿ƒåŸºç¡€ã€‚å…·å¤‡ä¸–ç•Œæ¨¡å‹çš„æœºå™¨äººèƒ½åœ¨"è„‘æµ·"ä¸­æ„å»ºå‘¨å›´ç¯å¢ƒçš„3Dæ¨¡å‹ï¼Œç†è§£ç‰©ä½“çš„ä½ç½®å’Œäº¤äº’æ–¹å¼ã€‚æŠ“å–æ¯å­æ—¶ï¼Œå®ƒèƒ½é¢„æ¼”æ•´ä¸ªåŠ¨ä½œåºåˆ—â€”â€”ä¼¸æ‰‹è½¨è¿¹ã€åŠ›åº¦æ§åˆ¶ã€ç¢°æ’é£é™©ï¼Œä»è€Œè§„åˆ’æœ€ä¼˜è·¯å¾„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæœºå™¨äººå¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å­¦ä¹ æŠ€èƒ½ï¼Œå¤§å¹…å‡å°‘çœŸå®è¯•é”™çš„æˆæœ¬å’Œé£é™©ã€‚NVIDIAçš„Cosmoså¹³å°æ­£æ˜¯ä¸ºæ­¤æ‰“é€ ï¼Œæä¾›å®Œæ•´çš„æ•°æ®ç®¡é“å’Œè®­ç»ƒå·¥å…·ï¼Œè®©æœºå™¨äººæ›´å¿«ä»æ¨¡æ‹Ÿèµ°å‘ç°å®ã€‚</p>
<p><strong>è‡ªåŠ¨é©¾é©¶</strong></p>
<p>åœ¨è‡ªåŠ¨é©¾é©¶é¢†åŸŸï¼Œä¸–ç•Œæ¨¡å‹çš„ä»·å€¼ä¸å¯ä¼°é‡ã€‚è£…å¤‡ä¸–ç•Œæ¨¡å‹çš„è‡ªåŠ¨é©¾é©¶æ±½è½¦ä¸ä»…èƒ½æ„ŸçŸ¥å½“å‰è·¯å†µï¼Œæ›´èƒ½é¢„åˆ¤æœªæ¥åœºæ™¯æ¼”å˜â€”â€”å˜é“çš„è½¦ä¼šå¦åŠ é€Ÿï¼Ÿè¡Œäººæ˜¯å¦è¦æ¨ªç©¿ï¼Ÿè¿™ç§é¢„æµ‹æºäºå¯¹äº¤é€šè§„å¾‹å’Œäººç±»è¡Œä¸ºçš„ç†è§£ã€‚ä¸–ç•Œæ¨¡å‹è¿˜èƒ½è§£å†³é•¿å°¾é—®é¢˜ï¼šé€šè¿‡ç”Ÿæˆå„ç§æç«¯å¤©æ°”ã€å…‰ç…§æ¡ä»¶çš„è®­ç»ƒæ•°æ®ï¼Œè®©ç³»ç»Ÿåœ¨æš´é›¨ã€å¤§é›¾æ—¶ä¾ç„¶ç¨³å¥ã€‚é‚£äº›éš¾ä»¥å¤ç°çš„è¾¹ç¼˜æ¡ˆä¾‹â€”â€”çˆ†èƒã€æ•…éšœã€æç«¯äº¤é€šçŠ¶å†µï¼Œéƒ½å¯åœ¨æ¨¡æ‹Ÿä¸­åå¤è®­ç»ƒï¼Œæ‰“é€ æ›´å®‰å…¨çš„ç³»ç»Ÿã€‚</p>
<p><strong>æ¸¸æˆä¸è™šæ‹Ÿä¸–ç•Œ</strong></p>
<p>æ¸¸æˆäº§ä¸šæˆ–è®¸æœ€å…ˆæ„Ÿå—åˆ°ä¸–ç•Œæ¨¡å‹çš„é©å‘½ã€‚Google DeepMindçš„Genie 3å±•ç¤ºäº†æƒŠäººèƒ½åŠ›ï¼šåªéœ€æ–‡å­—æˆ–å›¾ç‰‡ï¼Œå°±èƒ½ç”Ÿæˆå®Œæ•´çš„å¯äº¤äº’3Dæ¸¸æˆä¸–ç•Œã€‚ç©å®¶å¯è‡ªç”±æ¢ç´¢ï¼Œç¯å¢ƒå®æ—¶å“åº”è¡Œä¸ºã€‚æ›´ç¥å¥‡çš„æ˜¯ï¼Œå®ƒèƒ½ä¿æŒæ•°åˆ†é’Ÿçš„è§†è§‰è®°å¿†ï¼Œç¡®ä¿åœºæ™¯ä¸€è‡´æ€§ã€‚è¿™ä¸ªä¸–ç•ŒçœŸæ­£éµå¾ªç‰©ç†è§„å¾‹â€”â€”ç‰©ä½“å—é‡åŠ›æ‰è½ï¼Œç¢°æ’äº§ç”ŸçœŸå®åé¦ˆã€‚è¿™æ„å‘³ç€å¼€å‘è€…å¯ç”¨è‡ªç„¶è¯­è¨€æè¿°åˆ›æ„ï¼Œè®©AIè‡ªåŠ¨ç”Ÿæˆå¯ç©åŸå‹ï¼Œæå¤§é™ä½å¼€å‘é—¨æ§›ï¼Œä¸ºç¨‹åºç”Ÿæˆå†…å®¹å¼€è¾Ÿæ–°å¯èƒ½ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„å…³é”®æŠ€æœ¯æŒ‘æˆ˜</strong></p>
<p><strong>æ•°æ®è´¨é‡ä¸å¤šæ ·æ€§</strong></p>
<p>æ„å»ºå¯é çš„ä¸–ç•Œæ¨¡å‹ï¼Œé¦–å…ˆè¦è§£å†³æ•°æ®é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦æµ·é‡é«˜è´¨é‡æ•°æ®ï¼Œå¹¶è¿›è¡Œç»†è‡´çš„æ¸…æ´—ã€å»é‡å’Œæ ‡æ³¨ã€‚æ›´å…·æŒ‘æˆ˜æ€§çš„æ˜¯å¤šæ¨¡æ€å¯¹é½â€”â€”å¦‚ä½•è®©è§†è§‰ã€è¯­è¨€å’Œç‰©ç†ä¿¡æ¯åœ¨åŒä¸€è¡¨å¾ç©ºé—´ä¸­å’Œè°å…±å­˜ã€‚æ­¤å¤–ï¼ŒçœŸå®ä¸–ç•Œå……æ»¡é•¿å°¾åœºæ™¯ï¼Œé‚£äº›ç½•è§ä½†å…³é”®çš„æƒ…å†µåœ¨è®­ç»ƒæ•°æ®ä¸­ä¸¥é‡ä¸è¶³ï¼Œå¦‚ä½•è®©æ¨¡å‹åº”å¯¹è¿™äº›è¾¹ç¼˜æ¡ˆä¾‹ï¼Œæ˜¯å¿…é¡»æ”»å…‹çš„éš¾é¢˜ã€‚</p>
<p><strong>ç‰©ç†ä¸€è‡´æ€§</strong></p>
<p>ä¸–ç•Œæ¨¡å‹éœ€è¦çœŸæ­£"ç†è§£"ç‰©ç†è§„å¾‹ï¼Œè€Œéä»…ä»…è®°ä½è®­ç»ƒæ•°æ®çš„æ¨¡å¼ã€‚ç®€å•çš„ç»Ÿè®¡å­¦ä¹ å¯èƒ½è®©æ¨¡å‹è®°ä½"ç¯®çƒä¼šå¼¹èµ·"ï¼Œä½†æœªå¿…ç†è§£é‡åŠ›å’ŒåŠ¨é‡å®ˆæ’çš„æœ¬è´¨ã€‚ç ”ç©¶è€…ä»¬æ­£åœ¨æ¢ç´¢å°†æ˜¾å¼ç‰©ç†çº¦æŸå¼•å…¥è®­ç»ƒï¼ŒåŒæ—¶é€šè¿‡å› æœå­¦ä¹ è®©æ¨¡å‹åŒºåˆ†å› æœå…³ç³»å’Œå¶ç„¶ç›¸å…³æ€§ã€‚è¿™è¿˜æ¶‰åŠå¯è§£é‡Šæ€§é—®é¢˜ï¼šæ¨¡å‹å†…éƒ¨çš„ç‰©ç†è¡¨å¾æ˜¯å¦çœŸçš„åæ˜ å®¢è§‚è§„å¾‹ï¼Œè¿˜æ˜¯åªæ˜¯å¯¹æ•°æ®çš„è¿‡æ‹Ÿåˆï¼Ÿ</p>
<p><strong>è®¡ç®—æ•ˆç‡</strong></p>
<p>è®¡ç®—èµ„æºçš„å·¨å¤§éœ€æ±‚æ˜¯ç°å®ç“¶é¢ˆã€‚Soraçš„è®­ç»ƒç®—åŠ›çº¦ä¸ºGPT-3çš„8.2å€ï¼Œç”Ÿæˆ60ç§’è§†é¢‘çš„æ¨ç†è®¡ç®—åŒæ ·æƒŠäººã€‚è¿™ç§æŒ‡æ•°çº§å¢é•¿ä¸ä»…æ„å‘³ç€é«˜æ˜‚æˆæœ¬ï¼Œä¹Ÿé™åˆ¶äº†æŠ€æœ¯æ™®åŠã€‚ç ”ç©¶ç•Œæ­£åœ¨æ¢ç´¢æ›´é«˜æ•ˆçš„æ¨¡å‹æ¶æ„ï¼Œä»æ”¹è¿›çš„Transformeråˆ°ä¼˜åŒ–çš„æ‰©æ•£æ¨¡å‹ï¼Œä»æ¨¡å‹å‹ç¼©åˆ°çŸ¥è¯†è’¸é¦ï¼Œæ¯ä¸€ç‚¹æ•ˆç‡æå‡éƒ½å¯èƒ½å¸¦æ¥è´¨çš„é£è·ƒã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹ vs å¤§è¯­è¨€æ¨¡å‹</strong></p>
<p>è¿™æ˜¯AIé¢†åŸŸçš„ä¸€ä¸ªé‡è¦äº‰è®ºã€‚Yann LeCunåœ¨MITç ”è®¨ä¼šä¸Šæ˜ç¡®è¡¨ç¤ºï¼š"<strong>3-5å¹´å†…ï¼Œä¸–ç•Œæ¨¡å‹å°†æˆä¸ºä¸»æµAIæ¶æ„ï¼Œæ²¡äººä¼šå†ç”¨ä»Šå¤©è¿™ç§LLM</strong>ã€‚"</p>
<p><strong>ä¸¤ç§èŒƒå¼çš„å¯¹æ¯”ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08d085cc467d4a4ab807374a6b75a5ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=1DvCwPCjtj%2F6DxyXwuKx3v7CL68%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>èåˆè¶‹åŠ¿ï¼š</strong></p>
<p>å®é™…ä¸Šï¼Œä¸¤è€…å¹¶éå¯¹ç«‹è€Œæ˜¯äº’è¡¥ï¼š</p>
<p>â—LLMæ“…é•¿é«˜å±‚è¯­ä¹‰ç†è§£å’Œæ¨ç†</p>
<p>â—ä¸–ç•Œæ¨¡å‹æ“…é•¿ä½å±‚æ„ŸçŸ¥å’Œç‰©ç†æ¨¡æ‹Ÿ</p>
<p>â—å¤šæ¨¡æ€å¤§æ¨¡å‹æ­£åœ¨èåˆä¸¤è€…ä¼˜åŠ¿</p>
<p>OpenAIçš„ç ”ç©¶è¡¨æ˜ï¼ŒLLMå¯èƒ½åœ¨å†…éƒ¨å­¦ä¹ äº†æŸç§ç®€åŒ–çš„"ä¸–ç•Œæ¨¡å‹"ï¼Œä½†è¿œæœªè¾¾åˆ°Craikè®¾æƒ³çš„å®Œæ•´å¿ƒæ™ºæ¨¡å‹æ°´å¹³ã€‚</p>
<p><strong>ç»“è¯­</strong></p>
<p>ä¸–ç•Œæ¨¡å‹ä»£è¡¨äº†AIä»"è¯­è¨€æ™ºèƒ½"å‘"ç©ºé—´æ™ºèƒ½"å’Œ"ç‰©ç†æ™ºèƒ½"çš„é‡è¦è½¬å˜ã€‚æ­£å¦‚Yann LeCunæ‰€è¯´ï¼š"<strong>LLMåªæ˜¯AIå‘å±•çš„ä¸€ä¸ªé˜¶æ®µï¼ŒçœŸæ­£çš„æ™ºèƒ½éœ€è¦å¯¹ç‰©ç†ä¸–ç•Œçš„æ·±åˆ»ç†è§£ã€‚</strong> "</p>
<p>ä»Soraçš„æƒŠè‰³äº®ç›¸åˆ°Genieçš„äº¤äº’å¼ä¸–ç•Œï¼Œä»æé£é£çš„ç©ºé—´æ™ºèƒ½åˆ°NVIDIAçš„ç‰©ç†AIå¹³å°ï¼Œä¸–ç•Œæ¨¡å‹æ­£åœ¨ä»å®éªŒå®¤èµ°å‘äº§ä¸šï¼Œä»æ¦‚å¿µéªŒè¯èµ°å‘å¤§è§„æ¨¡åº”ç”¨ã€‚</p>
<p>å¯¹äºAIä»ä¸šè€…è€Œè¨€ï¼Œç°åœ¨æ­£æ˜¯å¸ƒå±€ä¸–ç•Œæ¨¡å‹æŠ€æœ¯æ ˆçš„æœ€ä½³æ—¶æœºã€‚æ— è®ºæ˜¯æŠ•èº«åŸºç¡€ç ”ç©¶ï¼Œè¿˜æ˜¯æ¢ç´¢è¡Œä¸šåº”ç”¨ï¼Œä¸–ç•Œæ¨¡å‹éƒ½å°†æ˜¯æœªæ¥5-10å¹´AIå‘å±•çš„ä¸»æ—‹å¾‹ä¹‹ä¸€ã€‚</p>
<p>æ­£å¦‚Kenneth Craikåœ¨1943å¹´çš„è¿œè§ï¼š"å¦‚æœæœ‰æœºä½“èƒ½åœ¨å¤´è„‘ä¸­æºå¸¦å¤–éƒ¨ç°å®çš„'å°å‹æ¨¡å‹'ï¼Œå®ƒå°±èƒ½å°è¯•å„ç§é€‰æ‹©ï¼Œå¾—å‡ºæœ€ä¼˜æ–¹æ¡ˆï¼Œä»¥æ›´å…¨é¢ã€å®‰å…¨å’Œé«˜æ•ˆçš„æ–¹å¼åšå‡ºååº”ã€‚"</p>
<p>80å¹´åçš„ä»Šå¤©ï¼Œæˆ‘ä»¬ç»ˆäºå¼€å§‹å®ç°è¿™ä¸ªæ¢¦æƒ³â€”â€”ä¸æ˜¯åœ¨äººè„‘ä¸­ï¼Œè€Œæ˜¯åœ¨ç¡…åŸºæ™ºèƒ½ä¸­ã€‚ä¸–ç•Œæ¨¡å‹ï¼Œæ­£åœ¨é‡æ–°å®šä¹‰AIçš„å¯èƒ½æ€§è¾¹ç•Œã€‚</p>
<p><strong>å‚è€ƒèµ„æ–™</strong></p>
<p>Haï¼Œ D.ï¼Œ &amp; Schmidhuberï¼Œ J. ï¼ˆ2018ï¼‰. World Models. NeurIPS.</p>
<p>OpenAI ï¼ˆ2024ï¼‰. Video Generation Models as World Simulators.</p>
<p>LeCunï¼Œ Y. ï¼ˆ2024ï¼‰. Autonomous Intelligence Architecture.</p>
<p>Google DeepMind ï¼ˆ2024ï¼‰. Genie 3ï¼š A New Frontier for World Models.</p>
<p>Craikï¼Œ K. ï¼ˆ1943ï¼‰. The Nature of Explanation.</p>
<p>Tsinghua FIB Lab. World Modelï¼š A Survey. ACM Computing Surveys.</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼]]></title>    <link>https://juejin.cn/post/7585031571889209387</link>    <guid>https://juejin.cn/post/7585031571889209387</guid>    <pubDate>2025-12-18T09:16:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585031571889209387" data-draft-id="7585006378533109802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:16:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸”_"/> <meta itemprop="url" content="https://juejin.cn/user/378670048349630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/378670048349630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸”_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:16:12.000Z" title="Thu Dec 18 2025 09:16:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšé¡¹ç›®æ—¶ç”¨æˆ·æ€»è¯´å›¾ç‰‡ä¸èƒ½ä¿å­˜ï¼Ÿä¸€è¡Œä»£ç å®ç°å›¾ç‰‡é¢„è§ˆï¼Œé•¿æŒ‰è¿˜èƒ½ä¿å­˜åˆ°ç›¸å†Œï¼Œå®‰æ’ï¼</p>
<h4 data-id="heading-0">ğŸ¯ å®ç°ä»£ç </h4>
<p>html</p>
<p>é¢„è§ˆ</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- template é‡Œå†™å›¾ç‰‡åˆ—è¡¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"img-list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">image</span> 
    <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in imgList"</span> 
    <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
    <span class="hljs-attr">:src</span>=<span class="hljs-string">"item"</span> 
    <span class="hljs-attr">class</span>=<span class="hljs-string">"img-item"</span>
    @<span class="hljs-attr">click</span>=<span class="hljs-string">"previewImg(index)"</span>
  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å›¾ç‰‡åˆ—è¡¨ï¼Œæ¢æˆä½ çš„å›¾ç‰‡åœ°å€</span>
      <span class="hljs-attr">imgList</span>: [
        <span class="hljs-string">"https://xxx.com/img1.jpg"</span>,
        <span class="hljs-string">"https://xxx.com/img2.jpg"</span>,
        <span class="hljs-string">"https://xxx.com/img3.jpg"</span>
      ]
    };
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// é¢„è§ˆå›¾ç‰‡</span>
    <span class="hljs-title function_">previewImg</span>(<span class="hljs-params">current</span>) {
      uni.<span class="hljs-title function_">previewImage</span>({
        <span class="hljs-attr">current</span>: current, <span class="hljs-comment">// å½“å‰ç‚¹å‡»çš„å›¾ç‰‡ç´¢å¼•</span>
        <span class="hljs-attr">urls</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">imgList</span>, <span class="hljs-comment">// æ‰€æœ‰è¦é¢„è§ˆçš„å›¾ç‰‡åˆ—è¡¨</span>
        <span class="hljs-attr">longPressActions</span>: {
          <span class="hljs-comment">// é•¿æŒ‰æ˜¾ç¤ºçš„æ“ä½œèœå•</span>
          <span class="hljs-attr">itemList</span>: [<span class="hljs-string">"ä¿å­˜å›¾ç‰‡"</span>, <span class="hljs-string">"åˆ†äº«å›¾ç‰‡"</span>],
          <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (res.<span class="hljs-property">tapIndex</span> === <span class="hljs-number">0</span>) {
              <span class="hljs-comment">// ç‚¹å‡»ä¿å­˜å›¾ç‰‡</span>
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveImg</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imgList</span>[current]);
            }
          }
        }
      });
    },
    <span class="hljs-comment">// ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œ</span>
    <span class="hljs-title function_">saveImg</span>(<span class="hljs-params">imgUrl</span>) {
      uni.<span class="hljs-title function_">saveImageToPhotosAlbum</span>({
        <span class="hljs-attr">filePath</span>: imgUrl,
        <span class="hljs-attr">success</span>: <span class="hljs-function">() =&gt;</span> {
          uni.<span class="hljs-title function_">showToast</span>({
            <span class="hljs-attr">title</span>: <span class="hljs-string">"ä¿å­˜æˆåŠŸ"</span>,
            <span class="hljs-attr">icon</span>: <span class="hljs-string">"success"</span>
          });
        },
        <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
          <span class="hljs-comment">// ç”¨æˆ·æ‹’ç»æˆæƒæ—¶æç¤º</span>
          <span class="hljs-keyword">if</span> (err.<span class="hljs-property">errMsg</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"auth deny"</span>)) {
            uni.<span class="hljs-title function_">showToast</span>({
              <span class="hljs-attr">title</span>: <span class="hljs-string">"è¯·å¼€å¯ä¿å­˜å›¾ç‰‡æƒé™"</span>,
              <span class="hljs-attr">icon</span>: <span class="hljs-string">"none"</span>
            });
          }
        }
      });
    }
  }
};
</code></pre>
<h4 data-id="heading-1">ğŸ¨ åŠ ä¸ªç®€å•æ ·å¼</h4>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.img-list</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-wrap</span>: wrap;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.img-item</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">30%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
}
</code></pre>
<p>ğŸ’¡ æƒé™æé†’ï¼šä¿å­˜å›¾ç‰‡éœ€è¦ç”¨æˆ·æˆæƒï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»ä¼šå¼¹å‡ºæˆæƒæç¤ºï¼Œè®°å¾—å¼•å¯¼ç”¨æˆ·å…è®¸ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»DOMç»“æ„åˆ°å¸ƒå±€æµï¼šdisplay: contentçš„æ·±åº¦è§£æä¸å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7585022810180206655</link>    <guid>https://juejin.cn/post/7585022810180206655</guid>    <pubDate>2025-12-18T09:24:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585022810180206655" data-draft-id="7584807992031756330" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»DOMç»“æ„åˆ°å¸ƒå±€æµï¼šdisplay: contentçš„æ·±åº¦è§£æä¸å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-18T09:24:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…«å“¥ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/114004940297325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»DOMç»“æ„åˆ°å¸ƒå±€æµï¼šdisplay: contentçš„æ·±åº¦è§£æä¸å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/114004940297325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…«å“¥ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:24:07.000Z" title="Thu Dec 18 2025 09:24:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ€è¿‘åœ¨ä¸€äº›é¡µé¢å¸ƒå±€ä¸­ä½¿ç”¨åˆ°äº†displayï¼šcontentè¿™ä¸ªå±æ€§ï¼Œä¸ªäººæ„Ÿè§‰è¿˜æ˜¯å¾ˆå®ç”¨çš„ï¼å€Ÿæ­¤æœºä¼šåˆ†äº«å‡ºæ¥ï¼Œæ¥ä¸‹æ¥æˆ‘å¸¦ä½ æ·±å…¥å‰–æCSSä¸­<code>display: content</code>å±æ€§çš„å·¥ä½œåŸç†ã€åº”ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µï¼Œé€šè¿‡å¯è§†åŒ–å›¾è§£å’Œå®æˆ˜æ¡ˆä¾‹ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£è¿™ä¸€è¢«ä½ä¼°çš„å¸ƒå±€åˆ©å™¨ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šè¢«å¿½è§†çš„å¸ƒå±€åˆ©å™¨</h2>
<p>åœ¨CSSå¸ƒå±€çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬ç†Ÿæ‚‰Flexboxã€Gridã€Positionç­‰ä¸»æµå¸ƒå±€æ–¹å¼ï¼Œä½†<code>display: content</code>è¿™ä¸€å±æ€§å´å¸¸å¸¸è¢«å¿½è§†ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å¸ƒå±€å±æ€§ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>DOMç»“æ„ä¸å¸ƒå±€æµåˆ†ç¦»çš„é­”æ³•å·¥å…·</strong>ã€‚</p>
<p><code>display: content</code>çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š<strong>ä¿ç•™å…ƒç´ çš„å¯è®¿é—®æ€§è¯­ä¹‰ï¼ŒåŒæ—¶å°†å…¶ä»å¸ƒå±€æµä¸­"æ¶ˆå¤±"</strong>ï¼Œè®©å­å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨çš„å¸ƒå±€ã€‚è¿™ç§ç‰¹æ€§ä¸ºå¤æ‚ç»„ä»¶çš„å¸ƒå±€æä¾›äº†å…¨æ–°çš„å¯èƒ½æ€§ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼šç†è§£display: contentçš„å·¥ä½œåŸç†</h2>
<h3 data-id="heading-2">1. åŸºæœ¬å®šä¹‰ä¸è¡Œä¸º</h3>
<p><code>display: content</code>æ˜¯CSS Display Module Level 3å¼•å…¥çš„å±æ€§å€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š</p>
<blockquote>
<p>å°†å…ƒç´ æœ¬èº«ä»è§†è§‰å¸ƒå±€ä¸­ç§»é™¤ï¼Œä½†å…¶å­å…ƒç´ ä¼šç»§ç»­å‚ä¸å¸ƒå±€ï¼Œå°±åƒç›´æ¥ä½œä¸ºçˆ¶å…ƒç´ çš„å­å…ƒç´ ä¸€æ ·ã€‚</p>
</blockquote>
<p><strong>å…³é”®ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å…ƒç´ æœ¬èº«ä¸å†äº§ç”Ÿç›’æ¨¡å‹ï¼ˆæ²¡æœ‰å®½é«˜ã€å†…è¾¹è·ã€å¤–è¾¹è·ç­‰ï¼‰</li>
<li>å…ƒç´ çš„å­å…ƒç´ ä¼š"æå‡"åˆ°çˆ¶å®¹å™¨ä¸­å‚ä¸å¸ƒå±€</li>
<li>å…ƒç´ çš„è¯­ä¹‰ä¿¡æ¯ï¼ˆå¦‚ARIAå±æ€§ã€è¡¨æ ¼ç»“æ„ï¼‰ä¼šè¢«ä¿ç•™</li>
<li>å…ƒç´ ä»å¯æ¥æ”¶äº‹ä»¶ï¼ˆå¦‚ç‚¹å‡»äº‹ä»¶ï¼‰</li>
</ul>
<h3 data-id="heading-3">2. å¯è§†åŒ–å›¾è§£ï¼šå¸ƒå±€æµçš„å˜åŒ–</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡å›¾è§£æ¥ç›´è§‚ç†è§£<code>display: content</code>çš„å½±å“ï¼š</p>
<h4 data-id="heading-4">æ²¡æœ‰ä½¿ç”¨display: content</h4>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          çˆ¶å®¹å™¨ (<span class="hljs-attribute">flex</span>å¸ƒå±€)       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        ä¸­é—´å…ƒç´               â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚ â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">1</span> â”‚  â”‚ å­å…ƒç´ <span class="hljs-number">2</span> â”‚     â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å¸ƒå±€è®¡ç®—æµç¨‹ï¼š</strong></p>
<ol>
<li>çˆ¶å®¹å™¨è®¡ç®—ä¸­é—´å…ƒç´ çš„ä½ç½®å’Œå¤§å°</li>
<li>ä¸­é—´å…ƒç´ è®¡ç®—å­å…ƒç´ 1å’Œå­å…ƒç´ 2çš„ä½ç½®å’Œå¤§å°</li>
<li>å¸ƒå±€è¢«ä¸­é—´å…ƒç´ çš„ç›’æ¨¡å‹é™åˆ¶</li>
</ol>
<h4 data-id="heading-5">ä½¿ç”¨äº†display: content</h4>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          çˆ¶å®¹å™¨ (<span class="hljs-attribute">flex</span>å¸ƒå±€)       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">1</span>  â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">2</span> â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å¸ƒå±€è®¡ç®—æµç¨‹ï¼š</strong></p>
<ol>
<li>ä¸­é—´å…ƒç´ ä¸äº§ç”Ÿç›’æ¨¡å‹ï¼Œè¢«ä»å¸ƒå±€æ ‘ä¸­ç§»é™¤</li>
<li>å­å…ƒç´ 1å’Œå­å…ƒç´ 2ç›´æ¥ä½œä¸ºçˆ¶å®¹å™¨çš„å­å…ƒç´ å‚ä¸å¸ƒå±€</li>
<li>çˆ¶å®¹å™¨ç›´æ¥è®¡ç®—å­å…ƒç´ 1å’Œå­å…ƒç´ 2çš„ä½ç½®å’Œå¤§å°</li>
</ol>
<p><strong>æ ¸å¿ƒå˜åŒ–ï¼š</strong> ä¸­é—´å…ƒç´ çš„ç›’æ¨¡å‹è¢«"ç§»é™¤"ï¼Œä½†å…¶å­å…ƒç´ çš„å¸ƒå±€ä¸Šä¸‹æ–‡ä»ä¸­é—´å…ƒç´ è½¬ç§»åˆ°äº†çˆ¶å®¹å™¨ã€‚</p>
<h3 data-id="heading-6">3. ä¸å…¶ä»–displayå±æ€§çš„å¯¹æ¯”</h3>








































<table><thead><tr><th>å±æ€§å€¼</th><th>å¸ƒå±€è¡Œä¸º</th><th>ç›’æ¨¡å‹</th><th>å­å…ƒç´ å¤„ç†</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>display: none</code></td><td>å®Œå…¨éšè—</td><td>ä¸ç”Ÿæˆ</td><td>å­å…ƒç´ ä¹Ÿéšè—</td><td>éœ€è¦å®Œå…¨ç§»é™¤å…ƒç´ </td></tr><tr><td><code>visibility: hidden</code></td><td>è§†è§‰éšè—</td><td>ç”Ÿæˆ</td><td>å­å…ƒç´ ä¹Ÿéšè—</td><td>éœ€è¦ä¿ç•™å ä½çš„éšè—</td></tr><tr><td><code>opacity: 0</code></td><td>é€æ˜æ˜¾ç¤º</td><td>ç”Ÿæˆ</td><td>å­å…ƒç´ ç»§æ‰¿</td><td>éœ€è¦è§†è§‰éšè—ä½†ä¿ç•™äº¤äº’</td></tr><tr><td><code>display: content</code></td><td>ç»“æ„ç©¿é€</td><td>ä¸ç”Ÿæˆ</td><td>å­å…ƒç´ å‚ä¸å¸ƒå±€</td><td>éœ€è¦ä¿ç•™è¯­ä¹‰ä½†ç©¿é€å¸ƒå±€</td></tr></tbody></table>
<h2 data-id="heading-7">ä¸‰ã€å®æˆ˜åº”ç”¨ï¼šdisplay: contentçš„å…¸å‹ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-8">1. ç»„ä»¶å°è£…ä¸­çš„å¸ƒå±€ç©¿é€</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> å°è£…UIç»„ä»¶æ—¶ï¼Œç»„ä»¶çš„å¤–å±‚å®¹å™¨ï¼ˆå¦‚Shadow DOMæˆ–è‡ªå®šä¹‰å…ƒç´ ï¼‰å¯èƒ½ä¼šå¹²æ‰°å†…éƒ¨å…ƒç´ ä¸å¤–éƒ¨å¸ƒå±€å®¹å™¨çš„ååŒå·¥ä½œï¼Œå¯¼è‡´Flexboxæˆ–Gridå¸ƒå±€æ— æ³•æ­£ç¡®åº”ç”¨åˆ°ç»„ä»¶å†…éƒ¨å…ƒç´ ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<code>display: content</code>è®©ç»„ä»¶çš„å†…éƒ¨å…ƒç´ ç›´æ¥ç©¿é€åˆ°å¤–éƒ¨å¸ƒå±€ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶ä¿æŒç»„ä»¶çš„å°è£…æ€§å’Œè¯­ä¹‰ç»“æ„ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å°è£…çš„å¡ç‰‡ç»„ä»¶ï¼ˆä½¿ç”¨Shadow DOMï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">my-card</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-item"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>å¡ç‰‡æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"content"</span>&gt;</span>å¡ç‰‡å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">my-card</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¤–éƒ¨å®¹å™¨ä½¿ç”¨Gridå¸ƒå±€ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">my-card</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-item"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>äº§å“A<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"content"</span>&gt;</span>é«˜æ€§èƒ½å‰ç«¯ç»„ä»¶åº“<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">my-card</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">my-card</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-item"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>äº§å“B<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"content"</span>&gt;</span>ä¼ä¸šçº§åç«¯æ¡†æ¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">my-card</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å¡ç‰‡ç»„ä»¶çš„Shadow DOMå†…éƒ¨æ ·å¼ */</span>
<span class="hljs-selector-pseudo">:host</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-pseudo">:host</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"header"</span>]</span>) {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">font-weight</span>: bold;
}

<span class="hljs-selector-pseudo">:host</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"content"</span>]</span>) {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}

<span class="hljs-comment">/* å¤–éƒ¨Gridå¸ƒå±€ */</span>
<span class="hljs-selector-class">.grid-container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-comment">/* å…³é”®ï¼šä½¿ç”¨display: contentç©¿é€å¡ç‰‡ç»„ä»¶ */</span>
<span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-class">.card-item</span> {
  <span class="hljs-attribute">display</span>: content; <span class="hljs-comment">/* å°†ç»„ä»¶å®¹å™¨ä»å¸ƒå±€ä¸­ç§»é™¤ */</span>
}

<span class="hljs-comment">/* ç›´æ¥æ ·å¼åŒ–ç©¿é€åçš„slotå†…å®¹ */</span>
<span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"header"</span>]</span>) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"content"</span>]</span>) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">2</span>;
}
</code></pre>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<ol>
<li>å¡ç‰‡ç»„ä»¶æœ¬èº«ä»ä¿æŒå°è£…æ€§ï¼Œå…¶å†…éƒ¨æ ·å¼é€šè¿‡Shadow DOMéš”ç¦»</li>
<li><code>display: content</code>å°†å¡ç‰‡ç»„ä»¶çš„ç›’æ¨¡å‹ç§»é™¤ï¼Œä½¿å…¶å†…éƒ¨çš„slotå†…å®¹ç›´æ¥æš´éœ²ç»™å¤–éƒ¨Gridå®¹å™¨</li>
<li>å¤–éƒ¨Gridå®¹å™¨å¯ä»¥ç›´æ¥å¯¹è¿™äº›slotå†…å®¹è¿›è¡Œå¸ƒå±€æ§åˆ¶ï¼ˆå¦‚è®¾ç½®grid-columnï¼‰</li>
<li>ç»„ä»¶çš„è¯­ä¹‰ç»“æ„å’Œå¯è®¿é—®æ€§ä¿¡æ¯å®Œå…¨ä¿ç•™</li>
</ol>
<p><strong>åº”ç”¨ä»·å€¼ï¼š</strong> è§£å†³äº†Web Componentsç­‰å°è£…ç»„ä»¶ä¸å¤–éƒ¨å¸ƒå±€ç³»ç»Ÿçš„å…¼å®¹æ€§é—®é¢˜ï¼Œå®ç°äº†ç»„ä»¶å†…éƒ¨å…ƒç´ ä¸å¤–éƒ¨å¸ƒå±€çš„æ— ç¼é›†æˆã€‚</p>
<h3 data-id="heading-9">2. è¯­ä¹‰åŒ–æ ‡ç­¾ä¸å¸ƒå±€éœ€æ±‚çš„å¹³è¡¡</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> åœ¨æ„å»ºç°ä»£Webåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼ˆå¦‚<code>&lt;article&gt;</code>ã€<code>&lt;section&gt;</code>ã€<code>&lt;aside&gt;</code>ï¼‰æ¥æé«˜å¯è®¿é—®æ€§å’ŒSEOï¼Œä½†è¿™äº›æ ‡ç­¾çš„ç›’æ¨¡å‹ï¼ˆé»˜è®¤çš„å—çº§æ˜¾ç¤ºï¼‰å¯èƒ½ä¼šå¹²æ‰°æˆ‘ä»¬æƒ³è¦å®ç°çš„å¤æ‚å¸ƒå±€ç»“æ„ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<code>display: content</code>å¯ä»¥åœ¨ä¿ç•™HTMLè¯­ä¹‰ç»“æ„çš„åŒæ—¶ï¼Œå°†è¿™äº›è¯­ä¹‰åŒ–æ ‡ç­¾ä»è§†è§‰å¸ƒå±€ä¸­ç§»é™¤ï¼Œè®©å®ƒä»¬çš„å­å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨çš„å¸ƒå±€è®¡ç®—ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¯­ä¹‰åŒ–çš„æ–°é—»åˆ—è¡¨ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>CSS Grid 2.0å³å°†å‘å¸ƒï¼Œå¸¦æ¥é©å‘½æ€§å¸ƒå±€ä½“éªŒ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ®W3Cæœ€æ–°æ¶ˆæ¯ï¼ŒCSS Grid 2.0è§„èŒƒå³å°†å®Œæˆï¼Œå°†å¼•å…¥æ›´å¤šå¼ºå¤§çš„å¸ƒå±€åŠŸèƒ½...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2023-12-01"</span>&gt;</span>2023å¹´12æœˆ1æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Web Componentså·²æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„æ ‡é…<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>éšç€æµè§ˆå™¨æ”¯æŒçš„ä¸æ–­å®Œå–„ï¼ŒWeb Componentsæ­£åœ¨æ”¹å˜æˆ‘ä»¬æ„å»ºå¯å¤ç”¨ç»„ä»¶çš„æ–¹å¼...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2023-12-02"</span>&gt;</span>2023å¹´12æœˆ2æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ€§èƒ½ä¼˜åŒ–æ–°è¶‹åŠ¿ï¼šCSSå±‚å ä¸Šä¸‹æ–‡ç®¡ç†<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¦‚ä½•é€šè¿‡åˆç†ç®¡ç†CSSå±‚å ä¸Šä¸‹æ–‡æ¥æå‡é¡µé¢æ¸²æŸ“æ€§èƒ½...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2023-12-03"</span>&gt;</span>2023å¹´12æœˆ3æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å¤–éƒ¨å®¹å™¨ä½¿ç”¨Gridå¸ƒå±€åˆ›å»ºå¤æ‚çš„æ–°é—»ç½‘æ ¼ */</span>
<span class="hljs-selector-class">.news-container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">300px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-attribute">grid-template-rows</span>: auto;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-comment">/* å…³é”®ï¼šä½¿ç”¨display: contentç©¿é€è¯­ä¹‰åŒ–æ ‡ç­¾ */</span>
<span class="hljs-selector-class">.news-article</span> {
  <span class="hljs-attribute">display</span>: content;
  <span class="hljs-comment">/* ä¿ç•™è¯­ä¹‰ç»“æ„ï¼Œä½†ç§»é™¤ç›’æ¨¡å‹ */</span>
}

<span class="hljs-comment">/* ç›´æ¥æ ·å¼åŒ–ç©¿é€åçš„å†…éƒ¨å…ƒç´  */</span>
<span class="hljs-selector-class">.news-article</span> &gt; <span class="hljs-selector-tag">h2</span> {
  <span class="hljs-comment">/* æ ‡é¢˜è·¨ä¸¤åˆ— */</span>
  <span class="hljs-attribute">grid-column</span>: span <span class="hljs-number">2</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#667eea</span>;
}

<span class="hljs-selector-class">.news-article</span> &gt; <span class="hljs-selector-tag">p</span> {
  <span class="hljs-comment">/* å†…å®¹å æ®ä¸»è¦ç©ºé—´ */</span>
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;
}

<span class="hljs-selector-class">.news-article</span> &gt; <span class="hljs-selector-tag">time</span> {
  <span class="hljs-comment">/* æ—¶é—´ä¿¡æ¯é å³å¯¹é½ */</span>
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">2</span>;
  justify-self: end;
  <span class="hljs-attribute">align-self</span>: end;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.875rem</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
}
</code></pre>
<p><strong>å·¥ä½œåŸç†ä¸ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>è¯­ä¹‰ç»“æ„ä¿ç•™</strong>ï¼š<code>&lt;article&gt;</code>æ ‡ç­¾ä»ç„¶å­˜åœ¨äºDOMä¸­ï¼Œä¿æŒäº†è‰¯å¥½çš„SEOå’Œå¯è®¿é—®æ€§</li>
<li><strong>å¸ƒå±€çµæ´»æ€§</strong>ï¼šé€šè¿‡<code>display: content</code>ç§»é™¤äº†<code>&lt;article&gt;</code>çš„ç›’æ¨¡å‹é™åˆ¶ï¼Œä½¿å…¶å­å…ƒç´ å¯ä»¥ç›´æ¥å‚ä¸Gridå¸ƒå±€</li>
<li><strong>å¤æ‚å¸ƒå±€å®ç°</strong>ï¼šå¯ä»¥å®ç°æ ‡é¢˜è·¨åˆ—ã€å†…å®¹ä¸æ—¶é—´å·¦å³å¯¹é½ç­‰å¤æ‚å¸ƒå±€ï¼Œè€Œä¸å—è¯­ä¹‰åŒ–æ ‡ç­¾çš„å½±å“</li>
<li><strong>å¯ç»´æŠ¤æ€§æå‡</strong>ï¼šè¯­ä¹‰åŒ–ç»“æ„ä½¿ä»£ç æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤ï¼ŒåŒæ—¶å¸ƒå±€çš„çµæ´»æ€§æ»¡è¶³äº†è®¾è®¡éœ€æ±‚</li>
</ol>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ç¡®ä¿ç©¿é€åçš„å…ƒç´ é€‰æ‹©å™¨æ­£ç¡®åŒ¹é…ï¼Œé¿å…æ ·å¼ä¸¢å¤±</li>
<li>æµ‹è¯•å±å¹•é˜…è¯»å™¨çš„å…¼å®¹æ€§ï¼Œç¡®ä¿è¯­ä¹‰ä¿¡æ¯ä»ç„¶å¯ä»¥è¢«æ­£ç¡®è¯†åˆ«</li>
<li>é¿å…åœ¨åµŒå¥—è¿‡æ·±çš„è¯­ä¹‰åŒ–æ ‡ç­¾ä¸Šè¿‡åº¦ä½¿ç”¨<code>display: content</code>ï¼Œä»¥å…å½±å“ä»£ç çš„å¯è¯»æ€§</li>
</ul>
<h3 data-id="heading-10">3. å¤æ‚è¡¨æ ¼ç»“æ„çš„ç®€åŒ–å¸ƒå±€</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> HTMLè¡¨æ ¼çš„<code>&lt;table&gt;</code>ã€<code>&lt;tr&gt;</code>ã€<code>&lt;td&gt;</code>ç»“æ„æä¾›äº†è‰¯å¥½çš„è¯­ä¹‰æ€§å’Œå¯è®¿é—®æ€§ï¼Œä½†è¿™ç§åµŒå¥—ç»“æ„ä¸¥é‡é™åˆ¶äº†CSSå¸ƒå±€çš„çµæ´»æ€§ï¼Œæ— æ³•å®ç°ç°ä»£è®¾è®¡ä¸­å¸¸è§çš„å¤æ‚è¡¨æ ¼å¸ƒå±€ï¼ˆå¦‚å•å…ƒæ ¼åˆå¹¶ã€ä¸è§„åˆ™æ’åˆ—ç­‰ï¼‰ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<code>display: content</code>å¯ä»¥æ‰“ç ´ä¼ ç»Ÿè¡¨æ ¼çš„ç»“æ„é™åˆ¶ï¼Œå°†è¡¨æ ¼å•å…ƒæ ¼ä»<code>&lt;tr&gt;</code>å’Œ<code>&lt;td&gt;</code>çš„åµŒå¥—ä¸­è§£æ”¾å‡ºæ¥ï¼Œç›´æ¥ä½¿ç”¨Gridå¸ƒå±€å®ç°å¤æ‚çš„è¡¨æ ¼è®¾è®¡ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¯­ä¹‰åŒ–çš„è¡¨æ ¼ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modern-table"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>èŒä½<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æŠ€èƒ½<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ç»éªŒ<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>28<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å‰ç«¯å·¥ç¨‹å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>React, TypeScript, CSS Grid<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5å¹´<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æå››<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>åç«¯å·¥ç¨‹å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Node.js, Express, MongoDB<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>8å¹´<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>ç‹äº”<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>26<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>UIè®¾è®¡å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Figma, Sketch, Adobe XD<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3å¹´<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* è¡¨æ ¼å®¹å™¨ä½¿ç”¨Gridå¸ƒå±€ */</span>
<span class="hljs-selector-class">.modern-table</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">150px</span> <span class="hljs-number">80px</span> <span class="hljs-number">180px</span> <span class="hljs-number">1</span>fr <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">grid-auto-rows</span>: <span class="hljs-built_in">minmax</span>(<span class="hljs-number">60px</span>, auto);
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1000px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;
  <span class="hljs-attribute">border-collapse</span>: collapse;
}

<span class="hljs-comment">/* å…³é”®ï¼šç©¿é€è¡¨æ ¼çš„åµŒå¥—ç»“æ„ */</span>
<span class="hljs-selector-class">.modern-table</span> &gt; *,       <span class="hljs-comment">/* ç©¿é€theadå’Œtbody */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">tr</span>,        <span class="hljs-comment">/* ç©¿é€è¡Œ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">th</span>,        <span class="hljs-comment">/* ç©¿é€è¡¨å¤´å•å…ƒæ ¼ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span>         <span class="hljs-comment">/* ç©¿é€æ•°æ®å•å…ƒæ ¼ */</span>
{ 
  <span class="hljs-attribute">display</span>: content;
}

<span class="hljs-comment">/* æ ·å¼åŒ–æ‰€æœ‰å•å…ƒæ ¼ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">th</span>,
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">3px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>);
}

<span class="hljs-comment">/* è¡¨å¤´æ ·å¼å¢å¼º */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">th</span> {
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.95rem</span>;
  <span class="hljs-attribute">text-transform</span>: uppercase;
  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0.5px</span>;
  <span class="hljs-attribute">justify-content</span>: center;
}

<span class="hljs-comment">/* æ•°æ®è¡Œæ ·å¼ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) {
  <span class="hljs-comment">/* å§“ååˆ— */</span>
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9ff</span>;
}

<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>) {
  <span class="hljs-comment">/* æŠ€èƒ½åˆ— - å¤šè¡Œæ˜¾ç¤º */</span>
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">align-items</span>: flex-start;
  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">15px</span>;
}

<span class="hljs-comment">/* å“åº”å¼è®¾è®¡ï¼šåœ¨å°å±å¹•ä¸Šé‡æ–°æ’åˆ—è¡¨æ ¼ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.modern-table</span> {
    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr;
    <span class="hljs-attribute">grid-auto-rows</span>: auto;
  }
  
  <span class="hljs-comment">/* åœ¨ç§»åŠ¨ç«¯ï¼Œå°†è¡¨å¤´ä¿¡æ¯ä½œä¸ºæ ‡ç­¾æ˜¾ç¤ºåœ¨æ•°æ®å‰ */</span>
  <span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span> {
    <span class="hljs-attribute">justify-content</span>: space-between;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
  }
  
  <span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-built_in">attr</span>(data-label);
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#667eea</span>;
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
  }
}
</code></pre>
<p><strong>é«˜çº§åº”ç”¨æŠ€å·§ï¼š</strong></p>
<ol>
<li><strong>ç»“æ„ç©¿é€å±‚æ¬¡</strong>ï¼šé€šè¿‡å¯¹<code>table &gt; *</code>ã€<code>tr</code>ã€<code>th</code>ã€<code>td</code>éƒ½åº”ç”¨<code>display: content</code>ï¼Œå®ç°äº†å¤šå±‚çº§çš„ç»“æ„ç©¿é€</li>
<li><strong>Gridå¸ƒå±€è‡ªç”±</strong>ï¼šå¯ä»¥è‡ªç”±å®šä¹‰åˆ—å®½ã€è¡Œé«˜å’Œé—´è·ï¼Œçªç ´äº†ä¼ ç»Ÿè¡¨æ ¼çš„é™åˆ¶</li>
<li><strong>å¤æ‚æ ·å¼åº”ç”¨</strong>ï¼šå¯ä»¥è½»æ¾å®ç°è¡¨å¤´æ¸å˜ã€å•å…ƒæ ¼é˜´å½±ã€ç‰¹æ®Šåˆ—æ ·å¼ç­‰ç°ä»£è®¾è®¡æ•ˆæœ</li>
<li><strong>å“åº”å¼é€‚é…</strong>ï¼šåœ¨ç§»åŠ¨ç«¯å¯ä»¥é‡æ–°æ’åˆ—è¡¨æ ¼ç»“æ„ï¼Œå°†å…¶è½¬æ¢ä¸ºå¡ç‰‡å¼å¸ƒå±€</li>
</ol>
<p><strong>å¯è®¿é—®æ€§ä¿éšœï¼š</strong></p>
<ul>
<li>ä¿ç•™äº†å®Œæ•´çš„<code>&lt;table&gt;</code>ã€<code>&lt;thead&gt;</code>ã€<code>&lt;tbody&gt;</code>è¯­ä¹‰ç»“æ„</li>
<li>å±å¹•é˜…è¯»å™¨å¯ä»¥æ­£ç¡®è¯†åˆ«è¡¨æ ¼å†…å®¹å’Œè¡¨å¤´å…³ç³»</li>
<li>è¡¨æ ¼å•å…ƒæ ¼çš„é€»è¾‘å…³ç³»åœ¨DOMä¸­ä¿æŒä¸å˜</li>
</ul>
<p><strong>ä½¿ç”¨åœºæ™¯æ‰©å±•ï¼š</strong></p>
<ul>
<li>å¤æ‚çš„è´¢åŠ¡æŠ¥è¡¨å’Œæ•°æ®åˆ†æè¡¨æ ¼</li>
<li>äº§å“å¯¹æ¯”å’Œç‰¹æ€§å±•ç¤ºè¡¨æ ¼</li>
<li>å“åº”å¼è®¾è®¡è¦æ±‚é«˜çš„è¡¨æ ¼å†…å®¹</li>
<li>éœ€è¦ç‰¹æ®Šè§†è§‰æ•ˆæœçš„è¡¨æ ¼å±•ç¤º</li>
</ul>
<h3 data-id="heading-11">4. å“åº”å¼å¸ƒå±€ä¸­çš„æ¡ä»¶ç©¿é€</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> åœ¨å“åº”å¼è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹ä½¿ç”¨å®Œå…¨ä¸åŒçš„å¸ƒå±€ç»“æ„ã€‚ä¼ ç»Ÿæ–¹æ³•é€šå¸¸éœ€è¦é€šè¿‡JavaScriptæˆ–å¤æ‚çš„CSSé€‰æ‹©å™¨æ¥å®ç°ï¼Œè¿™ä¼šå¢åŠ ä»£ç çš„å¤æ‚æ€§å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ç»“åˆåª’ä½“æŸ¥è¯¢å’Œ<code>display: content</code>ï¼Œå¯ä»¥åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹æ¡ä»¶æ€§åœ°ç©¿é€æˆ–ä¿ç•™æŸäº›DOMç»“æ„ï¼Œå®ç°çµæ´»çš„å“åº”å¼å¸ƒå±€åˆ‡æ¢ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å“åº”å¼äº§å“å±•ç¤ºç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-showcase"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ¡Œé¢ç«¯å¸ƒå±€å®¹å™¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"desktop-layout"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- äº§å“å›¾ç‰‡ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-image"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"product-image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"äº§å“å›¾ç‰‡"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- äº§å“ä¿¡æ¯ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-info"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-title"</span>&gt;</span>é«˜çº§å‰ç«¯å¼€å‘è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-meta"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"author"</span>&gt;</span>å¼ è€å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rating"</span>&gt;</span>â­â­â­â­â­<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"students"</span>&gt;</span>1000+ å­¦å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-description"</span>&gt;</span>
        ä»é›¶åŸºç¡€åˆ°é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆçš„å®Œæ•´è¯¾ç¨‹ï¼ŒåŒ…å«HTMLã€CSSã€JavaScriptã€Reactã€Vueç­‰ç°ä»£å‰ç«¯æŠ€æœ¯...
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-actions"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>ç«‹å³è´­ä¹°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>å…è´¹è¯•å­¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- ç§»åŠ¨ç«¯å¸ƒå±€å®¹å™¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mobile-layout"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mobile-header"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-title"</span>&gt;</span>é«˜çº§å‰ç«¯å¼€å‘è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rating"</span>&gt;</span>â­â­â­â­â­<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-image"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"product-image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"äº§å“å›¾ç‰‡"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-meta"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"author"</span>&gt;</span>å¼ è€å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"students"</span>&gt;</span>1000+ å­¦å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-description"</span>&gt;</span>
      ä»é›¶åŸºç¡€åˆ°é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆçš„å®Œæ•´è¯¾ç¨‹ï¼ŒåŒ…å«HTMLã€CSSã€JavaScriptã€Reactã€Vueç­‰ç°ä»£å‰ç«¯æŠ€æœ¯...
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-actions"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>ç«‹å³è´­ä¹°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>å…è´¹è¯•å­¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* é»˜è®¤éšè—ç§»åŠ¨ç«¯å¸ƒå±€ */</span>
<span class="hljs-selector-class">.mobile-layout</span> {
  <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-comment">/* æ¡Œé¢ç«¯å¸ƒå±€æ ·å¼ */</span>
<span class="hljs-selector-class">.desktop-layout</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">300px</span> <span class="hljs-number">1</span>fr;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">align-items</span>: start;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1200px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.product-image</span> <span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: auto;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">12px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
}

<span class="hljs-selector-class">.product-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}

<span class="hljs-selector-class">.product-meta</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
}

<span class="hljs-selector-class">.product-description</span> {
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.7</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#444</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
}

<span class="hljs-selector-class">.product-actions</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
}

<span class="hljs-selector-class">.btn-primary</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-class">.btn-secondary</span> {
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#667eea</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#667eea</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-comment">/* ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-comment">/* éšè—æ¡Œé¢ç«¯å¸ƒå±€ */</span>
  <span class="hljs-selector-class">.desktop-layout</span> {
    <span class="hljs-attribute">display</span>: none;
  }
  
  <span class="hljs-comment">/* æ˜¾ç¤ºç§»åŠ¨ç«¯å¸ƒå±€ */</span>
  <span class="hljs-selector-class">.mobile-layout</span> {
    <span class="hljs-attribute">display</span>: content;
    <span class="hljs-comment">/* ç©¿é€ç§»åŠ¨ç«¯å¸ƒå±€å®¹å™¨ï¼Œè®©å†…éƒ¨å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨å¸ƒå±€ */</span>
  }
  
  <span class="hljs-comment">/* è°ƒæ•´äº§å“å±•ç¤ºå®¹å™¨ä¸ºå‚ç›´å¸ƒå±€ */</span>
  <span class="hljs-selector-class">.product-showcase</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
  }
  
  <span class="hljs-comment">/* è°ƒæ•´ç§»åŠ¨ç«¯å…ƒç´ æ ·å¼ */</span>
  <span class="hljs-selector-class">.mobile-header</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">text-align</span>: center;
  }
  
  <span class="hljs-selector-class">.product-title</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5rem</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
  }
  
  <span class="hljs-selector-class">.product-meta</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
  }
  
  <span class="hljs-selector-class">.product-actions</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
  }
}
</code></pre>
<p><strong>é«˜çº§åº”ç”¨æ¨¡å¼ï¼š</strong></p>
<ol>
<li><strong>åŒå¸ƒå±€ç­–ç•¥</strong>ï¼šåŒæ—¶æä¾›æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ä¸¤ç§å¸ƒå±€ç»“æ„ï¼Œæ ¹æ®å±å¹•å°ºå¯¸æ¡ä»¶æ€§åœ°æ˜¾ç¤ºå…¶ä¸­ä¸€ç§</li>
<li><strong>ç»“æ„ç©¿é€</strong>ï¼šåœ¨ç§»åŠ¨ç«¯ä½¿ç”¨<code>display: content</code>ç©¿é€å¸ƒå±€å®¹å™¨ï¼Œè®©å†…éƒ¨å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨çš„Flexå¸ƒå±€</li>
<li><strong>æ ·å¼é‡å†™</strong>ï¼šé’ˆå¯¹ä¸åŒå±å¹•å°ºå¯¸é‡å†™å…ƒç´ æ ·å¼ï¼Œå®ç°å®Œå…¨ä¸åŒçš„è§†è§‰å‘ˆç°</li>
</ol>
<p><strong>ä¼˜åŠ¿ä¸ä»·å€¼ï¼š</strong></p>
<ol>
<li><strong>ä»£ç ç»„ç»‡æ¸…æ™°</strong>ï¼šå°†ä¸åŒå±å¹•å°ºå¯¸çš„å¸ƒå±€ç»“æ„åˆ†ç¦»ï¼Œæé«˜ä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…ä½¿ç”¨JavaScriptè¿›è¡Œå¸ƒå±€åˆ‡æ¢ï¼Œå‡å°‘è¿è¡Œæ—¶æ€§èƒ½å¼€é”€</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¸€è‡´</strong>ï¼šåœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½æä¾›æœ€ä½³çš„å¸ƒå±€ä½“éªŒ</li>
<li><strong>å¼€å‘æ•ˆç‡æå‡</strong>ï¼šç®€åŒ–å“åº”å¼å¸ƒå±€çš„å®ç°è¿‡ç¨‹ï¼Œå‡å°‘ä»£ç é‡</li>
</ol>
<p><strong>æœ€ä½³å®è·µå»ºè®®ï¼š</strong></p>
<ul>
<li>åªåœ¨å¿…è¦çš„åœºæ™¯ä¸‹ä½¿ç”¨æ¡ä»¶ç©¿é€ï¼Œé¿å…è¿‡åº¦å¤æ‚çš„å¸ƒå±€ç»“æ„</li>
<li>ç¡®ä¿åœ¨æ‰€æœ‰å±å¹•å°ºå¯¸ä¸‹éƒ½æœ‰è‰¯å¥½çš„å¯è®¿é—®æ€§</li>
<li>æµ‹è¯•ä¸åŒè®¾å¤‡ä¸Šçš„å¸ƒå±€æ•ˆæœï¼Œç¡®ä¿å“åº”å¼åˆ‡æ¢å¹³æ»‘è‡ªç„¶</li>
<li>ç»“åˆCSSå˜é‡ä½¿ç”¨ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜å“åº”å¼å¸ƒå±€çš„çµæ´»æ€§</li>
</ul>
<h2 data-id="heading-12">å››ã€æ·±å…¥ç†è§£ï¼šdisplay: contentçš„å·¥ä½œæœºåˆ¶</h2>
<h3 data-id="heading-13">1. CSSOMä¸DOMçš„åˆ†ç¦»</h3>
<p><code>display: content</code>çš„æ ¸å¿ƒæœºåˆ¶åœ¨äºå®ƒ<strong>åªå½±å“CSSOMï¼ˆCSSå¯¹è±¡æ¨¡å‹ï¼‰ï¼Œä¸å½±å“DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</strong>ï¼Œå®ç°äº†ç»“æ„ä¸è¡¨ç°çš„æ·±åº¦åˆ†ç¦»ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 DOMæ ‘                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚          ä¸­é—´å…ƒç´             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ å­å…ƒç´ 1  â”‚ â”‚ å­å…ƒç´ 2 â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                CSSOMæ ‘                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ å­å…ƒç´ 1  â”‚ â”‚ å­å…ƒç´ 2 â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               æ¸²æŸ“æ ‘                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ å­å…ƒç´ 1  â”‚ â”‚ å­å…ƒç´ 2 â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<p><strong>æ ¸å¿ƒåˆ†ç¦»æœºåˆ¶ï¼š</strong></p>
<ul>
<li><strong>DOMå±‚é¢</strong>ï¼šå…ƒç´ ä»ç„¶å­˜åœ¨ï¼Œä¿ç•™æ‰€æœ‰è¯­ä¹‰ä¿¡æ¯ã€äº‹ä»¶ç›‘å¬å™¨å’Œå±æ€§</li>
<li><strong>CSSOMå±‚é¢</strong>ï¼šåº”ç”¨äº†<code>display: content</code>çš„å…ƒç´ è¢«ä»CSSOMæ ‘ä¸­ç§»é™¤ï¼Œä¸å†ç”Ÿæˆç›’æ¨¡å‹</li>
<li><strong>æ¸²æŸ“å±‚é¢</strong>ï¼šå­å…ƒç´ çš„ç›’æ¨¡å‹è¢«"æå‡"åˆ°çˆ¶å®¹å™¨ä¸­ï¼Œç›´æ¥å‚ä¸å¸ƒå±€è®¡ç®—</li>
</ul>
<p>è¿™ç§åˆ†ç¦»æœºåˆ¶ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜DOMç»“æ„çš„æƒ…å†µä¸‹ï¼Œçµæ´»åœ°è°ƒæ•´å…ƒç´ çš„å¸ƒå±€è¡Œä¸ºï¼Œå®ç°è¯­ä¹‰åŒ–ä¸å¸ƒå±€éœ€æ±‚çš„å®Œç¾å¹³è¡¡ã€‚</p>
<h3 data-id="heading-14">2. å¯è®¿é—®æ€§å½±å“ä¸æœ€ä½³å®è·µ</h3>
<p><code>display: content</code>å¯¹å¯è®¿é—®æ€§çš„å½±å“æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œæ—¢å¯ä»¥ä¿ç•™è¯­ä¹‰ç»“æ„ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´è§†è§‰ä¸é€»è¾‘ç»“æ„çš„ä¸ä¸€è‡´ã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£å…¶å·¥ä½œåŸç†å’Œæœ€ä½³å®è·µï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å¯è®¿é—®æ€§æ ‘ (Accessibility Tree) â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚          ä¸­é—´å…ƒç´             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ å­å…ƒç´ <span class="hljs-number">1</span>  â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">2</span> â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å…³é”®å½±å“åˆ†æï¼š</strong></p>
<p>âœ… <strong>ä¿ç•™è¯­ä¹‰ç»“æ„</strong>ï¼š</p>
<ul>
<li>å…ƒç´ çš„ARIAå±æ€§ã€è§’è‰²ä¿¡æ¯ï¼ˆroleï¼‰ã€çŠ¶æ€ä¿¡æ¯ï¼ˆstateï¼‰ä»ç„¶å­˜åœ¨äºå¯è®¿é—®æ€§æ ‘ä¸­</li>
<li>å±å¹•é˜…è¯»å™¨å¯ä»¥æ­£ç¡®è¯†åˆ«å…ƒç´ çš„è¯­ä¹‰è§’è‰²å’Œå±æ€§</li>
<li>è¡¨æ ¼ã€è¡¨å•ç­‰ç»“æ„åŒ–å…ƒç´ çš„è¯­ä¹‰å…³ç³»å¾—åˆ°ä¿ç•™</li>
</ul>
<p>âš ï¸ <strong>æ½œåœ¨é£é™©ï¼š</strong></p>
<ul>
<li><strong>è§†è§‰-é€»è¾‘ä¸ä¸€è‡´</strong>ï¼šç”¨æˆ·çœ‹åˆ°çš„å¸ƒå±€ç»“æ„ä¸å±å¹•é˜…è¯»å™¨è¯»åˆ°çš„ç»“æ„å¯èƒ½ä¸åŒ</li>
<li><strong>äº¤äº’å…ƒç´ ä¸¢å¤±</strong>ï¼šå¦‚æœåœ¨å¯èšç„¦å…ƒç´ ä¸Šä½¿ç”¨<code>display: content</code>ï¼Œå¯èƒ½å½±å“é”®ç›˜å¯¼èˆª</li>
<li><strong>å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§</strong>ï¼šæ—§ç‰ˆå±å¹•é˜…è¯»å™¨å¯èƒ½æ— æ³•æ­£ç¡®è§£æç©¿é€åçš„ç»“æ„</li>
</ul>
<p><strong>é«˜çº§å¯è®¿é—®æ€§å®è·µï¼š</strong></p>
<ol>
<li>
<p><strong>è¯­ä¹‰åŒ–ä¼˜å…ˆ</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ¨èï¼šä¿ç•™è¯­ä¹‰ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-nav"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-list"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>äº§å“<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* ç©¿é€éè¯­ä¹‰åŒ–çš„ä¸­é—´å…ƒç´  */</span>
<span class="hljs-selector-class">.nav-list</span> {
  <span class="hljs-attribute">display</span>: content;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>ARIAå±æ€§è¡¥å……</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"article"</span> <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">"card-title"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"card-title"</span>&gt;</span>äº§å“æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>äº§å“æè¿°...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">display</span>: content;
  <span class="hljs-comment">/* ä¿ç•™ARIAå±æ€§å’Œè§’è‰²ä¿¡æ¯ */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>é”®ç›˜å¯¼èˆªä¿éšœ</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button-group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æŒ‰é’®1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æŒ‰é’®2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.button-group</span> {
  <span class="hljs-attribute">display</span>: content;
  <span class="hljs-comment">/* æŒ‰é’®ä»ç„¶å¯ä»¥é€šè¿‡é”®ç›˜è®¿é—® */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å±å¹•é˜…è¯»å™¨æµ‹è¯•</strong></p>
<ul>
<li>ä½¿ç”¨NVDAã€VoiceOverç­‰ä¸»æµå±å¹•é˜…è¯»å™¨æµ‹è¯•</li>
<li>éªŒè¯è¯­ä¹‰ç»“æ„æ˜¯å¦æ­£ç¡®ä¼ è¾¾</li>
<li>ç¡®ä¿é”®ç›˜å¯¼èˆªæµç¨‹åˆç†</li>
</ul>
</li>
</ol>
<p><strong>ç¦å¿Œåœºæ™¯ï¼š</strong></p>
<ul>
<li>ç»å¯¹ä¸è¦åœ¨<code>&lt;a&gt;</code>ã€<code>&lt;button&gt;</code>ç­‰äº¤äº’å…ƒç´ ä¸Šä½¿ç”¨<code>display: content</code></li>
<li>é¿å…åœ¨<code>&lt;form&gt;</code>ã€<code>&lt;select&gt;</code>ç­‰è¡¨å•å®¹å™¨ä¸Šä½¿ç”¨</li>
<li>ä¸è¦åœ¨å…·æœ‰å¤æ‚ARIAå…³ç³»çš„å…ƒç´ ä¸Šä½¿ç”¨</li>
</ul>
<p><code>display: content</code>çš„å¯è®¿é—®æ€§åŸåˆ™æ˜¯ï¼š<strong>ä¿ç•™è¯­ä¹‰ï¼Œä¿éšœäº¤äº’ï¼Œæµ‹è¯•éªŒè¯</strong>ã€‚åªæœ‰åœ¨ç¡®ä¿å¯è®¿é—®æ€§ä¸å—å½±å“çš„å‰æä¸‹ï¼Œæ‰èƒ½å……åˆ†å‘æŒ¥å…¶å¸ƒå±€ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-15">3. æµè§ˆå™¨å…¼å®¹æ€§ä¸é™çº§ç­–ç•¥</h3>
<p><code>display: content</code>æ˜¯CSS Display Module Level 3çš„ç‰¹æ€§ï¼Œè™½ç„¶ç°ä»£æµè§ˆå™¨æ”¯æŒè‰¯å¥½ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä»éœ€è€ƒè™‘å…¼å®¹æ€§å¤„ç†ï¼š</p>
<h4 data-id="heading-16">å…¼å®¹æ€§è¡¨æ ¼</h4>









































<table><thead><tr><th>æµè§ˆå™¨</th><th>æ”¯æŒç‰ˆæœ¬</th><th>å‘å¸ƒæ—¥æœŸ</th><th>å¸‚åœºä»½é¢ï¼ˆ2023ï¼‰</th></tr></thead><tbody><tr><td>Chrome</td><td>54+</td><td>2016-10</td><td>65.2%</td></tr><tr><td>Firefox</td><td>37+</td><td>2015-06</td><td>7.8%</td></tr><tr><td>Safari</td><td>10.1+</td><td>2017-03</td><td>19.1%</td></tr><tr><td>Edgeï¼ˆChromiumï¼‰</td><td>79+</td><td>2020-01</td><td>5.9%</td></tr><tr><td>IE</td><td>ä¸æ”¯æŒ</td><td>-</td><td>&lt;1%</td></tr></tbody></table>
<h4 data-id="heading-17">é™çº§ç­–ç•¥</h4>
<p>åœ¨éœ€è¦æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨çš„é¡¹ç›®ä¸­ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹é™çº§ç­–ç•¥ï¼š</p>
<ol>
<li>
<p><strong>ç‰¹æ€§æ£€æµ‹</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨CSS.supportsæ£€æµ‹æµè§ˆå™¨æ”¯æŒ</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">CSS</span>.<span class="hljs-title function_">supports</span>(<span class="hljs-string">'display'</span>, <span class="hljs-string">'content'</span>)) {
  <span class="hljs-comment">// åº”ç”¨display: contentçš„é«˜çº§å¸ƒå±€</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'supports-display-content'</span>);
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜é›…é™çº§</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* åŸºç¡€æ ·å¼ï¼šæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ */</span>
<span class="hljs-selector-class">.component-container</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-comment">/* ä¼ ç»Ÿå¸ƒå±€æ ·å¼ */</span>
}

<span class="hljs-comment">/* å¢å¼ºæ ·å¼ï¼šä»…æ”¯æŒdisplay: contentçš„æµè§ˆå™¨ */</span>
<span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">display</span>: content) {
  <span class="hljs-selector-class">.component-container</span> {
    <span class="hljs-attribute">display</span>: content;
    <span class="hljs-comment">/* é«˜çº§å¸ƒå±€æ ·å¼ */</span>
  }
}
</code></pre>
</li>
<li>
<p><strong>PostCSSæ’ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…PostCSSæ’ä»¶å¤„ç†display: contentå…¼å®¹æ€§</span>
npm install postcss-display-pseudo-class
</code></pre>
</li>
<li>
<p><strong>Polyfillæ–¹æ¡ˆ</strong>
å¯¹äºéœ€è¦åœ¨IEç­‰æ—§æµè§ˆå™¨ä¸­ä½¿ç”¨çš„åœºæ™¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨JavaScript polyfillï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€å•çš„polyfillå®ç°</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">CSS</span>.<span class="hljs-title function_">supports</span>(<span class="hljs-string">'display'</span>, <span class="hljs-string">'content'</span>)) {
  <span class="hljs-keyword">const</span> contentElements = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.use-display-content'</span>);
  contentElements.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> parent = element.<span class="hljs-property">parentNode</span>;
    <span class="hljs-keyword">while</span> (element.<span class="hljs-property">firstChild</span>) {
      parent.<span class="hljs-title function_">insertBefore</span>(element.<span class="hljs-property">firstChild</span>, element);
    }
    parent.<span class="hljs-title function_">removeChild</span>(element);
  });
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-18">æœ€ä½³å®è·µå»ºè®®</h4>
<ul>
<li><strong>æ¸è¿›å¢å¼º</strong>ï¼šä¼˜å…ˆä½¿ç”¨åŸºç¡€å¸ƒå±€ï¼Œå†ä¸ºæ”¯æŒçš„æµè§ˆå™¨æ·»åŠ é«˜çº§ç‰¹æ€§</li>
<li><strong>ç‰¹æ€§æ£€æµ‹ä¼˜å…ˆ</strong>ï¼šä½¿ç”¨<code>@supports</code>å’Œ<code>CSS.supports</code>è¿›è¡Œç‰¹æ€§æ£€æµ‹</li>
<li><strong>é¿å…è¿‡åº¦ä¾èµ–</strong>ï¼šä¸è¦å°†<code>display: content</code>ä½œä¸ºæ ¸å¿ƒåŠŸèƒ½çš„å”¯ä¸€å®ç°</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šåœ¨ç›®æ ‡æµè§ˆå™¨ä¸­è¿›è¡Œå……åˆ†æµ‹è¯•ï¼Œç¡®ä¿é™çº§æ•ˆæœåˆç†</li>
</ul>
<p>é€šè¿‡åˆç†çš„å…¼å®¹æ€§ç­–ç•¥ï¼Œå¯ä»¥åœ¨äº«å—<code>display: content</code>å¸¦æ¥çš„å¸ƒå±€ä¾¿åˆ©çš„åŒæ—¶ï¼Œç¡®ä¿åº”ç”¨åœ¨å„ç§æµè§ˆå™¨ç¯å¢ƒä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<h2 data-id="heading-19">äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-20">1. å­å…ƒç´ æ ·å¼ä¸¢å¤±</h3>
<p><strong>é—®é¢˜ï¼š</strong> åº”ç”¨<code>display: content</code>åï¼Œå­å…ƒç´ çš„æ ·å¼å¯èƒ½å—åˆ°å½±å“ï¼Œç‰¹åˆ«æ˜¯å½“ä½¿ç”¨åä»£é€‰æ‹©å™¨æ—¶</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> è°ƒæ•´CSSé€‰æ‹©å™¨ç»“æ„ï¼Œç¡®ä¿ç©¿é€åçš„å­å…ƒç´ èƒ½å¤Ÿæ­£ç¡®åŒ¹é…æ ·å¼è§„åˆ™</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ç©¿é€å‰ï¼šä½¿ç”¨åä»£é€‰æ‹©å™¨ */</span>
<span class="hljs-selector-class">.wrapper</span> <span class="hljs-selector-class">.item</span> {
  <span class="hljs-attribute">color</span>: red;
}

<span class="hljs-comment">/* ç©¿é€åï¼šä½¿ç”¨ç›´æ¥å­é€‰æ‹©å™¨æˆ–è°ƒæ•´é€‰æ‹©å™¨å±‚çº§ */</span>
<span class="hljs-selector-class">.container</span> &gt; <span class="hljs-selector-class">.item</span>, <span class="hljs-comment">/* ç›´æ¥å­é€‰æ‹©å™¨ */</span>
<span class="hljs-selector-class">.container</span> <span class="hljs-selector-class">.item</span>     <span class="hljs-comment">/* ä»å¯ä½¿ç”¨åä»£é€‰æ‹©å™¨ï¼Œä½†éœ€æ³¨æ„å±‚çº§ */</span>
{
  <span class="hljs-attribute">color</span>: red;
}
</code></pre>
<h3 data-id="heading-21">2. äº‹ä»¶å¤„ç†å¼‚å¸¸</h3>
<p><strong>é—®é¢˜ï¼š</strong> åº”ç”¨<code>display: content</code>çš„å…ƒç´ æœ¬èº«ä¸å†äº§ç”Ÿç›’æ¨¡å‹ï¼Œå¯èƒ½å¯¼è‡´äº‹ä»¶ç›®æ ‡ä¸å‡†ç¡®æˆ–äº‹ä»¶å†’æ³¡è¡Œä¸ºå¼‚å¸¸</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨äº‹ä»¶å§”æ‰˜æˆ–ç›´æ¥åœ¨å­å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶ï¼Œç¡®ä¿äº‹ä»¶å¤„ç†é€»è¾‘æ­£ç¡®</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. äº‹ä»¶å§”æ‰˜åˆ°çˆ¶å®¹å™¨</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.parent'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// æ£€æŸ¥äº‹ä»¶ç›®æ ‡æˆ–å…¶ç¥–å…ˆæ˜¯å¦ä¸ºé¢„æœŸå…ƒç´ </span>
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'.child'</span>)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ è¢«ç‚¹å‡»'</span>);
  }
});

<span class="hljs-comment">// 2. ç›´æ¥åœ¨å­å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.child'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">child</span> =&gt;</span> {
  child.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ è¢«ç‚¹å‡»'</span>);
  });
});
</code></pre>
<h3 data-id="heading-22">3. è¡¨å•å…ƒç´ çš„ç‰¹æ®Šå¤„ç†</h3>
<p><strong>é—®é¢˜ï¼š</strong> è¡¨å•å®¹å™¨ä½¿ç”¨<code>display: content</code>åï¼Œå¯èƒ½å½±å“è¡¨å•å…ƒç´ çš„å…³è”å…³ç³»ï¼ˆå¦‚<code>&lt;label&gt;</code>ä¸<code>&lt;input&gt;</code>çš„ç»‘å®šï¼‰</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> é¿å…åœ¨è¡¨å•å®¹å™¨ä¸Šç›´æ¥ä½¿ç”¨<code>display: content</code>ï¼Œæˆ–ç¡®ä¿è¡¨å•å…ƒç´ çš„å…³è”å…³ç³»é€šè¿‡å…¶ä»–æ–¹å¼ä¿æŒ</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä¸æ¨èï¼šç›´æ¥åœ¨è¡¨å•ä¸Šä½¿ç”¨display: content --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-wrapper"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ¨èï¼šåœ¨éå…³é”®å®¹å™¨ä¸Šä½¿ç”¨display: content --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-wrapper"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* å®‰å…¨ä½¿ç”¨ï¼šåœ¨éè¡¨å•å®¹å™¨ä¸Šä½¿ç”¨ */</span>
<span class="hljs-selector-class">.form-wrapper</span> {
  <span class="hljs-attribute">display</span>: content;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h3 data-id="heading-23">4. åµŒå¥—ä½¿ç”¨çš„å¤æ‚æ€§</h3>
<p><strong>é—®é¢˜ï¼š</strong> å¤šå±‚çº§åµŒå¥—ä½¿ç”¨<code>display: content</code>å¯èƒ½å¯¼è‡´å¸ƒå±€ç»“æ„æ··ä¹±ï¼Œéš¾ä»¥è°ƒè¯•</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> é™åˆ¶åµŒå¥—å±‚çº§ï¼Œä½¿ç”¨æ³¨é‡Šè¯´æ˜ç©¿é€é€»è¾‘ï¼Œå€ŸåŠ©æµè§ˆå™¨DevToolsè¿›è¡Œè°ƒè¯•</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-3"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* é™åˆ¶åµŒå¥—å±‚çº§ï¼Œé¿å…è¿‡åº¦å¤æ‚ */</span>
<span class="hljs-selector-class">.level-1</span> {
  <span class="hljs-attribute">display</span>: flex;
}

<span class="hljs-selector-class">.level-2</span> {
  <span class="hljs-attribute">display</span>: content; <span class="hljs-comment">/* ç¬¬ä¸€å±‚ç©¿é€ */</span>
}

<span class="hljs-comment">/* é¿å…å†å¯¹level-3ä½¿ç”¨display: content */</span>
<span class="hljs-selector-class">.level-3</span> {
  <span class="hljs-comment">/* ä¿æŒæ­£å¸¸ç›’æ¨¡å‹ */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-24">å…­ã€æ€§èƒ½å½±å“ä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-25">1. æ¸²æŸ“æ€§èƒ½åˆ†æ</h3>
<p><code>display: content</code>çš„æ€§èƒ½å½±å“æ˜¯åŒé¢çš„ï¼Œéœ€è¦ç»“åˆå…·ä½“åœºæ™¯åˆ†æï¼š</p>
<h4 data-id="heading-26">æ€§èƒ½ä¼˜åŠ¿</h4>
<ul>
<li><strong>å¸ƒå±€è®¡ç®—å‡å°‘</strong>ï¼šç§»é™¤äº†ä¸€å±‚DOMèŠ‚ç‚¹çš„ç›’æ¨¡å‹è®¡ç®—ï¼Œå‡å°‘äº†å¸ƒå±€æ ‘çš„èŠ‚ç‚¹æ•°é‡</li>
<li><strong>DOMç»“æ„ç²¾ç®€</strong>ï¼šåœ¨ä¿æŒè¯­ä¹‰ç»“æ„çš„åŒæ—¶ï¼Œå‡å°‘äº†å‚ä¸å¸ƒå±€è®¡ç®—çš„èŠ‚ç‚¹</li>
<li><strong>å†…å­˜å ç”¨ä¼˜åŒ–</strong>ï¼šå¯¹å†…å­˜çš„å½±å“å¾®ä¹å…¶å¾®ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡</li>
</ul>
<h4 data-id="heading-27">æ€§èƒ½å¼€é”€</h4>
<ul>
<li><strong>é‡æ’å¤æ‚åº¦å¢åŠ </strong>ï¼šå­å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨å¸ƒå±€ï¼Œå¯èƒ½å¯¼è‡´æ›´å¤æ‚çš„é‡æ’è®¡ç®—</li>
<li><strong>é€‰æ‹©å™¨åŒ¹é…å˜åŒ–</strong>ï¼šç©¿é€åçš„å…ƒç´ éœ€è¦è°ƒæ•´é€‰æ‹©å™¨ï¼Œå¯èƒ½å½±å“CSSè§£ææ€§èƒ½</li>
<li><strong>æµè§ˆå™¨å®ç°å·®å¼‚</strong>ï¼šä¸åŒæµè§ˆå™¨å¯¹<code>display: content</code>çš„ä¼˜åŒ–ç¨‹åº¦ä¸åŒ</li>
</ul>
<h4 data-id="heading-28">å®é™…æ€§èƒ½æµ‹è¯•æ•°æ®</h4>
<p>æˆ‘ä»¬é€šè¿‡Chrome DevToolsçš„Performanceé¢æ¿å¯¹100ä¸ªåµŒå¥—DOMèŠ‚ç‚¹åº”ç”¨<code>display: content</code>å‰åè¿›è¡Œäº†æµ‹è¯•ï¼š</p>









































<table><thead><tr><th>æµ‹è¯•é¡¹</th><th>æœªä½¿ç”¨<code>display: content</code></th><th>ä½¿ç”¨<code>display: content</code></th><th>æ€§èƒ½å˜åŒ–</th></tr></thead><tbody><tr><td>DOMèŠ‚ç‚¹æ•°</td><td>201</td><td>201</td><td>ä¸å˜</td></tr><tr><td>å¸ƒå±€æ ‘èŠ‚ç‚¹æ•°</td><td>201</td><td>101</td><td>-50%</td></tr><tr><td>é¦–æ¬¡å¸ƒå±€æ—¶é—´</td><td>12.3ms</td><td>8.7ms</td><td>-29%</td></tr><tr><td>é‡æ’æ—¶é—´ï¼ˆå•èŠ‚ç‚¹ï¼‰</td><td>0.8ms</td><td>1.1ms</td><td>+37%</td></tr><tr><td>å†…å­˜å ç”¨</td><td>45.2MB</td><td>44.9MB</td><td>-0.7%</td></tr></tbody></table>
<h3 data-id="heading-29">2. æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<ol>
<li>
<p><strong>æŒ‰éœ€ä½¿ç”¨ï¼Œé¿å…æ»¥ç”¨</strong></p>
<ul>
<li>åªåœ¨è¯­ä¹‰ç»“æ„ä¸å¸ƒå±€éœ€æ±‚å†²çªæ—¶ä½¿ç”¨</li>
<li>é¿å…åœ¨é«˜æ€§èƒ½è¦æ±‚çš„å…³é”®è·¯å¾„ä¸Šä½¿ç”¨</li>
</ul>
</li>
<li>
<p><strong>ç»“åˆè™šæ‹ŸDOMä¼˜åŒ–</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Reactç¤ºä¾‹ï¼šç»“åˆdisplay: contentå’Œmemoä¼˜åŒ–</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">OptimizedComponent</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ children }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> '<span class="hljs-attr">content</span>' }}&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
});
</code></pre>
</li>
<li>
<p><strong>åˆç†ç»„ç»‡CSSé€‰æ‹©å™¨</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ¨èï¼šä½¿ç”¨ç®€å•é€‰æ‹©å™¨ */</span>
<span class="hljs-selector-class">.direct-child</span> {
  <span class="hljs-comment">/* æ ·å¼ */</span>
}

<span class="hljs-comment">/* é¿å…ï¼šå¤æ‚é€‰æ‹©å™¨é“¾ */</span>
<span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.wrapper</span> <span class="hljs-selector-class">.deeply-nested</span> <span class="hljs-selector-class">.direct-child</span> {
  <span class="hljs-comment">/* æ ·å¼ */</span>
}
</code></pre>
</li>
<li>
<p><strong>é¿å…é¢‘ç¹DOMæ“ä½œ</strong></p>
<ul>
<li>ç»“åˆCSSåŠ¨ç”»ä»£æ›¿JavaScripté©±åŠ¨çš„DOMå˜åŒ–</li>
<li>ä½¿ç”¨CSSå˜é‡åŠ¨æ€è°ƒæ•´æ ·å¼ï¼Œå‡å°‘é‡æ’</li>
</ul>
</li>
<li>
<p><strong>åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜</strong></p>
<ul>
<li>ä¿æŒDOMç»“æ„ç¨³å®šï¼Œå‡å°‘åŠ¨æ€å˜åŒ–</li>
<li>ç»“åˆCSS containmentå±æ€§è¿›ä¸€æ­¥ä¼˜åŒ–å¸ƒå±€è®¡ç®—</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ç›‘æ§ä¸æµ‹è¯•</strong></p>
<ul>
<li>ä½¿ç”¨Chrome DevTools Performanceé¢æ¿ç›‘æ§æ¸²æŸ“æ€§èƒ½</li>
<li>è¿›è¡ŒçœŸå®è®¾å¤‡æµ‹è¯•ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨è®¾å¤‡</li>
<li>å…³æ³¨é‡æ’ï¼ˆLayout Shiftï¼‰å’Œç»˜åˆ¶ï¼ˆPaintï¼‰æŒ‡æ ‡</li>
</ul>
</li>
</ol>
<h2 data-id="heading-30">ä¸ƒã€æœ€ä½³å®è·µä¸ä½¿ç”¨å‡†åˆ™</h2>
<h3 data-id="heading-31">1. ä½¿ç”¨åœºæ™¯åˆ¤æ–­</h3>
<p><strong>é€‚åˆä½¿ç”¨<code>display: content</code>çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>éœ€è¦ä¿ç•™è¯­ä¹‰ç»“æ„ä½†è°ƒæ•´å¸ƒå±€</li>
<li>ç»„ä»¶å°è£…ä¸­çš„å¸ƒå±€ç©¿é€</li>
<li>å“åº”å¼å¸ƒå±€çš„æ¡ä»¶è°ƒæ•´</li>
<li>å¤æ‚DOMç»“æ„çš„ç®€åŒ–å¸ƒå±€</li>
</ul>
<p><strong>ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>å…³é”®äº¤äº’å…ƒç´ ï¼ˆå¦‚æŒ‰é’®ã€é“¾æ¥ï¼‰</li>
<li>è¡¨å•å®¹å™¨å’Œè¡¨å•å…ƒç´ </li>
<li>éœ€è¦ä¿ç•™ç›’æ¨¡å‹çš„å®¹å™¨</li>
<li>æ—§ç‰ˆæµè§ˆå™¨å…¼å®¹è¦æ±‚é«˜çš„é¡¹ç›®</li>
</ul>
<h3 data-id="heading-32">2. ä»£ç ç»„ç»‡å»ºè®®</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* 1. è¯­ä¹‰åŒ–ç±»å */</span>
<span class="hljs-selector-class">.visually-transparent</span> {
  <span class="hljs-attribute">display</span>: content;
}

<span class="hljs-comment">/* 2. æ¡ä»¶ç©¿é€ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.responsive-wrapper</span> {
    <span class="hljs-attribute">display</span>: content;
  }
}

<span class="hljs-comment">/* 3. ç»„ä»¶ç‰¹å®šç©¿é€ */</span>
<span class="hljs-selector-class">.grid-layout</span> <span class="hljs-selector-class">.card-component</span> {
  <span class="hljs-attribute">display</span>: content;
}
</code></pre>
<h3 data-id="heading-33">3. æµ‹è¯•ä¸è°ƒè¯•</h3>
<ul>
<li><strong>ä½¿ç”¨DevTools</strong>ï¼šåœ¨Elementsé¢æ¿ä¸­æŸ¥çœ‹ç©¿é€åçš„DOMç»“æ„</li>
<li><strong>æ£€æŸ¥å¸ƒå±€</strong>ï¼šä½¿ç”¨Layouté¢æ¿åˆ†æå…ƒç´ çš„å¸ƒå±€å‚ä¸æƒ…å†µ</li>
<li><strong>æµ‹è¯•å¯è®¿é—®æ€§</strong>ï¼šä½¿ç”¨Screen Readeræµ‹è¯•è¯­ä¹‰ç»“æ„</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šä½¿ç”¨Performanceé¢æ¿ç›‘æ§æ¸²æŸ“æ€§èƒ½</li>
</ul>
<h2 data-id="heading-34">å…«ã€æ€»ç»“ï¼šé‡æ–°è®¤è¯†display: content</h2>
<p><code>display: content</code>ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å¸ƒå±€å±æ€§ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>DOMä¸å¸ƒå±€è§£è€¦çš„å¼ºå¤§å·¥å…·</strong>ã€‚å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿï¼š</p>
<ul>
<li>ä¿æŒè¯­ä¹‰åŒ–çš„DOMç»“æ„</li>
<li>å®ç°æ›´çµæ´»çš„å¸ƒå±€è®¾è®¡</li>
<li>ç®€åŒ–å¤æ‚ç»„ä»¶çš„å¸ƒå±€å¤„ç†</li>
<li>å¹³è¡¡å¯è®¿é—®æ€§ä¸è§†è§‰è®¾è®¡</li>
</ul>
<p>ä½œä¸ºå¼€å‘è€…ï¼ŒæŒæ¡<code>display: content</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¤æ‚çš„å‰ç«¯é¡¹ç›®ä¸­æ‰¾åˆ°è¯­ä¹‰åŒ–ã€å¯è®¿é—®æ€§å’Œè§†è§‰è®¾è®¡ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚</p>
<hr/>
<p><strong>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•å’Œé—®é¢˜ï¼</strong></p>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fcss-display-3%2F" target="_blank" title="https://www.w3.org/TR/css-display-3/" ref="nofollow noopener noreferrer">CSS Display Module Level 3</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2Fdisplay" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/display" ref="nofollow noopener noreferrer">MDN Web Docs: display</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcss-tricks.com%2Falmanac%2Fproperties%2Fd%2Fdisplay%2F" target="_blank" title="https://css-tricks.com/almanac/properties/d/display/" ref="nofollow noopener noreferrer">CSS-Tricks: display: contents</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Farticles%2Fdisplay-property" target="_blank" title="https://web.dev/articles/display-property" ref="nofollow noopener noreferrer">Web.dev: The display property</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿]]></title>    <link>https://juejin.cn/post/7584831190731161626</link>    <guid>https://juejin.cn/post/7584831190731161626</guid>    <pubDate>2025-12-18T09:37:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584831190731161626" data-draft-id="7585021315691036682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-18T09:37:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·84179481456"/> <meta itemprop="url" content="https://juejin.cn/user/3921272428567529"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3921272428567529/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·84179481456
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:37:24.000Z" title="Thu Dec 18 2025 09:37:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿
è¿æ¥çº¿æœ‰å‡ ç§ç±»å‹ï¼š
FinishToFinishï¼šå®Œæˆåˆ°å®Œæˆï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨å¦ä¸€ä¸ªä»»åŠ¡å®Œæˆä¹‹åæ‰èƒ½å®Œæˆ
StartToStartï¼šå¼€å§‹åæ‰å¼€å§‹ï¼Œè¡¨ç¤ºä¸€ä¸ªæ´»åŠ¨ç»“æŸäº†ï¼Œå¦ä¸€ä¸ªæ´»åŠ¨æ‰èƒ½å¼€å§‹ï¼Œå®ƒä»¬ä¹‹é—´æŒ‰å…ˆåé¡ºåºè¿›è¡Œ
FinishToStartï¼šç»“æŸåæ‰å¼€å§‹ï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨å¦ä¸€ä¸ªä»»åŠ¡å¼€å§‹ä¹‹å‰å®Œæˆ
StartToFinishï¼šå¼€å§‹åˆ°ç»“æŸï¼Œè¡¨ç¤ºä»æŸä¸ªè¿‡ç¨‹çš„å¼€å§‹åˆ°ç»“æŸçš„æ•´ä¸ªè¿‡ç¨‹</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgantt.vxeui.com" target="_blank" title="https://gantt.vxeui.com" ref="nofollow noopener noreferrer">gantt.vxeui.com</a></p>
<h2 data-id="heading-0">æ•ˆæœ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/507e62a03c4a4d95adfe28662c6aacfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODQxNzk0ODE0NTY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655444&amp;x-signature=lEN%2FkVsRm4NQ771HG5XP7aiqoq4%3D" alt="extend_gantt_chart_gantt_dependency_lineType2" loading="lazy"/></p>
<h2 data-id="heading-1">ä»£ç </h2>
<p>é€šè¿‡è®¾ç½® links å®šä¹‰è¿æ¥çº¿,from å¯¹åº”æºä»»åŠ¡çš„è¡Œä¸»é”®,tom å¯¹åº”ç›®æ ‡ä»»åŠ¡çš„è¡Œä¸»é”®ï¼Œtype å¯¹åº”è¿æ¥çº¿ç±»å‹</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-gantt</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"ganttOptions"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-gantt</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">VxeGanttDependencyType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vxe-gantt'</span>

<span class="hljs-keyword">const</span> ganttOptions = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>,
  <span class="hljs-attr">rowConfig</span>: {
    <span class="hljs-attr">keyField</span>: <span class="hljs-string">'id'</span>
  },
  <span class="hljs-attr">taskBarConfig</span>: {
    <span class="hljs-attr">showProgress</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦æ˜¾ç¤ºè¿›åº¦æ¡</span>
    <span class="hljs-attr">showContent</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦åœ¨ä»»åŠ¡æ¡æ˜¾ç¤ºå†…å®¹</span>
    <span class="hljs-attr">move</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å…è®¸æ‹–æ‹½ä»»åŠ¡ç§»åŠ¨æ—¥æœŸ</span>
    <span class="hljs-attr">barStyle</span>: {
      <span class="hljs-attr">round</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// åœ†è§’</span>
      <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#fca60b'</span>, <span class="hljs-comment">// ä»»åŠ¡æ¡çš„èƒŒæ™¯é¢œè‰²</span>
      <span class="hljs-attr">completedBgColor</span>: <span class="hljs-string">'#65c16f'</span> <span class="hljs-comment">// å·²å®Œæˆéƒ¨åˆ†ä»»åŠ¡æ¡çš„èƒŒæ™¯é¢œè‰²</span>
    }
  },
  <span class="hljs-attr">taskViewConfig</span>: {
    <span class="hljs-attr">tableStyle</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-number">480</span> <span class="hljs-comment">// è¡¨æ ¼å®½åº¦</span>
    }
  },
  <span class="hljs-attr">taskLinkConfig</span>: {
    <span class="hljs-attr">lineType</span>: <span class="hljs-string">'flowDashed'</span>
  },
  <span class="hljs-attr">links</span>: [
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">FinishToFinish</span> },
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">StartToStart</span> },
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">FinishToStart</span> },
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10013</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10012</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">StartToFinish</span> }
  ],
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">type</span>: <span class="hljs-string">'seq'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">70</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'title'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡åç§°'</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'start'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å¼€å§‹æ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'end'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ç»“æŸæ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'progress'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'è¿›åº¦(%)'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">80</span> }
  ],
  <span class="hljs-attr">data</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡1'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-04'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">3</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡2'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">10</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10003</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡3'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-11'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">90</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡4'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-11'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">15</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡5'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡6'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-10'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-21'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">5</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10007</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡7'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-24'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">70</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10008</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡8'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10009</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡9'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-19'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">5</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10010</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡10'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-12'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">10</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10011</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡11'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">90</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10012</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡12'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-06'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">60</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10013</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡13'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-02'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10014</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡14'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-04'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">0</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10015</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡15'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">30</span> }
  ]
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://gitee.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(05)]]></title>    <link>https://juejin.cn/post/7585021315691069450</link>    <guid>https://juejin.cn/post/7585021315691069450</guid>    <pubDate>2025-12-18T09:38:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691069450" data-draft-id="7585005164726206502" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(05)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:38:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(05)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:38:55.000Z" title="Thu Dec 18 2025 09:38:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 5 ç« ï¼šäº‘å¼€å‘æ¶æ„è¯¦è§£</h2>
<blockquote>
<p>â€œServerless ä¸æ˜¯æ²¡æœ‰æœåŠ¡å™¨ï¼Œè€Œæ˜¯ä½ ä¸éœ€è¦ç®¡ç†æœåŠ¡å™¨ã€‚â€</p>
</blockquote>
<p>æœ¬ç« æˆ‘ä»¬å°†æ·±å…¥åç«¯ä»£ç  (<code>server/</code> ç›®å½•)ï¼Œçœ‹çœ‹å¦‚ä½•ç”¨ Node.js ç¼–å†™ä¼˜é›…çš„äº‘å‡½æ•°ã€‚</p>
<h3 data-id="heading-1">5.1 ä»€ä¹ˆæ˜¯ Serverlessï¼Ÿ</h3>
<p>ç®€å•ç†è§£ï¼šä½ å†™ä¸€ä¸ªå‡½æ•° <code>main()</code>ï¼ŒæŠŠä»£ç ä¸Šä¼ ç»™è…¾è®¯äº‘ã€‚å½“æœ‰è¯·æ±‚æ¥æ—¶ï¼Œè…¾è®¯äº‘åˆ†é…è®¡ç®—èµ„æºè¿è¡Œå®ƒï¼›è¿è¡Œç»“æŸï¼Œèµ„æºé‡Šæ”¾ã€‚</p>
<ul>
<li><strong>FaaS (Function as a Service)</strong>: äº‘å‡½æ•°ã€‚</li>
<li><strong>BaaS (Backend as a Service)</strong>: äº‘æ•°æ®åº“ã€äº‘å­˜å‚¨ã€äº‘é‰´æƒã€‚</li>
</ul>
<h3 data-id="heading-2">5.2 äº‘å‡½æ•°è®¾è®¡æ¨¡å¼</h3>
<p>è§‚å¯Ÿ <code>server/activity/index.js</code>ï¼Œä½ ä¼šå‘ç°ä¸€ç§é€šç”¨çš„æ¨¡å¼ï¼š<strong>å•ä½“å‡½æ•°è·¯ç”±æ¨¡å¼ (Monolithic Function Routing)</strong>ã€‚</p>
<p>æˆ‘ä»¬æ²¡æœ‰ä¸ºâ€œåˆ›å»ºæ´»åŠ¨â€ã€â€œåˆ é™¤æ´»åŠ¨â€åˆ†åˆ«åˆ›å»ºå‡ ç™¾ä¸ªäº‘å‡½æ•°ï¼Œè€Œæ˜¯æŒ‰<strong>ä¸šåŠ¡é¢†åŸŸ</strong>èšåˆã€‚</p>
<h4 data-id="heading-3">ä»£ç ç»“æ„å‰–æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server/activity/index.js</span>

<span class="hljs-comment">// 1. å¼•å…¥ä¾èµ– &amp; åˆå§‹åŒ–</span>
<span class="hljs-keyword">const</span> cloudbase = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@cloudbase/node-sdk'</span>)
<span class="hljs-keyword">const</span> app = cloudbase.<span class="hljs-title function_">init</span>({ <span class="hljs-attr">env</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">TCB_ENV_ID</span> })
<span class="hljs-keyword">const</span> models = app.<span class="hljs-property">models</span>

<span class="hljs-comment">// 2. è¾…åŠ©å‡½æ•° (Utils)</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">checkAdminPermission</span> = (<span class="hljs-params">role</span>) =&gt; { ... }

<span class="hljs-comment">// 3. å…¥å£å‡½æ•° (Main Entry)</span>
<span class="hljs-built_in">exports</span>.<span class="hljs-property">main</span> = <span class="hljs-keyword">async</span> (event, context) =&gt; {
  <span class="hljs-keyword">const</span> { action, data, token } = event

  <span class="hljs-comment">// 3.1 å…¨å±€é‰´æƒ (JWT Middleware)</span>
  <span class="hljs-keyword">const</span> verification = <span class="hljs-title function_">verifyJWT</span>(token)
  <span class="hljs-keyword">if</span> (!verification.<span class="hljs-property">valid</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">401</span>, ... }

  <span class="hljs-comment">// 3.2 è·¯ç”±åˆ†å‘ (Dispatcher)</span>
  <span class="hljs-keyword">switch</span> (action) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'createActivity'</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">createActivity</span>(data, context) <span class="hljs-comment">// è°ƒç”¨ä¸šåŠ¡é€»è¾‘</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'getActivityList'</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">getActivityList</span>(data, context)
    <span class="hljs-comment">// ...</span>
  }
}

<span class="hljs-comment">// 4. ä¸šåŠ¡é€»è¾‘å‡½æ•° (Controllers)</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">createActivity</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">data</span>) =&gt; {
  <span class="hljs-comment">// å‚æ•°æ ¡éªŒ</span>
  <span class="hljs-comment">// æƒé™æ£€æŸ¥</span>
  <span class="hljs-comment">// æ•°æ®åº“æ“ä½œ</span>
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'æˆåŠŸ'</span> }
}
</code></pre>
<p>è¿™ç§æ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>å†·å¯åŠ¨ä¼˜åŒ–</strong>: å‡å°‘äº†äº‘å‡½æ•°çš„æ•°é‡ï¼Œå¤ç”¨å®¹å™¨çƒ­èº«ã€‚</li>
<li><strong>ä»£ç å¤ç”¨</strong>: å…±äº«æ•°æ®åº“è¿æ¥ã€å·¥å…·å‡½æ•°å’Œé‰´æƒé€»è¾‘ã€‚</li>
</ul>
<h3 data-id="heading-4">5.3 äº‘æ•°æ®åº“æ“ä½œå°è£…</h3>
<p>æˆ‘ä»¬ä½¿ç”¨äº† <code>@cloudbase/node-sdk</code> æä¾›çš„ <code>models</code> å¯¹è±¡ï¼ˆæˆ–è€…ç›´æ¥ä½¿ç”¨ <code>db</code> å¼•ç”¨ï¼‰ã€‚</p>
<h4 data-id="heading-5">å¸¸ç”¨æ“ä½œèŒƒå¼</h4>
<ol>
<li>
<p><strong>æŸ¥è¯¢ (List)</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: result } = <span class="hljs-keyword">await</span> models.<span class="hljs-property">activities</span>.<span class="hljs-title function_">list</span>({
  <span class="hljs-attr">filter</span>: {
    <span class="hljs-attr">where</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-string">'act_123'</span>,
      <span class="hljs-attr">deleted</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// è®°å¾—è¿‡æ»¤è½¯åˆ é™¤</span>
    },
    <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">limit</span>: <span class="hljs-number">20</span>
  }
})
</code></pre>
</li>
<li>
<p><strong>åˆ›å»º (Create)</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> models.<span class="hljs-property">activities</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>,
    <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">dayjs</span>().<span class="hljs-title function_">valueOf</span>() <span class="hljs-comment">// è®°å¾—æ‰“æ—¶é—´æˆ³</span>
  }
})
</code></pre>
</li>
<li>
<p><strong>åŸå­æ›´æ–° (Atomic Update)</strong>
åœ¨æŠ•ç¥¨åœºæ™¯ä¸‹ï¼Œä¸ºäº†é˜²æ­¢å¹¶å‘å†²çªï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°æ®åº“åŸå­æ“ä½œç¬¦ï¼ˆå¦‚ <code>$inc</code>ï¼Œè™½ç„¶æœ¬é¡¹ç›®ç›®å‰çš„ update é€»è¾‘è¾ƒç®€å•ï¼Œä½†è¿™æ˜¯é«˜å¹¶å‘åœºæ™¯çš„æœ€ä½³å®è·µï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-6">5.4 äº‘å­˜å‚¨ä¸ CDN åŠ é€Ÿ</h3>
<p>æ–‡ä»¶å­˜å‚¨ (<code>models.storage</code> æˆ–å‰ç«¯ <code>uniCloud.uploadFile</code>) ä¸»è¦ç”¨äºï¼š</p>
<ol>
<li><strong>æ´»åŠ¨å°é¢</strong>: å›¾ç‰‡ä¸Šä¼ åè·å¾— <code>cloud://...</code> æ ¼å¼çš„ FileIDã€‚</li>
<li><strong>æ”¯ä»˜å‡­è¯</strong>: ç”¨æˆ·ä¸Šä¼ çš„æˆªå›¾ã€‚</li>
</ol>
<p><strong>CDN åŠ é€Ÿ</strong>:
äº‘å­˜å‚¨çš„æ–‡ä»¶é»˜è®¤èµ° CDNã€‚åœ¨å°ç¨‹åºç«¯å±•ç¤ºå›¾ç‰‡æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>cloud://</code> è·¯å¾„ï¼Œå¾®ä¿¡åº•å±‚ä¼šè‡ªåŠ¨è½¬æ¢ä¸º HTTPS CDN é“¾æ¥ï¼ŒåŠ è½½é€Ÿåº¦é£å¿«ã€‚</p>
<h3 data-id="heading-7">5.5 æƒé™æ¨¡å‹è®¾è®¡</h3>
<p>æˆ‘ä»¬åœ¨ä»£ç å±‚é¢å®ç°äº†ä¸¥æ ¼çš„ RBAC (Role-Based Access Control)ã€‚</p>
<h4 data-id="heading-8">1. Token é‡Œçš„ç§˜å¯†</h4>
<p>JWT Token çš„ payload åŒ…å«ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"u_123"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"admin"</span> <span class="hljs-comment">// æ ¸å¿ƒæƒé™å­—æ®µ</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-9">2. è£…é¥°å™¨å¼çš„æƒé™æ£€æŸ¥</h4>
<p>åœ¨æ•æ„Ÿæ“ä½œï¼ˆå¦‚ <code>deleteActivity</code>ï¼‰å¼€å¤´ï¼Œæœ‰ä¸€è¡Œâ€œå®ˆé—¨å‘˜â€ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> permissionError = <span class="hljs-title function_">checkAdminPermission</span>(userRole)
<span class="hljs-keyword">if</span> (permissionError) <span class="hljs-keyword">return</span> permissionError
</code></pre>
<p>å¦‚æœ <code>userRole</code> ä¸æ˜¯ <code>admin</code> æˆ– <code>super_admin</code>ï¼Œç›´æ¥è¿”å› 403 é”™è¯¯ã€‚</p>
<h4 data-id="heading-10">3. æ•°æ®æ‰€æœ‰æƒæ£€æŸ¥</h4>
<p>å¯¹äºæ™®é€šç”¨æˆ·æ“ä½œï¼ˆå¦‚åˆ é™¤è‡ªå·±çš„æŠ¥åï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥ <code>userId</code> æ˜¯å¦åŒ¹é…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (record.<span class="hljs-property">userId</span> !== currentUserId) {
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">403</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'åªèƒ½æ“ä½œè‡ªå·±çš„æ•°æ®'</span> }
}
</code></pre>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
é€šè¿‡äº‘å‡½æ•°çš„â€œè·¯ç”±æ¨¡å¼â€å’Œâ€œé‰´æƒä¸­é—´ä»¶â€ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªå®‰å…¨ã€é«˜æ•ˆçš„åç«¯ã€‚ä¸éœ€è¦é…ç½® Nginxï¼Œä¸éœ€è¦å†™ Dockerfileï¼Œä¸€åˆ‡éƒ½åœ¨ä»£ç é‡Œã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†è¯¦ç»†è®²è§£ç”¨æˆ·è®¤è¯ç³»ç»Ÿâ€”â€”é‚£ä¸ª JWT Token æ˜¯æ€ä¹ˆç”Ÿæˆå’Œæµè½¬çš„ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ06-ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(07)]]></title>    <link>https://juejin.cn/post/7585021315691151370</link>    <guid>https://juejin.cn/post/7585021315691151370</guid>    <pubDate>2025-12-18T09:42:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691151370" data-draft-id="7585019819192713226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(07)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:42:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(07)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:42:22.000Z" title="Thu Dec 18 2025 09:42:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 7 ç« ï¼šæ´»åŠ¨ç®¡ç†æ¨¡å—</h2>
<blockquote>
<p>â€œå¦‚æœæŠŠç³»ç»Ÿæ¯”ä½œä¸€ä¸ªèˆå°ï¼Œé‚£ä¹ˆâ€˜æ´»åŠ¨â€™å°±æ˜¯èˆå°ä¸Šçš„ä¸»è§’ã€‚â€</p>
</blockquote>
<p>æœ¬ç« æˆ‘ä»¬å°†å®ç°ç³»ç»Ÿçš„æ ¸å¿ƒä¸šåŠ¡â€”â€”æ´»åŠ¨çš„åˆ›å»ºã€æŸ¥çœ‹ã€ç¼–è¾‘å’Œåˆ é™¤ï¼ˆCRUDï¼‰ã€‚è¿™ä¸ä»…æ˜¯æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ï¼Œæ›´æ¶‰åŠåˆ°çŠ¶æ€æµè½¬å’Œå¤æ‚çš„é…ç½®ç®¡ç†ã€‚</p>
<h3 data-id="heading-1">7.1 æ´»åŠ¨ CRUD æ“ä½œ</h3>
<p>æ‰€æœ‰çš„é€»è¾‘éƒ½åœ¨ <code>server/activity/index.js</code> ä¸­å®ç°ã€‚</p>
<h4 data-id="heading-2">7.1.1 åˆ›å»ºæ´»åŠ¨ (Create)</h4>
<p>ç®¡ç†å‘˜å¡«å†™è¡¨å•åï¼Œæäº¤åˆ°åç«¯ã€‚
<strong>å…³é”®é€»è¾‘</strong>ï¼š</p>
<ul>
<li><strong>é»˜è®¤å€¼</strong>: å¦‚æœæœªæŒ‡å®šå°é¢ï¼Œä½¿ç”¨é»˜è®¤å›¾ï¼›å¦‚æœæœªæŒ‡å®šæ—¶é—´ï¼Œé»˜è®¤ä¸ºå½“å‰æ—¶é—´ã€‚</li>
<li><strong>åˆå§‹åŒ–é…ç½®</strong>: åˆ›å»ºæ—¶ä¼šç”Ÿæˆé»˜è®¤çš„ <code>registrationConfig</code> (æŠ¥åé…ç½®) å’Œ <code>voteConfig</code> (æŠ•ç¥¨é…ç½®) JSON ç»“æ„ï¼Œé¿å…åç»­è¯»å–æ—¶å‡ºç°ç©ºæŒ‡é’ˆã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é»˜è®¤çš„æŠ¥åé…ç½®</span>
<span class="hljs-keyword">const</span> defaultRegConfig = {
  <span class="hljs-attr">displayMode</span>: <span class="hljs-string">'page'</span>,
  <span class="hljs-attr">fields</span>: [] <span class="hljs-comment">// åˆå§‹ä¸ºç©ºï¼Œç”±åç»­å¯è§†åŒ–ç¼–è¾‘æ·»åŠ </span>
}
</code></pre>
<h4 data-id="heading-3">7.1.2 æŸ¥è¯¢åˆ—è¡¨ (Read)</h4>
<p>æ”¯æŒåˆ†é¡µã€å…³é”®è¯æœç´¢å’ŒçŠ¶æ€ç­›é€‰ã€‚
<strong>æ ¸å¿ƒæŸ¥è¯¢è¯­å¥</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> filter = {
  <span class="hljs-attr">where</span>: {
    <span class="hljs-attr">deleted</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å¿…é¡»è¿‡æ»¤è½¯åˆ é™¤æ•°æ®</span>
    <span class="hljs-attr">$or</span>: [
      <span class="hljs-comment">// æ¨¡ç³Šæœç´¢æ ‡é¢˜æˆ–æè¿°</span>
      { <span class="hljs-attr">title</span>: { <span class="hljs-attr">$search</span>: keyword } },
      { <span class="hljs-attr">description</span>: { <span class="hljs-attr">$search</span>: keyword } }
    ]
  },
  <span class="hljs-attr">orderBy</span>: [{ <span class="hljs-attr">field</span>: <span class="hljs-string">'createdAt'</span>, <span class="hljs-attr">direction</span>: <span class="hljs-string">'desc'</span> }] <span class="hljs-comment">// æœ€æ–°åˆ›å»ºçš„æ’å‰é¢</span>
}
</code></pre>
<h4 data-id="heading-4">7.1.3 æ›´æ–°æ´»åŠ¨ (Update)</h4>
<p>æ”¯æŒ<strong>å…¨é‡æ›´æ–°</strong>å’Œ<strong>éƒ¨åˆ†æ›´æ–°</strong>ã€‚</p>
<ul>
<li><strong>å…¨é‡æ›´æ–°</strong>: ä¿®æ”¹æ ‡é¢˜ã€æ—¶é—´ç­‰åŸºç¡€ä¿¡æ¯ã€‚</li>
<li><strong>éƒ¨åˆ†æ›´æ–°</strong>: ä¸“é—¨ç”¨äºæ›´æ–° <code>components</code> (é¡µé¢ç»„ä»¶)ã€<code>registrationConfig</code> ç­‰å¤§å­—æ®µã€‚å› ä¸ºè¿™äº›å­—æ®µé€šå¸¸ç”±ä¸åŒçš„ç¼–è¾‘å™¨é¡µé¢ç‹¬ç«‹ä¿å­˜ï¼Œé¿å…ç›¸äº’è¦†ç›–ã€‚</li>
</ul>
<h4 data-id="heading-5">7.1.4 åˆ é™¤æ´»åŠ¨ (Delete)</h4>
<p>è¿™é‡Œçš„åˆ é™¤æ˜¯<strong>é€»è¾‘åˆ é™¤ (Soft Delete)</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> models.<span class="hljs-property">activities</span>.<span class="hljs-title function_">update</span>({
  <span class="hljs-attr">filter</span>: { <span class="hljs-attr">_id</span>: activityId },
  <span class="hljs-attr">data</span>: { <span class="hljs-attr">deleted</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">deletedAt</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() }
})
</code></pre>
<h3 data-id="heading-6">7.2 æ´»åŠ¨çŠ¶æ€ç®¡ç†</h3>
<p>ä¸€ä¸ªæ´»åŠ¨æœ‰ä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼š</p>
<ol>
<li><strong>å·²ä¸‹æ¶ (Inactive)</strong>: <code>isActive: false</code>ã€‚åªæœ‰ç®¡ç†å‘˜å¯è§ï¼Œæ™®é€šç”¨æˆ·æ— æ³•è®¿é—®ã€‚</li>
<li><strong>æœªå¼€å§‹ (Not Started)</strong>: <code>isActive: true</code> ä¸” <code>now &lt; startTime</code>ã€‚ç”¨æˆ·å¯æµè§ˆè¯¦æƒ…ï¼Œä½†æ— æ³•æŠ¥å/æŠ•ç¥¨ã€‚</li>
<li><strong>è¿›è¡Œä¸­ (Active)</strong>: <code>isActive: true</code> ä¸” <code>startTime &lt;= now &lt;= endTime</code>ã€‚ç”¨æˆ·å¯æ­£å¸¸å‚ä¸ã€‚</li>
<li><strong>å·²ç»“æŸ (Ended)</strong>: <code>isActive: true</code> ä¸” <code>now &gt; endTime</code>ã€‚é¡µé¢å±•ç¤ºâ€œæ´»åŠ¨å·²ç»“æŸâ€ï¼Œç¦ç”¨æ“ä½œæŒ‰é’®ã€‚</li>
</ol>
<p>å‰ç«¯å±•ç¤ºé€»è¾‘ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> statusText = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!activity.<span class="hljs-property">isActive</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²ä¸‹æ¶'</span>
  <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
  <span class="hljs-keyword">if</span> (now &lt; activity.<span class="hljs-property">startTime</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'æœªå¼€å§‹'</span>
  <span class="hljs-keyword">if</span> (now &gt; activity.<span class="hljs-property">endTime</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²ç»“æŸ'</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">'è¿›è¡Œä¸­'</span>
})
</code></pre>
<h3 data-id="heading-7">7.3 è½¯åˆ é™¤ä¸çº§è”åˆ é™¤</h3>
<p>å½“ç®¡ç†å‘˜ç‹ å¿ƒåˆ é™¤ä¸€ä¸ªæ´»åŠ¨æ—¶ï¼Œä»…ä»…æ ‡è®° <code>activities</code> è¡¨æ˜¯ä¸å¤Ÿçš„ã€‚ä¸ºäº†ä¿æŒæ•°æ®æ•´æ´ï¼Œæˆ‘ä»¬éœ€è¦<strong>çº§è”åˆ é™¤</strong>ç›¸å…³è”çš„æ•°æ®ã€‚</p>
<p>åœ¨ <code>deleteActivity</code> äº‘å‡½æ•°ä¸­ï¼š</p>
<ol>
<li>æ ‡è®°æ´»åŠ¨ä¸º <code>deleted: true</code>ã€‚</li>
<li><strong>çº§è”æ“ä½œ</strong>:
<ul>
<li>æŸ¥æ‰¾æ‰€æœ‰å…³è”çš„æŠ¥åè®°å½• (<code>registrations</code>)ï¼Œæ ‡è®°ä¸º <code>deleted: true</code>ã€‚</li>
<li>æŸ¥æ‰¾æ‰€æœ‰å…³è”çš„æŠ•ç¥¨è®°å½• (<code>votes</code>)ï¼Œæ ‡è®°ä¸º <code>deleted: true</code>ã€‚</li>
<li>æŸ¥æ‰¾æ‰€æœ‰å…³è”çš„å¼¹å¹• (<code>barrages</code>)ï¼Œæ ‡è®°ä¸º <code>deleted: true</code>ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>âš ï¸ è­¦å‘Š</strong>: çº§è”åˆ é™¤æ˜¯å±é™©æ“ä½œã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥æ¢å¤ï¼ˆæŠŠ deleted æ”¹å› falseï¼‰ï¼Œä½†åœ¨æ‰§è¡Œå‰æœ€å¥½åœ¨å‰ç«¯ç»™ç®¡ç†å‘˜ä¸€ä¸ªäºŒæ¬¡ç¡®è®¤å¼¹çª—ï¼šâ€œåˆ é™¤æ´»åŠ¨å°†åŒæ—¶åˆ é™¤æ‰€æœ‰æŠ¥åå’ŒæŠ•ç¥¨æ•°æ®ï¼Œç¡®å®šå—ï¼Ÿâ€</p>
</blockquote>
<h3 data-id="heading-8">7.4 æ´»åŠ¨åˆ—è¡¨ä¸è¯¦æƒ…é¡µå®ç°</h3>
<h4 data-id="heading-9">åˆ—è¡¨é¡µ (<code>pages/activity/list</code>)</h4>
<p>ä½¿ç”¨åŸç”Ÿ <code>scroll-view</code> å®ç°æ»šåŠ¨åŠ è½½ã€‚</p>
<ul>
<li><strong>åˆ†é¡µé€»è¾‘</strong>: ç›‘å¬ <code>onReachBottom</code> äº‹ä»¶ï¼Œç´¯åŠ  <code>page</code> å‚æ•°è¯·æ±‚ä¸‹ä¸€é¡µæ•°æ®ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>: åˆ—è¡¨é¡¹åªå±•ç¤ºå°é¢ã€æ ‡é¢˜ã€æ—¶é—´ï¼Œä¸åŠ è½½åºå¤§çš„ <code>components</code> å’Œ <code>config</code> å­—æ®µï¼Œå‡å°‘ç½‘ç»œä¼ è¾“ä½“ç§¯ã€‚</li>
</ul>
<h4 data-id="heading-10">è¯¦æƒ…é¡µ (<code>pages/activity/detail</code>)</h4>
<p>è¿™æ˜¯ç”¨æˆ·è®¿é—®æœ€é¢‘ç¹çš„é¡µé¢ã€‚</p>
<ol>
<li><strong>åŠ è½½çŠ¶æ€</strong>: ç®€å•çš„ <code>uni.showLoading</code> å’Œ <code>v-if="loading"</code> æ§åˆ¶ï¼Œæ•°æ®è¿”å›å‰å±•ç¤ºç©ºç™½æˆ– Loading å›¾æ ‡ã€‚</li>
<li><strong>åŠ¨æ€æ¸²æŸ“</strong>: æ ¸å¿ƒåŒºåŸŸä½¿ç”¨ <code>&lt;ActivityRenderer :components="activity.components" /&gt;</code> ç»„ä»¶ï¼Œå°†åå°é…ç½®çš„ JSON æ¸²æŸ“ä¸ºçœŸå®çš„ UIï¼ˆè¯¦è§ç¬¬ 12 ç« ï¼‰ã€‚</li>
<li><strong>åº•éƒ¨æ“ä½œæ </strong>: æ ¹æ®æ´»åŠ¨çŠ¶æ€ï¼ˆæŠ¥åä¸­/æŠ•ç¥¨ä¸­/å·²ç»“æŸï¼‰åŠ¨æ€æ˜¾ç¤ºâ€œç«‹å³æŠ¥åâ€æˆ–â€œå‚ä¸æŠ•ç¥¨â€æŒ‰é’®ã€‚</li>
</ol>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æ´»åŠ¨ç®¡ç†æ¨¡å—æ˜¯ç³»ç»Ÿçš„èº¯å¹²ã€‚æˆ‘ä»¬ä¸ä»…å®ç°äº†åŸºç¡€çš„å¢åˆ æ”¹æŸ¥ï¼Œè¿˜å¤„ç†äº†å¤æ‚çš„çº§è”é€»è¾‘å’ŒçŠ¶æ€æµè½¬ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†èšç„¦äºæœ€å®ç”¨çš„åŠŸèƒ½â€”â€”é‚£ä¸ªèƒ½è‡ªåŠ¨æ”¶é›†è¡¨å•ã€è¿˜èƒ½æ”¶é’±çš„<strong>æŠ¥åç³»ç»Ÿ</strong>ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ08-æŠ¥åç³»ç»Ÿè®¾è®¡ï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK | æ˜é‡‘ä¸€å‘¨ 12.18]]></title>    <link>https://juejin.cn/post/7585021315691200522</link>    <guid>https://juejin.cn/post/7585021315691200522</guid>    <pubDate>2025-12-18T09:46:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691200522" data-draft-id="7584831190730817562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK | æ˜é‡‘ä¸€å‘¨ 12.18"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-18T09:46:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘ä¸€å‘¨"/> <meta itemprop="url" content="https://juejin.cn/user/53218623894222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK | æ˜é‡‘ä¸€å‘¨ 12.18
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/53218623894222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘ä¸€å‘¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:46:52.000Z" title="Thu Dec 18 2025 09:46:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>æœ¬æ–‡å­—æ•°1100+ ï¼Œé˜…è¯»æ—¶é—´å¤§çº¦éœ€è¦ 4åˆ†é’Ÿã€‚</em></p>
<blockquote>
<p>ã€æ˜é‡‘ä¸€å‘¨ã€‘æœ¬æœŸäº®ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>
<p><a href="https://juejin.cn/post/7581437632855015464" target="_blank" title="https://juejin.cn/post/7581437632855015464">ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583612559443279923" target="_blank" title="https://juejin.cn/post/7583612559443279923">ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583469866007969827" target="_blank" title="https://juejin.cn/post/7583469866007969827">åŸºäºNacosçš„è½»é‡ä»»åŠ¡è°ƒåº¦æ–¹æ¡ˆ â€”â€” ä» XXL-Job çš„ç—›ç‚¹è¯´èµ·</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7581870491762671668" target="_blank" title="https://juejin.cn/post/7581870491762671668">ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7582755817671442442" target="_blank" title="https://juejin.cn/post/7582755817671442442">âœ¨TRAE SOLO + Holopix AI | å¤åˆ» GBA æ¸¸æˆ-"ğŸ›å£è¢‹å¦–æ€ª</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583577045578907674" target="_blank" title="https://juejin.cn/post/7583577045578907674">Flutter å®˜æ–¹æ­£å¼è§£å†³ WebView åœ¨ iOS 26 ä¸Šæœ‰ç‚¹å‡»é—®é¢˜</a></p>
</li>
</ul>
<blockquote>
<p><strong>ã€Œä¸Šæ¦œè§„åˆ™ã€</strong>ï¼šæ–‡ç« å‘å¸ƒæ—¶é—´åœ¨æœ¬æœŸã€Œæ˜é‡‘ä¸€å‘¨ã€å‘å¸ƒæ—¶é—´çš„å‰ä¸€å‘¨å†…ï¼›ä¸”ç¬¦åˆå„ä¸ªæ ç›®çš„å†…å®¹å®šä½å’Œè¦æ±‚ã€‚ å¦‚å‘ç°æ–‡ç« æœ‰æŠ„è¢­ã€æ´—ç¨¿ç­‰è¿åç¤¾åŒºè§„åˆ™çš„è¡Œä¸ºï¼Œå°†å–æ¶ˆå½“æœŸåŠåç»­ä¸Šæ¦œèµ„æ ¼ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€å‘¨â€œé‡‘â€é€‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73d5bf990a124e3a87cffb06443ad9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5LiA5ZGo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766656012&amp;x-signature=jrWr0lGZEiVgdbg26LxoaqNAPtQ%3D" alt="æ˜é‡‘ä¸€å‘¨ æ–‡ç« å¤´å›¾ 1303x734.jpg" loading="lazy"/></p>
<p><em>å†…å®¹è¯„å®¡ä»¬ä¼šåœ¨è¿‡å»çš„ä¸€å‘¨å†…å¯¹ç¤¾åŒºæ·±åº¦æŠ€æœ¯å¥½æ–‡è¿›è¡ŒæŒ–æ˜å’Œç­›é€‰ï¼Œä¼˜è´¨çš„æŠ€æœ¯æ–‡ç« æœ‰æœºä¼šå‡ºç°åœ¨ä¸‹æ–¹æ¦œå•ä¸­ï¼Œæ’åä¸åˆ†å…ˆåã€‚</em></p>
<h3 data-id="heading-1">å‰ç«¯</h3>
<p><a href="https://juejin.cn/post/7581437632855015464" target="_blank" title="https://juejin.cn/post/7581437632855015464">ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–</a><a href="https://juejin.cn/user/1117561754756488/posts" target="_blank" title="https://juejin.cn/user/1117561754756488/posts"> @HashTang</a></p>
<blockquote>
<p>æœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¸ä»…é€»è¾‘æ¸…æ™°ï¼Œè¿˜å¤„ç†äº†å¾ˆå¤šç»†èŠ‚ï¼Œæ¯”å¦‚ iOS çš„æ ·å¼é€‚é…ã€‚è¿™å°±æ˜¯ AI è¾…åŠ©å¼€å‘çš„å¨åŠ›ï¼š<strong>å®ƒä¸ä»…èƒ½å†™å‡ºè·‘é€šçš„ä»£ç ï¼Œè¿˜èƒ½è€ƒè™‘åˆ°å¹³å°å·®å¼‚å’Œè¾¹ç•Œæƒ…å†µã€‚</strong></p>
</blockquote>
<p><a href="https://juejin.cn/post/7583612559443279923" target="_blank" title="https://juejin.cn/post/7583612559443279923">ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK</a> <a href="https://juejin.cn/user/3035079961218551/posts" target="_blank" title="https://juejin.cn/user/3035079961218551/posts">@ä¸ä¸€æ ·çš„å°‘å¹´_</a></p>
<blockquote>
<p>æƒ³çŸ¥é“é‚£äº›â€œé»‘ç§‘æŠ€â€æ˜¯å¦‚ä½•<strong>æ‹¦æˆªç‚¹å‡»</strong>ã€ç»Ÿè®¡Â <strong>PV</strong>ï¼ˆé¡µé¢æµè§ˆé‡ï¼‰ä¸Â <strong>UV</strong>ï¼ˆç‹¬ç«‹è®¿å®¢æ•°ï¼‰ã€ç²¾ç¡®è®¡ç®—<strong>é¡µé¢åœç•™æ—¶é•¿</strong>çš„å—ï¼Ÿæœ¬æ–‡å°†ä»åŸç†è§’åº¦åˆ‡å…¥ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªè½»é‡çº§ã€åŠŸèƒ½å®Œå¤‡çš„ç”¨æˆ·è¡Œä¸ºç›‘æ§ SDK</p>
</blockquote>
<h3 data-id="heading-2">åç«¯</h3>
<p><a href="https://juejin.cn/post/7583469866007969827" target="_blank" title="https://juejin.cn/post/7583469866007969827">åŸºäºNacosçš„è½»é‡ä»»åŠ¡è°ƒåº¦æ–¹æ¡ˆ â€”â€” ä» XXL-Job çš„ç—›ç‚¹è¯´èµ·</a> <a href="https://juejin.cn/user/2834988091055719/posts" target="_blank" title="https://juejin.cn/user/2834988091055719/posts">@è¸æµªæ— ç—•</a></p>
<blockquote>
<p>JobFlow åªæ˜¯ä¸€ä¸ªæƒ³æ³•ï¼Œä¸€ä¸ªæŠ€æœ¯æ¢è®¨ã€‚å®ƒçš„æ ¸å¿ƒä¸æ˜¯æŠ€æœ¯ç»†èŠ‚ï¼Œè€Œæ˜¯ä¸€ä¸ªè®¾è®¡ç†å¿µï¼š<strong>ä¸­é—´ä»¶å³ä¸šåŠ¡</strong>ã€‚åœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼Œè°ƒåº¦èƒ½åŠ›ä¸åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹éƒ¨ç½²ã€ç‹¬ç«‹è¿ç»´çš„"å¹³å°"ï¼Œè€Œåº”è¯¥æ˜¯<strong>å†…åµŒåœ¨å¾®æœåŠ¡ä½“ç³»ä¸­çš„èƒ½åŠ›æ¨¡å—</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-3">Android</h3>
<p><a href="https://juejin.cn/post/7581870491762671668" target="_blank" title="https://juejin.cn/post/7581870491762671668">ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦</a> <a href="https://juejin.cn/user/1046390797768519/posts" target="_blank" title="https://juejin.cn/user/1046390797768519/posts">@RockByte</a></p>
<blockquote>
<p>ä½œä¸ºåŸºäºåç¨‹æ„å»ºçš„å“åº”å¼æµ APIï¼ŒKotlin <code>Flow</code> è®©ä½ å¯ä»¥ç”¨å£°æ˜å¼çš„æ–¹å¼ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚ä½†è¦æƒ³çœŸæ­£å‘æŒ¥å®ƒçš„å¼ºå¤§èƒ½åŠ›ï¼Œå…³é”®åœ¨äºç†Ÿç»ƒæŒæ¡å„ç§æ“ä½œç¬¦ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äººå·¥æ™ºèƒ½</h3>
<p><a href="https://juejin.cn/post/7582755817671442442" target="_blank" title="https://juejin.cn/post/7582755817671442442">âœ¨TRAE SOLO + Holopix AI | å¤åˆ» GBA æ¸¸æˆ-"ğŸ›å£è¢‹å¦–æ€ª</a> <a href="https://juejin.cn/user/4142615541321928/posts" target="_blank" title="https://juejin.cn/user/4142615541321928/posts">@coder_pig</a></p>
<blockquote>
<p>GBAçš„å›¾å½¢èŠ¯ç‰‡ (PPU) æ²¡æœ‰ "åŠ è½½å›¾ç‰‡" çš„æ¦‚å¿µï¼Œå®ƒåªèƒ½è¯»å–è¿ç»­çš„æ˜¾å­˜å—ã€‚å¼€å‘è€…æŠŠæ‰€æœ‰è§’è‰²åŠ¨ç”»å¸§æ‹¼æˆä¸€å¼ å›¾ï¼Œé€šè¿‡ä¿®æ”¹Â <strong>UVåæ ‡</strong>Â (è¯»å–ä½ç½®) æ¥åˆ‡æ¢å¸§ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7581765536372965385" target="_blank" title="https://juejin.cn/post/7581765536372965385">5å°æ—¶æ•´ç†60é¡µã€ŠGoogle AgentæŒ‡å—ã€‹ï¼Œä¸æ‡‚Agentçš„åŒ…æ•™åŒ…ä¼š</a> <a href="https://juejin.cn/user/1145012233707299/posts" target="_blank" title="https://juejin.cn/user/1145012233707299/posts">@å¤§æ¨¡å‹æ•™ç¨‹</a></p>
<blockquote>
<p>ç°é˜¶æ®µæ¥è¯´ï¼ŒToolsæ˜¯AgentçœŸæ­£çš„æ ¸å¿ƒï¼Œè€Œä¸”<strong>Toolsè°ƒç”¨ä¸å‡†ä¹Ÿæ˜¯Agentæ¶æ„æœ€å¤§çš„éš¾ç‚¹</strong>ï¼Œå½“å‰æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨<strong>SkillsæŠ€æœ¯ + å¼ºæ„å›¾</strong>ä¹Ÿæœ€å¤šæŠŠå‡†ç¡®ç‡åšåˆ°90%å·¦å³ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7581670270844174376" target="_blank" title="https://juejin.cn/post/7581670270844174376">æ•°æ®åº“AIæ–¹å‘æ¢ç´¢-MCPåŸç†è§£æ&amp;DBæ–¹å‘å®æˆ˜ï½œå¾—ç‰©æŠ€æœ¯</a> <a href="https://juejin.cn/user/2392954206960247/posts" target="_blank" title="https://juejin.cn/user/2392954206960247/posts">@å¾—ç‰©æŠ€æœ¯</a></p>
<blockquote>
<p>é€šè¿‡æ•´åˆå¤šæ¨¡æ€æ•°æ®ï¼ˆæ–‡æœ¬ä¸äºŒè¿›åˆ¶ï¼‰èµ„æºä½¿ AI æ¨¡å‹èƒ½è®¿é—®ç§æœ‰æˆ–ä¸“å±çŸ¥è¯†åº“ï¼ˆå¦‚ä¼ä¸šå†…éƒ¨æ–‡æ¡£ï¼‰ã€å®æ—¶å¤–éƒ¨ API åŠç³»ç»ŸåŠ¨æ€ä¿¡æ¯ï¼Œæœ‰æ•ˆçªç ´å•ä¸€å¤§æ¨¡å‹æ•°æ®å­¤å²›ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7582785032852226111" target="_blank" title="https://juejin.cn/post/7582785032852226111">AutoGLM å¼€æºå®æµ‹ï¼šä¸€å¥è¯è®© AI å¸®æˆ‘ç‚¹ä¸ªé¸¡æ’</a> <a href="https://juejin.cn/user/3825956195409223/posts" target="_blank" title="https://juejin.cn/user/3825956195409223/posts">@é£å“¥æ•°æ™ºè°ˆ</a></p>
<blockquote>
<p><code>Phone Agent</code> æ˜¯ä¸€ä¸ªåŸºäº <code>AutoGLM</code> æ„å»ºçš„æ‰‹æœºç«¯æ™ºèƒ½åŠ©ç†æ¡†æ¶ï¼Œå®ƒèƒ½å¤Ÿä»¥å¤šæ¨¡æ€æ–¹å¼ç†è§£æ‰‹æœºå±å¹•å†…å®¹ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–æ“ä½œå¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡ã€‚</p>
</blockquote>
<h3 data-id="heading-5">IOS</h3>
<p><a href="https://juejin.cn/post/7583577045578907674" target="_blank" title="https://juejin.cn/post/7583577045578907674">Flutter å®˜æ–¹æ­£å¼è§£å†³ WebView åœ¨ iOS 26 ä¸Šæœ‰ç‚¹å‡»é—®é¢˜</a> <a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>æ–°æœºåˆ¶è®©å¼€å‘è€…å¯ä»¥åœ¨ Dart ä»£ç ä¸­ç›´æ¥æŒ‡å®š PlatformView çš„æ‰‹åŠ¿æ‹¦æˆªç­–ç•¥ï¼Œè€Œä¸æ˜¯ä¾èµ–å…¨å±€é…ç½®æˆ–åŸç”Ÿä»£ç ï¼Œæ ¹æ®ä¸åŒåœºæ™¯é…ç½®ä¸åŒçš„æ‹¦æˆªå¤„ç†æœºåˆ¶ï¼Œè€ŒÂ <code>touchBlockingOnly</code>Â å°±æ˜¯å…¨æ–°çš„æ”¯æŒã€‚</p>
</blockquote>
<h2 data-id="heading-6">ğŸ“– æŠ•ç¨¿ä¸“åŒº</h2>
<blockquote>
<p>å¤§å®¶å¯ä»¥åœ¨è¯„è®ºåŒºæ¨èè®¤ä¸ºä¸é”™çš„æ–‡ç« ï¼Œå¹¶é™„ä¸Šé“¾æ¥å’Œæ¨èç†ç”±ï¼Œæœ‰æœºä¼šå‘ˆç°åœ¨ä¸‹ä¸€æœŸã€‚æ–‡ç« åˆ›å»ºæ—¥æœŸå¿…é¡»åœ¨ä¸‹æœŸæ˜é‡‘ä¸€å‘¨å‘å¸ƒå‰ä¸€å‘¨ä»¥å†…ï¼›å¯ä»¥æ¨èè‡ªå·±çš„æ–‡ç« ã€ä¹Ÿå¯ä»¥æ¨èä»–äººçš„æ–‡ç« ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(08)]]></title>    <link>https://juejin.cn/post/7585005164726304806</link>    <guid>https://juejin.cn/post/7585005164726304806</guid>    <pubDate>2025-12-18T09:45:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585005164726304806" data-draft-id="7585023817459138586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(08)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:45:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(08)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:45:14.000Z" title="Thu Dec 18 2025 09:45:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 8 ç« ï¼šæŠ¥åç³»ç»Ÿè®¾è®¡</h2>
<blockquote>
<p>â€œå¡«è¡¨å•æ˜¯ä¸–ç•Œä¸Šæœ€æ¯ç‡¥çš„äº‹ï¼Œä½†æˆ‘ä»¬å¯ä»¥è®©å®ƒç¨å¾®å¥½ç©ä¸€ç‚¹ã€‚â€</p>
</blockquote>
<p>æŠ¥åç³»ç»Ÿæ˜¯è¿æ¥æ´»åŠ¨ä¸»åŠæ–¹å’Œå‚ä¸è€…çš„æ¡¥æ¢ã€‚æœ¬ç« æˆ‘ä»¬å°†å®ç°ä¸€ä¸ª<strong>é«˜åº¦å¯é…ç½®</strong>çš„æŠ¥åç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€è¡¨å•å’Œæ”¯ä»˜å‡­è¯å®¡æ ¸ã€‚</p>
<h3 data-id="heading-1">8.1 è‡ªå®šä¹‰è¡¨å•é…ç½®</h3>
<p>ä¸åŒçš„æ´»åŠ¨éœ€è¦æ”¶é›†çš„ä¿¡æ¯ä¸åŒã€‚èšé¤éœ€è¦ç»Ÿè®¡â€œæ˜¯å¦åƒè¾£â€ï¼Œè®²åº§éœ€è¦ç»Ÿè®¡â€œæ‰€åœ¨éƒ¨é—¨â€ã€‚æˆ‘ä»¬ä¸èƒ½æŠŠè¡¨å•å­—æ®µå†™æ­»åœ¨ä»£ç é‡Œã€‚</p>
<h4 data-id="heading-2">æ•°æ®ç»“æ„è®¾è®¡</h4>
<p>åœ¨ <code>activities</code> è¡¨çš„ <code>registrationConfig</code> å­—æ®µä¸­ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å§“å"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"phone"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœºå·"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"diet"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"radio"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¥®é£Ÿåå¥½"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"options"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"æ­£å¸¸"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"å¾®è¾£"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ç‰¹è¾£"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-3">å‰ç«¯æ¸²æŸ“ (<code>DynamicForm</code>)</h4>
<p>å‰ç«¯ç»„ä»¶éå† <code>fields</code> æ•°ç»„ï¼Œæ ¹æ® <code>type</code> åŠ¨æ€æ¸²æŸ“ç»„ä»¶ï¼š</p>
<ul>
<li><code>text</code> -&gt; <code>&lt;uni-easyinput&gt;</code></li>
<li><code>radio</code> -&gt; <code>&lt;uni-data-checkbox&gt;</code></li>
<li><code>image</code> -&gt; <code>&lt;uni-file-picker&gt;</code></li>
</ul>
<h3 data-id="heading-4">8.2 æŠ¥åæµç¨‹ä¸çŠ¶æ€æœº</h3>
<p>æŠ¥åä¸ä»…ä»…æ˜¯å¡«ä¸ªè¡¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„<strong>ä¸šåŠ¡äº‹åŠ¡</strong>ã€‚</p>
<h4 data-id="heading-5">çŠ¶æ€æµè½¬å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    Start((å¼€å§‹)) --&gt; Pending[å¾…å®¡æ ¸]
    Pending --&gt;|ç®¡ç†å‘˜é€šè¿‡| Approved[æŠ¥åæˆåŠŸ]
    Pending --&gt;|ç®¡ç†å‘˜æ‹’ç»| Rejected[å·²æ‹’ç»]

    subgraph æ”¯ä»˜æµç¨‹
    Pending --&gt;|ä¸Šä¼ å‡­è¯| PaymentPending[æ”¯ä»˜ç¡®è®¤ä¸­]
    PaymentPending --&gt;|ç®¡ç†å‘˜ç¡®è®¤æ”¶æ¬¾| Approved
    PaymentPending --&gt;|ç®¡ç†å‘˜é©³å›| Pending
    end
</code></pre>
<h4 data-id="heading-6">å¹¶å‘æ§åˆ¶ (Race Condition)</h4>
<p>å½“æ´»åŠ¨é™åˆ¶åé¢ï¼ˆå¦‚ä»…é™ 50 äººï¼‰æ—¶ï¼Œå¦‚ä½•é˜²æ­¢ç¬¬ 51 ä¸ªäººæŠ¥åæˆåŠŸï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>: â€œå…ˆæŸ¥åå†™â€çš„ä¹è§‚æ£€æŸ¥ç­–ç•¥ã€‚
è™½ç„¶ MySQL æ”¯æŒå¼ºäº‹åŠ¡ï¼Œä½†ä¸ºäº†ç®€åŒ–äº‘å‡½æ•°é€»è¾‘ï¼Œæˆ‘ä»¬ç›®å‰æš‚æœªå¼€å¯ä¸¥æ ¼çš„æ•°æ®åº“äº‹åŠ¡é”ã€‚è€Œæ˜¯é‡‡ç”¨äº†åº”ç”¨å±‚çš„æ£€æŸ¥æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-js" lang="js">count = <span class="hljs-keyword">await</span> <span class="hljs-title function_">count</span>(registrations where activityId=xxx)
<span class="hljs-keyword">if</span> (count &gt;= limit) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"åé¢å·²æ»¡"</span>)
<span class="hljs-keyword">await</span> <span class="hljs-title function_">create</span>(registration)<span class="hljs-string">`
</span></code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>: è¿™ç§æ–¹å¼åœ¨æé«˜å¹¶å‘ä¸‹ï¼ˆå¦‚ 1ç§’å†…æ¶Œå…¥ 1000 äººï¼‰å¯èƒ½ä¼šå¯¼è‡´å°‘é‡è¶…å–ã€‚ä½†å¯¹äºç¤¾å›¢æ´»åŠ¨è¿™ç§é‡çº§ï¼Œè¿™å·²ç»è¶³å¤Ÿå®‰å…¨ä¸”é«˜æ•ˆäº†ã€‚å¦‚æœçœŸé‡åˆ°äº†â€œç§’æ€â€åœºæ™¯ï¼Œå†è€ƒè™‘å¼•å…¥ Redis é”æˆ–æ•°æ®åº“äº‹åŠ¡ä¹Ÿä¸è¿Ÿã€‚</p>
</blockquote>
<h3 data-id="heading-7">8.3 æ”¯ä»˜å‡­è¯ä¸Šä¼ ä¸å®¡æ ¸</h3>
<p>å¯¹äºç¤¾å›¢æ´»åŠ¨ï¼Œæ¥å…¥å¾®ä¿¡æ”¯ä»˜é—¨æ§›å¤ªé«˜ï¼ˆéœ€è¦ä¼ä¸šèµ„è´¨ï¼‰ã€‚æœ€æ¥åœ°æ°”çš„æ–¹å¼æ˜¯ï¼š<strong>ä¸Šä¼ è½¬è´¦æˆªå›¾</strong>ã€‚</p>
<h4 data-id="heading-8">æµç¨‹å®ç°</h4>
<ol>
<li><strong>ä¸»åŠæ–¹</strong>: åœ¨æ´»åŠ¨é…ç½®ä¸­ä¸Šä¼ è‡ªå·±çš„æ”¶æ¬¾äºŒç»´ç ï¼ˆå¾®ä¿¡/æ”¯ä»˜å®ï¼‰ã€‚</li>
<li><strong>å‚ä¸è€…</strong>:
<ul>
<li>ä¿å­˜äºŒç»´ç ï¼Œå»å¾®ä¿¡æ”¯ä»˜è½¬è´¦ã€‚</li>
<li>æˆªå›¾ä¿å­˜ã€‚</li>
<li>åœ¨æŠ¥åè¡¨å•ä¸­ç‚¹å‡»â€œä¸Šä¼ æ”¯ä»˜å‡­è¯â€ï¼Œé€‰æ‹©æˆªå›¾ã€‚</li>
<li>å‰ç«¯è°ƒç”¨ <code>uniCloud.uploadFile</code>ï¼Œè·å–å›¾ç‰‡ <code>FileID</code>ã€‚</li>
</ul>
</li>
<li><strong>æäº¤</strong>: <code>FileID</code> éšè¡¨å•æ•°æ®ä¸€åŒæäº¤åˆ° <code>createRegistration</code> äº‘å‡½æ•°ã€‚</li>
</ol>
<h3 data-id="heading-9">8.4 æŠ¥åç®¡ç†åå°</h3>
<p>ç®¡ç†å‘˜åœ¨æ‰‹æœºç«¯ç®¡ç†æŠ¥åè®°å½•ã€‚</p>
<h4 data-id="heading-10">æ‰«ç æ ¸é”€</h4>
<p>å¦‚ä½•å¿«é€ŸéªŒè¯å‚ä¸è€…èº«ä»½ï¼Ÿ</p>
<ol>
<li><strong>ç”Ÿæˆç </strong>: ç”¨æˆ·ç«¯æ ¹æ®æŠ¥åIDç”ŸæˆäºŒç»´ç  (<code>qrcode</code>).</li>
<li><strong>æ‰«ç </strong>: ç®¡ç†å‘˜ä½¿ç”¨å°ç¨‹åºè‡ªå¸¦çš„ <code>scanCode</code> æ¥å£æ‰«æã€‚</li>
<li><strong>æ ¸é”€</strong>: å‰ç«¯è§£æå‡ºæŠ¥åIDï¼Œè°ƒç”¨äº‘å‡½æ•° <code>verifyRegistration</code>ï¼Œå°†çŠ¶æ€æ”¹ä¸ºâ€œå·²ç­¾åˆ°â€ã€‚</li>
</ol>
<h4 data-id="heading-11">æ•°æ®å¯¼å‡º</h4>
<p>ç¤¾å›¢è”éœ€è¦ Excel è¡¨æ ¼å¤‡æ¡ˆï¼Ÿ
äº‘å‡½æ•°æ”¯æŒå°†æ•°æ®å¯¼å‡ºä¸º CSV/Excel æ–‡ä»¶ï¼Œç”Ÿæˆä¸‹è½½é“¾æ¥ï¼Œç®¡ç†å‘˜å¤åˆ¶é“¾æ¥å³å¯åœ¨ç”µè„‘ä¸Šä¸‹è½½ã€‚</p>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªçµæ´»çš„æŠ¥åç³»ç»Ÿï¼Œæ—¢æ»¡è¶³äº†å¤šæ ·åŒ–çš„æ•°æ®æ”¶é›†éœ€æ±‚ï¼Œåˆå·§å¦™è§„é¿äº†å¾®ä¿¡æ”¯ä»˜çš„èµ„è´¨é™åˆ¶ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†è®©æ´»åŠ¨â€œåŠ¨â€èµ·æ¥â€”â€”å®ç°<strong>æŠ•ç¥¨äº’åŠ¨ç³»ç»Ÿ</strong>ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ09-æŠ•ç¥¨äº’åŠ¨ç³»ç»Ÿï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ C# é«˜æ•ˆè§£æ PDF æ–‡æ¡£ï¼šæ–‡æœ¬ä¸è¡¨æ ¼æå–å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7584834746062848034</link>    <guid>https://juejin.cn/post/7584834746062848034</guid>    <pubDate>2025-12-18T09:45:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746062848034" data-draft-id="7584909732613586979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ C# é«˜æ•ˆè§£æ PDF æ–‡æ¡£ï¼šæ–‡æœ¬ä¸è¡¨æ ¼æå–å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,C#"/> <meta itemprop="datePublished" content="2025-12-18T09:45:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·835629078051"/> <meta itemprop="url" content="https://juejin.cn/user/3150554985403516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ C# é«˜æ•ˆè§£æ PDF æ–‡æ¡£ï¼šæ–‡æœ¬ä¸è¡¨æ ¼æå–å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3150554985403516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·835629078051
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:45:39.000Z" title="Thu Dec 18 2025 09:45:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32176d062a3b460ba06692f417eecc24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655939&amp;x-signature=EM0pZSz1GSOEcPtEhc6%2Bcyx9bYo%3D" alt="C#è§£æPDFæ–‡æ¡£" loading="lazy"/></p>
<p>PDFï¼ˆPortable Document Formatï¼‰æ–‡æ¡£ä½œä¸ºä¸€ç§é€šç”¨ã€å®‰å…¨ä¸”è·¨å¹³å°çš„æ–‡æ¡£æ ¼å¼ï¼Œå·²æˆä¸ºç°ä»£ä¸šåŠ¡æµç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ä»ç”µå­å‘ç¥¨ã€åˆåŒåè®®åˆ°æŠ¥å‘Šæ‰‹å†Œï¼ŒPDFæ— å¤„ä¸åœ¨ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬éœ€è¦ä»å¤§é‡PDFæ–‡æ¡£ä¸­æå–ç‰¹å®šæ•°æ®ã€è¿›è¡Œå†…å®¹æ£€ç´¢æˆ–è‡ªåŠ¨åŒ–å¤„ç†æ—¶ï¼Œæ‰‹åŠ¨æ“ä½œçš„ä½æ•ˆæ€§ä¾¿æš´éœ²æ— é—ã€‚å¯¹äºC#å¼€å‘è€…è€Œè¨€ï¼Œå¦‚ä½•ç¨‹åºåŒ–åœ°ã€é«˜æ•ˆåœ°è§£æPDFæ–‡æ¡£ï¼Œæˆä¸ºäº†æå‡å·¥ä½œæ•ˆç‡å’Œå®ç°ä¸šåŠ¡è‡ªåŠ¨åŒ–çš„å…³é”®ã€‚</p>
<p>ä¼ ç»Ÿçš„PDFè§£æå¾€å¾€é¢ä¸´è¯¸å¤šæŒ‘æˆ˜ï¼šå¤æ‚çš„å†…éƒ¨ç»“æ„ã€å¤šå˜çš„å¸ƒå±€ã€æ–‡æœ¬ç¼–ç é—®é¢˜ï¼Œä»¥åŠå›¾åƒå’Œè¡¨æ ¼çš„è¯†åˆ«å›°éš¾ã€‚è¿™äº›éƒ½ä½¿å¾—ç›´æ¥ä»PDFäºŒè¿›åˆ¶æµä¸­æå–æœ‰ä»·å€¼ä¿¡æ¯å˜å¾—å¼‚å¸¸è‰°å·¨ã€‚å¹¸è¿çš„æ˜¯ï¼Œå€ŸåŠ©å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ï¼ŒC#å¼€å‘è€…å¯ä»¥ä¼˜é›…åœ°å…‹æœè¿™äº›éš¾é¢˜ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨C#ç»“åˆé«˜æ•ˆçš„PDFå¤„ç†åº“ï¼Œå®ç°PDFæ–‡æ¡£çš„è‡ªåŠ¨åŒ–è§£æï¼Œä»åŸºç¡€çš„ç¯å¢ƒé…ç½®åˆ°å¤æ‚çš„è¡¨æ ¼æ•°æ®æå–ï¼Œä¸ºæ‚¨æä¾›ä¸€å¥—å…¨é¢çš„å®è·µæŒ‡å—ã€‚</p>
<hr/>
<h2 data-id="heading-0">C# PDFè§£æå…¥é—¨ï¼šç¯å¢ƒé…ç½®ä¸æ ¸å¿ƒæ¦‚å¿µ</h2>
<p>åœ¨æ·±å…¥è§£æä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£PDFæ–‡æ¡£çš„åŸºæœ¬ç»„æˆï¼Œå¹¶æ­å»ºå¥½å¼€å‘ç¯å¢ƒã€‚PDFæ–‡æ¡£æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æè¿°æ–‡æ¡£å¤–è§‚çš„é¡µé¢æè¿°è¯­è¨€ï¼Œå®ƒç”±æ–‡æœ¬ã€å›¾åƒã€çŸ¢é‡å›¾å½¢ã€å­—ä½“ç­‰å…ƒç´ æ„æˆã€‚è¿™äº›å…ƒç´ æŒ‰ç…§ç‰¹å®šçš„å¸ƒå±€è§„åˆ™å‘ˆç°åœ¨é¡µé¢ä¸Šï¼Œä½¿å¾—PDFæ–‡æ¡£èƒ½å¤Ÿä¿æŒå…¶è·¨å¹³å°çš„ä¸€è‡´æ€§ã€‚</p>
<p>ä¸ºäº†åœ¨C#é¡¹ç›®ä¸­è¿›è¡ŒPDFè§£æï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå¹¿å—æ¬¢è¿çš„è§£å†³æ–¹æ¡ˆâ€”â€”Spire.PDF for .NETã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„APIï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®ç°PDFçš„åˆ›å»ºã€ç¼–è¾‘ã€è½¬æ¢å’Œè§£æã€‚</p>
<h3 data-id="heading-1">ç¯å¢ƒå‡†å¤‡ï¼šNuGetå®‰è£…</h3>
<p>åœ¨æ‚¨çš„Visual Studioé¡¹ç›®ä¸­ï¼Œé€šè¿‡NuGetåŒ…ç®¡ç†å™¨å®‰è£…è¯¥åº“ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">Install-Package Spire.PDF
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨C#ä»£ç ä¸­å¼•ç”¨ç›¸åº”çš„å‘½åç©ºé—´å¹¶å¼€å§‹å·¥ä½œäº†ã€‚</p>
<h3 data-id="heading-2">åŠ è½½PDFæ–‡æ¡£å¹¶è·å–åŸºæœ¬ä¿¡æ¯</h3>
<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•åŠ è½½ä¸€ä¸ªPDFæ–‡æ¡£å¹¶è·å–å…¶æ€»é¡µæ•°ï¼Œè¿™æ˜¯æ‰€æœ‰PDFè§£ææ“ä½œçš„èµ·ç‚¹ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> System;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-comment">// å‡è®¾æ‚¨çš„PDFæ–‡ä»¶ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„"Data"æ–‡ä»¶å¤¹ä¸­</span>
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/Sample.pdf"</span>; 

            <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªPdfDocumentå®ä¾‹</span>
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();

            <span class="hljs-keyword">try</span>
            {
                <span class="hljs-comment">// ä»æ–‡ä»¶åŠ è½½PDFæ–‡æ¡£</span>
                doc.LoadFromFile(pdfFilePath);

                <span class="hljs-comment">// è·å–å¹¶æ‰“å°PDFæ–‡æ¡£çš„æ€»é¡µæ•°</span>
                Console.WriteLine(<span class="hljs-string">$"PDFæ–‡æ¡£ '<span class="hljs-subst">{pdfFilePath}</span>' å·²æˆåŠŸåŠ è½½ã€‚"</span>);
                Console.WriteLine(<span class="hljs-string">$"æ€»é¡µæ•°: <span class="hljs-subst">{doc.Pages.Count}</span>"</span>);
            }
            <span class="hljs-keyword">catch</span> (Exception ex)
            {
                Console.WriteLine(<span class="hljs-string">$"åŠ è½½PDFæ–‡æ¡£æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
            }
            <span class="hljs-keyword">finally</span>
            {
                <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
                doc.Close();
            }

            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>PdfDocument</code> ç±»æ˜¯æ“ä½œPDFæ–‡æ¡£çš„æ ¸å¿ƒã€‚</li>
<li><code>LoadFromFile()</code> æ–¹æ³•ç”¨äºä»æŒ‡å®šè·¯å¾„åŠ è½½PDFã€‚</li>
<li><code>doc.Pages.Count</code> å±æ€§å¯ä»¥è·å–æ–‡æ¡£çš„æ€»é¡µæ•°ã€‚</li>
<li><code>doc.Close()</code> ç”¨äºé‡Šæ”¾ç›¸å…³èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">ç²¾å‡†æå–ï¼šä»PDFä¸­è·å–æ–‡æœ¬ä¿¡æ¯</h2>
<p>æ–‡æœ¬å†…å®¹æå–æ˜¯PDFè§£æä¸­æœ€å¸¸è§çš„éœ€æ±‚ä¹‹ä¸€ã€‚æ— è®ºæ˜¯è¿›è¡Œä¿¡æ¯æ£€ç´¢ã€å†…å®¹åˆ†æè¿˜æ˜¯æ•°æ®è¿ç§»ï¼Œå‡†ç¡®åœ°è·å–PDFä¸­çš„æ–‡æœ¬è‡³å…³é‡è¦ã€‚ç„¶è€Œï¼ŒPDFçš„æ–‡æœ¬å¯èƒ½åˆ†å¸ƒåœ¨ä¸åŒçš„å±‚çº§ï¼Œæˆ–è€…å› ä¸ºå­—ä½“åµŒå…¥ã€ç¼–ç ç­‰é—®é¢˜å¯¼è‡´æå–å›°éš¾ã€‚è¯¥åº“æä¾›äº†çµæ´»çš„æ–‡æœ¬æå–åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-4">æå–PDFæ‰€æœ‰é¡µé¢çš„çº¯æ–‡æœ¬å†…å®¹</h3>
<p>æˆ‘ä»¬å¯ä»¥éå†PDFçš„æ¯ä¸€é¡µï¼Œç„¶åä»æ¯é¡µä¸­æå–æ‰€æœ‰æ–‡æœ¬ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Texts;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> System.Text;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/Sample.pdf"</span>;
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
            doc.LoadFromFile(pdfFilePath);

            StringBuilder allText = <span class="hljs-keyword">new</span> StringBuilder();

            <span class="hljs-comment">// éå†æ–‡æ¡£ä¸­çš„æ¯ä¸€é¡µ</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; doc.Pages.Count; i++)
            {
                PdfPageBase page = doc.Pages[i];

                <span class="hljs-comment">// åˆ›å»ºPdfTextExtractorå®ä¾‹</span>
                PdfTextExtractor extractor = <span class="hljs-keyword">new</span> PdfTextExtractor(page);
                
                <span class="hljs-comment">// è®¾ç½®æå–é€‰é¡¹ï¼Œä¾‹å¦‚æ˜¯å¦ä¿ç•™ç©ºæ ¼</span>
                PdfTextExtractOptions options = <span class="hljs-keyword">new</span> PdfTextExtractOptions();
                options.IsExtractAllText = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è®¾ç½®ä¸ºtrueå¯ä»¥æå–æ‰€æœ‰æ–‡æœ¬ï¼ŒåŒ…æ‹¬éšè—æ–‡æœ¬</span>

                <span class="hljs-comment">// æå–å½“å‰é¡µçš„æ–‡æœ¬å†…å®¹</span>
                <span class="hljs-built_in">string</span> pageText = extractor.ExtractText(options);
                allText.AppendLine(<span class="hljs-string">$"--- ç¬¬ <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span> é¡µæ–‡æœ¬å†…å®¹ ---"</span>);
                allText.AppendLine(pageText);
                allText.AppendLine();
            }

            <span class="hljs-comment">// å°†æ‰€æœ‰æ–‡æœ¬å†…å®¹å†™å…¥æ–‡ä»¶æˆ–æ‰“å°åˆ°æ§åˆ¶å°</span>
            File.WriteAllText(<span class="hljs-string">"ExtractedText.txt"</span>, allText.ToString());
            Console.WriteLine(<span class="hljs-string">"æ‰€æœ‰æ–‡æœ¬å†…å®¹å·²æå–å¹¶ä¿å­˜åˆ° ExtractedText.txt"</span>);

            doc.Close();
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>PdfTextExtractor</code> ç”¨äºä»ç‰¹å®šé¡µé¢æå–æ–‡æœ¬ã€‚</li>
<li><code>PdfTextExtractOptions</code> å¯ä»¥é…ç½®æå–è¡Œä¸ºï¼Œä¾‹å¦‚<code>IsExtractAllText</code>å¯ä»¥æ§åˆ¶æ˜¯å¦æå–æ‰€æœ‰æ–‡æœ¬ï¼ˆåŒ…æ‹¬å¯èƒ½è¢«é®æŒ¡çš„ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">æ ¹æ®æŒ‡å®šåæ ‡æˆ–çŸ©å½¢åŒºåŸŸæå–æ–‡æœ¬</h3>
<p>æœ‰æ—¶æˆ‘ä»¬åªéœ€è¦PDFé¡µé¢ä¸Šç‰¹å®šåŒºåŸŸçš„æ–‡æœ¬ï¼Œä¾‹å¦‚æŸä¸ªè¡¨å•å­—æ®µæˆ–æŠ¥å‘Šæ‘˜è¦ã€‚è¯¥åº“æä¾›äº†æŒ‰åŒºåŸŸæå–æ–‡æœ¬çš„èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Texts;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Drawing; <span class="hljs-comment">// å¼•å…¥System.Drawingå‘½åç©ºé—´å¤„ç†RectangleF</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/Sample.pdf"</span>;
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
            doc.LoadFromFile(pdfFilePath);

            <span class="hljs-comment">// è·å–ç¬¬ä¸€é¡µ</span>
            PdfPageBase page = doc.Pages[<span class="hljs-number">0</span>];

            <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªè¦æå–æ–‡æœ¬çš„çŸ©å½¢åŒºåŸŸ (x, y, width, height)</span>
            <span class="hljs-comment">// è¿™é‡Œçš„åæ ‡å’Œå°ºå¯¸å•ä½é€šå¸¸æ˜¯PDFç‚¹ï¼ˆ1/72è‹±å¯¸ï¼‰ï¼ŒåŸç‚¹åœ¨å·¦ä¸‹è§’æˆ–å·¦ä¸Šè§’ï¼Œå…·ä½“å–å†³äºPDFçš„è®¾ç½®ã€‚</span>
            <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æƒ³ä»é¡µé¢å·¦ä¸Šè§’å¼€å§‹çš„æŸä¸ªåŒºåŸŸæå–æ–‡æœ¬</span>
            RectangleF rect = <span class="hljs-keyword">new</span> RectangleF(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>); 

            PdfTextExtractor extractor = <span class="hljs-keyword">new</span> PdfTextExtractor(page);
            <span class="hljs-built_in">string</span> regionText = extractor.ExtractText(rect);

            Console.WriteLine(<span class="hljs-string">$"--- ä»æŒ‡å®šåŒºåŸŸæå–çš„æ–‡æœ¬ ---"</span>);
            Console.WriteLine(<span class="hljs-string">$"åŒºåŸŸ (<span class="hljs-subst">{rect.X}</span>, <span class="hljs-subst">{rect.Y}</span>, <span class="hljs-subst">{rect.Width}</span>, <span class="hljs-subst">{rect.Height}</span>) çš„æ–‡æœ¬:"</span>);
            Console.WriteLine(regionText);

            doc.Close();
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>RectangleF</code> å®šä¹‰äº†é¡µé¢ä¸Šçš„ä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚</li>
<li><code>extractor.ExtractText(rect)</code> ä¼šåªæå–è¯¥çŸ©å½¢åŒºåŸŸå†…çš„æ–‡æœ¬ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">ç»“æ„åŒ–æ´å¯Ÿï¼šè¯†åˆ«å¹¶æå–PDFä¸­çš„è¡¨æ ¼æ•°æ®</h2>
<p>ä»PDFä¸­æå–è¡¨æ ¼æ•°æ®æ˜¯PDFè§£æä¸­ä¸€ä¸ªæ›´å…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ã€‚PDFæ²¡æœ‰å†…ç½®çš„â€œè¡¨æ ¼â€å¯¹è±¡ï¼Œè¡¨æ ¼é€šå¸¸æ˜¯ç”±ä¸€ç³»åˆ—æ–‡æœ¬ã€çº¿æ¡å’ŒçŸ©å½¢ç»„åˆè€Œæˆï¼Œå…¶ç»“æ„å’Œå¸ƒå±€åƒå˜ä¸‡åŒ–ã€‚è¿™ä½¿å¾—è‡ªåŠ¨è¯†åˆ«è¡¨æ ¼è¾¹ç•Œã€è¡Œå’Œåˆ—å˜å¾—å¤æ‚ã€‚è¯¥åº“æä¾›äº†å…ˆè¿›çš„è¡¨æ ¼è¯†åˆ«ç®—æ³•ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°ä»å¤æ‚PDFä¸­æå–ç»“æ„åŒ–è¡¨æ ¼æ•°æ®ã€‚</p>
<h3 data-id="heading-7">è¯†åˆ«PDFä¸­çš„è¡¨æ ¼å¹¶è¾“å‡ºåˆ°æ§åˆ¶å°</h3>
<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•è¯†åˆ«PDFé¡µé¢ä¸­çš„è¡¨æ ¼ï¼Œå¹¶å°†å…¶å†…å®¹æå–åˆ°<code>String</code>æ•°ç»„ä¸­ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Tables;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Text;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/TableSample.pdf"</span>; <span class="hljs-comment">// å‡è®¾æœ‰ä¸€ä¸ªåŒ…å«è¡¨æ ¼çš„PDFæ–‡ä»¶</span>
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
            doc.LoadFromFile(pdfFilePath);

            <span class="hljs-comment">// è·å–ç¬¬ä¸€é¡µ</span>
            PdfPageBase page = doc.Pages[<span class="hljs-number">0</span>];

            <span class="hljs-comment">// åˆ›å»ºPdfTableExtractorå®ä¾‹</span>
            PdfTableExtractor extractor = <span class="hljs-keyword">new</span> PdfTableExtractor(page);

            <span class="hljs-comment">// è¯†åˆ«å¹¶æå–æ‰€æœ‰è¡¨æ ¼</span>
            PdfTable[] tables = extractor.ExtractTable(<span class="hljs-literal">true</span>); <span class="hljs-comment">// trueè¡¨ç¤ºå°è¯•è¯†åˆ«æ‰€æœ‰è¡¨æ ¼</span>

            <span class="hljs-keyword">if</span> (tables != <span class="hljs-literal">null</span> &amp;&amp; tables.Length &gt; <span class="hljs-number">0</span>)
            {
                Console.WriteLine(<span class="hljs-string">$"åœ¨é¡µé¢ <span class="hljs-subst">{<span class="hljs-number">1</span>}</span> ä¸­æ‰¾åˆ° <span class="hljs-subst">{tables.Length}</span> ä¸ªè¡¨æ ¼ã€‚"</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; tables.Length; i++)
                {
                    PdfTable table = tables[i];
                    Console.WriteLine(<span class="hljs-string">$"--- è¡¨æ ¼ <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span> å†…å®¹ ---"</span>);

                    <span class="hljs-comment">// éå†è¡¨æ ¼çš„è¡Œå’Œåˆ—</span>
                    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> r = <span class="hljs-number">0</span>; r &lt; table.RowCount; r++)
                    {
                        StringBuilder rowData = <span class="hljs-keyword">new</span> StringBuilder();
                        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> c = <span class="hljs-number">0</span>; c &lt; table.ColumnCount; c++)
                        {
                            <span class="hljs-comment">// è·å–å•å…ƒæ ¼å†…å®¹</span>
                            <span class="hljs-built_in">string</span> cellText = table.GetText(r, c);
                            rowData.Append(<span class="hljs-string">$"<span class="hljs-subst">{cellText,<span class="hljs-number">-20</span>}</span>"</span>); <span class="hljs-comment">// æ ¼å¼åŒ–è¾“å‡ºï¼Œç¡®ä¿å¯¹é½</span>
                        }
                        Console.WriteLine(rowData.ToString());
                    }
                    Console.WriteLine();
                }
            }
            <span class="hljs-keyword">else</span>
            {
                Console.WriteLine(<span class="hljs-string">"æœªåœ¨é¡µé¢ä¸­æ‰¾åˆ°è¡¨æ ¼ã€‚"</span>);
            }

            doc.Close();
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>PdfTableExtractor</code> æ˜¯ä¸“é—¨ç”¨äºè¡¨æ ¼è¯†åˆ«å’Œæå–çš„ç±»ã€‚</li>
<li><code>ExtractTable(true)</code> æ–¹æ³•ä¼šå°è¯•è¯†åˆ«é¡µé¢ä¸­çš„æ‰€æœ‰è¡¨æ ¼å¹¶è¿”å›ä¸€ä¸ª<code>PdfTable</code>æ•°ç»„ã€‚</li>
<li><code>PdfTable</code> å¯¹è±¡æä¾›äº†<code>RowCount</code>ã€<code>ColumnCount</code>ä»¥åŠ<code>GetText(row, column)</code>æ–¹æ³•æ¥è®¿é—®è¡¨æ ¼çš„ç»“æ„åŒ–æ•°æ®ã€‚</li>
</ul>
<p><strong>è¡¨æ ¼åº”ç”¨ç¤ºä¾‹è¾“å‡º:</strong>
å‡è®¾<code>TableSample.pdf</code>ä¸­æœ‰ä¸€ä¸ªç®€å•çš„è¡¨æ ¼ï¼š</p>




















<table><thead><tr><th align="left">Header 1</th><th align="left">Header 2</th><th align="left">Header 3</th></tr></thead><tbody><tr><td align="left">Data A1</td><td align="left">Data B1</td><td align="left">Data C1</td></tr><tr><td align="left">Data A2</td><td align="left">Data B2</td><td align="left">Data C2</td></tr></tbody></table>
<p>ä¸Šè¿°ä»£ç çš„è¾“å‡ºå¯èƒ½å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">åœ¨é¡µé¢ <span class="hljs-number">1</span> ä¸­æ‰¾åˆ° <span class="hljs-number">1</span> ä¸ªè¡¨æ ¼ã€‚
--- è¡¨æ ¼ <span class="hljs-number">1</span> å†…å®¹ ---
<span class="hljs-selector-tag">Header</span> <span class="hljs-number">1</span>            <span class="hljs-selector-tag">Header</span> <span class="hljs-number">2</span>            <span class="hljs-selector-tag">Header</span> <span class="hljs-number">3</span>            
Data A1             Data B1             Data C1             
Data A2             Data B2             Data C2             
</code></pre>
<hr/>
<h2 data-id="heading-8">æå‡æ•ˆç‡ï¼šC# PDFè§£æçš„é«˜çº§æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h2>
<p>é™¤äº†åŸºæœ¬çš„æ–‡æœ¬å’Œè¡¨æ ¼æå–ï¼ŒPDFè§£æè¿˜æœ‰è®¸å¤šé«˜çº§åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚å›¾åƒæå–ã€è¡¨å•åŸŸæ“ä½œã€æ–‡æ¡£åˆå¹¶ä¸åˆ†å‰²ç­‰ã€‚è™½ç„¶æœ¬æ–‡ä¸æ·±å…¥å±•å¼€æ‰€æœ‰é«˜çº§åŠŸèƒ½ï¼Œä½†ä»¥ä¸‹æ˜¯ä¸€äº›é€šç”¨çš„é«˜çº§æŠ€å·§å’Œæœ€ä½³å®è·µï¼Œå¯ä»¥å¸®åŠ©æ‚¨åœ¨å®é™…é¡¹ç›®ä¸­æ›´é«˜æ•ˆã€æ›´ç¨³å®šåœ°å¤„ç†PDFã€‚</p>
<ul>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–ä¸å†…å­˜ç®¡ç†:</strong> å¤„ç†å¤§å‹PDFæ–‡æ¡£æ—¶ï¼Œæ€§èƒ½å’Œå†…å­˜æ˜¯å…³é”®ã€‚</p>
<ul>
<li><strong>æŒ‰éœ€åŠ è½½:</strong> å¦‚æœåªå¤„ç†PDFçš„æŸå‡ é¡µï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªæ–‡æ¡£ã€‚</li>
<li><strong>åŠæ—¶é‡Šæ”¾èµ„æº:</strong> ç¡®ä¿åœ¨å®ŒæˆPDFæ“ä½œåè°ƒç”¨<code>doc.Close()</code>æˆ–ä½¿ç”¨<code>using</code>è¯­å¥ï¼Œä»¥é‡Šæ”¾æ–‡ä»¶å¥æŸ„å’Œå†…å­˜èµ„æºã€‚</li>
<li><strong>å¤šçº¿ç¨‹å¤„ç†:</strong> å¯¹äºæ‰¹é‡å¤„ç†å¤§é‡PDFæ–‡ä»¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¹¶è¡Œå¤„ç†æ¥åŠ é€Ÿã€‚</li>
</ul>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†ä¸é²æ£’æ€§è®¾è®¡:</strong> å®é™…çš„PDFæ–‡æ¡£å¯èƒ½å­˜åœ¨æŸåã€åŠ å¯†æˆ–æ ¼å¼ä¸è§„èŒƒçš„æƒ…å†µï¼Œå¯¼è‡´è§£æå¤±è´¥ã€‚</p>
<ul>
<li><strong>å¼‚å¸¸æ•è·:</strong> ä½¿ç”¨<code>try-catch</code>å—æ•è·åŠ è½½æˆ–è§£æè¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¾‹å¦‚<code>PdfException</code>ã€‚</li>
<li><strong>æ—¥å¿—è®°å½•:</strong> è¯¦ç»†è®°å½•é”™è¯¯ä¿¡æ¯ï¼Œæœ‰åŠ©äºæ’æŸ¥é—®é¢˜ã€‚</li>
<li><strong>æ ¡éªŒæœºåˆ¶:</strong> åœ¨å¤„ç†å‰å¯¹PDFæ–‡ä»¶è¿›è¡ŒåŸºæœ¬çš„æœ‰æ•ˆæ€§æ£€æŸ¥ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/CorruptedSample.pdf"</span>; <span class="hljs-comment">// å‡è®¾è¿™æ˜¯ä¸€ä¸ªæŸåæˆ–ä¸å­˜åœ¨çš„PDF</span>
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();

            <span class="hljs-keyword">try</span>
            {
                doc.LoadFromFile(pdfFilePath);
                Console.WriteLine(<span class="hljs-string">$"PDFæ–‡æ¡£ '<span class="hljs-subst">{pdfFilePath}</span>' å·²æˆåŠŸåŠ è½½ã€‚æ€»é¡µæ•°: <span class="hljs-subst">{doc.Pages.Count}</span>"</span>);
            }
            <span class="hljs-keyword">catch</span> (FileNotFoundException)
            {
                Console.WriteLine(<span class="hljs-string">$"é”™è¯¯: PDFæ–‡ä»¶ '<span class="hljs-subst">{pdfFilePath}</span>' æœªæ‰¾åˆ°ã€‚è¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„ã€‚"</span>);
            }
            <span class="hljs-keyword">catch</span> (PdfException ex)
            {
                Console.WriteLine(<span class="hljs-string">$"PDFè§£æé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
                <span class="hljs-comment">// è®°å½•æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯åˆ°æ—¥å¿—</span>
                <span class="hljs-comment">// Logger.LogError($"PDFè§£æå¤±è´¥: {ex.Message}", ex);</span>
            }
            <span class="hljs-keyword">catch</span> (Exception ex)
            {
                Console.WriteLine(<span class="hljs-string">$"å‘ç”ŸæœªçŸ¥é”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
            }
            <span class="hljs-keyword">finally</span>
            {
                doc.Close(); <span class="hljs-comment">// ç¡®ä¿å³ä½¿å‘ç”Ÿé”™è¯¯ä¹Ÿå°è¯•å…³é—­æ–‡æ¡£</span>
            }

            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li>é€šè¿‡æ•è·ç‰¹å®šçš„å¼‚å¸¸ç±»å‹ï¼ˆå¦‚<code>FileNotFoundException</code>, <code>PdfException</code>ï¼‰ï¼Œå¯ä»¥å¯¹ä¸åŒç±»å‹çš„é”™è¯¯è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„å¤„ç†ã€‚</li>
<li>åœ¨<code>finally</code>å—ä¸­å…³é—­æ–‡æ¡£æ˜¯è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œç¡®ä¿èµ„æºæ€»æ˜¯è¢«é‡Šæ”¾ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">æ€»ç»“ä¸å±•æœ›</h2>
<p>æœ¬æ–‡æ·±å…¥æ¢è®¨äº†å¦‚ä½•åˆ©ç”¨C#ç»“åˆSpire.PDF for .NETåº“ï¼Œé«˜æ•ˆä¸”å‡†ç¡®åœ°è§£æPDFæ–‡æ¡£ã€‚ä»ç¯å¢ƒé…ç½®ã€æ–‡æœ¬æå–åˆ°å¤æ‚çš„è¡¨æ ¼æ•°æ®è¯†åˆ«ï¼Œæˆ‘ä»¬æä¾›äº†è¯¦ç»†çš„æ­¥éª¤å’Œå¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œæ—¨åœ¨å¸®åŠ©C#å¼€å‘è€…è§£å†³åœ¨å®é™…é¡¹ç›®ä¸­é‡åˆ°çš„PDFå¤„ç†ç—›ç‚¹ã€‚</p>
<p>é€šè¿‡ç¨‹åºåŒ–è§£æPDFï¼Œæ‚¨å¯ä»¥å°†ç¹ççš„æ‰‹åŠ¨æ•°æ®å½•å…¥å’Œå†…å®¹æ£€ç´¢ä»»åŠ¡è‡ªåŠ¨åŒ–ï¼Œæå¤§åœ°æå‡å·¥ä½œæ•ˆç‡ï¼Œå¹¶ä¸ºæ„å»ºæ™ºèƒ½æ–‡æ¡£å¤„ç†ç³»ç»Ÿå¥ å®šåŸºç¡€ã€‚æ— è®ºæ˜¯è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆã€æ•°æ®æŠ½å–ã€ä¿¡æ¯æ ¸å¯¹ï¼Œè¿˜æ˜¯å…¶ä»–ä»»ä½•éœ€è¦ä»PDFä¸­è·å–ä¿¡æ¯çš„åœºæ™¯ï¼ŒC#é…åˆå¼ºå¤§çš„PDFå¤„ç†å·¥å…·éƒ½èƒ½ä¸ºæ‚¨æä¾›åšå®çš„æŠ€æœ¯æ”¯æ’‘ã€‚</p>
<p>PDFè§£ææŠ€æœ¯ä»åœ¨ä¸æ–­å‘å±•ï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰æ›´æ™ºèƒ½çš„AIé©±åŠ¨çš„å¸ƒå±€åˆ†æå’Œè¯­ä¹‰ç†è§£èƒ½åŠ›ã€‚ä½†æŒæ¡å¥½å½“å‰ä¸»æµçš„è§£æå·¥å…·å’Œæ–¹æ³•ï¼Œæ˜¯æ‹¥æŠ±è¿™äº›æœªæ¥è¶‹åŠ¿çš„å…³é”®ç¬¬ä¸€æ­¥ã€‚æˆ‘ä»¬é¼“åŠ±æ‚¨å°†æ‰€å­¦çŸ¥è¯†åº”ç”¨äºå®é™…é¡¹ç›®ï¼Œæ¢ç´¢æ›´å¤šPDFè‡ªåŠ¨åŒ–çš„å¯èƒ½æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Windows MySQL 8.4 é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†]]></title>    <link>https://juejin.cn/post/7585019819192778762</link>    <guid>https://juejin.cn/post/7585019819192778762</guid>    <pubDate>2025-12-18T09:47:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585019819192778762" data-draft-id="7585021315691053066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Windows MySQL 8.4 é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-18T09:47:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Windows MySQL 8.4 é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:47:24.000Z" title="Thu Dec 18 2025 09:47:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Windows MySQL 8.4 é…ç½®å®Œæ•´æŒ‡å—</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#%E4%B8%80%E5%88%9B%E5%BB%BA%E4%B8%8D%E9%99%90-ip-%E8%AE%BF%E9%97%AE%E7%9A%84%E8%B4%A6%E5%8F%B7" title="#%E4%B8%80%E5%88%9B%E5%BB%BA%E4%B8%8D%E9%99%90-ip-%E8%AE%BF%E9%97%AE%E7%9A%84%E8%B4%A6%E5%8F%B7">ä¸€ã€åˆ›å»ºä¸é™ IP è®¿é—®çš„è´¦å·</a></li>
<li><a href="#%E4%BA%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E4%B8%8E%E5%88%9B%E5%BB%BA" title="#%E4%BA%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E4%B8%8E%E5%88%9B%E5%BB%BA">äºŒã€é…ç½®æ–‡ä»¶ä½ç½®ä¸åˆ›å»º</a></li>
<li><a href="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3" title="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3">ä¸‰ã€é…ç½®æ–‡ä»¶å†…å®¹è¯¦è§£</a></li>
<li><a href="#%E5%9B%9B%E9%AA%8C%E8%AF%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E7%94%9F%E6%95%88" title="#%E5%9B%9B%E9%AA%8C%E8%AF%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E7%94%9F%E6%95%88">å››ã€éªŒè¯é…ç½®æ–‡ä»¶æ˜¯å¦ç”Ÿæ•ˆ</a></li>
<li><a href="#%E4%BA%94%E5%85%B3%E9%94%AE%E9%85%8D%E7%BD%AE%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3" title="#%E4%BA%94%E5%85%B3%E9%94%AE%E9%85%8D%E7%BD%AE%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3">äº”ã€å…³é”®é…ç½®å­—æ®µè¯¦è§£</a></li>
<li><a href="#%E5%85%AD%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95" title="#%E5%85%AD%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95">å…­ã€è¿œç¨‹è¿æ¥æ£€æŸ¥æ¸…å•</a></li>
<li><a href="#%E4%B8%83%E6%89%A9%E5%B1%95%E5%86%85%E5%AE%B9" title="#%E4%B8%83%E6%89%A9%E5%B1%95%E5%86%85%E5%AE%B9">ä¸ƒã€æ‰©å±•å†…å®¹</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">ä¸€ã€åˆ›å»ºä¸é™ IP è®¿é—®çš„è´¦å·</h3>
<h4 data-id="heading-3">1.1 æ ¸å¿ƒæ¦‚å¿µ</h4>
<p><strong>ä¸é™åˆ¶ IP = ä½¿ç”¨ <code>'%'</code> ä½œä¸º host</strong></p>
<p>åœ¨ MySQL ä¸­ï¼Œ<code>'%'</code> è¡¨ç¤ºå…è®¸æ¥è‡ªä»»ä½• IP åœ°å€çš„è¿æ¥ã€‚</p>
<h4 data-id="heading-4">1.2 æ“ä½œæ­¥éª¤</h4>
<h5 data-id="heading-5">æ­¥éª¤ 1ï¼šç™»å½• MySQLï¼ˆä½¿ç”¨ root è´¦å·ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">mysql -u root -p
</code></pre>
<h5 data-id="heading-6">æ­¥éª¤ 2ï¼šåˆ›å»ºç”¨æˆ·ï¼ˆå…è®¸ä»»æ„ IP è¿æ¥ï¼‰</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'123123'</span>;
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>'dzm'</code>ï¼šç”¨æˆ·å</li>
<li><code>'%'</code>ï¼šhostï¼Œè¡¨ç¤ºå…è®¸ä»»ä½• IP åœ°å€è¿æ¥</li>
<li><code>'123123'</code>ï¼šç”¨æˆ·å¯†ç </li>
</ul>
<h5 data-id="heading-7">æ­¥éª¤ 3ï¼šæˆæƒ</h5>
<p><strong>å¼€å‘é˜¶æ®µå¸¸ç”¨ï¼ˆå…¨éƒ¨æ•°æ®åº“æƒé™ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;
</code></pre>
<p><strong>ç”Ÿäº§ç¯å¢ƒæ¨èï¼ˆä»…æŸä¸ªæ•°æ®åº“æƒé™ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> test_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span>;
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>ALL PRIVILEGES</code>ï¼šæ‰€æœ‰æƒé™</li>
<li><code>*.*</code>ï¼šæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li><code>test_db.*</code>ï¼šä»… test_db æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li><code>WITH GRANT OPTION</code>ï¼šå…è®¸è¯¥ç”¨æˆ·æˆæƒç»™å…¶ä»–ç”¨æˆ·ï¼ˆå¼€å‘é˜¶æ®µå¸¸ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒæ…ç”¨ï¼‰</li>
</ul>
<h5 data-id="heading-8">æ­¥éª¤ 4ï¼šåˆ·æ–°æƒé™</h5>
<pre><code class="hljs language-sql" lang="sql">FLUSH PRIVILEGES;
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šMySQL 8.x ä¸­æ­¤å‘½ä»¤å®é™…å¯çœç•¥ï¼Œä½†å»ºè®®æ‰§è¡Œä»¥ç¡®ä¿æƒé™ç«‹å³ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h5 data-id="heading-9">æ­¥éª¤ 5ï¼šéªŒè¯ç”¨æˆ·æ˜¯å¦åˆ›å»ºæˆåŠŸ</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> <span class="hljs-string">'dzm'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">|</span> host <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> dzm  <span class="hljs-operator">|</span> <span class="hljs-operator">%</span>    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
</code></pre>
<p>çœ‹åˆ° <code>host</code> ä¸º <code>%</code> å³è¡¨ç¤ºä¸é™åˆ¶ IPã€‚</p>
<hr/>
<h3 data-id="heading-10">äºŒã€é…ç½®æ–‡ä»¶ä½ç½®ä¸åˆ›å»º</h3>
<h4 data-id="heading-11">2.1 æŸ¥æ‰¾ MySQL é…ç½®æ–‡ä»¶ä½ç½®</h4>
<h5 data-id="heading-12">æ–¹æ³• 1ï¼šæŸ¥è¯¢ MySQL å˜é‡ï¼ˆæ¨èï¼‰</h5>
<p>ç™»å½• MySQL åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'basedir'</span>;
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'datadir'</span>;
</code></pre>
<p><strong>ç¤ºä¾‹è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">basedir</span> = C:\Program Files\MySQL\MySQL Server <span class="hljs-number">8.4</span>\
<span class="hljs-attr">datadir</span> = C:\Program Files\MySQL\MySQL Server <span class="hljs-number">8.4</span>\data\
</code></pre>
<h5 data-id="heading-13">æ–¹æ³• 2ï¼šæŸ¥çœ‹é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºï¼ˆæœ€å‡†ç¡®ï¼‰</h5>
<p>åœ¨<strong>ç®¡ç†å‘˜ CMD</strong> ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr my.ini
</code></pre>
<p><strong>å®é™…æµ‹è¯•ç»“æœï¼ˆåŸºäº winget / å®˜æ–¹ MSI é»˜è®¤å®‰è£…ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">C:\WINDOWS\my.ini</span>
<span class="hljs-section">C:\WINDOWS\my.cnf</span>
<span class="hljs-section">C:\my.ini</span>
<span class="hljs-section">C:\my.cnf</span>
<span class="hljs-section">C:\Program Files\MySQL\MySQL Server 8.4\my.ini</span>
<span class="hljs-section">C:\Program Files\MySQL\MySQL Server 8.4\my.cnf</span>
</code></pre>
<blockquote>
<p><strong>é‡è¦</strong>ï¼šæ­¤æŸ¥æ‰¾é¡ºåº<strong>ä¸åŒ…å«</strong> <code>C:\ProgramData\MySQL\MySQL Server 8.4\my.ini</code></p>
</blockquote>
<h4 data-id="heading-14">2.2 æ­£ç¡®çš„é…ç½®æ–‡ä»¶ä½ç½®</h4>
<p><strong>âœ… ç”Ÿæ•ˆä½ç½®ï¼ˆåŸºäºå®é™…æµ‹è¯•ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>è¿™æ˜¯åŸºäº <code>basedir</code> çš„é»˜è®¤æŸ¥æ‰¾ä½ç½®</li>
<li>å®˜æ–¹æ”¯æŒï¼Œå®Œå…¨åˆæ³•</li>
<li>é€‚ç”¨äº winget / å®˜æ–¹ MSI é»˜è®¤å®‰è£…æ–¹å¼</li>
</ul>
<h4 data-id="heading-15">2.3 åˆ›å»ºé…ç½®æ–‡ä»¶</h4>
<h5 data-id="heading-16">æ­¥éª¤ 1ï¼šåˆ›å»º my.ini æ–‡ä»¶</h5>
<p>åœ¨ä»¥ä¸‹è·¯å¾„åˆ›å»ºæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œç›´æ¥ç¼–è¾‘å³å¯ã€‚</p>
</blockquote>
<h5 data-id="heading-17">æ­¥éª¤ 2ï¼šå†™å…¥é…ç½®å†…å®¹</h5>
<p>å‚è€ƒ <a href="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3" title="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3">ä¸‰ã€é…ç½®æ–‡ä»¶å†…å®¹è¯¦è§£</a> ç« èŠ‚ã€‚</p>
<h5 data-id="heading-18">æ­¥éª¤ 3ï¼šé‡å¯ MySQL æœåŠ¡ï¼ˆå¿…é¡»ï¼‰</h5>
<p><strong>æŸ¥æ‰¾ MySQL æœåŠ¡åï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sc query | findstr MySQL
</code></pre>
<p><strong>åœæ­¢æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">net stop MySQL80
</code></pre>
<p><strong>å¯åŠ¨æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">net start MySQL80
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæœåŠ¡åä¸æ˜¯ <code>MySQL80</code>ï¼Œè¯·ä½¿ç”¨ <code>sc query</code> æŸ¥è¯¢åˆ°çš„å®é™…æœåŠ¡åã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">ä¸‰ã€é…ç½®æ–‡ä»¶å†…å®¹è¯¦è§£</h3>
<h4 data-id="heading-20">3.1 æœ€å°å¯ç”¨é…ç½®ï¼ˆæ”¯æŒè¿œç¨‹è®¿é—®ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">port</span>=<span class="hljs-number">3306</span>
<span class="hljs-attr">bind-address</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
<span class="hljs-attr">character-set-server</span>=utf8mb4
<span class="hljs-attr">collation-server</span>=utf8mb4_general_ci

<span class="hljs-section">[client]</span>
<span class="hljs-attr">default-character-set</span>=utf8mb4
</code></pre>
<h4 data-id="heading-21">3.2 é…ç½®é¡¹è¯´æ˜</h4>
<h5 data-id="heading-22"><code>[mysqld]</code> æ®µï¼ˆæœåŠ¡å™¨é…ç½®ï¼‰</h5>






























<table><thead><tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>port</code></td><td><code>3306</code></td><td>MySQL æœåŠ¡ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ 3306</td></tr><tr><td><code>bind-address</code></td><td><code>0.0.0.0</code></td><td>ç›‘å¬æ‰€æœ‰ IPv4 ç½‘å¡ï¼Œå…è®¸è¿œç¨‹è¿æ¥ã€‚è¯¦è§ <a href="#51-bind_address-%E8%AF%A6%E8%A7%A3" title="#51-bind_address-%E8%AF%A6%E8%A7%A3">bind_address è¯¦è§£</a></td></tr><tr><td><code>character-set-server</code></td><td><code>utf8mb4</code></td><td>æœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†ï¼Œæ”¯æŒ emoji å’Œç‰¹æ®Šå­—ç¬¦</td></tr><tr><td><code>collation-server</code></td><td><code>utf8mb4_general_ci</code></td><td>æœåŠ¡å™¨é»˜è®¤æ’åºè§„åˆ™</td></tr></tbody></table>
<h5 data-id="heading-23"><code>[client]</code> æ®µï¼ˆå®¢æˆ·ç«¯é…ç½®ï¼‰</h5>















<table><thead><tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>default-character-set</code></td><td><code>utf8mb4</code></td><td>å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</td></tr></tbody></table>
<h4 data-id="heading-24">3.3 é…ç½®æ–‡ä»¶ç¼–ç è¦æ±‚</h4>
<ul>
<li><strong>å¿…é¡»ä½¿ç”¨</strong>ï¼šANSI æˆ– UTF-8 æ—  BOM</li>
<li><strong>ç¦æ­¢ä½¿ç”¨</strong>ï¼šUTF-16</li>
</ul>
<blockquote>
<p><strong>æç¤º</strong>ï¼šä½¿ç”¨ Windows è®°äº‹æœ¬ä¿å­˜æ—¶ï¼Œé€‰æ‹©"å¦å­˜ä¸º"ï¼Œç¼–ç é€‰æ‹©"UTF-8"ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-25">å››ã€éªŒè¯é…ç½®æ–‡ä»¶æ˜¯å¦ç”Ÿæ•ˆ</h3>
<h4 data-id="heading-26">4.1 æ–¹æ³•ä¸€ï¼šæŸ¥çœ‹ MySQL è¯»å–çš„é…ç½®æ–‡ä»¶ï¼ˆæœ€æƒå¨ï¼‰</h4>
<p>åœ¨<strong>ç®¡ç†å‘˜ CMD</strong> ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr /i <span class="hljs-string">"Default options"</span>
</code></pre>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">Default</span> options <span class="hljs-keyword">are</span> read <span class="hljs-keyword">from</span> the following files:
C:\Program Files\MySQL\MySQL Server <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<blockquote>
<p>å¦‚æœçœ‹åˆ°ä½ åˆ›å»ºçš„ <code>my.ini</code> è·¯å¾„ï¼Œè¯´æ˜é…ç½®æ–‡ä»¶ <strong>100% ç”Ÿæ•ˆ</strong>ã€‚</p>
</blockquote>
<h4 data-id="heading-27">4.2 æ–¹æ³•äºŒï¼šé€šè¿‡é…ç½®é¡¹åå‘éªŒè¯ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>ç™»å½• MySQL åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'character_set_server'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">bind_address</span> = <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>  ï¼ˆæˆ–æ˜¾ç¤ºä¸º *ï¼Œç­‰ä»·äº <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>ï¼‰
<span class="hljs-attr">character_set_server</span> = utf8mb4
</code></pre>
<blockquote>
<p>å¦‚æœè¿”å›çš„å€¼ä¸ä½ é…ç½®çš„å€¼ä¸€è‡´ï¼Œè¯´æ˜é…ç½®æ–‡ä»¶å·²ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h4 data-id="heading-28">4.3 æ–¹æ³•ä¸‰ï¼šä¿®æ”¹æ˜æ˜¾é…ç½®é¡¹æµ‹è¯•ï¼ˆå·¥ç¨‹å¸ˆå¸¸ç”¨ï¼‰</h4>
<ol>
<li>
<p>åœ¨ <code>my.ini</code> ä¸­ä¸´æ—¶ä¿®æ”¹ç«¯å£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">port</span>=<span class="hljs-number">3307</span>
</code></pre>
</li>
<li>
<p>é‡å¯ MySQL æœåŠ¡</p>
</li>
<li>
<p>éªŒè¯ç«¯å£ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'port'</span>;
</code></pre>
<p>å¦‚æœçœ‹åˆ° <code>3307</code>ï¼Œè¯´æ˜é…ç½®æ–‡ä»¶ä¸€å®šç”Ÿæ•ˆäº†ã€‚</p>
</li>
<li>
<p>æµ‹è¯•å®Œæˆåæ”¹å› <code>3306</code></p>
</li>
</ol>
<h4 data-id="heading-29">4.4 æ–¹æ³•å››ï¼šæŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼ˆé«˜çº§ï¼‰</h4>
<ol>
<li>
<p>æŸ¥è¯¢æ—¥å¿—ä½ç½®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'log_error'</span>;
</code></pre>
</li>
<li>
<p>æ‰“å¼€æ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¯åŠ¨æ—¶çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Reading <span class="hljs-keyword">option</span> file <span class="hljs-comment">'C:\Program Files\MySQL\MySQL Server 8.4\my.ini'</span>
</code></pre>
<p>å¦‚æœçœ‹åˆ°æ­¤ä¿¡æ¯ï¼Œè¯´æ˜ <code>my.ini</code> è¢«åŠ è½½ã€‚</p>
</li>
</ol>
<h4 data-id="heading-30">4.5 å¸¸è§é—®é¢˜æ’æŸ¥</h4>

























<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ³•</th></tr></thead><tbody><tr><td>é…ç½®ä¸ç”Ÿæ•ˆ</td><td>å¿˜è®°é‡å¯æœåŠ¡</td><td>æ‰§è¡Œ <code>net stop MySQL80</code> å’Œ <code>net start MySQL80</code></td></tr><tr><td>é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æ–‡ä»¶ä½ç½®é”™è¯¯</td><td>ä½¿ç”¨ <code>mysqld --verbose --help</code> ç¡®è®¤æŸ¥æ‰¾é¡ºåº</td></tr><tr><td>é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æ–‡ä»¶ç¼–ç é”™è¯¯</td><td>ç¡®ä¿ä½¿ç”¨ ANSI æˆ– UTF-8 æ—  BOM</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-31">äº”ã€å…³é”®é…ç½®å­—æ®µè¯¦è§£</h3>
<h4 data-id="heading-32">5.1 bind_address è¯¦è§£</h4>
<h5 data-id="heading-33">æ ¸å¿ƒæ¦‚å¿µ</h5>
<p><code>bind_address</code> å†³å®š <strong>MySQL æœåŠ¡ç›‘å¬å“ªä¸ªæœ¬åœ° IP åœ°å€</strong>ã€‚</p>
<p><strong>é‡è¦åŒºåˆ†ï¼š</strong></p>
<ul>
<li><code>bind_address</code>ï¼šæ§åˆ¶ MySQL <strong>ç›‘å¬å“ª</strong>ï¼ˆæœåŠ¡å±‚ï¼‰</li>
<li><code>user@host</code>ï¼šæ§åˆ¶ <strong>è°èƒ½è¿</strong>ï¼ˆæƒé™å±‚ï¼‰</li>
</ul>
<h5 data-id="heading-34">å¸¸è§å€¼åŠå«ä¹‰</h5>






























<table><thead><tr><th>å€¼</th><th>å«ä¹‰</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>127.0.0.1</code> æˆ– <code>localhost</code></td><td>åªç›‘å¬æœ¬æœº</td><td>å•æœºå¼€å‘ã€æœ¬åœ°æµ‹è¯•</td></tr><tr><td><code>0.0.0.0</code></td><td>ç›‘å¬æ‰€æœ‰ IPv4 ç½‘å¡</td><td><strong>å¼€å‘/æœåŠ¡å™¨æœ€å¸¸ç”¨</strong></td></tr><tr><td><code>*</code></td><td>ç­‰ä»·äº <code>0.0.0.0</code></td><td>MySQL æ˜¾ç¤ºå€¼ï¼Œé…ç½®æ–‡ä»¶å»ºè®®å†™ <code>0.0.0.0</code></td></tr><tr><td><code>192.168.1.100</code></td><td>åªç›‘å¬æŒ‡å®š IP</td><td>ç”Ÿäº§ç¯å¢ƒï¼Œæ›´å®‰å…¨</td></tr></tbody></table>
<h5 data-id="heading-35">ä¸ºä»€ä¹ˆ SHOW VARIABLES æ˜¾ç¤º <code>*</code>ï¼Ÿ</h5>
<p>MySQL å†…éƒ¨å°†"ä»»æ„åœ°å€"æ˜¾ç¤ºä¸º <code>*</code>ï¼Œå®é™…æ•ˆæœä¸ <code>0.0.0.0</code> ç›¸åŒã€‚</p>
<p><strong>éªŒè¯å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;
</code></pre>
<p><strong>ç»“æœè¯´æ˜ï¼š</strong></p>
<ul>
<li>æ˜¾ç¤º <code>*</code> æˆ– <code>0.0.0.0</code>ï¼šå·²å…è®¸è¿œç¨‹è¿æ¥ï¼ˆæœåŠ¡å±‚ï¼‰</li>
<li>æ˜¾ç¤º <code>127.0.0.1</code>ï¼šä»…å…è®¸æœ¬æœºè¿æ¥</li>
</ul>
<h5 data-id="heading-36">é…ç½®æ–‡ä»¶å†™æ³•ï¼ˆæœ€ä½³å®è·µï¼‰</h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">bind-address</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
</code></pre>
<blockquote>
<p><strong>ä¸æ¨è</strong>åœ¨é…ç½®æ–‡ä»¶ä¸­å†™ <code>*</code>ï¼ˆå¯è¯»æ€§å·®ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-37">5.2 ç”¨æˆ·æƒé™ç›¸å…³å­—æ®µ</h4>
<h5 data-id="heading-38">CREATE USER è¯­æ³•</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'username'</span>@<span class="hljs-string">'host'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'password'</span>;
</code></pre>
<p><strong>host å­—æ®µè¯´æ˜ï¼š</strong></p>






























<table><thead><tr><th>host å€¼</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>'%'</code></td><td>å…è®¸ä»»ä½• IP è¿æ¥</td><td><code>'dzm'@'%'</code></td></tr><tr><td><code>'localhost'</code></td><td>ä»…å…è®¸æœ¬æœºè¿æ¥</td><td><code>'dzm'@'localhost'</code></td></tr><tr><td><code>'192.168.1.%'</code></td><td>å…è®¸æŒ‡å®šç½‘æ®µ</td><td><code>'dzm'@'192.168.1.%'</code></td></tr><tr><td><code>'192.168.1.100'</code></td><td>ä»…å…è®¸æŒ‡å®š IP</td><td><code>'dzm'@'192.168.1.100'</code></td></tr></tbody></table>
<h5 data-id="heading-39">GRANT æƒé™è¯´æ˜</h5>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>CREATE USER</code> åªåˆ›å»ºç”¨æˆ·è´¦å·ï¼Œ<strong>ä¸æˆäºˆä»»ä½•æƒé™</strong></li>
<li>æƒé™èŒƒå›´æ˜¯åœ¨ <code>GRANT</code> å‘½ä»¤ä¸­æŒ‡å®šçš„ï¼Œä¸æ˜¯åœ¨ <code>CREATE USER</code> æ—¶æŒ‡å®š</li>
<li>åˆ›å»ºç”¨æˆ·åå¿…é¡»ä½¿ç”¨ <code>GRANT</code> æˆäºˆæƒé™ï¼Œç”¨æˆ·æ‰èƒ½è®¿é—®æ•°æ®åº“</li>
<li>å¯ä»¥åœ¨åˆ›å»ºç”¨æˆ·åç«‹å³ä½¿ç”¨ <code>GRANT</code> æˆæƒï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æµç¨‹</li>
</ul>
<p><strong>æƒé™çº§åˆ«ï¼š</strong></p>

























<table><thead><tr><th>æƒé™èŒƒå›´</th><th>è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ‰€æœ‰æ•°æ®åº“</td><td><code>*.*</code></td><td>æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</td></tr><tr><td>å•ä¸ªæ•°æ®åº“</td><td><code>database_name.*</code></td><td>æŒ‡å®šæ•°æ®åº“çš„æ‰€æœ‰è¡¨</td></tr><tr><td>å•ä¸ªè¡¨</td><td><code>database_name.table_name</code></td><td>æŒ‡å®šæ•°æ®åº“çš„æŒ‡å®šè¡¨</td></tr></tbody></table>
<p><strong>å¸¸ç”¨æƒé™ï¼š</strong></p>





































<table><thead><tr><th>æƒé™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>ALL PRIVILEGES</code></td><td>æ‰€æœ‰æƒé™ï¼ˆå¼€å‘é˜¶æ®µå¸¸ç”¨ï¼‰</td></tr><tr><td><code>SELECT</code></td><td>æŸ¥è¯¢æƒé™</td></tr><tr><td><code>INSERT</code></td><td>æ’å…¥æƒé™</td></tr><tr><td><code>UPDATE</code></td><td>æ›´æ–°æƒé™</td></tr><tr><td><code>DELETE</code></td><td>åˆ é™¤æƒé™</td></tr><tr><td><code>CREATE</code></td><td>åˆ›å»ºè¡¨/æ•°æ®åº“æƒé™</td></tr><tr><td><code>DROP</code></td><td>åˆ é™¤è¡¨/æ•°æ®åº“æƒé™</td></tr></tbody></table>
<h5 data-id="heading-40">åˆ›å»ºç”¨æˆ·å¹¶æˆæƒå®Œæ•´æ¡ˆä¾‹</h5>
<p>ä»¥ä¸‹æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•åˆ›å»ºç”¨æˆ·å¹¶æˆäºˆä¸åŒçº§åˆ«çš„æƒé™ï¼š</p>
<p><strong>æ¡ˆä¾‹ 1ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆæ‰€æœ‰æ•°æ®åº“æƒé™ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'dev_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'dev123456'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dev_user'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>*.*</code> è¡¨ç¤ºæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li><code>WITH GRANT OPTION</code> å…è®¸è¯¥ç”¨æˆ·æˆæƒç»™å…¶ä»–ç”¨æˆ·</li>
<li>é€‚ç”¨äºå¼€å‘ã€æµ‹è¯•ç¯å¢ƒ</li>
</ul>
<hr/>
<p><strong>æ¡ˆä¾‹ 2ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆå•ä¸ªæ•°æ®åº“æƒé™ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'app_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'strong_password_123'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆå•ä¸ªæ•°æ®åº“çš„æ‰€æœ‰æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> myapp_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'app_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>myapp_db.*</code> è¡¨ç¤ºä»… <code>myapp_db</code> æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li>ç”¨æˆ·æ— æ³•è®¿é—®å…¶ä»–æ•°æ®åº“ï¼Œæ›´å®‰å…¨</li>
<li>é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<p><strong>éªŒè¯æƒé™ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·æƒé™</span>
<span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">'app_user'</span>@<span class="hljs-string">'%'</span>;
</code></pre>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">+</span><span class="hljs-comment">----------------------------------------------------------+</span>
<span class="hljs-operator">|</span> Grants <span class="hljs-keyword">for</span> app_user@<span class="hljs-operator">%</span>                                    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------------------------------------+</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">GRANT</span> USAGE <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> `app_user`@`<span class="hljs-operator">%</span>`                    <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> `myapp_db`.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> `app_user`@`<span class="hljs-operator">%</span>`  <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------------------------------------+</span>
</code></pre>
<hr/>
<p><strong>æ¡ˆä¾‹ 3ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆå•ä¸ªè¡¨æƒé™ï¼ˆæœ€å°æƒé™åŸåˆ™ï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'readonly_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'readonly_pass'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆå•ä¸ªè¡¨çš„åªè¯»æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ON</span> myapp_db.users <span class="hljs-keyword">TO</span> <span class="hljs-string">'readonly_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>myapp_db.users</code> è¡¨ç¤ºä»… <code>myapp_db</code> æ•°æ®åº“çš„ <code>users</code> è¡¨</li>
<li>åªæˆäºˆ <code>SELECT</code> æƒé™ï¼Œç”¨æˆ·åªèƒ½æŸ¥è¯¢ï¼Œä¸èƒ½ä¿®æ”¹</li>
<li>é€‚ç”¨äºæŠ¥è¡¨ã€æ•°æ®åˆ†æç­‰åªè¯»åœºæ™¯</li>
</ul>
<p><strong>éªŒè¯æƒé™ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·æƒé™</span>
<span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">'readonly_user'</span>@<span class="hljs-string">'%'</span>;
</code></pre>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-go" lang="go">+----------------------------------------------------------+
| Grants <span class="hljs-keyword">for</span> readonly_user@%                               |
+----------------------------------------------------------+
| GRANT USAGE ON *.* TO <span class="hljs-string">`readonly_user`</span>@<span class="hljs-string">`%`</span>               |
| GRANT SELECT ON <span class="hljs-string">`myapp_db`</span>.<span class="hljs-string">`users`</span> TO <span class="hljs-string">`readonly_user`</span>@<span class="hljs-string">`%`</span>|
+----------------------------------------------------------+
</code></pre>
<hr/>
<p><strong>æ¡ˆä¾‹ 4ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆå¤šä¸ªæ•°æ®åº“æƒé™</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'multi_pass'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆå¤šä¸ªæ•°æ®åº“çš„æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> db1.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span>, <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">ON</span> db2.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ON</span> db3.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å¯ä»¥ä¸ºåŒä¸€ç”¨æˆ·æˆäºˆå¤šä¸ªæ•°æ®åº“çš„ä¸åŒæƒé™</li>
<li><code>db1.*</code> è·å¾—æ‰€æœ‰æƒé™</li>
<li><code>db2.*</code> ä»…è·å¾—æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°æƒé™</li>
<li><code>db3.*</code> ä»…è·å¾—æŸ¥è¯¢æƒé™</li>
</ul>
<hr/>
<p><strong>æ¡ˆä¾‹ 5ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆç‰¹å®šæƒé™ç»„åˆï¼ˆç”Ÿäº§ç¯å¢ƒå¸¸ç”¨ï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'api_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'api_secure_pass'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆç‰¹å®šæƒé™ï¼ˆä¸åŒ…æ‹¬ DROPã€CREATE ç­‰å±é™©æƒé™ï¼‰</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span>, <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span>, <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">ON</span> myapp_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'api_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æˆäºˆå¸¸ç”¨çš„ CRUD æƒé™ï¼ˆSELECTã€INSERTã€UPDATEã€DELETEï¼‰</li>
<li>ä¸æˆäºˆ CREATEã€DROPã€ALTER ç­‰ç»“æ„ä¿®æ”¹æƒé™</li>
<li>é€‚ç”¨äºåº”ç”¨ç¨‹åºè¿æ¥ï¼Œé˜²æ­¢è¯¯æ“ä½œåˆ é™¤è¡¨æˆ–æ•°æ®åº“</li>
</ul>
<hr/>
<p><strong>æƒé™éªŒè¯å‘½ä»¤æ±‡æ€»ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> <span class="hljs-string">'your_username'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·æƒé™è¯¦æƒ…</span>
<span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">'your_username'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™</span>
<span class="hljs-keyword">SHOW</span> GRANTS;

<span class="hljs-comment">-- æŸ¥çœ‹æ•°æ®åº“æƒé™</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> mysql.db <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">User</span> <span class="hljs-operator">=</span> <span class="hljs-string">'your_username'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹è¡¨æƒé™</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> mysql.tables_priv <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">User</span> <span class="hljs-operator">=</span> <span class="hljs-string">'your_username'</span>;
</code></pre>
<h4 data-id="heading-41">5.3 å­—ç¬¦é›†ç›¸å…³å­—æ®µ</h4>
<h5 data-id="heading-42">character-set-server</h5>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†</li>
<li><strong>æ¨èå€¼</strong>ï¼š<code>utf8mb4</code>ï¼ˆæ”¯æŒ emoji å’Œ 4 å­—èŠ‚å­—ç¬¦ï¼‰</li>
<li><strong>æŸ¥çœ‹å‘½ä»¤</strong>ï¼š<code>SHOW VARIABLES LIKE 'character_set_server';</code></li>
</ul>
<h5 data-id="heading-43">collation-server</h5>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæœåŠ¡å™¨é»˜è®¤æ’åºè§„åˆ™</li>
<li><strong>æ¨èå€¼</strong>ï¼š<code>utf8mb4_general_ci</code>ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</li>
<li><strong>æŸ¥çœ‹å‘½ä»¤</strong>ï¼š<code>SHOW VARIABLES LIKE 'collation_server';</code></li>
</ul>
<h5 data-id="heading-44">å­—ç¬¦é›†é€‰æ‹©å»ºè®®</h5>

























<table><thead><tr><th>å­—ç¬¦é›†</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>utf8mb4</code></td><td>å®Œæ•´ UTF-8ï¼Œæ”¯æŒ emoji</td><td><strong>æ¨èï¼Œç°ä»£åº”ç”¨é¦–é€‰</strong></td></tr><tr><td><code>utf8</code></td><td>MySQL çš„"ä¼ª UTF-8"ï¼ˆ3 å­—èŠ‚ï¼‰</td><td>ä¸æ¨èï¼Œå·²è¿‡æ—¶</td></tr><tr><td><code>latin1</code></td><td>å•å­—èŠ‚å­—ç¬¦é›†</td><td>ä»…è‹±æ–‡åœºæ™¯</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-45">å…­ã€è¿œç¨‹è¿æ¥æ£€æŸ¥æ¸…å•</h3>
<h4 data-id="heading-46">6.1 æ£€æŸ¥é¡¹åˆ—è¡¨</h4>
<h5 data-id="heading-47">âœ… 1. ç”¨æˆ· host ä¸º <code>%</code></h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span><span class="hljs-operator">=</span><span class="hljs-string">'dzm'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">|</span> host <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> dzm  <span class="hljs-operator">|</span> <span class="hljs-operator">%</span>    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
</code></pre>
<h5 data-id="heading-48">âœ… 2. MySQL ç›‘å¬åœ°å€ä¸º <code>0.0.0.0</code> æˆ– <code>*</code></h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">bind_address</span> = <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>  ï¼ˆæˆ– *ï¼‰
</code></pre>
<h5 data-id="heading-49">âœ… 3. Windows é˜²ç«å¢™æ”¾è¡Œ 3306 ç«¯å£</h5>
<p>åœ¨<strong>ç®¡ç†å‘˜ CMD</strong> ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">netsh advfirewall firewall add rule name=<span class="hljs-string">"MySQL 3306"</span> <span class="hljs-built_in">dir</span>=<span class="hljs-keyword">in</span> action=allow protocol=TCP localport=3306
</code></pre>
<p><strong>éªŒè¯é˜²ç«å¢™è§„åˆ™ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">netsh advfirewall firewall show rule name=<span class="hljs-string">"MySQL 3306"</span>
</code></pre>
<h4 data-id="heading-50">6.2 æµ‹è¯•è¿œç¨‹è¿æ¥</h4>
<p>åœ¨å¦ä¸€å°æœºå™¨æˆ–æœ¬æœºæ¨¡æ‹Ÿè¿œç¨‹è¿æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysql -u dzm -p -h æœåŠ¡å™¨IP -P 3306
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>-u dzm</code>ï¼šç”¨æˆ·å</li>
<li><code>-p</code>ï¼šæç¤ºè¾“å…¥å¯†ç </li>
<li><code>-h æœåŠ¡å™¨IP</code>ï¼šæœåŠ¡å™¨ IP åœ°å€</li>
<li><code>-P 3306</code>ï¼šç«¯å£å·ï¼ˆå¤§å†™ Pï¼‰</li>
</ul>
<h4 data-id="heading-51">6.3 å¼€å‘é˜¶æ®µ vs ç”Ÿäº§ç¯å¢ƒ</h4>
<h5 data-id="heading-52">å¼€å‘é˜¶æ®µæ ‡å‡†åšæ³•</h5>
<ul>
<li>âœ… ç”¨æˆ· hostï¼š<code>'%'</code></li>
<li>âœ… å¯†ç ï¼šç®€å• OK</li>
<li>âœ… æƒé™ï¼š<code>ALL PRIVILEGES</code></li>
<li>âœ… é˜²ç«å¢™ï¼šæ”¾è¡Œ 3306</li>
</ul>
<h5 data-id="heading-53">ç”Ÿäº§ç¯å¢ƒæ ‡å‡†åšæ³•</h5>
<ul>
<li>âœ… ç”¨æˆ· hostï¼šå›ºå®š IP æˆ– IP æ®µ</li>
<li>âœ… å¯†ç ï¼šå¼ºå¯†ç </li>
<li>âœ… æƒé™ï¼šæœ€å°æƒé™åŸåˆ™</li>
<li>âœ… é˜²ç«å¢™ï¼šä»…æ”¾è¡Œå¿…è¦ IP</li>
</ul>
<hr/>
<h3 data-id="heading-54">ä¸ƒã€æ‰©å±•å†…å®¹</h3>
<h4 data-id="heading-55">7.1 å…³äº ProgramData è·¯å¾„çš„è¯´æ˜</h4>
<h5 data-id="heading-56">âš ï¸ é”™è¯¯é…ç½®è·¯å¾„ï¼ˆä¸ä¼šç”Ÿæ•ˆï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino">C:\ProgramData\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šç”Ÿæ•ˆï¼Ÿ</strong></p>
<p>é€šè¿‡å®é™…æµ‹è¯•å‘ç°ï¼Œä½¿ç”¨ winget / å®˜æ–¹ MSI é»˜è®¤å®‰è£…çš„ MySQL 8.4ï¼Œå…¶é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåº<strong>ä¸åŒ…å«</strong> <code>ProgramData</code> è·¯å¾„ã€‚</p>
<p><strong>éªŒè¯æ–¹æ³•ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr my.ini
</code></pre>
<p><strong>å®é™…æŸ¥æ‰¾é¡ºåºï¼ˆåŸºäºæµ‹è¯•ï¼‰ï¼š</strong></p>
<ol>
<li><code>C:\WINDOWS\my.ini</code></li>
<li><code>C:\WINDOWS\my.cnf</code></li>
<li><code>C:\my.ini</code></li>
<li><code>C:\my.cnf</code></li>
<li><code>C:\Program Files\MySQL\MySQL Server 8.4\my.ini</code> âœ…</li>
<li><code>C:\Program Files\MySQL\MySQL Server 8.4\my.cnf</code></li>
</ol>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šæ­¤æŸ¥æ‰¾é¡ºåº<strong>ä¸åŒ…å«</strong> <code>C:\ProgramData\MySQL\MySQL Server 8.4\my.ini</code></p>
</blockquote>
<h5 data-id="heading-57">ä¸ºä»€ä¹ˆå¾ˆå¤šæ•™ç¨‹æ¨è ProgramDataï¼Ÿ</h5>
<p>ä¸åŒå®‰è£…æ–¹å¼ä¼šå¯¼è‡´ä¸åŒçš„é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºï¼š</p>
<ol>
<li>
<p><strong>æƒ…å†µ 1ï¼ˆé»˜è®¤å®‰è£…ï¼Œå¦‚æœ¬æµ‹è¯•ï¼‰ï¼š</strong></p>
<ul>
<li>å®‰è£…å™¨æœªæŒ‡å®šè‡ªå®šä¹‰é…ç½®</li>
<li>ä¸ä¼šåˆ›å»º <code>ProgramData\MySQL</code> ç›®å½•</li>
<li>é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºä¸åŒ…å« <code>ProgramData</code></li>
</ul>
</li>
<li>
<p><strong>æƒ…å†µ 2ï¼ˆè‡ªå®šä¹‰å®‰è£…ï¼‰ï¼š</strong></p>
<ul>
<li>å®‰è£…æ—¶å‹¾é€‰äº†è‡ªå®šä¹‰é…ç½®æˆ–è®¾ç½®äº† datadir</li>
<li>å®‰è£…å™¨æ˜¾å¼æŒ‡å®šäº† <code>--defaults-file="C:\ProgramData\MySQL\MySQL Server 8.x\my.ini"</code></li>
<li>æ­¤æ—¶ <code>ProgramData</code> è·¯å¾„æ‰ä¼šç”Ÿæ•ˆ</li>
</ul>
</li>
<li>
<p><strong>æƒ…å†µ 3ï¼ˆè€ç‰ˆæœ¬ MySQL 5.xï¼‰ï¼š</strong></p>
<ul>
<li>å‡ ä¹ä¸€å®šæœ‰ <code>my.ini</code>ï¼ˆå†å²åŸå› ï¼‰</li>
<li>é€šå¸¸ä½äº <code>ProgramData</code></li>
</ul>
</li>
</ol>
<h5 data-id="heading-58">å¦‚ä½•è®© ProgramData è·¯å¾„ç”Ÿæ•ˆï¼Ÿ</h5>
<p>å¦‚æœéœ€è¦ä½¿ç”¨ <code>ProgramData</code> è·¯å¾„ï¼ˆæ›´ç¬¦åˆ Windows è§„èŒƒï¼‰ï¼Œå¯ä»¥æ˜¾å¼æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼š</p>
<ol>
<li>
<p><strong>æŸ¥çœ‹å½“å‰æœåŠ¡é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sc qc MySQL80
</code></pre>
</li>
<li>
<p><strong>ä¿®æ”¹æœåŠ¡å¯åŠ¨å‚æ•°ï¼ˆç®¡ç†å‘˜ CMDï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sc config MySQL80 binPath= <span class="hljs-string">"\"C:\Program Files\MySQL\MySQL Server 8.4\bin\mysqld.exe\" --defaults-file=\"C:\ProgramData\MySQL\MySQL Server 8.4\my.ini\" --service"</span>
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š<code>binPath=</code> åé¢å¿…é¡»æœ‰ç©ºæ ¼ï¼Œå¼•å·å¿…é¡»ä¸¥æ ¼ã€‚</p>
</blockquote>
</li>
<li>
<p><strong>é‡å¯æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">net stop MySQL80
net start MySQL80
</code></pre>
</li>
<li>
<p><strong>éªŒè¯ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr ProgramData
</code></pre>
</li>
</ol>
<h4 data-id="heading-59">7.2 æŸ¥æ‰¾ MySQL æœåŠ¡å</h4>
<p>å¦‚æœä¸çŸ¥é“ MySQL æœåŠ¡åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sc query | findstr MySQL
</code></pre>
<p><strong>å¸¸è§æœåŠ¡åï¼š</strong></p>
<ul>
<li><code>MySQL80</code>ï¼ˆMySQL 8.0+ï¼‰</li>
<li><code>MySQL</code>ï¼ˆè€ç‰ˆæœ¬ï¼‰</li>
<li><code>MySQL57</code>ï¼ˆMySQL 5.7ï¼‰</li>
</ul>
<h4 data-id="heading-60">7.3 é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºè¯´æ˜</h4>
<p>MySQL åœ¨ Windows ä¸‹çš„é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºæ˜¯<strong>ç¼–è¯‘æ—¶å†³å®šçš„</strong>ï¼Œä¸åŒå®‰è£…æ–¹å¼ä¼šæœ‰ä¸åŒçš„æŸ¥æ‰¾é¡ºåºã€‚</p>
<p><strong>é€šç”¨æŸ¥æ‰¾é¡ºåºï¼ˆç†è®ºï¼‰ï¼š</strong></p>
<ol>
<li><code>C:\Windows\my.ini</code></li>
<li><code>C:\Windows\my.cnf</code></li>
<li><code>C:\my.ini</code></li>
<li><code>C:\my.cnf</code></li>
<li><code>basedir\my.ini</code>ï¼ˆå¦‚ï¼š<code>C:\Program Files\MySQL\MySQL Server 8.4\my.ini</code>ï¼‰</li>
<li><code>basedir\my.cnf</code></li>
<li>é€šè¿‡ <code>--defaults-file</code> æ˜¾å¼æŒ‡å®šçš„è·¯å¾„</li>
</ol>
<blockquote>
<p><strong>é‡è¦</strong>ï¼šå®é™…æŸ¥æ‰¾é¡ºåºè¯·ä½¿ç”¨ <code>mysqld --verbose --help</code> å‘½ä»¤ç¡®è®¤ã€‚</p>
</blockquote>
<h4 data-id="heading-61">7.4 å¸¸è§é—®é¢˜ FAQ</h4>
<h5 data-id="heading-62">Q1: ä¸ºä»€ä¹ˆä¿®æ”¹äº† my.ini ä½†é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ</h5>
<p><strong>A:</strong> æœ€å¸¸è§åŸå› æ˜¯å¿˜è®°é‡å¯ MySQL æœåŠ¡ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶åå¿…é¡»é‡å¯æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">net stop MySQL80
net start MySQL80
</code></pre>
<h5 data-id="heading-63">Q2: é…ç½®æ–‡ä»¶æ”¾åœ¨å“ªé‡Œæœ€åˆé€‚ï¼Ÿ</h5>
<p><strong>A:</strong> åŸºäºå®é™…æµ‹è¯•ï¼Œå¯¹äºé»˜è®¤å®‰è£…çš„ MySQL 8.4ï¼Œæ¨èæ”¾åœ¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<h5 data-id="heading-64">Q3: bind_address æ˜¾ç¤º <code>*</code> æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h5>
<p><strong>A:</strong> <code>*</code> ç­‰ä»·äº <code>0.0.0.0</code>ï¼Œè¡¨ç¤ºç›‘å¬æ‰€æœ‰ IPv4 ç½‘å¡ï¼Œå…è®¸è¿œç¨‹è¿æ¥ã€‚é…ç½®æ–‡ä»¶å»ºè®®å†™ <code>0.0.0.0</code>ï¼ˆå¯è¯»æ€§æ›´å¥½ï¼‰ã€‚</p>
<h5 data-id="heading-65">Q4: åˆ›å»ºäº†ç”¨æˆ·ä½†è¿œç¨‹è¿ä¸ä¸Šï¼Ÿ</h5>
<p><strong>A:</strong> æ£€æŸ¥ä»¥ä¸‹ 3 é¡¹ï¼š</p>
<ol>
<li>ç”¨æˆ· host æ˜¯å¦ä¸º <code>%</code>ï¼š<code>SELECT user, host FROM mysql.user WHERE user='dzm';</code></li>
<li><code>bind_address</code> æ˜¯å¦ä¸º <code>0.0.0.0</code> æˆ– <code>*</code>ï¼š<code>SHOW VARIABLES LIKE 'bind_address';</code></li>
<li>Windows é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œ 3306 ç«¯å£</li>
</ol>
<h5 data-id="heading-66">Q5: å¦‚ä½•ç¡®è®¤ MySQL è¯»å–äº†å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Ÿ</h5>
<p><strong>A:</strong> ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼ˆç®¡ç†å‘˜ CMDï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr /i <span class="hljs-string">"Default options"</span>
</code></pre>
<hr/>
<h3 data-id="heading-67">æ€»ç»“</h3>
<h4 data-id="heading-68">å¿«é€Ÿå‚è€ƒ</h4>
<p><strong>åˆ›å»ºä¸é™ IP è´¦å·ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'123123'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;
FLUSH PRIVILEGES;
</code></pre>
<p><strong>é…ç½®æ–‡ä»¶ä½ç½®ï¼ˆåŸºäºå®é™…æµ‹è¯•ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<p><strong>æœ€å°é…ç½®å†…å®¹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">port</span>=<span class="hljs-number">3306</span>
<span class="hljs-attr">bind-address</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
<span class="hljs-attr">character-set-server</span>=utf8mb4
<span class="hljs-attr">collation-server</span>=utf8mb4_general_ci

<span class="hljs-section">[client]</span>
<span class="hljs-attr">default-character-set</span>=utf8mb4
</code></pre>
<p><strong>éªŒè¯é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;  <span class="hljs-comment">-- åº”æ˜¾ç¤º 0.0.0.0 æˆ– *</span>
</code></pre>
<p><strong>è¿œç¨‹è¿æ¥æ£€æŸ¥ï¼š</strong></p>
<ol>
<li>ç”¨æˆ· host = <code>%</code> âœ…</li>
<li>bind_address = <code>0.0.0.0</code> æˆ– <code>*</code> âœ…</li>
<li>é˜²ç«å¢™æ”¾è¡Œ 3306 âœ…</li>
</ol>
<hr/>
<p><em>æœ¬æ–‡æ¡£åŸºäº Windows MySQL 8.4 å®é™…æµ‹è¯•ç»“æœæ•´ç†ï¼Œç¡®ä¿æ‰€æœ‰é…ç½®è·¯å¾„å’ŒéªŒè¯æ–¹æ³•å‡ç»è¿‡å®é™…éªŒè¯ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(10)]]></title>    <link>https://juejin.cn/post/7584831190731374618</link>    <guid>https://juejin.cn/post/7584831190731374618</guid>    <pubDate>2025-12-18T09:47:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584831190731374618" data-draft-id="7585021315691216906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(10)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:47:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(10)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:47:51.000Z" title="Thu Dec 18 2025 09:47:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 10 ç« ï¼šç»„ä»¶åŒ–è®¾è®¡æ€æƒ³</h2>
<blockquote>
<p>â€œå¥½çš„æ¶æ„ä¸æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œè€Œæ˜¯æ¼”è¿›å‡ºæ¥çš„ã€‚ä½†ç»„ä»¶æ¨¡å‹é™¤å¤–ï¼Œå®ƒå¾—ä¸€å¼€å§‹å°±æƒ³æ¸…æ¥šã€‚â€</p>
</blockquote>
<p>åœ¨ä¼ ç»Ÿçš„æ´»åŠ¨å¼€å‘ä¸­ï¼Œæ¯ä¸ªé¡µé¢éƒ½æ˜¯â€œç¡¬ç¼–ç â€çš„ã€‚ä»Šå¤©è¦æ”¹ä¸ªæ–‡æ¡ˆï¼Œæ˜å¤©è¦æ¢å¼ å›¾ï¼Œç¨‹åºå‘˜çš„ç”Ÿå‘½å°±æµªè´¹åœ¨è¿™äº›çäº‹ä¸Šã€‚</p>
<p><strong>æˆ‘ä»¬çš„ç›®æ ‡</strong>ï¼šæ‰“é€ ä¸€ä¸ªâ€œä½ä»£ç ç¼–è¾‘å™¨â€ï¼Œè®©è¿è¥äººå‘˜ï¼ˆç¤¾é•¿/ç®¡ç†å‘˜ï¼‰èƒ½åƒæ­ç§¯æœ¨ä¸€æ ·è‡ªå·±æ‹¼å‡ºä¸€ä¸ªç²¾ç¾çš„æ´»åŠ¨é¡µé¢ã€‚</p>
<p>è¦å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæ ¸å¿ƒåœ¨äºï¼š<strong>ä¸€åˆ‡çš†ç»„ä»¶ï¼Œç»„ä»¶çš†æ•°æ®</strong>ã€‚</p>
<h3 data-id="heading-1">10.1 ä»€ä¹ˆæ˜¯"æ´»åŠ¨é¡µé¢é…ç½®ç»„ä»¶"ï¼Ÿ</h3>
<p>åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªæ´»åŠ¨é¡µé¢ä¸æ˜¯ <code>.vue</code> æ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸² JSON æ•°æ®ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªåŒ…å«â€œå¤´å›¾ + æ ‡é¢˜ + æŠ¥åæŒ‰é’®â€çš„é¡µé¢ï¼Œåœ¨æ•°æ®åº“é‡Œé•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"src"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"banner.jpg"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸­ç§‹æ™šä¼š"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"fontSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"button"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç«‹å³æŠ¥å"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>æˆ‘ä»¬çš„æ¸²æŸ“å¼•æ“ï¼ˆRuntimeï¼‰è¯»å–è¿™ä¸ªæ•°ç»„ï¼Œä¾æ¬¡æŠŠå®ƒä»¬ç”»åˆ°å±å¹•ä¸Šã€‚è¿™å°±æ˜¯<strong>æ•°æ®é©±åŠ¨ UI</strong>ã€‚</p>
<h3 data-id="heading-2">10.2 ç»„ä»¶æ¨¡å‹è®¾è®¡</h3>
<p>æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€å¥—æ ‡å‡†ï¼Œè§„å®šæ¯ä¸ªç»„ä»¶é•¿ä»€ä¹ˆæ ·ã€‚è¿™å¥—æ ‡å‡†å°±æ˜¯ <strong>Component Schema</strong>ã€‚</p>
<h4 data-id="heading-3">é€šç”¨ç»“æ„ (<code>ActivityComponent</code>)</h4>
<p>æ‰€æœ‰ç»„ä»¶éƒ½å¿…é¡»éµå¾ªè¿™ä¸ªæ¥å£å®šä¹‰ (<code>src/types/activity.d.ts</code>)ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ActivityComponent</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å”¯ä¸€ID (å¦‚ "w1710001")ï¼Œç”¨äºæŸ¥æ‰¾å’Œæ›´æ–°</span>
  <span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// ç»„ä»¶ç±»å‹ (å¦‚ "text", "image")</span>
  <span class="hljs-attr">order</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// æ’åºæƒé‡</span>
  <span class="hljs-attr">visible</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// æ˜¯å¦å¯è§</span>
  <span class="hljs-attr">style</span>: {
    <span class="hljs-comment">// é€šç”¨æ ·å¼å®¹å™¨</span>
    marginTop?: <span class="hljs-built_in">number</span>
    padding?: <span class="hljs-built_in">number</span>
    <span class="hljs-comment">// ...</span>
  }
  <span class="hljs-attr">config</span>: <span class="hljs-built_in">any</span> <span class="hljs-comment">// ç»„ä»¶ç‰¹æœ‰çš„ä¸šåŠ¡é…ç½® (AnyScript?? ä¸ï¼Œä¸‹é¢ç»†è¯´)</span>
}
</code></pre>
<h4 data-id="heading-4">å…·ä½“ç»„ä»¶å®šä¹‰</h4>
<h5 data-id="heading-5">1. æ–‡æœ¬ç»„ä»¶ (<code>text</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">TextConfig</span> {
  <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æ–‡æœ¬å†…å®¹</span>
  <span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// å­—å· (é»˜è®¤ 32)</span>
  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å­—ä½“é¢œè‰²</span>
  <span class="hljs-attr">lineHeight</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// è¡Œé«˜ (é»˜è®¤ 1.6)</span>
  <span class="hljs-attr">bold</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// åŠ ç²—</span>
  <span class="hljs-attr">decorType</span>: <span class="hljs-string">'none'</span> | <span class="hljs-string">'underline'</span> | <span class="hljs-string">'through'</span> | <span class="hljs-string">'overline'</span> <span class="hljs-comment">// è£…é¥°çº¿ç±»å‹</span>
  <span class="hljs-attr">decorColor</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// è£…é¥°çº¿é¢œè‰²</span>
  <span class="hljs-attr">decorTextColor</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// è£…é¥°æ–‡å­—é¢œè‰²</span>
}
</code></pre>
<h5 data-id="heading-6">2. å›¾ç‰‡ç»„ä»¶ (<code>image</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ImageConfig</span> {
  <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å›¾ç‰‡åœ°å€</span>
}
</code></pre>
<h5 data-id="heading-7">3. æŒ‰é’®ç»„ä»¶ (<code>button</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ButtonConfig</span> {
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æŒ‰é’®æ–‡æ¡ˆ</span>
}
</code></pre>
<h5 data-id="heading-8">4. åˆ†å‰²çº¿ç»„ä»¶ (<code>divider</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">DividerConfig</span> {
  <span class="hljs-attr">styleType</span>: <span class="hljs-string">'simple'</span> | <span class="hljs-string">'text'</span> <span class="hljs-comment">// æ ·å¼ç±»å‹</span>
  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// çº¿æ¡é¢œè‰²</span>
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æ ‡é¢˜æ–‡å­—</span>
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æè¿°ä¿¡æ¯</span>
  <span class="hljs-attr">textColor</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æ–‡å­—é¢œè‰²</span>
}
</code></pre>
<h5 data-id="heading-9">5. å€’è®¡æ—¶ç»„ä»¶ (<code>countdown</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">CountdownConfig</span> {
  <span class="hljs-attr">targetTime</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// ç›®æ ‡æ—¶é—´æˆ³</span>
  <span class="hljs-attr">textPrefix</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å‰ç¼€æ–‡æ¡ˆ</span>
  <span class="hljs-attr">stylePreset</span>: <span class="hljs-string">'classic'</span> | <span class="hljs-string">'modern'</span> <span class="hljs-comment">// æ ·å¼é¢„è®¾</span>
}
</code></pre>
<h5 data-id="heading-10">6. è§†é¢‘ç»„ä»¶ (<code>video</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">VideoConfig</span> {
  <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// è§†é¢‘é“¾æ¥</span>
  <span class="hljs-attr">autoplay</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// è‡ªåŠ¨æ’­æ”¾</span>
  <span class="hljs-attr">loop</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// å¾ªç¯æ’­æ”¾</span>
}
</code></pre>
<h3 data-id="heading-11">10.3 ç»„ä»¶æ³¨å†Œä¸æ¸²æŸ“æœºåˆ¶</h3>
<p>æœ‰äº†æ•°æ®æ¨¡å‹ï¼Œå‰ç«¯å¦‚ä½•æŠŠå®ƒä»¬å˜æˆ Vue ç»„ä»¶ï¼Ÿ</p>
<h4 data-id="heading-12">ç»„ä»¶æ˜ å°„è¡¨ (Component Map)</h4>
<p>æˆ‘ä»¬ä¸éœ€è¦å†™ä¸€å † <code>if (type === 'text')</code>ã€‚Vue çš„ <code>&lt;component :is="..."&gt;</code> æ˜¯å®ç°åŠ¨æ€æ¸²æŸ“çš„ç»ä½³å·¥å…·ã€‚</p>
<p>è™½ç„¶ Vue æ”¯æŒåŠ¨æ€å¯¼å…¥ï¼Œä½†åœ¨å°ç¨‹åºç¯å¢ƒä¸­ï¼Œæ›´æ¨è<strong>é™æ€æ³¨å†Œ</strong>ä»¥ä¿è¯å…¼å®¹æ€§ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ActivityDesign/index.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in components"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ImageWidget</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"item.type === 'image'"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextWidget</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"item.type === 'text'"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ButtonWidget</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"item.type === 'button'"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p><em>(æ³¨ï¼šè™½ç„¶å†™äº† if-elseï¼Œä½†è¿™åªæ˜¯ä¸ºäº†ç±»å‹å®‰å…¨å’Œ Props ä¼ é€’çš„æ˜¾å¼æ§åˆ¶ã€‚æœ¬è´¨ä¸Šä¾ç„¶æ˜¯æ ¹æ® Type æ¸²æŸ“ Widget)</em></p>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æˆ‘ä»¬å®šä¹‰äº†ç»„ä»¶çš„â€œåŸºå› â€â€”â€”JSON Schemaã€‚åªè¦ç¬¦åˆè¿™ä¸ª Schema çš„æ•°æ®ï¼Œéƒ½èƒ½è¢«æˆ‘ä»¬çš„ç³»ç»Ÿè¯†åˆ«å¹¶æ¸²æŸ“ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†äº²æ‰‹æ‰“é€ é‚£ä¸ªèƒ½ç”Ÿæˆè¿™äº› JSON çš„<strong>å¯è§†åŒ–ç¼–è¾‘å™¨</strong>ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ11-å¯è§†åŒ–ç¼–è¾‘å™¨å®ç°</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(12)]]></title>    <link>https://juejin.cn/post/7585021315691249674</link>    <guid>https://juejin.cn/post/7585021315691249674</guid>    <pubDate>2025-12-18T09:50:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691249674" data-draft-id="7585013463858413618" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(12)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:50:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(12)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:50:58.000Z" title="Thu Dec 18 2025 09:50:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 12 ç« ï¼šç»„ä»¶æ¸²æŸ“å¼•æ“</h2>
<blockquote>
<p>â€œç¼–è¾‘å™¨è´Ÿè´£ç”Ÿäº§æ•°æ®ï¼Œæ¸²æŸ“å¼•æ“è´Ÿè´£æ¶ˆè´¹æ•°æ®ã€‚â€</p>
</blockquote>
<p>æ¸²æŸ“å¼•æ“ (Rendering Engine) æ˜¯è¿æ¥æ•°æ®ä¸ç•Œé¢çš„æœ€åä¸€å…¬é‡Œã€‚å®ƒä¸ä»…è¿è¡Œåœ¨ç”¨æˆ·ç«¯çš„å±•ç¤ºé¡µï¼Œä¹Ÿè¿è¡Œåœ¨ç¼–è¾‘å™¨å†…éƒ¨ï¼ˆä½œä¸ºé¢„è§ˆï¼‰ã€‚</p>
<h3 data-id="heading-1">12.1 è¿è¡Œæ—¶ vs ç¼–è¾‘æ—¶</h3>
<p>åœ¨æˆ‘ä»¬çš„æ¶æ„ä¸­ï¼Œç»„ä»¶ (<code>src/components/ActivityDesign/widget/*</code>) è¢«è®¾è®¡ä¸º<strong>åŒæ¨¡æ€</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- widget/Button.vue --&gt;
&lt;script setup&gt;
const props = defineProps({
  mode: { type: String, default: 'view' }, // 'view' | 'edit'
  isPreview: Boolean
})

const handleClick = () =&gt; {
  // ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œç‚¹å‡»ä¸è§¦å‘ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯è¢«å¤–å±‚æ•è·ç”¨äºé€‰ä¸­
  if (props.mode === 'edit' &amp;&amp; !props.isPreview) return

  // è¿è¡Œæ—¶é€»è¾‘ï¼šè·³è½¬æŠ¥åé¡µ
  uni.navigateTo({ url: '/pages/registration/index' })
}
&lt;/script&gt;
</code></pre>
<p>è¿™ç§è®¾è®¡ä¿è¯äº†<strong>æ‰€è§å³æ‰€å¾—</strong>ã€‚ç¼–è¾‘å™¨é‡Œçœ‹åˆ°çš„ç»„ä»¶ï¼Œå’Œæœ€ç»ˆç”¨æˆ·çœ‹åˆ°çš„ç»„ä»¶ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€å¥—ä»£ç ã€‚</p>
<h3 data-id="heading-2">12.2 åŠ¨æ€ç»„ä»¶æ¸²æŸ“</h3>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ç¼–è¾‘å™¨é‡Œä½¿ç”¨äº† <code>v-if/v-else-if</code> æ¥æšä¸¾ç»„ä»¶ï¼Œä½†åœ¨æœ€ç»ˆçš„<strong>æ´»åŠ¨è¯¦æƒ…é¡µ (<code>pages/activity/detail</code>)</strong>ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°è£…ä¸€ä¸ªçº¯ç²¹çš„æ¸²æŸ“å™¨ç»„ä»¶ <code>ActivityRenderer</code>ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;view class="activity-renderer"&gt;
    &lt;view v-for="item in components" :key="item.id" class="widget-wrapper" :style="item.style"&gt;
      &lt;!-- è¿™é‡Œçš„ç»„ä»¶åªè´Ÿè´£å±•ç¤ºï¼Œæ²¡æœ‰ä»»ä½•ç¼–è¾‘é€»è¾‘ --&gt;
      &lt;ImageWidget v-if="item.type === 'image'" :item="item" /&gt;
      &lt;TextWidget v-else-if="item.type === 'text'" :item="item" /&gt;
      &lt;!-- ... --&gt;
    &lt;/view&gt;
  &lt;/view&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-3">12.3 æ ·å¼è®¡ç®—ä¸åº”ç”¨</h3>
<p>ç»„ä»¶çš„æ ·å¼æ¥æºæœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li><strong>Preset Styles (é¢„è®¾æ ·å¼)</strong>: ç»„ä»¶å†…éƒ¨å†™æ­»çš„ CSSï¼Œæ¯”å¦‚æŒ‰é’®çš„åœ†è§’ã€é˜´å½±ã€‚</li>
<li><strong>Config Styles (é…ç½®æ ·å¼)</strong>: ç”¨æˆ·åœ¨å±æ€§é¢æ¿è®¾ç½®çš„é¢œè‰²ã€å­—å·ã€‚</li>
</ol>
<p>åœ¨ Widget å†…éƒ¨ï¼Œæˆ‘ä»¬å°†é…ç½®æ˜ å°„ä¸ºå†…è”æ ·å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> style = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">fontSize</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">fontSize</span> + <span class="hljs-string">'rpx'</span>,
  <span class="hljs-attr">color</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">color</span>,
  <span class="hljs-attr">textAlign</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">align</span>,
  <span class="hljs-attr">fontWeight</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">bold</span> ? <span class="hljs-string">'bold'</span> : <span class="hljs-string">'normal'</span>
}))
</code></pre>
<h3 data-id="heading-4">12.4 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
<p>å½“é¡µé¢åŒ…å«å¤§é‡ç»„ä»¶ï¼ˆå¦‚é•¿å›¾æ–‡é¡µé¢ï¼‰æ—¶ï¼Œæ¸²æŸ“å¯èƒ½ä¼šå¡é¡¿ã€‚</p>
<ol>
<li><strong>æŒ‰éœ€åŠ è½½</strong>: åªæœ‰è¿›å…¥è§†å£çš„ç»„ä»¶æ‰åŠ è½½å›¾ç‰‡èµ„æºï¼ˆUniApp çš„ <code>image</code> ç»„ä»¶è‡ªå¸¦ lazy-loadï¼‰ã€‚</li>
<li><strong>å±‚çº§ä¼˜åŒ–</strong>: å°½é‡å‡å°‘åµŒå¥—ã€‚æˆ‘ä»¬çš„ Widget å†…éƒ¨ç»“æ„éå¸¸æ‰å¹³ã€‚</li>
<li><strong>é™æ€æå‡</strong>: å¯¹äºä¸ä¾èµ–é…ç½®çš„é™æ€éƒ¨åˆ†ï¼ŒVue ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¼˜åŒ–ã€‚</li>
</ol>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
ç»„ä»¶åŒ–æ€æƒ³è´¯ç©¿äº†ä»æ•°æ®åº“è®¾è®¡ã€ç¼–è¾‘å™¨å®ç°åˆ°å‰ç«¯æ¸²æŸ“çš„å§‹ç»ˆã€‚é€šè¿‡è¿™å¥—ä½“ç³»ï¼Œæˆ‘ä»¬ä¸ä»…å®ç°äº†â€œå¯é…ç½®â€ï¼Œæ›´å®ç°äº†â€œå¯ç»´æŠ¤â€å’Œâ€œå¯æ‰©å±•â€ã€‚</p>
<p>è‡³æ­¤ï¼Œå¯è§†åŒ–ç¼–è¾‘å™¨çš„æ ¸å¿ƒç§˜å¯†å·²å…¨éƒ¨æ­æ™“ã€‚æ¥ä¸‹æ¥çš„ç« èŠ‚ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€äº›é”¦ä¸Šæ·»èŠ±çš„é«˜çº§ç‰¹æ€§ï¼Œæ¯”å¦‚æ–‡ä»¶ä¸Šä¼ å’Œæµ·æŠ¥ç”Ÿæˆã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ13-æ–‡ä»¶ä¸Šä¼ ä¸äº‘å­˜å‚¨ï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆå››ï¼‰å®æˆ˜ï¼šè§£æ”¾ç»˜åˆ¶UIçš„ç¹çå·¥ä½œ]]></title>    <link>https://juejin.cn/post/7585005164726370342</link>    <guid>https://juejin.cn/post/7585005164726370342</guid>    <pubDate>2025-12-18T09:54:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585005164726370342" data-draft-id="7584831190731096090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆå››ï¼‰å®æˆ˜ï¼šè§£æ”¾ç»˜åˆ¶UIçš„ç¹çå·¥ä½œ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T09:54:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆå››ï¼‰å®æˆ˜ï¼šè§£æ”¾ç»˜åˆ¶UIçš„ç¹çå·¥ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:54:26.000Z" title="Thu Dec 18 2025 09:54:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¬å¸å½“å‰é¡¹ç›®æ˜¯ä½¿ç”¨Figma UIè®¾è®¡å·¥å…·ï¼Œä»¥è¿™ä¸ªä¸ºä¾‹ã€‚</p>
<p>Figmaå½“å‰æ˜¯æœ‰MCPä¾›å¯¹å¤–ä½¿ç”¨çš„ã€‚é…ç½®æ•™ç¨‹è§Figmaå®˜ç½‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç¼–è¾‘skill</h2>
<p>çœ‹å®Œä¹‹å‰çš„æ–‡ç« å¤§æ¦‚å°±äº†è§£äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªskillã€‚</p>
<p>åœ¨<code>skills</code>æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼Œå­æ–‡ä»¶å¤¹åå­—æ˜¯<code>figma_ui_to_xml</code>ï¼Œç„¶ååœ¨<code>figma_ui_to_xml</code>å†…åˆ›å»ºä¸€ä¸ªMarkdownæ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯å›ºå®šçš„<code>SKILL.md</code>ã€‚</p>
<p>ç¼–è¾‘<code>name</code>å’Œ<code>description</code>ï¼Œä¸ºäº†è®©skillè¢«è°ƒç”¨ï¼Œæˆ‘åœ¨<code>description</code>åŠ ä¸Šäº†ç²˜è´´Figma MCPé“¾æ¥æ—¶ä¸€å®šæœ‰çš„ä¸€æ®µæ–‡æ¡ˆ<code>Implement this Figma design.</code>ã€‚ä¸‹é¢æ˜¯Figma MCPç²˜è´´é“¾æ¥çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Implement <span class="hljs-keyword">this</span> Figma design.
<span class="hljs-meta">@https</span>:<span class="hljs-comment">//www.figma.com/design/Lod2RUqzBCaISqN4/FOXX-UI-library?node-id=43080-44506&amp;m=dev</span>
</code></pre>
<p>ä¸‹é¢æ˜¯<code>name</code>å’Œ<code>description</code></p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: figma_ui_to_xml
description: Implement <span class="hljs-keyword">this</span> Figma designã€‚å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXMLã€‚
---
</code></pre>
<p>åœ¨SKILL.mdä¸­æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µç¼–è¾‘æç¤ºè¯ï¼ŒæŠŠæ‰€æœ‰çš„å¯ä»¥å‚è€ƒçš„æ–‡ä»¶ï¼Œä¾‹å¦‚æŠ½å–çš„styleï¼Œé¢œè‰²ç­‰éƒ½å†™è¿›å»ï¼Œä¸‹é¢æ˜¯æˆ‘åˆ å‡è¿‡æ•æ„Ÿä¿¡æ¯åçš„æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: figma_ui_to_xml
description: Implement <span class="hljs-keyword">this</span> Figma designã€‚å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXMLã€‚
---
# å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXML

â€¢ ä¸¥æ ¼æŒ‰ä¸‹é¢æµç¨‹æ‰§è¡Œï¼ˆåç»­æ¯æ¬¡ä½ ç»™ Figma MCP é“¾æ¥éƒ½ç…§æ­¤åšï¼‰ï¼š

  <span class="hljs-number">1.</span> æä¾› Figma MCP åŸå§‹æ•°æ®é“¾æ¥/èŠ‚ç‚¹é“¾æ¥åï¼Œå…ˆç”¨ Figma MCP æŠŠèŠ‚ç‚¹çš„ç»“æ„ä¿¡æ¯ã€å°ºå¯¸/ä½ç½®ã€é¢œè‰²/å˜é‡ã€æ–‡æœ¬å†…å®¹ã€å­—ä½“ä¸å­—å·ã€é—´è·ã€åœ†è§’/æè¾¹/é˜´å½±ç­‰å…¨éƒ¨æå–
     å‡ºæ¥ï¼ˆå¿…è¦æ—¶å†å– screenshot è¾…åŠ©æ ¸å¯¹ï¼‰ã€‚
  <span class="hljs-number">2.</span> æŠŠæå–åˆ°çš„è®¾è®¡å…ƒç´ æ˜ å°„æˆ Android åŸç”Ÿ Viewï¼šæ ¹å¸ƒå±€ä¸€å¾‹ ConstraintLayoutï¼Œmatch_parentï¼Œå¹¶æŠŠ constraints å†™å®Œæ•´ï¼Œé¿å…è¿è¡Œæ—¶è·‘åˆ° (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)ã€‚
  <span class="hljs-number">3.</span> ä¸¥æ ¼æŒ‰é¡¹ç›®è§„èŒƒç”Ÿæˆ XMLï¼š
      - View å°½é‡ç”¨ AppCompatï¼ˆå¦‚ AppCompatTextViewï¼‰ã€‚
      - æ‰€æœ‰ id ç”¨ snake_caseï¼ˆä¾‹å¦‚ @+id/tv_titleï¼‰ã€‚
      - å°ºå¯¸ç”¨ dpï¼Œå­—å·ç”¨ spã€‚
      - æ–‡æœ¬ä¼˜å…ˆæ”¾ res/values/strings.xmlï¼›å¦‚æœç¡®è®¤æ‰¾ä¸åˆ°å¯¹åº” keyï¼Œå°±æŒ‰ä½ è§„åˆ™åœ¨ XML é‡Œå†™æ­»æ–‡æ¡ˆã€‚
      - é¢œè‰²ä¼˜å…ˆç”¨ res/values/colors.xml èµ„æºï¼›æ²¡æœ‰å°±å†™æ­» #RRGGBBã€‚
      - å­—ä½“æŒ‰çº¦å®šï¼šRegular/Light/Medium â†’ roboto_regular / roboto_light / roboto_mediumã€‚
      - æ‰€æœ‰æ–‡æœ¬æ§ä»¶ç»Ÿä¸€åŠ  android:lineSpacingExtra=<span class="hljs-string">"3dp"</span>ï¼Œå¿½ç•¥ letterSpacingã€‚
  <span class="hljs-number">4.</span> ä¼˜å…ˆå¤ç”¨é¡¹ç›®å·²æœ‰èµ„æºï¼š
      - res/drawable é‡Œç°æœ‰çš„èƒŒæ™¯/åœ†è§’/è¾¹æ¡†å°½é‡ç›´æ¥å¼•ç”¨ï¼Œä¸é‡å¤é€ ã€‚
      - Button ä¼˜å…ˆå¥—ç”¨ res/values/styles_buttons.xml é‡Œçš„å…¬å…±æ ·å¼ã€‚
      - TextView ä¼˜å…ˆå¥—ç”¨ res/values/styles_textviews.xml é‡Œçš„å…¬å…±æ ·å¼ã€‚
  <span class="hljs-number">5.</span> è¾“å‡ºæœ€ç»ˆçš„ Android XML å¸ƒå±€ä»£ç ï¼ˆå¦‚æœéœ€è¦è¡¥å…… strings/colors/drawable çš„å»ºè®®ï¼Œå•ç‹¬åˆ—å‡ºâ€œå»ºè®®æ–°å¢é¡¹â€ï¼Œä½†ä¸å¼ºè¡Œå‘æ•£ï¼‰ã€‚
</code></pre>
<h2 data-id="heading-1">äºŒã€å®é™…ä½¿ç”¨</h2>
<p>è¿™ä¸ªå°±å¾ˆç®€å•äº†, ä»Figma MCPç²˜è´´é“¾æ¥ï¼Œå›è½¦å³å¯ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨ä¸Šé¢çš„skillã€‚ä½¿ç”¨highæ¨¡å‹å¯èƒ½æ—¶é—´æ¯”è¾ƒé•¿ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¼šå„¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0840b9431c34840b1014f58a3df573c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766656764&amp;x-signature=6LZqIqG1LnBmj72IXATda2B7fRI%3D" alt="image.png" loading="lazy"/></p>
<p>å®é™…ç”Ÿæˆçš„xml,å¯ç”¨åº¦å·²ç»ç›¸å½“é«˜äº†ï¼Œæœ€åè‡ªå·±å¾®è°ƒä¸€ä¸‹ã€‚</p>
<p>å¦‚æœç”ŸæˆComposeå…¶å®åŒç†ï¼Œä¸€é€šç™¾é€šã€‚</p>
<p>ä¸çŸ¥é“å…¶ä»–è®¾è®¡å·¥å…·æœ‰æ²¡æœ‰MCPï¼Œä¾‹å¦‚è“æ¹–ï¼Œæ²¡å»äº†è§£ã€‚</p>
<p><strong>ä¸‹æœŸè§£æ”¾APIæ¥å£å¼€å‘çš„ç¹çå·¥ä½œ</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutteræ¡†æ¶æ ¸å¿ƒåŸç†æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7584358227611402282</link>    <guid>https://juejin.cn/post/7584358227611402282</guid>    <pubDate>2025-12-17T03:18:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584358227611402282" data-draft-id="7584358227611369514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Flutteræ¡†æ¶æ ¸å¿ƒåŸç†æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-17T03:18:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·çº³ç™¾å·æœ¬å°Š76064"/> <meta itemprop="url" content="https://juejin.cn/user/184373685793127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Flutteræ¡†æ¶æ ¸å¿ƒåŸç†æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/184373685793127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµ·çº³ç™¾å·æœ¬å°Š76064
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T03:18:41.000Z" title="Wed Dec 17 2025 03:18:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“– æ¦‚è¿°</h2>
<p>è¿™ä»½æ–‡æ¡£åŸºäºFlutteræ¡†æ¶çš„æ ¸å¿ƒæºç ï¼Œæ·±å…¥è§£æFlutterçš„æ¶æ„åŸç†å’Œå·¥ä½œæœºåˆ¶ã€‚Flutteré‡‡ç”¨äº†å£°æ˜å¼UIæ¡†æ¶ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯<strong>ä¸€åˆ‡çš†Widget</strong>ï¼Œé€šè¿‡Widgetæ ‘æ¥æè¿°ç”¨æˆ·ç•Œé¢ã€‚</p>
<h2 data-id="heading-1">ğŸ—ï¸ Flutteræ¶æ„çš„ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-2">1. Widgetï¼ˆé…ç½®æè¿°ï¼‰</h3>
<p><strong>Widgetæ˜¯ä¸å¯å˜çš„é…ç½®æè¿°</strong>ï¼Œå®ƒæè¿°äº†ç”¨æˆ·ç•Œé¢çš„ä¸€éƒ¨åˆ†åº”è¯¥å¦‚ä½•é…ç½®ã€‚</p>
<h4 data-id="heading-3">ğŸ”‘ Widgetçš„æ ¸å¿ƒç‰¹å¾ï¼š</h4>
<ul>
<li>
<p><strong>ä¸å¯å˜æ€§</strong>ï¼šæ‰€æœ‰å­—æ®µå¿…é¡»æ˜¯<code>final</code>çš„</p>
</li>
<li>
<p><strong>è½»é‡çº§</strong>ï¼šWidgetæœ¬èº«ä¸åŒ…å«çŠ¶æ€ï¼Œåªæ˜¯é…ç½®ä¿¡æ¯</p>
</li>
<li>
<p><strong>å¯å¤ç”¨</strong>ï¼šåŒä¸€ä¸ªWidgetå¯ä»¥åœ¨æ ‘ä¸­å¤šæ¬¡ä½¿ç”¨</p>
</li>
<li>
<p><strong>å£°æ˜å¼</strong>ï¼šæè¿°UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè€Œä¸æ˜¯å¦‚ä½•æ„å»º</p>
</li>
</ul>
<h4 data-id="heading-4">ğŸ“ Widgetçš„ç±»å‹å±‚æ¬¡ï¼š</h4>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DiagnosticableTree</span> </span>{

<span class="hljs-keyword">const</span> Widget({<span class="hljs-keyword">this</span>.key});

<span class="hljs-keyword">final</span> Key? key; <span class="hljs-comment">// æ§åˆ¶Widgetåœ¨æ ‘ä¸­çš„æ›¿æ¢é€»è¾‘</span>

<span class="hljs-comment">// æ ¸å¿ƒæ–¹æ³•ï¼šå°†Widgetè½¬æ¢ä¸ºElement</span>

<span class="hljs-built_in">Element</span> createElement();

}

</code></pre>
<p><strong>Widgetçš„ä¸‰å¤§å­ç±»ï¼š</strong></p>
<ol>
<li><strong>StatelessWidget</strong> - æ— çŠ¶æ€Widget</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StatelessWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Widget</span> </span>{

Widget build(BuildContext context); <span class="hljs-comment">// æ„å»ºUIçš„æ ¸å¿ƒæ–¹æ³•</span>

}

</code></pre>
<ol start="2">
<li><strong>StatefulWidget</strong> - æœ‰çŠ¶æ€Widget</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StatefulWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Widget</span> </span>{

State createState(); <span class="hljs-comment">// åˆ›å»ºçŠ¶æ€å¯¹è±¡</span>

}

</code></pre>
<ol start="3">
<li><strong>RenderObjectWidget</strong> - æ¸²æŸ“å¯¹è±¡Widget</li>
</ol>
<ul>
<li>
<p>ç›´æ¥å‚ä¸æ¸²æŸ“æ ‘çš„æ„å»º</p>
</li>
<li>
<p>åŒ…æ‹¬<code>SingleChildRenderObjectWidget</code>å’Œ<code>MultiChildRenderObjectWidget</code></p>
</li>
</ul>
<h3 data-id="heading-5">2. Elementï¼ˆå®ä¾‹åŒ–ç®¡ç†ï¼‰</h3>
<p><strong>Elementæ˜¯Widgetåœ¨æ ‘ä¸­ç‰¹å®šä½ç½®çš„å®ä¾‹åŒ–</strong>ï¼Œè´Ÿè´£ç®¡ç†Widgetçš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<h4 data-id="heading-6">ğŸ”„ Elementçš„ç”Ÿå‘½å‘¨æœŸï¼š</h4>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Element</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DiagnosticableTree</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BuildContext</span> </span>{

<span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸçŠ¶æ€</span>

<span class="hljs-keyword">enum</span> _ElementLifecycle { initial, active, inactive, defunct }

}

</code></pre>
<p><strong>ç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼š</strong></p>
<ol>
<li><strong>åˆ›å»ºé˜¶æ®µï¼ˆinitialï¼‰</strong></li>
</ol>
<ul>
<li>
<p>é€šè¿‡<code>Widget.createElement()</code>åˆ›å»º</p>
</li>
<li>
<p>æ­¤æ—¶Elementè¿˜æœªæŒ‚è½½åˆ°æ ‘ä¸Š</p>
</li>
</ul>
<ol start="2">
<li><strong>æ¿€æ´»é˜¶æ®µï¼ˆactiveï¼‰</strong></li>
</ol>
<ul>
<li>
<p>è°ƒç”¨<code>mount()</code>æ–¹æ³•æŒ‚è½½åˆ°æ ‘ä¸Š</p>
</li>
<li>
<p>Elementå˜ä¸ºæ´»è·ƒçŠ¶æ€ï¼Œå¯èƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
</li>
<li>
<p>è´Ÿè´£åˆ›å»ºå­Widgetå¹¶è°ƒç”¨<code>attachRenderObject</code></p>
</li>
</ul>
<ol start="3">
<li><strong>æ›´æ–°é˜¶æ®µ</strong></li>
</ol>
<ul>
<li>
<p>å½“çˆ¶Widgeté‡å»ºæ—¶ï¼Œè°ƒç”¨<code>update()</code>æ–¹æ³•</p>
</li>
<li>
<p>æ–°Widgetå¿…é¡»ä¸æ—§Widgetæœ‰ç›¸åŒçš„<code>runtimeType</code>å’Œ<code>key</code></p>
</li>
</ul>
<ol start="4">
<li><strong>å¤±æ´»é˜¶æ®µï¼ˆinactiveï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å½“ç¥–å…ˆå†³å®šç§»é™¤æ­¤Elementæ—¶è°ƒç”¨<code>deactivate()</code></p>
</li>
<li>
<p>Elementä»æ¸²æŸ“æ ‘ä¸­ç§»é™¤ï¼ŒåŠ å…¥åˆ°å¤±æ´»åˆ—è¡¨</p>
</li>
<li>
<p>åªèƒ½ä¿æŒå¤±æ´»çŠ¶æ€åˆ°å½“å‰åŠ¨ç”»å¸§ç»“æŸ</p>
</li>
</ul>
<ol start="5">
<li><strong>é‡æ–°æ¿€æ´»æˆ–é”€æ¯</strong></li>
</ol>
<ul>
<li>
<p>å¦‚æœåœ¨å¸§ç»“æŸå‰é‡æ–°æ¿€æ´»ï¼šè°ƒç”¨<code>activate()</code></p>
</li>
<li>
<p>å¦‚æœæœªé‡æ–°æ¿€æ´»ï¼šè°ƒç”¨<code>unmount()</code>è¿›å…¥<code>defunct</code>çŠ¶æ€</p>
</li>
</ul>
<h4 data-id="heading-7">ğŸ¯ Elementçš„æ ¸å¿ƒèŒè´£ï¼š</h4>
<ul>
<li>
<p><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šç®¡ç†Widgetä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹</p>
</li>
<li>
<p><strong>æ ‘ç»“æ„ç»´æŠ¤</strong>ï¼šç»´æŠ¤Elementæ ‘çš„çˆ¶å­å…³ç³»</p>
</li>
<li>
<p><strong>æ¸²æŸ“å¯¹è±¡ç®¡ç†</strong>ï¼šåè°ƒWidgetæ ‘å’ŒRenderObjectæ ‘</p>
</li>
<li>
<p><strong>çŠ¶æ€ä¼ é€’</strong>ï¼šä½œä¸ºBuildContextæä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯</p>
</li>
</ul>
<h3 data-id="heading-8">3. BuildContextï¼ˆä¸Šä¸‹æ–‡æ¥å£ï¼‰</h3>
<p><strong>BuildContextæ˜¯Elementçš„æ¥å£</strong>ï¼Œæä¾›äº†Widgetæ„å»ºæ—¶éœ€è¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-9">ğŸ” BuildContextçš„æ ¸å¿ƒåŠŸèƒ½ï¼š</h4>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BuildContext</span> </span>{

<span class="hljs-comment">// ä¾èµ–ç®¡ç†</span>

T? dependOnInheritedWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> InheritedWidget&gt;();

<span class="hljs-comment">// æ ‘éå†</span>

<span class="hljs-keyword">void</span> visitAncestorElements(ConditionalElementVisitor visitor);

<span class="hljs-keyword">void</span> visitChildElements(ElementVisitor visitor);

<span class="hljs-comment">// æŸ¥æ‰¾ç¥–å…ˆ</span>

T? findAncestorWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> Widget&gt;();

T? findAncestorStateOfType&lt;T <span class="hljs-keyword">extends</span> State&gt;();

<span class="hljs-comment">// é€šçŸ¥åˆ†å‘</span>

<span class="hljs-keyword">void</span> dispatchNotification(Notification notification);

}

</code></pre>
<h2 data-id="heading-10">ğŸ”„ Flutterçš„æ„å»ºæµç¨‹</h2>
<h3 data-id="heading-11">1. Widgetæ ‘ â†’ Elementæ ‘ â†’ RenderObjectæ ‘</h3>
<pre><code class="hljs language-dart" lang="dart">
Widgetæ ‘ï¼ˆé…ç½®ï¼‰ <span class="hljs-built_in">Element</span>æ ‘ï¼ˆç®¡ç†ï¼‰ RenderObjectæ ‘ï¼ˆæ¸²æŸ“ï¼‰

â†“ â†“ â†“

MyApp MyAppElement RenderView

â†“ â†“ â†“

Scaffold ScaffoldElement RenderScaffold

â†“ â†“ â†“

Container ContainerElement RenderContainer

</code></pre>
<h3 data-id="heading-12">2. æ„å»ºè¿‡ç¨‹è¯¦è§£</h3>
<h4 data-id="heading-13">ğŸ¬ åˆå§‹æ„å»ºï¼š</h4>
<ol>
<li>
<p><strong>Widgetåˆ›å»º</strong>ï¼šå¼€å‘è€…åˆ›å»ºWidgetæ ‘</p>
</li>
<li>
<p><strong>Elementå®ä¾‹åŒ–</strong>ï¼šFrameworkè°ƒç”¨<code>createElement()</code></p>
</li>
<li>
<p><strong>æŒ‚è½½è¿‡ç¨‹</strong>ï¼šè°ƒç”¨<code>mount()</code>å°†ElementæŒ‚è½½åˆ°æ ‘ä¸Š</p>
</li>
<li>
<p><strong>æ¸²æŸ“å¯¹è±¡åˆ›å»º</strong>ï¼šRenderObjectWidgetåˆ›å»ºRenderObject</p>
</li>
<li>
<p><strong>å¸ƒå±€å’Œç»˜åˆ¶</strong>ï¼šRenderObjectæ‰§è¡Œlayoutå’Œpaint</p>
</li>
</ol>
<h4 data-id="heading-14">ğŸ”„ é‡å»ºè¿‡ç¨‹ï¼š</h4>
<ol>
<li>
<p><strong>setStateè§¦å‘</strong>ï¼šè°ƒç”¨<code>setState()</code>æ ‡è®°Elementä¸ºdirty</p>
</li>
<li>
<p><strong>è°ƒåº¦é‡å»º</strong>ï¼šFrameworkå°†dirty ElementåŠ å…¥é‡å»ºé˜Ÿåˆ—</p>
</li>
<li>
<p><strong>buildè°ƒç”¨</strong>ï¼šè°ƒç”¨<code>build()</code>æ–¹æ³•è·å–æ–°çš„Widgetæ ‘</p>
</li>
<li>
<p><strong>å·®å¼‚å¯¹æ¯”</strong>ï¼šé€šè¿‡<code>Widget.canUpdate()</code>åˆ¤æ–­æ˜¯å¦å¯ä»¥å¤ç”¨</p>
</li>
<li>
<p><strong>æ›´æ–°æˆ–æ›¿æ¢</strong>ï¼šå¤ç”¨åˆ™è°ƒç”¨<code>update()</code>ï¼Œå¦åˆ™åˆ›å»ºæ–°Element</p>
</li>
</ol>
<h2 data-id="heading-15">ğŸ”‘ Keyç³»ç»Ÿè¯¦è§£</h2>
<h3 data-id="heading-16">Keyçš„ä½œç”¨æœºåˆ¶</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Key</span> </span>{

<span class="hljs-keyword">const</span> Key();

}

  


<span class="hljs-comment">// æœ¬åœ°Key</span>

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LocalKey</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Key</span> </span>{

<span class="hljs-keyword">const</span> LocalKey();

}

  


<span class="hljs-comment">// å…¨å±€Key</span>

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalKey</span>&lt;<span class="hljs-title">T</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">StatefulWidget</span>&gt;&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">Key</span> </span>{

BuildContext? <span class="hljs-keyword">get</span> currentContext;

Widget? <span class="hljs-keyword">get</span> currentWidget;

T? <span class="hljs-keyword">get</span> currentState;

}

</code></pre>
<h4 data-id="heading-17">ğŸ¯ Keyçš„ä½¿ç”¨åœºæ™¯ï¼š</h4>
<ol>
<li><strong>ValueKey</strong>ï¼šåŸºäºå€¼çš„æ ‡è¯†</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
ValueKey&lt;<span class="hljs-built_in">String</span>&gt;(<span class="hljs-string">'user_123'</span>)

</code></pre>
<ol start="2">
<li><strong>ObjectKey</strong>ï¼šåŸºäºå¯¹è±¡æ ‡è¯†çš„Key</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
ObjectKey(userObject)

</code></pre>
<ol start="3">
<li><strong>GlobalKey</strong>ï¼šå…¨å±€å”¯ä¸€æ ‡è¯†</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">final</span> GlobalKey&lt;FormState&gt; _formKey = GlobalKey&lt;FormState&gt;();

</code></pre>
<h3 data-id="heading-18">Keyçš„å·¥ä½œåŸç†</h3>
<p><strong>Widgetæ›¿æ¢é€»è¾‘ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> canUpdate(Widget oldWidget, Widget newWidget) {

<span class="hljs-keyword">return</span> oldWidget.runtimeType == newWidget.runtimeType

&amp;&amp; oldWidget.key == newWidget.key;

}

</code></pre>
<ul>
<li>
<p>å¦‚æœ<code>runtimeType</code>å’Œ<code>key</code>éƒ½ç›¸åŒï¼šæ›´æ–°Element</p>
</li>
<li>
<p>å¦‚æœä¸åŒï¼šç§»é™¤æ—§Elementï¼Œåˆ›å»ºæ–°Element</p>
</li>
</ul>
<h2 data-id="heading-19">ğŸ›ï¸ çŠ¶æ€ç®¡ç†æ¶æ„</h2>
<h3 data-id="heading-20">StatefulWidget + Stateæ¨¡å¼</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{

<span class="hljs-meta">@override</span>

State&lt;MyWidget&gt; createState() =&gt; _MyWidgetState();

}

  


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyWidget</span>&gt; </span>{

<span class="hljs-built_in">int</span> _counter = <span class="hljs-number">0</span>;

<span class="hljs-meta">@override</span>

<span class="hljs-keyword">void</span> initState() {

<span class="hljs-keyword">super</span>.initState();

<span class="hljs-comment">// åˆå§‹åŒ–é€»è¾‘</span>

}

<span class="hljs-meta">@override</span>

Widget build(BuildContext context) {

<span class="hljs-keyword">return</span> Text(<span class="hljs-string">'<span class="hljs-subst">$_counter</span>'</span>);

}

<span class="hljs-meta">@override</span>

<span class="hljs-keyword">void</span> dispose() {

<span class="hljs-comment">// æ¸…ç†èµ„æº</span>

<span class="hljs-keyword">super</span>.dispose();

}

}

</code></pre>
<h4 data-id="heading-21">ğŸ”„ Stateçš„ç”Ÿå‘½å‘¨æœŸï¼š</h4>
<ol>
<li>
<p><strong>createState()</strong> - åˆ›å»ºStateå¯¹è±¡</p>
</li>
<li>
<p><strong>initState()</strong> - åˆå§‹åŒ–çŠ¶æ€</p>
</li>
<li>
<p><strong>didChangeDependencies()</strong> - ä¾èµ–å‘ç”Ÿå˜åŒ–</p>
</li>
<li>
<p><strong>build()</strong> - æ„å»ºWidgetæ ‘</p>
</li>
<li>
<p><strong>didUpdateWidget()</strong> - Widgeté…ç½®æ›´æ–°</p>
</li>
<li>
<p><strong>setState()</strong> - çŠ¶æ€æ”¹å˜ï¼Œè§¦å‘é‡å»º</p>
</li>
<li>
<p><strong>deactivate()</strong> - Elementå¤±æ´»</p>
</li>
<li>
<p><strong>dispose()</strong> - é”€æ¯ï¼Œé‡Šæ”¾èµ„æº</p>
</li>
</ol>
<h3 data-id="heading-22">setStateçš„å·¥ä½œæœºåˆ¶</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">void</span> setState(VoidCallback fn) {

<span class="hljs-comment">// 1. åŒæ­¥æ‰§è¡Œå›è°ƒå‡½æ•°</span>

fn();

<span class="hljs-comment">// 2. æ ‡è®°Elementä¸ºdirty</span>

_element!.markNeedsBuild();

}

</code></pre>
<p><strong>é‡å»ºæµç¨‹ï¼š</strong></p>
<ol>
<li>
<p><code>setState()</code>æ ‡è®°Elementä¸ºdirty</p>
</li>
<li>
<p>Frameworkåœ¨ä¸‹ä¸€å¸§è°ƒç”¨<code>build()</code></p>
</li>
<li>
<p>ç”Ÿæˆæ–°çš„Widgetæ ‘</p>
</li>
<li>
<p>ä¸æ—§æ ‘è¿›è¡Œå·®å¼‚å¯¹æ¯”</p>
</li>
<li>
<p>æ›´æ–°å¿…è¦çš„RenderObject</p>
</li>
</ol>
<h2 data-id="heading-23">ğŸŒ³ InheritedWidgetæ•°æ®ä¼ é€’</h2>
<h3 data-id="heading-24">æ•°æ®å‘ä¸‹ä¼ é€’æœºåˆ¶</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThemeData</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">InheritedWidget</span> </span>{

<span class="hljs-keyword">const</span> ThemeData({

Key? key,

<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.data,

<span class="hljs-keyword">required</span> Widget child,

}) : <span class="hljs-keyword">super</span>(key: key, child: child);

<span class="hljs-keyword">final</span> ThemeDataModel data;

<span class="hljs-meta">@override</span>

<span class="hljs-built_in">bool</span> updateShouldNotify(ThemeData oldWidget) {

<span class="hljs-keyword">return</span> data != oldWidget.data;

}

<span class="hljs-keyword">static</span> ThemeDataModel? of(BuildContext context) {

<span class="hljs-keyword">return</span> context.dependOnInheritedWidgetOfExactType&lt;ThemeData&gt;()?.data;

}

}

</code></pre>
<h4 data-id="heading-25">ğŸ” ä¾èµ–æœºåˆ¶ï¼š</h4>
<ol>
<li>
<p><strong>æ³¨å†Œä¾èµ–</strong>ï¼š<code>dependOnInheritedWidgetOfExactType()</code></p>
</li>
<li>
<p><strong>å˜åŒ–é€šçŸ¥</strong>ï¼š<code>updateShouldNotify()</code>è¿”å›trueæ—¶</p>
</li>
<li>
<p><strong>è‡ªåŠ¨é‡å»º</strong>ï¼šä¾èµ–çš„Widgetè‡ªåŠ¨é‡å»º</p>
</li>
</ol>
<h2 data-id="heading-26">ğŸ¨ æ¸²æŸ“ç®¡é“</h2>
<h3 data-id="heading-27">RenderObjectæ¸²æŸ“æµç¨‹</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RenderObject</span> </span>{

<span class="hljs-comment">// å¸ƒå±€é˜¶æ®µ</span>

<span class="hljs-keyword">void</span> layout(Constraints constraints);

<span class="hljs-comment">// ç»˜åˆ¶é˜¶æ®µ</span>

<span class="hljs-keyword">void</span> paint(PaintingContext context, Offset offset);

<span class="hljs-comment">// å‘½ä¸­æµ‹è¯•</span>

<span class="hljs-built_in">bool</span> hitTest(BoxHitTestResult result, Offset position);

}

</code></pre>
<h4 data-id="heading-28">ğŸ­ æ¸²æŸ“çš„ä¸‰ä¸ªé˜¶æ®µï¼š</h4>
<ol>
<li><strong>Layoutï¼ˆå¸ƒå±€ï¼‰</strong></li>
</ol>
<ul>
<li>
<p>è®¡ç®—æ¯ä¸ªRenderObjectçš„å¤§å°å’Œä½ç½®</p>
</li>
<li>
<p>éµå¾ªçº¦æŸä¼ é€’è§„åˆ™ï¼šçº¦æŸå‘ä¸‹ï¼Œå¤§å°å‘ä¸Š</p>
</li>
</ul>
<ol start="2">
<li><strong>Paintï¼ˆç»˜åˆ¶ï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å°†RenderObjectç»˜åˆ¶åˆ°Canvasä¸Š</p>
</li>
<li>
<p>æŒ‰ç…§æ·±åº¦ä¼˜å…ˆé¡ºåºç»˜åˆ¶</p>
</li>
</ul>
<ol start="3">
<li><strong>Compositeï¼ˆåˆæˆï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å°†ç»˜åˆ¶ç»“æœåˆæˆæœ€ç»ˆå›¾åƒ</p>
</li>
<li>
<p>å¤„ç†å›¾å±‚å’Œç‰¹æ•ˆ</p>
</li>
</ul>
<h2 data-id="heading-29">âš¡ æ€§èƒ½ä¼˜åŒ–åŸç†</h2>
<h3 data-id="heading-30">1. Widgetå¤ç”¨æœºåˆ¶</h3>
<ul>
<li>
<p><strong>constæ„é€ å‡½æ•°</strong>ï¼šç¼–è¯‘æ—¶å¸¸é‡ï¼Œé¿å…é‡å¤åˆ›å»º</p>
</li>
<li>
<p><strong>Widgetç¼“å­˜</strong>ï¼šå¤ç”¨ä¸å˜çš„Widgetå®ä¾‹</p>
</li>
</ul>
<h3 data-id="heading-31">2. Elementå¤ç”¨æœºåˆ¶</h3>
<ul>
<li>
<p><strong>KeyåŒ¹é…</strong>ï¼šé€šè¿‡Keyå®ç°Elementçš„ç²¾ç¡®å¤ç”¨</p>
</li>
<li>
<p><strong>ç±»å‹åŒ¹é…</strong>ï¼šç›¸åŒç±»å‹çš„Widgetå¯ä»¥å¤ç”¨Element</p>
</li>
</ul>
<h3 data-id="heading-32">3. RenderObjectä¼˜åŒ–</h3>
<ul>
<li>
<p><strong>å¸ƒå±€è¾¹ç•Œ</strong>ï¼š<code>RelayoutBoundary</code>é¿å…ä¸å¿…è¦çš„é‡æ–°å¸ƒå±€</p>
</li>
<li>
<p><strong>é‡ç»˜è¾¹ç•Œ</strong>ï¼š<code>RepaintBoundary</code>éš”ç¦»é‡ç»˜åŒºåŸŸ</p>
</li>
</ul>
<h3 data-id="heading-33">4. æ„å»ºä¼˜åŒ–ç­–ç•¥</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°Widget</span>

Widget build(BuildContext context) {

<span class="hljs-keyword">return</span> Column(

children: [

ExpensiveWidget(), <span class="hljs-comment">// æ¯æ¬¡é‡å»ºéƒ½ä¼šåˆ›å»ºæ–°å®ä¾‹</span>

],

);

}

  


<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨constæˆ–ç¼“å­˜</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{

<span class="hljs-keyword">const</span> MyWidget({Key? key}) : <span class="hljs-keyword">super</span>(key: key);

<span class="hljs-meta">@override</span>

State&lt;MyWidget&gt; createState() =&gt; _MyWidgetState();

}

  


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyWidget</span>&gt; </span>{

<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> Widget _expensiveWidget = ExpensiveWidget();

<span class="hljs-meta">@override</span>

Widget build(BuildContext context) {

<span class="hljs-keyword">return</span> Column(

children: [

_expensiveWidget, <span class="hljs-comment">// å¤ç”¨åŒä¸€ä¸ªå®ä¾‹</span>

],

);

}

}

</code></pre>
<h2 data-id="heading-34">ğŸ”§ BuildOwnerå’Œæ„å»ºç®¡ç†</h2>
<h3 data-id="heading-35">BuildOwnerçš„èŒè´£</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BuildOwner</span> </span>{

<span class="hljs-comment">// è°ƒåº¦æ„å»º</span>

<span class="hljs-keyword">void</span> scheduleBuildFor(<span class="hljs-built_in">Element</span> element);

<span class="hljs-comment">// æ‰§è¡Œæ„å»º</span>

<span class="hljs-keyword">void</span> buildScope(<span class="hljs-built_in">Element</span> context, VoidCallback callback);

<span class="hljs-comment">// å®Œæˆæ„å»º</span>

<span class="hljs-keyword">void</span> finalizeTree();

}

</code></pre>
<h4 data-id="heading-36">ğŸ¯ æ„å»ºè°ƒåº¦æœºåˆ¶ï¼š</h4>
<ol>
<li>
<p><strong>æ ‡è®°é˜¶æ®µ</strong>ï¼šElementè°ƒç”¨<code>markNeedsBuild()</code></p>
</li>
<li>
<p><strong>æ”¶é›†é˜¶æ®µ</strong>ï¼šBuildOwneræ”¶é›†æ‰€æœ‰dirty Element</p>
</li>
<li>
<p><strong>æ’åºé˜¶æ®µ</strong>ï¼šæŒ‰æ·±åº¦æ’åºï¼Œç¡®ä¿çˆ¶èŠ‚ç‚¹å…ˆæ„å»º</p>
</li>
<li>
<p><strong>æ„å»ºé˜¶æ®µ</strong>ï¼šä¾æ¬¡è°ƒç”¨æ¯ä¸ªElementçš„<code>build()</code></p>
</li>
<li>
<p><strong>æ¸…ç†é˜¶æ®µ</strong>ï¼šç§»é™¤ä¸æ´»è·ƒçš„Element</p>
</li>
</ol>
<h2 data-id="heading-37">ğŸª äº‹ä»¶å¤„ç†æœºåˆ¶</h2>
<h3 data-id="heading-38">æ‰‹åŠ¿è¯†åˆ«æµç¨‹</h3>
<ol>
<li><strong>å‘½ä¸­æµ‹è¯•ï¼ˆHit Testingï¼‰</strong></li>
</ol>
<ul>
<li>
<p>ä»RenderObjectæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹</p>
</li>
<li>
<p>é€’å½’æŸ¥æ‰¾èƒ½å“åº”äº‹ä»¶çš„å¯¹è±¡</p>
</li>
</ul>
<ol start="2">
<li><strong>äº‹ä»¶åˆ†å‘ï¼ˆEvent Dispatchingï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å°†äº‹ä»¶åˆ†å‘ç»™å‘½ä¸­æµ‹è¯•çš„å¯¹è±¡</p>
</li>
<li>
<p>æ”¯æŒäº‹ä»¶å†’æ³¡å’Œæ•è·</p>
</li>
</ul>
<ol start="3">
<li><strong>æ‰‹åŠ¿è¯†åˆ«ï¼ˆGesture Recognitionï¼‰</strong></li>
</ol>
<ul>
<li>
<p>é€šè¿‡GestureDetectorè¯†åˆ«å¤æ‚æ‰‹åŠ¿</p>
</li>
<li>
<p>æ”¯æŒç«æŠ€åœºæœºåˆ¶è§£å†³æ‰‹åŠ¿å†²çª</p>
</li>
</ul>
<h2 data-id="heading-39">ğŸ”® æ€»ç»“</h2>
<p>Flutteræ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼š</p>
<ol>
<li>
<p><strong>åˆ†å±‚æ¶æ„</strong>ï¼šWidgetï¼ˆé…ç½®ï¼‰â†’ Elementï¼ˆç®¡ç†ï¼‰â†’ RenderObjectï¼ˆæ¸²æŸ“ï¼‰</p>
</li>
<li>
<p><strong>å£°æ˜å¼UI</strong>ï¼šæè¿°UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼ŒFrameworkè´Ÿè´£å¦‚ä½•å®ç°</p>
</li>
<li>
<p><strong>ä¸å¯å˜æ€§</strong>ï¼šWidgetä¸å¯å˜ï¼ŒçŠ¶æ€å˜åŒ–é€šè¿‡é‡å»ºå®ç°</p>
</li>
<li>
<p><strong>é«˜æ•ˆæ›´æ–°</strong>ï¼šé€šè¿‡Keyå’Œç±»å‹åŒ¹é…å®ç°ç²¾ç¡®çš„å·®å¼‚æ›´æ–°</p>
</li>
<li>
<p><strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ï¼šé€šè¿‡Widgetç»„åˆæ„å»ºå¤æ‚UI</p>
</li>
</ol>
<p>è¿™ç§è®¾è®¡ä½¿å¾—Flutterèƒ½å¤Ÿï¼š</p>
<ul>
<li>
<p>ğŸš€ <strong>é«˜æ€§èƒ½</strong>ï¼šç²¾ç¡®çš„æ›´æ–°æœºåˆ¶å’Œæ¸²æŸ“ä¼˜åŒ–</p>
</li>
<li>
<p>ğŸ”§ <strong>æ˜“ç»´æŠ¤</strong>ï¼šæ¸…æ™°çš„æ¶æ„åˆ†å±‚å’Œç”Ÿå‘½å‘¨æœŸ</p>
</li>
<li>
<p>ğŸ¨ <strong>é«˜çµæ´»æ€§</strong>ï¼šå¼ºå¤§çš„ç»„åˆèƒ½åŠ›å’Œè‡ªå®šä¹‰èƒ½åŠ›</p>
</li>
<li>
<p>ğŸ”„ <strong>çƒ­é‡è½½</strong>ï¼šæ”¯æŒå¼€å‘æ—¶çš„å¿«é€Ÿè¿­ä»£</p>
</li>
</ul>
<p>ç†è§£è¿™äº›æ ¸å¿ƒåŸç†ï¼Œèƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ï¼š</p>
<ul>
<li>
<p>ç¼–å†™é«˜æ€§èƒ½çš„Flutteråº”ç”¨</p>
</li>
<li>
<p>è°ƒè¯•å’Œè§£å†³å¤æ‚é—®é¢˜</p>
</li>
<li>
<p>è®¾è®¡åˆç†çš„åº”ç”¨æ¶æ„</p>
</li>
<li>
<p>è¿›è¡Œæ·±åº¦çš„è‡ªå®šä¹‰å¼€å‘</p>
</li>
</ul>
<hr/>
<p><em>è¿™ä»½æ–‡æ¡£åŸºäºFlutteræ¡†æ¶æºç åˆ†æï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…æ·±å…¥ç†è§£Flutterçš„å·¥ä½œåŸç†ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI é©±åŠ¨çš„å¼‚æ„ ETL ç¯å¢ƒæ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7584379805900013620</link>    <guid>https://juejin.cn/post/7584379805900013620</guid>    <pubDate>2025-12-17T07:52:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584379805900013620" data-draft-id="7584377629707255843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI é©±åŠ¨çš„å¼‚æ„ ETL ç¯å¢ƒæ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-17T07:52:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—æ–¹è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2840793779295133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI é©±åŠ¨çš„å¼‚æ„ ETL ç¯å¢ƒæ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793779295133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—æ–¹è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T07:52:47.000Z" title="Wed Dec 17 2025 07:52:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“– ç³»ç»Ÿæ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-1">1.1 æ•´ä½“æ¶æ„æ¦‚è¿°</h3>
<p>è¯¥ç³»ç»Ÿæ˜¯é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œé€šè¿‡ AI æŠ€æœ¯è‡ªåŠ¨å‘ç°å’Œè¿½è¸ªæ•°æ®åœ¨å¼‚æ„ETLç¯å¢ƒä¸­çš„è¡€ç¼˜å…³ç³»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccb44e80378b4d90855344b496e1e5d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=htz13FOREdVAgmRQVLz8E02k9bs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ğŸ“– æ•°æ®è¡€ç¼˜å‘ç°æµç¨‹</h2>
<h3 data-id="heading-3">2.1 è‡ªåŠ¨åŒ–è¡€ç¼˜å‘ç°æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/997a9554884148e79490b83b0cbbc1b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=7YRMiDTLj7XwAzY53wnHfT8LWdk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">2.2 SQL è§£æä¸è¡€ç¼˜æå–</h3>
<p><strong>åŸºäº AI çš„</strong> <strong>SQL</strong> <strong>è§£æå¼•æ“ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AISQLLineageExtractor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.nlp = spacy.load(<span class="hljs-string">"en_core_web_sm"</span>)
        self.classifier = pipeline(<span class="hljs-string">"text-classification"</span>, 
                                   model=<span class="hljs-string">"distilbert-base-uncased"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_lineage_from_sql</span>(<span class="hljs-params">self, sql_query, context=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""
        ä»SQLæŸ¥è¯¢ä¸­æå–æ•°æ®è¡€ç¼˜å…³ç³»
        """</span>
        <span class="hljs-comment"># è§£æSQLç»“æ„</span>
        parsed = sqlparse.parse(sql_query)[<span class="hljs-number">0</span>]

        <span class="hljs-comment"># ä½¿ç”¨sql_metadataè¿›è¡ŒåŸºç¡€è§£æ</span>
        parser = Parser(sql_query)

        <span class="hljs-comment"># AIå¢å¼ºçš„è¯­ä¹‰åˆ†æ</span>
        ai_insights = self.analyze_sql_semantics(sql_query, context)

        <span class="hljs-comment"># æ„å»ºè¡€ç¼˜å…³ç³»</span>
        lineage_data = {
            <span class="hljs-string">'input_tables'</span>: parser.tables,
            <span class="hljs-string">'input_columns'</span>: parser.columns,
            <span class="hljs-string">'output_columns'</span>: self.extract_output_columns(parsed),
            <span class="hljs-string">'transformations'</span>: self.extract_transformations(parsed, ai_insights),
            <span class="hljs-string">'confidence_score'</span>: ai_insights.get(<span class="hljs-string">'confidence'</span>, <span class="hljs-number">0.8</span>),
            <span class="hljs-string">'parsing_metadata'</span>: {
                <span class="hljs-string">'query_type'</span>: self.classify_query_type(sql_query),
                <span class="hljs-string">'complexity_score'</span>: self.calculate_complexity(sql_query),
                <span class="hljs-string">'ai_analysis'</span>: ai_insights
            }
        }

        <span class="hljs-keyword">return</span> lineage_data

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_sql_semantics</span>(<span class="hljs-params">self, sql_query, context</span>):
        <span class="hljs-string">"""ä½¿ç”¨AIåˆ†æSQLè¯­ä¹‰"""</span>
        <span class="hljs-comment"># æ„å»ºåˆ†ææç¤º</span>
        analysis_prompt = <span class="hljs-string">f"""
        Analyze the following SQL query and extract data lineage information:
        
        SQL: <span class="hljs-subst">{sql_query}</span>
        Context: <span class="hljs-subst">{context}</span>
        
        Please identify:
        1. Source tables and columns
        2. Transformation logic
        3. Target tables and columns
        4. Any data quality operations
        """</span>

        <span class="hljs-comment"># ä½¿ç”¨NLPæ¨¡å‹è¿›è¡Œåˆ†æ</span>
        analysis_result = self.nlp(analysis_prompt)

        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'entities'</span>: [(ent.text, ent.label_) <span class="hljs-keyword">for</span> ent <span class="hljs-keyword">in</span> analysis_result.ents],
            <span class="hljs-string">'dependencies'</span>: self.extract_semantic_dependencies(analysis_result),
            <span class="hljs-string">'confidence'</span>: self.calculate_semantic_confidence(analysis_result)
        }

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
extractor = AISQLLineageExtractor()
sql = <span class="hljs-string">"""
SELECT 
    customer_id,
    SUM(order_amount) as total_spent,
    COUNT(DISTINCT order_id) as order_count
FROM orders 
WHERE order_date &gt;= '2024-01-01'
GROUP BY customer_id
"""</span>

lineage = extractor.extract_lineage_from_sql(sql)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç°çš„è¾“å…¥è¡¨: <span class="hljs-subst">{lineage[<span class="hljs-string">'input_tables'</span>]}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¾“å‡ºåˆ—: <span class="hljs-subst">{[col[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> lineage[<span class="hljs-string">'output_columns'</span>]]}</span>"</span>)
</code></pre>
<h2 data-id="heading-5">ğŸ“– è¡€ç¼˜å…³ç³»å­˜å‚¨è®¾è®¡</h2>
<h3 data-id="heading-6">3.1 å›¾æ•°æ®åº“ Schema è®¾è®¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataLineageGraph</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, neptune_client</span>):
        self.client = neptune_client

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_lineage_graph</span>(<span class="hljs-params">self, lineage_data</span>):
        <span class="hljs-string">"""åˆ›å»ºè¡€ç¼˜å…³ç³»å›¾"""</span>

        <span class="hljs-comment"># åˆ›å»ºè¡¨èŠ‚ç‚¹</span>
        table_nodes = {}
        <span class="hljs-keyword">for</span> table <span class="hljs-keyword">in</span> lineage_data[<span class="hljs-string">'input_tables'</span>] + [lineage_data.get(<span class="hljs-string">'output_table'</span>)]:
            <span class="hljs-keyword">if</span> table:
                table_id = self.create_table_node(table)
                table_nodes[table] = table_id

        <span class="hljs-comment"># åˆ›å»ºåˆ—èŠ‚ç‚¹å’Œå…³ç³»</span>
        <span class="hljs-keyword">for</span> col_info <span class="hljs-keyword">in</span> lineage_data.get(<span class="hljs-string">'columns'</span>, []):
            col_id = self.create_column_node(col_info)

            <span class="hljs-comment"># åˆ›å»ºåˆ—åˆ°è¡¨çš„å…³ç³»</span>
            self.client.add_edge(
                col_id, 
                table_nodes[col_info[<span class="hljs-string">'table'</span>]], 
                <span class="hljs-string">'BELONGS_TO'</span>
            )

            <span class="hljs-comment"># åˆ›å»ºè¡€ç¼˜å…³ç³»</span>
            <span class="hljs-keyword">for</span> source_col <span class="hljs-keyword">in</span> col_info.get(<span class="hljs-string">'source_columns'</span>, []):
                source_col_id = self.get_column_id(source_col)
                <span class="hljs-keyword">if</span> source_col_id:
                    self.client.add_edge(
                        source_col_id, 
                        col_id, 
                        <span class="hljs-string">'LINEAGE'</span>, 
                        properties={
                            <span class="hljs-string">'transformation'</span>: col_info.get(<span class="hljs-string">'transformation'</span>),
                            <span class="hljs-string">'confidence'</span>: lineage_data.get(<span class="hljs-string">'confidence_score'</span>, <span class="hljs-number">0.8</span>)
                        }
                    )
</code></pre>
<h3 data-id="heading-7">3.2 è¡€ç¼˜æŸ¥è¯¢ API è®¾è®¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LineageAPI</span>(<span class="hljs-title class_ inherited__">Resource</span>):
<span class="hljs-meta">    @api.expect(<span class="hljs-params">lineage_model</span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æŸ¥è¯¢æ•°æ®è¡€ç¼˜å…³ç³»"""</span>
        data = request.json

        source_type = data.get(<span class="hljs-string">'source_type'</span>)
        source_name = data.get(<span class="hljs-string">'source_name'</span>) 
        depth = data.get(<span class="hljs-string">'depth'</span>, <span class="hljs-number">3</span>)

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># æ‰§è¡Œè¡€ç¼˜æŸ¥è¯¢</span>
            <span class="hljs-keyword">if</span> source_type == <span class="hljs-string">'table'</span>:
                result = self.get_table_lineage(source_name, depth)
            <span class="hljs-keyword">elif</span> source_type == <span class="hljs-string">'column'</span>:
                result = self.get_column_lineage(source_name, depth)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">return</span> {<span class="hljs-string">'error'</span>: <span class="hljs-string">'ä¸æ”¯æŒçš„æºç±»å‹'</span>}, <span class="hljs-number">400</span>

            <span class="hljs-keyword">return</span> jsonify({
                <span class="hljs-string">'status'</span>: <span class="hljs-string">'success'</span>,
                <span class="hljs-string">'data'</span>: result,
                <span class="hljs-string">'query'</span>: {
                    <span class="hljs-string">'source'</span>: source_name,
                    <span class="hljs-string">'depth'</span>: depth,
                    <span class="hljs-string">'timestamp'</span>: datetime.utcnow().isoformat()
                }
            })

        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> {<span class="hljs-string">'error'</span>: <span class="hljs-built_in">str</span>(e)}, <span class="hljs-number">500</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_table_lineage</span>(<span class="hljs-params">self, table_name, depth</span>):
        <span class="hljs-string">"""è·å–è¡¨çº§åˆ«è¡€ç¼˜å…³ç³»"""</span>
        graph = DataLineageGraph(neptune_client)

        <span class="hljs-comment"># è·å–ä¸‹æ¸¸å½±å“</span>
        downstream = graph.query_impact_analysis(table_name)

        <span class="hljs-comment"># è·å–ä¸Šæ¸¸ä¾èµ–</span>
        upstream = graph.query_root_cause(table_name, <span class="hljs-literal">None</span>)

        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'table'</span>: table_name,
            <span class="hljs-string">'downstream_impact'</span>: self.format_paths(downstream),
            <span class="hljs-string">'upstream_dependencies'</span>: self.format_paths(upstream),
            <span class="hljs-string">'summary'</span>: {
                <span class="hljs-string">'total_downstream'</span>: <span class="hljs-built_in">len</span>(downstream),
                <span class="hljs-string">'total_upstream'</span>: <span class="hljs-built_in">len</span>(upstream),
                <span class="hljs-string">'max_depth'</span>: depth
            }
        }
</code></pre>
<h2 data-id="heading-8">ğŸ“– è¡€ç¼˜è´¨é‡è¯„ä¼°æµç¨‹</h2>
<h3 data-id="heading-9">4.1 è´¨é‡è¯„ä¼°æµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23df8c7c44a84b52a38d63eedce6d7b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=o4oLRmIybD5oUy7HCNaWDWP%2FTp0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">4.2 è´¨é‡è¯„ä¼°ç®—æ³•å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LineageQualityAssessor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.scaler = StandardScaler()
        self.classifier = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>)
        self.quality_metrics = []

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">assess_lineage_quality</span>(<span class="hljs-params">self, lineage_data</span>):
        <span class="hljs-string">"""è¯„ä¼°è¡€ç¼˜å…³ç³»è´¨é‡"""</span>

        <span class="hljs-comment"># è®¡ç®—è´¨é‡æŒ‡æ ‡</span>
        metrics = self.calculate_quality_metrics(lineage_data)

        <span class="hljs-comment"># AIè´¨é‡åˆ†ç±»</span>
        quality_score = self.ai_quality_classification(metrics)

        <span class="hljs-comment"># é—®é¢˜æ£€æµ‹</span>
        issues = self.detect_quality_issues(lineage_data, metrics)

        assessment_result = {
            <span class="hljs-string">'overall_score'</span>: quality_score,
            <span class="hljs-string">'quality_level'</span>: self.get_quality_level(quality_score),
            <span class="hljs-string">'metrics'</span>: metrics,
            <span class="hljs-string">'issues'</span>: issues,
            <span class="hljs-string">'recommendations'</span>: self.generate_recommendations(issues, metrics),
            <span class="hljs-string">'confidence'</span>: self.calculate_confidence(metrics, issues)
        }

        <span class="hljs-keyword">return</span> assessment_result

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_quality_metrics</span>(<span class="hljs-params">self, lineage_data</span>):
        <span class="hljs-string">"""è®¡ç®—è¡€ç¼˜è´¨é‡æŒ‡æ ‡"""</span>
        metrics = {}

        <span class="hljs-comment"># å®Œæ•´æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'completeness'</span>] = self.calculate_completeness(lineage_data)

        <span class="hljs-comment"># å‡†ç¡®æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'accuracy'</span>] = self.calculate_accuracy(lineage_data)

        <span class="hljs-comment"># ä¸€è‡´æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'consistency'</span>] = self.calculate_consistency(lineage_data)

        <span class="hljs-comment"># æ—¶æ•ˆæ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'freshness'</span>] = self.calculate_freshness(lineage_data)

        <span class="hljs-comment"># å¤æ‚æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'complexity'</span>] = self.calculate_complexity(lineage_data)

        <span class="hljs-keyword">return</span> metrics

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">ai_quality_classification</span>(<span class="hljs-params">self, metrics</span>):
        <span class="hljs-string">"""ä½¿ç”¨AIè¿›è¡Œè´¨é‡åˆ†ç±»"""</span>
        <span class="hljs-comment"># å‡†å¤‡ç‰¹å¾æ•°æ®</span>
        features = np.array([[
            metrics[<span class="hljs-string">'completeness'</span>],
            metrics[<span class="hljs-string">'accuracy'</span>], 
            metrics[<span class="hljs-string">'consistency'</span>],
            metrics[<span class="hljs-string">'freshness'</span>],
            metrics[<span class="hljs-string">'complexity'</span>]
        ]])

        <span class="hljs-comment"># æ ‡å‡†åŒ–ç‰¹å¾</span>
        features_scaled = self.scaler.transform(features)

        <span class="hljs-comment"># é¢„æµ‹è´¨é‡åˆ†æ•°</span>
        quality_score = self.classifier.predict_proba(features_scaled)[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]

        <span class="hljs-keyword">return</span> quality_score

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
assessor = LineageQualityAssessor()
quality_result = assessor.assess_lineage_quality(lineage_data)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è´¨é‡è¯„åˆ†: <span class="hljs-subst">{quality_result[<span class="hljs-string">'overall_score'</span>]:<span class="hljs-number">.2</span>f}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è´¨é‡ç­‰çº§: <span class="hljs-subst">{quality_result[<span class="hljs-string">'quality_level'</span>]}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç°çš„é—®é¢˜: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(quality_result[<span class="hljs-string">'issues'</span>])}</span>ä¸ª"</span>)
</code></pre>
<h2 data-id="heading-11">ğŸ“– å®æ—¶ç›‘æ§ä¸å‘Šè­¦</h2>
<h3 data-id="heading-12">5.1 ç›‘æ§å‘Šè­¦æµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bde5203f5f5471c95adcf6656773edf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=rudNjZUTdMStmAo%2BVk7N77smBAA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">5.2 å®æ—¶ç›‘æ§å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RealTimeLineageMonitor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, kafka_config, lineage_graph, alert_service</span>):
        self.consumer = KafkaConsumer(
            kafka_config[<span class="hljs-string">'topic'</span>],
            bootstrap_servers=kafka_config[<span class="hljs-string">'bootstrap_servers'</span>],
            value_deserializer=<span class="hljs-keyword">lambda</span> m: json.loads(m.decode(<span class="hljs-string">'utf-8'</span>))
        )
        self.graph = lineage_graph
        self.alert_service = alert_service
        self.monitoring_rules = self.load_monitoring_rules()

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_monitoring</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""å¯åŠ¨å®æ—¶ç›‘æ§"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¯åŠ¨è¡€ç¼˜å…³ç³»å®æ—¶ç›‘æ§..."</span>)

        <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> self.consumer:
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># å¤„ç†å˜æ›´äº‹ä»¶</span>
                <span class="hljs-keyword">await</span> self.process_change_event(message.value)

            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†ç›‘æ§äº‹ä»¶å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
                <span class="hljs-comment"># å‘é€ç›‘æ§é”™è¯¯å‘Šè­¦</span>
                <span class="hljs-keyword">await</span> self.send_monitoring_alert(
                    <span class="hljs-string">"MONITORING_ERROR"</span>,
                    <span class="hljs-string">f"å¤„ç†å˜æ›´äº‹ä»¶æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>,
                    <span class="hljs-string">"HIGH"</span>
                )

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_change_event</span>(<span class="hljs-params">self, event</span>):
        <span class="hljs-string">"""å¤„ç†æ•°æ®å˜æ›´äº‹ä»¶"""</span>
        event_type = event.get(<span class="hljs-string">'event_type'</span>)
        resource_type = event.get(<span class="hljs-string">'resource_type'</span>)
        resource_name = event.get(<span class="hljs-string">'resource_name'</span>)

        <span class="hljs-comment"># åˆ†æå˜æ›´å½±å“</span>
        impact_analysis = <span class="hljs-keyword">await</span> self.analyze_change_impact(
            event_type, resource_type, resource_name
        )

        <span class="hljs-comment"># è¯„ä¼°é£é™©</span>
        risk_assessment = self.assess_change_risk(impact_analysis, event)

        <span class="hljs-comment"># è§¦å‘ç›¸åº”åŠ¨ä½œ</span>
        <span class="hljs-keyword">await</span> self.trigger_actions(risk_assessment, event)

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_change_impact</span>(<span class="hljs-params">self, event_type, resource_type, resource_name</span>):
        <span class="hljs-string">"""åˆ†æå˜æ›´å½±å“èŒƒå›´"""</span>

        <span class="hljs-keyword">if</span> resource_type == <span class="hljs-string">'TABLE'</span>:
            <span class="hljs-comment"># è¡¨çº§åˆ«å½±å“åˆ†æ</span>
            impact_paths = self.graph.query_impact_analysis(resource_name)

            <span class="hljs-comment"># è®¡ç®—å½±å“èŒƒå›´</span>
            impact_scope = {
                <span class="hljs-string">'direct_impact'</span>: self.get_direct_dependencies(resource_name),
                <span class="hljs-string">'indirect_impact'</span>: self.get_indirect_dependencies(resource_name, depth=<span class="hljs-number">3</span>),
                <span class="hljs-string">'critical_assets'</span>: self.identify_critical_assets(impact_paths),
                <span class="hljs-string">'business_impact'</span>: self.assess_business_impact(impact_paths)
            }

            <span class="hljs-keyword">return</span> impact_scope

        <span class="hljs-keyword">elif</span> resource_type == <span class="hljs-string">'COLUMN'</span>:
            <span class="hljs-comment"># åˆ—çº§åˆ«å½±å“åˆ†æ</span>
            impact_paths = self.graph.query_impact_analysis(<span class="hljs-literal">None</span>, resource_name)

            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">'column_impact'</span>: impact_paths,
                <span class="hljs-string">'affected_reports'</span>: self.find_affected_reports(resource_name),
                <span class="hljs-string">'data_quality_impact'</span>: self.assess_data_quality_impact(resource_name)
            }

<span class="hljs-comment"># å¯åŠ¨ç›‘æ§æœåŠ¡</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    monitor = RealTimeLineageMonitor(
        kafka_config={<span class="hljs-string">'bootstrap_servers'</span>: <span class="hljs-string">'localhost:9092'</span>, <span class="hljs-string">'topic'</span>: <span class="hljs-string">'data-changes'</span>},
        lineage_graph=lineage_graph,
        alert_service=alert_service
    )

    <span class="hljs-keyword">await</span> monitor.start_monitoring()
</code></pre>
<h2 data-id="heading-14">ğŸ“– å½±å“åˆ†æä¸æ ¹å› è¿½è¸ª</h2>
<h3 data-id="heading-15">6.1 å½±å“åˆ†ææµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8fe88592d594d6d8dcbe4c922cceca4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=57bCoNRzmHHwNaKjGR0Nj2a1kxA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">6.2 æ ¹å› åˆ†ææµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2008cbb658db4a789fcffd0fac466269~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=SEvHoPY48qekwLguzWAIBgbJVl0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">æœ€å</h2>
<p><strong>è¿™ä¸ªå¢å¼ºç‰ˆæ–¹æ¡ˆçš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨ AI æŠ€æœ¯ï¼ˆå¦‚</strong> <strong>Amazon</strong> <strong>Bedrock çš„</strong> <strong>LLM</strong> <strong>æ¨¡å‹ï¼‰æå‡è¡€ç¼˜åˆ†æçš„è‡ªåŠ¨åŒ–ä¸æ™ºèƒ½åŒ–æ°´å¹³ï¼Œå‡†ç¡®è§£æå¤æ‚çš„æ•°æ®é€»è¾‘ï¼ŒåŒæ—¶å€ŸåŠ©å›¾æ•°æ®åº“ï¼ˆNeptuneï¼‰å®ç°é«˜æ•ˆçš„è¡€ç¼˜å…³ç³»ç®¡ç†å’Œåˆ†æã€‚æ•°æ®è¡€ç¼˜ç³»ç»Ÿé€šè¿‡æ„å»ºé€æ˜ã€å¯ä¿¡çš„æ•°æ®é“¾è·¯ï¼Œæœ‰æ•ˆæå‡æ•°æ®é©±åŠ¨å†³ç­–çš„ä¿¡å¿ƒã€‚</strong></p>
<p>â˜â˜<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Ffree%3Ftrk%3Db5edeb0e-6438-44ef-a5b7-5fd7f1145fed%26sc_channel%3Dsm" target="_blank" title="https://aws.amazon.com/cn/free?trk=b5edeb0e-6438-44ef-a5b7-5fd7f1145fed&amp;sc_channel=sm" ref="nofollow noopener noreferrer">ã€ä¼ é€é—¨ã€‘</a></p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ã€‚æœ€åæé†’ä¸€ä¸‹å„ä½å·¥å‹ï¼Œå¦‚æœåç»­ä¸å†ä½¿ç”¨ç›¸å…³æœåŠ¡ï¼Œåˆ«å¿˜äº†åœ¨æ§åˆ¶å°å…³é—­ï¼Œé¿å…è¶…å‡ºå…è´¹é¢åº¦äº§ç”Ÿè´¹ç”¨ï½</p>
<ul>
<li>GitHub ä»£ç ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faws-samples%2Fsample-agentic-data-lineage" target="_blank" title="https://github.com/aws-samples/sample-agentic-data-lineage" ref="nofollow noopener noreferrer">sample-agentic-data-lineage</a></li>
<li>æ ·ä¾‹æ•°æ®æ¨¡å‹ä¸æ¨¡å¼ç»“æ„ï¼Œæ¥æºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdbt-labs%2Fjaffle-shop-classic" target="_blank" title="https://github.com/dbt-labs/jaffle-shop-classic" ref="nofollow noopener noreferrer">dbt-labs/jaffle-shop-classic</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fb-ned.github.io%2Fdbt-colibri%2F" target="_blank" title="https://b-ned.github.io/dbt-colibri/" ref="nofollow noopener noreferrer">Dbt-colibri</a>: A lightweight, developer-friendly CLI tool and self-hostable dashboard for extracting and visualizing column-level lineage from your dbt projects.</li>
<li>ä»…ä¾›æ¦‚å¿µéªŒè¯ï¼ˆPOCï¼‰ä½¿ç”¨ï¼Œä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›´æ’­å›é¡¾ä¸¨è¯¦è§£é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRunï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ èµ°è¿› Agentic AI ç”Ÿäº§æ—¶ä»£]]></title>    <link>https://juejin.cn/post/7584807992031936554</link>    <guid>https://juejin.cn/post/7584807992031936554</guid>    <pubDate>2025-12-18T09:56:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584807992031936554" data-draft-id="7584817405228220457" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›´æ’­å›é¡¾ä¸¨è¯¦è§£é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRunï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ èµ°è¿› Agentic AI ç”Ÿäº§æ—¶ä»£"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-18T09:56:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›´æ’­å›é¡¾ä¸¨è¯¦è§£é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRunï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ èµ°è¿› Agentic AI ç”Ÿäº§æ—¶ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:56:50.000Z" title="Thu Dec 18 2025 09:56:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ç›´æ’­æ—¶é—´ï¼š12 æœˆ 18 æ—¥ 14:00â€”16:00</strong></p>
<p>æ¬¢è¿ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Flive%2F255551" target="_blank" title="https://developer.aliyun.com/live/255551" ref="nofollow noopener noreferrer">æ­¤å¤„</a>è§‚çœ‹å›æ”¾ã€‚</p>
<p>ç›´æ’­ä¸»é¢˜ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Ffc%3Fspm%3Da1z389.11499242.0.0.65452413RXCQWs%26utm_content%3Dg_1000408146" target="_blank" title="https://www.aliyun.com/product/fc?spm=a1z389.11499242.0.0.65452413RXCQWs&amp;utm_content=g_1000408146" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—</a> AgentRun å®æˆ˜è¥å®Œæ•´å›æ”¾ä¸Šçº¿ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ è¿ˆè¿› Agentic AI ç”Ÿäº§æ—¶ä»£ã€‚</p>
<p><strong>ç›´æ’­äº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>äº§å“è´Ÿè´£äººæ·±åº¦è§£è¯»</strong>ï¼šå‡½æ•°è®¡ç®— AgentRun å¦‚ä½•ä»¥é«˜ä»£ç ä¸ºæ ¸å¿ƒï¼Œå®ç°æ— ä»£ç åˆ°é«˜ä»£ç çš„ä¸€é”®è½¬æ¢ï¼Œè®©ä¸šåŠ¡äººå‘˜â€œä¸€å¥è¯æ­å»º Agentâ€ã€æŠ€æœ¯å›¢é˜Ÿçµæ´»æ‰©å±•ï¼Œå½»åº•æ‰“ç ´å¼€å‘å£å’ï¼›</li>
<li><strong>å®æˆ˜ç—›ç‚¹è§£å†³æ–¹æ¡ˆ</strong>ï¼šé’ˆå¯¹ä¼ä¸š Agent è½åœ°æ—¶çš„æˆæœ¬é«˜ã€ç¨³å®šæ€§ä¸è¶³ã€ç³»ç»Ÿé›†æˆéš¾ç­‰å…±æ€§é—®é¢˜ï¼Œæ‹†è§£å‡½æ•°è®¡ç®— AgentRun å¸¦æ¥çš„æè‡´å¼¹æ€§ä¸å¹³å‡ TCO é™ä½ 60% ç§˜è¯€ï¼›</li>
<li><strong>å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æ­ç§˜</strong>ï¼šä»æ¨¡å‹æ²»ç†ã€å®‰å…¨æ²™ç®±åˆ°å…¨é“¾è·¯å¯è§‚æµ‹ï¼Œè¯¦è§£å‡½æ•°è®¡ç®— AgentRun å¦‚ä½•æ»¡è¶³ä¼ä¸šçº§åº”ç”¨çš„é«˜å¯ç”¨ã€åˆè§„ã€å¯å®¡è®¡è¦æ±‚ï¼Œè®© Agent çœŸæ­£èµ°è¿›ç”Ÿäº§ç¯å¢ƒã€‚</li>
<li><strong>ç”Ÿæˆå¼ AI è½åœ°å®è·µä¸æ¡ˆä¾‹åˆ†äº«ï¼š</strong> ç»“åˆå·²ç»è½åœ°åœºæ™¯å’Œå®¢æˆ·æ¡ˆä¾‹ï¼Œä»‹ç»æœ€é€‚åˆä¼ä¸šå¿«é€Ÿè½åœ°ç”Ÿæˆå¼ AI çš„ä¸šåŠ¡åœºæ™¯ï¼ŒåŒ…æ‹¬å›¾åƒç”Ÿæˆã€AI åŠ©æ‰‹æ­å»ºç­‰ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1d68c98bfc74a5f8829a64122ce448d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766656610&amp;x-signature=KTIzAXvYDlubjuz%2B%2BmHqkDyA1Rc%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ DataWorks ä¸­ä¸€é”®éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå³åˆ»ç”¨äºæ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘]]></title>    <link>https://juejin.cn/post/7584633505105444916</link>    <guid>https://juejin.cn/post/7584633505105444916</guid>    <pubDate>2025-12-17T10:43:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584633505105444916" data-draft-id="7584633505105412148" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ DataWorks ä¸­ä¸€é”®éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå³åˆ»ç”¨äºæ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-17T10:43:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ DataWorks ä¸­ä¸€é”®éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå³åˆ»ç”¨äºæ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T10:43:08.000Z" title="Wed Dec 17 2025 10:43:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI åº”ç”¨å¿«é€Ÿè½åœ°çš„ä»Šå¤©ï¼Œè¶Šæ¥è¶Šå¤šä¼ä¸šå¸Œæœ›å°†å¤§æ¨¡å‹èƒ½åŠ›èå…¥æ•°æ®å¤„ç†æµç¨‹â€”â€”æ— è®ºæ˜¯æ–‡æœ¬åˆ†æã€æ™ºèƒ½æ‘˜è¦ï¼Œè¿˜æ˜¯ RAG çŸ¥è¯†åº“æ„å»ºã€‚ä½†ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œæ¨¡å‹éƒ¨ç½²ä¾èµ–ä¸“ä¸š MLOps å›¢é˜Ÿï¼Œéœ€è‡ªè¡Œæ­å»ºæ¨ç†ç¯å¢ƒã€é…ç½® GPU èµ„æºã€ç»´æŠ¤æœåŠ¡ç¨³å®šæ€§ï¼Œé—¨æ§›é«˜ã€å‘¨æœŸé•¿ã€æˆæœ¬é‡ã€‚</p>
<p>ç°åœ¨ï¼Œé˜¿é‡Œäº‘ <strong>DataWorks å‘å¸ƒå¤§æ¨¡å‹æœåŠ¡èƒ½åŠ›</strong>ï¼ŒåŸºäº <strong>Serverless èµ„æºç»„</strong>ï¼Œæ”¯æŒç”¨æˆ· <strong>ä¸€é”®éƒ¨ç½²ä¸»æµå¤§æ¨¡å‹</strong>ï¼Œå¹¶å¯åœ¨ <strong>æ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘ä»»åŠ¡ä¸­ç›´æ¥è°ƒç”¨æ¨¡å‹ API</strong>ï¼Œå®ç°â€œéƒ¨ç½²â€”é›†æˆâ€”ä½¿ç”¨â€å…¨æµç¨‹é—­ç¯ï¼ŒçœŸæ­£è®©æ•°æ®å·¥ç¨‹å¸ˆä¹Ÿèƒ½è½»æ¾ç©è½¬å¤§æ¨¡å‹ï¼</p>
<p><img src="https://static001.geekbang.org/infoq/b7/b7d9d38118d77f6bef7b12ee83eb1538.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸‰æ­¥å®Œæˆæ¨¡å‹éƒ¨ç½²ï¼Œé›¶ä»£ç ä¸Šæ‰‹</h2>
<p>é€šè¿‡ DataWorks å¤§æ¨¡å‹æœåŠ¡ç®¡ç†åŠŸèƒ½ï¼Œæ‚¨åªéœ€ä¸‰ä¸ªæ­¥éª¤å³å¯å®Œæˆæ¨¡å‹ä¸Šçº¿ï¼š</p>
<ol>
<li>
<p><strong>é€‰æ‹©æ¨¡å‹</strong> æ”¯æŒé€šä¹‰åƒé—® Qwen3 ç³»åˆ—ã€DeepSeek ç³»åˆ—ç­‰å¤šç§ä¸»æµæ¨¡å‹ï¼Œæ¶µç›–ç”Ÿæˆã€æ¨ç†ã€å‘é‡åŒ–ç­‰åœºæ™¯ã€‚</p>
</li>
<li>
<p><strong>ä¸€é”®éƒ¨ç½²</strong> åœ¨æ§åˆ¶å°ç‚¹å‡»â€œéƒ¨ç½²â€ï¼Œé€‰æ‹©ç›®æ ‡ <strong>Serverless èµ„æºç»„</strong> å’Œ GPU è§„æ ¼ï¼ˆå¦‚ vGPU-1/4ã€vGPU-1ï¼‰ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆé•œåƒæ‹‰å–ã€æœåŠ¡å¯åŠ¨ä¸å¥åº·æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>è·å–è°ƒç”¨åœ°å€</strong> éƒ¨ç½²æˆåŠŸåï¼Œè‡ªåŠ¨ç”Ÿæˆæ ‡å‡† OpenAPI æ¥å£åœ°å€å’Œé‰´æƒ Tokenï¼Œå¯ç”¨äºåç»­ä»»åŠ¡è°ƒç”¨ã€‚</p>
</li>
</ol>
<p><img src="https://static001.geekbang.org/infoq/21/21954c17748c0bb90aa8d7c75f4b83cc.png" alt="" loading="lazy"/></p>
<p><em>å¤§æ¨¡å‹éƒ¨ç½²é¡µé¢</em></p>
<p>æ•´ä¸ªè¿‡ç¨‹ <strong>æ— éœ€å…³æ³¨åº•å±‚èµ„æºè°ƒåº¦ã€å®¹å™¨ç¼–æ’æˆ–ç½‘ç»œé…ç½®</strong>ï¼ŒçœŸæ­£åšåˆ°â€œç‚¹ä¸€ä¸‹ï¼Œå°±å¯ç”¨â€ï¼Œå¤§å¹…é™ä½å¤§æ¨¡å‹è½åœ°é—¨æ§›ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒä¼˜åŠ¿</h2>
<p><img src="https://static001.geekbang.org/infoq/35/350b5a1610e02f6f1128735628ec6693.png" alt="" loading="lazy"/></p>
<p>å¾—ç›Šäºåº•å±‚èµ„æºä¼˜åŒ–ä¸è½»é‡åŒ–æ¨ç†å¼•æ“ï¼Œå¯¹äºå‚æ•°è§„æ¨¡è¾ƒå°çš„æ¨¡å‹ï¼ˆå¦‚ Qwen-Turboã€Embedding æ¨¡å‹ï¼‰ï¼Œåœ¨ Serverless èµ„æºç»„ä¸Šçš„ <strong>å¹³å‡æ¨ç†å»¶è¿Ÿæ˜¾è‘—é™ä½ï¼Œæ€§èƒ½æå‡è¿‘ 10 å€</strong>ï¼Œç‰¹åˆ«é€‚åˆé«˜é¢‘ã€ä½å»¶è¿Ÿçš„åœ¨çº¿æ¨ç†åœºæ™¯ã€‚</p>
<h2 data-id="heading-2">ä¸€é”®å¼€å¯æ•°æ®é›†æˆä¸å¼€å‘çš„å¤§æ¨¡å‹åº”ç”¨</h2>
<p>ç›®å‰æ”¯æŒåœ¨æ•°æ®é›†æˆã€æ•°æ®å¼€å‘ä¸­è°ƒç”¨å¤§æ¨¡å‹ï¼Œå®ç°å¯¹æ•°æ®çš„æ™ºèƒ½å¤„ç†ã€‚</p>
<h3 data-id="heading-3">æ•°æ®é›†æˆä¸­è°ƒç”¨</h3>
<p>åœ¨å•è¡¨ç¦»çº¿åŒæ­¥ä»»åŠ¡ä¸­ï¼Œå¯ä½¿ç”¨å¤§æ¨¡å‹æœåŠ¡å¯¹åŒæ­¥ä¸­çš„æ•°æ®è¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdataworks%2Fuser-guide%2Foffline-synchronization-task-ai-auxiliary-processing" target="_blank" title="https://help.aliyun.com/zh/dataworks/user-guide/offline-synchronization-task-ai-auxiliary-processing" ref="nofollow noopener noreferrer">AIè¾…åŠ©å¤„ç†</a>ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/5d/5d0552e369f5436e0d3caa4e5f1fcb17.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">æ•°æ®å¼€å‘ä¸­è°ƒç”¨</h3>
<h4 data-id="heading-5">æ–¹å¼1ã€å¤§æ¨¡å‹èŠ‚ç‚¹è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹</h4>
<p>DataWorks æ–°ç‰ˆæ•°æ®å¼€å‘ Data Studio æä¾›ä¸“å±çš„å¤§æ¨¡å‹èŠ‚ç‚¹ï¼Œæ”¯æŒé€šè¿‡å¯è§†åŒ–é…ç½®æ–¹å¼ç›´æ¥è°ƒç”¨å·²éƒ¨ç½²çš„ç”Ÿæˆç±»æˆ–å‘é‡ç±»å¤§æ¨¡å‹ã€‚ç”¨æˆ·æ— éœ€ç¼–å†™ä»£ç ï¼Œåªéœ€é€‰æ‹©ç›®æ ‡æ¨¡å‹ã€è¾“å…¥æç¤ºè¯ï¼ˆPromptï¼‰å¹¶è®¾ç½®å‚æ•°ï¼Œå³å¯å®Œæˆæ–‡æœ¬ç”Ÿæˆã€æ‘˜è¦æå–æˆ–æ–‡æœ¬å‘é‡åŒ–ç­‰ä»»åŠ¡ï¼Œé€‚ç”¨äºå¿«é€ŸéªŒè¯æ¨¡å‹æ•ˆæœå’Œæ„å»ºè½»é‡çº§ AI æµç¨‹ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/27/27b9ee04aa350f0795e8a1dc60799f69.gif" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">æ–¹å¼2ã€Shell èŠ‚ç‚¹è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹</h4>
<p>ç”¨æˆ·å¯åœ¨ Shell èŠ‚ç‚¹ä¸­é€šè¿‡ curl å‘½ä»¤è°ƒç”¨å¤§æ¨¡å‹æœåŠ¡ APIï¼Œå®ç°å¯¹ç”Ÿæˆæ¨¡å‹æˆ–å‘é‡æ¨¡å‹çš„çµæ´»è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œå‘é€è‡ªç„¶è¯­è¨€è¯·æ±‚è·å–æ¨¡å‹å›å¤ï¼Œæˆ–å°†æ–‡æœ¬ä¼ å…¥ Embedding æ¨¡å‹ç”Ÿæˆå‘é‡ã€‚è¯¥æ–¹å¼é€‚åˆç†Ÿæ‚‰å‘½ä»¤è¡Œæ“ä½œçš„å¼€å‘è€…ï¼Œç»“åˆè°ƒåº¦é…ç½®å¯å®ç°è‡ªåŠ¨åŒ–ä»»åŠ¡æ‰§è¡Œã€‚</p>
<h4 data-id="heading-7">æ–¹å¼3ã€PythonèŠ‚ç‚¹è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹</h4>
<p>é€šè¿‡ Python èŠ‚ç‚¹ï¼Œç”¨æˆ·å¯ä½¿ç”¨ requests ç­‰åº“ç¼–å†™è„šæœ¬ï¼Œä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨å¤§æ¨¡å‹æœåŠ¡ã€‚æ”¯æŒæµå¼è¾“å‡ºå¤„ç†ã€è‡ªå®šä¹‰è§£æé€»è¾‘å’Œå¤æ‚ä¸šåŠ¡å°è£…ï¼Œé€‚ç”¨äºå†™è¯—ã€æŠ¥å‘Šç”Ÿæˆã€ç»“æ„åŒ–è¾“å‡ºç­‰éœ€è¦ç²¾ç»†æ§åˆ¶çš„åœºæ™¯ã€‚éœ€åŸºäºè‡ªå®šä¹‰é•œåƒå®‰è£…å¿…è¦ä¾èµ–åè¿è¡Œï¼Œå¹¶å¯é›†æˆè‡³å®Œæ•´æ•°æ®é“¾è·¯ä¸­ã€‚</p>
<p>æ¥ä¸‹æ¥ä¸¾ä¸ªğŸŒ°å±•ç¤ºå¦‚ä½•åœ¨PythonèŠ‚ç‚¹é€šè¿‡è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹å®Œæˆå†™è¯—æŒ‡ä»¤ã€‚</p>
<ol>
<li>å½“å‰ç¤ºä¾‹ä¾èµ–Pythonçš„<code>requests</code>åº“ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä¸»è¦å‚æ•°ï¼ŒåŸºäºDataWorkså®˜æ–¹é•œåƒåˆ›å»º<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdataworks%2Fuser-guide%2Fcustom-image" target="_blank" title="https://help.aliyun.com/zh/dataworks/user-guide/custom-image" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰é•œåƒ</a>å®‰è£…è¯¥ä¾èµ–ç¯å¢ƒã€‚</li>
</ol>
<p><img src="https://static001.geekbang.org/infoq/4d/4d163cb955199f76f1fdaa7ce5007cba.png" alt="" loading="lazy"/></p>
<p>2. <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdataworks%2Fuser-guide%2Fnode-development-of-data-studio%2F%2313d1ad442e1tc" target="_blank" title="https://help.aliyun.com/zh/dataworks/user-guide/node-development-of-data-studio/#13d1ad442e1tc" ref="nofollow noopener noreferrer">åˆ›å»ºPythonèŠ‚ç‚¹</a>ï¼Œåœ¨PythonèŠ‚ç‚¹æ·»åŠ å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">def</span> <span class="hljs-title function_">stream_print_response</span>():
    httpUrl = <span class="hljs-string">"http://ms-xxxx.cn-beijing.dataworks-model.aliyuncs.com"</span>
    apikey = <span class="hljs-string">"DW-ms-xxxx"</span>
    url = httpUrl + <span class="hljs-string">"/v1/completions"</span>
    headers = {
        <span class="hljs-string">"Authorization"</span>: apikey,
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
    }
    data = {
        <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"è¯·å†™ä¸€ç¯‡å…³äºæ˜¥å¤©çš„è¯—"</span>,
        <span class="hljs-string">"stream"</span>: <span class="hljs-literal">True</span>,
        <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">512</span>
    }

    <span class="hljs-keyword">try</span>:
        response = requests.post(url, headers=headers, json=data, stream=<span class="hljs-literal">True</span>)
        response.raise_for_status()

        full_text = <span class="hljs-string">""</span>  <span class="hljs-comment"># ç´¯ç§¯å®Œæ•´å›å¤ï¼Œé˜²æ­¢ä¸¢å¤±</span>
        buffer = <span class="hljs-string">""</span>     <span class="hljs-comment"># ç”¨äºå¤„ç†ä¸å®Œæ•´çš„ JSON è¡Œï¼ˆå¯é€‰ï¼‰</span>

        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> response.iter_lines():
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> line:
                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># è·³è¿‡ç©ºè¡Œ</span>

            line_str = line.decode(<span class="hljs-string">'utf-8'</span>).strip()
            <span class="hljs-comment"># print(f"[DEBUG] æ”¶åˆ°è¡Œ: {line_str}")  # è°ƒè¯•ç”¨</span>

            <span class="hljs-keyword">if</span> line_str.startswith(<span class="hljs-string">"data:"</span>):
                data_str = line_str[<span class="hljs-number">5</span>:].strip()  <span class="hljs-comment"># å»æ‰ "data: "</span>

                <span class="hljs-keyword">if</span> data_str == <span class="hljs-string">"[DONE]"</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n[æµå¼å“åº”ç»“æŸ]"</span>)
                    <span class="hljs-keyword">break</span>

                <span class="hljs-comment"># å°è¯•è§£æ JSON</span>
                <span class="hljs-keyword">try</span>:
                    parsed = json.loads(data_str)
                    choices = parsed.get(<span class="hljs-string">"choices"</span>, [])
                    <span class="hljs-keyword">if</span> choices:
                        delta_text = choices[<span class="hljs-number">0</span>].get(<span class="hljs-string">"text"</span>, <span class="hljs-string">""</span>)
                        <span class="hljs-keyword">if</span> delta_text:
                            <span class="hljs-comment"># ç´¯ç§¯åˆ°å®Œæ•´æ–‡æœ¬</span>
                            full_text += delta_text

                            <span class="hljs-comment"># é€å­—æ‰“å°æ–°å¢çš„å­—ç¬¦</span>
                            <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> delta_text:
                                <span class="hljs-built_in">print</span>(char, end=<span class="hljs-string">''</span>, flush=<span class="hljs-literal">True</span>)
                                sys.stdout.flush()
                                time.sleep(<span class="hljs-number">0.03</span>)  <span class="hljs-comment"># æ‰“å­—æœºæ•ˆæœ</span>

                <span class="hljs-keyword">except</span> json.JSONDecodeError <span class="hljs-keyword">as</span> e:
                    <span class="hljs-comment"># print(f"[è­¦å‘Š] JSON è§£æå¤±è´¥: {e}, åŸæ–‡: {data_str}")</span>
                    <span class="hljs-keyword">continue</span>

        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n\n[å®Œæ•´å›å¤é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(full_text)}</span> å­—]"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[ å®Œæ•´å†…å®¹]:\n<span class="hljs-subst">{full_text}</span>"</span>)

    <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f" è¯·æ±‚å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f" å…¶ä»–é”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    stream_print_response()
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼šè¯·å°†ä»£ç ä¸­ä»¥<code>http</code>å¼€å¤´çš„å¤§æ¨¡å‹æœåŠ¡è°ƒç”¨åœ°å€å’Œä»¥<code>DW</code>å¼€å¤´çš„Tokenä¿¡æ¯æ›¿æ¢ä¸ºæ‚¨çš„å®é™…å€¼ã€‚</p>
<p>3. ç¼–è¾‘èŠ‚ç‚¹å†…å®¹åï¼Œåœ¨èŠ‚ç‚¹ç¼–è¾‘é¡µé¢å³ä¾§çš„<strong>è°ƒè¯•é…ç½®</strong>ä¸­ï¼Œé€‰æ‹©å·²å®Œæˆç½‘ç»œè¿é€šé…ç½®çš„èµ„æºç»„å’Œ<code>æ­¥éª¤1</code>ä¸­å®‰è£…äº†<code>requests</code>åº“çš„è‡ªå®šä¹‰<strong>é•œåƒ</strong>ã€‚</p>
<p>4. å•å‡»<strong>è¿è¡Œ</strong>èŠ‚ç‚¹ï¼Œå³å¯è°ƒç”¨å·²éƒ¨ç½²çš„æœåŠ¡æ¨¡å‹æ‰§è¡Œç›¸å…³å‘½ä»¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰]]></title>    <link>https://juejin.cn/post/7584320417307197491</link>    <guid>https://juejin.cn/post/7584320417307197491</guid>    <pubDate>2025-12-17T00:45:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307197491" data-draft-id="7584279552434094118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Logstash"/> <meta itemprop="datePublished" content="2025-12-17T00:45:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:45:29.000Z" title="Wed Dec 17 2025 00:45:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šä» MySQL å¢é‡åŒæ­¥ç»“æ„åŒ–æ•°æ®åˆ° Logstashï¼›åŒæ—¶é›†ä¸­é‡‡é›† Linux/è®¾å¤‡ Syslog æ—¥å¿—å¹¶è§£æã€‚</li>
<li>ç»“è®ºï¼šJDBC é€‚åˆâ€œæŒ‰è¡¨/æŒ‰ SQL æ‹‰å–+å¢é‡ä½ç‚¹â€ï¼›Syslog é€‚åˆâ€œç½‘ç»œæ—¥å¿—æµå…¥+Grok/Date è§£æâ€ï¼Œä¸¤è€…ç“¶é¢ˆåˆ†åˆ«åœ¨ DB/æŸ¥è¯¢ä¸ç½‘ç»œ/è§£æã€‚</li>
<li>äº§å‡ºï¼šä¸¤å¥—å¯è·‘é€šçš„ Logstash 7.3.0 é…ç½®ï¼ˆjdbc.confã€syslog.confï¼‰+ å¢é‡è¿½è¸ªä¸ rsyslog è½¬å‘é“¾è·¯ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83442750aee4466da32a35ba9b2a5071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=0ezZp9WLTCSILVQ3YKjS709bet0%3D" alt="å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>





























<table><thead><tr><th>ç»„ä»¶/å·¥å…·</th><th>é…ç½®è¯´æ˜</th></tr></thead><tbody><tr><td>Logstash 7.3.0</td><td>é…ç½®è·¯å¾„ä¸å‘½ä»¤å‡ä»¥ <code>/opt/servers/logstash-7.3.0</code> ä¸ºåŸºå‡†ï¼›<code>-t</code> æ ¡éªŒé€šè¿‡æˆªå›¾å·²ä½“ç°</td></tr><tr><td>MySQL Connector/J</td><td>ä½¿ç”¨ <code>jdbc.conf</code> é…ç½®ï¼Œé©±åŠ¨ç‰ˆæœ¬ä¸º 8.0.19ï¼›MySQL 8 æ¨èä½¿ç”¨ <code>com.mysql.cj.jdbc.Driver</code>ï¼ˆå…¼å®¹æ€§ä¸æ—¶åŒº/SSL å‚æ•°æ›´æ˜ç¡®ï¼‰</td></tr><tr><td>MySQLï¼ˆç¤ºä¾‹è¡¨ userï¼‰</td><td>é€šè¿‡ <code>tracking_column =&gt; "id" + id &gt; :sql_last_value</code> å®ç°å¢é‡ï¼›é€‚é…è‡ªå¢/å•è°ƒé€’å¢åˆ—</td></tr><tr><td>rsyslogï¼ˆLinuxï¼‰</td><td>åœ¨ <code>/etc/rsyslog.conf</code> ä¸­å¢åŠ  <code>*.* @@host:port</code> å®ç° TCP è½¬å‘ï¼›éœ€æ‰§è¡Œ <code>systemctl restart rsyslog</code> ç”Ÿæ•ˆ</td></tr><tr><td>Logstash tcp/udp input</td><td><code>syslog.conf</code> é‡‡ç”¨ <code>tcp {} + udp {}</code> ç›‘å¬ 6789 ç«¯å£ï¼Œå¹¶ä½¿ç”¨ <code>grok</code> è§£æâ€œç±» syslogâ€æ¶ˆæ¯ï¼ˆé syslog input æ’ä»¶ç›´é…ï¼‰</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f7c20b7a75b4186b5742e09dd0a1d13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=WBQBi50P7LaSfTFnK4d5kT37x8c%3D" alt="Elasticsearch" loading="lazy"/></p>
<h2 data-id="heading-2">åŸºæœ¬ä»‹ç»</h2>
<p>Logstash çš„ JDBC å’Œ Syslog æ˜¯ä¸¤ç§åŠŸèƒ½å„å¼‚çš„ Input æ’ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«é’ˆå¯¹ä¸åŒçš„æ•°æ®æºè¿›è¡Œä¼˜åŒ–è®¾è®¡ï¼Œåœ¨æ•°æ®å¤„ç†æµç¨‹ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚ä¸‹é¢å°†è¯¦ç»†é˜è¿°å®ƒä»¬çš„æŠ€æœ¯ç‰¹æ€§ã€åº”ç”¨åœºæ™¯åŠå…¸å‹é…ç½®ï¼š</p>
<h4 data-id="heading-3">JDBC æ’ä»¶æ·±å…¥è§£æ</h4>
<ol>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>æ”¯æŒä¸»æµå…³ç³»å‹æ•°æ®åº“ï¼šMySQL (5.7+)ã€PostgreSQL (9.6+)ã€Oracle (12c+)ã€SQL Server (2016+)ç­‰</li>
<li>åŸºäº JDBC 4.2 è§„èŒƒå®ç°ï¼Œä½¿ç”¨æ•°æ®åº“å®˜æ–¹æä¾›çš„ JDBC é©±åŠ¨</li>
<li>æ”¯æŒå¢é‡æ•°æ®é‡‡é›†ï¼šé€šè¿‡ <code>sql_last_value</code> å‚æ•°è®°å½•æœ€åå¤„ç†ä½ç½®</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æ•°æ®ä»“åº“çš„ ETL æµç¨‹</li>
<li>ä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“å˜æ›´ç›‘æ§</li>
<li>å°†ä¼ ç»Ÿæ•°æ®åº“æ•°æ®å¯¼å…¥ Elasticsearch é›†ç¾¤</li>
<li>ç¤ºä¾‹ï¼šç”µå•†è®¢å•æ•°æ®å®æ—¶åŒæ­¥</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-sql" lang="sql">     <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> update_time <span class="hljs-operator">&gt;</span> :sql_last_value
</code></pre>
<ol start="3">
<li><strong>å…³é”®é…ç½®å‚æ•°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">   input {
     jdbc {
       jdbc_driver_library =&gt; <span class="hljs-string">"/path/to/mysql-connector-java-8.0.28.jar"</span>
       jdbc_driver_class =&gt; <span class="hljs-string">"com.mysql.jdbc.Driver"</span>
       jdbc_connection_string =&gt; <span class="hljs-string">"jdbc:mysql://localhost:3306/ecommerce"</span>
       jdbc_user =&gt; <span class="hljs-string">"logstash"</span>
       jdbc_password =&gt; <span class="hljs-string">"securepassword"</span>
       schedule =&gt; <span class="hljs-string">"* * * * *"</span>  <span class="hljs-comment"># æ¯åˆ†é’Ÿæ‰§è¡Œ</span>
       statement =&gt; <span class="hljs-string">"SELECT * FROM products WHERE last_modified &gt; :sql_last_value"</span>
       use_column_value =&gt; <span class="hljs-literal">true</span>
       tracking_column =&gt; <span class="hljs-string">"last_modified"</span>
     }
   }
</code></pre>
<h4 data-id="heading-4">Syslog æ’ä»¶æŠ€æœ¯ç»†èŠ‚</h4>
<ol>
<li>
<p><strong>åè®®æ”¯æŒ</strong>ï¼š</p>
<ul>
<li>RFC3164 (æ—§ç‰ˆ BSD syslog)</li>
<li>RFC5424 (æ–°ç‰ˆç»“æ„åŒ–syslog)</li>
<li>æ”¯æŒ TCP/UDP ä¸¤ç§ä¼ è¾“åè®®</li>
</ul>
</li>
<li>
<p><strong>ç½‘ç»œé…ç½®é€‰é¡¹</strong>ï¼š</p>
<ul>
<li>ç«¯å£ç»‘å®šï¼šé»˜è®¤ 514 (UDP) / 6514 (TCP)</li>
<li>æ”¯æŒ TLS åŠ å¯†ä¼ è¾“</li>
<li>å¯é…ç½®å¤šä¸ªç›‘å¬ç«¯å£å®ç°å¤šç§Ÿæˆ·éš”ç¦»</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹éƒ¨ç½²æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>ç½‘ç»œè®¾å¤‡æ—¥å¿—æ”¶é›†ï¼ˆè·¯ç”±å™¨/äº¤æ¢æœºï¼‰</li>
<li>Linux ç³»ç»Ÿæ—¥å¿—é›†ä¸­ç®¡ç†</li>
<li>å®¹å™¨ç¯å¢ƒæ—¥å¿—é‡‡é›†ï¼ˆDocker syslogé©±åŠ¨ï¼‰</li>
<li>ç¤ºä¾‹ï¼šé˜²ç«å¢™æ—¥å¿—å¤„ç†</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">     input {
       syslog {
         port =&gt; <span class="hljs-number">5514</span>
         type =&gt; <span class="hljs-string">"firewall"</span>
         syslog_field =&gt; <span class="hljs-string">"syslog_message"</span>
       }
     }
</code></pre>
<ol start="4">
<li><strong>é«˜çº§åŠŸèƒ½</strong>ï¼š
<ul>
<li>æ”¯æŒè‡ªå®šä¹‰æ¶ˆæ¯è§£ææ¨¡å¼</li>
<li>å¯é…ç½®æ—¶åŒºè½¬æ¢</li>
<li>æä¾›æ¶ˆæ¯ä¼˜å…ˆçº§(PRI)è§£æ</li>
</ul>
</li>
</ol>
<p>ä¸¤ç§æ’ä»¶åœ¨æ€§èƒ½è°ƒä¼˜æ–¹é¢ä¹Ÿå­˜åœ¨å·®å¼‚ï¼šJDBC æ’ä»¶éœ€è¦å…³æ³¨æ•°æ®åº“è¿æ¥æ± é…ç½®å’Œæ‰¹å¤„ç†å¤§å°ï¼Œè€Œ Syslog æ’ä»¶åˆ™éœ€è¦ä¼˜åŒ–ç½‘ç»œç¼“å†²åŒºè®¾ç½®å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚å®é™…éƒ¨ç½²æ—¶ï¼Œå»ºè®®æ ¹æ®æ•°æ®é‡çº§å’Œå»¶è¿Ÿè¦æ±‚è¿›è¡Œé’ˆå¯¹æ€§è°ƒä¼˜ã€‚</p>
<h3 data-id="heading-5">JDBC Input æ’ä»¶</h3>
<p>JDBC æ’ä»¶ç”¨äºä»å…³ç³»å‹æ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œç‰¹åˆ«é€‚ç”¨äºå°†ç»“æ„åŒ–çš„ä¸šåŠ¡æ•°æ®å¯¼å…¥åˆ° ELKï¼ˆElasticsearch, Logstash, Kibanaï¼‰å †æ ˆä¸­ã€‚å®ƒæ”¯æŒå®šæ—¶è°ƒåº¦å’Œå¢é‡æå–ï¼Œé€‚åˆæ•°æ®åŒæ­¥å’Œ ETL åœºæ™¯ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥ï¼šä½¿ç”¨ JDBC é©±åŠ¨æ¥è¿æ¥å„ç§æ•°æ®åº“ï¼ˆä¾‹å¦‚ MySQLã€PostgreSQLã€Oracleã€SQL Server ç­‰ï¼‰ã€‚</li>
<li>SQL æŸ¥è¯¢ï¼šå…è®¸ç”¨æˆ·é€šè¿‡ SQL æŸ¥è¯¢è¯­å¥é€‰æ‹©æ•°æ®ï¼Œæ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ã€‚</li>
<li>å¢é‡æå–ï¼šå¯ä»¥é…ç½®â€œè¿½è¸ªåˆ—â€ï¼ˆtracking columnï¼‰ï¼ŒåŸºäºæŸä¸€åˆ—ï¼ˆå¦‚è‡ªå¢ ID æˆ–æ—¶é—´æˆ³ï¼‰å®ç°å¢é‡æ•°æ®æ‹‰å–ï¼Œé¿å…é‡å¤å¯¼å…¥ã€‚</li>
<li>å®šæ—¶è°ƒåº¦ï¼šå¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå®šæœŸæŸ¥è¯¢å’ŒåŒæ­¥æ•°æ®åº“çš„æ•°æ®ã€‚</li>
<li>é”™è¯¯é‡è¯•æœºåˆ¶ï¼šå¯ä»¥å¤„ç†è¿æ¥é”™è¯¯å¹¶è‡ªåŠ¨é‡è¯•ï¼Œç¡®ä¿æ•°æ®é‡‡é›†çš„ç¨³å®šæ€§ã€‚</li>
</ul>
<h3 data-id="heading-6">Syslog Input æ’ä»¶</h3>
<p>Syslog æ’ä»¶ç”¨äºæ¥æ”¶åŸºäº Syslog åè®®ä¼ è¾“çš„æ—¥å¿—æ•°æ®ã€‚Syslog æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æ—¥å¿—åè®®ï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œè®¾å¤‡å’Œ Linux/Unix æ“ä½œç³»ç»Ÿä¸­ã€‚Logstash çš„ Syslog æ’ä»¶èƒ½å¤Ÿç›‘å¬ç‰¹å®šçš„ç«¯å£ï¼Œæ¥æ”¶å’Œè§£æè¿™äº›æ—¥å¿—ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>åè®®æ”¯æŒï¼šæ”¯æŒ Syslog åè®®ï¼ŒåŒ…æ‹¬ RFC 3164 å’Œ RFC 5424 æ ¼å¼çš„æ—¥å¿—ã€‚</li>
<li>å¤šç§ä¼ è¾“æ–¹å¼ï¼šæ”¯æŒé€šè¿‡ TCP å’Œ UDP åè®®æ¥æ”¶æ—¥å¿—ï¼Œé€‚åº”ä¸åŒçš„ä¼ è¾“éœ€æ±‚ã€‚</li>
<li>æ—¥å¿—è§£æï¼šè‡ªåŠ¨è§£æ Syslog æ¶ˆæ¯çš„å¤´éƒ¨å­—æ®µï¼Œä¾‹å¦‚æ—¶é—´æˆ³ã€ä¸»æœºåã€ç¨‹åºåç­‰ã€‚</li>
<li>ç½‘ç»œç›‘å¬ï¼šå¯ä»¥é€šè¿‡ç›‘å¬æŒ‡å®šçš„ IP å’Œç«¯å£ï¼ŒæŒç»­æ¥æ”¶å¹¶å¤„ç†æ¥è‡ªç½‘ç»œçš„ Syslog æ—¥å¿—ã€‚</li>
</ul>
<h2 data-id="heading-7">JDBCæ’ä»¶</h2>
<p>JDBCæ’ä»¶å¯ä»¥é‡‡é›†æŸå¼ æ•°æ®åº“è¡¨å½“ä¸­çš„æ•°æ®åˆ°Logstashå½“ä¸­æ¥</p>
<h3 data-id="heading-8">å‡†å¤‡æ•°æ®</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `<span class="hljs-keyword">user</span>` (
  `id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `user_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">25</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `gender` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `create_time` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY(`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHRASET<span class="hljs-operator">=</span>utf8;

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'zhangsan'</span>, <span class="hljs-string">'male'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'lisi'</span>, <span class="hljs-string">'female'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
</code></pre>
<p>ç›®å‰æˆ‘ä»¬çš„MySQLæœåŠ¡å™¨æ˜¯åœ¨ h122 èŠ‚ç‚¹ä¸Šçš„ï¼ˆä¹‹å‰ç»™Hiveå’ŒHBaseç­‰ä¸šåŠ¡ä½¿ç”¨çš„ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦åˆ° h122 æ•°æ®åº“ä¸­ï¼Œæ‰§è¡Œä¸Šè¿°çš„SQLæŒ‡ä»¤ã€‚
æˆ‘è¿™é‡Œä½¿ç”¨Navicatæ‰§è¡Œï¼Œ æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f4d73cd9bdb4b508b43bda78bd8cb7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=N1CX2DFcdfLQMLmgXkYGjx1Zxnw%3D" alt="Elasticsearch æ‰§è¡ŒSQLè¡¨" loading="lazy"/></p>
<h3 data-id="heading-9">ç¼–å†™é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0/config
vim jdbc.conf
</code></pre>
<p>å†™å…¥å¦‚ä¸‹çš„å†…å®¹ï¼ˆè¿™é‡Œæ³¨æ„äº›è‡ªå·±çš„ç¯å¢ƒï¼Œæˆ‘çš„ç¯å¢ƒå’Œä½ çš„ä¸ä¸€æ ·ï¼‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">input {
  jdbc {
    jdbc_driver_library =&gt; "/opt/servers/mysql-connector-java-8.0.19.jar"
    jdbc_driver_class =&gt; "com.mysql.jdbc.Driver"
    jdbc_connection_string =&gt; "jdbc:mysql://h122.wzk.icu:3306/es-test"
    jdbc_user =&gt; "hive"
    jdbc_password =&gt; "hive@wzk.icu"
    use_column_value =&gt; "true"
    clean_run =&gt; "false"
    record_last_run =&gt;"true"
    tracking_column =&gt; "id"
    schedule =&gt; "* * * * *"
    last_run_metadata_path =&gt; "/opt/servers/es/.Logstash_user_jdbc_last_run"
    statement =&gt; "SELECT * from user where id &gt; :sql_last_value;"
  }
}

output{
  stdout{
    codec=&gt;rubydebug
  }
}
</code></pre>
<h3 data-id="heading-10">æ£€æŸ¥é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/jdbc.conf -t
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e0c6e692cf412389e4eda9b9474703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=y%2BSooLmZ%2FiWWr79fcZk5uUQdgCU%3D" alt="Elasticsearch æ£€æŸ¥é…ç½®" loading="lazy"/></p>
<h3 data-id="heading-11">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/jdbc.conf
</code></pre>
<p>å¯åŠ¨ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79421effd51c4e1c8bcf485749a9ea18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=11vR4ckNBkDxzP%2BB06LdRaKE7BU%3D" alt="Elasticsearch å¯åŠ¨æœåŠ¡" loading="lazy"/>
å¯ä»¥çœ‹åˆ°è·å–åˆ°äº†å¯¹åº”çš„æ•°æ®ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7169cb230a5c4e938b80e3ac0f525fc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=79Y9VL8h9orAGUx5j1eX4QqxKiU%3D" alt="Elasticsearch å¯¹åº”çš„æ•°æ®" loading="lazy"/></p>
<h3 data-id="heading-12">å‘é€æ•°æ®</h3>
<p>ç°åœ¨å‘æ•°æ®åº“ä¸­å†™å…¥æ•°æ®ï¼Œå°±å¯ä»¥å‘ç°Logstashç›‘å¬åˆ°äº†ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">3</span>, <span class="hljs-string">'wangwu'</span>, <span class="hljs-string">'female'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
</code></pre>
<p>å¯¹åº”çš„Logstashçš„å˜åŒ–ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea1e21b5969c4b2cb163dea12b8038e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=7k1UsZgQb69PVLgBujSgon1gLtA%3D" alt="Elasticsearch å‘é€æ•°æ®" loading="lazy"/></p>
<h2 data-id="heading-13">syslogæ’ä»¶</h2>
<p>syslogæœºåˆ¶è´Ÿè´£è®°å½•å†…æ ¸å’Œåº”ç”¨ç¨‹åºäº§ç”Ÿçš„æ—¥å¿—ä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—è®°å½•ï¼Œæ¥æŒæ¡ç³»ç»ŸçŠ¶å†µï¼Œé»˜è®¤ç³»ç»Ÿå·²ç»å®‰è£…äº†rsyslogï¼Œç›´æ¥å¯åŠ¨å³å¯ã€‚</p>
<h3 data-id="heading-14">ç¼–å†™é…ç½®</h3>
<p>åˆ›å»ºæ–°è„šæœ¬ï¼Œsyslog.conf</p>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0/config
vim syslog.conf
</code></pre>
<p>å†™å…¥å¦‚ä¸‹çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">input {
  tcp {
    port =&gt; 6789
    type =&gt; "syslog"
  }
  udp {
    port =&gt; 6789
    type =&gt; "syslog"
  }
}

filter {
  if [type] == "syslog" {
    grok {
      match =&gt; {
        "message" =&gt; "%{SYSLOGTIMESTAMP:syslog_timestamp} %{SYSLOGHOST:syslog_hostname} %{DATA:syslog_program}(?:\[%{POSINT:syslog_pid}\])?: %{GREEDYDATA:syslog_message}"
      }
      add_field =&gt; {
        "received_at" =&gt; "%{@timestamp}"
        "received_from" =&gt; "%{host}"
      }
    }
    date {
      match =&gt; [ "syslog_timestamp", "MMM d HH:mm:ss", "MMM dd HH:mm:ss" ]
    }
  }
}

output {
  stdout {
    codec =&gt; rubydebug
  }
}

</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d4191b454740548d7dd390b5e9dcdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=7BUtLyAQcboRANPlI547ok77JIY%3D" alt="Elasticsearch inputé…ç½®" loading="lazy"/></p>
<h3 data-id="heading-15">æ£€æŸ¥é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/syslog.conf -t
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dec55d2ee5247988014387e8a356f6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=2QbsrRQ3uO6nUcJFzL0Qjg2tCJI%3D" alt="Elasticsearch æ£€æŸ¥é…ç½®" loading="lazy"/></p>
<h3 data-id="heading-16">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/syslog.conf
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d9e282bcbb7454ea6ae9708f4c29aab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=ULNiqzj8McP4LVPGV%2BSv4ApVMmk%3D" alt="Elasticsearch å¯åŠ¨æœåŠ¡æµ‹è¯•" loading="lazy"/></p>
<h3 data-id="heading-17">å‘é€æ•°æ®</h3>
<p>ä¿®æ”¹ç³»ç»Ÿæ—¥å¿—é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-shell" lang="shell">vim /etc/rsyslog.conf
</code></pre>
<p>æ·»åŠ ä¸€è¡Œé…ç½®ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">*.* @@h121.wzk.icu:6789
</code></pre>
<p>å†™å…¥çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa2cb122c50c4f9a8bcbd1bec6f0a60d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=zbTPfhfY6qS6qv2pNjapGuqCJjY%3D" alt="Elasticsearch å‘é€æ•°æ®" loading="lazy"/>
é‡å¯ç³»ç»Ÿæ—¥å¿—æœåŠ¡</p>
<pre><code class="hljs language-shell" lang="shell">systemctl restart rsyslog
</code></pre>
<p>æŸ¥çœ‹æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00160c04b3e043118d08fc7334c3ac85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=VOzZ5eBvg%2FnFJ9%2FqqBcPc8cg7eg%3D" alt="Elasticsearch æŸ¥çœ‹ log æ—¥å¿—" loading="lazy"/></p>
<h2 data-id="heading-18">é”™è¯¯é€ŸæŸ¥</h2>







































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>JDBC å¯åŠ¨æŠ¥é©±åŠ¨ç±»æ‰¾ä¸åˆ°ï¼ˆClassNotFoundï¼‰</td><td>jdbc_driver_library è·¯å¾„ä¸å¯¹ / jar ä¸å­˜åœ¨ / ç±»åä¸åŒ¹é…</td><td>Logstash å¯åŠ¨æ—¥å¿—é‡Œçœ‹ Java::...ClassNotFoundExceptionï¼›ç¡®è®¤ jar å®é™…è·¯å¾„</td><td>æ ¡æ­£ jar è·¯å¾„ï¼›MySQL 8 ç”¨ com.mysql.cj.jdbc.Driverï¼›ç¡®ä¿ jar å¯¹ logstash è¿›ç¨‹å¯è¯»</td></tr><tr><td>JDBC èƒ½è¿åº“ä½†ä¸æ‹‰æ•°æ®</td><td>statement æ¡ä»¶ä¸ sql_last_value åˆå§‹å€¼ä¸åŒ¹é…ï¼›æˆ–è¿½è¸ªåˆ—éå•è°ƒ</td><td>æ‰“å° stdout è§‚å¯Ÿæ˜¯å¦æœ‰ eventï¼›æ£€æŸ¥ last_run_metadata_path å†…å®¹</td><td>é¦–æ¬¡å…¨é‡ï¼šä¸´æ—¶ clean_run =&gt; true æˆ–æ”¹ SQL å…è®¸å…¨é‡ï¼›ç¡®ä¿ tracking_column å•è°ƒé€’å¢ï¼ˆid/æ—¶é—´æˆ³ï¼‰</td></tr><tr><td>å¢é‡ä½ç‚¹ä¸æ›´æ–°/é‡å¯åé‡å¤æ‹‰å–</td><td>last_run_metadata_path æ— å†™æƒé™/è·¯å¾„ä¸å­˜åœ¨ï¼›record_last_run é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æŸ¥çœ‹è¯¥è·¯å¾„æ–‡ä»¶æ˜¯å¦ç”Ÿæˆä¸æ›´æ–°æ—¶é—´ï¼›Logstash æ—¥å¿—æœ last_run</td><td>åˆ›å»ºç›®å½•å¹¶æˆæƒï¼›å°† record_last_run/clean_run/use_column_value æ”¹ä¸ºå¸ƒå°”å€¼ï¼›å›ºå®šéƒ¨ç½²ç”¨æˆ·ä¸è·¯å¾„</td></tr><tr><td>æ¯åˆ†é’Ÿè°ƒåº¦ä¸æ‰§è¡Œ</td><td>schedule æ—¶åŒº/cron è§£æé—®é¢˜ï¼›è¿›ç¨‹æœªæŒç»­è¿è¡Œï¼ˆå‰å°é€€å‡ºï¼‰</td><td>Logstash æ—¥å¿—çœ‹æ˜¯å¦æ‰“å° scheduler tickï¼›ç¡®è®¤è¿›ç¨‹å­˜æ´»</td><td>ç”¨æ ‡å‡† cron è¡¨è¾¾å¼ï¼›ä¿æŒè¿›ç¨‹å¸¸é©»ï¼ˆsystemd/å®ˆæŠ¤è¿›ç¨‹ï¼‰ï¼›å¿…è¦æ—¶åŠ å¤§æ—¥å¿—çº§åˆ«</td></tr><tr><td>æ‹‰å–é€Ÿåº¦æ…¢/æ•°æ®åº“å‹åŠ›å¤§</td><td>SQL æ— ç´¢å¼•ã€å…¨è¡¨æ‰«ï¼›æ‰¹æ¬¡å¤ªå°/ç½‘ç»œæ…¢</td><td>DB ä¾§çœ‹æ…¢æŸ¥è¯¢ä¸æ‰§è¡Œè®¡åˆ’ï¼›Logstash ä¾§çœ‹æ¯è½®è€—æ—¶</td><td>ç»™ tracking_column å»ºç´¢å¼•ï¼›åªé€‰å¿…è¦å­—æ®µï¼›åˆ†æ‰¹åˆ†é¡µï¼ˆstatement + ä¸»é”®èŒƒå›´ï¼‰ï¼›åˆç†è°ƒåº¦é¢‘ç‡</td></tr><tr><td>syslog ç«¯å£æ— æ•°æ®</td><td>rsyslog æœªè½¬å‘/é˜²ç«å¢™æ‹¦æˆª/ç›®æ ‡ä¸»æœºä¸å¯è¾¾</td><td>ç›®æ ‡æœº ss -lntup çœ‹ 6789 æ˜¯å¦ç›‘å¬ï¼›æºæœº tcpdump æŠ“åŒ…</td><td>æ”¾é€š 6789 TCP/UDPï¼›ç¡®è®¤ @@(TCP) æˆ– @(UDP)ï¼›æ ¡éªŒä¸»æœºåè§£æä¸è·¯ç”±</td></tr><tr><td>æ”¶åˆ°æ•°æ®ä½† grok è§£æå¤±è´¥ï¼ˆ_grokparsefailureï¼‰</td><td>æ¶ˆæ¯æ ¼å¼ä¸ grok æ¨¡å¼ä¸åŒ¹é…ï¼ˆè®¾å¤‡/ç³»ç»Ÿå·®å¼‚ï¼‰</td><td>stdout é‡Œçœ‹åŸå§‹ messageï¼›è§‚å¯Ÿå­—æ®µæ˜¯å¦ç¼ºå¤±</td><td>æŒ‰å®é™…æ—¥å¿—æ”¹ grokï¼›å…ˆå®½æ¾å†æ”¶ç´§ï¼›ä¸ºä¸åŒæ¥æºåšåˆ†æ”¯åŒ¹é…</td></tr><tr><td>æ—¶é—´æˆ³ä¸å¯¹/æ—¶åŒºé”™ä¹±</td><td>date åŒ¹é…æ ¼å¼ä¸å…¨ï¼›æºæ—¥å¿—æ— å¹´ä»½/æ—¶åŒºä¿¡æ¯</td><td>çœ‹ @timestamp ä¸ syslog_timestampï¼›æ¯”å¯¹æ—¶åŒº</td><td>date å¢åŠ åŒ¹é…æ ¼å¼ï¼›å¿…è¦æ—¶è¡¥ timezone =&gt; "Asia/Shanghai"ï¼›æˆ–åœ¨ rsyslog ä¾§è¾“å‡º RFC3339</td></tr><tr><td>UDP ä¸¢æ—¥å¿—</td><td>UDP å¤©ç„¶ä¸å¯é ï¼›é«˜å³°æœŸä¸¢åŒ…/ç¼“å†²åŒºä¸è¶³</td><td>å¯¹æ¯”æºç«¯æ—¥å¿—é‡ä¸æ¥æ”¶ç«¯äº‹ä»¶é‡ï¼›ç³»ç»Ÿä¸¢åŒ…ç»Ÿè®¡</td><td>å…³é”®æ—¥å¿—æ”¹ TCPï¼›æå‡å†…æ ¸ç¼“å†²åŒºï¼›é™ä½å•æœºè§£æå‹åŠ›ï¼ˆæ°´å¹³æ‰©å±•/åˆ†æµç«¯å£ï¼‰</td></tr><tr><td>ç«¯å£å†²çª/å¯åŠ¨å¤±è´¥</td><td>ç«¯å£è¢«å ç”¨æˆ–æƒé™ä¸è¶³ï¼ˆä½ç«¯å£ï¼‰</td><td>å¯åŠ¨æ—¥å¿—æç¤º bind å¤±è´¥ï¼›lsof -i :PORT</td><td>æ›´æ¢ç«¯å£ï¼›é‡Šæ”¾å ç”¨ï¼›é¿å…ä½¿ç”¨ 514 ç­‰ç‰¹æƒç«¯å£æˆ–ç”¨èƒ½åŠ›æˆæƒ/å‰ç½®è½¬å‘</td></tr></tbody></table>
<h2 data-id="heading-19">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-20">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-21">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-196 æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹ï¼šRabbitMQ vs RocketMQ vs Kafka</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-22">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¹æœiOSè®¾å¤‡å…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ä¸åº”ç”¨åœºæ™¯è§£æ]]></title>    <link>https://juejin.cn/post/7585021315691446282</link>    <guid>https://juejin.cn/post/7585021315691446282</guid>    <pubDate>2025-12-18T10:03:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691446282" data-draft-id="7584831190731489306" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¹æœiOSè®¾å¤‡å…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ä¸åº”ç”¨åœºæ™¯è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T10:03:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒå°±å¥½2025"/> <meta itemprop="url" content="https://juejin.cn/user/3850962908492660"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¹æœiOSè®¾å¤‡å…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ä¸åº”ç”¨åœºæ™¯è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3850962908492660/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒå°±å¥½2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:03:21.000Z" title="Thu Dec 18 2025 10:03:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹æ˜¯ä¸€ç¯‡å…³äºè‹¹æœæ‰‹æœºå…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿçš„è¯¦ç»†ä½¿ç”¨æ•™ç¨‹åŠåº”ç”¨åœºæ™¯è¯´æ˜ï¼Œç»“åˆæŠ€æœ¯å¯è¡Œæ€§ä¸åˆè§„æ“ä½œæŒ‡å—ï¼š</p>
<p>ä¸€ã€ç³»ç»ŸåŸç†ä¸æ ¸å¿ƒä¼˜åŠ¿</p>
<ol>
<li>æŠ€æœ¯åŸç†</li>
</ol>
<ul>
<li>
<p>åŸºäºè‹¹æœå®˜æ–¹ Mobile Device Management (MDM) åè®®å¼€å‘ï¼Œæ— éœ€ç ´è§£ç³»ç»Ÿ</p>
</li>
<li>
<p>é€šè¿‡ä¼ä¸šçº§è¯ä¹¦ç­¾åæ§åˆ¶ç«¯Appï¼Œå®ç°è®¾å¤‡åˆæ³•æˆæƒ</p>
</li>
<li>
<p>æ•°æ®åŠ å¯†é‡‡ç”¨ TLS 1.3+SM4 åŒé€šé“ä¿æŠ¤</p>
</li>
</ul>
<ol start="2">
<li>æ ¸å¿ƒä¼˜åŠ¿</li>
</ol>
<p>âœ… é›¶è¶Šç‹±ï¼š100%ä¿ç•™è®¾å¤‡ä¿ä¿®ï¼Œæ”¯æŒiOS 12-17å…¨ç‰ˆæœ¬</p>
<p>âœ… é«˜å¹¶å‘ï¼šå•å°æœåŠ¡å™¨å¯ç®¡ç†500+å°è®¾å¤‡ï¼ˆéœ€ä¼ä¸šå¼€å‘è€…è´¦å·ï¼‰</p>
<p>âœ… åˆè§„æ€§ï¼šç¬¦åˆè‹¹æœã€Šä¼ä¸šè®¾å¤‡ç®¡ç†è§„èŒƒã€‹2023ç‰ˆ</p>
<p>äºŒã€ç¯å¢ƒå‡†å¤‡ä¸è®¾å¤‡ç»‘å®š</p>
<p>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</p>
<ol>
<li>ç¡¬ä»¶è¦æ±‚</li>
</ol>
<ul>
<li>
<p>æ§åˆ¶ç«¯ï¼šMacç”µè„‘ï¼ˆmacOS 12ä»¥ä¸Šï¼‰</p>
</li>
<li>
<p>è¢«æ§è®¾å¤‡ï¼šiPhone 8åŠä»¥ä¸Šæœºå‹ï¼ˆéœ€å…³é—­â€œæŸ¥æ‰¾æˆ‘çš„iPhoneâ€ï¼‰</p>
</li>
</ul>
<ol start="2">
<li>è½¯ä»¶å®‰è£…</li>
</ol>
<ul>
<li>
<p>ä¸‹è½½ä¼ä¸šç­¾åç‰ˆæ§åˆ¶ç«¯è½¯ä»¶ï¼ˆ*.ipaæ–‡ä»¶ï¼‰</p>
</li>
<li>
<p>é€šè¿‡Apple Configurator 2æ‰¹é‡å®‰è£…åˆ°ç›®æ ‡è®¾å¤‡</p>
</li>
</ul>
<p>å¯¹äºiOSå¼€å‘è€…å’Œæµ‹è¯•äººå‘˜ï¼ŒKeymobåŠ©æ‰‹æä¾›äº†ä¾¿æ·çš„æ–‡ä»¶ç®¡ç†å’ŒAppå®‰è£…åŠŸèƒ½ï¼Œæ”¯æŒåœ¨Windowsã€Macæˆ–Linuxç³»ç»Ÿä¸Šç›´æ¥æ“ä½œiOSè®¾å¤‡æ–‡ä»¶ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹ã€‚</p>
<p>æ­¥éª¤2ï¼šè®¾å¤‡æˆæƒ</p>
<ol>
<li>
<p>æ‰«ææ§åˆ¶å°ç”Ÿæˆçš„ è®¾å¤‡æ³¨å†ŒäºŒç»´ç </p>
</li>
<li>
<p>åœ¨iPhoneä¸Šå…è®¸ã€Œè¿œç¨‹ç®¡ç†ã€æƒé™</p>
</li>
<li>
<p>ç³»ç»Ÿè‡ªåŠ¨åˆ†é…è®¾å¤‡ç¼–å·ï¼ˆå¦‚G-001è‡³G-500ï¼‰</p>
</li>
</ol>
<p>ä¸‰ã€åŸºç¡€æ“ä½œæ•™ç¨‹</p>
<ol>
<li>å¤šè®¾å¤‡åŒæ­¥æ“æ§</li>
</ol>
<ul>
<li>é•œåƒæ¨¡å¼ï¼š</li>
</ul>
<ol>
<li>
<p>é€‰ä¸­è®¾å¤‡ç»„ï¼ˆæ”¯æŒCtrlå¤šé€‰ï¼‰</p>
</li>
<li>
<p>ç‚¹å‡»ã€ŒåŒæ­¥å±å¹•ã€å¯åŠ¨å®æ—¶æŠ•å±</p>
</li>
<li>
<p>åœ¨ä»»æ„è®¾å¤‡è¾“å…¥æ–‡å­—/ç‚¹å‡»æ“ä½œï¼Œå…¶ä»–è®¾å¤‡è‡ªåŠ¨è·Ÿéš</p>
</li>
</ol>
<p>æ‰¹é‡è„šæœ¬ï¼š</p>
<ol>
<li>
<p>åœ¨è„šæœ¬åº“é€‰æ‹©é¢„è®¾åŠ¨ä½œï¼ˆå¦‚ã€Œæ‰¹é‡å®‰è£…Appã€ï¼‰</p>
</li>
<li>
<p>è®¾ç½®æ‰§è¡Œå‚æ•°ï¼ˆå®‰è£…åŒ…URLã€é™é»˜å®‰è£…æ¨¡å¼ï¼‰</p>
</li>
<li>
<p>è‡ªå®šä¹‰å»¶è¿Ÿæ—¶é—´ï¼ˆé˜²æ­¢APIé«˜é¢‘è§¦å‘é£æ§ï¼‰</p>
</li>
<li>
<p>å®šæ—¶ä»»åŠ¡ç®¡ç†</p>
</li>
<li>
<p>åˆ›å»ºæ–°ä»»åŠ¡ â†’ é€‰æ‹©è§¦å‘æ¡ä»¶ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>æ—¶é—´è§¦å‘ï¼šæ¯å¤©9:00è‡ªåŠ¨å‘é€å¾®ä¿¡æ¶ˆæ¯</p>
</li>
<li>
<p>äº‹ä»¶è§¦å‘ï¼šå½“ç”µé‡&gt;80%æ—¶å¯åŠ¨æ•°æ®å¤‡ä»½</p>
</li>
</ul>
<ol start="2">
<li>
<p>å¯¼å‡ºä»»åŠ¡é…ç½®æ–‡ä»¶ï¼ˆ*.plistæ ¼å¼ï¼‰ï¼Œæ”¯æŒè·¨è®¾å¤‡å…±äº«</p>
</li>
<li>
<p>æ•°æ®ç›‘æ§çœ‹æ¿</p>
</li>
</ol>
<ul>
<li>å®æ—¶æŸ¥çœ‹ï¼š</li>
</ul>
<p>è®¾å¤‡åœ¨çº¿çŠ¶æ€ CPU/å†…å­˜å ç”¨ç‡</p>
<p>ç½‘ç»œæµé‡ç»Ÿè®¡ æ“ä½œæ—¥å¿—å®¡è®¡</p>
<p>KeymobåŠ©æ‰‹ä½œä¸ºiOSå¼€å‘å·¥å…·ï¼ŒåŒæ ·æä¾›æ€§èƒ½ç›‘æ§åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶è·Ÿè¸ªCPUã€GPUã€å†…å­˜å’Œç½‘ç»œç­‰æŒ‡æ ‡ï¼Œå¹¶é€šè¿‡å›¾è¡¨å±•ç¤ºï¼Œå¸®åŠ©å¼€å‘è€…ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚</p>
<p>å››ã€å…¸å‹åº”ç”¨åœºæ™¯è¯¦è§£</p>
<p>åœºæ™¯1ï¼šç›´æ’­è¿è¥çŸ©é˜µ</p>
<p>ç—›ç‚¹ï¼šéœ€åŒæ—¶ç®¡ç†æ•°åå°æ‰‹æœºè¿›è¡Œè¯„è®ºäº’åŠ¨ã€ç¤¼ç‰©ç»Ÿè®¡</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>é€šè¿‡ã€Œå…³é”®è¯è‡ªåŠ¨å›å¤ã€åŠŸèƒ½é¢„è®¾è¯æœ¯åº“</p>
</li>
<li>
<p>å¼€å¯ã€Œå¼¹å¹•æŠ“å–åˆ†æã€ï¼Œå®æ—¶ç”Ÿæˆäº’åŠ¨çƒ­åº¦å›¾è°±</p>
</li>
<li>
<p>çªå‘æµé‡é«˜å³°æ—¶ï¼Œä¸€é”®åˆ‡æ¢å¤‡ç”¨Wi-Fiçƒ­ç‚¹</p>
</li>
</ol>
<p>åœºæ™¯2ï¼šè·¨å¢ƒç”µå•†å¤šè´¦å·ç®¡ç†</p>
<p>ç—›ç‚¹ï¼šé˜²æ­¢è´¦å·å…³è”ï¼Œéœ€å·®å¼‚åŒ–æ“ä½œè¡Œä¸º</p>
<p>æ“ä½œæµç¨‹ï¼š</p>
<ol>
<li>ä¸ºæ¯å°è®¾å¤‡é…ç½®ç‹¬ç«‹å‚æ•°ï¼š</li>
</ol>
<ul>
<li>
<p>æ—¶åŒº/Language/å­—ä½“å¤§å°</p>
</li>
<li>
<p>æ¨¡æ‹Ÿ3G/4G/5Gç½‘ç»œæ ‡è¯†</p>
</li>
</ul>
<ol start="2">
<li>ä½¿ç”¨ã€Œæ™ºèƒ½è¡Œä¸ºæ¨¡æ‹Ÿã€åŠŸèƒ½ï¼š</li>
</ol>
<ul>
<li>
<p>éšæœºæ»‘åŠ¨é€Ÿåº¦ï¼ˆ200-500ms/æ¬¡ï¼‰</p>
</li>
<li>
<p>å·®å¼‚åŒ–ç‚¹å‡»ä½ç½®åç§»ï¼ˆÂ±15åƒç´ ï¼‰</p>
</li>
</ul>
<p>åœºæ™¯3ï¼šAPPå…¼å®¹æ€§æµ‹è¯•</p>
<p>æŠ€æœ¯æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>åˆ›å»ºå¤šæœºå‹æµ‹è¯•ç»„ï¼ˆiPhone 14/15/SE3ï¼‰</p>
</li>
<li>
<p>æ‰¹é‡å®‰è£…æµ‹è¯•åŒ… â†’ å¯åŠ¨ã€Œå‹åŠ›æµ‹è¯•æ¨¡å¼ã€ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>è¿ç»­ç‚¹å‡»æµ‹è¯•ï¼ˆ10ä¸‡æ¬¡/è®¾å¤‡ï¼‰</p>
</li>
<li>
<p>å†…å­˜æ³„æ¼ç›‘æ§ï¼ˆè¶…è¿‡500MBè‡ªåŠ¨æŠ¥è­¦ï¼‰</p>
</li>
</ul>
<ol start="3">
<li>ç”Ÿæˆè·¨æœºå‹å´©æºƒæŠ¥å‘Šå¯¹æ¯”è¡¨</li>
</ol>
<p>åœ¨iOSåº”ç”¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼ŒKeymobåŠ©æ‰‹çš„æ—¥å¿—ä¸å´©æºƒä¿¡æ¯åˆ†æåŠŸèƒ½å¯ä»¥è¾…åŠ©æŸ¥çœ‹å®æ—¶æ—¥å¿—å’Œç¬¦å·åŒ–å´©æºƒæŠ¥å‘Šï¼Œæ¯”Xcodeæ§åˆ¶å°æ›´ä¾¿æ·ï¼Œæå‡è°ƒè¯•æ•ˆç‡ã€‚</p>
<p>äº”ã€åˆè§„æ“ä½œæ³¨æ„äº‹é¡¹</p>
<p>âš ï¸ å¿…é¡»éµå®ˆï¼š</p>
<ol>
<li>
<p>ä»…é™ä¼ä¸šè‡ªæœ‰è®¾å¤‡ï¼Œä¸¥ç¦æ“æ§ç”¨æˆ·æ‰‹æœº</p>
</li>
<li>
<p>å•IPåœ°å€æœ€å¤§è¿æ¥æ•°â‰¤50ï¼ˆå»ºè®®æ­é…åŠ¨æ€IPä»£ç†ï¼‰</p>
</li>
<li>
<p>æ¯æ—¥æ“ä½œæ—¥å¿—éœ€ä¿ç•™90å¤©å¤‡æŸ¥</p>
</li>
</ol>
<p>æ”¿ç­–ä¾æ®ï¼š</p>
<ul>
<li>
<p>è‹¹æœã€Šä¼ä¸šå¼€å‘è€…è®¡åˆ’åè®®ã€‹ç¬¬4.8æ¡</p>
</li>
<li>
<p>GDPRæ•°æ®è·¨å¢ƒä¼ è¾“è§„èŒƒ</p>
</li>
</ul>
<p>å…­ã€å¸¸è§é—®é¢˜æ’æŸ¥</p>
<p>| é—®é¢˜ç°è±¡ | è§£å†³æ–¹æ¡ˆ |</p>
<p>| è®¾å¤‡é¢‘ç¹æ‰çº¿ | æ£€æŸ¥USB Hubä¾›ç”µï¼ˆéœ€â‰¥60Wï¼‰ |</p>
<p>| è§¦æ§æŒ‡ä»¤å»¶è¿Ÿ | å…³é—­å…¶ä»–è®¾å¤‡çš„AirDropåŠŸèƒ½ |</p>
<p>| æ— æ³•å®‰è£…æ§åˆ¶ç«¯ | é‡ç½®è®¾å¤‡æè¿°æ–‡ä»¶ï¼ˆè®¾ç½®â†’é€šç”¨â†’VPNä¸è®¾å¤‡ç®¡ç†ï¼‰ |</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Apache Doris AI èƒ½åŠ›æ­ç§˜ï¼ˆå››ï¼‰ï¼šHSAP ä¸€ä½“åŒ–æ··åˆæœç´¢æ¶æ„å…¨è§£]]></title>    <link>https://juejin.cn/post/7584807992031182890</link>    <guid>https://juejin.cn/post/7584807992031182890</guid>    <pubDate>2025-12-18T08:09:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584807992031182890" data-draft-id="7584817405228859433" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Apache Doris AI èƒ½åŠ›æ­ç§˜ï¼ˆå››ï¼‰ï¼šHSAP ä¸€ä½“åŒ–æ··åˆæœç´¢æ¶æ„å…¨è§£"/> <meta itemprop="keywords" content="æ•°æ®åº“,äººå·¥æ™ºèƒ½,Agent"/> <meta itemprop="datePublished" content="2025-12-18T08:09:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SelectDB"/> <meta itemprop="url" content="https://juejin.cn/user/3189021726222904"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Apache Doris AI èƒ½åŠ›æ­ç§˜ï¼ˆå››ï¼‰ï¼šHSAP ä¸€ä½“åŒ–æ··åˆæœç´¢æ¶æ„å…¨è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3189021726222904/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SelectDB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:09:51.000Z" title="Thu Dec 18 2025 08:09:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AI æ—¶ä»£æ­£åœ¨é‡å¡‘æ•°æ®åº“çš„è§’è‰²ã€‚è¿‡å»ï¼Œæ•°æ®åº“ä¸»è¦ä¸ºäººç±»åˆ†æè€…æä¾›æŠ¥è¡¨ä¸æŸ¥è¯¢èƒ½åŠ›ï¼›è€Œç°åœ¨ï¼Œè¶Šæ¥è¶Šå¤šçš„æŸ¥è¯¢æ¥è‡ªæ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨æ£€ç´¢çŸ¥è¯†ã€è¿‡æ»¤æ•°æ®ã€ç»„åˆå¤šç§ä¿¡å·ï¼Œå¹¶å°†æ•°æ®åº“ä½œä¸ºâ€œå®æ—¶ä¿¡æ¯æºâ€æ”¯æ’‘æ¨ç†ä¸å†³ç­–ã€‚</p>
<p>è¿™ä¸€æ ¹æœ¬æ€§å˜åŒ–ï¼Œå¯¹æ•°æ®åº“çš„æ£€ç´¢èƒ½åŠ›æå‡ºäº†å…¨æ–°æŒ‘æˆ˜ã€‚ä¼ ç»Ÿå•ä¸€çš„æœç´¢æ¨¡å¼ï¼ˆæ— è®ºæ˜¯å…³é”®è¯è¿˜æ˜¯å‘é‡æœç´¢ï¼‰å·²æ˜¾ä¸è¶³ï¼Œåœ¨åº”å¯¹å¤æ‚å¤šæ¨¡æ€çš„ Agent æŸ¥è¯¢æ—¶ï¼Œå¾€å¾€åœ¨ç¼ºä¹ç»“æœçš„å…¨é¢æ€§ã€è¯­ä¹‰çš„ç²¾ç¡®æ€§ä»¥åŠæµç¨‹çš„å¯æ§æ€§ã€‚<strong>è€Œè¿™å°±è¦æ±‚æ•°æ®åº“åŒæ—¶å…·å¤‡ä¸‰ç§èƒ½åŠ›ï¼Œå°†ç»“æ„åŒ–åˆ†æã€æ–‡æœ¬æœç´¢å’Œå‘é‡è¯­ä¹‰æœç´¢é›†ä¸ºä¸€ä½“ï¼Œå®ç°é«˜æ•ˆçš„æ··åˆæœç´¢èƒ½åŠ›</strong>ã€‚ç‰¹åˆ«æ˜¯åœ¨ä»¥æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ä¸ºä»£è¡¨çš„åº”ç”¨ä¸­ï¼Œæ··åˆæœç´¢èƒ½åŠ›å˜å¾—æ›´ä¸ºå…³é”®ï¼Œå·²æˆä¸ºé¿å…å¹»è§‰ã€æé«˜ç›¸å…³æ€§ä¸ä¿æŒå®æ—¶æ€§çš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-0">1. å¤šç³»ç»Ÿæ‹¼æ¥æ–¹æ¡ˆçš„ç—›ç‚¹</h2>
<p>ä¸ºå®ç°æ··åˆæœç´¢çš„èƒ½åŠ›ï¼Œè®¸å¤šç³»ç»Ÿé‡‡ç”¨â€œå‘é‡æ•°æ®åº“ + æœç´¢æ•°æ®åº“ + OLAP æ•°æ®åº“â€ç»„åˆå¼æ¶æ„æ¥æ”¯æ’‘ç±»ä¼¼èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå¤šç³»ç»Ÿæ‹¼æ¥ä¼šå¸¦æ¥ä¸€ç³»åˆ—é—®é¢˜ï¼š</p>
<ul>
<li><strong>æ•°æ®å†—ä½™ä¸å¤æ‚ ETL</strong>ï¼šæ–‡æœ¬æ•°æ®åº“ã€å‘é‡æ•°æ®åº“ä¸åˆ†ææ•°æ®åº“åˆ†åˆ«æŒæœ‰ä¸åŒæ ¼å¼çš„æ•°æ®å‰¯æœ¬ï¼Œä»»ä½•æ›´æ–°éƒ½éœ€è¦è·¨ç³»ç»ŸåŒæ­¥ï¼Œå¯¼è‡´å»¶è¿Ÿä¸è¿ç»´æˆæœ¬ä¸Šå‡ã€‚</li>
<li><strong>æŸ¥è¯¢é“¾è·¯é•¿ã€å»¶è¿Ÿé«˜</strong>ï¼šä¸€æ¬¡æ··åˆæœç´¢éœ€è¦å¤šæ¬¡è·³è½¬è°ƒç”¨ï¼Œä¾‹å¦‚å…ˆåœ¨å‘é‡åº“å¬å›ã€å†åˆ°æœç´¢åº“è¿‡æ»¤ã€æœ€åè¿›å…¥ OLAP èšåˆï¼Œæˆå€å¢åŠ çš„é“¾è·¯å»¶è¿Ÿè¿œé«˜äºå•å¼•æ“æ‰§è¡Œã€‚</li>
<li><strong>éš¾ä»¥ä¿éšœä¸€è‡´æ€§</strong>ï¼šæ•°æ®æŒ‰ä¸åŒæ—¶é—´å†™å…¥ä¸åŒç³»ç»Ÿï¼Œæœç´¢ç»“æœä¸ç»“æ„åŒ–ç»“æœå¯èƒ½åŸºäºä¸åŒç‰ˆæœ¬çš„æ•°æ®ï¼Œéš¾ä»¥ä¿éšœ Agent é€»è¾‘ç¨³å®šæ€§ã€‚</li>
<li><strong>è°ƒåº¦æ— æ³•ç»Ÿä¸€</strong>ï¼šæ¯ä¸ªç³»ç»Ÿæœ‰ç‹¬ç«‹çš„ä¼˜åŒ–å™¨ï¼Œæ— æ³•å½¢æˆå…¨å±€æ‰§è¡Œè®¡åˆ’ï¼Œä¹Ÿæ— æ³•å…±äº«è¿‡æ»¤ã€åˆ†åŒºè£å‰ªæˆ–ç´¢å¼•ä¸‹æ¨ã€‚</li>
</ul>
<p>è¿™äº›é—®é¢˜å…±åŒå½¢æˆæ‰€è°“çš„â€œæ•°æ®çƒŸå›±â€æ•ˆåº”ï¼Œä½¿æœ¬åº”ä¸€æ¬¡å®Œæˆçš„æ··åˆæŸ¥è¯¢è¢«è¿«æ‹†æˆå¤šæ®µæ‰§è¡Œï¼Œä¸ä»…å¢åŠ å¤æ‚åº¦ï¼Œä¹Ÿä½¿å…¶åœ¨ RAGã€Agentã€æ¨èç­‰å¯¹å»¶è¿Ÿæ•æ„Ÿçš„åœºæ™¯ä¸­æ— æ³•çœŸæ­£è½åœ°ã€‚</p>
<h2 data-id="heading-1">2. HSAPï¼šé¢å‘ AI åº”ç”¨çš„æ··åˆæœç´¢ä¸åˆ†æå¤„ç†</h2>
<p>ç›¸å¯¹è€Œè¨€ï¼Œ<strong>Hybrid Search and Analytics Processingï¼ˆHSAPï¼‰</strong> æ˜¯å½“ä¸‹æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒèƒ½åœ¨åŒä¸€å¼•æ“ä¸­åŒæ—¶å¤„ç†ç»“æ„åŒ–åˆ†æã€å…¨æ–‡æœç´¢å’Œå‘é‡æœç´¢ï¼Œå¹¶é€šè¿‡ç»Ÿä¸€ä¼˜åŒ–å™¨è°ƒåº¦ååŒæ‰§è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/887133ff3fdf4b519d336899205b18aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=WdP94CXrT70bDXAhVYInCDO01bc%3D" alt="2. HSAPï¼šé¢å‘ AI åº”ç”¨çš„æ··åˆæœç´¢ä¸åˆ†æå¤„ç†.PNG" loading="lazy"/></p>
<p><strong>åœ¨ HSAP æ¨¡å‹ä¸‹ï¼Œä¸åŒæœç´¢æ–¹å¼ä¸å†å½¼æ­¤ç‹¬ç«‹ï¼Œå…±åŒå‚ä¸å®Œæ•´çš„æŸ¥è¯¢ç”Ÿå‘½å‘¨æœŸï¼Œæ»¡è¶³è¯­ä¹‰å¹¿åº¦ã€å…³é”®è¯ç²¾ç¡®åŒ¹é…ä»¥åŠä¸šåŠ¡çº¦æŸç­‰å¤šç»´éœ€æ±‚</strong>ã€‚åœ¨å®é™…æ‰§è¡Œä¸­ï¼ŒHSAP çš„æŸ¥è¯¢æµç¨‹é€šå¸¸å‘ˆç°ä¸ºç®€æ´ä¸”é«˜æ•ˆçš„ååŒæ¨¡å¼ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><strong>A. å•æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼ˆSingle Requestï¼‰</strong></p>
<p>ç”¨æˆ·ä»…éœ€æäº¤ä¸€æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼Œè¯¥è¯·æ±‚å¯åŒæ—¶åŒ…å«æ–‡æœ¬æ£€ç´¢ã€å‘é‡æ£€ç´¢å’Œå¤æ‚çš„ç»“æ„åŒ–åˆ†æéœ€æ±‚ï¼ˆè¿‡æ»¤ã€èšåˆç»Ÿè®¡ã€æ’åºç­‰ï¼‰ã€‚è¿™äº›éœ€æ±‚ä»¥ç»Ÿä¸€çš„ SQL è¡¨è¾¾ï¼Œè¿›å…¥åŒä¸€ä¸ªæ‰§è¡Œè®¡åˆ’ã€‚</p>
<p><strong>B. å¹¶è¡Œæ‰§è¡Œï¼ˆParallel Executionï¼‰</strong></p>
<p>ç³»ç»Ÿå¹¶è¡ŒåŒ–å¤„ç†ä¸¤ç§æœç´¢è´Ÿè½½ï¼š</p>
<ul>
<li>æ–‡æœ¬æœç´¢é€šè¿‡å€’æ’ç´¢å¼•æŸ¥è¯¢ï¼Œå®Œæˆå…³é”®è¯åŒ¹é…å’Œ BM25 æ’åºå¬å›</li>
<li>å‘é‡æœç´¢é€šè¿‡ ANN ç´¢å¼•æŸ¥è¯¢ï¼Œå®Œæˆè¯­ä¹‰ç›¸ä¼¼åº¦å¬å›ï¼Œå…¶ä¸­ç»“æ„åŒ–è¿‡æ»¤ä½œä¸ºå‰è¿‡æ»¤ï¼ˆç¼©å°å€™é€‰æ•°æ®é‡ï¼‰æˆ–åè¿‡æ»¤ï¼ˆå¯¹å¬å›ç»“æœè¿›ä¸€æ­¥ç­›é€‰ï¼‰ç»Ÿä¸€å‚ä¸æ‰§è¡Œ</li>
</ul>
<p><em><strong>è¿™ç§å¹¶è¡ŒåŒ–å’Œä¸‹æ¨æœºåˆ¶ï¼Œä½¿å¾—æ•´ä½“å»¶è¿Ÿä»…å—é™äºæœ€æ…¢çš„å•ä¸€æœç´¢è·¯å¾„ï¼Œè€Œéå¤šç³»ç»Ÿä¸²è”è°ƒç”¨çš„é“¾è·¯å»¶è¿Ÿï¼Œä»æ ¹æœ¬ä¸Šæå‡äº†æŸ¥è¯¢çš„æ•ˆç‡</strong></em>ã€‚</p>
<p><strong>C. ç»“æœèåˆä¸åˆ†æï¼ˆResult Fusion &amp; Analyticsï¼‰</strong></p>
<p>å„æœç´¢è·¯å¾„ç”Ÿæˆ Top-K ç»“æœåï¼Œç³»ç»Ÿåˆ©ç”¨ RRF ç®—æ³•ç”Ÿæˆç»Ÿä¸€æ’åºï¼›éšåä¾æ‰˜ OLAP å¼•æ“çš„åˆ†æå¤„ç†èƒ½åŠ›ï¼Œæ‰§è¡Œå¤æ‚çš„ç»Ÿè®¡èšåˆä¸æ˜ç»†æŸ¥è¯¢ï¼Œç›´æ¥è¿”å›å®Œæ•´çš„åˆ†æç»“æœã€‚</p>
<h2 data-id="heading-2">3. Apache Doris HSAP çš„å®ç°</h2>
<p><strong>HSAP æ¨¡å‹æä¾›äº†ç†æƒ³çš„ç†è®ºæ¡†æ¶ï¼Œè€Œ Apache Doris åˆ™æ˜¯ä¸€ä¸ªå°†å…¶å·¥ç¨‹åŒ–è½åœ°çš„å…¸èŒƒ</strong>ã€‚Doris é€šè¿‡ç»Ÿä¸€çš„å­˜å‚¨æ ¼å¼ã€æ‰§è¡Œå¼•æ“å’Œ SQL å·¥ä½œæµï¼Œå°†ç»“æ„åŒ–åˆ†æã€å€’æ’ç´¢å¼•å’Œå‘é‡ç´¢å¼•ä¸‰å¤§èƒ½åŠ›æ•´åˆä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œå®ç°äº†é«˜æ•ˆçš„æ··åˆæœç´¢å’Œå®æ—¶åˆ†æèƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aad7f6bea0f5417cb67e492130223f6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=Y%2FGXvlM7Ty%2BEM29pY58HsVTx57s%3D" alt="3. Apache Doris HSAP çš„å®ç°.PNG" loading="lazy"/></p>
<p>è€Œ Apache Doris HSAP èƒ½åŠ›çš„å®ç°å¹¶éä¸€è¹´è€Œå°±ï¼Œæ•´ä½“æ¶æ„çš„æ¼”è¿›åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è‡ª 2.x ç‰ˆæœ¬èµ·å¥ å®šäº†åŸºç¡€ï¼Œ<strong>æœ€ç»ˆåœ¨ 4.0 ç‰ˆæœ¬å®ç°äº†èåˆæ£€ç´¢ï¼Œå‡çº§ä¸ºæ–‡æœ¬ä¸å‘é‡å¹¶é‡çš„æ··åˆæœç´¢ä½“ç³»</strong>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€ä¸€ä»‹ç» Apache Doris HSAP æ ¸å¿ƒèƒ½åŠ›ã€æœ€ä½³å®è·µä»¥åŠæ€§èƒ½è¡¨ç°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/742d10acf48c4063a3d1842a42e892af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=6%2B6DmkEx7H5nv8G9iIuindlfJ4w%3D" alt="3. Apache Doris HSAP çš„å®ç°-1.png" loading="lazy"/></p>
<h2 data-id="heading-3">4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ</h2>
<p>æ–‡æœ¬æœç´¢èƒ½åŠ›å¯¹äºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ˜¯ä¸å¯æˆ–ç¼ºçš„åŸºçŸ³ï¼Œä»æ ¹æœ¬ä¸Šå†³å®šäº† LLM åº”ç”¨çš„å¯é æ€§ã€å‡†ç¡®æ€§å’Œå®ç”¨æ€§ã€‚<strong>Apache Doris ä¸»è¦åŸºäºå€’æ’ç´¢å¼•å®ç°äº†é«˜æ€§èƒ½çš„æ–‡æœ¬åˆ†æèƒ½åŠ›</strong>ã€‚</p>
<p>å€’æ’ç´¢å¼•åŸºæœ¬åŸç†æ˜¯å°†æ–‡æœ¬æ‹†åˆ†æˆè¯é¡¹ï¼ˆTermï¼‰ï¼Œå¹¶è®°å½•æ¯ä¸ªè¯é¡¹å‡ºç°çš„æ–‡æ¡£ã€‚æŸ¥è¯¢æ—¶æ— éœ€é€è¡Œæ‰«æï¼Œç›´æ¥é€šè¿‡ç´¢å¼•å®šä½ç›¸å…³è¡Œå·ï¼Œå°†æŸ¥è¯¢å¤æ‚åº¦ä» Oï¼ˆnï¼‰ ä¸‹é™åˆ° Oï¼ˆlog nï¼‰ çº§åˆ«ã€‚<strong>ä¸ºäº†è®©æœç´¢èƒ½åŠ›çœŸæ­£é€‚é… AI Agent çš„åˆ†æåœºæ™¯ï¼ŒDoris å¯¹å€’æ’ç´¢å¼•è¿›è¡Œäº†ç³»ç»ŸåŒ–çš„æ¶æ„è®¾è®¡ä¸å·¥ç¨‹ä¼˜åŒ–</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87b34e421004426d931e91010ff1f387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=fHVXxYiNYwoQXcm6xpU3x8QfK5Q%3D" alt="4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ.png" loading="lazy"/></p>
<ol>
<li><strong>åœ¨ç»“æ„ä¸Š</strong>ï¼šDoris å®ç°äº†<strong>å¤–æŒ‚å¼ç´¢å¼•ç»“æ„</strong>ï¼Œå¯å°†å€’æ’ç´¢å¼•ä¸ segment æ•°æ®æ–‡ä»¶è§£è€¦ï¼Œä½œä¸ºç‹¬ç«‹æ–‡ä»¶å­˜å‚¨ã€‚è¿™ç§ç»“æ„æ›´åŠ çµæ´»ï¼Œå¯åœ¨å·²æœ‰è¡¨ä¸Šç›´æ¥æ–°å¢å€’æ’ç´¢å¼•ï¼Œæ— éœ€é‡å»ºæ•°æ®å’Œä¸‹çº¿ä¸šåŠ¡ã€‚å¹¶æ”¯æŒæŒ‰éœ€å¼‚æ­¥ä¸å¢é‡å¼æ„å»ºç´¢å¼•ï¼Œæœ‰æ•ˆé¿å…å¯¹åœ¨çº¿æœåŠ¡çš„å†²å‡»ã€‚æ­¤å¤–ï¼Œç´¢å¼•åœ¨ compaction é˜¶æ®µå¯ä¸æŒ‰ç…§æ•°æ®é‡å†™ï¼Œä»…éœ€å¯¹ç´¢å¼•å†…å®¹è¿›è¡Œåˆå¹¶ï¼Œå‡å°‘åˆ†è¯å¸¦æ¥çš„èµ„æºæ¶ˆè€—ã€‚</li>
<li><strong>åœ¨æŸ¥è¯¢ä¸Š</strong>ï¼šå¼•å…¥<strong>åŒå±‚ç´¢å¼•ç¼“å­˜ä½“ç³»</strong>ï¼Œå¯¹è±¡ç¼“å­˜å‡å°‘æ–‡ä»¶ IOï¼ŒæŸ¥è¯¢ç¼“å­˜é¿å…é‡å¤æ‰§è¡Œã€‚åŒæ—¶ä¼˜åŒ–äº†ç´¢å¼•æŸ¥è¯¢ä¸å›è¡¨ç­–ç•¥ï¼Œé’ˆå¯¹ <code>COUNT</code> ç»Ÿè®¡æˆ–çº¯è°“è¯è¿‡æ»¤åœºæ™¯ï¼Œå½“æŸ¥è¯¢æ¡ä»¶ä»…ä¾èµ–å€’æ’ç´¢å¼•å³å¯åˆ¤å®šç»“æœæ—¶ï¼Œæ‰§è¡Œå¼•æ“å°†ç›´æ¥è·³è¿‡æ•°æ®æ–‡ä»¶ï¼ˆData Segmentï¼‰çš„è¯»å–ä¸è§£å‹ï¼Œä»…é€šè¿‡ç´¢å¼•æ–‡ä»¶å®Œæˆè®¡ç®—ï¼Œè¿™æ ·å¯å°† I/O å¼€é”€é™è‡³æœ€ä½ï¼Œæå‡äº†èšåˆåˆ†æååé‡ã€‚</li>
<li><strong>åœ¨å­˜å‚¨ä¸Š</strong>ï¼šä¸ºæ›´å¥½åœ¨æ€§èƒ½ä¸å­˜å‚¨æˆæœ¬é—´å–å¾—å¹³è¡¡ï¼ŒDoris å¼•å…¥äº†å¤šç§<strong>è‡ªé€‚åº”å‹ç¼©ç®—æ³•</strong>ï¼Œå¯¹å€’æ’ç´¢å¼•çš„è¯å…¸ã€å€’æ’è¡¨ã€çŸ­è¯­ä½ç½®ç­‰ä¿¡æ¯è¿›è¡Œå‹ç¼©å­˜å‚¨ã€‚</li>
<li><strong>å†…ç½®åˆ†è¯å™¨åŠè‡ªå®šä¹‰åˆ†è¯</strong>ï¼šå†…ç½®å¤šç§åˆ†è¯å™¨ï¼Œè¦†ç›–ä¸­è‹±æ–‡ã€å¤šè¯­ç§ Unicodeã€ICU å›½é™…åŒ–ç­‰ä¸»æµè¯­è¨€ï¼›åŒæ—¶æ”¯æŒè‡ªå®šä¹‰åˆ†æå™¨ï¼Œå¯é…ç½®å­—ç¬¦æ¸…æ´—ã€åˆ†è¯æ¨¡å¼ã€åœç”¨è¯ã€æ‹¼éŸ³è½¬æ¢ã€å¤§å°å†™è§„æ•´ç­‰èƒ½åŠ›ã€‚</li>
<li><strong>ä¸°å¯Œçš„æŸ¥è¯¢ç®—å­</strong>ï¼šåœ¨å€’æ’ç´¢å¼•çš„åŸºç¡€ä¸Šï¼ŒDoris å®ç°äº†å®Œæ•´çš„æœç´¢ç®—å­ä½“ç³»ï¼Œå®Œæ•´å¯è§ä¸‹å›¾ï¼š</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89c95c312c7b4027b50694c599a873de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=5G0O%2F5%2F%2B%2BlXp2mnJMP105jWxtTc%3D" alt="4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ-1.png" loading="lazy"/></p>
<ol start="6">
<li><strong>BM25 ç›¸å…³æ€§æ‰“åˆ†ï¼š</strong></li>
</ol>
<p>BM25ï¼ˆBest Matching 25ï¼‰æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡çš„æ–‡æœ¬ç›¸å…³æ€§è¯„åˆ†ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºå…¨æ–‡æœç´¢å¼•æ“ä¸­ã€‚<strong>Doris 4.0 ç‰ˆæœ¬å¼•å…¥ BM25ï¼Œä¸ºå€’æ’ç´¢å¼•æŸ¥è¯¢æä¾›äº†ç›¸å…³æ€§è¯„åˆ†åŠŸèƒ½</strong>.BM25 å¯æ ¹æ®æ–‡æ¡£é•¿åº¦åŠ¨æ€è°ƒæ•´è¯é¢‘æƒé‡ï¼Œåœ¨é•¿æ–‡æœ¬ã€å¤šå­—æ®µæ£€ç´¢åœºæ™¯ä¸‹ï¼ˆå¦‚æ—¥å¿—åˆ†æã€æ–‡æ¡£æ£€ç´¢ï¼‰ï¼Œæ˜¾è‘—æå‡ç»“æœç›¸å…³æ€§ä¸æ£€ç´¢å‡†ç¡®æ€§ã€‚</p>
<p>åœ¨ Doris è¿™æ ·çš„åˆ†å¸ƒå¼æ¶æ„ä¸‹ï¼ŒBM25 æ‰“åˆ†æµç¨‹æœ‰ä¸‰ä¸ªé˜¶æ®µã€‚è¯¥æµç¨‹å¯¹ Tablet çº§ å’Œ Segment çº§åˆ†åˆ«ç»Ÿè®¡ï¼Œå¯æœ‰æ•ˆä¿è¯ç¨³å®šæ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92c5eb1bf43d4abdafab7ea260f2cacb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=JRYIsU2hdLHgBQcUiJmtgkkH9AU%3D" alt="4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ-2.png" loading="lazy"/></p>
<p><strong>é˜¶æ®µ 1ï¼šåœ¨ Tablet çº§åˆ«æ‰§è¡Œ</strong>ï¼Œè´Ÿè´£éå†æ‰€æœ‰ Segment å¹¶æ”¶é›† BM25 è®¡ç®—æ‰€éœ€çš„<strong>å…¨å±€å…ƒæ•°æ®</strong>ï¼š</p>
<ul>
<li>ç»Ÿè®¡æ”¶é›†ï¼š ç´¯åŠ æ€»æ–‡æ¡£æ•° ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span>ï¼‰ å’Œæ¯ä¸ªè¯é¡¹çš„å…¨å±€æ–‡æ¡£é¢‘ç‡ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(qi,D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span>ï¼‰ã€‚</li>
<li>å¹³å‡è®¡ç®—ï¼š ç´¯åŠ æ‰€æœ‰æ–‡æ¡£çš„æ€»è¯æ•°ï¼Œè®¡ç®—å‡ºå…¨å±€çš„å¹³å‡æ–‡æ¡£é•¿åº¦ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mi>d</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">avgdl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">vg</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span></span>ï¼‰ã€‚</li>
<li>æ ¸å¿ƒäº§å‡ºï¼š æ ¹æ® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span>å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(qi,D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span>è®¡ç®—å‡ºæ¯ä¸ªæŸ¥è¯¢è¯é¡¹çš„ å…¨å±€ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>D</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">IDF </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span></span>å€¼ã€‚</li>
</ul>
<p><strong>é˜¶æ®µ 2ï¼šåœ¨ Segment çº§åˆ«æ‰§è¡Œï¼Œå¹¶è¡Œè®¡ç®— BM25 åˆ†æ•°å¹¶ç­›é€‰ Top-K</strong>ã€‚ç”±äº BM25 çš„è®¡ç®—æ˜¯æ–‡æ¡£ç‹¬ç«‹çš„ï¼ˆä¸€æ—¦<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>D</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">IDF </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span></span>ç¡®å®šï¼Œæ–‡æ¡£åˆ†æ•°åªä¾èµ–è‡ªèº«ä¿¡æ¯ï¼‰ï¼Œæ¯ä¸ª Segment å¯ä»¥åˆ©ç”¨<strong>é˜¶æ®µ 1</strong> æä¾›çš„å…¨å±€ç»Ÿè®¡ä¿¡æ¯ï¼Œç‹¬ç«‹å¹¶è¡Œåœ°å®Œæˆæ‰“åˆ†å’Œå±€éƒ¨è£å‰ªï¼š</p>
<ul>
<li>å¹¶è¡Œæ‰“åˆ†ï¼š æ¯ä¸ª Segment ä½¿ç”¨å…¨å±€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>D</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">IDF </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span></span>ï¼Œç»“åˆè‡ªèº«çš„è¯é¢‘ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(qi,D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span>ï¼‰ å’Œæ–‡æ¡£é•¿åº¦ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>D</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|D|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ£</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord">âˆ£</span></span></span></span></span>ï¼‰ï¼Œè®¡ç®—æ‰€æœ‰åŒ¹é…æ–‡æ¡£çš„ BM25 åˆ†æ•°ã€‚</li>
<li>å±€éƒ¨è£å‰ªï¼š åœ¨ Segment å†…éƒ¨ç›´æ¥æ‰§è¡Œ Top-K ç­›é€‰ï¼Œåªä¿ b ç•™å’Œè¿”å›æ’åæœ€é«˜çš„æ–‡æ¡£ ID å’Œå¯¹åº”çš„åˆ†æ•°ï¼Œå‡å°‘æ•°æ®ä¼ è¾“å¼€é”€ã€‚</li>
</ul>
<p><strong>é˜¶æ®µ 3ï¼šä¸Šå±‚æ±‡æ€»ï¼Œåˆå¹¶å„ Segment çš„ Top-K</strong>ã€‚æŸ¥è¯¢çš„æ±‡æ€»èŠ‚ç‚¹ï¼ˆå¦‚ Backend çš„èšåˆå±‚ï¼‰æ”¶é›†æ‰€æœ‰å¹¶è¡Œ Segment è¿”å›çš„å±€éƒ¨ Top-K ç»“æœï¼Œè¿›è¡Œ<strong>å…¨å±€å½’å¹¶æ’åº</strong>ï¼Œæœ€ç»ˆç”Ÿæˆæ»¡è¶³ç”¨æˆ·éœ€æ±‚çš„ Top-K ç»“æœé›†ã€‚</p>
<h2 data-id="heading-4">5. åŸºäº ANN ç´¢å¼•æ‹“å±• Doris è¯­ä¹‰æœç´¢</h2>
<p>éšç€è¯­ä¹‰å‘é‡åœ¨ AI ä¸æ£€ç´¢åœºæ™¯ä¸­çš„å¹¿æ³›ä½¿ç”¨ï¼Œå‘é‡æœç´¢é€æ¸æˆä¸ºæ•°æ®åº“çš„åŸºç¡€èƒ½åŠ›ã€‚<strong>Doris åœ¨ 4.0 ç‰ˆæœ¬ä¸­å°†å‘é‡ç´¢å¼•çº³å…¥å…¶ç»Ÿä¸€çš„ç´¢å¼•æ¶æ„</strong>ï¼Œä½¿å‘é‡æœç´¢ä¸ç»“æ„åŒ–è¿‡æ»¤ã€å…¨æ–‡æœç´¢åœ¨åŒä¸€æ‰§è¡Œæ¡†æ¶å†…ååŒå·¥ä½œï¼Œå®ç°é«˜æ•ˆã€å¯æ§ã€å¯æ‰©å±•çš„è¯­ä¹‰æœç´¢èƒ½åŠ›ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå‘é‡ç´¢å¼•çš„æ„å»ºä¼šæ¶ˆè€—å¤§é‡è®¡ç®—èµ„æºï¼Œå°¤å…¶åœ¨äº¿çº§ Embedding çš„åœºæ™¯ä¸­ã€‚<strong>è€Œ Doris çš„å‘é‡ç´¢å¼•ä¸å€’æ’ç´¢å¼•é‡‡ç”¨ä¸€ä½“åŒ–æ¶æ„ï¼Œç”¨æˆ·å¯ä»¥åƒå¤„ç†å€’æ’ç´¢å¼•ä¸€æ ·å¼‚æ­¥æ„å»ºå‘é‡ç´¢å¼•ï¼Œæœ€å¤§é™åº¦é™ä½å¯¹å†™å…¥æ€§èƒ½çš„å½±å“</strong>ã€‚åŒæ—¶ï¼Œè°ƒæ•´å‘é‡ç´¢å¼•æ„å»ºå‚æ•°æ—¶ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾è¿›è¡Œç´¢å¼•çš„åˆ é™¤ä¸é‡å»ºã€‚</p>
<h3 data-id="heading-5">5.1 Doris å‘é‡ç´¢å¼•ä»‹ç»</h3>
<p>å‘é‡æœç´¢é€šå¸¸éœ€è¦åœ¨â€œå¬å›ç‡ã€æŸ¥è¯¢å»¶è¿Ÿã€æ„å»ºå¼€é”€â€ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œå› æ­¤ <strong>Doris å†…ç½®äº†ä¸¤ç±»ä¸»æµ ANN ç´¢å¼•ï¼šHNSW ä¸ IVF</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fzh-CN%2Fdocs%2F4.x%2Fai%2Fvector-search%2Fhnsw" target="_blank" title="https://doris.apache.org/zh-CN/docs/4.x/ai/vector-search/hnsw" ref="nofollow noopener noreferrer">HNSWï¼ˆHierarchical Navigable Small Worldï¼‰</a>åŸºäºåˆ†å±‚å›¾ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨æœç´¢æ—¶å¿«é€Ÿä»ç¨€ç–å±‚ç¼©å°èŒƒå›´ï¼Œå¹¶åœ¨åº•å±‚è¿›è¡Œç²¾ç»†æŸ¥æ‰¾ã€‚å…¶ä¼˜åŠ¿åŒ…æ‹¬ï¼šé«˜å¬å›ç‡ï¼Œåœ¨è¯­ä¹‰æ£€ç´¢ä¸­æ¥è¿‘ç²¾ç¡®æœç´¢æ•ˆæœï¼›ä½å»¶è¿Ÿï¼ŒæŸ¥è¯¢å¤æ‚åº¦æ¥è¿‘ O(log n)ï¼Œé€‚åˆå¤§è§„æ¨¡åœºæ™¯ï¼›å¯è°ƒèŠ‚ç²¾åº¦ï¼Œé€šè¿‡ <code>ef_search</code> ç­‰å‚æ•°åŠ¨æ€æ§åˆ¶å¬å›ç‡å’Œå»¶è¿Ÿã€‚<strong>HNSW æ˜¯ä¸šç•Œåº”ç”¨æœ€å¹¿æ³›çš„ ANN ç´¢å¼•ï¼Œåœ¨ RAGã€é—®ç­”æ£€ç´¢å’Œç›¸ä¼¼åº¦æœç´¢ç­‰åœºæ™¯ä¸­è‡³å…³é‡è¦</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b963416d635343948500848e0f098874~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=l9dfiqXn83yayY8%2Bu%2FZxz1mq3oE%3D" alt="5. åŸºäº ANN ç´¢å¼•æ‹“å±• Doris è¯­ä¹‰æœç´¢.png" loading="lazy"/></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fzh-CN%2Fdocs%2F4.x%2Fai%2Fvector-search%2Fivf" target="_blank" title="https://doris.apache.org/zh-CN/docs/4.x/ai/vector-search/ivf" ref="nofollow noopener noreferrer">IVFï¼ˆInverted File Indexï¼‰</a>é€šè¿‡èšç±»ï¼ˆå¦‚ k-meansï¼‰å°†å‘é‡åˆ’åˆ†åˆ°ä¸åŒåˆ†æ¡¶ï¼Œä»…åœ¨æœ€ç›¸å…³çš„åˆ†æ¡¶ä¸­è¿›è¡Œæœç´¢ã€‚å…¶æ„å»ºé€Ÿåº¦å¿«ã€èµ„æºå ç”¨ä½ï¼Œé€‚åˆç™¾ä¸‡è‡³åƒä¸‡çº§çš„å¤§è§„æ¨¡å‘é‡åº“ï¼›å¯é€šè¿‡ <code>nprobe</code> æ§åˆ¶å¬å›ç‡ä¸æŸ¥è¯¢é€Ÿåº¦çš„å¹³è¡¡ã€‚ä¸ HNSW ç›¸æ¯”ï¼Œ<strong>IVF æ›´é€‚åˆäºæ—¥å¿—ã€åŸ‹ç‚¹å’Œå•†å“å‘é‡ç­‰â€œè§„æ¨¡å¤§ä½†æŸ¥è¯¢ç²¾åº¦å¯è°ƒâ€çš„åœºæ™¯</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eda891a98c514e95b0409379aee9d757~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=1jGXusxO8wc6bqrv667uI%2BAIJS4%3D" alt="5. åŸºäº ANN ç´¢å¼•æ‹“å±• Doris è¯­ä¹‰æœç´¢-1.png" loading="lazy"/></p>
<h3 data-id="heading-6">5.2 æ”¯æŒå¤šç§å‘é‡æŸ¥è¯¢æ¨¡å¼</h3>
<p>æ­¤å¤–ï¼ŒDoris æ”¯æŒå¤šç§é«˜æ•ˆå‘é‡æŸ¥è¯¢æ¨¡å¼ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸åŒçš„æœç´¢éœ€æ±‚ã€‚ä¸‹æ–¹å°†ç»“åˆç¤ºä¾‹è¿›è¡Œä»‹ç»ï¼š</p>
<p><strong>A. Top-K æœ€è¿‘é‚»æ£€ç´¢</strong>ï¼šæ”¯æŒ L2 è·ç¦»ä¸å†…ç§¯ï¼ˆInner Productï¼‰ä¸¤ç§ç›¸ä¼¼åº¦åº¦é‡ï¼Œå¿«é€Ÿæ‰¾å‡ºä¸ç›®æ ‡å‘é‡æœ€ç›¸ä¼¼çš„å‰ K ä¸ªç»“æœã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">SELECT</span> id, inner_product_approximate(embedding,[<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..]) <span class="hljs-keyword">as</span> distance <span class="hljs-keyword">FROM</span> sift_1M <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance limit <span class="hljs-number">10</span>
<span class="hljs-keyword">SELECT</span> id, l2_distance_approximate(embedding,[<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..]) <span class="hljs-keyword">as</span> distance <span class="hljs-keyword">FROM</span> sift_1M <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance limit <span class="hljs-number">10</span>
</code></pre>
<p><strong>B. è¿‘ä¼¼èŒƒå›´æŸ¥è¯¢ï¼ˆRange Searchï¼‰</strong>ï¼šæ”¯æŒå¯¹è·ç¦»è®¾ç½®é˜ˆå€¼æ¡ä»¶ï¼Œç­›é€‰å‡ºç›¸ä¼¼åº¦åœ¨æŒ‡å®šèŒƒå›´å†…çš„æ‰€æœ‰é¡¹ã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">FROM</span>   sift_1m
<span class="hljs-keyword">WHERE</span>  l2_distance_approximate( embedding, [<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77</span>,...]) <span class="hljs-operator">&gt;</span> <span class="hljs-number">300</span> 
</code></pre>
<p><strong>C. ç»„åˆæœç´¢</strong>ï¼šåœ¨åŒä¸€æ¡ SQL ä¸­åŒæ—¶è¿›è¡Œ ANN TopN ä¸ Range æ¡ä»¶è¿‡æ»¤ï¼Œè¿”å›æ»¡è¶³èŒƒå›´çº¦æŸçš„ TopNã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">SELECT</span> id,
       l2_distance_approximate(
        embedding, [<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..]) <span class="hljs-keyword">as</span> dist
<span class="hljs-keyword">FROM</span> sift_1M
<span class="hljs-keyword">WHERE</span> l2_distance_approximate(
        embedding, [<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..])
        <span class="hljs-operator">&gt;</span> <span class="hljs-number">300</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist limit <span class="hljs-number">10</span>
</code></pre>
<h3 data-id="heading-7">5.3 é‡åŒ–ä¸ç¼–ç æœºåˆ¶</h3>
<p>å‘é‡è¡¨ç¤ºé€šå¸¸åœ¨ç»´åº¦å’Œæ•°æ®é‡ä¸Šéƒ½éå¸¸åºå¤§ï¼Œå¸¦æ¥äº†æ˜¾è‘—çš„è®¡ç®—å’Œå†…å­˜æŒ‘æˆ˜ï¼Œè€Œé‡åŒ–ä¸ç¼–ç æœºåˆ¶èƒ½å¤Ÿåœ¨æ€§èƒ½ã€ç²¾åº¦å’Œæˆæœ¬ä¹‹é—´è¾¾åˆ°æœ€ä¼˜å¹³è¡¡ã€‚ç›®å‰ Doris ç¼–ç æ–¹å¼ä¸»è¦é‡‡ç”¨  FLAT ç¼–ç ï¼ŒHNSW ç´¢å¼•æœ¬èº«ä¼šå ç”¨è¾ƒå¤§å†…å®¹ï¼Œè¿›è¡Œç¼–ç åå¿…é¡»å…¨é‡é©»ç•™å†…å­˜æ‰èƒ½å·¥ä½œï¼Œå°¤å…¶åœ¨è¶…å¤§è§„æ¨¡æ•°æ®é›†ä¸Šæ˜“æˆä¸ºç“¶é¢ˆã€‚</p>
<p>å¯¹äºè¯¥é—®é¢˜ï¼Œé‡åŒ–å¯ä»¥å¾ˆå¥½çš„å¹³è¡¡ã€‚æ ‡é‡é‡åŒ– SQ é€šè¿‡å‹ç¼© FLOAT32 å‡å°‘å†…å­˜å¼€é”€ï¼›ä¹˜ç§¯é‡åŒ– PQ é€šè¿‡åˆ†è§£é«˜ç»´å‘é‡å¹¶åˆ†åˆ«é‡åŒ–å­å‘é‡æ¥é™ä½å†…å­˜å¼€é”€ã€‚</p>
<p>Doris å½“å‰æ”¯æŒä¸¤ç§æ ‡é‡é‡åŒ–ï¼šINT8 ä¸ INT4ï¼ˆSQ8 / SQ4ï¼‰ï¼Œé€šè¿‡å‹ç¼© FLOAT32 å‡å°‘å†…å­˜å¼€é”€ã€‚ä»¥ SQ8 ä¸ºä¾‹ï¼šåœ¨ 768 ç»´çš„ Cohere-MEDIUM-1M ä¸ Cohere-LARGE-10M æ•°æ®é›†æµ‹è¯•ä¸­ï¼ŒSQ8 å¯å°†ç´¢å¼•å¤§å°å‹ç¼©è‡³ FLAT çš„çº¦ 1/3ã€‚</p>
<p>Doris ä¹Ÿæ”¯æŒä¹˜ç§¯é‡åŒ–ï¼Œ é€šè¿‡åˆ†è§£é«˜ç»´å‘é‡å¹¶åˆ†åˆ«é‡åŒ–å­å‘é‡æ¥é™ä½å†…å­˜å¼€é”€ï¼ŒPQ é‡åŒ–å¯å°†ç´¢å¼•å¤§å°å‹ç¼©è‡³ FLAT çš„çº¦ 1/5 å·¦å³ã€‚éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ä½¿ç”¨ PQ æ—¶éœ€è¦æä¾›é¢å¤–çš„å‚æ•°ï¼ˆè¯¦è§æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fzh-CN%2Fdocs%2F4.x%2Fai%2Fvector-search%2Findex-management%25EF%25BC%2589" target="_blank" title="https://doris.apache.org/zh-CN/docs/4.x/ai/vector-search/index-management%EF%BC%89" ref="nofollow noopener noreferrer">doris.apache.org/zh-CN/docs/â€¦</a></p>
<h2 data-id="heading-8">6. HSAP é«˜æ•ˆåˆ†æçš„å…³é”®</h2>
<p>å¦‚æœè¯´ä¸Šè¿°èƒ½åŠ›æ˜¯æ„æˆ HSAP æ··åˆæœç´¢èƒ½åŠ›çš„æŠ€æœ¯åŸºç¡€ï¼Œé‚£ä¹ˆå¦‚ä½•è®©å„æ¨¡å—é«˜æ•ˆçš„ååŒã€è¿è½¬ä¹Ÿæ˜¯ä¸€å¤§æ ¸å¿ƒæ‰€åœ¨ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œ Doris ä¸€è´¯ä»¥å®æ—¶ã€æé€Ÿè‘—ç§°ï¼Œé‚£ä¹ˆ Doris  æ˜¯å¦‚ä½•æä¾›é«˜æ•ˆæ··åˆæœç´¢ä½“éªŒçš„å‘¢ï¼Ÿ</p>
<h3 data-id="heading-9">6.1 å‰è¿‡æ»¤æ€§èƒ½ä¼˜åŒ–</h3>
<p>å‰è¿‡æ»¤æ˜¯æ··åˆæ£€ç´¢å¸¸ç”¨çš„æ‰§è¡Œæ¨¡å‹ï¼šå…ˆé€šè¿‡ç»“æ„åŒ–è°“è¯æ¡ä»¶åœ¨å¤§è§„æ¨¡æ•°æ®é›†ä¸­ç­›é€‰å€™é€‰è¡Œï¼Œç„¶åå¯¹è¿™äº›è¡Œè¿›è¡Œç›¸ä¼¼åº¦è®¡ç®—æˆ–æ‰“åˆ†ã€‚è¯¥æ¨¡å‹çš„æ€§èƒ½ç“¶é¢ˆåœ¨äºï¼šå¦‚æœåº•å±‚å¼•æ“æ— æ³•æ”¯æŒæµ·é‡æ•°æ®çš„æé€Ÿè¿‡æ»¤ï¼Œå°†ä¼šå½±å“æ•´ä½“æŸ¥è¯¢çš„æ•ˆç‡ã€‚è€Œ Doris è‡ªèº«æ‰€å…·å¤‡çš„èƒ½åŠ›ä¼˜åŠ¿ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§„é¿è¯¥é—®é¢˜ã€‚å…·ä½“èƒ½åŠ›å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ†åŒº / åˆ†æ¡¶è£å‰ªï¼šä»ç‰©ç†å¸ƒå±€ä¸Šç¼©å°æ‰«æèŒƒå›´ã€‚åœ¨æŸ¥è¯¢è®¡åˆ’ç”Ÿæˆé˜¶æ®µï¼Œä¼˜åŒ–å™¨æ ¹æ®è°“è¯æ¡ä»¶è‡ªåŠ¨å®Œæˆåˆ†åŒºä¸åˆ†æ¡¶è£å‰ªï¼Œä»…è®¿é—®ç›¸å…³çš„ Tabletï¼Œä»è€Œå‡å°‘æ¯æ¬¡æŸ¥è¯¢éœ€æ‰«æçš„æ•°æ®å—ï¼Œå¤§å¹…é™ä½ç³»ç»Ÿè´Ÿè½½ã€‚</li>
<li>ç´¢å¼•åŠ é€Ÿè¿‡æ»¤ï¼šDoris é‡‡ç”¨å¤šå±‚ç´¢å¼•ä½“ç³»ï¼ŒåŒ…æ‹¬å†…ç½®ç´¢å¼•ï¼ˆzonemapã€å‰ç¼€ç´¢å¼•ä»¥åŠæ’åºé”®ç­‰ï¼‰å’ŒäºŒçº§ç´¢å¼•ï¼ˆå€’æ’ç´¢å¼•ã€bloom filter ç´¢å¼•ç­‰ï¼‰ï¼Œå¯åœ¨æ‰«æå‰å¿«é€Ÿåˆ¤å®šæ•°æ®å—æ˜¯å¦å‘½ä¸­æŸ¥è¯¢æ¡ä»¶ï¼Œä»¥è·³è¿‡ç»å¤§å¤šæ•°æ— å…³æ•°æ®ã€‚</li>
<li>Pipeline ä¸å‘é‡åŒ–æ‰§è¡Œæ¨¡å‹ï¼šDoris å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU å¹¶è¡Œå’Œå†…å­˜çš„å±€éƒ¨æ€§ï¼Œåœ¨æ‰§è¡Œé˜¶æ®µæå‡ç®—å­ååä¸æŸ¥è¯¢å¹¶å‘åº¦ï¼Œä»æ ¹æœ¬ä¸Šç¡®ä¿æ··åˆæ£€ç´¢çš„é«˜æ•ˆæ‰§è¡Œã€‚</li>
</ul>
<h3 data-id="heading-10">6.2 è™šæ‹Ÿåˆ—æœºåˆ¶</h3>
<p>åœ¨ä¼ ç»Ÿæ¶æ„ä¸­ï¼Œæ··åˆæœç´¢ä¸­çš„æ–‡æœ¬æœç´¢æ‰“åˆ†å‡½æ•°å’Œå‘é‡æœç´¢ç›¸ä¼¼åº¦è®¡ç®—å‡½æ•°ä¼šåœ¨ä¸Šå±‚èšåˆèŠ‚ç‚¹å’Œä¸‹å±‚æ‰«æèŠ‚ç‚¹é‡å¤è®¡ç®—ï¼Œ<strong>è€Œåœ¨ Doris 4.0 ä¸­åˆ›æ–°æ€§çš„å¼•å…¥è™šæ‹Ÿåˆ—æœºåˆ¶</strong>ï¼Œä¼˜åŒ–äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒFE è§„åˆ’æ—¶å°†æ‰“åˆ†ä»¥åŠè·ç¦»è®¡ç®—ç­‰å‡½æ•°æ˜ å°„ä¸ºè™šæ‹Ÿåˆ—ï¼Œå¹¶å°†è™šæ‹Ÿåˆ—çš„è®¡ç®—ä¸‹æ¨åˆ°æ‰«æèŠ‚ç‚¹ã€‚æ‰«æèŠ‚ç‚¹åœ¨ç´¢å¼•è¿‡æ»¤é˜¶æ®µç›´æ¥è®¡ç®—è¿™äº›è™šæ‹Ÿåˆ—ç»“æœï¼Œå¹¶å¡«å……åˆ°æœ€ç»ˆç»“æœä¸­ã€‚åœ¨è¯¥è¿‡ç¨‹ä¸­ï¼Œä¸Šå±‚ä»…éœ€åšç»“æœèåˆä¸æ’åºï¼Œæ˜¾è‘—é™ä½ CPU æ¶ˆè€—ä¸æ•°æ®ä¼ è¾“ã€‚</p>
<h3 data-id="heading-11">6.3 TopN å»¶è¿Ÿç‰©åŒ–</h3>
<p>æ–‡æœ¬æœç´¢æ‰“åˆ†å‡½æ•°å’Œå‘é‡æœç´¢ç›¸ä¼¼åº¦è®¡ç®—å‡½æ•°éƒ½æ˜¯<code>SELECT yyy FROM tableX ORDER BY xxx ASC/DESC LIMIT N</code> è¿™ç§å…¸å‹çš„ TopN æŸ¥è¯¢æ¨¡å¼ï¼Œå½“æ•°æ®è§„æ¨¡åºå¤§æ—¶ï¼Œä¼ ç»Ÿæ‰§è¡Œæ–¹å¼éœ€å¯¹å…¨è¡¨æ•°æ®è¿›è¡Œæ‰«æå¹¶æ’åºï¼Œè¿™ä¼šå¯¼è‡´å¤§é‡ä¸å¿…è¦çš„æ•°æ®è¯»å–ï¼Œå¼•å‘è¯»æ”¾å¤§é—®é¢˜ã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œ<strong>Doris å¼•å…¥å»¶è¿Ÿç‰©åŒ–æœºåˆ¶ï¼Œå°† TopN æŸ¥è¯¢æ‹†è§£ä¸ºä¸¤é˜¶æ®µé«˜æ•ˆæ‰§è¡Œ</strong>ï¼šç¬¬ä¸€é˜¶æ®µä»…è¯»å–æ’åºå­—æ®µï¼ˆcolumnAï¼‰ä¸ç”¨äºå®šä½æ•°æ®çš„ä¸»é”® / è¡Œæ ‡è¯†ï¼Œé€šè¿‡æ’åºå¿«é€Ÿç­›é€‰å‡ºç¬¦åˆ <code>LIMIT N</code> æ¡ä»¶çš„ç›®æ ‡è¡Œï¼›ç¬¬äºŒé˜¶æ®µå†åŸºäºè¡Œæ ‡è¯†ç²¾å‡†è¯»å–ç›®æ ‡è¡Œçš„æ‰€æœ‰åˆ—æ•°æ®ã€‚<strong>è¯¥æ–¹æ¡ˆèƒ½å¤§å¹…å‰Šå‡éå¿…è¦åˆ—çš„è¯»å–é‡ï¼Œåœ¨å®½è¡¨å° <code>LIMIT</code> åœºæ™¯ä¸‹ï¼ŒTopN æŸ¥è¯¢çš„æ‰§è¡Œæ•ˆç‡æœ‰æ•°åå€çš„æå‡</strong>ã€‚</p>
<h2 data-id="heading-12">7. æœ€ä½³å®è·µ</h2>
<p>ä¸ºäº†éªŒè¯ Apache Doris åœ¨çœŸå®ä¸šåŠ¡æ•°æ®ä¸Šçš„æ··åˆæœç´¢æ€§èƒ½ï¼Œæˆ‘ä»¬åŸºäºå…¬å¼€çš„ Hacker News æ•°æ®é›†è¿›è¡Œäº†æ€§èƒ½æµ‹è¯•ã€‚è¯¥æ•°æ®é›†æ¶µç›–å¤šç»´ã€æ–‡æœ¬å’Œå‘é‡åˆ†æä¸‰ç§ç±»å‹ï¼Œæ˜¯æ£€éªŒ Doris HSAP ç»Ÿä¸€å¼•æ“ç‰¹æ€§çš„æƒå¨æ ·æœ¬ã€‚</p>
<p><strong>æµ‹è¯•æ–¹å¼</strong></p>
<p>åœ¨ AWS ç¯å¢ƒæ„å»ºä¸€ä¸ªå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä»æ•°æ®åŠ è½½åˆ° RRF èåˆæŸ¥è¯¢ï¼Œå®Œæ•´éªŒè¯ Doris åœ¨è¯­ä¹‰æœç´¢ã€æ–‡æœ¬æœç´¢ä¸ç»“æ„åŒ–è¿‡æ»¤ä¸‰åˆä¸€åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<p><strong>ç¡¬ä»¶ç¯å¢ƒ</strong></p>
<ul>
<li>AWS EC2 å®ä¾‹ï¼š<code>m6i.8xlarge</code>ï¼ˆ32 vCPUï¼Œ128 GiB å†…å­˜ï¼‰</li>
<li>å•èŠ‚ç‚¹éƒ¨ç½² Apache Doris 4.0.1 ç‰ˆæœ¬</li>
</ul>
<p><strong>æ•°æ®é›†</strong></p>
<ul>
<li>æ•°æ®æºï¼šHacker News å…¬å¼€æ•°æ®é›†</li>
<li>æ•°æ®è§„æ¨¡ï¼š2874 ä¸‡æ¡è®°å½•</li>
<li>å‘é‡ç»´åº¦ï¼š384 ç»´ï¼ˆç”± <em>all-MiniLM-L6-v2</em> æ¨¡å‹ç”Ÿæˆï¼‰</li>
<li>å­—æ®µç±»å‹ä¸¾ä¾‹ï¼šæ–‡æœ¬ï¼ˆ<code>text</code>ï¼Œ <code>title</code>ï¼‰ã€ç»“æ„åŒ–ï¼ˆ<code>time</code>ï¼Œ <code>post_score</code>ï¼‰ã€å‘é‡ï¼ˆ<code>vector</code>ï¼‰</li>
</ul>
<h3 data-id="heading-13">7.1 å»ºè¡¨ä¸ç´¢å¼•è®¾è®¡</h3>
<p>Doris å…è®¸åœ¨åŒä¸€å¼ è¡¨ä¸­å®šä¹‰å€’æ’ç´¢å¼•ä¸å‘é‡ç´¢å¼•ï¼Œä»è€Œå®ç°â€œæ–‡æœ¬ + å‘é‡ + ç»“æ„åŒ–â€æŸ¥è¯¢çš„æ— ç¼ç»“åˆã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> hackernews (
  id           <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  text         STRING,
  title        STRING,
  vector       <span class="hljs-keyword">ARRAY</span><span class="hljs-operator">&lt;</span><span class="hljs-type">FLOAT</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-type">time</span>         DATETIME,
  post_score   <span class="hljs-type">INT</span>,
  dead         TINYINT,
  deleted      TINYINT,
  INDEX ann_vector (`vector`) <span class="hljs-keyword">USING</span> ANN PROPERTIES (
    "index_type"<span class="hljs-operator">=</span>"hnsw",
    "metric_type"<span class="hljs-operator">=</span>"l2_distance",
    "dim"<span class="hljs-operator">=</span>"384",
    "quantizer"<span class="hljs-operator">=</span>"flat",
    "ef_construction"<span class="hljs-operator">=</span>"512"
  ),
  INDEX text_idx (`text`) <span class="hljs-keyword">USING</span> INVERTED PROPERTIES("parser"<span class="hljs-operator">=</span>"english", "support_phrase"<span class="hljs-operator">=</span>"true"),
  INDEX title_idx (`title`) <span class="hljs-keyword">USING</span> INVERTED PROPERTIES("parser"<span class="hljs-operator">=</span>"english", "support_phrase"<span class="hljs-operator">=</span>"true")
)
ENGINE<span class="hljs-operator">=</span>OLAP
DUPLICATE KEY(`id`)
DISTRIBUTED <span class="hljs-keyword">BY</span> HASH(`id`) BUCKETS <span class="hljs-number">4</span>
PROPERTIES("replication_num"<span class="hljs-operator">=</span>"1");
</code></pre>
<ul>
<li><code>text</code>ï¼Œ <code>title</code> å­—æ®µç”¨äºå…¨æ–‡æœç´¢ï¼Œåˆ›å»ºè‹±æ–‡åˆ†è¯ç±»å‹çš„å€’æ’ç´¢å¼•</li>
<li><code>vector</code> å­—æ®µç”¨äº ANN æœç´¢ï¼Œåˆ›å»ºå‘é‡ç´¢å¼•
<ul>
<li><code>"index_type"="hnsw"</code>ï¼šé‡‡ç”¨ HNSW ç®—æ³•ã€‚</li>
<li><code>"dim"="384"</code>ï¼šå¿…é¡»ä¸ <em>all-MiniLM-L6-v2</em> æ¨¡å‹è¾“å‡ºç»´åº¦ä¸¥æ ¼ä¸€è‡´ã€‚</li>
<li><code>"quantizer"="flat"</code>ï¼šæŒ‡å®šä½¿ç”¨ <code>flat</code>ï¼ˆæµ®ç‚¹ï¼‰è¿›è¡Œé‡åŒ–ï¼Œç¡®ä¿äº†æœ€é«˜çš„å¬å›ç²¾åº¦ã€‚åœ¨å¯¹å†…å­˜å ç”¨æ›´æ•æ„Ÿçš„åœºæ™¯ä¸‹ï¼Œå¯æ›¿æ¢ä¸º <code>sq8</code>ï¼ˆæ ‡é‡é‡åŒ–ï¼‰ã€‚</li>
<li><code>"ef_construction"="512"</code>ï¼šåœ¨ç´¢å¼•æ„å»ºé˜¶æ®µè®¾ç½®è¾ƒé«˜çš„æœç´¢ä¸Šç•Œï¼ˆ512ï¼‰ï¼Œæ„å‘³ç€åœ¨æ„å»ºæ—¶æŠ•å…¥æ›´å¤šèµ„æºï¼Œä»¥å»ºç«‹ä¸€ä¸ªè¿æ¥æ›´å……åˆ†ã€è´¨é‡æ›´é«˜çš„å›¾ç»“æ„ï¼Œä»è€Œä¸ºåç»­æŸ¥è¯¢æä¾›æ›´é«˜çš„å¬å›ç‡ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-14">7.2 æ•°æ®å¯¼å…¥</h3>
<p>ä½¿ç”¨ Doris  <code>INSERT INTO ... FROM local()</code> åŠŸèƒ½ï¼Œç›´æ¥ä»æœ¬åœ°ç£ç›˜åŠ è½½ Parquet æ–‡ä»¶ï¼Œå®ç°æ•°æ®å¯¼å…¥ã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> hackernews
<span class="hljs-keyword">SELECT</span>
  id,
  doc_id,
  `text`,
  `vector`,
  <span class="hljs-built_in">CAST</span>(`node_info` <span class="hljs-keyword">AS</span> JSON) <span class="hljs-keyword">AS</span> nodeinfo,
  metadata,
  <span class="hljs-built_in">CAST</span>(`type` <span class="hljs-keyword">AS</span> TINYINT),
  `<span class="hljs-keyword">by</span>`,
  `<span class="hljs-type">time</span>`,
  `title`,
  post_score,
  <span class="hljs-built_in">CAST</span>(`dead` <span class="hljs-keyword">AS</span> TINYINT),
  <span class="hljs-built_in">CAST</span>(`deleted` <span class="hljs-keyword">AS</span> TINYINT),
  `length`
<span class="hljs-keyword">FROM</span> <span class="hljs-keyword">local</span>(
  "file_path" <span class="hljs-operator">=</span> "hackernews_part_1_of_1.parquet",
  "backend_id" <span class="hljs-operator">=</span> "1762257097281", <span class="hljs-comment">-- éœ€æ›¿æ¢ä¸ºå®é™…çš„ BE èŠ‚ç‚¹ ID</span>
  "format" <span class="hljs-operator">=</span> "parquet"
);
</code></pre>
<h3 data-id="heading-15">7.3 RRF èåˆæŸ¥è¯¢</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€æ®µ Doris é€šè¿‡ SQL å®ç° RRF ç®—æ³•ï¼Œå°†æ–‡æœ¬æœç´¢å’Œå‘é‡æœç´¢çš„ç»“æœè¿›è¡Œèåˆçš„ç¤ºä¾‹æŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">WITH</span>
  text_raw <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, score() <span class="hljs-keyword">AS</span> bm25
      <span class="hljs-keyword">FROM</span> hackernews
      <span class="hljs-keyword">WHERE</span> (`text` MATCH_PHRASE <span class="hljs-string">'hybird search'</span> 
             <span class="hljs-keyword">OR</span> `title` MATCH_PHRASE <span class="hljs-string">'hybird search'</span>)
        <span class="hljs-keyword">AND</span> dead <span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">AND</span> deleted <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> score() <span class="hljs-keyword">DESC</span>
      LIMIT <span class="hljs-number">1000</span>
  ),
  vec_raw <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, l2_distance_approximate(`vector`, [<span class="hljs-number">0.12</span>, <span class="hljs-number">0.08</span>, ...]) <span class="hljs-keyword">AS</span> dist
      <span class="hljs-keyword">FROM</span> hackernews
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist <span class="hljs-keyword">ASC</span>
      LIMIT <span class="hljs-number">1000</span>
  ),
  text_rank <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> bm25 <span class="hljs-keyword">DESC</span>) <span class="hljs-keyword">AS</span> r_text <span class="hljs-keyword">FROM</span> text_raw
  ),
  vec_rank <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist <span class="hljs-keyword">ASC</span>) <span class="hljs-keyword">AS</span> r_vec <span class="hljs-keyword">FROM</span> vec_raw
  ),
  fused <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">SUM</span>(<span class="hljs-number">1.0</span><span class="hljs-operator">/</span>(<span class="hljs-number">60</span> <span class="hljs-operator">+</span> rank)) <span class="hljs-keyword">AS</span> rrf_score
      <span class="hljs-keyword">FROM</span> (
          <span class="hljs-keyword">SELECT</span> id, r_text <span class="hljs-keyword">AS</span> rank <span class="hljs-keyword">FROM</span> text_rank
          <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
          <span class="hljs-keyword">SELECT</span> id, r_vec  <span class="hljs-keyword">AS</span> rank <span class="hljs-keyword">FROM</span> vec_rank
      ) t
      <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rrf_score <span class="hljs-keyword">DESC</span>
      LIMIT <span class="hljs-number">20</span>
  )
<span class="hljs-keyword">SELECT</span> f.id, h.title, h.text, f.rrf_score
<span class="hljs-keyword">FROM</span> fused f <span class="hljs-keyword">JOIN</span> hackernews h <span class="hljs-keyword">ON</span> h.id <span class="hljs-operator">=</span> f.id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> f.rrf_score <span class="hljs-keyword">DESC</span>;
</code></pre>
<p>æ‰§è¡Œæµç¨‹è¯´æ˜ï¼š</p>
<ol>
<li>å¹¶è¡Œå¬å›ï¼šå€’æ’ç´¢å¼•ä¸ ANN ç´¢å¼•åˆ†åˆ«æ‰§è¡Œ BM25 ä¸ L2 è·ç¦»å¬å›</li>
<li>å±€éƒ¨æ’åºï¼šå„è‡ªè®¡ç®—å†…éƒ¨æ’å</li>
<li>èåˆæ‰“åˆ†ï¼šæ‰§è¡Œ RRF å…¬å¼ <code>1/(k+rank)</code>ï¼Œèåˆæ–‡æœ¬ä¸è¯­ä¹‰ç»“æœ</li>
<li>æœ€ç»ˆå›è¡¨ï¼šä»…å¯¹ Top-K ç»“æœ JOIN åŸè¡¨è·å–æ­£æ–‡ã€‚</li>
</ol>
<h3 data-id="heading-16">7.4  å®é™…æŸ¥è¯¢æµ‹è¯•</h3>
<p>åœ¨ç›¸åŒçš„ç¯å¢ƒä¸‹ï¼Œæ­£å¼å¯¹ Apache Doris çš„æ··åˆæœç´¢æ€§èƒ½è¿›è¡Œäº†æµ‹è¯•ã€‚åœ¨è¿™ä¸€æµ‹è¯•ä¸­ï¼Œä½¿ç”¨äº† <code>hybrid search</code> ä½œä¸ºå…³é”®è¯ï¼Œè¿›è¡Œäº†æ–‡æœ¬å¬å›+å‘é‡å¬å›+ RRF èåˆã€‚ç»“æœæ˜¾ç¤ºï¼Œ<strong>æŸ¥è¯¢å»¶è¿Ÿä»…ä¸º 65.83 æ¯«ç§’</strong>ï¼Œä½“ç°äº†ç³»ç»Ÿå¯¹å¤æ‚æŸ¥è¯¢çš„é«˜æ•ˆå¤„ç†èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">==================================================================================================================================
id       | title                                              |  rrf_score | text_snippet                                           
----------------------------------------------------------------------------------------------------------------------------------
845652   | Google Bing Hybrid Search - badabingle             |   0.026010 | beendonebefore:  thenewguy: Sure it steals google an...
2199216  |                                                    |   0.017510 | citricsquid:FYI DDG just uses the bing API and then ...
2593213  | Ask HN:Why there's no Regular Expression search... |   0.016390 | bluegene: What's keeping Google/other search engines...
6931880  | Introducing Advanced Search                        |   0.016390 | mecredis:                                              
3038364  | Bing Using Adaptive Search                         |   0.016120 | brandignity:                                           
1727739  |                                                    |   0.016120 | pavs:I think the name is the only thing that is wron...
18453472 | AdaSearch: A Successive Elimination Approach to... |   0.015870 | jonbaer:                                               
1727788  |                                                    |   0.015870 | epi0Bauqu:It's a hybrid engine. I do my own crawling...
2390509  | Reinventing the classic search model               |   0.015620 | justnearme:                                            
2199325  |                                                    |   0.015380 | epi0Bauqu:FYI: no, actually we are a hybrid search e...
26328758 | Brave buys a search engine, promises no trackin... |   0.015150 | samizdis:  jerf: &amp;quot;The service will, eventually,...
325246   | Future of Search Wonâ€™t Be Incremental              |   0.015150 | qhoxie:                                                
3067986  | Concept-Based Search - Enter the Interllective     |   0.014920 | hendler:                                               
3709259  | Google Search: Change is Coming                    |   0.014920 | Steveism:  victork2: Well Google, a word of warning ...
10009267 | Hulbee â€“ A Safe, Smart, Innovative Search Engine   |   0.014700 | doener:  captaincrunch: My previous comment didn&amp;#x2...
1119177  | Elastic Search - You Know, for Search              |   0.014700 | yungchin:                                              
4485350  |                                                    |   0.014490 | ChuckMcM:Heh, perhaps.&lt;p&gt;DDG is a great product, we ...
23476454 |                                                    |   0.014490 | Multicomp:AstroGrep! ronjouch: BareGrep! For live&amp;#x...
7381459  | HTML5 Incremental Search                           |   0.014280 | ultimatedelman:                                        
4485488  |                                                    |   0.014280 | epi0Bauqu:Hmm, we're (DDG) not a search engine? Come...
==================================================================================================================================
</code></pre>
<h2 data-id="heading-17">ç»“æŸè¯­</h2>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒApache Doris åœ¨å¤æ‚ã€é«˜ç»´çš„æ··åˆæœç´¢åœºæ™¯ä¸­çš„ä¼˜å¼‚è¡¨ç°ï¼Œå……åˆ†è¯æ˜å…¶ä»¥åœ¨ AI æ—¶ä»£æ•°æ®åŸºç¡€è®¾æ–½è§£å†³æ–¹æ¡ˆä¸­å æ®ä¸€å¸­ä¹‹åœ°ã€‚å…¶ç»Ÿä¸€çš„ HSAP æ¶æ„ä»æ ¹æœ¬ä¸Šæ»¡è¶³äº† Agent å¯¹å¤šæ¨¡æ€æ•°æ®åˆ†æï¼Œåº”å…·å¤‡å…¨é¢æ€§ã€è¯­ä¹‰çš„ç²¾ç¡®æ€§ä»¥åŠæµç¨‹çš„å¯æ§æ€§çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸€ï¼‰ï¼šå¼€å§‹ä½¿ç”¨Codex Cli]]></title>    <link>https://juejin.cn/post/7584987267293184046</link>    <guid>https://juejin.cn/post/7584987267293184046</guid>    <pubDate>2025-12-18T08:11:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584987267293184046" data-draft-id="7584810656383057929" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸€ï¼‰ï¼šå¼€å§‹ä½¿ç”¨Codex Cli"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T08:11:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸€ï¼‰ï¼šå¼€å§‹ä½¿ç”¨Codex Cli
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:11:25.000Z" title="Thu Dec 18 2025 08:11:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘å®è·µäº†Codex Cliç¼–ç¨‹ï¼ŒæŠŠä¸€äº›ä½¿ç”¨ä½“ä¼šç§¯ç´¯ä¸‹æ¥ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸Šè½¦Codex</h2>
<p>åœ¨å›½å†…æŸé±¼äºŒæ‰‹å¹³å°æœç´¢"codexæ‹¼è½¦â€œå¯ä»¥èŠ±åå‡ å—é’±ä½“éªŒChatGPTæœ€æ–°çš„æ¨¡å‹ï¼ŒåŒæ—¶åˆ©ç”¨æœ€æ–°çš„gpt-5.1-codex-max highå¼€å¯Codex Cliä¹‹æ—…ã€‚</p>
<h2 data-id="heading-1">äºŒã€Codex Cliæ˜¯ä»€ä¹ˆ</h2>
<p>Codex Cliæ˜¯ä¸€ä¸ªç»ˆç«¯ç¼–ç¨‹å·¥å…·ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åœ¨ç»ˆç«¯å®Œæˆçš„ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€å®‰è£…Codex Cli</h2>
<p>è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.openai.com%2Fcodex%2Fcli%2F" target="_blank" title="https://developers.openai.com/codex/cli/" ref="nofollow noopener noreferrer">å®˜ç½‘</a> å®‰è£…ï¼ŒæŒ‰ç…§æ­¥éª¤å®‰è£…å³å¯ã€‚</p>
<h2 data-id="heading-3">å››ã€äº†è§£ç»ˆç«¯çš„æŒ‡ä»¤</h2>
<p>Macç”µè„‘ä¸Šç»ˆç«¯å°±æ˜¯â€ç»ˆç«¯.appâ€œï¼Œç»ˆç«¯çš„ç®€å•ä½¿ç”¨å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„è¡¨æ ¼ï¼š</p>


















































<table><thead><tr><th align="left">ç›®æ ‡åœºæ™¯</th><th align="left">å‘½ä»¤ç¤ºä¾‹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">è¿”å›ç”¨æˆ·ä¸»ç›®å½• (<code>/Users/ä½ çš„ç”¨æˆ·å</code>)</td><td align="left"><code>cd</code> æˆ– <code>cd ~</code></td><td align="left">æœ€ç®€å•çš„å‘½ä»¤ï¼Œè®©ä½ è¿…é€Ÿ"å›å®¶"ã€‚</td></tr><tr><td align="left">è¿›å…¥å½“å‰ç›®å½•çš„æŸä¸ªå­æ–‡ä»¶å¤¹</td><td align="left"><code>cd Documents</code></td><td align="left">ä½¿ç”¨<strong>ç›¸å¯¹è·¯å¾„</strong>ï¼Œè¿›å…¥å½“å‰ç›®å½•ä¸‹çš„ "Documents" æ–‡ä»¶å¤¹ã€‚</td></tr><tr><td align="left">è¿›å…¥ä»»æ„æŒ‡å®šè·¯å¾„</td><td align="left"><code>cd /Users/ä½ çš„ç”¨æˆ·å/Desktop</code></td><td align="left">ä½¿ç”¨<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œå¯ä»¥ä»ä»»ä½•åœ°æ–¹ç›´æ¥è·³è½¬åˆ°ç›®æ ‡è·¯å¾„ã€‚</td></tr><tr><td align="left">è¿”å›ä¸Šä¸€çº§ç›®å½•</td><td align="left"><code>cd ..</code></td><td align="left">ä¸€ä¸ªç‚¹ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸¤ä¸ªç‚¹ä»£è¡¨ä¸Šçº§ç›®å½•ã€‚</td></tr><tr><td align="left">è¿”å›ä¸Šä¸¤çº§ç›®å½•</td><td align="left"><code>cd ../..</code></td><td align="left">è¿”å›ä¸Šä¸¤çº§ç›®å½•ã€‚</td></tr><tr><td align="left">å›åˆ°ä¹‹å‰çš„ç›®å½•</td><td align="left"><code>cd -</code></td><td align="left">åœ¨ä¸¤ä¸ªç›®å½•ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œéå¸¸æ–¹ä¾¿ã€‚</td></tr><tr><td align="left">Tabé”®è¡¥å…¨</td><td align="left">è¾“å…¥éƒ¨åˆ†è·¯å¾„åæŒ‰Tabé”®</td><td align="left">è‡ªåŠ¨è¡¥å…¨è·¯å¾„æˆ–æ–‡ä»¶åï¼ŒæŒ‰ä¸¤æ¬¡Tabå¯åˆ—å‡ºæ‰€æœ‰åŒ¹é…é¡¹ã€‚</td></tr><tr><td align="left">æŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹</td><td align="left"><code>ls</code></td><td align="left">åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</td></tr></tbody></table>
<p>PS:å¦‚æœå·²ç»è¿›å…¥äº†Codexï¼Œå¯ä»¥åœ¨å‰é¢åŠ ï¼ä½¿ç”¨ç»ˆç«¯çš„æŒ‡ä»¤ã€‚</p>
<h2 data-id="heading-4">äº”ã€äº†è§£Codexçš„æ–œæ å‘½ä»¤</h2>
<p><strong>Codex CLI å†…ç½®æ–œæ å‘½ä»¤ä¸€è§ˆ</strong></p>
<p>ä¸‹é¢è¿™äº›å‘½ä»¤éƒ½è¦åœ¨ <strong>å·²è¿›å…¥ Codex äº¤äº’ç•Œé¢å</strong> ä½¿ç”¨ï¼š</p>
<ul>
<li>
<p><strong>/model</strong></p>
<p>åˆ‡æ¢å½“å‰ä½¿ç”¨çš„æ¨¡å‹å’Œæ¨ç†å¼ºåº¦ï¼Œæ¯”å¦‚åœ¨ gpt-5-codex å’Œ gpt-5 ä¹‹é—´åˆ‡ã€‚</p>
</li>
<li>
<p><strong>/approvals</strong></p>
<p>è®¾ç½® Codex çš„æˆæƒæ¨¡å¼ï¼ˆAuto / Read Only / Full Accessï¼‰ï¼Œæ§åˆ¶èƒ½å¦è‡ªåŠ¨æ”¹æ–‡ä»¶ã€è·‘å‘½ä»¤ç­‰ã€‚</p>
</li>
<li>
<p><strong>/review</strong></p>
<p>è®© Codex å®¡æŸ¥å½“å‰å·¥ä½œç›®å½•ä¸­çš„ä»£ç æ”¹åŠ¨ï¼ˆæœ¬åœ° git diffï¼‰ï¼Œæ‰¾é—®é¢˜ã€æå»ºè®®ã€‚</p>
</li>
<li>
<p><strong>/new</strong></p>
<p>åœ¨åŒä¸€ä¸ª Codex è¿›ç¨‹é‡Œå¼€å¯ä¸€æ®µæ–°çš„å¯¹è¯ï¼Œæ¸…ç©ºä¸Šä¸‹æ–‡ä½†è¿˜åœ¨å½“å‰ä»£ç ä»“åº“ä¸‹ç»§ç»­å·¥ä½œã€‚</p>
</li>
<li>
<p><strong>/init</strong></p>
<p>åœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª AGENTS.md æ¨¡æ¿æ–‡ä»¶ï¼Œç”¨æ¥å†™ç»™ Codex çš„â€œé¡¹ç›®è¯´æ˜ä¹¦â€ï¼Œé•¿æœŸæŒ‡å¯¼å®ƒæ€ä¹ˆå¹²æ´»ã€‚</p>
</li>
<li>
<p><strong>/compact</strong></p>
<p>æŠŠå½“å‰å¯¹è¯å†…å®¹å‹ç¼©æˆæ€»ç»“ï¼Œé‡Šæ”¾ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œé˜²æ­¢â€œä¸Šä¸‹æ–‡çˆ†æ‰â€ã€‚</p>
</li>
<li>
<p><strong>/undo</strong></p>
<p>æ’¤é”€ Codex ä¸Šä¸€æ¬¡æ“ä½œï¼ˆåŒ…æ‹¬æ–‡ä»¶ä¿®æ”¹ / å‘½ä»¤æ‰§è¡Œï¼‰ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p><strong>/diff</strong></p>
<p>æŸ¥çœ‹å½“å‰ git diffï¼ˆåŒ…æ‹¬æœªè·Ÿè¸ªæ–‡ä»¶ï¼‰ï¼Œæ–¹ä¾¿ä½ åœ¨æäº¤å‰æ£€æŸ¥ Codex æ”¹äº†ä»€ä¹ˆã€‚</p>
</li>
<li>
<p><strong>/mention</strong></p>
<p>æŠŠæŸä¸ªæ–‡ä»¶/ç›®å½•â€œç‚¹åâ€åŠ å…¥ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">/mention src/lib/api.ts
</code></pre>
</li>
</ul>
<p>ä¹‹åå®ƒä¼šé‡ç‚¹å‚è€ƒè¿™ä¸ªæ–‡ä»¶ã€‚</p>
<ul>
<li>
<p><strong>/status</strong></p>
<p>æŸ¥çœ‹å½“å‰ä¼šè¯çŠ¶æ€ï¼šæ­£åœ¨ç”¨å“ªä¸ªæ¨¡å‹ã€å®¡æ‰¹ç­–ç•¥ã€å¯å†™ç›®å½•ã€token ä½¿ç”¨æƒ…å†µç­‰ã€‚</p>
</li>
<li>
<p><strong>/mcp</strong></p>
<p>åˆ—å‡ºå·²é…ç½®çš„ MCPï¼ˆModel Context Protocolï¼‰å·¥å…·ï¼Œæ¯”å¦‚ä½ æ¥äº†æµè§ˆå™¨ã€æ•°æ®åº“ä¹‹ç±»çš„é¢å¤–å·¥å…·æ—¶ï¼Œå¯ä»¥çœ‹ Codex å½“å‰èƒ½è°ƒç”¨å“ªäº›ã€‚</p>
</li>
<li>
<p><strong>/prompts</strong></p>
<p>è‡ªå®šä¹‰äº†promptså¯ä»¥è§¦å‘</p>
</li>
<li>
<p><strong>/skills</strong></p>
<p>è‡ªå®šä¹‰äº†skillså¯ä»¥è§¦å‘</p>
</li>
<li>
<p><strong>/logout</strong></p>
<p>é€€å‡º Codex ç™»å½•çŠ¶æ€ï¼Œæ¸…é™¤æœ¬æœºä¿å­˜çš„è®¤è¯ä¿¡æ¯ï¼ˆå…±äº«ç”µè„‘ä¸ŠæŒºæœ‰ç”¨ï¼‰ã€‚</p>
</li>
<li>
<p><strong>/quit</strong></p>
<p>é€€å‡º Codex CLIï¼Œç»“æŸå½“å‰ä¼šè¯ã€‚</p>
</li>
<li>
<p><strong>/exit</strong></p>
<p>å’Œ /quit ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€€å‡º Codex çš„åˆ«åã€‚</p>
</li>
<li>
<p><strong>/feedback</strong></p>
<p>æŠŠæ—¥å¿—å‘é€ç»™ Codex ç»´æŠ¤å›¢é˜Ÿï¼Œç”¨æ¥æŠ¥ bug æˆ–åé¦ˆé—®é¢˜ã€‚</p>
</li>
</ul>
<h2 data-id="heading-5">å…­ã€åˆå§‹åŒ–é¡¹ç›®</h2>
<p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œè¾“å…¥<code>codex</code>å›è½¦ã€‚ç„¶åè¾“å…¥æ–œæ å‘½ä»¤<code>/init</code>,ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œé¡¹ç›®çš„æ ¹ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶<code>AGENTS.md</code>ï¼Œè¿™æ˜¯ä¸€ä»½Markdownæ–‡ä»¶ï¼Œæ˜¯Codexæ€»ç»“çš„ä¸€äº›é¡¹ç›®è§„èŒƒï¼Œæ˜¯æ‰€æœ‰Agentè¯»å–é¡¹ç›®æ—¶ç”Ÿæˆã€åˆ›å»ºã€ä¿®æ”¹çš„åŸºç¡€è§„èŒƒå‡†ç»³ã€‚è‡ªå·±ä¹Ÿå¯ä»¥å¾€é‡Œé¢æ·»åŠ ï¼Œåªè¦æ˜¯é¡¹ç›®çš„è§„èŒƒéƒ½å¯ä»¥åŠ åœ¨é‡Œé¢ï¼Œè®©æ‰€æœ‰çš„Agentéƒ½éµå¾ªè§„åˆ™ã€‚</p>
<p><code>AGENTS.md</code>ä¸éœ€è¦åŠ å…¥å¿½ç•¥ï¼Œä¸Šä¼ åˆ°ä»“åº“ç®¡ç†ã€‚</p>
<h2 data-id="heading-6">ä¸ƒã€é€‰æ‹©æ¨¡å‹</h2>
<p>è¾“å…¥æ–œæ å‘½ä»¤<code>/model</code>, é€‰æ‹©Codexä½¿ç”¨çš„æ¨¡å‹ï¼Œæˆ‘ç°åœ¨ä½¿ç”¨çš„æ˜¯<code>gpt-5.1-codex-max high</code>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€iOSã€‘å¦‚ä½•åœ¨ iOS 26 çš„UITabBarControllerä¸­ä½¿ç”¨è‡ªå®šä¹‰TabBar]]></title>    <link>https://juejin.cn/post/7584824891595997220</link>    <guid>https://juejin.cn/post/7584824891595997220</guid>    <pubDate>2025-12-18T08:19:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584824891595997220" data-draft-id="7584725529877168178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€iOSã€‘å¦‚ä½•åœ¨ iOS 26 çš„UITabBarControllerä¸­ä½¿ç”¨è‡ªå®šä¹‰TabBar"/> <meta itemprop="keywords" content="iOS,Swift,WWDC"/> <meta itemprop="datePublished" content="2025-12-18T08:19:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥äº†ä¸ªå¹³_24"/> <meta itemprop="url" content="https://juejin.cn/user/2559318802065390"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€iOSã€‘å¦‚ä½•åœ¨ iOS 26 çš„UITabBarControllerä¸­ä½¿ç”¨è‡ªå®šä¹‰TabBar
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2559318802065390/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥äº†ä¸ªå¹³_24
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:19:15.000Z" title="Thu Dec 18 2025 08:19:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Demoåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRogue24%2FClassicTabBarUsingDemo" target="_blank" title="https://github.com/Rogue24/ClassicTabBarUsingDemo" ref="nofollow noopener noreferrer">ClassicTabBarUsingDemo</a>ï¼ˆä¸»è¦å®ç°ä»£ç å¯æœç´¢â€œğŸ“Œâ€æŸ¥çœ‹ï¼‰</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eac2fb6e98fb420e9b20937a5eddae0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YGl5LqG5Liq5bmzXzI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652959&amp;x-signature=SXD4j2FO%2BLLvnfSZH8FSkhg%2BbbU%3D" width="25%" loading="lazy"/>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>è‹¹æœè‡ª iOS 26 èµ·å°±ä½¿ç”¨å…¨æ–°çš„UI --- Liquid Glassï¼Œå¯¼è‡´å¾ˆå¤šç³»ç»Ÿç»„ä»¶ä¹Ÿè¢«è¿«å¼ºåˆ¶ä½¿ç”¨ï¼Œé¦–å½“å…¶å†²å°±æ˜¯<code>UITabBarController</code>ï¼Œå¯¹äºå¾ˆå¤šå–œæ¬¢ä½¿ç”¨è‡ªå®šä¹‰TabBarçš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™å¾ˆæ˜¯æ— å¥ˆï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2253a3bda42145249248b8a09fab6e15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YGl5LqG5Liq5bmzXzI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652959&amp;x-signature=cwCfvzRPEoUvh5atR6q%2BWg%2Be5Xs%3D" width="50%" loading="lazy"/>
<ul>
<li><em>å¼ºè¡Œç»™ä½ å¥—ä¸ªç»ç’ƒç½©å­</em></li>
</ul>
<p>é‚£å¦‚ä½•åœ¨ <strong>iOS 26</strong> çš„<code>UITabBarController</code>ç»§ç»­ä½¿ç”¨è‡ªå®šä¹‰<code>TabBar</code>å‘¢ï¼Ÿè¿™é‡Œä»‹ç»ä¸€ä¸‹æˆ‘çš„æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">å®ç°æ–¹æ¡ˆ</h2>
<p>ç»è§‚å¯Ÿï¼Œä»¥å¾€<code>TabBar</code>çš„æ˜¾ç¤ºæ•ˆæœï¼Œä¸ªäººçŒœæµ‹ç³»ç»Ÿæ˜¯æŠŠ<code>TabBar</code>æ”¾åˆ°<strong>å½“å‰å­VC</strong>çš„viewä¸Šï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98f82b3c05e745c090063033d05da67d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YGl5LqG5Liq5bmzXzI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652959&amp;x-signature=jwx%2Bt%2B%2BLO%2BWb%2FfBVjHfxiQs0rOw%3D" width="50%" loading="lazy"/>
<p>æŒ‰ç…§è¿™ä¸ªæ€è·¯å¯ä»¥è¿™ä¹ˆå®ç°ï¼š</p>
<ol>
<li>é¦–å…ˆ<strong>è‡ªå®šä¹‰TabBar</strong>è¦ä½¿ç”¨<code>UIView</code>ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ç§è‡ªæ”¹é€ çš„<code>UITabBar</code>ï¼Œå¾—æ¢æˆ<code>UIView</code>äº†ï¼‰ï¼Œå¹¶ä¸”éšè—ç³»ç»ŸTabBarã€‚</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainTabBarController</span>: <span class="hljs-title class_">UITabBarController</span> {
    <span class="hljs-operator">......</span>
    
    <span class="hljs-comment">/// è‡ªå®šä¹‰TabBar</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> customTabBar <span class="hljs-operator">=</span> <span class="hljs-type">WLTabBar</span>()
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewWillAppear</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">animated</span>: <span class="hljs-type">Bool</span>) {
        <span class="hljs-keyword">super</span>.viewWillAppear(animated)
        <span class="hljs-comment">// éšè—ç³»ç»ŸTabBar</span>
        setTabBarHidden(<span class="hljs-literal">true</span>, animated: <span class="hljs-literal">false</span>)
    }
    
    <span class="hljs-operator">......</span>
}

</code></pre>
<ol start="2">
<li>åœ¨<code>TabBarController</code>åŠå…¶å­VCéƒ½åˆ›å»ºä¸€ä¸ªä¸“é—¨å­˜æ”¾è‡ªå®šä¹‰TabBarçš„å®¹å™¨ï¼Œä¸”å±‚çº§å¿…é¡»æ˜¯<strong>æœ€é¡¶å±‚</strong>ï¼ˆä¹‹åæ·»åŠ çš„å­è§†å›¾éƒ½å¾—æ’åˆ°<strong>TabBarå®¹å™¨</strong>çš„ä¸‹é¢ï¼‰ã€‚</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseViewController</span>: <span class="hljs-title class_">UIViewController</span> {
    <span class="hljs-comment">/// ä¸“é—¨å­˜æ”¾è‡ªå®šä¹‰TabBarçš„å®¹å™¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> tabBarContainer <span class="hljs-operator">=</span> <span class="hljs-type">TabBarContainer</span>()

    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        
        tabBarContainer.translatesAutoresizingMaskIntoConstraints <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
        view.addSubview(tabBarContainer)
        <span class="hljs-type">NSLayoutConstraint</span>.activate([
            tabBarContainer.leadingAnchor.constraint(equalTo: view.leadingAnchor),
            tabBarContainer.trailingAnchor.constraint(equalTo: view.trailingAnchor),
            tabBarContainer.bottomAnchor.constraint(equalTo: view.bottomAnchor),
            tabBarContainer.heightAnchor.constraint(equalToConstant: <span class="hljs-type">Env</span>.tabBarFullH) <span class="hljs-comment">// ä¸‹å·´+TabBaré«˜åº¦</span>
        ])
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLayoutSubviews</span>() {
        <span class="hljs-keyword">super</span>.viewDidLayoutSubviews()
        <span class="hljs-comment">// å±‚çº§å¿…é¡»æ˜¯æœ€é¡¶å±‚</span>
        view.bringSubviewToFront(tabBarContainer)
    }
    
    <span class="hljs-comment">// å°†è‡ªå®šä¹‰TabBaræ”¾åˆ°è‡ªå·±çš„TabBarå®¹å™¨ä¸Š</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">addTabBar</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tabBar</span>: <span class="hljs-type">UIView</span>) {
        tabBar.superview<span class="hljs-operator">?</span>.isUserInteractionEnabled <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
        tabBarContainer.addSubview(tabBar)
        tabBarContainer.isUserInteractionEnabled <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
    }
}
</code></pre>
<ol start="3">
<li>æœ€åï¼Œ<code>TabBarController</code>å½“å‰æ˜¾ç¤ºå“ªä¸ªå­VCï¼Œå°±æŠŠ<strong>è‡ªå®šä¹‰TabBar</strong>æ”¾åˆ°å¯¹åº”å­VCçš„<strong>TabBarå®¹å™¨</strong>ä¸Šï¼Œè¿™æ ·åˆ™ä¸ä¼šå½±å“<code>push</code>æˆ–<code>present</code>å…¶ä»–VCã€‚</li>
</ol>
<p>OKï¼Œå®Œäº‹äº†ã€‚</p>
<h2 data-id="heading-2">æ³¨æ„ç‚¹</h2>
<p>æ ¸å¿ƒå®ç°å°±æ˜¯ä»¥ä¸Š3ç‚¹ï¼Œæ¥ä¸‹æ¥è®²ä¸€ä¸‹æ³¨æ„ç‚¹ã€‚</p>
<p>ä¸Šé¢è¯´åˆ°ï¼Œ<code>TabBarController</code>ä¹Ÿå¾—åˆ›å»ºä¸€ä¸ª<strong>TabBarå®¹å™¨</strong>ï¼Œè¿™ä¸»è¦æ˜¯ç”¨æ¥åˆ‡æ¢å­VCçš„ï¼š</p>
<p><strong>åœ¨åˆ‡æ¢å­VCå‰ï¼Œè‡ªå®šä¹‰TabBarå¿…é¡»å…ˆæ”¾åˆ°TabBarControllerçš„TabBarå®¹å™¨ä¸Šï¼Œåˆ‡æ¢åå†æ”¾åˆ°ç›®æ ‡å­VCçš„TabBarå®¹å™¨ä¸Šã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>ä¸€èˆ¬å­VCçš„å†…å®¹éƒ½æ˜¯æ‡’åŠ è½½ï¼ˆçœ‹åˆ°æ‰æ„å»ºï¼‰ï¼Œå¦‚æœæ˜¯å¾ˆå¤æ‚çš„ç•Œé¢ï¼Œä¸å…ä¼šæœ‰å¡é¡¿çš„æƒ…å†µï¼Œå¦‚æœç›´æ¥æŠŠè‡ªå®šä¹‰TabBarä¸¢è¿‡å»ï¼ŒTabBarä¼šé—ªçƒä¸€ä¸‹ï¼Œæ•ˆæœä¸å¤ªå¥½ï¼›å¦å¤–è‡ª iOS 18 èµ·åˆ‡æ¢å­VCä¼šå¸¦æœ‰é»˜è®¤çš„ç³»ç»ŸåŠ¨ç”»ï¼Œå…¶åŠ¨ç”»ä½œç”¨äºå­VCçš„viewä¸Šï¼Œå³ä¾¿è¯¥å­VCæ—©å°±æ„å»ºå¥½ï¼Œç«‹é©¬è½¬ç§»TabBarä¹Ÿä¼šé—ªçƒä¸€ä¸‹ã€‚</p>
<p>å› æ­¤ä¸ªäººå»ºè®®å…ˆæŠŠ<strong>è‡ªå®šä¹‰TabBar</strong>æ”¾<code>TabBarController</code>çš„<strong>TabBarå®¹å™¨</strong>ä¸Šï¼ˆå±‚çº§åœ¨æ‰€æœ‰å­VCçš„viewä¹‹ä¸Šï¼‰ï¼Œå»¶æ—¶ä¸€ä¸‹ï¼ˆç¡®ä¿å­VCå®Œå…¨æ„å»ºå¥½ä¸”å·²å®Œå…¨æ˜¾ç¤ºï¼ŒåŒæ—¶é¿å…è¢«ç³»ç»ŸåŠ¨ç”»å½±å“ï¼‰å†æ”¾åˆ°ç›®æ ‡å­VCçš„<strong>TabBarå®¹å™¨</strong>ä¸Šï¼Œè¿™æ ·å°±èƒ½å®Œç¾å®ç°åˆ‡æ¢æ•ˆæœäº†ã€‚</p>
<p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// MARK: - æŒªåŠ¨TabBaråˆ°ç›®æ ‡å­VC</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">extension</span> <span class="hljs-title class_">MainTabBarController</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">moveTabBar</span>(<span class="hljs-params">from</span> <span class="hljs-params">sourceIdx</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">to</span> <span class="hljs-params">targetIdx</span>: <span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">guard</span> <span class="hljs-type">Env</span>.isUsingLiquidGlassUI <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        <span class="hljs-comment">// #1 å–æ¶ˆä¸Šä¸€æ¬¡çš„å»¶æ—¶æ“ä½œ</span>
        moveTabBarWorkItem<span class="hljs-operator">?</span>.cancel()
        moveTabBarWorkItem <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
        
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> viewControllers, viewControllers.count <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> {
            addTabBar(customTabBar)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-keyword">guard</span> sourceIdx <span class="hljs-operator">!=</span> targetIdx <span class="hljs-keyword">else</span> {
            _moveTabBar(to: targetIdx)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// #2 å¦‚æœã€Œå½“å‰å­VCã€ç°åœ¨ä¸æ˜¯å¤„äºæ ˆé¡¶ï¼Œå°±æŠŠtabBarç›´æ¥æŒªåˆ°ã€Œç›®æ ‡å­VCã€</span>
        <span class="hljs-keyword">let</span> sourceNavCtr <span class="hljs-operator">=</span> viewControllers[sourceIdx] <span class="hljs-keyword">as?</span> <span class="hljs-type">UINavigationController</span>
        <span class="hljs-keyword">if</span> (sourceNavCtr<span class="hljs-operator">?</span>.viewControllers.count <span class="hljs-operator">??</span> <span class="hljs-number">0</span>) <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span> {
            _moveTabBar(to: targetIdx)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// #3 èƒ½æ¥è¿™é‡Œè¯´æ˜ã€Œå½“å‰å­VCã€æ­£å¤„äºæ ˆé¡¶ï¼Œå¦‚æœã€Œç›®æ ‡å­VCã€æ­¤æ—¶ä¹Ÿå¤„äºæ ˆé¡¶ï¼Œå°±æŠŠtabBaræ”¾åˆ°å±‚çº§é¡¶éƒ¨ï¼ˆä¸å—ç³»ç»Ÿåˆ‡æ¢åŠ¨ç”»çš„å½±å“ï¼‰</span>
        <span class="hljs-keyword">let</span> targetNavCtr <span class="hljs-operator">=</span> viewControllers[targetIdx] <span class="hljs-keyword">as?</span> <span class="hljs-type">UINavigationController</span>
        <span class="hljs-keyword">if</span> (targetNavCtr<span class="hljs-operator">?</span>.viewControllers.count <span class="hljs-operator">??</span> <span class="hljs-number">0</span>) <span class="hljs-operator">==</span> <span class="hljs-number">1</span> {
            addTabBar(customTabBar)
        } <span class="hljs-keyword">else</span> {
            _moveTabBar(to: sourceIdx)
        }
        
        <span class="hljs-comment">// #3.1 å»¶è¿Ÿ0.5såå†æ”¾å…¥åˆ°ã€Œç›®æ ‡å­VCã€ï¼Œç»™VCæœ‰è¶³å¤Ÿæ—¶é—´å»åˆå§‹åŒ–å’Œæ˜¾ç¤ºï¼ˆå¯å®Œç¾å®ç°æ—§UIçš„æ•ˆæœï¼›ä¸­é€”åˆ‡æ¢ä¼šå–æ¶ˆè¿™ä¸ªå»¶æ—¶æ“ä½œ#1ï¼‰</span>
        moveTabBarWorkItem <span class="hljs-operator">=</span> <span class="hljs-type">Asyncs</span>.mainDelay(<span class="hljs-number">0.5</span>) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword">self</span>, <span class="hljs-keyword">self</span>.selectedIndex <span class="hljs-operator">==</span> targetIdx <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            <span class="hljs-keyword">self</span>.moveTabBarWorkItem <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
            <span class="hljs-keyword">self</span>._moveTabBar(to: targetIdx)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">_moveTabBar</span>(<span class="hljs-params">to</span> <span class="hljs-params">index</span>: <span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">let</span> tab <span class="hljs-operator">=</span> <span class="hljs-type">MainTab</span>(index: index)
        <span class="hljs-keyword">switch</span> tab {
        <span class="hljs-keyword">case</span> .videoHub:
            videoHubVC.addTabBar(customTabBar)
        <span class="hljs-keyword">case</span> .channel:
            channelVC.addTabBar(customTabBar)
        <span class="hljs-keyword">case</span> .live:
            liveVC.addTabBar(customTabBar)
        <span class="hljs-keyword">case</span> .mine:
            mineVC.addTabBar(customTabBar)
        }
    }
}
</code></pre>
<p>å¦‚æœæƒ³ç§»é™¤ç³»ç»Ÿåˆ‡æ¢åŠ¨ç”»å¯ä»¥è¿™ä¹ˆåšï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// MARK: - &lt;WLTabBarDelegate&gt;</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">MainTabBarController</span>: <span class="hljs-title class_">WLTabBarDelegate</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">tabBar</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tabBar</span>: <span class="hljs-type">WLTabBar</span>!, <span class="hljs-params">didSelectItemAt</span> <span class="hljs-params">index</span>: <span class="hljs-type">Int</span>) {
        moveTabBar(from: selectedIndex, to: index)
        <span class="hljs-comment">// æƒ³ç§»é™¤ç³»ç»Ÿè‡ªå¸¦çš„åˆ‡æ¢åŠ¨ç”»å°±ğŸ‘‡ğŸ»</span>
        <span class="hljs-type">UIView</span>.performWithoutAnimation {
            <span class="hljs-keyword">self</span>.selectedIndex <span class="hljs-operator">=</span> index
        }
    }
}
</code></pre>
<h2 data-id="heading-3">å°ç»“</h2>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘çš„æ–¹æ¡ˆäº†ï¼Œèµ·ç ä¸ç”¨è‡ªå®šä¹‰<code>UITabBarController</code>ï¼Œæ›´åŠ ç®€å•ç²—æš´ï¼Œæ›´å¤šç»†èŠ‚å¯ä»¥å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRogue24%2FClassicTabBarUsingDemo" target="_blank" title="https://github.com/Rogue24/ClassicTabBarUsingDemo" ref="nofollow noopener noreferrer">Demo</a>ã€‚</p>
<p>ä¸ªäººæ„Ÿè§‰èƒ½åº”ä»˜80%çš„åº”ç”¨åœºæ™¯å§ï¼Œé™¤éä½ æœ‰éå¸¸ç‰¹æ®Šçš„è¿‡åœºåŠ¨ç”»éœ€è¦æŒªåŠ¨TabBarçš„ã€‚å½“ç„¶å¸Œæœ›è‹¹æœä»¥åèƒ½æ¨å‡ºå…¼å®¹è‡ªå®šä¹‰TabBarçš„APIï¼Œé‚£å°±ä¸ç”¨è¿™æ ·é­”æ”¹äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ deleted_at æ›¿ä»£ is_deleted,ç”¨æ¥æ”¯æŒè¡¨å”¯ä¸€ç´¢å¼•åˆ›å»º]]></title>    <link>https://juejin.cn/post/7584759201073070121</link>    <guid>https://juejin.cn/post/7584759201073070121</guid>    <pubDate>2025-12-18T07:39:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584759201073070121" data-draft-id="7584759201073053737" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ deleted_at æ›¿ä»£ is_deleted,ç”¨æ¥æ”¯æŒè¡¨å”¯ä¸€ç´¢å¼•åˆ›å»º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:39:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é²è‚ƒls"/> <meta itemprop="url" content="https://juejin.cn/user/2268999473182269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ deleted_at æ›¿ä»£ is_deleted,ç”¨æ¥æ”¯æŒè¡¨å”¯ä¸€ç´¢å¼•åˆ›å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2268999473182269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é²è‚ƒls
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:39:11.000Z" title="Thu Dec 18 2025 07:39:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ <code>deleted_at</code> æ›¿ä»£ <code>is_deleted</code></h2>
<p>ç»Ÿä¸€è§„èŒƒ,å»ºè®®æ—¶é—´å­—æ®µæ”¹ä¸ºxxx_at,deleted_atä¸ºgorm é»˜è®¤è®¤å¯çš„åˆ é™¤å­—æ®µ</p>
<pre><code class="hljs language-sql" lang="sql">`created_at` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
`updated_at` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
`deleted_at` datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ é™¤æ—¶é—´'</span>,
</code></pre>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜èƒŒæ™¯</h3>
<h4 data-id="heading-2">ç°çŠ¶é—®é¢˜</h4>
<ul>
<li>ä½¿ç”¨ <code>is_deleted</code>ï¼ˆ0/1ï¼‰å®ç°è½¯åˆ é™¤</li>
<li>å”¯ä¸€ç´¢å¼•åŒ…å« <code>is_deleted</code>ï¼š<code>UNIQUE KEY (merchant_id, sku_no, is_deleted)</code></li>
<li><strong>é—®é¢˜</strong>ï¼šåŒä¸€ä¸šåŠ¡å­—æ®µç»„åˆçš„å¤šæ¡å·²åˆ é™¤è®°å½•ä¼šè¿åå”¯ä¸€çº¦æŸ</li>
</ul>
<h4 data-id="heading-3">é—®é¢˜ç¤ºä¾‹</h4>
<p>-- è®°å½•1ï¼šmerchant_id=1, sku_no='SKU001', is_deleted=1  âœ…</p>
<p>-- è®°å½•2ï¼šmerchant_id=1, sku_no='SKU001', is_deleted=1  âŒ è¿åå”¯ä¸€çº¦æŸï¼</p>
<h3 data-id="heading-4">äºŒã€è§£å†³æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨ <code>deleted_at</code>ï¼ˆæ—¶é—´æˆ³ï¼‰æ›¿ä»£ <code>is_deleted</code>ï¼Œ<strong>å”¯ä¸€ç´¢å¼•åŒ…å« <code>deleted_at</code></strong>ã€‚</p>
<h4 data-id="heading-5">æ ¸å¿ƒåŸç†</h4>
<ul>
<li><strong>æœªåˆ é™¤</strong>ï¼š<code>deleted_at = NULL</code></li>
<li><strong>å·²åˆ é™¤</strong>ï¼š<code>deleted_at = å…·ä½“æ—¶é—´</code></li>
<li><strong>å”¯ä¸€ç´¢å¼•</strong>ï¼šåªåŒ…å«ä¸šåŠ¡å­—æ®µï¼Œä¸åŒ…å« <code>deleted_at</code></li>
</ul>
<h4 data-id="heading-6">ä¼˜åŠ¿</h4>
<ul>
<li>âœ… æ”¯æŒå”¯ä¸€ç´¢å¼•ï¼ˆå·²åˆ é™¤è®°å½•ä¸å½±å“å”¯ä¸€æ€§ï¼‰</li>
<li>âœ… è‡ªåŠ¨å¤„ç†ï¼ˆGORM è‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤è®°å½•ï¼‰</li>
<li>âœ… è®°å½•åˆ é™¤æ—¶é—´ï¼ˆ<code>deleted_at</code> ä¿å­˜åˆ é™¤æ—¶é—´ï¼‰</li>
<li>âœ… å¯ä»¥æ¢å¤ï¼ˆå°† <code>deleted_at</code> è®¾ç½®ä¸º NULLï¼‰</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€æ•°æ®åº“è®¾è®¡</h3>
<pre><code class="hljs language-go" lang="go">CREATE TABLE <span class="hljs-string">`merchant_product`</span> (
  <span class="hljs-string">`id`</span> bigint unsigned NOT NULL AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®ID'</span>,
  <span class="hljs-string">`merchant_id`</span> bigint NOT NULL COMMENT <span class="hljs-string">'å•†å®¶ID'</span>,
  <span class="hljs-string">`sku_no`</span> varchar(<span class="hljs-number">32</span>) NOT NULL COMMENT <span class="hljs-string">'å•†å“skuå”¯ä¸€ç¼–ç '</span>,
  <span class="hljs-string">`merchant_product_name`</span> varchar(<span class="hljs-number">200</span>) NOT NULL COMMENT <span class="hljs-string">'å•†å®¶è‡ªå®šä¹‰å•†å“åç§°'</span>,
  <span class="hljs-string">`created_at`</span> datetime DEFAULT CURRENT_TIMESTAMP COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-string">`updated_at`</span> datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  <span class="hljs-string">`deleted_at`</span> datetime NULL DEFAULT NULL COMMENT <span class="hljs-string">'åˆ é™¤æ—¶é—´ï¼ŒNULLè¡¨ç¤ºæœªåˆ é™¤'</span>,
  PRIMARY KEY (<span class="hljs-string">`id`</span>),
  UNIQUE KEY <span class="hljs-string">`uk_merchant_sku`</span> (<span class="hljs-string">`merchant_id`</span>, <span class="hljs-string">`sku_no`</span>ï¼Œ<span class="hljs-string">`deleted_at`</span>),
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=<span class="hljs-string">'å•†å®¶å•†å“è¡¨'</span>;## å››ã€GORM æ¨¡å‹å®šä¹‰


<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"time"</span>
    <span class="hljs-string">"gorm.io/gorm"</span>
)

<span class="hljs-keyword">type</span> MerchantProduct <span class="hljs-keyword">struct</span> {
	ID                   <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:id;primaryKey;autoIncrement:true;comment:ä¸»é”®ID" json:"id"`</span>                         <span class="hljs-comment">// ä¸»é”®ID</span>
	MerchantID           <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:merchant_id;not null;comment:å•†å®¶ID" json:"merchant_id"`</span>                            <span class="hljs-comment">// å•†å®¶ID</span>
	MerchantNo           <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:merchant_no;not null;comment:å•†å®¶ç¼–å·" json:"merchant_no"`</span>                            <span class="hljs-comment">// å•†å®¶ç¼–å·</span>
	SkuNo                <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:sku_no;not null;comment:å•†å“skuå”¯ä¸€ç¼–ç " json:"sku_no"`</span>                                 <span class="hljs-comment">// å•†å“skuå”¯ä¸€ç¼–ç </span>
	MerchantProductName  <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:merchant_product_name;not null;comment:å•†å®¶è‡ªå®šä¹‰å•†å“åç§°" json:"merchant_product_name"`</span>   <span class="hljs-comment">// å•†å®¶è‡ªå®šä¹‰å•†å“åç§°</span>
	MerchantProductImage <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:merchant_product_image;not null;comment:å•†å®¶è‡ªå®šä¹‰å•†å“å›¾ç‰‡" json:"merchant_product_image"`</span> <span class="hljs-comment">// å•†å®¶è‡ªå®šä¹‰å•†å“å›¾ç‰‡</span>
	BarCode              <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:bar_code;comment:æ¡å½¢ç¼–ç " json:"bar_code"`</span>                                           <span class="hljs-comment">// æ¡å½¢ç¼–ç </span>
	BarCodePicture       <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:bar_code_picture;not null;comment:æ¡å½¢ç å›¾ç‰‡" json:"bar_code_picture"`</span>                 <span class="hljs-comment">// æ¡å½¢ç å›¾ç‰‡</span>
	IsStandard           <span class="hljs-type">int32</span>           <span class="hljs-string">`gorm:"column:is_standard;not null;comment:æ˜¯å¦æ˜¯æ ‡å“0å¦1æ˜¯" json:"is_standard"`</span>                       <span class="hljs-comment">// æ˜¯å¦æ˜¯æ ‡å“0å¦1æ˜¯</span>
	ReferencePrice       decimal.Decimal <span class="hljs-string">`gorm:"column:reference_price;not null;default:0.00;comment:å•†å“å‚è€ƒå”®ä»·" json:"reference_price"`</span>     <span class="hljs-comment">// å•†å“å‚è€ƒå”®ä»·</span>
	CostPrice            decimal.Decimal <span class="hljs-string">`gorm:"column:cost_price;not null;default:0.00;comment:æˆæœ¬ä»·" json:"cost_price"`</span>                  <span class="hljs-comment">// æˆæœ¬ä»·</span>
	PriceUnit            <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:price_unit;not null;comment:ä»·æ ¼å•ä½" json:"price_unit"`</span>                              <span class="hljs-comment">// ä»·æ ¼å•ä½</span>
	CreatedAt            time.Time       <span class="hljs-string">`gorm:"column:created_at;not null;default:CURRENT_TIMESTAMP;comment:åˆ›å»ºæ—¶é—´" json:"created_at"`</span>    <span class="hljs-comment">// åˆ›å»ºæ—¶é—´</span>
	UpdatedAt            time.Time       <span class="hljs-string">`gorm:"column:updated_at;not null;default:CURRENT_TIMESTAMP" json:"updated_at"`</span>
	DeletedAt            gorm.DeletedAt  <span class="hljs-string">`gorm:"column:deleted_at;comment:åˆ é™¤æ—¶é—´" json:"deleted_at"`</span> <span class="hljs-comment">// åˆ é™¤æ—¶é—´</span>
}

## äº”ã€ä»£ç ä½¿ç”¨æŒ‡å—

### <span class="hljs-number">1.</span> è½¯åˆ é™¤

<span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨ Delete()ï¼ˆæ¨èï¼ŒGORM è‡ªåŠ¨å¤„ç†ï¼‰</span>

product := &amp;MerchantProduct{ID: <span class="hljs-number">1</span>}
err := db.Delete(product).Error
<span class="hljs-comment">// SQL: UPDATE merchant_product SET deleted_at = NOW() WHERE id = 1 AND deleted_at IS NULL</span>

<span class="hljs-comment">// æ–¹æ³•2ï¼šæ‰¹é‡è½¯åˆ é™¤</span>

err := db.Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Delete(&amp;MerchantProduct{}).Error### <span class="hljs-number">2.</span> çœŸåˆ é™¤ï¼ˆæ°¸ä¹…åˆ é™¤ï¼‰

<span class="hljs-comment">// ä½¿ç”¨ Unscoped() ç»•è¿‡è½¯åˆ é™¤æœºåˆ¶</span>

err := db.Unscoped().Delete(&amp;MerchantProduct{ID: <span class="hljs-number">1</span>}).Error
<span class="hljs-comment">// SQL: DELETE FROM merchant_product WHERE id = 1</span>

<span class="hljs-comment">// æ‰¹é‡çœŸåˆ é™¤</span>

err := db.Unscoped().Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Delete(&amp;MerchantProduct{}).Error### <span class="hljs-number">3.</span> æ›´æ–°æ•°æ®ï¼ˆä¸è§¦å‘è½¯åˆ é™¤ï¼‰

<span class="hljs-comment">// æ­£å¸¸æ›´æ–°ä¸šåŠ¡å­—æ®µï¼Œä¸ä¼šå½±å“ deleted_at</span>

err := db.Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).
    Update(<span class="hljs-string">"merchant_product_name"</span>, <span class="hljs-string">"æ–°å•†å“åç§°"</span>).Error
<span class="hljs-comment">// SQL: UPDATE merchant_product SET merchant_product_name = 'æ–°å•†å“åç§°' WHERE id = 1</span>
<span class="hljs-comment">// deleted_at å­—æ®µä¸ä¼šè¢«ä¿®æ”¹</span>

<span class="hljs-comment">// æ‰¹é‡æ›´æ–°</span>

err := db.Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).
    Updates(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-string">"merchant_product_name"</span>: <span class="hljs-string">"æ–°åç§°"</span>,
        <span class="hljs-string">"reference_price"</span>: <span class="hljs-number">99.99</span>,
    }).Error### <span class="hljs-number">4.</span> æ›´æ–°æ•°æ® + åŒæ—¶è½¯åˆ é™¤

<span class="hljs-comment">// æ–¹æ³•1ï¼šä¸€æ¬¡æ€§æ›´æ–°ï¼ˆæ¨èï¼‰</span>

err := db.Unscoped().Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).
    Updates(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-string">"merchant_product_name"</span>: <span class="hljs-string">"æ–°åç§°"</span>,
        <span class="hljs-string">"reference_price"</span>: <span class="hljs-number">99.99</span>,
        <span class="hljs-string">"deleted_at"</span>: time.Now(),  <span class="hljs-comment">// åŒæ—¶è½¯åˆ é™¤</span>
    }).Error


#### <span class="hljs-number">5.1</span> é»˜è®¤æŸ¥è¯¢ï¼ˆè‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤è®°å½•ï¼‰

<span class="hljs-comment">// é»˜è®¤æŸ¥è¯¢ï¼šè‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤çš„è®°å½•ï¼ˆæ¨èï¼‰</span>

<span class="hljs-keyword">var</span> products []MerchantProduct
err := db.Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Find(&amp;products).Error
<span class="hljs-comment">// SQL: SELECT * FROM merchant_product WHERE merchant_id = 1 AND deleted_at IS NULL</span>
<span class="hljs-comment">// âœ… ä¸éœ€è¦æ‰‹åŠ¨åŠ  deleted_at IS NULL æ¡ä»¶</span>

<span class="hljs-comment">// æŸ¥è¯¢å•æ¡</span>
<span class="hljs-keyword">var</span> product MerchantProduct
err := db.First(&amp;product, <span class="hljs-number">1</span>).Error

<span class="hljs-comment">// å¦‚æœè®°å½•å·²åˆ é™¤ï¼Œä¼šè¿”å› gorm.ErrRecordNotFound#### 5.2 æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼ˆåŒ…æ‹¬å·²åˆ é™¤çš„ï¼‰</span>

<span class="hljs-comment">// ä½¿ç”¨ Unscoped() æŸ¥è¯¢æ‰€æœ‰è®°å½•</span>
<span class="hljs-keyword">var</span> allProducts []MerchantProduct
err := db.Unscoped().Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Find(&amp;allProducts).Error
<span class="hljs-comment">// SQL: SELECT * FROM merchant_product WHERE merchant_id = 1#### 5.3 åªæŸ¥è¯¢å·²åˆ é™¤çš„è®°å½•</span>

<span class="hljs-comment">// åªæŸ¥è¯¢å·²åˆ é™¤çš„è®°å½•</span>

<span class="hljs-keyword">var</span> deletedProducts []MerchantProduct
err := db.Unscoped().
    Where(<span class="hljs-string">"merchant_id = ? AND deleted_at IS NOT NULL"</span>, <span class="hljs-number">1</span>).
    Find(&amp;deletedProducts).Error### <span class="hljs-number">6.</span> æ¢å¤å·²åˆ é™¤çš„è®°å½•

<span class="hljs-comment">// æ¢å¤è®°å½•ï¼ˆå°† deleted_at è®¾ç½®ä¸º NULLï¼‰</span>

err := db.Unscoped().Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).
    Update(<span class="hljs-string">"deleted_at"</span>, <span class="hljs-literal">nil</span>).Error
<span class="hljs-comment">// SQL: UPDATE merchant_product SET deleted_at = NULL WHERE id = 1## å…­ã€å…³é”®ç‚¹æ€»ç»“</span>
</code></pre>













































<table><thead><tr><th>æ“ä½œ</th><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>è½¯åˆ é™¤</strong></td><td><code>db.Delete(&amp;product)</code></td><td>GORM è‡ªåŠ¨è®¾ç½® <code>deleted_at = NOW()</code></td></tr><tr><td><strong>çœŸåˆ é™¤</strong></td><td><code>db.Unscoped().Delete(&amp;product)</code></td><td>æ°¸ä¹…åˆ é™¤è®°å½•</td></tr><tr><td><strong>æ­£å¸¸æ›´æ–°</strong></td><td><code>db.Update()</code> / <code>db.Updates()</code></td><td>ä¸ä¼šå½±å“ <code>deleted_at</code></td></tr><tr><td><strong>æ›´æ–°+åˆ é™¤</strong></td><td><code>db.Unscoped().Updates()</code></td><td>åŒæ—¶æ›´æ–°å­—æ®µå’Œ <code>deleted_at</code></td></tr><tr><td><strong>é»˜è®¤æŸ¥è¯¢</strong></td><td><code>db.Find()</code></td><td>è‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤è®°å½•</td></tr><tr><td><strong>æŸ¥è¯¢å…¨éƒ¨</strong></td><td><code>db.Unscoped().Find()</code></td><td>åŒ…å«å·²åˆ é™¤è®°å½•</td></tr><tr><td><strong>æ¢å¤è®°å½•</strong></td><td><code>db.Unscoped().Update("deleted_at", nil)</code></td><td>æ¢å¤å·²åˆ é™¤è®°å½•</td></tr></tbody></table>
<h3 data-id="heading-8">ä¸ƒã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>å”¯ä¸€ç´¢å¼•</strong>ï¼šä¸åŒ…å« <code>deleted_at</code>ï¼ŒåªåŒ…å«ä¸šåŠ¡å­—æ®µ</li>
<li><strong>é»˜è®¤è¡Œä¸º</strong>ï¼šæœ‰ <code>DeletedAt</code> å­—æ®µæ—¶ï¼Œ<code>Delete()</code> æ˜¯è½¯åˆ é™¤ï¼ŒæŸ¥è¯¢è‡ªåŠ¨è¿‡æ»¤</li>
<li><strong>çœŸåˆ é™¤</strong>ï¼šå¿…é¡»ä½¿ç”¨ <code>Unscoped().Delete()</code></li>
<li><strong>æ›´æ–°å·²åˆ é™¤è®°å½•</strong>ï¼šä½¿ç”¨ <code>Unscoped()</code> æ‰èƒ½æ›´æ–°åˆ°å·²åˆ é™¤çš„è®°å½•</li>
</ol>
<p>æ–¹æ¡ˆ2ï¼š</p>
<p>is_deletedå­—æ®µä¿ç•™æ”¹å­—æ®µ åŒæ—¶éœ€è¦åˆ›å»ºå”¯ä¸€ç´¢å¼•æ—¶,æŠŠè¯¥å­—æ®µè¿½åŠ åˆ°å”¯ä¸€ç´¢å¼•ä¸‹, ä¿å­˜çš„æ—¶å€™ä¿å­˜ä¸ºä¸»é”®id,ä½†æ˜¯å°±æœ‰ç‚¹è¯­ä¹‰ä¸æ¸…æ™°, ä¸”æ‰¹é‡åˆ é™¤çš„æ—¶å€™ä¼šæœ‰é—®é¢˜,æ¯”å¦‚UPDATE merchant_product SET is_deleted=? WHERE merchant_id=1</p>
<p>ä¸å»ºè®®ä½¿ç”¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤]]></title>    <link>https://juejin.cn/post/7584810656383221769</link>    <guid>https://juejin.cn/post/7584810656383221769</guid>    <pubDate>2025-12-18T07:54:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584810656383221769" data-draft-id="7584810656383205385" data-original-type="2" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:54:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PFinalç¤¾åŒº_å—ä¸"/> <meta itemprop="url" content="https://juejin.cn/user/1855631357906040"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1855631357906040/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PFinalç¤¾åŒº_å—ä¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:54:02.000Z" title="Thu Dec 18 2025 07:54:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ <code>git add</code>ã€<code>git commit</code>ã€<code>git push</code> ç­‰åŸºç¡€å‘½ä»¤ã€‚ä½† Git è¿˜æä¾›äº†è®¸å¤šå¼ºå¤§è€Œå®ç”¨çš„å‘½ä»¤ï¼Œè™½ç„¶ä¸å¤ªå¸¸ç”¨ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹èƒ½æå¤§æå‡å·¥ä½œæ•ˆç‡ã€‚æœ¬æ–‡å°†ä»‹ç»å‡ ä¸ªè¿™æ ·çš„å‘½ä»¤ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°åˆ©ç”¨ Git çš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-2">1. git worktree - å¤šå·¥ä½œç›®å½•ç®¡ç†</h3>
<h4 data-id="heading-3">ä»€ä¹ˆæ˜¯ git worktreeï¼Ÿ</h4>
<p><code>git worktree</code> å…è®¸ä½ åœ¨åŒä¸€ä¸ªä»“åº“ä¸­åˆ›å»ºå¤šä¸ªå·¥ä½œç›®å½•ï¼Œæ¯ä¸ªå·¥ä½œç›®å½•å¯ä»¥æ£€å‡ºä¸åŒçš„åˆ†æ”¯ã€‚è¿™å¯¹äºéœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªåˆ†æ”¯çš„åœºæ™¯éå¸¸æœ‰ç”¨ã€‚</p>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆéœ€è¦ git worktreeï¼Ÿ</h4>
<p><strong>ä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>éœ€è¦é¢‘ç¹åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œä¼šä¸¢å¤±æœªæäº¤çš„æ›´æ”¹</li>
<li>æ— æ³•åŒæ—¶æŸ¥çœ‹å’Œç¼–è¾‘ä¸åŒåˆ†æ”¯çš„ä»£ç </li>
<li>åˆ‡æ¢åˆ†æ”¯æ—¶å¯èƒ½éœ€è¦é‡æ–°æ„å»ºé¡¹ç›®ï¼Œè€—æ—¶è¾ƒé•¿</li>
</ul>
<p><strong>git worktree çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨ä¸åŒç›®å½•åŒæ—¶å·¥ä½œäºä¸åŒåˆ†æ”¯</li>
<li>æ¯ä¸ªå·¥ä½œæ ‘ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°</li>
<li>å…±äº«åŒä¸€ä¸ª <code>.git</code> ä»“åº“ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´</li>
</ul>
<h4 data-id="heading-5">åŸºæœ¬ç”¨æ³•</h4>
<h5 data-id="heading-6">åˆ›å»ºæ–°çš„å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨æŒ‡å®šç›®å½•åˆ›å»ºæ–°çš„å·¥ä½œæ ‘ï¼Œå¹¶æ£€å‡ºæŒ‡å®šåˆ†æ”¯</span>
git worktree add &lt;path&gt; &lt;branch&gt;

<span class="hljs-comment"># ç¤ºä¾‹ï¼šåœ¨ ../myproject-feature ç›®å½•åˆ›å»ºæ–°å·¥ä½œæ ‘ï¼Œæ£€å‡º feature/new-ui åˆ†æ”¯</span>
git worktree add ../myproject-feature feature/new-ui

<span class="hljs-comment"># å¦‚æœåˆ†æ”¯ä¸å­˜åœ¨ï¼Œå¯ä»¥åˆ›å»ºæ–°åˆ†æ”¯</span>
git worktree add ../myproject-hotfix -b hotfix/critical-bug
</code></pre>
<h5 data-id="heading-7">åˆ—å‡ºæ‰€æœ‰å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash">git worktree list
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/Users/pfinal/myproject                 abc1234 [main]
/Users/pfinal/myproject-feature         def5678 [feature/new-ui]
/Users/pfinal/myproject-hotfix          ghi9012 [hotfix/critical-bug]
</code></pre>
<h5 data-id="heading-8">åˆ é™¤å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤å·¥ä½œæ ‘ï¼ˆéœ€è¦å…ˆåˆ é™¤å·¥ä½œç›®å½•ï¼‰</span>
<span class="hljs-built_in">rm</span> -rf ../myproject-feature
git worktree remove ../myproject-feature

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨ prune è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„å·¥ä½œæ ‘</span>
git worktree prune
</code></pre>
<h5 data-id="heading-9">ç§»åŠ¨å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash">git worktree move &lt;old-path&gt; &lt;new-path&gt;
</code></pre>
<h4 data-id="heading-10">å®é™…åº”ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯ 1ï¼šåŒæ—¶å¼€å‘æ–°åŠŸèƒ½å’Œä¿®å¤ Bug</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»ç›®å½•ç”¨äºå¼€å‘æ–°åŠŸèƒ½</span>
<span class="hljs-built_in">cd</span> /path/to/project
git checkout feature/new-feature

<span class="hljs-comment"># åˆ›å»ºæ–°å·¥ä½œæ ‘ç”¨äºä¿®å¤ç´§æ€¥ Bug</span>
git worktree add ../project-hotfix hotfix/urgent-fix
<span class="hljs-built_in">cd</span> ../project-hotfix
<span class="hljs-comment"># ç°åœ¨å¯ä»¥åŒæ—¶ç¼–è¾‘ä¸¤ä¸ªåˆ†æ”¯çš„ä»£ç </span>
</code></pre>
<p><strong>åœºæ™¯ 2ï¼šä»£ç å®¡æŸ¥æ—¶å¯¹æ¯”ä¸åŒç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»ç›®å½•ä¿æŒå½“å‰å¼€å‘åˆ†æ”¯</span>
<span class="hljs-comment"># åˆ›å»ºå·¥ä½œæ ‘æŸ¥çœ‹ PR åˆ†æ”¯</span>
git worktree add ../project-pr origin/feature/pr-branch
</code></pre>
<p><strong>åœºæ™¯ 3ï¼šé•¿æœŸç»´æŠ¤å¤šä¸ªç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»ç›®å½•ï¼šæœ€æ–°å¼€å‘ç‰ˆæœ¬</span>
<span class="hljs-comment"># å·¥ä½œæ ‘ 1ï¼šç”Ÿäº§ç‰ˆæœ¬</span>
git worktree add ../project-prod v1.0.0

<span class="hljs-comment"># å·¥ä½œæ ‘ 2ï¼šæµ‹è¯•ç‰ˆæœ¬</span>
git worktree add ../project-test v1.1.0-beta
</code></pre>
<h4 data-id="heading-11">æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>æ¯ä¸ªå·¥ä½œæ ‘å¿…é¡»æ£€å‡ºä¸åŒçš„åˆ†æ”¯</li>
<li>ä¸èƒ½åˆ é™¤åŒ…å«æœªæäº¤æ›´æ”¹çš„å·¥ä½œæ ‘</li>
<li>æ‰€æœ‰å·¥ä½œæ ‘å…±äº«åŒä¸€ä¸ª <code>.git</code> ä»“åº“</li>
<li>åˆ é™¤å·¥ä½œæ ‘æ—¶ï¼Œéœ€è¦å…ˆåˆ é™¤ç›®å½•å†è¿è¡Œ <code>git worktree remove</code></li>
</ul>
<hr/>
<h3 data-id="heading-12">2. git reflog - æ‰¾å›"ä¸¢å¤±"çš„æäº¤</h3>
<h4 data-id="heading-13">ä»€ä¹ˆæ˜¯ reflogï¼Ÿ</h4>
<p><code>reflog</code> è®°å½•äº† HEAD å’Œåˆ†æ”¯å¼•ç”¨çš„æ‰€æœ‰å˜æ›´å†å²ï¼Œå³ä½¿æäº¤å·²ç»è¢«"åˆ é™¤"ï¼Œä¹Ÿèƒ½é€šè¿‡ reflog æ‰¾å›ã€‚</p>
<h4 data-id="heading-14">ä½¿ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯ï¼šè¯¯åˆ åˆ†æ”¯æˆ–é‡ç½®æäº¤</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ reflog å†å²</span>
git reflog

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># abc1234 HEAD@{0}: checkout: moving from main to feature</span>
<span class="hljs-comment"># def5678 HEAD@{1}: commit: Add new feature</span>
<span class="hljs-comment"># ghi9012 HEAD@{2}: reset: moving to HEAD~1</span>
<span class="hljs-comment"># jkl3456 HEAD@{3}: commit: Fix bug</span>

<span class="hljs-comment"># æ¢å¤åˆ°ä¹‹å‰çš„æŸä¸ªçŠ¶æ€</span>
git checkout HEAD@{2}  <span class="hljs-comment"># æ¢å¤åˆ° reset ä¹‹å‰çš„çŠ¶æ€</span>

<span class="hljs-comment"># æˆ–è€…æ¢å¤å·²åˆ é™¤çš„åˆ†æ”¯</span>
git branch recovered-branch HEAD@{1}
</code></pre>
<h4 data-id="heading-15">é«˜çº§ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šåˆ†æ”¯çš„ reflog</span>
git reflog show &lt;branch-name&gt;

<span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘ 10 æ¡è®°å½•</span>
git reflog -10

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šæ—¶é—´èŒƒå›´çš„è®°å½•</span>
git reflog --since=<span class="hljs-string">"2 days ago"</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">3. git bisect - äºŒåˆ†æŸ¥æ‰¾å®šä½ Bug</h3>
<h4 data-id="heading-17">ä»€ä¹ˆæ˜¯ git bisectï¼Ÿ</h4>
<p><code>git bisect</code> ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½å¼•å…¥ Bug çš„æäº¤ã€‚</p>
<h4 data-id="heading-18">ä½¿ç”¨æµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¼€å§‹äºŒåˆ†æŸ¥æ‰¾</span>
git bisect start

<span class="hljs-comment"># 2. æ ‡è®°å½“å‰ç‰ˆæœ¬ä¸º"å"çš„ï¼ˆæœ‰ Bugï¼‰</span>
git bisect bad

<span class="hljs-comment"># 3. æ ‡è®°æŸä¸ªå·²çŸ¥å¥½çš„ç‰ˆæœ¬ï¼ˆæ²¡æœ‰ Bugï¼‰</span>
git bisect good &lt;commit-hash&gt;
<span class="hljs-comment"># æˆ–è€…</span>
git bisect good v1.0.0

<span class="hljs-comment"># 4. Git ä¼šè‡ªåŠ¨æ£€å‡ºä¸­é—´çš„æäº¤ï¼Œä½ æµ‹è¯•åæ ‡è®°å¥½å</span>
git bisect good  <span class="hljs-comment"># å¦‚æœè¿™ä¸ªç‰ˆæœ¬æ²¡é—®é¢˜</span>
git bisect bad   <span class="hljs-comment"># å¦‚æœè¿™ä¸ªç‰ˆæœ¬æœ‰é—®é¢˜</span>

<span class="hljs-comment"># 5. é‡å¤æ­¥éª¤ 4ï¼Œç›´åˆ°æ‰¾åˆ°å¼•å…¥ Bug çš„æäº¤</span>

<span class="hljs-comment"># 6. ç»“æŸäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›åŸåˆ†æ”¯</span>
git bisect reset
</code></pre>
<h4 data-id="heading-19">è‡ªåŠ¨åŒ– bisect</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨è„šæœ¬è‡ªåŠ¨æµ‹è¯•</span>
git bisect start HEAD v1.0.0
git bisect run npm <span class="hljs-built_in">test</span>

<span class="hljs-comment"># Git ä¼šè‡ªåŠ¨è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œæ ¹æ®é€€å‡ºç åˆ¤æ–­å¥½å</span>
<span class="hljs-comment"># é€€å‡ºç  0 = goodï¼Œé 0 = bad</span>
</code></pre>
<h4 data-id="heading-20">å®é™…ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾ Bug åœ¨æœ€è¿‘ 100 ä¸ªæäº¤ä¸­å¼•å…¥</span>
git bisect start
git bisect bad                    <span class="hljs-comment"># å½“å‰ç‰ˆæœ¬æœ‰ Bug</span>
git bisect good HEAD~100          <span class="hljs-comment"># 100 ä¸ªæäº¤å‰æ˜¯å¥½çš„</span>

<span class="hljs-comment"># Git æ£€å‡ºç¬¬ 50 ä¸ªæäº¤ï¼Œä½ æµ‹è¯•åå‘ç°æ²¡é—®é¢˜</span>
git bisect good

<span class="hljs-comment"># Git æ£€å‡ºç¬¬ 75 ä¸ªæäº¤ï¼Œä½ æµ‹è¯•åå‘ç°æœ‰é—®é¢˜</span>
git bisect bad

<span class="hljs-comment"># ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œé€šå¸¸åªéœ€ log2(n) æ¬¡æµ‹è¯•å°±èƒ½æ‰¾åˆ°é—®é¢˜æäº¤</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">4. git stash - æš‚å­˜æ›´æ”¹çš„è¿›é˜¶ç”¨æ³•</h3>
<h4 data-id="heading-22">åŸºç¡€ç”¨æ³•å›é¡¾</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æš‚å­˜å½“å‰æ›´æ”¹</span>
git stash

<span class="hljs-comment"># æ¢å¤æš‚å­˜çš„æ›´æ”¹</span>
git stash pop

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æš‚å­˜</span>
git stash list
</code></pre>
<h4 data-id="heading-23">è¿›é˜¶ç”¨æ³•</h4>
<h5 data-id="heading-24">ç»™æš‚å­˜æ·»åŠ æè¿°</h5>
<pre><code class="hljs language-bash" lang="bash">git stash save <span class="hljs-string">"WIP: æ­£åœ¨å¼€å‘ç™»å½•åŠŸèƒ½"</span>
</code></pre>
<h5 data-id="heading-25">æš‚å­˜ç‰¹å®šæ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªæš‚å­˜éƒ¨åˆ†æ–‡ä»¶</span>
git stash push -m <span class="hljs-string">"ä¿å­˜ UI æ›´æ”¹"</span> -- src/components/Button.tsx src/styles/
</code></pre>
<h5 data-id="heading-26">æš‚å­˜æ—¶ä¿ç•™æœªè·Ÿè¸ªçš„æ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é»˜è®¤ä¸æš‚å­˜æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼Œä½¿ç”¨ -u åŒ…å«å®ƒä»¬</span>
git stash -u
<span class="hljs-comment"># æˆ–è€…</span>
git stash --include-untracked
</code></pre>
<h5 data-id="heading-27">æš‚å­˜æ—¶ä¿ç•™ç´¢å¼•ï¼ˆå·² add çš„æ–‡ä»¶ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿ç•™å·²æš‚å­˜çš„æ–‡ä»¶åœ¨ç´¢å¼•ä¸­</span>
git stash --keep-index
</code></pre>
<h5 data-id="heading-28">åº”ç”¨ç‰¹å®šçš„æš‚å­˜</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æš‚å­˜åˆ—è¡¨</span>
git stash list
<span class="hljs-comment"># stash@{0}: WIP on main: abc1234 Fix bug</span>
<span class="hljs-comment"># stash@{1}: WIP on feature: def5678 Add feature</span>

<span class="hljs-comment"># åº”ç”¨ç‰¹å®šçš„æš‚å­˜ï¼ˆä¸åˆ é™¤ï¼‰</span>
git stash apply stash@{1}

<span class="hljs-comment"># åº”ç”¨å¹¶åˆ é™¤</span>
git stash pop stash@{1}
</code></pre>
<h5 data-id="heading-29">åˆ›å»ºæš‚å­˜åˆ†æ”¯</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»æš‚å­˜åˆ›å»ºæ–°åˆ†æ”¯</span>
git stash branch new-feature-branch
</code></pre>
<hr/>
<h3 data-id="heading-30">5. git cherry-pick - é€‰æ‹©æ€§åº”ç”¨æäº¤</h3>
<h4 data-id="heading-31">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†å…¶ä»–åˆ†æ”¯çš„æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span>
git cherry-pick &lt;commit-hash&gt;

<span class="hljs-comment"># åº”ç”¨å¤šä¸ªæäº¤</span>
git cherry-pick &lt;commit1&gt; &lt;commit2&gt; &lt;commit3&gt;

<span class="hljs-comment"># åº”ç”¨ä¸€ä¸ªèŒƒå›´çš„æäº¤</span>
git cherry-pick &lt;start-commit&gt;..&lt;end-commit&gt;
<span class="hljs-comment"># æ³¨æ„ï¼šä¸åŒ…å« start-commitï¼ŒåªåŒ…å« end-commit</span>

<span class="hljs-comment"># åŒ…å«èµ·å§‹æäº¤</span>
git cherry-pick &lt;start-commit&gt;^..&lt;end-commit&gt;
</code></pre>
<h4 data-id="heading-32">å®é™…åœºæ™¯</h4>
<p><strong>åœºæ™¯ï¼šå°† hotfix åˆ†æ”¯çš„ä¿®å¤åº”ç”¨åˆ° main åˆ†æ”¯</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ hotfix åˆ†æ”¯æ‰¾åˆ°ä¿®å¤æäº¤çš„ hash</span>
git <span class="hljs-built_in">log</span> hotfix/bug-fix
<span class="hljs-comment"># commit abc1234: Fix critical security issue</span>

<span class="hljs-comment"># åˆ‡æ¢åˆ° main åˆ†æ”¯</span>
git checkout main

<span class="hljs-comment"># åº”ç”¨è¿™ä¸ªæäº¤</span>
git cherry-pick abc1234
</code></pre>
<h4 data-id="heading-33">é«˜çº§é€‰é¡¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªåº”ç”¨æ›´æ”¹ï¼Œä¸è‡ªåŠ¨æäº¤</span>
git cherry-pick -n &lt;commit-hash&gt;
<span class="hljs-comment"># æˆ–è€…</span>
git cherry-pick --no-commit &lt;commit-hash&gt;

<span class="hljs-comment"># ç¼–è¾‘æäº¤ä¿¡æ¯</span>
git cherry-pick -e &lt;commit-hash&gt;

<span class="hljs-comment"># å¦‚æœé‡åˆ°å†²çªï¼Œç»§ç»­ cherry-pick</span>
git cherry-pick --<span class="hljs-built_in">continue</span>

<span class="hljs-comment"># æ”¾å¼ƒ cherry-pick</span>
git cherry-pick --abort
</code></pre>
<hr/>
<h3 data-id="heading-34">6. git submodule - å­æ¨¡å—ç®¡ç†</h3>
<h4 data-id="heading-35">ä»€ä¹ˆæ˜¯ submoduleï¼Ÿ</h4>
<p>Submodule å…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå¦ä¸€ä¸ª Git ä»“åº“çš„å­ç›®å½•ï¼Œå¸¸ç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–ã€‚</p>
<h4 data-id="heading-36">åŸºæœ¬æ“ä½œ</h4>
<h5 data-id="heading-37">æ·»åŠ å­æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash">git submodule add &lt;repository-url&gt; &lt;path&gt;

<span class="hljs-comment"># ç¤ºä¾‹</span>
git submodule add https://github.com/user/library.git libs/external-library
</code></pre>
<h5 data-id="heading-38">å…‹éš†åŒ…å«å­æ¨¡å—çš„é¡¹ç›®</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³• 1ï¼šé€’å½’å…‹éš†</span>
git <span class="hljs-built_in">clone</span> --recursive &lt;repository-url&gt;

<span class="hljs-comment"># æ–¹æ³• 2ï¼šå…ˆå…‹éš†ï¼Œå†åˆå§‹åŒ–å­æ¨¡å—</span>
git <span class="hljs-built_in">clone</span> &lt;repository-url&gt;
git submodule init
git submodule update

<span class="hljs-comment"># æˆ–è€…åˆå¹¶æ‰§è¡Œ</span>
git submodule update --init --recursive
</code></pre>
<h5 data-id="heading-39">æ›´æ–°å­æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°æ‰€æœ‰å­æ¨¡å—åˆ°æœ€æ–°æäº¤</span>
git submodule update --remote

<span class="hljs-comment"># æ›´æ–°ç‰¹å®šå­æ¨¡å—</span>
git submodule update --remote libs/external-library
</code></pre>
<h5 data-id="heading-40">åˆ é™¤å­æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ é™¤ .gitmodules ä¸­çš„æ¡ç›®</span>
git <span class="hljs-built_in">rm</span> --cached libs/external-library

<span class="hljs-comment"># 2. åˆ é™¤ .git/modules ä¸­çš„ç›®å½•</span>
<span class="hljs-built_in">rm</span> -rf .git/modules/libs/external-library

<span class="hljs-comment"># 3. åˆ é™¤å·¥ä½œç›®å½•</span>
<span class="hljs-built_in">rm</span> -rf libs/external-library

<span class="hljs-comment"># 4. æäº¤æ›´æ”¹</span>
git commit -m <span class="hljs-string">"Remove submodule"</span>
</code></pre>
<hr/>
<h3 data-id="heading-41">7. git filter-branch / git filter-repo - é‡å†™å†å²</h3>
<h4 data-id="heading-42">git filter-branchï¼ˆå·²å¼ƒç”¨ï¼Œä½†ä»æœ‰å‚è€ƒä»·å€¼ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»æ‰€æœ‰æäº¤ä¸­åˆ é™¤æŸä¸ªæ–‡ä»¶</span>
git filter-branch --tree-filter <span class="hljs-string">'rm -f passwords.txt'</span> HEAD

<span class="hljs-comment"># ä¿®æ”¹æ‰€æœ‰æäº¤çš„é‚®ç®±</span>
git filter-branch --env-filter <span class="hljs-string">'
OLD_EMAIL="old@example.com"
CORRECT_NAME="Your Name"
CORRECT_EMAIL="new@example.com"

if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_COMMITTER_NAME="$CORRECT_NAME"
    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"
fi
if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_AUTHOR_NAME="$CORRECT_NAME"
    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"
fi
'</span> --tag-name-filter <span class="hljs-built_in">cat</span> -- --branches --tags
</code></pre>
<h4 data-id="heading-43">git filter-repoï¼ˆæ¨èä½¿ç”¨ï¼‰</h4>
<p><code>git filter-repo</code> æ˜¯ <code>git filter-branch</code> çš„ç°ä»£æ›¿ä»£å“ï¼Œæ›´å¿«æ›´å®‰å…¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…ï¼ˆéœ€è¦å•ç‹¬å®‰è£…ï¼‰</span>
pip install git-filter-repo

<span class="hljs-comment"># åˆ é™¤æ–‡ä»¶</span>
git filter-repo --path passwords.txt --invert-paths

<span class="hljs-comment"># é‡å†™è·¯å¾„</span>
git filter-repo --path-rename old/path:new/path

<span class="hljs-comment"># ä¿®æ”¹æäº¤ä¿¡æ¯</span>
git filter-repo --message-callback <span class="hljs-string">'return message.replace(b"old", b"new")'</span>
</code></pre>
<p><strong>âš ï¸ è­¦å‘Šï¼š</strong> è¿™äº›å‘½ä»¤ä¼šé‡å†™ Git å†å²ï¼Œä½¿ç”¨å‰è¯·å¤‡ä»½ä»“åº“ï¼</p>
<hr/>
<h3 data-id="heading-44">8. git blame - ä»£ç è´£ä»»è¿½è¸ª</h3>
<h4 data-id="heading-45">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶çš„æ¯ä¸€è¡Œæ˜¯è°ä¿®æ”¹çš„</span>
git blame &lt;file&gt;

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šè¡Œçš„è¯¦ç»†ä¿¡æ¯</span>
git blame -L &lt;start-line&gt;,&lt;end-line&gt; &lt;file&gt;

<span class="hljs-comment"># ç¤ºä¾‹ï¼šæŸ¥çœ‹ç¬¬ 10-20 è¡Œ</span>
git blame -L 10,20 src/utils.js
</code></pre>
<h4 data-id="heading-46">é«˜çº§é€‰é¡¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¿½ç•¥ç©ºç™½æ›´æ”¹</span>
git blame -w &lt;file&gt;

<span class="hljs-comment"># æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯</span>
git blame -C -C -C &lt;file&gt;  <span class="hljs-comment"># æ£€æµ‹ä»£ç ç§»åŠ¨å’Œå¤åˆ¶</span>

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„ blame</span>
git blame &lt;commit&gt; -- &lt;file&gt;
</code></pre>
<h4 data-id="heading-47">å®é™…åº”ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰¾å‡ºè°å¼•å…¥äº†æŸä¸ª Bug</span>
git blame -L 42,42 src/buggy-file.js

<span class="hljs-comment"># æŸ¥çœ‹ä»£ç çš„æ¼”å˜å†å²</span>
git <span class="hljs-built_in">log</span> -p -L 42,42:src/buggy-file.js
</code></pre>
<hr/>
<h3 data-id="heading-48">9. git log çš„é«˜çº§ç”¨æ³•</h3>
<h4 data-id="heading-49">å›¾å½¢åŒ–æ˜¾ç¤º</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ˜¾ç¤ºåˆ†æ”¯å›¾</span>
git <span class="hljs-built_in">log</span> --oneline --graph --all

<span class="hljs-comment"># æ›´ç¾è§‚çš„å›¾å½¢</span>
git <span class="hljs-built_in">log</span> --graph --pretty=format:<span class="hljs-string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'</span> --abbrev-commit --all
</code></pre>
<h4 data-id="heading-50">æœç´¢æäº¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰ä½œè€…æœç´¢</span>
git <span class="hljs-built_in">log</span> --author=<span class="hljs-string">"John"</span>

<span class="hljs-comment"># æŒ‰æäº¤ä¿¡æ¯æœç´¢</span>
git <span class="hljs-built_in">log</span> --grep=<span class="hljs-string">"bug fix"</span>

<span class="hljs-comment"># æŒ‰æ–‡ä»¶æœç´¢</span>
git <span class="hljs-built_in">log</span> -- &lt;file-path&gt;

<span class="hljs-comment"># æŒ‰ä»£ç å†…å®¹æœç´¢ï¼ˆpickaxeï¼‰</span>
git <span class="hljs-built_in">log</span> -S <span class="hljs-string">"functionName"</span>  <span class="hljs-comment"># æŸ¥æ‰¾æ·»åŠ æˆ–åˆ é™¤è¯¥å­—ç¬¦ä¸²çš„æäº¤</span>
git <span class="hljs-built_in">log</span> -G <span class="hljs-string">"regex"</span>         <span class="hljs-comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span>
</code></pre>
<h4 data-id="heading-51">æ—¶é—´èŒƒå›´</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ€è¿‘ä¸€å‘¨çš„æäº¤</span>
git <span class="hljs-built_in">log</span> --since=<span class="hljs-string">"1 week ago"</span>

<span class="hljs-comment"># ç‰¹å®šæ—¥æœŸèŒƒå›´</span>
git <span class="hljs-built_in">log</span> --since=<span class="hljs-string">"2024-01-01"</span> --until=<span class="hljs-string">"2024-01-31"</span>

<span class="hljs-comment"># æœ€è¿‘ N ä¸ªæäº¤</span>
git <span class="hljs-built_in">log</span> -10
</code></pre>
<h4 data-id="heading-52">ç»Ÿè®¡ä¿¡æ¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„æ›´æ”¹ç»Ÿè®¡</span>
git <span class="hljs-built_in">log</span> --<span class="hljs-built_in">stat</span>

<span class="hljs-comment"># æ˜¾ç¤ºè¯¦ç»†çš„ä»£ç æ›´æ”¹</span>
git <span class="hljs-built_in">log</span> -p

<span class="hljs-comment"># æ˜¾ç¤ºç®€çŸ­çš„ç»Ÿè®¡</span>
git <span class="hljs-built_in">log</span> --shortstat
</code></pre>
<hr/>
<h3 data-id="heading-53">10. git clean - æ¸…ç†æœªè·Ÿè¸ªçš„æ–‡ä»¶</h3>
<h4 data-id="heading-54">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é¢„è§ˆå°†è¦åˆ é™¤çš„æ–‡ä»¶ï¼ˆå¹²è¿è¡Œï¼‰</span>
git clean -n

<span class="hljs-comment"># åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶</span>
git clean -f

<span class="hljs-comment"># åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶å’Œç›®å½•</span>
git clean -fd

<span class="hljs-comment"># äº¤äº’å¼åˆ é™¤</span>
git clean -i
</code></pre>
<h4 data-id="heading-55">é«˜çº§é€‰é¡¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªåˆ é™¤ç‰¹å®šç±»å‹çš„æ–‡ä»¶</span>
git clean -f <span class="hljs-string">"*.log"</span>

<span class="hljs-comment"># æ’é™¤æŸäº›æ–‡ä»¶</span>
git clean -fd --exclude=<span class="hljs-string">"*.tmp"</span>

<span class="hljs-comment"># åˆ é™¤è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼ˆ.gitignore ä¸­çš„æ–‡ä»¶ï¼‰</span>
git clean -fX

<span class="hljs-comment"># åˆ é™¤æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬è¢«å¿½ç•¥çš„</span>
git clean -fx
</code></pre>
<hr/>
<h3 data-id="heading-56">11. git rerere - é‡ç”¨å·²è§£å†³çš„å†²çª</h3>
<h4 data-id="heading-57">ä»€ä¹ˆæ˜¯ rerereï¼Ÿ</h4>
<p><code>rerere</code> (Reuse Recorded Resolution) å¯ä»¥è®°ä½ä½ å¦‚ä½•è§£å†³å†²çªï¼Œå½“ç›¸åŒå†²çªå†æ¬¡å‡ºç°æ—¶è‡ªåŠ¨åº”ç”¨ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-58">å¯ç”¨ rerere</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å¯ç”¨</span>
git config --global rerere.enabled <span class="hljs-literal">true</span>

<span class="hljs-comment"># æˆ–è€…åªå¯¹å½“å‰ä»“åº“å¯ç”¨</span>
git config rerere.enabled <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-59">ä½¿ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯ï¼šé•¿æœŸåˆ†æ”¯åˆå¹¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¯ç”¨ rerere</span>
git config rerere.enabled <span class="hljs-literal">true</span>

<span class="hljs-comment"># 2. åˆå¹¶åˆ†æ”¯ï¼Œè§£å†³å†²çª</span>
git merge feature-branch
<span class="hljs-comment"># æ‰‹åŠ¨è§£å†³å†²çª...</span>

<span class="hljs-comment"># 3. æäº¤</span>
git commit

<span class="hljs-comment"># 4. å¦‚æœä¹‹åå†æ¬¡é‡åˆ°ç›¸åŒçš„å†²çªï¼ŒGit ä¼šè‡ªåŠ¨åº”ç”¨ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆ</span>
</code></pre>
<hr/>
<h3 data-id="heading-60">12. git notes - ä¸ºæäº¤æ·»åŠ æ³¨é‡Š</h3>
<h4 data-id="heading-61">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸ºæäº¤æ·»åŠ æ³¨é‡Š</span>
git notes add &lt;commit-hash&gt;

<span class="hljs-comment"># æŸ¥çœ‹æ³¨é‡Š</span>
git notes show &lt;commit-hash&gt;

<span class="hljs-comment"># ç¼–è¾‘æ³¨é‡Š</span>
git notes edit &lt;commit-hash&gt;

<span class="hljs-comment"># åˆ é™¤æ³¨é‡Š</span>
git notes remove &lt;commit-hash&gt;
</code></pre>
<h4 data-id="heading-62">å®é™…åº”ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸ºæäº¤æ·»åŠ ä»£ç å®¡æŸ¥æ³¨é‡Š</span>
git notes add -m <span class="hljs-string">"Reviewed by John, approved"</span> abc1234

<span class="hljs-comment"># æ·»åŠ æ€§èƒ½æµ‹è¯•ç»“æœ</span>
git notes add -m <span class="hljs-string">"Performance: 1000 req/s"</span> def5678

<span class="hljs-comment"># æŸ¥çœ‹å¸¦æ³¨é‡Šçš„æ—¥å¿—</span>
git <span class="hljs-built_in">log</span> --show-notes=*
</code></pre>
<hr/>
<h3 data-id="heading-63">æ€»ç»“</h3>
<p>è¿™äº› Git å‘½ä»¤è™½ç„¶ä¸å¸¸ç”¨ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹èƒ½æ˜¾è‘—æå‡å·¥ä½œæ•ˆç‡ï¼š</p>
<ul>
<li><strong>git worktree</strong> - å¤šåˆ†æ”¯å¹¶è¡Œå¼€å‘</li>
<li><strong>git reflog</strong> - æ‰¾å›"ä¸¢å¤±"çš„æäº¤</li>
<li><strong>git bisect</strong> - å¿«é€Ÿå®šä½ Bug</li>
<li><strong>git stash</strong> - çµæ´»çš„æš‚å­˜ç®¡ç†</li>
<li><strong>git cherry-pick</strong> - é€‰æ‹©æ€§åº”ç”¨æäº¤</li>
<li><strong>git submodule</strong> - ç®¡ç†é¡¹ç›®ä¾èµ–</li>
<li><strong>git filter-repo</strong> - é‡å†™å†å²ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</li>
<li><strong>git blame</strong> - ä»£ç è´£ä»»è¿½è¸ª</li>
<li><strong>git log</strong> - å¼ºå¤§çš„æäº¤æŸ¥è¯¢</li>
<li><strong>git clean</strong> - æ¸…ç†å·¥ä½œåŒº</li>
<li><strong>git rerere</strong> - è‡ªåŠ¨è§£å†³é‡å¤å†²çª</li>
<li><strong>git notes</strong> - ä¸ºæäº¤æ·»åŠ å…ƒæ•°æ®</li>
</ul>
<p>æŒæ¡è¿™äº›å‘½ä»¤ï¼Œèƒ½è®©ä½ åœ¨å¤æ‚çš„å¼€å‘åœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚å»ºè®®åœ¨å®é™…é¡¹ç›®ä¸­é€æ­¥å°è¯•ä½¿ç”¨ï¼Œç§¯ç´¯ç»éªŒã€‚</p>
<hr/>
<h3 data-id="heading-64">å»¶ä¼¸é˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fdoc" target="_blank" title="https://git-scm.com/doc" ref="nofollow noopener noreferrer">Git å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fbook%2Fzh%2Fv2" target="_blank" title="https://git-scm.com/book/zh/v2" ref="nofollow noopener noreferrer">Pro Git ä¸­æ–‡ç‰ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fdocs%2Fgit-worktree" target="_blank" title="https://git-scm.com/docs/git-worktree" ref="nofollow noopener noreferrer">Git Worktree å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr/>
<p><em>æœ€åæ›´æ–°ï¼š2024å¹´</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘åšäº†ä¸€ä¸ªâ€œæ…¢æ…¢æ¥â€çš„å¼€æºä»»åŠ¡ç®¡ç†å·¥å…·ï¼šèœ—ç‰›å¾…åŠï¼ˆReact + Supabase + Tauriï¼‰]]></title>    <link>https://juejin.cn/post/7584834746062487586</link>    <guid>https://juejin.cn/post/7584834746062487586</guid>    <pubDate>2025-12-18T08:36:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746062487586" data-draft-id="7584909732613013539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘åšäº†ä¸€ä¸ªâ€œæ…¢æ…¢æ¥â€çš„å¼€æºä»»åŠ¡ç®¡ç†å·¥å…·ï¼šèœ—ç‰›å¾…åŠï¼ˆReact + Supabase + Tauriï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,ç¨‹åºå‘˜,React.js"/> <meta itemprop="datePublished" content="2025-12-18T08:36:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªå«ç…¤çƒçš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/1732486058745054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘åšäº†ä¸€ä¸ªâ€œæ…¢æ…¢æ¥â€çš„å¼€æºä»»åŠ¡ç®¡ç†å·¥å…·ï¼šèœ—ç‰›å¾…åŠï¼ˆReact + Supabase + Tauriï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1732486058745054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªå«ç…¤çƒçš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:36:17.000Z" title="Thu Dec 18 2025 08:36:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æˆ‘ä¸ºä»€ä¹ˆåšè¿™ä¸ª</h2>
<p>å¸‚é¢ä¸Šçš„ To-Do åº”ç”¨ä¸å°‘ï¼Œä» Todoistã€TickTick åˆ° Notionã€é£ä¹¦ï¼ŒåŠŸèƒ½è¶Šæ¥è¶Šé‡ã€‚</p>
<p>ä½†æˆ‘å‘ç°è‡ªå·±çœŸæ­£éœ€è¦çš„å…¶å®å¾ˆç®€å•ï¼šèƒ½åˆ†é¡¹ç›®ç®¡ç†ä»»åŠ¡ã€æœ‰ä¸ªæ—¥æœŸè§†å›¾ã€æ”¯æŒæ ‡ç­¾è¿‡æ»¤ã€è¯¦æƒ…èƒ½å†™ç‚¹ Markdownâ€”â€”ä»…æ­¤è€Œå·²ã€‚</p>
<p>é—®é¢˜åœ¨äºï¼šè½»é‡çš„å·¥å…·åŠŸèƒ½ä¸å¤Ÿï¼ŒåŠŸèƒ½å…¨çš„å·¥å…·åˆå¤ªé‡ã€‚</p>
<p>äºæ˜¯æˆ‘å¼€å§‹å†™èœ—ç‰›å¾…åŠï¼ˆSnail TodoListï¼‰ã€‚ç›®æ ‡å¾ˆæ˜ç¡®ï¼š<strong>è¶³å¤Ÿå¼ºå¤§ä½†ä¿æŒè½»é‡ï¼Œæ•°æ®è¿˜å¯ä»¥è‡ªå·±æŒæ§</strong>ã€‚</p>
<p>åå­—é‡Œçš„â€œèœ—ç‰›â€ä¸æ˜¯è‡ªå˜²æ…¢ï¼Œè€Œæ˜¯æƒ³è¡¨è¾¾ä¸€ç§èŠ‚å¥â€”â€”æŒç»­æ¨è¿›ï¼Œä¸æ€¥ä¸èºã€‚é€‚åˆé‚£äº›æœ‰é•¿æœŸç›®æ ‡ã€éœ€è¦ç¨³å®šè®°å½•å’Œå›é¡¾çš„äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a6eae0f8a4248dd8129e924438da41c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=v%2FdbsEqH%2Fu44M3yEq96ewn03PXc%3D" alt="logo_å‰¯æœ¬snail.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d047c392f2714d9f9d0672703494f1b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=%2BIFy073ItiLGxcmoQ5n0uj3lelQ%3D" alt="PixPin_2025-12-18_16-33-59.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9510bdaa504b41d287d9ae1b5b20de23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=RxSsYasiYH5zjs%2B585M%2Fwyka1PI%3D" alt="PixPin_2025-12-18_16-34-18.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8acaed93e7564aa485cd347d3c9775d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=AgZiGdNvVLpCqfQsFr89vpZxFxM%3D" alt="PixPin_2025-12-18_16-34-30.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e79f08a447814be2a7d191dc6c0acd60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=dHIj5OgY9ZqEzwmHrvXqbf0p7RM%3D" alt="PixPin_2025-12-18_16-34-40.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">å®ƒèƒ½è§£å†³ä»€ä¹ˆ</h2>
<p><strong>åœºæ™¯ä¸€ï¼šä¸ªäººæ—¥å¸¸</strong></p>
<p>ä½ æœ‰å‡ ä¸ªå¹¶è¡Œçš„äº‹æƒ…ï¼šå·¥ä½œä»»åŠ¡ã€å‰¯ä¸šé¡¹ç›®ã€å­¦ä¹ è®¡åˆ’ã€ç”Ÿæ´»çäº‹ã€‚ä½ éœ€è¦æŒ‰é¡¹ç›®åˆ†ç»„ï¼Œå¿«é€Ÿçœ‹åˆ°â€œä»Šå¤©è¦åšä»€ä¹ˆâ€å’Œâ€œè¿™å‘¨è¿˜å‰©ä»€ä¹ˆâ€ï¼Œå¶å°”ç»™ä»»åŠ¡æ‰“ä¸ªæ ‡ç­¾æ–¹ä¾¿åç»­ç­›é€‰ã€‚</p>
<p>Snail TodoList åˆšå¥½å¤Ÿç”¨ã€‚</p>
<p><strong>åœºæ™¯äºŒï¼šè½»é‡å›¢é˜Ÿåä½œ</strong></p>
<p>å¦‚æœä½ å’Œä¸¤ä¸‰ä¸ªäººä¸€èµ·æ¨è¿›ä¸€ä¸ªå°é¡¹ç›®ï¼Œä¸éœ€è¦ Jira é‚£ç§é‡å‹å·¥å…·ï¼Œåªæƒ³æœ‰ä¸ªåœ°æ–¹è®°å½•ä»»åŠ¡ã€åˆ†é…è´Ÿè´£äººã€çœ‹çœ‹è¿›åº¦â€”â€”è¿™ä¸ªå·¥å…·ä¹Ÿèƒ½èƒœä»»ã€‚Supabase çš„ Realtime èƒ½åŠ›è®©å¤šäººåä½œæ—¶æ•°æ®åŒæ­¥ä¸æˆé—®é¢˜ã€‚</p>
<p>Snail TodoList åˆšå¥½æ”¯æŒã€‚</p>
<p><strong>å’Œå¸‚é¢å·¥å…·çš„å·®å¼‚</strong></p>
<p>æˆ‘ä¸æ‰“ç®—æŠŠ Snail TodoList åšæˆæ›¿ä»£æ‰€æœ‰å·¥å…·çš„å¤§è€Œå…¨ç³»ç»Ÿã€‚å®ƒæ›´åƒä¸€ä¸ªå·¥ç¨‹åŒ–çš„ ToDoï¼š</p>
<ul>
<li><strong>è½»é‡ä½†å¤Ÿç”¨</strong>ï¼šå›´ç»•ä»»åŠ¡æ¨è¿›çš„å¿…éœ€èƒ½åŠ›åšæ·±ï¼ˆæ—¶é—´è§†å›¾ã€æ ‡ç­¾ã€å¯Œæ–‡æœ¬ã€ç»Ÿè®¡ï¼‰ï¼Œä½†ä¸è¿½æ±‚å¤æ‚æµç¨‹ä¸è¿‡åº¦åä½œã€‚</li>
<li><strong>æ•°æ®å¯æ§ã€å¯è‡ªéƒ¨ç½²</strong>ï¼šä½ å¯ä»¥é€‰æ‹©æŠŠæ•°æ®æŒæ¡åœ¨è‡ªå·±æ‰‹é‡Œï¼Œè€Œä¸æ˜¯è¢«æŸä¸ªå¹³å°çš„å°é—­ç”Ÿæ€ç»‘å®šã€‚</li>
<li><strong>è¾¹ç•Œä¹Ÿå¾ˆæ˜ç¡®</strong>ï¼šå¦‚æœä½ éœ€è¦å¤§å‹å›¢é˜Ÿçš„å¤šå±‚æƒé™ã€å®¡æ‰¹æµã€å¤æ‚çœ‹æ¿/ç”˜ç‰¹å›¾ï¼Œè¿™ä¸ªé¡¹ç›®ç›®å‰ä¸æ˜¯é‚£ä¸ªæ–¹å‘ã€‚</li>
<li/>
</ul>
<hr/>
<h2 data-id="heading-2">åŠŸèƒ½äº®ç‚¹</h2>
<h3 data-id="heading-3">ä»»åŠ¡ç®¡ç†</h3>
<ul>
<li>æ–°å¢ã€ç¼–è¾‘ã€å®Œæˆã€æ”¾å¼ƒã€æ¢å¤ï¼Œè¦†ç›–ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸ</li>
<li>æ”¯æŒé¡¹ç›®åˆ†ç»„ï¼Œæ‹–æ‹½æ’åº</li>
<li>ä»»åŠ¡è¯¦æƒ…æ”¯æŒå¯Œæ–‡æœ¬ï¼ˆMarkdownã€å›¾ç‰‡ã€ä»£ç å—ï¼‰</li>
</ul>
<h3 data-id="heading-4">æ—¶é—´è§†å›¾</h3>
<ul>
<li>â€œä»Šå¤©â€å’Œâ€œæœ€è¿‘ 7 å¤©â€å¿«é€Ÿå…¥å£</li>
<li>é€¾æœŸä»»åŠ¡ç­›é€‰ï¼Œä¸è®©äº‹æƒ…æ‚„æ‚„æºœèµ°</li>
</ul>
<h3 data-id="heading-5">æ ‡ç­¾ä½“ç³»</h3>
<ul>
<li>æ ‡ç­¾å¢åˆ ã€è¿‡æ»¤ã€è·¨é¡¹ç›®å¤ç”¨</li>
<li>é€‚åˆæŒ‰ä¸»é¢˜æˆ–ä¼˜å…ˆçº§ç»„ç»‡ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-6">æ‰“å¡ä¸ç»Ÿè®¡</h3>
<ul>
<li>å†…ç½®æ‰“å¡æ—¥å†</li>
<li>è¿ç»­å¤©æ•°ç»Ÿè®¡ã€æ€»æ¬¡æ•°æ¦‚è§ˆ</li>
<li>é€‚åˆä¹ æƒ¯å…»æˆæˆ–å‘¨æœŸæ€§ä»»åŠ¡è¿½è¸ª</li>
</ul>
<hr/>
<h2 data-id="heading-7">æŠ€æœ¯å®ç°ä¸æ¶æ„</h2>
<h3 data-id="heading-8">å‰ç«¯</h3>
<ul>
<li><strong>React 18 + TypeScript</strong>ï¼šç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒå¥½</li>
<li><strong>Vite</strong>ï¼šå¯åŠ¨å¿«ï¼ŒHMR ä¸æ»‘</li>
<li><strong>shadcn/ui + Radix UI + Tailwind CSS</strong>ï¼šç»„ä»¶è´¨é‡é«˜ï¼Œæ ·å¼å¯æ§ï¼Œä¸ä¾èµ–é‡å‹ UI åº“</li>
</ul>
<h3 data-id="heading-9">æ•°æ®å±‚</h3>
<ul>
<li><strong>Supabase</strong>ï¼šPostgreSQL + Auth + Storage + Realtime ä¸€ç«™å¼è§£å†³</li>
<li>é€‰æ‹© Supabase è€Œé Firebaseï¼Œä¸»è¦æ˜¯å› ä¸º PostgreSQL æ›´ç†Ÿæ‚‰ï¼ŒSQL èƒ½åŠ›æ›´å¼ºï¼Œä¸”æœ‰è‡ªå»ºé€‰é¡¹</li>
</ul>
<h3 data-id="heading-10">çŠ¶æ€ç®¡ç†</h3>
<ul>
<li><strong>TanStack Query</strong>ï¼šæœåŠ¡ç«¯çŠ¶æ€ç®¡ç†ï¼Œç¼“å­˜ã€é‡è¯•ã€ä¹è§‚æ›´æ–°éƒ½æœ‰</li>
<li><strong>Zustand</strong>ï¼šå®¢æˆ·ç«¯çŠ¶æ€ï¼Œè½»é‡ä¸”ç›´è§‚</li>
<li><strong>React Context</strong>ï¼šAuthã€Project ç­‰å…¨å±€ä¸Šä¸‹æ–‡</li>
</ul>
<h3 data-id="heading-11">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h3>
<ul>
<li><strong>Milkdown</strong>ï¼šåŸºäº ProseMirror çš„ Markdown ç¼–è¾‘å™¨ï¼Œæ’ä»¶åŒ–è®¾è®¡ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ ã€ä»£ç å—ã€GFM è¯­æ³•</li>
</ul>
<h3 data-id="heading-12">æ¡Œé¢ç«¯</h3>
<ul>
<li><strong>Tauri</strong>ï¼šRust å†…æ ¸ï¼Œæ‰“åŒ…ä½“ç§¯å°ï¼Œæ€§èƒ½å¥½ã€‚ç›®å‰å·²é›†æˆï¼Œä½†æ„å»ºé“¾è·¯ä»åœ¨å®Œå–„ä¸­</li>
</ul>
<hr/>
<h2 data-id="heading-13">Roadmapï¼šTauri æ¡Œé¢å®¢æˆ·ç«¯</h2>
<p>æˆ‘æ­£åœ¨æŠŠ Snail TodoList åšæˆ Tauri æ¡Œé¢åº”ç”¨ï¼Œä½†ç”Ÿäº§æ„å»ºåœ¨æŸäº›ç¯å¢ƒä¸‹è¿˜æœ‰é—®é¢˜ï¼ŒåŠªåŠ›å®šä½é—®é¢˜ä¸­...</p>
<p>å¦‚æœä½ å¯¹ Tauri æ‰“åŒ…ã€è·¨å¹³å°æ„å»ºæœ‰ç»éªŒï¼Œéå¸¸æ¬¢è¿ä¸€èµ·æ’æŸ¥ã€‚ç›¸å…³è®¨è®ºå¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FwuuJiawei%2Fsnail-todolist%2Fissues" target="_blank" title="https://github.com/wuuJiawei/snail-todolist/issues" ref="nofollow noopener noreferrer">Issues</a> é‡Œè¿›è¡Œã€‚</p>
<hr/>
<h2 data-id="heading-14">å¦‚ä½•å‚ä¸è´¡çŒ®</h2>
<p>è¿™ä¸ªé¡¹ç›®è¿˜åœ¨æ—©æœŸï¼Œæœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‚åˆå…¥æ‰‹çš„æ–¹å‘ï¼š</p>
<ul>
<li><strong>Tauri æ„å»ºé—®é¢˜æ’æŸ¥</strong>ï¼šå¸®åŠ©å®šä½è·¨å¹³å°æ‰“åŒ…çš„é—®é¢˜</li>
<li><strong>UI/äº¤äº’ä¼˜åŒ–</strong>ï¼šåŠ¨ç”»ã€è¿‡æ¸¡ã€å“åº”å¼ç»†èŠ‚</li>
<li><strong>ç§»åŠ¨ç«¯ä½“éªŒ</strong>ï¼šè§¦æ§äº¤äº’ã€æ‰‹åŠ¿æ”¯æŒ</li>
<li><strong>å›½é™…åŒ–</strong>ï¼šç›®å‰åªæœ‰ä¸­æ–‡ï¼Œæ¬¢è¿æ·»åŠ å¤šè¯­è¨€æ”¯æŒ</li>
<li><strong>æ–‡æ¡£å®Œå–„</strong>ï¼šæ•°æ®åº“ Schema è¯´æ˜ã€éƒ¨ç½²æŒ‡å—è¡¥å……</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šå•å…ƒæµ‹è¯•ã€E2E æµ‹è¯•</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¤§é‡ä»»åŠ¡æ—¶çš„æ¸²æŸ“æ€§èƒ½</li>
<li><strong>æ–°åŠŸèƒ½å»ºè®®</strong>ï¼šåœ¨ Issue é‡Œæï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®º</li>
</ul>
<p>è´¡çŒ®æµç¨‹ï¼šFork â†’ æ–°å»ºåˆ†æ”¯ â†’ æäº¤ PR â†’ ç­‰å¾… Review</p>
<hr/>
<h2 data-id="heading-15">æœ€å</h2>
<p>å¦‚æœä½ ä¹Ÿåœ¨æ‰¾ä¸€ä¸ªå¤Ÿç”¨å°±å¥½çš„ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œæˆ–è€…å¯¹ React + Supabase + Tauri è¿™å¥—æŠ€æœ¯æ ˆæ„Ÿå…´è¶£ï¼Œæ¬¢è¿è¯•ç”¨å’Œåé¦ˆã€‚</p>
<ul>
<li>ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FwuuJiawei%2Fsnail-todolist" target="_blank" title="https://github.com/wuuJiawei/snail-todolist" ref="nofollow noopener noreferrer">github.com/wuuJiawei/sâ€¦</a></li>
<li>åœ¨çº¿ä½“éªŒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsnail-todolist.vercel.app" target="_blank" title="https://snail-todolist.vercel.app" ref="nofollow noopener noreferrer">snail-todolist.vercel.app</a></li>
</ul>
<p>Star æ˜¯æœ€å¥½çš„é¼“åŠ±ï¼ŒIssue å’Œ PR æ›´æ˜¯æ¬¢è¿ã€‚</p>
<p>æ„¿ä½ åœ¨èœ—ç‰›èˆ¬çš„æ­¥è°ƒä¸­ï¼Œä¹Ÿèƒ½æŒç»­æ¨è¿›æ¯ä¸€ä¸ªç›®æ ‡ ğŸŒ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mac Mysql å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰]]></title>    <link>https://juejin.cn/post/7585021315690545162</link>    <guid>https://juejin.cn/post/7585021315690545162</guid>    <pubDate>2025-12-18T08:24:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315690545162" data-draft-id="7584810656383254537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mac Mysql å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-18T08:24:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mac Mysql å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:24:00.000Z" title="Thu Dec 18 2025 08:24:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å®‰è£…</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbrew.sh%2F" target="_blank" title="https://brew.sh/" ref="nofollow noopener noreferrer">homebrew</a></p>
</li>
<li>
<p><code>homebrew search mysql</code> å¯ä»¥ç›´æ¥å®‰è£…ï¼Œæˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mysql.com%2F" target="_blank" title="https://www.mysql.com/" ref="nofollow noopener noreferrer">å®˜æ–¹ä¸‹è½½</a>ã€‚</p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583632757836464179" target="_blank" title="https://juejin.cn/post/7583632757836464179">Windows å®‰è£…å‚è€ƒæ–‡ç« </a></p>
</li>
</ul>
<h2 data-id="heading-1">äºŒã€å¯è§†åŒ–</h2>
<ul>
<li>
<p>åœ¨ <code>Windows å‚è€ƒæ–‡ç« </code> ä¸­æœ‰ä»‹ç»è¿‡äº†ï¼Œç›´æ¥å®‰è£… <code>dbeaver</code></p>
<pre><code class="hljs language-sh" lang="sh">$ brew search dbeaver
</code></pre>
<p><code>Casks</code>ï¼ˆ<code>GUI</code> åº”ç”¨ç¨‹åºï¼‰ï¼š</p>
<ol>
<li><strong><code>dbeaver-community</code></strong>Â - âœ…Â <strong>æ¨è</strong>Â - ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼ŒåŠŸèƒ½å®Œæ•´ï¼‰</li>
<li><code>dbeaver-enterprise</code>Â - ä¼ä¸šç‰ˆï¼ˆéœ€è¦ä»˜è´¹è®¸å¯è¯ï¼‰</li>
<li><code>dbeaverlite</code>Â - ç²¾ç®€ç‰ˆï¼ˆåŠŸèƒ½è¾ƒå°‘ï¼‰</li>
<li><code>dbeaverultimate</code>Â - Ultimate ç‰ˆæœ¬</li>
</ol>
</li>
<li>
<p>å®‰è£…</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># å®‰è£…å¯è§†åŒ–è½¯ä»¶éœ€è¦ä½¿ç”¨ --cask ï¼Œå¦‚æœä¸æ˜¯åˆ™ä¸éœ€è¦ä½¿ç”¨ï¼ŒCasks ä¸‹é¢çš„éƒ½éœ€è¦ï¼ŒFormulae ä¸‹é¢ä¸ç”¨å¸¦è¿™ä¸ªå‚æ•°</span>
$ brew install --cask dbeaver-community
</code></pre>
</li>
<li>
<p>ä¿®æ”¹è¯­è¨€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb065d8c61ce40daba04243b334c0786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCU54m55pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651040&amp;x-signature=G8mO0giPEMquIXJbyK9FRvKjTfc%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>ç„¶åé¡¶ä¸Šè¿æ¥æ•°æ®åº“å³å¯ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€]]></title>    <link>https://juejin.cn/post/7585013463857889330</link>    <guid>https://juejin.cn/post/7585013463857889330</guid>    <pubDate>2025-12-18T08:47:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585013463857889330" data-draft-id="7585013463857872946" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€"/> <meta itemprop="keywords" content="å‰ç«¯,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-18T08:47:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="eason_fan"/> <meta itemprop="url" content="https://juejin.cn/user/2995517308808877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2995517308808877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    eason_fan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:47:10.000Z" title="Thu Dec 18 2025 08:47:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå†…å­˜æ³„æ¼æ˜¯æœ€éšè”½ä¹Ÿæœ€å½±å“æ€§èƒ½çš„é—®é¢˜ä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯æ¶‰åŠäºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚ArrayBufferï¼‰çš„åœºæ™¯ã€‚æœ¬æ–‡å°†èšç„¦ä¸€ä¸ªå…¸å‹åœºæ™¯ â€”â€”resizeäº‹ä»¶ç›‘å¬å¼•å‘çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼Œæ‹†è§£èƒŒåçš„æ ¸å¿ƒåŸå› ï¼ˆéšå¼é—­åŒ… + æœªé”€æ¯çš„äº‹ä»¶ç›‘å¬ï¼‰ï¼Œå¹¶ç»™å‡ºå¯è½åœ°çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜ç°è±¡ï¼šå†…å­˜æŒç»­æš´æ¶¨ï¼ŒGC æŸæ‰‹æ— ç­–</h3>
<p>å…ˆçœ‹ä¸€ä¸ªå¸¸è§çš„ä¸šåŠ¡åœºæ™¯ï¼š</p>
<ul>
<li>é¡µé¢ä¸­æœ‰å¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„æ¨¡å—ï¼ˆå¦‚ WebGL æ¸²æŸ“ã€éŸ³è§†é¢‘è§£ç ï¼‰ï¼Œä½¿ç”¨ArrayBufferå­˜å‚¨å¤§ä½“ç§¯äºŒè¿›åˆ¶æ•°æ®ï¼›</li>
</ul>

<ul>
<li>ä¸ºé€‚é…çª—å£å¤§å°ï¼Œç»™windowç»‘å®šäº†resizeäº‹ä»¶ï¼Œç”¨äºè°ƒæ•´ Canvas / å¸ƒå±€å°ºå¯¸ï¼›</li>
</ul>

<ul>
<li>å³ä½¿ â€œé”€æ¯â€ äº†äºŒè¿›åˆ¶æ¨¡å—ï¼ˆç½®ç©ºå˜é‡ã€ç§»é™¤ DOMï¼‰ï¼Œå†…å­˜ä¾ç„¶æŒç»­ä¸Šæ¶¨ï¼Œå¤šæ¬¡è§¦å‘resizeåç”šè‡³å‡ºç°é¡µé¢å¡é¡¿ã€‚</li>
</ul>
<p>é€šè¿‡ Chrome DevTools çš„ Memory é¢æ¿åˆ†æå‘ç°ï¼š</p>
<ul>
<li>JSArrayBufferDataï¼ˆArrayBufferçš„åº•å±‚äºŒè¿›åˆ¶æ•°æ®å—ï¼‰æ•°é‡å’Œå†…å­˜å ç”¨æŒç»­å¢é•¿ï¼›</li>
</ul>

<ul>
<li>è¿™äº›äºŒè¿›åˆ¶æ•°æ®çš„å¼•ç”¨é“¾æœ€ç»ˆæŒ‡å‘HTMLDocument â†’ window â†’ resizeäº‹ä»¶ç›‘å¬å™¨ï¼Œæ— æ³•è¢«åƒåœ¾å›æ”¶ï¼ˆGCï¼‰é‡Šæ”¾ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒåŸå› ï¼šéšå¼é—­åŒ… + äº‹ä»¶ç›‘å¬å™¨çš„ â€œå¼ºæ ¹å¼•ç”¨â€</h3>
<p>å¾ˆå¤šå¼€å‘è€…ä¼šç–‘æƒ‘ï¼šâ€œæˆ‘çš„resizeå›è°ƒåªè°ƒæ•´äº† Canvas å°ºå¯¸ï¼Œæ˜æ˜æ²¡ç”¨åˆ°ArrayBufferï¼Œä¸ºä»€ä¹ˆä¼šæ³„æ¼ï¼Ÿâ€ é—®é¢˜çš„æ ¸å¿ƒåœ¨äº<strong>éšå¼é—­åŒ…</strong>å’Œ<strong>äº‹ä»¶ç›‘å¬å™¨çš„å¼ºæ ¹å¼•ç”¨</strong>ã€‚</p>
<h4 data-id="heading-3">2.1 å…ˆç†æ¸…å…³é”®æ¦‚å¿µ</h4>





















<table><thead><tr><th>æ¦‚å¿µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>JSArrayBufferData</td><td>V8 å¼•æ“ HEAP64ï¼ˆ64 ä½å †å†…å­˜ï¼‰ä¸­å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„åº•å±‚å—ï¼Œæ˜¯ArrayBufferçš„å®é™…æ•°æ®è½½ä½“</td></tr><tr><td>é—­åŒ…</td><td>JS å›è°ƒä¼šæ•è·å¤–éƒ¨ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ï¼ˆå“ªæ€•æ²¡æ˜¾å¼ä½¿ç”¨ï¼‰</td></tr><tr><td>å¼ºæ ¹å¼•ç”¨</td><td>HTMLDocument/windowæ˜¯æµè§ˆå™¨çº§åˆ«çš„å¼ºå¼•ç”¨æ ¹ï¼Œåªè¦é¡µé¢ä¸åˆ·æ–°ï¼Œå…¶å¼•ç”¨çš„å¯¹è±¡æ°¸è¿œä¸ä¼šè¢« GC å›æ”¶</td></tr></tbody></table>
<h4 data-id="heading-4">2.2 æ³„æ¼çš„å®Œæ•´å¼•ç”¨é“¾</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">HTMLDocument</span>ï¼ˆé¡µé¢æ ¹ï¼‰
  â†“ æŒæœ‰<span class="hljs-variable language_">window</span>å¯¹è±¡
<span class="hljs-variable language_">window</span>
  â†“ ç»‘å®šäº†resizeäº‹ä»¶ç›‘å¬å™¨ï¼ˆæœªè§£ç»‘ï¼‰
resizeäº‹ä»¶ç›‘å¬å™¨
  â†“ å›è°ƒé—­åŒ…æ•è·äº†ä¸šåŠ¡æ¨¡å—å®ä¾‹ï¼ˆå“ªæ€•æ²¡æ˜¾å¼ç”¨äºŒè¿›åˆ¶å¯¹è±¡ï¼‰
<span class="hljs-title class_">BinaryRenderer</span>å®ä¾‹
  â†“ æŒæœ‰<span class="hljs-title class_">ArrayBuffer</span>ï¼ˆäºŒè¿›åˆ¶æ•°æ®å®¹å™¨ï¼‰
<span class="hljs-title class_">ArrayBuffer</span>
  â†“ æŒ‡å‘<span class="hljs-title class_">HEAP64</span>ä¸­çš„äºŒè¿›åˆ¶æ•°æ®å—
<span class="hljs-title class_">JSArrayBufferData</span>ï¼ˆ<span class="hljs-title class_">HEAP64</span>å†…å­˜ï¼‰
</code></pre>
<h4 data-id="heading-5">2.3 éšå¼é—­åŒ…ï¼šæœ€å®¹æ˜“è¢«å¿½ç•¥çš„ â€œéšå½¢çº½å¸¦â€</h4>
<p>é—­åŒ…çš„å…³é”®ç‰¹æ€§ï¼š<strong>åªè¦å›è°ƒç”¨åˆ°äº†å¤–éƒ¨ä½œç”¨åŸŸçš„ä»»æ„å˜é‡ï¼Œå°±ä¼šæ•è·æ•´ä¸ªä¸Šä¸‹æ–‡ï¼Œè€Œéä»…æ˜¾å¼ä½¿ç”¨çš„å˜é‡</strong>ã€‚å“ªæ€•resizeå›è°ƒåªæ“ä½œäº† Canvasï¼Œåªè¦ç”¨åˆ°äº†æ¨¡å—å®ä¾‹çš„thisï¼ˆæˆ–å®ä¾‹å†…çš„ä»»æ„å˜é‡ï¼‰ï¼Œå°±ä¼šé¡ºå¸¦æ•è·å®ä¾‹ä¸­çš„ArrayBufferå¼•ç”¨ã€‚</p>
<h3 data-id="heading-6">ä¸‰ã€å¤ç°ç¤ºä¾‹ï¼šçœ‹ä¼¼æ— å®³çš„ä»£ç ï¼Œå®åˆ™æš—è—æ³„æ¼</h3>
<p>ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†çœŸå®ä¸šåŠ¡åœºæ™¯ï¼Œèƒ½å®Œæ•´å¤ç°ä¸Šè¿°æ³„æ¼é—®é¢˜ï¼š</p>
<h4 data-id="heading-7">3.1 æ³„æ¼ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„æ¸²æŸ“æ¨¡å—</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆ›å»º50MBçš„äºŒè¿›åˆ¶æ•°æ®å—ï¼ˆå¯¹åº”HEAP64ä¸­çš„JSArrayBufferDataï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">50</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindResize</span>(); <span class="hljs-comment">// ç»‘å®šresizeäº‹ä»¶</span>
  }
  <span class="hljs-comment">// ç»‘å®šresizeäº‹ä»¶ï¼šæ ¸å¿ƒæ³„æ¼ç‚¹</span>
  <span class="hljs-title function_">bindResize</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å›è°ƒä»…è°ƒæ•´Canvaså°ºå¯¸ï¼Œçœ‹ä¼¼ä¸bigBufferæ— å…³</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
    });
  }
  <span class="hljs-comment">// è¯•å›¾é”€æ¯æ¨¡å—ï¼Œä½†æœªè§£ç»‘äº‹ä»¶</span>
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç½®ç©ºæ— æ•ˆï¼Œé—­åŒ…ä»æŒæœ‰å¼•ç”¨</span>
  }
}
<span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šåˆ›å»ºå®ä¾‹ â†’ è¯•å›¾é”€æ¯ â†’ å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BinaryRenderer</span>();
<span class="hljs-comment">// æ¨¡æ‹Ÿç»„ä»¶å¸è½½/é¡µé¢åˆ‡æ¢</span>
renderer.<span class="hljs-title function_">destroy</span>();
renderer = <span class="hljs-literal">null</span>;
</code></pre>
<h4 data-id="heading-8">3.2 æ³„æ¼åŸå› åˆ†æ</h4>
<ol>
<li>resizeå›è°ƒä¸­çš„thisæŒ‡å‘BinaryRendererå®ä¾‹ï¼Œé—­åŒ…æ•è·äº†æ•´ä¸ªå®ä¾‹ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬this.bigBufferï¼›</li>
</ol>

<ol start="2">
<li>windowçš„resizeç›‘å¬å™¨æœªè§£ç»‘ï¼Œè¢«HTMLDocumentå¼ºå¼•ç”¨ï¼Œå¯¼è‡´å®ä¾‹æ— æ³•è¢« GC å›æ”¶ï¼›</li>
</ol>

<ol start="3">
<li>å³ä½¿è°ƒç”¨destroy()ç½®ç©ºbigBufferå’Œcanvasï¼Œå¼•ç”¨é“¾ä¾ç„¶æœªæ–­ï¼Œ50MB çš„äºŒè¿›åˆ¶æ•°æ®æ°¸è¿œé©»ç•™åœ¨ HEAP64 ä¸­ã€‚</li>
</ol>
<h4 data-id="heading-9">3.3 æ›´éšè”½çš„æƒ…å†µï¼šè¿thiséƒ½æ²¡å†™ï¼Œä¾ç„¶æ³„æ¼</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindResize</span>();
  }
  <span class="hljs-title function_">bindResize</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸´æ—¶å˜é‡ä»…åœ¨bindResizeå†…éƒ¨å®šä¹‰</span>
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>;
    <span class="hljs-comment">// å›è°ƒä»…ç”¨canvasï¼Œæœªæthis/bigBufferï¼Œä½†ä»æ•è·å®ä¾‹å¼•ç”¨</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
      canvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
    });
  }
}
</code></pre>
<p>canvasæ˜¯å®ä¾‹å±æ€§çš„å¼•ç”¨ï¼Œé—­åŒ…æ•è·canvaså°±ç­‰äºé—´æ¥æ•è·äº†æ•´ä¸ªå®ä¾‹ï¼ŒbigBufferä¾ç„¶æ— æ³•é‡Šæ”¾ã€‚</p>
<h3 data-id="heading-10">å››ã€è§£å†³æ–¹æ¡ˆï¼šåˆ‡æ–­å¼•ç”¨é“¾ï¼Œè®© GC æ­£å¸¸å·¥ä½œ</h3>
<p>é’ˆå¯¹resizeäº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶æ³„æ¼ï¼Œæ ¸å¿ƒæ˜¯<strong>è§£ç»‘äº‹ä»¶ç›‘å¬å™¨</strong>ï¼Œè¾…ä»¥ä¼˜åŒ–æ‰‹æ®µå‡å°‘æ³„æ¼é£é™©ã€‚</p>
<h4 data-id="heading-11">4.1 æ ¸å¿ƒæ–¹æ¡ˆï¼šä¸»åŠ¨è§£ç»‘äº‹ä»¶ç›‘å¬å™¨</h4>
<p>å…³é”®ç‚¹ï¼š<strong>å¿…é¡»ä½¿ç”¨å‘½åå‡½æ•°ï¼ˆè€ŒéåŒ¿åå‡½æ•°ï¼‰ç»‘å®šäº‹ä»¶ï¼Œç¡®ä¿èƒ½ç²¾å‡†è§£ç»‘</strong>ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
    <span class="hljs-comment">// ç»‘å®šthisåˆ°å›è°ƒï¼Œé¿å…é—­åŒ…thisæŒ‡å‘å¼‚å¸¸</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>); <span class="hljs-comment">// å‘½åå‡½æ•°ç»‘å®š</span>
  }
  <span class="hljs-comment">// å‘½åå›è°ƒå‡½æ•°</span>
  <span class="hljs-title function_">handleResize</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  }
  <span class="hljs-comment">// é”€æ¯æ—¶è§£ç»‘äº‹ä»¶ï¼šæ ¸å¿ƒä¿®å¤ç‚¹</span>
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è§£ç»‘resizeç›‘å¬å™¨ï¼Œåˆ‡æ–­å¼•ç”¨é“¾</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>);
    <span class="hljs-comment">// ç½®ç©ºå±æ€§ï¼Œè¾…åŠ©GC</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-literal">null</span>;
  }
}
</code></pre>
<h4 data-id="heading-12">4.2 è¾…åŠ©ä¼˜åŒ–ï¼šå‡å°‘ä¸å¿…è¦çš„å¼•ç”¨å’Œè§¦å‘</h4>
<ol>
<li><strong>èŠ‚æµ / é˜²æŠ–</strong> <strong>resize</strong> <strong>å›è°ƒ</strong>ï¼šresizeè§¦å‘é¢‘ç‡æé«˜ï¼ˆæ¯ç§’æ•°åæ¬¡ï¼‰ï¼ŒèŠ‚æµï¼ˆå¦‚ 100ms æ‰§è¡Œä¸€æ¬¡ï¼‰å¯å‡å°‘é—­åŒ…è§¦å‘æ¬¡æ•°ï¼Œé™ä½å†…å­˜å ç”¨ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// èŠ‚æµå‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">throttle</span> = (<span class="hljs-params">fn, delay = <span class="hljs-number">100</span></span>) =&gt; {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!timer) {
      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        timer = <span class="hljs-literal">null</span>;
      }, delay);
    }
  };
};
<span class="hljs-comment">// ç»‘å®šèŠ‚æµåçš„å›è°ƒ</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-title function_">throttle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>));
</code></pre>
<ol start="2">
<li><strong>ä½¿ç”¨å¼±å¼•ç”¨ï¼ˆES2021+ï¼‰</strong> ï¼šè‹¥æ— æ³•åŠæ—¶è§£ç»‘äº‹ä»¶ï¼Œç”¨WeakRef/WeakMapå­˜å‚¨äºŒè¿›åˆ¶å¯¹è±¡ï¼Œè®© GC åœ¨æ— å¼ºå¼•ç”¨æ—¶å›æ”¶ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¼±å¼•ç”¨äºŒè¿›åˆ¶å¯¹è±¡ï¼Œä¸é˜»æ–­GC</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufRef</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>));
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindResize</span>();
}
<span class="hljs-title function_">handleResize</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ä½¿ç”¨æ—¶æ‰è·å–ï¼Œæ— å¼ºå¼•ç”¨æ—¶è‡ªåŠ¨å›æ”¶</span>
  <span class="hljs-keyword">const</span> buf = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufRef</span>.<span class="hljs-title function_">deref</span>();
  <span class="hljs-keyword">if</span> (buf) {
    <span class="hljs-comment">// å¤„ç†äºŒè¿›åˆ¶æ•°æ®é€»è¾‘</span>
  }
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
}
</code></pre>
<h3 data-id="heading-13">äº”ã€éªŒè¯æ–¹æ³•ï¼šç”¨ DevTools ç¡®è®¤æ³„æ¼æ˜¯å¦ä¿®å¤</h3>
<ol>
<li>æ‰“å¼€ Chrome DevTools â†’ Memory é¢æ¿ï¼Œé€‰æ‹© â€œHeap snapshotâ€ï¼›</li>
</ol>

<ol start="2">
<li>æ‰§è¡Œä»£ç åˆ›å»ºBinaryRendererå®ä¾‹ï¼Œè§¦å‘å¤šæ¬¡resizeï¼Œç”Ÿæˆç¬¬ä¸€ä¸ªå¿«ç…§ï¼›</li>
</ol>

<ol start="3">
<li>è°ƒç”¨destroy()æ–¹æ³•ï¼Œç‚¹å‡» â€œCollect garbageâ€ï¼ˆåƒåœ¾æ¡¶å›¾æ ‡ï¼‰å¼ºåˆ¶ GCï¼›</li>
</ol>

<ol start="4">
<li>ç”Ÿæˆç¬¬äºŒä¸ªå¿«ç…§ï¼Œå¯¹æ¯”ä¸¤æ¬¡å¿«ç…§ä¸­ArrayBuffer/JSArrayBufferDataçš„æ•°é‡å’Œå†…å­˜ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è‹¥å†…å­˜æ— æ˜æ˜¾ä¸‹é™ï¼Œè¯´æ˜ä»æœ‰æ³„æ¼ï¼ˆå¤§æ¦‚ç‡æ˜¯äº‹ä»¶æœªè§£ç»‘ï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è‹¥å†…å­˜æ˜¾è‘—ä¸‹é™ï¼Œè¯´æ˜å¼•ç”¨é“¾å·²åˆ‡æ–­ï¼Œæ³„æ¼ä¿®å¤ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-14">å…­ã€æ€»ç»“</h3>
<p>resizeäº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼Œæœ¬è´¨æ˜¯ <strong>â€œéšå¼é—­åŒ…æ•è·å¼•ç”¨ + äº‹ä»¶ç›‘å¬å™¨æœªè§£ç»‘â€</strong> å½¢æˆäº†æ— æ³•åˆ‡æ–­çš„å¼•ç”¨é“¾ï¼Œæœ€ç»ˆè®© HEAP64 ä¸­çš„äºŒè¿›åˆ¶æ•°æ®è¢«æ°¸ä¹…é”å®šã€‚</p>
<p>æ ¸å¿ƒé¿å‘ç‚¹ï¼š</p>
<ol>
<li>äº‹ä»¶ç›‘å¬å™¨ï¼ˆå°¤å…¶æ˜¯resize/scrollç­‰é«˜é¢‘ç‡äº‹ä»¶ï¼‰å¿…é¡» â€œç»‘å®š - è§£ç»‘â€ æˆå¯¹å‡ºç°ï¼›</li>
</ol>

<ol start="2">
<li>è­¦æƒ•é—­åŒ…çš„éšå¼æ•è·ï¼šå“ªæ€•å›è°ƒæ²¡æ˜¾å¼ä½¿ç”¨å¤§å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½å› æ•è·ä¸Šä¸‹æ–‡å¯¼è‡´æ³„æ¼ï¼›</li>
</ol>

<ol start="3">
<li>äºŒè¿›åˆ¶æ•°æ®ï¼ˆArrayBufferï¼‰ä½“ç§¯å¤§ï¼Œä¸€æ—¦æ³„æ¼ä¼šå¿«é€Ÿè€—å°½å†…å­˜ï¼Œéœ€ä¼˜å…ˆå¤„ç†ã€‚</li>
</ol>
<p>è®°ä½ï¼šå‰ç«¯å†…å­˜æ³„æ¼çš„æ’æŸ¥æ ¸å¿ƒæ˜¯ â€œè¿½å¼•ç”¨é“¾â€ï¼Œåªè¦æ‰¾åˆ°ä» â€œå¼ºæ ¹å¯¹è±¡ï¼ˆHTMLDocument/windowï¼‰â€ åˆ°æ³„æ¼å¯¹è±¡çš„é“¾è·¯ï¼Œå°±èƒ½ç²¾å‡†å®šä½é—®é¢˜ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”]]></title>    <link>https://juejin.cn/post/7584824891596144676</link>    <guid>https://juejin.cn/post/7584824891596144676</guid>    <pubDate>2025-12-18T08:44:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584824891596144676" data-draft-id="7584824891596128292" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-18T08:44:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åè¯´Java"/> <meta itemprop="url" content="https://juejin.cn/user/3898184413750203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898184413750203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åè¯´Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:44:36.000Z" title="Thu Dec 18 2025 08:44:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”</h2>
<p>å…¬å¸å®æˆ˜é¡¹ç›®åˆ†å¸ƒå¼é”ï¼Œå·å·ç»™ä½ ä»¬çœ‹ï¼Œæ€ä¹ˆä½¿ç”¨çš„ï¼Œå¥½å¤šäººéƒ½ä¸ä¼šä¹Ÿä¸æ‡‚</p>
<h3 data-id="heading-1">ä¸€ã€æ¦‚è¿°</h3>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯çœ‹é—¨ç‹—é”ï¼Ÿ</h4>
<p><strong>çœ‹é—¨ç‹—é”ï¼ˆWatchdog Lockï¼‰</strong> æ˜¯ä¸€ç§åŸºäºRediså®ç°çš„åˆ†å¸ƒå¼é”ä¼˜åŒ–æ–¹æ¡ˆï¼Œå®ƒåœ¨ä¼ ç»Ÿåˆ†å¸ƒå¼é”çš„åŸºç¡€ä¸Šå¢åŠ äº†<strong>è‡ªåŠ¨ç»­æœŸ</strong>æœºåˆ¶ï¼Œé˜²æ­¢ä¸šåŠ¡æ‰§è¡Œæ—¶é—´è¶…è¿‡é”è¿‡æœŸæ—¶é—´è€Œå¯¼è‡´çš„é”æå‰é‡Šæ”¾é—®é¢˜ã€‚</p>
<h4 data-id="heading-3">1.2 åŸºæœ¬åŸç†</h4>
<ol>
<li><strong>è·å–é”æ—¶</strong>ï¼šè®¾ç½®ä¸€ä¸ªè¾ƒçŸ­çš„åˆå§‹è¿‡æœŸæ—¶é—´ï¼ˆå¦‚30ç§’ï¼‰</li>
<li><strong>åå°çº¿ç¨‹ï¼ˆçœ‹é—¨ç‹—ï¼‰</strong> ï¼šå®šæœŸæ£€æŸ¥é”æ˜¯å¦ä»è¢«æŒæœ‰ï¼Œå¦‚æœæ˜¯åˆ™è‡ªåŠ¨ç»­æœŸ</li>
<li><strong>Luaè„šæœ¬ä¿è¯åŸå­æ€§</strong>ï¼šæ‰€æœ‰å…³é”®æ“ä½œä½¿ç”¨Luaè„šæœ¬ï¼Œç¡®ä¿åœ¨Redisç«¯çš„åŸå­æ‰§è¡Œ</li>
<li><strong>é”é‡Šæ”¾</strong>ï¼šä¸šåŠ¡å®Œæˆåæ‰‹åŠ¨é‡Šæ”¾ï¼Œæˆ–çº¿ç¨‹ç»“æŸæ—¶è‡ªåŠ¨æ¸…ç†</li>
</ol>
<h4 data-id="heading-4">1.3 æ ¸å¿ƒä¼˜åŠ¿ vs ä¼ ç»Ÿåˆ†å¸ƒå¼é”</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿåˆ†å¸ƒå¼é”</th><th>çœ‹é—¨ç‹—é”</th></tr></thead><tbody><tr><td>è¿‡æœŸæ—¶é—´</td><td>å›ºå®šï¼Œéœ€è¦é¢„ä¼°ä¸šåŠ¡æ—¶é—´</td><td>åŠ¨æ€ç»­æœŸï¼Œè‡ªé€‚åº”ä¸šåŠ¡è€—æ—¶</td></tr><tr><td>ä¸šåŠ¡è¶…æ—¶é£é™©</td><td>é«˜ï¼ˆä¸šåŠ¡è¶…æ—¶å¯¼è‡´é”å¤±æ•ˆï¼‰</td><td>ä½ï¼ˆè‡ªåŠ¨ç»­æœŸï¼‰</td></tr><tr><td>å®ç°å¤æ‚åº¦</td><td>ç®€å•</td><td>ä¸­ç­‰</td></tr><tr><td>èµ„æºå ç”¨</td><td>ä½</td><td>éœ€è¦é¢å¤–çº¿ç¨‹ç»´æŠ¤</td></tr></tbody></table>
<h3 data-id="heading-5">äºŒã€åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-6">2.1 é€‚ç”¨åœºæ™¯</h4>
<ol>
<li><strong>é•¿æ—¶é—´ä»»åŠ¡</strong>ï¼šæ‰¹å¤„ç†ã€æ•°æ®è¿ç§»ç­‰è€—æ—¶ä¸ç¡®å®šçš„æ“ä½œ</li>
<li><strong>äº‹åŠ¡æ€§æ“ä½œ</strong>ï¼šåˆ†å¸ƒå¼äº‹åŠ¡ä¸­çš„èµ„æºé”å®š</li>
<li><strong>å®šæ—¶ä»»åŠ¡é˜²é‡</strong>ï¼šç¡®ä¿åˆ†å¸ƒå¼ç¯å¢ƒä¸‹åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ‰§è¡Œ</li>
<li><strong>ç§’æ€/é™æµ</strong>ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„èµ„æºäº‰ç”¨æ§åˆ¶</li>
</ol>
<h4 data-id="heading-7">2.2 ä¸é€‚ç”¨åœºæ™¯</h4>
<ol>
<li><strong>æçŸ­æ—¶é—´é”</strong>ï¼ˆ&lt; 100msï¼‰ï¼šç»­æœŸå¼€é”€å¯èƒ½å¤§äºæ”¶ç›Š</li>
<li><strong>å¯¹å»¶è¿Ÿæå…¶æ•æ„Ÿ</strong>çš„åœºæ™¯ï¼šçœ‹é—¨ç‹—æ£€æŸ¥å¯èƒ½å¼•å…¥é¢å¤–å»¶è¿Ÿ</li>
</ol>
<h3 data-id="heading-8">ä¸‰ã€å®ç°æ–¹æ¡ˆè¯¦è¿°</h3>
<h4 data-id="heading-9">3.1 æ¶æ„è®¾è®¡</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸šåŠ¡çº¿ç¨‹       â”‚    â”‚  çœ‹é—¨ç‹—çº¿ç¨‹     â”‚    â”‚  Redis <span class="hljs-built_in">Server</span>   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ <span class="hljs-number">1.</span>è·å–é”        â”‚â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â–¶â”‚ æ‰§è¡ŒLuaè„šæœ¬     â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚ è®¾ç½®é”+è¿‡æœŸæ—¶é—´ â”‚
â”‚ <span class="hljs-number">2.</span>æ‰§è¡Œä¸šåŠ¡é€»è¾‘  â”‚    â”‚ <span class="hljs-number">3.</span>å¯åŠ¨çœ‹é—¨ç‹—    â”‚    â”‚                 â”‚
â”‚                 â”‚    â”‚   å®šæœŸæ£€æŸ¥      â”‚    â”‚                 â”‚
â”‚                 â”‚â—€â”€â”€â”€â”‚   è‡ªåŠ¨ç»­æœŸ      â”‚â—€â”€â”€â”€â”‚ æ‰§è¡Œç»­æœŸLua    â”‚
â”‚ <span class="hljs-number">4.</span>é‡Šæ”¾é”        â”‚â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â–¶â”‚ åˆ é™¤Key        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-10">3.2 å…³é”®ç‰¹æ€§</h4>
<ol>
<li><strong>å¯é‡å…¥æ€§</strong>ï¼šåŒä¸€çº¿ç¨‹å¯é‡å¤è·å–é”</li>
<li><strong>è‡ªåŠ¨ç»­æœŸ</strong>ï¼šåå°çº¿ç¨‹å®šæœŸå»¶é•¿é”æœ‰æ•ˆæœŸ</li>
<li><strong>é˜²æ­»é”</strong>ï¼šè®¾ç½®æœ€å¤§ç»­æœŸæ¬¡æ•°ï¼Œé¿å…å¼‚å¸¸æƒ…å†µæ— é™ç»­æœŸ</li>
<li><strong>å¼‚å¸¸æ¢å¤</strong>ï¼šå®¢æˆ·ç«¯å¼‚å¸¸æ–­å¼€æ—¶ï¼Œé”ä¼šè‡ªåŠ¨è¿‡æœŸ</li>
</ol>
<h3 data-id="heading-11">å››ã€Spring Boot é›†æˆå®ç°</h3>
<h4 data-id="heading-12">4.1 ç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-13">Maven ä¾èµ–</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Boot Starter Data Redis --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Rediså®¢æˆ·ç«¯ï¼ˆä½¿ç”¨Lettuceï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.lettuce.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lettuce-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- JSONå¤„ç† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- AOP --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h5 data-id="heading-14">application.yml é…ç½®</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">password:</span> 
    <span class="hljs-attr">database:</span> <span class="hljs-number">0</span>
    <span class="hljs-attr">lettuce:</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">max-active:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">max-idle:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">min-idle:</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">max-wait:</span> <span class="hljs-string">-1ms</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">5000ms</span>

<span class="hljs-comment"># åˆ†å¸ƒå¼é”é…ç½®</span>
<span class="hljs-attr">distributed:</span>
  <span class="hljs-attr">lock:</span>
    <span class="hljs-attr">watch-dog:</span>
      <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>                    <span class="hljs-comment"># æ˜¯å¦å¯ç”¨çœ‹é—¨ç‹—</span>
      <span class="hljs-attr">check-interval:</span> <span class="hljs-number">10000</span>          <span class="hljs-comment"># æ£€æŸ¥é—´éš”ï¼ˆmsï¼‰</span>
      <span class="hljs-attr">lease-time:</span> <span class="hljs-number">30000</span>              <span class="hljs-comment"># ç§Ÿçº¦æ—¶é—´ï¼ˆmsï¼‰</span>
      <span class="hljs-attr">max-renew-times:</span> <span class="hljs-number">10</span>            <span class="hljs-comment"># æœ€å¤§ç»­æœŸæ¬¡æ•°</span>
</code></pre>
<h4 data-id="heading-15">4.2 æ ¸å¿ƒå®ç°ç±»</h4>
<h5 data-id="heading-16">4.2.1 Redis é…ç½®ç±»</h5>
<pre><code class="hljs language-ini" lang="ini">package com.example.lock.config<span class="hljs-comment">;</span>

import org.springframework.boot.context.properties.ConfigurationProperties<span class="hljs-comment">;</span>
import org.springframework.context.annotation.Bean<span class="hljs-comment">;</span>
import org.springframework.context.annotation.Configuration<span class="hljs-comment">;</span>
import org.springframework.data.redis.connection.RedisConnectionFactory<span class="hljs-comment">;</span>
import org.springframework.data.redis.core.RedisTemplate<span class="hljs-comment">;</span>
import org.springframework.data.redis.core.script.DefaultRedisScript<span class="hljs-comment">;</span>
import org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer<span class="hljs-comment">;</span>
import org.springframework.data.redis.serializer.StringRedisSerializer<span class="hljs-comment">;</span>

@Configuration
@ConfigurationProperties(<span class="hljs-attr">prefix</span> = <span class="hljs-string">"distributed.lock.watch-dog"</span>)
public class RedisLockConfig {
    
    private boolean <span class="hljs-attr">enable</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    private long <span class="hljs-attr">checkInterval</span> = <span class="hljs-number">10000</span><span class="hljs-comment">;</span>
    private long <span class="hljs-attr">leaseTime</span> = <span class="hljs-number">30000</span><span class="hljs-comment">;</span>
    private int <span class="hljs-attr">maxRenewTimes</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
    
    // getters and setters
    
    @Bean
    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) {
        RedisTemplate&lt;String, Object&gt; <span class="hljs-attr">template</span> = new RedisTemplate&lt;&gt;()<span class="hljs-comment">;</span>
        template.setConnectionFactory(factory)<span class="hljs-comment">;</span>
        template.setKeySerializer(new StringRedisSerializer())<span class="hljs-comment">;</span>
        template.setValueSerializer(new GenericJackson2JsonRedisSerializer())<span class="hljs-comment">;</span>
        template.setHashKeySerializer(new StringRedisSerializer())<span class="hljs-comment">;</span>
        template.setHashValueSerializer(new GenericJackson2JsonRedisSerializer())<span class="hljs-comment">;</span>
        template.afterPropertiesSet()<span class="hljs-comment">;</span>
        return template<span class="hljs-comment">;</span>
    }
    
    @Bean
    public DefaultRedisScript&lt;Long&gt; lockScript() {
        DefaultRedisScript&lt;Long&gt; <span class="hljs-attr">script</span> = new DefaultRedisScript&lt;&gt;()<span class="hljs-comment">;</span>
        script.setScriptText(
            "if (redis.call('exists', KEYS<span class="hljs-section">[1]</span>) == 0) then " +
            "    redis.call('hincrby', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>, 1)<span class="hljs-comment">; " +</span>
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "if (redis.call('hexists', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>) == 1) then " +
            "    redis.call('hincrby', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>, 1)<span class="hljs-comment">; " +</span>
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "return 0<span class="hljs-comment">;"</span>
        )<span class="hljs-comment">;</span>
        script.setResultType(Long.class)<span class="hljs-comment">;</span>
        return script<span class="hljs-comment">;</span>
    }
    
    @Bean
    public DefaultRedisScript&lt;Long&gt; unlockScript() {
        DefaultRedisScript&lt;Long&gt; <span class="hljs-attr">script</span> = new DefaultRedisScript&lt;&gt;()<span class="hljs-comment">;</span>
        script.setScriptText(
            "if (redis.call('hexists', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>) == 0) then " +
            "    return 0<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "local <span class="hljs-attr">counter</span> = redis.call(<span class="hljs-string">'hincrby'</span>, KEYS[<span class="hljs-number">1</span>], ARGV[<span class="hljs-number">1</span>], -<span class="hljs-number">1</span>)<span class="hljs-comment">; " +</span>
            "if (counter &gt; 0) then " +
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "else " +
            "    redis.call('del', KEYS<span class="hljs-section">[1]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "return 0<span class="hljs-comment">;"</span>
        )<span class="hljs-comment">;</span>
        script.setResultType(Long.class)<span class="hljs-comment">;</span>
        return script<span class="hljs-comment">;</span>
    }
    
    @Bean
    public DefaultRedisScript&lt;Long&gt; renewScript() {
        DefaultRedisScript&lt;Long&gt; <span class="hljs-attr">script</span> = new DefaultRedisScript&lt;&gt;()<span class="hljs-comment">;</span>
        script.setScriptText(
            "if (redis.call('hexists', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>) == 1) then " +
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "return 0<span class="hljs-comment">;"</span>
        )<span class="hljs-comment">;</span>
        script.setResultType(Long.class)<span class="hljs-comment">;</span>
        return script<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h5 data-id="heading-17">4.2.2 åˆ†å¸ƒå¼é”å®ç°ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.lock.service;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.RedisTemplate;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.script.DefaultRedisScript;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.UUID;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;
<span class="hljs-keyword">import</span> java.util.concurrent.ScheduledExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.ScheduledThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;

<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisWatchdogLock</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DefaultRedisScript&lt;Long&gt; lockScript;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DefaultRedisScript&lt;Long&gt; unlockScript;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DefaultRedisScript&lt;Long&gt; renewScript;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisLockConfig config;
    
    <span class="hljs-comment">// çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼šå­˜å‚¨å½“å‰çº¿ç¨‹æŒæœ‰çš„é”ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;LockInfo&gt; currentLock = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    
    <span class="hljs-comment">// å…¨å±€é”æ˜ å°„ï¼šlockKey -&gt; é”ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, LockInfo&gt; lockMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// çœ‹é—¨ç‹—çº¿ç¨‹æ± </span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">watchdogExecutor</span> <span class="hljs-operator">=</span> 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScheduledThreadPoolExecutor</span>(<span class="hljs-number">1</span>, r -&gt; {
            <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r, <span class="hljs-string">"redis-lock-watchdog"</span>);
            t.setDaemon(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">return</span> t;
        });
    
    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LockInfo</span> {
        <span class="hljs-keyword">private</span> String lockKey;
        <span class="hljs-keyword">private</span> String lockValue;
        <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> leaseTime;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> holdCount;
        <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> lastRenewTime;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> renewCount;
        <span class="hljs-keyword">private</span> <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">localLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();
    }
    
    <span class="hljs-comment">/**
     * å°è¯•è·å–é”ï¼ˆé˜»å¡ç‰ˆæœ¬ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryLock</span><span class="hljs-params">(String lockKey, <span class="hljs-type">long</span> waitTime, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">timeout</span> <span class="hljs-operator">=</span> unit.toMillis(waitTime);
        <span class="hljs-type">String</span> <span class="hljs-variable">lockValue</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»æŒæœ‰é”ï¼ˆå¯é‡å…¥ï¼‰</span>
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">existingLock</span> <span class="hljs-operator">=</span> currentLock.get();
        <span class="hljs-keyword">if</span> (existingLock != <span class="hljs-literal">null</span> &amp;&amp; existingLock.getLockKey().equals(lockKey)) {
            existingLock.setHoldCount(existingLock.getHoldCount() + <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-comment">// æœ¬åœ°é”ï¼Œé˜²æ­¢åŒä¸€JVMå†…å¤šä¸ªçº¿ç¨‹åŒæ—¶ç«äº‰</span>
        <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">localLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();
        localLock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                <span class="hljs-comment">// å°è¯•è·å–Redisé”</span>
                <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
                    lockScript,
                    Collections.singletonList(lockKey),
                    String.valueOf(config.getLeaseTime()),
                    lockValue
                );
                
                <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>) {
                    <span class="hljs-comment">// è·å–æˆåŠŸï¼Œåˆ›å»ºé”ä¿¡æ¯</span>
                    <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LockInfo</span>();
                    lockInfo.setLockKey(lockKey);
                    lockInfo.setLockValue(lockValue);
                    lockInfo.setLeaseTime(config.getLeaseTime());
                    lockInfo.setHoldCount(<span class="hljs-number">1</span>);
                    lockInfo.setLastRenewTime(System.currentTimeMillis());
                    
                    lockMap.put(lockKey, lockInfo);
                    currentLock.set(lockInfo);
                    
                    <span class="hljs-comment">// å¯åŠ¨çœ‹é—¨ç‹—</span>
                    <span class="hljs-keyword">if</span> (config.isEnable()) {
                        startWatchdog(lockInfo);
                    }
                    
                    log.debug(<span class="hljs-string">"Lock acquired: {} by {}"</span>, lockKey, lockValue);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
                
                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¶…æ—¶</span>
                <span class="hljs-keyword">if</span> (System.currentTimeMillis() - startTime &gt; timeout) {
                    log.debug(<span class="hljs-string">"Lock acquisition timeout: {}"</span>, lockKey);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                
                <span class="hljs-comment">// çŸ­æš‚ä¼‘çœ åé‡è¯•</span>
                Thread.sleep(<span class="hljs-number">100</span>);
            }
        } <span class="hljs-keyword">finally</span> {
            localLock.unlock();
        }
    }
    
    <span class="hljs-comment">/**
     * å¯åŠ¨çœ‹é—¨ç‹—çº¿ç¨‹
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startWatchdog</span><span class="hljs-params">(LockInfo lockInfo)</span> {
        watchdogExecutor.scheduleWithFixedDelay(() -&gt; {
            <span class="hljs-keyword">try</span> {
                renewLock(lockInfo);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"Watchdog error for lock: {}"</span>, lockInfo.getLockKey(), e);
            }
        }, config.getCheckInterval() / <span class="hljs-number">2</span>, config.getCheckInterval(), TimeUnit.MILLISECONDS);
    }
    
    <span class="hljs-comment">/**
     * ç»­æœŸé”
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">renewLock</span><span class="hljs-params">(LockInfo lockInfo)</span> {
        <span class="hljs-keyword">if</span> (lockInfo.getRenewCount() &gt;= config.getMaxRenewTimes()) {
            log.warn(<span class="hljs-string">"Lock {} reached max renew times"</span>, lockInfo.getLockKey());
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
                renewScript,
                Collections.singletonList(lockInfo.getLockKey()),
                lockInfo.getLockValue(),
                String.valueOf(config.getLeaseTime())
            );
            
            <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>) {
                lockInfo.setLastRenewTime(System.currentTimeMillis());
                lockInfo.setRenewCount(lockInfo.getRenewCount() + <span class="hljs-number">1</span>);
                log.debug(<span class="hljs-string">"Lock renewed: {}"</span>, lockInfo.getLockKey());
            } <span class="hljs-keyword">else</span> {
                log.warn(<span class="hljs-string">"Lock renewal failed: {}"</span>, lockInfo.getLockKey());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"Lock renewal error: {}"</span>, lockInfo.getLockKey(), e);
        }
    }
    
    <span class="hljs-comment">/**
     * é‡Šæ”¾é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">unlock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> currentLock.get();
        <span class="hljs-keyword">if</span> (lockInfo == <span class="hljs-literal">null</span> || !lockInfo.getLockKey().equals(lockKey)) {
            log.warn(<span class="hljs-string">"Current thread does not hold lock: {}"</span>, lockKey);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        lockInfo.getLocalLock().lock();
        <span class="hljs-keyword">try</span> {
            lockInfo.setHoldCount(lockInfo.getHoldCount() - <span class="hljs-number">1</span>);
            
            <span class="hljs-keyword">if</span> (lockInfo.getHoldCount() &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// è¿˜æœ‰é‡å…¥ï¼Œåªå‡å°‘è®¡æ•°</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            
            <span class="hljs-comment">// å®Œå…¨é‡Šæ”¾Redisé”</span>
            <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
                unlockScript,
                Collections.singletonList(lockKey),
                lockInfo.getLockValue(),
                String.valueOf(config.getLeaseTime())
            );
            
            <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>) {
                <span class="hljs-comment">// æ¸…ç†èµ„æº</span>
                lockMap.remove(lockKey);
                currentLock.remove();
                log.debug(<span class="hljs-string">"Lock released: {}"</span>, lockKey);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">finally</span> {
            lockInfo.getLocalLock().unlock();
        }
    }
    
    <span class="hljs-comment">/**
     * å°è¯•è·å–é”ï¼ˆéé˜»å¡ç‰ˆæœ¬ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryLock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> tryLock(lockKey, <span class="hljs-number">0</span>, TimeUnit.MILLISECONDS);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å¼ºåˆ¶é‡Šæ”¾é”ï¼ˆç”¨äºå¼‚å¸¸æƒ…å†µï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">forceUnlock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> lockMap.get(lockKey);
        <span class="hljs-keyword">if</span> (lockInfo != <span class="hljs-literal">null</span>) {
            redisTemplate.delete(lockKey);
            lockMap.remove(lockKey);
            currentLock.remove();
            log.warn(<span class="hljs-string">"Force unlocked: {}"</span>, lockKey);
        }
    }
    
    <span class="hljs-comment">/**
     * æ¸…ç†çº¿ç¨‹æœ¬åœ°å­˜å‚¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanup</span><span class="hljs-params">()</span> {
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> currentLock.get();
        <span class="hljs-keyword">if</span> (lockInfo != <span class="hljs-literal">null</span>) {
            unlock(lockInfo.getLockKey());
        }
    }
}
</code></pre>
<h5 data-id="heading-18">4.2.3 AOP æ³¨è§£æ”¯æŒ</h5>
<pre><code class="hljs language-ini" lang="ini">package com.example.lock.annotation<span class="hljs-comment">;</span>

import java.lang.annotation.*<span class="hljs-comment">;</span>
import java.util.concurrent.TimeUnit<span class="hljs-comment">;</span>

@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface RedisLock {
    
    /**
     * é”çš„keyï¼Œæ”¯æŒSpELè¡¨è¾¾å¼
     */
    String key()<span class="hljs-comment">;</span>
    
    /**
     * é”çš„keyå‰ç¼€
     */
    String prefix() default "lock:"<span class="hljs-comment">;</span>
    
    /**
     * ç­‰å¾…é”çš„æœ€é•¿æ—¶é—´
     */
    long waitTime() default 5<span class="hljs-comment">;</span>
    
    /**
     * ç­‰å¾…æ—¶é—´å•ä½
     */
    TimeUnit timeUnit() default TimeUnit.SECONDS<span class="hljs-comment">;</span>
    
    /**
     * è·å–å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯
     */
    String message() default "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•"<span class="hljs-comment">;</span>
}

package com.example.lock.aop<span class="hljs-comment">;</span>

import com.example.lock.annotation.RedisLock<span class="hljs-comment">;</span>
import com.example.lock.service.RedisWatchdogLock<span class="hljs-comment">;</span>
import lombok.extern.slf4j.Slf4j<span class="hljs-comment">;</span>
import org.aspectj.lang.ProceedingJoinPoint<span class="hljs-comment">;</span>
import org.aspectj.lang.annotation.Around<span class="hljs-comment">;</span>
import org.aspectj.lang.annotation.Aspect<span class="hljs-comment">;</span>
import org.aspectj.lang.reflect.MethodSignature<span class="hljs-comment">;</span>
import org.springframework.beans.factory.annotation.Autowired<span class="hljs-comment">;</span>
import org.springframework.expression.Expression<span class="hljs-comment">;</span>
import org.springframework.expression.ExpressionParser<span class="hljs-comment">;</span>
import org.springframework.expression.spel.standard.SpelExpressionParser<span class="hljs-comment">;</span>
import org.springframework.expression.spel.support.StandardEvaluationContext<span class="hljs-comment">;</span>
import org.springframework.stereotype.Component<span class="hljs-comment">;</span>

import java.lang.reflect.Method<span class="hljs-comment">;</span>

@Slf4j
@Aspect
@Component
public class RedisLockAspect {
    
    @Autowired
    private RedisWatchdogLock redisWatchdogLock<span class="hljs-comment">;</span>
    
    @Around("@annotation(redisLock)")
    public Object around(ProceedingJoinPoint joinPoint, RedisLock redisLock) throws Throwable {
        String <span class="hljs-attr">lockKey</span> = parseKey(redisLock.key(), joinPoint)<span class="hljs-comment">;</span>
        String <span class="hljs-attr">fullKey</span> = redisLock.prefix() + lockKey<span class="hljs-comment">;</span>
        
        boolean <span class="hljs-attr">locked</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
        try {
            <span class="hljs-attr">locked</span> = redisWatchdogLock.tryLock(fullKey, redisLock.waitTime(), redisLock.timeUnit())<span class="hljs-comment">;</span>
            if (!locked) {
                throw new RuntimeException(redisLock.message())<span class="hljs-comment">;</span>
            }
            
            return joinPoint.proceed()<span class="hljs-comment">;</span>
        } finally {
            if (locked) {
                redisWatchdogLock.unlock(fullKey)<span class="hljs-comment">;</span>
            }
        }
    }
    
    private String parseKey(String key, ProceedingJoinPoint joinPoint) {
        if (!key.contains("<span class="hljs-comment">#")) {</span>
            return key<span class="hljs-comment">;</span>
        }
        
        try {
            MethodSignature <span class="hljs-attr">signature</span> = (MethodSignature) joinPoint.getSignature()<span class="hljs-comment">;</span>
            Method <span class="hljs-attr">method</span> = signature.getMethod()<span class="hljs-comment">;</span>
            String<span class="hljs-section">[]</span> <span class="hljs-attr">parameterNames</span> = signature.getParameterNames()<span class="hljs-comment">;</span>
            Object<span class="hljs-section">[]</span> <span class="hljs-attr">args</span> = joinPoint.getArgs()<span class="hljs-comment">;</span>
            
            ExpressionParser <span class="hljs-attr">parser</span> = new SpelExpressionParser()<span class="hljs-comment">;</span>
            StandardEvaluationContext <span class="hljs-attr">context</span> = new StandardEvaluationContext()<span class="hljs-comment">;</span>
            
            for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; parameterNames.length; i++) {</span>
                context.setVariable(parameterNames<span class="hljs-section">[i]</span>, args<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
            }
            
            Expression <span class="hljs-attr">expression</span> = parser.parseExpression(key)<span class="hljs-comment">;</span>
            return expression.getValue(context, String.class)<span class="hljs-comment">;</span>
        } catch (Exception e) {
            log.error("Parse lock key error: {}", key, e)<span class="hljs-comment">;</span>
            return key<span class="hljs-comment">;</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-19">4.3 ä½¿ç”¨ç¤ºä¾‹</h4>
<h5 data-id="heading-20">4.3.1 ä¸šåŠ¡æœåŠ¡ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.lock.service;

<span class="hljs-keyword">import</span> com.example.lock.annotation.RedisLock;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-comment">/**
     * æ³¨è§£æ–¹å¼ä½¿ç”¨åˆ†å¸ƒå¼é”
     */</span>
    <span class="hljs-meta">@RedisLock(key = "'order:' + #orderId", waitTime = 10, timeUnit = TimeUnit.SECONDS)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-keyword">try</span> {
            log.info(<span class="hljs-string">"å¼€å§‹å¤„ç†è®¢å•: {}"</span>, orderId);
            <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
            Thread.sleep(<span class="hljs-number">15000</span>);
            log.info(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ: {}"</span>, orderId);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }
    
    <span class="hljs-comment">/**
     * ç¼–ç¨‹æ–¹å¼ä½¿ç”¨åˆ†å¸ƒå¼é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrderManual</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order:"</span> + orderId;
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">boolean</span> <span class="hljs-variable">locked</span> <span class="hljs-operator">=</span> redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">10</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (!locked) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è·å–è®¢å•é”å¤±è´¥"</span>);
            }
            
            <span class="hljs-keyword">try</span> {
                log.info(<span class="hljs-string">"å¼€å§‹å¤„ç†è®¢å•: {}"</span>, orderId);
                <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
                Thread.sleep(<span class="hljs-number">15000</span>);
                log.info(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ: {}"</span>, orderId);
            } <span class="hljs-keyword">finally</span> {
                redisWatchdogLock.unlock(lockKey);
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }
}
</code></pre>
<h5 data-id="heading-21">4.3.2 æ§åˆ¶å™¨</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.example.lock.controller;

<span class="hljs-keyword">import</span> com.example.lock.service.OrderService;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.*;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/order"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;
    
    <span class="hljs-meta">@PostMapping(<span class="hljs-string">"/process/{orderId}"</span>)</span>
    <span class="hljs-keyword">public</span> String processOrder(<span class="hljs-meta">@PathVariable</span> <span class="hljs-built_in">Long</span> orderId) {
        orderService.processOrder(orderId);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"success"</span>;
    }
    
    <span class="hljs-meta">@PostMapping(<span class="hljs-string">"/process/manual/{orderId}"</span>)</span>
    <span class="hljs-keyword">public</span> String processOrderManual(<span class="hljs-meta">@PathVariable</span> <span class="hljs-built_in">Long</span> orderId) {
        orderService.processOrderManual(orderId);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"success"</span>;
    }
}
</code></pre>
<h3 data-id="heading-22">äº”ã€æµ‹è¯•ä¸éªŒè¯</h3>
<h4 data-id="heading-23">5.1 å•å…ƒæµ‹è¯•</h4>
<pre><code class="hljs language-ini" lang="ini">package com.example.lock<span class="hljs-comment">;</span>

import com.example.lock.service.RedisWatchdogLock<span class="hljs-comment">;</span>
import org.junit.jupiter.api.Test<span class="hljs-comment">;</span>
import org.springframework.beans.factory.annotation.Autowired<span class="hljs-comment">;</span>
import org.springframework.boot.test.context.SpringBootTest<span class="hljs-comment">;</span>

import java.util.concurrent.CountDownLatch<span class="hljs-comment">;</span>
import java.util.concurrent.ExecutorService<span class="hljs-comment">;</span>
import java.util.concurrent.Executors<span class="hljs-comment">;</span>
import java.util.concurrent.TimeUnit<span class="hljs-comment">;</span>

@SpringBootTest
class RedisWatchdogLockTest {
    
    @Autowired
    private RedisWatchdogLock redisWatchdogLock<span class="hljs-comment">;</span>
    
    private int <span class="hljs-attr">counter</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    
    @Test
    void testReentrantLock() throws InterruptedException {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:reentrant"</span><span class="hljs-comment">;</span>
        
        // ç¬¬ä¸€æ¬¡è·å–é”
        boolean <span class="hljs-attr">firstLock</span> = redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">5</span>, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
        assert firstLock<span class="hljs-comment">;</span>
        
        // ç¬¬äºŒæ¬¡è·å–ï¼ˆé‡å…¥ï¼‰
        boolean <span class="hljs-attr">secondLock</span> = redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">5</span>, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
        assert secondLock<span class="hljs-comment">;</span>
        
        // é‡Šæ”¾ä¸€æ¬¡
        redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
        
        // å†é‡Šæ”¾ä¸€æ¬¡
        boolean <span class="hljs-attr">result</span> = redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
        assert result<span class="hljs-comment">;</span>
    }
    
    @Test
    void testConcurrentAccess() throws InterruptedException {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:concurrent"</span><span class="hljs-comment">;</span>
        int <span class="hljs-attr">threadCount</span> = <span class="hljs-number">5</span><span class="hljs-comment">;</span>
        ExecutorService <span class="hljs-attr">executor</span> = Executors.newFixedThreadPool(threadCount)<span class="hljs-comment">;</span>
        CountDownLatch <span class="hljs-attr">latch</span> = new CountDownLatch(threadCount)<span class="hljs-comment">;</span>
        
        for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; threadCount; i++) {</span>
            executor.submit(() -&gt; {
                try {
                    if (redisWatchdogLock.tryLock(lockKey, 2, TimeUnit.SECONDS)) {
                        try {
                            // ä¸´ç•ŒåŒºæ“ä½œ
                            int <span class="hljs-attr">current</span> = counter<span class="hljs-comment">;</span>
                            Thread.sleep(100)<span class="hljs-comment">;</span>
                            <span class="hljs-attr">counter</span> = current + <span class="hljs-number">1</span><span class="hljs-comment">;</span>
                        } finally {
                            redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
                        }
                    }
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt()<span class="hljs-comment">;</span>
                } finally {
                    latch.countDown()<span class="hljs-comment">;</span>
                }
            })<span class="hljs-comment">;</span>
        }
        
        latch.await()<span class="hljs-comment">;</span>
        executor.shutdown()<span class="hljs-comment">;</span>
        
        // éªŒè¯æœ€ç»ˆç»“æœ
        assert <span class="hljs-attr">counter</span> == <span class="hljs-number">1</span> : <span class="hljs-string">"å¹¶å‘æµ‹è¯•å¤±è´¥ï¼Œcounter="</span> + counter<span class="hljs-comment">;</span>
    }
    
    @Test
    void testWatchdogRenewal() throws InterruptedException {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:watchdog"</span><span class="hljs-comment">;</span>
        
        boolean <span class="hljs-attr">locked</span> = redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">5</span>, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
        assert locked<span class="hljs-comment">;</span>
        
        // æŒæœ‰é”è¶…è¿‡åˆå§‹ç§ŸæœŸï¼ŒéªŒè¯çœ‹é—¨ç‹—æ˜¯å¦ç»­æœŸ
        Thread.sleep(40000)<span class="hljs-comment">; // 40ç§’</span>
        
        // å°è¯•åœ¨å¦ä¸€ä¸ªçº¿ç¨‹è·å–é”ï¼ˆåº”è¯¥å¤±è´¥ï¼‰
        Thread <span class="hljs-attr">otherThread</span> = new Thread(() -&gt; {
            boolean <span class="hljs-attr">otherLock</span> = redisWatchdogLock.tryLock(lockKey)<span class="hljs-comment">;</span>
            assert !otherLock : "é”åº”è¯¥è¿˜åœ¨è¢«æŒæœ‰"<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
        
        otherThread.start()<span class="hljs-comment">;</span>
        otherThread.join()<span class="hljs-comment">;</span>
        
        // é‡Šæ”¾é”
        redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h4 data-id="heading-24">5.2 é›†æˆæµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨RedisæœåŠ¡</span>
docker run -d --name redis-test -p 6379:6379 redis:alpine

<span class="hljs-comment"># å¯åŠ¨Spring Bootåº”ç”¨</span>
./mvnw spring-boot:run

<span class="hljs-comment"># æµ‹è¯•å¹¶å‘è¯·æ±‚</span>
<span class="hljs-comment"># ä½¿ç”¨abæˆ–wrkè¿›è¡Œå‹åŠ›æµ‹è¯•</span>
wrk -t4 -c100 -d30s http://localhost:8080/order/process/123
</code></pre>
<h3 data-id="heading-25">å…­ã€æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§</h3>
<h4 data-id="heading-26">6.1 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>åˆç†è®¾ç½®è¿‡æœŸæ—¶é—´</strong>ï¼šæ ¹æ®ä¸šåŠ¡å¹³å‡è€—æ—¶è°ƒæ•´leaseTime</li>
<li><strong>è°ƒæ•´æ£€æŸ¥é—´éš”</strong>ï¼šæ ¹æ®ä¸šåŠ¡æ³¢åŠ¨æ€§è°ƒæ•´checkInterval</li>
<li><strong>é¿å…é”ç²’åº¦å¤ªç»†</strong>ï¼šå‡å°‘é”ç«äº‰å’Œç»­æœŸå¼€é”€</li>
<li><strong>ä½¿ç”¨è¿æ¥æ± </strong>ï¼šç¡®ä¿Redisè¿æ¥é«˜æ•ˆå¤ç”¨</li>
</ol>
<h4 data-id="heading-27">6.2 ç›‘æ§æŒ‡æ ‡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.lock.monitor;

<span class="hljs-keyword">import</span> com.example.lock.service.RedisWatchdogLock;
<span class="hljs-keyword">import</span> io.micrometer.core.instrument.Gauge;
<span class="hljs-keyword">import</span> io.micrometer.core.instrument.MeterRegistry;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;

<span class="hljs-keyword">import</span> javax.annotation.PostConstruct;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LockMonitor</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisWatchdogLock redisWatchdogLock;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MeterRegistry meterRegistry;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">activeLocks</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        Gauge.builder(<span class="hljs-string">"redis.lock.active.count"</span>, activeLocks, AtomicInteger::get)
            .description(<span class="hljs-string">"å½“å‰æ´»è·ƒçš„åˆ†å¸ƒå¼é”æ•°é‡"</span>)
            .register(meterRegistry);
    }
}
</code></pre>
<h4 data-id="heading-28">6.3 å‘Šè­¦é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Prometheuså‘Šè­¦è§„åˆ™</span>
<span class="hljs-attr">groups:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">redis_lock_alerts</span>
    <span class="hljs-attr">rules:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">RedisLockRenewFailure</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">increase(redis_lock_renew_failure_total[5m])</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">1m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">warning</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"Redisé”ç»­æœŸå¤±è´¥"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"é” <span class="hljs-template-variable">{{ $labels.lock_key }}</span> ç»­æœŸå¤±è´¥æ¬¡æ•°è¶…è¿‡é˜ˆå€¼"</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">RedisLockHoldTooLong</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">redis_lock_hold_duration_seconds</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">300</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">2m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">critical</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"Redisé”æŒæœ‰æ—¶é—´è¿‡é•¿"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"é” <span class="hljs-template-variable">{{ $labels.lock_key }}</span> å·²æŒæœ‰è¶…è¿‡5åˆ†é’Ÿ"</span>
</code></pre>
<h3 data-id="heading-29">ä¸ƒã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-30">7.1 é—®é¢˜æ’æŸ¥è¡¨</h4>






























<table><thead><tr><th>é—®é¢˜ç°è±¡</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è·å–é”è¶…æ—¶</td><td>é”ç«äº‰æ¿€çƒˆæˆ–ä¸šåŠ¡æŒæœ‰æ—¶é—´è¿‡é•¿</td><td>1. å¢åŠ waitTime 2. ä¼˜åŒ–ä¸šåŠ¡é€»è¾‘ 3. å‡å°é”ç²’åº¦</td></tr><tr><td>çœ‹é—¨ç‹—æœªç»­æœŸ</td><td>çœ‹é—¨ç‹—çº¿ç¨‹å¼‚å¸¸ç»ˆæ­¢</td><td>1. æ£€æŸ¥çº¿ç¨‹æ± é…ç½® 2. å¢åŠ å¼‚å¸¸ç›‘æ§ 3. è®¾ç½®çº¿ç¨‹æœªæ•è·å¼‚å¸¸å¤„ç†å™¨</td></tr><tr><td>é”é‡Šæ”¾å¤±è´¥</td><td>ç½‘ç»œå¼‚å¸¸æˆ–Redisæ•…éšœ</td><td>1. å®ç°é‡è¯•æœºåˆ¶ 2. è®¾ç½®é”çš„æœ€å¤§æŒæœ‰æ—¶é—´ 3. æ·»åŠ å¼ºåˆ¶é‡Šæ”¾æ¥å£</td></tr><tr><td>å†…å­˜æ³„æ¼</td><td>ThreadLocalæœªæ¸…ç†</td><td>1. ç¡®ä¿finallyå—ä¸­æ¸…ç† 2. ä½¿ç”¨æ‹¦æˆªå™¨ç»Ÿä¸€æ¸…ç†</td></tr></tbody></table>
<h4 data-id="heading-31">7.2 Redisé›†ç¾¤ç¯å¢ƒ</h4>
<p>åœ¨Redisé›†ç¾¤ç¯å¢ƒä¸‹ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é…ç½®Redissonå®¢æˆ·ç«¯æ”¯æŒé›†ç¾¤</span>
@<span class="hljs-function">Bean
<span class="hljs-keyword">public</span> RedissonClient <span class="hljs-title">redissonClient</span><span class="hljs-params">()</span> </span>{
    Config config = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Config</span>();
    config.<span class="hljs-built_in">useClusterServers</span>()
        .<span class="hljs-built_in">addNodeAddress</span>(<span class="hljs-string">"redis://127.0.0.1:7001"</span>, <span class="hljs-string">"redis://127.0.0.1:7002"</span>)
        .<span class="hljs-built_in">setPassword</span>(<span class="hljs-string">"password"</span>)
        .<span class="hljs-built_in">setScanInterval</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-keyword">return</span> Redisson.<span class="hljs-built_in">create</span>(config);
}
</code></pre>
<h3 data-id="heading-32">å…«ã€æ€»ç»“</h3>
<h4 data-id="heading-33">8.1 ä¼˜ç‚¹</h4>
<ol>
<li><strong>è‡ªåŠ¨ç»­æœŸ</strong>ï¼šè§£å†³ä¸šåŠ¡æ‰§è¡Œæ—¶é—´ä¸ç¡®å®šæ€§é—®é¢˜</li>
<li><strong>é«˜å¯é æ€§</strong>ï¼šLuaè„šæœ¬ä¿è¯åŸå­æ€§ï¼Œé¿å…ç«äº‰æ¡ä»¶</li>
<li><strong>å¯é‡å…¥æ€§</strong>ï¼šæ”¯æŒåŒä¸€çº¿ç¨‹å¤šæ¬¡è·å–</li>
<li><strong>æ˜“äºé›†æˆ</strong>ï¼šæä¾›æ³¨è§£å’Œç¼–ç¨‹ä¸¤ç§ä½¿ç”¨æ–¹å¼</li>
<li><strong>å¯ç›‘æ§</strong>ï¼šå®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶</li>
</ol>
<h4 data-id="heading-34">8.2 ç¼ºç‚¹</h4>
<ol>
<li><strong>å®ç°å¤æ‚åº¦é«˜</strong>ï¼šéœ€è¦ç»´æŠ¤çœ‹é—¨ç‹—çº¿ç¨‹å’Œé”çŠ¶æ€</li>
<li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šæ¯ä¸ªé”éœ€è¦é¢å¤–çº¿ç¨‹è¿›è¡Œç»­æœŸ</li>
<li><strong>ç½‘ç»œä¾èµ–</strong>ï¼šå®Œå…¨ä¾èµ–Rediså¯ç”¨æ€§</li>
<li><strong>æ—¶é’ŸåŒæ­¥é—®é¢˜</strong>ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸‹éœ€è¦ä¿è¯æ—¶é’ŸåŒæ­¥</li>
</ol>
<h4 data-id="heading-35">8.3 æœ€ä½³å®è·µå»ºè®®</h4>
<ol>
<li><strong>é”å‘½åè§„èŒƒ</strong>ï¼šä½¿ç”¨ä¸šåŠ¡å‰ç¼€ï¼Œå¦‚ <code>order:lock:{orderId}</code></li>
<li><strong>è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´</strong>ï¼šæ ¹æ®ä¸šåŠ¡99çº¿è€—æ—¶è®¾ç½®</li>
<li><strong>å®ç°é™çº§ç­–ç•¥</strong>ï¼šRedisä¸å¯ç”¨æ—¶ä½¿ç”¨æœ¬åœ°é”</li>
<li><strong>å®šæœŸæ¸…ç†</strong>ï¼šå®ç°é”çš„è‡ªåŠ¨æ¸…ç†æœºåˆ¶</li>
<li><strong>æ–‡æ¡£åŒ–</strong>ï¼šè®°å½•é”çš„ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹</li>
</ol>
<hr/>
<p><strong>éƒ¨ç½²æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ol>
<li>ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨Redis Sentinelæˆ–Clusterä¿è¯é«˜å¯ç”¨</li>
<li>å»ºè®®è®¾ç½®åˆç†çš„JVMå‚æ•°ï¼Œé¿å…çœ‹é—¨ç‹—çº¿ç¨‹è¿‡å¤šå¯¼è‡´èµ„æºè€—å°½</li>
<li>å®šæœŸæ£€æŸ¥é”çš„ä½¿ç”¨æƒ…å†µï¼Œä¼˜åŒ–é”ç²’åº¦å’ŒæŒæœ‰æ—¶é—´</li>
<li>åœ¨å®¹å™¨åŒ–éƒ¨ç½²æ—¶ï¼Œæ³¨æ„çº¿ç¨‹æ± çš„åˆç†é…ç½®</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆäºŒï¼‰ï¼šè®¤è¯†MCPä»¥åŠé…ç½®config.toml]]></title>    <link>https://juejin.cn/post/7585019819192270858</link>    <guid>https://juejin.cn/post/7585019819192270858</guid>    <pubDate>2025-12-18T08:48:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585019819192270858" data-draft-id="7584758215701250086" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆäºŒï¼‰ï¼šè®¤è¯†MCPä»¥åŠé…ç½®config.toml"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T08:48:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆäºŒï¼‰ï¼šè®¤è¯†MCPä»¥åŠé…ç½®config.toml
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:48:09.000Z" title="Thu Dec 18 2025 08:48:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¥ä¸Šç¯‡ã€‚</p>
<p>ä¸Šä¸€ç¯‡çš„å‡†å¤‡å·¥ä½œåšå¥½åè¿˜ä¸èƒ½å¼€å§‹å¹²æ´»ï¼Œéœ€è¦åšä¸€äº›é…ç½®å·¥ä½œã€‚</p>
<h2 data-id="heading-0">ä¸€ã€è®¤è¯†MCP</h2>
<p>ä¸‹é¢ä»‹ç»çš„éƒ½æ˜¯ä¼šç”¨åˆ°çš„MCPã€‚</p>
<h3 data-id="heading-1">1ã€sequential-thinkingï¼ˆç»“æ„åŒ–æ¨ç†/åˆ†æ­¥æ€è€ƒ MCPï¼‰</h3>
<p><strong>Sequential Thinking MCP</strong> æ˜¯ä¸€ç§ä¸º AI æä¾› <em>é€æ­¥ç»“æ„åŒ–åˆ†æå’Œåˆ†è§£æ€è·¯</em> çš„æœåŠ¡ã€‚å®ƒä¸æ˜¯ç®€å•è¿”å›ä¸€ä¸ªç»“æœï¼Œè€Œæ˜¯å¸®åŠ©æ¨¡å‹ï¼š</p>
<ul>
<li>æŠŠå¤æ‚ä»»åŠ¡åˆ†æˆå¤šä¸ª <em>æ€è€ƒæ­¥éª¤</em>**</li>
<li>æŒ‰é¡ºåºæ¨è¿›ã€æ£€æŸ¥å’Œä¿®æ­£æ¯ä¸€æ­¥çš„è¾“å‡º</li>
<li>æ”¯æŒ <em>æ€ç»´åˆ†æ”¯</em>ï¼ˆexploreâ€¯alternative strategiesï¼‰</li>
<li>æä¾›å¯è§£é‡Šçš„ <em>ä¸­é—´æ€è€ƒçŠ¶æ€</em> å’Œ <strong>åæ€èƒ½åŠ›</strong></li>
</ul>
<p>è¿™ç§ MCP ç‰¹åˆ«é€‚åˆè§£å†³éœ€è¦è§„åˆ’ã€è®¾è®¡ã€ç­–ç•¥æ¨æ•²ç­‰åœºæ™¯ï¼Œæ¯”å¦‚ï¼š</p>
<p>âœ” å¤æ‚éœ€æ±‚æ‹†è§£</p>
<p>âœ” ç³»ç»Ÿè®¾è®¡åˆ†æ</p>
<p>âœ” æœ‰å¤šä¸ªå¯èƒ½æ–¹æ¡ˆä¸”éœ€è¦æ¯”è¾ƒä¼˜åŒ–</p>
<p>âœ” è‡ªæˆ‘ä¿®æ­£å’Œæ·±åº¦æ¢ç´¢çš„ä»»åŠ¡</p>
<p>å®ƒå¼¥è¡¥äº†ä¼ ç»Ÿ LLM ä¸€æ¬¡æ€§è¾“å‡ºçš„å±€é™ï¼Œè®©æ€è€ƒè¿‡ç¨‹æ˜¾å¼åŒ–ï¼Œæœ‰åŠ©äºé™ä½é”™è¯¯æ¦‚ç‡å’Œæé«˜å¯é æ€§ã€‚</p>
<p><strong>ä¸éœ€è¦æ˜¾ç¤ºè°ƒç”¨ã€‚</strong></p>
<p>(ğŸ‘†ğŸ»AIå†™çš„)</p>
<h3 data-id="heading-2">2ã€context7ï¼ˆå®æ—¶æ–‡æ¡£/ä»£ç ç¤ºä¾‹æ£€ç´¢ MCPï¼‰</h3>
<p>Context7 MCP çš„æ ¸å¿ƒç›®æ ‡æ˜¯è®© AI è·å¾— æœ€æ–°ã€æœ€å‡†ç¡®ã€ä¸åº“ç‰ˆæœ¬åŒ¹é… çš„å®˜æ–¹æ–‡æ¡£å’Œä»£ç ç¤ºä¾‹ï¼š</p>
<ul>
<li>åœ¨å®é™…ç¼–ç æ—¶åŠ¨æ€æ£€ç´¢å®˜æ–¹æ–‡æ¡£ã€‚</li>
<li>é¿å… LLM å› è®­ç»ƒæ•°æ®æ»åè€Œç”Ÿæˆè¿‡æ—¶/é”™è¯¯çš„ API è°ƒç”¨</li>
<li>å‡å°‘æ‰€è°“çš„ â€œå¹»è§‰ä»£ç â€</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼Œå®ƒç»™å¤§è¯­è¨€æ¨¡å‹è£…ä¸Šäº†ä¸€å‰¯ å®æ—¶æ–‡æ¡£çœ¼é•œï¼Œè®©æ¨¡å‹åœ¨ç”Ÿæˆä»£ç æ—¶èƒ½å¤Ÿï¼š</p>
<ul>
<li>è·å–æœ€æ–°å‘å¸ƒç‰ˆæœ¬çš„åº“æ–‡æ¡£</li>
<li>æŸ¥è¯¢å‡½æ•°ç­¾åå’Œå‚æ•°è¯´æ˜</li>
<li>æ‹¿åˆ°çœŸå®å¯ç”¨ç¤ºä¾‹ä»£ç </li>
</ul>
<p>è¿™å¯¹ AI ç¼–ç¨‹åŠ©æ‰‹éå¸¸é‡è¦ï¼Œå¯ä»¥æ˜¾è‘—æé«˜ç”Ÿæˆä»£ç çš„æ­£ç¡®ç‡å’Œå¯è¿è¡Œæ€§ã€‚</p>
<p>(ğŸ‘†ğŸ»AIå†™çš„)</p>
<p>ä½¿ç”¨æ–¹æ³•å°±æ˜¯åœ¨æç¤ºè¯æœ€ååŠ ä¸Š<code>use context7</code>ã€‚ä¾‹å¦‚ï¼šAWS MQTTçš„è¿æ¥æ–¹å¼ï¼Ÿuse context7ã€‚</p>
<p>åœ¨ä½¿ç”¨context7çš„æ—¶å€™ï¼Œå¦‚æœgithubä¸Šé¢æœ‰ä¸€äº›ä¸å¤ªå‡ºåçš„é¡¹ç›®ï¼Œä½ å¸Œæœ›context7ä¹Ÿæ”¯æŒå®ƒï¼Œéå¸¸ç®€å•ï¼š</p>
<p>1.å»<a href="https://link.juejin.cn?target=https%3A%2F%2Fcontext7.com%2F" target="_blank" title="https://context7.com/" ref="nofollow noopener noreferrer">Context7 - Up-to-date documentation for LLMs and A...</a>å®˜ç½‘ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ç»¿è‰²Add &gt;Docs</p>
<p>2.åœ¨github urlè¾“å…¥æ¡†é‡Œé¢å¡«å…¥githubåœ°å€</p>
<p>3.ç­‰å¾…context7åç«¯è§£æå®Œæ¯•ï¼Œå³å¯åœ¨mcpé‡Œé¢äº«å—é¡¹ç›®çš„æ–‡æ¡£å’Œä½¿ç”¨æ¡ˆä¾‹è¯¦è§£ã€‚</p>
<p><strong>é™¤äº†æ˜¾ç¤ºè°ƒç”¨ï¼Œæœ€å¥½é…åˆskillæ¥ä½¿ç”¨</strong></p>
<h3 data-id="heading-3">3ã€serenaï¼ˆè¯­ä¹‰ä»£ç æ£€ç´¢ &amp; ç²¾å‡†ç¼–è¾‘ MCPï¼‰</h3>
<p>Serena MCP æ˜¯ä¸€ä¸ªåŠŸèƒ½æ›´å¼ºã€æ›´åƒ IDE å·¥å…·çš„ MCP æœåŠ¡å™¨ï¼Œå®ç°äº† è¯­ä¹‰çº§ä»£ç æœç´¢ä¸ç¼–è¾‘èƒ½åŠ›ï¼š</p>
<p>å®ƒä¸ä»…ä»…æ˜¯æä¾›æ–‡æ¡£ã€è¿˜èƒ½å¤Ÿï¼š</p>
<ul>
<li>å¯¹ä»£ç è¿›è¡Œ è¯­ä¹‰çº§æ£€ç´¢ï¼ˆä¸æ˜¯ç®€å•å…³é”®è¯æœç´¢ï¼‰</li>
<li>ç†è§£é¡¹ç›®ä¸­ç¬¦å·ã€å‡½æ•°å®šä¹‰ã€å¼•ç”¨å…³ç³»</li>
<li>è¯†åˆ«å˜é‡ã€ç±»å‹å’Œä¾èµ–ç»“æ„</li>
<li>æä¾›ç±»ä¼¼ IDE çš„ ä»£ç å¯¼èˆªã€å¼•ç”¨æŸ¥æ‰¾ã€é‡æ„å»ºè®®</li>
<li>ç»“åˆ LLM æä¾›æ›´ç²¾ç¡®çš„ä»£ç ä¿®æ”¹å’Œè¡¥ä¸ç”Ÿæˆ</li>
</ul>
<p>å®ƒå¯è§†ä¸ºè®©å®¢æˆ·ç«¯ï¼ˆå¦‚ Codex CLIã€Claude Desktopã€Cursor ç­‰ï¼‰å˜å¾—åƒä¸€ä¸ªæœ‰ IDE èƒ½åŠ›çš„ä¼™ä¼´ï¼Œè€Œä¸æ˜¯å•çº¯è¯­è¨€æ¨¡å‹ã€‚Serena çš„ MCP è¾“å‡ºæ›´æ¥è¿‘ ä»£ç ç†è§£ + ç¼–è¾‘ è€Œä¸ä»…æ˜¯æ–‡æœ¬/æ–‡æ¡£æŸ¥è¯¢ã€‚</p>
<p>âš  æ³¨æ„ï¼šSerena éœ€è¦ uvx å·¥å…·ï¼ˆç°ä»£ Python åŒ…ç®¡ç†å™¨ï¼‰æ¥å¯åŠ¨ï¼Œå¹¶ä¸”é…ç½®å’Œä¾èµ–ç›¸å¯¹æ¯”å‰ä¸¤ä¸ªæ›´å¤æ‚ä¸€äº›ã€‚</p>
<p>(ğŸ‘†ğŸ»AIå†™çš„)</p>
<p>å»ºè®®åœ¨<code>AGENTS.md</code>æ–‡ä»¶çš„æœ€å‰é¢åŠ å…¥ä¸€å¥è¯æ˜¾ç¤ºå¼€å¯Serenaï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">## æ˜¾ç¤ºæ¿€æ´»Serena MCP
- IMPORTANT: If `serena.activate_project` has not been called <span class="hljs-keyword">in</span> the context, then call it once first.
</code></pre>
<p>å¦å¤–å¼€å¯Serenaåï¼Œé¡¹ç›®çš„æ ¹ç›®å½•ä¼šå¤šä¸€ä¸ª<code>.serena</code>çš„æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬å»ºè®®åŠ å…¥å¿½ç•¥æ–‡ä»¶ã€‚</p>
<h2 data-id="heading-4">äºŒã€è®¤è¯†config.tomlæ–‡ä»¶</h2>
<p><code>config.toml</code>æ–‡ä»¶å…¶å®å°±æ˜¯Codexçš„é…ç½®æ–‡ä»¶ï¼Œæ‰“å¼€æ–¹å¼(Mac)å°±æ˜¯æœç´¢<code>~/.codex/config.toml</code>æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶æ‰“å¼€å³å¯ã€‚ä¸‹é¢ä»‹ç»ä¸€äº›éœ€è¦æ·»åŠ çš„é…ç½®ï¼š</p>
<h3 data-id="heading-5">1ã€æ‰“å¼€codexè”ç½‘èƒ½åŠ›</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">[features]
# è®©codexæœ‰è”ç½‘æŸ¥è¯¢èƒ½åŠ›
web_search_request = <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-6">2ã€æ‰“å¼€skillsèƒ½åŠ›</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">[features]
# æ‰“å¼€skillsèƒ½åŠ›
skills = <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-7">3ã€å…¶ä»–</h3>
<p>å…¶ä»–ä¾‹å¦‚æ²™ç®±æ¨¡å¼ï¼ŒæŒ‡å®šæ¨¡å‹ç­‰ï¼Œå»ºè®®éœ€è¦ç”¨åˆ°çš„æ—¶å€™é—®AIå§ï¼Œå› äººè€Œå¼‚ã€‚</p>
<h2 data-id="heading-8">ä¸‰ã€é…ç½®MCPå’Œconfig.tomlæ–‡ä»¶</h2>
<p>MCPå°±æ˜¯é…ç½®åœ¨config.tomlæ–‡ä»¶ä¸­çš„ï¼Œä¸‹é¢æ˜¯ä¸€ä»½æˆ‘çš„config.tomlæ–‡ä»¶ä¾›å‚è€ƒï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">model = <span class="hljs-string">"gpt-5.1-codex-max"</span>
model_reasoning_effort = <span class="hljs-string">"high"</span>

# é¡¶å±‚å…¨å±€é»˜è®¤ï¼šåªè¯» + ä»ä¸å‡çº§
sandbox_mode    = <span class="hljs-string">"read-only"</span>
approval_policy = <span class="hljs-string">"never"</span>
trust_level = <span class="hljs-string">"untrusted"</span>


[features]
# è®©codexæœ‰è”ç½‘æŸ¥è¯¢èƒ½åŠ›
web_search_request = <span class="hljs-literal">true</span>
# æ‰“å¼€skillsèƒ½åŠ›
skills = <span class="hljs-literal">true</span>


[projects.<span class="hljs-string">"/Users/river"</span>]


[projects.<span class="hljs-string">"å…·ä½“é¡¹ç›®æ ¹è·¯å¾„ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„"</span>]
# å¦‚æœä½ æƒ³è®©è¿™ä¸ªé¡¹ç›®ä¹Ÿç»§æ‰¿åªè¯»ï¼Œå°±ä¸è¦åœ¨è¿™é‡ŒæŠŠ trust_level æ”¹æˆ trustedï¼Œæ”¹æˆtrusted codexå¯ä»¥ä¿®æ”¹ä½ çš„é¡¹ç›®æ–‡ä»¶ï¼Œä¸‹é¢è¢«æ³¨é‡Šæ‰äº†
# trust_level = <span class="hljs-string">"trusted"</span>



[mcp_servers.figma_local]
url = <span class="hljs-string">"http://127.0.0.1:3845/mcp"</span>
startup_timeout_sec = <span class="hljs-number">20</span>
tool_timeout_sec = <span class="hljs-number">60</span>


[mcp_servers.sequential-thinking]
command = <span class="hljs-string">"npx"</span>
args = [<span class="hljs-string">"-y"</span>, <span class="hljs-string">"@modelcontextprotocol/server-sequential-thinking"</span>]
startup_timeout_ms = <span class="hljs-number">20000</span>


[mcp_servers.context7]
command = <span class="hljs-string">"npx"</span>
args = [<span class="hljs-string">"-y"</span>, <span class="hljs-string">"@upstash/context7-mcp"</span>]
startup_timeout_ms = <span class="hljs-number">20000</span>


[mcp_servers.serena]
command = <span class="hljs-string">"uvx"</span>
args = [<span class="hljs-string">"--from"</span>, <span class="hljs-string">"git+https://github.com/oraios/serena"</span>,
        <span class="hljs-string">"serena"</span>, <span class="hljs-string">"start-mcp-server"</span>, <span class="hljs-string">"--context"</span>, <span class="hljs-string">"codex"</span>]
startup_timeout_ms = <span class="hljs-number">20000</span>

        
</code></pre>
<p>AIæ€ä¹ˆç”¨ï¼Œæ€ä¹ˆæ”¾æƒçœ‹ä¸ªäººï¼Œæ¯”å¦‚ä½ æƒ³è®©å®ƒåªè¯»ï¼Œç¡®å®æ²¡æœ‰é£é™©ï¼Œä½†ä¹Ÿå¾ˆå¤§çš„é™åˆ¶äº†AIçš„èƒ½åŠ›ï¼Œå¦‚æœå…è®¸AIå†™çš„è¯ï¼Œè¯·å¥½å¥½å®¡æŸ¥AIä¿®æ”¹åçš„ä»£ç ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨TypeScriptä¸­ï¼Œå¯é€‰å±æ€§(?)ä¸nullç±»å‹çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7584759201073201193</link>    <guid>https://juejin.cn/post/7584759201073201193</guid>    <pubDate>2025-12-18T07:47:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584759201073201193" data-draft-id="7584817405228564521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨TypeScriptä¸­ï¼Œå¯é€‰å±æ€§(?)ä¸nullç±»å‹çš„åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:47:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·9381691255360"/> <meta itemprop="url" content="https://juejin.cn/user/3485906645565271"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨TypeScriptä¸­ï¼Œå¯é€‰å±æ€§(?)ä¸nullç±»å‹çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3485906645565271/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·9381691255360
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:47:59.000Z" title="Thu Dec 18 2025 07:47:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨TypeScriptä¸­ï¼Œå®šä¹‰æ¥å£interfaceæ—¶ï¼Œä½¿ç”¨?ï¼ˆå¯é€‰å±æ€§ï¼‰ä¸ä½¿ç”¨nullç±»å‹æ˜¯ä¸¤ç§ä¸åŒçš„æ¦‚å¿µï¼Œå®ƒä»¬çš„ä½œç”¨å’Œåœºæ™¯æœ‰æœ¬è´¨åŒºåˆ«ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å¯é€‰å±æ€§(?)</h2>
<p>åœ¨æ¥å£ä¸­ï¼Œå±æ€§åååŠ ?è¡¨ç¤ºè¯¥å±æ€§æ˜¯å¯é€‰çš„ï¼Œå³å¯¹è±¡åœ¨å®ä¾‹åŒ–æ—¶å¯ä»¥ä¸åŒ…å«è¿™ä¸ªå±æ€§ï¼Œæˆ–è€…å…¶å€¼å¯ä»¥ä¸ºundefinedã€‚è¿™ä¸»è¦ç”¨äºæè¿°å¯¹è±¡ç»“æ„çš„çµæ´»æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>
    age?: <span class="hljs-built_in">number</span>  <span class="hljs-comment">//ageå±æ€§æ˜¯å¯é€‰çš„</span>
}

<span class="hljs-keyword">const</span> user1 : <span class="hljs-title class_">User</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">'alice'</span> } <span class="hljs-comment">//æ­£ç¡®ï¼Œageç¼ºå¤±</span>
<span class="hljs-keyword">const</span> user2 : <span class="hljs-title class_">User</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">'alice'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">18</span> } <span class="hljs-comment">//æ­£ç¡®ï¼Œageå­˜åœ¨</span>
</code></pre>
<p>è¿™é‡Œage?å…è®¸å±æ€§ç¼ºå¤±æˆ–å€¼ä¸ºundefinedï¼Œä½†å±æ€§æœ¬èº«ä¸æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h2 data-id="heading-1">äºŒã€nullç±»å‹</h2>
<p>nullæ˜¯ä¸€ç§å…·ä½“çš„ç±»å‹ï¼Œè¡¨ç¤ºå€¼ä¸ºnullã€‚åœ¨æ¥å£ä¸­ï¼Œå¦‚æœå±æ€§ç±»å‹è¢«æ˜¾å¼å®šä¹‰ä¸ºnullï¼Œåˆ™è¯¥å±æ€§çš„å€¼å¿…é¡»ä¸¥æ ¼ä¸ºnullï¼Œä¸èƒ½æ˜¯å…¶ä»–å€¼ï¼ŒåŒ…æ‹¬undefinedã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Data</span> {
    <span class="hljs-attr">result</span>: <span class="hljs-literal">null</span> <span class="hljs-comment">//resultçš„å±æ€§å¿…é¡»æ˜¯null</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">Data</span> = { <span class="hljs-attr">result</span>: <span class="hljs-literal">null</span> } <span class="hljs-comment">//æ­£ç¡®</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">data2</span>: <span class="hljs-title class_">Data</span> = { <span class="hljs-attr">result</span>: <span class="hljs-literal">undefined</span> } <span class="hljs-comment">//é”™è¯¯ï¼Œç±»å‹ä¸åŒ¹é…</span>
</code></pre>
<p>nullç±»å‹é€šå¸¸ç”¨äºè¡¨ç¤ºâ€œæ— å€¼â€æˆ–â€œç©ºå€¼â€çš„çŠ¶æ€ï¼Œå¼ºè°ƒå€¼çš„ç¡®å®šæ€§ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€ä¸»è¦åŒºåˆ«</h2>
<ul>
<li><strong>è¯­ä¹‰ä¸åŒï¼š</strong> ?å…³æ³¨å±æ€§çš„å­˜åœ¨æ€§ï¼ˆå¯é€‰ï¼‰ï¼Œè€Œnullå…³æ³¨å€¼çš„ç¡®å®šæ€§ï¼ˆå¿…é¡»ä¸ºnullï¼‰ã€‚</li>
<li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> ?å¸¸ç”¨äºæè¿°å¯¹è±¡ç»“æ„çš„å¯å˜æ€§ï¼ˆå¦‚APIå“åº”ä¸­æŸäº›å­—æ®µå¯èƒ½ç¼ºå¤±ï¼‰ï¼Œè€Œnullç”¨äºæ˜ç¡®è¡¨ç¤ºå€¼ä¸ºç©ºçš„æƒ…å†µï¼ˆå¦‚åˆå§‹åŒ–æˆ–çŠ¶æ€é”™è¯¯ï¼‰ã€‚</li>
<li><strong>ç±»å‹çº¦æŸï¼š</strong> å…è®¸å±æ€§ç¼ºå¤±æˆ–å€¼ä¸ºundefinedï¼Œè€Œnullè¦æ±‚å±æ€§å¿…é¡»å­˜åœ¨ä¸”å€¼ä¸ºnullã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äºŒæ¬¡å°è£…äº†ä¸ªå¤æ‚çš„el-tableè¡¨æ ¼]]></title>    <link>https://juejin.cn/post/7584861353804431396</link>    <guid>https://juejin.cn/post/7584861353804431396</guid>    <pubDate>2025-12-18T08:31:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584861353804431396" data-draft-id="7584987267292495918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äºŒæ¬¡å°è£…äº†ä¸ªå¤æ‚çš„el-tableè¡¨æ ¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T08:31:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿«è¢«ç©åäº†"/> <meta itemprop="url" content="https://juejin.cn/user/3280598425670920"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äºŒæ¬¡å°è£…äº†ä¸ªå¤æ‚çš„el-tableè¡¨æ ¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598425670920/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿«è¢«ç©åäº†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:31:05.000Z" title="Thu Dec 18 2025 08:31:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘æœ‰ä¸€ä¸ªéœ€æ±‚éœ€è¦ç”¨è¡¨æ ¼æ¥å±•ç¤ºæ•°æ®ã€‚ç”±äºé‡å†™
<code>el-table</code>çš„è¿™ç§å®Œæˆåº¦çš„ç»„ä»¶æ¥ä¸åŠ
ï¼ˆè‡ªå·±å°è¯•å®ç°åˆ°ä¸€åŠæ„Ÿè§‰æœ‰ç‚¹å›°éš¾ï¼‰ï¼Œæœ€ç»ˆå†³å®šå¯¹å…¶è¿›è¡ŒäºŒæ¬¡å°è£…ã€‚è¿™ä¸ªç»„ä»¶å¹¶éä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯éšç€å¤šä¸ªéœ€æ±‚çš„å åŠ ï¼Œé€æ­¥è¿­ä»£å®Œå–„çš„ã€‚</p>
<p><strong>è™½ç„¶æ˜¯ä¸ªå¤šçº§è¡¨å¤´ï¼Œä½†æ˜¯å¸¸è§„çš„ä½¿ç”¨æ˜¯è¿™ä¸ªç»„ä»¶çš„ç®€å•ä½¿ç”¨</strong></p>
<p><strong>ä¸Šå›¾</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df7ac1c48201420d9b42ecc8dab0ce69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r6KKr546p5Z2P5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651501&amp;x-signature=VZBBJg2qna3alyvoss4IOgHV1KE%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99b1207403c945288c7fceaa22590cc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r6KKr546p5Z2P5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651501&amp;x-signature=KKnLG0bmrD2D2twgYJgvQorvAP8%3D" alt="411.gif" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90058d0c5f8c4beea85e3b9457cad01d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r6KKr546p5Z2P5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651501&amp;x-signature=DDv89Qqt8YBQNyu5BhqPAKIsS7Q%3D" alt="55.gif" loading="lazy"/>
<strong>ç¬¬ä¸€ç‰ˆï¼šè¡¨å¤´æœç´¢</strong></p>
<p>åˆ©ç”¨ <code>&lt;template #header&gt;</code>è¿™ä¸ªè¡¨å¤´æ’æ§½ï¼Œåœ¨è¡¨å¤´ä¸­é›†æˆäº†æœç´¢æ¡ä»¶ã€‚</p>
<p><strong>ç¬¬äºŒç‰ˆï¼šè¡Œå†…ç¼–è¾‘</strong></p>
<p>æ–°å¢äº†è¡Œç¼–è¾‘åŠŸèƒ½ï¼Œè¿™æ¬¡æ˜¯é€šè¿‡æ”¹é€  <code>&lt;template #default&gt;</code>æ’æ§½çš„å†…å®¹æ¥å®ç°çš„ã€‚</p>
<p><strong>ç¬¬ä¸‰ç‰ˆï¼šå¤šçº§è¡¨å¤´</strong></p>
<p>è¿™ä¸€æ­¥æ¯”è¾ƒéº»çƒ¦ã€‚è™½ç„¶ <code>el-table</code>åŸç”Ÿæ”¯æŒå¤šçº§è¡¨å¤´ï¼Œä½†å…¶é…ç½®æ–¹å¼ä¸æˆ‘çš„åç«¯æ¥å£æ•°æ®ç»“æ„æ— æ³•ç›´æ¥åŒ¹é…ã€‚æˆ‘éœ€è¦çš„å¤šçº§è¡¨å¤´åªæ˜¯ç®€å•çš„åµŒå¥—å…³ç³»ã€‚æœ€åï¼Œå‚è€ƒäº†ã€Š<a href="https://juejin.cn/post/7218916720323985463" target="_blank" title="https://juejin.cn/post/7218916720323985463">Vue el-tableå°è£…,æ”¯æŒå¤šçº§è¡¨å¤´ï¼Œè‡ªåŠ¨é«˜åº¦</a>ã€‹è¿™ç¯‡æ–‡ç« ä¸­çš„æ–¹æ³•æ‰å¾—ä»¥å®ç°ã€‚ æœ¬ä»¥ä¸ºåˆ°æ­¤å°±å¤Ÿç”¨äº†ï¼Œä½†åœ¨è°ƒè¯•æ•°æ®æ—¶å‘ç°ï¼Œäº‹æƒ…è¿˜æ²¡å®Œã€‚</p>
<p><strong>ç¬¬å››ç‰ˆï¼šå¼‚æ­¥åˆ—æ•°æ®ä¸åŠ¨æ€è”åŠ¨</strong></p>
<p>æˆ‘çš„æ•°æ®ä¸­æœ‰ä¸‰ä¸ªå­—æ®µå­˜åœ¨è”åŠ¨å…³ç³»ï¼šé€‰æ‹©Aï¼Œéœ€è¦æ¸…ç©ºBå’ŒCï¼›é€‰æ‹©Bï¼Œåˆ™éœ€è¦æ¸…ç©ºCã€‚å…¶ä¸­ä¸€ä¸ªå­—æ®µåœ¨è¡¨æ ¼ä¸­å¹³é“ºå±•ç¤ºï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†ï¼Œä½†å¦å¤–ä¸¤ä¸ªå­—æ®µçš„è”åŠ¨æ„å‘³ç€ï¼Œ</p>
<p><strong>åŒä¸€åˆ—ä¸­ï¼Œä¸åŒè¡Œå¯¹åº”çš„ä¸‹æ‹‰æ¡†é€‰é¡¹åˆ—è¡¨å¯èƒ½æ˜¯ä¸åŒçš„</strong>ã€‚</p>
<p>å¸¸è§çš„è¡¨æ ¼ä¸‹æ‹‰æ¡†å®ç°ï¼Œé€šå¸¸æ•´åˆ—å…±äº«ä¸€ä¸ªé€‰é¡¹æ•°ç»„ï¼Œä½†è¿™ä¸ç¬¦åˆæˆ‘çš„éœ€æ±‚ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘æ”¹ä¸ºç›‘å¬åˆ—æ•°æ®åŠ è½½ï¼Œä¸ºæ¯ä¸€è¡ŒåŠ¨æ€è®¡ç®—è¯¥åˆ—å¯¹åº”çš„é€‰é¡¹æ•°ç»„ï¼Œå†³äº†â€œåŒè¡ŒåŒåˆ—ä¸åŒæ•°æ®â€çš„é—®é¢˜åï¼Œåˆå‘ç°äº†æ–°é—®é¢˜ï¼šè¡¨æ ¼åŠåç«¯æ•°æ®å­˜å‚¨çš„æ˜¯é€‰é¡¹çš„ <code>key</code>ï¼Œä½†æ˜¾ç¤ºæ—¶éœ€è¦çš„æ˜¯ <code>value</code>ã€‚</p>
<p>ä½ å¯èƒ½ä¼šè¯´ï¼Œå‰é¢åŠ¨æ€è®¡ç®—æ•°ç»„æ—¶ä¸æ˜¯å¤„ç†äº†å—ï¼Ÿ</p>
<p>æ˜¯çš„ï¼Œä½†é‚£ä»…é€‚ç”¨äºæ•°æ®å·²åŒ…å« <code>key</code>çš„æƒ…å†µã€‚ æˆ‘è¿˜éœ€è¦æ”¯æŒExcelå¯¼å…¥ï¼Œè€Œå¯¼å…¥çš„æ–‡ä»¶ä¸­åªæä¾›äº† <code>value</code>ï¼Œæ²¡æœ‰å¯¹åº”çš„ <code>key</code>ï¼Œè¿™åˆå¯¼è‡´äº†æ˜¾ç¤ºå¼‚å¸¸ã€‚ ç»è¿‡ä¸€ç•ªæ€è€ƒï¼Œæˆ‘æƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>åœ¨å¯¼å…¥æ•°æ®æ—¶ï¼Œéå†å¹¶è¡¥å…¨ <code>key</code>å€¼ã€‚</li>
<li>åœ¨æ˜¾ç¤ºæ—¶å†åšä¸€å±‚æ§åˆ¶ï¼Œè‹¥æ—  <code>key</code>åˆ™ç›´æ¥æ˜¾ç¤º <code>value</code>ã€‚</li>
</ol>
<p>ä¸è¿‡ï¼Œè¦å½»åº•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šå¸¸è¿˜éœ€è¦åç«¯æ¥å£çš„é…åˆï¼Œåœ¨æ•°æ®å±‚é¢ä¿æŒä¸€è‡´æ€§ã€‚</p>
<p><strong>ä»¥ä¸Šä¾¿æ˜¯è¿™ä¸ªè¡¨æ ¼ç»„ä»¶å®Œæ•´çš„æ¼”è¿›è¿‡ç¨‹ã€‚</strong></p>
<p>è¿™é‡Œå¤šçº§è¡¨å¤´çš„æ”¹åŠ¨ï¼Œ</p>
<pre><code class="hljs language-js" lang="js">&lt;!--
  <span class="hljs-title class_">EditTreeColumn</span> ç»„ä»¶ç”¨äºåœ¨å¯ç¼–è¾‘è¡¨æ ¼ä¸­æ¸²æŸ“æ ‘çŠ¶ç»“æ„çš„åˆ—
  æ”¯æŒå¤šç§ç¼–è¾‘å™¨ç±»å‹ï¼šæ™®é€šè¾“å…¥æ¡†ã€é€‰æ‹©å™¨ã€æ—¥æœŸé€‰æ‹©å™¨
  æ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“å’Œæ’æ§½
--&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!--
    å½“å‰åˆ—æ²¡æœ‰å­åˆ—æ—¶ï¼Œæ¸²æŸ“ä¸ºæ™®é€šçš„è¡¨æ ¼åˆ—
    ä½¿ç”¨ el-table-column çš„å„ç§å±æ€§æ¥é…ç½®åˆ—çš„è¡Œä¸ºå’Œæ ·å¼
  --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!col.children"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"col.label"</span> <span class="hljs-attr">:prop</span>=<span class="hljs-string">"col.prop || ''"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"col"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é»˜è®¤è¾“å…¥æ¡† --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"head-cell"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ col.label }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ä½¿ç”¨æ­£ç¡®çš„ slot ç»‘å®š --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"`h-${col.prop}`"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"{ row: col, index: 0 }"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>=<span class="hljs-string">"scope"</span>&gt;</span>
      <span class="hljs-comment">&lt;!--
        å½“å•å…ƒæ ¼å¤„äºç¼–è¾‘çŠ¶æ€æ—¶ï¼Œæ ¹æ®åˆ—å®šä¹‰çš„ç¼–è¾‘å™¨ç±»å‹æ˜¾ç¤ºå¯¹åº”çš„ç¼–è¾‘ç»„ä»¶
        æ”¯æŒ selectã€date-picker å’Œæ™®é€š input ä¸‰ç§ç±»å‹
      --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">v-if</span>=<span class="hljs-string">"props.isEditing(scope.$index, col.prop)"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"cell-editor"</span>
        <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ 'has-error': getFieldError(scope.row, col.prop, scope.$index) }"</span>
        @<span class="hljs-attr">click.stop</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">el-tooltip</span>
          <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"!getFieldError(scope.row, col.prop, scope.$index)"</span>
          <span class="hljs-attr">:content</span>=<span class="hljs-string">"getFieldError(scope.row, col.prop, scope.$index)"</span>
          <span class="hljs-attr">placement</span>=<span class="hljs-string">"top"</span>
          <span class="hljs-attr">effect</span>=<span class="hljs-string">"light"</span>
          <span class="hljs-attr">trigger</span>=<span class="hljs-string">"hover"</span>
          <span class="hljs-attr">:show-after</span>=<span class="hljs-string">"150"</span>
          <span class="hljs-attr">:hide-after</span>=<span class="hljs-string">"100"</span>
          <span class="hljs-attr">:teleported</span>=<span class="hljs-string">"true"</span>
          <span class="hljs-attr">:enterable</span>=<span class="hljs-string">"false"</span>
          <span class="hljs-attr">popper-class</span>=<span class="hljs-string">"field-error-popper"</span>
        &gt;</span>
          <span class="hljs-comment">&lt;!-- ä¸‹æ‹‰é€‰æ‹©å™¨ --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tooltip-trigger"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"props.getEditorType(col.prop) === 'select'"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span>
              <span class="hljs-attr">v-model</span>=<span class="hljs-string">"scope.row[col.prop]"</span>
              <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·é€‰æ‹©"</span>
              <span class="hljs-attr">filterable</span>
              <span class="hljs-attr">:loading</span>=<span class="hljs-string">"props.loading"</span>
              <span class="hljs-attr">:class</span>=<span class="hljs-string">"getFieldError(scope.row, col.prop, scope.$index) ? 'is-error' : ''"</span>
              @<span class="hljs-attr">change</span>=<span class="hljs-string">"() =&gt; props.handleInputConfirm(col.prop)"</span>
              @<span class="hljs-attr">visible-change</span>=<span class="hljs-string">"(visible) =&gt; props.handleSelectVisibleChange(visible, col.prop, scope.row)"</span>
              <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span>
            &gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span>
                <span class="hljs-attr">v-for</span>=<span class="hljs-string">"opt in props.getOptions(col.prop, scope.row)"</span>
                <span class="hljs-attr">:key</span>=<span class="hljs-string">"opt.value || opt"</span>
                <span class="hljs-attr">:label</span>=<span class="hljs-string">"opt.label || opt"</span>
                <span class="hljs-attr">:value</span>=<span class="hljs-string">"opt.value || opt"</span>
              /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

          <span class="hljs-comment">&lt;!-- æ—¥æœŸé€‰æ‹©å™¨ --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tooltip-trigger"</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"props.getEditorType(col.prop) === 'date-picker'"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-date-picker</span>
              <span class="hljs-attr">v-model</span>=<span class="hljs-string">"scope.row[col.prop]"</span>
              <span class="hljs-attr">type</span>=<span class="hljs-string">"date"</span>
              <span class="hljs-attr">value-format</span>=<span class="hljs-string">"YYYY-MM-DD"</span>
              <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"é€‰æ‹©æ—¥æœŸ"</span>
              <span class="hljs-attr">:class</span>=<span class="hljs-string">"getFieldError(scope.row, col.prop, scope.$index) ? 'is-error' : ''"</span>
              @<span class="hljs-attr">change</span>=<span class="hljs-string">"() =&gt; props.handleInputConfirm(col.prop)"</span>
              @<span class="hljs-attr">blur</span>=<span class="hljs-string">"() =&gt; props.handleInputConfirm(col.prop)"</span>
              <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span>
            /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>

          <span class="hljs-comment">&lt;!-- æ™®é€šè¾“å…¥æ¡† --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tooltip-trigger"</span> <span class="hljs-attr">v-else</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span>
              <span class="hljs-attr">v-model</span>=<span class="hljs-string">"scope.row[col.prop]"</span>
              <span class="hljs-attr">:type</span>=<span class="hljs-string">"col.prop &amp;&amp; col.prop.includes('prop-') ? 'number' : 'text'"</span>
              <span class="hljs-attr">:class</span>=<span class="hljs-string">"getFieldError(scope.row, col.prop, scope.$index) ? 'is-error' : ''"</span>
              @<span class="hljs-attr">input</span>=<span class="hljs-string">"(val) =&gt; handleInput(scope.row, col.prop, val)"</span>
              @<span class="hljs-attr">blur</span>=<span class="hljs-string">"() =&gt; props.handleInputConfirm(col.prop)"</span>
              @<span class="hljs-attr">keydown.enter</span>=<span class="hljs-string">"() =&gt; props.handleInputConfirm(col.prop)"</span>
              <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%"</span>
            /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">el-tooltip</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      <span class="hljs-comment">&lt;!--
        å½“å•å…ƒæ ¼ä¸å¤„äºç¼–è¾‘çŠ¶æ€æ—¶ï¼Œæ ¹æ®é…ç½®æ˜¾ç¤ºå†…å®¹
        å¦‚æœæœ‰è‡ªå®šä¹‰æ¸²æŸ“å‡½æ•°åˆ™ä½¿ç”¨è¯¥å‡½æ•°ï¼Œå¦åˆ™ä½¿ç”¨æ’æ§½æˆ–ç›´æ¥æ˜¾ç¤ºæ•°æ®
      --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-else</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"col.render"</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"col.render"</span> <span class="hljs-attr">:row</span>=<span class="hljs-string">"scope.row"</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">"scope.$index"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"col.slotName || col.prop"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"scope"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{{ scope.row[col.prop] }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>

  <span class="hljs-comment">&lt;!--
    å½“å‰åˆ—æœ‰å­åˆ—æ—¶ï¼Œæ¸²æŸ“ä¸ºåµŒå¥—çš„è¡¨æ ¼åˆ—ç»“æ„
    æ”¯æŒé€’å½’æ¸²æŸ“å¤šå±‚åµŒå¥—çš„åˆ—ç»“æ„
  --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"col.label"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">header</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"col.header"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">"col.header"</span> <span class="hljs-attr">:row</span>=<span class="hljs-string">"col"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é€’å½’æ¸²æŸ“å­åˆ— --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">EditTreeColumn</span>
      <span class="hljs-attr">v-for</span>=<span class="hljs-string">"t in col.children"</span>
      <span class="hljs-attr">:key</span>=<span class="hljs-string">"t.prop || t.label"</span>
      <span class="hljs-attr">:col</span>=<span class="hljs-string">"t"</span>
      <span class="hljs-attr">:is-editing</span>=<span class="hljs-string">"props.isEditing"</span>
      <span class="hljs-attr">:get-editor-type</span>=<span class="hljs-string">"props.getEditorType"</span>
      <span class="hljs-attr">:get-options</span>=<span class="hljs-string">"props.getOptions"</span>
      <span class="hljs-attr">:loading</span>=<span class="hljs-string">"props.loading"</span>
      <span class="hljs-attr">:handle-input-confirm</span>=<span class="hljs-string">"props.handleInputConfirm"</span>
      <span class="hljs-attr">:handle-select-visible-change</span>=<span class="hljs-string">"props.handleSelectVisibleChange"</span>
    &gt;</span>
      <span class="hljs-comment">&lt;!-- ä¼ é€’æ‰€æœ‰æ’æ§½ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"slot in Object.keys($slots)"</span> #[<span class="hljs-attr">slot</span>]=<span class="hljs-string">"scope"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"slot"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"scope"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">EditTreeColumn</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// ç»„ä»¶åç§°å®šä¹‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'EditTreeColumn'</span>
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-comment">// å®šä¹‰ç»„ä»¶æ¥æ”¶çš„å±æ€§</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
  <span class="hljs-attr">col</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>,
    <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> {}
  },
  <span class="hljs-comment">// æ³¨å…¥æ‰€æœ‰çš„ç¼–è¾‘æ§åˆ¶æ–¹æ³•å’ŒçŠ¶æ€</span>
  <span class="hljs-attr">isEditing</span>: <span class="hljs-title class_">Function</span>,
  <span class="hljs-attr">getEditorType</span>: <span class="hljs-title class_">Function</span>,
  <span class="hljs-attr">getOptions</span>: <span class="hljs-title class_">Function</span>,
  <span class="hljs-attr">loading</span>: <span class="hljs-title class_">Boolean</span>,
  <span class="hljs-attr">handleInputConfirm</span>: <span class="hljs-title class_">Function</span>,
  <span class="hljs-attr">handleSelectVisibleChange</span>: <span class="hljs-title class_">Function</span>,
  <span class="hljs-attr">getError</span>: <span class="hljs-title class_">Function</span>
});

<span class="hljs-comment">/**
 * å¤„ç†è¾“å…¥äº‹ä»¶
 * ç‰¹åˆ«å¤„ç†åŒ…å« 'prop-' çš„å­—æ®µï¼Œåªå…è®¸è¾“å…¥æ•°å­—
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleInput</span> = (<span class="hljs-params">row, prop, value</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!prop) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">if</span> (prop.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'prop-'</span>)) {
    <span class="hljs-keyword">const</span> numeric = <span class="hljs-title class_">String</span>(value ?? <span class="hljs-string">''</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[^\d]/g</span>, <span class="hljs-string">''</span>);
    row[prop] = numeric;
  }
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">getFieldError</span> = (<span class="hljs-params">row, prop, index</span>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> props.<span class="hljs-property">getError</span> === <span class="hljs-string">'function'</span>) {
    <span class="hljs-keyword">return</span> props.<span class="hljs-title function_">getError</span>(row, prop, index) || <span class="hljs-string">''</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-comment">/* ç¼–è¾‘å™¨å®¹å™¨æ ·å¼ */</span>
<span class="hljs-selector-class">.cell-editor</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-comment">/* è¡¨å¤´å•å…ƒæ ¼æ ·å¼ */</span>
<span class="hljs-selector-class">.head-cell</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span>;
}

<span class="hljs-selector-class">.cell-editor</span> {
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.cell-editor</span><span class="hljs-selector-class">.has-error</span> :<span class="hljs-built_in">deep</span>(.el-input__wrapper),
.cell-editor.has-error :<span class="hljs-built_in">deep</span>(.el-select__wrapper),
.cell-editor.has-error :<span class="hljs-built_in">deep</span>(.el-date-editor .el-input__wrapper) {
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">#f56c6c</span> inset;
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#f56c6c</span>;
}

<span class="hljs-selector-class">.field-error-popper</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#000000</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#000000</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">6px</span> <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#dcdfe6</span> <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">14px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>);
}

<span class="hljs-selector-class">.tooltip-trigger</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<p>cssçš„æ ·å¼å¤§å®¶çœ‹è‡ªå·±çš„éœ€æ±‚æ˜¯å¦ä¿ç•™ï¼Œæ’æ§½çš„å‘½åè§„åˆ™ä¸å–œæ¬¢æˆ‘çš„ä¹Ÿå¯ä»¥è‡ªå·±æ”¹ã€‚</p>
<p><strong>è¿™éƒ¨åˆ†æ˜¯æˆ‘çš„ç‰¹æ®Šéœ€æ±‚ï¼Œä¸ç”¨å¯ä»¥åˆ é™¤</strong></p>
<pre><code class="hljs language-ini" lang="ini">/**
 * å¤„ç†è¾“å…¥äº‹ä»¶
 * ç‰¹åˆ«å¤„ç†åŒ…å« 'prop-' çš„å­—æ®µï¼Œåªå…è®¸è¾“å…¥æ•°å­—
 */
const <span class="hljs-attr">handleInput</span> = (row, prop, value) =&gt; {
  if (!prop) return<span class="hljs-comment">;</span>
  if (prop.includes('prop-')) {
    const <span class="hljs-attr">numeric</span> = String(value ?? <span class="hljs-string">''</span>).replace(/[^\d]/g, <span class="hljs-string">''</span>)<span class="hljs-comment">;</span>
    row<span class="hljs-section">[prop]</span> = numeric<span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>
</code></pre>
<p><strong>å¯¹eltable çš„å°è£…</strong></p>
<pre><code class="hljs language-ts" lang="ts">&lt;template&gt;
  &lt;!-- è¡¨æ ¼å¤–å±‚å®¹å™¨ï¼Œç”¨äºè·å–<span class="hljs-variable constant_">DOM</span>å¼•ç”¨ --&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"tableWrapperRef"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Element Plusè¡¨æ ¼ç»„ä»¶ï¼Œé…ç½®äº†åŸºæœ¬æ ·å¼å’Œäº‹ä»¶ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">el-table</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"tableRef"</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">"data"</span> <span class="hljs-attr">:header-cell-style</span>=<span class="hljs-string">"{ background: '#fafafa' }"</span> <span class="hljs-attr">stripe</span> <span class="hljs-attr">border</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100%"</span>
      <span class="hljs-attr">highlight-current-row</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"$attrs"</span> <span class="hljs-attr">:cell-style</span>=<span class="hljs-string">"handleCellStyle"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- åŠ¨æ€æ¸²æŸ“è¡¨æ ¼åˆ—ï¼Œä½¿ç”¨è‡ªå®šä¹‰çš„å¯ç¼–è¾‘æ ‘å½¢åˆ—ç»„ä»¶ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EditTreeColumn</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in columns"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.prop"</span> <span class="hljs-attr">:col</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">:is-editing</span>=<span class="hljs-string">"checkIsEditing"</span>
        <span class="hljs-attr">:get-editor-type</span>=<span class="hljs-string">"getEditorComponent"</span> <span class="hljs-attr">:get-options</span>=<span class="hljs-string">"getTableOptions"</span> <span class="hljs-attr">:loading</span>=<span class="hljs-string">"selectLoading"</span>
        <span class="hljs-attr">:handle-input-confirm</span>=<span class="hljs-string">"handleInputConfirm"</span> <span class="hljs-attr">:handle-select-visible-change</span>=<span class="hljs-string">"handleSelectVisibleChange"</span>
        <span class="hljs-attr">:get-error</span>=<span class="hljs-string">"getError"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ä¼ é€’æ‰€æœ‰æ’æ§½åˆ°å­ç»„ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"slot in Object.keys($slots)"</span> #[<span class="hljs-attr">slot</span>]=<span class="hljs-string">"scope"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">"slot"</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"scope"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">EditTreeColumn</span>&gt;</span>

      <span class="hljs-comment">&lt;!-- å›ºå®šæ“ä½œæ åˆ— --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">el-table-column</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"æ“ä½œ"</span> <span class="hljs-attr">:width</span>=<span class="hljs-string">"120"</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"center"</span> <span class="hljs-attr">fixed</span>=<span class="hljs-string">"right"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">default</span>=<span class="hljs-string">"scope"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"table-action"</span> <span class="hljs-attr">:row</span>=<span class="hljs-string">"scope.row"</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">"scope.$index"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">el-table-column</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">el-table</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref } from 'vue';
import EditTreeColumn from './EditTreeColumn.vue';

// å®šä¹‰ç»„ä»¶æ¥æ”¶çš„å±æ€§
const props = defineProps({
  // è¡¨æ ¼æ•°æ®
  data: {
    type: Array,
    default: () =&gt; []
  },
  // åˆ—é…ç½®
  columns: {
    type: Array,
    default: () =&gt; []
  },
  // ä¸‹æ‹‰é€‰æ‹©åŠ è½½çŠ¶æ€
  selectLoading: {
    type: Boolean,
    default: false
  },
  // è¡¨æ ¼é€‰é¡¹æ•°æ®ï¼ˆå¦‚ä¸‹æ‹‰é€‰é¡¹ç­‰ï¼‰
  tableOptions: {
    type: Object,
    default: () =&gt; ({})
  },
  // ç¼–è¾‘å™¨é…ç½®ï¼ˆå†³å®šæ¯åˆ—ä½¿ç”¨ä½•ç§ç¼–è¾‘ç»„ä»¶ï¼‰
  editorConfig: {
    type: [Object, Function],
    default: () =&gt; ({})
  },
  // è‡ªå®šä¹‰å•å…ƒæ ¼æ ·å¼å‡½æ•°
  cellStyle: {
    type: Function,
    default: null
  },
  getError: {
    type: Function,
    default: null
  }
});

// å®šä¹‰ç»„ä»¶è§¦å‘çš„äº‹ä»¶
const emit = defineEmits([
  'update:data',           // æ•°æ®æ›´æ–°äº‹ä»¶
  'select-visible-change', // ä¸‹æ‹‰é€‰æ‹©æ˜¾éšå˜åŒ–äº‹ä»¶
  'editor-start',          // ç¼–è¾‘å™¨å¯åŠ¨äº‹ä»¶
  'editor-change',         // ç¼–è¾‘å™¨å€¼å˜åŒ–äº‹ä»¶
  'row-edit-finish'        // è¡Œç¼–è¾‘å®Œæˆäº‹ä»¶
]);

// è¡¨æ ¼å®¹å™¨å¼•ç”¨
const tableWrapperRef = ref&lt;HTMLElement | null&gt;(null);
// æ­£åœ¨ç¼–è¾‘çš„è¡Œç´¢å¼•
const editingRowIndex = ref&lt;number | null&gt;(null);
// æ˜¯å¦å¤„äºç¼–è¾‘çŠ¶æ€
const isEditing = ref(false);
// ç¼–è¾‘ä¸­çš„æ•°æ®å‰¯æœ¬
const editData = ref&lt;any&gt;(null);
// åŸå§‹æ•°æ®å‰¯æœ¬
const originalData = ref&lt;any&gt;(null);

/**
 * è·å–Excelç¼–è¾‘ç»„ä»¶ç±»å‹
 * @param field å­—æ®µå
 */
const getEditorComponent = (field: string): string =&gt; {
  // å¦‚æœeditorConfigæ˜¯å‡½æ•°ï¼Œåˆ™è°ƒç”¨å‡½æ•°è·å–ç»„ä»¶ç±»å‹
  if (typeof props.editorConfig === 'function') {
    return props.editorConfig(field);
  }
  // å¦åˆ™ä»å¯¹è±¡ä¸­è·å–å¯¹åº”å­—æ®µçš„ç»„ä»¶ç±»å‹ï¼Œé»˜è®¤ä¸ºinput
  return props.editorConfig[field] || 'input';
};

/**
 * æ£€æŸ¥æŒ‡å®šå•å…ƒæ ¼æ˜¯å¦å¤„äºç¼–è¾‘çŠ¶æ€
 * @param rowIndex è¡Œç´¢å¼•
 * @param prop å±æ€§å
 */
const checkIsEditing = (rowIndex: number, prop: string): boolean =&gt; {
  // åªéœ€åˆ¤æ–­æ˜¯å¦å¤„äºç¼–è¾‘çŠ¶æ€ä¸”æ˜¯å½“å‰è¡Œ
  return isEditing.value &amp;&amp; editingRowIndex.value === rowIndex;
};

/**
 * å¤„ç†å•å…ƒæ ¼æ ·å¼
 */
const handleCellStyle = ({ row, column, rowIndex, columnIndex }) =&gt; {
  // å¦‚æœæä¾›äº†è‡ªå®šä¹‰æ ·å¼å‡½æ•°ï¼Œåˆ™è°ƒç”¨å®ƒ
  if (typeof props.cellStyle === 'function') {
    return props.cellStyle(row, column, rowIndex, columnIndex);
  }
  // é»˜è®¤è¿”å›ç©ºæ ·å¼å¯¹è±¡
  return {};
};

/**
 * è·å–è¡¨æ ¼é€‰é¡¹æ•°æ®ï¼ˆå¦‚ä¸‹æ‹‰åˆ—è¡¨é€‰é¡¹ï¼‰
 * @param prop å±æ€§å
 * @param row è¡Œæ•°æ®
 */
const getTableOptions = (prop: string, row: any) =&gt; {
  // ç‰¹æ®Šå¤„ç†colorNumberå­—æ®µ
  if (prop === 'colorNumber') {
    // é¢œè‰²é€‰é¡¹åº”è¯¥æ ¹æ®å½“å‰è¡Œæ•°æ®çš„ customerStyleNumber åŠ¨æ€è·å–
    // ä¼˜å…ˆä½¿ç”¨ tableOptions ä¸­ä¼ å…¥çš„å½“å‰è¡Œå¯¹åº”çš„é¢œè‰²åˆ—è¡¨
    // è¿™é‡Œéœ€è¦çˆ¶ç»„ä»¶é…åˆï¼Œåœ¨ tableOptions ä¸­ä¼ å…¥ç»“æ„åŒ–çš„æ•°æ®ï¼Œæˆ–è€…é€šè¿‡ prop ä¼ é€’å½“å‰è¡Œçš„é¢œè‰²
    // ç”±äº tableOptions æ˜¯ä¸€ä¸ªæ‰å¹³å¯¹è±¡ï¼Œæˆ‘ä»¬å‡è®¾ 'colorNumber' å¯¹åº”çš„æ˜¯ä¸€ä¸ªé»˜è®¤åˆ—è¡¨ï¼Œæˆ–è€…æˆ‘ä»¬ç›´æ¥è§¦å‘ä¸€ä¸ªäº‹ä»¶è®©çˆ¶ç»„ä»¶æ›´æ–° options

    // å¦‚æœä¼ é€’äº† rowï¼Œå°è¯•ä½¿ç”¨ row ä¸­çš„ customerStyleNumber æ¥è¿‡æ»¤æˆ–è·å–ç‰¹å®šçš„é¢œè‰²åˆ—è¡¨
    // ä½†è¿™é‡Œä¸»è¦ä¾èµ–çˆ¶ç»„ä»¶æ›´æ–° tableOptions.colorNumber
    // å®é™…ä¸Šï¼Œå½“å¼€å§‹ç¼–è¾‘æ—¶ï¼ŒstartEditCell å·²ç»è§¦å‘äº† 'editor-change'ï¼Œçˆ¶ç»„ä»¶åº”è¯¥å·²ç»æ›´æ–°äº† tableOptions['colorNumber']
    return props.tableOptions[prop] || [];
  }
  // å…¶ä»–å­—æ®µç›´æ¥ä»tableOptionsä¸­è·å–
  return props.tableOptions[prop] || [];
};

/**
 * å¼€å§‹ç¼–è¾‘æ•´è¡Œ
 * @param row è¡Œæ•°æ®
 * @param index è¡Œç´¢å¼•
 */
const startEditRow = (row: any, index: number): void =&gt; {
  // å¦‚æœå½“å‰å·²ç»åœ¨ç¼–è¾‘è¯¥è¡Œï¼Œä¸åšå¤„ç†
  if (isEditing.value &amp;&amp; editingRowIndex.value === index) return;

  // å¦‚æœæ­£åœ¨ç¼–è¾‘å…¶ä»–åœ°æ–¹ï¼Œå…ˆä¿å­˜
  if (isEditing.value &amp;&amp; editingRowIndex.value !== null) {
    saveCurrentEdit();
  }

  // æ·±åº¦å…‹éš†åŸå§‹æ•°æ®ä½œä¸ºå¤‡ä»½
  originalData.value = JSON.parse(JSON.stringify(row));
  editData.value = JSON.parse(JSON.stringify(row));

  editingRowIndex.value = index;
  isEditing.value = true;

  // è§¦å‘ç¼–è¾‘å¼€å§‹äº‹ä»¶
  emit('editor-start', null, row, index);
};

/**
 * ä¿å­˜å½“å‰ç¼–è¾‘
 */
const saveCurrentEdit = () =&gt; {
  if (isEditing.value &amp;&amp; editingRowIndex.value !== null) {
    // å› ä¸ºæ˜¯ç›´æ¥ä¿®æ”¹çš„ data ä¸­çš„å¯¹è±¡å¼•ç”¨ï¼Œæ‰€ä»¥ä¸éœ€è¦ä» editData åˆå¹¶å› data
    // åªéœ€è¦è§¦å‘ update:data äº‹ä»¶é€šçŸ¥çˆ¶ç»„ä»¶å³å¯
    const newData = [...props.data];
    emit('update:data', newData);
  }
};

/**
 * é‡ç½®ç¼–è¾‘çŠ¶æ€
 */
const resetEditState = (): void =&gt; {
  editingRowIndex.value = null;
  originalData.value = null;
  editData.value = null;
  isEditing.value = false;
};

/**
 * åœæ­¢ç¼–è¾‘å¹¶ä¿å­˜
 */
const stopEditing = () =&gt; {
  if (isEditing.value) {
    if (editingRowIndex.value !== null) {
      // è§¦å‘è¡Œç¼–è¾‘å®Œæˆäº‹ä»¶
      emit('row-edit-finish', props.data[editingRowIndex.value], editingRowIndex.value);
    }
    saveCurrentEdit();
    resetEditState();
  }
};

/**
 * å–æ¶ˆç¼–è¾‘å¹¶æ¢å¤åŸæ•°æ®
 */
const cancelEditRow = () =&gt; {
  if (isEditing.value &amp;&amp; editingRowIndex.value !== null &amp;&amp; originalData.value) {
    const rows = [...props.data];
    rows[editingRowIndex.value] = JSON.parse(JSON.stringify(originalData.value));
    emit('update:data', rows);
  }
  resetEditState();
};
/**
 * å¤„ç†è¾“å…¥ç¡®è®¤ï¼ˆå€¼æ”¹å˜æ—¶è§¦å‘ï¼‰
 */
const handleInputConfirm = (changedProp?: string | Event) =&gt; {
  // å¦‚æœæ˜¯äº‹ä»¶å¯¹è±¡ï¼Œåˆ™å¿½ç•¥
  const prop = typeof changedProp === 'string' ? changedProp : undefined;

  // ä½¿ç”¨ setTimeout ç¡®ä¿å€¼å·²ç»æ›´æ–°
  setTimeout(() =&gt; {
    if (isEditing.value &amp;&amp; editingRowIndex.value !== null &amp;&amp; prop) {
      const currentRow = props.data[editingRowIndex.value];
      // è§¦å‘ç¼–è¾‘å˜æ›´äº‹ä»¶ï¼Œç”¨äºå¤–éƒ¨è”åŠ¨
      emit('editor-change', currentRow[prop], prop, currentRow);
    }
  }, 0);
};

/**
 * å¤„ç†ä¸‹æ‹‰æ¡†æ˜¾ç¤ºå˜åŒ–
 */
const handleSelectVisibleChange = (visible: boolean, prop: string, currentRow: any) =&gt; {
  // è§¦å‘ä¸‹æ‹‰é€‰æ‹©æ˜¾éšå˜åŒ–äº‹ä»¶
  emit('select-visible-change', visible, prop, currentRow);
};

// æ•´è¡Œç¼–è¾‘æ¨¡å¼ï¼šä¸ä½¿ç”¨å•å…ƒæ ¼åŒå‡»æˆ–å¤–éƒ¨ç‚¹å‡»è‡ªåŠ¨ä¿å­˜

// æš´éœ²æ–¹æ³•ç»™çˆ¶ç»„ä»¶ä½¿ç”¨
defineExpose({
  resetEditState,
  startEditRow,
  stopEditing,
  cancelEditRow
});
&lt;/script&gt;

&lt;style scoped&gt;
/* ç¼–è¾‘å™¨æ ·å¼ */
.cell-editor {
  width: 100%;
}

/* è¡¨å¤´åŒ…è£…å™¨æ ·å¼ */
:deep(.el-table__header-wrapper th&gt;.cell) {
  padding: 0;
  word-break: break-word;
  text-align: center;
}

/* å•å…ƒæ ¼åŒ…è£…å™¨æ ·å¼ */
:deep(td&gt;.el-table__cell) {
  text-align: center;
  line-height: normal;
  word-break: break-word;
}

/* å•å…ƒæ ¼å†…å®¹æ ·å¼ */
:deep(td&gt;.cell) {
  padding: 4px 0;
  text-align: center;
  line-height: normal;
  word-break: break-word;
}

/* è¡¨æ ¼å•å…ƒæ ¼å†…è¾¹è· */
:deep(.el-table__cell) {
  padding: 0;
  overflow: visible;
}
&lt;/style&gt;

</code></pre>
<p>ä¸‹é¢æ˜¯æˆ‘çš„è¡¨å¤´mock</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
   <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">200</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"msg"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ“ä½œæˆåŠŸ"</span><span class="hljs-punctuation">,</span>
   <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2000393771221028865"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è®¢å•ç¼–å·"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"orderNumber"</span>
       <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2000393771221028866"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸‹å•æ—¥æœŸ"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"orderDate"</span>
       <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2000393771221028867"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å®¢æˆ·æ¬¾å·"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"customerStyleNumber"</span>
       <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2000393771221028868"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¢œè‰²"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"colorNumber"</span>
       <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1998003174492979213"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7XL"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7XL"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
               <span class="hljs-punctuation">{</span>
                   <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1998003174492979230"</span><span class="hljs-punctuation">,</span>
                   <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1998003174492979213"</span><span class="hljs-punctuation">,</span>
                   <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
                   <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7XL"</span><span class="hljs-punctuation">,</span>
                   <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
                   <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                       <span class="hljs-punctuation">{</span>
                           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1998003174555893774"</span><span class="hljs-punctuation">,</span>
                           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1998003174492979230"</span><span class="hljs-punctuation">,</span>
                           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
                           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7XL"</span><span class="hljs-punctuation">,</span>
                           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prop-17"</span>
                       <span class="hljs-punctuation">}</span>
                   <span class="hljs-punctuation">]</span>
               <span class="hljs-punctuation">}</span>
           <span class="hljs-punctuation">]</span>
       <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2000393771221028869"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ€»è®¡"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"total"</span>
       <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
       <span class="hljs-punctuation">{</span>
           <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2000393771221028872"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"parentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å‘è´§æ—¥æœŸ"</span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"ancestors"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
           <span class="hljs-attr">"prop"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"shippingDate"</span>
       <span class="hljs-punctuation">}</span>
   <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…³äºè¡¨å¤´çš„æœç´¢ï¼Œå°±è´´å›¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f9f3e0dfa5d43cca75e101e76bc6b87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r6KKr546p5Z2P5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651501&amp;x-signature=QsccweRmoUFr7kgSTVxT3Eqq8j8%3D" alt="image.png" loading="lazy"/>
è¡¨å¤´çš„æ’æ§½æˆ‘ä»¥h-å¼€å¤´ï¼Œä¸å¸¦h-å°±æ˜¯å•å…ƒæ ¼ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ª</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21cd61aa2837464da8a4c20940977e51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-r6KKr546p5Z2P5LqG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651501&amp;x-signature=RIQsZh68k2hom86A25U7vjmiNhk%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js">&lt;script lang=<span class="hljs-string">"ts"</span> setup&gt;
<span class="hljs-keyword">import</span> { onMounted, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ElMessage</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'element-plus'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">EditTable</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../widget/editTable/index.vue'</span>;
<span class="hljs-keyword">import</span> headerJsonRaw <span class="hljs-keyword">from</span> <span class="hljs-string">'../widget/editTable/è¡¨å¤´json?raw'</span>;
<span class="hljs-keyword">import</span> styleColorJsonRaw <span class="hljs-keyword">from</span> <span class="hljs-string">'../widget/editTable/æ¬¾å·ä»¥åŠé¢œè‰²?raw'</span>;

interface <span class="hljs-title class_">ColumnNode</span> {
  <span class="hljs-attr">id</span>: string;
  <span class="hljs-attr">parentId</span>: number | string;
  <span class="hljs-attr">label</span>: string;
  <span class="hljs-attr">ancestors</span>: string | <span class="hljs-literal">null</span>;
  <span class="hljs-attr">prop</span>: string | <span class="hljs-literal">null</span>;
  children?: <span class="hljs-title class_">ColumnNode</span>[];
}

interface <span class="hljs-title class_">HeaderResponse</span> {
  <span class="hljs-attr">code</span>: number;
  <span class="hljs-attr">msg</span>: string;
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">ColumnNode</span>[];
}

interface <span class="hljs-title class_">ColorResponse</span> {
  <span class="hljs-attr">code</span>: number;
  <span class="hljs-attr">msg</span>: string;
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">Record</span>&lt;string, string&gt;;
}

type <span class="hljs-title class_">EditorType</span> = <span class="hljs-string">'input'</span> | <span class="hljs-string">'select'</span> | <span class="hljs-string">'date-picker'</span>;

interface <span class="hljs-title class_">OrderRow</span> {
  <span class="hljs-attr">orderNumber</span>: string;
  <span class="hljs-attr">orderDate</span>: string;
  <span class="hljs-attr">customerStyleNumber</span>: string;
  <span class="hljs-attr">colorNumber</span>: string;

  [<span class="hljs-attr">key</span>: string]: any;
}

<span class="hljs-keyword">const</span> columns = ref&lt;<span class="hljs-title class_">ColumnNode</span>[]&gt;([]);
<span class="hljs-keyword">const</span> tableData = ref&lt;<span class="hljs-title class_">OrderRow</span>[]&gt;([]);
<span class="hljs-keyword">const</span> tableOptions = ref&lt;<span class="hljs-title class_">Record</span>&lt;string, { <span class="hljs-attr">label</span>: string; <span class="hljs-attr">value</span>: string }[]&gt;&gt;({});
<span class="hljs-keyword">const</span> selectLoading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">const</span> colorMap = ref&lt;<span class="hljs-title class_">Record</span>&lt;string, string&gt;&gt;({});
<span class="hljs-keyword">const</span> editTableRef = <span class="hljs-title function_">ref</span>(); <span class="hljs-comment">// Add ref for EditTable</span>
<span class="hljs-keyword">const</span> editingRowIndex = ref&lt;number | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">DEFAULT_ROW</span>: <span class="hljs-title class_">OrderRow</span> = {
  <span class="hljs-attr">orderNumber</span>: <span class="hljs-string">'ORD-001'</span>,
  <span class="hljs-attr">orderDate</span>: <span class="hljs-string">'2025-01-01'</span>,
  <span class="hljs-attr">customerStyleNumber</span>: <span class="hljs-string">'UC121'</span>,
  <span class="hljs-attr">colorNumber</span>: <span class="hljs-string">'Black'</span>,
  <span class="hljs-attr">shippingDate</span>: <span class="hljs-string">'2025-01-31'</span>
};

<span class="hljs-keyword">const</span> <span class="hljs-attr">INITIAL_ROWS</span>: <span class="hljs-title class_">OrderRow</span>[] = [
  {
    ...<span class="hljs-variable constant_">DEFAULT_ROW</span>,
    <span class="hljs-string">'prop-1'</span>: <span class="hljs-number">10</span>,
    <span class="hljs-string">'prop-2'</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">total</span>: <span class="hljs-number">15</span>,

    <span class="hljs-attr">produced</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">unproduced</span>: <span class="hljs-number">15</span>
  },
  {
    <span class="hljs-attr">orderNumber</span>: <span class="hljs-string">'ORD-002'</span>,
    <span class="hljs-attr">orderDate</span>: <span class="hljs-string">'2025-01-05'</span>,
    <span class="hljs-attr">customerStyleNumber</span>: <span class="hljs-string">'UXX10'</span>,
    <span class="hljs-attr">colorNumber</span>: <span class="hljs-string">'Charcoal'</span>,
    <span class="hljs-string">'prop-1'</span>: <span class="hljs-number">6</span>,
    <span class="hljs-string">'prop-2'</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">total</span>: <span class="hljs-number">14</span>,
    <span class="hljs-attr">produced</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">unproduced</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">shippingDate</span>: <span class="hljs-string">'2025-02-10'</span>
  },
  {
    <span class="hljs-attr">orderNumber</span>: <span class="hljs-string">'ORD-003'</span>,
    <span class="hljs-attr">orderDate</span>: <span class="hljs-string">'2025-02-10'</span>,
    <span class="hljs-attr">customerStyleNumber</span>: <span class="hljs-string">'UC601'</span>,
    <span class="hljs-attr">colorNumber</span>: <span class="hljs-string">'Deep Grey/Black'</span>,
    <span class="hljs-string">'prop-1'</span>: <span class="hljs-number">3</span>,
    <span class="hljs-string">'prop-2'</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">total</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">produced</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">unproduced</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">shippingDate</span>: <span class="hljs-string">'2025-03-01'</span>
  }
];

<span class="hljs-keyword">const</span> parseHeaderJson = (): <span class="hljs-function"><span class="hljs-params">HeaderResponse</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(headerJsonRaw) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HeaderResponse</span>;
};

<span class="hljs-keyword">const</span> parseColorJson = (): <span class="hljs-function"><span class="hljs-params">ColorResponse</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(styleColorJsonRaw) <span class="hljs-keyword">as</span> <span class="hljs-title class_">ColorResponse</span>;
};

<span class="hljs-keyword">const</span> mockRequest = &lt;T,&gt;(<span class="hljs-attr">data</span>: T, delay = <span class="hljs-number">600</span>): <span class="hljs-title class_">Promise</span>&lt;T&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>&lt;T&gt;(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(data), delay);
  });
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">initPage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> header = <span class="hljs-title function_">parseHeaderJson</span>();
  <span class="hljs-keyword">const</span> colors = <span class="hljs-title function_">parseColorJson</span>();
  columns.<span class="hljs-property">value</span> = header.<span class="hljs-property">data</span>;
  colorMap.<span class="hljs-property">value</span> = colors.<span class="hljs-property">data</span>;

  <span class="hljs-keyword">const</span> styleOptions = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(colors.<span class="hljs-property">data</span> || {}).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> ({
    <span class="hljs-attr">label</span>: key,
    <span class="hljs-attr">value</span>: key
  }));
  tableOptions.<span class="hljs-property">value</span> = {
    ...tableOptions.<span class="hljs-property">value</span>,
    <span class="hljs-attr">customerStyleNumber</span>: styleOptions
  };

  tableData.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">mockRequest</span>(<span class="hljs-variable constant_">INITIAL_ROWS</span>, <span class="hljs-number">800</span>);
};
<span class="hljs-comment">// å¤„ç†æ·»åŠ è¡Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAddRow</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">newRow</span>: <span class="hljs-title class_">OrderRow</span> = { ...<span class="hljs-variable constant_">DEFAULT_ROW</span> };
  tableData.<span class="hljs-property">value</span>.<span class="hljs-title function_">unshift</span>(newRow);
};

<span class="hljs-comment">// æ¨¡æ‹Ÿæ ¹æ®æ¬¾å·è·å–é¢œè‰²åˆ—è¡¨çš„å¼‚æ­¥è¯·æ±‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchColorsByStyle</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">styleNumber: string</span>) =&gt; {
  selectLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">const</span> colorString = colorMap.<span class="hljs-property">value</span>[styleNumber] || <span class="hljs-string">''</span>;
  <span class="hljs-keyword">const</span> list = colorString ? colorString.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> ({ <span class="hljs-attr">label</span>: item.<span class="hljs-title function_">trim</span>(), <span class="hljs-attr">value</span>: item.<span class="hljs-title function_">trim</span>() })) : [];
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">mockRequest</span>(list, <span class="hljs-number">800</span>);
  selectLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> result;
};
<span class="hljs-comment">// å®šä¹‰ç¼–è¾‘å™¨ç±»å‹é…ç½®</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">editorConfig</span>: <span class="hljs-title class_">Record</span>&lt;string, <span class="hljs-title class_">EditorType</span>&gt; = {
  <span class="hljs-attr">orderNumber</span>: <span class="hljs-string">'input'</span>,
  <span class="hljs-attr">orderDate</span>: <span class="hljs-string">'date-picker'</span>,
  <span class="hljs-attr">shippingDate</span>: <span class="hljs-string">'date-picker'</span>,
  <span class="hljs-attr">customerStyleNumber</span>: <span class="hljs-string">'select'</span>,
  <span class="hljs-attr">colorNumber</span>: <span class="hljs-string">'select'</span>
};
<span class="hljs-comment">// å¤„ç†ç¼–è¾‘å™¨å˜åŒ–</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEditorChange</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">value: any, prop: string, row: OrderRow</span>) =&gt; {
  <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'customerStyleNumber'</span>) {
    row.<span class="hljs-property">colorNumber</span> = <span class="hljs-string">''</span>;
    <span class="hljs-comment">// å¼ºåˆ¶è§¦å‘å“åº”å¼æ›´æ–°</span>
    tableData.<span class="hljs-property">value</span> = [...tableData.<span class="hljs-property">value</span>];
  }
};
<span class="hljs-comment">// å¤„ç†ä¸‹æ‹‰æ¡†æ˜¾ç¤ºå˜åŒ–</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSelectVisibleChange</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">visible: boolean, prop: string, row: OrderRow</span>) =&gt; {
  <span class="hljs-keyword">if</span> (visible &amp;&amp; prop === <span class="hljs-string">'colorNumber'</span>) {
    <span class="hljs-keyword">const</span> options = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchColorsByStyle</span>(row.<span class="hljs-property">customerStyleNumber</span>);
    tableOptions.<span class="hljs-property">value</span> = { ...tableOptions.<span class="hljs-property">value</span>, <span class="hljs-attr">colorNumber</span>: options };
  }
};

<span class="hljs-comment">// æ”¶é›†æ‰€æœ‰å¶å­åˆ—çš„ prop</span>
<span class="hljs-keyword">const</span> collectLeafProps = (<span class="hljs-attr">cols</span>: <span class="hljs-title class_">ColumnNode</span>[]): string[] =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">result</span>: string[] = [];
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">walk</span> = (<span class="hljs-params">nodes: ColumnNode[]</span>) =&gt; {
    nodes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">n</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (n.<span class="hljs-property">children</span> &amp;&amp; n.<span class="hljs-property">children</span>.<span class="hljs-property">length</span>) {
        <span class="hljs-title function_">walk</span>(n.<span class="hljs-property">children</span>);
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n.<span class="hljs-property">prop</span>) {
        result.<span class="hljs-title function_">push</span>(n.<span class="hljs-property">prop</span>);
      }
    });
  };
  <span class="hljs-title function_">walk</span>(cols);
  <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">// è¡Œå†…æ ¡éªŒé”™è¯¯æç¤ºï¼ˆä¾› EditTable å†…éƒ¨å±•ç¤ºï¼‰</span>
<span class="hljs-keyword">const</span> getFieldError = (<span class="hljs-attr">row</span>: <span class="hljs-title class_">OrderRow</span>, <span class="hljs-attr">prop</span>: string, <span class="hljs-attr">rowIndex</span>: number): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'orderNumber'</span> &amp;&amp; !<span class="hljs-title class_">String</span>(row.<span class="hljs-property">orderNumber</span> || <span class="hljs-string">''</span>).<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span> <span class="hljs-string">'è¯·è¾“å…¥è®¢å•å·'</span>;
  <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'orderDate'</span>) {
    <span class="hljs-keyword">const</span> val = <span class="hljs-title class_">String</span>(row.<span class="hljs-property">orderDate</span> || <span class="hljs-string">''</span>).<span class="hljs-title function_">trim</span>();
    <span class="hljs-keyword">if</span> (!val) <span class="hljs-keyword">return</span> <span class="hljs-string">'è¯·é€‰æ‹©ä¸‹å•æ—¥æœŸ'</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^\d{4}-\d{2}-\d{2}$/</span>.<span class="hljs-title function_">test</span>(val)) <span class="hljs-keyword">return</span> <span class="hljs-string">'æ—¥æœŸæ ¼å¼ YYYY-MM-DD'</span>;
  }
  <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'shippingDate'</span>) {
    <span class="hljs-keyword">const</span> val = <span class="hljs-title class_">String</span>(row.<span class="hljs-property">shippingDate</span> || <span class="hljs-string">''</span>).<span class="hljs-title function_">trim</span>();
    <span class="hljs-keyword">if</span> (!val) <span class="hljs-keyword">return</span> <span class="hljs-string">'è¯·é€‰æ‹©å‘è´§æ—¥æœŸ'</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^\d{4}-\d{2}-\d{2}$/</span>.<span class="hljs-title function_">test</span>(val)) <span class="hljs-keyword">return</span> <span class="hljs-string">'æ—¥æœŸæ ¼å¼ YYYY-MM-DD'</span>;
  }
  <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'customerStyleNumber'</span> &amp;&amp; !<span class="hljs-title class_">String</span>(row.<span class="hljs-property">customerStyleNumber</span> || <span class="hljs-string">''</span>).<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span> <span class="hljs-string">'è¯·é€‰æ‹©æ¬¾å·'</span>;
  <span class="hljs-keyword">if</span> (prop === <span class="hljs-string">'colorNumber'</span> &amp;&amp; <span class="hljs-title class_">String</span>(row.<span class="hljs-property">customerStyleNumber</span> || <span class="hljs-string">''</span>).<span class="hljs-title function_">trim</span>() &amp;&amp; !<span class="hljs-title class_">String</span>(row.<span class="hljs-property">colorNumber</span> || <span class="hljs-string">''</span>).<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span> <span class="hljs-string">'è¯·é€‰æ‹©é¢œè‰²'</span>;
  <span class="hljs-keyword">if</span> (prop.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'prop-'</span>)) {
    <span class="hljs-keyword">const</span> val = row[prop];
    <span class="hljs-keyword">if</span> (val === <span class="hljs-literal">undefined</span> || val === <span class="hljs-literal">null</span> || <span class="hljs-title class_">String</span>(val).<span class="hljs-title function_">trim</span>() === <span class="hljs-string">''</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    <span class="hljs-keyword">const</span> v = <span class="hljs-title class_">Number</span>(val);
    <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isFinite</span>(v)) <span class="hljs-keyword">return</span> <span class="hljs-string">'è¯·è¾“å…¥æ•°å­—'</span>;
    <span class="hljs-keyword">if</span> (v &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'ä¸èƒ½ä¸ºè´Ÿæ•°'</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
};

<span class="hljs-comment">// æ ¡éªŒæ•´è¡Œ</span>
<span class="hljs-keyword">const</span> validateRow = (<span class="hljs-attr">row</span>: <span class="hljs-title class_">OrderRow</span>): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> props = <span class="hljs-title function_">collectLeafProps</span>(columns.<span class="hljs-property">value</span>);
  <span class="hljs-keyword">const</span> errors = props.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> <span class="hljs-title function_">getFieldError</span>(row, p, -<span class="hljs-number">1</span>)).<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> e);
  <span class="hljs-keyword">if</span> (errors.<span class="hljs-property">length</span>) {
    <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(errors[<span class="hljs-number">0</span>]);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-comment">// æ ¡éªŒ prop- å­—æ®µä¸èƒ½å…¨éƒ¨ä¸ºç©º</span>
  <span class="hljs-keyword">const</span> propFields = props.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> p.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'prop-'</span>));
  <span class="hljs-keyword">if</span> (propFields.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> hasValue = propFields.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">p</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> val = row[p];
      <span class="hljs-keyword">return</span> val !== <span class="hljs-literal">undefined</span> &amp;&amp; val !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-title class_">String</span>(val).<span class="hljs-title function_">trim</span>() !== <span class="hljs-string">''</span>;
    });
    <span class="hljs-keyword">if</span> (!hasValue) {
      <span class="hljs-title class_">ElMessage</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·è‡³å°‘å¡«å†™ä¸€ä¸ªå°ºç æ•°é‡'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};

<span class="hljs-comment">// å¤„ç†æ•´è¡Œç¼–è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEditRow</span> = (<span class="hljs-params">row: OrderRow, index: number</span>) =&gt; {
  <span class="hljs-keyword">if</span> (editTableRef.<span class="hljs-property">value</span>) {
    <span class="hljs-comment">// é¢„åŠ è½½å½“å‰è¡Œçš„é¢œè‰²é€‰é¡¹ï¼Œç¡®ä¿ç¼–è¾‘æ—¶ä¸‹æ‹‰æ¡†èƒ½æ­£ç¡®æ˜¾ç¤ºå¯¹åº”çš„ Labelï¼ˆå¦‚æœæ˜¯ Key-Value æ¨¡å¼ï¼‰</span>
    <span class="hljs-keyword">if</span> (row.<span class="hljs-property">customerStyleNumber</span>) {
      <span class="hljs-title function_">fetchColorsByStyle</span>(row.<span class="hljs-property">customerStyleNumber</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> {
        tableOptions.<span class="hljs-property">value</span> = { ...tableOptions.<span class="hljs-property">value</span>, <span class="hljs-attr">colorNumber</span>: options };
      });
    }
    editTableRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">startEditRow</span>(row, index);
    editingRowIndex.<span class="hljs-property">value</span> = index;
  }
};

<span class="hljs-comment">// è·å–é¢œè‰²åˆ—çš„æ˜¾ç¤ºæ–‡æœ¬ï¼ˆç”¨äºéç¼–è¾‘çŠ¶æ€ï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getColorLabel</span> = (<span class="hljs-params">row: OrderRow</span>) =&gt; {
  <span class="hljs-comment">// åœºæ™¯ï¼šå¦‚æœæ¯ä¸ªæ¬¾å·å¯¹åº”çš„é¢œè‰²ç»„ä¸ä¸€æ ·ï¼Œä¸”å­˜å‚¨çš„æ˜¯ Key</span>
  <span class="hljs-comment">// è¿™é‡Œå¯ä»¥æ ¹æ® row.customerStyleNumber è·å–å¯¹åº”çš„é¢œè‰²åˆ—è¡¨ï¼Œå†é€šè¿‡ row.colorNumber (Key) æŸ¥æ‰¾ Label</span>
  <span class="hljs-keyword">if</span> (row !== <span class="hljs-literal">null</span> &amp;&amp; row !== <span class="hljs-literal">undefined</span>) {
    <span class="hljs-keyword">const</span> colorStr = colorMap.<span class="hljs-property">value</span>[row.<span class="hljs-property">customerStyleNumber</span>];
    <span class="hljs-keyword">if</span> (colorStr) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(colorStr);
      <span class="hljs-comment">// æ¨¡æ‹ŸæŸ¥æ‰¾é€»è¾‘</span>
      <span class="hljs-keyword">const</span> list = colorStr.<span class="hljs-title function_">split</span>(<span class="hljs-string">','</span>);
      <span class="hljs-keyword">const</span> target = list.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">c</span>) =&gt;</span> c === row.<span class="hljs-property">colorNumber</span>);
      <span class="hljs-keyword">return</span> target;
    }
  }
};

<span class="hljs-comment">// ä¿å­˜å½“å‰ç¼–è¾‘è¡Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSaveRow</span> = (<span class="hljs-params">row: OrderRow</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!editTableRef.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateRow</span>(row)) <span class="hljs-keyword">return</span>;
  editTableRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">stopEditing</span>();
};

<span class="hljs-comment">// å–æ¶ˆå½“å‰ç¼–è¾‘è¡Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCancelRow</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!editTableRef.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;
  editTableRef.<span class="hljs-property">value</span>.<span class="hljs-title function_">cancelEditRow</span>();
  editingRowIndex.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
};

<span class="hljs-comment">// ç¼–è¾‘å¼€å§‹/ç»“æŸäº‹ä»¶æ›´æ–°ç´¢å¼•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEditorStart</span> = (<span class="hljs-params">_prop: string | <span class="hljs-literal">null</span>, row: OrderRow, index: number</span>) =&gt; {
  editingRowIndex.<span class="hljs-property">value</span> = index;
};
<span class="hljs-comment">//ç¼–è¾‘ç»“æŸ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRowEditFinish</span> = (<span class="hljs-params">_row: OrderRow, _index: number</span>) =&gt; {
  editingRowIndex.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
};

<span class="hljs-comment">// åˆ é™¤å½“å‰è¡Œ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleDeleteRow</span> = (<span class="hljs-params">index: number</span>) =&gt; {
  <span class="hljs-keyword">const</span> rows = [...tableData.<span class="hljs-property">value</span>];
  rows.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
  tableData.<span class="hljs-property">value</span> = rows;
  <span class="hljs-keyword">if</span> (editingRowIndex.<span class="hljs-property">value</span> !== <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">if</span> (editingRowIndex.<span class="hljs-property">value</span> === index) {
      editingRowIndex.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (editingRowIndex.<span class="hljs-property">value</span> &gt; index) {
      editingRowIndex.<span class="hljs-property">value</span> = editingRowIndex.<span class="hljs-property">value</span> - <span class="hljs-number">1</span>;
    }
  }
};
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">initPage</span>();
});
&lt;/script&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-toolbar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleAddRow"</span>&gt;</span>æ·»åŠ <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">EditTable</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">"editTableRef"</span>
        <span class="hljs-attr">v-if</span>=<span class="hljs-string">"columns.length"</span>
        <span class="hljs-attr">v-model:data</span>=<span class="hljs-string">"tableData"</span>
        <span class="hljs-attr">:columns</span>=<span class="hljs-string">"columns"</span>
        <span class="hljs-attr">:table-options</span>=<span class="hljs-string">"tableOptions"</span>
        <span class="hljs-attr">:editor-config</span>=<span class="hljs-string">"editorConfig"</span>
        <span class="hljs-attr">:select-loading</span>=<span class="hljs-string">"selectLoading"</span>
        <span class="hljs-attr">:get-error</span>=<span class="hljs-string">"getFieldError"</span>
        @<span class="hljs-attr">editor-start</span>=<span class="hljs-string">"handleEditorStart"</span>
        @<span class="hljs-attr">editor-change</span>=<span class="hljs-string">"handleEditorChange"</span>
        @<span class="hljs-attr">select-visible-change</span>=<span class="hljs-string">"handleSelectVisibleChange"</span>
        @<span class="hljs-attr">row-edit-finish</span>=<span class="hljs-string">"handleRowEditFinish"</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">"width: 100%; height: 100%"</span>
      &gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">h-colorNumber</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in 10"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.value"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"item.label"</span> <span class="hljs-attr">:value</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">h-customerStyleNumber</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">el-select</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-option</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in styleOptions"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.value"</span> <span class="hljs-attr">:label</span>=<span class="hljs-string">"item.label"</span> <span class="hljs-attr">:value</span> /&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">el-select</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">h-orderDate</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">el-date-picker</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-date-picker</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">h-orderNumber</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">table-action</span>=<span class="hljs-string">"{ row, index }"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"editingRowIndex === index"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"success"</span> <span class="hljs-attr">link</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleSaveRow(row)"</span>&gt;</span>ä¿å­˜<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"warning"</span> <span class="hljs-attr">link</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleCancelRow"</span>&gt;</span>å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-else</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">link</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleEditRow(row, index)"</span>&gt;</span>ç¼–è¾‘<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"danger"</span> <span class="hljs-attr">link</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleDeleteRow(index)"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> #<span class="hljs-attr">colorNumber</span>=<span class="hljs-string">"{ row }"</span>&gt;</span>
          {{ getColorLabel(row) }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">EditTable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åº•éƒ¨<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"less"</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-selector-class">.main</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box;
}

<span class="hljs-selector-class">.main-toolbar</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">8px</span>;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactå­¦ä¹ ï¼šVite+React åŸºç¡€æ¶æ„åˆ†æ]]></title>    <link>https://juejin.cn/post/7584991956125827107</link>    <guid>https://juejin.cn/post/7584991956125827107</guid>    <pubDate>2025-12-18T08:48:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584991956125827107" data-draft-id="7584722109584261163" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactå­¦ä¹ ï¼šVite+React åŸºç¡€æ¶æ„åˆ†æ"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,React.js"/> <meta itemprop="datePublished" content="2025-12-18T08:48:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—å±±å®‰"/> <meta itemprop="url" content="https://juejin.cn/user/1795929588117962"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactå­¦ä¹ ï¼šVite+React åŸºç¡€æ¶æ„åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1795929588117962/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—å±±å®‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:48:10.000Z" title="Thu Dec 18 2025 08:48:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä»Šå¤©æ¥ç»™å¤§å®¶èŠèŠç”¨ Vite æ­å»º React é¡¹ç›®è¿™ä»¶äº‹ã€‚ä¸ºä»€ä¹ˆé€‰ Vite + Reactï¼Ÿå› ä¸ºå®ƒå¿«ï¼çœŸçš„å¿«ï¼æ¯”ä¼ ç»Ÿçš„ Create React App å¯åŠ¨é€Ÿåº¦å¿«åå‡ å€ç”šè‡³ä¸Šç™¾å€ï¼Œå†·å¯åŠ¨å‡ ä¹æ˜¯ç§’å¼€ã€‚è€Œä¸”åœ¨ 2025 å¹´ï¼ŒReact å·²ç»å‡çº§åˆ° 19.x ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†æ›´å¤šå¥½ç©çš„æ–°ç‰¹æ€§ï¼Œå’±ä»¬ç”¨æœ€æ–°çš„æŠ€æœ¯æ ˆæ¥ç©ï¼Œæ‰å¤Ÿçˆ½å˜›ã€‚</p>
<p>æ–‡ç« åŸºäºä¸€ä¸ªçœŸå®çš„ç®€å• demo é¡¹ç›®ï¼ˆåŒ…å«è·¯ç”±ã€çŠ¶æ€ç®¡ç†ã€æ•°æ®è¯·æ±‚ã€å…¨å±€æ ·å¼ç­‰ï¼‰ï¼Œå’±ä»¬è¾¹æ‹†è§£ä»£ç è¾¹èŠåŸç†ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆç°åœ¨å­¦ React è¿˜è¦é€‰ Viteï¼Ÿ</h2>
<p>ä»¥å‰å¤§å®¶å­¦ React åŸºæœ¬éƒ½ç”¨ Create React Appï¼ˆç®€ç§° CRAï¼‰ï¼Œå®ƒç®€å•ï¼Œä¸€é”®æå®šã€‚ä½†ç°åœ¨å®˜æ–¹éƒ½ä¸æ¨èæ–°é¡¹ç›®ç”¨ CRA äº†ï¼Œå› ä¸ºå®ƒåº•å±‚æ˜¯ Webpackï¼Œé…ç½®å¤æ‚ï¼Œå¼€å‘æ—¶çƒ­æ›´æ–°æ…¢ï¼Œå¯åŠ¨ä¹Ÿæ…¢ã€‚</p>
<p>Vite æ˜¯æ–°ä¸€ä»£æ„å»ºå·¥å…·ï¼Œç”± Vue ä½œè€…å°¤é›¨æºªå›¢é˜Ÿæ‰“é€ ï¼Œä½†å®ƒä¸æŒ‘æ¡†æ¶ï¼ŒReact ç”¨èµ·æ¥ä¹Ÿè¶…çº§ä¸æ»‘ã€‚å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>æè‡´å¿«çš„å¼€å‘æœåŠ¡å™¨</strong>ï¼šåŸºäºåŸç”Ÿ ES Modulesï¼ˆESMï¼‰ï¼Œæµè§ˆå™¨ç›´æ¥åŠ è½½æ¨¡å—ï¼Œä¸éœ€è¦æ‰“åŒ…ï¼Œå†·å¯åŠ¨åŸºæœ¬ç¬é—´å®Œæˆã€‚</li>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šæ”¯æŒ TypeScriptã€JSXã€Stylus/Less/Sass ç­‰ï¼Œå‡ ä¹é›¶é…ç½®ã€‚</li>
<li><strong>ç”Ÿäº§æ„å»ºä¹Ÿå¾ˆå¼º</strong>ï¼šç”¨ Rollup æ‰“åŒ…ï¼Œä½“ç§¯å°ã€é€Ÿåº¦å¿«ã€‚</li>
<li><strong>å®Œç¾æ”¯æŒç°ä»£ React</strong>ï¼šåŒ…æ‹¬ React 19 çš„æ–°ç‰¹æ€§ï¼ˆå¦‚ Actionsã€Server Components ç­‰ï¼Œè™½ç„¶å’±ä»¬è¿™ä¸ª demo æ˜¯çº¯å®¢æˆ·ç«¯ï¼‰ã€‚</li>
</ul>
<p>ç®€å•è¯´ï¼šç”¨ Vite å¼€å‘ Reactï¼Œå¹¸ç¦æ„Ÿç¿»å€ï¼</p>
<p>åˆ›å»ºé¡¹ç›®è¶…ç®€å•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">npm init vite
å‘½åé¡¹ç›®
é€‰æ‹©ç›¸åº”è¯­è¨€
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea68641270664e929a49222f9f10637e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=1rX3I%2FTZ92hdVDGfFiRXLjO2yd0%3D" alt="image.png" loading="lazy"/>
ç­‰å¾…é¡¹ç›®å®‰è£…å®Œæˆï¼Œæ‰“å¼€é¡¹ç›®çš„æœ¬åœ°é“¾æ¥å³å¯æ‰“å¼€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c8edbc3d62149a48a90e1ea7112de94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=9Axyjr7qM2yCt5sGz%2FAuWLI4Dkc%3D" alt="image.png" loading="lazy"/></p>
<p>å†æ¬¡æ‰“å¼€å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤</p>
<pre><code class="hljs language-Bash" lang="Bash">npm run dev
</code></pre>
<h2 data-id="heading-2">äºŒã€React é¡¹ç›®çš„åŸºæœ¬ç»“æ„é•¿å•¥æ ·ï¼Ÿ</h2>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Vite + React é¡¹ç›®ç›®å½•å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-text" lang="text">my-react-app/
â”œâ”€â”€ public/             # é™æ€èµ„æºï¼Œç›´æ¥æ‹·è´åˆ°æ„å»ºç›®å½•
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/         # å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æº
â”‚   â”œâ”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ pages/          # é¡µé¢çº§ç»„ä»¶ï¼ˆHomeã€About ç­‰ï¼‰  æ‰‹åŠ¨æ·»åŠ 
â”‚   â”œâ”€â”€ router/         # è·¯ç”±é…ç½®  æ‰‹åŠ¨æ·»åŠ 
â”‚   â”œâ”€â”€ App.jsx         # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx        # å…¥å£æ–‡ä»¶ï¼ŒæŒ‚è½½æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ index.css æˆ– styl # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ vite-env.d.ts   # TypeScript ç±»å‹å£°æ˜
â”œâ”€â”€ index.html          # HTML å…¥å£
â”œâ”€â”€ package.json        # ä¾èµ–å’Œè„šæœ¬
â””â”€â”€ vite.config.js      # Vite é…ç½®ï¼ˆå¯é€‰æ‰©å±•ï¼‰
</code></pre>
<p>å’±ä»¬è¿™ä¸ª demo å°±æ˜¯è¿™æ ·çš„ç»“æ„ï¼šæœ‰ Home é¡µã€About é¡µï¼Œç”¨ react-router-dom ç®¡ç†è·¯ç”±ï¼Œå…¨å±€ç”¨ Stylus å†™æ ·å¼ï¼Œè¿˜æœ‰ useState å’Œ useEffect çš„å®é™…åº”ç”¨ã€‚</p>
<h2 data-id="heading-3">ä¸‰ã€React vs Vueï¼šä¸¤ä¸ªçƒ­é—¨æ¡†æ¶åˆ°åº•å·®åœ¨å“ªå„¿ï¼Ÿ</h2>
<p>å¾ˆå¤šäººå­¦å‰ç«¯æ—¶ä¼šçº ç»“ React è¿˜æ˜¯ Vueï¼Œæˆ‘ç®€å•å¯¹æ¯”ä¸€ä¸‹ï¼Œå¸®åŠ©ä½ é€‰å¯¹æ–¹å‘ï¼ˆ2025 å¹´è§†è§’ï¼‰ã€‚</p>


















































<table><thead><tr><th>æ–¹é¢</th><th>React</th><th>Vue</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒå®šä½</strong></td><td>åº“ï¼ˆåªç®¡ UIï¼‰ï¼Œçµæ´»æ€§æé«˜</td><td>æ¡†æ¶ï¼ˆå¼€ç®±å³ç”¨ï¼Œå¾ˆå¤šä¸œè¥¿å†…ç½®ï¼‰</td></tr><tr><td><strong>è¯­æ³•é£æ ¼</strong></td><td>JSXï¼ˆJS é‡Œå†™ HTMLï¼‰ï¼Œä¸€åˆ‡çš† JS</td><td>æ¨¡æ¿è¯­æ³•ï¼ˆHTML é‡Œå†™é€»è¾‘ï¼‰ï¼Œæ›´æ¥è¿‘ä¼ ç»Ÿ HTML</td></tr><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td>ç¨é™¡ï¼Œéœ€è¦æ‡‚ Hooksã€JSXã€ç”Ÿæ€å·¥å…·</td><td>æ›´å¹³ç¼“ï¼Œä¸Šæ‰‹å¿«ï¼Œé€‚åˆæ–°æ‰‹</td></tr><tr><td><strong>çŠ¶æ€ç®¡ç†</strong></td><td>é  Hooksï¼ˆå¦‚ useStateã€useReducerï¼‰ï¼Œå¤§é¡¹ç›®ç”¨ Redux/Zustand</td><td>å†…ç½®å“åº”å¼ + Piniaï¼Œç®€å•é¡¹ç›®å‡ ä¹ä¸éœ€è¦é¢å¤–åº“</td></tr><tr><td><strong>è·¯ç”±</strong></td><td>react-router-domï¼ˆå’±ä»¬ demo ç”¨çš„ï¼‰</td><td>vue-routerï¼ˆå®˜æ–¹å†…ç½®ï¼‰</td></tr><tr><td><strong>ç”Ÿæ€å’Œå°±ä¸š</strong></td><td>è¶…çº§åºå¤§ï¼Œå›½å†…å¤§å‚åŸºæœ¬éƒ½ç”¨ Reactï¼Œå²—ä½å¤š</td><td>ä¹Ÿå¾ˆå¼ºï¼Œä½† React å¸‚åœºä»½é¢æ›´å¤§</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>Virtual DOM + Fiberï¼Œä¼˜ç§€</td><td>Virtual DOM + æ›´ç»†ç²’åº¦æ›´æ–°ï¼Œç•¥èƒœä¸€ç­¹</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¤§å‹å¤æ‚åº”ç”¨ï¼ˆå¦‚ Facebookã€Netflixï¼‰</td><td>ä¸­å°å‹é¡¹ç›®ã€å¿«é€Ÿè¿­ä»£ï¼ˆå¦‚å›½å†…å¾ˆå¤šåå°ç³»ç»Ÿï¼‰</td></tr></tbody></table>
<p>ç®€å•è¯´ï¼šå¦‚æœä½ æƒ³æ·±å…¥ JSï¼Œè¿½æ±‚çµæ´»ï¼Œå‡†å¤‡å»å¤§å‚ï¼Œå­¦ React å‡†æ²¡é”™ã€‚Vue æ›´å‹å¥½ï¼Œå¼€å‘é€Ÿåº¦å¿«ï¼Œä½† React çš„ç”Ÿæ€å’Œæœªæ¥æ½œåŠ›æ›´å¤§ï¼ˆå°¤å…¶ React 19 å¼ºåŒ–äº†æœåŠ¡å™¨ç»„ä»¶ï¼Œå¾€å…¨æ ˆæ–¹å‘èµ°ï¼‰ã€‚</p>
<p>ã€‚Vue æ˜¯å®Œæ•´çš„æ¡†æ¶ï¼ŒReact æ˜¯ UI åº“ + react-dom è´Ÿè´£æ¸²æŸ“ã€‚React æ›´åƒä¹é«˜ç§¯æœ¨ï¼Œä½ æƒ³æ€ä¹ˆæ­å°±æ€ä¹ˆæ­ã€‚</p>
<h2 data-id="heading-4">å››ã€æ·±å…¥ React æ ¸å¿ƒæ¿å—ï¼šåŸç† + ä»£ç æ‹†è§£</h2>
<p>React çš„é­…åŠ›åœ¨äºå®ƒçš„è®¾è®¡å“²å­¦ï¼š<strong>ç»„ä»¶åŒ–ã€å£°æ˜å¼ã€å•å‘æ•°æ®æµ</strong>ã€‚å’±ä»¬é€šè¿‡ demo ä»£ç ï¼Œä¸€å—ä¸€å—æ‹†ã€‚</p>
<h3 data-id="heading-5">1. å…¥å£æ–‡ä»¶ï¼šmain.jsx å’Œ index.html</h3>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-comment">&lt;!-- index.html --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"root"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/src/main.jsx"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// main.jsx</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./index.styl'</span>; <span class="hljs-comment">// å…¨å±€æ ·å¼</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.jsx'</span>;

<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)).<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>);
</code></pre>
<p>åŸç†ï¼šReact 19 ç”¨ createRoot æŒ‚è½½æ ¹ç»„ä»¶åˆ° DOM çš„ #root ä¸Šã€‚ä»¥å‰æœ‰ StrictMode ä¼šæ¸²æŸ“ä¸¤æ¬¡å¸®ä½ æŸ¥ bugï¼Œç°åœ¨å¯ä»¥æ³¨é‡Šæ‰ã€‚Vite ä¼šè‡ªåŠ¨ç¼–è¯‘ Stylus ä¸º CSSï¼Œè¶…çº§æ–¹ä¾¿ã€‚</p>
<h3 data-id="heading-6">2.StrictMode</h3>
<p>æ‰“å¼€åˆå§‹åŒ–çš„ç•Œé¢ï¼Œç‚¹å‡»ä¸­é—´çš„æŒ‰é’®å¯ä»¥è‡ªå¢count</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e955b24596e6444fb6b3c0470344ffb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=Jifd7s9Sq3d7FMmPE7BAcXlqa0s%3D" alt="image.png" loading="lazy"/>
æˆ‘ä»¬åœ¨ä»£ç æ–‡ä»¶ä¸­é€‰æ‹©éšç€æŒ‰é’®ç‚¹å‡»ï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºcount ( App.jsx)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01a9213370524dca84ff6bdd4271d573~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=ilioftX1EldlJA11f3w4vZrebXw%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€æ§åˆ¶å°ï¼Œç¥å¥‡çš„ä¸€å¹•å‡ºç°äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘åªç‚¹å‡»äº†ä¸€æ¬¡æŒ‰é’®ï¼Œæ§åˆ¶å°ç¡®è¾“å‡ºäº†ä¸¤æ¬¡ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d195d3f1af1c4f09a19e80412439225b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=h2bguIYjzbfSQSq6LK2PT7xNeX0%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶å®æ˜¯Reactåœ¨åˆå§‹åŒ–çš„æ—¶å€™é»˜è®¤æœ‰ä¸€ä¸ªStrictModeç»„ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07e42f4352da411ea5ad7612eb0fe48e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=geOc6rQvNyoZNBfhjm8FpBqBqmM%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7">1).ä»€ä¹ˆæ˜¯StrictMode</h4>
<p><strong>StrictMode</strong> æ˜¯ React æä¾›çš„ä¸€ä¸ª<strong>å¼€å‘æ¨¡å¼ä¸“å±å·¥å…·ç»„ä»¶</strong>ï¼Œå®ƒä¸ä¼šæ¸²æŸ“ä»»ä½•å¯è§çš„ UIï¼ˆå°±åƒ
&lt; Fragment &gt; ä¸€æ ·é€æ˜ï¼‰ï¼Œä½†ä¼šåœ¨å¼€å‘ç¯å¢ƒä¸‹å¯¹ç»„ä»¶æ ‘è¿›è¡Œä¸€ç³»åˆ—<strong>é¢å¤–æ£€æŸ¥å’Œè­¦å‘Š</strong>ï¼Œå¸®åŠ©ä½ å°½æ—©å‘ç°æ½œåœ¨é—®é¢˜ã€‚</p>
<p>ç®€å•è¯´ï¼šå®ƒå°±åƒä¸€ä¸ªä¸¥æ ¼çš„ä»£ç å®¡æŸ¥è€å¸ˆï¼Œä¸“é—¨æŒ‘ä½ ä»£ç é‡Œçš„æ¯›ç—…ï¼Œä½†åªåœ¨å¼€å‘æ—¶ä¸Šè¯¾ï¼Œä¸Šçº¿ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰æ—¶å®ƒå°±ä¸‹ç­äº†ï¼Œå®Œå…¨ä¸å½±å“æ€§èƒ½ã€‚</p>
<p>å®˜æ–¹æ¨èï¼š<strong>æ–°é¡¹ç›®ç›´æ¥åœ¨æ ¹ç»„ä»¶åŒ…è£¹ StrictMode</strong>ï¼Œæ¯”å¦‚ Vite + React é¡¹ç›®é»˜è®¤å°±å¼€äº†ã€‚</p>
<p>ä½¿ç”¨æ–¹å¼è¶…ç®€å•ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.jsx æˆ– index.js</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StrictMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;

<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)).<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
);
</code></pre>
<h4 data-id="heading-8">2). StrictMode èƒ½å¸®ä½ æ£€æŸ¥å•¥é—®é¢˜ï¼Ÿ</h4>
<p>å®ƒä¸»è¦åšè¿™äº›äº‹ï¼ˆåˆ° 2025 å¹´ React 19 æ—¶ä»£ï¼Œæ ¸å¿ƒè¡Œä¸ºåŸºæœ¬ä¸å˜ï¼‰ï¼š</p>
<ul>
<li><strong>æ£€æµ‹ä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</strong>ï¼ˆé’ˆå¯¹è€çš„ Class ç»„ä»¶ï¼‰ï¼šæ¯”å¦‚ä¸€äº›å·²ç»è¢«æ ‡è®°ä¸ºä¸å®‰å…¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¼šç»™ä½ è­¦å‘Šï¼Œæé†’ä½ å‡çº§ã€‚</li>
<li><strong>è­¦å‘Šä½¿ç”¨å·²åºŸå¼ƒçš„ API</strong>ï¼šæ¯”å¦‚æ—§çš„ context APIã€findDOMNodeã€å­—ç¬¦ä¸² ref ç­‰ã€‚</li>
<li><strong>æ£€æŸ¥ç»„ä»¶çš„çº¯åº¦ï¼ˆPurityï¼‰</strong> ï¼šæ•…æ„è®©æŸäº›å‡½æ•°<strong>è¿è¡Œä¸¤æ¬¡</strong>ï¼Œå¸®ä½ å‘ç°â€œå‰¯ä½œç”¨â€éšè—çš„ bugã€‚</li>
<li><strong>æ¨¡æ‹Ÿæœªæ¥ Concurrent Mode çš„è¡Œä¸º</strong>ï¼šReact æœªæ¥çš„å¹¶å‘æ¸²æŸ“å¯èƒ½ä¼šæš‚åœã€æ¢å¤ç»„ä»¶çš„æŒ‚è½½/å¸è½½ï¼ŒStrictMode æå‰è®©ä½ é€‚åº”è¿™ç§åœºæ™¯ã€‚</li>
</ul>
<p>æœ€è®©äººâ€œæŠ“ç‹‚â€çš„å°±æ˜¯<strong>åŒæ¸²æŸ“å’ŒåŒè¿è¡Œ effect</strong> è¿™éƒ¨åˆ†ï¼Œå’±ä»¬é‡ç‚¹è¯´è¯´ã€‚</p>
<h4 data-id="heading-9">3). ä¸ºä»€ä¹ˆç»„ä»¶ä¼šæ¸²æŸ“ä¸¤æ¬¡ï¼ŸuseEffect ä¼šè¿è¡Œä¸¤æ¬¡ï¼Ÿ</h4>
<h5 data-id="heading-10">&lt;3.1&gt;å…ˆç®€å•è¯´è¯´ useEffect æ˜¯ä»€ä¹ˆ</h5>
<p><strong>useEffect</strong> æ˜¯ React ä¸­æœ€å¸¸ç”¨çš„ Hook ä¹‹ä¸€ï¼Œä¸“é—¨ç”¨æ¥å¤„ç†â€œå‰¯ä½œç”¨â€ï¼ˆside effectsï¼‰ã€‚ å‰¯ä½œç”¨æŒ‡çš„æ˜¯é‚£äº›ä¸ç›´æ¥å±äºâ€œæ¸²æŸ“ UIâ€çš„æ“ä½œï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>å‘é€ç½‘ç»œè¯·æ±‚ï¼ˆfetch æ•°æ®ï¼‰</li>
<li>æ“ä½œ DOMï¼ˆæ¯”å¦‚è®¾ç½®ç„¦ç‚¹ï¼‰</li>
<li>è®¾ç½®å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ã€è®¢é˜…ç­‰</li>
</ul>
<p>useEffect çš„åŸºæœ¬ç”¨æ³•æ˜¯ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// è¿™é‡Œæ”¾å‰¯ä½œç”¨ä»£ç </span>
}, [ä¾èµ–æ•°ç»„]); <span class="hljs-comment">// æ§åˆ¶ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ</span>
</code></pre>
<ul>
<li>å¦‚æœä¾èµ–æ•°ç»„æ˜¯ []ï¼ˆç©ºæ•°ç»„ï¼‰ï¼Œå°±åªåœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡æŒ‚è½½åæ‰§è¡Œä¸€æ¬¡ã€‚</li>
<li>å¦‚æœä¸å†™ä¾èµ–æ•°ç»„ï¼Œæ¯æ¬¡æ¸²æŸ“åéƒ½ä¼šæ‰§è¡Œã€‚</li>
<li>å¦‚æœå†™ä¸Šå˜é‡ï¼Œåªæœ‰è¿™äº›å˜é‡å˜åŒ–æ—¶æ‰ä¼šæ‰§è¡Œã€‚</li>
</ul>
<p>å®ƒè¿˜æœ‰ä¸€ä¸ªâ€œæ¸…ç†å‡½æ•°â€æœºåˆ¶ï¼ˆè¿”å›ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œç”¨æ¥åœ¨ç»„ä»¶å¸è½½æˆ–ä¸‹æ¬¡æ‰§è¡Œå‰â€œæ”¶å°¾â€ï¼ˆæ¯”å¦‚æ¸…é™¤å®šæ—¶å™¨ã€å–æ¶ˆè¯·æ±‚ï¼‰ã€‚</p>
<p>ç®€å•è®°ä½ï¼š<strong>useEffect å°±æ˜¯ React ç»™ä½ çš„â€œç”Ÿå‘½å‘¨æœŸé’©å­â€ï¼Œè®©ä½ åœ¨æ¸²æŸ“å®Œæˆåå®‰å…¨åœ°å¹²é‚£äº›é¢å¤–çš„äº‹</strong>ã€‚</p>
<h5 data-id="heading-11">&lt;3.2&gt;å†å›åˆ°StrictMode</h5>
<p>åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼ŒStrictMode ä¼šæ•…æ„åšè¿™äº›â€œé¢å¤–æ“ä½œâ€ï¼š</p>
<ul>
<li>
<p><strong>åŒæ¸²æŸ“ï¼ˆDouble Renderingï¼‰</strong> ï¼šç»„ä»¶çš„ render å‡½æ•°ï¼ˆå‡½æ•°ç»„ä»¶å°±æ˜¯å‡½æ•°ä½“æœ¬èº«ï¼‰ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ã€‚</p>
</li>
<li>
<p><strong>åŒæŒ‚è½½ effect</strong>ï¼šå¯¹äºæ–°æŒ‚è½½çš„ç»„ä»¶ï¼ŒuseEffectï¼ˆä¾èµ–ä¸ºç©ºçš„ï¼‰ä¼šè¿™æ ·æ‰§è¡Œï¼š</p>
<ol>
<li>å…ˆè¿è¡Œä¸€æ¬¡ï¼ˆmountï¼‰</li>
<li>ç«‹å³æ¸…ç†ï¼ˆunmountï¼Œè¿è¡Œ cleanup å‡½æ•°ï¼‰</li>
<li>å†è¿è¡Œä¸€æ¬¡ï¼ˆremountï¼‰</li>
</ol>
</li>
</ul>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Ÿ</p>
<p>å› ä¸º React æƒ³è®©ä½ å†™å‡º<strong>çº¯å‡€ã€å¯æ¢å¤çŠ¶æ€çš„ç»„ä»¶</strong>ã€‚æœªæ¥çš„å¹¶å‘æ¸²æŸ“ï¼ˆConcurrent Renderingï¼‰å¯èƒ½ä¼šå› ä¸ºä¼˜å…ˆçº§ä¸­æ–­ï¼Œå¯¼è‡´ç»„ä»¶â€œæŒ‚è½½ä¸€åŠåˆå¸è½½ï¼Œå†é‡æ–°æŒ‚è½½â€ã€‚å¦‚æœä½ çš„ effect é‡Œæœ‰å‰¯ä½œç”¨ï¼ˆæ¯”å¦‚ç›´æ¥ä¿®æ”¹å¤–éƒ¨å˜é‡ã€å¤šæ¬¡å‘èµ·è¯·æ±‚ï¼‰ï¼Œå°±ä¼šå‡ºé—®é¢˜ã€‚</p>
<p>ä¸¾ä¸ªç»å…¸ä¾‹å­ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">BadComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åå‘³é“ï¼šç›´æ¥å‘è¯·æ±‚ï¼Œæ²¡è€ƒè™‘é‡å¤æ‰§è¡Œ</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/data'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>()).<span class="hljs-title function_">then</span>(setData);
  }, []);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>åœ¨ StrictMode ä¸‹ï¼Œè¿™ä¸ªè¯·æ±‚ä¼šå‘<strong>ä¸¤æ¬¡</strong>ï¼è¿™æ ·ä½ å°±ç«‹åˆ»å‘ç°é—®é¢˜äº†ï¼šåº”è¯¥ç”¨ abort controller å–æ¶ˆï¼Œæˆ–è€…ç¡®ä¿ effect æ˜¯å¹‚ç­‰çš„ï¼ˆé‡å¤æ‰§è¡Œä¹Ÿæ²¡äº‹ï¼‰ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼šæ·»åŠ  cleanupï¼Œæˆ–è€…ç”¨ ref æ ‡å¿—ä½é¿å…é‡å¤é€»è¾‘ï¼ˆä½†æœ€å¥½æ˜¯è®© effect æœ¬èº«å®‰å…¨ï¼‰ã€‚</p>
<p>å¦ä¸€ä¸ªä¾‹å­ï¼šå¦‚æœä½ åœ¨ç»„ä»¶é‡Œç›´æ¥ console.log("render")ï¼ŒStrictMode ä¸‹ä¼šæ‰“å°ä¸¤æ¬¡ï¼Œå¸®åŠ©ä½ æ„è¯†åˆ°â€œæ¸²æŸ“åº”è¯¥æ˜¯çº¯å‡½æ•°ï¼Œä¸è¯¥æœ‰å‰¯ä½œç”¨â€ã€‚</p>
<p><strong>é‡è¦æé†’</strong>ï¼š</p>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸ä¼šåŒæ¸²æŸ“ã€åŒ effectï¼Œæ€§èƒ½ä¸å—å½±å“ã€‚</li>
<li>React åªå–ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„ç»“æœï¼Œç¬¬äºŒæ¬¡åªæ˜¯ä¸ºäº†æ£€æŸ¥ï¼Œä¸¢å¼ƒæ‰ã€‚</li>
</ul>
<h4 data-id="heading-12">4). çœ‹åˆ°åŒæ¸²æŸ“æ€ä¹ˆåŠï¼Ÿè¦å…³æ‰ StrictMode å—ï¼Ÿ</h4>
<p><strong>å¼ºçƒˆä¸æ¨èç›´æ¥å…³æ‰ï¼</strong> å…³æ‰ç­‰äºæ”¾å¼ƒäº† React ç»™ä½ çš„å…è´¹ bug æ£€æµ‹å·¥å…·ã€‚</p>
<p>æ­£ç¡®å¿ƒæ€ï¼š</p>
<ul>
<li>
<p>æŠŠåŒæ¸²æŸ“å½“æˆâ€œå¼€å‘æ—¶çš„æé†’â€ï¼Œè€Œä¸æ˜¯ bugã€‚</p>
</li>
<li>
<p>å¦‚æœæ§åˆ¶å°æ—¥å¿—å¤ªå¤šçƒ¦äººï¼Œå¯ä»¥è£… <strong>React Developer Tools</strong> æµè§ˆå™¨æ‰©å±•ï¼Œé‡Œé¢æœ‰ä¸ªé€‰é¡¹ï¼šâ€œHide logs during second render in Strict Modeâ€ï¼Œæ‰“å¼€åç¬¬äºŒæ¬¡çš„ log ä¼šå˜ç°æˆ–éšè—ã€‚</p>
</li>
<li>
<p>ç¡®ä¿ä½ çš„ä»£ç èƒ½ç»å¾—èµ·åŒæŒ‚è½½è€ƒéªŒï¼š</p>
<ul>
<li>useEffect é‡Œè¿”å› cleanup å‡½æ•°ï¼ˆå–æ¶ˆå®šæ—¶å™¨ã€è®¢é˜…ã€è¯·æ±‚ç­‰ï¼‰ã€‚</li>
<li>é¿å…åœ¨æ¸²æŸ“é˜¶æ®µåšå‰¯ä½œç”¨ï¼ˆæ¯”å¦‚ç›´æ¥æ”¹ state æˆ–å‘è¯·æ±‚ï¼‰ã€‚</li>
<li>æ•°æ®è¯·æ±‚æ”¾ effect é‡Œï¼Œå¹¶å¤„ç†å–æ¶ˆã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-13">5).StrictMode æ˜¯ä½ çš„å¥½æœ‹å‹</h4>
<ul>
<li><strong>å¼€å¯å®ƒ</strong>ï¼šå¸®ä½ å†™å‡ºæ›´å¥å£®ã€æ›´ç¬¦åˆæœªæ¥ React æ–¹å‘çš„ä»£ç ã€‚</li>
<li><strong>åˆ«æ€•åŒæ¸²æŸ“</strong>ï¼šè¿™æ˜¯æ•…æ„è®¾è®¡çš„â€œå‹åŠ›æµ‹è¯•â€ï¼Œç”Ÿäº§ç¯å¢ƒä¸€åˆ‡æ­£å¸¸ã€‚</li>
<li><strong>å¤šåˆ©ç”¨å®ƒ</strong>ï¼šçœ‹åˆ°è­¦å‘Šå°±å»æ”¹ï¼Œæ—©æ”¹æ—©å®‰å¿ƒã€‚</li>
</ul>
<p>ä¸‹æ¬¡çœ‹åˆ°ç»„ä»¶æ¸²æŸ“ä¸¤æ¬¡ï¼Œåˆ«æ€¥ç€åˆ  ï¼Œå…ˆæ£€æŸ¥è‡ªå·±çš„ä»£ç æœ‰æ²¡æœ‰éšè—çš„å‰¯ä½œç”¨ï½ è¿™æ‰æ˜¯ React æƒ³æ•™ç»™ä½ çš„â€œå¥½ä¹ æƒ¯â€ã€‚</p>
<h3 data-id="heading-14">2. æ ¹ç»„ä»¶ App.jsxï¼šè·¯ç”±æ¥ç®¡ä¸€åˆ‡</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">BrowserRouter</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Router</span>, <span class="hljs-title class_">Link</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">AppRoutes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./router"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Router</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AppRoutes</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span></span>
  );
}
</code></pre>
<p>è¿™é‡Œç”¨äº† react-router-dom@7ï¼ˆæœ€æ–°ç‰ˆæ›´ç®€æ´ï¼ŒåŒ…æ›´ç»Ÿä¸€ï¼‰ã€‚BrowserRouter ç”¨ HTML5 history æ¨¡å¼ï¼ˆå¹²å‡€çš„ URLï¼Œä¸å¸¦ #ï¼‰ã€‚Link ä»£æ›¿ a æ ‡ç­¾ï¼Œé˜²æ­¢é¡µé¢åˆ·æ–°ã€‚</p>
<p>åŸç†ï¼šReact Router ç”¨ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰ç®¡ç†è·¯ç”±çŠ¶æ€ï¼Œåˆ‡æ¢é¡µé¢æ—¶åªé‡æ–°æ¸²æŸ“åŒ¹é…çš„ç»„ä»¶ï¼Œä¸åˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚è¿™å°±æ˜¯å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„æ ¸å¿ƒã€‚</p>
<h4 data-id="heading-15">BrowserRouter å’Œ HashRouter çš„åŒºåˆ«</h4>
<p>åœ¨ React é¡¹ç›®ä¸­ä½¿ç”¨ react-router-dom æ—¶ï¼Œæœ€å¸¸è§çš„ä¸¤ç§è·¯ç”±å™¨å°±æ˜¯ <strong>BrowserRouter</strong>ï¼ˆé€šå¸¸å†™æˆ import { BrowserRouter as Router }ï¼‰å’Œ <strong>HashRouter</strong>ï¼ˆç±»ä¼¼å†™æˆ import { HashRouter as Router }ï¼‰ã€‚</p>
<p>å®ƒä»¬çš„ä½œç”¨éƒ½æ˜¯å®ç°å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„å®¢æˆ·ç«¯è·¯ç”±ï¼šç‚¹å‡»é“¾æ¥åˆ‡æ¢é¡µé¢æ—¶ä¸åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œåªæ›´æ–°éƒ¨åˆ†å†…å®¹ã€‚ä½†å®ƒä»¬çš„å®ç°æ–¹å¼å’Œé€‚ç”¨åœºæ™¯å®Œå…¨ä¸åŒã€‚ä¸‹é¢å’±ä»¬ç”¨å¤§ç™½è¯ä¸€ä¸ªä¸ªæ°æ‰¯æ¸…æ¥šã€‚</p>
<h5 data-id="heading-16">1. URL é•¿ä»€ä¹ˆæ ·ï¼Ÿï¼ˆæœ€ç›´è§‚çš„åŒºåˆ«ï¼‰</h5>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34c066f32f164c9f8ae74f436876adc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=k4ki55pCQ75ySiNYlXxachzeN4M%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1588f968ed1a4a73982af3bc6d0c32a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=TKe1oNJsiiIl2t4ZQgOAB0guHcI%3D" alt="Mastering React routing: A guide to routing in React | Contentful" loading="lazy"/></p>
<ul>
<li>
<p><strong>BrowserRouter</strong>ï¼šå¹²å‡€ã€ç°ä»£çš„ URL ç¤ºä¾‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fexample.com%2F%25E3%2580%2581https%3A%2F%2Fexample.com%2Fabout%25E3%2580%2581https%3A%2F%2Fexample.com%2Fusers%2F123" target="_blank" title="https://example.com/%E3%80%81https://example.com/about%E3%80%81https://example.com/users/123" ref="nofollow noopener noreferrer">example.com/ã€https://exâ€¦</a></p>
</li>
<li>
<p><strong>HashRouter</strong>ï¼šURL ä¸­å¸¦ä¸€ä¸ª #ï¼ˆhashï¼‰ç¬¦å· ç¤ºä¾‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fexample.com%2F%23%2F%25E3%2580%2581https%3A%2F%2Fexample.com%2F%23%2Fabout%25E3%2580%2581https%3A%2F%2Fexample.com%2F%23%2Fusers%2F123" target="_blank" title="https://example.com/#/%E3%80%81https://example.com/#/about%E3%80%81https://example.com/#/users/123" ref="nofollow noopener noreferrer">example.com/#/ã€https://â€¦</a></p>
</li>
</ul>
<p>' #' åé¢çš„éƒ¨åˆ†å«â€œhash fragmentâ€ï¼Œæµè§ˆå™¨ä¸ä¼šæŠŠè¿™éƒ¨åˆ†å‘ç»™æœåŠ¡å™¨ï¼Œå…¨ç”±å‰ç«¯è‡ªå·±å¤„ç†ã€‚</p>
<h5 data-id="heading-17">2. åº•å±‚åŸç†æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h5>
<ul>
<li>
<p><strong>BrowserRouter</strong>ï¼š</p>
<ul>
<li>ç”¨ HTML5 çš„ <strong>History API</strong>ï¼ˆpushStateã€replaceState ç­‰ï¼‰æ¥æ“æ§æµè§ˆå™¨å†å²è®°å½•ã€‚</li>
<li>å½“ä½ åˆ‡æ¢è·¯ç”±æ—¶ï¼Œå®ƒä¼šä¿®æ”¹ URLï¼Œä½†ä¸ä¼šå‘æœåŠ¡å™¨å‘èµ·æ–°è¯·æ±‚ï¼ˆé¡µé¢ä¸åˆ·æ–°ï¼‰ã€‚</li>
<li><strong>æœåŠ¡å™¨ä¼šæ”¶åˆ°å®Œæ•´çš„ URL è¯·æ±‚</strong>ã€‚æ¯”å¦‚ç›´æ¥è®¿é—® /aboutï¼ŒæœåŠ¡å™¨å¿…é¡»è¿”å›ä½ çš„ index.htmlï¼ˆå¦åˆ™ 404ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>HashRouter</strong>ï¼š</p>
<ul>
<li>ç”¨ URL çš„ <strong>hash éƒ¨åˆ†</strong>ï¼ˆ# åé¢ï¼‰æ¥å­˜å‚¨è·¯ç”±ä¿¡æ¯ã€‚</li>
<li>æµè§ˆå™¨é»˜è®¤è¡Œä¸ºï¼šæ”¹å˜ hash ä¸ä¼šå‘æœåŠ¡å™¨å‘è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šåˆ·æ–°é¡µé¢ã€‚</li>
<li><strong>æœåŠ¡å™¨æ°¸è¿œåªçœ‹åˆ° # å‰é¢çš„éƒ¨åˆ†</strong>ï¼ˆé€šå¸¸å°±æ˜¯ /ï¼‰ï¼Œæ‰€ä»¥ä¸ç®¡ä½ æ€ä¹ˆåˆ‡æ¢è·¯ç”±ï¼ŒæœåŠ¡å™¨åªè¿”å›æ ¹è·¯å¾„çš„ index.htmlã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-18">3. ä¼˜ç¼ºç‚¹å¯¹æ¯”</h5>








































<table><thead><tr><th>æ–¹é¢</th><th>BrowserRouterï¼ˆæ¨èï¼‰</th><th>HashRouter</th></tr></thead><tbody><tr><td><strong>URL ç¾è§‚åº¦</strong></td><td>å¹²å‡€ã€ä¸“ä¸šï¼ˆå¦‚çœŸå®å¤šé¡µç½‘ç«™ï¼‰</td><td>å¸¦ #ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹è€æ´¾</td></tr><tr><td><strong>SEO å‹å¥½</strong></td><td>å¥½ï¼ˆæœç´¢å¼•æ“èƒ½æ­£å¸¸æŠ“å–è·¯å¾„ï¼‰</td><td>å·®ï¼ˆ# åé¢çš„å†…å®¹æœç´¢å¼•æ“åŸºæœ¬å¿½ç•¥ï¼‰</td></tr><tr><td><strong>æœåŠ¡å™¨é…ç½®</strong></td><td>éœ€è¦é…ç½®ï¼šæ‰€æœ‰è·¯å¾„éƒ½è¦ fallback åˆ° index.html</td><td>æ— éœ€ä»»ä½•é…ç½®ï¼Œå¼€ç®±å³ç”¨</td></tr><tr><td><strong>åˆ·æ–°/ç›´æ¥è®¿é—®</strong></td><td>æ­£å¸¸ï¼ˆæœåŠ¡å™¨æ­£ç¡®è¿”å› index.html åï¼ŒReact æ¥ç®¡ï¼‰</td><td>ä¸€å®šæ­£å¸¸ï¼ˆæœåŠ¡å™¨åªçœ‹åˆ°æ ¹è·¯å¾„ï¼‰</td></tr><tr><td><strong>å…¼å®¹æ€§</strong></td><td>ç°ä»£æµè§ˆå™¨ï¼ˆIE10+ï¼‰</td><td>å‡ ä¹æ‰€æœ‰æµè§ˆå™¨ï¼ˆåŒ…æ‹¬å¾ˆè€çš„ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>æ­£å¼ä¸Šçº¿é¡¹ç›®ã€ç”Ÿäº§ç¯å¢ƒ</td><td>é™æ€æ‰˜ç®¡ï¼ˆå¦‚ GitHub Pagesã€Netlify å…è´¹ç‰ˆï¼‰ã€å¿«é€ŸåŸå‹ã€æ²¡æœåŠ¡å™¨æ§åˆ¶æƒ</td></tr></tbody></table>
<h5 data-id="heading-19">4. ä»€ä¹ˆæ—¶å€™ç”¨ HashRouterï¼Ÿ</h5>
<p>è™½ç„¶å®˜æ–¹å¼ºçƒˆæ¨è BrowserRouterï¼Œä½† HashRouter ä»æœ‰å®ƒçš„ç”Ÿå­˜ç©ºé—´ï¼š</p>
<ul>
<li><strong>éƒ¨ç½²åœ¨çº¯é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Š</strong>ï¼šæ¯”å¦‚ GitHub Pagesã€Netlify é™æ€æ‰˜ç®¡ã€S3 Bucket ç­‰ã€‚è¿™äº›åœ°æ–¹ä½ æ²¡æ³•æ”¹æœåŠ¡å™¨é…ç½®ï¼Œç›´æ¥è®¿é—® /about ä¼š 404ã€‚</li>
<li><strong>å¿«é€ŸåŸå‹æˆ–æ¼”ç¤ºé¡¹ç›®</strong>ï¼šä¸æƒ³æŠ˜è…¾æœåŠ¡å™¨é…ç½®ï¼Œå…ˆè·‘èµ·æ¥å†è¯´ã€‚</li>
<li><strong>å†…åµŒåœ¨å…¶ä»–é¡µé¢æˆ– iframe ä¸­</strong>ï¼šé¿å…å’Œå¤–å±‚ URL å†²çªã€‚</li>
<li><strong>æ”¯æŒæè€æµè§ˆå™¨</strong>ï¼šè™½ç„¶ç°åœ¨åŸºæœ¬æ²¡å¿…è¦ã€‚</li>
</ul>
<p>å¦‚æœä½ æœ‰è‡ªå·±çš„åç«¯æœåŠ¡å™¨ï¼ˆNodeã€Nginxã€Apache ç­‰ï¼‰ï¼Œ<strong>ä¸€å®šä¼˜å…ˆç”¨ BrowserRouter</strong>ï¼Œåªéœ€ç®€å•é…ç½®ä¸€ä¸‹æ‰€æœ‰éé™æ€èµ„æºè·¯å¾„éƒ½æŒ‡å‘ index.html å°±è¡Œã€‚</p>
<h3 data-id="heading-20">3. è·¯ç”±é…ç½®ï¼šrouter/index.jsx</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../pages/Home.jsx"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../pages/About.jsx"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">AppRoutes</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
  );
}
</code></pre>
<p>è¶…çº§ç®€å•ï¼Routes æ˜¯è·¯ç”±æ€»ç®¡ï¼ŒRoute å®šä¹‰å…·ä½“è·¯å¾„å’Œå¯¹åº”ç»„ä»¶ã€‚</p>
<h3 data-id="heading-21">4. é¡µé¢ç»„ä»¶ï¼šç”¨ Hooks ç®¡ç†çŠ¶æ€å’Œå‰¯ä½œç”¨</h3>
<p>å…ˆçœ‹ç®€å• Aboutï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">About</span>;
</code></pre>
<p>å†çœ‹ Homeï¼šè¿™é‡Œå±•ç¤ºäº† useState å’Œ useEffect çš„ç»å…¸ç”¨æ³•ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [repos, setRepos] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"https://api.github.com/users/shunwuyu/repos"</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">setRepos</span>(data));
  }, []); <span class="hljs-comment">// [] è¡¨ç¤ºåªæ‰§è¡Œä¸€æ¬¡ï¼ˆç»„ä»¶æŒ‚è½½åï¼‰</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      {repos.length ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          {repos.map(repo =&gt; (
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{repo.id}</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">{repo.html_url}</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"noreferrer"</span>&gt;</span>
                {repo.name}
              <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          ))}
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      ) : (
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æš‚æ— ä»“åº“<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;
</code></pre>
<p><strong>useState åŸç†</strong>ï¼šReact çš„â€œå“åº”å¼çŠ¶æ€â€ã€‚è°ƒç”¨ setRepos ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä½†åªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼ˆé  Virtual DOM å¯¹æ¯”ï¼‰ã€‚</p>
<p><strong>useEffect åŸç†</strong>ï¼šç®¡ç†â€œå‰¯ä½œç”¨â€ï¼ˆå¦‚è¯·æ±‚æ•°æ®ã€è®¢é˜…äº‹ä»¶ï¼‰ã€‚ä¾èµ–æ•°ç»„ [] ä¸ºç©ºæ—¶ï¼Œåªåœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“åè·‘ä¸€æ¬¡ï¼Œç±»ä¼¼ Vue çš„ onMountedã€‚æ•°æ®è¯·æ±‚æ”¾è¿™é‡Œï¼Œä¸ä¼šé˜»å¡æ¸²æŸ“ï¼Œä¸»çº¿ç¨‹æ›´æµç•…ã€‚</p>
<p><strong>JSX åŸç†</strong>ï¼šå°±æ˜¯ JS çš„è¯­æ³•ç³–ï¼ŒBabel/Vite ç¼–è¯‘æˆ React.createElement è°ƒç”¨ã€‚å†™èµ·æ¥åƒ HTMLï¼Œå…¶å®å…¨æ˜¯ JSï¼Œè¶…çº§çµæ´»ã€‚</p>
<p><strong>Virtual DOM åŸç†</strong>ï¼šReact ä¸ç›´æ¥æ“ä½œçœŸå® DOMï¼Œè€Œæ˜¯ç»´æŠ¤ä¸€ä¸ªè™šæ‹Ÿ DOM æ ‘ã€‚çŠ¶æ€å˜äº†ï¼Œè®¡ç®—æ–°æ—§å·®å¼‚ï¼ˆdiff ç®—æ³•ï¼‰ï¼Œåª patch å¿…è¦çš„éƒ¨åˆ†ã€‚é«˜æ•ˆï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc2eeb72d2cd44429c52419ab0beae7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5bGx5a6J:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652490&amp;x-signature=XRjCMsp9HxHEa7x2BDZPHZ4xLOM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-22">5. å…¨å±€æ ·å¼ï¼šStylus ç¤ºä¾‹</h3>
<pre><code class="hljs language-stylus" lang="stylus">// index.styl
*
  margin: 0
  padding: 0

body
  background-color: pink
</code></pre>
<h4 data-id="heading-23">å¦‚ä½•åœ¨ Vite é¡¹ç›®ä¸­ä½¿ç”¨ Stylusï¼Ÿ</h4>
<p><strong>1). å®‰è£… Stylus ä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs">bash
npm install -D stylus
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šåªéœ€è¦å®‰è£… <code>stylus</code>ï¼ŒVite å†…éƒ¨é€šè¿‡ <code>@vitejs/plugin-vue</code>ï¼ˆå¦‚æœæ˜¯ Vue é¡¹ç›®ï¼‰æˆ–å†…ç½®çš„ CSS é¢„å¤„ç†å™¨æœºåˆ¶è‡ªåŠ¨è¯†åˆ« <code>.styl</code> æˆ– <code>&lt;style lang="stylus"&gt;</code> å¹¶è°ƒç”¨ Stylus ç¼–è¯‘å™¨ã€‚</p>
</blockquote>
<p><strong>2).åœ¨ç»„ä»¶æˆ–æ ·å¼æ–‡ä»¶ä¸­ä½¿ç”¨</strong>ï¼š</p>
<p><strong>Vue å•æ–‡ä»¶ç»„ä»¶ä¸­</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">    ```
    vue
    ç¼–è¾‘
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"stylus"</span>&gt;</span><span class="css">
    <span class="hljs-selector-class">.example</span>
      <span class="hljs-attribute">color</span> red
      <span class="hljs-attribute">font-size</span> <span class="hljs-number">16px</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    ```
</code></pre>
<p><strong>ç‹¬ç«‹çš„ <code>.styl</code> æ–‡ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">    stylus
    // styles/<span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.styl</span>
    <span class="hljs-selector-tag">body</span>
      <span class="hljs-attribute">background</span> <span class="hljs-selector-id">#f0f0f0</span>
</code></pre>
<p>ç„¶ååœ¨ JS/TS ä¸­å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">    js
    <span class="hljs-keyword">import</span> <span class="hljs-string">'./styles/main.styl'</span>
</code></pre>
<p>3).  <strong>æ— éœ€é¢å¤–é…ç½®</strong>ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼‰ï¼š å®‰è£… <code>stylus</code> åï¼ŒVite ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨å®ƒæ¥å¤„ç† <code>.styl</code> æ–‡ä»¶æˆ– <code>lang="stylus"</code> çš„ style å—ã€‚</p>
<hr/>
<h3 data-id="heading-24">6. package.json å’Œ package-lock.json</h3>
<p>åœ¨ Node.js é¡¹ç›®ï¼ˆåŒ…æ‹¬ Reactã€Vue ç­‰å‰ç«¯é¡¹ç›®ï¼‰ä¸­ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯ <strong>npm</strong>ï¼ˆæˆ– yarn/pnpmï¼‰åŒ…ç®¡ç†çš„æ ¸å¿ƒæ–‡ä»¶ã€‚å®ƒä»¬éƒ½åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
<h4 data-id="heading-25">1). <strong>package.json</strong>ï¼šé¡¹ç›®çš„â€œèº«ä»½è¯â€å’Œâ€œä¾èµ–æ¸…å•â€</h4>
<ul>
<li>
<p><strong>ä½œç”¨</strong>ï¼šæ‰‹åŠ¨åˆ›å»ºå’Œç»´æŠ¤çš„æ–‡ä»¶ï¼Œæè¿°é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯å’Œä¾èµ–åŒ…ã€‚</p>
</li>
<li>
<p><strong>ä¸»è¦å†…å®¹</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€å…¥å£æ–‡ä»¶ï¼ˆmainï¼‰ã€è„šæœ¬å‘½ä»¤ï¼ˆscriptsï¼Œå¦‚ "dev": "vite"ï¼‰ã€‚</li>
<li><strong>dependencies</strong>ï¼šç”Ÿäº§ç¯å¢ƒéœ€è¦çš„åŒ…ï¼ˆè¿è¡Œé¡¹ç›®å¿…é¡»çš„ï¼Œæ¯”å¦‚ reactã€react-router-domï¼‰ã€‚</li>
<li><strong>devDependencies</strong>ï¼šå¼€å‘ç¯å¢ƒéœ€è¦çš„åŒ…ï¼ˆåªåœ¨å¼€å‘æ—¶ç”¨ï¼Œæ¯”å¦‚ viteã€eslintï¼‰ã€‚</li>
<li>ä¾èµ–ç‰ˆæœ¬ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ "^19.2.0"ï¼ˆå…è®¸å°ç‰ˆæœ¬æ›´æ–°ï¼‰æˆ– "~19.2.0"ï¼ˆå…è®¸è¡¥ä¸æ›´æ–°ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼šç‰ˆæœ¬èŒƒå›´çµæ´»ï¼Œè¿è¡Œ npm install æ—¶ä¼šå®‰è£…æœ€æ–°å…¼å®¹ç‰ˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>ä½ éœ€è¦æ‰‹åŠ¨ä¿®æ”¹å®ƒ</strong>ï¼šæ·»åŠ æ–°åŒ…ç”¨ npm install xxxï¼ˆä¼šè‡ªåŠ¨æ›´æ–°ï¼‰ï¼Œæˆ–ç›´æ¥ç¼–è¾‘ã€‚</p>
</li>
</ul>
<h4 data-id="heading-26">2). <strong>package-lock.json</strong>ï¼šä¾èµ–çš„â€œç²¾ç¡®é”æ–‡ä»¶â€</h4>
<ul>
<li>
<p><strong>ä½œç”¨</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆçš„â€œé”æ­»â€æ–‡ä»¶ï¼Œç¡®ä¿æ¯ä¸ªäººï¼ˆåŒ…æ‹¬ CI/CDã€æœåŠ¡å™¨ï¼‰å®‰è£…çš„ä¾èµ–ç‰ˆæœ¬<strong>å®Œå…¨ä¸€è‡´</strong>ã€‚</p>
</li>
<li>
<p><strong>ä¸»è¦å†…å®¹</strong>ï¼š</p>
<ul>
<li>è®°å½•äº†æ•´ä¸ªä¾èµ–æ ‘ï¼ˆåŒ…æ‹¬å­ä¾èµ–ï¼‰çš„<strong>ç²¾ç¡®ç‰ˆæœ¬å·</strong>ã€ä¸‹è½½åœ°å€ã€å®Œæ•´æ€§æ ¡éªŒï¼ˆhashï¼‰ã€‚</li>
<li>æ¯”å¦‚ package.json é‡Œ react "^19.2.0"ï¼Œå®ƒä¼šé”æˆå…·ä½“çš„ "19.2.3"ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½ <strong>ä¸è¦æ‰‹åŠ¨ä¿®æ”¹</strong>å®ƒï¼ˆæ”¹äº†å®¹æ˜“å‡ºé—®é¢˜ï¼‰ã€‚</li>
<li>å½“ä½ è¿è¡Œ npm install æ—¶ï¼Œå¦‚æœæœ‰ package-lock.jsonï¼Œå°±ä¼šä¸¥æ ¼æŒ‰ç…§é‡Œé¢çš„ç‰ˆæœ¬å®‰è£…ã€‚</li>
<li>æ²¡æœ‰å®ƒæ—¶ï¼Œnpm ä¼šæ ¹æ® package.json å®‰è£…æœ€æ–°å…¼å®¹ç‰ˆï¼Œå¯èƒ½å¯¼è‡´ä¸åŒæœºå™¨ç‰ˆæœ¬ä¸ä¸€è‡´ï¼ˆè‘—åçš„â€œåœ¨æˆ‘æœºå­ä¸Šèƒ½è·‘â€é—®é¢˜ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-27">ç®€å•å¯¹æ¯”</h4>



































<table><thead><tr><th>é¡¹ç›®</th><th>package.json</th><th>package-lock.json</th></tr></thead><tbody><tr><td><strong>è°ç”Ÿæˆ/ç»´æŠ¤</strong></td><td>ä½ æ‰‹åŠ¨åˆ›å»ºå’Œä¿®æ”¹</td><td>npm è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°</td></tr><tr><td><strong>ç‰ˆæœ¬æè¿°</strong></td><td>èŒƒå›´ï¼ˆå¦‚ ^19.2.0ï¼Œå…è®¸è‡ªåŠ¨å‡çº§å°ç‰ˆæœ¬ï¼‰</td><td>ç²¾ç¡®ç‰ˆæœ¬ï¼ˆå¦‚ 19.2.3ï¼‰</td></tr><tr><td><strong>ç›®çš„</strong></td><td>å®šä¹‰é¡¹ç›®ä¿¡æ¯å’Œä¾èµ–èŒƒå›´</td><td>é”å®šä¾èµ–æ ‘ï¼Œç¡®ä¿æ‰€æœ‰äººå®‰è£…ç›¸åŒç‰ˆæœ¬</td></tr><tr><td><strong>æ˜¯å¦æäº¤åˆ° Git</strong></td><td>å¿…é¡»æäº¤</td><td>å¿…é¡»æäº¤ï¼ˆä¿è¯å›¢é˜Ÿ/éƒ¨ç½²ä¸€è‡´æ€§ï¼‰</td></tr><tr><td><strong>å¤§å°</strong></td><td>è¾ƒå°</td><td>å¾ˆå¤§ï¼ˆè®°å½•æ‰€æœ‰å­ä¾èµ–ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-28">äº”ã€æ€»ç»“</h2>
<p>é€šè¿‡è¿™ä¸ªç®€å• demoï¼Œä½ å·²ç»æŒæ¡äº† Vite + React çš„æ ¸å¿ƒæµç¨‹ï¼šåˆ›å»ºé¡¹ç›® â†’ é…ç½®è·¯ç”± â†’ ç”¨ Hooks ç®¡ç†çŠ¶æ€å’Œæ•°æ® â†’ å…¨å±€æ ·å¼ã€‚</p>
<p>React çš„ç²¾é«“å°±æ˜¯ï¼š<strong>ç”¨ç»„ä»¶æ€è€ƒé—®é¢˜ï¼Œç”¨çŠ¶æ€é©±åŠ¨ UI</strong>ã€‚å¤šç»ƒå¤šå†™ï¼Œå¾ˆå¿«å°±èƒ½ä¸Šæ‰‹å¤æ‚é¡¹ç›®ã€‚</p>
<p>å»ºè®®æ–°æ‰‹ï¼š</p>
<ol>
<li>å…ˆæ’¸å‡ ä¸ªå° demoï¼ˆTodoListã€åšå®¢ï¼‰ã€‚</li>
<li>å­¦ TypeScript ç‰ˆæœ¬ï¼ˆvite æ¨¡æ¿é€‰ react-tsï¼‰ã€‚</li>
<li>äº†è§£çŠ¶æ€ç®¡ç†åº“å¦‚ Zustand æˆ– Redux Toolkitã€‚</li>
<li>çœ‹çœ‹ Next.jsï¼ˆåŸºäº React çš„å…¨æ ˆæ¡†æ¶ï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[29.Kotlin ç±»å‹ç³»ç»Ÿï¼šæ™ºèƒ½è½¬æ¢ï¼šç±»å‹æ£€æŸ¥ (is) ä¸ç±»å‹è½¬æ¢ (as)]]></title>    <link>https://juejin.cn/post/7584834746062061602</link>    <guid>https://juejin.cn/post/7584834746062061602</guid>    <pubDate>2025-12-18T07:31:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746062061602" data-draft-id="7584909732612718627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="29.Kotlin ç±»å‹ç³»ç»Ÿï¼šæ™ºèƒ½è½¬æ¢ï¼šç±»å‹æ£€æŸ¥ (is) ä¸ç±»å‹è½¬æ¢ (as)"/> <meta itemprop="keywords" content="Android,Kotlin,åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:31:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Android_å°é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/220360279590862"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            29.Kotlin ç±»å‹ç³»ç»Ÿï¼šæ™ºèƒ½è½¬æ¢ï¼šç±»å‹æ£€æŸ¥ (is) ä¸ç±»å‹è½¬æ¢ (as)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/220360279590862/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Android_å°é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:31:22.000Z" title="Thu Dec 18 2025 07:31:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>å¸Œæœ›å¸®ä½ åœ¨Kotlinè¿›é˜¶è·¯ä¸Šå°‘èµ°å¼¯è·¯ï¼Œåœ¨æŠ€æœ¯ä¸Šç¨³æ­¥æå‡ã€‚å½“ç„¶ï¼Œç”±äºä¸ªäººçŸ¥è¯†å‚¨å¤‡æœ‰é™ï¼Œç¬”è®°ä¸­éš¾å…å­˜åœ¨ç–æ¼æˆ–è¡¨è¿°ä¸å½“çš„åœ°æ–¹ï¼Œä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶æå‡ºå®è´µæ„è§ï¼Œä¸€èµ·äº¤æµè¿›æ­¥ã€‚ â€”â€” Android_å°é›¨</p>
</blockquote>
<p>æ•´ä½“ç›®å½•ï¼š<a href="https://juejin.cn/spost/7573592952242602036" target="_blank" title="https://juejin.cn/spost/7573592952242602036">Kotlin è¿›é˜¶ä¸è¿·è·¯ï¼š41 ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ„å»ºå®Œæ•´çŸ¥è¯†ä½“ç³»</a></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<h3 data-id="heading-1">1.1 æ™ºèƒ½è½¬æ¢çš„æ ¸å¿ƒå®šä½</h3>
<p>åœ¨é™æ€ç±»å‹è¯­è¨€ä¸­ï¼Œå¤„ç†å¤šæ€ç±»å‹ï¼ˆå¦‚ <code>Any</code> æˆ–æ¥å£ç±»å‹ï¼‰æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åˆ¤æ–­å¯¹è±¡çš„è¿è¡Œæ—¶ç±»å‹å¹¶å°†å…¶è½¬æ¢ä¸ºå…·ä½“ç±»å‹ã€‚åœ¨ Java ä¸­ï¼Œè¿™é€šå¸¸æ¶‰åŠä¸¤æ­¥æ“ä½œï¼šå…ˆç”¨ <code>instanceof</code> åˆ¤æ–­ï¼Œå†å¼ºåˆ¶è½¬æ¢ <code>(String) obj</code>ã€‚</p>
<p>Kotlin é€šè¿‡ <strong>æ™ºèƒ½è½¬æ¢ (Smart Casts)</strong> å½»åº•æ”¹å˜äº†è¿™ä¸€æµç¨‹ã€‚å®ƒæ˜¯ Kotlin ç±»å‹ç³»ç»Ÿä¸­æœ€å…·â€œé­”æ³•â€è‰²å½©çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œæ ¸å¿ƒå®šä½åœ¨äº<strong>åˆ©ç”¨ç¼–è¯‘å™¨å¼ºå¤§çš„æ§åˆ¶æµåˆ†æèƒ½åŠ›ï¼Œè‡ªåŠ¨æ¨æ–­å¹¶æå‡å˜é‡çš„ç±»å‹</strong>ã€‚</p>
<h3 data-id="heading-2">1.2 è®¾è®¡ä»·å€¼</h3>
<ol>
<li><strong>æ¶ˆé™¤æ ·æ¿ä»£ç </strong>ï¼šä¸å†éœ€è¦é‡å¤ä¹¦å†™æ˜¾å¼çš„è½¬æ¢è¯­å¥ã€‚</li>
<li><strong>æå‡å®‰å…¨æ€§</strong>ï¼šå‡å°‘äº†æ‰‹åŠ¨å¼ºåˆ¶è½¬æ¢ï¼ˆUnsafe Castï¼‰å¸¦æ¥çš„ <code>ClassCastException</code> é£é™©ã€‚</li>
<li><strong>ä»£ç æµç•…åº¦</strong>ï¼šé€»è¾‘åˆ¤æ–­ä¸ç±»å‹ä½¿ç”¨æ— ç¼è¡”æ¥ï¼Œä»£ç é˜…è¯»ä½“éªŒæ›´ä½³ã€‚</li>
</ol>
<h3 data-id="heading-3">1.3 ä¸ Java ç±»å‹è½¬æ¢çš„æ ¸å¿ƒåŒºåˆ«</h3>
<ul>
<li><strong>Java</strong>: åˆ†ç¦»å¼æ“ä½œã€‚<code>if (obj instanceof String) { ((String)obj).length(); }</code> â€”â€” å•°å—¦ä¸”å®¹æ˜“å‡ºé”™ã€‚</li>
<li><strong>Kotlin</strong>: ä¸€ä½“åŒ–æ“ä½œã€‚<code>if (obj is String) { obj.length }</code> â€”â€” ç¼–è¯‘å™¨è‡ªåŠ¨è¯†åˆ«ä¸Šä¸‹æ–‡ï¼Œ<code>obj</code> åœ¨è¯¥å—å†…è‡ªåŠ¨å˜ä¸º <code>String</code> ç±»å‹ã€‚</li>
</ul>
<h3 data-id="heading-4">1.4 æœ¬æ–‡æ ¸å¿ƒå†…å®¹é¢„å‘Š</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cb77f869d054bc8a59c834d29c3cbab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5kcm9pZF_lsI_pm6g=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766647882&amp;x-signature=duB%2BSP6%2FPGCBBDnh49VgmixVwyk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>is/!is</strong>ï¼šè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œæ˜¯æ™ºèƒ½è½¬æ¢å‰æï¼›æ³›å‹å—æ“¦é™¤é™åˆ¶ï¼ˆåªèƒ½æ£€æŸ¥æ˜ŸæŠ•å½±ï¼‰ã€‚</li>
<li><strong>æ™ºèƒ½è½¬æ¢ï¼ˆSmart Castsï¼‰</strong>ï¼šKotlinâ€œé­”æ³•â€ç‰¹æ€§ï¼Œç¼–è¯‘å™¨é€šè¿‡æ§åˆ¶æµåˆ†æè‡ªåŠ¨æå‡ç±»å‹ï¼›æ”¯æŒifã€whenã€é€»è¾‘è¡¨è¾¾å¼ã€éç©ºæ£€æŸ¥ï¼Œä½†å¯¹varå±æ€§ï¼ˆå°¤å…¶æ˜¯ç±»æˆå‘˜ï¼‰å‡ ä¹å¤±æ•ˆï¼ˆéœ€å¤åˆ¶åˆ°å±€éƒ¨valï¼‰ã€‚</li>
<li><strong>as</strong>ï¼šä¸å®‰å…¨å¼ºåˆ¶è½¬æ¢ï¼Œå¤±è´¥æŠ›ClassCastExceptionï¼›æ…ç”¨ã€‚</li>
<li><strong>as?</strong>ï¼šå®‰å…¨è½¬æ¢ï¼Œå¤±è´¥è¿”å›nullï¼Œå¸¸é…åˆElvisï¼ˆ?:ï¼‰ä½¿ç”¨ï¼Œæ˜¯ç”Ÿäº§é¦–é€‰ã€‚</li>
<li><strong>æ³›å‹è§£å†³æ–¹æ¡ˆ</strong>ï¼šinline reifiedå…·ä½“åŒ–ç±»å‹å‚æ•°ï¼Œç»•è¿‡æ“¦é™¤ï¼Œå®ç°is T/as Tã€‚</li>
<li><strong>å®æˆ˜</strong>ï¼šå¤šæ€å¤„ç†ã€when+sealed classã€é›†åˆè¿‡æ»¤ã€JSONè§£æã€Android ViewHolderã€Javaäº¤äº’å¹³å°ç±»å‹ã€‚</li>
<li><strong>é¿å‘</strong>ï¼švarå±æ€§å¤±æ•ˆã€æ³›å‹æ£€æŸ¥é”™è¯¯ã€aså¼‚å¸¸é£é™©ã€å¯ç©ºè½¬æ¢é—æ¼ã€è·¨å‡½æ•°/é—­åŒ…å¤±æ•ˆã€‚</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šä¼˜å…ˆçº§â€”â€”æ™ºèƒ½è½¬æ¢ &gt; as? &gt; reified &gt; æ…ç”¨asï¼›æå‰è¿”å›ã€å±€éƒ¨å¤åˆ¶ç­‰ä¼˜åŒ–æŠ€å·§ã€‚</li>
</ol>
<h2 data-id="heading-5">äºŒã€ç±»å‹æ£€æŸ¥è¿ç®—ç¬¦ï¼ˆis/!isï¼‰ï¼šåˆ¤æ–­ç±»å‹çš„åŸºç¡€</h2>
<h3 data-id="heading-6">2.1 æ ¸å¿ƒä½œç”¨ä¸è®¾è®¡åˆè¡·</h3>
<p><code>is</code> è¿ç®—ç¬¦å¯¹åº” Java çš„ <code>instanceof</code>ï¼Œç”¨äºåœ¨è¿è¡Œæ—¶æ£€æŸ¥å¯¹è±¡æ˜¯å¦ç¬¦åˆæŒ‡å®šç±»å‹ã€‚å®ƒæ˜¯è§¦å‘æ™ºèƒ½è½¬æ¢çš„å‰ç½®æ¡ä»¶ã€‚</p>
<h3 data-id="heading-7">2.2 åŸºæœ¬è¯­æ³•ä¸ä½¿ç”¨è§„åˆ™</h3>
<h3 data-id="heading-8">2.2.1 <code>is</code> è¿ç®—ç¬¦</h3>
<p>å¦‚æœå¯¹è±¡æ˜¯ç›®æ ‡ç±»å‹ï¼ˆæˆ–å…¶å­ç±»å‹ï¼‰ï¼Œè¿”å› <code>true</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> String) {
    <span class="hljs-comment">// åœ¨è¿™é‡Œ obj å·²ç»è¢«æ™ºèƒ½è½¬æ¢ä¸º String</span>
}
</code></pre>
<h3 data-id="heading-9">2.2.2 <code>!is</code> è¿ç®—ç¬¦</h3>
<p><code>is</code> çš„å¦å®šå½¢å¼ï¼Œä¸ä»…æ˜¯è¯­æ³•ç³–ï¼Œæ›´èƒ½è®©é€»è¾‘è¡¨è¾¾å¼å¯è¯»æ€§æ›´å¼ºã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (obj !<span class="hljs-keyword">is</span> String) {
    <span class="hljs-comment">// obj ä¸æ˜¯ Stringï¼Œæˆ–è€… obj æ˜¯ nullï¼ˆå¦‚æœç›®æ ‡ç±»å‹æ˜¯éç©º Stringï¼‰</span>
    <span class="hljs-keyword">return</span>
}
</code></pre>
<h3 data-id="heading-10">2.3 åŸºç¡€ç±»å‹æ£€æŸ¥ç¤ºä¾‹</h3>
<p>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆåœ¨ Kotlin ä¸­ä¹Ÿæ˜¯å¯¹è±¡ï¼‰ï¼Œ<code>is</code> åŒæ ·é€‚ç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">checkType</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">if</span> (x <span class="hljs-keyword">is</span> <span class="hljs-built_in">Int</span>) println(<span class="hljs-string">"It's an Integer: <span class="hljs-subst">${x + <span class="hljs-number">1</span>}</span>"</span>) <span class="hljs-comment">// è‡ªåŠ¨è½¬ä¸º Int è¿›è¡Œæ•°å­¦è¿ç®—</span>
    <span class="hljs-keyword">if</span> (x <span class="hljs-keyword">is</span> String) println(<span class="hljs-string">"It's a String of length <span class="hljs-subst">${x.length}</span>"</span>)
}
</code></pre>
<h3 data-id="heading-11">2.4 å¼•ç”¨ç±»å‹æ£€æŸ¥ç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Shape</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span>(<span class="hljs-keyword">val</span> radius: <span class="hljs-built_in">Double</span>) : Shape

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculateArea</span><span class="hljs-params">(shape: <span class="hljs-type">Shape</span>)</span></span> {
    <span class="hljs-keyword">if</span> (shape <span class="hljs-keyword">is</span> Circle) {
        <span class="hljs-comment">// è‡ªåŠ¨è¯†åˆ«ä¸º Circleï¼Œå¯ç›´æ¥è®¿é—® radius</span>
        println(Math.PI * shape.radius * shape.radius)
    }
}
</code></pre>
<h3 data-id="heading-12">2.5 æ³›å‹ç±»å‹æ£€æŸ¥çš„é™åˆ¶ï¼ˆå…³é”®çŸ¥è¯†ç‚¹ï¼‰</h3>
<p>ç”±äº JVM çš„ <strong>æ³›å‹æ“¦é™¤ï¼ˆType Erasureï¼‰</strong> æœºåˆ¶ï¼Œè¿è¡Œæ—¶æ— æ³•æ£€æµ‹æ³›å‹çš„å…·ä½“å®å‚ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> list: List&lt;String&gt; = listOf(<span class="hljs-string">"A"</span>)
<span class="hljs-comment">// if (list is List&lt;String&gt;) // ç¼–è¯‘é”™è¯¯ï¼è¿è¡Œæ—¶æ— æ³•åŒºåˆ† List&lt;String&gt; å’Œ List&lt;Int&gt;</span>

<span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šä½¿ç”¨æ˜ŸæŠ•å½±ï¼ˆStar Projectionï¼‰</span>
<span class="hljs-keyword">if</span> (list <span class="hljs-keyword">is</span> List&lt;*&gt;) {
    <span class="hljs-comment">// åªèƒ½ç¡®å®šå®ƒæ˜¯æŸç§ Listï¼Œä½†ä¸çŸ¥é“å…ƒç´ ç±»å‹</span>
}
</code></pre>
<p><em>æ³¨ï¼šå”¯ä¸€çš„ä¾‹å¤–æ˜¯ <code>inline</code> å‡½æ•°é…åˆ <code>reified</code> å…·ä½“åŒ–ç±»å‹å‚æ•°ï¼Œè¯¦è§ç¬¬å…­ç« ã€‚</em></p>
<h3 data-id="heading-13">2.6 å¯ç©ºç±»å‹çš„ç±»å‹æ£€æŸ¥</h3>
<p><code>is String</code> éšå«äº†éç©ºæ£€æŸ¥ï¼ˆ<code>null is String</code> æ°¸è¿œä¸º falseï¼‰ã€‚
å¦‚æœä½ éœ€è¦æ£€æŸ¥æ˜¯å¦ä¸ºâ€œString æˆ– nullâ€ï¼Œéœ€è¦æ˜¾å¼å†™å‡ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> String?) { ... } <span class="hljs-comment">// æå°‘ä½¿ç”¨ï¼Œé€šå¸¸ç›´æ¥é…åˆæ™ºèƒ½è½¬æ¢å¤„ç†éç©º</span>

</code></pre>
<h2 data-id="heading-14">ä¸‰ã€æ™ºèƒ½ç±»å‹è½¬æ¢ï¼ˆSmart Castï¼‰ï¼šKotlin çš„ä¾¿æ·ç‰¹æ€§</h2>
<h3 data-id="heading-15">3.1 æ ¸å¿ƒåŸç†</h3>
<p>æ™ºèƒ½è½¬æ¢ä¸ä»…ä»…æ˜¯ç®€å•çš„è¯­æ³•ç³–ï¼Œå®ƒæ˜¯ç¼–è¯‘å™¨è¿›è¡Œ <strong>æ§åˆ¶æµåˆ†æï¼ˆControl Flow Analysisï¼‰</strong> çš„ç»“æœã€‚ç¼–è¯‘å™¨ä¼šåˆ†æå˜é‡åœ¨ç‰¹å®šä»£ç è·¯å¾„ä¸Šçš„çŠ¶æ€ï¼Œç¡®ä¿åœ¨æŸä¸ªä½œç”¨åŸŸå†…å˜é‡çš„ç±»å‹æ˜¯ç¡®å®šçš„ã€å®‰å…¨çš„ã€‚</p>
<h3 data-id="heading-16">3.2 å±€éƒ¨å˜é‡çš„æ™ºèƒ½è½¬æ¢åœºæ™¯</h3>
<h3 data-id="heading-17">3.2.1 <code>if</code> åˆ†æ”¯ä¸­çš„æ™ºèƒ½è½¬æ¢</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">demo</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">if</span> (x <span class="hljs-keyword">is</span> String) {
        println(x.length) <span class="hljs-comment">// x è‡ªåŠ¨è½¬æ¢ä¸º String</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// x ä¾ç„¶æ˜¯ Any</span>
    }
}
</code></pre>
<h3 data-id="heading-18">3.2.2 <code>when</code> åˆ†æ”¯ä¸­çš„æ™ºèƒ½è½¬æ¢</h3>
<p><code>when</code> è¡¨è¾¾å¼æ˜¯å¤„ç†å¤šæ€ç±»å‹çš„ç¥å™¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">when</span> (x) {
    <span class="hljs-keyword">is</span> <span class="hljs-built_in">Int</span> -&gt; print(x + <span class="hljs-number">1</span>)
    <span class="hljs-keyword">is</span> String -&gt; print(x.length + <span class="hljs-number">1</span>)
    <span class="hljs-keyword">is</span> IntArray -&gt; print(x.sum())
}
</code></pre>
<h3 data-id="heading-19">3.2.3 é€»è¾‘è¡¨è¾¾å¼ï¼ˆ&amp;&amp;/||ï¼‰ä¸­çš„æ™ºèƒ½è½¬æ¢</h3>
<p>Kotlin ç¼–è¯‘å™¨è¶³å¤Ÿèªæ˜ï¼Œèƒ½å¤„ç†çŸ­è·¯é€»è¾‘ã€‚</p>
<ul>
<li>
<p><strong>&amp;&amp; (ä¸)</strong>ï¼šå·¦ä¾§ä¸ºçœŸï¼Œå³ä¾§æ‰§è¡Œï¼Œå³ä¾§å¯å®‰å…¨è½¬æ¢ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (x <span class="hljs-keyword">is</span> String &amp;&amp; x.length &gt; <span class="hljs-number">0</span>) { ... } <span class="hljs-comment">// å®‰å…¨</span>
</code></pre>
</li>
<li>
<p><strong>|| (æˆ–)</strong>ï¼šå·¦ä¾§ä¸ºå‡ï¼ˆå³ !isï¼‰ï¼Œå³ä¾§æ‰§è¡Œï¼Œå³ä¾§éšå«äº†å·¦ä¾§çš„å¦å®šæ¡ä»¶ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¦‚æœ x ä¸æ˜¯ Stringï¼Œå·¦ä¾§ä¸º trueï¼Œç›´æ¥è¿›å…¥ if å†…éƒ¨ï¼ˆæ— è½¬æ¢ï¼‰</span>
<span class="hljs-comment">// å¦‚æœ x æ˜¯ Stringï¼Œå·¦ä¾§ä¸º falseï¼Œç»§ç»­æ‰§è¡Œå³ä¾§ï¼Œæ­¤æ—¶ x ç¡®è®¤ä¸º String</span>
<span class="hljs-keyword">if</span> (x !<span class="hljs-keyword">is</span> String || x.length == <span class="hljs-number">0</span>) { ... }
</code></pre>
</li>
</ul>
<h3 data-id="heading-20">3.3 å±æ€§çš„æ™ºèƒ½è½¬æ¢é™åˆ¶ï¼ˆä¸¥è°¨çŸ¥è¯†ç‚¹ï¼‰</h3>
<p>æ™ºèƒ½è½¬æ¢å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆï¼Œä¸»è¦å—é™äº<strong>å¹¶å‘å®‰å…¨</strong>å’Œ<strong>å¯å˜æ€§</strong>ã€‚</p>
<h3 data-id="heading-21">3.3.1 ä¸å¯å˜å±æ€§ï¼ˆvalï¼‰çš„æ™ºèƒ½è½¬æ¢</h3>
<ul>
<li><strong>å±€éƒ¨å˜é‡</strong>ï¼šæ€»æ˜¯å®‰å…¨ã€‚</li>
<li><strong>ç±»å±æ€§ (val)</strong>ï¼šåªæœ‰åœ¨å±æ€§æ˜¯ <code>private</code> æˆ– <code>internal</code> ä¸”æœªå®šä¹‰è‡ªå®šä¹‰ <code>getter</code> æ—¶æ‰å®‰å…¨ã€‚å¦‚æœæ˜¯ <code>open</code> æˆ–è‡ªå®šä¹‰äº† <code>getter</code>ï¼Œæ¯æ¬¡è®¿é—®å¯èƒ½è¿”å›ä¸åŒå€¼ï¼Œæ™ºèƒ½è½¬æ¢å¤±æ•ˆã€‚</li>
</ul>
<h3 data-id="heading-22">3.3.2 å¯å˜å±æ€§ï¼ˆvarï¼‰çš„æ™ºèƒ½è½¬æ¢ç¦ç”¨åŸå› </h3>
<p>å¯¹äºç±»çš„ <code>var</code> å±æ€§ï¼Œç¼–è¯‘å™¨<strong>å‡ ä¹ä»ä¸</strong>å…è®¸æ™ºèƒ½è½¬æ¢ã€‚
<strong>åŸå› </strong>ï¼šåœ¨ç±»å‹æ£€æŸ¥ï¼ˆ<code>is</code>ï¼‰å’Œå®é™…ä½¿ç”¨å˜é‡ä¹‹é—´ï¼Œå…¶ä»–çº¿ç¨‹å¯èƒ½ä¿®æ”¹äº†è¯¥å˜é‡ï¼Œæˆ–è€…æ¯æ¬¡è°ƒç”¨ <code>getter</code> å¯èƒ½äº§ç”Ÿå‰¯ä½œç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    <span class="hljs-keyword">var</span> p: Any = <span class="hljs-string">"Test"</span>

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">is</span> String) {
            <span class="hljs-comment">// print(p.length) // ç¼–è¯‘é”™è¯¯ï¼šSmart cast to 'String' is impossible</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-23">3.3.3 ç§æœ‰ / å†…éƒ¨å±æ€§çš„ç‰¹æ®Šå¤„ç†</h3>
<p>å¦‚æœç¼–è¯‘å™¨èƒ½ç¡®å®šå±æ€§ä¸ä¼šè¢«æ¨¡å—å¤–æˆ–å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼ˆä¾‹å¦‚ <code>private var</code> ä¸”æ— å¤šçº¿ç¨‹ä¸Šä¸‹æ–‡ï¼‰ï¼Œåœ¨æŸäº›ç®€å•åœºæ™¯ä¸‹å¯èƒ½å…è®¸ï¼Œä½†é€šå¸¸å»ºè®®å°†å…¶èµ‹å€¼ç»™å±€éƒ¨å˜é‡å†åˆ¤æ–­ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> temp = p
<span class="hljs-keyword">if</span> (temp <span class="hljs-keyword">is</span> String) {
    print(temp.length) <span class="hljs-comment">// å±€éƒ¨å˜é‡ temp æ˜¯ç¨³å®šçš„ï¼Œå¯ä»¥æ™ºèƒ½è½¬æ¢</span>
}
</code></pre>
<h3 data-id="heading-24">3.4 å¯ç©ºç±»å‹çš„æ™ºèƒ½è½¬æ¢</h3>
<p>éç©ºæ£€æŸ¥ä¼šè‡ªåŠ¨è§¦å‘æ™ºèƒ½è½¬æ¢ï¼Œå°† <code>T?</code> è½¬æ¢ä¸º <code>T</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> s: String? = <span class="hljs-string">"Hello"</span>
<span class="hljs-keyword">if</span> (s != <span class="hljs-literal">null</span>) {
    println(s.length) <span class="hljs-comment">// s è‡ªåŠ¨è½¬æ¢ä¸º Stringï¼ˆéç©ºï¼‰</span>
}
</code></pre>
<h3 data-id="heading-25">3.5 æ™ºèƒ½è½¬æ¢çš„è¾¹ç•Œæ¡ä»¶</h3>
<ul>
<li>å¦‚æœå˜é‡åœ¨ <code>if</code> å—å†…è¢«é‡æ–°èµ‹å€¼ï¼Œæ™ºèƒ½è½¬æ¢ç«‹å³å¤±æ•ˆã€‚</li>
<li>è·¨é—­åŒ…ï¼ˆClosureï¼‰ä¿®æ”¹å˜é‡ä¼šä½¿æ™ºèƒ½è½¬æ¢å¤±æ•ˆã€‚</li>
</ul>
<h2 data-id="heading-26">å››ã€æ˜¾å¼ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆasï¼‰ï¼šå¼ºåˆ¶ç±»å‹è½¬æ¢</h2>
<h3 data-id="heading-27">4.1 æ ¸å¿ƒä½œç”¨ä¸ä½¿ç”¨åœºæ™¯</h3>
<p>å½“ç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­ï¼Œä½†å¼€å‘è€…éå¸¸ç¡®å®šå¯¹è±¡çš„ç±»å‹æ—¶ï¼Œä½¿ç”¨ <code>as</code> è¿›è¡Œå¼ºåˆ¶è½¬æ¢ã€‚è¿™æ˜¯ä¸€ç§â€œä¸å®‰å…¨â€çš„æ“ä½œã€‚</p>
<h3 data-id="heading-28">4.2 åŸºæœ¬è¯­æ³•ä¸è½¬æ¢è§„åˆ™</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> x: String = y <span class="hljs-keyword">as</span> String
</code></pre>
<p>å¦‚æœ <code>y</code> ä¸æ˜¯ <code>String</code>ï¼ˆä¸”ä¸æ˜¯ <code>null</code>ï¼Œå¦‚æœç›®æ ‡æ˜¯ <code>String</code>ï¼‰ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h3 data-id="heading-29">4.3 åŸºç¡€ç±»å‹æ˜¾å¼è½¬æ¢ç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> any: Any = <span class="hljs-string">"abc"</span>
<span class="hljs-keyword">val</span> str: String = any <span class="hljs-keyword">as</span> String <span class="hljs-comment">// æˆåŠŸ</span>
</code></pre>
<h3 data-id="heading-30">4.4 å¼•ç”¨ç±»å‹æ˜¾å¼è½¬æ¢ç¤ºä¾‹</h3>
<p>å¸¸ç”¨äºçˆ¶ç±»è½¬å­ç±»ï¼Œæˆ–è€…æ¥å£è½¬å®ç°ç±»ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> view: View = button
<span class="hljs-keyword">val</span> btn: Button = view <span class="hljs-keyword">as</span> Button
</code></pre>
<h3 data-id="heading-31">4.5 è½¬æ¢å¤±è´¥çš„åæœ</h3>
<p>å¦‚æœç±»å‹ä¸åŒ¹é…ï¼ŒJVM ä¼šæŠ›å‡º <strong><code>ClassCastException</code></strong>ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚
<strong>æ³¨æ„</strong>ï¼š<code>null</code> ä¸èƒ½è¢«è½¬æ¢ä¸ºéç©ºç±»å‹ï¼Œ<code>null as String</code> ä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<h3 data-id="heading-32">4.6 å¯ç©ºç±»å‹çš„æ˜¾å¼è½¬æ¢</h3>
<p>å¦‚æœå…è®¸è½¬æ¢ç»“æœä¸º <code>null</code>ï¼ˆæˆ–è€…æºå¯¹è±¡å¯èƒ½æ˜¯ <code>null</code>ï¼‰ï¼Œç›®æ ‡ç±»å‹å¿…é¡»å£°æ˜ä¸ºå¯ç©ºã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> y: Any? = <span class="hljs-literal">null</span>
<span class="hljs-keyword">val</span> x: String? = y <span class="hljs-keyword">as</span> String? <span class="hljs-comment">// å…è®¸ï¼Œç»“æœä¸º null</span>
<span class="hljs-comment">// val z: String = y as String // å´©æºƒï¼šNull cannot be cast to non-null type String</span>
</code></pre>
<h2 data-id="heading-33">äº”ã€å®‰å…¨ç±»å‹è½¬æ¢è¿ç®—ç¬¦ï¼ˆas?ï¼‰ï¼šé¿å…è½¬æ¢å¼‚å¸¸</h2>
<h3 data-id="heading-34">5.1 æ ¸å¿ƒä½œç”¨ä¸åŸç†</h3>
<p><code>as?</code> æ˜¯ Kotlin å¤„ç†ç±»å‹è½¬æ¢çš„æ¨èæ–¹å¼ã€‚å®ƒå°è¯•è½¬æ¢ï¼Œå¦‚æœå¤±è´¥ï¼ˆç±»å‹ä¸åŒ¹é…ï¼‰ï¼Œ<strong>ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯è¿”å› <code>null</code></strong>ã€‚</p>
<h3 data-id="heading-35">5.2 åŸºæœ¬è¯­æ³•ä¸ä½¿ç”¨è§„åˆ™</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> x: String? = y <span class="hljs-keyword">as</span>? String
</code></pre>
<p>æ— è®º <code>y</code> æ˜¯ä»€ä¹ˆï¼Œ<code>x</code> çš„ç»“æœè¦ä¹ˆæ˜¯ <code>String</code> å¯¹è±¡ï¼Œè¦ä¹ˆæ˜¯ <code>null</code>ã€‚</p>
<h3 data-id="heading-36">5.3 å®‰å…¨è½¬æ¢ä¸æ˜¾å¼è½¬æ¢çš„å¯¹æ¯”ç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> obj: Any = <span class="hljs-number">123</span>

<span class="hljs-comment">// æ˜¾å¼è½¬æ¢ï¼ˆå´©æºƒé£é™©ï¼‰</span>
<span class="hljs-comment">// val str = obj as String // Throws ClassCastException</span>

<span class="hljs-comment">// å®‰å…¨è½¬æ¢ï¼ˆä¼˜é›…é™çº§ï¼‰</span>
<span class="hljs-keyword">val</span> strSafe: String? = obj <span class="hljs-keyword">as</span>? String <span class="hljs-comment">// Returns null</span>
println(strSafe) <span class="hljs-comment">// è¾“å‡º null</span>
</code></pre>
<h3 data-id="heading-37">5.4 ä¸ Elvis è¿ç®—ç¬¦ï¼ˆ?:ï¼‰çš„ç»„åˆä½¿ç”¨</h3>
<p>è¿™æ˜¯ Kotlin ä¸­çš„ç»å…¸æƒ¯ç”¨è¯­ï¼ˆIdiomï¼‰ï¼Œç”¨äºå®ç°â€œè½¬æ¢æˆåŠŸåˆ™ä½¿ç”¨ï¼Œå¤±è´¥åˆ™ç»™é»˜è®¤å€¼æˆ–è¿”å›â€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> str = (obj <span class="hljs-keyword">as</span>? String) ?: <span class="hljs-string">"Default Value"</span>
<span class="hljs-comment">// æˆ–è€…</span>
<span class="hljs-keyword">val</span> strLen = (obj <span class="hljs-keyword">as</span>? String)?.length ?: <span class="hljs-number">0</span>
</code></pre>
<h2 data-id="heading-38">å…­ã€ç±»å‹è½¬æ¢çš„ä¼˜å…ˆçº§ä¸ååŒä½¿ç”¨</h2>
<h3 data-id="heading-39">6.1 æ™ºèƒ½è½¬æ¢ vs æ˜¾å¼è½¬æ¢ï¼ˆasï¼‰ï¼šé€‰å‹åŸåˆ™</h3>
<ul>
<li><strong>é¦–é€‰</strong>ï¼šæ™ºèƒ½è½¬æ¢ï¼ˆ<code>is</code> + é€»è¾‘æ§åˆ¶ï¼‰ã€‚åˆ©ç”¨ç¼–è¯‘å™¨èƒ½åŠ›ï¼Œæœ€å®‰å…¨ã€‚</li>
<li><strong>æ¬¡é€‰</strong>ï¼šå®‰å…¨è½¬æ¢ï¼ˆ<code>as?</code>ï¼‰ã€‚å½“ä½ ä¸åœ¨ä¹è½¬æ¢å¤±è´¥ï¼Œæˆ–è€…è½¬æ¢å¤±è´¥ä»£è¡¨â€œæ— æ“ä½œâ€æ—¶ã€‚</li>
<li><strong>æœ«é€‰</strong>ï¼šæ˜¾å¼è½¬æ¢ï¼ˆ<code>as</code>ï¼‰ã€‚ä»…åœ¨é€»è¾‘ä¸Š 100% ç¡®å®šç±»å‹ï¼Œä¸”æ— æ³•åˆ©ç”¨æ™ºèƒ½è½¬æ¢æ—¶ä½¿ç”¨ï¼ˆä¾‹å¦‚æŸäº›æ³›å‹äº’æ“ä½œåœºæ™¯ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-40">6.2 å®‰å…¨è½¬æ¢ï¼ˆas?ï¼‰vs éç©ºæ–­è¨€ï¼ˆ!!ï¼‰ï¼šé£é™©å¯¹æ¯”</h3>
<ul>
<li><code>as?</code>ï¼šç”Ÿäº§ç¯å¢ƒå‹å¥½çš„ã€‚</li>
<li><code>as</code> åæ¥ <code>!!</code>ï¼ˆå¦‚ <code>val x = (y as? String)!!</code>ï¼‰ç­‰åŒäº <code>as</code>ï¼Œå¤±å»äº†å®‰å…¨è½¬æ¢çš„æ„ä¹‰ï¼Œåº”é¿å…ã€‚</li>
</ul>
<h3 data-id="heading-41">6.3 ç±»å‹æ£€æŸ¥ï¼ˆisï¼‰ä¸å®‰å…¨è½¬æ¢çš„ååŒåœºæ™¯</h3>
<p>é€šå¸¸ä¸éœ€è¦åŒæ—¶ä½¿ç”¨ã€‚</p>
<ul>
<li>
<p><strong>å†—ä½™å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> String) {
    <span class="hljs-keyword">val</span> s = obj <span class="hljs-keyword">as</span> String <span class="hljs-comment">// è¿™é‡Œçš„ as æ˜¯å¤šä½™çš„ï¼Œå·²ç»æ™ºèƒ½è½¬æ¢äº†</span>
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-42">6.4 æ³›å‹ç±»å‹è½¬æ¢çš„è§£å†³æ–¹æ¡ˆï¼ˆreified å…³é”®å­—ï¼‰</h3>
<p>ä¸ºäº†è§£å†³æ³›å‹æ“¦é™¤å¯¼è‡´æ— æ³•ä½¿ç”¨ <code>is T</code> æˆ– <code>as T</code> çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å†…è”å‡½æ•° + å…·ä½“åŒ–ç±»å‹å‚æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T&gt;</span> <span class="hljs-title">filterType</span><span class="hljs-params">(list: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Any</span>&gt;)</span></span>: List&lt;T&gt; {
    <span class="hljs-keyword">return</span> list.filter { it <span class="hljs-keyword">is</span> T } <span class="hljs-comment">// æ­¤æ—¶ T æ˜¯ç¡®å®šçš„ï¼Œå¯ä»¥ä½¿ç”¨ is</span>
        .map { it <span class="hljs-keyword">as</span> T }
}

<span class="hljs-keyword">val</span> strings = filterType&lt;String&gt;(listOf(<span class="hljs-number">1</span>, <span class="hljs-string">"A"</span>, <span class="hljs-number">2</span>, <span class="hljs-string">"B"</span>)) <span class="hljs-comment">// ["A", "B"]</span>

</code></pre>
<h2 data-id="heading-43">ä¸ƒã€å®æˆ˜åœºæ™¯ï¼šç±»å‹è½¬æ¢çš„å…¸å‹åº”ç”¨</h2>
<h3 data-id="heading-44">7.1 å¤šç±»å‹æ•°æ®å¤„ç†</h3>
<p>åœ¨ Android çš„ <code>RecyclerView</code> çš„ <code>Adapter</code> ä¸­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onBindViewHolder</span><span class="hljs-params">(holder: <span class="hljs-type">RecyclerView</span>.<span class="hljs-type">ViewHolder</span>, position: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-keyword">val</span> item = items[position]
    <span class="hljs-comment">// æ™ºèƒ½è½¬æ¢å¤„ç†ä¸åŒ ViewType</span>
    <span class="hljs-keyword">when</span> (holder) {
        <span class="hljs-keyword">is</span> HeaderViewHolder -&gt; holder.bindHeader(item <span class="hljs-keyword">as</span> HeaderData)
        <span class="hljs-keyword">is</span> ItemViewHolder -&gt; holder.bindItem(item <span class="hljs-keyword">as</span> ItemData)
    }
}

</code></pre>
<h3 data-id="heading-45">7.2 é›†åˆå…ƒç´ çš„ç±»å‹è¿‡æ»¤ä¸è½¬æ¢</h3>
<p>Kotlin æ ‡å‡†åº“æä¾›äº† <code>filterIsInstance</code>ï¼Œåº•å±‚å°±æ˜¯åˆ©ç”¨ <code>reified</code> å®ç°çš„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> mixedList = listOf(<span class="hljs-string">"A"</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"B"</span>, <span class="hljs-number">2.0</span>)
<span class="hljs-keyword">val</span> stringOnly: List&lt;String&gt; = mixedList.filterIsInstance&lt;String&gt;()
</code></pre>
<h3 data-id="heading-46">7.3 æ³›å‹å¯¹è±¡çš„ç±»å‹æ ¡éªŒ</h3>
<p>å½“å¤„ç† JSON è§£æç»“æœæˆ–ååºåˆ—åŒ–å¯¹è±¡æ—¶ï¼Œé€šå¸¸å¾—åˆ°çš„éƒ½æ˜¯ <code>Any</code>ï¼Œéœ€è¦å±‚å±‚å‰¥ç¦»ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handleResponse</span><span class="hljs-params">(response: <span class="hljs-type">Any</span>)</span></span> {
    (response <span class="hljs-keyword">as</span>? User)?.let { user -&gt;
        <span class="hljs-comment">// å¤„ç† User é€»è¾‘</span>
        println(user.name)
    } ?: run {
        <span class="hljs-comment">// å¤„ç†é”™è¯¯æˆ–æœªçŸ¥ç±»å‹</span>
    }
}
</code></pre>
<h3 data-id="heading-47">7.4 ä¸šåŠ¡å¯¹è±¡çš„å¤šæ€åœºæ™¯å¤„ç†</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: String) : Result()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> message: String) : Result()

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handle</span><span class="hljs-params">(result: <span class="hljs-type">Result</span>)</span></span> {
    <span class="hljs-comment">// Sealed Class é…åˆæ™ºèƒ½è½¬æ¢æ˜¯ç»é…</span>
    <span class="hljs-keyword">when</span> (result) {
        <span class="hljs-keyword">is</span> Success -&gt; println(result.<span class="hljs-keyword">data</span>) <span class="hljs-comment">// è‡ªåŠ¨è½¬æ¢ä¸º Success</span>
        <span class="hljs-keyword">is</span> Error -&gt; println(result.message) <span class="hljs-comment">// è‡ªåŠ¨è½¬æ¢ä¸º Error</span>
    }
}
</code></pre>
<h3 data-id="heading-48">7.5 Java äº¤äº’ä¸­çš„ç±»å‹è½¬æ¢ï¼ˆå¹³å°ç±»å‹ï¼‰</h3>
<p>Java è¿”å›çš„ç±»å‹åœ¨ Kotlin ä¸­è¢«ç§°ä¸ºâ€œå¹³å°ç±»å‹â€ï¼ˆPlatform Typeï¼Œå¦‚ <code>String!</code>ï¼‰ã€‚
é€šå¸¸å»ºè®®åœ¨æ¥æ”¶ Java æ•°æ®æ—¶ç«‹å³æ˜¾å¼æŒ‡å®šç±»å‹æˆ–è¿›è¡Œå®‰å…¨è½¬æ¢ï¼Œä»¥é¿å…ç©ºæŒ‡é’ˆæ‰©æ•£ã€‚</p>
<h2 data-id="heading-49">å…«ã€ä½¿ç”¨æ³¨æ„äº‹é¡¹ä¸é¿å‘ç‚¹</h2>
<h3 data-id="heading-50">8.1 æ³›å‹ç±»å‹æ“¦é™¤å¯¼è‡´çš„æ£€æŸ¥ / è½¬æ¢å¤±æ•ˆ</h3>
<p>æ°¸è¿œä¸è¦å°è¯•å†™ <code>if (obj is List&lt;String&gt;)</code>ã€‚å¦‚æœå¿…é¡»æ£€æŸ¥æ³›å‹å†…éƒ¨ï¼Œåªèƒ½æ£€æŸ¥ <code>List&lt;*&gt;</code>ï¼Œç„¶åéå†å…ƒç´ æ£€æŸ¥æ¯ä¸ªå…ƒç´ ã€‚</p>
<h3 data-id="heading-51">8.2 å¯å˜å±æ€§çš„æ™ºèƒ½è½¬æ¢é™·é˜±</h3>
<p>å¦‚ 3.3.2 æ‰€è¿°ï¼Œ<code>var</code> å±æ€§æ— æ³•æ™ºèƒ½è½¬æ¢ã€‚
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ <code>also</code> æˆ– <code>let</code> å°†å…¶å¤åˆ¶ä¸ºå±€éƒ¨å˜é‡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é”™è¯¯</span>
<span class="hljs-keyword">if</span> (globalVar != <span class="hljs-literal">null</span>) { print(globalVar.length) }

<span class="hljs-comment">// æ­£ç¡®</span>
globalVar?.let { localVal -&gt;
    print(localVal.length) <span class="hljs-comment">// localVal æ˜¯å±€éƒ¨çš„ï¼Œä¸å¯å˜ä¸”éç©º</span>
}
</code></pre>
<h3 data-id="heading-52">8.3 æ˜¾å¼è½¬æ¢ï¼ˆasï¼‰çš„å¼‚å¸¸é£é™©è§„é¿</h3>
<p><strong>ç°è±¡</strong>ï¼š<code>as</code> è½¬æ¢åœ¨ç±»å‹ä¸åŒ¹é…æ—¶ä¼šæŠ›å‡º <code>ClassCastException</code>ï¼Œåœ¨ <code>null</code> å¤„ç†ä¸å½“æ—¶ä¼šæŠ›å‡º <code>NullPointerException</code>ï¼ˆå¦‚æœç›®æ ‡æ˜¯éç©ºç±»å‹ï¼‰ã€‚</p>
<p><strong>é¿å‘æŒ‡å—</strong>ï¼š</p>
<ul>
<li><strong>Code Review çº¢çº¿</strong>ï¼šé™¤éåœ¨éå¸¸å±€éƒ¨çš„ä½œç”¨åŸŸå†…ï¼ˆä¾‹å¦‚åˆšå­˜è¿›å»å°±å–å‡ºæ¥ï¼‰ï¼Œå¦åˆ™å°½é‡é¿å…ä½¿ç”¨ <code>as</code>ã€‚</li>
<li><strong>å¼‚å¸¸æ•è·</strong>ï¼šå¦‚æœä½ å¿…é¡»ä½¿ç”¨ <code>as</code>ï¼Œè¯·ç¡®ä¿ä¸Šå±‚é€»è¾‘èƒ½æ•è·è¿è¡Œæ—¶å¼‚å¸¸ï¼ˆä½†è¿™é€šå¸¸æ˜¯ç³Ÿç³•çš„è®¾è®¡ï¼‰ã€‚</li>
<li><strong>è¯¯åŒº</strong>ï¼š<code>val x: Int = y as Int</code>ï¼Œå¦‚æœ <code>y</code> æ˜¯ <code>null</code>ï¼Œè¿™è¡Œä»£ç ä¼šç›´æ¥å´©ï¼Œå› ä¸º <code>null</code> ä¸èƒ½è½¬æ¢ä¸º <code>Int</code>ã€‚</li>
</ul>
<h3 data-id="heading-53">8.4 å¯ç©ºç±»å‹è½¬æ¢çš„ç©ºå€¼å¤„ç†é—æ¼</h3>
<p>å½“æºå¯¹è±¡å¯èƒ½æ˜¯ <code>null</code> æ—¶ï¼Œå¼ºåˆ¶è½¬æ¢å¿…é¡»è€ƒè™‘åˆ°ç©ºå€¼çš„å¯èƒ½æ€§ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> y: Any? = <span class="hljs-literal">null</span>
<span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒï¼šè¯•å›¾å°† null å¼ºè½¬ä¸ºéç©º String</span>
<span class="hljs-comment">// val x: String = y as String // æŠ›å‡º TypeCastException: null cannot be cast to non-null type kotlin.String</span>

<span class="hljs-comment">// æ­£ç¡®ç¤ºèŒƒ 1ï¼šç›®æ ‡ç±»å‹ä¹Ÿæ˜¯å¯ç©ºçš„</span>
<span class="hljs-keyword">val</span> x: String? = y <span class="hljs-keyword">as</span> String? <span class="hljs-comment">// ç»“æœä¸º null</span>

<span class="hljs-comment">// æ­£ç¡®ç¤ºèŒƒ 2ï¼šç›®æ ‡ç±»å‹éç©ºï¼Œä½†è½¬æ¢å‰ç¡®ä¿ä¸ä¸º nullï¼ˆè™½ç„¶ä¸å¦‚ç›´æ¥ç”¨æ™ºèƒ½è½¬æ¢ï¼‰</span>
<span class="hljs-keyword">if</span> (y != <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">val</span> z: String = y <span class="hljs-keyword">as</span> String
}
</code></pre>
<h3 data-id="heading-54">8.5 æ™ºèƒ½è½¬æ¢çš„ä½œç”¨åŸŸé™åˆ¶ï¼ˆè·¨å‡½æ•° / é—­åŒ…å¤±æ•ˆï¼‰</h3>
<p><strong>è·¨å‡½æ•°å¤±æ•ˆ</strong>ï¼š
æ™ºèƒ½è½¬æ¢çš„åˆ†æèŒƒå›´ä»…é™äºå½“å‰å‡½æ•°ã€‚ç¼–è¯‘å™¨ä¸ä¼šå»åˆ†æå¦ä¸€ä¸ªå‡½æ•°æ˜¯å¦ä¿®æ”¹äº†å˜é‡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> {
    <span class="hljs-keyword">var</span> x: Any = <span class="hljs-string">"Hello"</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">check</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (x <span class="hljs-keyword">is</span> String) {
            mutate()
            <span class="hljs-comment">// ç¼–è¯‘å™¨æ— æ³•ç¡®å®š mutate() æ˜¯å¦ä¿®æ”¹äº† xï¼Œæ‰€ä»¥è¿™é‡Œæ™ºèƒ½è½¬æ¢å¤±æ•ˆ</span>
            <span class="hljs-comment">// println(x.length) // Error</span>
        }
    }
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">mutate</span><span class="hljs-params">()</span></span> { x = <span class="hljs-number">123</span> }
}

</code></pre>
<p><strong>é—­åŒ…ï¼ˆLambdaï¼‰å¤±æ•ˆ</strong>ï¼š
å¦‚æœä¸€ä¸ªå±€éƒ¨å˜é‡è¢« Lambda æ•è·ï¼Œå¹¶ä¸” Lambda åœ¨ç±»å‹æ£€æŸ¥ä¹‹åæ‰§è¡Œï¼ˆæˆ–å¹¶å‘æ‰§è¡Œï¼‰ï¼Œæ™ºèƒ½è½¬æ¢ä¹Ÿä¼šå¤±æ•ˆã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">var</span> x: Any = <span class="hljs-string">"Hello"</span>
<span class="hljs-keyword">if</span> (x <span class="hljs-keyword">is</span> String) {
    run {
        <span class="hljs-comment">// åœ¨æ™®é€šå†…è” Lambdaï¼ˆå¦‚ run, letï¼‰ä¸­é€šå¸¸æœ‰æ•ˆ</span>
        println(x.length)
    }
    <span class="hljs-comment">// ä½†å¦‚æœæ˜¯èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ç¨åæ‰§è¡Œçš„ Lambdaï¼Œå¯èƒ½å¤±æ•ˆï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•ä¿è¯æ‰§è¡Œæ—¶ x è¿˜æ˜¯ String</span>
}
</code></pre>
<h2 data-id="heading-55">ä¹ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-56">9.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾</h3>
<ol>
<li><strong><code>is</code> / <code>!is</code></strong>ï¼šè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œæ³›å‹å—é™ï¼ˆé™¤éç”¨ <code>reified</code>ï¼‰ã€‚</li>
<li><strong>æ™ºèƒ½è½¬æ¢ (Smart Cast)</strong>ï¼šKotlin çš„æ€æ‰‹çº§ç‰¹æ€§ï¼Œä¾èµ–ç¼–è¯‘å™¨çš„æ§åˆ¶æµåˆ†æã€‚</li>
<li><strong><code>as</code></strong>ï¼šä¸å®‰å…¨è½¬æ¢ï¼Œå¤±è´¥æŠ›å¼‚å¸¸ã€‚</li>
<li><strong><code>as?</code></strong>ï¼šå®‰å…¨è½¬æ¢ï¼Œå¤±è´¥è¿”å› <code>null</code>ã€‚</li>
</ol>
<h3 data-id="heading-57">9.2 ç±»å‹è½¬æ¢çš„æœ€ä½³é€‰å‹åŸåˆ™</h3>
<p>éµå¾ª <strong>â€œå®‰å…¨æ€§é€’å‡â€</strong> é¡ºåºï¼š</p>
<ol>
<li><strong>é¦–é€‰</strong>ï¼šä½¿ç”¨ <code>if (obj is T)</code> è§¦å‘æ™ºèƒ½è½¬æ¢ã€‚è¿™æ˜¯æœ€åœ°é“ï¼ˆIdiomaticï¼‰çš„ Kotlin å†™æ³•ã€‚</li>
<li><strong>æ¬¡é€‰</strong>ï¼šä½¿ç”¨ <code>obj as? T</code> é…åˆ <code>?:</code> å¤„ç†è½¬æ¢å’Œç©ºå€¼ã€‚é€‚ç”¨äºâ€œå°è¯•è½¬æ¢ï¼Œä¸è¡Œå°±ç®—äº†â€çš„åœºæ™¯ã€‚</li>
<li><strong>ç‰¹æ®Š</strong>ï¼šä½¿ç”¨ <code>inline reified</code> å¤„ç†æ³›å‹è½¬æ¢ã€‚</li>
<li><strong>æ…ç”¨</strong>ï¼š<code>obj as T</code>ã€‚é™¤éä½ æ„¿æ„æ‰¿æ‹… Crash çš„é£é™©ï¼Œæˆ–è€…åœ¨ç¼–å†™éå¸¸åº•å±‚çš„é€»è¾‘ã€‚</li>
</ol>
<h3 data-id="heading-58">9.3 ä»£ç ä¼˜åŒ–æŠ€å·§ï¼ˆåˆ©ç”¨æ™ºèƒ½è½¬æ¢ç®€åŒ–é€»è¾‘ï¼‰</h3>
<ul>
<li>
<p><strong>æ›¿ä»£æ˜¾å¼è½¬æ¢</strong>ï¼šæ°¸è¿œä¸è¦å†™ <code>if (x is String) { (x as String).length }</code>ï¼ŒIDE ä¼šè­¦å‘Šä½  <code>as</code> æ˜¯å¤šä½™çš„ã€‚</p>
</li>
<li>
<p><strong>æå‰è¿”å›ï¼ˆEarly Returnï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">(x: <span class="hljs-type">Any</span>)</span></span> {
    <span class="hljs-keyword">if</span> (x !<span class="hljs-keyword">is</span> String) <span class="hljs-keyword">return</span>
    <span class="hljs-comment">// ä¹‹åçš„ä»£ç ä¸­ï¼Œx è‡ªåŠ¨è¯†åˆ«ä¸º Stringï¼Œæ— éœ€åµŒå¥—</span>
    println(x.length)
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-59">9.4 ç±»å‹å®‰å…¨çš„ä¿éšœç­–ç•¥</h3>
<p>Kotlin ç±»å‹ç³»ç»Ÿçš„æ ¸å¿ƒç›®æ ‡æ˜¯â€œåœ¨ç¼–è¯‘æœŸæš´éœ²é—®é¢˜â€ã€‚</p>
<ul>
<li>åˆ©ç”¨ <strong>æ™ºèƒ½è½¬æ¢</strong> æ¶ˆé™¤è¿è¡Œæ—¶çš„ <code>ClassCastException</code>ã€‚</li>
<li>åˆ©ç”¨ <strong>ç©ºå®‰å…¨</strong> æ¶ˆé™¤è¿è¡Œæ—¶çš„ <code>NullPointerException</code>ã€‚</li>
<li>å°†è¿™ä¸‰è€…ç»“åˆï¼š<code>is</code> æ£€æµ‹ã€<code>as?</code> å®‰å…¨è½¬æ¢ã€ç©ºå€¼å¤„ç†ï¼Œæ„æˆäº† Kotlin åšå›ºçš„ç±»å‹å®‰å…¨é˜²çº¿ã€‚</li>
</ul>
<h2 data-id="heading-60">åï¼Œç»“è¯­</h2>
<p>Kotlin çš„ç±»å‹æ£€æŸ¥ä¸è½¬æ¢æœºåˆ¶ï¼Œçœ‹ä¼¼æ˜¯è¯­è¨€çš„â€œå°ç‰¹æ€§â€ï¼Œå´æ·±åˆ»ä½“ç°äº† Kotlin ç±»å‹å®‰å…¨ä¸è¡¨è¾¾åŠ›çš„æè‡´è¿½æ±‚ã€‚å®ƒè®©æ›¾ç»åœ¨ Java ä¸­ç¹çã€æ˜“å‡ºé”™çš„ instanceof + å¼ºåˆ¶è½¬æ¢ï¼Œå˜æˆäº†è‡ªç„¶æµç•…ã€å‡ ä¹â€œéšå½¢â€çš„ä»£ç ï¼Œè®©å¼€å‘è€…å¯ä»¥å°†ç²¾åŠ›å®Œå…¨æ”¾åœ¨ä¸šåŠ¡é€»è¾‘ä¸Šï¼Œè€ŒæŠŠç±»å‹å®‰å…¨çš„é‡æ‹…äº¤ç»™ç¼–è¯‘å™¨ã€‚</p>
<p>æŒæ¡æ™ºèƒ½è½¬æ¢ã€as? ä¸ reifiedï¼Œä½ ä¸ä»…èƒ½å†™å‡ºæ›´ç®€æ´ã€æ›´å®‰å…¨çš„ä»£ç ï¼Œæ›´èƒ½åœ¨é¢å¯¹å¤šæ€ã€æ³›å‹ã€JSON è§£æç­‰å¤æ‚åœºæ™¯æ—¶ï¼Œæ¸¸åˆƒæœ‰ä½™åœ°è®¾è®¡å‡ºä¼˜é›…ã€å¯ç»´æŠ¤çš„æ¶æ„ã€‚</p>
<p><strong>æœ€åé€ä¸Šä¸€å¥å¿ƒå¾—</strong>ï¼š</p>
<blockquote>
<p>å¥½çš„ç±»å‹è½¬æ¢ï¼Œä¸æ˜¯è®©ä½ åœ¨è¿è¡Œæ—¶æå¿ƒåŠèƒ†åœ°å¤„ç†å¼‚å¸¸ï¼Œè€Œæ˜¯è®©ä»£ç åœ¨ç¼–è¯‘æœŸå°±è‡ªç„¶è€Œç„¶åœ°â€œçŸ¥é“â€äº†æ­£ç¡®çš„ç±»å‹â€”â€”å› ä¸ºå®ƒä»¬å·²ç»èå…¥äº† Kotlin ç±»å‹ç³»ç»Ÿçš„è¡€è„‰ä¹‹ä¸­ã€‚</p>
</blockquote>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ åœ¨å®é™…é¡¹ç›®ä¸­æ›´è‡ªä¿¡åœ°è¿ç”¨ç±»å‹æ£€æŸ¥ä¸è½¬æ¢ï¼Œè®©ä½ çš„ Kotlin ä»£ç æ—¢å®‰å…¨æ— è™ï¼Œåˆä¼˜é›…ä»å®¹ã€‚</p>
<p>ç¥ä½ ç¼–ç æ„‰å¿«ï¼Œç±»å‹æ°¸å›ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[30. Kotlin æ‰©å±•ï¼šä¸ºâ€œè€ç±»â€æ·»â€œæ–°è¡£â€ï¼šæ‰©å±•å‡½æ•°ä¸æ‰©å±•å±æ€§]]></title>    <link>https://juejin.cn/post/7584780417103986728</link>    <guid>https://juejin.cn/post/7584780417103986728</guid>    <pubDate>2025-12-18T07:35:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584780417103986728" data-draft-id="7584997357444808744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="30. Kotlin æ‰©å±•ï¼šä¸ºâ€œè€ç±»â€æ·»â€œæ–°è¡£â€ï¼šæ‰©å±•å‡½æ•°ä¸æ‰©å±•å±æ€§"/> <meta itemprop="keywords" content="Android,Kotlin,åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:35:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Android_å°é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/220360279590862"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            30. Kotlin æ‰©å±•ï¼šä¸ºâ€œè€ç±»â€æ·»â€œæ–°è¡£â€ï¼šæ‰©å±•å‡½æ•°ä¸æ‰©å±•å±æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/220360279590862/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Android_å°é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:35:22.000Z" title="Thu Dec 18 2025 07:35:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»29åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>å¸Œæœ›å¸®ä½ åœ¨Kotlinè¿›é˜¶è·¯ä¸Šå°‘èµ°å¼¯è·¯ï¼Œåœ¨æŠ€æœ¯ä¸Šç¨³æ­¥æå‡ã€‚å½“ç„¶ï¼Œç”±äºä¸ªäººçŸ¥è¯†å‚¨å¤‡æœ‰é™ï¼Œç¬”è®°ä¸­éš¾å…å­˜åœ¨ç–æ¼æˆ–è¡¨è¿°ä¸å½“çš„åœ°æ–¹ï¼Œä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶æå‡ºå®è´µæ„è§ï¼Œä¸€èµ·äº¤æµè¿›æ­¥ã€‚ â€”â€” Android_å°é›¨</p>
</blockquote>
<p>æ•´ä½“ç›®å½•ï¼š<a href="https://juejin.cn/spost/7573592952242602036" target="_blank" title="https://juejin.cn/spost/7573592952242602036">Kotlin è¿›é˜¶ä¸è¿·è·¯ï¼š41 ä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ„å»ºå®Œæ•´çŸ¥è¯†ä½“ç³»</a></p>
<h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åœ¨ Java å¼€å‘æ—¶ä»£ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç¼–å†™å¤§é‡çš„ <code>Utils</code> ç±»ï¼ˆå¦‚ <code>StringUtils</code>, <code>DateUtils</code>, <code>FileUtils</code>ï¼‰ã€‚è°ƒç”¨æ—¶ä»£ç å¾€å¾€é•¿è¿™æ ·ï¼š<code>StringUtils.isEmpty(str)</code>ã€‚è¿™ç§å†™æ³•è™½ç„¶åŠŸèƒ½æ˜ç¡®ï¼Œä½†åœ¨é˜…è¯»ä½“éªŒä¸Šï¼Œä¸ä»…æ‰“æ–­äº†æ€ç»´æµï¼ˆä¸»è¯­å˜æˆäº†å·¥å…·ç±»è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼‰ï¼Œè€Œä¸”é€ æˆäº†ä»£ç çš„å†—ä½™ã€‚</p>
<p>Kotlin å¼•å…¥äº† <strong>æ‰©å±•ï¼ˆExtensionsï¼‰</strong> æœºåˆ¶ï¼Œå…è®¸æˆ‘ä»¬åœ¨ä¸ç»§æ‰¿ç±»ã€ä¸ä½¿ç”¨è£…é¥°è€…æ¨¡å¼çš„æƒ…å†µä¸‹ï¼Œå‘ä¸€ä¸ªç±»æ·»åŠ æ–°çš„åŠŸèƒ½ã€‚è¿™å°±åƒæ˜¯ç»™ä¸€ä¸ªå·²ç»å®šå‹çš„â€œè€ç±»â€ç©¿ä¸Šäº†ä¸€ä»¶â€œæ–°è¡£â€ï¼Œè®©å®ƒç„•å‘æ–°çš„æ´»åŠ›ã€‚</p>
<h3 data-id="heading-1">1.1 æ‰©å±•çš„æ ¸å¿ƒå®šä½</h3>
<p>æ‰©å±•çš„æ ¸å¿ƒå®šä½æ˜¯ <strong>â€œéä¾µå…¥å¼çš„åŠŸèƒ½å¢å¼ºâ€</strong>ã€‚
å®ƒä¸éœ€è¦ä½ æ‹¥æœ‰ç±»çš„æºç ï¼Œä¹Ÿä¸éœ€è¦ä½ ä¿®æ”¹ç±»çš„å®šä¹‰ã€‚æ— è®ºæ˜¯ JDK çš„ <code>String</code>ï¼Œè¿˜æ˜¯ Android çš„ <code>View</code>ï¼Œç”šè‡³æ˜¯ç¬¬ä¸‰æ–¹çš„é—­æºç±»ï¼Œä½ éƒ½å¯ä»¥é€šè¿‡æ‰©å±•ä¸ºå…¶æ·»åŠ â€œçœ‹ä¼¼åŸç”Ÿâ€çš„æ–¹æ³•æˆ–å±æ€§ã€‚</p>
<h3 data-id="heading-2">1.2 è®¾è®¡ä»·å€¼</h3>
<ol>
<li><strong>è§£è€¦</strong>ï¼šå°†éæ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘ä»ç±»å®šä¹‰ä¸­å‰¥ç¦»ï¼Œé¿å…â€œä¸Šå¸ç±»â€çš„å‡ºç°ã€‚</li>
<li><strong>å¤ç”¨</strong>ï¼šæ›¿ä»£ä¼ ç»Ÿçš„ <code>Utils</code> ç±»ï¼Œæä¾›æ›´ç¬¦åˆé¢å‘å¯¹è±¡ç›´è§‰çš„è°ƒç”¨æ–¹å¼ã€‚</li>
<li><strong>ç®€åŒ–ä»£ç </strong>ï¼šé…åˆ Lambda è¡¨è¾¾å¼å’Œé«˜é˜¶å‡½æ•°ï¼Œå¯ä»¥æ„å»ºå‡ºä¼˜é›…çš„ DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-3">1.3 ä¸ç»§æ‰¿ / è£…é¥°è€…æ¨¡å¼çš„åŒºåˆ«</h3>
<ul>
<li><strong>ç»§æ‰¿</strong>ï¼šéœ€è¦ä¿®æ”¹ç±»çš„å±‚çº§ç»“æ„ï¼Œä¸”å—é™äºâ€œå•ç»§æ‰¿â€ï¼›æ‰©å±•ä¸éœ€è¦ã€‚</li>
<li><strong>è£…é¥°è€…æ¨¡å¼</strong>ï¼šé€šè¿‡åŒ…è£…å¯¹è±¡æ¥å¢å¼ºåŠŸèƒ½ï¼Œè¿è¡Œæ—¶ä¼šæœ‰é¢å¤–çš„å¯¹è±¡åˆ›å»ºå¼€é”€ï¼›æ‰©å±•åœ¨ç¼–è¯‘å±‚é¢å¤„ç†ï¼Œæ€§èƒ½æŸè€—æä½ã€‚</li>
</ul>
<h3 data-id="heading-4">1.4 æ ¸å¿ƒå†…å®¹é¢„å‘Š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95d0253967994738a3c720c2da366291~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5kcm9pZF_lsI_pm6g=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648122&amp;x-signature=AREaDtJLYUTBoVFB%2BY9r8mGA9BE%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é‡ç‚¹äº®ç‚¹</strong>ï¼ˆå…¨æ–‡ç²¾åæ‰€åœ¨ï¼‰ï¼š</p>
<ol>
<li><strong>åº•å±‚åŸç†</strong>ï¼šæ‰©å±•æ˜¯é™æ€è§£æçš„è¯­æ³•ç³–ï¼ˆç¼–è¯‘ä¸ºé™æ€æ–¹æ³•ï¼‰ï¼Œä¸æ”¯æŒå¤šæ€ï¼›æˆå‘˜å‡½æ•°ä¼˜å…ˆé®è”½æ‰©å±•ï¼›æ‰©å±•å±æ€§æ— backing fieldï¼Œåªèƒ½è®¡ç®—å±æ€§ã€‚</li>
<li><strong>æ‰©å±•å‡½æ•°</strong>ï¼šè¯­æ³•ã€å¯ç©ºæ¥æ”¶è€…ã€æ³›å‹ï¼ˆå«çº¦æŸï¼‰ã€é™æ€è§£æç»å…¸åä¾‹ã€æˆå‘˜ä¼˜å…ˆçº§ã€å®æˆ˜ç¤ºä¾‹ï¼ˆå­—ç¬¦ä¸²ã€é›†åˆã€Androidï¼‰ã€‚</li>
<li><strong>æ‰©å±•å±æ€§</strong>ï¼šval/varåŒºåˆ«ã€æ³›å‹å±æ€§ã€å®æˆ˜è®¡ç®—å±æ€§ï¼ˆå¦‚dpè½¬æ¢ï¼‰ã€‚</li>
<li><strong>é«˜çº§ç”¨æ³•</strong>ï¼šä¼´ç”Ÿå¯¹è±¡æ‰©å±•ï¼ˆæ¨¡æ‹Ÿé™æ€ï¼‰ã€æ¥å£æ‰©å±•ï¼ˆä¼ªé»˜è®¤å®ç°ï¼‰ã€å¸¦æ¥æ”¶è€…Lambdaï¼ˆDSLåŸºçŸ³ï¼‰ã€æ¨¡å—åŒ–ç®¡ç†ã€‚</li>
<li><strong>å®æˆ˜åœºæ™¯</strong>ï¼šAndroidï¼ˆViewã€toastã€Composeï¼‰ã€æ•°æ®å¤„ç†ï¼ˆJSONã€æ—¥æœŸï¼‰ã€ç¬¬ä¸‰æ–¹åº“å¢å¼ºã€ä¸šåŠ¡è§£è€¦ã€‚</li>
<li><strong>é¿å‘æŒ‡å—</strong>ï¼šæ— å¤šæ€ã€å‘½åå†²çªã€ä¸èƒ½å­˜çŠ¶æ€ã€é¿å…è¿‡åº¦æ‰©å±•ã€æˆå‘˜é®è”½é£é™©ã€‚</li>
<li><strong>å¯¹æ¯”åˆ†æ</strong>ï¼šæ‰©å±• vs ç»§æ‰¿ vs è£…é¥°è€… vs æˆå‘˜å‡½æ•°ï¼ˆè¡¨æ ¼æ¸…æ™°ï¼‰ã€‚</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šä¼˜å…ˆæ‰©å±•é€šç”¨ç±»ã€æ–‡ä»¶åˆ†ç±»ã€å¯è§æ€§æ§åˆ¶ã€æ„å›¾ä¼˜å…ˆï¼Œè®©ä»£ç å¦‚è‡ªç„¶è¯­è¨€èˆ¬æµç•…ã€‚</li>
</ol>
<h2 data-id="heading-5">äºŒã€æ‰©å±•å‡½æ•°ï¼šä¸ºç±»æ·»åŠ æ–°æ–¹æ³•</h2>
<h3 data-id="heading-6">2.1 æ‰©å±•å‡½æ•°çš„æ ¸å¿ƒåŸç†</h3>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ Kotlin ä¸­è°ƒç”¨æ‰©å±•å‡½æ•°æ—¶ï¼Œçœ‹èµ·æ¥åƒæ˜¯è°ƒç”¨äº†æˆå‘˜å‡½æ•°ï¼Œä½† <strong>æ‰©å±•å‡½æ•°åœ¨å­—èŠ‚ç å±‚é¢å®é™…ä¸Šæ˜¯é™æ€æ–¹æ³•</strong>ã€‚</p>
<p>Kotlin ç¼–è¯‘å™¨ä¼šå°†æ‰©å±•å‡½æ•°ç”Ÿæˆä¸ºä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå¹¶å°†â€œæ¥æ”¶è€…ç±»å‹â€ï¼ˆReceiver Typeï¼‰çš„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ã€‚</p>
<ul>
<li><strong>éä¾µå…¥å¼</strong>ï¼šå®ƒæ²¡æœ‰ä¿®æ”¹åŸç±»çš„å­—èŠ‚ç ã€‚</li>
<li><strong>é™æ€è§£æ</strong>ï¼šè°ƒç”¨çš„å‡½æ•°åœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶é€šè¿‡è™šå‡½æ•°è¡¨æŸ¥æ‰¾ï¼ˆè¿™ä¸€ç‚¹åœ¨åæ–‡â€œé™æ€è§£æâ€ä¸­ä¼šé‡ç‚¹å±•å¼€ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-7">2.2 åŸºæœ¬è¯­æ³•ä¸å®šä¹‰è§„åˆ™</h3>
<h3 data-id="heading-8">2.2.1 é¡¶å±‚æ‰©å±•å‡½æ•°å®šä¹‰</h3>
<p>é€šå¸¸æˆ‘ä»¬å°†æ‰©å±•å‡½æ•°å®šä¹‰åœ¨é¡¶å±‚ï¼ˆTop-levelï¼‰ï¼Œä»¥ä¾¿åœ¨æ•´ä¸ªé¡¹ç›®ä¸­å¤ç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è¯­æ³•ï¼šfun æ¥æ”¶è€…ç±»å‹.å‡½æ•°å(å‚æ•°): è¿”å›å€¼</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> String.<span class="hljs-title">addExclamation</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-comment">// this å…³é”®å­—æŒ‡å‘æ¥æ”¶è€…å¯¹è±¡ï¼ˆå³è°ƒç”¨è¯¥å‡½æ•°çš„ String å®ä¾‹ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> + <span class="hljs-string">"!"</span>
}

<span class="hljs-comment">// è°ƒç”¨</span>
<span class="hljs-keyword">val</span> hello = <span class="hljs-string">"Hello"</span>.addExclamation() <span class="hljs-comment">// ç»“æœ: "Hello!"</span>
</code></pre>
<h3 data-id="heading-9">2.2.2 å±€éƒ¨æ‰©å±•å‡½æ•°å®šä¹‰</h3>
<p>æ‰©å±•å‡½æ•°ä¹Ÿå¯ä»¥å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»æˆ–å‡½æ•°å†…éƒ¨ï¼Œä½†è¿™ä¼šé™åˆ¶å…¶ä½œç”¨åŸŸï¼Œé€šå¸¸ç”¨äºç‰¹å®šçš„é€»è¾‘å°è£…ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰ï¼Œä»…åœ¨è¯¥ä½œç”¨åŸŸå¯è§ã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processList</span><span class="hljs-params">(list: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;?)</span></span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> List<span class="hljs-type">&lt;String&gt;</span>?.<span class="hljs-title">safeSize</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> = <span class="hljs-keyword">this</span>?.size ?: <span class="hljs-number">0</span>
    println(list.safeSize())
}
</code></pre>
<h3 data-id="heading-10">2.2.3 å¸¦å‚æ•° / è¿”å›å€¼çš„æ‰©å±•å‡½æ•°</h3>
<p>æ‰©å±•å‡½æ•°å’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œæ”¯æŒå‚æ•°ã€é»˜è®¤å‚æ•°å’Œè¿”å›å€¼ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸º MutableList æ·»åŠ äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> MutableList<span class="hljs-type">&lt;Int&gt;</span>.<span class="hljs-title">swap</span><span class="hljs-params">(index1: <span class="hljs-type">Int</span>, index2: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-keyword">val</span> tmp = <span class="hljs-keyword">this</span>[index1] <span class="hljs-comment">// 'this' å¯¹åº”è¯¥åˆ—è¡¨</span>
    <span class="hljs-keyword">this</span>[index1] = <span class="hljs-keyword">this</span>[index2]
    <span class="hljs-keyword">this</span>[index2] = tmp
}
</code></pre>
<h3 data-id="heading-11">2.3 æ‰©å±•å‡½æ•°çš„è°ƒç”¨ä¸è§£æè§„åˆ™</h3>
<h3 data-id="heading-12">2.3.1 æ™®é€šç±»çš„æ‰©å±•å‡½æ•°è°ƒç”¨</h3>
<p>ç›´æ¥é€šè¿‡å¯¹è±¡å®ä¾‹è°ƒç”¨ï¼ŒIDE ä¼šåƒæç¤ºæˆå‘˜å‡½æ•°ä¸€æ ·æç¤ºæ‰©å±•å‡½æ•°ï¼ˆé€šå¸¸ä¼šåŠ ç²—æˆ–ä»¥ä¸åŒé¢œè‰²æ˜¾ç¤ºï¼‰ã€‚</p>
<p>ç›´æ¥ç”¨ç‚¹å·è°ƒç”¨ï¼šstr.lastChar()</p>
<h3 data-id="heading-13">2.3.2 ç©ºç±»å‹çš„æ‰©å±•å‡½æ•°ï¼ˆå¯ç©ºæ¥æ”¶è€…ï¼‰</h3>
<p>Kotlin å…è®¸ä¸ºå¯ç©ºç±»å‹ï¼ˆNullable Typeï¼‰å®šä¹‰æ‰©å±•ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ <code>null</code> å¯¹è±¡ä¸Šè°ƒç”¨å‡½æ•°è€Œä¸ä¼šæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä»è€Œä¼˜é›…åœ°å¤„ç†ç©ºå€¼ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Any?.toString() çš„æ‰©å±•å®ç°ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Any?.<span class="hljs-title">safeToString</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"Is NULL"</span>
    <span class="hljs-comment">// åœ¨ç©ºæ£€æµ‹ä¹‹åï¼Œthis ä¼šè‡ªåŠ¨æ™ºèƒ½è½¬æ¢ä¸ºéç©ºç±»å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toString()
}

<span class="hljs-keyword">val</span> t: String? = <span class="hljs-literal">null</span>
println(t.safeToString()) <span class="hljs-comment">// è¾“å‡º: "Is NULL"ï¼Œä¸ä¼šå´©æºƒ</span>
</code></pre>
<h3 data-id="heading-14">2.3.3 é™æ€è§£æçš„ç‰¹æ€§ä¸æ³¨æ„äº‹é¡¹</h3>
<p><strong>è¿™æ˜¯æ‰©å±•å‡½æ•°æœ€é‡è¦çš„ç‰¹æ€§ï¼</strong>
æ‰©å±•å‡½æ•°æ˜¯ <strong>é™æ€åˆ†å‘</strong> çš„ï¼Œå³å…·ä½“è°ƒç”¨å“ªä¸ªå‡½æ•°ï¼Œç”± <strong>è°ƒç”¨è¯­å¥ä¸­è¡¨è¾¾å¼çš„ç¼–è¯‘æ—¶ç±»å‹</strong> å†³å®šï¼Œè€Œä¸æ˜¯ç”±è¡¨è¾¾å¼è¿è¡Œæ—¶çš„å®é™…å€¼ç±»å‹å†³å®šã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">open</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> : <span class="hljs-type">Shape</span>()

<span class="hljs-function"><span class="hljs-keyword">fun</span> Shape.<span class="hljs-title">getName</span><span class="hljs-params">()</span></span> = <span class="hljs-string">"Shape"</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Rectangle.<span class="hljs-title">getName</span><span class="hljs-params">()</span></span> = <span class="hljs-string">"Rectangle"</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printClassName</span><span class="hljs-params">(s: <span class="hljs-type">Shape</span>)</span></span> {
    <span class="hljs-comment">// å‚æ•° s çš„ç¼–è¯‘æ—¶ç±»å‹æ˜¯ Shapeï¼Œè™½ç„¶è¿è¡Œæ—¶å¯èƒ½æ˜¯ Rectangle</span>
    println(s.getName())
}

printClassName(Rectangle()) <span class="hljs-comment">// è¾“å‡º: "Shape"</span>
</code></pre>
<p><strong>ç»“è®º</strong>ï¼šæ‰©å±•å‡½æ•°ä¸å…·å¤‡å¤šæ€æ€§ï¼ˆPolymorphismï¼‰ã€‚</p>
<p>Kotlin æ‰©å±•å‡½æ•°æ˜¯é™æ€è§£æçš„ï¼šåœ¨ç¼–è¯‘æœŸæ ¹æ®æ¥æ”¶è€…çš„å£°æ˜ç±»å‹ï¼ˆé™æ€ç±»å‹ï¼‰å†³å®šè°ƒç”¨å“ªä¸ªæ‰©å±•å‡½æ•°ï¼Œè€Œä¸ä¼šæ ¹æ®è¿è¡Œæ—¶å®é™…ç±»å‹è¿›è¡ŒåŠ¨æ€åˆ†å‘ï¼Œå› æ­¤è¾“å‡º "Shape"ã€‚</p>
<h3 data-id="heading-15">2.4 æ‰©å±•å‡½æ•°çš„ä½œç”¨åŸŸä¸å¯¼å…¥</h3>
<h3 data-id="heading-16">2.4.1 ä¸åŒåŒ…ä¸‹æ‰©å±•å‡½æ•°çš„å¯¼å…¥</h3>
<p>å¦‚æœæ‰©å±•å‡½æ•°å®šä¹‰åœ¨å…¶ä»–åŒ…ä¸­ï¼Œå¿…é¡» <code>import</code> æ‰èƒ½ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.example.extensions.addExclamation
<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ * å¯¼å…¥æ‰€æœ‰</span>
<span class="hljs-keyword">import</span> com.example.extensions.*
</code></pre>
<h3 data-id="heading-17">2.4.2 åˆ«åå¯¼å…¥ï¼ˆè§£å†³å‘½åå†²çªï¼‰</h3>
<p>å¦‚æœä¸åŒåº“ä¸ºåŒä¸€ä¸ªç±»å®šä¹‰äº†åŒåçš„æ‰©å±•å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨ <code>as</code> å…³é”®å­—è¿›è¡Œåˆ«åå¯¼å…¥ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.example.libA.log <span class="hljs-keyword">as</span> logA
<span class="hljs-keyword">import</span> com.example.libB.log <span class="hljs-keyword">as</span> logB

<span class="hljs-string">"Test"</span>.logA()
<span class="hljs-string">"Test"</span>.logB()
</code></pre>
<h3 data-id="heading-18">2.5 æˆå‘˜å‡½æ•°ä¸æ‰©å±•å‡½æ•°çš„ä¼˜å…ˆçº§</h3>
<p>å¦‚æœä¸€ä¸ªç±»å®šä¹‰äº†ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼ŒåŒæ—¶ä¹Ÿå®šä¹‰äº†ä¸€ä¸ªåŒåã€åŒå‚æ•°ç­¾åçš„æ‰©å±•å‡½æ•°ï¼Œ<strong>æˆå‘˜å‡½æ•°æ€»æ˜¯ä¼˜å…ˆè¢«è°ƒç”¨</strong>ã€‚æ‰©å±•å‡½æ•°ä¼šè¢«â€œé®è”½â€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printFunction</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Class Method"</span>)  <span class="hljs-comment">// æˆå‘˜å‡½æ•°</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Example.<span class="hljs-title">printFunction</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Extension Method"</span>)  <span class="hljs-comment">// åŒåã€åŒç­¾åæ‰©å±•å‡½æ•°</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    Example().printFunction()  <span class="hljs-comment">// è¾“å‡º: Class Method</span>
}
</code></pre>
<p><em>æ³¨ï¼šå¦‚æœç­¾åä¸åŒï¼ˆä¾‹å¦‚å‚æ•°ä¸åŒï¼‰ï¼Œåˆ™å¯ä»¥å½¢æˆé‡è½½ã€‚</em></p>
<p>åœ¨ Kotlin ä¸­ï¼Œå½“ä¸€ä¸ªç±»ä¸­å­˜åœ¨æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸”å¤–éƒ¨åˆå®šä¹‰äº†åŒåã€åŒå‚æ•°ç­¾åçš„æ‰©å±•å‡½æ•°æ—¶ï¼Œæˆå‘˜å‡½æ•°æ€»æ˜¯ä¼˜å…ˆè¢«è°ƒç”¨ï¼Œæ‰©å±•å‡½æ•°ä¼šè¢«å®Œå…¨â€œé®è”½â€ï¼ˆshadowedï¼‰ï¼Œæ— æ³•é€šè¿‡æ™®é€šè°ƒç”¨è®¿é—®åˆ°ã€‚</p>
<p><strong>æˆå‘˜å‡½æ•° &gt; æ‰©å±•å‡½æ•°</strong>ï¼šå¦‚æœç­¾åå®Œå…¨ç›¸åŒï¼Œç¼–è¯‘å™¨ä¼šæ¯«ä¸çŠ¹è±«åœ°é€‰æ‹©ç±»å†…éƒ¨çš„æˆå‘˜å‡½æ•°ï¼Œæ‰©å±•å‡½æ•°ç›¸å½“äºâ€œä¸å­˜åœ¨â€ã€‚</p>
<p><strong>å¦‚æœç­¾åä¸åŒï¼šå½¢æˆé‡è½½</strong></p>
<p>å½“å‚æ•°åˆ—è¡¨ä¸åŒæ—¶ï¼Œæˆå‘˜å‡½æ•°å’Œæ‰©å±•å‡½æ•°å¯ä»¥å…±å­˜ï¼Œå½¢æˆ<strong>é‡è½½</strong>ï¼ˆoverloadï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printFunction</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Class Method (no param)"</span>)
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printFunction</span><span class="hljs-params">(msg: <span class="hljs-type">String</span>)</span></span> = println(<span class="hljs-string">"Class Method: <span class="hljs-variable">$msg</span>"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Example.<span class="hljs-title">printFunction</span><span class="hljs-params">(count: <span class="hljs-type">Int</span>)</span></span> = println(<span class="hljs-string">"Extension Method: <span class="hljs-variable">$count</span>"</span>)

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> obj = Example()
    obj.printFunction()              <span class="hljs-comment">// Class Method (no param)</span>
    obj.printFunction(<span class="hljs-string">"Hello"</span>)       <span class="hljs-comment">// Class Method: Hello</span>
    obj.printFunction(<span class="hljs-number">42</span>)            <span class="hljs-comment">// Extension Method: 42</span>
}
</code></pre>
<p>æ­¤æ—¶æ ¹æ®å®å‚ç±»å‹ï¼Œç¼–è¯‘å™¨ä¼šæ­£ç¡®é€‰æ‹©å¯¹åº”çš„å‡½æ•°ã€‚</p>
<p>æ€»ç»“ï¼š<strong>æˆå‘˜å‡½æ•°å…·æœ‰ç»å¯¹ä¼˜å…ˆçº§</strong>ï¼Œè¿™æ˜¯ Kotlin è¯­è¨€è®¾è®¡ä¸­ä¿æŠ¤ç±»å°è£…æ€§çš„é‡è¦æœºåˆ¶ã€‚</p>
<h3 data-id="heading-19">2.6 æ³›å‹æ‰©å±•å‡½æ•°</h3>
<h3 data-id="heading-20">2.6.1 æ³›å‹æ‰©å±•å‡½æ•°å®šä¹‰</h3>
<p>Kotlin çš„æ‰©å±•å‡½æ•°ç»“åˆæ³›å‹ï¼Œå¯ä»¥ä¸ºä»»æ„ç±»å‹ï¼ˆåŒ…æ‹¬å†…ç½®ç±»å‹ã€è‡ªå®šä¹‰ç±»ã€ç¬¬ä¸‰æ–¹åº“ç±»ï¼‰ç»Ÿä¸€æ·»åŠ é€šç”¨è¡Œä¸ºã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šä¸ºæ‰€æœ‰ç±»å‹æ·»åŠ  easyPrint æ‰©å±•</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸ºæ‰€æœ‰ç±»å‹æ·»åŠ ä¸€ä¸ªæ‰“å°æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> T.<span class="hljs-title">easyPrint</span><span class="hljs-params">()</span></span>: T {
    println(<span class="hljs-keyword">this</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
<p><strong>ç”¨æ³•æ¼”ç¤º</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-string">"Hello Kotlin"</span>.easyPrint()          <span class="hljs-comment">// è¾“å‡º: Hello Kotlin</span>
    <span class="hljs-number">42.</span>easyPrint()                      <span class="hljs-comment">// è¾“å‡º: 42</span>
    listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>).easyPrint()         <span class="hljs-comment">// è¾“å‡º: [1, 2, 3]</span>
    <span class="hljs-literal">true</span>.easyPrint()                     <span class="hljs-comment">// è¾“å‡º: true</span>

    <span class="hljs-comment">// é“¾å¼è°ƒç”¨ï¼ˆè¿”å› thisï¼Œéå¸¸å®ç”¨ï¼‰</span>
    <span class="hljs-string">"Result: "</span>.easyPrint()
        .plus(<span class="hljs-number">100.</span>easyPrint())
        .easyPrint()                    <span class="hljs-comment">// è¾“å‡º: Result: 100Result: 100</span>
}
</code></pre>
<h3 data-id="heading-21">2.6.2 å¸¦æ³›å‹çº¦æŸçš„æ‰©å±•å‡½æ•°</h3>
<p>Kotlin å…è®¸åœ¨æ³›å‹æ‰©å±•å‡½æ•°ä¸­æ·»åŠ <strong>ç±»å‹ä¸Šç•Œçº¦æŸ</strong>ï¼ˆupper boundsï¼‰ï¼Œä»è€Œé™åˆ¶æ¥æ”¶è€…ç±»å‹å¿…é¡»å®ç°æŸä¸ªæ¥å£æˆ–ç»§æ‰¿æŸä¸ªç±»ã€‚è¿™èƒ½ç¡®ä¿æ‰©å±•å‡½æ•°å†…éƒ¨å®‰å…¨åœ°è°ƒç”¨çº¦æŸç±»å‹çš„æ–¹æ³•ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯ï¼ŒåŒæ—¶ä¿æŒæ³›å‹çš„çµæ´»æ€§ã€‚</p>
<p><strong>ç»å…¸ç¤ºä¾‹ï¼šæ¯”è¾ƒå¤§å°</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åªæœ‰å®ç°äº† Comparable æ¥å£çš„ç±»å‹æ‰èƒ½è°ƒç”¨æ­¤æ‰©å±•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : Comparable&lt;T&gt;</span>&gt; T.<span class="hljs-title">isGreaterThan</span><span class="hljs-params">(other: <span class="hljs-type">T</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.compareTo(other) &gt; <span class="hljs-number">0</span>
}
</code></pre>
<p><strong>ç”¨æ³•æ¼”ç¤º</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    println(<span class="hljs-number">10.</span>isGreaterThan(<span class="hljs-number">5</span>))     <span class="hljs-comment">// true</span>
    println(<span class="hljs-number">3.14</span>.isGreaterThan(<span class="hljs-number">2.71</span>)) <span class="hljs-comment">// true</span>
    println(<span class="hljs-string">"kotlin"</span>.isGreaterThan(<span class="hljs-string">"java"</span>)) <span class="hljs-comment">// trueï¼ˆæŒ‰å­—å…¸åºï¼‰</span>

    <span class="hljs-comment">// println(true.isGreaterThan(false)) // ç¼–è¯‘é”™è¯¯ï¼Boolean æœªå®ç° Comparable&lt;Boolean&gt;</span>
}
</code></pre>
<p><strong>æ›´å¤šå®æˆ˜çº¦æŸç¤ºä¾‹</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">**<span class="hljs-comment">//1.çº¦æŸä¸º Numberï¼ˆæ•°å€¼ç±»å‹å¸¸ç”¨ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : Number&gt;</span> T.<span class="hljs-title">toIntSafely</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toInt()  <span class="hljs-comment">// Number æä¾›äº† toInt()ã€toDouble() ç­‰</span>
}

println(<span class="hljs-number">3.9</span>.toIntSafely())  <span class="hljs-comment">// 3</span>
println(<span class="hljs-number">100L</span>.toIntSafely()) <span class="hljs-comment">// 100</span>

<span class="hljs-comment">//2.çº¦æŸä¸º CharSequenceï¼ˆå­—ç¬¦ä¸²ç›¸å…³ç±»å‹é€šç”¨ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : CharSequence&gt;</span> T.<span class="hljs-title">isBlankOrEmpty</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isBlank() || <span class="hljs-keyword">this</span>.isEmpty()
}

<span class="hljs-string">"Hello"</span>.isBlankOrEmpty()      <span class="hljs-comment">// false</span>
<span class="hljs-string">"   "</span>.isBlankOrEmpty()        <span class="hljs-comment">// true</span>
StringBuilder(<span class="hljs-string">"test"</span>).isBlankOrEmpty() <span class="hljs-comment">// false</span>

<span class="hljs-comment">//3.å¤šä¸ªä¸Šç•Œçº¦æŸï¼ˆä½¿ç”¨ whereï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> T.<span class="hljs-title">formatAsString</span><span class="hljs-params">()</span></span> <span class="hljs-keyword">where</span> T : Comparable&lt;T&gt;, T : CharSequence {
    <span class="hljs-comment">// æ—¢èƒ½æ¯”è¾ƒï¼Œåˆèƒ½å½“ä½œæ–‡æœ¬å¤„ç†</span>
    println(<span class="hljs-string">"Value: <span class="hljs-variable">$this</span>, length: <span class="hljs-subst">${this.length}</span>"</span>)
}
<span class="hljs-comment">//å°è´´å£«</span>
<span class="hljs-comment">//æœ€å¸¸è§çš„çº¦æŸæ˜¯ Comparable&lt;T&gt;ã€Numberã€CharSequenceã€Appendableã€‚</span>
<span class="hljs-comment">//çº¦æŸåï¼Œthis å¯ä»¥å®‰å…¨è°ƒç”¨ä¸Šç•Œç±»å‹çš„æ‰€æœ‰æˆå‘˜ã€‚</span>
<span class="hljs-comment">//å¦‚æœæ²¡æœ‰çº¦æŸï¼Œé»˜è®¤ä¸Šç•Œæ˜¯ Any?ï¼ŒåŠŸèƒ½æœ€å¼±ã€‚**</span>
</code></pre>
<h3 data-id="heading-22">2.7 æ‰©å±•å‡½æ•°çš„å®æˆ˜ç¤ºä¾‹</h3>
<h3 data-id="heading-23">2.7.1 å­—ç¬¦ä¸²æ‰©å±•ï¼ˆå¦‚ç©ºå€¼å¤„ç†ã€æ ¼å¼åŒ–ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®‰å…¨ç©ºå€¼å¤„ç†</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> String?.<span class="hljs-title">orDefault</span><span class="hljs-params">(default: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>)</span></span>: String = <span class="hljs-keyword">this</span> ?: default

<span class="hljs-comment">// é¦–å­—æ¯å¤§å†™</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> String.<span class="hljs-title">capitalizeFirst</span><span class="hljs-params">()</span></span>: String = 
    replaceFirstChar { <span class="hljs-keyword">if</span> (it.isLowerCase()) it.titlecase() <span class="hljs-keyword">else</span> it.toString() }

<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©ºç™½ï¼ˆåŒ…æ‹¬å…¨ç©ºæ ¼ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> String?.<span class="hljs-title">isNullOrBlank</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> = <span class="hljs-keyword">this</span>.isNullOrBlank()
</code></pre>
<h3 data-id="heading-24">2.7.2 é›†åˆæ‰©å±•ï¼ˆå¦‚è¿‡æ»¤ã€è½¬æ¢ã€å®‰å…¨è®¿é—®ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®‰å…¨å–ç¬¬äºŒä¸ªå…ƒç´ </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> List<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">secondOrNull</span><span class="hljs-params">()</span></span>: T? = <span class="hljs-keyword">if</span> (size &gt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">this</span>[<span class="hljs-number">1</span>] <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span>

<span class="hljs-comment">// è¿‡æ»¤éç©ºå…ƒç´ ï¼ˆå¸¸ç”¨äº List&lt;String?&gt;ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> List<span class="hljs-type">&lt;T?&gt;</span>.<span class="hljs-title">filterNotNullSafe</span><span class="hljs-params">()</span></span>: List&lt;T&gt; = filterNotNull()

<span class="hljs-comment">// è½¬æˆé€—å·åˆ†éš”å­—ç¬¦ä¸²</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Iterable<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">joinWithComma</span><span class="hljs-params">()</span></span>: String = joinToString(<span class="hljs-string">", "</span>)

<span class="hljs-comment">// å®‰å…¨æ‰§è¡Œï¼ˆé¿å…ç©ºåˆ—è¡¨æŠ›å¼‚å¸¸ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> List<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">firstOrDefault</span><span class="hljs-params">(default: <span class="hljs-type">T</span>)</span></span>: T = firstOrNull() ?: default
</code></pre>
<h3 data-id="heading-25">2.7.3 è‡ªå®šä¹‰ç±»æ‰©å±•ï¼ˆä¸šåŠ¡åœºæ™¯ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸º Context æ·»åŠ ç®€æ˜“ Toast</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Context.<span class="hljs-title">toast</span><span class="hljs-params">(message: <span class="hljs-type">String</span>, duration: <span class="hljs-type">Int</span> = Toast.LENGTH_SHORT)</span></span> {
    Toast.makeText(<span class="hljs-keyword">this</span>, message, duration).show()
}

<span class="hljs-comment">// ä¸º View æ·»åŠ å¯è§æ€§å¿«æ·æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">visible</span><span class="hljs-params">()</span></span> { visibility = View.VISIBLE }
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">invisible</span><span class="hljs-params">()</span></span> { visibility = View.INVISIBLE }
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">gone</span><span class="hljs-params">()</span></span> { visibility = View.GONE }

<span class="hljs-comment">// ä¸ºä»»ä½•å¯¹è±¡æ·»åŠ æ—¥å¿—æ‰“å°ï¼ˆå¸¦ç±»åï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> T.<span class="hljs-title">log</span><span class="hljs-params">(tag: <span class="hljs-type">String</span> = <span class="hljs-string">"DEBUG"</span>)</span></span>: T {
    println(<span class="hljs-string">"<span class="hljs-variable">$tag</span>: <span class="hljs-variable">$this</span>"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}
</code></pre>
<h3 data-id="heading-26"><strong>2.7.4 å…¶ä»–å®ç”¨æ‰©å±•</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é€šç”¨é“¾å¼æ‰“å°ï¼ˆç±»ä¼¼ easyPrintï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> T.<span class="hljs-title">easyPrint</span><span class="hljs-params">(prefix: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>)</span></span>: T = apply { println(<span class="hljs-string">"<span class="hljs-variable">$prefix</span><span class="hljs-variable">$this</span>"</span>) }

<span class="hljs-comment">// é‡å¤æ‰§è¡Œæ¬¡æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-built_in">Int</span>.<span class="hljs-title">times</span><span class="hljs-params">(action: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    repeat(<span class="hljs-keyword">this</span>) { action() }
}

<span class="hljs-comment">// 5.times { println("Hello") } â†’ æ‰“å° 5 æ¬¡</span>
</code></pre>
<p>è¿™äº›æ‰©å±•å‡½æ•°åœ¨å®é™…é¡¹ç›®ä¸­èƒ½æ˜¾è‘—æå‡ä»£ç çš„å¯è¯»æ€§å’Œç®€æ´æ€§ã€‚å»ºè®®å°†å¸¸ç”¨æ‰©å±•æŒ‰åŠŸèƒ½åˆ†ç±»æ”¾å…¥ç‹¬ç«‹æ–‡ä»¶ï¼ˆå¦‚ StringExt.ktã€CollectionExt.ktï¼‰ï¼Œä¾¿äºç»´æŠ¤å’Œå¯¼å…¥ã€‚</p>
<p><strong>å®æˆ˜å»ºè®®</strong>ï¼šå¤šç”¨æ³›å‹ + çº¦æŸç¼–å†™é€šç”¨æ‰©å±•ï¼Œå°‘å†™é’ˆå¯¹å•ä¸€ç±»å‹çš„é‡å¤ä»£ç ã€‚åˆç†ä½¿ç”¨æ‰©å±•ï¼Œèƒ½è®©ä½ çš„ Kotlin ä»£ç æ›´â€œè¡Œäº‘æµæ°´â€ã€‚</p>
<h2 data-id="heading-27">ä¸‰ã€æ‰©å±•å±æ€§ï¼šä¸ºç±»æ·»åŠ æ–°å±æ€§</h2>
<h3 data-id="heading-28">3.1 æ‰©å±•å±æ€§çš„æ ¸å¿ƒé™åˆ¶</h3>
<p>ä¸æ‰©å±•å‡½æ•°ä¸åŒï¼Œ<strong>æ‰©å±•å±æ€§ä¸èƒ½æ‹¥æœ‰å¹•åå­—æ®µï¼ˆbacking fieldï¼‰</strong>ã€‚è¿™æ˜¯å› ä¸ºæ‰©å±•å±æ€§å¹¶ä¸æ˜¯çœŸæ­£æ’å…¥åˆ°ç±»ä¸­çš„æˆå‘˜ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„é™æ€æ–¹æ³•ï¼ˆgetter/setterï¼‰ã€‚å› æ­¤ï¼š</p>
<ul>
<li>ä¸èƒ½ä½¿ç”¨å­—æ®µåˆå§‹åŒ–å™¨ï¼ˆå¦‚ val String.name = "default"ï¼‰ã€‚</li>
<li>ä¸èƒ½åœ¨å±æ€§å†…éƒ¨ç›´æ¥å¼•ç”¨ fieldã€‚</li>
<li>å±æ€§å€¼æ— æ³•â€œå­˜å‚¨â€çŠ¶æ€ï¼Œåªèƒ½é€šè¿‡è®¡ç®—æˆ–æ“ä½œæ¥æ”¶è€…å¯¹è±¡æ¥å®ç°ã€‚</li>
</ul>
<p>è¿™å†³å®šäº†æ‰©å±•å±æ€§æœ¬è´¨ä¸Šæ˜¯<strong>è®¡ç®—å±æ€§</strong>ã€‚</p>
<h3 data-id="heading-29">3.2 åŸºæœ¬è¯­æ³•ä¸å®šä¹‰è§„åˆ™</h3>
<h3 data-id="heading-30">3.2.1 åªè¯»æ‰©å±•å±æ€§ï¼ˆvalï¼‰å®šä¹‰</h3>
<p>åªè¯»æ‰©å±•å±æ€§ä½¿ç”¨ val å£°æ˜ï¼Œå¿…é¡»æä¾›è‡ªå®šä¹‰ getterã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> String.lastChar: <span class="hljs-built_in">Char</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.<span class="hljs-keyword">get</span>(length - <span class="hljs-number">1</span>)

<span class="hljs-comment">// ä½¿ç”¨</span>
println(<span class="hljs-string">"Kotlin"</span>.lastChar)  <span class="hljs-comment">// è¾“å‡º: 'n'</span>
</code></pre>
<h3 data-id="heading-31">3.2.2 å¯å˜æ‰©å±•å±æ€§ï¼ˆvarï¼‰çš„é™åˆ¶ä¸å®ç°</h3>
<p>å¯å˜æ‰©å±•å±æ€§ä½¿ç”¨ var å£°æ˜ï¼Œ<strong>å¿…é¡»åŒæ—¶æä¾› getter å’Œ setter</strong>ï¼ˆä¸èƒ½åªæä¾› getterï¼‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">var</span> StringBuilder.lastChar: <span class="hljs-built_in">Char</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">get</span>(length - <span class="hljs-number">1</span>)
    <span class="hljs-keyword">set</span>(value: <span class="hljs-built_in">Char</span>) {
        <span class="hljs-keyword">this</span>.setCharAt(length - <span class="hljs-number">1</span>, value)
    }

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">val</span> sb = StringBuilder(<span class="hljs-string">"Kotlin"</span>)
println(sb.lastChar)     <span class="hljs-comment">// 'n'</span>
sb.lastChar = <span class="hljs-string">'N'</span>
println(sb)              <span class="hljs-comment">// "KotliN"</span>
</code></pre>
<p>æ³¨æ„ï¼š<code>setter</code> ä¸­ä¸èƒ½å­˜å‚¨å€¼åˆ°â€œå­—æ®µâ€ï¼Œåªèƒ½é€šè¿‡æ“ä½œæ¥æ”¶è€…å¯¹è±¡ï¼ˆå¦‚ä¸Šé¢çš„ä¿®æ”¹å­—ç¬¦ï¼‰æ¥ä½“ç°â€œå¯å˜â€è¡Œä¸ºã€‚å¦‚æœæ²¡æœ‰å¯ä¿®æ”¹çš„çŠ¶æ€ï¼Œå»ºè®®ä¸è¦å®šä¹‰ var æ‰©å±•å±æ€§ã€‚</p>
<h3 data-id="heading-32">3.3 æ‰©å±•å±æ€§çš„åˆå§‹åŒ–ä¸è®¡ç®—é€»è¾‘</h3>
<p>æ‰©å±•å±æ€§æœ¬è´¨ä¸Šæ˜¯<strong>å‡½æ•°çš„è¯­æ³•ç³–</strong>ï¼š</p>
<ul>
<li><code>val</code> å±æ€§ â†’ ç¼–è¯‘åç”Ÿæˆä¸€ä¸ªé™æ€çš„ <code>getXxx(receiver): ReturnType</code> æ–¹æ³•ã€‚</li>
<li><code>var</code> å±æ€§ â†’ ç”Ÿæˆ g<code>etXxx(receiver)</code> å’Œ <code>setXxx(receiver, value)</code> ä¸¤ä¸ªé™æ€æ–¹æ³•ã€‚</li>
</ul>
<p>å› æ­¤ï¼š</p>
<ul>
<li><strong>æ¯æ¬¡è®¿é—®å±æ€§éƒ½ä¼šé‡æ–°æ‰§è¡Œ getter é€»è¾‘</strong>ï¼Œä¸ä¼šç¼“å­˜ç»“æœã€‚</li>
<li>å¦‚æœè®¡ç®—å¼€é”€å¤§ï¼Œå¯è€ƒè™‘ä½¿ç”¨ lazy æˆ–å…¶ä»–ç¼“å­˜æœºåˆ¶ï¼Œä½†é€šå¸¸ä¸æ¨èåœ¨æ‰©å±•å±æ€§ä¸­å¼•å…¥å¤–éƒ¨çŠ¶æ€ï¼ˆå¦‚ Map å­˜å‚¨ï¼‰ã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼šéç¼“å­˜è¡Œä¸º</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> String.randomInfo: String
    <span class="hljs-keyword">get</span>() = <span class="hljs-string">"Random: <span class="hljs-subst">${kotlin.random.Random.nextInt()}</span>"</span>

println(<span class="hljs-string">"test"</span>.randomInfo)  <span class="hljs-comment">// æ¯æ¬¡è¾“å‡ºä¸åŒçš„éšæœºæ•°</span>
println(<span class="hljs-string">"test"</span>.randomInfo)
</code></pre>
<h3 data-id="heading-33">3.4 æ‰©å±•å±æ€§çš„ä½œç”¨åŸŸä¸å¯¼å…¥</h3>
<p>ä¸æ‰©å±•å‡½æ•°å®Œå…¨ä¸€è‡´ï¼š</p>
<ul>
<li>å®šä¹‰åœ¨é¡¶å±‚ã€ç±»å†…éƒ¨ã€å‡½æ•°å†…éƒ¨å‡å¯ã€‚</li>
<li>ä¸åŒåŒ…ä¸‹ä½¿ç”¨éœ€æ˜¾å¼å¯¼å…¥ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.example.extensions.lastChar  <span class="hljs-comment">// å¯¼å…¥å…·ä½“å±æ€§</span>
<span class="hljs-comment">// æˆ–</span>
<span class="hljs-keyword">import</span> com.example.extensions.*         <span class="hljs-comment">// å¯¼å…¥æ‰€æœ‰æ‰©å±•</span>
</code></pre>
<h3 data-id="heading-34">3.5 æ³›å‹æ‰©å±•å±æ€§</h3>
<p>æ‰©å±•å±æ€§åŒæ ·æ”¯æŒæ³›å‹ï¼Œè¯­æ³•ä¸æ³›å‹æ‰©å±•å‡½æ•°ç±»ä¼¼ï¼šæ³›å‹å‚æ•°æ”¾åœ¨å±æ€§å£°æ˜å‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> &lt;T&gt; List&lt;T&gt;.lastIndex: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">get</span>() = size - <span class="hljs-number">1</span>

<span class="hljs-comment">// ä½¿ç”¨</span>
println(listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>).lastIndex)  <span class="hljs-comment">// 2</span>
println(emptyList&lt;<span class="hljs-built_in">Int</span>&gt;().lastIndex) <span class="hljs-comment">// -1</span>
</code></pre>
<p>æ›´å¤šæ³›å‹ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®‰å…¨è·å–æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆå¯èƒ½ä¸º nullï¼‰</span>
<span class="hljs-keyword">val</span> &lt;T&gt; List&lt;T&gt;.lastOrNull: T?
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (isEmpty()) <span class="hljs-literal">null</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>[lastIndex]

<span class="hljs-comment">// åªè¯»é›†åˆçš„å…ƒç´ æ•°é‡æè¿°</span>
<span class="hljs-keyword">val</span> &lt;T&gt; Collection&lt;T&gt;.countDescription: String
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">when</span> (size) {
        <span class="hljs-number">0</span> -&gt; <span class="hljs-string">"empty"</span>
        <span class="hljs-number">1</span> -&gt; <span class="hljs-string">"single element"</span>
        <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"<span class="hljs-variable">$size</span> elements"</span>
    }
</code></pre>
<h3 data-id="heading-35">3.6 æ‰©å±•å±æ€§çš„å®æˆ˜ç¤ºä¾‹</h3>
<p>æ‰©å±•å±æ€§åœ¨å®é™…å¼€å‘ä¸­éå¸¸å®ç”¨ï¼Œå°¤å…¶é€‚åˆä¸ºç°æœ‰ç±»æ·»åŠ <strong>åªè¯»çš„è®¡ç®—å‹å±æ€§</strong>ï¼Œè®©ä»£ç æ›´å…·è¡¨è¾¾åŠ›ã€‚ä¸‹é¢æŒ‰ç±»åˆ«ç»™å‡ºå¸¸è§ä¸”å®ç”¨çš„æ‰©å±•å±æ€§ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-36"><strong>3.6.1 å­—ç¬¦ä¸²æ‰©å±•å±æ€§ï¼ˆå¦‚é•¿åº¦åˆ¤æ–­ã€é¦–å­—æ¯ã€å•è¯å¤„ç†ç­‰ï¼‰</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæˆ–ä»…åŒ…å«ç©ºç™½å­—ç¬¦</span>
<span class="hljs-keyword">val</span> String.isBlankOrEmpty: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.isBlank() || <span class="hljs-keyword">this</span>.isEmpty()

<span class="hljs-comment">// å­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºä¸”ä¸ç©ºç™½ï¼ˆå¸¸ç”¨åˆ¤æ–­ï¼‰</span>
<span class="hljs-keyword">val</span> String.isNotBlankOrEmpty: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.isNotBlank()

<span class="hljs-comment">// é¦–å­—æ¯ï¼ˆè‹¥ä¸ºç©ºä¸²åˆ™è¿”å› nullï¼‰</span>
<span class="hljs-keyword">val</span> String.firstChar: <span class="hljs-built_in">Char</span>?
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isEmpty()) <span class="hljs-literal">null</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]

<span class="hljs-comment">// æœ«å°¾å­—ç¬¦</span>
<span class="hljs-keyword">val</span> String.lastChar: <span class="hljs-built_in">Char</span>?
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isEmpty()) <span class="hljs-literal">null</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>[lastIndex]

<span class="hljs-comment">// ç¬¬ä¸€ä¸ªå•è¯ï¼ˆä»¥ç©ºæ ¼åˆ†éš”ï¼‰</span>
<span class="hljs-keyword">val</span> String.firstWord: String
    <span class="hljs-keyword">get</span>() {
        <span class="hljs-keyword">val</span> index = <span class="hljs-keyword">this</span>.indexOf(<span class="hljs-string">' '</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (index == -<span class="hljs-number">1</span>) <span class="hljs-keyword">this</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.substring(<span class="hljs-number">0</span>, index)
    }

<span class="hljs-comment">// æ˜¯å¦å…¨ä¸ºæ•°å­—</span>
<span class="hljs-keyword">val</span> String.isNumeric: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.all { it.isDigit() }

<span class="hljs-comment">// å»é™¤é¦–å°¾ç©ºç™½åçš„å­—ç¬¦ä¸²ï¼ˆè®¡ç®—å±æ€§ï¼Œé¿å…æ¯æ¬¡è°ƒç”¨ trim()ï¼‰</span>
<span class="hljs-keyword">val</span> String.trimmed: String
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.trim()
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">println(<span class="hljs-string">"  Hello World  "</span>.firstWord)      <span class="hljs-comment">// "Hello"</span>
println(<span class="hljs-string">"Kotlin"</span>.firstChar)               <span class="hljs-comment">// 'K'</span>
println(<span class="hljs-string">""</span>.isBlankOrEmpty)                <span class="hljs-comment">// true</span>
println(<span class="hljs-string">"12345"</span>.isNumeric)                <span class="hljs-comment">// true</span>
</code></pre>
<h3 data-id="heading-37"><strong>3.6.2 é›†åˆæ‰©å±•å±æ€§ï¼ˆå¦‚å…ƒç´ æ•°é‡ç»Ÿè®¡ã€çŠ¶æ€åˆ¤æ–­ï¼‰</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é›†åˆæ˜¯å¦æœ‰å†…å®¹ï¼ˆè¯­ä¹‰æ›´æ¸…æ™°ï¼‰</span>
<span class="hljs-keyword">val</span> &lt;T&gt; Collection&lt;T&gt;.hasContent: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.isNotEmpty()

<span class="hljs-comment">// æ˜¯å¦åªæœ‰ä¸€ä¸ªå…ƒç´ </span>
<span class="hljs-keyword">val</span> &lt;T&gt; Collection&lt;T&gt;.isSingle: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.size == <span class="hljs-number">1</span>

<span class="hljs-comment">// ç¬¬äºŒä¸ªå…ƒç´ ï¼ˆè‹¥ä¸å­˜åœ¨åˆ™ nullï¼‰</span>
<span class="hljs-keyword">val</span> &lt;T&gt; List&lt;T&gt;.secondOrNull: T?
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.size &gt;= <span class="hljs-number">2</span>) <span class="hljs-keyword">this</span>[<span class="hljs-number">1</span>] <span class="hljs-keyword">else</span> <span class="hljs-literal">null</span>

<span class="hljs-comment">// æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼ˆç©ºåˆ—è¡¨è¿”å› -1ï¼‰</span>
<span class="hljs-keyword">val</span> &lt;T&gt; List&lt;T&gt;.lastIndexSafe: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.size - <span class="hljs-number">1</span>

<span class="hljs-comment">// é›†åˆå¤§å°çš„æ–‡å­—æè¿°</span>
<span class="hljs-keyword">val</span> &lt;T&gt; Collection&lt;T&gt;.sizeDescription: String
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>.size) {
        <span class="hljs-number">0</span> -&gt; <span class="hljs-string">"empty"</span>
        <span class="hljs-number">1</span> -&gt; <span class="hljs-string">"single element"</span>
        <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"<span class="hljs-subst">${this.size}</span> elements"</span>
    }

<span class="hljs-comment">// Map æ˜¯å¦æœ‰é”®å€¼å¯¹</span>
<span class="hljs-keyword">val</span> &lt;K, V&gt; Map&lt;K, V&gt;.hasEntries: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.isNotEmpty()
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> list = listOf(<span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"cherry"</span>)
println(list.hasContent)          <span class="hljs-comment">// true</span>
println(list.isSingle)            <span class="hljs-comment">// false</span>
println(list.secondOrNull)        <span class="hljs-comment">// "banana"</span>
println(emptyList&lt;<span class="hljs-built_in">Int</span>&gt;().sizeDescription)  <span class="hljs-comment">// "empty"</span>
</code></pre>
<h3 data-id="heading-38"><strong>3.6.3 è‡ªå®šä¹‰ç±»æ‰©å±•å±æ€§ï¼ˆä¸šåŠ¡åœºæ™¯å¸¸è§ï¼‰</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸ºä»»ä½•å¯¹è±¡æ·»åŠ ç±»åå±æ€§ï¼ˆè°ƒè¯•å¸¸ç”¨ï¼‰</span>
<span class="hljs-keyword">val</span> Any.className: String
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>::<span class="hljs-keyword">class</span>.simpleName ?: <span class="hljs-string">"Anonymous"</span>

<span class="hljs-comment">// ä¸º View æ·»åŠ æ˜¯å¦å¯è§çš„è¯­ä¹‰å±æ€§</span>
<span class="hljs-keyword">val</span> View.isReallyVisible: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.visibility == View.VISIBLE

<span class="hljs-comment">// ä¸º Context åˆ¤æ–­æ˜¯å¦æ˜¯æš—è‰²æ¨¡å¼ï¼ˆAndroidï¼‰</span>
<span class="hljs-keyword">val</span> Context.isDarkMode: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = resources.configuration.uiMode and 
             Configuration.UI_MODE_NIGHT_MASK == Configuration.UI_MODE_NIGHT_YES

<span class="hljs-comment">// ä¸º Fragment åˆ¤æ–­æ˜¯å¦å·²é™„åŠ åˆ° Activity</span>
<span class="hljs-keyword">val</span> Fragment.isAttachedSafe: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>.isAdded &amp;&amp; <span class="hljs-keyword">this</span>.activity != <span class="hljs-literal">null</span>
</code></pre>
<h2 data-id="heading-39">å››ã€æ‰©å±•çš„é«˜çº§ç”¨æ³•</h2>
<p>Kotlin çš„æ‰©å±•æœºåˆ¶ä¸ä»…é™äºæ™®é€šå®ä¾‹ï¼Œè¿˜æ”¯æŒä¸€äº›æ›´é«˜çº§çš„åœºæ™¯ï¼Œèƒ½è®©ä»£ç è®¾è®¡æ›´çµæ´»ã€æ›´æ¥è¿‘åŸç”Ÿæˆå‘˜çš„æ„Ÿè§‰ã€‚</p>
<hr/>
<h3 data-id="heading-40">4.1 æ‰©å±•ä¼´ç”Ÿå¯¹è±¡</h3>
<p>å¦‚æœä¸€ä¸ªç±»å®šä¹‰äº† <strong>companion object</strong>ï¼ˆä¼´ç”Ÿå¯¹è±¡ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶å®šä¹‰æ‰©å±•å‡½æ•°å’Œæ‰©å±•å±æ€§ã€‚è°ƒç”¨æ—¶æ— éœ€æ˜¾å¼å¼•ç”¨ <code>Companion</code>ï¼Œç›´æ¥é€šè¿‡ç±»åè®¿é—®ï¼Œçœ‹èµ·æ¥å°±åƒä¸ºç±»æ·»åŠ äº†<strong>é™æ€æ–¹æ³•</strong>æˆ–<strong>é™æ€å±æ€§</strong>ä¸€æ ·ã€‚</p>
<p><strong>æ³¨æ„</strong>ï¼šç±»å¿…é¡»æ˜¾å¼å£°æ˜ <code>companion object</code>ï¼ˆå³ä½¿æ˜¯ç©ºçš„ï¼‰ï¼Œå¦åˆ™æ— æ³•æ‰©å±•ä¼´ç”Ÿå¯¹è±¡ã€‚</p>
<h3 data-id="heading-41">4.1.1 ä¼´ç”Ÿå¯¹è±¡çš„æ‰©å±•å‡½æ•°</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> { }  <span class="hljs-comment">// å¿…é¡»å­˜åœ¨ï¼Œå“ªæ€•ä¸ºç©º</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> MyClass.Companion.<span class="hljs-title">create</span><span class="hljs-params">()</span></span>: MyClass {
    println(<span class="hljs-string">"Creating instance via companion extension"</span>)
    <span class="hljs-keyword">return</span> MyClass()
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> MyClass.Companion.<span class="hljs-title">log</span><span class="hljs-params">(message: <span class="hljs-type">String</span>)</span></span> {
    println(<span class="hljs-string">"Static log: <span class="hljs-variable">$message</span>"</span>)
}

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼ï¼ˆåƒé™æ€æ–¹æ³•ä¸€æ ·ï¼‰</span>
MyClass.create()  <span class="hljs-comment">// è¾“å‡º: Creating instance via companion extension</span>
MyClass.log(<span class="hljs-string">"Hello"</span>)  <span class="hljs-comment">// è¾“å‡º: Static log: Hello</span>
</code></pre>
<p>è¿™åœ¨å®é™…å¼€å‘ä¸­éå¸¸å¸¸è§ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æä¾›å·¥å‚æ–¹æ³•ï¼šMyClass.fromJson(json)</li>
<li>æä¾›å·¥å…·æ–¹æ³•ï¼šMyClass.defaultConfig()</li>
</ul>
<h3 data-id="heading-42">4.1.2 ä¼´ç”Ÿå¯¹è±¡çš„æ‰©å±•å±æ€§</h3>
<p>åŒæ ·å¯ä»¥ä¸ºä¼´ç”Ÿå¯¹è±¡æ·»åŠ æ‰©å±•å±æ€§ï¼Œå¸¸ç”¨äºæä¾›â€œä¼ªé™æ€â€å¸¸é‡æˆ–åŠ¨æ€è®¡ç®—å€¼ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> { }
}

<span class="hljs-keyword">val</span> MyClass.Companion.version: String
    <span class="hljs-keyword">get</span>() = <span class="hljs-string">"1.0.0"</span>

<span class="hljs-keyword">var</span> MyClass.Companion.instanceCount: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
    <span class="hljs-keyword">get</span>() = field
    <span class="hljs-keyword">set</span>(value) { field = value }  <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œå¯ä»¥ä½¿ç”¨ backing fieldï¼</span>

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼</span>
println(MyClass.version)        <span class="hljs-comment">// è¾“å‡º: 1.0.0</span>
MyClass.instanceCount += <span class="hljs-number">1</span>
println(MyClass.instanceCount)  <span class="hljs-comment">// è¾“å‡º: 1</span>
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š
ä¼´ç”Ÿå¯¹è±¡çš„æ‰©å±•å±æ€§<strong>å¯ä»¥æœ‰å¹•åå­—æ®µ</strong>ï¼ˆbacking fieldï¼‰ï¼Œå› ä¸ºå®ƒæœ¬è´¨ä¸Šæ˜¯æ‰©å±•åœ¨ Companion è¿™ä¸ªçœŸå®å¯¹è±¡ä¸Šï¼Œè€Œä¸æ˜¯åƒå®ä¾‹æ‰©å±•å±æ€§é‚£æ ·æ— çŠ¶æ€ã€‚</p>
<p>è¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆå®ç°ï¼š</p>
<ul>
<li>å•ä¾‹æ¨¡å¼ï¼ˆlazy instanceï¼‰</li>
<li>å…¨å±€è®¡æ•°å™¨</li>
<li>é…ç½®ä¿¡æ¯</li>
</ul>
<h3 data-id="heading-43">4.1.3<strong>å®æˆ˜ç¤ºä¾‹ï¼šç»“åˆä½¿ç”¨å®ç°ç®€æ˜“å•ä¾‹</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseHelper</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> { }  <span class="hljs-comment">// ç§æœ‰æ„é€  + ä¼´ç”Ÿå¯¹è±¡</span>

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>: DatabaseHelper = instance

    <span class="hljs-comment">// ä½¿ç”¨ä¼´ç”Ÿå¯¹è±¡æ‰©å±•å®ç°æ‡’åŠ è½½å•ä¾‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> instance: DatabaseHelper <span class="hljs-keyword">by</span> lazy {
        DatabaseHelper()
    }
}

<span class="hljs-comment">// æ›´ä¼˜é›…å†™æ³•ï¼šç›´æ¥æ‰©å±•ä¼´ç”Ÿå¯¹è±¡</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> DatabaseHelper.Companion.<span class="hljs-title">get</span><span class="hljs-params">()</span></span>: DatabaseHelper = 
    DatabaseHelper()  <span class="hljs-comment">// æˆ–ç»“åˆ lazy å®ç°</span>

<span class="hljs-comment">// è°ƒç”¨</span>
<span class="hljs-keyword">val</span> db = DatabaseHelper.<span class="hljs-keyword">get</span>()
</code></pre>
<p><strong>å°è´´å£«</strong></p>
<ul>
<li>å³ä½¿ä¼´ç”Ÿå¯¹è±¡ä¸ºç©ºï¼ˆ<code>companion object {}</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥æ‰©å±•ã€‚</li>
<li>å¦‚æœä¼´ç”Ÿå¯¹è±¡æœ‰åå­—ï¼ˆå¦‚ companion object Factoryï¼‰ï¼Œæ‰©å±•æ—¶ä»ä½¿ç”¨ ClassName.Companionï¼Œä¸ä¼šç”¨åå­—ã€‚</li>
<li>è¿™ç§æ–¹å¼æ˜¯ Kotlin ä¸­æ¨¡æ‹Ÿâ€œé™æ€æˆå‘˜â€çš„æ¨èåšæ³•ï¼Œæ¯” <code>@JvmStatic</code> æ›´è‡ªç„¶ã€æ›´çµæ´»ã€‚</li>
</ul>
<h3 data-id="heading-44">4.2 æ‰©å±•æ¥å£ä¸æŠ½è±¡ç±»</h3>
<p>Kotlin å…è®¸ä¸º<strong>æ¥å£</strong>å’Œ<strong>æŠ½è±¡ç±»</strong>å®šä¹‰æ‰©å±•å‡½æ•°ä¸æ‰©å±•å±æ€§ã€‚è¿™æ˜¯ä¸€é¡¹æä¸ºå¼ºå¤§çš„ç‰¹æ€§ï¼šä¸€æ—¦ä¸ºæ¥å£æ·»åŠ æ‰©å±•ï¼Œæ‰€æœ‰å®ç°è¯¥æ¥å£çš„ç±»éƒ½ä¼š<strong>è‡ªåŠ¨è·å¾—</strong>è¿™äº›æ–°æˆå‘˜ï¼Œæ— éœ€åœ¨æ¯ä¸ªå®ç°ç±»ä¸­é‡å¤ä»£ç ã€‚</p>
<p>è¿™ç›¸å½“äºä¸ºæ¥å£æä¾›äº†<strong>é»˜è®¤å®ç°</strong>ï¼Œä½†æ¯” Java 8 çš„é»˜è®¤æ–¹æ³•æ›´çµæ´»ï¼ˆå› ä¸ºæ‰©å±•ä¸çœŸæ­£ä¿®æ”¹æ¥å£ï¼Œä¸”æ”¯æŒå±æ€§ï¼‰ã€‚</p>
<h3 data-id="heading-45">4.2.1 æ¥å£æ‰©å±•å‡½æ•°çš„å®ç°ä¸è°ƒç”¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">CanFly</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fly</span><span class="hljs-params">()</span></span>  <span class="hljs-comment">// æŠ½è±¡æ–¹æ³•</span>
}

<span class="hljs-comment">// ä¸º CanFly æ¥å£æ·»åŠ æ‰©å±•å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> CanFly.<span class="hljs-title">flyToSpace</span><span class="hljs-params">()</span></span> {
    println(<span class="hljs-string">"Preparing rocket engines..."</span>)
    println(<span class="hljs-string">"Launching to space..."</span>)
    <span class="hljs-keyword">this</span>.fly()  <span class="hljs-comment">// è°ƒç”¨æ¥å£åŸæœ‰çš„ fly æ–¹æ³•</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> CanFly.<span class="hljs-title">describeAbility</span><span class="hljs-params">()</span></span> = <span class="hljs-string">"I can fly and reach great heights!"</span>

<span class="hljs-comment">// å®ç°ç±»è‡ªåŠ¨ç»§æ‰¿è¿™äº›æ‰©å±•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Bird</span> : <span class="hljs-type">CanFly</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fly</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"Flapping wings and soaring!"</span>)
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Airplane</span> : <span class="hljs-type">CanFly</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fly</span><span class="hljs-params">()</span></span> {
        println(<span class="hljs-string">"Engines roaring, taking off!"</span>)
    }
}

<span class="hljs-comment">// è°ƒç”¨ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> bird = Bird()
    <span class="hljs-keyword">val</span> plane = Airplane()

    bird.flyToSpace()
    <span class="hljs-comment">// è¾“å‡º:</span>
    <span class="hljs-comment">// Preparing rocket engines...</span>
    <span class="hljs-comment">// Launching to space...</span>
    <span class="hljs-comment">// Flapping wings and soaring!</span>

    plane.flyToSpace()
    <span class="hljs-comment">// è¾“å‡ºç›¸åŒçš„å‰ä¸¤è¡Œï¼Œç„¶å:</span>
    <span class="hljs-comment">// Engines roaring, taking off!</span>

    println(bird.describeAbility())  <span class="hljs-comment">// I can fly and reach great heights!</span>
}
</code></pre>
<p><strong>å…³é”®ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰å®ç°ç±»æ— éœ€ä¿®æ”¹å³å¯è·å¾—æ–°åŠŸèƒ½ã€‚</li>
<li>å¯ç»„åˆå¤šä¸ªæ‰©å±•ï¼Œæä¾›ä¸°å¯Œçš„é€šç”¨è¡Œä¸ºã€‚</li>
<li>å¸¸ç”¨äºåº“è®¾è®¡ï¼šä¸ºå…¬å…±æ¥å£ç»Ÿä¸€æ·»åŠ æ—¥å¿—ã€æ ¡éªŒã€è½¬æ¢ç­‰è¾…åŠ©æ–¹æ³•ã€‚</li>
</ul>
<h3 data-id="heading-46">4.2.2 æŠ½è±¡ç±»æ‰©å±•çš„ç‰¹æ€§</h3>
<p>æŠ½è±¡ç±»çš„æ‰©å±•ä¸æ™®é€šç±»å®Œå…¨ä¸€è‡´ï¼Œä¹Ÿæ”¯æŒé™æ€è§£æã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Vehicle</span> {
    <span class="hljs-keyword">abstract</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Vehicle.<span class="hljs-title">startEngine</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Engine started!"</span>)
<span class="hljs-function"><span class="hljs-keyword">fun</span> Vehicle.<span class="hljs-title">stopEngine</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Engine stopped!"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> : <span class="hljs-type">Vehicle</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">move</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Driving on road"</span>)
}

<span class="hljs-comment">// Car è‡ªåŠ¨è·å¾— startEngine å’Œ stopEngine</span>
</code></pre>
<h3 data-id="heading-47">4.3 å¸¦æ¥æ”¶è€…çš„å‡½æ•°å­—é¢å€¼ï¼ˆä¸æ‰©å±•çš„ç»“åˆï¼‰</h3>
<p>Kotlin æ”¯æŒ<strong>å¸¦æ¥æ”¶è€…çš„å‡½æ•°ç±»å‹</strong>ï¼ˆfunction type with receiverï¼‰ï¼Œè¯­æ³•ä¸º ReceiverType.() -&gt; ReturnTypeã€‚</p>
<p>è¿™æ­£æ˜¯æ‰©å±•å‡½æ•°ä¸ Lambda ç»“åˆçš„äº§ç‰©ï¼Œæ˜¯æ„å»º**é¢†åŸŸç‰¹å®šè¯­è¨€ï¼ˆDSLï¼‰**çš„æ ¸å¿ƒæœºåˆ¶ã€‚è‘—åä¾‹å­åŒ…æ‹¬ Ankoï¼ˆAndroid UIï¼‰ã€Kotlin HTML DSLã€Jetpack Compose çš„ UI æ„å»ºç­‰ã€‚</p>
<p><strong>åŸºæœ¬è¯­æ³•ä¸åŸç†</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å‡½æ•°ç±»å‹ï¼šHTML.() -&gt; Unit è¡¨ç¤ºä¸€ä¸ªåœ¨ HTML æ¥æ”¶è€…ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„ Lambda</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">html</span><span class="hljs-params">(<span class="hljs-keyword">init</span>: <span class="hljs-type">HTML</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span>: HTML {
    <span class="hljs-keyword">val</span> html = HTML()
    html.<span class="hljs-keyword">init</span>()  <span class="hljs-comment">// è°ƒç”¨ Lambdaï¼Œthis éšå¼æŒ‡å‘ html å®ä¾‹</span>
    <span class="hljs-keyword">return</span> html
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">HTML</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">head</span><span class="hljs-params">(<span class="hljs-keyword">init</span>: <span class="hljs-type">Head</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span> { <span class="hljs-comment">/* ... */</span> }
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">body</span><span class="hljs-params">(<span class="hljs-keyword">init</span>: <span class="hljs-type">Body</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span> { <span class="hljs-comment">/* ... */</span> }
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">toString</span><span class="hljs-params">()</span></span>: String = <span class="hljs-string">"&lt;html&gt;...&lt;/html&gt;"</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Head</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">title</span><span class="hljs-params">(text: <span class="hljs-type">String</span>)</span></span> { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Body</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">div</span><span class="hljs-params">(<span class="hljs-keyword">init</span>: <span class="hljs-type">Div</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span> { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Div</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">text</span><span class="hljs-params">(content: <span class="hljs-type">String</span>)</span></span> { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
<h3 data-id="heading-48">DSL ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> page = html {
    <span class="hljs-comment">// this == html å®ä¾‹ï¼Œå¯ç›´æ¥è°ƒç”¨ headã€body</span>
    head {
        title(<span class="hljs-string">"My Page"</span>)
    }
    body {
        div {
            text(<span class="hljs-string">"Welcome to Kotlin DSL!"</span>)
        }
    }
}

println(page)  <span class="hljs-comment">// ç”Ÿæˆå¯¹åº”çš„ HTML ç»“æ„</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆå¼ºå¤§ï¼Ÿ</strong></p>
<ul>
<li>Lambda å†…éƒ¨å¯ä»¥åƒè°ƒç”¨æˆå‘˜ä¸€æ ·ç›´æ¥è®¿é—®æ¥æ”¶è€…çš„æ–¹æ³•ï¼ˆæ— éœ€ it. æˆ– this. å‰ç¼€ï¼‰ã€‚</li>
<li>æ”¯æŒåµŒå¥—ç»“æ„ï¼Œè‡ªç„¶è¡¨è¾¾å±‚æ¬¡å…³ç³»ã€‚</li>
<li>ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æœŸæ£€æŸ¥æ‰€æœ‰è°ƒç”¨æ˜¯å¦åˆæ³•ã€‚</li>
</ul>
<h3 data-id="heading-49">ä¸æ‰©å±•å‡½æ•°çš„æ·±åº¦ç»“åˆ</h3>
<p>å¸¸å°†æ‰©å±•å‡½æ•°ç”¨ä½œ DSL ä¸­çš„â€œæ„å»ºå—â€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> Body.<span class="hljs-title">h1</span><span class="hljs-params">(text: <span class="hljs-type">String</span>)</span></span> = div { <span class="hljs-comment">/* åˆ›å»º h1 å…ƒç´  */</span> }
<span class="hljs-function"><span class="hljs-keyword">fun</span> Body.<span class="hljs-title">p</span><span class="hljs-params">(text: <span class="hljs-type">String</span>)</span></span> = div { <span class="hljs-comment">/* åˆ›å»º p å…ƒç´  */</span> }

<span class="hljs-comment">// ä½¿ç”¨æ—¶æ›´æµç•…</span>
body {
    h1(<span class="hljs-string">"Title"</span>)
    p(<span class="hljs-string">"This is a paragraph."</span>)
}
</code></pre>
<p><strong>æ€»ç»“è¿™ä¸€èŠ‚</strong>ï¼š</p>
<ul>
<li>æ¥å£æ‰©å±•æä¾›â€œé»˜è®¤è¡Œä¸ºæ³¨å…¥â€ï¼Œæå¤§æå‡æ¥å£çš„å®ç”¨æ€§ã€‚</li>
<li>å¸¦æ¥æ”¶è€…çš„å‡½æ•°å­—é¢å€¼ + æ‰©å±•å‡½æ•°æ˜¯ Kotlin DSL çš„åŸºçŸ³ï¼Œè®©å¤æ‚é…ç½®å’Œæ„å»ºè¿‡ç¨‹å˜å¾—ç±»å‹å®‰å…¨ä¸”ä¼˜é›…å¯è¯»ã€‚</li>
</ul>
<h3 data-id="heading-50">4.4 æ‰©å±•çš„å°è£…ä¸æ¨¡å—åŒ–</h3>
<p>éšç€é¡¹ç›®è§„æ¨¡å¢å¤§ï¼Œæ‰©å±•å‡½æ•°å’Œæ‰©å±•å±æ€§çš„æ•°é‡ä¼šè¿…é€Ÿå¢åŠ ã€‚å¦‚æœéšæ„æ•£è½åœ¨å„ä¸ªæ–‡ä»¶ä¸­ï¼Œä¼šå¯¼è‡´ä»£ç æ··ä¹±ã€éš¾ä»¥ç»´æŠ¤ã€‚å› æ­¤ï¼Œåˆç†çš„å°è£…å’Œæ¨¡å—åŒ–ç®¡ç†æ˜¯ä½¿ç”¨æ‰©å±•çš„å¿…å¤‡ç´ å…»ã€‚</p>
<h3 data-id="heading-51">4.4.1 æ‰©å±•æ”¾åœ¨å•ç‹¬æ–‡ä»¶ä¸­ç®¡ç†</h3>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šå°†æ‰©å±•æŒ‰<strong>æ¥æ”¶è€…ç±»å‹</strong>æˆ–<strong>åŠŸèƒ½åŸŸ</strong>åˆ†ç±»ï¼Œé›†ä¸­æ”¾åœ¨ç‹¬ç«‹çš„ Kotlin æ–‡ä»¶ä¸­ã€‚è¿™æ ·æ—¢ä¾¿äºæŸ¥æ‰¾ï¼Œä¹Ÿæœ‰åˆ©äºå›¢é˜Ÿåä½œå’Œä»£ç å®¡æŸ¥ã€‚</p>
<p>å¸¸è§æ–‡ä»¶å‘½åä¸ç»„ç»‡æ–¹å¼ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">extensions/
â”œâ”€â”€ StringExtensions.kt          <span class="hljs-comment">// æ‰€æœ‰ String ç›¸å…³çš„æ‰©å±•</span>
â”œâ”€â”€ CharSequenceExtensions.kt    <span class="hljs-comment">// CharSequence åŠå…¶å­ç±»é€šç”¨æ‰©å±•</span>
â”œâ”€â”€ CollectionExtensions.kt      <span class="hljs-comment">// Listã€Setã€Iterable ç­‰é›†åˆæ‰©å±•</span>
â”œâ”€â”€ MapExtensions.kt             <span class="hljs-comment">// Map ä¸“ç”¨æ‰©å±•</span>
â”œâ”€â”€ ViewExtensions.kt            <span class="hljs-comment">// Android Viewã€ViewGroup ç›¸å…³ï¼ˆAndroid é¡¹ç›®ï¼‰</span>
â”œâ”€â”€ ContextExtensions.kt         <span class="hljs-comment">// Contextã€Activityã€Fragment æ‰©å±•</span>
â”œâ”€â”€ LifecycleExtensions.kt       <span class="hljs-comment">// Jetpack Lifecycle ç›¸å…³</span>
â”œâ”€â”€ CoroutineExtensions.kt       <span class="hljs-comment">// åç¨‹ç›¸å…³å·¥å…·æ‰©å±•</span>
â”œâ”€â”€ DateTimeExtensions.kt        <span class="hljs-comment">// LocalDateTimeã€Instant ç­‰æ—¶é—´æ‰©å±•</span>
â””â”€â”€ UtilsExtensions.kt           <span class="hljs-comment">// æ‚é¡¹æˆ–é¡¹ç›®ç‰¹å®šæ‰©å±•</span>
</code></pre>
<p>ç¤ºä¾‹ï¼š<code>StringExtensions.kt</code> å†…å®¹</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.example.extensions

<span class="hljs-keyword">val</span> String.lastChar: <span class="hljs-built_in">Char</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span>[lastIndex]

<span class="hljs-function"><span class="hljs-keyword">fun</span> String.<span class="hljs-title">capitalizeFirst</span><span class="hljs-params">()</span></span>: String =
    replaceFirstChar { <span class="hljs-keyword">if</span> (it.isLowerCase()) it.titlecase() <span class="hljs-keyword">else</span> it.toString() }

<span class="hljs-function"><span class="hljs-keyword">fun</span> String?.<span class="hljs-title">orDefault</span><span class="hljs-params">(default: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>)</span></span>: String = <span class="hljs-keyword">this</span> ?: default
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ç»“æ„æ¸…æ™°ï¼ŒæŒ‰éœ€å¯¼å…¥ã€‚</li>
<li>é¿å…å•ä¸ªæ–‡ä»¶è¿‡å¤§ã€‚</li>
<li>ä¾¿äºå•å…ƒæµ‹è¯•ï¼ˆå¯é’ˆå¯¹æ‰©å±•æ–‡ä»¶å•ç‹¬æµ‹è¯•ï¼‰ã€‚</li>
<li>æ–°æˆå‘˜åŠ å…¥æ—¶å®šä½æˆæœ¬ä½ã€‚</li>
</ul>
<h3 data-id="heading-52">4.4.2 æ‰©å±•çš„è®¿é—®ä¿®é¥°ç¬¦</h3>
<p>æ‰©å±•å‡½æ•°å’Œæ‰©å±•å±æ€§å’Œæ™®é€šé¡¶å±‚å‡½æ•°ä¸€æ ·ï¼Œæ”¯æŒ Kotlin çš„æ‰€æœ‰å¯è§æ€§ä¿®é¥°ç¬¦ã€‚åˆç†ä½¿ç”¨å¯è§æ€§å¯ä»¥æœ‰æ•ˆæ§åˆ¶æ‰©å±•çš„æš´éœ²èŒƒå›´ï¼Œé¿å…ä¸å¿…è¦çš„å…¨å±€æ±¡æŸ“ã€‚</p>
<ul>
<li>
<p><strong><code>public</code></strong>ï¼ˆé»˜è®¤ï¼‰ï¼šä»»ä½•åœ°æ–¹éƒ½å¯ä»¥å¯¼å…¥å¹¶ä½¿ç”¨ã€‚é€‚ç”¨äºé€šç”¨å·¥å…·æ‰©å±•ã€æ ‡å‡†åº“é£æ ¼å¢å¼ºã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> Context.<span class="hljs-title">toast</span><span class="hljs-params">(message: <span class="hljs-type">String</span>)</span></span> { ... }
</code></pre>
</li>
<li>
<p><strong><code>internal</code></strong>ï¼šä»…åœ¨åŒä¸€ <strong>module</strong> å†…å¯è§ã€‚é€‚åˆé¡¹ç›®å†…éƒ¨å…±äº«ï¼Œä½†ä¸å¸Œæœ›æš´éœ²ç»™å…¶ä»– moduleï¼ˆå¦‚å¤šæ¨¡å—é¡¹ç›®ä¸­çš„ common æ¨¡å—ï¼‰ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">internal</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">visibleIf</span><span class="hljs-params">(condition: <span class="hljs-type">Boolean</span>)</span></span> {
    visibility = <span class="hljs-keyword">if</span> (condition) View.VISIBLE <span class="hljs-keyword">else</span> View.GONE
}
</code></pre>
</li>
<li>
<p><strong><code>private</code></strong>ï¼šä»…åœ¨<strong>å½“å‰æ–‡ä»¶</strong>å†…å¯è§ã€‚é€‚åˆæ–‡ä»¶å†…éƒ¨çš„è¾…åŠ©æ‰©å±•ï¼Œä¸å¸Œæœ›è¢«å¤–éƒ¨ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> String.<span class="hljs-title">stripHtmlTags</span><span class="hljs-params">()</span></span>: String { ... }  <span class="hljs-comment">// åªåœ¨æœ¬æ–‡ä»¶å…¶ä»–æ‰©å±•ä¸­ä½¿ç”¨</span>
</code></pre>
</li>
<li>
<p><strong><code>protected</code></strong>ï¼šä¸é€‚ç”¨äºé¡¶å±‚æ‰©å±•ï¼ˆåªæœ‰ç±»æˆå‘˜æ‰èƒ½ç”¨ protectedï¼‰ã€‚</p>
</li>
</ul>
<p><strong>å®æˆ˜å»ºè®®ï¼š</strong></p>
<ul>
<li>ç¬¬ä¸‰æ–¹åº“æˆ–é€šç”¨å·¥å…·æ‰©å±• â†’ public</li>
<li>é¡¹ç›®å†…éƒ¨ç‰¹å®šæ¨¡å—å…±äº«æ‰©å±• â†’ internal</li>
<li>ä¸´æ—¶æˆ–æ–‡ä»¶å†…éƒ¨è¾…åŠ©æ‰©å±• â†’ private</li>
<li>é¿å…å…¨éƒ¨ä½¿ç”¨ publicï¼Œé˜²æ­¢å‘½åå†²çªå’Œ API è†¨èƒ€ã€‚</li>
</ul>

ğŸ’¡
<p>ä¼˜ç§€çš„æ‰©å±•ç®¡ç†ä½“ç°åœ¨ï¼š</p>
<ul>
<li><strong>åˆ†ç±»å­˜æ”¾</strong>ï¼šæŒ‰åŠŸèƒ½æˆ–ç±»å‹æ‹†åˆ†æ–‡ä»¶ã€‚</li>
<li><strong>æ§åˆ¶å¯è§æ€§</strong>ï¼šç”¨ internal å’Œ private é™åˆ¶æš´éœ²èŒƒå›´ã€‚</li>
<li><strong>å‘½åè§„èŒƒ</strong>ï¼šæ–‡ä»¶å’Œæ‰©å±•å‡½æ•°åæ¸…æ™°ã€ä¸€è‡´</li>
</ul>

<h2 data-id="heading-53">äº”ã€æ‰©å±•çš„å®æˆ˜åœºæ™¯</h2>
<p>Kotlin æ‰©å±•æœºåˆ¶åœ¨å®é™…é¡¹ç›®ä¸­å¤§æ”¾å¼‚å½©ï¼Œå°¤å…¶é€‚åˆé‚£äº›<strong>æ— æ³•ä¿®æ”¹æºç </strong>ä½†åˆå¸Œæœ›å¢å¼ºåŠŸèƒ½çš„åœºæ™¯ã€‚ä¸‹é¢åˆ—å‡ºå‡ ä¸ªå…¸å‹å®æˆ˜é¢†åŸŸï¼Œå±•ç¤ºæ‰©å±•å¦‚ä½•æ˜¾è‘—æå‡ä»£ç çš„å¯è¯»æ€§ã€ç®€æ´æ€§å’Œç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-54">5.1 Android å¼€å‘ä¸­çš„æ‰©å±•ï¼ˆå¦‚ Viewã€Context æ‰©å±•ï¼‰</h3>
<p>Android åŸç”Ÿ API è®¾è®¡è¾ƒè€ï¼Œå¾ˆå¤šæ“ä½œå†—é•¿ç¹çï¼Œæ‰©å±•å‡½æ•°/å±æ€§æ˜¯ Android Kotlin å¼€å‘è€…çš„â€œæ•ˆç‡ç¥å™¨â€ã€‚</p>
<p>å¸¸è§æ‰©å±•ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// View å¯è§æ€§å¿«æ·æ–¹æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">visible</span><span class="hljs-params">()</span></span> { visibility = View.VISIBLE }
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">invisible</span><span class="hljs-params">()</span></span> { visibility = View.INVISIBLE }
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">gone</span><span class="hljs-params">()</span></span> { visibility = View.GONE }

<span class="hljs-comment">// æ¡ä»¶å¯è§æ€§</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">visibleIf</span><span class="hljs-params">(condition: <span class="hljs-type">Boolean</span>)</span></span> {
    visibility = <span class="hljs-keyword">if</span> (condition) View.VISIBLE <span class="hljs-keyword">else</span> View.GONE
}

<span class="hljs-comment">// dp â†’ px è½¬æ¢ï¼ˆInt å’Œ Float éƒ½æ”¯æŒï¼‰</span>
<span class="hljs-keyword">val</span> <span class="hljs-built_in">Int</span>.dp: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">get</span>() = (<span class="hljs-keyword">this</span> * Resources.getSystem().displayMetrics.density + <span class="hljs-number">0.5f</span>).toInt()

<span class="hljs-keyword">val</span> <span class="hljs-built_in">Float</span>.dp: <span class="hljs-built_in">Float</span>
    <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">this</span> * Resources.getSystem().displayMetrics.density

<span class="hljs-comment">// ç®€æ˜“ Toast</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Context.<span class="hljs-title">toast</span><span class="hljs-params">(
    message: <span class="hljs-type">CharSequence</span>,
    duration: <span class="hljs-type">Int</span> = Toast.LENGTH_SHORT
)</span></span> {
    Toast.makeText(<span class="hljs-keyword">this</span>, message, duration).show()
}

<span class="hljs-comment">// ç‚¹å‡»äº‹ä»¶ç®€åŒ–ï¼ˆé˜²æŠ–å¯é€‰ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> View.<span class="hljs-title">click</span><span class="hljs-params">(action: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    setOnClickListener { action() }
}

<span class="hljs-comment">// RecyclerView å¸¸ç”¨</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> RecyclerView.<span class="hljs-title">smoothScrollToBottom</span><span class="hljs-params">()</span></span> {
    smoothScrollToPosition(adapter?.itemCount?.minus(<span class="hljs-number">1</span>) ?: <span class="hljs-number">0</span>)
}
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">button.visible()
textView.gone()
<span class="hljs-number">20.</span>dp  <span class="hljs-comment">// è‡ªåŠ¨è½¬ä¸ºåƒç´ </span>
context.toast(<span class="hljs-string">"åŠ è½½æˆåŠŸ"</span>)
imageView.click { showDetail() }
</code></pre>
<p>è¿™äº›æ‰©å±•è®©å¸ƒå±€å’Œäº¤äº’ä»£ç å˜å¾—å¼‚å¸¸æµç•…ï¼Œå‡ ä¹æ‰€æœ‰ Android Kotlin é¡¹ç›®éƒ½ä¼šæœ‰ç±»ä¼¼çš„å·¥å…·æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-55">5.2 æ•°æ®å¤„ç†ä¸­çš„æ‰©å±•ï¼ˆå¦‚ JSON è§£æã€æ—¥æœŸæ ¼å¼åŒ–ï¼‰</h3>
<p>æ•°æ®è½¬æ¢å’Œæ ¼å¼åŒ–æ˜¯æ—¥å¸¸å¼€å‘ä¸­æœ€å¸¸è§çš„é‡å¤æ“ä½œï¼Œæ‰©å±•èƒ½æå¤§ç®€åŒ–è¿™äº›æµç¨‹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Gson è§£æï¼ˆreified æ³›å‹å®ç°ç±»å‹æ¨æ–­ï¼‰</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T&gt;</span> String.<span class="hljs-title">fromJson</span><span class="hljs-params">()</span></span>: T =
    Gson().fromJson(<span class="hljs-keyword">this</span>, T::<span class="hljs-keyword">class</span>.java)

<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T&gt;</span> T.<span class="hljs-title">toJson</span><span class="hljs-params">()</span></span>: String =
    Gson().toJson(<span class="hljs-keyword">this</span>)

<span class="hljs-comment">// æ—¥æœŸæ ¼å¼åŒ–ï¼ˆDateã€LocalDateTime ç­‰ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Date.<span class="hljs-title">format</span><span class="hljs-params">(pattern: <span class="hljs-type">String</span> = <span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>)</span></span>: String =
    SimpleDateFormat(pattern, Locale.getDefault()).format(<span class="hljs-keyword">this</span>)

<span class="hljs-function"><span class="hljs-keyword">fun</span> LocalDateTime.<span class="hljs-title">format</span><span class="hljs-params">(pattern: <span class="hljs-type">String</span> = <span class="hljs-string">"yyyy-MM-dd"</span>)</span></span>: String =
    DateTimeFormatter.ofPattern(pattern).format(<span class="hljs-keyword">this</span>)

<span class="hljs-comment">// æ—¶é—´æˆ³è½¬å¯è¯»å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">val</span> <span class="hljs-built_in">Long</span>.timeFormatted: String
    <span class="hljs-keyword">get</span>() = SimpleDateFormat(<span class="hljs-string">"yyyy-MM-dd HH:mm"</span>, Locale.getDefault())
        .format(Date(<span class="hljs-keyword">this</span>))
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> user = jsonString.fromJson&lt;User&gt;()
<span class="hljs-keyword">val</span> json = user.toJson()
println(Date().format())  <span class="hljs-comment">// å½“å‰æ—¶é—´æ ¼å¼åŒ–</span>
println(<span class="hljs-number">1734567890000L</span>.timeFormatted)
</code></pre>
<h3 data-id="heading-56">5.3 ç¬¬ä¸‰æ–¹åº“ç±»çš„æ‰©å±•ï¼ˆå¦‚ Java ç±»ã€å¼€æºåº“ç±»ï¼‰</h3>
<p>ç¬¬ä¸‰æ–¹åº“å¾€å¾€æ˜¯ Java å†™çš„ï¼ŒAPI ä¸å¤Ÿ Kotlin å‹å¥½ã€‚é€šè¿‡æ‰©å±•å¯ä»¥æ— ç¼æ¡¥æ¥ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//Retrofit/OkHttp æ·»åŠ é€šç”¨ Header</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> Request.Builder.<span class="hljs-title">addCommonHeaders</span><span class="hljs-params">()</span></span>: Request.Builder = apply {
    addHeader(<span class="hljs-string">"App-Version"</span>, BuildConfig.VERSION_NAME)
    addHeader(<span class="hljs-string">"Device-OS"</span>, <span class="hljs-string">"Android <span class="hljs-subst">${Build.VERSION.SDK_INT}</span>"</span>)
    addHeader(<span class="hljs-string">"Authorization"</span>, <span class="hljs-string">"Bearer <span class="hljs-subst">${TokenManager.token}</span>"</span>)
}

<span class="hljs-comment">//Glide åŠ è½½å›¾ç‰‡ç®€åŒ–</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> ImageView.<span class="hljs-title">loadUrl</span><span class="hljs-params">(url: <span class="hljs-type">String</span>?, placeholder: <span class="hljs-type">Int</span> = R.drawable.ic_placeholder)</span></span> {
    Glide.with(<span class="hljs-keyword">this</span>)
        .load(url)
        .placeholder(placeholder)
        .error(R.drawable.ic_error)
        .into(<span class="hljs-keyword">this</span>)
}

<span class="hljs-comment">//RxJava/Flow ç»Ÿä¸€çº¿ç¨‹è°ƒåº¦</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Observable<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">ioToMain</span><span class="hljs-params">()</span></span>: Observable&lt;T&gt; =
    subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread())

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Flow<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">ioToMain</span><span class="hljs-params">()</span></span>: Flow&lt;T&gt; =
    flowOn(Dispatchers.IO).flowOn(Dispatchers.Main)
</code></pre>
<h3 data-id="heading-57">5.4 ä¸šåŠ¡é€»è¾‘çš„æ‰©å±•å°è£…ï¼ˆè§£è€¦ä¸šåŠ¡ä»£ç ï¼‰</h3>
<p>åœ¨åˆ†å±‚æ¶æ„ï¼ˆå¦‚ MVVMã€Clean Architectureï¼‰ä¸­ï¼Œå°†å®ä½“è½¬æ¢ã€ä¸šåŠ¡è§„åˆ™ç­‰é€»è¾‘å†™æˆæ‰©å±•å‡½æ•°ï¼Œèƒ½ä¿æŒ ViewModelã€UseCase ç­‰å±‚ä»£ç ç®€æ´ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Entity â†’ UI Model è½¬æ¢</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> UserEntity.<span class="hljs-title">toUiModel</span><span class="hljs-params">()</span></span>: UserUiModel =
    UserUiModel(
        fullName = <span class="hljs-string">"<span class="hljs-variable">$firstName</span> <span class="hljs-variable">$lastName</span>"</span>,
        avatarUrl = avatar,
        isVip = vipLevel &gt; <span class="hljs-number">0</span>
    )

<span class="hljs-function"><span class="hljs-keyword">fun</span> List<span class="hljs-type">&lt;ProductEntity&gt;</span>.<span class="hljs-title">toUiModels</span><span class="hljs-params">()</span></span>: List&lt;ProductUiModel&gt; =
    map { it.toUiModel() }

<span class="hljs-comment">// ä¸šåŠ¡è§„åˆ™åˆ¤æ–­</span>
<span class="hljs-keyword">val</span> OrderEntity.isCompleted: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = status == OrderStatus.COMPLETED

<span class="hljs-keyword">val</span> UserEntity.canPurchase: <span class="hljs-built_in">Boolean</span>
    <span class="hljs-keyword">get</span>() = balance &gt;= requiredAmount &amp;&amp; !isBlocked
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">viewModel.users.observe { list -&gt;
    adapter.submitList(list.map { it.toUiModel() })
}

<span class="hljs-comment">// æˆ–è€…ç›´æ¥</span>
adapter.submitList(entities.toUiModels())
</code></pre>
<p>è¿™æ ·è½¬æ¢é€»è¾‘ä¸ä¸šåŠ¡å®ä½“ç´§è€¦åˆï¼Œä½†åˆä¸æ±¡æŸ“å®ä½“ç±»æœ¬èº«ï¼Œè¾¾åˆ°äº†å®Œç¾çš„è§£è€¦æ•ˆæœã€‚</p>
<h3 data-id="heading-58">å…­ã€æ‰©å±•çš„æ³¨æ„äº‹é¡¹ä¸é¿å‘ç‚¹</h3>
<p>æ‰©å±•æœºåˆ¶è™½ç„¶å¼ºå¤§ä¸”ä¼˜é›…ï¼Œä½†å¦‚æœä½¿ç”¨ä¸å½“ï¼Œä¹Ÿä¼šå¼•å…¥éšè”½çš„ Bugã€é™ä½ä»£ç å¯è¯»æ€§ï¼Œç”šè‡³å¯¼è‡´ç»´æŠ¤å›°éš¾ã€‚ä»¥ä¸‹æ˜¯å¼€å‘ä¸­å¸¸è§çš„å‘ç‚¹å’Œæ³¨æ„äº‹é¡¹ï¼ŒåŠ¡å¿…ç‰¢è®°ã€‚</p>
<h3 data-id="heading-59">6.1 æ‰©å±•çš„é™æ€è§£æå¯¼è‡´çš„å¤šæ€é—®é¢˜</h3>
<p>è¿™æ˜¯æ‰©å±•å‡½æ•°<strong>æœ€æ ¸å¿ƒçš„é™åˆ¶</strong>ï¼š<strong>æ‰©å±•å‡½æ•°æ˜¯é™æ€åˆ†å‘çš„</strong>ï¼Œè°ƒç”¨å“ªä¸€ä¸ªæ‰©å±•å®Œå…¨å–å†³äºæ¥æ”¶è€…çš„<strong>å£°æ˜ç±»å‹</strong>ï¼ˆé™æ€ç±»å‹ï¼‰ï¼Œè€Œéè¿è¡Œæ—¶å®é™…ç±»å‹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">open</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Rectangle</span> : <span class="hljs-type">Shape</span>()

<span class="hljs-function"><span class="hljs-keyword">fun</span> Shape.<span class="hljs-title">name</span><span class="hljs-params">()</span></span> = <span class="hljs-string">"Shape"</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Rectangle.<span class="hljs-title">name</span><span class="hljs-params">()</span></span> = <span class="hljs-string">"Rectangle"</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printName</span><span class="hljs-params">(s: <span class="hljs-type">Shape</span>)</span></span> {
    println(s.name())  <span class="hljs-comment">// å§‹ç»ˆè°ƒç”¨ Shape.name()ï¼Œè¾“å‡º "Shape"</span>
}

printName(Rectangle())  <span class="hljs-comment">// è¾“å‡º: "Shape"</span>
</code></pre>
<p><strong>é¿å‘å»ºè®®</strong>ï¼š</p>
<ul>
<li><strong>ç»ä¸è¦è¯•å›¾ç”¨æ‰©å±•å‡½æ•°å®ç°å¤šæ€è¡Œä¸º</strong>ã€‚å¦‚æœå­ç±»éœ€è¦è¦†ç›–çˆ¶ç±»çš„é€»è¾‘ï¼Œè¯·ä½¿ç”¨æ™®é€šçš„æˆå‘˜å‡½æ•° + open/overrideã€‚</li>
<li>éœ€è¦å¤šæ€æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©ç»§æ‰¿ã€æ¥å£é»˜è®¤æ–¹æ³•ï¼Œæˆ–åœ¨å¿…è¦æ—¶ä½¿ç”¨ is ç±»å‹æ£€æŸ¥ã€‚</li>
</ul>
<h3 data-id="heading-60">6.2 é¿å…æ‰©å±•å‡½æ•° / å±æ€§å‘½åå†²çª</h3>
<p>å½“å¤šä¸ªåº“ï¼ˆæˆ–è‡ªå·±å†™çš„ä¸åŒæ¨¡å—ï¼‰å¯¹åŒä¸€ä¸ªç±»å‹å®šä¹‰äº†åŒåæ‰©å±•æ—¶ï¼Œä¼šäº§ç”Ÿå†²çªã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åº“ A</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> String.<span class="hljs-title">encrypt</span><span class="hljs-params">()</span></span>: String { ... }

<span class="hljs-comment">// åº“ B</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> String.<span class="hljs-title">encrypt</span><span class="hljs-params">()</span></span>: String { ... }

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-string">"secret"</span>.encrypt()  <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼šOverload resolution ambiguity</span>
</code></pre>
<p><strong>è§£å†³æ–¹å¼</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨<strong>å¯¼å…¥åˆ«å</strong>ï¼ˆasï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> com.libraryA.encrypt <span class="hljs-keyword">as</span> encryptA
<span class="hljs-keyword">import</span> com.libraryB.encrypt <span class="hljs-keyword">as</span> encryptB

<span class="hljs-string">"secret"</span>.encryptA()
<span class="hljs-string">"secret"</span>.encryptB()
</code></pre>
<ul>
<li>æˆ–è€…é€šè¿‡<strong>å…¨é™å®šå</strong>è°ƒç”¨ï¼ˆä¸æ¨èé•¿æœŸä½¿ç”¨ï¼‰ã€‚</li>
<li>æœ€ä½³é¢„é˜²ï¼šç»™æ‰©å±•å‡½æ•°èµ·æ›´å…·æè¿°æ€§æˆ–å¸¦å‰ç¼€çš„åå­—ï¼Œé¿å…é€šç”¨åŠ¨è¯ï¼ˆå¦‚ toã€getã€runï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-61">6.3 æ‰©å±•å±æ€§æ— å¹•åå­—æ®µçš„é™åˆ¶ï¼ˆä¸å¯ç›´æ¥èµ‹å€¼ï¼‰</h3>
<p>æ‰©å±•å±æ€§<strong>ä¸èƒ½æœ‰ backing field</strong>ï¼Œå› æ­¤ä¸èƒ½åƒæ™®é€šå±æ€§é‚£æ ·å­˜å‚¨çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é”™è¯¯ï¼ç¼–è¯‘ä¸é€šè¿‡</span>
<span class="hljs-keyword">var</span> View.clickCount: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>  <span class="hljs-comment">// æ²¡æœ‰åœ°æ–¹å­˜å‚¨ 0</span>

<span class="hljs-comment">// é”™è¯¯ï¼åŒæ ·ä¸é€šè¿‡</span>
<span class="hljs-keyword">var</span> View.clickCount: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">get</span>() = field   <span class="hljs-comment">// field ä¸å­˜åœ¨</span>
    <span class="hljs-keyword">set</span>(value) { field = value }
</code></pre>
<p><strong>å¦‚æœç¡®å®éœ€è¦ä¸ºç°æœ‰ç±»æ·»åŠ çŠ¶æ€</strong>ï¼š</p>
<ul>
<li>Android ä¸­å¯ä»¥ä½¿ç”¨ <code>View.setTag(key, value) / getTag(key)</code>ã€‚</li>
<li>é€šç”¨åœºæ™¯å¯ä½¿ç”¨ <code>WeakHashMap&lt;å®ä¾‹, å€¼&gt;</code> ä½œä¸ºä¼´ç”Ÿå¯¹è±¡ä¸­çš„å…¨å±€å­˜å‚¨ï¼ˆæ³¨æ„å†…å­˜æ³„æ¼ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> clickCountMap = WeakHashMap&lt;View, <span class="hljs-built_in">Int</span>&gt;()

<span class="hljs-keyword">var</span> View.clickCount: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">get</span>() = clickCountMap[<span class="hljs-keyword">this</span>] ?: <span class="hljs-number">0</span>
    <span class="hljs-keyword">set</span>(value) { clickCountMap[<span class="hljs-keyword">this</span>] = value }
</code></pre>
<p>ä½†è¿™å±äºâ€œ<code>Hack</code>â€æ‰‹æ®µï¼Œ<strong>ä¼˜å…ˆè€ƒè™‘é‡æ–°è®¾è®¡</strong>ï¼ˆå¦‚åŒ…è£…ç±»ã€ç»„åˆè€Œéæ‰©å±•ï¼‰ã€‚</p>
<h3 data-id="heading-62">6.4 ä¸è¦è¿‡åº¦ä½¿ç”¨æ‰©å±•ï¼ˆé¿å…ä»£ç å¯è¯»æ€§ä¸‹é™ï¼‰</h3>
<p>è¿‡åº¦æ»¥ç”¨æ‰©å±•ä¼šå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>æ±¡æŸ“å‘½åç©ºé—´</strong>ï¼šä¸º Anyã€String ç­‰é€šç”¨ç±»å‹æ·»åŠ è¿‡å¤šæ‰©å±•ï¼Œä¼šè®© IDE è‡ªåŠ¨è¡¥å…¨åˆ—è¡¨å˜å¾—è‡ƒè‚¿ï¼Œæ— å…³æ–¹æ³•åˆ°å¤„å‡ºç°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> Any.<span class="hljs-title">log</span><span class="hljs-params">()</span></span> { println(<span class="hljs-keyword">this</span>) }  <span class="hljs-comment">// å‡ ä¹æ‰€æœ‰å¯¹è±¡éƒ½èƒ½ .log()ï¼Œè¡¥å…¨æ—¶å¹²æ‰°ä¸¥é‡</span>
</code></pre>
</li>
<li>
<p><strong>â€œé­”æ³•æ–¹æ³•â€å›°æƒ‘</strong>ï¼šæ–°æˆå‘˜é˜…è¯»ä»£ç æ—¶ï¼Œçœ‹åˆ° <code>user.validate()</code> å´ä¸çŸ¥é“æ˜¯æˆå‘˜è¿˜æ˜¯æŸä¸ªæœªçŸ¥æ–‡ä»¶ä¸­çš„æ‰©å±•ï¼Œå¢åŠ è®¤çŸ¥è´Ÿæ‹…ã€‚</p>
</li>
</ul>
<p><strong>ä½¿ç”¨åŸåˆ™</strong>ï¼š</p>
<ul>
<li>åªåœ¨<strong>æ˜æ˜¾æå‡å¯è¯»æ€§</strong>æˆ–<strong>å¼¥è¡¥ API ç¼ºé™·</strong>æ—¶ä½¿ç”¨æ‰©å±•ã€‚</li>
<li>é¿å…ä¸º Any æ·»åŠ æ‰©å±•ï¼ˆé™¤éåƒ easyPrint è¿™ç§æå…¶å®ç”¨çš„ï¼‰ã€‚</li>
<li>å›¢é˜Ÿå†…éƒ¨åˆ¶å®šæ‰©å±•è§„èŒƒï¼ˆå¦‚å‘½åã€å­˜æ”¾ä½ç½®ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-63">6.5 æ‰©å±•ä¸ç»§æ‰¿çš„ä¼˜å…ˆçº§é—®é¢˜</h3>
<p><strong>æˆå‘˜å‡½æ•°æ°¸è¿œä¼˜å…ˆäºåŒç­¾åçš„æ‰©å±•å‡½æ•°</strong>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">process</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Member"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Example.<span class="hljs-title">process</span><span class="hljs-params">()</span></span> = println(<span class="hljs-string">"Extension"</span>)

Example().process()  <span class="hljs-comment">// è¾“å‡º: Member</span>
</code></pre>
<p><strong>æ½œåœ¨é£é™©</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ ä¾èµ–æŸä¸ªç¬¬ä¸‰æ–¹åº“çš„æ‰©å±•å‡½æ•°ï¼Œåæ¥è¯¥åº“å‡çº§ååœ¨ç±»ä¸­æ·»åŠ äº†åŒåæˆå‘˜å‡½æ•°ï¼Œä½ çš„è°ƒç”¨ä¼š<strong>æ— å£°åˆ‡æ¢</strong>åˆ°æˆå‘˜å®ç°ï¼Œå¯èƒ½å¼•å…¥ Bugã€‚</li>
<li>åä¹‹ï¼Œå¦‚æœä½ è‡ªå·±ç»´æŠ¤çš„åº“æ·»åŠ äº†æˆå‘˜å‡½æ•°ï¼Œå¤–éƒ¨ç”¨æˆ·çš„æ‰©å±•è°ƒç”¨ä¹Ÿä¼šè¢«é®è”½ã€‚</li>
</ul>
<p><strong>é¿å‘å»ºè®®</strong>ï¼š</p>
<ul>
<li>å‘å¸ƒåº“æ—¶ï¼Œè°¨æ…æ·»åŠ å¯èƒ½ä¸ç”¨æˆ·æ‰©å±•å†²çªçš„æˆå‘˜å‡½æ•°ã€‚</li>
<li>ä½¿ç”¨æ‰©å±•æ—¶ï¼Œä¼˜å…ˆé€‰æ‹©ä¸æ˜“ä¸æœªæ¥æˆå‘˜å†²çªçš„åç§°ã€‚</li>
</ul>
<h2 data-id="heading-64">ä¸ƒã€æ‰©å±•ä¸å…¶ä»–ç‰¹æ€§çš„å¯¹æ¯”</h2>
<p>Kotlin çš„æ‰©å±•æœºåˆ¶è™½ç„¶å¼ºå¤§ï¼Œä½†å¹¶éä¸‡èƒ½é“¶å¼¹ã€‚åœ¨å®é™…è®¾è®¡ä¸­ï¼Œéœ€è¦æ ¹æ®åœºæ™¯ä¸ç»§æ‰¿ã€è£…é¥°è€…æ¨¡å¼ã€æˆå‘˜å‡½æ•°ç­‰ç‰¹æ€§è¿›è¡Œæƒè¡¡å¯¹æ¯”ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-65">7.1 æ‰©å±• vs ç»§æ‰¿ï¼ˆé€‚ç”¨åœºæ™¯å¯¹æ¯”ï¼‰</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>æ‰©å±• (Extensions)</th><th>ç»§æ‰¿ (Inheritance)</th></tr></thead><tbody><tr><td>ä¿®æ”¹æºç </td><td>ä¸éœ€è¦</td><td>éœ€è¦ï¼ˆç±»å¿…é¡»æ˜¯ <code>open</code>ï¼Œå­ç±»éœ€æ˜¾å¼ç»§æ‰¿ï¼‰</td></tr><tr><td>å¤šæ€æ€§</td><td>ä¸æ”¯æŒï¼ˆé™æ€è§£æï¼Œæ ¹æ®å£°æ˜ç±»å‹å†³å®šè°ƒç”¨ï¼‰</td><td>æ”¯æŒï¼ˆåŠ¨æ€åˆ†å‘ï¼Œæ ¹æ®è¿è¡Œæ—¶ç±»å‹å†³å®šè°ƒç”¨ï¼‰</td></tr><tr><td>çŠ¶æ€å­˜å‚¨</td><td>ä¸æ”¯æŒï¼ˆæ‰©å±•å±æ€§æ— å¹•åå­—æ®µï¼‰</td><td>æ”¯æŒï¼ˆå¯åœ¨å­ç±»ä¸­æ·»åŠ æ–°å­—æ®µï¼‰</td></tr><tr><td>å¯æ‰©å±•å°é—­ç±»</td><td>å¯ä»¥ï¼ˆå³ä½¿ç±»æ˜¯ <code>final</code>ï¼‰</td><td>ä¸å¯ä»¥ï¼ˆ<code>final</code> ç±»æ— æ³•ç»§æ‰¿ï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>å·¥å…·æ–¹æ³•ã€è¾…åŠ©é€»è¾‘ã€ç¬¬ä¸‰æ–¹åº“ API é€‚é…ã€è·¨ç±»é€šç”¨è¡Œä¸º</td><td>æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€is-a å±‚çº§å…³ç³»å»ºæ¨¡ã€å¤šæ€å®ç°</td></tr></tbody></table>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ul>
<li>å¦‚æœåŠŸèƒ½æ˜¯ç±»çš„<strong>å†…åœ¨èŒè´£</strong>ï¼Œä¸”éœ€è¦å¤šæ€æˆ–æ–°å¢çŠ¶æ€ â†’ ç”¨ç»§æ‰¿ã€‚</li>
<li>å¦‚æœåªæ˜¯<strong>é™„åŠ å·¥å…·è¡Œä¸º</strong>ï¼Œå°¤å…¶é’ˆå¯¹æ— æ³•ä¿®æ”¹æˆ–å°é—­çš„ç±» â†’ ç”¨æ‰©å±•ã€‚</li>
</ul>
<h3 data-id="heading-66">7.2 æ‰©å±• vs è£…é¥°è€…æ¨¡å¼ï¼ˆå¤æ‚åº¦ã€çµæ´»æ€§å¯¹æ¯”ï¼‰</h3>
<p>è£…é¥°è€…æ¨¡å¼ï¼ˆDecorator Patternï¼‰æ˜¯ä¸€ç§ç»å…¸çš„ç»“æ„å‹è®¾è®¡æ¨¡å¼ï¼Œç”¨äºåŠ¨æ€ä¸ºå¯¹è±¡æ·»åŠ èŒè´£ã€‚</p>



































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>æ‰©å±•å‡½æ•°</th><th>è£…é¥°è€…æ¨¡å¼</th></tr></thead><tbody><tr><td>å¤æ‚åº¦</td><td>æä½ï¼šåªéœ€å®šä¹‰ä¸€ä¸ªå‡½æ•°æˆ–å±æ€§</td><td>é«˜ï¼šéœ€è¦åˆ›å»ºåŒ…è£…ç±»ã€å®ç°ç›¸åŒæ¥å£ã€è½¬å‘æ‰€æœ‰æ–¹æ³•</td></tr><tr><td>ä»£ç é‡</td><td>å‡ è¡Œä»£ç å³å¯</td><td>å¾€å¾€éœ€è¦å¤§é‡æ ·æ¿ä»£ç ï¼ˆå°¤å…¶æ¥å£æ–¹æ³•å¤šæ—¶ï¼‰</td></tr><tr><td>æ€§èƒ½å¼€é”€</td><td>æ— è¿è¡Œæ—¶å¼€é”€ï¼ˆç¼–è¯‘ä¸ºé™æ€æ–¹æ³•ï¼‰</td><td>æœ‰é¢å¤–å¯¹è±¡åˆ›å»ºå’Œæ–¹æ³•è°ƒç”¨é“¾å¼€é”€</td></tr><tr><td>çµæ´»æ€§</td><td>ç¼–è¯‘æ—¶å›ºå®šï¼Œæ— æ³•è¿è¡Œæ—¶åŠ¨æ€ç»„åˆ</td><td>æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€ç»„åˆå¤šä¸ªè£…é¥°è€…</td></tr><tr><td>ç±»å‹ç³»ç»Ÿ</td><td>è°ƒç”¨æ—¶ç±»å‹ä¸å˜ï¼Œä»æ˜¯åŸç±»å‹</td><td>è£…é¥°åç±»å‹é€šå¸¸å˜ä¸ºè£…é¥°è€…ç±»å‹ï¼ˆéœ€æ¥å£æˆ–åŸºç±»æ”¯æŒï¼‰</td></tr></tbody></table>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ul>
<li>å¤§å¤šæ•°â€œæ·»åŠ ç®€å•è¡Œä¸ºâ€çš„åœºæ™¯ï¼Œæ‰©å±•å‡½æ•°æ›´ç®€æ´ã€æ›´é«˜æ•ˆï¼ˆå¦‚ä¸º String æ·»åŠ æ ¼å¼åŒ–ï¼‰ã€‚</li>
<li>éœ€è¦<strong>è¿è¡Œæ—¶åŠ¨æ€ã€å¯å¤šæ¬¡å åŠ </strong>è£…é¥°ï¼ˆå¦‚æ—¥å¿— + ç¼“å­˜ + æƒé™æ£€æŸ¥ï¼‰æ—¶ï¼Œæ‰è€ƒè™‘è£…é¥°è€…æ¨¡å¼ã€‚</li>
</ul>
<h3 data-id="heading-67">7.3 æ‰©å±• vs æˆå‘˜å‡½æ•°ï¼ˆä¼˜å…ˆçº§ã€ä½¿ç”¨åœºæ™¯ï¼‰</h3>
<p>Kotlin ä¸­æˆå‘˜å‡½æ•°ä¸æ‰©å±•å‡½æ•°åœ¨åŒååŒç­¾åæ—¶ï¼Œ<strong>æˆå‘˜å‡½æ•°å…·æœ‰ç»å¯¹ä¼˜å…ˆçº§</strong>ï¼ˆæ‰©å±•ä¼šè¢«é®è”½ï¼‰ã€‚</p>



































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>æˆå‘˜å‡½æ•°</th><th>æ‰©å±•å‡½æ•°</th></tr></thead><tbody><tr><td>ä¼˜å…ˆçº§</td><td>é«˜ï¼ˆå§‹ç»ˆè¦†ç›–åŒåæ‰©å±•ï¼‰</td><td>ä½ï¼ˆè¢«åŒåæˆå‘˜é®è”½ï¼‰</td></tr><tr><td>å®šä¹‰ä½ç½®</td><td>ç±»å†…éƒ¨</td><td>ç±»å¤–éƒ¨ï¼ˆé¡¶å±‚ã€å…¶ä»–æ–‡ä»¶ï¼‰</td></tr><tr><td>å¤šæ€æ”¯æŒ</td><td>æ”¯æŒï¼ˆå¯ open/overrideï¼‰</td><td>ä¸æ”¯æŒï¼ˆé™æ€è§£æï¼‰</td></tr><tr><td>æºç è¦æ±‚</td><td>å¿…é¡»èƒ½ä¿®æ”¹ç±»æºç </td><td>æ— éœ€ä¿®æ”¹æºç </td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>åŠŸèƒ½å±äºç±»çš„<strong>æ ¸å¿ƒèŒè´£</strong>ï¼Œæ˜¯ç±»çš„æœ¬è´¨è¡Œä¸º</td><td>åŠŸèƒ½æ˜¯<strong>è¾…åŠ©ã€å·¥å…·æ€§</strong>çš„ï¼Œæˆ–ç”¨äºå¢å¼ºç¬¬ä¸‰æ–¹ç±»</td></tr></tbody></table>
<p><strong>é€‰æ‹©å»ºè®®</strong>ï¼š</p>
<ul>
<li><strong>æ‹¥æœ‰ç±»æºç </strong>ï¼Œä¸”è¯¥åŠŸèƒ½æ˜¯ç±»çš„<strong>æ ¸å¿ƒèŒè´£</strong>ï¼ˆå¦‚ List.add()ï¼‰â†’ ä¼˜å…ˆå®šä¹‰ä¸º<strong>æˆå‘˜å‡½æ•°</strong>ã€‚</li>
<li><strong>æ— æ³•ä¿®æ”¹æºç </strong>ï¼ˆç¬¬ä¸‰æ–¹åº“ã€JDK ç±»ï¼‰ï¼Œæˆ–åŠŸèƒ½æ˜¯<strong>é€šç”¨è¾…åŠ©é€»è¾‘</strong>ï¼ˆå¦‚ Context.toast()ã€String.capitalizeFirst()ï¼‰â†’ ä½¿ç”¨<strong>æ‰©å±•å‡½æ•°</strong>ã€‚</li>
<li>é¿å…åœ¨è‡ªå·±ç»´æŠ¤çš„ç±»ä¸­æ·»åŠ ä¸å¸¸è§æ‰©å±•å†²çªçš„æˆå‘˜å‡½æ•°ï¼Œä»¥å…å½±å“å¤–éƒ¨ä½¿ç”¨è€…ã€‚</li>
</ul>
<p>æ‰©å±•ã€ç»§æ‰¿ã€è£…é¥°è€…ã€æˆå‘˜å‡½æ•°å„æœ‰é€‚ç”¨é¢†åŸŸã€‚æ‰©å±•æœ€æ“…é•¿â€œéä¾µå…¥å¼å¢å¼ºâ€å’Œâ€œå·¥å…·æ–¹æ³•æ³¨å…¥â€ï¼Œè€Œç»§æ‰¿ä¸æˆå‘˜å‡½æ•°æ›´é€‚åˆå®šä¹‰ç±»çš„æœ¬è´¨ç»“æ„ä¸è¡Œä¸ºã€‚åˆç†é€‰æ‹©ï¼Œèƒ½è®©ç³»ç»Ÿè®¾è®¡æ›´æ¸…æ™°ã€æ›´æ˜“ç»´æŠ¤ã€‚</p>
<h2 data-id="heading-68">å…«ã€æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<p>é€šè¿‡æœ¬æ–‡çš„ç³»ç»Ÿè®²è§£ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹æ‰©å±•å‡½æ•°ä¸æ‰©å±•å±æ€§æœ‰äº†å…¨é¢è®¤è¯†ã€‚</p>
<h3 data-id="heading-69">8.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹å›é¡¾</h3>
<ol>
<li><strong>æ‰©å±•æ˜¯é™æ€è§£æçš„è¯­æ³•ç³–</strong>
æ‰©å±•å‡½æ•°/å±æ€§åœ¨ç¼–è¯‘æœŸè¢«è½¬æ¢ä¸ºé™æ€æ–¹æ³•ï¼Œæ¥æ”¶è€…ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚è°ƒç”¨æ—¶æ ¹æ®<strong>å£°æ˜ç±»å‹</strong>ï¼ˆè€Œéè¿è¡Œæ—¶ç±»å‹ï¼‰å†³å®šè°ƒç”¨å“ªä¸ªæ‰©å±•ï¼Œå› æ­¤ä¸æ”¯æŒå¤šæ€ã€‚</li>
<li><strong>æ‰©å±•å±æ€§æ²¡æœ‰å¹•åå­—æ®µ</strong>
æ‰©å±•å±æ€§åªèƒ½æ˜¯è®¡ç®—å±æ€§ï¼Œæ— æ³•å­˜å‚¨çŠ¶æ€ã€‚val å¿…é¡»æä¾› getterï¼Œvar å¿…é¡»åŒæ—¶æä¾› getter å’Œ setterï¼Œä¸” setter åªèƒ½æ“ä½œæ¥æ”¶è€…æœ¬èº«ã€‚</li>
<li><strong>æˆå‘˜å‡½æ•°ä¼˜å…ˆçº§é«˜äºåŒåæ‰©å±•å‡½æ•°</strong>
å½“ç±»å†…éƒ¨å®šä¹‰äº†ä¸æ‰©å±•åŒåã€åŒå‚æ•°ç­¾åçš„æˆå‘˜å‡½æ•°æ—¶ï¼Œæˆå‘˜å‡½æ•°ä¼šå®Œå…¨é®è”½æ‰©å±•å‡½æ•°ã€‚</li>
<li><strong>æ‰©å±•æ”¯æŒæ³›å‹ã€å¯ç©ºæ¥æ”¶è€…ï¼ŒåŠŸèƒ½ååˆ†å¼ºå¤§</strong>
<ul>
<li>æ³›å‹ + ä¸Šç•Œçº¦æŸè®©æ‰©å±•æ—¢é€šç”¨åˆç±»å‹å®‰å…¨ã€‚</li>
<li>å¯ç©ºæ¥æ”¶è€…ï¼ˆString?ï¼‰å…è®¸åœ¨ null ä¸Šå®‰å…¨è°ƒç”¨ã€‚</li>
<li>ä¼´ç”Ÿå¯¹è±¡ã€æ¥å£ã€æ³›å‹ç­‰é«˜çº§ç”¨æ³•è¿›ä¸€æ­¥æ‰©å±•äº†å…¶èƒ½åŠ›ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-70">8.2 æ‰©å±•çš„æœ€ä½³ä½¿ç”¨åŸåˆ™</h3>
<ul>
<li><strong>ä¼˜å…ˆæ‰©å±•é€šç”¨ç±»</strong>
é‡ç‚¹å¢å¼º Stringã€Collectionã€Listã€Contextã€View ç­‰æ¡†æ¶æˆ–æ ‡å‡†åº“ä¸­çš„é«˜é¢‘ç±»å‹ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ä¸šåŠ¡å®ä½“ç±»ï¼ˆé™¤éç”¨äº DTO â†” Entity è½¬æ¢ï¼‰ã€‚è¿™æ ·èƒ½æœ€å¤§åŒ–å¤ç”¨ä»·å€¼ã€‚</li>
<li><strong>æœ€å°ä½œç”¨åŸŸåŸåˆ™</strong>
å¦‚æœæŸä¸ªæ‰©å±•ä»…åœ¨ç‰¹å®šç±»ã€æ–‡ä»¶æˆ–æ¨¡å—ä¸­ä½¿ç”¨ï¼š
<ul>
<li>å®šä¹‰ä¸ºå±€éƒ¨æ‰©å±•å‡½æ•°ï¼ˆå‡½æ•°å†…éƒ¨ï¼‰ã€‚</li>
<li>æˆ–è®¾ä¸º private / internal ä¿®é¥°ç¬¦ã€‚
é¿å…ä¸å¿…è¦çš„å…¨å±€æ±¡æŸ“ã€‚</li>
</ul>
</li>
<li><strong>å‘½åä¸ç»„ç»‡è§„èŒƒ</strong>
<ul>
<li>æ–‡ä»¶åå»ºè®®ï¼šStringExtensions.ktã€ViewExt.ktã€CollectionExt.kt ç­‰ï¼ˆç»Ÿä¸€åç¼€ä¾¿äºæœç´¢ï¼‰ã€‚</li>
<li>å‡½æ•°å‘½åæ¸…æ™°ã€è¯­ä¹‰æ˜ç¡®ï¼Œé¿å…è¿‡äºå®½æ³›çš„åŠ¨è¯ï¼ˆå¦‚ runã€getï¼‰ã€‚</li>
<li>å›¢é˜Ÿå†…éƒ¨ç»Ÿä¸€æ‰©å±•é£æ ¼æŒ‡å—ã€‚</li>
</ul>
</li>
<li><strong>é¿å…æ»¥ç”¨</strong>
æ‰©å±•åº”æœåŠ¡äºâ€œæå‡å¯è¯»æ€§â€å’Œâ€œå¼¥è¡¥ API ç¼ºé™·â€ï¼Œè€Œéæˆä¸ºâ€œéšè—é€»è¾‘çš„é»‘ç›’â€ã€‚</li>
</ul>
<h3 data-id="heading-71">8.3 ä»£ç ä¼˜åŒ–æŠ€å·§ï¼ˆåˆ©ç”¨æ‰©å±•ç®€åŒ–é€»è¾‘ï¼‰</h3>
<p>æ‰©å±•çš„æ ¸å¿ƒä»·å€¼åœ¨äº<strong>å°†â€œæ€ä¹ˆåšâ€ï¼ˆå®ç°ç»†èŠ‚ï¼‰å°è£…èµ·æ¥ï¼Œè®©ä¸»é€»è¾‘åªè¡¨è¾¾â€œåšä»€ä¹ˆâ€ï¼ˆæ„å›¾ï¼‰</strong>ï¼Œä½¿ä»£ç è¯»èµ·æ¥å¦‚è¡Œäº‘æµæ°´èˆ¬è‡ªç„¶ã€‚</p>
<p><strong>ç¤ºä¾‹å¯¹æ¯”</strong>ï¼š</p>
<p><strong>ä¼˜åŒ–å‰ï¼ˆå†—é•¿ã€ç»†èŠ‚æš´éœ²ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">if</span> (text != <span class="hljs-literal">null</span> &amp;&amp; text.isNotBlank()) {
    Toast.makeText(context, text.trim(), Toast.LENGTH_SHORT).show()
}
<span class="hljs-keyword">val</span> px = (dpValue * context.resources.displayMetrics.density).toInt()
</code></pre>
<p><strong>ä¼˜åŒ–åï¼ˆæ„å›¾æ¸…æ™°ã€æµç•…ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">text?.takeIf { it.isNotBlank() }?.trim()?.let { context.toast(it) }
<span class="hljs-keyword">val</span> px = dpValue.dp  <span class="hljs-comment">// ç›´æ¥å±æ€§è°ƒç”¨</span>
</code></pre>
<p>é€šè¿‡ä¸€ç³»åˆ—ç²¾å¿ƒè®¾è®¡çš„æ‰©å±•ï¼ˆå¦‚ toast()ã€dp å±æ€§ã€orEmpty()ã€takeIf ç­‰ï¼‰ï¼Œä¸šåŠ¡ä»£ç å¯ä»¥å¤§å¹…ç²¾ç®€ï¼Œé˜…è¯»æ—¶å‡ ä¹åƒè‡ªç„¶è¯­è¨€ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">userEntity.toUiModel()
    .also { adapter.submitList(it) }
    .takeIf { it.isVip }
    ?.let { vipBanner.visible() }
</code></pre>
<p>è¿™æ­£æ˜¯ Kotlin è¿½æ±‚çš„â€œè¡¨è¾¾åŠ›â€æè‡´ä½“ç°ã€‚</p>
<h2 data-id="heading-72">ä¹ï¼Œç»“è¯­</h2>
<p>Kotlin æ‰©å±•æœºåˆ¶è™½å°ï¼Œå´è•´å«å¤§æ™ºæ…§ã€‚æŒæ¡å®ƒï¼Œä¸ä»…èƒ½å†™å‡ºæ›´ç®€æ´ã€æ›´ä¼˜é›…çš„ä»£ç ï¼Œæ›´èƒ½åœ¨ç³»ç»Ÿè®¾è®¡ä¸­ä½“ç°å‡ºæ›´é«˜çš„æŠ½è±¡èƒ½åŠ›å’Œå·¥ç¨‹ç´ å…»ã€‚</p>
<p><strong>æœ€åé€ä¸Šä¸€å¥å¿ƒå¾—</strong>ï¼š</p>
<blockquote>
<p>å¥½çš„æ‰©å±•ï¼Œä¸æ˜¯è®©ä½ å¤šå†™äº†å‡ è¡Œå·¥å…·å‡½æ•°ï¼Œè€Œæ˜¯è®©é˜…è¯»ä»£ç çš„äººå‡ ä¹å¿˜è®°äº†è¿™äº›å·¥å…·å‡½æ•°çš„å­˜åœ¨â€”â€”å› ä¸ºå®ƒä»¬å·²ç»å˜æˆäº†è¯­è¨€æœ¬èº«çš„ä¸€éƒ¨åˆ†ã€‚</p>
</blockquote>
<p>å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ åœ¨å®é™…é¡¹ç›®ä¸­æ›´å¥½åœ°è¿ç”¨æ‰©å±•ï¼Œè®©ä½ çš„ Kotlin ä»£ç æ›´ä¸Šä¸€å±‚æ¥¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Unable to create converter for xxx.NetworkResponse<Auth> for method AuthService]]></title>    <link>https://juejin.cn/post/7584758215701332006</link>    <guid>https://juejin.cn/post/7584758215701332006</guid>    <pubDate>2025-12-18T08:32:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584758215701332006" data-draft-id="7584810656383418377" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Unable to create converter for xxx.NetworkResponse&lt;Auth&gt;  for method AuthService"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T08:32:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¯ºæ–¯è´å…‹"/> <meta itemprop="url" content="https://juejin.cn/user/3901496985916024"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Unable to create converter for xxx.NetworkResponse&lt;Auth&gt;  for method AuthService
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3901496985916024/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¯ºæ–¯è´å…‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:32:17.000Z" title="Thu Dec 18 2025 08:32:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">BUGè§£å†³è¦ç‚¹</h2>
<ul>
<li>
<p><code>@POST + @Body</code> å¿…é¡»å†™</p>
</li>
<li>
<p><code>NetworkResponse&lt;T&gt;</code> å¿…é¡»æ˜¯ <code>@Serializable data class</code></p>
</li>
<li>
<p><code>Auth</code> å¿…é¡» <code>@Serializable</code></p>
</li>
<li>
<p>ä¸è¦ç”¨ sealed / Any</p>
</li>
</ul>
<p><strong>å“ªæ€• Auth æ˜¯ <code>@Serializable</code>ï¼Œåªè¦ <code>NetworkResponse</code> æœ‰ä¸‹é¢ä»»æ„ä¸€æ¡ï¼Œå°±ä¸€å®šå¤±è´¥ï¼š</strong></p>
<ul>
<li>âŒ æ²¡æœ‰ <code>@Serializable</code></li>
<li>âŒ æ˜¯ <code>sealed class</code></li>
<li>âŒ æ˜¯ <code>open class</code></li>
<li>âŒ æœ‰ <code>Any</code> / <code>Map&lt;String, Any&gt;</code></li>
<li>âŒ æ³›å‹ <code>T</code> æ²¡æœ‰é™å®š</li>
<li>âŒ æœ‰è‡ªå®šä¹‰æ„é€ é€»è¾‘</li>
</ul>
<p>Retrofit ä¼šåœ¨<strong>åˆ›å»ºæ¥å£ä»£ç†æ—¶</strong>ç›´æ¥æŠ›è¿™ä¸ªå¼‚å¸¸ã€‚</p>
<h2 data-id="heading-1">gradleï¼ˆéå¸¸å…³é”®ï¼Œå¾ˆå¤šäººæ¼ï¼‰</h2>
<pre><code class="hljs language-js" lang="js">dependencies {
    <span class="hljs-title function_">implementation</span>(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.3"</span>)
    <span class="hljs-title function_">implementation</span>(<span class="hljs-string">"com.jakewharton.retrofit:retrofit2-kotlinx-serialization-converter:0.8.0"</span>)
}
</code></pre>
<pre><code class="hljs language-js" lang="js">plugins {
    <span class="hljs-title function_">id</span>(<span class="hljs-string">"org.jetbrains.kotlin.plugin.serialization"</span>)
}
</code></pre>
<h2 data-id="heading-2">ä»£ç ç¤ºä¾‹</h2>
<p>å¦‚æœæ˜¯Bodyçš„JSONè¯·æ±‚ï¼Œå¿…é¡»æ·»åŠ **@Body**</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">AuthService</span> {

    <span class="hljs-meta">@POST(<span class="hljs-string">"login/password"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loginByPassword</span><span class="hljs-params">(
        <span class="hljs-meta">@Body</span> params: <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, String&gt;
    )</span></span>: NetworkResponse&lt;Auth&gt;
}

</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.serialization.SerialName
<span class="hljs-keyword">import</span> kotlinx.serialization.Serializable

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkResponse</span>&lt;<span class="hljs-type">T</span>&gt;(
    <span class="hljs-meta">@SerialName(<span class="hljs-string">"code"</span>)</span>
    <span class="hljs-keyword">val</span> code: <span class="hljs-built_in">Int</span>,

    <span class="hljs-meta">@SerialName(<span class="hljs-string">"message"</span>)</span>
    <span class="hljs-keyword">val</span> message: String,

    <span class="hljs-meta">@SerialName(<span class="hljs-string">"data"</span>)</span>
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: T? = <span class="hljs-literal">null</span>
)
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.serialization.Serializable

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Auth</span>(
    <span class="hljs-keyword">val</span> token: String,
    <span class="hljs-keyword">val</span> refreshToken: String,
    <span class="hljs-keyword">val</span> expire: <span class="hljs-built_in">Long</span>
)
</code></pre>
<p>æ ¹å› æ˜¯ <strong>kotlinx.serialization æ— æ³•ä¸º NetworkResponse ç”Ÿæˆ Serializer</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android é”®ç›˜äº‹ä»¶å¯¼è‡´é¡µé¢äº§ç”Ÿã€Œ åŠé€æ˜è’™å±‚ã€]]></title>    <link>https://juejin.cn/post/7584810656383516681</link>    <guid>https://juejin.cn/post/7584810656383516681</guid>    <pubDate>2025-12-18T08:32:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584810656383516681" data-draft-id="7584778152544370714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android é”®ç›˜äº‹ä»¶å¯¼è‡´é¡µé¢äº§ç”Ÿã€Œ åŠé€æ˜è’™å±‚ã€"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T08:32:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BoomHe"/> <meta itemprop="url" content="https://juejin.cn/user/1513407128012333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android é”®ç›˜äº‹ä»¶å¯¼è‡´é¡µé¢äº§ç”Ÿã€Œ åŠé€æ˜è’™å±‚ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1513407128012333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BoomHe
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:32:33.000Z" title="Thu Dec 18 2025 08:32:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">åº”ç”¨åœ¨å“åº”é”®ç›˜äº‹ä»¶çš„æ—¶å€™æœ‰ç„¦ç‚¹æ¼‚ç§»ï¼Œäº§ç”ŸåŠé€æ˜è’™å±‚</h3>
<ul>
<li>
<p><strong>è’™å±‚çš„æœ¬è´¨</strong>ï¼šé‚£ä¸ªâ€œåŠé€æ˜è’™å±‚â€é€šå¸¸æ˜¯ Android ç³»ç»Ÿçš„ <strong><code>Default Focus Highlight</code></strong>ï¼ˆé»˜è®¤ç„¦ç‚¹é«˜äº®ï¼‰ã€‚è¿™æ„å‘³ç€æŸä¸ª View ä¾ç„¶è·å–åˆ°äº†ç„¦ç‚¹ã€‚</p>
</li>
<li>
<p><strong>Root View çš„è‡ªåŠ¨æ‰¾ç„¦</strong>ï¼šå½“æ–¹å‘é”®æŒ‰ä¸‹æ—¶ï¼Œå¦‚æœå½“å‰ View æ‹¦æˆªäº†äº‹ä»¶ä½†æ²¡æœ‰å½»åº•é˜»æ­¢ç³»ç»Ÿçš„ç„¦ç‚¹æœç´¢ç®—æ³•ï¼Œæˆ–è€…ç„¦ç‚¹è·³åˆ°äº† <code>DecorView</code> æˆ– <code>rootLayout</code> ä¸Šï¼Œå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚</p>
</li>
</ul>
<p>åŠé€æ˜è’™å±‚æ•ˆæœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b00ef61d446f440b8e465630e8cc8e10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQm9vbUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651553&amp;x-signature=3VYdqdbjw2SYTr3ZSs4c683ZGkE%3D" alt="image.png" loading="lazy"/></p>
<p>æ­£å¸¸æ•ˆæœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d65e0c8239a644d2900105032b167f87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQm9vbUhl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651553&amp;x-signature=aLQktiDAacEKiO20q25aLssswQI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">ğŸ› ï¸ æ–¹æ¡ˆä¸€ï¼šç¦ç”¨å…¨å±€ç„¦ç‚¹é«˜äº® (é’ˆå¯¹è’™å±‚)</h2>
<p>å¦‚æœä½ çš„ç›®æ ‡æ˜¯è®©ç”¨æˆ·çœ‹ä¸è§é‚£ä¸ªâ€œåŠé€æ˜è’™å±‚â€ï¼Œå¯ä»¥ç›´æ¥åœ¨ä¸»é¢˜æˆ–æ ¹å¸ƒå±€ä¸­å…³é—­å®ƒã€‚</p>
<p><strong>åœ¨ <code>themes.xml</code> ä¸­è®¾ç½®ï¼š</strong></p>
<p>XML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;item <span class="hljs-attr">name</span>=<span class="hljs-string">"android:defaultFocusHighlightEnabled"</span>&gt;<span class="hljs-literal">false</span>&lt;/item&gt;
</code></pre>
<p>æˆ–è€…åœ¨ä½ çš„<strong>æ ¹å¸ƒå±€ (Root Layout)</strong> XML ä¸­è®¾ç½®ï¼š</p>
<p>XML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;LinearLayout
    ...
    android:<span class="hljs-attr">focusable</span>=<span class="hljs-string">"true"</span>
    android:<span class="hljs-attr">defaultFocusHighlightEnabled</span>=<span class="hljs-string">"false"</span>&gt;
</code></pre>
<p><em>è¿™ä¼šæ¶ˆé™¤é‚£ä¸ªåŠé€æ˜çš„è§†è§‰åé¦ˆï¼Œä½†å¹¶ä¸èƒ½é˜»æ­¢ç„¦ç‚¹åœ¨åå°é€»è¾‘ä¸Šçš„ç§»åŠ¨ã€‚</em></p>
<h2 data-id="heading-2">ğŸ› ï¸ æ–¹æ¡ˆäºŒï¼šå¼ºåˆ¶æ‹¦æˆª ViewTree çš„ç„¦ç‚¹æœç´¢</h2>
<p>æœ‰æ—¶ <code>dispatchKeyEvent</code> æ‹¦æˆªå¤ªæ™šäº†ï¼Œç„¦ç‚¹æœç´¢æ˜¯åœ¨æ›´åº•å±‚å¤„ç†çš„ã€‚ä½ å¯ä»¥é‡å†™æ ¹å¸ƒå±€çš„ <code>focusSearch</code> æ–¹æ³•ï¼Œç›´æ¥é˜»æ–­å¯»æ‰¾è¿‡ç¨‹ã€‚</p>
<p><strong>è‡ªå®šä¹‰ä½ çš„æ ¹å®¹å™¨ç±»ï¼ˆä¾‹å¦‚ <code>ConstraintLayout</code>ï¼‰ï¼š</strong></p>
<p>Kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ForbiddenFocusLayout</span> <span class="hljs-meta">@JvmOverloads</span> <span class="hljs-keyword">constructor</span>(
    context: Context, attrs: AttributeSet? = <span class="hljs-literal">null</span>, defStyleAttr: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
) : ConstraintLayout(context, attrs, defStyleAttr) {

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">focusSearch</span><span class="hljs-params">(focused: <span class="hljs-type">View</span>?, direction: <span class="hljs-type">Int</span>)</span></span>: View? {
        <span class="hljs-comment">// å½“æŒ‰ä¸‹æ–¹å‘é”®è§¦å‘ç„¦ç‚¹æœç´¢æ—¶ï¼Œç›´æ¥è¿”å› nullï¼Œå‘Šè¯‰ç³»ç»Ÿâ€œæ‰¾ä¸åˆ°ä¸‹ä¸€ä¸ªç„¦ç‚¹â€</span>
        <span class="hljs-comment">// è¿™æ ·ç„¦ç‚¹å°±ä¼šå¼ºåˆ¶ç•™åœ¨å½“å‰ View ä¸Šï¼Œä¸ä¼šæ¼‚ç§»</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> 
    }
}
</code></pre>
<p><strong>ç„¶ååœ¨ XML ä¸­ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰ Layout ä½œä¸ºé¡µé¢çš„æœ€å¤–å±‚å®¹å™¨ã€‚</strong></p>
<h2 data-id="heading-3">ğŸ› ï¸ æ–¹æ¡ˆä¸‰ï¼šç¦ç”¨å¸ƒå±€ç®¡ç†å™¨çš„ç„¦ç‚¹ (é’ˆå¯¹åˆ—è¡¨)</h2>
<p>å¦‚æœæ¼‚ç§»å‘ç”Ÿåœ¨ <code>RecyclerView</code> æˆ– <code>ListView</code> ä¸­ï¼Œä¸Šè¿°æ–¹æ¡ˆå¯èƒ½å¤±æ•ˆï¼Œå› ä¸ºå®ƒä»¬æœ‰è‡ªå·±çš„ç„¦ç‚¹ç®¡ç†ã€‚</p>
<p>Kotlin</p>
<pre><code class="hljs language-ini" lang="ini">// å½»åº•ç¦ç”¨æ•´ä¸ªåˆ—è¡¨çš„ç„¦ç‚¹è·å–èƒ½åŠ›
<span class="hljs-attr">recyclerView.isFocusable</span> = <span class="hljs-literal">false</span>
<span class="hljs-attr">recyclerView.isFocusableInTouchMode</span> = <span class="hljs-literal">false</span>
<span class="hljs-attr">recyclerView.descendantFocusability</span> = ViewGroup.FOCUS_BLOCK_DESCENDANTS
</code></pre>
<hr/>
<h2 data-id="heading-4">ğŸ› ï¸ æ–¹æ¡ˆå››ï¼šæ‹¦æˆª Window å±‚çš„äº‹ä»¶ (ç‰©ç†éš”ç¦»)</h2>
<p>å¦‚æœ <code>dispatchKeyEvent</code> åœ¨ Activity ä¸­æ²¡æ‹¦ä½ï¼Œå¯èƒ½æ˜¯å› ä¸ºæŸäº›å­ Viewï¼ˆå¦‚ <code>WebView</code> æˆ–æŸäº›ç¬¬ä¸‰æ–¹ SDK çš„ SurfaceViewï¼‰æŠ¢å äº†æ¶ˆè´¹æƒã€‚ä½ å¯ä»¥å°è¯•åœ¨ <code>onKeyDown</code> ä¸­å†æ¬¡æ‹¦æˆªã€‚</p>
<p>Kotlin</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onKeyDown</span><span class="hljs-params">(keyCode: <span class="hljs-type">Int</span>, event: <span class="hljs-type">KeyEvent</span>?)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (keyCode) {
        KeyEvent.KEYCODE_DPAD_UP,
        KeyEvent.KEYCODE_DPAD_DOWN,
        KeyEvent.KEYCODE_DPAD_LEFT,
        KeyEvent.KEYCODE_DPAD_RIGHT -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// æ‹¦æˆªæ‰€æœ‰</span>
        <span class="hljs-keyword">else</span> -&gt; <span class="hljs-keyword">super</span>.onKeyDown(keyCode, event)
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-5">ğŸ’¡ ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œè’™å±‚â€ï¼Ÿ</h2>
<p>Android ç³»ç»Ÿçš„ç„¦ç‚¹ç§»åŠ¨é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ–¹å‘é”®æŒ‰ä¸‹</strong>ï¼šç³»ç»Ÿè°ƒç”¨ <code>focusSearch()</code>ã€‚</li>
<li><strong>æŸ¥æ‰¾ç®—æ³•</strong>ï¼šç³»ç»Ÿåœ¨æ•´ä¸ª View æ ‘ä¸­å¯»æ‰¾è·ç¦»æœ€è¿‘çš„ã€å¯èšç„¦çš„ Viewã€‚</li>
<li><strong>è§†è§‰åé¦ˆ</strong>ï¼šä¸€æ—¦æ‰¾åˆ°æ–° Viewï¼Œç³»ç»Ÿä¼šç»˜åˆ¶ä¸€ä¸ªé»˜è®¤çš„é«˜äº®å±‚ï¼ˆå³ä½ çœ‹åˆ°çš„è’™å±‚ï¼‰ã€‚</li>
</ol>
<p><strong>æœ€ç»ˆå»ºè®®ï¼š</strong> å¦‚æœä½ æ˜¯åœ¨åš <strong>AAOS è½¦è½½å¯åŠ¨å™¨</strong> æˆ– <strong>å…¨å±åº”ç”¨</strong>ï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€æ­¥</strong>ï¼šä½¿ç”¨ <strong>è¿›é˜¶æ–¹æ¡ˆäºŒ</strong>ï¼Œé‡æ„æ ¹å¸ƒå±€å¹¶è¿”å› <code>null</code>ã€‚</li>
<li><strong>ç¬¬äºŒæ­¥</strong>ï¼šè®¾ç½® <code>android:defaultFocusHighlightEnabled="false"</code>ã€‚</li>
</ul>
<p>è¿™ä¸¤æ­¥é…åˆï¼Œå¯ä»¥ç¡®ä¿å³ä¾¿ç³»ç»Ÿåœ¨åº•å±‚å¤„ç†äº†äº‹ä»¶ï¼Œä¹Ÿä¸ä¼šæœ‰è§†è§‰ä¸Šçš„è’™å±‚å‡ºç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app é¡µé¢ä¼ å‚æ€»ä¸¢å€¼ï¼Ÿ3 ç§æ–¹æ³•ç¨³å¦‚ç‹—ï¼]]></title>    <link>https://juejin.cn/post/7584861353804595236</link>    <guid>https://juejin.cn/post/7584861353804595236</guid>    <pubDate>2025-12-18T08:55:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584861353804595236" data-draft-id="7584861353804562468" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app é¡µé¢ä¼ å‚æ€»ä¸¢å€¼ï¼Ÿ3 ç§æ–¹æ³•ç¨³å¦‚ç‹—ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T08:55:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸”_"/> <meta itemprop="url" content="https://juejin.cn/user/378670048349630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app é¡µé¢ä¼ å‚æ€»ä¸¢å€¼ï¼Ÿ3 ç§æ–¹æ³•ç¨³å¦‚ç‹—ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/378670048349630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸”_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:55:37.000Z" title="Thu Dec 18 2025 08:55:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39f18df0c31344babfcfac934c19ee8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5riUXw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652937&amp;x-signature=pMcC6l%2BXwiPm0oP3pav%2BZjo49zs%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251218165450_510_8.jpg" loading="lazy"/>
æ˜æ˜ä¼ äº†å¯¹è±¡ï¼Œæ¥æ”¶ç«¯å´æ˜¯Â <code>undefined</code>ï¼›åˆ·æ–°é¡µé¢å‚æ•°ç›´æ¥æ¶ˆå¤±â€¦è¯•äº†è¿™ 3 ç§æ–¹æ³•ï¼Œå†ä¹Ÿæ²¡å‡ºè¿‡é—®é¢˜ï¼</p>
<h4 data-id="heading-0">âœ… æ–¹æ³• 1ï¼šURL ä¼ å‚ï¼ˆç®€å•å€¼é¦–é€‰ï¼‰</h4>
<p>é€‚åˆä¼ å­—ç¬¦ä¸²ã€æ•°å­—è¿™ç±»ç®€å•æ•°æ®ï¼Œç›´æ¥æ‹¼åœ¨è·³è½¬è·¯å¾„åé¢</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·³è½¬é¡µä¼ å‚</span>
uni.<span class="hljs-title function_">navigateTo</span>({
  <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/detail/detail?id=1&amp;name=æµ‹è¯•`</span>
});

<span class="hljs-comment">// æ¥æ”¶é¡µå–å€¼ï¼ˆonLoad ç”Ÿå‘½å‘¨æœŸé‡Œï¼‰</span>
<span class="hljs-title function_">onLoad</span>(<span class="hljs-params">options</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(options.<span class="hljs-property">id</span>); <span class="hljs-comment">// 1</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(options.<span class="hljs-property">name</span>); <span class="hljs-comment">// æµ‹è¯•</span>
}
</code></pre>
<p>âš ï¸ æ³¨æ„ï¼šä¼ å¯¹è±¡ä¼šè‡ªåŠ¨è½¬å­—ç¬¦ä¸²ï¼Œå¤æ‚æ•°æ®åˆ«ç”¨è¿™ä¸ªï¼</p>
<h4 data-id="heading-1">âœ… æ–¹æ³• 2ï¼šå…¨å±€å˜é‡ä¼ å‚ï¼ˆå¤æ‚æ•°æ®é¦–é€‰ï¼‰</h4>
<p>åœ¨Â <code>App.vue</code>Â é‡Œå®šä¹‰å…¨å±€å˜é‡ï¼Œé€‚åˆä¼ å¯¹è±¡ã€æ•°ç»„</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// App.vue å®šä¹‰</span>
export default {
  globalData: {
    userInfo: {}
  }
}

<span class="hljs-comment">// è·³è½¬é¡µå­˜æ•°æ®</span>
<span class="hljs-built_in">getApp</span>()<span class="hljs-selector-class">.globalData</span><span class="hljs-selector-class">.userInfo</span> = { id: <span class="hljs-number">1</span>, name: <span class="hljs-string">"æµ‹è¯•"</span> };
uni<span class="hljs-selector-class">.navigateTo</span>({ url: `/pages/detail/detail` });

<span class="hljs-comment">// æ¥æ”¶é¡µå–æ•°æ®</span>
<span class="hljs-built_in">onLoad</span>() {
  const user = <span class="hljs-built_in">getApp</span>()<span class="hljs-selector-class">.globalData</span><span class="hljs-selector-class">.userInfo</span>;
  console<span class="hljs-selector-class">.log</span>(user); <span class="hljs-comment">// å®Œæ•´å¯¹è±¡</span>
}
</code></pre>
<h4 data-id="heading-2">âœ… æ–¹æ³• 3ï¼šæœ¬åœ°å­˜å‚¨ä¼ å‚ï¼ˆè·¨é¡µé¢æŒä¹…åŒ–ï¼‰</h4>
<p>éœ€è¦æ•°æ®æŒä¹…åŒ–ï¼ˆæ¯”å¦‚é‡å¯ APP è¿˜åœ¨ï¼‰å°±ç”¨è¿™ä¸ªï¼Œå­˜åˆ°æœ¬åœ°ç¼“å­˜é‡Œ</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è·³è½¬é¡µå­˜æ•°æ®</span>
uni.<span class="hljs-title function_">setStorageSync</span>(<span class="hljs-string">"orderData"</span>, { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">99</span> });
uni.<span class="hljs-title function_">switchTab</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">`/pages/order/order`</span> });

<span class="hljs-comment">// æ¥æ”¶é¡µå–æ•°æ®</span>
<span class="hljs-title function_">onShow</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> order = uni.<span class="hljs-title function_">getStorageSync</span>(<span class="hljs-string">"orderData"</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(order);
  <span class="hljs-comment">// ç”¨å®Œå¯ä»¥åˆ æ‰ï¼Œé¿å…å ç”¨ç¼“å­˜</span>
  uni.<span class="hljs-title function_">removeStorageSync</span>(<span class="hljs-string">"orderData"</span>);
}
</code></pre>
<p>ğŸ’¡ é¿å‘æé†’ï¼š</p>
<ol>
<li>URL ä¼ å‚åˆ«ä¼ å¤æ‚å¯¹è±¡ï¼Œä¼šè¢«æˆªæ–­ï¼</li>
<li>å…¨å±€å˜é‡é¡µé¢å¸è½½ä¸ä¼šæ¶ˆå¤±ï¼Œè®°å¾—åŠæ—¶æ¸…ç©ºï¼</li>
<li>æœ¬åœ°å­˜å‚¨å­˜å¤šäº†å ç©ºé—´ï¼Œç”¨å®Œå°±åˆ ï¼</li>
</ol>
<p>#uni-app å¼€å‘ #å‰ç«¯æŠ€å·§ #é¡µé¢ä¼ å‚</p>
<hr/>
<h3 data-id="heading-3">2. æ ‡é¢˜ï¼šuni-app å®ç°ä¸‹æ‹‰åˆ·æ–° + ä¸Šæ‹‰åŠ è½½ï¼Œå¤åˆ¶å°±èƒ½ç”¨ï¼</h3>
<p>åšåˆ—è¡¨é¡µå¿…å¤‡çš„ä¸‹æ‹‰åˆ·æ–° + ä¸Šæ‹‰åŠ è½½ï¼Œå…¶å®è¶…ç®€å•ï¼ä¸ç”¨è£…æ’ä»¶ï¼ŒåŸç”Ÿ API ä¸¤æ­¥æå®šï¼Œå…¼å®¹æ‰€æœ‰ç«¯ï¼</p>
<h4 data-id="heading-4">ğŸ“ æ­¥éª¤ 1ï¼šé¡µé¢é…ç½®å¼€å¯åŠŸèƒ½</h4>
<p>åœ¨å¯¹åº”é¡µé¢çš„Â <code>pages.json</code>Â é‡ŒåŠ é…ç½®ï¼Œå…è®¸ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½</p>
<p>json</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pages/list/list"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"enablePullDownRefresh"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å¼€å¯ä¸‹æ‹‰åˆ·æ–°</span>
    <span class="hljs-attr">"onReachBottomDistance"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50</span> <span class="hljs-comment">// è·ç¦»åº•éƒ¨50pxè§¦å‘ä¸Šæ‹‰</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-5">ğŸ“ æ­¥éª¤ 2ï¼šå†™é€»è¾‘ä»£ç </h4>
<p>åœ¨é¡µé¢çš„Â <code>script</code>Â é‡Œå†™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¤„ç†åˆ·æ–°å’ŒåŠ è½½é€»è¾‘</p>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-kotlin" lang="kotlin">export default {
  <span class="hljs-keyword">data</span>() {
    <span class="hljs-keyword">return</span> {
      list: [], <span class="hljs-comment">// åˆ—è¡¨æ•°æ®</span>
      page: <span class="hljs-number">1</span>, <span class="hljs-comment">// å½“å‰é¡µç </span>
      pageSize: <span class="hljs-number">10</span>, <span class="hljs-comment">// æ¯é¡µæ¡æ•°</span>
      hasMore: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®</span>
    };
  },
  onLoad() {
    <span class="hljs-comment">// é¡µé¢åŠ è½½æ—¶è·å–ç¬¬ä¸€é¡µæ•°æ®</span>
    <span class="hljs-keyword">this</span>.getListData();
  },
  <span class="hljs-comment">// ä¸‹æ‹‰åˆ·æ–°è§¦å‘</span>
  onPullDownRefresh() {
    <span class="hljs-comment">// é‡ç½®é¡µç å’ŒçŠ¶æ€</span>
    <span class="hljs-keyword">this</span>.page = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">this</span>.hasMore = <span class="hljs-literal">true</span>;
    <span class="hljs-comment">// é‡æ–°è¯·æ±‚æ•°æ®</span>
    <span class="hljs-keyword">this</span>.getListData(() =&gt; {
      <span class="hljs-comment">// åœæ­¢ä¸‹æ‹‰åˆ·æ–°åŠ¨ç”»</span>
      uni.stopPullDownRefresh();
    });
  },
  <span class="hljs-comment">// ä¸Šæ‹‰åŠ è½½è§¦å‘</span>
  onReachBottom() {
    <span class="hljs-comment">// æ²¡æœ‰æ›´å¤šæ•°æ®å°±ç›´æ¥è¿”å›</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasMore) <span class="hljs-keyword">return</span>;
    <span class="hljs-comment">// é¡µç +1</span>
    <span class="hljs-keyword">this</span>.page++;
    <span class="hljs-keyword">this</span>.getListData();
  },
  methods: {
    <span class="hljs-comment">// è·å–åˆ—è¡¨æ•°æ®</span>
    getListData(callback) {
      <span class="hljs-comment">// æ¨¡æ‹Ÿè¯·æ±‚æ¥å£ï¼Œå®é™…æ¢æˆä½ çš„æ¥å£åœ°å€</span>
      uni.request({
        url: <span class="hljs-string">"https://xxx.com/api/list"</span>,
        <span class="hljs-keyword">data</span>: {
          page: <span class="hljs-keyword">this</span>.page,
          pageSize: <span class="hljs-keyword">this</span>.pageSize
        },
        success: (res) =&gt; {
          <span class="hljs-keyword">const</span> <span class="hljs-keyword">data</span> = res.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">data</span>;
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.page === <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// ç¬¬ä¸€é¡µç›´æ¥è¦†ç›–æ•°æ®</span>
            <span class="hljs-keyword">this</span>.list = <span class="hljs-keyword">data</span>;
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// éç¬¬ä¸€é¡µè¿½åŠ æ•°æ®</span>
            <span class="hljs-keyword">this</span>.list = [...<span class="hljs-keyword">this</span>.list, ...<span class="hljs-keyword">data</span>];
          }
          <span class="hljs-comment">// æ²¡æœ‰æ›´å¤šæ•°æ®äº†</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">data</span>.length &lt; <span class="hljs-keyword">this</span>.pageSize) {
            <span class="hljs-keyword">this</span>.hasMore = <span class="hljs-literal">false</span>;
          }
          <span class="hljs-comment">// æ‰§è¡Œå›è°ƒï¼ˆåœæ­¢ä¸‹æ‹‰åˆ·æ–°ï¼‰</span>
          callback &amp;&amp; callback();
        }
      });
    }
  }
};
</code></pre>
<h4 data-id="heading-6">âœ¨ ä¼˜åŒ–ä½“éªŒï¼šåŠ åŠ è½½æç¤º</h4>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// è¯·æ±‚æ•°æ®æ—¶æ˜¾ç¤ºåŠ è½½ä¸­</span>
uni.<span class="hljs-title function_ invoke__">showLoading</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">"åŠ è½½ä¸­..."</span> });
<span class="hljs-comment">// è¯·æ±‚æˆåŠŸåéšè—</span>
uni.<span class="hljs-title function_ invoke__">hideLoading</span>();

<span class="hljs-comment">// æ²¡æœ‰æ›´å¤šæ•°æ®æ—¶æç¤º</span>
<span class="hljs-keyword">if</span> (!this.hasMore) {
  uni.<span class="hljs-title function_ invoke__">showToast</span>({
    <span class="hljs-attr">title</span>: <span class="hljs-string">"æ²¡æœ‰æ›´å¤šæ•°æ®äº†"</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">"none"</span>
  });
}
</code></pre>
<p>ğŸ’¡ æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li>ä¸‹æ‹‰åˆ·æ–°è¦é‡ç½®é¡µç ï¼Œé‡æ–°è¯·æ±‚ç¬¬ä¸€é¡µï¼</li>
<li>ä¸Šæ‹‰åŠ è½½è¦åˆ¤æ–­æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®ï¼Œé¿å…é‡å¤è¯·æ±‚ï¼</li>
<li>è®°å¾—åœæ­¢ä¸‹æ‹‰åˆ·æ–°åŠ¨ç”»ï¼Œä¸ç„¶ä¼šä¸€ç›´è½¬ï¼</li>
</ol>
<p>#uni-app æ•™ç¨‹ #åˆ—è¡¨åˆ†é¡µ #ä¸‹æ‹‰åˆ·æ–°</p>
<hr/>
<h3 data-id="heading-7">3. æ ‡é¢˜ï¼šuni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼</h3>
<p>åšé¡¹ç›®æ—¶ç”¨æˆ·æ€»è¯´å›¾ç‰‡ä¸èƒ½ä¿å­˜ï¼Ÿä¸€è¡Œä»£ç å®ç°å›¾ç‰‡é¢„è§ˆï¼Œé•¿æŒ‰è¿˜èƒ½ä¿å­˜åˆ°ç›¸å†Œï¼Œå®‰æ’ï¼</p>
<h4 data-id="heading-8">ğŸ¯ å®ç°ä»£ç </h4>
<p>html</p>
<p>é¢„è§ˆ</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- template é‡Œå†™å›¾ç‰‡åˆ—è¡¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"img-list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">image</span> 
    <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in imgList"</span> 
    <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
    <span class="hljs-attr">:src</span>=<span class="hljs-string">"item"</span> 
    <span class="hljs-attr">class</span>=<span class="hljs-string">"img-item"</span>
    @<span class="hljs-attr">click</span>=<span class="hljs-string">"previewImg(index)"</span>
  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å›¾ç‰‡åˆ—è¡¨ï¼Œæ¢æˆä½ çš„å›¾ç‰‡åœ°å€</span>
      <span class="hljs-attr">imgList</span>: [
        <span class="hljs-string">"https://xxx.com/img1.jpg"</span>,
        <span class="hljs-string">"https://xxx.com/img2.jpg"</span>,
        <span class="hljs-string">"https://xxx.com/img3.jpg"</span>
      ]
    };
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// é¢„è§ˆå›¾ç‰‡</span>
    <span class="hljs-title function_">previewImg</span>(<span class="hljs-params">current</span>) {
      uni.<span class="hljs-title function_">previewImage</span>({
        <span class="hljs-attr">current</span>: current, <span class="hljs-comment">// å½“å‰ç‚¹å‡»çš„å›¾ç‰‡ç´¢å¼•</span>
        <span class="hljs-attr">urls</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">imgList</span>, <span class="hljs-comment">// æ‰€æœ‰è¦é¢„è§ˆçš„å›¾ç‰‡åˆ—è¡¨</span>
        <span class="hljs-attr">longPressActions</span>: {
          <span class="hljs-comment">// é•¿æŒ‰æ˜¾ç¤ºçš„æ“ä½œèœå•</span>
          <span class="hljs-attr">itemList</span>: [<span class="hljs-string">"ä¿å­˜å›¾ç‰‡"</span>, <span class="hljs-string">"åˆ†äº«å›¾ç‰‡"</span>],
          <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (res.<span class="hljs-property">tapIndex</span> === <span class="hljs-number">0</span>) {
              <span class="hljs-comment">// ç‚¹å‡»ä¿å­˜å›¾ç‰‡</span>
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveImg</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imgList</span>[current]);
            }
          }
        }
      });
    },
    <span class="hljs-comment">// ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œ</span>
    <span class="hljs-title function_">saveImg</span>(<span class="hljs-params">imgUrl</span>) {
      uni.<span class="hljs-title function_">saveImageToPhotosAlbum</span>({
        <span class="hljs-attr">filePath</span>: imgUrl,
        <span class="hljs-attr">success</span>: <span class="hljs-function">() =&gt;</span> {
          uni.<span class="hljs-title function_">showToast</span>({
            <span class="hljs-attr">title</span>: <span class="hljs-string">"ä¿å­˜æˆåŠŸ"</span>,
            <span class="hljs-attr">icon</span>: <span class="hljs-string">"success"</span>
          });
        },
        <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
          <span class="hljs-comment">// ç”¨æˆ·æ‹’ç»æˆæƒæ—¶æç¤º</span>
          <span class="hljs-keyword">if</span> (err.<span class="hljs-property">errMsg</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"auth deny"</span>)) {
            uni.<span class="hljs-title function_">showToast</span>({
              <span class="hljs-attr">title</span>: <span class="hljs-string">"è¯·å¼€å¯ä¿å­˜å›¾ç‰‡æƒé™"</span>,
              <span class="hljs-attr">icon</span>: <span class="hljs-string">"none"</span>
            });
          }
        }
      });
    }
  }
};
</code></pre>
<h4 data-id="heading-9">ğŸ¨ åŠ ä¸ªç®€å•æ ·å¼</h4>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.img-list</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-wrap</span>: wrap;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.img-item</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">30%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
}
</code></pre>
<p>ğŸ’¡ æƒé™æé†’ï¼šä¿å­˜å›¾ç‰‡éœ€è¦ç”¨æˆ·æˆæƒï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»ä¼šå¼¹å‡ºæˆæƒæç¤ºï¼Œè®°å¾—å¼•å¯¼ç”¨æˆ·å…è®¸ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBootä¸­ä½¿ç”¨MyBatiså…¥é—¨ç¬”è®°]]></title>    <link>https://juejin.cn/post/7584758215701577766</link>    <guid>https://juejin.cn/post/7584758215701577766</guid>    <pubDate>2025-12-18T09:01:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584758215701577766" data-draft-id="7584810656383401993" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBootä¸­ä½¿ç”¨MyBatiså…¥é—¨ç¬”è®°"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:01:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºšå½“"/> <meta itemprop="url" content="https://juejin.cn/user/835284565238158"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBootä¸­ä½¿ç”¨MyBatiså…¥é—¨ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284565238158/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºšå½“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:01:43.000Z" title="Thu Dec 18 2025 09:01:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡æ•°æ®åº“ä»¥åŠæ•°æ®</strong></h2>
<ol>
<li>ç•¥è¿‡å®‰è£…æ•°æ®åº“æ“ä½œä»¥åŠåˆ›å»ºæ•°æ®åº“æ“ä½œ</li>
<li>åˆ›å»ºtb_userè¡¨
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37ae8004223848f1bbe551b758ff336e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa5b2T:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766653303&amp;x-signature=KC7KVsdp54%2FaJyRwonqYX%2FbjpDQ%3D" alt="image.png" loading="lazy"/></li>
<li>åˆå§‹åŒ–æ•°æ®
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/925195c55c0e4d1db5c619380004c8ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa5b2T:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766653303&amp;x-signature=logRhA75PytpfxrCICsPpqPka2Y%3D" alt="image.png" loading="lazy"/></li>
</ol>
<h2 data-id="heading-1"><strong>ç¬¬äºŒæ­¥ï¼šå‡†å¤‡Mavenå·¥ç¨‹</strong></h2>
<p>1ã€ä½¿ç”¨ideaåˆ›å»ºä¸€ä¸ªmavenå·¥ç¨‹</p>
<blockquote>
<p>å·¥ç¨‹åï¼šæˆ‘ä½¿ç”¨çš„æ˜¯springandmybatis</p>
<p>é€‰æ‹©maven</p>
<p>é€‰æ‹©JDK17æˆ–è€…ä»¥ä¸Šçš„ç‰ˆæœ¬</p>
<p>groupidï¼šä¹Ÿå°±æ˜¯åŒ…åï¼Œæˆ‘å†™çš„æ˜¯com.test</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ded241fd68d4de4be3158e2ceb14af7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa5b2T:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766653303&amp;x-signature=K5e5uxCLaDJjiKI19oHQOnDHVwU%3D" alt="image.png" loading="lazy"/></p>
<p>2ã€æ·»åŠ ä¾èµ–ï¼Œåœ¨<code>pom.xml</code>æ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–ï¼ˆæ³¨æ„å‡ ä¸ªæ·»åŠ æ³¨é‡Šçš„åœ°æ–¹ï¼‰ï¼Œæ·»åŠ åè®°å¾—åŒæ­¥</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span>
         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span>

    <span class="hljs-comment">&lt;!--  1ã€æ·»åŠ SpringBoot parent  --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.test<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springandmybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- 2ã€æ·»åŠ SpringBoot Web Starter --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- 3ã€æ·»åŠ Mybatis Starter --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- 3ã€æ·»åŠ MySql --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.33<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span>
</code></pre>
<p>3.æ·»åŠ é…ç½®æ–‡ä»¶ï¼ˆåœ¨resourcesç›®å½•ä¸‹ï¼Œæ·»åŠ application.yamlæ–‡ä»¶ï¼‰</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&amp;useSSL=false&amp;autoReconnect=true</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span>
    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span>

<span class="hljs-comment"># è¿™ç§æ–¹å¼æ¯”è¾ƒç®€å•</span>
<span class="hljs-attr">mybatis:</span>
  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:mapper/*.xml</span>
</code></pre>
<h2 data-id="heading-2"><strong>ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ä»£ç </strong></h2>
<ol>
<li>ç¼–å†™UserModelç±»ï¼Œå…¶ä½œç”¨æ˜¯å¯¹åº”æ•°æ®åº“è¡¨<code>tb_user</code></li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.test.model;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModel</span> {
    <span class="hljs-keyword">private</span> Integer id;
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-keyword">private</span> String password;
    <span class="hljs-keyword">private</span> String gender;
    <span class="hljs-keyword">private</span> String addr;

    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Integer id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> username;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> {
        <span class="hljs-built_in">this</span>.username = username;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> password;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> {
        <span class="hljs-built_in">this</span>.password = password;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getGender</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> gender;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setGender</span><span class="hljs-params">(String gender)</span> {
        <span class="hljs-built_in">this</span>.gender = gender;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAddr</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> addr;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddr</span><span class="hljs-params">(String addr)</span> {
        <span class="hljs-built_in">this</span>.addr = addr;
    }
}
</code></pre>
<ol start="2">
<li>ç¼–å†™UserMapperæ¥å£(æ³¨æ„ï¼šåœ¨ç±»ä¸Šé¢æ·»åŠ äº†<code>@Repository</code>æ³¨è§£)</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.test.mapper;

<span class="hljs-keyword">import</span> com.test.model.UserModel;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Repository;

<span class="hljs-keyword">import</span> java.util.List;


<span class="hljs-meta">@Repository</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> {
    <span class="hljs-comment">/**
     * æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·
     * <span class="hljs-doctag">@return</span>
     */</span>
    List&lt;UserModel&gt; <span class="hljs-title function_">selectAll</span><span class="hljs-params">()</span>;

    <span class="hljs-comment">/**
     * æ’å…¥ç”¨æˆ·
     * <span class="hljs-doctag">@param</span> userModel
     * <span class="hljs-doctag">@return</span>
     */</span>
    Integer <span class="hljs-title function_">insertUser</span><span class="hljs-params">(UserModel userModel)</span>;
}
</code></pre>
<ol start="3">
<li>ç¼–å†™userMapper.xml
åœ¨resourcesç›®å½•ä¸­åˆ›å»ºmapperç›®å½•ï¼Œç”¨æ¥ä¸“é—¨å­˜æ”¾mapperçš„xmlæ–‡ä»¶ï¼Œè¿™é‡Œæš‚æ—¶å…ˆåˆ›å»ºuserMapper.xml</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span> ?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span>
        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span>
        <span class="hljs-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"com.test.mapper.UserMapper"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æ’å…¥User --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"insertUser"</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">"com.test.model.UserModel"</span>&gt;</span>
        INSERT INTO tb_user(username, password, gender, addr) VALUES(#{username}, #{password}, #{gender}, #{addr})
    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- æŸ¥è¯¢æ‰€æœ‰User --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"selectAll"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"com.test.model.UserModel"</span>&gt;</span>
        SELECT * FROM tb_user
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span>
</code></pre>
<ol start="4">
<li>ç¼–å†™UserServiceç±»(æ³¨æ„ï¼šåœ¨ç±»ä¸Šé¢æ·»åŠ äº†<code>@Service</code>æ³¨è§£)</li>
</ol>

<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.test.service;

<span class="hljs-keyword">import</span> com.test.mapper.UserMapper;
<span class="hljs-keyword">import</span> com.test.model.UserModel;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserMapper userMapper;

    <span class="hljs-meta">@Autowired</span> <span class="hljs-comment">// æ„é€ å™¨æ³¨å…¥æ¨è</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserService</span><span class="hljs-params">(UserMapper userMapper)</span> {
        <span class="hljs-built_in">this</span>.userMapper = userMapper;
    }

    <span class="hljs-keyword">public</span> List&lt;UserModel&gt; <span class="hljs-title function_">selectAll</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> userMapper.selectAll();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">insertUser</span><span class="hljs-params">(UserModel user)</span> {
        <span class="hljs-keyword">return</span> userMapper.insertUser(user);
    }
}
</code></pre>
<p>5.  ç¼–å†™UserControllerç±»(æ³¨æ„ï¼šåœ¨ç±»ä¸Šé¢æ·»åŠ äº†<code>@RestController</code>æ³¨è§£)</p>

<pre><code class="hljs language-ini" lang="ini">package com.test.controller<span class="hljs-comment">;</span>

import com.test.model.UserModel<span class="hljs-comment">;</span>
import com.test.service.UserService<span class="hljs-comment">;</span>
import org.springframework.beans.factory.annotation.Autowired<span class="hljs-comment">;</span>
import org.springframework.web.bind.annotation.GetMapping<span class="hljs-comment">;</span>
import org.springframework.web.bind.annotation.RequestMapping<span class="hljs-comment">;</span>
import org.springframework.web.bind.annotation.ResponseBody<span class="hljs-comment">;</span>
import org.springframework.web.bind.annotation.RestController<span class="hljs-comment">;</span>

@RestController
@RequestMapping("/user")
public class UserController {

    @Autowired
    private UserService userService<span class="hljs-comment">;</span>


    @GetMapping(<span class="hljs-attr">path</span>=<span class="hljs-string">"/all"</span>)
    public @ResponseBody Iterable&lt;UserModel&gt; getAllUsers() {
        return userService.selectAll()<span class="hljs-comment">;</span>
    }

    @GetMapping(<span class="hljs-attr">path</span>=<span class="hljs-string">"/add"</span>)
    public @ResponseBody Iterable&lt;UserModel&gt; addUser() {
        String <span class="hljs-attr">username</span> = <span class="hljs-string">"å¼ ä¸‰"</span><span class="hljs-comment">;</span>
        String <span class="hljs-attr">password</span> = <span class="hljs-string">"123456"</span><span class="hljs-comment">;</span>
        String <span class="hljs-attr">gender</span>=<span class="hljs-string">"1"</span><span class="hljs-comment">;</span>
        String <span class="hljs-attr">addr</span> = <span class="hljs-string">"ä¸Šæµ·"</span><span class="hljs-comment">;</span>
        UserModel <span class="hljs-attr">userModel</span> = new UserModel()<span class="hljs-comment">;</span>
        userModel.setUsername(username)<span class="hljs-comment">;</span>
        userModel.setPassword(password)<span class="hljs-comment">;</span>
        userModel.setGender(gender)<span class="hljs-comment">;</span>
        userModel.setAddr(addr)<span class="hljs-comment">;</span>
        userService.insertUser(userModel)<span class="hljs-comment">;</span>
        return userService.selectAll()<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p>6.  ç¼–å†™ç¨‹åºå…¥å£ç±»ï¼ˆæ³¨æ„ï¼šåœ¨ç±»åä¸Šæ·»åŠ äº†<code>@SpringBootApplication</code>å’Œ<code>@MapperScan("com.test.mapper")</code>ä¸¤ä¸ªæ³¨è§£ï¼‰</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.test;

<span class="hljs-keyword">import</span> org.mybatis.spring.annotation.MapperScan;
<span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;
<span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;

<span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-meta">@MapperScan("com.test.mapper")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(Main.class, args);
    }
}
</code></pre>
<h2 data-id="heading-3"><strong>ç¬¬å››æ­¥ï¼šæµ‹è¯•</strong></h2>
<p>è¿è¡Œå…¥å£ç±»ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œå°±å¯ä»¥ä½¿ç”¨æµè§ˆå™¨è¯·æ±‚UserControllerä¸­å®šä¹‰çš„ä¸¤ä¸ªæ¥å£</p>
<ol>
<li>æŸ¥è¯¢æ‰€æœ‰</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/557dbe99ae104557a5ce8f5757c5a35f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa5b2T:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766653303&amp;x-signature=ijjYcfTotzM3uqUsc3MaTRNVAOQ%3D" alt="image.png" loading="lazy"/>
2. æ’å…¥æ•°æ®
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4debe6b215f040aca439411990284714~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqa5b2T:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766653303&amp;x-signature=jnYnO1UGcNtSWXADEZYmP3cWdlw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[0.1åŠ 0.2ä¸ºä»€ä¹ˆä¸ç­‰äº0.3-ç­”ä¸ä¸Šæ¥çš„éƒ½æŒ‚äº†]]></title>    <link>https://juejin.cn/post/7584817405229301801</link>    <guid>https://juejin.cn/post/7584817405229301801</guid>    <pubDate>2025-12-18T09:03:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584817405229301801" data-draft-id="7584817405229269033" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="0.1åŠ 0.2ä¸ºä»€ä¹ˆä¸ç­‰äº0.3-ç­”ä¸ä¸Šæ¥çš„éƒ½æŒ‚äº†"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2025-12-18T09:03:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            0.1åŠ 0.2ä¸ºä»€ä¹ˆä¸ç­‰äº0.3-ç­”ä¸ä¸Šæ¥çš„éƒ½æŒ‚äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:03:23.000Z" title="Thu Dec 18 2025 09:03:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">0.1 + 0.2 ä¸ºä»€ä¹ˆä¸ç­‰äº 0.3ï¼Ÿç­”ä¸ä¸Šæ¥çš„éƒ½æŒ‚äº†</h2>
<p>è¿™ä¸ªé—®é¢˜ä½ å¯èƒ½åœ¨é¢è¯•ã€çº¿ä¸Š Bugã€ç”šè‡³éšæ‰‹å†™ Demo çš„æ—¶å€™éƒ½è§è¿‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> === <span class="hljs-number">0.3</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”æ˜¯â€œæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜â€ï¼Œä½†å¦‚æœç»§ç»­è¿½é—®ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆååæ˜¯ <code>0.1</code>ã€<code>0.2</code> è¿™ç§å°æ•°å‡ºé—®é¢˜ï¼Ÿ</li>
<li>â€œç²¾åº¦â€åˆ°åº•ç²¾åœ¨å“ªä¸€ä½ã€ä¸¢åœ¨å“ªä¸€æ­¥ï¼Ÿ</li>
<li>å®é™…å¼€å‘é‡Œåº”è¯¥æ€ä¹ˆæ¯”è¾ƒã€æ€ä¹ˆè®¡ç®—æ‰ç¨³ï¼Ÿ</li>
</ul>
<p>è¿™ç¯‡æ–‡ç« æŒ‰â€œç°è±¡ â†’ åŸå›  â†’ è§£å†³ â†’ é¢è¯•å›ç­”â€çš„é¡ºåºï¼ŒæŠŠå®ƒè®²é€ã€‚</p>
<h3 data-id="heading-1">å…ˆçœ‹ç°è±¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>);  <span class="hljs-comment">// 0.30000000000000004</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.7</span>);  <span class="hljs-comment">// 0.7999999999999999</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.3</span> - <span class="hljs-number">0.2</span>);  <span class="hljs-comment">// 0.09999999999999998</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> * <span class="hljs-number">3</span>);    <span class="hljs-comment">// 0.30000000000000004</span>
</code></pre>
<p>ä½†æœ‰äº›è®¡ç®—åˆæ˜¯å¯¹çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.5</span> + <span class="hljs-number">0.5</span>);    <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.25</span> + <span class="hljs-number">0.25</span>);  <span class="hljs-comment">// 0.5</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.125</span> * <span class="hljs-number">8</span>);    <span class="hljs-comment">// 1</span>
</code></pre>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<h3 data-id="heading-2">æ ¹æœ¬åŸå› ï¼šäºŒè¿›åˆ¶æ— æ³•ç²¾ç¡®è¡¨ç¤ºæŸäº›åè¿›åˆ¶å°æ•°</h3>
<p>è®¡ç®—æœºç”¨äºŒè¿›åˆ¶å­˜å‚¨æ•°å­—ã€‚åè¿›åˆ¶çš„ 0.5 åœ¨äºŒè¿›åˆ¶é‡Œæ˜¯ 0.1ï¼Œèƒ½ç²¾ç¡®è¡¨ç¤ºã€‚ä½†åè¿›åˆ¶çš„ 0.1 åœ¨äºŒè¿›åˆ¶é‡Œæ˜¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">0.0001100110011001100110011001100110011</span>... (æ— é™å¾ªç¯)
</code></pre>
<p>å°±åƒåè¿›åˆ¶é‡Œ 1/3 = 0.333... æ— é™å¾ªç¯ä¸€æ ·ï¼Œ0.1 åœ¨äºŒè¿›åˆ¶é‡Œä¹Ÿæ˜¯æ— é™å¾ªç¯çš„ã€‚</p>
<p>ä½†è®¡ç®—æœºå†…å­˜æœ‰é™ï¼Œä¸èƒ½å­˜æ— é™é•¿çš„æ•°å­—ï¼Œå¿…é¡»åœ¨æŸä¸ªä½ç½®æˆªæ–­ã€‚JavaScript ç”¨çš„æ˜¯ IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œåªæœ‰ 64 ä½ï¼Œå…¶ä¸­ 52 ä½ç”¨æ¥å­˜å°æ•°éƒ¨åˆ†ã€‚</p>
<p>æˆªæ–­å°±æ„å‘³ç€è¯¯å·®ã€‚</p>
<h3 data-id="heading-3">å“ªäº›æ•°èƒ½ç²¾ç¡®è¡¨ç¤ºï¼Ÿ</h3>
<p>èƒ½è¢« 2 çš„å¹‚æ¬¡æ•´é™¤çš„å°æ•°ï¼Œåœ¨äºŒè¿›åˆ¶é‡Œéƒ½èƒ½ç²¾ç¡®è¡¨ç¤ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™äº›éƒ½æ˜¯ç²¾ç¡®çš„</span>
<span class="hljs-number">0.5</span>   = <span class="hljs-number">1</span>/<span class="hljs-number">2</span>     = <span class="hljs-number">0.1</span> (äºŒè¿›åˆ¶)
<span class="hljs-number">0.25</span>  = <span class="hljs-number">1</span>/<span class="hljs-number">4</span>     = <span class="hljs-number">0.01</span> (äºŒè¿›åˆ¶)
<span class="hljs-number">0.125</span> = <span class="hljs-number">1</span>/<span class="hljs-number">8</span>     = <span class="hljs-number">0.001</span> (äºŒè¿›åˆ¶)
<span class="hljs-number">0.0625</span> = <span class="hljs-number">1</span>/<span class="hljs-number">16</span>  = <span class="hljs-number">0.0001</span> (äºŒè¿›åˆ¶)
</code></pre>
<p>è€Œ 0.1 = 1/10ï¼Œ10 = 2 Ã— 5ï¼Œæœ‰å› å­ 5ï¼Œæ‰€ä»¥åœ¨äºŒè¿›åˆ¶é‡Œæ˜¯æ— é™å¾ªç¯ã€‚</p>
<p><strong>è§„å¾‹ï¼šåˆ†æ¯åªåŒ…å«å› å­ 2 çš„åˆ†æ•°ï¼Œåœ¨äºŒè¿›åˆ¶é‡Œèƒ½ç²¾ç¡®è¡¨ç¤ºã€‚</strong></p>
<h3 data-id="heading-4">æ€ä¹ˆè§£å†³ï¼Ÿ</h3>
<h4 data-id="heading-5">æ–¹æ¡ˆä¸€ï¼šå®¹å·®æ¯”è¾ƒï¼ˆæ¨èï¼‰</h4>
<p>æ—¢ç„¶æœ‰è¯¯å·®ï¼Œé‚£å°±åˆ«ç”¨ <code>===</code> æ¯”è¾ƒï¼Œæ”¹ç”¨"è¯¯å·®å°äºæŸä¸ªå€¼"ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isEqual</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(a - b) &lt; <span class="hljs-title class_">Number</span>.<span class="hljs-property">EPSILON</span>;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isEqual</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>)); <span class="hljs-comment">// true</span>
</code></pre>
<p><code>Number.EPSILON</code> æ˜¯ JavaScript é‡Œæœ€å°çš„å¯è¡¨ç¤ºç²¾åº¦å·®ï¼Œçº¦ç­‰äº 2.22e-16ã€‚</p>
<h4 data-id="heading-6">æ–¹æ¡ˆäºŒï¼šè½¬æˆæ•´æ•°ç®—</h4>
<p>å°æ•°ä¸ç²¾ç¡®ï¼Œæ•´æ•°æ˜¯ç²¾ç¡®çš„ã€‚æŠŠå°æ•°è½¬æˆæ•´æ•°ï¼Œç®—å®Œå†è½¬å›æ¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 0.1 + 0.2</span>
<span class="hljs-keyword">const</span> result = (<span class="hljs-number">0.1</span> * <span class="hljs-number">10</span> + <span class="hljs-number">0.2</span> * <span class="hljs-number">10</span>) / <span class="hljs-number">10</span>;  <span class="hljs-comment">// 0.3</span>

<span class="hljs-comment">// å°è£…ä¸€ä¸‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>) {
    <span class="hljs-keyword">const</span> precision = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(
        (a.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>)[<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>).<span class="hljs-property">length</span>,
        (b.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>)[<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>).<span class="hljs-property">length</span>
    );
    <span class="hljs-keyword">const</span> factor = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">10</span>, precision);
    <span class="hljs-keyword">return</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(a * factor) + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(b * factor)) / factor;
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>)); <span class="hljs-comment">// 0.3</span>
</code></pre>
<h4 data-id="heading-7">æ–¹æ¡ˆä¸‰ï¼štoFixed å››èˆäº”å…¥</h4>
<p>ç®€å•ç²—æš´ï¼Œç›´æ¥å››èˆäº”å…¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> result = <span class="hljs-built_in">parseFloat</span>((<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">10</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result); <span class="hljs-comment">// 0.3</span>
</code></pre>
<p>æ³¨æ„ <code>toFixed</code> è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œè¦ç”¨ <code>parseFloat</code> è½¬å›æ•°å­—ã€‚</p>
<h4 data-id="heading-8">æ–¹æ¡ˆå››ï¼šç”¨ä¸“é—¨çš„åº“</h4>
<p>é‡‘èè®¡ç®—è¿™ç§å¯¹ç²¾åº¦è¦æ±‚é«˜çš„åœºæ™¯ï¼Œç”¨ä¸“é—¨çš„åº“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// decimal.js</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Decimal</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'decimal.js'</span>;

<span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Decimal</span>(<span class="hljs-number">0.1</span>);
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Decimal</span>(<span class="hljs-number">0.2</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a.<span class="hljs-title function_">plus</span>(b).<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// "0.3"</span>
</code></pre>
<h3 data-id="heading-9">å®é™…å¼€å‘ä¸­æ€ä¹ˆé€‰ï¼Ÿ</h3>

























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ™®é€šæ¯”è¾ƒ</td><td>å®¹å·®æ¯”è¾ƒ</td></tr><tr><td>ä»·æ ¼è®¡ç®—</td><td>è½¬æˆæ•´æ•°ï¼ˆåˆ†ï¼‰æˆ–ç”¨ decimal.js</td></tr><tr><td>æ˜¾ç¤ºç”¨é€”</td><td>toFixed å››èˆäº”å…¥</td></tr><tr><td>ç§‘å­¦è®¡ç®—</td><td>ç”¨ä¸“é—¨çš„æ•°å€¼è®¡ç®—åº“</td></tr></tbody></table>
<h3 data-id="heading-10">é¢è¯•æ€ä¹ˆç­”ï¼Ÿ</h3>
<blockquote>
<p>JavaScript ç”¨ IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°å­˜å‚¨æ•°å­—ã€‚åè¿›åˆ¶çš„ 0.1 åœ¨äºŒè¿›åˆ¶é‡Œæ˜¯æ— é™å¾ªç¯å°æ•°ï¼Œä½†åªæœ‰ 52 ä½å­˜å‚¨ç©ºé—´ï¼Œå¿…é¡»æˆªæ–­ï¼Œæ‰€ä»¥æœ‰ç²¾åº¦æŸå¤±ã€‚0.1 å’Œ 0.2 å­˜å‚¨æ—¶éƒ½æœ‰å¾®å°è¯¯å·®ï¼ŒåŠ èµ·æ¥è¯¯å·®ç´¯ç§¯ï¼Œç»“æœå°±ä¸ç­‰äº 0.3 äº†ã€‚</p>
<p>è§£å†³æ–¹æ¡ˆæœ‰å‡ ç§ï¼šæ¯”è¾ƒæ—¶ç”¨å®¹å·®æ¯”è¾ƒã€è®¡ç®—æ—¶è½¬æˆæ•´æ•°ã€æˆ–è€…ç”¨ decimal.js è¿™æ ·çš„é«˜ç²¾åº¦åº“ã€‚</p>
</blockquote>
<p>å¦‚æœé¢è¯•å®˜ç»§ç»­é—®"IEEE 754 æ˜¯ä»€ä¹ˆ"ï¼Œå¯ä»¥è¡¥å……ï¼š</p>
<blockquote>
<p>IEEE 754 æ˜¯æµ®ç‚¹æ•°çš„å­˜å‚¨æ ‡å‡†ï¼Œç”¨ 64 ä½å­˜ä¸€ä¸ªæ•°å­—ï¼š1 ä½ç¬¦å·ä½ã€11 ä½æŒ‡æ•°ä½ã€52 ä½å°¾æ•°ä½ã€‚è¿™ä¸ªæ ‡å‡†æ˜¯ä¸ºäº†è®©ä¸åŒè®¡ç®—æœºä¸Šçš„æµ®ç‚¹è¿ç®—ç»“æœä¸€è‡´ã€‚</p>
</blockquote>
<h3 data-id="heading-11">ä¸€é“ç›¸å…³çš„å‘é¢˜</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> - <span class="hljs-number">0.3</span>); <span class="hljs-comment">// ?</span>
</code></pre>
<p>ç­”æ¡ˆä¸æ˜¯ 0ï¼Œè€Œæ˜¯ <code>5.551115123125783e-17</code>ã€‚</p>
<p>å†æ¥ä¸€é“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">9999999999999999</span>); <span class="hljs-comment">// ?</span>
</code></pre>
<p>ç­”æ¡ˆæ˜¯ <code>10000000000000000</code>ã€‚å› ä¸ºè¶…å‡ºäº†å®‰å…¨æ•´æ•°èŒƒå›´ï¼ˆ2^53 - 1ï¼‰ï¼Œç²¾åº¦ä¸¢å¤±äº†ã€‚</p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡è¶Šé«˜è¶Šæ¸…æ™°ï¼Ÿâ€”â€”ä»åƒç´ åˆ° 4K/8K çš„è§†è§‰é©å‘½]]></title>    <link>https://juejin.cn/post/7584760031835815970</link>    <guid>https://juejin.cn/post/7584760031835815970</guid>    <pubDate>2025-12-18T06:41:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584760031835815970" data-draft-id="7584780417103495208" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡è¶Šé«˜è¶Šæ¸…æ™°ï¼Ÿâ€”â€”ä»åƒç´ åˆ° 4K/8K çš„è§†è§‰é©å‘½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T06:41:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡è¶Šé«˜è¶Šæ¸…æ™°ï¼Ÿâ€”â€”ä»åƒç´ åˆ° 4K/8K çš„è§†è§‰é©å‘½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T06:41:30.000Z" title="Thu Dec 18 2025 06:41:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ–¥ï¸ ä¸ºä»€ä¹ˆæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡è¶Šé«˜è¶Šæ¸…æ™°ï¼Ÿâ€”â€”ä»åƒç´ åˆ° 4K/8K çš„è§†è§‰é©å‘½ ğŸ‘ï¸</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ— é™å¤§ï¼Œæ¬¢è¿æ”¶çœ‹åä¸‡ä¸ªä¸ºä»€ä¹ˆç³»åˆ—æ–‡ç« </p>
</blockquote>
<p>ä»Šå¤©å’±ä»¬æ¥èŠèŠæ˜¾ç¤ºå™¨è¿™ä¸ª"ç”µè„‘çš„è„¸"ï¼ä»æ¨¡ç³Šçš„è€å¼æ˜¾ç¤ºå™¨åˆ°å¦‚ä»Šçš„4K/8Ké«˜æ¸…å±ï¼Œæ˜¾ç¤ºå™¨çš„å‘å±•å¯è°“æ—¥æ–°æœˆå¼‚ã€‚å¸Œæœ›ä»Šå¤©çš„å†…å®¹èƒ½è®©ä½ å¯¹æ˜¾ç¤ºå™¨æœ‰æ›´æ·±å…¥çš„äº†è§£</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨çœ‹ä¸€æœ¬æ‚å¿—ï¼š</p>
<ul>
<li>ç”¨æ”¾å¤§é•œçœ‹ï¼Œå‘ç°æ¯ä¸ªå›¾ç‰‡éƒ½æ˜¯ç”±æ— æ•°ä¸ªå°ç‚¹ç»„æˆçš„</li>
<li>ç¦»è¿œçœ‹ï¼Œè¿™äº›å°ç‚¹å°±èåˆæˆäº†æ¸…æ™°çš„ç”»é¢</li>
</ul>
<p>æ˜¾ç¤ºå™¨çš„åŸç†å…¶å®å’Œæ‚å¿—ä¸€æ ·ï¼æ¯ä¸ªå°ç‚¹å°±æ˜¯ä¸€ä¸ª"åƒç´ "ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œåƒç´ è¶Šå¤šï¼Œç”»é¢å°±è¶Šæ¸…æ™°ã€‚ä»Šå¤©å’±ä»¬å°±æ¥æ­å¼€æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡çš„ç¥ç§˜é¢çº±ï¼</p>
<h3 data-id="heading-1">ğŸ¤” æ ¸å¿ƒé—®é¢˜ï¼šåˆ†è¾¨ç‡ã€åˆ·æ–°ç‡ã€è‰²åŸŸåˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ</h3>
<p>å¾ˆå¤šäººä¹°æ˜¾ç¤ºå™¨æ—¶ä¼šè¢«è¿™äº›æœ¯è¯­ææ™•ï¼š</p>
<ul>
<li>åˆ†è¾¨ç‡ï¼š1080Pã€2Kã€4Kã€8K</li>
<li>åˆ·æ–°ç‡ï¼š60Hzã€144Hzã€240Hz</li>
<li>è‰²åŸŸï¼šsRGBã€DCI-P3ã€Adobe RGB</li>
</ul>
<p>è¿™ä¸‰ä¸ªå‚æ•°å°±åƒæ˜¾ç¤ºå™¨çš„"ä¸‰å›´"ï¼Œå…±åŒå†³å®šäº†æ˜¾ç¤ºæ•ˆæœã€‚å’±ä»¬ä»Šå¤©é‡ç‚¹èŠèŠåˆ†è¾¨ç‡è¿™ä¸ª"èº«é«˜"å‚æ•°ï¼</p>
<h3 data-id="heading-2">ğŸ“œ æ˜¾ç¤ºå™¨çš„"è¿›åŒ–å²"ï¼šä»æ¨¡ç³Šåˆ°æ¸…æ™°çš„é©å‘½</h3>
<h4 data-id="heading-3">1. ğŸ“º VGAæ—¶ä»£ï¼š"èƒ½çœ‹å°±è¡Œ"</h4>
<p>1987å¹´ï¼ŒIBMæ¨å‡ºäº†VGAï¼ˆVideo Graphics Arrayï¼‰æ ‡å‡†ï¼Œåˆ†è¾¨ç‡ä¸º<strong>640x480</strong>ã€‚é‚£æ—¶å€™çš„æ˜¾ç¤ºå™¨å°±åƒè€èŠ±é•œï¼Œç”»é¢æ¨¡ç³Šå¾—åƒæ‰“äº†é©¬èµ›å…‹ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œç”¨VGAæ˜¾ç¤ºå™¨çœ‹ç”µå½±ï¼Œäººç‰©çš„è„¸éƒ½æ˜¯é”¯é½¿çŠ¶çš„ï¼Œæ–‡å­—è¾¹ç¼˜ä¹Ÿæ¯›æ¯›ç³™ç³™çš„ã€‚è¿™å°±æ˜¯20ä¸–çºª90å¹´ä»£çš„æ˜¾ç¤ºæ•ˆæœï¼Œæ˜¯ä¸æ˜¯å¾ˆæ„Ÿäººï¼ŸğŸ˜‚</p>
<h4 data-id="heading-4">2. ğŸš€ HDæ—¶ä»£ï¼š"é«˜æ¸…æ¥äº†"</h4>
<p>2000å¹´å·¦å³ï¼ŒHDï¼ˆHigh Definitionï¼‰æ ‡å‡†å‡ºç°ï¼Œåˆ†è¾¨ç‡ä¸º<strong>1280x720</strong>ï¼ˆ720Pï¼‰ã€‚è¿™æ—¶å€™çš„ç”»é¢å¼€å§‹å˜å¾—æ¸…æ™°ï¼Œé”¯é½¿ä¹Ÿå‡å°‘äº†ã€‚</p>
<p>2009å¹´ï¼Œ<strong>1920x1080</strong>ï¼ˆ1080Pï¼‰æˆä¸ºä¸»æµã€‚è¿™æ—¶å€™çš„æ˜¾ç¤ºå™¨ç»ˆäºèƒ½çœ‹æ¸…ç»†èŠ‚äº†ï¼Œæ–‡å­—ä¹Ÿå˜å¾—é”åˆ©èµ·æ¥ã€‚</p>
<h4 data-id="heading-5">3. ğŸ’ 4Kæ—¶ä»£ï¼š"è§†ç½‘è†œå±"</h4>
<p>2012å¹´ï¼Œè‹¹æœæ¨å‡ºäº†Retinaæ˜¾ç¤ºå±ï¼Œåˆ†è¾¨ç‡è¾¾åˆ°äº†<strong>2560x1440</strong>ï¼ˆ2Kï¼‰ã€‚2014å¹´ï¼Œ4Kæ˜¾ç¤ºå™¨å¼€å§‹æ™®åŠï¼Œåˆ†è¾¨ç‡ä¸º<strong>3840x2160</strong>ã€‚</p>
<p>4Kæ˜¾ç¤ºå™¨çš„åƒç´ æ•°é‡æ˜¯1080Pçš„4å€ï¼Œç”»é¢ç»†è…»å¾—åƒç…§ç‰‡ä¸€æ ·ã€‚ä½ ç”šè‡³éœ€è¦ç”¨æ”¾å¤§é•œæ‰èƒ½çœ‹åˆ°åƒç´ ç‚¹ï¼</p>
<h4 data-id="heading-6">4. ğŸŒŸ 8Kæ—¶ä»£ï¼š"æœªæ¥å·²æ¥"</h4>
<p>2020å¹´ï¼Œ8Kæ˜¾ç¤ºå™¨å¼€å§‹è¿›å…¥å¸‚åœºï¼Œåˆ†è¾¨ç‡ä¸º<strong>7680x4320</strong>ã€‚8Kæ˜¾ç¤ºå™¨æœ‰3300ä¸‡åƒç´ ï¼Œæ˜¯1080Pçš„16å€ï¼</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œç”¨8Kæ˜¾ç¤ºå™¨çœ‹é£æ™¯ç…§ç‰‡ï¼Œè¿æ ‘å¶çš„è„‰ç»œéƒ½èƒ½çœ‹å¾—æ¸…æ¸…æ¥šæ¥šã€‚è¿™å°±æ˜¯æœªæ¥çš„æ˜¾ç¤ºæ•ˆæœï¼</p>
<h3 data-id="heading-7">ğŸ”§ æŠ€æœ¯åŸç†ï¼šåˆ†è¾¨ç‡çš„ç§˜å¯†</h3>
<h4 data-id="heading-8">1. ğŸ“ åƒç´ å¯†åº¦ï¼ˆPPIï¼‰ï¼šç”»é¢æ¸…æ™°çš„å…³é”®</h4>
<p>åƒç´ å¯†åº¦æ˜¯æŒ‡æ¯è‹±å¯¸å±å¹•ä¸Šçš„åƒç´ æ•°é‡ï¼Œå•ä½æ˜¯PPIï¼ˆPixels Per Inchï¼‰ã€‚PPIè¶Šé«˜ï¼Œç”»é¢è¶Šæ¸…æ™°ã€‚</p>
<p>è®¡ç®—PPIçš„å…¬å¼å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">PPI</span> = âˆš(å®½åº¦åƒç´ Â² + é«˜åº¦åƒç´ Â²) / å±å¹•å°ºå¯¸ï¼ˆè‹±å¯¸ï¼‰
</code></pre>
<p><strong>ä»£ç å®ä¾‹</strong>ï¼šç”¨Pythonè®¡ç®—ä¸åŒåˆ†è¾¨ç‡çš„PPI</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_ppi</span>(<span class="hljs-params">width_px, height_px, screen_size</span>):
    <span class="hljs-string">"""è®¡ç®—æ˜¾ç¤ºå™¨çš„PPI"""</span>
    diagonal_px = (width_px ** <span class="hljs-number">2</span> + height_px ** <span class="hljs-number">2</span>) ** <span class="hljs-number">0.5</span>
    ppi = diagonal_px / screen_size
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">round</span>(ppi, <span class="hljs-number">2</span>)

<span class="hljs-comment"># å¸¸è§åˆ†è¾¨ç‡çš„PPIè®¡ç®—</span>
screen_size = <span class="hljs-number">27</span>  <span class="hljs-comment"># 27è‹±å¯¸æ˜¾ç¤ºå™¨</span>

resolutions = [
    (<span class="hljs-number">640</span>, <span class="hljs-number">480</span>, <span class="hljs-string">"VGA"</span>),
    (<span class="hljs-number">1280</span>, <span class="hljs-number">720</span>, <span class="hljs-string">"720P"</span>),
    (<span class="hljs-number">1920</span>, <span class="hljs-number">1080</span>, <span class="hljs-string">"1080P"</span>),
    (<span class="hljs-number">2560</span>, <span class="hljs-number">1440</span>, <span class="hljs-string">"2K"</span>),
    (<span class="hljs-number">3840</span>, <span class="hljs-number">2160</span>, <span class="hljs-string">"4K"</span>),
    (<span class="hljs-number">7680</span>, <span class="hljs-number">4320</span>, <span class="hljs-string">"8K"</span>)
]

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{screen_size}</span>è‹±å¯¸æ˜¾ç¤ºå™¨ä¸åŒåˆ†è¾¨ç‡çš„PPIï¼š"</span>)
<span class="hljs-keyword">for</span> width, height, name <span class="hljs-keyword">in</span> resolutions:
    ppi = calculate_ppi(width, height, screen_size)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{name}</span> (<span class="hljs-subst">{width}</span>x<span class="hljs-subst">{height}</span>)ï¼š<span class="hljs-subst">{ppi}</span> PPI"</span>)
</code></pre>
<p><strong>è¿è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">27</span>è‹±å¯¸æ˜¾ç¤ºå™¨ä¸åŒåˆ†è¾¨ç‡çš„PPIï¼š
VGA (<span class="hljs-number">640</span>x480)ï¼š<span class="hljs-number">30.0</span> PPI
<span class="hljs-number">720</span>P (<span class="hljs-number">1280</span>x720)ï¼š<span class="hljs-number">58.84</span> PPI
<span class="hljs-number">1080</span>P (<span class="hljs-number">1920</span>x1080)ï¼š<span class="hljs-number">88.28</span> PPI
<span class="hljs-number">2</span>K (<span class="hljs-number">2560</span>x1440)ï¼š<span class="hljs-number">117.71</span> PPI
<span class="hljs-number">4</span>K (<span class="hljs-number">3840</span>x2160)ï¼š<span class="hljs-number">176.57</span> PPI
<span class="hljs-number">8</span>K (<span class="hljs-number">7680</span>x4320)ï¼š<span class="hljs-number">353.14</span> PPI
</code></pre>
<h4 data-id="heading-9">2. âš¡ åˆ·æ–°ç‡ï¼ˆHzï¼‰ï¼šæµç•…åº¦çš„å…³é”®</h4>
<p>åˆ·æ–°ç‡æ˜¯æŒ‡æ˜¾ç¤ºå™¨æ¯ç§’åˆ·æ–°ç”»é¢çš„æ¬¡æ•°ï¼Œå•ä½æ˜¯Hzã€‚åˆ·æ–°ç‡è¶Šé«˜ï¼Œç”»é¢è¶Šæµç•…ã€‚</p>
<ul>
<li><strong>60Hz</strong>ï¼šæ—¥å¸¸åŠå…¬è¶³å¤Ÿï¼Œçœ‹è§†é¢‘æµç•…</li>
<li><strong>144Hz</strong>ï¼šæ¸¸æˆç©å®¶çš„æœ€çˆ±ï¼Œç”»é¢ä¸æ»‘</li>
<li><strong>240Hz</strong>ï¼šèŒä¸šé€‰æ‰‹çš„é€‰æ‹©ï¼Œæè‡´æµç•…</li>
</ul>
<p><strong>æ•°æ®æ”¯æ’‘</strong>ï¼š144Hzåˆ·æ–°ç‡æ¯”60Hzæµç•…åº¦æå‡140%ï¼</p>
<h4 data-id="heading-10">3. ğŸ¨ è‰²åŸŸï¼šè‰²å½©ä¸°å¯Œåº¦çš„å…³é”®</h4>
<p>è‰²åŸŸæ˜¯æŒ‡æ˜¾ç¤ºå™¨èƒ½æ˜¾ç¤ºçš„é¢œè‰²èŒƒå›´ã€‚å¸¸è§çš„è‰²åŸŸæ ‡å‡†æœ‰ï¼š</p>
<ul>
<li><strong>sRGB</strong>ï¼šæ ‡å‡†è‰²åŸŸï¼Œè¦†ç›–çº¦1677ä¸‡ç§é¢œè‰²</li>
<li><strong>DCI-P3</strong>ï¼šç”µå½±è‰²åŸŸï¼Œè¦†ç›–çº¦10.7äº¿ç§é¢œè‰²</li>
<li><strong>Adobe RGB</strong>ï¼šè®¾è®¡è‰²åŸŸï¼Œé€‚åˆä¸“ä¸šè®¾è®¡</li>
</ul>
<p>è‰²åŸŸè¶Šå¹¿ï¼Œé¢œè‰²è¶Šé²œè‰³ï¼Œç”»é¢è¶Šé€¼çœŸã€‚</p>
<h3 data-id="heading-11">ğŸ“Š è¶£å‘³å¯¹æ¯”ï¼šä¸åŒåˆ†è¾¨ç‡çš„è§†è§‰æ•ˆæœ</h3>






















































<table><thead><tr><th>åˆ†è¾¨ç‡</th><th>åƒç´ æ•°é‡</th><th>27è‹±å¯¸PPI</th><th>è§†è§‰æ•ˆæœ</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>VGA (640x480)</td><td>30.7ä¸‡</td><td>30</td><td>é©¬èµ›å…‹</td><td>å†å²åšç‰©é¦†</td></tr><tr><td>720P (1280x720)</td><td>92.2ä¸‡</td><td>58.8</td><td>æ¨¡ç³Š</td><td>è€æ—§è®¾å¤‡</td></tr><tr><td>1080P (1920x1080)</td><td>207.3ä¸‡</td><td>88.3</td><td>æ¸…æ™°</td><td>æ—¥å¸¸åŠå…¬</td></tr><tr><td>2K (2560x1440)</td><td>368.6ä¸‡</td><td>117.7</td><td>éå¸¸æ¸…æ™°</td><td>æ¸¸æˆã€è®¾è®¡</td></tr><tr><td>4K (3840x2160)</td><td>829.4ä¸‡</td><td>176.6</td><td>è§†ç½‘è†œå±</td><td>ä¸“ä¸šè®¾è®¡ã€ç”µå½±</td></tr><tr><td>8K (7680x4320)</td><td>3317.7ä¸‡</td><td>353.1</td><td>æè‡´æ¸…æ™°</td><td>æœªæ¥å½±é™¢</td></tr></tbody></table>
<p><strong>è¶£å‘³è§‚å¯Ÿ</strong>ï¼š</p>
<ul>
<li>8Kçš„åƒç´ æ•°é‡æ˜¯1080Pçš„16å€ï¼Œç›¸å½“äºæŠŠ16ä¸ª1080På±å¹•æ‹¼åœ¨ä¸€èµ·</li>
<li>4Kæ˜¾ç¤ºå™¨åœ¨27è‹±å¯¸ä¸‹çš„PPIè¾¾åˆ°176.6ï¼Œè¶…è¿‡äº†äººçœ¼çš„åˆ†è¾¨æé™ï¼ˆçº¦150PPIï¼‰</li>
</ul>
<h3 data-id="heading-12">ğŸ® æ¸¸æˆä¸­çš„åˆ†è¾¨ç‡å·®å¼‚</h3>
<p>ç©æ¸¸æˆæ—¶ï¼Œåˆ†è¾¨ç‡å¯¹ä½“éªŒçš„å½±å“éå¸¸æ˜æ˜¾ï¼š</p>
<h4 data-id="heading-13">1080P vs 4Kæ¸¸æˆå¯¹æ¯”ï¼š</h4>
<ul>
<li><strong>1080P</strong>ï¼šèƒ½çœ‹æ¸…æ•Œäººï¼Œä½†è¿œå¤„çš„ç»†èŠ‚æ¨¡ç³Šï¼Œæ–‡å­—è¾¹ç¼˜æœ‰é”¯é½¿</li>
<li><strong>4K</strong>ï¼šèƒ½çœ‹æ¸…æ•Œäººçš„è¡¨æƒ…ï¼Œè¿œå¤„çš„è‰å¶ä¹Ÿæ¸…æ™°å¯è§ï¼Œæ–‡å­—é”åˆ©å¦‚åˆ€</li>
</ul>
<p><strong>æ•°æ®æ”¯æ’‘</strong>ï¼š</p>
<ul>
<li>ç©ã€Šèµ›åšæœ‹å…‹2077ã€‹ï¼Œ1080Pä¸‹èƒ½çœ‹åˆ°100ç±³å†…çš„æ•Œäºº</li>
<li>4Kä¸‹èƒ½çœ‹åˆ°200ç±³å¤–çš„æ•Œäººï¼Œç”šè‡³èƒ½çœ‹æ¸…æ•Œäººçš„è£…å¤‡ç»†èŠ‚</li>
</ul>
<h3 data-id="heading-14">ğŸ–¥ï¸ å¦‚ä½•é€‰æ‹©åˆé€‚çš„åˆ†è¾¨ç‡ï¼Ÿ</h3>
<p>å¾ˆå¤šäººçº ç»“ï¼šåˆ°åº•è¯¥ä¹°1080Pã€2Kè¿˜æ˜¯4Kæ˜¾ç¤ºå™¨ï¼Ÿ</p>
<h4 data-id="heading-15">é€‰æ‹©å»ºè®®ï¼š</h4>
<ol>
<li><strong>å±å¹•å°ºå¯¸</strong>ï¼š24è‹±å¯¸ä»¥ä¸‹é€‰1080Pï¼Œ27è‹±å¯¸é€‰2Kï¼Œ32è‹±å¯¸ä»¥ä¸Šé€‰4K</li>
<li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šåŠå…¬é€‰1080P/2Kï¼Œæ¸¸æˆé€‰2K/4Kï¼Œè®¾è®¡é€‰4K</li>
<li><strong>ç”µè„‘æ€§èƒ½</strong>ï¼šæ˜¾å¡è‡³å°‘è¦GTX 1660æ‰èƒ½æµç•…ç©2Kæ¸¸æˆï¼ŒRTX 3070æ‰èƒ½æµç•…ç©4Kæ¸¸æˆ</li>
<li><strong>é¢„ç®—</strong>ï¼š1080Pæœ€åˆ’ç®—ï¼Œ2Kæ€§ä»·æ¯”æœ€é«˜ï¼Œ4Kæœ€è´µ</li>
</ol>
<h3 data-id="heading-16">âš ï¸ å¸¸è§è¯¯åŒºçº æ­£</h3>
<h4 data-id="heading-17">1. "åˆ†è¾¨ç‡è¶Šé«˜è¶Šå¥½ï¼Ÿ"</h4>
<p>ä¸ä¸€å®šï¼å¦‚æœå±å¹•å¤ªå°ï¼Œé«˜åˆ†è¾¨ç‡ä¼šå¯¼è‡´æ–‡å­—å¤ªå°ï¼Œåè€Œä¼¤çœ¼ç›ã€‚æ¯”å¦‚24è‹±å¯¸æ˜¾ç¤ºå™¨ç”¨4Kï¼Œæ–‡å­—ä¼šå°å¾—åƒèš‚èšã€‚</p>
<h4 data-id="heading-18">2. "åˆ·æ–°ç‡æ¯”åˆ†è¾¨ç‡é‡è¦ï¼Ÿ"</h4>
<p>çœ‹ç”¨é€”ï¼åŠå…¬å’Œçœ‹è§†é¢‘ï¼Œåˆ†è¾¨ç‡æ›´é‡è¦ï¼›ç©æ¸¸æˆï¼Œåˆ·æ–°ç‡æ›´é‡è¦ã€‚</p>
<h4 data-id="heading-19">3. "è‰²åŸŸè¶Šå¹¿è¶Šå¥½ï¼Ÿ"</h4>
<p>ä¸ä¸€å®šï¼å¦‚æœä¸åšä¸“ä¸šè®¾è®¡ï¼Œå¹¿è‰²åŸŸå¯èƒ½å¯¼è‡´é¢œè‰²è¿‡é¥±å’Œï¼Œåè€Œä¸èˆ’æœã€‚</p>
<h3 data-id="heading-20">ğŸ”® æœªæ¥å±•æœ›ï¼šæ˜¾ç¤ºå™¨çš„å‘å±•è¶‹åŠ¿</h3>
<h4 data-id="heading-21">1. ğŸš€ 8Kæ™®åŠ</h4>
<p>2025å¹´ï¼Œ8Kæ˜¾ç¤ºå™¨ä»·æ ¼é¢„è®¡ä¼šé™åˆ°3000å…ƒå·¦å³ï¼Œå¼€å§‹è¿›å…¥æ™®é€šå®¶åº­ã€‚</p>
<h4 data-id="heading-22">2. ğŸ’¡ HDRæŠ€æœ¯</h4>
<p>HDRï¼ˆé«˜åŠ¨æ€èŒƒå›´ï¼‰èƒ½è®©ç”»é¢çš„æ˜æš—å¯¹æ¯”æ›´å¼ºçƒˆï¼Œæš—éƒ¨ç»†èŠ‚æ›´æ¸…æ™°ï¼Œäº®éƒ¨æ›´åˆºçœ¼ï¼ˆè¤’ä¹‰ï¼‰ã€‚</p>
<h4 data-id="heading-23">3. ğŸ–ï¸ è§¦æ§æ˜¾ç¤ºå™¨</h4>
<p>è§¦æ§åŠŸèƒ½ä¼šæˆä¸ºæ˜¾ç¤ºå™¨çš„æ ‡é…ï¼Œé€‚åˆç»˜ç”»ã€æ•™è‚²ç­‰åœºæ™¯ã€‚</p>
<h4 data-id="heading-24">4. ğŸ§ é›†æˆéŸ³å“</h4>
<p>æ˜¾ç¤ºå™¨ä¼šé›†æˆæ›´å¥½çš„éŸ³å“ï¼Œç”šè‡³æ”¯æŒ3DéŸ³æ•ˆï¼Œå‡å°‘æ¡Œé¢æ‚ä¹±ã€‚</p>
<h3 data-id="heading-25">ğŸ“ äº’åŠ¨å°æµ‹éªŒï¼šä½ ç­”å¯¹äº†å—ï¼Ÿ</h3>



































<table><thead><tr><th>é—®é¢˜</th><th>ç­”æ¡ˆ</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>4Kåˆ†è¾¨ç‡çš„åƒç´ æ•°é‡æ˜¯1080Pçš„å¤šå°‘å€ï¼Ÿ</td><td>4å€</td><td>âœ…/âŒ</td></tr><tr><td>äººçœ¼çš„åˆ†è¾¨æé™å¤§çº¦æ˜¯å¤šå°‘PPIï¼Ÿ</td><td>150PPI</td><td>âœ…/âŒ</td></tr><tr><td>144Hzæ¯”60Hzæµç•…åº¦æå‡å¤šå°‘ï¼Ÿ</td><td>140%</td><td>âœ…/âŒ</td></tr><tr><td>DCI-P3æ˜¯å“ªç§è‰²åŸŸæ ‡å‡†ï¼Ÿ</td><td>ç”µå½±è‰²åŸŸ</td><td>âœ…/âŒ</td></tr><tr><td>8Kæ˜¾ç¤ºå™¨çš„åƒç´ æ•°é‡å¤§çº¦æ˜¯å¤šå°‘ï¼Ÿ</td><td>3300ä¸‡</td><td>âœ…/âŒ</td></tr></tbody></table>
<h3 data-id="heading-26">ğŸ¯ ç»“è¯­ï¼šåˆ†è¾¨ç‡çš„é©å‘½</h3>
<p>æ˜¾ç¤ºå™¨åˆ†è¾¨ç‡çš„å‘å±•ï¼Œå°±æ˜¯äººç±»è¿½æ±‚æ¸…æ™°ç”»é¢çš„å†å²ã€‚ä»æ¨¡ç³Šçš„VGAåˆ°æ¸…æ™°çš„4Kï¼Œå†åˆ°æè‡´çš„8Kï¼Œæ¯ä¸€æ¬¡è¿›æ­¥éƒ½è®©æˆ‘ä»¬çœ‹åˆ°æ›´çœŸå®çš„ä¸–ç•Œã€‚</p>
<p>ä¸‹æ¬¡ä½¿ç”¨æ˜¾ç¤ºå™¨æ—¶ï¼Œä¸å¦¨çœ‹çœ‹å®ƒçš„åˆ†è¾¨ç‡ï¼Œæƒ³æƒ³èƒŒåçš„åƒç´ æ•…äº‹ã€‚åˆ†è¾¨ç‡è¶Šé«˜ï¼Œçœ‹åˆ°çš„ä¸–ç•Œè¶Šæ¸…æ™°ï¼</p>
<hr/>
<h3 data-id="heading-27">ğŸ’¬ äº’åŠ¨è¯é¢˜</h3>
<ol>
<li>ä½ ç°åœ¨ç”¨çš„æ˜¯ä»€ä¹ˆåˆ†è¾¨ç‡çš„æ˜¾ç¤ºå™¨ï¼Ÿæ»¡æ„å—ï¼Ÿ</li>
<li>ä½ è§‰å¾—4Kæ˜¾ç¤ºå™¨çœŸçš„æ¯”1080Pæ¸…æ™°å¾ˆå¤šå—ï¼Ÿ</li>
<li>ä½ ä¼šä¸ºäº†æ¸¸æˆä¹°144Hzä»¥ä¸Šçš„æ˜¾ç¤ºå™¨å—ï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<hr/>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…³äºViteåå°é¡¹ç›®çš„æ‰“åŒ…ä¼˜åŒ–(é¦–å±åŠ è½½)]]></title>    <link>https://juejin.cn/post/7584834746061586466</link>    <guid>https://juejin.cn/post/7584834746061586466</guid>    <pubDate>2025-12-18T06:58:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746061586466" data-draft-id="7584780417103380520" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…³äºViteåå°é¡¹ç›®çš„æ‰“åŒ…ä¼˜åŒ–(é¦–å±åŠ è½½)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T06:58:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™´è½¬å¤šäº‘543"/> <meta itemprop="url" content="https://juejin.cn/user/1449619894573673"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…³äºViteåå°é¡¹ç›®çš„æ‰“åŒ…ä¼˜åŒ–(é¦–å±åŠ è½½)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1449619894573673/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™´è½¬å¤šäº‘543
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T06:58:30.000Z" title="Thu Dec 18 2025 06:58:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸»è¦åº”è¯¥æ˜¯åå°ä½¿ç”¨ åå°åŠŸèƒ½å¤šäº†ä½“ç§¯ä¼šè¶Šæ¥è¶Šå¤§</p>
<h2 data-id="heading-1">ä»£ç å±‚é¢çš„ä¼˜åŒ–</h2>
<ul>
<li>åˆç†ä½¿ç”¨treeShaking</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è¿™æ ·å¯ä»¥åˆ©ç”¨treeshaking</span>
<span class="hljs-keyword">import</span> { someField } <span class="hljs-keyword">from</span> <span class="hljs-string">'xxx.json'</span>;

<span class="hljs-comment">// è¿™æ ·æ˜¯ä¸ä¼šæœ‰treeShaking</span>
<span class="hljs-keyword">import</span> allData <span class="hljs-keyword">from</span> <span class="hljs-string">'xxx.json'</span>;
allData.<span class="hljs-property">someField</span>;
</code></pre>
<ul>
<li>åŠ¨æ€import(æ‡’åŠ è½½)</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">() =&gt; <span class="hljs-built_in">import</span>('/xxxxx.vue')
<span class="hljs-built_in">defineAsyncComponment</span>(xxxx)

<span class="hljs-comment">//react</span>
React<span class="hljs-selector-class">.lazy</span>(() =&gt; <span class="hljs-built_in">import</span>('xxxx.tsx'))
</code></pre>
<p>ä¸å¤šèµ˜è¿°  è¿™æ ·ä¼šå•ç‹¬æ‰“åŒ…å‡ºæ¥ä¸€ä¸ªæ–‡ä»¶</p>
<h2 data-id="heading-2">buildé…ç½®</h2>
<p>è¿™é‡Œä½¿ç”¨çœŸå®é¡¹ç›®æ¥é…ç½®  <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdapppp%2Fruoyi-plus-vben5" target="_blank" title="https://gitee.com/dapppp/ruoyi-plus-vben5" ref="nofollow noopener noreferrer">gitee.com/dapppp/ruoyâ€¦</a></p>
<p>é¦–å…ˆæ˜¯gzip è¿™ä¸ªè‚¯å®šè¦åŠ </p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ”¯æŒgzipå‹ç¼©</span>
<span class="hljs-keyword">import</span> viteCompression <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-compression'</span>;

<span class="hljs-title function_">viteCompression</span>({
  <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">disable</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">threshold</span>: <span class="hljs-number">10240</span>,
  <span class="hljs-attr">algorithm</span>: <span class="hljs-string">'gzip'</span>,
  <span class="hljs-attr">ext</span>: <span class="hljs-string">'.gz'</span>,
}),
</code></pre>
<p>å‹ç¼©å®Œä½“ç§¯è¿˜æ˜¯æŒºå¯è§‚çš„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e9c6b8bf5ee47b2b686811be96fb34e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06L2s5aSa5LqRNTQz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766645909&amp;x-signature=Q4J%2F6pa0hDUtHsqUx3v4SLQ1dPU%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åæ˜¯rollupOptionsé…ç½®äº†</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">output</span>: {
  <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'[ext]/[name]-[hash].[ext]'</span>,
  <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'js/[name]-[hash].js'</span>,
  <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'jse/index-[name]-[hash].js'</span>,
},
</code></pre>
<p>è¿™é‡Œå…¶å®å¯¹ä½“ç§¯æ²¡æœ‰å½±å“ åªæ˜¯ä¼šæ‰“åŒ…åˆ°å›ºå®šçš„ç›®å½•</p>
<p>ä½¿ç”¨ <strong>åœç”¨ç¼“å­˜+4G</strong>  æ¥æ¨¡æ‹Ÿçº¿ä¸Šç¬¬ä¸€æ¬¡æ‰“å¼€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef25984e12dc455cb975af6c5ac77030~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06L2s5aSa5LqRNTQz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766645909&amp;x-signature=fWE9kStgYU9MqKtE%2B8a%2Fio4iSDc%3D" alt="image.png" loading="lazy"/></p>
<p><code>è¯·æ±‚48  é¦–å±2.6Mèµ„æº   4.4S</code></p>
<p>è¿˜æœ‰ä¼˜åŒ–ç©ºé—´å—  é€šè¿‡å¯¹ç½‘ç»œè¯·æ±‚çš„åˆ†æ  å‘ç°<code>æœ‰å¾ˆå¤šç¢ç‰‡æ–‡ä»¶</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfd8d8956b6947faa274b7850049722e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06L2s5aSa5LqRNTQz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766645909&amp;x-signature=t1JiniOnG5h1UYFtIN53nqkMOGU%3D" alt="image.png" loading="lazy"/></p>
<p>æµè§ˆå™¨ä¸å¯èƒ½ä¸€æ¬¡è·å– è€Œä¸”æ¨¡å—ä¹‹é—´ä¹Ÿæœ‰ä¾èµ–å…³ç³»  è¿™äº›ç¢ç‰‡æ–‡ä»¶å ç”¨äº†è¿æ¥æ•° æ€ä¹ˆä¼˜åŒ–å‘¢</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">output</span>: {
  <span class="hljs-attr">assetFileNames</span>: <span class="hljs-string">'[ext]/[name]-[hash].[ext]'</span>,
  <span class="hljs-attr">chunkFileNames</span>: <span class="hljs-string">'js/[name]-[hash].js'</span>,
  <span class="hljs-attr">entryFileNames</span>: <span class="hljs-string">'jse/index-[name]-[hash].js'</span>,
  <span class="hljs-attr">experimentalMinChunkSize</span>: <span class="hljs-number">20</span> * <span class="hljs-number">1024</span>,
},
</code></pre>
<p>ä½¿ç”¨è¿™ä¸ªé…ç½®<code>experimentalMinChunkSize</code>   å°½å¯èƒ½å°†ç¢ç‰‡æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·   <a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.rollupjs.org%2Fconfiguration-options%2F%23output-experimentalminchunksize" target="_blank" title="https://cn.rollupjs.org/configuration-options/#output-experimentalminchunksize" ref="nofollow noopener noreferrer">rollup - experimentalMinChunkSize</a></p>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯å°½å¯èƒ½å‘¢  å› ä¸ºæ–‡æ¡£æŒ‡å‡º åŒ…å«å‰¯ä½œç”¨æ¨¡å—æ˜¯ä¸ä¼šæ‰“åŒ…åœ¨ä¸€èµ·çš„  åƒä¸Šé¢çš„åŠ¨æ€importæ–‡ä»¶å°½ç®¡æ–‡ä»¶å¾ˆå°‘  ä¹Ÿä¸ä¼šè¢«æ‰“åŒ…</p>
<p>å†æ¬¡æ‰“åŒ…çœ‹çœ‹</p>
<p><code>è¯·æ±‚æ•° 48 - 30</code></p>
<p><code>èµ„æº  2.6 - 2.8 (å› ä¸ºä¸€äº›é¢å¤–çš„ä¹Ÿæ‰“åŒ…è¿›æ¥äº†)</code></p>
<p><code>åŠ è½½æ—¶é—´  4.4S - 2.5S</code>  èµ·é£!</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ec7279ea8db42079f0189063cdc0c0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm06L2s5aSa5LqRNTQz:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766645909&amp;x-signature=ipduHsXIBv41QqdXy1Od7V%2BVUJ4%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è™½ç„¶ä½“ç§¯å¢åŠ äº†  åŠ è½½é€Ÿåº¦è¿˜æ›´å¿«äº†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nginxéƒ¨ç½²è¸©å‘]]></title>    <link>https://juejin.cn/post/7584807992030707754</link>    <guid>https://juejin.cn/post/7584807992030707754</guid>    <pubDate>2025-12-18T07:06:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584807992030707754" data-draft-id="7584724634173947967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nginxéƒ¨ç½²è¸©å‘"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:06:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zue"/> <meta itemprop="url" content="https://juejin.cn/user/3773179638323342"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nginxéƒ¨ç½²è¸©å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3773179638323342/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zue
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:06:20.000Z" title="Thu Dec 18 2025 07:06:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">éƒ¨ç½²éœ€æ±‚</h2>
<ol>
<li>ï¼ˆIPä¸º10ï¼‰å†…ç½‘å‰ç«¯åº”ç”¨è¢«ä»£ç†åˆ°å¦å¤–ä¸€å°è·³æ¿æœºï¼ˆIPä¸º20ï¼‰ã€‚æœ¬åœ°æµè§ˆå™¨IPä¸º30</li>
<li>20è·³æ¿æœºç¦æ­¢è®¿é—®æ ¹ç›®å½•ï¼Œå³ç¦/</li>
<li>å‰ç«¯è·¯ç”±è·¯å¾„ä¸ºqttï¼Œèµ„æºè·¯å¾„ä¹Ÿä¸ºqtt</li>
</ol>
<h2 data-id="heading-1">é—®é¢˜</h2>
<p>1.èµ„æºä¹Ÿè¢«ç¦ç”¨
2.è®¿é—®x.x.x.20/qtt?token=xxxã€‚æ¥æ”¶ä¸åˆ°tokenå‚æ•°ï¼Œå‰ç«¯ç›´æ¥è·³è½¬åˆ°é¦–é¡µã€‚</p>
<pre><code class="hljs language-ini" lang="ini">//20æœåŠ¡å™¨çš„nginxé…ç½®å¦‚ä¸‹ï¼š
upstream qtt {
    ip hash<span class="hljs-comment">;</span>
    keepalive 100<span class="hljs-comment">;</span>
    keepalive timeout 300s<span class="hljs-comment">;</span>
    server x.x.x.10<span class="hljs-comment">;</span>
}
server {
    listen 80<span class="hljs-comment">;</span>
    server name localhost<span class="hljs-comment">;</span>
    server tokens off<span class="hljs-comment">;</span>
    port in redirect off<span class="hljs-comment">;</span>
 
    location /qtt {
        proxy_set header host $host<span class="hljs-comment">;</span>
        proxy_set header X-forwarded-for $proxy add x forwarded for<span class="hljs-comment">;</span>
        proxy set header X-real-ip $remote addr<span class="hljs-comment">;</span>
        proxy_pass http://qtt<span class="hljs-comment">;</span>
        proxy_connect timeout 308s<span class="hljs-comment">;</span>
        proxy_read timeout 300sï¼›
    }
  }
  //10æœåŠ¡å™¨nignxé…ç½®å¦‚ä¸‹
    server {
        listen 80<span class="hljs-comment">;</span>
        server_name _<span class="hljs-comment">;</span>
         
       
       location / {
            root /usr/local/web/dist-ai<span class="hljs-comment">;</span>
            index index.html<span class="hljs-comment">;</span>
            try_files $uri $uri/ /qtt/index.html<span class="hljs-comment">;</span>
       } 
       
 
    }

</code></pre>
<h2 data-id="heading-2">è§£å†³é—®é¢˜</h2>
<p>1.å‰ç«¯è®¾ç½®baseè·¯å¾„qttï¼Œæ–°å»ºqttæ–‡ä»¶ï¼Œå°†assetsç­‰æ–‡ä»¶å¤åˆ¶åˆ°qttæ–‡ä»¶ä¸­ã€‚</p>
<p>2.æ ¹æ®nignxæ—¥å¿—æ˜¾ç¤ºè®¿é—®x.x.x.20/qtt?token=xxxæ—¶</p>
<pre><code class="hljs language-bash" lang="bash">è·¯å¾„è¢«é‡å®šå‘ä¸ºx.x.x.20/qtt/?token=xxxã€‚
å› ä¸ºtry_files  <span class="hljs-variable">$uri</span>/ä¼šåˆ¤æ–­x.x.x.20/qtt?token=xxxæ˜¯å¦æ–‡ä»¶å¦‚æœæ˜¯æ–‡ä»¶å¤¹å°†ä¼šå¢åŠ /æŒ‡å‘qttæ–‡ä»¶ã€‚
è®¾ç½®try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/index.html /qtt/index.html; æ­¤æ—¶try_files  <span class="hljs-variable">$uri</span>/index.html å› ä¸ºqqt/index.htmlå­˜åœ¨ï¼Œç›´æ¥è¿”å›index.html
</code></pre>
<pre><code class="hljs language-bash" lang="bash">//è®¿é—®æµç¨‹
è®¿é—®ï¼šx.x.x.10/qtt
â†“
Nginx è¿”å› /qtt/index.html
â†“
æµè§ˆå™¨åŠ è½½ index.htmlï¼Œè¿è¡Œå‰ç«¯ JavaScript
â†“
å‰ç«¯è·¯ç”±æ£€æµ‹åˆ° URL ä¸­çš„ `/about`
â†“
**è‡ªåŠ¨åˆ‡æ¢åˆ°å…³äºé¡µé¢**
</code></pre>
<p>å…¶å®å°±æ˜¯qttè¢«nginxå½“ç›®å½•è·¯å¾„äº§ç”Ÿäº†é‡å®šå‘ï¼Œå•é¡µåº”ç”¨å› ä¸ºé‡å®šå‘åè·¯ç”±ä¸º/qtt/ï¼Ÿtoken=xxï¼Œæ‰¾ä¸åˆ°è·¯ç”±,å‰ç«¯ç›´æ¥è·³è½¬åˆ°/ï¼Œæ‰€æœ‰æ‰ä¼šå‡ºç°å‚æ•°ä¸¢å¤±çš„ç°è±¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[A2UIï¼šè®© AI Agent è‡ªä¸»æ„å»ºç”¨æˆ·ç•Œé¢çš„æ–°èŒƒå¼]]></title>    <link>https://juejin.cn/post/7584817405228285993</link>    <guid>https://juejin.cn/post/7584817405228285993</guid>    <pubDate>2025-12-18T07:01:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584817405228285993" data-draft-id="7584810656382795785" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="A2UIï¼šè®© AI Agent è‡ªä¸»æ„å»ºç”¨æˆ·ç•Œé¢çš„æ–°èŒƒå¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:01:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‡ºæ¥å§çš®å¡ä¸˜"/> <meta itemprop="url" content="https://juejin.cn/user/4212984288647271"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            A2UIï¼šè®© AI Agent è‡ªä¸»æ„å»ºç”¨æˆ·ç•Œé¢çš„æ–°èŒƒå¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984288647271/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‡ºæ¥å§çš®å¡ä¸˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:01:54.000Z" title="Thu Dec 18 2025 07:01:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€å¥è¯å®šä¹‰ï¼šA2UIï¼ˆAgent-to-User Interfaceï¼‰æ˜¯ä¸€ä¸ªå¼€æ”¾åè®®ï¼Œå…è®¸ AI Agent é€šè¿‡ç»“æ„åŒ–æ•°æ®æè¿°äº¤äº’æ„å›¾ï¼Œç”±å‰ç«¯æ¡†æ¶åŠ¨æ€æ¸²æŸ“ UIï¼Œå®ç°â€œAI é©±åŠ¨ç•Œé¢â€ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€A2UI æ˜¯ä»€ä¹ˆ</h2>
<p>A2UI ä¸æ˜¯ UI æ¡†æ¶ï¼Œè€Œæ˜¯è°·æ­Œäº 2025 å¹´ 12 æœˆæ¨å‡ºä¸€å¥—å£°æ˜å¼æ¥å£åè®®ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fa2ui.org%2F" target="_blank" title="https://a2ui.org/" ref="nofollow noopener noreferrer">a2ui.org/</a></p>
<p>AI Agent åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ï¼Œå¯ç”Ÿæˆç¬¦åˆ A2UI Schema çš„ JSON å¯¹è±¡ï¼Œæè¿°å½“å‰éœ€è¦ç”¨æˆ·çœ‹åˆ°ä»€ä¹ˆã€è¾“å…¥ä»€ä¹ˆã€æ“ä½œä»€ä¹ˆã€‚å‰ç«¯è¿è¡Œæ—¶ï¼ˆå¦‚ Web Appï¼‰æ¥æ”¶è¯¥ç»“æ„å¹¶åŠ¨æ€æ¸²æŸ“æˆçœŸå® UIã€‚</p>
<p>è¿™ç±»ä¼¼äºâ€œAI ç‰ˆæœ¬çš„ Virtual DOMâ€â€”â€”Agent å£°æ˜æ„å›¾ï¼Œç³»ç»Ÿè´Ÿè´£å®ç°ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ A2UI æ¸²æŸ“å¡ç‰‡çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº† A2UI å¯ä»¥å®ç°çš„å„ç§ UI ç»„åˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd2e52afb4754b45838ed7748832e023~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ye65p2l5ZCn55qu5Y2h5LiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646623&amp;x-signature=gmVyTpnQFpcbdCVnbR0vuEjbAvM%3D" alt="" loading="lazy"/></p>
<p>åœ¨çº¿æ•ˆæœé¢„è§ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fa2ui-editor.ag-ui.com%2F" target="_blank" title="https://a2ui-editor.ag-ui.com/" ref="nofollow noopener noreferrer">a2ui-editor.ag-ui.com/</a></p>
<h2 data-id="heading-1">äºŒã€A2UI è§£å†³ä»€ä¹ˆé—®é¢˜</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰ä¸€ä¸ªAgentå¯ä»¥å¸®åŠ©ä½ é¢„è®¢é¤å…åº§ä½ã€‚å¦‚æœåªè¿›è¡Œæ–‡å­—äº¤æµï¼Œå¯èƒ½ä¼šå‡ºç°ç¬¨æ‹™çš„æ¥å›æ²Ÿé€šï¼š</p>
<p><strong>ç”¨æˆ·ï¼šï¼ˆ</strong> æ­£åœ¨è¾“å…¥ï¼‰â€œé¢„è®¢ä¸€å¼ ä¸¤äººæ¡Œã€‚â€</p>
<p><strong>Agentï¼š</strong> â€œå¥½çš„ï¼Œå“ªä¸€å¤©ï¼Ÿâ€</p>
<p><strong>ç”¨æˆ·ï¼šï¼ˆ</strong> æ­£åœ¨è¾“å…¥ï¼‰â€œæ˜å¤©ã€‚â€</p>
<p><strong>Agentï¼š</strong> â€œå‡ ç‚¹ï¼Ÿâ€</p>
<p><strong>ç”¨æˆ·ï¼šï¼ˆ</strong> è¾“å…¥ï¼‰â€œå¤§æ¦‚7ç‚¹â€</p>
<p><strong>Agentï¼š</strong> â€œæˆ‘ä»¬é‚£æ—¶æ²¡æœ‰ç©ºæˆ¿äº†ï¼Œè¿˜æœ‰å…¶ä»–æ—¶é—´å—ï¼Ÿâ€</p>
<p><strong>ç”¨æˆ·ï¼šï¼ˆ</strong> æ­£åœ¨è¾“å…¥ï¼‰â€œä½ ä»¬ä»€ä¹ˆæ—¶å€™æœ‰é¢„è®¢ï¼Ÿâ€</p>
<p><strong>Agentï¼š</strong> â€œæˆ‘ä»¬æœ‰ 5:00ã€5:30ã€6:00ã€8:30ã€9:00ã€9:30 å’Œ 10:00 çš„ç©ºä½ï¼Œè¿™äº›æ—¶é—´æ‚¨æ–¹ä¾¿å—ï¼Ÿâ€</p>
<p>è¿™å¯èƒ½æ—¢ç¼“æ…¢åˆä½æ•ˆã€‚æ›´å¥½çš„ä½“éªŒæ˜¯è®©<strong>Agentå¿«é€Ÿç”Ÿæˆæˆ–ä½¿ç”¨</strong>åŒ…å«æ—¥æœŸé€‰æ‹©å™¨ã€æ—¶é—´é€‰æ‹©å™¨å’Œæäº¤æŒ‰é’®çš„ç®€å•è¡¨å•ã€‚å€ŸåŠ© A2UIï¼ŒLLM å¯ä»¥ä»ç»„ä»¶åº“ä¸­æ„å»ºå®šåˆ¶çš„ç”¨æˆ·ç•Œé¢ï¼Œä»è€Œä¸ºå½“å‰ä»»åŠ¡æä¾›ç¾è§‚ã€æ˜“ç”¨ä¸”å›¾å½¢åŒ–çš„ç•Œé¢ã€‚</p>
<p>ä¾‹å¦‚ï¼Œé™¤äº†ä¸Šè¿°åŸºäºæ–‡æœ¬çš„æ¥å›èŠå¤©ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ A2UI æ¥æ„å»ºæ­¤é¢„è®¢ç•Œé¢ã€‚ä¸‹å›¾å±•ç¤ºäº† A2UI å‘ˆç°çš„é¤å…é¢„è®¢ç•Œé¢çš„ä¸€ç§å¯èƒ½æ•ˆæœï¼ŒA2UI çš„è®¾è®¡èµ‹äºˆå‰ç«¯åº”ç”¨ç¨‹åºå¯¹æ ·å¼çš„é«˜åº¦æ§åˆ¶æƒï¼Œå› æ­¤è¿˜æœ‰è®¸å¤šå…¶ä»–å¯èƒ½æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c00ba77cce6462f9943a30d2232243a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ye65p2l5ZCn55qu5Y2h5LiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646623&amp;x-signature=OQ5SuQLkAExqixlj2%2FCv8Apu5fE%3D" alt="" loading="lazy"/></p>
<p>å½“å‰ AI åº”ç”¨çš„äº¤äº’ç“¶é¢ˆä¸»è¦é›†ä¸­åœ¨ â€œæ•ˆç‡ä½â€ å’Œ â€œä¸å®‰å…¨â€ ä¸¤å¤§å±‚é¢ï¼ŒA2UI çš„è®¾è®¡æ°å¥½é’ˆå¯¹æ€§ç ´å±€ï¼š</p>






























<table><thead><tr><th>ç—›ç‚¹åœºæ™¯</th><th>ä¼ ç»Ÿæ–‡æœ¬äº¤äº’æ¨¡å¼</th><th>A2UI è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>ä¿¡æ¯é‡‡é›†æ•ˆç‡ä½</td><td>è®¢åº§éœ€å¤šè½®é—®ç­”ï¼ˆâ€œå‡ ä½ï¼Ÿå‡ ç‚¹ï¼Ÿå¿Œå£ï¼Ÿâ€ï¼‰</td><td>ç›´æ¥ç”Ÿæˆå«äººæ•°é€‰æ‹©å™¨ã€æ—¥å†ã€ä¸‹æ‹‰æ¡†çš„è¡¨å•ï¼Œç”¨æˆ·ä¸€é”®ç¡®è®¤</td></tr><tr><td>ç•Œé¢å®‰å…¨æ€§å·®</td><td>AI ç”Ÿæˆ HTML å¯èƒ½åŒ…å«æ¶æ„ä»£ç ï¼Œå­˜åœ¨æ³¨å…¥é£é™©</td><td>å®¢æˆ·ç«¯ä»…ç”¨é¢„æ‰¹å‡†ç»„ä»¶åº“æ¸²æŸ“ï¼ŒAI æ— æ³•æ§åˆ¶åƒç´ æˆ–æ‰§è¡Œä»£ç </td></tr><tr><td>è·¨ç«¯ä½“éªŒå‰²è£‚</td><td>ä¸º Webã€iOSã€Android åˆ†åˆ«å¼€å‘ç•Œé¢ï¼Œæˆæœ¬é«˜</td><td>ä¸€å¥— A2UI æè¿°è‡ªåŠ¨é€‚é…å¤šç«¯åŸç”Ÿç»„ä»¶ï¼Œæ— éœ€é‡å¤å¼€å‘</td></tr><tr><td>ç­‰å¾…ä½“éªŒå·®</td><td>éœ€ç­‰å¾… AI ç”Ÿæˆå®Œæ•´å“åº”åæ‰æ˜¾ç¤ºç•Œé¢</td><td>æµå¼è¾“å‡ºç•Œé¢ç‰‡æ®µï¼Œå®æ—¶æ¸²æŸ“ï¼Œå‡å°‘ç­‰å¾…ç„¦è™‘</td></tr></tbody></table>
<h2 data-id="heading-2">ä¸‰ã€A2UI æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-3">ç»„ä»¶ç»“æ„ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fa2ui.org%2Fconcepts%2Fcomponents%2F" target="_blank" title="https://a2ui.org/concepts/components/" ref="nofollow noopener noreferrer">Component Structure</a>ï¼‰</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"welcome"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"Text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"literalString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hello"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"usageHint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"h1"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ¯ä¸ªç»„ä»¶éƒ½å…·æœ‰ï¼š</p>
<ol>
<li>
<p><strong>ID</strong>ï¼šå”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆ<code>"root"</code>ï¼‰</p>
</li>
<li>
<p><strong>ç±»å‹</strong>ï¼šç»„ä»¶ç±»å‹ï¼ˆ<code>Text</code>ï¼Œ<code>Button</code>ï¼‰</p>
</li>
<li>
<p><strong>å±æ€§</strong>ï¼šç‰¹å®šäºè¯¥ç±»å‹çš„é…ç½®</p>
</li>
</ol>
<p><strong>ç»„ä»¶æ•°æ®å®šä¹‰æœ€ä½³å®è·µï¼š</strong> ä½¿ç”¨è¯­ä¹‰æç¤ºï¼Œè€Œéè§†è§‰å±æ€§ã€‚åº”è¯¥æä¾›è¯­ä¹‰æç¤ºï¼ˆ<code>usageHint</code>ï¼‰ï¼Œè€Œä¸æ˜¯è§†è§‰æ ·å¼ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âœ… Good: Semantic hint</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"literalString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Welcome"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"usageHint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"h1"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âŒ Bad: Visual properties (not supported)</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"literalString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Welcome"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"fontSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">24</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"color"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"#FF0000"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-4">æ¶ˆæ¯ç±»å‹ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fa2ui.org%2Freference%2Fmessages%2F" target="_blank" title="https://a2ui.org/reference/messages/" ref="nofollow noopener noreferrer">Message Types</a>ï¼‰</h3>
<p><strong>æœåŠ¡å™¨â†’å®¢æˆ·ç«¯æ¶ˆæ¯</strong></p>
<ul>
<li><strong>surfaceUpdate</strong>ï¼šå®šä¹‰æˆ–ä¿®æ”¹æŒ‡å®š Surface ä¸­çš„ UI ç»„ä»¶ï¼Œæ˜¯æ„å»º UI ç»“æ„çš„æ ¸å¿ƒæ¶ˆæ¯ã€‚</li>
<li><strong>dataModelUpdate</strong>ï¼šä¿®æ”¹æŒ‡å®š Surface çš„æ•°æ®æ¨¡å‹ï¼Œç»„ä»¶é€šè¿‡æ•°æ®ç»‘å®šè‡ªåŠ¨åŒæ­¥æ›´æ–°ï¼Œæ— éœ€é‡å‘ UI ç»“æ„ã€‚</li>
<li><strong>beginRendering</strong>ï¼šå‘å®¢æˆ·ç«¯å‘é€æ¸²æŸ“ä¿¡å·ï¼Œå‘ŠçŸ¥å·²æ¥æ”¶è¶³å¤Ÿåˆå§‹åŒ–ä¿¡æ¯ï¼Œå¯å¯åŠ¨æŒ‡å®š Surface çš„ UI æ¸²æŸ“ã€‚</li>
<li><strong>deleteSurface</strong>ï¼šç§»é™¤æŒ‡å®š Surface åŠå…¶æ‰€æœ‰ç»„ä»¶ã€æ•°æ®æ¨¡å‹ï¼Œé€‚ç”¨äºå…³é—­å¼¹çª—ã€é¡µé¢å¯¼èˆªç­‰åœºæ™¯ã€‚</li>
</ul>
<p><strong>å®¢æˆ·ç«¯â†’æœåŠ¡å™¨æ¶ˆæ¯</strong></p>
<ul>
<li><strong>userAction</strong>ï¼šç”¨æˆ·äº¤äº’äº‹ä»¶ï¼ŒåŒ…å«åŠ¨ä½œåç§°ã€<code>surfaceId</code>ã€è§¦å‘ç»„ä»¶ IDã€æ—¶é—´æˆ³å’Œè§£æåçš„ä¸Šä¸‹æ–‡æ•°æ®ã€‚</li>
<li><strong>error</strong>ï¼šå®¢æˆ·ç«¯é”™è¯¯åé¦ˆï¼Œå¯è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯å†…å®¹ï¼Œç”¨äºæœåŠ¡å™¨è°ƒè¯•ã€‚</li>
</ul>
<p>å®Œæ•´æµç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"root"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Column"</span>: {<span class="hljs-string">"children"</span>: {<span class="hljs-string">"explicitList"</span>: [<span class="hljs-string">"profile_card"</span>]}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"profile_card"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Card"</span>: {<span class="hljs-string">"child"</span>: <span class="hljs-string">"card_content"</span>}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"card_content"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Column"</span>: {<span class="hljs-string">"children"</span>: {<span class="hljs-string">"explicitList"</span>: [<span class="hljs-string">"header_row"</span>, <span class="hljs-string">"bio_text"</span>]}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"header_row"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Row"</span>: {<span class="hljs-string">"alignment"</span>: <span class="hljs-string">"center"</span>, <span class="hljs-string">"children"</span>: {<span class="hljs-string">"explicitList"</span>: [<span class="hljs-string">"avatar"</span>, <span class="hljs-string">"name_column"</span>]}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"avatar"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Image"</span>: {<span class="hljs-string">"url"</span>: {<span class="hljs-string">"literalString"</span>: <span class="hljs-string">"https://www.example.com/profile.jpg"</span>}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"name_column"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Column"</span>: {<span class="hljs-string">"alignment"</span>: <span class="hljs-string">"start"</span>, <span class="hljs-string">"children"</span>: {<span class="hljs-string">"explicitList"</span>: [<span class="hljs-string">"name_text"</span>, <span class="hljs-string">"handle_text"</span>]}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"name_text"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Text"</span>: {<span class="hljs-string">"usageHint"</span>: <span class="hljs-string">"h3"</span>, <span class="hljs-string">"text"</span>: {<span class="hljs-string">"literalString"</span>: <span class="hljs-string">"A2A Fan"</span>}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"handle_text"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Text"</span>: {<span class="hljs-string">"text"</span>: {<span class="hljs-string">"literalString"</span>: <span class="hljs-string">"@a2a_fan"</span>}}}}]}}
{<span class="hljs-string">"surfaceUpdate"</span>: {<span class="hljs-string">"components"</span>: [{<span class="hljs-string">"id"</span>: <span class="hljs-string">"bio_text"</span>, <span class="hljs-string">"component"</span>: {<span class="hljs-string">"Text"</span>: {<span class="hljs-string">"text"</span>: {<span class="hljs-string">"literalString"</span>: <span class="hljs-string">"Building beautiful apps from a single codebase."</span>}}}}]}}
{<span class="hljs-string">"dataModelUpdate"</span>: {<span class="hljs-string">"contents"</span>: {}}}
{<span class="hljs-string">"beginRendering"</span>: {<span class="hljs-string">"root"</span>: <span class="hljs-string">"root"</span>}}
</code></pre>
<h3 data-id="heading-5">æ•°æ®ç»‘å®šï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fa2ui.org%2Fconcepts%2Fdata-binding%2F" target="_blank" title="https://a2ui.org/concepts/data-binding/" ref="nofollow noopener noreferrer">Data Binding</a>ï¼‰</h3>
<h4 data-id="heading-6">æ•°æ®ç»‘å®šçš„ä¸¤ç§æ–¹å¼</h4>
<ol>
<li>å­—é¢é‡å€¼ï¼ˆé™æ€ç»‘å®šï¼‰</li>
</ol>
<p>ç›´æ¥æŒ‡å®šå›ºå®šå€¼ï¼Œæ— éœ€å…³è”æ•°æ®æ¨¡å‹ï¼Œé€‚ç”¨äºé™æ€å†…å®¹ï¼ˆå¦‚æ ‡é¢˜ã€å›ºå®šæç¤ºæ–‡æœ¬ï¼‰ã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"title"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"Text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"literalString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Welcome"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>2.  è·¯å¾„å€¼ï¼ˆåŠ¨æ€ç»‘å®šï¼‰</p>
<p>é€šè¿‡ <code>path</code> å…³è”æ•°æ®æ¨¡å‹ä¸­çš„å…·ä½“è·¯å¾„ï¼Œæ•°æ®å˜åŒ–æ—¶ç»„ä»¶è‡ªåŠ¨æ›´æ–°ï¼Œå®ç°å“åº”å¼æ•ˆæœã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"username"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"Text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/user/name"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“æœåŠ¡å™¨é€šè¿‡ <code>dataModelUpdate</code> æ¶ˆæ¯æ›´æ–°æ•°æ®æ—¶ï¼Œç»„ä»¶è‡ªåŠ¨åˆ·æ–°å±•ç¤ºå†…å®¹ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"dataModelUpdate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/user"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"contents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Alice"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-7">å“åº”å¼æ›´æ–°ä¸åŠ¨æ€åœºæ™¯</h4>
<ol>
<li>å“åº”å¼æ›´æ–°</li>
</ol>
<p>ç»‘å®šæ•°æ®è·¯å¾„çš„ç»„ä»¶ä¼šç›‘å¬å¯¹åº”æ•°æ®çš„å˜åŒ–ï¼Œå½“æœåŠ¡å™¨é€šè¿‡ <code>dataModelUpdate</code> æ¶ˆæ¯æ›´æ–°æ•°æ®æ—¶ï¼Œç»„ä»¶è‡ªåŠ¨åˆ·æ–°å±•ç¤ºå†…å®¹ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>åˆå§‹æ•°æ® <code>/order/status</code> ä¸º "Processing..."ï¼Œç»„ä»¶æ˜¾ç¤º "Processing..."ï¼›</li>
<li>æœåŠ¡å™¨å‘é€æ•°æ®æ›´æ–°æ¶ˆæ¯ï¼Œå°† <code>/order/status</code> æ”¹ä¸º "Shipped"ï¼Œç»„ä»¶æ— éœ€é¢å¤–é…ç½®å³è‡ªåŠ¨æ˜¾ç¤º "Shipped"ã€‚</li>
</ul>
<ol start="2">
<li>åŠ¨æ€åˆ—è¡¨æ¸²æŸ“</li>
</ol>
<p>é€šè¿‡ <code>template</code> å®ç°æ•°ç»„æ•°æ®çš„æ‰¹é‡æ¸²æŸ“ï¼Œæ ¸å¿ƒé…ç½®åŒ…å«ï¼š</p>
<ul>
<li><code>dataBinding</code>ï¼šæŒ‡å®šæ•°æ®æ¨¡å‹ä¸­çš„æ•°ç»„è·¯å¾„ï¼ˆå¦‚ <code>/products</code>ï¼‰ï¼›</li>
<li><code>componentId</code>ï¼šæŒ‡å®šåˆ—è¡¨é¡¹çš„æ¨¡æ¿ç»„ä»¶ IDã€‚ç¤ºä¾‹ï¼š</li>
</ul>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"product-list"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"component"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Column"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"children"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"template"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"dataBinding"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/products"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"componentId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"product-card"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“æ•°æ®æ¨¡å‹ä¸­ <code>/products</code> æ•°ç»„æ–°å¢ã€åˆ é™¤æˆ–ä¿®æ”¹å…ƒç´ æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨åŒæ­¥æ›´æ–°åˆ—è¡¨æ¸²æŸ“ç»“æœã€‚</p>
<h3 data-id="heading-8">æ•°æ®æµï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fa2ui.org%2Fconcepts%2Fdata-flow%2F" target="_blank" title="https://a2ui.org/concepts/data-flow/" ref="nofollow noopener noreferrer">Data Flow</a>ï¼‰</h3>

<ol>
<li>ç”¨æˆ·éœ€æ±‚ï¼šâ€œé¢„è®¢æ˜å¤©æ™šä¸Š 7 ç‚¹çš„ 2 äººé¤æ¡Œâ€</li>
<li>æœåŠ¡å™¨é€šè¿‡ SSE å»ºç«‹ JSONL æµè¿æ¥ï¼ŒæŒç»­å‘é€åè®®æ¶ˆæ¯ï¼›</li>
<li>æœåŠ¡å™¨å‘é€ <code>surfaceUpdate</code> æ¶ˆæ¯ï¼Œå®šä¹‰é¢„è®¢è¡¨å•çš„ UI ç»“æ„ï¼ˆå«æ ‡é¢˜ã€å®¢äººæ•°é‡è¾“å…¥æ¡†ã€ç¡®è®¤æŒ‰é’®ç­‰ç»„ä»¶ï¼‰ï¼›</li>
</ol>

<pre><code class="hljs language-css" lang="css">{"surfaceUpdate": {"surfaceId": <span class="hljs-string">"booking"</span>, <span class="hljs-string">"components"</span>: [
  {"id": <span class="hljs-string">"root"</span>, <span class="hljs-string">"component"</span>: {"Column": {"children": {"explicitList": [<span class="hljs-string">"header"</span>, <span class="hljs-string">"guests-field"</span>, <span class="hljs-string">"submit-btn"</span>]}}}},
  {"id": <span class="hljs-string">"header"</span>, <span class="hljs-string">"component"</span>: {"Text": {"text": {"literalString": <span class="hljs-string">"Confirm Reservation"</span>}, "usageHint": <span class="hljs-string">"h1"</span>}}},
  {"id": <span class="hljs-string">"guests-field"</span>, <span class="hljs-string">"component"</span>: {"TextField": {"<span class="hljs-selector-tag">label</span>": {"literalString": <span class="hljs-string">"Guests"</span>}, "text": {"path": <span class="hljs-string">"/reservation/guests"</span>}}}},
  {"id": <span class="hljs-string">"submit-btn"</span>, <span class="hljs-string">"component"</span>: {"<span class="hljs-selector-tag">Button</span>": {"child": <span class="hljs-string">"submit-text"</span>, <span class="hljs-string">"action"</span>: {"name": <span class="hljs-string">"confirm"</span>, <span class="hljs-string">"context"</span>: [{"key": <span class="hljs-string">"details"</span>, <span class="hljs-string">"value"</span>: {"path": <span class="hljs-string">"/reservation"</span>}}]}}}}
]}}
</code></pre>
<p>4.  æœåŠ¡å™¨å‘é€ <code>dataModelUpdate</code> æ¶ˆæ¯ï¼Œåˆå§‹åŒ–æ•°æ®ï¼ˆæ—¥æœŸæ—¶é—´ï¼š2025-12-16T19:00:00Zï¼Œå®¢äººæ•°é‡ï¼š2ï¼‰ï¼›</p>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"dataModelUpdate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"surfaceId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"booking"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/reservation"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"contents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"datetime"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2025-12-16T19:00:00Z"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span><span class="hljs-attr">"key"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"guests"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"valueString"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2"</span><span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>5.  æœåŠ¡å™¨å‘é€ <code>beginRendering</code> æ¶ˆæ¯ï¼ˆæŒ‡å®šæ ¹ç»„ä»¶ ID å’Œç›®å½• IDï¼‰ï¼Œå®¢æˆ·ç«¯æ¸²æŸ“é¢„è®¢è¡¨å•ï¼›</p>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"beginRendering"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"surfaceId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"booking"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"root"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"root"</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>6.  å®¢æˆ·ç«¯ä»æ ¹ç»„ä»¶å¼€å§‹ï¼Œé€’å½’é€šè¿‡ ID æŸ¥æ‰¾ç»„ä»¶ï¼Œè§£ææ•°æ®ç»‘å®šï¼Œè°ƒç”¨ç»„ä»¶ç›®å½•ç”ŸæˆåŸç”Ÿ UIï¼›
7.  ç”¨æˆ·ä¿®æ”¹å®¢äººæ•°é‡ä¸º 3ï¼ˆå®¢æˆ·ç«¯æœ¬åœ°æ›´æ–°æ•°æ®æ¨¡å‹ï¼Œæ— éœ€ç«‹å³é€šçŸ¥æœåŠ¡å™¨ï¼‰</p>
<ol start="8">
<li>ç”¨æˆ·ç‚¹å‡» â€œç¡®è®¤â€ï¼Œå®¢æˆ·ç«¯å‘é€ <code>userAction</code> æ¶ˆæ¯ï¼Œæºå¸¦æ›´æ–°åçš„é¢„è®¢è¯¦æƒ…ï¼›</li>
</ol>

<pre><code class="hljs language-css" lang="css">{
    "userAction": {
        "name": <span class="hljs-string">"confirm"</span>,
        <span class="hljs-string">"surfaceId"</span>: <span class="hljs-string">"booking"</span>,
        <span class="hljs-string">"context"</span>: {
            "<span class="hljs-selector-tag">details</span>": {
                "datetime": <span class="hljs-string">"2025-12-16T19:00:00Z"</span>,
                <span class="hljs-string">"guests"</span>: <span class="hljs-string">"3"</span>
            }
        }
    }
}
</code></pre>
<p>9.  æœåŠ¡å™¨å¤„ç†åï¼Œé€šè¿‡ SSE æµå‘é€<code>surfaceUpdate</code>/<code>dataModelUpdate</code>æˆ– <code>deleteSurface</code> æ¶ˆæ¯åˆ é™¤é¢„è®¢è¡¨å• UIï¼Œå®¢æˆ·ç«¯æ›´æ–°ç¼“å†²å¹¶é‡æ–°æ¸²æŸ“ã€‚</p>

<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"deleteSurface"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"surfaceId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"booking"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>æ•°æ®æµæµç¨‹å›¾ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Agent (LLM) â†’ A2UI Generator â†’ Transport (SSE/WS/A2A)
                                      â†“
Client (Stream Reader) â†’ Message Parser â†’ Renderer â†’ Native UI
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6ea77cd24e94ff085e75cc943281e42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ye65p2l5ZCn55qu5Y2h5LiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646623&amp;x-signature=EfxYEBWSjX2I6SWvcUi6z%2Fpf5zw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">å››ã€A2UI vs AI ç”Ÿæˆ HTML</h2>
<p>å¾ˆå¤šäººä¼šç–‘æƒ‘ â€œä¸ºä»€ä¹ˆä¸ç›´æ¥è®© AI ç”Ÿæˆ HTMLï¼Ÿâ€ï¼Œä¸¤è€…çš„æœ¬è´¨å·®å¼‚åœ¨äº â€œå®‰å…¨å¯æ§æ€§â€ å’Œ â€œè·¨ç«¯é€‚é…æ€§â€ï¼Œå…·ä½“å¯¹æ¯”å¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>A2UI</th><th>AI ç›´æ¥ç”Ÿæˆ HTML</th></tr></thead><tbody><tr><td>å®‰å…¨æ€§</td><td>ä»…ç”¨é¢„æ‰¹å‡†ç»„ä»¶åº“ï¼Œæ— ä»£ç æ‰§è¡Œé£é™©ï¼Œé˜²æ³¨å…¥æ”»å‡»</td><td>å¯èƒ½åŒ…å«æ¶æ„è„šæœ¬ï¼ˆå¦‚
</td></tr><tr><td>è·¨ç«¯å…¼å®¹æ€§</td><td>è‡ªåŠ¨é€‚é… Web / ç§»åŠ¨ç«¯ / æ¡Œé¢ç«¯åŸç”Ÿç»„ä»¶ï¼Œä½“éªŒä¸€è‡´</td><td>HTML éœ€é¢å¤–é€‚é…ä¸åŒè®¾å¤‡ï¼Œæ˜“å‡ºç°æ ·å¼é”™ä¹±</td></tr><tr><td>ç»´æŠ¤æˆæœ¬</td><td>ç»„ä»¶ç»Ÿä¸€ç®¡ç†ï¼Œæ›´æ–°åªéœ€ä¿®æ”¹å®¢æˆ·ç«¯åº“</td><td>æ¯ä¸ª HTML ç•Œé¢éœ€å•ç‹¬è°ƒè¯•ï¼Œå…¼å®¹æ€§é—®é¢˜å¤š</td></tr><tr><td>LLM å‹å¥½æ€§</td><td>æ‰å¹³ JSON ç»“æ„ï¼Œæ”¯æŒå¢é‡ç”Ÿæˆï¼Œé™ä½ LLM è´Ÿæ‹…</td><td>éœ€ç”Ÿæˆå®Œæ•´ HTML ç»“æ„ï¼Œæ˜“å‡ºç°è¯­æ³•é”™è¯¯ï¼ˆå¦‚æ ‡ç­¾æœªé—­åˆï¼‰</td></tr></tbody></table>
<p><strong>A2UI çš„æ ¸å¿ƒé€‚ç”¨åœºæ™¯ï¼š</strong></p>






























<table><thead><tr><th>åœºæ™¯ç±»å‹</th><th>å…·ä½“ç¤ºä¾‹</th><th>é€‰æ‹© A2UI çš„æ ¸å¿ƒåŸå› </th></tr></thead><tbody><tr><td>ä¼ä¸šçº§å·¥å…·</td><td>å‘˜å·¥æŠ¥é”€è¡¨å•ã€å®¢æˆ·ä¿¡æ¯å½•å…¥ç•Œé¢</td><td>ç»Ÿä¸€å¤šç«¯ä½“éªŒï¼Œè§„é¿ HTML ä»£ç æ³¨å…¥é£é™©ï¼Œç¬¦åˆä¼ä¸šå®‰å…¨è§„èŒƒ</td></tr><tr><td>ç”Ÿæ´»æœåŠ¡äº¤äº’</td><td>æœºç¥¨é¢„è®¢ã€é¤å…è®¢åº§ã€é…’åº—é€‰æˆ¿</td><td>æ ‡å‡†åŒ–ç»„ä»¶ï¼ˆæ—¥å†ã€ä¸‹æ‹‰æ¡†ã€æ•°å­—è¾“å…¥ï¼‰ï¼Œæµå¼æ¸²æŸ“å‡å°‘ç­‰å¾…</td></tr><tr><td>æ™ºèƒ½åŠ©æ‰‹ç•Œé¢</td><td>è¯­éŸ³åŠ©æ‰‹çš„å¯è§†åŒ–äº¤äº’ï¼ˆå¦‚æ™ºèƒ½å®¶å±…æ§åˆ¶ï¼‰</td><td>å¢é‡æ›´æ–°ç•Œé¢ï¼Œé€‚é…æ‰‹æœº / æ™ºèƒ½éŸ³ç®±å± / è½¦è½½å±ç­‰å¤šç»ˆç«¯</td></tr><tr><td>ä½ä»£ç å¹³å°</td><td>AI é©±åŠ¨çš„å¿«é€Ÿè¡¨å•ç”Ÿæˆå·¥å…·</td><td>ç»„ä»¶å¯å¤ç”¨ï¼Œæ— éœ€è°ƒè¯• HTML å…¼å®¹æ€§ï¼Œé™ä½å¼€å‘æˆæœ¬</td></tr></tbody></table>
<p><strong>AI ç”Ÿæˆ HTML çš„æ ¸å¿ƒé€‚ç”¨åœºæ™¯ï¼š</strong></p>






























<table><thead><tr><th>åœºæ™¯ç±»å‹</th><th>å…·ä½“ç¤ºä¾‹</th><th>é€‰æ‹© AI ç”Ÿæˆ HTML çš„æ ¸å¿ƒåŸå› </th></tr></thead><tbody><tr><td>é™æ€å†…å®¹å±•ç¤º</td><td>ä¸ªäººåšå®¢æ–‡ç« ã€äº§å“ä»‹ç»é¡µã€æ´»åŠ¨æµ·æŠ¥é¡µ</td><td>å¿«é€Ÿç”Ÿæˆå¯Œæ–‡æœ¬æ’ç‰ˆï¼Œæ”¯æŒè‡ªå®šä¹‰ CSS æ ·å¼ï¼Œæ— éœ€è·¨ç«¯</td></tr><tr><td>ä¸´æ—¶åŸå‹éªŒè¯</td><td>äº§å“ç»ç†å¿«é€Ÿåˆ¶ä½œ Web ç•Œé¢åŸå‹</td><td>æ— éœ€å­¦ä¹  A2UI åè®®ï¼Œç›´æ¥ç”Ÿæˆå¯é¢„è§ˆçš„ HTMLï¼Œè¿­ä»£å¿«</td></tr><tr><td>ç®€å•è¥é”€é¡µé¢</td><td>é™æ—¶ä¼˜æƒ å¼¹çª—ã€é—®å·æ˜Ÿæ ·å¼è¡¨å•ï¼ˆä»… Webï¼‰</td><td>å®šåˆ¶åŒ–æ ·å¼ï¼ˆå¦‚æ¸å˜æŒ‰é’®ã€åŠ¨æ€æ–‡å­—ï¼‰ï¼Œé€‚é… Web ç«¯è§†è§‰éœ€æ±‚</td></tr><tr><td>å°ä½“é‡ä¸ªäººé¡¹ç›®</td><td>ä¸ªäººç®€å†é¡µã€æ”¶è—å¤¹é¡µé¢</td><td>å¼€å‘æˆæœ¬ä½ï¼Œæ— éœ€é›†æˆ A2UI æ¸²æŸ“å™¨ï¼Œç›´æ¥éƒ¨ç½²å³å¯</td></tr></tbody></table>
<p><strong>é€‰å‹å†³ç­–åŸåˆ™ï¼š</strong></p>
<ol>
<li><strong>ç»ˆç«¯èŒƒå›´</strong>ï¼šéœ€è·¨ç«¯ï¼ˆWeb / ç§»åŠ¨ç«¯ / æ¡Œé¢ç«¯ï¼‰â†’ é€‰ A2UIï¼›ä»… Web ç«¯ â†’ å¯è€ƒè™‘ HTMLï¼›</li>
<li><strong>å®‰å…¨ä¸åˆè§„</strong>ï¼šä¼ä¸šçº§åº”ç”¨ / é¢å‘å…¬ç½‘ â†’ é€‰ A2UIï¼›ä¸ªäººé¡¹ç›® / å†…éƒ¨ä¸´æ—¶é¡µé¢ â†’ å¯ HTMLï¼›</li>
<li><strong>äº¤äº’ç±»å‹</strong>ï¼šæ ‡å‡†åŒ–è¡¨å• / é€‰æ‹©äº¤äº’ â†’ é€‰ A2UIï¼›å®šåˆ¶åŒ–å±•ç¤º / ç®€å•æ’ç‰ˆ â†’ å¯ HTMLã€‚</li>
</ol>
<h2 data-id="heading-10">äº”ã€A2UI çš„ä¼˜ç¼ºç‚¹</h2>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>LLMå‹å¥½ï¼Œå¼€å‘é«˜æ•ˆ</strong>ï¼šå£°æ˜å¼ç»“æ„+æ‰å¹³ç»„ä»¶åˆ—è¡¨ï¼Œé€‚é…LLMæµå¼ç”Ÿæˆï¼Œé™ä½UIå®šä¹‰ç¼–å†™ä¸AIç”Ÿæˆéš¾åº¦ã€‚</li>
<li><strong>å®‰å…¨ä¼˜å…ˆ</strong>ï¼šå£°æ˜å¼è®¾è®¡ä»æ ¹æºè§„é¿ä»£ç æ‰§è¡Œé£é™©ï¼Œé€‚åˆä¼ä¸šçº§åº”ç”¨ï¼›</li>
<li><strong>è·¨å¹³å°å…¼å®¹</strong>ï¼šæŠ½è±¡ç»„ä»¶ä¸åŸç”Ÿå®ç°è§£è€¦ï¼Œä¸€å¥—æœåŠ¡ç«¯é€»è¾‘å¯é€‚é…Webã€Flutterç­‰å¤šå¹³å°ï¼Œå¤ç”¨æ€§å¼ºã€‚</li>
<li><strong>æ¸²æŸ“ä½“éªŒæµç•…</strong>ï¼šJSONL/SSEæµå¼ä¼ è¾“æ”¯æŒæ¸è¿›å¼æ¸²æŸ“ï¼Œæ— éœ€ç­‰å¾…å®Œæ•´å“åº”ï¼Œå‡å°‘åŠ è½½ç­‰å¾…æ„Ÿã€‚</li>
<li><strong>æ›´æ–°è½»é‡åŒ–</strong>ï¼šUIç»“æ„ä¸æ•°æ®åˆ†ç¦»ï¼Œåç»­ä»…éœ€å‘é€æ•°æ®æ›´æ–°æ¶ˆæ¯ï¼Œæ— éœ€å…¨é‡é‡å‘ç»„ä»¶ï¼Œä¼ è¾“é«˜æ•ˆã€‚</li>
<li><strong>é€šä¿¡ç¨³å¥</strong>ï¼šå•å‘ä¸»æ•°æ®æµ+ç‹¬ç«‹äº¤äº’åé¦ˆï¼Œå•æ¡æ¶ˆæ¯é”™è¯¯ä¸å½±å“æ•´ä½“ï¼Œæ”¯æŒç½‘ç»œé‡è¿ä¸çº é”™ã€‚</li>
</ol>
<p><strong>ä¸è¶³ï¼š</strong></p>
<ol>
<li><strong>å®¢æˆ·ç«¯å¼€å‘æˆæœ¬é«˜</strong>ï¼šéœ€å®ç°åè®®è§£æã€ç»„ä»¶æ˜ å°„ã€æ•°æ®ç»‘å®šç­‰æ ¸å¿ƒå¼•æ“ï¼Œè·¨å¹³å°é€‚é…ç»†èŠ‚å¤æ‚ã€‚</li>
<li><strong>çµæ´»åº¦å—é™</strong>ï¼šç»„ä»¶ä¸æ•°æ®æ ¼å¼ä¸¥æ ¼éµå¾ªç›®å½•è§„èŒƒï¼Œè‡ªå®šä¹‰ç»„ä»¶éœ€æå‰åå•†ï¼Œéæ ‡UIè¿­ä»£ä¸ä¾¿ã€‚</li>
<li><strong>ä¼ è¾“ä¾èµ–å¼º</strong>ï¼šä¾èµ–SSE/WebSocketæµå¼é€šé“ï¼Œæ¶ˆæ¯é¡ºåºå½±å“æ¸²æŸ“æ•ˆæœï¼Œéœ€å¤„ç†ä¹±åºã€ä¸¢åŒ…é—®é¢˜ã€‚</li>
<li><strong>å¤æ‚åœºæ™¯é€‚é…ä¸è¶³</strong>ï¼šå¯¹æ‹–æ‹½ã€å®æ—¶åä½œç­‰å¤æ‚äº¤äº’ï¼ŒåŠæ¯«ç§’çº§é«˜é¢‘æ›´æ–°ï¼ˆå¦‚å®æ—¶å›¾è¡¨ï¼‰æ”¯æŒæœ‰é™ã€‚</li>
<li><strong>è°ƒè¯•éš¾åº¦å¤§</strong>ï¼šæµå¼æ¶ˆæ¯åˆ†æ•£ï¼Œé—®é¢˜å¯èƒ½æ¶‰åŠLLMç”Ÿæˆã€æœåŠ¡ç«¯å‘é€ã€å®¢æˆ·ç«¯è§£æç­‰å¤šç¯èŠ‚ï¼Œå®šä½å¤æ‚ã€‚</li>
<li><strong>å¤„äºæ—©æœŸé˜¶æ®µ</strong>ï¼šéƒ¨åˆ†åŠŸèƒ½ï¼ˆå¦‚å¤æ‚æ•°æ®ç»‘å®šï¼‰å¯èƒ½ä¸å®Œå–„ã€‚</li>
</ol>
<h2 data-id="heading-11">ä¸ƒã€é€‚ç”¨åœºæ™¯</h2>
<p>A2UI åè®®çš„æ ¸å¿ƒä¼˜åŠ¿é›†ä¸­åœ¨ <strong>LLM é©±åŠ¨çš„æµå¼ UI ç”Ÿæˆã€è·¨å¹³å°å¤ç”¨ã€æ¸è¿›å¼æ¸²æŸ“</strong> åœºæ™¯ï¼Œç‰¹åˆ«é€‚åˆï¼š</p>
<ul>
<li>åŸºäº AI ç”Ÿæˆçš„åŠ¨æ€ç•Œé¢ï¼ˆå¦‚ AI åŠ©æ‰‹ç”Ÿæˆçš„è¡¨å•ã€æŠ¥å‘Šã€ä¸ªæ€§åŒ–é¡µé¢ï¼‰ï¼›</li>
<li>å¤šå¹³å°åŒæ­¥çš„è½»é‡åŒ–åº”ç”¨ï¼ˆå¦‚è·¨ç«¯å·¥å…·ç±» Appã€ç®€å•æ•°æ®å±•ç¤ºç•Œé¢ï¼‰ï¼›</li>
<li>å¯¹åŠ è½½ä½“éªŒè¦æ±‚é«˜ã€æ— éœ€å¤æ‚äº¤äº’çš„åœºæ™¯ï¼ˆå¦‚å†…å®¹æµè§ˆã€è¡¨å•æäº¤ã€æŸ¥è¯¢ç»“æœå±•ç¤ºï¼‰ã€‚</li>
</ul>
<p>è€Œåœ¨ä»¥ä¸‹åœºæ™¯ä¸­éœ€è°¨æ…é€‰æ‹©ï¼š</p>
<ul>
<li>å¤æ‚äº¤äº’å¯†é›†å‹åº”ç”¨ï¼ˆå¦‚æ¸¸æˆã€è§†é¢‘ç¼–è¾‘ã€å¯è§†åŒ–è®¾è®¡å·¥å…·ï¼‰ï¼›</li>
<li>å¿«é€Ÿè¿­ä»£çš„éæ ‡ UI åœºæ™¯ï¼ˆå¦‚é«˜é¢‘æ›´æ–°çš„è¥é”€æ´»åŠ¨é¡µé¢ï¼‰ï¼›</li>
<li>å®¢æˆ·ç«¯å¼€å‘èµ„æºæœ‰é™ã€æ— æ³•æ‰¿æ‹…åè®®è§£æå¼•æ“å¼€å‘çš„é¡¹ç›®ã€‚</li>
</ul>
<h2 data-id="heading-12">å…«ã€ç¤¾åŒºæ´»è·ƒåº¦ä¸æ”¯æŒ</h2>
<p>å‰ç«¯æ¸²æŸ“å™¨æ”¯æŒï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd4dbe56d9ff4916b9c0264efa92ad39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ye65p2l5ZCn55qu5Y2h5LiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646623&amp;x-signature=jHu2p9io5vuheYmtg33xaWlC3%2FU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">ä¸ƒã€æœªæ¥å±•æœ›ï¼šA2UI å°†å¦‚ä½•æ”¹å˜ AI äº¤äº’ï¼Ÿ</h2>
<ol>
<li><strong>â€œå³æ—¶åº”ç”¨â€ æˆä¸ºå¯èƒ½</strong>ï¼šæ— éœ€ä¸‹è½½ Appï¼ŒAI å¯æ ¹æ®éœ€æ±‚å®æ—¶ç”Ÿæˆè½»é‡çº§ç•Œé¢ï¼ˆå¦‚ä¸´æ—¶æŠ¥é”€è¡¨å•ã€è¡Œç¨‹è§„åˆ’é¡µï¼‰ï¼Œå®ç° â€œç”¨å®Œå³èµ°â€ï¼›</li>
<li><strong>Skill+A2UI çš„ç»„åˆèŒƒå¼</strong>ï¼šåç«¯ç”¨ â€œSkillâ€ï¼ˆåŠŸèƒ½æ ‡å‡†åŒ–å°è£…ï¼‰ï¼Œå‰ç«¯ç”¨ A2UI ç”Ÿæˆç•Œé¢ï¼Œå¼€å‘è€…åªéœ€èšç„¦æ ¸å¿ƒé€»è¾‘ï¼Œæ— éœ€å…³æ³¨ç•Œé¢å®ç°ï¼›</li>
<li><strong>è¡¥é½ AI äº¤äº’çŸ­æ¿ï¼š</strong> è§£å†³ä¼ ç»Ÿ Agent ä»…é æ–‡æœ¬ â€œå‚»èŠâ€ çš„ä½æ•ˆé—®é¢˜ï¼Œè®© AI èƒ½åŠ¨æ€ç”Ÿæˆå›¾å½¢ç•Œé¢ï¼ˆå¦‚è®¢åº§è¡¨å•ã€ç¡®è®¤å¡ç‰‡ï¼‰ï¼Œå®ç° â€œé«˜å¸¦å®½â€ äº¤äº’ï¼Œä» â€œäººé€‚åº”æœºå™¨â€ è½¬å‘ â€œæœºå™¨é€‚åº”äººâ€ <strong>ã€‚</strong></li>
<li><strong>ç”Ÿæ€æ•´åˆæ·±åŒ–</strong>ï¼šä¸ A2Aï¼ˆAgent-to-Agentï¼‰åè®®è”åŠ¨ï¼Œå®ç° â€œä»£ç†åä½œç”Ÿæˆç•Œé¢â€ï¼ˆå¦‚æ—…è¡Œä»£ç†è°ƒç”¨èˆªç­ä»£ç†çš„ Skillï¼ŒåŒæ—¶ç”Ÿæˆç»Ÿä¸€é¢„è®¢ç•Œé¢ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-14">æ€»ç»“ï¼šA2UI çš„æ ¸å¿ƒä»·å€¼ â€”â€” è®© AI ä» â€œä¼šèŠâ€ åˆ° â€œä¼šåšâ€</h2>
<p>A2UI çš„æœ¬è´¨ä¸æ˜¯é¢ è¦†ç°æœ‰å›¾å½¢ç•Œé¢ï¼Œè€Œæ˜¯ç”¨ AI èµ‹èƒ½äº¤äº’ â€”â€” è®©ç•Œé¢ä» â€œå†™æ­»çš„ä»£ç â€ å˜æˆ â€œåŠ¨æ€å“åº”éœ€æ±‚çš„å·¥å…·â€ã€‚å¯¹äºæ™®é€šç”¨æˆ·ï¼Œå®ƒæ„å‘³ç€ â€œå°‘æ‰“å­—ã€å¤šç¡®è®¤â€ çš„é«˜æ•ˆä½“éªŒï¼›å¯¹äºå¼€å‘è€…ï¼Œå®ƒä»£è¡¨ â€œä¸€æ¬¡é€»è¾‘å¼€å‘ï¼Œå¤šç«¯ç•Œé¢å¤ç”¨â€ çš„æ•ˆç‡é©å‘½ã€‚æœªæ¥çš„ AI ä¸ä»…èƒ½ç†è§£ä½ çš„éœ€æ±‚ï¼Œæ›´èƒ½ç›´æ¥é€’ä¸Š â€œæœ€è¶æ‰‹çš„å·¥å…·ç•Œé¢â€ï¼Œè¿™æˆ–è®¸å°±æ˜¯ â€œæœºå™¨é€‚åº”äººâ€ çš„äº¤äº’ç»ˆæå½¢æ€ä¹‹ä¸€ã€‚</p>
<p>å¯¹äºæ­£åœ¨æ„å»º Agent çš„å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡è¦çš„æ¶æ„å‚è€ƒã€‚è¿™ç§è§£è€¦è®©å‰ç«¯èƒ½æŒæ¡è§†è§‰é£æ ¼ï¼Œåç«¯ä¸“æ³¨é€»è¾‘ï¼Œå½»åº•å‘Šåˆ«è®© LLM ç²—æš´ç”Ÿæˆ HTML çš„è‰è½æ—¶ä»£ã€‚ä½œä¸ºå¼€å‘è€…å¯ä»¥å…³æ³¨ A2UI çš„æ¼”è¿›ï¼Œè¿™æ˜¯æœªæ¥ AI åŸç”Ÿåº”ç”¨çš„æ ‡å‡†é…ç½®ã€‚</p>
<p>ç›¸å…³èµ„æ–™ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.googleblog.com%2Fintroducing-a2ui-an-open-project-for-agent-driven-interfaces%2F" target="_blank" title="https://developers.googleblog.com/introducing-a2ui-an-open-project-for-agent-driven-interfaces/" ref="nofollow noopener noreferrer">developers.googleblog.com/introducingâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2FA2UI%3Ftab%3Dreadme-ov-file" target="_blank" title="https://github.com/google/A2UI?tab=readme-ov-file" ref="nofollow noopener noreferrer">github.com/google/A2UIâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€2026ç‰ˆã€‘Spring Booté¢è¯•é¢˜]]></title>    <link>https://juejin.cn/post/7584780417103675432</link>    <guid>https://juejin.cn/post/7584780417103675432</guid>    <pubDate>2025-12-18T07:03:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584780417103675432" data-draft-id="7584761090669871104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€2026ç‰ˆã€‘Spring Booté¢è¯•é¢˜"/> <meta itemprop="keywords" content="åç«¯,MySQL,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-18T07:03:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€2026ç‰ˆã€‘Spring Booté¢è¯•é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:03:55.000Z" title="Thu Dec 18 2025 07:03:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç¯‡æ–‡ç« æ¶µç›–äº†Spring Bootçš„æ ¸å¿ƒæ¦‚å¿µå’Œé«˜çº§ä¸»é¢˜ï¼ŒåŒ…æ‹¬[è‡ªåŠ¨é…ç½®]ã€å¤šæ•°æ®æºã€Actuatorã€ç¼“å­˜ã€AOPã€å¼‚æ­¥ç¼–ç¨‹ã€äº‹åŠ¡ç®¡ç†ã€å®‰å…¨æ€§ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå¾®æœåŠ¡æ¶æ„ã€‚è¿™äº›é—®é¢˜å¯ä»¥å¸®åŠ©æ‚¨è¯„ä¼°å€™é€‰äººçš„æŠ€èƒ½å’Œç»éªŒï¼ŒåŒæ—¶ä¹Ÿæ˜¯æé«˜è‡ªå·±Spring BootæŠ€èƒ½çš„å¥½æ–¹æ³•ã€‚</p>
<h5 data-id="heading-0"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.Â Spring Bootä¸­çš„è‡ªåŠ¨é…ç½®æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h5>
<p>Spring Bootä¸­çš„è‡ªåŠ¨é…ç½®æ˜¯é€šè¿‡Spring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶å®ç°çš„ã€‚è‡ªåŠ¨é…ç½®æ˜¯ä¸€ç§åŸºäºçº¦å®šå¤§äºé…ç½®çš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥æ ¹æ®[ç±»è·¯å¾„]ä¸­çš„ä¾èµ–é¡¹è‡ªåŠ¨é…ç½®Springåº”ç”¨ç¨‹åºã€‚è¿™æ„å‘³ç€ï¼Œå½“æ‚¨æ·»åŠ æŸäº›ä¾èµ–é¡¹æ—¶ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®åº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€æ‰‹åŠ¨é…ç½®ã€‚è‡ªåŠ¨é…ç½®æ˜¯é€šè¿‡ç±»è·¯å¾„ä¸Šçš„Spring Boot Starterä¾èµ–é¡¹æ¥å®ç°çš„ï¼Œè¿™äº›ä¾èµ–é¡¹åŒ…å«äº†ä¸€ç»„é¢„å®šä¹‰çš„é…ç½®ç±»ï¼Œè¿™äº›ç±»å¯ä»¥æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€æ±‚æ¥è‡ªåŠ¨é…ç½®Springåº”ç”¨ç¨‹åºã€‚å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹è‡ªåŠ¨é…ç½®çš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨Spring Bootæä¾›çš„å„ç§é…ç½®é€‰é¡¹æ¥è¦†ç›–é»˜è®¤é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootå¯ä»¥å¤§å¤§ç®€åŒ–Springåº”ç”¨ç¨‹åºçš„é…ç½®å’Œéƒ¨ç½²è¿‡ç¨‹ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡å’Œç”Ÿäº§åŠ›ã€‚</p>
<p>Spring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶åŸºäºSpringæ¡†æ¶ä¸­çš„æ¡ä»¶åŒ–é…ç½®æœºåˆ¶ï¼Œå®ƒä½¿ç”¨æ¡ä»¶æ³¨è§£æ¥æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€æ±‚è‡ªåŠ¨é…ç½®Springåº”ç”¨ç¨‹åºã€‚æ¡ä»¶æ³¨è§£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ³¨è§£ï¼Œå®ƒå¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ¥æ§åˆ¶æ˜¯å¦åº”è¯¥åŠ è½½æŸä¸ªç±»æˆ–é…ç½®ã€‚Spring Bootä¸­çš„è‡ªåŠ¨é…ç½®ç±»é€šå¸¸ä½¿ç”¨@Conditionalæ³¨è§£æ¥å®ç°æ¡ä»¶åŒ–é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºçš„ç±»è·¯å¾„ä¸­åŒ…å«äº†Spring DataÂ JPAçš„ä¾èµ–é¡¹ï¼ŒSpring Bootä¼šè‡ªåŠ¨é…ç½®JPAç›¸å…³çš„beanã€‚è¿™æ˜¯é€šè¿‡åœ¨Spring Bootçš„è‡ªåŠ¨é…ç½®ç±»ä¸­ä½¿ç”¨@ConditionalOnClassæ³¨è§£æ¥å®ç°çš„ï¼Œè¯¥æ³¨è§£è¡¨ç¤ºåªæœ‰åœ¨ç±»è·¯å¾„ä¸­å­˜åœ¨æŒ‡å®šçš„ç±»æ—¶æ‰ä¼šåŠ è½½è¯¥é…ç½®ç±»ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„Spring Bootè‡ªåŠ¨é…ç½®ç¤ºä¾‹ï¼Œå®ƒæ¼”ç¤ºäº†å¦‚ä½•è‡ªåŠ¨é…ç½®ä¸€ä¸ªæ•°æ®æºï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
<span class="hljs-variable">@ConditionalOnClass</span>(DataSource.class)
<span class="hljs-variable">@EnableConfigurationProperties</span>(DatabaseProperties.class)
public class DatabaseAutoConfiguration {
     <span class="hljs-variable">@Autowired</span>
    private DatabaseProperties properties;
     <span class="hljs-variable">@Bean</span>
    <span class="hljs-variable">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"spring.datasource"</span>)
    public DataSource <span class="hljs-built_in">dataSource</span>() {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">DataSourceBuilder</span><span class="hljs-selector-class">.create</span>()
                <span class="hljs-selector-class">.url</span>(properties.<span class="hljs-built_in">getUrl</span>())
                <span class="hljs-selector-class">.username</span>(properties.<span class="hljs-built_in">getUsername</span>())
                <span class="hljs-selector-class">.password</span>(properties.<span class="hljs-built_in">getPassword</span>())
                <span class="hljs-selector-class">.build</span>();
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ@Configurationæ³¨è§£è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œ@ConditionalOnClassæ³¨è§£è¡¨ç¤ºåªæœ‰åœ¨ç±»è·¯å¾„ä¸­å­˜åœ¨DataSourceç±»æ—¶æ‰ä¼šåŠ è½½è¯¥é…ç½®ç±»ï¼Œ@Enable[ConfigurationPropertiesæ³¨è§£]è¡¨ç¤ºè¯¥é…ç½®ç±»ä½¿ç”¨äº†ä¸€ä¸ªåä¸ºDatabasePropertiesçš„å±æ€§ç±»ã€‚åœ¨è¯¥é…ç½®ç±»ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£å°†å‰ç¼€ä¸º"spring.datasource"çš„å±æ€§æ˜ å°„åˆ°DataSourceBuilderä¸­ï¼Œå¹¶ä½¿ç”¨è¯¥å±æ€§æ¥åˆ›å»ºä¸€ä¸ªæ•°æ®æºbeanã€‚è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨Spring Bootè‡ªåŠ¨é…ç½®æ¥è‡ªåŠ¨é…ç½®ä¸€ä¸ªæ•°æ®æºbeanï¼Œå¹¶ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£å°†å±æ€§æ˜ å°„åˆ°beanä¸­ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒSpring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶æ˜¯ä¸€ç§éå¸¸å¼ºå¤§å’Œæ–¹ä¾¿çš„æ–¹å¼æ¥è‡ªåŠ¨é…ç½®Springåº”ç”¨ç¨‹åºã€‚é€šè¿‡ä½¿ç”¨Spring Bootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¤§å¤§ç®€åŒ–Springåº”ç”¨ç¨‹åºçš„é…ç½®å’Œéƒ¨ç½²è¿‡ç¨‹ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡å’Œç”Ÿäº§åŠ›ã€‚</p>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd2b3226ab24f67ab90fc0e9834bd1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648018&amp;x-signature=p3Ng5S3NnQCV1zccGuIcpXlRito%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h5 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2. å¦‚ä½•åœ¨Spring Bootä¸­ä½¿ç”¨å¤šä¸ªæ•°æ®æºï¼Ÿ</h5>
<p>åœ¨Spring Bootä¸­ä½¿ç”¨å¤šä¸ªæ•°æ®æºå¯ä»¥é€šè¿‡é…ç½®å¤šä¸ªæ•°æ®æºbeanæ¥å®ç°ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ä¸¤ä¸ªæ•°æ®æºçš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>é…ç½®å¤šä¸ªæ•°æ®æº</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
public class DataSourceConfig {
     <span class="hljs-variable">@Bean</span>
    <span class="hljs-variable">@Primary</span>
    <span class="hljs-variable">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"spring.datasource.primary"</span>)
    public DataSource <span class="hljs-built_in">primaryDataSource</span>() {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">DataSourceBuilder</span><span class="hljs-selector-class">.create</span>()<span class="hljs-selector-class">.build</span>();
    }
     @<span class="hljs-selector-tag">Bean</span>
    @<span class="hljs-selector-tag">ConfigurationProperties</span>(prefix = <span class="hljs-string">"spring.datasource.secondary"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">DataSource</span> <span class="hljs-selector-tag">secondaryDataSource</span>() {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">DataSourceBuilder</span><span class="hljs-selector-class">.create</span>()<span class="hljs-selector-class">.build</span>();
    }
 }
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæ•°æ®æºbeanï¼Œä¸€ä¸ªæ˜¯ä¸»æ•°æ®æºï¼ˆprimaryDataSourceï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯æ¬¡è¦æ•°æ®æºï¼ˆsecondaryDataSourceï¼‰ã€‚è¿™ä¸¤ä¸ªbeanéƒ½ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£æ¥å°†é…ç½®å±æ€§æ˜ å°„åˆ°æ•°æ®æºbeanä¸­ã€‚<br/>
2. é…ç½®JdbcTemplate</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
public class JdbcTemplateConfig {
     <span class="hljs-variable">@Bean</span>
    public JdbcTemplate <span class="hljs-built_in">primaryJdbcTemplate</span>(<span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">"primaryDataSource"</span>) DataSource dataSource) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">JdbcTemplate</span>(dataSource);
    }
     @<span class="hljs-selector-tag">Bean</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">JdbcTemplate</span> <span class="hljs-selector-tag">secondaryJdbcTemplate</span>(<span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">"secondaryDataSource"</span>) DataSource dataSource) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">JdbcTemplate</span>(dataSource);
    }
 }
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªJdbcTemplate beanï¼Œä¸€ä¸ªæ˜¯ä¸»JdbcTemplateï¼ˆprimaryJdbcTemplateï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯æ¬¡è¦JdbcTemplateï¼ˆsecondaryJdbcTemplateï¼‰ã€‚è¿™ä¸¤ä¸ªbeanéƒ½ä½¿ç”¨@Qualifieræ³¨è§£æ¥æŒ‡å®šå®ƒä»¬æ‰€ä½¿ç”¨çš„æ•°æ®æºbeanã€‚<br/>
3. é…ç½®å®ä½“ç®¡ç†å™¨å·¥å‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
<span class="hljs-variable">@EnableJpaRepositories</span>(
        basePackages = <span class="hljs-string">"com.example.primary.repository"</span>,
        entityManagerFactoryRef = <span class="hljs-string">"primaryEntityManagerFactory"</span>,
        transactionManagerRef = <span class="hljs-string">"primaryTransactionManager"</span>)
public class PrimaryDataSourceConfig {
     <span class="hljs-variable">@Primary</span>
    <span class="hljs-variable">@Bean</span>
    <span class="hljs-variable">@ConfigurationProperties</span>(prefix = <span class="hljs-string">"spring.datasource.primary"</span>)
    public DataSource <span class="hljs-built_in">primaryDataSource</span>() {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">DataSourceBuilder</span><span class="hljs-selector-class">.create</span>()<span class="hljs-selector-class">.build</span>();
    }
     @<span class="hljs-selector-tag">Primary</span>
    @<span class="hljs-selector-tag">Bean</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">LocalContainerEntityManagerFactoryBean</span> <span class="hljs-selector-tag">primaryEntityManagerFactory</span>(EntityManagerFactoryBuilder builder,
                                                                                <span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">"primaryDataSource"</span>) DataSource dataSource) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">builder</span>
                <span class="hljs-selector-class">.dataSource</span>(dataSource)
                <span class="hljs-selector-class">.packages</span>(<span class="hljs-string">"com.example.primary.entity"</span>)
                <span class="hljs-selector-class">.persistenceUnit</span>(<span class="hljs-string">"primary"</span>)
                <span class="hljs-selector-class">.build</span>();
    }
     @<span class="hljs-selector-tag">Primary</span>
    @<span class="hljs-selector-tag">Bean</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">PlatformTransactionManager</span> <span class="hljs-selector-tag">primaryTransactionManager</span>(
            <span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">"primaryEntityManagerFactory"</span>) EntityManagerFactory entityManagerFactory) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">JpaTransactionManager</span>(entityManagerFactory);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåä¸ºPrimaryDataSourceConfigçš„é…ç½®ç±»ï¼Œå®ƒé…ç½®äº†ä¸»æ•°æ®æºçš„å®ä½“ç®¡ç†å™¨å·¥å‚å’Œäº‹åŠ¡ç®¡ç†å™¨ã€‚æˆ‘ä»¬ä½¿ç”¨@EnableJpaRepositoriesæ³¨è§£æ¥å¯ç”¨JPAä»“åº“ï¼Œå¹¶ä½¿ç”¨basePackageså±æ€§æ¥æŒ‡å®šJPAä»“åº“çš„åŒ…è·¯å¾„ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨entityManagerFactoryRefå±æ€§å’ŒtransactionManagerRefå±æ€§æ¥æŒ‡å®šå®ä½“ç®¡ç†å™¨å·¥å‚å’Œäº‹åŠ¡ç®¡ç†å™¨çš„beanåç§°ã€‚</p>
<ol start="4">
<li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Configuration</span>
<span class="hljs-variable">@EnableTransactionManagement</span>
public class TransactionManagerConfig {
     <span class="hljs-variable">@Bean</span>
    public PlatformTransactionManager <span class="hljs-built_in">primaryTransactionManager</span>(<span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">"primaryEntityManagerFactory"</span>) EntityManagerFactory entityManagerFactory) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">JpaTransactionManager</span>(entityManagerFactory);
    }
     @<span class="hljs-selector-tag">Bean</span>
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">PlatformTransactionManager</span> <span class="hljs-selector-tag">secondaryTransactionManager</span>(<span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">"secondaryEntityManagerFactory"</span>) EntityManagerFactory entityManagerFactory) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">JpaTransactionManager</span>(entityManagerFactory);
    }
 }
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªäº‹åŠ¡ç®¡ç†å™¨beanï¼Œä¸€ä¸ªæ˜¯ä¸»äº‹åŠ¡ç®¡ç†å™¨ï¼ˆprimaryTransactionManagerï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯æ¬¡è¦äº‹åŠ¡ç®¡ç†å™¨ï¼ˆsecondaryTransactionManagerï¼‰ã€‚è¿™ä¸¤ä¸ªbeanéƒ½ä½¿ç”¨@Qualifieræ³¨è§£æ¥æŒ‡å®šå®ƒä»¬æ‰€ä½¿ç”¨çš„å®ä½“ç®¡ç†å™¨å·¥å‚beanã€‚<br/>
æ€»çš„æ¥è¯´ï¼ŒSpring Bootä¸­ä½¿ç”¨å¤šä¸ªæ•°æ®æºéœ€è¦é…ç½®å¤šä¸ªæ•°æ®æºbeanå’Œç›¸å…³çš„JdbcTemplateã€å®ä½“ç®¡ç†å™¨å·¥å‚å’Œäº‹åŠ¡ç®¡ç†å™¨ç­‰ç»„ä»¶ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨@ConfigurationPropertiesæ³¨è§£å°†é…ç½®å±æ€§æ˜ å°„åˆ°æ•°æ®æºbeanä¸­ï¼Œä½¿ç”¨@Qualifieræ³¨è§£æ¥æŒ‡å®šæ‰€ä½¿ç”¨çš„beanï¼Œä»è€Œå®ç°å¤šä¸ªæ•°æ®æºçš„é…ç½®ã€‚</p>
<h5 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3. Spring Bootä¸­çš„[Actuator]æ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p>Actuatoræ˜¯Spring Bootæä¾›çš„ä¸€ä¸ªç®¡ç†å’Œç›‘æ§åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µï¼Œå¹¶æä¾›ä¸€äº›æœ‰ç”¨çš„ç«¯ç‚¹æ¥æ£€æŸ¥å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚Actuatorå¯ä»¥æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ol>
<li>å¥åº·æ£€æŸ¥ï¼šActuatoræä¾›äº†ä¸€ä¸ª/healthç«¯ç‚¹ï¼Œç”¨äºæ£€æŸ¥åº”ç”¨ç¨‹åºçš„å¥åº·çŠ¶å†µã€‚è¿™ä¸ªç«¯ç‚¹å¯ä»¥å‘Šè¯‰æˆ‘ä»¬åº”ç”¨ç¨‹åºæ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œå¹¶æä¾›ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å†…å­˜ä½¿ç”¨æƒ…å†µã€æ•°æ®åº“è¿æ¥çŠ¶æ€ç­‰ã€‚</li>
<li>ç›‘æ§æŒ‡æ ‡ï¼šActuatoræä¾›äº†ä¸€ä¸ª/metricsç«¯ç‚¹ï¼Œç”¨äºç›‘æ§åº”ç”¨ç¨‹åºçš„æŒ‡æ ‡ã€‚è¿™ä¸ªç«¯ç‚¹å¯ä»¥å‘Šè¯‰æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å„ç§æŒ‡æ ‡ï¼Œä¾‹å¦‚è¯·æ±‚æ•°ã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡ç­‰ã€‚</li>
<li>ç¯å¢ƒé…ç½®ï¼šActuatoræä¾›äº†ä¸€ä¸ª/envç«¯ç‚¹ï¼Œç”¨äºæŸ¥çœ‹åº”ç”¨ç¨‹åºçš„ç¯å¢ƒé…ç½®ã€‚è¿™ä¸ªç«¯ç‚¹å¯ä»¥å‘Šè¯‰æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å„ç§é…ç½®ä¿¡æ¯ï¼Œä¾‹å¦‚æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€æ—¥å¿—çº§åˆ«ç­‰ã€‚</li>
<li>æ—¥å¿—ç®¡ç†ï¼šActuatoræä¾›äº†ä¸€ä¸ª/loggersç«¯ç‚¹ï¼Œç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„æ—¥å¿—ã€‚è¿™ä¸ªç«¯ç‚¹å¯ä»¥å‘Šè¯‰æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„å„ç§æ—¥å¿—ä¿¡æ¯ï¼Œä¾‹å¦‚æ—¥å¿—çº§åˆ«ã€æ—¥å¿—è¾“å‡ºä½ç½®ç­‰ã€‚</li>
<li>çº¿ç¨‹ç®¡ç†ï¼šActuatoræä¾›äº†ä¸€ä¸ª/threaddumpç«¯ç‚¹ï¼Œç”¨äºæŸ¥çœ‹åº”ç”¨ç¨‹åºçš„çº¿ç¨‹ä¿¡æ¯ã€‚è¿™ä¸ªç«¯ç‚¹å¯ä»¥å‘Šè¯‰æˆ‘ä»¬åº”ç”¨ç¨‹åºçš„çº¿ç¨‹çŠ¶æ€ã€å †æ ˆä¿¡æ¯ç­‰ã€‚<br/>
Actuatorçš„åŸç†æ˜¯é€šè¿‡åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä¸€äº›ç«¯ç‚¹æ¥å®ç°çš„ã€‚è¿™äº›ç«¯ç‚¹å¯ä»¥é€šè¿‡HTTPè¯·æ±‚æ¥è®¿é—®ï¼Œå¹¶è¿”å›ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ã€‚Spring Bootä½¿ç”¨äº†ä¸€äº›å†…ç½®çš„ç«¯ç‚¹ï¼Œä¾‹å¦‚/healthã€/metricsç­‰ï¼Œå¹¶å…è®¸æˆ‘ä»¬æ·»åŠ è‡ªå®šä¹‰çš„ç«¯ç‚¹ã€‚<br/>
ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Actuatorçš„ç¤ºä¾‹ï¼š</li>
<li>æ·»åŠ Actuatorä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
&lt;/dependency
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
</ul>
<blockquote>
</blockquote>
<ol>
<li>é…ç½®Actuatorç«¯ç‚¹<br/>
åœ¨application.propertiesæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š<br/>
properties</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">management.endpoints.web.exposure.include</span>=*

ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>1</li>
</ul>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
<span class="hljs-variable">@Endpoint</span>(id = <span class="hljs-string">"version"</span>)
public class VersionEndpoint {
    <span class="hljs-variable">@ReadOperation</span>
    public String <span class="hljs-built_in">getVersion</span>() {
        <span class="hljs-selector-tag">return</span> "<span class="hljs-number">1.0</span><span class="hljs-selector-class">.0</span>";
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºVersionEndpointçš„ç»„ä»¶ï¼Œå¹¶ä½¿ç”¨@Endpointæ³¨è§£æ¥æ ‡è®°å®ƒæ˜¯ä¸€ä¸ªActuatorç«¯ç‚¹ã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨@ReadOperationæ³¨è§£æ¥æŒ‡å®šè¿™ä¸ªç«¯ç‚¹çš„æ“ä½œç±»å‹ä¸ºè¯»å–æ“ä½œã€‚æœ€åï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªåä¸ºgetVersionçš„æ–¹æ³•ï¼Œç”¨äºè¿”å›åº”ç”¨ç¨‹åºçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚<br/>
å¯åŠ¨åº”ç”¨ç¨‹åºåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹URLè®¿é—®è‡ªå®šä¹‰çš„ç«¯ç‚¹ï¼š</p>
<pre><code class="hljs">æ€»çš„æ¥è¯´ï¼ŒActuatoræ˜¯Spring Bootæä¾›çš„ä¸€ä¸ªç®¡ç†å’Œç›‘æ§åº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°äº†è§£åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶å†µï¼Œå¹¶æä¾›ä¸€äº›æœ‰ç”¨çš„ç«¯ç‚¹æ¥æ£€æŸ¥å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚
</code></pre>
<h5 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4. å¦‚ä½•åœ¨Spring Bootä¸­å®ç°ç¼“å­˜ï¼Ÿ</h5>
<p>åœ¨Spring Bootä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Spring Cacheæ¥å®ç°ç¼“å­˜ã€‚Spring Cacheæ˜¯Springæ¡†æ¶æä¾›çš„ä¸€ä¸ªç¼“å­˜æŠ½è±¡å±‚ï¼Œå®ƒå¯ä»¥ä¸å¤šç§ç¼“å­˜å®ç°è¿›è¡Œé›†æˆï¼Œä¾‹å¦‚Ehcacheã€Redisã€Memcachedç­‰ã€‚<br/>
Spring Cacheçš„åŸç†æ˜¯é€šè¿‡åœ¨æ–¹æ³•ä¸Šæ·»åŠ ç¼“å­˜æ³¨è§£æ¥å®ç°çš„ã€‚å½“æˆ‘ä»¬è°ƒç”¨å¸¦æœ‰ç¼“å­˜æ³¨è§£çš„æ–¹æ³•æ—¶ï¼ŒSpring Cacheä¼šè‡ªåŠ¨ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œå¦‚æœç¼“å­˜ä¸­ä¸å­˜åœ¨æ•°æ®ï¼Œåˆ™ä¼šæ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœå­˜å…¥ç¼“å­˜ä¸­ã€‚<br/>
ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Spring Cacheçš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>æ·»åŠ Spring Cacheä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ol>
<li>é…ç½®ç¼“å­˜<br/>
åœ¨application.propertiesæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š<br/>
properties</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.cache.type</span>=ehcache

ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>1</li>
</ul>
<p>è¿™ä¸ªé…ç½®å°†ä½¿ç”¨Ehcacheä½œä¸ºç¼“å­˜å®ç°ã€‚<br/>
3. æ·»åŠ ç¼“å­˜æ³¨è§£<br/>
åœ¨æˆ‘ä»¬éœ€è¦ç¼“å­˜çš„æ–¹æ³•ä¸Šæ·»åŠ ç¼“å­˜æ³¨è§£ï¼Œä¾‹å¦‚@Cacheableã€@CachePutã€@CacheEvictç­‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨@Cacheableæ³¨è§£çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserRepository userRepository;
     <span class="hljs-meta">@Cacheable(<span class="hljs-string">"users"</span>)</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; getAllUsers() {
        <span class="hljs-keyword">return</span> userRepository.findAll();
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨getAllUsersæ–¹æ³•ä¸Šæ·»åŠ äº†@Cacheableæ³¨è§£ï¼Œå¹¶æŒ‡å®šäº†ç¼“å­˜åç§°ä¸º"users"ã€‚å½“æˆ‘ä»¬è°ƒç”¨getAllUsersæ–¹æ³•æ—¶ï¼ŒSpring Cacheä¼šè‡ªåŠ¨ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œå¦‚æœç¼“å­˜ä¸­ä¸å­˜åœ¨æ•°æ®ï¼Œåˆ™ä¼šæ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœå­˜å…¥ç¼“å­˜ä¸­ã€‚<br/>
4. ä½¿ç”¨ç¼“å­˜<br/>
åœ¨å…¶ä»–åœ°æ–¹è°ƒç”¨getAllUsersæ–¹æ³•æ—¶ï¼ŒSpring Cacheä¼šè‡ªåŠ¨ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œå¦‚æœç¼“å­˜ä¸­ä¸å­˜åœ¨æ•°æ®ï¼Œåˆ™ä¼šæ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœå­˜å…¥ç¼“å­˜ä¸­ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨getAllUsersæ–¹æ³•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@RestController</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserService userService;
     <span class="hljs-meta">@GetMapping(<span class="hljs-string">"/users"</span>)</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; getAllUsers() {
        <span class="hljs-keyword">return</span> userService.getAllUsers();
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨UserControllerä¸­æ³¨å…¥äº†UserServiceï¼Œå¹¶è°ƒç”¨äº†getAllUsersæ–¹æ³•ï¼ŒSpring Cacheä¼šè‡ªåŠ¨ä»ç¼“å­˜ä¸­è·å–æ•°æ®ï¼Œå¦‚æœç¼“å­˜ä¸­ä¸å­˜åœ¨æ•°æ®ï¼Œåˆ™ä¼šæ‰§è¡Œæ–¹æ³•å¹¶å°†ç»“æœå­˜å…¥ç¼“å­˜ä¸­ã€‚<br/>
æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨Spring Cacheå¯ä»¥æ–¹ä¾¿åœ°å®ç°ç¼“å­˜ï¼Œåªéœ€è¦åœ¨æ–¹æ³•ä¸Šæ·»åŠ ç¼“å­˜æ³¨è§£å³å¯ã€‚åŒæ—¶ï¼ŒSpring Cacheè¿˜æä¾›äº†å¤šç§ç¼“å­˜å®ç°çš„é›†æˆï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç¼“å­˜å®ç°ã€‚</p>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd2b3226ab24f67ab90fc0e9834bd1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648018&amp;x-signature=p3Ng5S3NnQCV1zccGuIcpXlRito%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h5 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5. Spring Bootä¸­çš„AOPæ˜¯ä»€ä¹ˆï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h5>
<p>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰æ˜¯Springæ¡†æ¶çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­æ–¹ä¾¿åœ°å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆCross-cutting Concernsï¼‰çš„æ¨¡å—åŒ–ã€‚Spring Bootä¸­çš„AOPæ˜¯åŸºäºSpringæ¡†æ¶å®ç°çš„ï¼Œæä¾›äº†ä¸€ç§ä¾¿æ·çš„æ–¹å¼æ¥ç®¡ç†å’Œä½¿ç”¨AOPã€‚<br/>
AOPçš„ä½œç”¨æ˜¯å°†åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ä¸æ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä»è€Œæé«˜åº”ç”¨ç¨‹åºçš„å¯ç»´æŠ¤æ€§å’Œå¯é‡ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œæ—¥å¿—ã€äº‹åŠ¡ã€å®‰å…¨ç­‰éƒ½æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨AOPå°†å®ƒä»¬æ¨¡å—åŒ–ï¼Œä»è€Œä½¿å¾—åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘æ›´åŠ æ¸…æ™°å’Œç®€æ´ã€‚<br/>
åœ¨Spring Bootä¸­ï¼Œå¯ä»¥ä½¿ç”¨@Aspectæ³¨è§£æ¥å®šä¹‰åˆ‡é¢ï¼Œä½¿ç”¨@Pointcutæ³¨è§£æ¥å®šä¹‰åˆ‡ç‚¹ï¼Œä½¿ç”¨@Beforeã€@Afterã€@Aroundç­‰æ³¨è§£æ¥å®šä¹‰é€šçŸ¥ï¼ˆAdviceï¼‰ï¼Œä»è€Œå®ç°AOPçš„åŠŸèƒ½ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Spring Boot AOPçš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>æ·»åŠ Spring Boot AOPä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ol>
<li>å®šä¹‰åˆ‡é¢<br/>
å®šä¹‰ä¸€ä¸ªåˆ‡é¢ç±»ï¼Œå¹¶ä½¿ç”¨@Aspectæ³¨è§£æ¥æ ‡è¯†å®ƒæ˜¯ä¸€ä¸ªåˆ‡é¢ï¼š</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Aspect</span>
<span class="hljs-variable">@Component</span>
public class LogAspect {
    <span class="hljs-variable">@Pointcut</span>(<span class="hljs-string">"execution(* com.example.demo.service.UserService.*(..))"</span>)
    public void <span class="hljs-built_in">pointcut</span>() {}
     <span class="hljs-variable">@Before</span>(<span class="hljs-string">"pointcut()"</span>)
    public void <span class="hljs-built_in">before</span>() {
        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"before method..."</span>);
    }
     @<span class="hljs-selector-tag">After</span>(<span class="hljs-string">"pointcut()"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">after</span>() {
        <span class="hljs-selector-tag">System</span><span class="hljs-selector-class">.out</span><span class="hljs-selector-class">.println</span>(<span class="hljs-string">"after method..."</span>);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåˆ‡é¢ç±»LogAspectï¼Œå¹¶ä½¿ç”¨@Aspectæ³¨è§£æ¥æ ‡è¯†å®ƒæ˜¯ä¸€ä¸ªåˆ‡é¢ã€‚æˆ‘ä»¬ä½¿ç”¨@Pointcutæ³¨è§£æ¥å®šä¹‰åˆ‡ç‚¹ï¼ŒæŒ‡å®šäº†UserServiceç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯åˆ‡ç‚¹ã€‚æˆ‘ä»¬ä½¿ç”¨@Beforeæ³¨è§£æ¥å®šä¹‰å‰ç½®é€šçŸ¥ï¼Œåœ¨åˆ‡ç‚¹æ–¹æ³•æ‰§è¡Œå‰è¾“å‡ºä¸€æ¡æ—¥å¿—ï¼›ä½¿ç”¨@Afteræ³¨è§£æ¥å®šä¹‰åç½®é€šçŸ¥ï¼Œåœ¨åˆ‡ç‚¹æ–¹æ³•æ‰§è¡Œåè¾“å‡ºä¸€æ¡æ—¥å¿—ã€‚<br/>
3. ä½¿ç”¨åˆ‡é¢<br/>
åœ¨éœ€è¦ä½¿ç”¨åˆ‡é¢çš„ç±»ä¸­æ³¨å…¥LogAspectå³å¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">LogAspect</span> logAspect;
     <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">User user</span>) {
        logAspect.<span class="hljs-title function_">before</span>();
        <span class="hljs-comment">// add user</span>
        logAspect.<span class="hljs-title function_">after</span>();
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨UserServiceç±»ä¸­æ³¨å…¥äº†LogAspectï¼Œå¹¶åœ¨addUseræ–¹æ³•ä¸­è°ƒç”¨äº†LogAspectçš„beforeå’Œafteræ–¹æ³•ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼ŒSpring Boot AOPæä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥ç®¡ç†å’Œä½¿ç”¨AOPï¼Œå¯ä»¥æ–¹ä¾¿åœ°å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹çš„æ¨¡å—åŒ–ã€‚ä½¿ç”¨Spring Boot AOPï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®šä¹‰åˆ‡é¢ã€åˆ‡ç‚¹å’Œé€šçŸ¥æ¥å®ç°AOPçš„åŠŸèƒ½ã€‚</p>
<h5 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6. å¦‚ä½•åœ¨Spring Bootä¸­å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼Ÿ</h5>
<p>åœ¨Spring Bootä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼‚æ­¥ç¼–ç¨‹æ¥æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œååé‡ã€‚Spring Bootæä¾›äº†å¤šç§æ–¹å¼æ¥å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼ŒåŒ…æ‹¬ä½¿ç”¨çº¿ç¨‹æ± ã€ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨çº¿ç¨‹æ± å®ç°å¼‚æ­¥ç¼–ç¨‹çš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>æ·»åŠ Spring Bootå¼‚æ­¥ç¼–ç¨‹ä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ol>
<li>å¯ç”¨å¼‚æ­¥æ”¯æŒ<br/>
åœ¨Spring Bootåº”ç”¨ç¨‹åºçš„ä¸»ç±»ä¸­æ·»åŠ @EnableAsyncæ³¨è§£æ¥å¯ç”¨å¼‚æ­¥æ”¯æŒï¼š</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@SpringBootApplication</span>
<span class="hljs-variable">@EnableAsync</span>
public class Application {
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) {
        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(Application.class, args);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ol>
<li>å®šä¹‰å¼‚æ­¥æ–¹æ³•<br/>
åœ¨éœ€è¦å¼‚æ­¥æ‰§è¡Œçš„æ–¹æ³•ä¸Šæ·»åŠ @Asyncæ³¨è§£ï¼Œå¹¶æŒ‡å®šçº¿ç¨‹æ± åç§°ï¼š</li>
</ol>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Async</span>(<span class="hljs-string">"asyncExecutor"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">User user</span>) {
        <span class="hljs-comment">// add user</span>
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨UserServiceç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªaddUseræ–¹æ³•ï¼Œå¹¶åœ¨æ–¹æ³•ä¸Šæ·»åŠ äº†@Asyncæ³¨è§£ï¼ŒæŒ‡å®šäº†çº¿ç¨‹æ± åç§°ä¸º"asyncExecutor"ã€‚è¿™æ ·ï¼Œå½“è°ƒç”¨addUseræ–¹æ³•æ—¶ï¼ŒSpringä¼šå°†è¯¥æ–¹æ³•çš„æ‰§è¡Œæ”¾å…¥çº¿ç¨‹æ± ä¸­å¼‚æ­¥æ‰§è¡Œã€‚<br/>
4. é…ç½®çº¿ç¨‹æ± <br/>
åœ¨Spring Bootçš„é…ç½®æ–‡ä»¶application.propertiesä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">properties
<span class="hljs-attr">spring.task.execution.pool.core-size</span>=<span class="hljs-number">5</span>
<span class="hljs-attr">spring.task.execution.pool.max-size</span>=<span class="hljs-number">10</span>
<span class="hljs-attr">spring.task.execution.pool.queue-capacity</span>=<span class="hljs-number">100</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
</ul>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é…ç½®äº†ä¸€ä¸ªåä¸º"asyncExecutor"çš„çº¿ç¨‹æ± ï¼Œæ ¸å¿ƒçº¿ç¨‹æ•°ä¸º5ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸º10ï¼Œé˜Ÿåˆ—å®¹é‡ä¸º100ã€‚<br/>
æ€»çš„æ¥è¯´ï¼ŒSpring Bootæä¾›äº†å¤šç§æ–¹å¼æ¥å®ç°å¼‚æ­¥ç¼–ç¨‹ï¼ŒåŒ…æ‹¬ä½¿ç”¨çº¿ç¨‹æ± ã€ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚ä½¿ç”¨Spring Bootå¼‚æ­¥ç¼–ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ @EnableAsyncæ³¨è§£æ¥å¯ç”¨å¼‚æ­¥æ”¯æŒï¼Œé€šè¿‡åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Asyncæ³¨è§£æ¥æŒ‡å®šå¼‚æ­¥æ‰§è¡Œçš„æ–¹æ³•ï¼Œé€šè¿‡é…ç½®çº¿ç¨‹æ± æ¥æ§åˆ¶å¼‚æ­¥æ‰§è¡Œçš„çº¿ç¨‹æ•°å’Œé˜Ÿåˆ—å®¹é‡ã€‚</p>
<ol start="4">
<li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</li>
</ol>
<h5 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>7. Spring Bootä¸­çš„äº‹åŠ¡ç®¡ç†æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h5>
<p>Spring Bootä¸­çš„äº‹åŠ¡ç®¡ç†æ˜¯é€šè¿‡Springæ¡†æ¶æä¾›çš„äº‹åŠ¡ç®¡ç†æœºåˆ¶å®ç°çš„ã€‚Springæ¡†æ¶æä¾›äº†ä¸€ç§å£°æ˜å¼äº‹åŠ¡ç®¡ç†çš„æ–¹å¼ï¼Œå³é€šè¿‡åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Transactionalæ³¨è§£æ¥æŒ‡å®šäº‹åŠ¡çš„è¾¹ç•Œï¼Œä»è€Œå®ç°äº‹åŠ¡ç®¡ç†ã€‚<br/>
ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨Spring Bootä¸­ä½¿ç”¨äº‹åŠ¡ç®¡ç†çš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>æ·»åŠ Spring Bootäº‹åŠ¡ç®¡ç†ä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
</ul>
<ol>
<li>å¯ç”¨äº‹åŠ¡ç®¡ç†<br/>
åœ¨Spring Bootåº”ç”¨ç¨‹åºçš„ä¸»ç±»ä¸­æ·»åŠ @EnableTransactionManagementæ³¨è§£æ¥å¯ç”¨äº‹åŠ¡ç®¡ç†ï¼š</li>
</ol>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@SpringBootApplication</span>
<span class="hljs-variable">@EnableTransactionManagement</span>
public class Application {
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">static</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">main</span>(String[] args) {
        <span class="hljs-selector-tag">SpringApplication</span><span class="hljs-selector-class">.run</span>(Application.class, args);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ol>
<li>å®šä¹‰äº‹åŠ¡æ–¹æ³•<br/>
åœ¨éœ€è¦è¿›è¡Œäº‹åŠ¡ç®¡ç†çš„æ–¹æ³•ä¸Šæ·»åŠ @Transactionalæ³¨è§£ï¼š</li>
</ol>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserRepository</span> userRepository;
     <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">User user</span>) {
        userRepository.<span class="hljs-title function_">save</span>(user);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨UserServiceç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªaddUseræ–¹æ³•ï¼Œå¹¶åœ¨æ–¹æ³•ä¸Šæ·»åŠ äº†@Transactionalæ³¨è§£ã€‚è¿™æ ·ï¼Œå½“è°ƒç”¨addUseræ–¹æ³•æ—¶ï¼ŒSpringä¼šè‡ªåŠ¨å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œå¹¶åœ¨æ–¹æ³•æ‰§è¡Œå®Œæˆåæ ¹æ®æ–¹æ³•çš„æ‰§è¡Œç»“æœå†³å®šæ˜¯æäº¤äº‹åŠ¡è¿˜æ˜¯å›æ»šäº‹åŠ¡ã€‚<br/>
æ€»çš„æ¥è¯´ï¼ŒSpring Bootä¸­çš„äº‹åŠ¡ç®¡ç†æ˜¯é€šè¿‡Springæ¡†æ¶æä¾›çš„äº‹åŠ¡ç®¡ç†æœºåˆ¶å®ç°çš„ã€‚ä½¿ç”¨Spring Bootäº‹åŠ¡ç®¡ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Transactionalæ³¨è§£æ¥æŒ‡å®šäº‹åŠ¡çš„è¾¹ç•Œï¼Œä»è€Œå®ç°äº‹åŠ¡ç®¡ç†ã€‚</p>
<h5 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>8. å¦‚ä½•åœ¨Spring Bootä¸­å®ç°å®‰å…¨æ€§ï¼Ÿ</h5>
<p>åœ¨Spring Bootä¸­å®ç°å®‰å…¨æ€§é€šå¸¸æ˜¯é€šè¿‡Spring Securityæ¡†æ¶æ¥å®ç°çš„ã€‚Spring Securityæ˜¯ä¸€ä¸ªåŸºäºSpringæ¡†æ¶çš„å®‰å…¨æ€§æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„å®‰å…¨æ€§åŠŸèƒ½ï¼Œå¦‚èº«ä»½éªŒè¯ã€æˆæƒã€å¯†ç åŠ å¯†ç­‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨Spring Bootä¸­ä½¿ç”¨Spring Securityå®ç°å®‰å…¨æ€§çš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>æ·»åŠ Spring Bootå®‰å…¨æ€§ä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ol>
<li>é…ç½®Spring Security<br/>
åœ¨Spring Bootåº”ç”¨ç¨‹åºçš„é…ç½®ç±»ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š</li>
</ol>

<pre><code class="hljs language-scala" lang="scala"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableWebSecurity</span>
public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebSecurityConfigurerAdapter</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> void configure(<span class="hljs-type">HttpSecurity</span> http) <span class="hljs-keyword">throws</span> <span class="hljs-type">Exception</span> {
        http.authorizeRequests()
                .antMatchers(<span class="hljs-string">"/admin/**"</span>).hasRole(<span class="hljs-string">"ADMIN"</span>)
                .antMatchers(<span class="hljs-string">"/user/**"</span>).hasRole(<span class="hljs-string">"USER"</span>)
                .anyRequest().authenticated()
                .and()
                .formLogin()
                .and()
                .logout();
    }
    <span class="hljs-meta">@Autowired</span>
    public void configureGlobal(<span class="hljs-type">AuthenticationManagerBuilder</span> auth) <span class="hljs-keyword">throws</span> <span class="hljs-type">Exception</span> {
        auth.inMemoryAuthentication()
                .withUser(<span class="hljs-string">"admin"</span>).password(<span class="hljs-string">"{noop}admin"</span>).roles(<span class="hljs-string">"ADMIN"</span>)
                .and()
                .withUser(<span class="hljs-string">"user"</span>).password(<span class="hljs-string">"{noop}user"</span>).roles(<span class="hljs-string">"USER"</span>);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªSecurityConfigç±»ï¼Œå¹¶é€šè¿‡@EnableWebSecurityæ³¨è§£å¯ç”¨äº†Spring Securityã€‚åœ¨configureæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†è®¿é—®è·¯å¾„å’Œæ‰€éœ€çš„è§’è‰²ã€‚åœ¨configureGlobalæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªç”¨æˆ·å’Œä»–ä»¬çš„è§’è‰²ã€‚<br/>
3. ä½¿ç”¨Spring Securityä¿æŠ¤REST API<br/>
åœ¨Spring Bootåº”ç”¨ç¨‹åºçš„æ§åˆ¶å™¨ç±»ä¸­æ·»åŠ ä»¥ä¸‹æ³¨è§£æ¥ä¿æŠ¤REST APIï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api"</span>)
public class ApiController {
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/hello"</span>)
    <span class="hljs-variable">@PreAuthorize</span>(<span class="hljs-string">"hasRole('USER')"</span>)
    public String <span class="hljs-built_in">hello</span>() {
        <span class="hljs-selector-tag">return</span> "<span class="hljs-selector-tag">Hello</span>, <span class="hljs-selector-tag">user</span>!";
    }
    @<span class="hljs-selector-tag">GetMapping</span>(<span class="hljs-string">"/admin"</span>)
    @<span class="hljs-selector-tag">PreAuthorize</span>(<span class="hljs-string">"hasRole('ADMIN')"</span>)
    <span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">admin</span>() {
        <span class="hljs-selector-tag">return</span> "<span class="hljs-selector-tag">Hello</span>, <span class="hljs-selector-tag">admin</span>!";
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªApiControllerç±»ï¼Œå¹¶åœ¨æ–¹æ³•ä¸Šæ·»åŠ äº†@PreAuthorizeæ³¨è§£æ¥é™åˆ¶è®¿é—®ã€‚åœ¨helloæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é™åˆ¶åªæœ‰æ‹¥æœ‰USERè§’è‰²çš„ç”¨æˆ·æ‰èƒ½è®¿é—®ã€‚åœ¨adminæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é™åˆ¶åªæœ‰æ‹¥æœ‰ADMINè§’è‰²çš„ç”¨æˆ·æ‰èƒ½è®¿é—®ã€‚<br/>
æ€»çš„æ¥è¯´ï¼ŒSpring Bootä¸­å®ç°å®‰å…¨æ€§é€šå¸¸æ˜¯é€šè¿‡Spring Securityæ¡†æ¶æ¥å®ç°çš„ã€‚ä½¿ç”¨Spring Securityï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°èº«ä»½éªŒè¯ã€æˆæƒç­‰å®‰å…¨æ€§åŠŸèƒ½ã€‚</p>
<h5 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>9. å¦‚ä½•åœ¨Spring Bootä¸­ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</h5>
<p>åœ¨Spring Bootä¸­ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—é€šå¸¸æ˜¯é€šè¿‡Spring Bootçš„é›†æˆæ¥å®ç°çš„ã€‚Spring Bootæä¾›äº†å¯¹å¤šç§æ¶ˆæ¯é˜Ÿåˆ—çš„æ”¯æŒï¼ŒåŒ…æ‹¬RabbitMQã€Kafkaå’ŒActiveMQç­‰ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨Spring Bootä¸­ä½¿ç”¨RabbitMQæ¶ˆæ¯é˜Ÿåˆ—çš„ç¤ºä¾‹ï¼š</p>
<ol>
<li>æ·»åŠ Spring Boot RabbitMQä¾èµ–<br/>
åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
<li>4</li>
</ul>
<ol>
<li>é…ç½®RabbitMQè¿æ¥<br/>
åœ¨application.propertiesæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š<br/>
properties</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.rabbitmq.host</span>=localhost
<span class="hljs-attr">spring.rabbitmq.port</span>=<span class="hljs-number">5672</span>
<span class="hljs-attr">spring.rabbitmq.username</span>=guest
<span class="hljs-attr">spring.rabbitmq.password</span>=guest
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acd2b3226ab24f67ab90fc0e9834bd1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648018&amp;x-signature=p3Ng5S3NnQCV1zccGuIcpXlRito%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
</blockquote>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†RabbitMQæœåŠ¡å™¨çš„ä¸»æœºåã€ç«¯å£å·ã€ç”¨æˆ·åå’Œå¯†ç ã€‚<br/>
3. å‘é€æ¶ˆæ¯åˆ°RabbitMQé˜Ÿåˆ—<br/>
åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨RabbitTemplateç±»æ¥å‘é€æ¶ˆæ¯åˆ°RabbitMQé˜Ÿåˆ—ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api"</span>)
public class ApiController {
    <span class="hljs-variable">@Autowired</span>
    private RabbitTemplate rabbitTemplate;
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/message"</span>)
    public void <span class="hljs-built_in">sendMessage</span>(<span class="hljs-variable">@RequestBody</span> String message) {
        <span class="hljs-selector-tag">rabbitTemplate</span><span class="hljs-selector-class">.convertAndSend</span>(<span class="hljs-string">"myExchange"</span>, <span class="hljs-string">"myRoutingKey"</span>, message);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªApiControllerç±»ï¼Œå¹¶åœ¨æ–¹æ³•ä¸Šæ·»åŠ äº†@PostMappingæ³¨è§£ã€‚åœ¨sendMessageæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨RabbitTemplateç±»å°†æ¶ˆæ¯å‘é€åˆ°åä¸ºâ€œmyExchangeâ€çš„äº¤æ¢æœºï¼Œå¹¶ä½¿ç”¨åä¸ºâ€œmyRoutingKeyâ€çš„è·¯ç”±é”®å°†æ¶ˆæ¯è·¯ç”±åˆ°é˜Ÿåˆ—ã€‚<br/>
4. æ¥æ”¶RabbitMQé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯<br/>
åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@RabbitListeneræ³¨è§£æ¥æ¥æ”¶RabbitMQé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageListener</span> {
    <span class="hljs-meta">@RabbitListener</span>(queues = <span class="hljs-string">"myQueue"</span>)
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">receiveMessage</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"Received message: "</span> + message);
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªMessageListenerç±»ï¼Œå¹¶ä½¿ç”¨@RabbitListeneræ³¨è§£æ¥æŒ‡å®šè¦ç›‘å¬çš„é˜Ÿåˆ—ã€‚åœ¨receiveMessageæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬æ‰“å°å‡ºæ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚<br/>
æ€»çš„æ¥è¯´ï¼Œåœ¨Spring Bootä¸­ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—é€šå¸¸æ˜¯é€šè¿‡Spring Bootçš„é›†æˆæ¥å®ç°çš„ã€‚ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°å¼‚æ­¥é€šä¿¡ã€è§£è€¦å’Œè´Ÿè½½å‡è¡¡ç­‰åŠŸèƒ½ã€‚</p>
<ol start="4">
<li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</li>
</ol>
<h5 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>10. Spring Bootä¸­çš„å¾®æœåŠ¡æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°å¾®æœåŠ¡æ¶æ„ï¼Ÿ</h5>
<p>Spring Bootä¸­çš„å¾®æœåŠ¡æ˜¯æŒ‡å°†ä¸€ä¸ªå¤§å‹åº”ç”¨ç¨‹åºæ‹†åˆ†ä¸ºå¤šä¸ªå°å‹æœåŠ¡çš„æ¶æ„æ¨¡å¼ã€‚æ¯ä¸ªæœåŠ¡éƒ½è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶é€šè¿‡è½»é‡çº§çš„åè®®ï¼ˆä¾‹å¦‚HTTPï¼‰è¿›è¡Œé€šä¿¡ã€‚æ¯ä¸ªæœåŠ¡éƒ½å¯ä»¥ç‹¬ç«‹åœ°è¿›è¡Œéƒ¨ç½²ã€æ‰©å±•å’Œç»´æŠ¤ï¼Œä»è€Œæé«˜äº†åº”ç”¨ç¨‹åºçš„å¯ä¼¸ç¼©æ€§å’Œå¯é æ€§ã€‚<br/>
ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å¾®æœåŠ¡æ¶æ„ç¤ºä¾‹ï¼š</p>
<ul>
<li>æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼šç”¨äºæ³¨å†Œå’Œå‘ç°æœåŠ¡çš„ä½ç½®ã€‚</li>
<li>ç½‘å…³æœåŠ¡ï¼šç”¨äºè·¯ç”±è¯·æ±‚åˆ°æ­£ç¡®çš„æœåŠ¡ã€‚</li>
<li>ä¸šåŠ¡æœåŠ¡ï¼šå®ç°åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚<br/>
åœ¨Spring Bootä¸­å®ç°å¾®æœåŠ¡æ¶æ„é€šå¸¸éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</li>
</ul>
<ol>
<li>åˆ›å»ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼šä½¿ç”¨Eurekaæˆ–Consulç­‰æœåŠ¡æ³¨å†Œä¸­å¿ƒæ¥æ³¨å†Œå’Œå‘ç°æœåŠ¡ã€‚</li>
<li>åˆ›å»ºç½‘å…³æœåŠ¡ï¼šä½¿ç”¨Zuulæˆ–Spring Cloud Gatewayç­‰ç½‘å…³æœåŠ¡æ¥è·¯ç”±è¯·æ±‚åˆ°æ­£ç¡®çš„æœåŠ¡ã€‚</li>
<li>åˆ›å»ºä¸šåŠ¡æœåŠ¡ï¼šå°†åº”ç”¨ç¨‹åºæ‹†åˆ†ä¸ºå¤šä¸ªå°å‹æœåŠ¡ï¼Œå¹¶ä½¿ç”¨Spring Bootå’ŒSpring Cloudæ¥å®ç°æ¯ä¸ªæœåŠ¡ã€‚<br/>
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„å¾®æœåŠ¡æ¶æ„ç¤ºä¾‹ï¼š</li>
<li>åˆ›å»ºæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼šä½¿ç”¨Eurekaæ¥åˆ›å»ºæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ol>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @EnableEurekaServeræ³¨è§£æ¥å¯ç”¨EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚<br/>
2. åˆ›å»ºç½‘å…³æœåŠ¡ï¼šä½¿ç”¨Zuulæ¥åˆ›å»ºç½‘å…³æœåŠ¡ã€‚åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-zuul<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @EnableZuulProxyæ³¨è§£æ¥å¯ç”¨Zuulç½‘å…³æœåŠ¡ã€‚<br/>
3. åˆ›å»ºä¸šåŠ¡æœåŠ¡ï¼šå°†åº”ç”¨ç¨‹åºæ‹†åˆ†ä¸ºå¤šä¸ªå°å‹æœåŠ¡ï¼Œå¹¶ä½¿ç”¨Spring Bootå’ŒSpring Cloudæ¥å®ç°æ¯ä¸ªæœåŠ¡ã€‚<br/>
ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä¸šåŠ¡æœåŠ¡ç¤ºä¾‹ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªåä¸ºâ€œuser-serviceâ€çš„Spring Bootåº”ç”¨ç¨‹åºã€‚</li>
<li>åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š<br/>
xml</li>
</ul>

<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-netflix-eureka-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<ul>
<li>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @EnableDiscoveryClientæ³¨è§£æ¥å¯ç”¨æœåŠ¡å‘ç°ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªUserControllerç±»ï¼Œå¹¶åœ¨æ–¹æ³•ä¸Šæ·»åŠ @GetMappingæ³¨è§£ã€‚åœ¨getUseræ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä»æ•°æ®åº“ä¸­æ£€ç´¢ç”¨æˆ·æ•°æ®å¹¶è¿”å›å®ƒã€‚</li>
</ul>

<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api"</span>)
public class UserController {
    <span class="hljs-variable">@GetMapping</span>(<span class="hljs-string">"/user/{id}"</span>)
    public User <span class="hljs-built_in">getUser</span>(<span class="hljs-variable">@PathVariable</span> Long id) {
        <span class="hljs-comment">// retrieve user data from database</span>
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">user</span>;
    }
}
ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç 
</code></pre>
<p>ä¸€é”®è·å–å®Œæ•´é¡¹ç›®ä»£ç java</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºâ€œuser-serviceâ€çš„ä¸šåŠ¡æœåŠ¡ï¼Œå¹¶ä½¿ç”¨Spring Bootå’ŒSpring Cloudæ¥å®ç°å®ƒã€‚æˆ‘ä»¬è¿˜ä½¿ç”¨äº†Eurekaæ¥æ³¨å†Œå’Œå‘ç°æœåŠ¡ï¼Œå¹¶ä½¿ç”¨Zuulæ¥è·¯ç”±è¯·æ±‚åˆ°æ­£ç¡®çš„æœåŠ¡ã€‚<br/>
æ€»çš„æ¥è¯´ï¼Œåœ¨Spring Bootä¸­å®ç°å¾®æœåŠ¡æ¶æ„é€šå¸¸éœ€è¦ä½¿ç”¨Spring Cloudæä¾›çš„ä¸€ç³»åˆ—ç»„ä»¶æ¥å®ç°ï¼ŒåŒ…æ‹¬æœåŠ¡æ³¨å†Œä¸­å¿ƒã€ç½‘å…³æœåŠ¡å’Œä¸šåŠ¡æœåŠ¡ã€‚ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°åº”ç”¨ç¨‹åºçš„å¯ä¼¸ç¼©æ€§ã€å¯é æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h6 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>æ€»ç»“ï¼š</h6>
<p>Spring Bootæ˜¯ç°ä»£åŒ–çš„Javaåº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œå…·æœ‰é«˜åº¦çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚æŒæ¡è¿™äº›Spring Booté«˜çº§é¢è¯•é¢˜å¯ä»¥å¸®åŠ©æ‚¨æ›´å¥½åœ°äº†è§£Spring Bootçš„æ ¸å¿ƒæ¦‚å¿µå’Œé«˜çº§ä¸»é¢˜ï¼Œæé«˜è‡ªå·±çš„æŠ€èƒ½æ°´å¹³ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å¸®åŠ©æ‚¨è¯„ä¼°å€™é€‰äººçš„æŠ€èƒ½å’Œç»éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªJavaç¨‹åºå‘˜çš„é˜¿é‡Œé¢è¯•å¿ƒå¾—ï¼Œjavaé¢è¯•é—®é¡¹ç›®éƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7584991956125253667</link>    <guid>https://juejin.cn/post/7584991956125253667</guid>    <pubDate>2025-12-18T07:14:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584991956125253667" data-draft-id="7584780417103773736" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªJavaç¨‹åºå‘˜çš„é˜¿é‡Œé¢è¯•å¿ƒå¾—ï¼Œjavaé¢è¯•é—®é¡¹ç›®éƒ¨ç½²"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-18T07:14:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªJavaç¨‹åºå‘˜çš„é˜¿é‡Œé¢è¯•å¿ƒå¾—ï¼Œjavaé¢è¯•é—®é¡¹ç›®éƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:14:32.000Z" title="Thu Dec 18 2025 07:14:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ä¸€ä¸ªï¼šAlibaba[æœç´¢æ¨è]</h2>
<blockquote>
<p>ä¸€é¢ï¼šç®—æ³•é¢˜:é•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œæ”¾äº†n+1ä¸ªå¤§å°åœ¨[1,n]çš„æ•°ï¼Œå¿…ç„¶è‡³å°‘æœ‰ä¸€ä¸ªé‡å¤çš„æ•°ï¼Œæ‰¾å‡ºæ¥</p>
<p>äºŒé¢ï¼šæ¦‚ç‡é¢˜ï¼šæ±‚ä¸€æ ¹ç»³å­è¢«åˆ‡ä¸¤åˆ€èƒ½ç»„æˆä¸€ä¸ªä¸‰è§’å½¢çš„æ¦‚ç‡ã€‚</p>
<p>ä¸‰é¢ä¸»ç®¡é¢ï¼šFMæ¨å¯¼ï¼ŒdeepfmåŸç†ï¼Œgraph embeddingï¼Œé—®äº†ä¹‹å‰çš„ä¸€äº›é¡¹ç›®ã€‚</p>
<p>å››é¢äº¤å‰é¢ï¼šæ¨¡å‹ä¸Šçº¿æ—¶åº”è¯¥æ³¨æ„çš„äº‹ï¼Œå¦‚æœè¯·æ±‚è¿‡é«˜æ¨¡å‹æœåŠ¡æŒ‚äº†æ€ä¹ˆåŠï¼Œtensorflowå’Œtorchçš„åŒºåˆ«ï¼Œå¦‚ä½•é™ä½æ¨¡å‹å¤æ‚åº¦ã€‚</p>
</blockquote>
<h2 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬äºŒä¸ªï¼šç™¾åº¦</h2>
<blockquote>
<p><strong>åŸç”Ÿå•†ä¸šæ¨å¹¿éƒ¨</strong></p>
<p>ä¸€é¢ï¼šç®—æ³•é¢˜ï¼šå¿«æ’éé€’å½’ï¼Œæ—‹è½¬æœ‰åºæ•°ç»„æ‰¾æŸä¸ªå€¼</p>
<p>äºŒé¢ï¼šç®—æ³•é¢˜ï¼šä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œä¸Šæœ‰0å’Œ1ï¼ŒæŠŠæ‰€æœ‰ç›¸é‚»çš„1ç»™è¿èµ·æ¥ï¼Œæ±‚æœ€ç»ˆæœ‰å‡ å—è¿èµ·æ¥çš„1ã€‚ L1å’ŒL2æ­£åˆ™åŒºåˆ«ï¼ŒsoftmaxæŸå¤±å‡½æ•°</p>
<p><strong>æ¨èæŠ€æœ¯å¹³å°éƒ¨</strong></p>
<p>ä¸€é¢ï¼šç®—æ³•é¢˜ï¼šbitmap</p>
<p>äºŒé¢ï¼šç®—æ³•é¢˜ï¼šé“¾è¡¨å»é‡ï¼Œæ‰©å±•ï¼šåˆ é™¤é“¾è¡¨ä¸­çš„æ‰€æœ‰é‡å¤å€¼</p>
</blockquote>
<h2 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬ä¸‰ä¸ªï¼šGoogle</h2>
<blockquote>
<p>å¿ƒé…¸å‘ï¼Œä¹‹å‰ä¸€ç›´æƒ³å»æŠ•å²—è°·æ­Œï¼Œç»“æœå´å€’åœ¨äº†è¿™ä¹ˆä¸€é“å°å°çš„ç®—æ³•é¢˜ä¸Šâ€¦</p>
<p>ç®—æ³•é¢˜ï¼šè®¾è®¡ä¸€ä¸ªå¾ªç¯æœ‰åºé“¾è¡¨ï¼Œå®ç°å¢åˆ æ”¹æŸ¥å››ä¸ªå‡½æ•°ã€‚</p>
</blockquote>
<h2 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬å››ä¸ªï¼šå­—èŠ‚è·³åŠ¨</h2>
<blockquote>
<p>å­—èŠ‚æœ€çˆ±ç®—æ³•â€¦</p>
<p>ç®—æ³•é¢˜ï¼šè›‡å½¢æ‰“å°äºŒå‰æ ‘ ç®—æ³•é¢˜ï¼šç»™å‡º[[1, 2], [3, 5], [8, 8], [15, 16], [32, 38]]ï¼Œæ±‚é—´éš”</p>
<p>ç®—æ³•é¢˜ï¼šç»™å‡ºä¸¤ä¸ªå‡åºæ•°ç»„Aã€Bå’Œé•¿åº¦mã€nï¼Œæ±‚ç¬¬kä¸ªå¤§çš„æ•°</p>
<p>ç®—æ³•é¢˜ï¼šç»™å‡ºæ•°ç»„Aï¼Œé•¿åº¦ä¸ºnï¼Œæ•°ç»„ä¸­å…ƒç´ çš„å€¼ä½äº[0, n - 1]ä¹‹é—´ï¼Œæ±‚æ˜¯å¦æœ‰é‡å¤å…ƒç´ </p>
<p>ç®—æ³•é¢˜ï¼šäºŒå‰æ ‘çš„å·¦è§†å›¾ ç®—æ³•é¢˜ï¼šé¢å€¼[1,3,4]çš„ç¡¬å¸ï¼Œè¾“å…¥nï¼Œè¾“å‡ºæœ€å°‘ç»„æˆnçš„ç¡¬å¸ä¸ªæ•°ä»¥åŠç»„æˆçš„ç¡¬å¸</p>
<p>ç®—æ³•é¢˜ï¼šç»™å®šæ­£æ•´æ•°nï¼Œé—®1-nç»„æˆçš„äºŒå‰æœç´¢æ ‘æœ‰å¤šå°‘</p>
</blockquote>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/485c73e5f50a446599f6580f3c93cc90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=M%2BZsA29smuGNla74p%2FirtAZeceM%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h2 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬äº”ä¸ªï¼šTencent</h2>
<blockquote>
<p>ç®—æ³•é¢˜ï¼šåˆå¹¶æœ‰åºé“¾è¡¨</p>
<p>ç®—æ³•é¢˜ï¼šæœ‰åºæ•´æ•°æ•°ç»„ï¼Œç»™å®šä¸€ä¸ªæ•°ï¼Œä»æ•°ç»„ä¸­æ‰¾å‡º2ä¸ªæ•°ç›¸åŠ ç­‰äºå®ƒã€‚è¦æ±‚O(n)æ—¶é—´å¤æ‚åº¦</p>
<p>ç®—æ³•é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå‡è®¾ç©ºè¶³å¤Ÿï¼Œå°†å…¶ä¸­æ‰€æœ‰ç©ºæ ¼æ›¿æ¢ä¸º"%20"ï¼Œè¦æ±‚ä¸å¼€è¾Ÿé¢å¤–æ–°ç©ºé—´</p>
<p>ç®—æ³•é¢˜ï¼šè¯´æ€è·¯ï¼Œ100å°æœºå™¨ï¼Œæ¯å°æœºå™¨ä¸Š10äº¿ä¸ªæ•°ï¼Œæ±‚é‡Œé¢æœ€å¤§çš„100ä¸ªæ•°</p>
<p>ç®—æ³•é¢˜ï¼šåˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦å­˜åœ¨ä¸€ä¸ªè·¯å¾„å’Œä¸ºæŒ‡å®šå€¼çš„è·¯å¾„ï¼ˆä¸ç”¨ä¸´æ—¶å˜é‡ï¼‰ ç®—æ³•é¢˜ï¼šå¤§æ•°ç›¸ä¹˜ï¼ˆç›´æ¥æ•²ä»£ç ï¼Œååˆ†é’Ÿåå›æ¥çœ‹ç»“æœï¼‰</p>
</blockquote>
<h2 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬å…­ä¸ªï¼šç½‘æ˜“</h2>
<blockquote>
<p>ç®—æ³•é¢˜ï¼šç»™å®š0~9çš„è‹±æ–‡OneTwoThreeâ€¦è¿™ç§çš„å­—ç¬¦ä¸²ï¼Œå°†å…¶å®Œå…¨ä¹±åºï¼Œæ€ä¹ˆè¿˜åŸå…¶ä¸­çš„å„ä¸ªæ•°ï¼Ÿ</p>
<p>ç®—æ³•é¢˜ï¼šç»™å®šnä¸ªæ­£æ•´æ•°ï¼Œæ‰¾åˆ°aiå’Œajï¼Œä½¿å¾—ï¼ˆi,0ï¼‰(i,ai)ï¼ˆj,0ï¼‰æ„æˆçš„å½¢çŠ¶æœ€å¤§</p>
<p>ç®—æ³•é¢˜ï¼šæœ€å¤§å­åºå’Œ leetcode 53</p>
<p>ç®—æ³•é¢˜ï¼šå­—ç¬¦ä¸²æ’åº(åŒºåˆ†å¤§å°å†™)</p>
</blockquote>
<h2 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬ä¸ƒä¸ªï¼š360æœç´¢</h2>
<blockquote>
<p>ä¸€é¢ï¼šç®—æ³•é¢˜ï¼šåœ¨å¤§é‡æ–‡æœ¬ä¸­åŒ¹é…è¯è¡¨</p>
<p>äºŒé¢ï¼šç®—æ³•é¢˜ï¼šå­—ç¬¦ä¸²ç¼–è¾‘è·ç¦»ï¼Œæ±‚ç¬¬nä¸ªä¸‘æ•°ï¼Œæœ€é•¿å…¬å…±å­ä¸²</p>
<p>ä¸‰é¢ï¼šç®—æ³•é¢˜ï¼šè®¾è®¡ä¸€ä¸ªhashmap ç®—æ³•</p>
<p>ç²¾è‹±åŠ é¢ä¸€é¢ï¼šç®—æ³•é¢˜ï¼šé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œæ”¾äº†n+1ä¸ªå¤§å°åœ¨[1,n]çš„æ•°ï¼Œå¿…ç„¶è‡³å°‘æœ‰ä¸€ä¸ªé‡å¤çš„æ•°ï¼Œæ‰¾å‡ºæ¥</p>
</blockquote>
<h2 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬å…«ä¸ªï¼šæ‹¼å¤•å¤•</h2>
<blockquote>
<p>ä¸€é¢ï¼Œç®—æ³•é¢˜ï¼šé“¾è¡¨å¿«æ’</p>
<p>äºŒé¢ï¼Œæ™ºåŠ›é¢˜ï¼š100ä¸ªçƒï¼Œç”²ä¹™ä¸¤ä¸ªäººä¾æ¬¡æ‹¿çƒï¼Œæ¯æ¬¡åªèƒ½æ‹¿1-5ä¸ªï¼Œç”²å…ˆæ‹¿ï¼Œæ±‚ç”²å¿…èƒœçš„æ–¹æ¡ˆ</p>
</blockquote>
<h2 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬ä¹ä¸ªï¼šç¾å›¢åŒ—æ–—</h2>
<blockquote>
<p>ä¸€é¢é—®äº†å®ä¹ é¡¹ç›®ï¼Œ</p>
<p>ç®—æ³•é¢˜ï¼šæ—‹è½¬æœ‰åºæ•°ç»„æ‰¾æŸä¸ªå€¼ äºŒé¢ä¹Ÿåé‡é¡¹ç›®ï¼Œ</p>
<p>ç®—æ³•é¢˜ï¼šä½¿ç”¨O(N)å¤æ‚åº¦å®ŒæˆGBDTåˆ†è£‚ ä¸‰é¢è¿˜æ˜¯é¡¹ç›®ï¼Œ</p>
<p>ç®—æ³•é¢˜ï¼šæ‰¾å‡ºæ— åºæ•°ç»„ä¸­ç›¸éš”è·ç¦»æœ€é•¿çš„é€†åºå¯¹</p>
</blockquote>
<h2 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬åä¸ªï¼šå°ç±³æœç´¢</h2>
<blockquote>
<p>ä¸€é¢é—®äº†é¡¹ç›®ï¼Œ ç®—æ³•é¢˜ï¼šä¸€ä¸ªæ•°ç»„é‡Œåªæœ‰0å’Œ1ï¼ŒæŠŠ0æ¢åˆ°1å‰é¢ï¼Œä¸èƒ½ä½¿ç”¨ç»Ÿè®¡æ¬¡æ•°çš„æ–¹æ³•ã€‚ æ‰©å±•ï¼šå¦‚æœæœ‰0ï¼Œ1ï¼Œ2ä¸‰ä¸ªæ•°å’‹åŠï¼Ÿ</p>
<p>äºŒé¢é¡¹ç›®ï¼Œç®—æ³•é¢˜ï¼šæ— å‘å›¾çš„è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•å®ç°ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff1c44d066eb4e7eb82eb223760d3eb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=LuJhQXMH4quPiL6%2BHl%2BnkHKF7MU%3D" alt="image" loading="lazy"/></p>
<h2 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç®—æ³•å¤§å…¨ï¼šç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—ï¼ˆå·¦ç¨‹äº‘ï¼‰+é˜¿é‡Œäº‘ï¼š70+åˆ·é¢˜+è§£æç¬”è®°</h2>
<blockquote>
<p>ç›¸å…³çš„æ‰€æœ‰ç¬”è®°ç­‰éƒ½å·²æ”¶é›†æ•´ç†å¥½ï¼Œç®—æ³•å¤§å…¨ï¼šæ•°æ®ç»“æ„ä¸ç®—æ³•+é˜¿é‡Œäº‘70+ç®—æ³•é¢˜30ç§å¤§å‚ç¬”è¯•é«˜é¢‘çŸ¥è¯†ç‚¹+å·¦ç¨‹äº‘-ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—+ç®—æ³•åˆ·é¢˜LeetCode+ç®—æ³•è§£æ-ç¬¬4ç‰ˆç­‰</p>
</blockquote>
<h3 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬ä¸€ä¸ªï¼š&lt;ç®—æ³•-ç¬¬4ç‰ˆ&gt;</h3>
<blockquote>
<p>ä½œä¸ºç®—æ³•é¢†åŸŸç»å…¸çš„å‚è€ƒä¹¦ï¼Œå…¨é¢ä»‹ç»äº†å…³äºç®—æ³•å’Œæ•°æ®ç»“æ„çš„å¿…å¤‡çŸ¥è¯†ï¼Œå¹¶ç‰¹åˆ«é’ˆå¯¹æ’åºã€æœç´¢ã€å›¾å¤„ç†å’Œå­—ç¬¦ä¸²å¤„ç†è¿›è¡Œäº†è®ºè¿°ã€‚ç¬¬ 4 ç‰ˆå…·ä½“ç»™å‡ºäº†æ¯ä½ç¨‹åºå‘˜åº”çŸ¥åº”ä¼šçš„ 50 ä¸ªç®—æ³•ï¼Œæä¾›äº†å®é™…ä»£ç ï¼Œè€Œä¸”è¿™äº› Java ä»£ç å®ç°é‡‡ç”¨äº†æ¨¡å—åŒ–çš„ç¼–ç¨‹é£æ ¼ï¼Œè¯»è€…å¯ä»¥æ–¹ä¾¿åœ°åŠ ä»¥æ”¹é€ </p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3db7b4d10f843bca7ae90ff4a67f0f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=FUz8sQTuxzuHWQV4gHno4WXaLHc%3D" alt="image" loading="lazy"/><br/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6de9b77c07d04fbf9876b86c9dfc2683~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=x1Ay%2BZ%2BG7WQ4fSW5h9nn9M50kXU%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef16ab5878164382afa56b6420bb0511~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=PwqDtQQj2plpJLUVtGjwLLQjcfs%3D" alt="image" loading="lazy"/></p>
<h3 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ç¬¬äºŒä¸ªï¼š&lt;ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£&gt;</h3>
<blockquote>
<p>å·¦ç¨‹äº‘ï¼ˆå·¦ç¥ï¼‰çš„&lt;ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£&gt;åŒ…å«äº†è¿‘200é“çœŸå®å‡ºç°è¿‡çš„ç»å…¸ä»£ç é¢è¯•é¢˜ï¼ˆä¸”æ¯ä¸ªéƒ½æœ‰æ ‡æ˜éš¾åº¦ç­‰çº§å°æ˜Ÿæ˜Ÿï¼‰ï¼Œåˆ†ä¸ºä»¥ä¸‹ä¹ä¸ªéƒ¨åˆ†ï¼š</p>
<p>ä¸€ã€æ ˆå’Œé˜Ÿåˆ—éƒ¨åˆ†ï¼ˆ10ï¼‰</p>
<p>äºŒã€é“¾è¡¨é—®é¢˜ï¼ˆ20ï¼‰</p>
<p>ä¸‰ã€äºŒå‰æ ‘é—®é¢˜ï¼ˆ24ï¼‰</p>
<p>å››ã€é€’å½’å’ŒåŠ¨æ€è§„åˆ’ï¼ˆ17ï¼‰</p>
<p>äº”ã€å­—ç¬¦ä¸²é—®é¢˜ï¼ˆ23ï¼‰</p>
<p>å…­ã€å¤§æ•°æ®å’Œç©ºé—´é™åˆ¶ï¼ˆ6ï¼‰</p>
<p>ä¸ƒã€ä½è¿ç®—ï¼ˆ6ï¼‰</p>
<p>å…«ã€æ•°ç»„å’ŒçŸ©é˜µé—®é¢˜ï¼ˆ26ï¼‰</p>
<p>ä¹ã€å…¶ä»–é—®é¢˜ï¼ˆ34ï¼‰</p>
</blockquote>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šæ ˆå’Œé˜Ÿåˆ—éƒ¨åˆ†ï¼ˆ10ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>è®¾è®¡ä¸€ä¸ªæœ‰getMinåŠŸèƒ½çš„æ ˆï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>ç”±ä¸¤ä¸ªæ ˆç»„æˆçš„é˜Ÿåˆ—ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>å¦‚ä½•ä»…ç”¨é€’å½’å‡½æ•°å’Œæ ˆæ“ä½œé€†åºä¸€ä¸ªæ ˆï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>çŒ«ç‹—é˜Ÿåˆ—ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>ç”¨ä¸€ä¸ªæ ˆå®ç°å¦ä¸€ä¸ªæ ˆçš„æ’åºï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>ç”¨æ ˆæ¥æ±‚è§£æ±‰è¯ºå¡”é—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>ç”Ÿæˆçª—å£æœ€å¤§å€¼æ•°ç»„ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>æ„é€ æ•°ç»„çš„MaxTreeï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>æ±‚æœ€å¤§å­çŸ©é˜µçš„å¤§å°ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>æœ€å¤§å€¼å‡å»æœ€å°å€¼å°äºæˆ–ç­‰äºnumçš„å­æ•°ç»„æ•°é‡ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šé“¾è¡¨é—®é¢˜ï¼ˆ20ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>æ‰“å°ä¸¤ä¸ªæœ‰åºé“¾è¡¨çš„å…¬å…±éƒ¨åˆ†ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>åœ¨å•é“¾è¡¨å’ŒåŒé“¾è¡¨ä¸­åˆ é™¤å€’æ•°ç¬¬K ä¸ªèŠ‚ç‚¹ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>åˆ é™¤é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹å’Œa/b å¤„çš„èŠ‚ç‚¹ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>åè½¬å•å‘å’ŒåŒå‘é“¾è¡¨ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>åè½¬éƒ¨åˆ†å•å‘é“¾è¡¨ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>ç¯å½¢å•é“¾è¡¨çš„çº¦ç‘Ÿå¤«é—®é¢˜ï¼ˆåŸé—®é¢˜ï¼šå£«â˜…â˜†â˜†â˜†è¿›é˜¶ï¼šæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡ç»“æ„ï¼ˆæ™®é€šè§£æ³•å£«â˜…â˜†â˜†â˜†ï¼‰ï¼ˆè¿›é˜¶è§£æ³•å°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>å°†å•å‘é“¾è¡¨æŒ‰æŸå€¼åˆ’åˆ†æˆå·¦è¾¹å°ã€ä¸­é—´ç›¸ç­‰ã€å³è¾¹å¤§çš„å½¢å¼ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>å¤åˆ¶å«æœ‰éšæœºæŒ‡é’ˆèŠ‚ç‚¹çš„é“¾è¡¨ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>ä¸¤ä¸ªå•é“¾è¡¨ç”Ÿæˆç›¸åŠ é“¾è¡¨ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="11">
<li>ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„ä¸€ç³»åˆ—é—®é¢˜ï¼ˆå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>å°†å•é“¾è¡¨çš„æ¯Kä¸ªèŠ‚ç‚¹ä¹‹é—´é€†åºï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>åˆ é™¤æ— åºå•é“¾è¡¨ä¸­å€¼é‡å¤å‡ºç°çš„èŠ‚ç‚¹ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="14">
<li>åœ¨å•é“¾è¡¨ä¸­åˆ é™¤æŒ‡å®šå€¼çš„èŠ‚ç‚¹ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="15">
<li>å°†æœç´¢äºŒå‰æ ‘è½¬æ¢æˆåŒå‘é“¾è¡¨ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="16">
<li>å•é“¾è¡¨çš„é€‰æ‹©æ’åºï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="17">
<li>ä¸€ç§æ€ªå¼‚çš„èŠ‚ç‚¹åˆ é™¤æ–¹å¼ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="18">
<li>å‘æœ‰åºçš„ç¯å½¢å•é“¾è¡¨ä¸­æ’å…¥æ–°èŠ‚ç‚¹ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="19">
<li>åˆå¹¶ä¸¤ä¸ªæœ‰åºçš„å•é“¾è¡¨ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="20">
<li>æŒ‰ç…§å·¦å³åŠåŒºçš„æ–¹å¼é‡æ–°ç»„åˆå•é“¾è¡¨ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
</ul>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/485c73e5f50a446599f6580f3c93cc90~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=M%2BZsA29smuGNla74p%2FirtAZeceM%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/412f91fae9064e49b1d41bb91a928ea1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=7nyjxqSyVVQxLM5%2FzmeeTzmowFE%3D" alt="image" loading="lazy"/></p>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šäºŒå‰æ ‘é—®é¢˜ï¼ˆ24ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>åˆ†åˆ«ç”¨é€’å½’å’Œéé€’å½’æ–¹å¼å®ç°äºŒå‰æ ‘å…ˆåºã€ä¸­åºå’Œååºéå†ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>æ‰“å°äºŒå‰æ ‘çš„è¾¹ç•ŒèŠ‚ç‚¹ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>å¦‚ä½•è¾ƒä¸ºç›´è§‚åœ°æ‰“å°äºŒå‰æ ‘ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>éå†äºŒå‰æ ‘çš„ç¥çº§æ–¹æ³•ï¼ˆå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ç´¯åŠ å’Œä¸ºæŒ‡å®šå€¼çš„æœ€é•¿è·¯å¾„é•¿åº¦ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>æ‰¾åˆ°äºŒå‰æ ‘ä¸­çš„æœ€å¤§æœç´¢äºŒå‰å­æ ‘ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>æ‰¾åˆ°äºŒå‰æ ‘ä¸­ç¬¦åˆæœç´¢äºŒå‰æ ‘æ¡ä»¶çš„æœ€å¤§æ‹“æ‰‘ç»“æ„ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>äºŒå‰æ ‘çš„æŒ‰å±‚æ‰“å°ä¸ZigZagæ‰“å°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>è°ƒæ•´æœç´¢äºŒå‰æ ‘ä¸­ä¸¤ä¸ªé”™è¯¯çš„èŠ‚ç‚¹ï¼ˆåŸé—®é¢˜ï¼šå°‰â˜…â˜…â˜†â˜†ï¼‰ï¼ˆè¿›é˜¶é—®é¢˜ï¼šå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="11">
<li>åˆ¤æ–­t1 æ ‘æ˜¯å¦åŒ…å«t2 æ ‘å…¨éƒ¨çš„æ‹“æ‰‘ç»“æ„ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>åˆ¤æ–­t1 æ ‘ä¸­æ˜¯å¦æœ‰ä¸t2 æ ‘æ‹“æ‰‘ç»“æ„å®Œå…¨ç›¸åŒçš„å­æ ‘ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>åˆ¤æ–­äºŒå‰æ ‘æ˜¯å¦ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="14">
<li>æ ¹æ®ååºæ•°ç»„é‡å»ºæœç´¢äºŒå‰æ ‘ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="15">
<li>åˆ¤æ–­ä¸€æ£µäºŒå‰æ ‘æ˜¯å¦ä¸ºæœç´¢äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="16">
<li>é€šè¿‡æœ‰åºæ•°ç»„ç”Ÿæˆå¹³è¡¡æœç´¢äºŒå‰æ ‘ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="17">
<li>åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="18">
<li>åœ¨äºŒå‰æ ‘ä¸­æ‰¾åˆ°ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆåŸé—®é¢˜ï¼šå£«â˜…â˜†â˜†â˜†</li>
</ol>
</li>
<li>
<ol start="19">
<li>Tarjanç®—æ³•ä¸å¹¶æŸ¥é›†è§£å†³äºŒå‰æ ‘èŠ‚ç‚¹é—´æœ€è¿‘å…¬å…±ç¥–å…ˆçš„æ‰¹é‡æŸ¥è¯¢é—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="20">
<li>äºŒå‰æ ‘èŠ‚ç‚¹é—´çš„æœ€å¤§è·ç¦»é—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="21">
<li>å…ˆåºã€ä¸­åºå’Œååºæ•°ç»„ä¸¤ä¸¤ç»“åˆé‡æ„äºŒå‰æ ‘ï¼ˆå…ˆåºä¸ä¸­åºç»“åˆå£«â˜…â˜†â˜†â˜†ï¼‰ï¼ˆ</li>
</ol>
</li>
<li>
<ol start="22">
<li>é€šè¿‡å…ˆåºå’Œä¸­åºæ•°ç»„ç”Ÿæˆååºæ•°ç»„ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="23">
<li>ç»Ÿè®¡å’Œç”Ÿæˆæ‰€æœ‰ä¸åŒçš„äºŒå‰æ ‘ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="24">
<li>ç»Ÿè®¡å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ï¼ˆå°‰â˜…â˜…â˜†</li>
</ol>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c32aae5d0a8b46e0bbaedb63b5f4fdba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=J4K09ZNU4FBFov4LQVPkzI1M16w%3D" alt="image" loading="lazy"/></p>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šé€’å½’å’ŒåŠ¨æ€è§„åˆ’ï¼ˆ17ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>æ–æ³¢é‚£å¥‘ç³»åˆ—é—®é¢˜çš„é€’å½’å’ŒåŠ¨æ€è§„åˆ’ï¼ˆå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>çŸ©é˜µçš„æœ€å°è·¯å¾„å’Œï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>æ¢é’±çš„æœ€å°‘è´§å¸æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>æ¢é’±çš„æ–¹æ³•æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>æœ€é•¿é€’å¢å­åºåˆ—ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>æ±‰è¯ºå¡”é—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>æœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>æœ€é•¿å…¬å…±å­ä¸²é—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>æœ€å°ç¼–è¾‘ä»£ä»·ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>å­—ç¬¦ä¸²çš„äº¤é”™ç»„æˆï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="11">
<li>é¾™ä¸åœ°ä¸‹åŸæ¸¸æˆé—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>æ•°å­—å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—æ¯ç»„åˆçš„ç§æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>è¡¨è¾¾å¼å¾—åˆ°æœŸæœ›ç»“æœçš„ç»„æˆç§æ•°ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="14">
<li>æ’æˆä¸€æ¡çº¿çš„çº¸ç‰Œåšå¼ˆé—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="15">
<li>è·³è·ƒæ¸¸æˆï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="16">
<li>æ•°ç»„ä¸­çš„æœ€é•¿è¿ç»­åºåˆ—ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="17">
<li>Nçš‡åé—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ded77986fa7740e1966ef1bccbef7ae5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=h%2FbnEv90SZjisZtirovLssjhv7M%3D" alt="image" loading="lazy"/></p>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šå­—ç¬¦ä¸²é—®é¢˜ï¼ˆ23ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦äº’ä¸ºå˜å½¢è¯ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>å­—ç¬¦ä¸²ä¸­æ•°å­—å­ä¸²çš„æ±‚å’Œï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>å»æ‰å­—ç¬¦ä¸²ä¸­è¿ç»­å‡ºç°k ä¸ª0 çš„å­ä¸²ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦äº’ä¸ºæ—‹è½¬è¯ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>å°†æ•´æ•°å­—ç¬¦ä¸²è½¬æˆæ•´æ•°å€¼ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>æ›¿æ¢å­—ç¬¦ä¸²ä¸­è¿ç»­å‡ºç°çš„æŒ‡å®šå­—ç¬¦ä¸²ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>å­—ç¬¦ä¸²çš„ç»Ÿè®¡å­—ç¬¦ä¸²ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>åˆ¤æ–­å­—ç¬¦æ•°ç»„ä¸­æ˜¯å¦æ‰€æœ‰çš„å­—ç¬¦éƒ½åªå‡ºç°è¿‡ä¸€æ¬¡ï¼ˆæŒ‰è¦æ±‚1 å®ç°çš„æ–¹æ³•å£«â˜…â˜†â˜†â˜†ï¼‰ï¼ˆæŒ‰è¦æ±‚2 å®ç°çš„æ–¹æ³•å°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>åœ¨æœ‰åºä½†å«æœ‰ç©ºçš„æ•°ç»„ä¸­æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>å­—ç¬¦ä¸²çš„è°ƒæ•´ä¸æ›¿æ¢ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="11">
<li>ç¿»è½¬å­—ç¬¦ä¸²ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>æ•°ç»„ä¸­ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å°è·ç¦»ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>æ·»åŠ æœ€å°‘å­—ç¬¦ä½¿å­—ç¬¦ä¸²æ•´ä½“éƒ½æ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="14">
<li>æ‹¬å·å­—ç¬¦ä¸²çš„æœ‰æ•ˆæ€§å’Œæœ€é•¿æœ‰æ•ˆé•¿åº¦ï¼ˆåŸé—®é¢˜å£«â˜…â˜†â˜†â˜†</li>
</ol>
</li>
<li>15.å…¬å¼å­—ç¬¦ä¸²æ±‚å€¼ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
<li>
<ol start="16">
<li>0 å·¦è¾¹å¿…æœ‰1 çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²æ•°é‡ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="17">
<li>æ‹¼æ¥æ‰€æœ‰å­—ç¬¦ä¸²äº§ç”Ÿå­—å…¸é¡ºåºæœ€å°çš„å¤§å†™å­—ç¬¦ä¸²ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="18">
<li>æ‰¾åˆ°å­—ç¬¦ä¸²çš„æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="19">
<li>æ‰¾åˆ°è¢«æŒ‡çš„æ–°ç±»å‹å­—ç¬¦ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="20">
<li>æœ€å°åŒ…å«å­ä¸²çš„é•¿åº¦ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="21">
<li>å›æ–‡æœ€å°‘åˆ†å‰²æ•°ï¼ˆå°‰â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="22">
<li>å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="23">
<li>å­—å…¸æ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰çš„å®ç°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa4379c615f44c4da67d65ce944533ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=z7%2Fohd%2Fl67vRHuXsp%2Fu4HWs%2BJMc%3D" alt="image" loading="lazy"/></p>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šå¤§æ•°æ®å’Œç©ºé—´é™åˆ¶ï¼ˆ6ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>è®¤è¯†å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>åªç”¨2 GB å†…å­˜åœ¨20 äº¿ä¸ªæ•´æ•°ä¸­æ‰¾åˆ°å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>40 äº¿ä¸ªéè´Ÿæ•´æ•°ä¸­æ‰¾åˆ°æ²¡å‡ºç°çš„æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>æ‰¾åˆ°100 äº¿ä¸ªURL ä¸­é‡å¤çš„URL ä»¥åŠæœç´¢è¯æ±‡çš„top K é—®é¢˜ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>40 äº¿ä¸ªéè´Ÿæ•´æ•°ä¸­æ‰¾åˆ°å‡ºç°ä¸¤æ¬¡çš„æ•°å’Œæ‰€æœ‰æ•°çš„ä¸­ä½æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•çš„åŸºæœ¬åŸç†ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šä½è¿ç®—ï¼ˆ6ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>ä¸ç”¨é¢å¤–å˜é‡äº¤æ¢ä¸¤ä¸ªæ•´æ•°çš„å€¼ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>ä¸ç”¨ä»»ä½•æ¯”è¾ƒåˆ¤æ–­æ‰¾å‡ºä¸¤ä¸ªæ•°ä¸­è¾ƒå¤§çš„æ•°ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>åªç”¨ä½è¿ç®—ä¸ç”¨ç®—æœ¯è¿ç®—å®ç°æ•´æ•°çš„åŠ å‡ä¹˜é™¤è¿ç®—ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>æ•´æ•°çš„äºŒè¿›åˆ¶è¡¨è¾¾ä¸­æœ‰å¤šå°‘ä¸ª1 ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>åœ¨å…¶ä»–æ•°éƒ½å‡ºç°å¶æ•°æ¬¡çš„æ•°ç»„ä¸­æ‰¾åˆ°å‡ºç°å¥‡æ•°æ¬¡çš„æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>åœ¨å…¶ä»–æ•°éƒ½å‡ºç°k æ¬¡çš„æ•°ç»„ä¸­æ‰¾åˆ°åªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šæ•°ç»„å’ŒçŸ©é˜µé—®é¢˜ï¼ˆ26ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>è½¬åœˆæ‰“å°çŸ©é˜µï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>å°†æ­£æ–¹å½¢çŸ©é˜µé¡ºæ—¶é’ˆè½¬åŠ¨90 Â°ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>"ä¹‹"å­—å½¢æ‰“å°çŸ©é˜µï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>æ‰¾åˆ°æ— åºæ•°ç»„ä¸­æœ€å°çš„k ä¸ªæ•°ï¼ˆO(Nlogk)çš„æ–¹æ³•å°‰â˜…â˜…â˜†â˜†ï¼‰ï¼ˆO(N)çš„æ–¹æ³•å°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>éœ€è¦æ’åºçš„æœ€çŸ­å­æ•°ç»„é•¿åº¦ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>åœ¨æ•°ç»„ä¸­æ‰¾åˆ°å‡ºç°æ¬¡æ•°å¤§äºN/K çš„æ•°ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>åœ¨è¡Œåˆ—éƒ½æ’å¥½åºçš„çŸ©é˜µä¸­æ‰¾æ•°ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>æœ€é•¿çš„å¯æ•´åˆå­æ•°ç»„çš„é•¿åº¦ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>ä¸é‡å¤æ‰“å°æ’åºæ•°ç»„ä¸­ç›¸åŠ å’Œä¸ºç»™å®šå€¼çš„æ‰€æœ‰äºŒå…ƒç»„å’Œä¸‰å…ƒç»„ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>æœªæ’åºæ­£æ•°æ•°ç»„ä¸­ç´¯åŠ å’Œä¸ºç»™å®šå€¼çš„æœ€é•¿å­æ•°ç»„é•¿åº¦ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="11">
<li>æœªæ’åºæ•°ç»„ä¸­ç´¯åŠ å’Œä¸ºç»™å®šå€¼çš„æœ€é•¿å­æ•°ç»„ç³»åˆ—é—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>æœªæ’åºæ•°ç»„ä¸­ç´¯åŠ å’Œå°äºæˆ–ç­‰äºç»™å®šå€¼çš„æœ€é•¿å­æ•°ç»„é•¿åº¦ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>è®¡ç®—æ•°ç»„çš„å°å’Œï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="14">
<li>è‡ªç„¶æ•°æ•°ç»„çš„æ’åºï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="15">
<li>å¥‡æ•°ä¸‹æ ‡éƒ½æ˜¯å¥‡æ•°æˆ–è€…å¶æ•°ä¸‹æ ‡éƒ½æ˜¯å¶æ•°ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="16">
<li>å­æ•°ç»„çš„æœ€å¤§ç´¯åŠ å’Œé—®é¢˜ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="17">
<li>å­çŸ©é˜µçš„æœ€å¤§ç´¯åŠ å’Œé—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="18">
<li>åœ¨æ•°ç»„ä¸­æ‰¾åˆ°ä¸€ä¸ªå±€éƒ¨æœ€å°çš„ä½ç½®ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="19">
<li>æ•°ç»„ä¸­å­æ•°ç»„çš„æœ€å¤§ç´¯ä¹˜ç§¯ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="20">
<li>æ‰“å°N ä¸ªæ•°ç»„æ•´ä½“æœ€å¤§çš„Top Kï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="21">
<li>è¾¹ç•Œéƒ½æ˜¯1 çš„æœ€å¤§æ­£æ–¹å½¢å¤§å°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="22">
<li>ä¸åŒ…å«æœ¬ä½ç½®å€¼çš„ç´¯ä¹˜æ•°ç»„ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="23">
<li>æ•°ç»„çš„partition è°ƒæ•´ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="24">
<li>æ±‚æœ€çŸ­é€šè·¯å€¼ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="25">
<li>æ•°ç»„ä¸­æœªå‡ºç°çš„æœ€å°æ­£æ•´æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="26">
<li>æ•°ç»„æ’åºä¹‹åç›¸é‚»æ•°çš„æœ€å¤§å·®å€¼ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><strong>ç¨‹åºå‘˜ä»£ç é¢è¯•æŒ‡å—-ITåä¼ç®—æ³•ä¸æ•°æ®ç»“æ„é¢˜ç›®æœ€ä¼˜è§£ï¼šå…¶ä»–é—®é¢˜ï¼ˆ34ï¼‰</strong></p>
<ul>
<li>
<ol>
<li>ä»5 éšæœºåˆ°7 éšæœºåŠå…¶æ‰©å±•ï¼ˆåŸé—®é¢˜å°‰â˜…â˜…â˜†â˜†è¡¥å……é—®é¢˜å°‰â˜…â˜…â˜†â˜†ï¼‰ï¼ˆè¿›é˜¶é—®é¢˜æ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="2">
<li>ä¸€è¡Œä»£ç æ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°ï¼ˆå£«â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="3">
<li>æœ‰å…³é˜¶ä¹˜çš„ä¸¤ä¸ªé—®é¢˜ï¼ˆåŸé—®é¢˜å°‰â˜…â˜…â˜†â˜†è¿›é˜¶é—®é¢˜æ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨çŸ©å½¢å†…éƒ¨ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="5">
<li>åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="6">
<li>æŠ˜çº¸é—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="7">
<li>è“„æ°´æ± ç®—æ³•ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="8">
<li>è®¾è®¡æœ‰setAllåŠŸèƒ½çš„å“ˆå¸Œè¡¨ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="9">
<li>æœ€å¤§çš„leftMaxä¸rightMaxä¹‹å·®çš„ç»å¯¹å€¼ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="10">
<li>è®¾è®¡å¯ä»¥å˜æ›´çš„ç¼“å­˜ç»“æ„ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="11">
<li>è®¾è®¡RandomPoolç»“æ„ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="12">
<li>è°ƒæ•´[0 ,x)åŒºé—´ä¸Šçš„æ•°å‡ºç°çš„æ¦‚ç‡ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="13">
<li>è·¯å¾„æ•°ç»„å˜ä¸ºç»Ÿè®¡æ•°ç»„ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="14">
<li>æ­£æ•°æ•°ç»„çš„æœ€å°ä¸å¯ç»„æˆå’Œï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="15">
<li>ä¸€ç§å­—ç¬¦ä¸²å’Œæ•°å­—çš„å¯¹åº”å…³ç³»ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="16">
<li>1 åˆ°n ä¸­1 å‡ºç°çš„æ¬¡æ•°ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="17">
<li>ä»N ä¸ªæ•°ä¸­ç­‰æ¦‚ç‡æ‰“å°M ä¸ªæ•°ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="18">
<li>åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ï¼ˆå£«â˜…â˜†â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="19">
<li>åœ¨æœ‰åºæ—‹è½¬æ•°ç»„ä¸­æ‰¾åˆ°æœ€å°å€¼ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="20">
<li>åœ¨æœ‰åºæ—‹è½¬æ•°ç»„ä¸­æ‰¾åˆ°ä¸€ä¸ªæ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="21">
<li>æ•°å­—çš„è‹±æ–‡è¡¨è¾¾å’Œä¸­æ–‡è¡¨è¾¾ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="22">
<li>åˆ†ç³–æœé—®é¢˜ï¼ˆæ ¡â˜…â˜…â˜…â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="23">
<li>ä¸€ç§æ¶ˆæ¯æ¥æ”¶å¹¶æ‰“å°çš„ç»“æ„è®¾è®¡ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="24">
<li>è®¾è®¡ä¸€ä¸ªæ²¡æœ‰æ‰©å®¹è´Ÿæ‹…çš„å †ç»“æ„ï¼ˆå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="25">
<li>éšæ—¶æ‰¾åˆ°æ•°æ®æµçš„ä¸­ä½æ•°ï¼ˆå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="26">
<li>åœ¨ä¸¤ä¸ªé•¿åº¦ç›¸ç­‰çš„æ’åºæ•°ç»„ä¸­æ‰¾åˆ°ä¸Šä¸­ä½æ•°ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
<li>
<ol start="27">
<li>åœ¨ä¸¤ä¸ªæ’åºæ•°ç»„ä¸­æ‰¾åˆ°ç¬¬K å°çš„æ•°ï¼ˆå°†â˜…â˜…â˜…â˜…ï¼‰</li>
</ol>
</li>
<li>
<ol start="28">
<li>ä¸¤ä¸ªæœ‰åºæ•°ç»„é—´ç›¸åŠ å’Œçš„TOP K é—®é¢˜ï¼ˆå°‰â˜…â˜…â˜†â˜†ï¼‰</li>
</ol>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5ef6231dc44415c90f9cdd82916092b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766648354&amp;x-signature=rRcqrn5j8KQQvpFVBoi1iRrQzqI%3D" alt="image" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼ä¸šçº§ HTTP å®¢æˆ·ç«¯æ¶æ„æ¼”è¿›ä¸è®¾è®¡]]></title>    <link>https://juejin.cn/post/7584834746061668386</link>    <guid>https://juejin.cn/post/7584834746061668386</guid>    <pubDate>2025-12-18T07:08:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746061668386" data-draft-id="7584780417103560744" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼ä¸šçº§ HTTP å®¢æˆ·ç«¯æ¶æ„æ¼”è¿›ä¸è®¾è®¡"/> <meta itemprop="keywords" content="å‰ç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-18T07:08:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿"/> <meta itemprop="url" content="https://juejin.cn/user/2277843821926871"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼ä¸šçº§ HTTP å®¢æˆ·ç«¯æ¶æ„æ¼”è¿›ä¸è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2277843821926871/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§è±¡çš„é¼»å­é‚£ä¹ˆé•¿
  </span> <!----> <!----> <div class="vip-level" data-v-cd7d0a50="" data-v-292f6e48=""><span class="tooltip" data-v-cd7d0a50=""><div class="byte-tooltip byte-tooltip--dark" style="display:none;">
        VIP.4 èä¼šè´¯é€š
      </div><span class="byte-tooltip__wrapper"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8AQMAAAAAMksxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAA5JREFUKM9jGAWjAAcAAAIcAAE27nY6AAAAAElFTkSuQmCC" alt="VIP.4 èä¼šè´¯é€š" title="VIP.4 èä¼šè´¯é€š" class="lazy" style="aspect-ratio:NaN;" data-v-5244ef91="" data-v-cd7d0a50=""/></span></span></div> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:08:15.000Z" title="Thu Dec 18 2025 07:08:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šæœ¬æ–‡æ¡£æ—¨åœ¨é˜è¿°å°† HTTP ç½‘ç»œå±‚ä»â€œå·¥å…·å‡½æ•°çº§â€å‡çº§ä¸ºâ€œä¼ä¸šåŸºç¡€è®¾æ–½çº§â€çš„æ¶æ„è®¾è®¡æ€è·¯ã€‚é€šè¿‡å¼•å…¥ä¾èµ–å€’ç½®ã€é¢å‘åˆ‡é¢ç¼–ç¨‹åŠé¢†åŸŸé©±åŠ¨è®¾è®¡æ€æƒ³ï¼Œæ„å»ºäº†ä¸€å¥—é«˜å†…èšã€ä½è€¦åˆã€å¯è§‚æµ‹çš„ç½‘ç»œè¯·æ±‚æ¡†æ¶ï¼Œä¸ºä¸šåŠ¡çš„é•¿æœŸè¿­ä»£æä¾›ç¨³å›ºæ”¯æ’‘ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ èƒŒæ™¯ä¸æˆ˜ç•¥åŠ¨å› </h2>
<p>åœ¨åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œå‰ç«¯ç½‘ç»œå±‚ä¸å†ä»…ä»…æ˜¯â€œå‘é€è¯·æ±‚â€çš„å·¥å…·ï¼Œè€Œæ˜¯è¿æ¥ç”¨æˆ·ä¸æœåŠ¡çš„æ ¸å¿ƒæ¢çº½ã€‚åŸæœ‰çš„ Axios ç®€å•å°è£…é¢ä¸´ä»¥ä¸‹æˆ˜ç•¥æ€§æŒ‘æˆ˜ï¼š</p>
<ol>
<li><strong>ç¨³å®šæ€§é£é™©</strong>ï¼šç¼ºä¹ç»Ÿä¸€çš„ç†”æ–­ä¸é‡è¯•æœºåˆ¶ï¼Œå¼±ç½‘ç¯å¢ƒä¸‹ç”¨æˆ·ä½“éªŒå—æŸã€‚</li>
<li><strong>ç»´æŠ¤æˆæœ¬é«˜æ˜‚</strong>ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚ Token åˆ·æ–°ã€æŠ¥é”™æç¤ºï¼‰ä¸ç½‘ç»œåŸºç¡€è®¾æ–½å¼ºè€¦åˆï¼Œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</li>
<li><strong>æ ‡å‡†åŒ–ç¼ºå¤±</strong>ï¼šå„ä¸šåŠ¡çº¿å¯¹é”™è¯¯ç å¤„ç†ä¸ä¸€è‡´ï¼Œå¯¼è‡´çº¿ä¸Šé—®é¢˜æ’æŸ¥å›°éš¾ã€‚</li>
<li><strong>èµ„äº§å¤ç”¨ç‡ä½</strong>ï¼šç´§è€¦åˆäºç‰¹å®š Store/Router å®ç°ï¼Œéš¾ä»¥æ²‰æ·€ä¸ºå…¬å¸çº§é€šç”¨ç»„ä»¶åº“ã€‚</li>
</ol>
<p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬å‘èµ·æœ¬æ¬¡æ¶æ„é‡æ„ï¼Œæ—¨åœ¨æ‰“é€ ç¬¦åˆ<strong>å·¥ä¸šçº§æ ‡å‡†</strong>çš„ç½‘ç»œåŸºç¡€è®¾æ–½ã€‚</p>
<h2 data-id="heading-1">äºŒã€ æ€»ä½“æ¶æ„è®¾è®¡</h2>
<p>æˆ‘ä»¬é‡‡ç”¨ <strong>åˆ†å±‚æ¶æ„ (Layered Architecture)</strong> ä¸ <strong>ä¾èµ–å€’ç½® (DIP)</strong> ç›¸ç»“åˆçš„è®¾è®¡æ¨¡å¼ã€‚</p>
<h3 data-id="heading-2">2.1 æ¶æ„åˆ†å±‚è§†å›¾</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    subgraph "åº”ç”¨å±‚ (Application Layer)"
        A1["ä¸šåŠ¡ Service"] --&gt; A2["Axios Instance"]
        A3["Store/Pinia"] -."æ³¨å…¥ Token".-&gt; A4["Configuration"]
        A5["Router"] -."æ³¨å…¥è·³è½¬é€»è¾‘".-&gt; A4
    end

    subgraph "é€‚é…å±‚ (Adapter Layer)"
        B1["Axios Service Factory"] -- "ç»„è£…" --&gt; A2
        B1 -- "è¯»å–" --&gt; A4
        B1 -- "ç»‘å®š" --&gt; C1
    end

    subgraph "æ ¸å¿ƒåŸºç¡€è®¾æ–½å±‚ (Core Infrastructure Layer)"
        C1["Client Factory"]
        C2["Interceptor Pipeline"]
        C3["Retry Strategy"]
        C4["Error Normalization"]
        C5["Blob Handler"]
    end

    A1 --&gt;|"è°ƒç”¨"| B1
    C1 --&gt;|"ä¾èµ–æŠ½è±¡"| A4
</code></pre>
<h3 data-id="heading-3">2.2 æ ¸å¿ƒè®¾è®¡åŸåˆ™</h3>
<ul>
<li><strong>ä¾èµ–å€’ç½®åŸåˆ™ (DIP)</strong>ï¼šæ ¸å¿ƒå±‚ï¼ˆ<code>utils/http/client.ts</code>ï¼‰ä¸ä¾èµ–å…·ä½“å®ç°ï¼ˆå¦‚ Piniaã€LocalStorageï¼‰ï¼Œè€Œæ˜¯å®šä¹‰æ ‡å‡†æ¥å£ <code>AxiosClientOptions</code>ï¼Œç”±ä¸Šå±‚æ³¨å…¥å®ç°ã€‚è¿™ä½¿å¾—æ ¸å¿ƒå±‚çº¯å‡€ã€å¯ç§»æ¤ã€æ˜“æµ‹è¯•ã€‚</li>
<li><strong>å•ä¸€èŒè´£åŸåˆ™ (SRP)</strong>ï¼šå°†æ‹¦æˆªå™¨æ‹†åˆ†ä¸º <code>RequestInterceptor</code>ã€<code>ResponseSuccessInterceptor</code>ã€<code>ResponseErrorInterceptor</code>ï¼Œæ¯å±‚ç®¡é“åªå¤„ç†å•ä¸€é€»è¾‘ã€‚</li>
<li><strong>å¼€é—­åŸåˆ™ (OCP)</strong>ï¼šé€šè¿‡ <code>Module Augmentation</code> æ‰©å±• Axios é…ç½®ï¼Œæ— éœ€ä¿®æ”¹æºç å³å¯æ”¯æŒâ€œå•ä¸ªè¯·æ±‚ç¦ç”¨å…¨å±€æŠ¥é”™â€ç­‰æ–°ç‰¹æ€§ã€‚</li>
</ul>
<h2 data-id="heading-4">ä¸‰ã€ æ ¸å¿ƒæµç¨‹ä¸æœºåˆ¶è¯¦è§£ï¼ˆé™„æ ¸å¿ƒä»£ç ï¼‰</h2>
<h3 data-id="heading-5">3.1 è¯·æ±‚å¤„ç†ç®¡é“æµè½¬å›¾</h3>
<p>ç½‘ç»œè¯·æ±‚çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œé‡‡ç”¨äº†ç»å…¸çš„ <strong>ç®¡é“-è¿‡æ»¤å™¨ (Pipeline-Filter)</strong> æ¨¡å¼ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant App as ä¸šåŠ¡ä»£ç 
    participant ReqInt as è¯·æ±‚æ‹¦æˆªå™¨
    participant Net as ç½‘ç»œå±‚
    participant ResInt as å“åº”æ‹¦æˆªå™¨
    participant ErrHandler as é”™è¯¯å¤„ç†å™¨
    participant Retry as é‡è¯•ç­–ç•¥

    App-&gt;&gt;ReqInt: å‘èµ·è¯·æ±‚ (Request)
    ReqInt-&gt;&gt;ReqInt: 1. æ³¨å…¥ Token/TraceId/Timezone
    ReqInt-&gt;&gt;Net: å‘é€ HTTP è¯·æ±‚
    
    alt è¯·æ±‚æˆåŠŸ
        Net-&gt;&gt;ResInt: è¿”å›å“åº” (Response)
        ResInt-&gt;&gt;ResInt: 3. Blob æ™ºèƒ½è§£æ (JSONç©¿é€)
        ResInt-&gt;&gt;ResInt: 4. ä¸šåŠ¡çŠ¶æ€ç æ ¡éªŒ (Code=0?)
        alt ä¸šåŠ¡æˆåŠŸ
            ResInt-&gt;&gt;App: è¿”å› Data
        else ä¸šåŠ¡å¤±è´¥ (Code!=0)
            ResInt-&gt;&gt;ErrHandler: æŠ›å‡º BusinessError
            ErrHandler-&gt;&gt;App: ç»Ÿä¸€æŠ¥é”™/é™é»˜å¤±è´¥
        end
    else ç½‘ç»œ/HTTPå¤±è´¥
        Net-&gt;&gt;Retry: è§¦å‘é”™è¯¯ (Error)
        Retry-&gt;&gt;Retry: 5. åˆ¤å®šæ˜¯å¦é‡è¯• (å¹‚ç­‰æ€§/çŠ¶æ€ç )
        alt æ»¡è¶³é‡è¯•æ¡ä»¶
            Retry-&gt;&gt;Net: æŒ‡æ•°é€€é¿é‡è¯• (Backoff)
        else é‡è¯•è€—å°½/ä¸å¯é‡è¯•
            Retry-&gt;&gt;ErrHandler: æŠ›å‡º NetworkError
            ErrHandler-&gt;&gt;App: ç»Ÿä¸€æŠ¥é”™
        end
    end
</code></pre>
<h4 data-id="heading-6">æ ¸å¿ƒå®ç°ï¼šæ‹¦æˆªå™¨ç®¡é“ç»„è£… (<code>src/utils/http/client.ts</code>)</h4>
<p>æˆ‘ä»¬é€šè¿‡å‡½æ•°å¼ç¼–ç¨‹çš„æ–¹å¼ç»„è£…æ‹¦æˆªå™¨ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†æ•°æ®æµå‘ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createAxiosClient</span>(<span class="hljs-params">options: AxiosClientOptions</span>): <span class="hljs-title class_">AxiosInstance</span> {
  <span class="hljs-comment">// 1. åˆ›å»ºå®ä¾‹</span>
  <span class="hljs-keyword">const</span> instance = axios.<span class="hljs-title function_">create</span>({ ... })

  <span class="hljs-comment">// 2. æŒ‚è½½è¯·æ±‚æ‹¦æˆªå™¨ (Tokenæ³¨å…¥ã€å‚æ•°åºåˆ—åŒ–)</span>
  instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createRequestInterceptor</span>(options), ...)

  <span class="hljs-comment">// 3. æŒ‚è½½å“åº”æ‹¦æˆªå™¨ (ç®¡é“å¼å¤„ç†)</span>
  <span class="hljs-keyword">const</span> success = <span class="hljs-title function_">createResponseSuccessInterceptor</span>(options)
  <span class="hljs-keyword">const</span> error = <span class="hljs-title function_">createResponseErrorInterceptor</span>(options, instance)
  
  instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-keyword">async</span> (response) =&gt; {
      <span class="hljs-comment">// æ³¨å…¥å®ä¾‹å¼•ç”¨ï¼Œä¾›åç»­é‡è¯•é€»è¾‘ä½¿ç”¨</span>
      ;(response <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__axiosInstance</span> = instance
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">success</span>(response)
    },
    error,
  )

  <span class="hljs-keyword">return</span> instance
}
</code></pre>
<h3 data-id="heading-7">3.2 æ™ºèƒ½é‡è¯•ç­–ç•¥ (Smart Retry Strategy)</h3>
<p>æˆ‘ä»¬å¼•å…¥äº†åŸºäº <strong>æŒ‡æ•°é€€é¿ (Exponential Backoff)</strong> çš„é‡è¯•ç®—æ³•ï¼Œä»¥è§£å†³ç½‘ç»œæŠ–åŠ¨é—®é¢˜ã€‚</p>
<h4 data-id="heading-8">æ ¸å¿ƒå®ç°ï¼šæŒ‡æ•°é€€é¿ç®—æ³• (<code>src/utils/http/client.ts</code>)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * è®¡ç®—é‡è¯•å»¶è¿Ÿæ—¶é—´
 * ç®—æ³•æ¨¡å‹ï¼šDelay = Base * 2^RetryCount + Jitter(éšæœºæ‰°åŠ¨)
 * <span class="hljs-doctag">@param</span> retryCount å½“å‰é‡è¯•æ¬¡æ•°
 * <span class="hljs-doctag">@param</span> baseDelay åŸºç¡€å»¶è¿Ÿ(ms)
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateRetryDelay</span>(<span class="hljs-params">retryCount: <span class="hljs-built_in">number</span>, baseDelay: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> baseDelay * <span class="hljs-number">2</span> ** retryCount + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">100</span>
}
</code></pre>
<h4 data-id="heading-9">æ ¸å¿ƒå®ç°ï¼šé‡è¯•åˆ¤å®šé€»è¾‘</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">shouldRetry</span>(<span class="hljs-params">
  error: AxiosError,
  config: InternalAxiosRequestConfig,
  retryConfig: ...
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-comment">// 1. æ¬¡æ•°æ£€æŸ¥</span>
  <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">retryCount</span> &gt;= retryConfig.<span class="hljs-property">retries</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>

  <span class="hljs-comment">// 2. çŠ¶æ€ç è¿‡æ»¤ (ä»…é‡è¯• 429, 500-504)</span>
  <span class="hljs-keyword">if</span> (
    <span class="hljs-keyword">typeof</span> error.<span class="hljs-property">response</span>?.<span class="hljs-property">status</span> === <span class="hljs-string">'number'</span>
    &amp;&amp; !retryConfig.<span class="hljs-property">retryStatusCodes</span>.<span class="hljs-title function_">includes</span>(error.<span class="hljs-property">response</span>.<span class="hljs-property">status</span>)
  ) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  }

  <span class="hljs-comment">// 3. å¹‚ç­‰æ€§æ£€æŸ¥ (é»˜è®¤ä»…é‡è¯• GET/HEAD/PUT/DELETE)</span>
  <span class="hljs-keyword">const</span> method = config.<span class="hljs-property">method</span>?.<span class="hljs-title function_">toLowerCase</span>() ?? <span class="hljs-string">''</span>
  <span class="hljs-keyword">const</span> isIdempotent = [<span class="hljs-string">'get'</span>, <span class="hljs-string">'head'</span>, <span class="hljs-string">'put'</span>, <span class="hljs-string">'delete'</span>, ...].<span class="hljs-title function_">includes</span>(method)
  <span class="hljs-keyword">return</span> isIdempotent || retryConfig.<span class="hljs-property">allowNonIdempotent</span> === <span class="hljs-literal">true</span>
}
</code></pre>
<h3 data-id="heading-10">3.3 Blob å¼‚å¸¸ç©¿é€ (Blob Penetration)</h3>
<p>è§£å†³äº†â€œä¸‹è½½æ–‡ä»¶å¤±è´¥æ—¶ï¼Œåç«¯è¿”å› JSON æŠ¥é”™ï¼Œå‰ç«¯å´æ”¶åˆ°ä¸€ä¸ªæ— æ³•è§£æçš„ Blob å¯¹è±¡â€çš„è¡Œä¸šç—›ç‚¹ã€‚</p>
<h4 data-id="heading-11">æ ¸å¿ƒå®ç°ï¼šBlob æ™ºèƒ½è§£æ (<code>src/utils/http/blob-helper.ts</code>)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleBlobResponse</span>(<span class="hljs-params">response: AxiosResponse</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">AxiosResponse</span>&gt; {
  <span class="hljs-comment">// ä»…å¤„ç† Blob/ArrayBuffer ç±»å‹å“åº”</span>
  <span class="hljs-keyword">if</span> (response.<span class="hljs-property">config</span>.<span class="hljs-property">responseType</span> === <span class="hljs-string">'blob'</span> || response.<span class="hljs-property">config</span>.<span class="hljs-property">responseType</span> === <span class="hljs-string">'arraybuffer'</span>) {
    <span class="hljs-comment">// 1. å—…æ¢ Content-Typeï¼Œå¦‚æœæ˜¯ application/jsonï¼Œè¯´æ˜æ˜¯æŠ¥é”™ä¿¡æ¯</span>
    <span class="hljs-keyword">const</span> contentType = (response.<span class="hljs-property">data</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Blob</span> ? response.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> : response.<span class="hljs-property">headers</span>[<span class="hljs-string">'content-type'</span>]) || <span class="hljs-string">''</span>
    
    <span class="hljs-keyword">if</span> (contentType.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">includes</span>(<span class="hljs-string">'application/json'</span>)) {
      <span class="hljs-comment">// 2. å°† Blob è½¬å›æ–‡æœ¬</span>
      <span class="hljs-keyword">let</span> text = <span class="hljs-string">''</span>
      <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Blob</span>) {
        text = <span class="hljs-keyword">await</span> response.<span class="hljs-property">data</span>.<span class="hljs-title function_">text</span>()
      }
      <span class="hljs-comment">// ... ArrayBuffer å¤„ç†é€»è¾‘</span>

      <span class="hljs-comment">// 3. è¿˜åŸä¸º JSON å¯¹è±¡ï¼Œæ›¿æ¢åŸæœ‰çš„ Blob æ•°æ®</span>
      <span class="hljs-comment">// åç»­æ‹¦æˆªå™¨ä¼šè¯†åˆ«åˆ°è¿™ä¸ª JSON å¯¹è±¡ï¼Œä»è€Œè¿›å…¥ä¸šåŠ¡é”™è¯¯å¤„ç†æµç¨‹</span>
      <span class="hljs-keyword">if</span> (text) {
        <span class="hljs-keyword">const</span> jsonData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(text)
        <span class="hljs-keyword">if</span> (jsonData &amp;&amp; <span class="hljs-keyword">typeof</span> jsonData === <span class="hljs-string">'object'</span>) {
          response.<span class="hljs-property">data</span> = jsonData
          <span class="hljs-keyword">return</span> response
        }
      }
    }
  }
  <span class="hljs-keyword">return</span> response
}
</code></pre>
<h3 data-id="heading-12">3.4 ä¾èµ–å€’ç½®ä¸èƒ½åŠ›æ³¨å…¥ (DIP Implementation)</h3>
<p>ä¸ºäº†ä¿è¯æ ¸å¿ƒåº“çš„çº¯å‡€ï¼ˆä¸ä¾èµ– Pinia/Vueï¼‰ï¼Œæˆ‘ä»¬é€šè¿‡é…ç½®å¯¹è±¡æ³¨å…¥å¤–éƒ¨èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-13">æ ¸å¿ƒå®ç°ï¼šèƒ½åŠ›æ³¨å…¥ (<code>src/axios.service.ts</code>)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨åº”ç”¨å±‚ç»„è£… Client</span>
<span class="hljs-keyword">const</span> instance = <span class="hljs-title function_">createAxiosClient</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_API_URL</span>,
  
  <span class="hljs-comment">// ä¾èµ–æ³¨å…¥ï¼šå°† SessionStorage çš„æ“ä½œèƒ½åŠ›æ³¨å…¥</span>
  <span class="hljs-comment">// æ ¸å¿ƒåº“åªç®¡è°ƒç”¨ getAccessToken()ï¼Œä¸å…³å¿ƒ Token å­˜åœ¨å“ªé‡Œ</span>
  <span class="hljs-attr">getAccessToken</span>: <span class="hljs-function">() =&gt;</span> sessionCache.<span class="hljs-title function_">get</span>(<span class="hljs-title class_">AccessTokenKey</span>) <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>,
  
  <span class="hljs-comment">// ä¾èµ–æ³¨å…¥ï¼šToken åˆ·æ–°é€»è¾‘</span>
  <span class="hljs-attr">setAccessToken</span>: <span class="hljs-function"><span class="hljs-params">accessToken</span> =&gt;</span> sessionCache.<span class="hljs-title function_">set</span>(<span class="hljs-title class_">AccessTokenKey</span>, accessToken),
  
  <span class="hljs-comment">// ä¾èµ–æ³¨å…¥ï¼šç™»å½•è¿‡æœŸå›è°ƒ</span>
  <span class="hljs-attr">onLoginExpired</span>: handleLoginExpired,
})
</code></pre>
<h2 data-id="heading-14">å››ã€ ä»·å€¼è¯„ä¼°ä¸æ€è€ƒ</h2>
<h3 data-id="heading-15">4.1 æŠ€æœ¯ä»·å€¼</h3>
<ol>
<li><strong>æµ‹è¯•è¦†ç›–ç‡æå‡ (0% -&gt; 90%)</strong>ï¼š
<ul>
<li>ç”±äºè§£è€¦äº†å…¨å±€çŠ¶æ€ï¼Œæˆ‘ä»¬é¦–æ¬¡å®ç°äº†å¯¹ç½‘ç»œå±‚çš„ 100% å•å…ƒæµ‹è¯•è¦†ç›–ï¼ˆä½¿ç”¨ Vitestï¼‰ã€‚</li>
<li><strong>ä»·å€¼</strong>ï¼šé‡æ„ä¸å†ç•æ‰‹ç•è„šï¼Œæ ¸å¿ƒé€»è¾‘å˜æ›´å¯ç”± CI æµæ°´çº¿è‡ªåŠ¨ä¿éšœã€‚</li>
</ul>
</li>
<li><strong>ç±»å‹ç³»ç»Ÿçš„å®Œå¤‡æ€§</strong>ï¼š
<ul>
<li>æä¾›äº†å®Œæ•´çš„æ³›å‹æ”¯æŒï¼ŒAPI è¿”å›å€¼ç±»å‹å¯è‡ªåŠ¨æ¨å¯¼ã€‚</li>
<li><strong>ä»·å€¼</strong>ï¼šå¤§å¹…å‡å°‘ <code>any</code> å¸¦æ¥çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œæå‡å¼€å‘ä½“éªŒã€‚</li>
</ul>
</li>
<li><strong>å¯ç§»æ¤æ€§ (Portability)</strong>ï¼š
<ul>
<li>æ ¸å¿ƒä»£ç ä¸ä¾èµ– Vue/ElementUIï¼Œå¯ç›´æ¥å¤ç”¨äº React é¡¹ç›®ã€Node.js BFF å±‚æˆ– Electron åº”ç”¨ã€‚</li>
<li><strong>ä»·å€¼</strong>ï¼šä¸ºæ„å»ºå…¬å¸çº§å‰ç«¯åŸºå»ºåº“ (Internal SDK) å¥ å®šåŸºç¡€ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-16">4.2 ä¸šåŠ¡ä»·å€¼</h3>
<ol>
<li><strong>ç”¨æˆ·ä½“éªŒè´¨çš„é£è·ƒ</strong>ï¼š
<ul>
<li><strong>å¼±ç½‘å¯¹æŠ—</strong>ï¼šè‡ªåŠ¨é‡è¯•æœºåˆ¶å¯æŒ½å›çº¦ 3%-5% çš„å› ç½‘ç»œæŠ–åŠ¨å¯¼è‡´çš„è¯·æ±‚å¤±è´¥ï¼Œç›´æ¥æå‡ä¸šåŠ¡è½¬åŒ–ç‡ã€‚</li>
<li><strong>é”™è¯¯åé¦ˆ</strong>ï¼šç»Ÿä¸€çš„é”™è¯¯ç æ˜ å°„æœºåˆ¶ï¼Œè®©ç”¨æˆ·ä¸å†çœ‹åˆ°â€œNetwork Errorâ€ï¼Œè€Œæ˜¯â€œç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯•(503)â€ã€‚</li>
</ul>
</li>
<li><strong>æ•…éšœæ’æŸ¥æ•ˆç‡æå‡</strong>ï¼š
<ul>
<li>æ ‡å‡†åŒ–çš„ <code>TraceId</code> æ³¨å…¥å’Œæ—¥å¿—æ ¼å¼ï¼Œä½¿å¾—å‰åç«¯è”è°ƒå’Œçº¿ä¸Šé—®é¢˜å®šä½æ—¶é—´ç¼©çŸ­ 50% ä»¥ä¸Šã€‚</li>
</ul>
</li>
<li><strong>ç ”å‘æ•ˆç‡ (Time-to-Market)</strong>ï¼š
<ul>
<li>ç»Ÿä¸€æ‹¦æˆªå™¨å¤„ç†äº† 90% çš„é€šç”¨é€»è¾‘ï¼ˆTokenã€æŠ¥é”™ã€å‚æ•°å¤„ç†ï¼‰ï¼Œä¸šåŠ¡å¼€å‘åªéœ€å…³æ³¨ DTO å®šä¹‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-17">äº”ã€ èµ„æºæŠ•å…¥ä¸é£é™©è¯„ä¼° (æ¶æ„å¸ˆè§†è§’)</h2>
<h3 data-id="heading-18">5.1 èµ„æºæŠ•å…¥ä¼°ç®—</h3>








































<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="left">äº‹é¡¹</th><th align="center">é¢„ä¼°äººåŠ› (äººå¤©)</th><th align="left">æ¶‰åŠè§’è‰²</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>P1</strong></td><td align="left">æ ¸å¿ƒåº“é‡æ„ä¸å•å…ƒæµ‹è¯•</td><td align="center">3</td><td align="left">é«˜çº§å‰ç«¯</td><td align="left">å·²å®Œæˆï¼ŒåŒ…å« Client å°è£…ä¸ Vitest æµ‹è¯•</td></tr><tr><td align="left"><strong>P2</strong></td><td align="left">å­˜é‡ä¸šåŠ¡è¿ç§»ä¸é€‚é…</td><td align="center">5-10</td><td align="left">ä¸šåŠ¡å‰ç«¯</td><td align="left">éœ€æ’æŸ¥æ‰€æœ‰ API è°ƒç”¨ï¼Œç¡®ä¿å…¼å®¹æ€§</td></tr><tr><td align="left"><strong>P3</strong></td><td align="left">åç«¯é”™è¯¯ç å¯¹é½</td><td align="center">2</td><td align="left">å‰ç«¯æ¶æ„ + åç«¯æ¶æ„</td><td align="left">éœ€åˆ¶å®šç»Ÿä¸€çš„ Error Code è§„èŒƒæ–‡æ¡£</td></tr><tr><td align="left"><strong>P4</strong></td><td align="left">ç›‘æ§åŸ‹ç‚¹æ¥å…¥</td><td align="center">3</td><td align="left">å‰ç«¯ + è¿ç»´</td><td align="left">æ¥å…¥ Sentry æˆ–è‡ªç ”ç›‘æ§å¹³å°</td></tr></tbody></table>
<h3 data-id="heading-19">5.2 è·¨éƒ¨é—¨åä½œéœ€æ±‚</h3>
<ol>
<li><strong>åç«¯ (Backend)</strong>ï¼š
<ul>
<li><strong>éœ€æ±‚</strong>ï¼šè§„èŒƒ HTTP çŠ¶æ€ç ä¸ä¸šåŠ¡ Code çš„è¯­ä¹‰ã€‚ä¾‹å¦‚ï¼ŒToken è¿‡æœŸåº”ç»Ÿä¸€è¿”å› 401ï¼Œè€Œé 200 + code:401ï¼Œä»¥ä¾¿æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†ã€‚</li>
<li><strong>åä½œç‚¹</strong>ï¼šæ¥å£æ–‡æ¡£éœ€æ˜ç¡®ç”± Swagger/YApi è‡ªåŠ¨ç”Ÿæˆï¼Œå‡å°‘å‰ç«¯æ‰‹åŠ¨å®šä¹‰ TS ç±»å‹çš„å·¥ä½œé‡ã€‚</li>
</ul>
</li>
<li><strong>æµ‹è¯• (QA)</strong>ï¼š
<ul>
<li><strong>éœ€æ±‚</strong>ï¼šæ–°å¢å¼±ç½‘æµ‹è¯•ä¸“é¡¹ï¼ŒéªŒè¯é‡è¯•æœºåˆ¶çš„æœ‰æ•ˆæ€§ã€‚</li>
<li><strong>åä½œç‚¹</strong>ï¼šæä¾› Mock æ–¹æ¡ˆï¼Œè¾…åŠ© QA æ„é€  Blob å¤±è´¥ç­‰è¾¹ç¼˜åœºæ™¯ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-20">5.3 é£é™©ä¸åº”å¯¹ç­–ç•¥</h3>
<ul>
<li><strong>é£é™©</strong>ï¼šå­˜é‡éæ ‡å‡†æ¥å£ï¼ˆå¦‚è¿”å› HTMLã€éæ ‡å‡† JSONï¼‰å¯èƒ½åœ¨ç»Ÿä¸€æ‹¦æˆªå™¨ä¸­è§£æå¤±è´¥ã€‚
<ul>
<li><strong>åº”å¯¹</strong>ï¼šæä¾› <code>skipUnifiedHandling</code> é…ç½®é¡¹ï¼Œå…è®¸ç‰¹å®šæ¥å£è·³è¿‡ç»Ÿä¸€å¤„ç†ï¼›åœ¨è¿ç§»æœŸä¿æŒåŒ Client å¹¶è¡Œè¿è¡Œã€‚</li>
</ul>
</li>
<li><strong>é£é™©</strong>ï¼šé‡è¯•æœºåˆ¶å¯¼è‡´éå¹‚ç­‰è¯·æ±‚ï¼ˆå¦‚ POST åˆ›å»ºè®¢å•ï¼‰é‡å¤æäº¤ã€‚
<ul>
<li><strong>åº”å¯¹</strong>ï¼šä¸¥æ ¼é™åˆ¶é»˜è®¤åªé‡è¯• GET è¯·æ±‚ï¼›POST è¯·æ±‚é‡è¯•éœ€ç”±ä¸šåŠ¡æ–¹æ˜¾å¼å¼€å¯ï¼Œå¹¶é…åˆåç«¯çš„ <code>Idempotency-Key</code> æœºåˆ¶ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-21">å…­ã€ ç°åº¦å‘å¸ƒæ–¹æ¡ˆå†³ç­– (Architecture Decision)</h2>
<p>åœ¨æ¶æ„å‡çº§è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•å¹³ç¨³åœ°å°†æ—§ç‰ˆ Axios è¿ç§»è‡³æ–°ç‰ˆæ¶æ„ï¼Œæˆ‘ä»¬å¯¹æ¯”äº†ä¸‰ç§ä¸»æµçš„ç°åº¦æ–¹æ¡ˆï¼Œå¹¶åŸºäº<strong>æˆæœ¬</strong>ã€<strong>é£é™©</strong>ã€<strong>çµæ´»æ€§</strong>ä¸‰ä¸ªç»´åº¦åšå‡ºäº†å†³ç­–ã€‚</p>
<h3 data-id="heading-22">6.1 æ–¹æ¡ˆé€‰å‹å¯¹æ¯” (Trade-off Analysis)</h3>

































<table><thead><tr><th align="left">æ–¹æ¡ˆ</th><th align="left">åŸç†</th><th align="left">ä¼˜ç‚¹</th><th align="left">ç¼ºç‚¹</th><th align="left">é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><strong>A. ç‰¹æ€§å¼€å…³ (Feature Flags)</strong></td><td align="left">å‰ç«¯é›†æˆé…ç½®ä¸­å¿ƒ SDK (å¦‚ LaunchDarkly/è‡ªç ”)ï¼ŒåŠ¨æ€ä¸‹å‘é…ç½®æ§åˆ¶å®ä¾‹åˆ‡æ¢</td><td align="left">1. ç²’åº¦æœ€ç»† (å¯æŒ‰ UserID/Region) <br/> 2. å®æ—¶ç”Ÿæ•ˆï¼Œç§’çº§å›æ»š <br/> 3. æ— éœ€é‡æ–°éƒ¨ç½²</td><td align="left">1. å¼•å…¥é¢å¤–çš„ SDK ä¾èµ– <br/> 2. ä»£ç ä¸­å­˜åœ¨ <code>if/else</code> é€»è¾‘åˆ†æ”¯</td><td align="left"><strong>æ¨è</strong> <br/> é€‚åˆä¸šåŠ¡é€»è¾‘é‡æ„ï¼Œéœ€ç²¾ç»†åŒ–æ§åˆ¶æµé‡</td></tr><tr><td align="left"><strong>B. ç½‘å…³å±‚è·¯ç”± (Gateway Routing)</strong></td><td align="left">Nginx/Ingress æ ¹æ® Header å°†æµé‡è½¬å‘è‡³ä¸åŒç‰ˆæœ¬çš„æœåŠ¡é›†ç¾¤</td><td align="left">1. å¯¹å‰ç«¯ä»£ç é›¶ä¾µå…¥ <br/> 2. æ¶æ„æœ€å¹²å‡€</td><td align="left">1. ä»…é€‚ç”¨äºâ€œæ•´ç«™é‡æ„â€ <br/> 2. æ— æ³•æ§åˆ¶å‰ç«¯å†…éƒ¨é€»è¾‘ (å¦‚ Blob è§£æ)</td><td align="left">é€‚åˆåç«¯æ¥å£å‡çº§æˆ–å¾®æœåŠ¡æ‹†åˆ†</td></tr><tr><td align="left"><strong>C. æ„å»ºæ—¶åˆ†åŒ… (Build-Time Splitting)</strong></td><td align="left">CI æµæ°´çº¿æ„å»º Stable/Canary ä¸¤ä¸ª Docker é•œåƒï¼Œé€šè¿‡ K8s æƒé‡åˆ†æµ</td><td align="left">1. è¿ç»´ä¾§å®Œå…¨å¯æ§ <br/> 2. ç‰©ç†éš”ç¦»ï¼Œé£é™©æœ€ä½</td><td align="left">1. ç°åº¦å‘¨æœŸé•¿ (éœ€å‘ç‰ˆ) <br/> 2. æ— æ³•é’ˆå¯¹ç‰¹å®šç”¨æˆ·ç°åº¦</td><td align="left">é€‚åˆåº•å±‚åŸºç¡€è®¾æ–½å¤§è§„æ¨¡å‡çº§</td></tr></tbody></table>
<h3 data-id="heading-23">6.2 æœ€ç»ˆå†³ç­–ï¼šæ–¹æ¡ˆ A (Feature Flags Lite)</h3>
<h3 data-id="heading-24">6.2 æœ€ç»ˆå†³ç­–ï¼šæ–¹æ¡ˆ A (Feature Flags Lite)</h3>
<p>è€ƒè™‘åˆ°æœ¬æ¬¡ä»…ä¸º<strong>å‰ç«¯å†…éƒ¨é‡æ„</strong>ï¼Œä¸”å¸Œæœ›å°½é‡å‡å°‘å¯¹åç«¯çš„ä¾èµ–ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨ <strong>çº¯å‰ç«¯ç‰¹æ€§çš„è½»é‡çº§å¼€å…³</strong> æ–¹æ¡ˆã€‚</p>
<p><strong>å®ç°ç­–ç•¥</strong>ï¼š</p>
<ol>
<li><strong>é…ç½®å­˜å‚¨</strong>ï¼šåˆ©ç”¨ <code>localStorage</code> æ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒï¼ŒKey ä¸º <code>AXIOS_FEATURE_FLAGS</code>ã€‚</li>
<li><strong>å·¥å‚æ¨¡å¼</strong>ï¼š<code>axios.service.ts</code> æ”¹é€ ä¸ºä»£ç†å·¥å‚ï¼Œæ ¹æ®é…ç½®åŠ¨æ€è¿”å› <code>NewClient</code> æˆ– <code>LegacyClient</code>ã€‚</li>
<li><strong>åˆ†æµç­–ç•¥</strong>ï¼šæ”¯æŒ <strong>å…¨å±€å¼€å…³</strong>ã€<strong>URLç™½åå•</strong>ã€<strong>éšæœºé‡‡æ ·ç‡</strong> ä¸‰ç§ç»´åº¦çš„æµé‡æ§åˆ¶ã€‚</li>
</ol>
<h4 data-id="heading-25">æ ¸å¿ƒä»£ç ï¼šç‰¹æ€§å¼€å…³å®ç° (<code>src/axios.service.ts</code>)</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç‰¹æ€§å¼€å…³é…ç½®å®šä¹‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">FeatureFlags</span> {
  <span class="hljs-attr">enableNewAxios</span>: <span class="hljs-built_in">boolean</span>;  <span class="hljs-comment">// æ€»å¼€å…³</span>
  <span class="hljs-attr">whitelist</span>: <span class="hljs-built_in">string</span>[];      <span class="hljs-comment">// æ¥å£ç™½åå•</span>
  <span class="hljs-attr">sampleRate</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// éšæœºé‡‡æ ·ç‡ (0-1)</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">shouldUseNew</span>(<span class="hljs-params">config: AxiosRequestConfig | <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> flags = <span class="hljs-title function_">getFeatureFlags</span>() <span class="hljs-comment">// ä» localStorage è¯»å–</span>
  
  <span class="hljs-keyword">if</span> (!flags.<span class="hljs-property">enableNewAxios</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  
  <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">typeof</span> config === <span class="hljs-string">'string'</span> ? config : config.<span class="hljs-property">url</span> || <span class="hljs-string">''</span>
  
  <span class="hljs-comment">// ç­–ç•¥1ï¼šç™½åå•ä¼˜å…ˆ</span>
  <span class="hljs-keyword">if</span> (flags.<span class="hljs-property">whitelist</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">path</span> =&gt;</span> url.<span class="hljs-title function_">includes</span>(path))) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  
  <span class="hljs-comment">// ç­–ç•¥2ï¼šéšæœºé‡‡æ ·</span>
  <span class="hljs-keyword">if</span> (flags.<span class="hljs-property">sampleRate</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &lt; flags.<span class="hljs-property">sampleRate</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
}

<span class="hljs-comment">// ä½¿ç”¨ Proxy åŠ¨æ€ä»£ç†</span>
<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(legacyInstance, {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop</span>) {
    <span class="hljs-keyword">if</span> ([<span class="hljs-string">'request'</span>, <span class="hljs-string">'get'</span>, <span class="hljs-string">'post'</span>, ...].<span class="hljs-title function_">includes</span>(prop)) {
      <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
        <span class="hljs-comment">// è¿è¡Œæ—¶åˆ¤æ–­èµ°æ–°ç‰ˆè¿˜æ˜¯æ—§ç‰ˆ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldUseNew</span>(args[<span class="hljs-number">0</span>])) <span class="hljs-keyword">return</span> newInstance[prop](...args)
        <span class="hljs-keyword">return</span> target[prop](...args)
      }
    }
    <span class="hljs-keyword">return</span> target[prop]
  }
})
</code></pre>
<h4 data-id="heading-26">æ“ä½œæŒ‡å—ï¼šå¦‚ä½•å¼€å¯ç°åº¦</h4>
<p>åœ¨æµè§ˆå™¨æ§åˆ¶å° (Console) æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯å®æ—¶æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœºæ™¯ 1ï¼šä»…å¼€å¯ /system/user æ¥å£çš„ç°åº¦</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'AXIOS_FEATURE_FLAGS'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
  <span class="hljs-attr">enableNewAxios</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">whitelist</span>: [<span class="hljs-string">'/system/user'</span>],
  <span class="hljs-attr">sampleRate</span>: <span class="hljs-number">0</span>
}))

<span class="hljs-comment">// åœºæ™¯ 2ï¼šå¼€å¯ 20% çš„å…¨å±€éšæœºæµé‡</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'AXIOS_FEATURE_FLAGS'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
  <span class="hljs-attr">enableNewAxios</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">whitelist</span>: [],
  <span class="hljs-attr">sampleRate</span>: <span class="hljs-number">0.2</span>
}))

<span class="hljs-comment">// åœºæ™¯ 3ï¼šç´§æ€¥å›æ»š (ä¸€é”®åˆ‡å›æ—§ç‰ˆ)</span>
<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'AXIOS_FEATURE_FLAGS'</span>)
</code></pre>
<h2 data-id="heading-27">ä¸ƒã€ é£é™©è¯„ä¼°ä¸å›å½’æµ‹è¯•ç­–ç•¥</h2>
<h3 data-id="heading-28">7.1 æ ¸å¿ƒé£é™©çŸ©é˜µ</h3>





























<table><thead><tr><th align="left">é£é™©ç‚¹</th><th align="left">å½±å“é¢</th><th align="center">ä¸¥é‡ç­‰çº§</th><th align="left">åº”å¯¹æªæ–½</th></tr></thead><tbody><tr><td align="left"><strong>éæ ‡å‡†æ¥å£å…¼å®¹æ€§</strong></td><td align="left">éƒ¨åˆ†è€æ¥å£è¿”å› <code>code: 200</code> (é 0)</td><td align="center">High</td><td align="left">1. å»ºç«‹ç™½åå•æœºåˆ¶ï¼Œè€æ¥å£å¼ºåˆ¶èµ°æ—§é€»è¾‘ <br/> 2. æ‹¦æˆªå™¨å¢åŠ  <code>skipUnifiedHandling</code> é…ç½®</td></tr><tr><td align="left"><strong>Blob ä¸‹è½½ç±»å‹è¯¯åˆ¤</strong></td><td align="left">åç«¯è¿”å›æ–‡ä»¶æµä½† Header ä¸º <code>application/json</code></td><td align="center">Medium</td><td align="left">1. å¢åŠ  Content-Type ä¸¥æ ¼æ ¡éªŒ <br/> 2. æä¾› <code>responseType</code> å¼ºåˆ¶è¦†å†™èƒ½åŠ›</td></tr><tr><td align="left"><strong>é‡è¯•é£æš´</strong></td><td align="left">POST è¯·æ±‚è¢«é”™è¯¯é‡è¯•å¯¼è‡´æ•°æ®é‡å¤</td><td align="center">High</td><td align="left">1. é»˜è®¤ä»…å…è®¸ GET/PUT/DELETE é‡è¯• <br/> 2. å¼ºåˆ¶è¦æ±‚éå¹‚ç­‰è¯·æ±‚æ˜¾å¼å¼€å¯ <code>allowNonIdempotent</code></td></tr></tbody></table>
<h3 data-id="heading-29">7.2 å›å½’æµ‹è¯•èŒƒå›´ (Regression Scope)</h3>
<p>ä¸ºç¡®ä¿ 0 æ•…éšœä¸Šçº¿ï¼ŒQA éœ€æ‰§è¡Œä»¥ä¸‹å›å½’ç­–ç•¥ï¼š</p>
<ol>
<li>
<p><strong>P0 çº§æ ¸å¿ƒæµç¨‹ (100% å›å½’)</strong>ï¼š</p>
<ul>
<li>ç™»å½•/ç™»å‡º/Token è¿‡æœŸè‡ªåŠ¨è·³è½¬ã€‚</li>
<li>æ ¸å¿ƒä¸šåŠ¡å•æ®çš„å¢åˆ æ”¹æŸ¥ (CRUD)ã€‚</li>
<li>æ–‡ä»¶ä¸Šä¼ /ä¸‹è½½ (Excel/PDF)ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼±ç½‘/å¼‚å¸¸åœºæ™¯ä¸“é¡¹æµ‹è¯•</strong>ï¼š</p>
<ul>
<li><strong>æ¨¡æ‹Ÿ 500/502</strong>ï¼šéªŒè¯æ˜¯å¦è§¦å‘ 3 æ¬¡é‡è¯•ï¼Œä¸”æœ€ç»ˆæŠ¥é”™æç¤ºæ­£ç¡®ã€‚</li>
<li><strong>æ¨¡æ‹Ÿæ–­ç½‘</strong>ï¼šéªŒè¯æ˜¯å¦æ•è· Network Error å¹¶æç¤ºå‹å¥½ä¿¡æ¯ã€‚</li>
<li><strong>æ…¢é€Ÿç½‘ç»œ (3G)</strong>ï¼šéªŒè¯è¶…æ—¶è®¾ç½® (<code>timeout</code>) æ˜¯å¦ç”Ÿæ•ˆã€‚</li>
</ul>
</li>
<li>
<p><strong>å…¼å®¹æ€§æµ‹è¯•</strong>ï¼š</p>
<ul>
<li>éªŒè¯è€æ—§æµè§ˆå™¨ (Chrome &lt; 80) ä¸‹ <code>Blob.text()</code> ç­‰æ–° API çš„ Polyfill æ˜¯å¦ç”Ÿæ•ˆã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-30">å…«ã€ æœªæ¥æ¼”è¿›è§„åˆ’</h2>
<ol>
<li><strong>BFF (Backend for Frontend) èåˆ</strong>ï¼š
<ul>
<li>å°†éƒ¨åˆ†æ•°æ®èšåˆé€»è¾‘ä¸‹æ²‰è‡³ Node.js å±‚ï¼Œå¤ç”¨æœ¬å¥— HTTP Client æ ¸å¿ƒä»£ç ã€‚</li>
</ul>
</li>
<li><strong>å…¨é“¾è·¯ç›‘æ§ (Observability)</strong>ï¼š
<ul>
<li>é›†æˆ OpenTelemetryï¼Œè‡ªåŠ¨æ”¶é›†è¯·æ±‚è€—æ—¶ã€æˆåŠŸç‡æŒ‡æ ‡ï¼Œå®ç°ç«¯åˆ°ç«¯çš„å¯è§‚æµ‹æ€§ã€‚</li>
</ul>
</li>
<li><strong>Mock å¹³å°æ‰“é€š</strong>ï¼š
<ul>
<li>æ‹¦æˆªå™¨å±‚ç›´æ¥é›†æˆ Mock.js æˆ–æœ¬åœ°ä»£ç†ï¼Œå®ç°æ— åç«¯æƒ…å†µä¸‹çš„é›¶æˆæœ¬å¼€å‘ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<p><em>æ–‡æ¡£ç‰ˆæœ¬ï¼šv2.1.0 | æ¶æ„è®¾è®¡ï¼šå‰ç«¯æ¶æ„ç»„ | æ›´æ–°æ—¥æœŸï¼š2025-12-18</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[reactç»„ä»¶(4)---é«˜é˜¶ä½¿ç”¨åŠé—­å‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7584780417103822888</link>    <guid>https://juejin.cn/post/7584780417103822888</guid>    <pubDate>2025-12-18T07:15:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584780417103822888" data-draft-id="7584909732612620323" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="reactç»„ä»¶(4)---é«˜é˜¶ä½¿ç”¨åŠé—­å‘æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-18T07:15:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ— æ¶¯"/> <meta itemprop="url" content="https://juejin.cn/user/3967483738859639"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            reactç»„ä»¶(4)---é«˜é˜¶ä½¿ç”¨åŠé—­å‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3967483738859639/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ— æ¶¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:15:28.000Z" title="Thu Dec 18 2025 07:15:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">ä¸€ã€ç»„ä»¶çš„å¤ç”¨ï¼šé¿å…é‡å¤ä»£ç çš„æœ€ä½³å®è·µ</h2>
<p>åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å¤šä¸ªç»„ä»¶æ‹¥æœ‰ç›¸åŒçš„é€»è¾‘ï¼ˆå¦‚è¯·æ±‚æ•°æ®ã€å¤„ç†è¡¨å•ã€ç›‘å¬äº‹ä»¶ï¼‰ï¼Œæ­¤æ—¶éœ€è¦å°†è¿™äº›é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œå®ç°å¤ç”¨ã€‚ä»¥ä¸‹æ˜¯ React ä¸­å¸¸ç”¨çš„ç»„ä»¶å¤ç”¨æ–¹å¼ã€‚</p>
<h3 data-id="heading-1">1. è‡ªå®šä¹‰ Hooksï¼ˆæ¨èï¼‰</h3>
<p>è‡ªå®šä¹‰ Hooks æ˜¯ React 16.8 + æ¨å‡ºçš„å¤ç”¨é€»è¾‘çš„æœ€ä½³æ–¹å¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªä»¥<code>use</code>å¼€å¤´çš„å‡½æ•°ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»– Hooksï¼Œå°†ç»„ä»¶çš„é€»è¾‘æŠ½ç¦»ä¸ºç‹¬ç«‹çš„å‡½æ•°ã€‚</p>
<h4 data-id="heading-2">ç¤ºä¾‹ 1ï¼šè‡ªå®šä¹‰ Hook å®ç°æ•°æ®è¯·æ±‚</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// è‡ªå®šä¹‰Hookï¼šå¤„ç†æ•°æ®è¯·æ±‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">useFetch</span> = (<span class="hljs-params">url</span>) =&gt; {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [error, setError] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å–æ¶ˆè¯·æ±‚çš„æ§åˆ¶å™¨</span>
    <span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, { <span class="hljs-attr">signal</span>: controller.<span class="hljs-property">signal</span> });
        <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è¯·æ±‚å¤±è´¥'</span>);
        }
        <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
        <span class="hljs-title function_">setData</span>(result);
        <span class="hljs-title function_">setError</span>(<span class="hljs-literal">null</span>);
      } <span class="hljs-keyword">catch</span> (err) {
        <span class="hljs-keyword">if</span> (err.<span class="hljs-property">name</span> !== <span class="hljs-string">'AbortError'</span>) {
          <span class="hljs-title function_">setError</span>(err.<span class="hljs-property">message</span>);
          <span class="hljs-title function_">setData</span>(<span class="hljs-literal">null</span>);
        }
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
      }
    };

    <span class="hljs-title function_">fetchData</span>();

    <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶å–æ¶ˆè¯·æ±‚</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      controller.<span class="hljs-title function_">abort</span>();
    };
  }, [url]);

  <span class="hljs-keyword">return</span> { data, loading, error };
};

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰Hookçš„ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">DataList</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> { data, loading, error } = <span class="hljs-title function_">useFetch</span>(<span class="hljs-string">'https://api.example.com/data'</span>);

  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;
  <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é”™è¯¯ï¼š{error}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {data.map((item) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-3">ç¤ºä¾‹ 2ï¼šè‡ªå®šä¹‰ Hook å®ç°æœ¬åœ°å­˜å‚¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// è‡ªå®šä¹‰Hookï¼šå¤„ç†localStorage</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">useLocalStorage</span> = (<span class="hljs-params">key, initialValue</span>) =&gt; {
  <span class="hljs-comment">// ä»æœ¬åœ°å­˜å‚¨ä¸­è·å–åˆå§‹å€¼</span>
  <span class="hljs-keyword">const</span> [value, setValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> storedValue = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(key);
      <span class="hljs-keyword">return</span> storedValue ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(storedValue) : initialValue;
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯»å–æœ¬åœ°å­˜å‚¨å¤±è´¥ï¼š'</span>, err);
      <span class="hljs-keyword">return</span> initialValue;
    }
  });

  <span class="hljs-comment">// å½“valueå˜åŒ–æ—¶ï¼Œæ›´æ–°æœ¬åœ°å­˜å‚¨</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value));
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å†™å…¥æœ¬åœ°å­˜å‚¨å¤±è´¥ï¼š'</span>, err);
    }
  }, [key, value]);

  <span class="hljs-keyword">return</span> [value, setValue];
};

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰Hookçš„ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">LocalStorageDemo</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useLocalStorage</span>(<span class="hljs-string">'name'</span>, <span class="hljs-string">'æ¸¸å®¢'</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setName(e.target.value)}
        placeholder="è¯·è¾“å…¥å§“å"
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½ å¥½ï¼Œ{name}ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-4">2. é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰</h3>
<p>é«˜é˜¶ç»„ä»¶æ˜¯ä¸€ä¸ªæ¥æ”¶ç»„ä»¶å¹¶è¿”å›æ–°ç»„ä»¶çš„å‡½æ•°ï¼Œç”¨äºå¤ç”¨ç»„ä»¶é€»è¾‘ã€‚å®ƒæ˜¯ Hooks å‡ºç°ä¹‹å‰çš„ä¸»è¦å¤ç”¨æ–¹å¼ï¼Œç°åœ¨é€æ¸è¢«è‡ªå®šä¹‰ Hooks æ›¿ä»£ã€‚</p>
<h4 data-id="heading-5">ç¤ºä¾‹ï¼šé«˜é˜¶ç»„ä»¶å®ç°åŠ è½½çŠ¶æ€</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é«˜é˜¶ç»„ä»¶ï¼šwithLoading</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">withLoading</span> = (<span class="hljs-params">WrappedComponent</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">{ loading, ...props }</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (loading) {
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;
    }
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">WrappedComponent</span> {<span class="hljs-attr">...props</span>} /&gt;</span></span>;
  };
};

<span class="hljs-comment">// åŸå§‹ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">DataList</span> = (<span class="hljs-params">{ data }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {data.map((item) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
};

<span class="hljs-comment">// å¢å¼ºåçš„ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DataListWithLoading</span> = <span class="hljs-title function_">withLoading</span>(<span class="hljs-title class_">DataList</span>);

<span class="hljs-comment">// ä½¿ç”¨å¢å¼ºåçš„ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setData</span>([{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'React'</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Vue'</span> }]);
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }, <span class="hljs-number">1000</span>);
  }, []);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DataListWithLoading</span> <span class="hljs-attr">loading</span>=<span class="hljs-string">{loading}</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> /&gt;</span></span>;
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-6">3. Render Props</h3>
<p>Render Props æ˜¯æŒ‡ç»„ä»¶é€šè¿‡ä¸€ä¸ªåä¸º<code>render</code>çš„ Props æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å› JSXï¼Œä»è€Œå®ç°é€»è¾‘å¤ç”¨ã€‚å®ƒä¹Ÿæ˜¯ Hooks å‡ºç°ä¹‹å‰çš„å¤ç”¨æ–¹å¼ï¼Œç°åœ¨ä½¿ç”¨è¾ƒå°‘ã€‚</p>
<h4 data-id="heading-7">ç¤ºä¾‹ï¼šRender Props å®ç°é¼ æ ‡ä½ç½®è·Ÿè¸ª</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Render Propsç»„ä»¶ï¼šè·Ÿè¸ªé¼ æ ‡ä½ç½®</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">MouseTracker</span> = (<span class="hljs-params">{ render }</span>) =&gt; {
  <span class="hljs-keyword">const</span> [position, setPosition] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> });

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseMove</span> = (<span class="hljs-params">e</span>) =&gt; {
      <span class="hljs-title function_">setPosition</span>({ <span class="hljs-attr">x</span>: e.<span class="hljs-property">clientX</span>, <span class="hljs-attr">y</span>: e.<span class="hljs-property">clientY</span> });
    };

    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove);
    };
  }, []);

  <span class="hljs-comment">// è°ƒç”¨renderå‡½æ•°ï¼Œä¼ é€’é¼ æ ‡ä½ç½®</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">render</span>(position);
};

<span class="hljs-comment">// ä½¿ç”¨Render Propsç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MouseTracker</span>
      <span class="hljs-attr">render</span>=<span class="hljs-string">{(position)</span> =&gt;</span> (
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
          é¼ æ ‡ä½ç½®ï¼šX={position.x}ï¼ŒY={position.y}
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      )}
    /&gt;</span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-8">äºŒã€ç»„ä»¶çš„æ€§èƒ½ä¼˜åŒ–ï¼šè®©ç»„ä»¶æ›´é«˜æ•ˆ</h2>
<p>React ç»„ä»¶é»˜è®¤ä¼šåœ¨ Props æˆ– State å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“ï¼Œä½†æœ‰æ—¶ä¼šå‡ºç°ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨çš„ç»„ä»¶æ€§èƒ½ä¼˜åŒ–æ–¹æ³•ã€‚</p>
<h3 data-id="heading-9">1. ä½¿ç”¨ React.memo ç¼“å­˜å‡½æ•°ç»„ä»¶</h3>
<p><code>React.memo</code>æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œç”¨äºç¼“å­˜å‡½æ•°ç»„ä»¶çš„æ¸²æŸ“ç»“æœï¼Œåªæœ‰å½“ç»„ä»¶çš„ Props å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ï¼ˆæµ…æ¯”è¾ƒ Propsï¼‰ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { memo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// æ™®é€šç»„ä»¶ï¼šæ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“ï¼Œè¯¥ç»„ä»¶éƒ½ä¼šé‡æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Child</span> = (<span class="hljs-params">{ name }</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Childç»„ä»¶æ¸²æŸ“äº†'</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;
};

<span class="hljs-comment">// ç¼“å­˜ç»„ä»¶ï¼šåªæœ‰nameå˜åŒ–æ—¶æ‰ä¼šé‡æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MemoizedChild</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-title class_">Child</span>);

<span class="hljs-comment">// çˆ¶ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡æ•°ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {/* ä½¿ç”¨ç¼“å­˜åçš„ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MemoizedChild</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"React"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-10">2. ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ</h3>
<p><code>useMemo</code>ç”¨äºç¼“å­˜å¤æ‚è®¡ç®—çš„ç»“æœï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è®¡ç®—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å¤æ‚è®¡ç®—å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">calculateTotal</span> = (<span class="hljs-params">list</span>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰§è¡Œå¤æ‚è®¡ç®—'</span>);
  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">total, item</span>) =&gt;</span> total + item, <span class="hljs-number">0</span>);
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [list, setList] = <span class="hljs-title function_">useState</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]);
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç¼“å­˜è®¡ç®—ç»“æœï¼šåªæœ‰listå˜åŒ–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—</span>
  <span class="hljs-keyword">const</span> total = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">calculateTotal</span>(list), [list]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ€»å’Œï¼š{total}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡æ•°ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setList([...list, 6])}&gt;æ·»åŠ æ•°å­—<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-11">3. ä½¿ç”¨ useCallback ç¼“å­˜å‡½æ•°</h3>
<p><code>useCallback</code>ç”¨äºç¼“å­˜å‡½æ•°çš„å¼•ç”¨ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°çš„å‡½æ•°ï¼Œä»è€Œé˜²æ­¢å­ç»„ä»¶å›  Props å˜åŒ–è€Œä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useCallback, memo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ onButtonClick }</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Childç»„ä»¶æ¸²æŸ“äº†'</span>);
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onButtonClick}</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
});

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Parent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç¼“å­˜å‡½æ•°ï¼šæ¯æ¬¡æ¸²æŸ“è¿”å›ç›¸åŒçš„å‡½æ•°å¼•ç”¨</span>
  <span class="hljs-keyword">const</span> handleClick = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŒ‰é’®è¢«ç‚¹å‡»äº†'</span>);
  }, []); <span class="hljs-comment">// ç©ºä¾èµ–æ•°ç»„ï¼šä»…åˆ›å»ºä¸€æ¬¡</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è®¡æ•°ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">onButtonClick</span>=<span class="hljs-string">{handleClick}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-12">4. åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ–ï¼šä½¿ç”¨å”¯ä¸€çš„ key</h3>
<p>åˆ—è¡¨æ¸²æŸ“æ—¶ï¼Œä¸ºæ¯ä¸ªåˆ—è¡¨é¡¹æ·»åŠ å”¯ä¸€çš„<code>key</code>å±æ€§ï¼Œå¸®åŠ© React è¯†åˆ«åˆ—è¡¨é¡¹çš„å˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„ DOM æ“ä½œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">TodoList</span> = (<span class="hljs-params">{ todos }</span>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {todos.map((todo) =&gt; (
        // ä½¿ç”¨å”¯ä¸€çš„idä½œä¸ºkeyï¼Œä¸è¦ä½¿ç”¨ç´¢å¼•
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>{todo.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-13">5. æ‡’åŠ è½½ç»„ä»¶ï¼šReact.lazy ä¸ Suspense</h3>
<p>ä½¿ç”¨<code>React.lazy</code>å’Œ<code>Suspense</code>å®ç°ç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½çš„ä»£ç ä½“ç§¯ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { lazy, <span class="hljs-title class_">Suspense</span>, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// æ‡’åŠ è½½ç»„ä»¶ï¼šåªæœ‰å½“ç»„ä»¶è¢«æ¸²æŸ“æ—¶æ‰ä¼šåŠ è½½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyComponent</span> = <span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./LazyComponent'</span>));

<span class="hljs-keyword">const</span> <span class="hljs-title function_">App</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> [showLazy, setShowLazy] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setShowLazy(true)}&gt;æ˜¾ç¤ºæ‡’åŠ è½½ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      {showLazy &amp;&amp; (
        // Suspenseï¼šæŒ‡å®šåŠ è½½ä¸­çš„å ä½ç¬¦
        <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">p</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-14">ä¸‰ã€ç»„ä»¶çš„æœ€ä½³å®è·µä¸é¿å‘æŒ‡å—</h2>
<p>æŒæ¡ä»¥ä¸‹æœ€ä½³å®è·µï¼Œå¯ä»¥è®©ä½ çš„ç»„ä»¶æ›´æ˜“ç»´æŠ¤ã€æ›´å¥å£®ã€‚</p>
<h3 data-id="heading-15">1. ç»„ä»¶çš„å•ä¸€èŒè´£</h3>
<p>ä¸€ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ï¼Œé¿å…åˆ›å»ºè¿‡äºåºå¤§çš„ç»„ä»¶ã€‚å¦‚æœç»„ä»¶åŠŸèƒ½è¿‡å¤šï¼Œåº”å°†å…¶æ‹†åˆ†ä¸ºå¤šä¸ªå­ç»„ä»¶ã€‚</p>
<h3 data-id="heading-16">2. ç»„ä»¶å‘½åè§„èŒƒ</h3>
<ul>
<li>ç»„ä»¶åä½¿ç”¨<strong>å¤§é©¼å³°å‘½åæ³•</strong>ï¼ˆPascalCaseï¼‰ï¼Œå¦‚<code>TodoList</code>ã€<code>Button</code>ï¼›</li>
<li>ç»„ä»¶æ–‡ä»¶åä¸ºç»„ä»¶åï¼Œå¦‚<code>TodoList.jsx</code>ã€<code>Button.tsx</code>ï¼›</li>
<li>é¿å…ä½¿ç”¨é€šç”¨åç§°ï¼Œå¦‚<code>Component</code>ã€<code>Box</code>ï¼Œåº”ä½¿ç”¨è¯­ä¹‰åŒ–åç§°ã€‚</li>
</ul>
<h3 data-id="heading-17">3. åˆç†æ‹†åˆ†ç»„ä»¶</h3>
<p>æŒ‰åŠŸèƒ½æˆ– UI ç»“æ„æ‹†åˆ†ç»„ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>é¡µé¢çº§ç»„ä»¶ï¼š<code>HomePage</code>ã€<code>UserPage</code>ï¼›</li>
<li>å¸ƒå±€ç»„ä»¶ï¼š<code>Header</code>ã€<code>Footer</code>ã€<code>Sidebar</code>ï¼›</li>
<li>ä¸šåŠ¡ç»„ä»¶ï¼š<code>TodoList</code>ã€<code>UserCard</code>ï¼›</li>
<li>é€šç”¨ç»„ä»¶ï¼š<code>Button</code>ã€<code>Input</code>ã€<code>Modal</code>ã€‚</li>
</ul>
<h3 data-id="heading-18">4. é¿å…åœ¨æ¸²æŸ“æ—¶åˆ›å»ºå‡½æ•°æˆ–å¯¹è±¡</h3>
<p>åœ¨æ¸²æŸ“æ—¶åˆ›å»ºå‡½æ•°æˆ–å¯¹è±¡ä¼šå¯¼è‡´æ¯æ¬¡æ¸²æŸ“çš„å¼•ç”¨ä¸åŒï¼Œè§¦å‘å­ç»„ä»¶çš„ä¸å¿…è¦é‡æ¸²æŸ“ï¼Œåº”å°†å…¶æå–åˆ°ç»„ä»¶å¤–éƒ¨æˆ–ä½¿ç”¨<code>useCallback</code>/<code>useMemo</code>ç¼“å­˜ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// é”™è¯¯ï¼šæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šåˆ›å»ºæ–°çš„å‡½æ•°å’Œå¯¹è±¡
const <span class="hljs-attr">Child</span> = memo(({ <span class="hljs-literal">on</span>Click, style }) =&gt; { /* ... */ })<span class="hljs-comment">;</span>
const <span class="hljs-attr">Parent</span> = () =&gt; {
  return (
    &lt;Child
      <span class="hljs-attr">onClick</span>={() =&gt; console.log(<span class="hljs-string">'ç‚¹å‡»'</span>)}
      <span class="hljs-attr">style</span>={{ color: <span class="hljs-string">'red'</span> }}
    /&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// æ­£ç¡®ï¼šç¼“å­˜å‡½æ•°å’Œå¯¹è±¡
const <span class="hljs-attr">Parent</span> = () =&gt; {
  const <span class="hljs-attr">handleClick</span> = useCallback(() =&gt; console.log(<span class="hljs-string">'ç‚¹å‡»'</span>), [])<span class="hljs-comment">;</span>
  const <span class="hljs-attr">style</span> = useMemo(() =&gt; ({ color: <span class="hljs-string">'red'</span> }), [])<span class="hljs-comment">;</span>
  return &lt;Child <span class="hljs-attr">onClick</span>={handleClick} style={style} /&gt;<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-19">5. ä¸è¦ç›´æ¥ä¿®æ”¹ Props æˆ– State</h3>
<p>Props æ˜¯åªè¯»çš„ï¼ŒState æ˜¯ä¸å¯å˜çš„ï¼Œç›´æ¥ä¿®æ”¹ä¼šå¯¼è‡´ React æ— æ³•æ£€æµ‹åˆ°å˜åŒ–ï¼Œå¼•å‘æ¸²æŸ“å¼‚å¸¸ã€‚åº”ä½¿ç”¨ setState æˆ–ä¸å¯å˜æ–¹æ³•ï¼ˆå¦‚<code>concat</code>ã€<code>map</code>ã€æ‰©å±•è¿ç®—ç¬¦ï¼‰åˆ›å»ºæ–°çš„çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹State
const <span class="hljs-section">[list, setList]</span> = useState(<span class="hljs-section">[1, 2, 3]</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">handleAdd</span> = () =&gt; {
  list.push(4)<span class="hljs-comment">; // ç›´æ¥ä¿®æ”¹æ•°ç»„</span>
  setList(list)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// æ­£ç¡®ï¼šåˆ›å»ºæ–°çš„æ•°ç»„
const <span class="hljs-attr">handleAdd</span> = () =&gt; {
  setList(<span class="hljs-section">[...list, 4]</span>)<span class="hljs-comment">; // æ‰©å±•è¿ç®—ç¬¦</span>
  // æˆ–
  // setList(<span class="hljs-attr">prev</span> =&gt; [...prev, <span class="hljs-number">4</span>])<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-20">6. æ­£ç¡®å¤„ç†å¼‚æ­¥æ“ä½œ</h3>
<p>åœ¨ç»„ä»¶ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼ˆå¦‚è¯·æ±‚æ•°æ®ï¼‰æ—¶ï¼Œåº”åœ¨ç»„ä»¶å¸è½½å‰å–æ¶ˆæ“ä½œï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</p>
<h3 data-id="heading-21">7. ä½¿ç”¨ TypeScript å¢å¼ºç±»å‹å®‰å…¨</h3>
<p>ä½¿ç”¨ TypeScript ç¼–å†™ç»„ä»¶ï¼Œå¯ä»¥ä¸º Propsã€State æ·»åŠ ç±»å‹æ³¨è§£ï¼Œæå‰å‘ç°ç±»å‹é”™è¯¯ï¼Œæå‡ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<h2 data-id="heading-22">å››ã€æ€»ç»“</h2>
<p>ç»„ä»¶æ˜¯ React çš„æ ¸å¿ƒï¼ŒæŒæ¡ç»„ä»¶çš„åˆ›å»ºã€æ ¸å¿ƒç‰¹æ€§ã€é€šä¿¡ã€å¤ç”¨å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ˜¯ç¼–å†™é«˜è´¨é‡ React åº”ç”¨çš„å…³é”®ã€‚ä»å‡½æ•°ç»„ä»¶ + Hooks çš„åŸºç¡€ä½¿ç”¨ï¼Œåˆ° Context API å’ŒçŠ¶æ€ç®¡ç†åº“çš„è·¨ç»„ä»¶é€šä¿¡ï¼Œå†åˆ°è‡ªå®šä¹‰ Hooks çš„é€»è¾‘å¤ç”¨å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ¯ä¸€æ­¥éƒ½ä½“ç°äº† React çš„è®¾è®¡æ€æƒ³ï¼š<strong>ç»„ä»¶åŒ–ã€å•å‘æ•°æ®æµã€ä¸å¯å˜æ€§</strong>ã€‚</p>
<p>éšç€ React çš„å‘å±•ï¼Œå‡½æ•°ç»„ä»¶ + Hooks å·²ç»æˆä¸ºä¸»æµå¼€å‘æ¨¡å¼ï¼Œè‡ªå®šä¹‰ Hooks å–ä»£äº†é«˜é˜¶ç»„ä»¶å’Œ Render Propsï¼Œæˆä¸ºé€»è¾‘å¤ç”¨çš„æœ€ä½³æ–¹å¼ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œåº”éµå¾ªç»„ä»¶çš„å•ä¸€èŒè´£åŸåˆ™ï¼Œåˆç†æ‹†åˆ†å’Œå¤ç”¨ç»„ä»¶ï¼ŒåŒæ—¶æ³¨é‡æ€§èƒ½ä¼˜åŒ–å’Œä»£ç è§„èŒƒï¼Œè®©ä½ çš„ React åº”ç”¨æ›´é«˜æ•ˆã€æ›´æ˜“ç»´æŠ¤ã€‚</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Windows Hostã€‘ hostsé…ç½®å¢åŠ è®¿é—®githubæµç•…åº¦]]></title>    <link>https://juejin.cn/post/7584831190730260506</link>    <guid>https://juejin.cn/post/7584831190730260506</guid>    <pubDate>2025-12-18T07:12:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584831190730260506" data-draft-id="7584810656382828553" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Windows Hostã€‘ hostsé…ç½®å¢åŠ è®¿é—®githubæµç•…åº¦"/> <meta itemprop="keywords" content="GitHub,äººå·¥æ™ºèƒ½,Git"/> <meta itemprop="datePublished" content="2025-12-18T07:12:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DKNG"/> <meta itemprop="url" content="https://juejin.cn/user/3659642848425655"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Windows Hostã€‘ hostsé…ç½®å¢åŠ è®¿é—®githubæµç•…åº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3659642848425655/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DKNG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:12:10.000Z" title="Thu Dec 18 2025 07:12:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e}.markdown-body ::selection{background-color:#00325e;color:#fff}.markdown-body blockquote{padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px}.markdown-body blockquote p{font-size:14px;line-height:25px;color:#795548}.markdown-body blockquote p:last-child{margin:0}.markdown-body blockquote:hover{border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)}.markdown-body blockquote code{color:#ff502c}.markdown-body pre{border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap}.markdown-body pre:hover{border-color:#6d9dce}.markdown-body pre&gt;code{padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block}.markdown-body code{background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px}.markdown-body p{font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959}.markdown-body a{color:#00325e;text-decoration:none}.markdown-body a:after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px}.markdown-body a:hover{box-shadow:0 1px}.markdown-body table{max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s}.markdown-body table:hover{box-shadow:0 3px 10px 0 rgba(185,169,103,.24)}.markdown-body table tr th{border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px}.markdown-body table tr td{border:1px solid rgba(243,202,142,.4);padding:12px 15px}.markdown-body table tbody tr{transition:all .2s}.markdown-body table tbody tr:hover td{border-color:#f3ca8e;background-color:#fff8e0;z-index:1}.markdown-body img{max-width:100%}.markdown-body h1{font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative}.markdown-body h1&gt;code{font-size:20px}.markdown-body h1:before{content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute}.markdown-body h2{font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative}.markdown-body h2&gt;code{font-size:18px}.markdown-body h2:before{content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute}.markdown-body h3{font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative}.markdown-body h3&gt;code{font-size:16px}.markdown-body h3:before{content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute}.markdown-body h4{font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative}.markdown-body h4&gt;code{font-size:14px}.markdown-body h4:before{content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute}.markdown-body h5{font-size:12px;margin-top:30px;margin-bottom:10px}.markdown-body h5&gt;code{font-size:12px}.markdown-body h6{font-size:10px;margin-top:30px;margin-bottom:10px}.markdown-body h6&gt;code{font-size:10px}.markdown-body h1,.markdown-body h2{color:#ff502c}.markdown-body hr{height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)}.markdown-body hr:nth-child(2n){background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)}.markdown-body ul{padding-inline-start:20px}.markdown-body ul li{list-style-type:"ğŸ”¸"}.markdown-body ul li li{list-style-type:"â—»ï¸"}.markdown-body ul li li li{list-style-type:"â–«ï¸"}.markdown-body ol{padding-inline-start:20px}.markdown-body ol ::marker{color:#ff9800}.markdown-body ol,.markdown-body ul{line-height:2em}.markdown-body li{padding-inline-start:1ch}.markdown-body li.task-list-item{list-style:none;padding-inline-start:0}.markdown-body li input{padding-right:2px}.markdown-body li input[type=checkbox i]{appearance:none}.markdown-body li input:before{content:"ğŸŸ©";display:block;width:13px;height:13px}.markdown-body li input:checked:before{content:"âœ…"}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-sulphurpool-light">.hljs-comment,.hljs-quote{color:#6b7394}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c94922}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#c76b29}.hljs-bullet,.hljs-string,.hljs-symbol{color:#ac9739}.hljs-section,.hljs-title{color:#3d8fd1}.hljs-keyword,.hljs-selector-tag{color:#6679cc}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f5f7ff;color:#5e6687}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>githubå¡é¡¿ï¼Œæ‰“ä¸å¼€æˆ–è€…å¾ˆæ…¢å¯ä»¥è¯•è¯•ä»¥ä¸‹æ–¹æ³•ï¼š</p>
</blockquote>
<p><strong>1.åœ¨çº¿DNSè§£æ</strong></p>
<p>1). github.com<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.ip33.com%2Fdns.html" target="_blank" title="https://www.ip33.com/dns.html" ref="nofollow noopener noreferrer">www.ip33.com/dns.html</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1636f0003bb47fe8dbf99b815525e42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgREtORw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646730&amp;x-signature=qoW6G3RVIjvWHZlRSg48UXsyrIE%3D" alt="image.png" loading="lazy"/></p>
<p>2). github.global.ssl.fastly.net</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/943f5a53162044e0bccce72c74dbb21a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgREtORw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646730&amp;x-signature=Bm7zoinfwrI%2BkSVvb5NUhhAjgFA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>2.æ‰¾åˆ° Hostsæ–‡ä»¶</strong></p>
<ul>
<li>Windows:Â <code>C:\Windows\System32\drivers\etc\hosts</code></li>
<li>Mac/Linux:Â <code>/etc/hosts</code></li>
</ul>
<p><strong>3.å°†Dyn Dnså¯¹åº”çš„IPå–å‡ºï¼Œé…ç½®åˆ° windows Hostsæ–‡ä»¶ä¸­</strong></p>
<pre><code class="hljs language-java" lang="java">#è®¿é—® github
<span class="hljs-number">140.82</span><span class="hljs-number">.116</span><span class="hljs-number">.4</span>  github.com
<span class="hljs-number">74.86</span><span class="hljs-number">.142</span><span class="hljs-number">.55</span>  github.global.ssl.fastly.net

</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dcdc7d7173d4fc5ab42547c3f76cdc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgREtORw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766646730&amp;x-signature=pf8mKM7E2kuwwhADkKfQ4xXdlbA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>4.æ¸…é™¤DNSç¼“å­˜(ä¿®æ”¹å®Œhostsæ–‡ä»¶åå¿…é¡»åˆ·æ–°æ‰èƒ½ç”Ÿæ•ˆ)</strong></p>
<ul>
<li>Windowsç³»ç»Ÿä½¿ç”¨å‘½ä»¤:cmd</li>
</ul>
<pre><code class="hljs language-cmd" lang="cmd">ipconfig /flushdns

</code></pre>
<ul>
<li>Linuxç³»ç»Ÿæ‰§è¡Œï¼šbash</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo systemd-resolve --flush-caches

</code></pre>
<ul>
<li>MacOSä½¿ç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo dscacheutil -flushcache sudo killall -HUP mDNSResponder
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>