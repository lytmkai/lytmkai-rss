<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[.Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆ]]></title>    <link>https://juejin.cn/post/7585031571889405995</link>    <guid>https://juejin.cn/post/7585031571889405995</guid>    <pubDate>2025-12-18T10:11:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585031571889405995" data-draft-id="7584807992031969322" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=".Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆ"/> <meta itemprop="keywords" content="åç«¯,GitHub"/> <meta itemprop="datePublished" content="2025-12-18T10:11:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·2199167970391"/> <meta itemprop="url" content="https://juejin.cn/user/299483255543757"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            .Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/299483255543757/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·2199167970391
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:11:56.000Z" title="Thu Dec 18 2025 10:11:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">åŸºäºEFCoreå®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§</h3>
<p>åœ¨.NETåº”ç”¨ä¸­ï¼Œé€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°æ•°æ®æƒé™ç®¡æ§ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹å¼è®¾è®¡ï¼š</p>
<h4 data-id="heading-1">æ•°æ®æƒé™å±‚çº§å®šä¹‰</h4>
<p>æ•°æ®æƒé™é€šå¸¸åˆ†ä¸ºå››ä¸ªå±‚çº§ï¼šæ‰€æœ‰æ•°æ®ã€æœ¬éƒ¨é—¨æ•°æ®ã€æœ¬éƒ¨é—¨åŠä¸‹å±éƒ¨é—¨æ•°æ®ã€æœ¬äººæ•°æ®ã€‚é€šè¿‡ä»“å‚¨æ¨¡å¼å¯ä»¥ç»Ÿä¸€å°è£…è¿™äº›æŸ¥è¯¢é€»è¾‘ã€‚</p>
<h3 data-id="heading-2">å…·ä½“å®ç°å¯å‚è€ƒNetCoreKevinçš„Kevin.EntityFrameworkCore.Repository`å’Œkevin.PermissionæœåŠ¡æ¨¡å—ï¼šå®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆ</h3>
<p>åŸºäºNETæ„å»ºçš„ç°ä»£åŒ–AIæ™ºèƒ½ä½“Saasä¼ä¸šçº§æ¶æ„ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/580515eaf81e46d08cc8f92335c136c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MjE5OTE2Nzk3MDM5MQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657516&amp;x-signature=x0g2JJt0GSFLZkaLNUYaXlgfBzE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
é¡¹ç›®åœ°å€ï¼šgithubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjunkai-li%2FNetCoreKevin" target="_blank" title="https://github.com/junkai-li/NetCoreKevin" ref="nofollow noopener noreferrer">github.com/junkai-li/Nâ€¦</a>
Gitee: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fnetkevin-li%2FNetCoreKevin" target="_blank" title="https://gitee.com/netkevin-li/NetCoreKevin" ref="nofollow noopener noreferrer">gitee.com/netkevin-liâ€¦</a></p>
<h4 data-id="heading-3">åŸºç¡€ä»“å‚¨æ¥å£è®¾è®¡</h4>
<p>å®šä¹‰åŸºç¡€ä»“å‚¨æ¥å£ï¼ŒåŒ…å«æ•°æ®æƒé™è¿‡æ»¤æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IRepository</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-keyword">where</span> <span class="hljs-title">T</span> : <span class="hljs-keyword">class</span>
{
    <span class="hljs-function">IQueryable&lt;T&gt; <span class="hljs-title">GetAll</span>()</span>;
    <span class="hljs-function">IQueryable&lt;T&gt; <span class="hljs-title">GetByDepartment</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> departmentId</span>)</span>;
    <span class="hljs-function">IQueryable&lt;T&gt; <span class="hljs-title">GetByDepartmentWithChildren</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> departmentId</span>)</span>;
    <span class="hljs-function">IQueryable&lt;T&gt; <span class="hljs-title">GetByUser</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> userId</span>)</span>;
}
</code></pre>
<h4 data-id="heading-4">å®ç°æ•°æ®æƒé™è¿‡æ»¤</h4>
<p>åœ¨å…·ä½“ä»“å‚¨å®ç°ä¸­ï¼Œé€šè¿‡EFCoreçš„æŸ¥è¯¢è¡¨è¾¾å¼å®ç°ä¸åŒçº§åˆ«çš„æ•°æ®è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Repository</span>&lt;<span class="hljs-title">T</span>&gt; : <span class="hljs-title">IRepository</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-keyword">where</span> <span class="hljs-title">T</span> : <span class="hljs-keyword">class</span>, <span class="hljs-title">IDataPermission</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> DbContext _context;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ICurrentUser _currentUser;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Repository</span>(<span class="hljs-params">DbContext context, ICurrentUser currentUser</span>)</span>
    {
        _context = context;
        _currentUser = currentUser;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">IQueryable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">GetAll</span>()</span>
    {
        <span class="hljs-keyword">return</span> _context.Set&lt;T&gt;().AsQueryable();
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">IQueryable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">GetByDepartment</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> departmentId</span>)</span>
    {
        <span class="hljs-keyword">return</span> _context.Set&lt;T&gt;().Where(x =&gt; x.DepartmentId == departmentId);
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> IQueryable&lt;T&gt; <span class="hljs-title">GetByDepartmentWithChildren</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> departmentId</span>)</span>
    {
        <span class="hljs-keyword">var</span> departmentIds = GetChildDepartmentIds(departmentId);
        <span class="hljs-keyword">return</span> _context.Set&lt;T&gt;().Where(x =&gt; departmentIds.Contains(x.DepartmentId));
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">IQueryable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">GetByUser</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> userId</span>)</span>
    {
        <span class="hljs-keyword">return</span> _context.Set&lt;T&gt;().Where(x =&gt; x.CreatedBy == userId);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> List&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">GetChildDepartmentIds</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> parentId</span>)</span>
    {
        <span class="hljs-comment">// é€’å½’è·å–æ‰€æœ‰å­éƒ¨é—¨ID</span>
    }
}
</code></pre>
<h4 data-id="heading-5">å®ä½“æ¥å£è®¾è®¡</h4>
<p>å®šä¹‰æ•°æ®æƒé™ç›¸å…³å®ä½“æ¥å£ï¼Œç¡®ä¿å®ä½“åŒ…å«å¿…è¦å­—æ®µï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IDataPermission</span>
{
    <span class="hljs-built_in">int</span> DepartmentId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-built_in">int</span> CreatedBy { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</code></pre>
<h4 data-id="heading-6">åŠ¨æ€æƒé™æŸ¥è¯¢æ‰©å±•</h4>
<p>åˆ›å»ºæ‰©å±•æ–¹æ³•ï¼Œæ ¹æ®ç”¨æˆ·æƒé™åŠ¨æ€é€‰æ‹©æŸ¥è¯¢èŒƒå›´ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">RepositoryExtensions</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IQueryable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">WithDataPermission</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IRepository&lt;T&gt; repository, DataPermissionLevel level</span>) 
        <span class="hljs-keyword">where</span> T : <span class="hljs-keyword">class</span>, IDataPermission</span>
    {
        <span class="hljs-keyword">switch</span>(level)
        {
            <span class="hljs-keyword">case</span> DataPermissionLevel.All:
                <span class="hljs-keyword">return</span> repository.GetAll();
            <span class="hljs-keyword">case</span> DataPermissionLevel.Department:
                <span class="hljs-keyword">return</span> repository.GetByDepartment(currentUser.DepartmentId);
            <span class="hljs-keyword">case</span> DataPermissionLevel.DepartmentWithChildren:
                <span class="hljs-keyword">return</span> repository.GetByDepartmentWithChildren(currentUser.DepartmentId);
            <span class="hljs-keyword">case</span> DataPermissionLevel.Owner:
                <span class="hljs-keyword">return</span> repository.GetByUser(currentUser.UserId);
            <span class="hljs-literal">default</span>:
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentOutOfRangeException();
        }
    }
}
</code></pre>
<h4 data-id="heading-7">æƒé™æšä¸¾å®šä¹‰</h4>
<p>å®šä¹‰æ•°æ®æƒé™çº§åˆ«æšä¸¾ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> DataPermissionLevel
{
    All,
    Department,
    DepartmentWithChildren,
    Owner
}
</code></pre>
<h4 data-id="heading-8">ä½¿ç”¨ç¤ºä¾‹</h4>
<p>åœ¨æœåŠ¡å±‚æˆ–æ§åˆ¶å™¨ä¸­ä½¿ç”¨æ•°æ®æƒé™è¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">EmployeeService</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> IRepository&lt;Employee&gt; _repository;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> ICurrentUser _currentUser;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">EmployeeService</span>(<span class="hljs-params">IRepository&lt;Employee&gt; repository, ICurrentUser currentUser</span>)</span>
    {
        _repository = repository;
        _currentUser = currentUser;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Employee&gt; <span class="hljs-title">GetEmployees</span>(<span class="hljs-params">DataPermissionLevel level</span>)</span>
    {
        <span class="hljs-keyword">return</span> _repository.WithDataPermission(level).ToList();
    }
}
</code></pre>
<h4 data-id="heading-9">æƒé™æ§åˆ¶ä¸­é—´ä»¶</h4>
<p>å¯ä»¥åˆ›å»ºä¸­é—´ä»¶è‡ªåŠ¨è®¾ç½®å½“å‰ç”¨æˆ·çš„æ•°æ®æƒé™çº§åˆ«ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DataPermissionMiddleware</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> RequestDelegate _next;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">DataPermissionMiddleware</span>(<span class="hljs-params">RequestDelegate next</span>)</span>
    {
        _next = next;
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">InvokeAsync</span>(<span class="hljs-params">HttpContext context, ICurrentUser currentUser</span>)</span>
    {
        <span class="hljs-comment">// æ ¹æ®ç”¨æˆ·è§’è‰²è®¾ç½®æ•°æ®æƒé™çº§åˆ«</span>
        currentUser.DataPermissionLevel = GetPermissionLevelFromClaims(context.User);
        
        <span class="hljs-keyword">await</span> _next(context);
    }
}
</code></pre>
<p>è¿™ç§å®ç°æ–¹å¼é€šè¿‡ä»“å‚¨æ¨¡å¼ç»Ÿä¸€äº†æ•°æ®æƒé™æ§åˆ¶é€»è¾‘ï¼Œä½¿ä¸šåŠ¡ä»£ç æ— éœ€å…³å¿ƒå…·ä½“æƒé™å®ç°ç»†èŠ‚ï¼Œåªéœ€æŒ‡å®šæƒé™çº§åˆ«å³å¯è‡ªåŠ¨è¿‡æ»¤æ•°æ®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 4 ç¯‡ï¼šä¸€æ¬¡å®Œç¾ vs äº”è½®å¯¹è¯ - UnoCSS é…ç½®çš„æ­£ç¡®å§¿åŠ¿]]></title>    <link>https://juejin.cn/post/7584472215976116239</link>    <guid>https://juejin.cn/post/7584472215976116239</guid>    <pubDate>2025-12-17T12:07:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584472215976116239" data-draft-id="7584633505104724020" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 4 ç¯‡ï¼šä¸€æ¬¡å®Œç¾ vs äº”è½®å¯¹è¯ - UnoCSS é…ç½®çš„æ­£ç¡®å§¿åŠ¿"/> <meta itemprop="keywords" content="å‰ç«¯,uni-app,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-17T12:07:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HashTang"/> <meta itemprop="url" content="https://juejin.cn/user/1117561754756488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 4 ç¯‡ï¼šä¸€æ¬¡å®Œç¾ vs äº”è½®å¯¹è¯ - UnoCSS é…ç½®çš„æ­£ç¡®å§¿åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561754756488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HashTang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T12:07:48.000Z" title="Wed Dec 17 2025 12:07:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><blockquote>
<p>å¾ˆå¤šæ•™ç¨‹å‘Šè¯‰ä½ "å†™å¥½æç¤ºè¯å°±èƒ½è®© AI ä¸€æ¬¡ç»™å‡ºæ­£ç¡®ç­”æ¡ˆ"ï¼Œä½†ç°å®æ˜¯ï¼š<strong>ä½ ä¸å¯èƒ½ä¸€å¼€å§‹å°±çŸ¥é“æ‰€æœ‰ç»†èŠ‚</strong>ã€‚çœŸæ­£é«˜æ•ˆçš„ AI åä½œï¼Œæ˜¯åœ¨å¯¹è¯ä¸­é€æ­¥æ˜ç¡®éœ€æ±‚ã€‚è¿™ç¯‡æ–‡ç« é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ UnoCSS é…ç½®æ¡ˆä¾‹ï¼Œå±•ç¤ºæˆ‘å’Œ TRAE SOLO çš„<strong>çœŸå®äº¤äº’è¿‡ç¨‹</strong>â€”â€”ä»æ¨¡ç³Šæƒ³æ³•åˆ°å®Œæ•´æ–¹æ¡ˆï¼Œä¸­é—´ç»å†äº†å“ªäº›æ²Ÿé€šå’Œè°ƒæ•´ã€‚</p>
<p>è¿™æ˜¯ã€Š<a href="https://juejin.cn/column/7579556047783624756" target="_blank" title="https://juejin.cn/column/7579556047783624756">AI ç¼–ç¨‹å®æˆ˜ï¼šTRAE SOLO å…¨æ ˆå¼€å‘æŒ‡å—</a>ã€‹ä¸“æ çš„ç¬¬å››ç¯‡æ–‡ç« ï¼Œå¸¦ä½ å­¦ä¼šå¦‚ä½•ä¸ AI æ­£ç¡®çš„æ²Ÿé€šåä½œã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ï¼šåˆ«è¢«"å®Œç¾æç¤ºè¯"éª—äº†</h2>
<h3 data-id="heading-1">1.1 ä¸€ä¸ªå¸¸è§çš„è¯¯åŒº</h3>
<p>ç½‘ä¸Šå¾ˆå¤š AI æ•™ç¨‹ä¼šç»™ä½ çœ‹è¿™æ ·çš„"å®Œç¾æç¤ºè¯"ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘é…ç½® UnoCSSï¼Œé¡¹ç›®ç¯å¢ƒå’Œéœ€æ±‚å¦‚ä¸‹ï¼š
ã€é¡¹ç›®ç¯å¢ƒã€‘UniApp + Vue3 + Viteï¼Œç›®æ ‡å¹³å°å¾®ä¿¡å°ç¨‹åº
ã€åŠŸèƒ½éœ€æ±‚ã€‘æ”¯æŒ attributifyã€@applyã€å›¾æ ‡ã€å®‰å…¨åŒºé€‚é…
ã€å·²çŸ¥é—®é¢˜ã€‘å°ç¨‹åº transform ç±»éœ€è¦é¢„è®¾ CSS å˜é‡
ã€è¾“å‡ºè¦æ±‚ã€‘å®Œæ•´çš„ uno.config.ts é…ç½®æ–‡ä»¶
</code></pre>
<p>ç„¶åå‘Šè¯‰ä½ ï¼š"çœ‹ï¼Œä¸€æ¬¡å°±èƒ½å¾—åˆ°å®Œç¾ç­”æ¡ˆï¼"</p>
<p><strong>ä½†é—®é¢˜æ˜¯</strong>ï¼š</p>
<ul>
<li>ä½ ä¸€å¼€å§‹æ€ä¹ˆçŸ¥é“éœ€è¦"å®‰å…¨åŒºé€‚é…"ï¼Ÿ</li>
<li>ä½ æ€ä¹ˆçŸ¥é“"transform ç±»éœ€è¦é¢„è®¾ CSS å˜é‡"ï¼Ÿ</li>
<li>è¿™äº›éƒ½æ˜¯<strong>è¸©å‘ä¹‹åæ‰çŸ¥é“çš„</strong></li>
</ul>
<h3 data-id="heading-2">1.2 çœŸå®çš„ AI åä½œæ˜¯ä»€ä¹ˆæ ·çš„</h3>
<p>çœŸå®çš„ AI åä½œæ˜¯ä¸€ä¸ª<strong>æ¸è¿›å¼å¯¹è¯</strong>çš„è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">ç¬¬ 1 è½®ï¼šæˆ‘æœ‰ä¸ªæ¨¡ç³Šçš„éœ€æ±‚
    â†“
AIï¼šç»™å‡ºåˆæ­¥æ–¹æ¡ˆ + æ‰§è¡Œè®¡åˆ’
    â†“
ç¬¬ 2 è½®ï¼šæˆ‘å‘ç°é—®é¢˜ / è¡¥å……ç»†èŠ‚
    â†“
AIï¼šè°ƒæ•´æ–¹æ¡ˆ
    â†“
ç¬¬ 3 è½®ï¼šé‡åˆ°æŠ¥é”™ / æ ·å¼ä¸ç”Ÿæ•ˆ
    â†“
AIï¼šæ’æŸ¥é—®é¢˜ + ä¿®å¤
    â†“
æœ€ç»ˆï¼šå¾—åˆ°å®Œæ•´å¯ç”¨çš„æ–¹æ¡ˆ
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šå®Œæ•´å±•ç¤ºå’Œ TRAE SOLO é…ç½® UnoCSS çš„<strong>çœŸå®å¯¹è¯è¿‡ç¨‹</strong>ã€‚</p>
<h2 data-id="heading-3">äºŒã€ç¬¬ä¸€è½®å¯¹è¯ï¼šä»æ¨¡ç³Šéœ€æ±‚å¼€å§‹</h2>
<h3 data-id="heading-4">2.1 æˆ‘çš„ç¬¬ä¸€å¥è¯</h3>
<p>åˆšå¼€å§‹ï¼Œæˆ‘å¯¹ UnoCSS çš„äº†è§£å¾ˆæœ‰é™ï¼ŒåªçŸ¥é“å®ƒæ˜¯"åŸå­åŒ– CSS"ã€‚æˆ‘çš„ç¬¬ä¸€å¥è¯å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé¡¹ç›®éœ€è¦ç”¨ UnoCSSï¼Œå¸®æˆ‘é…ç½®ä¸€ä¸‹
</code></pre>
<h3 data-id="heading-5">2.2 TRAE SOLO çš„å“åº”ï¼šå…ˆç»™æ‰§è¡Œè®¡åˆ’</h3>
<p>TRAE SOLO æ²¡æœ‰ç›´æ¥å¼€å§‹å†™ä»£ç ï¼Œè€Œæ˜¯å…ˆç»™å‡ºäº†<strong>æ‰§è¡Œè®¡åˆ’</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ é…ç½® UnoCSSã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘éœ€è¦å…ˆäº†è§£ä¸€äº›ä¿¡æ¯ï¼š

ğŸ“‹ æ‰§è¡Œè®¡åˆ’ï¼š
1. åˆ†æé¡¹ç›®ç»“æ„ï¼Œç¡®å®šæŠ€æœ¯æ ˆ
2. é€‰æ‹©åˆé€‚çš„ UnoCSS é¢„è®¾
3. ç”Ÿæˆé…ç½®æ–‡ä»¶
4. é…ç½® Vite æ’ä»¶

ğŸ¤” æˆ‘æœ‰å‡ ä¸ªé—®é¢˜ï¼š
1. è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„é¡¹ç›®ï¼Ÿï¼ˆVue/React/UniAppï¼‰
2. ç›®æ ‡è¿è¡Œå¹³å°æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆWeb/å°ç¨‹åº/Appï¼‰
3. æœ‰æ²¡æœ‰ç‰¹åˆ«æƒ³è¦çš„åŠŸèƒ½ï¼Ÿï¼ˆå›¾æ ‡/attributify æ¨¡å¼ç­‰ï¼‰

è¯·å‘Šè¯‰æˆ‘è¿™äº›ä¿¡æ¯ï¼Œæˆ–è€…æˆ‘å¯ä»¥å…ˆåˆ†æä½ çš„é¡¹ç›®ç»“æ„æ¥åˆ¤æ–­ã€‚
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šTRAE SOLO ä¸»åŠ¨<strong>è¯¢é—®ä¸Šä¸‹æ–‡</strong>ï¼Œè€Œä¸æ˜¯ççŒœã€‚</p>
<h3 data-id="heading-6">2.3 æˆ‘è¡¥å……ä¿¡æ¯</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šUniApp + Vue3 é¡¹ç›®ï¼Œä¸»è¦è·‘å¾®ä¿¡å°ç¨‹åºï¼Œä¹Ÿè¦æ”¯æŒ H5ã€‚
    åŠŸèƒ½çš„è¯ï¼Œæˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œä½ çœ‹ç€é…å§ï¼Œå¸¸ç”¨çš„éƒ½åŠ ä¸Šã€‚
</code></pre>
<h3 data-id="heading-7">2.4 TRAE SOLO åˆ†æé¡¹ç›®åç»™å‡ºæ–¹æ¡ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šæˆ‘åˆ†æäº†ä½ çš„é¡¹ç›®ç»“æ„ï¼Œå‘ç°ï¼š
- æ¡†æ¶ï¼šUniApp + Vue3 + Vite
- UI åº“ï¼šå·²å®‰è£… wot-design-uni
- ç›®æ ‡ï¼šå¾®ä¿¡å°ç¨‹åº + H5

ğŸ“‹ æ›´æ–°æ‰§è¡Œè®¡åˆ’ï¼š

1. å®‰è£…ä¾èµ–
   - unocss
   - @uni-helper/unocss-preset-uni ï¼ˆUniApp ä¸“ç”¨é¢„è®¾ï¼Œå¿…é¡»ï¼‰
   - @iconify-json/carbon ï¼ˆå›¾æ ‡åº“ï¼Œå¯é€‰ï¼‰

2. åˆ›å»º uno.config.tsï¼ŒåŒ…å«ï¼š
   - presetUniï¼šå°ç¨‹åºé€‚é…
   - presetAttributifyï¼šæ”¯æŒå±æ€§åŒ–å†™æ³•
   - presetIconsï¼šå›¾æ ‡æ”¯æŒ
   - transformerDirectivesï¼šæ”¯æŒ @apply æŒ‡ä»¤

3. ä¿®æ”¹ vite.config.tsï¼Œæ·»åŠ  UnoCSS æ’ä»¶

4. åœ¨ main.ts ä¸­å¼•å…¥ uno.css

æ˜¯å¦æŒ‰è¿™ä¸ªè®¡åˆ’æ‰§è¡Œï¼Ÿæˆ–è€…ä½ æƒ³è°ƒæ•´ä»€ä¹ˆï¼Ÿ
</code></pre>
<h3 data-id="heading-8">2.5 æˆ‘ç¡®è®¤æ‰§è¡Œ</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šå¯ä»¥ï¼Œå°±æŒ‰è¿™ä¸ªæ¥
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¥½çš„ï¼Œå¼€å§‹æ‰§è¡Œ...

âœ… æ­£åœ¨å®‰è£…ä¾èµ–...
âœ… åˆ›å»º uno.config.ts...
âœ… ä¿®æ”¹ vite.config.ts...
âœ… ä¿®æ”¹ main.ts...

é…ç½®å®Œæˆï¼ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š

&lt;view class="flex items-center gap-4 p-4 bg-white rounded-xl"&gt;
  &lt;text class="text-lg font-bold"&gt;Hello UnoCSS&lt;/text&gt;
&lt;/view&gt;

è¿è¡Œ pnpm dev:mp-weixin è¯•è¯•çœ‹æ•ˆæœã€‚
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€ç¬¬äºŒè½®å¯¹è¯ï¼šé‡åˆ°é—®é¢˜ï¼Œç»§ç»­æ²Ÿé€š</h2>
<h3 data-id="heading-10">3.1 æˆ‘å‘ç°æ ·å¼ä¸ç”Ÿæ•ˆ</h3>
<p>è¿è¡Œé¡¹ç›®åï¼Œæˆ‘å‘ç°éƒ¨åˆ†æ ·å¼ä¸ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šæ ·å¼å¤§éƒ¨åˆ†ç”Ÿæ•ˆäº†ï¼Œä½†æ˜¯ translate-x-2 è¿™ä¸ªç±»æ²¡æ•ˆæœï¼Œ
    å…ƒç´ æ²¡æœ‰ç§»åŠ¨
</code></pre>
<h3 data-id="heading-11">3.2 TRAE SOLO æ’æŸ¥é—®é¢˜</h3>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šè®©æˆ‘æ£€æŸ¥ä¸€ä¸‹...

æˆ‘æŸ¥çœ‹äº†ç”Ÿæˆçš„ CSSï¼Œå‘ç° translate-x-2 ç”Ÿæˆçš„ä»£ç æ˜¯ï¼š

transform: translateX(var(--un-translate-x));

é—®é¢˜åœ¨äºï¼šå°ç¨‹åºç¯å¢ƒæ²¡æœ‰é¢„è®¾ --un-translate-x è¿™ä¸ª CSS å˜é‡ã€‚

åœ¨æµè§ˆå™¨ä¸­ï¼ŒUnoCSS ä¼šé€šè¿‡ :root é€‰æ‹©å™¨é¢„è®¾è¿™äº›å˜é‡ï¼Œ
ä½†å°ç¨‹åºä¸æ”¯æŒ :root é€‰æ‹©å™¨ã€‚

ğŸ”§ ä¿®å¤æ–¹æ¡ˆï¼š
åœ¨ uno.config.ts ä¸­æ·»åŠ  preflightsï¼Œæ‰‹åŠ¨ä¸ºå°ç¨‹åºå…ƒç´ é¢„è®¾å˜é‡ã€‚

æ˜¯å¦éœ€è¦æˆ‘å¸®ä½ ä¿®å¤ï¼Ÿ
</code></pre>
<h3 data-id="heading-12">3.3 æˆ‘è®©å®ƒä¿®å¤</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šå¸®æˆ‘ä¿®å¤å§
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¥½çš„ï¼Œæˆ‘æ¥ä¿®æ”¹ uno.config.ts...

æ·»åŠ äº†ä»¥ä¸‹é…ç½®ï¼š

preflights: [
  {
    layer: 'unocss-transform-fix',
    getCSS: () =&gt; `
page, view, text, image {
  --un-translate-x: 0;
  --un-translate-y: 0;
  --un-rotate: 0;
  --un-scale-x: 1;
  --un-scale-y: 1;
  /* ... å…¶ä»–å˜é‡ */
}
`,
  },
],

âœ… å·²ä¿®å¤ï¼Œé‡æ–°è¿è¡Œé¡¹ç›®è¯•è¯•ã€‚
</code></pre>
<h3 data-id="heading-13">3.4 æˆ‘éªŒè¯ä¿®å¤æˆåŠŸ</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šå¥½äº†ï¼Œtranslate ç”Ÿæ•ˆäº†
</code></pre>
<h2 data-id="heading-14">å››ã€ç¬¬ä¸‰è½®å¯¹è¯ï¼šè¿½åŠ æ–°éœ€æ±‚</h2>
<h3 data-id="heading-15">4.1 æˆ‘æƒ³æ·»åŠ å®‰å…¨åŒºé€‚é…</h3>
<p>å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç° iPhone åº•éƒ¨æœ‰å®‰å…¨åŒºåŸŸé®æŒ¡å†…å®¹ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šiPhone åº•éƒ¨æœ‰ä¸ªæ¨ªæ¡ä¼šæŒ¡ä½å†…å®¹ï¼ŒUnoCSS èƒ½å¤„ç†è¿™ä¸ªå—ï¼Ÿ
</code></pre>
<h3 data-id="heading-16">4.2 TRAE SOLO ç»™å‡ºæ–¹æ¡ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šè¿™æ˜¯ iPhone çš„å®‰å…¨åŒºåŸŸé—®é¢˜ã€‚å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ UnoCSS è§„åˆ™æ¥è§£å†³ã€‚

ğŸ“‹ æ–¹æ¡ˆï¼š
æ·»åŠ ä»¥ä¸‹è‡ªå®šä¹‰è§„åˆ™ï¼š
- pb-safeï¼šåº•éƒ¨å®‰å…¨åŒºå†…è¾¹è·
- pt-safeï¼šé¡¶éƒ¨å®‰å…¨åŒºå†…è¾¹è·ï¼ˆåˆ˜æµ·å±ï¼‰
- p-safeï¼šå››è¾¹å®‰å…¨åŒºå†…è¾¹è·

ä½¿ç”¨æ–¹å¼ï¼š
&lt;view class="pb-safe"&gt;åº•éƒ¨å†…å®¹ä¼šé¿å¼€å®‰å…¨åŒº&lt;/view&gt;

æ˜¯å¦éœ€è¦æˆ‘æ·»åŠ è¿™äº›è§„åˆ™ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šåŠ ä¸Šå§
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¥½çš„ï¼Œåœ¨ uno.config.ts çš„ rules ä¸­æ·»åŠ ï¼š

rules: [
  ['pb-safe', { 'padding-bottom': 'env(safe-area-inset-bottom)' }],
  ['pt-safe', { 'padding-top': 'env(safe-area-inset-top)' }],
  ['p-safe', {
    padding: 'env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)',
  }],
],

âœ… å·²æ·»åŠ ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨ pb-safe ç±»äº†ã€‚
</code></pre>
<h2 data-id="heading-17">äº”ã€ç¬¬å››è½®å¯¹è¯ï¼šä¼˜åŒ–å¼€å‘ä½“éªŒ</h2>
<h3 data-id="heading-18">5.1 æˆ‘è§‰å¾—ç±»åå¤ªé•¿äº†</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šflex items-center justify-between æ¯æ¬¡éƒ½è¦å†™è¿™ä¹ˆé•¿ï¼Œ
    æœ‰æ²¡æœ‰åŠæ³•ç®€åŒ–ï¼Ÿ
</code></pre>
<h3 data-id="heading-19">5.2 TRAE SOLO ä»‹ç» shortcuts</h3>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¯ä»¥ç”¨ UnoCSS çš„ shortcuts åŠŸèƒ½ï¼ŒæŠŠå¸¸ç”¨ç»„åˆå®šä¹‰æˆçŸ­ç±»åã€‚

æ¯”å¦‚ï¼š
- center = flex justify-center items-center
- between = flex justify-between items-center

ä½ æƒ³å®šä¹‰å“ªäº›å¿«æ·æ–¹å¼ï¼Ÿæˆ–è€…æˆ‘æ ¹æ®ä½ çš„ä»£ç åˆ†æå¸¸ç”¨ç»„åˆï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä½ åˆ†æä¸€ä¸‹å§ï¼Œçœ‹å“ªäº›ç”¨å¾—å¤š
</code></pre>
<h3 data-id="heading-20">5.3 TRAE SOLO åˆ†æä»£ç åç»™å‡ºå»ºè®®</h3>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šæˆ‘æ‰«æäº†ä½ çš„ä»£ç ï¼Œå‘ç°ä»¥ä¸‹ç»„åˆå‡ºç°é¢‘ç‡è¾ƒé«˜ï¼š

ğŸ“Š ä½¿ç”¨é¢‘ç‡åˆ†æï¼š
1. flex items-center ï¼ˆå‡ºç° 23 æ¬¡ï¼‰
2. flex items-center justify-between ï¼ˆå‡ºç° 15 æ¬¡ï¼‰
3. flex items-center justify-center ï¼ˆå‡ºç° 12 æ¬¡ï¼‰
4. flex flex-col ï¼ˆå‡ºç° 8 æ¬¡ï¼‰
5. bg-white rounded-xl p-4 ï¼ˆå‡ºç° 7 æ¬¡ï¼‰

ğŸ”§ å»ºè®®æ·»åŠ çš„ shortcutsï¼š

shortcuts: [
  { 'center': 'flex justify-center items-center' },
  { 'between': 'flex justify-between items-center' },
  { 'col': 'flex flex-col' },
  { 'card': 'bg-white rounded-xl p-4' },
],

æ˜¯å¦æŒ‰è¿™ä¸ªé…ç½®ï¼Ÿæˆ–è€…ä½ æƒ³è°ƒæ•´ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šå¯ä»¥ï¼Œå°±è¿™æ ·
</code></pre>
<h2 data-id="heading-21">å…­ã€ç¬¬äº”è½®å¯¹è¯ï¼šå¤„ç†åŠ¨æ€ç±»åé—®é¢˜</h2>
<h3 data-id="heading-22">6.1 æˆ‘é‡åˆ°åŠ¨æ€ç±»åä¸ç”Ÿæ•ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šæˆ‘æœ‰ä¸ªåœ°æ–¹æ ¹æ®çŠ¶æ€åˆ‡æ¢é¢œè‰²ï¼š

    &lt;text :class="`text-${status}-500`"&gt;çŠ¶æ€&lt;/text&gt;

    status å¯èƒ½æ˜¯ redã€greenã€blueï¼Œä½†æ ·å¼ä¸ç”Ÿæ•ˆ
</code></pre>
<h3 data-id="heading-23">6.2 TRAE SOLO è§£é‡ŠåŸå› å¹¶ç»™æ–¹æ¡ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šè¿™æ˜¯ UnoCSS çš„ä¸€ä¸ªé™åˆ¶ã€‚

ğŸ” åŸå› ï¼š
UnoCSS åœ¨æ„å»ºæ—¶é™æ€æ‰«æä»£ç ï¼Œ`text-${status}-500` è¿™ç§
åŠ¨æ€æ‹¼æ¥çš„ç±»åæ— æ³•è¢«è¯†åˆ«ï¼Œæ‰€ä»¥ä¸ä¼šç”Ÿæˆå¯¹åº”çš„ CSSã€‚

ğŸ”§ è§£å†³æ–¹æ¡ˆæœ‰ä¸‰ç§ï¼š

ã€æ–¹æ¡ˆä¸€ã€‘å¯¹è±¡è¯­æ³•ï¼ˆæ¨èï¼‰
&lt;text :class="{
  'text-red-500': status === 'red',
  'text-green-500': status === 'green',
  'text-blue-500': status === 'blue',
}"&gt;çŠ¶æ€&lt;/text&gt;

ã€æ–¹æ¡ˆäºŒã€‘safelist é¢„å£°æ˜
åœ¨ uno.config.ts ä¸­æ·»åŠ ï¼š
safelist: ['text-red-500', 'text-green-500', 'text-blue-500']

ã€æ–¹æ¡ˆä¸‰ã€‘CSS å˜é‡
&lt;text class="text-[var(--status-color)]"
      :style="{ '--status-color': statusColor }"&gt;
  çŠ¶æ€
&lt;/text&gt;

ä½ çš„åœºæ™¯ç”¨å“ªç§æ–¹æ¡ˆæ¯”è¾ƒåˆé€‚ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šé¢œè‰²å°±è¿™ä¸‰ç§ï¼Œç”¨æ–¹æ¡ˆäºŒå§ï¼Œç®€å•
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¥½çš„ï¼Œå·²æ·»åŠ åˆ° safelistï¼š

safelist: [
  'text-red-500',
  'text-green-500',
  'text-blue-500',
  'i-carbon-code', // ä¹‹å‰å·²æœ‰çš„å›¾æ ‡
],

âœ… ç°åœ¨åŠ¨æ€ç±»åå¯ä»¥æ­£å¸¸å·¥ä½œäº†ã€‚
</code></pre>
<h2 data-id="heading-24">ä¸ƒã€æœ€ç»ˆé…ç½®ï¼šå¤šè½®å¯¹è¯çš„æˆæœ</h2>
<p>ç»è¿‡ 5 è½®å¯¹è¯ï¼Œæœ€ç»ˆçš„ <code>uno.config.ts</code> æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// uno.config.ts</span>
<span class="hljs-comment">// è¿™ä¸ªé…ç½®æ˜¯é€šè¿‡å¤šè½®å¯¹è¯é€æ­¥å®Œå–„çš„ï¼Œä¸æ˜¯ä¸€æ¬¡æ€§å†™å‡ºæ¥çš„</span>

<span class="hljs-keyword">import</span> { presetUni } <span class="hljs-keyword">from</span> <span class="hljs-string">'@uni-helper/unocss-preset-uni'</span>
<span class="hljs-keyword">import</span> {
  defineConfig,
  presetAttributify,
  presetIcons,
  transformerDirectives,
  transformerVariantGroup,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'unocss'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-comment">// ã€ç¬¬ 1 è½®ã€‘åŸºç¡€é¢„è®¾</span>
  <span class="hljs-attr">presets</span>: [
    <span class="hljs-title function_">presetUni</span>({
      <span class="hljs-attr">attributify</span>: {
        <span class="hljs-attr">prefixedOnly</span>: <span class="hljs-literal">true</span>,
      },
    }),
    <span class="hljs-title function_">presetIcons</span>({
      <span class="hljs-attr">scale</span>: <span class="hljs-number">1.2</span>,
      <span class="hljs-attr">warn</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">extraProperties</span>: {
        <span class="hljs-string">'display'</span>: <span class="hljs-string">'inline-block'</span>,
        <span class="hljs-string">'vertical-align'</span>: <span class="hljs-string">'middle'</span>,
      },
    }),
    <span class="hljs-title function_">presetAttributify</span>(),
  ],

  <span class="hljs-comment">// ã€ç¬¬ 1 è½®ã€‘è½¬æ¢å™¨</span>
  <span class="hljs-attr">transformers</span>: [
    <span class="hljs-title function_">transformerDirectives</span>(),
    <span class="hljs-title function_">transformerVariantGroup</span>(),
  ],

  <span class="hljs-comment">// ã€ç¬¬ 2 è½®ã€‘ä¿®å¤å°ç¨‹åº transform ä¸ç”Ÿæ•ˆ</span>
  <span class="hljs-attr">preflights</span>: [
    {
      <span class="hljs-attr">layer</span>: <span class="hljs-string">'unocss-transform-fix'</span>,
      <span class="hljs-attr">getCSS</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-string">`
page, view, text, image {
  --un-translate-x: 0;
  --un-translate-y: 0;
  --un-translate-z: 0;
  --un-rotate: 0;
  --un-rotate-x: 0;
  --un-rotate-y: 0;
  --un-rotate-z: 0;
  --un-skew-x: 0;
  --un-skew-y: 0;
  --un-scale-x: 1;
  --un-scale-y: 1;
  --un-scale-z: 1;
}
`</span>,
    },
  ],

  <span class="hljs-comment">// ã€ç¬¬ 3 è½®ã€‘å®‰å…¨åŒºé€‚é…</span>
  <span class="hljs-attr">rules</span>: [
    [<span class="hljs-string">'p-safe'</span>, {
      <span class="hljs-attr">padding</span>: <span class="hljs-string">'env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)'</span>,
    }],
    [<span class="hljs-string">'pt-safe'</span>, { <span class="hljs-string">'padding-top'</span>: <span class="hljs-string">'env(safe-area-inset-top)'</span> }],
    [<span class="hljs-string">'pb-safe'</span>, { <span class="hljs-string">'padding-bottom'</span>: <span class="hljs-string">'env(safe-area-inset-bottom)'</span> }],
  ],

  <span class="hljs-comment">// ã€ç¬¬ 4 è½®ã€‘å¸¸ç”¨å¿«æ·æ–¹å¼</span>
  <span class="hljs-attr">shortcuts</span>: [
    { <span class="hljs-string">'center'</span>: <span class="hljs-string">'flex justify-center items-center'</span> },
    { <span class="hljs-string">'between'</span>: <span class="hljs-string">'flex justify-between items-center'</span> },
    { <span class="hljs-string">'col'</span>: <span class="hljs-string">'flex flex-col'</span> },
    { <span class="hljs-string">'card'</span>: <span class="hljs-string">'bg-white rounded-xl p-4'</span> },
  ],

  <span class="hljs-comment">// ã€ç¬¬ 5 è½®ã€‘åŠ¨æ€ç±»åé¢„å£°æ˜</span>
  <span class="hljs-attr">safelist</span>: [
    <span class="hljs-string">'text-red-500'</span>,
    <span class="hljs-string">'text-green-500'</span>,
    <span class="hljs-string">'text-blue-500'</span>,
    <span class="hljs-string">'i-carbon-code'</span>,
  ],

  <span class="hljs-comment">// ã€ç¬¬ 1 è½®ã€‘ä¸»é¢˜é…ç½®</span>
  <span class="hljs-attr">theme</span>: {
    <span class="hljs-attr">colors</span>: {
      <span class="hljs-attr">primary</span>: <span class="hljs-string">'var(--wot-color-theme, #0957DE)'</span>,
    },
    <span class="hljs-attr">fontSize</span>: {
      <span class="hljs-string">'2xs'</span>: [<span class="hljs-string">'20rpx'</span>, <span class="hljs-string">'28rpx'</span>],
      <span class="hljs-string">'3xs'</span>: [<span class="hljs-string">'18rpx'</span>, <span class="hljs-string">'26rpx'</span>],
    },
  },
})
</code></pre>
<h2 data-id="heading-25">å…«ã€ç»„ä»¶å¼€å‘ï¼šåŒæ ·æ˜¯å¯¹è¯å¼åä½œ</h2>
<h3 data-id="heading-26">8.1 å¼€å‘å›å¤å¡ç‰‡ç»„ä»¶</h3>
<p>é…ç½®å®Œæˆåï¼Œæˆ‘å¼€å§‹å¼€å‘ä¸šåŠ¡ç»„ä»¶ã€‚åŒæ ·æ˜¯å¯¹è¯å¼åä½œï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šå¸®æˆ‘å†™ä¸€ä¸ªå›å¤å¡ç‰‡ç»„ä»¶ï¼Œç”¨æ¥å±•ç¤º AI ç”Ÿæˆçš„å›å¤ã€‚
    å·¦è¾¹æ˜¯è¯­æ°”æ ‡ç­¾ï¼ˆæ¯”å¦‚"é«˜æƒ…å•†"ï¼‰ï¼Œä¸­é—´æ˜¯å›å¤æ–‡å­—ï¼Œå³è¾¹æ˜¯å¤åˆ¶æŒ‰é’®ã€‚
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ å¼€å‘è¿™ä¸ªç»„ä»¶ã€‚

ğŸ“‹ æ‰§è¡Œè®¡åˆ’ï¼š
1. åˆ›å»º ReplyCard.vue ç»„ä»¶
2. å®šä¹‰ Propsï¼štoneï¼ˆè¯­æ°”ï¼‰ã€textï¼ˆæ–‡æœ¬ï¼‰
3. å®šä¹‰ Eventsï¼šcopyï¼ˆå¤åˆ¶ï¼‰
4. ä½¿ç”¨ UnoCSS åŸå­ç±»å®ç°æ ·å¼

ğŸ¤” å‡ ä¸ªé—®é¢˜ï¼š
1. è¯­æ°”æ ‡ç­¾çš„é¢œè‰²æ˜¯å›ºå®šçš„è¿˜æ˜¯æ ¹æ®å†…å®¹å˜åŒ–ï¼Ÿ
2. å¤åˆ¶æŒ‰é’®æ˜¯å›¾æ ‡è¿˜æ˜¯æ–‡å­—ï¼Ÿ
3. æœ‰æ²¡æœ‰è®¾è®¡ç¨¿å¯ä»¥å‚è€ƒï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šæ ‡ç­¾é¢œè‰²æ ¹æ®è¯­æ°”ç±»å‹è‡ªåŠ¨å˜ï¼Œç”¨å“ˆå¸Œç®—æ³•åˆ†é…å§ã€‚
    å¤åˆ¶æŒ‰é’®ç”¨å›¾æ ‡ã€‚è®¾è®¡ç¨¿æ²¡æœ‰ï¼Œä½ è‡ªå·±è®¾è®¡ä¸€ä¸ªå¥½çœ‹çš„ã€‚
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šæ˜ç™½äº†ï¼Œæˆ‘æ¥å®ç°ï¼š

ã€è®¾è®¡æ–¹æ¡ˆã€‘
- å¡ç‰‡ï¼šç™½è‰²èƒŒæ™¯ã€åœ†è§’ã€å†…è¾¹è·
- æ ‡ç­¾ï¼šå°åœ†è§’ã€æ ¹æ®æ–‡å­—å“ˆå¸Œåˆ†é… 5 ç§é¢œè‰²
- æ–‡æœ¬ï¼šæ·±ç°è‰²ã€æ”¯æŒå¤šè¡Œ
- æŒ‰é’®ï¼šåœ†å½¢ç‚¹å‡»åŒºåŸŸã€å›¾æ ‡å±…ä¸­

å¼€å§‹ç”Ÿæˆä»£ç ...
</code></pre>
<h3 data-id="heading-27">8.2 TRAE SOLO ç”Ÿæˆçš„ç»„ä»¶</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- components/ReplyCard.vue --&gt;
&lt;template&gt;
  &lt;view class="flex items-center gap-2.5 bg-white rounded-xl p-4 pr-2"&gt;
    &lt;!-- è¯­æ°”æ ‡ç­¾ --&gt;
    &lt;view
      v-show="!hideTag"
      class="text-xs font-bold rounded-sm px-2 py-1 flex-shrink-0"
      :style="{ backgroundColor: tagStyle.bg, color: tagStyle.text }"
    &gt;
      {{ tone }}
    &lt;/view&gt;

    &lt;!-- å›å¤æ–‡æœ¬ --&gt;
    &lt;view class="text-sm text-#1F2937 flex-1"&gt;
      {{ text }}
    &lt;/view&gt;

    &lt;!-- å¤åˆ¶æŒ‰é’® --&gt;
    &lt;view
      class="w-9 h-9 center cursor-pointer"
      @click="$emit('copy', text)"
    &gt;
      &lt;image src="/static/images/home/copy.svg" mode="aspectFit" class="w-5 h-5" /&gt;
    &lt;/view&gt;
  &lt;/view&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { computed } from 'vue';

interface Props {
  tone: string;
  text: string;
  hideTag?: boolean;
}

const props = withDefaults(defineProps&lt;Props&gt;(), {
  hideTag: false,
});

defineEmits&lt;{
  copy: [text: string];
}&gt;();

// 5 ç§é¢„è®¾é¢œè‰²
const COLORS = [
  { bg: '#F3E8FF', text: '#8B5CF6' },  // ç´«è‰²
  { bg: '#E6FFFA', text: '#319795' },  // é’è‰²
  { bg: '#FFF5E6', text: '#F56500' },  // æ©™è‰²
  { bg: '#FFE4E6', text: '#E11D48' },  // ç²‰è‰²
  { bg: '#E0F2FE', text: '#0284C7' },  // è“è‰²
];

// æ ¹æ®è¯­æ°”æ–‡å­—å“ˆå¸Œåˆ†é…é¢œè‰²
const tagStyle = computed(() =&gt; {
  let hash = 0;
  for (let i = 0; i &lt; props.tone.length; i++) {
    hash = (hash + props.tone.charCodeAt(i)) % COLORS.length;
  }
  return COLORS[hash];
});
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-28">8.3 æˆ‘æå‡ºä¿®æ”¹æ„è§</h3>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä¸é”™ï¼Œä½†æˆ‘æƒ³åŠ ä¸€ä¸ªåŠŸèƒ½ï¼šæœ‰æ—¶å€™ä¸éœ€è¦æ˜¾ç¤ºæ ‡ç­¾ï¼Œèƒ½ä¸èƒ½åŠ ä¸ª prop æ§åˆ¶ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå·²ç»æœ‰äº†ï¼Œå°±æ˜¯ hideTag è¿™ä¸ª propã€‚

ä½¿ç”¨æ–¹å¼ï¼š
&lt;ReplyCard tone="é«˜æƒ…å•†" text="å›å¤å†…å®¹" :hide-tag="true" /&gt;

è®¾ç½® hide-tag ä¸º true å°±ä¼šéšè—æ ‡ç­¾ã€‚
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šå“¦å¯¹ï¼Œæˆ‘æ²¡æ³¨æ„çœ‹ã€‚é‚£å†åŠ ä¸ªéœ€æ±‚ï¼šå¤åˆ¶æˆåŠŸåç»™ä¸ªåé¦ˆ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼šå¤åˆ¶åé¦ˆå»ºè®®åœ¨çˆ¶ç»„ä»¶å¤„ç†ï¼Œå› ä¸ºï¼š
1. å¡ç‰‡ç»„ä»¶åº”è¯¥ä¿æŒç®€å•ï¼Œåªè´Ÿè´£ UI
2. å¤åˆ¶é€»è¾‘å’Œ toast æç¤ºæ˜¯ä¸šåŠ¡é€»è¾‘ï¼Œæ”¾çˆ¶ç»„ä»¶æ›´åˆé€‚

çˆ¶ç»„ä»¶è¿™æ ·ç”¨ï¼š

&lt;ReplyCard
  tone="é«˜æƒ…å•†"
  text="å›å¤å†…å®¹"
  @copy="handleCopy"
/&gt;

const handleCopy = async (text: string) =&gt; {
  await copyText(text);
  toast.success('å·²å¤åˆ¶');
};

ä½ è§‰å¾—è¿™æ ·åˆç†å—ï¼Ÿè¿˜æ˜¯å¸Œæœ›æŠŠ toast æ”¾åœ¨ç»„ä»¶å†…éƒ¨ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä½ è¯´å¾—å¯¹ï¼Œæ”¾çˆ¶ç»„ä»¶æ›´å¥½
</code></pre>
<h2 data-id="heading-29">ä¹ã€æ ¸å¿ƒç»éªŒï¼šä¸ AI åä½œçš„æ­£ç¡®å§¿åŠ¿</h2>
<h3 data-id="heading-30">9.1 ä¸è¦è¿½æ±‚"ä¸€æ¬¡å®Œç¾"</h3>





















<table><thead><tr><th>é”™è¯¯åšæ³•</th><th>æ­£ç¡®åšæ³•</th></tr></thead><tbody><tr><td>èŠ± 30 åˆ†é’Ÿå†™ä¸€ä¸ª"å®Œç¾æç¤ºè¯"</td><td>èŠ± 1 åˆ†é’Ÿè¯´å‡ºéœ€æ±‚ï¼Œè®© AI æé—®</td></tr><tr><td>ä¸€æ¬¡æ€§æƒ³æ¸…æ¥šæ‰€æœ‰ç»†èŠ‚</td><td>è¾¹åšè¾¹å‘ç°é—®é¢˜ï¼Œé€æ­¥å®Œå–„</td></tr><tr><td>æŠŠ AI å½“æ‰§è¡Œå·¥å…·</td><td>æŠŠ AI å½“åä½œä¼™ä¼´ï¼Œå¯ä»¥å¯¹è¯</td></tr></tbody></table>
<h3 data-id="heading-31">9.2 è®© AI å…ˆç»™æ‰§è¡Œè®¡åˆ’</h3>
<p>æ¯æ¬¡æéœ€æ±‚åï¼Œè®© AI å…ˆç»™å‡º<strong>æ‰§è¡Œè®¡åˆ’</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼š[éœ€æ±‚æè¿°]

AIï¼šğŸ“‹ æ‰§è¡Œè®¡åˆ’ï¼š
    1. xxx
    2. xxx
    3. xxx

    ğŸ¤” æœ‰å‡ ä¸ªé—®é¢˜ï¼š
    1. xxxï¼Ÿ
    2. xxxï¼Ÿ

    ç¡®è®¤åæˆ‘å¼€å§‹æ‰§è¡Œã€‚
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿ AI ç†è§£æ­£ç¡®</li>
<li>å‘ç°é—æ¼çš„éœ€æ±‚</li>
<li>å¯ä»¥åœ¨æ‰§è¡Œå‰è°ƒæ•´æ–¹å‘</li>
</ul>
<h3 data-id="heading-32">9.3 é‡åˆ°é—®é¢˜æ—¶æä¾›ä¸Šä¸‹æ–‡</h3>
<p><strong>âŒ é”™è¯¯æ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šæ ·å¼ä¸ç”Ÿæ•ˆ
</code></pre>
<p><strong>âœ… æ­£ç¡®æ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼štranslate-x-2 è¿™ä¸ªç±»åœ¨å°ç¨‹åºé‡Œä¸ç”Ÿæ•ˆï¼Œä½†åœ¨ H5 æ­£å¸¸ã€‚
    æˆ‘çœ‹äº†ç”Ÿæˆçš„ CSSï¼Œæ˜¯ transform: translateX(var(--un-translate-x))ã€‚
    æ˜¯ä¸æ˜¯å˜é‡æ²¡å®šä¹‰ï¼Ÿ
</code></pre>
<h3 data-id="heading-33">9.4 è®© AI è§£é‡Šå®ƒçš„æ–¹æ¡ˆ</h3>
<p>å½“ AI ç»™å‡ºæ–¹æ¡ˆæ—¶ï¼Œè¿½é—®åŸç†ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æˆ‘ï¼šä¸ºä»€ä¹ˆè¦ç”¨ preflightsï¼Ÿç›´æ¥å†™ CSS ä¸è¡Œå—ï¼Ÿ
</code></pre>
<pre><code class="hljs language-txt" lang="txt">TRAE SOLOï¼špreflights æ˜¯ UnoCSS çš„é¢„è®¾æ ·å¼æ³¨å…¥æœºåˆ¶ï¼Œå’Œç›´æ¥å†™ CSS çš„åŒºåˆ«ï¼š

1. preflights ä¼šè¢«æ³¨å…¥åˆ°æ‰€æœ‰ç”Ÿæˆçš„ CSS ä¹‹å‰ï¼Œç¡®ä¿ä¼˜å…ˆçº§æ­£ç¡®
2. å¯ä»¥é€šè¿‡ layer æ§åˆ¶åŠ è½½é¡ºåº
3. ç»Ÿä¸€ç®¡ç†ï¼Œä¿®æ”¹æ—¶åªéœ€è¦æ”¹é…ç½®æ–‡ä»¶

ç›´æ¥å†™ CSS ä¹Ÿå¯ä»¥ï¼Œä½†éœ€è¦ç¡®ä¿åŠ è½½é¡ºåºæ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½è¢«è¦†ç›–ã€‚
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šç†è§£åŸç†åï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼é—®é¢˜å¯ä»¥è‡ªå·±åˆ¤æ–­ã€‚</p>
<h2 data-id="heading-34">åã€æ€»ç»“ï¼šå¯¹è¯å¼åä½œ &gt; å®Œç¾æç¤ºè¯</h2>
<h3 data-id="heading-35">10.1 æœ¬æ–‡çš„æ ¸å¿ƒè§‚ç‚¹</h3>
<ol>
<li><strong>ä¸è¦è¿½æ±‚"ä¸€æ¬¡å®Œç¾çš„æç¤ºè¯"</strong>ï¼ŒçœŸå®çš„ AI åä½œæ˜¯å¤šè½®å¯¹è¯</li>
<li><strong>è®© AI å…ˆç»™æ‰§è¡Œè®¡åˆ’</strong>ï¼Œç¡®è®¤åå†æ‰§è¡Œ</li>
<li><strong>é‡åˆ°é—®é¢˜æ—¶æä¾›ä¸Šä¸‹æ–‡</strong>ï¼Œå¸®åŠ© AI å®šä½é—®é¢˜</li>
<li><strong>è¿½é—®åŸç†</strong>ï¼Œç†è§£ AI çš„æ–¹æ¡ˆï¼Œä¸‹æ¬¡æ‰èƒ½ä¸¾ä¸€åä¸‰</li>
</ol>
<h3 data-id="heading-36">10.2 5 è½®å¯¹è¯å®Œæˆçš„å·¥ä½œ</h3>



































<table><thead><tr><th>è½®æ¬¡</th><th>éœ€æ±‚</th><th>æˆæœ</th></tr></thead><tbody><tr><td>ç¬¬ 1 è½®</td><td>åŸºç¡€é…ç½®</td><td>presetsã€transformersã€theme</td></tr><tr><td>ç¬¬ 2 è½®</td><td>ä¿®å¤ transform é—®é¢˜</td><td>preflights</td></tr><tr><td>ç¬¬ 3 è½®</td><td>å®‰å…¨åŒºé€‚é…</td><td>è‡ªå®šä¹‰ rules</td></tr><tr><td>ç¬¬ 4 è½®</td><td>ç®€åŒ–å¸¸ç”¨ç±»å</td><td>shortcuts</td></tr><tr><td>ç¬¬ 5 è½®</td><td>åŠ¨æ€ç±»åæ”¯æŒ</td><td>safelist</td></tr></tbody></table>
<h3 data-id="heading-37">10.3 ä¸‹ä¸€ç¯‡é¢„å‘Š</h3>
<p><strong>ã€Šã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 5 ç¯‡ï¼šPinia çŠ¶æ€ç®¡ç†ä¸ä¼šå†™ï¼Ÿè®© AI æ‰‹æŠŠæ‰‹æ•™ä½ æœ€ä½³å®è·µã€‹</strong></p>
<p>ä¸‹ä¸€ç¯‡ç»§ç»­å±•ç¤ºå¯¹è¯å¼åä½œï¼Œæ•™ä½ ï¼š</p>
<ul>
<li>å¦‚ä½•è®© AI è®¾è®¡ Store ç»“æ„</li>
<li>çŠ¶æ€æŒä¹…åŒ–çš„å¯¹è¯è¿‡ç¨‹</li>
<li>ç”¨æˆ·ç™»å½•æ€ç®¡ç†çš„å¤šè½®æ²Ÿé€š</li>
</ul>
<hr/>
<blockquote>
<p>ä¸ AI åä½œçš„å…³é”®ä¸æ˜¯"å†™å‡ºå®Œç¾æç¤ºè¯"ï¼Œè€Œæ˜¯<strong>å­¦ä¼šå’Œ AI å¯¹è¯</strong>ã€‚</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å®æˆ˜ï¼šä» Vite åˆ° React Router demoçš„æ„å»ºä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7585006378533208106</link>    <guid>https://juejin.cn/post/7585006378533208106</guid>    <pubDate>2025-12-18T09:52:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585006378533208106" data-draft-id="7585006378532847658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å®æˆ˜ï¼šä» Vite åˆ° React Router demoçš„æ„å»ºä¹‹æ—…"/> <meta itemprop="keywords" content="React.js,å‰ç«¯æ¡†æ¶,Vite"/> <meta itemprop="datePublished" content="2025-12-18T09:52:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="San30"/> <meta itemprop="url" content="https://juejin.cn/user/1766294768060816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å®æˆ˜ï¼šä» Vite åˆ° React Router demoçš„æ„å»ºä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1766294768060816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    San30
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:52:59.000Z" title="Thu Dec 18 2025 09:52:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰ç«¯æŠ€æœ¯çš„è¿­ä»£ä»æœªåœæ­‡ã€‚å½“æˆ‘ä»¬è°ˆè®ºç°ä»£å‰ç«¯å¼€å‘æ—¶ï¼Œ<strong>React 19</strong> å’Œ <strong>Vite</strong> å·²ç»æˆä¸ºäº†ä¸å¯å¿½è§†çš„æ ‡å‡†é…ç½®ã€‚React 19 å¸¦æ¥äº†æ›´é«˜æ•ˆçš„å¹¶å‘æ¸²æŸ“æœºåˆ¶ï¼Œè€Œ Vite åˆ™å‡­å€ŸåŸºäº ESM çš„æè‡´å†·å¯åŠ¨é€Ÿåº¦ï¼Œå½»åº•æ”¹å˜äº†å¼€å‘ä½“éªŒã€‚</p>
<p>æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªåä¸º <code>react-demo</code> çš„å®æˆ˜é¡¹ç›®ï¼Œå¸¦ä½ ä»é›¶å¼€å§‹ç†è§£å¦‚ä½•æ­å»ºã€é…ç½®å¹¶å¼€å‘ä¸€ä¸ªæ ‡å‡†çš„ç°ä»£ React åº”ç”¨ã€‚æˆ‘ä»¬å°†æ¶µç›–å·¥ç¨‹åŒ–é…ç½®ã€è·¯ç”±ç®¡ç†ã€Hooks çŠ¶æ€é€»è¾‘ä»¥åŠæ ·å¼é¢„å¤„ç†ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ æé€Ÿå¯åŠ¨ï¼šVite ä¸ ESM çš„é©å‘½</h2>
<p>åœ¨è¿‡å»ï¼ŒWebpack æ˜¯æ„å»ºå·¥å…·çš„ç‹è€…ï¼Œä½†å®ƒåœ¨å¯åŠ¨å¤§å‹é¡¹ç›®æ—¶å¾€å¾€éœ€è¦æ¼«é•¿çš„æ‰“åŒ…ç­‰å¾…ã€‚ç°ä»£å¼€å‘æ¨èä½¿ç”¨ Viteï¼ˆæ³•è¯­æ„ä¸ºâ€œå¿«â€ï¼‰ä½œä¸ºè„šæ‰‹æ¶ã€‚</p>
<h3 data-id="heading-1">1. ä¸ºä»€ä¹ˆæ˜¯ Viteï¼Ÿ</h3>
<p>Vite çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå®ƒåˆ©ç”¨äº†æµè§ˆå™¨åŸç”Ÿçš„ <strong>ES Modules (ESM)</strong> æœºåˆ¶ã€‚åœ¨å¼€å‘é˜¶æ®µ (<code>npm run dev</code>)ï¼ŒVite ä¸éœ€è¦å¯¹ä»£ç è¿›è¡Œå…¨é‡æ‰“åŒ…ï¼Œè€Œæ˜¯æŒ‰éœ€æä¾›æ¨¡å—ï¼Œè¿™å®ç°äº†æè‡´çš„â€œå†·å¯åŠ¨â€ä½“éªŒã€‚</p>
<p>å½“æˆ‘ä»¬è¿è¡Œ <code>npm init vite</code> æ‹‰å–é¡¹ç›®æ¨¡æ¿åï¼Œé¡¹ç›®ç»“æ„éå¸¸æ¸…æ™°ã€‚è§‚å¯Ÿé¡¹ç›®çš„ <code>package.json</code> è„šæœ¬é…ç½®ï¼š</p>
<pre><code class="hljs language-JSON" lang="JSON"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite build"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿™å¯¹åº”äº†å®Œæ•´çš„å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼š<code>dev</code>ï¼ˆå¼€å‘ï¼‰ -&gt; <code>build</code>ï¼ˆæ„å»ºç”Ÿäº§åŒ…ï¼‰ -&gt; <code>preview</code>ï¼ˆæœ¬åœ°é¢„è§ˆç”Ÿäº§åŒ…ï¼‰ã€‚</p>
<h3 data-id="heading-2">2. ä¾èµ–ç®¡ç†çš„è‰ºæœ¯ï¼šDev vs Prod</h3>
<p>åœ¨å®‰è£…ä¾èµ–æ—¶ï¼ŒåŒºåˆ†â€œå¼€å‘ä¾èµ–â€å’Œâ€œç”Ÿäº§ä¾èµ–â€è‡³å…³é‡è¦ã€‚</p>
<ul>
<li><strong>dependencies (ç”Ÿäº§ä¾èµ–)</strong> ï¼šå¦‚ <code>react</code> å’Œ <code>react-dom</code>ã€‚React 19.2.0 æ˜¯æ ¸å¿ƒåº“ï¼Œè´Ÿè´£ç»„ä»¶å®šä¹‰å’Œ diff ç®—æ³•ï¼›è€Œ <code>react-dom</code> è´Ÿè´£å°†ç»„ä»¶æ¸²æŸ“åˆ°æµè§ˆå™¨ DOM ä¸­ã€‚è¿™ç±»ä¼¼äº Vue çš„ç”Ÿæ€ï¼ŒReact Core å¯¹åº” Vue Coreï¼ŒReact DOM å¯¹åº” Vue çš„æ¸²æŸ“å™¨ã€‚å¯¹åº”é…ç½®ä¸º <code>package.json</code> ä¸­çš„<code>dependencies</code></li>
<li><strong>devDependencies (å¼€å‘ä¾èµ–)</strong> ï¼šå¦‚ <code>stylus</code>ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>npm i -D stylus</code> å®‰è£…å®ƒï¼Œå› ä¸º Stylus åªæ˜¯åœ¨å¼€å‘é˜¶æ®µå¸®åŠ©æˆ‘ä»¬å°† <code>.styl</code> æ–‡ä»¶ç¼–è¯‘ä¸º CSSï¼Œä¸Šçº¿åçš„ä»£ç å¹¶ä¸éœ€è¦ Stylus å¼•æ“ã€‚å¯¹åº”é…ç½®ä¸º <code>package.json</code> ä¸­çš„<code>devDependencies</code></li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// ç”Ÿäº§ä¾èµ–</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^19.2.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^19.2.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"react-router-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.10.1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-comment">// å¼€å‘ä¾èµ–</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@eslint/js"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^9.39.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^19.2.5"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/react-dom"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^19.2.3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@vitejs/plugin-react"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.1.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^9.39.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint-plugin-react-hooks"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint-plugin-react-refresh"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.4.24"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"globals"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^16.5.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"stylus"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.64.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"vite"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.2.4"</span>
  <span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-3">äºŒã€ å…¥å£ä¸æ¸²æŸ“ï¼šReact 19 çš„ä¸¥è°¨æ¨¡å¼</h2>
<p>é¡¹ç›®çš„å…¥å£æ–‡ä»¶ <code>main.jsx</code> å±•ç¤ºäº† React 19 æœ€æ ‡å‡†çš„æŒ‚è½½æ–¹å¼ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">StrictMode</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./index.styl'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.jsx'</span>

<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)).<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>,
)
</code></pre>
<h3 data-id="heading-4">ä¸¥æ ¼æ¨¡å¼ (StrictMode)</h3>
<p>ä½ å¯èƒ½ä¼šå‘ç°ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆå¦‚ <code>useEffect</code>ï¼‰ä¼šæ‰§è¡Œä¸¤æ¬¡ã€‚è¿™å¹¶é Bugï¼Œè€Œæ˜¯ <code>&lt;StrictMode&gt;</code> çš„æœ‰æ„ä¸ºä¹‹ã€‚å®ƒé€šè¿‡åŒé‡è°ƒç”¨æ¥å¸®åŠ©å¼€å‘è€…æ£€æµ‹ä¸å®‰å…¨çš„å‰¯ä½œç”¨ï¼ˆSide Effectsï¼‰å’Œè¿‡æ—¶çš„ API ä½¿ç”¨ï¼Œç¡®ä¿ä»£ç åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ›´åŠ å¥å£®ã€‚</p>
<h3 data-id="heading-5">æ ·å¼é¢„å¤„ç†</h3>
<p>æˆ‘ä»¬å¼•å…¥äº†å…¨å±€æ ·å¼ <code>index.styl</code>ã€‚Stylus çš„é­…åŠ›åœ¨äºå…¶æç®€çš„è¯­æ³•â€”â€”çœç•¥èŠ±æ‹¬å·ã€å†’å·å’Œåˆ†å·ï¼Œé€šè¿‡ç¼©è¿›æ¥ç»„ç»‡ä»£ç ï¼š</p>
<pre><code class="hljs language-Stylus" lang="Stylus">*
  margin: 0
  padding: 0

body
  background-color pink
</code></pre>
<p>Vite å†…ç½®äº†å¯¹ CSS é¢„å¤„ç†å™¨çš„æ”¯æŒï¼Œæ— éœ€ç¹ççš„ Webpack Loader é…ç½®ï¼Œå®‰è£…å³ç”¨ï¼Œå®‰è£…æŒ‡ä»¤ä¸º<code>npm i -D stylus</code>ã€‚å…¶ä¸­çš„<code>-D</code>å°±ä»£è¡¨äº†å¼€å‘ä¾èµ–ï¼Œå¦‚æœä¸ä¹¦å†™<code>-D</code>åˆ™ä¼šé»˜è®¤å®‰è£…è‡³ç”Ÿäº§ä¾èµ–ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€ è·¯ç”±æ¶æ„ï¼šå•é¡µåº”ç”¨çš„éª¨æ¶</h2>
<p>å•é¡µåº”ç”¨ï¼ˆSPAï¼‰çš„æ ¸å¿ƒåœ¨äºï¼š<strong>é¡µé¢ä¸åˆ·æ–°ï¼ŒURL æ”¹å˜ï¼Œå†…å®¹åˆ‡æ¢</strong>ï¼Œåœ¨ä¸€ä¸ªé¡µé¢ (<code>index.html</code>) ä¸­å®ç° "å¤šé¡µé¢" çš„åˆ‡æ¢æ•ˆæœã€‚æˆ‘ä»¬ä½¿ç”¨ <code>react-router-dom</code> v7 æ¥å®ç°è¿™ä¸€åŠŸèƒ½ã€‚é¦–å…ˆéœ€è¦é€šè¿‡<code>npm i react-router-dom</code>æŒ‡ä»¤å®‰è£…è·¯ç”±ã€‚</p>
<h3 data-id="heading-7">1. è·¯ç”±æ¨¡å¼é€‰æ‹©</h3>
<p>åœ¨ <code>App.jsx</code> ä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† <code>BrowserRouter</code>ï¼ˆåˆ«åä¸º <code>Router</code>ï¼‰ã€‚ç›¸æ¯”äº URL ä¸­å¸¦æœ‰ <code>#</code> å·çš„ <code>HashRouter</code>ï¼Œ<code>BrowserRouter</code> åˆ©ç”¨ HTML5 History APIï¼Œæä¾›äº†æ›´ç°ä»£åŒ–ã€æ›´ç¾è§‚çš„ URL ç»“æ„ï¼Œæ˜¯ç›®å‰çš„è¡Œä¸šæ ‡å‡†ã€‚</p>
<h3 data-id="heading-8">2. å£°æ˜å¼å¯¼èˆªï¼šLink vs A</h3>
<p>åœ¨ React Router ä¸­ï¼Œæˆ‘ä»¬ä¸¥ç¦ä½¿ç”¨ä¼ ç»Ÿçš„ <code>&lt;a href&gt;</code> æ ‡ç­¾è¿›è¡Œå†…éƒ¨è·³è½¬ã€‚å› ä¸º <code>&lt;a&gt;</code> æ ‡ç­¾ä¼šå¯¼è‡´æµè§ˆå™¨å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼Œä»è€Œé‡ç½® React çš„æ‰€æœ‰çŠ¶æ€ã€‚</p>
<p>ç›¸åï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>&lt;Link&gt;</code> ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">&lt;nav&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/"</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/about"</span>&gt;</span>About<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
&lt;/nav&gt;
</code></pre>
<p><code>&lt;Link&gt;</code> ç»„ä»¶åœ¨å†…éƒ¨â€œæ¶ˆåŒ–â€äº†ç‚¹å‡»äº‹ä»¶ï¼Œé€šè¿‡ JavaScript ä¿®æ”¹ URL å¹¶é€šè¿‡ Context é€šçŸ¥è·¯ç”±ç³»ç»Ÿæ›´æ–°è§†å›¾ï¼Œå®ç°äº†æ— ç¼çš„é¡µé¢åˆ‡æ¢ã€‚</p>
<h3 data-id="heading-9">3. è·¯ç”±é…ç½®åˆ†ç¦»</h3>
<p>ä¸ºäº†ä¿æŒä»£ç çš„æ•´æ´ï¼Œæˆ‘ä»¬å°†å…·ä½“çš„è·¯ç”±è§„åˆ™æŠ½ç¦»åˆ°äº† <code>router/index.jsx</code> ä¸­ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Home.jsx'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/About.jsx'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">AppRoutes</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/about"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">About</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
    )
}
</code></pre>
<p>è¿™ç§é›†ä¸­ç®¡ç†è·¯ç”±è¡¨çš„æ–¹å¼ï¼Œä½¿å¾— <code>App.jsx</code> åªéœ€å…³æ³¨æ•´ä½“å¸ƒå±€ï¼Œè€Œå°†è·¯ç”±ç»†èŠ‚äº¤ç»™ <code>AppRoutes</code> ç»„ä»¶å¤„ç†ã€‚</p>
<h2 data-id="heading-10">å››ã€ æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼šHooks é©±åŠ¨çš„æ•°æ®æµ</h2>
<p><code>Home.jsx</code> ç»„ä»¶å±•ç¤ºäº† React å‡½æ•°å¼ç»„ä»¶çš„æ ¸å¿ƒé€»è¾‘ï¼š<strong>Hooks</strong>ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯è°ƒç”¨ GitHub API å¹¶å±•ç¤ºæ•°æ®ã€‚</p>
<h3 data-id="heading-11">1. å“åº”å¼çŠ¶æ€ï¼šuseState</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> [repos, setRepos] = <span class="hljs-title function_">useState</span>([]);
</code></pre>
<p><code>useState</code> æ˜¯ React å“åº”å¼ç³»ç»Ÿçš„åŸºçŸ³ã€‚å®ƒè¿”å›å½“å‰çŠ¶æ€ <code>repos</code> å’Œæ›´æ–°å‡½æ•° <code>setRepos</code>ã€‚æ¯å½“è°ƒç”¨ <code>setRepos</code> æ—¶ï¼ŒReact å°±ä¼šæ„ŸçŸ¥æ•°æ®å˜åŒ–ï¼Œå¹¶è§¦å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼ˆRe-renderï¼‰ï¼Œæ›´æ–°è§†å›¾ã€‚</p>
<h3 data-id="heading-12">2. å‰¯ä½œç”¨ç®¡ç†ï¼šuseEffect</h3>
<p>ç½‘ç»œè¯·æ±‚å±äºâ€œå‰¯ä½œç”¨â€ï¼ˆSide Effectï¼‰ï¼Œä¸èƒ½ç›´æ¥å†™åœ¨ç»„ä»¶æ¸²æŸ“é€»è¾‘ä¸­ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>useEffect</code> æ¥å¤„ç†ç»„ä»¶æŒ‚è½½åçš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç»„ä»¶æŒ‚è½½å®Œæˆ (onMounted)</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.github.com/users/shunwuyu/repos'</span>)
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> <span class="hljs-title function_">setRepos</span>(json))
}, [])
</code></pre>
<ul>
<li><strong>æ‰§è¡Œæ—¶æœº</strong>ï¼š<code>useEffect</code> ç¡®ä¿ä»£ç åœ¨ç»„ä»¶æ¸²æŸ“å¹¶æŒ‚è½½åˆ° DOM ä¹‹åæ‰§è¡Œï¼Œé¿å…é˜»å¡ UI æ¸²æŸ“ã€‚</li>
<li><strong>ä¾èµ–æ•°ç»„ <code>[]</code></strong> ï¼šç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ç©ºæ•°ç»„ <code>[]</code>ï¼Œæ„å‘³ç€è¿™ä¸ª Effect åªåœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡ï¼ˆç›¸å½“äºç±»ç»„ä»¶çš„ <code>componentDidMount</code>ï¼‰ã€‚å¦‚æœä¸ä¼ æ­¤å‚æ•°ï¼Œæ¯æ¬¡æ¸²æŸ“éƒ½ä¼šè§¦å‘è¯·æ±‚ï¼Œå¯¼è‡´æ— é™å¾ªç¯ã€‚</li>
</ul>
<h3 data-id="heading-13">3. æ¡ä»¶æ¸²æŸ“ä¸åˆ—è¡¨ Key</h3>
<p>åœ¨ JSX ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ JavaScript çš„çµæ´»æ€§æ¥æ„å»º UIã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            {
                repos.length ? (
                    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                        {
                            repos.map(repo =&gt; (
                                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{repo.id}</span>&gt;</span>
                                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">{repo.html_url}</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"noreferrer"</span>&gt;</span>
                                        {repo.name}
                                    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                            ))
                        }
                    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
                ) : null
            }
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
</code></pre>
<ul>
<li><strong>Diff ç®—æ³•çš„å…³é”®</strong>ï¼šåœ¨éå†åˆ—è¡¨æ—¶ï¼Œå¿…é¡»ä¸ºæ¯ä¸ªå…ƒç´ æä¾›å”¯ä¸€çš„ <code>key</code>ï¼ˆå¦‚ <code>repo.id</code>ï¼‰ã€‚è¿™èƒ½å¸®åŠ© React çš„ Diff ç®—æ³•é«˜æ•ˆåœ°è¯†åˆ«å…ƒç´ çš„å¢åˆ æ”¹ï¼Œæœ€å°åŒ– DOM æ“ä½œã€‚</li>
<li><strong>æ¡ä»¶æ¸²æŸ“</strong>ï¼šé€šè¿‡ä¸‰å…ƒè¿ç®—ç¬¦æ£€æŸ¥ <code>repos.length</code>ï¼Œåœ¨æ•°æ®åŠ è½½å‰ä¸æ¸²æŸ“åˆ—è¡¨ï¼Œé˜²æ­¢é¡µé¢æŠ¥é”™ã€‚</li>
</ul>
<h2 data-id="heading-14">äº”ã€ æ€»ç»“</h2>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬ä¸ä»…æ­å»ºäº†ä¸€ä¸ªç®€å•çš„ GitHub ä»“åº“æµè§ˆå™¨ï¼Œæ›´é‡è¦çš„æ˜¯å®è·µäº†ç°ä»£ React å¼€å‘çš„æ ‡å‡†èŒƒå¼ï¼š</p>
<ol>
<li><strong>å·¥ç¨‹åŒ–</strong>ï¼šåˆ©ç”¨ Vite æé€Ÿæ„å»ºï¼ŒåŒºåˆ†å¼€å‘ä¸ç”Ÿäº§ä¾èµ–ã€‚</li>
<li><strong>ç»„ä»¶åŒ–</strong>ï¼šé€šè¿‡ Props å’Œ Hooks å®ç°é€»è¾‘å¤ç”¨ã€‚</li>
<li><strong>è·¯ç”±åŒ–</strong>ï¼šä½¿ç”¨ React Router å®ç° SPA çš„æ— æ„Ÿè·³è½¬ã€‚</li>
<li><strong>å“åº”å¼</strong>ï¼šåˆ©ç”¨ <code>useState</code> å’Œ <code>useEffect</code> é©±åŠ¨æ•°æ®æµå‘ã€‚</li>
</ol>
<p>ä» React 19 çš„åº•å±‚ä¼˜åŒ–åˆ° Vite çš„å·¥ç¨‹å®è·µï¼Œè¿™å¥—æŠ€æœ¯æ ˆä¸ºå¼€å‘è€…æä¾›äº†æå…¶é«˜æ•ˆçš„å¼€å‘ä½“éªŒï¼Œæ˜¯æ„å»ºæœªæ¥ Web åº”ç”¨çš„åšå®åŸºç¡€ã€‚</p>
<h2 data-id="heading-15">å…­ã€Home.jsx æºä»£ç </h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> [repos, setRepos] = <span class="hljs-title function_">useState</span>([]);
    <span class="hljs-comment">// render æ˜¯ç¬¬ä¸€ä½çš„</span>
    <span class="hljs-comment">// console.log('Home ç»„ä»¶æ¸²æŸ“äº†');</span>
    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// home ç»„ä»¶å¯ä»¥çœ‹åˆ°äº†</span>
        <span class="hljs-comment">// console.log('Home ç»„ä»¶æŒ‚è½½äº†');</span>
        <span class="hljs-comment">// å‘é€apiè¯·æ±‚ï¼Œä¸ä¼šå’Œç»„ä»¶æ¸²æŸ“å»äº‰æŠ¢</span>
        <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.github.com/users/shunwuyu/repos'</span>)
            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
            .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> <span class="hljs-title function_">setRepos</span>(json))
    }, [])
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            {
                repos.length ? (
                    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                        {
                            repos.map(repo =&gt; (
                                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{repo.id}</span>&gt;</span>
                                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">{repo.html_url}</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"noreferrer"</span>&gt;</span>
                                        {repo.name}
                                    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                            ))
                        }
                    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
                ) : null
            }
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Home</span>;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(13)]]></title>    <link>https://juejin.cn/post/7584831190731423770</link>    <guid>https://juejin.cn/post/7584831190731423770</guid>    <pubDate>2025-12-18T09:52:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584831190731423770" data-draft-id="7585021315691266058" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(13)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:52:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(13)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:52:48.000Z" title="Thu Dec 18 2025 09:52:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 13 ç« ï¼šæ–‡ä»¶ä¸Šä¼ ä¸äº‘å­˜å‚¨</h2>
<blockquote>
<p>â€œä¸€å¼ å›¾èƒœè¿‡åƒè¨€ä¸‡è¯­ï¼Œä½†å‰ææ˜¯ä½ å¾—æŠŠå›¾ä¼ ä¸Šå»ã€‚â€</p>
</blockquote>
<p>æœ¬ç« å°†è®²è§£å¦‚ä½•åˆ©ç”¨è…¾è®¯äº‘å¼€å‘ (CloudBase) çš„äº‘å­˜å‚¨èƒ½åŠ›ï¼Œå®ç°é«˜æ•ˆã€ç¨³å®šçš„æ–‡ä»¶ä¸Šä¼ ã€‚</p>
<h3 data-id="heading-1">13.1 äº‘å­˜å‚¨æ¶æ„</h3>
<p>äº‘å­˜å‚¨ (Cloud Storage) æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡å­˜å‚¨æœåŠ¡ (COS)ã€‚</p>
<ul>
<li><strong>è·¯å¾„</strong>: æˆ‘ä»¬æŒ‰ç…§ <code>year/month/filename</code> çš„æ ¼å¼ç»„ç»‡æ–‡ä»¶ï¼Œé¿å…å•ç›®å½•ä¸‹æ–‡ä»¶è¿‡å¤šã€‚</li>
<li><strong>æƒé™</strong>: é»˜è®¤è®¾ç½®ä¸ºâ€œæ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼Œä»…åˆ›å»ºè€…/ç®¡ç†å‘˜å¯å†™â€ã€‚</li>
</ul>
<h3 data-id="heading-2">13.2 å›¾ç‰‡/è§†é¢‘ä¸Šä¼ å®ç°</h3>
<p>å‰ç«¯æ ¸å¿ƒ API: <code>uniCloud.uploadFile</code>ã€‚</p>
<h4 data-id="heading-3">å°è£…ä¸Šä¼  Hook (<code>useUpload</code>)</h4>
<p>ä¸ºäº†å¤ç”¨ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ª Hookï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/hooks/useUpload.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useUpload</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadImage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">filePath: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-keyword">const</span> ext = filePath.<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>).<span class="hljs-title function_">pop</span>()
    <span class="hljs-keyword">const</span> cloudPath = <span class="hljs-string">`activity/<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>-<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).slice(-<span class="hljs-number">6</span>)}</span>.<span class="hljs-subst">${ext}</span>`</span>

    uni.<span class="hljs-title function_">showLoading</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'ä¸Šä¼ ä¸­...'</span> })
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> uniCloud.<span class="hljs-title function_">uploadFile</span>({
        <span class="hljs-attr">filePath</span>: filePath,
        <span class="hljs-attr">cloudPath</span>: cloudPath
      })
      <span class="hljs-keyword">return</span> res.<span class="hljs-property">fileID</span> <span class="hljs-comment">// è¿”å› cloud://...</span>
    } <span class="hljs-keyword">finally</span> {
      uni.<span class="hljs-title function_">hideLoading</span>()
    }
  }
  <span class="hljs-keyword">return</span> { uploadImage }
}
</code></pre>
<h4 data-id="heading-4">é€‰æ‹©æ–‡ä»¶</h4>
<p>ç»“åˆ <code>uni.chooseImage</code> æˆ– <code>uni.chooseVideo</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">chooseAndUpload</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> uni.<span class="hljs-title function_">chooseImage</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">1</span> })
  <span class="hljs-keyword">const</span> filePath = res.<span class="hljs-property">tempFilePaths</span>[<span class="hljs-number">0</span>]
  <span class="hljs-keyword">const</span> fileID = <span class="hljs-keyword">await</span> <span class="hljs-title function_">uploadImage</span>(filePath)
  <span class="hljs-comment">// å°† fileID å­˜å…¥ç»„ä»¶é…ç½®æˆ–è¡¨å•</span>
  config.<span class="hljs-property">src</span> = fileID
}
</code></pre>
<h3 data-id="heading-5">13.3 FileID ä¸ä¸´æ—¶ URL è½¬æ¢</h3>
<p><strong>CloudID (<code>cloud://...</code>)</strong> æ˜¯äº‘å¼€å‘çš„ç‰¹æœ‰åè®®ã€‚</p>
<ul>
<li><strong>åœ¨å°ç¨‹åºå†…</strong>: <code>&lt;image src="cloud://..."&gt;</code> å¯ä»¥ç›´æ¥å±•ç¤ºï¼Œæ— éœ€è½¬æ¢ï¼Œåˆ©ç”¨å†…ç½‘ CDNï¼Œé€Ÿåº¦æå¿«ã€‚</li>
<li><strong>åœ¨ Web/H5 ç«¯</strong>: æµè§ˆå™¨ä¸è®¤è¯† <code>cloud://</code>ã€‚éœ€è¦è°ƒç”¨ <code>uniCloud.getTempFileURL</code> æ¢å– <code>https://</code> å¼€å¤´çš„ä¸´æ—¶é“¾æ¥ã€‚</li>
</ul>
<blockquote>
<p><strong>æœ€ä½³å®è·µ</strong>: å°½é‡åœ¨æ•°æ®åº“å­˜ <code>cloud://</code> è·¯å¾„ã€‚åªåœ¨éœ€è¦åœ¨éå°ç¨‹åºç¯å¢ƒå±•ç¤ºæ—¶æ‰è¿›è¡Œè½¬æ¢ã€‚</p>
</blockquote>
<h3 data-id="heading-6">13.4 æ‰¹é‡ä¸Šä¼ ä¼˜åŒ–</h3>
<p>åœ¨â€œæ´»åŠ¨ç›¸å†Œâ€æˆ–â€œå¤šå›¾æŠ•ç¥¨â€åœºæ™¯ä¸‹ï¼Œç”¨æˆ·å¯èƒ½ä¸€æ¬¡é€‰ 9 å¼ å›¾ã€‚
<strong>ä¸²è¡Œ vs å¹¶è¡Œ</strong>:</p>
<ul>
<li>âŒ ä¸²è¡Œ: ä¼ å®Œä¸€å¼ å†ä¼ ä¸‹ä¸€å¼ ï¼Œå¤ªæ…¢ã€‚</li>
<li>âœ… å¹¶è¡Œ: <code>Promise.all</code>ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">uploadAll</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">paths</span>) =&gt; {
  <span class="hljs-keyword">const</span> tasks = paths.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> <span class="hljs-title function_">uploadImage</span>(path))
  <span class="hljs-keyword">const</span> fileIDs = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(tasks)
  <span class="hljs-keyword">return</span> fileIDs
}
</code></pre>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æ–‡ä»¶ä¸Šä¼ æ˜¯å†…å®¹ç±»åº”ç”¨çš„åŸºç¡€è®¾æ–½ã€‚æœ‰äº†äº‘å­˜å‚¨ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦æ“å¿ƒæ–‡ä»¶æœåŠ¡å™¨çš„æ­å»ºå’Œå¸¦å®½è´¹ç”¨ï¼Œåªéœ€å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†ä¸ºæ´»åŠ¨æ·»åŠ ä¸€äº›â€œæ°›å›´ç»„â€åŠŸèƒ½â€”â€”èƒŒæ™¯éŸ³ä¹å’Œå¼¹å¹•ã€‚</p>
<p><strong><a href="https://juejin.cn/post/7585005164726353958" target="_blank" title="https://juejin.cn/post/7585005164726353958">ä¸‹ä¸€ç« ï¼ˆ14-èƒŒæ™¯éŸ³ä¹ä¸å¼¹å¹•ï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‚€ä½ ä¸€èµ·ä½“éªŒï½œOxyGent å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶æ–°ç‰ˆæœ¬å‘å¸ƒ 3ä¸ªæœˆ1700ä½å¼€å‘è€…å®æµ‹è®¤è¯]]></title>    <link>https://juejin.cn/post/7585027616735707188</link>    <guid>https://juejin.cn/post/7585027616735707188</guid>    <pubDate>2025-12-18T10:27:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585027616735707188" data-draft-id="7584991956126203939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‚€ä½ ä¸€èµ·ä½“éªŒï½œOxyGent å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶æ–°ç‰ˆæœ¬å‘å¸ƒ 3ä¸ªæœˆ1700ä½å¼€å‘è€…å®æµ‹è®¤è¯"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-18T10:27:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œé›¶å”®æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/4233576972293643"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‚€ä½ ä¸€èµ·ä½“éªŒï½œOxyGent å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶æ–°ç‰ˆæœ¬å‘å¸ƒ 3ä¸ªæœˆ1700ä½å¼€å‘è€…å®æµ‹è®¤è¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4233576972293643/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œé›¶å”®æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:27:18.000Z" title="Thu Dec 18 2025 10:27:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æ—¥ï¼ŒOxyGentå¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œæ”¯æŒæ–°ç‰¹æ€§åŒ…æ‹¬ï¼šæ™ºèƒ½ä½“ä¹‹é—´çš„å¤šæ¨¡æ€ä¿¡æ¯ä¼ é€’ã€ç»†ç²’åº¦çš„æ¶ˆæ¯æ§åˆ¶ã€MCPé‡è¿ä¸è¯·æ±‚å¤´ã€å‰ç«¯æµå¼è¾“å‡ºç­‰ï¼Œå¯ä»¥é€šè¿‡ pip install oxygent==1.0.8 å‡çº§ä½“éªŒã€‚</p>
<p>å¼€æº3ä¸ªå¤šæœˆä»¥æ¥ï¼ŒOxyGentå‡­å€Ÿå…¶æ¨¡å—åŒ–ã€é«˜å¯ç”¨çš„è®¾è®¡ï¼Œå·²åœ¨äº¬ä¸œå†…éƒ¨åŠå¤–éƒ¨ç¤¾åŒºå¤šä¸ªä¸šåŠ¡åœºæ™¯ä¸­æœ‰æ•ˆæ”¯æ’‘æ™ºèƒ½ä½“æŠ€æœ¯è½åœ°ï¼ŒæŒç»­æ¨åŠ¨AIåº”ç”¨çš„å‘å±•ä¸åˆ›æ–°ï¼Œæ”¶è·1700å¤šä¸ªå®è´µStarã€‚æ¬¢è¿æŠ€æœ¯å¼€å‘è€…ä»¬ä½“éªŒåé¦ˆã€‚</p>
<p>GitHubï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjd-opensource%2FOxyGent" target="_blank" title="https://github.com/jd-opensource/OxyGent" ref="nofollow noopener noreferrer">github.com/jd-opensourâ€¦</a></p>
<p>å®˜ç½‘äº†è§£æ›´å¤šï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Foxygent.jd.com" target="_blank" title="https://oxygent.jd.com" ref="nofollow noopener noreferrer">oxygent.jd.com</a></p>
<h2 data-id="heading-0">ä¸€ã€OxyGent è®©ä½ åƒæ­ç§¯æœ¨ä¸€æ ·çµæ´»ç»„åˆæ„å»ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿ</h2>
<p>OxyGentæ˜¯äº¬ä¸œé›¶å”®å¼€æºçš„å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ï¼šå°† Agentã€Toolã€LLM å’Œ Flow ç»Ÿä¸€æŠ½è±¡ä¸ºå¯æ’æ‹”çš„åŸå­ AI ç»„ä»¶ Oxyï¼Œå¼€å‘è€…å¯ä»¥åƒæ­ç§¯æœ¨ä¸€æ ·çµæ´»ç»„åˆæ„å»ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼š</p>
<p>â€¢éµå¾ª Stateless è®¾è®¡ç†å¿µï¼Œå¹¶èå…¥ AOP è®¾è®¡æ€æƒ³ï¼Œå…·å¤‡æè‡´æ‰©å±•èƒ½åŠ›ä¸å…¨é“¾è·¯å†³ç­–è¿½æº¯èƒ½åŠ›ï¼›</p>
<p>â€¢æ‰“ç ´å¸¸è§„å›ºå®šæµç¨‹ç¼–æ’æ¨¡å¼ï¼Œè½¬å‘é€šè¿‡å®šä¹‰ Oxy é—´çš„æƒé™å…³ç³»æ¥æ„å»ºå¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ ¹æ®ä¸åŒä»»åŠ¡è¿›è¡ŒåŠ¨æ€è§„åˆ’ï¼Œå¹¶å®æ—¶ç”Ÿæˆå®é™…è°ƒç”¨æµç¨‹å›¾ï¼›</p>
<p>â€¢é€šè¿‡æ„å»º-æ¨ç†-è¿›åŒ–çš„é—­ç¯æ™ºèƒ½ä½“æµæ°´çº¿ï¼Œå®ç°äº† Oxy çš„æ— ç¼é›†æˆã€ç³»ç»Ÿå¼¹æ€§æ‰©å±•å’ŒæŒç»­ä¼˜åŒ–ï¼Œä¸º AI ç”Ÿæ€å‘å±•æä¾›å…¨æ–°å¯èƒ½ã€‚</p>
<p><strong>1ã€Oxyæ‰§è¡Œç”Ÿå‘½å‘¨æœŸ</strong></p>
<p>Oxyçš„æ‰§è¡Œç”Ÿå‘½å‘¨æœŸé€šè¿‡ä¸€ç³»åˆ—æ­¥éª¤æ¥ç®¡ç†å’Œåè°ƒå¤šæ™ºèƒ½ä½“ç³»ç»Ÿä¸­çš„ä¸åŒç»„ä»¶ã€‚è¿™äº›æ­¥éª¤ç¡®ä¿æ•°æ®åœ¨æ­£ç¡®çš„æ—¶é—´è¢«å¤„ç†ã€è®°å½•ã€ä¿å­˜å’Œå‘é€ã€‚åŒ…æ‹¬ï¼š</p>
<p>â€¢_pre_process: åœ¨æ‰§è¡Œä»»ä½•æ“ä½œä¹‹å‰è¿›è¡Œæ•°æ®é¢„å¤„ç†ã€‚åŒ…æ‹¬æ•°æ®æ¸…ç†ã€æ ¼å¼åŒ–æˆ–å…¶ä»–å‡†å¤‡å·¥ä½œã€‚</p>
<p>â€¢_pre_log: æ‰“å°å·¥å…·è°ƒç”¨æ—¥å¿—ï¼Œç”¨äºè®°å½•å³å°†è¿›è¡Œçš„æ“ä½œï¼Œä»¥ä¾¿åç»­è¿½è¸ªå’Œåˆ†æã€‚</p>
<p>â€¢_pre_save_data: åœ¨æ‰§è¡Œä¹‹å‰ä¿å­˜æ•°æ®ã€‚è¿™å¯èƒ½æ¶‰åŠå°†å½“å‰çŠ¶æ€æˆ–è¾“å…¥æ•°æ®ä¿å­˜åˆ°å­˜å‚¨ä¸­ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ã€‚</p>
<p>â€¢_format_input: æ ¼å¼åŒ–è¾“å…¥æ•°æ®ï¼Œä»¥ç¡®ä¿å…¶ç¬¦åˆåç»­å¤„ç†æ­¥éª¤çš„è¦æ±‚ã€‚</p>
<p>â€¢_pre_send_message: å‘é€å·¥å…·è°ƒç”¨æ¶ˆæ¯ï¼Œå‡†å¤‡å°†æ ¼å¼åŒ–åçš„æ•°æ®å‘é€ç»™å…¶ä»–ç»„ä»¶æˆ–ç³»ç»Ÿã€‚</p>
<p>â€¢_before_execute: åœ¨å®é™…æ‰§è¡Œä¹‹å‰åŠ è½½å†…å­˜æˆ–å…¶ä»–å¿…è¦çš„èµ„æºï¼Œä»¥ç¡®ä¿æ‰§è¡Œç¯å¢ƒçš„å‡†å¤‡ã€‚</p>
<p>â€¢_execute: å®é™…æ‰§è¡Œæ­¥éª¤ï¼Œè¿è¡Œä¸»è¦çš„è®¡ç®—æˆ–å¤„ç†é€»è¾‘ã€‚</p>
<p>â€¢_after_execute: æ‰§è¡Œå®Œæˆåï¼Œè¿›è¡Œåç»­å¤„ç†ï¼Œä¾‹å¦‚é‡Šæ”¾èµ„æºæˆ–è¿›è¡Œåˆæ­¥ç»“æœåˆ†æã€‚</p>
<p>â€¢_post_process: è‡ªå®šä¹‰è¾“å‡ºå¤„ç†ï¼Œå¤„ç†æ‰§è¡Œåçš„æ•°æ®ä»¥å‡†å¤‡åç»­æ­¥éª¤ã€‚</p>
<p>â€¢_post_log: æ‰“å°è§‚å¯Ÿæ—¥å¿—ï¼Œè®°å½•æ‰§è¡Œç»“æœå’Œè§‚å¯Ÿï¼Œä»¥ä¾¿åç»­åˆ†æå’Œè¿½è¸ªã€‚</p>
<p>â€¢_post_save_data: æ‰§è¡Œåä¿å­˜æ•°æ®ï¼Œå°†ç»“æœæˆ–çŠ¶æ€ä¿å­˜åˆ°å­˜å‚¨ä¸­ã€‚</p>
<p>â€¢_format_output: æ ¼å¼åŒ–è¾“å‡ºæ•°æ®ï¼Œä»¥ç¡®ä¿å…¶ç¬¦åˆåç»­ä½¿ç”¨æˆ–å‘é€çš„è¦æ±‚ã€‚</p>
<p>â€¢_post_send_message: å‘é€ç»“æœæ¶ˆæ¯ï¼Œå°†å¤„ç†åçš„æ•°æ®æˆ–ç»“æœå‘é€ç»™å…¶ä»–ç»„ä»¶æˆ–ç³»ç»Ÿã€‚</p>
<p>æ•´ä¸ªç”Ÿå‘½å‘¨æœŸé€šè¿‡è¿™äº›æ­¥éª¤ç¡®ä¿äº†æ•°æ®çš„æµåŠ¨å’Œå¤„ç†çš„é¡ºåºï¼Œæ”¯æŒå¤šæ™ºèƒ½ä½“ç³»ç»Ÿçš„åŠ¨æ€è§„åˆ’å’Œå®æ—¶ç”Ÿæˆè°ƒç”¨æµç¨‹å›¾ã€‚ä¸åŒçš„ç»„ä»¶åœ¨è¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ååŒå·¥ä½œï¼Œå®ç°æ— ç¼é›†æˆå’ŒæŒç»­ä¼˜åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e51afd8669a408c8eef8f3d09e56b4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658438&amp;x-signature=P%2Fs3k4wCQm9332s8S2nl2Sp5O7I%3D" alt="image.png" loading="lazy"/></p>
<p><strong>2ã€OxyGentå››å¤§æ•°æ®ä½œç”¨åŸŸ</strong></p>
<p>OxyGent æ¡†æ¶æä¾›äº†å››å¤§æ•°æ®ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬ Application åŸŸã€SessionGroup åŸŸã€Request åŸŸå’Œ Node åŸŸï¼Œåˆ†åˆ«å¯ä»¥é€šè¿‡ oxy_request.get/set_global_data()ã€oxy_request.get/set_group_data()ã€oxy_request.get/set_shared_data() å’Œ oxy_request.get/set_arguments() æ–¹æ³•çµæ´»è¯»å†™å¯¹åº”çš„æ•°æ®ã€‚ä»è€Œå®ç°ä¸åŒå±‚çº§çš„æ•°æ®éš”ç¦»ä¸å…±äº«ï¼Œæ˜¾è‘—æå‡äº†å¤šæ™ºèƒ½ä½“åä½œåœºæ™¯ä¸‹çš„æ•°æ®ç®¡ç†æ•ˆç‡å’Œå¼€å‘ä¾¿åˆ©æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6894e62b32b44155b724dbeca94ff17d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658438&amp;x-signature=niEh3T%2B%2BU6WbvtmAYKoYi2uG%2BAQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€OxyGentåœ¨äº¬ä¸œä¸ç¤¾åŒºçš„å®ç”¨åœºæ™¯</h2>
<p>ç›®å‰ OxyGent æ¡†æ¶å·²åœ¨äº¬ä¸œå†…éƒ¨å¤šä¸ªä¸šåŠ¡åœºæ™¯ä¸­æœ‰æ•ˆè½åœ°æ™ºèƒ½ä½“æŠ€æœ¯ï¼Œè¿˜é€šè¿‡äº†ä¼—å¤šç¤¾åŒºå¼€å‘è€…çš„è½åœ°åé¦ˆï¼Œæœ‰æ•ˆéªŒè¯äº†å¯ç”¨æ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<p><strong>1ã€äº¬ä¸œå†…éƒ¨å®ç”¨åœºæ™¯</strong></p>
<p>SOPåœºæ™¯ï¼šåœ¨æ ‡å‡†æ“ä½œæµç¨‹ï¼ˆSOPï¼‰åœºæ™¯ä¸­ï¼ŒOxyGent æ¡†æ¶æ”¯æŒå°†ä¸šåŠ¡æµç¨‹æ‹†åˆ†ä¸ºå¤šä¸ªæ™ºèƒ½ä½“ï¼Œæ¯ä¸ªæ™ºèƒ½ä½“è´Ÿè´£æµç¨‹ä¸­çš„ä¸€ä¸ªå…·ä½“ç¯èŠ‚ï¼Œä¾‹å¦‚å®¡æ‰¹ã€æ•°æ®æ ¡éªŒæˆ–é€šçŸ¥ã€‚é¡¶å±‚æ™ºèƒ½ä½“è´Ÿè´£æ•´ä½“æµç¨‹è°ƒåº¦ä¸è¿›åº¦ç›‘æ§ï¼Œä¸­å±‚å’Œåº•å±‚æ™ºèƒ½ä½“åˆ™è‡ªåŠ¨å®Œæˆå„è‡ªåˆ†é…çš„ä»»åŠ¡ã€‚é€šè¿‡è¿™ç§å¤šå±‚çº§åˆ†å·¥ï¼Œæµç¨‹æ‰§è¡Œæ•ˆç‡æœ‰æ‰€æå‡ï¼ŒåŒæ—¶ä¾¿äºæµç¨‹è¿½è¸ªå’Œå¼‚å¸¸å¤„ç†ï¼Œé€‚ç”¨äºå·¥å•æµè½¬ã€åˆåŒå®¡æ‰¹ç­‰æ ‡å‡†åŒ–ä¸šåŠ¡ã€‚</p>
<p>RAGé—®ç­”åœºæ™¯ï¼šåœ¨ RAG é—®ç­”åœºæ™¯ä¸‹ï¼ŒOxyGent æ¡†æ¶æ”¯æŒé€šè¿‡å¤šå±‚çº§æ™ºèƒ½ä½“åä½œå®ç°æ£€ç´¢å’Œç”Ÿæˆç»“åˆçš„é—®ç­”ç³»ç»Ÿã€‚é¡¶å±‚æ™ºèƒ½ä½“è´Ÿè´£ä»»åŠ¡åˆ†é…å’Œç»“æœæ•´åˆï¼Œæ£€ç´¢æ™ºèƒ½ä½“æŸ¥æ‰¾ç›¸å…³çŸ¥è¯†å†…å®¹ï¼Œç”Ÿæˆæ™ºèƒ½ä½“åŸºäºæ£€ç´¢ç»“æœç”Ÿæˆç­”æ¡ˆï¼Œè¯„å®¡æ™ºèƒ½ä½“è¿›è¡Œè´¨é‡æ£€æŸ¥ã€‚è¿™æ ·å¯ä»¥æå‡é—®ç­”çš„å‡†ç¡®æ€§å’Œç›¸å…³æ€§ï¼Œé€‚ç”¨äºä¼ä¸šçŸ¥è¯†åº“ã€æ™ºèƒ½å®¢æœç­‰éœ€è¦è‡ªåŠ¨åŒ–é—®ç­”çš„åº”ç”¨ã€‚</p>
<p>æ•°æ®åˆ†æåœºæ™¯ï¼šåŸºäº OxyGentï¼Œåœ¨æ•°æ®åˆ†æåœºæ™¯ä¸­æ”¯æŒè‡ªåŠ¨åŒ–å®Œæˆæ•°æ®é‡‡é›†ã€é¢„å¤„ç†ã€åˆ†æå’Œå¯è§†åŒ–ç­‰æ­¥éª¤ã€‚é¡¶å±‚æ™ºèƒ½ä½“è´Ÿè´£åˆ†ææµç¨‹çš„è®¾è®¡å’Œåè°ƒï¼Œå„å±‚æ™ºèƒ½ä½“åˆ†åˆ«æ‰¿æ‹…æ•°æ®æŠ“å–ã€æ¸…æ´—ã€åˆ†æå»ºæ¨¡å’Œç»“æœå±•ç¤ºç­‰ä»»åŠ¡ã€‚æ™ºèƒ½ä½“ä¹‹é—´çš„æ•°æ®æµä¸²è”ï¼Œä½¿æ•°æ®åˆ†ææµç¨‹æ›´åŠ è§„èŒƒå’Œé«˜æ•ˆï¼Œé€‚åˆè‡ªåŠ¨æŠ¥è¡¨ç”Ÿæˆã€å¼‚å¸¸æ£€æµ‹ç­‰æ•°æ®é©±åŠ¨åœºæ™¯ã€‚</p>
<p>å·¥å…·è°ƒç”¨åœºæ™¯ï¼šåœ¨å·¥å…·è°ƒç”¨åœºæ™¯ä¸‹ï¼ŒOxyGent æ¡†æ¶æ”¯æŒæ ¹æ®ä»»åŠ¡éœ€æ±‚è‡ªåŠ¨é€‰æ‹©å’Œè°ƒç”¨å¤–éƒ¨å·¥å…·æˆ–æœåŠ¡ã€‚é¡¶å±‚æ™ºèƒ½ä½“è´Ÿè´£ä»»åŠ¡è§£æå’Œå·¥å…·é€‰æ‹©ï¼Œå·¥å…·æ™ºèƒ½ä½“å°è£…å…·ä½“çš„æ“ä½œæ¥å£ï¼Œç›‘æ§æ™ºèƒ½ä½“è·Ÿè¸ªå·¥å…·è°ƒç”¨çŠ¶æ€å¹¶å¤„ç†å¼‚å¸¸ã€‚é€šè¿‡å¤šæ™ºèƒ½ä½“åˆ†å·¥ï¼Œå¯ä»¥å®ç°è·¨å¹³å°ã€è·¨ç³»ç»Ÿçš„è‡ªåŠ¨åŒ–æ“ä½œï¼Œæé«˜åŠå…¬å’Œè¿ç»´çš„æ•ˆç‡ã€‚</p>
<p>å¤šå±‚çº§åˆ†ç±»åœºæ™¯ï¼šåœ¨å¤šå±‚çº§åˆ†ç±»åœºæ™¯ä¸­ï¼ŒOxyGent æ¡†æ¶æ”¯æŒé€šè¿‡é¡¶å±‚æ™ºèƒ½ä½“è¿›è¡Œæ•´ä½“åˆ†ç±»æµç¨‹ç®¡ç†ï¼Œåˆ†å±‚åˆ†ç±»æ™ºèƒ½ä½“é€çº§ç»†åŒ–åˆ†ç±»å¯¹è±¡ï¼Œä¾‹å¦‚å…ˆè¿›è¡Œå¤§ç±»åˆ†ç»„ï¼Œå†ç»†åˆ†ä¸ºå­ç±»æˆ–å…·ä½“æ ‡ç­¾ã€‚æ ‡ç­¾æ™ºèƒ½ä½“è´Ÿè´£ä¸ºåˆ†ç±»å¯¹è±¡è¡¥å……å…ƒæ•°æ®æˆ–å±æ€§ï¼Œå¢å¼ºåˆ†ç±»ç»“æœçš„ä¸°å¯Œæ€§å’Œæ£€ç´¢èƒ½åŠ›ã€‚å„æ™ºèƒ½ä½“åä½œå®ç°å¤æ‚å¯¹è±¡çš„è‡ªåŠ¨åˆ†å±‚åˆ†ç±»å’Œæ ‡ç­¾èµ‹äºˆï¼Œæ”¯æŒçµæ´»æ‰©å±•å’Œç»´æŠ¤åˆ†ç±»ä½“ç³»ã€‚è¯¥åœºæ™¯é€‚ç”¨äºæ–‡æœ¬æ ‡ç­¾ã€äº§å“åˆ†çº§ã€é£é™©åˆ†å±‚ç­‰éœ€è¦å¤šå±‚çº§ç»„ç»‡å’Œæ£€ç´¢çš„åº”ç”¨ï¼Œæå‡åˆ†ç±»çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<p><strong>2ã€ç¤¾åŒºå¼€å‘è€…å®æµ‹åé¦ˆ</strong></p>
<p>é™¤äº†äº¬ä¸œå†…éƒ¨åº”ç”¨ï¼ŒOxyGentè¿˜é€šè¿‡é¡¹ç›®å®è·µå’Œç¤¾åŒºå¼€å‘è€…åé¦ˆï¼Œå±•ç°äº†åœ¨æŒ‡æ ‡æŸ¥è¯¢ã€å·¥å…·è‡ªåŠ¨åŒ–è°ƒç”¨ã€æµç¨‹å›¾ç”Ÿæˆä»¥åŠæ…¢ SQL æ²»ç†ç­‰å…¸å‹åœºæ™¯çš„å¯ç”¨æ€§ä¸å¯æ‰©å±•æ€§ã€‚ä¾‹å¦‚ï¼š</p>
<p>åŸºäºå¤šæ™ºèƒ½ä½“åä½œï¼Œå®ç°äº†è‡ªç„¶è¯­è¨€åˆ° SQL çš„æ™ºèƒ½è½¬æ¢å’Œè‡ªåŠ¨æ‰§è¡Œï¼Œæ”¯æŒå¤šç»´åº¦æŒ‡æ ‡ä¸€è‡´æ€§éªŒè¯ï¼›</p>
<p>ç»“åˆ JoyCode çš„ä½ä»£ç èƒ½åŠ›ï¼Œå¼€å‘äº†ç½‘é¡µä¿¡æ¯æå–ä¸æ–‡ä»¶æ“ä½œè‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œç”¨æˆ·å¯ç”¨è‡ªç„¶è¯­è¨€å®Œæˆç½‘é¡µæœç´¢å’Œæ–‡ä»¶å¤„ç†ï¼›</p>
<p>åœ¨å¯è§†åŒ–æ–¹é¢ï¼Œé€šè¿‡æ™ºèƒ½ä½“è°ƒç”¨æœ¬åœ° API è‡ªåŠ¨ç”Ÿæˆå’Œæ¸²æŸ“æµç¨‹å›¾ä»£ç ï¼›</p>
<p>åœ¨æ•°æ®åº“ä¼˜åŒ–æ–¹é¢ï¼Œæ™ºèƒ½ä½“èƒ½å¤Ÿè‡ªåŠ¨è¯Šæ–­æ…¢ SQL å¹¶ç”Ÿæˆæ²»ç†å»ºè®®ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½ã€‚</p>
<p>è¿™äº›åº”ç”¨æ¡ˆä¾‹å……åˆ†éªŒè¯äº† OxyGent ä½œä¸ºä¼ä¸šçº§å¼€æºæ™ºèƒ½ä½“å¹³å°çš„å®ç”¨æ€§å’Œæ‹“å±•èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ‰‹æŠŠæ‰‹æ•™å­¦ï¼šä»å…¥é—¨åˆ°é«˜é˜¶</h2>
<p>æƒ³è¦å¿«é€Ÿä¸Šæ‰‹ï¼Ÿæˆ‘ä»¬æ­¤å‰å·²å‘å¸ƒè¿‡è¯¦ç»†æ•™ç¨‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åŸºäºOxyGentæ¡†æ¶ï¼Œä»…ç”¨20è¡Œä»£ç å³å¯å¿«é€Ÿå¯åŠ¨ä½ çš„ç¬¬ä¸€ä¸ªæ™ºèƒ½ä½“ã€‚è¿˜æœ‰æ‰‹æŠŠæ‰‹å¸¦æ‚¨å®Œæˆæ™ºèƒ½ä½“å¼€å‘çš„å…¨æµç¨‹ï¼ŒåŒ…æ‹¬ç¯å¢ƒå®‰è£…ã€æ¨¡å‹æ³¨å†Œã€MCPå·¥å…·é›†æˆã€æ™ºèƒ½ä½“æ³¨å†Œã€å¯è§†åŒ–ç•Œé¢è°ƒè¯•ã€å¤šæ™ºèƒ½ä½“åä½œï¼Œä¹ƒè‡³åˆ†å¸ƒå¼æ™ºèƒ½ä½“éƒ¨ç½²ç­‰ç¯èŠ‚ã€‚</p>
<p>æ•™ç¨‹é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FskI1P481cSo8ibbAzjS1aQ" target="_blank" title="https://mp.weixin.qq.com/s/skI1P481cSo8ibbAzjS1aQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/skI1P481câ€¦</a></p>
<h2 data-id="heading-3">å››ã€ç¤¾åŒºå…±å»ºï¼šä»é—®é¢˜è§£ç­”åˆ°ä»£ç è´¡çŒ®çš„ç”Ÿæ€æ´»åŠ›</h2>
<p>åœ¨å¼€å‘è€…ç¤¾ç¾¤çš„æµ‹è¯•ä¸ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ±‡æ€»äº†ä¸€äº›å¸¸è§é—®é¢˜ï¼Œä¾‹å¦‚ï¼šå¦‚ä½•å¯¹æ¥ä¸åŒå‚å•†çš„LLM APIã€å¦‚ä½•æ¥å…¥MCPå·¥å…·ã€å¦‚ä½•å®ç°RAGç­‰ã€‚è¿™äº›é—®é¢˜ç›®å‰å·²åœ¨ç¤¾åŒºäº¤æµä¸­æ‰¾åˆ°è§£å†³è·¯å¾„ï¼Œè¿™æ­£ä½“ç°äº†OxyGentè‰¯å¥½çš„å¼€å‘è€…å‹å¥½æ€§ã€‚</p>
<p>ç¤¾åŒºçš„åˆ›é€ åŠ›è¿œä¸æ­¢äºæ­¤ã€‚å‰ä¸€æ®µæ—¶é—´OxyGentå›¢é˜Ÿç»„ç»‡çš„æ™ºèƒ½ä½“å·¥å…·åˆ›æ–°èµ›ï¼Œæ›´æ˜¯æ¶Œç°äº†å¤§é‡ä¼˜ç§€çš„å¤–éƒ¨æ¡ˆä¾‹ä¸ä»£ç è´¡çŒ®ã€‚æ™ºèƒ½ä½“å¤§èµ›éƒ¨åˆ†ä¼˜ç§€æ¡ˆä¾‹å±•ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e748ae130f40490ba841dabc5564a85c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658438&amp;x-signature=BRLDhJ7mcfVEF63aTs%2BP8QV6dYU%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f796ec20647488d9243dc273fb9325d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658438&amp;x-signature=X7VjPmzHUmyYtd%2FPQznXhPmIaQY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">äº”ã€ç‰¹åˆ«è‡´è°¢ï¼šæ¯ä¸€é¢—æ˜Ÿï¼Œéƒ½æ˜¯æˆ‘ä»¬å‰è¡Œçš„å…‰</h2>
<p>OxyGentä¸Šçº¿3ä¸ªæœˆï¼Œ1700ä¸ªStarè¢«äº®ç‚¹ã€‚æ¯ä¸€é¢—å®è´µçš„ Starï¼Œä¸ä»…æ˜¯å¯¹OxyGentæ¡†æ¶çš„è®¤å¯ï¼Œæ›´æ˜¯æ¥è‡ªæ¯ä¸€ä½å¼€å‘è€…ä¼™ä¼´çš„ä¿¡ä»»ä¸æ”¯æŒã€‚æœ€è¿‘ï¼Œæˆ‘ä»¬æ”¶é›†äº†æ‰€æœ‰ï¼ˆæˆªè‡³12æœˆ4æ—¥ä¹‹å‰ï¼‰ä¸ºé¡¹ç›®ç‚¹äº® Star çš„æœ‹å‹çš„ GitHub å¤´åƒï¼Œæ‹¼å‡‘æˆäº†è¿™å¼ ç‹¬ä¸€æ— äºŒçš„é¡¹ç›® Logoã€‚ OxyGentå›¢é˜Ÿæƒ³ç”¨ä¸€ç§ç‰¹åˆ«çš„æ–¹å¼ï¼Œçè—è¿™ä»½æƒ…è°Šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fdd75d684b94f549207b154f7e6c470~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658438&amp;x-signature=7eNM4qXIhMqKzdY2FrrMYSAiPIM%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä»½ç”±æˆ‘ä»¬å…±åŒç»˜åˆ¶çš„ç”»å·ï¼Œå°†ç»§ç»­æ›´æ–°ï¼</p>
<p>ç‚¹äº®æ´»åŠ¨è¿˜åœ¨ç»§ç»­ï¼Œæ¬¢è¿é‚€è¯·æ›´å¤šæœ‹å‹æ¥ç‚¹äº®æ˜Ÿè¾°ï¼Œè®©è¿™å¹…ç”»å˜å¾—æ›´åŠ ç’€ç’¨ï¼</p>
<p>GitHubç‚¹starç›´é€šï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjd-opensource%2FOxyGent" target="_blank" title="https://github.com/jd-opensource/OxyGent" ref="nofollow noopener noreferrer">github.com/jd-opensourâ€¦</a></p>
<p>å†æ¬¡æ„Ÿè°¢æ¯ä¸€ä½æ”¯æŒçš„æ‚¨ï¼</p>
<p>æ¬¢è¿å¤§å®¶è¿›ç¾¤åé¦ˆï½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92b6ac943f824832bd11fd8c42fa7b3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658438&amp;x-signature=Zv%2FGEtTbBY4ipeulhw4prhKqsdc%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue äº‹ä»¶æœºåˆ¶å…¨é¢è§£æï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ DOM å†’æ³¡å®Œå…¨è®²é€]]></title>    <link>https://juejin.cn/post/7585021315691364362</link>    <guid>https://juejin.cn/post/7585021315691364362</guid>    <pubDate>2025-12-18T09:58:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691364362" data-draft-id="7585023817459253274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue äº‹ä»¶æœºåˆ¶å…¨é¢è§£æï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ DOM å†’æ³¡å®Œå…¨è®²é€"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-18T09:58:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç é€”æ½‡æ½‡"/> <meta itemprop="url" content="https://juejin.cn/user/2386391857112611"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue äº‹ä»¶æœºåˆ¶å…¨é¢è§£æï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ DOM å†’æ³¡å®Œå…¨è®²é€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2386391857112611/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç é€”æ½‡æ½‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:58:14.000Z" title="Thu Dec 18 2025 09:58:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Vue äº‹ä»¶æœºåˆ¶å…¨é¢è§£æï¼šåŸç”Ÿäº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ä¸ DOM å†’æ³¡å®Œå…¨è®²é€</h2>
<p>ä¸ºä»€ä¹ˆè¦ç†è§£ Vue äº‹ä»¶ï¼Ÿ</p>
<ul>
<li>
<p>åªçŸ¥é“ @clickï¼Œå´åˆ†ä¸æ¸…å®ƒå±äºè°</p>
</li>
<li>
<p>å­ç»„ä»¶ä¸ emitï¼Œçˆ¶ç»„ä»¶ @click ä¸ºä½•èƒ½è§¦å‘ï¼Ÿ</p>
</li>
<li>
<p>é¢è¯•ä¸­è¢«é—® â€œemit å’Œ @click åŒºåˆ«ï¼Ÿ</p>
</li>
</ul>
<h2 data-id="heading-1">1.Vueäº‹ä»¶çš„æ ¸å¿ƒæœºåˆ¶</h2>
<h3 data-id="heading-2">1.1 åŸç”Ÿäº‹ä»¶ï¼ˆnative eventsï¼‰</h3>
<p>å½“ @drop å†™åœ¨ HTML åŸç”Ÿæ ‡ç­¾ä¸Šï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div @<span class="hljs-attr">drop</span>=<span class="hljs-string">"handleDrop"</span>&gt;&lt;/div&gt;
</code></pre>
<p>è¿™è¯´æ˜ï¼š</p>
<ul>
<li>ç›‘å¬çš„æ˜¯æµè§ˆå™¨ DOM çš„ drop äº‹ä»¶</li>
<li>ç”¨æˆ·æŠŠæ–‡ä»¶æ‹–åˆ° ä¸Šæ—¶è§¦å‘</li>
<li>ä¸éœ€è¦ä»»ä½•å­ç»„ä»¶ emit</li>
</ul>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">"chunk-upload-trigger"</span>
  @<span class="hljs-attr">drop</span>=<span class="hljs-string">"handleDrop"</span>
  @<span class="hljs-attr">dragenter</span>=<span class="hljs-string">"handleDragEnter"</span>
  @<span class="hljs-attr">dragleave</span>=<span class="hljs-string">"handleDragLeave"</span>
&gt;</span>
</code></pre>
<blockquote>
<p>è¿™äº›éƒ½æ˜¯åŸç”Ÿ DOM äº‹ä»¶ï¼Œæ²¡æœ‰ä»»ä½•â€œå­ç»„ä»¶è§¦å‘â€çš„æ¦‚å¿µ</p>
</blockquote>
<h3 data-id="heading-3">1.2 å­ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶ï¼ˆå­ç»„ä»¶ emitï¼‰</h3>
<p>çˆ¶ç»„ä»¶ä¸­å†™å…¥ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">Child</span> @<span class="hljs-attr">file-selected</span>=<span class="hljs-string">"onFileSelected"</span> /&gt;</span>
</code></pre>
<p>ç­‰å¾…å­ç»„ä»¶ Child è°ƒç”¨</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">emit</span>(<span class="hljs-string">'file-selected'</span>, file)
</code></pre>
<p>çˆ¶ç»„ä»¶æ”¶åˆ°è¿™ä¸ªäº‹ä»¶å¹¶æ‰§è¡Œ onFileSelected</p>
<ul>
<li>ChunkUploadTrigger å†…éƒ¨ emit(â€˜file-selectedâ€™, file)</li>
<li>UploadPanel æ¥æ”¶åˆ°</li>
<li>æ‰§è¡Œ handleFileSelected</li>
</ul>
<p>è¿™ç§å®Œå…¨ä¸æ¶‰åŠ DOM äº‹ä»¶ã€‚</p>
<h3 data-id="heading-4">1.3 æµè§ˆå™¨ DOM çš„äº‹ä»¶å†’æ³¡æœºåˆ¶</h3>
<p>çˆ¶ç»„ä»¶ä¸­</p>
<pre><code class="hljs language-ini" lang="ini">&lt;ChunkUploadTrigger @<span class="hljs-attr">drop</span>=<span class="hljs-string">"handleDrop"</span> /&gt;
</code></pre>
<p>å­ç»„ä»¶ä¸­</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div @<span class="hljs-attr">drop</span>=<span class="hljs-string">"handleDropInside"</span>&gt;&lt;/div&gt;
</code></pre>
<p>å­ç»„ä»¶ä¸ç”¨ emit é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶çˆ¶ç»„ä»¶éƒ½æ˜¯åŒåçš„äº‹ä»¶ï¼Œæ­¤æ—¶çˆ¶ç»„ä»¶çš„äº‹ä»¶å°±ä¼šç©¿é€ç»‘å®šåˆ°å­ç»„ä»¶æ ¹å…ƒç´ ï¼Œä¸¤è€…çš„æ‰§è¡Œé¡ºåºï¼ŒchildDrop() ä¼šè§¦å‘ï¼ŒparentDrop() ä¹Ÿä¼šè§¦å‘ï¼Œä¸¤è€…è§¦å‘é¡ºåºæŒ‰ DOM äº‹ä»¶æµæ¥ï¼ˆå†’æ³¡é¡ºåºï¼‰</p>
<p>DOM äº‹ä»¶å†’æ³¡ä¸å…³å¿ƒä½ æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶ã€ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåªå…³å¿ƒ DOM èŠ‚ç‚¹æ ‘ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">çˆ¶ç»„ä»¶æ ¹ DOM
  â””â”€â”€ å­ç»„ä»¶æ ¹ DOM
<span class="hljs-code">        â””â”€â”€ å­ç»„ä»¶å†…éƒ¨ DOM
</span></code></pre>
<p>æ‰€ä»¥è™½ç„¶å†™åœ¨äº†ä¸¤ä¸ª.vue æ–‡ä»¶ï¼Œä½†æ˜¯æ¸²æŸ“å‡ºæ¥çš„å…¶å®æ˜¯è·Ÿåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œå†™äº†ä¸¤ä¸ª çˆ¶å­div æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œäº‹ä»¶å†’æ³¡å°±æ˜¯æ²¿ç€è¿™æ£µ DOM æ ‘å¾€ä¸Šèµ°çš„</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Parent</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ChunkUploadTrigger</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Parent</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent-root"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"chunk-upload-trigger"</span>&gt;</span>   â† å­ç»„ä»¶æ ¹èŠ‚ç‚¹
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">2.äº‹ä»¶ç›¸å…³çš„å®ç”¨è¡¥å……</h2>
<h3 data-id="heading-6">2.4 DOM å¸¸ç”¨äº‹ä»¶</h3>
<p>æµè§ˆå™¨åŸç”Ÿäº‹ä»¶ï¼Œæ”¾åœ¨ HTML æ ‡ç­¾ä¸Šå°±èƒ½è§¦å‘</p>
<p>é¼ æ ‡äº‹ä»¶</p>
<blockquote>
<p>click,dblclick,mousedown,mouseup</p>
</blockquote>
<p>é”®ç›˜äº‹ä»¶</p>
<blockquote>
<p>keydown,keyup,keypress</p>
</blockquote>
<p>è¾“å…¥ &amp; è¡¨å•äº‹ä»¶</p>
<blockquote>
<p>dragenter,dragover,dragleave,drop</p>
</blockquote>
<p>å…¶ä»– DOM äº‹ä»¶</p>
<blockquote>
<p>scroll,wheel,resize,load,error</p>
</blockquote>
<h3 data-id="heading-7">2.5 Vue äº‹ä»¶ä¿®é¥°ç¬¦æ€»è§ˆ</h3>








































<table><thead><tr><th><strong>ä¿®é¥°ç¬¦</strong></th><th><strong>å«ä¹‰</strong></th><th><strong>å¯¹åº”çš„ DOM è¡Œä¸º</strong></th></tr></thead><tbody><tr><td>.stop</td><td>é˜»æ­¢äº‹ä»¶å†’æ³¡</td><td>event.stopPropagation()</td></tr><tr><td>.prevent</td><td>é˜»æ­¢é»˜è®¤è¡Œä¸º</td><td>event.preventDefault()</td></tr><tr><td>.capture</td><td>ä½¿ç”¨æ•è·æ¨¡å¼</td><td>addEventListener(â€¦, true)</td></tr><tr><td>.self</td><td>åªæœ‰äº‹ä»¶ç›®æ ‡æ˜¯å½“å‰å…ƒç´ æ—¶è§¦å‘</td><td>event.target === currentTarget</td></tr><tr><td>.once</td><td>äº‹ä»¶åªè§¦å‘ä¸€æ¬¡</td><td>è‡ªåŠ¨ removeEventListener</td></tr><tr><td>.passive</td><td>è¡¨ç¤ºç›‘å¬å™¨ä¸ä¼šè°ƒç”¨ preventDefault</td><td>passive: true</td></tr></tbody></table>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html">@dragover.prevent="handleDragOver"
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™ä¸ª GitHub ç¥å™¨è®© Gemini å†™çš„ç½‘ç«™ 3 ç§’ä¸Šçº¿ï¼Œç´¯è®¡éƒ¨ç½² 67 ä¸‡ä¸ªç½‘ç«™ã€‚]]></title>    <link>https://juejin.cn/post/7584357116435267625</link>    <guid>https://juejin.cn/post/7584357116435267625</guid>    <pubDate>2025-12-17T06:07:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584357116435267625" data-draft-id="7584358227611156522" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™ä¸ª GitHub ç¥å™¨è®© Gemini å†™çš„ç½‘ç«™ 3 ç§’ä¸Šçº¿ï¼Œç´¯è®¡éƒ¨ç½² 67 ä¸‡ä¸ªç½‘ç«™ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-17T06:07:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™ä¸ª GitHub ç¥å™¨è®© Gemini å†™çš„ç½‘ç«™ 3 ç§’ä¸Šçº¿ï¼Œç´¯è®¡éƒ¨ç½² 67 ä¸‡ä¸ªç½‘ç«™ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T06:07:31.000Z" title="Wed Dec 17 2025 06:07:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Gemini 3 å‘å¸ƒåä»¤äººæƒŠè‰³çš„æ•ˆæœè¿˜åœ¨æŒç»­å‘é…µã€‚</p>
<p>ç°åœ¨çš„ Gemini 3 å†™å‰ç«¯ä»£ç ï¼Œå°¤å…¶æ˜¯ HTML/Tailwind/JS è¿™ä¸€å¥—å·²ç»å¾ˆå“äººäº†ã€‚ä½ ç»™ä¸ªè‰å›¾æˆ–å‡ å¥äººè¯ï¼Œå®ƒå°±èƒ½ç»™ä½ åå‡ºä¸€å †èƒ½è·‘çš„ä»£ç ã€‚</p>
<p>ç›¸ä¿¡ä½ ä¹Ÿåˆ·åˆ°è¿‡ç±»ä¼¼ä¸‹é¢è¿™ç§ç‚«é…·çš„ Vibe Coding ç½‘ç«™ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d42711765581494aad2ad8da1bb3a05c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=SDddhHlx5k1rcdMqiDPXdUGwMS4%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b53dd27e72e14846a67bf07635a15748~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=2d5V6g3sN0Ei2GMVpcCefRwYydw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”å¦‚ä¸Šé¢è¿™ä¸¤ä¸ªï¼Œåƒè´¾ç»´æ–¯ä¸€æ ·æ‰‹åŠ¿æ“æ§ä»ªè¡¨çƒï¼›è¿˜æœ‰æ‰‹åŠ¿æ§åˆ¶ 3D ç²’å­æ—‹è½¬ï¼Œé…·æ¯™äº†ã€‚</p>
<p>æœ¬æ–‡æ•™ä½  3 åˆ†é’Ÿä½¿ç”¨å¼€æºé¡¹ç›® PinMe æŠŠ Gemini ç”Ÿæˆçš„åº”ç”¨éƒ¨ç½²åˆ°çº¿ä¸Šï¼Œå‘ç»™ä½ çš„å¥½æœ‹å‹ï¼Œä»–ä»¬ä¹Ÿèƒ½è®¿é—®ï¼Œä¹Ÿèƒ½ç©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bdc0c8e7be44979bcc97bbc4afed681~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=bWnAkHessgVGELqMApRRAByFRk4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">01ã€Gemini ç”Ÿæˆç½‘ç«™</h2>
<p>ä½ å¯ä»¥æ‰“å¼€ aistudio.google.comï¼Œæ‰¾åˆ°ä¾§è¾¹æ çš„ build æ¨¡å¼ã€‚</p>
<p>ç„¶åè¾“å…¥ä½ æƒ³ç”Ÿæˆåº”ç”¨çš„æç¤ºè¯ï¼Œæ¯”å¦‚ï¼šç”Ÿæˆä¸€ä¸ªå¹´ä¼šæŠ½å¥–ç¨‹åºï¼Œè¦æ±‚éå¸¸ç‚«é…·ï¼Œæ”¯æŒåå°ä¸Šä¼  excel å¯¼å…¥äººå‘˜åå•ã€é…ç½®å¥–å“ã€é…ç½®é»˜è®¤ä¸­å¥–äººã€‚ä½ å¯ä»¥æŠŠ AI ç”Ÿæˆçš„ä»£ç ä¸‹è½½ä¸‹æ¥ï¼Œåœ¨ä½ æœ¬åœ°å°±æ˜¯ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4643daedac049a8911f5ae8bc4575d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=P1jHxkqnQ11EYjGR7h2ha%2FSWhXQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»¥å‰ä½ æ‹¿åˆ° AI ç”Ÿæˆçš„ä»£ç ï¼Œè¿˜å¾—æŠ˜è…¾ Vercelã€ä¹°æœåŠ¡å™¨ã€é… Nginx æˆ–è€…æ˜¯æ GitHub Pagesï¼ŒæŒºçƒ¦çš„ã€‚</p>
<p>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨å¼€æºé¡¹ç›® PinMeï¼Œä¸€ä¸ªå‘½ä»¤æŠŠé™æ€ç½‘ç«™å˜æˆä»»ä½•äººå¯è®¿é—®çš„é“¾æ¥ã€‚</p>
<h2 data-id="heading-1">02ã€éƒ¨ç½²ç½‘ç«™</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1acab6a646714bee921e81873457bfa2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=LHdb7txMqTP%2Fa4qCGraeAes0E6c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>PinMe æ˜¯ä¸€ä¸ªä¸€é”®éƒ¨ç½²å·¥å…·ï¼Œå¦‚æœä½ æƒ³æŠŠ AI ç”Ÿæˆçš„ç½‘ç«™éƒ¨ç½²åˆ°çº¿ä¸Šï¼Œå¯ä»¥è€ƒè™‘ç”¨å®ƒã€‚é¦–å…ˆå®‰è£… PinMeï¼š</p>
<pre><code class="hljs">npm install -gÂ pinme
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b4927a97206436894c564a563f13605~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=joN0EnfiVnPYqJ%2B3i2bmfH%2BJIwI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼ŒæŠŠæœ¬åœ°ç½‘ç«™æ–‡ä»¶éƒ¨ç½²åˆ°çº¿ä¸Šã€‚</p>
<pre><code class="hljs language-bash" lang="bash">pinme upload /path/to/file-or-directory
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/421f1f934d434444b1600ea04d44c1f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=OmPsLrsKCZkQD0On1xa3Q5RP%2BsQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªå‘½ä»¤æ•²å‡ºå»ï¼ŒPinMe ä¼šå¼€å§‹å¹²æ´»ï¼ŒæŠŠä½ çš„æ–‡ä»¶ä¸Šä¼ åˆ° IPFS ç½‘ç»œã€‚å‡ ç§’é’Ÿåï¼Œå®ƒä¼šåç»™ä½ ä¸€ä¸ªé“¾æ¥ï¼Œé€šå¸¸æ˜¯Â .eth.limoÂ æˆ–è€… IPFS ç½‘å…³çš„é“¾æ¥ã€‚</p>
<p><strong>è¿™å°±å®Œäº‹äº†ï¼Œä½ çš„ç½‘ç«™å·²ç»åœ¨çº¿ä¸Šäº†ï¼Œå…¨çƒå¯è®¿é—®ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/719f646d32ea4abc872a73d944b9fdf2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=yykm%2FHzaefRGa%2F%2BXGzrFev3TO8c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ç©æ„å„¿ä¸ä»…æ˜¯å¿«ï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™æ˜¯åŸºäº IPFS çš„ï¼Œè¿™æ„å‘³ç€ä½ çš„ç½‘ç«™æ˜¯é’‰åœ¨ç½‘ç»œä¸Šçš„ï¼Œå¾ˆéš¾è¢«å•ç‚¹å…³åœã€‚</p>
<p>æ²¡æœ‰ä¹±ä¸ƒå…«ç³Ÿçš„å¸¦å®½è´¦å•ï¼Œç‰¹åˆ«é€‚åˆåš Landing Pageã€ä¸ªäººåç‰‡ã€æˆ–è€…ä¸´æ—¶è·‘ä¸ª Demo ç»™å®¢æˆ·çœ‹ã€‚</p>
<p>Gemini 3 å‡ ç§’é’Ÿç”Ÿæˆï¼ŒPinMe å‡ ç§’é’Ÿä¸Šçº¿ï¼Œè¿™æ•ˆç‡è¿™è°å—å¾—äº†ã€‚</p>
<h2 data-id="heading-2">03ã€é¡¹ç›®åŸç†</h2>
<p><strong>PinMe</strong>Â å¯ä»¥ç®€åŒ–å»ä¸­å¿ƒåŒ–å‰ç«¯ï¼ˆDecentralized Frontendï¼‰çš„å‘å¸ƒæµç¨‹ã€‚</p>
<p>ä¸€è¡Œå‘½ä»¤æŠŠè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ã€ä»£ç ã€æ–‡ä»¶å¤¹å‘å¸ƒæˆä»»ä½•äººéƒ½èƒ½è®¿é—®çš„é“¾æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2df51b90088a4b03976621c782f970e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766556450&amp;x-signature=kSYrHgPX2SPgUFvEuE%2BJxv6e674%3D" alt="å›¾ç‰‡" loading="lazy"/>æ„Ÿå…´è¶£çš„å¯ä»¥å»è¿™ä¸ªå¼€æºé¡¹ç›®ä¸»é¡µçœ‹çœ‹ï¼Œæœ‰ç”¨ç‚¹ä¸ª Starã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/glitternetwork/pinme</span>
</code></pre>
<p>PinMe ä¾èµ–äº Glitter Protocol çš„åŸºç¡€è®¾æ–½æ¥è¿è¡Œï¼šå½“ä½ åœ¨æœ¬åœ°è¿è¡Œå‘½ä»¤æ—¶ï¼ŒPinMe ä¼šè‡ªåŠ¨æ£€æµ‹ä½ çš„é™æ€æ–‡ä»¶ç›®å½•ï¼Œå°†å…¶æ‰“åŒ…å‹ç¼©ã€‚</p>
<p>æ–‡ä»¶ä¼šè¢«ä¸Šä¼ åˆ° IPFS ç½‘ç»œï¼Œå¹¶é€šè¿‡ Glitter Protocol çš„èŠ‚ç‚¹è¿›è¡Œ Pinningï¼ˆé’‰ä½ï¼‰ï¼Œé˜²æ­¢æ•°æ®å› é•¿æ—¶é—´æ— äººè®¿é—®è€Œè¢«ç½‘ç»œåƒåœ¾å›æ”¶æœºåˆ¶æ¸…é™¤ã€‚</p>
<p>ä¸Šä¼ æˆåŠŸåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ª IPFS CIDï¼ˆå†…å®¹æ ‡è¯†ç¬¦ï¼‰ï¼Œä»¥åŠä¸€ä¸ªåŸºäºç½‘å…³çš„å¯è®¿é—® URL</p>
<p>ä¾‹å¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fipfs.io%2Fipfs%2F" target="_blank" title="https://ipfs.io/ipfs/" ref="nofollow noopener noreferrer">ipfs.io/ipfs/</a>Â æˆ–ç‰¹å®šçš„ç½‘å…³é“¾æ¥ã€‚</p>
<p>é¡¹ç›®æ„¿æ™¯ä¸­åŒ…å«è‡ªåŠ¨æ›´æ–° ENS è®°å½•çš„åŠŸèƒ½ï¼Œè¿™ä½¿å¾—ä½ å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªåƒÂ myapp.ethÂ è¿™æ ·æ˜“è¯»çš„å»ä¸­å¿ƒåŒ–åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€é•¿ä¸²ä¹±ç å“ˆå¸Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Monorepo åœ¨ Docker ä¸­çš„æ„å»ºæ–¹æ¡ˆæ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7584997357445447720</link>    <guid>https://juejin.cn/post/7584997357445447720</guid>    <pubDate>2025-12-18T10:14:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584997357445447720" data-draft-id="7584997357445398568" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Monorepo åœ¨ Docker ä¸­çš„æ„å»ºæ–¹æ¡ˆæ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T10:14:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zmirror"/> <meta itemprop="url" content="https://juejin.cn/user/676954892932935"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Monorepo åœ¨ Docker ä¸­çš„æ„å»ºæ–¹æ¡ˆæ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/676954892932935/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zmirror
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:14:57.000Z" title="Thu Dec 18 2025 10:14:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h3 data-id="heading-0">1. <strong>pnpm deployã€Œå®˜æ–¹æ–¹æ¡ˆã€</strong></h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fpnpm.io%2Fdocker" target="_blank" title="https://pnpm.io/docker" ref="nofollow noopener noreferrer">pnpm.io/docker</a></p>
<blockquote>
<p><strong>æ ¸å¿ƒç†å¿µï¼š</strong> ç‰©ç†æå–ï¼ŒæŒ‰éœ€éš”ç¦»</p>
</blockquote>
<h4 data-id="heading-1">1. æ„å»ºæµ</h4>
<ul>
<li><strong><code>pnpm fetch</code></strong>: ä»…åŸºäº <code>pnpm-lock.yaml</code> ä¸‹è½½ä¾èµ–åˆ°è™šæ‹Ÿå­˜å‚¨å±‚ã€‚åªè¦ä¾èµ–æ¸…å•æœªå˜ï¼Œè¯¥å±‚å°†å®ç°<strong>æè‡´çš„ Docker ç¼“å­˜å‘½ä¸­</strong></li>
<li><strong><code>pnpm install --offline</code></strong>: æ‹·è´æºç åå¼ºåˆ¶ç¦»çº¿å®‰è£…ã€‚å®Œå…¨è·³è¿‡ç½‘ç»œè¯·æ±‚ï¼Œåˆ©ç”¨æœ¬åœ°ç¼“å­˜é«˜é€Ÿè£…é…ç¯å¢ƒ</li>
<li><strong><code>pnpm deploy</code></strong>: å°†æŒ‡å®šå­åŒ…ä» Workspace ä¸­â€œæŠ½å–â€åˆ°ç‹¬ç«‹ç›®å½•ï¼Œå¹¶å°†åŸæœ‰çš„å†…å®¹å¯»å€é“¾æ¥è‡ªåŠ¨è½¬æ¢ä¸º<strong>çœŸå®çš„ç‰©ç†æ–‡ä»¶</strong></li>
</ul>
<h4 data-id="heading-2">2. è‡´å‘½ç¼ºç‚¹</h4>
<ul>
<li><strong>å­¤å²›æ•ˆåº”</strong>ï¼š<code>deploy</code> åçš„ç›®å½•å‘ˆç»å¯¹éš”ç¦»çŠ¶æ€ï¼Œ<strong>ä¸ä¼šè‡ªåŠ¨æºå¸¦</strong>æ ¹ç›®å½•çš„éä¾èµ–æ–‡ä»¶ï¼ˆå¦‚ <code>tsconfig.base.json</code>ã€<code>.eslintrc</code>ï¼‰ï¼Œå¯¼è‡´åŸºäºç›¸å¯¹è·¯å¾„çš„é…ç½®ç»§æ‰¿å¤±æ•ˆ</li>
<li><strong>å·¥å…·ç¼ºå¤±</strong>ï¼šè‹¥æ„å»ºè„šæœ¬ä¾èµ–æ ¹ç›®å½•çš„å…±äº«å·¥å…·ï¼ˆå¦‚ <code>rimraf</code>ï¼‰ï¼Œå¿…é¡»åœ¨æ¯ä¸ªå­åŒ…çš„ <code>devDependencies</code> ä¸­æ˜¾å¼å£°æ˜ï¼Œå¦åˆ™éš”ç¦»åçš„ç¯å¢ƒå°†æ— æ³•è¯†åˆ«æŒ‡ä»¤</li>
</ul>
<h3 data-id="heading-3">2. Hoisted ã€Œè¡¥ä¸æ–¹æ¡ˆã€</h3>
<blockquote>
<p><strong>æ ¸å¿ƒç†å¿µï¼š</strong> ç»“æ„æ¨¡æ‹Ÿï¼Œè·¯å¾„æ¡¥æ¥</p>
</blockquote>
<h4 data-id="heading-4">1. ä¾èµ–å¹³é“ºæ¨¡å¼</h4>
<pre><code class="hljs language-ini" lang="ini">pnpm install <span class="hljs-attr">--node-linker</span>=hoisted
</code></pre>
<ul>
<li>å¼ºåˆ¶ pnpm æ”¾å¼ƒç½‘æ ¼åŒ–é“¾æ¥ç»“æ„ï¼Œå°†æ‰€æœ‰ä¾èµ–ï¼ˆå«å„å­åŒ…ä¾èµ–ï¼‰å¹³é“ºå®‰è£…è‡³æ ¹ç›®å½• <code>/app/node_modules</code></li>
<li>å½»åº•æ¶ˆé™¤ Docker é•œåƒæ„å»ºä¸­å¸¸è§çš„è½¯é“¾æ¥è§£æå¤±æ•ˆé—®é¢˜ï¼Œä½¿æ–‡ä»¶ç³»ç»Ÿå›å½’ç»å…¸çš„<code>ç‰©ç†è·¯å¾„å¯è¾¾</code>çŠ¶æ€</li>
</ul>
<h4 data-id="heading-5">2. é‡å»ºè·¯å¾„é“¾è·¯</h4>
<p>ç”±äºä¾èµ–è¢«â€œæå‡â€åˆ°äº†æ ¹ç›®å½•ï¼Œè€Œå­åŒ…ï¼ˆPackagesï¼‰çš„ä»£ç ç‰©ç†ä½ç½®ä»åœ¨æ·±å±‚ç›®å½•ï¼Œå› æ­¤éœ€è¦é€šè¿‡ä¸¤ä¸ªå…³é”®è¡¥ä¸æ¥ä¿®å¤é€»è¾‘æ–­å±‚ï¼š</p>
<ol>
<li>ç›®å½•æ˜ å°„ Symbolic Link</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">RUN <span class="hljs-built_in">ln</span> -s /app/node_modules /app/packages/node_modules
</code></pre>
<p>åœ¨å­åŒ…å±‚çº§çš„äººä¸ºåˆ›é€ ä¸€ä¸ªæŒ‡å‘æ ¹ç›®å½•ä¾èµ–çš„å…¥å£ã€‚å®Œç¾ä¿®å¤æºç ä¸­é€šè¿‡ç›¸å¯¹è·¯å¾„ï¼ˆå¦‚ <code>@import '../node_modules/'</code>) å¼•ç”¨ä¾èµ–æ—¶çš„è§£ææŠ¥é”™</p>
<ol start="2">
<li>æ‰§è¡Œä¸Šä¸‹æ–‡ PATH Injection</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">// å°†æ ¹ç›®å½•çš„å¯æ‰§è¡Œè„šæœ¬åº“æ³¨å…¥ç³»ç»Ÿå…¨å±€å˜é‡
ENV <span class="hljs-attr">PATH</span>=/app/node_modules/.bin:<span class="hljs-variable">$PATH</span>
</code></pre>
<p>å°†æ ¹ç›®å½•çš„ <code>.bin</code> å¯æ‰§è¡Œè„šæœ¬åº“æ³¨å…¥ç³»ç»Ÿå…¨å±€å˜é‡ã€‚ç¡®ä¿åœ¨ä»»æ„å­åŒ…ç›®å½•ä¸‹æ‰§è¡Œ <code>ng build</code> æˆ– <code>vite</code> æ—¶ï¼Œç³»ç»Ÿèƒ½è·¨ç›®å½•ç²¾å‡†å®šä½æŒ‡ä»¤</p>
<h3 data-id="heading-6">3. æŠ€æœ¯é€‰å‹å¯¹æ¯”</h3>






























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>å®˜æ–¹æ–¹æ¡ˆ (Deploy)</strong></th><th><strong>è¡¥ä¸æ–¹æ¡ˆ (Hoisted)</strong></th></tr></thead><tbody><tr><td><strong>è®¾è®¡å–å‘</strong></td><td>å­åŒ…ç‹¬ç«‹åŒ–ï¼šå°†å­åŒ…è§†ä¸ºç‹¬ç«‹å¾®æœåŠ¡</td><td>ä»“åº“æ•´ä½“åŒ–ï¼šä¿æŒ Monorepo å®Œæ•´ä¸Šä¸‹æ–‡</td></tr><tr><td><strong>é…ç½®å…±äº«</strong></td><td>å›°éš¾ï¼šéœ€æ‰‹åŠ¨ cp è¡¥é½çˆ¶çº§é…ç½®æ–‡ä»¶</td><td>åŸç”Ÿæ”¯æŒï¼šå¤©ç„¶æ”¯æŒç›¸å¯¹è·¯å¾„é…ç½®ç»§æ‰¿</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>é«˜ï¼šä¸¥æ§å¹½çµä¾èµ–ï¼Œè¿è¡Œç¯å¢ƒçº¯å‡€</td><td>ä¸­ï¼šä¾èµ–å¹³é“ºå¯èƒ½å¼•å…¥éšå¼ä¾èµ–é£é™©</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å­åŒ…å¯å®Œå…¨ç‹¬ç«‹éƒ¨ç½²ã€æ— å¤–éƒ¨é…ç½®ä¾èµ–</td><td><strong>å¼ºè€¦åˆã€é‡åº¦å…±äº«é…ç½®çš„ Monorepo é¡¹ç›®</strong></td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®ä¿¡å†…å®¹emojiè¡¨æƒ…åŒ…ç¼–è¾‘å™¨ + vue3 + ts + WrchatEmogi Editor]]></title>    <link>https://juejin.cn/post/7585022810180436031</link>    <guid>https://juejin.cn/post/7585022810180436031</guid>    <pubDate>2025-12-18T10:14:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585022810180436031" data-draft-id="7584817405229056041" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®ä¿¡å†…å®¹emojiè¡¨æƒ…åŒ…ç¼–è¾‘å™¨ + vue3 + ts + WrchatEmogi Editor"/> <meta itemprop="keywords" content="JavaScript,Vue.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T10:14:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠå±±çƒŸé›¨åŠå±±é’"/> <meta itemprop="url" content="https://juejin.cn/user/1099167360354702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®ä¿¡å†…å®¹emojiè¡¨æƒ…åŒ…ç¼–è¾‘å™¨ + vue3 + ts + WrchatEmogi Editor
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167360354702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠå±±çƒŸé›¨åŠå±±é’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:14:52.000Z" title="Thu Dec 18 2025 10:14:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>wechat-emoji-editorç»„ä»¶æ•ˆæœ</p>





















<table><thead><tr><th>åŠŸèƒ½</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>æ·»åŠ è¡¨æƒ…</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b92130c0a234f279d6fe7f50999b5db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2K5bGx54Of6Zuo5Y2K5bGx6Z2S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658062&amp;x-signature=gDlHCJlaFH1FIXQaVr8mt4H91I0%3D" alt="image.png" width="70%" loading="lazy"/></td></tr><tr><td>é¢„è§ˆ</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b625a6e85c814fbba2827fc6f8eef622~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2K5bGx54Of6Zuo5Y2K5bGx6Z2S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658062&amp;x-signature=hfuDmZ5utNyo9ehtFo2Si7f0e9s%3D" alt="image.png" width="90%" loading="lazy"/></td></tr><tr><td>ç›®å½•</td><td><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/636472a6387f444cb82ac5974d196099~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2K5bGx54Of6Zuo5Y2K5bGx6Z2S:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766658062&amp;x-signature=o9eaKRaBS5BLk6n06gJpTVftqts%3D" alt="image.png" width="30%" loading="lazy"/></td></tr></tbody></table>
<p>ä»£ç -ç»„ä»¶ï¼š ï¼ˆéœ€è¦æºç ç•™è¨€ï¼‰</p>
<pre><code class="hljs language-ini" lang="ini">// 
import WechatEmojiEditor from '@/components/wechat-emoji-editor/index.vue'
const <span class="hljs-attr">welcomeMsg</span> = <span class="hljs-string">''</span>

&lt;WechatEmojiEditor
  :<span class="hljs-attr">rows</span>=<span class="hljs-string">"4"</span>
  <span class="hljs-attr">type</span>=<span class="hljs-string">"textarea"</span>
  :<span class="hljs-attr">maxlength</span>=<span class="hljs-string">"1200"</span>
  show-word-limit
  <span class="hljs-attr">v-model</span>=<span class="hljs-string">"welcomeMsg"</span>
&gt;&lt;/WechatEmojiEditor&gt;

</code></pre>
<p>å›¾ç‰‡æ‰“åŒ…è„šæœ¬ ï¼ˆéœ€è¦æºç ç•™è¨€ï¼‰</p>
<p>package.json</p>
<pre><code class="hljs language-bash" lang="bash">    {
              <span class="hljs-string">"name"</span>: <span class="hljs-string">"build"</span>,
              <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0.0"</span>,
              <span class="hljs-string">"description"</span>: <span class="hljs-string">"build"</span>,
              <span class="hljs-string">"main"</span>: <span class="hljs-string">"index.js"</span>,
              <span class="hljs-string">"scripts"</span>: {
                <span class="hljs-string">"test"</span>: <span class="hljs-string">"echo "</span>Error: no <span class="hljs-built_in">test</span> specified<span class="hljs-string">" &amp;&amp; exit 1"</span>,
                <span class="hljs-string">"buildImg"</span>: <span class="hljs-string">"sudo node sharpbuild2.js"</span>,
                <span class="hljs-string">"build"</span>: <span class="hljs-string">"node sharpbuild3.js &amp;&amp; vite build"</span> 
              },
              <span class="hljs-string">"devDependencies"</span>: {
                <span class="hljs-string">"sharp"</span>: <span class="hljs-string">"^0.34.3"</span>
              }
            }
</code></pre>
<p>sharpbuildè„šæœ¬</p>
<pre><code class="hljs language-php" lang="php">```
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">imgs</span> = [
        {
            cn: <span class="hljs-string">"[å¾®ç¬‘]"</span>,
            hk: <span class="hljs-string">"[å¾®ç¬‘]"</span>,
            us: <span class="hljs-string">"[Smile]"</span>,
            code: <span class="hljs-string">"/::)"</span>,
            web_code: <span class="hljs-string">"/å¾®ç¬‘"</span>,
            src: <span class="hljs-string">"/src/assets/emojis/Smile.png"</span>,
          },
          {
            cn: <span class="hljs-string">"[æ’‡å˜´]"</span>,
            hk: <span class="hljs-string">"[æ’‡å˜´]"</span>,
            us: <span class="hljs-string">"[Grimace]"</span>,
            code: <span class="hljs-string">"/::~"</span>,
            web_code: <span class="hljs-string">"/æ’‡å˜´"</span>,
            src: <span class="hljs-string">"/src/assets/emojis/Grimace.png"</span>,
          },
          <span class="hljs-comment">// ...</span>
        ]
        console.<span class="hljs-title function_ invoke__">log</span>(<span class="hljs-string">'imgs'</span>, imgs)
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">list</span> = imgs.<span class="hljs-title function_ invoke__">map</span>((item, index) =&gt; {
          <span class="hljs-keyword">return</span> {
            input: `${__dirname}${item.src}`,
            top: Math.<span class="hljs-title function_ invoke__">floor</span>(index / <span class="hljs-number">10</span>) * <span class="hljs-number">128</span>, <span class="hljs-comment">// å‚ç›´åç§»é‡</span>
            left: (index % <span class="hljs-number">10</span>) * <span class="hljs-number">128</span>, <span class="hljs-comment">// æ°´å¹³åç§»é‡</span>
          };
        });
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">sharp</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">"sharp"</span>);
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">fs</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">"fs"</span>);
        <span class="hljs-comment">// æŒ‡å®šè¾“å…¥æ–‡ä»¶è·¯å¾„</span>
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">url</span> = `${__dirname}/src/assets/wechat.png`;
        <span class="hljs-title function_ invoke__">sharp</span>({
          <span class="hljs-attr">create</span>: {
            <span class="hljs-attr">width</span>: <span class="hljs-number">10</span> * <span class="hljs-number">128</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">11</span> * <span class="hljs-number">128</span>,
            <span class="hljs-attr">channels</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">background</span>: { <span class="hljs-attr">r</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">g</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">255</span>, <span class="hljs-attr">alpha</span>: <span class="hljs-number">0</span> },
          },

        })

          .<span class="hljs-title function_ invoke__">composite</span>(<span class="hljs-keyword">list</span>)
          .<span class="hljs-title function_ invoke__">toFile</span>(url)
          .<span class="hljs-title function_ invoke__">then</span>((info) =&gt; {
            console.<span class="hljs-title function_ invoke__">log</span>(<span class="hljs-string">"Image composite successfully:"</span>, info);
          })
          .<span class="hljs-keyword">catch</span>((error) =&gt; {
            console.<span class="hljs-title function_ invoke__">error</span>(<span class="hljs-string">"Error processing image:"</span>, error);
          });
   ```
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ CSS ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7584266184882880546</link>    <guid>https://juejin.cn/post/7584266184882880546</guid>    <pubDate>2025-12-17T00:54:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584266184882880546" data-draft-id="7576936862632411136" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ CSS ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-17T00:54:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ CSS ä¼ªç±»å’Œä¼ªå…ƒç´ çš„æœ¬è´¨åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:54:34.000Z" title="Wed Dec 17 2025 00:54:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å†™å‰ç«¯CSSæ ·å¼çš„æ—¶å€™ï¼Œç»å¸¸ç”¨åˆ°è¿™ç§<code>:hover</code>æˆ–è€…<code>::before</code>æœ‰å†’å·çš„å†™æ³•ã€‚æˆ‘å¾ˆç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆæœ‰äº›æ˜¯å•å†’å·ï¼Œæœ‰äº›åˆæ˜¯åŒå†’å·å‘¢ï¼Ÿ</p>
<p>åæ¥æˆ‘æ‰çŸ¥é“è¿™ç§å†™æ³•ä¹ŸåŒºåˆ†ä¸º<strong>ä¼ªç±»</strong>å’Œ<strong>ä¼ªå…ƒç´ </strong>ã€‚</p>
<h3 data-id="heading-0">ä¼ªç±»å’Œä¼ªå…ƒç´ æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>ä¼ªç±»ï¼ˆPseudo-classesï¼‰</strong>ï¼šâ€‹ç”¨äºé€‰æ‹©å¤„äºç‰¹å®šçŠ¶æ€çš„å…ƒç´ ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼Œå½“å…ƒç´ å¤„äºæŸç§çŠ¶æ€çš„æ—¶å€™ï¼Œç»™å®ƒåŠ ä¸Šä¸€ä¸ªâ€œç±»â€æ¥å®šä¹‰æ ·å¼ã€‚</p>
<ul>
<li>è¯­æ³•ï¼šâ€‹å•ä¸ªå†’å·<code>:</code>ï¼Œä¾‹å¦‚<code>:hover</code></li>
</ul>
<p><strong>ä¼ªå…ƒç´ ï¼ˆPseudo-elementsï¼‰</strong>ï¼šç”¨äºé€‰æ‹©å…ƒç´ çš„ç‰¹å®šéƒ¨åˆ†ã€‚å¯ä»¥ç†è§£ä¸ºï¼Œå®ƒåœ¨æ–‡æ¡£ä¸­åˆ›å»ºäº†ä¸€ä¸ªè™šæ‹Ÿçš„â€œå…ƒç´ â€æ¥è®¾ç½®æ ·å¼ã€‚</p>
<ul>
<li>è¯­æ³•ï¼šåŒå†’å·<code>::</code>ï¼Œä¾‹å¦‚<code>::before</code></li>
</ul>
<hr/>
<h3 data-id="heading-1">åªè¦æ˜¯å•ä¸ªå†’å·çš„å°±ä¸€å®šæ˜¯ä¼ªå…ƒç´ å—ï¼Ÿ</h3>
<p>åœ¨ç°ä»£CSS3ç‚¹è§„èŒƒä¸­ï¼Œæ‰€æœ‰ä½¿ç”¨åŒå†’å·<code>::</code>è¯­æ³•çš„é€‰æ‹©å™¨éƒ½è¢«å®šä¹‰ä¸ºä¼ªå…ƒç´ ã€‚è¿™æ˜¯W3Cä¸ºäº†æ˜ç¡®åŒºåˆ†ä¼ªç±»å’Œä¼ªå…ƒç´ è€Œå¼•å…¥çš„çº¦å®šã€‚</p>
<p>ä½†åœ¨æ—©æœŸçš„CSSä¸­ï¼Œä¼ªå…ƒç´ ä¹Ÿä½¿ç”¨å•å†’å·ï¼Œå› ä¸ºå½“æ—¶æ²¡æœ‰åŒºåˆ†è¯­æ³•ã€‚æ‰€ä»¥ä¸ºäº†å‘åå…¼å®¹ï¼Œå¤§å¤šæ•°çš„æµè§ˆå™¨è¿˜æ˜¯ä¼šæ”¯æŒ<code>:before</code>ã€<code>:after</code>ç­‰å•å†’å·çš„å†™æ³•ã€‚</p>
<p>ä½†æ–°çš„ä¼ªå…ƒç´ åªæ”¯æŒåŒå†’å·ï¼Œæ¯”å¦‚ï¼š<code>::selection</code>ã€‚</p>
<hr/>
<h3 data-id="heading-2">ä¼ªç±»ï¼ˆPseudo-classesï¼‰</h3>
<p>ä¼ªç±»ç”¨äº<strong>é€‰æ‹©å¤„äºç‰¹å®šçŠ¶æ€çš„å…ƒç´ </strong>ï¼Œæ¯”å¦‚ç”¨æˆ·äº¤äº’çŠ¶æ€ã€ç»“æ„ä½ç½®ç­‰ã€‚</p>
<h4 data-id="heading-3">å¸¸è§ä¼ªç±»ç¤ºä¾‹ï¼š</h4>
<ul>
<li><code>:hover</code>ï¼šé¼ æ ‡æ‚¬åœæ—¶</li>
<li><code>:focus</code>ï¼šå…ƒç´ è·å¾—ç„¦ç‚¹æ—¶ï¼ˆå¦‚è¾“å…¥æ¡†ï¼‰</li>
<li><code>:active</code>ï¼šå…ƒç´ è¢«æ¿€æ´»æ—¶ï¼ˆå¦‚ç‚¹å‡»æŒ‰é’®ï¼‰</li>
<li><code>:visited</code>ï¼šé“¾æ¥å·²è¢«è®¿é—®è¿‡</li>
<li><code>:first-child</code> / <code>:last-child</code>ï¼šç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ </li>
<li><code>:nth-child(n)</code>ï¼šç¬¬ n ä¸ªå­å…ƒç´ </li>
<li><code>:not(selector)</code>ï¼šæ’é™¤åŒ¹é… selector çš„å…ƒç´ </li>
</ul>
<h4 data-id="heading-4">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">color</span>: red;
}

<span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid blue;
}

<span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:first</span>-child {
  <span class="hljs-attribute">font-weight</span>: bold;
}
</code></pre>
<p>ä¼ªç±»ä½¿ç”¨<strong>å•å†’å·</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¼ªå…ƒç´ ï¼ˆPseudo-elementsï¼‰</h3>
<p>ä¼ªå…ƒç´ ç”¨äº<strong>åˆ›å»ºå¹¶æ ·å¼åŒ–æ–‡æ¡£ä¸­ä¸å­˜åœ¨çš„è™šæ‹Ÿå…ƒç´ </strong>ï¼Œæ¯”å¦‚æ®µè½é¦–å­—æ¯ã€é€‰ä¸­æ–‡æœ¬ã€å…ƒç´ å‰åæ’å…¥å†…å®¹ç­‰ã€‚</p>
<h4 data-id="heading-6">å¸¸è§ä¼ªå…ƒç´ ï¼š</h4>
<ul>
<li><code>::before</code>ï¼šåœ¨å…ƒç´ å†…å®¹å‰æ’å…¥å†…å®¹</li>
<li><code>::after</code>ï¼šåœ¨å…ƒç´ å†…å®¹åæ’å…¥å†…å®¹</li>
<li><code>::first-letter</code>ï¼šæ®µè½çš„ç¬¬ä¸€ä¸ªå­—æ¯</li>
<li><code>::first-line</code>ï¼šæ®µè½çš„ç¬¬ä¸€è¡Œ</li>
<li><code>::selection</code>ï¼šç”¨æˆ·é€‰ä¸­çš„æ–‡æœ¬ï¼ˆéƒ¨åˆ†æµè§ˆå™¨éœ€åŠ å‰ç¼€ï¼‰</li>
</ul>
<h4 data-id="heading-7">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">p</span><span class="hljs-selector-pseudo">::first-letter</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2em</span>;
  <span class="hljs-attribute">color</span>: gold;
}

<span class="hljs-selector-class">.quote</span><span class="hljs-selector-pseudo">::before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"â€œ"</span>;
}

<span class="hljs-selector-class">.quote</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">"â€"</span>;
}

<span class="hljs-selector-pseudo">::selection</span> {
  <span class="hljs-attribute">background</span>: yellow;
  <span class="hljs-attribute">color</span>: black;
}
</code></pre>
<p>ä¼ªå…ƒç´ ä½¿ç”¨<strong>åŒå†’å·</strong>ï¼ˆ<code>::before</code>ï¼‰ï¼Œè¿™æ˜¯CSS3çš„è§„èŒƒå†™æ³•ã€‚å‡ºäºå…¼å®¹æ€§è€ƒè™‘ï¼Œæ—§ä»£ç å¯èƒ½ä»ç”¨å•å†’å·ï¼ˆå¦‚<code>:before</code>ï¼‰ï¼Œç°ä»£é¡¹ç›®å»ºè®®ç”¨åŒå†’å·ã€‚</p>
<hr/>
<h3 data-id="heading-8">ä¸»è¦åŒºåˆ«</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ªç±»ï¼ˆPseudo-classï¼‰</th><th>ä¼ªå…ƒç´ ï¼ˆPseudo-elementï¼‰</th></tr></thead><tbody><tr><td>ä½œç”¨å¯¹è±¡</td><td>å·²å­˜åœ¨çš„å…ƒç´ çš„<strong>çŠ¶æ€æˆ–ä½ç½®</strong></td><td>åˆ›å»º<strong>ä¸å­˜åœ¨çš„è™šæ‹Ÿå†…å®¹æˆ–éƒ¨åˆ†</strong></td></tr><tr><td>è¯­æ³•</td><td>å•å†’å·ï¼ˆå¦‚ <code>:hover</code>ï¼‰</td><td>åŒå†’å·ï¼ˆå¦‚ <code>::before</code>ï¼‰</td></tr><tr><td>æ˜¯å¦ç”Ÿæˆå†…å®¹</td><td>å¦</td><td>æ˜¯ï¼ˆå¸¸é…åˆ <code>content</code> å±æ€§ï¼‰</td></tr><tr><td>ç¤ºä¾‹</td><td><code>a:hover</code>, <code>:nth-child(2)</code></td><td><code>::first-letter</code>, <code>::after</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-9">ç¤ºä¾‹æ•ˆæœ</h3>
<p>ä¸€ä¸ªç®€å•çš„å¾…åŠäº‹é¡¹åˆ—è¡¨
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0592bd2d56b48c689768cb07b368be4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537673&amp;x-signature=%2FiRwnx4WTNIkf3UjEJUqOy02d6A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-10">å®Œæ•´ä»£ç </h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ä¼ªç±»vsä¼ªå…ƒç´ ç¤ºä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-class">.container</span> {
            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">500px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
            <span class="hljs-attribute">background</span>: white;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">30px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.2</span>);
        }

        <span class="hljs-selector-tag">h1</span> {
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
        }

        <span class="hljs-selector-class">.explanation</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">border-left</span>: <span class="hljs-number">4px</span> solid <span class="hljs-number">#3498db</span>;
        }

        <span class="hljs-selector-class">.todo-list</span> {
            <span class="hljs-attribute">list-style</span>: none;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        }

        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span> {
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">8px</span> <span class="hljs-number">0</span>;
            <span class="hljs-attribute">background</span>: white;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#e9ecef</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
            <span class="hljs-attribute">position</span>: relative;
        }

        <span class="hljs-comment">/* === ä¼ªç±»æ ·å¼ === */</span>
        <span class="hljs-comment">/* ç¬¬ä¸€ä¸ªå­å…ƒç´  */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:first</span>-child {
            <span class="hljs-attribute">border-left</span>: <span class="hljs-number">4px</span> solid <span class="hljs-number">#e74c3c</span>;
        }

        <span class="hljs-comment">/* å¶æ•°é¡¹ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(even) {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f9fa</span>;
        }

        <span class="hljs-comment">/* æ‚¬åœæ•ˆæœ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#aab49b</span>;
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">10px</span>);
            <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#aab49b</span>;
        }

        <span class="hljs-comment">/* ç‚¹å‡»æ•ˆæœ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:active</span> {
            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#2ecc71</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.98</span>);
        }

        <span class="hljs-comment">/* === ä¼ªå…ƒç´ æ ·å¼ === */</span>
        <span class="hljs-comment">/* å‰é¢çš„å›¾æ ‡ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::before</span> {
            <span class="hljs-attribute">content</span>: <span class="hljs-string">"ğŸ“Œ"</span>;
            <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
        }

        <span class="hljs-comment">/* æ‚¬åœæ—¶å›¾æ ‡å˜åŒ– */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::before</span> {
            <span class="hljs-attribute">content</span>: <span class="hljs-string">"ğŸ”¥"</span>;
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.2</span>);
        }

        <span class="hljs-comment">/* åé¢çš„è£…é¥°çº¿ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::after</span> {
            <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
            <span class="hljs-attribute">position</span>: absolute;
            <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, <span class="hljs-number">#e74c3c</span>, <span class="hljs-number">#669521</span>);
            <span class="hljs-attribute">transition</span>: width <span class="hljs-number">0.3s</span> ease;
        }

        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::after</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        }

        <span class="hljs-comment">/* é¦–å­—æ¯æ ·å¼ */</span>
        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">::first-letter</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.3em</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
            <span class="hljs-attribute">font-weight</span>: bold;
        }

        <span class="hljs-selector-class">.todo-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span><span class="hljs-selector-pseudo">::first-letter</span> {
            <span class="hljs-attribute">color</span>: white;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä¼ªç±» vs ä¼ªå…ƒç´  æ¼”ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"explanation"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>ä¼ªç±»ï¼ˆPseudo-classï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>ï¼šé€‰æ‹©å…ƒç´ çš„ç‰¹å®š<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>çŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>ä¼ªå…ƒç´ ï¼ˆPseudo-elementï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>ï¼šé€‰æ‹©å…ƒç´ çš„ç‰¹å®š<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>éƒ¨åˆ†<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-list"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å­¦ä¹  CSS ä¼ªç±»<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç†è§£ä¼ªå…ƒç´ <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å®Œæˆé¡¹ç›®ç»ƒä¹ <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¤ä¹ çŸ¥è¯†ç‚¹<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-comment">// æ·»åŠ ç‚¹å‡»åˆ‡æ¢å®ŒæˆçŠ¶æ€çš„åŠŸèƒ½</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.todo-list li'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
            item.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">'completed'</span>);
            });
        });
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œå¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼š</p>
<h4 data-id="heading-11">ä¼ªç±»ï¼ˆæ“ä½œçš„æ˜¯æ•´ä¸ªå…ƒç´ ï¼‰</h4>
<ul>
<li><code>:first-child</code>ï¼šæ“ä½œç¬¬ä¸€ä¸ª<code>&lt;li&gt;</code>å…ƒç´ çš„æ•´ä½“æ ·å¼</li>
<li><code>:nth-child(even)</code>ï¼šæ“ä½œå¶æ•°ä½ç½®<code>&lt;li&gt;</code>çš„æ•´ä½“èƒŒæ™¯</li>
<li><code>:hover</code>ï¼šæ“ä½œé¼ æ ‡æ‚¬åœæ—¶<code>&lt;li&gt;</code>çš„æ•´ä½“çŠ¶æ€å˜åŒ–</li>
</ul>
<h4 data-id="heading-12">ä¼ªå…ƒç´ ï¼ˆæ“ä½œçš„æ˜¯å…ƒç´ çš„ä¸€éƒ¨åˆ†ï¼‰</h4>
<ul>
<li><code>::before</code>ï¼šåœ¨<code>&lt;li&gt;</code>å†…å®¹ä¹‹å‰æ’å…¥æ–°å†…å®¹ï¼ˆå›¾æ ‡ï¼‰</li>
<li><code>::after</code>ï¼šåœ¨<code>&lt;li&gt;</code>å†…å®¹ä¹‹åæ’å…¥è£…é¥°çº¿æ¡</li>
<li><code>::first-letter</code>ï¼šåªæ ·å¼åŒ–<code>&lt;li&gt;</code>æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—æ¯</li>
</ul>
<p><strong>ç®€å•è®°å¿†</strong>ï¼šä¼ªç±»æ˜¯çŠ¶æ€é€‰æ‹©å™¨ï¼Œä¼ªå…ƒç´ æ˜¯å†…å®¹ç”Ÿæˆå™¨ã€‚</p>
<hr/>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p><strong>ä¼ªç±»</strong>ï¼š</p>
<ul>
<li>é€‰æ‹©å…ƒç´ çš„<strong>ç‰¹å®šçŠ¶æ€</strong>ï¼ˆå¦‚:hoverã€:focusï¼‰</li>
<li>è¯­æ³•ä½¿ç”¨<strong>å•å†’å·</strong>ï¼ˆå¦‚<code>:hover</code>ï¼‰</li>
<li>ä¸ç”Ÿæˆæ–°å†…å®¹ï¼Œåªé’ˆå¯¹å…ƒç´ æœ¬èº«çš„çŠ¶æ€å˜åŒ–</li>
<li>å¸¸è§ç”¨é€”ï¼šç”¨æˆ·äº¤äº’åé¦ˆã€ç»“æ„ä½ç½®é€‰æ‹©</li>
</ul>
<p><strong>ä¼ªå…ƒç´ </strong>ï¼š</p>
<ul>
<li>åˆ›å»ºå¹¶æ ·å¼åŒ–å…ƒç´ çš„<strong>ç‰¹å®šéƒ¨åˆ†</strong>æˆ–<strong>è™šæ‹Ÿå†…å®¹</strong></li>
<li>è¯­æ³•ä½¿ç”¨<strong>åŒå†’å·</strong>ï¼ˆå¦‚<code>::before</code>ï¼‰</li>
<li>å¸¸é…åˆ<code>content</code>å±æ€§ç”Ÿæˆæ–°å†…å®¹</li>
<li>å¸¸è§ç”¨é€”ï¼šæ’å…¥è£…é¥°å…ƒç´ ã€æ ·å¼åŒ–æ–‡æœ¬éƒ¨åˆ†</li>
</ul>
<p>é€šè¿‡ä¸Šé¢çš„å†…å®¹ï¼Œæˆ‘ä¹Ÿç»ˆäºææ‡‚äº†ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ«ã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-14">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6V83qjR6u0nyfzL-14xYAw" target="_blank" title="https://mp.weixin.qq.com/s/6V83qjR6u0nyfzL-14xYAw" ref="nofollow noopener noreferrer">ã€Šasync/await åˆ°åº•è¦ä¸è¦åŠ  try-catchï¼Ÿå¼‚æ­¥é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPQ_w7CDVoIZPn-CVH2DKJg" target="_blank" title="https://mp.weixin.qq.com/s/PQ_w7CDVoIZPn-CVH2DKJg" ref="nofollow noopener noreferrer">ã€ŠVue3 å’Œ Vue2 çš„æ ¸å¿ƒåŒºåˆ«ï¼Ÿå¾ˆå¤šå¼€å‘è€…éƒ½æ²¡å®Œå…¨ææ‡‚çš„ 10 ä¸ªç»†èŠ‚ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fp0n2mN5RDDDaIWuHHVRUZQ" target="_blank" title="https://mp.weixin.qq.com/s/p0n2mN5RDDDaIWuHHVRUZQ" ref="nofollow noopener noreferrer">ã€ŠJava å¼€å‘å¿…çœ‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ forï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Streamï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqI3TRTdDfRJSH9kCTqAQUw" target="_blank" title="https://mp.weixin.qq.com/s/qI3TRTdDfRJSH9kCTqAQUw" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª MySQL é«˜çº§ç”¨æ³•ï¼Œè®©ä½ çš„ä»£ç åˆå¿«åˆå¥½çœ‹ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nginxè·¯å¾„ç›¸å…³é…ç½®æ±‡æ€»]]></title>    <link>https://juejin.cn/post/7585019819192942602</link>    <guid>https://juejin.cn/post/7585019819192942602</guid>    <pubDate>2025-12-18T10:16:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585019819192942602" data-draft-id="7585019819192926218" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nginxè·¯å¾„ç›¸å…³é…ç½®æ±‡æ€»"/> <meta itemprop="keywords" content="Nginx"/> <meta itemprop="datePublished" content="2025-12-18T10:16:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¾™ä¸¤æºª"/> <meta itemprop="url" content="https://juejin.cn/user/817692382869000"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nginxè·¯å¾„ç›¸å…³é…ç½®æ±‡æ€»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692382869000/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¾™ä¸¤æºª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:16:53.000Z" title="Thu Dec 18 2025 10:16:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€rootå’Œaliasçš„åŒºåˆ«</h2>
<p>rootæ˜¯å°†rooté…ç½®çš„è·¯å¾„å’Œlocationé…ç½®çš„è·¯å¾„æ‹¼æ¥ï¼›aliasåˆ™æ˜¯ç”¨aliasçš„è·¯å¾„æ›¿æ¢locationé…ç½®çš„è·¯å¾„</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿”å›localhost:port/html/test/index.htmlçš„æ–‡ä»¶ </span>
location ^~ /test/ { 
    root html/;
    index index.html index.htm;
} 
<span class="hljs-comment"># è¿”å›localhost:port/html/test/index.htmlçš„æ–‡ä»¶ </span>
location ^~ /test/ { 
    <span class="hljs-built_in">alias</span> html/test/; 
    index index.html index.htm;
}
</code></pre>
<h2 data-id="heading-1">äºŒã€ locationè·¯å¾„æœ«å°¾æœ‰æ— <code>/</code>çš„åŒºåˆ«</h2>
<h5 data-id="heading-2">1.locationæœ«å°¾æ²¡æœ‰<code>/</code>ï¼Œåˆ™ä»¥ç»“å°¾è·¯å¾„è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼Œé…ç½®<code>location /test/a</code>ï¼Œåˆ™å¯ä»¥åŒ¹é…<code>/test/a</code>,<code>/test/a/</code>,<code>/test/a/b</code>,<code>/test/abc</code></h5>
<ul>
<li>âœ…Â <code>/test/a</code></li>
<li>âœ…Â <code>/test/a/</code></li>
<li>âœ…Â <code>/test/a/b</code></li>
<li>âœ…Â <code>/test/abc</code>ï¼ˆæ˜¯çš„ï¼Œä¹Ÿä¼šåŒ¹é…ï¼ï¼‰</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">lication /test/a {
    <span class="hljs-built_in">alias</span> html/test/;
    index index.html index.htm;
}
</code></pre>
<h5 data-id="heading-3">2.locationæœ«å°¾æœ‰<code>/</code>ï¼Œåˆ™ä»¥ç»“å°¾è·¯å¾„è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œé…ç½®<code>location /test/a/</code>ï¼Œåˆ™å¯ä»¥åŒ¹é…<code>/test/a/</code>,<code>/test/a/b</code>,ä¸èƒ½åŒ¹é…<code>/test/a</code>,<code>/test/abc</code></h5>
<ul>
<li>âœ…Â <code>/test/a/</code></li>
<li>âœ…Â <code>/test/a/b</code></li>
<li>âŒÂ <code>/test/a</code>ï¼ˆä¸¥æ ¼æ¥è¯´ä¸åŒ¹é…ï¼Œä½†æœ‰æ—¶ä¼š301é‡å®šå‘åˆ°æœ‰<code>/</code>çš„ç‰ˆæœ¬ï¼‰</li>
<li>âŒÂ <code>/test/abc</code></li>
</ul>
<pre><code class="hljs language-bash" lang="bash">lication /test/a/ {
    <span class="hljs-built_in">alias</span> html/test/;
    index index.html index.htm;
}
</code></pre>
<blockquote>
<p>ä½¿ç”¨ proxy_pass é…ç½®åå‘ä»£ç†,åœ¨åŒ¹é…åˆ° location é…ç½®çš„ URL è·¯å¾„åï¼Œè½¬å‘è¯·æ±‚åˆ° proxy_pass é…ç½®é¢ URLï¼Œæ–¹å‘ä»£ç†åçš„åœ°å€ä¸ proxy_pass è·¯å¾„æœ«å°¾æ˜¯å¦æœ‰"/"æœ‰å…³ï¼›</p>
</blockquote>
<h2 data-id="heading-4">ä¸‰ã€proxy_pass è·¯å¾„æœ«å°¾æœ‰æ— <code>/</code>çš„åŒºåˆ«</h2>
<h5 data-id="heading-5">1.proxy_pass è·¯å¾„æœ«å°¾é…ç½®/è¡¨ç¤ºç»å¯¹è·¯å¾„ï¼Œå½“è¯·æ±‚åŒ¹é…åˆ°/api/æ—¶ï¼Œä¼šç›´æ¥å°†æ›¿æ¢ä¸º proxy_pass çš„è·¯å¾„</h5>
<pre><code class="hljs language-javascript" lang="javascript">location   /api/  {
      proxy_pass    <span class="hljs-attr">http</span>:<span class="hljs-comment">//127.0.0.1:8080/;</span>
}
</code></pre>
<p>è¯·æ±‚ <a href="https://link.juejin.cn?target=http%3A%2F%2Fxxx%2Fapi%2Fget%25EF%25BC%258C%25E5%25B0%2586%25E4%25BC%259A%25E8%25A2%25AB" target="_blank" title="http://xxx/api/get%EF%BC%8C%E5%B0%86%E4%BC%9A%E8%A2%AB" ref="nofollow noopener noreferrer">http://xxx/api/getï¼Œå°†ä¼šè¢«</a> nginx è½¬å‘è¯·æ±‚åˆ°<a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8080%2Fget%25EF%25BC%2588%25E6%259C%25AA%25E9%2599%2584%25E5%258A%25A0%2Fapi%2F%25E8%25B7%25AF%25E5%25BE%2584%25EF%25BC%2589%25E3%2580%2582" target="_blank" title="http://127.0.0.1:8080/get%EF%BC%88%E6%9C%AA%E9%99%84%E5%8A%A0/api/%E8%B7%AF%E5%BE%84%EF%BC%89%E3%80%82" ref="nofollow noopener noreferrer">http://127.0.0.1:8080/getï¼ˆæœªé™„åŠ /api/è·¯å¾„ï¼‰ã€‚</a></p>
<h5 data-id="heading-6">2.proxy_pass è·¯å¾„æœ«å°¾æ²¡æœ‰/è¡¨ç¤ºç›¸å¯¹è·¯å¾„ï¼Œå½“è¯·æ±‚åŒ¹é…åˆ°/api/æ—¶ï¼Œä¼šæ‹¼æ¥ proxy_pass çš„è·¯å¾„</h5>
<pre><code class="hljs language-javascript" lang="javascript">location   /api/  {
      proxy_pass    <span class="hljs-attr">http</span>:<span class="hljs-comment">//127.0.0.1:8080;</span>
}
</code></pre>
<p>è¯·æ±‚ <a href="https://link.juejin.cn?target=http%3A%2F%2Fxxx%2Fapi%2Fget%25EF%25BC%258C%25E5%25B0%2586%25E4%25BC%259A%25E8%25A2%25AB" target="_blank" title="http://xxx/api/get%EF%BC%8C%E5%B0%86%E4%BC%9A%E8%A2%AB" ref="nofollow noopener noreferrer">http://xxx/api/getï¼Œå°†ä¼šè¢«</a> nginx è½¬å‘è¯·æ±‚åˆ°<a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8080%2Fapi%2Fget%25EF%25BC%2588%25E6%258B%25BC%25E6%258E%25A5%2Fapi%2F%25E8%25B7%25AF%25E5%25BE%2584%25EF%25BC%2589%25E3%2580%2582" target="_blank" title="http://127.0.0.1:8080/api/get%EF%BC%88%E6%8B%BC%E6%8E%A5/api/%E8%B7%AF%E5%BE%84%EF%BC%89%E3%80%82" ref="nofollow noopener noreferrer">http://127.0.0.1:8080/api/getï¼ˆæ‹¼æ¥/api/è·¯å¾„ï¼‰ã€‚</a></p>
<h2 data-id="heading-7">å››ã€<code>try_files</code> å½“é…ç½®èµ„æºè¯·æ±‚å¤±è´¥æ—¶ï¼Œå°è¯•è®¿é—®try_filesè·¯å¾„ä¸‹çš„èµ„æº</h2>
<p>ç”±äºvueé¡¹ç›®æ˜¯SPAï¼Œåªæœ‰ä¸€ä¸ªhtmlé¡µé¢ï¼Œå½“ä½¿ç”¨é¡¹ç›®historyæ¨¡å¼ï¼Œåœ¨è®¿é—®å­è·¯ç”±æ—¶ï¼Œåˆ·æ–°é¡µé¢ä¼šnginxæŠ¥é”™404ï¼Œåˆ™éœ€è¦é…ç½®<code>try_files</code>ï¼Œä½¿å¾—nginxåœ¨è®¿é—®èµ„æºå¤±è´¥æ—¶ï¼Œå°è¯•è®¿é—®<code>try_files</code>é…ç½®çš„èµ„æºè·¯å¾„;</p>
<pre><code class="hljs language-bash" lang="bash">lication /test/ {
    <span class="hljs-built_in">alias</span> html/test/;
    index index.html index.htm;
    try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /test/index.html;
}
</code></pre>
<p>é¡¹ç›®è®¿é—®<code>localhost:port/test/</code>æ ¹è·¯å¾„åˆ™å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œå½“è®¿é—®å­è·¯ç”±<code>localhost:port/test/home</code>åˆ·æ–°é¡µé¢ä¹‹ååˆ™è¯·æ±‚ä¸åˆ°èµ„æºï¼Œåˆ™ä¾æ¬¡è¯»å–<code>try_files</code>ä¸‹çš„èµ„æºï¼Œ<code>$uri</code>æŒ‡ä»£æˆ‘ä»¬è®¿é—®çš„è·¯å¾„<code>/test/home</code>ï¼Œè®¿é—®å¤±è´¥ï¼Œåˆ™æœ€ç»ˆè®¿é—®æˆ‘ä»¬é…ç½®çš„<code>/test/index.html</code>ï¼Œè¿”å›èµ„æºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢„è¨€å¸‚åœºè¿›åŒ–è®ºï¼šä»ç½—é©¬æ–—å…½åœºï¼Œåˆ° Polymarket çš„ K çº¿å›¾]]></title>    <link>https://juejin.cn/post/7584358227611189290</link>    <guid>https://juejin.cn/post/7584358227611189290</guid>    <pubDate>2025-12-17T02:40:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584358227611189290" data-draft-id="7584343534967947306" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢„è¨€å¸‚åœºè¿›åŒ–è®ºï¼šä»ç½—é©¬æ–—å…½åœºï¼Œåˆ° Polymarket çš„ K çº¿å›¾"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-17T02:40:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HiStewie"/> <meta itemprop="url" content="https://juejin.cn/user/1591748568038823"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢„è¨€å¸‚åœºè¿›åŒ–è®ºï¼šä»ç½—é©¬æ–—å…½åœºï¼Œåˆ° Polymarket çš„ K çº¿å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748568038823/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HiStewie
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T02:40:33.000Z" title="Wed Dec 17 2025 02:40:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ç¦»èŒäº†ï¼Œå†™ä¸€ç‚¹å¯¹ä¸Šå®¶å…¬å¸ä¸šåŠ¡çš„æ„Ÿæƒ³ï¼š</p>
<ul>
<li>Web3çš„é¢„æµ‹å¸‚åœºåœ¨åšä»€ä¹ˆï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§ä¸šåŠ¡ï¼Ÿ</li>
<li>æ˜¯å‡­ç©ºäº§ç”Ÿçš„æƒ³æ³•å—ï¼Œè¿˜æ˜¯å¯¹å·²æœ‰åœºæ™¯çš„Web3é‡æ„ï¼Ÿ</li>
<li>ç°åœ¨è¿˜èƒ½å…¥èŒåšç±»ä¼¼ä¸šåŠ¡å—ï¼ˆä¸å»ºè®®ï¼Œé•¿å°¾æ•ˆåº” + èµ„æœ¬å€¾è½§ï¼Œå½“å‰å¸‚åœºé™¤äº†Kalshiæ²¡æœ‰ä»»ä½•èƒ½åœ¨Polymarketå˜´é‡ŒæŠ¢é¥­åƒçš„äº§å“ï¼Œå…¶ä»–é¢„æµ‹å¸‚åœºæœªæ¥å‘å±•é™¤äº†æä¸åˆè§„çš„ä¸šåŠ¡ï¼Œä¸ç„¶æ— æ³•å­˜æ´»ï¼‰</li>
</ul>
<p><strong>æˆ‘ä»¬å¦‚ä½•åˆ©ç”¨äººç±»çš„â€œè´ªå©ªâ€ (Greed)ï¼Œæ¥è·å–è¿™ä¸ªä¸–ç•Œçš„â€œçœŸç›¸â€ (Truth)ï¼Ÿ</strong></p>
<p>åœ¨ 2024 å¹´çš„ç¾å›½æ€»ç»Ÿå¤§é€‰å­£ï¼Œæˆ‘ä»¬å­¦åˆ°çš„æœ€é‡è¦ä¸€è¯¾æ˜¯ï¼š<strong>ä¸è¦çœ‹ CNN è¯´ä»€ä¹ˆï¼Œè¦çœ‹ Polymarket èµŒä»€ä¹ˆã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆä¸€ä¸ªå»ºç«‹åœ¨åŒºå—é“¾ä¸Šçš„â€œèµŒåœºâ€ï¼Œä¼šæ¯”æ‹¥æœ‰ç™¾å¹´å†å²çš„æ°‘è°ƒæœºæ„æ›´å‡†ç¡®ï¼Ÿè¿™ä¸ä»…ä»…æ˜¯è¿æ°”ã€‚è¿™æ˜¯ä¸€åœºå…³äº<strong>ä¿¡æ¯è®ºã€è¡Œä¸ºå­¦å’Œå»ä¸­å¿ƒåŒ–æŠ€æœ¯</strong>çš„ç²¾å¯†å®éªŒã€‚</p>
<p>Polymarket çš„æœ¬è´¨ï¼Œä¸æ˜¯ä¸ºäº†è®©ä½ é™·å…¥ä¸€ä¸ªäºŒå…ƒç‰Œæ¡Œè¿›è¡ŒåŠ ç ä¸‹æ³¨ã€‚å®ƒæ˜¯åˆ©ç”¨ä½ æŠ•æœºçš„å¿ƒç†ï¼Œè®¡ç®—å‡ºä¸–ç•Œçš„çœŸå®æ¦‚ç‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6795bc3aff314b21882424a9b05d69dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766549832&amp;x-signature=BHrw6J1aSOU3t9TYuhGu5A3worE%3D" alt="æˆªå±2025-12-17 10.28.38.png" loading="lazy"/></p>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šè¡Œä¸ºå­¦ä¸ç»æµå­¦ â€”â€” ä¸ºä»€ä¹ˆâ€œçœŸé‡‘ç™½é“¶â€æ˜¯å”¯ä¸€è¯šå®çš„è¯­è¨€ï¼Ÿ</h2>
<p>åœ¨äº’è”ç½‘æ—¶ä»£ï¼Œè§‚ç‚¹ï¼ˆOpinionï¼‰æ˜¯ä¸–ç•Œä¸Šæœ€æ³›æ»¥çš„å•†å“ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœ€å»‰ä»·çš„ã€‚</p>
<p>æ‰“å¼€ Twitter æˆ–å¾®åšï¼Œä½ ä¼šçœ‹åˆ°æ— æ•°ä¸“å®¶ä¿¡èª“æ—¦æ—¦åœ°é¢„æµ‹ï¼šâ€œA å¸å¿…æ¶¨â€ã€â€œB é˜Ÿå¿…èƒœâ€ã€â€œC å€™é€‰äººç¨³äº†â€ã€‚</p>
<p>å¦‚æœä»–ä»¬é”™äº†ï¼Œä»£ä»·æ˜¯ä»€ä¹ˆï¼Ÿé€šå¸¸æ˜¯<strong>é›¶</strong>ã€‚ä»–ä»¬ç”šè‡³ä¸éœ€è¦åˆ å¸–ï¼Œåªè¦æ¢ä¸ªè¯é¢˜ç»§ç»­å¹ç‰›å³å¯ã€‚</p>
<p>ç»æµå­¦æŠŠè¿™ç§ç°è±¡ç§°ä¸ºâ€œå»‰ä»·è°ˆè¯â€ (Cheap Talk)ã€‚å› ä¸ºæ²¡æœ‰æˆæœ¬ï¼Œæ‰€ä»¥å™ªéŸ³æ·¹æ²¡äº†ä¿¡å·ã€‚</p>
<p>ä½†åœ¨ Polymarket ä¸Šï¼ŒåŒæ ·çš„ä¸€ä¸ªè§‚ç‚¹ï¼Œå¯èƒ½è¦èŠ±ä½  1000 ç¾å…ƒã€‚</p>
<ol>
<li>
<h3 data-id="heading-2">åˆ‡è‚¤ä¹‹ç—› (Skin in the Game)ï¼šç†æ€§çš„å¼ºåˆ¶å”¤é†’</h3>
</li>
</ol>
<p>çº³è¥¿å§†Â·å¡”å‹’å¸ƒåœ¨ã€Šéå¯¹ç§°é£é™©ã€‹ä¸­è¯´ï¼šâ€œæ²¡æœ‰é£é™©å…±æ‹…ï¼Œå°±æ²¡æœ‰å†³ç­–æƒã€‚â€</p>
<p>é¢„æµ‹å¸‚åœºçš„é­”åŠ›ï¼Œåœ¨äºå®ƒç”¨é‡‘é’±å¼ºè¡Œåˆ‡æ¢äº†ä½ çš„å¤§è„‘æ¨¡å¼ï¼š</p>
<ul>
<li><strong>æ— ç­¹ç æ—¶ï¼ˆç¤¾äº¤åª’ä½“ï¼‰ï¼š</strong> å¤§è„‘ç”±<strong>å¤šå·´èƒº</strong>ä¸»å¯¼ã€‚ä½ çš„å‘è¨€æ˜¯ä¸ºäº†å¯»æ±‚è®¤åŒã€å®£æ³„æƒ…ç»ªã€‚ä½ è¯´â€œå·æ™®ä¼šèµ¢â€ï¼Œæ˜¯å› ä¸ºä½ <strong>å¸Œæœ›</strong>ä»–èµ¢ã€‚</li>
<li><strong>æœ‰ç­¹ç æ—¶ï¼ˆé¢„æµ‹å¸‚åœºï¼‰ï¼š</strong> å½“ä½ æŠŠ 1000 USDC æ‹åœ¨æ¡Œä¸Šï¼Œ<strong>å‰é¢å¶çš®å±‚ï¼ˆç†æ€§é€»è¾‘ï¼‰</strong> é‡æ–°å é¢†é«˜åœ°ã€‚ä½ ä¼šç«‹åˆ»åœæ­¢å¹»æƒ³ï¼Œå¼€å§‹ç–¯ç‹‚ç ”ç©¶æ°‘è°ƒæ•°æ®å’Œæ‘‡æ‘†å·ç»æµã€‚</li>
</ul>
<p><strong>Polymarket å¹¶ä¸æ˜¯åœ¨é¢„æµ‹æœªæ¥ï¼Œå®ƒæ˜¯åœ¨â€œæçº¯â€åˆ¤æ–­ã€‚</strong> å®ƒè¿‡æ»¤æ‰äº†æ‰€æœ‰çš„â€œæˆ‘å¸Œæœ› (I hope)â€ï¼Œåªç•™ä¸‹äº†æœ€çœŸå®çš„â€œæˆ‘è®¤ä¸º (I think)â€ã€‚</p>
<ol start="2">
<li>
<h3 data-id="heading-3">é£é™©è½¬ç§» (Risk Transfer)ï¼šç»™â€œç„¦è™‘â€å®šä»·</h3>
</li>
</ol>
<p>å¦‚æœè¯´â€œåˆ‡è‚¤ä¹‹ç—›â€è§£é‡Šäº†ä¸ºä»€ä¹ˆé¢„æµ‹å¸‚åœº<strong>å‡†</strong>ï¼Œé‚£ä¹ˆâ€œé£é™©è½¬ç§»â€åˆ™è§£é‡Šäº†ä¸ºä»€ä¹ˆå®ƒ<strong>æœ‰ç”¨</strong>ã€‚</p>
<p>å¾ˆå¤šäººè¯¯ä»¥ä¸º Polymarket åªæ˜¯ä¸€ä¸ªèµŒåšå¹³å°ï¼Œä½†åœ¨ç»æµå­¦å®¶çœ¼é‡Œï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œç¾çš„â€œç„¦è™‘äº¤æ˜“æ‰€â€ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç»å…¸çš„ <strong>â€œæƒ…æ„Ÿå¯¹å†²â€ (Emotional Hedge)</strong> æ¡ˆä¾‹ï¼š</p>
<blockquote>
<p>å‡è®¾ä½ æ˜¯ä¸€ä½åšå®šçš„ç¯ä¿ä¸»ä¹‰è€…ï¼Œä½ æåº¦ææƒ§ç‰¹æœ—æ™®å½“é€‰ï¼Œå› ä¸ºä½ æ‹…å¿ƒä»–ä¼šåºŸé™¤ç¯ä¿æ³•æ¡ˆï¼Œå¯¼è‡´ä½ çš„æ¸…æ´èƒ½æºå…¬å¸ç ´äº§ã€‚</p>
<p><strong>ä½ åº”è¯¥æ€ä¹ˆåšï¼Ÿ</strong> åœ¨ Polymarket ä¸Šï¼Œä½ åº”è¯¥<strong>é‡ä»“ä¹°å…¥â€œç‰¹æœ—æ™®èƒœé€‰â€</strong> ã€‚</p>
</blockquote>
<p>è¿™å¬èµ·æ¥å¾ˆåç›´è§‰ï¼Œä½†è¿™æ­£æ˜¯é‡‘èå¯¹å†²çš„ç²¾é«“ï¼š</p>
<ul>
<li><strong>æƒ…å†µ Aï¼ˆç‰¹æœ—æ™®èµ¢äº†ï¼‰ï¼š</strong> ä½ çš„ç¯ä¿ç†æƒ³ç ´ç­äº†ï¼Œå…¬å¸å¯èƒ½é¢ä¸´å›°éš¾ï¼Œ<strong>ä½†ä½ åœ¨ Polymarket ä¸Šèµšäº†ä¸€å¤§ç¬”é’±</strong>ã€‚è¿™ç¬”é’±æ˜¯å¯¹ä½ ç²¾ç¥åˆ›ä¼¤å’Œæ½œåœ¨ç»æµæŸå¤±çš„<strong>è¡¥å¿</strong>ã€‚</li>
<li><strong>æƒ…å†µ Bï¼ˆç‰¹æœ—æ™®è¾“äº†ï¼‰ï¼š</strong> ä½ åœ¨ Polymarket ä¸Šçš„é’±å½’é›¶äº†ï¼Œ<strong>ä½†ä½ å¾ˆé«˜å…´</strong>ã€‚å› ä¸ºä½ çš„ç†æƒ³å®ç°äº†ï¼Œä½ çš„å…¬å¸å®‰å…¨äº†ã€‚ä½ äºæ‰çš„é‚£ç¬”é’±ï¼Œæœ¬è´¨ä¸Šæ˜¯ä½ ä¸ºâ€œä¸–ç•Œå’Œå¹³â€æ”¯ä»˜çš„<strong>ä¿è´¹</strong>ã€‚</li>
</ul>
<p>é€šè¿‡è¿™ç§æœºåˆ¶ï¼ŒPolymarket æŠŠé£é™©ä»â€œé£é™©åŒæ¶è€…â€ <strong>ï¼ˆå¦‚ä¸Šè¿°çš„ç¯ä¿ä¸»ä¹‰è€…ï¼‰æ‰‹ä¸­ï¼Œè½¬ç§»åˆ°äº†</strong>â€œé£é™©æŠ•æœºè€…â€ï¼ˆå•çº¯æƒ³èµšé’±çš„äº¤æ˜“å‘˜ï¼‰æ‰‹ä¸­ã€‚</p>
<p>åœ¨è¿™ä¸ªç»´åº¦ä¸Šï¼Œé¢„æµ‹å¸‚åœºä¸å†æ˜¯èµŒåœºï¼Œå®ƒæ˜¯<strong>äººç±»å†å²ä¸Šç¬¬ä¸€ä¸ªèƒ½å¤Ÿé‡åŒ–ã€äº¤æ˜“å¹¶å¯¹å†²â€œæœªæ¥ç„¦è™‘â€çš„é‡‘èåŸºç¡€è®¾æ–½</strong>ã€‚</p>
<h2 data-id="heading-4">ç¬¬äºŒç« ï¼šå†å²æ¼”å˜ â€”â€” ä»â€œå¤šå·´èƒºâ€åˆ°â€œèµ„äº§åŒ–â€</h2>
<p>äººç±»ä¸ºäº†ç»™â€œä¸ç¡®å®šæ€§â€å®šä»·ï¼Œèµ°äº†å‡ åƒå¹´ã€‚</p>
<p>è®©æˆ‘ä»¬æŠŠé•œå¤´æ‹‰è¿‡è¿™æ¼«é•¿çš„æ—¶å…‰éš§é“ï¼Œçœ‹çœ‹â€œé¢„æµ‹â€æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥è„±èƒæ¢éª¨çš„ã€‚</p>
<h3 data-id="heading-5">1.0 ç½—é©¬æ–—å…½åœºï¼šå¸¦è¡€çš„ç­¹ç </h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c15c6277b474a4dbfa3f78ba723f104~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766549832&amp;x-signature=NRcZoRFjGcGl6bX5ycQ8mNstKEg%3D" alt="" loading="lazy"/></p>
<p><strong>(The Era of Dopamine)</strong></p>
<p>å…¬å…ƒ 80 å¹´ï¼Œç½—é©¬æ–—å…½åœºã€‚</p>
<p>ç©ºæ°”ä¸­å¼¥æ¼«ç€æ±—æ°´å’Œè¡€è…¥å‘³ã€‚ä¸¤ä¸ªè§’æ–—å£«æ­£åœ¨æ®Šæ­»ææ–—ï¼Œçœ‹å°ä¸Šçš„è´µæ—æŠŠé‡‘å¸æ‰”è¿›ç›˜å­é‡Œï¼ŒèµŒé‚£ä¸ªæ‹¿ä¸‰å‰æˆŸçš„å¥´éš¶èƒ½æ´»ä¸‹æ¥ã€‚</p>
<p>è¿™æ˜¯é¢„æµ‹å¸‚åœºçš„<strong>å²å‰æ—¶ä»£</strong>ã€‚ åœ¨è¿™é‡Œï¼Œé¢„æµ‹æ˜¯ä¸€ç§çº¯ç²¹çš„<strong>å¤šå·´èƒºæ¶ˆè´¹</strong>ã€‚æ²¡æœ‰å¤æ‚çš„èµ”ç‡è®¡ç®—ï¼Œæ²¡æœ‰é£é™©å¯¹å†²æ¨¡å‹ï¼Œåªæœ‰æœ€åŸå§‹çš„å†²åŠ¨â€”â€”æˆ‘æƒ³çœ‹ä»–èµ¢ï¼Œæˆ–è€…æˆ‘æƒ³çœ‹ä»–æ­»ã€‚è¿™æœ¬è´¨ä¸Šå’Œä»Šå¤©ä½ åœ¨çƒèµ›é‡ŒèµŒè°è¿›çƒæ²¡æœ‰åŒºåˆ«ï¼Œå®ƒæ»¡è¶³çš„æ˜¯å…½æ€§ï¼Œè€Œéç†æ€§ã€‚</p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> é’±è¿›å»äº†ï¼Œè¢«åº„å®¶ç‹ ç‹ åˆ‡äº†ä¸€åˆ€ï¼Œå‰©ä¸‹çš„æ‰ç»™èµ¢å®¶ã€‚è¿™æ˜¯ä¸€ä¸ª<strong>è´Ÿå’Œæ¸¸æˆ</strong>ã€‚</p>
<h3 data-id="heading-6">2.0 èŠåŠ å“¥çš„ç²®ä»“ï¼šææƒ§çš„è§£è¯</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16379cd39ab14fefbdb19bea07bd6b4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766549832&amp;x-signature=LzLjKxyG6ihUR%2B4u6cI29S3LEnw%3D" alt="" loading="lazy"/></p>
<p>é•œå¤´åˆ‡åˆ° 1848 å¹´ï¼ŒèŠåŠ å“¥ã€‚</p>
<p>è¿™é‡Œæ²¡æœ‰è§’æ–—å£«ï¼Œåªæœ‰æ»¡è„¸æ„å®¹çš„ç‰ç±³å†œåœºä¸»ã€‚ä»–ä»¬ä¸å…³å¿ƒè°èµ¢ï¼Œä»–ä»¬åªå…³å¿ƒæ˜å¹´ç‰ç±³ä¼šä¸ä¼šè·Œåˆ°è¿è¿è´¹éƒ½ä¸å¤Ÿã€‚</p>
<p>äºæ˜¯ï¼Œ<strong>èŠåŠ å“¥æœŸè´§äº¤æ˜“æ‰€ (CBOT)</strong> è¯ç”Ÿäº†ã€‚ äººç±»å†å²ä¸Šç¬¬ä¸€æ¬¡ï¼Œäººä»¬æŠŠâ€œæ˜å¹´çš„ç‰ç±³â€å˜æˆäº†ä¸€å¼ å¯ä»¥ç°åœ¨ä¹°å–çš„çº¸ã€‚è¿™ä¸å†æ˜¯èµŒåšï¼Œè¿™æ˜¯<strong>ç”Ÿå­˜</strong>ã€‚ é¢„æµ‹ä»â€œå¨±ä¹â€è¿›åŒ–æˆäº†â€œé¿é™©å·¥å…·â€ã€‚é‡‘èå­¦ä»‹å…¥äº†ï¼Œå®ƒå‘Šè¯‰ä¸–ç•Œï¼š<strong>æ—¶é—´æ˜¯å¯ä»¥è¢«å®šä»·çš„ï¼Œææƒ§æ˜¯å¯ä»¥è¢«ä¹°å–çš„ã€‚</strong></p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> å†œæ°‘å–å‡ºâ€œææƒ§â€ï¼ŒæŠ•æœºè€…ä¹°å…¥â€œè´ªå©ªâ€ã€‚CME åœ¨ä¸­é—´åšæ‹…ä¿ã€‚è¿™æ˜¯<strong>é‡‘èé¿é™©</strong>ã€‚</p>
<h3 data-id="heading-7">3.0 ä»¥å¤ªåŠçš„æ—©æœŸåºŸå¢Ÿï¼šæå®¢çš„ä¹Œæ‰˜é‚¦</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e920ad3c738045ad937ac1c1b358e70a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766549832&amp;x-signature=wpvoJqAbQ8TnzvCwiNg98ftskOU%3D" alt="" loading="lazy"/></p>
<p>æ—¶é—´æ¥åˆ° 2015 å¹´ï¼Œä»¥å¤ªåŠåˆšåˆšè¯ç”Ÿã€‚ ä¸€ç¾¤å¤©æ‰æå®¢ï¼ˆåŒ…æ‹¬ Vitalik è‡ªå·±ï¼‰å…´å¥‹åœ°å®£ç§°ï¼šâ€œæˆ‘ä»¬è¦æŠŠèŠåŠ å“¥äº¤æ˜“æ‰€æ¬åˆ°é“¾ä¸Šï¼æˆ‘ä»¬è¦æ¶ˆç­ä¸­é—´å•†ï¼â€ äºæ˜¯ï¼Œ<strong>Augur</strong> è¯ç”Ÿäº†ã€‚ç†å¿µæå…¶æ€§æ„Ÿï¼Œç°å®æå…¶éª¨æ„Ÿã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼š ä½ æƒ³èµŒå¸Œæ‹‰é‡Œä¼šä¸ä¼šèµ¢ã€‚ä½ æ‰“å¼€ Augurï¼Œé¦–å…ˆè¦ä¸‹è½½å‡ å GB çš„åŒºå—é“¾æ•°æ®ï¼ŒåŒæ­¥ä¸‰å¤©ä¸‰å¤œã€‚å¥½ä¸å®¹æ˜“åŒæ­¥å®Œäº†ï¼Œä½ ç‚¹äº†ä¸€ä¸‹â€œYesâ€ï¼Œå¼¹çª—å‘Šè¯‰ä½ ï¼š<strong>Gas è´¹ $50ï¼Œç¡®è®¤æ—¶é—´ 15 åˆ†é’Ÿã€‚</strong> ç­‰ä½ ä¸‹å®Œæ³¨ï¼Œå¸Œæ‹‰é‡Œå¯èƒ½éƒ½å·²ç»å‘è¡¨è´¥é€‰æ„Ÿè¨€äº†ã€‚</p>
<p>Augur æ˜¯ä¸€æ¬¡ä¼Ÿå¤§çš„å¤±è´¥ã€‚å®ƒè¯æ˜äº†ï¼š<strong>æ²¡æœ‰ç”¨æˆ·ä½“éªŒçš„å»ä¸­å¿ƒåŒ–ï¼Œåªæ˜¯ä¸€åœºæ˜‚è´µçš„è‡ªå—¨ã€‚</strong> å®ƒèµ¢äº†å“²å­¦ï¼Œè¾“äº†äººæ€§ã€‚</p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> æµç¨‹å¤ªé•¿ï¼Œæ‘©æ“¦å¤ªå¤§ã€‚ç”¨æˆ·è¿˜æ²¡å¼€å§‹ç©ï¼Œå°±è¢« Gas è´¹å’Œç­‰å¾…æ—¶é—´åŠé€€äº†ã€‚è¿™æ˜¯<strong>æŠ€æœ¯è‡ªå—¨</strong>ã€‚</p>
<h3 data-id="heading-8">4.0 Polymarketï¼šå½“æŠ€æœ¯éšå½¢</h3>
<p>æœ€åï¼Œé•œå¤´å®šæ ¼åœ¨ 2024 å¹´ã€‚</p>
<p>ä½ èººåœ¨æ²™å‘ä¸Šï¼Œæ‰“å¼€æ‰‹æœºï¼Œç‚¹å¼€ Polymarketã€‚æ²¡æœ‰ä¸‹è½½èŠ‚ç‚¹ï¼Œæ²¡æœ‰åŠ©è®°è¯çš„ææƒ§ï¼Œæ²¡æœ‰é«˜æ˜‚çš„ Gas è´¹ï¼ˆæ„Ÿè°¢ Polygon å’Œ L2ï¼‰ã€‚</p>
<p>ä½ ç”¨ USDC å……å€¼ï¼Œåƒå‘å¾®ä¿¡ä¸€æ ·ä¸æ»‘åœ°ä¹°å…¥äº†â€œç‰¹æœ—æ™®èƒœé€‰â€ã€‚</p>
<p>è¿™æ‰æ˜¯ç»ˆå±€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf82856271a5492e9e3b3165265e3867~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766549832&amp;x-signature=XvRxbZKvNEGkOMXfjupPQf42P7k%3D" alt="" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> USDC è¿›å»ï¼Œç¬é—´å˜æˆ Yes/No ä»£å¸ã€‚L2 è§£å†³äº†é€Ÿåº¦ï¼ŒAMM è§£å†³äº†æµåŠ¨æ€§ã€‚è¿™æ˜¯<strong>ä¿¡æ¯èµ„äº§åŒ–</strong>ã€‚</p>
<p>Polymarket åšå¯¹äº†ä¸€ä»¶äº‹ï¼š<strong>å®ƒè®©åŒºå—é“¾æ¶ˆå¤±äº†ã€‚</strong> å®ƒæŠŠâ€œé¢„æµ‹â€å˜æˆäº†ä¸€ç§<strong>é«˜æµåŠ¨æ€§çš„ä¿¡æ¯èµ„äº§</strong>ã€‚ä½ æ‰‹ä¸­çš„é‚£ä¸ª Tokenï¼Œä¸å†æ˜¯ä¸€å¼ æ­»æ¿çš„èµŒç¥¨ï¼Œè€Œæ˜¯ä¸€ä¸ªæ´»ç€çš„ã€æ¯ç§’é’Ÿéƒ½åœ¨è·³åŠ¨çš„ <strong>â€œæ¦‚ç‡æ‰€æœ‰æƒâ€</strong> ã€‚</p>
<ul>
<li>ä½ å¯ä»¥éšæ—¶ä¹°å…¥ï¼ˆè¡¨è¾¾è§‚ç‚¹ï¼‰ï¼›</li>
<li>ä½ å¯ä»¥éšæ—¶å–å‡ºï¼ˆè·åˆ©äº†ç»“ï¼‰ï¼›</li>
<li>ä½ å¯ä»¥æŠŠå®ƒå€Ÿè´·ã€æŠµæŠ¼ã€ç”šè‡³ç»„åˆã€‚</li>
</ul>
<p>ä»ç½—é©¬çš„å¸¦è¡€é‡‘å¸ï¼Œåˆ°èŠåŠ å“¥çš„æœŸè´§åˆçº¦ï¼Œå†åˆ° Augur çš„å¡é¡¿ä»£ç ï¼Œæœ€ç»ˆè¿›åŒ–æˆäº† Polymarket ä¸Šé‚£æ¡ä¸æ»‘çš„è“è‰² K çº¿ã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯æŠ€æœ¯çš„èƒœåˆ©ï¼Œè¿™æ˜¯<strong>æµåŠ¨æ€§çš„èƒœåˆ©</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-9">ç¬¬ä¸‰ç« ï¼šå·¥ä½œåŸç† â€”â€” ä»·æ ¼å³æ¦‚ç‡</h2>
<p>ç°å®ä¸–ç•Œæ˜¯æ··æ²Œçš„ã€å¤æ‚çš„ã€å……æ»¡å™ªéŸ³çš„ã€‚ä½† Polymarket é€šè¿‡<strong>äºŒå…ƒæœŸæƒ (Binary Option)</strong> ï¼Œå¼ºè¡ŒæŠŠè¿™ä¸ªå¤æ‚çš„ä¸–ç•Œå‹ç¼©æˆäº†ä¸¤ä¸ªç®€å•çš„çŠ¶æ€ï¼š<strong>Yes æˆ– No</strong>ã€‚</p>
<p>è¿™èƒŒåæœ‰ä¸€å¥—ä¼˜é›…çš„æ•°å­¦é€»è¾‘ã€‚</p>
<p>Polymarket æŠŠæ··æ²Œçš„ä¸–ç•Œå¼ºè¡Œå‹ç¼©æˆäº†ä¸¤ä¸ªçŠ¶æ€ï¼š<strong>Yes æˆ– No</strong>ã€‚</p>
<h3 data-id="heading-10">1. æ‹†è§£åŸå­ï¼š1 ç¾å…ƒ = 1 Yes + 1 No</h3>
<p>å¾ˆå¤šäººä»¥ä¸ºä¸‹æ³¨æ˜¯æŠŠé’±ç»™åº„å®¶ã€‚<strong>é”™ã€‚</strong> å½“ä½ å……å€¼ 1 ç¾å…ƒï¼ˆUSDCï¼‰æ—¶ï¼Œæ™ºèƒ½åˆçº¦æ‰§è¡Œäº†ä¸€æ¬¡â€œåŸå­åˆ†è£‚â€ï¼š</p>
<blockquote>
<p><strong>1 USDC â¡ï¸ 1 ä¸ª [Yes Token] + 1 ä¸ª [No Token]</strong></p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªæ’ç­‰å¼ã€‚æ— è®ºç»“æœå¦‚ä½•ï¼Œåªè¦ä½ å‡‘é½ä¸€å¯¹ Yes å’Œ Noï¼Œéšæ—¶å¯ä»¥æ¢å› 1 ç¾å…ƒã€‚</p>
<ul>
<li>å¦‚æœ Yes èµ¢äº†ï¼ŒYes Token ä»·å€¼å˜ $1ï¼ŒNo å½’é›¶ã€‚</li>
<li>å¦‚æœ No èµ¢äº†ï¼ŒNo Token ä»·å€¼å˜ $1ï¼ŒYes å½’é›¶ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<strong>ä»·æ ¼å®Œç¾å¯¹åº”æ¦‚ç‡</strong>ï¼šå¦‚æœâ€œå·æ™®èƒœé€‰â€çš„ Yes Token ç°åœ¨çš„ä»·æ ¼æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.60</mn><mtext>ï¼Œæ„å‘³ç€å¸‚åœºå…±è¯†è®¤ä¸ºå®ƒæœ€ç»ˆå˜æˆ</mtext></mrow><annotation encoding="application/x-tex">0.60ï¼Œæ„å‘³ç€å¸‚åœºå…±è¯†è®¤ä¸ºå®ƒæœ€ç»ˆå˜æˆ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">0.60</span><span class="mord cjk_fallback">ï¼Œæ„å‘³ç€å¸‚åœºå…±è¯†è®¤ä¸ºå®ƒæœ€ç»ˆå˜æˆ</span></span></span></span></span>1 çš„æ¦‚ç‡æ˜¯ 60%ã€‚</p>
<ol start="2">
<li>
<h3 data-id="heading-11">è´ªå©ªçš„é²¨é±¼ï¼šå¥—åˆ©æœºåˆ¶ (Arbitrage)</h3>
</li>
</ol>
<p>ä¸ºä»€ä¹ˆ $0.60 è¿™ä¸ªä»·æ ¼æ˜¯å‡†çš„ï¼Ÿ<strong>å› ä¸ºæœ‰äººæƒ³æ¡é’±ã€‚</strong></p>
<p>å‡è®¾æ°‘è°ƒæ˜¾ç¤ºå·æ™®èƒœç‡æ˜¯ 60%ï¼Œä½† Polymarket ä¸Šæœ‰äººç ¸ç›˜ï¼ŒæŠŠä»·æ ¼ç ¸åˆ°äº† $0.10ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œå¥—åˆ©è€…ç™»åœºäº†ã€‚åœ¨ä»–ä»¬çœ¼é‡Œï¼Œè¿™ä¸å«æ”¿æ²»ï¼Œè¿™å«â€œåœ°ä¸Šæœ‰é’±â€ã€‚ä»–ä»¬ä¼šç–¯ç‹‚ä¹°å…¥ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.10</mn><mtext>çš„ç­¹ç ï¼Œç›´åˆ°æŠŠä»·æ ¼æ¨å›</mtext></mrow><annotation encoding="application/x-tex">0.10 çš„ç­¹ç ï¼Œç›´åˆ°æŠŠä»·æ ¼æ¨å› </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">0.10</span><span class="mord cjk_fallback">çš„ç­¹ç ï¼Œç›´åˆ°æŠŠä»·æ ¼æ¨å›</span></span></span></span></span>0.60ã€‚</p>
<p><strong>ç»“è®ºï¼š</strong> å¹¶ä¸æ˜¯ Polymarket çŸ¥é“çœŸç›¸ã€‚æ˜¯æ— æ•°è´ªå©ªçš„ä¸ªä½“ï¼Œä¸ºäº†èµšå–å“ªæ€• 1% çš„åˆ©æ¶¦ï¼Œå¼ºè¡ŒæŠŠä»·æ ¼ä¿®æ­£åˆ°äº†æœ€æ¥è¿‘çœŸç›¸çš„ä½ç½®ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œ<strong>å¥—åˆ©è€…ï¼ˆArbitrageursï¼‰</strong> ç™»åœºäº†ã€‚ åœ¨ä»–ä»¬çœ¼é‡Œï¼Œè¿™ä¸å«â€œæ”¿æ²»ç«‹åœºâ€ï¼Œè¿™å«â€œåœ°ä¸Šæœ‰é’±â€ã€‚</p>
<ul>
<li>ä»–ä»¬çœ‹åˆ°çš„æ˜¯ï¼šç”¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.10</mn><mtext>ä¹°å…¥ä¸€ä¸ªä»·å€¼</mtext></mrow><annotation encoding="application/x-tex">0.10 ä¹°å…¥ä¸€ä¸ªä»·å€¼ </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">0.10</span><span class="mord cjk_fallback">ä¹°å…¥ä¸€ä¸ªä»·å€¼</span></span></span></span></span>0.60 çš„èµ„äº§ã€‚</li>
<li><strong>æœŸæœ›æ”¶ç›Šç‡ï¼š500%ã€‚</strong></li>
</ul>
<p>å…¨ä¸–ç•Œçš„èªæ˜èµ„é‡‘ã€é‡åŒ–åŸºé‡‘ã€ç”šè‡³ AI æœºå™¨äººä¼šåƒé—»åˆ°è¡€è…¥å‘³çš„é²¨é±¼ä¸€æ ·èœ‚æ‹¥è€Œè‡³ï¼Œç–¯ç‹‚ä¹°å…¥â€œYes Tokenâ€ã€‚</p>
<p>è¿™ç§ä¹°å…¥åŠ›é‡ä¼šè¿…é€Ÿæ¨é«˜ä»·æ ¼ï¼Œç›´åˆ°ä»·æ ¼ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.10</mn><mtext>å›å‡åˆ°</mtext></mrow><annotation encoding="application/x-tex">0.10 å›å‡åˆ° </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">0.10</span><span class="mord cjk_fallback">å›å‡åˆ°</span></span></span></span></span>0.60ã€‚å½“ä»·æ ¼å›åˆ° $0.60 æ—¶ï¼Œæ— åˆ©å¯å›¾ï¼Œé²¨é±¼æ•£å»ã€‚</p>
<p><strong>ç»“è®ºï¼š</strong> å¹¶ä¸æ˜¯ Polymarket çŸ¥é“çœŸç›¸ã€‚æ˜¯<strong>ä¸€ä¸ªä¸ªè´ªå©ªçš„ä¸ªä½“ï¼Œä¸ºäº†èµšå–å“ªæ€• 1% çš„æ— é£é™©åˆ©æ¶¦ï¼Œé€šè¿‡â€œç¾¤ä½“åšå¼ˆâ€ï¼Œå¼ºè¡ŒæŠŠä»·æ ¼ä¿®æ­£åˆ°äº†æœ€æ¥è¿‘çœŸç›¸çš„ä½ç½®ã€‚</strong></p>
<ol start="3">
<li>
<h3 data-id="heading-12">åº•å±‚å¼•æ“ï¼šCTF ä¸ AMM</h3>
</li>
</ol>
<p>æ”¯æ’‘è¿™åœºå…¨çƒåšå¼ˆçš„ï¼Œæ˜¯ä¸¤ä¸ªå…³é”®çš„æŠ€æœ¯æ”¯æŸ±ã€‚æ²¡æœ‰å®ƒä»¬ï¼ŒPolymarket å°±ä¼šé€€åŒ–æˆå¡é¡¿çš„ Augurã€‚</p>
<ul>
<li>
<p><strong>æ¡ä»¶ä»£å¸æ¡†æ¶ (Conditional Tokens Framework, CTF)ï¼š</strong> è¿™æ˜¯ Gnosis å¼€å‘çš„ä¸€å¥—ç§¯æœ¨ã€‚å®ƒå…è®¸é¢„æµ‹å˜å¾—<strong>å¯ç»„åˆ</strong>ã€‚</p>
<ul>
<li><em>ä¾‹å­ï¼š</em> ä½ ä¸ä»…å¯ä»¥èµŒâ€œå·æ™®èµ¢â€ï¼Œä½ è¿˜å¯ä»¥èµŒâ€œå·æ™®èµ¢ <strong>ä¸”</strong> æ‹œç™»é€€é€‰â€ã€‚CTF å…è®¸æŠŠè¿™ç§å¤æ‚çš„é€»è¾‘åµŒå¥—è¿› Token é‡Œï¼Œè®©é¢„æµ‹æœ‰äº†æ·±åº¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ··åˆåšå¸‚æœºåˆ¶ (Hybrid CLOB/AMM)ï¼š</strong> æ—©æœŸçš„é“¾ä¸Šå¸‚åœºä½¿ç”¨ AMMï¼ˆè‡ªåŠ¨åšå¸‚å•†ï¼‰ï¼Œå°±åƒ Uniswapï¼Œæ»‘ç‚¹å¾ˆé«˜ã€‚ ç°åœ¨çš„ Polymarket å¼•å…¥äº† <strong>CLOBï¼ˆä¸­å¤®é™ä»·è®¢å•ç°¿ï¼‰</strong> ã€‚è¿™æ„å‘³ç€åšå¸‚å•†ï¼ˆMarket Makersï¼‰å¯ä»¥åƒåœ¨çº³æ–¯è¾¾å…‹ä¸€æ ·æŒ‚å•ã€‚</p>
<ul>
<li><strong>ç»“æœï¼š</strong> æè‡´çš„æµåŠ¨æ€§ã€‚å³ä½¿ä½ ä¸€æ¬¡æ€§ä¸‹æ³¨ 100 ä¸‡ç¾å…ƒï¼Œä»·æ ¼å¯èƒ½ä¹Ÿåªä¼šæ³¢åŠ¨ 0.1%ã€‚</li>
</ul>
</li>
</ul>
<ol start="4">
<li>
<h3 data-id="heading-13">è£å†³æœºåˆ¶ï¼šå»ä¸­å¿ƒåŒ–çš„æ³•å®˜ (The Resolution)</h3>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9632fedeee904aec83fbae650313584b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGlTdGV3aWU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766549832&amp;x-signature=bhuOgvqsg9dY5zZjeVvC0LrWuqY%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¼ ç»ŸèµŒåœºï¼Œåº„å®¶æ—¢æ˜¯è¿åŠ¨å‘˜ï¼Œåˆæ˜¯è£åˆ¤ã€‚å¦‚æœåº„å®¶è€èµ–ï¼Œä½ æ¯«æ— åŠæ³•ã€‚ ä½†åœ¨ Polymarketï¼Œ<strong>æ²¡æœ‰äººæ‹¥æœ‰â€œä¸Šå¸è§†è§’â€</strong> ã€‚</p>
<p>å®ƒå¼•å…¥äº†ä¸€ä¸ªåä¸º <strong>UMA (Universal Market Access)</strong> çš„å»ä¸­å¿ƒåŒ–é¢„è¨€æœºç³»ç»Ÿã€‚è¿™å¥—æœºåˆ¶è¢«ç§°ä¸ºâ€œä¹è§‚é¢„è¨€æœºâ€ (Optimistic Oracle)ï¼Œå…¶é€»è¾‘éå¸¸åç›´è§‰ï¼š</p>
<ul>
<li><strong>é»˜è®¤è¯šå®åŸåˆ™ï¼ˆOptimisticï¼‰ï¼š</strong> å½“å¤§é€‰ç»“æŸï¼Œä»»ä½•äººï¼ˆé€šå¸¸æ˜¯æè®®è€…ï¼‰éƒ½å¯ä»¥å‘é“¾ä¸Šæäº¤ç»“æœï¼šâ€œå·æ™®èµ¢äº†â€ã€‚ ç³»ç»Ÿ<strong>é»˜è®¤</strong>è¿™å¥è¯æ˜¯çœŸçš„ã€‚å®ƒä¸ä¼šç«‹å³å»æŸ¥è¯ï¼Œè€Œæ˜¯å¼€å¯ä¸€ä¸ªâ€œå¼‚è®®çª—å£æœŸâ€ (Dispute Window)ï¼ˆé€šå¸¸æ˜¯ 2 å°æ—¶ï¼‰ã€‚</li>
<li><strong>æŒ‘æˆ˜æœºåˆ¶ï¼ˆThe Challengeï¼‰ï¼š</strong> åœ¨è¿™ä¸ªçª—å£æœŸå†…ï¼Œå¦‚æœæœ‰äººè§‰å¾—ç»“æœä¸å¯¹ï¼ˆæ¯”å¦‚å…¶å®æ˜¯æ‹œç™»èµ¢äº†ï¼‰ï¼Œä»–å¯ä»¥è´¨æŠ¼ä¸€ç¬”é’±å‘èµ·â€œæŒ‘æˆ˜â€ (Dispute)ã€‚ ä¸€æ—¦å‘ç”ŸæŒ‘æˆ˜ï¼Œæ¡ˆä»¶å°±ä¼šå‡çº§ï¼Œäº¤ç»™ <strong>UMA ä»£å¸æŒæœ‰è€…</strong> è¿›è¡Œå…¨ç½‘æŠ•ç¥¨ã€‚</li>
<li><strong>è°¢æ—ç‚¹åšå¼ˆ (Schelling Point)ï¼š</strong> è¿™æ—¶å€™ï¼Œæˆåƒä¸Šä¸‡çš„ UMA æŒå¸è€…ä¼šè¿›è¡ŒæŠ•ç¥¨ã€‚ ä»–ä»¬ä¸ºä»€ä¹ˆè¦æŠ•å‡ºçœŸè¯ï¼Ÿå› ä¸ºåšå¼ˆè®ºã€‚ å¦‚æœæˆ‘ä¹±æŠ•ç¥¨ï¼ˆæŒ‡é¹¿ä¸ºé©¬ï¼‰ï¼ŒUMA ç³»ç»Ÿçš„å…¬ä¿¡åŠ›ä¼šå´©å¡Œï¼Œæˆ‘æ‰‹é‡Œçš„å¸ä¼šå½’é›¶ã€‚ ä¸ºäº†ä¿æŠ¤æˆ‘çš„èµ„äº§ä»·å€¼ï¼Œæˆ‘å¿…é¡»<strong>æŠ•å‡ºæˆ‘è®¤ä¸ºå…¶ä»–äººä¹Ÿä¼šæŠ•å‡ºçš„é‚£ä¸ªç»“æœ</strong>â€”â€”è€Œè¿™ä¸ªç»“æœï¼Œé€šå¸¸å°±æ˜¯<strong>å®¢è§‚çœŸç›¸</strong>ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong> å¹¶æ²¡æœ‰ä¸€ä¸ªä¸­å¿ƒåŒ–çš„â€œä¸Šå¸â€åœ¨å®£å¸ƒç»“æœã€‚ çœŸç›¸æ˜¯ç»è¿‡â€œé»˜è®¤é€šè¿‡ -&gt; æŒ‘æˆ˜ -&gt; å…¨æ°‘å…¬æŠ•â€è¿™å¥—ä¸¥å¯†çš„åšå¼ˆæµç¨‹åï¼Œæ²‰æ·€ä¸‹æ¥çš„å…±è¯†ã€‚è¿™ç¡®ä¿äº†å³ä½¿ Polymarket å…¬å¸å€’é—­ï¼Œåªè¦ä»¥å¤ªåŠè¿˜åœ¨ï¼Œä½ çš„èµŒæ³¨ä¾ç„¶èƒ½å¾—åˆ°å…¬æ­£çš„è£å†³ã€‚</p>
<h2 data-id="heading-14">ç¬¬å››ç« ï¼šåˆè§„ä¸å†²çª â€”â€” èµŒåœºè¿˜æ˜¯å…¬å…±è®¾æ–½ï¼Ÿ <strong>(The Regulation: The Conflict)</strong></h2>
<p>Polymarket å·²ç»å¾æœäº†æŠ€æœ¯ï¼Œä½†å®ƒé¢å‰è¿˜æŒ¡ç€ä¸€åº§å¤§å±±ï¼š<strong>æ³•å¾‹</strong>ã€‚</p>
<p>å½“ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„åè®®å˜å¾—æ¯” CNN æ›´å…·æƒå¨æ€§ï¼Œæ¯”æ‹‰æ–¯ç»´åŠ æ–¯æ›´å…·æµåŠ¨æ€§æ—¶ï¼Œå®ƒä¸å¯é¿å…åœ°æ’ä¸Šäº†æ—§ä¸–ç•Œçš„å›´å¢™ã€‚</p>
<h3 data-id="heading-15">1. ç›‘ç®¡è€… (CFTC) çš„è§†è§’ï¼šæ‰‹é‡Œæ‹¿ç€é”¤å­</h3>
<p>åœ¨ç¾å›½ç›‘ç®¡æœºæ„ CFTC çœ¼é‡Œï¼ŒPolymarket å°±æ˜¯ä¸ª<strong>éæ³•åœ°ä¸‹èµŒåœº</strong>ã€‚
ä»–ä»¬çš„æ³•å¾‹æ˜¯ 1930 å¹´ä»£ä¸ºäº†ç›‘ç®¡<strong>å¤§è±†å’Œç‰ç±³</strong>åˆ¶å®šçš„ã€‚åœ¨ä»–ä»¬çœ‹æ¥ï¼ŒæŠŠâ€œè°å½“æ€»ç»Ÿâ€å˜æˆå¯äº¤æ˜“èµ„äº§ï¼Œæ—¢è’è°¬åˆå±é™©ã€‚</p>
<h3 data-id="heading-16">2. è¾©æŠ¤è€…çš„è§†è§’ï¼šæ··ä¹±æ—¶ä»£çš„ç¯å¡”</h3>
<p>ä½†åœ¨ç¡…è°·å’Œ Vitalik çœ‹æ¥ï¼ŒPolymarket æ˜¯ <strong>â€œä¿¡æ¯å…¬å…±äº§å“â€</strong>ã€‚
åœ¨è¿™ä¸ªå‡æ–°é—»æ¼«å¤©é£çš„æ—¶ä»£ï¼Œåª’ä½“æœ‰ç«‹åœºï¼Œæ°‘è°ƒæœ‰åè§ï¼Œ<strong>ä½†é’±ä¸ä¼šæ’’è°</strong>ã€‚å®ƒæ˜¯ç¤¾ä¼šè·å–çœŸç›¸æˆæœ¬æœ€ä½çš„æ–¹å¼ã€‚</p>
<h3 data-id="heading-17">3. ç°çŠ¶ï¼šåœ°ç¼˜æ”¿æ²»å¥—åˆ©</h3>
<p>Polymarket ç©äº†ä¸€æ‰‹èªæ˜çš„<strong>åœ°ç¼˜æ”¿æ²»å¥—åˆ©</strong>ï¼š</p>
<ul>
<li><strong>è¡¨é¢ä¸Šï¼š</strong> å±è”½ç¾å›½ IPï¼Œå‘Šè¯‰ CFTC â€œæˆ‘ä¸åšç¾å›½äººç”Ÿæ„â€ã€‚</li>
<li><strong>å®é™…ä¸Šï¼š</strong> æ™ºèƒ½åˆçº¦åœ¨é“¾ä¸Šã€‚ä»»ä½•æ‡‚æŠ€æœ¯çš„ç¾å›½äººï¼ŒæŒ‚ä¸ª VPN ä¾ç„¶èƒ½ç•…é€šæ— é˜»ã€‚</li>
</ul>
<p>ç›‘ç®¡è€…å¯ä»¥ç½šæ¬¾å…¬å¸ï¼Œå¯ä»¥å…³åœç½‘ç«™å‰ç«¯ï¼Œä½†æ— æ³•å…³é—­ä»¥å¤ªåŠç½‘ç»œï¼Œæ— æ³•åˆ é™¤é“¾ä¸Šçš„ä»£ç ã€‚</p>
<h3 data-id="heading-18">âš”ï¸ é™„è¡¨ï¼šä¸¤ä¸ªä¸–ç•Œçš„è®¤çŸ¥é”™ä½</h3>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°å±•ç¤ºè¿™ç§å†²çªï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¼ å¯¹æ¯”è¡¨æ¥æ€»ç»“ï¼š</p>



































<table><thead><tr><th>ç»´åº¦</th><th>ğŸ›ï¸ CFTC (æ—§ä¸–ç•Œç›‘ç®¡)</th><th>ğŸ—½ Polymarket (æ–°ä¸–ç•Œä»£ç )</th></tr></thead><tbody><tr><td>æ ¸å¿ƒå®šä¹‰</td><td>éæ³•åœºå¤–è¡ç”Ÿå“ (Illegal Derivatives)</td><td>é¢„æµ‹å¸‚åœº / ä¿¡æ¯å…¬å…±äº§å“ (Public Good)</td></tr><tr><td>ç›‘ç®¡é€»è¾‘</td><td>â€œå¤§è±†é€»è¾‘â€ï¼šåªæœ‰å¤§å®—å•†å“æ‰éœ€è¦æœŸè´§</td><td>â€œä¿¡æ¯é€»è¾‘â€ï¼šä»»ä½•ä¸ç¡®å®šæ€§éƒ½åº”è¢«å®šä»·</td></tr><tr><td>åˆè§„è¦æ±‚</td><td>å¿…é¡»æŒæœ‰ DCO/DCM ç‰Œç…§</td><td>ä»£ç å³æ³•å¾‹ (Code is Law)</td></tr><tr><td>çœ‹å¾…ç”¨æˆ·</td><td>éœ€è¦è¢«ä¿æŠ¤çš„â€œèµŒå¾’â€</td><td>æä¾›ä¿¡æ¯çš„â€œé¢„è¨€å®¶â€</td></tr><tr><td>ç»ˆæç›®æ ‡</td><td>ç»´æŠ¤é‡‘èç§©åºç¨³å®š</td><td>å‘ç°å¹¶æå«çœŸç›¸</td></tr></tbody></table>
<h2 data-id="heading-19">ç¬¬äº”ç« ï¼šæœªæ¥å±•æœ› â€”â€” ä»é¢„æµ‹é€‰ä¸¾åˆ°é¢„æµ‹ä¸€åˆ‡</h2>
<p>é€‰ä¸¾åªæ˜¯ Polymarket çš„â€œç‰¹æ´›ä¼Šæœ¨é©¬â€ <strong>ã€‚</strong> <strong>å®ƒç”¨æœ€å—å…³æ³¨çš„æ”¿æ²»è¯é¢˜å¸å¼•äº†å…¨ä¸–ç•Œçš„ç›®å…‰ï¼Œä½†å®ƒçœŸæ­£æƒ³æ¤å…¥äººç±»ç¤¾ä¼šçš„ï¼Œæ˜¯ä¸€ç§å…¨æ–°çš„</strong>è®¤çŸ¥æ–¹å¼ã€‚</p>
<p>å½“â€œä»·æ ¼å³æ¦‚ç‡â€çš„æœºåˆ¶è¢«éªŒè¯æœ‰æ•ˆåï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå¤åˆ¶ç²˜è´´åˆ°ä»»ä½•å……æ»¡ä¸ç¡®å®šæ€§çš„é¢†åŸŸã€‚</p>
<h3 data-id="heading-20">1. ä¸‹ä¸€ä»£æ–°é—»æ ‡å‡†ï¼šå‘Šåˆ«â€œæ ‡é¢˜å…šâ€</h3>
<p>ç°åœ¨çš„æ–°é—»æ˜¯å»‰ä»·çš„ã€‚ä»»ä½•ä¸“å®¶éƒ½å¯ä»¥å¼ å£å°±æ¥ï¼šâ€œæˆ‘è®¤ä¸ºç¾è”å‚¨ä¸‹ä¸ªæœˆè‚¯å®šé™æ¯ã€‚â€ è¯´é”™äº†ä¹Ÿä¸ç”¨è´Ÿè´£ã€‚</p>
<p>æœªæ¥çš„æ–°é—»å°†æ˜¯â€œé•¿ç€ç‰™é½¿â€çš„ã€‚</p>
<ul>
<li><strong>åµŒå…¥å¼çœŸç›¸ï¼š</strong> æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ æµè§ˆ Bloomberg æˆ–ã€Šçº½çº¦æ—¶æŠ¥ã€‹æ—¶ï¼Œä¸å†æ˜¯çœ‹ä¸“æ ä½œå®¶çš„é•¿ç¯‡å¤§è®ºï¼Œè€Œæ˜¯æ–‡ç« æ—è¾¹æŒ‚ç€ä¸€ä¸ª Polymarket çš„å®æ—¶æ’ä»¶ï¼š</li>
</ul>
<blockquote>
<ul>
<li><strong>â€œç¾è”å‚¨é™æ¯æ¦‚ç‡ï¼š72%â€</strong></li>
</ul>
</blockquote>
<ul>
<li><strong>ç”¨é’±æŠ•ç¥¨ï¼š</strong> æ‰€æœ‰çš„ punditï¼ˆè¯„è®ºå‘˜ï¼‰éƒ½å°†è¢«è¿«é€šè¿‡ä¸‹æ³¨æ¥è¯æ˜è‡ªå·±çš„è§‚ç‚¹ã€‚æ–°é—»å°†ä»â€œè§‚ç‚¹çš„ç½—åˆ—â€è¿›åŒ–ä¸ºâ€œæ¦‚ç‡çš„åŠ æƒâ€ã€‚</li>
<li><strong>ç»“æœï¼š</strong> å™ªéŸ³è¢«è¿‡æ»¤ï¼Œåªæœ‰é‚£äº›æ•¢æ‹¿çœŸé‡‘ç™½é“¶å†’é™©çš„ä¿¡æ¯ï¼Œæ‰ä¼šè¢«è§†ä¸ºé«˜ä»·å€¼ä¿¡å·ã€‚</li>
</ul>
<h3 data-id="heading-21">2. ä¼ä¸šçš„â€œè¯šå®è¡€æ¸…â€ï¼šæ¶ˆç­é©¬å±ç²¾</h3>
<p>å¤§å…¬å¸æœ€å¤§çš„é—®é¢˜æ˜¯ä¿¡æ¯ä¼ å¯¼å¤±çœŸã€‚åº•å±‚çŸ¥é“é¡¹ç›®è¦å®Œï¼Œä¸­å±‚å´åœ¨æŠ¥å–œã€‚
å¦‚æœåœ¨å…¬å¸å†…éƒ¨å¼€ä¸€ä¸ªé¢„æµ‹å¸‚åœºï¼šâ€œé¡¹ç›®èƒ½åœ¨ 12 æœˆä¸Šçº¿å—ï¼Ÿâ€
CEO ä¸éœ€è¦å¬æ±‡æŠ¥ï¼Œçœ‹ä¸€çœ¼ä»·æ ¼ï¼ˆæ¯”å¦‚è·Œåˆ°äº† $0.10ï¼‰å°±çŸ¥é“å‡ºå¤§äº‹äº†ã€‚è¿™æ˜¯ä¸€ç§<strong>ç»•è¿‡ç§‘å±‚åˆ¶ã€ç›´æ¥æå–åº•å±‚çœŸç›¸</strong>çš„æ‰‹æ®µã€‚</p>
<h3 data-id="heading-22">3. ç§‘å­¦ä¸æ²»ç†ï¼šFutarchy çš„é›å½¢</h3>
<p>è¿™æ˜¯æœ€ç§‘å¹»ã€ä¹Ÿæœ€æ¿€è¿›çš„æ„¿æ™¯ã€‚ç»æµå­¦å®¶ Robin Hanson æå‡ºäº† <strong>"Futarchy"</strong> ï¼ˆæœªæ¥æ”¿ä½“ï¼‰çš„æ¦‚å¿µï¼š <strong>â€œå¯¹ä»·å€¼æŠ•ç¥¨ï¼Œå¯¹ä¿¡ä»°ä¸‹æ³¨â€ (Vote on Values, Bet on Beliefs)ã€‚</strong></p>
<ul>
<li>
<p><strong>è§£å†³ç§‘å­¦å±æœºï¼š</strong> ç°åœ¨çš„å­¦æœ¯ç•Œå……æ»¡æ— æ³•å¤ç°çš„åƒåœ¾è®ºæ–‡ã€‚å¦‚æœè¦æ±‚ç§‘å­¦å®¶åœ¨å‘è¡¨è®ºæ–‡æ—¶ï¼Œå¿…é¡»åœ¨é¢„æµ‹å¸‚åœºä¹°å…¥â€œæˆ‘çš„å®éªŒå¯å¤ç°â€çš„åˆçº¦ï¼Œå­¦æœ¯é€ å‡æˆæœ¬å°†æ— é™æ‹‰é«˜ã€‚</p>
</li>
<li>
<p><strong>æ”¿ç­–åˆ¶å®šï¼š</strong> æ”¿åºœä¸å†äº‰è®ºâ€œè¯¥ä¸è¯¥å®æ–½ A æ”¿ç­–â€ï¼Œè€Œæ˜¯è®¾ç«‹ä¸¤ä¸ªå¸‚åœºï¼š</p>
<ul>
<li>â€œå¦‚æœå®æ–½ Aï¼Œä¸€å¹´å GDP æ˜¯å¤šå°‘ï¼Ÿâ€</li>
<li>â€œå¦‚æœä¸å®æ–½ Aï¼Œä¸€å¹´å GDP æ˜¯å¤šå°‘ï¼Ÿâ€ å¸‚åœºä¼šç»™å‡ºæœ€å®¢è§‚çš„é¢„æµ‹ï¼Œæ”¿ç­–åˆ¶å®šè€…åªéœ€é€‰æ‹©é‚£ä¸ªé¢„æœŸ GDP æ›´é«˜çš„é€‰é¡¹ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-23">æ€»ç»“ï¼šä»â€œèµŒåœºâ€åˆ°â€œè®¤è¯†è®ºâ€</h3>
<p>Polymarket çš„è¿›åŒ–è·¯å¾„éå¸¸æ¸…æ™°ï¼š</p>





























<table><thead><tr><th>é˜¶æ®µ</th><th>æ ¸å¿ƒåº”ç”¨</th><th>ä»·å€¼ä¸»å¼ </th><th>è§’è‰²</th></tr></thead><tbody><tr><td>1.0 (ç°åœ¨)</td><td>ç¾å›½å¤§é€‰ã€ä½“è‚²èµ›äº‹</td><td>å¨±ä¹ä¸æŠ•æœº</td><td>ä¸€ä¸ªæ›´å…¬å¹³çš„èµŒåœº</td></tr><tr><td>2.0 (ä¸­æœŸ)</td><td>å®è§‚ç»æµã€çªå‘æ–°é—»</td><td>ä¿¡æ¯å‘ç°</td><td>æ–°é—»åª’ä½“çš„â€œåç«¯â€</td></tr><tr><td>3.0 (ç»ˆå±€)</td><td>ä¼ä¸šå†³ç­–ã€æ”¿ç­–åˆ¶å®š</td><td>èµ„æºé…ç½®</td><td>äººç±»ç¤¾ä¼šçš„â€œå¯¼èˆªä»ªâ€</td></tr></tbody></table>
<p><strong>æœ€åçš„ç»“è¯­ï¼š</strong> Polymarket å¹¶ä¸æ˜¯åœ¨é¼“åŠ±èµŒåšã€‚ å®ƒæ˜¯åœ¨åˆ©ç”¨äººç±»æœ€åŸå§‹çš„æœ¬èƒ½â€”â€”<strong>è´ªå©ª</strong>ï¼Œæ¥æç‚¼äººç±»æœ€ç¨€ç¼ºçš„èµ„æºâ€”â€”<strong>çœŸç›¸</strong>ã€‚ åœ¨è¿™ä¸ªå……æ»¡è°è¨€çš„ä¸–ç•Œé‡Œï¼Œè¿™æˆ–è®¸æ˜¯æˆ‘ä»¬èƒ½æ‰¾åˆ°çš„æœ€è¯šå®çš„é•œå­ã€‚</p>
<h2 data-id="heading-24">ğŸ’¡ æ€»ç»“</h2>
<p>ä»ç½—é©¬æ–—å…½åœºçš„å˜¶å¼ï¼Œåˆ° Polymarket å®‰é™è·³åŠ¨çš„è®¢å•è–„ï¼Œäººç±»ä»æœªåœæ­¢è¿‡å¯¹æœªæ¥çš„çª¥æ¢ã€‚</p>
<p>åŒºåˆ«åœ¨äºï¼Œä»¥å‰æˆ‘ä»¬é ç¥­å¸å’Œæ°´æ™¶çƒï¼Œç°åœ¨æˆ‘ä»¬é <strong>ä»£ç ã€åšå¼ˆè®ºå’Œæ— æ•°ä¸ªè´ªå©ªçš„ä¸ªä½“</strong>ã€‚</p>
<p>åœ¨è¿™ä¸ªå……æ»¡å™ªéŸ³çš„ä¸–ç•Œé‡Œï¼ŒPolymarket å‘Šè¯‰äº†æˆ‘ä»¬ä¸€ä¸ªæœ´ç´ çš„çœŸç†ï¼š <strong>Talk is cheap. Show me your position.</strong> ï¼ˆåºŸè¯å°‘è¯´ï¼Œäº®å‡ºä½ çš„ä»“ä½ã€‚ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰Java SDK æŒ‡å—]]></title>    <link>https://juejin.cn/post/7584432435590217782</link>    <guid>https://juejin.cn/post/7584432435590217782</guid>    <pubDate>2025-12-17T05:00:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584432435590217782" data-draft-id="7584356212801880105" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰Java SDK æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-17T05:00:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºçŒ¿DD"/> <meta itemprop="url" content="https://juejin.cn/user/131597123993358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸Šä¸‹æ–‡åè®®ï¼ˆMCPï¼‰Java SDK æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/131597123993358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºçŒ¿DD
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T05:00:15.000Z" title="Wed Dec 17 2025 05:00:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    32
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“æˆ‘ä»¬æŠŠå„ç§å†…éƒ¨ç³»ç»Ÿã€æ•°æ®æºã€å·¥å…·æ¥å…¥å¤§è¯­è¨€æ¨¡å‹æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°ä¸€ä¸ªå°´å°¬çš„é—®é¢˜ï¼šæ¯ä¸ªå›¢é˜Ÿã€æ¯å¥—ç³»ç»Ÿéƒ½æœ‰è‡ªå·±çš„ä¸€å¥—â€œæ¥å…¥è§„èŒƒâ€ã€‚æœ‰çš„ç”¨ HTTP APIï¼Œæœ‰çš„ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæœ‰çš„ç›´æ¥è¿æ•°æ®åº“ï¼Œæœ€åä¸€åœˆä¸²ä¸‹æ¥ï¼Œæ—¢éš¾ä»¥ç»Ÿä¸€æ²»ç†ï¼Œåˆå¾ˆéš¾åœ¨ä¸åŒåº”ç”¨ä¹‹é—´å¤ç”¨ã€‚è¿™æ—¶ï¼Œä½ å¯èƒ½ä¼šé—®ï¼šæœ‰æ²¡æœ‰ä¸€ç§é€šç”¨çš„åè®®ï¼Œæ—¢èƒ½è®© AI æ¨¡å‹æ–¹ä¾¿åœ°è°ƒç”¨å¤–éƒ¨å·¥å…·ã€è®¿é—®æ•°æ®ï¼Œåˆèƒ½è®©åç«¯æœåŠ¡æ–¹ç”¨æ ‡å‡†æ–¹å¼æš´éœ²èƒ½åŠ›ï¼Ÿ</p>
<p>Model Context Protocolï¼ˆMCPï¼‰å°±æ˜¯ä¸ºæ­¤è€Œç”Ÿçš„æ ‡å‡†ä¹‹ä¸€ï¼Œè€Œæœ¬æ–‡è¦ä»‹ç»çš„ Java SDKï¼Œåˆ™ä¸º Java å¼€å‘è€…æä¾›äº†ä¸€æ¡ç›´æ¥æ¥å…¥ MCP ç”Ÿæ€çš„é€šè·¯ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥ç”¨ç»Ÿä¸€çš„æ¨¡å‹ï¼Œåœ¨ Java åº”ç”¨é‡Œæš´éœ²å·¥å…·ã€èµ„æºã€æç¤ºæ¨¡ç‰ˆï¼Œä¹Ÿå¯ä»¥è½»æ¾ä½œä¸ºå®¢æˆ·ç«¯å»è°ƒç”¨è¿™äº›èƒ½åŠ›ã€‚æœ¬æ–‡å°†ä»æ•´ä½“æ¶æ„è®²èµ·ï¼Œä¸€æ­¥æ­¥å¸¦ä½ ç”¨ä¸€ä¸ªå¯è¿è¡Œçš„ç¤ºä¾‹ï¼Œæ­å»ºèµ·è‡ªå·±çš„ MCP æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ã€‚</p>
<h2 data-id="heading-0">1. æ¦‚è§ˆ</h2>
<p>éšç€è¿‘å¹´æ¥ AI çš„å¿«é€Ÿå‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„å·¥å…·å’Œç³»ç»Ÿå¼€å§‹ä¸ AI æ¨¡å‹é›†æˆã€‚ä½†éšä¹‹è€Œæ¥çš„ä¸€ä¸ªæŒ‘æˆ˜æ˜¯ï¼šæ¯ç§é›†æˆéƒ½å¯èƒ½é‡‡ç”¨å®Œå…¨ä¸åŒçš„æ ‡å‡†å’Œæ–¹å¼ï¼Œå°†å¤–éƒ¨å·¥å…·ã€èµ„æºå’Œç³»ç»Ÿæ¥å…¥åˆ° AI æ¨¡å‹ä¸­ã€‚</p>
<p>Model Context Protocolï¼ˆMCPï¼‰æ˜¯ä¸€ä¸ªå¼€æºæ ‡å‡†ï¼Œå®ƒå®šä¹‰äº† AI åº”ç”¨ï¼ˆå¦‚å¤§è¯­è¨€æ¨¡å‹ã€å›¾åƒç”Ÿæˆæ¨¡å‹ç­‰ï¼‰ä¸å·¥å…·ã€æ•°æ®æºä»¥åŠå…¶ä»–èµ„æºä¹‹é—´çš„é›†æˆæ–¹å¼ã€‚å€ŸåŠ© MCPï¼ŒAI åº”ç”¨å¯ä»¥æŒ‰å¤–éƒ¨ç³»ç»Ÿçº¦å®šçš„æ–¹å¼è®¿é—®æ•°æ®ã€è°ƒç”¨å·¥å…·å¹¶æ‰§è¡Œå·¥ä½œæµã€‚</p>
<p>MCP çš„ Java SDK ä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç»„åº“ï¼Œæ”¯æŒå¤šç§åè®®å’Œé€šä¿¡æœºåˆ¶ï¼Œç”¨äºæŠŠ Java åº”ç”¨ä¸ AI åº”ç”¨è¿æ¥èµ·æ¥ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸€èµ·äº†è§£è¿™ä¸ª SDKï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹æ¥ä½“éªŒ MCP çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<h2 data-id="heading-1">2. æ¶æ„</h2>
<p>MCP æ¶æ„çš„æ ¸å¿ƒç»„ä»¶ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>MCP Hostï¼šè´Ÿè´£ç®¡ç†å¤šä¸ª MCP Client</strong></li>
<li><strong>MCP Clientï¼šä» MCP Server è·å–ä¸Šä¸‹æ–‡ï¼Œä¾› MCP Host ä½¿ç”¨</strong></li>
<li><strong>MCP Serverï¼šå‘ MCP Client æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯å’Œå¯è°ƒç”¨èƒ½åŠ›</strong></li>
</ul>
<p>MCP å°†é€šä¿¡åˆ’åˆ†ä¸ºä¸¤ä¸ªæ¦‚å¿µå±‚æ¬¡ï¼š<strong>æ•°æ®å±‚ï¼ˆData Layerï¼‰ï¼Œç”¨äºå®šä¹‰å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„é€šä¿¡åè®®å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼›ä»¥åŠ <strong>ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰ï¼Œç”¨äºå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´çš„å…·ä½“ä¼ è¾“é€šé“å’Œæœºåˆ¶</strong>ã€‚</p>
<p>Java ç‰ˆçš„ MCP SDK å°†è¿™äº›æ¦‚å¿µæ˜ å°„ä¸ºå¦‚ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š</p>
<ul>
<li>Client/Server å±‚ï¼šé€šè¿‡ <code>McpClient</code> / <code>McpServer</code> å®ç°å¹¶ç®¡ç†å®¢æˆ·ç«¯/æœåŠ¡ç«¯çš„å…·ä½“æ“ä½œ</li>
<li>Session å±‚ï¼šé€šè¿‡ <code>McpSession</code> ç®¡ç†é€šä¿¡æ¨¡å¼å’Œä¼šè¯çŠ¶æ€</li>
<li>Transport å±‚ï¼šé€šè¿‡ <code>McpTransport</code> å¤„ç†æ¶ˆæ¯çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</li>
</ul>
<p>å®¢æˆ·ç«¯ä¼šè°ƒç”¨ MCP æœåŠ¡ç«¯æš´éœ²çš„ä¸€åˆ°å¤šä¸ªå·¥å…·ï¼ˆtoolï¼‰ï¼Œè€Œåº•å±‚çš„é€šä¿¡åˆ™ç”±ä¼ è¾“å±‚è´Ÿè´£ã€‚</p>
<p>åœ¨ MCP ä¸­ï¼Œ<strong>Primitiveï¼ˆåŸè¯­ï¼‰</strong> æ˜¯æœ€åŸºç¡€çš„æ„å»ºå•å…ƒï¼Œç”¨æ¥å®šä¹‰å¯ç”¨çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ç±»å‹ä»¥åŠå¯æ‰§è¡Œçš„æ“ä½œèŒƒå›´ã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½æä¾›äº†ä¸€äº›åŸè¯­ã€‚</p>
<p>æœåŠ¡ç«¯ä¾§çš„åŸè¯­åŒ…æ‹¬å·¥å…·ï¼ˆtoolsï¼‰ã€èµ„æºï¼ˆresourcesï¼‰å’Œæç¤ºæ¨¡ç‰ˆï¼ˆpromptsï¼‰ã€‚<strong>å·¥å…·æ˜¯ AI åº”ç”¨å¯ä»¥è°ƒç”¨çš„å¯æ‰§è¡Œå‡½æ•°</strong>ï¼Œä¾‹å¦‚æŸ¥è¯¢æ•°æ®åº“ã€æ–‡ä»¶æ“ä½œç­‰ã€‚<strong>èµ„æºæ˜¯æä¾›ç»™å®¢æˆ·ç«¯çš„ä¸Šä¸‹æ–‡æ•°æ®æº</strong>ï¼Œä¾‹å¦‚æ•°æ®åº“ç»“æ„ã€æ–‡ä»¶å†…å®¹ç­‰ã€‚<strong>æç¤ºæ¨¡ç‰ˆæ˜¯å¯å¤ç”¨çš„æ¨¡ç‰ˆï¼Œç”¨äºä¸è¯­è¨€æ¨¡å‹è¿›è¡Œäº¤äº’</strong>ã€‚</p>
<p>å®¢æˆ·ç«¯ä¾§çš„åŸè¯­åˆ™å¸®åŠ© <code>McpServer</code> çš„å®ç°è€…æ„å»ºæ›´ä¸°å¯Œçš„äº¤äº’èƒ½åŠ›ï¼ŒåŒ…æ‹¬é‡‡æ ·ï¼ˆsamplingï¼‰ã€ä¿¡æ¯è¡¥å……ï¼ˆelicitationï¼‰å’Œæ—¥å¿—ï¼ˆloggingï¼‰ã€‚<strong>é‡‡æ ·å…è®¸æœåŠ¡ç«¯åœ¨ä¸é›†æˆæ¨¡å‹ SDK çš„æƒ…å†µä¸‹ï¼Œå‘å®¢æˆ·ç«¯è¯·æ±‚è¯­è¨€æ¨¡å‹è¡¥å…¨ç»“æœã€‚</strong> <strong>ä¿¡æ¯è¡¥å……è®©æœåŠ¡ç«¯èƒ½å¤Ÿå‘ç”¨æˆ·è¯·æ±‚é¢å¤–ä¿¡æ¯æˆ–ç¡®è®¤æ“ä½œã€‚</strong> <strong>æ—¥å¿—åˆ™å…è®¸æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ—¥å¿—æ¶ˆæ¯ï¼Œç”¨äºè°ƒè¯•å’Œç›‘æ§ã€‚</strong></p>
<h2 data-id="heading-2">3. ç¯å¢ƒå‡†å¤‡</h2>
<p>è¦ä½¿ç”¨ MCP Java SDKï¼Œæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®ä¸­åŠ å…¥ <code>mcp</code> ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.modelcontextprotocol.sdk<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mcp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.15.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">3.1 å®šä¹‰ä¸€ä¸ª MCP å·¥å…·</h3>
<p>æˆ‘ä»¬å…ˆé€šè¿‡ <code>LoggingTool</code> è¿™ä¸ªç±»ï¼Œå®šä¹‰ä¸€ä¸ªéå¸¸ç®€å•çš„ MCP å·¥å…·ï¼Œç”¨æ¥æ‰“å°æ”¶åˆ°çš„æç¤ºè¯ï¼ˆpromptï¼‰ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª <code>SyncToolSpecification</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingTool</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> McpServerFeatures.SyncToolSpecification <span class="hljs-title function_">logPromptTool</span><span class="hljs-params">()</span> {
        McpSchema.<span class="hljs-type">JsonSchema</span> <span class="hljs-variable">inputSchema</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpSchema</span>.JsonSchema(<span class="hljs-string">"object"</span>,
            Map.of(<span class="hljs-string">"prompt"</span>, String.class), List.of(<span class="hljs-string">"prompt"</span>), <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpServerFeatures</span>.SyncToolSpecification(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpSchema</span>.Tool(
              <span class="hljs-string">"logPrompt"</span>, <span class="hljs-string">"Log Prompt"</span>,<span class="hljs-string">"Logs a provided prompt"</span>, inputSchema, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>),
                (exchange, args) -&gt; {
                    <span class="hljs-type">String</span> <span class="hljs-variable">prompt</span> <span class="hljs-operator">=</span> (String) args.get(<span class="hljs-string">"prompt"</span>);
                    <span class="hljs-keyword">return</span> McpSchema.CallToolResult.builder()
                      .content(List.of(<span class="hljs-keyword">new</span> <span class="hljs-title class_">McpSchema</span>.TextContent(<span class="hljs-string">"Input Prompt: "</span> + prompt)))
                      .isError(<span class="hljs-literal">false</span>)
                      .build();
                });
    }
}
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬é¦–å…ˆå®šä¹‰äº†è¾“å…¥çš„ JSON Schemaï¼Œç”¨æ¥ä¸ºç”¨æˆ·è¾“å…¥å»ºç«‹ä¸€ä¸ªæ¸…æ™°çš„å¥‘çº¦ã€‚æ¥ç€ï¼Œä½¿ç”¨è¯¥è¾“å…¥ Schema æ¥å®ä¾‹åŒ–ä¸€ä¸ª <code>Tool</code>ï¼Œåœ¨å¤„ç†é€»è¾‘ä¸­æå–å‡º <code>prompt</code> å‚æ•°ï¼Œå¹¶æœ€ç»ˆè¿”å›åŒ…å«è¯¥ <code>prompt</code> çš„ <code>TextContent</code> ç»“æœã€‚</p>
<h2 data-id="heading-4">4. MCP å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ­å»º</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª MCP æœåŠ¡ç«¯æ¥æš´éœ²è‡ªå®šä¹‰å·¥å…·ï¼Œä»¥åŠä¸€ä¸ªæˆ–å¤šä¸ª MCP å®¢æˆ·ç«¯ï¼Œç”¨äºè¿æ¥è¯¥æœåŠ¡ç«¯å¹¶è°ƒç”¨å…¶ä¸­çš„å·¥å…·ã€‚</p>
<h3 data-id="heading-5">4.1 MCP æœåŠ¡ç«¯å®ç°</h3>
<p><code>McpServer</code> å…·æœ‰ä¸€ç»„èƒ½åŠ›ï¼ˆcapabilitiesï¼‰ï¼Œç”¨æ¥å‘ŠçŸ¥å®¢æˆ·ç«¯å½“å‰æœåŠ¡å™¨æ”¯æŒå“ªäº›ç±»åˆ«çš„åè®®æ“ä½œï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€æç¤ºè¯è¡¥å…¨ã€èµ„æºè®¿é—®ç­‰ã€‚æ­¤å¤–ï¼Œå·¥å…·ï¼ˆtoolsï¼‰åˆ™æä¾›ç»™å®¢æˆ·ç«¯å¯è°ƒç”¨çš„å…·ä½“å‡½æ•°ã€‚</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸ª <code>McpServer</code> çš„å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">McpServerApp</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> McpSyncServer <span class="hljs-title function_">createServer</span><span class="hljs-params">()</span> {
        <span class="hljs-type">JacksonMcpJsonMapper</span> <span class="hljs-variable">jsonMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JacksonMcpJsonMapper</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>());
        <span class="hljs-type">StdioServerTransportProvider</span> <span class="hljs-variable">transportProvider</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioServerTransportProvider</span>(
            jsonMapper);

        <span class="hljs-keyword">return</span> McpServer.sync(transportProvider)
          .serverInfo(<span class="hljs-string">"baeldung-demo-server"</span>, <span class="hljs-string">"0.0.1"</span>)
          .capabilities(McpSchema.ServerCapabilities.builder()
            .tools(<span class="hljs-literal">true</span>)
            .logging()
            .build())
          .tools(LoggingTool.logPromptTool())
          .build();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        createServer();
    }
}
</code></pre>
<p>ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ªåŒæ­¥çš„ <code>McpServer</code>ï¼Œé€šè¿‡æ ‡å‡†è¾“å…¥/è¾“å‡ºæµå¹¶ä½¿ç”¨ JSON æ¶ˆæ¯æ ¼å¼è¿›è¡Œé€šä¿¡ã€‚éšåæˆ‘ä»¬å£°æ˜äº†æœåŠ¡å™¨çš„èƒ½åŠ›ï¼šå¼€å¯å·¥å…·ä»¥åŠæ—¥å¿—åŠŸèƒ½ï¼ˆåŸºäº SLF4J æ—¥å¿—æ¡†æ¶ï¼‰ï¼Œæœ€åæŠŠè‡ªå®šä¹‰çš„ <code>logPromptTool</code> æ³¨å†Œåˆ°æœåŠ¡å™¨ä¸Šã€‚</p>
<h3 data-id="heading-6">4.3 MCP å®¢æˆ·ç«¯å®ç°</h3>
<p>ä¸‹é¢å†å®šä¹‰ä¸€ä¸ªç®€å•çš„ <code>McpClient</code>ï¼Œç”¨äºè¿æ¥åˆ°æœåŠ¡ç«¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">McpClientApp</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> McpSyncClient <span class="hljs-title function_">getClient</span><span class="hljs-params">()</span> {
        <span class="hljs-type">ServerParameters</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> ServerParameters
          .builder(<span class="hljs-string">"npx"</span>)
          .args(<span class="hljs-string">"-y"</span>, <span class="hljs-string">"@modelcontextprotocol/server-everything"</span>)
          .build();

        <span class="hljs-type">JacksonMcpJsonMapper</span> <span class="hljs-variable">jsonMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JacksonMcpJsonMapper</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>());
        <span class="hljs-type">McpClientTransport</span> <span class="hljs-variable">transport</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioClientTransport</span>(params, jsonMapper);

        <span class="hljs-keyword">return</span> io.modelcontextprotocol.client.McpClient.sync(transport)
         .build();

    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">McpSyncClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> getClient();
        client.initialize();
    }
}
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ MCP æä¾›çš„ç¤ºä¾‹æœåŠ¡ç«¯ï¼Œå¹¶é€šè¿‡ <code>ServerParameters</code> è¿›è¡Œé…ç½®ã€‚å®¢æˆ·ç«¯åŒæ ·é€šè¿‡æ ‡å‡†è¾“å…¥/è¾“å‡ºæµä»¥åŠ JSON æ¶ˆæ¯æ ¼å¼ä¸æœåŠ¡ç«¯è¿›è¡ŒåŒæ­¥é€šä¿¡ã€‚</p>
<h2 data-id="heading-7">5. æµ‹è¯•</h2>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å…·å¤‡äº†æµ‹è¯• MCP äº¤äº’å’Œæ ¸å¿ƒæ¦‚å¿µæ‰€éœ€çš„å…¨éƒ¨ç»„ä»¶ã€‚</p>
<h3 data-id="heading-8">5.1 æµ‹è¯• MCP å·¥å…·ä¸å®¢æˆ·ç«¯å®ç°</h3>
<p>æˆ‘ä»¬å…ˆä»æµ‹è¯• <code>LoggingTool</code> å¼€å§‹ï¼ŒéªŒè¯å…¶è¾“å‡ºæ˜¯å¦æ­£ç¡®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">whenLogPromptToolCalled_thenReturnsResult</span><span class="hljs-params">()</span> {
    McpSchema.<span class="hljs-type">CallToolRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpSchema</span>.CallToolRequest(<span class="hljs-string">""</span>,
        Map.of(<span class="hljs-string">"prompt"</span>, <span class="hljs-string">"Unit test message"</span>));

    McpServerFeatures.<span class="hljs-type">SyncToolSpecification</span> <span class="hljs-variable">toolSpec</span> <span class="hljs-operator">=</span> LoggingTool.logPromptTool();
    McpSchema.<span class="hljs-type">CallToolResult</span> <span class="hljs-variable">result</span> 
        <span class="hljs-operator">=</span> toolSpec.callHandler().apply(<span class="hljs-literal">null</span>, request);
    assertNotNull(result);
    assertFalse(result.isError());
    assertEquals(
        <span class="hljs-string">"Input Prompt: Unit test message"</span>,((McpSchema.TextContent) (result.content()
        .getFirst()))
        .text());
}
</code></pre>
<p>åœ¨è¿™ä¸ªæµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰ <code>prompt</code> çš„ <code>CallToolRequest</code>ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™ <code>LoggingTool</code> çš„ <code>SyncToolSpecification</code>ã€‚éšåï¼Œæˆ‘ä»¬æ–­è¨€è¿”å›ç»“æœéç©ºã€æ— é”™è¯¯ï¼Œå¹¶ä¸”è¿”å›çš„æ–‡æœ¬å†…å®¹ä¸é¢„æœŸç›¸åŒã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†é€šè¿‡ MCP æä¾›çš„ç¤ºä¾‹æœåŠ¡ç«¯æ¥æµ‹è¯• <code>McpClient</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">whenCalledViaClient_thenReturnsLoggedResult</span><span class="hljs-params">()</span> {
    McpSchema.<span class="hljs-type">CallToolRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">McpSchema</span>.CallToolRequest(
        <span class="hljs-string">"echo"</span>, Map.of(<span class="hljs-string">"message"</span>, <span class="hljs-string">"Client-server test message"</span>));
    McpSchema.<span class="hljs-type">CallToolResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> client.callTool(request);

    assertNotNull(result);
    assertNull(result.isError());
    assertEquals(<span class="hljs-string">"Echo: Client-server test message"</span>,
        ((McpSchema.TextContent) (result.content()
        .getFirst())).text());
}
</code></pre>
<p>MCP ç¤ºä¾‹æœåŠ¡ç«¯æš´éœ²äº†ä¸€ä¸ªåä¸º <code>echo</code> çš„å·¥å…·ï¼Œå®ƒä¼šæŠŠè¾“å…¥æ¶ˆæ¯åŸæ ·è¿”å›ï¼Œè¿™ä¸æˆ‘ä»¬ä¹‹å‰å®ç°çš„ <code>LoggingTool</code> çš„è¡Œä¸ºç±»ä¼¼ã€‚</p>
<h3 data-id="heading-9">5.2 æµ‹è¯•æœ¬åœ°æœåŠ¡ç«¯</h3>
<p>æœ€åï¼Œæˆ‘ä»¬æ¥æµ‹è¯•è‡ªå·±ç¼–å†™çš„æœ¬åœ°æœåŠ¡ç«¯ã€‚ä¸ºæ­¤éœ€è¦å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„ <code>McpClient</code>ï¼Œå¹¶ä½¿ç”¨æŒ‡å‘æœ¬åœ° JAR çš„ä¸åŒæœåŠ¡ç«¯å‚æ•°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">McpClientApp2</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(McpClientApp2.class);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">jarPath</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.io.File(<span class="hljs-string">"java-mcp/target/java-mcp-1.0.0-SNAPSHOT.jar"</span>)
                             .getAbsolutePath();
        <span class="hljs-type">ServerParameters</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> ServerParameters.builder(<span class="hljs-string">"java"</span>)
            .args(<span class="hljs-string">"-jar"</span>, jarPath)
            .build();

        <span class="hljs-type">JacksonMcpJsonMapper</span> <span class="hljs-variable">jsonMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JacksonMcpJsonMapper</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>());
        <span class="hljs-type">McpClientTransport</span> <span class="hljs-variable">transport</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioClientTransport</span>(params, jsonMapper);

        <span class="hljs-type">McpSyncClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> McpClient.sync(transport)
            .build();

        client.initialize();

        <span class="hljs-type">ListToolsResult</span> <span class="hljs-variable">tools</span> <span class="hljs-operator">=</span> client.listTools();
        McpClientApp2.log.info(<span class="hljs-string">"Tools exposed by the server:"</span>);
        tools
          .tools()
          .forEach(tool -&gt; System.out.println(<span class="hljs-string">" - "</span> + tool.name()));

        McpClientApp2.log.info(<span class="hljs-string">"\nCalling 'logPrompt' tool..."</span>);
        <span class="hljs-type">CallToolResult</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> client.callTool(
          <span class="hljs-keyword">new</span> <span class="hljs-title class_">CallToolRequest</span>(<span class="hljs-string">"logPrompt"</span>, Map.of(<span class="hljs-string">"prompt"</span>, <span class="hljs-string">"Hello from MCP client!"</span>)));
        McpClientApp2.log.info(<span class="hljs-string">"Result: "</span> + result.content());

        client.closeGracefully();
    }
}
</code></pre>
<p>è¿è¡Œè¯¥å®¢æˆ·ç«¯åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ—¥å¿—æ¥éªŒè¯å®ƒæ˜¯å¦æˆåŠŸè¿æ¥åˆ°äº†æœ¬åœ° JAR ä¸­å®šä¹‰çš„æœåŠ¡ç«¯ï¼š</p>
<pre><code class="hljs language-text" lang="text">14:04:27.879 [boundedElastic-1] INFO  i.m.c.transport.StdioClientTransport - MCP server starting.
14:04:27.920 [boundedElastic-1] INFO  i.m.c.transport.StdioClientTransport - MCP server started
14:04:28.517 [pool-4-thread-1] INFO  i.m.c.transport.StdioClientTransport - STDERR Message received: 14:04:28.504 [pool-1-thread-1] INFO  i.m.server.McpAsyncServer - Client initialize request - Protocol: 2024-11-05, Capabilities: ClientCapabilities[experimental=null, roots=null, sampling=null, elicitation=null], Info: Implementation[name=Java SDK MCP Client, title=null, version=0.15.0]
14:04:28.575 [pool-1-thread-1] INFO  i.m.client.LifecycleInitializer - Server response with Protocol: 2024-11-05, Capabilities: ServerCapabilities[completions=null, experimental=null, logging=LoggingCapabilities[], prompts=null, resources=null, tools=ToolCapabilities[listChanged=true]], Info: Implementation[name=baeldung-demo-server, title=null, version=0.0.1] and Instructions null
14:04:28.626 [main] INFO  mcp.McpClientApp2 - Tools exposed by the server:
14:04:28.626 [main] INFO  mcp.McpClientApp2 - 
Calling 'logPrompt' tool...
 - logPrompt
14:04:28.671 [main] INFO  mcp.McpClientApp2 - Result: [TextContent[annotations=null, text=Input Prompt: Hello from MCP client!, meta=null]]
14:04:28.784 [ForkJoinPool.commonPool-worker-1] WARN  i.m.c.transport.StdioClientTransport - Process terminated with code 143

Process finished with exit code 0
</code></pre>
<p>ä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆ <code>McpServer</code> å¯åŠ¨æˆåŠŸï¼Œéšåå®¢æˆ·ç«¯å®Œæˆåˆå§‹åŒ–å¹¶ä¸æœåŠ¡ç«¯</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¶ˆæ¯é˜Ÿåˆ—ä»å…¥é—¨åˆ°è·‘è·¯ï¼Œä¿å§†çº§æ•™ç¨‹ï¼å‚»å­å¯æ‡‚]]></title>    <link>https://juejin.cn/post/7584475608221286451</link>    <guid>https://juejin.cn/post/7584475608221286451</guid>    <pubDate>2025-12-17T09:40:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584475608221286451" data-draft-id="7584496207705571379" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¶ˆæ¯é˜Ÿåˆ—ä»å…¥é—¨åˆ°è·‘è·¯ï¼Œä¿å§†çº§æ•™ç¨‹ï¼å‚»å­å¯æ‡‚"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,æ•°æ®åº“,æ¶ˆæ¯é˜Ÿåˆ—"/> <meta itemprop="datePublished" content="2025-12-17T09:40:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¶ˆæ¯é˜Ÿåˆ—ä»å…¥é—¨åˆ°è·‘è·¯ï¼Œä¿å§†çº§æ•™ç¨‹ï¼å‚»å­å¯æ‡‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T09:40:36.000Z" title="Wed Dec 17 2025 09:40:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å°é˜¿å·´ï¼Œåˆšåˆšä¸ºç”µå•†ç³»ç»Ÿçš„åŒ 11 å¤§ä¿ƒå¼€å‘äº†ç§’æ€æŠ¢è´­åŠŸèƒ½ã€‚</p>
<p>0 ç‚¹ç§’æ€å¼€å§‹ï¼Œæ¯ç§’ä¸Šä¸‡ä¸ªç”¨æˆ·åŒæ—¶ç‚¹å‡»æŠ¢è´­æŒ‰é’®ï¼Œä½ çš„æ•°æ®åº“ç¬é—´è¢«æ‰“å®ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d83b960ad534e648258e7e78ba7732f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=CN9FR7sGb1X%2BvT%2B0UMOujht1PuI%3D" alt="" loading="lazy"/></p>
<p>ä½ æ€¥å¾—æ»¡å¤´å¤§æ±—ï¼Œåªèƒ½æ‰¾åˆ° â€œåç«¯ä¹‹ç‹—â€ é±¼çš®æ±‚åŠ©ï¼šé˜¿å·´é˜¿å·´â€¦â€¦</p>
<p>é±¼çš®çœ‹äº†çœ‹ä½ çš„ä»£ç ï¼šç”¨æˆ·æ¯æ¬¡æŠ¢è´­ï¼Œä½ çš„ä»£ç éƒ½è¦åŒæ­¥å¤„ç†æ ¡éªŒåº“å­˜ã€æ‰£å‡åº“å­˜å¹¶åˆ›å»ºè®¢å•ç­‰å¤šä¸ªæ“ä½œã€‚åŒæ—¶æŠ¢è´­çš„ç”¨æˆ·å¤šäº†ï¼Œç³»ç»Ÿå°±ä¼šå‹åŠ›å±±å¤§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb2e4b5feb2c4e34bd15df939407193a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=NC0BKJMjRXVqO6be2m%2Bkok3zsKo%3D" alt="" loading="lazy"/></p>
<p>ä½ æ€¥äº†ï¼šé‚£å’‹åŠå•Šï¼Ÿæˆ‘æ€»ä¸èƒ½æ‹’ç»ç”¨æˆ·å§ï¼</p>
<p>é±¼çš®å˜¿å˜¿ä¸€ç¬‘ï¼šå¯ä»¥ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‘€ã€‚</p>
<p>ä½ ä¸€è„¸æ‡µï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿé‚£æ˜¯å•¥ï¼Ÿ</p>
<p>â­ï¸ æ¨èè§‚çœ‹è§†é¢‘è®²è§£ï¼Œæ›´é€šä¿—æ˜“æ‡‚ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbilibili.com%2Fvideo%2FBV12qmyBQEwL" target="_blank" title="https://bilibili.com/video/BV12qmyBQEwL" ref="nofollow noopener noreferrer">bilibili.com/video/BV12qâ€¦</a></p>
<h2 data-id="heading-0">ç¬¬ä¸€é˜¶æ®µï¼šè®¤è¯†æ¶ˆæ¯é˜Ÿåˆ—</h2>
<p>é±¼çš®ï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆä¿—ç§° MQï¼‰å°±åƒä¸€ä¸ªå¿«é€’é©¿ç«™ã€‚å¿«é€’å‘˜ä½œä¸º <strong>ç”Ÿäº§è€…</strong>ï¼ŒæŠŠåŒ…è£¹ï¼ˆæ¶ˆæ¯ï¼‰æ”¾åˆ°é©¿ç«™ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œæ”¶ä»¶äººä½œä¸º <strong>æ¶ˆè´¹è€…</strong>ï¼Œè‡ªå·±åˆ°é©¿ç«™å»å–ã€‚</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œå¿«é€’å‘˜æ”¾ä¸‹åŒ…è£¹å°±èƒ½èµ°ï¼Œä¸ç”¨è´¹æ—¶é—´ç­‰ä½ ç­¾æ”¶ï¼ˆå¼‚æ­¥ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b70f35d11d4e436f8be32586460329fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=U0N4oYJo17A%2BzDFOjmpXVeT4D%2BY%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¹Ÿä¸ç”¨å…³å¿ƒæ˜¯è°é€çš„ã€ä¸ç”¨å’Œå¿«é€’å‘˜è§é¢ï¼Œæœ‰ç©ºå»é©¿ç«™å–å°±è¡Œï¼ˆè§£è€¦ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d92f62d064d4fbaaf7a78ea60666a9a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=NNZfx6MMjh%2FUggww6bjNjzKwspc%3D" alt="" loading="lazy"/></p>
<p>å°±ç®—åŒ 11 åŒ…è£¹å¾ˆå¤šï¼Œé©¿ç«™ä¹Ÿèƒ½æš‚å­˜èµ·æ¥ç­‰æ¶ˆè´¹è€…æ…¢æ…¢å–ï¼ˆå‰Šå³°ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a95c9d5c6254bdaa313b64313f5681c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=rinqbkcjBOkz9%2Fya4D02vZSpdkc%3D" alt="" loading="lazy"/></p>
<p>è¿™å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸‰å¤§ä½œç”¨ï¼š<strong>å¼‚æ­¥ã€è§£è€¦å’Œå‰Šå³°ã€‚</strong></p>
<p>å¯¹äºä½ çš„ç§’æ€æŠ¢è´­ç³»ç»Ÿï¼Œç°åœ¨ç”¨æˆ·æ¯æ¬¡æŠ¢è´­éƒ½è¦åŒæ­¥æ‰§è¡Œå„ç§æ“ä½œï¼ˆæ ¡éªŒåº“å­˜ã€æ‰£å‡åº“å­˜ã€åˆ›å»ºè®¢å•ï¼‰ï¼Œå…¨éƒ¨å®Œæˆæ‰èƒ½è¿”å›ç»“æœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cee0f39773b48c5a5269ff36e25bd89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=3KZjVfJzsZYO3NpVtwVVtJonjKk%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç”¨æˆ·ç‚¹å‡»æŠ¢è´­åï¼Œç³»ç»Ÿå…ˆåšåŸºæœ¬çš„æ ¡éªŒå¹¶åœ¨ç¼“å­˜ä¸­é¢„æ‰£åº“å­˜ï¼Œç¡®è®¤å¯ä»¥æŠ¢è´­åï¼ŒæŠŠæŠ¢è´­è¯·æ±‚ï¼ˆæ¶ˆæ¯ï¼‰æŠ•å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå°±å¯ä»¥ç«‹åˆ»è¿”å›ç»“æœäº†ï¼ˆé¡µé¢ï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc3aaf5423b7457c82b6332c7fd74cae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=iKXJWnQiKZ9fAhBbeTaSJfjdW%2Bk%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ç”±åå°æœåŠ¡ä»é˜Ÿåˆ—ä¸­å–å‡ºæ¶ˆæ¯å¹¶å¤„ç†é‚£äº›è€—æ—¶çš„æ“ä½œï¼Œæ¯”å¦‚åˆ›å»ºè®¢å•ã€åœ¨æ•°æ®åº“ä¸­çœŸæ­£æ‰£å‡åº“å­˜ã€‚</p>
<p>è¿™å°±æ˜¯ <strong>å¼‚æ­¥</strong>ï¼šç”¨æˆ·ä¸ç”¨ç­‰æ‰€æœ‰åç«¯æ“ä½œå®Œæˆï¼Œå°±èƒ½å¿«é€Ÿå¾—åˆ°å“åº”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/032d26fb4e6e49b9a419d1bf582e19a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=PD0j5X%2FhhnjaJ23CABDxtbdpE3M%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”ï¼ŒæŠ¢è´­æœåŠ¡åªç®¡å‘æ¶ˆæ¯ï¼Œä¸ç”¨å…³å¿ƒæ˜¯è°æ¥å¤„ç†åº“å­˜ã€è°æ¥åˆ›å»ºè®¢å•ã€‚å‡å¦‚ä»¥åè¦åŠ çŸ­ä¿¡é€šçŸ¥ã€ç”¨æˆ·è¡Œä¸ºåˆ†æç­‰åŠŸèƒ½ï¼Œåªéœ€è¦è®©æ–°æœåŠ¡ä¹Ÿå»ç›‘å¬æ¶ˆæ¯é˜Ÿåˆ—å°±è¡Œï¼Œå®Œå…¨ä¸ç”¨ä¿®æ”¹æŠ¢è´­æœåŠ¡çš„ä»£ç ã€‚</p>
<p>è¿™å°±æ˜¯ <strong>è§£è€¦</strong>ï¼šæœåŠ¡ä¹‹é—´ä¸ç›´æ¥ä¾èµ–ï¼Œè®©ç³»ç»Ÿèƒ½çµæ´»æ‰©å±•ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea4655019b974a27951bdf1b8e686982~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=rC7WsFtQGzQCxCcN7qTnO46jVQQ%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœåŒæ—¶æŠ¢è´­çš„ç”¨æˆ·è¿‡å¤šï¼Œæ•°æ®åº“å¤„ç†ä¸è¿‡æ¥ï¼Œä¹Ÿå¯ä»¥ç”¨æ¶ˆæ¯é˜Ÿåˆ—åšç¼“å†²ã€‚æ‰€æœ‰çš„æŠ¢è´­è¯·æ±‚å…ˆå¿«é€Ÿå­˜å…¥é˜Ÿåˆ—ï¼Œåå°æœåŠ¡å¯ä»¥æ ¹æ®è‡ªå·±çš„èƒ½åŠ›ä»é˜Ÿåˆ—ä¸­æ…¢æ…¢æ‹‰å–æ¶ˆæ¯å¹¶è¿›è¡Œå¤„ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/655fd10b41884df1b8802600cc0d215a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=X3RQZhIx7SxHgkTCXjKf4qV2Kdc%3D" alt="" loading="lazy"/></p>
<p>è¿™å°±æ˜¯ <strong>å‰Šå³°</strong>ï¼šå‰Šå¹³æµé‡æ´ªå³°ï¼Œä¿æŠ¤åç«¯ç³»ç»Ÿä¸è¢«å‹å®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dba9ea643524976a9b3f1a6d4025a56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=4nW73oSXZJw01tF6C9ZUIA1Z6pI%3D" alt="" loading="lazy"/></p>
<p>ä½ æç„¶å¤§æ‚Ÿï¼šåŸæ¥å¦‚æ­¤ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿå¤ªå¼ºå¤§äº†å§ï¼ä¿ºè¦å­¦ï¼Œä¿ºè¦å­¦ï¼</p>
<p>é±¼çš®ï¼šå¾ˆæœ‰å¹²åŠ²å˜›ï¼ä¸»æµçš„æ¶ˆæ¯é˜Ÿåˆ—å®ç°æŠ€æœ¯æœ‰ï¼š</p>
<ul>
<li>RabbitMQï¼šç®€å•æ˜“å­¦ã€ç”Ÿæ€æ´»è·ƒï¼Œé€‚åˆä¸­å°è§„æ¨¡åº”ç”¨</li>
<li>Kafkaï¼šååé‡é«˜ã€å»¶è¿Ÿæä½ï¼Œé€‚åˆå¤§æ•°æ®ã€æ—¥å¿—æ”¶é›†åœºæ™¯</li>
<li>RocketMQï¼šé˜¿é‡Œå‡ºå“ã€æ”¯æŒäº‹åŠ¡æ¶ˆæ¯ï¼Œé€‚åˆç”µå•†é‡‘èç­‰å¯¹å¯é æ€§è¦æ±‚é«˜çš„åœºæ™¯</li>
</ul>
<p>ä½ ï¼šé˜¿å·´é˜¿å·´ï¼Œè¿™ä¹ˆå¤šéƒ½è¦å­¦å—ï¼Ÿ</p>
<p>é±¼çš®ï¼šæ–°æ‰‹å»ºè®®ä» RabbitMQ å¼€å§‹å…¥é—¨ï¼Œå­¦å¥½ä¸€ä¸ªå†å­¦å…¶ä»–çš„å°±å¾ˆç®€å•äº†ã€‚ä¸‹é¢æˆ‘å°±ä»¥ RabbitMQ ä¸ºä¾‹å¸¦ä½ å¿«é€ŸæŒæ¡æ¶ˆæ¯é˜Ÿåˆ—å¿…çŸ¥å¿…ä¼šçš„æŠ€æœ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e935a2da4c94b90b81ec3fed641f126~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=8UPQMAV8LyueVT5jo29rNJs%2Fr6E%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šæœŸå¾…ä½äº†ï¼Œè¿™ä¸å¾—ç‚¹èµç‹ ç‹ æ”¯æŒï¼Ÿï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a249f5c7e9164e5f8e60facab45169b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=tBiLK7ALUana2s8O0U43FMzRvAs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">ç¬¬äºŒé˜¶æ®µï¼šRabbitMQ å¿«é€Ÿä¸Šæ‰‹</h2>
<p>é±¼çš®ï¼šé¦–å…ˆæ¥å®‰è£… RabbitMQï¼Œç¬¨åŠæ³•æ˜¯å…ˆå®‰è£… Erlang è¯­è¨€ç¯å¢ƒï¼Œå†å» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frabbitmq%2Frabbitmq-server%2Freleases" target="_blank" title="https://github.com/rabbitmq/rabbitmq-server/releases" ref="nofollow noopener noreferrer">å®˜ç½‘ä¸‹è½½</a> MQ çš„å®‰è£…åŒ…å¹¶æ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62fbe400abf24dc58b509237a1079370~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=Gptka9EErJfooMimMjdkExuFmTI%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯æ›´å»ºè®®ç›´æ¥ç”¨ Docker å®¹å™¨æŠ€æœ¯ï¼Œå¿«é€Ÿå®‰è£…å’Œè¿è¡Œï¼Œä¸ç”¨æ‹…å¿ƒç‰ˆæœ¬ä¸å…¼å®¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf92e502e3214d6798f51d45749d5d63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=HE%2BlB7B5AtIKgmxn0Oxi6XnOkkk%3D" alt="" loading="lazy"/></p>
<p>å®‰è£…å®Œä¹‹åï¼Œè®¿é—® <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A15672%2F" target="_blank" title="http://localhost:15672/" ref="nofollow noopener noreferrer">http://localhost:15672</a> å°±å¯ä»¥æ‰“å¼€ RabbitMQ å†…ç½®çš„å¯è§†åŒ–ç®¡ç†ç•Œé¢ï¼ˆé»˜è®¤ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯ guestï¼‰ï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹é˜Ÿåˆ—çš„è¿è¡Œæƒ…å†µã€æ‰‹åŠ¨å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/962e3c6c80cc43aeb2590957fa28c840~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=2ek98EbeZaVhYh5vhpm8BSiFvjo%3D" alt="" loading="lazy"/></p>
<p>å¦å¤–ï¼ŒRabbitMQ ä¹Ÿæä¾›äº†å‘½ä»¤è¡Œå·¥å…· rabbitmqctlï¼Œä¸»è¦ç”¨äºè¿ç»´ç®¡ç†ï¼Œæ¯”å¦‚åˆ›å»ºç”¨æˆ·ã€æŸ¥çœ‹çŠ¶æ€ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb8404ec88674ce6a2156d6eb8f974fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=O1M%2FRskz4yWrQwiaZq40jm8aZhg%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šé‚£æˆ‘æ€ä¹ˆç”¨ä»£ç æ“ä½œ RabbitMQ å‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šRabbitMQ æä¾›äº†å„ç§ç¼–ç¨‹è¯­è¨€çš„ SDK å¼€å‘åŒ…ï¼Œå¦‚æœä½ æ˜¯ Java å¼€å‘è€…ï¼Œæ¨èä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rabbitmq.com%2Ftutorials%2Ftutorial-one-spring-amqp" target="_blank" title="https://www.rabbitmq.com/tutorials/tutorial-one-spring-amqp" ref="nofollow noopener noreferrer">Spring AMQP</a>ã€‚</p>
<blockquote>
<p>AMQP æ˜¯é«˜çº§æ¶ˆæ¯é˜Ÿåˆ—åè®®ï¼ˆAdvanced Message Queuing Protocolï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æ ‡å‡†ï¼Œä¸ç»‘å®šç‰¹å®šæŠ€æœ¯ã€‚RabbitMQ å°±æ˜¯åŸºäº AMQP å®ç°çš„ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯åº“å« Spring AMQPã€‚</p>
</blockquote>
<p>åªéœ€å‡ è¡Œä»£ç ï¼Œå°±èƒ½åˆ›å»ºé˜Ÿåˆ—ã€è®©ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ã€è®©æ¶ˆè´¹è€…æ¥æ”¶å¤„ç†æ¶ˆæ¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/432893c923ee4b6089ef71fe6ad9c301~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=M6PcpR71kZNV5VMdoTAaqRzVvzE%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šä¸æ˜¯å§ï¼Œè¿™ä¹ˆç®€å•ï¼Ÿï¼</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œä½†åˆšåˆšæˆ‘ä»¬åªæ˜¯å®Œæˆäº†æœ€ç®€å•çš„ 1 å¯¹ 1 å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚</p>
<p>å®é™…ä¸Š RabbitMQ æœ‰ 6 ç§å·¥ä½œæ¨¡å¼ï¼Œé€‚ç”¨äºä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼Œè¿™ä¹Ÿæ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„å­¦ä¹ é‡ç‚¹ã€‚</p>
<h2 data-id="heading-2">ç¬¬ä¸‰é˜¶æ®µï¼šRabbitMQ å·¥ä½œæ¨¡å¼</h2>
<h4 data-id="heading-3">ç®€å•æ¨¡å¼</h4>
<p>æœ€ç®€å•çš„æ˜¯ <strong>Simple æ¨¡å¼</strong>ï¼Œä¸€ä¸ªç”Ÿäº§è€…ã€ä¸€ä¸ªé˜Ÿåˆ—ã€ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚</p>
<p>å°±åƒè€æ¿æ´¾å‘ä»»åŠ¡ç»™å‘˜å·¥ï¼Œ<strong>é˜Ÿåˆ—ï¼ˆQueueï¼‰</strong> æ˜¯å­˜å‚¨ä»»åŠ¡çš„å®¹å™¨ï¼Œè€æ¿æŠŠä»»åŠ¡æ”¾è¿›å»ï¼Œå‘˜å·¥ä»é‡Œé¢å–å‡ºæ¥å®Œæˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99cec74bc571400dbd5dc5a13693b6f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=scfF7HvcRPIWM0E2YQZKCF1XHjk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">å·¥ä½œé˜Ÿåˆ—æ¨¡å¼</h4>
<p>é±¼çš®ï¼šå¦‚æœæœ‰å¾ˆå¤šä»»åŠ¡è¦å¤„ç†ï¼Œä¸€ä¸ªå‘˜å·¥å¿™ä¸è¿‡æ¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>ä½ ï¼šå¤šæ‰¾å‡ ä¸ªå‘˜å·¥å¸®å¿™ï¼Ÿ</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè¿™å°±æ˜¯ <strong>Work Queue å·¥ä½œé˜Ÿåˆ—æ¨¡å¼</strong>ï¼Œä¸€ä¸ªç”Ÿäº§è€…ã€ä¸€ä¸ªé˜Ÿåˆ—ã€å¤šä¸ªæ¶ˆè´¹è€…ã€‚</p>
<p>å°±åƒè€æ¿å‘å¸ƒäº†ä¸€å †ä»»åŠ¡ï¼ŒRabbitMQ ä¼šæŠŠä»»åŠ¡ä¾æ¬¡åˆ†é…ç»™å‘˜å·¥ï¼Œä½†æ˜¯ä¸€ä¸ªä»»åŠ¡åªä¼šè¢«ä¸€ä¸ªå‘˜å·¥å®Œæˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/473b784a41c84d8bba6da85a79932027~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=0SlEkzpkl3sYGRs1Lt6dC3xzA%2Fs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">å‘å¸ƒè®¢é˜…æ¨¡å¼</h4>
<p>ä½ ï¼šè¿™æ ·æ•ˆç‡å°±é«˜å¤šäº†ï¼</p>
<p>ä½†å¦‚æœè€æ¿è¦æ±‚æ‰€æœ‰å‘˜å·¥éƒ½å†™å·¥ä½œæ€»ç»“ï¼Œæ€ä¹ˆæŠŠåŒæ ·çš„ä»»åŠ¡å‘ç»™å¤šä¸ªå‘˜å·¥å‘¢ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c62993b2cb3f498ebefd14e069d60d7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=MMHmYe9WBxpwk2HmYnRhhPFNgQ8%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šå¥½é—®é¢˜ï¼ä¹‹å‰å·¥ä½œé˜Ÿåˆ—æ˜¯å¤šä¸ªå‘˜å·¥å…±äº«ä¸€ä¸ªä»»åŠ¡åˆ—è¡¨ï¼Œè€Œç°åœ¨æ¯ä¸ªå‘˜å·¥éƒ½è¦æœ‰è‡ªå·±çš„ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>
<p>è€æ¿éœ€è¦åˆ©ç”¨ <strong>äº¤æ¢æœºï¼ˆExchangeï¼‰</strong> æ¥æ§åˆ¶æŠŠä»»åŠ¡åˆ†å‘ç»™å“ªäº›å’Œå®ƒç»‘å®šçš„é˜Ÿåˆ—ã€‚</p>
<p>æ¯”å¦‚æƒ³æŠŠä»»åŠ¡å‘ç»™æ‰€æœ‰å‘˜å·¥ï¼Œå°±è¦ç”¨åˆ° <strong>å¹¿æ’­äº¤æ¢æœºï¼ˆFanout Exchangeï¼‰</strong> ï¼Œå®ƒä¼šæŠŠä»»åŠ¡å‘ç»™æ‰€æœ‰å·²ç»‘å®šçš„é˜Ÿåˆ—ï¼Œç„¶åæ¯ä¸ªå‘˜å·¥åˆ†åˆ«ä»è‡ªå·±çš„é˜Ÿåˆ—å–ä»»åŠ¡å¹¶å®Œæˆã€‚è¿™å°±æ˜¯ <strong>å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ˆPublish/Subscribeï¼‰</strong> ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ab778517044499ea8ea16fb28c1d217~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=XFzb07nrDCFPCJkUZXuPC0qdXyk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">è·¯ç”±æ¨¡å¼</h4>
<p>ä½ ï¼šé‚£å¦‚æœè€æ¿æƒ³æŠŠæŸäº›ä»»åŠ¡å‘ç»™ç‰¹å®šå‘˜å·¥å‘¢ï¼Ÿæ¯”å¦‚é±¼çš®è´Ÿè´£å†™ä»£ç å’Œä¿® Bugï¼Œå°é˜¿å·´è´Ÿè´£å†™ä»£ç å’Œæ‘¸é±¼~</p>
<p>é±¼çš®ï¼šå¯ä»¥ä½¿ç”¨ <strong>è·¯ç”±æ¨¡å¼ï¼ˆRoutingï¼‰</strong> ï¼Œç»™æ¯ä¸ªå‘˜å·¥çš„é˜Ÿåˆ—è®¾ç½®è‡ªå·±è´Ÿè´£çš„è·¯ç”±é”®ï¼ˆRouting Keyï¼‰ï¼š</p>
<ul>
<li>é±¼çš®çš„é˜Ÿåˆ—ç»‘å®š â€œå†™ä»£ç â€ å’Œ â€œä¿® Bugâ€</li>
<li>å°é˜¿å·´çš„é˜Ÿåˆ—ç»‘å®š â€œå†™ä»£ç â€ å’Œ â€œæ‘¸é±¼â€</li>
</ul>
<p>è€æ¿å‘å¸ƒä»»åŠ¡æ—¶ä¼šæŒ‡å®šè·¯ç”±é”®ï¼Œç”± <strong>ç›´æ¥äº¤æ¢æœºï¼ˆDirect Exchangeï¼‰</strong> æ ¹æ®è·¯ç”±é”®ç²¾ç¡®åŒ¹é…ï¼ŒæŠŠä»»åŠ¡å‘ç»™å¯¹åº”çš„é˜Ÿåˆ—ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62ee59fd705041278bd80174bb99767b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=7aE2uRr1PBcwkWZAW1WYDIKS8dQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">ä¸»é¢˜æ¨¡å¼</h4>
<p>ä½ ï¼šé‚£å¦‚æœè€æ¿æƒ³æŠŠæ‰€æœ‰å‰ç«¯ç›¸å…³çš„ä»»åŠ¡éƒ½å‘ç»™å‰ç«¯å‘˜å·¥ï¼Œåç«¯ç›¸å…³çš„ä»»åŠ¡éƒ½å‘ç»™åç«¯å‘˜å·¥å‘¢ï¼Ÿä¸€ä¸ªä¸€ä¸ªæŒ‡å®šè·¯ç”±é”®æ˜¯ä¸æ˜¯å¤ªéº»çƒ¦äº†ï¼Ÿ</p>
<p>é±¼çš®ï¼šå¯ä»¥ä½¿ç”¨ <strong>ä¸»é¢˜æ¨¡å¼ï¼ˆTopicï¼‰</strong> ï¼Œå®ƒä½¿ç”¨ <strong>ä¸»é¢˜äº¤æ¢æœºï¼ˆTopic Exchangeï¼‰</strong> ï¼Œæ”¯æŒä½¿ç”¨é€šé…ç¬¦æ¨¡ç³ŠåŒ¹é…ã€‚</p>
<p>å¯ä»¥ç»™é˜Ÿåˆ—ç»‘å®šé€šé…ç¬¦è·¯ç”±é”®ï¼Œå°±èƒ½æ¥æ”¶æ‰€æœ‰åŒ¹é…çš„ä»»åŠ¡ï¼š</p>
<ul>
<li>å‰ç«¯å‘˜å·¥çš„é˜Ÿåˆ—ç»‘å®š <code>frontend.*</code>ï¼ˆåŒ¹é… 1 ä¸ªè¯ï¼‰ï¼Œèƒ½åŒ¹é… <code>frontend.Vue</code>ã€<code>frontend.React</code></li>
<li>åç«¯å‘˜å·¥çš„é˜Ÿåˆ—ç»‘å®š <code>backend.#</code>ï¼ˆåŒ¹é…å¤šä¸ªè¯ï¼‰ï¼Œèƒ½åŒ¹é… <code>backend</code>ã€<code>backend.Java</code>ã€<code>backend.Java.ä¼˜åŒ–</code></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a5d309746ed4c24a7da5c02c74b785f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=5Aqgz4rFMW%2FX7Pv5HSgBy%2FTr4QE%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå“‡ï¼Œè¿™æ ·ä¸€æ¥å°±çµæ´»å¤šäº†ï¼</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè¿™ 5 ç§æ¨¡å¼æ˜¯ä¼ä¸šä¸­æœ€å¸¸ç”¨çš„ï¼ŒæŒæ¡äº†å®ƒä»¬å°±èƒ½åº”å¯¹å¤§éƒ¨åˆ†åœºæ™¯äº†ã€‚è‡³äºæœ€åä¸€ç§æ¨¡å¼ â€”â€” RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰æ¨¡å¼ï¼Œæš‚æ—¶ä¸éœ€è¦äº†è§£ï¼Œå› ä¸ºä¼ä¸šå¼€å‘ä¸­ä¸€èˆ¬ç”¨ä¸“é—¨çš„ RPC æ¡†æ¶ï¼Œæ¯”å¦‚ gRPCã€Dubboã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4130e2ee186d433caecbbe695ad1acc0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=7ymmMFrXZjwzlvYlucTS%2Bv29oUc%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå¥½å˜ï¼Œæˆ‘å…ˆç”¨è¿™äº›å·¥ä½œæ¨¡å¼æ¥é‡æ„ç§’æ€æŠ¢è´­åŠŸèƒ½ï¼Œè¯·å¥½å§æ‚¨å˜ï¼</p>
<h2 data-id="heading-8">ç¬¬å››é˜¶æ®µï¼šæ¶ˆæ¯é˜Ÿåˆ—ç”Ÿäº§å®è·µ</h2>
<p>ä¸€ä¸ªæœˆåï¼Œä½ æ„æ°”é£å‘åœ°æ‰¾åˆ°é±¼çš®ï¼šé±¼çš® gieï¼Œæˆ‘çš„æŠ¢è´­ä»£ç é‡æ„å®Œäº†ï¼Œå¿«å¸®æˆ‘çœ‹çœ‹èƒ½ä¸èƒ½ä¸Šçº¿~</p>
<p>é±¼çš®çœ‹ç€ä½ çš„ä»£ç ï¼Œè¡¨æƒ…éš¾å—å¾—åƒæŒçŸ¢ä¸€æ ·ï¼šemmmï¼Œä½ è¿™ä»£ç è¦æ˜¯ä¸Šçº¿ï¼Œå…¬å¸å°±å®Œè›‹äº†ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e2f47d5ef4f442c9a7a58f8ca973a72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=LZ%2Bc8acL5HywJ65zu5rotsesv14%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šé˜¿å·´é˜¿å·´ï¼Œæˆ‘æœ¬åœ°æµ‹è¯•è¿‡äº†ï¼Œå®Œå…¨æ²¡é—®é¢˜å•Šï¼</p>
<p>é±¼çš®ï¼šæ¶ˆæ¯é˜Ÿåˆ—åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„å‘å¯å¤šç€å‘¢ï¼ä¸‹é¢æˆ‘æ¥é—®ä½ å‡ ä¸ªé—®é¢˜ã€‚</p>
<h4 data-id="heading-9">ç¬¬ä¸€é—®ï¼šæ¶ˆæ¯ä¼šä¸¢å—ï¼Ÿ</h4>
<p>é±¼çš®ï¼šå¦‚æœé‡å¯ RabbitMQ æœåŠ¡å™¨ï¼Œé˜Ÿåˆ—é‡Œçš„æ¶ˆæ¯ä¼šä¸¢å—ï¼Ÿ</p>
<p>ä½ æ”¯æ”¯å¾å¾ï¼šä¼šâ€¦â€¦ä¼šä¸¢å§ï¼Ÿ</p>
<p>é±¼çš®ï¼šå½“ç„¶ä¼šï¼åœ¨æŠ¢è´­ç³»ç»Ÿä¸­ï¼Œå¦‚æœæ¶ˆæ¯ä¸¢äº†ï¼Œè®¢å•æ°¸è¿œä¸ä¼šè¢«åˆ›å»ºï¼Œç”¨æˆ·é‚£è¾¹ä¼šä¸€ç›´æ˜¾ç¤º â€œæŠ¢è´­ä¸­â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79c48c6b7ed846ce84f7ab99e376081f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=ngxesdTv1jCFjq5y5fEfz0cTjMA%3D" alt="" loading="lazy"/></p>
<p>ä½ ç€æ€¥äº†ï¼šé‚£å’‹åŠå•Šï¼Œæˆ‘ä¼šåƒæŠ•è¯‰çš„ï¼</p>
<p>é±¼çš®ï¼šè¦ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Œéœ€è¦åšå¥½æŒä¹…åŒ– 3 ä»¶å¥—ï¼ŒæŠŠæ•°æ®ä»å†…å­˜ä¿å­˜åˆ°ç¡¬ç›˜ï¼š</p>
<ul>
<li>é˜Ÿåˆ—æŒä¹…åŒ–ï¼Œåˆ›å»ºé˜Ÿåˆ—æ—¶è®¾ç½® durable ä¸º trueã€‚</li>
<li>æ¶ˆæ¯æŒä¹…åŒ–ï¼Œå‘é€æ¶ˆæ¯æ—¶è®¾ç½®æ¶ˆæ¯ä¸ºæŒä¹…åŒ–æ¨¡å¼ï¼ˆæ¯”å¦‚ deliveryMode = 2 æˆ– persistent = trueï¼‰</li>
<li>äº¤æ¢æœºæŒä¹…åŒ–ï¼Œåˆ›å»ºäº¤æ¢æœºæ—¶è®¾ç½® durable ä¸º trueã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0177132bf8624faa84bf60b20c6b8609~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=HotkO0B50aDPM9VI6V%2B8u0ui404%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå“ˆå“ˆï¼Œè¿™ä¸‹æ¶ˆæ¯å°±ä¸ä¼šä¸¢äº†å§ï¼</p>
<p>é±¼çš®ï¼šä¸ä¸€å®šï¼å…‰æŒä¹…åŒ–è¿˜ä¸å¤Ÿï¼Œè¿˜è¦æœ‰æ¶ˆæ¯ç¡®è®¤æœºåˆ¶æ¥ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ã€‚</p>
<p>1ï¼‰ç”Ÿäº§è€…ç¡®è®¤ï¼ˆPublisher Confirmï¼‰ï¼šç”Ÿäº§è€…å‘é€æ¶ˆæ¯åï¼Œç­‰å¾… RabbitMQ çš„ç¡®è®¤å›å¤ï¼Œç¡®ä¿æ¶ˆæ¯çœŸçš„è¢«æ¥æ”¶äº†ã€‚å°±åƒå¯„å¿«é€’ï¼Œä½ æŠŠåŒ…è£¹äº¤ç»™å¿«é€’å‘˜ï¼Œå¿«é€’å‘˜è¦ç»™ä½ ä¸€ä¸ªå›æ‰§å•ï¼Œè¯æ˜ä»–æ”¶åˆ°äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a9a0fe56d4547dca8111b4d601d0540~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=3chwxXNZ7iuhA3sb%2FLU%2BCN%2B5Tic%3D" alt="" loading="lazy"/></p>
<p>2ï¼‰æ¶ˆè´¹è€…ç¡®è®¤ï¼ˆConsumer ACKï¼‰ï¼šæ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯æˆåŠŸåï¼Œè¦æ‰‹åŠ¨å‘Šè¯‰ RabbitMQ â€œæˆ‘å¤„ç†å®Œäº†ï¼Œä½ å¯ä»¥åˆ äº†â€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4706aa177c7a419da4a84d0abeef8818~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=CFt2EtCXs%2B8IJQ2rdW2Ao7StndM%3D" alt="" loading="lazy"/></p>
<p>åƒä¸‡åˆ«ç”¨é»˜è®¤çš„è‡ªåŠ¨ç¡®è®¤ï¼Œé‚£æ ·æ¶ˆæ¯ä¸€æ”¶åˆ°å°±åˆ é™¤ï¼Œä¸‡ä¸€å¤„ç†å¤±è´¥æ¶ˆæ¯å°±ä¸¢äº†ã€‚å°±åƒæ”¶å¿«é€’è¦ç­¾æ”¶ï¼Œç¡®ä¿åŒ…è£¹çœŸçš„é€åˆ°ä½ æ‰‹ä¸Šäº†ã€‚</p>
<p>é±¼çš®ï¼šè¿™æ ·ä»ç”Ÿäº§åˆ°æ¶ˆè´¹çš„æ•´ä¸ªé“¾è·¯éƒ½æœ‰ä¿éšœï¼Œæ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤±äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b542a3d5f83849b882b0e9b62efc683f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=J%2BOYavttFCxPch%2BC9%2B7HW%2BlUjgs%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">ç¬¬äºŒé—®ï¼šæ¶ˆæ¯ä¼šé‡å¤å—ï¼Ÿ</h4>
<p>é±¼çš®ï¼šå¦‚æœç½‘ç»œæŠ–åŠ¨ï¼Œæˆ–è€…æ¶ˆè´¹è€…é‡å¯ï¼ŒåŒä¸€æ¡æ¶ˆæ¯å¯èƒ½è¢«æ¶ˆè´¹å¤šæ¬¡ã€‚æ¯”å¦‚æŠ¢è´­æ¶ˆæ¯è¢«é‡å¤æ¶ˆè´¹ï¼ŒåŒä¸€ä¸ªç”¨æˆ·çš„è®¢å•è¢«åˆ›å»ºäº† 2 æ¬¡ï¼Œåº“å­˜è¢«æ‰£äº† 2 æ¬¡æ€ä¹ˆåŠï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c7b019bda7a429c900cb6a1f744acbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=dQa4vhDShWJUt%2BM4HpwrcteIYws%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šé‚£æˆ‘å¾—è·‘è·¯äº†ï¼</p>
<p>é±¼çš®ï¼šä¸è‡³äºä¸è‡³äºï¼Œæˆ‘ä»¬è¦ä¿è¯ <strong>æ¶ˆæ¯å¹‚ç­‰æ€§</strong>ï¼Œè®©é‡å¤æ¶ˆè´¹ç­‰åŒäºåªæ¶ˆè´¹ä¸€æ¬¡ã€‚</p>
<p>å¸¸è§çš„æ–¹æ¡ˆæœ‰ 3 ç§ï¼š</p>
<p>1ï¼‰ç»™æ¯æ¡æ¶ˆæ¯ä¸€ä¸ªå”¯ä¸€ IDï¼ˆæ¯”å¦‚ UUID æˆ–é›ªèŠ±ç®—æ³• IDï¼‰ï¼Œæ¶ˆè´¹å‰å…ˆæ£€æŸ¥è¿™ä¸ª ID æ˜¯å¦å¤„ç†è¿‡ã€‚</p>
<p>2ï¼‰åˆ©ç”¨æ•°æ®åº“å”¯ä¸€ç´¢å¼•ï¼Œæ¯”å¦‚è®¢å•å·è®¾ç½®ä¸ºå”¯ä¸€ç´¢å¼•ï¼Œé‡å¤æ’å…¥ä¼šå¤±è´¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f962438067e1412eb3be9c308ae626a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=toV53ItYKYRgWWHS7Oya9xNEDx8%3D" alt="" loading="lazy"/></p>
<p>3ï¼‰ä½¿ç”¨ Redis åˆ†å¸ƒå¼é”ï¼ŒåŒä¸€æ¡æ¶ˆæ¯åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/761d608e378a4301aa7bc586e59d1b73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=WwJP%2FUjqSv%2BFTWB80B7uii76JQ0%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šæ˜ç™½äº†ï¼æŠ¢è´­æ—¶ä¸ºäº†é˜²æ­¢é‡å¤ä¸‹å•ï¼Œè¦æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»ä¸‹è¿‡å•äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/384d1121ca8745c28f6c51f375b040d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=zbisiJ3%2Frb%2BERJABJXr3Tuc3OI4%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ç‚¹å¤´ï¼šæ²¡é”™ï¼Œå¹‚ç­‰æ€§è®¾è®¡æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºæœ¬åŠŸã€‚</p>
<h4 data-id="heading-11">ç¬¬ä¸‰é—®ï¼šæ¶ˆæ¯ä¹±åºæ€ä¹ˆåŠï¼Ÿ</h4>
<p>é±¼çš®ï¼šæ¯”å¦‚ç”¨æˆ·å…ˆæŠ¢è´­ä¸‹å•ã€ç„¶åå–æ¶ˆè®¢å•ï¼Œåˆ†åˆ«å‘é˜Ÿåˆ—å‘äº† â€œåˆ›å»ºè®¢å•â€ å’Œ â€œå–æ¶ˆè®¢å•â€ 2 æ¡æ¶ˆæ¯ã€‚å¦‚æœå¤„ç†é¡ºåºä¹±äº†ï¼Œç³»ç»Ÿå…ˆå¤„ç†å–æ¶ˆã€åå¤„ç†åˆ›å»ºï¼Œè®¢å•çŠ¶æ€å°±é”™äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b24e99402b604a60ab55fc7c039d0ddf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=aBtJshe%2BwpvCq6HrWDL9F5ZPcQM%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šé˜Ÿåˆ—ä¸æ˜¯å…ˆè¿›å…ˆå‡ºçš„å—ï¼ŸRabbitMQ åº”è¯¥å¤©ç„¶æœ‰åºå§ï¼Ÿ</p>
<p>é±¼çš®ï¼šå•é˜Ÿåˆ—å†…ç¡®å®æœ‰åºï¼Œä½†å¦‚æœä½ å¼€äº†å¤šä¸ªæ¶ˆè´¹è€…å¹¶å‘å¤„ç†ï¼Œå¯èƒ½æ¶ˆæ¯ 1 è¿˜åœ¨å¤„ç†ï¼Œæ¶ˆæ¯ 2 å·²ç»å¤„ç†å®Œäº†ï¼Œé¡ºåºå°±ä¹±äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/237a070ef7634f0fa9bc196acaa2d625~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=6FOtsF%2Bzt%2BY%2BgQLXFmjznXT766Y%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šé‚£æ€ä¹ˆä¿è¯é¡ºåºå‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šåœ¨ RabbitMQ ä¸­ï¼Œè¦ä¸¥æ ¼ä¿è¯é¡ºåºï¼Œå»ºè®®ç”¨ <strong>å•é˜Ÿåˆ— + å•æ¶ˆè´¹è€…</strong>ã€‚</p>
<p>ä½ ï¼šé‚£æ€§èƒ½ä¸å°±å¾ˆä½äº†å—ï¼Ÿ</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œæ‰€ä»¥è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚æƒè¡¡ä¸€è‡´æ€§å’Œæ€§èƒ½ã€‚</p>
<p>å¦‚æœä½ å…¨éƒ½è¦ï¼Œå¯ä»¥è€ƒè™‘ Kafka çš„åˆ†åŒºæœºåˆ¶ï¼Œå¯ä»¥å°†åŒä¸€ç”¨æˆ·çš„æ¶ˆæ¯è·¯ç”±åˆ°åŒä¸€ä¸ªåˆ†åŒºï¼ŒåŒä¸€ä¸ªåˆ†åŒºå†…çš„æ¶ˆæ¯ä¸¥æ ¼æœ‰åºï¼Œä¸åŒç”¨æˆ·çš„æ¶ˆæ¯åˆå¯ä»¥å¹¶å‘å¤„ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cc469323241497589fd4e011e5f27f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=JXPCDp98kSmPccVXDgjOW5JFAWs%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå¦™å•Šï¼Œåˆå­¦åˆ°ä¸€ä¸ªæ¶æ„çŸ¥è¯†ï¼</p>
<h4 data-id="heading-12">ç¬¬å››é—®ï¼šæ¶ˆæ¯å¤„ç†å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</h4>
<p>é±¼çš®ï¼šå¦‚æœæ¶ˆè´¹è€…å¤„ç†æ¶ˆæ¯æ—¶å‡ºé”™äº†ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥å¤±è´¥ã€ä¸šåŠ¡é€»è¾‘å¼‚å¸¸ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66782767ff5a41a187bac3f0bc36d945~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=C7dWHFNfcGc%2BQH%2FPt5c3Abb96tU%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šé‡è¯•ï¼Ÿ</p>
<p>é±¼çš®ï¼šé‡è¯•å‡ æ¬¡è¿˜æ˜¯å¤±è´¥å‘¢ï¼Ÿ</p>
<p>ä½ ï¼šé˜¿å·´é˜¿å·´ï¼Œç›´æ¥åˆ æ‰æ¶ˆæ¯ï¼Ÿ</p>
<p>é±¼çš®ï¼šåˆ æ‰ä¸å°±ä¸¢äº†å—ï¼Ÿï¼è¿™æ—¶åº”è¯¥è¦ç”¨æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDead Letter Queueï¼‰ã€‚</p>
<p>3 ç§æƒ…å†µä¼šäº§ç”Ÿæ­»ä¿¡ï¼š</p>
<ol start="0">
<li>æ¶ˆæ¯è¢«æ¶ˆè´¹è€…æ‹’ç»ï¼ˆreject æˆ– nackï¼Œrequeue å‚æ•°è®¾ç½®ä¸º falseï¼‰</li>
<li>æ¶ˆæ¯è¿‡æœŸ</li>
<li>é˜Ÿåˆ—æ»¡äº†</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0bff0f946734deba098bd3b0f1840bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=GlKW0dBJla01PJ%2B%2Fd7aqX6zpqVk%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå‘œå‘œå‘œï¼Œè¿™äº›æ­»ä¿¡å¥½å¯æ€œã€‚</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œæˆ‘ä»¬è¦ç»™æ­»ä¿¡ä¸€ä¸ªå»å¤„ã€‚å¯ä»¥é…ç½®æ­»ä¿¡äº¤æ¢æœºï¼ˆDLXï¼‰ï¼Œå°†æ­»ä¿¡è‡ªåŠ¨è·¯ç”±åˆ°æ­»ä¿¡é˜Ÿåˆ—ã€‚ç”±ä¸“é—¨çš„æ¶ˆè´¹è€…ç›‘æ§æ­»ä¿¡é˜Ÿåˆ—ï¼Œå‘ç°æ­»ä¿¡åï¼Œå¯ä»¥é‡è¯•ã€å‘Šè­¦ã€æˆ–è€…äººå·¥å¤„ç†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5b52dc213cf4a37a92a58e314135909~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=9hSvz%2BqM%2FiVoMJu4BD7gJHZz%2Bec%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå¥½è€¶ï¼Œè¿™æ ·å¼‚å¸¸æ¶ˆæ¯å°±ä¸ä¼šä¸¢å¤±å•¦ï¼</p>
<h4 data-id="heading-13">ç¬¬äº”é—®ï¼šRabbitMQ æœåŠ¡æŒ‚äº†æ€ä¹ˆåŠï¼Ÿ</h4>
<p>é±¼çš®ï¼šå‰é¢è¯´äº†è¿™ä¹ˆå¤šä¿è¯æ¶ˆæ¯ä¸ä¸¢çš„æœºåˆ¶ï¼Œä½†å¦‚æœ RabbitMQ æœåŠ¡æœ¬èº«æŒ‚äº†ï¼Œæ•´ä¸ªç³»ç»Ÿå°±ä¸èƒ½æ”¶å‘æ¶ˆæ¯äº†ï¼Œè¿™å¯æ˜¯å¤§äº‹æ•…ï¼</p>
<p>ä½ æ±—æµæµƒèƒŒäº†ï¼šé‚£æ€ä¹ˆåŠï¼Ÿ</p>
<p>è¿™æ—¶ï¼Œç»ƒä¹ ä¸¤å¹´çš„å®ä¹ ç”Ÿé˜¿å¤çªç„¶é¸¡å«èµ·æ¥ï¼šæˆ‘çŸ¥é“ï¼Œè¦æ­å»ºé›†ç¾¤å’Œé«˜å¯ç”¨æ¶æ„ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a82032bacf046a18ea8c33474393d60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=uMBSYnYHeq2NgQ7nUsTYItGenYI%3D" alt="" loading="lazy"/></p>
<p>ç”Ÿäº§ç¯å¢ƒè‡³å°‘è¦æ­å»º 3 ä¸ª RabbitMQ èŠ‚ç‚¹çš„é›†ç¾¤ã€‚</p>
<p>å¯¹äºé‡è¦çš„é˜Ÿåˆ—ï¼Œè¦ä½¿ç”¨ <strong>Quorum ä»²è£é˜Ÿåˆ—</strong>ï¼Œå®ƒåŸºäº Raft åè®®å®ç°ï¼Œä¼šæŠŠæ•°æ®è‡ªåŠ¨åŒæ­¥åˆ°å¤šä¸ªèŠ‚ç‚¹ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cdbfd09c65d940a48d1ac3feb4d2a16c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=d%2Fd4s70hsD1brFDAdaUHw8H9x5k%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä¸»èŠ‚ç‚¹æŒ‚äº†ï¼ŒRaft ä¼šè‡ªåŠ¨é€‰ä¸¾æ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå®ç°æ•…éšœè½¬ç§»ï¼Œç”¨æˆ·æ¯«æ— æ„ŸçŸ¥ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd1f1ca83394e188a2a278ee7636184~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=yxrU4foL9LWr3Uu4wCoDXQbaLWA%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæ•°æ®é‡å¤ªå¤§ï¼Œå•ä¸ªé˜Ÿåˆ—å­˜ä¸ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ Sharding æ’ä»¶åˆ›å»º <strong>åˆ†ç‰‡é˜Ÿåˆ—</strong>ï¼ŒæŠŠæ¶ˆæ¯åˆ†æ•£åˆ°å¤šä¸ªèŠ‚ç‚¹ã€‚ä¸è¿‡ RabbitMQ å¹¶ä¸æ“…é•¿è¿™ä¸ªåœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨ Kafkaã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/901f8372eb544fafb9aba8282d35e319~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=PzlZ%2BxjIttsPT9F%2B%2FznObZDPebE%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®æ‹äº†æ‹é˜¿å¤çš„è‚©è†€ï¼šä¸é”™ï¼ç”Ÿäº§ç¯å¢ƒçš„é«˜å¯ç”¨æ˜¯éå¸¸é‡è¦çš„ã€‚</p>
<p>æ­¤å¤–ï¼ŒRabbitMQ è¿˜æœ‰ä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹å¾ˆæœ‰ç”¨ã€‚</p>
<h4 data-id="heading-14">RabbitMQ é«˜çº§ç‰¹æ€§</h4>
<p>1ï¼‰å»¶è¿Ÿé˜Ÿåˆ—</p>
<p>æ¯”å¦‚æƒ³è¦è‡ªåŠ¨å–æ¶ˆè¶…è¿‡ 15 åˆ†é’Ÿè¿˜æœªæ”¯ä»˜çš„è®¢å•ï¼Œå¯ä»¥ç”¨æ­»ä¿¡é˜Ÿåˆ—é…åˆç”Ÿå­˜æ—¶é—´ï¼ˆTTLï¼‰å®ç°ã€‚å‘æ¶ˆæ¯æ—¶è®¾ç½® TTL ä¸º 15 åˆ†é’Ÿï¼Œç­‰å®ƒè¿‡æœŸå˜æˆæ­»ä¿¡ï¼Œè‡ªåŠ¨è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—ï¼Œç„¶åè®©æ­»ä¿¡é˜Ÿåˆ—çš„æ¶ˆè´¹è€…å¤„ç†å–æ¶ˆé€»è¾‘ã€‚ä½†æ˜¯æ›´æ¨èä½¿ç”¨ä¸“é—¨çš„å»¶è¿Ÿæ’ä»¶ <code>rabbitmq_delayed_message_exchange</code>ã€‚</p>
<p>2ï¼‰ä¼˜å…ˆçº§é˜Ÿåˆ—</p>
<p>æ¯”å¦‚æƒ³ä¼˜å…ˆå¤„ç† VIP ç”¨æˆ·çš„è®¢å•ï¼Œå¯ä»¥è®¾ç½®é˜Ÿåˆ—çš„æœ€å¤§ä¼˜å…ˆçº§ï¼ˆx-max-priorityï¼‰ï¼Œç„¶ååœ¨å‘é€æ¶ˆæ¯æ—¶æŒ‡å®šä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜çš„æ¶ˆæ¯ä¼šè¢«ä¼˜å…ˆæ¶ˆè´¹ã€‚</p>
<p>3ï¼‰Stream æµå¼å­˜å‚¨</p>
<p>ä¼ ç»Ÿé˜Ÿåˆ—æ¶ˆæ¯æ¶ˆè´¹åå°±åˆ é™¤äº†ï¼Œè€Œ Stream å¯ä»¥ä¿ç•™å†å²æ¶ˆæ¯ã€é‡å¤æ¶ˆè´¹ã€å›æº¯å†å²ï¼Œç±»ä¼¼ Kafkaï¼Œé€‚ç”¨äºå®æ—¶æ•°æ®åˆ†æã€å®¡è®¡æ—¥å¿—ç­‰åœºæ™¯ã€‚ä½†æˆ‘å»ºè®®äº†è§£å³å¯ï¼Œä¸å¦‚ç”¨ Kafkaã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9a41af61f114b82b0d6992a44a894c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=QF5YqGOXJihhHzOlkSj8JviSrik%3D" alt="" loading="lazy"/></p>
<p>ä½ ç¾æ„§åœ°ä½ä¸‹äº†å¤´ï¼šæˆ‘ä»¥ä¸ºè‡ªå·±å·²ç»æŒæ¡äº† RabbitMQï¼ŒåŸæ¥åªæ˜¯å­¦äº†ä¸ªçš®æ¯›...</p>
<h2 data-id="heading-15">ç¬¬äº”é˜¶æ®µï¼šæ·±å…¥åŸç†</h2>
<p>è¢«é±¼çš®è¿ç¯æ‹·é—®åï¼Œä½ ä¸»åŠ¨æ‰¾åˆ°é˜¿å¤ï¼šå¤å“¥ä½ å¥½å¼ºï¼Œæˆ‘æƒ³æ·±å…¥å­¦ä¹  RabbitMQ åº•å±‚åŸç†ï¼Œè¯·é—®ä½ æ˜¯å’‹å­¦çš„å•Šï¼Ÿ</p>
<p>é˜¿å¤æœ‰äº›æƒŠè®¶ï¼šå’¦ï¼Ÿä½ ä¸èƒŒå…«è‚¡æ–‡çš„ä¹ˆï¼Ÿ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mianshiya.com%2F" target="_blank" title="https://www.mianshiya.com/" ref="nofollow noopener noreferrer">åˆ·åˆ·é¢˜</a> å°±å¥½äº†å‘€ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d6765f3c3f3442a8a421671f5b39d4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=SzMyLYzRB4toG5XQorooqEwEPJc%3D" alt="" loading="lazy"/></p>
<p>ä½ éœ‡æƒŠäº†ï¼šç°åœ¨çš„æ ¡æ‹›ç”Ÿï¼Œç«Ÿç„¶ææ€–å¦‚æ–¯ï¼</p>
<p>é±¼çš®ï¼šé˜¿å¤ä½ åˆ«é€—ä»–äº†ï¼Œå…¶å®å¯ä»¥å¸¦ç€é—®é¢˜å­¦ä¹ ï¼Œé‡ç‚¹æ¢ç´¢ RabbitMQ çš„æ¶ˆæ¯è·¯ç”±æœºåˆ¶ã€é˜Ÿåˆ—å­˜å‚¨ç»“æ„ã€AMQP åè®®å’Œæ¶ˆæ¯æŒä¹…åŒ–çš„å®ç°ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ol start="0">
<li>æ¶ˆæ¯è·¯ç”±æœºåˆ¶ï¼šExchange ç”¨ä»€ä¹ˆç®—æ³•åŒ¹é…ï¼ŸBinding å¦‚ä½•å­˜å‚¨ï¼Ÿ</li>
<li>é˜Ÿåˆ—å­˜å‚¨ç»“æ„ï¼šæ¶ˆæ¯åœ¨å†…å­˜è¿˜æ˜¯ç£ç›˜ï¼Ÿä¸åŒé˜Ÿåˆ—ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
<li>AMQP åè®®ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ€ä¹ˆé€šä¿¡ï¼Ÿæ•°æ®æ ¼å¼æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</li>
<li>æŒä¹…åŒ–å®ç°ï¼šæ•°æ®æ€ä¹ˆå†™å…¥ç£ç›˜ï¼Ÿå¦‚ä½•ä¿è¯ä¸ä¸¢å¤±ï¼Ÿ</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b679d82ad3f9460c9be50f18a64e6eeb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=XjS7L7gbu9MwEIciLFkfUWxxHh4%3D" alt="" loading="lazy"/></p>
<p>ä½ å¥½å¥‡ï¼šé‚£è¦æ€ä¹ˆå­¦ä¹ è¿™äº›åŸç†å‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šä»è¿™äº›é—®é¢˜å‡ºå‘ï¼Œå»é˜…è¯»ç›¸å…³çš„æ–‡ç« ï¼Œæ¨èå®˜æ–¹æ–‡æ¡£å’Œå®˜æ–¹åšå®¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d8cad182f4d46a6b2e90b25fa6d99ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=PrNLS6Ht4XpM%2BQKtafciBhSyfsY%3D" alt="" loading="lazy"/></p>
<p>æˆ–è€…åƒé˜¿å¤è¯´çš„åˆ·ä¸€åˆ· <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mianshiya.com%2F" target="_blank" title="https://www.mianshiya.com/" ref="nofollow noopener noreferrer">RabbitMQ é¢è¯•é¢˜</a>ï¼Œå°±èƒ½å¿«é€Ÿå­¦ä¼šå¾ˆå¤šæ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c47ffea841c744d49be4566de60fee51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=9CFomE04L2xuuaNHJnnqcPsATRs%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæƒ³å¢åŠ æ±‚èŒç«äº‰åŠ›ï¼Œæœ€é‡è¦çš„æ˜¯åšå®æˆ˜é¡¹ç›®ï¼Œæˆ‘åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.codefather.cn%2F" target="_blank" title="https://www.codefather.cn/" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ä¸Šçš„çš„æ™ºèƒ½ BI é¡¹ç›®å’Œ OJ åˆ¤é¢˜ç³»ç»Ÿé¡¹ç›®éƒ½æœ‰å®Œæ•´çš„ RabbitMQ å®æˆ˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4d01e0354974b09910d284984d2d032~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=BKCTnz4PIqmtXSjLGbDJYi9FwVg%3D" alt="" loading="lazy"/></p>
<p>ä½ æ¡ç´§äº†ç²‰æ‹³ï¼šå¥½çš„ï¼Œæˆ‘è¿™å°±å»å­¦ï¼</p>
<h2 data-id="heading-16">ç»“å°¾</h2>
<p>è‹¥å¹²å¹´åï¼Œä½ å·²ç»æˆä¸ºäº†å¤§å‚çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸“å®¶ã€‚ä¸ä»…èƒ½ç†Ÿç»ƒä½¿ç”¨ RabbitMQ è§£å†³å„ç§ä¸šåŠ¡é—®é¢˜ï¼Œæ­ä¸ªé›†ç¾¤æ¶æ„ä¹Ÿæ˜¯æ‰‹æ‹¿æŠŠæçš„ã€‚</p>
<p>ä½ ä¹Ÿåƒé±¼çš®å½“æ—¶ä¸€æ ·ï¼Œè€å¿ƒåœ°ç»™æ–°äººåˆ†äº«å­¦ä¹  RabbitMQ çš„ç»éªŒï¼Œè®©ä»–ä»¬è°¨è®° â€œæ¶ˆæ¯é˜Ÿåˆ—æ˜¯å®æˆ˜å‹æŠ€æœ¯ï¼Œä¸€å®šè¦å¤šåŠ¨æ‰‹å®è·µâ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31b1162ee38b41bfaf44c3d91ba9d588~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=N6Gxloak0DC5X22Pa03ck%2FrLGG4%3D" alt="" loading="lazy"/></p>
<p>å†æ¬¡é‡åˆ°é±¼çš®æ˜¯åœ¨ä¸€æ¡æ˜æš—çš„å°å··ï¼Œæ­¤æ—¶çš„ä»–å¹´è¿‡ 35ï¼Œä¸€æ¯›ä¸æ‹”ã€‚ä½ ä»€ä¹ˆéƒ½æ²¡è¯´ï¼Œåªæ˜¯ç»™ä»–ç‚¹äº†ä¸ªèµã€‚</p>
<p>ä¸æ‰“æ‰°ï¼Œæ˜¯ä½ çš„æ¸©æŸ”ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29d9a0ffb6e5478a81fb2305bc4b2965~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766569236&amp;x-signature=CSp9vOcX59W0a93vfq6klCKbeiw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WEBç«¯å°å±åˆ‡æ¢çº¯CSSå®ç°]]></title>    <link>https://juejin.cn/post/7584358227612450858</link>    <guid>https://juejin.cn/post/7584358227612450858</guid>    <pubDate>2025-12-17T07:17:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584358227612450858" data-draft-id="7583892482598649871" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WEBç«¯å°å±åˆ‡æ¢çº¯CSSå®ç°"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-17T07:17:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‘ä¹‹ä¸Š"/> <meta itemprop="url" content="https://juejin.cn/user/1319873957601656"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WEBç«¯å°å±åˆ‡æ¢çº¯CSSå®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1319873957601656/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‘ä¹‹ä¸Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T07:17:07.000Z" title="Wed Dec 17 2025 07:17:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>æœ€è¿‘å¼€å‘äº†ä¸€ä¸ªå†…éƒ¨é—®ç­”å¹³å°ï¼ˆdeepseekå¥—å±‚çš®ğŸ·ï¼‰ï¼Œå‰ç«¯å®ç°å¾ˆç®€å•ï¼Œç”¨æˆ·è¾“å…¥ä¸€ä¸ªé—®é¢˜ï¼Œè·Ÿåç«¯å»ºç«‹ä¸€ä¸ªSSEè¿æ¥ï¼Œåç«¯å°†ç»“æœæµå¼è¾“å‡ºï¼Œå‰ç«¯æµå¼æ¸²æŸ“å±•ç¤ºã€‚<br/>
çªç„¶æœ‰ä¸€å¤©è€æ¿æƒ³æç‚¹äº‹ï¼šå°æ˜ï¼Œé¡µé¢è¿™ä¸ªæµå¼å†…å®¹èƒ½ä¸èƒ½æ”¯æŒç¼©å°åˆ°é¡µé¢å³ä¸‹è§’ï¼Œè®©ç”¨æˆ·æ›´åŠ èšç„¦è¾“å…¥æ¡†å†…å®¹ï¼Ÿ<br/>
WTFï¼Œåªè§è¿‡å…¨å±å±•ç¤ºçš„ï¼Œè¿˜æ²¡è§è¿‡å°å±å±•ç¤ºçš„ã€‚<br/>
å¥½åƒä¹Ÿä¸æ˜¯ï¼Œæš‚åœæ’­æ”¾çš„æ—¶å€™ï¼Œå„å¤§è§†é¢‘ç½‘ç«™å°±å–œæ¬¢å°å±æ”¾å†…å®¹ï¼Œè®©ä½ æ›´åŠ èšç„¦äºå¼¹çª—å¹¿å‘ŠğŸ‘»ã€‚<br/>
æ²¡æœ‰åŠæ³•ï¼Œåœ¨AIçš„å†²å‡»ä¸‹å‰ç«¯å·²ç»æ­»äº†è‡³å°‘ä¸ƒæ¬¡äº†ï¼Œå¯ä¸æ•¢æƒ¹æ¼bossï¼Œä¸ç„¶å°±ç­‰ä¸åˆ°è¢«AIçš„ç¬¬å…«æ¬¡killï¼Œå·²ç»è¢«è€æ¿ä¸€æ¬¡KOäº†ğŸ«¡ã€‚<br/>
ç§‰ç€è´Ÿï¼ˆç‰›ï¼‰è´£ï¼ˆé©¬ï¼‰çš„æ€åº¦ï¼Œå¸®åŠ©bossæ¢³ç†äº¤äº’ç»†èŠ‚~<br/>
å¸Œæœ›ç¼©å°åæµå¼å†…å®¹è¿˜åœ¨åŠ¨æ€è¾“å‡º...<br/>
å¸Œæœ›ç¼©å°åå³ä¾§åŒºåŸŸè‡ªåŠ¨æ‰©å¼ åˆ°å…¨éƒ¨åŒºåŸŸï¼Œç„¶åå°çª—â€œæ‚¬æµ®â€åœ¨å³ä¸‹è§’...<br/>
å¸Œæœ›å¯ä»¥ä¸æ»‘åœ°è¿˜åŸ...<br/>
æ˜ç¡®äº†éœ€æ±‚ï¼Œç›´æ¥å¼€å¹²ã€‚</p>
<h2 data-id="heading-1">æ–¹æ¡ˆæ€è·¯</h2>
<blockquote>
<p>å¸Œæœ›ç¼©å°åæµå¼å†…å®¹è¿˜åœ¨åŠ¨æ€è¾“å‡º...</p>
</blockquote>
<p>æŠŠå½“å‰å†…å®¹åŒºçš„å®¹å™¨æ•´ä¸ªç¼©å°ä¸å°±è¡Œäº†<code>transform: scale(0.x)</code>ï¼Œä¹Ÿå°±æ˜¯ä»è§†è§‰ä¸Šç¼©å°æµå¼å†…å®¹åŒºï¼Œå…¶ä»–æ¸²æŸ“é€»è¾‘å®Œå…¨ä¸åŠ¨ï¼ŒSSEæµçš„è§£æå’Œæ¸²æŸ“è¿˜æ˜¯åœ¨å†…å®¹åŒºç»„ä»¶é‡Œå®Œæˆï¼Œå¤ªeasyäº†ğŸ¥°</p>
<blockquote>
<p>å¸Œæœ›ç¼©å°åå³ä¾§åŒºåŸŸè‡ªåŠ¨æ‰©å¼ åˆ°å…¨éƒ¨åŒºåŸŸï¼Œç„¶åå°çª—â€œæ‚¬æµ®â€åœ¨å³ä¸‹è§’...</p>
</blockquote>
<p>å•§å•§ï¼Œä¹Ÿå¥½å®ç°ï¼Œåœ¨å†…å®¹åŒºå¤šåŒ…ä¸€å±‚divï¼Œè®©è¿™ä¸ªdivè„±ç¦»æ–‡æ¡£æµ<code>position:absolute</code>ï¼Œå†è®¾ç½®ä¸€ä¸‹ç›¸å¯¹ä½ç½®å°±å¯ä»¥æ‚¬æµ®åˆ°æŒ‡å®šä½ç½®å•¦ã€‚</p>
<blockquote>
<p>å¸Œæœ›å¯ä»¥ä¸æ»‘åœ°è¿˜åŸ...</p>
</blockquote>
<p>CSSåŠ ä¸Šè¿‡æ¸¡æ•ˆæœï¼Œ<code>transition: transform 0.3s ease</code>ç®€å•éœ€æ±‚ç®€å•åšå˜›ï¼Œå“ˆå“ˆå“ˆ</p>
<h2 data-id="heading-2">æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-3">å®¹å™¨ç»“æ„</h3>
<p>åˆ†ä¸ºä¸¤å±‚å®¹å™¨ï¼Œçˆ¶å®¹å™¨è´Ÿè´£å®šä½ï¼Œå®é™…ç¼©å°å†…å®¹æ”¾ç½®åœ¨ <code>.right-panel-content__container</code> ä¸­:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be8397c690db4930b5a5e87cac294906~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqR5LmL5LiK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766560626&amp;x-signature=t%2BAgTIyki3oUfZAx1ejr5GUZUvs%3D" alt="Clipboard_Screenshot_1765869186.png" loading="lazy"/>
ä¸ºäº†æ‹¥æœ‰è¿‡æ¸¡æ•ˆæœï¼Œé€šè¿‡<code>setTimeout</code>åˆ¶é€ æ—¶é—´å·®ï¼Œè®©è¿‡æ¸¡åŠ¨ç”»å®Œæˆåæ‰è®©çˆ¶å®¹å™¨<code>.right-panel-content</code>æµ®åŠ¨åˆ°å³ä¸‹è§’ä¸ºæ­¢ã€‚çœ‹ä¸‹å®ç°æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0cfa1033db347aba5851cc65da701c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqR5LmL5LiK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766560626&amp;x-signature=lzNSUgKjVGVu%2FgEj0BlSsknVcqI%3D" alt="Kapture 2025-12-16 at 12.01.08.gif" loading="lazy"/></p>
<p>å”‰ï¼Œå”‰ï¼å”‰ï¼Ÿç¼©å°çš„å†…å®¹æ€ä¹ˆä¸è§äº†ï¼Ÿ<br/>
<code>F12</code>æ‰“å¼€è°ƒè¯•é¢æ¿çœ‹ä¸‹DOMç»“æ„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01f5f3bc4f1344b89256e29cdcba7cdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqR5LmL5LiK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766560626&amp;x-signature=MV6YNa3PbQEyfu26xPnJiz1ZrL0%3D" alt="Clipboard_Screenshot_1765869271.png" loading="lazy"/></p>
<p>DOMç»“æ„æ­£å¸¸å•Šï¼Œå†…å®¹éƒ½åœ¨æ­£ç¡®ä½ç½®ï¼Œä½†æ˜¯å±•ç¤ºæ€ä¹ˆå°±ä¸å¯¹å‘¢ï¼Ÿ<br/>
ç»§ç»­æ£é¼“CSS...çŒ›ç„¶é—´çœ‹åˆ°<code>div.right-panel-content.min-mode</code> çš„å¤§å°ï¼Œçªç„¶æ„Ÿåˆ°ä¸€ä¸è¯¡å¼‚ï¼ŒæŒ‰ç†è¯´å¾…ç¼©æ”¾åŒºåŸŸè®¾ç½®çš„ç¼©å°æ¯”ä¾‹ä¸º<code>scale(0.2)</code>ï¼Œè®¡ç®—ä¸‹æ¥å®¹å™¨çš„å®½é«˜è‡³å°‘åº”è¯¥æ˜¯ï¼š<code>90x158</code>ã€‚æ€ä¹ˆä¼šæ˜¯<code>64x46</code>å‘¢ï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b676182ba8244c1ca9d522a1d29733c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqR5LmL5LiK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766560626&amp;x-signature=7x1BHjzC8gVm7PXQmP8PXWspiXI%3D" alt="Clipboard_Screenshot_1765867173.png" loading="lazy"/>
ç»§ç»­åˆ†æDOMç»“æ„åŠå¤§å°ï¼Œå‘ç°<code>.right-panel-content__header</code>çš„å¤§å°æ˜¯ï¼š<code>46x28</code>ï¼ŒåŠ ä¸Š<code>div.right-panel-content.min-mode</code>è‡ªå·±çš„<code>padding: 8px</code>ï¼Œå¥½å®¶ä¼™ï¼Œåˆšå¥½å‡‘æˆ<code>62x44</code>(=<code>64x46</code>- <code>1px border</code>ğŸ˜­)ã€‚<br/>
æ„Ÿæƒ…<code>.right-panel-content__container</code>è¢«ç¼©å°å¾—æ ¹æœ¬ä¸å ç©ºé—´äº†å˜›~</p>
<h3 data-id="heading-4">é—®é¢˜åˆ†æ</h3>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿå› ä¸ºè¢«<code>.right-panel-content__container</code>è¢«äºŒæ¬¡ç¼©å°äº†ï¼ŒåŸå› åœ¨äºcontainerçš„çˆ¶å®¹å™¨ä¸ºäº†å®šä½è€Œåšå‡ºçš„è‡ªèº«å®½é«˜è°ƒæ•´ã€‚ä¸‹é¢åˆ†æ­¥éª¤è¿˜åŸä¸€ä¸‹å†…å®¹ç¼©æ”¾è¿‡ç¨‹ï¼š</p>
<blockquote>
<p>è®¾ç½®ä»¥ä¸‹åˆ«åï¼š<br/>
.right-panel-content__container =&gt; <code>content__container</code><br/>
.right-panel-content__header =&gt; <code>content__header</code><br/>
.right-panel-content =&gt; <code>panel-content</code></p>
</blockquote>
<ol>
<li>åˆå§‹æ—¶å®½é«˜æ­£å¸¸ï¼Œcontent__containerç¼©æ”¾åè¾¾åˆ°äº†ç›®æ ‡å¤§å°90x158ï¼›</li>
<li>ç„¶åpanel-contentè¿›å…¥min-modeï¼Œå®½é«˜è¢«å¼ºåˆ¶è®¾ç½®ä¸º<code>auto !important</code>ï¼Œå› ä¸ºå†…å®¹åŒºåå¡Œï¼Œpanel-contentè¢«è¿«åå¡Œåˆ°è·Ÿå†…å®¹ä¸€æ ·çš„é«˜åº¦90x158ï¼›</li>
<li>panel-contenté«˜åº¦å˜åŒ–æ¿€æ´»äº†content__containerçš„ scale(0.2)ï¼Œcontent__containerç»§ç»­ç¼©å°ï¼›</li>
<li>content__containerçš„ç¼©å°åˆå¼•å‘panel-contentçš„é«˜åº¦åå¡Œ...ç›´åˆ° content__header "ç‹¬è‡ª"æ’‘èµ·panel-contentçš„å†…å®¹ã€‚</li>
</ol>
<p>ä¸€åˆ‡éƒ½è§£é‡Šæ¸…æ¥šäº†ï¼Œæ ¸å¿ƒé—®é¢˜å˜æˆäº†æ€ä¹ˆè§£å†³å¾ªç¯åå¡Œã€‚</p>
<h3 data-id="heading-5">è§£å†³æ–¹æ¡ˆ</h3>
<p>æ—¢ç„¶é—®é¢˜çˆ¶å­å®¹å™¨é—´é«˜åº¦å˜åŒ–å¼•å‘çš„å¾ªç¯åå¡Œï¼Œé‚£å¯ä»¥ä¸å¯ä»¥åœ¨ä¸­é—´åŠ ä¸€å±‚ï¼Œé˜»æ–­è¿™ç§å¾ªç¯æ•ˆæœå‘¢ï¼Ÿ<br/>
è€Œä¸”è¦é˜»æ–­å¾ªç¯ï¼Œé‚£å¢åŠ çš„ä¸€å±‚åº”è¯¥è„±ç¦»æ–‡æ¡£æµï¼Œè®©å…¶å¤§å°ä¸å—çˆ¶å®¹å™¨å’Œå…¶å­å®¹å™¨å¹²æ‰°ã€‚
æ–°çš„DOMç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f741bb35ee8b4da2bd8062d743c37251~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqR5LmL5LiK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766560626&amp;x-signature=TCBV83Lx3877yfLULHgxLgM0Mkc%3D" alt="å°å±DOMç»“æ„å›¾.png" loading="lazy"/>
ä¸ºäº†è®©æ“ä½œæ æ ·å¼æ›´åˆç†ï¼Œæ ¹æ®<code>minMode</code>çŠ¶æ€å¯¹ <code>ContentHeader</code> è¿›è¡ŒåŠ¨æ€æ¸²æŸ“:</p>
<pre><code class="hljs language-js" lang="js">&lt;div className=<span class="hljs-string">"right-panel-middle-wrapper"</span>&gt;
  {minMode &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ContentHeader</span> <span class="hljs-attr">minMode</span>=<span class="hljs-string">{minMode}</span> <span class="hljs-attr">setMinMode</span>=<span class="hljs-string">{setMinMode}</span> /&gt;</span></span>}
  &lt;div className={<span class="hljs-string">`right-panel-content__container <span class="hljs-subst">${containerClassname}</span>`</span>}&gt;
    {!minMode &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ContentHeader</span> <span class="hljs-attr">minMode</span>=<span class="hljs-string">{minMode}</span> <span class="hljs-attr">setMinMode</span>=<span class="hljs-string">{setMinMode}</span> /&gt;</span></span>}
    &lt;<span class="hljs-title class_">ContentSection</span> /&gt;
  &lt;/div&gt;
&lt;/div&gt;;
</code></pre>
<h3 data-id="heading-6">å®Œæ•´å®ç°</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { useEffect, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Layout</span>, <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@arco-design/web-react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">IconExpand</span>, <span class="hljs-title class_">IconShrink</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@arco-design/web-react/icon"</span>;

<span class="hljs-keyword">import</span> <span class="hljs-string">"./App.less"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Sider</span> = <span class="hljs-title class_">Layout</span>.<span class="hljs-property">Sider</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Header</span> = <span class="hljs-title class_">Layout</span>.<span class="hljs-property">Header</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Footer</span> = <span class="hljs-title class_">Layout</span>.<span class="hljs-property">Footer</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Content</span> = <span class="hljs-title class_">Layout</span>.<span class="hljs-property">Content</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [minMode, setMinMode] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [panelClassname, setPanelClassname] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> [containerClassname, setContainerClassname] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);
  <span class="hljs-keyword">const</span> classnameTimer = useRef&lt;number&gt;(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (minMode) {
      <span class="hljs-comment">// ç«‹å³å¯åŠ¨ç¼©å°åŠ¨æ•ˆ</span>
      <span class="hljs-title function_">setContainerClassname</span>(<span class="hljs-string">"min-mode-transition"</span>);

      <span class="hljs-comment">// åŠ¨æ•ˆç»“æŸåï¼Œå†è®¾ç½® min-mode ç±»å</span>
      <span class="hljs-keyword">if</span> (classnameTimer.<span class="hljs-property">current</span>) {
        <span class="hljs-built_in">clearTimeout</span>(classnameTimer.<span class="hljs-property">current</span>);
      }
      <span class="hljs-comment">// åŠ¨ç”»çº¦350msï¼Œéœ€è¦ç­‰åŠ¨ç”»ç»“æŸåå†è®¾ç½®min-mode</span>
      classnameTimer.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setPanelClassname</span>(<span class="hljs-string">"min-mode"</span>);
      }, <span class="hljs-number">350</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">setPanelClassname</span>(<span class="hljs-string">""</span>);
      <span class="hljs-title function_">setContainerClassname</span>(<span class="hljs-string">""</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (classnameTimer.<span class="hljs-property">current</span>) {
        <span class="hljs-built_in">clearTimeout</span>(classnameTimer.<span class="hljs-property">current</span>);
      }
    };
  }, [minMode]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"app-layout"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Header</span>&gt;</span>Header<span class="hljs-tag">&lt;/<span class="hljs-name">Header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Sider</span>&gt;</span>Sider<span class="hljs-tag">&lt;/<span class="hljs-name">Sider</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Content</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"left-panel-content"</span>&gt;</span>å·¦ä¾§å†…å®¹æ <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">right-panel-content</span> ${<span class="hljs-attr">panelClassname</span>}`}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"right-panel-middle-wrapper"</span>&gt;</span>
                {minMode &amp;&amp; (
                  <span class="hljs-tag">&lt;<span class="hljs-name">ContentHeader</span> <span class="hljs-attr">minMode</span>=<span class="hljs-string">{minMode}</span> <span class="hljs-attr">setMinMode</span>=<span class="hljs-string">{setMinMode}</span> /&gt;</span>
                )}
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
                  <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">right-panel-content__container</span> ${<span class="hljs-attr">containerClassname</span>}`}
                &gt;</span>
                  {!minMode &amp;&amp; (
                    <span class="hljs-tag">&lt;<span class="hljs-name">ContentHeader</span> <span class="hljs-attr">minMode</span>=<span class="hljs-string">{minMode}</span> <span class="hljs-attr">setMinMode</span>=<span class="hljs-string">{setMinMode}</span> /&gt;</span>
                  )}
                  <span class="hljs-tag">&lt;<span class="hljs-name">ContentSection</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">Content</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span>&gt;</span>Footer<span class="hljs-tag">&lt;/<span class="hljs-name">Footer</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ContentHeader</span>(<span class="hljs-params">{
  minMode,
  setMinMode,
}: {
  minMode: boolean;
  setMinMode: (minMode: boolean) =&gt; <span class="hljs-keyword">void</span>;
}</span>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"right-panel-content__header"</span>&gt;</span>
      {minMode ? (
        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"small"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setMinMode(false)}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">IconExpand</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> "<span class="hljs-attr">var</span>(<span class="hljs-attr">--color-border-4</span>)" }} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
      ) : (
        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"small"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setMinMode(true)}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">IconShrink</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color:</span> "<span class="hljs-attr">var</span>(<span class="hljs-attr">--color-border-4</span>)" }} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">ContentSection</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">right-panel-content__section</span>`}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"right-panel-content__section-title"</span>&gt;</span>
        å¼ è‹¥è™šã€Šæ˜¥æ±ŸèŠ±æœˆå¤œã€‹
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      æ˜¥æ±Ÿæ½®æ°´è¿æµ·å¹³ï¼Œæµ·ä¸Šæ˜æœˆå…±æ½®ç”Ÿã€‚ <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      æ»Ÿæ»Ÿéšæ³¢åƒä¸‡é‡Œï¼Œä½•å¤„æ˜¥æ±Ÿæ— æœˆæ˜ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      æ±Ÿæµå®›è½¬ç»•èŠ³ç”¸ï¼Œæœˆç…§èŠ±æ—çš†ä¼¼éœ°ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> ç©ºé‡Œæµéœœä¸è§‰é£ï¼Œæ±€ä¸Šç™½æ²™çœ‹ä¸è§ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      æ±Ÿå¤©ä¸€è‰²æ— çº¤å°˜ï¼Œçšçšç©ºä¸­å­¤æœˆè½®ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> æ±Ÿç•”ä½•äººåˆè§æœˆï¼Ÿæ±Ÿæœˆä½•å¹´åˆç…§äººï¼Ÿ
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      äººç”Ÿä»£ä»£æ— ç©·å·²ï¼Œæ±Ÿæœˆå¹´å¹´æœ›ç›¸ä¼¼ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      ä¸çŸ¥æ±Ÿæœˆå¾…ä½•äººï¼Œä½†è§é•¿æ±Ÿé€æµæ°´ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      ç™½äº‘ä¸€ç‰‡å»æ‚ æ‚ ï¼Œé’æ«æµ¦ä¸Šä¸èƒœæ„ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      è°å®¶ä»Šå¤œæ‰èˆŸå­ï¼Ÿä½•å¤„ç›¸æ€æ˜æœˆæ¥¼ï¼Ÿ
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      å¯æ€œæ¥¼ä¸Šæœˆè£´å›ï¼Œåº”ç…§ç¦»äººå¦†é•œå°ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      ç‰æˆ·å¸˜ä¸­å·ä¸å»ï¼Œæ£è¡£ç §ä¸Šæ‹‚è¿˜æ¥ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> æ­¤æ—¶ç›¸æœ›ä¸ç›¸é—»ï¼Œæ„¿é€æœˆåæµç…§å›ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      é¸¿é›é•¿é£å…‰ä¸åº¦ï¼Œé±¼é¾™æ½œè·ƒæ°´æˆæ–‡ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> æ˜¨å¤œé—²æ½­æ¢¦è½èŠ±ï¼Œå¯æ€œæ˜¥åŠä¸è¿˜å®¶ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      æ±Ÿæ°´æµæ˜¥å»æ¬²å°½ï¼Œæ±Ÿæ½­è½æœˆå¤è¥¿æ–œã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span> æ–œæœˆæ²‰æ²‰è—æµ·é›¾ï¼Œç¢£çŸ³æ½‡æ¹˜æ— é™è·¯ã€‚
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      ä¸çŸ¥ä¹˜æœˆå‡ äººå½’ï¼Œè½æœˆæ‘‡æƒ…æ»¡æ±Ÿæ ‘ã€‚
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>;
</code></pre>
<p>æ ·å¼æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.app-layout</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;

  <span class="hljs-selector-class">.arco-layout</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  }

  <span class="hljs-selector-class">.arco-layout-header</span>,
  <span class="hljs-selector-class">.arco-layout-footer</span>,
  <span class="hljs-selector-class">.arco-layout-sider</span>,
  <span class="hljs-selector-class">.arco-layout-sider-children</span>,
  <span class="hljs-selector-class">.arco-layout-content</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--color-white);
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">font-stretch</span>: condensed;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">justify-content</span>: center;
  }

  <span class="hljs-selector-class">.arco-layout-content</span> {
    <span class="hljs-attribute">flex-direction</span>: row;
  }

  <span class="hljs-selector-class">.arco-layout-header</span>,
  <span class="hljs-selector-class">.arco-layout-footer</span> {
    <span class="hljs-attribute">height</span>: <span class="hljs-number">64px</span>;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--color-primary-light-<span class="hljs-number">4</span>);
  }

  <span class="hljs-selector-class">.arco-layout-sider</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">206px</span>;
    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--color-primary-light-<span class="hljs-number">3</span>);
  }

  <span class="hljs-selector-class">.arco-layout-content</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-built_in">var</span>(--arcoblue-<span class="hljs-number">6</span>));

    <span class="hljs-selector-class">.left-panel-content</span> {
      <span class="hljs-attribute">flex</span>: auto;
    }

    <span class="hljs-selector-class">.right-panel-content</span> {
      <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--color-primary-light-<span class="hljs-number">3</span>);
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;

      <span class="hljs-selector-class">.right-panel-middle-wrapper</span> {
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      }

      <span class="hljs-selector-class">.right-panel-content__container</span> {
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;

        <span class="hljs-selector-class">.right-panel-content__header</span> {
          <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
          <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;
          <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--color-warning-light-<span class="hljs-number">1</span>);
          <span class="hljs-attribute">text-align</span>: right;
          <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;
        }

        <span class="hljs-selector-class">.right-panel-content__section</span> {
          <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
          <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">40px</span>);
          <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span>;

          <span class="hljs-selector-class">.right-panel-content__section-title</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
          }
        }
      }

      <span class="hljs-selector-class">.min-mode-transition</span> {
        <span class="hljs-attribute">position</span>: absolute;
        <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1999</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">442px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">794px</span>;
        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.2</span>);
        <span class="hljs-attribute">transform-origin</span>: right bottom;
        <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> ease;
      }

      &amp;<span class="hljs-selector-class">.min-mode</span> {
        <span class="hljs-attribute">position</span>: absolute;
        <span class="hljs-attribute">z-index</span>: <span class="hljs-number">499</span>;
        <span class="hljs-attribute">bottom</span>: <span class="hljs-number">25px</span>;
        <span class="hljs-attribute">right</span>: <span class="hljs-number">25px</span>;
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">8px</span>;
        <span class="hljs-attribute">width</span>: auto <span class="hljs-meta">!important</span>;
        <span class="hljs-attribute">height</span>: auto <span class="hljs-meta">!important</span>;
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">flex-direction</span>: column;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">transition</span>: none;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">var</span>(--color-border);
        <span class="hljs-attribute">box-sizing</span>: border-box;

        <span class="hljs-selector-class">.right-panel-middle-wrapper</span> {
          <span class="hljs-attribute">width</span>: <span class="hljs-number">90px</span>;
          <span class="hljs-attribute">height</span>: <span class="hljs-number">158px</span>;
          <span class="hljs-attribute">overflow</span>: hidden;
          <span class="hljs-attribute">position</span>: relative;

          <span class="hljs-selector-class">.right-panel-content__header</span> {
            <span class="hljs-attribute">height</span>: fit-content;
            <span class="hljs-attribute">line-height</span>: unset;
            <span class="hljs-attribute">background-color</span>: unset;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
          }

          <span class="hljs-selector-class">.right-panel-content__container</span> {
            <span class="hljs-attribute">transform-origin</span>: top left;
          }
        }
      }
    }
  }
}
</code></pre>
<h2 data-id="heading-7">æœ€ç»ˆæ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ff5d1bb65cb436faf242e37a4b75cc3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqR5LmL5LiK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766560626&amp;x-signature=mN%2F%2FWdAUujET17%2FA%2BM3XLyUoAlo%3D" alt="Kapture 2025-12-16 at 16.05.22.gif" loading="lazy"/></p>
<h2 data-id="heading-8">å°ç»“</h2>
<p>æ–‡ä¸­çš„å°çª—æ•ˆæœè™½ç„¶è°ˆä¸ä¸Šå°½å–„å°½ç¾ï¼Œä½†èƒœåœ¨ç®€å•ï¼Œåªéœ€è¦è°ƒæ•´cssæ ·å¼å°±å¯ä»¥å®ç°ã€‚åœ¨å®ç°ä¸­éœ€è¦æ³¨æ„çš„ç‚¹ä¾¿æ˜¯çˆ¶å®¹å™¨ä¸å¾…ç¼©æ”¾å†…å®¹é—´çš„å¾ªç¯ä¾èµ–é—®é¢˜ã€‚æœ¬æ–‡é€šè¿‡å¢åŠ ä¸€ä¸ªwrapperå±‚è¾¾åˆ°ä¾èµ–è§£è€¦çš„ç›®çš„ã€‚æ–¹æ¡ˆæœ‰ç‚¹ä¸å¤Ÿä¼˜é›…ï¼Œå¦‚æœæœ‰å“ªä½å¤§ä½¬çŸ¥é“æ›´å¥½çš„æ–¹æ¡ˆï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç»™å‡ºï¼Œè®©ç¬”è€…ä¹Ÿå­¦ä¹ å­¦ä¹ ğŸ––</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹æ¶ˆæ¯çš„å¯é æ€§æŠ•é€’]]></title>    <link>https://juejin.cn/post/7584379805900210228</link>    <guid>https://juejin.cn/post/7584379805900210228</guid>    <pubDate>2025-12-17T08:27:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584379805900210228" data-draft-id="7584472215975165967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹æ¶ˆæ¯çš„å¯é æ€§æŠ•é€’"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-17T08:27:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å‡"/> <meta itemprop="url" content="https://juejin.cn/user/2285197690931932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä»¬æ¥è¯´ä¸€ä¸‹æ¶ˆæ¯çš„å¯é æ€§æŠ•é€’
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285197690931932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T08:27:44.000Z" title="Wed Dec 17 2025 08:27:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h3 data-id="heading-0">1.Â <strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h3>
<p>å¯é æ€§æŠ•é€’ï¼ˆReliable Deliveryï¼‰æ˜¯æŒ‡ç¡®ä¿æ¶ˆæ¯ä»ç”Ÿäº§è€…æˆåŠŸåˆ°è¾¾æ¶ˆè´¹è€…ï¼Œå³ä½¿é¢å¯¹ç½‘ç»œæ•…éšœã€ç³»ç»Ÿå´©æºƒç­‰å¼‚å¸¸æƒ…å†µä¹Ÿèƒ½ä¿è¯<strong>ä¸ä¸¢å¤±ã€ä¸é‡å¤ã€æŒ‰é¡ºåº</strong>ï¼ˆéƒ¨åˆ†åœºæ™¯ï¼‰ä¼ é€’ã€‚</p>
<h3 data-id="heading-1">2.Â <strong>é¢ä¸´çš„æŒ‘æˆ˜</strong></h3>
<ul>
<li><strong>ç½‘ç»œä¸å¯é </strong>ï¼šä¸¢åŒ…ã€å»¶è¿Ÿã€åˆ†åŒº</li>
<li><strong>èŠ‚ç‚¹æ•…éšœ</strong>ï¼šç”Ÿäº§è€…/æ¶ˆè´¹è€…/ä¸­é—´ä»¶å®•æœº</li>
<li><strong>é‡å¤æ¶ˆè´¹</strong>ï¼šç¡®è®¤æœºåˆ¶å¯èƒ½å¼•å‘é‡å¤</li>
<li><strong>é¡ºåºä¿è¯</strong>ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸‹æ¶ˆæ¯ä¹±åº</li>
</ul>
<h3 data-id="heading-2">3.Â <strong>å…³é”®å®ç°æœºåˆ¶</strong></h3>
<h4 data-id="heading-3">3.1Â <strong>ç”Ÿäº§ç«¯ä¿è¯</strong></h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä¼ªä»£ç ç¤ºä¾‹ï¼šç”Ÿäº§ç«¯ç¡®è®¤æ¨¡å¼</span>
public void <span class="hljs-built_in">sendWithConfirm</span>(Message msg) {
    <span class="hljs-comment">// 1. æŒä¹…åŒ–åˆ°æœ¬åœ°æ•°æ®åº“ï¼ˆé˜²ä¸¢å¤±ï¼‰</span>
    messageDao<span class="hljs-selector-class">.save</span>(msg);
    
    <span class="hljs-comment">// 2. å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—</span>
    String msgId = rabbitTemplate<span class="hljs-selector-class">.convertAndSend</span>(msg);
    
    <span class="hljs-comment">// 3. ç­‰å¾…Brokerç¡®è®¤</span>
    boolean ack = <span class="hljs-built_in">waitForAck</span>(msgId, TIMEOUT);
    
    <span class="hljs-comment">// 4. å¤±è´¥é‡è¯•ï¼ˆæŒ‡æ•°é€€é¿ï¼‰</span>
    if (!ack) {
        <span class="hljs-built_in">retryWithBackoff</span>(msg);
    }
    
    <span class="hljs-comment">// 5. æœ€ç»ˆè®°å½•æŠ•é€’çŠ¶æ€</span>
    <span class="hljs-built_in">updateDeliveryStatus</span>(msgId, ack);
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>äº‹åŠ¡æœºåˆ¶</strong>ï¼šåŒæ­¥æ–¹å¼ï¼Œæ€§èƒ½å·®ï¼ˆä¸æ¨èï¼‰</p>
</li>
<li>
<p><strong>ç¡®è®¤æœºåˆ¶ï¼ˆConfirmï¼‰</strong> ï¼š</p>
<ul>
<li>æ™®é€šç¡®è®¤ï¼ˆæ¯æ¶ˆæ¯ç¡®è®¤ï¼‰</li>
<li>æ‰¹é‡ç¡®è®¤ï¼ˆæé«˜ååï¼‰</li>
<li>å¼‚æ­¥ç›‘å¬ï¼ˆæœ€ä½³å®è·µï¼‰</li>
</ul>
</li>
<li>
<p><strong>æœ¬åœ°æ¶ˆæ¯è¡¨</strong>ï¼šäº‹åŠ¡æ¶ˆæ¯çš„æ›¿ä»£æ–¹æ¡ˆ</p>
</li>
<li>
<p><strong>æ¶ˆæ¯æŒä¹…åŒ–</strong>ï¼šè®¾ç½®<code>delivery_mode=2</code></p>
</li>
</ul>
<h4 data-id="heading-4">3.2Â <strong>Brokerç«¯ä¿è¯</strong></h4>
<pre><code class="hljs">æ¶ˆæ¯å¤„ç†æµç¨‹ï¼š
Producer â†’ Brokeræ¥æ”¶ â†’ æŒä¹…åŒ–å­˜å‚¨ â†’ æ¨é€ç»™Consumer â†’ ç­‰å¾…ACK â†’ åˆ é™¤/é‡æŠ•
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æŒä¹…åŒ–ç­–ç•¥</strong>ï¼š</p>
<ul>
<li><strong>é˜Ÿåˆ—æŒä¹…åŒ–</strong>ï¼š<code>durable=true</code></li>
<li><strong>æ¶ˆæ¯æŒä¹…åŒ–</strong>ï¼š<code>delivery_mode=2</code></li>
<li><strong>é•œåƒé˜Ÿåˆ—</strong>ï¼šå¤šå‰¯æœ¬å†—ä½™ï¼ˆRabbitMQï¼‰</li>
<li><strong>é«˜å¯ç”¨é›†ç¾¤</strong>ï¼šä¸»ä»åˆ‡æ¢æ—¶ä¸ä¸¢æ¶ˆæ¯</li>
</ul>
<h4 data-id="heading-5">3.3Â <strong>æ¶ˆè´¹ç«¯ä¿è¯</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¶ˆè´¹ç«¯ä¿è¯ç¤ºä¾‹</span>
<span class="hljs-meta">@RabbitListener(queues = "order.queue")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrder</span><span class="hljs-params">(OrderMessage order, Channel channel, 
                       <span class="hljs-meta">@Header(AmqpHeaders.DELIVERY_TAG)</span> <span class="hljs-type">long</span> tag)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1. ä¸šåŠ¡å¤„ç†</span>
        orderService.process(order);
        
        <span class="hljs-comment">// 2. æ‰‹åŠ¨ç¡®è®¤ï¼ˆæˆåŠŸæ‰ACKï¼‰</span>
        channel.basicAck(tag, <span class="hljs-literal">false</span>);
        
        <span class="hljs-comment">// 3. æ›´æ–°æ¶ˆè´¹è®°å½•</span>
        consumeRecordService.markConsumed(order.getId());
        
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// 4. å¤±è´¥å¤„ç†ï¼šé‡è¯•æˆ–è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—</span>
        <span class="hljs-keyword">if</span> (retryCount &lt; MAX_RETRY) {
            channel.basicNack(tag, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>); <span class="hljs-comment">// é‡å…¥é˜Ÿåˆ—</span>
        } <span class="hljs-keyword">else</span> {
            channel.basicNack(tag, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>); <span class="hljs-comment">// è¿›å…¥æ­»ä¿¡é˜Ÿåˆ—</span>
            alarmService.notifyAdmin(order, e);
        }
    }
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ¶ˆè´¹ç«¯å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>æ‰‹åŠ¨ACK</strong>ï¼šé¿å…è‡ªåŠ¨ç¡®è®¤å¯¼è‡´æ¶ˆæ¯ä¸¢å¤±</li>
<li><strong>å¹‚ç­‰æ€§è®¾è®¡</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">processWithIdempotent</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> msgId</span>) {
    <span class="hljs-comment">// åŸºäºæ¶ˆæ¯IDå»é‡</span>
    <span class="hljs-keyword">if</span> (redis.<span class="hljs-title function_">exists</span>(<span class="hljs-string">"processed:"</span> + msgId)) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å·²å¤„ç†è¿‡</span>
    }
    
    <span class="hljs-comment">// ä¸šåŠ¡å¤„ç†</span>
    <span class="hljs-built_in">boolean</span> success = <span class="hljs-title function_">doBusinessLogic</span>();
    
    <span class="hljs-comment">// è®°å½•å¤„ç†çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (success) {
        redis.<span class="hljs-title function_">setex</span>(<span class="hljs-string">"processed:"</span> + msgId, 24h, <span class="hljs-string">"1"</span>);
    }
    
    <span class="hljs-keyword">return</span> success;
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<ul>
<li>
<p><strong>æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDLQï¼‰</strong> ï¼šå¤„ç†æ— æ³•æ¶ˆè´¹çš„æ¶ˆæ¯</p>
</li>
<li>
<p><strong>æ¶ˆè´¹é‡è¯•ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>ç«‹å³é‡è¯•ï¼ˆç¬æ—¶æ•…éšœï¼‰</li>
<li>å»¶è¿Ÿé‡è¯•ï¼ˆä¸šåŠ¡ä¾èµ–ï¼‰</li>
<li>æŒ‡æ•°é€€é¿ï¼ˆé˜²æ­¢é›ªå´©ï¼‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">4.Â <strong>å®Œæ•´å¯é æ€§æ–¹æ¡ˆ</strong></h3>
<h4 data-id="heading-7">4.1Â <strong>äº‹åŠ¡æ¶ˆæ¯æ–¹æ¡ˆï¼ˆå¦‚RocketMQï¼‰</strong></h4>
<pre><code class="hljs language-markdown" lang="markdown">ä¸¤é˜¶æ®µæäº¤ï¼š
<span class="hljs-bullet">1.</span> å‘é€Half Messageï¼ˆé¢„å¤‡æ¶ˆæ¯ï¼‰
<span class="hljs-bullet">2.</span> æ‰§è¡Œæœ¬åœ°äº‹åŠ¡
<span class="hljs-bullet">3.</span> æ ¹æ®æœ¬åœ°äº‹åŠ¡ç»“æœCommit/Rollback
<span class="hljs-bullet">4.</span> Brokeræ£€æŸ¥äº‹åŠ¡çŠ¶æ€å¹¶æŠ•é€’/ä¸¢å¼ƒ
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-8">4.2Â <strong>æœ€å¤§åŠªåŠ›æŠ•é€’æ–¹æ¡ˆ</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¡¥å¿æœºåˆ¶å®ç°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">reliable_delivery</span>(<span class="hljs-params">message</span>):
    max_retries = <span class="hljs-number">5</span>
    <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_retries):
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># å°è¯•æŠ•é€’</span>
            result = mq_client.send(message)
            
            <span class="hljs-keyword">if</span> result.confirmed:
                log_delivery_success(message.<span class="hljs-built_in">id</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
                
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            log_failure(attempt, e)
            
            <span class="hljs-keyword">if</span> attempt == max_retries - <span class="hljs-number">1</span>:
                <span class="hljs-comment"># æœ€ç»ˆå¤±è´¥ï¼Œäººå·¥ä»‹å…¥</span>
                send_alert_to_admin(message)
                save_to_compensation_table(message)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
                
            <span class="hljs-comment"># ç­‰å¾…åé‡è¯•</span>
            sleep(backoff_time(attempt))
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-9">4.3Â <strong>æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹æ¡ˆï¼ˆç»å…¸ï¼‰</strong></h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æœ¬åœ°æ¶ˆæ¯è¡¨ç»“æ„</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> local_message (
    id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    biz_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>),      <span class="hljs-comment">-- ä¸šåŠ¡ID</span>
    content TEXT,           <span class="hljs-comment">-- æ¶ˆæ¯å†…å®¹</span>
    status TINYINT,         <span class="hljs-comment">-- 0:å¾…å‘é€, 1:å·²å‘é€, 2:å·²ç¡®è®¤</span>
    retry_count <span class="hljs-type">INT</span>,
    next_retry_time DATETIME,
    created_at <span class="hljs-type">TIMESTAMP</span>
);
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>ä¸šåŠ¡æ•°æ®+æ¶ˆæ¯è®°å½•<strong>åŸå­æ€§</strong>å†™å…¥æœ¬åœ°DB</li>
<li>å®šæ—¶ä»»åŠ¡æ‰«æå¾…å‘é€æ¶ˆæ¯</li>
<li>è°ƒç”¨MQå‘é€ï¼ŒæˆåŠŸåæ›´æ–°çŠ¶æ€</li>
<li>æ¶ˆè´¹è€…å¤„ç†å®Œæˆååå‘ç¡®è®¤</li>
<li>å¯¹è´¦ç¨‹åºå®šæœŸæ ¡éªŒæ•°æ®ä¸€è‡´æ€§</li>
</ol>
<h3 data-id="heading-10">5.Â <strong>é«˜çº§ç‰¹æ€§ä¸ä¼˜åŒ–</strong></h3>
<h4 data-id="heading-11">5.1Â <strong>é¡ºåºæ€§ä¿è¯</strong></h4>
<ul>
<li><strong>å…¨å±€æœ‰åº</strong>ï¼šå•é˜Ÿåˆ—å•æ¶ˆè´¹è€…ï¼ˆæ€§èƒ½ä½ï¼‰</li>
<li><strong>å±€éƒ¨æœ‰åº</strong>ï¼šç›¸åŒsharding keyçš„æ¶ˆæ¯å‘åˆ°åŒä¸€é˜Ÿåˆ—</li>
<li><strong>ç‰ºç‰²åœºæ™¯</strong>ï¼šé‡è¯•é˜Ÿåˆ—å¯èƒ½ç ´åé¡ºåº</li>
</ul>
<h4 data-id="heading-12">5.2Â <strong>æ‰¹é‡æ¶ˆæ¯å¯é æ€§</strong></h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ‰¹é‡æ¶ˆæ¯çš„å¯é æ€§å¤„ç†</span>
public class BatchMessageReliableSender {
    
    public void <span class="hljs-built_in">sendBatch</span>(List&lt;Message&gt; batch) {
        <span class="hljs-comment">// 1. æ‰¹é‡æŒä¹…åŒ–åˆ°æœ¬åœ°</span>
        batchMessageDao<span class="hljs-selector-class">.saveAll</span>(batch);
        
        <span class="hljs-comment">// 2. è®¾ç½®æ‰¹æ¬¡ID</span>
        String batchId = <span class="hljs-built_in">generateBatchId</span>();
        
        <span class="hljs-comment">// 3. å‘é€æ‰¹æ¬¡æ¶ˆæ¯</span>
        boolean success = mqTemplate<span class="hljs-selector-class">.sendBatch</span>(batchId, batch);
        
        <span class="hljs-comment">// 4. æ‰¹æ¬¡ç¡®è®¤ï¼ˆæˆ–å•æ¡è¡¥å¿ï¼‰</span>
        if (success) {
            <span class="hljs-built_in">markBatchDelivered</span>(batchId);
        } else {
            <span class="hljs-comment">// é€æ¡é‡è¯•æˆ–è®°å½•å¼‚å¸¸</span>
            <span class="hljs-built_in">compensateFailedMessages</span>(batch);
        }
    }
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-13">5.3Â <strong>ç›‘æ§ä¸å¯¹è´¦</strong></h4>
<ul>
<li>
<p><strong>å®æ—¶ç›‘æ§</strong>ï¼š</p>
<ul>
<li>å †ç§¯æƒ…å†µç›‘æ§</li>
<li>æ¶ˆè´¹å»¶è¿ŸæŠ¥è­¦</li>
<li>å¤±è´¥ç‡ç»Ÿè®¡</li>
</ul>
</li>
<li>
<p>å®šæœŸå¯¹è´¦ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ¶ˆæ¯å¯¹è´¦SQLç¤ºä¾‹</span>
<span class="hljs-keyword">SELECT</span> 
  <span class="hljs-type">DATE</span>(create_time) <span class="hljs-keyword">as</span> <span class="hljs-keyword">day</span>,
  <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">as</span> total_sent,
  <span class="hljs-built_in">SUM</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> status<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-keyword">THEN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">ELSE</span> <span class="hljs-number">0</span> <span class="hljs-keyword">END</span>) <span class="hljs-keyword">as</span> confirmed,
  <span class="hljs-built_in">SUM</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> status<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">THEN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">ELSE</span> <span class="hljs-number">0</span> <span class="hljs-keyword">END</span>) <span class="hljs-keyword">as</span> pending
<span class="hljs-keyword">FROM</span> message_record
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-type">DATE</span>(create_time)
<span class="hljs-keyword">HAVING</span> total_sent <span class="hljs-operator">!=</span> confirmed;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-14">6.Â <strong>ä¸åŒMQçš„å®ç°å·®å¼‚</strong></h3>



































<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>RabbitMQ</strong></th><th><strong>Kafka</strong></th><th><strong>RocketMQ</strong></th></tr></thead><tbody><tr><td><strong>å¯é æ€§æœºåˆ¶</strong></td><td>ç¡®è®¤+æŒä¹…åŒ–+é•œåƒé˜Ÿåˆ—</td><td>å‰¯æœ¬æœºåˆ¶+ACK+Exactly-Once</td><td>äº‹åŠ¡æ¶ˆæ¯+æœ¬åœ°å­˜å‚¨</td></tr><tr><td><strong>é¡ºåºæ€§</strong></td><td>å•é˜Ÿåˆ—ä¿è¯</td><td>Partitionå†…æœ‰åº</td><td>Queueå†…æœ‰åº</td></tr><tr><td><strong>äº‹åŠ¡æ”¯æŒ</strong></td><td>è½»é‡çº§äº‹åŠ¡ï¼ˆæ€§èƒ½å·®ï¼‰</td><td>æ”¯æŒExactly-Onceè¯­ä¹‰</td><td>å®Œæ•´äº‹åŠ¡æ¶ˆæ¯</td></tr><tr><td><strong>æœ€ä½³é€‚ç”¨åœºæ™¯</strong></td><td>ä¸šåŠ¡æ¶ˆæ¯ã€é«˜å¯é è¦æ±‚</td><td>æ—¥å¿—æµã€å¤§æ•°æ®åœºæ™¯</td><td>é‡‘èäº¤æ˜“ã€è®¢å•ä¸šåŠ¡</td></tr></tbody></table>
<h3 data-id="heading-15">7.Â <strong>å®è·µå»ºè®®</strong></h3>
<ol>
<li>
<p><strong>åˆ†çº§å¯é æ€§ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å…³é”®ä¸šåŠ¡ï¼šäº‹åŠ¡æ¶ˆæ¯+æœ¬åœ°è¡¨+å¯¹è´¦</li>
<li>æ™®é€šä¸šåŠ¡ï¼šç¡®è®¤æœºåˆ¶+é‡è¯•+æ­»ä¿¡é˜Ÿåˆ—</li>
<li>æ—¥å¿—ç±»ï¼šæœ€å¤šä¸€æ¬¡æŠ•é€’å³å¯</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¸å¯é æ€§çš„å¹³è¡¡</strong>ï¼š</p>
<ul>
<li>åŒæ­¥åˆ·ç›˜ vs å¼‚æ­¥åˆ·ç›˜</li>
<li>åŒæ­¥å¤åˆ¶ vs å¼‚æ­¥å¤åˆ¶</li>
<li>æ ¹æ®ä¸šåŠ¡é‡è¦æ€§é€‰æ‹©é…ç½®</li>
</ul>
</li>
<li>
<p><strong>ç¾éš¾æ¢å¤è®¾è®¡ï¼š</strong></p>
</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># é…ç½®ç¤ºä¾‹ï¼šå¤šçº§é™çº§</span>
<span class="hljs-attr">mq:</span>
  <span class="hljs-attr">primary:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">"amqp://primary"</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">1000ms</span>
  <span class="hljs-attr">secondary:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">"amqp://secondary"</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">2000ms</span>
  <span class="hljs-attr">fallback-to-db:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># æœ€ç»ˆé™çº§åˆ°æ•°æ®åº“</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-16">æ€»ç»“</h3>
<p>æ¶ˆæ¯çš„å¯é æ€§æŠ•é€’æ˜¯ä¸€ä¸ªç³»ç»Ÿå·¥ç¨‹ï¼Œéœ€è¦åœ¨<strong>ç”Ÿäº§ç«¯ã€Brokerç«¯ã€æ¶ˆè´¹ç«¯</strong>ååŒè®¾è®¡ï¼Œç»“åˆ<strong>ä¸šåŠ¡åœºæ™¯ã€æ€§èƒ½è¦æ±‚ã€æˆæœ¬çº¦æŸ</strong>åšå‡ºåˆé€‚çš„é€‰æ‹©ã€‚æ²¡æœ‰"é“¶å¼¹"æ–¹æ¡ˆï¼Œåªæœ‰æœ€é€‚åˆçš„æ–¹æ¡ˆã€‚å»ºè®®ä»ç®€å•æ–¹æ¡ˆå¼€å§‹ï¼Œéšç€ä¸šåŠ¡å¤æ‚åº¦å¢åŠ é€æ­¥å¼•å…¥æ›´å®Œå–„çš„å¯é æ€§æœºåˆ¶ã€‚</p>
<h3 data-id="heading-17">é¢è¯•å›ç­”</h3>
<p><strong>é¦–å…ˆï¼Œæ¶ˆæ¯å¯é æ€§æŠ•é€’æŒ‡çš„æ˜¯ï¼š</strong><br/>
ä¸€ä¸ªæ¶ˆæ¯ä»å‘é€åˆ°è¢«æ¶ˆè´¹è€…æˆåŠŸå¤„ç†ï¼Œè¿‡ç¨‹ä¸­ä¸ä¼šä¸¢å¤±æˆ–é‡å¤ï¼Œä¿è¯æœ€ç»ˆæ•°æ®çš„ä¸€è‡´æ€§ã€‚åœ¨å®é™…ç³»ç»Ÿé‡Œï¼Œæ¶ˆæ¯å¯èƒ½å› ä¸ºç½‘ç»œé—®é¢˜ã€æœåŠ¡é‡å¯ç­‰åŸå› ä¸¢å¤±æˆ–é‡å¤ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€å¥—æœºåˆ¶æ¥ç¡®ä¿å¯é ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦å®ƒå‘¢ï¼Ÿ</strong><br/>
æ¯”å¦‚åœ¨è®¢å•ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ”¯ä»˜æˆåŠŸåè¦é€šçŸ¥ç‰©æµç³»ç»Ÿï¼Œå¦‚æœæ¶ˆæ¯ä¸¢äº†ï¼Œç‰©æµå°±ä¸ä¼šè§¦å‘ï¼Œç”¨æˆ·ä½“éªŒå°±å—æŸï¼›å¦‚æœæ¶ˆæ¯é‡å¤ï¼Œå¯èƒ½é‡å¤å‘è´§ï¼Œé€ æˆæŸå¤±ã€‚æ‰€ä»¥åƒé‡‘èã€äº¤æ˜“è¿™äº›åœºæ™¯ï¼Œå¯é æ€§ç‰¹åˆ«é‡è¦ã€‚</p>
<p><strong>å¸¸è§çš„å®ç°æ–¹å¼ï¼Œæˆ‘äº†è§£çš„æœ‰å‡ ç§ï¼š</strong></p>
<ol>
<li><strong>ç”Ÿäº§è€…ç¡®è®¤æœºåˆ¶</strong><br/>
ç”Ÿäº§è€…å‘æ¶ˆæ¯åï¼ŒMQï¼ˆæ¯”å¦‚RabbitMQï¼‰ä¼šè¿”å›ä¸€ä¸ªç¡®è®¤ï¼ˆACKï¼‰ï¼Œå¦‚æœæ²¡æ”¶åˆ°ACKï¼Œç”Ÿäº§è€…å¯ä»¥é‡å‘ã€‚è¿™æ ·å¯ä»¥é˜²æ­¢æ¶ˆæ¯åœ¨å‘é€é˜¶æ®µä¸¢å¤±ã€‚</li>
<li><strong>æ¶ˆæ¯æŒä¹…åŒ–</strong><br/>
æ¶ˆæ¯ä¿å­˜åˆ°ç£ç›˜ï¼Œè€Œä¸æ˜¯åªæ”¾åœ¨å†…å­˜ã€‚è¿™æ ·å³ä½¿MQé‡å¯ï¼Œæ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢ã€‚</li>
<li><strong>æ¶ˆè´¹è€…æ‰‹åŠ¨ACK</strong><br/>
æ¶ˆè´¹è€…å¤„ç†å®Œæ¶ˆæ¯åï¼Œæ‰‹åŠ¨å‘Šè¯‰MQâ€œæˆ‘å·²ç»å¤„ç†å®Œäº†â€ï¼ŒMQæ‰åˆ é™¤æ¶ˆæ¯ï¼›å¦‚æœå¤„ç†å¤±è´¥ï¼ŒMQå¯ä»¥æŠŠæ¶ˆæ¯é‡æ–°æŠ•é€’ç»™å…¶ä»–æ¶ˆè´¹è€…ã€‚é¿å…æ¶ˆæ¯åœ¨å¤„ç†é˜¶æ®µä¸¢å¤±ã€‚</li>
<li><strong>äº‹åŠ¡æ¶ˆæ¯ï¼ˆæ¯”å¦‚RocketMQï¼‰</strong><br/>
å…ˆå‘ä¸€ä¸ªâ€œåŠæ¶ˆæ¯â€ï¼Œç­‰æœ¬åœ°äº‹åŠ¡æ‰§è¡ŒæˆåŠŸï¼Œå†ç¡®è®¤æŠ•é€’ï¼›å¦‚æœå¤±è´¥ï¼Œå°±å›æ»šã€‚è¿™é€‚ç”¨äºåˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯ã€‚</li>
<li><strong>æ¶ˆæ¯å»é‡</strong><br/>
ä¸ºäº†é¿å…é‡å¤æ¶ˆè´¹ï¼Œå¯ä»¥åœ¨æ¶ˆè´¹ç«¯åšå¹‚ç­‰æ€§è®¾è®¡ã€‚æ¯”å¦‚åœ¨æ•°æ®åº“é‡Œè®°å½•æ¶ˆæ¯IDï¼Œæ¯æ¬¡å¤„ç†å‰å…ˆæŸ¥ä¸€ä¸‹æ˜¯å¦å·²ç»å¤„ç†è¿‡ã€‚</li>
</ol>
<p><strong>å®é™…ä¸­æˆ‘ä»¬ä¸€èˆ¬ä¼šç»“åˆä¸šåŠ¡æ¥è®¾è®¡ã€‚</strong><br/>
æ¯”å¦‚ä¸€ä¸ªè®¢å•çŠ¶æ€åŒæ­¥çš„åœºæ™¯ï¼Œæˆ‘å¯èƒ½ä¼šç”¨ï¼šç”Ÿäº§è€…ç¡®è®¤ + æ¶ˆæ¯æŒä¹…åŒ– + æ¶ˆè´¹è€…æ‰‹åŠ¨ACK + æ¶ˆè´¹ç«¯å¹‚ç­‰æ€§ã€‚è¿™æ ·åŸºæœ¬èƒ½è¦†ç›–å‘é€ã€å­˜å‚¨ã€æ¶ˆè´¹å„ä¸ªç¯èŠ‚çš„å¯é æ€§ã€‚</p>
<p><strong>å½“ç„¶ï¼Œå¯é æ€§å’Œæ€§èƒ½ä¹‹é—´éœ€è¦æƒè¡¡</strong>ï¼Œæ¯”å¦‚æŒä¹…åŒ–ä¼šé™ä½ååé‡ï¼Œæ‰‹åŠ¨ACKä¼šå¢åŠ å»¶è¿Ÿã€‚æ‰€ä»¥è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>è¿½åŠ ï¼šé‡åˆ°è¿‡æ¶ˆæ¯ä¸¢å¤±æˆ–é‡å¤çš„é—®é¢˜ï¼Œä½ æ˜¯æ€ä¹ˆæ’æŸ¥å’Œè§£å†³çš„ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>è¿½åŠ ï¼šæ˜¯å¦äº†è§£æœ€ç»ˆä¸€è‡´æ€§ã€æœ€å¤§åŠªåŠ›é€šçŸ¥ç­‰æ¨¡å¼ ï¼Ÿ</p>
</blockquote>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™ArkUIï¼šçŠ¶æ€ç®¡ç†ã€åº”ç”¨ç»“æ„ã€è·¯ç”±å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7584742635483938826</link>    <guid>https://juejin.cn/post/7584742635483938826</guid>    <pubDate>2025-12-17T09:45:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584742635483938826" data-draft-id="7578901433970622464" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™ArkUIï¼šçŠ¶æ€ç®¡ç†ã€åº”ç”¨ç»“æ„ã€è·¯ç”±å…¨è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,Android,HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-17T09:45:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hqk"/> <meta itemprop="url" content="https://juejin.cn/user/2357827986264942"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™ArkUIï¼šçŠ¶æ€ç®¡ç†ã€åº”ç”¨ç»“æ„ã€è·¯ç”±å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2357827986264942/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hqk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T09:45:31.000Z" title="Wed Dec 17 2025 09:45:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    76
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡ä¸­è®²è§£äº†ï¼š<a href="https://juejin.cn/post/7578902814022565903" target="_blank" title="https://juejin.cn/post/7578902814022565903">é¸¿è’™ ArkUIåŸºç¡€è¯­æ³•</a>ï¼Œæœ¬ç¯‡å°†ä¼šè®²è§£ArkUIçŠ¶æ€ç®¡ç†ã€åº”ç”¨ç»“æ„ã€è·¯ç”±ç›¸å…³å†…å®¹ã€‚</p>
<p>ä¸Šä¸€ç¯‡ä¸€ç³»åˆ—ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°<code>@State</code>ä¿®é¥°ç¬¦æ¥è®©å˜é‡å˜æˆçŠ¶æ€å˜é‡ï¼Œè®©å…¶æ‹¥æœ‰UIåˆ·æ–°çš„èƒ½åŠ›ã€‚</p>
<p>è€Œ<code>@State</code>æ˜¯æœ€åŸºç¡€çš„ï¼Œé™¤äº†å®ƒï¼Œé¸¿è’™è¿˜æä¾›äº†ä¸€æ•´å¥—è£…é¥°å™¨æ¥è§£å†³ä¸åŒç»„ä»¶ä¹‹é—´çš„æ•°æ®åŒæ­¥é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">1ã€V1çŠ¶æ€ç®¡ç†ä¿®é¥°å™¨</h2>
<p>æ³¨æ„ï¼š<strong>æ–°é¡¹ç›®å»ºè®®ç›´æ¥ç”¨V2çŠ¶æ€ç®¡ç†ä¿®é¥°å™¨ï¼ŒV1å·²ç»é€æ¸è¢«åºŸå¼ƒäº†ï¼</strong></p>
<h3 data-id="heading-2">1.1 ç»„ä»¶çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-3">1.1.1 @State</h4>
<p>æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@Component
struct StateExample {
  // @State æ ‡è®°å˜é‡ï¼Œå˜åŒ–æ—¶è§¦å‘ build() é‡ç»˜
  @State count: number = 0;

  build() {
    Column() {
      Text(`å½“å‰ç‚¹å‡»æ¬¡æ•°ï¼š${this.count}`)
        .fontSize(30)

      Button("ç‚¹æˆ‘ +1")
        .onClick(() =&gt; {
          this.count++; // ä¿®æ”¹çŠ¶æ€ï¼ŒUI è‡ªåŠ¨åˆ·æ–°
        }).margin({top:20})
    }.width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4d21c436e51448cbee04d8a33eab54a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=YJEBICipXDCSojxH0LZlmhpsn8U%3D" alt="ezgif-2e9732bbda163a44.gif" loading="lazy"/></p>
<p><code>@State</code>åœ¨ä¸Šé¢çš„ä¾‹å­ç”¨äº†å¾ˆå¤šæ¬¡ï¼Œæ ‡è®°çš„å˜é‡ï¼Œå˜åŒ–æ—¶å°†ä¼šè§¦å‘UIé‡ç»˜</p>
<h4 data-id="heading-4">1.1.2 @Prop</h4>
<p>æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Component
struct BatteryIcon {
  // @Prop æ¥æ”¶çˆ¶ç»„ä»¶çš„å€¼ï¼Œè‡ªå·±å¯ä»¥åœ¨å†…éƒ¨ä¿®æ”¹ï¼Œä½†ä¸ä¼šåŒæ­¥å›çˆ¶ç»„ä»¶
  @Prop batteryLevel: number;

  build() {
    Column() {
      Text(`å­ç»„ä»¶æ˜¾ç¤ºç”µé‡: ${this.batteryLevel}%`)
      Button("å­ç»„ä»¶å·å·è€—ç”µ -10")
        .onClick(() =&gt; {
          this.batteryLevel -= 10; // è¿™é‡Œæ”¹äº†ï¼Œåªä¼šå½±å“ BatteryIcon è‡ªå·±
        })
    }
    .padding(10)
    .backgroundColor(Color.Pink)
  }
}

@Entry
@Component
struct PropExample {
  @State realBattery: number = 100;

  build() {
    Column({ space: 20 }) {
      Text(`çˆ¶ç»„ä»¶çœŸå®ç”µé‡: ${this.realBattery}%`).fontSize(24)

      // ä¼ é€’æ—¶ç›´æ¥ä¼ å€¼ï¼ˆthis.realBatteryï¼‰
      BatteryIcon({ batteryLevel: this.realBattery })

      Button("çˆ¶ç»„ä»¶å……ç”µ +10")
        .onClick(() =&gt; {
          this.realBattery += 10; // çˆ¶ç»„ä»¶ä¸€æ›´æ–°ï¼Œå­ç»„ä»¶ä¼šè¢«é‡ç½®ä¸ºæœ€æ–°å€¼
        })
    }.width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3aedeb1940e447db487713b3fe438fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=OY0qS%2FhvcNy8q41WcTk9uPk8MPE%3D" alt="ezgif-22965a0af69300c8.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>çˆ¶ç»„ä»¶<code>PropExample</code>é‡Œé¢åŒ…å«å­ç»„ä»¶<code>BatteryIcon</code>ï¼Œ</li>
<li>å­ç»„ä»¶æ¥å—çˆ¶ç»„ä»¶çš„å˜é‡<code>batteryLevel</code>è¢«<code>@Prop</code>ä¿®é¥°ç¬¦ä¿®é¥°</li>
<li>çˆ¶ç»„ä»¶çš„å€¼æ”¹å˜ä¼šå½±å“å­ç»„ä»¶çš„å€¼çš„æ”¹å˜ï¼Œè€Œå­ç»„ä»¶çš„å€¼æ”¹å˜ä¸ä¼šå½±å“çˆ¶ç»„ä»¶çš„å€¼æ”¹å˜</li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<strong>å•å‘åŒæ­¥ï¼ˆçˆ¶ -&gt; å­ï¼‰ï¼Œå­æ”¹çˆ¶ä¸å˜ï¼Œçˆ¶æ”¹å­å˜</strong></p>
<h4 data-id="heading-5">1.1.3 @Link</h4>
<p>æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Component
struct ControlPanel {
  // @Link ç±»ä¼¼äºæŒ‡é’ˆï¼ŒæŒ‡å‘çˆ¶ç»„ä»¶çš„åŒä¸€å—å†…å­˜
  @Link toggleState: boolean;

  build() {
    Row() {
      Text("å­ç»„ä»¶å¼€å…³ï¼š")
      Toggle({ type: ToggleType.Switch, isOn: this.toggleState })
        .onChange((isOn: boolean) =&gt; {
          this.toggleState = isOn; // å­ç»„ä»¶ä¿®æ”¹ï¼Œçˆ¶ç»„ä»¶ç«‹é©¬åŒæ­¥
        })
    }.backgroundColor(Color.Pink)
  }
}

@Entry
@Component
struct LinkExample {
  @State isWiFiOn: boolean = false;

  build() {
    Column({ space: 20 }) {
      Text(`çˆ¶ç»„ä»¶ WiFi çŠ¶æ€: ${this.isWiFiOn ? 'å¼€å¯' : 'å…³é—­'}`)
        .fontSize(24)
        .fontColor(this.isWiFiOn ? Color.Green : Color.Red)

      ControlPanel({ toggleState: this.isWiFiOn })
      //ä¸¤ç§ä¼ å€¼éƒ½å¯ä»¥
      ControlPanel({ toggleState: $isWiFiOn })

      Row() {
        Text("çˆ¶ç»„ä»¶å¼€å…³ï¼š")
        Toggle({ type: ToggleType.Switch, isOn: this.isWiFiOn })
          .onChange((isOn: boolean) =&gt; {
            this.isWiFiOn = isOn; // çˆ¶ç»„ä»¶ä¿®æ”¹ï¼Œå­ç»„ä»¶ä¹ŸåŒæ­¥
          })
      }

    }.width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58fb7d9ca1b148b696f5f093ddcd5bf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=2dao2SugU%2F2aO4lyg6RC%2BYsFrw8%3D" alt="ezgif-2f9967554998dae7.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼š</p>
<ul>
<li>çˆ¶ç»„ä»¶<code>LinkExample</code>é‡Œé¢åŒ…å«å­ç»„ä»¶<code>ControlPanel</code></li>
<li>å­ç»„ä»¶æ¥å—çˆ¶ç»„ä»¶çš„å˜é‡<code>toggleState</code>è¢«<code>@Link</code>ä¿®é¥°ç¬¦ä¿®é¥°</li>
<li>æ— è®ºå­ç»„ä»¶æ”¹å˜å€¼è¿˜æ˜¯çˆ¶ç»„ä»¶æ”¹å˜å€¼ï¼Œéƒ½ä¼šæ›´æ–°æœ€æ–°çš„å€¼å¹¶ä¸”æ¸²æŸ“åˆ·æ–°UIï¼ˆ<strong>åŒå‘åŒæ­¥</strong>ï¼‰</li>
</ul>
<h4 data-id="heading-6">1.1.4 @Provide + @Consume</h4>
<p>æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@Component
struct ProvidePage {
  @Provide count: number = 0;
  build() {
    Row(){
      Column({space: 18}){
        Text(this.count.toString())
          .fontSize(50)
        Button('é¡¶çº§ç»„ä»¶').onClick( () =&gt; {
            this.count++
        })
        Divider()
        Child2()

      }
      .width('100%')

    }
    .height('100%')
  }
}

@Component
struct Child2 {
  @Consume count: number;
  build() {
    Column() {
      Text("å­ç»„ä»¶:"+this.count)
        .fontSize(40)
      Divider()
      Grand()
    }.backgroundColor(Color.Pink)
  }
}

@Component
struct Grand {
  @Consume count: number;
  build() {
    Column() {
      Text("å­™ç»„ä»¶")
        .fontSize(30)
      Text(this.count.toString())

      Button('ä¿®æ”¹').onClick( () =&gt; {
        this.count++
      })
    }.backgroundColor(Color.Green)
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b801916b500f4e48a2c6e54e25f7483d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=2PxPLhuBgkBiKowsy2LTwaAl7wg%3D" alt="ezgif-3e221696fdef9371.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>çˆ¶ç»„ä»¶<code>ProvidePage</code>å¯¹åº”çš„å˜é‡<code>count</code>ç”±<code>@Provide</code>ä¿®é¥°ï¼Œè€Œå­ç»„ä»¶ä»¥åŠå­™ç»„ä»¶å¯¹åº”å˜é‡<code>count</code>ç”±<code>@Consume</code>ä¿®é¥°ã€‚</li>
<li>å®ƒä»¬ä¹‹é—´å¹¶æ²¡æœ‰é€šè¿‡ä¼ å‚çš„æ–¹å¼ä¼ é€’å˜é‡ï¼Œè€Œæ˜¯ç›´æ¥é€šè¿‡å˜é‡åè‡ªåŠ¨åŒ¹é…ï¼Œå› æ­¤å®ƒä»¬ä¹‹é—´çš„å˜é‡<code>count</code>å¿…é¡»ä¸€è‡´</li>
</ul>
<h4 data-id="heading-7">1.1.5 @Observed + @ObjectLink</h4>
<p>æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@Component
struct CartPage {
  @State items: CartItem[] = [
    new CartItem(1, "å¯ä¹", 3),
    new CartItem(2, "è–¯ç‰‡", 6),
    new CartItem(3, "å·§å…‹åŠ›", 12)
  ]
  @State totalPrice: number = 0

  /**
   * é‡æ–°è®¡ç®—æ€»ä»·
   */
  recalcTotal() {
    let total = 0
    for (let item of this.items) {
      total += item.count * item.price
    }
    this.totalPrice = total
  }

  build() {
    Column() {
      Text("è´­ç‰©è½¦")
        .fontSize(24)
        .margin(10)

      // å•†å“åˆ—è¡¨
      ForEach(this.items, (item: CartItem) =&gt; {
        CartItemRow({
          item: item,
          onCountChange: () =&gt; {
            this.recalcTotal()
          }
        })
      })

      Divider().margin({ top: 20 })

      // æ˜¾ç¤ºæ€»ä»·ï¼ˆä¸ä¼š undefinedï¼‰
      Text(`æ€»ä»·ï¼šï¿¥${this.totalPrice}`)
        .fontSize(22)
        .fontWeight(FontWeight.Bold)
        .margin(20)
    }.width('100%')
    .height('100%')
    .onAppear(() =&gt; {
      this.recalcTotal() // åˆæ¬¡è®¡ç®—
    })
  }
}


@Component
struct CartItemRow {
  @ObjectLink item: CartItem
  onCountChange: () =&gt; void = () =&gt; {
  }

  build() {
    Row() {
      Text(this.item.name)
        .width(120)

      Text(`ï¿¥${this.item.price}`)
        .width(60)
        .fontColor(Color.Grey)

      Button("-")
        .onClick(() =&gt; {
          if (this.item.count &gt; 1) {
            this.item.count--
            this.onCountChange()
          }
        })

      Text(`${this.item.count}`)
        .width(30)
        .textAlign(TextAlign.Center)

      Button("+")
        .onClick(() =&gt; {
          this.item.count++
          this.onCountChange()
        })
    }
    .padding(10)
  }
}


@Observed
class CartItem {
  id: number
  name: string
  price: number
  count: number

  constructor(id: number, name: string, price: number, count: number = 1) {
    this.id = id
    this.name = name
    this.price = price
    this.count = count
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a3a298018d449528b11f1ed0f18c47f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=YQJp42sNe%2BDHfZ3Mnrc0VKzt%2F3k%3D" alt="ezgif-5cfcd6a8cee143b6.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨äº†<code>@Observed + @ObjectLink</code>ä¿®é¥°ç¬¦ï¼Œ</p>
<ul>
<li><code>@Observed</code>ç”¨äºä¿®é¥° <strong>ç±»</strong>ï¼Œè®©ç±»çš„å±æ€§å˜æˆå¯è§‚å¯Ÿçš„ã€‚å½“å±æ€§å˜åŒ–æ—¶ï¼ŒUI ä¼šè‡ªåŠ¨åˆ·æ–°ã€‚</li>
<li><code>@ObjectLink</code> ç”¨äºå­ç»„ä»¶æ¥æ”¶çˆ¶ç»„ä»¶ä¼ å…¥çš„ <strong>å¯¹è±¡å¼•ç”¨</strong>ï¼ˆè€Œä¸æ˜¯å€¼ï¼‰;è¿™æ ·å­ç»„ä»¶å†…éƒ¨ä¿®æ”¹å¯¹è±¡ â†’ çˆ¶ç»„ä»¶ä¹Ÿä¼šåŒæ­¥ â†’ UI è‡ªåŠ¨åˆ·æ–°</li>
</ul>
</li>
<li>
<p>ä¸€å¥è¯æ€»ç»“ï¼š<strong><code>@Observed</code> è®©ç±»çš„å±æ€§å…·æœ‰å¯è§‚å¯Ÿæ€§ï¼Œ<code>@ObjectLink</code> è®©ä¸åŒç»„ä»¶å…±äº«åŒä¸€ä¸ªå¯¹è±¡å¹¶ä¿æŒåŒæ­¥æ›´æ–°ã€‚</strong></p>
</li>
</ul>
<p>ä¸Šé¢çš„è£…é¥°å™¨ä»…èƒ½åœ¨é¡µé¢å†…ï¼Œå¦‚æœè¦å®ç°åº”ç”¨çº§ä»¥åŠå¤šä¸ªé¡µé¢çš„çŠ¶æ€æ•°æ®å…±äº«ï¼Œå°±éœ€è¦ç”¨åˆ°åº”ç”¨çº§çš„çŠ¶æ€ç®¡ç†ã€‚</p>
<h3 data-id="heading-8">1.2 åº”ç”¨çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-9">1.2.1 LocalStorage</h4>
<p>LocalStorageï¼šé¡µé¢çº§UIçŠ¶æ€å­˜å‚¨ï¼Œ<strong>é€šå¸¸ç”¨äºUIAbilityå†…ã€é¡µé¢é—´çš„çŠ¶æ€å…±äº«ã€‚</strong></p>
<h5 data-id="heading-10">1.2.1.1 åŸºäºé¡µé¢é—´çš„çŠ¶æ€å…±äº«</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">let count: Record&lt;string, number&gt; = { 'count': 0 }
let storage = new LocalStorage(count);

@Entry(storage)
@Component
struct Parent {
  @LocalStorageLink('count') count: number = 0;
  build() {
    Column() {
      Text("çˆ¶ç»„ä»¶")
      Button("åŠ  1").onClick(() =&gt; this.count += 1)
      Text(`å½“å‰ Parent count: ${this.count}`)
      ChildDisplay().margin({top:20})
      ChildDisplay2().margin({top:20})
    }
    .width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}

@Component
struct ChildDisplay {
  @LocalStorageLink('count') count: number = 0;

  build() {
    Column({space:10}){
      Text("æˆ‘æ˜¯å­ç»„ä»¶åŒå‘ç»‘å®šæ•°æ®")
      Text(`å½“å‰ Child count: ${this.count}`)
      Button("å‡ä¸€").onClick(()=&gt;{
        this.count-=1
      })
    }.backgroundColor(Color.Brown)

  }
}

@Component
struct ChildDisplay2 {
  @LocalStorageProp('count') count: number = 0;

  build() {
    Column({space:10}){
      Text("æˆ‘æ˜¯å­ç»„ä»¶å•å‘ç»‘å®šæ•°æ®")
      Text(`å½“å‰ Child count: ${this.count}`)
      Button("å‡ä¸€").onClick(()=&gt;{
        this.count-=1
      })
    }.backgroundColor(Color.Gray)

  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/150c937522ca4586b8f3148c65d5373b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=LZ0cYigGW2IMgKhz0NuMgow0zAw%3D" alt="ezgif-51142c2157ac7d59.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>
<p><code>LocalStorage</code> å®ç°äº†é¡µé¢å†…å…±äº«â€œæ•°æ®åº“â€ï¼Œå¹¶ä»¥<code>Record&lt;string, number&gt;</code>æ–¹å¼å­˜å‚¨æ•°æ®</p>
</li>
<li>
<p>ç»„ä»¶æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œè¢«<code>@Entry(storage)</code>è£…é¥°çš„<code>@Component</code>ï¼Œå¯ä»¥è¢«åˆ†é…ä¸€ä¸ªLocalStorageå®ä¾‹ï¼Œ<strong>æ­¤ç»„ä»¶çš„æ‰€æœ‰å­ç»„ä»¶å®ä¾‹å°†è‡ªåŠ¨è·å¾—å¯¹è¯¥LocalStorageå®ä¾‹çš„è®¿é—®æƒé™ã€‚</strong></p>
</li>
<li>
<p>LocalStorageæ ¹æ®ä¸@Componentè£…é¥°çš„ç»„ä»¶çš„åŒæ­¥ç±»å‹ä¸åŒï¼Œæä¾›äº†ä¸¤ä¸ªè£…é¥°å™¨ï¼š</p>
<ul>
<li>@LocalStoragePropè£…é¥°çš„å˜é‡ä¸LocalStorageä¸­ç»™å®šå±æ€§å»ºç«‹å•å‘åŒæ­¥å…³ç³»ã€‚</li>
<li>@LocalStorageLinkè£…é¥°çš„å˜é‡ä¸LocalStorageä¸­ç»™å®šå±æ€§å»ºç«‹åŒå‘åŒæ­¥å…³ç³»ã€‚</li>
</ul>
</li>
</ul>
<p>è¯¥å®ä¾‹<code>LocalStorage</code>çš„å®ä¾‹ä»…ä»…åœ¨ä¸€ä¸ª<code>@Entry</code>è£…é¥°çš„ç»„ä»¶å’Œå…¶æ‰€å±çš„å­ç»„ä»¶ï¼ˆä¸€ä¸ªé¡µé¢ï¼‰ä¸­å…±äº«ï¼Œå¦‚æœå¸Œæœ›å…¶åœ¨å¤šä¸ªé¡µé¢ä¸­å…±äº«ï¼Œé‚£ä¹ˆå°±è¦ç”¨åˆ° åŸºäºUIAbilityå†…çŠ¶æ€å…±äº«</p>
<h5 data-id="heading-11">1.2.1.2 åŸºäºUIAbilityå†…çŠ¶æ€å…±äº«</h5>
<p>æ—¢ç„¶è¦åŸºäºUIAbilityå†…çŠ¶æ€å…±äº«ï¼Œé‚£ä¹ˆå°±è¦åœ¨æ‰€å±çš„UIAbilityä¸­åˆ›å»ºLocalStorageå®ä¾‹</p>
<p><strong>EntryAbility.ets</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">//....çœç•¥éƒ¨åˆ†ä»£ç ....

export default class EntryAbility extends UIAbility {

//....çœç•¥éƒ¨åˆ†ä»£ç ....

  onWindowStageCreate(windowStage: window.WindowStage): void {
  
    let data: Record&lt;string, string&gt; = {"userName" : 'hqk'}
    let myStorage = new LocalStorage(data)
    
    windowStage.loadContent('pages/dos/EntryLocalPage1',myStorage, (err) =&gt; {

    //....çœç•¥éƒ¨åˆ†ä»£ç ....
  }

//....çœç•¥éƒ¨åˆ†ä»£ç ....
}
</code></pre>
<p>æ³¨æ„ï¼šåœ¨<code>EntryAbility.ets</code>é‡Œï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨<code>windowStage.loadContent</code>æ—¶ï¼Œä¼ å…¥äº†åˆ›å»ºå¥½çš„<code>LocalStorage</code>å€¼ã€‚</p>
<p>æ—¢ç„¶<code>EntryAbility</code>å·²ç»åˆ›å»ºäº†<code>LocalStorage</code>ï¼Œé‚£ä¹ˆå¯¹åº”çš„pageé¡µé¢è¯¥å¦‚ä½•å–å€¼å‘¢ï¼Ÿ</p>
<p><strong>EntryLocalPage1</strong></p>
<pre><code class="hljs language-php" lang="php">import { router } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ArkUI'</span>;

@<span class="hljs-title function_ invoke__">Entry</span>({ <span class="hljs-attr">useSharedStorage</span>: <span class="hljs-literal">true</span> })
@Component
struct EntryLocalPage1 {
  @<span class="hljs-title function_ invoke__">LocalStorageLink</span>(<span class="hljs-string">'userName'</span>) userName: <span class="hljs-keyword">string</span> = <span class="hljs-string">'page1'</span>;

  <span class="hljs-title function_ invoke__">build</span>() {
    <span class="hljs-title function_ invoke__">RelativeContainer</span>() {

      <span class="hljs-title function_ invoke__">Text</span>(<span class="hljs-string">"ç¬¬ä¸€ä¸ªé¡µé¢"</span>).<span class="hljs-title function_ invoke__">fontSize</span>(<span class="hljs-number">40</span>)
        .<span class="hljs-title function_ invoke__">fontWeight</span>(FontWeight.Bold)
        .<span class="hljs-title function_ invoke__">alignRules</span>({
          <span class="hljs-attr">bottom</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'EntryLocalPage1HelloWorld'</span>, <span class="hljs-attr">align</span>: VerticalAlign.Top },
          <span class="hljs-attr">middle</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: HorizontalAlign.Center }
        })

      <span class="hljs-title function_ invoke__">Text</span>(this.userName)
        .<span class="hljs-title function_ invoke__">id</span>(<span class="hljs-string">'EntryLocalPage1HelloWorld'</span>)
        .<span class="hljs-title function_ invoke__">fontSize</span>(<span class="hljs-number">50</span>)
        .<span class="hljs-title function_ invoke__">fontWeight</span>(FontWeight.Bold)
        .<span class="hljs-title function_ invoke__">alignRules</span>({
          <span class="hljs-attr">center</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: VerticalAlign.Center },
          <span class="hljs-attr">middle</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: HorizontalAlign.Center }
        })

      <span class="hljs-title function_ invoke__">Button</span>(<span class="hljs-string">"è·³è½¬ä¸‹ä¸€ä¸ªé¡µé¢"</span>).<span class="hljs-title function_ invoke__">alignRules</span>({
        <span class="hljs-attr">top</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'EntryLocalPage1HelloWorld'</span>, <span class="hljs-attr">align</span>: VerticalAlign.Bottom },
        <span class="hljs-attr">middle</span>: { <span class="hljs-attr">anchor</span>: <span class="hljs-string">'__container__'</span>, <span class="hljs-attr">align</span>: HorizontalAlign.Center }
      }).<span class="hljs-title function_ invoke__">onClick</span>(() =&gt; {
        router.<span class="hljs-title function_ invoke__">pushUrl</span>({<span class="hljs-attr">url</span>:<span class="hljs-string">"pages/dos/EntryLocalPage2"</span>})
      }).<span class="hljs-title function_ invoke__">margin</span>({ <span class="hljs-attr">top</span>: <span class="hljs-number">10</span> })
    }
    .<span class="hljs-title function_ invoke__">height</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-title function_ invoke__">width</span>(<span class="hljs-string">'100%'</span>)
  }
}
</code></pre>
<p><strong>EntryLocalPage2</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry({ useSharedStorage: true })
@Component
struct EntryLocalPage2 {
  @LocalStorageLink('userName') userName: string = 'page2';

  build() {
    RelativeContainer() {
      Text("ç¬¬äºŒä¸ªé¡µé¢").fontSize(40)
        .fontWeight(FontWeight.Bold)
        .alignRules({
          bottom: { anchor: 'EntryLocalPage2HelloWorld', align: VerticalAlign.Top },
          middle: { anchor: '__container__', align: HorizontalAlign.Center }
        })

      Text(this.userName)
        .id('EntryLocalPage2HelloWorld')
        .fontSize(50)
        .fontWeight(FontWeight.Bold)
        .alignRules({
          center: { anchor: '__container__', align: VerticalAlign.Center },
          middle: { anchor: '__container__', align: HorizontalAlign.Center }
        })

      Button("ä¿®æ”¹å†…å®¹")
        .alignRules({
          top: { anchor: 'EntryLocalPage2HelloWorld', align: VerticalAlign.Bottom },
          middle: { anchor: '__container__', align: HorizontalAlign.Center }
        })
        .margin({ top: 10 })
        .onClick(() =&gt; {
          this.userName = "å¼ ä¸‰"
        })
    }
    .height('100%')
    .width('100%')
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9539c392cdae4d978c475ccfe2c711f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=PyDc5hy%2BMyg8tyuckx%2BD4wLv%2FKY%3D" alt="ezgif-4f292d3891780923.gif" loading="lazy"/></p>
<p>åœ¨è¯¥ç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li>UIAbilityä¸­åˆ›å»ºLocalStorageå®ä¾‹ï¼Œé€šè¿‡<code>windowStage.loadContent</code>æ–¹æ³•ä½¿å…¶å¯¹åº” UIAbilityå†…çš„æ‰€æœ‰pageé¡µé¢éƒ½å…·å¤‡è®¿é—® UIAbilityä¸­åˆ›å»ºLocalStorageå®ä¾‹çš„èµ„æ ¼</li>
<li>å¯¹åº”çš„pageé¡µé¢å¦‚æœæƒ³è¦è®¿é—®UIAbilityä¸­åˆ›å»ºLocalStorageå®ä¾‹ï¼Œé‚£ä¹ˆ<code>@Entry</code>ä¿®é¥°ç¬¦éœ€è¦æ”¹ä¸º<code>@Entry({ useSharedStorage: true })</code>ï¼Œä½¿å…¶èƒ½è·å–é¡µé¢å…±äº«çš„LocalStorageå®ä¾‹</li>
<li>è¿™é‡Œç”¨åˆ°äº†<code>router</code>è·¯ç”±è·³è½¬ä»¥åŠ<code>UIAbility</code>ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œç¨åä¼šè¯¦è§£</li>
</ul>
<p>æ³¨æ„ï¼š<strong>è¯¥ç¤ºä¾‹éœ€è¦ç”¨çœŸæœºæˆ–æ¨¡æ‹Ÿå™¨è¿è¡Œï¼Œé¢„è§ˆå™¨çœ‹ä¸äº†è¯¥æ•ˆæœ</strong></p>
<h4 data-id="heading-12">1.2.2 AppStorage</h4>
<p>AppStorageæ˜¯ä¸åº”ç”¨è¿›ç¨‹ç»‘å®šçš„å…¨å±€UIçŠ¶æ€å­˜å‚¨ä¸­å¿ƒï¼Œç”±UIæ¡†æ¶åœ¨åº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºï¼Œå°†UIçŠ¶æ€æ•°æ®å­˜å‚¨äºè¿è¡Œå†…å­˜ï¼Œå®ç°åº”ç”¨çº§å…¨å±€çŠ¶æ€å…±äº«</p>
<h5 data-id="heading-13">1.2.2.1 ç¤ºä¾‹ä¸€</h5>
<p><strong>AppStoragePage1</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { promptAction, router } from '@kit.ArkUI';

@Entry
@Component
struct AppStoragePage1 {
  @State phone: string = ''
  @State name: string = ''

  build() {
    Column({ space: 20 }) {
      Text("æ•°æ®æäº¤")
        .fontSize(30)
        .fontWeight(FontWeight.Bold)
        .margin({ top: 40 })

      /** æ‰‹æœºå·è¾“å…¥æ¡† */
      Row() {
        TextInput({ placeholder: 'å§“å' })
          .type(InputType.Normal)
          .maxLength(11)
          .onChange(v =&gt; this.name = v)
      }
      .padding(12)
      .backgroundColor('#F7F7F7')
      .borderRadius(8)
      .width('85%')


      /** æ‰‹æœºå·è¾“å…¥æ¡† */
      Row() {
        TextInput({ placeholder: 'è¯·è¾“å…¥æ‰‹æœºå·' })
          .type(InputType.Number)
          .maxLength(11)
          .onChange(v =&gt; this.phone = v)
      }
      .padding(12)
      .backgroundColor('#F7F7F7')
      .borderRadius(8)
      .width('85%')

      /** æäº¤æŒ‰é’® */
      Button("æäº¤æ•°æ®")
        .width('85%')
        .height(45)
        .backgroundColor('#007DFF')
        .fontColor(Color.White)
        .borderRadius(8)
        .onClick(() =&gt; this.submit())

    }
    .height('100%')
    .width('100%')
  }

  private submit() {
    if (this.name === '') {
      this.toast("è¯·è¾“å…¥å§“å")
      return
    }
    if (this.phone==='') {
      this.toast("è¯·è¾“å…¥æ‰‹æœºå·")
      return
    }
    //å‘AppStorageä½œç”¨åŸŸä¸­æ”¾ç½®äº†ä¸€ä¸ªstringæ•°æ®
    AppStorage.setOrCreate&lt;string&gt;("name", this.name)
    AppStorage.setOrCreate&lt;string&gt;("phone",this.phone)
    router.pushUrl({url:"pages/AppStoragePage2"})
  }

  private toast(msg: string) {
    promptAction.showToast({ message: msg })
  }
}
</code></pre>
<p><strong>AppStoragePage2</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@Component
struct AppStoragePage2 {
  @StorageLink('name') name: string = '';
  @StorageProp('phone') phone:string=''
  build() {
    Column({space:20}) {
      Text(`å§“åä¸ºï¼š${this.name}`)
        .fontSize(20)
        .fontWeight(FontWeight.Bold)

      Text(`æ‰‹æœºå·ä¸ºï¼š${this.phone}`)
        .fontSize(20)
        .fontWeight(FontWeight.Bold)
    }
    .height('100%')
    .width('100%')
    .justifyContent(FlexAlign.Center)
  }
}
</code></pre>
<p><strong>é¢„è§ˆæ•ˆæœ</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e34b1fb91a504899877dc237fa2f38dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=bYDDUsvaMafZDZfqSyIBcJu0yac%3D" alt="229189149229136182-2025-12-14-165132.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>æˆ‘ä»¬ç”¨<code>AppStorage.setOrCreate&lt;T&gt;</code>è¿™ç§æ–¹å¼æˆåŠŸçš„key-valueå½¢å¼ä¿å­˜å€¼</li>
<li>åœ¨å…¶ä»–pageé¡µé¢ä¸­ï¼Œå¯ä»¥ç”¨<code>@StorageLink(key)</code>ä¸<code>@StorageProp(key) </code>æ–¹å¼è·å–ä¿å­˜çš„å€¼</li>
</ul>
<p>é‚£ç°åœ¨é—®é¢˜æ¥äº†ï¼Œä¸Šé¢ä¾‹å­ä¸­<code>LocalStorage</code>åŸºäºUIAbilityçŠ¶æ€å…±äº«çš„demoä¹Ÿæ˜¯è·¨pageé¡µé¢å…±äº«ï¼Œé‚£ä¸ºä½•è¦ç”¨<code>AppStorage</code>å‘¢ï¼Ÿ</p>
<p>é‚£å°±è¯´æ˜äº†<code>AppStorage</code>æœ‰<code>LocalStorage</code>åšä¸åˆ°çš„äº‹ï¼è·¨UIAbilityå…±äº«ï¼</p>
<h5 data-id="heading-14">1.2.2.2 ç¤ºä¾‹äºŒ</h5>
<p>æˆ‘ä»¬å°±åœ¨ç¤ºä¾‹ä¸€çš„åŸºç¡€ä¸Šä¿®æ”¹</p>
<p><strong>AppStoragePage1ä¿®æ”¹ç‰ˆ</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { promptAction, router } from '@kit.ArkUI';
import { common, Want } from '@kit.AbilityKit';
@Entry
@Component
struct AppStoragePage1 {
  @State phone: string = ''
  @State name: string = ''

  private context = this.getUIContext().getHostContext() as common.UIAbilityContext;

  build() {
    Column({ space: 20 }) {
      Text("æ•°æ®æäº¤")
        .fontSize(30)
        .fontWeight(FontWeight.Bold)
        .margin({ top: 40 })

      /** æ‰‹æœºå·è¾“å…¥æ¡† */
      Row() {
        TextInput({ placeholder: 'å§“å' })
          .type(InputType.Normal)
          .maxLength(11)
          .onChange(v =&gt; this.name = v)
      }
      .padding(12)
      .backgroundColor('#F7F7F7')
      .borderRadius(8)
      .width('85%')


      /** æ‰‹æœºå·è¾“å…¥æ¡† */
      Row() {
        TextInput({ placeholder: 'è¯·è¾“å…¥æ‰‹æœºå·' })
          .type(InputType.Number)
          .maxLength(11)
          .onChange(v =&gt; this.phone = v)
      }
      .padding(12)
      .backgroundColor('#F7F7F7')
      .borderRadius(8)
      .width('85%')

      /** æäº¤æŒ‰é’® */
      Button("æäº¤æ•°æ®")
        .width('85%')
        .height(45)
        .backgroundColor('#007DFF')
        .fontColor(Color.White)
        .borderRadius(8)
        .onClick(() =&gt; this.submit())


      /** æäº¤æŒ‰é’® */
      Button("æäº¤æ•°æ®è‡³å…¶ä»–Ability")
        .width('85%')
        .height(45)
        .backgroundColor('#007DFF')
        .fontColor(Color.White)
        .borderRadius(8)
        .onClick(() =&gt; this.submitOther())

    }
    .height('100%')
    .width('100%')
  }

  private submitOther() {
    if (!this.checkInput()) {
      return
    }
    //éœ€è¦å®šä¹‰ä¸€ä¸ªwantçš„å¯¹è±¡,æ„å›¾å¯¹è±¡
    let wantInfo: Want = {
      deviceId: '',// deviceIdä¸ºç©ºè¡¨ç¤ºæœ¬è®¾å¤‡
      bundleName: 'com.example.demo01', //æ¨¡å—çš„åŒ…å
      moduleName: 'user', //æ¨¡å—å
      abilityName: 'UserAbility',// è¦è·³è½¬çš„Abilityçš„åç§°
      parameters:{   //ç”¨äºä¼ é€’å‚æ•°çš„ä¸€ä¸ªå¯¹è±¡

      }
    }

    //ä½¿ç”¨contextå»è¿›è¡Œçš„è·³è½¬
    this.context.startAbility(wantInfo)

  }



  private submit() {
    if (!this.checkInput()) {
      return
    }
    router.pushUrl({ url: "pages/AppStoragePage2" })
  }

  private checkInput() {
    if (this.name === '') {
      this.toast("è¯·è¾“å…¥å§“å")
      return false
    }
    if (this.phone === '') {
      this.toast("è¯·è¾“å…¥æ‰‹æœºå·")
      return false
    }
    //å‘AppStorageä½œç”¨åŸŸä¸­æ”¾ç½®äº†ä¸€ä¸ªstringæ•°æ®
    AppStorage.setOrCreate&lt;string&gt;("name", this.name)
    AppStorage.setOrCreate&lt;string&gt;("phone", this.phone)
    return true
  }

  private toast(msg: string) {
    promptAction.showToast({ message: msg })
  }
}
</code></pre>
<p><strong>ä»£ç åˆ†æ</strong></p>
<ul>
<li>æ–°å¢äº†ä¸€ä¸ªæŒ‰é’®å¹¶è°ƒç”¨äº†<code>submitOther()</code>æ–¹æ³•</li>
<li>åœ¨è¿™ä¸ªæ–¹æ³•é‡Œï¼Œåˆ›å»ºäº†<code>Want</code>å¯¹è±¡ï¼Œå¹¶å°†è¯¥å€¼é€šè¿‡<code> this.context.startAbility</code>ä»£ç å—ä¼ é€’ï¼ˆè¿™ä¸ªç¨åä¼šè¯¦è§£ï¼‰</li>
</ul>
<p>é¡¹ç›®ç»“æ„å›¾:</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ca6c9a25c274d35abfb8a53329bf8cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=FA0R%2BeHpa1ztmFGopaVLZw71mgo%3D" alt="image.png" loading="lazy"/></p>
<p>è¿è¡Œæ•ˆæœå›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a167fea8d972435e99cff22473a9f08a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=P26xMR6jodWCj0jkm3TkWt5chpA%3D" alt="229189149229136182-2025-12-14-174643.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>åœ¨è¿™ä¸ªé¡¹ç›®ç»“æ„é‡Œï¼Œåˆ›å»ºäº†å…¨æ–°çš„UIModelä¸ºuseræ¨¡å—ï¼Œå¹¶ä¸”å¯¹åº”æ¨¡å—é‡Œæœ‰å¯¹åº”çš„UIAbilityï¼Œ</li>
<li>åœ¨å¯¹åº”çš„UIAbilityä¸­ï¼Œæœ‰ä¸ªé»˜è®¤å¯åŠ¨pageé¡µé¢ï¼šindexï¼Œ</li>
<li>åœ¨é»˜è®¤pageé¡µé¢ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>@StorageLink(key)</code>ä¸<code>@StorageProp(key) </code>æ–¹å¼è·å–ä¿å­˜çš„å€¼</li>
<li>å½“æˆ‘ä»¬è·³è½¬è‡³å…¶ä»–UIAbilityæ—¶ï¼Œæ‰‹æœºç³»ç»Ÿä»»åŠ¡æ é‡Œå°†ä¼šåˆ›å»ºå…¨æ–°çš„ä¸€ä¸ªä»»åŠ¡</li>
</ul>
<p>OKï¼Œæˆ‘ä»¬æ¥ç€çœ‹ä¸‹ä¸€ä¸ªï¼</p>
<h4 data-id="heading-15">1.2.3 PersistentStorage</h4>
<p>PersistentStorageæä¾›çŠ¶æ€å˜é‡æŒä¹…åŒ–çš„èƒ½åŠ›ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œå…¶æŒä¹…åŒ–å’Œè¯»å›UIçš„èƒ½åŠ›éƒ½éœ€è¦ä¾èµ–AppStoragã€‚</p>
<h5 data-id="heading-16">1.2.3.1 ç¤ºä¾‹ä¸€</h5>
<p><strong>PersistentStoragePage</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { router } from '@kit.ArkUI';

PersistentStorage.persistProp&lt;string&gt;('userName', 'admin')
@Entry
@Component
struct PersistentStoragePage {
  @StorageLink('userName') uname: string = 'Hello World';
  build() {
    Column() {
      Text(this.uname)
        .id('PersistentStoragePageHelloWorld')
        .fontSize(50)
        .fontWeight(FontWeight.Bold)

      Button('ä¿®æ”¹å€¼').onClick( () =&gt; {
          AppStorage.setOrCreate&lt;string&gt;('userName', 'hqk')
      })
      
      Button('è·³è½¬åˆ°2').onClick( () =&gt; {
        router.pushUrl({url: 'pages/PersistentStoragePage2'})
      })
    }
    .height('100%')
    .width('100%')
  }
}
</code></pre>
<p><strong>PersistentStoragePage2</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">
@Entry
@Component
struct PersistentStoragePage2 {

  @StorageLink('userName') uname: string = 'Hello World';

  build() {

    Column(){
      Text(this.uname)
        .id('PersistentStoragePageHelloWorld')
        .fontSize(50)
        .fontWeight(FontWeight.Bold)
        .alignRules({
          center: { anchor: '__container__', align: VerticalAlign.Center },
          middle: { anchor: '__container__', align: HorizontalAlign.Center }
        })

    }
    .width('100%')
    .height('100%')
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d872ce44312420d919d7c3a88b67e35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=MNXqiTRd8bnF1YAksYp9%2BZk9JCg%3D" alt="ezgif-83691f7387cb4fb2.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>PersistentStorage</code>å¯ä»¥é€šè¿‡<code>PersistentStorage.persistProp</code>æŒä¹…åŒ–å­˜å‚¨å€¼</li>
<li>å½“ä¿®æ”¹ä»¥åŠå–å€¼(è¯»å›UIçš„èƒ½åŠ›)æ—¶ï¼Œéœ€è¦ä¾èµ–<code>AppStorage</code>ä»¥åŠ<code>AppStorage</code>å¯¹åº”çš„<code>@StorageLink</code>å’Œ<code>@StorageProp</code></li>
</ul>
<p>æ³¨æ„ï¼š<strong>æŒä¹…åŒ–æ•°æ®æ˜¯ä¸€ä¸ªç›¸å¯¹ç¼“æ…¢çš„æ“ä½œ</strong>ï¼ŒæŒä¹…åŒ–å˜é‡æœ€å¥½æ˜¯<strong>å°äº2KBçš„æ•°æ®</strong>ï¼Œä¸è¦å¤§é‡çš„æ•°æ®æŒä¹…åŒ–ï¼Œå› ä¸º<code>PersistentStorage</code>å†™å…¥ç£ç›˜æ˜¯åœ¨UIçº¿ç¨‹åŒæ­¥æ‰§è¡Œçš„ï¼</p>
<h3 data-id="heading-17">1.3 å…¶ä»–çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-18">1.3.1 Watch</h4>
<p><code>@Watch</code>åº”ç”¨äºå¯¹çŠ¶æ€å˜é‡çš„ç›‘å¬ã€‚å¦‚æœå¼€å‘è€…éœ€è¦å…³æ³¨æŸä¸ªçŠ¶æ€å˜é‡çš„å€¼æ˜¯å¦æ”¹å˜ï¼Œå¯ä»¥ä½¿ç”¨<code>@Watch</code>ä¸ºçŠ¶æ€å˜é‡è®¾ç½®å›è°ƒå‡½æ•°ã€‚</p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { promptAction } from '@kit.ArkUI'

@Entry
@Component
struct PageWatch {

  //ç›‘å¬æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™ä¸ªå€¼å¦‚æœå‘ç”Ÿæ”¹åŠ¨ï¼Œå°±ä¼šè§¦å‘ç›¸åº”çš„å‡½æ•°çš„æ‰§è¡Œã€‚

  @State
  @Watch('updateMoney')
  money: number = 100

  updateMoney(){
    promptAction.showToast({message: `${this.money}å‘ç”Ÿäº†å˜åŒ–ã€‹ã€‚ã€‚`})
  }

  build() {
   Column(){

     Button('ä¿®æ”¹å€¼').onClick( () =&gt; {
       this.money += 10
     })
   }
   .width('100%')
   .height('100%')
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0bcc836780f40f38a67aa3ea3796289~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=iEHscLqEG7TyhEbR2B1Ytfduf6U%3D" alt="ezgif-8077efcf77b34e5b.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>@Watch</code>ç”¨äºç›‘å¬çŠ¶æ€å˜é‡çš„å˜åŒ–ï¼Œå½“çŠ¶æ€å˜é‡å˜åŒ–æ—¶ï¼Œ<code>@Watch</code>çš„å›è°ƒæ–¹æ³•å°†è¢«è°ƒç”¨</li>
</ul>
<p>è¿™äº›éƒ½æ˜¯V1çŠ¶æ€ä¿®é¥°å™¨ï¼Œç„¶è€ŒçŠ¶æ€ç®¡ç†V1å¯¹äºåµŒå¥—ç±»çš„è§‚æµ‹å­˜åœ¨è¯¸å¤šé™åˆ¶ï¼Œä¾‹å¦‚éœ€è¦å¼€å‘è€…é€šè¿‡@ObjectLinkä¸æ–­æ‹†è§£åµŒå¥—ç±»æ‰èƒ½ä½¿å…¶æ·±å±‚æ¬¡æ•°æ®å…·å¤‡è§‚æµ‹èƒ½åŠ›ã€‚å› æ­¤ï¼Œåœ¨API12ä¸­ä¸ºå¼€å‘è€…æä¾›äº†ä¸€å¥—å…¨æ–°çš„çŠ¶æ€ç®¡ç†V2ã€‚</p>
<p>V2çš„æå‡ºä¸ä»…è§£å†³äº†V1å¯¹äºåµŒå¥—ç±»è§‚æµ‹çš„å…ˆå¤©ä¸è¶³ï¼ŒåŒæ—¶å¯¹éƒ¨åˆ†è£…é¥°å™¨åŠŸèƒ½è¿›è¡Œäº†åŠ å¼ºï¼</p>
<p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹æ‰€è°“çš„V2çŠ¶æ€ç®¡ç†ä¿®é¥°å™¨</p>
<h2 data-id="heading-19">2ã€V2çŠ¶æ€ç®¡ç†ä¿®é¥°å™¨</h2>
<h3 data-id="heading-20">2.1 ç»„ä»¶çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-21">2.1.1 @Local</h4>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@ComponentV2
// @Component //åŒæ—¶ä½¿ç”¨å°†ä¼šæŠ¥é”™
struct PageLocal {
  @Local message: string = 'Hello World';

  build() {
    Column() {
      Text(this.message)
        .id('PageLocalHelloWorld')
        .fontSize(50)
        .fontWeight(FontWeight.Bold)
        .alignRules({
          center: { anchor: '__container__', align: VerticalAlign.Center },
          middle: { anchor: '__container__', align: HorizontalAlign.Center }
        })

      // LocalSub({message:this.message}) //è¿™å¥è¯æŠ¥é”™ï¼Œä¸èƒ½è¢«å¤–éƒ¨åˆå§‹åŒ–

      Button('ä¿®æ”¹').onClick( () =&gt; {
        this.message = 'hello'
      })

    }
    .height('100%')
    .width('100%')
  }
}

@ComponentV2
struct LocalSub {
  @Local message: string = ''
  build() {
    Column(){
      Button('ä¿®æ”¹').onClick( () =&gt; {
        this.message = 'admin'
      })
    }
    .width('100%')
    .height('100%')
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/597c0bbe324b441fb32b7a4c997e35d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=iisPvoLGO720YxyVMggULKH29L4%3D" alt="ezgif-44373bc6c7cf2a75.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li>åœ¨<code>@ComponentV2</code>è£…é¥°çš„è‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼Œ<strong>ä»…å¯ä»¥ä½¿ç”¨å…¨æ–°çš„å˜é‡è£…é¥°å™¨ï¼ˆV2ï¼‰ï¼Œä¸èƒ½å’ŒV1æ··ç”¨</strong></li>
<li>åŒä¸€ä¸ªstructç»“æ„æ— æ³•åŒæ—¶ä½¿ç”¨ <code>@ComponentV2</code>ä¸ <code>@Component</code>è£…é¥°</li>
<li>è¢«<code>@Local</code>è£…é¥°çš„å˜é‡æ— æ³•ä»å¤–éƒ¨åˆå§‹åŒ–ï¼Œå› æ­¤å¿…é¡»åœ¨ç»„ä»¶å†…éƒ¨è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li><code>@Local</code>å¯ä»¥ç†è§£ä¸ºV1ç‰ˆæœ¬çš„<code>@State</code>ï¼Œè¢«<code>@Local</code>è£…é¥°çš„å˜é‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¼šåˆ·æ–°ä½¿ç”¨è¯¥å˜é‡çš„ç»„ä»¶</li>
</ul>
<h4 data-id="heading-22">2.1.2 @Param</h4>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@ComponentV2
struct PageParam {
  @Local message: string = 'Hello World';
  number: number = 0

  build() {
    Column() {
      Text(this.message).fontSize(30).fontColor(Color.Blue)
        .onClick(() =&gt; {
          this.number+=1
          this.message = 'hqk'+this.number
        })
      Divider()
      ParamSub({ message: this.message })
    }
    .width('100%')
    .height('100%')
  }
}

@ComponentV2
struct ParamSub {
  @Param @Require message: string='';
  build() {
    Text(this.message).fontSize(30).fontColor(Color.Blue)
      .onClick(() =&gt; {
        // this.message = 'admin' //è¿™å¥è¯æŠ¥é”™ï¼Œä¸å…è®¸ä¿®æ”¹
      })
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91b0438af8f943e788da986133781bcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=HPVYsBQeNfbv5Hw%2F5rnIdjqMKWU%3D" alt="ezgif-2c3e29cdf283fce3.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>@Require</code>: è®¾ç½®çŠ¶æ€å˜é‡å¯ä»¥æ²¡æœ‰åˆå§‹å€¼</li>
<li>è¢«<code>@Param</code>ä¿®é¥°çš„å˜é‡ä¸å…è®¸è‡ªå·±ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡å¤–ç•Œçš„ä¼ å…¥ï¼Œä½¿å…¶çˆ¶å­ç»„ä»¶ä¹‹é—´çš„æ•°æ®èƒ½å¤Ÿè¿›è¡ŒåŒæ­¥</li>
<li>è¢«<code>@Param</code>ä¿®é¥°çš„å˜é‡å˜åŒ–æ—¶ï¼Œä¹Ÿä¼šåˆ·æ–°è¯¥å˜é‡å…³è”çš„ç»„ä»¶</li>
</ul>
<h4 data-id="heading-23">2.1.3 @Once</h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Entry</span>
<span class="hljs-variable">@ComponentV2</span>
struct PageParam {
  <span class="hljs-variable">@Local</span> <span class="hljs-attribute">message</span>: string = <span class="hljs-string">'Hello World'</span>;
  number: number = 0

  build() {
    Column() {
      Text(this.message).fontSize(30).fontColor(<span class="hljs-attribute">Color.Blue)
        .onClick(() =&gt; {
          this.number+=1
          this.message = 'hqk'+this.number
        })
      Divider()
      ParamSub({ message</span>: this.message })
    }
    .<span class="hljs-built_in">width</span>(<span class="hljs-string">'100%'</span>)
    .<span class="hljs-built_in">height</span>(<span class="hljs-string">'100%'</span>)
  }
}

<span class="hljs-variable">@ComponentV2</span>
struct ParamSub {

  <span class="hljs-variable">@Param</span> <span class="hljs-variable">@Once</span> <span class="hljs-variable">@Require</span> <span class="hljs-attribute">message</span>: string;
  number: number = 0

  build() {
    Text(this.message).fontSize(30).fontColor(<span class="hljs-attribute">Color.Blue)
      .onClick(() =&gt; {
        this.number+=1
        this.message = 'admin'+this.number
      })
  }
}
</span></code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/566912b237bc412cb4060ccf1b871dd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=5mMzRDeCj4lO7orGdkvtqgULzpY%3D" alt="ezgif-3a9dc417c50bd60b.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>@Once</code>è£…é¥°å™¨åœ¨å˜é‡åˆå§‹åŒ–æ—¶æ¥å—å¤–éƒ¨ä¼ å…¥å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œåç»­æ•°æ®æºæ›´æ”¹ä¸ä¼šåŒæ­¥ç»™å­ç»„ä»¶ï¼ˆ<strong>å˜é‡ä»…åˆå§‹åŒ–åŒæ­¥ä¸€æ¬¡ï¼‰</strong></li>
<li><code>@Once</code>å¿…é¡»æ­é…<code>@Param</code>ä½¿ç”¨ï¼Œå•ç‹¬ä½¿ç”¨æˆ–æ­é…å…¶ä»–è£…é¥°å™¨ä½¿ç”¨éƒ½æ˜¯ä¸å…è®¸çš„</li>
<li><code>@Once</code>ä¸å½±å“<code>@Param</code>çš„è§‚æµ‹èƒ½åŠ›ï¼Œä»…é’ˆå¯¹æ•°æ®æºçš„å˜åŒ–åšæ‹¦æˆª</li>
<li><code>@Once</code>ä¸<code>@Param</code>æ­é…æ—¶ï¼Œå¯ä»¥åœ¨æœ¬åœ°ä¿®æ”¹<code>@Param</code>å˜é‡çš„å€¼</li>
<li><code>@Once</code>ä¸<code>@Param</code> è£…é¥°å˜é‡æ—¶ï¼Œä¸åˆ†å®šä¹‰çš„å…ˆåé¡ºåº</li>
</ul>
<p>æˆ‘ä»¬å‘ç°å½“å•ç‹¬ä½¿ç”¨<code>@Param</code>æ—¶ï¼Œå­ç»„ä»¶å¯¹åº”çš„å˜é‡ä¸èƒ½ä¿®æ”¹ï¼Œä½†æ˜¯åŠ å…¥äº†<code>@Once</code>åï¼Œè™½ç„¶å­ç»„ä»¶è¢«<code>@Param</code>ä¿®é¥°çš„å˜é‡å¯ä»¥æ”¹å˜äº†ï¼Œä½†æ”¹å˜åï¼Œçˆ¶ç»„ä»¶å¹¶æœªæ›´æ–°ï¼Œå› æ­¤æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸‹ä¸€ä¸ªè£…é¥°å™¨â€”â€”<code>@Event</code></p>
<h4 data-id="heading-24">2.1.4 @Event</h4>
<pre><code class="hljs language-ArkTS" lang="ArkTS">/**
 * æ¨¡æ‹ŸLink
 */

@Entry
@Component
struct PageEvent {
  @State userName: string = 'admin';

  build() {
    Column(){

      Text(this.userName).fontSize(50).fontColor(Color.Blue)
        .onClick(()=&gt;{
          this.userName = 'hqk'
        })

      SubEvent({sunUserName: this.userName, updateUserName:()=&gt;{
        this.userName = 'å¤©é«˜çš‡å¸è¿œ'
      }})
    }
    .width('100%')
    .height('100%')
  }
}

@ComponentV2
struct SubEvent {

  @Require @Param sunUserName:string

  //å®šä¹‰ä¸€ä¸ªç”¨äºä¿®æ”¹çˆ¶ç»„ä»¶å€¼çš„å‡½æ•°
  //@Event updateUserName: ()=&gt;void  //æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç©ºçš„å‡½æ•°ä½œä¸ºé»˜è®¤å›è°ƒ

  @Event updateUserName: ()=&gt;void = ()=&gt;{}

  build() {
    Column(){
      Text(this.sunUserName).fontSize(50).fontColor(Color.Blue)
        .onClick(()=&gt;{
          this.updateUserName()
        })
    }
    .width('100%')

  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/798b99a8785546b9b46e72714d9337cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=Qo4A9xHwolqtBQ4IhIv0KBFeoyA%3D" alt="ezgif-8102657e16836369.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>@Event</code>ç”¨äºè£…é¥°ç»„ä»¶å¯¹å¤–è¾“å‡ºçš„æ–¹æ³•</li>
<li><code>@Event</code>è£…é¥°çš„å›è°ƒæ–¹æ³•ä¸­å‚æ•°ä»¥åŠè¿”å›å€¼ç”±å¼€å‘è€…å†³å®š</li>
<li><code>@Event</code>è£…é¥°éå›è°ƒç±»å‹çš„å˜é‡ä¸ä¼šç”Ÿæ•ˆã€‚å½“<code>@Event</code>æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªç©ºçš„å‡½æ•°ä½œä¸ºé»˜è®¤å›è°ƒ</li>
<li>å½“<code>@Event</code>æœªè¢«å¤–éƒ¨åˆå§‹åŒ–ï¼Œä½†æœ¬åœ°æœ‰é»˜è®¤å€¼æ—¶ï¼Œä¼šä½¿ç”¨æœ¬åœ°é»˜è®¤çš„å‡½æ•°è¿›è¡Œå¤„ç†</li>
<li><code>@Event</code>ç›¸å½“äºV1çš„<code>@Link</code></li>
</ul>
<h4 data-id="heading-25">2.1.5 @Provider+@Comsumer</h4>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@ComponentV2
struct ProvidePage {
  @Provider() count: number = 0;
  build() {
    Row(){
      Column({space: 18}){
        Text(this.count.toString())
          .fontSize(50)
        Button('é¡¶çº§ç»„ä»¶').onClick( () =&gt; {
            this.count++
        })
        Divider()
        Child2()

      }
      .width('100%')

    }
    .height('100%')
  }
}

@ComponentV2
struct Child2 {
  @Consumer() count: number=0;
  build() {
    Column() {
      Text("å­ç»„ä»¶:"+this.count)
        .fontSize(40)
      Divider()
      Grand()
    }.backgroundColor(Color.Pink)
  }
}

@ComponentV2
struct Grand {
  @Consumer('count') myCount: number=0;
  build() {
    Column() {
      Text("å­™ç»„ä»¶")
        .fontSize(30)
      Text(this.myCount.toString())

      Button('ä¿®æ”¹').onClick( () =&gt; {
        this.myCount++
      })
    }.backgroundColor(Color.Green)
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b801916b500f4e48a2c6e54e25f7483d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=2PxPLhuBgkBiKowsy2LTwaAl7wg%3D" alt="ezgif-3e221696fdef9371.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>@Provider</code>å’Œ<code>@Consumer</code>ç”¨äºè·¨ç»„ä»¶å±‚çº§æ•°æ®åŒå‘åŒæ­¥ï¼Œä½¿å…¶ä¸ç”¨æ‹˜æ³¥äºç»„ä»¶å±‚çº§</li>
<li><code>@Provider</code>ï¼Œå³æ•°æ®æä¾›æ–¹ï¼Œä½¿å…¶æ‰€æœ‰çš„å­ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡ <code>@Consumer</code>ç»‘å®šç›¸åŒçš„keyæ¥è·å–<code>@Provider</code>æä¾›çš„æ•°æ®</li>
<li><code>@Consumer</code>ï¼Œå³æ•°æ®æ¶ˆè´¹æ–¹ï¼Œå¯ä»¥é€šè¿‡ç»‘å®šåŒæ ·çš„keyè·å–æœ€è¿‘çˆ¶èŠ‚ç‚¹çš„<code>@Provider</code>çš„æ•°æ®ï¼Œå½“æŸ¥æ‰¾ä¸åˆ°<code>@Provider</code>çš„æ•°æ®æ—¶ï¼Œå°†ä¼šä½¿ç”¨æœ¬åœ°é»˜è®¤å€¼</li>
<li><code>@Provider</code>å’Œ<code>@Consumer</code>è£…é¥°æ•°æ®ç±»å‹éœ€è¦ä¸€è‡´</li>
</ul>
<h4 data-id="heading-26">2.1.6 @ObservedV2+@Trace</h4>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@ComponentV2
struct CartPage {
  @Local items: CartItem[] = [
    new CartItem(1, "å¯ä¹", 3),
    new CartItem(2, "è–¯ç‰‡", 6),
    new CartItem(3, "å·§å…‹åŠ›", 12)
  ]
  @Local totalPrice: number = 0

  /**
   * é‡æ–°è®¡ç®—æ€»ä»·
   */
  recalcTotal() {
    let total = 0
    for (let item of this.items) {
      total += item.count * item.price
    }
    this.totalPrice = total
  }

  build() {
    Column() {
      Text("è´­ç‰©è½¦")
        .fontSize(24)
        .margin(10)

      // å•†å“åˆ—è¡¨
      ForEach(this.items, (item: CartItem) =&gt; {
        CartItemRow({
          item: item,
          onCountChange: () =&gt; {
            this.recalcTotal()
          }
        })
      })

      Divider().margin({ top: 20 })

      // æ˜¾ç¤ºæ€»ä»·ï¼ˆä¸ä¼š undefinedï¼‰
      Text(`æ€»ä»·ï¼šï¿¥${this.totalPrice}`)
        .fontSize(22)
        .fontWeight(FontWeight.Bold)
        .margin(20)
    }.width('100%')
    .height('100%')
    .onAppear(() =&gt; {
      this.recalcTotal() // åˆæ¬¡è®¡ç®—
    })
  }
}


@ComponentV2
struct CartItemRow {
  @Param @Require item: CartItem
  @Param @Require onCountChange: () =&gt; void 

  build() {
    Row() {
      Text(this.item.name)
        .width(120)

      Text(`ï¿¥${this.item.price}`)
        .width(60)
        .fontColor(Color.Grey)

      Button("-")
        .onClick(() =&gt; {
          if (this.item.count &gt; 1) {
            this.item.count--
            this.onCountChange()
          }
        })

      Text(`${this.item.count}`)
        .width(30)
        .textAlign(TextAlign.Center)

      Button("+")
        .onClick(() =&gt; {
          this.item.count++
          this.onCountChange()
        })
    }
    .padding(10)
  }
}


@ObservedV2
class CartItem {
  id: number
  name: string
  price: number
  @Trace count: number

  constructor(id: number, name: string, price: number, count: number = 1) {
    this.id = id
    this.name = name
    this.price = price
    this.count = count
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a3a298018d449528b11f1ed0f18c47f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=YQJp42sNe%2BDHfZ3Mnrc0VKzt%2F3k%3D" alt="ezgif-5cfcd6a8cee143b6.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>@ObservedV2</code>è£…é¥°çš„ç±»ä¸­è¢«<code>@Trace</code>è£…é¥°çš„å±æ€§å…·æœ‰è¢«è§‚æµ‹å˜åŒ–çš„èƒ½åŠ›ï¼Œå½“è¯¥å±æ€§å€¼å˜åŒ–æ—¶ï¼Œä¼šè§¦å‘è¯¥å±æ€§ç»‘å®šçš„UIç»„ä»¶åˆ·æ–°ã€‚</li>
<li>é<code>@Trace</code>ä¿®é¥°çš„å˜é‡ï¼Œå‘ç”Ÿæ”¹å˜ä¸ä¼šè§¦å‘UIæ›´æ–°</li>
<li><code>@Trace</code>å¿…é¡»æ­é…<code>@ObservedV2</code>ä½¿ç”¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨</li>
<li>ç­‰åŒäºV1ç‰ˆæœ¬çš„<code>@Observed + @ObjectLink</code>ï¼ŒV1ç‰ˆæœ¬ä¿®é¥°çš„ç±»åªè¦å‘ç”Ÿæ”¹å˜å°±ä¼šè§¦å‘UIæ›´æ–°ï¼Œä½†V2ç‰ˆæœ¬ä»…ä»…åªæœ‰<code>@Trace</code>è£…é¥°çš„å˜é‡æ‰ä¼šæ›´æ–°ã€‚ä¹Ÿå°±æ˜¯è¯´V2èƒ½ç²¾å‡†æ§åˆ¶UIåˆ·æ–°çš„å±æ€§</li>
</ul>
<h4 data-id="heading-27">2.1.7 @Computer</h4>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@ComponentV2
struct CartPage {
  @Local items: CartItem[] = [
    new CartItem(1, "å¯ä¹", 3),
    new CartItem(2, "è–¯ç‰‡", 6),
    new CartItem(3, "å·§å…‹åŠ›", 12)
  ]
  // @Local totalPrice: number = 0

  /**
   * é‡æ–°è®¡ç®—æ€»ä»· ä½¿ç”¨äº† @Computed
   */
   @Computed get recalcTotal():number {
    let total = 0
    for (let item of this.items) {
      total += item.count * item.price
    }
    // this.totalPrice = total
    return total
  }

  build() {
    Column() {
      Text("è´­ç‰©è½¦")
        .fontSize(24)
        .margin(10)

      // å•†å“åˆ—è¡¨
      ForEach(this.items, (item: CartItem) =&gt; {
        CartItemRow({
          item: item,
          onCountChange: () =&gt; {
            this.recalcTotal
          }
        })
      })

      Divider().margin({ top: 20 })

      // æ˜¾ç¤ºæ€»ä»·ï¼ˆä¸ä¼š undefinedï¼‰
      Text(`æ€»ä»·ï¼šï¿¥${this.recalcTotal}`)
        .fontSize(22)
        .fontWeight(FontWeight.Bold)
        .margin(20)
    }.width('100%')
    .height('100%')
    .onAppear(() =&gt; {
      this.recalcTotal // åˆæ¬¡è®¡ç®—
    })
  }
}


@ComponentV2
struct CartItemRow {
  @Param @Require item: CartItem
  @Param @Require onCountChange: () =&gt; void

  build() {
    Row() {
      Text(this.item.name)
        .width(120)

      Text(`ï¿¥${this.item.price}`)
        .width(60)
        .fontColor(Color.Grey)

      Button("-")
        .onClick(() =&gt; {
          if (this.item.count &gt; 1) {
            this.item.count--
            this.onCountChange()
          }
        })

      Text(`${this.item.count}`)
        .width(30)
        .textAlign(TextAlign.Center)

      Button("+")
        .onClick(() =&gt; {
          this.item.count++
          this.onCountChange()
        })
    }
    .padding(10)
  }
}


@ObservedV2
class CartItem {
  id: number
  name: string
  price: number
  @Trace count: number

  constructor(id: number, name: string, price: number, count: number = 1) {
    this.id = id
    this.name = name
    this.price = price
    this.count = count
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a3a298018d449528b11f1ed0f18c47f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=YQJp42sNe%2BDHfZ3Mnrc0VKzt%2F3k%3D" alt="ezgif-5cfcd6a8cee143b6.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>@Computed</code>ä¸ºæ–¹æ³•è£…é¥°å™¨ï¼Œè£…é¥°getteræ–¹æ³•</li>
<li><code>@Computed</code>ä¼šæ£€æµ‹è¢« è®¡ç®—çš„å±æ€§å˜åŒ–ï¼Œå½“è¢«è®¡ç®—çš„å±æ€§å˜åŒ–æ—¶ï¼Œ<code>@Computed</code>ä¼šè¢«æ±‚è§£ä¸€æ¬¡ã€‚</li>
<li>å¯¹äºå¤æ‚çš„è®¡ç®—ï¼Œä½¿ç”¨<code>@Computed</code>ä¼šæœ‰æ€§èƒ½æ”¶ç›Š</li>
</ul>
<p>æ—¢ç„¶V1æœ‰åº”ç”¨çŠ¶æ€ç®¡ç†ï¼Œé‚£ä¹ˆV2ä¹Ÿæœ‰å¯¹åº”çš„åº”ç”¨çŠ¶æ€ç®¡ç†</p>
<h3 data-id="heading-28">2.2 åº”ç”¨çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-29">2.2.1 AppStorageV2</h4>
<h5 data-id="heading-30">2.2.1.1 ç¤ºä¾‹ä¸€</h5>
<p><strong>AppStoragePage1</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { promptAction, router, AppStorageV2 } from '@kit.ArkUI';

@ObservedV2
export class User {
  userId: number
  @Trace phone: string;
  @Trace userName: string;

  constructor(userId?: number, phone?: string, userName?: string) {
    this.userId = userId ?? 1;
    this.phone = phone ?? '';
    this.userName = userName ?? 'Jack';
  }
}

@Entry
@ComponentV2
struct AppStoragePage1 {
  @Local phone: string = ''
  @Local name: string = ''
  @Local user: User = AppStorageV2.connect&lt;User&gt;(User, () =&gt; new User())!;

  build() {
    Column({ space: 20 }) {
      Text("æ•°æ®æäº¤")
        .fontSize(30)
        .fontWeight(FontWeight.Bold)
        .margin({ top: 40 })

      /** æ‰‹æœºå·è¾“å…¥æ¡† */
      Row() {
        TextInput({ placeholder: 'å§“å' })
          .type(InputType.Normal)
          .maxLength(11)
          .onChange(v =&gt; this.name = v)
      }
      .padding(12)
      .backgroundColor('#F7F7F7')
      .borderRadius(8)
      .width('85%')


      /** æ‰‹æœºå·è¾“å…¥æ¡† */
      Row() {
        TextInput({ placeholder: 'è¯·è¾“å…¥æ‰‹æœºå·' })
          .type(InputType.Number)
          .maxLength(11)
          .onChange(v =&gt; this.phone = v)
      }
      .padding(12)
      .backgroundColor('#F7F7F7')
      .borderRadius(8)
      .width('85%')

      /** æäº¤æŒ‰é’® */
      Button("æäº¤æ•°æ®")
        .width('85%')
        .height(45)
        .backgroundColor('#007DFF')
        .fontColor(Color.White)
        .borderRadius(8)
        .onClick(() =&gt; this.submit())

    }
    .height('100%')
    .width('100%')
  }

  private submit() {
    if (this.name === '') {
      this.toast("è¯·è¾“å…¥å§“å")
      return
    }
    if (this.phone === '') {
      this.toast("è¯·è¾“å…¥æ‰‹æœºå·")
      return
    }
    // //å‘AppStorageä½œç”¨åŸŸä¸­æ”¾ç½®äº†ä¸€ä¸ªstringæ•°æ®
    // AppStorage.setOrCreate&lt;string&gt;("name", this.name)
    // AppStorage.setOrCreate&lt;string&gt;("phone", this.phone)
    this.user.phone = this.phone
    this.user.userName = this.name
    router.pushUrl({ url: "pages/AppStoragePage2" })
  }

  private toast(msg: string) {
    promptAction.showToast({ message: msg })
  }
}
</code></pre>
<p><strong>é¢„è§ˆæ•ˆæœ</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e34b1fb91a504899877dc237fa2f38dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=bYDDUsvaMafZDZfqSyIBcJu0yac%3D" alt="229189149229136182-2025-12-14-165132.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p>
<ul>
<li><code>AppStorageV2</code>æ˜¯æä¾›çŠ¶æ€å˜é‡åœ¨åº”ç”¨çº§å…¨å±€å…±äº«çš„èƒ½åŠ›ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡<code>connect</code>ç»‘å®šåŒä¸€ä¸ª<code>key</code>ï¼Œè¿›è¡Œè·¨abilityçš„æ•°æ®å…±äº«</li>
<li><code>AppStorageV2</code>ä½¿ç”¨<code>connect</code>æ¥å£å³å¯å®ç°å¯¹<code>AppStorageV2</code>ä¸­æ•°æ®çš„ä¿®æ”¹å’ŒåŒæ­¥ï¼Œå¦‚æœä¿®æ”¹çš„æ•°æ®è¢«<code>@Trace</code>è£…é¥°ï¼Œè¯¥æ•°æ®çš„ä¿®æ”¹ä¼šåŒæ­¥æ›´æ–°UIã€‚</li>
<li><code>AppStorageV2</code>ä½¿ç”¨<code>connect</code>æ¥å£åªæ”¯æŒclassç±»å‹</li>
</ul>
<h4 data-id="heading-31">2.2.2 PersistenceV2</h4>
<h5 data-id="heading-32">2.2.2.1 ç¤ºä¾‹ä¸€</h5>
<p><strong>PersistentStoragePage</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { router, PersistenceV2 } from '@kit.ArkUI';


@ObservedV2
export class User {
  userId: number
  @Trace userName: string;

  constructor(userId?: number, userName?: string) {
    this.userId = userId ?? 1;
    this.userName = userName ?? 'Jack';
  }
}

@Entry
@ComponentV2
struct PersistentStoragePage {
  @Local user: User = PersistenceV2.connect&lt;User&gt;(User, () =&gt; new User())!

  build() {
    Column({space:10}) {
      Text(this.user.userName)
        .id('PersistentStoragePageHelloWorld')
        .fontSize(50)
        .fontWeight(FontWeight.Bold)


      Button('ä¿®æ”¹å€¼').onClick(() =&gt; {
        this.user.userName="hqk"
      })

      Button('è·³è½¬åˆ°2').onClick(() =&gt; {
        router.pushUrl({ url: 'pages/PersistentStoragePage2' })
      })
    }
    .height('100%')
    .width('100%')
  }
}
</code></pre>
<p><strong>PersistentStoragePage2</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">import { User } from './PersistentStoragePage'
import { PersistenceV2 } from '@kit.ArkUI'

@Entry
@ComponentV2
struct PersistentStoragePage2 {

  @Local user: User = PersistenceV2.connect&lt;User&gt;(User, () =&gt; new User())!
  build() {

    Column(){
      Text(this.user.userName)
        .id('PersistentStoragePageHelloWorld')
        .fontSize(50)
        .fontWeight(FontWeight.Bold)
        .alignRules({
          center: { anchor: '__container__', align: VerticalAlign.Center },
          middle: { anchor: '__container__', align: HorizontalAlign.Center }
        })

    }
    .width('100%')
    .height('100%')
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a2f70ac79384b759c2e0cf837c06243~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=lvnxRNJt1UvXQ4mFKjTz5fRiFr8%3D" alt="ezgif-72db3aaebe326936.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>PersistenceV2</code>èƒ½å°†æ•°æ®å­˜å‚¨åœ¨è®¾å¤‡ç£ç›˜ä¸Šï¼ˆæŒä¹…åŒ–ï¼‰</li>
<li><code>PersistenceV2</code>å¯ä»¥å’ŒUIç»„ä»¶åŒæ­¥ï¼Œä¸”å¯ä»¥åœ¨åº”ç”¨ä¸šåŠ¡é€»è¾‘ä¸­è¢«è®¿é—®ï¼Œéœ€è¦å’Œ@ObservedV2å¯¹è±¡å…³è”ï¼Œä¸”å¯¹åº”å˜é‡éœ€è¦è¢«<code>@Trace</code>æ‰€ä¿®é¥°</li>
<li>å•ä¸ªkeyæ”¯æŒæ•°æ®å¤§å°çº¦8kï¼Œè¿‡å¤§ä¼šå¯¼è‡´æŒä¹…åŒ–å¤±è´¥</li>
<li>æŒä¹…åŒ–çš„æ•°æ®å¿…é¡»æ˜¯classå¯¹è±¡ï¼Œå¦‚æœéœ€è¦æŒä¹…åŒ–éclasså¯¹è±¡ï¼Œå»ºè®®ä½¿ç”¨<code>Persistence</code>è¿›è¡Œæ•°æ®æŒä¹…åŒ–</li>
</ul>
<h3 data-id="heading-33">2.3 å…¶ä»–çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-34">2.3.1 @Monitor</h4>
<h5 data-id="heading-35">2.3.1.1 ç¤ºä¾‹ä¸€</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@ComponentV2
struct PageWatch {
  //ç›‘å¬æŸä¸ªå˜é‡çš„å€¼ï¼Œè¿™ä¸ªå€¼å¦‚æœå‘ç”Ÿæ”¹åŠ¨ï¼Œå°±ä¼šè§¦å‘ç›¸åº”çš„å‡½æ•°çš„æ‰§è¡Œã€‚
  @Local money: number = 100
  @Local age:number=10

  @Local keyStr: string = ''
  @Local beforeStr: string = ''
  @Local nowStr: string = ''

  @Monitor('money','age')
  onStrChange(monitor: IMonitor) {
    const names: string[] = monitor.dirty
    this.keyStr = JSON.stringify(names)
    // console.log("hqk",JSON.stringify(names))
    monitor.dirty.forEach((path: string) =&gt; {
      this.beforeStr = `${monitor.value(path)?.before}`
      this.nowStr = `${monitor.value(path)?.now}`
      // console.log('hqk', monitor.value(path)?.before, 'æ”¹å˜åˆ°ï¼š', monitor.value(path)?.now)
    })
  }

  build() {
    Column({space:20}) {

      if (this.keyStr !== '') {
        Text(`å˜é‡${this.keyStr}è¢«ä¿®æ”¹`)
      }
      if (this.beforeStr!==''){
        Text(`å˜é‡${this.keyStr}ä¿®æ”¹å‰çš„å€¼ï¼š${this.beforeStr}`)
      }
      if (this.nowStr!==''){
        Text(`å˜é‡${this.keyStr}ä¿®æ”¹åçš„å€¼ï¼š${this.nowStr}`)
      }

      Button('ä¿®æ”¹å€¼Money').onClick(() =&gt; {
        this.money += 10
      })

      Button('ä¿®æ”¹å€¼Age').onClick(() =&gt; {
        this.age += 10
      })
    }
    .width('100%')
    .height('100%')
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed4bbfbbae6248219c356d0af0ae90aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=ZeeYTJxYgIRQrgpOXCWMfFyJ6r8%3D" alt="ezgif-3e7a0880e3af6a15.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­</p>
<ul>
<li><code>@Monitor</code>è£…é¥°å™¨ç”¨äºç›‘å¬çŠ¶æ€å˜é‡ä¿®æ”¹ï¼Œä½¿å¾—çŠ¶æ€å˜é‡å…·æœ‰æ·±åº¦ç›‘å¬çš„èƒ½åŠ›</li>
<li>å’Œ<code>@Watch</code>ç±»ä¼¼ï¼Œä¸è¿‡<code>@Monitor</code>èƒ½åŒæ—¶æ£€æµ‹å¤šä¸ªçŠ¶æ€å˜é‡</li>
</ul>
<h5 data-id="heading-36">2.3.1.2 ç¤ºä¾‹äºŒ</h5>
<pre><code class="hljs language-ArkTS" lang="ArkTS">
@ObservedV2
class UserInfo {
  @Trace name: string;
  @Trace age: number;

  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }
}

@Entry
@ComponentV2
struct UserProfile {

  @Local user: UserInfo = new UserInfo('hqk', 25);

 
  @Monitor('user.name', 'user.age')
  onUserInfoChange(monitor: IMonitor) {
    monitor.dirty.forEach((path: string) =&gt; {
      console.info(`[Monitor] ${path} changed: ${monitor.value(path)?.before} â†’ ${monitor.value(path)?.now}`);
    });
  }

  build() {
    Column({space :20}) {
      Text(`Name: ${this.user.name}`)
      Text(`Age: ${this.user.age}`)

      Button('Change Name')
        .onClick(() =&gt; {
          this.user.name += '*';
        })

      Button('Change Age')
        .onClick(() =&gt; {
          this.user.age += 1;
        })
    }.width('100%')
    .height('100%')
    .justifyContent(FlexAlign.Center)
  }
}
</code></pre>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c8cd6bec4294142aaf464c00fb59e55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=00Tzp0%2FHHhRKqN797LUtHsfBvxw%3D" alt="ezgif-8ec23a233ee42b61.gif" loading="lazy"/></p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><code>@Monitor</code>å¯ä»¥ç›‘å¬æ·±å±‚å±æ€§çš„å˜åŒ–ï¼Œè¯¥æ·±å±‚å±æ€§éœ€è¦è¢«<code>@Trace</code>è£…é¥°</li>
<li><code>@Monitor</code>å¯ä»¥åŒæ—¶ç›‘å¬å¤šä¸ªå±æ€§ï¼Œè¿™äº›å±æ€§ä¹‹é—´ç”¨","éš”å¼€</li>
</ul>
<p>OK,åˆ°è¿™é¸¿è’™çš„çŠ¶æ€ç®¡ç†å°±ç»“æŸäº†ï¼Œæ¥ä¸‹æ¥å‡†å¤‡è®²è§£é¸¿è’™çš„åº”ç”¨ç»“æ„ã€‚</p>
<h2 data-id="heading-37">3ã€åº”ç”¨ç»“æ„</h2>
<p>é¸¿è’™çš„åº”ç”¨ç»“æ„æœ‰ä¸¤ç§æ¨¡å‹ï¼šFAæ¨¡å‹ä¸Stageæ¨¡å‹ã€‚ç›®å‰æ¥è¯´FAæ¨¡å‹å·²ç»è¢«æ·˜æ±°äº†è€Œä¸”ä¸Stageæ¨¡å‹å·®å¼‚åŒ–éå¸¸å¤§ï¼Œå› æ­¤è¿™é‡Œå°±åªåˆ†æStageæ¨¡å‹ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªStageæ¨¡å‹åŸºæœ¬æ¦‚å¿µå›¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98898291a9d8469cb581c3754f9c25f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=zpG5fSz3wazr47%2Br6uJmoZyFWfU%3D" alt="QQ_1765856024719.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ç”±æµ…å…¥æ·±é€æ­¥åˆ†æ</p>
<ul>
<li>æˆ‘ä»¬å…ˆçœ‹æœ€ä¸‹é¢é‚£ä¸€æ’ï¼Œä»å³å¾€å·¦ä¾æ¬¡çœ‹ï¼š<strong>ä¸€ä¸ªAppå¯¹åº”äº†ä¸€ä¸ªApplicationï¼Œå¯¹åº”äº†ç‹¬æœ‰çš„ApplicationContext</strong></li>
<li>æ¥ç€æˆ‘ä»¬å†çœ‹å€’æ•°ç¬¬äºŒæ’ï¼š<strong>ä¸€ä¸ªHAPå¯¹åº”äº†ä¸€ä¸ªAbilityStageï¼Œä¹Ÿå¯¹åº”äº†ç‹¬æœ‰çš„AbilityStageContext</strong></li>
<li>è€Œä¸€ä¸ªHAPåŒ…å«å¤šä¸ªUIAbilityï¼Œ<strong>ä¸WindowStageã€Windowã€ä¿æŒä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œä¸ArkUI Pageä¿æŒä¸€å¯¹å¤šçš„å…³ç³»</strong></li>
</ul>
<p>é‚£ç°åœ¨é—®é¢˜æ¥äº†ï¼Œé‚£ä¸ªæ‰€è°“çš„HAPæ˜¯ä»€ä¹ˆç©æ„å„¿å‘¢ï¼Ÿ</p>
<h3 data-id="heading-38">3.1 åº”ç”¨ç¨‹åºåŒ…</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ded1f2532b0d465d8c75b689ad11b20d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=sL4P7U7Agv2%2FPsrwoxYJZjTHDyU%3D" alt="QQ_1765869962113.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>åº”ç”¨ç¨‹åºåŒ…å¯ä»¥<strong>åªåŒ…å«ä¸€ä¸ªåŸºç¡€çš„entryåŒ…</strong>ï¼Œä¹Ÿå¯ä»¥åŒ…å«ä¸€ä¸ªåŸºç¡€çš„entryåŒ…å’Œå¤šä¸ªåŠŸèƒ½æ€§çš„featureåŒ…ã€‚</li>
<li>æ¯ä¸ªHAPå¯¹åº”é…ç½®æ–‡ä»¶<code>module.json5</code><strong>ä½ç½®åœ¨ï¼šxxæ¨¡å—å/src/main/module.json5</strong></li>
<li>HAPåŒ…æ˜¯ç”±ä»£ç ã€èµ„æºã€ç¬¬ä¸‰æ–¹åº“ã€é…ç½®æ–‡ä»¶ç­‰æ‰“åŒ…ç”Ÿæˆçš„æ¨¡å—åŒ…ï¼Œå…¶ä¸»è¦åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šentryå’Œfeatureã€‚
<ul>
<li>entryï¼šåº”ç”¨çš„ä¸»æ¨¡å—ï¼Œä½œä¸ºåº”ç”¨çš„å…¥å£ï¼Œæä¾›äº†åº”ç”¨çš„åŸºç¡€åŠŸèƒ½ã€‚</li>
<li>featureï¼šåº”ç”¨çš„åŠ¨æ€ç‰¹æ€§æ¨¡å—ï¼Œä½œä¸ºåº”ç”¨èƒ½åŠ›çš„æ‰©å±•ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚å’Œè®¾å¤‡ç±»å‹è¿›è¡Œé€‰æ‹©æ€§å®‰è£…ã€‚</li>
</ul>
</li>
</ul>
<p>åŒæ—¶ä¹Ÿè¯æ˜äº†ä¸€ä¸ªHAPåŒ…å«å¤šä¸ªUIAbilityï¼Œé‚£æˆ‘ä»¬å°±æ¥çœ‹çœ‹æ‰€è°“çš„UIAbility.</p>
<h4 data-id="heading-39">3.1.1 UIAbilityä»‹ç»</h4>
<p>ä»€ä¹ˆæ˜¯UIAbilityï¼Ÿ</p>
<ul>
<li>
<p>UIAbilityç»„ä»¶æ˜¯ä¸€ç§åŒ…å«UIç•Œé¢çš„åº”ç”¨ç»„ä»¶ï¼Œä¸»è¦ç”¨äºå’Œç”¨æˆ·äº¤äº’ã€‚</p>
</li>
<li>
<p>UIAbilityç»„ä»¶æ˜¯ç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•å…ƒï¼Œä¸ºåº”ç”¨æä¾›ç»˜åˆ¶ç•Œé¢çš„çª—å£ï¼›</p>
</li>
<li>
<p>æ¯ä¸€ä¸ªUIAbilityç»„ä»¶å®ä¾‹ï¼Œéƒ½å¯¹åº”ä¸€ä¸ªæœ€è¿‘çš„ä»»åŠ¡åˆ—è¡¨ä¸­çš„ä»»åŠ¡ï¼ˆå¯å‚è€ƒï¼šæœ¬æ–‡ï¼š1.2.2 AppStore ç¤ºä¾‹äºŒï¼‰</p>
</li>
<li>
<p>ä¸€ä¸ªUIAbilityç»„ä»¶ä¸­å¯ä»¥é€šè¿‡å¤šä¸ªé¡µé¢æ¥å®ç°ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œè€Œå¤šä¸ªé¡µé¢çš„è·³è½¬ä¸å‚æ•°ä¼ é€’åˆ™æ˜¯é€šè¿‡è·¯ç”±æ¥å®Œæˆï¼ˆç¨åè®²è§£ï¼‰</p>
</li>
</ul>
<p>è€Œå¤šä¸ªUIAbilityä¹‹é—´å¯ä»¥å®ç°ç›¸äº’è·³è½¬ï¼ˆåŒæ ·å‚è€ƒï¼šæœ¬æ–‡ï¼š1.2.2 AppStore ç¤ºä¾‹äºŒï¼‰</p>
<p>æ—¢ç„¶UIAbilityæœ‰è·³è½¬ï¼Œé‚£ä¹ˆå°±ä¼šå°±æœ‰å¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸ</p>
<h4 data-id="heading-40">3.1.2 UIAbilityç”Ÿå‘½å‘¨æœŸ</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a34d49301834edcbe836e9940f82b60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=ppTvOIyWNkzwZ7k0BvB2pWPEKLI%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œç”Ÿå‘½å‘¨æœŸå˜åŒ–å¦‚ä¸‹ï¼š</p>
<ul>
<li>onCreate()ï¼šå½“ç”¨æˆ·æ‰“å¼€æˆ–åˆ‡æ¢åˆ°åº”ç”¨æ—¶ï¼ŒUIAbilityè¢«åˆ›å»ºã€‚å°±å¥½åƒä½ æ‰“å¼€ä¸€ä¸ªåº”ç”¨ï¼Œåº”ç”¨çš„é¡µé¢è¢«å‘ˆç°åœ¨å±å¹•ä¸Šï¼›</li>
<li>onForeground()ï¼šå½“åº”ç”¨ç•Œé¢å¤„äºæ´»è·ƒçŠ¶æ€æ—¶ï¼Œå®ƒå¤„äºå‰å°çŠ¶æ€ã€‚è¿™å°±åƒä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªåº”ç”¨ï¼Œå®ƒæ˜¯å½“å‰çš„ç„¦ç‚¹</li>
<li>onBackground():å¦‚æœä½ åˆ‡æ¢åˆ°äº†å…¶ä»–åº”ç”¨ï¼ŒåŸæ¥çš„åº”ç”¨å°±è¿›å…¥äº†åå°çŠ¶æ€ã€‚UIAbilityä¹Ÿä¼šç›¸åº”çš„ä»å‰å°å˜æˆåå°çŠ¶æ€ã€‚</li>
<li>onDestroy()ï¼šå½“ä½ å…³é—­åº”ç”¨æˆ–è€…åº”ç”¨è¢«ç³»ç»Ÿé”€æ¯æ—¶ï¼ŒUIAbilityä¹Ÿä¼šè¢«é”€æ¯ã€‚å°±åƒä½ å…³é—­ä¸€ä¸ªåº”ç”¨ï¼Œå®ƒçš„ç•Œé¢æ¶ˆå¤±äº†</li>
</ul>
<p>æ—¢ç„¶UIAbilityèƒ½å¤Ÿè¢«åˆ›å»ºï¼Œé‚£ä¹ˆå°±ä¼šæœ‰å¯¹åº”çš„å¯åŠ¨æ¨¡å¼ã€‚</p>
<h4 data-id="heading-41">3.1.3 UIAbilityå¯åŠ¨æ¨¡å¼</h4>
<p>UIAbilityçš„å¯åŠ¨æ¨¡å¼æ˜¯æŒ‡UIAbilityå®ä¾‹åœ¨å¯åŠ¨æ—¶çš„ä¸åŒå‘ˆç°çŠ¶æ€ã€‚é’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ï¼Œç³»ç»Ÿæä¾›äº†ä¸‰ç§å¯åŠ¨æ¨¡å¼ã€‚</p>
<ul>
<li>
<p>singletonï¼šå•å®ä¾‹æ¨¡å¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0d92c2dd1444e7e956d96006bb04a06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=KnAts5YzEI4NUhyYuuKbQAVFqV8%3D" alt="0000000000011111111.20251216164032.56839417840799462044462024964320.gif" loading="lazy"/></p>
</li>
<li>
<p>multitonï¼šæ ‡å‡†å¤šå®ä¾‹æ¨¡å¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4db09f5952e141c0acfc4723e270bbe9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=7rJU00kkLcnY5joGgijBdxfnvRw%3D" alt="0000000000011111111.20251216164032.44819268877606056884279312217064.gif" loading="lazy"/></p>
</li>
<li>
<p>specifiedï¼šæŒ‡å®šå®ä¾‹æ¨¡å¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87b1e290df584dc2a66fc71d0e827422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=sNTKrTbz9LGyH5mGkxNwGcfSqJQ%3D" alt="0000000000011111111.20251216164032.35835215303035162549734666085126.gif" loading="lazy"/></p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ef556fa24304d78a52578e99fb2814b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=DGWhkq0lXgEAKFurv%2FCe%2BtgZ5mo%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>å¯¹åº”å¯åŠ¨æ¨¡å¼å¯åœ¨ å¯¹åº”æ¨¡å—ä¸‹çš„é…ç½®æ–‡ä»¶(module.json5)ï¼Œé…ç½®"launchType"å±æ€§</li>
</ul>
<p>é‚£é™¤äº†HAPï¼Œé¸¿è’™è¿˜æœ‰å“ªäº›åº”ç”¨ç¨‹åºåŒ…ç±»å‹å‘¢ï¼Ÿ</p>
<h4 data-id="heading-42">3.1.4 å…¶ä»–åº”ç”¨ç¨‹åºåŒ…ä»‹ç»</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac61409b859844139398600e6c22d1cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=vU3TJeHEJzsAQIaOufk7wzz79Fw%3D" alt="QQ_1765937124856.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œåº”ç”¨ç¨‹åºåŒ…ç±»å‹æœ‰ï¼š</p>
<ul>
<li>
<p>HAPï¼šå¸¦æœ‰ç•Œé¢çš„åº“</p>
</li>
<li>
<p>HARï¼šé™æ€å…±äº«åº“ï¼ˆAPI14åæ”¯æŒUIAbilityï¼‰</p>
<ul>
<li>æ”¯æŒåº”ç”¨å†…å…±äº«ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºäºŒæ–¹åº“ï¼ˆSDKï¼‰ã€ä¸‰æ–¹åº“ï¼ˆSDKï¼‰å‘å¸ƒåä¾›å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</li>
<li>ä½œä¸ºäºŒæ–¹åº“ï¼ˆSDKï¼‰ï¼Œå‘å¸ƒåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fide-ohpm-repo" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/ide-ohpm-repo" ref="nofollow noopener noreferrer">OHPMç§ä»“</a>ï¼Œä¾›å…¬å¸å†…éƒ¨å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</li>
<li>ä½œä¸ºä¸‰æ–¹åº“ï¼ˆSDKï¼‰ï¼Œå‘å¸ƒåˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fhome" target="_blank" title="https://ohpm.openharmony.cn/#/cn/home" ref="nofollow noopener noreferrer">OHPMä¸­å¿ƒä»“</a>ï¼Œä¾›å…¶ä»–åº”ç”¨ä½¿ç”¨ã€‚</li>
</ul>
</li>
<li>
<p>HSPï¼šåŠ¨æ€å…±äº«åº“</p>
<ul>
<li>åº”ç”¨å†…HSPï¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¸åº”ç”¨åŒ…åï¼ˆbundleNameï¼‰å¼ºè€¦åˆï¼Œåªèƒ½ç»™æŸä¸ªç‰¹å®šçš„åº”ç”¨ä½¿ç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Fdoc%2Fharmonyos-guides%2Fintegrated-hsp" target="_blank" title="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/integrated-hsp" ref="nofollow noopener noreferrer">é›†æˆæ€HSP</a>ï¼šæ„å»ºã€å‘å¸ƒè¿‡ç¨‹ä¸­ï¼Œä¸ä¸ç‰¹å®šçš„åº”ç”¨åŒ…åè€¦åˆï¼›ä½¿ç”¨æ—¶ï¼Œå·¥å…·é“¾æ”¯æŒè‡ªåŠ¨å°†é›†æˆæ€HSPçš„åŒ…åæ›¿æ¢æˆå®¿ä¸»åº”ç”¨åŒ…åï¼Œå¹¶ä¸”ä¼šé‡æ–°ç­¾åç”Ÿæˆä¸€ä¸ªæ–°çš„HSPåŒ…ï¼Œä½œä¸ºå®¿ä¸»åº”ç”¨çš„å®‰è£…åŒ…ï¼Œè¿™ä¸ªæ–°çš„HSPä¹Ÿå±äºå®¿ä¸»åº”ç”¨HAPçš„åº”ç”¨å†…HSP</li>
</ul>
</li>
</ul>
<p>è€ŒHARä¸HSPéƒ½å¯ä»¥å®ç°ä»£ç å’Œèµ„æºçš„å…±äº«ï¼ŒåŒæ—¶éƒ½ä¸æ”¯æŒç‹¬ç«‹å‘å¸ƒä¸Šæ¶ï¼Œå¿…é¡»ä¸å®¿ä¸»çš„APPåŒ…ä¸€èµ·å‘å¸ƒã€‚</p>
<p>OKï¼æ¥ä¸‹æ¥å°±æ˜¯æˆ‘ä»¬æœ€åä¸€ä¸ªçŸ¥è¯†ç‚¹äº†â€”â€”è·¯ç”±</p>
<h2 data-id="heading-43">4ã€è·¯ç”±</h2>
<p>é¡µé¢è·¯ç”±æŒ‡åœ¨åº”ç”¨ç¨‹åºä¸­å®ç°ä¸åŒé¡µé¢ä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ é€’ã€‚è€Œå®˜æ–¹ç›®å‰ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ç§è·¯ç”±è·³è½¬æ–¹å¼(<code>Router</code>ä¸<code>Navigation</code>)ã€‚</p>
<p>å…ˆæ¥çœ‹ä»¥å‰çš„è€ç‰Œå†›<code>Router</code></p>
<h3 data-id="heading-44">4.1 Router</h3>
<p>Routerçš„ä½¿ç”¨è·³è½¬éƒ½æ˜¯åŸºäºEntryä¿®é¥°çš„pageç»„ä»¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97ad3b3d8a6b4924b0c4068c60d4f0f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=JDDzELJ2GXVjpL7kO23qSz6MKPk%3D" alt="QQ_1765952108413.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼ŒRouteréƒ½æ˜¯åŸºäº<code>resources/base/profile/main-page.json</code>ä¸­çš„è·¯ç”±é…ç½®æ¥è·³è½¬çš„ã€‚</p>
<p>åŒæ—¶Routeræä¾›äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•</p>
<ul>
<li>
<p>pushUrl</p>
<ul>
<li>ç›®æ ‡é¡µé¢ä¸ä¼šæ›¿æ¢å½“å‰é¡µï¼Œè€Œæ˜¯å‹å…¥é¡µé¢æ ˆã€‚</li>
<li>ä¿ç•™å½“å‰é¡µçŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡è¿”å›é”®æˆ–è€…è°ƒç”¨<code>back</code>æ–¹æ³•è¿”å›å½“å‰é¡µ</li>
<li>è·³è½¬æä¾›äº†ä¸¤ç§å®ä¾‹æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯Standardå’ŒSingleï¼Œè¿™å†³å®šäº†ç›®æ ‡Urlæ˜¯å¦æœ‰å¤šä¸ªå®ä¾‹</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">router.pushUrl({
  url: 'pages/Detail' // ç›®æ ‡url
  }, router.RouterMode.Standard, (err) =&gt; {
  
  });
</code></pre>
</li>
<li>
<p>replaceUrl</p>
<ul>
<li>ç›®æ ‡é¡µé¢ä¼šæ›¿æ¢å½“å‰é¡µï¼Œå¹¶é”€æ¯å½“å‰é¡µ</li>
<li>é‡Šæ”¾å½“å‰é¡µçš„èµ„æºï¼Œå¹¶ä¸”æ— æ³•è¿”å›åˆ°å½“å‰é¡µ</li>
<li>è·³è½¬æä¾›äº†ä¸¤ç§å®ä¾‹æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯Standardå’ŒSingleï¼Œè¿™å†³å®šäº†ç›®æ ‡Urlæ˜¯å¦æœ‰å¤šä¸ªå®ä¾‹</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">router.replaceUrl({
  url: 'pages/Detail' // ç›®æ ‡url
  }, router.RouterMode.Single, (err) =&gt; {
  
  });
</code></pre>
</li>
<li>
<p>back è¿”å›é¡µé¢ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹å¼è¿”å›é¡µé¢</p>
<ul>
<li>æ–¹å¼ä¸€ï¼šè¿”å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">router.back();
</code></pre>
<ul>
<li>æ–¹å¼äºŒï¼šè¿”å›åˆ°æŒ‡å®šé¡µé¢</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">router.back({
  url: 'pages/Home'
});
</code></pre>
<ul>
<li>æ–¹å¼ä¸‰ï¼šè¿”å›åˆ°æŒ‡å®šé¡µé¢ï¼Œå¹¶ä¼ é€’è‡ªå®šä¹‰å‚æ•°ä¿¡æ¯</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">router.back({
  url: 'pages/Home',
  params: {
    info: 'æ¥è‡ªHomeé¡µ'
  }
});
</code></pre>
</li>
<li>
<p>clear</p>
<ul>
<li>æ¸…ç©ºé¡µé¢æ ˆä¸­çš„æ‰€æœ‰å†å²é¡µé¢ï¼Œä»…ä¿ç•™å½“å‰é¡µé¢ä½œä¸ºæ ˆé¡¶é¡µé¢</li>
</ul>
<pre><code class="hljs language-ArkTS" lang="ArkTS">router.clear()
</code></pre>
</li>
<li>
<p>getParams ï¼šè·å–ä¼ é€’çš„å‚æ•°</p>
</li>
<li>
<p>getState ï¼šè·å–å½“å‰è·¯ç”±çŠ¶æ€</p>
</li>
<li>
<p>getLength ï¼šè·å–å½“å‰æ‰€æœ‰çš„è·¯ç”±é•¿åº¦</p>
</li>
</ul>
<h4 data-id="heading-45">4.1.1 Routerè·å–</h4>
<p>ç›®å‰Routerè·å–æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<p>ä¸€æ˜¯é€šè¿‡<code>import</code>æ–¹å¼å¯¼å…¥<code>ArkUI</code>åº“è¿›è¡Œè·å–</p>
<pre><code class="hljs language-Ark" lang="Ark">import { router } from '@kit.ArkUI';

Button('è·³è½¬Bé¡µé¢').onClick( () =&gt; {
  router.pushUrl({url: 'pages/router/BPage'}, router.RouterMode.Single)
})

</code></pre>
<p>ä½†è¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼è‡´UIä¸Šä¸‹æ–‡ä¸æ˜ç¡®çš„é—®é¢˜ã€‚</p>
<p>ç¬¬äºŒç§æ–¹å¼é€šè¿‡<code>getUIContext().getRouter</code>è·å–ã€‚</p>
<pre><code class="hljs language-Ark" lang="Ark">import { router } from '@kit.ArkUI';

Button('è·³è½¬Bé¡µé¢').onClick( () =&gt; {
  this.getUIContext().getRouter().pushUrl({url: 'pages/router/BPage'}, router.RouterMode.Single)
})

</code></pre>
<p>å³ä½¿å¦‚æ­¤ï¼Œå®˜æ–¹è¿˜æ˜¯ä¸æ¨èä½¿ç”¨<code>Router</code>è·³è½¬é¡µé¢ï¼Œæ¨èä½¿ç”¨<code>Navigation</code>ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒå¦‚ä½•ä½¿ç”¨çš„ã€‚</p>
<h3 data-id="heading-46">4.2 Navigation</h3>
<p>ç»„ä»¶å¯¼èˆª(Navigation)ä¸»è¦ç”¨äºå®ç°Navigationé¡µé¢é—´çš„è·³è½¬ï¼Œæ”¯æŒåœ¨ä¸åŒNavigationé¡µé¢é—´ä¼ é€’å‚æ•°ï¼Œæä¾›çµæ´»çš„è·³è½¬æ ˆæ“ä½œï¼Œä»è€Œæ›´ä¾¿æ·åœ°å®ç°å¯¹ä¸åŒé¡µé¢çš„è®¿é—®å’Œå¤ç”¨ã€‚</p>
<p>åœ¨API version 9ä¸Šï¼ŒNavigationéœ€è¦é…åˆNavRouterç»„ä»¶å®ç°é¡µé¢è·¯ç”±ã€‚ä»API version 10å¼€å§‹ï¼Œæ›´æ¨èä½¿ç”¨NavPathStackå®ç°é¡µé¢è·¯ç”±ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬ç›´æ¥ç”¨NavPathStackå®ç°é¡µé¢è·¯ç”±ã€‚</p>
<h4 data-id="heading-47">4.2.1 ç¤ºä¾‹ä¸€ï¼š</h4>
<p><strong>NavigationExample.ets</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Entry
@Component
struct NavigationExample {
  pageInfos: NavPathStack = new NavPathStack();
  build() {
    Navigation(this.pageInfos) {
      Column() {
        Button('pushPath')
          .width('80%')
          .height(40)
          .margin(20)
          .onClick(() =&gt; {
            this.pageInfos.pushPath({ name: 'pageOne' },
              { launchMode: LaunchMode.POP_TO_SINGLETON })
          })
      }
    }.title('NavIndex')
  }
}
</code></pre>
<p><strong>æºç è§£æ</strong></p>
<ul>
<li>
<p>å®šä¹‰äº†<code>NavPathStack</code>å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨<code>build()</code>æœ€å¤–å±‚å¥—å…¥äº†<code>Navigation</code>ï¼Œå¹¶ä¼ å…¥äº†<code>NavPathStack</code>å¯¹è±¡</p>
</li>
<li>
<p>é¡µé¢è·³è½¬æ—¶å°±å¯ä»¥é€šè¿‡<code>NavPathStack</code>å¯¹è±¡è¿›è¡Œè·³è½¬ï¼Œå³å°†è·³è½¬è‡³<code>pageOne</code>é¡µé¢</p>
</li>
<li>
<p><code>launchMode</code>è¡¨ç¤ºé¡µé¢çš„è·³è½¬æ¨¡å¼</p>
<ul>
<li><code>STANDARD</code>ï¼šé»˜è®¤å¯¼èˆªå †æ ˆæ“ä½œæ¨¡å¼ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œæ¨é€æ“ä½œå°†æŒ‡å®šçš„NavDestinationé¡µé¢æ·»åŠ åˆ°å †æ ˆä¸­ï¼›æ›¿æ¢æ“ä½œæ›¿æ¢å½“å‰é¡¶éƒ¨å¯¼èˆªç›®æ ‡é¡µé¢</li>
<li><code>MOVE_TO_TOP_SINGLETON</code>ï¼šå½“å…·æœ‰æŒ‡å®šåç§°çš„NavDestinationå­˜åœ¨æ—¶ï¼Œå®ƒå°†è¢«ç§»åŠ¨åˆ°å †æ ˆé¡¶éƒ¨ï¼Œå¦åˆ™ï¼Œè¡Œä¸ºå°†ä¸STANDARDæ¨¡å¼ä¸€è‡´</li>
<li><code>POP_TO_SINGLETON</code>ï¼šå½“å…·æœ‰æŒ‡å®šåç§°çš„NavDestinationå­˜åœ¨æ—¶ï¼Œå †æ ˆå°†å¼¹å‡ºï¼Œç›´åˆ°è¯¥NavDestinationä¸ºæ­¢ï¼Œå¦åˆ™ï¼Œè¡Œä¸ºå°†ä¸STANDARDæ¨¡å¼ä¸€è‡´ã€‚</li>
<li><code>NEW_INSTANCE</code>ï¼šæ­¤æ¨¡å¼åˆ›å»ºNavDestinationçš„å®ä¾‹ã€‚ä¸STANDARDç›¸æ¯”ï¼Œæ­¤æ¨¡å¼ä¸é‡ç”¨å †æ ˆä¸­åŒåçš„å®ä¾‹ã€‚</li>
</ul>
</li>
</ul>
<p>è¿™ä¸ªæ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œå°±æ˜¯å¥—äº†ä¸€å±‚å£³ï¼Œç»§ç»­çœ‹ä¸‹ä¸€ä¸ªé¡µé¢</p>
<p><strong>PageOne</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">class TmpClass {
  count: number = 10;
}
@Builder
export function PageOneBuilder(name: string, param: Object) {
  PageOne()
}

@Component
export struct PageOne {
  pageInfos: NavPathStack = new NavPathStack();
  build() {
    NavDestination() {
      Column() {
        Button('pushPathByName')
          .width('80%')
          .height(40)
          .margin(20)
          .onClick(() =&gt; {
            let tmp = new TmpClass();
            this.pageInfos.pushPathByName('pageTwo', tmp); //å°†nameæŒ‡å®šçš„NavDestinationé¡µé¢ä¿¡æ¯å…¥æ ˆï¼Œä¼ é€’çš„æ•°æ®ä¸ºparam
          })

      }.width('100%').height('100%')
    }.title('pageOne')
    .onReady((context: NavDestinationContext) =&gt; {
      this.pageInfos = context.pathStack;
    })
  }
}
</code></pre>
<p><strong>PageTwo</strong></p>
<pre><code class="hljs language-ArkTS" lang="ArkTS">@Builder
export function PageTwoBuilder(name: string, param: Object) {
  PageTwo()
}

@Component
export struct PageTwo {
  pathStack: NavPathStack = new NavPathStack();

  build() {
    NavDestination() {
      Column() {
        Button('pushPathByName', { stateEffect: true, type: ButtonType.Capsule })
          .width('80%')
          .height(40)
          .margin(20)
          .onClick(() =&gt; {
            this.pathStack.pushPathByName('pageOne', null);
          })
      }.width('100%').height('100%')
    }.title('pageTwo')
    .onReady((context: NavDestinationContext) =&gt; {
      this.pathStack = context.pathStack;
      console.info(`current page config info is ${JSON.stringify(this.pathStack.getParamByName('pageTwo'))}`);
    })
  }
}
</code></pre>
<p><strong>æºç è§£æ</strong></p>
<ul>
<li>æ³¨æ„çœ‹<code>PageOne</code>ä¸<code>PageTwo</code>è¿™ä¸¤ä¸ªç»“æ„ä½“éƒ½æ²¡æœ‰<code>@Entry</code>ï¼Œå’Œ<code>Router</code>ä¸ä¸€æ ·ï¼Œé¡µé¢å¿…é¡»å«æœ‰<code>@Entry</code></li>
<li>å…¶æ¬¡éœ€è¦åˆ›å»ºå¯¹åº”çš„<code>Builder</code>ï¼Œç„¶ååˆå§‹åŒ–å¯¹åº”é¡µé¢çš„ç»“æ„ä½“</li>
<li>å¯¹åº”é¡µé¢å¦‚æœæƒ³è¦è·å–å‚æ•°ä»¥åŠè·³è½¬å…¶ä»–é¡µé¢ï¼Œé‚£ä¹ˆéœ€è¦ç›‘å¬<code>NavDestination</code>çš„<code>onReady</code>æ–¹æ³•ï¼Œå¹¶ä¸”é€šè¿‡<code>NavDestinationContext</code>è·å–<code>NavPathStack</code>å¯¹è±¡</li>
<li>å¦‚æœå¯¹åº”é¡µé¢æœ‰å‚æ•°ä¼ é€’è¿‡æ¥ï¼Œé‚£ä¹ˆè¿˜éœ€è¦é€šè¿‡<code>NavPathStack.getParamByName</code>è·å–å¯¹åº”å‚æ•°</li>
</ul>
<p>é‚£ä¹ˆåˆ°è¿™é‡Œï¼Œä»£ç å°±å®Œäº†ä¹ˆï¼Ÿæˆ‘ä»¬å…ˆæ¥è¿è¡Œä¸‹æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4aa88b2646264094ad1b5b2e9b2293b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=Wr9Swd3vmVHfCweMxAVPhaRhsuo%3D" alt="ezgif-6692903ced929fcb.gif" loading="lazy"/></p>
<p>å’¦ï¼Ÿå¥½åƒä¸æ˜¯æƒ³è¦çš„æ•ˆæœå‘¢ï¼</p>
<p>ä¸Šé¢ä¸æ˜¯å·²ç»æåˆ°è¿‡<code>PageOne</code>ä¸<code>PageTwo</code>è¿™ä¸¤ä¸ªç»“æ„ä½“éƒ½æ²¡æœ‰<code>@Entry</code>ï¼Œé‚£ä¹ˆä½¿ç”¨<code>NavDestination</code>æ—¶ï¼Œå­é¡µé¢éœ€è¦é¢å¤–æ·»åŠ é…ç½®</p>
<p>é¦–å…ˆåœ¨å¯¹åº”çš„<code>src/main/resources/base/profile</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>router_map.json</code>ï¼Œå¹¶å°†å¦‚ä¸‹å†…å®¹å¤åˆ¶ç²˜è´´è¿›å»</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"routerMap"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pageOne"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pageSourceFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/main/ets/pages/navigation/PageOne.ets"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"buildFunction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PageOneBuilder"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"this is pageOne"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pageTwo"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pageSourceFile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/main/ets/pages/navigation/PageTwo.ets"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"buildFunction"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"PageTwoBuilder"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>

<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶ååœ¨å¯¹åº”çš„<code>src/main/module.json5</code>é‡Œé¢<code>module</code>ç»“æ„ä¸‹ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç <code>"routerMap":"$profile:router_map"</code></p>
<p>æœ€åå†æ¬¡è¿è¡Œçœ‹çœ‹æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc9e94b405474b88bc80938e59a3d741~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=4y0C7WHncSyLjgekEfMyM5XkWNI%3D" alt="ezgif-343061c71bafc524.gif" loading="lazy"/></p>
<p>é‚£ä¸ºä»€ä¹ˆæ·»åŠ äº†è¿™äº›ä»£ç è¿è¡Œæ•ˆæœå°±è¾¾åˆ°äº†æƒ³è¦çš„å‘¢ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ed143b030a648d9b6c0cf97a4afe2ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=guz33Fr5%2Bj%2FR4HGs1RaOMX07dYQ%3D" alt="QQ_1765961127994.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>åœ¨<code>router_map.json</code>é…ç½®æ–‡ä»¶é‡Œï¼Œé…ç½®å¯¹åº”çš„å±æ€§</li>
<li>ç„¶ååœ¨<code>module.json5</code>é‡Œé¢é€šè¿‡<code>"routerMap":"$profile:router_map"</code>æŒ‡å®šé…ç½®æ–‡ä»¶</li>
</ul>
<p>æ˜¯ä¸æ˜¯è§‰å¾—å¾ˆéº»çƒ¦ï¼Ÿæ²¡é”™ï¼æˆ‘ä¹Ÿè§‰å¾—ï¼ä¸ä»…éº»çƒ¦ï¼Œè€Œä¸”è¿˜ä¸¥é‡ä¾µå…¥UIå…ƒç´ ï¼è¿˜ä¸å¦‚ç”¨å›Routerã€‚</p>
<p>ä¸è¿‡ç°åœ¨æœ‰ä¸ªä¸‰æ–¹åº“ï¼Œè§£å†³äº†å®˜æ–¹<code>Navigation</code>é…ç½®éº»çƒ¦çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹</p>
<h3 data-id="heading-48">4.3 HMRouter</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fohpm.openharmony.cn%2F%23%2Fcn%2Fdetail%2F%40hadss%252Fhmrouter" target="_blank" title="https://ohpm.openharmony.cn/#/cn/detail/@hadss%2Fhmrouter" ref="nofollow noopener noreferrer">ç‚¹æˆ‘è®¿é—®HMRouterä¸‰æ–¹åº“ä¸­å¿ƒä»“</a></p>
<p>å®˜æ–¹å·²ç»æœ‰éå¸¸è¯¦ç»†çš„é›†æˆä¸ä½¿ç”¨æ­¥éª¤ï¼Œæˆ‘è¿™å°±ä¸è¯¦ç»†åˆ†æäº†ï¼Œä¸è¿‡å¯ä»¥çœ‹çœ‹å®é™…ä½¿ç”¨æ•ˆæœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d045ae1df78649a29f2b67bcb9499463~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=KCBAAWXbI2ilTo9kMoDkc7zvKR4%3D" alt="QQ_1765963334860.png" loading="lazy"/></p>
<p>å¦‚å›¾æ‰€ç¤º</p>
<ul>
<li>é€šè¿‡<code>@HMRouter({pageUrl: 'PageHome'})</code>å®šä¹‰äº†è¯¥ç»„ä»¶çš„åç§°ï¼Œ</li>
<li>é€šè¿‡<code>HMRouterMgr.push</code>å¯ä»¥ç›´æ¥è·³è½¬è‡³å¯¹åº”åç§°çš„ç»„ä»¶</li>
</ul>
<p>æ¥çœ‹çœ‹æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/235ab3bdfd894518a87b9271fbdc2b0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHFr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766657283&amp;x-signature=2CZ%2BYKpn6pGXQdqlif88AieAbQs%3D" alt="ezgif-3a07a0a600c2be72.gif" loading="lazy"/></p>
<h2 data-id="heading-49">5ã€ç»“æŸè¯­</h2>
<p>OKï¼è¿™ç¯‡æ–‡ç« åˆ°è¿™å·²ç»ç»“æŸäº†ï¼Œä¸‹ä¸€ç¯‡å°†ä¼šè®²è§£é¸¿è’™åŠ¨ç”»ä»¥åŠå¤šåª’ä½“ç›¸å…³åŠŸèƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•åœ¨ Spring Boot ä¸­æ¥å…¥ Amazon ElastiCache]]></title>    <link>https://juejin.cn/post/7584370833705418767</link>    <guid>https://juejin.cn/post/7584370833705418767</guid>    <pubDate>2025-12-17T08:01:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584370833705418767" data-draft-id="7584377629707452451" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•åœ¨ Spring Boot ä¸­æ¥å…¥ Amazon ElastiCache"/> <meta itemprop="keywords" content="Java,Redis,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-17T08:01:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ†"/> <meta itemprop="url" content="https://juejin.cn/user/4182956056773160"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•åœ¨ Spring Boot ä¸­æ¥å…¥ Amazon ElastiCache
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4182956056773160/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T08:01:01.000Z" title="Wed Dec 17 2025 08:01:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç¼“å­˜åœ¨æœåŠ¡ç«¯æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œä»Šå¤©æˆ‘ä»¬æ¥èŠèŠæ€ä¹ˆæŠŠ <strong>Amazon ElastiCacheåº”ç”¨æ•´åˆåˆ° Spring Boot</strong> ä¸Šï¼Œè®©æœåŠ¡å“åº”æé€Ÿã€ç³»ç»Ÿæ•´ä½“è½»ç›ˆèµ·æ¥ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆä½ è¿Ÿæ—©è¦ä¸Šç¼“å­˜</h2>
<p>ä½ æœ‰å¤šå°‘æ¬¡åœ¨æ—¥å¿—é‡Œçœ‹ç€é‚£å‡ ç™¾æ¯«ç§’çš„ SQL å»¶è¿Ÿå¹æ°”ï¼Ÿå°¤å…¶å½“ç³»ç»Ÿè®¿é—®é‡ä¸Šå»ä¹‹åï¼Œæ¯æ¬¡éƒ½å»æŸ¥æ•°æ®åº“ï¼Œå°±åƒè®©äººæ¯æ¬¡åƒé¥­éƒ½å»æ€çŒªã€‚æ•°æ®åº“ä¸æ˜¯ä¸ç»™ä½ å¹²æ´»ï¼Œå®ƒåªæ˜¯ç´¯ã€‚</p>
<p>ç¼“å­˜å°±æ˜¯é‚£åªâ€œæå‰å¤‡å¥½çš„çŒªâ€ã€‚Â Â  ç®€å•è¯´ï¼Œå®ƒåœ¨å†…å­˜é‡Œå¸®ä½ ç•™å­˜ä¸€ä»½çƒ­æ•°æ®ï¼Œä¸‹æ¬¡è¯·æ±‚ç›´æ¥å–ï¼Œä¸å†æŸ¥æ•°æ®åº“ã€‚äºæ˜¯æ€§èƒ½æš´æ¶¨ã€å»¶è¿Ÿéª¤é™ã€‚</p>
<p>è€ŒÂ  <strong>ElastiCache</strong> æ˜¯ä¸€å¥—æ‰˜ç®¡çš„ç¼“å­˜æœåŠ¡ï¼Œ<strong>å…¼å®¹ Redis æˆ– Valkey å¼•æ“</strong>ï¼Œæ€§èƒ½å¯ç›´æ¥èµ·é£ã€‚å®˜æ–¹è¯´å®ƒèƒ½æ”¯æŒâ€œç™¾ä¸‡çº§æ¯ç§’æ“ä½œã€å¾®ç§’çº§å“åº”â€ï¼Œå¯¹ Spring Boot åº”ç”¨æ¥è¯´ç®€ç›´æ˜¯æ’ä¸Šç¿…è†€ã€‚</p>
<hr/>
<p>å¦‚æœä½ æ²¡æœ‰äºšé©¬é€Šäº‘è´¦å·ï¼Œå¯ä»¥å…ˆå» <a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Ffree%3Ftrk%3D7d27709e-0bfa-419d-808b-7b9e24f4f9d9%26sc_channel%3Dsm" target="_blank" title="https://aws.amazon.com/cn/free?trk=7d27709e-0bfa-419d-808b-7b9e24f4f9d9&amp;sc_channel=sm" ref="nofollow noopener noreferrer">äºšé©¬é€Šäº‘ç§‘æŠ€å®˜ç½‘</a> æ³¨å†Œä¸€ä¸ªï¼Œæ³¨å†Œå®Œæˆåå¯ä»¥é¢†å–æœ€å°‘6ä¸ªæœˆçš„ ElastiCache å…è´¹å¥—é¤ã€‚</p>
<h2 data-id="heading-1">äºŒã€Spring Boot + ElastiCache çš„ç»„åˆæ€è·¯</h2>
<p>æ•´åˆæ€è·¯å…¶å®ç‰¹åˆ«ç›´æ¥ï¼Œåˆ†å‡ å±‚æ¥çœ‹ï¼š</p>
<ol>
<li><strong>åº”ç”¨å±‚</strong>ï¼šSpring Boot æä¾›äº†ç¼“å­˜æŠ½è±¡ï¼ˆ<code>@EnableCaching</code>ã€<code>@Cacheable</code> ç­‰ï¼‰ã€‚</li>
<li><strong>ç¼“å­˜å±‚</strong>ï¼šElastiCache è´Ÿè´£æ‰˜ç®¡ Redis æœåŠ¡ï¼Œè‡ªåŠ¨ä¼¸ç¼©ã€è‡ªåŠ¨å¤‡ä»½ã€è‡ªåŠ¨ä¿®å¤ã€‚</li>
<li><strong>è¿è¡Œé€»è¾‘</strong>ï¼š
<ul>
<li>å…ˆæŸ¥ç¼“å­˜</li>
<li>
<ul>
<li>æœ‰ â†’ ç›´æ¥è¿”å›ï¼› Â  Â </li>
</ul>
</li>
<li>
<ul>
<li>æ²¡ â†’ æŸ¥æ•°æ®åº“ï¼Œå†æŠŠç»“æœæ”¾è¿›ç¼“å­˜ã€‚</li>
</ul>
</li>
</ul>
</li>
<li><strong>é…ç½®å±‚</strong>ï¼šSpring Boot é… Redis å®¢æˆ·ç«¯ã€è¿æ¥ä¿¡æ¯ã€TTLã€SSL ç­‰ã€‚</li>
</ol>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ•°æ®åº“çš„å‹åŠ›èƒ½è¢«æ˜æ˜¾å‰Šå‡ï¼ŒæœåŠ¡çš„å“åº”é€Ÿåº¦ä¹Ÿæ›´ç¨³å®šã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€åŠ¨æ‰‹æ•´åˆï¼šSpring Boot ç«¯é…ç½®</h2>
<p>æˆ‘ä»¬ç›´æ¥æ¥å®æ“ä¸‹ï¼Œä¸€æ­¥æ­¥æèµ·æ¥ã€‚</p>
<h3 data-id="heading-3">1. åŠ ä¾èµ–</h3>
<p>åœ¨ <code>pom.xml</code> é‡ŒåŠ å…¥ä¸¤è¡Œä¾èµ–å°±è¡Œï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>ç¬¬ä¸€ä¸ªæ˜¯ç¼“å­˜æŠ½è±¡å±‚ï¼Œç¬¬äºŒä¸ªæ˜¯ Redis å®ç°å±‚ã€‚å®ƒä¿©æ­é…ï¼Œå°±æ˜¯å®˜æ–¹æ ‡å‡†å¥—è·¯ã€‚</p>
<h3 data-id="heading-4">2. å¯ç”¨ç¼“å­˜åŠŸèƒ½</h3>
<p>åœ¨ä¸»ç±»æˆ–è€…é…ç½®ç±»ä¸Šæ ‡æ³¨ <code>@EnableCaching</code>ï¼Œå°±èƒ½è®© Spring Boot è¯†åˆ«ç¼“å­˜æ³¨è§£ã€‚</p>
<p>ç„¶ååœ¨ä½ çš„ä¸šåŠ¡æ–¹æ³•ä¸ŠåŠ ä¸ª <code>@Cacheable</code>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheableComponent</span> {
Â  <span class="hljs-meta">@Cacheable</span>(<span class="hljs-string">"userCache"</span>)
Â  <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getUserInfo</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> uid</span>) {
Â  Â  Â  <span class="hljs-comment">// æ¨¡æ‹Ÿä¸€æ¬¡æ•°æ®åº“è°ƒç”¨</span>
Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-title function_">queryUserFromDB</span>(uid);
Â  }
}
</code></pre>
<p>ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šè§¦å‘å®é™…é€»è¾‘ï¼Œä¹‹åçš„è°ƒç”¨ç›´æ¥ä»ç¼“å­˜è¿”å›ã€‚Â Â  Spring Boot ä¼šè‡ªåŠ¨å¸®ä½ å¤„ç† key ç”Ÿæˆå’Œç¼“å­˜å†™å…¥ï¼Œéå¸¸çœå¿ƒã€‚</p>
<h3 data-id="heading-5">3. é…ç½® Redis è¿æ¥</h3>
<p>åœ¨ <code>application.yml</code> ä¸­é…ç½® ElastiCache çš„è¿æ¥åœ°å€å’Œ TTLï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
Â  <span class="hljs-attr">data:</span>
Â  Â  <span class="hljs-attr">redis:</span>
Â  Â  Â  <span class="hljs-attr">host:</span> <span class="hljs-string">my-elasticache-endpoint.amazonaws.com</span>
Â  Â  Â  <span class="hljs-attr">ssl:</span>
Â  Â  Â  Â  <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
Â  <span class="hljs-attr">cache:</span>
Â  Â  <span class="hljs-attr">redis:</span>
Â  Â  Â  <span class="hljs-attr">time-to-live:</span> <span class="hljs-string">10m</span>
</code></pre>
<p>è§£é‡Šä¸€ä¸‹ï¼š</p>
<ul>
<li><code>host</code> å°±æ˜¯ä½ çš„ ElastiCache å®ä¾‹åœ°å€ï¼›</li>
<li><code>ssl.enabled</code> å¦‚æœä½ å¯ç”¨äº†åŠ å¯†ï¼›</li>
<li><code>time-to-live</code> æ§åˆ¶ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ï¼Œè¿™é‡Œè®¾ 10 åˆ†é’Ÿã€‚</li>
</ul>
<p>è¿™å‡ è¡Œé…ç½®åŸºæœ¬èƒ½è®©ç¼“å­˜ç³»ç»Ÿè·‘èµ·æ¥ï¼Œå’±ä»¬å°±å…ˆç”¨è¿™ä¸ªç®€å•çš„é¡¹ç›®ä½œä¸ºç¤ºä¾‹ã€‚</p>
<h2 data-id="heading-6">å››ã€Amazon ç«¯å‡†å¤‡ï¼šå»ºä¸ª ElastiCache å®ä¾‹</h2>
<p>å¦‚æœä½ è¿˜æ²¡åœ¨ Amazon ä¸Šå¼€ç¼“å­˜æœåŠ¡ï¼Œå¯ä»¥ç›´æ¥ç”¨ â€œServerless ElastiCache for Redisâ€ ç‰ˆæœ¬ã€‚Â Â  å®˜æ–¹æä¾›äº†å‘½ä»¤è¡Œç¤ºä¾‹ï¼Œå¤§è‡´æ˜¯è¿™æ ·ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">aws elasticache <span class="hljs-built_in">create</span>-serverless-cache \
Â  <span class="hljs-comment">--serverless-cache-name spring-demo \</span>
Â  <span class="hljs-comment">--engine redis \</span>
Â  <span class="hljs-comment">--subnet-ids subnet-xxxx subnet-yyyy</span>
</code></pre>
<p>åˆ›å»ºå®Œä¹‹åï¼Œå†æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-css" lang="css">aws elasticache describe-serverless-caches \
Â  <span class="hljs-attr">--serverless-cache-name</span> spring-demo \
Â  <span class="hljs-attr">--query</span> "ServerlessCaches<span class="hljs-selector-attr">[0]</span><span class="hljs-selector-class">.Endpoint</span><span class="hljs-selector-class">.Address</span>"
</code></pre>
<p>è¿™ä¸€æ­¥ä¼šè¿”å›ç¼“å­˜çš„ endpointï¼ŒæŠŠå®ƒè´´åˆ°ä½ çš„ <code>application.yml</code> é‡Œå°±è¡Œã€‚Â Â  åˆ«å¿˜äº†æ‰“å¼€å®‰å…¨ç»„è®¿é—®è§„åˆ™ï¼Œè®©ä½ çš„åº”ç”¨ä¸»æœºèƒ½è®¿é—®ç¼“å­˜çš„ 6379 ç«¯å£ã€‚</p>
<h2 data-id="heading-7">äº”ã€è·‘èµ·æ¥è¯•è¯•</h2>
<p>æ¥ä¸‹æ¥å°±æ˜¯éªŒè¯ç¼“å­˜æ•ˆæœäº†ã€‚è¿è¡Œåº”ç”¨åï¼Œç¬¬ä¸€æ¬¡è¯·æ±‚æ¥å£æ—¶æ—¥å¿—ä¼šæ˜¾ç¤ºå®é™…æ–¹æ³•è¢«æ‰§è¡Œï¼›</p>
<p>ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œä½ ä¼šå‘ç°æ–¹æ³•ä½“ä¸å†æ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®ã€‚</p>
<p>è¿™æ—¶å€™ä½ å°±çŸ¥é“ï¼Œå®ƒå·²ç»æˆåŠŸè·‘èµ·æ¥äº†ã€‚</p>
<p>å¤šè¯´ä¸€å¥ï¼ŒElastiCache ç°åœ¨è¿˜æ”¯æŒä¸€ä¸ªå« <strong>Valkey</strong> çš„ Redis å…¼å®¹å¼•æ“ã€‚</p>
<p>å®ƒçš„å¥½å¤„æ˜¯å¼€æºã€å…¼å®¹ã€å¯ç›´æ¥æ›¿æ¢ã€‚å¦‚æœä½ æƒ³è¯•è¯•æ›´å¼€æ”¾çš„æ–¹æ¡ˆï¼Œåªéœ€è¦åœ¨åˆ›å»ºå®ä¾‹æ—¶æŠŠå¼•æ“å‚æ•°ä» <code>redis</code> æ”¹æˆ <code>valkey</code> å³å¯ã€‚Spring Boot è¿™è¾¹çš„ä»£ç å®Œå…¨ä¸ç”¨æ”¹ã€‚</p>
<h2 data-id="heading-8">å…­ã€è¸©å‘è­¦ç¤º</h2>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„æ³¨æ„äº‹é¡¹ï¼Œæ¯ä¸€ä½æœåŠ¡ç«¯ç¨‹åºå‘˜éƒ½åº”è¯¥äº†è§£ï¼š</p>
<ol>
<li><strong>åºåˆ—åŒ–æ ¼å¼</strong>ï¼šé»˜è®¤ JDK åºåˆ—åŒ–æ•ˆç‡ä¸é«˜ï¼Œå»ºè®®æ”¹æˆ JSON æˆ– Kryoã€‚</li>
<li><strong>ç¼“å­˜å¤±æ•ˆç­–ç•¥</strong>ï¼šTTL è®¾ç½®è¦åˆç†ï¼Œé¿å…ç¼“å­˜é›ªå´©ã€‚</li>
<li><strong>ç›‘æ§</strong>ï¼šç”¨ CloudWatch ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡ã€å»¶è¿Ÿã€Eviction æƒ…å†µã€‚</li>
<li><strong>å®‰å…¨é…ç½®</strong>ï¼šç”Ÿäº§ç¯å¢ƒä¸€å®šè¦å¼€ SSL å’Œè®¿é—®æ§åˆ¶ã€‚</li>
</ol>
<p>è¿™äº›éƒ½æ˜¯ç¼“å­˜è½åœ°åå¿…é¡»è€ƒè™‘çš„ç»†èŠ‚ï¼Œä¸ç„¶ä½ å°±ç­‰ç€åŠå¤œè¢«å«é†’ä¿® bug å§ã€‚</p>
<h2 data-id="heading-9">ä¸ƒã€é¡¹ç›®å®è·µå»ºè®®</h2>
<p>å¦‚æœä½ ç°åœ¨æ‰‹å¤´æ­£å¥½æœ‰ä¸€ä¸ª Spring Boot é¡¹ç›®ï¼Œå¯ä»¥æŒ‰è¿™ä¸ªæµç¨‹åŠ¨æ‰‹ï¼š</p>
<ol>
<li>å…ˆåˆ†æç³»ç»Ÿçš„çƒ­ç‚¹æ¥å£ï¼ŒæŒ‘æœ€è€—æ—¶çš„åœ°æ–¹åŠ ç¼“å­˜ï¼›</li>
<li>è®¾è®¡åˆç†çš„ key ç»“æ„ï¼Œæ¯”å¦‚ <code>user:id</code>ã€<code>product:sku</code>ï¼›</li>
<li>åœ¨ä»£ç é‡Œå¯ç”¨ <code>@Cacheable</code>ï¼›</li>
<li>æœ¬åœ°ç”¨ Redis æ¨¡æ‹Ÿï¼ŒéªŒè¯é€»è¾‘ï¼›</li>
<li>æµ‹è¯•ç¯å¢ƒåˆ‡æ¢åˆ° ElastiCacheï¼›</li>
<li>éƒ¨ç½²ä¸Šçº¿åç›‘æ§å‘½ä¸­ç‡ï¼›</li>
<li>å®šæœŸæ¸…ç†æ— æ•ˆæ•°æ®å’Œä¼˜åŒ– TTLã€‚</li>
</ol>
<p>æå®Œè¿™å¥—ä¸‹æ¥ï¼Œä½ çš„ç³»ç»Ÿæ€§èƒ½ä¼šç¨³å¾—åƒåŠ äº†æ°®æ°”åŠ é€Ÿå™¨ã€‚</p>
<h2 data-id="heading-10">å…«ã€ç»“è¯­</h2>
<p>ç¼“å­˜è¿™ç©æ„ï¼Œè¯´ç™½äº†å°±æ˜¯â€œç”¨ç©ºé—´æ¢æ—¶é—´â€çš„è‰ºæœ¯ã€‚</p>
<p>Spring Boot ç»™äº†ä½ æŠ½è±¡å±‚ï¼ŒElastiCache ç»™äº†ä½ åŸºç¡€è®¾æ–½ï¼Œå‰©ä¸‹çš„å°±çœ‹ä½ ä¼šä¸ä¼šç”¨ã€‚</p>
<p>åˆ«ç­‰åˆ°çº¿ä¸ŠæœåŠ¡å¡å¾—åƒ PPT æ‰æƒ³èµ·ç¼“å­˜ã€‚æ—©ç‚¹åŠ ï¼Œæ—©ç‚¹è½»æ¾ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ã€‚æœ€åæé†’ä¸€ä¸‹å„ä½å·¥å‹ï¼Œå¦‚æœåç»­ä¸å†ä½¿ç”¨ç›¸å…³æœåŠ¡ï¼Œåˆ«å¿˜äº†åœ¨æ§åˆ¶å°å…³é—­ï¼Œé¿å…è¶…å‡ºå…è´¹é¢åº¦äº§ç”Ÿè´¹ç”¨ï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ­å»ºä½¿ç”¨ Open-AutoGML æœç´¢é™„è¿‘çš„ç¾é£Ÿ]]></title>    <link>https://juejin.cn/post/7584650421124382761</link>    <guid>https://juejin.cn/post/7584650421124382761</guid>    <pubDate>2025-12-17T10:49:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584650421124382761" data-draft-id="7584640225645051967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ­å»ºä½¿ç”¨ Open-AutoGML æœç´¢é™„è¿‘çš„ç¾é£Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Android"/> <meta itemprop="datePublished" content="2025-12-17T10:49:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Exploring"/> <meta itemprop="url" content="https://juejin.cn/user/2172290705131016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ­å»ºä½¿ç”¨ Open-AutoGML æœç´¢é™„è¿‘çš„ç¾é£Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2172290705131016/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Exploring
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T10:49:17.000Z" title="Wed Dec 17 2025 10:49:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ç¯å¢ƒé…ç½®</h2>
<p>ä¸‹è½½é¡¹ç›®åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzai-org%2FOpen-AutoGLM" target="_blank" title="https://github.com/zai-org/Open-AutoGLM" ref="nofollow noopener noreferrer">github.com/zai-org/Opeâ€¦</a> ï¼Œ
ä½¿ç”¨ Open-AutoGML éœ€è¦å®‰è£…ä»¥ä¸‹å¼€å‘ç¯å¢ƒï¼š</p>
<ul>
<li>python ç¯å¢ƒ</li>
<li>ADB è°ƒè¯•å·¥å…·</li>
<li>ADB Keyboard(ç”¨äºæ–‡æœ¬è¾“å…¥)</li>
<li>æ¨¡å‹éƒ¨ç½²ï¼ˆå¯ä»¥ä½¿ç”¨ BigModel ä¸‰æ–¹æ¨¡å‹ï¼‰</li>
</ul>
<h3 data-id="heading-1">1.1. Python ç¯å¢ƒæ­å»º</h3>
<p>æ£€æŸ¥ python ç¯å¢ƒã€‚å»ºè®®ä½¿ç”¨ Python 3.10 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚</p>
<pre><code class="hljs">python3 -V
</code></pre>
<p>è¿™é‡Œå»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¯¹åº”çš„ç¯å¢ƒã€‚å¯ä»¥ä½¿ç”¨ Poetry æˆ– Python è‡ªå¸¦çš„è™šæ‹Ÿç¯å¢ƒç®¡ç†ã€‚è¿™é‡Œä½¿ç”¨ Python è‡ªå¸¦çš„è™šæ‹Ÿç¯å¢ƒç®¡ç†ã€‚</p>
<ul>
<li>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼špython3 -m venv ç¯å¢ƒå</li>
<li>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒï¼šsource ç¯å¢ƒå/bin/activate</li>
<li>åˆ é™¤æ—§ç¯å¢ƒï¼šrm -rf venv</li>
<li>ç”¨python3.9åˆ›å»ºæ–°ç¯å¢ƒï¼špython3.9 -m venv venv</li>
<li>é€€å‡ºç¯å¢ƒï¼šdeactivate</li>
</ul>
<p>å®‰è£…ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">âœ  <span class="hljs-keyword">Open</span><span class="hljs-operator">-</span>AutoGLM git:(main) python3<span class="hljs-number">.10</span> <span class="hljs-operator">-</span>m venv venv3<span class="hljs-number">.10</span>
âœ  <span class="hljs-keyword">Open</span><span class="hljs-operator">-</span>AutoGLM git:(main) source venv3<span class="hljs-number">.10</span><span class="hljs-operator">/</span>bin<span class="hljs-operator">/</span>activate
(venv3<span class="hljs-number">.10</span>) âœ  <span class="hljs-keyword">Open</span><span class="hljs-operator">-</span>AutoGLM git:(main) 
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±è¿›å…¥äº†åˆ›å»ºçš„3.14è™šæ‹Ÿç¯å¢ƒã€‚</p>
<h3 data-id="heading-2">1.2. ADB è°ƒè¯•å·¥å…·</h3>
<p>è¿™é‡Œå¯ä»¥å‚ç…§ Android å®˜æ–¹ ADB æŒ‡ä»¤çš„ä¸‹è½½ä¸å®‰è£…æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftools%2Freleases%2Fplatform-tools%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/tools/releases/platform-tools?hl=zh-cn" ref="nofollow noopener noreferrer">developer.android.com/tools/releaâ€¦</a></p>
<p>adb å®‰è£…å®Œæ¯•åï¼Œå¯æ‰“å¼€ç»ˆç«¯å‘½ä»¤è¡Œæ¥æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦æˆåŠŸã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">âœ  ~ adb devices
List of devices attached
<span class="hljs-number">2212</span>d99e	device
</code></pre>
<h3 data-id="heading-3">1.3. ADB Keyboard(ç”¨äºæ–‡æœ¬è¾“å…¥)</h3>
<p>ä¸‹è½½ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsenzhk%2FADBKeyBoard%2Fblob%2Fmaster%2FADBKeyboard.apk" target="_blank" title="https://github.com/senzhk/ADBKeyBoard/blob/master/ADBKeyboard.apk" ref="nofollow noopener noreferrer">å®‰è£…åŒ…</a> å¹¶åœ¨å¯¹åº”çš„å®‰å“è®¾å¤‡ä¸­è¿›è¡Œå®‰è£…ã€‚ æ³¨æ„ï¼Œå®‰è£…å®Œæˆåè¿˜éœ€è¦åˆ° <code>è®¾ç½®-è¾“å…¥æ³•</code> æˆ–è€… <code>è®¾ç½®-é”®ç›˜åˆ—è¡¨</code> ä¸­å¯ç”¨ <code>ADB Keyboard</code> æ‰èƒ½ç”Ÿæ•ˆ(æˆ–ä½¿ç”¨å‘½ä»¤<code>adb shell ime enable com.android.adbkeyboard/.AdbIME</code><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsenzhk%2FADBKeyBoard%2Fblob%2Fmaster%2FREADME.md%23how-to-use" target="_blank" title="https://github.com/senzhk/ADBKeyBoard/blob/master/README.md#how-to-use" ref="nofollow noopener noreferrer">How-to-use</a>)ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/866b2c19d59a44eaa4b398d93c04a811~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXhwbG9yaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766573356&amp;x-signature=QyYmAvYasAAz63gcLA1GSzgl31E%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">1.4. å®‰è£…é¡¹ç›®ä¾èµ–</h3>
<p>å°† Open-AutoGMLï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzai-org%2FOpen-AutoGLM" target="_blank" title="https://github.com/zai-org/Open-AutoGLM" ref="nofollow noopener noreferrer">github.com/zai-org/Opeâ€¦</a>ï¼‰é¡¹ç›®ä¸‹è½½åˆ°æœ¬åœ°åï¼Œè¿›å…¥è¯¥é¡¹ç›®å¯¹åº”çš„ç¯å¢ƒã€‚æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">pip install -r requirements.txt 
pip install -e .
</code></pre>
<h3 data-id="heading-5">1.5. å¯åŠ¨æ¨¡å‹æœåŠ¡</h3>
<p>ä½ å¯ä»¥é€‰æ‹©è‡ªè¡Œéƒ¨ç½²æ¨¡å‹æœåŠ¡ï¼Œæˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å‹æœåŠ¡å•†ã€‚å¦‚æœæœºå™¨èµ„æºæ¯”è¾ƒå¤§ï¼Œå¯ä»¥é€‰æ‹©è‡ªè¡Œéƒ¨ç½²æ¨¡å‹æœåŠ¡ã€‚è¿™é‡Œæˆ‘é€‰æ‹©ä½¿ç”¨<strong>æ™ºè°± BigModelã€‚</strong></p>
<ul>
<li>æ–‡æ¡£: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.bigmodel.cn%2Fcn%2Fapi%2Fintroduction" target="_blank" title="https://docs.bigmodel.cn/cn/api/introduction" ref="nofollow noopener noreferrer">docs.bigmodel.cn/cn/api/intrâ€¦</a></li>
<li><code>--base-url</code>: <code>https://open.bigmodel.cn/api/paas/v4</code></li>
<li><code>--model</code>: <code>autoglm-phone</code></li>
<li><code>--apikey</code>: åœ¨æ™ºè°±å¹³å°ç”³è¯·ä½ çš„ API Key</li>
</ul>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment"># ä½¿ç”¨æ™ºè°± BigModel</span>
python main.py --base-url <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/open.bigmodel.cn/api</span><span class="hljs-regexp">/paas/v</span>4 --model <span class="hljs-string">"autoglm-phone"</span> --apikey <span class="hljs-string">"your-bigmodel-api-key"</span> <span class="hljs-string">"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—"</span>
</code></pre>
<h4 data-id="heading-6">1.5.1. éªŒè¯ apiKey</h4>
<p>æˆ‘ä»¬åœ¨æ™ºè°±AIå¼€æ”¾å¹³å°ç”³è¯· apikey åå¯ä»¥å‚ç…§ API ä½¿ç”¨æ–‡æ¡£ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.bigmodel.cn%2Fcn%2Fapi%2Fintroduction" target="_blank" title="https://docs.bigmodel.cn/cn/api/introduction" ref="nofollow noopener noreferrer">docs.bigmodel.cn/cn/api/intrâ€¦</a>ï¼‰æ¥éªŒè¯æ˜¯å¦å¯ç”¨ã€‚</p>
<p>ä½¿ç”¨ curl æŒ‡ä»¤è¾“å…¥ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">curl -X POST <span class="hljs-string">"https://open.bigmodel.cn/api/paas/v4/chat/completions"</span> \
-H <span class="hljs-string">"Content-Type: application/json"</span> \
-H <span class="hljs-string">"Authorization: Bearer YOUR_API_KEY"</span> \
-d <span class="hljs-comment">'{</span>
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"glm-4.6"</span>,
    <span class="hljs-string">"messages"</span>: [
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"system"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„AIåŠ©æ‰‹ã€‚"</span>
        },
        {
            <span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-string">"content"</span>: <span class="hljs-string">"ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±ã€‚"</span>
        }
    ],
    <span class="hljs-string">"temperature"</span>: <span class="hljs-number">1.0</span>,
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">true</span>
}<span class="hljs-comment">'</span>
</code></pre>
<p>è¾“å‡ºç±»ä¼¼ä¸‹é¢çš„å†…å®¹æ—¶è¯´æ˜å¯ç”¨ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fca7d48b6c16488eae3d33227edaa029~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXhwbG9yaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766573356&amp;x-signature=VmYVS0qQte7xx9%2Blwskm9VVsBHI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">2. å®æ“ç”¨æ™ºè°± AI å¸®æˆ‘ç‚¹å¤–å–</h2>
<p>åœ¨å®Œæˆç¯å¢ƒå®‰è£…åï¼Œæˆ‘ä»¬æ¥è¿›è¡Œä¸€æ¬¡ç«é”…çš„æœç´¢ã€‚åœ¨å·¥ç¨‹é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-css" lang="css"> python <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.py</span> <span class="hljs-attr">--base-url</span> https://open.bigmodel.cn/api/paas/v4 --model <span class="hljs-string">"autoglm-phone"</span> --apikey <span class="hljs-string">"apikey"</span> <span class="hljs-string">"æ‰“å¼€ç¾å›¢æœç´¢é™„è¿‘çš„ç«é”…åº—"</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0019ec9625eb452c8185e5ea1027c87c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXhwbG9yaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766573356&amp;x-signature=kKBrvzqQ%2BjctNtwH0z2t3tejpS4%3D" alt="desktop1.gif" loading="lazy"/></p>
<h2 data-id="heading-8">3. å¸¸è§é”™è¯¯</h2>
<h3 data-id="heading-9">3.1. ERROR: No matching distribution found for Pillow&gt;=12.0.0</h3>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">ERROR:</span> No matching distribution found <span class="hljs-keyword">for</span> Pillow&gt;=<span class="hljs-number">12.0</span>.<span class="hljs-number">0</span>
<span class="hljs-symbol">WARNING:</span> You are <span class="hljs-keyword">using</span> pip version <span class="hljs-number">21.1</span>.<span class="hljs-number">2</span>; however, version <span class="hljs-number">25.3</span> <span class="hljs-built_in">is</span> available.
You should consider upgrading via the <span class="hljs-comment">'/Users/dengshiwei/Documents/AI/Open-AutoGLM/venv/bin/python -m pip install --upgrade pip' command.</span>
</code></pre>
<p>ä½¿ç”¨çš„ python3.14 ç‰ˆæœ¬ï¼Œåœ¨å®‰è£…ä¾èµ–æ—¶æ‰¾ä¸åˆ° Pillow &gt;= 12.0.0 çš„ç‰ˆæœ¬ï¼Œè§£å†³æ–¹æ³•æ—¶é™ä½åˆ° python ç‰ˆæœ¬åˆ° 3.10ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨ pyenv æ¥ç®¡ç†æœ¬åœ°å¤šä¸ª python ç‰ˆæœ¬ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">brew <span class="hljs-keyword">update</span>
brew install pyenv
pyenv install <span class="hljs-number">3.10</span><span class="hljs-number">.14</span>
è¿›å…¥åˆ°é¡¹ç›®ï¼Œåˆ‡æ¢å¯¹åº”çš„ python ç‰ˆæœ¬ï¼špyenv <span class="hljs-keyword">local</span> <span class="hljs-number">3.10</span><span class="hljs-number">.14</span>
</code></pre>
<h3 data-id="heading-10">3.2. é”®ç›˜æ²¡æ•ˆæœ</h3>
<p>æˆ‘æœ¬åœ°å·²ç»å±•ç¤ºå®‰è£…äº†é”®ç›˜ï¼Œä½†æ˜¯è¿è¡Œ main.py æ—¶è¿˜æ˜¯æç¤ºæ‰¾ä¸åˆ°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8498eef71b564b82a86e530ae71446b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRXhwbG9yaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766573356&amp;x-signature=VIo%2BI6cp5a2DPuumTXqUJOc%2BKbQ%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œçš„åŸå› æ˜¯æºç ä¸­çš„æ£€æµ‹æ–¹æ³•é‡åˆ°æ‰‹æœºæƒé™çš„é—®é¢˜ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"> <span class="hljs-attr">result</span> = subprocess.run(
          <span class="hljs-section">["adb", "shell", "ime", "list", "-s"]</span>,
          <span class="hljs-attr">capture_output</span>=<span class="hljs-literal">True</span>,
          <span class="hljs-attr">text</span>=<span class="hljs-literal">True</span>,
          <span class="hljs-attr">timeout</span>=<span class="hljs-number">10</span>,
      )
</code></pre>
<p>æœ¬è´¨ä¸Šæ˜¯ <code>adb shell ime list -s</code> æŒ‡ä»¤ï¼Œä½†æ˜¯å¾ˆå¤šæ‰‹æœºéƒ½æ²¡æƒé™äº†ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">java.lang.SecurityException:</span> <span class="hljs-string">uid</span> <span class="hljs-number">2000 </span><span class="hljs-string">does</span> <span class="hljs-string">not</span> <span class="hljs-string">have</span> <span class="hljs-string">android.permission.WRITE_SECURE_SETTINGS.</span>
</code></pre>
<p>è¿™é‡Œå¯ä»¥æ”¹ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">result</span> = subprocess.run(
    <span class="hljs-section">["adb", "shell", "settings", "get", "secure", "enabled_input_methods"]</span>,
    <span class="hljs-attr">capture_output</span>=<span class="hljs-literal">True</span>,
    <span class="hljs-attr">text</span>=<span class="hljs-literal">True</span>,
    <span class="hljs-attr">timeout</span>=<span class="hljs-number">3</span>,
)
</code></pre>
<p>åç»­æˆ‘ä¼šæäº¤ä¸€ä¸ª MR æ¥å…¼å®¹ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 data-id="heading-11">4. ä½“éªŒæ„Ÿå—</h2>
<p>ä½¿ç”¨ <strong>æ™ºè°± BigModel çš„æ¨¡å‹æƒ…å†µä¸‹ï¼Œ</strong> ç¯å¢ƒçš„æ­å»ºè¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œèƒ½å¤Ÿå¾ˆå¿«æŠŠå¼€å‘ç¯å¢ƒæ­å»ºå®Œæˆã€‚å¦‚æœæ˜¯æœ¬åœ°éƒ¨ç½²æ¨¡å‹ä¼šæ¯”è¾ƒè€—è´¹æ—¶é—´ã€‚æ€»ä½“æ¥çœ‹è¿˜æ˜¯æ¯”è¾ƒæ™ºèƒ½çš„ï¼Œèƒ½å¤Ÿæ“ä½œæŒºå¤š App çš„ï¼Œè¿˜éœ€è¦ç»§ç»­ä½“éªŒï¼Œä½†æ˜¯ç›®å‰æ„Ÿè§‰è¦å•†ä¸šåŒ–è¿™ä¸ªè€—æ—¶è¿˜å¾—ç»§ç»­ä¼˜åŒ–ï¼Œæˆ‘æ‰§è¡Œäº†ä¸€ä¸ªæœç´¢ç«é”…çš„æŒ‡ä»¤ï¼Œå¤§æ¦‚æ•´ä½“è€—æ—¶åœ¨35så·¦å³ï¼Œè·Ÿä¸­å…´çš„ AI æ‰‹æœºä½“éªŒæ¯”ï¼Œè€—æ—¶è¿˜æœ‰ç‚¹å¤šã€‚æŒç»­è¿›æ­¥å§ã€‚</p>
<p>#AutoGLM #æ™ºè°±AI #OpenAutoGLM</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰“ç ´ IK åˆ†è¯â€œæ¶æ„é™·é˜±â€â€”â€”é˜¿é‡Œäº‘ ES Serverless ç´¢å¼•çº§è¯å…¸çš„å®Œç¾çƒ­æ›´æ–°å®è·µ]]></title>    <link>https://juejin.cn/post/7585024562216239144</link>    <guid>https://juejin.cn/post/7585024562216239144</guid>    <pubDate>2025-12-18T10:41:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585024562216239144" data-draft-id="7584997357445529640" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰“ç ´ IK åˆ†è¯â€œæ¶æ„é™·é˜±â€â€”â€”é˜¿é‡Œäº‘ ES Serverless ç´¢å¼•çº§è¯å…¸çš„å®Œç¾çƒ­æ›´æ–°å®è·µ"/> <meta itemprop="keywords" content="æœç´¢å¼•æ“"/> <meta itemprop="datePublished" content="2025-12-18T10:41:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰“ç ´ IK åˆ†è¯â€œæ¶æ„é™·é˜±â€â€”â€”é˜¿é‡Œäº‘ ES Serverless ç´¢å¼•çº§è¯å…¸çš„å®Œç¾çƒ­æ›´æ–°å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:41:52.000Z" title="Thu Dec 18 2025 10:41:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åšè¿‡ Elasticsearch ä¸­æ–‡æœç´¢ç ”å‘çš„åŒå­¦ä¸­ï¼ŒIK åˆ†è¯å™¨å‡ ä¹æ˜¯æ ‡é…ã€‚å®ƒç®€å•ã€é«˜æ•ˆï¼Œè¦†ç›–äº†å¤§å¤šæ•°ä¸­æ–‡ä¸šåŠ¡åœºæ™¯ï¼Œè¢«å¹¿æ³›ç”¨äºç”µå•†ã€èµ„è®¯ã€ç¤¾åŒºç­‰æœç´¢ç³»ç»Ÿã€‚ç„¶è€Œï¼Œåœ¨ä¸€äº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼ŒIK åˆ†è¯å™¨å¯èƒ½ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„çº¿ä¸Šäº‹æ•…ï¼Œå°¤å…¶æ˜¯åœ¨å¤§ä¿ƒã€çƒ­è¯é«˜å³°ç­‰å¯¹æœç´¢ç¨³å®šæ€§è¦æ±‚æé«˜çš„æ—¶æœŸã€‚æœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªçœŸå®äº‹æ•…çš„å¤ç›˜ï¼Œè§£æå¼€æº IK åˆ†è¯å™¨æ¶æ„è®¾è®¡ä¸­çš„ä¸è¶³ï¼Œå¹¶ä»‹ç»é˜¿é‡Œäº‘ ES Serverless å¦‚ä½•é€šè¿‡â€œç´¢å¼•çº§è¯å…¸â€èƒ½åŠ›ï¼Œå½»åº•è§£å†³çƒ­æ›´æ–°å¼•å‘çš„æœç´¢é”™é…é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€äº‹æ•…å¤ç›˜ï¼šä¸€æ¬¡å¸¸è§„æ“ä½œï¼Œå¼•å‘ P0 äº‹æ•…</h2>
<h3 data-id="heading-1">èƒŒæ™¯</h3>
<p>æŸç”µå•†å¹³å°å¤§ä¿ƒå‰å¤•ï¼Œè¿è¥å‘ç°ç½‘ç»œçƒ­æ¢— â€œå“ˆåŸºç±³â€ï¼ˆæŒ‡ä»£çŒ«å’ª/å® ç‰©ï¼‰çš„æœç´¢é‡é£™å‡ã€‚ç”±äº IK é»˜è®¤è¯å…¸ä¸­æ²¡æœ‰è¯¥è¯ï¼ŒæŸ¥è¯¢æ—¶ä¼šè¢«åˆ‡åˆ†ä¸º [å“ˆ, åŸº, ç±³] â€”â€”å¯¼è‡´å¬å›äº†å¤§é‡æ— å…³å•†å“ï¼Œè½¬åŒ–æä½ã€‚è¿è¥ç«‹å³æå‡ºéœ€æ±‚ï¼šå¿…é¡»è®©â€œå“ˆåŸºç±³â€ç²¾ç¡®åŒ¹é…ç›¸å…³å•†å“ã€‚</p>
<h3 data-id="heading-2">æ“ä½œè¿‡ç¨‹</h3>
<p>â€œæ ‡å‡†â€çš„å˜æ›´ï¼š</p>
<ul>
<li>
<p>åœ¨å·²æœ‰è¯å…¸ä¸­æ–°å¢è¯ç»„â€œå“ˆåŸºç±³â€ï¼Œå¹¶è§¦å‘äº†é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹çš„çƒ­æ›´æ–°ã€‚</p>
</li>
<li>
<p>_analyze æ¥å£éªŒè¯é€šè¿‡ï¼šå“ˆåŸºç±³ å·²è¢«æ­£ç¡®è¯†åˆ«ä¸ºä¸€ä¸ªå®Œæ•´ Termã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">äº‹æ•…å‘ç”Ÿ</h3>
<p>ç„¶è€Œï¼Œå°±åœ¨è¯å…¸çƒ­æ›´æ–°å®Œæˆçš„é‚£ä¸€ç¬é—´ï¼Œçº¿ä¸Šçš„å®æ—¶æœç´¢å´©äº†</p>
<ul>
<li>
<p>æ–°æ•°æ®ï¼ˆæ­£å¸¸ï¼‰ï¼š åˆšåˆšä¸Šæ¶çš„â€œå“ˆåŸºç±³â€å•†å“èƒ½æœåˆ°ã€‚</p>
</li>
<li>
<p>æ—§æ•°æ®ï¼ˆæ¶ˆå¤±ï¼‰ï¼šä¹‹å‰å†™å…¥çš„æ‰€æœ‰åŒ…å«â€œå“ˆåŸºç±³â€æè¿°çš„å­˜é‡å•†å“ï¼Œå…¨éƒ¨æœä¸åˆ°äº†ï¼</p>
</li>
</ul>
<p>åŸå› å´æ‰‘æœ”è¿·ç¦»â€”â€”æ²¡æœ‰æ”¹åŠ¨ç´¢å¼•ï¼Œå´ç¬é—´å¯¼è‡´å­˜é‡æ•°æ®å…¨éƒ¨å¤±æ•ˆã€‚</p>
<p>**ç»“æœï¼š**æœ¬æ¥æƒ³æå‡ç”¨æˆ·ä½“éªŒï¼Œç»“æœæœç´¢æŒ‚äº†ï¼ŒGMV è·Œäº†ï¼Œä¸€æ¬¡å¸¸è§„ä¼˜åŒ–æ¼”å˜æˆäº† P0 çº§çº¿ä¸Šäº‹æ•…ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/95/954cf36bf961711d6f68a306830c061b.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">äºŒã€æ·±åº¦è§£æï¼šIKè¯å…¸çƒ­æ›´æ–°çš„â€œæ—¶ç©ºé”™ä¹±â€</h2>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿè¿™å¹¶é ES çš„ Bugï¼Œè€Œæ˜¯ å¼€æº IK æ’ä»¶çš„è®¾è®¡æœºåˆ¶ ä¸ å€’æ’ç´¢å¼•ç‰¹æ€§ ä¹‹é—´çš„ä¸€æ¬¡æ­£é¢ç¢°æ’ã€‚</p>
<h3 data-id="heading-5">æ ¸å¿ƒå†²çªï¼šåŠ¨æ€è¯å…¸ vs é™æ€ç´¢å¼•</h3>
<ul>
<li>IK æ’ä»¶çš„â€œå…¨å±€å•ä¾‹â€æœºåˆ¶ï¼ˆThe Global Singletonï¼‰ï¼š</li>
</ul>
<p>IK åˆ†è¯å™¨é‡‡ç”¨å…¨å±€å…±äº«è¯å…¸çš„å®ç°ç­–ç•¥ã€‚è¿™æ„å‘³ç€ï¼Œä¸€æ—¦è§¦å‘çƒ­æ›´æ–°ï¼Œæ•´ä¸ªé›†ç¾¤ä¸Šæ‰€æœ‰ä½¿ç”¨ IK çš„ç´¢å¼•ï¼ˆæ— è®ºæ–°æ—§ï¼‰éƒ½ä¼šç«‹å³ã€å¼ºåˆ¶ä½¿ç”¨æ–°è¯å…¸è¿›è¡ŒæŸ¥è¯¢åˆ†è¯ã€‚è¿™æ˜¯ä¸€ä¸ªâ€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€çš„æ“ä½œã€‚</p>
<ul>
<li>ES ç´¢å¼•çš„â€œä¸å¯å˜â€ç‰¹æ€§ï¼ˆThe Immutable Indexï¼‰ï¼š</li>
</ul>
<p>å½“å†™å…¥æ–‡æ¡£æ—¶ï¼Œå…¶å­—æ®µå†…å®¹ç»è¿‡åˆ†è¯åï¼Œç”Ÿæˆçš„ Term è¢«å†™å…¥å€’æ’ç´¢å¼•ã€‚æ•°æ®ä¸€æ—¦å†™å…¥ï¼Œç”Ÿæˆçš„å€’æ’ç´¢å¼•ï¼ˆTermï¼‰å°±è¢«â€œå›ºåŒ–â€äº†ã€‚</p>
<p>è¿™å°±æ˜¯å†²çªçš„æ ¹æºï¼š ä½ ä¸ºäº†â€œæœªæ¥â€çš„æ•°æ®ï¼ˆæ–°çƒ­è¯ï¼‰æ›´æ–°äº†å…¨å±€è¯å…¸ï¼Œå´æ— æ„ä¸­ç ´åäº†â€œè¿‡å»â€æ•°æ®çš„æŸ¥è¯¢åŒ¹é…é€»è¾‘ã€‚</p>
<h3 data-id="heading-6">é”™ä½å›¾è§£ï¼šæ‹¿ç€æ–°åœ°å›¾æ‰¾æ—§åœ°å€</h3>
<p>è®©æˆ‘ä»¬æ¸…æ™°åœ°æ¢³ç†ä¸‹äº‹æ•…å‘ç”Ÿçš„è¿‡ç¨‹ï¼š</p>
<ul>
<li>
<p>çƒ­æ›´æ–°å‰ï¼ˆæ—§è¯å…¸ï¼‰ï¼š â€œå“ˆåŸºç±³â€è¢«åˆ‡åˆ†ä¸º [å“ˆ, åŸº, ç±³] ä¸‰ä¸ªå•å­—å­˜å…¥å€’æ’ç´¢å¼•ã€‚</p>
</li>
<li>
<p>çƒ­æ›´æ–°åï¼ˆæ–°è¯å…¸ï¼‰ï¼š å½“â€œå“ˆåŸºç±³â€è¢«åŠ å…¥åˆ°è¯å…¸åï¼Œæœç´¢è¯â€œå“ˆåŸºç±³â€è¢«è§£æä¸ºæ•´ä½“ Term [å“ˆåŸºç±³]ã€‚</p>
</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<p>æ‹¿ç€æ–° Term å“ˆåŸºç±³ å»æ‰¾æ—§ç´¢å¼•é‡Œçš„å•å­— å“ˆã€åŸºã€ç±³ å®Œå…¨åŒ¹é…ä¸ä¸Šï¼è¿™å°±åƒæ˜¯â€œæ—¶ç©ºé”™ä¹±â€ï¼šä½ æ‹¿ç€ä»Šå¤©çš„æ–°åœ°å›¾ï¼ˆæ–°è¯å…¸ï¼‰ï¼Œå»å¯¼èˆªæ˜¨å¤©çš„æ—§åŸå¸‚ï¼ˆæ—§ç´¢å¼•ï¼‰ï¼Œè·¯æ—©å°±å˜äº†ï¼Œå½“ç„¶æ‰¾ä¸åˆ°ç›®çš„åœ°ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/8a/8a3d5ee507c7cd5dc922760c900f443c.webp" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">ä¸‰ã€ä¼ ç»Ÿè§£æ³•ï¼šä¸‰ç§â€œç»­å‘½â€æ–¹æ¡ˆ</h2>
<p>åœ¨æœç´¢ç³»ç»Ÿé‡Œï¼Œè¯å…¸ç‰ˆæœ¬é”™é…æ˜¯ä¸€ç±»é«˜é¢‘ä¸”æ£˜æ‰‹çš„é—®é¢˜ï¼š</p>
<ul>
<li>
<p>ä¸€æ—¦æ–°è¯å…¸ä¸Šçº¿ï¼Œè€Œç´¢å¼•é‡Œçš„æ•°æ®ä»æ˜¯æŒ‰æ—§åˆ†è¯è§„åˆ™å»ºç«‹ï¼Œæœç´¢ä¾¿å¯èƒ½éé¢„æœŸçš„å¼‚å¸¸ã€‚</p>
</li>
<li>
<p>å¯¹ç”¨æˆ·è€Œè¨€ï¼Œè¡¨ç°æ˜¯è€æ•°æ®åŒ¹é…ç»“æœå¼‚å¸¸ï¼Œä¹‹å‰å¯ä»¥æœç´¢åˆ°çš„æ•°æ®å…¨éƒ¨â€œæ¶ˆå¤±â€äº†ã€‚</p>
</li>
<li>
<p>å¯¹è¿ç»´è€Œè¨€ï¼Œè¦ä¿è¯ æ–°è¯å…¸é…ç½® ä¸ ç´¢å¼•æ•°æ®åˆ†è¯ç»“æœ åŒæ­¥ï¼Œéœ€è¦åœ¨â€œæ€§èƒ½ã€ä½“éªŒã€æˆæœ¬â€ä¹‹é—´åšè‰°éš¾å¹³è¡¡ã€‚</p>
</li>
</ul>
<p>ä¸ºç¼“è§£è¿™ä¸€é—®é¢˜ï¼Œä¸šå†…å¸¸ç”¨ä¸‰ç§æ–¹æ¡ˆæ¥ç»™ä¸šåŠ¡â€œç»­å‘½â€â€”â€”å³åœ¨ä¸å½»åº•åœæœºçš„æƒ…å†µä¸‹ï¼Œå°½é‡è®©æ–°è¯ç”Ÿæ•ˆå¹¶ç»´æŒçº¿ä¸ŠæŸ¥è¯¢ç¨³å®šã€‚</p>
<p>ä¸‰ç§å¸¸ç”¨æ–¹æ¡ˆè¯¦æƒ…å¦‚ä¸‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/76/76e10fb814964f244208b6dd4fe75343.png" alt="" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œè¿™äº›æ–¹æ¡ˆæ— ä¸€èƒ½å¤ŸåŒæ—¶åšåˆ°ï¼š</p>
<ul>
<li>
<p>æ— æ„Ÿçƒ­æ›´æ–°ï¼šè®©ç”¨æˆ·å®Œå…¨å¯Ÿè§‰ä¸åˆ°åå°åˆ‡æ¢è¿‡ç¨‹</p>
</li>
<li>
<p>ç²¾å‡†åŒ¹é…æ–°è¯ï¼šæ–°çƒ­è¯å³åˆ»å‘½ä¸­ï¼Œä¸å—æ—§åˆ†è¯å½±å“</p>
</li>
<li>
<p>ä¸å½±å“å­˜é‡æ•°æ®æœç´¢ï¼šè€æ•°æ®æœç´¢ç»“æœä¿æŒç¨³å®šæ— åå·®</p>
</li>
</ul>
<p>æ­£å› ä¸ºå¦‚æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€ç§æ—¢èƒ½è®©è¯å…¸ç‰ˆæœ¬ä¸æ•°æ®ç‰ˆæœ¬å®Œç¾å¯¹é½ï¼Œåˆä¸ä¼šç‰ºç‰²çº¿ä¸Šå¯ç”¨æ€§çš„å…¨æ–°è§£æ³•ã€‚</p>
<h2 data-id="heading-8">å››ã€é˜¿é‡Œäº‘ ES Serverless ç ´å±€ï¼šç´¢å¼•çº§è¯å…¸éš”ç¦»</h2>
<p>æ‰€ä»¥ï¼Œä¸ºäº†è§£å†³å¼€æº IK æ’ä»¶çš„â€œå…¨å±€å•ä¾‹â€è¯å…¸æœºåˆ¶å¯¼è‡´çš„å†²çªï¼Œé˜¿é‡Œäº‘ ES Serverless é€šè¿‡åœ¨å†…æ ¸å±‚é¢çš„æ”¹é€ ï¼Œæ¨å‡º â€œé›†ç¾¤-ç´¢å¼•-åˆ†è¯å™¨â€ä¸‰çº§è¯å…¸é…ç½®ä½“ç³»ï¼š</p>
<h3 data-id="heading-9">å¤šçº§è¯å…¸ä½“ç³»è®¾è®¡</h3>
<p>è¯¥ä½“ç³»å°†è¯å…¸çš„æ§åˆ¶æƒä»â€œé›†ç¾¤/èŠ‚ç‚¹çº§â€ä¸‹æ”¾ï¼Œå…è®¸åœ¨ä¸åŒå±‚çº§è¿›è¡Œç²¾ç»†åŒ–é…ç½®ï¼Œå¹¶éµå¾ªæ˜ç¡®çš„ä¼˜å…ˆçº§è§„åˆ™ï¼šåˆ†è¯å™¨çº§åˆ« &gt; ç´¢å¼•çº§åˆ« &gt; é›†ç¾¤ï¼ˆç§Ÿæˆ·ï¼‰çº§åˆ«ã€‚</p>
<ul>
<li>
<p>é›†ç¾¤çº§ï¼ˆCluster-levelï¼‰ï¼šç”±ç®¡æ§å¹³å°ç»Ÿä¸€ä¸‹å‘åŸºç¡€è¯å…¸ï¼Œä¿éšœå…¨é›†ç¾¤ï¼ˆç§Ÿæˆ·ï¼‰åŸºç¡€è¯æ±‡ä¸€è‡´æ€§ï¼Œä¼˜å…ˆçº§æœ€ä½ã€‚</p>
</li>
<li>
<p>ç´¢å¼•çº§ï¼ˆIndex-levelï¼‰ï¼šä¸ºæ¯ä¸ªç´¢å¼•ç»‘å®šä¸“å±æ‰©å±•è¯å…¸å’Œåœç”¨è¯å…¸ï¼Œç²¾å‡†è§£å†³â€œæ—¶ç©ºé”™ä½â€é—®é¢˜çš„å…³é”®ã€‚</p>
</li>
<li>
<p>åˆ†è¯å™¨çº§ï¼ˆAnalyzer-levelï¼‰ï¼šä¸ºç´¢å¼•å†…çš„æŸä¸ªè‡ªå®šä¹‰åˆ†è¯å™¨é…ç½®ä¸“ç”¨è¯å…¸ï¼Œæ»¡è¶³ç‰¹å®šå­—æ®µçš„ç‰¹æ®Šåˆ†è¯éœ€æ±‚ï¼Œä¼˜å…ˆçº§æœ€é«˜ã€‚</p>
</li>
</ul>
<p>å…¸å‹åœºæ™¯ç¤ºä¾‹ï¼šå¯¹ å®æ—¶æ–°å¢çƒ­è¯ åœºæ™¯ï¼Œâ€œç´¢å¼•çº§åˆ«è¯å…¸â€èƒ½åŠ›æä¾›äº†å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä¸ºä¸åŒç´¢å¼•ç»‘å®šä¸åŒç‰ˆæœ¬ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p>product_v1 â†’ dict_v1</p>
</li>
<li>
<p>product_v2 â†’ dict_v2</p>
</li>
</ul>
<p>å®ƒä»¬å¯åœ¨åŒä¸€é›†ç¾¤å†…äº’ä¸å¹²æ‰°ã€å¹¶è¡Œå­˜åœ¨ï¼Œè®©æ–°æ—§ç‰ˆæœ¬è¯å…¸åŒæ—¶åœ¨çº¿ï¼Œå½»åº•è§£å†³â€œæ–°æ—§ä¸å…¼å®¹â€çš„æ—¶ç©ºé”™ä¹±é—®é¢˜ã€‚</p>
<h3 data-id="heading-10">çƒ­æ›´æ–°æ— æ„Ÿæµç¨‹</h3>
<p>ä»¥â€œå“ˆåŸºç±³â€ä¸ºä¾‹ï¼š</p>
<ul>
<li>
<p>Step 1 éš”ç¦»è¿è¡Œ</p>
</li>
<li>
<p>product_v1ï¼ˆç»‘å®šåˆ«åproduct_aliasï¼‰ ä»ç”¨æ—§è¯å…¸ dict_v1ã€‚</p>
</li>
<li>
<p>çº¿ä¸Šç”¨æˆ·æŸ¥è¯¢ä¸å—å½±å“ï¼Œå­˜é‡æ•°æ®ç…§å¸¸åŒ¹é…ã€‚</p>
</li>
<li>
<p>Step 2 æ„å»ºæ–°ç´¢å¼•</p>
</li>
<li>
<p>æ–°å»º product_v2 å¹¶ç»‘å®šå«â€œå“ˆåŸºç±³â€çš„ dict_v2ã€‚</p>
</li>
<li>
<p>ç”¨ç¦»çº¿é“¾è·¯æˆ– _reindex å°†æ•°æ®å†™å…¥æ–°ç´¢å¼•ã€‚</p>
</li>
<li>
<p>å»ºè®®ï¼š</p>
</li>
</ul>
<p>å¯¹äºå¤§è§„æ¨¡ä¸šåŠ¡ï¼Œå»ºè®®ç›´æ¥å¤ç”¨ T+1 ç¦»çº¿é“¾è·¯ï¼ˆå¦‚ DTS/ODPS/Flinkï¼‰ï¼Œå°†æ•°æ®é‡æ–°çŒå…¥ product_v2ã€‚è¿™æ˜¯æœ€æ ‡å‡†ã€æœ€é«˜æ•ˆçš„åšæ³•ã€‚</p>
<ul>
<li>
<p>Step 3 åŸå­åˆ‡æ¢æµé‡</p>
</li>
<li>
<p>æ•°æ®è¿½å¹³åï¼Œå°†product_v2 ç»‘å®šåˆ° product_alias ï¼ŒåŒæ—¶ä¸‹æ‰product_v1ï¼Œå®ç°æµé‡çš„åŸå­åˆ‡æ¢ã€‚</p>
</li>
</ul>
<h3 data-id="heading-11">æ•ˆæœ</h3>
<p>é€šè¿‡è¿™ä¸€å¥— å¤šçº§è¯å…¸ + æµé‡åŸå­åˆ‡æ¢ çš„ç»„åˆæ‹³ï¼Œæˆ‘ä»¬å®ç°äº† è¯å…¸ç‰ˆæœ¬ä¸æ•°æ®ç‰ˆæœ¬çš„å®Œç¾å¯¹é½ï¼š</p>
<ul>
<li>é›¶ä¸­æ–­ï¼š</li>
</ul>
<p>æ›´æ–°å…¨ç¨‹ç”¨æˆ·æ— æ„Ÿï¼Œæ•´ä¸ªæ›´æ–°å’Œåˆ‡æ¢è¿‡ç¨‹å¯¹çº¿ä¸Šç”¨æˆ·å®Œå…¨é€æ˜ï¼Œæ²¡æœ‰æœåŠ¡ä¸­æ–­æˆ–æŸ¥è¯¢å¤±è´¥çš„çª—å£ã€‚</p>
<ul>
<li>ç²¾å‡†åŒ¹é…ï¼š</li>
</ul>
<p>æµé‡åˆ‡æ¢åï¼Œæ–°è¯å³åˆ»ç”Ÿæ•ˆï¼Œæ–°æ—§æ•°æ®æŸ¥è¯¢é€»è¾‘å¯¹é½ï¼Œæœç´¢â€œå“ˆåŸºç±³â€ç«‹åˆ»ç²¾å‡†å‘½ä¸­ï¼Œä¸”æ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰ä»»ä½•â€œæŸ¥è¯¢æ–­å±‚â€æˆ–â€œæœåŠ¡é—ªæ–­â€ã€‚</p>
<ul>
<li>å¼¹æ€§æ”¯æŒï¼š</li>
</ul>
<p>ç»“åˆ Serverless çš„è‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œåº”å¯¹å¤§ä¿ƒç®—åŠ›å³°å€¼ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/c8/c8d79eb50eeb0bcd214e2b192070e78d.webp" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">é¢å¤–ä¼˜åŠ¿ï¼šå†…æ ¸ä¼˜åŒ–çš„éšæ€§æ”¶ç›Š</h3>
<p>é™¤äº†ç´¢å¼•çº§è¯å…¸ï¼ŒServerless ç‰ˆæœ¬è¿˜å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p>é¿å…è¯å…¸è„‘è£‚ï¼šä¿è¯é›†ç¾¤å†…èŠ‚ç‚¹è¯å…¸ç»Ÿä¸€ã€‚</p>
</li>
<li>
<p>æ— æ„Ÿå‡çº§ï¼šåŒæ­¥å¼€æº IK ä¸åŸç”Ÿ ES æ–°ç‰¹æ€§ã€‚è¿™äº›èƒ½åŠ›è®©ä½ çš„çƒ­è¯æ›´æ–°ä»ä¸€ä»¶â€œé«˜é£é™©è¿ç»´æ“ä½œâ€ï¼Œå˜æˆç¨³å®šã€å®‰å…¨çš„æ—¥å¸¸æ“ä½œã€‚</p>
</li>
</ul>
<h2 data-id="heading-13">äº”ã€é™„å½•</h2>
<h3 data-id="heading-14">â€œä¼‘å…‹ç–—æ³•â€æ›´æ–°æŒ‡å—</h3>
<p>å‡è®¾çº¿ä¸Šçš„ç´¢å¼•æ˜¯ product_v1ã€‚</p>
<p><strong>a. å‡†å¤‡é˜¶æ®µï¼šæ›´æ–°è¯å…¸å¹¶éªŒè¯è¯å…¸æ˜¯å¦ç”Ÿæ•ˆ</strong></p>
<p>â…°. æ›´æ–° IK è¿œç¨‹è¯å…¸ï¼ŒåŠ å…¥è¯ç»„â€œå“ˆåŸºç±³â€ã€‚</p>
<p>â…±. ç­‰å¾…è¯å…¸åŠ è½½å®Œæˆï¼Œå¹¶æµ‹è¯•æ–°è¯ç»„æ˜¯å¦ç”Ÿæ•ˆã€‚</p>
<p><strong>b. æ‰§è¡Œé˜¶æ®µï¼šç´¢å¼•æ•°æ®æ›´æ–°</strong></p>
<p>â…°. é€‰æ‹©ä¸šåŠ¡ä½å³°æœŸï¼ˆå¦‚å‡Œæ™¨ï¼‰ï¼Œè°ƒç”¨ _update_by_query APIï¼Œå¯¹ç´¢å¼•ä¸­å…¨éƒ¨æ•°æ®è¿›è¡Œæ›´æ–°ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">POST /product_v1/_update_by_query?<span class="hljs-attr">refresh</span>=<span class="hljs-literal">true</span>&amp;conflicts=proceed

<span class="hljs-comment"># å¦‚æœä½¿ç”¨å¼‚æ­¥æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€</span>
GET /_tasks?<span class="hljs-attr">detailed</span>=<span class="hljs-literal">true</span>&amp;actions=*update_by_query*
</code></pre>
<p><strong>c. éªŒè¯é˜¶æ®µï¼šéªŒè¯åˆ†è¯æ˜¯å¦ç”Ÿæ•ˆ</strong></p>
<p>â…°. å¾… <code>_update_by_query</code> ä»»åŠ¡å®Œæˆåï¼Œå¯ä»¥é€šè¿‡<code>termvectors</code>æ¥æŸ¥çœ‹å®é™…ç´¢å¼•çš„è¯ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">GET /product_v1/_termvectors/{<span class="hljs-built_in">id</span>}
</code></pre>
<h3 data-id="heading-15">ä¼ ç»Ÿæ–¹æ¡ˆâ€œæ‰“è¡¥ä¸â€å®æ“æŒ‡</h3>
<p>ä¸ºâ€œå“ˆåŸºç±³â€ç´§æ€¥ä¸Šçº¿åŒä¹‰è¯è¡¥ä¸</p>
<p><strong>a. å‡†å¤‡é˜¶æ®µï¼šåœ¨è¯å…¸ä¸­æ–°å¢â€œå“ˆåŸºç±³â€ï¼Œå®šä¹‰å¸¦åŒä¹‰è¯çš„æŸ¥è¯¢åˆ†è¯å™¨</strong></p>
<p>â…°. é€šè¿‡ <code>PUT /_settings</code> APIï¼ŒåŠ å…¥ <code>synonym_graph</code> è¿‡æ»¤å™¨å’Œä½¿ç”¨å®ƒçš„æ–°åˆ†è¯å™¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">PUT /product_v1/_settings
{
  <span class="hljs-string">"analysis"</span>: {
    <span class="hljs-string">"filter"</span>: {
      <span class="hljs-string">"my_synonym_graph"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"synonym_graph"</span>,
        <span class="hljs-string">"synonyms"</span>: [
          // æ ¸å¿ƒè§„åˆ™ï¼šå°†æ–°è¯æ˜ å°„å›æ—§çš„åˆ‡åˆ†ç»“æœ
          <span class="hljs-string">"å“ˆåŸºç±³, å“ˆ åŸº ç±³"</span>
        ]
      }
    },
    <span class="hljs-string">"analyzer"</span>: {
      <span class="hljs-string">"my_search_analyzer"</span>: {
        <span class="hljs-string">"tokenizer"</span>: <span class="hljs-string">"ik_smart"</span>,
        <span class="hljs-string">"filter"</span>: [ <span class="hljs-string">"my_synonym_graph"</span> ]
      }
    }
  }
}
</code></pre>
<p><strong>b. åº”ç”¨é˜¶æ®µï¼šå°†åŒä¹‰è¯è§„åˆ™åº”ç”¨åˆ°ç´¢å¼•å­—æ®µï¼Œå¹¶æ›´æ–° Mapping</strong></p>
<p>â…°. æœ€åï¼Œæ›´æ–°å­—æ®µçš„ <code>mapping</code>ï¼ŒæŒ‡å®šåœ¨æŸ¥è¯¢æ—¶ä½¿ç”¨æˆ‘ä»¬æ–°å®šä¹‰çš„ <code>my_search_analyzer</code>ã€‚</p>
<pre><code class="hljs language-json" lang="json">PUT /product_v1/_mapping
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"analyzer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ik_max_word"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å†™å…¥æ—¶ä¿æŒåŸæ ·ï¼Œåˆ†è¯ä¸º[å“ˆ,åŸº,ç±³]</span>
      <span class="hljs-attr">"search_analyzer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"my_search_analyzer"</span> <span class="hljs-comment">// æŸ¥è¯¢æ—¶åº”ç”¨åŒä¹‰è¯è¡¥ä¸</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>c. æ•ˆæœ</strong>ï¼šå®Œæˆä»¥ä¸Šæ“ä½œåï¼Œæœç´¢â€œå“ˆåŸºç±³â€å°±èƒ½åŒ¹é…åˆ°åŒ…å« <code>å“ˆ</code> <code>åŸº</code> <code>ç±³</code> çš„æ—§æ–‡æ¡£äº†ã€‚</p>
<h3 data-id="heading-16">Serverless é…ç½®å®æ“</h3>
<p><strong>å‰æ</strong>ï¼šå·²ç»åœ¨ Serverless æ§åˆ¶å°ä¸Šä¼ è¯å…¸ï¼Œè¯å…¸IDæ ‡è¯†ä¸º <code>dict_v1</code> å’Œ <code>dict_v2</code></p>
<h4 data-id="heading-17">Step 1ï¼š çº¿ä¸ŠæœåŠ¡ç¨³å®šè¿è¡Œ</h4>
<p>åœ¨åˆ›å»ºç´¢å¼• <code>product_v``1</code> æ—¶ï¼Œä¸ºå…¶æŒ‡å®šè¯å…¸ <code>dict_v1</code>ï¼ˆå¦‚åœ¨åˆ›å»ºç´¢å¼•æ—¶æœªæŒ‡å®šè¯å…¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡PUT {index}/_settings REST APIé…ç½®ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">PUT /product_v1
{
  <span class="hljs-string">"settings"</span>: {
    <span class="hljs-string">"number_of_shards"</span>: 5,
    <span class="hljs-string">"number_of_replicas"</span>: 1,
    <span class="hljs-string">"ik.extra_dict_ids"</span>: <span class="hljs-string">"dict-v1"</span>
  },
  <span class="hljs-string">"mappings"</span>: {
    <span class="hljs-string">"properties"</span>: {
      <span class="hljs-string">"content"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
        <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_max_word"</span>,
        <span class="hljs-string">"search_analyzer"</span>: <span class="hljs-string">"ik_max_word"</span>
      }
    }
  }
}

æˆ–

PUT /product_v1/_settings
{
  <span class="hljs-string">"index"</span>:{
     <span class="hljs-string">"ik.extra_dict_ids"</span>: <span class="hljs-string">"dict-v1"</span>
  }
}
</code></pre>
<p>å°†åˆ«å <code>product_alias</code> æŒ‡å‘ç´¢å¼• <code>product_v1</code></p>
<pre><code class="hljs language-bash" lang="bash">POST /_aliases
{
  <span class="hljs-string">"actions"</span>: [
    { <span class="hljs-string">"add"</span>:    { <span class="hljs-string">"index"</span>: <span class="hljs-string">"product_v1"</span>, <span class="hljs-string">"alias"</span>: <span class="hljs-string">"product_alias"</span>, <span class="hljs-string">"is_write_index"</span>: <span class="hljs-literal">true</span> } }
  ]
}
</code></pre>
<p>æ‰¹é‡å†™å…¥æ•°æ®</p>
<pre><code class="hljs language-css" lang="css">PUT product_alias/_bulk
{"index": {"_id": <span class="hljs-number">1</span>}}
{"<span class="hljs-attribute">content</span>": <span class="hljs-string">"å“ˆé›·å½—æ˜Ÿ"</span>}
{"index": {"_id": <span class="hljs-number">2</span>}}
{"<span class="hljs-attribute">content</span>": <span class="hljs-string">"åŸºç¡€ç‰ˆæœ¬äººå·¥æ™ºèƒ½"</span>}
{"index": {"_id": <span class="hljs-number">3</span>}}
{"<span class="hljs-attribute">content</span>": <span class="hljs-string">"ç±³æ˜¯ä¸€ç§é£Ÿç‰©"</span>}
{"index": {"_id": <span class="hljs-number">5</span>}}
{"<span class="hljs-attribute">content</span>": <span class="hljs-string">"å“ˆåŸºç±³æ˜¯çŒ«å’ª"</span>}
</code></pre>
<p><code>product_v1</code> å°†ä½¿ç”¨è¯å…¸ <code>dict_v1</code> è¿è¡Œã€‚</p>
<pre><code class="hljs language-bash" lang="bash">GET product_alias/_search
{
  <span class="hljs-string">"query"</span>: {
    <span class="hljs-string">"match"</span>: {
      <span class="hljs-string">"content"</span>: <span class="hljs-string">"å“ˆåŸºç±³"</span>
    }
  }
}
</code></pre>
<p><img src="https://static001.geekbang.org/infoq/28/2853b14c8fba08b1a2d96bdbc5c52b2c.png" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">Step 2ï¼š å®‰å…¨ã€æ— æ„Ÿçš„å¼•å…¥æ–°è¯å…¸</h4>
<p>åˆ›å»ºåŒ…å«â€œå“ˆåŸºç±³â€è¯ç»„çš„æ–°è¯å…¸ <code>dict_v2</code>ï¼Œæ–°å»ºç´¢å¼• <code>product_v2</code>ï¼Œå¹¶ä¸ºå…¶æŒ‡å®šæ–°è¯å…¸</p>
<pre><code class="hljs language-css" lang="css">PUT product_v2
{
  "settings": {
    "number_of_shards": <span class="hljs-number">5</span>,
    <span class="hljs-string">"number_of_replicas"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">"ik.extra_dict_ids"</span>: <span class="hljs-string">"dict-v2"</span>
  },
  "mappings": {
    "properties": {
      "<span class="hljs-attribute">content</span>": {
        "type": <span class="hljs-string">"text"</span>,
        <span class="hljs-string">"analyzer"</span>: <span class="hljs-string">"ik_max_word"</span>,
        <span class="hljs-string">"search_analyzer"</span>: <span class="hljs-string">"ik_max_word"</span>
      }
    }
  }
}
</code></pre>
<p>é€šè¿‡ API <code>_reindex</code> å°† <code>product_v1</code> ç´¢å¼•ä¸­çš„æ•°æ®æ›´æ–°åˆ° <code>product_v2</code> ä¸­ã€‚</p>
<pre><code class="hljs language-json" lang="json">POST _reindex
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"product_v1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dest"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"product_v2"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶åå°†åˆ«å <code>product_alias</code> æŒ‡å‘ç´¢å¼• <code>product_v2</code></p>
<pre><code class="hljs language-bash" lang="bash">POST /_aliases
{
  <span class="hljs-string">"actions"</span>: [
    { <span class="hljs-string">"remove"</span>:    { <span class="hljs-string">"index"</span>: <span class="hljs-string">"product_v1"</span>, <span class="hljs-string">"alias"</span>: <span class="hljs-string">"product_alias"</span> } },
    { <span class="hljs-string">"add"</span>:    { <span class="hljs-string">"index"</span>: <span class="hljs-string">"product_v2"</span>, <span class="hljs-string">"alias"</span>: <span class="hljs-string">"product_alias"</span>, <span class="hljs-string">"is_write_index"</span>: <span class="hljs-literal">true</span> } }
  ]
}
</code></pre>
<p>ç”±äº <code>products_v2</code> å·²ç»ç»‘å®šäº†æ–°è¯å…¸ï¼Œæ‰€æœ‰æ–°å†™å…¥çš„æ•°æ®éƒ½ä¼šæ­£ç¡®åœ°å°†â€œå“ˆåŸºç±³â€ç´¢å¼•ä¸ºä¸€ä¸ªå®Œæ•´çš„ Termã€‚</p>
<p>æ­¤æ—¶æŸ¥è¯¢ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://static001.geekbang.org/infoq/b3/b32137a217b1b1892db1d455acaececa.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-19">å…­ã€ç»“å°¾</h2>
<p>å¼€æº IK åˆ†è¯å™¨çš„èŠ‚ç‚¹çº§å…¨å±€è¯å…¸æœºåˆ¶ï¼Œåœ¨åŠ¨æ€çƒ­æ›´æ–°åœºæ™¯ä¸‹ï¼Œä¸ ES çš„é™æ€å€’æ’ç´¢å¼•å¤©ç„¶å†²çªã€‚ä¼ ç»Ÿè§£æ³•è¦ä¹ˆç‰ºç‰²ä¸šåŠ¡è¿ç»­æ€§ï¼Œè¦ä¹ˆå¢åŠ è¿ç»´æˆæœ¬ã€‚</p>
<p>é˜¿é‡Œäº‘ ES Serverless é€šè¿‡ â€œç´¢å¼•çº§è¯å…¸â€ æ¶æ„ï¼Œå½»åº•æ¶ˆé™¤äº†è¿™ä¸€å†²çªï¼Œå®ç°ï¼š</p>
<ul>
<li>
<p>æ–°æ—§æ•°æ®ç‰ˆæœ¬çš„æ— ç¼å…¼å®¹</p>
</li>
<li>
<p>çƒ­æ›´æ–°è¿‡ç¨‹çš„å…¨ç¨‹é€æ˜</p>
</li>
<li>
<p>é›†ç¾¤èµ„æºçš„æœ€å¤§åŒ–åˆ©ç”¨</p>
</li>
</ul>
<p><strong>å‘Šåˆ«â€œé…ç½®åœ°ç‹±â€ï¼Œå›å½’ä¸šåŠ¡ä»·å€¼ï¼ä¸å†è®©ä¸€æ¬¡ç®€å•çš„çƒ­è¯æ›´æ–°ï¼Œå˜æˆçº¿ä¸Šäº‹æ•…ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸‰ï¼‰ï¼šè®¤è¯†custom_promptså’Œskills]]></title>    <link>https://juejin.cn/post/7585005164726075430</link>    <guid>https://juejin.cn/post/7585005164726075430</guid>    <pubDate>2025-12-18T09:28:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585005164726075430" data-draft-id="7584831190730768410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸‰ï¼‰ï¼šè®¤è¯†custom_promptså’Œskills"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T09:28:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸‰ï¼‰ï¼šè®¤è¯†custom_promptså’Œskills
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:28:18.000Z" title="Thu Dec 18 2025 09:28:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¥ä¸Šç¯‡</p>
<p>è¿™ä¸¤é¡¹æ˜¯åœ¨ä½¿ç”¨AIè¾…åŠ©ç¼–ç¨‹æ—¶å¿…é¡»äº†è§£çš„ã€‚æ˜¯ä¸æ˜¯å†™æç¤ºè¯å†™çš„å¾ˆçƒ¦ï¼Œå¹¶ä¸”æ˜¯å¾ˆå¤šé‡å¤çš„åŠ³åŠ¨ï¼Ÿè®©custom_promptså’Œskillsæ¥å¸®å¿™ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€è‡ªå®šä¹‰Prompts</h2>
<p>å®ƒçš„ä½œç”¨å°±æ˜¯æŠŠé‡å¤çš„æç¤ºè¯å›ºå®šä¸‹æ¥ï¼Œä¸‹æ¬¡ç›´æ¥åŠ å…¥åˆ°Codexçš„ä¸Šä¸‹æ–‡ã€‚ä¸‹é¢æ˜¯å®ç°æ­¥éª¤åŠç”¨æ³•ã€‚</p>
<h3 data-id="heading-1">1ã€åˆ›å»ºpromptsæ–‡ä»¶å¤¹</h3>
<p>åœ¨<code>~/.codex</code>è¿›å…¥<code>.codex</code>æ–‡ä»¶å¤¹ï¼Œåˆ›å»º<code>prompts</code>æ–‡ä»¶å¤¹,åœ¨<code>prompts</code>ä¸­å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸ªMarkdownå°±å¯ä»¥å›ºå®šä¸‹æ¥ä¸€ä¸ªä¸ªæç¤ºè¯äº†ã€‚</p>
<h3 data-id="heading-2">2ã€ç¼–è¾‘æç¤ºè¯</h3>
<p>å‡å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª<code>figma_ui.md</code>çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯å›ºå®šä¸‹æ¥é€šè¿‡Figma MCPè½¬æ¢AndroidåŸç”ŸXML UIçš„æç¤ºè¯ï¼Œé‚£åº”è¯¥å¦‚ä½•ç¼–è¾‘<code>figma_ui.md</code>æ–‡ä»¶å‘¢ï¼Ÿæ˜¯æœ‰å›ºå®šæ ¼å¼çš„ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
description: ä½¿ç”¨Figma MCPç”ŸæˆAndroid åŸç”ŸXMLå¸ƒå±€ä»£ç 
argument-hint: [NOTE=]
---

è¿™é‡Œå°±å†™å›ºå®šä¸‹æ¥çš„æç¤ºè¯...
</code></pre>
<p>NOTEå°±æ˜¯å¯ä»¥æ’å…¥å†…å®¹çš„å ä½ç¬¦ï¼Œç”¨çš„ä¸å¤šï¼Œçœ‹ä¸ªäººå‘æŒ¥ã€‚</p>
<h3 data-id="heading-3">3ã€ä½¿ç”¨</h3>
<p>ç¼–è¾‘å¥½åä¿å­˜ï¼Œè¾“å…¥<code>/prompts</code>å°±å¯ä»¥çœ‹åˆ°äº†,å¦‚æœè¦è¿½åŠ NOTEå†…å®¹å°±æŒ‰Tab,ä¸è¿½åŠ å°±æŒ‰å›è½¦ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a775c2fbb10e43428f3f0bb522df603e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766654940&amp;x-signature=ybZvX3Fz7QU5lzH6n0go3p%2BV0tY%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ ·æç¤ºè¯å°±è¿½åŠ åˆ°äº†Codexçš„ä¸Šä¸‹æ–‡ã€‚</p>
<h2 data-id="heading-4">äºŒã€ç¼–è¾‘skills</h2>
<p>skillæ˜¯ä»€ä¹ˆï¼Ÿskillå…¶å®æ˜¯æ²‰æ·€ä¸‹æ¥çš„ä¸€é¡¹é¡¹æŠ€èƒ½ï¼Œæ¯”å¦‚é¡¹ç›®ä¸­åˆ›å»ºActivityï¼Œæ¯ä¸ªé¡¹ç›®ä¸­è‚¯å®šæœ‰ä¸€å¥—å›ºå®šä¸‹æ¥åˆ›å»ºActivityçš„ä»£ç ï¼Œç»§æ‰¿è°å®ç°ä»€ä¹ˆå‡½æ•°ï¼Œå…¨æ˜¯æ¨¡æ¿ä»£ç ï¼Œè€Œè¿™ç§å›ºå®šçš„æ¨¡æ¿ä»£ç å°±å¯ä»¥æŠ½å–ä¸ºä¸€ä¸ªä¸ªskillï¼Œæ³¨æ„skillæ˜¯èƒ½åŠ›ï¼Œä¸æ˜¯æ¨¡ç‰ˆã€‚</p>
<h3 data-id="heading-5">1ã€åˆ›å»ºskillsæ–‡ä»¶å¤¹</h3>
<p>åœ¨<code>~/.codex</code>è¿›å…¥<code>.codex</code>æ–‡ä»¶å¤¹ï¼Œåˆ›å»º<code>skills</code>æ–‡ä»¶å¤¹,åœ¨<code>skills</code>æ–‡ä»¶å¤¹ä¸­å¯ä»¥å­˜æ”¾ä¸€ä¸ªä¸ªskill.</p>
<h3 data-id="heading-6">2ã€ç¼–è¾‘skill</h3>
<p>è¿˜æ˜¯ä»¥Figma UIæ¥ä¸¾ä¾‹ï¼Œåœ¨<code>skills</code>æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼Œå­æ–‡ä»¶å¤¹åå­—æ˜¯<code>figma_ui_to_xml</code>ï¼Œç„¶ååœ¨<code>figma_ui_to_xml</code>å†…åˆ›å»ºä¸€ä¸ªMarkdownæ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯å›ºå®šçš„<code>SKILL.md</code>ã€‚</p>
<p>è¿™ä¸ªæ–‡ä»¶çš„å¤´éƒ¨ä¹Ÿæ˜¯å›ºå®šçš„<code>name</code>å’Œ<code>description</code>, ç”¨æ¥æš´éœ²skill èƒ½åŠ›çš„åå­—å’Œæè¿°ï¼Œæ³¨æ„è¿™äºŒä¸ªç‰¹åˆ«é‡è¦ï¼Œå› ä¸ºskillæ˜¯ä¸€èˆ¬ä¸ä¼šæ˜¾ç¤ºè°ƒç”¨çš„ï¼Œskillçš„èƒ½åŠ›èƒ½ä¸èƒ½è¢«è°ƒç”¨åˆ°ï¼Œå°±æ˜¯çœ‹ä¸<code>name</code>å’Œ<code>description</code>çš„åŒ¹é…åº¦ï¼ŒåŒ¹é…åº¦é«˜AIè®¤ä¸ºéœ€è¦ä½¿ç”¨è¿™ä¸ªskill, å°±ä¼šæŠŠè¿™ä¸ªskillçš„æç¤ºè¯åŠ è½½è¿›ä¸Šä¸‹æ–‡ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: figma_ui_to_xml
description: Implement <span class="hljs-keyword">this</span> Figma designã€‚å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXMLã€‚
---

å†™æç¤º

</code></pre>
<h3 data-id="heading-7">3ã€ä½¿ç”¨</h3>
<p>éšå¼è°ƒç”¨ï¼šæ–¹ä¾¿å¿«æ·(æ¨è)ã€‚</p>
<p>æ¯”å¦‚åœ¨æ”¾å…¥Figma MCPé“¾æ¥æ—¶å‰é¢åŠ ä¸Š<code>Implement this Figma design</code>ã€‚é‚£ä¹ˆå› ä¸ºåŒ¹é…åˆ°äº†<code>figma_ui_to_xml</code>çš„<code>description</code>çš„è¯­å¥ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªskillã€‚</p>
<p>æ˜¾ç¤ºè°ƒç”¨ï¼šç›´æ¥ï¼Œæ˜ç¡®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69837b37aab64edca0f559f08a7e17bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766654940&amp;x-signature=2f9WvDhgMYG7lDByxBABGKB6yRg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1eb2746391a410c9867e0a9e9cbde6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766654940&amp;x-signature=RQRPpEXp7UbOb0pgfgmpVozQfBY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰ã€è¯¥ç”¨è°ï¼Ÿ</h2>
<p>ä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ¨èç”¨skill, é¡¹ç›®ä¸­çš„è§„èŒƒå†™æ³•ã€ä¸€å¥—ä¸€å¥—çš„æ¨¡ç‰ˆä»£ç ã€å„ç§èƒ½åŠ›éƒ½é€‚åˆå½’çº³ä¸ºskill,ç„¶åè®©AIè‡ªåŠ¨åˆ¤æ–­é€‚åˆç”¨å“ªä¸ªskillã€‚è€Œprompté€‚åˆä¸é¡¹ç›®æ²¡æœ‰å¼ºå…³è”çš„ï¼Œå¶å°”è¦é—®é‚£ä¹ˆä¸€æ¬¡çš„ï¼Œæ¯æ¬¡ç¼–è¾‘éƒ½å¾ˆçƒ¦çš„ï¼Œå°±å¯ä»¥å›ºå®šæˆè‡ªå®šä¹‰promptã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸–ç•Œæ¨¡å‹ï¼šAIçš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘]]></title>    <link>https://juejin.cn/post/7584909732613554211</link>    <guid>https://juejin.cn/post/7584909732613554211</guid>    <pubDate>2025-12-18T09:30:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584909732613554211" data-draft-id="7584909732613505059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸–ç•Œæ¨¡å‹ï¼šAIçš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-18T09:30:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºè§AGI"/> <meta itemprop="url" content="https://juejin.cn/user/4145611877132986"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸–ç•Œæ¨¡å‹ï¼šAIçš„ä¸‹ä¸€ä¸ªé‡Œç¨‹ç¢‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4145611877132986/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºè§AGI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:30:49.000Z" title="Thu Dec 18 2025 09:30:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å¼•è¨€</strong></p>
<p>å½“OpenAIçš„Soraæ¨ªç©ºå‡ºä¸–ï¼Œç”¨ä¸€æ®µ60ç§’çš„é«˜æ¸…è§†é¢‘éœ‡æ’¼æ•´ä¸ªAIç•Œæ—¶ï¼Œå¾ˆå¤šäººè¿˜ä¸çŸ¥é“ï¼Œè¿™èƒŒåçœŸæ­£çš„æŠ€æœ¯é©å‘½å«åš"ä¸–ç•Œæ¨¡å‹"ï¼ˆWorld Modelï¼‰ã€‚</p>
<p>å¦‚æœè¯´å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è®©AIå­¦ä¼šäº†"è¯´è¯"ï¼Œé‚£ä¹ˆä¸–ç•Œæ¨¡å‹åˆ™æ˜¯è¦è®©AIå­¦ä¼š"ç†è§£ä¸–ç•Œ"â€”â€”ä¸ä»…ä»…æ˜¯æ–‡å­—å’Œè¯­è¨€ï¼Œè€Œæ˜¯çœŸæ­£ç†è§£ç‰©ä½“å¦‚ä½•è¿åŠ¨ã€å…‰å½±å¦‚ä½•å˜åŒ–ã€ç‰©ç†è§„å¾‹å¦‚ä½•ä½œç”¨ã€‚è¿™æ˜¯AIé€šå¾€é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆAGIï¼‰é“è·¯ä¸Šçš„å…³é”®ä¸€æ­¥ã€‚</p>
<p><strong>ä»€ä¹ˆæ˜¯ä¸–ç•Œæ¨¡å‹ï¼Ÿ</strong></p>
<p><strong>ä»äººè„‘çš„"å¿ƒæ™ºæ¨¡å‹"è¯´èµ·</strong></p>
<p>ä»å†å²è„‰ç»œæ¥çœ‹ï¼Œä¸–ç•Œæ¨¡å‹çš„æ€æƒ³æœ€æ—©å¯è¿½æº¯åˆ° 20 ä¸–çºª 60 å¹´ä»£ Minsky æå‡ºçš„Â <strong>æ¡†æ¶ç†è®ºï¼ˆFrame System Theoryï¼‰</strong> ï¼Œä»¥åŠå¼ºåŒ–å­¦ä¹ ä¸­ç”¨äºå»ºæ¨¡ç¯å¢ƒåŠ¨æ€çš„æ–¹æ³•ã€‚è¿›å…¥æ·±åº¦å­¦ä¹ æ—¶ä»£ï¼Œ2018 å¹´ Ha ç­‰äººæå‡ºçš„å¾ªç¯ç¥ç»ç½‘ç»œéšå¼æ¨¡å‹ï¼Œé‡æ–°ç‚¹ç‡ƒäº†å­¦ç•Œå¯¹ä¸–ç•Œæ¨¡å‹çš„ç ”ç©¶çƒ­æƒ…ã€‚è¿‘å¹´æ¥ï¼Œéšç€Â <strong>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ã€è‡ªç›‘ç£å­¦ä¹ ï¼ˆJEPA æ¶æ„ï¼‰ã€è§†é¢‘ç”Ÿæˆä¸äº¤äº’å¼ä¸‰ç»´ç¯å¢ƒ</strong>Â ç­‰æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œä¸–ç•Œæ¨¡å‹é€æ¸æˆä¸ºäººå·¥æ™ºèƒ½è·¨æ¨¡æ€ã€è·¨ä»»åŠ¡çš„é‡è¦ç ”ç©¶æ–¹å‘ã€‚</p>
<p>åŒæ—¶ï¼Œä¸–ç•Œæ¨¡å‹çš„æ¦‚å¿µå¹¶éä»…æºè‡ªäººå·¥æ™ºèƒ½æœ¬èº«ï¼Œè€Œæ˜¯æ·±æ¤äºå¿ƒç†å­¦ä¸è®¤çŸ¥ç§‘å­¦ä¼ ç»Ÿã€‚æ—©åœ¨ 20 ä¸–çºª 40 å¹´ä»£ï¼ŒCraik å°±æå‡ºäººç±»ä¼šåœ¨å¤§è„‘ä¸­æ„å»ºä¸€ä¸ªå¤–éƒ¨ä¸–ç•Œçš„"å°å‹æ¨¡æ‹Ÿå™¨"ï¼Œé€šè¿‡è¿™ä¸ªæ¨¡æ‹Ÿå™¨æ¥é¢„æµ‹æœªæ¥ã€è¯„ä¼°ä¸åŒé€‰æ‹©çš„åæœï¼Œä»è€Œåšå‡ºæ›´å®‰å…¨ã€æ›´æ˜æ™ºçš„å†³ç­–ã€‚1980 å¹´ä»£ï¼ŒJohnson-Laird ç³»ç»ŸåŒ–æå‡ºâ€œå¿ƒç†æ¨¡å‹ç†è®ºï¼ˆMental Modelï¼‰â€ï¼Œæ­ç¤ºäº†äººç±»æ¨ç†ä¾èµ–äºå¯¹ä¸åŒå¯èƒ½ä¸–ç•Œçš„æ¨¡æ‹Ÿã€‚</p>
<p>æƒ³è±¡ä¸€ä¸ªæ£’çƒå‡»çƒæ‰‹ï¼šçƒé£å‘ä»–çš„ç¬é—´ï¼Œä»–çš„å¤§è„‘ä¼šå¿«é€Ÿæ¨¡æ‹Ÿçƒçš„è½¨è¿¹ã€é¢„åˆ¤è½ç‚¹ã€è®¡ç®—æŒ¥æ£’æ—¶æœºã€‚è¿™ä¸ªè¿‡ç¨‹ä¸æ˜¯é æ­»è®°ç¡¬èƒŒï¼Œè€Œæ˜¯åŸºäºå¯¹ç‰©ç†ä¸–ç•Œçš„ç†è§£â€”â€”é‡åŠ›ã€é€Ÿåº¦ã€è§’åº¦ç­‰ã€‚</p>
<p>AIä¸­çš„ä¸–ç•Œæ¨¡å‹æ­£æ˜¯å—æ­¤å¯å‘ï¼šæ„å»ºä¸€ä¸ªèƒ½å¤Ÿç†è§£å’Œæ¨¡æ‹ŸçœŸå®ä¸–ç•ŒåŠ¨æ€çš„å†…éƒ¨è¡¨å¾ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/382a5edf1b034608b02880c7c5063277~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=wgZ0HUasQ0MnvgJgHYq42BMk3Uk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾1 ä¸–ç•Œæ¨¡å‹çš„æœ¬è´¨ç›®æ ‡ï¼Œå³ç†è§£å¤–éƒ¨ä¸–ç•Œçš„åŠ¨æ€å¹¶é¢„æµ‹æœªæ¥æƒ…æ™¯ã€‚æ—¶é—´çº¿å±•ç¤ºäº†å…³é”®å®šä¹‰å’Œåº”ç”¨çš„å‘å±•ã€‚</p>
<p><strong>æŠ€æœ¯å®šä¹‰</strong></p>
<p><strong>ä¸–ç•Œæ¨¡å‹æ˜¯ä¸€ç§AIç³»ç»Ÿï¼Œèƒ½å¤Ÿï¼š</strong></p>
<ul>
<li>å­¦ä¹ ç¯å¢ƒçš„å†…éƒ¨è¡¨å¾ï¼ˆåŒ…æ‹¬ç‰©ç†è§„å¾‹ã€ç©ºé—´å…³ç³»ã€å› æœè”ç³»ï¼‰</li>
</ul>

<ul>
<li>é¢„æµ‹æœªæ¥çŠ¶æ€çš„æ¼”å˜</li>
</ul>

<ul>
<li>æ¨¡æ‹Ÿä¸åŒè¡ŒåŠ¨çš„åæœ</li>
</ul>

<ul>
<li>æ”¯æŒæ™ºèƒ½ä½“çš„è§„åˆ’å’Œå†³ç­–</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œä¸–ç•Œæ¨¡å‹å°±åƒAIå¤´è„‘ä¸­çš„ä¸€ä¸ª"æ¨¡æ‹Ÿå™¨"ï¼Œè®©å®ƒå¯ä»¥åœ¨æ‰§è¡ŒçœŸå®åŠ¨ä½œä¹‹å‰ï¼Œå…ˆåœ¨è„‘æµ·ä¸­"æ¼”ç»ƒ"ä¸€éã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„æŠ€æœ¯æ¼”è¿›</strong></p>
<p><strong>æ—©æœŸæ¢ç´¢ï¼ˆ1990-2018ï¼‰</strong></p>
<p>ä¸–ç•Œæ¨¡å‹çš„æŠ€æœ¯åŸºç¡€å¯è¿½æº¯åˆ°1990å¹´Richard Suttonæå‡ºçš„Dynaç®—æ³•ï¼Œè¿™æ˜¯åŸºäºæ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ ï¼ˆModel-Based RLï¼‰çš„é‡è¦é‡Œç¨‹ç¢‘ã€‚</p>
<p>2018å¹´ï¼ŒJÃ¼rgen Schmidhuberå’ŒDavid Haåœ¨NeurIPSå‘è¡¨çš„è®ºæ–‡ã€ŠRecurrent World Models Facilitate Policy Evolutionã€‹çœŸæ­£è®©"ä¸–ç•Œæ¨¡å‹"è¿™ä¸ªæœ¯è¯­å¹¿ä¸ºäººçŸ¥ã€‚ä»–ä»¬çš„æ¶æ„åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š</p>
<p><strong>1.Væ¨¡å—ï¼ˆVAEï¼‰ï¼š</strong> Â å°†é«˜ç»´è§‚æµ‹ï¼ˆå¦‚å›¾åƒï¼‰å‹ç¼©ä¸ºä½ç»´æ½œåœ¨è¡¨å¾</p>
<p><strong>2.Mæ¨¡å—ï¼ˆRNNï¼‰ï¼š</strong> Â é¢„æµ‹åºåˆ—ä¸­ä¸‹ä¸€æ—¶åˆ»çš„è¡¨å¾</p>
<p><strong>3.Cæ¨¡å—ï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong> Â åŸºäºè¡¨å¾åšå‡ºå†³ç­–</p>
<p>è¿™ä¸ªæ¶æ„çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>è®©AIåœ¨å‹ç¼©çš„æ½œåœ¨ç©ºé—´ä¸­è¿›è¡Œä¸–ç•Œå»ºæ¨¡ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨åŸå§‹åƒç´ ç©ºé—´ï¼Œå¤§å¹…é™ä½è®¡ç®—å¤æ‚åº¦ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d907dece838346029723551e25c0a58e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=OvFA1Ae2Ons9%2B8JwGHfATCDuBnc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾2 è®ºæ–‡ã€ŠRecurrent World Models Facilitate Policy Evolutionã€‹ä¸­æåˆ°çš„ä¸–ç•Œæ¨¡å‹æ¶æ„ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„æ ¸å¿ƒç‰¹ç‚¹</strong></p>
<p><strong>å†…åœ¨è¡¨å¾ä¸é¢„æµ‹ï¼š</strong> Â ä¸–ç•Œæ¨¡å‹å¯ä»¥å°†é«˜ç»´çš„åŸå§‹è§‚æµ‹æ•°æ®ï¼ˆå¦‚å›¾åƒã€å£°éŸ³ã€æ–‡æœ¬ç­‰ï¼‰ç¼–ç ä¸ºä½ç»´çš„æ½œåœ¨çŠ¶æ€ï¼Œå½¢æˆå¯¹ä¸–ç•Œçš„ç®€æ´è€Œæœ‰æ•ˆçš„è¡¨å¾ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå®ƒèƒ½å¤Ÿé¢„æµ‹åœ¨ç»™å®šå½“å‰çŠ¶æ€å’ŒåŠ¨ä½œçš„æƒ…å†µä¸‹ï¼Œä¸‹ä¸€ä¸ªæ—¶åˆ»çš„çŠ¶æ€åˆ†å¸ƒï¼Œä»è€Œå®ç°å¯¹æœªæ¥äº‹ä»¶çš„å‰ç»æ€§é¢„æµ‹ã€‚</p>
<p><strong>ç‰©ç†è®¤çŸ¥ä¸å› æœå…³ç³»ï¼š</strong> Â ä¸–ç•Œæ¨¡å‹å…·å¤‡åŸºæœ¬çš„ç‰©ç†è®¤çŸ¥èƒ½åŠ›ï¼Œèƒ½å¤Ÿç†è§£å’Œæ¨¡æ‹Ÿç‰©ç†ä¸–ç•Œçš„è§„å¾‹ï¼Œå¦‚é‡åŠ›ã€æ‘©æ“¦åŠ›ã€è¿åŠ¨è½¨è¿¹ç­‰ã€‚è¿™ä½¿å¾—å®ƒåœ¨å¤„ç†ä¸ç‰©ç†ä¸–ç•Œç›¸å…³çš„é—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿæä¾›æ›´å‡†ç¡®ã€æ›´ç¬¦åˆç°å®çš„é¢„æµ‹å’Œå†³ç­–æ”¯æŒã€‚</p>
<p><strong>åäº‹å®æ¨ç†èƒ½åŠ›ï¼š</strong> Â ä¸–ç•Œæ¨¡å‹ä¸ä»…èƒ½å¤ŸåŸºäºå·²æœ‰çš„æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œè¿˜èƒ½å¤Ÿè¿›è¡Œå‡è®¾æ€§æ€è€ƒå³åäº‹å®æ¨ç†ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥å›ç­”â€œå¦‚æœç¯å¢ƒæ¡ä»¶æ”¹å˜ï¼Œç»“æœä¼šæ€æ ·â€è¿™ç±»é—®é¢˜ï¼Œä»è€Œä¸ºå¤æ‚é—®é¢˜çš„è§£å†³æä¾›æ›´å¤šçš„å¯èƒ½æ€§å’Œæ€è·¯ã€‚</p>
<p><strong>å› æœæ¨ç†</strong>å›ç­”ï¼š"å¦‚æœAå‘ç”Ÿäº†ï¼ŒBä¼šæ€æ ·ï¼Ÿ"</p>
<p><strong>åäº‹å®æ¨ç†</strong>å›ç­”ï¼š"å¦‚æœå½“æ—¶é€‰æ‹©äº†Aè€Œä¸æ˜¯Bï¼Œç»“æœä¼šæ€æ ·ï¼Ÿ"</p>
<p>è¿™ç§"æ¨¡æ‹Ÿæœªå‘ç”Ÿäº‹ä»¶"çš„èƒ½åŠ›ï¼Œæ˜¯äººç±»æ™ºèƒ½çš„é‡è¦ç‰¹å¾ï¼Œä¹Ÿæ˜¯å½“å‰AIæœ€æ¬ ç¼ºçš„ã€‚ä¸€æ—¦çªç ´ï¼Œå°†å¯¹AIå†³ç­–èƒ½åŠ›å¸¦æ¥é©å‘½æ€§æå‡ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„ç°ä»£å®ç°</strong></p>
<p><strong>æŠ€æœ¯æ¶æ„</strong></p>
<p>ç°ä»£ä¸–ç•Œæ¨¡å‹é€šå¸¸é‡‡ç”¨ä»¥ä¸‹æŠ€æœ¯æ ˆï¼š</p>
<p><strong>çŠ¶æ€è¡¨å¾æ¨¡å‹ï¼š</strong> Â å…¶ä½œç”¨æ˜¯å°†åŸå§‹è§‚æµ‹æ•°æ®ï¼ˆå¦‚é«˜ç»´å›¾åƒã€ä¼ æ„Ÿå™¨æ•°æ®ç­‰ï¼‰å‹ç¼©ä¸ºä½ç»´çš„æ½œåœ¨çŠ¶æ€ï¼Œä¿ç•™å…³é”®ä¿¡æ¯ï¼Œè¿‡æ»¤å™ªå£°ã€‚å¸¸è§çš„å®ç°æ–¹æ³•æ˜¯ä½¿ç”¨å˜åˆ†è‡ªåŠ¨ç¼–ç å™¨ ï¼ˆVAEï¼‰ç­‰æŠ€æœ¯ã€‚è¿™ç§å‹ç¼©å’Œè¡¨ç¤ºæ–¹å¼ä½¿å¾—æ¨¡å‹èƒ½å¤Ÿæ›´é«˜æ•ˆåœ°å¤„ç†å’Œç†è§£å¤æ‚çš„æ•°æ®è¾“å…¥ã€‚</p>
<p><strong>åŠ¨æ€æ¨¡å‹ï¼š</strong> Â è¿™æ˜¯ä¸–ç•Œæ¨¡å‹çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œç”¨äºé¢„æµ‹ç»™å®šå½“å‰æ½œåœ¨çŠ¶æ€å’ŒåŠ¨ä½œæ—¶ï¼Œç¯å¢ƒçš„ä¸‹ä¸€ä¸ªçŠ¶æ€åˆ†å¸ƒã€‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ã€é•¿çŸ­æœŸè®°å¿†ç½‘ç»œï¼ˆLSTMï¼‰æˆ–éšæœºçŠ¶æ€ç©ºé—´æ¨¡å‹ï¼ˆSSMï¼‰ç­‰é€šå¸¸è¢«ç”¨æ¥å­¦ä¹ çŠ¶æ€è½¬ç§»è§„å¾‹ï¼Œä»è€Œæ„å»ºå¯¹ä¸–ç•Œç‰©ç†è§„å¾‹çš„éšå¼ç†è§£ã€‚åŠ¨æ€æ¨¡å‹ä¸ºæ™ºèƒ½ä½“æä¾›äº†ä¸€ä¸ªè™šæ‹Ÿçš„â€œæ²™ç›˜â€ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨å…¶ä¸­è¿›è¡Œæ¨¡æ‹Ÿå’Œè¯•éªŒï¼Œè€Œæ— éœ€åœ¨çœŸå®ç¯å¢ƒä¸­è¿›è¡Œæ˜‚è´µçš„è¯•é”™ã€‚</p>
<p><strong>å†³ç­–æ¨¡å‹ï¼š</strong> Â åŸºäºçŠ¶æ€é¢„æµ‹ï¼Œå†³ç­–æ¨¡å‹ä½¿ç”¨æ¨¡å‹é¢„æµ‹æ§åˆ¶ï¼ˆMPCï¼‰æˆ–æ·±åº¦å¼ºåŒ–å­¦ä¹ ï¼ˆå¦‚ Actor-Critic ç½‘ç»œï¼‰ç­‰æ–¹æ³•ï¼Œè§„åˆ’æœ€ä¼˜çš„åŠ¨ä½œåºåˆ—ä»¥è¾¾æˆç›®æ ‡ï¼Œå®ƒæ ¹æ®é¢„æµ‹çš„æœªæ¥çŠ¶æ€æ¥è¯„ä¼°ä¸åŒåŠ¨ä½œçš„ä»·å€¼æˆ–å¥–åŠ±ä¿¡å·ï¼Œä»è€ŒæŒ‡å¯¼æ™ºèƒ½ä½“åœ¨ç¯å¢ƒä¸­é‡‡å–åˆç†çš„è¡ŒåŠ¨ã€‚</p>
<p><strong>Soraï¼šä¸–ç•Œæ¨¡å‹çš„å·¥ä¸šçº§å®ç°</strong></p>
<p>OpenAIçš„Soraæ˜¯ä¸–ç•Œæ¨¡å‹åœ¨è§†é¢‘ç”Ÿæˆé¢†åŸŸçš„çªç ´æ€§åº”ç”¨ã€‚è¿™ä¸ªæ¨¡å‹èƒ½ç”Ÿæˆé•¿è¾¾60ç§’çš„è¿è´¯è§†é¢‘ï¼Œæ”¯æŒä»»æ„åˆ†è¾¨ç‡å’Œå®½é«˜æ¯”ï¼Œæ›´ä»¤äººæƒŠå¹çš„æ˜¯å®ƒèƒ½å±•ç°å‡ºä¸‰ç»´ç©ºé—´çš„ä¸€è‡´æ€§å’Œç‰©ä½“çš„æŒä¹…æ€§ï¼Œå³ä½¿ç‰©ä½“æš‚æ—¶è¢«é®æŒ¡æˆ–ç¦»å¼€ç”»é¢ï¼Œå®ƒä¾ç„¶èƒ½åœ¨æ°å½“çš„æ—¶å€™ä»¥æ­£ç¡®çš„çŠ¶æ€é‡æ–°å‡ºç°ã€‚Soraçš„æŠ€æœ¯åˆ›æ–°ä¸»è¦ä½“ç°åœ¨å››ä¸ªæ–¹é¢ï¼šé¦–å…ˆæ˜¯ç»Ÿä¸€çš„è§†è§‰è¡¨å¾ï¼Œå®ƒå°†ä¸åŒé•¿åº¦ã€åˆ†è¾¨ç‡çš„è§†é¢‘éƒ½ç»Ÿä¸€è½¬æ¢ä¸ºPatchåºåˆ—ï¼Œå°±åƒLLMå¤„ç†æ–‡æœ¬Tokenä¸€æ ·ä¼˜é›…ï¼›å…¶æ¬¡æ˜¯åŸç”Ÿåˆ†è¾¨ç‡è®­ç»ƒï¼Œä¸è£å‰ªä¸è°ƒæ•´ï¼Œå®Œæ•´ä¿ç•™æ„å›¾ä¿¡æ¯ï¼›ç¬¬ä¸‰æ˜¯é‡‡ç”¨ Diffusion Transformerï¼ˆDiTï¼‰ æ¶æ„ï¼Œå·§å¦™ç»“åˆäº†æ‰©æ•£æ¨¡å‹çš„ç”Ÿæˆèƒ½åŠ›å’Œ Transformer çš„åºåˆ—å»ºæ¨¡ä¼˜åŠ¿ï¼›æœ€åä¹Ÿæ˜¯æœ€ç¥å¥‡çš„ä¸€ç‚¹ï¼Œç‰©ç†ç†è§£çš„æ¶Œç°ï¼Œå°½ç®¡æ²¡æœ‰äººæ˜ç¡®å‘Šè¯‰å®ƒä¸‰ç»´ç©ºé—´çš„è§„åˆ™ï¼Œå®ƒå´èƒ½è‡ªå·±"æ‚Ÿå‡º"ç©ºé—´è¿è´¯æ€§ã€‚å½“ç„¶ï¼ŒSoraä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œå¤æ‚çš„ç‰©ç†äº¤äº’ä»ä¼šå‡ºé”™ï¼ˆæ¯”å¦‚ç»ç’ƒç ´ç¢çš„æ–¹å¼ä¸å¤ŸçœŸå®ï¼‰ï¼Œå› æœå…³ç³»ç†è§£ä¹Ÿä¸å®Œå–„ï¼ˆæ¯”å¦‚å’¬äº†æ±‰å ¡å´æ²¡æœ‰ç•™ä¸‹å’¬ç—•ï¼‰ï¼Œè¿˜æœ‰å·¦å³æ··æ·†ç­‰ç©ºé—´æ¨ç†é—®é¢˜ã€‚ä½†æ­£å¦‚Soraçš„æŠ€æœ¯æŠ¥å‘Šæ‰€è¨€ï¼šè§†é¢‘ç”Ÿæˆæ¨¡å‹æ­£åœ¨æˆä¸ºç‰©ç†ä¸–ç•Œçš„é€šç”¨æ¨¡æ‹Ÿå™¨ï¼Œè¿™æ˜¯é€šå¾€AGIçš„å…³é”®è·¯å¾„ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„åº”ç”¨å‰æ™¯</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d985300b8a444dce83a0e067972dfca8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=neY6tEfeskMS%2BsYEG9m3Pt%2FwGe8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾3 æ·±åº¦å­¦ä¹ æ—¶ä»£ä¸–ç•Œæ¨¡å‹ç›¸å…³æŠ€æœ¯ã€åº”ç”¨çš„å‘å±•è·¯çº¿å›¾</p>
<p><strong>æœºå™¨äººæŠ€æœ¯</strong></p>
<p>ä¸–ç•Œæ¨¡å‹æ­£åœ¨æˆä¸ºç‰©ç†AIçš„æ ¸å¿ƒåŸºç¡€ã€‚å…·å¤‡ä¸–ç•Œæ¨¡å‹çš„æœºå™¨äººèƒ½åœ¨"è„‘æµ·"ä¸­æ„å»ºå‘¨å›´ç¯å¢ƒçš„3Dæ¨¡å‹ï¼Œç†è§£ç‰©ä½“çš„ä½ç½®å’Œäº¤äº’æ–¹å¼ã€‚æŠ“å–æ¯å­æ—¶ï¼Œå®ƒèƒ½é¢„æ¼”æ•´ä¸ªåŠ¨ä½œåºåˆ—â€”â€”ä¼¸æ‰‹è½¨è¿¹ã€åŠ›åº¦æ§åˆ¶ã€ç¢°æ’é£é™©ï¼Œä»è€Œè§„åˆ’æœ€ä¼˜è·¯å¾„ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæœºå™¨äººå¯ä»¥åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å­¦ä¹ æŠ€èƒ½ï¼Œå¤§å¹…å‡å°‘çœŸå®è¯•é”™çš„æˆæœ¬å’Œé£é™©ã€‚NVIDIAçš„Cosmoså¹³å°æ­£æ˜¯ä¸ºæ­¤æ‰“é€ ï¼Œæä¾›å®Œæ•´çš„æ•°æ®ç®¡é“å’Œè®­ç»ƒå·¥å…·ï¼Œè®©æœºå™¨äººæ›´å¿«ä»æ¨¡æ‹Ÿèµ°å‘ç°å®ã€‚</p>
<p><strong>è‡ªåŠ¨é©¾é©¶</strong></p>
<p>åœ¨è‡ªåŠ¨é©¾é©¶é¢†åŸŸï¼Œä¸–ç•Œæ¨¡å‹çš„ä»·å€¼ä¸å¯ä¼°é‡ã€‚è£…å¤‡ä¸–ç•Œæ¨¡å‹çš„è‡ªåŠ¨é©¾é©¶æ±½è½¦ä¸ä»…èƒ½æ„ŸçŸ¥å½“å‰è·¯å†µï¼Œæ›´èƒ½é¢„åˆ¤æœªæ¥åœºæ™¯æ¼”å˜â€”â€”å˜é“çš„è½¦ä¼šå¦åŠ é€Ÿï¼Ÿè¡Œäººæ˜¯å¦è¦æ¨ªç©¿ï¼Ÿè¿™ç§é¢„æµ‹æºäºå¯¹äº¤é€šè§„å¾‹å’Œäººç±»è¡Œä¸ºçš„ç†è§£ã€‚ä¸–ç•Œæ¨¡å‹è¿˜èƒ½è§£å†³é•¿å°¾é—®é¢˜ï¼šé€šè¿‡ç”Ÿæˆå„ç§æç«¯å¤©æ°”ã€å…‰ç…§æ¡ä»¶çš„è®­ç»ƒæ•°æ®ï¼Œè®©ç³»ç»Ÿåœ¨æš´é›¨ã€å¤§é›¾æ—¶ä¾ç„¶ç¨³å¥ã€‚é‚£äº›éš¾ä»¥å¤ç°çš„è¾¹ç¼˜æ¡ˆä¾‹â€”â€”çˆ†èƒã€æ•…éšœã€æç«¯äº¤é€šçŠ¶å†µï¼Œéƒ½å¯åœ¨æ¨¡æ‹Ÿä¸­åå¤è®­ç»ƒï¼Œæ‰“é€ æ›´å®‰å…¨çš„ç³»ç»Ÿã€‚</p>
<p><strong>æ¸¸æˆä¸è™šæ‹Ÿä¸–ç•Œ</strong></p>
<p>æ¸¸æˆäº§ä¸šæˆ–è®¸æœ€å…ˆæ„Ÿå—åˆ°ä¸–ç•Œæ¨¡å‹çš„é©å‘½ã€‚Google DeepMindçš„Genie 3å±•ç¤ºäº†æƒŠäººèƒ½åŠ›ï¼šåªéœ€æ–‡å­—æˆ–å›¾ç‰‡ï¼Œå°±èƒ½ç”Ÿæˆå®Œæ•´çš„å¯äº¤äº’3Dæ¸¸æˆä¸–ç•Œã€‚ç©å®¶å¯è‡ªç”±æ¢ç´¢ï¼Œç¯å¢ƒå®æ—¶å“åº”è¡Œä¸ºã€‚æ›´ç¥å¥‡çš„æ˜¯ï¼Œå®ƒèƒ½ä¿æŒæ•°åˆ†é’Ÿçš„è§†è§‰è®°å¿†ï¼Œç¡®ä¿åœºæ™¯ä¸€è‡´æ€§ã€‚è¿™ä¸ªä¸–ç•ŒçœŸæ­£éµå¾ªç‰©ç†è§„å¾‹â€”â€”ç‰©ä½“å—é‡åŠ›æ‰è½ï¼Œç¢°æ’äº§ç”ŸçœŸå®åé¦ˆã€‚è¿™æ„å‘³ç€å¼€å‘è€…å¯ç”¨è‡ªç„¶è¯­è¨€æè¿°åˆ›æ„ï¼Œè®©AIè‡ªåŠ¨ç”Ÿæˆå¯ç©åŸå‹ï¼Œæå¤§é™ä½å¼€å‘é—¨æ§›ï¼Œä¸ºç¨‹åºç”Ÿæˆå†…å®¹å¼€è¾Ÿæ–°å¯èƒ½ã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹çš„å…³é”®æŠ€æœ¯æŒ‘æˆ˜</strong></p>
<p><strong>æ•°æ®è´¨é‡ä¸å¤šæ ·æ€§</strong></p>
<p>æ„å»ºå¯é çš„ä¸–ç•Œæ¨¡å‹ï¼Œé¦–å…ˆè¦è§£å†³æ•°æ®é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦æµ·é‡é«˜è´¨é‡æ•°æ®ï¼Œå¹¶è¿›è¡Œç»†è‡´çš„æ¸…æ´—ã€å»é‡å’Œæ ‡æ³¨ã€‚æ›´å…·æŒ‘æˆ˜æ€§çš„æ˜¯å¤šæ¨¡æ€å¯¹é½â€”â€”å¦‚ä½•è®©è§†è§‰ã€è¯­è¨€å’Œç‰©ç†ä¿¡æ¯åœ¨åŒä¸€è¡¨å¾ç©ºé—´ä¸­å’Œè°å…±å­˜ã€‚æ­¤å¤–ï¼ŒçœŸå®ä¸–ç•Œå……æ»¡é•¿å°¾åœºæ™¯ï¼Œé‚£äº›ç½•è§ä½†å…³é”®çš„æƒ…å†µåœ¨è®­ç»ƒæ•°æ®ä¸­ä¸¥é‡ä¸è¶³ï¼Œå¦‚ä½•è®©æ¨¡å‹åº”å¯¹è¿™äº›è¾¹ç¼˜æ¡ˆä¾‹ï¼Œæ˜¯å¿…é¡»æ”»å…‹çš„éš¾é¢˜ã€‚</p>
<p><strong>ç‰©ç†ä¸€è‡´æ€§</strong></p>
<p>ä¸–ç•Œæ¨¡å‹éœ€è¦çœŸæ­£"ç†è§£"ç‰©ç†è§„å¾‹ï¼Œè€Œéä»…ä»…è®°ä½è®­ç»ƒæ•°æ®çš„æ¨¡å¼ã€‚ç®€å•çš„ç»Ÿè®¡å­¦ä¹ å¯èƒ½è®©æ¨¡å‹è®°ä½"ç¯®çƒä¼šå¼¹èµ·"ï¼Œä½†æœªå¿…ç†è§£é‡åŠ›å’ŒåŠ¨é‡å®ˆæ’çš„æœ¬è´¨ã€‚ç ”ç©¶è€…ä»¬æ­£åœ¨æ¢ç´¢å°†æ˜¾å¼ç‰©ç†çº¦æŸå¼•å…¥è®­ç»ƒï¼ŒåŒæ—¶é€šè¿‡å› æœå­¦ä¹ è®©æ¨¡å‹åŒºåˆ†å› æœå…³ç³»å’Œå¶ç„¶ç›¸å…³æ€§ã€‚è¿™è¿˜æ¶‰åŠå¯è§£é‡Šæ€§é—®é¢˜ï¼šæ¨¡å‹å†…éƒ¨çš„ç‰©ç†è¡¨å¾æ˜¯å¦çœŸçš„åæ˜ å®¢è§‚è§„å¾‹ï¼Œè¿˜æ˜¯åªæ˜¯å¯¹æ•°æ®çš„è¿‡æ‹Ÿåˆï¼Ÿ</p>
<p><strong>è®¡ç®—æ•ˆç‡</strong></p>
<p>è®¡ç®—èµ„æºçš„å·¨å¤§éœ€æ±‚æ˜¯ç°å®ç“¶é¢ˆã€‚Soraçš„è®­ç»ƒç®—åŠ›çº¦ä¸ºGPT-3çš„8.2å€ï¼Œç”Ÿæˆ60ç§’è§†é¢‘çš„æ¨ç†è®¡ç®—åŒæ ·æƒŠäººã€‚è¿™ç§æŒ‡æ•°çº§å¢é•¿ä¸ä»…æ„å‘³ç€é«˜æ˜‚æˆæœ¬ï¼Œä¹Ÿé™åˆ¶äº†æŠ€æœ¯æ™®åŠã€‚ç ”ç©¶ç•Œæ­£åœ¨æ¢ç´¢æ›´é«˜æ•ˆçš„æ¨¡å‹æ¶æ„ï¼Œä»æ”¹è¿›çš„Transformeråˆ°ä¼˜åŒ–çš„æ‰©æ•£æ¨¡å‹ï¼Œä»æ¨¡å‹å‹ç¼©åˆ°çŸ¥è¯†è’¸é¦ï¼Œæ¯ä¸€ç‚¹æ•ˆç‡æå‡éƒ½å¯èƒ½å¸¦æ¥è´¨çš„é£è·ƒã€‚</p>
<p><strong>ä¸–ç•Œæ¨¡å‹ vs å¤§è¯­è¨€æ¨¡å‹</strong></p>
<p>è¿™æ˜¯AIé¢†åŸŸçš„ä¸€ä¸ªé‡è¦äº‰è®ºã€‚Yann LeCunåœ¨MITç ”è®¨ä¼šä¸Šæ˜ç¡®è¡¨ç¤ºï¼š"<strong>3-5å¹´å†…ï¼Œä¸–ç•Œæ¨¡å‹å°†æˆä¸ºä¸»æµAIæ¶æ„ï¼Œæ²¡äººä¼šå†ç”¨ä»Šå¤©è¿™ç§LLM</strong>ã€‚"</p>
<p><strong>ä¸¤ç§èŒƒå¼çš„å¯¹æ¯”ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08d085cc467d4a4ab807374a6b75a5ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm66KeBQUdJ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655049&amp;x-signature=1DvCwPCjtj%2F6DxyXwuKx3v7CL68%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>èåˆè¶‹åŠ¿ï¼š</strong></p>
<p>å®é™…ä¸Šï¼Œä¸¤è€…å¹¶éå¯¹ç«‹è€Œæ˜¯äº’è¡¥ï¼š</p>
<p>â—LLMæ“…é•¿é«˜å±‚è¯­ä¹‰ç†è§£å’Œæ¨ç†</p>
<p>â—ä¸–ç•Œæ¨¡å‹æ“…é•¿ä½å±‚æ„ŸçŸ¥å’Œç‰©ç†æ¨¡æ‹Ÿ</p>
<p>â—å¤šæ¨¡æ€å¤§æ¨¡å‹æ­£åœ¨èåˆä¸¤è€…ä¼˜åŠ¿</p>
<p>OpenAIçš„ç ”ç©¶è¡¨æ˜ï¼ŒLLMå¯èƒ½åœ¨å†…éƒ¨å­¦ä¹ äº†æŸç§ç®€åŒ–çš„"ä¸–ç•Œæ¨¡å‹"ï¼Œä½†è¿œæœªè¾¾åˆ°Craikè®¾æƒ³çš„å®Œæ•´å¿ƒæ™ºæ¨¡å‹æ°´å¹³ã€‚</p>
<p><strong>ç»“è¯­</strong></p>
<p>ä¸–ç•Œæ¨¡å‹ä»£è¡¨äº†AIä»"è¯­è¨€æ™ºèƒ½"å‘"ç©ºé—´æ™ºèƒ½"å’Œ"ç‰©ç†æ™ºèƒ½"çš„é‡è¦è½¬å˜ã€‚æ­£å¦‚Yann LeCunæ‰€è¯´ï¼š"<strong>LLMåªæ˜¯AIå‘å±•çš„ä¸€ä¸ªé˜¶æ®µï¼ŒçœŸæ­£çš„æ™ºèƒ½éœ€è¦å¯¹ç‰©ç†ä¸–ç•Œçš„æ·±åˆ»ç†è§£ã€‚</strong> "</p>
<p>ä»Soraçš„æƒŠè‰³äº®ç›¸åˆ°Genieçš„äº¤äº’å¼ä¸–ç•Œï¼Œä»æé£é£çš„ç©ºé—´æ™ºèƒ½åˆ°NVIDIAçš„ç‰©ç†AIå¹³å°ï¼Œä¸–ç•Œæ¨¡å‹æ­£åœ¨ä»å®éªŒå®¤èµ°å‘äº§ä¸šï¼Œä»æ¦‚å¿µéªŒè¯èµ°å‘å¤§è§„æ¨¡åº”ç”¨ã€‚</p>
<p>å¯¹äºAIä»ä¸šè€…è€Œè¨€ï¼Œç°åœ¨æ­£æ˜¯å¸ƒå±€ä¸–ç•Œæ¨¡å‹æŠ€æœ¯æ ˆçš„æœ€ä½³æ—¶æœºã€‚æ— è®ºæ˜¯æŠ•èº«åŸºç¡€ç ”ç©¶ï¼Œè¿˜æ˜¯æ¢ç´¢è¡Œä¸šåº”ç”¨ï¼Œä¸–ç•Œæ¨¡å‹éƒ½å°†æ˜¯æœªæ¥5-10å¹´AIå‘å±•çš„ä¸»æ—‹å¾‹ä¹‹ä¸€ã€‚</p>
<p>æ­£å¦‚Kenneth Craikåœ¨1943å¹´çš„è¿œè§ï¼š"å¦‚æœæœ‰æœºä½“èƒ½åœ¨å¤´è„‘ä¸­æºå¸¦å¤–éƒ¨ç°å®çš„'å°å‹æ¨¡å‹'ï¼Œå®ƒå°±èƒ½å°è¯•å„ç§é€‰æ‹©ï¼Œå¾—å‡ºæœ€ä¼˜æ–¹æ¡ˆï¼Œä»¥æ›´å…¨é¢ã€å®‰å…¨å’Œé«˜æ•ˆçš„æ–¹å¼åšå‡ºååº”ã€‚"</p>
<p>80å¹´åçš„ä»Šå¤©ï¼Œæˆ‘ä»¬ç»ˆäºå¼€å§‹å®ç°è¿™ä¸ªæ¢¦æƒ³â€”â€”ä¸æ˜¯åœ¨äººè„‘ä¸­ï¼Œè€Œæ˜¯åœ¨ç¡…åŸºæ™ºèƒ½ä¸­ã€‚ä¸–ç•Œæ¨¡å‹ï¼Œæ­£åœ¨é‡æ–°å®šä¹‰AIçš„å¯èƒ½æ€§è¾¹ç•Œã€‚</p>
<p><strong>å‚è€ƒèµ„æ–™</strong></p>
<p>Haï¼Œ D.ï¼Œ &amp; Schmidhuberï¼Œ J. ï¼ˆ2018ï¼‰. World Models. NeurIPS.</p>
<p>OpenAI ï¼ˆ2024ï¼‰. Video Generation Models as World Simulators.</p>
<p>LeCunï¼Œ Y. ï¼ˆ2024ï¼‰. Autonomous Intelligence Architecture.</p>
<p>Google DeepMind ï¼ˆ2024ï¼‰. Genie 3ï¼š A New Frontier for World Models.</p>
<p>Craikï¼Œ K. ï¼ˆ1943ï¼‰. The Nature of Explanation.</p>
<p>Tsinghua FIB Lab. World Modelï¼š A Survey. ACM Computing Surveys.</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼]]></title>    <link>https://juejin.cn/post/7585031571889209387</link>    <guid>https://juejin.cn/post/7585031571889209387</guid>    <pubDate>2025-12-18T09:16:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585031571889209387" data-draft-id="7585006378533109802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:16:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸”_"/> <meta itemprop="url" content="https://juejin.cn/user/378670048349630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app å›¾ç‰‡é¢„è§ˆ + é•¿æŒ‰ä¿å­˜ï¼Œè¶…å®ç”¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/378670048349630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸”_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:16:12.000Z" title="Thu Dec 18 2025 09:16:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšé¡¹ç›®æ—¶ç”¨æˆ·æ€»è¯´å›¾ç‰‡ä¸èƒ½ä¿å­˜ï¼Ÿä¸€è¡Œä»£ç å®ç°å›¾ç‰‡é¢„è§ˆï¼Œé•¿æŒ‰è¿˜èƒ½ä¿å­˜åˆ°ç›¸å†Œï¼Œå®‰æ’ï¼</p>
<h4 data-id="heading-0">ğŸ¯ å®ç°ä»£ç </h4>
<p>html</p>
<p>é¢„è§ˆ</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- template é‡Œå†™å›¾ç‰‡åˆ—è¡¨ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"img-list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">image</span> 
    <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in imgList"</span> 
    <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>
    <span class="hljs-attr">:src</span>=<span class="hljs-string">"item"</span> 
    <span class="hljs-attr">class</span>=<span class="hljs-string">"img-item"</span>
    @<span class="hljs-attr">click</span>=<span class="hljs-string">"previewImg(index)"</span>
  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
</code></pre>
<p>javascript</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å›¾ç‰‡åˆ—è¡¨ï¼Œæ¢æˆä½ çš„å›¾ç‰‡åœ°å€</span>
      <span class="hljs-attr">imgList</span>: [
        <span class="hljs-string">"https://xxx.com/img1.jpg"</span>,
        <span class="hljs-string">"https://xxx.com/img2.jpg"</span>,
        <span class="hljs-string">"https://xxx.com/img3.jpg"</span>
      ]
    };
  },
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// é¢„è§ˆå›¾ç‰‡</span>
    <span class="hljs-title function_">previewImg</span>(<span class="hljs-params">current</span>) {
      uni.<span class="hljs-title function_">previewImage</span>({
        <span class="hljs-attr">current</span>: current, <span class="hljs-comment">// å½“å‰ç‚¹å‡»çš„å›¾ç‰‡ç´¢å¼•</span>
        <span class="hljs-attr">urls</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">imgList</span>, <span class="hljs-comment">// æ‰€æœ‰è¦é¢„è§ˆçš„å›¾ç‰‡åˆ—è¡¨</span>
        <span class="hljs-attr">longPressActions</span>: {
          <span class="hljs-comment">// é•¿æŒ‰æ˜¾ç¤ºçš„æ“ä½œèœå•</span>
          <span class="hljs-attr">itemList</span>: [<span class="hljs-string">"ä¿å­˜å›¾ç‰‡"</span>, <span class="hljs-string">"åˆ†äº«å›¾ç‰‡"</span>],
          <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (res.<span class="hljs-property">tapIndex</span> === <span class="hljs-number">0</span>) {
              <span class="hljs-comment">// ç‚¹å‡»ä¿å­˜å›¾ç‰‡</span>
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">saveImg</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imgList</span>[current]);
            }
          }
        }
      });
    },
    <span class="hljs-comment">// ä¿å­˜å›¾ç‰‡åˆ°ç›¸å†Œ</span>
    <span class="hljs-title function_">saveImg</span>(<span class="hljs-params">imgUrl</span>) {
      uni.<span class="hljs-title function_">saveImageToPhotosAlbum</span>({
        <span class="hljs-attr">filePath</span>: imgUrl,
        <span class="hljs-attr">success</span>: <span class="hljs-function">() =&gt;</span> {
          uni.<span class="hljs-title function_">showToast</span>({
            <span class="hljs-attr">title</span>: <span class="hljs-string">"ä¿å­˜æˆåŠŸ"</span>,
            <span class="hljs-attr">icon</span>: <span class="hljs-string">"success"</span>
          });
        },
        <span class="hljs-attr">fail</span>: <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
          <span class="hljs-comment">// ç”¨æˆ·æ‹’ç»æˆæƒæ—¶æç¤º</span>
          <span class="hljs-keyword">if</span> (err.<span class="hljs-property">errMsg</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"auth deny"</span>)) {
            uni.<span class="hljs-title function_">showToast</span>({
              <span class="hljs-attr">title</span>: <span class="hljs-string">"è¯·å¼€å¯ä¿å­˜å›¾ç‰‡æƒé™"</span>,
              <span class="hljs-attr">icon</span>: <span class="hljs-string">"none"</span>
            });
          }
        }
      });
    }
  }
};
</code></pre>
<h4 data-id="heading-1">ğŸ¨ åŠ ä¸ªç®€å•æ ·å¼</h4>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.img-list</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-wrap</span>: wrap;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10</span>rpx;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx;
}
<span class="hljs-selector-class">.img-item</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">30%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200</span>rpx;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8</span>rpx;
}
</code></pre>
<p>ğŸ’¡ æƒé™æé†’ï¼šä¿å­˜å›¾ç‰‡éœ€è¦ç”¨æˆ·æˆæƒï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»ä¼šå¼¹å‡ºæˆæƒæç¤ºï¼Œè®°å¾—å¼•å¯¼ç”¨æˆ·å…è®¸ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»DOMç»“æ„åˆ°å¸ƒå±€æµï¼šdisplay: contentçš„æ·±åº¦è§£æä¸å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7585022810180206655</link>    <guid>https://juejin.cn/post/7585022810180206655</guid>    <pubDate>2025-12-18T09:24:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585022810180206655" data-draft-id="7584807992031756330" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»DOMç»“æ„åˆ°å¸ƒå±€æµï¼šdisplay: contentçš„æ·±åº¦è§£æä¸å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-18T09:24:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…«å“¥ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/114004940297325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»DOMç»“æ„åˆ°å¸ƒå±€æµï¼šdisplay: contentçš„æ·±åº¦è§£æä¸å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/114004940297325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…«å“¥ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:24:07.000Z" title="Thu Dec 18 2025 09:24:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ€è¿‘åœ¨ä¸€äº›é¡µé¢å¸ƒå±€ä¸­ä½¿ç”¨åˆ°äº†displayï¼šcontentè¿™ä¸ªå±æ€§ï¼Œä¸ªäººæ„Ÿè§‰è¿˜æ˜¯å¾ˆå®ç”¨çš„ï¼å€Ÿæ­¤æœºä¼šåˆ†äº«å‡ºæ¥ï¼Œæ¥ä¸‹æ¥æˆ‘å¸¦ä½ æ·±å…¥å‰–æCSSä¸­<code>display: content</code>å±æ€§çš„å·¥ä½œåŸç†ã€åº”ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µï¼Œé€šè¿‡å¯è§†åŒ–å›¾è§£å’Œå®æˆ˜æ¡ˆä¾‹ï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£è¿™ä¸€è¢«ä½ä¼°çš„å¸ƒå±€åˆ©å™¨ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€ï¼šè¢«å¿½è§†çš„å¸ƒå±€åˆ©å™¨</h2>
<p>åœ¨CSSå¸ƒå±€çš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬ç†Ÿæ‚‰Flexboxã€Gridã€Positionç­‰ä¸»æµå¸ƒå±€æ–¹å¼ï¼Œä½†<code>display: content</code>è¿™ä¸€å±æ€§å´å¸¸å¸¸è¢«å¿½è§†ã€‚å®ƒä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å¸ƒå±€å±æ€§ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>DOMç»“æ„ä¸å¸ƒå±€æµåˆ†ç¦»çš„é­”æ³•å·¥å…·</strong>ã€‚</p>
<p><code>display: content</code>çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š<strong>ä¿ç•™å…ƒç´ çš„å¯è®¿é—®æ€§è¯­ä¹‰ï¼ŒåŒæ—¶å°†å…¶ä»å¸ƒå±€æµä¸­"æ¶ˆå¤±"</strong>ï¼Œè®©å­å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨çš„å¸ƒå±€ã€‚è¿™ç§ç‰¹æ€§ä¸ºå¤æ‚ç»„ä»¶çš„å¸ƒå±€æä¾›äº†å…¨æ–°çš„å¯èƒ½æ€§ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ ¸å¿ƒæ¦‚å¿µï¼šç†è§£display: contentçš„å·¥ä½œåŸç†</h2>
<h3 data-id="heading-2">1. åŸºæœ¬å®šä¹‰ä¸è¡Œä¸º</h3>
<p><code>display: content</code>æ˜¯CSS Display Module Level 3å¼•å…¥çš„å±æ€§å€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š</p>
<blockquote>
<p>å°†å…ƒç´ æœ¬èº«ä»è§†è§‰å¸ƒå±€ä¸­ç§»é™¤ï¼Œä½†å…¶å­å…ƒç´ ä¼šç»§ç»­å‚ä¸å¸ƒå±€ï¼Œå°±åƒç›´æ¥ä½œä¸ºçˆ¶å…ƒç´ çš„å­å…ƒç´ ä¸€æ ·ã€‚</p>
</blockquote>
<p><strong>å…³é”®ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å…ƒç´ æœ¬èº«ä¸å†äº§ç”Ÿç›’æ¨¡å‹ï¼ˆæ²¡æœ‰å®½é«˜ã€å†…è¾¹è·ã€å¤–è¾¹è·ç­‰ï¼‰</li>
<li>å…ƒç´ çš„å­å…ƒç´ ä¼š"æå‡"åˆ°çˆ¶å®¹å™¨ä¸­å‚ä¸å¸ƒå±€</li>
<li>å…ƒç´ çš„è¯­ä¹‰ä¿¡æ¯ï¼ˆå¦‚ARIAå±æ€§ã€è¡¨æ ¼ç»“æ„ï¼‰ä¼šè¢«ä¿ç•™</li>
<li>å…ƒç´ ä»å¯æ¥æ”¶äº‹ä»¶ï¼ˆå¦‚ç‚¹å‡»äº‹ä»¶ï¼‰</li>
</ul>
<h3 data-id="heading-3">2. å¯è§†åŒ–å›¾è§£ï¼šå¸ƒå±€æµçš„å˜åŒ–</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡å›¾è§£æ¥ç›´è§‚ç†è§£<code>display: content</code>çš„å½±å“ï¼š</p>
<h4 data-id="heading-4">æ²¡æœ‰ä½¿ç”¨display: content</h4>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          çˆ¶å®¹å™¨ (<span class="hljs-attribute">flex</span>å¸ƒå±€)       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚        ä¸­é—´å…ƒç´               â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚ â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">1</span> â”‚  â”‚ å­å…ƒç´ <span class="hljs-number">2</span> â”‚     â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å¸ƒå±€è®¡ç®—æµç¨‹ï¼š</strong></p>
<ol>
<li>çˆ¶å®¹å™¨è®¡ç®—ä¸­é—´å…ƒç´ çš„ä½ç½®å’Œå¤§å°</li>
<li>ä¸­é—´å…ƒç´ è®¡ç®—å­å…ƒç´ 1å’Œå­å…ƒç´ 2çš„ä½ç½®å’Œå¤§å°</li>
<li>å¸ƒå±€è¢«ä¸­é—´å…ƒç´ çš„ç›’æ¨¡å‹é™åˆ¶</li>
</ol>
<h4 data-id="heading-5">ä½¿ç”¨äº†display: content</h4>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          çˆ¶å®¹å™¨ (<span class="hljs-attribute">flex</span>å¸ƒå±€)       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">1</span>  â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">2</span> â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å¸ƒå±€è®¡ç®—æµç¨‹ï¼š</strong></p>
<ol>
<li>ä¸­é—´å…ƒç´ ä¸äº§ç”Ÿç›’æ¨¡å‹ï¼Œè¢«ä»å¸ƒå±€æ ‘ä¸­ç§»é™¤</li>
<li>å­å…ƒç´ 1å’Œå­å…ƒç´ 2ç›´æ¥ä½œä¸ºçˆ¶å®¹å™¨çš„å­å…ƒç´ å‚ä¸å¸ƒå±€</li>
<li>çˆ¶å®¹å™¨ç›´æ¥è®¡ç®—å­å…ƒç´ 1å’Œå­å…ƒç´ 2çš„ä½ç½®å’Œå¤§å°</li>
</ol>
<p><strong>æ ¸å¿ƒå˜åŒ–ï¼š</strong> ä¸­é—´å…ƒç´ çš„ç›’æ¨¡å‹è¢«"ç§»é™¤"ï¼Œä½†å…¶å­å…ƒç´ çš„å¸ƒå±€ä¸Šä¸‹æ–‡ä»ä¸­é—´å…ƒç´ è½¬ç§»åˆ°äº†çˆ¶å®¹å™¨ã€‚</p>
<h3 data-id="heading-6">3. ä¸å…¶ä»–displayå±æ€§çš„å¯¹æ¯”</h3>








































<table><thead><tr><th>å±æ€§å€¼</th><th>å¸ƒå±€è¡Œä¸º</th><th>ç›’æ¨¡å‹</th><th>å­å…ƒç´ å¤„ç†</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>display: none</code></td><td>å®Œå…¨éšè—</td><td>ä¸ç”Ÿæˆ</td><td>å­å…ƒç´ ä¹Ÿéšè—</td><td>éœ€è¦å®Œå…¨ç§»é™¤å…ƒç´ </td></tr><tr><td><code>visibility: hidden</code></td><td>è§†è§‰éšè—</td><td>ç”Ÿæˆ</td><td>å­å…ƒç´ ä¹Ÿéšè—</td><td>éœ€è¦ä¿ç•™å ä½çš„éšè—</td></tr><tr><td><code>opacity: 0</code></td><td>é€æ˜æ˜¾ç¤º</td><td>ç”Ÿæˆ</td><td>å­å…ƒç´ ç»§æ‰¿</td><td>éœ€è¦è§†è§‰éšè—ä½†ä¿ç•™äº¤äº’</td></tr><tr><td><code>display: content</code></td><td>ç»“æ„ç©¿é€</td><td>ä¸ç”Ÿæˆ</td><td>å­å…ƒç´ å‚ä¸å¸ƒå±€</td><td>éœ€è¦ä¿ç•™è¯­ä¹‰ä½†ç©¿é€å¸ƒå±€</td></tr></tbody></table>
<h2 data-id="heading-7">ä¸‰ã€å®æˆ˜åº”ç”¨ï¼šdisplay: contentçš„å…¸å‹ä½¿ç”¨åœºæ™¯</h2>
<h3 data-id="heading-8">1. ç»„ä»¶å°è£…ä¸­çš„å¸ƒå±€ç©¿é€</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> å°è£…UIç»„ä»¶æ—¶ï¼Œç»„ä»¶çš„å¤–å±‚å®¹å™¨ï¼ˆå¦‚Shadow DOMæˆ–è‡ªå®šä¹‰å…ƒç´ ï¼‰å¯èƒ½ä¼šå¹²æ‰°å†…éƒ¨å…ƒç´ ä¸å¤–éƒ¨å¸ƒå±€å®¹å™¨çš„ååŒå·¥ä½œï¼Œå¯¼è‡´Flexboxæˆ–Gridå¸ƒå±€æ— æ³•æ­£ç¡®åº”ç”¨åˆ°ç»„ä»¶å†…éƒ¨å…ƒç´ ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<code>display: content</code>è®©ç»„ä»¶çš„å†…éƒ¨å…ƒç´ ç›´æ¥ç©¿é€åˆ°å¤–éƒ¨å¸ƒå±€ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶ä¿æŒç»„ä»¶çš„å°è£…æ€§å’Œè¯­ä¹‰ç»“æ„ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å°è£…çš„å¡ç‰‡ç»„ä»¶ï¼ˆä½¿ç”¨Shadow DOMï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">my-card</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-item"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>å¡ç‰‡æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"content"</span>&gt;</span>å¡ç‰‡å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">my-card</span>&gt;</span>

<span class="hljs-comment">&lt;!-- å¤–éƒ¨å®¹å™¨ä½¿ç”¨Gridå¸ƒå±€ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">my-card</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-item"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>äº§å“A<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"content"</span>&gt;</span>é«˜æ€§èƒ½å‰ç«¯ç»„ä»¶åº“<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">my-card</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">my-card</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card-item"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"header"</span>&gt;</span>äº§å“B<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">"content"</span>&gt;</span>ä¼ä¸šçº§åç«¯æ¡†æ¶<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">my-card</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å¡ç‰‡ç»„ä»¶çš„Shadow DOMå†…éƒ¨æ ·å¼ */</span>
<span class="hljs-selector-pseudo">:host</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-pseudo">:host</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"header"</span>]</span>) {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">font-weight</span>: bold;
}

<span class="hljs-selector-pseudo">:host</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"content"</span>]</span>) {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
}

<span class="hljs-comment">/* å¤–éƒ¨Gridå¸ƒå±€ */</span>
<span class="hljs-selector-class">.grid-container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>fr);
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-comment">/* å…³é”®ï¼šä½¿ç”¨display: contentç©¿é€å¡ç‰‡ç»„ä»¶ */</span>
<span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-class">.card-item</span> {
  <span class="hljs-attribute">display</span>: content; <span class="hljs-comment">/* å°†ç»„ä»¶å®¹å™¨ä»å¸ƒå±€ä¸­ç§»é™¤ */</span>
}

<span class="hljs-comment">/* ç›´æ¥æ ·å¼åŒ–ç©¿é€åçš„slotå†…å®¹ */</span>
<span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"header"</span>]</span>) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.grid-container</span> <span class="hljs-selector-pseudo">::slotted</span>(<span class="hljs-selector-attr">[slot=<span class="hljs-string">"content"</span>]</span>) {
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">2</span>;
}
</code></pre>
<p><strong>å·¥ä½œåŸç†ï¼š</strong></p>
<ol>
<li>å¡ç‰‡ç»„ä»¶æœ¬èº«ä»ä¿æŒå°è£…æ€§ï¼Œå…¶å†…éƒ¨æ ·å¼é€šè¿‡Shadow DOMéš”ç¦»</li>
<li><code>display: content</code>å°†å¡ç‰‡ç»„ä»¶çš„ç›’æ¨¡å‹ç§»é™¤ï¼Œä½¿å…¶å†…éƒ¨çš„slotå†…å®¹ç›´æ¥æš´éœ²ç»™å¤–éƒ¨Gridå®¹å™¨</li>
<li>å¤–éƒ¨Gridå®¹å™¨å¯ä»¥ç›´æ¥å¯¹è¿™äº›slotå†…å®¹è¿›è¡Œå¸ƒå±€æ§åˆ¶ï¼ˆå¦‚è®¾ç½®grid-columnï¼‰</li>
<li>ç»„ä»¶çš„è¯­ä¹‰ç»“æ„å’Œå¯è®¿é—®æ€§ä¿¡æ¯å®Œå…¨ä¿ç•™</li>
</ol>
<p><strong>åº”ç”¨ä»·å€¼ï¼š</strong> è§£å†³äº†Web Componentsç­‰å°è£…ç»„ä»¶ä¸å¤–éƒ¨å¸ƒå±€ç³»ç»Ÿçš„å…¼å®¹æ€§é—®é¢˜ï¼Œå®ç°äº†ç»„ä»¶å†…éƒ¨å…ƒç´ ä¸å¤–éƒ¨å¸ƒå±€çš„æ— ç¼é›†æˆã€‚</p>
<h3 data-id="heading-9">2. è¯­ä¹‰åŒ–æ ‡ç­¾ä¸å¸ƒå±€éœ€æ±‚çš„å¹³è¡¡</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> åœ¨æ„å»ºç°ä»£Webåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼ˆå¦‚<code>&lt;article&gt;</code>ã€<code>&lt;section&gt;</code>ã€<code>&lt;aside&gt;</code>ï¼‰æ¥æé«˜å¯è®¿é—®æ€§å’ŒSEOï¼Œä½†è¿™äº›æ ‡ç­¾çš„ç›’æ¨¡å‹ï¼ˆé»˜è®¤çš„å—çº§æ˜¾ç¤ºï¼‰å¯èƒ½ä¼šå¹²æ‰°æˆ‘ä»¬æƒ³è¦å®ç°çš„å¤æ‚å¸ƒå±€ç»“æ„ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<code>display: content</code>å¯ä»¥åœ¨ä¿ç•™HTMLè¯­ä¹‰ç»“æ„çš„åŒæ—¶ï¼Œå°†è¿™äº›è¯­ä¹‰åŒ–æ ‡ç­¾ä»è§†è§‰å¸ƒå±€ä¸­ç§»é™¤ï¼Œè®©å®ƒä»¬çš„å­å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨çš„å¸ƒå±€è®¡ç®—ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¯­ä¹‰åŒ–çš„æ–°é—»åˆ—è¡¨ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-container"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>CSS Grid 2.0å³å°†å‘å¸ƒï¼Œå¸¦æ¥é©å‘½æ€§å¸ƒå±€ä½“éªŒ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ®W3Cæœ€æ–°æ¶ˆæ¯ï¼ŒCSS Grid 2.0è§„èŒƒå³å°†å®Œæˆï¼Œå°†å¼•å…¥æ›´å¤šå¼ºå¤§çš„å¸ƒå±€åŠŸèƒ½...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2023-12-01"</span>&gt;</span>2023å¹´12æœˆ1æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Web Componentså·²æˆä¸ºç°ä»£å‰ç«¯å¼€å‘çš„æ ‡é…<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>éšç€æµè§ˆå™¨æ”¯æŒçš„ä¸æ–­å®Œå–„ï¼ŒWeb Componentsæ­£åœ¨æ”¹å˜æˆ‘ä»¬æ„å»ºå¯å¤ç”¨ç»„ä»¶çš„æ–¹å¼...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2023-12-02"</span>&gt;</span>2023å¹´12æœˆ2æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
  
  <span class="hljs-tag">&lt;<span class="hljs-name">article</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"news-article"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ€§èƒ½ä¼˜åŒ–æ–°è¶‹åŠ¿ï¼šCSSå±‚å ä¸Šä¸‹æ–‡ç®¡ç†<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¦‚ä½•é€šè¿‡åˆç†ç®¡ç†CSSå±‚å ä¸Šä¸‹æ–‡æ¥æå‡é¡µé¢æ¸²æŸ“æ€§èƒ½...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">time</span> <span class="hljs-attr">datetime</span>=<span class="hljs-string">"2023-12-03"</span>&gt;</span>2023å¹´12æœˆ3æ—¥<span class="hljs-tag">&lt;/<span class="hljs-name">time</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* å¤–éƒ¨å®¹å™¨ä½¿ç”¨Gridå¸ƒå±€åˆ›å»ºå¤æ‚çš„æ–°é—»ç½‘æ ¼ */</span>
<span class="hljs-selector-class">.news-container</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fit, <span class="hljs-built_in">minmax</span>(<span class="hljs-number">300px</span>, <span class="hljs-number">1</span>fr));
  <span class="hljs-attribute">grid-template-rows</span>: auto;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-comment">/* å…³é”®ï¼šä½¿ç”¨display: contentç©¿é€è¯­ä¹‰åŒ–æ ‡ç­¾ */</span>
<span class="hljs-selector-class">.news-article</span> {
  <span class="hljs-attribute">display</span>: content;
  <span class="hljs-comment">/* ä¿ç•™è¯­ä¹‰ç»“æ„ï¼Œä½†ç§»é™¤ç›’æ¨¡å‹ */</span>
}

<span class="hljs-comment">/* ç›´æ¥æ ·å¼åŒ–ç©¿é€åçš„å†…éƒ¨å…ƒç´  */</span>
<span class="hljs-selector-class">.news-article</span> &gt; <span class="hljs-selector-tag">h2</span> {
  <span class="hljs-comment">/* æ ‡é¢˜è·¨ä¸¤åˆ— */</span>
  <span class="hljs-attribute">grid-column</span>: span <span class="hljs-number">2</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#667eea</span>;
}

<span class="hljs-selector-class">.news-article</span> &gt; <span class="hljs-selector-tag">p</span> {
  <span class="hljs-comment">/* å†…å®¹å æ®ä¸»è¦ç©ºé—´ */</span>
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;
}

<span class="hljs-selector-class">.news-article</span> &gt; <span class="hljs-selector-tag">time</span> {
  <span class="hljs-comment">/* æ—¶é—´ä¿¡æ¯é å³å¯¹é½ */</span>
  <span class="hljs-attribute">grid-column</span>: <span class="hljs-number">2</span>;
  justify-self: end;
  <span class="hljs-attribute">align-self</span>: end;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.875rem</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span> <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
}
</code></pre>
<p><strong>å·¥ä½œåŸç†ä¸ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>è¯­ä¹‰ç»“æ„ä¿ç•™</strong>ï¼š<code>&lt;article&gt;</code>æ ‡ç­¾ä»ç„¶å­˜åœ¨äºDOMä¸­ï¼Œä¿æŒäº†è‰¯å¥½çš„SEOå’Œå¯è®¿é—®æ€§</li>
<li><strong>å¸ƒå±€çµæ´»æ€§</strong>ï¼šé€šè¿‡<code>display: content</code>ç§»é™¤äº†<code>&lt;article&gt;</code>çš„ç›’æ¨¡å‹é™åˆ¶ï¼Œä½¿å…¶å­å…ƒç´ å¯ä»¥ç›´æ¥å‚ä¸Gridå¸ƒå±€</li>
<li><strong>å¤æ‚å¸ƒå±€å®ç°</strong>ï¼šå¯ä»¥å®ç°æ ‡é¢˜è·¨åˆ—ã€å†…å®¹ä¸æ—¶é—´å·¦å³å¯¹é½ç­‰å¤æ‚å¸ƒå±€ï¼Œè€Œä¸å—è¯­ä¹‰åŒ–æ ‡ç­¾çš„å½±å“</li>
<li><strong>å¯ç»´æŠ¤æ€§æå‡</strong>ï¼šè¯­ä¹‰åŒ–ç»“æ„ä½¿ä»£ç æ›´æ˜“è¯»ã€æ˜“ç»´æŠ¤ï¼ŒåŒæ—¶å¸ƒå±€çš„çµæ´»æ€§æ»¡è¶³äº†è®¾è®¡éœ€æ±‚</li>
</ol>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ul>
<li>ç¡®ä¿ç©¿é€åçš„å…ƒç´ é€‰æ‹©å™¨æ­£ç¡®åŒ¹é…ï¼Œé¿å…æ ·å¼ä¸¢å¤±</li>
<li>æµ‹è¯•å±å¹•é˜…è¯»å™¨çš„å…¼å®¹æ€§ï¼Œç¡®ä¿è¯­ä¹‰ä¿¡æ¯ä»ç„¶å¯ä»¥è¢«æ­£ç¡®è¯†åˆ«</li>
<li>é¿å…åœ¨åµŒå¥—è¿‡æ·±çš„è¯­ä¹‰åŒ–æ ‡ç­¾ä¸Šè¿‡åº¦ä½¿ç”¨<code>display: content</code>ï¼Œä»¥å…å½±å“ä»£ç çš„å¯è¯»æ€§</li>
</ul>
<h3 data-id="heading-10">3. å¤æ‚è¡¨æ ¼ç»“æ„çš„ç®€åŒ–å¸ƒå±€</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> HTMLè¡¨æ ¼çš„<code>&lt;table&gt;</code>ã€<code>&lt;tr&gt;</code>ã€<code>&lt;td&gt;</code>ç»“æ„æä¾›äº†è‰¯å¥½çš„è¯­ä¹‰æ€§å’Œå¯è®¿é—®æ€§ï¼Œä½†è¿™ç§åµŒå¥—ç»“æ„ä¸¥é‡é™åˆ¶äº†CSSå¸ƒå±€çš„çµæ´»æ€§ï¼Œæ— æ³•å®ç°ç°ä»£è®¾è®¡ä¸­å¸¸è§çš„å¤æ‚è¡¨æ ¼å¸ƒå±€ï¼ˆå¦‚å•å…ƒæ ¼åˆå¹¶ã€ä¸è§„åˆ™æ’åˆ—ç­‰ï¼‰ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨<code>display: content</code>å¯ä»¥æ‰“ç ´ä¼ ç»Ÿè¡¨æ ¼çš„ç»“æ„é™åˆ¶ï¼Œå°†è¡¨æ ¼å•å…ƒæ ¼ä»<code>&lt;tr&gt;</code>å’Œ<code>&lt;td&gt;</code>çš„åµŒå¥—ä¸­è§£æ”¾å‡ºæ¥ï¼Œç›´æ¥ä½¿ç”¨Gridå¸ƒå±€å®ç°å¤æ‚çš„è¡¨æ ¼è®¾è®¡ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¯­ä¹‰åŒ–çš„è¡¨æ ¼ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modern-table"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å§“å<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>å¹´é¾„<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>èŒä½<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æŠ€èƒ½<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>ç»éªŒ<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>28<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å‰ç«¯å·¥ç¨‹å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>React, TypeScript, CSS Grid<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>5å¹´<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æå››<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>32<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>åç«¯å·¥ç¨‹å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Node.js, Express, MongoDB<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>8å¹´<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>ç‹äº”<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>26<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>UIè®¾è®¡å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>Figma, Sketch, Adobe XD<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>3å¹´<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* è¡¨æ ¼å®¹å™¨ä½¿ç”¨Gridå¸ƒå±€ */</span>
<span class="hljs-selector-class">.modern-table</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">150px</span> <span class="hljs-number">80px</span> <span class="hljs-number">180px</span> <span class="hljs-number">1</span>fr <span class="hljs-number">100px</span>;
  <span class="hljs-attribute">grid-auto-rows</span>: <span class="hljs-built_in">minmax</span>(<span class="hljs-number">60px</span>, auto);
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1000px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;
  <span class="hljs-attribute">border-collapse</span>: collapse;
}

<span class="hljs-comment">/* å…³é”®ï¼šç©¿é€è¡¨æ ¼çš„åµŒå¥—ç»“æ„ */</span>
<span class="hljs-selector-class">.modern-table</span> &gt; *,       <span class="hljs-comment">/* ç©¿é€theadå’Œtbody */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">tr</span>,        <span class="hljs-comment">/* ç©¿é€è¡Œ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">th</span>,        <span class="hljs-comment">/* ç©¿é€è¡¨å¤´å•å…ƒæ ¼ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span>         <span class="hljs-comment">/* ç©¿é€æ•°æ®å•å…ƒæ ¼ */</span>
{ 
  <span class="hljs-attribute">display</span>: content;
}

<span class="hljs-comment">/* æ ·å¼åŒ–æ‰€æœ‰å•å…ƒæ ¼ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">th</span>,
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">3px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>);
}

<span class="hljs-comment">/* è¡¨å¤´æ ·å¼å¢å¼º */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">th</span> {
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">600</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.95rem</span>;
  <span class="hljs-attribute">text-transform</span>: uppercase;
  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0.5px</span>;
  <span class="hljs-attribute">justify-content</span>: center;
}

<span class="hljs-comment">/* æ•°æ®è¡Œæ ·å¼ */</span>
<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) {
  <span class="hljs-comment">/* å§“ååˆ— */</span>
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9ff</span>;
}

<span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>) {
  <span class="hljs-comment">/* æŠ€èƒ½åˆ— - å¤šè¡Œæ˜¾ç¤º */</span>
  <span class="hljs-attribute">white-space</span>: pre-wrap;
  <span class="hljs-attribute">align-items</span>: flex-start;
  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">15px</span>;
}

<span class="hljs-comment">/* å“åº”å¼è®¾è®¡ï¼šåœ¨å°å±å¹•ä¸Šé‡æ–°æ’åˆ—è¡¨æ ¼ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.modern-table</span> {
    <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr;
    <span class="hljs-attribute">grid-auto-rows</span>: auto;
  }
  
  <span class="hljs-comment">/* åœ¨ç§»åŠ¨ç«¯ï¼Œå°†è¡¨å¤´ä¿¡æ¯ä½œä¸ºæ ‡ç­¾æ˜¾ç¤ºåœ¨æ•°æ®å‰ */</span>
  <span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span> {
    <span class="hljs-attribute">justify-content</span>: space-between;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
  }
  
  <span class="hljs-selector-class">.modern-table</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-built_in">attr</span>(data-label);
    <span class="hljs-attribute">font-weight</span>: bold;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#667eea</span>;
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">10px</span>;
  }
}
</code></pre>
<p><strong>é«˜çº§åº”ç”¨æŠ€å·§ï¼š</strong></p>
<ol>
<li><strong>ç»“æ„ç©¿é€å±‚æ¬¡</strong>ï¼šé€šè¿‡å¯¹<code>table &gt; *</code>ã€<code>tr</code>ã€<code>th</code>ã€<code>td</code>éƒ½åº”ç”¨<code>display: content</code>ï¼Œå®ç°äº†å¤šå±‚çº§çš„ç»“æ„ç©¿é€</li>
<li><strong>Gridå¸ƒå±€è‡ªç”±</strong>ï¼šå¯ä»¥è‡ªç”±å®šä¹‰åˆ—å®½ã€è¡Œé«˜å’Œé—´è·ï¼Œçªç ´äº†ä¼ ç»Ÿè¡¨æ ¼çš„é™åˆ¶</li>
<li><strong>å¤æ‚æ ·å¼åº”ç”¨</strong>ï¼šå¯ä»¥è½»æ¾å®ç°è¡¨å¤´æ¸å˜ã€å•å…ƒæ ¼é˜´å½±ã€ç‰¹æ®Šåˆ—æ ·å¼ç­‰ç°ä»£è®¾è®¡æ•ˆæœ</li>
<li><strong>å“åº”å¼é€‚é…</strong>ï¼šåœ¨ç§»åŠ¨ç«¯å¯ä»¥é‡æ–°æ’åˆ—è¡¨æ ¼ç»“æ„ï¼Œå°†å…¶è½¬æ¢ä¸ºå¡ç‰‡å¼å¸ƒå±€</li>
</ol>
<p><strong>å¯è®¿é—®æ€§ä¿éšœï¼š</strong></p>
<ul>
<li>ä¿ç•™äº†å®Œæ•´çš„<code>&lt;table&gt;</code>ã€<code>&lt;thead&gt;</code>ã€<code>&lt;tbody&gt;</code>è¯­ä¹‰ç»“æ„</li>
<li>å±å¹•é˜…è¯»å™¨å¯ä»¥æ­£ç¡®è¯†åˆ«è¡¨æ ¼å†…å®¹å’Œè¡¨å¤´å…³ç³»</li>
<li>è¡¨æ ¼å•å…ƒæ ¼çš„é€»è¾‘å…³ç³»åœ¨DOMä¸­ä¿æŒä¸å˜</li>
</ul>
<p><strong>ä½¿ç”¨åœºæ™¯æ‰©å±•ï¼š</strong></p>
<ul>
<li>å¤æ‚çš„è´¢åŠ¡æŠ¥è¡¨å’Œæ•°æ®åˆ†æè¡¨æ ¼</li>
<li>äº§å“å¯¹æ¯”å’Œç‰¹æ€§å±•ç¤ºè¡¨æ ¼</li>
<li>å“åº”å¼è®¾è®¡è¦æ±‚é«˜çš„è¡¨æ ¼å†…å®¹</li>
<li>éœ€è¦ç‰¹æ®Šè§†è§‰æ•ˆæœçš„è¡¨æ ¼å±•ç¤º</li>
</ul>
<h3 data-id="heading-11">4. å“åº”å¼å¸ƒå±€ä¸­çš„æ¡ä»¶ç©¿é€</h3>
<p><strong>é—®é¢˜åœºæ™¯ï¼š</strong> åœ¨å“åº”å¼è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹ä½¿ç”¨å®Œå…¨ä¸åŒçš„å¸ƒå±€ç»“æ„ã€‚ä¼ ç»Ÿæ–¹æ³•é€šå¸¸éœ€è¦é€šè¿‡JavaScriptæˆ–å¤æ‚çš„CSSé€‰æ‹©å™¨æ¥å®ç°ï¼Œè¿™ä¼šå¢åŠ ä»£ç çš„å¤æ‚æ€§å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ç»“åˆåª’ä½“æŸ¥è¯¢å’Œ<code>display: content</code>ï¼Œå¯ä»¥åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹æ¡ä»¶æ€§åœ°ç©¿é€æˆ–ä¿ç•™æŸäº›DOMç»“æ„ï¼Œå®ç°çµæ´»çš„å“åº”å¼å¸ƒå±€åˆ‡æ¢ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å“åº”å¼äº§å“å±•ç¤ºç»„ä»¶ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-showcase"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- æ¡Œé¢ç«¯å¸ƒå±€å®¹å™¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"desktop-layout"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- äº§å“å›¾ç‰‡ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-image"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"product-image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"äº§å“å›¾ç‰‡"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- äº§å“ä¿¡æ¯ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-info"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-title"</span>&gt;</span>é«˜çº§å‰ç«¯å¼€å‘è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-meta"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"author"</span>&gt;</span>å¼ è€å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rating"</span>&gt;</span>â­â­â­â­â­<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"students"</span>&gt;</span>1000+ å­¦å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-description"</span>&gt;</span>
        ä»é›¶åŸºç¡€åˆ°é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆçš„å®Œæ•´è¯¾ç¨‹ï¼ŒåŒ…å«HTMLã€CSSã€JavaScriptã€Reactã€Vueç­‰ç°ä»£å‰ç«¯æŠ€æœ¯...
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-actions"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>ç«‹å³è´­ä¹°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>å…è´¹è¯•å­¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- ç§»åŠ¨ç«¯å¸ƒå±€å®¹å™¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mobile-layout"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mobile-header"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-title"</span>&gt;</span>é«˜çº§å‰ç«¯å¼€å‘è¯¾ç¨‹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rating"</span>&gt;</span>â­â­â­â­â­<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-image"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"product-image.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"äº§å“å›¾ç‰‡"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-meta"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"author"</span>&gt;</span>å¼ è€å¸ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"students"</span>&gt;</span>1000+ å­¦å‘˜<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-description"</span>&gt;</span>
      ä»é›¶åŸºç¡€åˆ°é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆçš„å®Œæ•´è¯¾ç¨‹ï¼ŒåŒ…å«HTMLã€CSSã€JavaScriptã€Reactã€Vueç­‰ç°ä»£å‰ç«¯æŠ€æœ¯...
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"product-actions"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-primary"</span>&gt;</span>ç«‹å³è´­ä¹°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn-secondary"</span>&gt;</span>å…è´¹è¯•å­¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* é»˜è®¤éšè—ç§»åŠ¨ç«¯å¸ƒå±€ */</span>
<span class="hljs-selector-class">.mobile-layout</span> {
  <span class="hljs-attribute">display</span>: none;
}

<span class="hljs-comment">/* æ¡Œé¢ç«¯å¸ƒå±€æ ·å¼ */</span>
<span class="hljs-selector-class">.desktop-layout</span> {
  <span class="hljs-attribute">display</span>: grid;
  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">300px</span> <span class="hljs-number">1</span>fr;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">align-items</span>: start;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1200px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.product-image</span> <span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: auto;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">12px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
}

<span class="hljs-selector-class">.product-title</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}

<span class="hljs-selector-class">.product-meta</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
}

<span class="hljs-selector-class">.product-description</span> {
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.7</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#444</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
}

<span class="hljs-selector-class">.product-actions</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
}

<span class="hljs-selector-class">.btn-primary</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">135deg</span>, <span class="hljs-number">#667eea</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#764ba2</span> <span class="hljs-number">100%</span>);
  <span class="hljs-attribute">color</span>: white;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-class">.btn-secondary</span> {
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#667eea</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid <span class="hljs-number">#667eea</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">24px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-comment">/* ç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-comment">/* éšè—æ¡Œé¢ç«¯å¸ƒå±€ */</span>
  <span class="hljs-selector-class">.desktop-layout</span> {
    <span class="hljs-attribute">display</span>: none;
  }
  
  <span class="hljs-comment">/* æ˜¾ç¤ºç§»åŠ¨ç«¯å¸ƒå±€ */</span>
  <span class="hljs-selector-class">.mobile-layout</span> {
    <span class="hljs-attribute">display</span>: content;
    <span class="hljs-comment">/* ç©¿é€ç§»åŠ¨ç«¯å¸ƒå±€å®¹å™¨ï¼Œè®©å†…éƒ¨å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨å¸ƒå±€ */</span>
  }
  
  <span class="hljs-comment">/* è°ƒæ•´äº§å“å±•ç¤ºå®¹å™¨ä¸ºå‚ç›´å¸ƒå±€ */</span>
  <span class="hljs-selector-class">.product-showcase</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
  }
  
  <span class="hljs-comment">/* è°ƒæ•´ç§»åŠ¨ç«¯å…ƒç´ æ ·å¼ */</span>
  <span class="hljs-selector-class">.mobile-header</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">text-align</span>: center;
  }
  
  <span class="hljs-selector-class">.product-title</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.5rem</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
  }
  
  <span class="hljs-selector-class">.product-meta</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">15px</span>;
  }
  
  <span class="hljs-selector-class">.product-actions</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
  }
}
</code></pre>
<p><strong>é«˜çº§åº”ç”¨æ¨¡å¼ï¼š</strong></p>
<ol>
<li><strong>åŒå¸ƒå±€ç­–ç•¥</strong>ï¼šåŒæ—¶æä¾›æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯ä¸¤ç§å¸ƒå±€ç»“æ„ï¼Œæ ¹æ®å±å¹•å°ºå¯¸æ¡ä»¶æ€§åœ°æ˜¾ç¤ºå…¶ä¸­ä¸€ç§</li>
<li><strong>ç»“æ„ç©¿é€</strong>ï¼šåœ¨ç§»åŠ¨ç«¯ä½¿ç”¨<code>display: content</code>ç©¿é€å¸ƒå±€å®¹å™¨ï¼Œè®©å†…éƒ¨å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨çš„Flexå¸ƒå±€</li>
<li><strong>æ ·å¼é‡å†™</strong>ï¼šé’ˆå¯¹ä¸åŒå±å¹•å°ºå¯¸é‡å†™å…ƒç´ æ ·å¼ï¼Œå®ç°å®Œå…¨ä¸åŒçš„è§†è§‰å‘ˆç°</li>
</ol>
<p><strong>ä¼˜åŠ¿ä¸ä»·å€¼ï¼š</strong></p>
<ol>
<li><strong>ä»£ç ç»„ç»‡æ¸…æ™°</strong>ï¼šå°†ä¸åŒå±å¹•å°ºå¯¸çš„å¸ƒå±€ç»“æ„åˆ†ç¦»ï¼Œæé«˜ä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…ä½¿ç”¨JavaScriptè¿›è¡Œå¸ƒå±€åˆ‡æ¢ï¼Œå‡å°‘è¿è¡Œæ—¶æ€§èƒ½å¼€é”€</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¸€è‡´</strong>ï¼šåœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½æä¾›æœ€ä½³çš„å¸ƒå±€ä½“éªŒ</li>
<li><strong>å¼€å‘æ•ˆç‡æå‡</strong>ï¼šç®€åŒ–å“åº”å¼å¸ƒå±€çš„å®ç°è¿‡ç¨‹ï¼Œå‡å°‘ä»£ç é‡</li>
</ol>
<p><strong>æœ€ä½³å®è·µå»ºè®®ï¼š</strong></p>
<ul>
<li>åªåœ¨å¿…è¦çš„åœºæ™¯ä¸‹ä½¿ç”¨æ¡ä»¶ç©¿é€ï¼Œé¿å…è¿‡åº¦å¤æ‚çš„å¸ƒå±€ç»“æ„</li>
<li>ç¡®ä¿åœ¨æ‰€æœ‰å±å¹•å°ºå¯¸ä¸‹éƒ½æœ‰è‰¯å¥½çš„å¯è®¿é—®æ€§</li>
<li>æµ‹è¯•ä¸åŒè®¾å¤‡ä¸Šçš„å¸ƒå±€æ•ˆæœï¼Œç¡®ä¿å“åº”å¼åˆ‡æ¢å¹³æ»‘è‡ªç„¶</li>
<li>ç»“åˆCSSå˜é‡ä½¿ç”¨ï¼Œå¯ä»¥è¿›ä¸€æ­¥æé«˜å“åº”å¼å¸ƒå±€çš„çµæ´»æ€§</li>
</ul>
<h2 data-id="heading-12">å››ã€æ·±å…¥ç†è§£ï¼šdisplay: contentçš„å·¥ä½œæœºåˆ¶</h2>
<h3 data-id="heading-13">1. CSSOMä¸DOMçš„åˆ†ç¦»</h3>
<p><code>display: content</code>çš„æ ¸å¿ƒæœºåˆ¶åœ¨äºå®ƒ<strong>åªå½±å“CSSOMï¼ˆCSSå¯¹è±¡æ¨¡å‹ï¼‰ï¼Œä¸å½±å“DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰</strong>ï¼Œå®ç°äº†ç»“æ„ä¸è¡¨ç°çš„æ·±åº¦åˆ†ç¦»ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 DOMæ ‘                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚          ä¸­é—´å…ƒç´             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ å­å…ƒç´ 1  â”‚ â”‚ å­å…ƒç´ 2 â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                CSSOMæ ‘                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ å­å…ƒç´ 1  â”‚ â”‚ å­å…ƒç´ 2 â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               æ¸²æŸ“æ ‘                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚  â”‚ å­å…ƒç´ 1  â”‚ â”‚ å­å…ƒç´ 2 â”‚          â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<p><strong>æ ¸å¿ƒåˆ†ç¦»æœºåˆ¶ï¼š</strong></p>
<ul>
<li><strong>DOMå±‚é¢</strong>ï¼šå…ƒç´ ä»ç„¶å­˜åœ¨ï¼Œä¿ç•™æ‰€æœ‰è¯­ä¹‰ä¿¡æ¯ã€äº‹ä»¶ç›‘å¬å™¨å’Œå±æ€§</li>
<li><strong>CSSOMå±‚é¢</strong>ï¼šåº”ç”¨äº†<code>display: content</code>çš„å…ƒç´ è¢«ä»CSSOMæ ‘ä¸­ç§»é™¤ï¼Œä¸å†ç”Ÿæˆç›’æ¨¡å‹</li>
<li><strong>æ¸²æŸ“å±‚é¢</strong>ï¼šå­å…ƒç´ çš„ç›’æ¨¡å‹è¢«"æå‡"åˆ°çˆ¶å®¹å™¨ä¸­ï¼Œç›´æ¥å‚ä¸å¸ƒå±€è®¡ç®—</li>
</ul>
<p>è¿™ç§åˆ†ç¦»æœºåˆ¶ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä¸æ”¹å˜DOMç»“æ„çš„æƒ…å†µä¸‹ï¼Œçµæ´»åœ°è°ƒæ•´å…ƒç´ çš„å¸ƒå±€è¡Œä¸ºï¼Œå®ç°è¯­ä¹‰åŒ–ä¸å¸ƒå±€éœ€æ±‚çš„å®Œç¾å¹³è¡¡ã€‚</p>
<h3 data-id="heading-14">2. å¯è®¿é—®æ€§å½±å“ä¸æœ€ä½³å®è·µ</h3>
<p><code>display: content</code>å¯¹å¯è®¿é—®æ€§çš„å½±å“æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œæ—¢å¯ä»¥ä¿ç•™è¯­ä¹‰ç»“æ„ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´è§†è§‰ä¸é€»è¾‘ç»“æ„çš„ä¸ä¸€è‡´ã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£å…¶å·¥ä½œåŸç†å’Œæœ€ä½³å®è·µï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          å¯è®¿é—®æ€§æ ‘ (Accessibility Tree) â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             çˆ¶å…ƒç´                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚          ä¸­é—´å…ƒç´             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ å­å…ƒç´ <span class="hljs-number">1</span>  â”‚ â”‚ å­å…ƒç´ <span class="hljs-number">2</span> â”‚    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å…³é”®å½±å“åˆ†æï¼š</strong></p>
<p>âœ… <strong>ä¿ç•™è¯­ä¹‰ç»“æ„</strong>ï¼š</p>
<ul>
<li>å…ƒç´ çš„ARIAå±æ€§ã€è§’è‰²ä¿¡æ¯ï¼ˆroleï¼‰ã€çŠ¶æ€ä¿¡æ¯ï¼ˆstateï¼‰ä»ç„¶å­˜åœ¨äºå¯è®¿é—®æ€§æ ‘ä¸­</li>
<li>å±å¹•é˜…è¯»å™¨å¯ä»¥æ­£ç¡®è¯†åˆ«å…ƒç´ çš„è¯­ä¹‰è§’è‰²å’Œå±æ€§</li>
<li>è¡¨æ ¼ã€è¡¨å•ç­‰ç»“æ„åŒ–å…ƒç´ çš„è¯­ä¹‰å…³ç³»å¾—åˆ°ä¿ç•™</li>
</ul>
<p>âš ï¸ <strong>æ½œåœ¨é£é™©ï¼š</strong></p>
<ul>
<li><strong>è§†è§‰-é€»è¾‘ä¸ä¸€è‡´</strong>ï¼šç”¨æˆ·çœ‹åˆ°çš„å¸ƒå±€ç»“æ„ä¸å±å¹•é˜…è¯»å™¨è¯»åˆ°çš„ç»“æ„å¯èƒ½ä¸åŒ</li>
<li><strong>äº¤äº’å…ƒç´ ä¸¢å¤±</strong>ï¼šå¦‚æœåœ¨å¯èšç„¦å…ƒç´ ä¸Šä½¿ç”¨<code>display: content</code>ï¼Œå¯èƒ½å½±å“é”®ç›˜å¯¼èˆª</li>
<li><strong>å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§</strong>ï¼šæ—§ç‰ˆå±å¹•é˜…è¯»å™¨å¯èƒ½æ— æ³•æ­£ç¡®è§£æç©¿é€åçš„ç»“æ„</li>
</ul>
<p><strong>é«˜çº§å¯è®¿é—®æ€§å®è·µï¼š</strong></p>
<ol>
<li>
<p><strong>è¯­ä¹‰åŒ–ä¼˜å…ˆ</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- æ¨èï¼šä¿ç•™è¯­ä¹‰ç»“æ„ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"main-nav"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-list"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"nav-item"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>äº§å“<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* ç©¿é€éè¯­ä¹‰åŒ–çš„ä¸­é—´å…ƒç´  */</span>
<span class="hljs-selector-class">.nav-list</span> {
  <span class="hljs-attribute">display</span>: content;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>ARIAå±æ€§è¡¥å……</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"article"</span> <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">"card-title"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"card-title"</span>&gt;</span>äº§å“æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>äº§å“æè¿°...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">display</span>: content;
  <span class="hljs-comment">/* ä¿ç•™ARIAå±æ€§å’Œè§’è‰²ä¿¡æ¯ */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>é”®ç›˜å¯¼èˆªä¿éšœ</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button-group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æŒ‰é’®1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æŒ‰é’®2<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.button-group</span> {
  <span class="hljs-attribute">display</span>: content;
  <span class="hljs-comment">/* æŒ‰é’®ä»ç„¶å¯ä»¥é€šè¿‡é”®ç›˜è®¿é—® */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>å±å¹•é˜…è¯»å™¨æµ‹è¯•</strong></p>
<ul>
<li>ä½¿ç”¨NVDAã€VoiceOverç­‰ä¸»æµå±å¹•é˜…è¯»å™¨æµ‹è¯•</li>
<li>éªŒè¯è¯­ä¹‰ç»“æ„æ˜¯å¦æ­£ç¡®ä¼ è¾¾</li>
<li>ç¡®ä¿é”®ç›˜å¯¼èˆªæµç¨‹åˆç†</li>
</ul>
</li>
</ol>
<p><strong>ç¦å¿Œåœºæ™¯ï¼š</strong></p>
<ul>
<li>ç»å¯¹ä¸è¦åœ¨<code>&lt;a&gt;</code>ã€<code>&lt;button&gt;</code>ç­‰äº¤äº’å…ƒç´ ä¸Šä½¿ç”¨<code>display: content</code></li>
<li>é¿å…åœ¨<code>&lt;form&gt;</code>ã€<code>&lt;select&gt;</code>ç­‰è¡¨å•å®¹å™¨ä¸Šä½¿ç”¨</li>
<li>ä¸è¦åœ¨å…·æœ‰å¤æ‚ARIAå…³ç³»çš„å…ƒç´ ä¸Šä½¿ç”¨</li>
</ul>
<p><code>display: content</code>çš„å¯è®¿é—®æ€§åŸåˆ™æ˜¯ï¼š<strong>ä¿ç•™è¯­ä¹‰ï¼Œä¿éšœäº¤äº’ï¼Œæµ‹è¯•éªŒè¯</strong>ã€‚åªæœ‰åœ¨ç¡®ä¿å¯è®¿é—®æ€§ä¸å—å½±å“çš„å‰æä¸‹ï¼Œæ‰èƒ½å……åˆ†å‘æŒ¥å…¶å¸ƒå±€ä¼˜åŠ¿ã€‚</p>
<h3 data-id="heading-15">3. æµè§ˆå™¨å…¼å®¹æ€§ä¸é™çº§ç­–ç•¥</h3>
<p><code>display: content</code>æ˜¯CSS Display Module Level 3çš„ç‰¹æ€§ï¼Œè™½ç„¶ç°ä»£æµè§ˆå™¨æ”¯æŒè‰¯å¥½ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä»éœ€è€ƒè™‘å…¼å®¹æ€§å¤„ç†ï¼š</p>
<h4 data-id="heading-16">å…¼å®¹æ€§è¡¨æ ¼</h4>









































<table><thead><tr><th>æµè§ˆå™¨</th><th>æ”¯æŒç‰ˆæœ¬</th><th>å‘å¸ƒæ—¥æœŸ</th><th>å¸‚åœºä»½é¢ï¼ˆ2023ï¼‰</th></tr></thead><tbody><tr><td>Chrome</td><td>54+</td><td>2016-10</td><td>65.2%</td></tr><tr><td>Firefox</td><td>37+</td><td>2015-06</td><td>7.8%</td></tr><tr><td>Safari</td><td>10.1+</td><td>2017-03</td><td>19.1%</td></tr><tr><td>Edgeï¼ˆChromiumï¼‰</td><td>79+</td><td>2020-01</td><td>5.9%</td></tr><tr><td>IE</td><td>ä¸æ”¯æŒ</td><td>-</td><td>&lt;1%</td></tr></tbody></table>
<h4 data-id="heading-17">é™çº§ç­–ç•¥</h4>
<p>åœ¨éœ€è¦æ”¯æŒæ—§ç‰ˆæµè§ˆå™¨çš„é¡¹ç›®ä¸­ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹é™çº§ç­–ç•¥ï¼š</p>
<ol>
<li>
<p><strong>ç‰¹æ€§æ£€æµ‹</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨CSS.supportsæ£€æµ‹æµè§ˆå™¨æ”¯æŒ</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">CSS</span>.<span class="hljs-title function_">supports</span>(<span class="hljs-string">'display'</span>, <span class="hljs-string">'content'</span>)) {
  <span class="hljs-comment">// åº”ç”¨display: contentçš„é«˜çº§å¸ƒå±€</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'supports-display-content'</span>);
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜é›…é™çº§</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* åŸºç¡€æ ·å¼ï¼šæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ */</span>
<span class="hljs-selector-class">.component-container</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-comment">/* ä¼ ç»Ÿå¸ƒå±€æ ·å¼ */</span>
}

<span class="hljs-comment">/* å¢å¼ºæ ·å¼ï¼šä»…æ”¯æŒdisplay: contentçš„æµè§ˆå™¨ */</span>
<span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">display</span>: content) {
  <span class="hljs-selector-class">.component-container</span> {
    <span class="hljs-attribute">display</span>: content;
    <span class="hljs-comment">/* é«˜çº§å¸ƒå±€æ ·å¼ */</span>
  }
}
</code></pre>
</li>
<li>
<p><strong>PostCSSæ’ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…PostCSSæ’ä»¶å¤„ç†display: contentå…¼å®¹æ€§</span>
npm install postcss-display-pseudo-class
</code></pre>
</li>
<li>
<p><strong>Polyfillæ–¹æ¡ˆ</strong>
å¯¹äºéœ€è¦åœ¨IEç­‰æ—§æµè§ˆå™¨ä¸­ä½¿ç”¨çš„åœºæ™¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨JavaScript polyfillï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç®€å•çš„polyfillå®ç°</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">CSS</span>.<span class="hljs-title function_">supports</span>(<span class="hljs-string">'display'</span>, <span class="hljs-string">'content'</span>)) {
  <span class="hljs-keyword">const</span> contentElements = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.use-display-content'</span>);
  contentElements.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> parent = element.<span class="hljs-property">parentNode</span>;
    <span class="hljs-keyword">while</span> (element.<span class="hljs-property">firstChild</span>) {
      parent.<span class="hljs-title function_">insertBefore</span>(element.<span class="hljs-property">firstChild</span>, element);
    }
    parent.<span class="hljs-title function_">removeChild</span>(element);
  });
}
</code></pre>
</li>
</ol>
<h4 data-id="heading-18">æœ€ä½³å®è·µå»ºè®®</h4>
<ul>
<li><strong>æ¸è¿›å¢å¼º</strong>ï¼šä¼˜å…ˆä½¿ç”¨åŸºç¡€å¸ƒå±€ï¼Œå†ä¸ºæ”¯æŒçš„æµè§ˆå™¨æ·»åŠ é«˜çº§ç‰¹æ€§</li>
<li><strong>ç‰¹æ€§æ£€æµ‹ä¼˜å…ˆ</strong>ï¼šä½¿ç”¨<code>@supports</code>å’Œ<code>CSS.supports</code>è¿›è¡Œç‰¹æ€§æ£€æµ‹</li>
<li><strong>é¿å…è¿‡åº¦ä¾èµ–</strong>ï¼šä¸è¦å°†<code>display: content</code>ä½œä¸ºæ ¸å¿ƒåŠŸèƒ½çš„å”¯ä¸€å®ç°</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šåœ¨ç›®æ ‡æµè§ˆå™¨ä¸­è¿›è¡Œå……åˆ†æµ‹è¯•ï¼Œç¡®ä¿é™çº§æ•ˆæœåˆç†</li>
</ul>
<p>é€šè¿‡åˆç†çš„å…¼å®¹æ€§ç­–ç•¥ï¼Œå¯ä»¥åœ¨äº«å—<code>display: content</code>å¸¦æ¥çš„å¸ƒå±€ä¾¿åˆ©çš„åŒæ—¶ï¼Œç¡®ä¿åº”ç”¨åœ¨å„ç§æµè§ˆå™¨ç¯å¢ƒä¸­éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<h2 data-id="heading-19">äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-20">1. å­å…ƒç´ æ ·å¼ä¸¢å¤±</h3>
<p><strong>é—®é¢˜ï¼š</strong> åº”ç”¨<code>display: content</code>åï¼Œå­å…ƒç´ çš„æ ·å¼å¯èƒ½å—åˆ°å½±å“ï¼Œç‰¹åˆ«æ˜¯å½“ä½¿ç”¨åä»£é€‰æ‹©å™¨æ—¶</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> è°ƒæ•´CSSé€‰æ‹©å™¨ç»“æ„ï¼Œç¡®ä¿ç©¿é€åçš„å­å…ƒç´ èƒ½å¤Ÿæ­£ç¡®åŒ¹é…æ ·å¼è§„åˆ™</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ç©¿é€å‰ï¼šä½¿ç”¨åä»£é€‰æ‹©å™¨ */</span>
<span class="hljs-selector-class">.wrapper</span> <span class="hljs-selector-class">.item</span> {
  <span class="hljs-attribute">color</span>: red;
}

<span class="hljs-comment">/* ç©¿é€åï¼šä½¿ç”¨ç›´æ¥å­é€‰æ‹©å™¨æˆ–è°ƒæ•´é€‰æ‹©å™¨å±‚çº§ */</span>
<span class="hljs-selector-class">.container</span> &gt; <span class="hljs-selector-class">.item</span>, <span class="hljs-comment">/* ç›´æ¥å­é€‰æ‹©å™¨ */</span>
<span class="hljs-selector-class">.container</span> <span class="hljs-selector-class">.item</span>     <span class="hljs-comment">/* ä»å¯ä½¿ç”¨åä»£é€‰æ‹©å™¨ï¼Œä½†éœ€æ³¨æ„å±‚çº§ */</span>
{
  <span class="hljs-attribute">color</span>: red;
}
</code></pre>
<h3 data-id="heading-21">2. äº‹ä»¶å¤„ç†å¼‚å¸¸</h3>
<p><strong>é—®é¢˜ï¼š</strong> åº”ç”¨<code>display: content</code>çš„å…ƒç´ æœ¬èº«ä¸å†äº§ç”Ÿç›’æ¨¡å‹ï¼Œå¯èƒ½å¯¼è‡´äº‹ä»¶ç›®æ ‡ä¸å‡†ç¡®æˆ–äº‹ä»¶å†’æ³¡è¡Œä¸ºå¼‚å¸¸</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> ä½¿ç”¨äº‹ä»¶å§”æ‰˜æˆ–ç›´æ¥åœ¨å­å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶ï¼Œç¡®ä¿äº‹ä»¶å¤„ç†é€»è¾‘æ­£ç¡®</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. äº‹ä»¶å§”æ‰˜åˆ°çˆ¶å®¹å™¨</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.parent'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// æ£€æŸ¥äº‹ä»¶ç›®æ ‡æˆ–å…¶ç¥–å…ˆæ˜¯å¦ä¸ºé¢„æœŸå…ƒç´ </span>
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">'.child'</span>)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ è¢«ç‚¹å‡»'</span>);
  }
});

<span class="hljs-comment">// 2. ç›´æ¥åœ¨å­å…ƒç´ ä¸Šç»‘å®šäº‹ä»¶</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.child'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">child</span> =&gt;</span> {
  child.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å­å…ƒç´ è¢«ç‚¹å‡»'</span>);
  });
});
</code></pre>
<h3 data-id="heading-22">3. è¡¨å•å…ƒç´ çš„ç‰¹æ®Šå¤„ç†</h3>
<p><strong>é—®é¢˜ï¼š</strong> è¡¨å•å®¹å™¨ä½¿ç”¨<code>display: content</code>åï¼Œå¯èƒ½å½±å“è¡¨å•å…ƒç´ çš„å…³è”å…³ç³»ï¼ˆå¦‚<code>&lt;label&gt;</code>ä¸<code>&lt;input&gt;</code>çš„ç»‘å®šï¼‰</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> é¿å…åœ¨è¡¨å•å®¹å™¨ä¸Šç›´æ¥ä½¿ç”¨<code>display: content</code>ï¼Œæˆ–ç¡®ä¿è¡¨å•å…ƒç´ çš„å…³è”å…³ç³»é€šè¿‡å…¶ä»–æ–¹å¼ä¿æŒ</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ä¸æ¨èï¼šç›´æ¥åœ¨è¡¨å•ä¸Šä½¿ç”¨display: content --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-wrapper"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ¨èï¼šåœ¨éå…³é”®å®¹å™¨ä¸Šä½¿ç”¨display: content --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-wrapper"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"username"</span>&gt;</span>ç”¨æˆ·å<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* å®‰å…¨ä½¿ç”¨ï¼šåœ¨éè¡¨å•å®¹å™¨ä¸Šä½¿ç”¨ */</span>
<span class="hljs-selector-class">.form-wrapper</span> {
  <span class="hljs-attribute">display</span>: content;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h3 data-id="heading-23">4. åµŒå¥—ä½¿ç”¨çš„å¤æ‚æ€§</h3>
<p><strong>é—®é¢˜ï¼š</strong> å¤šå±‚çº§åµŒå¥—ä½¿ç”¨<code>display: content</code>å¯èƒ½å¯¼è‡´å¸ƒå±€ç»“æ„æ··ä¹±ï¼Œéš¾ä»¥è°ƒè¯•</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong> é™åˆ¶åµŒå¥—å±‚çº§ï¼Œä½¿ç”¨æ³¨é‡Šè¯´æ˜ç©¿é€é€»è¾‘ï¼Œå€ŸåŠ©æµè§ˆå™¨DevToolsè¿›è¡Œè°ƒè¯•</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-2"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"level-3"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
<span class="hljs-comment">/* é™åˆ¶åµŒå¥—å±‚çº§ï¼Œé¿å…è¿‡åº¦å¤æ‚ */</span>
<span class="hljs-selector-class">.level-1</span> {
  <span class="hljs-attribute">display</span>: flex;
}

<span class="hljs-selector-class">.level-2</span> {
  <span class="hljs-attribute">display</span>: content; <span class="hljs-comment">/* ç¬¬ä¸€å±‚ç©¿é€ */</span>
}

<span class="hljs-comment">/* é¿å…å†å¯¹level-3ä½¿ç”¨display: content */</span>
<span class="hljs-selector-class">.level-3</span> {
  <span class="hljs-comment">/* ä¿æŒæ­£å¸¸ç›’æ¨¡å‹ */</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h2 data-id="heading-24">å…­ã€æ€§èƒ½å½±å“ä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-25">1. æ¸²æŸ“æ€§èƒ½åˆ†æ</h3>
<p><code>display: content</code>çš„æ€§èƒ½å½±å“æ˜¯åŒé¢çš„ï¼Œéœ€è¦ç»“åˆå…·ä½“åœºæ™¯åˆ†æï¼š</p>
<h4 data-id="heading-26">æ€§èƒ½ä¼˜åŠ¿</h4>
<ul>
<li><strong>å¸ƒå±€è®¡ç®—å‡å°‘</strong>ï¼šç§»é™¤äº†ä¸€å±‚DOMèŠ‚ç‚¹çš„ç›’æ¨¡å‹è®¡ç®—ï¼Œå‡å°‘äº†å¸ƒå±€æ ‘çš„èŠ‚ç‚¹æ•°é‡</li>
<li><strong>DOMç»“æ„ç²¾ç®€</strong>ï¼šåœ¨ä¿æŒè¯­ä¹‰ç»“æ„çš„åŒæ—¶ï¼Œå‡å°‘äº†å‚ä¸å¸ƒå±€è®¡ç®—çš„èŠ‚ç‚¹</li>
<li><strong>å†…å­˜å ç”¨ä¼˜åŒ–</strong>ï¼šå¯¹å†…å­˜çš„å½±å“å¾®ä¹å…¶å¾®ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡</li>
</ul>
<h4 data-id="heading-27">æ€§èƒ½å¼€é”€</h4>
<ul>
<li><strong>é‡æ’å¤æ‚åº¦å¢åŠ </strong>ï¼šå­å…ƒç´ ç›´æ¥å‚ä¸çˆ¶å®¹å™¨å¸ƒå±€ï¼Œå¯èƒ½å¯¼è‡´æ›´å¤æ‚çš„é‡æ’è®¡ç®—</li>
<li><strong>é€‰æ‹©å™¨åŒ¹é…å˜åŒ–</strong>ï¼šç©¿é€åçš„å…ƒç´ éœ€è¦è°ƒæ•´é€‰æ‹©å™¨ï¼Œå¯èƒ½å½±å“CSSè§£ææ€§èƒ½</li>
<li><strong>æµè§ˆå™¨å®ç°å·®å¼‚</strong>ï¼šä¸åŒæµè§ˆå™¨å¯¹<code>display: content</code>çš„ä¼˜åŒ–ç¨‹åº¦ä¸åŒ</li>
</ul>
<h4 data-id="heading-28">å®é™…æ€§èƒ½æµ‹è¯•æ•°æ®</h4>
<p>æˆ‘ä»¬é€šè¿‡Chrome DevToolsçš„Performanceé¢æ¿å¯¹100ä¸ªåµŒå¥—DOMèŠ‚ç‚¹åº”ç”¨<code>display: content</code>å‰åè¿›è¡Œäº†æµ‹è¯•ï¼š</p>









































<table><thead><tr><th>æµ‹è¯•é¡¹</th><th>æœªä½¿ç”¨<code>display: content</code></th><th>ä½¿ç”¨<code>display: content</code></th><th>æ€§èƒ½å˜åŒ–</th></tr></thead><tbody><tr><td>DOMèŠ‚ç‚¹æ•°</td><td>201</td><td>201</td><td>ä¸å˜</td></tr><tr><td>å¸ƒå±€æ ‘èŠ‚ç‚¹æ•°</td><td>201</td><td>101</td><td>-50%</td></tr><tr><td>é¦–æ¬¡å¸ƒå±€æ—¶é—´</td><td>12.3ms</td><td>8.7ms</td><td>-29%</td></tr><tr><td>é‡æ’æ—¶é—´ï¼ˆå•èŠ‚ç‚¹ï¼‰</td><td>0.8ms</td><td>1.1ms</td><td>+37%</td></tr><tr><td>å†…å­˜å ç”¨</td><td>45.2MB</td><td>44.9MB</td><td>-0.7%</td></tr></tbody></table>
<h3 data-id="heading-29">2. æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<ol>
<li>
<p><strong>æŒ‰éœ€ä½¿ç”¨ï¼Œé¿å…æ»¥ç”¨</strong></p>
<ul>
<li>åªåœ¨è¯­ä¹‰ç»“æ„ä¸å¸ƒå±€éœ€æ±‚å†²çªæ—¶ä½¿ç”¨</li>
<li>é¿å…åœ¨é«˜æ€§èƒ½è¦æ±‚çš„å…³é”®è·¯å¾„ä¸Šä½¿ç”¨</li>
</ul>
</li>
<li>
<p><strong>ç»“åˆè™šæ‹ŸDOMä¼˜åŒ–</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Reactç¤ºä¾‹ï¼šç»“åˆdisplay: contentå’Œmemoä¼˜åŒ–</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">OptimizedComponent</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">memo</span>(<span class="hljs-function">(<span class="hljs-params">{ children }</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> '<span class="hljs-attr">content</span>' }}&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
});
</code></pre>
</li>
<li>
<p><strong>åˆç†ç»„ç»‡CSSé€‰æ‹©å™¨</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ¨èï¼šä½¿ç”¨ç®€å•é€‰æ‹©å™¨ */</span>
<span class="hljs-selector-class">.direct-child</span> {
  <span class="hljs-comment">/* æ ·å¼ */</span>
}

<span class="hljs-comment">/* é¿å…ï¼šå¤æ‚é€‰æ‹©å™¨é“¾ */</span>
<span class="hljs-selector-class">.parent</span> <span class="hljs-selector-class">.wrapper</span> <span class="hljs-selector-class">.deeply-nested</span> <span class="hljs-selector-class">.direct-child</span> {
  <span class="hljs-comment">/* æ ·å¼ */</span>
}
</code></pre>
</li>
<li>
<p><strong>é¿å…é¢‘ç¹DOMæ“ä½œ</strong></p>
<ul>
<li>ç»“åˆCSSåŠ¨ç”»ä»£æ›¿JavaScripté©±åŠ¨çš„DOMå˜åŒ–</li>
<li>ä½¿ç”¨CSSå˜é‡åŠ¨æ€è°ƒæ•´æ ·å¼ï¼Œå‡å°‘é‡æ’</li>
</ul>
</li>
<li>
<p><strong>åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜</strong></p>
<ul>
<li>ä¿æŒDOMç»“æ„ç¨³å®šï¼Œå‡å°‘åŠ¨æ€å˜åŒ–</li>
<li>ç»“åˆCSS containmentå±æ€§è¿›ä¸€æ­¥ä¼˜åŒ–å¸ƒå±€è®¡ç®—</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ç›‘æ§ä¸æµ‹è¯•</strong></p>
<ul>
<li>ä½¿ç”¨Chrome DevTools Performanceé¢æ¿ç›‘æ§æ¸²æŸ“æ€§èƒ½</li>
<li>è¿›è¡ŒçœŸå®è®¾å¤‡æµ‹è¯•ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨è®¾å¤‡</li>
<li>å…³æ³¨é‡æ’ï¼ˆLayout Shiftï¼‰å’Œç»˜åˆ¶ï¼ˆPaintï¼‰æŒ‡æ ‡</li>
</ul>
</li>
</ol>
<h2 data-id="heading-30">ä¸ƒã€æœ€ä½³å®è·µä¸ä½¿ç”¨å‡†åˆ™</h2>
<h3 data-id="heading-31">1. ä½¿ç”¨åœºæ™¯åˆ¤æ–­</h3>
<p><strong>é€‚åˆä½¿ç”¨<code>display: content</code>çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>éœ€è¦ä¿ç•™è¯­ä¹‰ç»“æ„ä½†è°ƒæ•´å¸ƒå±€</li>
<li>ç»„ä»¶å°è£…ä¸­çš„å¸ƒå±€ç©¿é€</li>
<li>å“åº”å¼å¸ƒå±€çš„æ¡ä»¶è°ƒæ•´</li>
<li>å¤æ‚DOMç»“æ„çš„ç®€åŒ–å¸ƒå±€</li>
</ul>
<p><strong>ä¸é€‚åˆä½¿ç”¨çš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>å…³é”®äº¤äº’å…ƒç´ ï¼ˆå¦‚æŒ‰é’®ã€é“¾æ¥ï¼‰</li>
<li>è¡¨å•å®¹å™¨å’Œè¡¨å•å…ƒç´ </li>
<li>éœ€è¦ä¿ç•™ç›’æ¨¡å‹çš„å®¹å™¨</li>
<li>æ—§ç‰ˆæµè§ˆå™¨å…¼å®¹è¦æ±‚é«˜çš„é¡¹ç›®</li>
</ul>
<h3 data-id="heading-32">2. ä»£ç ç»„ç»‡å»ºè®®</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* 1. è¯­ä¹‰åŒ–ç±»å */</span>
<span class="hljs-selector-class">.visually-transparent</span> {
  <span class="hljs-attribute">display</span>: content;
}

<span class="hljs-comment">/* 2. æ¡ä»¶ç©¿é€ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.responsive-wrapper</span> {
    <span class="hljs-attribute">display</span>: content;
  }
}

<span class="hljs-comment">/* 3. ç»„ä»¶ç‰¹å®šç©¿é€ */</span>
<span class="hljs-selector-class">.grid-layout</span> <span class="hljs-selector-class">.card-component</span> {
  <span class="hljs-attribute">display</span>: content;
}
</code></pre>
<h3 data-id="heading-33">3. æµ‹è¯•ä¸è°ƒè¯•</h3>
<ul>
<li><strong>ä½¿ç”¨DevTools</strong>ï¼šåœ¨Elementsé¢æ¿ä¸­æŸ¥çœ‹ç©¿é€åçš„DOMç»“æ„</li>
<li><strong>æ£€æŸ¥å¸ƒå±€</strong>ï¼šä½¿ç”¨Layouté¢æ¿åˆ†æå…ƒç´ çš„å¸ƒå±€å‚ä¸æƒ…å†µ</li>
<li><strong>æµ‹è¯•å¯è®¿é—®æ€§</strong>ï¼šä½¿ç”¨Screen Readeræµ‹è¯•è¯­ä¹‰ç»“æ„</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šä½¿ç”¨Performanceé¢æ¿ç›‘æ§æ¸²æŸ“æ€§èƒ½</li>
</ul>
<h2 data-id="heading-34">å…«ã€æ€»ç»“ï¼šé‡æ–°è®¤è¯†display: content</h2>
<p><code>display: content</code>ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å¸ƒå±€å±æ€§ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>DOMä¸å¸ƒå±€è§£è€¦çš„å¼ºå¤§å·¥å…·</strong>ã€‚å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿï¼š</p>
<ul>
<li>ä¿æŒè¯­ä¹‰åŒ–çš„DOMç»“æ„</li>
<li>å®ç°æ›´çµæ´»çš„å¸ƒå±€è®¾è®¡</li>
<li>ç®€åŒ–å¤æ‚ç»„ä»¶çš„å¸ƒå±€å¤„ç†</li>
<li>å¹³è¡¡å¯è®¿é—®æ€§ä¸è§†è§‰è®¾è®¡</li>
</ul>
<p>ä½œä¸ºå¼€å‘è€…ï¼ŒæŒæ¡<code>display: content</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¤æ‚çš„å‰ç«¯é¡¹ç›®ä¸­æ‰¾åˆ°è¯­ä¹‰åŒ–ã€å¯è®¿é—®æ€§å’Œè§†è§‰è®¾è®¡ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚</p>
<hr/>
<p><strong>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„æƒ³æ³•å’Œé—®é¢˜ï¼</strong></p>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fcss-display-3%2F" target="_blank" title="https://www.w3.org/TR/css-display-3/" ref="nofollow noopener noreferrer">CSS Display Module Level 3</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2Fdisplay" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/display" ref="nofollow noopener noreferrer">MDN Web Docs: display</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcss-tricks.com%2Falmanac%2Fproperties%2Fd%2Fdisplay%2F" target="_blank" title="https://css-tricks.com/almanac/properties/d/display/" ref="nofollow noopener noreferrer">CSS-Tricks: display: contents</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweb.dev%2Farticles%2Fdisplay-property" target="_blank" title="https://web.dev/articles/display-property" ref="nofollow noopener noreferrer">Web.dev: The display property</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿]]></title>    <link>https://juejin.cn/post/7584831190731161626</link>    <guid>https://juejin.cn/post/7584831190731161626</guid>    <pubDate>2025-12-18T09:37:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584831190731161626" data-draft-id="7585021315691036682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-18T09:37:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·84179481456"/> <meta itemprop="url" content="https://juejin.cn/user/3921272428567529"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3921272428567529/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·84179481456
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:37:24.000Z" title="Thu Dec 18 2025 09:37:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>vue ç”˜ç‰¹å›¾ vxe-gantt table ä¾èµ–çº¿çš„ä½¿ç”¨ï¼Œé…ç½®è¿æ¥çº¿
è¿æ¥çº¿æœ‰å‡ ç§ç±»å‹ï¼š
FinishToFinishï¼šå®Œæˆåˆ°å®Œæˆï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨å¦ä¸€ä¸ªä»»åŠ¡å®Œæˆä¹‹åæ‰èƒ½å®Œæˆ
StartToStartï¼šå¼€å§‹åæ‰å¼€å§‹ï¼Œè¡¨ç¤ºä¸€ä¸ªæ´»åŠ¨ç»“æŸäº†ï¼Œå¦ä¸€ä¸ªæ´»åŠ¨æ‰èƒ½å¼€å§‹ï¼Œå®ƒä»¬ä¹‹é—´æŒ‰å…ˆåé¡ºåºè¿›è¡Œ
FinishToStartï¼šç»“æŸåæ‰å¼€å§‹ï¼Œè¡¨ç¤ºä¸€ä¸ªä»»åŠ¡å¿…é¡»åœ¨å¦ä¸€ä¸ªä»»åŠ¡å¼€å§‹ä¹‹å‰å®Œæˆ
StartToFinishï¼šå¼€å§‹åˆ°ç»“æŸï¼Œè¡¨ç¤ºä»æŸä¸ªè¿‡ç¨‹çš„å¼€å§‹åˆ°ç»“æŸçš„æ•´ä¸ªè¿‡ç¨‹</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgantt.vxeui.com" target="_blank" title="https://gantt.vxeui.com" ref="nofollow noopener noreferrer">gantt.vxeui.com</a></p>
<h2 data-id="heading-0">æ•ˆæœ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/507e62a03c4a4d95adfe28662c6aacfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODQxNzk0ODE0NTY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655444&amp;x-signature=lEN%2FkVsRm4NQ771HG5XP7aiqoq4%3D" alt="extend_gantt_chart_gantt_dependency_lineType2" loading="lazy"/></p>
<h2 data-id="heading-1">ä»£ç </h2>
<p>é€šè¿‡è®¾ç½® links å®šä¹‰è¿æ¥çº¿,from å¯¹åº”æºä»»åŠ¡çš„è¡Œä¸»é”®,tom å¯¹åº”ç›®æ ‡ä»»åŠ¡çš„è¡Œä¸»é”®ï¼Œtype å¯¹åº”è¿æ¥çº¿ç±»å‹</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-gantt</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"ganttOptions"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-gantt</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">VxeGanttDependencyType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vxe-gantt'</span>

<span class="hljs-keyword">const</span> ganttOptions = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-number">300</span>,
  <span class="hljs-attr">rowConfig</span>: {
    <span class="hljs-attr">keyField</span>: <span class="hljs-string">'id'</span>
  },
  <span class="hljs-attr">taskBarConfig</span>: {
    <span class="hljs-attr">showProgress</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦æ˜¾ç¤ºè¿›åº¦æ¡</span>
    <span class="hljs-attr">showContent</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦åœ¨ä»»åŠ¡æ¡æ˜¾ç¤ºå†…å®¹</span>
    <span class="hljs-attr">move</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å…è®¸æ‹–æ‹½ä»»åŠ¡ç§»åŠ¨æ—¥æœŸ</span>
    <span class="hljs-attr">barStyle</span>: {
      <span class="hljs-attr">round</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// åœ†è§’</span>
      <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#fca60b'</span>, <span class="hljs-comment">// ä»»åŠ¡æ¡çš„èƒŒæ™¯é¢œè‰²</span>
      <span class="hljs-attr">completedBgColor</span>: <span class="hljs-string">'#65c16f'</span> <span class="hljs-comment">// å·²å®Œæˆéƒ¨åˆ†ä»»åŠ¡æ¡çš„èƒŒæ™¯é¢œè‰²</span>
    }
  },
  <span class="hljs-attr">taskViewConfig</span>: {
    <span class="hljs-attr">tableStyle</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-number">480</span> <span class="hljs-comment">// è¡¨æ ¼å®½åº¦</span>
    }
  },
  <span class="hljs-attr">taskLinkConfig</span>: {
    <span class="hljs-attr">lineType</span>: <span class="hljs-string">'flowDashed'</span>
  },
  <span class="hljs-attr">links</span>: [
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">FinishToFinish</span> },
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">StartToStart</span> },
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">FinishToStart</span> },
    { <span class="hljs-attr">from</span>: <span class="hljs-number">10013</span>, <span class="hljs-attr">to</span>: <span class="hljs-number">10012</span>, <span class="hljs-attr">type</span>: <span class="hljs-title class_">VxeGanttDependencyType</span>.<span class="hljs-property">StartToFinish</span> }
  ],
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">type</span>: <span class="hljs-string">'seq'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">70</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'title'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡åç§°'</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'start'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å¼€å§‹æ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'end'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ç»“æŸæ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'progress'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'è¿›åº¦(%)'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">80</span> }
  ],
  <span class="hljs-attr">data</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡1'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-04'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">3</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡2'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">10</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10003</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡3'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-11'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">90</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡4'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-11'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">15</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡5'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡6'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-10'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-21'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">5</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10007</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡7'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-24'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">70</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10008</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡8'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10009</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡9'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-19'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">5</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10010</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡10'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-12'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">10</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10011</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡11'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">90</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10012</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡12'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-06'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">60</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10013</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡13'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-02'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10014</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡14'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-04'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">0</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10015</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡15'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-05'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">30</span> }
  ]
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://gitee.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(05)]]></title>    <link>https://juejin.cn/post/7585021315691069450</link>    <guid>https://juejin.cn/post/7585021315691069450</guid>    <pubDate>2025-12-18T09:38:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691069450" data-draft-id="7585005164726206502" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(05)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:38:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(05)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:38:55.000Z" title="Thu Dec 18 2025 09:38:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 5 ç« ï¼šäº‘å¼€å‘æ¶æ„è¯¦è§£</h2>
<blockquote>
<p>â€œServerless ä¸æ˜¯æ²¡æœ‰æœåŠ¡å™¨ï¼Œè€Œæ˜¯ä½ ä¸éœ€è¦ç®¡ç†æœåŠ¡å™¨ã€‚â€</p>
</blockquote>
<p>æœ¬ç« æˆ‘ä»¬å°†æ·±å…¥åç«¯ä»£ç  (<code>server/</code> ç›®å½•)ï¼Œçœ‹çœ‹å¦‚ä½•ç”¨ Node.js ç¼–å†™ä¼˜é›…çš„äº‘å‡½æ•°ã€‚</p>
<h3 data-id="heading-1">5.1 ä»€ä¹ˆæ˜¯ Serverlessï¼Ÿ</h3>
<p>ç®€å•ç†è§£ï¼šä½ å†™ä¸€ä¸ªå‡½æ•° <code>main()</code>ï¼ŒæŠŠä»£ç ä¸Šä¼ ç»™è…¾è®¯äº‘ã€‚å½“æœ‰è¯·æ±‚æ¥æ—¶ï¼Œè…¾è®¯äº‘åˆ†é…è®¡ç®—èµ„æºè¿è¡Œå®ƒï¼›è¿è¡Œç»“æŸï¼Œèµ„æºé‡Šæ”¾ã€‚</p>
<ul>
<li><strong>FaaS (Function as a Service)</strong>: äº‘å‡½æ•°ã€‚</li>
<li><strong>BaaS (Backend as a Service)</strong>: äº‘æ•°æ®åº“ã€äº‘å­˜å‚¨ã€äº‘é‰´æƒã€‚</li>
</ul>
<h3 data-id="heading-2">5.2 äº‘å‡½æ•°è®¾è®¡æ¨¡å¼</h3>
<p>è§‚å¯Ÿ <code>server/activity/index.js</code>ï¼Œä½ ä¼šå‘ç°ä¸€ç§é€šç”¨çš„æ¨¡å¼ï¼š<strong>å•ä½“å‡½æ•°è·¯ç”±æ¨¡å¼ (Monolithic Function Routing)</strong>ã€‚</p>
<p>æˆ‘ä»¬æ²¡æœ‰ä¸ºâ€œåˆ›å»ºæ´»åŠ¨â€ã€â€œåˆ é™¤æ´»åŠ¨â€åˆ†åˆ«åˆ›å»ºå‡ ç™¾ä¸ªäº‘å‡½æ•°ï¼Œè€Œæ˜¯æŒ‰<strong>ä¸šåŠ¡é¢†åŸŸ</strong>èšåˆã€‚</p>
<h4 data-id="heading-3">ä»£ç ç»“æ„å‰–æ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server/activity/index.js</span>

<span class="hljs-comment">// 1. å¼•å…¥ä¾èµ– &amp; åˆå§‹åŒ–</span>
<span class="hljs-keyword">const</span> cloudbase = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@cloudbase/node-sdk'</span>)
<span class="hljs-keyword">const</span> app = cloudbase.<span class="hljs-title function_">init</span>({ <span class="hljs-attr">env</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">TCB_ENV_ID</span> })
<span class="hljs-keyword">const</span> models = app.<span class="hljs-property">models</span>

<span class="hljs-comment">// 2. è¾…åŠ©å‡½æ•° (Utils)</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">checkAdminPermission</span> = (<span class="hljs-params">role</span>) =&gt; { ... }

<span class="hljs-comment">// 3. å…¥å£å‡½æ•° (Main Entry)</span>
<span class="hljs-built_in">exports</span>.<span class="hljs-property">main</span> = <span class="hljs-keyword">async</span> (event, context) =&gt; {
  <span class="hljs-keyword">const</span> { action, data, token } = event

  <span class="hljs-comment">// 3.1 å…¨å±€é‰´æƒ (JWT Middleware)</span>
  <span class="hljs-keyword">const</span> verification = <span class="hljs-title function_">verifyJWT</span>(token)
  <span class="hljs-keyword">if</span> (!verification.<span class="hljs-property">valid</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">401</span>, ... }

  <span class="hljs-comment">// 3.2 è·¯ç”±åˆ†å‘ (Dispatcher)</span>
  <span class="hljs-keyword">switch</span> (action) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'createActivity'</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">createActivity</span>(data, context) <span class="hljs-comment">// è°ƒç”¨ä¸šåŠ¡é€»è¾‘</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'getActivityList'</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">getActivityList</span>(data, context)
    <span class="hljs-comment">// ...</span>
  }
}

<span class="hljs-comment">// 4. ä¸šåŠ¡é€»è¾‘å‡½æ•° (Controllers)</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">createActivity</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">data</span>) =&gt; {
  <span class="hljs-comment">// å‚æ•°æ ¡éªŒ</span>
  <span class="hljs-comment">// æƒé™æ£€æŸ¥</span>
  <span class="hljs-comment">// æ•°æ®åº“æ“ä½œ</span>
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'æˆåŠŸ'</span> }
}
</code></pre>
<p>è¿™ç§æ¨¡å¼çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li><strong>å†·å¯åŠ¨ä¼˜åŒ–</strong>: å‡å°‘äº†äº‘å‡½æ•°çš„æ•°é‡ï¼Œå¤ç”¨å®¹å™¨çƒ­èº«ã€‚</li>
<li><strong>ä»£ç å¤ç”¨</strong>: å…±äº«æ•°æ®åº“è¿æ¥ã€å·¥å…·å‡½æ•°å’Œé‰´æƒé€»è¾‘ã€‚</li>
</ul>
<h3 data-id="heading-4">5.3 äº‘æ•°æ®åº“æ“ä½œå°è£…</h3>
<p>æˆ‘ä»¬ä½¿ç”¨äº† <code>@cloudbase/node-sdk</code> æä¾›çš„ <code>models</code> å¯¹è±¡ï¼ˆæˆ–è€…ç›´æ¥ä½¿ç”¨ <code>db</code> å¼•ç”¨ï¼‰ã€‚</p>
<h4 data-id="heading-5">å¸¸ç”¨æ“ä½œèŒƒå¼</h4>
<ol>
<li>
<p><strong>æŸ¥è¯¢ (List)</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: result } = <span class="hljs-keyword">await</span> models.<span class="hljs-property">activities</span>.<span class="hljs-title function_">list</span>({
  <span class="hljs-attr">filter</span>: {
    <span class="hljs-attr">where</span>: {
      <span class="hljs-attr">_id</span>: <span class="hljs-string">'act_123'</span>,
      <span class="hljs-attr">deleted</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// è®°å¾—è¿‡æ»¤è½¯åˆ é™¤</span>
    },
    <span class="hljs-attr">offset</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">limit</span>: <span class="hljs-number">20</span>
  }
})
</code></pre>
</li>
<li>
<p><strong>åˆ›å»º (Create)</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> models.<span class="hljs-property">activities</span>.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'...'</span>,
    <span class="hljs-attr">createdAt</span>: <span class="hljs-title function_">dayjs</span>().<span class="hljs-title function_">valueOf</span>() <span class="hljs-comment">// è®°å¾—æ‰“æ—¶é—´æˆ³</span>
  }
})
</code></pre>
</li>
<li>
<p><strong>åŸå­æ›´æ–° (Atomic Update)</strong>
åœ¨æŠ•ç¥¨åœºæ™¯ä¸‹ï¼Œä¸ºäº†é˜²æ­¢å¹¶å‘å†²çªï¼Œæˆ‘ä»¬ä½¿ç”¨æ•°æ®åº“åŸå­æ“ä½œç¬¦ï¼ˆå¦‚ <code>$inc</code>ï¼Œè™½ç„¶æœ¬é¡¹ç›®ç›®å‰çš„ update é€»è¾‘è¾ƒç®€å•ï¼Œä½†è¿™æ˜¯é«˜å¹¶å‘åœºæ™¯çš„æœ€ä½³å®è·µï¼‰ã€‚</p>
</li>
</ol>
<h3 data-id="heading-6">5.4 äº‘å­˜å‚¨ä¸ CDN åŠ é€Ÿ</h3>
<p>æ–‡ä»¶å­˜å‚¨ (<code>models.storage</code> æˆ–å‰ç«¯ <code>uniCloud.uploadFile</code>) ä¸»è¦ç”¨äºï¼š</p>
<ol>
<li><strong>æ´»åŠ¨å°é¢</strong>: å›¾ç‰‡ä¸Šä¼ åè·å¾— <code>cloud://...</code> æ ¼å¼çš„ FileIDã€‚</li>
<li><strong>æ”¯ä»˜å‡­è¯</strong>: ç”¨æˆ·ä¸Šä¼ çš„æˆªå›¾ã€‚</li>
</ol>
<p><strong>CDN åŠ é€Ÿ</strong>:
äº‘å­˜å‚¨çš„æ–‡ä»¶é»˜è®¤èµ° CDNã€‚åœ¨å°ç¨‹åºç«¯å±•ç¤ºå›¾ç‰‡æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>cloud://</code> è·¯å¾„ï¼Œå¾®ä¿¡åº•å±‚ä¼šè‡ªåŠ¨è½¬æ¢ä¸º HTTPS CDN é“¾æ¥ï¼ŒåŠ è½½é€Ÿåº¦é£å¿«ã€‚</p>
<h3 data-id="heading-7">5.5 æƒé™æ¨¡å‹è®¾è®¡</h3>
<p>æˆ‘ä»¬åœ¨ä»£ç å±‚é¢å®ç°äº†ä¸¥æ ¼çš„ RBAC (Role-Based Access Control)ã€‚</p>
<h4 data-id="heading-8">1. Token é‡Œçš„ç§˜å¯†</h4>
<p>JWT Token çš„ payload åŒ…å«ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"userId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"u_123"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"admin"</span> <span class="hljs-comment">// æ ¸å¿ƒæƒé™å­—æ®µ</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-9">2. è£…é¥°å™¨å¼çš„æƒé™æ£€æŸ¥</h4>
<p>åœ¨æ•æ„Ÿæ“ä½œï¼ˆå¦‚ <code>deleteActivity</code>ï¼‰å¼€å¤´ï¼Œæœ‰ä¸€è¡Œâ€œå®ˆé—¨å‘˜â€ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> permissionError = <span class="hljs-title function_">checkAdminPermission</span>(userRole)
<span class="hljs-keyword">if</span> (permissionError) <span class="hljs-keyword">return</span> permissionError
</code></pre>
<p>å¦‚æœ <code>userRole</code> ä¸æ˜¯ <code>admin</code> æˆ– <code>super_admin</code>ï¼Œç›´æ¥è¿”å› 403 é”™è¯¯ã€‚</p>
<h4 data-id="heading-10">3. æ•°æ®æ‰€æœ‰æƒæ£€æŸ¥</h4>
<p>å¯¹äºæ™®é€šç”¨æˆ·æ“ä½œï¼ˆå¦‚åˆ é™¤è‡ªå·±çš„æŠ¥åï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥ <code>userId</code> æ˜¯å¦åŒ¹é…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (record.<span class="hljs-property">userId</span> !== currentUserId) {
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">code</span>: <span class="hljs-number">403</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">'åªèƒ½æ“ä½œè‡ªå·±çš„æ•°æ®'</span> }
}
</code></pre>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
é€šè¿‡äº‘å‡½æ•°çš„â€œè·¯ç”±æ¨¡å¼â€å’Œâ€œé‰´æƒä¸­é—´ä»¶â€ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªå®‰å…¨ã€é«˜æ•ˆçš„åç«¯ã€‚ä¸éœ€è¦é…ç½® Nginxï¼Œä¸éœ€è¦å†™ Dockerfileï¼Œä¸€åˆ‡éƒ½åœ¨ä»£ç é‡Œã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†è¯¦ç»†è®²è§£ç”¨æˆ·è®¤è¯ç³»ç»Ÿâ€”â€”é‚£ä¸ª JWT Token æ˜¯æ€ä¹ˆç”Ÿæˆå’Œæµè½¬çš„ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ06-ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(07)]]></title>    <link>https://juejin.cn/post/7585021315691151370</link>    <guid>https://juejin.cn/post/7585021315691151370</guid>    <pubDate>2025-12-18T09:42:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691151370" data-draft-id="7585019819192713226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(07)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:42:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(07)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:42:22.000Z" title="Thu Dec 18 2025 09:42:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 7 ç« ï¼šæ´»åŠ¨ç®¡ç†æ¨¡å—</h2>
<blockquote>
<p>â€œå¦‚æœæŠŠç³»ç»Ÿæ¯”ä½œä¸€ä¸ªèˆå°ï¼Œé‚£ä¹ˆâ€˜æ´»åŠ¨â€™å°±æ˜¯èˆå°ä¸Šçš„ä¸»è§’ã€‚â€</p>
</blockquote>
<p>æœ¬ç« æˆ‘ä»¬å°†å®ç°ç³»ç»Ÿçš„æ ¸å¿ƒä¸šåŠ¡â€”â€”æ´»åŠ¨çš„åˆ›å»ºã€æŸ¥çœ‹ã€ç¼–è¾‘å’Œåˆ é™¤ï¼ˆCRUDï¼‰ã€‚è¿™ä¸ä»…æ˜¯æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥ï¼Œæ›´æ¶‰åŠåˆ°çŠ¶æ€æµè½¬å’Œå¤æ‚çš„é…ç½®ç®¡ç†ã€‚</p>
<h3 data-id="heading-1">7.1 æ´»åŠ¨ CRUD æ“ä½œ</h3>
<p>æ‰€æœ‰çš„é€»è¾‘éƒ½åœ¨ <code>server/activity/index.js</code> ä¸­å®ç°ã€‚</p>
<h4 data-id="heading-2">7.1.1 åˆ›å»ºæ´»åŠ¨ (Create)</h4>
<p>ç®¡ç†å‘˜å¡«å†™è¡¨å•åï¼Œæäº¤åˆ°åç«¯ã€‚
<strong>å…³é”®é€»è¾‘</strong>ï¼š</p>
<ul>
<li><strong>é»˜è®¤å€¼</strong>: å¦‚æœæœªæŒ‡å®šå°é¢ï¼Œä½¿ç”¨é»˜è®¤å›¾ï¼›å¦‚æœæœªæŒ‡å®šæ—¶é—´ï¼Œé»˜è®¤ä¸ºå½“å‰æ—¶é—´ã€‚</li>
<li><strong>åˆå§‹åŒ–é…ç½®</strong>: åˆ›å»ºæ—¶ä¼šç”Ÿæˆé»˜è®¤çš„ <code>registrationConfig</code> (æŠ¥åé…ç½®) å’Œ <code>voteConfig</code> (æŠ•ç¥¨é…ç½®) JSON ç»“æ„ï¼Œé¿å…åç»­è¯»å–æ—¶å‡ºç°ç©ºæŒ‡é’ˆã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é»˜è®¤çš„æŠ¥åé…ç½®</span>
<span class="hljs-keyword">const</span> defaultRegConfig = {
  <span class="hljs-attr">displayMode</span>: <span class="hljs-string">'page'</span>,
  <span class="hljs-attr">fields</span>: [] <span class="hljs-comment">// åˆå§‹ä¸ºç©ºï¼Œç”±åç»­å¯è§†åŒ–ç¼–è¾‘æ·»åŠ </span>
}
</code></pre>
<h4 data-id="heading-3">7.1.2 æŸ¥è¯¢åˆ—è¡¨ (Read)</h4>
<p>æ”¯æŒåˆ†é¡µã€å…³é”®è¯æœç´¢å’ŒçŠ¶æ€ç­›é€‰ã€‚
<strong>æ ¸å¿ƒæŸ¥è¯¢è¯­å¥</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> filter = {
  <span class="hljs-attr">where</span>: {
    <span class="hljs-attr">deleted</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å¿…é¡»è¿‡æ»¤è½¯åˆ é™¤æ•°æ®</span>
    <span class="hljs-attr">$or</span>: [
      <span class="hljs-comment">// æ¨¡ç³Šæœç´¢æ ‡é¢˜æˆ–æè¿°</span>
      { <span class="hljs-attr">title</span>: { <span class="hljs-attr">$search</span>: keyword } },
      { <span class="hljs-attr">description</span>: { <span class="hljs-attr">$search</span>: keyword } }
    ]
  },
  <span class="hljs-attr">orderBy</span>: [{ <span class="hljs-attr">field</span>: <span class="hljs-string">'createdAt'</span>, <span class="hljs-attr">direction</span>: <span class="hljs-string">'desc'</span> }] <span class="hljs-comment">// æœ€æ–°åˆ›å»ºçš„æ’å‰é¢</span>
}
</code></pre>
<h4 data-id="heading-4">7.1.3 æ›´æ–°æ´»åŠ¨ (Update)</h4>
<p>æ”¯æŒ<strong>å…¨é‡æ›´æ–°</strong>å’Œ<strong>éƒ¨åˆ†æ›´æ–°</strong>ã€‚</p>
<ul>
<li><strong>å…¨é‡æ›´æ–°</strong>: ä¿®æ”¹æ ‡é¢˜ã€æ—¶é—´ç­‰åŸºç¡€ä¿¡æ¯ã€‚</li>
<li><strong>éƒ¨åˆ†æ›´æ–°</strong>: ä¸“é—¨ç”¨äºæ›´æ–° <code>components</code> (é¡µé¢ç»„ä»¶)ã€<code>registrationConfig</code> ç­‰å¤§å­—æ®µã€‚å› ä¸ºè¿™äº›å­—æ®µé€šå¸¸ç”±ä¸åŒçš„ç¼–è¾‘å™¨é¡µé¢ç‹¬ç«‹ä¿å­˜ï¼Œé¿å…ç›¸äº’è¦†ç›–ã€‚</li>
</ul>
<h4 data-id="heading-5">7.1.4 åˆ é™¤æ´»åŠ¨ (Delete)</h4>
<p>è¿™é‡Œçš„åˆ é™¤æ˜¯<strong>é€»è¾‘åˆ é™¤ (Soft Delete)</strong>ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">await</span> models.<span class="hljs-property">activities</span>.<span class="hljs-title function_">update</span>({
  <span class="hljs-attr">filter</span>: { <span class="hljs-attr">_id</span>: activityId },
  <span class="hljs-attr">data</span>: { <span class="hljs-attr">deleted</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">deletedAt</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() }
})
</code></pre>
<h3 data-id="heading-6">7.2 æ´»åŠ¨çŠ¶æ€ç®¡ç†</h3>
<p>ä¸€ä¸ªæ´»åŠ¨æœ‰ä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼š</p>
<ol>
<li><strong>å·²ä¸‹æ¶ (Inactive)</strong>: <code>isActive: false</code>ã€‚åªæœ‰ç®¡ç†å‘˜å¯è§ï¼Œæ™®é€šç”¨æˆ·æ— æ³•è®¿é—®ã€‚</li>
<li><strong>æœªå¼€å§‹ (Not Started)</strong>: <code>isActive: true</code> ä¸” <code>now &lt; startTime</code>ã€‚ç”¨æˆ·å¯æµè§ˆè¯¦æƒ…ï¼Œä½†æ— æ³•æŠ¥å/æŠ•ç¥¨ã€‚</li>
<li><strong>è¿›è¡Œä¸­ (Active)</strong>: <code>isActive: true</code> ä¸” <code>startTime &lt;= now &lt;= endTime</code>ã€‚ç”¨æˆ·å¯æ­£å¸¸å‚ä¸ã€‚</li>
<li><strong>å·²ç»“æŸ (Ended)</strong>: <code>isActive: true</code> ä¸” <code>now &gt; endTime</code>ã€‚é¡µé¢å±•ç¤ºâ€œæ´»åŠ¨å·²ç»“æŸâ€ï¼Œç¦ç”¨æ“ä½œæŒ‰é’®ã€‚</li>
</ol>
<p>å‰ç«¯å±•ç¤ºé€»è¾‘ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> statusText = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!activity.<span class="hljs-property">isActive</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²ä¸‹æ¶'</span>
  <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
  <span class="hljs-keyword">if</span> (now &lt; activity.<span class="hljs-property">startTime</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'æœªå¼€å§‹'</span>
  <span class="hljs-keyword">if</span> (now &gt; activity.<span class="hljs-property">endTime</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'å·²ç»“æŸ'</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">'è¿›è¡Œä¸­'</span>
})
</code></pre>
<h3 data-id="heading-7">7.3 è½¯åˆ é™¤ä¸çº§è”åˆ é™¤</h3>
<p>å½“ç®¡ç†å‘˜ç‹ å¿ƒåˆ é™¤ä¸€ä¸ªæ´»åŠ¨æ—¶ï¼Œä»…ä»…æ ‡è®° <code>activities</code> è¡¨æ˜¯ä¸å¤Ÿçš„ã€‚ä¸ºäº†ä¿æŒæ•°æ®æ•´æ´ï¼Œæˆ‘ä»¬éœ€è¦<strong>çº§è”åˆ é™¤</strong>ç›¸å…³è”çš„æ•°æ®ã€‚</p>
<p>åœ¨ <code>deleteActivity</code> äº‘å‡½æ•°ä¸­ï¼š</p>
<ol>
<li>æ ‡è®°æ´»åŠ¨ä¸º <code>deleted: true</code>ã€‚</li>
<li><strong>çº§è”æ“ä½œ</strong>:
<ul>
<li>æŸ¥æ‰¾æ‰€æœ‰å…³è”çš„æŠ¥åè®°å½• (<code>registrations</code>)ï¼Œæ ‡è®°ä¸º <code>deleted: true</code>ã€‚</li>
<li>æŸ¥æ‰¾æ‰€æœ‰å…³è”çš„æŠ•ç¥¨è®°å½• (<code>votes</code>)ï¼Œæ ‡è®°ä¸º <code>deleted: true</code>ã€‚</li>
<li>æŸ¥æ‰¾æ‰€æœ‰å…³è”çš„å¼¹å¹• (<code>barrages</code>)ï¼Œæ ‡è®°ä¸º <code>deleted: true</code>ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p><strong>âš ï¸ è­¦å‘Š</strong>: çº§è”åˆ é™¤æ˜¯å±é™©æ“ä½œã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥æ¢å¤ï¼ˆæŠŠ deleted æ”¹å› falseï¼‰ï¼Œä½†åœ¨æ‰§è¡Œå‰æœ€å¥½åœ¨å‰ç«¯ç»™ç®¡ç†å‘˜ä¸€ä¸ªäºŒæ¬¡ç¡®è®¤å¼¹çª—ï¼šâ€œåˆ é™¤æ´»åŠ¨å°†åŒæ—¶åˆ é™¤æ‰€æœ‰æŠ¥åå’ŒæŠ•ç¥¨æ•°æ®ï¼Œç¡®å®šå—ï¼Ÿâ€</p>
</blockquote>
<h3 data-id="heading-8">7.4 æ´»åŠ¨åˆ—è¡¨ä¸è¯¦æƒ…é¡µå®ç°</h3>
<h4 data-id="heading-9">åˆ—è¡¨é¡µ (<code>pages/activity/list</code>)</h4>
<p>ä½¿ç”¨åŸç”Ÿ <code>scroll-view</code> å®ç°æ»šåŠ¨åŠ è½½ã€‚</p>
<ul>
<li><strong>åˆ†é¡µé€»è¾‘</strong>: ç›‘å¬ <code>onReachBottom</code> äº‹ä»¶ï¼Œç´¯åŠ  <code>page</code> å‚æ•°è¯·æ±‚ä¸‹ä¸€é¡µæ•°æ®ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>: åˆ—è¡¨é¡¹åªå±•ç¤ºå°é¢ã€æ ‡é¢˜ã€æ—¶é—´ï¼Œä¸åŠ è½½åºå¤§çš„ <code>components</code> å’Œ <code>config</code> å­—æ®µï¼Œå‡å°‘ç½‘ç»œä¼ è¾“ä½“ç§¯ã€‚</li>
</ul>
<h4 data-id="heading-10">è¯¦æƒ…é¡µ (<code>pages/activity/detail</code>)</h4>
<p>è¿™æ˜¯ç”¨æˆ·è®¿é—®æœ€é¢‘ç¹çš„é¡µé¢ã€‚</p>
<ol>
<li><strong>åŠ è½½çŠ¶æ€</strong>: ç®€å•çš„ <code>uni.showLoading</code> å’Œ <code>v-if="loading"</code> æ§åˆ¶ï¼Œæ•°æ®è¿”å›å‰å±•ç¤ºç©ºç™½æˆ– Loading å›¾æ ‡ã€‚</li>
<li><strong>åŠ¨æ€æ¸²æŸ“</strong>: æ ¸å¿ƒåŒºåŸŸä½¿ç”¨ <code>&lt;ActivityRenderer :components="activity.components" /&gt;</code> ç»„ä»¶ï¼Œå°†åå°é…ç½®çš„ JSON æ¸²æŸ“ä¸ºçœŸå®çš„ UIï¼ˆè¯¦è§ç¬¬ 12 ç« ï¼‰ã€‚</li>
<li><strong>åº•éƒ¨æ“ä½œæ </strong>: æ ¹æ®æ´»åŠ¨çŠ¶æ€ï¼ˆæŠ¥åä¸­/æŠ•ç¥¨ä¸­/å·²ç»“æŸï¼‰åŠ¨æ€æ˜¾ç¤ºâ€œç«‹å³æŠ¥åâ€æˆ–â€œå‚ä¸æŠ•ç¥¨â€æŒ‰é’®ã€‚</li>
</ol>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æ´»åŠ¨ç®¡ç†æ¨¡å—æ˜¯ç³»ç»Ÿçš„èº¯å¹²ã€‚æˆ‘ä»¬ä¸ä»…å®ç°äº†åŸºç¡€çš„å¢åˆ æ”¹æŸ¥ï¼Œè¿˜å¤„ç†äº†å¤æ‚çš„çº§è”é€»è¾‘å’ŒçŠ¶æ€æµè½¬ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†èšç„¦äºæœ€å®ç”¨çš„åŠŸèƒ½â€”â€”é‚£ä¸ªèƒ½è‡ªåŠ¨æ”¶é›†è¡¨å•ã€è¿˜èƒ½æ”¶é’±çš„<strong>æŠ¥åç³»ç»Ÿ</strong>ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ08-æŠ¥åç³»ç»Ÿè®¾è®¡ï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK | æ˜é‡‘ä¸€å‘¨ 12.18]]></title>    <link>https://juejin.cn/post/7585021315691200522</link>    <guid>https://juejin.cn/post/7585021315691200522</guid>    <pubDate>2025-12-18T09:46:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691200522" data-draft-id="7584831190730817562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK | æ˜é‡‘ä¸€å‘¨ 12.18"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-18T09:46:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘ä¸€å‘¨"/> <meta itemprop="url" content="https://juejin.cn/user/53218623894222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK | æ˜é‡‘ä¸€å‘¨ 12.18
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/53218623894222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘ä¸€å‘¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:46:52.000Z" title="Thu Dec 18 2025 09:46:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>æœ¬æ–‡å­—æ•°1100+ ï¼Œé˜…è¯»æ—¶é—´å¤§çº¦éœ€è¦ 4åˆ†é’Ÿã€‚</em></p>
<blockquote>
<p>ã€æ˜é‡‘ä¸€å‘¨ã€‘æœ¬æœŸäº®ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>
<p><a href="https://juejin.cn/post/7581437632855015464" target="_blank" title="https://juejin.cn/post/7581437632855015464">ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583612559443279923" target="_blank" title="https://juejin.cn/post/7583612559443279923">ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583469866007969827" target="_blank" title="https://juejin.cn/post/7583469866007969827">åŸºäºNacosçš„è½»é‡ä»»åŠ¡è°ƒåº¦æ–¹æ¡ˆ â€”â€” ä» XXL-Job çš„ç—›ç‚¹è¯´èµ·</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7581870491762671668" target="_blank" title="https://juejin.cn/post/7581870491762671668">ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7582755817671442442" target="_blank" title="https://juejin.cn/post/7582755817671442442">âœ¨TRAE SOLO + Holopix AI | å¤åˆ» GBA æ¸¸æˆ-"ğŸ›å£è¢‹å¦–æ€ª</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583577045578907674" target="_blank" title="https://juejin.cn/post/7583577045578907674">Flutter å®˜æ–¹æ­£å¼è§£å†³ WebView åœ¨ iOS 26 ä¸Šæœ‰ç‚¹å‡»é—®é¢˜</a></p>
</li>
</ul>
<blockquote>
<p><strong>ã€Œä¸Šæ¦œè§„åˆ™ã€</strong>ï¼šæ–‡ç« å‘å¸ƒæ—¶é—´åœ¨æœ¬æœŸã€Œæ˜é‡‘ä¸€å‘¨ã€å‘å¸ƒæ—¶é—´çš„å‰ä¸€å‘¨å†…ï¼›ä¸”ç¬¦åˆå„ä¸ªæ ç›®çš„å†…å®¹å®šä½å’Œè¦æ±‚ã€‚ å¦‚å‘ç°æ–‡ç« æœ‰æŠ„è¢­ã€æ´—ç¨¿ç­‰è¿åç¤¾åŒºè§„åˆ™çš„è¡Œä¸ºï¼Œå°†å–æ¶ˆå½“æœŸåŠåç»­ä¸Šæ¦œèµ„æ ¼ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€å‘¨â€œé‡‘â€é€‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73d5bf990a124e3a87cffb06443ad9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5LiA5ZGo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766656012&amp;x-signature=jrWr0lGZEiVgdbg26LxoaqNAPtQ%3D" alt="æ˜é‡‘ä¸€å‘¨ æ–‡ç« å¤´å›¾ 1303x734.jpg" loading="lazy"/></p>
<p><em>å†…å®¹è¯„å®¡ä»¬ä¼šåœ¨è¿‡å»çš„ä¸€å‘¨å†…å¯¹ç¤¾åŒºæ·±åº¦æŠ€æœ¯å¥½æ–‡è¿›è¡ŒæŒ–æ˜å’Œç­›é€‰ï¼Œä¼˜è´¨çš„æŠ€æœ¯æ–‡ç« æœ‰æœºä¼šå‡ºç°åœ¨ä¸‹æ–¹æ¦œå•ä¸­ï¼Œæ’åä¸åˆ†å…ˆåã€‚</em></p>
<h3 data-id="heading-1">å‰ç«¯</h3>
<p><a href="https://juejin.cn/post/7581437632855015464" target="_blank" title="https://juejin.cn/post/7581437632855015464">ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 2 ç¯‡ï¼šè®© AI æˆä¸ºä½ çš„å‰ç«¯æ¶æ„å¸ˆ - UniApp + Vue3 é¡¹ç›®åˆå§‹åŒ–</a><a href="https://juejin.cn/user/1117561754756488/posts" target="_blank" title="https://juejin.cn/user/1117561754756488/posts"> @HashTang</a></p>
<blockquote>
<p>æœ€ç»ˆç”Ÿæˆçš„ä»£ç ä¸ä»…é€»è¾‘æ¸…æ™°ï¼Œè¿˜å¤„ç†äº†å¾ˆå¤šç»†èŠ‚ï¼Œæ¯”å¦‚ iOS çš„æ ·å¼é€‚é…ã€‚è¿™å°±æ˜¯ AI è¾…åŠ©å¼€å‘çš„å¨åŠ›ï¼š<strong>å®ƒä¸ä»…èƒ½å†™å‡ºè·‘é€šçš„ä»£ç ï¼Œè¿˜èƒ½è€ƒè™‘åˆ°å¹³å°å·®å¼‚å’Œè¾¹ç•Œæƒ…å†µã€‚</strong></p>
</blockquote>
<p><a href="https://juejin.cn/post/7583612559443279923" target="_blank" title="https://juejin.cn/post/7583612559443279923">ã€ç”¨æˆ·è¡Œä¸ºç›‘æ§ã€‘åˆ«åªåšå·¥å…·äººäº†ï¼æ‰‹æŠŠæ‰‹å¸¦ä½ å†™ä¸€ä¸ªå‰ç«¯åŸ‹ç‚¹ç»Ÿè®¡ SDK</a> <a href="https://juejin.cn/user/3035079961218551/posts" target="_blank" title="https://juejin.cn/user/3035079961218551/posts">@ä¸ä¸€æ ·çš„å°‘å¹´_</a></p>
<blockquote>
<p>æƒ³çŸ¥é“é‚£äº›â€œé»‘ç§‘æŠ€â€æ˜¯å¦‚ä½•<strong>æ‹¦æˆªç‚¹å‡»</strong>ã€ç»Ÿè®¡Â <strong>PV</strong>ï¼ˆé¡µé¢æµè§ˆé‡ï¼‰ä¸Â <strong>UV</strong>ï¼ˆç‹¬ç«‹è®¿å®¢æ•°ï¼‰ã€ç²¾ç¡®è®¡ç®—<strong>é¡µé¢åœç•™æ—¶é•¿</strong>çš„å—ï¼Ÿæœ¬æ–‡å°†ä»åŸç†è§’åº¦åˆ‡å…¥ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ è®¾è®¡å¹¶å®ç°ä¸€ä¸ªè½»é‡çº§ã€åŠŸèƒ½å®Œå¤‡çš„ç”¨æˆ·è¡Œä¸ºç›‘æ§ SDK</p>
</blockquote>
<h3 data-id="heading-2">åç«¯</h3>
<p><a href="https://juejin.cn/post/7583469866007969827" target="_blank" title="https://juejin.cn/post/7583469866007969827">åŸºäºNacosçš„è½»é‡ä»»åŠ¡è°ƒåº¦æ–¹æ¡ˆ â€”â€” ä» XXL-Job çš„ç—›ç‚¹è¯´èµ·</a> <a href="https://juejin.cn/user/2834988091055719/posts" target="_blank" title="https://juejin.cn/user/2834988091055719/posts">@è¸æµªæ— ç—•</a></p>
<blockquote>
<p>JobFlow åªæ˜¯ä¸€ä¸ªæƒ³æ³•ï¼Œä¸€ä¸ªæŠ€æœ¯æ¢è®¨ã€‚å®ƒçš„æ ¸å¿ƒä¸æ˜¯æŠ€æœ¯ç»†èŠ‚ï¼Œè€Œæ˜¯ä¸€ä¸ªè®¾è®¡ç†å¿µï¼š<strong>ä¸­é—´ä»¶å³ä¸šåŠ¡</strong>ã€‚åœ¨äº‘åŸç”Ÿæ—¶ä»£ï¼Œè°ƒåº¦èƒ½åŠ›ä¸åº”è¯¥æ˜¯ä¸€ä¸ªç‹¬ç«‹éƒ¨ç½²ã€ç‹¬ç«‹è¿ç»´çš„"å¹³å°"ï¼Œè€Œåº”è¯¥æ˜¯<strong>å†…åµŒåœ¨å¾®æœåŠ¡ä½“ç³»ä¸­çš„èƒ½åŠ›æ¨¡å—</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-3">Android</h3>
<p><a href="https://juejin.cn/post/7581870491762671668" target="_blank" title="https://juejin.cn/post/7581870491762671668">ååˆ†é’Ÿé€Ÿè§ˆ Kotlin Flow æ“ä½œç¬¦</a> <a href="https://juejin.cn/user/1046390797768519/posts" target="_blank" title="https://juejin.cn/user/1046390797768519/posts">@RockByte</a></p>
<blockquote>
<p>ä½œä¸ºåŸºäºåç¨‹æ„å»ºçš„å“åº”å¼æµ APIï¼ŒKotlin <code>Flow</code> è®©ä½ å¯ä»¥ç”¨å£°æ˜å¼çš„æ–¹å¼ä¼˜é›…åœ°å¤„ç†å¼‚æ­¥æ•°æ®æµã€‚ä½†è¦æƒ³çœŸæ­£å‘æŒ¥å®ƒçš„å¼ºå¤§èƒ½åŠ›ï¼Œå…³é”®åœ¨äºç†Ÿç»ƒæŒæ¡å„ç§æ“ä½œç¬¦ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äººå·¥æ™ºèƒ½</h3>
<p><a href="https://juejin.cn/post/7582755817671442442" target="_blank" title="https://juejin.cn/post/7582755817671442442">âœ¨TRAE SOLO + Holopix AI | å¤åˆ» GBA æ¸¸æˆ-"ğŸ›å£è¢‹å¦–æ€ª</a> <a href="https://juejin.cn/user/4142615541321928/posts" target="_blank" title="https://juejin.cn/user/4142615541321928/posts">@coder_pig</a></p>
<blockquote>
<p>GBAçš„å›¾å½¢èŠ¯ç‰‡ (PPU) æ²¡æœ‰ "åŠ è½½å›¾ç‰‡" çš„æ¦‚å¿µï¼Œå®ƒåªèƒ½è¯»å–è¿ç»­çš„æ˜¾å­˜å—ã€‚å¼€å‘è€…æŠŠæ‰€æœ‰è§’è‰²åŠ¨ç”»å¸§æ‹¼æˆä¸€å¼ å›¾ï¼Œé€šè¿‡ä¿®æ”¹Â <strong>UVåæ ‡</strong>Â (è¯»å–ä½ç½®) æ¥åˆ‡æ¢å¸§ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7581765536372965385" target="_blank" title="https://juejin.cn/post/7581765536372965385">5å°æ—¶æ•´ç†60é¡µã€ŠGoogle AgentæŒ‡å—ã€‹ï¼Œä¸æ‡‚Agentçš„åŒ…æ•™åŒ…ä¼š</a> <a href="https://juejin.cn/user/1145012233707299/posts" target="_blank" title="https://juejin.cn/user/1145012233707299/posts">@å¤§æ¨¡å‹æ•™ç¨‹</a></p>
<blockquote>
<p>ç°é˜¶æ®µæ¥è¯´ï¼ŒToolsæ˜¯AgentçœŸæ­£çš„æ ¸å¿ƒï¼Œè€Œä¸”<strong>Toolsè°ƒç”¨ä¸å‡†ä¹Ÿæ˜¯Agentæ¶æ„æœ€å¤§çš„éš¾ç‚¹</strong>ï¼Œå½“å‰æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨<strong>SkillsæŠ€æœ¯ + å¼ºæ„å›¾</strong>ä¹Ÿæœ€å¤šæŠŠå‡†ç¡®ç‡åšåˆ°90%å·¦å³ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7581670270844174376" target="_blank" title="https://juejin.cn/post/7581670270844174376">æ•°æ®åº“AIæ–¹å‘æ¢ç´¢-MCPåŸç†è§£æ&amp;DBæ–¹å‘å®æˆ˜ï½œå¾—ç‰©æŠ€æœ¯</a> <a href="https://juejin.cn/user/2392954206960247/posts" target="_blank" title="https://juejin.cn/user/2392954206960247/posts">@å¾—ç‰©æŠ€æœ¯</a></p>
<blockquote>
<p>é€šè¿‡æ•´åˆå¤šæ¨¡æ€æ•°æ®ï¼ˆæ–‡æœ¬ä¸äºŒè¿›åˆ¶ï¼‰èµ„æºä½¿ AI æ¨¡å‹èƒ½è®¿é—®ç§æœ‰æˆ–ä¸“å±çŸ¥è¯†åº“ï¼ˆå¦‚ä¼ä¸šå†…éƒ¨æ–‡æ¡£ï¼‰ã€å®æ—¶å¤–éƒ¨ API åŠç³»ç»ŸåŠ¨æ€ä¿¡æ¯ï¼Œæœ‰æ•ˆçªç ´å•ä¸€å¤§æ¨¡å‹æ•°æ®å­¤å²›ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7582785032852226111" target="_blank" title="https://juejin.cn/post/7582785032852226111">AutoGLM å¼€æºå®æµ‹ï¼šä¸€å¥è¯è®© AI å¸®æˆ‘ç‚¹ä¸ªé¸¡æ’</a> <a href="https://juejin.cn/user/3825956195409223/posts" target="_blank" title="https://juejin.cn/user/3825956195409223/posts">@é£å“¥æ•°æ™ºè°ˆ</a></p>
<blockquote>
<p><code>Phone Agent</code> æ˜¯ä¸€ä¸ªåŸºäº <code>AutoGLM</code> æ„å»ºçš„æ‰‹æœºç«¯æ™ºèƒ½åŠ©ç†æ¡†æ¶ï¼Œå®ƒèƒ½å¤Ÿä»¥å¤šæ¨¡æ€æ–¹å¼ç†è§£æ‰‹æœºå±å¹•å†…å®¹ï¼Œå¹¶é€šè¿‡è‡ªåŠ¨åŒ–æ“ä½œå¸®åŠ©ç”¨æˆ·å®Œæˆä»»åŠ¡ã€‚</p>
</blockquote>
<h3 data-id="heading-5">IOS</h3>
<p><a href="https://juejin.cn/post/7583577045578907674" target="_blank" title="https://juejin.cn/post/7583577045578907674">Flutter å®˜æ–¹æ­£å¼è§£å†³ WebView åœ¨ iOS 26 ä¸Šæœ‰ç‚¹å‡»é—®é¢˜</a> <a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>æ–°æœºåˆ¶è®©å¼€å‘è€…å¯ä»¥åœ¨ Dart ä»£ç ä¸­ç›´æ¥æŒ‡å®š PlatformView çš„æ‰‹åŠ¿æ‹¦æˆªç­–ç•¥ï¼Œè€Œä¸æ˜¯ä¾èµ–å…¨å±€é…ç½®æˆ–åŸç”Ÿä»£ç ï¼Œæ ¹æ®ä¸åŒåœºæ™¯é…ç½®ä¸åŒçš„æ‹¦æˆªå¤„ç†æœºåˆ¶ï¼Œè€ŒÂ <code>touchBlockingOnly</code>Â å°±æ˜¯å…¨æ–°çš„æ”¯æŒã€‚</p>
</blockquote>
<h2 data-id="heading-6">ğŸ“– æŠ•ç¨¿ä¸“åŒº</h2>
<blockquote>
<p>å¤§å®¶å¯ä»¥åœ¨è¯„è®ºåŒºæ¨èè®¤ä¸ºä¸é”™çš„æ–‡ç« ï¼Œå¹¶é™„ä¸Šé“¾æ¥å’Œæ¨èç†ç”±ï¼Œæœ‰æœºä¼šå‘ˆç°åœ¨ä¸‹ä¸€æœŸã€‚æ–‡ç« åˆ›å»ºæ—¥æœŸå¿…é¡»åœ¨ä¸‹æœŸæ˜é‡‘ä¸€å‘¨å‘å¸ƒå‰ä¸€å‘¨ä»¥å†…ï¼›å¯ä»¥æ¨èè‡ªå·±çš„æ–‡ç« ã€ä¹Ÿå¯ä»¥æ¨èä»–äººçš„æ–‡ç« ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(08)]]></title>    <link>https://juejin.cn/post/7585005164726304806</link>    <guid>https://juejin.cn/post/7585005164726304806</guid>    <pubDate>2025-12-18T09:45:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585005164726304806" data-draft-id="7585023817459138586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(08)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:45:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(08)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:45:14.000Z" title="Thu Dec 18 2025 09:45:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 8 ç« ï¼šæŠ¥åç³»ç»Ÿè®¾è®¡</h2>
<blockquote>
<p>â€œå¡«è¡¨å•æ˜¯ä¸–ç•Œä¸Šæœ€æ¯ç‡¥çš„äº‹ï¼Œä½†æˆ‘ä»¬å¯ä»¥è®©å®ƒç¨å¾®å¥½ç©ä¸€ç‚¹ã€‚â€</p>
</blockquote>
<p>æŠ¥åç³»ç»Ÿæ˜¯è¿æ¥æ´»åŠ¨ä¸»åŠæ–¹å’Œå‚ä¸è€…çš„æ¡¥æ¢ã€‚æœ¬ç« æˆ‘ä»¬å°†å®ç°ä¸€ä¸ª<strong>é«˜åº¦å¯é…ç½®</strong>çš„æŠ¥åç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€è¡¨å•å’Œæ”¯ä»˜å‡­è¯å®¡æ ¸ã€‚</p>
<h3 data-id="heading-1">8.1 è‡ªå®šä¹‰è¡¨å•é…ç½®</h3>
<p>ä¸åŒçš„æ´»åŠ¨éœ€è¦æ”¶é›†çš„ä¿¡æ¯ä¸åŒã€‚èšé¤éœ€è¦ç»Ÿè®¡â€œæ˜¯å¦åƒè¾£â€ï¼Œè®²åº§éœ€è¦ç»Ÿè®¡â€œæ‰€åœ¨éƒ¨é—¨â€ã€‚æˆ‘ä»¬ä¸èƒ½æŠŠè¡¨å•å­—æ®µå†™æ­»åœ¨ä»£ç é‡Œã€‚</p>
<h4 data-id="heading-2">æ•°æ®ç»“æ„è®¾è®¡</h4>
<p>åœ¨ <code>activities</code> è¡¨çš„ <code>registrationConfig</code> å­—æ®µä¸­ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"fields"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"name"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å§“å"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"phone"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"number"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰‹æœºå·"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"diet"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"radio"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"label"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¥®é£Ÿåå¥½"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"options"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"æ­£å¸¸"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"å¾®è¾£"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"ç‰¹è¾£"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-3">å‰ç«¯æ¸²æŸ“ (<code>DynamicForm</code>)</h4>
<p>å‰ç«¯ç»„ä»¶éå† <code>fields</code> æ•°ç»„ï¼Œæ ¹æ® <code>type</code> åŠ¨æ€æ¸²æŸ“ç»„ä»¶ï¼š</p>
<ul>
<li><code>text</code> -&gt; <code>&lt;uni-easyinput&gt;</code></li>
<li><code>radio</code> -&gt; <code>&lt;uni-data-checkbox&gt;</code></li>
<li><code>image</code> -&gt; <code>&lt;uni-file-picker&gt;</code></li>
</ul>
<h3 data-id="heading-4">8.2 æŠ¥åæµç¨‹ä¸çŠ¶æ€æœº</h3>
<p>æŠ¥åä¸ä»…ä»…æ˜¯å¡«ä¸ªè¡¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œæ•´çš„<strong>ä¸šåŠ¡äº‹åŠ¡</strong>ã€‚</p>
<h4 data-id="heading-5">çŠ¶æ€æµè½¬å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    Start((å¼€å§‹)) --&gt; Pending[å¾…å®¡æ ¸]
    Pending --&gt;|ç®¡ç†å‘˜é€šè¿‡| Approved[æŠ¥åæˆåŠŸ]
    Pending --&gt;|ç®¡ç†å‘˜æ‹’ç»| Rejected[å·²æ‹’ç»]

    subgraph æ”¯ä»˜æµç¨‹
    Pending --&gt;|ä¸Šä¼ å‡­è¯| PaymentPending[æ”¯ä»˜ç¡®è®¤ä¸­]
    PaymentPending --&gt;|ç®¡ç†å‘˜ç¡®è®¤æ”¶æ¬¾| Approved
    PaymentPending --&gt;|ç®¡ç†å‘˜é©³å›| Pending
    end
</code></pre>
<h4 data-id="heading-6">å¹¶å‘æ§åˆ¶ (Race Condition)</h4>
<p>å½“æ´»åŠ¨é™åˆ¶åé¢ï¼ˆå¦‚ä»…é™ 50 äººï¼‰æ—¶ï¼Œå¦‚ä½•é˜²æ­¢ç¬¬ 51 ä¸ªäººæŠ¥åæˆåŠŸï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>: â€œå…ˆæŸ¥åå†™â€çš„ä¹è§‚æ£€æŸ¥ç­–ç•¥ã€‚
è™½ç„¶ MySQL æ”¯æŒå¼ºäº‹åŠ¡ï¼Œä½†ä¸ºäº†ç®€åŒ–äº‘å‡½æ•°é€»è¾‘ï¼Œæˆ‘ä»¬ç›®å‰æš‚æœªå¼€å¯ä¸¥æ ¼çš„æ•°æ®åº“äº‹åŠ¡é”ã€‚è€Œæ˜¯é‡‡ç”¨äº†åº”ç”¨å±‚çš„æ£€æŸ¥æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-js" lang="js">count = <span class="hljs-keyword">await</span> <span class="hljs-title function_">count</span>(registrations where activityId=xxx)
<span class="hljs-keyword">if</span> (count &gt;= limit) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"åé¢å·²æ»¡"</span>)
<span class="hljs-keyword">await</span> <span class="hljs-title function_">create</span>(registration)<span class="hljs-string">`
</span></code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>: è¿™ç§æ–¹å¼åœ¨æé«˜å¹¶å‘ä¸‹ï¼ˆå¦‚ 1ç§’å†…æ¶Œå…¥ 1000 äººï¼‰å¯èƒ½ä¼šå¯¼è‡´å°‘é‡è¶…å–ã€‚ä½†å¯¹äºç¤¾å›¢æ´»åŠ¨è¿™ç§é‡çº§ï¼Œè¿™å·²ç»è¶³å¤Ÿå®‰å…¨ä¸”é«˜æ•ˆäº†ã€‚å¦‚æœçœŸé‡åˆ°äº†â€œç§’æ€â€åœºæ™¯ï¼Œå†è€ƒè™‘å¼•å…¥ Redis é”æˆ–æ•°æ®åº“äº‹åŠ¡ä¹Ÿä¸è¿Ÿã€‚</p>
</blockquote>
<h3 data-id="heading-7">8.3 æ”¯ä»˜å‡­è¯ä¸Šä¼ ä¸å®¡æ ¸</h3>
<p>å¯¹äºç¤¾å›¢æ´»åŠ¨ï¼Œæ¥å…¥å¾®ä¿¡æ”¯ä»˜é—¨æ§›å¤ªé«˜ï¼ˆéœ€è¦ä¼ä¸šèµ„è´¨ï¼‰ã€‚æœ€æ¥åœ°æ°”çš„æ–¹å¼æ˜¯ï¼š<strong>ä¸Šä¼ è½¬è´¦æˆªå›¾</strong>ã€‚</p>
<h4 data-id="heading-8">æµç¨‹å®ç°</h4>
<ol>
<li><strong>ä¸»åŠæ–¹</strong>: åœ¨æ´»åŠ¨é…ç½®ä¸­ä¸Šä¼ è‡ªå·±çš„æ”¶æ¬¾äºŒç»´ç ï¼ˆå¾®ä¿¡/æ”¯ä»˜å®ï¼‰ã€‚</li>
<li><strong>å‚ä¸è€…</strong>:
<ul>
<li>ä¿å­˜äºŒç»´ç ï¼Œå»å¾®ä¿¡æ”¯ä»˜è½¬è´¦ã€‚</li>
<li>æˆªå›¾ä¿å­˜ã€‚</li>
<li>åœ¨æŠ¥åè¡¨å•ä¸­ç‚¹å‡»â€œä¸Šä¼ æ”¯ä»˜å‡­è¯â€ï¼Œé€‰æ‹©æˆªå›¾ã€‚</li>
<li>å‰ç«¯è°ƒç”¨ <code>uniCloud.uploadFile</code>ï¼Œè·å–å›¾ç‰‡ <code>FileID</code>ã€‚</li>
</ul>
</li>
<li><strong>æäº¤</strong>: <code>FileID</code> éšè¡¨å•æ•°æ®ä¸€åŒæäº¤åˆ° <code>createRegistration</code> äº‘å‡½æ•°ã€‚</li>
</ol>
<h3 data-id="heading-9">8.4 æŠ¥åç®¡ç†åå°</h3>
<p>ç®¡ç†å‘˜åœ¨æ‰‹æœºç«¯ç®¡ç†æŠ¥åè®°å½•ã€‚</p>
<h4 data-id="heading-10">æ‰«ç æ ¸é”€</h4>
<p>å¦‚ä½•å¿«é€ŸéªŒè¯å‚ä¸è€…èº«ä»½ï¼Ÿ</p>
<ol>
<li><strong>ç”Ÿæˆç </strong>: ç”¨æˆ·ç«¯æ ¹æ®æŠ¥åIDç”ŸæˆäºŒç»´ç  (<code>qrcode</code>).</li>
<li><strong>æ‰«ç </strong>: ç®¡ç†å‘˜ä½¿ç”¨å°ç¨‹åºè‡ªå¸¦çš„ <code>scanCode</code> æ¥å£æ‰«æã€‚</li>
<li><strong>æ ¸é”€</strong>: å‰ç«¯è§£æå‡ºæŠ¥åIDï¼Œè°ƒç”¨äº‘å‡½æ•° <code>verifyRegistration</code>ï¼Œå°†çŠ¶æ€æ”¹ä¸ºâ€œå·²ç­¾åˆ°â€ã€‚</li>
</ol>
<h4 data-id="heading-11">æ•°æ®å¯¼å‡º</h4>
<p>ç¤¾å›¢è”éœ€è¦ Excel è¡¨æ ¼å¤‡æ¡ˆï¼Ÿ
äº‘å‡½æ•°æ”¯æŒå°†æ•°æ®å¯¼å‡ºä¸º CSV/Excel æ–‡ä»¶ï¼Œç”Ÿæˆä¸‹è½½é“¾æ¥ï¼Œç®¡ç†å‘˜å¤åˆ¶é“¾æ¥å³å¯åœ¨ç”µè„‘ä¸Šä¸‹è½½ã€‚</p>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªçµæ´»çš„æŠ¥åç³»ç»Ÿï¼Œæ—¢æ»¡è¶³äº†å¤šæ ·åŒ–çš„æ•°æ®æ”¶é›†éœ€æ±‚ï¼Œåˆå·§å¦™è§„é¿äº†å¾®ä¿¡æ”¯ä»˜çš„èµ„è´¨é™åˆ¶ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†è®©æ´»åŠ¨â€œåŠ¨â€èµ·æ¥â€”â€”å®ç°<strong>æŠ•ç¥¨äº’åŠ¨ç³»ç»Ÿ</strong>ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ09-æŠ•ç¥¨äº’åŠ¨ç³»ç»Ÿï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ C# é«˜æ•ˆè§£æ PDF æ–‡æ¡£ï¼šæ–‡æœ¬ä¸è¡¨æ ¼æå–å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7584834746062848034</link>    <guid>https://juejin.cn/post/7584834746062848034</guid>    <pubDate>2025-12-18T09:45:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746062848034" data-draft-id="7584909732613586979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ C# é«˜æ•ˆè§£æ PDF æ–‡æ¡£ï¼šæ–‡æœ¬ä¸è¡¨æ ¼æå–å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,C#"/> <meta itemprop="datePublished" content="2025-12-18T09:45:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·835629078051"/> <meta itemprop="url" content="https://juejin.cn/user/3150554985403516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ C# é«˜æ•ˆè§£æ PDF æ–‡æ¡£ï¼šæ–‡æœ¬ä¸è¡¨æ ¼æå–å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3150554985403516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·835629078051
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:45:39.000Z" title="Thu Dec 18 2025 09:45:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32176d062a3b460ba06692f417eecc24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766655939&amp;x-signature=EM0pZSz1GSOEcPtEhc6%2Bcyx9bYo%3D" alt="C#è§£æPDFæ–‡æ¡£" loading="lazy"/></p>
<p>PDFï¼ˆPortable Document Formatï¼‰æ–‡æ¡£ä½œä¸ºä¸€ç§é€šç”¨ã€å®‰å…¨ä¸”è·¨å¹³å°çš„æ–‡æ¡£æ ¼å¼ï¼Œå·²æˆä¸ºç°ä»£ä¸šåŠ¡æµç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ä»ç”µå­å‘ç¥¨ã€åˆåŒåè®®åˆ°æŠ¥å‘Šæ‰‹å†Œï¼ŒPDFæ— å¤„ä¸åœ¨ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬éœ€è¦ä»å¤§é‡PDFæ–‡æ¡£ä¸­æå–ç‰¹å®šæ•°æ®ã€è¿›è¡Œå†…å®¹æ£€ç´¢æˆ–è‡ªåŠ¨åŒ–å¤„ç†æ—¶ï¼Œæ‰‹åŠ¨æ“ä½œçš„ä½æ•ˆæ€§ä¾¿æš´éœ²æ— é—ã€‚å¯¹äºC#å¼€å‘è€…è€Œè¨€ï¼Œå¦‚ä½•ç¨‹åºåŒ–åœ°ã€é«˜æ•ˆåœ°è§£æPDFæ–‡æ¡£ï¼Œæˆä¸ºäº†æå‡å·¥ä½œæ•ˆç‡å’Œå®ç°ä¸šåŠ¡è‡ªåŠ¨åŒ–çš„å…³é”®ã€‚</p>
<p>ä¼ ç»Ÿçš„PDFè§£æå¾€å¾€é¢ä¸´è¯¸å¤šæŒ‘æˆ˜ï¼šå¤æ‚çš„å†…éƒ¨ç»“æ„ã€å¤šå˜çš„å¸ƒå±€ã€æ–‡æœ¬ç¼–ç é—®é¢˜ï¼Œä»¥åŠå›¾åƒå’Œè¡¨æ ¼çš„è¯†åˆ«å›°éš¾ã€‚è¿™äº›éƒ½ä½¿å¾—ç›´æ¥ä»PDFäºŒè¿›åˆ¶æµä¸­æå–æœ‰ä»·å€¼ä¿¡æ¯å˜å¾—å¼‚å¸¸è‰°å·¨ã€‚å¹¸è¿çš„æ˜¯ï¼Œå€ŸåŠ©å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ï¼ŒC#å¼€å‘è€…å¯ä»¥ä¼˜é›…åœ°å…‹æœè¿™äº›éš¾é¢˜ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨C#ç»“åˆé«˜æ•ˆçš„PDFå¤„ç†åº“ï¼Œå®ç°PDFæ–‡æ¡£çš„è‡ªåŠ¨åŒ–è§£æï¼Œä»åŸºç¡€çš„ç¯å¢ƒé…ç½®åˆ°å¤æ‚çš„è¡¨æ ¼æ•°æ®æå–ï¼Œä¸ºæ‚¨æä¾›ä¸€å¥—å…¨é¢çš„å®è·µæŒ‡å—ã€‚</p>
<hr/>
<h2 data-id="heading-0">C# PDFè§£æå…¥é—¨ï¼šç¯å¢ƒé…ç½®ä¸æ ¸å¿ƒæ¦‚å¿µ</h2>
<p>åœ¨æ·±å…¥è§£æä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦äº†è§£PDFæ–‡æ¡£çš„åŸºæœ¬ç»„æˆï¼Œå¹¶æ­å»ºå¥½å¼€å‘ç¯å¢ƒã€‚PDFæ–‡æ¡£æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æè¿°æ–‡æ¡£å¤–è§‚çš„é¡µé¢æè¿°è¯­è¨€ï¼Œå®ƒç”±æ–‡æœ¬ã€å›¾åƒã€çŸ¢é‡å›¾å½¢ã€å­—ä½“ç­‰å…ƒç´ æ„æˆã€‚è¿™äº›å…ƒç´ æŒ‰ç…§ç‰¹å®šçš„å¸ƒå±€è§„åˆ™å‘ˆç°åœ¨é¡µé¢ä¸Šï¼Œä½¿å¾—PDFæ–‡æ¡£èƒ½å¤Ÿä¿æŒå…¶è·¨å¹³å°çš„ä¸€è‡´æ€§ã€‚</p>
<p>ä¸ºäº†åœ¨C#é¡¹ç›®ä¸­è¿›è¡ŒPDFè§£æï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå¹¿å—æ¬¢è¿çš„è§£å†³æ–¹æ¡ˆâ€”â€”Spire.PDF for .NETã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„APIï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è½»æ¾å®ç°PDFçš„åˆ›å»ºã€ç¼–è¾‘ã€è½¬æ¢å’Œè§£æã€‚</p>
<h3 data-id="heading-1">ç¯å¢ƒå‡†å¤‡ï¼šNuGetå®‰è£…</h3>
<p>åœ¨æ‚¨çš„Visual Studioé¡¹ç›®ä¸­ï¼Œé€šè¿‡NuGetåŒ…ç®¡ç†å™¨å®‰è£…è¯¥åº“ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell">Install-Package Spire.PDF
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥åœ¨C#ä»£ç ä¸­å¼•ç”¨ç›¸åº”çš„å‘½åç©ºé—´å¹¶å¼€å§‹å·¥ä½œäº†ã€‚</p>
<h3 data-id="heading-2">åŠ è½½PDFæ–‡æ¡£å¹¶è·å–åŸºæœ¬ä¿¡æ¯</h3>
<p>ä»¥ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•åŠ è½½ä¸€ä¸ªPDFæ–‡æ¡£å¹¶è·å–å…¶æ€»é¡µæ•°ï¼Œè¿™æ˜¯æ‰€æœ‰PDFè§£ææ“ä½œçš„èµ·ç‚¹ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> System;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-comment">// å‡è®¾æ‚¨çš„PDFæ–‡ä»¶ä½äºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„"Data"æ–‡ä»¶å¤¹ä¸­</span>
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/Sample.pdf"</span>; 

            <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªPdfDocumentå®ä¾‹</span>
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();

            <span class="hljs-keyword">try</span>
            {
                <span class="hljs-comment">// ä»æ–‡ä»¶åŠ è½½PDFæ–‡æ¡£</span>
                doc.LoadFromFile(pdfFilePath);

                <span class="hljs-comment">// è·å–å¹¶æ‰“å°PDFæ–‡æ¡£çš„æ€»é¡µæ•°</span>
                Console.WriteLine(<span class="hljs-string">$"PDFæ–‡æ¡£ '<span class="hljs-subst">{pdfFilePath}</span>' å·²æˆåŠŸåŠ è½½ã€‚"</span>);
                Console.WriteLine(<span class="hljs-string">$"æ€»é¡µæ•°: <span class="hljs-subst">{doc.Pages.Count}</span>"</span>);
            }
            <span class="hljs-keyword">catch</span> (Exception ex)
            {
                Console.WriteLine(<span class="hljs-string">$"åŠ è½½PDFæ–‡æ¡£æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
            }
            <span class="hljs-keyword">finally</span>
            {
                <span class="hljs-comment">// é‡Šæ”¾èµ„æº</span>
                doc.Close();
            }

            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>PdfDocument</code> ç±»æ˜¯æ“ä½œPDFæ–‡æ¡£çš„æ ¸å¿ƒã€‚</li>
<li><code>LoadFromFile()</code> æ–¹æ³•ç”¨äºä»æŒ‡å®šè·¯å¾„åŠ è½½PDFã€‚</li>
<li><code>doc.Pages.Count</code> å±æ€§å¯ä»¥è·å–æ–‡æ¡£çš„æ€»é¡µæ•°ã€‚</li>
<li><code>doc.Close()</code> ç”¨äºé‡Šæ”¾ç›¸å…³èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">ç²¾å‡†æå–ï¼šä»PDFä¸­è·å–æ–‡æœ¬ä¿¡æ¯</h2>
<p>æ–‡æœ¬å†…å®¹æå–æ˜¯PDFè§£æä¸­æœ€å¸¸è§çš„éœ€æ±‚ä¹‹ä¸€ã€‚æ— è®ºæ˜¯è¿›è¡Œä¿¡æ¯æ£€ç´¢ã€å†…å®¹åˆ†æè¿˜æ˜¯æ•°æ®è¿ç§»ï¼Œå‡†ç¡®åœ°è·å–PDFä¸­çš„æ–‡æœ¬è‡³å…³é‡è¦ã€‚ç„¶è€Œï¼ŒPDFçš„æ–‡æœ¬å¯èƒ½åˆ†å¸ƒåœ¨ä¸åŒçš„å±‚çº§ï¼Œæˆ–è€…å› ä¸ºå­—ä½“åµŒå…¥ã€ç¼–ç ç­‰é—®é¢˜å¯¼è‡´æå–å›°éš¾ã€‚è¯¥åº“æä¾›äº†çµæ´»çš„æ–‡æœ¬æå–åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-4">æå–PDFæ‰€æœ‰é¡µé¢çš„çº¯æ–‡æœ¬å†…å®¹</h3>
<p>æˆ‘ä»¬å¯ä»¥éå†PDFçš„æ¯ä¸€é¡µï¼Œç„¶åä»æ¯é¡µä¸­æå–æ‰€æœ‰æ–‡æœ¬ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Texts;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> System.Text;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/Sample.pdf"</span>;
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
            doc.LoadFromFile(pdfFilePath);

            StringBuilder allText = <span class="hljs-keyword">new</span> StringBuilder();

            <span class="hljs-comment">// éå†æ–‡æ¡£ä¸­çš„æ¯ä¸€é¡µ</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; doc.Pages.Count; i++)
            {
                PdfPageBase page = doc.Pages[i];

                <span class="hljs-comment">// åˆ›å»ºPdfTextExtractorå®ä¾‹</span>
                PdfTextExtractor extractor = <span class="hljs-keyword">new</span> PdfTextExtractor(page);
                
                <span class="hljs-comment">// è®¾ç½®æå–é€‰é¡¹ï¼Œä¾‹å¦‚æ˜¯å¦ä¿ç•™ç©ºæ ¼</span>
                PdfTextExtractOptions options = <span class="hljs-keyword">new</span> PdfTextExtractOptions();
                options.IsExtractAllText = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è®¾ç½®ä¸ºtrueå¯ä»¥æå–æ‰€æœ‰æ–‡æœ¬ï¼ŒåŒ…æ‹¬éšè—æ–‡æœ¬</span>

                <span class="hljs-comment">// æå–å½“å‰é¡µçš„æ–‡æœ¬å†…å®¹</span>
                <span class="hljs-built_in">string</span> pageText = extractor.ExtractText(options);
                allText.AppendLine(<span class="hljs-string">$"--- ç¬¬ <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span> é¡µæ–‡æœ¬å†…å®¹ ---"</span>);
                allText.AppendLine(pageText);
                allText.AppendLine();
            }

            <span class="hljs-comment">// å°†æ‰€æœ‰æ–‡æœ¬å†…å®¹å†™å…¥æ–‡ä»¶æˆ–æ‰“å°åˆ°æ§åˆ¶å°</span>
            File.WriteAllText(<span class="hljs-string">"ExtractedText.txt"</span>, allText.ToString());
            Console.WriteLine(<span class="hljs-string">"æ‰€æœ‰æ–‡æœ¬å†…å®¹å·²æå–å¹¶ä¿å­˜åˆ° ExtractedText.txt"</span>);

            doc.Close();
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>PdfTextExtractor</code> ç”¨äºä»ç‰¹å®šé¡µé¢æå–æ–‡æœ¬ã€‚</li>
<li><code>PdfTextExtractOptions</code> å¯ä»¥é…ç½®æå–è¡Œä¸ºï¼Œä¾‹å¦‚<code>IsExtractAllText</code>å¯ä»¥æ§åˆ¶æ˜¯å¦æå–æ‰€æœ‰æ–‡æœ¬ï¼ˆåŒ…æ‹¬å¯èƒ½è¢«é®æŒ¡çš„ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">æ ¹æ®æŒ‡å®šåæ ‡æˆ–çŸ©å½¢åŒºåŸŸæå–æ–‡æœ¬</h3>
<p>æœ‰æ—¶æˆ‘ä»¬åªéœ€è¦PDFé¡µé¢ä¸Šç‰¹å®šåŒºåŸŸçš„æ–‡æœ¬ï¼Œä¾‹å¦‚æŸä¸ªè¡¨å•å­—æ®µæˆ–æŠ¥å‘Šæ‘˜è¦ã€‚è¯¥åº“æä¾›äº†æŒ‰åŒºåŸŸæå–æ–‡æœ¬çš„èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Texts;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Drawing; <span class="hljs-comment">// å¼•å…¥System.Drawingå‘½åç©ºé—´å¤„ç†RectangleF</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/Sample.pdf"</span>;
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
            doc.LoadFromFile(pdfFilePath);

            <span class="hljs-comment">// è·å–ç¬¬ä¸€é¡µ</span>
            PdfPageBase page = doc.Pages[<span class="hljs-number">0</span>];

            <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªè¦æå–æ–‡æœ¬çš„çŸ©å½¢åŒºåŸŸ (x, y, width, height)</span>
            <span class="hljs-comment">// è¿™é‡Œçš„åæ ‡å’Œå°ºå¯¸å•ä½é€šå¸¸æ˜¯PDFç‚¹ï¼ˆ1/72è‹±å¯¸ï¼‰ï¼ŒåŸç‚¹åœ¨å·¦ä¸‹è§’æˆ–å·¦ä¸Šè§’ï¼Œå…·ä½“å–å†³äºPDFçš„è®¾ç½®ã€‚</span>
            <span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æƒ³ä»é¡µé¢å·¦ä¸Šè§’å¼€å§‹çš„æŸä¸ªåŒºåŸŸæå–æ–‡æœ¬</span>
            RectangleF rect = <span class="hljs-keyword">new</span> RectangleF(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>, <span class="hljs-number">300</span>, <span class="hljs-number">100</span>); 

            PdfTextExtractor extractor = <span class="hljs-keyword">new</span> PdfTextExtractor(page);
            <span class="hljs-built_in">string</span> regionText = extractor.ExtractText(rect);

            Console.WriteLine(<span class="hljs-string">$"--- ä»æŒ‡å®šåŒºåŸŸæå–çš„æ–‡æœ¬ ---"</span>);
            Console.WriteLine(<span class="hljs-string">$"åŒºåŸŸ (<span class="hljs-subst">{rect.X}</span>, <span class="hljs-subst">{rect.Y}</span>, <span class="hljs-subst">{rect.Width}</span>, <span class="hljs-subst">{rect.Height}</span>) çš„æ–‡æœ¬:"</span>);
            Console.WriteLine(regionText);

            doc.Close();
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>RectangleF</code> å®šä¹‰äº†é¡µé¢ä¸Šçš„ä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚</li>
<li><code>extractor.ExtractText(rect)</code> ä¼šåªæå–è¯¥çŸ©å½¢åŒºåŸŸå†…çš„æ–‡æœ¬ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">ç»“æ„åŒ–æ´å¯Ÿï¼šè¯†åˆ«å¹¶æå–PDFä¸­çš„è¡¨æ ¼æ•°æ®</h2>
<p>ä»PDFä¸­æå–è¡¨æ ¼æ•°æ®æ˜¯PDFè§£æä¸­ä¸€ä¸ªæ›´å…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡ã€‚PDFæ²¡æœ‰å†…ç½®çš„â€œè¡¨æ ¼â€å¯¹è±¡ï¼Œè¡¨æ ¼é€šå¸¸æ˜¯ç”±ä¸€ç³»åˆ—æ–‡æœ¬ã€çº¿æ¡å’ŒçŸ©å½¢ç»„åˆè€Œæˆï¼Œå…¶ç»“æ„å’Œå¸ƒå±€åƒå˜ä¸‡åŒ–ã€‚è¿™ä½¿å¾—è‡ªåŠ¨è¯†åˆ«è¡¨æ ¼è¾¹ç•Œã€è¡Œå’Œåˆ—å˜å¾—å¤æ‚ã€‚è¯¥åº“æä¾›äº†å…ˆè¿›çš„è¡¨æ ¼è¯†åˆ«ç®—æ³•ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°ä»å¤æ‚PDFä¸­æå–ç»“æ„åŒ–è¡¨æ ¼æ•°æ®ã€‚</p>
<h3 data-id="heading-7">è¯†åˆ«PDFä¸­çš„è¡¨æ ¼å¹¶è¾“å‡ºåˆ°æ§åˆ¶å°</h3>
<p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•è¯†åˆ«PDFé¡µé¢ä¸­çš„è¡¨æ ¼ï¼Œå¹¶å°†å…¶å†…å®¹æå–åˆ°<code>String</code>æ•°ç»„ä¸­ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Tables;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Text;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/TableSample.pdf"</span>; <span class="hljs-comment">// å‡è®¾æœ‰ä¸€ä¸ªåŒ…å«è¡¨æ ¼çš„PDFæ–‡ä»¶</span>
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
            doc.LoadFromFile(pdfFilePath);

            <span class="hljs-comment">// è·å–ç¬¬ä¸€é¡µ</span>
            PdfPageBase page = doc.Pages[<span class="hljs-number">0</span>];

            <span class="hljs-comment">// åˆ›å»ºPdfTableExtractorå®ä¾‹</span>
            PdfTableExtractor extractor = <span class="hljs-keyword">new</span> PdfTableExtractor(page);

            <span class="hljs-comment">// è¯†åˆ«å¹¶æå–æ‰€æœ‰è¡¨æ ¼</span>
            PdfTable[] tables = extractor.ExtractTable(<span class="hljs-literal">true</span>); <span class="hljs-comment">// trueè¡¨ç¤ºå°è¯•è¯†åˆ«æ‰€æœ‰è¡¨æ ¼</span>

            <span class="hljs-keyword">if</span> (tables != <span class="hljs-literal">null</span> &amp;&amp; tables.Length &gt; <span class="hljs-number">0</span>)
            {
                Console.WriteLine(<span class="hljs-string">$"åœ¨é¡µé¢ <span class="hljs-subst">{<span class="hljs-number">1</span>}</span> ä¸­æ‰¾åˆ° <span class="hljs-subst">{tables.Length}</span> ä¸ªè¡¨æ ¼ã€‚"</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; tables.Length; i++)
                {
                    PdfTable table = tables[i];
                    Console.WriteLine(<span class="hljs-string">$"--- è¡¨æ ¼ <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span> å†…å®¹ ---"</span>);

                    <span class="hljs-comment">// éå†è¡¨æ ¼çš„è¡Œå’Œåˆ—</span>
                    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> r = <span class="hljs-number">0</span>; r &lt; table.RowCount; r++)
                    {
                        StringBuilder rowData = <span class="hljs-keyword">new</span> StringBuilder();
                        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> c = <span class="hljs-number">0</span>; c &lt; table.ColumnCount; c++)
                        {
                            <span class="hljs-comment">// è·å–å•å…ƒæ ¼å†…å®¹</span>
                            <span class="hljs-built_in">string</span> cellText = table.GetText(r, c);
                            rowData.Append(<span class="hljs-string">$"<span class="hljs-subst">{cellText,<span class="hljs-number">-20</span>}</span>"</span>); <span class="hljs-comment">// æ ¼å¼åŒ–è¾“å‡ºï¼Œç¡®ä¿å¯¹é½</span>
                        }
                        Console.WriteLine(rowData.ToString());
                    }
                    Console.WriteLine();
                }
            }
            <span class="hljs-keyword">else</span>
            {
                Console.WriteLine(<span class="hljs-string">"æœªåœ¨é¡µé¢ä¸­æ‰¾åˆ°è¡¨æ ¼ã€‚"</span>);
            }

            doc.Close();
            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li><code>PdfTableExtractor</code> æ˜¯ä¸“é—¨ç”¨äºè¡¨æ ¼è¯†åˆ«å’Œæå–çš„ç±»ã€‚</li>
<li><code>ExtractTable(true)</code> æ–¹æ³•ä¼šå°è¯•è¯†åˆ«é¡µé¢ä¸­çš„æ‰€æœ‰è¡¨æ ¼å¹¶è¿”å›ä¸€ä¸ª<code>PdfTable</code>æ•°ç»„ã€‚</li>
<li><code>PdfTable</code> å¯¹è±¡æä¾›äº†<code>RowCount</code>ã€<code>ColumnCount</code>ä»¥åŠ<code>GetText(row, column)</code>æ–¹æ³•æ¥è®¿é—®è¡¨æ ¼çš„ç»“æ„åŒ–æ•°æ®ã€‚</li>
</ul>
<p><strong>è¡¨æ ¼åº”ç”¨ç¤ºä¾‹è¾“å‡º:</strong>
å‡è®¾<code>TableSample.pdf</code>ä¸­æœ‰ä¸€ä¸ªç®€å•çš„è¡¨æ ¼ï¼š</p>




















<table><thead><tr><th align="left">Header 1</th><th align="left">Header 2</th><th align="left">Header 3</th></tr></thead><tbody><tr><td align="left">Data A1</td><td align="left">Data B1</td><td align="left">Data C1</td></tr><tr><td align="left">Data A2</td><td align="left">Data B2</td><td align="left">Data C2</td></tr></tbody></table>
<p>ä¸Šè¿°ä»£ç çš„è¾“å‡ºå¯èƒ½å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">åœ¨é¡µé¢ <span class="hljs-number">1</span> ä¸­æ‰¾åˆ° <span class="hljs-number">1</span> ä¸ªè¡¨æ ¼ã€‚
--- è¡¨æ ¼ <span class="hljs-number">1</span> å†…å®¹ ---
<span class="hljs-selector-tag">Header</span> <span class="hljs-number">1</span>            <span class="hljs-selector-tag">Header</span> <span class="hljs-number">2</span>            <span class="hljs-selector-tag">Header</span> <span class="hljs-number">3</span>            
Data A1             Data B1             Data C1             
Data A2             Data B2             Data C2             
</code></pre>
<hr/>
<h2 data-id="heading-8">æå‡æ•ˆç‡ï¼šC# PDFè§£æçš„é«˜çº§æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h2>
<p>é™¤äº†åŸºæœ¬çš„æ–‡æœ¬å’Œè¡¨æ ¼æå–ï¼ŒPDFè§£æè¿˜æœ‰è®¸å¤šé«˜çº§åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚å›¾åƒæå–ã€è¡¨å•åŸŸæ“ä½œã€æ–‡æ¡£åˆå¹¶ä¸åˆ†å‰²ç­‰ã€‚è™½ç„¶æœ¬æ–‡ä¸æ·±å…¥å±•å¼€æ‰€æœ‰é«˜çº§åŠŸèƒ½ï¼Œä½†ä»¥ä¸‹æ˜¯ä¸€äº›é€šç”¨çš„é«˜çº§æŠ€å·§å’Œæœ€ä½³å®è·µï¼Œå¯ä»¥å¸®åŠ©æ‚¨åœ¨å®é™…é¡¹ç›®ä¸­æ›´é«˜æ•ˆã€æ›´ç¨³å®šåœ°å¤„ç†PDFã€‚</p>
<ul>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–ä¸å†…å­˜ç®¡ç†:</strong> å¤„ç†å¤§å‹PDFæ–‡æ¡£æ—¶ï¼Œæ€§èƒ½å’Œå†…å­˜æ˜¯å…³é”®ã€‚</p>
<ul>
<li><strong>æŒ‰éœ€åŠ è½½:</strong> å¦‚æœåªå¤„ç†PDFçš„æŸå‡ é¡µï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªæ–‡æ¡£ã€‚</li>
<li><strong>åŠæ—¶é‡Šæ”¾èµ„æº:</strong> ç¡®ä¿åœ¨å®ŒæˆPDFæ“ä½œåè°ƒç”¨<code>doc.Close()</code>æˆ–ä½¿ç”¨<code>using</code>è¯­å¥ï¼Œä»¥é‡Šæ”¾æ–‡ä»¶å¥æŸ„å’Œå†…å­˜èµ„æºã€‚</li>
<li><strong>å¤šçº¿ç¨‹å¤„ç†:</strong> å¯¹äºæ‰¹é‡å¤„ç†å¤§é‡PDFæ–‡ä»¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¹¶è¡Œå¤„ç†æ¥åŠ é€Ÿã€‚</li>
</ul>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†ä¸é²æ£’æ€§è®¾è®¡:</strong> å®é™…çš„PDFæ–‡æ¡£å¯èƒ½å­˜åœ¨æŸåã€åŠ å¯†æˆ–æ ¼å¼ä¸è§„èŒƒçš„æƒ…å†µï¼Œå¯¼è‡´è§£æå¤±è´¥ã€‚</p>
<ul>
<li><strong>å¼‚å¸¸æ•è·:</strong> ä½¿ç”¨<code>try-catch</code>å—æ•è·åŠ è½½æˆ–è§£æè¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œä¾‹å¦‚<code>PdfException</code>ã€‚</li>
<li><strong>æ—¥å¿—è®°å½•:</strong> è¯¦ç»†è®°å½•é”™è¯¯ä¿¡æ¯ï¼Œæœ‰åŠ©äºæ’æŸ¥é—®é¢˜ã€‚</li>
<li><strong>æ ¡éªŒæœºåˆ¶:</strong> åœ¨å¤„ç†å‰å¯¹PDFæ–‡ä»¶è¿›è¡ŒåŸºæœ¬çš„æœ‰æ•ˆæ€§æ£€æŸ¥ã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;

<span class="hljs-keyword">namespace</span> <span class="hljs-title">PdfParserTutorial</span>
{
    <span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
    {
        <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
        {
            <span class="hljs-built_in">string</span> pdfFilePath = <span class="hljs-string">"Data/CorruptedSample.pdf"</span>; <span class="hljs-comment">// å‡è®¾è¿™æ˜¯ä¸€ä¸ªæŸåæˆ–ä¸å­˜åœ¨çš„PDF</span>
            PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();

            <span class="hljs-keyword">try</span>
            {
                doc.LoadFromFile(pdfFilePath);
                Console.WriteLine(<span class="hljs-string">$"PDFæ–‡æ¡£ '<span class="hljs-subst">{pdfFilePath}</span>' å·²æˆåŠŸåŠ è½½ã€‚æ€»é¡µæ•°: <span class="hljs-subst">{doc.Pages.Count}</span>"</span>);
            }
            <span class="hljs-keyword">catch</span> (FileNotFoundException)
            {
                Console.WriteLine(<span class="hljs-string">$"é”™è¯¯: PDFæ–‡ä»¶ '<span class="hljs-subst">{pdfFilePath}</span>' æœªæ‰¾åˆ°ã€‚è¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„ã€‚"</span>);
            }
            <span class="hljs-keyword">catch</span> (PdfException ex)
            {
                Console.WriteLine(<span class="hljs-string">$"PDFè§£æé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
                <span class="hljs-comment">// è®°å½•æ›´è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯åˆ°æ—¥å¿—</span>
                <span class="hljs-comment">// Logger.LogError($"PDFè§£æå¤±è´¥: {ex.Message}", ex);</span>
            }
            <span class="hljs-keyword">catch</span> (Exception ex)
            {
                Console.WriteLine(<span class="hljs-string">$"å‘ç”ŸæœªçŸ¥é”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
            }
            <span class="hljs-keyword">finally</span>
            {
                doc.Close(); <span class="hljs-comment">// ç¡®ä¿å³ä½¿å‘ç”Ÿé”™è¯¯ä¹Ÿå°è¯•å…³é—­æ–‡æ¡£</span>
            }

            Console.ReadKey();
        }
    }
}
</code></pre>
<p><strong>ä»£ç è¯´æ˜:</strong></p>
<ul>
<li>é€šè¿‡æ•è·ç‰¹å®šçš„å¼‚å¸¸ç±»å‹ï¼ˆå¦‚<code>FileNotFoundException</code>, <code>PdfException</code>ï¼‰ï¼Œå¯ä»¥å¯¹ä¸åŒç±»å‹çš„é”™è¯¯è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„å¤„ç†ã€‚</li>
<li>åœ¨<code>finally</code>å—ä¸­å…³é—­æ–‡æ¡£æ˜¯è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œç¡®ä¿èµ„æºæ€»æ˜¯è¢«é‡Šæ”¾ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">æ€»ç»“ä¸å±•æœ›</h2>
<p>æœ¬æ–‡æ·±å…¥æ¢è®¨äº†å¦‚ä½•åˆ©ç”¨C#ç»“åˆSpire.PDF for .NETåº“ï¼Œé«˜æ•ˆä¸”å‡†ç¡®åœ°è§£æPDFæ–‡æ¡£ã€‚ä»ç¯å¢ƒé…ç½®ã€æ–‡æœ¬æå–åˆ°å¤æ‚çš„è¡¨æ ¼æ•°æ®è¯†åˆ«ï¼Œæˆ‘ä»¬æä¾›äº†è¯¦ç»†çš„æ­¥éª¤å’Œå¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹ï¼Œæ—¨åœ¨å¸®åŠ©C#å¼€å‘è€…è§£å†³åœ¨å®é™…é¡¹ç›®ä¸­é‡åˆ°çš„PDFå¤„ç†ç—›ç‚¹ã€‚</p>
<p>é€šè¿‡ç¨‹åºåŒ–è§£æPDFï¼Œæ‚¨å¯ä»¥å°†ç¹ççš„æ‰‹åŠ¨æ•°æ®å½•å…¥å’Œå†…å®¹æ£€ç´¢ä»»åŠ¡è‡ªåŠ¨åŒ–ï¼Œæå¤§åœ°æå‡å·¥ä½œæ•ˆç‡ï¼Œå¹¶ä¸ºæ„å»ºæ™ºèƒ½æ–‡æ¡£å¤„ç†ç³»ç»Ÿå¥ å®šåŸºç¡€ã€‚æ— è®ºæ˜¯è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆã€æ•°æ®æŠ½å–ã€ä¿¡æ¯æ ¸å¯¹ï¼Œè¿˜æ˜¯å…¶ä»–ä»»ä½•éœ€è¦ä»PDFä¸­è·å–ä¿¡æ¯çš„åœºæ™¯ï¼ŒC#é…åˆå¼ºå¤§çš„PDFå¤„ç†å·¥å…·éƒ½èƒ½ä¸ºæ‚¨æä¾›åšå®çš„æŠ€æœ¯æ”¯æ’‘ã€‚</p>
<p>PDFè§£ææŠ€æœ¯ä»åœ¨ä¸æ–­å‘å±•ï¼Œæœªæ¥å¯èƒ½ä¼šæœ‰æ›´æ™ºèƒ½çš„AIé©±åŠ¨çš„å¸ƒå±€åˆ†æå’Œè¯­ä¹‰ç†è§£èƒ½åŠ›ã€‚ä½†æŒæ¡å¥½å½“å‰ä¸»æµçš„è§£æå·¥å…·å’Œæ–¹æ³•ï¼Œæ˜¯æ‹¥æŠ±è¿™äº›æœªæ¥è¶‹åŠ¿çš„å…³é”®ç¬¬ä¸€æ­¥ã€‚æˆ‘ä»¬é¼“åŠ±æ‚¨å°†æ‰€å­¦çŸ¥è¯†åº”ç”¨äºå®é™…é¡¹ç›®ï¼Œæ¢ç´¢æ›´å¤šPDFè‡ªåŠ¨åŒ–çš„å¯èƒ½æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Windows MySQL 8.4 é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†]]></title>    <link>https://juejin.cn/post/7585019819192778762</link>    <guid>https://juejin.cn/post/7585019819192778762</guid>    <pubDate>2025-12-18T09:47:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585019819192778762" data-draft-id="7585021315691053066" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Windows MySQL 8.4 é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-18T09:47:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Windows MySQL 8.4 é…ç½®æŒ‡å—ã€ç”¨æˆ·åˆ›å»ºã€æƒé™ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:47:24.000Z" title="Thu Dec 18 2025 09:47:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Windows MySQL 8.4 é…ç½®å®Œæ•´æŒ‡å—</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ul>
<li><a href="#%E4%B8%80%E5%88%9B%E5%BB%BA%E4%B8%8D%E9%99%90-ip-%E8%AE%BF%E9%97%AE%E7%9A%84%E8%B4%A6%E5%8F%B7" title="#%E4%B8%80%E5%88%9B%E5%BB%BA%E4%B8%8D%E9%99%90-ip-%E8%AE%BF%E9%97%AE%E7%9A%84%E8%B4%A6%E5%8F%B7">ä¸€ã€åˆ›å»ºä¸é™ IP è®¿é—®çš„è´¦å·</a></li>
<li><a href="#%E4%BA%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E4%B8%8E%E5%88%9B%E5%BB%BA" title="#%E4%BA%8C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E4%B8%8E%E5%88%9B%E5%BB%BA">äºŒã€é…ç½®æ–‡ä»¶ä½ç½®ä¸åˆ›å»º</a></li>
<li><a href="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3" title="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3">ä¸‰ã€é…ç½®æ–‡ä»¶å†…å®¹è¯¦è§£</a></li>
<li><a href="#%E5%9B%9B%E9%AA%8C%E8%AF%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E7%94%9F%E6%95%88" title="#%E5%9B%9B%E9%AA%8C%E8%AF%81%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E7%94%9F%E6%95%88">å››ã€éªŒè¯é…ç½®æ–‡ä»¶æ˜¯å¦ç”Ÿæ•ˆ</a></li>
<li><a href="#%E4%BA%94%E5%85%B3%E9%94%AE%E9%85%8D%E7%BD%AE%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3" title="#%E4%BA%94%E5%85%B3%E9%94%AE%E9%85%8D%E7%BD%AE%E5%AD%97%E6%AE%B5%E8%AF%A6%E8%A7%A3">äº”ã€å…³é”®é…ç½®å­—æ®µè¯¦è§£</a></li>
<li><a href="#%E5%85%AD%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95" title="#%E5%85%AD%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%E6%A3%80%E6%9F%A5%E6%B8%85%E5%8D%95">å…­ã€è¿œç¨‹è¿æ¥æ£€æŸ¥æ¸…å•</a></li>
<li><a href="#%E4%B8%83%E6%89%A9%E5%B1%95%E5%86%85%E5%AE%B9" title="#%E4%B8%83%E6%89%A9%E5%B1%95%E5%86%85%E5%AE%B9">ä¸ƒã€æ‰©å±•å†…å®¹</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">ä¸€ã€åˆ›å»ºä¸é™ IP è®¿é—®çš„è´¦å·</h3>
<h4 data-id="heading-3">1.1 æ ¸å¿ƒæ¦‚å¿µ</h4>
<p><strong>ä¸é™åˆ¶ IP = ä½¿ç”¨ <code>'%'</code> ä½œä¸º host</strong></p>
<p>åœ¨ MySQL ä¸­ï¼Œ<code>'%'</code> è¡¨ç¤ºå…è®¸æ¥è‡ªä»»ä½• IP åœ°å€çš„è¿æ¥ã€‚</p>
<h4 data-id="heading-4">1.2 æ“ä½œæ­¥éª¤</h4>
<h5 data-id="heading-5">æ­¥éª¤ 1ï¼šç™»å½• MySQLï¼ˆä½¿ç”¨ root è´¦å·ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash">mysql -u root -p
</code></pre>
<h5 data-id="heading-6">æ­¥éª¤ 2ï¼šåˆ›å»ºç”¨æˆ·ï¼ˆå…è®¸ä»»æ„ IP è¿æ¥ï¼‰</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'123123'</span>;
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>'dzm'</code>ï¼šç”¨æˆ·å</li>
<li><code>'%'</code>ï¼šhostï¼Œè¡¨ç¤ºå…è®¸ä»»ä½• IP åœ°å€è¿æ¥</li>
<li><code>'123123'</code>ï¼šç”¨æˆ·å¯†ç </li>
</ul>
<h5 data-id="heading-7">æ­¥éª¤ 3ï¼šæˆæƒ</h5>
<p><strong>å¼€å‘é˜¶æ®µå¸¸ç”¨ï¼ˆå…¨éƒ¨æ•°æ®åº“æƒé™ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;
</code></pre>
<p><strong>ç”Ÿäº§ç¯å¢ƒæ¨èï¼ˆä»…æŸä¸ªæ•°æ®åº“æƒé™ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> test_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span>;
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>ALL PRIVILEGES</code>ï¼šæ‰€æœ‰æƒé™</li>
<li><code>*.*</code>ï¼šæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li><code>test_db.*</code>ï¼šä»… test_db æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li><code>WITH GRANT OPTION</code>ï¼šå…è®¸è¯¥ç”¨æˆ·æˆæƒç»™å…¶ä»–ç”¨æˆ·ï¼ˆå¼€å‘é˜¶æ®µå¸¸ç”¨ï¼Œç”Ÿäº§ç¯å¢ƒæ…ç”¨ï¼‰</li>
</ul>
<h5 data-id="heading-8">æ­¥éª¤ 4ï¼šåˆ·æ–°æƒé™</h5>
<pre><code class="hljs language-sql" lang="sql">FLUSH PRIVILEGES;
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šMySQL 8.x ä¸­æ­¤å‘½ä»¤å®é™…å¯çœç•¥ï¼Œä½†å»ºè®®æ‰§è¡Œä»¥ç¡®ä¿æƒé™ç«‹å³ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h5 data-id="heading-9">æ­¥éª¤ 5ï¼šéªŒè¯ç”¨æˆ·æ˜¯å¦åˆ›å»ºæˆåŠŸ</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> <span class="hljs-string">'dzm'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">|</span> host <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> dzm  <span class="hljs-operator">|</span> <span class="hljs-operator">%</span>    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
</code></pre>
<p>çœ‹åˆ° <code>host</code> ä¸º <code>%</code> å³è¡¨ç¤ºä¸é™åˆ¶ IPã€‚</p>
<hr/>
<h3 data-id="heading-10">äºŒã€é…ç½®æ–‡ä»¶ä½ç½®ä¸åˆ›å»º</h3>
<h4 data-id="heading-11">2.1 æŸ¥æ‰¾ MySQL é…ç½®æ–‡ä»¶ä½ç½®</h4>
<h5 data-id="heading-12">æ–¹æ³• 1ï¼šæŸ¥è¯¢ MySQL å˜é‡ï¼ˆæ¨èï¼‰</h5>
<p>ç™»å½• MySQL åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'basedir'</span>;
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'datadir'</span>;
</code></pre>
<p><strong>ç¤ºä¾‹è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">basedir</span> = C:\Program Files\MySQL\MySQL Server <span class="hljs-number">8.4</span>\
<span class="hljs-attr">datadir</span> = C:\Program Files\MySQL\MySQL Server <span class="hljs-number">8.4</span>\data\
</code></pre>
<h5 data-id="heading-13">æ–¹æ³• 2ï¼šæŸ¥çœ‹é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºï¼ˆæœ€å‡†ç¡®ï¼‰</h5>
<p>åœ¨<strong>ç®¡ç†å‘˜ CMD</strong> ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr my.ini
</code></pre>
<p><strong>å®é™…æµ‹è¯•ç»“æœï¼ˆåŸºäº winget / å®˜æ–¹ MSI é»˜è®¤å®‰è£…ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">C:\WINDOWS\my.ini</span>
<span class="hljs-section">C:\WINDOWS\my.cnf</span>
<span class="hljs-section">C:\my.ini</span>
<span class="hljs-section">C:\my.cnf</span>
<span class="hljs-section">C:\Program Files\MySQL\MySQL Server 8.4\my.ini</span>
<span class="hljs-section">C:\Program Files\MySQL\MySQL Server 8.4\my.cnf</span>
</code></pre>
<blockquote>
<p><strong>é‡è¦</strong>ï¼šæ­¤æŸ¥æ‰¾é¡ºåº<strong>ä¸åŒ…å«</strong> <code>C:\ProgramData\MySQL\MySQL Server 8.4\my.ini</code></p>
</blockquote>
<h4 data-id="heading-14">2.2 æ­£ç¡®çš„é…ç½®æ–‡ä»¶ä½ç½®</h4>
<p><strong>âœ… ç”Ÿæ•ˆä½ç½®ï¼ˆåŸºäºå®é™…æµ‹è¯•ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>è¿™æ˜¯åŸºäº <code>basedir</code> çš„é»˜è®¤æŸ¥æ‰¾ä½ç½®</li>
<li>å®˜æ–¹æ”¯æŒï¼Œå®Œå…¨åˆæ³•</li>
<li>é€‚ç”¨äº winget / å®˜æ–¹ MSI é»˜è®¤å®‰è£…æ–¹å¼</li>
</ul>
<h4 data-id="heading-15">2.3 åˆ›å»ºé…ç½®æ–‡ä»¶</h4>
<h5 data-id="heading-16">æ­¥éª¤ 1ï¼šåˆ›å»º my.ini æ–‡ä»¶</h5>
<p>åœ¨ä»¥ä¸‹è·¯å¾„åˆ›å»ºæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œç›´æ¥ç¼–è¾‘å³å¯ã€‚</p>
</blockquote>
<h5 data-id="heading-17">æ­¥éª¤ 2ï¼šå†™å…¥é…ç½®å†…å®¹</h5>
<p>å‚è€ƒ <a href="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3" title="#%E4%B8%89%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E8%AF%A6%E8%A7%A3">ä¸‰ã€é…ç½®æ–‡ä»¶å†…å®¹è¯¦è§£</a> ç« èŠ‚ã€‚</p>
<h5 data-id="heading-18">æ­¥éª¤ 3ï¼šé‡å¯ MySQL æœåŠ¡ï¼ˆå¿…é¡»ï¼‰</h5>
<p><strong>æŸ¥æ‰¾ MySQL æœåŠ¡åï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sc query | findstr MySQL
</code></pre>
<p><strong>åœæ­¢æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">net stop MySQL80
</code></pre>
<p><strong>å¯åŠ¨æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">net start MySQL80
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæœåŠ¡åä¸æ˜¯ <code>MySQL80</code>ï¼Œè¯·ä½¿ç”¨ <code>sc query</code> æŸ¥è¯¢åˆ°çš„å®é™…æœåŠ¡åã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-19">ä¸‰ã€é…ç½®æ–‡ä»¶å†…å®¹è¯¦è§£</h3>
<h4 data-id="heading-20">3.1 æœ€å°å¯ç”¨é…ç½®ï¼ˆæ”¯æŒè¿œç¨‹è®¿é—®ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">port</span>=<span class="hljs-number">3306</span>
<span class="hljs-attr">bind-address</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
<span class="hljs-attr">character-set-server</span>=utf8mb4
<span class="hljs-attr">collation-server</span>=utf8mb4_general_ci

<span class="hljs-section">[client]</span>
<span class="hljs-attr">default-character-set</span>=utf8mb4
</code></pre>
<h4 data-id="heading-21">3.2 é…ç½®é¡¹è¯´æ˜</h4>
<h5 data-id="heading-22"><code>[mysqld]</code> æ®µï¼ˆæœåŠ¡å™¨é…ç½®ï¼‰</h5>






























<table><thead><tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>port</code></td><td><code>3306</code></td><td>MySQL æœåŠ¡ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ 3306</td></tr><tr><td><code>bind-address</code></td><td><code>0.0.0.0</code></td><td>ç›‘å¬æ‰€æœ‰ IPv4 ç½‘å¡ï¼Œå…è®¸è¿œç¨‹è¿æ¥ã€‚è¯¦è§ <a href="#51-bind_address-%E8%AF%A6%E8%A7%A3" title="#51-bind_address-%E8%AF%A6%E8%A7%A3">bind_address è¯¦è§£</a></td></tr><tr><td><code>character-set-server</code></td><td><code>utf8mb4</code></td><td>æœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†ï¼Œæ”¯æŒ emoji å’Œç‰¹æ®Šå­—ç¬¦</td></tr><tr><td><code>collation-server</code></td><td><code>utf8mb4_general_ci</code></td><td>æœåŠ¡å™¨é»˜è®¤æ’åºè§„åˆ™</td></tr></tbody></table>
<h5 data-id="heading-23"><code>[client]</code> æ®µï¼ˆå®¢æˆ·ç«¯é…ç½®ï¼‰</h5>















<table><thead><tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>default-character-set</code></td><td><code>utf8mb4</code></td><td>å®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†</td></tr></tbody></table>
<h4 data-id="heading-24">3.3 é…ç½®æ–‡ä»¶ç¼–ç è¦æ±‚</h4>
<ul>
<li><strong>å¿…é¡»ä½¿ç”¨</strong>ï¼šANSI æˆ– UTF-8 æ—  BOM</li>
<li><strong>ç¦æ­¢ä½¿ç”¨</strong>ï¼šUTF-16</li>
</ul>
<blockquote>
<p><strong>æç¤º</strong>ï¼šä½¿ç”¨ Windows è®°äº‹æœ¬ä¿å­˜æ—¶ï¼Œé€‰æ‹©"å¦å­˜ä¸º"ï¼Œç¼–ç é€‰æ‹©"UTF-8"ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-25">å››ã€éªŒè¯é…ç½®æ–‡ä»¶æ˜¯å¦ç”Ÿæ•ˆ</h3>
<h4 data-id="heading-26">4.1 æ–¹æ³•ä¸€ï¼šæŸ¥çœ‹ MySQL è¯»å–çš„é…ç½®æ–‡ä»¶ï¼ˆæœ€æƒå¨ï¼‰</h4>
<p>åœ¨<strong>ç®¡ç†å‘˜ CMD</strong> ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr /i <span class="hljs-string">"Default options"</span>
</code></pre>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">Default</span> options <span class="hljs-keyword">are</span> read <span class="hljs-keyword">from</span> the following files:
C:\Program Files\MySQL\MySQL Server <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<blockquote>
<p>å¦‚æœçœ‹åˆ°ä½ åˆ›å»ºçš„ <code>my.ini</code> è·¯å¾„ï¼Œè¯´æ˜é…ç½®æ–‡ä»¶ <strong>100% ç”Ÿæ•ˆ</strong>ã€‚</p>
</blockquote>
<h4 data-id="heading-27">4.2 æ–¹æ³•äºŒï¼šé€šè¿‡é…ç½®é¡¹åå‘éªŒè¯ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>
<p>ç™»å½• MySQL åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'character_set_server'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">bind_address</span> = <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>  ï¼ˆæˆ–æ˜¾ç¤ºä¸º *ï¼Œç­‰ä»·äº <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>ï¼‰
<span class="hljs-attr">character_set_server</span> = utf8mb4
</code></pre>
<blockquote>
<p>å¦‚æœè¿”å›çš„å€¼ä¸ä½ é…ç½®çš„å€¼ä¸€è‡´ï¼Œè¯´æ˜é…ç½®æ–‡ä»¶å·²ç”Ÿæ•ˆã€‚</p>
</blockquote>
<h4 data-id="heading-28">4.3 æ–¹æ³•ä¸‰ï¼šä¿®æ”¹æ˜æ˜¾é…ç½®é¡¹æµ‹è¯•ï¼ˆå·¥ç¨‹å¸ˆå¸¸ç”¨ï¼‰</h4>
<ol>
<li>
<p>åœ¨ <code>my.ini</code> ä¸­ä¸´æ—¶ä¿®æ”¹ç«¯å£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">port</span>=<span class="hljs-number">3307</span>
</code></pre>
</li>
<li>
<p>é‡å¯ MySQL æœåŠ¡</p>
</li>
<li>
<p>éªŒè¯ç«¯å£ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'port'</span>;
</code></pre>
<p>å¦‚æœçœ‹åˆ° <code>3307</code>ï¼Œè¯´æ˜é…ç½®æ–‡ä»¶ä¸€å®šç”Ÿæ•ˆäº†ã€‚</p>
</li>
<li>
<p>æµ‹è¯•å®Œæˆåæ”¹å› <code>3306</code></p>
</li>
</ol>
<h4 data-id="heading-29">4.4 æ–¹æ³•å››ï¼šæŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼ˆé«˜çº§ï¼‰</h4>
<ol>
<li>
<p>æŸ¥è¯¢æ—¥å¿—ä½ç½®ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'log_error'</span>;
</code></pre>
</li>
<li>
<p>æ‰“å¼€æ—¥å¿—æ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¯åŠ¨æ—¶çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Reading <span class="hljs-keyword">option</span> file <span class="hljs-comment">'C:\Program Files\MySQL\MySQL Server 8.4\my.ini'</span>
</code></pre>
<p>å¦‚æœçœ‹åˆ°æ­¤ä¿¡æ¯ï¼Œè¯´æ˜ <code>my.ini</code> è¢«åŠ è½½ã€‚</p>
</li>
</ol>
<h4 data-id="heading-30">4.5 å¸¸è§é—®é¢˜æ’æŸ¥</h4>

























<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ³•</th></tr></thead><tbody><tr><td>é…ç½®ä¸ç”Ÿæ•ˆ</td><td>å¿˜è®°é‡å¯æœåŠ¡</td><td>æ‰§è¡Œ <code>net stop MySQL80</code> å’Œ <code>net start MySQL80</code></td></tr><tr><td>é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æ–‡ä»¶ä½ç½®é”™è¯¯</td><td>ä½¿ç”¨ <code>mysqld --verbose --help</code> ç¡®è®¤æŸ¥æ‰¾é¡ºåº</td></tr><tr><td>é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æ–‡ä»¶ç¼–ç é”™è¯¯</td><td>ç¡®ä¿ä½¿ç”¨ ANSI æˆ– UTF-8 æ—  BOM</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-31">äº”ã€å…³é”®é…ç½®å­—æ®µè¯¦è§£</h3>
<h4 data-id="heading-32">5.1 bind_address è¯¦è§£</h4>
<h5 data-id="heading-33">æ ¸å¿ƒæ¦‚å¿µ</h5>
<p><code>bind_address</code> å†³å®š <strong>MySQL æœåŠ¡ç›‘å¬å“ªä¸ªæœ¬åœ° IP åœ°å€</strong>ã€‚</p>
<p><strong>é‡è¦åŒºåˆ†ï¼š</strong></p>
<ul>
<li><code>bind_address</code>ï¼šæ§åˆ¶ MySQL <strong>ç›‘å¬å“ª</strong>ï¼ˆæœåŠ¡å±‚ï¼‰</li>
<li><code>user@host</code>ï¼šæ§åˆ¶ <strong>è°èƒ½è¿</strong>ï¼ˆæƒé™å±‚ï¼‰</li>
</ul>
<h5 data-id="heading-34">å¸¸è§å€¼åŠå«ä¹‰</h5>






























<table><thead><tr><th>å€¼</th><th>å«ä¹‰</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>127.0.0.1</code> æˆ– <code>localhost</code></td><td>åªç›‘å¬æœ¬æœº</td><td>å•æœºå¼€å‘ã€æœ¬åœ°æµ‹è¯•</td></tr><tr><td><code>0.0.0.0</code></td><td>ç›‘å¬æ‰€æœ‰ IPv4 ç½‘å¡</td><td><strong>å¼€å‘/æœåŠ¡å™¨æœ€å¸¸ç”¨</strong></td></tr><tr><td><code>*</code></td><td>ç­‰ä»·äº <code>0.0.0.0</code></td><td>MySQL æ˜¾ç¤ºå€¼ï¼Œé…ç½®æ–‡ä»¶å»ºè®®å†™ <code>0.0.0.0</code></td></tr><tr><td><code>192.168.1.100</code></td><td>åªç›‘å¬æŒ‡å®š IP</td><td>ç”Ÿäº§ç¯å¢ƒï¼Œæ›´å®‰å…¨</td></tr></tbody></table>
<h5 data-id="heading-35">ä¸ºä»€ä¹ˆ SHOW VARIABLES æ˜¾ç¤º <code>*</code>ï¼Ÿ</h5>
<p>MySQL å†…éƒ¨å°†"ä»»æ„åœ°å€"æ˜¾ç¤ºä¸º <code>*</code>ï¼Œå®é™…æ•ˆæœä¸ <code>0.0.0.0</code> ç›¸åŒã€‚</p>
<p><strong>éªŒè¯å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;
</code></pre>
<p><strong>ç»“æœè¯´æ˜ï¼š</strong></p>
<ul>
<li>æ˜¾ç¤º <code>*</code> æˆ– <code>0.0.0.0</code>ï¼šå·²å…è®¸è¿œç¨‹è¿æ¥ï¼ˆæœåŠ¡å±‚ï¼‰</li>
<li>æ˜¾ç¤º <code>127.0.0.1</code>ï¼šä»…å…è®¸æœ¬æœºè¿æ¥</li>
</ul>
<h5 data-id="heading-36">é…ç½®æ–‡ä»¶å†™æ³•ï¼ˆæœ€ä½³å®è·µï¼‰</h5>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">bind-address</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
</code></pre>
<blockquote>
<p><strong>ä¸æ¨è</strong>åœ¨é…ç½®æ–‡ä»¶ä¸­å†™ <code>*</code>ï¼ˆå¯è¯»æ€§å·®ï¼‰ã€‚</p>
</blockquote>
<h4 data-id="heading-37">5.2 ç”¨æˆ·æƒé™ç›¸å…³å­—æ®µ</h4>
<h5 data-id="heading-38">CREATE USER è¯­æ³•</h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'username'</span>@<span class="hljs-string">'host'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'password'</span>;
</code></pre>
<p><strong>host å­—æ®µè¯´æ˜ï¼š</strong></p>






























<table><thead><tr><th>host å€¼</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>'%'</code></td><td>å…è®¸ä»»ä½• IP è¿æ¥</td><td><code>'dzm'@'%'</code></td></tr><tr><td><code>'localhost'</code></td><td>ä»…å…è®¸æœ¬æœºè¿æ¥</td><td><code>'dzm'@'localhost'</code></td></tr><tr><td><code>'192.168.1.%'</code></td><td>å…è®¸æŒ‡å®šç½‘æ®µ</td><td><code>'dzm'@'192.168.1.%'</code></td></tr><tr><td><code>'192.168.1.100'</code></td><td>ä»…å…è®¸æŒ‡å®š IP</td><td><code>'dzm'@'192.168.1.100'</code></td></tr></tbody></table>
<h5 data-id="heading-39">GRANT æƒé™è¯´æ˜</h5>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>CREATE USER</code> åªåˆ›å»ºç”¨æˆ·è´¦å·ï¼Œ<strong>ä¸æˆäºˆä»»ä½•æƒé™</strong></li>
<li>æƒé™èŒƒå›´æ˜¯åœ¨ <code>GRANT</code> å‘½ä»¤ä¸­æŒ‡å®šçš„ï¼Œä¸æ˜¯åœ¨ <code>CREATE USER</code> æ—¶æŒ‡å®š</li>
<li>åˆ›å»ºç”¨æˆ·åå¿…é¡»ä½¿ç”¨ <code>GRANT</code> æˆäºˆæƒé™ï¼Œç”¨æˆ·æ‰èƒ½è®¿é—®æ•°æ®åº“</li>
<li>å¯ä»¥åœ¨åˆ›å»ºç”¨æˆ·åç«‹å³ä½¿ç”¨ <code>GRANT</code> æˆæƒï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æµç¨‹</li>
</ul>
<p><strong>æƒé™çº§åˆ«ï¼š</strong></p>

























<table><thead><tr><th>æƒé™èŒƒå›´</th><th>è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ‰€æœ‰æ•°æ®åº“</td><td><code>*.*</code></td><td>æ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</td></tr><tr><td>å•ä¸ªæ•°æ®åº“</td><td><code>database_name.*</code></td><td>æŒ‡å®šæ•°æ®åº“çš„æ‰€æœ‰è¡¨</td></tr><tr><td>å•ä¸ªè¡¨</td><td><code>database_name.table_name</code></td><td>æŒ‡å®šæ•°æ®åº“çš„æŒ‡å®šè¡¨</td></tr></tbody></table>
<p><strong>å¸¸ç”¨æƒé™ï¼š</strong></p>





































<table><thead><tr><th>æƒé™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>ALL PRIVILEGES</code></td><td>æ‰€æœ‰æƒé™ï¼ˆå¼€å‘é˜¶æ®µå¸¸ç”¨ï¼‰</td></tr><tr><td><code>SELECT</code></td><td>æŸ¥è¯¢æƒé™</td></tr><tr><td><code>INSERT</code></td><td>æ’å…¥æƒé™</td></tr><tr><td><code>UPDATE</code></td><td>æ›´æ–°æƒé™</td></tr><tr><td><code>DELETE</code></td><td>åˆ é™¤æƒé™</td></tr><tr><td><code>CREATE</code></td><td>åˆ›å»ºè¡¨/æ•°æ®åº“æƒé™</td></tr><tr><td><code>DROP</code></td><td>åˆ é™¤è¡¨/æ•°æ®åº“æƒé™</td></tr></tbody></table>
<h5 data-id="heading-40">åˆ›å»ºç”¨æˆ·å¹¶æˆæƒå®Œæ•´æ¡ˆä¾‹</h5>
<p>ä»¥ä¸‹æ¡ˆä¾‹å±•ç¤ºå¦‚ä½•åˆ›å»ºç”¨æˆ·å¹¶æˆäºˆä¸åŒçº§åˆ«çš„æƒé™ï¼š</p>
<p><strong>æ¡ˆä¾‹ 1ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆæ‰€æœ‰æ•°æ®åº“æƒé™ï¼ˆå¼€å‘ç¯å¢ƒï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'dev_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'dev123456'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dev_user'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>*.*</code> è¡¨ç¤ºæ‰€æœ‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li><code>WITH GRANT OPTION</code> å…è®¸è¯¥ç”¨æˆ·æˆæƒç»™å…¶ä»–ç”¨æˆ·</li>
<li>é€‚ç”¨äºå¼€å‘ã€æµ‹è¯•ç¯å¢ƒ</li>
</ul>
<hr/>
<p><strong>æ¡ˆä¾‹ 2ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆå•ä¸ªæ•°æ®åº“æƒé™ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'app_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'strong_password_123'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆå•ä¸ªæ•°æ®åº“çš„æ‰€æœ‰æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> myapp_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'app_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>myapp_db.*</code> è¡¨ç¤ºä»… <code>myapp_db</code> æ•°æ®åº“çš„æ‰€æœ‰è¡¨</li>
<li>ç”¨æˆ·æ— æ³•è®¿é—®å…¶ä»–æ•°æ®åº“ï¼Œæ›´å®‰å…¨</li>
<li>é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<p><strong>éªŒè¯æƒé™ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·æƒé™</span>
<span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">'app_user'</span>@<span class="hljs-string">'%'</span>;
</code></pre>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">+</span><span class="hljs-comment">----------------------------------------------------------+</span>
<span class="hljs-operator">|</span> Grants <span class="hljs-keyword">for</span> app_user@<span class="hljs-operator">%</span>                                    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------------------------------------+</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">GRANT</span> USAGE <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> `app_user`@`<span class="hljs-operator">%</span>`                    <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> `myapp_db`.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> `app_user`@`<span class="hljs-operator">%</span>`  <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------------------------------------+</span>
</code></pre>
<hr/>
<p><strong>æ¡ˆä¾‹ 3ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆå•ä¸ªè¡¨æƒé™ï¼ˆæœ€å°æƒé™åŸåˆ™ï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'readonly_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'readonly_pass'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆå•ä¸ªè¡¨çš„åªè¯»æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ON</span> myapp_db.users <span class="hljs-keyword">TO</span> <span class="hljs-string">'readonly_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>myapp_db.users</code> è¡¨ç¤ºä»… <code>myapp_db</code> æ•°æ®åº“çš„ <code>users</code> è¡¨</li>
<li>åªæˆäºˆ <code>SELECT</code> æƒé™ï¼Œç”¨æˆ·åªèƒ½æŸ¥è¯¢ï¼Œä¸èƒ½ä¿®æ”¹</li>
<li>é€‚ç”¨äºæŠ¥è¡¨ã€æ•°æ®åˆ†æç­‰åªè¯»åœºæ™¯</li>
</ul>
<p><strong>éªŒè¯æƒé™ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·æƒé™</span>
<span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">'readonly_user'</span>@<span class="hljs-string">'%'</span>;
</code></pre>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-go" lang="go">+----------------------------------------------------------+
| Grants <span class="hljs-keyword">for</span> readonly_user@%                               |
+----------------------------------------------------------+
| GRANT USAGE ON *.* TO <span class="hljs-string">`readonly_user`</span>@<span class="hljs-string">`%`</span>               |
| GRANT SELECT ON <span class="hljs-string">`myapp_db`</span>.<span class="hljs-string">`users`</span> TO <span class="hljs-string">`readonly_user`</span>@<span class="hljs-string">`%`</span>|
+----------------------------------------------------------+
</code></pre>
<hr/>
<p><strong>æ¡ˆä¾‹ 4ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆå¤šä¸ªæ•°æ®åº“æƒé™</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'multi_pass'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆå¤šä¸ªæ•°æ®åº“çš„æƒé™</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> db1.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span>, <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">ON</span> db2.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ON</span> db3.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'multi_db_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>å¯ä»¥ä¸ºåŒä¸€ç”¨æˆ·æˆäºˆå¤šä¸ªæ•°æ®åº“çš„ä¸åŒæƒé™</li>
<li><code>db1.*</code> è·å¾—æ‰€æœ‰æƒé™</li>
<li><code>db2.*</code> ä»…è·å¾—æŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°æƒé™</li>
<li><code>db3.*</code> ä»…è·å¾—æŸ¥è¯¢æƒé™</li>
</ul>
<hr/>
<p><strong>æ¡ˆä¾‹ 5ï¼šåˆ›å»ºç”¨æˆ·å¹¶æˆäºˆç‰¹å®šæƒé™ç»„åˆï¼ˆç”Ÿäº§ç¯å¢ƒå¸¸ç”¨ï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­¥éª¤ 1ï¼šåˆ›å»ºç”¨æˆ·</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'api_user'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'api_secure_pass'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 2ï¼šæˆäºˆç‰¹å®šæƒé™ï¼ˆä¸åŒ…æ‹¬ DROPã€CREATE ç­‰å±é™©æƒé™ï¼‰</span>
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span>, <span class="hljs-keyword">INSERT</span>, <span class="hljs-keyword">UPDATE</span>, <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">ON</span> myapp_db.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'api_user'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æ­¥éª¤ 3ï¼šåˆ·æ–°æƒé™</span>
FLUSH PRIVILEGES;
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æˆäºˆå¸¸ç”¨çš„ CRUD æƒé™ï¼ˆSELECTã€INSERTã€UPDATEã€DELETEï¼‰</li>
<li>ä¸æˆäºˆ CREATEã€DROPã€ALTER ç­‰ç»“æ„ä¿®æ”¹æƒé™</li>
<li>é€‚ç”¨äºåº”ç”¨ç¨‹åºè¿æ¥ï¼Œé˜²æ­¢è¯¯æ“ä½œåˆ é™¤è¡¨æˆ–æ•°æ®åº“</li>
</ul>
<hr/>
<p><strong>æƒé™éªŒè¯å‘½ä»¤æ±‡æ€»ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> <span class="hljs-string">'your_username'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹ç”¨æˆ·æƒé™è¯¦æƒ…</span>
<span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">'your_username'</span>@<span class="hljs-string">'%'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™</span>
<span class="hljs-keyword">SHOW</span> GRANTS;

<span class="hljs-comment">-- æŸ¥çœ‹æ•°æ®åº“æƒé™</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> mysql.db <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">User</span> <span class="hljs-operator">=</span> <span class="hljs-string">'your_username'</span>;

<span class="hljs-comment">-- æŸ¥çœ‹è¡¨æƒé™</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> mysql.tables_priv <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">User</span> <span class="hljs-operator">=</span> <span class="hljs-string">'your_username'</span>;
</code></pre>
<h4 data-id="heading-41">5.3 å­—ç¬¦é›†ç›¸å…³å­—æ®µ</h4>
<h5 data-id="heading-42">character-set-server</h5>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæœåŠ¡å™¨é»˜è®¤å­—ç¬¦é›†</li>
<li><strong>æ¨èå€¼</strong>ï¼š<code>utf8mb4</code>ï¼ˆæ”¯æŒ emoji å’Œ 4 å­—èŠ‚å­—ç¬¦ï¼‰</li>
<li><strong>æŸ¥çœ‹å‘½ä»¤</strong>ï¼š<code>SHOW VARIABLES LIKE 'character_set_server';</code></li>
</ul>
<h5 data-id="heading-43">collation-server</h5>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæœåŠ¡å™¨é»˜è®¤æ’åºè§„åˆ™</li>
<li><strong>æ¨èå€¼</strong>ï¼š<code>utf8mb4_general_ci</code>ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</li>
<li><strong>æŸ¥çœ‹å‘½ä»¤</strong>ï¼š<code>SHOW VARIABLES LIKE 'collation_server';</code></li>
</ul>
<h5 data-id="heading-44">å­—ç¬¦é›†é€‰æ‹©å»ºè®®</h5>

























<table><thead><tr><th>å­—ç¬¦é›†</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>utf8mb4</code></td><td>å®Œæ•´ UTF-8ï¼Œæ”¯æŒ emoji</td><td><strong>æ¨èï¼Œç°ä»£åº”ç”¨é¦–é€‰</strong></td></tr><tr><td><code>utf8</code></td><td>MySQL çš„"ä¼ª UTF-8"ï¼ˆ3 å­—èŠ‚ï¼‰</td><td>ä¸æ¨èï¼Œå·²è¿‡æ—¶</td></tr><tr><td><code>latin1</code></td><td>å•å­—èŠ‚å­—ç¬¦é›†</td><td>ä»…è‹±æ–‡åœºæ™¯</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-45">å…­ã€è¿œç¨‹è¿æ¥æ£€æŸ¥æ¸…å•</h3>
<h4 data-id="heading-46">6.1 æ£€æŸ¥é¡¹åˆ—è¡¨</h4>
<h5 data-id="heading-47">âœ… 1. ç”¨æˆ· host ä¸º <code>%</code></h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span><span class="hljs-operator">=</span><span class="hljs-string">'dzm'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">|</span> host <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
<span class="hljs-operator">|</span> dzm  <span class="hljs-operator">|</span> <span class="hljs-operator">%</span>    <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span>
</code></pre>
<h5 data-id="heading-48">âœ… 2. MySQL ç›‘å¬åœ°å€ä¸º <code>0.0.0.0</code> æˆ– <code>*</code></h5>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;
</code></pre>
<p><strong>é¢„æœŸç»“æœï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">bind_address</span> = <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>  ï¼ˆæˆ– *ï¼‰
</code></pre>
<h5 data-id="heading-49">âœ… 3. Windows é˜²ç«å¢™æ”¾è¡Œ 3306 ç«¯å£</h5>
<p>åœ¨<strong>ç®¡ç†å‘˜ CMD</strong> ä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">netsh advfirewall firewall add rule name=<span class="hljs-string">"MySQL 3306"</span> <span class="hljs-built_in">dir</span>=<span class="hljs-keyword">in</span> action=allow protocol=TCP localport=3306
</code></pre>
<p><strong>éªŒè¯é˜²ç«å¢™è§„åˆ™ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">netsh advfirewall firewall show rule name=<span class="hljs-string">"MySQL 3306"</span>
</code></pre>
<h4 data-id="heading-50">6.2 æµ‹è¯•è¿œç¨‹è¿æ¥</h4>
<p>åœ¨å¦ä¸€å°æœºå™¨æˆ–æœ¬æœºæ¨¡æ‹Ÿè¿œç¨‹è¿æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysql -u dzm -p -h æœåŠ¡å™¨IP -P 3306
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>-u dzm</code>ï¼šç”¨æˆ·å</li>
<li><code>-p</code>ï¼šæç¤ºè¾“å…¥å¯†ç </li>
<li><code>-h æœåŠ¡å™¨IP</code>ï¼šæœåŠ¡å™¨ IP åœ°å€</li>
<li><code>-P 3306</code>ï¼šç«¯å£å·ï¼ˆå¤§å†™ Pï¼‰</li>
</ul>
<h4 data-id="heading-51">6.3 å¼€å‘é˜¶æ®µ vs ç”Ÿäº§ç¯å¢ƒ</h4>
<h5 data-id="heading-52">å¼€å‘é˜¶æ®µæ ‡å‡†åšæ³•</h5>
<ul>
<li>âœ… ç”¨æˆ· hostï¼š<code>'%'</code></li>
<li>âœ… å¯†ç ï¼šç®€å• OK</li>
<li>âœ… æƒé™ï¼š<code>ALL PRIVILEGES</code></li>
<li>âœ… é˜²ç«å¢™ï¼šæ”¾è¡Œ 3306</li>
</ul>
<h5 data-id="heading-53">ç”Ÿäº§ç¯å¢ƒæ ‡å‡†åšæ³•</h5>
<ul>
<li>âœ… ç”¨æˆ· hostï¼šå›ºå®š IP æˆ– IP æ®µ</li>
<li>âœ… å¯†ç ï¼šå¼ºå¯†ç </li>
<li>âœ… æƒé™ï¼šæœ€å°æƒé™åŸåˆ™</li>
<li>âœ… é˜²ç«å¢™ï¼šä»…æ”¾è¡Œå¿…è¦ IP</li>
</ul>
<hr/>
<h3 data-id="heading-54">ä¸ƒã€æ‰©å±•å†…å®¹</h3>
<h4 data-id="heading-55">7.1 å…³äº ProgramData è·¯å¾„çš„è¯´æ˜</h4>
<h5 data-id="heading-56">âš ï¸ é”™è¯¯é…ç½®è·¯å¾„ï¼ˆä¸ä¼šç”Ÿæ•ˆï¼‰</h5>
<pre><code class="hljs language-arduino" lang="arduino">C:\ProgramData\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šç”Ÿæ•ˆï¼Ÿ</strong></p>
<p>é€šè¿‡å®é™…æµ‹è¯•å‘ç°ï¼Œä½¿ç”¨ winget / å®˜æ–¹ MSI é»˜è®¤å®‰è£…çš„ MySQL 8.4ï¼Œå…¶é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåº<strong>ä¸åŒ…å«</strong> <code>ProgramData</code> è·¯å¾„ã€‚</p>
<p><strong>éªŒè¯æ–¹æ³•ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr my.ini
</code></pre>
<p><strong>å®é™…æŸ¥æ‰¾é¡ºåºï¼ˆåŸºäºæµ‹è¯•ï¼‰ï¼š</strong></p>
<ol>
<li><code>C:\WINDOWS\my.ini</code></li>
<li><code>C:\WINDOWS\my.cnf</code></li>
<li><code>C:\my.ini</code></li>
<li><code>C:\my.cnf</code></li>
<li><code>C:\Program Files\MySQL\MySQL Server 8.4\my.ini</code> âœ…</li>
<li><code>C:\Program Files\MySQL\MySQL Server 8.4\my.cnf</code></li>
</ol>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šæ­¤æŸ¥æ‰¾é¡ºåº<strong>ä¸åŒ…å«</strong> <code>C:\ProgramData\MySQL\MySQL Server 8.4\my.ini</code></p>
</blockquote>
<h5 data-id="heading-57">ä¸ºä»€ä¹ˆå¾ˆå¤šæ•™ç¨‹æ¨è ProgramDataï¼Ÿ</h5>
<p>ä¸åŒå®‰è£…æ–¹å¼ä¼šå¯¼è‡´ä¸åŒçš„é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºï¼š</p>
<ol>
<li>
<p><strong>æƒ…å†µ 1ï¼ˆé»˜è®¤å®‰è£…ï¼Œå¦‚æœ¬æµ‹è¯•ï¼‰ï¼š</strong></p>
<ul>
<li>å®‰è£…å™¨æœªæŒ‡å®šè‡ªå®šä¹‰é…ç½®</li>
<li>ä¸ä¼šåˆ›å»º <code>ProgramData\MySQL</code> ç›®å½•</li>
<li>é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºä¸åŒ…å« <code>ProgramData</code></li>
</ul>
</li>
<li>
<p><strong>æƒ…å†µ 2ï¼ˆè‡ªå®šä¹‰å®‰è£…ï¼‰ï¼š</strong></p>
<ul>
<li>å®‰è£…æ—¶å‹¾é€‰äº†è‡ªå®šä¹‰é…ç½®æˆ–è®¾ç½®äº† datadir</li>
<li>å®‰è£…å™¨æ˜¾å¼æŒ‡å®šäº† <code>--defaults-file="C:\ProgramData\MySQL\MySQL Server 8.x\my.ini"</code></li>
<li>æ­¤æ—¶ <code>ProgramData</code> è·¯å¾„æ‰ä¼šç”Ÿæ•ˆ</li>
</ul>
</li>
<li>
<p><strong>æƒ…å†µ 3ï¼ˆè€ç‰ˆæœ¬ MySQL 5.xï¼‰ï¼š</strong></p>
<ul>
<li>å‡ ä¹ä¸€å®šæœ‰ <code>my.ini</code>ï¼ˆå†å²åŸå› ï¼‰</li>
<li>é€šå¸¸ä½äº <code>ProgramData</code></li>
</ul>
</li>
</ol>
<h5 data-id="heading-58">å¦‚ä½•è®© ProgramData è·¯å¾„ç”Ÿæ•ˆï¼Ÿ</h5>
<p>å¦‚æœéœ€è¦ä½¿ç”¨ <code>ProgramData</code> è·¯å¾„ï¼ˆæ›´ç¬¦åˆ Windows è§„èŒƒï¼‰ï¼Œå¯ä»¥æ˜¾å¼æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼š</p>
<ol>
<li>
<p><strong>æŸ¥çœ‹å½“å‰æœåŠ¡é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sc qc MySQL80
</code></pre>
</li>
<li>
<p><strong>ä¿®æ”¹æœåŠ¡å¯åŠ¨å‚æ•°ï¼ˆç®¡ç†å‘˜ CMDï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">sc config MySQL80 binPath= <span class="hljs-string">"\"C:\Program Files\MySQL\MySQL Server 8.4\bin\mysqld.exe\" --defaults-file=\"C:\ProgramData\MySQL\MySQL Server 8.4\my.ini\" --service"</span>
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š<code>binPath=</code> åé¢å¿…é¡»æœ‰ç©ºæ ¼ï¼Œå¼•å·å¿…é¡»ä¸¥æ ¼ã€‚</p>
</blockquote>
</li>
<li>
<p><strong>é‡å¯æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">net stop MySQL80
net start MySQL80
</code></pre>
</li>
<li>
<p><strong>éªŒè¯ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr ProgramData
</code></pre>
</li>
</ol>
<h4 data-id="heading-59">7.2 æŸ¥æ‰¾ MySQL æœåŠ¡å</h4>
<p>å¦‚æœä¸çŸ¥é“ MySQL æœåŠ¡åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sc query | findstr MySQL
</code></pre>
<p><strong>å¸¸è§æœåŠ¡åï¼š</strong></p>
<ul>
<li><code>MySQL80</code>ï¼ˆMySQL 8.0+ï¼‰</li>
<li><code>MySQL</code>ï¼ˆè€ç‰ˆæœ¬ï¼‰</li>
<li><code>MySQL57</code>ï¼ˆMySQL 5.7ï¼‰</li>
</ul>
<h4 data-id="heading-60">7.3 é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºè¯´æ˜</h4>
<p>MySQL åœ¨ Windows ä¸‹çš„é…ç½®æ–‡ä»¶æŸ¥æ‰¾é¡ºåºæ˜¯<strong>ç¼–è¯‘æ—¶å†³å®šçš„</strong>ï¼Œä¸åŒå®‰è£…æ–¹å¼ä¼šæœ‰ä¸åŒçš„æŸ¥æ‰¾é¡ºåºã€‚</p>
<p><strong>é€šç”¨æŸ¥æ‰¾é¡ºåºï¼ˆç†è®ºï¼‰ï¼š</strong></p>
<ol>
<li><code>C:\Windows\my.ini</code></li>
<li><code>C:\Windows\my.cnf</code></li>
<li><code>C:\my.ini</code></li>
<li><code>C:\my.cnf</code></li>
<li><code>basedir\my.ini</code>ï¼ˆå¦‚ï¼š<code>C:\Program Files\MySQL\MySQL Server 8.4\my.ini</code>ï¼‰</li>
<li><code>basedir\my.cnf</code></li>
<li>é€šè¿‡ <code>--defaults-file</code> æ˜¾å¼æŒ‡å®šçš„è·¯å¾„</li>
</ol>
<blockquote>
<p><strong>é‡è¦</strong>ï¼šå®é™…æŸ¥æ‰¾é¡ºåºè¯·ä½¿ç”¨ <code>mysqld --verbose --help</code> å‘½ä»¤ç¡®è®¤ã€‚</p>
</blockquote>
<h4 data-id="heading-61">7.4 å¸¸è§é—®é¢˜ FAQ</h4>
<h5 data-id="heading-62">Q1: ä¸ºä»€ä¹ˆä¿®æ”¹äº† my.ini ä½†é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ</h5>
<p><strong>A:</strong> æœ€å¸¸è§åŸå› æ˜¯å¿˜è®°é‡å¯ MySQL æœåŠ¡ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶åå¿…é¡»é‡å¯æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">net stop MySQL80
net start MySQL80
</code></pre>
<h5 data-id="heading-63">Q2: é…ç½®æ–‡ä»¶æ”¾åœ¨å“ªé‡Œæœ€åˆé€‚ï¼Ÿ</h5>
<p><strong>A:</strong> åŸºäºå®é™…æµ‹è¯•ï¼Œå¯¹äºé»˜è®¤å®‰è£…çš„ MySQL 8.4ï¼Œæ¨èæ”¾åœ¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<h5 data-id="heading-64">Q3: bind_address æ˜¾ç¤º <code>*</code> æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h5>
<p><strong>A:</strong> <code>*</code> ç­‰ä»·äº <code>0.0.0.0</code>ï¼Œè¡¨ç¤ºç›‘å¬æ‰€æœ‰ IPv4 ç½‘å¡ï¼Œå…è®¸è¿œç¨‹è¿æ¥ã€‚é…ç½®æ–‡ä»¶å»ºè®®å†™ <code>0.0.0.0</code>ï¼ˆå¯è¯»æ€§æ›´å¥½ï¼‰ã€‚</p>
<h5 data-id="heading-65">Q4: åˆ›å»ºäº†ç”¨æˆ·ä½†è¿œç¨‹è¿ä¸ä¸Šï¼Ÿ</h5>
<p><strong>A:</strong> æ£€æŸ¥ä»¥ä¸‹ 3 é¡¹ï¼š</p>
<ol>
<li>ç”¨æˆ· host æ˜¯å¦ä¸º <code>%</code>ï¼š<code>SELECT user, host FROM mysql.user WHERE user='dzm';</code></li>
<li><code>bind_address</code> æ˜¯å¦ä¸º <code>0.0.0.0</code> æˆ– <code>*</code>ï¼š<code>SHOW VARIABLES LIKE 'bind_address';</code></li>
<li>Windows é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œ 3306 ç«¯å£</li>
</ol>
<h5 data-id="heading-66">Q5: å¦‚ä½•ç¡®è®¤ MySQL è¯»å–äº†å“ªä¸ªé…ç½®æ–‡ä»¶ï¼Ÿ</h5>
<p><strong>A:</strong> ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼ˆç®¡ç†å‘˜ CMDï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mysqld --verbose --<span class="hljs-built_in">help</span> | findstr /i <span class="hljs-string">"Default options"</span>
</code></pre>
<hr/>
<h3 data-id="heading-67">æ€»ç»“</h3>
<h4 data-id="heading-68">å¿«é€Ÿå‚è€ƒ</h4>
<p><strong>åˆ›å»ºä¸é™ IP è´¦å·ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">'123123'</span>;
<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">'dzm'</span>@<span class="hljs-string">'%'</span> <span class="hljs-keyword">WITH</span> <span class="hljs-keyword">GRANT</span> OPTION;
FLUSH PRIVILEGES;
</code></pre>
<p><strong>é…ç½®æ–‡ä»¶ä½ç½®ï¼ˆåŸºäºå®é™…æµ‹è¯•ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">C:\Program Files\MySQL\MySQL <span class="hljs-built_in">Server</span> <span class="hljs-number">8.4</span>\my.ini
</code></pre>
<p><strong>æœ€å°é…ç½®å†…å®¹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">port</span>=<span class="hljs-number">3306</span>
<span class="hljs-attr">bind-address</span>=<span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span>
<span class="hljs-attr">character-set-server</span>=utf8mb4
<span class="hljs-attr">collation-server</span>=utf8mb4_general_ci

<span class="hljs-section">[client]</span>
<span class="hljs-attr">default-character-set</span>=utf8mb4
</code></pre>
<p><strong>éªŒè¯é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'bind_address'</span>;  <span class="hljs-comment">-- åº”æ˜¾ç¤º 0.0.0.0 æˆ– *</span>
</code></pre>
<p><strong>è¿œç¨‹è¿æ¥æ£€æŸ¥ï¼š</strong></p>
<ol>
<li>ç”¨æˆ· host = <code>%</code> âœ…</li>
<li>bind_address = <code>0.0.0.0</code> æˆ– <code>*</code> âœ…</li>
<li>é˜²ç«å¢™æ”¾è¡Œ 3306 âœ…</li>
</ol>
<hr/>
<p><em>æœ¬æ–‡æ¡£åŸºäº Windows MySQL 8.4 å®é™…æµ‹è¯•ç»“æœæ•´ç†ï¼Œç¡®ä¿æ‰€æœ‰é…ç½®è·¯å¾„å’ŒéªŒè¯æ–¹æ³•å‡ç»è¿‡å®é™…éªŒè¯ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(10)]]></title>    <link>https://juejin.cn/post/7584831190731374618</link>    <guid>https://juejin.cn/post/7584831190731374618</guid>    <pubDate>2025-12-18T09:47:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584831190731374618" data-draft-id="7585021315691216906" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(10)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:47:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(10)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:47:51.000Z" title="Thu Dec 18 2025 09:47:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 10 ç« ï¼šç»„ä»¶åŒ–è®¾è®¡æ€æƒ³</h2>
<blockquote>
<p>â€œå¥½çš„æ¶æ„ä¸æ˜¯è®¾è®¡å‡ºæ¥çš„ï¼Œè€Œæ˜¯æ¼”è¿›å‡ºæ¥çš„ã€‚ä½†ç»„ä»¶æ¨¡å‹é™¤å¤–ï¼Œå®ƒå¾—ä¸€å¼€å§‹å°±æƒ³æ¸…æ¥šã€‚â€</p>
</blockquote>
<p>åœ¨ä¼ ç»Ÿçš„æ´»åŠ¨å¼€å‘ä¸­ï¼Œæ¯ä¸ªé¡µé¢éƒ½æ˜¯â€œç¡¬ç¼–ç â€çš„ã€‚ä»Šå¤©è¦æ”¹ä¸ªæ–‡æ¡ˆï¼Œæ˜å¤©è¦æ¢å¼ å›¾ï¼Œç¨‹åºå‘˜çš„ç”Ÿå‘½å°±æµªè´¹åœ¨è¿™äº›çäº‹ä¸Šã€‚</p>
<p><strong>æˆ‘ä»¬çš„ç›®æ ‡</strong>ï¼šæ‰“é€ ä¸€ä¸ªâ€œä½ä»£ç ç¼–è¾‘å™¨â€ï¼Œè®©è¿è¥äººå‘˜ï¼ˆç¤¾é•¿/ç®¡ç†å‘˜ï¼‰èƒ½åƒæ­ç§¯æœ¨ä¸€æ ·è‡ªå·±æ‹¼å‡ºä¸€ä¸ªç²¾ç¾çš„æ´»åŠ¨é¡µé¢ã€‚</p>
<p>è¦å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæ ¸å¿ƒåœ¨äºï¼š<strong>ä¸€åˆ‡çš†ç»„ä»¶ï¼Œç»„ä»¶çš†æ•°æ®</strong>ã€‚</p>
<h3 data-id="heading-1">10.1 ä»€ä¹ˆæ˜¯"æ´»åŠ¨é¡µé¢é…ç½®ç»„ä»¶"ï¼Ÿ</h3>
<p>åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªæ´»åŠ¨é¡µé¢ä¸æ˜¯ <code>.vue</code> æ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ä¸² JSON æ•°æ®ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸€ä¸ªåŒ…å«â€œå¤´å›¾ + æ ‡é¢˜ + æŠ¥åæŒ‰é’®â€çš„é¡µé¢ï¼Œåœ¨æ•°æ®åº“é‡Œé•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"src"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"banner.jpg"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸­ç§‹æ™šä¼š"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"fontSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"button"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç«‹å³æŠ¥å"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p>æˆ‘ä»¬çš„æ¸²æŸ“å¼•æ“ï¼ˆRuntimeï¼‰è¯»å–è¿™ä¸ªæ•°ç»„ï¼Œä¾æ¬¡æŠŠå®ƒä»¬ç”»åˆ°å±å¹•ä¸Šã€‚è¿™å°±æ˜¯<strong>æ•°æ®é©±åŠ¨ UI</strong>ã€‚</p>
<h3 data-id="heading-2">10.2 ç»„ä»¶æ¨¡å‹è®¾è®¡</h3>
<p>æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€å¥—æ ‡å‡†ï¼Œè§„å®šæ¯ä¸ªç»„ä»¶é•¿ä»€ä¹ˆæ ·ã€‚è¿™å¥—æ ‡å‡†å°±æ˜¯ <strong>Component Schema</strong>ã€‚</p>
<h4 data-id="heading-3">é€šç”¨ç»“æ„ (<code>ActivityComponent</code>)</h4>
<p>æ‰€æœ‰ç»„ä»¶éƒ½å¿…é¡»éµå¾ªè¿™ä¸ªæ¥å£å®šä¹‰ (<code>src/types/activity.d.ts</code>)ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ActivityComponent</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å”¯ä¸€ID (å¦‚ "w1710001")ï¼Œç”¨äºæŸ¥æ‰¾å’Œæ›´æ–°</span>
  <span class="hljs-attr">type</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// ç»„ä»¶ç±»å‹ (å¦‚ "text", "image")</span>
  <span class="hljs-attr">order</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// æ’åºæƒé‡</span>
  <span class="hljs-attr">visible</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// æ˜¯å¦å¯è§</span>
  <span class="hljs-attr">style</span>: {
    <span class="hljs-comment">// é€šç”¨æ ·å¼å®¹å™¨</span>
    marginTop?: <span class="hljs-built_in">number</span>
    padding?: <span class="hljs-built_in">number</span>
    <span class="hljs-comment">// ...</span>
  }
  <span class="hljs-attr">config</span>: <span class="hljs-built_in">any</span> <span class="hljs-comment">// ç»„ä»¶ç‰¹æœ‰çš„ä¸šåŠ¡é…ç½® (AnyScript?? ä¸ï¼Œä¸‹é¢ç»†è¯´)</span>
}
</code></pre>
<h4 data-id="heading-4">å…·ä½“ç»„ä»¶å®šä¹‰</h4>
<h5 data-id="heading-5">1. æ–‡æœ¬ç»„ä»¶ (<code>text</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">TextConfig</span> {
  <span class="hljs-attr">content</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æ–‡æœ¬å†…å®¹</span>
  <span class="hljs-attr">fontSize</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// å­—å· (é»˜è®¤ 32)</span>
  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å­—ä½“é¢œè‰²</span>
  <span class="hljs-attr">lineHeight</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// è¡Œé«˜ (é»˜è®¤ 1.6)</span>
  <span class="hljs-attr">bold</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// åŠ ç²—</span>
  <span class="hljs-attr">decorType</span>: <span class="hljs-string">'none'</span> | <span class="hljs-string">'underline'</span> | <span class="hljs-string">'through'</span> | <span class="hljs-string">'overline'</span> <span class="hljs-comment">// è£…é¥°çº¿ç±»å‹</span>
  <span class="hljs-attr">decorColor</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// è£…é¥°çº¿é¢œè‰²</span>
  <span class="hljs-attr">decorTextColor</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// è£…é¥°æ–‡å­—é¢œè‰²</span>
}
</code></pre>
<h5 data-id="heading-6">2. å›¾ç‰‡ç»„ä»¶ (<code>image</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ImageConfig</span> {
  <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å›¾ç‰‡åœ°å€</span>
}
</code></pre>
<h5 data-id="heading-7">3. æŒ‰é’®ç»„ä»¶ (<code>button</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ButtonConfig</span> {
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æŒ‰é’®æ–‡æ¡ˆ</span>
}
</code></pre>
<h5 data-id="heading-8">4. åˆ†å‰²çº¿ç»„ä»¶ (<code>divider</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">DividerConfig</span> {
  <span class="hljs-attr">styleType</span>: <span class="hljs-string">'simple'</span> | <span class="hljs-string">'text'</span> <span class="hljs-comment">// æ ·å¼ç±»å‹</span>
  <span class="hljs-attr">color</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// çº¿æ¡é¢œè‰²</span>
  <span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æ ‡é¢˜æ–‡å­—</span>
  <span class="hljs-attr">description</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æè¿°ä¿¡æ¯</span>
  <span class="hljs-attr">textColor</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// æ–‡å­—é¢œè‰²</span>
}
</code></pre>
<h5 data-id="heading-9">5. å€’è®¡æ—¶ç»„ä»¶ (<code>countdown</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">CountdownConfig</span> {
  <span class="hljs-attr">targetTime</span>: <span class="hljs-built_in">number</span> <span class="hljs-comment">// ç›®æ ‡æ—¶é—´æˆ³</span>
  <span class="hljs-attr">textPrefix</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// å‰ç¼€æ–‡æ¡ˆ</span>
  <span class="hljs-attr">stylePreset</span>: <span class="hljs-string">'classic'</span> | <span class="hljs-string">'modern'</span> <span class="hljs-comment">// æ ·å¼é¢„è®¾</span>
}
</code></pre>
<h5 data-id="heading-10">6. è§†é¢‘ç»„ä»¶ (<code>video</code>)</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">VideoConfig</span> {
  <span class="hljs-attr">src</span>: <span class="hljs-built_in">string</span> <span class="hljs-comment">// è§†é¢‘é“¾æ¥</span>
  <span class="hljs-attr">autoplay</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// è‡ªåŠ¨æ’­æ”¾</span>
  <span class="hljs-attr">loop</span>: <span class="hljs-built_in">boolean</span> <span class="hljs-comment">// å¾ªç¯æ’­æ”¾</span>
}
</code></pre>
<h3 data-id="heading-11">10.3 ç»„ä»¶æ³¨å†Œä¸æ¸²æŸ“æœºåˆ¶</h3>
<p>æœ‰äº†æ•°æ®æ¨¡å‹ï¼Œå‰ç«¯å¦‚ä½•æŠŠå®ƒä»¬å˜æˆ Vue ç»„ä»¶ï¼Ÿ</p>
<h4 data-id="heading-12">ç»„ä»¶æ˜ å°„è¡¨ (Component Map)</h4>
<p>æˆ‘ä»¬ä¸éœ€è¦å†™ä¸€å † <code>if (type === 'text')</code>ã€‚Vue çš„ <code>&lt;component :is="..."&gt;</code> æ˜¯å®ç°åŠ¨æ€æ¸²æŸ“çš„ç»ä½³å·¥å…·ã€‚</p>
<p>è™½ç„¶ Vue æ”¯æŒåŠ¨æ€å¯¼å…¥ï¼Œä½†åœ¨å°ç¨‹åºç¯å¢ƒä¸­ï¼Œæ›´æ¨è<strong>é™æ€æ³¨å†Œ</strong>ä»¥ä¿è¯å…¼å®¹æ€§ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- ActivityDesign/index.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"item in components"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"item.id"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ImageWidget</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"item.type === 'image'"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">TextWidget</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"item.type === 'text'"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ButtonWidget</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">"item.type === 'button'"</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p><em>(æ³¨ï¼šè™½ç„¶å†™äº† if-elseï¼Œä½†è¿™åªæ˜¯ä¸ºäº†ç±»å‹å®‰å…¨å’Œ Props ä¼ é€’çš„æ˜¾å¼æ§åˆ¶ã€‚æœ¬è´¨ä¸Šä¾ç„¶æ˜¯æ ¹æ® Type æ¸²æŸ“ Widget)</em></p>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
æˆ‘ä»¬å®šä¹‰äº†ç»„ä»¶çš„â€œåŸºå› â€â€”â€”JSON Schemaã€‚åªè¦ç¬¦åˆè¿™ä¸ª Schema çš„æ•°æ®ï¼Œéƒ½èƒ½è¢«æˆ‘ä»¬çš„ç³»ç»Ÿè¯†åˆ«å¹¶æ¸²æŸ“ã€‚ä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†äº²æ‰‹æ‰“é€ é‚£ä¸ªèƒ½ç”Ÿæˆè¿™äº› JSON çš„<strong>å¯è§†åŒ–ç¼–è¾‘å™¨</strong>ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ11-å¯è§†åŒ–ç¼–è¾‘å™¨å®ç°</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(12)]]></title>    <link>https://juejin.cn/post/7585021315691249674</link>    <guid>https://juejin.cn/post/7585021315691249674</guid>    <pubDate>2025-12-18T09:50:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691249674" data-draft-id="7585013463858413618" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(12)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-18T09:50:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shaneyxs"/> <meta itemprop="url" content="https://juejin.cn/user/835284566026958"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 å®ç°CloudBaseäº‘å¼€å‘ + ä½ä»£ç å…¨æ ˆå¼€å‘æ´»åŠ¨ç®¡ç†å°ç¨‹åº(12)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/835284566026958/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shaneyxs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:50:58.000Z" title="Thu Dec 18 2025 09:50:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬ 12 ç« ï¼šç»„ä»¶æ¸²æŸ“å¼•æ“</h2>
<blockquote>
<p>â€œç¼–è¾‘å™¨è´Ÿè´£ç”Ÿäº§æ•°æ®ï¼Œæ¸²æŸ“å¼•æ“è´Ÿè´£æ¶ˆè´¹æ•°æ®ã€‚â€</p>
</blockquote>
<p>æ¸²æŸ“å¼•æ“ (Rendering Engine) æ˜¯è¿æ¥æ•°æ®ä¸ç•Œé¢çš„æœ€åä¸€å…¬é‡Œã€‚å®ƒä¸ä»…è¿è¡Œåœ¨ç”¨æˆ·ç«¯çš„å±•ç¤ºé¡µï¼Œä¹Ÿè¿è¡Œåœ¨ç¼–è¾‘å™¨å†…éƒ¨ï¼ˆä½œä¸ºé¢„è§ˆï¼‰ã€‚</p>
<h3 data-id="heading-1">12.1 è¿è¡Œæ—¶ vs ç¼–è¾‘æ—¶</h3>
<p>åœ¨æˆ‘ä»¬çš„æ¶æ„ä¸­ï¼Œç»„ä»¶ (<code>src/components/ActivityDesign/widget/*</code>) è¢«è®¾è®¡ä¸º<strong>åŒæ¨¡æ€</strong>ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- widget/Button.vue --&gt;
&lt;script setup&gt;
const props = defineProps({
  mode: { type: String, default: 'view' }, // 'view' | 'edit'
  isPreview: Boolean
})

const handleClick = () =&gt; {
  // ç¼–è¾‘æ¨¡å¼ä¸‹ï¼Œç‚¹å‡»ä¸è§¦å‘ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯è¢«å¤–å±‚æ•è·ç”¨äºé€‰ä¸­
  if (props.mode === 'edit' &amp;&amp; !props.isPreview) return

  // è¿è¡Œæ—¶é€»è¾‘ï¼šè·³è½¬æŠ¥åé¡µ
  uni.navigateTo({ url: '/pages/registration/index' })
}
&lt;/script&gt;
</code></pre>
<p>è¿™ç§è®¾è®¡ä¿è¯äº†<strong>æ‰€è§å³æ‰€å¾—</strong>ã€‚ç¼–è¾‘å™¨é‡Œçœ‹åˆ°çš„ç»„ä»¶ï¼Œå’Œæœ€ç»ˆç”¨æˆ·çœ‹åˆ°çš„ç»„ä»¶ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€å¥—ä»£ç ã€‚</p>
<h3 data-id="heading-2">12.2 åŠ¨æ€ç»„ä»¶æ¸²æŸ“</h3>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ç¼–è¾‘å™¨é‡Œä½¿ç”¨äº† <code>v-if/v-else-if</code> æ¥æšä¸¾ç»„ä»¶ï¼Œä½†åœ¨æœ€ç»ˆçš„<strong>æ´»åŠ¨è¯¦æƒ…é¡µ (<code>pages/activity/detail</code>)</strong>ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°è£…ä¸€ä¸ªçº¯ç²¹çš„æ¸²æŸ“å™¨ç»„ä»¶ <code>ActivityRenderer</code>ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;view class="activity-renderer"&gt;
    &lt;view v-for="item in components" :key="item.id" class="widget-wrapper" :style="item.style"&gt;
      &lt;!-- è¿™é‡Œçš„ç»„ä»¶åªè´Ÿè´£å±•ç¤ºï¼Œæ²¡æœ‰ä»»ä½•ç¼–è¾‘é€»è¾‘ --&gt;
      &lt;ImageWidget v-if="item.type === 'image'" :item="item" /&gt;
      &lt;TextWidget v-else-if="item.type === 'text'" :item="item" /&gt;
      &lt;!-- ... --&gt;
    &lt;/view&gt;
  &lt;/view&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-3">12.3 æ ·å¼è®¡ç®—ä¸åº”ç”¨</h3>
<p>ç»„ä»¶çš„æ ·å¼æ¥æºæœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li><strong>Preset Styles (é¢„è®¾æ ·å¼)</strong>: ç»„ä»¶å†…éƒ¨å†™æ­»çš„ CSSï¼Œæ¯”å¦‚æŒ‰é’®çš„åœ†è§’ã€é˜´å½±ã€‚</li>
<li><strong>Config Styles (é…ç½®æ ·å¼)</strong>: ç”¨æˆ·åœ¨å±æ€§é¢æ¿è®¾ç½®çš„é¢œè‰²ã€å­—å·ã€‚</li>
</ol>
<p>åœ¨ Widget å†…éƒ¨ï¼Œæˆ‘ä»¬å°†é…ç½®æ˜ å°„ä¸ºå†…è”æ ·å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> style = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> ({
  <span class="hljs-attr">fontSize</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">fontSize</span> + <span class="hljs-string">'rpx'</span>,
  <span class="hljs-attr">color</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">color</span>,
  <span class="hljs-attr">textAlign</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">align</span>,
  <span class="hljs-attr">fontWeight</span>: props.<span class="hljs-property">item</span>.<span class="hljs-property">config</span>.<span class="hljs-property">bold</span> ? <span class="hljs-string">'bold'</span> : <span class="hljs-string">'normal'</span>
}))
</code></pre>
<h3 data-id="heading-4">12.4 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h3>
<p>å½“é¡µé¢åŒ…å«å¤§é‡ç»„ä»¶ï¼ˆå¦‚é•¿å›¾æ–‡é¡µé¢ï¼‰æ—¶ï¼Œæ¸²æŸ“å¯èƒ½ä¼šå¡é¡¿ã€‚</p>
<ol>
<li><strong>æŒ‰éœ€åŠ è½½</strong>: åªæœ‰è¿›å…¥è§†å£çš„ç»„ä»¶æ‰åŠ è½½å›¾ç‰‡èµ„æºï¼ˆUniApp çš„ <code>image</code> ç»„ä»¶è‡ªå¸¦ lazy-loadï¼‰ã€‚</li>
<li><strong>å±‚çº§ä¼˜åŒ–</strong>: å°½é‡å‡å°‘åµŒå¥—ã€‚æˆ‘ä»¬çš„ Widget å†…éƒ¨ç»“æ„éå¸¸æ‰å¹³ã€‚</li>
<li><strong>é™æ€æå‡</strong>: å¯¹äºä¸ä¾èµ–é…ç½®çš„é™æ€éƒ¨åˆ†ï¼ŒVue ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¼˜åŒ–ã€‚</li>
</ol>
<hr/>
<p><strong>æœ¬ç« å°ç»“</strong>ï¼š
ç»„ä»¶åŒ–æ€æƒ³è´¯ç©¿äº†ä»æ•°æ®åº“è®¾è®¡ã€ç¼–è¾‘å™¨å®ç°åˆ°å‰ç«¯æ¸²æŸ“çš„å§‹ç»ˆã€‚é€šè¿‡è¿™å¥—ä½“ç³»ï¼Œæˆ‘ä»¬ä¸ä»…å®ç°äº†â€œå¯é…ç½®â€ï¼Œæ›´å®ç°äº†â€œå¯ç»´æŠ¤â€å’Œâ€œå¯æ‰©å±•â€ã€‚</p>
<p>è‡³æ­¤ï¼Œå¯è§†åŒ–ç¼–è¾‘å™¨çš„æ ¸å¿ƒç§˜å¯†å·²å…¨éƒ¨æ­æ™“ã€‚æ¥ä¸‹æ¥çš„ç« èŠ‚ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€äº›é”¦ä¸Šæ·»èŠ±çš„é«˜çº§ç‰¹æ€§ï¼Œæ¯”å¦‚æ–‡ä»¶ä¸Šä¼ å’Œæµ·æŠ¥ç”Ÿæˆã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=url" target="_blank" title="url" ref="nofollow noopener noreferrer">ä¸‹ä¸€ç« ï¼ˆ13-æ–‡ä»¶ä¸Šä¼ ä¸äº‘å­˜å‚¨ï¼‰</a></strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆå››ï¼‰å®æˆ˜ï¼šè§£æ”¾ç»˜åˆ¶UIçš„ç¹çå·¥ä½œ]]></title>    <link>https://juejin.cn/post/7585005164726370342</link>    <guid>https://juejin.cn/post/7585005164726370342</guid>    <pubDate>2025-12-18T09:54:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585005164726370342" data-draft-id="7584831190731096090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆå››ï¼‰å®æˆ˜ï¼šè§£æ”¾ç»˜åˆ¶UIçš„ç¹çå·¥ä½œ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T09:54:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆå››ï¼‰å®æˆ˜ï¼šè§£æ”¾ç»˜åˆ¶UIçš„ç¹çå·¥ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:54:26.000Z" title="Thu Dec 18 2025 09:54:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…¬å¸å½“å‰é¡¹ç›®æ˜¯ä½¿ç”¨Figma UIè®¾è®¡å·¥å…·ï¼Œä»¥è¿™ä¸ªä¸ºä¾‹ã€‚</p>
<p>Figmaå½“å‰æ˜¯æœ‰MCPä¾›å¯¹å¤–ä½¿ç”¨çš„ã€‚é…ç½®æ•™ç¨‹è§Figmaå®˜ç½‘ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç¼–è¾‘skill</h2>
<p>çœ‹å®Œä¹‹å‰çš„æ–‡ç« å¤§æ¦‚å°±äº†è§£äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªskillã€‚</p>
<p>åœ¨<code>skills</code>æ–‡ä»¶å¤¹åˆ›å»ºä¸€ä¸ªå­æ–‡ä»¶å¤¹ï¼Œå­æ–‡ä»¶å¤¹åå­—æ˜¯<code>figma_ui_to_xml</code>ï¼Œç„¶ååœ¨<code>figma_ui_to_xml</code>å†…åˆ›å»ºä¸€ä¸ªMarkdownæ–‡ä»¶ï¼Œæ–‡ä»¶åæ˜¯å›ºå®šçš„<code>SKILL.md</code>ã€‚</p>
<p>ç¼–è¾‘<code>name</code>å’Œ<code>description</code>ï¼Œä¸ºäº†è®©skillè¢«è°ƒç”¨ï¼Œæˆ‘åœ¨<code>description</code>åŠ ä¸Šäº†ç²˜è´´Figma MCPé“¾æ¥æ—¶ä¸€å®šæœ‰çš„ä¸€æ®µæ–‡æ¡ˆ<code>Implement this Figma design.</code>ã€‚ä¸‹é¢æ˜¯Figma MCPç²˜è´´é“¾æ¥çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Implement <span class="hljs-keyword">this</span> Figma design.
<span class="hljs-meta">@https</span>:<span class="hljs-comment">//www.figma.com/design/Lod2RUqzBCaISqN4/FOXX-UI-library?node-id=43080-44506&amp;m=dev</span>
</code></pre>
<p>ä¸‹é¢æ˜¯<code>name</code>å’Œ<code>description</code></p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: figma_ui_to_xml
description: Implement <span class="hljs-keyword">this</span> Figma designã€‚å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXMLã€‚
---
</code></pre>
<p>åœ¨SKILL.mdä¸­æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µç¼–è¾‘æç¤ºè¯ï¼ŒæŠŠæ‰€æœ‰çš„å¯ä»¥å‚è€ƒçš„æ–‡ä»¶ï¼Œä¾‹å¦‚æŠ½å–çš„styleï¼Œé¢œè‰²ç­‰éƒ½å†™è¿›å»ï¼Œä¸‹é¢æ˜¯æˆ‘åˆ å‡è¿‡æ•æ„Ÿä¿¡æ¯åçš„æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">---
name: figma_ui_to_xml
description: Implement <span class="hljs-keyword">this</span> Figma designã€‚å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXMLã€‚
---
# å°†Figma MCPé“¾æ¥è½¬æ¢ä¸ºAndroidåŸç”ŸXML

â€¢ ä¸¥æ ¼æŒ‰ä¸‹é¢æµç¨‹æ‰§è¡Œï¼ˆåç»­æ¯æ¬¡ä½ ç»™ Figma MCP é“¾æ¥éƒ½ç…§æ­¤åšï¼‰ï¼š

  <span class="hljs-number">1.</span> æä¾› Figma MCP åŸå§‹æ•°æ®é“¾æ¥/èŠ‚ç‚¹é“¾æ¥åï¼Œå…ˆç”¨ Figma MCP æŠŠèŠ‚ç‚¹çš„ç»“æ„ä¿¡æ¯ã€å°ºå¯¸/ä½ç½®ã€é¢œè‰²/å˜é‡ã€æ–‡æœ¬å†…å®¹ã€å­—ä½“ä¸å­—å·ã€é—´è·ã€åœ†è§’/æè¾¹/é˜´å½±ç­‰å…¨éƒ¨æå–
     å‡ºæ¥ï¼ˆå¿…è¦æ—¶å†å– screenshot è¾…åŠ©æ ¸å¯¹ï¼‰ã€‚
  <span class="hljs-number">2.</span> æŠŠæå–åˆ°çš„è®¾è®¡å…ƒç´ æ˜ å°„æˆ Android åŸç”Ÿ Viewï¼šæ ¹å¸ƒå±€ä¸€å¾‹ ConstraintLayoutï¼Œmatch_parentï¼Œå¹¶æŠŠ constraints å†™å®Œæ•´ï¼Œé¿å…è¿è¡Œæ—¶è·‘åˆ° (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)ã€‚
  <span class="hljs-number">3.</span> ä¸¥æ ¼æŒ‰é¡¹ç›®è§„èŒƒç”Ÿæˆ XMLï¼š
      - View å°½é‡ç”¨ AppCompatï¼ˆå¦‚ AppCompatTextViewï¼‰ã€‚
      - æ‰€æœ‰ id ç”¨ snake_caseï¼ˆä¾‹å¦‚ @+id/tv_titleï¼‰ã€‚
      - å°ºå¯¸ç”¨ dpï¼Œå­—å·ç”¨ spã€‚
      - æ–‡æœ¬ä¼˜å…ˆæ”¾ res/values/strings.xmlï¼›å¦‚æœç¡®è®¤æ‰¾ä¸åˆ°å¯¹åº” keyï¼Œå°±æŒ‰ä½ è§„åˆ™åœ¨ XML é‡Œå†™æ­»æ–‡æ¡ˆã€‚
      - é¢œè‰²ä¼˜å…ˆç”¨ res/values/colors.xml èµ„æºï¼›æ²¡æœ‰å°±å†™æ­» #RRGGBBã€‚
      - å­—ä½“æŒ‰çº¦å®šï¼šRegular/Light/Medium â†’ roboto_regular / roboto_light / roboto_mediumã€‚
      - æ‰€æœ‰æ–‡æœ¬æ§ä»¶ç»Ÿä¸€åŠ  android:lineSpacingExtra=<span class="hljs-string">"3dp"</span>ï¼Œå¿½ç•¥ letterSpacingã€‚
  <span class="hljs-number">4.</span> ä¼˜å…ˆå¤ç”¨é¡¹ç›®å·²æœ‰èµ„æºï¼š
      - res/drawable é‡Œç°æœ‰çš„èƒŒæ™¯/åœ†è§’/è¾¹æ¡†å°½é‡ç›´æ¥å¼•ç”¨ï¼Œä¸é‡å¤é€ ã€‚
      - Button ä¼˜å…ˆå¥—ç”¨ res/values/styles_buttons.xml é‡Œçš„å…¬å…±æ ·å¼ã€‚
      - TextView ä¼˜å…ˆå¥—ç”¨ res/values/styles_textviews.xml é‡Œçš„å…¬å…±æ ·å¼ã€‚
  <span class="hljs-number">5.</span> è¾“å‡ºæœ€ç»ˆçš„ Android XML å¸ƒå±€ä»£ç ï¼ˆå¦‚æœéœ€è¦è¡¥å…… strings/colors/drawable çš„å»ºè®®ï¼Œå•ç‹¬åˆ—å‡ºâ€œå»ºè®®æ–°å¢é¡¹â€ï¼Œä½†ä¸å¼ºè¡Œå‘æ•£ï¼‰ã€‚
</code></pre>
<h2 data-id="heading-1">äºŒã€å®é™…ä½¿ç”¨</h2>
<p>è¿™ä¸ªå°±å¾ˆç®€å•äº†, ä»Figma MCPç²˜è´´é“¾æ¥ï¼Œå›è½¦å³å¯ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨ä¸Šé¢çš„skillã€‚ä½¿ç”¨highæ¨¡å‹å¯èƒ½æ—¶é—´æ¯”è¾ƒé•¿ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¼šå„¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0840b9431c34840b1014f58a3df573c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGltZUZpbmU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766656764&amp;x-signature=6LZqIqG1LnBmj72IXATda2B7fRI%3D" alt="image.png" loading="lazy"/></p>
<p>å®é™…ç”Ÿæˆçš„xml,å¯ç”¨åº¦å·²ç»ç›¸å½“é«˜äº†ï¼Œæœ€åè‡ªå·±å¾®è°ƒä¸€ä¸‹ã€‚</p>
<p>å¦‚æœç”ŸæˆComposeå…¶å®åŒç†ï¼Œä¸€é€šç™¾é€šã€‚</p>
<p>ä¸çŸ¥é“å…¶ä»–è®¾è®¡å·¥å…·æœ‰æ²¡æœ‰MCPï¼Œä¾‹å¦‚è“æ¹–ï¼Œæ²¡å»äº†è§£ã€‚</p>
<p><strong>ä¸‹æœŸè§£æ”¾APIæ¥å£å¼€å‘çš„ç¹çå·¥ä½œ</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutteræ¡†æ¶æ ¸å¿ƒåŸç†æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7584358227611402282</link>    <guid>https://juejin.cn/post/7584358227611402282</guid>    <pubDate>2025-12-17T03:18:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584358227611402282" data-draft-id="7584358227611369514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Flutteræ¡†æ¶æ ¸å¿ƒåŸç†æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-17T03:18:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ·çº³ç™¾å·æœ¬å°Š76064"/> <meta itemprop="url" content="https://juejin.cn/user/184373685793127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Flutteræ¡†æ¶æ ¸å¿ƒåŸç†æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/184373685793127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµ·çº³ç™¾å·æœ¬å°Š76064
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T03:18:41.000Z" title="Wed Dec 17 2025 03:18:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    15
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“– æ¦‚è¿°</h2>
<p>è¿™ä»½æ–‡æ¡£åŸºäºFlutteræ¡†æ¶çš„æ ¸å¿ƒæºç ï¼Œæ·±å…¥è§£æFlutterçš„æ¶æ„åŸç†å’Œå·¥ä½œæœºåˆ¶ã€‚Flutteré‡‡ç”¨äº†å£°æ˜å¼UIæ¡†æ¶ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯<strong>ä¸€åˆ‡çš†Widget</strong>ï¼Œé€šè¿‡Widgetæ ‘æ¥æè¿°ç”¨æˆ·ç•Œé¢ã€‚</p>
<h2 data-id="heading-1">ğŸ—ï¸ Flutteræ¶æ„çš„ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-2">1. Widgetï¼ˆé…ç½®æè¿°ï¼‰</h3>
<p><strong>Widgetæ˜¯ä¸å¯å˜çš„é…ç½®æè¿°</strong>ï¼Œå®ƒæè¿°äº†ç”¨æˆ·ç•Œé¢çš„ä¸€éƒ¨åˆ†åº”è¯¥å¦‚ä½•é…ç½®ã€‚</p>
<h4 data-id="heading-3">ğŸ”‘ Widgetçš„æ ¸å¿ƒç‰¹å¾ï¼š</h4>
<ul>
<li>
<p><strong>ä¸å¯å˜æ€§</strong>ï¼šæ‰€æœ‰å­—æ®µå¿…é¡»æ˜¯<code>final</code>çš„</p>
</li>
<li>
<p><strong>è½»é‡çº§</strong>ï¼šWidgetæœ¬èº«ä¸åŒ…å«çŠ¶æ€ï¼Œåªæ˜¯é…ç½®ä¿¡æ¯</p>
</li>
<li>
<p><strong>å¯å¤ç”¨</strong>ï¼šåŒä¸€ä¸ªWidgetå¯ä»¥åœ¨æ ‘ä¸­å¤šæ¬¡ä½¿ç”¨</p>
</li>
<li>
<p><strong>å£°æ˜å¼</strong>ï¼šæè¿°UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Œè€Œä¸æ˜¯å¦‚ä½•æ„å»º</p>
</li>
</ul>
<h4 data-id="heading-4">ğŸ“ Widgetçš„ç±»å‹å±‚æ¬¡ï¼š</h4>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Widget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DiagnosticableTree</span> </span>{

<span class="hljs-keyword">const</span> Widget({<span class="hljs-keyword">this</span>.key});

<span class="hljs-keyword">final</span> Key? key; <span class="hljs-comment">// æ§åˆ¶Widgetåœ¨æ ‘ä¸­çš„æ›¿æ¢é€»è¾‘</span>

<span class="hljs-comment">// æ ¸å¿ƒæ–¹æ³•ï¼šå°†Widgetè½¬æ¢ä¸ºElement</span>

<span class="hljs-built_in">Element</span> createElement();

}

</code></pre>
<p><strong>Widgetçš„ä¸‰å¤§å­ç±»ï¼š</strong></p>
<ol>
<li><strong>StatelessWidget</strong> - æ— çŠ¶æ€Widget</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StatelessWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Widget</span> </span>{

Widget build(BuildContext context); <span class="hljs-comment">// æ„å»ºUIçš„æ ¸å¿ƒæ–¹æ³•</span>

}

</code></pre>
<ol start="2">
<li><strong>StatefulWidget</strong> - æœ‰çŠ¶æ€Widget</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StatefulWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Widget</span> </span>{

State createState(); <span class="hljs-comment">// åˆ›å»ºçŠ¶æ€å¯¹è±¡</span>

}

</code></pre>
<ol start="3">
<li><strong>RenderObjectWidget</strong> - æ¸²æŸ“å¯¹è±¡Widget</li>
</ol>
<ul>
<li>
<p>ç›´æ¥å‚ä¸æ¸²æŸ“æ ‘çš„æ„å»º</p>
</li>
<li>
<p>åŒ…æ‹¬<code>SingleChildRenderObjectWidget</code>å’Œ<code>MultiChildRenderObjectWidget</code></p>
</li>
</ul>
<h3 data-id="heading-5">2. Elementï¼ˆå®ä¾‹åŒ–ç®¡ç†ï¼‰</h3>
<p><strong>Elementæ˜¯Widgetåœ¨æ ‘ä¸­ç‰¹å®šä½ç½®çš„å®ä¾‹åŒ–</strong>ï¼Œè´Ÿè´£ç®¡ç†Widgetçš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<h4 data-id="heading-6">ğŸ”„ Elementçš„ç”Ÿå‘½å‘¨æœŸï¼š</h4>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Element</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DiagnosticableTree</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BuildContext</span> </span>{

<span class="hljs-comment">// ç”Ÿå‘½å‘¨æœŸçŠ¶æ€</span>

<span class="hljs-keyword">enum</span> _ElementLifecycle { initial, active, inactive, defunct }

}

</code></pre>
<p><strong>ç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼š</strong></p>
<ol>
<li><strong>åˆ›å»ºé˜¶æ®µï¼ˆinitialï¼‰</strong></li>
</ol>
<ul>
<li>
<p>é€šè¿‡<code>Widget.createElement()</code>åˆ›å»º</p>
</li>
<li>
<p>æ­¤æ—¶Elementè¿˜æœªæŒ‚è½½åˆ°æ ‘ä¸Š</p>
</li>
</ul>
<ol start="2">
<li><strong>æ¿€æ´»é˜¶æ®µï¼ˆactiveï¼‰</strong></li>
</ol>
<ul>
<li>
<p>è°ƒç”¨<code>mount()</code>æ–¹æ³•æŒ‚è½½åˆ°æ ‘ä¸Š</p>
</li>
<li>
<p>Elementå˜ä¸ºæ´»è·ƒçŠ¶æ€ï¼Œå¯èƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Š</p>
</li>
<li>
<p>è´Ÿè´£åˆ›å»ºå­Widgetå¹¶è°ƒç”¨<code>attachRenderObject</code></p>
</li>
</ul>
<ol start="3">
<li><strong>æ›´æ–°é˜¶æ®µ</strong></li>
</ol>
<ul>
<li>
<p>å½“çˆ¶Widgeté‡å»ºæ—¶ï¼Œè°ƒç”¨<code>update()</code>æ–¹æ³•</p>
</li>
<li>
<p>æ–°Widgetå¿…é¡»ä¸æ—§Widgetæœ‰ç›¸åŒçš„<code>runtimeType</code>å’Œ<code>key</code></p>
</li>
</ul>
<ol start="4">
<li><strong>å¤±æ´»é˜¶æ®µï¼ˆinactiveï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å½“ç¥–å…ˆå†³å®šç§»é™¤æ­¤Elementæ—¶è°ƒç”¨<code>deactivate()</code></p>
</li>
<li>
<p>Elementä»æ¸²æŸ“æ ‘ä¸­ç§»é™¤ï¼ŒåŠ å…¥åˆ°å¤±æ´»åˆ—è¡¨</p>
</li>
<li>
<p>åªèƒ½ä¿æŒå¤±æ´»çŠ¶æ€åˆ°å½“å‰åŠ¨ç”»å¸§ç»“æŸ</p>
</li>
</ul>
<ol start="5">
<li><strong>é‡æ–°æ¿€æ´»æˆ–é”€æ¯</strong></li>
</ol>
<ul>
<li>
<p>å¦‚æœåœ¨å¸§ç»“æŸå‰é‡æ–°æ¿€æ´»ï¼šè°ƒç”¨<code>activate()</code></p>
</li>
<li>
<p>å¦‚æœæœªé‡æ–°æ¿€æ´»ï¼šè°ƒç”¨<code>unmount()</code>è¿›å…¥<code>defunct</code>çŠ¶æ€</p>
</li>
</ul>
<h4 data-id="heading-7">ğŸ¯ Elementçš„æ ¸å¿ƒèŒè´£ï¼š</h4>
<ul>
<li>
<p><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šç®¡ç†Widgetä»åˆ›å»ºåˆ°é”€æ¯çš„æ•´ä¸ªè¿‡ç¨‹</p>
</li>
<li>
<p><strong>æ ‘ç»“æ„ç»´æŠ¤</strong>ï¼šç»´æŠ¤Elementæ ‘çš„çˆ¶å­å…³ç³»</p>
</li>
<li>
<p><strong>æ¸²æŸ“å¯¹è±¡ç®¡ç†</strong>ï¼šåè°ƒWidgetæ ‘å’ŒRenderObjectæ ‘</p>
</li>
<li>
<p><strong>çŠ¶æ€ä¼ é€’</strong>ï¼šä½œä¸ºBuildContextæä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯</p>
</li>
</ul>
<h3 data-id="heading-8">3. BuildContextï¼ˆä¸Šä¸‹æ–‡æ¥å£ï¼‰</h3>
<p><strong>BuildContextæ˜¯Elementçš„æ¥å£</strong>ï¼Œæä¾›äº†Widgetæ„å»ºæ—¶éœ€è¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-9">ğŸ” BuildContextçš„æ ¸å¿ƒåŠŸèƒ½ï¼š</h4>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BuildContext</span> </span>{

<span class="hljs-comment">// ä¾èµ–ç®¡ç†</span>

T? dependOnInheritedWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> InheritedWidget&gt;();

<span class="hljs-comment">// æ ‘éå†</span>

<span class="hljs-keyword">void</span> visitAncestorElements(ConditionalElementVisitor visitor);

<span class="hljs-keyword">void</span> visitChildElements(ElementVisitor visitor);

<span class="hljs-comment">// æŸ¥æ‰¾ç¥–å…ˆ</span>

T? findAncestorWidgetOfExactType&lt;T <span class="hljs-keyword">extends</span> Widget&gt;();

T? findAncestorStateOfType&lt;T <span class="hljs-keyword">extends</span> State&gt;();

<span class="hljs-comment">// é€šçŸ¥åˆ†å‘</span>

<span class="hljs-keyword">void</span> dispatchNotification(Notification notification);

}

</code></pre>
<h2 data-id="heading-10">ğŸ”„ Flutterçš„æ„å»ºæµç¨‹</h2>
<h3 data-id="heading-11">1. Widgetæ ‘ â†’ Elementæ ‘ â†’ RenderObjectæ ‘</h3>
<pre><code class="hljs language-dart" lang="dart">
Widgetæ ‘ï¼ˆé…ç½®ï¼‰ <span class="hljs-built_in">Element</span>æ ‘ï¼ˆç®¡ç†ï¼‰ RenderObjectæ ‘ï¼ˆæ¸²æŸ“ï¼‰

â†“ â†“ â†“

MyApp MyAppElement RenderView

â†“ â†“ â†“

Scaffold ScaffoldElement RenderScaffold

â†“ â†“ â†“

Container ContainerElement RenderContainer

</code></pre>
<h3 data-id="heading-12">2. æ„å»ºè¿‡ç¨‹è¯¦è§£</h3>
<h4 data-id="heading-13">ğŸ¬ åˆå§‹æ„å»ºï¼š</h4>
<ol>
<li>
<p><strong>Widgetåˆ›å»º</strong>ï¼šå¼€å‘è€…åˆ›å»ºWidgetæ ‘</p>
</li>
<li>
<p><strong>Elementå®ä¾‹åŒ–</strong>ï¼šFrameworkè°ƒç”¨<code>createElement()</code></p>
</li>
<li>
<p><strong>æŒ‚è½½è¿‡ç¨‹</strong>ï¼šè°ƒç”¨<code>mount()</code>å°†ElementæŒ‚è½½åˆ°æ ‘ä¸Š</p>
</li>
<li>
<p><strong>æ¸²æŸ“å¯¹è±¡åˆ›å»º</strong>ï¼šRenderObjectWidgetåˆ›å»ºRenderObject</p>
</li>
<li>
<p><strong>å¸ƒå±€å’Œç»˜åˆ¶</strong>ï¼šRenderObjectæ‰§è¡Œlayoutå’Œpaint</p>
</li>
</ol>
<h4 data-id="heading-14">ğŸ”„ é‡å»ºè¿‡ç¨‹ï¼š</h4>
<ol>
<li>
<p><strong>setStateè§¦å‘</strong>ï¼šè°ƒç”¨<code>setState()</code>æ ‡è®°Elementä¸ºdirty</p>
</li>
<li>
<p><strong>è°ƒåº¦é‡å»º</strong>ï¼šFrameworkå°†dirty ElementåŠ å…¥é‡å»ºé˜Ÿåˆ—</p>
</li>
<li>
<p><strong>buildè°ƒç”¨</strong>ï¼šè°ƒç”¨<code>build()</code>æ–¹æ³•è·å–æ–°çš„Widgetæ ‘</p>
</li>
<li>
<p><strong>å·®å¼‚å¯¹æ¯”</strong>ï¼šé€šè¿‡<code>Widget.canUpdate()</code>åˆ¤æ–­æ˜¯å¦å¯ä»¥å¤ç”¨</p>
</li>
<li>
<p><strong>æ›´æ–°æˆ–æ›¿æ¢</strong>ï¼šå¤ç”¨åˆ™è°ƒç”¨<code>update()</code>ï¼Œå¦åˆ™åˆ›å»ºæ–°Element</p>
</li>
</ol>
<h2 data-id="heading-15">ğŸ”‘ Keyç³»ç»Ÿè¯¦è§£</h2>
<h3 data-id="heading-16">Keyçš„ä½œç”¨æœºåˆ¶</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Key</span> </span>{

<span class="hljs-keyword">const</span> Key();

}

  


<span class="hljs-comment">// æœ¬åœ°Key</span>

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LocalKey</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Key</span> </span>{

<span class="hljs-keyword">const</span> LocalKey();

}

  


<span class="hljs-comment">// å…¨å±€Key</span>

<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GlobalKey</span>&lt;<span class="hljs-title">T</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">StatefulWidget</span>&gt;&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title">Key</span> </span>{

BuildContext? <span class="hljs-keyword">get</span> currentContext;

Widget? <span class="hljs-keyword">get</span> currentWidget;

T? <span class="hljs-keyword">get</span> currentState;

}

</code></pre>
<h4 data-id="heading-17">ğŸ¯ Keyçš„ä½¿ç”¨åœºæ™¯ï¼š</h4>
<ol>
<li><strong>ValueKey</strong>ï¼šåŸºäºå€¼çš„æ ‡è¯†</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
ValueKey&lt;<span class="hljs-built_in">String</span>&gt;(<span class="hljs-string">'user_123'</span>)

</code></pre>
<ol start="2">
<li><strong>ObjectKey</strong>ï¼šåŸºäºå¯¹è±¡æ ‡è¯†çš„Key</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
ObjectKey(userObject)

</code></pre>
<ol start="3">
<li><strong>GlobalKey</strong>ï¼šå…¨å±€å”¯ä¸€æ ‡è¯†</li>
</ol>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">final</span> GlobalKey&lt;FormState&gt; _formKey = GlobalKey&lt;FormState&gt;();

</code></pre>
<h3 data-id="heading-18">Keyçš„å·¥ä½œåŸç†</h3>
<p><strong>Widgetæ›¿æ¢é€»è¾‘ï¼š</strong></p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> canUpdate(Widget oldWidget, Widget newWidget) {

<span class="hljs-keyword">return</span> oldWidget.runtimeType == newWidget.runtimeType

&amp;&amp; oldWidget.key == newWidget.key;

}

</code></pre>
<ul>
<li>
<p>å¦‚æœ<code>runtimeType</code>å’Œ<code>key</code>éƒ½ç›¸åŒï¼šæ›´æ–°Element</p>
</li>
<li>
<p>å¦‚æœä¸åŒï¼šç§»é™¤æ—§Elementï¼Œåˆ›å»ºæ–°Element</p>
</li>
</ul>
<h2 data-id="heading-19">ğŸ›ï¸ çŠ¶æ€ç®¡ç†æ¶æ„</h2>
<h3 data-id="heading-20">StatefulWidget + Stateæ¨¡å¼</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{

<span class="hljs-meta">@override</span>

State&lt;MyWidget&gt; createState() =&gt; _MyWidgetState();

}

  


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyWidget</span>&gt; </span>{

<span class="hljs-built_in">int</span> _counter = <span class="hljs-number">0</span>;

<span class="hljs-meta">@override</span>

<span class="hljs-keyword">void</span> initState() {

<span class="hljs-keyword">super</span>.initState();

<span class="hljs-comment">// åˆå§‹åŒ–é€»è¾‘</span>

}

<span class="hljs-meta">@override</span>

Widget build(BuildContext context) {

<span class="hljs-keyword">return</span> Text(<span class="hljs-string">'<span class="hljs-subst">$_counter</span>'</span>);

}

<span class="hljs-meta">@override</span>

<span class="hljs-keyword">void</span> dispose() {

<span class="hljs-comment">// æ¸…ç†èµ„æº</span>

<span class="hljs-keyword">super</span>.dispose();

}

}

</code></pre>
<h4 data-id="heading-21">ğŸ”„ Stateçš„ç”Ÿå‘½å‘¨æœŸï¼š</h4>
<ol>
<li>
<p><strong>createState()</strong> - åˆ›å»ºStateå¯¹è±¡</p>
</li>
<li>
<p><strong>initState()</strong> - åˆå§‹åŒ–çŠ¶æ€</p>
</li>
<li>
<p><strong>didChangeDependencies()</strong> - ä¾èµ–å‘ç”Ÿå˜åŒ–</p>
</li>
<li>
<p><strong>build()</strong> - æ„å»ºWidgetæ ‘</p>
</li>
<li>
<p><strong>didUpdateWidget()</strong> - Widgeté…ç½®æ›´æ–°</p>
</li>
<li>
<p><strong>setState()</strong> - çŠ¶æ€æ”¹å˜ï¼Œè§¦å‘é‡å»º</p>
</li>
<li>
<p><strong>deactivate()</strong> - Elementå¤±æ´»</p>
</li>
<li>
<p><strong>dispose()</strong> - é”€æ¯ï¼Œé‡Šæ”¾èµ„æº</p>
</li>
</ol>
<h3 data-id="heading-22">setStateçš„å·¥ä½œæœºåˆ¶</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">void</span> setState(VoidCallback fn) {

<span class="hljs-comment">// 1. åŒæ­¥æ‰§è¡Œå›è°ƒå‡½æ•°</span>

fn();

<span class="hljs-comment">// 2. æ ‡è®°Elementä¸ºdirty</span>

_element!.markNeedsBuild();

}

</code></pre>
<p><strong>é‡å»ºæµç¨‹ï¼š</strong></p>
<ol>
<li>
<p><code>setState()</code>æ ‡è®°Elementä¸ºdirty</p>
</li>
<li>
<p>Frameworkåœ¨ä¸‹ä¸€å¸§è°ƒç”¨<code>build()</code></p>
</li>
<li>
<p>ç”Ÿæˆæ–°çš„Widgetæ ‘</p>
</li>
<li>
<p>ä¸æ—§æ ‘è¿›è¡Œå·®å¼‚å¯¹æ¯”</p>
</li>
<li>
<p>æ›´æ–°å¿…è¦çš„RenderObject</p>
</li>
</ol>
<h2 data-id="heading-23">ğŸŒ³ InheritedWidgetæ•°æ®ä¼ é€’</h2>
<h3 data-id="heading-24">æ•°æ®å‘ä¸‹ä¼ é€’æœºåˆ¶</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThemeData</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">InheritedWidget</span> </span>{

<span class="hljs-keyword">const</span> ThemeData({

Key? key,

<span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.data,

<span class="hljs-keyword">required</span> Widget child,

}) : <span class="hljs-keyword">super</span>(key: key, child: child);

<span class="hljs-keyword">final</span> ThemeDataModel data;

<span class="hljs-meta">@override</span>

<span class="hljs-built_in">bool</span> updateShouldNotify(ThemeData oldWidget) {

<span class="hljs-keyword">return</span> data != oldWidget.data;

}

<span class="hljs-keyword">static</span> ThemeDataModel? of(BuildContext context) {

<span class="hljs-keyword">return</span> context.dependOnInheritedWidgetOfExactType&lt;ThemeData&gt;()?.data;

}

}

</code></pre>
<h4 data-id="heading-25">ğŸ” ä¾èµ–æœºåˆ¶ï¼š</h4>
<ol>
<li>
<p><strong>æ³¨å†Œä¾èµ–</strong>ï¼š<code>dependOnInheritedWidgetOfExactType()</code></p>
</li>
<li>
<p><strong>å˜åŒ–é€šçŸ¥</strong>ï¼š<code>updateShouldNotify()</code>è¿”å›trueæ—¶</p>
</li>
<li>
<p><strong>è‡ªåŠ¨é‡å»º</strong>ï¼šä¾èµ–çš„Widgetè‡ªåŠ¨é‡å»º</p>
</li>
</ol>
<h2 data-id="heading-26">ğŸ¨ æ¸²æŸ“ç®¡é“</h2>
<h3 data-id="heading-27">RenderObjectæ¸²æŸ“æµç¨‹</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RenderObject</span> </span>{

<span class="hljs-comment">// å¸ƒå±€é˜¶æ®µ</span>

<span class="hljs-keyword">void</span> layout(Constraints constraints);

<span class="hljs-comment">// ç»˜åˆ¶é˜¶æ®µ</span>

<span class="hljs-keyword">void</span> paint(PaintingContext context, Offset offset);

<span class="hljs-comment">// å‘½ä¸­æµ‹è¯•</span>

<span class="hljs-built_in">bool</span> hitTest(BoxHitTestResult result, Offset position);

}

</code></pre>
<h4 data-id="heading-28">ğŸ­ æ¸²æŸ“çš„ä¸‰ä¸ªé˜¶æ®µï¼š</h4>
<ol>
<li><strong>Layoutï¼ˆå¸ƒå±€ï¼‰</strong></li>
</ol>
<ul>
<li>
<p>è®¡ç®—æ¯ä¸ªRenderObjectçš„å¤§å°å’Œä½ç½®</p>
</li>
<li>
<p>éµå¾ªçº¦æŸä¼ é€’è§„åˆ™ï¼šçº¦æŸå‘ä¸‹ï¼Œå¤§å°å‘ä¸Š</p>
</li>
</ul>
<ol start="2">
<li><strong>Paintï¼ˆç»˜åˆ¶ï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å°†RenderObjectç»˜åˆ¶åˆ°Canvasä¸Š</p>
</li>
<li>
<p>æŒ‰ç…§æ·±åº¦ä¼˜å…ˆé¡ºåºç»˜åˆ¶</p>
</li>
</ul>
<ol start="3">
<li><strong>Compositeï¼ˆåˆæˆï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å°†ç»˜åˆ¶ç»“æœåˆæˆæœ€ç»ˆå›¾åƒ</p>
</li>
<li>
<p>å¤„ç†å›¾å±‚å’Œç‰¹æ•ˆ</p>
</li>
</ul>
<h2 data-id="heading-29">âš¡ æ€§èƒ½ä¼˜åŒ–åŸç†</h2>
<h3 data-id="heading-30">1. Widgetå¤ç”¨æœºåˆ¶</h3>
<ul>
<li>
<p><strong>constæ„é€ å‡½æ•°</strong>ï¼šç¼–è¯‘æ—¶å¸¸é‡ï¼Œé¿å…é‡å¤åˆ›å»º</p>
</li>
<li>
<p><strong>Widgetç¼“å­˜</strong>ï¼šå¤ç”¨ä¸å˜çš„Widgetå®ä¾‹</p>
</li>
</ul>
<h3 data-id="heading-31">2. Elementå¤ç”¨æœºåˆ¶</h3>
<ul>
<li>
<p><strong>KeyåŒ¹é…</strong>ï¼šé€šè¿‡Keyå®ç°Elementçš„ç²¾ç¡®å¤ç”¨</p>
</li>
<li>
<p><strong>ç±»å‹åŒ¹é…</strong>ï¼šç›¸åŒç±»å‹çš„Widgetå¯ä»¥å¤ç”¨Element</p>
</li>
</ul>
<h3 data-id="heading-32">3. RenderObjectä¼˜åŒ–</h3>
<ul>
<li>
<p><strong>å¸ƒå±€è¾¹ç•Œ</strong>ï¼š<code>RelayoutBoundary</code>é¿å…ä¸å¿…è¦çš„é‡æ–°å¸ƒå±€</p>
</li>
<li>
<p><strong>é‡ç»˜è¾¹ç•Œ</strong>ï¼š<code>RepaintBoundary</code>éš”ç¦»é‡ç»˜åŒºåŸŸ</p>
</li>
</ul>
<h3 data-id="heading-33">4. æ„å»ºä¼˜åŒ–ç­–ç•¥</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°Widget</span>

Widget build(BuildContext context) {

<span class="hljs-keyword">return</span> Column(

children: [

ExpensiveWidget(), <span class="hljs-comment">// æ¯æ¬¡é‡å»ºéƒ½ä¼šåˆ›å»ºæ–°å®ä¾‹</span>

],

);

}

  


<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨constæˆ–ç¼“å­˜</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyWidget</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{

<span class="hljs-keyword">const</span> MyWidget({Key? key}) : <span class="hljs-keyword">super</span>(key: key);

<span class="hljs-meta">@override</span>

State&lt;MyWidget&gt; createState() =&gt; _MyWidgetState();

}

  


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_MyWidgetState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">MyWidget</span>&gt; </span>{

<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> Widget _expensiveWidget = ExpensiveWidget();

<span class="hljs-meta">@override</span>

Widget build(BuildContext context) {

<span class="hljs-keyword">return</span> Column(

children: [

_expensiveWidget, <span class="hljs-comment">// å¤ç”¨åŒä¸€ä¸ªå®ä¾‹</span>

],

);

}

}

</code></pre>
<h2 data-id="heading-34">ğŸ”§ BuildOwnerå’Œæ„å»ºç®¡ç†</h2>
<h3 data-id="heading-35">BuildOwnerçš„èŒè´£</h3>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BuildOwner</span> </span>{

<span class="hljs-comment">// è°ƒåº¦æ„å»º</span>

<span class="hljs-keyword">void</span> scheduleBuildFor(<span class="hljs-built_in">Element</span> element);

<span class="hljs-comment">// æ‰§è¡Œæ„å»º</span>

<span class="hljs-keyword">void</span> buildScope(<span class="hljs-built_in">Element</span> context, VoidCallback callback);

<span class="hljs-comment">// å®Œæˆæ„å»º</span>

<span class="hljs-keyword">void</span> finalizeTree();

}

</code></pre>
<h4 data-id="heading-36">ğŸ¯ æ„å»ºè°ƒåº¦æœºåˆ¶ï¼š</h4>
<ol>
<li>
<p><strong>æ ‡è®°é˜¶æ®µ</strong>ï¼šElementè°ƒç”¨<code>markNeedsBuild()</code></p>
</li>
<li>
<p><strong>æ”¶é›†é˜¶æ®µ</strong>ï¼šBuildOwneræ”¶é›†æ‰€æœ‰dirty Element</p>
</li>
<li>
<p><strong>æ’åºé˜¶æ®µ</strong>ï¼šæŒ‰æ·±åº¦æ’åºï¼Œç¡®ä¿çˆ¶èŠ‚ç‚¹å…ˆæ„å»º</p>
</li>
<li>
<p><strong>æ„å»ºé˜¶æ®µ</strong>ï¼šä¾æ¬¡è°ƒç”¨æ¯ä¸ªElementçš„<code>build()</code></p>
</li>
<li>
<p><strong>æ¸…ç†é˜¶æ®µ</strong>ï¼šç§»é™¤ä¸æ´»è·ƒçš„Element</p>
</li>
</ol>
<h2 data-id="heading-37">ğŸª äº‹ä»¶å¤„ç†æœºåˆ¶</h2>
<h3 data-id="heading-38">æ‰‹åŠ¿è¯†åˆ«æµç¨‹</h3>
<ol>
<li><strong>å‘½ä¸­æµ‹è¯•ï¼ˆHit Testingï¼‰</strong></li>
</ol>
<ul>
<li>
<p>ä»RenderObjectæ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹</p>
</li>
<li>
<p>é€’å½’æŸ¥æ‰¾èƒ½å“åº”äº‹ä»¶çš„å¯¹è±¡</p>
</li>
</ul>
<ol start="2">
<li><strong>äº‹ä»¶åˆ†å‘ï¼ˆEvent Dispatchingï¼‰</strong></li>
</ol>
<ul>
<li>
<p>å°†äº‹ä»¶åˆ†å‘ç»™å‘½ä¸­æµ‹è¯•çš„å¯¹è±¡</p>
</li>
<li>
<p>æ”¯æŒäº‹ä»¶å†’æ³¡å’Œæ•è·</p>
</li>
</ul>
<ol start="3">
<li><strong>æ‰‹åŠ¿è¯†åˆ«ï¼ˆGesture Recognitionï¼‰</strong></li>
</ol>
<ul>
<li>
<p>é€šè¿‡GestureDetectorè¯†åˆ«å¤æ‚æ‰‹åŠ¿</p>
</li>
<li>
<p>æ”¯æŒç«æŠ€åœºæœºåˆ¶è§£å†³æ‰‹åŠ¿å†²çª</p>
</li>
</ul>
<h2 data-id="heading-39">ğŸ”® æ€»ç»“</h2>
<p>Flutteræ¡†æ¶çš„æ ¸å¿ƒè®¾è®¡ç†å¿µï¼š</p>
<ol>
<li>
<p><strong>åˆ†å±‚æ¶æ„</strong>ï¼šWidgetï¼ˆé…ç½®ï¼‰â†’ Elementï¼ˆç®¡ç†ï¼‰â†’ RenderObjectï¼ˆæ¸²æŸ“ï¼‰</p>
</li>
<li>
<p><strong>å£°æ˜å¼UI</strong>ï¼šæè¿°UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼ŒFrameworkè´Ÿè´£å¦‚ä½•å®ç°</p>
</li>
<li>
<p><strong>ä¸å¯å˜æ€§</strong>ï¼šWidgetä¸å¯å˜ï¼ŒçŠ¶æ€å˜åŒ–é€šè¿‡é‡å»ºå®ç°</p>
</li>
<li>
<p><strong>é«˜æ•ˆæ›´æ–°</strong>ï¼šé€šè¿‡Keyå’Œç±»å‹åŒ¹é…å®ç°ç²¾ç¡®çš„å·®å¼‚æ›´æ–°</p>
</li>
<li>
<p><strong>ç»„åˆä¼˜äºç»§æ‰¿</strong>ï¼šé€šè¿‡Widgetç»„åˆæ„å»ºå¤æ‚UI</p>
</li>
</ol>
<p>è¿™ç§è®¾è®¡ä½¿å¾—Flutterèƒ½å¤Ÿï¼š</p>
<ul>
<li>
<p>ğŸš€ <strong>é«˜æ€§èƒ½</strong>ï¼šç²¾ç¡®çš„æ›´æ–°æœºåˆ¶å’Œæ¸²æŸ“ä¼˜åŒ–</p>
</li>
<li>
<p>ğŸ”§ <strong>æ˜“ç»´æŠ¤</strong>ï¼šæ¸…æ™°çš„æ¶æ„åˆ†å±‚å’Œç”Ÿå‘½å‘¨æœŸ</p>
</li>
<li>
<p>ğŸ¨ <strong>é«˜çµæ´»æ€§</strong>ï¼šå¼ºå¤§çš„ç»„åˆèƒ½åŠ›å’Œè‡ªå®šä¹‰èƒ½åŠ›</p>
</li>
<li>
<p>ğŸ”„ <strong>çƒ­é‡è½½</strong>ï¼šæ”¯æŒå¼€å‘æ—¶çš„å¿«é€Ÿè¿­ä»£</p>
</li>
</ul>
<p>ç†è§£è¿™äº›æ ¸å¿ƒåŸç†ï¼Œèƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ï¼š</p>
<ul>
<li>
<p>ç¼–å†™é«˜æ€§èƒ½çš„Flutteråº”ç”¨</p>
</li>
<li>
<p>è°ƒè¯•å’Œè§£å†³å¤æ‚é—®é¢˜</p>
</li>
<li>
<p>è®¾è®¡åˆç†çš„åº”ç”¨æ¶æ„</p>
</li>
<li>
<p>è¿›è¡Œæ·±åº¦çš„è‡ªå®šä¹‰å¼€å‘</p>
</li>
</ul>
<hr/>
<p><em>è¿™ä»½æ–‡æ¡£åŸºäºFlutteræ¡†æ¶æºç åˆ†æï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…æ·±å…¥ç†è§£Flutterçš„å·¥ä½œåŸç†ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI é©±åŠ¨çš„å¼‚æ„ ETL ç¯å¢ƒæ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7584379805900013620</link>    <guid>https://juejin.cn/post/7584379805900013620</guid>    <pubDate>2025-12-17T07:52:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584379805900013620" data-draft-id="7584377629707255843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI é©±åŠ¨çš„å¼‚æ„ ETL ç¯å¢ƒæ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-17T07:52:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å—æ–¹è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2840793779295133"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI é©±åŠ¨çš„å¼‚æ„ ETL ç¯å¢ƒæ•°æ®è¡€ç¼˜ç®¡ç†ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2840793779295133/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å—æ–¹è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T07:52:47.000Z" title="Wed Dec 17 2025 07:52:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ“– ç³»ç»Ÿæ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-1">1.1 æ•´ä½“æ¶æ„æ¦‚è¿°</h3>
<p>è¯¥ç³»ç»Ÿæ˜¯é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œé€šè¿‡ AI æŠ€æœ¯è‡ªåŠ¨å‘ç°å’Œè¿½è¸ªæ•°æ®åœ¨å¼‚æ„ETLç¯å¢ƒä¸­çš„è¡€ç¼˜å…³ç³»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccb44e80378b4d90855344b496e1e5d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=htz13FOREdVAgmRQVLz8E02k9bs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ğŸ“– æ•°æ®è¡€ç¼˜å‘ç°æµç¨‹</h2>
<h3 data-id="heading-3">2.1 è‡ªåŠ¨åŒ–è¡€ç¼˜å‘ç°æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/997a9554884148e79490b83b0cbbc1b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=7YRMiDTLj7XwAzY53wnHfT8LWdk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">2.2 SQL è§£æä¸è¡€ç¼˜æå–</h3>
<p><strong>åŸºäº AI çš„</strong> <strong>SQL</strong> <strong>è§£æå¼•æ“ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AISQLLineageExtractor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.nlp = spacy.load(<span class="hljs-string">"en_core_web_sm"</span>)
        self.classifier = pipeline(<span class="hljs-string">"text-classification"</span>, 
                                   model=<span class="hljs-string">"distilbert-base-uncased"</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">extract_lineage_from_sql</span>(<span class="hljs-params">self, sql_query, context=<span class="hljs-literal">None</span></span>):
        <span class="hljs-string">"""
        ä»SQLæŸ¥è¯¢ä¸­æå–æ•°æ®è¡€ç¼˜å…³ç³»
        """</span>
        <span class="hljs-comment"># è§£æSQLç»“æ„</span>
        parsed = sqlparse.parse(sql_query)[<span class="hljs-number">0</span>]

        <span class="hljs-comment"># ä½¿ç”¨sql_metadataè¿›è¡ŒåŸºç¡€è§£æ</span>
        parser = Parser(sql_query)

        <span class="hljs-comment"># AIå¢å¼ºçš„è¯­ä¹‰åˆ†æ</span>
        ai_insights = self.analyze_sql_semantics(sql_query, context)

        <span class="hljs-comment"># æ„å»ºè¡€ç¼˜å…³ç³»</span>
        lineage_data = {
            <span class="hljs-string">'input_tables'</span>: parser.tables,
            <span class="hljs-string">'input_columns'</span>: parser.columns,
            <span class="hljs-string">'output_columns'</span>: self.extract_output_columns(parsed),
            <span class="hljs-string">'transformations'</span>: self.extract_transformations(parsed, ai_insights),
            <span class="hljs-string">'confidence_score'</span>: ai_insights.get(<span class="hljs-string">'confidence'</span>, <span class="hljs-number">0.8</span>),
            <span class="hljs-string">'parsing_metadata'</span>: {
                <span class="hljs-string">'query_type'</span>: self.classify_query_type(sql_query),
                <span class="hljs-string">'complexity_score'</span>: self.calculate_complexity(sql_query),
                <span class="hljs-string">'ai_analysis'</span>: ai_insights
            }
        }

        <span class="hljs-keyword">return</span> lineage_data

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_sql_semantics</span>(<span class="hljs-params">self, sql_query, context</span>):
        <span class="hljs-string">"""ä½¿ç”¨AIåˆ†æSQLè¯­ä¹‰"""</span>
        <span class="hljs-comment"># æ„å»ºåˆ†ææç¤º</span>
        analysis_prompt = <span class="hljs-string">f"""
        Analyze the following SQL query and extract data lineage information:
        
        SQL: <span class="hljs-subst">{sql_query}</span>
        Context: <span class="hljs-subst">{context}</span>
        
        Please identify:
        1. Source tables and columns
        2. Transformation logic
        3. Target tables and columns
        4. Any data quality operations
        """</span>

        <span class="hljs-comment"># ä½¿ç”¨NLPæ¨¡å‹è¿›è¡Œåˆ†æ</span>
        analysis_result = self.nlp(analysis_prompt)

        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'entities'</span>: [(ent.text, ent.label_) <span class="hljs-keyword">for</span> ent <span class="hljs-keyword">in</span> analysis_result.ents],
            <span class="hljs-string">'dependencies'</span>: self.extract_semantic_dependencies(analysis_result),
            <span class="hljs-string">'confidence'</span>: self.calculate_semantic_confidence(analysis_result)
        }

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
extractor = AISQLLineageExtractor()
sql = <span class="hljs-string">"""
SELECT 
    customer_id,
    SUM(order_amount) as total_spent,
    COUNT(DISTINCT order_id) as order_count
FROM orders 
WHERE order_date &gt;= '2024-01-01'
GROUP BY customer_id
"""</span>

lineage = extractor.extract_lineage_from_sql(sql)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç°çš„è¾“å…¥è¡¨: <span class="hljs-subst">{lineage[<span class="hljs-string">'input_tables'</span>]}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¾“å‡ºåˆ—: <span class="hljs-subst">{[col[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> lineage[<span class="hljs-string">'output_columns'</span>]]}</span>"</span>)
</code></pre>
<h2 data-id="heading-5">ğŸ“– è¡€ç¼˜å…³ç³»å­˜å‚¨è®¾è®¡</h2>
<h3 data-id="heading-6">3.1 å›¾æ•°æ®åº“ Schema è®¾è®¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DataLineageGraph</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, neptune_client</span>):
        self.client = neptune_client

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_lineage_graph</span>(<span class="hljs-params">self, lineage_data</span>):
        <span class="hljs-string">"""åˆ›å»ºè¡€ç¼˜å…³ç³»å›¾"""</span>

        <span class="hljs-comment"># åˆ›å»ºè¡¨èŠ‚ç‚¹</span>
        table_nodes = {}
        <span class="hljs-keyword">for</span> table <span class="hljs-keyword">in</span> lineage_data[<span class="hljs-string">'input_tables'</span>] + [lineage_data.get(<span class="hljs-string">'output_table'</span>)]:
            <span class="hljs-keyword">if</span> table:
                table_id = self.create_table_node(table)
                table_nodes[table] = table_id

        <span class="hljs-comment"># åˆ›å»ºåˆ—èŠ‚ç‚¹å’Œå…³ç³»</span>
        <span class="hljs-keyword">for</span> col_info <span class="hljs-keyword">in</span> lineage_data.get(<span class="hljs-string">'columns'</span>, []):
            col_id = self.create_column_node(col_info)

            <span class="hljs-comment"># åˆ›å»ºåˆ—åˆ°è¡¨çš„å…³ç³»</span>
            self.client.add_edge(
                col_id, 
                table_nodes[col_info[<span class="hljs-string">'table'</span>]], 
                <span class="hljs-string">'BELONGS_TO'</span>
            )

            <span class="hljs-comment"># åˆ›å»ºè¡€ç¼˜å…³ç³»</span>
            <span class="hljs-keyword">for</span> source_col <span class="hljs-keyword">in</span> col_info.get(<span class="hljs-string">'source_columns'</span>, []):
                source_col_id = self.get_column_id(source_col)
                <span class="hljs-keyword">if</span> source_col_id:
                    self.client.add_edge(
                        source_col_id, 
                        col_id, 
                        <span class="hljs-string">'LINEAGE'</span>, 
                        properties={
                            <span class="hljs-string">'transformation'</span>: col_info.get(<span class="hljs-string">'transformation'</span>),
                            <span class="hljs-string">'confidence'</span>: lineage_data.get(<span class="hljs-string">'confidence_score'</span>, <span class="hljs-number">0.8</span>)
                        }
                    )
</code></pre>
<h3 data-id="heading-7">3.2 è¡€ç¼˜æŸ¥è¯¢ API è®¾è®¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LineageAPI</span>(<span class="hljs-title class_ inherited__">Resource</span>):
<span class="hljs-meta">    @api.expect(<span class="hljs-params">lineage_model</span>)</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">post</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æŸ¥è¯¢æ•°æ®è¡€ç¼˜å…³ç³»"""</span>
        data = request.json

        source_type = data.get(<span class="hljs-string">'source_type'</span>)
        source_name = data.get(<span class="hljs-string">'source_name'</span>) 
        depth = data.get(<span class="hljs-string">'depth'</span>, <span class="hljs-number">3</span>)

        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># æ‰§è¡Œè¡€ç¼˜æŸ¥è¯¢</span>
            <span class="hljs-keyword">if</span> source_type == <span class="hljs-string">'table'</span>:
                result = self.get_table_lineage(source_name, depth)
            <span class="hljs-keyword">elif</span> source_type == <span class="hljs-string">'column'</span>:
                result = self.get_column_lineage(source_name, depth)
            <span class="hljs-keyword">else</span>:
                <span class="hljs-keyword">return</span> {<span class="hljs-string">'error'</span>: <span class="hljs-string">'ä¸æ”¯æŒçš„æºç±»å‹'</span>}, <span class="hljs-number">400</span>

            <span class="hljs-keyword">return</span> jsonify({
                <span class="hljs-string">'status'</span>: <span class="hljs-string">'success'</span>,
                <span class="hljs-string">'data'</span>: result,
                <span class="hljs-string">'query'</span>: {
                    <span class="hljs-string">'source'</span>: source_name,
                    <span class="hljs-string">'depth'</span>: depth,
                    <span class="hljs-string">'timestamp'</span>: datetime.utcnow().isoformat()
                }
            })

        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-keyword">return</span> {<span class="hljs-string">'error'</span>: <span class="hljs-built_in">str</span>(e)}, <span class="hljs-number">500</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_table_lineage</span>(<span class="hljs-params">self, table_name, depth</span>):
        <span class="hljs-string">"""è·å–è¡¨çº§åˆ«è¡€ç¼˜å…³ç³»"""</span>
        graph = DataLineageGraph(neptune_client)

        <span class="hljs-comment"># è·å–ä¸‹æ¸¸å½±å“</span>
        downstream = graph.query_impact_analysis(table_name)

        <span class="hljs-comment"># è·å–ä¸Šæ¸¸ä¾èµ–</span>
        upstream = graph.query_root_cause(table_name, <span class="hljs-literal">None</span>)

        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'table'</span>: table_name,
            <span class="hljs-string">'downstream_impact'</span>: self.format_paths(downstream),
            <span class="hljs-string">'upstream_dependencies'</span>: self.format_paths(upstream),
            <span class="hljs-string">'summary'</span>: {
                <span class="hljs-string">'total_downstream'</span>: <span class="hljs-built_in">len</span>(downstream),
                <span class="hljs-string">'total_upstream'</span>: <span class="hljs-built_in">len</span>(upstream),
                <span class="hljs-string">'max_depth'</span>: depth
            }
        }
</code></pre>
<h2 data-id="heading-8">ğŸ“– è¡€ç¼˜è´¨é‡è¯„ä¼°æµç¨‹</h2>
<h3 data-id="heading-9">4.1 è´¨é‡è¯„ä¼°æµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23df8c7c44a84b52a38d63eedce6d7b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=o4oLRmIybD5oUy7HCNaWDWP%2FTp0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">4.2 è´¨é‡è¯„ä¼°ç®—æ³•å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LineageQualityAssessor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.scaler = StandardScaler()
        self.classifier = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>)
        self.quality_metrics = []

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">assess_lineage_quality</span>(<span class="hljs-params">self, lineage_data</span>):
        <span class="hljs-string">"""è¯„ä¼°è¡€ç¼˜å…³ç³»è´¨é‡"""</span>

        <span class="hljs-comment"># è®¡ç®—è´¨é‡æŒ‡æ ‡</span>
        metrics = self.calculate_quality_metrics(lineage_data)

        <span class="hljs-comment"># AIè´¨é‡åˆ†ç±»</span>
        quality_score = self.ai_quality_classification(metrics)

        <span class="hljs-comment"># é—®é¢˜æ£€æµ‹</span>
        issues = self.detect_quality_issues(lineage_data, metrics)

        assessment_result = {
            <span class="hljs-string">'overall_score'</span>: quality_score,
            <span class="hljs-string">'quality_level'</span>: self.get_quality_level(quality_score),
            <span class="hljs-string">'metrics'</span>: metrics,
            <span class="hljs-string">'issues'</span>: issues,
            <span class="hljs-string">'recommendations'</span>: self.generate_recommendations(issues, metrics),
            <span class="hljs-string">'confidence'</span>: self.calculate_confidence(metrics, issues)
        }

        <span class="hljs-keyword">return</span> assessment_result

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_quality_metrics</span>(<span class="hljs-params">self, lineage_data</span>):
        <span class="hljs-string">"""è®¡ç®—è¡€ç¼˜è´¨é‡æŒ‡æ ‡"""</span>
        metrics = {}

        <span class="hljs-comment"># å®Œæ•´æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'completeness'</span>] = self.calculate_completeness(lineage_data)

        <span class="hljs-comment"># å‡†ç¡®æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'accuracy'</span>] = self.calculate_accuracy(lineage_data)

        <span class="hljs-comment"># ä¸€è‡´æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'consistency'</span>] = self.calculate_consistency(lineage_data)

        <span class="hljs-comment"># æ—¶æ•ˆæ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'freshness'</span>] = self.calculate_freshness(lineage_data)

        <span class="hljs-comment"># å¤æ‚æ€§æŒ‡æ ‡</span>
        metrics[<span class="hljs-string">'complexity'</span>] = self.calculate_complexity(lineage_data)

        <span class="hljs-keyword">return</span> metrics

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">ai_quality_classification</span>(<span class="hljs-params">self, metrics</span>):
        <span class="hljs-string">"""ä½¿ç”¨AIè¿›è¡Œè´¨é‡åˆ†ç±»"""</span>
        <span class="hljs-comment"># å‡†å¤‡ç‰¹å¾æ•°æ®</span>
        features = np.array([[
            metrics[<span class="hljs-string">'completeness'</span>],
            metrics[<span class="hljs-string">'accuracy'</span>], 
            metrics[<span class="hljs-string">'consistency'</span>],
            metrics[<span class="hljs-string">'freshness'</span>],
            metrics[<span class="hljs-string">'complexity'</span>]
        ]])

        <span class="hljs-comment"># æ ‡å‡†åŒ–ç‰¹å¾</span>
        features_scaled = self.scaler.transform(features)

        <span class="hljs-comment"># é¢„æµ‹è´¨é‡åˆ†æ•°</span>
        quality_score = self.classifier.predict_proba(features_scaled)[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]

        <span class="hljs-keyword">return</span> quality_score

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
assessor = LineageQualityAssessor()
quality_result = assessor.assess_lineage_quality(lineage_data)

<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è´¨é‡è¯„åˆ†: <span class="hljs-subst">{quality_result[<span class="hljs-string">'overall_score'</span>]:<span class="hljs-number">.2</span>f}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è´¨é‡ç­‰çº§: <span class="hljs-subst">{quality_result[<span class="hljs-string">'quality_level'</span>]}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç°çš„é—®é¢˜: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(quality_result[<span class="hljs-string">'issues'</span>])}</span>ä¸ª"</span>)
</code></pre>
<h2 data-id="heading-11">ğŸ“– å®æ—¶ç›‘æ§ä¸å‘Šè­¦</h2>
<h3 data-id="heading-12">5.1 ç›‘æ§å‘Šè­¦æµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bde5203f5f5471c95adcf6656773edf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=rudNjZUTdMStmAo%2BVk7N77smBAA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">5.2 å®æ—¶ç›‘æ§å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RealTimeLineageMonitor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, kafka_config, lineage_graph, alert_service</span>):
        self.consumer = KafkaConsumer(
            kafka_config[<span class="hljs-string">'topic'</span>],
            bootstrap_servers=kafka_config[<span class="hljs-string">'bootstrap_servers'</span>],
            value_deserializer=<span class="hljs-keyword">lambda</span> m: json.loads(m.decode(<span class="hljs-string">'utf-8'</span>))
        )
        self.graph = lineage_graph
        self.alert_service = alert_service
        self.monitoring_rules = self.load_monitoring_rules()

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_monitoring</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""å¯åŠ¨å®æ—¶ç›‘æ§"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¯åŠ¨è¡€ç¼˜å…³ç³»å®æ—¶ç›‘æ§..."</span>)

        <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> self.consumer:
            <span class="hljs-keyword">try</span>:
                <span class="hljs-comment"># å¤„ç†å˜æ›´äº‹ä»¶</span>
                <span class="hljs-keyword">await</span> self.process_change_event(message.value)

            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤„ç†ç›‘æ§äº‹ä»¶å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
                <span class="hljs-comment"># å‘é€ç›‘æ§é”™è¯¯å‘Šè­¦</span>
                <span class="hljs-keyword">await</span> self.send_monitoring_alert(
                    <span class="hljs-string">"MONITORING_ERROR"</span>,
                    <span class="hljs-string">f"å¤„ç†å˜æ›´äº‹ä»¶æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>,
                    <span class="hljs-string">"HIGH"</span>
                )

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_change_event</span>(<span class="hljs-params">self, event</span>):
        <span class="hljs-string">"""å¤„ç†æ•°æ®å˜æ›´äº‹ä»¶"""</span>
        event_type = event.get(<span class="hljs-string">'event_type'</span>)
        resource_type = event.get(<span class="hljs-string">'resource_type'</span>)
        resource_name = event.get(<span class="hljs-string">'resource_name'</span>)

        <span class="hljs-comment"># åˆ†æå˜æ›´å½±å“</span>
        impact_analysis = <span class="hljs-keyword">await</span> self.analyze_change_impact(
            event_type, resource_type, resource_name
        )

        <span class="hljs-comment"># è¯„ä¼°é£é™©</span>
        risk_assessment = self.assess_change_risk(impact_analysis, event)

        <span class="hljs-comment"># è§¦å‘ç›¸åº”åŠ¨ä½œ</span>
        <span class="hljs-keyword">await</span> self.trigger_actions(risk_assessment, event)

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">analyze_change_impact</span>(<span class="hljs-params">self, event_type, resource_type, resource_name</span>):
        <span class="hljs-string">"""åˆ†æå˜æ›´å½±å“èŒƒå›´"""</span>

        <span class="hljs-keyword">if</span> resource_type == <span class="hljs-string">'TABLE'</span>:
            <span class="hljs-comment"># è¡¨çº§åˆ«å½±å“åˆ†æ</span>
            impact_paths = self.graph.query_impact_analysis(resource_name)

            <span class="hljs-comment"># è®¡ç®—å½±å“èŒƒå›´</span>
            impact_scope = {
                <span class="hljs-string">'direct_impact'</span>: self.get_direct_dependencies(resource_name),
                <span class="hljs-string">'indirect_impact'</span>: self.get_indirect_dependencies(resource_name, depth=<span class="hljs-number">3</span>),
                <span class="hljs-string">'critical_assets'</span>: self.identify_critical_assets(impact_paths),
                <span class="hljs-string">'business_impact'</span>: self.assess_business_impact(impact_paths)
            }

            <span class="hljs-keyword">return</span> impact_scope

        <span class="hljs-keyword">elif</span> resource_type == <span class="hljs-string">'COLUMN'</span>:
            <span class="hljs-comment"># åˆ—çº§åˆ«å½±å“åˆ†æ</span>
            impact_paths = self.graph.query_impact_analysis(<span class="hljs-literal">None</span>, resource_name)

            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">'column_impact'</span>: impact_paths,
                <span class="hljs-string">'affected_reports'</span>: self.find_affected_reports(resource_name),
                <span class="hljs-string">'data_quality_impact'</span>: self.assess_data_quality_impact(resource_name)
            }

<span class="hljs-comment"># å¯åŠ¨ç›‘æ§æœåŠ¡</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    monitor = RealTimeLineageMonitor(
        kafka_config={<span class="hljs-string">'bootstrap_servers'</span>: <span class="hljs-string">'localhost:9092'</span>, <span class="hljs-string">'topic'</span>: <span class="hljs-string">'data-changes'</span>},
        lineage_graph=lineage_graph,
        alert_service=alert_service
    )

    <span class="hljs-keyword">await</span> monitor.start_monitoring()
</code></pre>
<h2 data-id="heading-14">ğŸ“– å½±å“åˆ†æä¸æ ¹å› è¿½è¸ª</h2>
<h3 data-id="heading-15">6.1 å½±å“åˆ†ææµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8fe88592d594d6d8dcbe4c922cceca4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=57bCoNRzmHHwNaKjGR0Nj2a1kxA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">6.2 æ ¹å› åˆ†ææµç¨‹å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2008cbb658db4a789fcffd0fac466269~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2X5pa56ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766562767&amp;x-signature=SEvHoPY48qekwLguzWAIBgbJVl0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">æœ€å</h2>
<p><strong>è¿™ä¸ªå¢å¼ºç‰ˆæ–¹æ¡ˆçš„æ ¸å¿ƒåœ¨äºåˆ©ç”¨ AI æŠ€æœ¯ï¼ˆå¦‚</strong> <strong>Amazon</strong> <strong>Bedrock çš„</strong> <strong>LLM</strong> <strong>æ¨¡å‹ï¼‰æå‡è¡€ç¼˜åˆ†æçš„è‡ªåŠ¨åŒ–ä¸æ™ºèƒ½åŒ–æ°´å¹³ï¼Œå‡†ç¡®è§£æå¤æ‚çš„æ•°æ®é€»è¾‘ï¼ŒåŒæ—¶å€ŸåŠ©å›¾æ•°æ®åº“ï¼ˆNeptuneï¼‰å®ç°é«˜æ•ˆçš„è¡€ç¼˜å…³ç³»ç®¡ç†å’Œåˆ†æã€‚æ•°æ®è¡€ç¼˜ç³»ç»Ÿé€šè¿‡æ„å»ºé€æ˜ã€å¯ä¿¡çš„æ•°æ®é“¾è·¯ï¼Œæœ‰æ•ˆæå‡æ•°æ®é©±åŠ¨å†³ç­–çš„ä¿¡å¿ƒã€‚</strong></p>
<p>â˜â˜<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fcn%2Ffree%3Ftrk%3Db5edeb0e-6438-44ef-a5b7-5fd7f1145fed%26sc_channel%3Dsm" target="_blank" title="https://aws.amazon.com/cn/free?trk=b5edeb0e-6438-44ef-a5b7-5fd7f1145fed&amp;sc_channel=sm" ref="nofollow noopener noreferrer">ã€ä¼ é€é—¨ã€‘</a></p>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ã€‚æœ€åæé†’ä¸€ä¸‹å„ä½å·¥å‹ï¼Œå¦‚æœåç»­ä¸å†ä½¿ç”¨ç›¸å…³æœåŠ¡ï¼Œåˆ«å¿˜äº†åœ¨æ§åˆ¶å°å…³é—­ï¼Œé¿å…è¶…å‡ºå…è´¹é¢åº¦äº§ç”Ÿè´¹ç”¨ï½</p>
<ul>
<li>GitHub ä»£ç ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faws-samples%2Fsample-agentic-data-lineage" target="_blank" title="https://github.com/aws-samples/sample-agentic-data-lineage" ref="nofollow noopener noreferrer">sample-agentic-data-lineage</a></li>
<li>æ ·ä¾‹æ•°æ®æ¨¡å‹ä¸æ¨¡å¼ç»“æ„ï¼Œæ¥æºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdbt-labs%2Fjaffle-shop-classic" target="_blank" title="https://github.com/dbt-labs/jaffle-shop-classic" ref="nofollow noopener noreferrer">dbt-labs/jaffle-shop-classic</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fb-ned.github.io%2Fdbt-colibri%2F" target="_blank" title="https://b-ned.github.io/dbt-colibri/" ref="nofollow noopener noreferrer">Dbt-colibri</a>: A lightweight, developer-friendly CLI tool and self-hostable dashboard for extracting and visualizing column-level lineage from your dbt projects.</li>
<li>ä»…ä¾›æ¦‚å¿µéªŒè¯ï¼ˆPOCï¼‰ä½¿ç”¨ï¼Œä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›´æ’­å›é¡¾ä¸¨è¯¦è§£é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRunï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ èµ°è¿› Agentic AI ç”Ÿäº§æ—¶ä»£]]></title>    <link>https://juejin.cn/post/7584807992031936554</link>    <guid>https://juejin.cn/post/7584807992031936554</guid>    <pubDate>2025-12-18T09:56:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584807992031936554" data-draft-id="7584817405228220457" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›´æ’­å›é¡¾ä¸¨è¯¦è§£é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRunï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ èµ°è¿› Agentic AI ç”Ÿäº§æ—¶ä»£"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-18T09:56:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›´æ’­å›é¡¾ä¸¨è¯¦è§£é˜¿é‡Œäº‘å‡½æ•°è®¡ç®— AgentRunï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ èµ°è¿› Agentic AI ç”Ÿäº§æ—¶ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T09:56:50.000Z" title="Thu Dec 18 2025 09:56:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ç›´æ’­æ—¶é—´ï¼š12 æœˆ 18 æ—¥ 14:00â€”16:00</strong></p>
<p>æ¬¢è¿ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Flive%2F255551" target="_blank" title="https://developer.aliyun.com/live/255551" ref="nofollow noopener noreferrer">æ­¤å¤„</a>è§‚çœ‹å›æ”¾ã€‚</p>
<p>ç›´æ’­ä¸»é¢˜ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aliyun.com%2Fproduct%2Ffc%3Fspm%3Da1z389.11499242.0.0.65452413RXCQWs%26utm_content%3Dg_1000408146" target="_blank" title="https://www.aliyun.com/product/fc?spm=a1z389.11499242.0.0.65452413RXCQWs&amp;utm_content=g_1000408146" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—</a> AgentRun å®æˆ˜è¥å®Œæ•´å›æ”¾ä¸Šçº¿ï¼Œæ‰‹æŠŠæ‰‹å¸¦ä½ è¿ˆè¿› Agentic AI ç”Ÿäº§æ—¶ä»£ã€‚</p>
<p><strong>ç›´æ’­äº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>äº§å“è´Ÿè´£äººæ·±åº¦è§£è¯»</strong>ï¼šå‡½æ•°è®¡ç®— AgentRun å¦‚ä½•ä»¥é«˜ä»£ç ä¸ºæ ¸å¿ƒï¼Œå®ç°æ— ä»£ç åˆ°é«˜ä»£ç çš„ä¸€é”®è½¬æ¢ï¼Œè®©ä¸šåŠ¡äººå‘˜â€œä¸€å¥è¯æ­å»º Agentâ€ã€æŠ€æœ¯å›¢é˜Ÿçµæ´»æ‰©å±•ï¼Œå½»åº•æ‰“ç ´å¼€å‘å£å’ï¼›</li>
<li><strong>å®æˆ˜ç—›ç‚¹è§£å†³æ–¹æ¡ˆ</strong>ï¼šé’ˆå¯¹ä¼ä¸š Agent è½åœ°æ—¶çš„æˆæœ¬é«˜ã€ç¨³å®šæ€§ä¸è¶³ã€ç³»ç»Ÿé›†æˆéš¾ç­‰å…±æ€§é—®é¢˜ï¼Œæ‹†è§£å‡½æ•°è®¡ç®— AgentRun å¸¦æ¥çš„æè‡´å¼¹æ€§ä¸å¹³å‡ TCO é™ä½ 60% ç§˜è¯€ï¼›</li>
<li><strong>å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†æ­ç§˜</strong>ï¼šä»æ¨¡å‹æ²»ç†ã€å®‰å…¨æ²™ç®±åˆ°å…¨é“¾è·¯å¯è§‚æµ‹ï¼Œè¯¦è§£å‡½æ•°è®¡ç®— AgentRun å¦‚ä½•æ»¡è¶³ä¼ä¸šçº§åº”ç”¨çš„é«˜å¯ç”¨ã€åˆè§„ã€å¯å®¡è®¡è¦æ±‚ï¼Œè®© Agent çœŸæ­£èµ°è¿›ç”Ÿäº§ç¯å¢ƒã€‚</li>
<li><strong>ç”Ÿæˆå¼ AI è½åœ°å®è·µä¸æ¡ˆä¾‹åˆ†äº«ï¼š</strong> ç»“åˆå·²ç»è½åœ°åœºæ™¯å’Œå®¢æˆ·æ¡ˆä¾‹ï¼Œä»‹ç»æœ€é€‚åˆä¼ä¸šå¿«é€Ÿè½åœ°ç”Ÿæˆå¼ AI çš„ä¸šåŠ¡åœºæ™¯ï¼ŒåŒ…æ‹¬å›¾åƒç”Ÿæˆã€AI åŠ©æ‰‹æ­å»ºç­‰ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1d68c98bfc74a5f8829a64122ce448d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766656610&amp;x-signature=KTIzAXvYDlubjuz%2B%2BmHqkDyA1Rc%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨ DataWorks ä¸­ä¸€é”®éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå³åˆ»ç”¨äºæ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘]]></title>    <link>https://juejin.cn/post/7584633505105444916</link>    <guid>https://juejin.cn/post/7584633505105444916</guid>    <pubDate>2025-12-17T10:43:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584633505105444916" data-draft-id="7584633505105412148" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨ DataWorks ä¸­ä¸€é”®éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå³åˆ»ç”¨äºæ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-17T10:43:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨ DataWorks ä¸­ä¸€é”®éƒ¨ç½²å¤§æ¨¡å‹ï¼Œå³åˆ»ç”¨äºæ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T10:43:08.000Z" title="Wed Dec 17 2025 10:43:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI åº”ç”¨å¿«é€Ÿè½åœ°çš„ä»Šå¤©ï¼Œè¶Šæ¥è¶Šå¤šä¼ä¸šå¸Œæœ›å°†å¤§æ¨¡å‹èƒ½åŠ›èå…¥æ•°æ®å¤„ç†æµç¨‹â€”â€”æ— è®ºæ˜¯æ–‡æœ¬åˆ†æã€æ™ºèƒ½æ‘˜è¦ï¼Œè¿˜æ˜¯ RAG çŸ¥è¯†åº“æ„å»ºã€‚ä½†ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œæ¨¡å‹éƒ¨ç½²ä¾èµ–ä¸“ä¸š MLOps å›¢é˜Ÿï¼Œéœ€è‡ªè¡Œæ­å»ºæ¨ç†ç¯å¢ƒã€é…ç½® GPU èµ„æºã€ç»´æŠ¤æœåŠ¡ç¨³å®šæ€§ï¼Œé—¨æ§›é«˜ã€å‘¨æœŸé•¿ã€æˆæœ¬é‡ã€‚</p>
<p>ç°åœ¨ï¼Œé˜¿é‡Œäº‘ <strong>DataWorks å‘å¸ƒå¤§æ¨¡å‹æœåŠ¡èƒ½åŠ›</strong>ï¼ŒåŸºäº <strong>Serverless èµ„æºç»„</strong>ï¼Œæ”¯æŒç”¨æˆ· <strong>ä¸€é”®éƒ¨ç½²ä¸»æµå¤§æ¨¡å‹</strong>ï¼Œå¹¶å¯åœ¨ <strong>æ•°æ®é›†æˆå’Œæ•°æ®å¼€å‘ä»»åŠ¡ä¸­ç›´æ¥è°ƒç”¨æ¨¡å‹ API</strong>ï¼Œå®ç°â€œéƒ¨ç½²â€”é›†æˆâ€”ä½¿ç”¨â€å…¨æµç¨‹é—­ç¯ï¼ŒçœŸæ­£è®©æ•°æ®å·¥ç¨‹å¸ˆä¹Ÿèƒ½è½»æ¾ç©è½¬å¤§æ¨¡å‹ï¼</p>
<p><img src="https://static001.geekbang.org/infoq/b7/b7d9d38118d77f6bef7b12ee83eb1538.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸‰æ­¥å®Œæˆæ¨¡å‹éƒ¨ç½²ï¼Œé›¶ä»£ç ä¸Šæ‰‹</h2>
<p>é€šè¿‡ DataWorks å¤§æ¨¡å‹æœåŠ¡ç®¡ç†åŠŸèƒ½ï¼Œæ‚¨åªéœ€ä¸‰ä¸ªæ­¥éª¤å³å¯å®Œæˆæ¨¡å‹ä¸Šçº¿ï¼š</p>
<ol>
<li>
<p><strong>é€‰æ‹©æ¨¡å‹</strong> æ”¯æŒé€šä¹‰åƒé—® Qwen3 ç³»åˆ—ã€DeepSeek ç³»åˆ—ç­‰å¤šç§ä¸»æµæ¨¡å‹ï¼Œæ¶µç›–ç”Ÿæˆã€æ¨ç†ã€å‘é‡åŒ–ç­‰åœºæ™¯ã€‚</p>
</li>
<li>
<p><strong>ä¸€é”®éƒ¨ç½²</strong> åœ¨æ§åˆ¶å°ç‚¹å‡»â€œéƒ¨ç½²â€ï¼Œé€‰æ‹©ç›®æ ‡ <strong>Serverless èµ„æºç»„</strong> å’Œ GPU è§„æ ¼ï¼ˆå¦‚ vGPU-1/4ã€vGPU-1ï¼‰ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆé•œåƒæ‹‰å–ã€æœåŠ¡å¯åŠ¨ä¸å¥åº·æ£€æŸ¥ã€‚</p>
</li>
<li>
<p><strong>è·å–è°ƒç”¨åœ°å€</strong> éƒ¨ç½²æˆåŠŸåï¼Œè‡ªåŠ¨ç”Ÿæˆæ ‡å‡† OpenAPI æ¥å£åœ°å€å’Œé‰´æƒ Tokenï¼Œå¯ç”¨äºåç»­ä»»åŠ¡è°ƒç”¨ã€‚</p>
</li>
</ol>
<p><img src="https://static001.geekbang.org/infoq/21/21954c17748c0bb90aa8d7c75f4b83cc.png" alt="" loading="lazy"/></p>
<p><em>å¤§æ¨¡å‹éƒ¨ç½²é¡µé¢</em></p>
<p>æ•´ä¸ªè¿‡ç¨‹ <strong>æ— éœ€å…³æ³¨åº•å±‚èµ„æºè°ƒåº¦ã€å®¹å™¨ç¼–æ’æˆ–ç½‘ç»œé…ç½®</strong>ï¼ŒçœŸæ­£åšåˆ°â€œç‚¹ä¸€ä¸‹ï¼Œå°±å¯ç”¨â€ï¼Œå¤§å¹…é™ä½å¤§æ¨¡å‹è½åœ°é—¨æ§›ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒä¼˜åŠ¿</h2>
<p><img src="https://static001.geekbang.org/infoq/35/350b5a1610e02f6f1128735628ec6693.png" alt="" loading="lazy"/></p>
<p>å¾—ç›Šäºåº•å±‚èµ„æºä¼˜åŒ–ä¸è½»é‡åŒ–æ¨ç†å¼•æ“ï¼Œå¯¹äºå‚æ•°è§„æ¨¡è¾ƒå°çš„æ¨¡å‹ï¼ˆå¦‚ Qwen-Turboã€Embedding æ¨¡å‹ï¼‰ï¼Œåœ¨ Serverless èµ„æºç»„ä¸Šçš„ <strong>å¹³å‡æ¨ç†å»¶è¿Ÿæ˜¾è‘—é™ä½ï¼Œæ€§èƒ½æå‡è¿‘ 10 å€</strong>ï¼Œç‰¹åˆ«é€‚åˆé«˜é¢‘ã€ä½å»¶è¿Ÿçš„åœ¨çº¿æ¨ç†åœºæ™¯ã€‚</p>
<h2 data-id="heading-2">ä¸€é”®å¼€å¯æ•°æ®é›†æˆä¸å¼€å‘çš„å¤§æ¨¡å‹åº”ç”¨</h2>
<p>ç›®å‰æ”¯æŒåœ¨æ•°æ®é›†æˆã€æ•°æ®å¼€å‘ä¸­è°ƒç”¨å¤§æ¨¡å‹ï¼Œå®ç°å¯¹æ•°æ®çš„æ™ºèƒ½å¤„ç†ã€‚</p>
<h3 data-id="heading-3">æ•°æ®é›†æˆä¸­è°ƒç”¨</h3>
<p>åœ¨å•è¡¨ç¦»çº¿åŒæ­¥ä»»åŠ¡ä¸­ï¼Œå¯ä½¿ç”¨å¤§æ¨¡å‹æœåŠ¡å¯¹åŒæ­¥ä¸­çš„æ•°æ®è¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdataworks%2Fuser-guide%2Foffline-synchronization-task-ai-auxiliary-processing" target="_blank" title="https://help.aliyun.com/zh/dataworks/user-guide/offline-synchronization-task-ai-auxiliary-processing" ref="nofollow noopener noreferrer">AIè¾…åŠ©å¤„ç†</a>ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/5d/5d0552e369f5436e0d3caa4e5f1fcb17.png" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">æ•°æ®å¼€å‘ä¸­è°ƒç”¨</h3>
<h4 data-id="heading-5">æ–¹å¼1ã€å¤§æ¨¡å‹èŠ‚ç‚¹è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹</h4>
<p>DataWorks æ–°ç‰ˆæ•°æ®å¼€å‘ Data Studio æä¾›ä¸“å±çš„å¤§æ¨¡å‹èŠ‚ç‚¹ï¼Œæ”¯æŒé€šè¿‡å¯è§†åŒ–é…ç½®æ–¹å¼ç›´æ¥è°ƒç”¨å·²éƒ¨ç½²çš„ç”Ÿæˆç±»æˆ–å‘é‡ç±»å¤§æ¨¡å‹ã€‚ç”¨æˆ·æ— éœ€ç¼–å†™ä»£ç ï¼Œåªéœ€é€‰æ‹©ç›®æ ‡æ¨¡å‹ã€è¾“å…¥æç¤ºè¯ï¼ˆPromptï¼‰å¹¶è®¾ç½®å‚æ•°ï¼Œå³å¯å®Œæˆæ–‡æœ¬ç”Ÿæˆã€æ‘˜è¦æå–æˆ–æ–‡æœ¬å‘é‡åŒ–ç­‰ä»»åŠ¡ï¼Œé€‚ç”¨äºå¿«é€ŸéªŒè¯æ¨¡å‹æ•ˆæœå’Œæ„å»ºè½»é‡çº§ AI æµç¨‹ã€‚</p>
<p><img src="https://static001.geekbang.org/infoq/27/27b9ee04aa350f0795e8a1dc60799f69.gif" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">æ–¹å¼2ã€Shell èŠ‚ç‚¹è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹</h4>
<p>ç”¨æˆ·å¯åœ¨ Shell èŠ‚ç‚¹ä¸­é€šè¿‡ curl å‘½ä»¤è°ƒç”¨å¤§æ¨¡å‹æœåŠ¡ APIï¼Œå®ç°å¯¹ç”Ÿæˆæ¨¡å‹æˆ–å‘é‡æ¨¡å‹çš„çµæ´»è°ƒç”¨ã€‚ä¾‹å¦‚ï¼Œå‘é€è‡ªç„¶è¯­è¨€è¯·æ±‚è·å–æ¨¡å‹å›å¤ï¼Œæˆ–å°†æ–‡æœ¬ä¼ å…¥ Embedding æ¨¡å‹ç”Ÿæˆå‘é‡ã€‚è¯¥æ–¹å¼é€‚åˆç†Ÿæ‚‰å‘½ä»¤è¡Œæ“ä½œçš„å¼€å‘è€…ï¼Œç»“åˆè°ƒåº¦é…ç½®å¯å®ç°è‡ªåŠ¨åŒ–ä»»åŠ¡æ‰§è¡Œã€‚</p>
<h4 data-id="heading-7">æ–¹å¼3ã€PythonèŠ‚ç‚¹è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹</h4>
<p>é€šè¿‡ Python èŠ‚ç‚¹ï¼Œç”¨æˆ·å¯ä½¿ç”¨ requests ç­‰åº“ç¼–å†™è„šæœ¬ï¼Œä»¥ç¼–ç¨‹æ–¹å¼è°ƒç”¨å¤§æ¨¡å‹æœåŠ¡ã€‚æ”¯æŒæµå¼è¾“å‡ºå¤„ç†ã€è‡ªå®šä¹‰è§£æé€»è¾‘å’Œå¤æ‚ä¸šåŠ¡å°è£…ï¼Œé€‚ç”¨äºå†™è¯—ã€æŠ¥å‘Šç”Ÿæˆã€ç»“æ„åŒ–è¾“å‡ºç­‰éœ€è¦ç²¾ç»†æ§åˆ¶çš„åœºæ™¯ã€‚éœ€åŸºäºè‡ªå®šä¹‰é•œåƒå®‰è£…å¿…è¦ä¾èµ–åè¿è¡Œï¼Œå¹¶å¯é›†æˆè‡³å®Œæ•´æ•°æ®é“¾è·¯ä¸­ã€‚</p>
<p>æ¥ä¸‹æ¥ä¸¾ä¸ªğŸŒ°å±•ç¤ºå¦‚ä½•åœ¨PythonèŠ‚ç‚¹é€šè¿‡è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹å®Œæˆå†™è¯—æŒ‡ä»¤ã€‚</p>
<ol>
<li>å½“å‰ç¤ºä¾‹ä¾èµ–Pythonçš„<code>requests</code>åº“ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä¸»è¦å‚æ•°ï¼ŒåŸºäºDataWorkså®˜æ–¹é•œåƒåˆ›å»º<a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdataworks%2Fuser-guide%2Fcustom-image" target="_blank" title="https://help.aliyun.com/zh/dataworks/user-guide/custom-image" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰é•œåƒ</a>å®‰è£…è¯¥ä¾èµ–ç¯å¢ƒã€‚</li>
</ol>
<p><img src="https://static001.geekbang.org/infoq/4d/4d163cb955199f76f1fdaa7ce5007cba.png" alt="" loading="lazy"/></p>
<p>2. <a href="https://link.juejin.cn?target=https%3A%2F%2Fhelp.aliyun.com%2Fzh%2Fdataworks%2Fuser-guide%2Fnode-development-of-data-studio%2F%2313d1ad442e1tc" target="_blank" title="https://help.aliyun.com/zh/dataworks/user-guide/node-development-of-data-studio/#13d1ad442e1tc" ref="nofollow noopener noreferrer">åˆ›å»ºPythonèŠ‚ç‚¹</a>ï¼Œåœ¨PythonèŠ‚ç‚¹æ·»åŠ å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">def</span> <span class="hljs-title function_">stream_print_response</span>():
    httpUrl = <span class="hljs-string">"http://ms-xxxx.cn-beijing.dataworks-model.aliyuncs.com"</span>
    apikey = <span class="hljs-string">"DW-ms-xxxx"</span>
    url = httpUrl + <span class="hljs-string">"/v1/completions"</span>
    headers = {
        <span class="hljs-string">"Authorization"</span>: apikey,
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
    }
    data = {
        <span class="hljs-string">"prompt"</span>: <span class="hljs-string">"è¯·å†™ä¸€ç¯‡å…³äºæ˜¥å¤©çš„è¯—"</span>,
        <span class="hljs-string">"stream"</span>: <span class="hljs-literal">True</span>,
        <span class="hljs-string">"max_tokens"</span>: <span class="hljs-number">512</span>
    }

    <span class="hljs-keyword">try</span>:
        response = requests.post(url, headers=headers, json=data, stream=<span class="hljs-literal">True</span>)
        response.raise_for_status()

        full_text = <span class="hljs-string">""</span>  <span class="hljs-comment"># ç´¯ç§¯å®Œæ•´å›å¤ï¼Œé˜²æ­¢ä¸¢å¤±</span>
        buffer = <span class="hljs-string">""</span>     <span class="hljs-comment"># ç”¨äºå¤„ç†ä¸å®Œæ•´çš„ JSON è¡Œï¼ˆå¯é€‰ï¼‰</span>

        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> response.iter_lines():
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> line:
                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># è·³è¿‡ç©ºè¡Œ</span>

            line_str = line.decode(<span class="hljs-string">'utf-8'</span>).strip()
            <span class="hljs-comment"># print(f"[DEBUG] æ”¶åˆ°è¡Œ: {line_str}")  # è°ƒè¯•ç”¨</span>

            <span class="hljs-keyword">if</span> line_str.startswith(<span class="hljs-string">"data:"</span>):
                data_str = line_str[<span class="hljs-number">5</span>:].strip()  <span class="hljs-comment"># å»æ‰ "data: "</span>

                <span class="hljs-keyword">if</span> data_str == <span class="hljs-string">"[DONE]"</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n[æµå¼å“åº”ç»“æŸ]"</span>)
                    <span class="hljs-keyword">break</span>

                <span class="hljs-comment"># å°è¯•è§£æ JSON</span>
                <span class="hljs-keyword">try</span>:
                    parsed = json.loads(data_str)
                    choices = parsed.get(<span class="hljs-string">"choices"</span>, [])
                    <span class="hljs-keyword">if</span> choices:
                        delta_text = choices[<span class="hljs-number">0</span>].get(<span class="hljs-string">"text"</span>, <span class="hljs-string">""</span>)
                        <span class="hljs-keyword">if</span> delta_text:
                            <span class="hljs-comment"># ç´¯ç§¯åˆ°å®Œæ•´æ–‡æœ¬</span>
                            full_text += delta_text

                            <span class="hljs-comment"># é€å­—æ‰“å°æ–°å¢çš„å­—ç¬¦</span>
                            <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> delta_text:
                                <span class="hljs-built_in">print</span>(char, end=<span class="hljs-string">''</span>, flush=<span class="hljs-literal">True</span>)
                                sys.stdout.flush()
                                time.sleep(<span class="hljs-number">0.03</span>)  <span class="hljs-comment"># æ‰“å­—æœºæ•ˆæœ</span>

                <span class="hljs-keyword">except</span> json.JSONDecodeError <span class="hljs-keyword">as</span> e:
                    <span class="hljs-comment"># print(f"[è­¦å‘Š] JSON è§£æå¤±è´¥: {e}, åŸæ–‡: {data_str}")</span>
                    <span class="hljs-keyword">continue</span>

        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n\n[å®Œæ•´å›å¤é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(full_text)}</span> å­—]"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[ å®Œæ•´å†…å®¹]:\n<span class="hljs-subst">{full_text}</span>"</span>)

    <span class="hljs-keyword">except</span> requests.exceptions.RequestException <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f" è¯·æ±‚å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f" å…¶ä»–é”™è¯¯: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    stream_print_response()
</code></pre>
<p><strong>è¯´æ˜</strong>ï¼šè¯·å°†ä»£ç ä¸­ä»¥<code>http</code>å¼€å¤´çš„å¤§æ¨¡å‹æœåŠ¡è°ƒç”¨åœ°å€å’Œä»¥<code>DW</code>å¼€å¤´çš„Tokenä¿¡æ¯æ›¿æ¢ä¸ºæ‚¨çš„å®é™…å€¼ã€‚</p>
<p>3. ç¼–è¾‘èŠ‚ç‚¹å†…å®¹åï¼Œåœ¨èŠ‚ç‚¹ç¼–è¾‘é¡µé¢å³ä¾§çš„<strong>è°ƒè¯•é…ç½®</strong>ä¸­ï¼Œé€‰æ‹©å·²å®Œæˆç½‘ç»œè¿é€šé…ç½®çš„èµ„æºç»„å’Œ<code>æ­¥éª¤1</code>ä¸­å®‰è£…äº†<code>requests</code>åº“çš„è‡ªå®šä¹‰<strong>é•œåƒ</strong>ã€‚</p>
<p>4. å•å‡»<strong>è¿è¡Œ</strong>èŠ‚ç‚¹ï¼Œå³å¯è°ƒç”¨å·²éƒ¨ç½²çš„æœåŠ¡æ¨¡å‹æ‰§è¡Œç›¸å…³å‘½ä»¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰]]></title>    <link>https://juejin.cn/post/7584320417307197491</link>    <guid>https://juejin.cn/post/7584320417307197491</guid>    <pubDate>2025-12-17T00:45:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584320417307197491" data-draft-id="7584279552434094118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,Logstash"/> <meta itemprop="datePublished" content="2025-12-17T00:45:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-17T00:45:29.000Z" title="Wed Dec 17 2025 00:45:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šä» MySQL å¢é‡åŒæ­¥ç»“æ„åŒ–æ•°æ®åˆ° Logstashï¼›åŒæ—¶é›†ä¸­é‡‡é›† Linux/è®¾å¤‡ Syslog æ—¥å¿—å¹¶è§£æã€‚</li>
<li>ç»“è®ºï¼šJDBC é€‚åˆâ€œæŒ‰è¡¨/æŒ‰ SQL æ‹‰å–+å¢é‡ä½ç‚¹â€ï¼›Syslog é€‚åˆâ€œç½‘ç»œæ—¥å¿—æµå…¥+Grok/Date è§£æâ€ï¼Œä¸¤è€…ç“¶é¢ˆåˆ†åˆ«åœ¨ DB/æŸ¥è¯¢ä¸ç½‘ç»œ/è§£æã€‚</li>
<li>äº§å‡ºï¼šä¸¤å¥—å¯è·‘é€šçš„ Logstash 7.3.0 é…ç½®ï¼ˆjdbc.confã€syslog.confï¼‰+ å¢é‡è¿½è¸ªä¸ rsyslog è½¬å‘é“¾è·¯ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83442750aee4466da32a35ba9b2a5071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=0ezZp9WLTCSILVQ3YKjS709bet0%3D" alt="å¤§æ•°æ®-186 Logstash JDBC vs Syslog Inputï¼šåŸç†ã€åœºæ™¯å¯¹æ¯”ä¸å¯å¤ç”¨é…ç½®ï¼ˆåŸºäº Logstash 7.3.0ï¼‰" loading="lazy"/></p>
<h2 data-id="heading-1">ç‰ˆæœ¬çŸ©é˜µ</h2>





























<table><thead><tr><th>ç»„ä»¶/å·¥å…·</th><th>é…ç½®è¯´æ˜</th></tr></thead><tbody><tr><td>Logstash 7.3.0</td><td>é…ç½®è·¯å¾„ä¸å‘½ä»¤å‡ä»¥ <code>/opt/servers/logstash-7.3.0</code> ä¸ºåŸºå‡†ï¼›<code>-t</code> æ ¡éªŒé€šè¿‡æˆªå›¾å·²ä½“ç°</td></tr><tr><td>MySQL Connector/J</td><td>ä½¿ç”¨ <code>jdbc.conf</code> é…ç½®ï¼Œé©±åŠ¨ç‰ˆæœ¬ä¸º 8.0.19ï¼›MySQL 8 æ¨èä½¿ç”¨ <code>com.mysql.cj.jdbc.Driver</code>ï¼ˆå…¼å®¹æ€§ä¸æ—¶åŒº/SSL å‚æ•°æ›´æ˜ç¡®ï¼‰</td></tr><tr><td>MySQLï¼ˆç¤ºä¾‹è¡¨ userï¼‰</td><td>é€šè¿‡ <code>tracking_column =&gt; "id" + id &gt; :sql_last_value</code> å®ç°å¢é‡ï¼›é€‚é…è‡ªå¢/å•è°ƒé€’å¢åˆ—</td></tr><tr><td>rsyslogï¼ˆLinuxï¼‰</td><td>åœ¨ <code>/etc/rsyslog.conf</code> ä¸­å¢åŠ  <code>*.* @@host:port</code> å®ç° TCP è½¬å‘ï¼›éœ€æ‰§è¡Œ <code>systemctl restart rsyslog</code> ç”Ÿæ•ˆ</td></tr><tr><td>Logstash tcp/udp input</td><td><code>syslog.conf</code> é‡‡ç”¨ <code>tcp {} + udp {}</code> ç›‘å¬ 6789 ç«¯å£ï¼Œå¹¶ä½¿ç”¨ <code>grok</code> è§£æâ€œç±» syslogâ€æ¶ˆæ¯ï¼ˆé syslog input æ’ä»¶ç›´é…ï¼‰</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f7c20b7a75b4186b5742e09dd0a1d13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=WBQBi50P7LaSfTFnK4d5kT37x8c%3D" alt="Elasticsearch" loading="lazy"/></p>
<h2 data-id="heading-2">åŸºæœ¬ä»‹ç»</h2>
<p>Logstash çš„ JDBC å’Œ Syslog æ˜¯ä¸¤ç§åŠŸèƒ½å„å¼‚çš„ Input æ’ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«é’ˆå¯¹ä¸åŒçš„æ•°æ®æºè¿›è¡Œä¼˜åŒ–è®¾è®¡ï¼Œåœ¨æ•°æ®å¤„ç†æµç¨‹ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚ä¸‹é¢å°†è¯¦ç»†é˜è¿°å®ƒä»¬çš„æŠ€æœ¯ç‰¹æ€§ã€åº”ç”¨åœºæ™¯åŠå…¸å‹é…ç½®ï¼š</p>
<h4 data-id="heading-3">JDBC æ’ä»¶æ·±å…¥è§£æ</h4>
<ol>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>æ”¯æŒä¸»æµå…³ç³»å‹æ•°æ®åº“ï¼šMySQL (5.7+)ã€PostgreSQL (9.6+)ã€Oracle (12c+)ã€SQL Server (2016+)ç­‰</li>
<li>åŸºäº JDBC 4.2 è§„èŒƒå®ç°ï¼Œä½¿ç”¨æ•°æ®åº“å®˜æ–¹æä¾›çš„ JDBC é©±åŠ¨</li>
<li>æ”¯æŒå¢é‡æ•°æ®é‡‡é›†ï¼šé€šè¿‡ <code>sql_last_value</code> å‚æ•°è®°å½•æœ€åå¤„ç†ä½ç½®</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æ•°æ®ä»“åº“çš„ ETL æµç¨‹</li>
<li>ä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“å˜æ›´ç›‘æ§</li>
<li>å°†ä¼ ç»Ÿæ•°æ®åº“æ•°æ®å¯¼å…¥ Elasticsearch é›†ç¾¤</li>
<li>ç¤ºä¾‹ï¼šç”µå•†è®¢å•æ•°æ®å®æ—¶åŒæ­¥</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-sql" lang="sql">     <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> update_time <span class="hljs-operator">&gt;</span> :sql_last_value
</code></pre>
<ol start="3">
<li><strong>å…³é”®é…ç½®å‚æ•°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">   input {
     jdbc {
       jdbc_driver_library =&gt; <span class="hljs-string">"/path/to/mysql-connector-java-8.0.28.jar"</span>
       jdbc_driver_class =&gt; <span class="hljs-string">"com.mysql.jdbc.Driver"</span>
       jdbc_connection_string =&gt; <span class="hljs-string">"jdbc:mysql://localhost:3306/ecommerce"</span>
       jdbc_user =&gt; <span class="hljs-string">"logstash"</span>
       jdbc_password =&gt; <span class="hljs-string">"securepassword"</span>
       schedule =&gt; <span class="hljs-string">"* * * * *"</span>  <span class="hljs-comment"># æ¯åˆ†é’Ÿæ‰§è¡Œ</span>
       statement =&gt; <span class="hljs-string">"SELECT * FROM products WHERE last_modified &gt; :sql_last_value"</span>
       use_column_value =&gt; <span class="hljs-literal">true</span>
       tracking_column =&gt; <span class="hljs-string">"last_modified"</span>
     }
   }
</code></pre>
<h4 data-id="heading-4">Syslog æ’ä»¶æŠ€æœ¯ç»†èŠ‚</h4>
<ol>
<li>
<p><strong>åè®®æ”¯æŒ</strong>ï¼š</p>
<ul>
<li>RFC3164 (æ—§ç‰ˆ BSD syslog)</li>
<li>RFC5424 (æ–°ç‰ˆç»“æ„åŒ–syslog)</li>
<li>æ”¯æŒ TCP/UDP ä¸¤ç§ä¼ è¾“åè®®</li>
</ul>
</li>
<li>
<p><strong>ç½‘ç»œé…ç½®é€‰é¡¹</strong>ï¼š</p>
<ul>
<li>ç«¯å£ç»‘å®šï¼šé»˜è®¤ 514 (UDP) / 6514 (TCP)</li>
<li>æ”¯æŒ TLS åŠ å¯†ä¼ è¾“</li>
<li>å¯é…ç½®å¤šä¸ªç›‘å¬ç«¯å£å®ç°å¤šç§Ÿæˆ·éš”ç¦»</li>
</ul>
</li>
<li>
<p><strong>å…¸å‹éƒ¨ç½²æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>ç½‘ç»œè®¾å¤‡æ—¥å¿—æ”¶é›†ï¼ˆè·¯ç”±å™¨/äº¤æ¢æœºï¼‰</li>
<li>Linux ç³»ç»Ÿæ—¥å¿—é›†ä¸­ç®¡ç†</li>
<li>å®¹å™¨ç¯å¢ƒæ—¥å¿—é‡‡é›†ï¼ˆDocker syslogé©±åŠ¨ï¼‰</li>
<li>ç¤ºä¾‹ï¼šé˜²ç«å¢™æ—¥å¿—å¤„ç†</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-ruby" lang="ruby">     input {
       syslog {
         port =&gt; <span class="hljs-number">5514</span>
         type =&gt; <span class="hljs-string">"firewall"</span>
         syslog_field =&gt; <span class="hljs-string">"syslog_message"</span>
       }
     }
</code></pre>
<ol start="4">
<li><strong>é«˜çº§åŠŸèƒ½</strong>ï¼š
<ul>
<li>æ”¯æŒè‡ªå®šä¹‰æ¶ˆæ¯è§£ææ¨¡å¼</li>
<li>å¯é…ç½®æ—¶åŒºè½¬æ¢</li>
<li>æä¾›æ¶ˆæ¯ä¼˜å…ˆçº§(PRI)è§£æ</li>
</ul>
</li>
</ol>
<p>ä¸¤ç§æ’ä»¶åœ¨æ€§èƒ½è°ƒä¼˜æ–¹é¢ä¹Ÿå­˜åœ¨å·®å¼‚ï¼šJDBC æ’ä»¶éœ€è¦å…³æ³¨æ•°æ®åº“è¿æ¥æ± é…ç½®å’Œæ‰¹å¤„ç†å¤§å°ï¼Œè€Œ Syslog æ’ä»¶åˆ™éœ€è¦ä¼˜åŒ–ç½‘ç»œç¼“å†²åŒºè®¾ç½®å’Œå¹¶å‘å¤„ç†èƒ½åŠ›ã€‚å®é™…éƒ¨ç½²æ—¶ï¼Œå»ºè®®æ ¹æ®æ•°æ®é‡çº§å’Œå»¶è¿Ÿè¦æ±‚è¿›è¡Œé’ˆå¯¹æ€§è°ƒä¼˜ã€‚</p>
<h3 data-id="heading-5">JDBC Input æ’ä»¶</h3>
<p>JDBC æ’ä»¶ç”¨äºä»å…³ç³»å‹æ•°æ®åº“ä¸­æå–æ•°æ®ï¼Œç‰¹åˆ«é€‚ç”¨äºå°†ç»“æ„åŒ–çš„ä¸šåŠ¡æ•°æ®å¯¼å…¥åˆ° ELKï¼ˆElasticsearch, Logstash, Kibanaï¼‰å †æ ˆä¸­ã€‚å®ƒæ”¯æŒå®šæ—¶è°ƒåº¦å’Œå¢é‡æå–ï¼Œé€‚åˆæ•°æ®åŒæ­¥å’Œ ETL åœºæ™¯ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥ï¼šä½¿ç”¨ JDBC é©±åŠ¨æ¥è¿æ¥å„ç§æ•°æ®åº“ï¼ˆä¾‹å¦‚ MySQLã€PostgreSQLã€Oracleã€SQL Server ç­‰ï¼‰ã€‚</li>
<li>SQL æŸ¥è¯¢ï¼šå…è®¸ç”¨æˆ·é€šè¿‡ SQL æŸ¥è¯¢è¯­å¥é€‰æ‹©æ•°æ®ï¼Œæ”¯æŒå¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ã€‚</li>
<li>å¢é‡æå–ï¼šå¯ä»¥é…ç½®â€œè¿½è¸ªåˆ—â€ï¼ˆtracking columnï¼‰ï¼ŒåŸºäºæŸä¸€åˆ—ï¼ˆå¦‚è‡ªå¢ ID æˆ–æ—¶é—´æˆ³ï¼‰å®ç°å¢é‡æ•°æ®æ‹‰å–ï¼Œé¿å…é‡å¤å¯¼å…¥ã€‚</li>
<li>å®šæ—¶è°ƒåº¦ï¼šå¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå®šæœŸæŸ¥è¯¢å’ŒåŒæ­¥æ•°æ®åº“çš„æ•°æ®ã€‚</li>
<li>é”™è¯¯é‡è¯•æœºåˆ¶ï¼šå¯ä»¥å¤„ç†è¿æ¥é”™è¯¯å¹¶è‡ªåŠ¨é‡è¯•ï¼Œç¡®ä¿æ•°æ®é‡‡é›†çš„ç¨³å®šæ€§ã€‚</li>
</ul>
<h3 data-id="heading-6">Syslog Input æ’ä»¶</h3>
<p>Syslog æ’ä»¶ç”¨äºæ¥æ”¶åŸºäº Syslog åè®®ä¼ è¾“çš„æ—¥å¿—æ•°æ®ã€‚Syslog æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æ—¥å¿—åè®®ï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œè®¾å¤‡å’Œ Linux/Unix æ“ä½œç³»ç»Ÿä¸­ã€‚Logstash çš„ Syslog æ’ä»¶èƒ½å¤Ÿç›‘å¬ç‰¹å®šçš„ç«¯å£ï¼Œæ¥æ”¶å’Œè§£æè¿™äº›æ—¥å¿—ã€‚</p>
<p>ä¸»è¦åŠŸèƒ½ï¼š</p>
<ul>
<li>åè®®æ”¯æŒï¼šæ”¯æŒ Syslog åè®®ï¼ŒåŒ…æ‹¬ RFC 3164 å’Œ RFC 5424 æ ¼å¼çš„æ—¥å¿—ã€‚</li>
<li>å¤šç§ä¼ è¾“æ–¹å¼ï¼šæ”¯æŒé€šè¿‡ TCP å’Œ UDP åè®®æ¥æ”¶æ—¥å¿—ï¼Œé€‚åº”ä¸åŒçš„ä¼ è¾“éœ€æ±‚ã€‚</li>
<li>æ—¥å¿—è§£æï¼šè‡ªåŠ¨è§£æ Syslog æ¶ˆæ¯çš„å¤´éƒ¨å­—æ®µï¼Œä¾‹å¦‚æ—¶é—´æˆ³ã€ä¸»æœºåã€ç¨‹åºåç­‰ã€‚</li>
<li>ç½‘ç»œç›‘å¬ï¼šå¯ä»¥é€šè¿‡ç›‘å¬æŒ‡å®šçš„ IP å’Œç«¯å£ï¼ŒæŒç»­æ¥æ”¶å¹¶å¤„ç†æ¥è‡ªç½‘ç»œçš„ Syslog æ—¥å¿—ã€‚</li>
</ul>
<h2 data-id="heading-7">JDBCæ’ä»¶</h2>
<p>JDBCæ’ä»¶å¯ä»¥é‡‡é›†æŸå¼ æ•°æ®åº“è¡¨å½“ä¸­çš„æ•°æ®åˆ°Logstashå½“ä¸­æ¥</p>
<h3 data-id="heading-8">å‡†å¤‡æ•°æ®</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `<span class="hljs-keyword">user</span>` (
  `id` <span class="hljs-type">bigint</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  `user_name` <span class="hljs-type">varchar</span>(<span class="hljs-number">25</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `gender` <span class="hljs-type">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,
  `create_time` <span class="hljs-type">timestamp</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
  <span class="hljs-keyword">PRIMARY</span> KEY(`id`)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHRASET<span class="hljs-operator">=</span>utf8;

<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>, <span class="hljs-string">'zhangsan'</span>, <span class="hljs-string">'male'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">2</span>, <span class="hljs-string">'lisi'</span>, <span class="hljs-string">'female'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
</code></pre>
<p>ç›®å‰æˆ‘ä»¬çš„MySQLæœåŠ¡å™¨æ˜¯åœ¨ h122 èŠ‚ç‚¹ä¸Šçš„ï¼ˆä¹‹å‰ç»™Hiveå’ŒHBaseç­‰ä¸šåŠ¡ä½¿ç”¨çš„ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦åˆ° h122 æ•°æ®åº“ä¸­ï¼Œæ‰§è¡Œä¸Šè¿°çš„SQLæŒ‡ä»¤ã€‚
æˆ‘è¿™é‡Œä½¿ç”¨Navicatæ‰§è¡Œï¼Œ æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f4d73cd9bdb4b508b43bda78bd8cb7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=N1CX2DFcdfLQMLmgXkYGjx1Zxnw%3D" alt="Elasticsearch æ‰§è¡ŒSQLè¡¨" loading="lazy"/></p>
<h3 data-id="heading-9">ç¼–å†™é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0/config
vim jdbc.conf
</code></pre>
<p>å†™å…¥å¦‚ä¸‹çš„å†…å®¹ï¼ˆè¿™é‡Œæ³¨æ„äº›è‡ªå·±çš„ç¯å¢ƒï¼Œæˆ‘çš„ç¯å¢ƒå’Œä½ çš„ä¸ä¸€æ ·ï¼‰ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">input {
  jdbc {
    jdbc_driver_library =&gt; "/opt/servers/mysql-connector-java-8.0.19.jar"
    jdbc_driver_class =&gt; "com.mysql.jdbc.Driver"
    jdbc_connection_string =&gt; "jdbc:mysql://h122.wzk.icu:3306/es-test"
    jdbc_user =&gt; "hive"
    jdbc_password =&gt; "hive@wzk.icu"
    use_column_value =&gt; "true"
    clean_run =&gt; "false"
    record_last_run =&gt;"true"
    tracking_column =&gt; "id"
    schedule =&gt; "* * * * *"
    last_run_metadata_path =&gt; "/opt/servers/es/.Logstash_user_jdbc_last_run"
    statement =&gt; "SELECT * from user where id &gt; :sql_last_value;"
  }
}

output{
  stdout{
    codec=&gt;rubydebug
  }
}
</code></pre>
<h3 data-id="heading-10">æ£€æŸ¥é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/jdbc.conf -t
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e0c6e692cf412389e4eda9b9474703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=y%2BSooLmZ%2FiWWr79fcZk5uUQdgCU%3D" alt="Elasticsearch æ£€æŸ¥é…ç½®" loading="lazy"/></p>
<h3 data-id="heading-11">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/jdbc.conf
</code></pre>
<p>å¯åŠ¨ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79421effd51c4e1c8bcf485749a9ea18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=11vR4ckNBkDxzP%2BB06LdRaKE7BU%3D" alt="Elasticsearch å¯åŠ¨æœåŠ¡" loading="lazy"/>
å¯ä»¥çœ‹åˆ°è·å–åˆ°äº†å¯¹åº”çš„æ•°æ®ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7169cb230a5c4e938b80e3ac0f525fc5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=79Y9VL8h9orAGUx5j1eX4QqxKiU%3D" alt="Elasticsearch å¯¹åº”çš„æ•°æ®" loading="lazy"/></p>
<h3 data-id="heading-12">å‘é€æ•°æ®</h3>
<p>ç°åœ¨å‘æ•°æ®åº“ä¸­å†™å…¥æ•°æ®ï¼Œå°±å¯ä»¥å‘ç°Logstashç›‘å¬åˆ°äº†ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `<span class="hljs-keyword">user</span>` <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">3</span>, <span class="hljs-string">'wangwu'</span>, <span class="hljs-string">'female'</span>, <span class="hljs-string">'2024-08-16 00:00:00'</span>);
</code></pre>
<p>å¯¹åº”çš„Logstashçš„å˜åŒ–ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea1e21b5969c4b2cb163dea12b8038e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=7k1UsZgQb69PVLgBujSgon1gLtA%3D" alt="Elasticsearch å‘é€æ•°æ®" loading="lazy"/></p>
<h2 data-id="heading-13">syslogæ’ä»¶</h2>
<p>syslogæœºåˆ¶è´Ÿè´£è®°å½•å†…æ ¸å’Œåº”ç”¨ç¨‹åºäº§ç”Ÿçš„æ—¥å¿—ä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—è®°å½•ï¼Œæ¥æŒæ¡ç³»ç»ŸçŠ¶å†µï¼Œé»˜è®¤ç³»ç»Ÿå·²ç»å®‰è£…äº†rsyslogï¼Œç›´æ¥å¯åŠ¨å³å¯ã€‚</p>
<h3 data-id="heading-14">ç¼–å†™é…ç½®</h3>
<p>åˆ›å»ºæ–°è„šæœ¬ï¼Œsyslog.conf</p>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0/config
vim syslog.conf
</code></pre>
<p>å†™å…¥å¦‚ä¸‹çš„å†…å®¹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">input {
  tcp {
    port =&gt; 6789
    type =&gt; "syslog"
  }
  udp {
    port =&gt; 6789
    type =&gt; "syslog"
  }
}

filter {
  if [type] == "syslog" {
    grok {
      match =&gt; {
        "message" =&gt; "%{SYSLOGTIMESTAMP:syslog_timestamp} %{SYSLOGHOST:syslog_hostname} %{DATA:syslog_program}(?:\[%{POSINT:syslog_pid}\])?: %{GREEDYDATA:syslog_message}"
      }
      add_field =&gt; {
        "received_at" =&gt; "%{@timestamp}"
        "received_from" =&gt; "%{host}"
      }
    }
    date {
      match =&gt; [ "syslog_timestamp", "MMM d HH:mm:ss", "MMM dd HH:mm:ss" ]
    }
  }
}

output {
  stdout {
    codec =&gt; rubydebug
  }
}

</code></pre>
<p>å†™å…¥çš„å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d4191b454740548d7dd390b5e9dcdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=7BUtLyAQcboRANPlI547ok77JIY%3D" alt="Elasticsearch inputé…ç½®" loading="lazy"/></p>
<h3 data-id="heading-15">æ£€æŸ¥é…ç½®</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/syslog.conf -t
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6dec55d2ee5247988014387e8a356f6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=2QbsrRQ3uO6nUcJFzL0Qjg2tCJI%3D" alt="Elasticsearch æ£€æŸ¥é…ç½®" loading="lazy"/></p>
<h3 data-id="heading-16">å¯åŠ¨æœåŠ¡</h3>
<pre><code class="hljs language-shell" lang="shell">cd /opt/servers/logstash-7.3.0
bin/logstash -f /opt/servers/logstash-7.3.0/config/syslog.conf
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d9e282bcbb7454ea6ae9708f4c29aab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=ULNiqzj8McP4LVPGV%2BSv4ApVMmk%3D" alt="Elasticsearch å¯åŠ¨æœåŠ¡æµ‹è¯•" loading="lazy"/></p>
<h3 data-id="heading-17">å‘é€æ•°æ®</h3>
<p>ä¿®æ”¹ç³»ç»Ÿæ—¥å¿—é…ç½®æ–‡ä»¶</p>
<pre><code class="hljs language-shell" lang="shell">vim /etc/rsyslog.conf
</code></pre>
<p>æ·»åŠ ä¸€è¡Œé…ç½®ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">*.* @@h121.wzk.icu:6789
</code></pre>
<p>å†™å…¥çš„æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa2cb122c50c4f9a8bcbd1bec6f0a60d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=zbTPfhfY6qS6qv2pNjapGuqCJjY%3D" alt="Elasticsearch å‘é€æ•°æ®" loading="lazy"/>
é‡å¯ç³»ç»Ÿæ—¥å¿—æœåŠ¡</p>
<pre><code class="hljs language-shell" lang="shell">systemctl restart rsyslog
</code></pre>
<p>æŸ¥çœ‹æ•°æ®ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ•ˆæœï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00160c04b3e043118d08fc7334c3ac85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766537129&amp;x-signature=VOzZ5eBvg%2FnFJ9%2FqqBcPc8cg7eg%3D" alt="Elasticsearch æŸ¥çœ‹ log æ—¥å¿—" loading="lazy"/></p>
<h2 data-id="heading-18">é”™è¯¯é€ŸæŸ¥</h2>







































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>JDBC å¯åŠ¨æŠ¥é©±åŠ¨ç±»æ‰¾ä¸åˆ°ï¼ˆClassNotFoundï¼‰</td><td>jdbc_driver_library è·¯å¾„ä¸å¯¹ / jar ä¸å­˜åœ¨ / ç±»åä¸åŒ¹é…</td><td>Logstash å¯åŠ¨æ—¥å¿—é‡Œçœ‹ Java::...ClassNotFoundExceptionï¼›ç¡®è®¤ jar å®é™…è·¯å¾„</td><td>æ ¡æ­£ jar è·¯å¾„ï¼›MySQL 8 ç”¨ com.mysql.cj.jdbc.Driverï¼›ç¡®ä¿ jar å¯¹ logstash è¿›ç¨‹å¯è¯»</td></tr><tr><td>JDBC èƒ½è¿åº“ä½†ä¸æ‹‰æ•°æ®</td><td>statement æ¡ä»¶ä¸ sql_last_value åˆå§‹å€¼ä¸åŒ¹é…ï¼›æˆ–è¿½è¸ªåˆ—éå•è°ƒ</td><td>æ‰“å° stdout è§‚å¯Ÿæ˜¯å¦æœ‰ eventï¼›æ£€æŸ¥ last_run_metadata_path å†…å®¹</td><td>é¦–æ¬¡å…¨é‡ï¼šä¸´æ—¶ clean_run =&gt; true æˆ–æ”¹ SQL å…è®¸å…¨é‡ï¼›ç¡®ä¿ tracking_column å•è°ƒé€’å¢ï¼ˆid/æ—¶é—´æˆ³ï¼‰</td></tr><tr><td>å¢é‡ä½ç‚¹ä¸æ›´æ–°/é‡å¯åé‡å¤æ‹‰å–</td><td>last_run_metadata_path æ— å†™æƒé™/è·¯å¾„ä¸å­˜åœ¨ï¼›record_last_run é…ç½®ä¸ç”Ÿæ•ˆ</td><td>æŸ¥çœ‹è¯¥è·¯å¾„æ–‡ä»¶æ˜¯å¦ç”Ÿæˆä¸æ›´æ–°æ—¶é—´ï¼›Logstash æ—¥å¿—æœ last_run</td><td>åˆ›å»ºç›®å½•å¹¶æˆæƒï¼›å°† record_last_run/clean_run/use_column_value æ”¹ä¸ºå¸ƒå°”å€¼ï¼›å›ºå®šéƒ¨ç½²ç”¨æˆ·ä¸è·¯å¾„</td></tr><tr><td>æ¯åˆ†é’Ÿè°ƒåº¦ä¸æ‰§è¡Œ</td><td>schedule æ—¶åŒº/cron è§£æé—®é¢˜ï¼›è¿›ç¨‹æœªæŒç»­è¿è¡Œï¼ˆå‰å°é€€å‡ºï¼‰</td><td>Logstash æ—¥å¿—çœ‹æ˜¯å¦æ‰“å° scheduler tickï¼›ç¡®è®¤è¿›ç¨‹å­˜æ´»</td><td>ç”¨æ ‡å‡† cron è¡¨è¾¾å¼ï¼›ä¿æŒè¿›ç¨‹å¸¸é©»ï¼ˆsystemd/å®ˆæŠ¤è¿›ç¨‹ï¼‰ï¼›å¿…è¦æ—¶åŠ å¤§æ—¥å¿—çº§åˆ«</td></tr><tr><td>æ‹‰å–é€Ÿåº¦æ…¢/æ•°æ®åº“å‹åŠ›å¤§</td><td>SQL æ— ç´¢å¼•ã€å…¨è¡¨æ‰«ï¼›æ‰¹æ¬¡å¤ªå°/ç½‘ç»œæ…¢</td><td>DB ä¾§çœ‹æ…¢æŸ¥è¯¢ä¸æ‰§è¡Œè®¡åˆ’ï¼›Logstash ä¾§çœ‹æ¯è½®è€—æ—¶</td><td>ç»™ tracking_column å»ºç´¢å¼•ï¼›åªé€‰å¿…è¦å­—æ®µï¼›åˆ†æ‰¹åˆ†é¡µï¼ˆstatement + ä¸»é”®èŒƒå›´ï¼‰ï¼›åˆç†è°ƒåº¦é¢‘ç‡</td></tr><tr><td>syslog ç«¯å£æ— æ•°æ®</td><td>rsyslog æœªè½¬å‘/é˜²ç«å¢™æ‹¦æˆª/ç›®æ ‡ä¸»æœºä¸å¯è¾¾</td><td>ç›®æ ‡æœº ss -lntup çœ‹ 6789 æ˜¯å¦ç›‘å¬ï¼›æºæœº tcpdump æŠ“åŒ…</td><td>æ”¾é€š 6789 TCP/UDPï¼›ç¡®è®¤ @@(TCP) æˆ– @(UDP)ï¼›æ ¡éªŒä¸»æœºåè§£æä¸è·¯ç”±</td></tr><tr><td>æ”¶åˆ°æ•°æ®ä½† grok è§£æå¤±è´¥ï¼ˆ_grokparsefailureï¼‰</td><td>æ¶ˆæ¯æ ¼å¼ä¸ grok æ¨¡å¼ä¸åŒ¹é…ï¼ˆè®¾å¤‡/ç³»ç»Ÿå·®å¼‚ï¼‰</td><td>stdout é‡Œçœ‹åŸå§‹ messageï¼›è§‚å¯Ÿå­—æ®µæ˜¯å¦ç¼ºå¤±</td><td>æŒ‰å®é™…æ—¥å¿—æ”¹ grokï¼›å…ˆå®½æ¾å†æ”¶ç´§ï¼›ä¸ºä¸åŒæ¥æºåšåˆ†æ”¯åŒ¹é…</td></tr><tr><td>æ—¶é—´æˆ³ä¸å¯¹/æ—¶åŒºé”™ä¹±</td><td>date åŒ¹é…æ ¼å¼ä¸å…¨ï¼›æºæ—¥å¿—æ— å¹´ä»½/æ—¶åŒºä¿¡æ¯</td><td>çœ‹ @timestamp ä¸ syslog_timestampï¼›æ¯”å¯¹æ—¶åŒº</td><td>date å¢åŠ åŒ¹é…æ ¼å¼ï¼›å¿…è¦æ—¶è¡¥ timezone =&gt; "Asia/Shanghai"ï¼›æˆ–åœ¨ rsyslog ä¾§è¾“å‡º RFC3339</td></tr><tr><td>UDP ä¸¢æ—¥å¿—</td><td>UDP å¤©ç„¶ä¸å¯é ï¼›é«˜å³°æœŸä¸¢åŒ…/ç¼“å†²åŒºä¸è¶³</td><td>å¯¹æ¯”æºç«¯æ—¥å¿—é‡ä¸æ¥æ”¶ç«¯äº‹ä»¶é‡ï¼›ç³»ç»Ÿä¸¢åŒ…ç»Ÿè®¡</td><td>å…³é”®æ—¥å¿—æ”¹ TCPï¼›æå‡å†…æ ¸ç¼“å†²åŒºï¼›é™ä½å•æœºè§£æå‹åŠ›ï¼ˆæ°´å¹³æ‰©å±•/åˆ†æµç«¯å£ï¼‰</td></tr><tr><td>ç«¯å£å†²çª/å¯åŠ¨å¤±è´¥</td><td>ç«¯å£è¢«å ç”¨æˆ–æƒé™ä¸è¶³ï¼ˆä½ç«¯å£ï¼‰</td><td>å¯åŠ¨æ—¥å¿—æç¤º bind å¤±è´¥ï¼›lsof -i :PORT</td><td>æ›´æ¢ç«¯å£ï¼›é‡Šæ”¾å ç”¨ï¼›é¿å…ä½¿ç”¨ 514 ç­‰ç‰¹æƒç«¯å£æˆ–ç”¨èƒ½åŠ›æˆæƒ/å‰ç½®è½¬å‘</td></tr></tbody></table>
<h2 data-id="heading-19">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-20">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-21">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-196 æ¶ˆæ¯é˜Ÿåˆ—é€‰å‹ï¼šRabbitMQ vs RocketMQ vs Kafka</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-22">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¹æœiOSè®¾å¤‡å…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ä¸åº”ç”¨åœºæ™¯è§£æ]]></title>    <link>https://juejin.cn/post/7585021315691446282</link>    <guid>https://juejin.cn/post/7585021315691446282</guid>    <pubDate>2025-12-18T10:03:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315691446282" data-draft-id="7584831190731489306" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¹æœiOSè®¾å¤‡å…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ä¸åº”ç”¨åœºæ™¯è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T10:03:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒå°±å¥½2025"/> <meta itemprop="url" content="https://juejin.cn/user/3850962908492660"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¹æœiOSè®¾å¤‡å…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿå®Œæ•´ä½¿ç”¨æŒ‡å—ä¸åº”ç”¨åœºæ™¯è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3850962908492660/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒå°±å¥½2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T10:03:21.000Z" title="Thu Dec 18 2025 10:03:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»¥ä¸‹æ˜¯ä¸€ç¯‡å…³äºè‹¹æœæ‰‹æœºå…è¶Šç‹±ç¾¤æ§ç³»ç»Ÿçš„è¯¦ç»†ä½¿ç”¨æ•™ç¨‹åŠåº”ç”¨åœºæ™¯è¯´æ˜ï¼Œç»“åˆæŠ€æœ¯å¯è¡Œæ€§ä¸åˆè§„æ“ä½œæŒ‡å—ï¼š</p>
<p>ä¸€ã€ç³»ç»ŸåŸç†ä¸æ ¸å¿ƒä¼˜åŠ¿</p>
<ol>
<li>æŠ€æœ¯åŸç†</li>
</ol>
<ul>
<li>
<p>åŸºäºè‹¹æœå®˜æ–¹ Mobile Device Management (MDM) åè®®å¼€å‘ï¼Œæ— éœ€ç ´è§£ç³»ç»Ÿ</p>
</li>
<li>
<p>é€šè¿‡ä¼ä¸šçº§è¯ä¹¦ç­¾åæ§åˆ¶ç«¯Appï¼Œå®ç°è®¾å¤‡åˆæ³•æˆæƒ</p>
</li>
<li>
<p>æ•°æ®åŠ å¯†é‡‡ç”¨ TLS 1.3+SM4 åŒé€šé“ä¿æŠ¤</p>
</li>
</ul>
<ol start="2">
<li>æ ¸å¿ƒä¼˜åŠ¿</li>
</ol>
<p>âœ… é›¶è¶Šç‹±ï¼š100%ä¿ç•™è®¾å¤‡ä¿ä¿®ï¼Œæ”¯æŒiOS 12-17å…¨ç‰ˆæœ¬</p>
<p>âœ… é«˜å¹¶å‘ï¼šå•å°æœåŠ¡å™¨å¯ç®¡ç†500+å°è®¾å¤‡ï¼ˆéœ€ä¼ä¸šå¼€å‘è€…è´¦å·ï¼‰</p>
<p>âœ… åˆè§„æ€§ï¼šç¬¦åˆè‹¹æœã€Šä¼ä¸šè®¾å¤‡ç®¡ç†è§„èŒƒã€‹2023ç‰ˆ</p>
<p>äºŒã€ç¯å¢ƒå‡†å¤‡ä¸è®¾å¤‡ç»‘å®š</p>
<p>æ­¥éª¤1ï¼šåŸºç¡€é…ç½®</p>
<ol>
<li>ç¡¬ä»¶è¦æ±‚</li>
</ol>
<ul>
<li>
<p>æ§åˆ¶ç«¯ï¼šMacç”µè„‘ï¼ˆmacOS 12ä»¥ä¸Šï¼‰</p>
</li>
<li>
<p>è¢«æ§è®¾å¤‡ï¼šiPhone 8åŠä»¥ä¸Šæœºå‹ï¼ˆéœ€å…³é—­â€œæŸ¥æ‰¾æˆ‘çš„iPhoneâ€ï¼‰</p>
</li>
</ul>
<ol start="2">
<li>è½¯ä»¶å®‰è£…</li>
</ol>
<ul>
<li>
<p>ä¸‹è½½ä¼ä¸šç­¾åç‰ˆæ§åˆ¶ç«¯è½¯ä»¶ï¼ˆ*.ipaæ–‡ä»¶ï¼‰</p>
</li>
<li>
<p>é€šè¿‡Apple Configurator 2æ‰¹é‡å®‰è£…åˆ°ç›®æ ‡è®¾å¤‡</p>
</li>
</ul>
<p>å¯¹äºiOSå¼€å‘è€…å’Œæµ‹è¯•äººå‘˜ï¼ŒKeymobåŠ©æ‰‹æä¾›äº†ä¾¿æ·çš„æ–‡ä»¶ç®¡ç†å’ŒAppå®‰è£…åŠŸèƒ½ï¼Œæ”¯æŒåœ¨Windowsã€Macæˆ–Linuxç³»ç»Ÿä¸Šç›´æ¥æ“ä½œiOSè®¾å¤‡æ–‡ä»¶ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹ã€‚</p>
<p>æ­¥éª¤2ï¼šè®¾å¤‡æˆæƒ</p>
<ol>
<li>
<p>æ‰«ææ§åˆ¶å°ç”Ÿæˆçš„ è®¾å¤‡æ³¨å†ŒäºŒç»´ç </p>
</li>
<li>
<p>åœ¨iPhoneä¸Šå…è®¸ã€Œè¿œç¨‹ç®¡ç†ã€æƒé™</p>
</li>
<li>
<p>ç³»ç»Ÿè‡ªåŠ¨åˆ†é…è®¾å¤‡ç¼–å·ï¼ˆå¦‚G-001è‡³G-500ï¼‰</p>
</li>
</ol>
<p>ä¸‰ã€åŸºç¡€æ“ä½œæ•™ç¨‹</p>
<ol>
<li>å¤šè®¾å¤‡åŒæ­¥æ“æ§</li>
</ol>
<ul>
<li>é•œåƒæ¨¡å¼ï¼š</li>
</ul>
<ol>
<li>
<p>é€‰ä¸­è®¾å¤‡ç»„ï¼ˆæ”¯æŒCtrlå¤šé€‰ï¼‰</p>
</li>
<li>
<p>ç‚¹å‡»ã€ŒåŒæ­¥å±å¹•ã€å¯åŠ¨å®æ—¶æŠ•å±</p>
</li>
<li>
<p>åœ¨ä»»æ„è®¾å¤‡è¾“å…¥æ–‡å­—/ç‚¹å‡»æ“ä½œï¼Œå…¶ä»–è®¾å¤‡è‡ªåŠ¨è·Ÿéš</p>
</li>
</ol>
<p>æ‰¹é‡è„šæœ¬ï¼š</p>
<ol>
<li>
<p>åœ¨è„šæœ¬åº“é€‰æ‹©é¢„è®¾åŠ¨ä½œï¼ˆå¦‚ã€Œæ‰¹é‡å®‰è£…Appã€ï¼‰</p>
</li>
<li>
<p>è®¾ç½®æ‰§è¡Œå‚æ•°ï¼ˆå®‰è£…åŒ…URLã€é™é»˜å®‰è£…æ¨¡å¼ï¼‰</p>
</li>
<li>
<p>è‡ªå®šä¹‰å»¶è¿Ÿæ—¶é—´ï¼ˆé˜²æ­¢APIé«˜é¢‘è§¦å‘é£æ§ï¼‰</p>
</li>
<li>
<p>å®šæ—¶ä»»åŠ¡ç®¡ç†</p>
</li>
<li>
<p>åˆ›å»ºæ–°ä»»åŠ¡ â†’ é€‰æ‹©è§¦å‘æ¡ä»¶ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>æ—¶é—´è§¦å‘ï¼šæ¯å¤©9:00è‡ªåŠ¨å‘é€å¾®ä¿¡æ¶ˆæ¯</p>
</li>
<li>
<p>äº‹ä»¶è§¦å‘ï¼šå½“ç”µé‡&gt;80%æ—¶å¯åŠ¨æ•°æ®å¤‡ä»½</p>
</li>
</ul>
<ol start="2">
<li>
<p>å¯¼å‡ºä»»åŠ¡é…ç½®æ–‡ä»¶ï¼ˆ*.plistæ ¼å¼ï¼‰ï¼Œæ”¯æŒè·¨è®¾å¤‡å…±äº«</p>
</li>
<li>
<p>æ•°æ®ç›‘æ§çœ‹æ¿</p>
</li>
</ol>
<ul>
<li>å®æ—¶æŸ¥çœ‹ï¼š</li>
</ul>
<p>è®¾å¤‡åœ¨çº¿çŠ¶æ€ CPU/å†…å­˜å ç”¨ç‡</p>
<p>ç½‘ç»œæµé‡ç»Ÿè®¡ æ“ä½œæ—¥å¿—å®¡è®¡</p>
<p>KeymobåŠ©æ‰‹ä½œä¸ºiOSå¼€å‘å·¥å…·ï¼ŒåŒæ ·æä¾›æ€§èƒ½ç›‘æ§åŠŸèƒ½ï¼Œå¯ä»¥å®æ—¶è·Ÿè¸ªCPUã€GPUã€å†…å­˜å’Œç½‘ç»œç­‰æŒ‡æ ‡ï¼Œå¹¶é€šè¿‡å›¾è¡¨å±•ç¤ºï¼Œå¸®åŠ©å¼€å‘è€…ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚</p>
<p>å››ã€å…¸å‹åº”ç”¨åœºæ™¯è¯¦è§£</p>
<p>åœºæ™¯1ï¼šç›´æ’­è¿è¥çŸ©é˜µ</p>
<p>ç—›ç‚¹ï¼šéœ€åŒæ—¶ç®¡ç†æ•°åå°æ‰‹æœºè¿›è¡Œè¯„è®ºäº’åŠ¨ã€ç¤¼ç‰©ç»Ÿè®¡</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>é€šè¿‡ã€Œå…³é”®è¯è‡ªåŠ¨å›å¤ã€åŠŸèƒ½é¢„è®¾è¯æœ¯åº“</p>
</li>
<li>
<p>å¼€å¯ã€Œå¼¹å¹•æŠ“å–åˆ†æã€ï¼Œå®æ—¶ç”Ÿæˆäº’åŠ¨çƒ­åº¦å›¾è°±</p>
</li>
<li>
<p>çªå‘æµé‡é«˜å³°æ—¶ï¼Œä¸€é”®åˆ‡æ¢å¤‡ç”¨Wi-Fiçƒ­ç‚¹</p>
</li>
</ol>
<p>åœºæ™¯2ï¼šè·¨å¢ƒç”µå•†å¤šè´¦å·ç®¡ç†</p>
<p>ç—›ç‚¹ï¼šé˜²æ­¢è´¦å·å…³è”ï¼Œéœ€å·®å¼‚åŒ–æ“ä½œè¡Œä¸º</p>
<p>æ“ä½œæµç¨‹ï¼š</p>
<ol>
<li>ä¸ºæ¯å°è®¾å¤‡é…ç½®ç‹¬ç«‹å‚æ•°ï¼š</li>
</ol>
<ul>
<li>
<p>æ—¶åŒº/Language/å­—ä½“å¤§å°</p>
</li>
<li>
<p>æ¨¡æ‹Ÿ3G/4G/5Gç½‘ç»œæ ‡è¯†</p>
</li>
</ul>
<ol start="2">
<li>ä½¿ç”¨ã€Œæ™ºèƒ½è¡Œä¸ºæ¨¡æ‹Ÿã€åŠŸèƒ½ï¼š</li>
</ol>
<ul>
<li>
<p>éšæœºæ»‘åŠ¨é€Ÿåº¦ï¼ˆ200-500ms/æ¬¡ï¼‰</p>
</li>
<li>
<p>å·®å¼‚åŒ–ç‚¹å‡»ä½ç½®åç§»ï¼ˆÂ±15åƒç´ ï¼‰</p>
</li>
</ul>
<p>åœºæ™¯3ï¼šAPPå…¼å®¹æ€§æµ‹è¯•</p>
<p>æŠ€æœ¯æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>åˆ›å»ºå¤šæœºå‹æµ‹è¯•ç»„ï¼ˆiPhone 14/15/SE3ï¼‰</p>
</li>
<li>
<p>æ‰¹é‡å®‰è£…æµ‹è¯•åŒ… â†’ å¯åŠ¨ã€Œå‹åŠ›æµ‹è¯•æ¨¡å¼ã€ï¼š</p>
</li>
</ol>
<ul>
<li>
<p>è¿ç»­ç‚¹å‡»æµ‹è¯•ï¼ˆ10ä¸‡æ¬¡/è®¾å¤‡ï¼‰</p>
</li>
<li>
<p>å†…å­˜æ³„æ¼ç›‘æ§ï¼ˆè¶…è¿‡500MBè‡ªåŠ¨æŠ¥è­¦ï¼‰</p>
</li>
</ul>
<ol start="3">
<li>ç”Ÿæˆè·¨æœºå‹å´©æºƒæŠ¥å‘Šå¯¹æ¯”è¡¨</li>
</ol>
<p>åœ¨iOSåº”ç”¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼ŒKeymobåŠ©æ‰‹çš„æ—¥å¿—ä¸å´©æºƒä¿¡æ¯åˆ†æåŠŸèƒ½å¯ä»¥è¾…åŠ©æŸ¥çœ‹å®æ—¶æ—¥å¿—å’Œç¬¦å·åŒ–å´©æºƒæŠ¥å‘Šï¼Œæ¯”Xcodeæ§åˆ¶å°æ›´ä¾¿æ·ï¼Œæå‡è°ƒè¯•æ•ˆç‡ã€‚</p>
<p>äº”ã€åˆè§„æ“ä½œæ³¨æ„äº‹é¡¹</p>
<p>âš ï¸ å¿…é¡»éµå®ˆï¼š</p>
<ol>
<li>
<p>ä»…é™ä¼ä¸šè‡ªæœ‰è®¾å¤‡ï¼Œä¸¥ç¦æ“æ§ç”¨æˆ·æ‰‹æœº</p>
</li>
<li>
<p>å•IPåœ°å€æœ€å¤§è¿æ¥æ•°â‰¤50ï¼ˆå»ºè®®æ­é…åŠ¨æ€IPä»£ç†ï¼‰</p>
</li>
<li>
<p>æ¯æ—¥æ“ä½œæ—¥å¿—éœ€ä¿ç•™90å¤©å¤‡æŸ¥</p>
</li>
</ol>
<p>æ”¿ç­–ä¾æ®ï¼š</p>
<ul>
<li>
<p>è‹¹æœã€Šä¼ä¸šå¼€å‘è€…è®¡åˆ’åè®®ã€‹ç¬¬4.8æ¡</p>
</li>
<li>
<p>GDPRæ•°æ®è·¨å¢ƒä¼ è¾“è§„èŒƒ</p>
</li>
</ul>
<p>å…­ã€å¸¸è§é—®é¢˜æ’æŸ¥</p>
<p>| é—®é¢˜ç°è±¡ | è§£å†³æ–¹æ¡ˆ |</p>
<p>| è®¾å¤‡é¢‘ç¹æ‰çº¿ | æ£€æŸ¥USB Hubä¾›ç”µï¼ˆéœ€â‰¥60Wï¼‰ |</p>
<p>| è§¦æ§æŒ‡ä»¤å»¶è¿Ÿ | å…³é—­å…¶ä»–è®¾å¤‡çš„AirDropåŠŸèƒ½ |</p>
<p>| æ— æ³•å®‰è£…æ§åˆ¶ç«¯ | é‡ç½®è®¾å¤‡æè¿°æ–‡ä»¶ï¼ˆè®¾ç½®â†’é€šç”¨â†’VPNä¸è®¾å¤‡ç®¡ç†ï¼‰ |</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Apache Doris AI èƒ½åŠ›æ­ç§˜ï¼ˆå››ï¼‰ï¼šHSAP ä¸€ä½“åŒ–æ··åˆæœç´¢æ¶æ„å…¨è§£]]></title>    <link>https://juejin.cn/post/7584807992031182890</link>    <guid>https://juejin.cn/post/7584807992031182890</guid>    <pubDate>2025-12-18T08:09:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584807992031182890" data-draft-id="7584817405228859433" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Apache Doris AI èƒ½åŠ›æ­ç§˜ï¼ˆå››ï¼‰ï¼šHSAP ä¸€ä½“åŒ–æ··åˆæœç´¢æ¶æ„å…¨è§£"/> <meta itemprop="keywords" content="æ•°æ®åº“,äººå·¥æ™ºèƒ½,Agent"/> <meta itemprop="datePublished" content="2025-12-18T08:09:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SelectDB"/> <meta itemprop="url" content="https://juejin.cn/user/3189021726222904"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Apache Doris AI èƒ½åŠ›æ­ç§˜ï¼ˆå››ï¼‰ï¼šHSAP ä¸€ä½“åŒ–æ··åˆæœç´¢æ¶æ„å…¨è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3189021726222904/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SelectDB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:09:51.000Z" title="Thu Dec 18 2025 08:09:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AI æ—¶ä»£æ­£åœ¨é‡å¡‘æ•°æ®åº“çš„è§’è‰²ã€‚è¿‡å»ï¼Œæ•°æ®åº“ä¸»è¦ä¸ºäººç±»åˆ†æè€…æä¾›æŠ¥è¡¨ä¸æŸ¥è¯¢èƒ½åŠ›ï¼›è€Œç°åœ¨ï¼Œè¶Šæ¥è¶Šå¤šçš„æŸ¥è¯¢æ¥è‡ªæ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨æ£€ç´¢çŸ¥è¯†ã€è¿‡æ»¤æ•°æ®ã€ç»„åˆå¤šç§ä¿¡å·ï¼Œå¹¶å°†æ•°æ®åº“ä½œä¸ºâ€œå®æ—¶ä¿¡æ¯æºâ€æ”¯æ’‘æ¨ç†ä¸å†³ç­–ã€‚</p>
<p>è¿™ä¸€æ ¹æœ¬æ€§å˜åŒ–ï¼Œå¯¹æ•°æ®åº“çš„æ£€ç´¢èƒ½åŠ›æå‡ºäº†å…¨æ–°æŒ‘æˆ˜ã€‚ä¼ ç»Ÿå•ä¸€çš„æœç´¢æ¨¡å¼ï¼ˆæ— è®ºæ˜¯å…³é”®è¯è¿˜æ˜¯å‘é‡æœç´¢ï¼‰å·²æ˜¾ä¸è¶³ï¼Œåœ¨åº”å¯¹å¤æ‚å¤šæ¨¡æ€çš„ Agent æŸ¥è¯¢æ—¶ï¼Œå¾€å¾€åœ¨ç¼ºä¹ç»“æœçš„å…¨é¢æ€§ã€è¯­ä¹‰çš„ç²¾ç¡®æ€§ä»¥åŠæµç¨‹çš„å¯æ§æ€§ã€‚<strong>è€Œè¿™å°±è¦æ±‚æ•°æ®åº“åŒæ—¶å…·å¤‡ä¸‰ç§èƒ½åŠ›ï¼Œå°†ç»“æ„åŒ–åˆ†æã€æ–‡æœ¬æœç´¢å’Œå‘é‡è¯­ä¹‰æœç´¢é›†ä¸ºä¸€ä½“ï¼Œå®ç°é«˜æ•ˆçš„æ··åˆæœç´¢èƒ½åŠ›</strong>ã€‚ç‰¹åˆ«æ˜¯åœ¨ä»¥æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ä¸ºä»£è¡¨çš„åº”ç”¨ä¸­ï¼Œæ··åˆæœç´¢èƒ½åŠ›å˜å¾—æ›´ä¸ºå…³é”®ï¼Œå·²æˆä¸ºé¿å…å¹»è§‰ã€æé«˜ç›¸å…³æ€§ä¸ä¿æŒå®æ—¶æ€§çš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-0">1. å¤šç³»ç»Ÿæ‹¼æ¥æ–¹æ¡ˆçš„ç—›ç‚¹</h2>
<p>ä¸ºå®ç°æ··åˆæœç´¢çš„èƒ½åŠ›ï¼Œè®¸å¤šç³»ç»Ÿé‡‡ç”¨â€œå‘é‡æ•°æ®åº“ + æœç´¢æ•°æ®åº“ + OLAP æ•°æ®åº“â€ç»„åˆå¼æ¶æ„æ¥æ”¯æ’‘ç±»ä¼¼èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå¤šç³»ç»Ÿæ‹¼æ¥ä¼šå¸¦æ¥ä¸€ç³»åˆ—é—®é¢˜ï¼š</p>
<ul>
<li><strong>æ•°æ®å†—ä½™ä¸å¤æ‚ ETL</strong>ï¼šæ–‡æœ¬æ•°æ®åº“ã€å‘é‡æ•°æ®åº“ä¸åˆ†ææ•°æ®åº“åˆ†åˆ«æŒæœ‰ä¸åŒæ ¼å¼çš„æ•°æ®å‰¯æœ¬ï¼Œä»»ä½•æ›´æ–°éƒ½éœ€è¦è·¨ç³»ç»ŸåŒæ­¥ï¼Œå¯¼è‡´å»¶è¿Ÿä¸è¿ç»´æˆæœ¬ä¸Šå‡ã€‚</li>
<li><strong>æŸ¥è¯¢é“¾è·¯é•¿ã€å»¶è¿Ÿé«˜</strong>ï¼šä¸€æ¬¡æ··åˆæœç´¢éœ€è¦å¤šæ¬¡è·³è½¬è°ƒç”¨ï¼Œä¾‹å¦‚å…ˆåœ¨å‘é‡åº“å¬å›ã€å†åˆ°æœç´¢åº“è¿‡æ»¤ã€æœ€åè¿›å…¥ OLAP èšåˆï¼Œæˆå€å¢åŠ çš„é“¾è·¯å»¶è¿Ÿè¿œé«˜äºå•å¼•æ“æ‰§è¡Œã€‚</li>
<li><strong>éš¾ä»¥ä¿éšœä¸€è‡´æ€§</strong>ï¼šæ•°æ®æŒ‰ä¸åŒæ—¶é—´å†™å…¥ä¸åŒç³»ç»Ÿï¼Œæœç´¢ç»“æœä¸ç»“æ„åŒ–ç»“æœå¯èƒ½åŸºäºä¸åŒç‰ˆæœ¬çš„æ•°æ®ï¼Œéš¾ä»¥ä¿éšœ Agent é€»è¾‘ç¨³å®šæ€§ã€‚</li>
<li><strong>è°ƒåº¦æ— æ³•ç»Ÿä¸€</strong>ï¼šæ¯ä¸ªç³»ç»Ÿæœ‰ç‹¬ç«‹çš„ä¼˜åŒ–å™¨ï¼Œæ— æ³•å½¢æˆå…¨å±€æ‰§è¡Œè®¡åˆ’ï¼Œä¹Ÿæ— æ³•å…±äº«è¿‡æ»¤ã€åˆ†åŒºè£å‰ªæˆ–ç´¢å¼•ä¸‹æ¨ã€‚</li>
</ul>
<p>è¿™äº›é—®é¢˜å…±åŒå½¢æˆæ‰€è°“çš„â€œæ•°æ®çƒŸå›±â€æ•ˆåº”ï¼Œä½¿æœ¬åº”ä¸€æ¬¡å®Œæˆçš„æ··åˆæŸ¥è¯¢è¢«è¿«æ‹†æˆå¤šæ®µæ‰§è¡Œï¼Œä¸ä»…å¢åŠ å¤æ‚åº¦ï¼Œä¹Ÿä½¿å…¶åœ¨ RAGã€Agentã€æ¨èç­‰å¯¹å»¶è¿Ÿæ•æ„Ÿçš„åœºæ™¯ä¸­æ— æ³•çœŸæ­£è½åœ°ã€‚</p>
<h2 data-id="heading-1">2. HSAPï¼šé¢å‘ AI åº”ç”¨çš„æ··åˆæœç´¢ä¸åˆ†æå¤„ç†</h2>
<p>ç›¸å¯¹è€Œè¨€ï¼Œ<strong>Hybrid Search and Analytics Processingï¼ˆHSAPï¼‰</strong> æ˜¯å½“ä¸‹æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆã€‚å®ƒèƒ½åœ¨åŒä¸€å¼•æ“ä¸­åŒæ—¶å¤„ç†ç»“æ„åŒ–åˆ†æã€å…¨æ–‡æœç´¢å’Œå‘é‡æœç´¢ï¼Œå¹¶é€šè¿‡ç»Ÿä¸€ä¼˜åŒ–å™¨è°ƒåº¦ååŒæ‰§è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/887133ff3fdf4b519d336899205b18aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=WdP94CXrT70bDXAhVYInCDO01bc%3D" alt="2. HSAPï¼šé¢å‘ AI åº”ç”¨çš„æ··åˆæœç´¢ä¸åˆ†æå¤„ç†.PNG" loading="lazy"/></p>
<p><strong>åœ¨ HSAP æ¨¡å‹ä¸‹ï¼Œä¸åŒæœç´¢æ–¹å¼ä¸å†å½¼æ­¤ç‹¬ç«‹ï¼Œå…±åŒå‚ä¸å®Œæ•´çš„æŸ¥è¯¢ç”Ÿå‘½å‘¨æœŸï¼Œæ»¡è¶³è¯­ä¹‰å¹¿åº¦ã€å…³é”®è¯ç²¾ç¡®åŒ¹é…ä»¥åŠä¸šåŠ¡çº¦æŸç­‰å¤šç»´éœ€æ±‚</strong>ã€‚åœ¨å®é™…æ‰§è¡Œä¸­ï¼ŒHSAP çš„æŸ¥è¯¢æµç¨‹é€šå¸¸å‘ˆç°ä¸ºç®€æ´ä¸”é«˜æ•ˆçš„ååŒæ¨¡å¼ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><strong>A. å•æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼ˆSingle Requestï¼‰</strong></p>
<p>ç”¨æˆ·ä»…éœ€æäº¤ä¸€æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼Œè¯¥è¯·æ±‚å¯åŒæ—¶åŒ…å«æ–‡æœ¬æ£€ç´¢ã€å‘é‡æ£€ç´¢å’Œå¤æ‚çš„ç»“æ„åŒ–åˆ†æéœ€æ±‚ï¼ˆè¿‡æ»¤ã€èšåˆç»Ÿè®¡ã€æ’åºç­‰ï¼‰ã€‚è¿™äº›éœ€æ±‚ä»¥ç»Ÿä¸€çš„ SQL è¡¨è¾¾ï¼Œè¿›å…¥åŒä¸€ä¸ªæ‰§è¡Œè®¡åˆ’ã€‚</p>
<p><strong>B. å¹¶è¡Œæ‰§è¡Œï¼ˆParallel Executionï¼‰</strong></p>
<p>ç³»ç»Ÿå¹¶è¡ŒåŒ–å¤„ç†ä¸¤ç§æœç´¢è´Ÿè½½ï¼š</p>
<ul>
<li>æ–‡æœ¬æœç´¢é€šè¿‡å€’æ’ç´¢å¼•æŸ¥è¯¢ï¼Œå®Œæˆå…³é”®è¯åŒ¹é…å’Œ BM25 æ’åºå¬å›</li>
<li>å‘é‡æœç´¢é€šè¿‡ ANN ç´¢å¼•æŸ¥è¯¢ï¼Œå®Œæˆè¯­ä¹‰ç›¸ä¼¼åº¦å¬å›ï¼Œå…¶ä¸­ç»“æ„åŒ–è¿‡æ»¤ä½œä¸ºå‰è¿‡æ»¤ï¼ˆç¼©å°å€™é€‰æ•°æ®é‡ï¼‰æˆ–åè¿‡æ»¤ï¼ˆå¯¹å¬å›ç»“æœè¿›ä¸€æ­¥ç­›é€‰ï¼‰ç»Ÿä¸€å‚ä¸æ‰§è¡Œ</li>
</ul>
<p><em><strong>è¿™ç§å¹¶è¡ŒåŒ–å’Œä¸‹æ¨æœºåˆ¶ï¼Œä½¿å¾—æ•´ä½“å»¶è¿Ÿä»…å—é™äºæœ€æ…¢çš„å•ä¸€æœç´¢è·¯å¾„ï¼Œè€Œéå¤šç³»ç»Ÿä¸²è”è°ƒç”¨çš„é“¾è·¯å»¶è¿Ÿï¼Œä»æ ¹æœ¬ä¸Šæå‡äº†æŸ¥è¯¢çš„æ•ˆç‡</strong></em>ã€‚</p>
<p><strong>C. ç»“æœèåˆä¸åˆ†æï¼ˆResult Fusion &amp; Analyticsï¼‰</strong></p>
<p>å„æœç´¢è·¯å¾„ç”Ÿæˆ Top-K ç»“æœåï¼Œç³»ç»Ÿåˆ©ç”¨ RRF ç®—æ³•ç”Ÿæˆç»Ÿä¸€æ’åºï¼›éšåä¾æ‰˜ OLAP å¼•æ“çš„åˆ†æå¤„ç†èƒ½åŠ›ï¼Œæ‰§è¡Œå¤æ‚çš„ç»Ÿè®¡èšåˆä¸æ˜ç»†æŸ¥è¯¢ï¼Œç›´æ¥è¿”å›å®Œæ•´çš„åˆ†æç»“æœã€‚</p>
<h2 data-id="heading-2">3. Apache Doris HSAP çš„å®ç°</h2>
<p><strong>HSAP æ¨¡å‹æä¾›äº†ç†æƒ³çš„ç†è®ºæ¡†æ¶ï¼Œè€Œ Apache Doris åˆ™æ˜¯ä¸€ä¸ªå°†å…¶å·¥ç¨‹åŒ–è½åœ°çš„å…¸èŒƒ</strong>ã€‚Doris é€šè¿‡ç»Ÿä¸€çš„å­˜å‚¨æ ¼å¼ã€æ‰§è¡Œå¼•æ“å’Œ SQL å·¥ä½œæµï¼Œå°†ç»“æ„åŒ–åˆ†æã€å€’æ’ç´¢å¼•å’Œå‘é‡ç´¢å¼•ä¸‰å¤§èƒ½åŠ›æ•´åˆä¸ºä¸€ä¸ªç³»ç»Ÿï¼Œå®ç°äº†é«˜æ•ˆçš„æ··åˆæœç´¢å’Œå®æ—¶åˆ†æèƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aad7f6bea0f5417cb67e492130223f6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=Y%2FGXvlM7Ty%2BEM29pY58HsVTx57s%3D" alt="3. Apache Doris HSAP çš„å®ç°.PNG" loading="lazy"/></p>
<p>è€Œ Apache Doris HSAP èƒ½åŠ›çš„å®ç°å¹¶éä¸€è¹´è€Œå°±ï¼Œæ•´ä½“æ¶æ„çš„æ¼”è¿›åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è‡ª 2.x ç‰ˆæœ¬èµ·å¥ å®šäº†åŸºç¡€ï¼Œ<strong>æœ€ç»ˆåœ¨ 4.0 ç‰ˆæœ¬å®ç°äº†èåˆæ£€ç´¢ï¼Œå‡çº§ä¸ºæ–‡æœ¬ä¸å‘é‡å¹¶é‡çš„æ··åˆæœç´¢ä½“ç³»</strong>ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é€ä¸€ä»‹ç» Apache Doris HSAP æ ¸å¿ƒèƒ½åŠ›ã€æœ€ä½³å®è·µä»¥åŠæ€§èƒ½è¡¨ç°ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/742d10acf48c4063a3d1842a42e892af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=6%2B6DmkEx7H5nv8G9iIuindlfJ4w%3D" alt="3. Apache Doris HSAP çš„å®ç°-1.png" loading="lazy"/></p>
<h2 data-id="heading-3">4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ</h2>
<p>æ–‡æœ¬æœç´¢èƒ½åŠ›å¯¹äºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰æ˜¯ä¸å¯æˆ–ç¼ºçš„åŸºçŸ³ï¼Œä»æ ¹æœ¬ä¸Šå†³å®šäº† LLM åº”ç”¨çš„å¯é æ€§ã€å‡†ç¡®æ€§å’Œå®ç”¨æ€§ã€‚<strong>Apache Doris ä¸»è¦åŸºäºå€’æ’ç´¢å¼•å®ç°äº†é«˜æ€§èƒ½çš„æ–‡æœ¬åˆ†æèƒ½åŠ›</strong>ã€‚</p>
<p>å€’æ’ç´¢å¼•åŸºæœ¬åŸç†æ˜¯å°†æ–‡æœ¬æ‹†åˆ†æˆè¯é¡¹ï¼ˆTermï¼‰ï¼Œå¹¶è®°å½•æ¯ä¸ªè¯é¡¹å‡ºç°çš„æ–‡æ¡£ã€‚æŸ¥è¯¢æ—¶æ— éœ€é€è¡Œæ‰«æï¼Œç›´æ¥é€šè¿‡ç´¢å¼•å®šä½ç›¸å…³è¡Œå·ï¼Œå°†æŸ¥è¯¢å¤æ‚åº¦ä» Oï¼ˆnï¼‰ ä¸‹é™åˆ° Oï¼ˆlog nï¼‰ çº§åˆ«ã€‚<strong>ä¸ºäº†è®©æœç´¢èƒ½åŠ›çœŸæ­£é€‚é… AI Agent çš„åˆ†æåœºæ™¯ï¼ŒDoris å¯¹å€’æ’ç´¢å¼•è¿›è¡Œäº†ç³»ç»ŸåŒ–çš„æ¶æ„è®¾è®¡ä¸å·¥ç¨‹ä¼˜åŒ–</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87b34e421004426d931e91010ff1f387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=fHVXxYiNYwoQXcm6xpU3x8QfK5Q%3D" alt="4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ.png" loading="lazy"/></p>
<ol>
<li><strong>åœ¨ç»“æ„ä¸Š</strong>ï¼šDoris å®ç°äº†<strong>å¤–æŒ‚å¼ç´¢å¼•ç»“æ„</strong>ï¼Œå¯å°†å€’æ’ç´¢å¼•ä¸ segment æ•°æ®æ–‡ä»¶è§£è€¦ï¼Œä½œä¸ºç‹¬ç«‹æ–‡ä»¶å­˜å‚¨ã€‚è¿™ç§ç»“æ„æ›´åŠ çµæ´»ï¼Œå¯åœ¨å·²æœ‰è¡¨ä¸Šç›´æ¥æ–°å¢å€’æ’ç´¢å¼•ï¼Œæ— éœ€é‡å»ºæ•°æ®å’Œä¸‹çº¿ä¸šåŠ¡ã€‚å¹¶æ”¯æŒæŒ‰éœ€å¼‚æ­¥ä¸å¢é‡å¼æ„å»ºç´¢å¼•ï¼Œæœ‰æ•ˆé¿å…å¯¹åœ¨çº¿æœåŠ¡çš„å†²å‡»ã€‚æ­¤å¤–ï¼Œç´¢å¼•åœ¨ compaction é˜¶æ®µå¯ä¸æŒ‰ç…§æ•°æ®é‡å†™ï¼Œä»…éœ€å¯¹ç´¢å¼•å†…å®¹è¿›è¡Œåˆå¹¶ï¼Œå‡å°‘åˆ†è¯å¸¦æ¥çš„èµ„æºæ¶ˆè€—ã€‚</li>
<li><strong>åœ¨æŸ¥è¯¢ä¸Š</strong>ï¼šå¼•å…¥<strong>åŒå±‚ç´¢å¼•ç¼“å­˜ä½“ç³»</strong>ï¼Œå¯¹è±¡ç¼“å­˜å‡å°‘æ–‡ä»¶ IOï¼ŒæŸ¥è¯¢ç¼“å­˜é¿å…é‡å¤æ‰§è¡Œã€‚åŒæ—¶ä¼˜åŒ–äº†ç´¢å¼•æŸ¥è¯¢ä¸å›è¡¨ç­–ç•¥ï¼Œé’ˆå¯¹ <code>COUNT</code> ç»Ÿè®¡æˆ–çº¯è°“è¯è¿‡æ»¤åœºæ™¯ï¼Œå½“æŸ¥è¯¢æ¡ä»¶ä»…ä¾èµ–å€’æ’ç´¢å¼•å³å¯åˆ¤å®šç»“æœæ—¶ï¼Œæ‰§è¡Œå¼•æ“å°†ç›´æ¥è·³è¿‡æ•°æ®æ–‡ä»¶ï¼ˆData Segmentï¼‰çš„è¯»å–ä¸è§£å‹ï¼Œä»…é€šè¿‡ç´¢å¼•æ–‡ä»¶å®Œæˆè®¡ç®—ï¼Œè¿™æ ·å¯å°† I/O å¼€é”€é™è‡³æœ€ä½ï¼Œæå‡äº†èšåˆåˆ†æååé‡ã€‚</li>
<li><strong>åœ¨å­˜å‚¨ä¸Š</strong>ï¼šä¸ºæ›´å¥½åœ¨æ€§èƒ½ä¸å­˜å‚¨æˆæœ¬é—´å–å¾—å¹³è¡¡ï¼ŒDoris å¼•å…¥äº†å¤šç§<strong>è‡ªé€‚åº”å‹ç¼©ç®—æ³•</strong>ï¼Œå¯¹å€’æ’ç´¢å¼•çš„è¯å…¸ã€å€’æ’è¡¨ã€çŸ­è¯­ä½ç½®ç­‰ä¿¡æ¯è¿›è¡Œå‹ç¼©å­˜å‚¨ã€‚</li>
<li><strong>å†…ç½®åˆ†è¯å™¨åŠè‡ªå®šä¹‰åˆ†è¯</strong>ï¼šå†…ç½®å¤šç§åˆ†è¯å™¨ï¼Œè¦†ç›–ä¸­è‹±æ–‡ã€å¤šè¯­ç§ Unicodeã€ICU å›½é™…åŒ–ç­‰ä¸»æµè¯­è¨€ï¼›åŒæ—¶æ”¯æŒè‡ªå®šä¹‰åˆ†æå™¨ï¼Œå¯é…ç½®å­—ç¬¦æ¸…æ´—ã€åˆ†è¯æ¨¡å¼ã€åœç”¨è¯ã€æ‹¼éŸ³è½¬æ¢ã€å¤§å°å†™è§„æ•´ç­‰èƒ½åŠ›ã€‚</li>
<li><strong>ä¸°å¯Œçš„æŸ¥è¯¢ç®—å­</strong>ï¼šåœ¨å€’æ’ç´¢å¼•çš„åŸºç¡€ä¸Šï¼ŒDoris å®ç°äº†å®Œæ•´çš„æœç´¢ç®—å­ä½“ç³»ï¼Œå®Œæ•´å¯è§ä¸‹å›¾ï¼š</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89c95c312c7b4027b50694c599a873de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=5G0O%2F5%2F%2B%2BlXp2mnJMP105jWxtTc%3D" alt="4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ-1.png" loading="lazy"/></p>
<ol start="6">
<li><strong>BM25 ç›¸å…³æ€§æ‰“åˆ†ï¼š</strong></li>
</ol>
<p>BM25ï¼ˆBest Matching 25ï¼‰æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡çš„æ–‡æœ¬ç›¸å…³æ€§è¯„åˆ†ç®—æ³•ï¼Œå¹¿æ³›åº”ç”¨äºå…¨æ–‡æœç´¢å¼•æ“ä¸­ã€‚<strong>Doris 4.0 ç‰ˆæœ¬å¼•å…¥ BM25ï¼Œä¸ºå€’æ’ç´¢å¼•æŸ¥è¯¢æä¾›äº†ç›¸å…³æ€§è¯„åˆ†åŠŸèƒ½</strong>.BM25 å¯æ ¹æ®æ–‡æ¡£é•¿åº¦åŠ¨æ€è°ƒæ•´è¯é¢‘æƒé‡ï¼Œåœ¨é•¿æ–‡æœ¬ã€å¤šå­—æ®µæ£€ç´¢åœºæ™¯ä¸‹ï¼ˆå¦‚æ—¥å¿—åˆ†æã€æ–‡æ¡£æ£€ç´¢ï¼‰ï¼Œæ˜¾è‘—æå‡ç»“æœç›¸å…³æ€§ä¸æ£€ç´¢å‡†ç¡®æ€§ã€‚</p>
<p>åœ¨ Doris è¿™æ ·çš„åˆ†å¸ƒå¼æ¶æ„ä¸‹ï¼ŒBM25 æ‰“åˆ†æµç¨‹æœ‰ä¸‰ä¸ªé˜¶æ®µã€‚è¯¥æµç¨‹å¯¹ Tablet çº§ å’Œ Segment çº§åˆ†åˆ«ç»Ÿè®¡ï¼Œå¯æœ‰æ•ˆä¿è¯ç¨³å®šæ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92c5eb1bf43d4abdafab7ea260f2cacb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=JRYIsU2hdLHgBQcUiJmtgkkH9AU%3D" alt="4. åŸºäºå€’æ’ç´¢å¼•çš„é«˜æ€§èƒ½æ–‡æœ¬åˆ†æ-2.png" loading="lazy"/></p>
<p><strong>é˜¶æ®µ 1ï¼šåœ¨ Tablet çº§åˆ«æ‰§è¡Œ</strong>ï¼Œè´Ÿè´£éå†æ‰€æœ‰ Segment å¹¶æ”¶é›† BM25 è®¡ç®—æ‰€éœ€çš„<strong>å…¨å±€å…ƒæ•°æ®</strong>ï¼š</p>
<ul>
<li>ç»Ÿè®¡æ”¶é›†ï¼š ç´¯åŠ æ€»æ–‡æ¡£æ•° ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span>ï¼‰ å’Œæ¯ä¸ªè¯é¡¹çš„å…¨å±€æ–‡æ¡£é¢‘ç‡ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(qi,D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span>ï¼‰ã€‚</li>
<li>å¹³å‡è®¡ç®—ï¼š ç´¯åŠ æ‰€æœ‰æ–‡æ¡£çš„æ€»è¯æ•°ï¼Œè®¡ç®—å‡ºå…¨å±€çš„å¹³å‡æ–‡æ¡£é•¿åº¦ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>v</mi><mi>g</mi><mi>d</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">avgdl</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">vg</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span></span>ï¼‰ã€‚</li>
<li>æ ¸å¿ƒäº§å‡ºï¼š æ ¹æ® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span></span>å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(qi,D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span>è®¡ç®—å‡ºæ¯ä¸ªæŸ¥è¯¢è¯é¡¹çš„ å…¨å±€ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>D</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">IDF </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span></span>å€¼ã€‚</li>
</ul>
<p><strong>é˜¶æ®µ 2ï¼šåœ¨ Segment çº§åˆ«æ‰§è¡Œï¼Œå¹¶è¡Œè®¡ç®— BM25 åˆ†æ•°å¹¶ç­›é€‰ Top-K</strong>ã€‚ç”±äº BM25 çš„è®¡ç®—æ˜¯æ–‡æ¡£ç‹¬ç«‹çš„ï¼ˆä¸€æ—¦<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>D</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">IDF </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span></span>ç¡®å®šï¼Œæ–‡æ¡£åˆ†æ•°åªä¾èµ–è‡ªèº«ä¿¡æ¯ï¼‰ï¼Œæ¯ä¸ª Segment å¯ä»¥åˆ©ç”¨<strong>é˜¶æ®µ 1</strong> æä¾›çš„å…¨å±€ç»Ÿè®¡ä¿¡æ¯ï¼Œç‹¬ç«‹å¹¶è¡Œåœ°å®Œæˆæ‰“åˆ†å’Œå±€éƒ¨è£å‰ªï¼š</p>
<ul>
<li>å¹¶è¡Œæ‰“åˆ†ï¼š æ¯ä¸ª Segment ä½¿ç”¨å…¨å±€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>D</mi><mi>F</mi></mrow><annotation encoding="application/x-tex">IDF </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span></span>ï¼Œç»“åˆè‡ªèº«çš„è¯é¢‘ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>q</mi><mi>i</mi><mo separator="true">,</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(qi,D)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span>ï¼‰ å’Œæ–‡æ¡£é•¿åº¦ ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi>D</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">|D|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">âˆ£</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord">âˆ£</span></span></span></span></span>ï¼‰ï¼Œè®¡ç®—æ‰€æœ‰åŒ¹é…æ–‡æ¡£çš„ BM25 åˆ†æ•°ã€‚</li>
<li>å±€éƒ¨è£å‰ªï¼š åœ¨ Segment å†…éƒ¨ç›´æ¥æ‰§è¡Œ Top-K ç­›é€‰ï¼Œåªä¿ b ç•™å’Œè¿”å›æ’åæœ€é«˜çš„æ–‡æ¡£ ID å’Œå¯¹åº”çš„åˆ†æ•°ï¼Œå‡å°‘æ•°æ®ä¼ è¾“å¼€é”€ã€‚</li>
</ul>
<p><strong>é˜¶æ®µ 3ï¼šä¸Šå±‚æ±‡æ€»ï¼Œåˆå¹¶å„ Segment çš„ Top-K</strong>ã€‚æŸ¥è¯¢çš„æ±‡æ€»èŠ‚ç‚¹ï¼ˆå¦‚ Backend çš„èšåˆå±‚ï¼‰æ”¶é›†æ‰€æœ‰å¹¶è¡Œ Segment è¿”å›çš„å±€éƒ¨ Top-K ç»“æœï¼Œè¿›è¡Œ<strong>å…¨å±€å½’å¹¶æ’åº</strong>ï¼Œæœ€ç»ˆç”Ÿæˆæ»¡è¶³ç”¨æˆ·éœ€æ±‚çš„ Top-K ç»“æœé›†ã€‚</p>
<h2 data-id="heading-4">5. åŸºäº ANN ç´¢å¼•æ‹“å±• Doris è¯­ä¹‰æœç´¢</h2>
<p>éšç€è¯­ä¹‰å‘é‡åœ¨ AI ä¸æ£€ç´¢åœºæ™¯ä¸­çš„å¹¿æ³›ä½¿ç”¨ï¼Œå‘é‡æœç´¢é€æ¸æˆä¸ºæ•°æ®åº“çš„åŸºç¡€èƒ½åŠ›ã€‚<strong>Doris åœ¨ 4.0 ç‰ˆæœ¬ä¸­å°†å‘é‡ç´¢å¼•çº³å…¥å…¶ç»Ÿä¸€çš„ç´¢å¼•æ¶æ„</strong>ï¼Œä½¿å‘é‡æœç´¢ä¸ç»“æ„åŒ–è¿‡æ»¤ã€å…¨æ–‡æœç´¢åœ¨åŒä¸€æ‰§è¡Œæ¡†æ¶å†…ååŒå·¥ä½œï¼Œå®ç°é«˜æ•ˆã€å¯æ§ã€å¯æ‰©å±•çš„è¯­ä¹‰æœç´¢èƒ½åŠ›ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå‘é‡ç´¢å¼•çš„æ„å»ºä¼šæ¶ˆè€—å¤§é‡è®¡ç®—èµ„æºï¼Œå°¤å…¶åœ¨äº¿çº§ Embedding çš„åœºæ™¯ä¸­ã€‚<strong>è€Œ Doris çš„å‘é‡ç´¢å¼•ä¸å€’æ’ç´¢å¼•é‡‡ç”¨ä¸€ä½“åŒ–æ¶æ„ï¼Œç”¨æˆ·å¯ä»¥åƒå¤„ç†å€’æ’ç´¢å¼•ä¸€æ ·å¼‚æ­¥æ„å»ºå‘é‡ç´¢å¼•ï¼Œæœ€å¤§é™åº¦é™ä½å¯¹å†™å…¥æ€§èƒ½çš„å½±å“</strong>ã€‚åŒæ—¶ï¼Œè°ƒæ•´å‘é‡ç´¢å¼•æ„å»ºå‚æ•°æ—¶ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾è¿›è¡Œç´¢å¼•çš„åˆ é™¤ä¸é‡å»ºã€‚</p>
<h3 data-id="heading-5">5.1 Doris å‘é‡ç´¢å¼•ä»‹ç»</h3>
<p>å‘é‡æœç´¢é€šå¸¸éœ€è¦åœ¨â€œå¬å›ç‡ã€æŸ¥è¯¢å»¶è¿Ÿã€æ„å»ºå¼€é”€â€ä¹‹é—´å–å¾—å¹³è¡¡ï¼Œå› æ­¤ <strong>Doris å†…ç½®äº†ä¸¤ç±»ä¸»æµ ANN ç´¢å¼•ï¼šHNSW ä¸ IVF</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fzh-CN%2Fdocs%2F4.x%2Fai%2Fvector-search%2Fhnsw" target="_blank" title="https://doris.apache.org/zh-CN/docs/4.x/ai/vector-search/hnsw" ref="nofollow noopener noreferrer">HNSWï¼ˆHierarchical Navigable Small Worldï¼‰</a>åŸºäºåˆ†å±‚å›¾ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨æœç´¢æ—¶å¿«é€Ÿä»ç¨€ç–å±‚ç¼©å°èŒƒå›´ï¼Œå¹¶åœ¨åº•å±‚è¿›è¡Œç²¾ç»†æŸ¥æ‰¾ã€‚å…¶ä¼˜åŠ¿åŒ…æ‹¬ï¼šé«˜å¬å›ç‡ï¼Œåœ¨è¯­ä¹‰æ£€ç´¢ä¸­æ¥è¿‘ç²¾ç¡®æœç´¢æ•ˆæœï¼›ä½å»¶è¿Ÿï¼ŒæŸ¥è¯¢å¤æ‚åº¦æ¥è¿‘ O(log n)ï¼Œé€‚åˆå¤§è§„æ¨¡åœºæ™¯ï¼›å¯è°ƒèŠ‚ç²¾åº¦ï¼Œé€šè¿‡ <code>ef_search</code> ç­‰å‚æ•°åŠ¨æ€æ§åˆ¶å¬å›ç‡å’Œå»¶è¿Ÿã€‚<strong>HNSW æ˜¯ä¸šç•Œåº”ç”¨æœ€å¹¿æ³›çš„ ANN ç´¢å¼•ï¼Œåœ¨ RAGã€é—®ç­”æ£€ç´¢å’Œç›¸ä¼¼åº¦æœç´¢ç­‰åœºæ™¯ä¸­è‡³å…³é‡è¦</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b963416d635343948500848e0f098874~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=l9dfiqXn83yayY8%2Bu%2FZxz1mq3oE%3D" alt="5. åŸºäº ANN ç´¢å¼•æ‹“å±• Doris è¯­ä¹‰æœç´¢.png" loading="lazy"/></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fzh-CN%2Fdocs%2F4.x%2Fai%2Fvector-search%2Fivf" target="_blank" title="https://doris.apache.org/zh-CN/docs/4.x/ai/vector-search/ivf" ref="nofollow noopener noreferrer">IVFï¼ˆInverted File Indexï¼‰</a>é€šè¿‡èšç±»ï¼ˆå¦‚ k-meansï¼‰å°†å‘é‡åˆ’åˆ†åˆ°ä¸åŒåˆ†æ¡¶ï¼Œä»…åœ¨æœ€ç›¸å…³çš„åˆ†æ¡¶ä¸­è¿›è¡Œæœç´¢ã€‚å…¶æ„å»ºé€Ÿåº¦å¿«ã€èµ„æºå ç”¨ä½ï¼Œé€‚åˆç™¾ä¸‡è‡³åƒä¸‡çº§çš„å¤§è§„æ¨¡å‘é‡åº“ï¼›å¯é€šè¿‡ <code>nprobe</code> æ§åˆ¶å¬å›ç‡ä¸æŸ¥è¯¢é€Ÿåº¦çš„å¹³è¡¡ã€‚ä¸ HNSW ç›¸æ¯”ï¼Œ<strong>IVF æ›´é€‚åˆäºæ—¥å¿—ã€åŸ‹ç‚¹å’Œå•†å“å‘é‡ç­‰â€œè§„æ¨¡å¤§ä½†æŸ¥è¯¢ç²¾åº¦å¯è°ƒâ€çš„åœºæ™¯</strong>ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eda891a98c514e95b0409379aee9d757~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VsZWN0REI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766650191&amp;x-signature=1jGXusxO8wc6bqrv667uI%2BAIJS4%3D" alt="5. åŸºäº ANN ç´¢å¼•æ‹“å±• Doris è¯­ä¹‰æœç´¢-1.png" loading="lazy"/></p>
<h3 data-id="heading-6">5.2 æ”¯æŒå¤šç§å‘é‡æŸ¥è¯¢æ¨¡å¼</h3>
<p>æ­¤å¤–ï¼ŒDoris æ”¯æŒå¤šç§é«˜æ•ˆå‘é‡æŸ¥è¯¢æ¨¡å¼ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸åŒçš„æœç´¢éœ€æ±‚ã€‚ä¸‹æ–¹å°†ç»“åˆç¤ºä¾‹è¿›è¡Œä»‹ç»ï¼š</p>
<p><strong>A. Top-K æœ€è¿‘é‚»æ£€ç´¢</strong>ï¼šæ”¯æŒ L2 è·ç¦»ä¸å†…ç§¯ï¼ˆInner Productï¼‰ä¸¤ç§ç›¸ä¼¼åº¦åº¦é‡ï¼Œå¿«é€Ÿæ‰¾å‡ºä¸ç›®æ ‡å‘é‡æœ€ç›¸ä¼¼çš„å‰ K ä¸ªç»“æœã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">SELECT</span> id, inner_product_approximate(embedding,[<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..]) <span class="hljs-keyword">as</span> distance <span class="hljs-keyword">FROM</span> sift_1M <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance limit <span class="hljs-number">10</span>
<span class="hljs-keyword">SELECT</span> id, l2_distance_approximate(embedding,[<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..]) <span class="hljs-keyword">as</span> distance <span class="hljs-keyword">FROM</span> sift_1M <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> distance limit <span class="hljs-number">10</span>
</code></pre>
<p><strong>B. è¿‘ä¼¼èŒƒå›´æŸ¥è¯¢ï¼ˆRange Searchï¼‰</strong>ï¼šæ”¯æŒå¯¹è·ç¦»è®¾ç½®é˜ˆå€¼æ¡ä»¶ï¼Œç­›é€‰å‡ºç›¸ä¼¼åº¦åœ¨æŒ‡å®šèŒƒå›´å†…çš„æ‰€æœ‰é¡¹ã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">FROM</span>   sift_1m
<span class="hljs-keyword">WHERE</span>  l2_distance_approximate( embedding, [<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77</span>,...]) <span class="hljs-operator">&gt;</span> <span class="hljs-number">300</span> 
</code></pre>
<p><strong>C. ç»„åˆæœç´¢</strong>ï¼šåœ¨åŒä¸€æ¡ SQL ä¸­åŒæ—¶è¿›è¡Œ ANN TopN ä¸ Range æ¡ä»¶è¿‡æ»¤ï¼Œè¿”å›æ»¡è¶³èŒƒå›´çº¦æŸçš„ TopNã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">SELECT</span> id,
       l2_distance_approximate(
        embedding, [<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..]) <span class="hljs-keyword">as</span> dist
<span class="hljs-keyword">FROM</span> sift_1M
<span class="hljs-keyword">WHERE</span> l2_distance_approximate(
        embedding, [<span class="hljs-number">0</span>,<span class="hljs-number">11</span>,<span class="hljs-number">77.</span>..])
        <span class="hljs-operator">&gt;</span> <span class="hljs-number">300</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist limit <span class="hljs-number">10</span>
</code></pre>
<h3 data-id="heading-7">5.3 é‡åŒ–ä¸ç¼–ç æœºåˆ¶</h3>
<p>å‘é‡è¡¨ç¤ºé€šå¸¸åœ¨ç»´åº¦å’Œæ•°æ®é‡ä¸Šéƒ½éå¸¸åºå¤§ï¼Œå¸¦æ¥äº†æ˜¾è‘—çš„è®¡ç®—å’Œå†…å­˜æŒ‘æˆ˜ï¼Œè€Œé‡åŒ–ä¸ç¼–ç æœºåˆ¶èƒ½å¤Ÿåœ¨æ€§èƒ½ã€ç²¾åº¦å’Œæˆæœ¬ä¹‹é—´è¾¾åˆ°æœ€ä¼˜å¹³è¡¡ã€‚ç›®å‰ Doris ç¼–ç æ–¹å¼ä¸»è¦é‡‡ç”¨  FLAT ç¼–ç ï¼ŒHNSW ç´¢å¼•æœ¬èº«ä¼šå ç”¨è¾ƒå¤§å†…å®¹ï¼Œè¿›è¡Œç¼–ç åå¿…é¡»å…¨é‡é©»ç•™å†…å­˜æ‰èƒ½å·¥ä½œï¼Œå°¤å…¶åœ¨è¶…å¤§è§„æ¨¡æ•°æ®é›†ä¸Šæ˜“æˆä¸ºç“¶é¢ˆã€‚</p>
<p>å¯¹äºè¯¥é—®é¢˜ï¼Œé‡åŒ–å¯ä»¥å¾ˆå¥½çš„å¹³è¡¡ã€‚æ ‡é‡é‡åŒ– SQ é€šè¿‡å‹ç¼© FLOAT32 å‡å°‘å†…å­˜å¼€é”€ï¼›ä¹˜ç§¯é‡åŒ– PQ é€šè¿‡åˆ†è§£é«˜ç»´å‘é‡å¹¶åˆ†åˆ«é‡åŒ–å­å‘é‡æ¥é™ä½å†…å­˜å¼€é”€ã€‚</p>
<p>Doris å½“å‰æ”¯æŒä¸¤ç§æ ‡é‡é‡åŒ–ï¼šINT8 ä¸ INT4ï¼ˆSQ8 / SQ4ï¼‰ï¼Œé€šè¿‡å‹ç¼© FLOAT32 å‡å°‘å†…å­˜å¼€é”€ã€‚ä»¥ SQ8 ä¸ºä¾‹ï¼šåœ¨ 768 ç»´çš„ Cohere-MEDIUM-1M ä¸ Cohere-LARGE-10M æ•°æ®é›†æµ‹è¯•ä¸­ï¼ŒSQ8 å¯å°†ç´¢å¼•å¤§å°å‹ç¼©è‡³ FLAT çš„çº¦ 1/3ã€‚</p>
<p>Doris ä¹Ÿæ”¯æŒä¹˜ç§¯é‡åŒ–ï¼Œ é€šè¿‡åˆ†è§£é«˜ç»´å‘é‡å¹¶åˆ†åˆ«é‡åŒ–å­å‘é‡æ¥é™ä½å†…å­˜å¼€é”€ï¼ŒPQ é‡åŒ–å¯å°†ç´¢å¼•å¤§å°å‹ç¼©è‡³ FLAT çš„çº¦ 1/5 å·¦å³ã€‚éœ€è¦æ³¨æ„çš„æ˜¯åœ¨ä½¿ç”¨ PQ æ—¶éœ€è¦æä¾›é¢å¤–çš„å‚æ•°ï¼ˆè¯¦è§æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdoris.apache.org%2Fzh-CN%2Fdocs%2F4.x%2Fai%2Fvector-search%2Findex-management%25EF%25BC%2589" target="_blank" title="https://doris.apache.org/zh-CN/docs/4.x/ai/vector-search/index-management%EF%BC%89" ref="nofollow noopener noreferrer">doris.apache.org/zh-CN/docs/â€¦</a></p>
<h2 data-id="heading-8">6. HSAP é«˜æ•ˆåˆ†æçš„å…³é”®</h2>
<p>å¦‚æœè¯´ä¸Šè¿°èƒ½åŠ›æ˜¯æ„æˆ HSAP æ··åˆæœç´¢èƒ½åŠ›çš„æŠ€æœ¯åŸºç¡€ï¼Œé‚£ä¹ˆå¦‚ä½•è®©å„æ¨¡å—é«˜æ•ˆçš„ååŒã€è¿è½¬ä¹Ÿæ˜¯ä¸€å¤§æ ¸å¿ƒæ‰€åœ¨ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œ Doris ä¸€è´¯ä»¥å®æ—¶ã€æé€Ÿè‘—ç§°ï¼Œé‚£ä¹ˆ Doris  æ˜¯å¦‚ä½•æä¾›é«˜æ•ˆæ··åˆæœç´¢ä½“éªŒçš„å‘¢ï¼Ÿ</p>
<h3 data-id="heading-9">6.1 å‰è¿‡æ»¤æ€§èƒ½ä¼˜åŒ–</h3>
<p>å‰è¿‡æ»¤æ˜¯æ··åˆæ£€ç´¢å¸¸ç”¨çš„æ‰§è¡Œæ¨¡å‹ï¼šå…ˆé€šè¿‡ç»“æ„åŒ–è°“è¯æ¡ä»¶åœ¨å¤§è§„æ¨¡æ•°æ®é›†ä¸­ç­›é€‰å€™é€‰è¡Œï¼Œç„¶åå¯¹è¿™äº›è¡Œè¿›è¡Œç›¸ä¼¼åº¦è®¡ç®—æˆ–æ‰“åˆ†ã€‚è¯¥æ¨¡å‹çš„æ€§èƒ½ç“¶é¢ˆåœ¨äºï¼šå¦‚æœåº•å±‚å¼•æ“æ— æ³•æ”¯æŒæµ·é‡æ•°æ®çš„æé€Ÿè¿‡æ»¤ï¼Œå°†ä¼šå½±å“æ•´ä½“æŸ¥è¯¢çš„æ•ˆç‡ã€‚è€Œ Doris è‡ªèº«æ‰€å…·å¤‡çš„èƒ½åŠ›ä¼˜åŠ¿ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§„é¿è¯¥é—®é¢˜ã€‚å…·ä½“èƒ½åŠ›å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ†åŒº / åˆ†æ¡¶è£å‰ªï¼šä»ç‰©ç†å¸ƒå±€ä¸Šç¼©å°æ‰«æèŒƒå›´ã€‚åœ¨æŸ¥è¯¢è®¡åˆ’ç”Ÿæˆé˜¶æ®µï¼Œä¼˜åŒ–å™¨æ ¹æ®è°“è¯æ¡ä»¶è‡ªåŠ¨å®Œæˆåˆ†åŒºä¸åˆ†æ¡¶è£å‰ªï¼Œä»…è®¿é—®ç›¸å…³çš„ Tabletï¼Œä»è€Œå‡å°‘æ¯æ¬¡æŸ¥è¯¢éœ€æ‰«æçš„æ•°æ®å—ï¼Œå¤§å¹…é™ä½ç³»ç»Ÿè´Ÿè½½ã€‚</li>
<li>ç´¢å¼•åŠ é€Ÿè¿‡æ»¤ï¼šDoris é‡‡ç”¨å¤šå±‚ç´¢å¼•ä½“ç³»ï¼ŒåŒ…æ‹¬å†…ç½®ç´¢å¼•ï¼ˆzonemapã€å‰ç¼€ç´¢å¼•ä»¥åŠæ’åºé”®ç­‰ï¼‰å’ŒäºŒçº§ç´¢å¼•ï¼ˆå€’æ’ç´¢å¼•ã€bloom filter ç´¢å¼•ç­‰ï¼‰ï¼Œå¯åœ¨æ‰«æå‰å¿«é€Ÿåˆ¤å®šæ•°æ®å—æ˜¯å¦å‘½ä¸­æŸ¥è¯¢æ¡ä»¶ï¼Œä»¥è·³è¿‡ç»å¤§å¤šæ•°æ— å…³æ•°æ®ã€‚</li>
<li>Pipeline ä¸å‘é‡åŒ–æ‰§è¡Œæ¨¡å‹ï¼šDoris å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU å¹¶è¡Œå’Œå†…å­˜çš„å±€éƒ¨æ€§ï¼Œåœ¨æ‰§è¡Œé˜¶æ®µæå‡ç®—å­ååä¸æŸ¥è¯¢å¹¶å‘åº¦ï¼Œä»æ ¹æœ¬ä¸Šç¡®ä¿æ··åˆæ£€ç´¢çš„é«˜æ•ˆæ‰§è¡Œã€‚</li>
</ul>
<h3 data-id="heading-10">6.2 è™šæ‹Ÿåˆ—æœºåˆ¶</h3>
<p>åœ¨ä¼ ç»Ÿæ¶æ„ä¸­ï¼Œæ··åˆæœç´¢ä¸­çš„æ–‡æœ¬æœç´¢æ‰“åˆ†å‡½æ•°å’Œå‘é‡æœç´¢ç›¸ä¼¼åº¦è®¡ç®—å‡½æ•°ä¼šåœ¨ä¸Šå±‚èšåˆèŠ‚ç‚¹å’Œä¸‹å±‚æ‰«æèŠ‚ç‚¹é‡å¤è®¡ç®—ï¼Œ<strong>è€Œåœ¨ Doris 4.0 ä¸­åˆ›æ–°æ€§çš„å¼•å…¥è™šæ‹Ÿåˆ—æœºåˆ¶</strong>ï¼Œä¼˜åŒ–äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p>
<p>å…·ä½“è€Œè¨€ï¼ŒFE è§„åˆ’æ—¶å°†æ‰“åˆ†ä»¥åŠè·ç¦»è®¡ç®—ç­‰å‡½æ•°æ˜ å°„ä¸ºè™šæ‹Ÿåˆ—ï¼Œå¹¶å°†è™šæ‹Ÿåˆ—çš„è®¡ç®—ä¸‹æ¨åˆ°æ‰«æèŠ‚ç‚¹ã€‚æ‰«æèŠ‚ç‚¹åœ¨ç´¢å¼•è¿‡æ»¤é˜¶æ®µç›´æ¥è®¡ç®—è¿™äº›è™šæ‹Ÿåˆ—ç»“æœï¼Œå¹¶å¡«å……åˆ°æœ€ç»ˆç»“æœä¸­ã€‚åœ¨è¯¥è¿‡ç¨‹ä¸­ï¼Œä¸Šå±‚ä»…éœ€åšç»“æœèåˆä¸æ’åºï¼Œæ˜¾è‘—é™ä½ CPU æ¶ˆè€—ä¸æ•°æ®ä¼ è¾“ã€‚</p>
<h3 data-id="heading-11">6.3 TopN å»¶è¿Ÿç‰©åŒ–</h3>
<p>æ–‡æœ¬æœç´¢æ‰“åˆ†å‡½æ•°å’Œå‘é‡æœç´¢ç›¸ä¼¼åº¦è®¡ç®—å‡½æ•°éƒ½æ˜¯<code>SELECT yyy FROM tableX ORDER BY xxx ASC/DESC LIMIT N</code> è¿™ç§å…¸å‹çš„ TopN æŸ¥è¯¢æ¨¡å¼ï¼Œå½“æ•°æ®è§„æ¨¡åºå¤§æ—¶ï¼Œä¼ ç»Ÿæ‰§è¡Œæ–¹å¼éœ€å¯¹å…¨è¡¨æ•°æ®è¿›è¡Œæ‰«æå¹¶æ’åºï¼Œè¿™ä¼šå¯¼è‡´å¤§é‡ä¸å¿…è¦çš„æ•°æ®è¯»å–ï¼Œå¼•å‘è¯»æ”¾å¤§é—®é¢˜ã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œ<strong>Doris å¼•å…¥å»¶è¿Ÿç‰©åŒ–æœºåˆ¶ï¼Œå°† TopN æŸ¥è¯¢æ‹†è§£ä¸ºä¸¤é˜¶æ®µé«˜æ•ˆæ‰§è¡Œ</strong>ï¼šç¬¬ä¸€é˜¶æ®µä»…è¯»å–æ’åºå­—æ®µï¼ˆcolumnAï¼‰ä¸ç”¨äºå®šä½æ•°æ®çš„ä¸»é”® / è¡Œæ ‡è¯†ï¼Œé€šè¿‡æ’åºå¿«é€Ÿç­›é€‰å‡ºç¬¦åˆ <code>LIMIT N</code> æ¡ä»¶çš„ç›®æ ‡è¡Œï¼›ç¬¬äºŒé˜¶æ®µå†åŸºäºè¡Œæ ‡è¯†ç²¾å‡†è¯»å–ç›®æ ‡è¡Œçš„æ‰€æœ‰åˆ—æ•°æ®ã€‚<strong>è¯¥æ–¹æ¡ˆèƒ½å¤§å¹…å‰Šå‡éå¿…è¦åˆ—çš„è¯»å–é‡ï¼Œåœ¨å®½è¡¨å° <code>LIMIT</code> åœºæ™¯ä¸‹ï¼ŒTopN æŸ¥è¯¢çš„æ‰§è¡Œæ•ˆç‡æœ‰æ•°åå€çš„æå‡</strong>ã€‚</p>
<h2 data-id="heading-12">7. æœ€ä½³å®è·µ</h2>
<p>ä¸ºäº†éªŒè¯ Apache Doris åœ¨çœŸå®ä¸šåŠ¡æ•°æ®ä¸Šçš„æ··åˆæœç´¢æ€§èƒ½ï¼Œæˆ‘ä»¬åŸºäºå…¬å¼€çš„ Hacker News æ•°æ®é›†è¿›è¡Œäº†æ€§èƒ½æµ‹è¯•ã€‚è¯¥æ•°æ®é›†æ¶µç›–å¤šç»´ã€æ–‡æœ¬å’Œå‘é‡åˆ†æä¸‰ç§ç±»å‹ï¼Œæ˜¯æ£€éªŒ Doris HSAP ç»Ÿä¸€å¼•æ“ç‰¹æ€§çš„æƒå¨æ ·æœ¬ã€‚</p>
<p><strong>æµ‹è¯•æ–¹å¼</strong></p>
<p>åœ¨ AWS ç¯å¢ƒæ„å»ºä¸€ä¸ªå®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œä»æ•°æ®åŠ è½½åˆ° RRF èåˆæŸ¥è¯¢ï¼Œå®Œæ•´éªŒè¯ Doris åœ¨è¯­ä¹‰æœç´¢ã€æ–‡æœ¬æœç´¢ä¸ç»“æ„åŒ–è¿‡æ»¤ä¸‰åˆä¸€åœºæ™¯ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚</p>
<p><strong>ç¡¬ä»¶ç¯å¢ƒ</strong></p>
<ul>
<li>AWS EC2 å®ä¾‹ï¼š<code>m6i.8xlarge</code>ï¼ˆ32 vCPUï¼Œ128 GiB å†…å­˜ï¼‰</li>
<li>å•èŠ‚ç‚¹éƒ¨ç½² Apache Doris 4.0.1 ç‰ˆæœ¬</li>
</ul>
<p><strong>æ•°æ®é›†</strong></p>
<ul>
<li>æ•°æ®æºï¼šHacker News å…¬å¼€æ•°æ®é›†</li>
<li>æ•°æ®è§„æ¨¡ï¼š2874 ä¸‡æ¡è®°å½•</li>
<li>å‘é‡ç»´åº¦ï¼š384 ç»´ï¼ˆç”± <em>all-MiniLM-L6-v2</em> æ¨¡å‹ç”Ÿæˆï¼‰</li>
<li>å­—æ®µç±»å‹ä¸¾ä¾‹ï¼šæ–‡æœ¬ï¼ˆ<code>text</code>ï¼Œ <code>title</code>ï¼‰ã€ç»“æ„åŒ–ï¼ˆ<code>time</code>ï¼Œ <code>post_score</code>ï¼‰ã€å‘é‡ï¼ˆ<code>vector</code>ï¼‰</li>
</ul>
<h3 data-id="heading-13">7.1 å»ºè¡¨ä¸ç´¢å¼•è®¾è®¡</h3>
<p>Doris å…è®¸åœ¨åŒä¸€å¼ è¡¨ä¸­å®šä¹‰å€’æ’ç´¢å¼•ä¸å‘é‡ç´¢å¼•ï¼Œä»è€Œå®ç°â€œæ–‡æœ¬ + å‘é‡ + ç»“æ„åŒ–â€æŸ¥è¯¢çš„æ— ç¼ç»“åˆã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> hackernews (
  id           <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  text         STRING,
  title        STRING,
  vector       <span class="hljs-keyword">ARRAY</span><span class="hljs-operator">&lt;</span><span class="hljs-type">FLOAT</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  <span class="hljs-type">time</span>         DATETIME,
  post_score   <span class="hljs-type">INT</span>,
  dead         TINYINT,
  deleted      TINYINT,
  INDEX ann_vector (`vector`) <span class="hljs-keyword">USING</span> ANN PROPERTIES (
    "index_type"<span class="hljs-operator">=</span>"hnsw",
    "metric_type"<span class="hljs-operator">=</span>"l2_distance",
    "dim"<span class="hljs-operator">=</span>"384",
    "quantizer"<span class="hljs-operator">=</span>"flat",
    "ef_construction"<span class="hljs-operator">=</span>"512"
  ),
  INDEX text_idx (`text`) <span class="hljs-keyword">USING</span> INVERTED PROPERTIES("parser"<span class="hljs-operator">=</span>"english", "support_phrase"<span class="hljs-operator">=</span>"true"),
  INDEX title_idx (`title`) <span class="hljs-keyword">USING</span> INVERTED PROPERTIES("parser"<span class="hljs-operator">=</span>"english", "support_phrase"<span class="hljs-operator">=</span>"true")
)
ENGINE<span class="hljs-operator">=</span>OLAP
DUPLICATE KEY(`id`)
DISTRIBUTED <span class="hljs-keyword">BY</span> HASH(`id`) BUCKETS <span class="hljs-number">4</span>
PROPERTIES("replication_num"<span class="hljs-operator">=</span>"1");
</code></pre>
<ul>
<li><code>text</code>ï¼Œ <code>title</code> å­—æ®µç”¨äºå…¨æ–‡æœç´¢ï¼Œåˆ›å»ºè‹±æ–‡åˆ†è¯ç±»å‹çš„å€’æ’ç´¢å¼•</li>
<li><code>vector</code> å­—æ®µç”¨äº ANN æœç´¢ï¼Œåˆ›å»ºå‘é‡ç´¢å¼•
<ul>
<li><code>"index_type"="hnsw"</code>ï¼šé‡‡ç”¨ HNSW ç®—æ³•ã€‚</li>
<li><code>"dim"="384"</code>ï¼šå¿…é¡»ä¸ <em>all-MiniLM-L6-v2</em> æ¨¡å‹è¾“å‡ºç»´åº¦ä¸¥æ ¼ä¸€è‡´ã€‚</li>
<li><code>"quantizer"="flat"</code>ï¼šæŒ‡å®šä½¿ç”¨ <code>flat</code>ï¼ˆæµ®ç‚¹ï¼‰è¿›è¡Œé‡åŒ–ï¼Œç¡®ä¿äº†æœ€é«˜çš„å¬å›ç²¾åº¦ã€‚åœ¨å¯¹å†…å­˜å ç”¨æ›´æ•æ„Ÿçš„åœºæ™¯ä¸‹ï¼Œå¯æ›¿æ¢ä¸º <code>sq8</code>ï¼ˆæ ‡é‡é‡åŒ–ï¼‰ã€‚</li>
<li><code>"ef_construction"="512"</code>ï¼šåœ¨ç´¢å¼•æ„å»ºé˜¶æ®µè®¾ç½®è¾ƒé«˜çš„æœç´¢ä¸Šç•Œï¼ˆ512ï¼‰ï¼Œæ„å‘³ç€åœ¨æ„å»ºæ—¶æŠ•å…¥æ›´å¤šèµ„æºï¼Œä»¥å»ºç«‹ä¸€ä¸ªè¿æ¥æ›´å……åˆ†ã€è´¨é‡æ›´é«˜çš„å›¾ç»“æ„ï¼Œä»è€Œä¸ºåç»­æŸ¥è¯¢æä¾›æ›´é«˜çš„å¬å›ç‡ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-14">7.2 æ•°æ®å¯¼å…¥</h3>
<p>ä½¿ç”¨ Doris  <code>INSERT INTO ... FROM local()</code> åŠŸèƒ½ï¼Œç›´æ¥ä»æœ¬åœ°ç£ç›˜åŠ è½½ Parquet æ–‡ä»¶ï¼Œå®ç°æ•°æ®å¯¼å…¥ã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> hackernews
<span class="hljs-keyword">SELECT</span>
  id,
  doc_id,
  `text`,
  `vector`,
  <span class="hljs-built_in">CAST</span>(`node_info` <span class="hljs-keyword">AS</span> JSON) <span class="hljs-keyword">AS</span> nodeinfo,
  metadata,
  <span class="hljs-built_in">CAST</span>(`type` <span class="hljs-keyword">AS</span> TINYINT),
  `<span class="hljs-keyword">by</span>`,
  `<span class="hljs-type">time</span>`,
  `title`,
  post_score,
  <span class="hljs-built_in">CAST</span>(`dead` <span class="hljs-keyword">AS</span> TINYINT),
  <span class="hljs-built_in">CAST</span>(`deleted` <span class="hljs-keyword">AS</span> TINYINT),
  `length`
<span class="hljs-keyword">FROM</span> <span class="hljs-keyword">local</span>(
  "file_path" <span class="hljs-operator">=</span> "hackernews_part_1_of_1.parquet",
  "backend_id" <span class="hljs-operator">=</span> "1762257097281", <span class="hljs-comment">-- éœ€æ›¿æ¢ä¸ºå®é™…çš„ BE èŠ‚ç‚¹ ID</span>
  "format" <span class="hljs-operator">=</span> "parquet"
);
</code></pre>
<h3 data-id="heading-15">7.3 RRF èåˆæŸ¥è¯¢</h3>
<p>ä»¥ä¸‹æ˜¯ä¸€æ®µ Doris é€šè¿‡ SQL å®ç° RRF ç®—æ³•ï¼Œå°†æ–‡æœ¬æœç´¢å’Œå‘é‡æœç´¢çš„ç»“æœè¿›è¡Œèåˆçš„ç¤ºä¾‹æŸ¥è¯¢ã€‚</p>
<pre><code class="hljs language-SQL" lang="SQL"><span class="hljs-keyword">WITH</span>
  text_raw <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, score() <span class="hljs-keyword">AS</span> bm25
      <span class="hljs-keyword">FROM</span> hackernews
      <span class="hljs-keyword">WHERE</span> (`text` MATCH_PHRASE <span class="hljs-string">'hybird search'</span> 
             <span class="hljs-keyword">OR</span> `title` MATCH_PHRASE <span class="hljs-string">'hybird search'</span>)
        <span class="hljs-keyword">AND</span> dead <span class="hljs-operator">=</span> <span class="hljs-number">0</span> <span class="hljs-keyword">AND</span> deleted <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> score() <span class="hljs-keyword">DESC</span>
      LIMIT <span class="hljs-number">1000</span>
  ),
  vec_raw <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, l2_distance_approximate(`vector`, [<span class="hljs-number">0.12</span>, <span class="hljs-number">0.08</span>, ...]) <span class="hljs-keyword">AS</span> dist
      <span class="hljs-keyword">FROM</span> hackernews
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist <span class="hljs-keyword">ASC</span>
      LIMIT <span class="hljs-number">1000</span>
  ),
  text_rank <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> bm25 <span class="hljs-keyword">DESC</span>) <span class="hljs-keyword">AS</span> r_text <span class="hljs-keyword">FROM</span> text_raw
  ),
  vec_rank <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> dist <span class="hljs-keyword">ASC</span>) <span class="hljs-keyword">AS</span> r_vec <span class="hljs-keyword">FROM</span> vec_raw
  ),
  fused <span class="hljs-keyword">AS</span> (
      <span class="hljs-keyword">SELECT</span> id, <span class="hljs-built_in">SUM</span>(<span class="hljs-number">1.0</span><span class="hljs-operator">/</span>(<span class="hljs-number">60</span> <span class="hljs-operator">+</span> rank)) <span class="hljs-keyword">AS</span> rrf_score
      <span class="hljs-keyword">FROM</span> (
          <span class="hljs-keyword">SELECT</span> id, r_text <span class="hljs-keyword">AS</span> rank <span class="hljs-keyword">FROM</span> text_rank
          <span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
          <span class="hljs-keyword">SELECT</span> id, r_vec  <span class="hljs-keyword">AS</span> rank <span class="hljs-keyword">FROM</span> vec_rank
      ) t
      <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> id
      <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> rrf_score <span class="hljs-keyword">DESC</span>
      LIMIT <span class="hljs-number">20</span>
  )
<span class="hljs-keyword">SELECT</span> f.id, h.title, h.text, f.rrf_score
<span class="hljs-keyword">FROM</span> fused f <span class="hljs-keyword">JOIN</span> hackernews h <span class="hljs-keyword">ON</span> h.id <span class="hljs-operator">=</span> f.id
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> f.rrf_score <span class="hljs-keyword">DESC</span>;
</code></pre>
<p>æ‰§è¡Œæµç¨‹è¯´æ˜ï¼š</p>
<ol>
<li>å¹¶è¡Œå¬å›ï¼šå€’æ’ç´¢å¼•ä¸ ANN ç´¢å¼•åˆ†åˆ«æ‰§è¡Œ BM25 ä¸ L2 è·ç¦»å¬å›</li>
<li>å±€éƒ¨æ’åºï¼šå„è‡ªè®¡ç®—å†…éƒ¨æ’å</li>
<li>èåˆæ‰“åˆ†ï¼šæ‰§è¡Œ RRF å…¬å¼ <code>1/(k+rank)</code>ï¼Œèåˆæ–‡æœ¬ä¸è¯­ä¹‰ç»“æœ</li>
<li>æœ€ç»ˆå›è¡¨ï¼šä»…å¯¹ Top-K ç»“æœ JOIN åŸè¡¨è·å–æ­£æ–‡ã€‚</li>
</ol>
<h3 data-id="heading-16">7.4  å®é™…æŸ¥è¯¢æµ‹è¯•</h3>
<p>åœ¨ç›¸åŒçš„ç¯å¢ƒä¸‹ï¼Œæ­£å¼å¯¹ Apache Doris çš„æ··åˆæœç´¢æ€§èƒ½è¿›è¡Œäº†æµ‹è¯•ã€‚åœ¨è¿™ä¸€æµ‹è¯•ä¸­ï¼Œä½¿ç”¨äº† <code>hybrid search</code> ä½œä¸ºå…³é”®è¯ï¼Œè¿›è¡Œäº†æ–‡æœ¬å¬å›+å‘é‡å¬å›+ RRF èåˆã€‚ç»“æœæ˜¾ç¤ºï¼Œ<strong>æŸ¥è¯¢å»¶è¿Ÿä»…ä¸º 65.83 æ¯«ç§’</strong>ï¼Œä½“ç°äº†ç³»ç»Ÿå¯¹å¤æ‚æŸ¥è¯¢çš„é«˜æ•ˆå¤„ç†èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-Plain" lang="Plain">==================================================================================================================================
id       | title                                              |  rrf_score | text_snippet                                           
----------------------------------------------------------------------------------------------------------------------------------
845652   | Google Bing Hybrid Search - badabingle             |   0.026010 | beendonebefore:  thenewguy: Sure it steals google an...
2199216  |                                                    |   0.017510 | citricsquid:FYI DDG just uses the bing API and then ...
2593213  | Ask HN:Why there's no Regular Expression search... |   0.016390 | bluegene: What's keeping Google/other search engines...
6931880  | Introducing Advanced Search                        |   0.016390 | mecredis:                                              
3038364  | Bing Using Adaptive Search                         |   0.016120 | brandignity:                                           
1727739  |                                                    |   0.016120 | pavs:I think the name is the only thing that is wron...
18453472 | AdaSearch: A Successive Elimination Approach to... |   0.015870 | jonbaer:                                               
1727788  |                                                    |   0.015870 | epi0Bauqu:It's a hybrid engine. I do my own crawling...
2390509  | Reinventing the classic search model               |   0.015620 | justnearme:                                            
2199325  |                                                    |   0.015380 | epi0Bauqu:FYI: no, actually we are a hybrid search e...
26328758 | Brave buys a search engine, promises no trackin... |   0.015150 | samizdis:  jerf: &amp;quot;The service will, eventually,...
325246   | Future of Search Wonâ€™t Be Incremental              |   0.015150 | qhoxie:                                                
3067986  | Concept-Based Search - Enter the Interllective     |   0.014920 | hendler:                                               
3709259  | Google Search: Change is Coming                    |   0.014920 | Steveism:  victork2: Well Google, a word of warning ...
10009267 | Hulbee â€“ A Safe, Smart, Innovative Search Engine   |   0.014700 | doener:  captaincrunch: My previous comment didn&amp;#x2...
1119177  | Elastic Search - You Know, for Search              |   0.014700 | yungchin:                                              
4485350  |                                                    |   0.014490 | ChuckMcM:Heh, perhaps.&lt;p&gt;DDG is a great product, we ...
23476454 |                                                    |   0.014490 | Multicomp:AstroGrep! ronjouch: BareGrep! For live&amp;#x...
7381459  | HTML5 Incremental Search                           |   0.014280 | ultimatedelman:                                        
4485488  |                                                    |   0.014280 | epi0Bauqu:Hmm, we're (DDG) not a search engine? Come...
==================================================================================================================================
</code></pre>
<h2 data-id="heading-17">ç»“æŸè¯­</h2>
<p>ç»¼ä¸Šæ‰€è¿°ï¼ŒApache Doris åœ¨å¤æ‚ã€é«˜ç»´çš„æ··åˆæœç´¢åœºæ™¯ä¸­çš„ä¼˜å¼‚è¡¨ç°ï¼Œå……åˆ†è¯æ˜å…¶ä»¥åœ¨ AI æ—¶ä»£æ•°æ®åŸºç¡€è®¾æ–½è§£å†³æ–¹æ¡ˆä¸­å æ®ä¸€å¸­ä¹‹åœ°ã€‚å…¶ç»Ÿä¸€çš„ HSAP æ¶æ„ä»æ ¹æœ¬ä¸Šæ»¡è¶³äº† Agent å¯¹å¤šæ¨¡æ€æ•°æ®åˆ†æï¼Œåº”å…·å¤‡å…¨é¢æ€§ã€è¯­ä¹‰çš„ç²¾ç¡®æ€§ä»¥åŠæµç¨‹çš„å¯æ§æ€§çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸€ï¼‰ï¼šå¼€å§‹ä½¿ç”¨Codex Cli]]></title>    <link>https://juejin.cn/post/7584987267293184046</link>    <guid>https://juejin.cn/post/7584987267293184046</guid>    <pubDate>2025-12-18T08:11:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584987267293184046" data-draft-id="7584810656383057929" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸€ï¼‰ï¼šå¼€å§‹ä½¿ç”¨Codex Cli"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-18T08:11:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TimeFine"/> <meta itemprop="url" content="https://juejin.cn/user/3913917123802615"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android AIè§£æ”¾ç”Ÿäº§åŠ›ï¼ˆä¸€ï¼‰ï¼šå¼€å§‹ä½¿ç”¨Codex Cli
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3913917123802615/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TimeFine
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:11:25.000Z" title="Thu Dec 18 2025 08:11:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘å®è·µäº†Codex Cliç¼–ç¨‹ï¼ŒæŠŠä¸€äº›ä½¿ç”¨ä½“ä¼šç§¯ç´¯ä¸‹æ¥ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸Šè½¦Codex</h2>
<p>åœ¨å›½å†…æŸé±¼äºŒæ‰‹å¹³å°æœç´¢"codexæ‹¼è½¦â€œå¯ä»¥èŠ±åå‡ å—é’±ä½“éªŒChatGPTæœ€æ–°çš„æ¨¡å‹ï¼ŒåŒæ—¶åˆ©ç”¨æœ€æ–°çš„gpt-5.1-codex-max highå¼€å¯Codex Cliä¹‹æ—…ã€‚</p>
<h2 data-id="heading-1">äºŒã€Codex Cliæ˜¯ä»€ä¹ˆ</h2>
<p>Codex Cliæ˜¯ä¸€ä¸ªç»ˆç«¯ç¼–ç¨‹å·¥å…·ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åœ¨ç»ˆç«¯å®Œæˆçš„ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€å®‰è£…Codex Cli</h2>
<p>è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.openai.com%2Fcodex%2Fcli%2F" target="_blank" title="https://developers.openai.com/codex/cli/" ref="nofollow noopener noreferrer">å®˜ç½‘</a> å®‰è£…ï¼ŒæŒ‰ç…§æ­¥éª¤å®‰è£…å³å¯ã€‚</p>
<h2 data-id="heading-3">å››ã€äº†è§£ç»ˆç«¯çš„æŒ‡ä»¤</h2>
<p>Macç”µè„‘ä¸Šç»ˆç«¯å°±æ˜¯â€ç»ˆç«¯.appâ€œï¼Œç»ˆç«¯çš„ç®€å•ä½¿ç”¨å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„è¡¨æ ¼ï¼š</p>


















































<table><thead><tr><th align="left">ç›®æ ‡åœºæ™¯</th><th align="left">å‘½ä»¤ç¤ºä¾‹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">è¿”å›ç”¨æˆ·ä¸»ç›®å½• (<code>/Users/ä½ çš„ç”¨æˆ·å</code>)</td><td align="left"><code>cd</code> æˆ– <code>cd ~</code></td><td align="left">æœ€ç®€å•çš„å‘½ä»¤ï¼Œè®©ä½ è¿…é€Ÿ"å›å®¶"ã€‚</td></tr><tr><td align="left">è¿›å…¥å½“å‰ç›®å½•çš„æŸä¸ªå­æ–‡ä»¶å¤¹</td><td align="left"><code>cd Documents</code></td><td align="left">ä½¿ç”¨<strong>ç›¸å¯¹è·¯å¾„</strong>ï¼Œè¿›å…¥å½“å‰ç›®å½•ä¸‹çš„ "Documents" æ–‡ä»¶å¤¹ã€‚</td></tr><tr><td align="left">è¿›å…¥ä»»æ„æŒ‡å®šè·¯å¾„</td><td align="left"><code>cd /Users/ä½ çš„ç”¨æˆ·å/Desktop</code></td><td align="left">ä½¿ç”¨<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œå¯ä»¥ä»ä»»ä½•åœ°æ–¹ç›´æ¥è·³è½¬åˆ°ç›®æ ‡è·¯å¾„ã€‚</td></tr><tr><td align="left">è¿”å›ä¸Šä¸€çº§ç›®å½•</td><td align="left"><code>cd ..</code></td><td align="left">ä¸€ä¸ªç‚¹ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸¤ä¸ªç‚¹ä»£è¡¨ä¸Šçº§ç›®å½•ã€‚</td></tr><tr><td align="left">è¿”å›ä¸Šä¸¤çº§ç›®å½•</td><td align="left"><code>cd ../..</code></td><td align="left">è¿”å›ä¸Šä¸¤çº§ç›®å½•ã€‚</td></tr><tr><td align="left">å›åˆ°ä¹‹å‰çš„ç›®å½•</td><td align="left"><code>cd -</code></td><td align="left">åœ¨ä¸¤ä¸ªç›®å½•ä¹‹é—´å¿«é€Ÿåˆ‡æ¢ï¼Œéå¸¸æ–¹ä¾¿ã€‚</td></tr><tr><td align="left">Tabé”®è¡¥å…¨</td><td align="left">è¾“å…¥éƒ¨åˆ†è·¯å¾„åæŒ‰Tabé”®</td><td align="left">è‡ªåŠ¨è¡¥å…¨è·¯å¾„æˆ–æ–‡ä»¶åï¼ŒæŒ‰ä¸¤æ¬¡Tabå¯åˆ—å‡ºæ‰€æœ‰åŒ¹é…é¡¹ã€‚</td></tr><tr><td align="left">æŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹</td><td align="left"><code>ls</code></td><td align="left">åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ã€‚</td></tr></tbody></table>
<p>PS:å¦‚æœå·²ç»è¿›å…¥äº†Codexï¼Œå¯ä»¥åœ¨å‰é¢åŠ ï¼ä½¿ç”¨ç»ˆç«¯çš„æŒ‡ä»¤ã€‚</p>
<h2 data-id="heading-4">äº”ã€äº†è§£Codexçš„æ–œæ å‘½ä»¤</h2>
<p><strong>Codex CLI å†…ç½®æ–œæ å‘½ä»¤ä¸€è§ˆ</strong></p>
<p>ä¸‹é¢è¿™äº›å‘½ä»¤éƒ½è¦åœ¨ <strong>å·²è¿›å…¥ Codex äº¤äº’ç•Œé¢å</strong> ä½¿ç”¨ï¼š</p>
<ul>
<li>
<p><strong>/model</strong></p>
<p>åˆ‡æ¢å½“å‰ä½¿ç”¨çš„æ¨¡å‹å’Œæ¨ç†å¼ºåº¦ï¼Œæ¯”å¦‚åœ¨ gpt-5-codex å’Œ gpt-5 ä¹‹é—´åˆ‡ã€‚</p>
</li>
<li>
<p><strong>/approvals</strong></p>
<p>è®¾ç½® Codex çš„æˆæƒæ¨¡å¼ï¼ˆAuto / Read Only / Full Accessï¼‰ï¼Œæ§åˆ¶èƒ½å¦è‡ªåŠ¨æ”¹æ–‡ä»¶ã€è·‘å‘½ä»¤ç­‰ã€‚</p>
</li>
<li>
<p><strong>/review</strong></p>
<p>è®© Codex å®¡æŸ¥å½“å‰å·¥ä½œç›®å½•ä¸­çš„ä»£ç æ”¹åŠ¨ï¼ˆæœ¬åœ° git diffï¼‰ï¼Œæ‰¾é—®é¢˜ã€æå»ºè®®ã€‚</p>
</li>
<li>
<p><strong>/new</strong></p>
<p>åœ¨åŒä¸€ä¸ª Codex è¿›ç¨‹é‡Œå¼€å¯ä¸€æ®µæ–°çš„å¯¹è¯ï¼Œæ¸…ç©ºä¸Šä¸‹æ–‡ä½†è¿˜åœ¨å½“å‰ä»£ç ä»“åº“ä¸‹ç»§ç»­å·¥ä½œã€‚</p>
</li>
<li>
<p><strong>/init</strong></p>
<p>åœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª AGENTS.md æ¨¡æ¿æ–‡ä»¶ï¼Œç”¨æ¥å†™ç»™ Codex çš„â€œé¡¹ç›®è¯´æ˜ä¹¦â€ï¼Œé•¿æœŸæŒ‡å¯¼å®ƒæ€ä¹ˆå¹²æ´»ã€‚</p>
</li>
<li>
<p><strong>/compact</strong></p>
<p>æŠŠå½“å‰å¯¹è¯å†…å®¹å‹ç¼©æˆæ€»ç»“ï¼Œé‡Šæ”¾ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œé˜²æ­¢â€œä¸Šä¸‹æ–‡çˆ†æ‰â€ã€‚</p>
</li>
<li>
<p><strong>/undo</strong></p>
<p>æ’¤é”€ Codex ä¸Šä¸€æ¬¡æ“ä½œï¼ˆåŒ…æ‹¬æ–‡ä»¶ä¿®æ”¹ / å‘½ä»¤æ‰§è¡Œï¼‰ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</p>
</li>
<li>
<p><strong>/diff</strong></p>
<p>æŸ¥çœ‹å½“å‰ git diffï¼ˆåŒ…æ‹¬æœªè·Ÿè¸ªæ–‡ä»¶ï¼‰ï¼Œæ–¹ä¾¿ä½ åœ¨æäº¤å‰æ£€æŸ¥ Codex æ”¹äº†ä»€ä¹ˆã€‚</p>
</li>
<li>
<p><strong>/mention</strong></p>
<p>æŠŠæŸä¸ªæ–‡ä»¶/ç›®å½•â€œç‚¹åâ€åŠ å…¥ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">/mention src/lib/api.ts
</code></pre>
</li>
</ul>
<p>ä¹‹åå®ƒä¼šé‡ç‚¹å‚è€ƒè¿™ä¸ªæ–‡ä»¶ã€‚</p>
<ul>
<li>
<p><strong>/status</strong></p>
<p>æŸ¥çœ‹å½“å‰ä¼šè¯çŠ¶æ€ï¼šæ­£åœ¨ç”¨å“ªä¸ªæ¨¡å‹ã€å®¡æ‰¹ç­–ç•¥ã€å¯å†™ç›®å½•ã€token ä½¿ç”¨æƒ…å†µç­‰ã€‚</p>
</li>
<li>
<p><strong>/mcp</strong></p>
<p>åˆ—å‡ºå·²é…ç½®çš„ MCPï¼ˆModel Context Protocolï¼‰å·¥å…·ï¼Œæ¯”å¦‚ä½ æ¥äº†æµè§ˆå™¨ã€æ•°æ®åº“ä¹‹ç±»çš„é¢å¤–å·¥å…·æ—¶ï¼Œå¯ä»¥çœ‹ Codex å½“å‰èƒ½è°ƒç”¨å“ªäº›ã€‚</p>
</li>
<li>
<p><strong>/prompts</strong></p>
<p>è‡ªå®šä¹‰äº†promptså¯ä»¥è§¦å‘</p>
</li>
<li>
<p><strong>/skills</strong></p>
<p>è‡ªå®šä¹‰äº†skillså¯ä»¥è§¦å‘</p>
</li>
<li>
<p><strong>/logout</strong></p>
<p>é€€å‡º Codex ç™»å½•çŠ¶æ€ï¼Œæ¸…é™¤æœ¬æœºä¿å­˜çš„è®¤è¯ä¿¡æ¯ï¼ˆå…±äº«ç”µè„‘ä¸ŠæŒºæœ‰ç”¨ï¼‰ã€‚</p>
</li>
<li>
<p><strong>/quit</strong></p>
<p>é€€å‡º Codex CLIï¼Œç»“æŸå½“å‰ä¼šè¯ã€‚</p>
</li>
<li>
<p><strong>/exit</strong></p>
<p>å’Œ /quit ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€€å‡º Codex çš„åˆ«åã€‚</p>
</li>
<li>
<p><strong>/feedback</strong></p>
<p>æŠŠæ—¥å¿—å‘é€ç»™ Codex ç»´æŠ¤å›¢é˜Ÿï¼Œç”¨æ¥æŠ¥ bug æˆ–åé¦ˆé—®é¢˜ã€‚</p>
</li>
</ul>
<h2 data-id="heading-5">å…­ã€åˆå§‹åŒ–é¡¹ç›®</h2>
<p>è¿›å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œè¾“å…¥<code>codex</code>å›è½¦ã€‚ç„¶åè¾“å…¥æ–œæ å‘½ä»¤<code>/init</code>,ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œé¡¹ç›®çš„æ ¹ç›®å½•ä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶<code>AGENTS.md</code>ï¼Œè¿™æ˜¯ä¸€ä»½Markdownæ–‡ä»¶ï¼Œæ˜¯Codexæ€»ç»“çš„ä¸€äº›é¡¹ç›®è§„èŒƒï¼Œæ˜¯æ‰€æœ‰Agentè¯»å–é¡¹ç›®æ—¶ç”Ÿæˆã€åˆ›å»ºã€ä¿®æ”¹çš„åŸºç¡€è§„èŒƒå‡†ç»³ã€‚è‡ªå·±ä¹Ÿå¯ä»¥å¾€é‡Œé¢æ·»åŠ ï¼Œåªè¦æ˜¯é¡¹ç›®çš„è§„èŒƒéƒ½å¯ä»¥åŠ åœ¨é‡Œé¢ï¼Œè®©æ‰€æœ‰çš„Agentéƒ½éµå¾ªè§„åˆ™ã€‚</p>
<p><code>AGENTS.md</code>ä¸éœ€è¦åŠ å…¥å¿½ç•¥ï¼Œä¸Šä¼ åˆ°ä»“åº“ç®¡ç†ã€‚</p>
<h2 data-id="heading-6">ä¸ƒã€é€‰æ‹©æ¨¡å‹</h2>
<p>è¾“å…¥æ–œæ å‘½ä»¤<code>/model</code>, é€‰æ‹©Codexä½¿ç”¨çš„æ¨¡å‹ï¼Œæˆ‘ç°åœ¨ä½¿ç”¨çš„æ˜¯<code>gpt-5.1-codex-max high</code>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€iOSã€‘å¦‚ä½•åœ¨ iOS 26 çš„UITabBarControllerä¸­ä½¿ç”¨è‡ªå®šä¹‰TabBar]]></title>    <link>https://juejin.cn/post/7584824891595997220</link>    <guid>https://juejin.cn/post/7584824891595997220</guid>    <pubDate>2025-12-18T08:19:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584824891595997220" data-draft-id="7584725529877168178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€iOSã€‘å¦‚ä½•åœ¨ iOS 26 çš„UITabBarControllerä¸­ä½¿ç”¨è‡ªå®šä¹‰TabBar"/> <meta itemprop="keywords" content="iOS,Swift,WWDC"/> <meta itemprop="datePublished" content="2025-12-18T08:19:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥äº†ä¸ªå¹³_24"/> <meta itemprop="url" content="https://juejin.cn/user/2559318802065390"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€iOSã€‘å¦‚ä½•åœ¨ iOS 26 çš„UITabBarControllerä¸­ä½¿ç”¨è‡ªå®šä¹‰TabBar
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2559318802065390/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥äº†ä¸ªå¹³_24
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:19:15.000Z" title="Thu Dec 18 2025 08:19:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Demoåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRogue24%2FClassicTabBarUsingDemo" target="_blank" title="https://github.com/Rogue24/ClassicTabBarUsingDemo" ref="nofollow noopener noreferrer">ClassicTabBarUsingDemo</a>ï¼ˆä¸»è¦å®ç°ä»£ç å¯æœç´¢â€œğŸ“Œâ€æŸ¥çœ‹ï¼‰</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eac2fb6e98fb420e9b20937a5eddae0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YGl5LqG5Liq5bmzXzI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652959&amp;x-signature=SXD4j2FO%2BLLvnfSZH8FSkhg%2BbbU%3D" width="25%" loading="lazy"/>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>è‹¹æœè‡ª iOS 26 èµ·å°±ä½¿ç”¨å…¨æ–°çš„UI --- Liquid Glassï¼Œå¯¼è‡´å¾ˆå¤šç³»ç»Ÿç»„ä»¶ä¹Ÿè¢«è¿«å¼ºåˆ¶ä½¿ç”¨ï¼Œé¦–å½“å…¶å†²å°±æ˜¯<code>UITabBarController</code>ï¼Œå¯¹äºå¾ˆå¤šå–œæ¬¢ä½¿ç”¨è‡ªå®šä¹‰TabBarçš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™å¾ˆæ˜¯æ— å¥ˆï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2253a3bda42145249248b8a09fab6e15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YGl5LqG5Liq5bmzXzI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652959&amp;x-signature=cwCfvzRPEoUvh5atR6q%2BWg%2Be5Xs%3D" width="50%" loading="lazy"/>
<ul>
<li><em>å¼ºè¡Œç»™ä½ å¥—ä¸ªç»ç’ƒç½©å­</em></li>
</ul>
<p>é‚£å¦‚ä½•åœ¨ <strong>iOS 26</strong> çš„<code>UITabBarController</code>ç»§ç»­ä½¿ç”¨è‡ªå®šä¹‰<code>TabBar</code>å‘¢ï¼Ÿè¿™é‡Œä»‹ç»ä¸€ä¸‹æˆ‘çš„æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">å®ç°æ–¹æ¡ˆ</h2>
<p>ç»è§‚å¯Ÿï¼Œä»¥å¾€<code>TabBar</code>çš„æ˜¾ç¤ºæ•ˆæœï¼Œä¸ªäººçŒœæµ‹ç³»ç»Ÿæ˜¯æŠŠ<code>TabBar</code>æ”¾åˆ°<strong>å½“å‰å­VC</strong>çš„viewä¸Šï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/98f82b3c05e745c090063033d05da67d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YGl5LqG5Liq5bmzXzI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766652959&amp;x-signature=jwx%2Bt%2B%2BLO%2BWb%2FfBVjHfxiQs0rOw%3D" width="50%" loading="lazy"/>
<p>æŒ‰ç…§è¿™ä¸ªæ€è·¯å¯ä»¥è¿™ä¹ˆå®ç°ï¼š</p>
<ol>
<li>é¦–å…ˆ<strong>è‡ªå®šä¹‰TabBar</strong>è¦ä½¿ç”¨<code>UIView</code>ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ç§è‡ªæ”¹é€ çš„<code>UITabBar</code>ï¼Œå¾—æ¢æˆ<code>UIView</code>äº†ï¼‰ï¼Œå¹¶ä¸”éšè—ç³»ç»ŸTabBarã€‚</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainTabBarController</span>: <span class="hljs-title class_">UITabBarController</span> {
    <span class="hljs-operator">......</span>
    
    <span class="hljs-comment">/// è‡ªå®šä¹‰TabBar</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> customTabBar <span class="hljs-operator">=</span> <span class="hljs-type">WLTabBar</span>()
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewWillAppear</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">animated</span>: <span class="hljs-type">Bool</span>) {
        <span class="hljs-keyword">super</span>.viewWillAppear(animated)
        <span class="hljs-comment">// éšè—ç³»ç»ŸTabBar</span>
        setTabBarHidden(<span class="hljs-literal">true</span>, animated: <span class="hljs-literal">false</span>)
    }
    
    <span class="hljs-operator">......</span>
}

</code></pre>
<ol start="2">
<li>åœ¨<code>TabBarController</code>åŠå…¶å­VCéƒ½åˆ›å»ºä¸€ä¸ªä¸“é—¨å­˜æ”¾è‡ªå®šä¹‰TabBarçš„å®¹å™¨ï¼Œä¸”å±‚çº§å¿…é¡»æ˜¯<strong>æœ€é¡¶å±‚</strong>ï¼ˆä¹‹åæ·»åŠ çš„å­è§†å›¾éƒ½å¾—æ’åˆ°<strong>TabBarå®¹å™¨</strong>çš„ä¸‹é¢ï¼‰ã€‚</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseViewController</span>: <span class="hljs-title class_">UIViewController</span> {
    <span class="hljs-comment">/// ä¸“é—¨å­˜æ”¾è‡ªå®šä¹‰TabBarçš„å®¹å™¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> tabBarContainer <span class="hljs-operator">=</span> <span class="hljs-type">TabBarContainer</span>()

    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLoad</span>() {
        <span class="hljs-keyword">super</span>.viewDidLoad()
        
        tabBarContainer.translatesAutoresizingMaskIntoConstraints <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
        view.addSubview(tabBarContainer)
        <span class="hljs-type">NSLayoutConstraint</span>.activate([
            tabBarContainer.leadingAnchor.constraint(equalTo: view.leadingAnchor),
            tabBarContainer.trailingAnchor.constraint(equalTo: view.trailingAnchor),
            tabBarContainer.bottomAnchor.constraint(equalTo: view.bottomAnchor),
            tabBarContainer.heightAnchor.constraint(equalToConstant: <span class="hljs-type">Env</span>.tabBarFullH) <span class="hljs-comment">// ä¸‹å·´+TabBaré«˜åº¦</span>
        ])
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">viewDidLayoutSubviews</span>() {
        <span class="hljs-keyword">super</span>.viewDidLayoutSubviews()
        <span class="hljs-comment">// å±‚çº§å¿…é¡»æ˜¯æœ€é¡¶å±‚</span>
        view.bringSubviewToFront(tabBarContainer)
    }
    
    <span class="hljs-comment">// å°†è‡ªå®šä¹‰TabBaræ”¾åˆ°è‡ªå·±çš„TabBarå®¹å™¨ä¸Š</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">addTabBar</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tabBar</span>: <span class="hljs-type">UIView</span>) {
        tabBar.superview<span class="hljs-operator">?</span>.isUserInteractionEnabled <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
        tabBarContainer.addSubview(tabBar)
        tabBarContainer.isUserInteractionEnabled <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
    }
}
</code></pre>
<ol start="3">
<li>æœ€åï¼Œ<code>TabBarController</code>å½“å‰æ˜¾ç¤ºå“ªä¸ªå­VCï¼Œå°±æŠŠ<strong>è‡ªå®šä¹‰TabBar</strong>æ”¾åˆ°å¯¹åº”å­VCçš„<strong>TabBarå®¹å™¨</strong>ä¸Šï¼Œè¿™æ ·åˆ™ä¸ä¼šå½±å“<code>push</code>æˆ–<code>present</code>å…¶ä»–VCã€‚</li>
</ol>
<p>OKï¼Œå®Œäº‹äº†ã€‚</p>
<h2 data-id="heading-2">æ³¨æ„ç‚¹</h2>
<p>æ ¸å¿ƒå®ç°å°±æ˜¯ä»¥ä¸Š3ç‚¹ï¼Œæ¥ä¸‹æ¥è®²ä¸€ä¸‹æ³¨æ„ç‚¹ã€‚</p>
<p>ä¸Šé¢è¯´åˆ°ï¼Œ<code>TabBarController</code>ä¹Ÿå¾—åˆ›å»ºä¸€ä¸ª<strong>TabBarå®¹å™¨</strong>ï¼Œè¿™ä¸»è¦æ˜¯ç”¨æ¥åˆ‡æ¢å­VCçš„ï¼š</p>
<p><strong>åœ¨åˆ‡æ¢å­VCå‰ï¼Œè‡ªå®šä¹‰TabBarå¿…é¡»å…ˆæ”¾åˆ°TabBarControllerçš„TabBarå®¹å™¨ä¸Šï¼Œåˆ‡æ¢åå†æ”¾åˆ°ç›®æ ‡å­VCçš„TabBarå®¹å™¨ä¸Šã€‚</strong></p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>ä¸€èˆ¬å­VCçš„å†…å®¹éƒ½æ˜¯æ‡’åŠ è½½ï¼ˆçœ‹åˆ°æ‰æ„å»ºï¼‰ï¼Œå¦‚æœæ˜¯å¾ˆå¤æ‚çš„ç•Œé¢ï¼Œä¸å…ä¼šæœ‰å¡é¡¿çš„æƒ…å†µï¼Œå¦‚æœç›´æ¥æŠŠè‡ªå®šä¹‰TabBarä¸¢è¿‡å»ï¼ŒTabBarä¼šé—ªçƒä¸€ä¸‹ï¼Œæ•ˆæœä¸å¤ªå¥½ï¼›å¦å¤–è‡ª iOS 18 èµ·åˆ‡æ¢å­VCä¼šå¸¦æœ‰é»˜è®¤çš„ç³»ç»ŸåŠ¨ç”»ï¼Œå…¶åŠ¨ç”»ä½œç”¨äºå­VCçš„viewä¸Šï¼Œå³ä¾¿è¯¥å­VCæ—©å°±æ„å»ºå¥½ï¼Œç«‹é©¬è½¬ç§»TabBarä¹Ÿä¼šé—ªçƒä¸€ä¸‹ã€‚</p>
<p>å› æ­¤ä¸ªäººå»ºè®®å…ˆæŠŠ<strong>è‡ªå®šä¹‰TabBar</strong>æ”¾<code>TabBarController</code>çš„<strong>TabBarå®¹å™¨</strong>ä¸Šï¼ˆå±‚çº§åœ¨æ‰€æœ‰å­VCçš„viewä¹‹ä¸Šï¼‰ï¼Œå»¶æ—¶ä¸€ä¸‹ï¼ˆç¡®ä¿å­VCå®Œå…¨æ„å»ºå¥½ä¸”å·²å®Œå…¨æ˜¾ç¤ºï¼ŒåŒæ—¶é¿å…è¢«ç³»ç»ŸåŠ¨ç”»å½±å“ï¼‰å†æ”¾åˆ°ç›®æ ‡å­VCçš„<strong>TabBarå®¹å™¨</strong>ä¸Šï¼Œè¿™æ ·å°±èƒ½å®Œç¾å®ç°åˆ‡æ¢æ•ˆæœäº†ã€‚</p>
<p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// MARK: - æŒªåŠ¨TabBaråˆ°ç›®æ ‡å­VC</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">extension</span> <span class="hljs-title class_">MainTabBarController</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">moveTabBar</span>(<span class="hljs-params">from</span> <span class="hljs-params">sourceIdx</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">to</span> <span class="hljs-params">targetIdx</span>: <span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">guard</span> <span class="hljs-type">Env</span>.isUsingLiquidGlassUI <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        <span class="hljs-comment">// #1 å–æ¶ˆä¸Šä¸€æ¬¡çš„å»¶æ—¶æ“ä½œ</span>
        moveTabBarWorkItem<span class="hljs-operator">?</span>.cancel()
        moveTabBarWorkItem <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
        
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> viewControllers, viewControllers.count <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> {
            addTabBar(customTabBar)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-keyword">guard</span> sourceIdx <span class="hljs-operator">!=</span> targetIdx <span class="hljs-keyword">else</span> {
            _moveTabBar(to: targetIdx)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// #2 å¦‚æœã€Œå½“å‰å­VCã€ç°åœ¨ä¸æ˜¯å¤„äºæ ˆé¡¶ï¼Œå°±æŠŠtabBarç›´æ¥æŒªåˆ°ã€Œç›®æ ‡å­VCã€</span>
        <span class="hljs-keyword">let</span> sourceNavCtr <span class="hljs-operator">=</span> viewControllers[sourceIdx] <span class="hljs-keyword">as?</span> <span class="hljs-type">UINavigationController</span>
        <span class="hljs-keyword">if</span> (sourceNavCtr<span class="hljs-operator">?</span>.viewControllers.count <span class="hljs-operator">??</span> <span class="hljs-number">0</span>) <span class="hljs-operator">&gt;</span> <span class="hljs-number">1</span> {
            _moveTabBar(to: targetIdx)
            <span class="hljs-keyword">return</span>
        }
        
        <span class="hljs-comment">// #3 èƒ½æ¥è¿™é‡Œè¯´æ˜ã€Œå½“å‰å­VCã€æ­£å¤„äºæ ˆé¡¶ï¼Œå¦‚æœã€Œç›®æ ‡å­VCã€æ­¤æ—¶ä¹Ÿå¤„äºæ ˆé¡¶ï¼Œå°±æŠŠtabBaræ”¾åˆ°å±‚çº§é¡¶éƒ¨ï¼ˆä¸å—ç³»ç»Ÿåˆ‡æ¢åŠ¨ç”»çš„å½±å“ï¼‰</span>
        <span class="hljs-keyword">let</span> targetNavCtr <span class="hljs-operator">=</span> viewControllers[targetIdx] <span class="hljs-keyword">as?</span> <span class="hljs-type">UINavigationController</span>
        <span class="hljs-keyword">if</span> (targetNavCtr<span class="hljs-operator">?</span>.viewControllers.count <span class="hljs-operator">??</span> <span class="hljs-number">0</span>) <span class="hljs-operator">==</span> <span class="hljs-number">1</span> {
            addTabBar(customTabBar)
        } <span class="hljs-keyword">else</span> {
            _moveTabBar(to: sourceIdx)
        }
        
        <span class="hljs-comment">// #3.1 å»¶è¿Ÿ0.5såå†æ”¾å…¥åˆ°ã€Œç›®æ ‡å­VCã€ï¼Œç»™VCæœ‰è¶³å¤Ÿæ—¶é—´å»åˆå§‹åŒ–å’Œæ˜¾ç¤ºï¼ˆå¯å®Œç¾å®ç°æ—§UIçš„æ•ˆæœï¼›ä¸­é€”åˆ‡æ¢ä¼šå–æ¶ˆè¿™ä¸ªå»¶æ—¶æ“ä½œ#1ï¼‰</span>
        moveTabBarWorkItem <span class="hljs-operator">=</span> <span class="hljs-type">Asyncs</span>.mainDelay(<span class="hljs-number">0.5</span>) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword">self</span>, <span class="hljs-keyword">self</span>.selectedIndex <span class="hljs-operator">==</span> targetIdx <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            <span class="hljs-keyword">self</span>.moveTabBarWorkItem <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
            <span class="hljs-keyword">self</span>._moveTabBar(to: targetIdx)
        }
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">_moveTabBar</span>(<span class="hljs-params">to</span> <span class="hljs-params">index</span>: <span class="hljs-type">Int</span>) {
        <span class="hljs-keyword">let</span> tab <span class="hljs-operator">=</span> <span class="hljs-type">MainTab</span>(index: index)
        <span class="hljs-keyword">switch</span> tab {
        <span class="hljs-keyword">case</span> .videoHub:
            videoHubVC.addTabBar(customTabBar)
        <span class="hljs-keyword">case</span> .channel:
            channelVC.addTabBar(customTabBar)
        <span class="hljs-keyword">case</span> .live:
            liveVC.addTabBar(customTabBar)
        <span class="hljs-keyword">case</span> .mine:
            mineVC.addTabBar(customTabBar)
        }
    }
}
</code></pre>
<p>å¦‚æœæƒ³ç§»é™¤ç³»ç»Ÿåˆ‡æ¢åŠ¨ç”»å¯ä»¥è¿™ä¹ˆåšï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// MARK: - &lt;WLTabBarDelegate&gt;</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">MainTabBarController</span>: <span class="hljs-title class_">WLTabBarDelegate</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">tabBar</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">tabBar</span>: <span class="hljs-type">WLTabBar</span>!, <span class="hljs-params">didSelectItemAt</span> <span class="hljs-params">index</span>: <span class="hljs-type">Int</span>) {
        moveTabBar(from: selectedIndex, to: index)
        <span class="hljs-comment">// æƒ³ç§»é™¤ç³»ç»Ÿè‡ªå¸¦çš„åˆ‡æ¢åŠ¨ç”»å°±ğŸ‘‡ğŸ»</span>
        <span class="hljs-type">UIView</span>.performWithoutAnimation {
            <span class="hljs-keyword">self</span>.selectedIndex <span class="hljs-operator">=</span> index
        }
    }
}
</code></pre>
<h2 data-id="heading-3">å°ç»“</h2>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘çš„æ–¹æ¡ˆäº†ï¼Œèµ·ç ä¸ç”¨è‡ªå®šä¹‰<code>UITabBarController</code>ï¼Œæ›´åŠ ç®€å•ç²—æš´ï¼Œæ›´å¤šç»†èŠ‚å¯ä»¥å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FRogue24%2FClassicTabBarUsingDemo" target="_blank" title="https://github.com/Rogue24/ClassicTabBarUsingDemo" ref="nofollow noopener noreferrer">Demo</a>ã€‚</p>
<p>ä¸ªäººæ„Ÿè§‰èƒ½åº”ä»˜80%çš„åº”ç”¨åœºæ™¯å§ï¼Œé™¤éä½ æœ‰éå¸¸ç‰¹æ®Šçš„è¿‡åœºåŠ¨ç”»éœ€è¦æŒªåŠ¨TabBarçš„ã€‚å½“ç„¶å¸Œæœ›è‹¹æœä»¥åèƒ½æ¨å‡ºå…¼å®¹è‡ªå®šä¹‰TabBarçš„APIï¼Œé‚£å°±ä¸ç”¨è¿™æ ·é­”æ”¹äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ deleted_at æ›¿ä»£ is_deleted,ç”¨æ¥æ”¯æŒè¡¨å”¯ä¸€ç´¢å¼•åˆ›å»º]]></title>    <link>https://juejin.cn/post/7584759201073070121</link>    <guid>https://juejin.cn/post/7584759201073070121</guid>    <pubDate>2025-12-18T07:39:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584759201073070121" data-draft-id="7584759201073053737" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ deleted_at æ›¿ä»£ is_deleted,ç”¨æ¥æ”¯æŒè¡¨å”¯ä¸€ç´¢å¼•åˆ›å»º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:39:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é²è‚ƒls"/> <meta itemprop="url" content="https://juejin.cn/user/2268999473182269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ deleted_at æ›¿ä»£ is_deleted,ç”¨æ¥æ”¯æŒè¡¨å”¯ä¸€ç´¢å¼•åˆ›å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2268999473182269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é²è‚ƒls
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:39:11.000Z" title="Thu Dec 18 2025 07:39:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GORM è½¯åˆ é™¤æ–¹æ¡ˆï¼šä½¿ç”¨ <code>deleted_at</code> æ›¿ä»£ <code>is_deleted</code></h2>
<p>ç»Ÿä¸€è§„èŒƒ,å»ºè®®æ—¶é—´å­—æ®µæ”¹ä¸ºxxx_at,deleted_atä¸ºgorm é»˜è®¤è®¤å¯çš„åˆ é™¤å­—æ®µ</p>
<pre><code class="hljs language-sql" lang="sql">`created_at` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
`updated_at` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
`deleted_at` datetime <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ é™¤æ—¶é—´'</span>,
</code></pre>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜èƒŒæ™¯</h3>
<h4 data-id="heading-2">ç°çŠ¶é—®é¢˜</h4>
<ul>
<li>ä½¿ç”¨ <code>is_deleted</code>ï¼ˆ0/1ï¼‰å®ç°è½¯åˆ é™¤</li>
<li>å”¯ä¸€ç´¢å¼•åŒ…å« <code>is_deleted</code>ï¼š<code>UNIQUE KEY (merchant_id, sku_no, is_deleted)</code></li>
<li><strong>é—®é¢˜</strong>ï¼šåŒä¸€ä¸šåŠ¡å­—æ®µç»„åˆçš„å¤šæ¡å·²åˆ é™¤è®°å½•ä¼šè¿åå”¯ä¸€çº¦æŸ</li>
</ul>
<h4 data-id="heading-3">é—®é¢˜ç¤ºä¾‹</h4>
<p>-- è®°å½•1ï¼šmerchant_id=1, sku_no='SKU001', is_deleted=1  âœ…</p>
<p>-- è®°å½•2ï¼šmerchant_id=1, sku_no='SKU001', is_deleted=1  âŒ è¿åå”¯ä¸€çº¦æŸï¼</p>
<h3 data-id="heading-4">äºŒã€è§£å†³æ–¹æ¡ˆ</h3>
<p>ä½¿ç”¨ <code>deleted_at</code>ï¼ˆæ—¶é—´æˆ³ï¼‰æ›¿ä»£ <code>is_deleted</code>ï¼Œ<strong>å”¯ä¸€ç´¢å¼•åŒ…å« <code>deleted_at</code></strong>ã€‚</p>
<h4 data-id="heading-5">æ ¸å¿ƒåŸç†</h4>
<ul>
<li><strong>æœªåˆ é™¤</strong>ï¼š<code>deleted_at = NULL</code></li>
<li><strong>å·²åˆ é™¤</strong>ï¼š<code>deleted_at = å…·ä½“æ—¶é—´</code></li>
<li><strong>å”¯ä¸€ç´¢å¼•</strong>ï¼šåªåŒ…å«ä¸šåŠ¡å­—æ®µï¼Œä¸åŒ…å« <code>deleted_at</code></li>
</ul>
<h4 data-id="heading-6">ä¼˜åŠ¿</h4>
<ul>
<li>âœ… æ”¯æŒå”¯ä¸€ç´¢å¼•ï¼ˆå·²åˆ é™¤è®°å½•ä¸å½±å“å”¯ä¸€æ€§ï¼‰</li>
<li>âœ… è‡ªåŠ¨å¤„ç†ï¼ˆGORM è‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤è®°å½•ï¼‰</li>
<li>âœ… è®°å½•åˆ é™¤æ—¶é—´ï¼ˆ<code>deleted_at</code> ä¿å­˜åˆ é™¤æ—¶é—´ï¼‰</li>
<li>âœ… å¯ä»¥æ¢å¤ï¼ˆå°† <code>deleted_at</code> è®¾ç½®ä¸º NULLï¼‰</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€æ•°æ®åº“è®¾è®¡</h3>
<pre><code class="hljs language-go" lang="go">CREATE TABLE <span class="hljs-string">`merchant_product`</span> (
  <span class="hljs-string">`id`</span> bigint unsigned NOT NULL AUTO_INCREMENT COMMENT <span class="hljs-string">'ä¸»é”®ID'</span>,
  <span class="hljs-string">`merchant_id`</span> bigint NOT NULL COMMENT <span class="hljs-string">'å•†å®¶ID'</span>,
  <span class="hljs-string">`sku_no`</span> varchar(<span class="hljs-number">32</span>) NOT NULL COMMENT <span class="hljs-string">'å•†å“skuå”¯ä¸€ç¼–ç '</span>,
  <span class="hljs-string">`merchant_product_name`</span> varchar(<span class="hljs-number">200</span>) NOT NULL COMMENT <span class="hljs-string">'å•†å®¶è‡ªå®šä¹‰å•†å“åç§°'</span>,
  <span class="hljs-string">`created_at`</span> datetime DEFAULT CURRENT_TIMESTAMP COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  <span class="hljs-string">`updated_at`</span> datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  <span class="hljs-string">`deleted_at`</span> datetime NULL DEFAULT NULL COMMENT <span class="hljs-string">'åˆ é™¤æ—¶é—´ï¼ŒNULLè¡¨ç¤ºæœªåˆ é™¤'</span>,
  PRIMARY KEY (<span class="hljs-string">`id`</span>),
  UNIQUE KEY <span class="hljs-string">`uk_merchant_sku`</span> (<span class="hljs-string">`merchant_id`</span>, <span class="hljs-string">`sku_no`</span>ï¼Œ<span class="hljs-string">`deleted_at`</span>),
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT=<span class="hljs-string">'å•†å®¶å•†å“è¡¨'</span>;## å››ã€GORM æ¨¡å‹å®šä¹‰


<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"time"</span>
    <span class="hljs-string">"gorm.io/gorm"</span>
)

<span class="hljs-keyword">type</span> MerchantProduct <span class="hljs-keyword">struct</span> {
	ID                   <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:id;primaryKey;autoIncrement:true;comment:ä¸»é”®ID" json:"id"`</span>                         <span class="hljs-comment">// ä¸»é”®ID</span>
	MerchantID           <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:merchant_id;not null;comment:å•†å®¶ID" json:"merchant_id"`</span>                            <span class="hljs-comment">// å•†å®¶ID</span>
	MerchantNo           <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:merchant_no;not null;comment:å•†å®¶ç¼–å·" json:"merchant_no"`</span>                            <span class="hljs-comment">// å•†å®¶ç¼–å·</span>
	SkuNo                <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:sku_no;not null;comment:å•†å“skuå”¯ä¸€ç¼–ç " json:"sku_no"`</span>                                 <span class="hljs-comment">// å•†å“skuå”¯ä¸€ç¼–ç </span>
	MerchantProductName  <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:merchant_product_name;not null;comment:å•†å®¶è‡ªå®šä¹‰å•†å“åç§°" json:"merchant_product_name"`</span>   <span class="hljs-comment">// å•†å®¶è‡ªå®šä¹‰å•†å“åç§°</span>
	MerchantProductImage <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:merchant_product_image;not null;comment:å•†å®¶è‡ªå®šä¹‰å•†å“å›¾ç‰‡" json:"merchant_product_image"`</span> <span class="hljs-comment">// å•†å®¶è‡ªå®šä¹‰å•†å“å›¾ç‰‡</span>
	BarCode              <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:bar_code;comment:æ¡å½¢ç¼–ç " json:"bar_code"`</span>                                           <span class="hljs-comment">// æ¡å½¢ç¼–ç </span>
	BarCodePicture       <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:bar_code_picture;not null;comment:æ¡å½¢ç å›¾ç‰‡" json:"bar_code_picture"`</span>                 <span class="hljs-comment">// æ¡å½¢ç å›¾ç‰‡</span>
	IsStandard           <span class="hljs-type">int32</span>           <span class="hljs-string">`gorm:"column:is_standard;not null;comment:æ˜¯å¦æ˜¯æ ‡å“0å¦1æ˜¯" json:"is_standard"`</span>                       <span class="hljs-comment">// æ˜¯å¦æ˜¯æ ‡å“0å¦1æ˜¯</span>
	ReferencePrice       decimal.Decimal <span class="hljs-string">`gorm:"column:reference_price;not null;default:0.00;comment:å•†å“å‚è€ƒå”®ä»·" json:"reference_price"`</span>     <span class="hljs-comment">// å•†å“å‚è€ƒå”®ä»·</span>
	CostPrice            decimal.Decimal <span class="hljs-string">`gorm:"column:cost_price;not null;default:0.00;comment:æˆæœ¬ä»·" json:"cost_price"`</span>                  <span class="hljs-comment">// æˆæœ¬ä»·</span>
	PriceUnit            <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:price_unit;not null;comment:ä»·æ ¼å•ä½" json:"price_unit"`</span>                              <span class="hljs-comment">// ä»·æ ¼å•ä½</span>
	CreatedAt            time.Time       <span class="hljs-string">`gorm:"column:created_at;not null;default:CURRENT_TIMESTAMP;comment:åˆ›å»ºæ—¶é—´" json:"created_at"`</span>    <span class="hljs-comment">// åˆ›å»ºæ—¶é—´</span>
	UpdatedAt            time.Time       <span class="hljs-string">`gorm:"column:updated_at;not null;default:CURRENT_TIMESTAMP" json:"updated_at"`</span>
	DeletedAt            gorm.DeletedAt  <span class="hljs-string">`gorm:"column:deleted_at;comment:åˆ é™¤æ—¶é—´" json:"deleted_at"`</span> <span class="hljs-comment">// åˆ é™¤æ—¶é—´</span>
}

## äº”ã€ä»£ç ä½¿ç”¨æŒ‡å—

### <span class="hljs-number">1.</span> è½¯åˆ é™¤

<span class="hljs-comment">// æ–¹æ³•1ï¼šä½¿ç”¨ Delete()ï¼ˆæ¨èï¼ŒGORM è‡ªåŠ¨å¤„ç†ï¼‰</span>

product := &amp;MerchantProduct{ID: <span class="hljs-number">1</span>}
err := db.Delete(product).Error
<span class="hljs-comment">// SQL: UPDATE merchant_product SET deleted_at = NOW() WHERE id = 1 AND deleted_at IS NULL</span>

<span class="hljs-comment">// æ–¹æ³•2ï¼šæ‰¹é‡è½¯åˆ é™¤</span>

err := db.Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Delete(&amp;MerchantProduct{}).Error### <span class="hljs-number">2.</span> çœŸåˆ é™¤ï¼ˆæ°¸ä¹…åˆ é™¤ï¼‰

<span class="hljs-comment">// ä½¿ç”¨ Unscoped() ç»•è¿‡è½¯åˆ é™¤æœºåˆ¶</span>

err := db.Unscoped().Delete(&amp;MerchantProduct{ID: <span class="hljs-number">1</span>}).Error
<span class="hljs-comment">// SQL: DELETE FROM merchant_product WHERE id = 1</span>

<span class="hljs-comment">// æ‰¹é‡çœŸåˆ é™¤</span>

err := db.Unscoped().Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Delete(&amp;MerchantProduct{}).Error### <span class="hljs-number">3.</span> æ›´æ–°æ•°æ®ï¼ˆä¸è§¦å‘è½¯åˆ é™¤ï¼‰

<span class="hljs-comment">// æ­£å¸¸æ›´æ–°ä¸šåŠ¡å­—æ®µï¼Œä¸ä¼šå½±å“ deleted_at</span>

err := db.Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).
    Update(<span class="hljs-string">"merchant_product_name"</span>, <span class="hljs-string">"æ–°å•†å“åç§°"</span>).Error
<span class="hljs-comment">// SQL: UPDATE merchant_product SET merchant_product_name = 'æ–°å•†å“åç§°' WHERE id = 1</span>
<span class="hljs-comment">// deleted_at å­—æ®µä¸ä¼šè¢«ä¿®æ”¹</span>

<span class="hljs-comment">// æ‰¹é‡æ›´æ–°</span>

err := db.Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).
    Updates(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-string">"merchant_product_name"</span>: <span class="hljs-string">"æ–°åç§°"</span>,
        <span class="hljs-string">"reference_price"</span>: <span class="hljs-number">99.99</span>,
    }).Error### <span class="hljs-number">4.</span> æ›´æ–°æ•°æ® + åŒæ—¶è½¯åˆ é™¤

<span class="hljs-comment">// æ–¹æ³•1ï¼šä¸€æ¬¡æ€§æ›´æ–°ï¼ˆæ¨èï¼‰</span>

err := db.Unscoped().Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).
    Updates(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-string">"merchant_product_name"</span>: <span class="hljs-string">"æ–°åç§°"</span>,
        <span class="hljs-string">"reference_price"</span>: <span class="hljs-number">99.99</span>,
        <span class="hljs-string">"deleted_at"</span>: time.Now(),  <span class="hljs-comment">// åŒæ—¶è½¯åˆ é™¤</span>
    }).Error


#### <span class="hljs-number">5.1</span> é»˜è®¤æŸ¥è¯¢ï¼ˆè‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤è®°å½•ï¼‰

<span class="hljs-comment">// é»˜è®¤æŸ¥è¯¢ï¼šè‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤çš„è®°å½•ï¼ˆæ¨èï¼‰</span>

<span class="hljs-keyword">var</span> products []MerchantProduct
err := db.Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Find(&amp;products).Error
<span class="hljs-comment">// SQL: SELECT * FROM merchant_product WHERE merchant_id = 1 AND deleted_at IS NULL</span>
<span class="hljs-comment">// âœ… ä¸éœ€è¦æ‰‹åŠ¨åŠ  deleted_at IS NULL æ¡ä»¶</span>

<span class="hljs-comment">// æŸ¥è¯¢å•æ¡</span>
<span class="hljs-keyword">var</span> product MerchantProduct
err := db.First(&amp;product, <span class="hljs-number">1</span>).Error

<span class="hljs-comment">// å¦‚æœè®°å½•å·²åˆ é™¤ï¼Œä¼šè¿”å› gorm.ErrRecordNotFound#### 5.2 æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼ˆåŒ…æ‹¬å·²åˆ é™¤çš„ï¼‰</span>

<span class="hljs-comment">// ä½¿ç”¨ Unscoped() æŸ¥è¯¢æ‰€æœ‰è®°å½•</span>
<span class="hljs-keyword">var</span> allProducts []MerchantProduct
err := db.Unscoped().Where(<span class="hljs-string">"merchant_id = ?"</span>, <span class="hljs-number">1</span>).Find(&amp;allProducts).Error
<span class="hljs-comment">// SQL: SELECT * FROM merchant_product WHERE merchant_id = 1#### 5.3 åªæŸ¥è¯¢å·²åˆ é™¤çš„è®°å½•</span>

<span class="hljs-comment">// åªæŸ¥è¯¢å·²åˆ é™¤çš„è®°å½•</span>

<span class="hljs-keyword">var</span> deletedProducts []MerchantProduct
err := db.Unscoped().
    Where(<span class="hljs-string">"merchant_id = ? AND deleted_at IS NOT NULL"</span>, <span class="hljs-number">1</span>).
    Find(&amp;deletedProducts).Error### <span class="hljs-number">6.</span> æ¢å¤å·²åˆ é™¤çš„è®°å½•

<span class="hljs-comment">// æ¢å¤è®°å½•ï¼ˆå°† deleted_at è®¾ç½®ä¸º NULLï¼‰</span>

err := db.Unscoped().Model(&amp;MerchantProduct{}).
    Where(<span class="hljs-string">"id = ?"</span>, <span class="hljs-number">1</span>).
    Update(<span class="hljs-string">"deleted_at"</span>, <span class="hljs-literal">nil</span>).Error
<span class="hljs-comment">// SQL: UPDATE merchant_product SET deleted_at = NULL WHERE id = 1## å…­ã€å…³é”®ç‚¹æ€»ç»“</span>
</code></pre>













































<table><thead><tr><th>æ“ä½œ</th><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>è½¯åˆ é™¤</strong></td><td><code>db.Delete(&amp;product)</code></td><td>GORM è‡ªåŠ¨è®¾ç½® <code>deleted_at = NOW()</code></td></tr><tr><td><strong>çœŸåˆ é™¤</strong></td><td><code>db.Unscoped().Delete(&amp;product)</code></td><td>æ°¸ä¹…åˆ é™¤è®°å½•</td></tr><tr><td><strong>æ­£å¸¸æ›´æ–°</strong></td><td><code>db.Update()</code> / <code>db.Updates()</code></td><td>ä¸ä¼šå½±å“ <code>deleted_at</code></td></tr><tr><td><strong>æ›´æ–°+åˆ é™¤</strong></td><td><code>db.Unscoped().Updates()</code></td><td>åŒæ—¶æ›´æ–°å­—æ®µå’Œ <code>deleted_at</code></td></tr><tr><td><strong>é»˜è®¤æŸ¥è¯¢</strong></td><td><code>db.Find()</code></td><td>è‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤è®°å½•</td></tr><tr><td><strong>æŸ¥è¯¢å…¨éƒ¨</strong></td><td><code>db.Unscoped().Find()</code></td><td>åŒ…å«å·²åˆ é™¤è®°å½•</td></tr><tr><td><strong>æ¢å¤è®°å½•</strong></td><td><code>db.Unscoped().Update("deleted_at", nil)</code></td><td>æ¢å¤å·²åˆ é™¤è®°å½•</td></tr></tbody></table>
<h3 data-id="heading-8">ä¸ƒã€æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>å”¯ä¸€ç´¢å¼•</strong>ï¼šä¸åŒ…å« <code>deleted_at</code>ï¼ŒåªåŒ…å«ä¸šåŠ¡å­—æ®µ</li>
<li><strong>é»˜è®¤è¡Œä¸º</strong>ï¼šæœ‰ <code>DeletedAt</code> å­—æ®µæ—¶ï¼Œ<code>Delete()</code> æ˜¯è½¯åˆ é™¤ï¼ŒæŸ¥è¯¢è‡ªåŠ¨è¿‡æ»¤</li>
<li><strong>çœŸåˆ é™¤</strong>ï¼šå¿…é¡»ä½¿ç”¨ <code>Unscoped().Delete()</code></li>
<li><strong>æ›´æ–°å·²åˆ é™¤è®°å½•</strong>ï¼šä½¿ç”¨ <code>Unscoped()</code> æ‰èƒ½æ›´æ–°åˆ°å·²åˆ é™¤çš„è®°å½•</li>
</ol>
<p>æ–¹æ¡ˆ2ï¼š</p>
<p>is_deletedå­—æ®µä¿ç•™æ”¹å­—æ®µ åŒæ—¶éœ€è¦åˆ›å»ºå”¯ä¸€ç´¢å¼•æ—¶,æŠŠè¯¥å­—æ®µè¿½åŠ åˆ°å”¯ä¸€ç´¢å¼•ä¸‹, ä¿å­˜çš„æ—¶å€™ä¿å­˜ä¸ºä¸»é”®id,ä½†æ˜¯å°±æœ‰ç‚¹è¯­ä¹‰ä¸æ¸…æ™°, ä¸”æ‰¹é‡åˆ é™¤çš„æ—¶å€™ä¼šæœ‰é—®é¢˜,æ¯”å¦‚UPDATE merchant_product SET is_deleted=? WHERE merchant_id=1</p>
<p>ä¸å»ºè®®ä½¿ç”¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤]]></title>    <link>https://juejin.cn/post/7584810656383221769</link>    <guid>https://juejin.cn/post/7584810656383221769</guid>    <pubDate>2025-12-18T07:54:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584810656383221769" data-draft-id="7584810656383205385" data-original-type="2" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-18T07:54:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PFinalç¤¾åŒº_å—ä¸"/> <meta itemprop="url" content="https://juejin.cn/user/1855631357906040"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1855631357906040/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PFinalç¤¾åŒº_å—ä¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T07:54:02.000Z" title="Thu Dec 18 2025 07:54:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Git é‚£äº›ä¸å¤ªå¸¸ç”¨ä½†éå¸¸å®ç”¨çš„å‘½ä»¤</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ <code>git add</code>ã€<code>git commit</code>ã€<code>git push</code> ç­‰åŸºç¡€å‘½ä»¤ã€‚ä½† Git è¿˜æä¾›äº†è®¸å¤šå¼ºå¤§è€Œå®ç”¨çš„å‘½ä»¤ï¼Œè™½ç„¶ä¸å¤ªå¸¸ç”¨ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹èƒ½æå¤§æå‡å·¥ä½œæ•ˆç‡ã€‚æœ¬æ–‡å°†ä»‹ç»å‡ ä¸ªè¿™æ ·çš„å‘½ä»¤ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°åˆ©ç”¨ Git çš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-2">1. git worktree - å¤šå·¥ä½œç›®å½•ç®¡ç†</h3>
<h4 data-id="heading-3">ä»€ä¹ˆæ˜¯ git worktreeï¼Ÿ</h4>
<p><code>git worktree</code> å…è®¸ä½ åœ¨åŒä¸€ä¸ªä»“åº“ä¸­åˆ›å»ºå¤šä¸ªå·¥ä½œç›®å½•ï¼Œæ¯ä¸ªå·¥ä½œç›®å½•å¯ä»¥æ£€å‡ºä¸åŒçš„åˆ†æ”¯ã€‚è¿™å¯¹äºéœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªåˆ†æ”¯çš„åœºæ™¯éå¸¸æœ‰ç”¨ã€‚</p>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆéœ€è¦ git worktreeï¼Ÿ</h4>
<p><strong>ä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>éœ€è¦é¢‘ç¹åˆ‡æ¢åˆ†æ”¯æ—¶ï¼Œä¼šä¸¢å¤±æœªæäº¤çš„æ›´æ”¹</li>
<li>æ— æ³•åŒæ—¶æŸ¥çœ‹å’Œç¼–è¾‘ä¸åŒåˆ†æ”¯çš„ä»£ç </li>
<li>åˆ‡æ¢åˆ†æ”¯æ—¶å¯èƒ½éœ€è¦é‡æ–°æ„å»ºé¡¹ç›®ï¼Œè€—æ—¶è¾ƒé•¿</li>
</ul>
<p><strong>git worktree çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨ä¸åŒç›®å½•åŒæ—¶å·¥ä½œäºä¸åŒåˆ†æ”¯</li>
<li>æ¯ä¸ªå·¥ä½œæ ‘ç‹¬ç«‹ï¼Œäº’ä¸å¹²æ‰°</li>
<li>å…±äº«åŒä¸€ä¸ª <code>.git</code> ä»“åº“ï¼ŒèŠ‚çœç£ç›˜ç©ºé—´</li>
</ul>
<h4 data-id="heading-5">åŸºæœ¬ç”¨æ³•</h4>
<h5 data-id="heading-6">åˆ›å»ºæ–°çš„å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨æŒ‡å®šç›®å½•åˆ›å»ºæ–°çš„å·¥ä½œæ ‘ï¼Œå¹¶æ£€å‡ºæŒ‡å®šåˆ†æ”¯</span>
git worktree add &lt;path&gt; &lt;branch&gt;

<span class="hljs-comment"># ç¤ºä¾‹ï¼šåœ¨ ../myproject-feature ç›®å½•åˆ›å»ºæ–°å·¥ä½œæ ‘ï¼Œæ£€å‡º feature/new-ui åˆ†æ”¯</span>
git worktree add ../myproject-feature feature/new-ui

<span class="hljs-comment"># å¦‚æœåˆ†æ”¯ä¸å­˜åœ¨ï¼Œå¯ä»¥åˆ›å»ºæ–°åˆ†æ”¯</span>
git worktree add ../myproject-hotfix -b hotfix/critical-bug
</code></pre>
<h5 data-id="heading-7">åˆ—å‡ºæ‰€æœ‰å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash">git worktree list
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/Users/pfinal/myproject                 abc1234 [main]
/Users/pfinal/myproject-feature         def5678 [feature/new-ui]
/Users/pfinal/myproject-hotfix          ghi9012 [hotfix/critical-bug]
</code></pre>
<h5 data-id="heading-8">åˆ é™¤å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ é™¤å·¥ä½œæ ‘ï¼ˆéœ€è¦å…ˆåˆ é™¤å·¥ä½œç›®å½•ï¼‰</span>
<span class="hljs-built_in">rm</span> -rf ../myproject-feature
git worktree remove ../myproject-feature

<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨ prune è‡ªåŠ¨æ¸…ç†æ— æ•ˆçš„å·¥ä½œæ ‘</span>
git worktree prune
</code></pre>
<h5 data-id="heading-9">ç§»åŠ¨å·¥ä½œæ ‘</h5>
<pre><code class="hljs language-bash" lang="bash">git worktree move &lt;old-path&gt; &lt;new-path&gt;
</code></pre>
<h4 data-id="heading-10">å®é™…åº”ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯ 1ï¼šåŒæ—¶å¼€å‘æ–°åŠŸèƒ½å’Œä¿®å¤ Bug</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»ç›®å½•ç”¨äºå¼€å‘æ–°åŠŸèƒ½</span>
<span class="hljs-built_in">cd</span> /path/to/project
git checkout feature/new-feature

<span class="hljs-comment"># åˆ›å»ºæ–°å·¥ä½œæ ‘ç”¨äºä¿®å¤ç´§æ€¥ Bug</span>
git worktree add ../project-hotfix hotfix/urgent-fix
<span class="hljs-built_in">cd</span> ../project-hotfix
<span class="hljs-comment"># ç°åœ¨å¯ä»¥åŒæ—¶ç¼–è¾‘ä¸¤ä¸ªåˆ†æ”¯çš„ä»£ç </span>
</code></pre>
<p><strong>åœºæ™¯ 2ï¼šä»£ç å®¡æŸ¥æ—¶å¯¹æ¯”ä¸åŒç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»ç›®å½•ä¿æŒå½“å‰å¼€å‘åˆ†æ”¯</span>
<span class="hljs-comment"># åˆ›å»ºå·¥ä½œæ ‘æŸ¥çœ‹ PR åˆ†æ”¯</span>
git worktree add ../project-pr origin/feature/pr-branch
</code></pre>
<p><strong>åœºæ™¯ 3ï¼šé•¿æœŸç»´æŠ¤å¤šä¸ªç‰ˆæœ¬</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸»ç›®å½•ï¼šæœ€æ–°å¼€å‘ç‰ˆæœ¬</span>
<span class="hljs-comment"># å·¥ä½œæ ‘ 1ï¼šç”Ÿäº§ç‰ˆæœ¬</span>
git worktree add ../project-prod v1.0.0

<span class="hljs-comment"># å·¥ä½œæ ‘ 2ï¼šæµ‹è¯•ç‰ˆæœ¬</span>
git worktree add ../project-test v1.1.0-beta
</code></pre>
<h4 data-id="heading-11">æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>æ¯ä¸ªå·¥ä½œæ ‘å¿…é¡»æ£€å‡ºä¸åŒçš„åˆ†æ”¯</li>
<li>ä¸èƒ½åˆ é™¤åŒ…å«æœªæäº¤æ›´æ”¹çš„å·¥ä½œæ ‘</li>
<li>æ‰€æœ‰å·¥ä½œæ ‘å…±äº«åŒä¸€ä¸ª <code>.git</code> ä»“åº“</li>
<li>åˆ é™¤å·¥ä½œæ ‘æ—¶ï¼Œéœ€è¦å…ˆåˆ é™¤ç›®å½•å†è¿è¡Œ <code>git worktree remove</code></li>
</ul>
<hr/>
<h3 data-id="heading-12">2. git reflog - æ‰¾å›"ä¸¢å¤±"çš„æäº¤</h3>
<h4 data-id="heading-13">ä»€ä¹ˆæ˜¯ reflogï¼Ÿ</h4>
<p><code>reflog</code> è®°å½•äº† HEAD å’Œåˆ†æ”¯å¼•ç”¨çš„æ‰€æœ‰å˜æ›´å†å²ï¼Œå³ä½¿æäº¤å·²ç»è¢«"åˆ é™¤"ï¼Œä¹Ÿèƒ½é€šè¿‡ reflog æ‰¾å›ã€‚</p>
<h4 data-id="heading-14">ä½¿ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯ï¼šè¯¯åˆ åˆ†æ”¯æˆ–é‡ç½®æäº¤</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ reflog å†å²</span>
git reflog

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># abc1234 HEAD@{0}: checkout: moving from main to feature</span>
<span class="hljs-comment"># def5678 HEAD@{1}: commit: Add new feature</span>
<span class="hljs-comment"># ghi9012 HEAD@{2}: reset: moving to HEAD~1</span>
<span class="hljs-comment"># jkl3456 HEAD@{3}: commit: Fix bug</span>

<span class="hljs-comment"># æ¢å¤åˆ°ä¹‹å‰çš„æŸä¸ªçŠ¶æ€</span>
git checkout HEAD@{2}  <span class="hljs-comment"># æ¢å¤åˆ° reset ä¹‹å‰çš„çŠ¶æ€</span>

<span class="hljs-comment"># æˆ–è€…æ¢å¤å·²åˆ é™¤çš„åˆ†æ”¯</span>
git branch recovered-branch HEAD@{1}
</code></pre>
<h4 data-id="heading-15">é«˜çº§ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šåˆ†æ”¯çš„ reflog</span>
git reflog show &lt;branch-name&gt;

<span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘ 10 æ¡è®°å½•</span>
git reflog -10

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šæ—¶é—´èŒƒå›´çš„è®°å½•</span>
git reflog --since=<span class="hljs-string">"2 days ago"</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">3. git bisect - äºŒåˆ†æŸ¥æ‰¾å®šä½ Bug</h3>
<h4 data-id="heading-17">ä»€ä¹ˆæ˜¯ git bisectï¼Ÿ</h4>
<p><code>git bisect</code> ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½å¼•å…¥ Bug çš„æäº¤ã€‚</p>
<h4 data-id="heading-18">ä½¿ç”¨æµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¼€å§‹äºŒåˆ†æŸ¥æ‰¾</span>
git bisect start

<span class="hljs-comment"># 2. æ ‡è®°å½“å‰ç‰ˆæœ¬ä¸º"å"çš„ï¼ˆæœ‰ Bugï¼‰</span>
git bisect bad

<span class="hljs-comment"># 3. æ ‡è®°æŸä¸ªå·²çŸ¥å¥½çš„ç‰ˆæœ¬ï¼ˆæ²¡æœ‰ Bugï¼‰</span>
git bisect good &lt;commit-hash&gt;
<span class="hljs-comment"># æˆ–è€…</span>
git bisect good v1.0.0

<span class="hljs-comment"># 4. Git ä¼šè‡ªåŠ¨æ£€å‡ºä¸­é—´çš„æäº¤ï¼Œä½ æµ‹è¯•åæ ‡è®°å¥½å</span>
git bisect good  <span class="hljs-comment"># å¦‚æœè¿™ä¸ªç‰ˆæœ¬æ²¡é—®é¢˜</span>
git bisect bad   <span class="hljs-comment"># å¦‚æœè¿™ä¸ªç‰ˆæœ¬æœ‰é—®é¢˜</span>

<span class="hljs-comment"># 5. é‡å¤æ­¥éª¤ 4ï¼Œç›´åˆ°æ‰¾åˆ°å¼•å…¥ Bug çš„æäº¤</span>

<span class="hljs-comment"># 6. ç»“æŸäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›åŸåˆ†æ”¯</span>
git bisect reset
</code></pre>
<h4 data-id="heading-19">è‡ªåŠ¨åŒ– bisect</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨è„šæœ¬è‡ªåŠ¨æµ‹è¯•</span>
git bisect start HEAD v1.0.0
git bisect run npm <span class="hljs-built_in">test</span>

<span class="hljs-comment"># Git ä¼šè‡ªåŠ¨è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œæ ¹æ®é€€å‡ºç åˆ¤æ–­å¥½å</span>
<span class="hljs-comment"># é€€å‡ºç  0 = goodï¼Œé 0 = bad</span>
</code></pre>
<h4 data-id="heading-20">å®é™…ç¤ºä¾‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾ Bug åœ¨æœ€è¿‘ 100 ä¸ªæäº¤ä¸­å¼•å…¥</span>
git bisect start
git bisect bad                    <span class="hljs-comment"># å½“å‰ç‰ˆæœ¬æœ‰ Bug</span>
git bisect good HEAD~100          <span class="hljs-comment"># 100 ä¸ªæäº¤å‰æ˜¯å¥½çš„</span>

<span class="hljs-comment"># Git æ£€å‡ºç¬¬ 50 ä¸ªæäº¤ï¼Œä½ æµ‹è¯•åå‘ç°æ²¡é—®é¢˜</span>
git bisect good

<span class="hljs-comment"># Git æ£€å‡ºç¬¬ 75 ä¸ªæäº¤ï¼Œä½ æµ‹è¯•åå‘ç°æœ‰é—®é¢˜</span>
git bisect bad

<span class="hljs-comment"># ç»§ç»­è¿™ä¸ªè¿‡ç¨‹ï¼Œé€šå¸¸åªéœ€ log2(n) æ¬¡æµ‹è¯•å°±èƒ½æ‰¾åˆ°é—®é¢˜æäº¤</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">4. git stash - æš‚å­˜æ›´æ”¹çš„è¿›é˜¶ç”¨æ³•</h3>
<h4 data-id="heading-22">åŸºç¡€ç”¨æ³•å›é¡¾</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æš‚å­˜å½“å‰æ›´æ”¹</span>
git stash

<span class="hljs-comment"># æ¢å¤æš‚å­˜çš„æ›´æ”¹</span>
git stash pop

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æš‚å­˜</span>
git stash list
</code></pre>
<h4 data-id="heading-23">è¿›é˜¶ç”¨æ³•</h4>
<h5 data-id="heading-24">ç»™æš‚å­˜æ·»åŠ æè¿°</h5>
<pre><code class="hljs language-bash" lang="bash">git stash save <span class="hljs-string">"WIP: æ­£åœ¨å¼€å‘ç™»å½•åŠŸèƒ½"</span>
</code></pre>
<h5 data-id="heading-25">æš‚å­˜ç‰¹å®šæ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªæš‚å­˜éƒ¨åˆ†æ–‡ä»¶</span>
git stash push -m <span class="hljs-string">"ä¿å­˜ UI æ›´æ”¹"</span> -- src/components/Button.tsx src/styles/
</code></pre>
<h5 data-id="heading-26">æš‚å­˜æ—¶ä¿ç•™æœªè·Ÿè¸ªçš„æ–‡ä»¶</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é»˜è®¤ä¸æš‚å­˜æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼Œä½¿ç”¨ -u åŒ…å«å®ƒä»¬</span>
git stash -u
<span class="hljs-comment"># æˆ–è€…</span>
git stash --include-untracked
</code></pre>
<h5 data-id="heading-27">æš‚å­˜æ—¶ä¿ç•™ç´¢å¼•ï¼ˆå·² add çš„æ–‡ä»¶ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿ç•™å·²æš‚å­˜çš„æ–‡ä»¶åœ¨ç´¢å¼•ä¸­</span>
git stash --keep-index
</code></pre>
<h5 data-id="heading-28">åº”ç”¨ç‰¹å®šçš„æš‚å­˜</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æš‚å­˜åˆ—è¡¨</span>
git stash list
<span class="hljs-comment"># stash@{0}: WIP on main: abc1234 Fix bug</span>
<span class="hljs-comment"># stash@{1}: WIP on feature: def5678 Add feature</span>

<span class="hljs-comment"># åº”ç”¨ç‰¹å®šçš„æš‚å­˜ï¼ˆä¸åˆ é™¤ï¼‰</span>
git stash apply stash@{1}

<span class="hljs-comment"># åº”ç”¨å¹¶åˆ é™¤</span>
git stash pop stash@{1}
</code></pre>
<h5 data-id="heading-29">åˆ›å»ºæš‚å­˜åˆ†æ”¯</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»æš‚å­˜åˆ›å»ºæ–°åˆ†æ”¯</span>
git stash branch new-feature-branch
</code></pre>
<hr/>
<h3 data-id="heading-30">5. git cherry-pick - é€‰æ‹©æ€§åº”ç”¨æäº¤</h3>
<h4 data-id="heading-31">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†å…¶ä»–åˆ†æ”¯çš„æäº¤åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span>
git cherry-pick &lt;commit-hash&gt;

<span class="hljs-comment"># åº”ç”¨å¤šä¸ªæäº¤</span>
git cherry-pick &lt;commit1&gt; &lt;commit2&gt; &lt;commit3&gt;

<span class="hljs-comment"># åº”ç”¨ä¸€ä¸ªèŒƒå›´çš„æäº¤</span>
git cherry-pick &lt;start-commit&gt;..&lt;end-commit&gt;
<span class="hljs-comment"># æ³¨æ„ï¼šä¸åŒ…å« start-commitï¼ŒåªåŒ…å« end-commit</span>

<span class="hljs-comment"># åŒ…å«èµ·å§‹æäº¤</span>
git cherry-pick &lt;start-commit&gt;^..&lt;end-commit&gt;
</code></pre>
<h4 data-id="heading-32">å®é™…åœºæ™¯</h4>
<p><strong>åœºæ™¯ï¼šå°† hotfix åˆ†æ”¯çš„ä¿®å¤åº”ç”¨åˆ° main åˆ†æ”¯</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ hotfix åˆ†æ”¯æ‰¾åˆ°ä¿®å¤æäº¤çš„ hash</span>
git <span class="hljs-built_in">log</span> hotfix/bug-fix
<span class="hljs-comment"># commit abc1234: Fix critical security issue</span>

<span class="hljs-comment"># åˆ‡æ¢åˆ° main åˆ†æ”¯</span>
git checkout main

<span class="hljs-comment"># åº”ç”¨è¿™ä¸ªæäº¤</span>
git cherry-pick abc1234
</code></pre>
<h4 data-id="heading-33">é«˜çº§é€‰é¡¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªåº”ç”¨æ›´æ”¹ï¼Œä¸è‡ªåŠ¨æäº¤</span>
git cherry-pick -n &lt;commit-hash&gt;
<span class="hljs-comment"># æˆ–è€…</span>
git cherry-pick --no-commit &lt;commit-hash&gt;

<span class="hljs-comment"># ç¼–è¾‘æäº¤ä¿¡æ¯</span>
git cherry-pick -e &lt;commit-hash&gt;

<span class="hljs-comment"># å¦‚æœé‡åˆ°å†²çªï¼Œç»§ç»­ cherry-pick</span>
git cherry-pick --<span class="hljs-built_in">continue</span>

<span class="hljs-comment"># æ”¾å¼ƒ cherry-pick</span>
git cherry-pick --abort
</code></pre>
<hr/>
<h3 data-id="heading-34">6. git submodule - å­æ¨¡å—ç®¡ç†</h3>
<h4 data-id="heading-35">ä»€ä¹ˆæ˜¯ submoduleï¼Ÿ</h4>
<p>Submodule å…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå¦ä¸€ä¸ª Git ä»“åº“çš„å­ç›®å½•ï¼Œå¸¸ç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–ã€‚</p>
<h4 data-id="heading-36">åŸºæœ¬æ“ä½œ</h4>
<h5 data-id="heading-37">æ·»åŠ å­æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash">git submodule add &lt;repository-url&gt; &lt;path&gt;

<span class="hljs-comment"># ç¤ºä¾‹</span>
git submodule add https://github.com/user/library.git libs/external-library
</code></pre>
<h5 data-id="heading-38">å…‹éš†åŒ…å«å­æ¨¡å—çš„é¡¹ç›®</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³• 1ï¼šé€’å½’å…‹éš†</span>
git <span class="hljs-built_in">clone</span> --recursive &lt;repository-url&gt;

<span class="hljs-comment"># æ–¹æ³• 2ï¼šå…ˆå…‹éš†ï¼Œå†åˆå§‹åŒ–å­æ¨¡å—</span>
git <span class="hljs-built_in">clone</span> &lt;repository-url&gt;
git submodule init
git submodule update

<span class="hljs-comment"># æˆ–è€…åˆå¹¶æ‰§è¡Œ</span>
git submodule update --init --recursive
</code></pre>
<h5 data-id="heading-39">æ›´æ–°å­æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°æ‰€æœ‰å­æ¨¡å—åˆ°æœ€æ–°æäº¤</span>
git submodule update --remote

<span class="hljs-comment"># æ›´æ–°ç‰¹å®šå­æ¨¡å—</span>
git submodule update --remote libs/external-library
</code></pre>
<h5 data-id="heading-40">åˆ é™¤å­æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ é™¤ .gitmodules ä¸­çš„æ¡ç›®</span>
git <span class="hljs-built_in">rm</span> --cached libs/external-library

<span class="hljs-comment"># 2. åˆ é™¤ .git/modules ä¸­çš„ç›®å½•</span>
<span class="hljs-built_in">rm</span> -rf .git/modules/libs/external-library

<span class="hljs-comment"># 3. åˆ é™¤å·¥ä½œç›®å½•</span>
<span class="hljs-built_in">rm</span> -rf libs/external-library

<span class="hljs-comment"># 4. æäº¤æ›´æ”¹</span>
git commit -m <span class="hljs-string">"Remove submodule"</span>
</code></pre>
<hr/>
<h3 data-id="heading-41">7. git filter-branch / git filter-repo - é‡å†™å†å²</h3>
<h4 data-id="heading-42">git filter-branchï¼ˆå·²å¼ƒç”¨ï¼Œä½†ä»æœ‰å‚è€ƒä»·å€¼ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»æ‰€æœ‰æäº¤ä¸­åˆ é™¤æŸä¸ªæ–‡ä»¶</span>
git filter-branch --tree-filter <span class="hljs-string">'rm -f passwords.txt'</span> HEAD

<span class="hljs-comment"># ä¿®æ”¹æ‰€æœ‰æäº¤çš„é‚®ç®±</span>
git filter-branch --env-filter <span class="hljs-string">'
OLD_EMAIL="old@example.com"
CORRECT_NAME="Your Name"
CORRECT_EMAIL="new@example.com"

if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_COMMITTER_NAME="$CORRECT_NAME"
    export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"
fi
if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]
then
    export GIT_AUTHOR_NAME="$CORRECT_NAME"
    export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"
fi
'</span> --tag-name-filter <span class="hljs-built_in">cat</span> -- --branches --tags
</code></pre>
<h4 data-id="heading-43">git filter-repoï¼ˆæ¨èä½¿ç”¨ï¼‰</h4>
<p><code>git filter-repo</code> æ˜¯ <code>git filter-branch</code> çš„ç°ä»£æ›¿ä»£å“ï¼Œæ›´å¿«æ›´å®‰å…¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…ï¼ˆéœ€è¦å•ç‹¬å®‰è£…ï¼‰</span>
pip install git-filter-repo

<span class="hljs-comment"># åˆ é™¤æ–‡ä»¶</span>
git filter-repo --path passwords.txt --invert-paths

<span class="hljs-comment"># é‡å†™è·¯å¾„</span>
git filter-repo --path-rename old/path:new/path

<span class="hljs-comment"># ä¿®æ”¹æäº¤ä¿¡æ¯</span>
git filter-repo --message-callback <span class="hljs-string">'return message.replace(b"old", b"new")'</span>
</code></pre>
<p><strong>âš ï¸ è­¦å‘Šï¼š</strong> è¿™äº›å‘½ä»¤ä¼šé‡å†™ Git å†å²ï¼Œä½¿ç”¨å‰è¯·å¤‡ä»½ä»“åº“ï¼</p>
<hr/>
<h3 data-id="heading-44">8. git blame - ä»£ç è´£ä»»è¿½è¸ª</h3>
<h4 data-id="heading-45">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ–‡ä»¶çš„æ¯ä¸€è¡Œæ˜¯è°ä¿®æ”¹çš„</span>
git blame &lt;file&gt;

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šè¡Œçš„è¯¦ç»†ä¿¡æ¯</span>
git blame -L &lt;start-line&gt;,&lt;end-line&gt; &lt;file&gt;

<span class="hljs-comment"># ç¤ºä¾‹ï¼šæŸ¥çœ‹ç¬¬ 10-20 è¡Œ</span>
git blame -L 10,20 src/utils.js
</code></pre>
<h4 data-id="heading-46">é«˜çº§é€‰é¡¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¿½ç•¥ç©ºç™½æ›´æ”¹</span>
git blame -w &lt;file&gt;

<span class="hljs-comment"># æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯</span>
git blame -C -C -C &lt;file&gt;  <span class="hljs-comment"># æ£€æµ‹ä»£ç ç§»åŠ¨å’Œå¤åˆ¶</span>

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šç‰ˆæœ¬çš„ blame</span>
git blame &lt;commit&gt; -- &lt;file&gt;
</code></pre>
<h4 data-id="heading-47">å®é™…åº”ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰¾å‡ºè°å¼•å…¥äº†æŸä¸ª Bug</span>
git blame -L 42,42 src/buggy-file.js

<span class="hljs-comment"># æŸ¥çœ‹ä»£ç çš„æ¼”å˜å†å²</span>
git <span class="hljs-built_in">log</span> -p -L 42,42:src/buggy-file.js
</code></pre>
<hr/>
<h3 data-id="heading-48">9. git log çš„é«˜çº§ç”¨æ³•</h3>
<h4 data-id="heading-49">å›¾å½¢åŒ–æ˜¾ç¤º</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ˜¾ç¤ºåˆ†æ”¯å›¾</span>
git <span class="hljs-built_in">log</span> --oneline --graph --all

<span class="hljs-comment"># æ›´ç¾è§‚çš„å›¾å½¢</span>
git <span class="hljs-built_in">log</span> --graph --pretty=format:<span class="hljs-string">'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset'</span> --abbrev-commit --all
</code></pre>
<h4 data-id="heading-50">æœç´¢æäº¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŒ‰ä½œè€…æœç´¢</span>
git <span class="hljs-built_in">log</span> --author=<span class="hljs-string">"John"</span>

<span class="hljs-comment"># æŒ‰æäº¤ä¿¡æ¯æœç´¢</span>
git <span class="hljs-built_in">log</span> --grep=<span class="hljs-string">"bug fix"</span>

<span class="hljs-comment"># æŒ‰æ–‡ä»¶æœç´¢</span>
git <span class="hljs-built_in">log</span> -- &lt;file-path&gt;

<span class="hljs-comment"># æŒ‰ä»£ç å†…å®¹æœç´¢ï¼ˆpickaxeï¼‰</span>
git <span class="hljs-built_in">log</span> -S <span class="hljs-string">"functionName"</span>  <span class="hljs-comment"># æŸ¥æ‰¾æ·»åŠ æˆ–åˆ é™¤è¯¥å­—ç¬¦ä¸²çš„æäº¤</span>
git <span class="hljs-built_in">log</span> -G <span class="hljs-string">"regex"</span>         <span class="hljs-comment"># ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span>
</code></pre>
<h4 data-id="heading-51">æ—¶é—´èŒƒå›´</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ€è¿‘ä¸€å‘¨çš„æäº¤</span>
git <span class="hljs-built_in">log</span> --since=<span class="hljs-string">"1 week ago"</span>

<span class="hljs-comment"># ç‰¹å®šæ—¥æœŸèŒƒå›´</span>
git <span class="hljs-built_in">log</span> --since=<span class="hljs-string">"2024-01-01"</span> --until=<span class="hljs-string">"2024-01-31"</span>

<span class="hljs-comment"># æœ€è¿‘ N ä¸ªæäº¤</span>
git <span class="hljs-built_in">log</span> -10
</code></pre>
<h4 data-id="heading-52">ç»Ÿè®¡ä¿¡æ¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶çš„æ›´æ”¹ç»Ÿè®¡</span>
git <span class="hljs-built_in">log</span> --<span class="hljs-built_in">stat</span>

<span class="hljs-comment"># æ˜¾ç¤ºè¯¦ç»†çš„ä»£ç æ›´æ”¹</span>
git <span class="hljs-built_in">log</span> -p

<span class="hljs-comment"># æ˜¾ç¤ºç®€çŸ­çš„ç»Ÿè®¡</span>
git <span class="hljs-built_in">log</span> --shortstat
</code></pre>
<hr/>
<h3 data-id="heading-53">10. git clean - æ¸…ç†æœªè·Ÿè¸ªçš„æ–‡ä»¶</h3>
<h4 data-id="heading-54">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é¢„è§ˆå°†è¦åˆ é™¤çš„æ–‡ä»¶ï¼ˆå¹²è¿è¡Œï¼‰</span>
git clean -n

<span class="hljs-comment"># åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶</span>
git clean -f

<span class="hljs-comment"># åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶å’Œç›®å½•</span>
git clean -fd

<span class="hljs-comment"># äº¤äº’å¼åˆ é™¤</span>
git clean -i
</code></pre>
<h4 data-id="heading-55">é«˜çº§é€‰é¡¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åªåˆ é™¤ç‰¹å®šç±»å‹çš„æ–‡ä»¶</span>
git clean -f <span class="hljs-string">"*.log"</span>

<span class="hljs-comment"># æ’é™¤æŸäº›æ–‡ä»¶</span>
git clean -fd --exclude=<span class="hljs-string">"*.tmp"</span>

<span class="hljs-comment"># åˆ é™¤è¢«å¿½ç•¥çš„æ–‡ä»¶ï¼ˆ.gitignore ä¸­çš„æ–‡ä»¶ï¼‰</span>
git clean -fX

<span class="hljs-comment"># åˆ é™¤æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬è¢«å¿½ç•¥çš„</span>
git clean -fx
</code></pre>
<hr/>
<h3 data-id="heading-56">11. git rerere - é‡ç”¨å·²è§£å†³çš„å†²çª</h3>
<h4 data-id="heading-57">ä»€ä¹ˆæ˜¯ rerereï¼Ÿ</h4>
<p><code>rerere</code> (Reuse Recorded Resolution) å¯ä»¥è®°ä½ä½ å¦‚ä½•è§£å†³å†²çªï¼Œå½“ç›¸åŒå†²çªå†æ¬¡å‡ºç°æ—¶è‡ªåŠ¨åº”ç”¨ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-58">å¯ç”¨ rerere</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å¯ç”¨</span>
git config --global rerere.enabled <span class="hljs-literal">true</span>

<span class="hljs-comment"># æˆ–è€…åªå¯¹å½“å‰ä»“åº“å¯ç”¨</span>
git config rerere.enabled <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-59">ä½¿ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯ï¼šé•¿æœŸåˆ†æ”¯åˆå¹¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¯ç”¨ rerere</span>
git config rerere.enabled <span class="hljs-literal">true</span>

<span class="hljs-comment"># 2. åˆå¹¶åˆ†æ”¯ï¼Œè§£å†³å†²çª</span>
git merge feature-branch
<span class="hljs-comment"># æ‰‹åŠ¨è§£å†³å†²çª...</span>

<span class="hljs-comment"># 3. æäº¤</span>
git commit

<span class="hljs-comment"># 4. å¦‚æœä¹‹åå†æ¬¡é‡åˆ°ç›¸åŒçš„å†²çªï¼ŒGit ä¼šè‡ªåŠ¨åº”ç”¨ä¹‹å‰çš„è§£å†³æ–¹æ¡ˆ</span>
</code></pre>
<hr/>
<h3 data-id="heading-60">12. git notes - ä¸ºæäº¤æ·»åŠ æ³¨é‡Š</h3>
<h4 data-id="heading-61">åŸºæœ¬ç”¨æ³•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸ºæäº¤æ·»åŠ æ³¨é‡Š</span>
git notes add &lt;commit-hash&gt;

<span class="hljs-comment"># æŸ¥çœ‹æ³¨é‡Š</span>
git notes show &lt;commit-hash&gt;

<span class="hljs-comment"># ç¼–è¾‘æ³¨é‡Š</span>
git notes edit &lt;commit-hash&gt;

<span class="hljs-comment"># åˆ é™¤æ³¨é‡Š</span>
git notes remove &lt;commit-hash&gt;
</code></pre>
<h4 data-id="heading-62">å®é™…åº”ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸ºæäº¤æ·»åŠ ä»£ç å®¡æŸ¥æ³¨é‡Š</span>
git notes add -m <span class="hljs-string">"Reviewed by John, approved"</span> abc1234

<span class="hljs-comment"># æ·»åŠ æ€§èƒ½æµ‹è¯•ç»“æœ</span>
git notes add -m <span class="hljs-string">"Performance: 1000 req/s"</span> def5678

<span class="hljs-comment"># æŸ¥çœ‹å¸¦æ³¨é‡Šçš„æ—¥å¿—</span>
git <span class="hljs-built_in">log</span> --show-notes=*
</code></pre>
<hr/>
<h3 data-id="heading-63">æ€»ç»“</h3>
<p>è¿™äº› Git å‘½ä»¤è™½ç„¶ä¸å¸¸ç”¨ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹èƒ½æ˜¾è‘—æå‡å·¥ä½œæ•ˆç‡ï¼š</p>
<ul>
<li><strong>git worktree</strong> - å¤šåˆ†æ”¯å¹¶è¡Œå¼€å‘</li>
<li><strong>git reflog</strong> - æ‰¾å›"ä¸¢å¤±"çš„æäº¤</li>
<li><strong>git bisect</strong> - å¿«é€Ÿå®šä½ Bug</li>
<li><strong>git stash</strong> - çµæ´»çš„æš‚å­˜ç®¡ç†</li>
<li><strong>git cherry-pick</strong> - é€‰æ‹©æ€§åº”ç”¨æäº¤</li>
<li><strong>git submodule</strong> - ç®¡ç†é¡¹ç›®ä¾èµ–</li>
<li><strong>git filter-repo</strong> - é‡å†™å†å²ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</li>
<li><strong>git blame</strong> - ä»£ç è´£ä»»è¿½è¸ª</li>
<li><strong>git log</strong> - å¼ºå¤§çš„æäº¤æŸ¥è¯¢</li>
<li><strong>git clean</strong> - æ¸…ç†å·¥ä½œåŒº</li>
<li><strong>git rerere</strong> - è‡ªåŠ¨è§£å†³é‡å¤å†²çª</li>
<li><strong>git notes</strong> - ä¸ºæäº¤æ·»åŠ å…ƒæ•°æ®</li>
</ul>
<p>æŒæ¡è¿™äº›å‘½ä»¤ï¼Œèƒ½è®©ä½ åœ¨å¤æ‚çš„å¼€å‘åœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚å»ºè®®åœ¨å®é™…é¡¹ç›®ä¸­é€æ­¥å°è¯•ä½¿ç”¨ï¼Œç§¯ç´¯ç»éªŒã€‚</p>
<hr/>
<h3 data-id="heading-64">å»¶ä¼¸é˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fdoc" target="_blank" title="https://git-scm.com/doc" ref="nofollow noopener noreferrer">Git å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fbook%2Fzh%2Fv2" target="_blank" title="https://git-scm.com/book/zh/v2" ref="nofollow noopener noreferrer">Pro Git ä¸­æ–‡ç‰ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Fdocs%2Fgit-worktree" target="_blank" title="https://git-scm.com/docs/git-worktree" ref="nofollow noopener noreferrer">Git Worktree å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr/>
<p><em>æœ€åæ›´æ–°ï¼š2024å¹´</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘åšäº†ä¸€ä¸ªâ€œæ…¢æ…¢æ¥â€çš„å¼€æºä»»åŠ¡ç®¡ç†å·¥å…·ï¼šèœ—ç‰›å¾…åŠï¼ˆReact + Supabase + Tauriï¼‰]]></title>    <link>https://juejin.cn/post/7584834746062487586</link>    <guid>https://juejin.cn/post/7584834746062487586</guid>    <pubDate>2025-12-18T08:36:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584834746062487586" data-draft-id="7584909732613013539" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘åšäº†ä¸€ä¸ªâ€œæ…¢æ…¢æ¥â€çš„å¼€æºä»»åŠ¡ç®¡ç†å·¥å…·ï¼šèœ—ç‰›å¾…åŠï¼ˆReact + Supabase + Tauriï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,ç¨‹åºå‘˜,React.js"/> <meta itemprop="datePublished" content="2025-12-18T08:36:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€åªå«ç…¤çƒçš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/1732486058745054"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘åšäº†ä¸€ä¸ªâ€œæ…¢æ…¢æ¥â€çš„å¼€æºä»»åŠ¡ç®¡ç†å·¥å…·ï¼šèœ—ç‰›å¾…åŠï¼ˆReact + Supabase + Tauriï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1732486058745054/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€åªå«ç…¤çƒçš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:36:17.000Z" title="Thu Dec 18 2025 08:36:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æˆ‘ä¸ºä»€ä¹ˆåšè¿™ä¸ª</h2>
<p>å¸‚é¢ä¸Šçš„ To-Do åº”ç”¨ä¸å°‘ï¼Œä» Todoistã€TickTick åˆ° Notionã€é£ä¹¦ï¼ŒåŠŸèƒ½è¶Šæ¥è¶Šé‡ã€‚</p>
<p>ä½†æˆ‘å‘ç°è‡ªå·±çœŸæ­£éœ€è¦çš„å…¶å®å¾ˆç®€å•ï¼šèƒ½åˆ†é¡¹ç›®ç®¡ç†ä»»åŠ¡ã€æœ‰ä¸ªæ—¥æœŸè§†å›¾ã€æ”¯æŒæ ‡ç­¾è¿‡æ»¤ã€è¯¦æƒ…èƒ½å†™ç‚¹ Markdownâ€”â€”ä»…æ­¤è€Œå·²ã€‚</p>
<p>é—®é¢˜åœ¨äºï¼šè½»é‡çš„å·¥å…·åŠŸèƒ½ä¸å¤Ÿï¼ŒåŠŸèƒ½å…¨çš„å·¥å…·åˆå¤ªé‡ã€‚</p>
<p>äºæ˜¯æˆ‘å¼€å§‹å†™èœ—ç‰›å¾…åŠï¼ˆSnail TodoListï¼‰ã€‚ç›®æ ‡å¾ˆæ˜ç¡®ï¼š<strong>è¶³å¤Ÿå¼ºå¤§ä½†ä¿æŒè½»é‡ï¼Œæ•°æ®è¿˜å¯ä»¥è‡ªå·±æŒæ§</strong>ã€‚</p>
<p>åå­—é‡Œçš„â€œèœ—ç‰›â€ä¸æ˜¯è‡ªå˜²æ…¢ï¼Œè€Œæ˜¯æƒ³è¡¨è¾¾ä¸€ç§èŠ‚å¥â€”â€”æŒç»­æ¨è¿›ï¼Œä¸æ€¥ä¸èºã€‚é€‚åˆé‚£äº›æœ‰é•¿æœŸç›®æ ‡ã€éœ€è¦ç¨³å®šè®°å½•å’Œå›é¡¾çš„äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a6eae0f8a4248dd8129e924438da41c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=v%2FdbsEqH%2Fu44M3yEq96ewn03PXc%3D" alt="logo_å‰¯æœ¬snail.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d047c392f2714d9f9d0672703494f1b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=%2BIFy073ItiLGxcmoQ5n0uj3lelQ%3D" alt="PixPin_2025-12-18_16-33-59.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9510bdaa504b41d287d9ae1b5b20de23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=RxSsYasiYH5zjs%2B585M%2Fwyka1PI%3D" alt="PixPin_2025-12-18_16-34-18.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8acaed93e7564aa485cd347d3c9775d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=AgZiGdNvVLpCqfQsFr89vpZxFxM%3D" alt="PixPin_2025-12-18_16-34-30.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e79f08a447814be2a7d191dc6c0acd60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5Y-q5Y-r54Wk55CD55qE54yr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651777&amp;x-signature=dHIj5OgY9ZqEzwmHrvXqbf0p7RM%3D" alt="PixPin_2025-12-18_16-34-40.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">å®ƒèƒ½è§£å†³ä»€ä¹ˆ</h2>
<p><strong>åœºæ™¯ä¸€ï¼šä¸ªäººæ—¥å¸¸</strong></p>
<p>ä½ æœ‰å‡ ä¸ªå¹¶è¡Œçš„äº‹æƒ…ï¼šå·¥ä½œä»»åŠ¡ã€å‰¯ä¸šé¡¹ç›®ã€å­¦ä¹ è®¡åˆ’ã€ç”Ÿæ´»çäº‹ã€‚ä½ éœ€è¦æŒ‰é¡¹ç›®åˆ†ç»„ï¼Œå¿«é€Ÿçœ‹åˆ°â€œä»Šå¤©è¦åšä»€ä¹ˆâ€å’Œâ€œè¿™å‘¨è¿˜å‰©ä»€ä¹ˆâ€ï¼Œå¶å°”ç»™ä»»åŠ¡æ‰“ä¸ªæ ‡ç­¾æ–¹ä¾¿åç»­ç­›é€‰ã€‚</p>
<p>Snail TodoList åˆšå¥½å¤Ÿç”¨ã€‚</p>
<p><strong>åœºæ™¯äºŒï¼šè½»é‡å›¢é˜Ÿåä½œ</strong></p>
<p>å¦‚æœä½ å’Œä¸¤ä¸‰ä¸ªäººä¸€èµ·æ¨è¿›ä¸€ä¸ªå°é¡¹ç›®ï¼Œä¸éœ€è¦ Jira é‚£ç§é‡å‹å·¥å…·ï¼Œåªæƒ³æœ‰ä¸ªåœ°æ–¹è®°å½•ä»»åŠ¡ã€åˆ†é…è´Ÿè´£äººã€çœ‹çœ‹è¿›åº¦â€”â€”è¿™ä¸ªå·¥å…·ä¹Ÿèƒ½èƒœä»»ã€‚Supabase çš„ Realtime èƒ½åŠ›è®©å¤šäººåä½œæ—¶æ•°æ®åŒæ­¥ä¸æˆé—®é¢˜ã€‚</p>
<p>Snail TodoList åˆšå¥½æ”¯æŒã€‚</p>
<p><strong>å’Œå¸‚é¢å·¥å…·çš„å·®å¼‚</strong></p>
<p>æˆ‘ä¸æ‰“ç®—æŠŠ Snail TodoList åšæˆæ›¿ä»£æ‰€æœ‰å·¥å…·çš„å¤§è€Œå…¨ç³»ç»Ÿã€‚å®ƒæ›´åƒä¸€ä¸ªå·¥ç¨‹åŒ–çš„ ToDoï¼š</p>
<ul>
<li><strong>è½»é‡ä½†å¤Ÿç”¨</strong>ï¼šå›´ç»•ä»»åŠ¡æ¨è¿›çš„å¿…éœ€èƒ½åŠ›åšæ·±ï¼ˆæ—¶é—´è§†å›¾ã€æ ‡ç­¾ã€å¯Œæ–‡æœ¬ã€ç»Ÿè®¡ï¼‰ï¼Œä½†ä¸è¿½æ±‚å¤æ‚æµç¨‹ä¸è¿‡åº¦åä½œã€‚</li>
<li><strong>æ•°æ®å¯æ§ã€å¯è‡ªéƒ¨ç½²</strong>ï¼šä½ å¯ä»¥é€‰æ‹©æŠŠæ•°æ®æŒæ¡åœ¨è‡ªå·±æ‰‹é‡Œï¼Œè€Œä¸æ˜¯è¢«æŸä¸ªå¹³å°çš„å°é—­ç”Ÿæ€ç»‘å®šã€‚</li>
<li><strong>è¾¹ç•Œä¹Ÿå¾ˆæ˜ç¡®</strong>ï¼šå¦‚æœä½ éœ€è¦å¤§å‹å›¢é˜Ÿçš„å¤šå±‚æƒé™ã€å®¡æ‰¹æµã€å¤æ‚çœ‹æ¿/ç”˜ç‰¹å›¾ï¼Œè¿™ä¸ªé¡¹ç›®ç›®å‰ä¸æ˜¯é‚£ä¸ªæ–¹å‘ã€‚</li>
<li/>
</ul>
<hr/>
<h2 data-id="heading-2">åŠŸèƒ½äº®ç‚¹</h2>
<h3 data-id="heading-3">ä»»åŠ¡ç®¡ç†</h3>
<ul>
<li>æ–°å¢ã€ç¼–è¾‘ã€å®Œæˆã€æ”¾å¼ƒã€æ¢å¤ï¼Œè¦†ç›–ä»»åŠ¡å…¨ç”Ÿå‘½å‘¨æœŸ</li>
<li>æ”¯æŒé¡¹ç›®åˆ†ç»„ï¼Œæ‹–æ‹½æ’åº</li>
<li>ä»»åŠ¡è¯¦æƒ…æ”¯æŒå¯Œæ–‡æœ¬ï¼ˆMarkdownã€å›¾ç‰‡ã€ä»£ç å—ï¼‰</li>
</ul>
<h3 data-id="heading-4">æ—¶é—´è§†å›¾</h3>
<ul>
<li>â€œä»Šå¤©â€å’Œâ€œæœ€è¿‘ 7 å¤©â€å¿«é€Ÿå…¥å£</li>
<li>é€¾æœŸä»»åŠ¡ç­›é€‰ï¼Œä¸è®©äº‹æƒ…æ‚„æ‚„æºœèµ°</li>
</ul>
<h3 data-id="heading-5">æ ‡ç­¾ä½“ç³»</h3>
<ul>
<li>æ ‡ç­¾å¢åˆ ã€è¿‡æ»¤ã€è·¨é¡¹ç›®å¤ç”¨</li>
<li>é€‚åˆæŒ‰ä¸»é¢˜æˆ–ä¼˜å…ˆçº§ç»„ç»‡ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-6">æ‰“å¡ä¸ç»Ÿè®¡</h3>
<ul>
<li>å†…ç½®æ‰“å¡æ—¥å†</li>
<li>è¿ç»­å¤©æ•°ç»Ÿè®¡ã€æ€»æ¬¡æ•°æ¦‚è§ˆ</li>
<li>é€‚åˆä¹ æƒ¯å…»æˆæˆ–å‘¨æœŸæ€§ä»»åŠ¡è¿½è¸ª</li>
</ul>
<hr/>
<h2 data-id="heading-7">æŠ€æœ¯å®ç°ä¸æ¶æ„</h2>
<h3 data-id="heading-8">å‰ç«¯</h3>
<ul>
<li><strong>React 18 + TypeScript</strong>ï¼šç±»å‹å®‰å…¨ï¼Œå¼€å‘ä½“éªŒå¥½</li>
<li><strong>Vite</strong>ï¼šå¯åŠ¨å¿«ï¼ŒHMR ä¸æ»‘</li>
<li><strong>shadcn/ui + Radix UI + Tailwind CSS</strong>ï¼šç»„ä»¶è´¨é‡é«˜ï¼Œæ ·å¼å¯æ§ï¼Œä¸ä¾èµ–é‡å‹ UI åº“</li>
</ul>
<h3 data-id="heading-9">æ•°æ®å±‚</h3>
<ul>
<li><strong>Supabase</strong>ï¼šPostgreSQL + Auth + Storage + Realtime ä¸€ç«™å¼è§£å†³</li>
<li>é€‰æ‹© Supabase è€Œé Firebaseï¼Œä¸»è¦æ˜¯å› ä¸º PostgreSQL æ›´ç†Ÿæ‚‰ï¼ŒSQL èƒ½åŠ›æ›´å¼ºï¼Œä¸”æœ‰è‡ªå»ºé€‰é¡¹</li>
</ul>
<h3 data-id="heading-10">çŠ¶æ€ç®¡ç†</h3>
<ul>
<li><strong>TanStack Query</strong>ï¼šæœåŠ¡ç«¯çŠ¶æ€ç®¡ç†ï¼Œç¼“å­˜ã€é‡è¯•ã€ä¹è§‚æ›´æ–°éƒ½æœ‰</li>
<li><strong>Zustand</strong>ï¼šå®¢æˆ·ç«¯çŠ¶æ€ï¼Œè½»é‡ä¸”ç›´è§‚</li>
<li><strong>React Context</strong>ï¼šAuthã€Project ç­‰å…¨å±€ä¸Šä¸‹æ–‡</li>
</ul>
<h3 data-id="heading-11">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨</h3>
<ul>
<li><strong>Milkdown</strong>ï¼šåŸºäº ProseMirror çš„ Markdown ç¼–è¾‘å™¨ï¼Œæ’ä»¶åŒ–è®¾è®¡ï¼Œæ”¯æŒå›¾ç‰‡ä¸Šä¼ ã€ä»£ç å—ã€GFM è¯­æ³•</li>
</ul>
<h3 data-id="heading-12">æ¡Œé¢ç«¯</h3>
<ul>
<li><strong>Tauri</strong>ï¼šRust å†…æ ¸ï¼Œæ‰“åŒ…ä½“ç§¯å°ï¼Œæ€§èƒ½å¥½ã€‚ç›®å‰å·²é›†æˆï¼Œä½†æ„å»ºé“¾è·¯ä»åœ¨å®Œå–„ä¸­</li>
</ul>
<hr/>
<h2 data-id="heading-13">Roadmapï¼šTauri æ¡Œé¢å®¢æˆ·ç«¯</h2>
<p>æˆ‘æ­£åœ¨æŠŠ Snail TodoList åšæˆ Tauri æ¡Œé¢åº”ç”¨ï¼Œä½†ç”Ÿäº§æ„å»ºåœ¨æŸäº›ç¯å¢ƒä¸‹è¿˜æœ‰é—®é¢˜ï¼ŒåŠªåŠ›å®šä½é—®é¢˜ä¸­...</p>
<p>å¦‚æœä½ å¯¹ Tauri æ‰“åŒ…ã€è·¨å¹³å°æ„å»ºæœ‰ç»éªŒï¼Œéå¸¸æ¬¢è¿ä¸€èµ·æ’æŸ¥ã€‚ç›¸å…³è®¨è®ºå¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FwuuJiawei%2Fsnail-todolist%2Fissues" target="_blank" title="https://github.com/wuuJiawei/snail-todolist/issues" ref="nofollow noopener noreferrer">Issues</a> é‡Œè¿›è¡Œã€‚</p>
<hr/>
<h2 data-id="heading-14">å¦‚ä½•å‚ä¸è´¡çŒ®</h2>
<p>è¿™ä¸ªé¡¹ç›®è¿˜åœ¨æ—©æœŸï¼Œæœ‰å¾ˆå¤šå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‚åˆå…¥æ‰‹çš„æ–¹å‘ï¼š</p>
<ul>
<li><strong>Tauri æ„å»ºé—®é¢˜æ’æŸ¥</strong>ï¼šå¸®åŠ©å®šä½è·¨å¹³å°æ‰“åŒ…çš„é—®é¢˜</li>
<li><strong>UI/äº¤äº’ä¼˜åŒ–</strong>ï¼šåŠ¨ç”»ã€è¿‡æ¸¡ã€å“åº”å¼ç»†èŠ‚</li>
<li><strong>ç§»åŠ¨ç«¯ä½“éªŒ</strong>ï¼šè§¦æ§äº¤äº’ã€æ‰‹åŠ¿æ”¯æŒ</li>
<li><strong>å›½é™…åŒ–</strong>ï¼šç›®å‰åªæœ‰ä¸­æ–‡ï¼Œæ¬¢è¿æ·»åŠ å¤šè¯­è¨€æ”¯æŒ</li>
<li><strong>æ–‡æ¡£å®Œå–„</strong>ï¼šæ•°æ®åº“ Schema è¯´æ˜ã€éƒ¨ç½²æŒ‡å—è¡¥å……</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šå•å…ƒæµ‹è¯•ã€E2E æµ‹è¯•</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå¤§é‡ä»»åŠ¡æ—¶çš„æ¸²æŸ“æ€§èƒ½</li>
<li><strong>æ–°åŠŸèƒ½å»ºè®®</strong>ï¼šåœ¨ Issue é‡Œæï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®º</li>
</ul>
<p>è´¡çŒ®æµç¨‹ï¼šFork â†’ æ–°å»ºåˆ†æ”¯ â†’ æäº¤ PR â†’ ç­‰å¾… Review</p>
<hr/>
<h2 data-id="heading-15">æœ€å</h2>
<p>å¦‚æœä½ ä¹Ÿåœ¨æ‰¾ä¸€ä¸ªå¤Ÿç”¨å°±å¥½çš„ä»»åŠ¡ç®¡ç†å·¥å…·ï¼Œæˆ–è€…å¯¹ React + Supabase + Tauri è¿™å¥—æŠ€æœ¯æ ˆæ„Ÿå…´è¶£ï¼Œæ¬¢è¿è¯•ç”¨å’Œåé¦ˆã€‚</p>
<ul>
<li>ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FwuuJiawei%2Fsnail-todolist" target="_blank" title="https://github.com/wuuJiawei/snail-todolist" ref="nofollow noopener noreferrer">github.com/wuuJiawei/sâ€¦</a></li>
<li>åœ¨çº¿ä½“éªŒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsnail-todolist.vercel.app" target="_blank" title="https://snail-todolist.vercel.app" ref="nofollow noopener noreferrer">snail-todolist.vercel.app</a></li>
</ul>
<p>Star æ˜¯æœ€å¥½çš„é¼“åŠ±ï¼ŒIssue å’Œ PR æ›´æ˜¯æ¬¢è¿ã€‚</p>
<p>æ„¿ä½ åœ¨èœ—ç‰›èˆ¬çš„æ­¥è°ƒä¸­ï¼Œä¹Ÿèƒ½æŒç»­æ¨è¿›æ¯ä¸€ä¸ªç›®æ ‡ ğŸŒ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Mac Mysql å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰]]></title>    <link>https://juejin.cn/post/7585021315690545162</link>    <guid>https://juejin.cn/post/7585021315690545162</guid>    <pubDate>2025-12-18T08:24:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585021315690545162" data-draft-id="7584810656383254537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Mac Mysql å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-18T08:24:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Mac Mysql å¿«é€Ÿå®‰è£…ä¸å¯è§†åŒ–ï¼ˆè¯¦ç»†æµç¨‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:24:00.000Z" title="Thu Dec 18 2025 08:24:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å®‰è£…</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbrew.sh%2F" target="_blank" title="https://brew.sh/" ref="nofollow noopener noreferrer">homebrew</a></p>
</li>
<li>
<p><code>homebrew search mysql</code> å¯ä»¥ç›´æ¥å®‰è£…ï¼Œæˆ– <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mysql.com%2F" target="_blank" title="https://www.mysql.com/" ref="nofollow noopener noreferrer">å®˜æ–¹ä¸‹è½½</a>ã€‚</p>
</li>
<li>
<p><a href="https://juejin.cn/post/7583632757836464179" target="_blank" title="https://juejin.cn/post/7583632757836464179">Windows å®‰è£…å‚è€ƒæ–‡ç« </a></p>
</li>
</ul>
<h2 data-id="heading-1">äºŒã€å¯è§†åŒ–</h2>
<ul>
<li>
<p>åœ¨ <code>Windows å‚è€ƒæ–‡ç« </code> ä¸­æœ‰ä»‹ç»è¿‡äº†ï¼Œç›´æ¥å®‰è£… <code>dbeaver</code></p>
<pre><code class="hljs language-sh" lang="sh">$ brew search dbeaver
</code></pre>
<p><code>Casks</code>ï¼ˆ<code>GUI</code> åº”ç”¨ç¨‹åºï¼‰ï¼š</p>
<ol>
<li><strong><code>dbeaver-community</code></strong>Â - âœ…Â <strong>æ¨è</strong>Â - ç¤¾åŒºç‰ˆï¼ˆå…è´¹ï¼ŒåŠŸèƒ½å®Œæ•´ï¼‰</li>
<li><code>dbeaver-enterprise</code>Â - ä¼ä¸šç‰ˆï¼ˆéœ€è¦ä»˜è´¹è®¸å¯è¯ï¼‰</li>
<li><code>dbeaverlite</code>Â - ç²¾ç®€ç‰ˆï¼ˆåŠŸèƒ½è¾ƒå°‘ï¼‰</li>
<li><code>dbeaverultimate</code>Â - Ultimate ç‰ˆæœ¬</li>
</ol>
</li>
<li>
<p>å®‰è£…</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># å®‰è£…å¯è§†åŒ–è½¯ä»¶éœ€è¦ä½¿ç”¨ --cask ï¼Œå¦‚æœä¸æ˜¯åˆ™ä¸éœ€è¦ä½¿ç”¨ï¼ŒCasks ä¸‹é¢çš„éƒ½éœ€è¦ï¼ŒFormulae ä¸‹é¢ä¸ç”¨å¸¦è¿™ä¸ªå‚æ•°</span>
$ brew install --cask dbeaver-community
</code></pre>
</li>
<li>
<p>ä¿®æ”¹è¯­è¨€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb065d8c61ce40daba04243b334c0786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCU54m55pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766651040&amp;x-signature=G8mO0giPEMquIXJbyK9FRvKjTfc%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>ç„¶åé¡¶ä¸Šè¿æ¥æ•°æ®åº“å³å¯ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€]]></title>    <link>https://juejin.cn/post/7585013463857889330</link>    <guid>https://juejin.cn/post/7585013463857889330</guid>    <pubDate>2025-12-18T08:47:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585013463857889330" data-draft-id="7585013463857872946" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€"/> <meta itemprop="keywords" content="å‰ç«¯,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-18T08:47:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="eason_fan"/> <meta itemprop="url" content="https://juejin.cn/user/2995517308808877"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2995517308808877/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    eason_fan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:47:10.000Z" title="Thu Dec 18 2025 08:47:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Resize äº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼šéšå¼é—­åŒ…çš„ â€œéšå½¢é™·é˜±â€</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œå†…å­˜æ³„æ¼æ˜¯æœ€éšè”½ä¹Ÿæœ€å½±å“æ€§èƒ½çš„é—®é¢˜ä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯æ¶‰åŠäºŒè¿›åˆ¶æ•°æ®ï¼ˆå¦‚ArrayBufferï¼‰çš„åœºæ™¯ã€‚æœ¬æ–‡å°†èšç„¦ä¸€ä¸ªå…¸å‹åœºæ™¯ â€”â€”resizeäº‹ä»¶ç›‘å¬å¼•å‘çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼Œæ‹†è§£èƒŒåçš„æ ¸å¿ƒåŸå› ï¼ˆéšå¼é—­åŒ… + æœªé”€æ¯çš„äº‹ä»¶ç›‘å¬ï¼‰ï¼Œå¹¶ç»™å‡ºå¯è½åœ°çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-1">ä¸€ã€é—®é¢˜ç°è±¡ï¼šå†…å­˜æŒç»­æš´æ¶¨ï¼ŒGC æŸæ‰‹æ— ç­–</h3>
<p>å…ˆçœ‹ä¸€ä¸ªå¸¸è§çš„ä¸šåŠ¡åœºæ™¯ï¼š</p>
<ul>
<li>é¡µé¢ä¸­æœ‰å¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„æ¨¡å—ï¼ˆå¦‚ WebGL æ¸²æŸ“ã€éŸ³è§†é¢‘è§£ç ï¼‰ï¼Œä½¿ç”¨ArrayBufferå­˜å‚¨å¤§ä½“ç§¯äºŒè¿›åˆ¶æ•°æ®ï¼›</li>
</ul>

<ul>
<li>ä¸ºé€‚é…çª—å£å¤§å°ï¼Œç»™windowç»‘å®šäº†resizeäº‹ä»¶ï¼Œç”¨äºè°ƒæ•´ Canvas / å¸ƒå±€å°ºå¯¸ï¼›</li>
</ul>

<ul>
<li>å³ä½¿ â€œé”€æ¯â€ äº†äºŒè¿›åˆ¶æ¨¡å—ï¼ˆç½®ç©ºå˜é‡ã€ç§»é™¤ DOMï¼‰ï¼Œå†…å­˜ä¾ç„¶æŒç»­ä¸Šæ¶¨ï¼Œå¤šæ¬¡è§¦å‘resizeåç”šè‡³å‡ºç°é¡µé¢å¡é¡¿ã€‚</li>
</ul>
<p>é€šè¿‡ Chrome DevTools çš„ Memory é¢æ¿åˆ†æå‘ç°ï¼š</p>
<ul>
<li>JSArrayBufferDataï¼ˆArrayBufferçš„åº•å±‚äºŒè¿›åˆ¶æ•°æ®å—ï¼‰æ•°é‡å’Œå†…å­˜å ç”¨æŒç»­å¢é•¿ï¼›</li>
</ul>

<ul>
<li>è¿™äº›äºŒè¿›åˆ¶æ•°æ®çš„å¼•ç”¨é“¾æœ€ç»ˆæŒ‡å‘HTMLDocument â†’ window â†’ resizeäº‹ä»¶ç›‘å¬å™¨ï¼Œæ— æ³•è¢«åƒåœ¾å›æ”¶ï¼ˆGCï¼‰é‡Šæ”¾ã€‚</li>
</ul>
<h3 data-id="heading-2">äºŒã€æ ¸å¿ƒåŸå› ï¼šéšå¼é—­åŒ… + äº‹ä»¶ç›‘å¬å™¨çš„ â€œå¼ºæ ¹å¼•ç”¨â€</h3>
<p>å¾ˆå¤šå¼€å‘è€…ä¼šç–‘æƒ‘ï¼šâ€œæˆ‘çš„resizeå›è°ƒåªè°ƒæ•´äº† Canvas å°ºå¯¸ï¼Œæ˜æ˜æ²¡ç”¨åˆ°ArrayBufferï¼Œä¸ºä»€ä¹ˆä¼šæ³„æ¼ï¼Ÿâ€ é—®é¢˜çš„æ ¸å¿ƒåœ¨äº<strong>éšå¼é—­åŒ…</strong>å’Œ<strong>äº‹ä»¶ç›‘å¬å™¨çš„å¼ºæ ¹å¼•ç”¨</strong>ã€‚</p>
<h4 data-id="heading-3">2.1 å…ˆç†æ¸…å…³é”®æ¦‚å¿µ</h4>





















<table><thead><tr><th>æ¦‚å¿µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>JSArrayBufferData</td><td>V8 å¼•æ“ HEAP64ï¼ˆ64 ä½å †å†…å­˜ï¼‰ä¸­å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®çš„åº•å±‚å—ï¼Œæ˜¯ArrayBufferçš„å®é™…æ•°æ®è½½ä½“</td></tr><tr><td>é—­åŒ…</td><td>JS å›è°ƒä¼šæ•è·å¤–éƒ¨ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ï¼ˆå“ªæ€•æ²¡æ˜¾å¼ä½¿ç”¨ï¼‰</td></tr><tr><td>å¼ºæ ¹å¼•ç”¨</td><td>HTMLDocument/windowæ˜¯æµè§ˆå™¨çº§åˆ«çš„å¼ºå¼•ç”¨æ ¹ï¼Œåªè¦é¡µé¢ä¸åˆ·æ–°ï¼Œå…¶å¼•ç”¨çš„å¯¹è±¡æ°¸è¿œä¸ä¼šè¢« GC å›æ”¶</td></tr></tbody></table>
<h4 data-id="heading-4">2.2 æ³„æ¼çš„å®Œæ•´å¼•ç”¨é“¾</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">HTMLDocument</span>ï¼ˆé¡µé¢æ ¹ï¼‰
  â†“ æŒæœ‰<span class="hljs-variable language_">window</span>å¯¹è±¡
<span class="hljs-variable language_">window</span>
  â†“ ç»‘å®šäº†resizeäº‹ä»¶ç›‘å¬å™¨ï¼ˆæœªè§£ç»‘ï¼‰
resizeäº‹ä»¶ç›‘å¬å™¨
  â†“ å›è°ƒé—­åŒ…æ•è·äº†ä¸šåŠ¡æ¨¡å—å®ä¾‹ï¼ˆå“ªæ€•æ²¡æ˜¾å¼ç”¨äºŒè¿›åˆ¶å¯¹è±¡ï¼‰
<span class="hljs-title class_">BinaryRenderer</span>å®ä¾‹
  â†“ æŒæœ‰<span class="hljs-title class_">ArrayBuffer</span>ï¼ˆäºŒè¿›åˆ¶æ•°æ®å®¹å™¨ï¼‰
<span class="hljs-title class_">ArrayBuffer</span>
  â†“ æŒ‡å‘<span class="hljs-title class_">HEAP64</span>ä¸­çš„äºŒè¿›åˆ¶æ•°æ®å—
<span class="hljs-title class_">JSArrayBufferData</span>ï¼ˆ<span class="hljs-title class_">HEAP64</span>å†…å­˜ï¼‰
</code></pre>
<h4 data-id="heading-5">2.3 éšå¼é—­åŒ…ï¼šæœ€å®¹æ˜“è¢«å¿½ç•¥çš„ â€œéšå½¢çº½å¸¦â€</h4>
<p>é—­åŒ…çš„å…³é”®ç‰¹æ€§ï¼š<strong>åªè¦å›è°ƒç”¨åˆ°äº†å¤–éƒ¨ä½œç”¨åŸŸçš„ä»»æ„å˜é‡ï¼Œå°±ä¼šæ•è·æ•´ä¸ªä¸Šä¸‹æ–‡ï¼Œè€Œéä»…æ˜¾å¼ä½¿ç”¨çš„å˜é‡</strong>ã€‚å“ªæ€•resizeå›è°ƒåªæ“ä½œäº† Canvasï¼Œåªè¦ç”¨åˆ°äº†æ¨¡å—å®ä¾‹çš„thisï¼ˆæˆ–å®ä¾‹å†…çš„ä»»æ„å˜é‡ï¼‰ï¼Œå°±ä¼šé¡ºå¸¦æ•è·å®ä¾‹ä¸­çš„ArrayBufferå¼•ç”¨ã€‚</p>
<h3 data-id="heading-6">ä¸‰ã€å¤ç°ç¤ºä¾‹ï¼šçœ‹ä¼¼æ— å®³çš„ä»£ç ï¼Œå®åˆ™æš—è—æ³„æ¼</h3>
<p>ä»¥ä¸‹ä»£ç æ¨¡æ‹Ÿäº†çœŸå®ä¸šåŠ¡åœºæ™¯ï¼Œèƒ½å®Œæ•´å¤ç°ä¸Šè¿°æ³„æ¼é—®é¢˜ï¼š</p>
<h4 data-id="heading-7">3.1 æ³„æ¼ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¤„ç†äºŒè¿›åˆ¶æ•°æ®çš„æ¸²æŸ“æ¨¡å—</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆ›å»º50MBçš„äºŒè¿›åˆ¶æ•°æ®å—ï¼ˆå¯¹åº”HEAP64ä¸­çš„JSArrayBufferDataï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">50</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindResize</span>(); <span class="hljs-comment">// ç»‘å®šresizeäº‹ä»¶</span>
  }
  <span class="hljs-comment">// ç»‘å®šresizeäº‹ä»¶ï¼šæ ¸å¿ƒæ³„æ¼ç‚¹</span>
  <span class="hljs-title function_">bindResize</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å›è°ƒä»…è°ƒæ•´Canvaså°ºå¯¸ï¼Œçœ‹ä¼¼ä¸bigBufferæ— å…³</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
    });
  }
  <span class="hljs-comment">// è¯•å›¾é”€æ¯æ¨¡å—ï¼Œä½†æœªè§£ç»‘äº‹ä»¶</span>
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç½®ç©ºæ— æ•ˆï¼Œé—­åŒ…ä»æŒæœ‰å¼•ç”¨</span>
  }
}
<span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šåˆ›å»ºå®ä¾‹ â†’ è¯•å›¾é”€æ¯ â†’ å†…å­˜æ³„æ¼</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BinaryRenderer</span>();
<span class="hljs-comment">// æ¨¡æ‹Ÿç»„ä»¶å¸è½½/é¡µé¢åˆ‡æ¢</span>
renderer.<span class="hljs-title function_">destroy</span>();
renderer = <span class="hljs-literal">null</span>;
</code></pre>
<h4 data-id="heading-8">3.2 æ³„æ¼åŸå› åˆ†æ</h4>
<ol>
<li>resizeå›è°ƒä¸­çš„thisæŒ‡å‘BinaryRendererå®ä¾‹ï¼Œé—­åŒ…æ•è·äº†æ•´ä¸ªå®ä¾‹ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬this.bigBufferï¼›</li>
</ol>

<ol start="2">
<li>windowçš„resizeç›‘å¬å™¨æœªè§£ç»‘ï¼Œè¢«HTMLDocumentå¼ºå¼•ç”¨ï¼Œå¯¼è‡´å®ä¾‹æ— æ³•è¢« GC å›æ”¶ï¼›</li>
</ol>

<ol start="3">
<li>å³ä½¿è°ƒç”¨destroy()ç½®ç©ºbigBufferå’Œcanvasï¼Œå¼•ç”¨é“¾ä¾ç„¶æœªæ–­ï¼Œ50MB çš„äºŒè¿›åˆ¶æ•°æ®æ°¸è¿œé©»ç•™åœ¨ HEAP64 ä¸­ã€‚</li>
</ol>
<h4 data-id="heading-9">3.3 æ›´éšè”½çš„æƒ…å†µï¼šè¿thiséƒ½æ²¡å†™ï¼Œä¾ç„¶æ³„æ¼</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindResize</span>();
  }
  <span class="hljs-title function_">bindResize</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¸´æ—¶å˜é‡ä»…åœ¨bindResizeå†…éƒ¨å®šä¹‰</span>
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>;
    <span class="hljs-comment">// å›è°ƒä»…ç”¨canvasï¼Œæœªæthis/bigBufferï¼Œä½†ä»æ•è·å®ä¾‹å¼•ç”¨</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
      canvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
    });
  }
}
</code></pre>
<p>canvasæ˜¯å®ä¾‹å±æ€§çš„å¼•ç”¨ï¼Œé—­åŒ…æ•è·canvaså°±ç­‰äºé—´æ¥æ•è·äº†æ•´ä¸ªå®ä¾‹ï¼ŒbigBufferä¾ç„¶æ— æ³•é‡Šæ”¾ã€‚</p>
<h3 data-id="heading-10">å››ã€è§£å†³æ–¹æ¡ˆï¼šåˆ‡æ–­å¼•ç”¨é“¾ï¼Œè®© GC æ­£å¸¸å·¥ä½œ</h3>
<p>é’ˆå¯¹resizeäº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶æ³„æ¼ï¼Œæ ¸å¿ƒæ˜¯<strong>è§£ç»‘äº‹ä»¶ç›‘å¬å™¨</strong>ï¼Œè¾…ä»¥ä¼˜åŒ–æ‰‹æ®µå‡å°‘æ³„æ¼é£é™©ã€‚</p>
<h4 data-id="heading-11">4.1 æ ¸å¿ƒæ–¹æ¡ˆï¼šä¸»åŠ¨è§£ç»‘äº‹ä»¶ç›‘å¬å™¨</h4>
<p>å…³é”®ç‚¹ï¼š<strong>å¿…é¡»ä½¿ç”¨å‘½åå‡½æ•°ï¼ˆè€ŒéåŒ¿åå‡½æ•°ï¼‰ç»‘å®šäº‹ä»¶ï¼Œç¡®ä¿èƒ½ç²¾å‡†è§£ç»‘</strong>ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryRenderer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
    <span class="hljs-comment">// ç»‘å®šthisåˆ°å›è°ƒï¼Œé¿å…é—­åŒ…thisæŒ‡å‘å¼‚å¸¸</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>); <span class="hljs-comment">// å‘½åå‡½æ•°ç»‘å®š</span>
  }
  <span class="hljs-comment">// å‘½åå›è°ƒå‡½æ•°</span>
  <span class="hljs-title function_">handleResize</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
  }
  <span class="hljs-comment">// é”€æ¯æ—¶è§£ç»‘äº‹ä»¶ï¼šæ ¸å¿ƒä¿®å¤ç‚¹</span>
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è§£ç»‘resizeç›‘å¬å™¨ï¼Œåˆ‡æ–­å¼•ç”¨é“¾</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>);
    <span class="hljs-comment">// ç½®ç©ºå±æ€§ï¼Œè¾…åŠ©GC</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bigBuffer</span> = <span class="hljs-literal">null</span>;
  }
}
</code></pre>
<h4 data-id="heading-12">4.2 è¾…åŠ©ä¼˜åŒ–ï¼šå‡å°‘ä¸å¿…è¦çš„å¼•ç”¨å’Œè§¦å‘</h4>
<ol>
<li><strong>èŠ‚æµ / é˜²æŠ–</strong> <strong>resize</strong> <strong>å›è°ƒ</strong>ï¼šresizeè§¦å‘é¢‘ç‡æé«˜ï¼ˆæ¯ç§’æ•°åæ¬¡ï¼‰ï¼ŒèŠ‚æµï¼ˆå¦‚ 100ms æ‰§è¡Œä¸€æ¬¡ï¼‰å¯å‡å°‘é—­åŒ…è§¦å‘æ¬¡æ•°ï¼Œé™ä½å†…å­˜å ç”¨ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// èŠ‚æµå‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">throttle</span> = (<span class="hljs-params">fn, delay = <span class="hljs-number">100</span></span>) =&gt; {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!timer) {
      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        timer = <span class="hljs-literal">null</span>;
      }, delay);
    }
  };
};
<span class="hljs-comment">// ç»‘å®šèŠ‚æµåçš„å›è°ƒ</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-title function_">throttle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleResize</span>));
</code></pre>
<ol start="2">
<li><strong>ä½¿ç”¨å¼±å¼•ç”¨ï¼ˆES2021+ï¼‰</strong> ï¼šè‹¥æ— æ³•åŠæ—¶è§£ç»‘äº‹ä»¶ï¼Œç”¨WeakRef/WeakMapå­˜å‚¨äºŒè¿›åˆ¶å¯¹è±¡ï¼Œè®© GC åœ¨æ— å¼ºå¼•ç”¨æ—¶å›æ”¶ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å¼±å¼•ç”¨äºŒè¿›åˆ¶å¯¹è±¡ï¼Œä¸é˜»æ–­GC</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufRef</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayBuffer</span>(<span class="hljs-number">50</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>));
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'render-canvas'</span>);
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bindResize</span>();
}
<span class="hljs-title function_">handleResize</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ä½¿ç”¨æ—¶æ‰è·å–ï¼Œæ— å¼ºå¼•ç”¨æ—¶è‡ªåŠ¨å›æ”¶</span>
  <span class="hljs-keyword">const</span> buf = <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufRef</span>.<span class="hljs-title function_">deref</span>();
  <span class="hljs-keyword">if</span> (buf) {
    <span class="hljs-comment">// å¤„ç†äºŒè¿›åˆ¶æ•°æ®é€»è¾‘</span>
  }
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">canvas</span>.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>;
}
</code></pre>
<h3 data-id="heading-13">äº”ã€éªŒè¯æ–¹æ³•ï¼šç”¨ DevTools ç¡®è®¤æ³„æ¼æ˜¯å¦ä¿®å¤</h3>
<ol>
<li>æ‰“å¼€ Chrome DevTools â†’ Memory é¢æ¿ï¼Œé€‰æ‹© â€œHeap snapshotâ€ï¼›</li>
</ol>

<ol start="2">
<li>æ‰§è¡Œä»£ç åˆ›å»ºBinaryRendererå®ä¾‹ï¼Œè§¦å‘å¤šæ¬¡resizeï¼Œç”Ÿæˆç¬¬ä¸€ä¸ªå¿«ç…§ï¼›</li>
</ol>

<ol start="3">
<li>è°ƒç”¨destroy()æ–¹æ³•ï¼Œç‚¹å‡» â€œCollect garbageâ€ï¼ˆåƒåœ¾æ¡¶å›¾æ ‡ï¼‰å¼ºåˆ¶ GCï¼›</li>
</ol>

<ol start="4">
<li>ç”Ÿæˆç¬¬äºŒä¸ªå¿«ç…§ï¼Œå¯¹æ¯”ä¸¤æ¬¡å¿«ç…§ä¸­ArrayBuffer/JSArrayBufferDataçš„æ•°é‡å’Œå†…å­˜ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>è‹¥å†…å­˜æ— æ˜æ˜¾ä¸‹é™ï¼Œè¯´æ˜ä»æœ‰æ³„æ¼ï¼ˆå¤§æ¦‚ç‡æ˜¯äº‹ä»¶æœªè§£ç»‘ï¼‰ï¼›</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>è‹¥å†…å­˜æ˜¾è‘—ä¸‹é™ï¼Œè¯´æ˜å¼•ç”¨é“¾å·²åˆ‡æ–­ï¼Œæ³„æ¼ä¿®å¤ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-14">å…­ã€æ€»ç»“</h3>
<p>resizeäº‹ä»¶å¯¼è‡´çš„äºŒè¿›åˆ¶å†…å­˜æ³„æ¼ï¼Œæœ¬è´¨æ˜¯ <strong>â€œéšå¼é—­åŒ…æ•è·å¼•ç”¨ + äº‹ä»¶ç›‘å¬å™¨æœªè§£ç»‘â€</strong> å½¢æˆäº†æ— æ³•åˆ‡æ–­çš„å¼•ç”¨é“¾ï¼Œæœ€ç»ˆè®© HEAP64 ä¸­çš„äºŒè¿›åˆ¶æ•°æ®è¢«æ°¸ä¹…é”å®šã€‚</p>
<p>æ ¸å¿ƒé¿å‘ç‚¹ï¼š</p>
<ol>
<li>äº‹ä»¶ç›‘å¬å™¨ï¼ˆå°¤å…¶æ˜¯resize/scrollç­‰é«˜é¢‘ç‡äº‹ä»¶ï¼‰å¿…é¡» â€œç»‘å®š - è§£ç»‘â€ æˆå¯¹å‡ºç°ï¼›</li>
</ol>

<ol start="2">
<li>è­¦æƒ•é—­åŒ…çš„éšå¼æ•è·ï¼šå“ªæ€•å›è°ƒæ²¡æ˜¾å¼ä½¿ç”¨å¤§å¯¹è±¡ï¼Œä¹Ÿå¯èƒ½å› æ•è·ä¸Šä¸‹æ–‡å¯¼è‡´æ³„æ¼ï¼›</li>
</ol>

<ol start="3">
<li>äºŒè¿›åˆ¶æ•°æ®ï¼ˆArrayBufferï¼‰ä½“ç§¯å¤§ï¼Œä¸€æ—¦æ³„æ¼ä¼šå¿«é€Ÿè€—å°½å†…å­˜ï¼Œéœ€ä¼˜å…ˆå¤„ç†ã€‚</li>
</ol>
<p>è®°ä½ï¼šå‰ç«¯å†…å­˜æ³„æ¼çš„æ’æŸ¥æ ¸å¿ƒæ˜¯ â€œè¿½å¼•ç”¨é“¾â€ï¼Œåªè¦æ‰¾åˆ°ä» â€œå¼ºæ ¹å¯¹è±¡ï¼ˆHTMLDocument/windowï¼‰â€ åˆ°æ³„æ¼å¯¹è±¡çš„é“¾è·¯ï¼Œå°±èƒ½ç²¾å‡†å®šä½é—®é¢˜ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”]]></title>    <link>https://juejin.cn/post/7584824891596144676</link>    <guid>https://juejin.cn/post/7584824891596144676</guid>    <pubDate>2025-12-18T08:44:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7584824891596144676" data-draft-id="7584824891596128292" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-18T08:44:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åè¯´Java"/> <meta itemprop="url" content="https://juejin.cn/user/3898184413750203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898184413750203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åè¯´Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-18T08:44:36.000Z" title="Thu Dec 18 2025 08:44:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-18
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring Boot é›†æˆ Redis å®ç°çœ‹é—¨ç‹— Lua è„šæœ¬åˆ†å¸ƒå¼é”</h2>
<p>å…¬å¸å®æˆ˜é¡¹ç›®åˆ†å¸ƒå¼é”ï¼Œå·å·ç»™ä½ ä»¬çœ‹ï¼Œæ€ä¹ˆä½¿ç”¨çš„ï¼Œå¥½å¤šäººéƒ½ä¸ä¼šä¹Ÿä¸æ‡‚</p>
<h3 data-id="heading-1">ä¸€ã€æ¦‚è¿°</h3>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯çœ‹é—¨ç‹—é”ï¼Ÿ</h4>
<p><strong>çœ‹é—¨ç‹—é”ï¼ˆWatchdog Lockï¼‰</strong> æ˜¯ä¸€ç§åŸºäºRediså®ç°çš„åˆ†å¸ƒå¼é”ä¼˜åŒ–æ–¹æ¡ˆï¼Œå®ƒåœ¨ä¼ ç»Ÿåˆ†å¸ƒå¼é”çš„åŸºç¡€ä¸Šå¢åŠ äº†<strong>è‡ªåŠ¨ç»­æœŸ</strong>æœºåˆ¶ï¼Œé˜²æ­¢ä¸šåŠ¡æ‰§è¡Œæ—¶é—´è¶…è¿‡é”è¿‡æœŸæ—¶é—´è€Œå¯¼è‡´çš„é”æå‰é‡Šæ”¾é—®é¢˜ã€‚</p>
<h4 data-id="heading-3">1.2 åŸºæœ¬åŸç†</h4>
<ol>
<li><strong>è·å–é”æ—¶</strong>ï¼šè®¾ç½®ä¸€ä¸ªè¾ƒçŸ­çš„åˆå§‹è¿‡æœŸæ—¶é—´ï¼ˆå¦‚30ç§’ï¼‰</li>
<li><strong>åå°çº¿ç¨‹ï¼ˆçœ‹é—¨ç‹—ï¼‰</strong> ï¼šå®šæœŸæ£€æŸ¥é”æ˜¯å¦ä»è¢«æŒæœ‰ï¼Œå¦‚æœæ˜¯åˆ™è‡ªåŠ¨ç»­æœŸ</li>
<li><strong>Luaè„šæœ¬ä¿è¯åŸå­æ€§</strong>ï¼šæ‰€æœ‰å…³é”®æ“ä½œä½¿ç”¨Luaè„šæœ¬ï¼Œç¡®ä¿åœ¨Redisç«¯çš„åŸå­æ‰§è¡Œ</li>
<li><strong>é”é‡Šæ”¾</strong>ï¼šä¸šåŠ¡å®Œæˆåæ‰‹åŠ¨é‡Šæ”¾ï¼Œæˆ–çº¿ç¨‹ç»“æŸæ—¶è‡ªåŠ¨æ¸…ç†</li>
</ol>
<h4 data-id="heading-4">1.3 æ ¸å¿ƒä¼˜åŠ¿ vs ä¼ ç»Ÿåˆ†å¸ƒå¼é”</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿåˆ†å¸ƒå¼é”</th><th>çœ‹é—¨ç‹—é”</th></tr></thead><tbody><tr><td>è¿‡æœŸæ—¶é—´</td><td>å›ºå®šï¼Œéœ€è¦é¢„ä¼°ä¸šåŠ¡æ—¶é—´</td><td>åŠ¨æ€ç»­æœŸï¼Œè‡ªé€‚åº”ä¸šåŠ¡è€—æ—¶</td></tr><tr><td>ä¸šåŠ¡è¶…æ—¶é£é™©</td><td>é«˜ï¼ˆä¸šåŠ¡è¶…æ—¶å¯¼è‡´é”å¤±æ•ˆï¼‰</td><td>ä½ï¼ˆè‡ªåŠ¨ç»­æœŸï¼‰</td></tr><tr><td>å®ç°å¤æ‚åº¦</td><td>ç®€å•</td><td>ä¸­ç­‰</td></tr><tr><td>èµ„æºå ç”¨</td><td>ä½</td><td>éœ€è¦é¢å¤–çº¿ç¨‹ç»´æŠ¤</td></tr></tbody></table>
<h3 data-id="heading-5">äºŒã€åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-6">2.1 é€‚ç”¨åœºæ™¯</h4>
<ol>
<li><strong>é•¿æ—¶é—´ä»»åŠ¡</strong>ï¼šæ‰¹å¤„ç†ã€æ•°æ®è¿ç§»ç­‰è€—æ—¶ä¸ç¡®å®šçš„æ“ä½œ</li>
<li><strong>äº‹åŠ¡æ€§æ“ä½œ</strong>ï¼šåˆ†å¸ƒå¼äº‹åŠ¡ä¸­çš„èµ„æºé”å®š</li>
<li><strong>å®šæ—¶ä»»åŠ¡é˜²é‡</strong>ï¼šç¡®ä¿åˆ†å¸ƒå¼ç¯å¢ƒä¸‹åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ‰§è¡Œ</li>
<li><strong>ç§’æ€/é™æµ</strong>ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹çš„èµ„æºäº‰ç”¨æ§åˆ¶</li>
</ol>
<h4 data-id="heading-7">2.2 ä¸é€‚ç”¨åœºæ™¯</h4>
<ol>
<li><strong>æçŸ­æ—¶é—´é”</strong>ï¼ˆ&lt; 100msï¼‰ï¼šç»­æœŸå¼€é”€å¯èƒ½å¤§äºæ”¶ç›Š</li>
<li><strong>å¯¹å»¶è¿Ÿæå…¶æ•æ„Ÿ</strong>çš„åœºæ™¯ï¼šçœ‹é—¨ç‹—æ£€æŸ¥å¯èƒ½å¼•å…¥é¢å¤–å»¶è¿Ÿ</li>
</ol>
<h3 data-id="heading-8">ä¸‰ã€å®ç°æ–¹æ¡ˆè¯¦è¿°</h3>
<h4 data-id="heading-9">3.1 æ¶æ„è®¾è®¡</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸šåŠ¡çº¿ç¨‹       â”‚    â”‚  çœ‹é—¨ç‹—çº¿ç¨‹     â”‚    â”‚  Redis <span class="hljs-built_in">Server</span>   â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ <span class="hljs-number">1.</span>è·å–é”        â”‚â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â–¶â”‚ æ‰§è¡ŒLuaè„šæœ¬     â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚ è®¾ç½®é”+è¿‡æœŸæ—¶é—´ â”‚
â”‚ <span class="hljs-number">2.</span>æ‰§è¡Œä¸šåŠ¡é€»è¾‘  â”‚    â”‚ <span class="hljs-number">3.</span>å¯åŠ¨çœ‹é—¨ç‹—    â”‚    â”‚                 â”‚
â”‚                 â”‚    â”‚   å®šæœŸæ£€æŸ¥      â”‚    â”‚                 â”‚
â”‚                 â”‚â—€â”€â”€â”€â”‚   è‡ªåŠ¨ç»­æœŸ      â”‚â—€â”€â”€â”€â”‚ æ‰§è¡Œç»­æœŸLua    â”‚
â”‚ <span class="hljs-number">4.</span>é‡Šæ”¾é”        â”‚â”€â”€â”€â–¶â”‚                 â”‚â”€â”€â”€â–¶â”‚ åˆ é™¤Key        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-10">3.2 å…³é”®ç‰¹æ€§</h4>
<ol>
<li><strong>å¯é‡å…¥æ€§</strong>ï¼šåŒä¸€çº¿ç¨‹å¯é‡å¤è·å–é”</li>
<li><strong>è‡ªåŠ¨ç»­æœŸ</strong>ï¼šåå°çº¿ç¨‹å®šæœŸå»¶é•¿é”æœ‰æ•ˆæœŸ</li>
<li><strong>é˜²æ­»é”</strong>ï¼šè®¾ç½®æœ€å¤§ç»­æœŸæ¬¡æ•°ï¼Œé¿å…å¼‚å¸¸æƒ…å†µæ— é™ç»­æœŸ</li>
<li><strong>å¼‚å¸¸æ¢å¤</strong>ï¼šå®¢æˆ·ç«¯å¼‚å¸¸æ–­å¼€æ—¶ï¼Œé”ä¼šè‡ªåŠ¨è¿‡æœŸ</li>
</ol>
<h3 data-id="heading-11">å››ã€Spring Boot é›†æˆå®ç°</h3>
<h4 data-id="heading-12">4.1 ç¯å¢ƒå‡†å¤‡</h4>
<h5 data-id="heading-13">Maven ä¾èµ–</h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- Spring Boot Starter Data Redis --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- Rediså®¢æˆ·ç«¯ï¼ˆä½¿ç”¨Lettuceï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.lettuce.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lettuce-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- JSONå¤„ç† --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!-- AOP --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h5 data-id="heading-14">application.yml é…ç½®</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">host:</span> <span class="hljs-string">localhost</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">6379</span>
    <span class="hljs-attr">password:</span> 
    <span class="hljs-attr">database:</span> <span class="hljs-number">0</span>
    <span class="hljs-attr">lettuce:</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">max-active:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">max-idle:</span> <span class="hljs-number">8</span>
        <span class="hljs-attr">min-idle:</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">max-wait:</span> <span class="hljs-string">-1ms</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">5000ms</span>

<span class="hljs-comment"># åˆ†å¸ƒå¼é”é…ç½®</span>
<span class="hljs-attr">distributed:</span>
  <span class="hljs-attr">lock:</span>
    <span class="hljs-attr">watch-dog:</span>
      <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>                    <span class="hljs-comment"># æ˜¯å¦å¯ç”¨çœ‹é—¨ç‹—</span>
      <span class="hljs-attr">check-interval:</span> <span class="hljs-number">10000</span>          <span class="hljs-comment"># æ£€æŸ¥é—´éš”ï¼ˆmsï¼‰</span>
      <span class="hljs-attr">lease-time:</span> <span class="hljs-number">30000</span>              <span class="hljs-comment"># ç§Ÿçº¦æ—¶é—´ï¼ˆmsï¼‰</span>
      <span class="hljs-attr">max-renew-times:</span> <span class="hljs-number">10</span>            <span class="hljs-comment"># æœ€å¤§ç»­æœŸæ¬¡æ•°</span>
</code></pre>
<h4 data-id="heading-15">4.2 æ ¸å¿ƒå®ç°ç±»</h4>
<h5 data-id="heading-16">4.2.1 Redis é…ç½®ç±»</h5>
<pre><code class="hljs language-ini" lang="ini">package com.example.lock.config<span class="hljs-comment">;</span>

import org.springframework.boot.context.properties.ConfigurationProperties<span class="hljs-comment">;</span>
import org.springframework.context.annotation.Bean<span class="hljs-comment">;</span>
import org.springframework.context.annotation.Configuration<span class="hljs-comment">;</span>
import org.springframework.data.redis.connection.RedisConnectionFactory<span class="hljs-comment">;</span>
import org.springframework.data.redis.core.RedisTemplate<span class="hljs-comment">;</span>
import org.springframework.data.redis.core.script.DefaultRedisScript<span class="hljs-comment">;</span>
import org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer<span class="hljs-comment">;</span>
import org.springframework.data.redis.serializer.StringRedisSerializer<span class="hljs-comment">;</span>

@Configuration
@ConfigurationProperties(<span class="hljs-attr">prefix</span> = <span class="hljs-string">"distributed.lock.watch-dog"</span>)
public class RedisLockConfig {
    
    private boolean <span class="hljs-attr">enable</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
    private long <span class="hljs-attr">checkInterval</span> = <span class="hljs-number">10000</span><span class="hljs-comment">;</span>
    private long <span class="hljs-attr">leaseTime</span> = <span class="hljs-number">30000</span><span class="hljs-comment">;</span>
    private int <span class="hljs-attr">maxRenewTimes</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
    
    // getters and setters
    
    @Bean
    public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory factory) {
        RedisTemplate&lt;String, Object&gt; <span class="hljs-attr">template</span> = new RedisTemplate&lt;&gt;()<span class="hljs-comment">;</span>
        template.setConnectionFactory(factory)<span class="hljs-comment">;</span>
        template.setKeySerializer(new StringRedisSerializer())<span class="hljs-comment">;</span>
        template.setValueSerializer(new GenericJackson2JsonRedisSerializer())<span class="hljs-comment">;</span>
        template.setHashKeySerializer(new StringRedisSerializer())<span class="hljs-comment">;</span>
        template.setHashValueSerializer(new GenericJackson2JsonRedisSerializer())<span class="hljs-comment">;</span>
        template.afterPropertiesSet()<span class="hljs-comment">;</span>
        return template<span class="hljs-comment">;</span>
    }
    
    @Bean
    public DefaultRedisScript&lt;Long&gt; lockScript() {
        DefaultRedisScript&lt;Long&gt; <span class="hljs-attr">script</span> = new DefaultRedisScript&lt;&gt;()<span class="hljs-comment">;</span>
        script.setScriptText(
            "if (redis.call('exists', KEYS<span class="hljs-section">[1]</span>) == 0) then " +
            "    redis.call('hincrby', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>, 1)<span class="hljs-comment">; " +</span>
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "if (redis.call('hexists', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>) == 1) then " +
            "    redis.call('hincrby', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>, 1)<span class="hljs-comment">; " +</span>
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "return 0<span class="hljs-comment">;"</span>
        )<span class="hljs-comment">;</span>
        script.setResultType(Long.class)<span class="hljs-comment">;</span>
        return script<span class="hljs-comment">;</span>
    }
    
    @Bean
    public DefaultRedisScript&lt;Long&gt; unlockScript() {
        DefaultRedisScript&lt;Long&gt; <span class="hljs-attr">script</span> = new DefaultRedisScript&lt;&gt;()<span class="hljs-comment">;</span>
        script.setScriptText(
            "if (redis.call('hexists', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>) == 0) then " +
            "    return 0<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "local <span class="hljs-attr">counter</span> = redis.call(<span class="hljs-string">'hincrby'</span>, KEYS[<span class="hljs-number">1</span>], ARGV[<span class="hljs-number">1</span>], -<span class="hljs-number">1</span>)<span class="hljs-comment">; " +</span>
            "if (counter &gt; 0) then " +
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "else " +
            "    redis.call('del', KEYS<span class="hljs-section">[1]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "return 0<span class="hljs-comment">;"</span>
        )<span class="hljs-comment">;</span>
        script.setResultType(Long.class)<span class="hljs-comment">;</span>
        return script<span class="hljs-comment">;</span>
    }
    
    @Bean
    public DefaultRedisScript&lt;Long&gt; renewScript() {
        DefaultRedisScript&lt;Long&gt; <span class="hljs-attr">script</span> = new DefaultRedisScript&lt;&gt;()<span class="hljs-comment">;</span>
        script.setScriptText(
            "if (redis.call('hexists', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[1]</span>) == 1) then " +
            "    redis.call('pexpire', KEYS<span class="hljs-section">[1]</span>, ARGV<span class="hljs-section">[2]</span>)<span class="hljs-comment">; " +</span>
            "    return 1<span class="hljs-comment">; " +</span>
            "end<span class="hljs-comment">; " +</span>
            "return 0<span class="hljs-comment">;"</span>
        )<span class="hljs-comment">;</span>
        script.setResultType(Long.class)<span class="hljs-comment">;</span>
        return script<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h5 data-id="heading-17">4.2.2 åˆ†å¸ƒå¼é”å®ç°ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.lock.service;

<span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.RedisTemplate;
<span class="hljs-keyword">import</span> org.springframework.data.redis.core.script.DefaultRedisScript;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.Collections;
<span class="hljs-keyword">import</span> java.util.UUID;
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;
<span class="hljs-keyword">import</span> java.util.concurrent.ScheduledExecutorService;
<span class="hljs-keyword">import</span> java.util.concurrent.ScheduledThreadPoolExecutor;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;
<span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;

<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisWatchdogLock</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DefaultRedisScript&lt;Long&gt; lockScript;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DefaultRedisScript&lt;Long&gt; unlockScript;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DefaultRedisScript&lt;Long&gt; renewScript;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisLockConfig config;
    
    <span class="hljs-comment">// çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼šå­˜å‚¨å½“å‰çº¿ç¨‹æŒæœ‰çš„é”ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;LockInfo&gt; currentLock = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;&gt;();
    
    <span class="hljs-comment">// å…¨å±€é”æ˜ å°„ï¼šlockKey -&gt; é”ä¿¡æ¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentHashMap&lt;String, LockInfo&gt; lockMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// çœ‹é—¨ç‹—çº¿ç¨‹æ± </span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ScheduledExecutorService</span> <span class="hljs-variable">watchdogExecutor</span> <span class="hljs-operator">=</span> 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScheduledThreadPoolExecutor</span>(<span class="hljs-number">1</span>, r -&gt; {
            <span class="hljs-type">Thread</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(r, <span class="hljs-string">"redis-lock-watchdog"</span>);
            t.setDaemon(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">return</span> t;
        });
    
    <span class="hljs-meta">@Data</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LockInfo</span> {
        <span class="hljs-keyword">private</span> String lockKey;
        <span class="hljs-keyword">private</span> String lockValue;
        <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> leaseTime;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> holdCount;
        <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> lastRenewTime;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> renewCount;
        <span class="hljs-keyword">private</span> <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">localLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();
    }
    
    <span class="hljs-comment">/**
     * å°è¯•è·å–é”ï¼ˆé˜»å¡ç‰ˆæœ¬ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryLock</span><span class="hljs-params">(String lockKey, <span class="hljs-type">long</span> waitTime, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">timeout</span> <span class="hljs-operator">=</span> unit.toMillis(waitTime);
        <span class="hljs-type">String</span> <span class="hljs-variable">lockValue</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»æŒæœ‰é”ï¼ˆå¯é‡å…¥ï¼‰</span>
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">existingLock</span> <span class="hljs-operator">=</span> currentLock.get();
        <span class="hljs-keyword">if</span> (existingLock != <span class="hljs-literal">null</span> &amp;&amp; existingLock.getLockKey().equals(lockKey)) {
            existingLock.setHoldCount(existingLock.getHoldCount() + <span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        
        <span class="hljs-comment">// æœ¬åœ°é”ï¼Œé˜²æ­¢åŒä¸€JVMå†…å¤šä¸ªçº¿ç¨‹åŒæ—¶ç«äº‰</span>
        <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">localLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();
        localLock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                <span class="hljs-comment">// å°è¯•è·å–Redisé”</span>
                <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
                    lockScript,
                    Collections.singletonList(lockKey),
                    String.valueOf(config.getLeaseTime()),
                    lockValue
                );
                
                <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>) {
                    <span class="hljs-comment">// è·å–æˆåŠŸï¼Œåˆ›å»ºé”ä¿¡æ¯</span>
                    <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LockInfo</span>();
                    lockInfo.setLockKey(lockKey);
                    lockInfo.setLockValue(lockValue);
                    lockInfo.setLeaseTime(config.getLeaseTime());
                    lockInfo.setHoldCount(<span class="hljs-number">1</span>);
                    lockInfo.setLastRenewTime(System.currentTimeMillis());
                    
                    lockMap.put(lockKey, lockInfo);
                    currentLock.set(lockInfo);
                    
                    <span class="hljs-comment">// å¯åŠ¨çœ‹é—¨ç‹—</span>
                    <span class="hljs-keyword">if</span> (config.isEnable()) {
                        startWatchdog(lockInfo);
                    }
                    
                    log.debug(<span class="hljs-string">"Lock acquired: {} by {}"</span>, lockKey, lockValue);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
                
                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¶…æ—¶</span>
                <span class="hljs-keyword">if</span> (System.currentTimeMillis() - startTime &gt; timeout) {
                    log.debug(<span class="hljs-string">"Lock acquisition timeout: {}"</span>, lockKey);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
                
                <span class="hljs-comment">// çŸ­æš‚ä¼‘çœ åé‡è¯•</span>
                Thread.sleep(<span class="hljs-number">100</span>);
            }
        } <span class="hljs-keyword">finally</span> {
            localLock.unlock();
        }
    }
    
    <span class="hljs-comment">/**
     * å¯åŠ¨çœ‹é—¨ç‹—çº¿ç¨‹
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startWatchdog</span><span class="hljs-params">(LockInfo lockInfo)</span> {
        watchdogExecutor.scheduleWithFixedDelay(() -&gt; {
            <span class="hljs-keyword">try</span> {
                renewLock(lockInfo);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.error(<span class="hljs-string">"Watchdog error for lock: {}"</span>, lockInfo.getLockKey(), e);
            }
        }, config.getCheckInterval() / <span class="hljs-number">2</span>, config.getCheckInterval(), TimeUnit.MILLISECONDS);
    }
    
    <span class="hljs-comment">/**
     * ç»­æœŸé”
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">renewLock</span><span class="hljs-params">(LockInfo lockInfo)</span> {
        <span class="hljs-keyword">if</span> (lockInfo.getRenewCount() &gt;= config.getMaxRenewTimes()) {
            log.warn(<span class="hljs-string">"Lock {} reached max renew times"</span>, lockInfo.getLockKey());
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
                renewScript,
                Collections.singletonList(lockInfo.getLockKey()),
                lockInfo.getLockValue(),
                String.valueOf(config.getLeaseTime())
            );
            
            <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>) {
                lockInfo.setLastRenewTime(System.currentTimeMillis());
                lockInfo.setRenewCount(lockInfo.getRenewCount() + <span class="hljs-number">1</span>);
                log.debug(<span class="hljs-string">"Lock renewed: {}"</span>, lockInfo.getLockKey());
            } <span class="hljs-keyword">else</span> {
                log.warn(<span class="hljs-string">"Lock renewal failed: {}"</span>, lockInfo.getLockKey());
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"Lock renewal error: {}"</span>, lockInfo.getLockKey(), e);
        }
    }
    
    <span class="hljs-comment">/**
     * é‡Šæ”¾é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">unlock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> currentLock.get();
        <span class="hljs-keyword">if</span> (lockInfo == <span class="hljs-literal">null</span> || !lockInfo.getLockKey().equals(lockKey)) {
            log.warn(<span class="hljs-string">"Current thread does not hold lock: {}"</span>, lockKey);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        
        lockInfo.getLocalLock().lock();
        <span class="hljs-keyword">try</span> {
            lockInfo.setHoldCount(lockInfo.getHoldCount() - <span class="hljs-number">1</span>);
            
            <span class="hljs-keyword">if</span> (lockInfo.getHoldCount() &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// è¿˜æœ‰é‡å…¥ï¼Œåªå‡å°‘è®¡æ•°</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            
            <span class="hljs-comment">// å®Œå…¨é‡Šæ”¾Redisé”</span>
            <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(
                unlockScript,
                Collections.singletonList(lockKey),
                lockInfo.getLockValue(),
                String.valueOf(config.getLeaseTime())
            );
            
            <span class="hljs-keyword">if</span> (result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1</span>) {
                <span class="hljs-comment">// æ¸…ç†èµ„æº</span>
                lockMap.remove(lockKey);
                currentLock.remove();
                log.debug(<span class="hljs-string">"Lock released: {}"</span>, lockKey);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">finally</span> {
            lockInfo.getLocalLock().unlock();
        }
    }
    
    <span class="hljs-comment">/**
     * å°è¯•è·å–é”ï¼ˆéé˜»å¡ç‰ˆæœ¬ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryLock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> tryLock(lockKey, <span class="hljs-number">0</span>, TimeUnit.MILLISECONDS);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-comment">/**
     * å¼ºåˆ¶é‡Šæ”¾é”ï¼ˆç”¨äºå¼‚å¸¸æƒ…å†µï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">forceUnlock</span><span class="hljs-params">(String lockKey)</span> {
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> lockMap.get(lockKey);
        <span class="hljs-keyword">if</span> (lockInfo != <span class="hljs-literal">null</span>) {
            redisTemplate.delete(lockKey);
            lockMap.remove(lockKey);
            currentLock.remove();
            log.warn(<span class="hljs-string">"Force unlocked: {}"</span>, lockKey);
        }
    }
    
    <span class="hljs-comment">/**
     * æ¸…ç†çº¿ç¨‹æœ¬åœ°å­˜å‚¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanup</span><span class="hljs-params">()</span> {
        <span class="hljs-type">LockInfo</span> <span class="hljs-variable">lockInfo</span> <span class="hljs-operator">=</span> currentLock.get();
        <span class="hljs-keyword">if</span> (lockInfo != <span class="hljs-literal">null</span>) {
            unlock(lockInfo.getLockKey());
        }
    }
}
</code></pre>
<h5 data-id="heading-18">4.2.3 AOP æ³¨è§£æ”¯æŒ</h5>
<pre><code class="hljs language-ini" lang="ini">package com.example.lock.annotation<span class="hljs-comment">;</span>

import java.lang.annotation.*<span class="hljs-comment">;</span>
import java.util.concurrent.TimeUnit<span class="hljs-comment">;</span>

@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface RedisLock {
    
    /**
     * é”çš„keyï¼Œæ”¯æŒSpELè¡¨è¾¾å¼
     */
    String key()<span class="hljs-comment">;</span>
    
    /**
     * é”çš„keyå‰ç¼€
     */
    String prefix() default "lock:"<span class="hljs-comment">;</span>
    
    /**
     * ç­‰å¾…é”çš„æœ€é•¿æ—¶é—´
     */
    long waitTime() default 5<span class="hljs-comment">;</span>
    
    /**
     * ç­‰å¾…æ—¶é—´å•ä½
     */
    TimeUnit timeUnit() default TimeUnit.SECONDS<span class="hljs-comment">;</span>
    
    /**
     * è·å–å¤±è´¥æ—¶çš„é”™è¯¯ä¿¡æ¯
     */
    String message() default "ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•"<span class="hljs-comment">;</span>
}

package com.example.lock.aop<span class="hljs-comment">;</span>

import com.example.lock.annotation.RedisLock<span class="hljs-comment">;</span>
import com.example.lock.service.RedisWatchdogLock<span class="hljs-comment">;</span>
import lombok.extern.slf4j.Slf4j<span class="hljs-comment">;</span>
import org.aspectj.lang.ProceedingJoinPoint<span class="hljs-comment">;</span>
import org.aspectj.lang.annotation.Around<span class="hljs-comment">;</span>
import org.aspectj.lang.annotation.Aspect<span class="hljs-comment">;</span>
import org.aspectj.lang.reflect.MethodSignature<span class="hljs-comment">;</span>
import org.springframework.beans.factory.annotation.Autowired<span class="hljs-comment">;</span>
import org.springframework.expression.Expression<span class="hljs-comment">;</span>
import org.springframework.expression.ExpressionParser<span class="hljs-comment">;</span>
import org.springframework.expression.spel.standard.SpelExpressionParser<span class="hljs-comment">;</span>
import org.springframework.expression.spel.support.StandardEvaluationContext<span class="hljs-comment">;</span>
import org.springframework.stereotype.Component<span class="hljs-comment">;</span>

import java.lang.reflect.Method<span class="hljs-comment">;</span>

@Slf4j
@Aspect
@Component
public class RedisLockAspect {
    
    @Autowired
    private RedisWatchdogLock redisWatchdogLock<span class="hljs-comment">;</span>
    
    @Around("@annotation(redisLock)")
    public Object around(ProceedingJoinPoint joinPoint, RedisLock redisLock) throws Throwable {
        String <span class="hljs-attr">lockKey</span> = parseKey(redisLock.key(), joinPoint)<span class="hljs-comment">;</span>
        String <span class="hljs-attr">fullKey</span> = redisLock.prefix() + lockKey<span class="hljs-comment">;</span>
        
        boolean <span class="hljs-attr">locked</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
        try {
            <span class="hljs-attr">locked</span> = redisWatchdogLock.tryLock(fullKey, redisLock.waitTime(), redisLock.timeUnit())<span class="hljs-comment">;</span>
            if (!locked) {
                throw new RuntimeException(redisLock.message())<span class="hljs-comment">;</span>
            }
            
            return joinPoint.proceed()<span class="hljs-comment">;</span>
        } finally {
            if (locked) {
                redisWatchdogLock.unlock(fullKey)<span class="hljs-comment">;</span>
            }
        }
    }
    
    private String parseKey(String key, ProceedingJoinPoint joinPoint) {
        if (!key.contains("<span class="hljs-comment">#")) {</span>
            return key<span class="hljs-comment">;</span>
        }
        
        try {
            MethodSignature <span class="hljs-attr">signature</span> = (MethodSignature) joinPoint.getSignature()<span class="hljs-comment">;</span>
            Method <span class="hljs-attr">method</span> = signature.getMethod()<span class="hljs-comment">;</span>
            String<span class="hljs-section">[]</span> <span class="hljs-attr">parameterNames</span> = signature.getParameterNames()<span class="hljs-comment">;</span>
            Object<span class="hljs-section">[]</span> <span class="hljs-attr">args</span> = joinPoint.getArgs()<span class="hljs-comment">;</span>
            
            ExpressionParser <span class="hljs-attr">parser</span> = new SpelExpressionParser()<span class="hljs-comment">;</span>
            StandardEvaluationContext <span class="hljs-attr">context</span> = new StandardEvaluationContext()<span class="hljs-comment">;</span>
            
            for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; parameterNames.length; i++) {</span>
                context.setVariable(parameterNames<span class="hljs-section">[i]</span>, args<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
            }
            
            Expression <span class="hljs-attr">expression</span> = parser.parseExpression(key)<span class="hljs-comment">;</span>
            return expression.getValue(context, String.class)<span class="hljs-comment">;</span>
        } catch (Exception e) {
            log.error("Parse lock key error: {}", key, e)<span class="hljs-comment">;</span>
            return key<span class="hljs-comment">;</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-19">4.3 ä½¿ç”¨ç¤ºä¾‹</h4>
<h5 data-id="heading-20">4.3.1 ä¸šåŠ¡æœåŠ¡ç±»</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.lock.service;

<span class="hljs-keyword">import</span> com.example.lock.annotation.RedisLock;
<span class="hljs-keyword">import</span> lombok.extern.slf4j.Slf4j;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-meta">@Slf4j</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-comment">/**
     * æ³¨è§£æ–¹å¼ä½¿ç”¨åˆ†å¸ƒå¼é”
     */</span>
    <span class="hljs-meta">@RedisLock(key = "'order:' + #orderId", waitTime = 10, timeUnit = TimeUnit.SECONDS)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-keyword">try</span> {
            log.info(<span class="hljs-string">"å¼€å§‹å¤„ç†è®¢å•: {}"</span>, orderId);
            <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
            Thread.sleep(<span class="hljs-number">15000</span>);
            log.info(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ: {}"</span>, orderId);
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }
    
    <span class="hljs-comment">/**
     * ç¼–ç¨‹æ–¹å¼ä½¿ç”¨åˆ†å¸ƒå¼é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrderManual</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order:"</span> + orderId;
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">boolean</span> <span class="hljs-variable">locked</span> <span class="hljs-operator">=</span> redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">10</span>, TimeUnit.SECONDS);
            <span class="hljs-keyword">if</span> (!locked) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"è·å–è®¢å•é”å¤±è´¥"</span>);
            }
            
            <span class="hljs-keyword">try</span> {
                log.info(<span class="hljs-string">"å¼€å§‹å¤„ç†è®¢å•: {}"</span>, orderId);
                <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
                Thread.sleep(<span class="hljs-number">15000</span>);
                log.info(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ: {}"</span>, orderId);
            } <span class="hljs-keyword">finally</span> {
                redisWatchdogLock.unlock(lockKey);
            }
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
        }
    }
}
</code></pre>
<h5 data-id="heading-21">4.3.2 æ§åˆ¶å™¨</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.example.lock.controller;

<span class="hljs-keyword">import</span> com.example.lock.service.OrderService;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.<span class="hljs-keyword">annotation</span>.Autowired;
<span class="hljs-keyword">import</span> org.springframework.web.bind.<span class="hljs-keyword">annotation</span>.*;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/order"</span>)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;
    
    <span class="hljs-meta">@PostMapping(<span class="hljs-string">"/process/{orderId}"</span>)</span>
    <span class="hljs-keyword">public</span> String processOrder(<span class="hljs-meta">@PathVariable</span> <span class="hljs-built_in">Long</span> orderId) {
        orderService.processOrder(orderId);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"success"</span>;
    }
    
    <span class="hljs-meta">@PostMapping(<span class="hljs-string">"/process/manual/{orderId}"</span>)</span>
    <span class="hljs-keyword">public</span> String processOrderManual(<span class="hljs-meta">@PathVariable</span> <span class="hljs-built_in">Long</span> orderId) {
        orderService.processOrderManual(orderId);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"success"</span>;
    }
}
</code></pre>
<h3 data-id="heading-22">äº”ã€æµ‹è¯•ä¸éªŒè¯</h3>
<h4 data-id="heading-23">5.1 å•å…ƒæµ‹è¯•</h4>
<pre><code class="hljs language-ini" lang="ini">package com.example.lock<span class="hljs-comment">;</span>

import com.example.lock.service.RedisWatchdogLock<span class="hljs-comment">;</span>
import org.junit.jupiter.api.Test<span class="hljs-comment">;</span>
import org.springframework.beans.factory.annotation.Autowired<span class="hljs-comment">;</span>
import org.springframework.boot.test.context.SpringBootTest<span class="hljs-comment">;</span>

import java.util.concurrent.CountDownLatch<span class="hljs-comment">;</span>
import java.util.concurrent.ExecutorService<span class="hljs-comment">;</span>
import java.util.concurrent.Executors<span class="hljs-comment">;</span>
import java.util.concurrent.TimeUnit<span class="hljs-comment">;</span>

@SpringBootTest
class RedisWatchdogLockTest {
    
    @Autowired
    private RedisWatchdogLock redisWatchdogLock<span class="hljs-comment">;</span>
    
    private int <span class="hljs-attr">counter</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    
    @Test
    void testReentrantLock() throws InterruptedException {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:reentrant"</span><span class="hljs-comment">;</span>
        
        // ç¬¬ä¸€æ¬¡è·å–é”
        boolean <span class="hljs-attr">firstLock</span> = redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">5</span>, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
        assert firstLock<span class="hljs-comment">;</span>
        
        // ç¬¬äºŒæ¬¡è·å–ï¼ˆé‡å…¥ï¼‰
        boolean <span class="hljs-attr">secondLock</span> = redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">5</span>, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
        assert secondLock<span class="hljs-comment">;</span>
        
        // é‡Šæ”¾ä¸€æ¬¡
        redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
        
        // å†é‡Šæ”¾ä¸€æ¬¡
        boolean <span class="hljs-attr">result</span> = redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
        assert result<span class="hljs-comment">;</span>
    }
    
    @Test
    void testConcurrentAccess() throws InterruptedException {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:concurrent"</span><span class="hljs-comment">;</span>
        int <span class="hljs-attr">threadCount</span> = <span class="hljs-number">5</span><span class="hljs-comment">;</span>
        ExecutorService <span class="hljs-attr">executor</span> = Executors.newFixedThreadPool(threadCount)<span class="hljs-comment">;</span>
        CountDownLatch <span class="hljs-attr">latch</span> = new CountDownLatch(threadCount)<span class="hljs-comment">;</span>
        
        for (int <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; threadCount; i++) {</span>
            executor.submit(() -&gt; {
                try {
                    if (redisWatchdogLock.tryLock(lockKey, 2, TimeUnit.SECONDS)) {
                        try {
                            // ä¸´ç•ŒåŒºæ“ä½œ
                            int <span class="hljs-attr">current</span> = counter<span class="hljs-comment">;</span>
                            Thread.sleep(100)<span class="hljs-comment">;</span>
                            <span class="hljs-attr">counter</span> = current + <span class="hljs-number">1</span><span class="hljs-comment">;</span>
                        } finally {
                            redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
                        }
                    }
                } catch (InterruptedException e) {
                    Thread.currentThread().interrupt()<span class="hljs-comment">;</span>
                } finally {
                    latch.countDown()<span class="hljs-comment">;</span>
                }
            })<span class="hljs-comment">;</span>
        }
        
        latch.await()<span class="hljs-comment">;</span>
        executor.shutdown()<span class="hljs-comment">;</span>
        
        // éªŒè¯æœ€ç»ˆç»“æœ
        assert <span class="hljs-attr">counter</span> == <span class="hljs-number">1</span> : <span class="hljs-string">"å¹¶å‘æµ‹è¯•å¤±è´¥ï¼Œcounter="</span> + counter<span class="hljs-comment">;</span>
    }
    
    @Test
    void testWatchdogRenewal() throws InterruptedException {
        String <span class="hljs-attr">lockKey</span> = <span class="hljs-string">"test:watchdog"</span><span class="hljs-comment">;</span>
        
        boolean <span class="hljs-attr">locked</span> = redisWatchdogLock.tryLock(lockKey, <span class="hljs-number">5</span>, TimeUnit.SECONDS)<span class="hljs-comment">;</span>
        assert locked<span class="hljs-comment">;</span>
        
        // æŒæœ‰é”è¶…è¿‡åˆå§‹ç§ŸæœŸï¼ŒéªŒè¯çœ‹é—¨ç‹—æ˜¯å¦ç»­æœŸ
        Thread.sleep(40000)<span class="hljs-comment">; // 40ç§’</span>
        
        // å°è¯•åœ¨å¦ä¸€ä¸ªçº¿ç¨‹è·å–é”ï¼ˆåº”è¯¥å¤±è´¥ï¼‰
        Thread <span class="hljs-attr">otherThread</span> = new Thread(() -&gt; {
            boolean <span class="hljs-attr">otherLock</span> = redisWatchdogLock.tryLock(lockKey)<span class="hljs-comment">;</span>
            assert !otherLock : "é”åº”è¯¥è¿˜åœ¨è¢«æŒæœ‰"<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
        
        otherThread.start()<span class="hljs-comment">;</span>
        otherThread.join()<span class="hljs-comment">;</span>
        
        // é‡Šæ”¾é”
        redisWatchdogLock.unlock(lockKey)<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h4 data-id="heading-24">5.2 é›†æˆæµ‹è¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨RedisæœåŠ¡</span>
docker run -d --name redis-test -p 6379:6379 redis:alpine

<span class="hljs-comment"># å¯åŠ¨Spring Bootåº”ç”¨</span>
./mvnw spring-boot:run

<span class="hljs-comment"># æµ‹è¯•å¹¶å‘è¯·æ±‚</span>
<span class="hljs-comment"># ä½¿ç”¨abæˆ–wrkè¿›è¡Œå‹åŠ›æµ‹è¯•</span>
wrk -t4 -c100 -d30s http://localhost:8080/order/process/123
</code></pre>
<h3 data-id="heading-25">å…­ã€æ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§</h3>
<h4 data-id="heading-26">6.1 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h4>
<ol>
<li><strong>åˆç†è®¾ç½®è¿‡æœŸæ—¶é—´</strong>ï¼šæ ¹æ®ä¸šåŠ¡å¹³å‡è€—æ—¶è°ƒæ•´leaseTime</li>
<li><strong>è°ƒæ•´æ£€æŸ¥é—´éš”</strong>ï¼šæ ¹æ®ä¸šåŠ¡æ³¢åŠ¨æ€§è°ƒæ•´checkInterval</li>
<li><strong>é¿å…é”ç²’åº¦å¤ªç»†</strong>ï¼šå‡å°‘é”ç«äº‰å’Œç»­æœŸå¼€é”€</li>
<li><strong>ä½¿ç”¨è¿æ¥æ± </strong>ï¼šç¡®ä¿Redisè¿æ¥é«˜æ•ˆå¤ç”¨</li>
</ol>
<h4 data-id="heading-27">6.2 ç›‘æ§æŒ‡æ ‡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.lock.monitor;

<span class="hljs-keyword">import</span> com.example.lock.service.RedisWatchdogLock;
<span class="hljs-keyword">import</span> io.micrometer.core.instrument.Gauge;
<span class="hljs-keyword">import</span> io.micrometer.core.instrument.MeterRegistry;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;

<span class="hljs-keyword">import</span> javax.annotation.PostConstruct;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LockMonitor</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisWatchdogLock redisWatchdogLock;
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MeterRegistry meterRegistry;
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">activeLocks</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
    
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        Gauge.builder(<span class="hljs-string">"redis.lock.active.count"</span>, activeLocks, AtomicInteger::get)
            .description(<span class="hljs-string">"å½“å‰æ´»è·ƒçš„åˆ†å¸ƒå¼é”æ•°é‡"</span>)
            .register(meterRegistry);
    }
}
</code></pre>
<h4 data-id="heading-28">6.3 å‘Šè­¦é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Prometheuså‘Šè­¦è§„åˆ™</span>
<span class="hljs-attr">groups:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">redis_lock_alerts</span>
    <span class="hljs-attr">rules:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">RedisLockRenewFailure</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">increase(redis_lock_renew_failure_total[5m])</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">10</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">1m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">warning</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"Redisé”ç»­æœŸå¤±è´¥"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"é” <span class="hljs-template-variable">{{ $labels.lock_key }}</span> ç»­æœŸå¤±è´¥æ¬¡æ•°è¶…è¿‡é˜ˆå€¼"</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">alert:</span> <span class="hljs-string">RedisLockHoldTooLong</span>
        <span class="hljs-attr">expr:</span> <span class="hljs-string">redis_lock_hold_duration_seconds</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">300</span>
        <span class="hljs-attr">for:</span> <span class="hljs-string">2m</span>
        <span class="hljs-attr">labels:</span>
          <span class="hljs-attr">severity:</span> <span class="hljs-string">critical</span>
        <span class="hljs-attr">annotations:</span>
          <span class="hljs-attr">summary:</span> <span class="hljs-string">"Redisé”æŒæœ‰æ—¶é—´è¿‡é•¿"</span>
          <span class="hljs-attr">description:</span> <span class="hljs-string">"é” <span class="hljs-template-variable">{{ $labels.lock_key }}</span> å·²æŒæœ‰è¶…è¿‡5åˆ†é’Ÿ"</span>
</code></pre>
<h3 data-id="heading-29">ä¸ƒã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-30">7.1 é—®é¢˜æ’æŸ¥è¡¨</h4>






























<table><thead><tr><th>é—®é¢˜ç°è±¡</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>è·å–é”è¶…æ—¶</td><td>é”ç«äº‰æ¿€çƒˆæˆ–ä¸šåŠ¡æŒæœ‰æ—¶é—´è¿‡é•¿</td><td>1. å¢åŠ waitTime 2. ä¼˜åŒ–ä¸šåŠ¡é€»è¾‘ 3. å‡å°é”ç²’åº¦</td></tr><tr><td>çœ‹é—¨ç‹—æœªç»­æœŸ</td><td>çœ‹é—¨ç‹—çº¿ç¨‹å¼‚å¸¸ç»ˆæ­¢</td><td>1. æ£€æŸ¥çº¿ç¨‹æ± é…ç½® 2. å¢åŠ å¼‚å¸¸ç›‘æ§ 3. è®¾ç½®çº¿ç¨‹æœªæ•è·å¼‚å¸¸å¤„ç†å™¨</td></tr><tr><td>é”é‡Šæ”¾å¤±è´¥</td><td>ç½‘ç»œå¼‚å¸¸æˆ–Redisæ•…éšœ</td><td>1. å®ç°é‡è¯•æœºåˆ¶ 2. è®¾ç½®é”çš„æœ€å¤§æŒæœ‰æ—¶é—´ 3. æ·»åŠ å¼ºåˆ¶é‡Šæ”¾æ¥å£</td></tr><tr><td>å†…å­˜æ³„æ¼</td><td>ThreadLocalæœªæ¸…ç†</td><td>1. ç¡®ä¿finallyå—ä¸­æ¸…ç† 2. ä½¿ç”¨æ‹¦æˆªå™¨ç»Ÿä¸€æ¸…ç†</td></tr></tbody></table>
<h4 data-id="heading-31">7.2 Redisé›†ç¾¤ç¯å¢ƒ</h4>
<p>åœ¨Redisé›†ç¾¤ç¯å¢ƒä¸‹ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// é…ç½®Redissonå®¢æˆ·ç«¯æ”¯æŒé›†ç¾¤</span>
@<span class="hljs-function">Bean
<span class="hljs-keyword">public</span> RedissonClient <span class="hljs-title">redissonClient</span><span class="hljs-params">()</span> </span>{
    Config config = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Config</span>();
    config.<span class="hljs-built_in">useClusterServers</span>()
        .<span class="hljs-built_in">addNodeAddress</span>(<span class="hljs-string">"redis://127.0.0.1:7001"</span>, <span class="hljs-string">"redis://127.0.0.1:7002"</span>)
        .<span class="hljs-built_in">setPassword</span>(<span class="hljs-string">"password"</span>)
        .<span class="hljs-built_in">setScanInterval</span>(<span class="hljs-number">2000</span>);
    <span class="hljs-keyword">return</span> Redisson.<span class="hljs-built_in">create</span>(config);
}
</code></pre>
<h3 data-id="heading-32">å…«ã€æ€»ç»“</h3>
<h4 data-id="heading-33">8.1 ä¼˜ç‚¹</h4>
<ol>
<li><strong>è‡ªåŠ¨ç»­æœŸ</strong>ï¼šè§£å†³ä¸šåŠ¡æ‰§è¡Œæ—¶é—´ä¸ç¡®å®šæ€§é—®é¢˜</li>
<li><strong>é«˜å¯é æ€§</strong>ï¼šLuaè„šæœ¬ä¿è¯åŸå­æ€§ï¼Œé¿å…ç«äº‰æ¡ä»¶</li>
<li><strong>å¯é‡å…¥æ€§</strong>ï¼šæ”¯æŒåŒä¸€çº¿ç¨‹å¤šæ¬¡è·å–</li>
<li><strong>æ˜“äºé›†æˆ</strong>ï¼šæä¾›æ³¨è§£å’Œç¼–ç¨‹ä¸¤ç§ä½¿ç”¨æ–¹å¼</li>
<li><strong>å¯ç›‘æ§</strong>ï¼šå®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶</li>
</ol>
<h4 data-id="heading-34">8.2 ç¼ºç‚¹</h4>
<ol>
<li><strong>å®ç°å¤æ‚åº¦é«˜</strong>ï¼šéœ€è¦ç»´æŠ¤çœ‹é—¨ç‹—çº¿ç¨‹å’Œé”çŠ¶æ€</li>
<li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šæ¯ä¸ªé”éœ€è¦é¢å¤–çº¿ç¨‹è¿›è¡Œç»­æœŸ</li>
<li><strong>ç½‘ç»œä¾èµ–</strong>ï¼šå®Œå…¨ä¾èµ–Rediså¯ç”¨æ€§</li>
<li><strong>æ—¶é’ŸåŒæ­¥é—®é¢˜</strong>ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸‹éœ€è¦ä¿è¯æ—¶é’ŸåŒæ­¥</li>
</ol>
<h4 data-id="heading-35">8.3 æœ€ä½³å®è·µå»ºè®®</h4>
<ol>
<li><strong>é”å‘½åè§„èŒƒ</strong>ï¼šä½¿ç”¨ä¸šåŠ¡å‰ç¼€ï¼Œå¦‚ <code>order:lock:{orderId}</code></li>
<li><strong>è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´</strong>ï¼šæ ¹æ®ä¸šåŠ¡99çº¿è€—æ—¶è®¾ç½®</li>
<li><strong>å®ç°é™çº§ç­–ç•¥</strong>ï¼šRedisä¸å¯ç”¨æ—¶ä½¿ç”¨æœ¬åœ°é”</li>
<li><strong>å®šæœŸæ¸…ç†</strong>ï¼šå®ç°é”çš„è‡ªåŠ¨æ¸…ç†æœºåˆ¶</li>
<li><strong>æ–‡æ¡£åŒ–</strong>ï¼šè®°å½•é”çš„ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹</li>
</ol>
<hr/>
<p><strong>éƒ¨ç½²æ³¨æ„äº‹é¡¹</strong>ï¼š</p>
<ol>
<li>ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨Redis Sentinelæˆ–Clusterä¿è¯é«˜å¯ç”¨</li>
<li>å»ºè®®è®¾ç½®åˆç†çš„JVMå‚æ•°ï¼Œé¿å…çœ‹é—¨ç‹—çº¿ç¨‹è¿‡å¤šå¯¼è‡´èµ„æºè€—å°½</li>
<li>å®šæœŸæ£€æŸ¥é”çš„ä½¿ç”¨æƒ…å†µï¼Œä¼˜åŒ–é”ç²’åº¦å’ŒæŒæœ‰æ—¶é—´</li>
<li>åœ¨å®¹å™¨åŒ–éƒ¨ç½²æ—¶ï¼Œæ³¨æ„çº¿ç¨‹æ± çš„åˆç†é…ç½®</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>