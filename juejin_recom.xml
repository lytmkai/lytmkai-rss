<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ä½¿ç”¨ Canvas å®ç°æ‰«ææ•ˆæœï¼šå®½åº¦è®¡ç®—ã€é€æ˜åº¦æ§åˆ¶ä¸æ—‹è½¬]]></title>    <link>https://juejin.cn/post/7572961448537931803</link>    <guid>https://juejin.cn/post/7572961448537931803</guid>    <pubDate>2025-11-17T05:07:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537931803" data-draft-id="7572939250587418675" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Canvas å®ç°æ‰«ææ•ˆæœï¼šå®½åº¦è®¡ç®—ã€é€æ˜åº¦æ§åˆ¶ä¸æ—‹è½¬"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-17T05:07:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="excel"/> <meta itemprop="url" content="https://juejin.cn/user/2911162520062862"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Canvas å®ç°æ‰«ææ•ˆæœï¼šå®½åº¦è®¡ç®—ã€é€æ˜åº¦æ§åˆ¶ä¸æ—‹è½¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2911162520062862/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    excel
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:07:31.000Z" title="Mon Nov 17 2025 05:07:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    24
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»‹ç»</h2>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ<code>&lt;canvas&gt;</code> å…ƒç´ æä¾›äº†å¼ºå¤§çš„å›¾å½¢ç»˜åˆ¶èƒ½åŠ›ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>canvas</code> æ¥è¿›è¡Œå„ç§å›¾åƒå¤„ç†æ“ä½œï¼ŒåŒ…æ‹¬å›¾åƒåŠ è½½ã€æ—‹è½¬ã€ç¼©æ”¾ä»¥åŠåˆ›å»ºåŠ¨æ€æ•ˆæœã€‚åœ¨å¾ˆå¤šåº”ç”¨ä¸­ï¼Œæ‰«ææ•ˆæœæ˜¯ä¸€ç§å¸¸è§çš„è§†è§‰æ•ˆæœï¼Œæ¯”å¦‚æ¡å½¢ç æ‰«æã€æ¿€å…‰æ‰«æã€åŠ è½½åŠ¨ç”»ç­‰ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•é€šè¿‡ <code>canvas</code> å…ƒç´ å®ç°ä¸€ä¸ªå¹³æ»‘çš„æ‰«ææ•ˆæœï¼Œä½¿å¾—å›¾åƒä»é¡¶éƒ¨åˆ°åº•éƒ¨é€æ¸æ˜¾ç¤ºï¼Œæ¨¡æ‹Ÿæ‰«æçš„è¿‡ç¨‹ã€‚åŒæ—¶ï¼Œè¿˜å°†æä¾›ä¸€ä¸ªAIç”Ÿæˆæç¤ºï¼ˆPromptï¼‰ï¼Œä¾›å›¾åƒç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ DALLÂ·Eã€MidJourneyï¼‰å‚è€ƒï¼Œå¸®åŠ©å¿«é€Ÿç”Ÿæˆæ‰€éœ€çš„å›¾åƒã€‚</p>
<h2 data-id="heading-1">å®ç°æ€è·¯</h2>
<h3 data-id="heading-2">1. è·å–å›¾ç‰‡å¹¶ç»˜åˆ¶</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†å›¾åƒç»˜åˆ¶åˆ° <code>canvas</code> ä¸Šã€‚é€šè¿‡ <code>drawImage</code> æ–¹æ³•å°†å›¾åƒç»˜åˆ¶åˆ° <code>canvas</code> ä¸Šã€‚</p>
<h3 data-id="heading-3">2. ä½¿ç”¨ <code>ImageData</code> è·å–åƒç´ æ•°æ®</h3>
<p><code>getImageData()</code> æ–¹æ³•å…è®¸æˆ‘ä»¬è·å– <code>canvas</code> ä¸­ç‰¹å®šåŒºåŸŸçš„åƒç´ æ•°æ®ã€‚<code>ImageData</code> å¯¹è±¡åŒ…å«å›¾åƒçš„ RGBA å€¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é€ä¸ªåƒç´ åœ°æ“ä½œå›¾åƒã€‚</p>
<h3 data-id="heading-4">3. è®¡ç®—é€æ˜åº¦</h3>
<p>æ ¹æ®æ‰«æçš„è¿›åº¦ï¼Œè°ƒæ•´æ¯ä¸ªåƒç´ çš„é€æ˜åº¦ã€‚æˆ‘ä»¬å°†é€æ˜åº¦æ ¹æ® <code>y</code> åæ ‡çš„å€¼é€æ¸æ”¹å˜ï¼Œä»é¡¶éƒ¨å®Œå…¨é€æ˜ï¼Œåˆ°åº•éƒ¨å®Œå…¨ä¸é€æ˜ã€‚é€æ˜åº¦çš„å˜åŒ–å°†é€šè¿‡è°ƒæ•´ <code>ImageData</code> ä¸­çš„ Alpha é€šé“å€¼æ¥å®ç°ã€‚</p>
<h3 data-id="heading-5">4. åŠ¨ç”»å®ç°</h3>
<p>ä½¿ç”¨ <code>setInterval</code> æˆ– <code>requestAnimationFrame</code> æ¥åŠ¨æ€æ›´æ–°æ‰«æçš„è¿›åº¦ï¼Œé€æ¸æ˜¾ç¤ºå›¾åƒçš„ä¸åŒéƒ¨åˆ†ï¼Œç›´åˆ°å›¾åƒå®Œå…¨æ˜¾ç¤ºã€‚</p>
<h2 data-id="heading-6">ä»£ç å®ç°</h2>
<h3 data-id="heading-7">1. åˆå§‹åŒ–å’Œå®½åº¦è®¡ç®—éƒ¨åˆ†</h3>
<p>åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬è®¡ç®— <code>canvas</code> çš„å®½é«˜ï¼Œå¹¶é€šè¿‡ <code>devicePixelRatio</code> é€‚é…é«˜æ¸…å±å¹•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">displayWidth</span> = props.width<span class="hljs-comment">;</span>
const <span class="hljs-attr">displayHeight</span> = props.height<span class="hljs-comment">;</span>

// è®¾ç½® canvas çš„ CSS å°ºå¯¸
<span class="hljs-attr">canvas.style.width</span> = displayWidth + <span class="hljs-string">"px"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">canvas.style.height</span> = displayHeight + <span class="hljs-string">"px"</span><span class="hljs-comment">;</span>

// è®¾ç½® canvas çš„åƒç´ å°ºå¯¸
<span class="hljs-attr">canvas.width</span> = displayWidth * devicePixelRatio<span class="hljs-comment">;</span>
<span class="hljs-attr">canvas.height</span> = displayHeight * devicePixelRatio<span class="hljs-comment">;</span>
ctx.scale(devicePixelRatio, devicePixelRatio)<span class="hljs-comment">; // ä¸ºé«˜æ¸…å±å¹•åšé€‚é…</span>
</code></pre>
<h3 data-id="heading-8">2. é€æ˜åº¦æ§åˆ¶å’Œæ‰«ææ•ˆæœéƒ¨åˆ†</h3>
<p>åœ¨è¿™éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬è·å–å›¾åƒæ•°æ®ï¼Œå¹¶æ ¹æ®æ‰«æè¿›åº¦ä¿®æ”¹é€æ˜åº¦ï¼Œé€æ­¥æ˜¾ç¤ºå›¾åƒã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// è·å–å›¾åƒæ•°æ®
const <span class="hljs-attr">imageData</span> = ctx.getImageData(-imgSize / <span class="hljs-number">2</span>, -imgSize / <span class="hljs-number">2</span>, imgSize, imgSize)<span class="hljs-comment">;</span>
const <span class="hljs-attr">data</span> = imageData.data<span class="hljs-comment">;</span>

// æ ¹æ®æ‰«æè¿›åº¦é€æ¸ä¿®æ”¹é€æ˜åº¦
for (let <span class="hljs-attr">y</span> = <span class="hljs-number">0</span><span class="hljs-comment">; y &lt; imgSize; y++) {</span>
  for (let <span class="hljs-attr">x</span> = <span class="hljs-number">0</span><span class="hljs-comment">; x &lt; imgSize; x++) {</span>
    const <span class="hljs-attr">index</span> = (y * imgSize + x) * <span class="hljs-number">4</span><span class="hljs-comment">; // æ¯ä¸ªåƒç´ æœ‰4ä¸ªå€¼ï¼ˆRGBAï¼‰</span>

    const <span class="hljs-attr">alpha</span> = y &lt;= scanProgress ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span><span class="hljs-comment">; // è®¡ç®—é€æ˜åº¦</span>
    data<span class="hljs-section">[index + 3]</span> = Math.round(alpha * 255)<span class="hljs-comment">; // ä¿®æ”¹é€æ˜åº¦å€¼</span>
  }
}

// æ›´æ–°å›¾åƒæ•°æ®
ctx.putImageData(imageData, -imgSize / 2, -imgSize / 2)<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-9">3. æ—‹è½¬å’Œåæ—‹è½¬éƒ¨åˆ†</h3>
<p>è¿™éƒ¨åˆ†æ¶‰åŠå›¾åƒçš„æ—‹è½¬æˆ–åæ—‹è½¬ï¼Œæˆ‘ä»¬é€šè¿‡ <code>getParentRotateDeg()</code> è·å–çˆ¶å…ƒç´ çš„æ—‹è½¬è§’åº¦ï¼Œå¹¶æ ¹æ®éœ€è¦æ—‹è½¬å›¾åƒã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// è·å–æ—‹è½¬è§’åº¦</span>
function <span class="hljs-built_in">getParentRotateDeg</span>(): number {
  const <span class="hljs-attribute">transform</span> = parent<span class="hljs-selector-class">.style</span><span class="hljs-selector-class">.transform</span> || <span class="hljs-built_in">getComputedStyle</span>(parent)<span class="hljs-selector-class">.transform</span>;
  if (!transform || transform === "none") return <span class="hljs-number">0</span>;

  const match = <span class="hljs-attribute">transform</span><span class="hljs-selector-class">.match</span>(/rotate(([-\d.]+)deg)/);
  if (match) return <span class="hljs-built_in">Number</span>(match[<span class="hljs-number">1</span>]);

  const matrixMatch = <span class="hljs-attribute">transform</span><span class="hljs-selector-class">.match</span>(/matrix(([-\d., ]+))/);
  if (matrixMatch) {
    const values = matrixMatch<span class="hljs-selector-attr">[1]</span><span class="hljs-selector-class">.split</span>(",")<span class="hljs-selector-class">.map</span>(Number);
    const <span class="hljs-selector-tag">a</span> = values<span class="hljs-selector-attr">[0]</span>, <span class="hljs-selector-tag">b</span> = values<span class="hljs-selector-attr">[1]</span>;
    const rad = Math<span class="hljs-selector-class">.atan2</span>(b, a);
    return rad * (<span class="hljs-number">180</span> / Math.PI);
  }

  return <span class="hljs-number">0</span>;
}

<span class="hljs-comment">// æ—‹è½¬å›¾åƒ</span>
function <span class="hljs-built_in">draw</span>(deg: number) {
  ctx<span class="hljs-selector-class">.clearRect</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, displayWidth, displayHeight); <span class="hljs-comment">// æ¸…é™¤ç”»å¸ƒ</span>
  ctx<span class="hljs-selector-class">.save</span>();

  <span class="hljs-comment">// å°† canvas çš„æ—‹è½¬ä¸­å¿ƒè®¾ç½®ä¸ºä¸­å¿ƒ</span>
  ctx<span class="hljs-selector-class">.translate</span>(displayWidth / <span class="hljs-number">2</span>, displayHeight / <span class="hljs-number">2</span>);
  ctx<span class="hljs-selector-class">.rotate</span>((deg * Math.PI) / <span class="hljs-number">180</span>); <span class="hljs-comment">// æ—‹è½¬è§’åº¦</span>

  <span class="hljs-comment">// ç»˜åˆ¶å›¾åƒ</span>
  ctx<span class="hljs-selector-class">.drawImage</span>(img, -imgSize / <span class="hljs-number">2</span>, -imgSize / <span class="hljs-number">2</span>, imgSize, imgSize);
  
  <span class="hljs-comment">// æ¢å¤çŠ¶æ€</span>
  ctx<span class="hljs-selector-class">.restore</span>();
}
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.excelsite.cn%2Fviews%2FshapeGeometry" target="_blank" title="https://www.excelsite.cn/views/shapeGeometry" ref="nofollow noopener noreferrer">ç¤ºä¾‹åœ°å€</a></p>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>é€šè¿‡å¯¹ <code>canvas</code> çš„å®½é«˜è®¡ç®—ã€é€æ˜åº¦æ§åˆ¶ä»¥åŠæ—‹è½¬çš„å¤„ç†ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®ç°å›¾åƒçš„é€æ­¥æ‰«ææ•ˆæœã€‚ç»“åˆ AI å›¾åƒç”Ÿæˆæç¤ºï¼Œæˆ‘ä»¬å¯ä»¥åˆ›é€ å‡ºæœªæ¥æ„Ÿåè¶³çš„åŠ¨æ€æ‰«ææ•ˆæœå›¾åƒï¼Œåº”ç”¨äºå„ç§è®¾è®¡åœºæ™¯ä¸­ã€‚è¿™ç§æŠ€æœ¯ä¸ä»…é€‚ç”¨äºæ¡å½¢ç æ‰«æã€å›¾åƒåŠ è½½åŠ¨ç”»ï¼Œè¿˜å¯ä»¥ç”¨äºåˆ›æ„è®¾è®¡å’ŒåŠ¨æ€æ˜¾ç¤ºæ•ˆæœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯ï¼Œä¸æ­¢äº AIã€‚12 æœˆ 20 æ—¥ï¼ŒFEDAY 2025ï¼Œé•¿æ²™è§ï¼]]></title>    <link>https://juejin.cn/post/7573300346261880886</link>    <guid>https://juejin.cn/post/7573300346261880886</guid>    <pubDate>2025-11-17T04:53:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573300346261880886" data-draft-id="7573180788578762793" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯ï¼Œä¸æ­¢äº AIã€‚12 æœˆ 20 æ—¥ï¼ŒFEDAY 2025ï¼Œé•¿æ²™è§ï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-11-17T04:53:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£•æ³¢"/> <meta itemprop="url" content="https://juejin.cn/user/3579665590263101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯ï¼Œä¸æ­¢äº AIã€‚12 æœˆ 20 æ—¥ï¼ŒFEDAY 2025ï¼Œé•¿æ²™è§ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3579665590263101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£•æ³¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:53:40.000Z" title="Mon Nov 17 2025 04:53:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åå¹´ï¼Œä¸€æ®µæ—…ç¨‹ã€‚2015 å¹´é¦–å±Š FEDAY åœ¨å¹¿å·ä¸¾åŠï¼Œ2025 å¹´ FEDAY è¿æ¥å®ƒçš„ç¬¬åä¸ªå¹´å¤´ã€‚åå¹´é—´ï¼Œæˆ‘ä»¬èµ°è¿‡åŒ—äº¬ã€å¹¿å·ã€æ­å·ã€æˆéƒ½ã€å¦é—¨ï¼Œæ¯ä¸€æ¬¡ç›¸èšï¼Œéƒ½ç•™ä¸‹äº†å±äºå‰ç«¯å¼€å‘è€…çš„çƒ­åº¦ä¸è®°å¿†ã€‚</p>
<p>FEDAY æ˜¯ä¸€åœºå‰ç«¯äººçš„å¹´åº¦å›¢èšï¼Œä¹Ÿæ˜¯å¤§å®¶ä¸€èµ·æ¢ä¸ªåŸå¸‚ã€æ¢ä¸ªé£æ™¯ã€æ¢ç§å¿ƒæƒ…çš„æ—…é€”ã€‚å½“ä»£ç ã€åŸå¸‚ä¸æœ‹å‹äº¤ç»‡åœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å°±çŸ¥é“è¿™å°±æ˜¯ FEDAY çš„æ„ä¹‰ã€‚</p>
<p>ä»å»å¹´å¼€å§‹ï¼Œæˆ‘ä»¬å°† FEDAY çš„ä¸»é¢˜å®šä¸ºã€Œå‰ç«¯ï¼Œä¸æ­¢äº AIã€ã€‚AI ä¸åªæ˜¯è¯é¢˜ï¼Œå®ƒæ­£åœ¨é‡å¡‘æˆ‘ä»¬çš„å·¥å…·ã€å·¥ä½œæ–¹å¼ä¸æ€è€ƒè¾¹ç•Œã€‚è€Œ FEDAY çš„ä½¿å‘½ï¼Œå°±æ˜¯åœ¨è¿™åœºå·¨å˜ä¸­ï¼Œç»§ç»­ä¸ºå‰ç«¯äººæä¾›æ–¹å‘ã€çµæ„Ÿä¸è¿æ¥ã€‚</p>
<p>2025 å¹´ 12 æœˆ 20 æ—¥ï¼ŒFEDAY 2025 å°†åœ¨é•¿æ²™ä¸¾åŠã€‚ä»Šå¹´è®¡åˆ’ç»™å°†å¸¦æ¥ 10 ä¸ªæ¼”è®²ä¸»é¢˜ï¼Œé‚€è¯·æ¥è‡ªè¡Œä¸šå†…çš„å¤§ç‰›ï¼Œä¸å¤§å®¶ä¸€èµ·æ¢è®¨ AI æ—¶ä»£çš„å‰ç«¯å¼€å‘ã€‚</p>
<p>å¤§ä¼šç½‘ç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffequan.com%2F2025" target="_blank" title="https://fequan.com/2025" ref="nofollow noopener noreferrer">fequan.com/2025</a>Â </p>
<p>ä»Šå¹´æˆ‘ä»¬å–æ¶ˆäº† VIP é—¨ç¥¨ï¼Œæ”¹ä¸ºä¼šåè‡ªæ„¿ AA èšé¤ï¼Œå¤§å®¶å›´åä¸€æ¡Œï¼Œç•…èŠæŠ€æœ¯ã€ç†æƒ³ä¸ç”Ÿæ´»ã€‚æ²¡æœ‰è·ç¦»ï¼Œæ²¡æœ‰é—¨æ§›ï¼Œåªæœ‰å¼€å‘è€…ä¹‹é—´æœ€çœŸè¯šçš„å…±é¸£ã€‚</p>
<p>åå¹´ FEDAYï¼Œä¸€è·¯å‰è¡Œã€‚æˆ‘ä»¬ç›¸ä¿¡ï¼šå‰ç«¯ï¼Œä¸æ­¢äº AIã€‚</p>
<p>12 æœˆ 20 æ—¥ï¼Œé•¿æ²™è§ã€‚è®©æˆ‘ä»¬ç»§ç»­ï¼Œä¸€èµ·åˆ›é€ æ–°çš„åå¹´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®‰åˆ©ä¸€ä¸ªå…¨æ ˆå¼€å‘ç¥å™¨ï¼šWeaveFox å¸®ä½ 5åˆ†é’Ÿç”Ÿæˆå®Œæ•´çš„å…¨æ ˆWebåº”ç”¨]]></title>    <link>https://juejin.cn/post/7573192460869206026</link>    <guid>https://juejin.cn/post/7573192460869206026</guid>    <pubDate>2025-11-17T05:12:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573192460869206026" data-draft-id="7572961448537964571" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®‰åˆ©ä¸€ä¸ªå…¨æ ˆå¼€å‘ç¥å™¨ï¼šWeaveFox å¸®ä½ 5åˆ†é’Ÿç”Ÿæˆå®Œæ•´çš„å…¨æ ˆWebåº”ç”¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T05:12:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LucianaiB"/> <meta itemprop="url" content="https://juejin.cn/user/1269294586664749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®‰åˆ©ä¸€ä¸ªå…¨æ ˆå¼€å‘ç¥å™¨ï¼šWeaveFox å¸®ä½ 5åˆ†é’Ÿç”Ÿæˆå®Œæ•´çš„å…¨æ ˆWebåº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1269294586664749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LucianaiB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:12:42.000Z" title="Mon Nov 17 2025 05:12:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ–°ä¸€ä»£å…¨æ ˆWebåº”ç”¨â€”â€”WeaveFox</h2>
<p>ä½ æ˜¯å¦æ›¾æœ‰ä¸€ä¸ªæƒŠè‰³çš„ Web æƒ³æ³•ï¼Œå´å¡åœ¨â€œä¸ä¼šå†™åç«¯â€â€œä¸æ‡‚æ•°æ®åº“â€â€œéƒ¨ç½²å¤ªå¤æ‚â€ä¸Šï¼Ÿ<br/>
ç°åœ¨ï¼Œè¿™ä¸€åˆ‡éƒ½ä¸å†æ˜¯éšœç¢ã€‚</p>
<p><strong>WeaveFox å…¨æ ˆåº”ç”¨ç”Ÿæˆå™¨æ­£å¼ä¸Šçº¿ï¼</strong><br/>
åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°ä½ çš„éœ€æ±‚ï¼ŒWeaveFox å°±èƒ½ä¸ºä½ è‡ªåŠ¨ç”Ÿæˆâ€”â€”<br/>
âœ… å®Œæ•´å‰ç«¯ç•Œé¢<br/>
âœ… åç«¯ä¸šåŠ¡é€»è¾‘<br/>
âœ… æ•°æ®åº“ç»“æ„ä¸è¿æ¥<br/>
âœ… ä¸€é”®éƒ¨ç½²ä¸Šçº¿</p>
<p>è¿‡å»ï¼ŒAI ç”Ÿæˆçš„ Web åº”ç”¨å¤§å¤šåœç•™åœ¨â€œå•æœºå°æ¸¸æˆâ€å±‚é¢ï¼Œæ¯”å¦‚ä¸€ä¸ªå•æœºç®€å•çš„ä¿„ç½—æ–¯æ–¹å—ã€‚<br/>
è€Œä»Šå¤©ï¼Œ<strong>WeaveFox èƒ½ç›´æ¥æŠŠè¿™ç±»é¡¹ç›®å‡çº§ä¸ºå¸¦ç”¨æˆ·ç³»ç»Ÿã€å®æ—¶æ•°æ®ã€å¤šè§’è‰²æƒé™çš„è”æœºåº”ç”¨</strong>â€”â€”ç”šè‡³èƒ½å¤åˆ»çœŸå®çš„ä¼ä¸šçº§é¡¹ç›®ï¼</p>
<p>æˆ‘ä»¬ä»¥ç¨‹åºå‘˜åœˆå†…å¹¿ä¸ºäººçŸ¥çš„å®æˆ˜é¡¹ç›® <strong>ã€Œé»‘é©¬ç¨‹åºå‘˜Â·è‹ç©¹å¤–å–ã€</strong> ä¸ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦åç«¯æ•°æ®åº“ï¼Œä¸€ä¸ªä¼ä¸šçº§é¡¹ç›®å®æˆ˜ä½œä¸ºä¾‹å­ï¼Œçœ‹çœ‹ WeaveFox ç©¶ç«Ÿæœ‰å¤šå¼ºã€‚</p>
<h2 data-id="heading-1">ğŸ¯æ•ˆæœå±•ç¤ºï¼šçœ¼è§ä¸ºå®</h2>
<p>è¯´çš„å†å¥½ï¼Œä¸å¦‚çœ‹æ•ˆæœå±•ç¤ºæ¥çš„åˆ©ç´¢ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹æ•ˆæœå†è¿›è¡Œå®è·µã€‚</p>
<p><strong>å±•ç¤ºå›¾1ï¼š</strong> 1:1è¿˜åŸã€Œè‹ç©¹å¤–å–ã€UI</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ff64bad17a94a8e830cb0df3d927dd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=IDnK4fwWQ2WRrstJB1j%2Fa2uKSs4%3D" alt="" loading="lazy"/></p>
<p><strong>å±•ç¤ºå›¾2ï¼š</strong> ä¸€ä¸ªçœŸæ­£çš„å…¨æ ˆWebåº”ç”¨ã€Œè‹ç©¹å¤–å–ã€ï¼Œå¸¦æ•°æ®åº“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/388ba42bdb5f493da0932e50a8746c01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=A3c3LNwLJxSUbOV%2B1A4Wil72iJU%3D" alt="" loading="lazy"/></p>
<p>ä¼ ç»Ÿå¼€å‘éœ€æ•°å‘¨æ—¶é—´ï¼Œæ¶‰åŠ Vue/React å‰ç«¯ + Spring Boot åç«¯ + MySQL + æ¥å£è”è°ƒ + éƒ¨ç½²è¿ç»´â€¦â€¦<br/>
è€Œç”¨ <strong>WeaveFoxï¼Œ5 åˆ†é’Ÿæå®š</strong>ã€‚</p>
<h2 data-id="heading-2">ï¸ğŸ”§æ‰‹æŠŠæ‰‹å¤åˆ»ä¸€ä¸ªå¸¦æ•°æ®åº“ä¼ä¸šçº§é¡¹ç›®ã€Œè‹ç©¹å¤–å–ã€</h2>
<h3 data-id="heading-3">1ï¸âƒ£å›¾ç‰‡è½¬ä»£ç ï¼š1:1 è¿˜åŸ</h3>
<p>æ—¢ç„¶AIå¤åˆ»ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸å¹²ï¼Œç›´æ¥æŠŠé»‘é©¬çš„"è‹ç©¹å¤–å–"çš„æ•ˆæœå›¾ï¼Œæ‰”ç»™ä»–ï¼Œå¤åˆ»å°±è¡Œäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/674d8ef234374ee3b1e250a558b282e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=0WhJ4rTvMeZ47SzN3crjS09iJqE%3D" alt="" loading="lazy"/></p>
<p>çœŸæ­£çš„å¤åˆ»å•Šï¼Œè¿å°å›¾æ ‡éƒ½å¤åˆ»ä¸€æ¨¡ä¸€æ ·ã€‚ 1:1 è¿˜åŸçš„æœ‰ç‚¹ä¸œè¥¿ã€‚</p>
<p>ğŸ’¡ ä¸ç”¨æ‰‹åˆ‡å›¾ã€ä¸ç”¨å†™ CSSï¼ŒUI ç›´æ¥â€œå¤åˆ¶ç²˜è´´â€è¿›ä½ çš„é¡¹ç›®ï¼Œè¿˜åŒ…å«æºç ã€‚</p>
<h3 data-id="heading-4">2ï¸âƒ£å…¨æ ˆåˆ›ä½œæ— è¾¹ç•Œï¼šåç«¯é€»è¾‘ç²¾å‡†ç”Ÿæˆ</h3>
<p>åªéœ€åœ¨ç½‘ç«™è¾“å…¥ä¸€å¥è¯æè¿°ï¼š</p>
<p>å¸®æˆ‘åšä¸€ä¸ªç±»ä¼¼â€˜è‹ç©¹å¤–å–â€™çš„å…¨æ ˆå¤–å–ç³»ç»Ÿï¼ŒåŒ…å«ç”¨æˆ·ç‚¹é¤é¡µé¢ã€å•†å®¶åå°ç®¡ç†ã€è®¢å•çŠ¶æ€æ›´æ–°å’Œèœå“åˆ†ç±»åŠŸèƒ½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ded7cdbe3b84c17af2b439e90eff2a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=bmUr5692%2FuE4n7Yh0qKfR05Sh34%3D" alt="" loading="lazy"/></p>
<p>WeaveFox ä¼šï¼š</p>
<ul>
<li>ä¸»åŠ¨è¿½é—®ç»†èŠ‚ï¼ˆå¦‚æ˜¯å¦éœ€è¦æ·»åŠ éœ€æ±‚ï¼Ÿè®¢å•æ˜¯å¦æ”¯æŒå–æ¶ˆï¼Ÿï¼‰</li>
<li>è‡ªåŠ¨æ¢³ç†ä¸šåŠ¡æµç¨‹</li>
<li>ç”Ÿæˆå‰åç«¯è”åŠ¨çš„å®Œæ•´é€»è¾‘ï¼ˆå¦‚â€œç”¨æˆ·ä¸‹å• â†’ å•†å®¶æ¥å• â†’ çŠ¶æ€åŒæ­¥â€ï¼‰</li>
</ul>
<p>ä»–ä¼šå…ˆç»§ç»­éœ€æ±‚æ”¶é›†ï¼Œå¦‚æœæœ‰ç‰¹æ®Šçš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹ä»–æï¼Œåœ¨æ”¶é›†éœ€æ±‚åï¼Œä¸æ˜¯ç›²ç›®çš„ç”Ÿæˆä»£ç ï¼Œè€Œæ˜¯ä¼šæ•´ç†éœ€æ±‚ï¼Œä½¿éœ€æ±‚åˆç†çš„èå…¥é¡¹ç›®ã€‚</p>
<h3 data-id="heading-5">3ï¸âƒ£æ•°æ®åº“æ„å»ºï¼šè‡ªåŠ¨è¿æ¥</h3>
<p>æ•°æ®åº“ç®€å•æ¥è¯´å°±æ˜¯å­˜å‚¨æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨ä»¥å¾€çš„AIç”ŸæˆWebåº”ç”¨æ˜¯æ²¡æœ‰åŠæ³•å¤„ç†çš„ï¼Œä»–æ²¡æœ‰æ”¾çš„ä½ç½®ï¼Œå¦‚æœåœ¨æœ¬åœ°å¾€å¾€éœ€è¦å»ºè¡¨ã€å†™ SQLã€é…ç½®æ•°æ®åº“è¿æ¥ã€‚è€Œåœ¨ WeaveFox ä¸­ï¼š</p>
<ul>
<li>æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œ<strong>è‡ªåŠ¨åˆ›å»ºã€Œç”¨æˆ·è¡¨ã€ã€Œèœå“åˆ†ç±»è¡¨ã€ã€Œè®¢å•è¡¨ã€ç­‰</strong></li>
<li>å­—æ®µæ™ºèƒ½æ¨æ–­ï¼ˆå¦‚è®¢å•è¡¨å«ï¼šè®¢å•IDã€ç”¨æˆ·IDã€èœå“åˆ—è¡¨ã€çŠ¶æ€ã€æ—¶é—´æˆ³ï¼‰</li>
<li>å†…ç½®æ•°æ®åº“è¿æ¥ä¸ ORM æ˜ å°„ï¼Œ<strong>ä½ å®Œå…¨ä¸ç”¨ç¢° SQL æˆ–é…ç½®æ–‡ä»¶</strong></li>
</ul>
<p>ğŸ—ƒï¸ æ•°æ®å­˜å“ªï¼Ÿæ€ä¹ˆæŸ¥ï¼ŸWeaveFox å…¨åŒ…äº†ã€‚ è‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®åº“ç»“æ„ä»¥åŠå…·ä½“çš„æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abf473f809a142c794cf3b1b0a53ea0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=dGIcv%2BYiB9K%2FNDGRXBjA3Ec%2BzwA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">4ï¸âƒ£å¤šä¸“å®¶ååŒï¼šåƒå›¢é˜Ÿä¸€æ ·å¼€å‘</h3>
<p>æˆ‘æœ€æ¬£èµçš„æ˜¯ä»–å–„äºæ„å»ºå¤šä¸ªä¸“ä¸šæ™ºèƒ½ä½“ååŒå·¥ä½œçš„æœºåˆ¶ï¼šç”±äº§å“è®¾è®¡ä¸“å®¶æ’°å†™äº§å“æ–‡æ¡£ï¼ŒUI/UX è§†è§‰è®¾è®¡ä¸“å®¶è´Ÿè´£æ•´ä½“ç•Œé¢è®¾è®¡ï¼Œä»£ç ç”Ÿæˆä¸“å®¶ä¸“æ³¨é«˜æ•ˆç¼–ç â€”â€”æ¯ä¸ªæ™ºèƒ½ä½“ä¸“æ³¨äºè‡ªå·±æœ€æ“…é•¿çš„é¢†åŸŸï¼Œå®ç°åˆ†å·¥æ˜ç¡®ã€æ— ç¼åä½œï¼Œæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ä¸è´¨é‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a07ddf48bddc4eddb0a4ffaad4d2877b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=5DJKV3c2Kg%2BvT7xeiS5eSGWWdo4%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">5ï¸âƒ£ä¸€é”®éƒ¨ç½²ï¼šå…è¿ç»´ï¼Œç›´æ¥ä¸Šçº¿</h3>
<p>ç”Ÿæˆçš„ä»£ç å¯ç›´æ¥æäº¤è‡³ GitHub ä»“åº“ï¼Œå®ç°ç‰ˆæœ¬å¯æ§ã€å†å²å¯æº¯ï¼›æ›´æ”¯æŒä¸€é”®éƒ¨ç½²ï¼Œè‡ªåŠ¨ç”Ÿæˆå¯è®¿é—®çš„ Web åº”ç”¨é“¾æ¥ä¸äºŒç»´ç ï¼Œéšæ—¶éšåœ°åˆ†äº«ç»™å›¢é˜Ÿæˆ–å®¢æˆ·â€”â€”çœŸæ­£å®ç°â€œç”Ÿæˆå³ä¸Šçº¿â€ï¼Œè®©åˆ›æ„ç§’å˜å¯ä½“éªŒçš„äº§å“ã€‚</p>
<p>ğŸŒ ä½ çš„åˆ›æ„ç¬é—´å˜æˆå¯åˆ†äº«ã€å¯æ¼”ç¤ºã€å¯äº¤ä»˜çš„äº§å“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b2bddbc2bd342ce92513bc6dc9bb2f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=%2FsOVG63kMDPblPjIOgpiciEoGiM%3D" alt="" loading="lazy"/></p>
<p>åŒæ—¶è¿˜å¯ä»¥è¦æ±‚æŒ‡å®šçš„ä»£ç è¿›è¡Œåˆå¹¶å¤„ç†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed7434082cb84a4eb6e367036c850bc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961162&amp;x-signature=PWCcDEzysuGApjwy94c9FYU3eDE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">ğŸš€ æœªæ¥å·²æ¥ï¼šå‘Šåˆ«æŠ€æœ¯é—¨æ§›ï¼Œæ‹¥æŠ±åˆ›æ„è‡ªç”±</h2>
<p>ä½ æ˜¯å¦æ›¾æœ‰è¿‡ä¸€ä¸ª Web åº”ç”¨çš„æƒ³æ³•ï¼Œå´å› ä¸ºéœ€è¦åŒæ—¶å¤„ç†å‰ç«¯ã€åç«¯ã€æ•°æ®åº“å’Œéƒ¨ç½²è€Œè¿Ÿè¿Ÿæ²¡æœ‰åŠ¨æ‰‹ï¼Ÿ</p>
<p>WeaveFox æ˜¯ä¸€ä¸ªå°è¯•é™ä½å…¨æ ˆå¼€å‘é—¨æ§›çš„å·¥å…·ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…å«å‰ç«¯ç•Œé¢ã€åç«¯é€»è¾‘ã€æ•°æ®åº“ç»“æ„çš„å®Œæ•´é¡¹ç›®ï¼Œå¹¶æä¾›ä¸€é”®éƒ¨ç½²åŠŸèƒ½ã€‚</p>
<p>å¯¹äºå¸Œæœ›å¿«é€ŸéªŒè¯æƒ³æ³•ã€æ­å»ºåŸå‹ï¼Œæˆ–å¸Œæœ›å‡å°‘é‡å¤æ€§ç¼–ç å·¥ä½œçš„äººæ¥è¯´ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–°çš„å¯èƒ½æ€§ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ä¸Šä¼ ç•Œé¢æˆªå›¾ï¼Œå°è¯•è¿˜åŸç±»ä¼¼â€œè‹ç©¹å¤–å–â€è¿™æ ·çš„å¤æ‚é¡µé¢ç»“æ„ï¼›ä¹Ÿå¯ä»¥é€šè¿‡æ–‡å­—æè¿°ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆç”¨æˆ·ç‚¹é¤ã€è®¢å•ç®¡ç†ç­‰ä¸šåŠ¡æµç¨‹çš„ä»£ç æ¡†æ¶ã€‚</p>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿä¼šä¸»åŠ¨è¯¢é—®ç»†èŠ‚ä»¥å®Œå–„éœ€æ±‚ï¼Œå¹¶è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„ã€å»ºç«‹å‰åç«¯è¿æ¥ï¼Œé¿å…æ‰‹åŠ¨é…ç½®çš„ç¹çã€‚ç”Ÿæˆçš„ä»£ç å¯å¯¼å‡ºè‡³ GitHubï¼Œä¹Ÿæ”¯æŒç›´æ¥éƒ¨ç½²ä¸ºå¯è®¿é—®çš„åœ¨çº¿åº”ç”¨ã€‚</p>
<p>å®ƒä¸æ›¿ä»£å¼€å‘è€…ï¼Œè€Œæ˜¯ä¸ºé‚£äº›å¸Œæœ›æ›´å¿«çœ‹åˆ°æƒ³æ³•è½åœ°ã€æˆ–ç¼ºä¹å…¨æ ˆæŠ€æœ¯èƒŒæ™¯çš„äººï¼Œæä¾›ä¸€ä¸ªèµ·ç‚¹ã€‚æ— è®ºæ˜¯äº§å“åŸå‹ã€è¯¾ç¨‹é¡¹ç›®ï¼Œè¿˜æ˜¯ä¸ªäººåˆ›æ„çš„åˆæ­¥å®ç°ï¼Œå®ƒéƒ½å¯ä»¥æˆä¸ºè¾…åŠ©å·¥å…·ä¹‹ä¸€ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ç§æ–¹å¼ï¼Œèƒ½æ›´å¿«åœ°æŠŠä¸€ä¸ªæƒ³æ³•å˜æˆä¸€ä¸ªå¯äº¤äº’çš„ Web åº”ç”¨ï¼Œä¸å¦¨å°è¯•è¾“å…¥ä½ çš„ç¬¬ä¸€ä¸ªéœ€æ±‚ï¼Œçœ‹çœ‹ç»“æœå¦‚ä½•ã€‚</p>
<p>ğŸ‘‰ ç°åœ¨å°±è¯•è¯•ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.weavefox.cn%2F" target="_blank" title="https://www.weavefox.cn/" ref="nofollow noopener noreferrer">www.weavefox.cn/</a></p>
<p>è¾“å…¥ä½ çš„ç¬¬ä¸€ä¸ªéœ€æ±‚ï¼Œè§è¯å…¨æ ˆåº”ç”¨çš„è¯ç”Ÿï¼</p>
<p>ğŸ¨ <strong>å°tips ï¼šå¯ä»¥é¡ºå¸¦å‚åŠ  WeaveFox ä¸ SEE Conf è”åˆå‘èµ·çš„ã€ŒAI è‰ºæœ¯å®¶åˆ›ä½œå¤§èµ›ã€</strong><br/>
ç”¨ WeaveFox æ‰“é€ ä½ çš„ AI åŸåˆ› Web åº”ç”¨ï¼Œèµ¢å–è£èª‰ä¸å¥–åŠ±ï¼<br/>
ğŸ‘‰ äº†è§£å¤§èµ›è§„åˆ™ä¸å‚èµ›æ–¹å¼ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.yuque.com%2Fweavefox%2Fevent%2Fseeconf2025_ai_artist" target="_blank" title="https://www.yuque.com/weavefox/event/seeconf2025_ai_artist" ref="nofollow noopener noreferrer">www.yuque.com/weavefox/evâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[claudeæ–­ä¾›Traeåï¼Œåˆšåˆšå‘å¸ƒçš„SOLOæ­£å¼ç‰ˆèƒ½å¦æ•‘åœº]]></title>    <link>https://juejin.cn/post/7573234521364004890</link>    <guid>https://juejin.cn/post/7573234521364004890</guid>    <pubDate>2025-11-17T05:17:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573234521364004890" data-draft-id="7572939250586517555" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="claudeæ–­ä¾›Traeåï¼Œåˆšåˆšå‘å¸ƒçš„SOLOæ­£å¼ç‰ˆèƒ½å¦æ•‘åœº"/> <meta itemprop="keywords" content="Trae,Solo"/> <meta itemprop="datePublished" content="2025-11-17T05:17:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤å¶AIåŠ æ²¹ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/1063982987485726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            claudeæ–­ä¾›Traeåï¼Œåˆšåˆšå‘å¸ƒçš„SOLOæ­£å¼ç‰ˆèƒ½å¦æ•‘åœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982987485726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤å¶AIåŠ æ²¹ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:17:14.000Z" title="Mon Nov 17 2025 05:17:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½å‘€ï¼Œæˆ‘æ˜¯å¤å¶ï¼Œæ·±åº¦AIç¼–ç¨‹ä½¿ç”¨è€…ï¼Œä¸“æ³¨äºåˆ†äº«AIç¼–ç¨‹æ–¹é¢çš„ä½¿ç”¨æŠ€å·§ã€ç»éªŒä»¥åŠå‰æ²¿èµ„è®¯ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼Œä¸€èµ·å­¦ä¹ ï¼Œå…±åŒè¿›æ­¥ã€‚</p>
<p>è¯´å®è¯ï¼ŒTraeå›½é™…ç‰ˆçš„SOLOå†…æµ‹å¥½ä¹…äº†ï¼Œä»7æœˆä»½å°±å¼€å§‹äº†ï¼Œå°±åœ¨æ˜¨å¤©ï¼Œæˆ‘ç»ˆäºæ”¶åˆ°äº†Trae SOLOæ­£å¼ç‰ˆçš„æ›´æ–°--V3.0.0ç‰ˆæœ¬ï¼Œå…ˆçœ‹ä¸‹V3.0.0éƒ½æœ‰å“ªäº›æ›´æ–°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d3c921412214d459a67d9c048c18b93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=gc4bRIjA98Dj44cpC4mtuyLeMqw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬æ¬¡SOLOæ­£å¼ç‰ˆå‘å¸ƒè¿˜æ˜¯åªé’ˆå¯¹Traeå›½é™…ç‰ˆï¼Œå›½å†…ç‰ˆæš‚æœªå¼€æ”¾SOLOã€‚</p>
<p>è¿™2å¤©æ·±åº¦ä½“éªŒäº†ä¸‹SOLOæ­£å¼ç‰ˆï¼Œä¸å¾—ä¸è¯´ï¼Œåœ¨claudeæ–­ä¾›Traeçš„åæ—¶ä»£ï¼ŒSOLOæ­£å¼ç‰ˆæ²¡æœ‰è®©æˆ‘å¤±æœ›ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€SOLOæ­£å¼ç‰ˆé‡ç‚¹æ›´æ–°</h3>
<p>ç»è¿‡2å¤©çš„æ·±åº¦ä½“éªŒï¼Œæˆ‘è®¤ä¸ºSOLOæ­£å¼ç‰ˆç›¸æ¯”å†…æµ‹ç‰ˆï¼Œå€¼å¾—æ³¨æ„çš„æ›´æ–°æœ‰å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>æ–°å¢æ™ºèƒ½ä½“--<code>SOLO Coder</code>ï¼Œèƒ½ç²¾å‡†çš„å¤„ç†å¤æ‚ä»»åŠ¡</li>
<li>æ”¯æŒå¤šä»»åŠ¡ç®¡ç†ï¼Œå¯åŒæ—¶å¼€å¯å¤šä¸ªå¯¹è¯</li>
<li>æ–°å¢ä»£ç å˜æ›´å·¥å…·ï¼Œæ›´ç›´è§‚çš„æŸ¥çœ‹ä»£ç å˜æ›´</li>
<li>å·¥å…·é¢æ¿æ›´æ–°ï¼Œæ“ä½œèµ·æ¥æ›´ä¾¿æ·</li>
<li>è®¾ç½®åŠŸèƒ½ä¼˜åŒ–</li>
</ul>
<h4 data-id="heading-1">1ã€<code>SOLO Coder</code>æ™ºèƒ½ä½“</h4>
<p>æœ¬æ¬¡SOLOæ­£å¼ç‰ˆå‘å¸ƒï¼Œæ–°å¢äº†ä¸€ä¸ªå†…ç½®æ™ºèƒ½ä½“ï¼Œé‚£å°±æ˜¯<code>SOLO Coder</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e63b53fc463440494229b450bf68fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=8sdSECGUF0angXXgyM8pPFIFd4A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç”¨è¿‡SOLOå†…æµ‹ç‰ˆçš„äººéƒ½çŸ¥é“ï¼ŒSOLOä¹‹å‰åªæœ‰ä¸€ä¸ªå†…ç½®æ™ºèƒ½ä½“ï¼Œé‚£å°±æ˜¯SOLO Builderï¼Œç¡®å®è¿˜ä¸é”™ï¼Œä½†æ˜¯ç”¨ä¹…äº†å°±çŸ¥é“ï¼Œç»™å®ƒä¸€ä¸ªéœ€æ±‚ï¼Œè®©å®ƒä»0åˆ°1å®ç°ï¼Œç¡®å®è¿˜è¡Œï¼Œä½†æ˜¯ä¸€æ—¦é‡åˆ°é€»è¾‘è¾ƒä¸ºå¤æ‚çš„é—®é¢˜éœ€è¦ï¼Œå®ƒéƒ½è§£å†³ä¸äº†ã€‚</p>
<p>ä»æˆ‘çš„é¡¹ç›®ç»å†æ¥çœ‹ï¼Œæˆ‘æœ‰å¤šæ¬¡é‡åˆ°é€»è¾‘è¾ƒä¸ºå¤æ‚çš„é—®é¢˜éœ€è¦ä¿®å¤ï¼ŒSOLO Builderå¾€å¾€ç»è¿‡åå‡ è½®å¯¹è¯ï¼Œéƒ½æ‰¾ä¸åˆ°é—®é¢˜çš„æ ¹æºï¼Œæœ€åä¸å¾—å·²åˆ‡æ¢åˆ°å…¶ä»–æ™ºèƒ½ä½“å’Œæ¨¡å‹æ‰é¡ºåˆ©è§£å†³çš„ã€‚</p>
<p>ä½†æ˜¯ç°åœ¨æœ‰äº†<code>SOLO Coder</code>å°±ä¸ä¸€æ ·äº†ï¼Œæ ¹æ®å®˜æ–¹çš„è¯´æ³•ï¼Œå®ƒå°±æ˜¯ä¸ºå¤æ‚é¡¹ç›®è€Œç”Ÿçš„ï¼Œè€Œæ®æˆ‘çš„å®æµ‹æƒ…å†µæ¥çœ‹ï¼Œç¡®å®æ²¡æœ‰å¹ï¼Œå®ƒå¾€å¾€èƒ½å¾ˆç²¾å‡†çš„å¸®æˆ‘æŠŠå¤æ‚é—®é¢˜ä¿®å¤ï¼Œè¿™ç¬”ä¹‹å‰SOLO Builderä¿®å¤é—®é¢˜ä½“éªŒå¥½å¤ªå¤šäº†ã€‚</p>
<p>å¦‚æœä½ ä»¥ä¸º<code>SOLO Coder</code>åªæ˜¯ä¸€ä¸ªç®€å•çš„æ™ºèƒ½ä½“ï¼Œé‚£ä½ å°±å¤§é”™ç‰¹é”™äº†ï¼Œå®ƒè¿˜å¯ä»¥è‡ªåŠ¨è°ƒç”¨å…¶ä»–çš„æ™ºèƒ½ä½“æ¥å®Œæˆä»»åŠ¡ï¼Œé™¤äº†å†…ç½®äº†ä¸€ä¸ªæœç´¢æ™ºèƒ½ä½“å¯ä»¥è¢«è°ƒç”¨ä»¥å¤–ï¼Œæ‰€æœ‰çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“éƒ½å¯ä»¥è¢«å®ƒè°ƒç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb3971914fbe4f9aaed158539adc3574~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=47H0hvKoHL9FaEB9EcABIKVEymY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»ä¸Šè¿°æˆªå›¾å¯ä»¥çœ‹å‡ºï¼Œ<code>SOLO Coder</code>åˆå§‹åªèƒ½è°ƒç”¨ä¸€ä¸ªå†…ç½®çš„æœç´¢æ™ºèƒ½ä½“ï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½è®©å…¶ä»–çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“è¢«<code>SOLO Coder</code>è°ƒç”¨å‘¢ï¼Œéœ€è¦å»æ™ºèƒ½ä½“é¢æ¿ä¸­ç¼–è¾‘éœ€è¦è°ƒç”¨çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5dab12a73ec46dea8cf13c499e8d62e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=B53nNjK%2BXNi8wOyIbkbevcSawvU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰“å¼€ä¸Šè¿°æˆªå›¾ä¸­è¿™ä¸ªå¼€å…³ä»¥åï¼Œå¡«å†™æ™ºèƒ½ä½“æ ‡è¯†å’Œæç¤ºè¯ï¼Œç‚¹å‡»ä¿å­˜åï¼Œå°±å¯ä»¥åœ¨<code>SOLO Coder</code>æ™ºèƒ½ä½“çš„ç¼–è¾‘é¢æ¿ä¸­çœ‹åˆ°è¿™ä¸ªè‡ªå®šä¹‰æ™ºèƒ½ä½“äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a958656668484a2790acf0232e5c853b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=3USOmLp9pwZW4lliozKabuGrufU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥è‡ªä¸»é€‰æ‹©å“ªäº›è‡ªå®šä¹‰æ™ºèƒ½ä½“å¯ä»¥è¢«è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æç¤ºè¯æ¥å‘ŠçŸ¥<code>SOLO Coder</code>ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹è°ƒç”¨å“ªä¸ªæ™ºèƒ½ä½“ã€‚</p>
<p>åŒæ ·çš„ï¼Œ<code>SOLO Coder</code>è¿˜å¯ä»¥è°ƒç”¨ä¸åŒçš„MCPå·¥å…·ï¼Œè¿™ä¸ªåœ¨éœ€è¦ä½¿ç”¨MCPå·¥å…·çš„åœºæ™¯ä¹Ÿååˆ†æœ‰ç”¨ï¼Œä¹‹å‰æˆ‘æƒ³ä½¿ç”¨mcpçš„æ—¶å€™ï¼Œè¿˜è¦åˆ‡æ¢åˆ°å…¶ä»–çš„æ™ºèƒ½ä½“ï¼Œç°åœ¨ä¸ç”¨äº†ã€‚</p>
<p>å¦å¤–<code>SOLO Coder</code>è¿˜æœ‰ä¸€ä¸ªplanæ¨¡å¼ï¼Œå½“æˆ‘ä»¬å¼€å¯planæ¨¡å¼ä»¥åï¼Œå®ƒä¼šå…ˆåˆ†æéœ€æ±‚å¹¶ç”Ÿæˆä»»åŠ¡æ¸…å•ï¼Œå¾…ç”¨æˆ·ç¡®è®¤åæ‰ä¼šæ‰§è¡Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b422da3bf6e04c4bbc0b20cc6470a187~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=40seg9PFS%2FsxeDW0YotIPZXFVI0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-2">2ã€å¤šä»»åŠ¡ç®¡ç†</h4>
<p>ç›¸ä¿¡å¾ˆå¤šäººä¹‹å‰éƒ½ä¼šæœ‰è¿™ä¸ªçƒ¦æ¼ï¼Œé‚£å°±æ˜¯TraeåŒæ—¶åªèƒ½è¿›è¡Œä¸€ä¸ªå¯¹è¯ï¼Œè¦ç­‰å¾…è¿™ä¸€è½®å¯¹è¯å®Œæˆåæ‰èƒ½ç»§ç»­ä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ›´å¤šæ—¶å€™æˆ‘ä»¬è„‘æµ·é‡Œä¼šæœ‰å¤šä¸ªéœ€æ±‚æˆ–è€…é—®é¢˜éœ€è¦å¤„ç†ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘æ˜¯æŠŠæ‰€æœ‰é—®é¢˜éƒ½æ”¾åˆ°ä¸€ä¸ªå¯¹è¯ä¸­ï¼Œè®©å¤§æ¨¡å‹å»å¤„ç†ï¼Œä½†æ˜¯è¿™æ ·æ•ˆç‡å¹¶ä¸é«˜ï¼Œå¾ˆå¤šæ—¶å€™å¤§æ¨¡å‹ä¼šæ¼æ‰å…¶ä¸­çš„ä¸€äº›é—®é¢˜ï¼Œå¹¶ä¸”å¤„ç†åˆ°çš„é—®é¢˜ä¹Ÿè§£å†³çš„å¹¶ä¸å¥½ã€‚</p>
<p>ç°åœ¨å¥½äº†ï¼Œæœ‰äº†è¿™ä¸ªå¤šä»»åŠ¡ç®¡ç†çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶åœ¨Traeä¸­å¼€å¯å¤šä¸ªå¯¹è¯ï¼Œå¹¶è¡Œå¤„ç†ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ— éœ€ä¸€ç›´ç­‰å¾…äº†ï¼Œè¯´å®è¯ï¼Œè¿™ä¸ªåŠŸèƒ½çœŸçš„åšåˆ°äº†æˆ‘çš„å¿ƒåé‡Œã€‚</p>
<p>é‚£ä¹ˆæ€ä¹ˆä½¿ç”¨å¤šä»»åŠ¡ç®¡ç†åŠŸèƒ½å‘¢ï¼Œçœ‹ä¸‹å›¾ï¼Œå½“æˆ‘ä»¬åˆ‡æ¢åˆ°SOLOæ¨¡å¼åï¼Œç‚¹å‡»æˆªå›¾ä¸­çš„æŒ‰é’®ï¼Œå°±å¯ä»¥ç”¨æ¥æ˜¾ç¤ºå’Œéšè—å¤šä»»åŠ¡ç®¡ç†é¢æ¿äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f3f692aa64848439c41c95fd41caff2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=ugjl12Xd8CkXek1vtJslS8SdyKg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰“å¼€å¤šä»»åŠ¡ç®¡ç†é¢æ¿ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p>
<ul>
<li>åˆ‡æ¢ä¸åŒçš„ä»»åŠ¡è¿›è¡Œå¯¹è¯ï¼ŒåŒæ—¶å¹¶è¡Œå¤šä¸ªå¯¹è¯</li>
<li>ç‚¹å‡»<strong>æ–°ä»»åŠ¡</strong>æŒ‰é’®æ·»åŠ æ–°ä»»åŠ¡ï¼Œå¼€å¯ä¸€ä¸ªæ–°çš„å¯¹è¯</li>
<li>è¿˜å¯ä»¥å¯¹æŸä¸€ä¸ªä»»åŠ¡è¿›è¡Œé‡å‘½åå’Œåˆ é™¤</li>
</ul>
<p>è¿™ä¸ªåŠŸèƒ½è§£å†³äº†æˆ‘å¾ˆå¤§çš„ä¸€ä¸ªç—›ç‚¹ï¼Œä¹‹å‰æˆ‘æ¯æ¬¡å¼€å¯ä¸€ä¸ªå¯¹è¯åï¼Œä¸ºäº†é¿å…æ— æ•ˆç­‰å¾…ï¼Œæˆ‘ä¼šå»åšç‚¹åˆ«çš„äº‹æƒ…ï¼Œç„¶åå›æ¥ç»§ç»­ï¼Œä½†æ˜¯è¿™æ ·æ€è·¯ç»å¸¸ä¼šè¢«æ‰“æ–­ï¼Œæ•ˆç‡å¹¶ä¸é«˜ã€‚</p>
<p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä¹‹å‰å†™çš„ä¸€ä¸ªå†…éƒ¨æµ‹è¯•å·¥å…·ï¼Œä»–æœ‰å¤šä¸ªä¸åŒçš„é¡µé¢ï¼Œæˆ‘åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­å‘ç°äº†æ¯ä¸ªé¡µé¢éƒ½æœ‰ä¸åŒçš„é—®é¢˜ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘éœ€è¦ä¸€ä¸ªé¡µé¢ä¸€ä¸ªé¡µé¢çš„å»å¯¹è¯è§£å†³ï¼Œä½†æ˜¯æœ‰äº†å¤šä»»åŠ¡ç®¡ç†ï¼Œæˆ‘å¯ä»¥å¼€å¯å¤šä¸ªå¯¹è¯åŒæ—¶å¤„ç†æ‰€æœ‰é¡µé¢çš„é—®é¢˜ï¼Œæ— éœ€ä¸€ç›´ç­‰å¾…ã€‚</p>
<h4 data-id="heading-3">3ã€ä»£ç å˜æ›´å·¥å…·</h4>
<p>å¯¹äºAIç”Ÿæˆçš„ä»£ç ï¼Œæˆ‘ä»¬å¾ˆå¤šæ—¶å€™æ˜¯éœ€è¦å¤æ ¸å’Œè¯„å®¡çš„ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œtraeä¿®æ”¹çš„ä»£ç å˜æ›´æŸ¥çœ‹èµ·æ¥å…¶å®æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œå¹¶ä¸”ä¸€ç‚¹éƒ½ä¸ç›´è§‚ã€‚</p>
<p>è€Œ<code>SOLO Coder</code>ä¿®æ”¹å®Œä»£ç ä»¥åï¼Œä¼šæ±‡æ€»ä¸€ä¸ªæŸ¥çœ‹å˜æ›´çš„æŒ‰é’®ï¼Œä½†æˆ‘ä»¬ç‚¹å‡»æŸ¥çœ‹å˜æ›´ä»¥åï¼Œå°±ä¼šæ‰“å¼€ä»£ç å˜æ›´å·¥å…·ï¼Œè¿›è€Œå¾ˆæ–¹ä¾¿çš„æŸ¥çœ‹æ‰€æœ‰çš„ä»£ç å˜æ›´ï¼Œå¯¹äºç¨‹åºå‘˜è€Œè¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2836009349b049a095b82d8b27807443~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=Il7WoFVAtvBxpwMJ%2BApT5opHb4c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d6f75bfb1484109852b6e509326c28c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=KTxA69j%2Fpd41%2Be7dX0x%2FbIvEY5M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-4">4ã€å·¥å…·é¢æ¿æ›´æ–°</h4>
<p>è¿™ä¸ªæ›´æ–°åˆ«çš„æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå”¯ä¸€çš„ä¸€ç‚¹æ˜¯æŠŠæ™ºèƒ½ä½“å’Œmcpçš„é¢æ¿é›†æˆè¿›æ¥äº†ï¼Œè¿™æ ·å…¥å£æ›´åŠ ä¾¿æ·äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08d7f8eb4de04f28a0c13c6894ee6258~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=M1Pnxhj38n4wFO%2FciaoqWby%2Ff5k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-5">5ã€è®¾ç½®åŠŸèƒ½ä¼˜åŒ–</h4>
<p>ç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼Œæ‰“å¼€è®¾ç½®é¢æ¿åï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹çš„ç•Œé¢ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73b5f523eb27439e8f1569d4818b4353~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=TOyMNGu%2FyxU7G8XPt7aMUZeS2kc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæŠŠAIç›¸å…³çš„è®¾ç½®éƒ½é›†æˆåˆ°è®¾ç½®ç•Œé¢äº†ï¼Œè¿˜å¢åŠ äº†å…¨å±€æœç´¢åŠŸèƒ½ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰¾åˆ°è®¾ç½®é¡¹ï¼Œæ¯”å¦‚æˆ‘å†æœç´¢æ¡†è¾“å…¥"CUE"ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a6536dc7e9e4eaba7d1266d4d95a8eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=FbQazn68cojnxHi3%2BeXZvUCPB%2BI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªè®¾ç½®åŠŸèƒ½è·ŸåŸæ¥Editorçš„è®¾ç½®ä¸€æ ·ï¼Œå®ç°äº†å…¨å±€æœç´¢åŠŸèƒ½ï¼Œè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚</p>
<h3 data-id="heading-6">äºŒã€<code>SOLO Coder</code>å®æµ‹è¡¨ç°</h3>
<p>æ¥ä¸‹æ¥åœ¨è¯´è¯´æˆ‘çš„ä½¿ç”¨æ„Ÿå—ï¼ŒåŠŸèƒ½åšçš„å¤©èŠ±ä¹±å ï¼Œæœ€åä¹Ÿè¦çœ‹ç»“æœè½åœ°çš„æ€ä¹ˆæ ·ã€‚</p>
<p>ä¹‹å‰å†…æµ‹ç‰ˆçš„SOLO Builderé»˜è®¤åªèƒ½ä½¿ç”¨Claude 4æ¨¡å‹ï¼Œè‡ªä»claudeæ–­ä¾›traeä»¥åï¼Œå°±å˜æˆäº†autoæ¨¡å¼ï¼Œç­‰åˆ°æ­£å¼ç‰ˆï¼Œå°±å˜äº†ï¼Œåç»­SOLO Builderå’Œ<code>SOLO Coder</code>éƒ½æ˜¯é»˜è®¤ä½¿ç”¨maxæ¨¡å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e7e039a30b345a7b1018b0ecfb794cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=OkwoVlAg4n9agX%2BftGOzxXX1ufg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>maxæ¨¡å¼å°±è¦æ³¨æ„äº†ï¼Œæ›¾ç»å†…æµ‹ç‰ˆæœŸé—´ï¼Œæˆ‘è·‘äº†2è½®maxæ¨¡å¼ï¼Œç”¨çš„tokenç®—ä¸‹æ¥ï¼Œç”¨æ‰äº†æˆ‘200å¤šä¸ªå¿«é€Ÿè¯·æ±‚æ¬¡æ•°ï¼Œæ‰€ä»¥è‡ªé‚£ä»¥åï¼Œæˆ‘å†ä¹Ÿæ²¡æœ‰ç”¨è¿‡ã€‚</p>
<p>å½“ç„¶ï¼Œç°åœ¨æ­£å¼ç‰ˆå¼€æ”¾ï¼Œæš‚æ—¶ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºåœ¨11æœˆ15æ—¥23:59ä¹‹å‰ï¼ŒSOLOæ˜¯é™å…çŠ¶æ€ï¼Œç­‰åˆ°é™å…çŠ¶æ€ç»“æŸï¼ŒSOLOå°±ä¼šæ­£å¼å¼€å§‹è®¡è´¹ï¼Œé‚£æ—¶å€™ç”¨èµ·æ¥å°±è¦å°å¿ƒäº†ï¼Œæ¯•ç«Ÿå®˜æ–¹æœ‰è¯´æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a56e8063d3940de8848d15c4799caa9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=2n2SnmGnLKgqy5SJuWknmqj5qlY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨SOLOçš„å†…ç½®æ™ºèƒ½ä½“ï¼Œå¿…ç„¶ä¼šå¸¦æ¥æ¯”è¾ƒé«˜æ˜‚çš„ä½¿ç”¨æˆæœ¬ï¼Œå…·ä½“æ¶ˆè€—æ€ä¹ˆæ ·ï¼Œè¦ç­‰åˆ°é™å…çŠ¶æ€ç»“æŸæ‰èƒ½çŸ¥é“äº†ï¼Œç°åœ¨è¿˜ä¸å¾—è€ŒçŸ¥ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆæœ¬å¢åŠ çš„æƒ…å†µä¸‹ï¼Œå®æµ‹è¡¨ç°åˆ°åº•æ€ä¹ˆæ ·å‘¢ï¼Ÿ</p>
<ul>
<li>é¦–å…ˆæ˜¯é€Ÿåº¦æ–¹é¢ï¼Œç›¸æ¯”åclaudeæ—¶ä»£ï¼Œä½¿ç”¨gpt5-highçš„é¾Ÿé€Ÿï¼Œé€Ÿåº¦ç®—ä¸é”™çš„äº†ï¼›</li>
<li>ä»»åŠ¡è§„åˆ’èƒ½åŠ›ï¼Œç›¸æ¯”è€Œè¨€ï¼Œä»»åŠ¡è§„åˆ’èƒ½åŠ›æ¯”ä¹‹å‰çš„builderè¿™æ ·çš„æ™ºèƒ½ä½“å¤§å¹…å¢å¼ºï¼›</li>
<li>å¤æ‚é—®é¢˜å¤„ç†èƒ½åŠ›ï¼Œå°±æˆ‘æå‡ºçš„é—®é¢˜æ¥çœ‹ï¼ŒåŸºæœ¬ä¸Šéƒ½èƒ½åœ¨1åˆ°5è½®å¯¹è¯ä¹‹é—´è§£å†³ï¼Œè¿™ä¸ªç®—ä¸é”™çš„äº†ï¼›</li>
</ul>
<p>é™¤äº†è¿™äº›ä¼˜ç‚¹ï¼Œå½“ç„¶ä¹Ÿä¸è¶³ä¹‹å¤„ï¼Œé‚£å°±æ˜¯å¹»è§‰è¿˜æ˜¯å¾ˆä¸¥é‡ï¼Œæ˜æ˜ä»»åŠ¡æ²¡å®Œæˆï¼Œå¯¹è¯ç›´æ¥ç»“æŸäº†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29bc5a7b725a47feabd09bd64a76b6c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSP5Y-2QUnliqDmsrnnq5k=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763961434&amp;x-signature=PNPnqqvLABdDq4eIHC5sDQGH9Fk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ ¹æ®å®˜æ–¹çš„è¯´æ³•ï¼Œç‚¹å‡»æ‰§è¡Œåï¼Œ<code>SOLO Coder</code>åº”è¯¥æ‰§è¡Œæ–‡æ¡£ä¸­çš„ä»»åŠ¡ï¼Œä½†æ˜¯å®é™…ä¸Šå¯¹è¯ç›´æ¥ç»“æŸäº†ï¼Œæ ¹æœ¬æ²¡æœ‰å®Œæˆä»»åŠ¡ã€‚</p>
<p><strong># SOLO å·²å°±ä½</strong></p>
<p>æ•´ä½“æ€»ç»“ä¸‹æ¥ï¼ŒSOLOæ­£å¼ç‰ˆçš„ä½¿ç”¨æ„Ÿå—è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼ŒåŠŸèƒ½è®¾è®¡çš„ä¹Ÿè¶Šæ¥è¶Šåˆç†äº†ï¼Œä½†æ˜¯è¯´å®è¯ï¼Œè‡ªä»claudeæ–­ä¾›åï¼Œæ€»æ„Ÿè§‰Traeç¼ºå°‘äº†ç‚¹çµé­‚ï¼Œå¾ˆå¤šç”¨æˆ·åœ¨æ²¡æœ‰äº†claudeä¹‹åï¼Œå¯èƒ½ä¼šæŠŠç›®å…‰è½¬å‘å…¶ä»–çš„AIç¼–ç¨‹å·¥å…·ã€‚</p>
<p>SOLOæ­£å¼ç‰ˆèƒ½å¦æ•‘åœºï¼Œæˆ‘è®¤ä¸ºä¹Ÿå–å†³äºé™å…ç»“æŸä»¥åï¼Œmaxæ¨¡å¼çš„æ”¶è´¹æƒ…å†µï¼Œå¦‚æœæˆæœ¬å¤ªè¿‡é«˜æ˜‚ï¼Œé‚£å°±å¾ˆéš¾æ•‘åœºäº†ã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œå¦‚æœå¯¹ä½ æœ‰ç”¨ï¼Œéº»çƒ¦æ¥ä¸ªä¸‰è¿æ”¯æŒä¸€ä¸‹å§ï¼Œè¿™å¯¹æˆ‘ååˆ†é‡è¦ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢œè‰²ç½‘ç«™ä¸ºå•¥éƒ½æ”¶è´¹ï¼Ÿè‡ªå·±åšä¸ªè¦èŠ±å¤šå°‘é’±ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572961448537882651</link>    <guid>https://juejin.cn/post/7572961448537882651</guid>    <pubDate>2025-11-17T05:03:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537882651" data-draft-id="7572997791452381222" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢œè‰²ç½‘ç«™ä¸ºå•¥éƒ½æ”¶è´¹ï¼Ÿè‡ªå·±åšä¸ªè¦èŠ±å¤šå°‘é’±ï¼Ÿ"/> <meta itemprop="keywords" content="æœåŠ¡å™¨,åç«¯,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-11-17T05:03:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢œè‰²ç½‘ç«™ä¸ºå•¥éƒ½æ”¶è´¹ï¼Ÿè‡ªå·±åšä¸ªè¦èŠ±å¤šå°‘é’±ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:03:31.000Z" title="Mon Nov 17 2025 05:03:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æ˜¯å°é˜¿å·´ï¼Œä¸€ä½æ²¡æœ‰å¯¹è±¡çš„ç¨‹åºå‘˜ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecd71a8529bd4f1d8d59da4a3533daae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=OxAT9Khg%2FIJWtcV0c7Q1Xa78Mcs%3D" alt="" loading="lazy"/></p>
<p>è¿™å¤©æ·±å¤œï¼Œä½ æ‰“å¼€äº†æŸä¸ªé¢œè‰²ç½‘ç«™ï¼Œå‡†å¤‡é‰´èµä¸€äº›ç²¾å½©çš„è§†é¢‘æ•™ç¨‹ã€‚</p>
<p>ç»“æœä¸€ä¸ªå¤§å¤§çš„ä»˜è´¹å¼¹çª—é˜»æŒ¡äº†ä½ ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37e11fd811234a488a05edc571c65fdb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=LzV5GwmtRj3nI2BvBf5ru9UcOjY%3D" alt="" loading="lazy"/></p>
<p>ä½ å¿ƒæƒ³ï¼šå¯æ¶ï¼Œä¸ºå•¥é¢œè‰²ç½‘ç«™éƒ½è¦æ”¶è´¹å•Šï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ca61ebda3784377a9c2ba9a55220796~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=4xrt645hAaKE2JcQTwVtKfjFWjM%3D" alt="" loading="lazy"/></p>
<p>ä½œä¸ºä¸€åç¨‹åºå‘˜ï¼Œä½ æ€èƒ½ç”˜å¿ƒï¼Ÿ</p>
<p>äºæ˜¯ä½ å†³å®šè‡ªå·±åšä¸€ä¸ªï¼Œä¸å°±æ˜¯ä¸Šä¼ è§†é¢‘ã€æ’­æ”¾è§†é¢‘å˜›ï¼Ÿ</p>
<p>è¿™æ—¶ï¼Œç»å¸¸ç»™å¤§å®¶åˆ†äº« AI å’Œç¼–ç¨‹çŸ¥è¯†çš„ <code>é±¼çš®</code> çªç„¶ä»ä½ èº«åå†’äº†å‡ºæ¥ï¼šå¤©çœŸï¼ä½ çŸ¥é“è‡ªå·±åšä¸€ä¸ªè¦èŠ±å¤šå°‘é’±ä¹ˆï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54f3d6d48b6541ecb1907450604f56f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=IDoOLn22et4O5pXtVKfkl2gwSoU%3D" alt="" loading="lazy"/></p>
<p>ä½ å“äº†ä¸€è·³ï¼šæˆ‘åˆæ²¡åšè¿‡è¿™ç§ç½‘ç«™ï¼Œæ€ä¹ˆçŸ¥é“è¦èŠ±å¤šå°‘ï¼Ÿ</p>
<p>éš¾é“ï¼Œä½ åšè¿‡ï¼Ÿ</p>
<p>é±¼çš®ä¸€æœ¬æ­£ç»ï¼šå“¼ï¼Œå½“ç„¶â€¦â€¦ æ²¡æœ‰ã€‚</p>
<p>ä¸è¿‡æˆ‘åšè¿‡å¯ä»¥çœ‹è§†é¢‘çš„ã€æŠ€æœ¯æ ˆå®Œå…¨ç±»ä¼¼çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.codefather.cn%2F" target="_blank" title="https://www.codefather.cn/" ref="nofollow noopener noreferrer">ç¼–ç¨‹å­¦ä¹ ç½‘ç«™</a>ï¼Œæ‰€ä»¥å¾ˆæ¸…æ¥šè¿™ç±»ç½‘ç«™çš„æˆæœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/352eea03a151473aa7df7775fd86f05f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=Z5spQS1GhriH%2Bi6wEpMWiGXYyAM%3D" alt="" loading="lazy"/></p>
<p>ä½ æ¥äº†å…´è¶£ï¼šå“¦ï¼Ÿæ„¿é—»å…¶è¯¦ã€‚</p>
<p>é±¼çš®ç¬‘äº†ç¬‘ï¼šé‚£æˆ‘å°±ä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.codefather.cn%2F" target="_blank" title="https://www.codefather.cn/" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> é¡¹ç›®ä¸ºä¾‹ï¼Œä»ç½‘ç«™å¼€å‘ã€ä¸Šçº¿åˆ°è¿è¥çš„å®Œæ•´æµç¨‹ï¼Œç»™ä½ ç®—ç®—åšä¸€ä¸ªè§†é¢‘ç½‘ç«™åˆ°åº•è¦èŠ±å¤šå°‘é’±ã€‚è¿˜èƒ½æ•™ä½ æ€ä¹ˆçœé’±å“¦~</p>
<p>ä½ ç‚¹äº†ä¸ªèµï¼Œå¹¶é€’ä¸Šäº†ä¸¤ä¸ªç¡¬å¸ï¼šå¥½å•Šï¼Œå¿«è¯´å¿«è¯´ï¼</p>
<hr/>
<p><strong>é±¼çš®ç‰¹åˆ«æ„Ÿè°¢æœ‹å‹ä»¬çš„æ”¯æŒï¼Œä½ ä»¬çš„é¼“åŠ±æ˜¯æˆ‘æŒç»­åˆ›ä½œçš„åŠ¨åŠ› ğŸŒ¹ï¼</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc3c497a64394398abee1d204c919331~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=gwnhMXUfflfJvRN4To8yBUhMPHc%3D" alt="" loading="lazy"/></p>
<p>âš ï¸ å‹æƒ…å£°æ˜ï¼šä»¥ä¸‹æˆæœ¬æ˜¯åŸºäºä¸ªäººç»éªŒ + ä¸“ä¸šäº‘æœåŠ¡å•†ä»·æ ¼çš„ä¼°ç®—ï¼ˆä¸è€ƒè™‘æŠ˜æ‰£ï¼‰ï¼Œä»…ä¾›å‚è€ƒã€‚</p>
<p>â­ï¸ æ¨èè§‚çœ‹æœ¬æ–‡å¯¹åº”è§†é¢‘ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbilibili.com%2Fvideo%2FBV1nJCxBmEmi" target="_blank" title="https://bilibili.com/video/BV1nJCxBmEmi" ref="nofollow noopener noreferrer">bilibili.com/video/BV1nJâ€¦</a></p>
<h2 data-id="heading-0">æœåŠ¡å™¨</h2>
<p>æƒ³è®©åˆ«äººè®¿é—®ä½ çš„ç½‘ç«™ï¼Œé¦–å…ˆä½ è¦æœ‰ä¸€å°æœåŠ¡å™¨ã€‚</p>
<p>ä½ ç‚¹ç‚¹å¤´ï¼šæˆ‘çŸ¥é“ï¼Œä»£ç æ–‡ä»¶éƒ½è¦æ”¾åˆ°æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œç”¨æˆ·é€šè¿‡æµè§ˆå™¨è®¿é—®ç½‘ç«™ï¼Œå…¶å®æ˜¯åœ¨å‘æœåŠ¡å™¨è¯·æ±‚ç½‘é¡µæ–‡ä»¶å’Œæ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/243455da3faa49a6b74ecc148375fd70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=SWYIOx8NpX42iTOyswSQP2P5cBs%3D" alt="" loading="lazy"/></p>
<p>é‚£æœåŠ¡å™¨æ€ä¹ˆé€‰å‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šæœåŠ¡å™¨çš„é…ç½®è¦çœ‹ä½ çš„ç½‘ç«™è§„æ¨¡ã€‚åˆšå¼€å§‹åšä¸ªå°å‹è§†é¢‘ç½‘ç«™ï¼Œå¯ä»¥ç”¨å…¥é—¨é…ç½®çš„è½»é‡åº”ç”¨æœåŠ¡å™¨ <strong>ï¼ˆæ¯”å¦‚ 2 æ ¸ CPUã€2G å†…å­˜ã€4M å¸¦å®½ï¼‰</strong> ï¼Œä¸€å¹´å‡ ç™¾å—å°±å¤Ÿäº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97a3066cc0d94a459b7b74f2725e4f6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=TL2sUOZdbkzf3fPrLT5NZ%2Bpmoeg%3D" alt="" loading="lazy"/></p>
<p>ç­‰åç»­ç”¨æˆ·å¤šäº†ï¼ŒæœåŠ¡å™¨å¸¦å®½è·Ÿä¸ä¸Šäº†å†å‡çº§ã€‚æ¯”å¦‚ 4 æ ¸ CPUã€16G å†…å­˜ã€14M å¸¦å®½ï¼Œä¸€å¹´å·®ä¸å¤šå‡ åƒå—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff06bc26f74f46848cdd2c2e979fd531~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=4c9j07a4l92lUOo7%2BfVsXQSw9Vw%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå‡ ç™¾å—ï¼Ÿæ¯”æˆ‘æƒ³çš„ä¾¿å®œå•Šã€‚</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œå›½å†…äº‘æœåŠ¡ç°åœ¨ç«äº‰å¾ˆæ¿€çƒˆã€åŠ¨ä¸åŠ¨å°±æä¼˜æƒ ã€‚</p>
<p>ä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœä½ æƒ³åš â€œé‚£ç§ç½‘ç«™â€ï¼Œå°±è¦è€ƒè™‘ç”¨æµ·å¤–æœåŠ¡å™¨äº†ï¼ˆå¥½å¤„æ˜¯ä¸ç”¨å¤‡æ¡ˆï¼‰ã€‚</p>
<p>å’³å’³ï¼Œæˆ‘ä»¬ä¸è°ˆè¿™ä¸ªâ€¦â€¦</p>
<h2 data-id="heading-1">æ•°æ®åº“</h2>
<p>æœ‰äº†æœåŠ¡å™¨ï¼Œè¿˜å¾—æœ‰æ•°æ®åº“ï¼Œç”¨æ¥å­˜å‚¨ç½‘ç«™çš„ç”¨æˆ·ä¿¡æ¯ã€è§†é¢‘ä¿¡æ¯ã€è¯„è®ºç‚¹èµè¿™äº›æ•°æ®ã€‚</p>
<p>ä½ ï¼šè¿™ä¸ªç®€å•ï¼Œæ•°æ®åº“ä¸å°±æ˜¯ MySQLã€PostgreSQL è¿™äº›å˜›ï¼Œè£…åœ¨æœåŠ¡å™¨ä¸Šä¸å°±è¡Œäº†ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13bbc0a0be4b46afb2c45ec82a45fbc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=thRU43z6kndh0gJLy1j%2BALeovAo%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šæ˜¯å¯ä»¥çš„ï¼Œä½†æˆ‘æ›´å»ºè®®ä½¿ç”¨äº‘æ•°æ®åº“æœåŠ¡ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘ RDS æˆ–è€…è…¾è®¯äº‘çš„äº‘æ•°æ®åº“ã€‚</p>
<p>ä½ ï¼šä¸ºå•¥ï¼Ÿä¸æ˜¯è¦å¤šèŠ±é’±å—ï¼Ÿ</p>
<p>é±¼çš®ï¼šå› ä¸ºäº‘æ•°æ®åº“æ›´ç¨³å®šï¼Œè€Œä¸”è‡ªå¸¦å¤‡ä»½ã€å®¹ç¾ã€ç›‘æ§è¿™äº›åŠŸèƒ½ï¼Œä½ è‡ªå·±æçš„è¯ï¼Œè¿˜è¦è´¹æ—¶è´¹åŠ›å®‰è£…ç»´æŠ¤ï¼Œä¸‡ä¸€æ•°æ®ä¸¢äº†å¯å°±éº»çƒ¦äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dba4076c94e4083a5d05f4614f8893d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=MnZ0vSXumckcYthS9K8ly5asPm4%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šç¡®å®ï¼Œé‚£å¾—å¤šå°‘é’±ï¼Ÿ</p>
<p>é±¼çš®ï¼šå…¥é—¨çº§çš„äº‘æ•°æ®åº“ï¼ˆæ¯”å¦‚ 2 æ ¸ 4G å†…å­˜ã€100GB ç¡¬ç›˜ï¼‰åŒ…å¹´å¤§æ¦‚ 2000 å…ƒå·¦å³ã€‚åé¢ç”¨æˆ·å¤šäº†ã€æ•°æ®é‡å¤§äº†ï¼Œå°±è¦å‡çº§é…ç½®ï¼ˆæ¯”å¦‚ 4 æ ¸ 16Gï¼‰ï¼Œé‚£ä¸€å¹´å°±è¦ 1 ä¸‡å¤šäº†ã€‚ä¸è¿‡é‚£ä¸ªæ—¶å€™ä½ å·²ç»èµšéº»äº†â€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/528f70c9cb8e462dbd74548e58ead8f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=okRzxbal9CyhaIjBiBcZB5Fm8hY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">Redis</h2>
<p>é±¼çš®ï¼šå¯¹äº†ï¼Œæˆ‘è¿˜å»ºè®®ä½ åŠ ä¸ª Redis ç¼“å­˜ã€‚</p>
<p>ä½ æŒ äº†æŒ å¤´ï¼šRedisï¼Ÿä¹‹å‰çœ‹è¿‡ä½ çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1a1sgzfE5d%2F" target="_blank" title="https://www.bilibili.com/video/BV1a1sgzfE5d/" ref="nofollow noopener noreferrer">è®²è§£è§†é¢‘</a>ã€‚è¿™ä¸ªæ˜¯å¿…é¡»çš„å—ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c62ca4ced9d45188a5037c4e7d33eb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=62S%2F6OjMRhrLF%2FCQxmlS7UWgKQw%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šåˆšå¼€å§‹å¯ä»¥æ²¡æœ‰ï¼Œä½†å¦‚æœä½ æƒ³è®©ç½‘ç«™æ•°æ®èƒ½æ›´å¿«åŠ è½½ï¼Œå¼ºçƒˆå»ºè®®ç”¨ã€‚</p>
<p>ä½ æƒ³å•Šï¼Œè§†é¢‘ç½‘ç«™ç”¨æˆ·ä¸€è¿›æ¥éƒ½è¦æŸ¥çœ‹è§†é¢‘åˆ—è¡¨ã€çƒ­é—¨æ¨èè¿™äº›ï¼Œå¦‚æœç”¨ Redis æŠŠçƒ­ç‚¹æ•°æ®ç¼“å­˜èµ·æ¥ï¼Œå“åº”é€Ÿåº¦èƒ½å¿«å¥½å‡ å€ï¼Œè¿˜èƒ½å¸®æ•°æ®åº“åˆ†æ‘ŠæŸ¥è¯¢å‹åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/213fe6a89bce4d6780e54abe33bdf475~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=ff9U%2Bik0uBndBnmmKlW5aQh%2FlCA%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šç¡®å®ï¼Œç½‘ç«™æ›´å¿«ç”¨æˆ·æ›´çˆ½ï¼Œä¹Ÿæ›´æ„¿æ„ä»˜è´¹ã€‚é‚£ Redis è¦å¤šå°‘é’±ï¼Ÿ</p>
<p>é±¼çš®ï¼šRedis æ¯”æ•°æ®åº“ä¾¿å®œä¸€äº›ã€‚å…¥é—¨çº§çš„ Redis æœåŠ¡ä¸€å¹´å¤§æ¦‚ 1000 å…ƒå·¦å³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c2eb78e3eb54d129cb6d3d8fdf44dae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=drMEedXtMlycF%2BXjOdFVQS5yPp4%3D" alt="" loading="lazy"/></p>
<p>ä½ æ¾äº†å£æ°”ï¼šä¹Ÿè¿˜è¡Œå§ï¼Œçœ‹æ¥åšä¸ªè§†é¢‘ç½‘ç«™ä¹ŸèŠ±ä¸äº†å¤šå°‘é’±å•Šï¼</p>
<h2 data-id="heading-3">å¯¹è±¡å­˜å‚¨</h2>
<p>é±¼çš®ï¼šåˆ«æ€¥ï¼Œæ¥ä¸‹æ¥æ‰æ˜¯é‡ç‚¹ï¼</p>
<p>æˆ‘é—®é—®ä½ ï¼Œè§†é¢‘æ–‡ä»¶ä¿å­˜åœ¨å“ªå„¿ï¼Ÿ</p>
<p>ä½ ä¸å‡æ€ç´¢ï¼šå½“ç„¶æ˜¯å­˜åœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸Šï¼</p>
<p>é±¼çš®å“ˆå“ˆå¤§ç¬‘ï¼šåˆ«å¼€ç©ç¬‘äº†ï¼Œä¸€ä¸ªé«˜æ¸…è§†é¢‘åŠ¨ä¸åŠ¨å°±å‡ ç™¾ MB ç”šè‡³å‡ ä¸ª Gï¼Œä½ é‚£ç‚¹å„¿æœåŠ¡å™¨ç¡¬ç›˜èƒ½å­˜å‡ ä¸ªè§†é¢‘ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3419fb9846174c53ae21438b590c706b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=%2Fj67yP75UXmMX7iNlt7RyrYrgJE%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”æœåŠ¡å™¨å¸¦å®½æœ‰é™ï¼Œå¦‚æœåŒæ—¶æœ‰å¾ˆå¤šç”¨æˆ·çœ‹è§†é¢‘ï¼ŒæœåŠ¡å™¨æ ¹æœ¬æ’‘ä¸ä½ï¼</p>
<p>ä½ ï¼šé‚£å’‹åŠå•Šï¼</p>
<p>é±¼çš®ï¼šæ›´å¥½çš„åšæ³•æ˜¯ç”¨ <strong>å¯¹è±¡å­˜å‚¨</strong>ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€‚</p>
<p>å¯¹è±¡å­˜å‚¨æ˜¯ä¸“é—¨ç”¨æ¥å­˜æµ·é‡æ–‡ä»¶çš„äº‘æœåŠ¡ï¼Œå®ƒå®¹é‡å‡ ä¹æ— é™ã€å¯ä»¥å¼¹æ€§æ‰©å±•ï¼Œè€Œä¸”è®¿é—®é€Ÿåº¦å¿«ã€ç¨³å®šæ€§é«˜ï¼Œå¾ˆé€‚åˆå­˜å‚¨å›¾ç‰‡å’ŒéŸ³è§†é¢‘è¿™äº›å¤§æ–‡ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27eb53ea3a9d45b1bba682db39d03b46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=5qiGD2qnUNk7H7fGdEchgTdwR%2Bk%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šè´µå—ï¼Ÿ</p>
<p>é±¼çš®ï¼šå­˜å‚¨æœ¬èº«ä¸è´µï¼Œ100GB ä¸€å¹´ä¹Ÿå°±å‡ åå—é’±ã€‚ä½† <strong>çœŸæ­£è´µçš„æ˜¯æµé‡è´¹ç”¨</strong>ï¼</p>
<p>ç”¨æˆ·æ¯çœ‹ä¸€æ¬¡è§†é¢‘ï¼Œéƒ½è¦ä»å¯¹è±¡å­˜å‚¨ä¸‹è½½æ•°æ®ï¼Œè¿™å°±äº§ç”Ÿäº†æµé‡ã€‚</p>
<p>å¦‚æœä¸€ä¸ª 1 GB çš„è§†é¢‘è¢«å®Œæ•´æ’­æ”¾ 1000 æ¬¡ï¼Œé‚£å°±æ˜¯ 1000 GB çš„æµé‡ï¼Œå¤§æ¦‚ 500 å—é’±ã€‚</p>
<p>ä½ çœ‹é‚£äº›è§†é¢‘ç½‘ç«™ï¼Œæ¯å¤©å…‰ 1 ä¸ªè§†é¢‘å¯èƒ½å°±æœ‰ 10 ä¸‡äººçœ‹è¿‡ï¼Œä»·æ ¼å¯æƒ³è€ŒçŸ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbfc0fec0f9a41ebb83a07b735c985cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=7bvccoUeWPP74hUziKff5rM7IX0%3D" alt="" loading="lazy"/></p>
<p>ä½ æƒŠè®¶åœ°è¯´ä¸å‡ºè¯æ¥ï¼šé˜¿å·´é˜¿å·´â€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f696ff5bb414601a83d6265b08c4c8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=mLYWOpHybf8XvqSoW808M9uA%2FT0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">è§†é¢‘è½¬ç </h2>
<p>é±¼çš®æ¥ç€è¯´ï¼šè¿™è¿˜ä¸å¤Ÿï¼å¯¹äºè§†é¢‘ç½‘ç«™ï¼Œä½ è¿˜è¦åš <strong>è§†é¢‘è½¬ç </strong>ã€‚å› ä¸ºç”¨æˆ·ä¸Šä¼ çš„è§†é¢‘æ ¼å¼ã€åˆ†è¾¨ç‡ã€ç¼–ç æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼Œä½ éœ€è¦æŠŠå®ƒä»¬ç»Ÿä¸€è½¬æˆé€‚åˆç½‘é¡µæ’­æ”¾çš„æ ¼å¼ï¼Œè¿˜è¦ç”Ÿæˆä¸åŒæ¸…æ™°åº¦çš„ç‰ˆæœ¬è®©ç”¨æˆ·é€‰æ‹©ï¼ˆæ ‡æ¸…ã€é«˜æ¸…ã€è¶…æ¸…ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21d97b51871f4411aaf8867fc750cb6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=6GsmnDG%2Baj8soV7RYVEAHeKOYAM%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šå•Šï¼Œé‚£ä¸æ˜¯è¦å¤šå­˜å¥½å‡ ä¸ªä¸åŒæ¸…æ™°åº¦çš„è§†é¢‘æ–‡ä»¶ï¼Ÿ</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè€Œä¸”è½¬ç æœ¬èº«ä¹Ÿæ˜¯è¦é’±çš„ï¼</p>
<p>ä¸€èˆ¬æŒ‰ç…§æ¸…æ™°åº¦å’Œè§†é¢‘åˆ†é’Ÿæ•°è®¡è´¹ã€‚å¦‚æœä½ ä¸Šä¼  1000 ä¸ªå°æ—¶çš„é«˜æ¸…è§†é¢‘ï¼Œå…‰è½¬ç è´¹å°±å¾—å‡ åƒå—ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c844482be16344e394f4e0575b35b52f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=csIgSrO3iZKWBKF6DnK%2FGUg3Jzg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">CDN åŠ é€Ÿ</h2>
<p>ä½ æ€¥äº†ï¼šæ€ä¹ˆåšä¸ªè§†é¢‘ç½‘ç«™å¤„å¤„éƒ½è¦èŠ±é’±å•Šï¼æœ‰æ²¡æœ‰ä¾¿å®œç‚¹çš„åŠæ³•ï¼Ÿ</p>
<p>é±¼çš®ç¬‘é“ï¼šå¯ä»¥ç”¨ CDNã€‚</p>
<p>ä½ ï¼šCDNæ˜¯å•¥ï¼Ÿå¬ç€å°±é«˜çº§ï¼</p>
<p>é±¼çš®ï¼šCDN å«å†…å®¹åˆ†å‘ç½‘ç»œï¼Œç®€å•è¯´å°±æ˜¯æŠŠä½ çš„è§†é¢‘ç¼“å­˜åˆ°å…¨å›½å„åœ°çš„æœåŠ¡å™¨èŠ‚ç‚¹ä¸Šã€‚ç”¨æˆ·çœ‹è§†é¢‘çš„æ—¶å€™ï¼Œä»æœ€è¿‘çš„èŠ‚ç‚¹æ‹¿æ•°æ®ï¼Œä¸ä»…é€Ÿåº¦æ›´å¿«ï¼Œè€Œä¸”æµé‡è´¹æ¯”å¯¹è±¡å­˜å‚¨ä¾¿å®œä¸å°‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc8f12a1a8f645d0a0aa6da2f1e51da7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=CXMntnDHx1vKlG9ah%2FuZsLVImT8%3D" alt="" loading="lazy"/></p>
<p>ä½ çœ¼ç›ä¸€äº®ï¼šè¿™ä¹ˆå¥½ï¼Ÿé‚£ä¸æ˜¯å¿…ç”¨ CDNï¼</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œä¸€èˆ¬å»ºè®®å¯¹è±¡å­˜å‚¨é…åˆ CDN ä½¿ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cb3932422234883a7f6223402662edc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=Jrb1CtpbJEsQ8B%2FaS9mc1ZuGIyo%3D" alt="" loading="lazy"/></p>
<p>è€Œä¸”è§†é¢‘ç½‘ç«™ <strong>ä¸€å®šè¦åšå¥½æµé‡é˜²åˆ·å’Œå®‰å…¨é˜²æŠ¤</strong>ï¼</p>
<p>ç°åœ¨æœ‰çš„å¹³å°è‡ªå¸¦äº†æµé‡é˜²ç›—åˆ·åŠŸèƒ½ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1bea05ce9b246548ef8c4a0d014dd06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=rAiFrsIrV1%2BKP3FU9llExI1RtqY%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œå»ºè®®æ‰‹åŠ¨æ·»åŠ æ›´å¤šæµé‡å®‰å…¨é…ç½®ã€‚</p>
<p>1ï¼‰è®¾ç½®è®¿é—®é¢‘ç‡é™åˆ¶ï¼Œé˜²æ­¢çŸ­æ—¶é—´è¢«ç›—åˆ·å¤§é‡æµé‡</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f68e700c4a55427497ccf4e0bcb298a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=vWiNOLklKwKm5pX%2FhRIGb14w3TE%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8c0b38b96134c4abc3f359cfeac0c55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=OE5PWxhj0Kvo1M27KXzy2qGwVGA%3D" alt="" loading="lazy"/></p>
<p>2ï¼‰è¿˜è¦é…ç½® CDN çš„æµé‡å‘Šè­¦ï¼Œè¶…è¿‡é˜ˆå€¼åŠæ—¶å¾—åˆ°é€šçŸ¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd7be869ca5642ecb1124c3d800516ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=If2j6Nj8c%2FJLxRQ%2Fj3EKoExW600%3D" alt="" loading="lazy"/></p>
<p>3ï¼‰è¿˜è¦å¯ç”¨ referer é˜²ç›—é“¾ï¼Œé˜²æ­¢åˆ«äººç›—ç”¨ä½ çš„è§†é¢‘é“¾æ¥ï¼Œç”¨ä½ çš„æµé‡åšç½‘ç«™æé’±ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcbd6e20538247af8ef93ab59d5b58ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=9vo3FyPIPninfegaexV9NSFYpzA%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä¸åšè¿™äº›ï¼Œå¯èƒ½åˆ†åˆ†é’Ÿç»™ä½ åˆ·ç ´äº§äº†ï¼</p>
<p>ä½ ï¼šè¿™æˆ‘çŸ¥é“ï¼Œä¹‹å‰çœ‹è¿‡å¾ˆå¤šä½ ç ´äº§å’Œè¢«æ”»å‡»çš„è§†é¢‘ï¼</p>
<p>é±¼çš®ï¼šæˆ‘ ***ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac8a4cf013b3489987b4389909e80475~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=pdY0qLhibW8t0RYJ5xH2MO1oFFg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">è§†é¢‘ç‚¹æ’­</h2>
<p>ä½ ï¼šä¸ºäº†ç»™ç”¨æˆ·çœ‹ä¸ªè§†é¢‘ï¼Œæˆ‘è¦å…ˆç”¨å¯¹è±¡å­˜å‚¨ä¿å­˜æ–‡ä»¶ã€å†é€šè¿‡äº‘æœåŠ¡è½¬ç è§†é¢‘ã€å†é€šè¿‡ CDN ç»™ç”¨æˆ·åŠ é€Ÿè®¿é—®ï¼Œæ„Ÿè§‰å¾ˆéº»çƒ¦å•Šï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6f9cfc4e3774a979ca6a63ce92b144e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=uOMzQ6nyAfiUuG%2B%2FXTlGtvFcoHA%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ç¥ç§˜ä¸€ç¬‘ï¼šå˜¿å˜¿ï¼Œå…¶å®è¿˜æœ‰æ›´ç®€å•çš„æ–¹æ¡ˆ â€”â€” <strong>è§†é¢‘ç‚¹æ’­æœåŠ¡</strong>ï¼Œè¿™æ˜¯å¿«é€Ÿå®ç°è§†é¢‘ç½‘ç«™çš„æ ¸å¿ƒã€‚</p>
<p>åªéœ€è¦é€šè¿‡å®˜æ–¹æä¾›çš„ SDK ä»£ç åŒ…å’Œç¤ºä¾‹ä»£ç ï¼Œå°±èƒ½å¿«é€Ÿå®Œæˆè§†é¢‘ä¸Šä¼ ã€è½¬ç ã€å¤šæ¸…æ™°åº¦åˆ‡æ¢ã€åŠ å¯†ä¿æŠ¤ç­‰åŠŸèƒ½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b47e40f71f0c467484674b4d41d1ed23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=WOGtHYLuh4LBgyn0mprnNsAI1vI%3D" alt="" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œè¿˜æä¾›äº† CDN å†…å®¹åŠ é€Ÿå’Œå„ç«¯çš„è§†é¢‘æ’­æ”¾å™¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/653edd875a8341ab9c05cd75ad425e84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=1pONour6XRLbj2n2ehbVyhCA05M%3D" alt="" loading="lazy"/></p>
<p>ä½ åŒçœ¼æ”¾å…‰ï¼šè¿™ä¹ˆå‰å®³ï¼Œå¦‚æœæˆ‘è‡ªå·±ä»é›¶å¼€å‘è¿™äº›åŠŸèƒ½ï¼Œè‡³å°‘å¾—å¥½å‡ ä¸ªæœˆå•Šï¼</p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè§†é¢‘ç‚¹æ’­æœåŠ¡ç›¸å½“äºå¸®ä½ åšäº†æ•´åˆï¼Œèƒ½å¤§å¹…æé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<p>ä½†æ˜¯å®ƒçš„è´¹ç”¨ä¹ŸåŒ…å«äº†å­˜å‚¨è´¹ã€è½¬ç è´¹å’Œæµé‡è´¹ï¼Œä»·æ ¼è·Ÿå‰é¢æåˆ°çš„æ–¹æ¡ˆä¸ç›¸ä¸Šä¸‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a3576717a14449a9f6dbb52f63f1b61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=ldvdrPTHZ0bwFiOdzP6MXPz%2BESA%3D" alt="" loading="lazy"/></p>
<p>ä½ å¹äº†å£æ°”ï¼šå”‰ï¼Œä¸»è¦è¿˜æ˜¯æµé‡è´¹å¤ªè´µäº†å•Šâ€¦â€¦</p>
<h2 data-id="heading-7">ç½‘ç«™ä¸Šçº¿è¿˜è¦å‡†å¤‡å•¥ï¼Ÿ</h2>
<p>é±¼çš®ï¼šè®²å®Œäº†å¼€å‘è§†é¢‘ç½‘ç«™éœ€è¦çš„æŠ€æœ¯ï¼Œæ¥ä¸‹æ¥è¯´è¯´ç½‘ç«™ä¸Šçº¿è¿˜éœ€è¦çš„å…¶ä»–ä¸œè¥¿ã€‚</p>
<p>ä½ ï¼šå•Šï¼Ÿè¿˜æœ‰å•¥ï¼Ÿ</p>
<p>é±¼çš®ï¼šé¦–å…ˆï¼Œä½ å¾—æœ‰ä¸ª <strong>åŸŸå</strong> ç»™ç”¨æˆ·è®¿é—®å§ï¼Ÿæ€»ä¸èƒ½è®©äººå®¶è®°ä½ çš„ IP åœ°å€å§ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ad101a4a1334363b62573e5b935c4be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=74T6jnD5s0NUySzuthb%2FD%2BaWBn0%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡åˆ«æ‹…å¿ƒï¼Œæ™®é€šåŸŸåä¸€å¹´ä¹Ÿå°±å‡ åå—é’±ï¼ˆæ¯”å¦‚æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.codefather.cn%2F" target="_blank" title="https://www.codefather.cn/" ref="nofollow noopener noreferrer">codefather.cn</a> æ‰ 38 / å¹´ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0aa980f0e0c04c88b51297d1aeab1ce0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=3bwuLq7SlGMK5ku7boEU%2Bvn5um0%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œå¦‚æœæ˜¯ç¨€ç¼ºçš„å¥½åŸŸåå°±æ¯”è¾ƒè´µäº†ï¼Œå‡ ç™¾å‡ åƒä¸‡çš„éƒ½æœ‰ï¼</p>
<p>ä½ ï¼šåˆ«è¯´äº†ï¼Œä¿ºéšä¾¿ä¹°ä¸ªä¾¿å®œçš„å°±è¡Œâ€¦â€¦</p>
<p>é±¼çš®ï¼šä¹°äº†åŸŸåè¿˜å¾—é… <strong>SSL è¯ä¹¦</strong>ï¼Œå› ä¸ºç°åœ¨åšç½‘ç«™éƒ½å¾—ç”¨ HTTPS åŠ å¯†ä¼ è¾“ï¼Œä¸ç„¶æµè§ˆå™¨ä¼šæç¤º â€œä¸å®‰å…¨â€ï¼Œç”¨æˆ·çœ‹äº†å°±è·‘äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd92589a296c4b908bae063be32b75fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=1glO2Z4JAm5qlQJ2TRRTwWjLC64%3D" alt="" loading="lazy"/></p>
<p>åˆšå¼€å§‹å¯ä»¥ç›´æ¥ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fletsencrypt.org%2Fzh-cn%2F" target="_blank" title="https://letsencrypt.org/zh-cn/" ref="nofollow noopener noreferrer">Let's Encrypt</a> æä¾›çš„å…è´¹è¯ä¹¦ï¼Œä½†åªæœ‰ 3 ä¸ªæœˆæœ‰æ•ˆæœŸï¼Œåˆ°æœŸè¦æ‰‹åŠ¨ç»­æœŸï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34f3bc89675643c99552efbe60af86bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=%2FGyuVVTwE4kqYv41NYIWON3Vm64%3D" alt="" loading="lazy"/></p>
<p>æƒ³çœå¿ƒçš„è¯å¯ä»¥ä¹°ä»˜è´¹è¯ä¹¦ï¼Œä¾¿å®œçš„ä¸€å¹´å‡ ç™¾å—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7309b99777724eb2ba75a0bca67f7f59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=5sWGmpADFlqGqUMh%2Bq6JnLLAKAU%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šäº†è§£ï¼Œé‚£æˆ‘å°±å…ˆç”¨å…è´¹çš„ï¼Œçœ‹æ¥ä¸Šçº¿ä¹ŸèŠ±ä¸äº†å‡ ä¸ªé’±ã€‚</p>
<p>é±¼çš®ï¼šå“ï¼Œå¯ä¸èƒ½è¿™ä¹ˆè¯´ï¼Œç½‘ç«™æ­£å¼ä¸Šçº¿è¿è¥åï¼ŒèŠ±é’±çš„åœ°æ–¹å¯å¤šç€å‘¢ï¼å°¤å…¶æ˜¯å®‰å…¨é˜²æŠ¤ã€‚</p>
<h2 data-id="heading-8">å®‰å…¨é˜²æŠ¤</h2>
<p>åšè§†é¢‘ç½‘ç«™è¦é¢å¯¹ä¸¤å¤§å®‰å…¨å¨èƒã€‚ç¬¬ä¸€ä¸ªæ˜¯ <strong>å†…å®¹å®‰å…¨</strong>ï¼Œä½ æ€»ä¸èƒ½è®©ç”¨æˆ·éšä¾¿ä¸Šä¼ è¿è§„è§†é¢‘å§ï¼Ÿä¸‡ä¸€ä¸Šä¼ äº†ä¸è¯¥ä¼ çš„å†…å®¹ï¼Œç½‘ç«™ç›´æ¥å°±è¢«å°äº†ã€‚</p>
<p>ä½ ç´§å¼ èµ·æ¥ï¼šå¯¹å•Šï¼Œæˆ‘äººå·¥å®¡æ ¸ä¹Ÿçœ‹ä¸è¿‡æ¥å•Šâ€¦â€¦ æ€ä¹ˆåŠï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24c06876918d4fa98d34d3850475b777~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=4QwLEcKUT%2BHtqTNM%2F%2FUV6ulJJo4%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šå¯ä»¥ç”¨å†…å®¹å®¡æ ¸æœåŠ¡ã€‚è§†é¢‘å®¡æ ¸åŒ…å«ç”»é¢å’Œå£°éŸ³ä¸¤éƒ¨åˆ†ï¼Œæ¯”æ–‡å­—å®¡æ ¸æ›´è´µï¼Œå®¡æ ¸ 1000 å°æ—¶è§†é¢‘ï¼Œå¤§æ¦‚å‡ åƒå—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/433230ed8e464fa49f97de874b0c50a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=V3xF3dBwtAySEae5UI0vmoA6n%2F0%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šè¿˜æœ‰ç¬¬äºŒä¸ªå¨èƒå‘¢ï¼Ÿ</p>
<p>é±¼çš®ï¼šç¬¬äºŒä¸ªæ˜¯æœ€æœ€æœ€éš¾åº”å¯¹çš„ <strong>ç½‘ç»œæ”»å‡»</strong>ã€‚åšè§†é¢‘ç½‘ç«™ï¼Œå°¤å…¶æ˜¯æœ‰ä»˜è´¹å†…å®¹çš„ï¼Œç‰¹åˆ«å®¹æ˜“è¢«æ”»å‡»ã€‚DDoS æµé‡æ”»å‡»æƒ³æŠŠä½ å†²å®ã€SQL æ³¨å…¥æƒ³å·ä½ æ•°æ®ã€XSS æ”»å‡»æƒ³æä½ ç”¨æˆ·ã€çˆ¬è™«æƒ³ç›—ä½ è§†é¢‘â€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b35b4230e04d40e4b66c92bbbc95fe99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=kvgZDhRl0nFA9ZoHPdGTiIpXi0c%3D" alt="" loading="lazy"/></p>
<p>ä½ ï¼šè¿™ä¹ˆåçš„å—ï¼Ÿé‚£æˆ‘å’‹é˜²å•Šï¼</p>
<p>é±¼çš®ï¼šå¸¸ç”¨çš„æ˜¯ Web åº”ç”¨é˜²ç«å¢™ï¼ˆWAFï¼‰å’Œ DDoS é˜²æŠ¤æœåŠ¡ã€‚Web é˜²ç«å¢™èƒ½é˜² SQL æ³¨å…¥ã€XSS æ”»å‡»è¿™äº›åº”ç”¨å±‚æ”»å‡»ï¼Œè€Œ DDoS é˜²æŠ¤èƒ½æŠµå¾¡å¤§è§„æ¨¡æµé‡å†²å‡»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad6df09fc9b54254bc6a6716af16c90d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=3NGxLmlZnj5VPX3GpLntYpSo3H8%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯è¿™äº›å•†ä¸šçº§æœåŠ¡éƒ½æŒºè´µçš„ï¼Œå¯èƒ½ä¸€å¹´å°±æ˜¯å‡ ä¸‡å‡ åä¸‡â€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3c2aca1e59446ca84e2d9bccafc96d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=03DbhY6RfynPK221qXXBAEmx9ew%3D" alt="" loading="lazy"/></p>
<p>ä½ æƒŠå‘¼ï¼šæˆ‘ä¸ºäº†é˜²æ­¢è¢«æ”»å‡»ï¼Œè¿˜è¦æ­è¿™ä¹ˆå¤šé’±ï¼Ÿï¼</p>
<p>é±¼çš®ç¬‘äº†ï¼šå¥½æ¶ˆæ¯æ˜¯ï¼Œæœ‰äº›äº‘æœåŠ¡å•†ä¼šæä¾›ä¸€ç‚¹ç‚¹å…è´¹çš„ DDoS åŸºç¡€é˜²æŠ¤ï¼Œè¿˜æœ‰ç›¸å¯¹ä¾¿å®œçš„è½»é‡ç‰ˆ DDoS é˜²æŠ¤åŒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e37309e41e1465dbbf25619df9b4801~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=vvK8TikXKV3DjJQPkogDo1oHXbk%3D" alt="" loading="lazy"/></p>
<p>æˆ‘çš„å»ºè®®æ˜¯ï¼Œåˆšå¼€å§‹å°±å…ˆç”¨å…è´¹çš„ï¼ŒåŠ ä¸Šä»£ç é‡Œåšå¥½é˜² SQL æ³¨å…¥ã€XSS è¿™äº›å®‰å…¨æªæ–½ï¼Œå…¶å®å¤Ÿç”¨äº†ã€‚ç­‰ç½‘ç«™çœŸåšèµ·æ¥ã€æœ‰æ”¶å…¥äº†ï¼Œå†èŠ±é’±ä¹°å•†ä¸šçº§çš„é˜²æŠ¤æœåŠ¡å°±å¥½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea2e0a07b68f41fa96808cb00a1ecb47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=pLMmv0F1euHtktkWmJsyn664Qy0%3D" alt="" loading="lazy"/></p>
<p>ä½ ç‚¹äº†ç‚¹å¤´ï¼šæ˜¯å‘€ï¼Œå¦‚æœæ²¡æ”¶å…¥ï¼Œè¢«æ”»å‡»å°±è¢«æ”»å‡»å§ï¼Œå“¼ï¼</p>
<p>é±¼çš®å¾®ç¬‘é“ï¼šä½ è¿™å¿ƒæ€ä¹Ÿä¸é”™å“ˆå“ˆã€‚é™¤äº†åˆšæ‰è¯´çš„è¿™äº›ï¼Œéšç€ä½ ç½‘ç«™çš„æˆç†Ÿï¼Œè¿˜å¯èƒ½ä¼šç”¨åˆ°å¾ˆå¤šç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œæ¯”å¦‚çŸ­ä¿¡éªŒè¯ç ã€é‚®ä»¶æ¨é€ã€ ç­‰ç­‰ï¼Œè¿™äº›ä¹Ÿéƒ½æ˜¯æˆæœ¬ã€‚</p>
<h2 data-id="heading-9">æ€»æˆæœ¬</h2>
<p>è®²åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å·²ç»äº†è§£äº†è§†é¢‘ç½‘ç«™çš„æ•´ä¸ªæŠ€æœ¯æ¶æ„å’Œæˆæœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8d426f917c24f63868a222f219d183a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=FERqAvOAVA3WhZ4ZM9d%2BIFSibjo%3D" alt="" loading="lazy"/></p>
<p>æœ€åå†æ€»ç»“ä¸€ä¸‹ï¼Œå¦‚æœä¸€ä¸ªäººåšä¸ªå°å‹çš„è§†é¢‘ç½‘ç«™ï¼Œä¸€å¹´åˆ°åº•è¦èŠ±å¤šå°‘é’±ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a704586af2c241ab99734daa33aae60b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=tNo0z8qQzTgbQupDdIF9D40emlo%3D" alt="" loading="lazy"/></p>
<p>ä½ çœ‹ç€è¿™ä¸ªè¡¨ï¼Œå€’å¸ä¸€å£å‡‰æ°”ï¼šè§†é¢‘ç½‘ç«™çš„æˆæœ¬çœŸé«˜å•Šâ€¦â€¦</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f59cb770f234be28e60647c0330275d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=GOpmRfSnUpHCbhsmCpWPdnbk3iE%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼Œè¿™è¿˜åªæ˜¯ä¿å®ˆä¼°è®¡ã€‚å¦‚æœä½ çš„ç½‘ç«™çœŸç«äº†ï¼Œæ¯å¤©å‡ ä¸‡äººçœ‹è§†é¢‘ï¼Œä¸€å¹´å…‰æµé‡è´¹å°±å¾—æœ‰å‡ åä¸‡å§ã€‚</p>
<p>è€Œä¸”åˆšæ‰è¯´çš„éƒ½åªæ˜¯ç½‘ç«™æœ¬èº«çš„æˆæœ¬ï¼Œå¦‚æœä½ ä¸€ä¸ªäººåšç´¯äº†ï¼Œè¦ç»„ä¸ªå›¢é˜Ÿå¼€å‘å‘¢ï¼Ÿ</p>
<p>æŒ‰ç…§ä¸€çº¿åŸå¸‚çš„æˆæœ¬ç®—ç®—ï¼Œå‰ç«¯å¼€å‘ + åç«¯å¼€å‘ + æµ‹è¯•å·¥ç¨‹å¸ˆ + è¿ç»´å·¥ç¨‹å¸ˆï¼Œå†åŠ ä¸Šäº”é™©ä¸€é‡‘ï¼Œå·®ä¸å¤šæ¯æœˆè¦æ¥è¿‘ 10 ä¸‡äº†ã€‚</p>
<p>ä½ çªå¤§çœ¼ç›ï¼šé‚£ä¸€å¹´å°±æ˜¯ä¸€ç™¾ä¸‡ï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8781e992a0984c35a1ab3973ea815dab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=TYHs8KvEpXcGCllhB9Mu6eefDro%3D" alt="" loading="lazy"/></p>
<p>é±¼çš®ï¼šæ²¡é”™ï¼ŒäººåŠ›æˆæœ¬æ‰æ˜¯æœ€è´µçš„ã€‚</p>
<p>ä½ ï¼šå¥½äº†ä½ åˆ«è¯´äº†ï¼Œæˆ‘ä¸åšäº†ï¼Œæˆ‘ä¸åšäº†ï¼æˆ‘ç°åœ¨ç»ˆäºç†è§£ä¸ºä»€ä¹ˆé‚£äº›ç½‘ç«™éƒ½è¦æ”¶è´¹äº†â€¦â€¦</p>
<p>é±¼çš®ï¼šä¸è¿‡è¯´å®è¯ï¼Œè™½ç„¶æˆæœ¬ä¸ä½ï¼Œä½†é‚£äº›ç½‘ç«™æ”¶è´¹çœŸçš„å¤ªè´µäº†ï¼Œå…¶å®æˆæœ¬è¿œæ²¡é‚£ä¹ˆé«˜ï¼Œæ›´å¤šçš„æ˜¯åˆ©ç”¨äººæ€§èµšå–æš´åˆ©ï¼</p>
<p>æ‰€ä»¥æ¯”èµ·èŠ±é’±çœ‹é‚£äº›ä¹±ä¸ƒå…«ç³Ÿçš„ç½‘ç«™ï¼ŒæŠŠé’±å’Œæ—¶é—´æŠ•èµ„åœ¨å­¦ä¹ ä¸Šï¼Œæ‰æ˜¯æœ€æœ‰ä»·å€¼çš„ã€‚</p>
<p>ä½ ç‚¹äº†ç‚¹å¤´ï¼šè¿™æ¬¡ä¸€å®šï¼å†çœ‹ä¸€æœŸä½ çš„æ•™ç¨‹ï¼Œæˆ‘å°±ç¡è§‰å•¦~</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1b3ae0a6eab45b885baa96d6f6479b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763960611&amp;x-signature=5PY7fuj%2B5Z8%2FGy6GHh9yn2YaSqc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å‘¨ 8000 Star çš„ AI é»‘å®¢ GitHub é¡¹ç›®]]></title>    <link>https://juejin.cn/post/7573170756868767796</link>    <guid>https://juejin.cn/post/7573170756868767796</guid>    <pubDate>2025-11-17T05:35:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573170756868767796" data-draft-id="7572836557142753280" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å‘¨ 8000 Star çš„ AI é»‘å®¢ GitHub é¡¹ç›®"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-11-17T05:35:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å‘¨ 8000 Star çš„ AI é»‘å®¢ GitHub é¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:35:08.000Z" title="Mon Nov 17 2025 05:35:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šå¤©é€› GitHub çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªåä¸º Strix çš„å¼€æºé¡¹ç›®ç™»ä¸Šäº†å¼€æºçƒ­æ¦œã€‚</p>
<p>ä¸€å‘¨å°±è·å¾—äº†è¿‘ 8K çš„ Starï¼Œå®ƒç”¨ AI é»‘å®¢å›¢é˜Ÿè‡ªåŠ¨æ¸—é€æµ‹è¯•ä½ çš„ä»£ç ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af1a472ded1943bea9541dc306dcb55c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962508&amp;x-signature=4GlS3PXzSWYmT0w9HTsoHrqGfzQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒç†å¿µç¡®å®æœ‰æ„æ€ï¼Œä¸åƒä¼ ç»Ÿçš„å®‰å…¨æ‰«æå·¥å…·ã€‚</p>
<p>Strix ä¸æ˜¯ç®€å•çš„è§„åˆ™åŒ¹é…å¼•æ“ï¼Œè€Œæ˜¯è®© AIÂ åƒçœŸå®é»‘å®¢ä¸€æ ·åœ¨ä½ çš„ç½‘ç«™æˆ–åº”ç”¨é‡Œæ‰¾æ¼æ´ã€‚æ¨¡æ‹ŸçœŸå®é»‘å®¢çš„æ€è€ƒå’Œè¡Œä¸ºæ–¹å¼ã€‚</p>
<h2 data-id="heading-0">01ã€å¼€æºé¡¹ç›®ä»‹ç»</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68fddd04dd0e490cacbde70bad0fd934~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962508&amp;x-signature=Sryv2Erd54mxEgJAn6sTWBQaopw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®ç°åœ¨æœ‰ 1 ä¸‡å¤šçš„æ˜Ÿæ˜Ÿã€‚</p>
<p>Strix é€šè¿‡ä¸€ç»„è‡ªä¸» AI æ™ºèƒ½ä½“ï¼ˆAI Agentsï¼‰æ¥ä¸€æ­¥æ­¥çš„æ‰§è¡ŒåŠ¨æ€å®‰å…¨æµ‹è¯•ï¼Œè¿™äº›æ™ºèƒ½ä½“èƒ½å¤Ÿåƒäººä¸€æ ·åˆ†æç›®æ ‡ã€åˆ¶å®šæ”»å‡»ç­–ç•¥å¹¶æ‰§è¡Œå®é™…æ”»å‡»ã€‚</p>
<p>åƒçœŸå®é»‘å®¢ä¸€æ ·åŠ¨æ€è¿è¡Œä»£ç æ¥æ‰¾æ¼æ´ã€‚</p>
<p>ä¸ä»…èƒ½å‘ç°æ½œåœ¨æ¼æ´ï¼Œè¿˜èƒ½é€šè¿‡ç”Ÿæˆæ¦‚å¿µéªŒè¯ï¼ˆPoCï¼‰æ¥ç¡®è®¤æ¼æ´æ˜¯ä¸æ˜¯çœŸçš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38981db073e1490b923969977cd45409~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962508&amp;x-signature=voDleMStRSuU7TDrmAEK8JgWE38%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®æœ€äº®çœ¼çš„åœ°æ–¹åœ¨äºå¤š AI æ™ºèƒ½ä½“ååŒæœºåˆ¶ï¼Œä¸åŒä¸“ä¸šé¢†åŸŸçš„ AI æ™ºèƒ½ä½“ä¼šåˆ†å·¥åä½œã€‚</p>
<p>æ¯”å¦‚ä¸“é—¨æ£€æµ‹ SSRF çš„æ™ºèƒ½ä½“ã€ä¸“æ”» IDOR æ¼æ´çš„æ™ºèƒ½ä½“ï¼Œå®ƒä»¬ä¼šå…±äº«å‘ç°ã€åŠ¨æ€åè°ƒï¼Œå®ç°å…¨é¢ä¸”é«˜æ•ˆçš„æµ‹è¯•è¦†ç›–ã€‚</p>
<p>å†…ç½®çš„å…¨å¥—é»‘å®¢å·¥å…·é›†ä¹Ÿçœå»äº†é¢å¤–é…ç½®çš„éº»çƒ¦ï¼Œä» HTTP ä»£ç†ã€æµè§ˆå™¨è‡ªåŠ¨åŒ–åˆ°ç»ˆç«¯ç¯å¢ƒã€ä»£ç åˆ†æåŠŸèƒ½ä¸€åº”ä¿±å…¨ï¼Œèƒ½åº”å¯¹å„ç±»å®‰å…¨æµ‹è¯•éœ€æ±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1b23aa18d8545a38642ded37db47d7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962508&amp;x-signature=ALX9ijKrHOcMIzsGELC%2FCuwgSsk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">02ã€å¦‚ä½•ä½¿ç”¨</h2>
<p>é¦–å…ˆï¼Œå¾—ç¡®ä¿ä½ çš„ç”µè„‘å·²å®‰è£… Docker å¹¶å¤„äºè¿è¡ŒçŠ¶æ€ï¼ŒåŒæ—¶éœ€è¦ Python 3.12 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚ç„¶åï¼ŒæŒ‰ç…§å¦‚ä¸‹å®‰è£…æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"># é€šè¿‡pipxå®‰è£…Strixpipx install strix-agent# é…ç½®AIæœåŠ¡æä¾›å•†ï¼ˆå¦‚OpenAIï¼‰<span class="hljs-keyword">export</span>Â STRIX_LLM=<span class="hljs-string">"openai/gpt-5"</span><span class="hljs-keyword">export</span>Â LLM_API_KEY=<span class="hljs-string">"your-api-key"</span># è¿è¡Œé¦–æ¬¡å®‰å…¨è¯„ä¼°strix --target ./app-directory
</code></pre>
<p>æœ‰è¿›é˜¶ç”¨æ³•ï¼Œå¯¹äºéœ€è¦èº«ä»½éªŒè¯çš„ç°ç›’æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">strixÂ --target https://your-app.com --instructionÂ <span class="hljs-string">"ä½¿ç”¨å‡­è¯user:passæ‰§è¡Œèº«ä»½éªŒè¯æµ‹è¯•"</span>
</code></pre>
<p>åœ¨CI/CDç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨éäº¤äº’æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">strix -n --targetÂ https:<span class="hljs-comment">//your-app.com</span>
</code></pre>
<p>é¦–æ¬¡è¿è¡Œæ—¶ä¼šè‡ªåŠ¨ä¸‹è½½æ²™ç›’ Docker é•œåƒï¼Œæµ‹è¯•ç»“æœå°†ä¿å­˜åˆ° agent_runs/&lt;è¿è¡Œåç§°&gt;ç›®å½•ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½“éªŒRWKV-7è®­ç»ƒå…¨è¿‡ç¨‹ï¼Œåªéœ€400è¡Œä»£ç è®­ç»ƒ3åˆ†é’Ÿ]]></title>    <link>https://juejin.cn/post/7573193563053998121</link>    <guid>https://juejin.cn/post/7573193563053998121</guid>    <pubDate>2025-11-17T03:43:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573193563053998121" data-draft-id="7573187591223509046" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½“éªŒRWKV-7è®­ç»ƒå…¨è¿‡ç¨‹ï¼Œåªéœ€400è¡Œä»£ç è®­ç»ƒ3åˆ†é’Ÿ"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-11-17T03:43:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RWKVå…ƒå§‹æ™ºèƒ½"/> <meta itemprop="url" content="https://juejin.cn/user/2632701233600332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½“éªŒRWKV-7è®­ç»ƒå…¨è¿‡ç¨‹ï¼Œåªéœ€400è¡Œä»£ç è®­ç»ƒ3åˆ†é’Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2632701233600332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RWKVå…ƒå§‹æ™ºèƒ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:43:20.000Z" title="Mon Nov 17 2025 03:43:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬å‘å¸ƒäº† <code>rwkv7_train_simplified.py</code> ï¼Œæ¼”ç¤º RWKV-7 "Goose" æ¶æ„çš„è®­ç»ƒå…¨è¿‡ç¨‹ï¼Œæ— éœ€ä»»ä½•å¤–éƒ¨è®­ç»ƒæ¡†æ¶ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBlinkDL%2FRWKV-LM%2Fblob%2Fmain%2FRWKV-v7%2Ftrain_temp%2Frwkv7_train_simplified.py" target="_blank" title="https://github.com/BlinkDL/RWKV-LM/blob/main/RWKV-v7/train_temp/rwkv7_train_simplified.py" ref="nofollow noopener noreferrer">github.com/BlinkDL/RWKâ€¦</a></li>
</ul>
<p>è„šæœ¬å°†åŸºäº 2 å±‚ RWKV-7 æ¨¡å‹ï¼ˆä»… 30860 ä¸ªå‚æ•°ï¼‰è®­ç»ƒâ€œ<strong>æ•°å­—ç¿»è½¬</strong>â€ä»»åŠ¡ï¼š<strong>ç»™å®šéšæœºæ•°å­—ï¼ˆä¾‹å¦‚<code>168,</code>ä»¥é€—å·ç»“å°¾ï¼‰ï¼Œæ¨¡å‹è¾“å‡ºå…¶åè½¬ï¼ˆä¾‹å¦‚<code>861#</code>ä»¥#ç»“å°¾ï¼‰</strong>ã€‚è¿™ä¸ªä»»åŠ¡å¯æµ‹è¯•æ¨¡å‹çš„é•¿è·ç¦»å»ºæ¨¡èƒ½åŠ›ã€‚</p>
<p>æ•´ä¸ªè®­ç»ƒè„šæœ¬çº¦ 400 è¡Œä»£ç ï¼š</p>
<ol>
<li>è®­ç»ƒç¯å¢ƒä¸è¶…å‚æ•°è®¾ç½®</li>
<li>è‡ªå®šä¹‰ CUDA ç®—å­ (WindBackstepping)</li>
<li>RWKV æ ¸å¿ƒçš„ Time Mix æœºåˆ¶ (RWKV_Tmix_x070)</li>
<li>ç”Ÿæˆâ€œæ•°å­—ç¿»è½¬â€è®­ç»ƒæ•°æ®çš„ä»£ç  (batch)</li>
<li>RWKV çš„ Channel Mix æ¨¡å— (FFN)</li>
<li>RWKV çš„æ¨¡å‹ç»“æ„å®šä¹‰ (MODEL)</li>
<li>è®­ç»ƒä»£ç  (ä¼˜åŒ–å™¨ä¸åå‘ä¼ æ’­)</li>
<li>æ¨¡å‹æ•ˆæœè¯„ä¼°</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬å°†å¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œå¸¦æ³¨é‡Šçš„è¯¦ç»†ä»‹ç»ã€‚</p>
<h2 data-id="heading-0">1. ç¯å¢ƒä¸è¶…å‚æ•°è®¾ç½®</h2>
<p><code>Line 1 ~ 28</code>è´Ÿè´£è®­ç»ƒç¯å¢ƒä¸è¶…å‚æ•°è®¾ç½®ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>å¯¼å…¥æ‰€æœ‰å¿…éœ€çš„åº“ï¼ˆå¦‚ <code>torch</code>, <code>wandb</code>, <code>numpy</code> ç­‰ï¼‰</li>
<li>è®¾ç½®å…¨å±€éšæœºç§å­ï¼ˆ<code>set_seed_all(42)</code>ï¼‰ä»¥ç¡®ä¿å®éªŒçš„å¯å¤ç°æ€§</li>
<li>å®šä¹‰æ•´ä¸ªè„šæœ¬æ‰€éœ€çš„æ ¸å¿ƒè¶…å‚æ•°ï¼Œä¾‹å¦‚è¯æ±‡è¡¨å¤§å° (<code>V</code>)ã€åµŒå…¥ç»´åº¦ (<code>C</code>)ã€æ‰¹æ¬¡å¤§å° (<code>B</code>)ã€åºåˆ—é•¿åº¦ (<code>T</code>) å’Œå­¦ä¹ ç‡ (<code>lr0</code>, <code>lr1</code>)</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> random, torch, os, math, time
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> wandb, datetime
<span class="hljs-keyword">from</span> types <span class="hljs-keyword">import</span> SimpleNamespace
<span class="hljs-keyword">import</span> torch, random
<span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> nn
<span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F
<span class="hljs-keyword">from</span> torch.nn.utils <span class="hljs-keyword">import</span> clip_grad_norm_
<span class="hljs-keyword">from</span> torch.utils.cpp_extension <span class="hljs-keyword">import</span> load
<span class="hljs-comment"># è®¾ç½®æ‰€æœ‰éšæœºç§å­ä»¥ç¡®ä¿å¯å¤ç°æ€§</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">set_seed_all</span>(<span class="hljs-params">seed</span>):
    torch.manual_seed(seed)
    torch.cuda.manual_seed_all(seed)
    random.seed(seed)
    np.random.seed(seed)

set_seed_all(<span class="hljs-number">42</span>)  <span class="hljs-comment"># ä½¿ç”¨å›ºå®šç§å­ 42</span>
device = <span class="hljs-string">'cuda'</span>  <span class="hljs-comment"># ä½¿ç”¨ GPU è®­ç»ƒ</span>

MyModule = torch.jit.ScriptModule
MyFunction = torch.jit.script_method
<span class="hljs-comment"># å…¨å±€è¶…å‚æ•°</span>
V = <span class="hljs-number">12</span>           <span class="hljs-comment"># è¯æ±‡è¡¨å¤§å°ï¼š0-9 æ•°å­— + ,(é€—å·) + #(äº•å·)</span>
C = <span class="hljs-number">32</span>           <span class="hljs-comment"># åµŒå…¥ç»´åº¦ (n_embd) = 32 (éå¸¸å°ï¼Œä»…ç”¨äºæ¼”ç¤º)</span>
B = <span class="hljs-number">256</span>          <span class="hljs-comment"># æ‰¹æ¬¡å¤§å°</span>
T = <span class="hljs-number">129</span>          <span class="hljs-comment"># åºåˆ—é•¿åº¦</span>
steps = <span class="hljs-number">10000</span>    <span class="hljs-comment"># è®­ç»ƒæ­¥æ•°</span>
lr0 = <span class="hljs-number">4e-3</span>       <span class="hljs-comment"># åˆå§‹å­¦ä¹ ç‡</span>
lr1 = <span class="hljs-number">1e-6</span>       <span class="hljs-comment"># æœ€ç»ˆå­¦ä¹ ç‡ï¼ˆä½™å¼¦é€€ç«ï¼‰</span>
DIGIT_MAX = <span class="hljs-number">60</span>   <span class="hljs-comment"># ä»»åŠ¡ç‰¹å®šå‚æ•°ï¼šè¾“å…¥æ•°å­—çš„æœ€å¤§ä½æ•°</span>
</code></pre>
<h2 data-id="heading-1">2. è‡ªå®šä¹‰ CUDA ç®—å­</h2>
<p><code>Line 51 ~ 65 (WindBackstepping)</code> æ˜¯åŠ é€Ÿ RWKV-7 æ¶æ„è®­ç»ƒæ€§èƒ½çš„ CUDA æ ¸å¿ƒä»£ç ï¼š</p>
<ul>
<li>åŠ¨æ€ç¼–è¯‘å’ŒåŠ è½½è‡ªå®šä¹‰çš„ C++/CUDA ç®—å­æºä»£ç ï¼ˆ<code>wkv7_cuda_fp32.cu</code>ï¼‰</li>
<li>å®šä¹‰äº† <code>WindBackstepping</code> ç±»ï¼Œä¸€ä¸ªè‡ªå®šä¹‰çš„ <code>torch.autograd.Function</code></li>
<li>å®ç°äº† RWKV-7 é«˜æ•ˆçš„ã€åˆ†å—çš„ï¼ˆchunkedï¼‰å¹¶è¡Œå‰å‘ä¼ æ’­ï¼Œä»¥åŠä¸€ä¸ªé…å¥—çš„è‡ªå®šä¹‰åå‘ä¼ æ’­ç®—æ³•</li>
</ul>
<p><code>RUN_CUDA_RWKV7g</code> æ˜¯è°ƒç”¨æ­¤ CUDA æ ¸å¿ƒçš„ Python åŒ…è£…å™¨ï¼Œè´Ÿè´£å¤„ç†å¼ é‡çš„å½¢çŠ¶ï¼ˆreshapeï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python">HEAD_SIZE = <span class="hljs-number">16</span> <span class="hljs-comment"># æ¯ä¸ªå¤´çš„ç»´åº¦ã€‚ç”¨äºè¯­è¨€æ¨¡å‹ (LM) æ—¶åº”ä¸º 64</span>
CHUNK_LEN = <span class="hljs-number">16</span> <span class="hljs-comment"># CUDA å¤„ç†çš„å—é•¿åº¦</span>
<span class="hljs-comment"># ç¼–è¯‘ CUDA æ ¸å¿ƒï¼Œå®šä¹‰äº†å¤´å¤§å°ã€å—é•¿åº¦ã€ä¼˜åŒ–çº§åˆ«ç­‰</span>
flags = [<span class="hljs-string">'-res-usage'</span>, <span class="hljs-string">f'-D_C_=<span class="hljs-subst">{HEAD_SIZE}</span>'</span>, <span class="hljs-string">f"-D_CHUNK_LEN_=<span class="hljs-subst">{CHUNK_LEN}</span>"</span>, <span class="hljs-string">"--use_fast_math"</span>, <span class="hljs-string">"-O3"</span>, <span class="hljs-string">"-Xptxas -O3"</span>, <span class="hljs-string">"--extra-device-vectorization"</span>]
<span class="hljs-comment"># åŠ è½½ cuda ç›®å½•çš„ç®—å­ï¼Œä¸ºç®€åŒ–ï¼Œæœ¬æ–‡çš„è®­ç»ƒåªæ”¯æŒ fp32 ç²¾åº¦</span>
load(name=<span class="hljs-string">"wind_backstepping"</span>, sources=[<span class="hljs-string">f'cuda/wkv7_cuda_fp32.cu'</span>, <span class="hljs-string">'cuda/wkv7_op_fp32.cpp'</span>], is_python_module=<span class="hljs-literal">False</span>, verbose=<span class="hljs-literal">False</span>, extra_cuda_cflags=flags)
<span class="hljs-comment"># è‡ªå®šä¹‰çš„ PyTorch è‡ªåŠ¨æ±‚å¯¼å‡½æ•°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WindBackstepping</span>(torch.autograd.Function):
<span class="hljs-meta">    @staticmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">ctx, w,q,k,v,z,b</span>):  <span class="hljs-comment"># ctx ç”¨äºä¿å­˜åå‘ä¼ æ’­æ‰€éœ€çš„æ•°æ®</span>
        B,T,H,C = w.shape  <span class="hljs-comment"># è·å–ç»´åº¦</span>
        <span class="hljs-keyword">assert</span> T%CHUNK_LEN == <span class="hljs-number">0</span> <span class="hljs-comment"># è¾“å…¥é•¿åº¦å¿…é¡»æ˜¯ CHUNK_LEN çš„å€æ•°</span>
        <span class="hljs-keyword">assert</span> <span class="hljs-built_in">all</span>(i.dtype==torch.float32 <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [w,q,k,v,z,b]) <span class="hljs-comment"># ä¸ºç®€åŒ–ï¼Œæœ¬æ–‡çš„è®­ç»ƒåªæ”¯æŒ fp32 ç²¾åº¦</span>
        <span class="hljs-keyword">assert</span> <span class="hljs-built_in">all</span>(i.is_contiguous() <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [w,q,k,v,z,b])  <span class="hljs-comment"># è¿ç»­å†…å­˜</span>
        y = torch.empty_like(v)
        s = torch.empty(B,H,T//CHUNK_LEN,C,C, dtype=torch.float32,device=w.device)
        sa = torch.empty(B,T,H,C, dtype=torch.float32,device=w.device)
        torch.ops.wind_backstepping.forward(w,q,k,v,z,b, y,s,sa)<span class="hljs-comment"># è°ƒç”¨ç¼–è¯‘å¥½çš„ CUDA å‰å‘æ ¸å¿ƒ</span>
        ctx.save_for_backward(w,q,k,v,z,b,s,sa) <span class="hljs-comment"># ä¿å­˜åå‘ä¼ æ’­æ‰€éœ€çš„å¼ é‡</span>
        <span class="hljs-keyword">return</span> y 
<span class="hljs-meta">    @staticmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">backward</span>(<span class="hljs-params">ctx, dy</span>):  <span class="hljs-comment"># dy æ˜¯ y çš„æ¢¯åº¦</span>
        <span class="hljs-keyword">assert</span> <span class="hljs-built_in">all</span>(i.dtype==torch.float32 <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [dy]) 
        <span class="hljs-keyword">assert</span> <span class="hljs-built_in">all</span>(i.is_contiguous() <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [dy])
        w,q,k,v,z,b,s,sa = ctx.saved_tensors <span class="hljs-comment"># å–å‡ºå‰å‘ä¼ æ’­ä¸­ä¿å­˜çš„å¼ é‡</span>
        dw,dq,dk,dv,dz,db = [torch.empty_like(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> [w,q,k,v,z,b]] <span class="hljs-comment"># ä¸ºè¾“å…¥çš„æ¢¯åº¦åˆ†é…ç©ºé—´</span>
        torch.ops.wind_backstepping.backward(w,q,k,v,z,b, dy,s,sa, dw,dq,dk,dv,dz,db) <span class="hljs-comment"># è°ƒç”¨ç¼–è¯‘å¥½çš„ CUDA åå‘æ ¸å¿ƒ</span>
        <span class="hljs-keyword">return</span> dw,dq,dk,dv,dz,db  <span class="hljs-comment"># è¿”å›æ‰€æœ‰è¾“å…¥çš„æ¢¯åº¦</span>
<span class="hljs-comment"># åŒ…è£…å‡½æ•°ï¼Œç”¨äºå¤„ç†å„ç§å½¢çŠ¶</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">RUN_CUDA_RWKV7g</span>(<span class="hljs-params">q,w,k,v,a,b</span>):
    B,T,HC = q.shape
    q,w,k,v,a,b = [i.view(B,T,HC//<span class="hljs-number">16</span>,<span class="hljs-number">16</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [q,w,k,v,a,b]] <span class="hljs-comment"># åŒ¹é… 16 head size </span>
    <span class="hljs-comment"># q,w,k,v,a,b = [i.view(B,T,HC//64,64) for i in [q,w,k,v,a,b]] # è®­ç»ƒè¯­è¨€æ¨¡å‹ç”¨çš„ 64 head size</span>
    <span class="hljs-keyword">return</span> WindBackstepping.apply(w,q,k,v,a,b).view(B,T,HC)
</code></pre>
<h2 data-id="heading-2">3. RWKV-7 æ—¶é—´æ··åˆæ¨¡å—</h2>
<p><code>Line 66 ~ 180 (RWKV_Tmix_x070)</code>æ˜¯ RWKV7 çš„æ ¸å¿ƒæ¨¡å— "Tmix" (Time-mixing)ï¼Œè´Ÿè´£åœ¨æ—¶é—´ç»´åº¦ä¸Šæ··åˆä¿¡æ¯ï¼š</p>
<ul>
<li>ä½¿ç”¨çº¿æ€§å¤æ‚åº¦çš„é€’å½’çŠ¶æ€æ›´æ–°,æ›¿ä»£ Transformer ä¸­äºŒæ¬¡å¤æ‚åº¦çš„è‡ªæ³¨æ„åŠ›è®¡ç®—</li>
<li>å¼•å…¥æ—¶é—´æ··åˆï¼ˆTime-Mixingï¼‰æœºåˆ¶ï¼Œé€šè¿‡å¯å­¦ä¹ çš„æ’å€¼å‚æ•°æ··åˆå½“å‰å’Œå†å²ä¿¡æ¯</li>
</ul>
<p>ä¸‹å›¾æ˜¯ RWKV7 è®ºæ–‡ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2503.14456%25EF%25BC%2589%25E4%25B8%25AD%25E7%259A%2584" target="_blank" title="https://arxiv.org/pdf/2503.14456%EF%BC%89%E4%B8%AD%E7%9A%84" ref="nofollow noopener noreferrer">arxiv.org/pdf/2503.14â€¦</a> Time Mixï¼ˆå¾ªç¯æ¨¡å¼ï¼‰ç»“æ„ï¼Œ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b62e41443e7a4fb7948695386c2130d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUldLVuWFg-Wni-aZuuiDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955799&amp;x-signature=HFoyTjr%2BEU9Dx9pqN626UnAwkW0%3D" alt="rwkv7 è®ºæ–‡ä¸­çš„ Time Mix ç»“æ„" loading="lazy"/></p>
<p>ä¸ä¹‹å¯¹åº”çš„æ˜¯ <code>RWKV_Tmix_x070</code> çš„ <code>def forward</code> ä»£ç ï¼ˆå¹¶è¡Œæ¨¡å¼ï¼‰ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RWKV_Tmix_x070</span>(<span class="hljs-title class_ inherited__">MyModule</span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, args, layer_id</span>):
        <span class="hljs-built_in">super</span>().__init__()
        self.args = args
        self.layer_id = layer_id
        self.head_size = args.head_size
        self.n_head = args.dim_att // self.head_size
        <span class="hljs-keyword">assert</span> args.dim_att % self.n_head == <span class="hljs-number">0</span>
        H = self.n_head
        N = self.head_size <span class="hljs-comment"># N = Head Size</span>
        C = args.n_embd <span class="hljs-comment"># C = n_embd = dim_att</span>
        <span class="hljs-keyword">with</span> torch.no_grad(): <span class="hljs-comment"># åˆå§‹åŒ–é˜¶æ®µï¼Œä¸éœ€è¦æ¢¯åº¦</span>
            <span class="hljs-comment"># === åˆå§‹åŒ– "Time-Mixing" å‚æ•° (ç”¨äº x å’Œ x[t-1] ä¹‹é—´çš„æ’å€¼) ===</span>
            ratio_0_to_1 = layer_id / (args.n_layer - <span class="hljs-number">1</span>) 
            ratio_1_to_almost0 = <span class="hljs-number">1.0</span> - (layer_id / args.n_layer) 
            <span class="hljs-comment"># ä» 0 åˆ° 1 çš„å‘é‡ï¼Œå½¢çŠ¶ (1, 1, C)</span>
            ddd = torch.ones(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, C)
            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(C):
                ddd[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, i] = i / C
            <span class="hljs-comment"># x_r, x_w, ... æ˜¯å¯è®­ç»ƒçš„å‚æ•°ï¼Œç”¨äºæ··åˆ x å’Œ x[t-1]</span>
            self.x_r = nn.Parameter(<span class="hljs-number">1.0</span> - torch.<span class="hljs-built_in">pow</span>(ddd, <span class="hljs-number">0.2</span> * ratio_1_to_almost0))
            self.x_w = nn.Parameter(<span class="hljs-number">1.0</span> - torch.<span class="hljs-built_in">pow</span>(ddd, <span class="hljs-number">0.9</span> * ratio_1_to_almost0))
            self.x_k = nn.Parameter(<span class="hljs-number">1.0</span> - torch.<span class="hljs-built_in">pow</span>(ddd, <span class="hljs-number">0.7</span> * ratio_1_to_almost0))
            self.x_v = nn.Parameter(<span class="hljs-number">1.0</span> - torch.<span class="hljs-built_in">pow</span>(ddd, <span class="hljs-number">0.7</span> * ratio_1_to_almost0))
            self.x_a = nn.Parameter(<span class="hljs-number">1.0</span> - torch.<span class="hljs-built_in">pow</span>(ddd, <span class="hljs-number">0.9</span> * ratio_1_to_almost0))
            self.x_g = nn.Parameter(<span class="hljs-number">1.0</span> - torch.<span class="hljs-built_in">pow</span>(ddd, <span class="hljs-number">0.2</span> * ratio_1_to_almost0))
            <span class="hljs-comment"># æ­£äº¤åˆå§‹åŒ–è¾…åŠ©å‡½æ•°</span>
            <span class="hljs-keyword">def</span> <span class="hljs-title function_">ortho_init</span>(<span class="hljs-params">x, scale</span>):
                <span class="hljs-keyword">with</span> torch.no_grad():
                    shape = x.shape
                    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(shape) == <span class="hljs-number">2</span>:
                        gain = math.sqrt(shape[<span class="hljs-number">0</span>] / shape[<span class="hljs-number">1</span>]) <span class="hljs-keyword">if</span> shape[<span class="hljs-number">0</span>] &gt; shape[<span class="hljs-number">1</span>] <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>
                        nn.init.orthogonal_(x, gain=gain * scale)
                    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(shape) == <span class="hljs-number">3</span>: 
                        gain = math.sqrt(shape[<span class="hljs-number">1</span>] / shape[<span class="hljs-number">2</span>]) <span class="hljs-keyword">if</span> shape[<span class="hljs-number">1</span>] &gt; shape[<span class="hljs-number">2</span>] <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>
                        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(shape[<span class="hljs-number">0</span>]):
                            nn.init.orthogonal_(x[i], gain=gain * scale)
                    <span class="hljs-keyword">else</span>:
                        <span class="hljs-keyword">assert</span> <span class="hljs-literal">False</span>
                    <span class="hljs-keyword">return</span> x
            <span class="hljs-comment"># === åˆå§‹åŒ– W (time_decay) å’Œ A (in-context LR) ===</span>
            www = torch.zeros(C) <span class="hljs-comment"># ç”¨äº time_decay (W)</span>
            zigzag = torch.zeros(C) <span class="hljs-comment"># é”¯é½¿å½¢æ¨¡å¼ï¼Œç”¨äºæ¨¡æ‹Ÿå¤´å†…ä½ç½®</span>
            linear = torch.zeros(C) <span class="hljs-comment"># çº¿æ€§æ¨¡å¼</span>
            <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(C):
                linear[n] = n / (C-<span class="hljs-number">1</span>) - <span class="hljs-number">0.5</span> <span class="hljs-comment"># çº¿æ€§ä» -0.5 åˆ° 0.5</span>
                <span class="hljs-comment"># é”¯é½¿æ³¢ï¼Œåœ¨æ¯ä¸ª head (N) å†…éƒ¨ä» -1 åˆ° 1</span>
                zigzag[n] = ((n % N) - ((N-<span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)) / ((N-<span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)
                zigzag[n] = zigzag[n] * <span class="hljs-built_in">abs</span>(zigzag[n]) <span class="hljs-comment"># ä½¿å…¶æ›´é›†ä¸­åœ¨ 0 é™„è¿‘</span>
                <span class="hljs-comment"># time_decay çš„åŸºå‡†å€¼ (www)</span>
                www[n] = -<span class="hljs-number">6</span> + <span class="hljs-number">6</span> * (n / (C - <span class="hljs-number">1</span>)) ** (<span class="hljs-number">1</span> + <span class="hljs-number">1</span> * ratio_0_to_1 ** <span class="hljs-number">0.3</span>)

            <span class="hljs-comment"># === W (Time Decay) çš„ LoRA-like å‚æ•° ===</span>
            D_DECAY_LORA = <span class="hljs-number">8</span> <span class="hljs-comment"># è¯­è¨€æ¨¡å‹ç”¨ max(32, int(round(  (2.5*(C**0.5))  /32)*32))</span>
            self.w1 = nn.Parameter(torch.zeros(C, D_DECAY_LORA)) <span class="hljs-comment"># (C, D)</span>
            self.w2 = nn.Parameter(ortho_init(torch.zeros(D_DECAY_LORA, C), <span class="hljs-number">0.1</span>)) <span class="hljs-comment"># (D, C)</span>
            self.w0 = nn.Parameter(www.reshape(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,C) + <span class="hljs-number">0.5</span> + zigzag*<span class="hljs-number">2.5</span>) <span class="hljs-comment"># (1,1,C) åŸºå‡†</span>

            <span class="hljs-comment"># === A (Alpha) çš„ LoRA-like å‚æ•° ===</span>
            D_AAA_LORA = <span class="hljs-number">8</span> <span class="hljs-comment"># è¯­è¨€æ¨¡å‹ç”¨ max(32, int(round(  (2.5*(C**0.5))  /32)*32))</span>
            self.a1 = nn.Parameter(torch.zeros(C, D_AAA_LORA))
            self.a2 = nn.Parameter(ortho_init(torch.zeros(D_AAA_LORA, C), <span class="hljs-number">0.1</span>))
            self.a0 = nn.Parameter(torch.zeros(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,C)-<span class="hljs-number">0.19</span> + zigzag*<span class="hljs-number">0.3</span> + linear*<span class="hljs-number">0.4</span>) <span class="hljs-comment"># åŸºå‡†</span>

            <span class="hljs-comment"># === V (Value) æ®‹å·®æ··åˆçš„ LoRA-like å‚æ•° ===</span>
            D_MV_LORA = <span class="hljs-number">8</span> <span class="hljs-comment"># è¯­è¨€æ¨¡å‹ç”¨ max(32, int(round(  (1.7*(C**0.5))  /32)*32))</span>
            self.v1 = nn.Parameter(torch.zeros(C, D_MV_LORA))
            self.v2 = nn.Parameter(ortho_init(torch.zeros(D_MV_LORA, C), <span class="hljs-number">0.1</span>))
            self.v0 = nn.Parameter(torch.zeros(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,C)+<span class="hljs-number">0.73</span> - linear*<span class="hljs-number">0.4</span>) <span class="hljs-comment"># åŸºå‡†</span>

            <span class="hljs-comment"># === G (Gate) çš„ LoRA-like å‚æ•° ===</span>
            D_GATE_LORA = <span class="hljs-number">8</span> <span class="hljs-comment">#  è¯­è¨€æ¨¡å‹ç”¨ max(32, int(round(  (5*(C**0.5))  /32)*32))</span>
            self.g1 = nn.Parameter(torch.zeros(C, D_GATE_LORA))
            self.g2 = nn.Parameter(ortho_init(torch.zeros(D_GATE_LORA, C), <span class="hljs-number">0.1</span>))

            <span class="hljs-comment"># === K (Key) å’Œ R (Receptance) çš„é¢å¤–å‚æ•° ===</span>
            self.k_k = nn.Parameter(torch.zeros(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,C)+<span class="hljs-number">0.71</span> - linear*<span class="hljs-number">0.1</span>)
            self.k_a = nn.Parameter(torch.zeros(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,C)+<span class="hljs-number">1.02</span>)
            self.r_k = nn.Parameter(torch.zeros(H,N)-<span class="hljs-number">0.04</span>) <span class="hljs-comment"># (Heads, Head_Size)</span>

            <span class="hljs-comment"># === æ ¸å¿ƒç»„ä»¶ ===</span>
            <span class="hljs-comment"># Time-shift: (1, -1) padding åœ¨æ—¶é—´ç»´åº¦ (T) ä¸Šå®ç° x[t-1]</span>
            self.time_shift = nn.ZeroPad2d((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>))
            <span class="hljs-comment"># R, K, V, O çº¿æ€§æŠ•å½±å±‚</span>
            self.receptance = nn.Linear(C, C, bias=<span class="hljs-literal">False</span>)
            self.key = nn.Linear(C, C, bias=<span class="hljs-literal">False</span>)
            self.value = nn.Linear(C, C, bias=<span class="hljs-literal">False</span>)
            self.output = nn.Linear(C, C, bias=<span class="hljs-literal">False</span>)
            <span class="hljs-comment"># å½’ä¸€åŒ–ï¼šæŒ‰å¤´ (H) åˆ†ç»„çš„ GroupNormï¼Œeps=64e-5 æ˜¯ä¸€ä¸ªéæ ‡å‡†ä½†æœ‰æ•ˆçš„å€¼</span>
            self.ln_x = nn.GroupNorm(H, C, eps=<span class="hljs-number">64e-5</span>)

            <span class="hljs-comment"># åˆå§‹åŒ– R, K, V, O çš„æƒé‡</span>
            self.receptance.weight.data.uniform_(-<span class="hljs-number">0.5</span>/(C**<span class="hljs-number">0.5</span>), <span class="hljs-number">0.5</span>/(C**<span class="hljs-number">0.5</span>))
            self.key.weight.data.uniform_(-<span class="hljs-number">0.05</span>/(C**<span class="hljs-number">0.5</span>), <span class="hljs-number">0.05</span>/(C**<span class="hljs-number">0.5</span>)) <span class="hljs-comment"># K çš„åˆå§‹åŒ–èŒƒå›´æ›´å°</span>
            self.value.weight.data.uniform_(-<span class="hljs-number">0.5</span>/(C**<span class="hljs-number">0.5</span>), <span class="hljs-number">0.5</span>/(C**<span class="hljs-number">0.5</span>))
            self.output.weight.data.zero_() <span class="hljs-comment"># è¾“å‡ºå±‚åˆå§‹åŒ–ä¸º 0 (é‡è¦æŠ€å·§)</span>
    
<span class="hljs-meta">    @MyFunction</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x, v_first</span>): 
        B, T, C = x.size()
        H = self.n_head
        <span class="hljs-comment"># 1. Token Shift æ¨¡å—ï¼Œæ¥å—è¾“å…¥</span>
        xx = self.time_shift(x) - x <span class="hljs-comment"># xx = x[t-1] - x[t]</span>
        <span class="hljs-comment"># çº¿æ€§æ’å€¼ (Lerp): x + (x[t-1] - x[t]) * mix_param</span>
        xr = x + xx * self.x_r
        xw = x + xx * self.x_w
        xk = x + xx * self.x_k
        xv = x + xx * self.x_v
        xa = x + xx * self.x_a
        xg = x + xx * self.x_g
        <span class="hljs-comment"># 2. Weight Prepare æ¨¡å—ï¼Œæ¥æ”¶ Token Shift è¾“å‡ºï¼Œå¹¶ç”Ÿæˆ G, R, W, K, V, A å‘é‡</span>
        r = self.receptance(xr) <span class="hljs-comment"># (B,T,C)</span>
        w = -F.softplus(-(self.w0 + torch.tanh(xw @ self.w1) @ self.w2)) - <span class="hljs-number">0.5</span> <span class="hljs-comment"># W (time_decay): é€šè¿‡ LoRA è®¡ç®—å¹¶ç”¨ softplus é’³ä½åˆ° (-inf, -0.5)</span>
        k = self.key(xk) <span class="hljs-comment"># (B,T,C)</span>
        v = self.value(xv) <span class="hljs-comment"># (B,T,C)</span>
        <span class="hljs-keyword">if</span> self.layer_id == <span class="hljs-number">0</span>:
            v_first = v <span class="hljs-comment"># ç¬¬ä¸€å±‚ï¼šå­˜å‚¨ v</span>
        <span class="hljs-keyword">else</span>:
            v = v + (v_first - v) * torch.sigmoid(self.v0 + (xv @ self.v1) @ self.v2) <span class="hljs-comment"># åç»­å±‚ï¼šå°† v ä¸ç¬¬ä¸€å±‚çš„ v_first æ··åˆ</span>
        a = torch.sigmoid(self.a0 + (xa @ self.a1) @ self.a2) <span class="hljs-comment"># A (Alpha): (B,T,C) "in-context learning rate"</span>
        g = torch.sigmoid(xg @ self.g1) @ self.g2 <span class="hljs-comment"># G (Gate): (B,T,C) è¾“å‡ºé—¨</span>
        <span class="hljs-comment"># 3. WKV7 Kernel æ¨¡å—ï¼Œæ¥æ”¶ wkv_t-1ï¼ˆä¸Šä¸€æ­¥çš„çŠ¶æ€ï¼‰å’Œ R, W, K, V, Aï¼Œç„¶åè¾“å‡ºæ–°çš„çŠ¶æ€ wkv_t å’Œä¸€ä¸ªç»“æœç»™ "Readout"</span>
        kk = k * self.k_k <span class="hljs-comment"># (B,T,C)</span>
        kk = F.normalize(kk.view(B,T,H,-<span class="hljs-number">1</span>), dim=-<span class="hljs-number">1</span>, p=<span class="hljs-number">2.0</span>).view(B,T,C)<span class="hljs-comment"># L2 å½’ä¸€åŒ– (åœ¨ head ç»´åº¦ä¸Š)</span>
        k = k * (<span class="hljs-number">1</span> + (a-<span class="hljs-number">1</span>) * self.k_a) 
        x = RUN_CUDA_RWKV7g(r, w, k, v, -kk, kk*a) <span class="hljs-comment"># CUDA å¹¶è¡Œè®¡ç®—æ‰€æœ‰æ—¶é—´æ­¥çš„ç»“æœ x </span>
        <span class="hljs-comment"># 4. "Readout" æ¨¡å—ï¼Œæ¥æ”¶ WKV7 Kernel çš„è¾“å‡ºï¼Œä¹Ÿæ¥æ”¶æ¥è‡ª "Weight Prepare" çš„ G å’Œ R å‘é‡ï¼Œæœ€åç”Ÿæˆæœ€ç»ˆè¾“å‡º</span>
        x = self.ln_x(x.view(B * T, C)).view(B, T, C)
        x = x + ((r.view(B,T,H,-<span class="hljs-number">1</span>)*k.view(B,T,H,-<span class="hljs-number">1</span>)*self.r_k).<span class="hljs-built_in">sum</span>(dim=-<span class="hljs-number">1</span>, keepdim=<span class="hljs-literal">True</span>) * v.view(B,T,H,-<span class="hljs-number">1</span>)).view(B,T,C)
        x = self.output(x * g)<span class="hljs-comment"># åº”ç”¨è¾“å‡ºé—¨å¹¶æŠ•å½±</span>
        <span class="hljs-keyword">return</span> x, v_first <span class="hljs-comment"># è¿”å›è¾“å‡ºå’Œ v_first</span>
</code></pre>
<h2 data-id="heading-3">4. ç”Ÿæˆâ€œæ•°å­—ç¿»è½¬â€è®­ç»ƒæ•°æ®çš„ä»£ç </h2>
<p><code>Line 183 ~ 193</code>å®šä¹‰äº† <code>batch</code> å‡½æ•°ï¼Œä¸€ä¸ªåŠ¨æ€çš„æ•°æ®ç”Ÿæˆå™¨ã€‚ç”±äºè¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºè„šæœ¬ï¼Œæˆ‘ä»¬ä¸ä»ç£ç›˜åŠ è½½è®­ç»ƒæ•°æ®ï¼Œè€Œæ˜¯å³æ—¶åˆ›å»ºâ€œæ•°å­—ç¿»è½¬â€æ•°æ®ï¼šç”Ÿæˆéšæœºæ•°<code>n</code>ï¼Œè·Ÿä¸€ä¸ªé€—å·ï¼Œç„¶åæ˜¯è¯¥æ•°å­—çš„åå‘åºåˆ—ï¼Œæœ€åæ˜¯ç»“æŸç¬¦<code>#</code>ã€‚ä¾‹å¦‚<code>582,285#</code>ã€‚</p>
<p>æ¨¡å‹å°†ä»¥â€œ<strong>é¢„æµ‹ä¸‹ä¸€ä¸ª token</strong>â€çš„æ–¹å¼å­¦ä¹ è¿™ä¸ªåºåˆ—ï¼Œä»è€Œå­¦ä¼šè¿™ä¸ªç®—æ³•ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¯è¡¨ï¼š'0'-'9' (token 0-9), ',' (token10), '#' (token11)</span>
TOK = {**{<span class="hljs-built_in">str</span>(i):i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)}, <span class="hljs-string">','</span>:<span class="hljs-number">10</span>, <span class="hljs-string">'#'</span>:<span class="hljs-number">11</span>}
M = <span class="hljs-number">10</span>**DIGIT_MAX - <span class="hljs-number">1</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">_digits</span>(<span class="hljs-params">n</span>): <span class="hljs-keyword">return</span> [TOK[c] <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(n)]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">batch</span>(<span class="hljs-params">B,T, device=<span class="hljs-literal">None</span></span>):
    <span class="hljs-keyword">if</span> device <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>: device = <span class="hljs-string">'cuda'</span> <span class="hljs-keyword">if</span> torch.cuda.is_available() <span class="hljs-keyword">else</span> <span class="hljs-string">'cpu'</span>
    s = []
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(B):
        a = []
        <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(a) &lt; T:
            k = random.randint(<span class="hljs-number">1</span>,DIGIT_MAX); lo = <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> k==<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">10</span>**(k-<span class="hljs-number">1</span>); n = random.randint(lo, <span class="hljs-number">10</span>**k-<span class="hljs-number">1</span>)
            nn = _digits(n)
            a += nn + [TOK[<span class="hljs-string">','</span>]] + nn[::-<span class="hljs-number">1</span>] + [TOK[<span class="hljs-string">'#'</span>]]
        s.append(a[:T])
    <span class="hljs-keyword">return</span> torch.tensor(s, device=device, dtype=torch.long)
</code></pre>
<h2 data-id="heading-4">5. Channel-Mixing(FFN) æ¨¡å—</h2>
<p><code>Line 200 ~ 214 (FNN) </code>æ˜¯ RWKV æ¶æ„çš„å¦ä¸€ä¸ªæ ‡å‡†ç»„ä»¶ Channel-mixing æ¨¡å—ï¼Œè´Ÿè´£åœ¨é€šé“ï¼ˆåµŒå…¥ï¼‰ç»´åº¦ä¸Šæ··åˆä¿¡æ¯ï¼ŒåŠŸèƒ½ä¸Šç­‰åŒäº Transformer ä¸­çš„å‰é¦ˆç½‘ç»œ (FFN)ã€‚</p>
<p>ä¸ Time Mix æ¨¡å—ç±»ä¼¼ï¼ŒChannel-Mixing ä¹Ÿé‡‡ç”¨äº† <code>time_shift</code> æŠ€å·§æ¥å¼•å…¥å‰ä¸€æ—¶é—´æ­¥çš„ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨ Squared ReLU (<code>relu(..)**2</code>) ä½œä¸ºæ¿€æ´»å‡½æ•°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FFN</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, C</span>):
        <span class="hljs-built_in">super</span>().__init__()
        <span class="hljs-comment"># åŒæ ·ä½¿ç”¨ time_shift æŠ€å·§</span>
        self.time_shift = nn.ZeroPad2d((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>))
        self.x_k = nn.Parameter(torch.zeros(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, C)) <span class="hljs-comment"># FFN çš„ time-mix å‚æ•°</span>
        self.key = nn.Linear(C, C * <span class="hljs-number">4</span>, bias=<span class="hljs-literal">False</span>) <span class="hljs-comment"># æ”¾å¤§å±‚</span>
        self.value = nn.Linear(C * <span class="hljs-number">4</span>, C, bias=<span class="hljs-literal">False</span>) <span class="hljs-comment"># ç¼©å°å±‚</span>
        <span class="hljs-keyword">with</span> torch.no_grad():
            self.value.weight.data.zero_() <span class="hljs-comment"># value å±‚æƒé‡åˆå§‹åŒ–ä¸º 0</span>
            nn.init.orthogonal_(self.key.weight.data, gain=(<span class="hljs-number">4</span>**<span class="hljs-number">0.5</span>)) <span class="hljs-comment"># key å±‚æ­£äº¤åˆå§‹åŒ–</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):
        xx = self.time_shift(x) - x <span class="hljs-comment"># 1. Time-Mix</span>
        x = x + xx * self.x_k
        x = torch.relu(self.key(x)) ** <span class="hljs-number">2</span> <span class="hljs-comment"># 2. FFN è®¡ç®— (Squared ReLU)</span>
        <span class="hljs-keyword">return</span> self.value(x)
</code></pre>
<h2 data-id="heading-5">6. æ¨¡å‹å®šä¹‰</h2>
<p><code>Line 216 ~ 256(MODEL) </code> çš„ <code>MODEL</code> ç±»æ˜¯å®Œæ•´çš„ RWKV ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚å®ƒå°†å‰é¢å®šä¹‰çš„æ‰€æœ‰æ„å»ºæ¨¡å—ï¼ˆ<code>nn.Embedding</code>ã€<code>LayerNorm</code>ã€<code>RWKV_Tmix_x070</code> å’Œ <code>FFN</code>ï¼‰ç»„è£…åœ¨ä¸€èµ·ã€‚</p>
<p>æœ¬æ–‡çš„æ¨¡å‹æ˜¯ 2 å±‚ RWKV ç½‘ç»œï¼Œå’Œ RWKV-7 è®ºæ–‡çš„æ¶æ„å®šä¹‰ä¸€è‡´ï¼ˆç”±äºè¿™é‡Œæ˜¯æå°çš„æ¨¡å‹ï¼Œå› æ­¤æ²¡æœ‰åœ¨ Embedding åé¢åŠ  LayerNormï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1d5f6d5ebf44a3aac265d492da6561d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUldLVuWFg-Wni-aZuuiDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955799&amp;x-signature=HULhmeeQZEHfM7%2BJagUPHzbLaTE%3D" alt="RWKV-7 è®ºæ–‡ä¸­çš„æ¶æ„æ¦‚è§ˆ" loading="lazy"/></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MODEL</span>(nn.Module):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">s</span>): <span class="hljs-comment"># ä½¿ç”¨ 's' ä»£æ›¿ 'self'</span>
        <span class="hljs-built_in">super</span>().__init__()
        args = SimpleNamespace()
        args.n_head = C//HEAD_SIZE
        args.head_size = HEAD_SIZE
        args.n_embd = C
        args.dim_att = C
        args.n_layer = <span class="hljs-number">2</span> <span class="hljs-comment"># 2 å±‚æ¨¡å‹</span>
        <span class="hljs-comment"># è¯åµŒå…¥å±‚</span>
        s.e=nn.Embedding(V,C)
        <span class="hljs-comment"># --- ç¬¬ 1 å±‚ ---</span>
        s.ln1a=nn.LayerNorm(C)
        s.ln1b=nn.LayerNorm(C)
        s.rwkv1=RWKV_Tmix_x070(args,<span class="hljs-number">0</span>) <span class="hljs-comment"># layer_id = 0</span>
        s.ffn1=FFN(C)
        <span class="hljs-comment"># --- ç¬¬ 2 å±‚ ---</span>
        s.ln2a=nn.LayerNorm(C)
        s.ln2b=nn.LayerNorm(C)
        <span class="hljs-comment"># s.ln2c=nn.LayerNorm(C) #</span>
        s.rwkv2=RWKV_Tmix_x070(args,<span class="hljs-number">1</span>) <span class="hljs-comment"># layer_id = 1</span>
        s.ffn2=FFN(C)
        <span class="hljs-comment"># --- è¾“å‡º ---</span>
        s.lno=nn.LayerNorm(C)
        s.o=nn.Linear(C,V) <span class="hljs-comment"># è¾“å‡ºåˆ°è¯æ±‡è¡¨</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">s,x</span>):
        x = s.e(x) <span class="hljs-comment"># (B,T) -&gt; (B,T,C)</span>
        <span class="hljs-comment"># æ¨¡å‹ç»“æ„: x = x + FFN(LN(x + Tmix(LN(x))))</span>
        <span class="hljs-comment"># ç¬¬ 1 å±‚ï¼Œv_first åˆå§‹åŒ–ä¸ºç©º</span>
        xx, v_first = s.rwkv1(s.ln1a(x), torch.empty_like(x)) 
        x = x + xx
        x = x + s.ffn1(s.ln1b(x))
        <span class="hljs-comment"># ç¬¬ 2 å±‚ï¼Œä¼ å…¥ v_first</span>
        xx, v_first = s.rwkv2(s.ln2a(x), v_first)
        x = x + xx
        x = x + s.ffn2(s.ln2b(x))
        <span class="hljs-comment"># è¾“å‡ºï¼Œln -&gt; Head</span>
        x = s.o(s.lno(x)) <span class="hljs-comment"># (B,T,C) -&gt; (B,T,V)</span>
        <span class="hljs-keyword">return</span> x  

model=MODEL().to(device)
</code></pre>
<h2 data-id="heading-6">7. è®­ç»ƒä»£ç  (ä¼˜åŒ–å™¨ä¸åå‘ä¼ æ’­)</h2>
<p><code>Line 258 ~ 314</code>æ˜¯è®­ç»ƒé…ç½®å’Œè®­ç»ƒè¿‡ç¨‹çš„ä»£ç ï¼Œä¸»è¦åŒ…å«ï¼š</p>
<ul>
<li>åˆå§‹åŒ– <code>AdamW</code> ä¼˜åŒ–å™¨</li>
<li>å°†æ¨¡å‹å‚æ•°åˆ†ä¸º <code>decay</code>ï¼ˆembedding å’Œæƒé‡çŸ©é˜µï¼‰å’Œ <code>no_decay</code>ï¼ˆLayerNorm å’Œ biasï¼‰</li>
<li>è®¾ç½® <code>CosineAnnealingLR</code>ï¼ˆä½™å¼¦é€€ç«ï¼‰å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¹³æ»‘åœ°é™ä½å­¦ä¹ ç‡</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ†ç¦»éœ€è¦æƒé‡è¡°å‡ (decay) å’Œä¸éœ€è¦ (no_decay) çš„å‚æ•°</span>
wdwd,decay,no_decay,fixed=[],[],[],[]
wdwd_names,decay_names,no_decay_names,fixed_names=[],[],[],[]
<span class="hljs-keyword">for</span> n,p <span class="hljs-keyword">in</span> model.named_parameters():
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> p.requires_grad: <span class="hljs-keyword">continue</span>
    <span class="hljs-comment"># æƒé‡çŸ©é˜µå’ŒåµŒå…¥å±‚ä½¿ç”¨æƒé‡è¡°å‡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'.weight'</span> <span class="hljs-keyword">in</span> n <span class="hljs-keyword">or</span> <span class="hljs-string">'emb'</span> <span class="hljs-keyword">in</span> n) <span class="hljs-keyword">and</span> (<span class="hljs-string">'ln'</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> n):
        decay.append(p); decay_names.append(n)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># bias, LayerNorm å‚æ•°ä¸ä½¿ç”¨æƒé‡è¡°å‡</span>
        no_decay.append(p); no_decay_names.append(n)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'decay'</span>, decay_names)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'no_decay'</span>, no_decay_names)
<span class="hljs-comment"># AdamW ä¼˜åŒ–å™¨ï¼Œä¸ºä¸¤ç»„å‚æ•°è®¾ç½®ä¸åŒçš„ weight_decay</span>
opt = torch.optim.AdamW(
    [
        {<span class="hljs-string">"params"</span>: decay, <span class="hljs-string">"weight_decay"</span>: <span class="hljs-number">0.1</span>},
        {<span class="hljs-string">"params"</span>: no_decay, <span class="hljs-string">"weight_decay"</span>: <span class="hljs-number">0.0</span>},
    ],
    lr=lr0
)
<span class="hljs-comment"># å­¦ä¹ ç‡è°ƒåº¦å™¨ï¼šä½™å¼¦é€€ç«</span>
sch=torch.optim.lr_scheduler.CosineAnnealingLR(opt, T_max=steps, eta_min=lr1)
<span class="hljs-comment"># Wandb è®¾ç½®ï¼Œå»ºè®®æå‰ç™»å½• WandBï¼ˆhttps://wandb.ai/ï¼‰</span>
args = SimpleNamespace()
trainer = SimpleNamespace()
args.my_timestamp = datetime.datetime.today().strftime(<span class="hljs-string">"%Y-%m-%d-%H-%M-%S"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Login to wandb..."</span>)
wandb.init(
    project=<span class="hljs-string">"Test"</span>, 
    name=args.my_timestamp, 
    config=args,
    save_code=<span class="hljs-literal">False</span>,
)
</code></pre>
<p>ç„¶åè¿›å…¥ä¸»è®­ç»ƒå¾ªç¯ï¼Œè¿­ä»£ <code>steps</code> æ¬¡ã€‚åœ¨æ¯ä¸€æ­¥ä¸­ï¼Œå®ƒè·å–ä¸€æ‰¹æ•°æ®ï¼Œæ‰§è¡Œæ¨¡å‹å‰å‘ä¼ æ’­ã€è®¡ç®—äº¤å‰ç†µæŸå¤±ï¼ˆ<code>Cross-Entropy</code>ï¼‰ã€æ‰§è¡Œåå‘ä¼ æ’­ã€æ¢¯åº¦è£å‰ªï¼ˆ<code>clip_grad_norm_</code>ï¼‰ï¼Œå¹¶æ›´æ–°æ¨¡å‹æƒé‡ã€‚</p>
<p>è®­ç»ƒç»“æŸåï¼Œè„šæœ¬ä¼šä¿å­˜æ¨¡å‹ï¼ˆ<code>out.pth</code>ï¼‰</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">token_per_step</span> = B*(T-<span class="hljs-number">1</span>) <span class="hljs-comment"># æ¯ä¸€æ­¥å¤„ç†çš„ token æ•°é‡ (ä¸åŒ…æ‹¬æœ€åä¸€ä¸ªç»ˆæ­¢ç¬¦ #)</span>
for step in range(steps):
    <span class="hljs-comment"># 1. è·å–æ•°æ®å¹¶å‡†å¤‡è¾“å…¥ (x) å’Œç›®æ ‡ (y)</span>
    <span class="hljs-attr">x</span>=batch(B,T)<span class="hljs-comment">; y=x[:,1:]; x=x[:,:-1]</span>
    <span class="hljs-comment"># 2. å‰å‘ä¼ æ’­</span>
    <span class="hljs-attr">z</span>=model(x) <span class="hljs-comment"># (B, T-1, V)</span>
    <span class="hljs-comment"># 3. äº¤å‰ç†µè®¡ç®—æŸå¤±</span>
    <span class="hljs-attr">loss</span>=F.cross_entropy(z.reshape(-<span class="hljs-number">1</span>,V),y.reshape(-<span class="hljs-number">1</span>))

    <span class="hljs-comment"># 4. è®°å½•å­¦ä¹ ç‡å’Œ loss çš„æ—¥å¿—</span>
    <span class="hljs-attr">trainer.my_lr</span> = sch.get_last_lr()[<span class="hljs-number">0</span>] 
    <span class="hljs-attr">trainer.my_loss</span> = loss.item() 
    print(f'{step+1}/{steps}', 'loss', round(trainer.my_loss,4), 'lr', trainer.my_lr)
    <span class="hljs-comment"># è®¡ç®—ååé‡ (kt/s)</span>
    <span class="hljs-attr">t_now</span> = time.time_ns()
    <span class="hljs-attr">kt_s</span> = <span class="hljs-number">0</span>
    try:
        <span class="hljs-attr">t_cost</span> = (t_now - trainer.my_time_ns) / <span class="hljs-number">1</span>e9 
        <span class="hljs-attr">kt_s</span> = token_per_step / t_cost / <span class="hljs-number">1000</span> 
    except:
        pass 
    <span class="hljs-attr">trainer.my_time_ns</span> = t_now
    <span class="hljs-comment"># 5. è®°å½•åˆ° Wandb</span>
    <span class="hljs-attr">lll</span> = {<span class="hljs-string">"loss"</span>: trainer.my_loss, <span class="hljs-string">"lr"</span>: trainer.my_lr, <span class="hljs-string">"Mtokens"</span>: (step+<span class="hljs-number">1</span>) * token_per_step / <span class="hljs-number">1</span>e6}
    if kt_s &gt; 0:
        lll<span class="hljs-section">["kt/s"]</span> = kt_s
    wandb.log(lll, <span class="hljs-attr">step</span>=step+<span class="hljs-number">1</span>)

    <span class="hljs-comment"># 6. åå‘ä¼ æ’­å’Œä¼˜åŒ–</span>
    opt.zero_grad(<span class="hljs-attr">set_to_none</span>=<span class="hljs-literal">True</span>)<span class="hljs-comment">; loss.backward() # set_to_none=True æ›´å¿«</span>
    clip_grad_norm_(model.parameters(), <span class="hljs-attr">max_norm</span>=<span class="hljs-number">1.0</span>) <span class="hljs-comment"># æ¢¯åº¦è£å‰ª</span>
    opt.step()<span class="hljs-comment">; sch.step() # æ›´æ–°æƒé‡å’Œå­¦ä¹ ç‡</span>
    
torch.save(model.state_dict(),"out.pth") <span class="hljs-comment">#ä¿å­˜æ¨¡å‹æƒé‡</span>
print('<span class="hljs-comment">#'*100) </span>
</code></pre>
<h2 data-id="heading-7">8. æ¨¡å‹æ•ˆæœè¯„ä¼°</h2>
<p><code>Line 317 ~ 393</code>è¿›å…¥è¯„ä¼°å¾ªç¯ï¼Œç”Ÿæˆ 5 ä¸ªæ•°å­—æ ·æœ¬ï¼Œæ‰“å°æ¨¡å‹çš„é¢„æµ‹ (<code>pred</code>) ä¸çœŸå®å€¼ (<code>gold</code>) çš„å¯¹æ¯”ï¼Œä»¥åŠæœ€ç»ˆçš„ token å‡†ç¡®ç‡ã€‚</p>
<blockquote>
<p><code>simple check</code>æ˜¯æ£€æŸ¥æ•´ä¸ªåºåˆ—ï¼Œå¯¹åº”è®­ç»ƒæ—¶çš„ lossã€‚<code>correct check</code>æ˜¯æ£€æŸ¥â€œæ•°å­—ç¿»è½¬â€ä»»åŠ¡çš„å‡†ç¡®ç‡ï¼ˆåªæ£€æŸ¥ç¿»è½¬åçš„ç»“æœæ˜¯å¦æ­£ç¡®ï¼‰ã€‚</p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(<span class="hljs-string">'simple check (NOTE: here random inputs are considered for diff too, for simplicity)'</span>)

<span class="hljs-keyword">with</span> torch.no_grad():
Â  Â  S=<span class="hljs-string">'0123456789,#'</span> <span class="hljs-comment"># Token ID åˆ°å­—ç¬¦çš„æ˜ å°„è¡¨</span>

    <span class="hljs-keyword">for</span> SAMPLE <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
        x=batch(<span class="hljs-number">1</span>,<span class="hljs-number">129</span>); y=x[:,<span class="hljs-number">1</span>:]; z=model(x[:,:-<span class="hljs-number">1</span>]).argmax(-<span class="hljs-number">1</span>)
Â  Â  Â  Â  xx=<span class="hljs-string">''</span>.join(S[t] <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> x[<span class="hljs-number">0</span>,:-<span class="hljs-number">1</span>].tolist()) <span class="hljs-comment"># è¾“å…¥å­—ç¬¦ä¸² (in)</span>
Â  Â  Â  Â  yy=<span class="hljs-string">''</span>.join(S[t] <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> y[<span class="hljs-number">0</span>].tolist())     <span class="hljs-comment"># çœŸå®ç›®æ ‡å­—ç¬¦ä¸² (gold)</span>
Â  Â  Â  Â  zz=<span class="hljs-string">''</span>.join(S[t] <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> z[<span class="hljs-number">0</span>].tolist())     <span class="hljs-comment"># æ¨¡å‹é¢„æµ‹å­—ç¬¦ä¸² (pred)</span>
Â  Â  Â  Â  zy=<span class="hljs-string">''</span>.join(<span class="hljs-string">'.'</span> <span class="hljs-keyword">if</span> z[<span class="hljs-number">0</span>,i].item()==y[<span class="hljs-number">0</span>,i].item() <span class="hljs-keyword">else</span> <span class="hljs-string">'^'</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(y.size(<span class="hljs-number">1</span>)))
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'inÂ  '</span>,xx)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'gold'</span>,yy)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'pred'</span>,zz)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'diff'</span>,zy)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'#'</span>*<span class="hljs-number">100</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">'#'</span>*<span class="hljs-number">100</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">'correct check (only check results)'</span>)
<span class="hljs-keyword">with</span> torch.no_grad():
Â  Â  S = <span class="hljs-string">'0123456789,#'</span>
Â  Â  COMMA = S.index(<span class="hljs-string">','</span>) <span class="hljs-comment"># é€—å·çš„ Token ID (10)</span>
Â  Â  HASHÂ  = S.index(<span class="hljs-string">'#'</span>) <span class="hljs-comment"># äº•å·çš„ Token ID (11)</span>

Â  Â  <span class="hljs-keyword">for</span> SAMPLE <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
Â  Â  Â  Â  x = batch(<span class="hljs-number">1</span>, <span class="hljs-number">129</span>)
Â  Â  Â  Â  y = x[:, <span class="hljs-number">1</span>:]
Â  Â  Â  Â  logits = model(x[:, :-<span class="hljs-number">1</span>])
Â  Â  Â  Â  z = logits.argmax(-<span class="hljs-number">1</span>)

Â  Â  Â  Â  x_ids = x[<span class="hljs-number">0</span>].tolist() <span class="hljs-comment"># å®Œæ•´è¾“å…¥ Token åˆ—è¡¨</span>
Â  Â  Â  Â  L = <span class="hljs-built_in">len</span>(x_ids)
        
Â  Â  Â  Â  region_char = [<span class="hljs-literal">False</span>] * L <span class="hljs-comment"># åˆå§‹åŒ–æ©ç ï¼Œæ ‡è®°æ¯ä¸ªä½ç½®æ˜¯å¦åœ¨â€œç¿»è½¬åŒºåŸŸâ€</span>
Â  Â  Â  Â  mode = <span class="hljs-number">0</span> 

Â  Â  Â  Â  <span class="hljs-comment"># éå†åŸå§‹è¾“å…¥åºåˆ— xï¼Œç¡®å®šå“ªäº› Token æ˜¯åœ¨é¢„æµ‹åŒº</span>
Â  Â  Â  Â  <span class="hljs-keyword">for</span> j, tok <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(x_ids):
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">if</span> mode == <span class="hljs-number">1</span>:
Â  Â  Â  Â  Â  Â  Â  Â  region_char[j] = <span class="hljs-literal">True</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">if</span> tok == COMMA:
Â  Â  Â  Â  Â  Â  Â  Â  mode = <span class="hljs-number">1</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">elif</span> tok == HASH:
Â  Â  Â  Â  Â  Â  Â  Â  mode = <span class="hljs-number">0</span>

Â  Â  Â  Â  mask = region_char[<span class="hljs-number">1</span>:] 

Â  Â  Â  Â  y_ids = y[<span class="hljs-number">0</span>].tolist()
Â  Â  Â  Â  z_ids = z[<span class="hljs-number">0</span>].tolist()

Â  Â  Â  Â  <span class="hljs-comment"># ç»Ÿè®¡æ©ç åŒºåŸŸå†…çš„å‡†ç¡®ç‡</span>
Â  Â  Â  Â  n_tokens = <span class="hljs-built_in">sum</span>(mask)
Â  Â  Â  Â  <span class="hljs-keyword">if</span> n_tokens &gt; <span class="hljs-number">0</span>:
Â  Â  Â  Â  Â  Â  n_correct = <span class="hljs-built_in">sum</span>(
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-number">1</span> <span class="hljs-keyword">for</span> i, m <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(mask) <span class="hljs-keyword">if</span> m <span class="hljs-keyword">and</span> y_ids[i] == z_ids[i]
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  acc = n_correct / n_tokens
Â  Â  Â  Â  <span class="hljs-keyword">else</span>:
Â  Â  Â  Â  Â  Â  n_correct = <span class="hljs-number">0</span>
Â  Â  Â  Â  Â  Â  acc = <span class="hljs-built_in">float</span>(<span class="hljs-string">'nan'</span>) <span class="hljs-comment"># é¿å…é™¤ä»¥é›¶</span>

Â  Â  Â  Â  <span class="hljs-comment"># ç”Ÿæˆå¸¦ç©ºæ ¼çš„æ©ç è¾“å‡ºï¼Œåªæ˜¾ç¤ºç¿»è½¬é¢„æµ‹åŒºçš„ç»“æœ</span>
Â  Â  Â  Â  gold_masked = <span class="hljs-string">''</span>.join(S[y_ids[i]] <span class="hljs-keyword">if</span> mask[i] <span class="hljs-keyword">else</span> <span class="hljs-string">' '</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(y_ids)))
Â  Â  Â  Â  pred_masked = <span class="hljs-string">''</span>.join(S[z_ids[i]] <span class="hljs-keyword">if</span> mask[i] <span class="hljs-keyword">else</span> <span class="hljs-string">' '</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(z_ids)))
Â  Â  Â  Â  diff_masked = <span class="hljs-string">''</span>.join(
Â  Â  Â  Â  Â  Â  (<span class="hljs-string">'.'</span> <span class="hljs-keyword">if</span> y_ids[i] == z_ids[i] <span class="hljs-keyword">else</span> <span class="hljs-string">'^'</span>) <span class="hljs-keyword">if</span> mask[i] <span class="hljs-keyword">else</span> <span class="hljs-string">' '</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(y_ids))
Â  Â  Â  Â  )

Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'inÂ  Â '</span>, xx)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'gold '</span>, gold_masked) <span class="hljs-comment"># åªæ˜¾ç¤ºç¿»è½¬é¢„æµ‹åŒºçš„ç›®æ ‡</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'pred '</span>, pred_masked) <span class="hljs-comment"># åªæ˜¾ç¤ºç¿»è½¬é¢„æµ‹åŒºçš„é¢„æµ‹</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'diff '</span>, diff_masked) <span class="hljs-comment"># åªæ˜¾ç¤ºç¿»è½¬é¢„æµ‹åŒºçš„å·®å¼‚</span>
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">f'correct <span class="hljs-subst">{n_correct}</span>/<span class="hljs-subst">{n_tokens}</span>Â  acc <span class="hljs-subst">{acc:<span class="hljs-number">.3</span>f}</span>'</span>)
Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">'#'</span> * <span class="hljs-number">100</span>)
</code></pre>
<h2 data-id="heading-8">è®­ç»ƒæŒ‡å—</h2>
<h3 data-id="heading-9">1. å…‹éš†GitHub ä»“åº“</h3>
<pre><code class="hljs language-arduino" lang="arduino">https:<span class="hljs-comment">//github.com/BlinkDL/RWKV-LM.git</span>
</code></pre>
<h3 data-id="heading-10">2. å®‰è£… pytorch å’Œå…¶ä»–ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯ä»¥ç”¨æœ€æ–°çš„ torch + cudaï¼Œè¯·æ ¹æ®è‡ªå·±çš„ CUDA ç‰ˆæœ¬ä¿®æ”¹</span>
pip install torch --upgrade --extra-index-url https://download.pytorch.org/whl/cu129
pip install wandb ninja --upgrade
</code></pre>
<h3 data-id="heading-11">3. å¯åŠ¨è®­ç»ƒ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> RWKV-LM/RWKV-v7/train_temp/
python rwkv7_train_simplified.py
</code></pre>
<p>å¦‚æœä½ ç™»å½•äº† wandbï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹ç”»é¢ï¼Œè®­ç»ƒçº¦è€—æ—¶ä¸‰åˆ†é’Ÿï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4e5abfeb3d4421dbdbb509e26a8f858~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUldLVuWFg-Wni-aZuuiDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955799&amp;x-signature=AEMwSpYym%2B4lC0Keiapzfvhhp6c%3D" alt="å¼€å¯è®­ç»ƒ" loading="lazy"/></p>
<p>è®­ç»ƒç»“æŸåä¼šè‡ªåŠ¨è¿›è¡Œ<code>æ•°å­—ç¿»è½¬</code>æµ‹è¯•ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a59da2e457d9486e941d9df07d5ed601~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUldLVuWFg-Wni-aZuuiDvQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955799&amp;x-signature=5Nn2X4hQE4rAOc2T%2F2ozWuCKet4%3D" alt="è®­ç»ƒç»“æŸåè‡ªåŠ¨æµ‹è¯•æ¨¡å‹" loading="lazy"/></p>
<p>æµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œ2 å±‚ RWKV æ¨¡å‹ï¼ˆä»… 30860 ä¸ªå‚æ•°ï¼‰åœ¨<code>æ•°å­—ç¿»è½¬ä»»åŠ¡</code>æœ‰è‰¯å¥½çš„å‡†ç¡®ç‡ï¼ˆè‹¥åŠ å…¥æœ€æ–° ROSA æœºåˆ¶ä¼šæ˜¾è‘—æ›´å¼ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fnx6Irs8iRf5KKe-uiMCnZg" target="_blank" title="https://mp.weixin.qq.com/s/nx6Irs8iRf5KKe-uiMCnZg" ref="nofollow noopener noreferrer">RWKV7+ROSAç”¨40Kå‚æ•°é¢ å€’60ä½æ•°å­—è¾“å…¥</a>ï¼‰ã€‚</p>
<h2 data-id="heading-12">åŠ å…¥ RWKV ç¤¾åŒº</h2>
<p>æ¬¢è¿å¤§å®¶åŠ å…¥ RWKV ç¤¾åŒºï¼Œå¯ä»¥ä» RWKV ä¸­æ–‡å®˜ç½‘äº†è§£ RWKV æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥åŠ å…¥ RWKV è®ºå›ã€QQ é¢‘é“å’Œ QQ ç¾¤èŠï¼Œä¸€èµ·æ¢è®¨ RWKV æ¨¡å‹ã€‚</p>
<ul>
<li>ğŸ“– RWKV ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rwkv.cn" target="_blank" title="https://www.rwkv.cn" ref="nofollow noopener noreferrer">www.rwkv.cn</a></li>
<li>ğŸ’¬ RWKV è®ºå›ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcommunity.rwkv.cn%2F" target="_blank" title="https://community.rwkv.cn/" ref="nofollow noopener noreferrer">community.rwkv.cn/</a></li>
<li>ğŸ§ QQ é¢‘é“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fpd.qq.com%2Fs%2F9n21eravc" target="_blank" title="https://pd.qq.com/s/9n21eravc" ref="nofollow noopener noreferrer">pd.qq.com/s/9n21eravc</a> | QQ åº”ç”¨å†…æµ‹ç¾¤ï¼š332381861</li>
<li>ğŸ“º BiliBili è§†é¢‘æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fspace.bilibili.com%2F3546689096910933" target="_blank" title="https://space.bilibili.com/3546689096910933" ref="nofollow noopener noreferrer">space.bilibili.com/35466890969â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€šè¿‡ Python åœ¨ PDF ä¸­æ·»åŠ é¡µé¢]]></title>    <link>https://juejin.cn/post/7572841327295266868</link>    <guid>https://juejin.cn/post/7572841327295266868</guid>    <pubDate>2025-11-17T03:34:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572841327295266868" data-draft-id="7572841327295234100" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€šè¿‡ Python åœ¨ PDF ä¸­æ·»åŠ é¡µé¢"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-11-17T03:34:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å’•ç™½m625"/> <meta itemprop="url" content="https://juejin.cn/user/775609987638480"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€šè¿‡ Python åœ¨ PDF ä¸­æ·»åŠ é¡µé¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/775609987638480/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å’•ç™½m625
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:34:34.000Z" title="Mon Nov 17 2025 03:34:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ—¥å¸¸åŠå…¬å’Œæ•°æ®å¤„ç†ä¸­ï¼ŒPDFæ–‡ä»¶å› å…¶æ ¼å¼ç¨³å®šæ€§è¢«å¹¿æ³›ä½¿ç”¨ï¼Œè€Œâ€œæ·»åŠ é¡µé¢â€è®¸å¤šPythonå¼€å‘è€…åœ¨å¤„ç†æ–‡æ¡£è‡ªåŠ¨åŒ–ã€æŠ¥å‘Šç”Ÿæˆæˆ–æ•°æ®å¯è§†åŒ–æ—¶çš„å¸¸è§éœ€æ±‚ä¹‹ä¸€ã€‚æ— è®ºæ˜¯è¡¥å……ç©ºç™½é¡µã€æ’å…¥ç°æœ‰PDFå†…å®¹ï¼Œè¿˜æ˜¯æ·»åŠ å¸¦è‡ªå®šä¹‰æ–‡æœ¬/å›¾ç‰‡çš„é¡µé¢ï¼ŒæŒæ¡â€œåœ¨PDFä¸­æ·»åŠ é¡µé¢â€çš„æ–¹æ³•éƒ½èƒ½å¤§å¹…æå‡å·¥ä½œæ•ˆç‡ã€‚</p>
<p>Spire.PDF for Python ä½œä¸ºä¸€æ¬¾åŠŸèƒ½å…¨é¢çš„ PDF å¤„ç†åº“ï¼Œæä¾›äº†ç®€æ´ç›´è§‚çš„ API æ¥å®ç°å„ç±»é¡µé¢æ·»åŠ åœºæ™¯ã€‚æœ¬æ–‡å°†ä»‹ç»è¯¥åº“çš„ä½¿ç”¨æ–¹æ³•ï¼Œç»“åˆå…·ä½“åœºæ™¯ç»™å‡ºå¯å¤ç”¨çš„ä»£ç ç¤ºä¾‹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒå‡†å¤‡</h2>
<h3 data-id="heading-1">1. å®‰è£… Spire.PDF for Python</h3>
<p>è¯¥åº“æ”¯æŒ Python 3.6 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå¯é€šè¿‡ pip å‘½ä»¤å¿«é€Ÿå®‰è£…ï¼š</p>
<pre><code class="hljs">pipÂ installÂ Spire.PDF
</code></pre>
<p><strong>å…è´¹ç‰ˆ ï¼ˆå•æ–‡ä»¶é™åˆ¶10é¡µï¼‰</strong></p>
<pre><code class="hljs">pipÂ installÂ Spire.PDF.Free
</code></pre>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒåœºæ™¯ï¼šPDFé¡µé¢æ·»åŠ å®ç°</h2>
<p>Spire.PDF for Pythoné€šè¿‡ <code>PdfDocument</code> ç±»ç®¡ç†PDFæ–‡ä»¶ï¼Œæ”¯æŒåœ¨PDFæœ«å°¾æ·»åŠ ç©ºç™½é¡µã€æŒ‡å®šä½ç½®æ’å…¥é¡µé¢ä»¥åŠåˆå¹¶å¤šä¸ªPDFæ–‡ä»¶ä¸­çš„æŒ‡å®šé¡µé¢ç­‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-3">åœºæ™¯1ï¼šåœ¨PDFæœ«å°¾æ·»åŠ ç©ºç™½é¡µ</h3>
<p>é€‚ç”¨äºéœ€è¦è¡¥å……ç©ºç™½é¡µä¾›æ‰‹å†™ã€æ‰¹æ³¨çš„åœºæ™¯ï¼Œæ”¯æŒè‡ªå®šä¹‰é¡µé¢å¤§å°å’Œæ–¹å‘ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span>Â spire.pdfÂ <span class="hljs-keyword">import</span>Â *
<span class="hljs-keyword">from</span>Â spire.pdf.commonÂ <span class="hljs-keyword">import</span>Â *

<span class="hljs-comment">#Â åŠ è½½ç°æœ‰Â PDF</span>
pdfÂ =Â PdfDocument()
pdf.LoadFromFile(<span class="hljs-string">"input.pdf"</span>)

<span class="hljs-comment">#Â æ·»åŠ æ–°ç©ºç™½é¡µåˆ°æ–‡æ¡£æœ«å°¾</span>
pdf.Pages.Add(PdfPageSize.A4())

<span class="hljs-comment">#Â ä¿å­˜Â PDF</span>
pdf.SaveToFile(<span class="hljs-string">"output.pdf"</span>)
</code></pre>
<p><strong>ğŸ“Œ å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><code>PdfDocument.LoadFromFile()</code>ï¼šåŠ è½½ç°æœ‰PDFæ–‡ä»¶ï¼›</li>
<li><code>PdfPages.Add()</code>ï¼šæ— å‚æ•°æ—¶æ·»åŠ é»˜è®¤A4çºµå‘ç©ºç™½é¡µï¼Œä¹Ÿå¯é€šè¿‡ <code>PdfPageSize</code> å’Œ <code>PdfMargins</code> æŒ‡å®šé¡µé¢å±æ€§ï¼›</li>
<li><code>SaveToFile()</code>ï¼šä¿å­˜ä¿®æ”¹åçš„æ–‡ä»¶ï¼Œæ”¯æŒPDFã€PDF/Aç­‰æ ¼å¼ã€‚</li>
</ul>
<h3 data-id="heading-4">åœºæ™¯2ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥ç©ºç™½é¡µ</h3>
<p>é€‚ç”¨äºéœ€è¦åœ¨PDFä¸­é—´æ’å…¥ç©ºç™½é¡µçš„åœºæ™¯ï¼ˆä¾‹å¦‚åœ¨ç¬¬2é¡µåæ’å…¥ï¼‰ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span>Â spire.pdf.commonÂ <span class="hljs-keyword">import</span>Â *
<span class="hljs-keyword">from</span>Â spire.pdfÂ <span class="hljs-keyword">import</span>Â *

<span class="hljs-comment">#Â åŠ è½½ç°æœ‰Â PDF</span>
pdfÂ =Â PdfDocument()
pdf.LoadFromFile(<span class="hljs-string">"input.pdf"</span>)

<span class="hljs-comment">#Â æ’å…¥åˆ°ç¬¬2é¡µï¼ˆç´¢å¼•ä»0å¼€å§‹ï¼‰</span>
pdf.Pages.Insert(<span class="hljs-number">1</span>)

<span class="hljs-comment">#Â ä¿å­˜Â PDF</span>
pdf.SaveToFile(<span class="hljs-string">"AddPage.pdf"</span>)
pdf.Close()
</code></pre>
<p><strong>ğŸ“Œ å…³é”®è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>PdfPages.Insert(insert_index)</code>ï¼šåœ¨æŒ‡å®šç´¢å¼•ä½ç½®æ’å…¥ç©ºç™½é¡µï¼Œç´¢å¼•ä»0å¼€å§‹ï¼ˆä¾‹å¦‚<code>insert_index=0</code>è¡¨ç¤ºæ’å…¥åˆ°ç¬¬1é¡µä¹‹å‰ï¼‰ï¼›</li>
<li>æ’å…¥åï¼Œåç»­é¡µé¢ä¼šè‡ªåŠ¨åç§»ã€‚</li>
</ul>
<h3 data-id="heading-5">åœºæ™¯3ï¼šæ·»åŠ å…¶ä»–PDFçš„é¡µé¢ï¼ˆPDFåˆå¹¶ï¼‰</h3>
<p>é€‚ç”¨äºéœ€è¦å°†å¤šä¸ªPDFæ–‡ä»¶çš„æŒ‡å®šé¡µé¢åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­çš„åœºæ™¯ï¼ˆä¾‹å¦‚åˆå¹¶æŠ¥å‘Šã€åˆåŒé™„ä»¶ï¼‰ã€‚</p>
<h4 data-id="heading-6">ä»£ç ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span>Â spire.pdfÂ <span class="hljs-keyword">import</span>Â *
<span class="hljs-keyword">from</span>Â spire.pdf.commonÂ <span class="hljs-keyword">import</span>Â *

<span class="hljs-comment">#Â åŠ è½½è¾“å…¥Â PDFÂ æ–‡æ¡£</span>
file1Â =Â <span class="hljs-string">"Sample1.pdf"</span>
file2Â =Â <span class="hljs-string">"Sample2.pdf"</span>
filesÂ =Â [file1,Â file2]
pdfsÂ =Â []
<span class="hljs-keyword">for</span>Â fileÂ <span class="hljs-keyword">in</span>Â files:
Â Â Â Â pdfs.append(PdfDocument(file))

<span class="hljs-comment">#Â åˆ›å»ºæ–°Â PDFÂ æ–‡æ¡£</span>
newPdfÂ =Â PdfDocument()

<span class="hljs-comment">#Â å°†è¾“å…¥æ–‡æ¡£æŒ‡å®šé¡µé¢æ’å…¥æ–°å»ºÂ PDFÂ æ–‡æ¡£</span>
newPdf.InsertPage(pdfs[<span class="hljs-number">0</span>],Â <span class="hljs-number">0</span>)
newPdf.InsertPageRange(pdfs[<span class="hljs-number">1</span>],Â <span class="hljs-number">0</span>,Â <span class="hljs-number">1</span>)

<span class="hljs-comment">#Â ä¿å­˜æ–°å»ºÂ PDF</span>
newPdf.SaveToFile(<span class="hljs-string">"SelectedPages.pdf"</span>)
</code></pre>
<p><strong>ğŸ“Œ å…³é”®è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>InsertPage</code>ï¼šæ’å…¥æŒ‡å®šç´¢å¼•å¤„çš„é¡µé¢ï¼ˆå•ä¸ªé¡µé¢ï¼‰ï¼›</li>
<li><code>InsertPageRange</code>ï¼šæ’å…¥æŒ‡å®šç´¢å¼•å¤„çš„é¡µé¢èŒƒå›´ï¼ˆå¤šä¸ªé¡µé¢ï¼‰ï¼›</li>
<li>åˆå¹¶æ—¶ä¿ç•™åŸPDFçš„é¡µé¢æ ¼å¼ã€å†…å®¹å’Œæƒé™è®¾ç½®ï¼Œå…¼å®¹æ€§è¾ƒå¥½ã€‚</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€æ³¨æ„äº‹é¡¹</h2>
<ol>
<li><strong>æ–‡ä»¶è·¯å¾„é—®é¢˜</strong>ï¼šåŠ è½½å’Œä¿å­˜PDFæ—¶ï¼Œå»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œé¿å…å› ç›¸å¯¹è·¯å¾„é”™è¯¯å¯¼è‡´æ–‡ä»¶æ‰¾ä¸åˆ°ï¼›</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šæ”¯æŒå¤„ç†PDF 1.0-1.7ç‰ˆæœ¬ï¼Œä»¥åŠPDF/A-1Bã€PDF/A-2Bç­‰æ ‡å‡†åŒ–æ ¼å¼ï¼Œæ”¯æŒåŠ å¯†PDFï¼ˆéœ€å…ˆè§£å¯†ï¼‰ï¼›</li>
<li><strong>èµ„æºé‡Šæ”¾</strong>ï¼šä½¿ç”¨å®Œæ¯•åéœ€è°ƒç”¨<code>PdfDocument.Close()</code>æ–¹æ³•é‡Šæ”¾èµ„æºï¼Œé¿å…å†…å­˜æ³„æ¼ï¼›</li>
</ol>
<h2 data-id="heading-8">å››ã€æ€»ç»“</h2>
<p>Spire.PDF for Python æä¾›äº†ç®€æ´é«˜æ•ˆçš„ APIï¼Œèƒ½å¤Ÿè½»æ¾å®ç°ç©ºç™½é¡µæ·»åŠ ã€æŒ‡å®šä½ç½®æ’å…¥ã€PDFåˆå¹¶ç­‰æ ¸å¿ƒéœ€æ±‚ã€‚å…¶ä¼˜åŠ¿åœ¨äº API è®¾è®¡ç›´è§‚ã€åŠŸèƒ½è¦†ç›–å…¨é¢ï¼Œä¸”æ–‡æ¡£å®Œå–„ï¼ˆå®˜æ–¹æä¾›è¯¦ç»†çš„APIæ–‡æ¡£å’Œç¤ºä¾‹ä»£ç ï¼‰ï¼Œé€‚åˆå„ç±» PDF å¤„ç†åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£Springæ ¸å¿ƒåŸç†ï¼šBeanä½œç”¨åŸŸã€ç”Ÿå‘½å‘¨æœŸä¸è‡ªåŠ¨é…ç½®å®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572997791452282918</link>    <guid>https://juejin.cn/post/7572997791452282918</guid>    <pubDate>2025-11-17T03:50:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791452282918" data-draft-id="7573234521363890202" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£Springæ ¸å¿ƒåŸç†ï¼šBeanä½œç”¨åŸŸã€ç”Ÿå‘½å‘¨æœŸä¸è‡ªåŠ¨é…ç½®å®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-17T03:50:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å¤´an"/> <meta itemprop="url" content="https://juejin.cn/user/618374030438861"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£Springæ ¸å¿ƒåŸç†ï¼šBeanä½œç”¨åŸŸã€ç”Ÿå‘½å‘¨æœŸä¸è‡ªåŠ¨é…ç½®å®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/618374030438861/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å¤´an
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:50:30.000Z" title="Mon Nov 17 2025 03:50:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä½œä¸ºä¸€åJavaå¼€å‘è€…ï¼ŒæŒæ¡Springæ¡†æ¶æ˜¯èŒä¸šå‘å±•çš„å¿…ç»ä¹‹è·¯ã€‚ä»Šå¤©æˆ‘ä»¬æ¥èŠèŠSpringä¸­æœ€æ ¸å¿ƒçš„æ¦‚å¿µâ€”â€”Beanï¼Œä»¥åŠSpring Bootå¦‚ä½•é€šè¿‡è‡ªåŠ¨é…ç½®è®©å¼€å‘å˜å¾—å¦‚æ­¤ç®€å•ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯Spring Beanï¼Ÿ</h2>
<p>ç®€å•æ¥è¯´ï¼ŒBeanå°±æ˜¯ç”±Spring IoCå®¹å™¨ç®¡ç†çš„å¯¹è±¡ã€‚ç†è§£Beançš„å·¥ä½œåŸç†ï¼Œå°±åƒæŒæ¡äº†Springçš„"å†…åŠŸå¿ƒæ³•"ï¼Œèƒ½è®©ä½ çš„ç¼–ç¨‹æ°´å¹³æ›´ä¸Šä¸€å±‚æ¥¼ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Beanä½œç”¨åŸŸï¼šé€‰æ‹©åˆé€‚çš„"ç”Ÿå­˜æ–¹å¼"</h2>
<p>åˆšå¼€å§‹å­¦ä¹ Springæ—¶ï¼Œæˆ‘ä»¥ä¸ºæ‰€æœ‰Beanéƒ½æ˜¯å•ä¾‹çš„ï¼Œåæ¥æ‰å‘ç°Springæä¾›äº†å¤šç§ä½œç”¨åŸŸï¼Œå°±åƒç»™Beanèµ‹äºˆäº†ä¸åŒçš„"ç”Ÿå­˜æ–¹å¼"ã€‚</p>
<h3 data-id="heading-2">1.1 å››ç§å¸¸ç”¨ä½œç”¨åŸŸå¿«é€Ÿå…¥é—¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å•ä¾‹æ¨¡å¼ - å°±åƒå…¬å¸é‡Œçš„CEOï¼Œåªæœ‰ä¸€ä¸ª</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Scope("singleton")</span>  <span class="hljs-comment">// è¿™ä¸ªæ³¨è§£å…¶å®å¯ä»¥çœç•¥ï¼Œå› ä¸ºé»˜è®¤å°±æ˜¯å•ä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SingletonService</span> {
    <span class="hljs-comment">// æ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¤§å®¶éƒ½å…±äº«è¿™ä¸ªCEO</span>
}

<span class="hljs-comment">// åŸå‹æ¨¡å¼ - å°±åƒä¸€æ¬¡æ€§çº¸æ¯ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ–°çš„</span>
<span class="hljs-meta">@Component</span>  
<span class="hljs-meta">@Scope("prototype")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrototypeService</span> {
    <span class="hljs-comment">// æ¯æ¬¡æœ‰äººéœ€è¦æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹</span>
    <span class="hljs-comment">// é€‚åˆæœ‰çŠ¶æ€çš„åœºæ™¯ï¼Œæ¯”å¦‚è´­ç‰©è½¦</span>
}

<span class="hljs-comment">// Webç›¸å…³ä½œç”¨åŸŸ</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Scope("request")</span>   <span class="hljs-comment">// æ¯ä¸ªHTTPè¯·æ±‚ä¸€ä¸ªå®ä¾‹ï¼Œè¯·æ±‚ç»“æŸå°±é”€æ¯</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestScopedService</span> {
    <span class="hljs-comment">// é€‚åˆå­˜å‚¨è¯·æ±‚ç›¸å…³çš„æ•°æ®</span>
}

<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@Scope("session")</span>   <span class="hljs-comment">// æ¯ä¸ªç”¨æˆ·ä¼šè¯ä¸€ä¸ªå®ä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionScopedService</span> {
    <span class="hljs-comment">// é€‚åˆå­˜å‚¨ç”¨æˆ·ç™»å½•ä¿¡æ¯ç­‰</span>
}
</code></pre>
<h3 data-id="heading-3">1.2 å•ä¾‹ vs åŸå‹ï¼šå¦‚ä½•é€‰æ‹©ï¼Ÿ</h3>
<p>å¾ˆå¤šåŒå­¦ä¼šå›°æƒ‘ï¼šä»€ä¹ˆæ—¶å€™ç”¨å•ä¾‹ï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨åŸå‹ï¼Ÿæˆ‘æ€»ç»“äº†ä¸€ä¸ªå¯¹æ¯”è¡¨ï¼š</p>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èä½œç”¨åŸŸ</th><th>åŸå› </th><th>å®é™…ä¾‹å­</th></tr></thead><tbody><tr><td>å·¥å…·ç±»ã€æœåŠ¡ç±»</td><td>å•ä¾‹</td><td>æ— çŠ¶æ€ï¼Œçº¿ç¨‹å®‰å…¨</td><td>UserServiceã€EmailUtil</td></tr><tr><td>éœ€è¦éš”ç¦»çŠ¶æ€çš„ç±»</td><td>åŸå‹</td><td>é¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜</td><td>ShoppingCartã€UserContext</td></tr><tr><td>æˆæœ¬é«˜çš„å¯¹è±¡</td><td>å•ä¾‹</td><td>èŠ‚çœèµ„æº</td><td>DatabaseConnectionã€HttpClient</td></tr><tr><td>è½»é‡çº§çŠ¶æ€å¯¹è±¡</td><td>åŸå‹</td><td>é¿å…å†…å­˜æ³„æ¼</td><td>RequestLoggerã€TransactionContext</td></tr></tbody></table>
<p><strong>æ–°æ‰‹å¸¸è¸©çš„å‘</strong>ï¼šåœ¨å•ä¾‹Beanä¸­ä½¿ç”¨å¯å˜çŠ¶æ€</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> amount; <span class="hljs-comment">// å±é™©ï¼æ‰€æœ‰ç”¨æˆ·å…±äº«è¿™ä¸ªå˜é‡</span>
    
    <span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processPayment</span><span class="hljs-params">(<span class="hljs-type">double</span> paymentAmount)</span> {
        <span class="hljs-built_in">this</span>.amount = paymentAmount; <span class="hljs-comment">// ä¼šè¢«å…¶ä»–ç”¨æˆ·è¦†ç›–</span>
        <span class="hljs-comment">// ... å¤„ç†æ”¯ä»˜</span>
    }
    
    <span class="hljs-comment">// æ­£ç¡®åšæ³• - ä½¿ç”¨æ–¹æ³•å‚æ•°</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processPayment</span><span class="hljs-params">(<span class="hljs-type">double</span> amount)</span> {
        <span class="hljs-comment">// ä½¿ç”¨å±€éƒ¨å˜é‡æˆ–å‚æ•°ï¼Œä¸ä¿å­˜çŠ¶æ€</span>
        <span class="hljs-comment">// ... å¤„ç†æ”¯ä»˜</span>
    }
}
</code></pre>
<h3 data-id="heading-4">1.3 åŠ¨æ‰‹è¯•è¯•ï¼šè‡ªå®šä¹‰ä½œç”¨åŸŸ</h3>
<p>è™½ç„¶Springè‡ªå¸¦çš„ä½œç”¨åŸŸå·²ç»å¤Ÿç”¨ï¼Œä½†äº†è§£è‡ªå®šä¹‰ä½œç”¨åŸŸèƒ½åŠ æ·±ç†è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CustomScopeConfigurer <span class="hljs-title function_">customScopeConfigurer</span><span class="hljs-params">()</span> {
        <span class="hljs-type">CustomScopeConfigurer</span> <span class="hljs-variable">configurer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomScopeConfigurer</span>();
        Map&lt;String, Object&gt; scopes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        scopes.put(<span class="hljs-string">"learning"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleThreadScope</span>()); <span class="hljs-comment">// çº¿ç¨‹çº§åˆ«ä½œç”¨åŸŸ</span>
        configurer.setScopes(scopes);
        <span class="hljs-keyword">return</span> configurer;
    }
}

<span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Scope("learning")</span>  <span class="hljs-comment">// ç°åœ¨æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å®ä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningService</span> {
    <span class="hljs-comment">// è¿™ä¸ªBeanåœ¨æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½æ˜¯ç‹¬ç«‹çš„</span>
}
</code></pre>
<h2 data-id="heading-5">äºŒã€Beanç”Ÿå‘½å‘¨æœŸï¼šä¸€ä¸ªBeançš„"ä¸€ç”Ÿ"</h2>
<p>ç†è§£Beançš„ç”Ÿå‘½å‘¨æœŸå¾ˆé‡è¦ï¼Œå®ƒèƒ½å¸®ä½ è§£å†³å¾ˆå¤šè¯¡å¼‚çš„é—®é¢˜ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä¸€ä¸ªBeanä»å‡ºç”Ÿåˆ°æ­»äº¡ç»å†äº†ä»€ä¹ˆï¼Ÿ</p>
<h3 data-id="heading-6">2.1 ç”Ÿå‘½å‘¨æœŸå…¨æ™¯å›¾</h3>
<p>æˆ‘ç”»äº†ä¸€ä¸ªç®€å•çš„æµç¨‹å›¾ï¼Œå¸®åŠ©å¤§å®¶ç†è§£ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Beanå‡ºç”Ÿï¼š
   â†“
æ„é€ å‡½æ•°è°ƒç”¨ (Beanè¯ç”Ÿ)
   â†“  
å±æ€§æ³¨å…¥ (ç»™Beanè£…å¤‡)
   â†“
Awareæ¥å£å›è°ƒ (Beanè‡ªæˆ‘è®¤çŸ¥)
   â†“
BeanPostProcessorå‰ç½®å¤„ç† (åˆæ­¥åŠ å·¥)
   â†“
<span class="hljs-keyword">@PostConstruct</span> (Beançš„<span class="hljs-string">"æ»¡æœˆé…’"</span>)
   â†“  
InitializingBean (Beanå­¦ä¼šæŠ€èƒ½)
   â†“
è‡ªå®šä¹‰initæ–¹æ³• (ç‰¹æ®Šè®­ç»ƒ)
   â†“
BeanPostProcessoråç½®å¤„ç† (æœ€ç»ˆæ‰“ç£¨)
   â†“
Beanå‡†å¤‡å°±ç»ª (æ­£å¼ä¸Šå²—ï¼)

Beanæ­»äº¡ï¼š
   â†“
å®¹å™¨å…³é—­ä¿¡å·
   â†“
<span class="hljs-keyword">@PreDestroy</span> (ä¸´ç»ˆé—è¨€)
   â†“
DisposableBean (äº¤æ¥å·¥ä½œ)
   â†“
è‡ªå®šä¹‰destroyæ–¹æ³• (æ¸…ç†ç°åœº)
</code></pre>
<h3 data-id="heading-7">2.2 ä»£ç å®æˆ˜ï¼šè§‚å¯ŸBeançš„ä¸€ç”Ÿ</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä»£ç æ¥å®é™…è§‚å¯Ÿè¿™ä¸ªç”Ÿå‘½å‘¨æœŸï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentBean</span> <span class="hljs-keyword">implements</span> 
    <span class="hljs-title class_">BeanNameAware</span>, InitializingBean, DisposableBean {
    
    <span class="hljs-keyword">private</span> String name;
    
    <span class="hljs-comment">// 1. æ„é€ æ–¹æ³• - Beanè¯ç”Ÿ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">StudentBean</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ğŸ‰ 1. æ„é€ å‡½æ•°æ‰§è¡Œ - StudentBeanè¯ç”Ÿäº†ï¼"</span>);
    }
    
    <span class="hljs-comment">// 2. å±æ€§æ³¨å…¥ - ç»™Beanè£…å¤‡</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(Environment env)</span> {
        <span class="hljs-built_in">this</span>.name = <span class="hljs-string">"Springå­¦ä¹ è€…"</span>;
        System.out.println(<span class="hljs-string">"ğŸ› ï¸  2. ä¾èµ–æ³¨å…¥å®Œæˆ - åå­—è®¾ç½®ä¸º: "</span> + <span class="hljs-built_in">this</span>.name);
    }
    
    <span class="hljs-comment">// 3. äº†è§£è‡ªå·±çš„åå­—</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBeanName</span><span class="hljs-params">(String name)</span> {
        System.out.println(<span class="hljs-string">"ğŸ“ 3. Beanè‡ªæˆ‘è®¤çŸ¥ - æˆ‘åœ¨å®¹å™¨ä¸­çš„åå­—æ˜¯: "</span> + name);
    }
    
    <span class="hljs-comment">// 4. åˆå§‹åŒ–å‰çš„å‡†å¤‡</span>
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postConstruct</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ğŸŠ 4. @PostConstructæ‰§è¡Œ - åˆå§‹åŒ–å‰çš„å‡†å¤‡å®Œæˆ"</span>);
    }
    
    <span class="hljs-comment">// 5. å±æ€§è®¾ç½®åçš„åˆå§‹åŒ–</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterPropertiesSet</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ğŸš€ 5. InitializingBeanæ‰§è¡Œ - æ‰€æœ‰å±æ€§éƒ½å·²è®¾ç½®ï¼Œå‡†å¤‡å°±ç»ªï¼"</span>);
    }
    
    <span class="hljs-comment">// 6. ä¸šåŠ¡æ–¹æ³• - Beanæ­£å¼å·¥ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">study</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ğŸ“š 6. ä¸šåŠ¡æ–¹æ³•æ‰§è¡Œ - æ­£åœ¨å­¦ä¹ Spring..."</span>);
    }
    
    <span class="hljs-comment">// 7. é”€æ¯å‰çš„æ¸…ç†</span>
    <span class="hljs-meta">@PreDestroy</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preDestroy</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ğŸ§¹ 7. @PreDestroyæ‰§è¡Œ - å¼€å§‹æ¸…ç†èµ„æº..."</span>);
    }
    
    <span class="hljs-comment">// 8. é”€æ¯æ–¹æ³•</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> {
        System.out.println(<span class="hljs-string">"ğŸ‘‹ 8. DisposableBeanæ‰§è¡Œ - StudentBeanç”Ÿå‘½ç»“æŸ"</span>);
    }
}
</code></pre>
<p>è¿è¡Œè¿™ä¸ªBeanï¼Œä½ ä¼šåœ¨æ§åˆ¶å°çœ‹åˆ°å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸæ—¥å¿—ï¼</p>
<h3 data-id="heading-8">2.3 ç”Ÿå‘½å‘¨æœŸä¸­çš„"å¢å¼ºå™¨" - BeanPostProcessor</h3>
<p>BeanPostProcessoræ˜¯Springæä¾›çš„ä¸€ä¸ªæ‰©å±•ç‚¹ï¼Œå¯ä»¥åœ¨Beanåˆå§‹åŒ–å‰åè¿›è¡Œå¢å¼ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningBeanPostProcessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BeanPostProcessor</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">postProcessBeforeInitialization</span><span class="hljs-params">(Object bean, String beanName)</span> {
        <span class="hljs-keyword">if</span> (bean <span class="hljs-keyword">instanceof</span> StudentBean) {
            System.out.println(<span class="hljs-string">"âœ¨ BeanPostProcessorå‰ç½®å¤„ç† - ç»™BeanåŠ ç‚¹é­”æ³•"</span>);
        }
        <span class="hljs-keyword">return</span> bean;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">postProcessAfterInitialization</span><span class="hljs-params">(Object bean, String beanName)</span> {
        <span class="hljs-keyword">if</span> (bean <span class="hljs-keyword">instanceof</span> StudentBean) {
            System.out.println(<span class="hljs-string">"ğŸŒŸ BeanPostProcessoråç½®å¤„ç† - Beanå·²ç»å‡†å¤‡å¥½å¤§å±•èº«æ‰‹äº†ï¼"</span>);
        }
        <span class="hljs-keyword">return</span> bean;
    }
}
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€Spring Bootè‡ªåŠ¨é…ç½®ï¼šç¥å¥‡çš„"çº¦å®šä¼˜äºé…ç½®"</h2>
<p>åˆšå¼€å§‹å­¦Spring Bootæ—¶ï¼Œæˆ‘æœ€æƒŠè®¶çš„å°±æ˜¯ï¼šä¸ºä»€ä¹ˆæˆ‘ä»€ä¹ˆéƒ½æ²¡é…ç½®ï¼Œåº”ç”¨å°±èƒ½è·‘èµ·æ¥ï¼Ÿè¿™å°±æ˜¯è‡ªåŠ¨é…ç½®çš„é­”åŠ›ï¼</p>
<h3 data-id="heading-10">3.1 è‡ªåŠ¨é…ç½®æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼ŒSpring Bootå°±åƒä¸€ä¸ªè´´å¿ƒçš„åŠ©æ‰‹ï¼Œå®ƒè¯´ï¼š"å¦‚æœä½ ä¸å‘Šè¯‰æˆ‘å…·ä½“æ€ä¹ˆåšï¼Œæˆ‘å°±æŒ‰ç…§æœ€å¸¸ç”¨çš„æ–¹å¼å¸®ä½ æå®šã€‚"</p>
<p>æ ¸å¿ƒæœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SpringBootApplication</span>  <span class="hljs-comment">// è¿™ä¸ªæ³¨è§£åŒ…å«äº†å¾ˆå¤šé­”æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningApplication</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        SpringApplication.run(LearningApplication.class, args);
    }
}
</code></pre>
<p><code>@SpringBootApplication</code> å®é™…ä¸ŠåŒ…å«äº† <code>@EnableAutoConfiguration</code>ï¼Œå®ƒä¼šï¼š</p>
<ol>
<li>æ‰«æ classpath ä¸‹çš„ä¾èµ–</li>
<li>è¯»å– <code>META-INF/spring.factories</code> æ–‡ä»¶</li>
<li>æ ¹æ®æ¡ä»¶è‡ªåŠ¨é…ç½®å„ç§Bean</li>
</ol>
<h3 data-id="heading-11">3.2 æ¡ä»¶åŒ–é…ç½®ï¼šæ™ºèƒ½çš„è‡ªåŠ¨é…ç½®</h3>
<p>Spring Bootä¸ä¼šç›²ç›®é…ç½®ï¼Œå®ƒå¾ˆèªæ˜ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-comment">// åªæœ‰å½“ç±»è·¯å¾„ä¸‹æœ‰DataSourceç±»æ—¶æ‰ç”Ÿæ•ˆ</span>
<span class="hljs-meta">@ConditionalOnClass(DataSource.class)</span>
<span class="hljs-comment">// åªæœ‰å½“é…ç½®äº†æ•°æ®åº“URLæ—¶æ‰ç”Ÿæ•ˆ</span>
<span class="hljs-meta">@ConditionalOnProperty(name = "spring.datasource.url")</span>
<span class="hljs-comment">// åªæœ‰å½“æ²¡æœ‰è‡ªå®šä¹‰DataSourceæ—¶æ‰ç”Ÿæ•ˆ</span>
<span class="hljs-meta">@ConditionalOnMissingBean(DataSource.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceAutoConfiguration</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">dataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è‡ªåŠ¨åˆ›å»ºæ•°æ®æº</span>
        <span class="hljs-keyword">return</span> DataSourceBuilder.create().build();
    }
}
</code></pre>
<p>è¿™ç§"æ¡ä»¶åŒ–"é…ç½®è®©Spring Bootæ—¢æ™ºèƒ½åˆçµæ´»ã€‚</p>
<h3 data-id="heading-12">3.3 åŠ¨æ‰‹å®è·µï¼šåˆ›å»ºè‡ªå·±çš„è‡ªåŠ¨é…ç½®</h3>
<p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„è‡ªåŠ¨é…ç½®ï¼ŒåŠ æ·±ç†è§£ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å®šä¹‰é…ç½®å±æ€§ï¼ˆå¯ä»¥åœ¨application.ymlä¸­é…ç½®ï¼‰</span>
<span class="hljs-meta">@ConfigurationProperties(prefix = "learning.config")</span>
<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningProperties</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">studentName</span> <span class="hljs-operator">=</span> <span class="hljs-string">"é»˜è®¤å­¦ç”Ÿ"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">studyHours</span> <span class="hljs-operator">=</span> <span class="hljs-number">8</span>;
}

<span class="hljs-comment">// 2. åˆ›å»ºå­¦ä¹ æœåŠ¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String studentName;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> studyHours;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">LearningService</span><span class="hljs-params">(String studentName, <span class="hljs-type">int</span> studyHours)</span> {
        <span class="hljs-built_in">this</span>.studentName = studentName;
        <span class="hljs-built_in">this</span>.studyHours = studyHours;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">study</span><span class="hljs-params">()</span> {
        System.out.println(studentName + <span class="hljs-string">" æ¯å¤©å­¦ä¹  "</span> + studyHours + <span class="hljs-string">" å°æ—¶"</span>);
    }
}

<span class="hljs-comment">// 3. åˆ›å»ºè‡ªåŠ¨é…ç½®ç±»</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@EnableConfigurationProperties(LearningProperties.class)</span>
<span class="hljs-meta">@ConditionalOnClass(LearningService.class)</span>  <span class="hljs-comment">// æœ‰LearningServiceç±»æ‰ç”Ÿæ•ˆ</span>
<span class="hljs-meta">@ConditionalOnProperty(prefix = "learning.config", value = "enabled", matchIfMissing = true)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LearningAutoConfiguration</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-meta">@ConditionalOnMissingBean</span>  <span class="hljs-comment">// å¦‚æœç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰ï¼Œæ‰ç”¨æˆ‘ä»¬çš„</span>
    <span class="hljs-keyword">public</span> LearningService <span class="hljs-title function_">learningService</span><span class="hljs-params">(LearningProperties properties)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LearningService</span>(properties.getStudentName(), properties.getStudyHours());
    }
}
</code></pre>
<p>åœ¨ <code>application.yml</code> ä¸­é…ç½®ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">learning:</span>
  <span class="hljs-attr">config:</span>
    <span class="hljs-attr">student-name:</span> <span class="hljs-string">"å°æ˜"</span>
    <span class="hljs-attr">study-hours:</span> <span class="hljs-number">6</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
</code></pre>
<p>ç°åœ¨ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»º <code>LearningService</code>ï¼ŒSpring Bootä¼šè‡ªåŠ¨å¸®ä½ æå®šï¼</p>
<h3 data-id="heading-13">3.4 è°ƒè¯•æŠ€å·§ï¼šæŸ¥çœ‹å“ªäº›è‡ªåŠ¨é…ç½®ç”Ÿæ•ˆäº†</h3>
<p>æƒ³çŸ¥é“Spring BootèƒŒç€ä½ åšäº†ä»€ä¹ˆï¼Ÿæ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># application.properties
debug=true
</code></pre>
<p>å¯åŠ¨åº”ç”¨æ—¶ï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Positive <span class="hljs-keyword">matches</span>:    (å¯ç”¨çš„è‡ªåŠ¨é…ç½®)
<span class="hljs-comment">-----------------</span>
   DataSourceAutoConfiguration matched:
      <span class="hljs-operator">-</span> <span class="hljs-variable">@ConditionalOnClass</span> found required classes <span class="hljs-string">'javax.sql.DataSource'</span>, <span class="hljs-string">'org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType'</span> (OnClassCondition)

Negative <span class="hljs-keyword">matches</span>:    (æœªå¯ç”¨çš„è‡ªåŠ¨é…ç½®)
<span class="hljs-comment">-----------------</span>
   ActiveMQAutoConfiguration:
      Did <span class="hljs-keyword">not</span> <span class="hljs-keyword">match</span>:
         <span class="hljs-operator">-</span> <span class="hljs-variable">@ConditionalOnClass</span> did <span class="hljs-keyword">not</span> find required classes <span class="hljs-string">'javax.jms.ConnectionFactory'</span>, <span class="hljs-string">'org.apache.activemq.ActiveMQConnectionFactory'</span> (OnClassCondition)
</code></pre>
<h2 data-id="heading-14">å››ã€å­¦ä¹ æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<p>ç»è¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹å…³é”®ç‚¹ï¼š</p>
<h3 data-id="heading-15">4.1 Beanä½œç”¨åŸŸé€‰æ‹©æŒ‡å—</h3>
<ul>
<li><strong>å•ä¾‹æ¨¡å¼</strong>ï¼šä½ çš„é¦–é€‰ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯</li>
<li><strong>åŸå‹æ¨¡å¼</strong>ï¼šå½“éœ€è¦çŠ¶æ€éš”ç¦»æ—¶ä½¿ç”¨</li>
<li><strong>Request/Sessionä½œç”¨åŸŸ</strong>ï¼šWebåº”ç”¨ä¸“ç”¨</li>
</ul>
<h3 data-id="heading-16">4.2 ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä½¿ç”¨å»ºè®®</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BestPracticeBean</span> {
    
    <span class="hljs-comment">// âœ… æ¨èï¼šåœ¨@PostConstructä¸­è¿›è¡Œè½»é‡çº§åˆå§‹åŒ–</span>
    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ•°æ®æ ¡éªŒã€ç¼“å­˜é¢„çƒ­ç­‰</span>
        validateConfig();
        warmUpCache();
    }
    
    <span class="hljs-comment">// âŒ é¿å…ï¼šåœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œå¤æ‚æ“ä½œ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">BestPracticeBean</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¸è¦åœ¨è¿™é‡Œè°ƒç”¨å…¶ä»–Beançš„æ–¹æ³•ï¼</span>
        <span class="hljs-comment">// å› ä¸ºä¾èµ–æ³¨å…¥è¿˜æ²¡æœ‰å®Œæˆ</span>
    }
    
    <span class="hljs-comment">// âœ… æ¨èï¼šä½¿ç”¨@PreDestroyæ¸…ç†èµ„æº</span>
    <span class="hljs-meta">@PreDestroy</span>  
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cleanup</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// å…³é—­æ–‡ä»¶ã€é‡Šæ”¾è¿æ¥ç­‰</span>
        releaseResources();
    }
}
</code></pre>
<h3 data-id="heading-17">4.3 è‡ªåŠ¨é…ç½®ä½¿ç”¨æŠ€å·§</h3>
<ol>
<li><strong>æŸ¥çœ‹ç”Ÿæ•ˆçš„é…ç½®</strong>ï¼šä½¿ç”¨ <code>debug=true</code></li>
<li><strong>æ’é™¤ä¸éœ€è¦çš„é…ç½®</strong>ï¼šä½¿ç”¨ <code>@SpringBootApplication(exclude = {SomeAutoConfiguration.class})</code></li>
<li><strong>è¦†ç›–é»˜è®¤é…ç½®</strong>ï¼šç›´æ¥å®šä¹‰è‡ªå·±çš„Bean</li>
<li><strong>ä½¿ç”¨é…ç½®å±æ€§</strong>ï¼šåœ¨ <code>application.yml</code> ä¸­è°ƒæ•´å‚æ•°</li>
</ol>
<h2 data-id="heading-18">å­¦ä¹ å¿ƒå¾—</h2>
<p>å­¦ä¹ Springçš„è¿™äº›æ ¸å¿ƒæ¦‚å¿µæ—¶ï¼Œæˆ‘æœ€å¤§çš„ä½“ä¼šæ˜¯ï¼š</p>
<ol>
<li><strong>ç†è§£åŸç†æ¯”æ­»è®°ç¡¬èƒŒæ›´é‡è¦</strong>ï¼šæ˜ç™½Beanç”Ÿå‘½å‘¨æœŸåï¼Œå¾ˆå¤šé—®é¢˜è‡ªç„¶å°±æƒ³é€šäº†</li>
<li><strong>å¤šåŠ¨æ‰‹å®è·µ</strong>ï¼šå…‰çœ‹ä¸å¤Ÿï¼Œè¦äº²æ‰‹å†™ä»£ç ã€çœ‹æ—¥å¿—ã€è°ƒè¯•</li>
<li><strong>ä»ç®€å•å¼€å§‹</strong>ï¼šå…ˆæŒæ¡å•ä¾‹ä½œç”¨åŸŸå’ŒåŸºæœ¬ç”Ÿå‘½å‘¨æœŸï¼Œå†å­¦ä¹ é«˜çº§ç‰¹æ€§</li>
</ol>
<p>è®°ä½ï¼Œæ¯ä¸ªSpringé«˜æ‰‹éƒ½æ˜¯ä»ç†è§£Beanå¼€å§‹çš„ã€‚å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¸®åŠ©ä½ åœ¨Springçš„å­¦ä¹ é“è·¯ä¸Šèµ°å¾—æ›´è¿œï¼</p>
<p><strong>å­¦ä¹ è·¯ä¸Šä¸å­¤å•ï¼Œé‡åˆ°é—®é¢˜å¤šå®è·µï¼</strong> ğŸš€</p>
<hr/>
<p><em>PS: å¦‚æœåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude é…ç½®ä½¿ç”¨å¢¨åˆ€MCPï¼ˆmodao-proto-mcpï¼‰]]></title>    <link>https://juejin.cn/post/7572844326390497314</link>    <guid>https://juejin.cn/post/7572844326390497314</guid>    <pubDate>2025-11-17T05:36:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572844326390497314" data-draft-id="7572775409726996480" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude é…ç½®ä½¿ç”¨å¢¨åˆ€MCPï¼ˆmodao-proto-mcpï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC,Claude"/> <meta itemprop="datePublished" content="2025-11-17T05:36:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Keely40285"/> <meta itemprop="url" content="https://juejin.cn/user/2594503171249997"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude é…ç½®ä½¿ç”¨å¢¨åˆ€MCPï¼ˆmodao-proto-mcpï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2594503171249997/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Keely40285
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:36:40.000Z" title="Mon Nov 17 2025 05:36:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œæœªç»åšä¸»å…è®¸ä¸å¾—è½¬è½½ã€‚ æ–‡ç« åº•éƒ¨ç•™è¨€å¯è”ç³»ä½œè€…ã€‚</p>
</blockquote>
<h2 data-id="heading-0">Claude é…ç½®å¢¨åˆ€MCP</h2>
<p>é€šè¿‡ claude æ¥æ§åˆ¶å¢¨åˆ€ç”ŸæˆåŸå‹å›¾ï¼Œå¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodao-dev%2Fmodao-proto-mcp" target="_blank" title="https://github.com/modao-dev/modao-proto-mcp" ref="nofollow noopener noreferrer">ç‚¹å‡»æŸ¥çœ‹å¢¨åˆ€mcp</a>ï¼Œæˆ‘ä½¿ç”¨è¿™ä¸ªMCPé…ç½®åœ¨claudeä¸­æ¥è¿›è¡Œè®¾è®¡ï¼Œå½“å‰MCPæä¾›çš„å·¥å…·æ–¹æ³•ä¸»è¦æœ‰3ä¸ªï¼š</p>
<ul>
<li>gen_htmlï¼šæ ¹æ®ç”¨æˆ·æè¿°ç”Ÿæˆå®Œæ•´çš„HTMLä»£ç ï¼Œæ”¯æŒç°ä»£åŒ–è®¾è®¡å’Œå“åº”å¼å¸ƒå±€ã€‚</li>
<li>gen_descriptionï¼šåŸºäºç”¨æˆ·ç®€çŸ­çš„è®¾è®¡éœ€æ±‚ç”Ÿæˆè¯¦ç»†çš„è®¾è®¡è¯´æ˜æ–‡æ¡£ã€‚</li>
<li>import_htmlï¼šå°†é€šè¿‡gen_htmlå·¥å…·ç”Ÿæˆçš„HTMLå¯¼å…¥åˆ°ç”¨æˆ·çš„ä¸ªäººç©ºé—´ä¸­ã€‚</li>
</ul>
<p><strong>è¿™é‡Œå¯èƒ½ä¼šæœ‰å°ä¼™ä¼´ç–‘æƒ‘MCPæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2Fdocs%2Fgetting-started%2Fintro" target="_blank" title="https://modelcontextprotocol.io/docs/getting-started/intro" ref="nofollow noopener noreferrer">ç‚¹å‡»è¿™é‡Œé“¾æ¥</a>  æ¥äº†è§£ä»€ä¹ˆæ˜¯MCPã€‚</strong></p>
<h3 data-id="heading-1">é…ç½®MCP</h3>
<p>å¯ä»¥ç›´æ¥åœ¨é¡¹ç›®ç›®å½•.mcp.json æ–‡ä»¶ä¸­æ·»åŠ é…ç½®å³å¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"modao-proto-mcp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"@modao-mcp/modao-proto-mcp"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"--token=YOUR_TOKEN"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"--url=https://modao.cc"</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62a4f8ebf4ff4fb28a3aec885ed4b303~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=s6hUYDdGUfvPXs1KmK6f0Ky%2BrQo%3D" alt="é…ç½®mcp.png" loading="lazy"/></p>
<p>tokenéœ€è¦å»<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodao.cc%2Fai" target="_blank" title="https://modao.cc/ai" ref="nofollow noopener noreferrer">å¢¨åˆ€ç½‘ç«™</a>ç™»å½•åçš„å·¦ä¸‹è§’ç”¨æˆ·å¤´åƒåœ°æ–¹ç‚¹å‡»ã€Œä»¤ç‰Œè®¾ç½®ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf98cada4afc4655bc7063975bec539e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=Y47k2FiqjBhK4SDRfjk70khfmgQ%3D" alt="ä»¤ç‰Œè®¾ç½®.png" loading="lazy"/></p>
<p>å°†ä»¤ç‰Œtokenæ”¾åˆ°ä¸Šé¢tokençš„åœ°æ–¹å³å¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebd99ce90aef47b9bf28bb60c794954a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=GEzdLCiBf5qpSUNuLYwpmWUIhE0%3D" alt="token.png" loading="lazy"/></p>
<h3 data-id="heading-2">æ£€æŸ¥MCPæ˜¯å¦è¿æ¥æ­£å¸¸</h3>
<p>åœ¨claudeæ§åˆ¶å°è¾“å…¥ <code>/mcp</code> ä¼šå‡ºç°å½“å‰å®‰è£…çš„mcpåˆ—è¡¨ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°ï¼Œå¦‚æœæ˜¾ç¤ºconnectedå°±å¯ä»¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c08a6c45a724fa59112e789a366d291~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=ekzYZ9dG7pZ%2BQ%2BV2JxqeYYvVE5g%3D" alt="æ£€æŸ¥mcp.png" loading="lazy"/></p>
<h3 data-id="heading-3">è°ƒç”¨MCP</h3>
<h4 data-id="heading-4">1. è°ƒç”¨å¢¨åˆ€mcpè®¾è®¡ä¸€ä¸ªPCç«¯çš„è¯¾ç¨‹åˆ—è¡¨ç½‘ç«™</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f638c5875c894986a901414df52f99d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=7XiBceJnE4%2B%2BQOApy%2F17dOdDmSE%3D" alt="ç”Ÿæˆä¸€ä¸ªç½‘ç«™.png" loading="lazy"/></p>
<p>ç”±äºæ–‡ä»¶æ²¡æœ‰ä¿å­˜ï¼Œå¯ä»¥è®©å¸®å¿™ä¿å­˜ä¸‹htmlæ–‡ä»¶</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aca511ae104b469cbe514db6e828aa67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=pmOmcVhjVOJLq6EhUATPd8QaU6M%3D" alt="ä¿å­˜ç”Ÿæˆçš„è¯¾ç¨‹åˆ—è¡¨html.png" loading="lazy"/></p>
<h4 data-id="heading-5">2. ç”Ÿæˆhtmlä¹‹åï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨å¢¨åˆ€mcpå¯¼å…¥åˆ°ä¸ªäººç©ºé—´ä¸­</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bfb6971403e433d8427dacb906175cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=34lj31baPxGARw83AOvz48O8g2s%3D" alt="å¢¨åˆ€mcpå¯¼å…¥åˆ°ä¸ªäººç©ºé—´.png" loading="lazy"/></p>
<p>ç„¶ååœ¨ä¸ªäººç©ºé—´ä¸­å°±å¯ä»¥è¿›è¡ŒæŸ¥çœ‹äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25f4c8b2613243d7b0548cd1d1f29c77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=IsBjhGpbP54vXsp%2BF8hnq4ywx8c%3D" alt="å¢¨åˆ€ä¸ªäººç©ºé—´å·²ä¸Šä¼ çš„åŸå‹html.png" loading="lazy"/></p>
<h4 data-id="heading-6">3.å¯ä»¥è®©å¢¨åˆ€mcpç”Ÿæˆè¯¦ç»†çš„è®¾è®¡æè¿°</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/533d7ff3e1bc4abcba1a1f819edab1b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=ZGFd30MqIlOjAPV4oUQfUOFC1z0%3D" alt="è°ƒç”¨å¢¨åˆ€mcpç”Ÿæˆè¯¦ç»†è®¾è®¡æè¿°.png" loading="lazy"/>
æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4f1ae99bb854122ae6a7d817a678c8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=QuPy45oMGCUQNN3nAD0vEd4oFi4%3D" alt="è®¾è®¡æè¿°ç»“æœ.png" loading="lazy"/></p>
<h2 data-id="heading-7">å…¶ä»–æ³¨æ„</h2>
<ul>
<li>åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼šé‡åˆ°æŠ¥é”™403çš„æƒ…å†µ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e692e2a67f1c46da9b1a00b4f6d2ee45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=B%2BiivLwGWNc997Ejh3n%2BEuk7hjc%3D" alt="å¢¨åˆ€mcpè°ƒç”¨æŠ¥é”™403.png" loading="lazy"/></p>
<p>å¯èƒ½æ˜¯ç§¯åˆ†ä¸è¶³å¯¼è‡´çš„ï¼Œå› ä¸ºå¢¨åˆ€AIä½¿ç”¨æ—¶æ˜¯éœ€è¦ç§¯åˆ†çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a56c4cb3f1e245d4bef47dd5377efb25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=z080QW94ptEEeNeGLsb3oeUTRgo%3D" alt="å¸¸è§é—®é¢˜.png" loading="lazy"/></p>
<p>æˆ‘åœ¨å……å€¼ç§¯åˆ†ä¹‹åä¾ç„¶æŠ¥é”™403ï¼Œå¯ä»¥åŠ å…¥å¢¨åˆ€å®˜æ–¹è®¨è®ºå¾®ä¿¡ç¾¤å¯»æ‰¾è§£å†³æ–¹æ¡ˆï¼Œåœ¨æä¾›ç”¨æˆ·IDåå·²è§£å†³ï¼Œå¯ä»¥æ­£å¸¸è°ƒç”¨äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b0bc947b9a645f990d510728770d895~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS2VlbHk0MDI4NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962600&amp;x-signature=RnOZUNdjXIRwz6Adl2kM93jrIho%3D" alt="åŠ å…¥ç¤¾ç¾¤.png" loading="lazy"/></p>
<h2 data-id="heading-8">å‚è€ƒæ–‡æ¡£</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodao-dev%2Fmodao-proto-mcp" target="_blank" title="https://github.com/modao-dev/modao-proto-mcp" ref="nofollow noopener noreferrer">modao-proto-mcp</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.modelscope.cn%2Fmcp%2Fservers%2Fmockingbot%2Fmodao-proto-mcp" target="_blank" title="https://www.modelscope.cn/mcp/servers/mockingbot/modao-proto-mcp" ref="nofollow noopener noreferrer">å¢¨åˆ€AI-MCP</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Canal ES Adapter pkVal ä¸º null é—®é¢˜è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7573299401045590062</link>    <guid>https://juejin.cn/post/7573299401045590062</guid>    <pubDate>2025-11-17T05:30:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573299401045590062" data-draft-id="7573192460869337098" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Canal ES Adapter pkVal ä¸º null é—®é¢˜è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-17T05:30:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å¿ƒåªè¯»åœ£è´¤çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/3215385532565447"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Canal ES Adapter pkVal ä¸º null é—®é¢˜è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3215385532565447/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å¿ƒåªè¯»åœ£è´¤çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:30:12.000Z" title="Mon Nov 17 2025 05:30:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Canal ES Adapter pkVal ä¸º null é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-1">é—®é¢˜æè¿°</h3>
<p>åœ¨ä½¿ç”¨ Canal ES Adapter åŒæ­¥æ•°æ®åˆ° Elasticsearch æ—¶ï¼Œæ‰§è¡Œ UPDATE æ“ä½œæ—¶å‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">java.lang.RuntimeException: java.lang.NullPointerException: Cannot invoke <span class="hljs-string">"Object.toString()"</span> because <span class="hljs-string">"pkVal"</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>
</code></pre>
<p>é”™è¯¯å‘ç”Ÿåœ¨ <code>ESSyncService.java</code> ç±»çš„ <code>singleTableSimpleFiledUpdate</code> æ–¹æ³•ä¸­ï¼Œè°ƒç”¨ <code>esTemplate.getESDataFromDmlData()</code> æ–¹æ³•æ—¶è¿”å›äº† <code>null</code>ã€‚</p>
<h3 data-id="heading-2">é”™è¯¯æ—¥å¿—</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-number">2025</span>-<span class="hljs-number">11</span>-<span class="hljs-number">17</span> <span class="hljs-number">13</span>:08:<span class="hljs-number">13.129</span> [pool-<span class="hljs-number">3</span>-thread-<span class="hljs-number">1</span>] ERROR c.a.o.canal.client.adapter.es.core.service.ESSyncService - sync error, es index: shop_order, DML : Dml{destination=<span class="hljs-string">'example'</span>, database=<span class="hljs-string">'kenanai'</span>, table=<span class="hljs-string">'shop_order'</span>, type=<span class="hljs-string">'UPDATE'</span>, es=<span class="hljs-number">1763356092000</span>, ts=<span class="hljs-number">1763356093118</span>, sql=<span class="hljs-string">''</span>, <span class="hljs-keyword">data</span>=[{id=<span class="hljs-number">180</span>, order_no=test123131313, ...}], old=[{order_no=ORD20251117125806655, update_time=<span class="hljs-number">2025</span>-<span class="hljs-number">11</span>-<span class="hljs-number">17</span> <span class="hljs-number">12</span>:<span class="hljs-number">58</span>:<span class="hljs-number">06.0</span>}]}

<span class="hljs-number">2025</span>-<span class="hljs-number">11</span>-<span class="hljs-number">17</span> <span class="hljs-number">13</span>:08:<span class="hljs-number">13.132</span> [pool-<span class="hljs-number">3</span>-thread-<span class="hljs-number">1</span>] ERROR c.a.otter.canal.adapter.launcher.loader.AdapterProcessor - java.lang.NullPointerException: Cannot invoke <span class="hljs-string">"Object.toString()"</span> because <span class="hljs-string">"pkVal"</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>

java.lang.RuntimeException: java.lang.NullPointerException: Cannot invoke <span class="hljs-string">"Object.toString()"</span> because <span class="hljs-string">"pkVal"</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span>
</code></pre>
<h3 data-id="heading-3">é—®é¢˜å‘ç”Ÿä½ç½®</h3>
<p>é”™è¯¯å‘ç”Ÿåœ¨ä»¥ä¸‹è°ƒç”¨é“¾ï¼š</p>
<ol>
<li><strong>ESSyncService.java</strong> - <code>singleTableSimpleFiledUpdate</code> æ–¹æ³•</li>
<li><strong>ES7xTemplate.java</strong> - <code>getESDataFromDmlData</code> æ–¹æ³•ï¼ˆå¸¦ owner å‚æ•°çš„é‡è½½ç‰ˆæœ¬ï¼‰</li>
</ol>
<h3 data-id="heading-4">æºä»£ç åˆ†æ</h3>
<h4 data-id="heading-5">1. ESSyncService.java - singleTableSimpleFiledUpdate æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * å•è¡¨ç®€å•å­—æ®µupdate
 *
 * <span class="hljs-doctag">@param</span> config esé…ç½®
 * <span class="hljs-doctag">@param</span> dml dmlä¿¡æ¯
 * <span class="hljs-doctag">@param</span> data å•è¡Œdataæ•°æ®
 * <span class="hljs-doctag">@param</span> old å•è¡Œoldæ•°æ®
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">singleTableSimpleFiledUpdate</span><span class="hljs-params">(ESSyncConfig config, String owner, Dml dml, Map&lt;String, Object&gt; data,
                                          Map&lt;String, Object&gt; old)</span> {
    <span class="hljs-type">ESMapping</span> <span class="hljs-variable">mapping</span> <span class="hljs-operator">=</span> config.getEsMapping();
    Map&lt;String, Object&gt; esFieldData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;&gt;();

    <span class="hljs-comment">// âš ï¸ é—®é¢˜å‘ç”Ÿåœ¨è¿™é‡Œï¼šidVal è¿”å› null</span>
    <span class="hljs-type">Object</span> <span class="hljs-variable">idVal</span> <span class="hljs-operator">=</span> esTemplate.getESDataFromDmlData(mapping, owner, data, old, esFieldData);

    <span class="hljs-keyword">if</span> (logger.isTraceEnabled()) {
        logger.trace(<span class="hljs-string">"Main table update to es index, destination:{}, table: {}, index: {}, id: {}"</span>,
            config.getDestination(),
            dml.getTable(),
            mapping.getIndex(),
            idVal);
    }
    <span class="hljs-comment">// âš ï¸ è¿™é‡Œè°ƒç”¨ update æ—¶ï¼ŒidVal ä¸º nullï¼Œå¯¼è‡´åç»­ toString() æŠ›å‡º NullPointerException</span>
    esTemplate.update(mapping, idVal, esFieldData);
}
</code></pre>
<p><strong>è°ƒç”¨ä½ç½®</strong>ï¼ˆç¬¬ 208 è¡Œå’Œç¬¬ 262 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (schemaItem.getAliasTableItems().size() == <span class="hljs-number">1</span> &amp;&amp; schemaItem.isAllFieldsSimple()) {
    <span class="hljs-comment">// ------å•è¡¨ &amp; æ‰€æœ‰å­—æ®µéƒ½ä¸ºç®€å•å­—æ®µ------</span>
    singleTableSimpleFiledUpdate(config, schemaItem.getMainTable().getAlias(), dml, data, old);
}
</code></pre>
<p>æ³¨æ„ï¼š<code>owner</code> å‚æ•°ä¼ å…¥çš„æ˜¯ <code>schemaItem.getMainTable().getAlias()</code>ï¼Œå¯¹äºæ²¡æœ‰è¡¨åˆ«åçš„ SQLï¼Œè¿™ä¸ªå€¼ä¼šæ˜¯ <code>null</code>ã€‚</p>
<h4 data-id="heading-6">2. ES7xTemplate.java - getESDataFromDmlData æ–¹æ³•ï¼ˆå¸¦ owner å‚æ•°ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getESDataFromDmlData</span><span class="hljs-params">(ESMapping mapping, String owner, Map&lt;String, Object&gt; dmlData,
                                   Map&lt;String, Object&gt; dmlOld, Map&lt;String, Object&gt; esFieldData)</span> {
    <span class="hljs-type">SchemaItem</span> <span class="hljs-variable">schemaItem</span> <span class="hljs-operator">=</span> mapping.getSchemaItem();
    <span class="hljs-type">String</span> <span class="hljs-variable">idFieldName</span> <span class="hljs-operator">=</span> mapping.getId() == <span class="hljs-literal">null</span> ? mapping.getPk() : mapping.getId();
    <span class="hljs-type">Object</span> <span class="hljs-variable">resultIdVal</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">for</span> (FieldItem fieldItem : schemaItem.getSelectFields().values()) {
        <span class="hljs-type">ColumnItem</span> <span class="hljs-variable">columnItem</span> <span class="hljs-operator">=</span> fieldItem.getColumnItems().iterator().next();
        
        <span class="hljs-comment">// âš ï¸ é—®é¢˜æ ¹æº 1ï¼šå¦‚æœ columnItem.getOwner() ä¸º nullï¼Œç›´æ¥è·³è¿‡</span>
        <span class="hljs-keyword">if</span> (columnItem.getOwner() == <span class="hljs-literal">null</span> || columnItem.getColumnName() == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-comment">// âš ï¸ é—®é¢˜æ ¹æº 2ï¼šå¦‚æœ owner ä¸åŒ¹é…ï¼Œä¹Ÿè·³è¿‡</span>
        <span class="hljs-keyword">if</span> (!columnItem.getOwner().equals(owner)) {
            <span class="hljs-keyword">continue</span>;
        }

        <span class="hljs-type">String</span> <span class="hljs-variable">columnName</span> <span class="hljs-operator">=</span> columnItem.getColumnName();
        <span class="hljs-keyword">if</span> (fieldItem.getFieldName().equals(idFieldName)) {
            resultIdVal = getValFromData(mapping, dmlData, fieldItem.getFieldName(), columnName);
        }

        <span class="hljs-keyword">if</span> (dmlOld.containsKey(columnName) &amp;&amp; !mapping.getSkips().contains(fieldItem.getFieldName())) {
            esFieldData.put(Util.cleanColumn(fieldItem.getFieldName()),
                getValFromData(mapping, dmlData, fieldItem.getFieldName(), columnName));
        }
    }

    <span class="hljs-comment">// æ·»åŠ çˆ¶å­æ–‡æ¡£å…³è”ä¿¡æ¯</span>
    putRelationData(mapping, schemaItem, dmlOld, esFieldData);
    <span class="hljs-keyword">return</span> resultIdVal;  <span class="hljs-comment">// âš ï¸ å¦‚æœæ‰€æœ‰å­—æ®µéƒ½è¢«è·³è¿‡ï¼Œè¿™é‡Œè¿”å› null</span>
}
</code></pre>
<h4 data-id="heading-7">3. ES7xTemplate.java - getESDataFromDmlData æ–¹æ³•ï¼ˆä¸å¸¦ owner å‚æ•°ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getESDataFromDmlData</span><span class="hljs-params">(ESMapping mapping, Map&lt;String, Object&gt; dmlData,
                                   Map&lt;String, Object&gt; esFieldData)</span> {
    <span class="hljs-type">SchemaItem</span> <span class="hljs-variable">schemaItem</span> <span class="hljs-operator">=</span> mapping.getSchemaItem();
    <span class="hljs-type">String</span> <span class="hljs-variable">idFieldName</span> <span class="hljs-operator">=</span> mapping.getId() == <span class="hljs-literal">null</span> ? mapping.getPk() : mapping.getId();
    <span class="hljs-type">Object</span> <span class="hljs-variable">resultIdVal</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">for</span> (FieldItem fieldItem : schemaItem.getSelectFields().values()) {
        <span class="hljs-type">String</span> <span class="hljs-variable">columnName</span> <span class="hljs-operator">=</span> fieldItem.getColumnItems().iterator().next().getColumnName();
        <span class="hljs-type">Object</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> getValFromData(mapping, dmlData, fieldItem.getFieldName(), columnName);

        <span class="hljs-keyword">if</span> (fieldItem.getFieldName().equals(idFieldName)) {
            resultIdVal = value;
        }

        <span class="hljs-keyword">if</span> (!fieldItem.getFieldName().equals(mapping.getId())
            &amp;&amp; !mapping.getSkips().contains(fieldItem.getFieldName())) {
            esFieldData.put(Util.cleanColumn(fieldItem.getFieldName()), value);
        }
    }

    <span class="hljs-comment">// æ·»åŠ çˆ¶å­æ–‡æ¡£å…³è”ä¿¡æ¯</span>
    putRelationData(mapping, schemaItem, dmlData, esFieldData);
    <span class="hljs-keyword">return</span> resultIdVal;
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šè¿™ä¸ªä¸å¸¦ <code>owner</code> å‚æ•°çš„æ–¹æ³•ä¸æ£€æŸ¥ <code>owner</code>ï¼Œæ‰€ä»¥ INSERT æ“ä½œæ­£å¸¸ï¼ˆINSERT ä½¿ç”¨çš„æ˜¯è¿™ä¸ªæ–¹æ³•ï¼‰ã€‚</p>
<h3 data-id="heading-8">é—®é¢˜æ ¹æœ¬åŸå› </h3>
<h4 data-id="heading-9">åŸå› åˆ†æ</h4>
<ol>
<li>
<p><strong>SQL é…ç½®é—®é¢˜</strong>ï¼š</p>
<ul>
<li>åŸå§‹ SQLï¼š<code>SELECT id as _id, ... FROM shop_order</code>ï¼ˆæ²¡æœ‰è¡¨åˆ«åï¼‰</li>
<li>å¯¹äºå•è¡¨æŸ¥è¯¢ï¼Œ<code>schemaItem.getMainTable().getAlias()</code> è¿”å› <code>null</code></li>
<li><code>columnItem.getOwner()</code> ä¹Ÿæ˜¯ <code>null</code>ï¼ˆå› ä¸ºæ²¡æœ‰è¡¨åˆ«åï¼‰</li>
</ul>
</li>
<li>
<p><strong>ä»£ç é€»è¾‘é—®é¢˜</strong>ï¼š</p>
<ul>
<li><code>getESDataFromDmlData</code> æ–¹æ³•ï¼ˆå¸¦ owner å‚æ•°ï¼‰åœ¨ç¬¬ 316 è¡Œæ£€æŸ¥ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (columnItem.getOwner() == <span class="hljs-literal">null</span> || columnItem.getColumnName() == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">continue</span>;  <span class="hljs-comment">// è·³è¿‡æ‰€æœ‰ owner ä¸º null çš„å­—æ®µ</span>
}
</code></pre>
</li>
<li>å¯¹äºæ²¡æœ‰è¡¨åˆ«åçš„ SQLï¼Œæ‰€æœ‰å­—æ®µçš„ <code>columnItem.getOwner()</code> éƒ½æ˜¯ <code>null</code>ï¼Œå› æ­¤æ‰€æœ‰å­—æ®µéƒ½è¢«è·³è¿‡</li>
<li>ä¸»é”®å­—æ®µä¹Ÿè¢«è·³è¿‡ï¼Œ<code>resultIdVal</code> å§‹ç»ˆä¸º <code>null</code></li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆ INSERT æ­£å¸¸ï¼ŒUPDATE å¤±è´¥</strong>ï¼š</p>
<ul>
<li><strong>INSERT æ“ä½œ</strong>ï¼šä½¿ç”¨ä¸å¸¦ <code>owner</code> å‚æ•°çš„é‡è½½æ–¹æ³•ï¼ˆç¬¬ 283-306 è¡Œï¼‰ï¼Œä¸æ£€æŸ¥ <code>owner</code></li>
<li><strong>UPDATE æ“ä½œ</strong>ï¼šä½¿ç”¨å¸¦ <code>owner</code> å‚æ•°çš„æ–¹æ³•ï¼ˆç¬¬ 308-337 è¡Œï¼‰ï¼Œéœ€è¦ <code>owner</code> åŒ¹é…</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10">é—®é¢˜æµç¨‹å›¾</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">UPDATE æ“ä½œ
    â†“
singleTableSimpleFiledUpdate(config, schemaItem.getMainTable().getAlias(), ...)
    â†“
owner = schemaItem.getMainTable().getAlias()  <span class="hljs-comment">// å¯¹äº "SELECT id FROM shop_order"ï¼Œè¿”å› null</span>
    â†“
getESDataFromDmlData(mapping, owner=<span class="hljs-literal">null</span>, <span class="hljs-keyword">data</span>, old, esFieldData)
    â†“
éå†å­—æ®µï¼š
    columnItem.getOwner() == <span class="hljs-literal">null</span>  <span class="hljs-comment">// å› ä¸ºæ²¡æœ‰è¡¨åˆ«å</span>
    â†“
<span class="hljs-keyword">if</span> (columnItem.getOwner() == <span class="hljs-literal">null</span>) <span class="hljs-keyword">continue</span>;  <span class="hljs-comment">// è·³è¿‡æ‰€æœ‰å­—æ®µ</span>
    â†“
resultIdVal = <span class="hljs-literal">null</span>  <span class="hljs-comment">// ä¸»é”®å­—æ®µä¹Ÿè¢«è·³è¿‡</span>
    â†“
<span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    â†“
esTemplate.update(mapping, <span class="hljs-literal">null</span>, esFieldData)
    â†“
pkVal.toString()  <span class="hljs-comment">// NullPointerException</span>
</code></pre>
<h3 data-id="heading-11">è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-12">æ–¹æ¡ˆ 1ï¼šç»™ SQL æ·»åŠ è¡¨åˆ«åï¼ˆæ¨èï¼‰</h4>
<p>åœ¨ SQL é…ç½®ä¸­ç»™è¡¨æ·»åŠ åˆ«åï¼Œè¿™æ · <code>owner</code> å°±ä¸ä¼šæ˜¯ <code>null</code>ã€‚</p>
<h5 data-id="heading-13">ä¿®æ”¹å‰ï¼ˆæœ‰é—®é¢˜çš„é…ç½®ï¼‰</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># client-adapter/launcher/src/main/resources/es7/shop_order.yml</span>
<span class="hljs-attr">dataSourceKey:</span> <span class="hljs-string">defaultDS</span>
<span class="hljs-attr">destination:</span> <span class="hljs-string">example</span>
<span class="hljs-attr">groupId:</span> <span class="hljs-string">g1</span>
<span class="hljs-attr">esMapping:</span>
  <span class="hljs-attr">_index:</span> <span class="hljs-string">shop_order</span>
  <span class="hljs-attr">_id:</span> <span class="hljs-string">_id</span>
  <span class="hljs-attr">pk:</span> <span class="hljs-string">id</span>
  <span class="hljs-attr">sql:</span> <span class="hljs-string">"SELECT id as _id, order_no, user_id, ... FROM shop_order"</span>
  <span class="hljs-attr">commitBatch:</span> <span class="hljs-number">3000</span>
  <span class="hljs-attr">etlCondition:</span> <span class="hljs-string">"where create_time&gt;={}"</span>
</code></pre>
<h5 data-id="heading-14">ä¿®æ”¹åï¼ˆæ­£ç¡®çš„é…ç½®ï¼‰</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># client-adapter/launcher/src/main/resources/es7/shop_order.yml</span>
<span class="hljs-attr">dataSourceKey:</span> <span class="hljs-string">defaultDS</span>
<span class="hljs-attr">destination:</span> <span class="hljs-string">example</span>
<span class="hljs-attr">groupId:</span> <span class="hljs-string">g1</span>
<span class="hljs-attr">esMapping:</span>
  <span class="hljs-attr">_index:</span> <span class="hljs-string">shop_order</span>
  <span class="hljs-attr">_id:</span> <span class="hljs-string">_id</span>
  <span class="hljs-attr">pk:</span> <span class="hljs-string">id</span>
  <span class="hljs-attr">sql:</span> <span class="hljs-string">"SELECT a.id as _id, a.order_no, a.user_id, a.total_amount, a.pay_amount, a.freight_amount, a.pay_type, a.source_type, a.status, a.receiver_name, a.receiver_phone, a.receiver_address, a.note, a.payment_time, a.delivery_time, a.receive_time, a.comment_time, a.create_time, a.update_time, a.phone, a.nickename, a.buyer_id, a.buyer_type, a.seller_id, a.seller_type, a.identifier, a.item_count, a.item_price, a.order_closed_time, a.goods_id, a.pay_streamId, a.close_type, a.pay_stream_id FROM shop_order a"</span>
  <span class="hljs-attr">commitBatch:</span> <span class="hljs-number">3000</span>
  <span class="hljs-attr">etlCondition:</span> <span class="hljs-string">"where a.create_time&gt;={}"</span>
</code></pre>
<h5 data-id="heading-15">å…³é”®ä¿®æ”¹ç‚¹</h5>
<ol>
<li><strong>SQL ä¸­æ·»åŠ è¡¨åˆ«å</strong>ï¼š<code>FROM shop_order</code> â†’ <code>FROM shop_order a</code></li>
<li><strong>æ‰€æœ‰å­—æ®µæ·»åŠ è¡¨åˆ«åå‰ç¼€</strong>ï¼š<code>id</code> â†’ <code>a.id</code>ï¼Œ<code>order_no</code> â†’ <code>a.order_no</code>ï¼Œç­‰ç­‰</li>
<li><strong>etlCondition ä¸­æ·»åŠ è¡¨åˆ«å</strong>ï¼š<code>where create_time&gt;={}</code> â†’ <code>where a.create_time&gt;={}</code></li>
</ol>
<h5 data-id="heading-16">ä¿®æ”¹åçš„æ•ˆæœ</h5>
<ul>
<li><code>schemaItem.getMainTable().getAlias()</code> è¿”å› <code>"a"</code>ï¼ˆä¸å†æ˜¯ <code>null</code>ï¼‰</li>
<li><code>columnItem.getOwner()</code> ä¹Ÿæ˜¯ <code>"a"</code></li>
<li><code>columnItem.getOwner().equals(owner)</code> åŒ¹é…æˆåŠŸ</li>
<li>ä¸»é”®å­—æ®µä¸ä¼šè¢«è·³è¿‡ï¼Œ<code>resultIdVal</code> å¯ä»¥æ­£ç¡®è·å–</li>
</ul>
<h4 data-id="heading-17">æ–¹æ¡ˆ 2ï¼šä¿®æ”¹ Canal æºç ï¼ˆä¸æ¨èï¼‰</h4>
<p>å¦‚æœéœ€è¦ä¿®æ”¹ Canal æºç ï¼Œå¯ä»¥åœ¨ <code>ES7xTemplate.java</code> çš„ <code>getESDataFromDmlData</code> æ–¹æ³•ä¸­æ·»åŠ å¯¹ <code>owner</code> ä¸º <code>null</code> çš„å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getESDataFromDmlData</span><span class="hljs-params">(ESMapping mapping, String owner, Map&lt;String, Object&gt; dmlData,
                                   Map&lt;String, Object&gt; dmlOld, Map&lt;String, Object&gt; esFieldData)</span> {
    <span class="hljs-type">SchemaItem</span> <span class="hljs-variable">schemaItem</span> <span class="hljs-operator">=</span> mapping.getSchemaItem();
    <span class="hljs-type">String</span> <span class="hljs-variable">idFieldName</span> <span class="hljs-operator">=</span> mapping.getId() == <span class="hljs-literal">null</span> ? mapping.getPk() : mapping.getId();
    <span class="hljs-type">Object</span> <span class="hljs-variable">resultIdVal</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">for</span> (FieldItem fieldItem : schemaItem.getSelectFields().values()) {
        <span class="hljs-type">ColumnItem</span> <span class="hljs-variable">columnItem</span> <span class="hljs-operator">=</span> fieldItem.getColumnItems().iterator().next();
        
        <span class="hljs-comment">// ä¿®æ”¹ï¼šå½“ owner ä¸º null æ—¶ï¼Œå…è®¸ columnItem.getOwner() ä¹Ÿä¸º null</span>
        <span class="hljs-keyword">if</span> (columnItem.getColumnName() == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">continue</span>;
        }
        
        <span class="hljs-comment">// ä¿®æ”¹ï¼šå¤„ç† owner ä¸º null çš„æƒ…å†µ</span>
        <span class="hljs-keyword">if</span> (owner != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (columnItem.getOwner() == <span class="hljs-literal">null</span> || !columnItem.getOwner().equals(owner)) {
                <span class="hljs-keyword">continue</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// owner ä¸º null æ—¶ï¼Œåªå¤„ç† columnItem.getOwner() ä¹Ÿä¸º null çš„å­—æ®µ</span>
            <span class="hljs-keyword">if</span> (columnItem.getOwner() != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">continue</span>;
            }
        }

        <span class="hljs-type">String</span> <span class="hljs-variable">columnName</span> <span class="hljs-operator">=</span> columnItem.getColumnName();
        <span class="hljs-keyword">if</span> (fieldItem.getFieldName().equals(idFieldName)) {
            resultIdVal = getValFromData(mapping, dmlData, fieldItem.getFieldName(), columnName);
        }

        <span class="hljs-keyword">if</span> (dmlOld.containsKey(columnName) &amp;&amp; !mapping.getSkips().contains(fieldItem.getFieldName())) {
            esFieldData.put(Util.cleanColumn(fieldItem.getFieldName()),
                getValFromData(mapping, dmlData, fieldItem.getFieldName(), columnName));
        }
    }

    putRelationData(mapping, schemaItem, dmlOld, esFieldData);
    <span class="hljs-keyword">return</span> resultIdVal;
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šä¿®æ”¹æºç éœ€è¦é‡æ–°ç¼–è¯‘ Canalï¼Œä¸”å‡çº§ Canal ç‰ˆæœ¬æ—¶å¯èƒ½ä¼šä¸¢å¤±ä¿®æ”¹ï¼Œ<strong>ä¸æ¨èä½¿ç”¨æ­¤æ–¹æ¡ˆ</strong>ã€‚</p>
<h3 data-id="heading-18">éªŒè¯æ­¥éª¤</h3>
<ol>
<li><strong>ä¿®æ”¹é…ç½®æ–‡ä»¶</strong>ï¼šæŒ‰ç…§æ–¹æ¡ˆ 1 ä¿®æ”¹ <code>shop_order.yml</code></li>
<li><strong>é‡å¯ Canal Adapter</strong>ï¼šä½¿é…ç½®ç”Ÿæ•ˆ</li>
<li><strong>æ‰§è¡Œ UPDATE æ“ä½œ</strong>ï¼šåœ¨æ•°æ®åº“ä¸­æ›´æ–° <code>shop_order</code> è¡¨çš„è®°å½•</li>
<li><strong>æ£€æŸ¥æ—¥å¿—</strong>ï¼šåº”è¯¥ä¸å†å‡ºç° <code>pkVal is null</code> çš„é”™è¯¯</li>
<li><strong>éªŒè¯ ES æ•°æ®</strong>ï¼šæ£€æŸ¥ Elasticsearch ä¸­çš„æ•°æ®æ˜¯å¦æ­£ç¡®æ›´æ–°</li>
</ol>
<h3 data-id="heading-19">ç›¸å…³æ–‡ä»¶è·¯å¾„</h3>
<ul>
<li><strong>é…ç½®æ–‡ä»¶</strong>ï¼š<code>client-adapter/launcher/src/main/resources/es7/shop_order.yml</code></li>
<li><strong>æºç æ–‡ä»¶</strong>ï¼š
<ul>
<li><code>client-adapter/escore/src/main/java/com/alibaba/otter/canal/client/adapter/es/core/service/ESSyncService.java</code></li>
<li><code>client-adapter/es7x/src/main/java/com/alibaba/otter/canal/client/adapter/es7x/support/ES7xTemplate.java</code></li>
</ul>
</li>
</ul>
<h3 data-id="heading-20">æ€»ç»“</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šUPDATE æ“ä½œæ—¶ <code>pkVal</code> ä¸º <code>null</code>ï¼Œå¯¼è‡´ <code>NullPointerException</code></li>
<li><strong>åŸå› </strong>ï¼šå•è¡¨æŸ¥è¯¢æ²¡æœ‰è¡¨åˆ«åï¼Œå¯¼è‡´ <code>owner</code> ä¸º <code>null</code>ï¼Œæ‰€æœ‰å­—æ®µè¢«è·³è¿‡</li>
<li><strong>è§£å†³</strong>ï¼šåœ¨ SQL é…ç½®ä¸­ç»™è¡¨æ·»åŠ åˆ«åï¼Œç¡®ä¿ <code>owner</code> ä¸ä¸º <code>null</code></li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šCanal ES Adapter çš„ SQL é…ç½®ä¸­ï¼Œå³ä½¿æ˜¯å•è¡¨æŸ¥è¯¢ï¼Œä¹Ÿå»ºè®®ä½¿ç”¨è¡¨åˆ«åï¼Œé¿å…ç±»ä¼¼é—®é¢˜</li>
</ul>
<h3 data-id="heading-21">å‚è€ƒ</h3>
<ul>
<li>Canal ES Adapter å®˜æ–¹æ–‡æ¡£</li>
<li>Canal GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fcanal" target="_blank" title="https://github.com/alibaba/canal" ref="nofollow noopener noreferrer">github.com/alibaba/canâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Google Mapã€Solar Api]]></title>    <link>https://juejin.cn/post/7572927004657352747</link>    <guid>https://juejin.cn/post/7572927004657352747</guid>    <pubDate>2025-11-17T03:32:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572927004657352747" data-draft-id="7567194020461264922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Google Mapã€Solar Api"/> <meta itemprop="keywords" content="React.js,å‰ç«¯,Google"/> <meta itemprop="datePublished" content="2025-11-17T03:32:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å°ä¹¦ç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1234129127750036"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Google Mapã€Solar Api
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1234129127750036/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å°ä¹¦ç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:32:07.000Z" title="Mon Nov 17 2025 03:32:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»32åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸºäº React å’Œ @react-google-maps/api åº“æ¸²æŸ“ Google Map åœ°å›¾ï¼Œæä¾›åœ°å€æœç´¢è¡¥å…¨ã€æ ¹æ®è¯¦ç»†åœ°å€ / placeId è·å–åœ°å€çš„è¯¦ç»†ä¿¡æ¯ã€ç‚¹å‡»åœ°å›¾è·å–ç»çº¬åº¦ç­‰åŠŸèƒ½ã€‚æ”¯æŒåœ°å›¾ç±»å‹é€‰æ‹©ã€åœ°å›¾å¤šè¯­è¨€ã€å¤šé¡¹æ“ä½œæ§ä»¶ã€å¿«æ·é”®æ“ä½œç­‰é…ç½®ã€‚</p>
<h2 data-id="heading-0">å®‰è£…åº“</h2>
<pre><code class="hljs language-bash" lang="bash">npm i @react-google-maps/api
npm i -D @types/google.maps
</code></pre>
<h2 data-id="heading-1">åŠ è½½åœ°å›¾èµ„æºåº“</h2>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { useLoadScript } <span class="hljs-keyword">from</span> <span class="hljs-string">"@react-google-maps/api"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">GoogleMapComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_">useLoadScript</span>({
    <span class="hljs-comment">// google map key</span>
    <span class="hljs-attr">googleMapsApiKey</span>: <span class="hljs-string">''</span>,
    <span class="hljs-comment">// éœ€è¦é¢å¤–åŠ è½½å…¶ä»–çš„èµ„æºåº“</span>
    <span class="hljs-attr">libraries</span>: [],
    <span class="hljs-comment">// åœ°å›¾è¯­è¨€ç¯å¢ƒ</span>
    <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
  });
}
</code></pre>
<h2 data-id="heading-2">æ¸²æŸ“åœ°å›¾ç»„ä»¶</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Freference%2Fmap%3Fhl%3Dzh-cn%23MapOptions" target="_blank" title="https://developers.google.com/maps/documentation/javascript/reference/map?hl=zh-cn#MapOptions" ref="nofollow noopener noreferrer">optionså…¨å‚æ•°æ–‡æ¡£</a>ï¼š å› Googleæ–‡æ¡£æ˜¯åŸç”Ÿçš„ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„ç»„ä»¶æ˜¯åŸºäº <code>React</code> å°è£…è¿‡åçš„ï¼Œæ‰€ä»¥ä½¿ç”¨ä¸Šå¯èƒ½ä¼šæœ‰éƒ¨åˆ†å·®å¼‚ã€‚</p>
<p>åœ°å›¾æ§ä»¶æ–‡æ¡£ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fcontrols%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/controls?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GoogleMap</span>, useLoadScript } <span class="hljs-keyword">from</span> <span class="hljs-string">"@react-google-maps/api"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Skeleton</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> { useCallback, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-comment">// éœ€è¦è‡ªè¡Œåˆ°å®˜ç½‘å»ç”³è¯·</span>
<span class="hljs-keyword">const</span> apiKey = <span class="hljs-string">"AAAAAAAAAAAAAAAAA"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">GoogleMapComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [defaultCenter] = <span class="hljs-title function_">useState</span>({
    <span class="hljs-attr">lat</span>: <span class="hljs-number">37.44491</span>,
    <span class="hljs-attr">lng</span>: -<span class="hljs-number">122.13925</span>,
  });
  <span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_">useLoadScript</span>({
    <span class="hljs-attr">googleMapsApiKey</span>: apiKey,
    <span class="hljs-attr">libraries</span>: [],
    <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
  });

  <span class="hljs-comment">// åœ°å›¾å®ä¾‹</span>
  <span class="hljs-keyword">const</span> [mapInstance, setMapInstance] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">Map</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> onLoad = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">map: google.maps.<span class="hljs-built_in">Map</span></span>) =&gt;</span> {
    <span class="hljs-title function_">setMapInstance</span>(map);
  }, []);

  <span class="hljs-keyword">return</span> isLoaded ? (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMap</span>
      <span class="hljs-attr">mapContainerStyle</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">width:</span> "<span class="hljs-attr">100</span>%",
        <span class="hljs-attr">height:</span> "<span class="hljs-attr">100</span>%",
        <span class="hljs-attr">borderRadius:</span> "<span class="hljs-attr">0</span>",
      }}
      // <span class="hljs-attr">åœ°å›¾åˆå§‹åŒ–æ—¶çš„ä¸­å¿ƒç‚¹</span>
      <span class="hljs-attr">center</span>=<span class="hljs-string">{defaultCenter}</span>
      <span class="hljs-attr">zoom</span>=<span class="hljs-string">{18}</span>
      // <span class="hljs-attr">åœ°å›¾æ¸²æŸ“å®Œæˆ</span>ï¼Œ<span class="hljs-attr">èƒ½æ‹¿åˆ°mapå®ä¾‹</span>
      <span class="hljs-attr">onLoad</span>=<span class="hljs-string">{onLoad}</span>
      <span class="hljs-attr">options</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">maxZoom:</span> <span class="hljs-attr">22</span>,
        <span class="hljs-attr">mapTypeId:</span> "<span class="hljs-attr">hybrid</span>", // <span class="hljs-attr">åœ°å›¾ç±»å‹</span>
        <span class="hljs-attr">tilt:</span> <span class="hljs-attr">0</span>, // <span class="hljs-attr">å€¾æ–œè§’åº¦</span>
        <span class="hljs-attr">disableDefaultUI:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">ç¦ç”¨æ‰€æœ‰æ§ä»¶UI</span>, <span class="hljs-attr">ä¼˜å…ˆçº§ä½äºè®¾ç½®æŒ‡å®šçš„æ§ä»¶</span>
        <span class="hljs-attr">fullscreenControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">å…¨å±æŒ‰é’®</span>
        <span class="hljs-attr">mapTypeControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">åœ°å›¾ç±»å‹åˆ‡æ¢æŒ‰é’®</span>
        <span class="hljs-attr">streetViewControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">3dé“è·¯æ¼«æ¸¸</span>
        <span class="hljs-attr">cameraControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">ç§»åŠ¨</span>ã€<span class="hljs-attr">ç¼©æ”¾</span>
        <span class="hljs-attr">rotateControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">æ—‹è½¬</span>ã€<span class="hljs-attr">å€¾æ–œ</span>
        <span class="hljs-attr">scaleControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">æ¯”ä¾‹å°º</span>
        <span class="hljs-attr">gestureHandling:</span> "<span class="hljs-attr">greedy</span>", // <span class="hljs-attr">æ‰‹åŠ¿å¤„ç†æ–¹å¼</span>
        <span class="hljs-attr">keyboardShortcuts:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">é”®ç›˜å¿«æ·é”®æ“ä½œ</span>
        <span class="hljs-attr">disableDoubleClickZoom:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">ç¦ç”¨åŒå‡»ç¼©æ”¾</span>
        <span class="hljs-attr">zoomControl:</span> <span class="hljs-attr">true</span>, // <span class="hljs-attr">ç¼©æ”¾æŒ‰é’®</span>
        // <span class="hljs-attr">é…ç½®åœ°å›¾å±•ç¤ºçš„è¾¹ç•Œ</span>
        <span class="hljs-attr">restriction:</span> {
          // <span class="hljs-attr">é™åˆ¶åœ°å›¾çš„è¾¹ç•Œ</span>, <span class="hljs-attr">ä¸œå—è¥¿åŒ—å››ä¸ªè¾¹ç•Œåæ ‡</span>
          <span class="hljs-attr">latLngBounds:</span> {
            <span class="hljs-attr">north:</span> <span class="hljs-attr">49.345786</span>,
            <span class="hljs-attr">east:</span> <span class="hljs-attr">-122.631844</span>,
            <span class="hljs-attr">south:</span> <span class="hljs-attr">24.396308</span>,
            <span class="hljs-attr">west:</span> <span class="hljs-attr">113.569345</span>,
          },
          // <span class="hljs-attr">æ˜¯å¦ä¸¥æ ¼é™åˆ¶åœ¨è¾¹ç•Œå†…</span>, <span class="hljs-attr">é»˜è®¤true</span>
          <span class="hljs-attr">strictBounds:</span> <span class="hljs-attr">false</span>,
        },
      }}
    /&gt;</span></span>
  ) : (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Skeleton</span> <span class="hljs-attr">active</span> <span class="hljs-attr">paragraph</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">rows:</span> <span class="hljs-attr">4</span> }} /&gt;</span></span>
  );
}
</code></pre>
<ul>
<li>
<p><code>mapTypeId</code> : åœ°å›¾ç±»å‹</p>
<ul>
<li><code>roadmap</code> æ˜¾ç¤ºé»˜è®¤çš„é“è·¯åœ°å›¾è§†å›¾ã€‚è¿™æ˜¯é»˜è®¤åœ°å›¾ç±»å‹</li>
<li><code>terrain</code> æ ¹æ®åœ°å½¢ä¿¡æ¯æ˜¾ç¤ºè‡ªç„¶åœ°å›¾ï¼ˆåœ°å½¢å›¾ï¼‰, ç•¥å»äº†å»ºç­‘ç‰©</li>
<li><code>satellite</code> æ˜¾ç¤º Google åœ°çƒå«æ˜Ÿå›¾åƒ</li>
<li><code>hybrid</code> æ··åˆæ˜¾ç¤ºæ™®é€šè§†å›¾å’Œå«æ˜Ÿè§†å›¾ï¼Œå±•ç¤ºé“è·¯ã€å»ºç­‘ç‰©åç§°</li>
</ul>
</li>
<li>
<p><code>gestureHandling</code> : æ‰‹åŠ¿æ“ä½œ</p>
<ul>
<li>
<p><code>auto</code> : ï¼ˆé»˜è®¤ï¼‰æ‰‹åŠ¿å¤„ç†æ˜¯<code>greedy</code>è¿˜æ˜¯<code>cooperative</code>ï¼Œå–å†³äºç½‘é¡µæ˜¯å¦å¯æ»šåŠ¨æˆ–æ˜¯å¦ä½äº iframe ä¸­ã€‚</p>
</li>
<li>
<p><code>greedy</code> : å…è®¸æ‰€æœ‰æ‰‹åŠ¿ï¼Œæ‰€æœ‰è§¦æ‘¸æ‰‹åŠ¿å’Œæ»šåŠ¨äº‹ä»¶éƒ½ä¼šå¹³ç§»æˆ–ç¼©æ”¾åœ°å›¾ã€‚</p>
</li>
<li>
<p><code>cooperative</code> : å…è®¸éƒ¨åˆ†æ‰‹åŠ¿ã€‚</p>
<ul>
<li>é¡µé¢æœ‰æ»šåŠ¨æ¡æ—¶ï¼Œæ»šåŠ¨äº‹ä»¶å’Œå•æŒ‡è§¦æ‘¸æ‰‹åŠ¿ä¼šæ»šåŠ¨ç½‘é¡µï¼Œéœ€è¦æŒ‰ä½ <code>Ctrl</code> æˆ– <code>Command</code> é”®æ‰å¯ç¼©æ”¾ï¼Œå¹³ç§»åœ°å›¾ã€‚</li>
<li>åŒæŒ‡è§¦æ‘¸æ‰‹åŠ¿å¯å¹³ç§»å’Œç¼©æ”¾åœ°å›¾ï¼ŒåŒæŒ‡æ»‘åŠ¨ä¼šæ»šåŠ¨ç½‘é¡µé¡µé¢ã€‚</li>
</ul>
</li>
<li>
<p><code>none</code> : ç¦ç”¨æ‰€æœ‰æ‰‹åŠ¿ï¼Œç”¨æˆ·æ— æ³•é€šè¿‡æ‰‹åŠ¿å¹³ç§»æˆ–ç¼©æ”¾åœ°å›¾ï¼ŒåŒ…æ‹¬åŒå‡»é¼ æ ‡å·¦å³é”®çš„ç¼©æ”¾äº‹ä»¶ã€‚è‹¥è¦å®Œå…¨åœç”¨å¹³ç§»å’Œç¼©æ”¾åœ°å›¾çš„åŠŸèƒ½ï¼Œå¿…é¡»æ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªé€‰é¡¹ï¼š<code>gestureHandling: none</code> å’Œ <code>zoomContro: false</code>ï¼Œå› ä¸º <code>zoomContro</code> çš„æ§ä»¶ä»»å¯æ§åˆ¶åœ°å›¾ã€‚</p>
</li>
</ul>
</li>
<li>
<p><code>mapInstance</code> : åœ°å›¾å®ä¾‹ã€‚å¯ä»¥åŠ¨æ€ è·å–/è®¾ç½® å½“å‰ <code>GoogleMap</code> ç»„ä»¶çš„å„é¡¹å±æ€§å‚æ•°ï¼Œç§»åŠ¨åˆ°æŒ‡å®šä½ç½®ç­‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-3">Markeræ ‡è®°ç‚¹</h2>
<p>éœ€è¦åœ¨ <code>libraries</code> åŠ è½½ <code>marker</code> åº“ã€‚</p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fmarkers%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/markers?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_">useLoadScript</span>({
  <span class="hljs-attr">googleMapsApiKey</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">libraries</span>: [<span class="hljs-string">"marker"</span>],
  <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
});
</code></pre>
<p>æ·»åŠ æ ‡è®°ç‚¹å‰ï¼Œéœ€ç­‰å¾… <code>GoogleMap</code> å·²ç»åŠ è½½å¥½ï¼Œæ‹¿åˆ° <code>mapInstance</code> å®ä¾‹ã€‚</p>
<h3 data-id="heading-4">é…ç½®é¡¹å‚æ•°</h3>




























































<table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>animation</td><td>google.maps.Animation</td><td>å°†æ ‡è®°æ·»åŠ åˆ°åœ°å›¾æ—¶æ’­æ”¾å“ªä¸ªåŠ¨ç”»</td></tr><tr><td>clickable</td><td>boolean</td><td>ç‚¹å‡»</td></tr><tr><td>draggable</td><td>boolean</td><td>æ‹–åŠ¨</td></tr><tr><td>icon</td><td>stringgoogle.maps.Icongoogle.maps.Symbol</td><td>å›¾æ ‡svg / imageå¯ä»¥ä¼ åœ°å€url</td></tr><tr><td>title</td><td>string</td><td>é¼ æ ‡hoveræ—¶æç¤ºæ–‡å­—</td></tr><tr><td>map</td><td>google.maps.Map</td><td>åœ°å›¾å®ä¾‹</td></tr><tr><td>opacity</td><td>number ï¼ˆ0 - 1ï¼‰</td><td>é€æ˜åº¦</td></tr><tr><td>optimization</td><td>boolean</td><td>ä¼˜åŒ–ã€‚é€šè¿‡å°†å¤šä¸ªæ ‡è®°æ¸²æŸ“ä¸ºå•ä¸ªæ ‡è®°æ¥æé«˜æ€§èƒ½ã€‚</td></tr><tr><td>visible</td><td>boolean</td><td>æ˜¯å¦å¯è§</td></tr><tr><td>zIndex</td><td>number</td><td>å›¾å±‚</td></tr></tbody></table>
<h3 data-id="heading-5">Markerç±»</h3>
<p><code>new google.maps.Marker</code> æ­¤æ–¹æ³•æˆªæ­¢ 2024å¹´2æœˆ21 æ—¥èµ·å¼ƒç”¨ï¼Œåç»­ä¸åšç»´æŠ¤ï¼Œä½†ä»»å¯ä»¥ç»§ç»­æ­£å¸¸ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [markerInstance, setMarkerInstance] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">Marker</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createMarker</span>(<span class="hljs-params">map?: google.maps.<span class="hljs-built_in">Map</span></span>) {
    <span class="hljs-keyword">if</span> (!map || markerInstance) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">const</span> marker = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">Marker</span>({
      <span class="hljs-comment">// ä¼ å…¥mapå®ä¾‹ï¼ˆæ¸²æŸ“åœ¨å“ªä¸ªåœ°å›¾ä¸Šï¼‰å¯ä»¥ä¸ä¼ ï¼Œé€šè¿‡ marker.setMap(map)è®¾ç½®;</span>
      map,
      <span class="hljs-comment">// å®šä½</span>
      <span class="hljs-attr">position</span>: { <span class="hljs-attr">lat</span>: <span class="hljs-number">37.44491</span>, <span class="hljs-attr">lng</span>: -<span class="hljs-number">122.13925</span> },
      <span class="hljs-comment">// æ‹–åŠ¨</span>
      <span class="hljs-attr">draggable</span>: <span class="hljs-literal">false</span>,
    });
    <span class="hljs-title function_">setMarkerInstance</span>(marker);
}
</code></pre>
<p>ä¿®æ”¹ <code>marker</code> çš„ä½ç½®</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// è·å–åœ°å›¾ä¸­å¿ƒç‚¹ç»çº¬åº¦</span>
<span class="hljs-keyword">const</span> center = mapInstance.<span class="hljs-title function_">getCenter</span>();
<span class="hljs-comment">// æ¥æ”¶å‚æ•°ç±»å‹ï¼š google.maps.LatLng</span>
markerInstance.<span class="hljs-title function_">setPosition</span>(center);
</code></pre>
<p>ç§»é™¤ <code>marker</code></p>
<pre><code class="hljs language-ts" lang="ts">markerInstance.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>);
</code></pre>
<p>ç›‘å¬ç‚¹å‡»äº‹ä»¶</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Add a click listener for each marker, and set up the info window.</span>
<span class="hljs-keyword">const</span> listener = markerInstance.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">(<span class="hljs-params">{ domEvent, latLng }</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { target } = domEvent;
});
</code></pre>
<p>ç§»é™¤ç‚¹å‡»äº‹ä»¶</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Remove the listener.</span>
google.<span class="hljs-property">maps</span>.<span class="hljs-property">event</span>.<span class="hljs-title function_">removeListener</span>(listener);
</code></pre>
<h3 data-id="heading-6">AdvancedMarkerElement - é«˜çº§æ ‡è®°</h3>
<p>new google.maps.marker.AdvancedMarkerElement ç›¸å¯¹æ€§èƒ½æ›´å¥½ï¼Œåç»­å¼€å§‹ç»´æŠ¤è¿™ä¸ªæ–°åº“ã€‚</p>
<p>éœ€è¦è®¾ç½®åœ°å›¾ MapId å¼€å¯åŠŸèƒ½ã€‚é«˜çº§æ ‡è®°éœ€è¦åœ°å›¾ IDï¼Œå¦‚æœç¼ºå°‘åœ°å›¾ IDï¼Œåˆ™æ— æ³•åŠ è½½é«˜çº§æ ‡è®°ã€‚</p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fmap-ids%2Fmapid-over%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/map-ids/mapid-over?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_">useLoadScript</span>({
  <span class="hljs-attr">googleMapsApiKey</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">libraries</span>: [<span class="hljs-string">"marker"</span>],
  <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
  <span class="hljs-attr">mapIds</span>: [<span class="hljs-string">"DEMO_MAP_ID"</span>, <span class="hljs-string">"CLOUD_BASED_MAP_ID"</span>],
});


<span class="hljs-comment">// æ¸²æŸ“åœ°å›¾ç»„ä»¶æ—¶ã€‚è¿™é‡Œéœ€è¦é…ç½®mapIdä¸useLoadScripté‡Œé¢çš„å¯¹åº”</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMap</span>  <span class="hljs-attr">options</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">mapId:</span> '<span class="hljs-attr">CLOUD_BASED_MAP_ID</span>' }} /&gt;</span></span>
</code></pre>
<ul>
<li>
<p><code>CLOUD_BASED_MAP_ID</code> : Google æä¾›çš„äº‘åŸºç¡€ Map IDï¼Œå…·æœ‰ä¸€äº›åŸºç¡€åŠŸèƒ½ï¼›</p>
</li>
<li>
<p><code>DEMO_MAP_ID</code> : ä¸ºäº†æ¼”ç¤ºæä¾›çš„ï¼›</p>
</li>
<li>
<p>è‡ªå®šä¹‰ Map ID ï¼š éœ€è¦åœ¨ Google Cloud Console ä¸­åˆ›å»ºï¼›</p>
</li>
</ul>
<h4 data-id="heading-7">PinElement</h4>
<p>æ–‡æ¡£åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Freference%2Fadvanced-markers%3Fhl%3Dzh-cn%23PinElement" target="_blank" title="https://developers.google.com/maps/documentation/javascript/reference/advanced-markers?hl=zh-cn#PinElement" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p><code>PinElement</code> æ˜¯ä¸€ä¸ªé€šè¿‡é…ç½®é¡¹æ¸²æŸ“å‡ºçš„<code>DOM</code> å…ƒç´ ï¼Œé€šå¸¸æ­é…<code>AdvancedMarkerElement</code> ä¸€èµ·ä½¿ç”¨ã€‚å¯ä»¥è‡ªå®šä¹‰å½¢çŠ¶ï¼Œæ ·å¼é…ç½®ï¼Œä¼ å…¥ <code>SVG</code> <code>ICON</code> <code>DOM</code> ç­‰ã€‚</p>
<p>åˆ›å»ºAdvancedMarkerElementæ ‡è®°</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [advancedMarker, setAdvancedMarker] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">marker</span>.<span class="hljs-property">AdvancedMarkerElement</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createAdvancedMarker</span>(<span class="hljs-params">map?: google.maps.<span class="hljs-built_in">Map</span></span>) {
    <span class="hljs-keyword">if</span> (!map) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">const</span> latLng = {
      <span class="hljs-attr">lat</span>: <span class="hljs-number">37.44496</span>,
      <span class="hljs-attr">lng</span>: -<span class="hljs-number">122.1393</span>,
    };
    <span class="hljs-keyword">const</span> pinElement = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">marker</span>.<span class="hljs-title class_">PinElement</span>({
      <span class="hljs-attr">scale</span>: <span class="hljs-number">1.2</span>,
      <span class="hljs-attr">background</span>: <span class="hljs-string">"#FF5722"</span>,
      <span class="hljs-attr">borderColor</span>: <span class="hljs-string">"#FFFFFF"</span>,
      <span class="hljs-attr">glyph</span>: <span class="hljs-string">"ğŸ "</span>,
      <span class="hljs-attr">glyphColor</span>: <span class="hljs-string">"#FFFFFF"</span>,
    });
    <span class="hljs-keyword">const</span> buildingMarker = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">marker</span>.<span class="hljs-title class_">AdvancedMarkerElement</span>({
      map,
      <span class="hljs-attr">position</span>: {
        <span class="hljs-attr">lat</span>: latLng.<span class="hljs-property">lat</span>,
        <span class="hljs-attr">lng</span>: latLng.<span class="hljs-property">lng</span>,
      },
      <span class="hljs-comment">// é¼ æ ‡hoveræ—¶çš„æç¤ºæ–‡å­—</span>
      <span class="hljs-attr">title</span>: <span class="hljs-string">`å»ºç­‘ç‰©ä¸­å¿ƒ lat: <span class="hljs-subst">${latLng.lat}</span>, lng: <span class="hljs-subst">${latLng.lng}</span>`</span>,
      <span class="hljs-comment">// æ¸²æŸ“çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨PinElementï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ document.createElement('div') ä¼ é€’ä¸€ä¸ªdom</span>
      <span class="hljs-attr">content</span>: pinElement.<span class="hljs-property">element</span>,
    });
    <span class="hljs-title function_">setAdvancedMarker</span>(buildingMarker);
}
</code></pre>
<p>ä¿®æ”¹markerä½ç½®</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">if</span> (advancedMarker &amp;&amp; mapInstance) {
  <span class="hljs-comment">// è·å–åœ°å›¾ä¸­å¿ƒç‚¹ç»çº¬åº¦</span>
  <span class="hljs-keyword">const</span> center = mapInstance.<span class="hljs-title function_">getCenter</span>();
  <span class="hljs-comment">// æ¥æ”¶å‚æ•°ç±»å‹ï¼š google.maps.LatLng</span>
  advancedMarker.<span class="hljs-property">position</span> = center;
}
</code></pre>
<p>æ¸…é™¤marker</p>
<pre><code class="hljs language-ts" lang="ts">advancedMarker &amp;&amp; (advancedMarker.<span class="hljs-property">map</span> = <span class="hljs-literal">null</span>);
</code></pre>
<h3 data-id="heading-8">Markerç»„ä»¶</h3>
<p>ç”¨æ³•åŒä¸Š, æ”¹æˆäº†æ ‡ç­¾å½¢å¼æ¸²æŸ“ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GoogleMap</span>, <span class="hljs-title class_">Marker</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@react-google-maps/api"</span>;


<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMap</span>&gt;</span>
  {/* 
    å¯ä»¥åœ¨è¿™é‡Œä½¿æ•°ç»„mapæ¸²æŸ“å¤šä¸ªã€‚
    Markeræ ‡ç­¾ä¸èƒ½ç›´æ¥ä¼ é€’domæ¸²æŸ“ï¼Œå¯ä»¥ä½¿ç”¨new markeråœ¨è¿™é‡Œmap
    */}
    <span class="hljs-tag">&lt;<span class="hljs-name">Marker</span>
        <span class="hljs-attr">position</span>=<span class="hljs-string">{defaultCenter}</span>
        <span class="hljs-attr">title</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">lat:</span> ${<span class="hljs-attr">defaultCenter.lat</span>}, <span class="hljs-attr">lng:</span> ${<span class="hljs-attr">defaultCenter.lng</span>}`}
        <span class="hljs-attr">icon</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">path:</span> <span class="hljs-attr">google.maps.SymbolPath.CIRCLE</span>,
          <span class="hljs-attr">scale:</span> <span class="hljs-attr">10</span>,
          <span class="hljs-attr">fillColor:</span> "#<span class="hljs-attr">FF5722</span>",
          <span class="hljs-attr">fillOpacity:</span> <span class="hljs-attr">1</span>,
          <span class="hljs-attr">strokeColor:</span> "#<span class="hljs-attr">FF5722</span>",
        }}
      /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">GoogleMap</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-9">ä¿¡æ¯çª—å£</h3>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Finfowindows%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/infowindows?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [infoWindow, setInfoWindow] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">InfoWindow</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// åœ°å›¾åŠ è½½å®Œæˆå›è°ƒ</span>
<span class="hljs-keyword">const</span> onLoad = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">map: google.maps.<span class="hljs-built_in">Map</span></span>) =&gt;</span> {
  <span class="hljs-comment">// åˆ›å»º InfoWindow</span>
  <span class="hljs-keyword">const</span> infoWindowInstance = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">InfoWindow</span>();
  <span class="hljs-title function_">setInfoWindow</span>(infoWindowInstance);
}, []);
</code></pre>
<p>çª—å£å†…å®¹ï¼šå¯ä»¥ä¼ é€’æ¨¡ç‰ˆå­—ç¬¦ä¸²ã€DOMèŠ‚ç‚¹</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> content = <span class="hljs-string">`
  &lt;div style="padding: 10px; min-width: 200px;"&gt;
    &lt;h4 style="margin: 0 0 10px 0;"&gt;ä½ç½®ä¿¡æ¯&lt;/h4&gt;
    &lt;p style="margin: 5px 0;"&gt;&lt;strong&gt;çº¬åº¦:&lt;/strong&gt; <span class="hljs-subst">${lat.toFixed(<span class="hljs-number">6</span>)}</span>&lt;/p&gt;
    &lt;p style="margin: 5px 0;"&gt;&lt;strong&gt;ç»åº¦:&lt;/strong&gt; <span class="hljs-subst">${lng.toFixed(<span class="hljs-number">6</span>)}</span>&lt;/p&gt;
    &lt;button 
      id="switch-building-btn"
      style="
        background: #1890ff; 
        color: white; 
        border: none; 
        padding: 8px 16px; 
        border-radius: 4px; 
        cursor: pointer;
        margin-top: 10px;
        width: 100%;
      "
    &gt;
      æ›´æ¢å»ºç­‘ç‰©
    &lt;/button&gt;
  &lt;/div&gt;
`</span>;
<span class="hljs-comment">// è®¾ç½®å†…å®¹</span>
infoWindow.<span class="hljs-title function_">setContent</span>(content);
</code></pre>
<p>å®šä½</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ¥æ”¶å‚æ•°ç±»å‹ä¸º google.maps.LatLng</span>
<span class="hljs-comment">// å¯ä»¥é€šè¿‡new google.maps.LatLng(location.lat, location.lng)è½¬æ¢</span>
infoWindow.<span class="hljs-title function_">setPosition</span>({
    <span class="hljs-attr">lat</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span>,
    <span class="hljs-attr">lng</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">number</span>
});
</code></pre>
<p>æ¡†å£æ˜¾ç¤ºã€å…³é—­</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ˜¾ç¤º</span>
infoWindow.<span class="hljs-title function_">open</span>(mapInstance);
<span class="hljs-comment">// å…³é—­çª—å£</span>
infoWindow.<span class="hljs-title function_">close</span>();
</code></pre>
<p>ç‚¹å‡»åœ°å›¾ï¼Œè·å–ç‚¹å‡»ä½ç½®çš„ç»çº¬åº¦ï¼Œè§¦å‘è‡ªå®šä¹‰æŒ‰é’®äº‹ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">switchBuilding</span> = (<span class="hljs-params">lat: <span class="hljs-built_in">number</span>, lng: <span class="hljs-built_in">number</span></span>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(lat, lng);
};
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMapClick</span> = (<span class="hljs-params">event: google.maps.MapMouseEvent</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!event.<span class="hljs-property">latLng</span> || !infoWindow) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">const</span> lat = event.<span class="hljs-property">latLng</span>.<span class="hljs-title function_">lat</span>();
    <span class="hljs-keyword">const</span> lng = event.<span class="hljs-property">latLng</span>.<span class="hljs-title function_">lng</span>();
    
    <span class="hljs-comment">// åˆ›å»º InfoWindow å†…å®¹</span>
    <span class="hljs-keyword">const</span> content = <span class="hljs-string">`
        &lt;div style="padding: 10px; min-width: 200px;"&gt;
          &lt;h4 style="margin: 0 0 10px 0;"&gt;ä½ç½®ä¿¡æ¯&lt;/h4&gt;
          &lt;p style="margin: 5px 0;"&gt;&lt;strong&gt;çº¬åº¦:&lt;/strong&gt; <span class="hljs-subst">${lat.toFixed(<span class="hljs-number">6</span>)}</span>&lt;/p&gt;
          &lt;p style="margin: 5px 0;"&gt;&lt;strong&gt;ç»åº¦:&lt;/strong&gt; <span class="hljs-subst">${lng.toFixed(<span class="hljs-number">6</span>)}</span>&lt;/p&gt;
          &lt;button 
            id="switch-building-btn"
            style="
              background: #1890ff; 
              color: white; 
              border: none; 
              padding: 8px 16px; 
              border-radius: 4px; 
              cursor: pointer;
              margin-top: 10px;
              width: 100%;
            "
          &gt;
            æ›´æ¢å»ºç­‘ç‰©
          &lt;/button&gt;
        &lt;/div&gt;
      `</span>;
    
    infoWindow.<span class="hljs-title function_">setContent</span>(content);
    infoWindow.<span class="hljs-title function_">setPosition</span>(event.<span class="hljs-property">latLng</span>);
    infoWindow.<span class="hljs-title function_">open</span>(mapInstance);
    
    <span class="hljs-comment">// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</span>
    google.<span class="hljs-property">maps</span>.<span class="hljs-property">event</span>.<span class="hljs-title function_">addListenerOnce</span>(infoWindow, <span class="hljs-string">'domready'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'switch-building-btn'</span>);
      <span class="hljs-keyword">if</span> (button) {
        button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">switchBuilding</span>(lat, lng);
        });
      }
    });
};
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMap</span>
    <span class="hljs-attr">...props</span>
    <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleMapClick}</span>
/&gt;</span></span>
</code></pre>
<p>æ¨¡ç‰ˆå­—ç¬¦ä¸²å†…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-string">`onclick="<span class="hljs-subst">${switchBuilding(lat, lng)}</span>"`</span>
</code></pre>
<p>ä½†æ˜¯è¿™æ ·ä¼šéœ€è¦ <code>switchBuilding</code> æŒ‚åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œè€Œä¸”ä¼šç«‹å³æ‰§è¡Œä¸€æ¬¡ã€‚</p>
<h3 data-id="heading-10">åœ°å€æœç´¢</h3>
<p>æä¾›åœ°å€è¡¥å…¨ã€é™„è¿‘æœç´¢ã€æŒ‡å®šç±»å‹å»ºç­‘ç‰©æœç´¢ã€åœ°ç‚¹è¯¦æƒ…ç­‰åŠŸèƒ½ï¼›</p>
<p>æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fplace%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/place?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p>éœ€è¦åœ¨ <code>libraries</code> åŠ è½½ <code>places</code> åº“</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_">useLoadScript</span>({
  <span class="hljs-attr">googleMapsApiKey</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">libraries</span>: [<span class="hljs-string">"places"</span>],
  <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
});
</code></pre>
<p>åœ°å€æ•°æ®å­—æ®µæ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fplace-class-data-fields%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/place-class-data-fields?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p>åœ°ç‚¹ç±»å‹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fplace-types%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/place-types?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p><code>PlaceId</code> æ–‡æ¡£åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fplace-id%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/place-id?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<h4 data-id="heading-11">åˆå§‹åŒ– <code>Place</code> ç±»å®ä¾‹ï¼›</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// ä»£ç è¡¥å…¨</span>
<span class="hljs-keyword">const</span> searchServiceRef = useRef&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-property">AutocompleteService</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// geocoderåœ°å€è½¬æ¢</span>
<span class="hljs-keyword">const</span> geocoderServiceRef = useRef&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-property">PlacesService</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">onLoad</span> = (<span class="hljs-params">map: google.maps.<span class="hljs-built_in">Map</span></span>) =&gt; {
    <span class="hljs-keyword">if</span> (google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>) {
      searchServiceRef.<span class="hljs-property">current</span> = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-title class_">AutocompleteService</span>();
      geocoderServiceRef.<span class="hljs-property">current</span> = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">Geocoder</span>();
    }
}


&lt;<span class="hljs-title class_">GoogleMap</span> onLoad={onLoad}&gt;&lt;/<span class="hljs-title class_">GoogleMap</span>&gt;
</code></pre>
<h4 data-id="heading-12">åœ°å€è‡ªåŠ¨è¡¥å…¨ï¼ˆæ ¹æ®è¾“å…¥æ–‡å­—ï¼Œæä¾›åœ°ç‚¹é¢„æµ‹ç»“æœï¼‰</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [searchValue, setSearchValue] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
<span class="hljs-keyword">const</span> [searchOptions, setSearchOptions] = useState&lt;{ <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">label</span>: <span class="hljs-built_in">string</span> }[]&gt;([]);
<span class="hljs-keyword">const</span> [isSearching, setIsSearching] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSearch</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">value: <span class="hljs-built_in">string</span></span>) =&gt; {
    <span class="hljs-title function_">setSearchValue</span>(value);
    <span class="hljs-keyword">if</span> (!value.<span class="hljs-title function_">trim</span>() || !searchServiceRef.<span class="hljs-property">current</span>) {
      <span class="hljs-title function_">setSearchOptions</span>([]);
      <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-title function_">setIsSearching</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">try</span> {
      searchServiceRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">getPlacePredictions</span>({
        <span class="hljs-attr">input</span>: value,
        <span class="hljs-comment">// æŒ‡å®šæœç´¢åœ°ç‚¹ç±»å‹ï¼Œå»ºç­‘ç‰©ç±»å‹</span>
        <span class="hljs-attr">types</span>: [<span class="hljs-string">'geocode'</span>, <span class="hljs-string">'establishment'</span>],
        <span class="hljs-attr">language</span>: <span class="hljs-string">'zh-CN'</span>,
      }, <span class="hljs-function">(<span class="hljs-params">predictions, status</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (status === google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-property">PlacesServiceStatus</span>.<span class="hljs-property">OK</span> &amp;&amp; predictions) {
          <span class="hljs-keyword">const</span> options = predictions.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">prediction</span> =&gt;</span> ({
            <span class="hljs-attr">value</span>: prediction.<span class="hljs-property">place_id</span>, <span class="hljs-comment">// åœ°ç‚¹id</span>
            <span class="hljs-attr">label</span>: prediction.<span class="hljs-property">description</span>, <span class="hljs-comment">// è¯¦ç»†åœ°å€æè¿°</span>
          }));
          <span class="hljs-title function_">setSearchOptions</span>(options);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">setSearchOptions</span>([]);
        }
      });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æœç´¢åœ°å€æ—¶å‡ºé”™:'</span>, error);
      <span class="hljs-title function_">setSearchOptions</span>([]);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setIsSearching</span>(<span class="hljs-literal">false</span>);
    }
};
</code></pre>
<h4 data-id="heading-13">åœ°å€è‡ªåŠ¨è¡¥å…¨ï¼ˆæ–°æ¥å£ï¼‰</h4>
<p>æ–‡æ¡£åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fplace-autocomplete-data%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/place-autocomplete-data?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> token = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-title class_">AutocompleteSessionToken</span>();
<span class="hljs-keyword">const</span> { suggestions } =
<span class="hljs-keyword">await</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-property">AutocompleteSuggestion</span>.<span class="hljs-title function_">fetchAutocompleteSuggestions</span>(
  {
    <span class="hljs-attr">sessionToken</span>: token,
    <span class="hljs-attr">input</span>: value,
    <span class="hljs-attr">language</span>: <span class="hljs-string">"en-US"</span>,
  }
);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(suggestions);

<span class="hljs-keyword">const</span> options = suggestions.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">prediction</span>) =&gt;</span> ({
    <span class="hljs-attr">value</span>: prediction.<span class="hljs-property">placePrediction</span>?.<span class="hljs-property">placeId</span> || <span class="hljs-string">""</span>,
    <span class="hljs-attr">label</span>: prediction.<span class="hljs-property">placePrediction</span>?.<span class="hljs-property">text</span>.<span class="hljs-title function_">toString</span>() || <span class="hljs-string">""</span>,
}));
<span class="hljs-title function_">setSearchOptions</span>(options);
</code></pre>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªä¼šè¯çš„æ¦‚å¿µï¼Œä¼šè¯ä»¤ç‰Œå°†ç”¨æˆ·è‡ªåŠ¨è¡¥å…¨æœç´¢çš„æŸ¥è¯¢å’Œé€‰æ‹©é˜¶æ®µå½’å…¥ä¸åŒçš„ä¼šè¯ï¼Œä»¥ä¾¿è¿›è¡Œç»“ç®—è´¹ç”¨ã€‚</p>
<p>é€šè¿‡è°ƒç”¨ fetchFields ç»“æŸä¼šè¯</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">let</span> place = suggestions[<span class="hljs-number">0</span>].<span class="hljs-property">placePrediction</span>.<span class="hljs-title function_">toPlace</span>(); <span class="hljs-comment">// Get first predicted place.</span>
<span class="hljs-keyword">await</span> place.<span class="hljs-title function_">fetchFields</span>({  <span class="hljs-attr">fields</span>: [<span class="hljs-string">"displayName"</span>, <span class="hljs-string">"formattedAddress"</span>],});
</code></pre>
<h4 data-id="heading-14"><code>placeId</code> è·å–åœ°å€ä¿¡æ¯</h4>
<p>é€šè¿‡<code>Place</code>ç±», æ ¹æ®<code>placeId</code>è·å–åœ°å€çš„éƒ¨åˆ†ç®€å•ä¿¡æ¯</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> place = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">places</span>.<span class="hljs-title class_">Place</span>({
  <span class="hljs-attr">id</span>: placeId,
  <span class="hljs-attr">requestedLanguage</span>: <span class="hljs-string">'en'</span>
});
<span class="hljs-keyword">await</span> place.<span class="hljs-title function_">fetchFields</span>({ <span class="hljs-attr">fields</span>: [<span class="hljs-string">'displayName'</span>, <span class="hljs-string">'formattedAddress'</span>, <span class="hljs-string">'location'</span>] });
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(place.<span class="hljs-property">displayName</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(place.<span class="hljs-property">formattedAddress</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(place.<span class="hljs-property">location</span>?.<span class="hljs-title function_">lat</span>(), place.<span class="hljs-property">location</span>?.<span class="hljs-title function_">lng</span>());
</code></pre>
<h4 data-id="heading-15"><code>geocode</code></h4>
<p>é€šè¿‡ <code>geocoderServiceRef.current?.geocode</code> æ–¹æ³•ï¼Œå¯ä»¥æ ¹æ® <code>placeId</code> æˆ– <code>address: åœ°å€</code> æˆ– <code>location: ç»çº¬åº¦</code>è·å–æ‰€åœ¨ä½ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™ä¸‰ä¸ªå­—æ®µåªèƒ½åŒæ—¶å–ä¸€ä¸ªã€‚</p>
<p>é€šè¿‡ä¸Šé¢çš„åœ°å€è¡¥å…¨ï¼Œæ‹¿åˆ°åœ°å€åˆ—è¡¨åï¼Œå¯ä»¥æ‹¿åˆ° <code>placeId</code>ï¼Œéšåå¯ä»¥æ‹¿åˆ°ç»çº¬åº¦ï¼Œå®šä½åˆ°æŒ‡å®šåŒºåŸŸ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSelectAddress</span> = (<span class="hljs-params">placeId: <span class="hljs-built_in">string</span></span>) =&gt; {
    geocoderServiceRef.<span class="hljs-property">current</span>?.<span class="hljs-title function_">geocode</span>({
      placeId,
      <span class="hljs-attr">language</span>: <span class="hljs-string">'en'</span>,
    }, <span class="hljs-function">(<span class="hljs-params">results, status</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (status === google.<span class="hljs-property">maps</span>.<span class="hljs-property">GeocoderStatus</span>.<span class="hljs-property">OK</span> &amp;&amp; results?.[<span class="hljs-number">0</span>]) {
        <span class="hljs-keyword">if</span> (mapInstance) {
          <span class="hljs-keyword">const</span> { lat, lng } = results[<span class="hljs-number">0</span>].<span class="hljs-property">geometry</span>.<span class="hljs-property">location</span>;
          <span class="hljs-comment">// ç§»åŠ¨åœ°å›¾åˆ°æ–°ä½ç½®</span>
          mapInstance.<span class="hljs-title function_">panTo</span>({
            <span class="hljs-attr">lat</span>: <span class="hljs-title function_">lat</span>(),
            <span class="hljs-attr">lng</span>: <span class="hljs-title function_">lng</span>(),
          });
          mapInstance.<span class="hljs-title function_">setZoom</span>(<span class="hljs-number">20</span>); <span class="hljs-comment">// è®¾ç½®åˆé€‚çš„ç¼©æ”¾çº§åˆ«</span>
        }
      }
    });
}
</code></pre>
<p>HTMLéƒ¨åˆ†</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AutoComplete</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AutoComplete</span>
    <span class="hljs-attr">value</span>=<span class="hljs-string">{searchValue}</span>
    <span class="hljs-attr">options</span>=<span class="hljs-string">{searchOptions}</span>
    <span class="hljs-attr">onSearch</span>=<span class="hljs-string">{handleSearch}</span>
    <span class="hljs-attr">onSelect</span>=<span class="hljs-string">{(value)</span> =&gt;</span> handleSelectAddress(value)}
    style={{ width: "100%" }}
    notFoundContent={isSearching ? <span class="hljs-tag">&lt;<span class="hljs-name">Spin</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"small"</span> /&gt;</span> : null}
    allowClear
&gt;
<span class="hljs-tag">&lt;<span class="hljs-name">Input.Search</span>
  <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span>
  <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"æœç´¢åœ°å€..."</span>
  <span class="hljs-attr">loading</span>=<span class="hljs-string">{isSearching}</span>
  <span class="hljs-attr">onSearch</span>=<span class="hljs-string">{handleSearch}</span>
  <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
    <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">8</span>,
    <span class="hljs-attr">boxShadow:</span> "<span class="hljs-attr">0</span> <span class="hljs-attr">2px</span> <span class="hljs-attr">8px</span> <span class="hljs-attr">rgba</span>(<span class="hljs-attr">0</span>,<span class="hljs-attr">0</span>,<span class="hljs-attr">0</span>,<span class="hljs-attr">0.15</span>)",
  }}
/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">AutoComplete</span>&gt;</span></span>
</code></pre>
<p>å®šä½åˆ°æŒ‡å®šåŒºåŸŸåï¼Œä¼šè§¦å‘ <code>GoogleMap</code> çš„ åœ°å›¾ä¸­å¿ƒç‚¹æ”¹å˜æ—¶é—´ï¼Œéšåå†é€šè¿‡ç»çº¬åº¦ï¼Œæ›´åŠ å‡†ç¡®çš„è·å–åˆ°å…·ä½“çš„åœ°å€ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleCenterChanged</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (!geocoderServiceRef.<span class="hljs-property">current</span> || !mapInstance) <span class="hljs-keyword">return</span>;
    setLoading &amp;&amp; <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> center = mapInstance.<span class="hljs-title function_">getCenter</span>(); 

      geocoderServiceRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">geocode</span>(
        {
          <span class="hljs-attr">location</span>: center,
          <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>
        },
        <span class="hljs-function">(<span class="hljs-params">results, status</span>) =&gt;</span> {
          <span class="hljs-keyword">if</span> (status === google.<span class="hljs-property">maps</span>.<span class="hljs-property">GeocoderStatus</span>.<span class="hljs-property">OK</span> &amp;&amp; results?.[<span class="hljs-number">0</span>]) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(results[<span class="hljs-number">0</span>]);

            <span class="hljs-keyword">const</span> {
              address_components,
              formatted_address,
              place_id,
              geometry,
            } = results[<span class="hljs-number">0</span>] || {};
            <span class="hljs-keyword">const</span> locationInfo = {
              ...location,
              <span class="hljs-comment">// åœ°å€</span>
              <span class="hljs-attr">address</span>: formatted_address || <span class="hljs-string">""</span>,
              <span class="hljs-comment">// åœ°å€id</span>
              <span class="hljs-attr">placeId</span>: place_id || <span class="hljs-string">""</span>,
              <span class="hljs-comment">// ç»çº¬åº¦</span>
              <span class="hljs-attr">lat</span>: geometry?.<span class="hljs-property">location</span>?.<span class="hljs-title function_">lat</span>(),
              <span class="hljs-attr">lng</span>: geometry?.<span class="hljs-property">location</span>?.<span class="hljs-title function_">lng</span>(),
              <span class="hljs-comment">// é‚®æ”¿ç¼–ç </span>
              <span class="hljs-attr">postalCode</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"postal_code"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// å›½å®¶</span>
              <span class="hljs-attr">country</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"country"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// å›½å®¶ç®€ç§°</span>
              <span class="hljs-attr">countryShortName</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"country"</span>)
              )?.<span class="hljs-property">short_name</span>,
              <span class="hljs-comment">// å¿</span>
              <span class="hljs-attr">county</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"administrative_area_level_2"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// å·</span>
              <span class="hljs-attr">state</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"administrative_area_level_1"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// å·ç®€ç§°</span>
              <span class="hljs-attr">stateShortName</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"administrative_area_level_1"</span>)
              )?.<span class="hljs-property">short_name</span>,
              <span class="hljs-comment">// åœ°åŒº</span>
              <span class="hljs-attr">area</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"administrative_area_level_3"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// åŸå¸‚</span>
              <span class="hljs-attr">city</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"locality"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// è¡—é“å·</span>
              <span class="hljs-attr">streetNumber</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"street_number"</span>)
              )?.<span class="hljs-property">long_name</span>,
              <span class="hljs-comment">// è¡—é“å</span>
              <span class="hljs-attr">streetName</span>: address_components?.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">component</span>) =&gt;</span>
                component.<span class="hljs-property">types</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"route"</span>)
              )?.<span class="hljs-property">long_name</span>,
            };
            <span class="hljs-comment">// æ›´æ–°inputæœç´¢å€¼</span>
            <span class="hljs-title function_">setSearchValue</span>(formatted_address || <span class="hljs-string">""</span>);
          }
        }
      );
    } <span class="hljs-keyword">finally</span> {
      setLoading &amp;&amp; <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  };
    
  
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMap</span> <span class="hljs-attr">onCenterChanged</span>=<span class="hljs-string">{handleCenterChanged}</span> /&gt;</span></span>
</code></pre>
<p>åŸºäº Google Solar Api è·å–å»ºç­‘ç‰©å±‹é¡¶é¢ç§¯ã€å¹´æ—¥ç…§æ—¶é•¿ã€åŸºäºSolar Apiä¼°ç®—æ¨èçš„å…‰ä¼æ¿è§„æ ¼èƒ½å¤Ÿå®‰è£…çš„æœ€å¤§å¤ªé˜³èƒ½å…‰ä¼æ¿æ•°é‡ã€å¹´å‘ç”µé‡ã€å®‰è£…æˆæœ¬ã€èƒ½æºè¦†ç›–ç‡ç­‰ï¼›é€šè¿‡ Layer å›¾å±‚æ¸²æŸ“å»ºç­‘ç‰©å‘¨è¾¹å„æ—¶æ®µå…‰ç…§å›¾ï¼›æ ¹æ®å®‰è£…ç­‰å…‰ä¼æ¿æ•°é‡æ¨èæœ€åˆé€‚çš„å®‰è£…ä½ç½®ã€‚</p>
<p>demoåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsolar-potential-kypkjw5jmq-uc.a.run.app%2F" target="_blank" title="https://solar-potential-kypkjw5jmq-uc.a.run.app/" ref="nofollow noopener noreferrer">solar-potential-kypkjw5jmq-uc.a.run.app/</a></p>
<p><code>Solar Api</code> æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fsolar%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/solar?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p>æ¥å£éœ€è¦åœ¨åå°å¼€é€š<code>apiKey</code>çš„<code>Solar</code>æƒé™</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b0f86264a1341849fd2037708486b6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5bCP5Lmm55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955127&amp;x-signature=vrpgbHeGHu28oZA2KxV1NU8m3sQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-16">å»ºç­‘ç‰©å¤ªé˜³èƒ½å‘ç”µæ½œåŠ›</h2>
<p><code>buildingInsights</code>å¯æä¾›æœ‰å…³å»ºç­‘ç‰©ä½ç½®ã€å°ºå¯¸å’Œå¤ªé˜³èƒ½å‘ç”µæ½œåŠ›çš„æ•°æ®åˆ†æã€‚å…·ä½“è€Œè¨€ï¼Œæ‚¨å¯ä»¥è·å–ä»¥ä¸‹æ–¹é¢çš„ä¿¡æ¯ï¼š</p>
<ul>
<li>å¤ªé˜³èƒ½å‘ç”µæ½œåŠ›ï¼ŒåŒ…æ‹¬å¤ªé˜³èƒ½ç”µæ± æ¿çš„å¤§å°ã€å¹´æ—¥ç…§é‡ã€ç¢³æŠµæ¶ˆç³»æ•°ç­‰</li>
<li>å¤ªé˜³èƒ½æ¿çš„ä½ç½®ã€æœå‘å’Œå‘ç”µé‡</li>
<li>æœ€ä½³å¤ªé˜³èƒ½å¸ƒå±€çš„ä¼°ç®—æœˆåº¦ç”µè´¹ä»¥åŠç›¸å…³è´¹ç”¨å’Œç›Šå¤„</li>
</ul>
<h3 data-id="heading-17">Api</h3>
<p>æŸ¥æ‰¾ä¸æŸ¥è¯¢ç‚¹çš„ä¸­å¿ƒç‚¹è·ç¦»æœ€è¿‘çš„å»ºç­‘ç‰©ã€‚å¦‚æœæŸ¥è¯¢ç‚¹å‘¨å›´çº¦ 50 ç±³å†…æ²¡æœ‰å»ºç­‘ç‰©ï¼Œåˆ™è¿”å›ä»£ç ä¸º <code>NOT_FOUND</code> çš„é”™è¯¯ã€‚</p>

















<table><thead><tr><th>å‚æ•°</th><th/></tr></thead><tbody><tr><td>location</td><td>å¿…éœ€ã€‚API ç”¨äºæŸ¥æ‰¾æœ€è¿‘å·²çŸ¥å»ºç­‘ç‰©çš„ç»çº¬åº¦ã€‚</td></tr><tr><td>requiredQuality</td><td>å¯é€‰ã€‚ç»“æœä¸­å…è®¸çš„æœ€ä½è´¨é‡çº§åˆ«ã€‚ç³»ç»Ÿä¸ä¼šè¿”å›è´¨é‡ä½äºæ­¤å€¼çš„ç»“æœã€‚å¦‚æœæœªæŒ‡å®šæ­¤å‚æ•°ï¼Œåˆ™ç›¸å½“äºä»…é™äºâ€œé«˜â€è´¨é‡ã€‚</td></tr></tbody></table>
<p><code>Solar Api</code>è¦†ç›–èŒƒå›´ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fsolar%2Fcoverage%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/solar/coverage?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>

























<table><thead><tr><th>requiredQuality - æšä¸¾</th><th/></tr></thead><tbody><tr><td>IMAGERY_QUALITY_UNSPECIFIED</td><td>è´¨é‡æœªçŸ¥ã€‚</td></tr><tr><td>HIGH</td><td>å¤ªé˜³èƒ½æ•°æ®æ¥è‡ªäºåœ¨ä½ç©ºæ‹æ‘„çš„èˆªæ‹å›¾åƒï¼Œå¹¶ä»¥ 0.1 ç±³/åƒç´ çš„å¤„ç†åˆ†è¾¨ç‡å¤„ç†ã€‚</td></tr><tr><td>MEDIUM</td><td>å¤ªé˜³èƒ½æ•°æ®æ¥è‡ªé«˜æµ·æ‹”æ‹æ‘„çš„å¢å¼ºå‹èˆªæ‹å›¾åƒï¼Œå¤„ç†åˆ†è¾¨ç‡ä¸º 0.25 ç±³/åƒç´ ã€‚</td></tr><tr><td>BASE</td><td>å¤ªé˜³èƒ½æ•°æ®æ´¾ç”Ÿè‡ªä»¥ 0.25 ç±³/åƒç´ çš„åƒç´ é—´éš”å¤„ç†çš„å¢å¼ºå‹å«æ˜Ÿå›¾åƒã€‚æ³¨æ„ï¼šåªæœ‰åœ¨è¯·æ±‚ä¸­è®¾ç½®äº† experiments=EXPANDED_COVERAGE æ—¶ï¼Œæ­¤æšä¸¾æ‰å¯ç”¨ã€‚</td></tr></tbody></table>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">findClosestBuilding</span>(<span class="hljs-params">
  location: {lat: <span class="hljs-built_in">number</span>, lng: <span class="hljs-built_in">number</span>},
  apiKey: <span class="hljs-built_in">string</span>,
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">BuildingInsightsResponse</span>&gt; {
  <span class="hljs-keyword">const</span> args = {
    <span class="hljs-string">'location.latitude'</span>: location.<span class="hljs-property">lat</span>,
    <span class="hljs-string">'location.longitude'</span>: location.<span class="hljs-property">lng</span>,
  };
  <span class="hljs-keyword">const</span> params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>({ ...args, <span class="hljs-attr">key</span>: apiKey, <span class="hljs-attr">requiredQuality</span>: <span class="hljs-string">'MEDIUM'</span> });
  <span class="hljs-comment">// https://developers.google.com/maps/documentation/solar/reference/rest/v1/buildingInsights/findClosest</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`https://solar.googleapis.com/v1/buildingInsights:findClosest?<span class="hljs-subst">${params}</span>`</span>).<span class="hljs-title function_">then</span>(
    <span class="hljs-keyword">async</span> (response) =&gt; {
      <span class="hljs-keyword">const</span> content = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
      <span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> != <span class="hljs-number">200</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'findClosestBuilding\n'</span>, content);
        <span class="hljs-keyword">throw</span> content;
      }
      <span class="hljs-comment">// console.log('buildingInsightsResponse', content);</span>
      <span class="hljs-keyword">return</span> content;
    },
  );
}
</code></pre>
<h3 data-id="heading-18">ApiResponseå“åº”æ•°æ®</h3>
<ul>
<li>è¯¦ç»†æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fsolar%2Freference%2Frest%2Fv1%2FbuildingInsights%2FfindClosest%3Fhl%3Dzh-cn%23response-body" target="_blank" title="https://developers.google.com/maps/documentation/solar/reference/rest/v1/buildingInsights/findClosest?hl=zh-cn#response-body" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> buildObj = {
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"buildings/ChIJh0CMPQW7j4ARLrRiVvmg6Vs"</span>, <span class="hljs-comment">// ç›¸åº”å»ºç­‘ç‰©çš„èµ„æºåç§°ï¼Œæ ¼å¼ä¸º buildings/{place_id}ã€‚</span>
    <span class="hljs-comment">// ä½äºå»ºç­‘ç‰©ä¸­å¿ƒé™„è¿‘çš„ä¸€ä¸ªç‚¹ã€‚</span>
    <span class="hljs-string">"center"</span>: {
        <span class="hljs-string">"latitude"</span>: <span class="hljs-number">37.4449439</span>,
        <span class="hljs-string">"longitude"</span>: -<span class="hljs-number">122.13914659999998</span>
    },
    <span class="hljs-comment">// å»ºç­‘ç‰©å½±åƒçš„æ‹æ‘„æ—¥æœŸã€‚åº•å±‚å›¾åƒçš„è·å–æ—¥æœŸã€‚è¿™æ˜¯ä¸€ä¸ªè¿‘ä¼¼å€¼ã€‚</span>
    <span class="hljs-string">"imageryDate"</span>: {
        <span class="hljs-string">"year"</span>: <span class="hljs-number">2022</span>,
        <span class="hljs-string">"month"</span>: <span class="hljs-number">8</span>,
        <span class="hljs-string">"day"</span>: <span class="hljs-number">14</span>
    },
    <span class="hljs-string">"postalCode"</span>: <span class="hljs-string">"94303"</span>, <span class="hljs-comment">// é‚®æ”¿ç¼–ç ï¼ˆä¾‹å¦‚ç¾å›½é‚®æ”¿ç¼–ç ï¼‰æ‰€æ¶µç›–çš„åŒºåŸŸã€‚</span>
    <span class="hljs-string">"administrativeArea"</span>: <span class="hljs-string">"CA"</span>, <span class="hljs-comment">// åŒ…å«æ­¤å»ºç­‘ç‰©çš„è¡Œæ”¿åŒº 1ï¼ˆä¾‹å¦‚ï¼Œåœ¨ç¾å›½ï¼Œæ˜¯æŒ‡å·ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨ç¾å›½ï¼Œç¼©å†™å¯èƒ½ä¸ºâ€œMAâ€æˆ–â€œCAâ€ã€‚</span>
    <span class="hljs-string">"statisticalArea"</span>: <span class="hljs-string">"06085511100"</span>, <span class="hljs-comment">// ç»Ÿè®¡åŒºåŸŸï¼ˆä¾‹å¦‚ç¾å›½äººå£æ™®æŸ¥åŒºï¼‰ã€‚</span>
    <span class="hljs-string">"regionCode"</span>: <span class="hljs-string">"US"</span>, <span class="hljs-comment">// ç›¸åº”å»ºç­‘ç‰©æ‰€åœ¨å›½å®¶/åœ°åŒºçš„åŒºåŸŸä»£ç ã€‚</span>
    <span class="hljs-comment">// å»ºç­‘ç‰©çš„å¤ªé˜³èƒ½å‘ç”µæ½œåŠ›ã€‚</span>
    <span class="hljs-string">"solarPotential"</span>: {
        <span class="hljs-string">"maxArrayPanelsCount"</span>: <span class="hljs-number">1163</span>, <span class="hljs-comment">// å±‹é¡¶ä¸Šå¯å®¹çº³çš„æœ€å¤§é¢æ¿æ•°é‡ã€‚</span>
        <span class="hljs-string">"maxArrayAreaMeters2"</span>: <span class="hljs-number">1903.5983</span>, <span class="hljs-comment">// å±‹é¡¶ä¸Šå¯å®¹çº³çš„æœ€å¤§é¢æ¿é¢ç§¯ï¼ˆä»¥å¹³æ–¹ç±³ä¸ºå•ä½ï¼‰ã€‚</span>
        <span class="hljs-string">"maxSunshineHoursPerYear"</span>: <span class="hljs-number">1802</span>, <span class="hljs-comment">// å±‹é¡¶ä¸Šä»»æ„ä¸€ç‚¹æ¯å¹´æ¥æ”¶çš„æ—¥ç…§å°æ—¶æ•°ä¸Šé™ï¼ˆ1 å¤ªé˜³å°æ—¶ = æ¯åƒç“¦ 1 åƒç“¦æ—¶ï¼‰</span>
        <span class="hljs-string">"carbonOffsetFactorKgPerMwh"</span>: <span class="hljs-number">428.9201</span>, <span class="hljs-comment">// æ¯å…†ç“¦æ—¶ç”µåŠ›äº§ç”Ÿçš„äºŒæ°§åŒ–ç¢³æ’æ”¾é‡ï¼ˆç¢³æ’æ”¾å¼ºåº¦ï¼Œä»¥åƒå…‹ä¸ºå•ä½ï¼‰ã€‚</span>
        <span class="hljs-string">"wholeRoofStats"</span>: { <span class="hljs-comment">// åˆ†é…ç»™æŸä¸ªå±‹é¡¶ç»†åˆ†çš„å±‹é¡¶éƒ¨åˆ†çš„æ€»å¤§å°å’Œæ—¥ç…§ç™¾åˆ†ä½æ•°ã€‚å°½ç®¡åç§°å¦‚æ­¤ï¼Œä½†è¿™å¯èƒ½å¹¶ä¸åŒ…æ‹¬æ•´ä¸ªå»ºç­‘ç‰©</span>
            <span class="hljs-string">"areaMeters2"</span>: <span class="hljs-number">2399.3958</span>, <span class="hljs-comment">// å±‹é¡¶çš„æ€»é¢ç§¯ï¼ˆä»¥å¹³æ–¹ç±³ä¸ºå•ä½ï¼‰ï¼Œè¿™æ˜¯å±‹é¡¶é¢ç§¯ï¼ˆè€ƒè™‘äº†å€¾æ–œåº¦ï¼‰ï¼Œè€Œä¸æ˜¯åœ°é¢å åœ°é¢ç§¯ã€‚ã€‚</span>
            <span class="hljs-comment">// å±‹é¡¶ä¸Šä»»æ„ä¸€ç‚¹æ¯å¹´æ¥æ”¶çš„æ—¥ç…§å°æ—¶æ•°ç™¾åˆ†ä½æ•°ã€‚</span>
            <span class="hljs-string">"sunshineQuantiles"</span>: [
                <span class="hljs-number">351</span>,
                <span class="hljs-number">1396</span>,
                <span class="hljs-number">1474</span>,
                <span class="hljs-number">1527</span>,
                <span class="hljs-number">1555</span>,
                <span class="hljs-number">1596</span>,
                <span class="hljs-number">1621</span>,
                <span class="hljs-number">1640</span>,
                <span class="hljs-number">1664</span>,
                <span class="hljs-number">1759</span>,
                <span class="hljs-number">1864</span>
            ],
            <span class="hljs-string">"groundAreaMeters2"</span>: <span class="hljs-number">2279.71</span> <span class="hljs-comment">// å±‹é¡¶æˆ–å±‹é¡¶ç‰‡æ®µè¦†ç›–çš„åœ°é¢å åœ°é¢ç§¯ï¼ˆä»¥å¹³æ–¹ç±³ä¸ºå•ä½ï¼‰ã€‚</span>
        },
        <span class="hljs-string">"roofSegmentStats"</span>: [
            {
                <span class="hljs-string">"pitchDegrees"</span>: <span class="hljs-number">11.350553</span>, <span class="hljs-comment">// å±‹é¡¶ç‰‡æ®µç›¸å¯¹äºç†è®ºåœ°å¹³é¢çš„è§’åº¦ã€‚0 = å¹³è¡Œäºåœ°é¢ï¼Œ90 = å‚ç›´äºåœ°é¢ã€‚</span>
                <span class="hljs-comment">// å±‹é¡¶ç‰‡æ®µæ‰€æŒ‡çš„ç½—ç›˜æ–¹å‘ã€‚0 = åŒ—ï¼Œ90 = ä¸œï¼Œ180 = å—ã€‚å¯¹äºâ€œå¹³å¦â€å±‹é¡¶ç‰‡æ®µï¼ˆpitchDegrees éå¸¸æ¥è¿‘ 0ï¼‰ï¼Œæ–¹ä½è§’æœªå®šä¹‰æ¸…æ¥šï¼Œå› æ­¤ä¸ºä¿æŒä¸€è‡´ï¼Œæˆ‘ä»¬å°†å…¶ä»»æ„å®šä¹‰ä¸º 0ï¼ˆåŒ—ï¼‰ã€‚</span>
                <span class="hljs-string">"azimuthDegrees"</span>: <span class="hljs-number">269.6291</span>, <span class="hljs-comment">// å±‹é¡¶ç‰‡æ®µç›¸å¯¹äºç†è®ºåœ°å¹³é¢çš„æ–¹ä½è§’ã€‚0 = åŒ—ï¼Œ90 = ä¸œï¼Œ180 = å—ï¼Œ270 = è¥¿ã€‚</span>
                <span class="hljs-string">"stats"</span>: {
                    <span class="hljs-string">"areaMeters2"</span>: <span class="hljs-number">452.00052</span>,
                    <span class="hljs-string">"sunshineQuantiles"</span>: [
                        <span class="hljs-number">408</span>,
                        <span class="hljs-number">1475</span>,
                        <span class="hljs-number">1546</span>,
                        <span class="hljs-number">1575</span>,
                        <span class="hljs-number">1595</span>,
                        <span class="hljs-number">1606</span>,
                        <span class="hljs-number">1616</span>,
                        <span class="hljs-number">1626</span>,
                        <span class="hljs-number">1635</span>,
                        <span class="hljs-number">1643</span>,
                        <span class="hljs-number">1761</span>
                    ],
                    <span class="hljs-string">"groundAreaMeters2"</span>: <span class="hljs-number">443.16</span>
                },
                <span class="hljs-string">"center"</span>: {
                    <span class="hljs-string">"latitude"</span>: <span class="hljs-number">37.444972799999995</span>,
                    <span class="hljs-string">"longitude"</span>: -<span class="hljs-number">122.13936369999999</span>
                },
                <span class="hljs-comment">// ç›¸åº”å»ºç­‘ç‰©çš„è¾¹ç•Œæ¡†ã€‚</span>
                <span class="hljs-string">"boundingBox"</span>: {
                    <span class="hljs-string">"sw"</span>: {
                        <span class="hljs-string">"latitude"</span>: <span class="hljs-number">37.444732099999996</span>,
                        <span class="hljs-string">"longitude"</span>: -<span class="hljs-number">122.1394224</span>
                    }, <span class="hljs-comment">// è¾¹ç•Œæ¡†çš„è¥¿å—è§’ã€‚</span>
                    <span class="hljs-string">"ne"</span>: {
                        <span class="hljs-string">"latitude"</span>: <span class="hljs-number">37.4451909</span>,
                        <span class="hljs-string">"longitude"</span>: -<span class="hljs-number">122.13929279999999</span>
                    } <span class="hljs-comment">// è¾¹ç•Œæ¡†çš„ä¸œåŒ—è§’ã€‚</span>
                },
                <span class="hljs-string">"planeHeightAtCenterMeters"</span>: <span class="hljs-number">10.7835045</span> <span class="hljs-comment">// å±‹é¡¶ç‰‡æ®µå¹³é¢åœ¨ center æŒ‡å®šçš„ç‚¹       å¤„çš„é«˜åº¦ï¼ˆä»¥ç±³ä¸ºå•ä½ï¼Œæµ·æ‹”é«˜åº¦ï¼‰ã€‚ä¸å±‹é¡¶æ¿çš„å¡åº¦ã€æ–¹ä½è§’å’Œä¸­å¿ƒä½ç½®ä¸€èµ·ï¼Œè¿™å®Œå…¨å®šä¹‰äº†å±‹é¡¶æ¿ç‰‡å¹³é¢ã€‚</span>
            }
        ],
        <span class="hljs-comment">// å±‹é¡¶å¤ªé˜³èƒ½é¢æ¿é…ç½®ã€‚</span>
        <span class="hljs-string">"solarPanelConfigs"</span>: [
            {
                <span class="hljs-string">"panelsCount"</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// å±‹é¡¶ä¸Šå®‰è£…çš„é¢æ¿æ•°é‡ã€‚</span>
                <span class="hljs-string">"yearlyEnergyDcKwh"</span>: <span class="hljs-number">1819.8662</span>, <span class="hljs-comment">// å±‹é¡¶ä¸Šå®‰è£…çš„é¢æ¿æ¯å¹´äº§ç”Ÿçš„èƒ½é‡ï¼ˆä»¥åƒç“¦æ—¶ä¸ºå•ä½ï¼‰ã€‚</span>
                <span class="hljs-comment">// æ­¤å¸ƒå±€ä¸­è‡³å°‘å¸¦æœ‰ 1 ä¸ªé¢æ¿çš„æ¯ä¸ªå±‹é¡¶æ¿å—çš„ç”Ÿäº§ä¿¡æ¯ã€‚roofSegmentSummaries[i] ç”¨äºæè¿°ç¬¬ i ä¸ªå±‹é¡¶ç‰‡æ®µï¼ŒåŒ…æ‹¬å…¶å¤§å°ã€é¢„æœŸäº§é‡å’Œæ–¹å‘ã€‚</span>
                <span class="hljs-string">"roofSegmentSummaries"</span>: [
                    {
                        <span class="hljs-string">"pitchDegrees"</span>: <span class="hljs-number">12.273684</span>, <span class="hljs-comment">// å€¾æ–œè§’åº¦</span>
                        <span class="hljs-string">"azimuthDegrees"</span>: <span class="hljs-number">179.12555</span>, <span class="hljs-comment">// å±‹é¡¶ç‰‡æ®µæ‰€æŒ‡çš„ç½—ç›˜æ–¹å‘</span>
                        <span class="hljs-string">"panelsCount"</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// æ­¤ç‰‡æ®µå®‰è£…çš„å¤ªé˜³èƒ½æ¿æ•°é‡</span>
                        <span class="hljs-string">"yearlyEnergyDcKwh"</span>: <span class="hljs-number">1819.8663</span>, <span class="hljs-comment">// æ­¤ç‰‡æ®µå®‰è£…çš„å¤ªé˜³èƒ½æ¿æ¯å¹´äº§ç”Ÿçš„èƒ½é‡ï¼ˆä»¥åƒç“¦æ—¶ä¸ºå•ä½ï¼‰ã€‚</span>
                        <span class="hljs-string">"segmentIndex"</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// æ­¤ç‰‡æ®µåœ¨ roofSegmentStats æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚</span>
                    }
                ]
            }
        ],
        <span class="hljs-comment">// ç”¨äºè®¡ç®—é‡‡ç”¨å¤ªé˜³èƒ½åå¯èŠ‚çœçš„ç”µè´¹ï¼Œå‰ææ˜¯æ¯æœˆç”µè´¹å’Œç”µåŠ›ä¾›åº”å•†å·²çŸ¥ã€‚å®ƒä»¬æŒ‰æ¯æœˆè´¦å•é‡‘é¢ä»ä½åˆ°é«˜æ’åºã€‚å¦‚æœ Solar API æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯æ¥å¯¹ä½äºç›¸åº”åŒºåŸŸçš„å»ºç­‘ç‰©æ‰§è¡Œè´¢åŠ¡è®¡ç®—ï¼Œåˆ™æ­¤å­—æ®µå°†ä¸ºç©ºã€‚</span>
        <span class="hljs-string">"financialAnalyses"</span>: [
            {
                <span class="hljs-string">"monthlyBill"</span>: {
                    <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>, <span class="hljs-comment">// è´§å¸ä»£ç ã€‚</span>
                    <span class="hljs-string">"units"</span>: <span class="hljs-string">"20"</span> <span class="hljs-comment">// å‡è®¾çš„æ¯æœˆç”µè´¹ã€‚</span>
                },
                <span class="hljs-string">"panelConfigIndex"</span>: -<span class="hljs-number">1</span> <span class="hljs-comment">// æ­¤é…ç½®åœ¨ solarPanelConfigs æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚-1ï¼Œè¡¨ç¤ºæ²¡æœ‰å¸ƒå±€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šçœç•¥å…¶ä½™å­æ¶ˆæ¯ã€‚</span>
            },
            {
                <span class="hljs-string">"monthlyBill"</span>: {
                    <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                    <span class="hljs-string">"units"</span>: <span class="hljs-string">"25"</span>
                },
                <span class="hljs-string">"panelConfigIndex"</span>: -<span class="hljs-number">1</span>
            },
            {
                <span class="hljs-string">"monthlyBill"</span>: {
                    <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                    <span class="hljs-string">"units"</span>: <span class="hljs-string">"30"</span>
                },
                <span class="hljs-string">"panelConfigIndex"</span>: -<span class="hljs-number">1</span>
            },
            {
                <span class="hljs-string">"monthlyBill"</span>: {
                    <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                    <span class="hljs-string">"units"</span>: <span class="hljs-string">"35"</span>
                },
                <span class="hljs-string">"panelConfigIndex"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">"financialDetails"</span>: {
                    <span class="hljs-string">"initialAcKwhPerYear"</span>: <span class="hljs-number">1546.8864</span>, <span class="hljs-comment">// è¿™ä¸ªç´¢å¼•å¸ƒå±€ä¸‹å®‰è£…çš„é¢æ¿æ¯å¹´äº§ç”Ÿçš„èƒ½é‡ï¼ˆä»¥åƒç“¦æ—¶ä¸ºå•ä½ï¼‰ã€‚</span>
                    <span class="hljs-string">"remainingLifetimeUtilityBill"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"2563"</span> <span class="hljs-comment">// å¤ªé˜³èƒ½æ¿ä½¿ç”¨å¯¿å‘½å†…ï¼Œéå¤ªé˜³èƒ½å‘ç”µæ‰€äº§ç”Ÿçš„ç”µè´¹</span>
                    },
                    <span class="hljs-string">"federalIncentive"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"1483"</span> <span class="hljs-comment">// å¯è·å¾—çš„è”é‚¦è¡¥è´´é‡‘é¢ï¼›å¦‚æœç”¨æˆ·è´­ä¹°ï¼ˆæ— è®ºæ˜¯å¦é€šè¿‡è´·æ¬¾ï¼‰å¤ªé˜³èƒ½æ¿ï¼Œåˆ™é€‚ç”¨æ­¤å±æ€§ã€‚ä»¥ä¸‹è¡¥è´´å‡æ˜¯</span>
                    },
                    <span class="hljs-string">"stateIncentive"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span> <span class="hljs-comment">// å¯ä»å·çº§è¡¥è´´ä¸­è·å¾—çš„é‡‘é¢ï¼›</span>
                    },
                    <span class="hljs-string">"utilityIncentive"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span> <span class="hljs-comment">// å¯ä»å…¬å…±äº‹ä¸šè¡¥è´´ä¸­è·å¾—çš„é‡‘é¢ï¼›</span>
                    },
                    <span class="hljs-string">"lifetimeSrecTotal"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span> <span class="hljs-comment">// ç”¨æˆ·åœ¨å¤ªé˜³èƒ½æ¿çš„ä½¿ç”¨å¯¿å‘½å†…å¯é€šè¿‡å¤ªé˜³èƒ½å¯å†ç”Ÿèƒ½æºæŠµæ‰£è·å¾—çš„é‡‘é¢ï¼›</span>
                    },
                    <span class="hljs-string">"costOfElectricityWithoutSolar"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"10362"</span> <span class="hljs-comment">// å¦‚æœç”¨æˆ·æœªå®‰è£…å¤ªé˜³èƒ½æ¿ï¼Œåœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…éœ€è¦æ”¯ä»˜çš„ç”µè´¹æ€»é‡‘é¢ã€‚</span>
                    },
                    <span class="hljs-string">"netMeteringAllowed"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¦‚æœä¸º trueï¼Œåˆ™è¡¨ç¤ºç”¨æˆ·å¯ä»¥å°†å…¶å¤ªé˜³èƒ½å‘ç”µé‡ä¸å…¬å…±äº‹ä¸šå…¬å¸å…±äº«ï¼Œå¹¶ä»å…¬å…±äº‹ä¸šå…¬å¸è·å¾—ç”µè´¹ã€‚ï¼ˆæ˜¯å¦å…è®¸å‡€è®¡é‡ã€‚ï¼‰</span>
                    <span class="hljs-string">"solarPercentage"</span>: <span class="hljs-number">86.7469</span>, <span class="hljs-comment">// ç”¨æˆ·ç”±å¤ªé˜³èƒ½ä¾›ç”µçš„ç™¾åˆ†æ¯” (0-100)ã€‚é€‚ç”¨äºç¬¬ä¸€å¹´ï¼Œä½†å¯¹äºæœªæ¥å‡ å¹´ï¼Œæ•°æ®å¤§è‡´å‡†ç¡®ã€‚</span>
                    <span class="hljs-string">"percentageExportedToGrid"</span>: <span class="hljs-number">52.136684</span> <span class="hljs-comment">// æˆ‘ä»¬å‡è®¾å¤ªé˜³èƒ½å‘ç”µé‡ä¸­æœ‰ç™¾åˆ†ä¹‹å‡ ï¼ˆ0-100ï¼‰ä¼šè¾“å‡ºåˆ°ç”µç½‘ï¼Œè¯¥ç™¾åˆ†æ¯”åŸºäºç¬¬ä¸€å­£åº¦çš„å‘ç”µé‡ã€‚å¦‚æœä¸å…è®¸å‡€è®¡é‡ï¼Œè¿™ä¼šå½±å“è®¡ç®—ç»“æœã€‚</span>
                },
                <span class="hljs-comment">// ç§Ÿèµå¤ªé˜³èƒ½æ¿çš„è´¹ç”¨å’Œå¥½å¤„ã€‚</span>
                <span class="hljs-string">"leasingSavings"</span>: {
                    <span class="hljs-string">"leasesAllowed"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ­¤ç®¡è¾–åŒºæ˜¯å¦å…è®¸ç§Ÿèµï¼ˆæŸäº›å·ä¸å…è®¸ç§Ÿèµï¼‰ã€‚å¦‚æœæ­¤å­—æ®µä¸º falseï¼Œåˆ™åº”å¿½ç•¥æ­¤æ¶ˆæ¯ä¸­çš„å€¼ã€‚</span>
                    <span class="hljs-string">"leasesSupported"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// è´¢åŠ¡è®¡ç®—å¼•æ“æ˜¯å¦æ”¯æŒåœ¨æ­¤ç®¡è¾–åŒºå†…ä½¿ç”¨ç§Ÿèµã€‚è¿™ä¸ leasesAllowed æ— å…³ï¼šåœ¨æŸäº›åœ°åŒºï¼Œå…è®¸ç§Ÿèµï¼Œä½†åœ¨è´¢åŠ¡æ¨¡å‹æ— æ³•å¤„ç†çš„æƒ…å†µä¸‹ã€‚</span>
                    <span class="hljs-comment">// é¢„è®¡çš„ç§Ÿèµå¹´è´¹ç”¨ã€‚</span>
                    <span class="hljs-string">"annualLeasingCost"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"335"</span>, <span class="hljs-comment">// å…·ä½“é‡‘é¢ï¼Œæ•´æ•°ä½</span>
                        <span class="hljs-string">"nanos"</span>: <span class="hljs-number">85540771</span>
                    },
                    <span class="hljs-comment">// åœ¨ç”Ÿå‘½å‘¨æœŸå†…èŠ‚çœï¼ˆæˆ–æœªèŠ‚çœï¼‰å¤šå°‘é’±ã€‚</span>
                    <span class="hljs-string">"savings"</span>: {
                        <span class="hljs-comment">// ç¬¬ä¸€å¹´çš„èŠ‚çœé‡‘é¢ã€‚</span>
                        <span class="hljs-string">"savingsYear1"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"-10"</span>
                        },
                        <span class="hljs-comment">// å‰20å¹´çš„èŠ‚çœé‡‘é¢ã€‚</span>
                        <span class="hljs-string">"savingsYear20"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"1098"</span>
                        },
                        <span class="hljs-comment">// å‰20å¹´çš„èŠ‚çœé‡‘é¢çš„ç°å€¼ã€‚</span>
                        <span class="hljs-string">"presentValueOfSavingsYear20"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"568"</span>,
                            <span class="hljs-string">"nanos"</span>: <span class="hljs-number">380859375</span>
                        },
                        <span class="hljs-comment">// æ˜¯å¦è´¢åŠ¡å¯è¡Œã€‚</span>
                        <span class="hljs-string">"financiallyViable"</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-comment">// æ•´ä¸ªé¢æ¿ç”Ÿå‘½å‘¨æœŸå†…èŠ‚çœçš„é‡‘é¢</span>
                        <span class="hljs-string">"savingsLifetime"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"1098"</span>
                        },
                        <span class="hljs-comment">// æ•´ä¸ªé¢æ¿ç”Ÿå‘½å‘¨æœŸå†…èŠ‚çœçš„é‡‘é¢çš„ç°å€¼ã€‚</span>
                        <span class="hljs-string">"presentValueOfSavingsLifetime"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"568"</span>,
                            <span class="hljs-string">"nanos"</span>: <span class="hljs-number">380859375</span>
                        }
                    }
                },
                <span class="hljs-comment">// ç°é‡‘è´­ä¹°çš„æˆæœ¬å’Œæ•ˆç›Š</span>
                <span class="hljs-string">"cashPurchaseSavings"</span>: {
                    <span class="hljs-comment">// ç¨æ”¶ä¼˜æƒ å‰çš„åˆå§‹è´¹ç”¨ï¼šå¿…é¡»è‡ªæè…°åŒ…æ”¯ä»˜çš„é‡‘é¢ã€‚ä¸ upfrontCostï¼ˆæ‰£é™¤ç¨æ”¶ä¼˜æƒ ï¼‰ç›¸å¯¹ã€‚</span>
                    <span class="hljs-string">"outOfPocketCost"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"5704"</span>
                    },
                    <span class="hljs-comment">// æ‰£é™¤ç¨æ”¶ä¼˜æƒ åçš„åˆå§‹è´¹ç”¨ï¼šæ˜¯æŒ‡ç¬¬ä¸€å¹´å¿…é¡»æ”¯ä»˜çš„é‡‘é¢ã€‚ä¸ outOfPocketCostï¼ˆç¨æ”¶ä¼˜æƒ ä¹‹å‰ï¼‰ç›¸å¯¹ã€‚</span>
                    <span class="hljs-string">"upfrontCost"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"4221"</span>
                    },
                    <span class="hljs-comment">// æ‰€æœ‰é€€ç¨çš„ä»·å€¼ã€‚</span>
                    <span class="hljs-string">"rebateValue"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"1483"</span>,
                        <span class="hljs-string">"nanos"</span>: <span class="hljs-number">40039063</span>
                    },
                    <span class="hljs-comment">// æ”¶å›æŠ•èµ„æ‰€éœ€çš„å¹´æ•°ã€‚è´Ÿå€¼è¡¨ç¤ºåœ¨ç”Ÿå‘½å‘¨æœŸå†…æ°¸è¿œä¸ä¼šæ”¶å›æŠ•èµ„ã€‚</span>
                    <span class="hljs-string">"paybackYears"</span>: <span class="hljs-number">11.5</span>,
                    <span class="hljs-string">"savings"</span>: {
                        <span class="hljs-string">"savingsYear1"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"325"</span>
                        },
                        <span class="hljs-string">"savingsYear20"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"7799"</span>
                        },
                        <span class="hljs-string">"presentValueOfSavingsYear20"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"1083"</span>,
                            <span class="hljs-string">"nanos"</span>: <span class="hljs-number">500244141</span>
                        },
                        <span class="hljs-string">"financiallyViable"</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-string">"savingsLifetime"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"7799"</span>
                        },
                        <span class="hljs-string">"presentValueOfSavingsLifetime"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"1083"</span>,
                            <span class="hljs-string">"nanos"</span>: <span class="hljs-number">500244141</span>
                        }
                    }
                },
                <span class="hljs-comment">// åˆ†æœŸçš„æˆæœ¬å’Œæ•ˆç›Š</span>
                <span class="hljs-string">"financedPurchaseSavings"</span>: {
                    <span class="hljs-comment">// è´·æ¬¾çš„å¹´åº¦è¿˜æ¬¾é¢ã€‚</span>
                    <span class="hljs-string">"annualLoanPayment"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                        <span class="hljs-string">"units"</span>: <span class="hljs-string">"335"</span>,
                        <span class="hljs-string">"nanos"</span>: <span class="hljs-number">85540771</span>
                    },
                    <span class="hljs-comment">// æ‰€æœ‰ç¨æ¬¾è¿”è¿˜é‡‘é¢ï¼ˆåŒ…æ‹¬è”é‚¦æŠ•èµ„ç¨æŠµå… [ITC]ï¼‰ã€‚</span>
                    <span class="hljs-string">"rebateValue"</span>: {
                        <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>
                    },
                    <span class="hljs-comment">// è¿™ç»„è®¡ç®—ä¸­å‡è®¾çš„è´·æ¬¾åˆ©ç‡ã€‚</span>
                    <span class="hljs-string">"loanInterestRate"</span>: <span class="hljs-number">0.05</span>,
                    <span class="hljs-comment">// åœ¨ç”Ÿå‘½å‘¨æœŸå†…èŠ‚çœï¼ˆæˆ–æœªèŠ‚çœï¼‰å¤šå°‘é’±ã€‚</span>
                    <span class="hljs-string">"savings"</span>: {
                        <span class="hljs-string">"savingsYear1"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"-10"</span>
                        },
                        <span class="hljs-string">"savingsYear20"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"1098"</span>
                        },
                        <span class="hljs-string">"presentValueOfSavingsYear20"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"568"</span>,
                            <span class="hljs-string">"nanos"</span>: <span class="hljs-number">380859375</span>
                        },
                        <span class="hljs-string">"financiallyViable"</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-string">"savingsLifetime"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"1098"</span>
                        },
                        <span class="hljs-string">"presentValueOfSavingsLifetime"</span>: {
                            <span class="hljs-string">"currencyCode"</span>: <span class="hljs-string">"USD"</span>,
                            <span class="hljs-string">"units"</span>: <span class="hljs-string">"568"</span>,
                            <span class="hljs-string">"nanos"</span>: <span class="hljs-number">380859375</span>
                        }
                    }
                }
            }
        ],
        <span class="hljs-string">"panelCapacityWatts"</span>: <span class="hljs-number">400</span>, <span class="hljs-comment">// è®¡ç®—ä¸­ä½¿ç”¨çš„é¢æ¿çš„å®¹é‡ï¼ˆä»¥ç“¦ä¸ºå•ä½ï¼‰ã€‚</span>
        <span class="hljs-string">"panelHeightMeters"</span>: <span class="hljs-number">1.879</span>, <span class="hljs-comment">// è®¡ç®—ä¸­ä½¿ç”¨çš„é¢æ¿çš„é«˜åº¦ï¼ˆç«–å±æ¨¡å¼ï¼Œä»¥ç±³ä¸ºå•ä½ï¼‰ã€‚</span>
        <span class="hljs-string">"panelWidthMeters"</span>: <span class="hljs-number">1.045</span>, <span class="hljs-comment">// è®¡ç®—ä¸­ä½¿ç”¨çš„é¢æ¿çš„é«˜åº¦ï¼ˆçºµå‘æ¨¡å¼ï¼Œä»¥ç±³ä¸ºå•ä½ï¼‰ã€‚</span>
        <span class="hljs-string">"panelLifetimeYears"</span>: <span class="hljs-number">20</span>, <span class="hljs-comment">// å¤ªé˜³èƒ½ç”µæ± æ¿çš„é¢„æœŸå¯¿å‘½ï¼ˆä»¥å¹´ä¸ºå•ä½ï¼‰ã€‚æ­¤å€¼ç”¨äºè´¢åŠ¡è®¡ç®—ã€‚</span>
        <span class="hljs-comment">// å»ºç­‘ç‰©çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</span>
        <span class="hljs-string">"buildingStats"</span>: {
            <span class="hljs-string">"areaMeters2"</span>: <span class="hljs-number">2533.1233</span>, <span class="hljs-comment">// å±‹é¡¶é¢ç§¯</span>
            <span class="hljs-string">"sunshineQuantiles"</span>: [
                <span class="hljs-number">348</span>,
                <span class="hljs-number">1376</span>,
                <span class="hljs-number">1460</span>,
                <span class="hljs-number">1519</span>,
                <span class="hljs-number">1550</span>,
                <span class="hljs-number">1590</span>,
                <span class="hljs-number">1618</span>,
                <span class="hljs-number">1638</span>,
                <span class="hljs-number">1662</span>,
                <span class="hljs-number">1756</span>,
                <span class="hljs-number">1864</span>
            ],
            <span class="hljs-string">"groundAreaMeters2"</span>: <span class="hljs-number">2356.03</span> <span class="hljs-comment">// å±‹é¡¶å åœ°é¢ç§¯</span>
        },
        <span class="hljs-comment">// å±‹é¡¶å¤ªé˜³èƒ½é¢æ¿é…ç½®ã€‚</span>
        <span class="hljs-string">"solarPanels"</span>: [
            {
                <span class="hljs-string">"center"</span>: {
                    <span class="hljs-string">"latitude"</span>: <span class="hljs-number">37.4449659</span>,
                    <span class="hljs-string">"longitude"</span>: -<span class="hljs-number">122.139089</span>
                },
                <span class="hljs-comment">// é¢æ¿çš„æ–¹å‘ã€‚</span>
                <span class="hljs-comment">/**
                 * 
                 * SOLAR_PANEL_ORIENTATION_UNSPECIFIED  é¢æ¿æ–¹å‘æœªçŸ¥ã€‚
                    LANDSCAPE   LANDSCAPE é¢æ¿çš„é•¿è¾¹å‚ç›´äºå…¶æ‰€åœ¨å±‹é¡¶ç‰‡æ®µçš„æ–¹ä½è§’æ–¹å‘ã€‚
                    PORTRAIT    PORTRAIT é¢æ¿çš„é•¿è¾¹ä¸å…¶æ‰€åœ¨å±‹é¡¶ç‰‡æ®µçš„æ–¹ä½è§’æ–¹å‘å¹³è¡Œã€‚
                 * 
                 */</span>
                <span class="hljs-string">"orientation"</span>: <span class="hljs-string">"LANDSCAPE"</span>,
                <span class="hljs-comment">// æ­¤å¸ƒå±€åœ¨ä¸€å¹´å†…èƒ½æ•è·å¤šå°‘å¤ªé˜³èƒ½ï¼ˆä»¥ç›´æµåƒç“¦æ—¶ä¸ºå•ä½ï¼‰ã€‚</span>
                <span class="hljs-string">"yearlyEnergyDcKwh"</span>: <span class="hljs-number">455.40714</span>,
                <span class="hljs-string">"segmentIndex"</span>: <span class="hljs-number">1</span>
            }
        ],
        <span class="hljs-string">"imageryQuality"</span>: <span class="hljs-string">"HIGH"</span>, <span class="hljs-comment">// ç”¨äºè®¡ç®—æ­¤å»ºç­‘ç‰©æ•°æ®çš„å›¾åƒè´¨é‡ã€‚</span>
        <span class="hljs-string">"imageryProcessedDate"</span>: {
            <span class="hljs-string">"year"</span>: <span class="hljs-number">2023</span>,
            <span class="hljs-string">"month"</span>: <span class="hljs-number">8</span>,
            <span class="hljs-string">"day"</span>: <span class="hljs-number">4</span>
        } <span class="hljs-comment">// æ­¤å›¾åƒçš„å¤„ç†å®Œæˆæ—¶é—´ã€‚</span>
    }
}
</code></pre>
<h3 data-id="heading-19">å»ºç­‘ç‰©è¾¹ç•Œ</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-attr">restriction</span>: {
  <span class="hljs-attr">latLngBounds</span>: {
    <span class="hljs-attr">north</span>: <span class="hljs-number">37.4452261</span>, <span class="hljs-comment">// boundingBox.ne.latitude</span>
    <span class="hljs-attr">east</span>: -<span class="hljs-number">122.13873059999999</span>, <span class="hljs-comment">// boundingBox.ne.longitude</span>
    <span class="hljs-attr">south</span>: <span class="hljs-number">37.444723499999995</span>, <span class="hljs-comment">// boundingBox.sw.latitude</span>
    <span class="hljs-attr">west</span>: -<span class="hljs-number">122.13943150000001</span>, <span class="hljs-comment">// boundingBox.sw.longitude</span>
  },
  <span class="hljs-attr">strictBounds</span>: <span class="hljs-literal">false</span>,
},
</code></pre>
<h3 data-id="heading-20">å±‹é¡¶å…‰ä¼æ¿é“ºè®¾</h3>
<p>æœ¬è´¨ä¸Šæ˜¯åœ¨åœ°å›¾ä¸Šç»˜åˆ¶å¤šè¾¹å½¢ï¼Œæ ¹æ®ç»çº¬åº¦è®¡ç®—ï¼Œå°†å…¶æ‘†æ”¾é“ºè®¾åœ¨å±‹é¡¶ä¸Šã€‚</p>
<p>å¦‚æœ <code>buildingInsights</code> å“åº”ä¸åŒ…å« <code>solarPanelConfigs</code> å­—æ®µï¼Œåˆ™è¡¨ç¤ºå»ºç­‘ç‰©å·²æ­£ç¡®å¤„ç†ï¼Œä½†æˆ‘ä»¬æ— æ³•åœ¨å±‹é¡¶ä¸Šå®‰è£…å¤ªé˜³èƒ½æ¿ã€‚å¦‚æœå±‹é¡¶å¤ªå°è€Œæ— æ³•æ”¾ç½®å¤ªé˜³èƒ½æ¿ï¼Œæˆ–è€…é˜´å½±å¤ªå¤šè€Œå¯¼è‡´å¤ªé˜³èƒ½æ¿æ— æ³•äº§ç”Ÿå¤§é‡èƒ½é‡ï¼Œåˆ™å¯èƒ½ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚</p>
<p>éœ€è¦åœ¨ <code>libraries</code> åŠ è½½ <code>geometry</code>åº“ï¼›</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_ invoke__">useLoadScript</span>({
    <span class="hljs-attr">googleMapsApiKey</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">libraries</span>: [<span class="hljs-string">"marker"</span>, <span class="hljs-string">"places"</span>, <span class="hljs-string">"geometry"</span>],
    <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
    <span class="hljs-attr">mapIds</span>: [<span class="hljs-string">"CLOUD_BASED_MAP_ID"</span>, <span class="hljs-string">"DEMO_MAP_ID"</span>],
  });
</code></pre>
<h4 data-id="heading-21">é¢œè‰²è½¬æ¢å·¥å…·å‡½æ•°</h4>
<p>æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fsolar%2Fvisualize_data_layers%3Fhl%3Dzh-cn%23helper_functions" target="_blank" title="https://developers.google.com/maps/documentation/solar/visualize_data_layers?hl=zh-cn#helper_functions" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<ul>
<li>æŒ‡å®šé¢œè‰²èŒƒå›´ï¼Œç”Ÿæˆé¢œè‰²æ·±æµ…èŒƒå›´å€¼ï¼Œç”¨äºå…‰ä¼æ¿é“ºè®¾æ—¶ï¼ŒåŒºåˆ†å‘ç”µé‡</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">/**
 * Creates an {r, g, b} color palette from a hex list of colors.
 *
 * Each {r, g, b} value is a number between 0 and 255.
 * The created palette is always of size 256, regardless of the number of
 * hex colors passed in. Inbetween values are interpolated.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string[]</span>} hexColors  List of hex colors for the palette.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">{r, g, b</span>}[]}         RGB values for the color palette.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createPalette</span>(<span class="hljs-params">hexColors: <span class="hljs-built_in">string</span>[]</span>): { <span class="hljs-attr">r</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">g</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> }[] {
  <span class="hljs-comment">// Map each hex color into an RGB value.</span>
  <span class="hljs-keyword">const</span> rgb = hexColors.<span class="hljs-title function_">map</span>(colorToRGB);
  <span class="hljs-comment">// Create a palette with 256 colors derived from our rgb colors.</span>
  <span class="hljs-keyword">const</span> size = <span class="hljs-number">256</span>;
  <span class="hljs-keyword">const</span> step = (rgb.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) / (size - <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>(size)
    .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>)
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> {
      <span class="hljs-comment">// Get the lower and upper indices for each color.</span>
      <span class="hljs-keyword">const</span> index = i * step;
      <span class="hljs-keyword">const</span> lower = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(index);
      <span class="hljs-keyword">const</span> upper = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(index);
      <span class="hljs-comment">// Interpolate between the colors to get the shades.</span>
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">r</span>: <span class="hljs-title function_">lerp</span>(rgb[lower].<span class="hljs-property">r</span>, rgb[upper].<span class="hljs-property">r</span>, index - lower),
        <span class="hljs-attr">g</span>: <span class="hljs-title function_">lerp</span>(rgb[lower].<span class="hljs-property">g</span>, rgb[upper].<span class="hljs-property">g</span>, index - lower),
        <span class="hljs-attr">b</span>: <span class="hljs-title function_">lerp</span>(rgb[lower].<span class="hljs-property">b</span>, rgb[upper].<span class="hljs-property">b</span>, index - lower),
      };
    });
}

<span class="hljs-comment">/**
 * Convert a hex color into an {r, g, b} color.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string</span>} color  Hex color like 0099FF or #0099FF.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">{r, g, b</span>}}     RGB values for that color.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">colorToRGB</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>): { <span class="hljs-attr">r</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">g</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> } {
  <span class="hljs-keyword">const</span> hex = color.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'#'</span>) ? color.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>) : color;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">r</span>: <span class="hljs-built_in">parseInt</span>(hex.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), <span class="hljs-number">16</span>),
    <span class="hljs-attr">g</span>: <span class="hljs-built_in">parseInt</span>(hex.<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>), <span class="hljs-number">16</span>),
    <span class="hljs-attr">b</span>: <span class="hljs-built_in">parseInt</span>(hex.<span class="hljs-title function_">substring</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>), <span class="hljs-number">16</span>),
  };
}

<span class="hljs-comment">/**
 * Normalizes a number to a given data range.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} x    Value of interest.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} max  Maximum value in data range, defaults to 1.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} min  Minimum value in data range, defaults to 0.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>}      Normalized value.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">normalize</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, max: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>, min: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">const</span> y = (x - min) / (max - min);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">clamp</span>(y, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
}
</code></pre>
<h4 data-id="heading-22">è·å–æœ€æ¨èçš„å…‰ä¼æ¿é…ç½®æ‰€éœ€å˜é‡ï¼ˆä¹Ÿå¯ç”¨äºèƒ½é‡ã€è´¹ç”¨è®¡ç®—ï¼‰</h4>
<ul>
<li><code>buildingInsights</code> ï¼š å½“å‰å»ºç­‘ç‰©ä¿¡æ¯</li>
<li><code>solarPanelConfigs</code> ï¼šå…‰ä¼æ¿çš„æ‰€æœ‰æ’åˆ—é…ç½®æƒ…å†µ</li>
<li><code>panelPaths</code>ï¼šå½“å‰é“ºè®¾çš„å…‰ä¼æ¿ï¼ˆå¤šè¾¹å½¢ï¼‰é…ç½®</li>
<li><code>panelConfigIndex</code> ï¼š å½“å‰å…‰ä¼æ¿æ•°é‡æ¨èçš„é…ç½®ç´¢å¼•ä¸‹æ ‡</li>
</ul>
<p>ä»¥ä¸‹å˜é‡å¯é€šè¿‡<code>input</code>è¾“å…¥éšæ—¶ä¿®æ”¹ã€‚</p>
<ul>
<li><code>monthlyAverageEnergyBill</code> ï¼šæœˆå‡ç”µè´¹</li>
<li><code>energyCostPerKwh</code> ï¼šç”µè´¹å•ä»· ï¼ˆæ¯åƒç“¦æ—¶çš„èƒ½æºæˆæœ¬ï¼‰</li>
<li><code>panelCapacityWatts</code> ï¼š kwhï¼Œå…‰ä¼æ¿å®¹é‡ watts</li>
<li><code>dcToAcDerateInput</code> ï¼š%ï¼Œç›´æµäº¤æµè½¬æ¢ç‡ï¼ˆé€†å˜å™¨å°†å¤ªé˜³èƒ½æ¿äº§ç”Ÿçš„ç›´æµç”µè½¬æ¢ä¸ºå®¶åº­ä½¿ç”¨çš„äº¤æµç”µçš„æ•ˆç‡ï¼‰</li>
<li><code>installationCostPerWatt</code> ï¼š æ¯ç“¦å®‰è£…æˆæœ¬</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// å»ºç­‘ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> [buildingInsights, setBuildingInsights] = useState&lt;<span class="hljs-title class_">BuildingInsightsResponse</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// å…‰ä¼æ¿é…ç½®</span>
<span class="hljs-keyword">const</span> solarPanelConfigs = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> buildingInsights?.<span class="hljs-property">solarPotential</span>?.<span class="hljs-property">solarPanelConfigs</span> || [];
}, [buildingInsights]);

<span class="hljs-comment">// é¢æ¿èƒ½é‡è½¬åŒ–ç‡</span>
<span class="hljs-keyword">const</span> panelCapacityRatio = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
      panelCapacityWatts /
      (buildingInsights?.<span class="hljs-property">solarPotential</span>?.<span class="hljs-property">panelCapacityWatts</span> || <span class="hljs-number">0</span>)
    );
}, [panelCapacityWattsInput, buildingInsights]);

<span class="hljs-comment">// å½“å‰é“ºè®¾çš„å…‰ä¼æ¿æ•°é‡, åœ¨å»ºç­‘ä¿¡æ¯ä¸­å…‰ä¼æ¿é…ç½®çš„æ‰€å±ä¸‹æ ‡, å»ºè®®åªé€šè¿‡é…ç½®ä¸‹æ ‡æ¥æ‹¿åˆ°èƒ½é“ºè®¾çš„å…‰ä¼æ¿æ•°é‡ï¼Œä¸è¦ç›´æ¥è®¾ç½®å…‰ä¼æ¿æ•°é‡</span>
<span class="hljs-keyword">const</span> [panelConfigIndex, setPanelConfigIndex] = useState&lt;<span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// å½“å‰é“ºè®¾çš„å…‰ä¼æ¿è·¯å¾„list</span>
<span class="hljs-keyword">const</span> [panelPaths, setPanelPaths] = useState&lt;(google.<span class="hljs-property">maps</span>.<span class="hljs-property">PolygonOptions</span>)[]&gt;([]);

<span class="hljs-comment">// æœˆå‡ç”µè´¹</span>
<span class="hljs-keyword">const</span> [monthlyAverageEnergyBill, setMonthlyAverageEnergyBill] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">300</span>);

<span class="hljs-comment">// æ¯åƒç“¦æ—¶èƒ½æºæˆæœ¬ï¼ˆç”µè´¹å•ä»·ï¼‰</span>
<span class="hljs-keyword">const</span> [energyCostPerKwh, setEnergyCostPerKwh] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0.31</span>);

<span class="hljs-comment">// å…‰ä¼æ¿å®¹é‡ watts</span>
<span class="hljs-keyword">const</span> [panelCapacityWatts, setPanelCapacityWatts] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">250</span>);

<span class="hljs-comment">// ç›´æµäº¤æµè½¬æ¢ç‡ï¼ˆé€†å˜å™¨å°†å¤ªé˜³èƒ½æ¿äº§ç”Ÿçš„ç›´æµç”µè½¬æ¢ä¸ºå®¶åº­ä½¿ç”¨çš„äº¤æµç”µçš„æ•ˆç‡ï¼‰</span>
<span class="hljs-keyword">const</span> [dcToAcDerateInput, setDcToAcDerateInput] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">85</span>);
</code></pre>
<h4 data-id="heading-23">è·å–æ¨èé…ç½®</h4>
<p>æ ¹æ®ä¸Šæ–¹çš„é…ç½®å˜é‡çš„å€¼ï¼Œåˆå§‹åŒ–æ—¶ï¼Œè·å–æœ€æ¨èå®‰è£…çš„å…‰ä¼æ¿é…ç½®çš„ä¸‹æ ‡ï¼›</p>
<ul>
<li>å®é™…å¹´å‘ç”µæ¶ˆè€—ï¼šï¼ˆæœˆå‡ç”µè´¹ / ç”µè´¹å•ä»·ï¼‰* 12</li>
<li>å½“å‰å…‰ä¼æ¿é…ç½®çš„æ¶ˆè€—ï¼šå¹´å‘ç”µé‡ * ï¼ˆå½“å‰å…‰ä¼æ¿å®¹é‡ / æ¨èçš„é»˜è®¤å…‰ä¼æ¿å®¹é‡ï¼‰* ï¼ˆé€†å˜å™¨è½¬æ¢ç‡ / 100ï¼‰</li>
<li>æ¯”è¾ƒä¸¤ä¸ªå€¼ï¼Œä»æ‰€æœ‰é…ç½®ä¸­ï¼Œéå†å‡ºæœ€æ¥è¿‘çš„ä¸€é¡¹ï¼Œä½œä¸ºæ¨èé…ç½®ã€‚</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> findSolarConfigIndex = (data?: <span class="hljs-title class_">BuildingInsightsResponse</span>): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> {
    <span class="hljs-comment">// åªåœ¨panelConfigIndexä¸ºnullæ—¶ï¼ˆåˆå§‹åŒ–ï¼‰æ‰è®¾ç½®</span>
    <span class="hljs-keyword">if</span> (panelConfigIndex !== <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> panelConfigIndex;
    <span class="hljs-keyword">const</span> res = data || buildingInsights;
    <span class="hljs-keyword">if</span> (!res) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    
    <span class="hljs-comment">// ç›´æ¥è®¡ç®—å¹´èƒ½æºæ¶ˆè€—é‡ï¼Œä¸ä¾èµ–solar</span>
    <span class="hljs-keyword">const</span> yearlyKwhEnergyConsumption =
      (monthlyAverageEnergyBill / energyCostPerKwh) * <span class="hljs-number">12</span>;
    <span class="hljs-comment">// é»˜è®¤å…‰ä¼æ¿å®¹é‡</span>
    <span class="hljs-keyword">const</span> defaultPanelCapacity = res.<span class="hljs-property">solarPotential</span>.<span class="hljs-property">panelCapacityWatts</span>;
    <span class="hljs-comment">// æ‰¾åˆ°æ¨èé“ºè®¾çš„å…‰ä¼æ¿é…ç½®çš„æ‰€å±ä¸‹æ ‡</span>
    <span class="hljs-keyword">const</span> i = res.<span class="hljs-property">solarPotential</span>.<span class="hljs-property">solarPanelConfigs</span>.<span class="hljs-title function_">findIndex</span>(
      <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span>
        config.<span class="hljs-property">yearlyEnergyDcKwh</span> *
          (panelCapacityWatts / defaultPanelCapacity) *
          (dcToAcDerateInput / <span class="hljs-number">100</span>) &gt;=
        yearlyKwhEnergyConsumption
    );
    <span class="hljs-title function_">setPanelConfigIndex</span>(i &gt; -<span class="hljs-number">1</span> ? i : <span class="hljs-number">0</span>);
    <span class="hljs-keyword">return</span> i &gt; -<span class="hljs-number">1</span> ? i : <span class="hljs-number">0</span>;
};
</code></pre>
<h4 data-id="heading-24">è·å–å½“å‰é…ç½®ä¸‹ï¼Œå…‰ä¼æ¿çš„æ’åˆ—è·¯å¾„ã€é…ç½®</h4>
<ul>
<li>éå†æ‰€æœ‰çš„å…‰ä¼æ¿é…ç½®ï¼›</li>
<li>æ ¹æ®æ¯å—æ¿å­çš„ é•¿ã€å®½ï¼Œç²—ç•¥å¾—åˆ°ç»˜åˆ¶è¿™å—æ¿å­æ‰€éœ€è¦çš„å››ä¸ªç‚¹ï¼Œç”»æˆä¸€ä¸ªçŸ©å½¢ï¼›</li>
<li>éå†å½“å‰æ¿å­çš„åæ ‡ç‚¹ï¼Œæ ¹æ®å…‰ä¼æ¿ä¸­å¿ƒç‚¹ç»çº¬åº¦åæ ‡ã€æ’åˆ—æ–¹å‘ã€å€¾æ–œè§’åº¦ï¼Œå¾—åˆ°å½“å‰æ¿å­åœ¨åœ°å›¾ä¸Šçš„ç»çº¬åº¦è·¯å¾„ <code>path</code>ï¼›</li>
<li>æ ¹æ®å…‰ä¼æ¿çš„å¹´å‘ç”µé‡ï¼Œå¾—åˆ°æ¿å­çš„é¢œè‰²é…ç½®ä¸‹æ ‡ï¼›</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getPanelPaths</span>(<span class="hljs-params">data?: BuildingInsightsResponse, index?: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> building = data || buildingInsights;
    <span class="hljs-keyword">const</span> configIndex = index || panelConfigIndex;
    <span class="hljs-keyword">if</span> (!building || configIndex === <span class="hljs-literal">null</span>) {
      <span class="hljs-title function_">setPanelPaths</span>([]);
      <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-comment">// å»ºç­‘ç‰©å¤ªé˜³èƒ½å‘ç”µæ½œåŠ›</span>
    <span class="hljs-keyword">const</span> solarPotential = building.<span class="hljs-property">solarPotential</span>;
    <span class="hljs-comment">// æ ¹æ®é¢œè‰²å€¼èŒƒå›´ï¼Œç”ŸæˆèŒƒå›´å†…çš„é¢œè‰²æ·±æµ…å€¼</span>
    <span class="hljs-keyword">const</span> palette = <span class="hljs-title function_">createPalette</span>([<span class="hljs-string">'E8EAF6'</span>, <span class="hljs-string">'1A237E'</span>]).<span class="hljs-title function_">map</span>(rgbToColor);
    <span class="hljs-comment">// æœ€å°å¹´å‘ç”µé‡</span>
    <span class="hljs-keyword">const</span> minEnergy = solarPotential.<span class="hljs-property">solarPanels</span>.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">yearlyEnergyDcKwh</span>;
    <span class="hljs-comment">// æœ€å¤§å¹´å‘ç”µé‡</span>
    <span class="hljs-keyword">const</span> maxEnergy = solarPotential.<span class="hljs-property">solarPanels</span>[<span class="hljs-number">0</span>].<span class="hljs-property">yearlyEnergyDcKwh</span>;
    
    <span class="hljs-comment">// è·å–å…‰ä¼æ¿è·¯å¾„</span>
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> roofPanels = solarPotential.<span class="hljs-property">solarPanels</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">panel</span>) =&gt;</span> {
    
        <span class="hljs-comment">// å…‰ä¼æ¿å®½é«˜é…ç½®, å•ä½ä¸ºç±³</span>
        <span class="hljs-keyword">const</span> [w, h] = [
          solarPotential.<span class="hljs-property">panelWidthMeters</span> / <span class="hljs-number">2</span>,
          solarPotential.<span class="hljs-property">panelHeightMeters</span> / <span class="hljs-number">2</span>,
        ];
        <span class="hljs-keyword">const</span> points = [
          { <span class="hljs-attr">x</span>: +w, <span class="hljs-attr">y</span>: +h }, { <span class="hljs-attr">x</span>: +w, <span class="hljs-attr">y</span>: -h }, { <span class="hljs-attr">x</span>: -w, <span class="hljs-attr">y</span>: -h }, 
          { <span class="hljs-attr">x</span>: -w, <span class="hljs-attr">y</span>: +h }, { <span class="hljs-attr">x</span>: +w, <span class="hljs-attr">y</span>: +h }
        ];
        <span class="hljs-comment">// å…‰ä¼æ¿æ–¹å‘</span>
        <span class="hljs-keyword">const</span> orientation = panel.<span class="hljs-property">orientation</span> == <span class="hljs-string">"PORTRAIT"</span> ? <span class="hljs-number">90</span> : <span class="hljs-number">0</span>;
        <span class="hljs-comment">// å…‰ä¼æ¿å€¾æ–œè§’åº¦(ç›¸å¯¹äºåœ°é¢)</span>
        <span class="hljs-keyword">const</span> azimuth = solarPotential.<span class="hljs-property">roofSegmentStats</span>[panel.<span class="hljs-property">segmentIndex</span>].<span class="hljs-property">azimuthDegrees</span>;
        <span class="hljs-comment">// æ ¹æ®å¹´å‘ç”µé‡ï¼Œè®¡ç®—å…‰ä¼æ¿é¢œè‰²ç´¢å¼•</span>
        <span class="hljs-keyword">const</span> colorIndex = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(
          <span class="hljs-title function_">normalize</span>(panel.<span class="hljs-property">yearlyEnergyDcKwh</span>, maxEnergy, minEnergy) * <span class="hljs-number">255</span>
        );
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">paths</span>: points.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">{ x, y }</span>) =&gt;</span>
            google.<span class="hljs-property">maps</span>.<span class="hljs-property">geometry</span>.<span class="hljs-property">spherical</span>.<span class="hljs-title function_">computeOffset</span>(
              { <span class="hljs-attr">lat</span>: panel.<span class="hljs-property">center</span>.<span class="hljs-property">latitude</span>, <span class="hljs-attr">lng</span>: panel.<span class="hljs-property">center</span>.<span class="hljs-property">longitude</span> },
              <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(x * x + y * y),
              <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">atan2</span>(y, x) * (<span class="hljs-number">180</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>) + orientation + azimuth
            )
          ),
          <span class="hljs-comment">// è¾¹æ¡†é¢œè‰²</span>
          <span class="hljs-attr">strokeColor</span>: <span class="hljs-string">"#B0BEC5"</span>,
          <span class="hljs-attr">strokeOpacity</span>: <span class="hljs-number">0.9</span>,
          <span class="hljs-attr">strokeWeight</span>: <span class="hljs-number">1</span>,
          <span class="hljs-comment">// å¡«å……é¢œè‰²</span>
          <span class="hljs-attr">fillColor</span>: palette[colorIndex],
          <span class="hljs-attr">fillOpacity</span>: <span class="hljs-number">0.9</span>,
        };
      });
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(roofPanels);
      <span class="hljs-title function_">setPanelPaths</span>(roofPanels);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
      <span class="hljs-title function_">setPanelPaths</span>([]);
    }
}
</code></pre>
<h4 data-id="heading-25">å®é™…æ¸²æŸ“</h4>
<ul>
<li>å¤šè¾¹å½¢æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fshapes%3Fhl%3Dzh-cn%23polylines" target="_blank" title="https://developers.google.com/maps/documentation/javascript/shapes?hl=zh-cn#polylines" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></li>
<li>å¼•å…¥<code>Polygon</code> å¤šè¾¹å½¢ç»„ä»¶ï¼›</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Polygon</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@react-google-maps/api"</span>;
</code></pre>
<ul>
<li>è°ƒç”¨ <code>buildingInsights:findClosest</code> æ¥å£ï¼Œè·å–å»ºç­‘ç‰©ä¿¡æ¯ï¼Œè·å–æ¨èé…ç½®ï¼Œå¾—åˆ°å½“å‰å»ºç­‘ç‰©çš„å…‰ä¼æ¿é“ºè®¾è·¯å¾„é…ç½®ï¼›</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBuildingInsights</span>(<span class="hljs-params">{ lat, lng }: { lat: <span class="hljs-built_in">number</span>, lng: <span class="hljs-built_in">number</span> }</span>) {
    <span class="hljs-keyword">if</span> (!lat || !lng) <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">const</span> buildingInsights = <span class="hljs-keyword">await</span> <span class="hljs-title function_">findClosestBuilding</span>({ lat, lng }, apiKey);
    <span class="hljs-title function_">setBuildingInsights</span>(buildingInsights);
    <span class="hljs-keyword">const</span> configIndex = <span class="hljs-title function_">findSolarConfigIndex</span>(buildingInsights);
    <span class="hljs-title function_">getPanelPaths</span>(buildingInsights, configIndex);
}
</code></pre>
<ul>
<li>ä½¿ç”¨ <code>Polygon</code> ç»„ä»¶æ¸²æŸ“</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMap</span>&gt;</span>
    (panelPaths || []).map((item, index) =&gt; {
    let roofPanelCount = panelConfigIndex !== null &amp;&amp; panelConfigIndex &gt;= 0 ? solarPanelConfigs[panelConfigIndex].panelsCount : 0;
      if (index &lt; roofPanelCount) {
        return (
          <span class="hljs-tag">&lt;<span class="hljs-name">Polygon</span>
            <span class="hljs-attr">key</span>=<span class="hljs-string">{index</span> + "<span class="hljs-attr">roof</span>"}
            <span class="hljs-attr">options</span>=<span class="hljs-string">{{</span>
              <span class="hljs-attr">...item</span>,
              <span class="hljs-attr">clickable:</span> <span class="hljs-attr">false</span>,
              <span class="hljs-attr">visible:</span> <span class="hljs-attr">true</span>,
            }}
            <span class="hljs-attr">paths</span>=<span class="hljs-string">{item.paths</span> || []}
          /&gt;</span>
        );
      }
  })
<span class="hljs-tag">&lt;/<span class="hljs-name">GoogleMap</span>&gt;</span></span>
</code></pre>
<h4 data-id="heading-26">åŠ¨æ€ä¿®æ”¹å…‰ä¼æ¿æ•°é‡</h4>
<ul>
<li>
<p>æœ€å°‘çš„å…‰ä¼æ¿æ•°é‡: <code>solarPanelConfigs[0].panelsCount</code></p>
</li>
<li>
<p>æœ€å¤§çš„å…‰ä¼æ¿æ•°é‡: <code>solarPanelConfigs[solarPanelConfigs.length - 1].panelsCount</code></p>
<ul>
<li>æ‰€æœ‰çš„æ¿å­é…ç½®: <code>buildingInsights.solarPotential?.solarPanels?.length</code></li>
</ul>
</li>
<li>
<p>æœ€å¤§å…‰ä¼æ¿é…ç½®ä¸‹æ ‡: <code>solarPanelConfigs.length - 1</code></p>
</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Slider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;


<span class="hljs-comment">// å…‰ä¼æ¿é…ç½®</span>
<span class="hljs-keyword">const</span> solarPanelConfigs = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> buildingInsights?.<span class="hljs-property">solarPotential</span>?.<span class="hljs-property">solarPanelConfigs</span> || [];
}, [buildingInsights]);



{solarPanelConfigs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          å½“å‰é¢æ¿æ•°é‡:{" "}
          {panelConfigIndex || panelConfigIndex === 0
            ? solarPanelConfigs[panelConfigIndex].panelsCount
            : "--"}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
          æœ€å¤§é¢æ¿æ•°é‡:{" "}
          {solarPanelConfigs[solarPanelConfigs.length - 1].panelsCount}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Slider</span>
        <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{panelConfigIndex</span> ?? <span class="hljs-attr">0</span>}
        <span class="hljs-attr">value</span>=<span class="hljs-string">{panelConfigIndex</span> ?? <span class="hljs-attr">0</span>}
        <span class="hljs-attr">step</span>=<span class="hljs-string">{1}</span>
        <span class="hljs-attr">max</span>=<span class="hljs-string">{solarPanelConfigs.length</span> <span class="hljs-attr">-</span> <span class="hljs-attr">1</span>}
        <span class="hljs-attr">min</span>=<span class="hljs-string">{0}</span>
        <span class="hljs-attr">tooltip</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">open:</span> <span class="hljs-attr">false</span>,
        }}
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span> =&gt;</span> {
          setPanelConfigIndex(Number(value || 0));
        }}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )}
</code></pre>
<h3 data-id="heading-27">å¸¸ç”¨èƒ½æºæ•°æ®ï¼Œç”¨äºèƒ½è€—ã€æˆæœ¬è´¹ç”¨è®¡ç®—</h3>
<ul>
<li>
<p>å»ºç­‘ç‰©çš„å¤ªé˜³èƒ½å‘ç”µæ½œåŠ›</p>
<ul>
<li>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> solarPotential = buildingInsights.<span class="hljs-property">solarPotential</span>;
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-28">å¹´æ—¥ç…§æ—¶é•¿</h4>
<ul>
<li>h - å°æ—¶</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> maxSunshineHoursPerYear = buildingInsights.<span class="hljs-property">solarPotential</span>?.<span class="hljs-property">maxSunshineHoursPerYear</span>.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)
</code></pre>
<h4 data-id="heading-29">å±‹é¡¶é¢ç§¯</h4>
<ul>
<li>mÂ² - å¹³æ–¹ç±³</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> roofArea = buildingInsights.<span class="hljs-property">solarPotential</span>?.<span class="hljs-property">wholeRoofStats</span>?.<span class="hljs-property">areaMeters2</span>.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)
</code></pre>
<h4 data-id="heading-30">COâ‚‚ å‡æ’é‡</h4>
<ul>
<li>Kg/MWh</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> co2 = buildingInsights.<span class="hljs-property">solarPotential</span>?.<span class="hljs-property">carbonOffsetFactorKgPerMwh</span>.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>)
</code></pre>
<h4 data-id="heading-31">å¹´å‘ç”µé‡ - å•ä½ï¼škwh</h4>
<ul>
<li>
<p>æœ€å°å€¼</p>
<ul>
<li>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> minEnergy = solarPotential.<span class="hljs-property">solarPanels</span>.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>].<span class="hljs-property">yearlyEnergyDcKwh</span>;
</code></pre>
</li>
</ul>
</li>
<li>
<p>æœ€å¤§å€¼</p>
<ul>
<li>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> maxEnergy = solarPotential.<span class="hljs-property">solarPanels</span>[<span class="hljs-number">0</span>].<span class="hljs-property">yearlyEnergyDcKwh</span>;
</code></pre>
</li>
</ul>
</li>
<li>
<p>å½“å‰æ•°é‡çš„æ¿å­å¹´å‘ç”µé‡</p>
<ul>
<li>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> currEnergy = solarPanelConfigs[panelConfigIndex]?.<span class="hljs-property">yearlyEnergyDcKwh</span> ?? <span class="hljs-number">0</span>) * panelCapacityRatio
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-32">å®‰è£…å°ºå¯¸å®¹é‡</h4>
<ul>
<li>Kw - åƒç“¦</li>
<li>è®¡ç®—å…¬å¼ï¼š(å…‰ä¼æ¿æ•°é‡ * é¢æ¿å®¹é‡) / 1000</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å¤ªé˜³èƒ½æ¿å®‰è£…å®¹é‡ (kW)</span>
 <span class="hljs-keyword">const</span> installationSizeKw = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> roofCapacity = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (
      solarPanelConfigs &amp;&amp;
      solarPanelConfigs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp;
      panelConfigIndex !== <span class="hljs-literal">null</span> &amp;&amp;
      panelConfigIndex &gt;= <span class="hljs-number">0</span>
    ) {
      roofCapacity = (solarPanelConfigs[configId].<span class="hljs-property">panelsCount</span> * panelCapacityWatts) / <span class="hljs-number">1000</span>;
    }
    <span class="hljs-keyword">return</span> roofCapacity;
}, [panelConfigIndex, panelCapacityWatts, solarPanelConfigs]);
</code></pre>
<h4 data-id="heading-33">å®‰è£…æˆæœ¬</h4>
<ul>
<li>è®¡ç®—å…¬å¼ï¼š æ¯ç“¦å®‰è£…æˆæœ¬ * å®‰è£…å°ºå¯¸å®¹é‡ * 1000</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> installationCostTotal = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> installationCostPerWatt * installationSizeKw * <span class="hljs-number">1000</span>;
}, [installationCostPerWatt, installationSizeKw]);
</code></pre>
<p>ä»¥ä¸‹è®¡ç®—éœ€è¦æ–°å¢ä¸€äº›å˜é‡ï¼Œé€šè¿‡inputè¾“å…¥å¯ä¿®æ”¹</p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fsolar%2Fcalculate-costs-us%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/solar/calculate-costs-us?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<ul>
<li><code>solarIncentives</code> ï¼šå¤ªé˜³èƒ½æ¿€åŠ±æªæ–½</li>
<li><code>installationLifeSpan</code> ï¼šå¤ªé˜³èƒ½å…‰ä¼æ¿ä½¿ç”¨å¯¿å‘½ - å¹´</li>
<li><code>efficiencyDepreciationFactor</code> ï¼šå¤ªé˜³èƒ½æ¿æ¯å¹´çš„æ•ˆç‡ä¸‹é™å¹…åº¦ã€‚ é’ˆå¯¹ç¾å›½å¢ƒå†…çš„åœ°ç†ä½ç½®ä½¿ç”¨ 0.995ï¼ˆæ¯å¹´å‡å°‘ 0.5%ï¼‰ã€‚</li>
<li><code>costIncreaseFactor</code> ï¼šæ¯å¹´æˆæœ¬å¢åŠ ç™¾åˆ†æ¯”ã€‚é’ˆå¯¹ç¾å›½å¢ƒå†…çš„ä½ç½®ä½¿ç”¨ 1.022ï¼ˆæ¯å¹´ä¸Šè°ƒ 2.2%ï¼‰</li>
<li><code>discountRate</code> ï¼šè´§å¸æ¯å¹´å¢å€¼ç‡ã€‚é’ˆå¯¹ç¾å›½å¢ƒå†…çš„ä½ç½®ä½¿ç”¨ 1.04ï¼ˆæ¯å¹´å¢é•¿ 4%ï¼‰</li>
</ul>
<h4 data-id="heading-34">èƒ½æºè¦†ç›–ç‡</h4>
<ul>
<li>
<p>% - ç™¾åˆ†æ¯”</p>
</li>
<li>
<p>è®¡ç®—å…¬å¼ï¼š</p>
<ul>
<li>åˆå§‹å¹´äº¤æµå‘ç”µé‡ = å½“å‰é¢æ¿é…ç½®å¹´å‘ç”µé‡ * é¢æ¿è½¬æ¢æ¯” * é€†å˜å™¨è½¬æ¢æ¯”</li>
<li>æ¯å¹´äº¤æµç”µå‘ç”µé‡ï¼ˆè€ƒè™‘æ•ˆç‡è¡°å‡ï¼‰ = åˆå§‹å¹´äº¤æµå‘ç”µé‡ * æ¯å¹´æ•ˆç‡ä¸‹é™ç™¾åˆ†æ¯” * ç¬¬å‡ å¹´</li>
<li>å¹´èƒ½æºæ¶ˆè€— = (æœˆå‡ç”µè´¹ / å…‰ä¼æ¿ç“¦æ•°) * 12</li>
<li>èƒ½æºè¦†ç›–ç‡ = (ç¬¬ä¸€å¹´äº¤æµå‘ç”µé‡ / å¹´èƒ½æºæ¶ˆè€—) * 100</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åˆå§‹å¹´äº¤æµå‘ç”µé‡ (kWh/å¹´)</span>
 <span class="hljs-keyword">const</span> initialAcKwhPerYear = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (
      solarPanelConfigs &amp;&amp;
      solarPanelConfigs.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp;
      panelConfigIndex !== <span class="hljs-literal">null</span> &amp;&amp;
      panelConfigIndex &gt;= <span class="hljs-number">0</span>
    ) {
      <span class="hljs-keyword">return</span> (
        solarPanelConfigs[panelConfigIndex].<span class="hljs-property">yearlyEnergyDcKwh</span> *
        panelCapacityRatio *
        (dcToAcDerateInput / <span class="hljs-number">100</span>)
      );
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}, [dcToAcDerateInput, panelCapacityRatio, configId, solarPanelConfigs]);

<span class="hljs-comment">// æ¯å¹´äº¤æµå‘ç”µé‡æ•°ç»„ (è€ƒè™‘æ•ˆç‡è¡°å‡)</span>
<span class="hljs-keyword">const</span> yearlyProductionAcKwh = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> [...<span class="hljs-title class_">Array</span>(installationLifeSpan).<span class="hljs-title function_">keys</span>()].<span class="hljs-title function_">map</span>(
      <span class="hljs-function">(<span class="hljs-params">year</span>) =&gt;</span> initialAcKwhPerYear * efficiencyDepreciationFactor ** year
    );
}, [initialAcKwhPerYear, installationLifeSpan, efficiencyDepreciationFactor]);
  
<span class="hljs-comment">// å¹´èƒ½æºæ¶ˆè€—é‡ (kWh/å¹´)</span>
<span class="hljs-keyword">const</span> yearlyKwhEnergyConsumption = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (monthlyAverageEnergyBill / energyCostPerKwh) * <span class="hljs-number">12</span>;
}, [monthlyAverageEnergyBill, energyCostPerKwh]);
  
<span class="hljs-comment">// èƒ½æºè¦†ç›–ç‡ (%)</span>
<span class="hljs-keyword">const</span> energyCovered = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (yearlyProductionAcKwh[<span class="hljs-number">0</span>] / yearlyKwhEnergyConsumption) * <span class="hljs-number">100</span>;
  }, [
    yearlyProductionAcKwh,
    yearlyKwhEnergyConsumption,
    monthlyAverageEnergyBill,
]);
</code></pre>
<h4 data-id="heading-35">ä¸ä½¿ç”¨å¤ªé˜³èƒ½çš„æˆæœ¬</h4>
<ul>
<li>è®¡ç®—å…¬å¼ï¼šå¤ªé˜³èƒ½å…‰ä¼æ¿ä½¿ç”¨å‘¨æœŸå†…ï¼Œæ¯å¹´çš„ç”µè´¹æˆæœ¬ç›¸åŠ åŠ </li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ¯å¹´ä¸ä½¿ç”¨å¤ªé˜³èƒ½çš„ç”µè´¹æˆæœ¬æ•°ç»„</span>
<span class="hljs-keyword">const</span> yearlyCostWithoutSolar = <span class="hljs-title function_">useMemo</span>(
    <span class="hljs-function">() =&gt;</span>
      [...<span class="hljs-title class_">Array</span>(installationLifeSpan).<span class="hljs-title function_">keys</span>()].<span class="hljs-title function_">map</span>(
        <span class="hljs-function">(<span class="hljs-params">year</span>) =&gt;</span>
          (monthlyAverageEnergyBill * <span class="hljs-number">12</span> * costIncreaseFactor ** year) /
          discountRate ** year
      ),
    [
      monthlyAverageEnergyBill,
      costIncreaseFactor,
      discountRate,
      installationLifeSpan,
    ]
);

  <span class="hljs-comment">// æ€»çš„ä¸ä½¿ç”¨å¤ªé˜³èƒ½çš„ç”µè´¹æˆæœ¬</span>
  <span class="hljs-keyword">const</span> totalCostWithoutSolar = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> yearlyCostWithoutSolar.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x + y, <span class="hljs-number">0</span>);
  }, [yearlyCostWithoutSolar]);
</code></pre>
<h4 data-id="heading-36">ä½¿ç”¨å¤ªé˜³èƒ½çš„æˆæœ¬</h4>
<ul>
<li>
<p>è®¡ç®—å…¬å¼</p>
<ul>
<li>å¤ªé˜³èƒ½æ¿å®‰è£…æ€»æˆæœ¬ = æ¯ç“¦å®‰è£…æˆæœ¬ * å¤ªé˜³èƒ½æ¿å®‰è£…å®¹é‡ * 1000</li>
<li>ä½¿ç”¨å¤ªé˜³èƒ½æ€»æˆæœ¬ = å¤ªé˜³èƒ½æ¿å®‰è£…æ€»æˆæœ¬ + å‰©ä½™å¯¿å‘½æœŸé—´çš„ç”µè´¹è´¦å• - å¤ªé˜³èƒ½æ¿€åŠ±æªæ–½å¥–åŠ±</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å¤ªé˜³èƒ½æ¿å®‰è£…æ€»æˆæœ¬ (ç¾å…ƒ)</span>
<span class="hljs-keyword">const</span> installationCostTotal = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> installationCostPerWatt * installationSizeKw * <span class="hljs-number">1000</span>;
}, [installationCostPerWatt, installationSizeKw]);

<span class="hljs-comment">// å‰©ä½™å¯¿å‘½æœŸé—´çš„ç”µè´¹è´¦å• (è€ƒè™‘å¤ªé˜³èƒ½å‘ç”µåçš„å‡€æˆæœ¬)</span>
  <span class="hljs-keyword">const</span> remainingLifetimeUtilityBill = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> yearlyProductionAcKwh
      .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">yearlyKwhEnergyProduced, year</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> billEnergyKwh =
          yearlyKwhEnergyConsumption - yearlyKwhEnergyProduced;
        <span class="hljs-keyword">const</span> billEstimate =
          (billEnergyKwh * energyCostPerKwh * costIncreaseFactor ** year) /
          discountRate ** year;
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(billEstimate, <span class="hljs-number">0</span>);
      })
      .<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x + y, <span class="hljs-number">0</span>);
  }, [
    energyCostPerKwh,
    costIncreaseFactor,
    discountRate,
    yearlyKwhEnergyConsumption,
    yearlyProductionAcKwh,
  ]);

  <span class="hljs-comment">// ä½¿ç”¨å¤ªé˜³èƒ½çš„ç»ˆèº«æ€»æˆæœ¬ (ç¾å…ƒ)</span>
  <span class="hljs-keyword">const</span> totalCostWithSolar = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
      installationCostTotal + remainingLifetimeUtilityBill - solarIncentives
    );
  }, [installationCostTotal, remainingLifetimeUtilityBill, solarIncentives]);
</code></pre>
<h4 data-id="heading-37">ä½¿ç”¨å¤ªé˜³èƒ½æ¿ï¼Œå›æœ¬çš„å¹´ä»½</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ¯å¹´ç”µè´¹ä¼°ç®—æ•°ç»„ (ä½¿ç”¨å¤ªé˜³èƒ½å)</span>
<span class="hljs-keyword">const</span> yearlyUtilityBillEstimates = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> yearlyProductionAcKwh.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">yearlyKwhEnergyProduced, year</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> billEnergyKwh =
        yearlyKwhEnergyConsumption - yearlyKwhEnergyProduced;
      <span class="hljs-keyword">const</span> billEstimate =
        (billEnergyKwh * energyCostPerKwhInput * costIncreaseFactor ** year) /
        discountRate ** year;
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(billEstimate, <span class="hljs-number">0</span>);
    });
  }, [
    yearlyKwhEnergyConsumption,
    energyCostPerKwhInput,
    costIncreaseFactor,
    discountRate,
    yearlyProductionAcKwh,
]);

  <span class="hljs-comment">// å›æœ¬å¹´ä»½ (ä»å®‰è£…å¼€å§‹è®¡ç®—)</span>
<span class="hljs-keyword">const</span> breakEvenYear = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> costWithSolar = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">const</span> cumulativeCostsWithSolar = yearlyUtilityBillEstimates.<span class="hljs-title function_">map</span>(
      <span class="hljs-function">(<span class="hljs-params">billEstimate, i</span>) =&gt;</span>
        (costWithSolar +=
          i == <span class="hljs-number">0</span>
            ? billEstimate + installationCostTotal - solarIncentives
            : billEstimate)
    );
    <span class="hljs-keyword">let</span> costWithoutSolar = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">const</span> cumulativeCostsWithoutSolar = yearlyCostWithoutSolar.<span class="hljs-title function_">map</span>(
      <span class="hljs-function">(<span class="hljs-params">cost</span>) =&gt;</span> (costWithoutSolar += cost)
    );
    <span class="hljs-keyword">return</span> cumulativeCostsWithSolar.<span class="hljs-title function_">findIndex</span>(
      <span class="hljs-function">(<span class="hljs-params">costWithSolar, i</span>) =&gt;</span> costWithSolar &lt;= cumulativeCostsWithoutSolar[i]
    );
  }, [
    yearlyUtilityBillEstimates,
    installationCostTotal,
    solarIncentives,
    yearlyCostWithoutSolar,
]);
</code></pre>
<h2 data-id="heading-38">Data Layers</h2>
<p><code>dataLayers</code> ç«¯ç‚¹å¯æä¾›æŒ‡å®šåœ°ç‚¹å‘¨å›´åŒºåŸŸçš„è¯¦ç»†å¤ªé˜³èƒ½ä¿¡æ¯ã€‚è¯¥ç«¯ç‚¹ä¼šè¿”å› 17 ä¸ªå¯ä¸‹è½½çš„ <code>TIFF æ–‡ä»¶</code>ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æ•°å­—åœ°è¡¨æ¨¡å‹ (DSM)</li>
<li>RGB å¤åˆå›¾å±‚ï¼ˆèˆªç©ºå½±åƒï¼‰</li>
<li>ç”¨äºæ ‡è¯†åˆ†æè¾¹ç•Œçš„æ©ç å›¾å±‚</li>
<li>å¹´å¤ªé˜³è¾å°„é‡ï¼Œæˆ–ç»™å®šè¡¨é¢çš„å¹´äº§é‡</li>
<li>æ¯æœˆå¤ªé˜³è¾å°„é‡ï¼Œæˆ–ç»™å®šè¡¨é¢çš„æ¯æœˆäº§é‡</li>
<li>æ¯å°æ—¶é®é˜³åº¦ï¼ˆ24 å°æ—¶ï¼‰</li>
</ul>
<h3 data-id="heading-39">Api</h3>
<pre><code class="hljs language-ini" lang="ini">curl -X GET "https://solar.googleapis.com/v1/dataLayers:get?<span class="hljs-attr">location.latitude</span>=<span class="hljs-number">37.4450</span>&amp;location.longitude=-<span class="hljs-number">122.1390</span>&amp;radiusMeters=<span class="hljs-number">100</span>&amp;view=FULL_LAYERS&amp;requiredQuality=HIGH&amp;exactQualityRequired=<span class="hljs-literal">true</span>&amp;pixelSizeMeters=<span class="hljs-number">0.5</span>&amp;key=YOUR_API_KEY<span class="hljs-string">"
</span></code></pre>




















<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>location</td><td><code>LatLng</code></td><td>å¿…éœ€ã€‚è·å–æ•°æ®çš„åœ°åŒºä¸­å¿ƒçš„ç»çº¬åº¦</td></tr><tr><td>radiusMeters</td><td>number</td><td>å¿…éœ€ã€‚åŠå¾„ï¼ˆä»¥ç±³ä¸ºå•ä½ï¼‰ï¼Œç”¨äºå®šä¹‰åº”è¿”å›æ•°æ®çš„ä¸­å¿ƒç‚¹å‘¨å›´çš„åŒºåŸŸã€‚æ­¤å€¼å­˜åœ¨ä»¥ä¸‹é™åˆ¶ï¼š-   æ‚¨å¯ä»¥éšæ—¶æŒ‡å®šä¸è¶…è¿‡ 100 ç±³çš„ä»»ä½•å€¼ã€‚</td></tr></tbody></table>
<ul>
<li>
<p>å¯ä»¥æŒ‡å®šè¶…è¿‡ 1 äº¿çš„å€¼ï¼Œå‰ææ˜¯ <code>radiusMeters</code> &lt;= <code>pixelSizeMeters * 1000</code>ã€‚</p>
</li>
<li>
<p>å¯¹äºå¤§äº 175 ç±³çš„å€¼ï¼Œè¯·æ±‚ä¸­çš„ <code>DataLayerView</code> ä¸å¾—åŒ…å«æœˆåº¦é€šé‡æˆ–æ¯å°æ—¶é˜´å½±ã€‚ |
| view                 | <code>DataLayerView</code>  | å¯é€‰ã€‚è¦è¿”å›çš„å¤ªé˜³èƒ½ä¿¡æ¯çš„å­é›†ç±»å‹ã€‚<code>FULL_LAYERS</code> å…¨éƒ¨è¿”å›ã€‚                                                                                                                                                     |
| requiredQuality      | <code>ImageryQuality</code> | å¯é€‰ã€‚ç»“æœä¸­å…è®¸çš„æœ€ä½è´¨é‡çº§åˆ«ã€‚ä¸æŒ‡å®šï¼Œé»˜è®¤ä¸º <code>HIGH</code> é«˜è´¨é‡ã€‚                                                                                                                                                       |
| pixelSizeMeters      | number           | å¯é€‰ã€‚è¦è¿”å›çš„æ•°æ®çš„æœ€å°æ¯”ä¾‹ï¼ˆä»¥æ¯åƒç´ ç±³ä¸ºå•ä½ï¼‰ã€‚æ”¯æŒ0.1ã€0.25ã€0.5ã€1.0                                                                                                                                               |
| exactQualityRequired | boolean          | å¯é€‰ã€‚æ˜¯å¦è¦æ±‚å›¾åƒè´¨é‡å®Œå…¨ä¸€è‡´ã€‚è‹¥æŒ‡å®š <code>requiredQuality</code>ä¸º <code>MEDIUM</code> ä¸­ç­‰ï¼Œä½†æ˜¯èƒ½æŸ¥åˆ° <code>HIGH</code> è´¨é‡ï¼Œä¼šä¼˜å…ˆè¿”å›<code>HIGH</code> è´¨é‡ï¼ŒæŒ‡å®šäº† <code>exactQualityRequired</code> åˆ™åªä¼šè¿”å› <code>MEDIUM</code> ã€‚                                                             |</p>
</li>
</ul>
<h3 data-id="heading-40">ApiResponseå“åº”æ•°æ®</h3>
<p>è¯¦ç»†æ–‡æ¡£ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fsolar%2Freference%2Frest%2Fv1%2FdataLayers%3Fhl%3Dzh-cn%23DataLayers" target="_blank" title="https://developers.google.com/maps/documentation/solar/reference/rest/v1/dataLayers?hl=zh-cn#DataLayers" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p><strong>æ³¨æ„</strong>ï¼š å“åº”æ•°æ®ä¸­çš„ç½‘å€ä»…åœ¨åˆå§‹è¯·æ±‚å<strong>ä¸€å°æ—¶å†…æœ‰æ•ˆ</strong>ã€‚å¦‚éœ€è®¿é—®è¶…å‡ºæ­¤æ—¶é—´èŒƒå›´çš„ç½‘å€ï¼Œæ‚¨å¿…é¡»å†æ¬¡å‘ dataLayers ç«¯ç‚¹å‘é€è¯·æ±‚ã€‚</p>
<h3 data-id="heading-41">åœ°å›¾å åŠ å±‚</h3>
<p>æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fgroundoverlays%3Fhl%3Dzh-cn%23introduction" target="_blank" title="https://developers.google.com/maps/documentation/javascript/groundoverlays?hl=zh-cn#introduction" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p>ä½¿ç”¨ <code>GroundOverlay</code> å¯¹è±¡ï¼Œå¯ä»¥åœ¨åœ°å›¾ä¸Šå åŠ è¦†ç›–ä»»æ„å±‚å†…å®¹ï¼Œåªéœ€è¦æŒ‡å®šè¾¹ç•ŒèŒƒå›´ã€è¦†ç›–å†…å®¹å³å¯ã€‚</p>
<p>å åŠ  <code>GeoJson</code> ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fdatalayer%3Fhl%3Dzh-cn%23load_geojson" target="_blank" title="https://developers.google.com/maps/documentation/javascript/datalayer?hl=zh-cn#load_geojson" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<h3 data-id="heading-42">æ­é… <code>Layers Api</code> å åŠ æ—¥ç…§ã€é˜´å½±é¢ç§¯ç­‰å›¾å±‚ï¼›</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// https://developers.google.com/maps/documentation/solar/reference/rest/v1/dataLayers</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">LayerId</span> = <span class="hljs-string">'mask'</span> | <span class="hljs-string">'dsm'</span> | <span class="hljs-string">'rgb'</span> | <span class="hljs-string">'annualFlux'</span> | <span class="hljs-string">'monthlyFlux'</span> | <span class="hljs-string">'hourlyShade'</span>;
  
<span class="hljs-comment">// å›¾å±‚ç±»å‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">layerOption</span>: { <span class="hljs-attr">label</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">value</span>: <span class="hljs-title class_">LayerId</span> | <span class="hljs-string">"none"</span> }[] = [
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"æ— å›¾å±‚"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"none"</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"å±‹é¡¶é®ç½©"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"mask"</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"æ•°å­—è¡¨é¢æ¨¡å‹"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"dsm"</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"èˆªç©ºå›¾åƒ"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"rgb"</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"å¹´æ—¥ç…§"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"annualFlux"</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"æœˆæ—¥ç…§"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"monthlyFlux"</span> },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">"å°æ—¶é˜´å½±"</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">"hourlyShade"</span> },
];

<span class="hljs-comment">// æœˆä»½åç§°</span>
<span class="hljs-keyword">const</span> monthNames = [
  <span class="hljs-string">"Jan"</span>,
  <span class="hljs-string">"Feb"</span>,
  <span class="hljs-string">"Mar"</span>,
  <span class="hljs-string">"Apr"</span>,
  <span class="hljs-string">"May"</span>,
  <span class="hljs-string">"Jun"</span>,
  <span class="hljs-string">"Jul"</span>,
  <span class="hljs-string">"Aug"</span>,
  <span class="hljs-string">"Sep"</span>,
  <span class="hljs-string">"Oct"</span>,
  <span class="hljs-string">"Nov"</span>,
  <span class="hljs-string">"Dec"</span>,
];

<span class="hljs-comment">// å½“å‰å›¾å±‚</span>
<span class="hljs-keyword">const</span> [layerId, setLayerId] = useState&lt;<span class="hljs-title class_">LayerId</span> | <span class="hljs-string">"none"</span>&gt;(<span class="hljs-string">"none"</span>);
<span class="hljs-comment">// å½“å‰å›¾å±‚å®ä¾‹ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> [layerInstance, setLayerInstance] = useState&lt;<span class="hljs-built_in">any</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// layer Api Data</span>
<span class="hljs-keyword">const</span> [layerData, setLayerData] = useState&lt;<span class="hljs-built_in">any</span>&gt;(<span class="hljs-literal">null</span>);
<span class="hljs-comment">// GroundOverlayå¯¹è±¡ï¼ˆç›–åœ¨å›¾å±‚ä¸Šçš„æ•°æ®ï¼‰</span>
<span class="hljs-keyword">const</span> [overlays, setOverlays] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">GroundOverlay</span>[] | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">const</span> [month, setMonth] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
<span class="hljs-keyword">const</span> [day, setDay] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">14</span>);
<span class="hljs-keyword">const</span> [hour, setHour] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

<span class="hljs-comment">// æ˜¯å¦å±•ç¤ºé®ç½©å±‚</span>
<span class="hljs-keyword">const</span> [showRoof, setShowRoof] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
</code></pre>
<h4 data-id="heading-43">è¯·æ±‚æ¥å£</h4>
<p>éœ€è¦å…ˆæ‹¿åˆ°ä¸€ä¸ªåœ°ç‚¹çš„ <strong>ç»çº¬åº¦</strong>ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨ <code>buildingInsights:findClosest</code> æ¥å£æ‹¿åˆ°å»ºç­‘ç‰©ä¿¡æ¯ï¼Œèƒ½å¤Ÿè·å–åˆ°å»ºç­‘ç‰©çš„ <strong>ä¸­å¿ƒç‚¹ï¼Œå»ºç­‘ç‰©è¾¹ç•Œä¿¡æ¯</strong>ï¼Œéšåè°ƒå– <code>Layer Api</code> æ‹¿åˆ° <code>TIFF</code> æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getLayerData</span>(<span class="hljs-params">
_layerId: LayerId | <span class="hljs-string">"none"</span>,
buildData: BuildingInsightsResponse,
</span>) {
    <span class="hljs-comment">// ä¸­å¿ƒç‚¹ç»çº¬åº¦    </span>
    <span class="hljs-keyword">const</span> center = buildData.<span class="hljs-property">center</span>;
    <span class="hljs-comment">// è¾¹ç•Œç‚¹ç»çº¬åº¦</span>
    <span class="hljs-keyword">const</span> ne = buildData.<span class="hljs-property">boundingBox</span>.<span class="hljs-property">ne</span>;
    <span class="hljs-keyword">const</span> sw = buildData.<span class="hljs-property">boundingBox</span>.<span class="hljs-property">sw</span>;
    <span class="hljs-comment">// è®¡ç®—å±•ç¤ºå†…å®¹åŠå¾„</span>
    <span class="hljs-keyword">const</span> diameter = google.<span class="hljs-property">maps</span>.<span class="hljs-property">geometry</span>.<span class="hljs-property">spherical</span>.<span class="hljs-title function_">computeDistanceBetween</span>(
      <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">LatLng</span>(ne.<span class="hljs-property">latitude</span>, ne.<span class="hljs-property">longitude</span>),
      <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">LatLng</span>(sw.<span class="hljs-property">latitude</span>, sw.<span class="hljs-property">longitude</span>)
    );
    <span class="hljs-keyword">const</span> radius = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(diameter / <span class="hljs-number">2</span>);
    <span class="hljs-comment">// radiusåŠå¾„å¯ä»¥è‡ªå®šä¹‰è®¾ç½®ï¼Œå¯ä»¥ä¸éœ€è¦è®¡ç®—</span>
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getDataLayerUrls</span>(center, radius, apiKey);
    <span class="hljs-title function_">setLayerData</span>(res);
    <span class="hljs-keyword">return</span> res;
}
</code></pre>
<h4 data-id="heading-44">ä¸› <code>Solar Api</code>ä¸‹è½½ <code>TIFF</code> åƒç´ æ•°æ®</h4>
<p>éœ€è¦å®‰è£…ä¸‰ä¸ªåº“ï¼Œç”¨æ¥è§£ææ•°æ®ã€‚</p>
<ul>
<li>geotiff</li>
<li>geotiff-geokeys-to-proj4</li>
<li>proj4</li>
</ul>
<pre><code class="hljs language-ts" lang="ts">
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> geotiff <span class="hljs-keyword">from</span> <span class="hljs-string">'geotiff'</span>;
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> geokeysToProj4 <span class="hljs-keyword">from</span> <span class="hljs-string">'geotiff-geokeys-to-proj4'</span>;
<span class="hljs-keyword">import</span> proj4 <span class="hljs-keyword">from</span> <span class="hljs-string">'proj4'</span>;

<span class="hljs-comment">/**
 * Downloads the pixel values for a Data Layer URL from the Solar API.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string</span>} url        URL from the Data Layers response.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string</span>} apiKey     Google Cloud API key.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Promise&lt;GeoTiff&gt;</span>}  Pixel values with shape and lat/lon bounds.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">downloadGeoTIFF</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, apiKey: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GeoTiff</span>&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Downloading data layer: <span class="hljs-subst">${url}</span>`</span>);

  <span class="hljs-comment">// Include your Google Cloud API key in the Data Layers URL.</span>
  <span class="hljs-keyword">const</span> solarUrl = url.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'solar.googleapis.com'</span>) ? url + <span class="hljs-string">`&amp;key=<span class="hljs-subst">${apiKey}</span>`</span> : url;
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(solarUrl);
  <span class="hljs-keyword">if</span> (response.<span class="hljs-property">status</span> != <span class="hljs-number">200</span>) {
    <span class="hljs-keyword">const</span> error = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`downloadGeoTIFF failed: <span class="hljs-subst">${url}</span>\n`</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }

  <span class="hljs-comment">// Get the GeoTIFF rasters, which are the pixel values for each band.</span>
  <span class="hljs-keyword">const</span> arrayBuffer = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">arrayBuffer</span>();
  <span class="hljs-keyword">const</span> tiff = <span class="hljs-keyword">await</span> geotiff.<span class="hljs-title function_">fromArrayBuffer</span>(arrayBuffer);
  <span class="hljs-keyword">const</span> image = <span class="hljs-keyword">await</span> tiff.<span class="hljs-title function_">getImage</span>();
  <span class="hljs-keyword">const</span> rasters = <span class="hljs-keyword">await</span> image.<span class="hljs-title function_">readRasters</span>();

  <span class="hljs-comment">// Reproject the bounding box into lat/lon coordinates.</span>
  <span class="hljs-keyword">const</span> geoKeys = image.<span class="hljs-title function_">getGeoKeys</span>();
  <span class="hljs-keyword">const</span> projObj = geokeysToProj4.<span class="hljs-title function_">toProj4</span>(geoKeys);
  <span class="hljs-keyword">const</span> projection = <span class="hljs-title function_">proj4</span>(projObj.<span class="hljs-property">proj4</span>, <span class="hljs-string">'WGS84'</span>);
  <span class="hljs-keyword">const</span> box = image.<span class="hljs-title function_">getBoundingBox</span>();
  <span class="hljs-keyword">const</span> sw = projection.<span class="hljs-title function_">forward</span>({
    <span class="hljs-attr">x</span>: box[<span class="hljs-number">0</span>] * projObj.<span class="hljs-property">coordinatesConversionParameters</span>.<span class="hljs-property">x</span>,
    <span class="hljs-attr">y</span>: box[<span class="hljs-number">1</span>] * projObj.<span class="hljs-property">coordinatesConversionParameters</span>.<span class="hljs-property">y</span>,
  });
  <span class="hljs-keyword">const</span> ne = projection.<span class="hljs-title function_">forward</span>({
    <span class="hljs-attr">x</span>: box[<span class="hljs-number">2</span>] * projObj.<span class="hljs-property">coordinatesConversionParameters</span>.<span class="hljs-property">x</span>,
    <span class="hljs-attr">y</span>: box[<span class="hljs-number">3</span>] * projObj.<span class="hljs-property">coordinatesConversionParameters</span>.<span class="hljs-property">y</span>,
  });

  <span class="hljs-keyword">return</span> {
    <span class="hljs-comment">// Width and height of the data layer image in pixels.</span>
    <span class="hljs-comment">// Used to know the row and column since Javascript</span>
    <span class="hljs-comment">// stores the values as flat arrays.</span>
    <span class="hljs-attr">width</span>: rasters.<span class="hljs-property">width</span>,
    <span class="hljs-attr">height</span>: rasters.<span class="hljs-property">height</span>,
    <span class="hljs-comment">// Each raster reprents the pixel values of each band.</span>
    <span class="hljs-comment">// We convert them from `geotiff.TypedArray`s into plain</span>
    <span class="hljs-comment">// Javascript arrays to make them easier to process.</span>
    <span class="hljs-attr">rasters</span>: [...<span class="hljs-title class_">Array</span>(rasters.<span class="hljs-property">length</span>).<span class="hljs-title function_">keys</span>()].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span>
      <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(rasters[i] <span class="hljs-keyword">as</span> geotiff.<span class="hljs-property">TypedArray</span>),
    ),
    <span class="hljs-comment">// The bounding box as a lat/lon rectangle.</span>
    <span class="hljs-attr">bounds</span>: {
      <span class="hljs-attr">north</span>: ne.<span class="hljs-property">y</span>,
      <span class="hljs-attr">south</span>: sw.<span class="hljs-property">y</span>,
      <span class="hljs-attr">east</span>: ne.<span class="hljs-property">x</span>,
      <span class="hljs-attr">west</span>: sw.<span class="hljs-property">x</span>,
    },
  };
}
<span class="hljs-comment">// [END solar_api_download_geotiff]</span>
</code></pre>
<h4 data-id="heading-45">æ ¹æ®ä¸åŒçš„å›¾å±‚ç±»å‹ï¼Œæ‹¿åˆ°å¯¹åº”çš„å›¾å±‚æ•°æ®ï¼Œé€šè¿‡ render å‡½æ•°æ¸²æŸ“</h4>
<p>æ¸²æŸ“åˆ°HTML Canvasç”»å¸ƒ</p>
<ul>
<li>å¯¹åº”å›¾å±‚ç±»å‹çš„è‰²å€¼èŒƒå›´</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"> export const <span class="hljs-attr">binaryPalette</span> = [<span class="hljs-string">'212121'</span>, <span class="hljs-string">'B3E5FC'</span>]<span class="hljs-comment">;</span>
 export const <span class="hljs-attr">rainbowPalette</span> = [<span class="hljs-string">'3949AB'</span>, <span class="hljs-string">'81D4FA'</span>, <span class="hljs-string">'66BB6A'</span>, <span class="hljs-string">'FFE082'</span>, <span class="hljs-string">'E53935'</span>]<span class="hljs-comment">;</span>
 export const <span class="hljs-attr">ironPalette</span> = [<span class="hljs-string">'00000A'</span>, <span class="hljs-string">'91009C'</span>, <span class="hljs-string">'E64616'</span>, <span class="hljs-string">'FEB400'</span>, <span class="hljs-string">'FFFFF6'</span>]<span class="hljs-comment">;</span>
 export const <span class="hljs-attr">sunlightPalette</span> = [<span class="hljs-string">'212121'</span>, <span class="hljs-string">'FFCA28'</span>]<span class="hljs-comment">;</span>
</code></pre>
<h5 data-id="heading-46">RGB GeoTiff æ¸²æŸ“å‡½æ•°</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// [START visualize_render_rgb]</span>
<span class="hljs-comment">/**
 * Renders an RGB GeoTiff image into an HTML canvas.
 *
 * The GeoTiff image must include 3 rasters (bands) which
 * correspond to [Red, Green, Blue] in that order.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">GeoTiff</span>} rgb   GeoTiff with RGB values of the image.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">GeoTiff</span>} mask  Optional mask for transparency, defaults to opaque.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">HTMLCanvasElement</span>}  Canvas element with the rendered image.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderRGB</span>(<span class="hljs-params">rgb: GeoTiff, mask?: GeoTiff</span>): <span class="hljs-title class_">HTMLCanvasElement</span> {
  <span class="hljs-comment">// Create an HTML canvas to draw the image.</span>
  <span class="hljs-comment">// https://www.w3schools.com/tags/canvas_createimagedata.asp</span>
  <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);

  <span class="hljs-comment">// Set the canvas size to the mask size if it's available,</span>
  <span class="hljs-comment">// otherwise set it to the RGB data layer size.</span>
  canvas.<span class="hljs-property">width</span> = mask ? mask.<span class="hljs-property">width</span> : rgb.<span class="hljs-property">width</span>;
  canvas.<span class="hljs-property">height</span> = mask ? mask.<span class="hljs-property">height</span> : rgb.<span class="hljs-property">height</span>;

  <span class="hljs-comment">// Since the mask size can be different than the RGB data layer size,</span>
  <span class="hljs-comment">// we calculate the "delta" between the RGB layer size and the canvas/mask</span>
  <span class="hljs-comment">// size. For example, if the RGB layer size is the same as the canvas size,</span>
  <span class="hljs-comment">// the delta is 1. If the RGB layer size is smaller than the canvas size,</span>
  <span class="hljs-comment">// the delta would be greater than 1.</span>
  <span class="hljs-comment">// This is used to translate the index from the canvas to the RGB layer.</span>
  <span class="hljs-keyword">const</span> dw = rgb.<span class="hljs-property">width</span> / canvas.<span class="hljs-property">width</span>;
  <span class="hljs-keyword">const</span> dh = rgb.<span class="hljs-property">height</span> / canvas.<span class="hljs-property">height</span>;

  <span class="hljs-comment">// Get the canvas image data buffer.</span>
  <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>)!;
  <span class="hljs-keyword">const</span> img = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);

  <span class="hljs-comment">// Fill in every pixel in the canvas with the corresponding RGB layer value.</span>
  <span class="hljs-comment">// Since Javascript doesn't support multidimensional arrays or tensors,</span>
  <span class="hljs-comment">// everything is stored in flat arrays and we have to keep track of the</span>
  <span class="hljs-comment">// indices for each row and column ourselves.</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = <span class="hljs-number">0</span>; y &lt; canvas.<span class="hljs-property">height</span>; y++) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = <span class="hljs-number">0</span>; x &lt; canvas.<span class="hljs-property">width</span>; x++) {
      <span class="hljs-comment">// RGB index keeps track of the RGB layer position.</span>
      <span class="hljs-comment">// This is multiplied by the deltas since it might be a different</span>
      <span class="hljs-comment">// size than the image size.</span>
      <span class="hljs-keyword">const</span> rgbIdx = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(y * dh) * rgb.<span class="hljs-property">width</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(x * dw);
      <span class="hljs-comment">// Mask index keeps track of the mask layer position.</span>
      <span class="hljs-keyword">const</span> maskIdx = y * canvas.<span class="hljs-property">width</span> + x;

      <span class="hljs-comment">// Image index keeps track of the canvas image position.</span>
      <span class="hljs-comment">// HTML canvas expects a flat array with consecutive RGBA values.</span>
      <span class="hljs-comment">// Each value in the image buffer must be between 0 and 255.</span>
      <span class="hljs-comment">// The Alpha value is the transparency of that pixel,</span>
      <span class="hljs-comment">// if a mask was not provided, we default to 255 which is opaque.</span>
      <span class="hljs-keyword">const</span> imgIdx = y * canvas.<span class="hljs-property">width</span> * <span class="hljs-number">4</span> + x * <span class="hljs-number">4</span>;
      img.<span class="hljs-property">data</span>[imgIdx + <span class="hljs-number">0</span>] = rgb.<span class="hljs-property">rasters</span>[<span class="hljs-number">0</span>][rgbIdx]; <span class="hljs-comment">// Red</span>
      img.<span class="hljs-property">data</span>[imgIdx + <span class="hljs-number">1</span>] = rgb.<span class="hljs-property">rasters</span>[<span class="hljs-number">1</span>][rgbIdx]; <span class="hljs-comment">// Green</span>
      img.<span class="hljs-property">data</span>[imgIdx + <span class="hljs-number">2</span>] = rgb.<span class="hljs-property">rasters</span>[<span class="hljs-number">2</span>][rgbIdx]; <span class="hljs-comment">// Blue</span>
      img.<span class="hljs-property">data</span>[imgIdx + <span class="hljs-number">3</span>] = mask <span class="hljs-comment">// Alpha</span>
        ? mask.<span class="hljs-property">rasters</span>[<span class="hljs-number">0</span>][maskIdx] * <span class="hljs-number">255</span>
        : <span class="hljs-number">255</span>;
    }
  }

  <span class="hljs-comment">// Draw the image data buffer into the canvas context.</span>
  ctx.<span class="hljs-title function_">putImageData</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> canvas;
}
<span class="hljs-comment">// [END visualize_render_rgb]</span>
</code></pre>
<h5 data-id="heading-47">GeoTiff æ¸²æŸ“å‡½æ•°</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// [START visualize_render_palette]</span>
<span class="hljs-comment">/**
 * Renders a single value GeoTiff image into an HTML canvas.
 *
 * The GeoTiff image must include 1 raster (band) which contains
 * the values we want to display.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">GeoTiff</span>}  data    GeoTiff with the values of interest.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">GeoTiff</span>}  mask    Optional mask for transparency, defaults to opaque.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string[]</span>} colors  Hex color palette, defaults to ['000000', 'ffffff'].
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>}   min     Minimum value of the data range, defaults to 0.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>}   max     Maximum value of the data range, defaults to 1.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>}   index   Raster index for the data, defaults to 0.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">HTMLCanvasElement</span>}  Canvas element with the rendered image.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderPalette</span>(<span class="hljs-params">{
  data,
  mask,
  colors,
  min,
  max,
  index,
}: {
  data: GeoTiff;
  mask?: GeoTiff;
  colors?: <span class="hljs-built_in">string</span>[];
  min?: <span class="hljs-built_in">number</span>;
  max?: <span class="hljs-built_in">number</span>;
  index?: <span class="hljs-built_in">number</span>;
}</span>): <span class="hljs-title class_">HTMLCanvasElement</span> {
  <span class="hljs-comment">// First create a palette from a list of hex colors.</span>
  <span class="hljs-keyword">const</span> palette = <span class="hljs-title function_">createPalette</span>(colors ?? [<span class="hljs-string">'000000'</span>, <span class="hljs-string">'ffffff'</span>]);
  <span class="hljs-comment">// Normalize each value of our raster/band of interest into indices,</span>
  <span class="hljs-comment">// such that they always map into a value within the palette.</span>
  <span class="hljs-keyword">const</span> indices = data.<span class="hljs-property">rasters</span>[index ?? <span class="hljs-number">0</span>]
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> <span class="hljs-title function_">normalize</span>(x, max ?? <span class="hljs-number">1</span>, min ?? <span class="hljs-number">0</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x * (palette.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>)));
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">renderRGB</span>(
    {
      ...data,
      <span class="hljs-comment">// Map each index into the corresponding RGB values.</span>
      <span class="hljs-attr">rasters</span>: [
        indices.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i: <span class="hljs-built_in">number</span></span>) =&gt;</span> palette[i].<span class="hljs-property">r</span>),
        indices.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i: <span class="hljs-built_in">number</span></span>) =&gt;</span> palette[i].<span class="hljs-property">g</span>),
        indices.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i: <span class="hljs-built_in">number</span></span>) =&gt;</span> palette[i].<span class="hljs-property">b</span>),
      ],
    },
    mask,
  );
}

<span class="hljs-comment">/**
 * Creates an {r, g, b} color palette from a hex list of colors.
 *
 * Each {r, g, b} value is a number between 0 and 255.
 * The created palette is always of size 256, regardless of the number of
 * hex colors passed in. Inbetween values are interpolated.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string[]</span>} hexColors  List of hex colors for the palette.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">{r, g, b</span>}[]}         RGB values for the color palette.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createPalette</span>(<span class="hljs-params">hexColors: <span class="hljs-built_in">string</span>[]</span>): { <span class="hljs-attr">r</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">g</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> }[] {
  <span class="hljs-comment">// Map each hex color into an RGB value.</span>
  <span class="hljs-keyword">const</span> rgb = hexColors.<span class="hljs-title function_">map</span>(colorToRGB);
  <span class="hljs-comment">// Create a palette with 256 colors derived from our rgb colors.</span>
  <span class="hljs-keyword">const</span> size = <span class="hljs-number">256</span>;
  <span class="hljs-keyword">const</span> step = (rgb.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) / (size - <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>(size)
    .<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>)
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> {
      <span class="hljs-comment">// Get the lower and upper indices for each color.</span>
      <span class="hljs-keyword">const</span> index = i * step;
      <span class="hljs-keyword">const</span> lower = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(index);
      <span class="hljs-keyword">const</span> upper = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(index);
      <span class="hljs-comment">// Interpolate between the colors to get the shades.</span>
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">r</span>: <span class="hljs-title function_">lerp</span>(rgb[lower].<span class="hljs-property">r</span>, rgb[upper].<span class="hljs-property">r</span>, index - lower),
        <span class="hljs-attr">g</span>: <span class="hljs-title function_">lerp</span>(rgb[lower].<span class="hljs-property">g</span>, rgb[upper].<span class="hljs-property">g</span>, index - lower),
        <span class="hljs-attr">b</span>: <span class="hljs-title function_">lerp</span>(rgb[lower].<span class="hljs-property">b</span>, rgb[upper].<span class="hljs-property">b</span>, index - lower),
      };
    });
}

<span class="hljs-comment">/**
 * Convert a hex color into an {r, g, b} color.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">string</span>} color  Hex color like 0099FF or #0099FF.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">{r, g, b</span>}}     RGB values for that color.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">colorToRGB</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>): { <span class="hljs-attr">r</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">g</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span> } {
  <span class="hljs-keyword">const</span> hex = color.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'#'</span>) ? color.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>) : color;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">r</span>: <span class="hljs-built_in">parseInt</span>(hex.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), <span class="hljs-number">16</span>),
    <span class="hljs-attr">g</span>: <span class="hljs-built_in">parseInt</span>(hex.<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>), <span class="hljs-number">16</span>),
    <span class="hljs-attr">b</span>: <span class="hljs-built_in">parseInt</span>(hex.<span class="hljs-title function_">substring</span>(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>), <span class="hljs-number">16</span>),
  };
}

<span class="hljs-comment">/**
 * Normalizes a number to a given data range.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} x    Value of interest.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} max  Maximum value in data range, defaults to 1.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} min  Minimum value in data range, defaults to 0.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>}      Normalized value.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">normalize</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, max: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>, min: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">const</span> y = (x - min) / (max - min);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">clamp</span>(y, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
}

<span class="hljs-comment">/**
 * Calculates the linear interpolation for a value within a range.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} x  Lower value in the range, when `t` is 0.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} y  Upper value in the range, when `t` is 1.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} t  "Time" between 0 and 1.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>}    Inbetween value for that "time".
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">lerp</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, y: <span class="hljs-built_in">number</span>, t: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> x + t * (y - x);
}

<span class="hljs-comment">/**
 * Clamps a value to always be within a range.
 *
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} x    Value to clamp.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} min  Minimum value in the range.
 * <span class="hljs-doctag">@param</span>  {<span class="hljs-type">number</span>} max  Maximum value in the range.
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">number</span>}      Clamped value.
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">clamp</span>(<span class="hljs-params">x: <span class="hljs-built_in">number</span>, min: <span class="hljs-built_in">number</span>, max: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(x, min), max);
}
<span class="hljs-comment">// [END visualize_render_palette]</span>
</code></pre>
<h5 data-id="heading-48">è·å–å¯¹åº”ç±»å‹çš„render</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Palette</span> {
   <span class="hljs-attr">colors</span>: <span class="hljs-built_in">string</span>[];
   <span class="hljs-attr">min</span>: <span class="hljs-built_in">string</span>;
   <span class="hljs-attr">max</span>: <span class="hljs-built_in">string</span>;
 }
 
 <span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Layer</span> {
   <span class="hljs-attr">id</span>: <span class="hljs-title class_">LayerId</span>;
   <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly: <span class="hljs-built_in">boolean</span>, month: <span class="hljs-built_in">number</span>, day: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-title class_">HTMLCanvasElement</span>[];
   <span class="hljs-attr">bounds</span>: <span class="hljs-title class_">Bounds</span>;
   palette?: <span class="hljs-title class_">Palette</span>;
 }
 
 <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getLayer</span>(<span class="hljs-params">
   layerId: LayerId,
   urls: DataLayersResponse,
   googleMapsApiKey: <span class="hljs-built_in">string</span>,
 </span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Layer</span>&gt; {
   <span class="hljs-keyword">const</span> <span class="hljs-attr">get</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-title class_">LayerId</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Layer</span>&gt;&gt; = {
     <span class="hljs-attr">mask</span>: <span class="hljs-keyword">async</span> () =&gt; {
       <span class="hljs-keyword">const</span> mask = <span class="hljs-keyword">await</span> <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">maskUrl</span>, googleMapsApiKey);
       <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(mask);
       
       <span class="hljs-keyword">const</span> colors = binaryPalette;
       <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">id</span>: layerId,
         <span class="hljs-attr">bounds</span>: mask.<span class="hljs-property">bounds</span>,
         <span class="hljs-attr">palette</span>: {
           <span class="hljs-attr">colors</span>: colors,
           <span class="hljs-attr">min</span>: <span class="hljs-string">'No roof'</span>,
           <span class="hljs-attr">max</span>: <span class="hljs-string">'Roof'</span>,
         },
         <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly</span>) =&gt;</span> {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(showRoofOnly);
          
          <span class="hljs-keyword">return</span> [
            <span class="hljs-title function_">renderPalette</span>({
              <span class="hljs-attr">data</span>: mask,
              <span class="hljs-attr">mask</span>: showRoofOnly ? mask : <span class="hljs-literal">undefined</span>,
              <span class="hljs-attr">colors</span>: colors,
            }),
          ]
         },
       };
     },
     <span class="hljs-attr">dsm</span>: <span class="hljs-keyword">async</span> () =&gt; {
       <span class="hljs-keyword">const</span> [mask, data] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">maskUrl</span>, googleMapsApiKey),
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">dsmUrl</span>, googleMapsApiKey),
       ]);
       <span class="hljs-keyword">const</span> sortedValues = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(data.<span class="hljs-property">rasters</span>[<span class="hljs-number">0</span>]).<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x - y);
       <span class="hljs-keyword">const</span> minValue = sortedValues[<span class="hljs-number">0</span>];
       <span class="hljs-keyword">const</span> maxValue = sortedValues.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>];
       <span class="hljs-keyword">const</span> colors = rainbowPalette;
       <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">id</span>: layerId,
         <span class="hljs-attr">bounds</span>: mask.<span class="hljs-property">bounds</span>,
         <span class="hljs-attr">palette</span>: {
           <span class="hljs-attr">colors</span>: colors,
           <span class="hljs-attr">min</span>: <span class="hljs-string">`<span class="hljs-subst">${minValue.toFixed(<span class="hljs-number">1</span>)}</span> m`</span>,
           <span class="hljs-attr">max</span>: <span class="hljs-string">`<span class="hljs-subst">${maxValue.toFixed(<span class="hljs-number">1</span>)}</span> m`</span>,
         },
         <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly</span>) =&gt;</span> [
           <span class="hljs-title function_">renderPalette</span>({
             <span class="hljs-attr">data</span>: data,
             <span class="hljs-attr">mask</span>: showRoofOnly ? mask : <span class="hljs-literal">undefined</span>,
             <span class="hljs-attr">colors</span>: colors,
             <span class="hljs-attr">min</span>: sortedValues[<span class="hljs-number">0</span>],
             <span class="hljs-attr">max</span>: sortedValues.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>],
           }),
         ],
       };
     },
     <span class="hljs-attr">rgb</span>: <span class="hljs-keyword">async</span> () =&gt; {
       <span class="hljs-keyword">const</span> [mask, data] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">maskUrl</span>, googleMapsApiKey),
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">rgbUrl</span>, googleMapsApiKey),
       ]);
       <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">id</span>: layerId,
         <span class="hljs-attr">bounds</span>: mask.<span class="hljs-property">bounds</span>,
         <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly</span>) =&gt;</span> [<span class="hljs-title function_">renderRGB</span>(data, showRoofOnly ? mask : <span class="hljs-literal">undefined</span>)],
       };
     },
     <span class="hljs-attr">annualFlux</span>: <span class="hljs-keyword">async</span> () =&gt; {
       <span class="hljs-keyword">const</span> [mask, data] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">maskUrl</span>, googleMapsApiKey),
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">annualFluxUrl</span>, googleMapsApiKey),
       ]);
       <span class="hljs-keyword">const</span> colors = ironPalette;
       <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">id</span>: layerId,
         <span class="hljs-attr">bounds</span>: mask.<span class="hljs-property">bounds</span>,
         <span class="hljs-attr">palette</span>: {
           <span class="hljs-attr">colors</span>: colors,
           <span class="hljs-attr">min</span>: <span class="hljs-string">'Shady'</span>,
           <span class="hljs-attr">max</span>: <span class="hljs-string">'Sunny'</span>,
         },
         <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly</span>) =&gt;</span> [
           <span class="hljs-title function_">renderPalette</span>({
             <span class="hljs-attr">data</span>: data,
             <span class="hljs-attr">mask</span>: showRoofOnly ? mask : <span class="hljs-literal">undefined</span>,
             <span class="hljs-attr">colors</span>: colors,
             <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>,
             <span class="hljs-attr">max</span>: <span class="hljs-number">1800</span>,
           }),
         ],
       };
     },
     <span class="hljs-attr">monthlyFlux</span>: <span class="hljs-keyword">async</span> () =&gt; {
       <span class="hljs-keyword">const</span> [mask, data] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">maskUrl</span>, googleMapsApiKey),
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">monthlyFluxUrl</span>, googleMapsApiKey),
       ]);
       <span class="hljs-keyword">const</span> colors = ironPalette;
       <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">id</span>: layerId,
         <span class="hljs-attr">bounds</span>: mask.<span class="hljs-property">bounds</span>,
         <span class="hljs-attr">palette</span>: {
           <span class="hljs-attr">colors</span>: colors,
           <span class="hljs-attr">min</span>: <span class="hljs-string">'Shady'</span>,
           <span class="hljs-attr">max</span>: <span class="hljs-string">'Sunny'</span>,
         },
         <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly</span>) =&gt;</span>
           [...<span class="hljs-title class_">Array</span>(<span class="hljs-number">12</span>).<span class="hljs-title function_">keys</span>()].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">month</span>) =&gt;</span>
             <span class="hljs-title function_">renderPalette</span>({
               <span class="hljs-attr">data</span>: data,
               <span class="hljs-attr">mask</span>: showRoofOnly ? mask : <span class="hljs-literal">undefined</span>,
               <span class="hljs-attr">colors</span>: colors,
               <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>,
               <span class="hljs-attr">max</span>: <span class="hljs-number">200</span>,
               <span class="hljs-attr">index</span>: month,
             }),
           ),
       };
     },
     <span class="hljs-attr">hourlyShade</span>: <span class="hljs-keyword">async</span> () =&gt; {
       <span class="hljs-keyword">const</span> [mask, ...months] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
         <span class="hljs-title function_">downloadGeoTIFF</span>(urls.<span class="hljs-property">maskUrl</span>, googleMapsApiKey),
         ...urls.<span class="hljs-property">hourlyShadeUrls</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span> <span class="hljs-title function_">downloadGeoTIFF</span>(url, googleMapsApiKey)),
       ]);
       <span class="hljs-keyword">const</span> colors = sunlightPalette;
       <span class="hljs-keyword">return</span> {
         <span class="hljs-attr">id</span>: layerId,
         <span class="hljs-attr">bounds</span>: mask.<span class="hljs-property">bounds</span>,
         <span class="hljs-attr">palette</span>: {
           <span class="hljs-attr">colors</span>: colors,
           <span class="hljs-attr">min</span>: <span class="hljs-string">'Shade'</span>,
           <span class="hljs-attr">max</span>: <span class="hljs-string">'Sun'</span>,
         },
         <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">showRoofOnly, month, day</span>) =&gt;</span>
           [...<span class="hljs-title class_">Array</span>(<span class="hljs-number">24</span>).<span class="hljs-title function_">keys</span>()].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">hour</span>) =&gt;</span>
             <span class="hljs-title function_">renderPalette</span>({
               <span class="hljs-attr">data</span>: {
                 ...months[month],
                 <span class="hljs-attr">rasters</span>: months[month].<span class="hljs-property">rasters</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">values</span>) =&gt;</span>
                   values.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x &amp; (<span class="hljs-number">1</span> &lt;&lt; (day - <span class="hljs-number">1</span>))),
                 ),
               },
               <span class="hljs-attr">mask</span>: showRoofOnly ? mask : <span class="hljs-literal">undefined</span>,
               <span class="hljs-attr">colors</span>: colors,
               <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>,
               <span class="hljs-attr">max</span>: <span class="hljs-number">1</span>,
               <span class="hljs-attr">index</span>: hour,
             }),
           ),
       };
     },
   };
   <span class="hljs-keyword">try</span> {
     <span class="hljs-keyword">return</span> get[layerId]();
   } <span class="hljs-keyword">catch</span> (e) {
     <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error getting layer: <span class="hljs-subst">${layerId}</span>\n`</span>, e);
     <span class="hljs-keyword">throw</span> e;
   }
 }
</code></pre>
<h4 data-id="heading-49">é€šè¿‡<code>GroundOverlay</code>å®é™…æ¸²æŸ“</h4>
<p>å› ä¸ºæœ‰ <strong>æœˆæ—¥ç…§ã€å°æ—¶é˜´å½±</strong>ï¼Œæ‰€ä»¥æ¸²æŸ“å›¾å±‚å¯èƒ½ä¼šæœ‰å¤šä¸ª, <code>overlays</code> ç”¨çš„æ˜¯æ•°ç»„ã€‚</p>
<ul>
<li>æ¸…é™¤æ¸²æŸ“</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ¸…é™¤å•ä¸ª</span>
overlay.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>)

<span class="hljs-comment">// å¤šä¸ª</span>
overlays &amp;&amp; overlays.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">overlay</span>) =&gt;</span> overlay.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>));
</code></pre>
<ul>
<li>æ¸²æŸ“å‡½æ•°</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">DrawerLayer</span>(<span class="hljs-params">_layerId: LayerId | <span class="hljs-string">"none"</span>, res: DataLayersResponse</span>) {
    <span class="hljs-keyword">if</span> (_layerId == <span class="hljs-string">"none"</span> || !res) {
        <span class="hljs-title function_">clearLayer</span>();
        <span class="hljs-keyword">return</span>;
    };

    <span class="hljs-keyword">let</span> <span class="hljs-attr">layerRes</span>: <span class="hljs-built_in">any</span>;
    <span class="hljs-comment">// å½“å‰åœ¨æ¸²æŸ“çš„ï¼Œå°±ä¸éœ€è¦é‡æ–°åœ¨è§£æä¸€æ¬¡æ•°æ®äº†</span>
    <span class="hljs-keyword">if</span> (layerInstance &amp;&amp; layerInstance.<span class="hljs-property">id</span> === _layerId) {
      layerRes = layerInstance;
    } <span class="hljs-keyword">else</span> {
      layerRes = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getLayer</span>(_layerId, res, apiKey);
      <span class="hljs-title function_">setLayerInstance</span>(layerRes);
    }

    <span class="hljs-keyword">const</span> bounds = layerRes.<span class="hljs-property">bounds</span>;
    <span class="hljs-comment">// æ¸²æŸ“å‰ï¼Œå°†ä¹‹å‰çš„å›¾å±‚æ¸…æ‰</span>
    overlays &amp;&amp; overlays.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">overlay</span>) =&gt;</span> overlay.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>));

    <span class="hljs-comment">// é‡æ–°è·å–å›¾å±‚ä¿¡æ¯ï¼Œå†æ¬¡æ¸²æŸ“</span>
    <span class="hljs-comment">// showRoof æ§åˆ¶æ˜¯å¦éœ€è¦é®ç½©å±‚</span>
    <span class="hljs-keyword">const</span> overlaysPos = layerRes.<span class="hljs-title function_">render</span>(showRoof, month, day)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">canvas</span>) =&gt;</span> <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">GroundOverlay</span>(canvas.<span class="hljs-title function_">toDataURL</span>(), bounds));
    <span class="hljs-keyword">if</span> (![<span class="hljs-string">"monthlyFlux"</span>, <span class="hljs-string">"hourlyShade"</span>].<span class="hljs-title function_">includes</span>(layerRes.<span class="hljs-property">id</span>)) {
      overlaysPos[<span class="hljs-number">0</span>].<span class="hljs-title function_">setMap</span>(map);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æ ¹æ®å½“å‰çš„æœˆä»½ / å°æ—¶ï¼Œæ‰¾åˆ°å¯¹åº”çš„å›¾å±‚ä¿¡æ¯ï¼Œå¹¶æ¸²æŸ“</span>
      <span class="hljs-keyword">if</span> (layerInstance.<span class="hljs-property">id</span> == <span class="hljs-string">"monthlyFlux"</span>) {
        overlays.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">overlay, i</span>) =&gt;</span> overlay.<span class="hljs-title function_">setMap</span>(i == month ? map : <span class="hljs-literal">null</span>));
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (layerInstance.<span class="hljs-property">id</span> == <span class="hljs-string">"hourlyShade"</span>) {
        overlays.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">overlay, i</span>) =&gt;</span> overlay.<span class="hljs-title function_">setMap</span>(i == hour ? map : <span class="hljs-literal">null</span>));
      }
    }
    
    <span class="hljs-comment">// å­˜å‚¨å„å›¾å±‚ä¿¡æ¯</span>
    <span class="hljs-title function_">setOverlays</span>(overlaysPos);
  }
</code></pre>
<h2 data-id="heading-50">Drawer ç»˜å›¾æ¡†é€‰</h2>
<p><code>DrawingManager</code> ç±»æä¾›ä¸€ä¸ªå›¾å½¢ç•Œé¢ï¼Œä»¥ä¾›ç”¨æˆ·åœ¨åœ°å›¾ä¸Šç»˜åˆ¶å¤šè¾¹å½¢ã€çŸ©å½¢ã€å¤šæ®µçº¿ã€åœ†å½¢å’Œæ ‡è®°ã€‚</p>
<p>ç»˜å›¾åº“ç¤ºä¾‹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Fdrawinglayer%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/javascript/drawinglayer?hl=zh-cn" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<p>è¯¦ç»†å‚æ•°æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fjavascript%2Freference%2Fdrawing%3Fhl%3Dzh-cn%23DrawingManagerOptions" target="_blank" title="https://developers.google.com/maps/documentation/javascript/reference/drawing?hl=zh-cn#DrawingManagerOptions" ref="nofollow noopener noreferrer">developers.google.com/maps/documeâ€¦</a></p>
<h3 data-id="heading-51">åˆå§‹åŒ–</h3>
<p>éœ€è¦åœ¨ <code>libraries</code> åŠ è½½ <code>drawing</code> åº“</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> { isLoaded } = <span class="hljs-title function_">useLoadScript</span>({
    <span class="hljs-attr">googleMapsApiKey</span>: apiKey,
    <span class="hljs-attr">libraries</span>: [<span class="hljs-string">"places"</span>, <span class="hljs-string">"geometry"</span>, <span class="hljs-string">"marker"</span>, <span class="hljs-string">"drawing"</span>],
    <span class="hljs-attr">language</span>: <span class="hljs-string">"en"</span>,
    <span class="hljs-attr">mapIds</span>: [<span class="hljs-string">"DEMO_MAP_ID"</span>],
});
</code></pre>
<p>æ·»åŠ  <code>drawing</code> å‚æ•°åï¼Œå³å¯åˆ›å»º <code>DrawingManager</code> å¯¹è±¡ï¼Œ</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> drawingManager = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">drawing</span>.<span class="hljs-title class_">DrawingManager</span>({
    <span class="hljs-attr">drawingControl</span>: <span class="hljs-literal">true</span>,
})
drawingManager.<span class="hljs-title function_">setMap</span>(mapInstance);
</code></pre>
<ul>
<li><code>drawingControl</code> å¼€å¯å·¥å…·æ </li>
</ul>
<p>è¿™é‡Œç›®å‰çš„éœ€æ±‚åªéœ€è¦ç»˜åˆ¶å¤šè¾¹å½¢å³å¯æ”¯æ’‘ï¼Œä¾¿å…³é—­ <code>drawingControl</code>ï¼Œåªé…ç½® <code>polygonOptions</code>å³å¯ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [drawingInstance, setDrawingInstance] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">drawing</span>.<span class="hljs-property">DrawingManager</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

<span class="hljs-keyword">const</span> drawingManager = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">drawing</span>.<span class="hljs-title class_">DrawingManager</span>({
  <span class="hljs-attr">drawingMode</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">drawingControl</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">polygonOptions</span>: {
    <span class="hljs-attr">fillColor</span>: <span class="hljs-string">'#4CAF50'</span>,
    <span class="hljs-attr">fillOpacity</span>: <span class="hljs-number">0.3</span>,
    <span class="hljs-attr">strokeWeight</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">strokeColor</span>: <span class="hljs-string">'#4CAF50'</span>,
    <span class="hljs-attr">clickable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">zIndex</span>: <span class="hljs-number">1000</span>,
  },
});

drawingManager.<span class="hljs-title function_">setMap</span>(mapInstance);
<span class="hljs-title function_">setDrawingManager</span>(drawingManager);
</code></pre>
<h3 data-id="heading-52">ç»˜ç”»è¿‡ç¨‹</h3>
<ul>
<li>
<p>å¼€å§‹ç»˜ç”»</p>
<ul>
<li>ä¿å­˜ç»˜ç”»çŠ¶æ€</li>
<li>è®¾ç½®ç»˜ç”»æ¨¡å¼</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> [isDrawing, setIsDrawing] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
<span class="hljs-keyword">const</span> startDrawing = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (drawingInstance) {
      <span class="hljs-comment">// ç»˜ç”»çŠ¶æ€</span>
      <span class="hljs-title function_">setIsDrawing</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-comment">// ç»˜åˆ¶æ¨¡å¼ï¼ˆå½¢çŠ¶ï¼‰</span>
      drawingInstance.<span class="hljs-title function_">setDrawingMode</span>(google.<span class="hljs-property">maps</span>.<span class="hljs-property">drawing</span>.<span class="hljs-property">OverlayType</span>.<span class="hljs-property">POLYGON</span>);
    }
}, [drawingInstance]);
</code></pre>
<ul>
<li>
<p>ç»“æŸç»˜ç”»</p>
<ul>
<li>ç›‘å¬ <code>drawingInstance</code> ç»˜ç”»å·¥å…·çš„ <code>å¤šè¾¹å½¢-ç»˜åˆ¶å®Œæˆ</code> äº‹ä»¶</li>
<li>å›è°ƒå‡½æ•°è¿”å›ç»˜åˆ¶å®Œæˆçš„åŒºåŸŸè·¯å¾„ä¿¡æ¯ï¼›</li>
<li>å­˜å‚¨åˆ° <code>areas</code> åŒºåŸŸåˆ—è¡¨ä¸­ï¼Œåœæ­¢ç»˜ç”»çŠ¶æ€ï¼›</li>
<li>ç»™å½“å‰ç»˜ç”»çš„åŒºåŸŸæ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œå¯ç”¨äº æ­£é€‰/ åé€‰åŒºåŸŸã€‚</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Area</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">polygon</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Polygon</span>;
  <span class="hljs-attr">isExcluded</span>: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// å¯ç”¨åŒºåŸŸ / æ’é™¤åŒºåŸŸ</span>
}

<span class="hljs-comment">// å­˜å‚¨å·²ç»ç»˜åˆ¶å®Œæˆçš„å¤šä¸ªåŒºåŸŸçš„è·¯å¾„ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> [areas, setAreas] = useState&lt;<span class="hljs-title class_">Area</span>[]&gt;([]);

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç›‘å¬ç»˜åˆ¶å®Œæˆäº‹ä»¶</span>
    <span class="hljs-keyword">const</span> polygonCompleteListener = google.<span class="hljs-property">maps</span>.<span class="hljs-property">event</span>.<span class="hljs-title function_">addListener</span>(
      drawingInstance, 
      <span class="hljs-string">'polygoncomplete'</span>, 
      <span class="hljs-function">(<span class="hljs-params">polygon: google.maps.Polygon</span>) =&gt;</span> {
         
        <span class="hljs-comment">// æ‹¿åˆ°ç»˜åˆ¶å®Œæˆçš„å¤šè¾¹å‹è·¯å¾„</span>
        <span class="hljs-keyword">const</span> <span class="hljs-attr">newArea</span>: <span class="hljs-title class_">Area</span> = {
          <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>(),
          <span class="hljs-attr">polygon</span>: polygon,
          <span class="hljs-attr">isExcluded</span>: <span class="hljs-literal">false</span>,
        };
        <span class="hljs-title function_">setAreas</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> [...prev, newArea]);
        <span class="hljs-comment">// ä¿®æ”¹ç»˜ç”»çŠ¶æ€ï¼Œåœæ­¢ç»˜ç”»åŠ¨ä½œ</span>
        <span class="hljs-title function_">setIsDrawingEnabled</span>(<span class="hljs-literal">false</span>);
        drawingInstance.<span class="hljs-title function_">setDrawingMode</span>(<span class="hljs-literal">null</span>);
        
        
        <span class="hljs-comment">// ç»™å½“å‰ç»˜ç”»å®Œæˆçš„åŒºåŸŸï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶åˆ‡æ¢åŒºåŸŸç±»å‹</span>
        <span class="hljs-keyword">const</span> clickListener = polygon.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">setAreas</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">area</span> =&gt;</span> {
            <span class="hljs-keyword">if</span> (area.<span class="hljs-property">id</span> === newArea.<span class="hljs-property">id</span>) {
              <span class="hljs-keyword">const</span> updatedArea = { ...area, <span class="hljs-attr">isExcluded</span>: !area.<span class="hljs-property">isExcluded</span> };
              
              <span class="hljs-comment">// æ›´æ–°å¤šè¾¹å½¢æ ·å¼</span>
              polygon.<span class="hljs-title function_">setOptions</span>({
                <span class="hljs-attr">fillColor</span>: updatedArea.<span class="hljs-property">isExcluded</span> ? <span class="hljs-string">'#F44336'</span> : <span class="hljs-string">'#4CAF50'</span>,
                <span class="hljs-attr">strokeColor</span>: updatedArea.<span class="hljs-property">isExcluded</span> ? <span class="hljs-string">'#F44336'</span> : <span class="hljs-string">'#4CAF50'</span>,
              });
              
              <span class="hljs-keyword">return</span> updatedArea;
            }
            <span class="hljs-keyword">return</span> area;
          }));
        });
      }
    );
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      google.<span class="hljs-property">maps</span>.<span class="hljs-property">event</span>.<span class="hljs-title function_">removeListener</span>(polygonCompleteListener);
      google.<span class="hljs-property">maps</span>.<span class="hljs-property">event</span>.<span class="hljs-title function_">removeListener</span>(clickListener);
      drawingInstance.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>);
    };
}, [mapInstance, drawingInstance])
</code></pre>
<ul>
<li>æ¸…é™¤åŒºåŸŸ</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> clearAll = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    areas.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">area</span> =&gt;</span> {
      area.<span class="hljs-property">polygon</span>.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>);
    });
    <span class="hljs-title function_">setAreas</span>([]);
}, [areas]);
</code></pre>
<h3 data-id="heading-53">LatLng è½¬ Polygon</h3>
<ul>
<li>é€šè¿‡ç»çº¬åº¦ï¼Œåˆ›å»ºä¸€ä¸ª <code>new google.maps.Polygon</code> å¤šè¾¹å½¢</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åæ ‡ç‚¹ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">Coordinate</span> = { <span class="hljs-attr">lat</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">lng</span>: <span class="hljs-built_in">number</span> } | google.<span class="hljs-property">maps</span>.<span class="hljs-property">LatLng</span>;

<span class="hljs-comment">/**
 * åæ ‡ç‚¹æ•°ç»„è½¬Polygonå¤šè¾¹å½¢
 * 
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">coordinates</span> - åæ ‡ç‚¹æ•°ç»„ï¼Œæ”¯æŒ { lat, lng } å¯¹è±¡æˆ– google.maps.LatLng å®ä¾‹
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">isExcluded</span> - æ˜¯å¦ä¸ºæ’é™¤åŒºåŸŸï¼Œé»˜è®¤ä¸º falseï¼ˆå…è®¸åŒºåŸŸï¼‰
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">map</span> - Google Maps å®ä¾‹ï¼Œå¯é€‰ï¼Œç”¨äºè®¾ç½®å¤šè¾¹å½¢åˆ°åœ°å›¾ä¸Š
 * <span class="hljs-doctag">@returns</span> åˆ›å»ºçš„ Polygon å®ä¾‹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> coordinatesToPolygon = (
  <span class="hljs-attr">coordinates</span>: <span class="hljs-title class_">Coordinate</span>[],
  <span class="hljs-attr">isExcluded</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>,
  polygonOptions?: google.<span class="hljs-property">maps</span>.<span class="hljs-property">PolygonOptions</span>,
  map?: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Map</span>
): google.<span class="hljs-property">maps</span>.<span class="hljs-property">Polygon</span> =&gt; {
  <span class="hljs-keyword">if</span> (coordinates.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è‡³å°‘éœ€è¦3ä¸ªåæ ‡ç‚¹æ‰èƒ½å½¢æˆå¤šè¾¹å½¢'</span>);
  }
  <span class="hljs-comment">// è½¬æ¢åæ ‡æ ¼å¼</span>
  <span class="hljs-keyword">const</span> paths = coordinates.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">coord</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (coord <span class="hljs-keyword">instanceof</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">LatLng</span>) {
      <span class="hljs-keyword">return</span> coord;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">LatLng</span>(coord.<span class="hljs-property">lat</span>, coord.<span class="hljs-property">lng</span>);
  });
  <span class="hljs-comment">// åˆ›å»ºå¤šè¾¹å½¢</span>
  <span class="hljs-keyword">const</span> polygon = <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">Polygon</span>({
    <span class="hljs-attr">paths</span>: paths,
    ...{
      <span class="hljs-attr">fillColor</span>: isExcluded ? <span class="hljs-string">'#F44336'</span> : <span class="hljs-string">'#4CAF50'</span>,
      <span class="hljs-attr">fillOpacity</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">strokeWeight</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">strokeColor</span>: isExcluded ? <span class="hljs-string">'#F44336'</span> : <span class="hljs-string">'#4CAF50'</span>,
      <span class="hljs-attr">clickable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">editable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">zIndex</span>: <span class="hljs-number">1000</span>,
      ...polygonOptions
    }
  });
  <span class="hljs-comment">// å¦‚æœæä¾›äº†åœ°å›¾å®ä¾‹ï¼Œå°†å¤šè¾¹å½¢æ·»åŠ åˆ°åœ°å›¾ä¸Š</span>
  <span class="hljs-keyword">if</span> (map) {
    polygon.<span class="hljs-title function_">setMap</span>(map);
  }
  <span class="hljs-keyword">return</span> polygon;
};
</code></pre>
<h3 data-id="heading-54">Polygon è½¬ GeoJson</h3>
<ul>
<li>å•ä¸ª <code>Polygon</code> è½¬ GeoJson</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * å¤šè¾¹å½¢è½¬GeoJSON
 * 
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">polygon</span> - Google Maps Polygon å®ä¾‹
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">isExcluded</span> - æ˜¯å¦ä¸ºæ’é™¤åŒºåŸŸï¼Œé»˜è®¤ä¸º falseï¼ˆå…è®¸åŒºåŸŸï¼‰
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">properties</span> - é¢å¤–çš„å±æ€§ä¿¡æ¯
 * <span class="hljs-doctag">@returns</span> GeoJSON Feature å¯¹è±¡
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> polygonToGeoJSON = (
  <span class="hljs-attr">polygon</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Polygon</span>,
  <span class="hljs-attr">isExcluded</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>,
  <span class="hljs-attr">properties</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
): <span class="hljs-function"><span class="hljs-params">GeoJSONFeature</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> path = polygon.<span class="hljs-title function_">getPath</span>();
  <span class="hljs-comment">// ç¡®ä¿åæ ‡æ ¼å¼ä¸º [ç»åº¦, çº¬åº¦]ï¼ˆæ ‡å‡† GeoJSON æ ¼å¼ï¼‰</span>
  <span class="hljs-keyword">const</span> coordinates = path.<span class="hljs-title function_">getArray</span>().<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">latLng</span> =&gt;</span> [latLng.<span class="hljs-title function_">lng</span>(), latLng.<span class="hljs-title function_">lat</span>()]);
  
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"Feature"</span>,
    <span class="hljs-attr">geometry</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">"Polygon"</span>,
      <span class="hljs-attr">coordinates</span>: [coordinates] <span class="hljs-comment">// æ³¨æ„ï¼šGeoJSONè¦æ±‚åæ ‡æ•°ç»„çš„æ•°ç»„</span>
    },
    <span class="hljs-attr">properties</span>: {
      <span class="hljs-attr">isExcluded</span>: isExcluded,
      <span class="hljs-attr">areaType</span>: isExcluded ? <span class="hljs-string">"excluded"</span> : <span class="hljs-string">"allowed"</span>,
      ...properties
    }
  };
};
</code></pre>
<ul>
<li>å¤šä¸ª <code>Polygon</code> è½¬ GeoJson</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * å¤šä¸ªå¤šè¾¹å½¢è½¬GeoJSONï¼ˆæ”¯æŒMultiPolygonï¼‰
 * 
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">polygons</span> - Google Maps Polygon å®ä¾‹æ•°ç»„
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">isExcluded</span> - æ˜¯å¦ä¸ºæ’é™¤åŒºåŸŸï¼Œé»˜è®¤ä¸º falseï¼ˆå…è®¸åŒºåŸŸï¼‰
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">properties</span> - é¢å¤–çš„å±æ€§ä¿¡æ¯
 * <span class="hljs-doctag">@returns</span> GeoJSON Feature å¯¹è±¡ï¼ˆå¦‚æœåªæœ‰ä¸€ä¸ªå¤šè¾¹å½¢è¿”å›Polygonï¼Œå¤šä¸ªè¿”å›MultiPolygonï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> polygonListToGeoJSON = (
  <span class="hljs-attr">polygons</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Polygon</span>[],
  <span class="hljs-attr">isExcluded</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>,
  <span class="hljs-attr">properties</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; = {}
): <span class="hljs-function"><span class="hljs-params">GeoJSONFeature</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (polygons.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è‡³å°‘éœ€è¦ä¸€ä¸ªå¤šè¾¹å½¢'</span>);
  }

  <span class="hljs-keyword">if</span> (polygons.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
    <span class="hljs-comment">// å•ä¸ªå¤šè¾¹å½¢è¿”å› Polygon ç±»å‹</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">polygonToGeoJSON</span>(polygons[<span class="hljs-number">0</span>], isExcluded, properties);
  }

  <span class="hljs-comment">// å¤šä¸ªå¤šè¾¹å½¢è¿”å› MultiPolygon ç±»å‹</span>
  <span class="hljs-comment">// MultiPolygon æ ¼å¼ï¼š[[[polygon1_coords]], [[polygon2_coords]], ...]</span>
  <span class="hljs-keyword">const</span> coordinates = polygons.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">polygon</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> path = polygon.<span class="hljs-title function_">getPath</span>();
    <span class="hljs-keyword">const</span> polygonCoords = path.<span class="hljs-title function_">getArray</span>().<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">latLng</span> =&gt;</span> [latLng.<span class="hljs-title function_">lng</span>(), latLng.<span class="hljs-title function_">lat</span>()]);
    <span class="hljs-keyword">return</span> [polygonCoords];
  });

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"Feature"</span>,
    <span class="hljs-attr">geometry</span>: {
      <span class="hljs-attr">type</span>: <span class="hljs-string">"MultiPolygon"</span>,
      <span class="hljs-attr">coordinates</span>: coordinates
    },
    <span class="hljs-attr">properties</span>: {
      <span class="hljs-attr">isExcluded</span>: isExcluded,
      <span class="hljs-attr">areaType</span>: isExcluded ? <span class="hljs-string">"excluded"</span> : <span class="hljs-string">"allowed"</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">`<span class="hljs-subst">${isExcluded ? <span class="hljs-string">"æ’é™¤"</span> : <span class="hljs-string">"å…è®¸"</span>}</span>å®‰è£…å¤ªé˜³èƒ½é¢æ¿çš„å¤šè¾¹å½¢åŒºåŸŸ`</span>,
      ...properties
    }
  };
};
</code></pre>
<h3 data-id="heading-55">GeoJson è½¬ Polygon</h3>
<ul>
<li>
<p>åˆ¤æ–­<code>geoJSON</code>ç±»å‹, æ”¯æŒ <code>FeatureCollection</code> æˆ–å•ä¸ª <code>Feature</code> ï¼Œæ‹¿åˆ° <code>geoJson</code>çš„ <code>features</code> æ•°ç»„ï¼›</p>
</li>
<li>
<p>ç»™ <code>feature.properties</code> æ·»åŠ è‡ªå®šä¹‰å±æ€§</p>
</li>
<li>
<p>æ ¹æ® <code>geometry.type</code>ï¼Œæ ¹æ® <code>Polygon</code> å’Œ <code>MultiPolygon</code> åŒºåˆ†å¤„ç†é€»è¾‘ï¼›</p>
</li>
<li>
<p>æ‹¿åˆ° <code>coordinates</code>ç‚¹ä½æ•°æ®ï¼Œæ‰§è¡Œ <code>coordinatesToPolygon</code> æ ¹æ®ç»çº¬åº¦æ¸²æŸ“åŒºåŸŸå‡½æ•°ï¼›</p>
<ul>
<li>GeoJSON ä½¿ç”¨ [ç»åº¦, çº¬åº¦] æ ¼å¼</li>
<li>Google Maps ä½¿ç”¨ [çº¬åº¦, ç»åº¦] æ ¼å¼</li>
<li>éœ€è¦è½¬æ¢ï¼Œè°ƒè½¬ä¸€ä¸‹ä½ç½®</li>
</ul>
</li>
<li>
<p>åæ ‡è½¬æ¢å‡½æ•°</p>
</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * æ™ºèƒ½æ£€æµ‹åæ ‡æ ¼å¼å¹¶è½¬æ¢ä¸º LatLng
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">coordinates</span> - åæ ‡æ•°ç»„
 * <span class="hljs-doctag">@returns</span> è½¬æ¢åçš„ LatLng æ•°ç»„
 */</span>
<span class="hljs-keyword">const</span> convertCoordinatesToLatLngs = (<span class="hljs-attr">coordinates</span>: <span class="hljs-built_in">number</span>[][]): google.<span class="hljs-property">maps</span>.<span class="hljs-property">LatLng</span>[] =&gt; {
  <span class="hljs-keyword">if</span> (coordinates.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`åæ ‡ç‚¹ä¸è¶³: <span class="hljs-subst">${coordinates.length}</span> ä¸ªç‚¹ï¼Œè‡³å°‘éœ€è¦3ä¸ªç‚¹`</span>);
  }

  <span class="hljs-comment">// æ™ºèƒ½æ£€æµ‹åæ ‡æ ¼å¼ï¼šå¦‚æœç¬¬ä¸€ä¸ªåæ ‡çš„çº¬åº¦åœ¨ -90 åˆ° 90 ä¹‹é—´ï¼Œä¸”ç»åº¦åœ¨ -180 åˆ° 180 ä¹‹é—´</span>
  <span class="hljs-comment">// åˆ™è®¤ä¸ºæ˜¯ [çº¬åº¦, ç»åº¦] æ ¼å¼ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯ [ç»åº¦, çº¬åº¦] æ ¼å¼</span>
  <span class="hljs-keyword">const</span> firstCoord = coordinates[<span class="hljs-number">0</span>] <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>[];
  <span class="hljs-keyword">const</span> isLatLngFormat = firstCoord[<span class="hljs-number">0</span>] &gt;= -<span class="hljs-number">90</span> &amp;&amp; firstCoord[<span class="hljs-number">0</span>] &lt;= <span class="hljs-number">90</span> &amp;&amp; 
                        firstCoord[<span class="hljs-number">1</span>] &gt;= -<span class="hljs-number">180</span> &amp;&amp; firstCoord[<span class="hljs-number">1</span>] &lt;= <span class="hljs-number">180</span>;
  
  <span class="hljs-keyword">return</span> coordinates.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">coord</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (isLatLngFormat) {
      <span class="hljs-comment">// [çº¬åº¦, ç»åº¦] æ ¼å¼</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">LatLng</span>(coord[<span class="hljs-number">0</span>], coord[<span class="hljs-number">1</span>]);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// [ç»åº¦, çº¬åº¦] æ ¼å¼ï¼ˆæ ‡å‡† GeoJSONï¼‰</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> google.<span class="hljs-property">maps</span>.<span class="hljs-title class_">LatLng</span>(coord[<span class="hljs-number">1</span>], coord[<span class="hljs-number">0</span>]);
    }
  });
};
</code></pre>
<ul>
<li>jsonè½¬polygon</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * GeoJSONè½¬å¤šè¾¹å½¢
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">geoJSON</span> - GeoJSON Feature æˆ– FeatureCollection
 * <span class="hljs-doctag">@param</span> <span class="hljs-variable">map</span> - Google Maps å®ä¾‹ï¼Œå¯é€‰ï¼Œç”¨äºè®¾ç½®å¤šè¾¹å½¢åˆ°åœ°å›¾ä¸Š
 * <span class="hljs-doctag">@returns</span> åˆ›å»ºçš„å¤šè¾¹å½¢æ•°ç»„å’Œå¯¹åº”çš„å±æ€§ä¿¡æ¯
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> geoJSONToPolygons = (
  <span class="hljs-attr">geoJSON</span>: <span class="hljs-title class_">GeoJSONFeature</span> | <span class="hljs-title class_">GeoJSONCollection</span>,
  map?: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Map</span>
): { <span class="hljs-attr">polygons</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Polygon</span>[]; <span class="hljs-attr">properties</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;[] } =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">polygons</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Polygon</span>[] = [];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">properties</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;[] = [];

  <span class="hljs-keyword">const</span> features = geoJSON.<span class="hljs-property">type</span> === <span class="hljs-string">"FeatureCollection"</span> ? geoJSON.<span class="hljs-property">features</span> : [geoJSON];

  features.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">feature</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> isExcluded =
      feature.<span class="hljs-property">properties</span>?.<span class="hljs-property">isExcluded</span> ??
      feature.<span class="hljs-property">properties</span>?.<span class="hljs-property">areaType</span> === <span class="hljs-string">"excluded"</span>;
    <span class="hljs-keyword">const</span> featureProperties = feature.<span class="hljs-property">properties</span> || {};

    <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">type</span> === <span class="hljs-string">"Polygon"</span>) {
      <span class="hljs-comment">// å¤„ç†å•ä¸ªå¤šè¾¹å½¢</span>
      <span class="hljs-keyword">const</span> coordinates = feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>[][][];

      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> latLngs = <span class="hljs-title function_">convertCoordinatesToLatLngs</span>(coordinates[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">const</span> polygon = <span class="hljs-title function_">coordinatesToPolygon</span>(
          latLngs,
          isExcluded,
          <span class="hljs-literal">undefined</span>,
          map
        );
        <span class="hljs-keyword">if</span> (polygon) {
          polygons.<span class="hljs-title function_">push</span>(polygon);
          properties.<span class="hljs-title function_">push</span>(featureProperties);
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`åˆ›å»ºå¤šè¾¹å½¢å¤±è´¥:`</span>, error);
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">type</span> === <span class="hljs-string">"MultiPolygon"</span>) {
      <span class="hljs-comment">// å¤„ç†å¤šä¸ªå¤šè¾¹å½¢</span>
      <span class="hljs-keyword">const</span> multiPolygonCoords = feature.<span class="hljs-property">geometry</span>.<span class="hljs-property">coordinates</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>[][][][];
      multiPolygonCoords.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">polygonCoords, polygonIndex</span>) =&gt;</span> {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">const</span> latLngs = <span class="hljs-title function_">convertCoordinatesToLatLngs</span>(polygonCoords[<span class="hljs-number">0</span>]);
          <span class="hljs-keyword">const</span> polygon = <span class="hljs-title function_">coordinatesToPolygon</span>(
            latLngs,
            isExcluded,
            <span class="hljs-literal">undefined</span>,
            map
          );
          <span class="hljs-keyword">if</span> (polygon) {
            polygons.<span class="hljs-title function_">push</span>(polygon);
            properties.<span class="hljs-title function_">push</span>(featureProperties);
          }
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`åˆ›å»ºå¤šè¾¹å½¢å¤±è´¥:<span class="hljs-subst">${polygonIndex}</span>`</span>, error);
        }
      });
    }
  });

  <span class="hljs-keyword">return</span> { polygons, properties };
};
</code></pre>
<h3 data-id="heading-56">æ£€æŸ¥æ¸²æŸ“çš„å…‰ä¼æ¿æ˜¯å¦åœ¨æ¡†é€‰åŒºåŸŸå†…</h3>
<ul>
<li>æ£€æŸ¥ åæ ‡ç‚¹ æ˜¯å¦åœ¨ å¤šè¾¹å½¢å†…</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * æ£€æŸ¥ç‚¹æ˜¯å¦åœ¨å¤šè¾¹å½¢å†…
 * <span class="hljs-doctag">@param</span> point è¦æ£€æŸ¥çš„ç‚¹
 * <span class="hljs-doctag">@param</span> polygon å¤šè¾¹å½¢é¡¶ç‚¹æ•°ç»„
 * <span class="hljs-doctag">@returns</span> æ˜¯å¦åœ¨å¤šè¾¹å½¢å†…
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isPointInPolygon</span>(<span class="hljs-params">
  point: { lat: <span class="hljs-built_in">number</span>; lng: <span class="hljs-built_in">number</span> },
  polygon: google.maps.LatLng[]
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">if</span> (polygon.<span class="hljs-property">length</span> &lt; <span class="hljs-number">3</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-keyword">const</span> x = point.<span class="hljs-property">lng</span>;
  <span class="hljs-keyword">const</span> y = point.<span class="hljs-property">lat</span>;
  <span class="hljs-keyword">let</span> inside = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">// ä½¿ç”¨å°„çº¿æ³•ç®—æ³•</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, j = polygon.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &lt; polygon.<span class="hljs-property">length</span>; j = i++) {
    <span class="hljs-keyword">const</span> xi = polygon[i].<span class="hljs-title function_">lng</span>();
    <span class="hljs-keyword">const</span> yi = polygon[i].<span class="hljs-title function_">lat</span>();
    <span class="hljs-keyword">const</span> xj = polygon[j].<span class="hljs-title function_">lng</span>();
    <span class="hljs-keyword">const</span> yj = polygon[j].<span class="hljs-title function_">lat</span>();

    <span class="hljs-comment">// æ£€æŸ¥ç‚¹æ˜¯å¦åœ¨è¾¹çš„åŒä¸€ä¾§</span>
    <span class="hljs-keyword">if</span> (((yi &gt; y) !== (yj &gt; y)) &amp;&amp; 
        (x &lt; (xj - xi) * (y - yi) / (yj - yi) + xi)) {
      inside = !inside;
    }
  }

  <span class="hljs-keyword">return</span> inside;
}



<span class="hljs-comment">/**
 * æ£€æŸ¥ç‚¹æ˜¯å¦åœ¨ä»»æ„å¤šè¾¹å½¢å†…
 * <span class="hljs-doctag">@param</span> point è¦æ£€æŸ¥çš„ç‚¹
 * <span class="hljs-doctag">@param</span> polygons å¤šè¾¹å½¢æ•°ç»„
 * <span class="hljs-doctag">@returns</span> æ˜¯å¦åœ¨ä»»æ„å¤šè¾¹å½¢å†…
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isPointInAnyPolygon</span>(<span class="hljs-params">
  point: { lat: <span class="hljs-built_in">number</span>; lng: <span class="hljs-built_in">number</span> },
  polygons: google.maps.LatLng[][]
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">return</span> polygons.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">polygon</span> =&gt;</span> <span class="hljs-title function_">isPointInPolygon</span>(point, polygon));
}
</code></pre>
<ul>
<li>è¿‡æ»¤å¤ªé˜³èƒ½æ¿é“ºè®¾æ•°æ®</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * è¿‡æ»¤å¤ªé˜³èƒ½é¢æ¿ï¼Œæ’é™¤åœ¨ä¸å¯é“ºè®¾åŒºåŸŸå†…çš„é¢æ¿
 * <span class="hljs-doctag">@param</span> panels åŸå§‹é¢æ¿æ•°ç»„
 * <span class="hljs-doctag">@param</span> excludedAreas æ’é™¤åŒºåŸŸæ•°ç»„
 * <span class="hljs-doctag">@param</span> allowedAreas å…è®¸åŒºåŸŸæ•°ç»„ï¼ˆå¦‚æœä¸ºç©ºï¼Œåˆ™ä½¿ç”¨æ‰€æœ‰éæ’é™¤åŒºåŸŸï¼‰
 * <span class="hljs-doctag">@returns</span> è¿‡æ»¤åçš„é¢æ¿æ•°ç»„
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">filterSolarPanels</span>(<span class="hljs-params">
  panels: SolarPanel[],
  excludedAreas: google.maps.LatLng[][] = [],
  allowedAreas: google.maps.LatLng[][] = []
</span>): <span class="hljs-title class_">SolarPanel</span>[] {
  <span class="hljs-keyword">const</span> filteredPanels = panels.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">panel</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> panelPoint = { <span class="hljs-attr">lat</span>: panel.<span class="hljs-property">center</span>.<span class="hljs-property">latitude</span>, <span class="hljs-attr">lng</span>: panel.<span class="hljs-property">center</span>.<span class="hljs-property">longitude</span> };
    
    <span class="hljs-comment">// å¦‚æœåœ¨æ’é™¤åŒºåŸŸå†…ï¼Œåˆ™è¿‡æ»¤æ‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isPointInAnyPolygon</span>(panelPoint, excludedAreas)) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-comment">// å¦‚æœæŒ‡å®šäº†å…è®¸åŒºåŸŸï¼Œåˆ™åªä¿ç•™åœ¨å…è®¸åŒºåŸŸå†…çš„é¢æ¿</span>
    <span class="hljs-keyword">if</span> (allowedAreas.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">isPointInAnyPolygon</span>(panelPoint, allowedAreas);
    }
    
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æŒ‡å®šå…è®¸åŒºåŸŸï¼Œåˆ™ä¿ç•™æ‰€æœ‰éæ’é™¤åŒºåŸŸçš„é¢æ¿</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  });
  
  <span class="hljs-keyword">return</span> filteredPanels;
}
</code></pre>
<h2 data-id="heading-57">è§£å†³åœ°å›¾æ‹–åŠ¨, ä¸­å¿ƒç‚¹å®šä½å›¾æ ‡æ™ƒåŠ¨é—®é¢˜</h2>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">LocationMarkerProps</span> {
  <span class="hljs-attr">map</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Map</span>;
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">LocationMarker</span>(<span class="hljs-params">{ map }: LocationMarkerProps</span>) {
  <span class="hljs-comment">// ä½¿ç”¨ OverlayView çš„ LocationMarkerï¼Œç¡®ä¿ä¸åœ°ç†åæ ‡ç²¾ç¡®å¯¹åº”</span>
  <span class="hljs-keyword">const</span> [overlay, setOverlay] = useState&lt;google.<span class="hljs-property">maps</span>.<span class="hljs-property">OverlayView</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (!map) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">CenterMarkerOverlay</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">google.maps.OverlayView</span> {
      <span class="hljs-keyword">private</span> <span class="hljs-attr">div</span>: <span class="hljs-title class_">HTMLDivElement</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">private</span> <span class="hljs-attr">map</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">Map</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">private</span> <span class="hljs-attr">listeners</span>: google.<span class="hljs-property">maps</span>.<span class="hljs-property">MapsEventListener</span>[] = [];

      <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">super</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span> = [];
      }

      <span class="hljs-title function_">onAdd</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span> = <span class="hljs-title class_">CreateElement</span>();

        <span class="hljs-comment">// è·å–åœ°å›¾çš„ panes(å¯æ¸²æŸ“çš„çª—æ ¼) å¯¹è±¡ï¼Œå°† div æ·»åŠ åˆ° overlayImage ä¸­</span>
        <span class="hljs-keyword">const</span> panes = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getPanes</span>();
        <span class="hljs-keyword">if</span> (panes) {
          (panes <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">overlayImage</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>);
        }

        <span class="hljs-comment">// ä¿å­˜åœ°å›¾å¼•ç”¨</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getMap</span>() <span class="hljs-keyword">as</span> google.<span class="hljs-property">maps</span>.<span class="hljs-property">Map</span>;

        <span class="hljs-comment">// ä½¿ç”¨ requestAnimationFrame ä¼˜åŒ–æ›´æ–°é¢‘ç‡</span>
        <span class="hljs-keyword">let</span> <span class="hljs-attr">animationId</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">updatePosition</span> = (<span class="hljs-params"/>) =&gt; {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePosition</span>();
          animationId = <span class="hljs-title function_">requestAnimationFrame</span>(updatePosition);
        };

        <span class="hljs-comment">// ç›‘å¬åœ°å›¾äº‹ä»¶ï¼Œä½¿ç”¨é«˜é¢‘æ›´æ–°</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">push</span>(
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'drag'</span>, <span class="hljs-function">() =&gt;</span> {
              <span class="hljs-keyword">if</span> (animationId) <span class="hljs-title function_">cancelAnimationFrame</span>(animationId);
              animationId = <span class="hljs-title function_">requestAnimationFrame</span>(updatePosition);
            }),
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'dragend'</span>, <span class="hljs-function">() =&gt;</span> {
              <span class="hljs-keyword">if</span> (animationId) <span class="hljs-title function_">cancelAnimationFrame</span>(animationId);
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePosition</span>();
            }),
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'zoom_changed'</span>, <span class="hljs-function">() =&gt;</span> {
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePosition</span>();
            }),
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-string">'center_changed'</span>, <span class="hljs-function">() =&gt;</span> {
              <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePosition</span>();
            }),
          );
        }

        <span class="hljs-comment">// åˆå§‹åŒ–ä½ç½®</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePosition</span>();
      }

      <span class="hljs-title function_">updatePosition</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span> || !<span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>) <span class="hljs-keyword">return</span>;

        <span class="hljs-comment">// è¿”å›ä¸æ­¤ OverlayView å…³è”çš„ MapCanvasProjection å¯¹è±¡ï¼Œ ç”¨äºè®¡ç®—divçš„åœ°ç†åæ ‡ï¼Œåƒç´ åæ ‡</span>
        <span class="hljs-keyword">const</span> projection = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getProjection</span>();
        <span class="hljs-keyword">if</span> (!projection) <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">const</span> center = <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span>.<span class="hljs-title function_">getCenter</span>();
        <span class="hljs-keyword">if</span> (!center) <span class="hljs-keyword">return</span>;

        <span class="hljs-comment">// è®¡ç®—å­˜æ”¾å¯æ‹–åŠ¨åœ°å›¾çš„ DOM å…ƒç´ ä¸­æŒ‡å®šåœ°ç†ä½ç½®çš„åƒç´ åæ ‡ã€‚</span>
        <span class="hljs-keyword">const</span> point = projection.<span class="hljs-title function_">fromLatLngToDivPixel</span>(center);
        <span class="hljs-keyword">if</span> (point) {
          <span class="hljs-comment">/* Google Maps Marker çš„é»˜è®¤å®šä½ç‚¹æ˜¯å›¾æ ‡çš„åº•éƒ¨ä¸­å¿ƒ
          æˆ‘ä»¬çš„ SVG å›¾æ ‡å®½åº¦æ˜¯ 30pxï¼Œé«˜åº¦æ˜¯ 36.21px
          è®©å›¾æ ‡çš„åº•éƒ¨ä¸­å¿ƒå¯¹å‡†åœ°å›¾ä¸­å¿ƒç‚¹ï¼Œä¸æ ‡å‡† Marker ä¿æŒä¸€è‡´ */</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = point.<span class="hljs-property">x</span> - <span class="hljs-number">30</span> / <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>; <span class="hljs-comment">// å›¾æ ‡å®½åº¦çš„ä¸€åŠ</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = point.<span class="hljs-property">y</span> - <span class="hljs-number">36.21</span> + <span class="hljs-string">'px'</span>; <span class="hljs-comment">// å›¾æ ‡é«˜åº¦ï¼Œè®©å›¾æ ‡åº•éƒ¨å¯¹å‡†ä¸­å¿ƒç‚¹</span>
        }
      }

      <span class="hljs-title function_">draw</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePosition</span>();
      }

      <span class="hljs-title function_">onRemove</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æ¸…ç†äº‹ä»¶ç›‘å¬å™¨</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">listener</span>) =&gt;</span> {
          google.<span class="hljs-property">maps</span>.<span class="hljs-property">event</span>.<span class="hljs-title function_">removeListener</span>(listener);
        });
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span> = [];

        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>.<span class="hljs-property">parentNode</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span>);
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">div</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">map</span> = <span class="hljs-literal">null</span>;
      }
    }

    <span class="hljs-keyword">const</span> newOverlay = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CenterMarkerOverlay</span>();
    newOverlay.<span class="hljs-title function_">setMap</span>(map);
    <span class="hljs-title function_">setOverlay</span>(newOverlay);

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (newOverlay) {
        newOverlay.<span class="hljs-title function_">setMap</span>(<span class="hljs-literal">null</span>);
      }
    };
  }, [map]);

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">CreateElement</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
  div.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">pointerEvents</span> = <span class="hljs-string">'none'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">zIndex</span> = <span class="hljs-string">'1000'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'30px'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">'36.21px'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'flex'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">alignItems</span> = <span class="hljs-string">'center'</span>;
  div.<span class="hljs-property">style</span>.<span class="hljs-property">justifyContent</span> = <span class="hljs-string">'center'</span>;
  <span class="hljs-comment">// åˆ›å»º SVG å…ƒç´ ï¼Œä½¿ç”¨ä¸åŸå§‹ LocationMarker ç›¸åŒçš„å°ºå¯¸</span>
  <span class="hljs-keyword">const</span> svg = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElementNS</span>(<span class="hljs-string">'http://www.w3.org/2000/svg'</span>, <span class="hljs-string">'svg'</span>);
  svg.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'width'</span>, <span class="hljs-string">'30'</span>);
  svg.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'height'</span>, <span class="hljs-string">'36.21'</span>);
  svg.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'viewBox'</span>, <span class="hljs-string">'0 0 30 36.21'</span>);
  svg.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'fill'</span>, <span class="hljs-string">'none'</span>);
  svg.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'xmlns'</span>, <span class="hljs-string">'http://www.w3.org/2000/svg'</span>);
  svg.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'version'</span>, <span class="hljs-string">'1.1'</span>);

  <span class="hljs-keyword">const</span> path = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElementNS</span>(<span class="hljs-string">'http://www.w3.org/2000/svg'</span>, <span class="hljs-string">'path'</span>);
  path.<span class="hljs-title function_">setAttribute</span>(
    <span class="hljs-string">'d'</span>,
    <span class="hljs-string">'M25.6067,25.6067C25.6067,25.6067,15,36.2132,15,36.2132C15,36.2132,4.3934,25.6067,4.3934,25.6067C-1.46447,19.7487,-1.46447,10.2513,4.3934,4.3934C10.2513,-1.46447,19.7487,-1.46447,25.6067,4.3934C31.4645,10.2513,31.4645,19.7487,25.6067,25.6067ZM15,18.3333C16.841,18.3333,18.3333,16.841,18.3333,15C18.3333,13.159,16.841,11.6667,15,11.6667C13.159,11.6667,11.6667,13.159,11.6667,15C11.6667,16.841,13.159,18.3333,15,18.3333Z'</span>,
  );
  path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'fill'</span>, <span class="hljs-string">'#E75043'</span>);
  path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'fillRule'</span>, <span class="hljs-string">'evenodd'</span>);
  path.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'fillOpacity'</span>, <span class="hljs-string">'1'</span>);

  svg.<span class="hljs-title function_">appendChild</span>(path);
  div.<span class="hljs-title function_">appendChild</span>(svg);
  <span class="hljs-keyword">return</span> div;
}

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rustå®æˆ˜ï¼ˆä¸‰ï¼‰ï¼šHTTPå¥åº·æ£€æŸ¥å¼•æ“ â€”â€” å¼‚æ­¥Rustä¸é«˜æ€§èƒ½æ¢é’ˆ]]></title>    <link>https://juejin.cn/post/7573002274324480046</link>    <guid>https://juejin.cn/post/7573002274324480046</guid>    <pubDate>2025-11-17T05:35:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573002274324480046" data-draft-id="7572997791452512294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rustå®æˆ˜ï¼ˆä¸‰ï¼‰ï¼šHTTPå¥åº·æ£€æŸ¥å¼•æ“ â€”â€” å¼‚æ­¥Rustä¸é«˜æ€§èƒ½æ¢é’ˆ"/> <meta itemprop="keywords" content="åç«¯,Rust,æ¶æ„"/> <meta itemprop="datePublished" content="2025-11-17T05:35:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Amos_Web"/> <meta itemprop="url" content="https://juejin.cn/user/1204720476369288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rustå®æˆ˜ï¼ˆä¸‰ï¼‰ï¼šHTTPå¥åº·æ£€æŸ¥å¼•æ“ â€”â€” å¼‚æ­¥Rustä¸é«˜æ€§èƒ½æ¢é’ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1204720476369288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Amos_Web
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:35:57.000Z" title="Mon Nov 17 2025 05:35:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»31åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å…³äºæœ¬Rustå®æˆ˜æ•™ç¨‹ç³»åˆ—ï¼š</strong></p>
<ul>
<li><strong>å®šä½</strong>ï¼šä¸€ä»½ä»RuståŸºç¡€è¿ˆå‘é¡¹ç›®å®æˆ˜çš„ç»ƒä¹ è®°å½•ã€‚</li>
<li><strong>å†…å®¹</strong>ï¼šèšç„¦å®æˆ˜ä¸­é‡åˆ°çš„å…·ä½“é—®é¢˜ã€è§£å†³æ€è·¯ä¸å¿ƒå¾—æ€»ç»“ã€‚</li>
<li><strong>è¯»è€…</strong>ï¼šé€‚åˆæœ‰RuståŸºç¡€ï¼Œä½†æ€¥éœ€é¡¹ç›®ç»éªŒå·©å›ºçŸ¥è¯†çš„å¼€å‘è€…ã€‚<strong>èµ„æ·±ç©å®¶å¯å¿½ç•¥</strong>ã€‚</li>
<li><strong>è®¡åˆ’</strong>ï¼šæœ¬æœŸä¸ºç³»åˆ—ç¬¬äºŒç¯‡ï¼Œå°†æ ¹æ®æˆ‘çš„å­¦ä¹ è¿›åº¦æŒç»­æ›´æ–°ã€‚</li>
<li><strong>å¯¼èˆª</strong>ï¼šç›¸å…³å†…å®¹éƒ½å·²ç»æ”¾åˆ°ä¸“æ ä¸­ï¼š<a href="https://juejin.cn/column/7563087634245599241" target="_blank" title="https://juejin.cn/column/7563087634245599241">Rustå®æˆ˜è¯¾ç¨‹</a></li>
</ul>
</blockquote>
<h2 data-id="heading-0">ç®€è¦è¯´æ˜</h2>
<p>æœ¬ç¯‡æ˜¯ä¹‹å‰çš„ç½‘ç»œèµ„æºç›‘æ§å™¨ï¼ˆåˆç‰ˆï¼‰çš„ç»­é›†ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘å°†ä¼šç»§ç»­ä¸°å¯Œç½‘ç»œèµ„æºç›‘æ§å™¨çš„åŠŸèƒ½ï¼Œå½“ç„¶æœ¬ç¯‡ä¹Ÿæ²¡æœ‰ç»“æŸï¼Œåªæ˜¯äºŒç‰ˆï¼Œå› ä¸ºå®Œæ•´çš„åŠŸèƒ½ç¡®å®å¤ªå¤šå¤ªå¤šäº†ï¼Œæœ¬èº«è¿™ç³»åˆ—ä¹Ÿæ˜¯è‡ªå·±çš„å­¦ä¹ çš„è®°å½•ï¼Œå¦‚æœä¸€æ¬¡å®Œæˆçš„è¯å¤ªå¤æ‚äº†ï¼Œå¯¹æˆ‘è¿™ç§æ–°æ‰‹æ¥è¯´ä¸æ˜¯å¾ˆå‹å¥½ï¼Œæ‰€ä»¥æˆ‘è¿™è¾¹ä¼šåƒå †ç§¯æœ¨ä¸€æ ·ä¸€ç‚¹ç‚¹çš„æ¥å®Œæˆæ¯ä¸ªæ¨¡å—çš„å†…å®¹ï¼Œäº‰å–æˆ‘ä»¬èƒ½å®Œæˆä¸€ä¸ªå¯ç”¨çš„ä¼ä¸šçº§ç½‘ç»œèµ„æºç›‘æ§å™¨ï¼ˆ<em>ç‰›é€¼å¹èµ·æ¥äº†ï½</em>ï¼‰ï¼›</p>
<h3 data-id="heading-1">éœ€æ±‚å†…å®¹</h3>
<h4 data-id="heading-2">1. æ­å»ºç›‘æ§å¼•æ“çš„æ¡†æ¶</h4>
<ul>
<li>æ”¯æŒå¤šç§ç›‘æ§ç±»å‹ï¼ˆHTTP/HTTPSã€Memoryã€TCPã€PINGç­‰ï¼‰</li>
<li>å¯é…ç½®çš„æ£€æŸ¥é¢‘ç‡</li>
<li>å¹¶å‘æ‰§è¡Œç›‘æ§æ£€æŸ¥</li>
<li>é‡è¯•æœºåˆ¶</li>
<li>è¶…æ—¶æ§åˆ¶</li>
<li>ç»“æœè®°å½•ï¼ˆåŒ…æ‹¬å“åº”æ—¶é—´ã€çŠ¶æ€ã€é”™è¯¯ä¿¡æ¯ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-3">2.å®ç°HTTP/HTTPSç›‘æ§å¼•æ“</h4>
<ul>
<li>åŸºç¡€å¯ç”¨ç›‘æ§ï¼ˆBasicAvailabilityï¼‰</li>
<li>æ€§èƒ½ç›‘æ§ï¼ˆPerformanceTimingsï¼‰</li>
<li>å®‰å…¨ç›‘æ§ï¼ˆSslSecurity, SecurityHeadersï¼‰</li>
<li>å†…å®¹éªŒè¯ç›‘æ§ï¼ˆContentVerificationï¼‰</li>
</ul>
<h3 data-id="heading-4">åŠŸèƒ½ç‚¹è¯¦è§£</h3>
<blockquote>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†åŸºäºä¸Šä¸€ç¯‡å†…å®¹ä¸­çš„ç›‘æ§é…ç½®åˆ—è¡¨ï¼Œæ­å»ºä¸€ä¸ªæ”¯æŒå¤šç›‘æ§ç±»å‹çš„æ¡†æ¶ã€‚åœ¨æœ¬æ¬¡è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šä¸€æ­¥æ­¥å®Œæˆæ•´ä½“æ¡†æ¶çš„åŸºç¡€ç»“æ„ï¼Œå¹¶é‡ç‚¹å®ç° HTTP/HTTPS ç±»å‹çš„ç›‘æ§é€»è¾‘ã€‚å…¶ä»–ç›‘æ§ç±»å‹ï¼ˆå¦‚ ICMPã€TCPã€DNS ç­‰ï¼‰æš‚æ—¶ä¸åœ¨æ­¤æ¬¡å®ç°èŒƒå›´ä¹‹å†…ï¼Œå°†ä½œä¸ºè¯¾åæ‰©å±•ç»ƒä¹ ç•™ç»™å¤§å®¶è‡ªè¡Œå®Œæˆä¸å®Œå–„ï¼ˆ<em><strong>å…¶å®ä¸»è¦æ˜¯å› ä¸ºç›‘æ§ç±»å‹å®åœ¨å¤ªå¤šï¼Œå†™ä¸åŠ¨å•¦ï½</strong></em>ï¼‰ã€‚</p>
</blockquote>
<p>å¥½çš„ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹æ ¸å¿ƒä»»åŠ¡ã€‚ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªæ¡†æ¶éœ€è¦æ”¯æŒå¤šç§ç›‘æ§ç±»å‹ï¼ˆå¦‚ HTTPã€HTTPSã€DNSã€TCP ç­‰ï¼‰ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç›‘æ§å¼•æ“æ¥ç»Ÿä¸€è°ƒåº¦è¿™äº›æ£€æŸ¥ä»»åŠ¡ï¼Œæœ€ç»ˆæ±‡æ€»å¹¶è¾“å‡ºæ‰€æœ‰ç±»å‹çš„ç›‘æ§ç»“æœã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•´ä½“é€»è¾‘åˆ’åˆ†ä¸ºä»¥ä¸‹ä¸¤ä¸ªæ ¸å¿ƒéƒ¨åˆ†æ¥æ„å»ºï¼š</p>
<ol>
<li><strong>ç›‘æ§å¼•æ“</strong>ï¼šè¿™æ˜¯æ¡†æ¶çš„å¤§è„‘ï¼Œè´Ÿè´£è°ƒåº¦å’Œæ‰§è¡Œä»»åŠ¡ã€‚å®ƒçš„ä¸»è¦å·¥ä½œæ˜¯è¯»å–ç›‘æ§åˆ—è¡¨ï¼Œä¾æ¬¡è°ƒç”¨ä¸åŒç›‘æ§ç±»å‹çš„æ£€æŸ¥é€»è¾‘ï¼Œå¹¶æ”¶é›†ç»“æœã€‚</li>
<li><strong>ç›‘æ§ç±»å‹å®ç°</strong>ï¼šè¿™æ˜¯æ¡†æ¶çš„è‚Œè‚‰ï¼ŒåŒ…å«å„ç§ç›‘æ§ç±»å‹ï¼ˆå¦‚ HTTP/HTTPSï¼‰çš„å…·ä½“æ£€æŸ¥é€»è¾‘ã€‚æ¯ç§ç±»å‹éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œè´Ÿè´£æ‰§è¡Œä¸“ä¸šæ£€æŸ¥å¹¶è¿”å›æ ‡å‡†åŒ–çš„ç»“æœã€‚</li>
</ol>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±æŒ‰ç…§è¿™ä¸¤ä¸ªæ¨¡å—æ¥å…·ä½“å®ç°ï¼š</p>
<h4 data-id="heading-5">å¤šç±»å‹ç›‘æ§å¼•æ“å®ç°</h4>
<p>åœ¨æœ¬æ¬¡æ¡†æ¶è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬æ ¸å¿ƒé‡‡ç”¨äº†Â <strong>ç­–ç•¥æ¨¡å¼ä¸å·¥å‚æ¨¡å¼ç›¸ç»“åˆ</strong>Â çš„æ¶æ„æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼šæˆ‘ä»¬å°†æ¯ç§ç›‘æ§ç±»å‹ï¼ˆå¦‚ HTTPã€HTTPSï¼‰éƒ½å®šä¹‰ä¸ºå®ç°äº†ç»Ÿä¸€Â <code>Monitor</code>Â Trait çš„ç‹¬ç«‹ç­–ç•¥ã€‚è¿™ç¡®ä¿äº†æ¯ç§ç›‘æ§æ£€æŸ¥é€»è¾‘éƒ½é«˜åº¦å†…èšï¼Œå¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæ¼”å˜ã€‚</li>
<li><strong>å·¥å‚æ¨¡å¼</strong>ï¼šæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„å·¥å‚ï¼Œæ ¹æ®é…ç½®æ¥æ‰¹é‡åˆ›å»ºå¯¹åº”çš„ç›‘æ§å™¨å®ä¾‹ã€‚è¿™æ¶ˆé™¤äº†ä»£ç ä¸­å¤æ‚çš„å¯¹è±¡åˆ›å»ºé€»è¾‘ï¼Œå®ç°äº†å®¢æˆ·ç«¯ä¸å…·ä½“å®ç°çš„è§£è€¦ã€‚</li>
</ul>
<p>è¿™æ ·æœªæ¥æ‰©å±•æ–°çš„ç›‘æ§ç±»å‹ï¼ˆå¦‚ DNSã€TCPï¼‰å°†å˜å¾—å¼‚å¸¸ç®€å•ï¼š<strong>åªéœ€å®šä¹‰ä¸€ä¸ªæ–°çš„ç­–ç•¥å¹¶å®ç°Â <code>Monitor</code>Â Trait å³å¯</strong>ï¼Œæ— éœ€ä¿®æ”¹å¼•æ“çš„æ ¸å¿ƒè°ƒåº¦é€»è¾‘ã€‚é«˜å†…èšã€ä½è€¦åˆï¼Œå®Œç¾ï½ï½ï½</p>
<h5 data-id="heading-6">1. Monitorå…¬å…±Traitçš„å®ç°</h5>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹æˆ‘ä»¬ç»Ÿä¸€çš„Traitçš„å®šä¹‰ï¼Œå…¶å®è¿™ä¸ªç‰¹å¾å¯¹è±¡å¾ˆç®€å•ï¼Œæ ¸å¿ƒåªéœ€è¦å®ç°ä¸€ä¸ªæ£€æŸ¥å‡½æ•°å³å¯</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/monitor/monitor_trait.rs</span>
<span class="hljs-keyword">use</span>  super::types::{MonitorConfig, CheckResult};
<span class="hljs-keyword">use</span> crate::tools_types::MonitorType;
<span class="hljs-comment">// å®šä¹‰ç›‘æ§ç±»å‹çš„ trait åç»­çš„ä¸åŒçš„ç›‘æ§ç±»å‹éƒ½å®ç°è¿™ä¸ª trait</span>
<span class="hljs-comment">// åœ¨è¿™é‡Œæ·»åŠ  Send å’Œ Sync ä½œä¸ºçˆ¶ trait</span>
<span class="hljs-comment">// Send: å…è®¸åœ¨çº¿ç¨‹é—´ç§»åŠ¨</span>
<span class="hljs-comment">// Sync: å…è®¸åœ¨çº¿ç¨‹é—´å…±äº«å¼•ç”¨ (&amp;T)</span>
<span class="hljs-comment">// å¯¹äº tokio::spawn å’Œå¤šçº¿ç¨‹å¼‚æ­¥ï¼Œè¿™ä¸¤ä¸ªé€šå¸¸éƒ½éœ€è¦ã€‚</span>
<span class="hljs-meta">#[async_trait::async_trait]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">trait</span> <span class="hljs-title class_">Monitor</span>: <span class="hljs-built_in">Send</span> + <span class="hljs-built_in">Sync</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>(&amp;<span class="hljs-keyword">self</span>, config: &amp;MonitorConfig) <span class="hljs-punctuation">-&gt;</span> CheckResult;
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_type</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> MonitorType;
}
</code></pre>
<p>å¯¹åº”çš„<code>check</code>å‡½æ•°åªéœ€è¦ä¼ å…¥ä¸€ä¸ªç›‘æ§é…ç½®å‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ£€æµ‹ç»“æœå°±å¯ä»¥äº†ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜å¤šå®šä¹‰äº†ä¸€ä¸ª<code>get_type</code>æ–¹æ³•ï¼šç”¨äºè·å–å½“å‰çš„æ£€æµ‹ç±»å‹ï¼Œè¿™æ ·çš„è¯å…¶å®æˆ‘ä»¬å°±å·²ç»å®ç°äº†æˆ‘ä»¬ç»Ÿä¸€çš„ç‰¹å¾å¯¹è±¡çš„å®šä¹‰ä»»åŠ¡äº†ã€‚
ä¸‹é¢çš„è¯æˆ‘ä»¬æ¥å…·ä½“çš„çœ‹ä¸‹ï¼Œæˆ‘ä»¬æŠ½è±¡å‡ºæ¥çš„<code>ç›‘æ§é…ç½®å‚æ•°MonitorConfig</code>ã€<code>æ£€æµ‹ç»“æœCheckResult</code>è¿™ä¸¤ä¸ªå¯¹è±¡çš„å®šä¹‰é€»è¾‘ï¼š<br/>
è¿™é‡Œçš„è¯ï¼Œæˆ‘å£°æ˜äº†ä¸€ä¸ª<code>types.rs</code>æ¨¡å—ï¼Œä¸“é—¨ç”¨æ¥å£°æ˜å¯¹åº”çš„ç»“æ„ä½“å¯¹è±¡ã€æšä¸¾å€¼å¯¹è±¡ç­‰è¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°ä¸€ä¸‹åŸºç¡€çš„ç±»å‹å®šä¹‰ï¼Œ</p>
<h6 data-id="heading-7">1.1 ç›‘æ§é…ç½®å‚æ•°MonitorConfig</h6>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/monitor/types.rs  ç±»å‹å£°æ˜æ¨¡å—</span>

<span class="hljs-comment">// å®šä¹‰æ ¸å¿ƒçš„ç›‘æ§é…ç½®å‚æ•°ç»“æ„ä½“</span>
<span class="hljs-meta">#[derive(Debug, Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorConfig</span> {
    <span class="hljs-keyword">pub</span> target: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// ç›‘æ§çš„ç›®æ ‡URLæˆ–IPåœ°å€</span>
    <span class="hljs-keyword">pub</span> interval: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">u64</span>&gt;, <span class="hljs-comment">// ç›‘æ§é—´éš”ï¼Œå•ä½ç§’</span>
    <span class="hljs-keyword">pub</span> monitor_type: MonitorType,<span class="hljs-comment">// ç›‘æ§ç±»å‹ HTTP TCP FTPç­‰ç­‰</span>
    <span class="hljs-keyword">pub</span> details: MonitorConfigDetail, <span class="hljs-comment">// è¿™é‡Œçš„è¯æ˜¯ä¸åŒç›‘æ§ç±»å‹çš„å…·ä½“å‚æ•°ï¼Œè·Ÿå…¬å…±çš„ä¸€äº›å‚æ•°åŒºåˆ†å¼€ è¯¦è§14è¡Œä»£ç å£°æ˜</span>
}

<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªç›‘æ§æ•°æ®çš„è¯¦æƒ…ç›‘æ§å‚æ•° ç»“æ„ä½“ ï¼Œç”¨äºæ¯ä¸ªç›‘æ§ç±»å‹ä¸­çš„ä¸åŒçš„å‚æ•°ç±»å‹</span>
<span class="hljs-meta">#[derive(Debug, Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MonitorConfigDetail</span> {
    <span class="hljs-title function_ invoke__">Http</span>(HttpMonitorConfig),
    <span class="hljs-title function_ invoke__">Https</span>(HttpsMonitorConfig),
    <span class="hljs-title function_ invoke__">Ftp</span>(FtpMonitorConfig),
    <span class="hljs-title function_ invoke__">Traceroute</span>(TracerouteMonitorConfig),
    <span class="hljs-title function_ invoke__">Cpu</span>(CpuMonitorConfig),
    <span class="hljs-title function_ invoke__">Memory</span>(MemoryMonitorConfig),
    <span class="hljs-title function_ invoke__">Disk</span>(DiskMonitorConfig),
    <span class="hljs-title function_ invoke__">Process</span>(ProcessMonitorConfig),
    <span class="hljs-title function_ invoke__">Unknown</span>(UnknownQueryConfig),
}
<span class="hljs-comment">// å…¶ä¸­è¿™äº›ä¸åŒç›‘æ§ç±»å‹çš„æœºæ„ä½“æˆ‘ä»¬å°±ä¸ä¸€ä¸€å£°æ˜äº† ï¼Œéƒ½æ˜¯ç±»ä¼¼çš„ï¼Œ</span>
<span class="hljs-comment">// å¼‚å¸¸ç›‘æ§çš„å…œåº•ç±»å‹</span>
<span class="hljs-meta">#[derive(Debug, Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">UnknownQueryConfig</span>{
    <span class="hljs-keyword">pub</span> description: <span class="hljs-type">String</span>, <span class="hljs-comment">// å¼‚å¸¸æè¿°ä¿¡æ¯</span>
}
<span class="hljs-comment">// HTTPç›‘æ§çš„é…ç½®å‚æ•°</span>
<span class="hljs-meta">#[derive(Debug, Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HttpMonitorConfig</span> {
    <span class="hljs-keyword">pub</span> url: <span class="hljs-type">String</span>, <span class="hljs-comment">// å®šä¹‰HTTPç›‘æ§çš„URL</span>
    <span class="hljs-keyword">pub</span> method: HttpMethodTypes, <span class="hljs-comment">// GET, POST, etc.</span>
    <span class="hljs-keyword">pub</span> timeout: <span class="hljs-type">u64</span>, <span class="hljs-comment">// é…ç½®è¶…æ—¶æ—¶é—´</span>
    <span class="hljs-keyword">pub</span> headers: <span class="hljs-type">Option</span>&lt;HeaderMap&lt;HeaderValue&gt;&gt;, <span class="hljs-comment">// å¯é€‰çš„è¯·æ±‚URLéœ€è¦çš„HTTPå¤´</span>
    <span class="hljs-keyword">pub</span> body: <span class="hljs-type">Option</span>&lt;HttpBody&gt;, <span class="hljs-comment">// å¯é€‰çš„è¯·æ±‚URLéœ€è¦çš„bodyä½“</span>
    <span class="hljs-keyword">pub</span> rules: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">Vec</span>&lt;ContentVerificationRulesSingle&gt;&gt;, <span class="hljs-comment">// å¯é…ç½®çš„ç›‘æ§è§„åˆ™</span>
}

<span class="hljs-comment">// å…¶ä¸­ç›‘æ§çš„è§„åˆ™çš„è¯æˆ‘ä»¬æ¥ç®€å•å®ç°äº†ä¸€ä¸‹ </span>
<span class="hljs-comment">//å®šä¹‰å†…å®¹ç›‘æ§è§„åˆ™ç»“æ„ä½“æ˜ç»†å­—æ®µ</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default, serde::Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentVerificationRulesSingle</span> {
    <span class="hljs-keyword">pub</span> rule_type: ContentVerificationRules, <span class="hljs-comment">// åªæ”¯æŒContainsã€NotContainsã€Regexä¸‰ç§ä¸åŒçš„è§„åˆ™</span>
    <span class="hljs-keyword">pub</span> rule_content: <span class="hljs-type">String</span>, <span class="hljs-comment">// æ¯ç§è§„åˆ™çš„å…³é”®å­—</span>
    <span class="hljs-keyword">pub</span> rule_description: <span class="hljs-type">String</span>, <span class="hljs-comment">// è§„åˆ™çš„æè¿°å­—æ®µ</span>
}

</code></pre>
<h6 data-id="heading-8">1.2 æ£€æµ‹ç»“æœCheckResult</h6>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®šä¹‰æ£€æŸ¥ç»“æœç»“æ„ä½“</span>
<span class="hljs-meta">#[derive(Debug, Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CheckResult</span> {
    <span class="hljs-keyword">pub</span> id: <span class="hljs-type">u128</span>, <span class="hljs-comment">// ç›‘æ§è®°å½•çš„ID å”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-keyword">pub</span> monitor_type: MonitorType, <span class="hljs-comment">// ç›‘æ§ç±»å‹</span>
    <span class="hljs-keyword">pub</span> target: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// ç›‘æ§çš„ç›®æ ‡URLæˆ–IPåœ°å€</span>
    <span class="hljs-keyword">pub</span> status: <span class="hljs-type">bool</span>, <span class="hljs-comment">// ç›‘æ§çŠ¶æ€ï¼Œtrueè¡¨ç¤ºæ­£å¸¸ï¼Œfalseè¡¨ç¤ºå¼‚å¸¸</span>
    <span class="hljs-keyword">pub</span> details: CheckResultDetail, <span class="hljs-comment">// ç›‘æ§ç»“æœçš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾ç„¶æ˜¯æ¯ç§ä¸åŒçš„ç›‘æ§ç±»å‹éƒ½æ˜¯ä¸åŒçš„ç›‘æ§ç»“æœ</span>
}

<span class="hljs-comment">// å®šä¹‰ä¸åŒç±»å‹çš„ç›‘æ§è¿”å›ç»“æœè¯¦æƒ…ç»“æ„ä½“</span>
<span class="hljs-meta">#[derive(Debug, Clone)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">CheckResultDetail</span> {
    <span class="hljs-title function_ invoke__">Http</span>(HttpMonitorResult),
    <span class="hljs-title function_ invoke__">Https</span>(HttpsMonitorResult),
    <span class="hljs-title function_ invoke__">Ftp</span>(FtpMonitorResult),
    <span class="hljs-title function_ invoke__">Traceroute</span>(TracerouteMonitorResult),
    <span class="hljs-title function_ invoke__">Cpu</span>(CpuMonitorResult),
    <span class="hljs-title function_ invoke__">Memory</span>(MemoryMonitorResult),
    <span class="hljs-title function_ invoke__">Disk</span>(DiskMonitorResult),
    <span class="hljs-title function_ invoke__">Process</span>(ProcessMonitorResult),
    <span class="hljs-title function_ invoke__">Icmp</span>(IcmpMonitorResult),
    <span class="hljs-title function_ invoke__">Tcp</span>(TcpMonitorResult),
    <span class="hljs-title function_ invoke__">Udp</span>(UdpMonitorResult),
    <span class="hljs-title function_ invoke__">Dns</span>(DnsMonitorResult),
    <span class="hljs-title function_ invoke__">Unknown</span>(UnknownQueryResult),
}

<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªä¿å­˜httpç›‘æ§çš„æœ€ç»ˆç»“æœå‚æ•°ç»“æ„ä½“ </span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HttpMonitorResult</span>{
    <span class="hljs-keyword">pub</span> basic_avaliable: BasicAvailability, <span class="hljs-comment">// åŒ…å«åŸºç¡€çš„æ£€æµ‹å†…å®¹</span>
    <span class="hljs-keyword">pub</span> response_headers: SecurityHeaders, <span class="hljs-comment">// å®‰å…¨æ£€æµ‹ç›¸å…³çš„å¤´ä¿¡æ¯</span>
    <span class="hljs-keyword">pub</span> performance_timings: PerformanceTimings, <span class="hljs-comment">// æ€§èƒ½æŒ‡æ ‡ç›¸å…³ä¿¡æ¯</span>
    <span class="hljs-keyword">pub</span> certificate_info: CertificateInfo, <span class="hljs-comment">// SSLè¯ä¹¦ä¿¡æ¯</span>
    <span class="hljs-keyword">pub</span> content_verification: ContentVerificationResult, <span class="hljs-comment">// å†…å®¹æ£€æµ‹ç›¸å…³ä¿¡æ¯</span>
    <span class="hljs-keyword">pub</span> advanced_avaliable: AdvancedAvailability, <span class="hljs-comment">// é«˜çº§ç›‘æ§ç›¸å…³ä¿¡æ¯</span>
}
<span class="hljs-comment">// è¿™é‡Œçš„è¯æˆ‘ä»¬å°±ä¸è¿‡å¤šå±•ç¤ºHTTPä¸­æ£€æµ‹çš„å„ç§ç±»å‹çš„å…·ä½“çš„å®ç°Structäº†ï¼Œåœ¨åé¢æˆ‘ä»¬ä¼šè¯¦ç»†çš„è®²è§£æ¯ä¸€ç§ç±»å‹çš„æ£€æµ‹å†…å®¹éƒ½åŒ…å«å“ªäº›å…·ä½“çš„å­—æ®µå€¼</span>

</code></pre>
<p>é€šè¿‡å‰é¢çš„è®²è§£ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†å…¬å…± Trait çš„å®šä¹‰ä¸ç›¸å…³å‚æ•°çš„å£°æ˜ï¼Œå¥ å®šäº†æ¡†æ¶çš„æ ¸å¿ƒåŸºç¡€ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›å…¥<strong>ç›‘æ§å¼•æ“å·¥å‚</strong>çš„å®ç°éƒ¨åˆ†ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥æ˜ç¡®ä¸€ä¸‹å·¥å‚çš„æ ¸å¿ƒèŒè´£ï¼š<strong>ç›‘æ§å¼•æ“å·¥å‚ç”¨äºæ ¹æ®ä¸åŒçš„ç›‘æ§ç±»å‹ï¼ŒåŠ¨æ€åˆ›å»ºå¯¹åº”çš„ç›‘æ§å¼•æ“å®ä¾‹</strong>ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“æˆ‘éœ€è¦ç›‘æ§ä¸€ä¸ª HTTP æœåŠ¡æ—¶ï¼Œæˆ‘åªéœ€å‘ŠçŸ¥å·¥å‚â€œæˆ‘éœ€è¦ä¸€ä¸ª HTTP ç›‘æ§å¼•æ“â€ï¼Œå·¥å‚ä¾¿ä¼šè¿”å›ä¸€ä¸ªä¸“é—¨ç”¨äºæ‰§è¡Œ HTTP æ£€æŸ¥çš„å¼•æ“å®ä¾‹ã€‚</p>
<p>ç†è§£äº†è¿™ä¸ªæ ¸å¿ƒæ¦‚å¿µåï¼Œå…·ä½“çš„ä»£ç å®ç°å°±ä¼šæ˜¾å¾—æ¸…æ™°è€Œç›´æ¥:</p>
<pre><code class="hljs language-rust" lang="rust">src/monitor/<span class="hljs-keyword">mod</span>.rs

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> types;
<span class="hljs-keyword">use</span> crate::tools_types::MonitorType; <span class="hljs-comment">// å…¨å±€é€šç”¨çš„ç±»å‹å®šä¹‰æ¨¡å—</span>

<span class="hljs-comment">// å¼•è¿›ç‰¹å¾å¯¹è±¡ </span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> monitor_trait;
<span class="hljs-keyword">use</span> monitor_trait::Monitor;

<span class="hljs-comment">// å£°æ˜å…·ä½“çš„ç›‘æ§å¼•æ“</span>
<span class="hljs-keyword">mod</span> icmp_monitor;
<span class="hljs-keyword">mod</span> tcp_monitor;
<span class="hljs-keyword">mod</span> udp_monitor;
<span class="hljs-keyword">mod</span> dns_monitor;
<span class="hljs-keyword">mod</span> http_monitor;
<span class="hljs-keyword">mod</span> ftp_monitor;
<span class="hljs-keyword">mod</span> traceroute_monitor;
<span class="hljs-keyword">mod</span> cpu_monitor;
<span class="hljs-keyword">mod</span> memory_monitor;
<span class="hljs-keyword">mod</span> disk_monitor;
<span class="hljs-keyword">mod</span> process_monitor;
<span class="hljs-comment">// ä¸åŒç±»å‹çš„ç›‘æ§ç³»ç»Ÿ</span>
<span class="hljs-keyword">use</span> icmp_monitor::IcmpMonitor;
<span class="hljs-keyword">use</span> tcp_monitor::TcpMonitor;
<span class="hljs-keyword">use</span> udp_monitor::UdpMonitor;
<span class="hljs-keyword">use</span> dns_monitor::DnsMonitor;
<span class="hljs-keyword">use</span> http_monitor::HttpMonitor;
<span class="hljs-keyword">use</span> ftp_monitor::FtpMonitor;
<span class="hljs-keyword">use</span> traceroute_monitor::TracerouteMonitor;
<span class="hljs-keyword">use</span> cpu_monitor::CpuMonitor;
<span class="hljs-keyword">use</span> memory_monitor::MemoryMonitor;
<span class="hljs-keyword">use</span> disk_monitor::DiskMonitor;
<span class="hljs-keyword">use</span> process_monitor::ProcessMonitor;

<span class="hljs-comment">// å®šä¹‰ç›‘æ§å·¥å‚</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">MonitorFactory</span>;

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">MonitorFactory</span> {
    <span class="hljs-comment">// åŸºäºç­–ç•¥æ¨¡å¼ å·¥å‚å‡½æ•°è¿”å›ä¸€ä¸ªå®ç°ç‰¹å¾Monitorçš„ç›‘æ§å¼•æ“</span>
    <span class="hljs-comment">// å…¥å‚ä¸ºç›‘æ§ç±»å‹ï¼Œå‡ºå‚ä¸ºå…·ä½“çš„ç›‘æ§å¼•æ“</span>
    <span class="hljs-comment">// é€šè¿‡Box&lt;&gt;ç»Ÿä¸€è¿”å›ç±»å‹ï¼ŒåŒæ—¶å› ä¸ºå°ºå¯¸æœªçŸ¥å¿…é¡»è¦æ”¾åœ¨Boxåé¢ï¼ŒåŒæ—¶é€šè¿‡vTableè°ƒç”¨å®ç°å¤šæ€ï¼Œè°ƒç”¨ç«¯æ— éœ€å…³æ³¨å…·ä½“ç±»å‹</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_monitor</span>(monitor_type: MonitorType) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Monitor&gt; {
        <span class="hljs-keyword">match</span> monitor_type {
            MonitorType::Icmp =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(IcmpMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Tcp =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(TcpMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Udp =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(UdpMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Dns =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(DnsMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Http =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(HttpMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Ftp =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(FtpMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Traceroute =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(TracerouteMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Cpu =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(CpuMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Memory =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(MemoryMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Disk =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(DiskMonitor::<span class="hljs-title function_ invoke__">new</span>()),
            MonitorType::Process =&gt; <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(ProcessMonitor::<span class="hljs-title function_ invoke__">new</span>()),
        }
    }
}

</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å®šä¹‰å…·ä½“çš„ç›‘æ§å¼•æ“æ¨¡å—ã€‚æ‰€æœ‰ç›‘æ§å¼•æ“å‡éµå¾ªç›¸åŒçš„ç»“æ„ï¼šå®ç°ç»Ÿä¸€çš„Â <code>Monitor</code>Â traitï¼Œå¹¶é€šè¿‡å®Œå–„Â <code>check</code>Â æ–¹æ³•ï¼Œæ¥æ‰¿è½½å„ç±»ç›‘æ§ä»»åŠ¡çš„å…·ä½“é€»è¾‘ï¼Œä¸ºä¾¿äºç†è§£ï¼Œè¿™é‡Œæˆ‘ä»¬ä»…ä»¥å…¶ä¸­ä¸€ä¸ªç›‘æ§ç±»å‹ä¸ºä¾‹è¿›è¡Œå±•ç¤ºï¼Œå…¶ä»–ç±»å‹çš„å®ç°æ–¹å¼ä¸æ­¤ç±»ä¼¼ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/monitor/cpu_monitor.rs</span>
<span class="hljs-keyword">use</span> super::monitor_trait::Monitor;
<span class="hljs-keyword">use</span> super::types::{ MonitorConfig, CheckResult, CheckResultDetail, CpuMonitorResult};
<span class="hljs-keyword">use</span> crate::tools_types::MonitorType;

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CpuMonitor</span> {

}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">CpuMonitor</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        CpuMonitor {}
    }
}
<span class="hljs-comment">// ç”¨æ¥è®©traitä¸­çš„å¼‚æ­¥æ–¹æ³•å¯ç”¨ï¼Œè¯¦ç»†çš„è¯·æŸ¥çœ‹Q&amp;A</span>
<span class="hljs-meta">#[async_trait::async_trait]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Monitor</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">CpuMonitor</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>(&amp;<span class="hljs-keyword">self</span>, config: &amp;MonitorConfig) <span class="hljs-punctuation">-&gt;</span> CheckResult {

        CheckResult {
            id: uuid::Uuid::<span class="hljs-title function_ invoke__">new_v4</span>().<span class="hljs-title function_ invoke__">as_u128</span>(),
            monitor_type: MonitorType::Cpu,
            target: config.target.<span class="hljs-title function_ invoke__">clone</span>(),
            status: <span class="hljs-literal">true</span>,
            details: CheckResultDetail::<span class="hljs-title function_ invoke__">Cpu</span>(CpuMonitorResult::<span class="hljs-title function_ invoke__">default</span>())
        }
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_type</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> MonitorType {
        MonitorType::Cpu
    }
}
</code></pre>
<p>åœ¨å®Œæˆäº†å¤šç±»å‹ç›‘æ§å¼•æ“çš„å£°æ˜ä¸æ¨¡å—å®šä¹‰ä¹‹åï¼Œæˆ‘ä»¬çš„å„ä¸ªå¼•æ“å·²ç»å…·å¤‡äº†ç‹¬ç«‹è¿è¡Œçš„èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå¼•æ“æœ¬èº«éœ€è¦è¢«åè°ƒå’Œé©±åŠ¨ï¼Œè¿™æ­£æ˜¯<strong>è°ƒåº¦å™¨</strong>æ‰€æ‰¿æ‹…çš„æ ¸å¿ƒè§’è‰²ã€‚</p>
<p>è°ƒåº¦å™¨ä½œä¸ºæ•´ä¸ªç³»ç»Ÿçš„ä¸­æ¢ï¼Œè´Ÿè´£ä¸²è”èµ·å®Œæ•´çš„ç›‘æ§æµç¨‹ï¼šå®ƒé¦–å…ˆè·å–ç›‘æ§ä»»åŠ¡åˆ—è¡¨ï¼Œéšåæ ¹æ®æ¯ä¸ªä»»åŠ¡çš„å…·ä½“é…ç½®å‚æ•°ï¼ŒåŠ¨æ€è°ƒç”¨å¯¹åº”çš„ç›‘æ§å¼•æ“æ¥æ‰§è¡Œç›‘æ§æ£€æŸ¥ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè°ƒåº¦å™¨ä¸å…³å¿ƒå…·ä½“å¦‚ä½•ç›‘æ§ï¼Œè€Œæ˜¯ä¸“æ³¨äº<code>â€œä½•æ—¶â€</code>ä»¥åŠ<code>â€œå¦‚ä½•è°ƒåº¦â€</code>ç›‘æ§ä»»åŠ¡ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å…·ä½“å®ç°è¿™ä¸ªå…³é”®çš„ç›‘æ§è°ƒåº¦å™¨ï¼š</p>
<h5 data-id="heading-9">2.ç›‘æ§å¼•æ“è°ƒåº¦å™¨çš„å…·ä½“å®ç°</h5>
<p>è°ƒåº¦å™¨è™½æ‰¿æ‹…ç€ç³»ç»Ÿâ€œä¸­æ¢â€çš„åå·ï¼Œä½†åœ¨å„ç›‘æ§å¼•æ“å·²å°è£…å®Œå¤‡çš„å‰æä¸‹ï¼Œå…¶æ ¸å¿ƒèŒè´£ç¡®å®æ¸…æ™°è€Œèšç„¦â€”â€”å®ƒæ— éœ€å…³å¿ƒå…·ä½“çš„æ£€æµ‹é€»è¾‘ï¼Œåªéœ€ä¸“æ³¨äºè°ƒåº¦æœ¬èº«ã€‚
å…·ä½“æ¥è¯´ï¼Œå®ƒéœ€è¦å®Œæˆä¸‰ä¸ªæ ¸å¿ƒä»»åŠ¡ï¼š</p>
<ul>
<li><strong>å¼‚æ­¥è°ƒåº¦</strong>ï¼šå¹¶å‘åœ°è°ƒç”¨å„ä¸ªç›‘æ§å¼•æ“çš„æ£€æµ‹æ–¹æ³•ï¼›</li>
<li><strong>å¾ªç¯æ‰§è¡Œ</strong>ï¼šæŒ‰é¢„è®¾é—´éš”å¯åŠ¨è½®è¯¢ä»»åŠ¡ï¼Œå®ç°æŒç»­ç›‘æ§ï¼›</li>
<li><strong>ç»“æœæ”¶é›†</strong>ï¼šæ±‡æ€»å¹¶è¾“å‡ºæ¯æ¬¡ä»»åŠ¡çš„æ‰§è¡Œç»“æœã€‚</li>
</ul>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°±æ¥å…·ä½“å®ç°è¿™ä¸€è°ƒåº¦é€»è¾‘ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::{ time::Duration}; <span class="hljs-comment">// å¼•å…¥æ—¶é—´æ¨¡å—</span>
<span class="hljs-comment">// å®šä¹‰å…¬ç”¨çš„æšä¸¾å€¼æ¨¡å— è¿™æ ·åœ¨å…¶ä»–çš„åœ°æ–¹ å¯ä»¥é€šè¿‡ use crate::tools_types..æ¥ä½¿ç”¨</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> tools_types;
<span class="hljs-keyword">use</span> tools_types::{ convert_to_monitor_config };

<span class="hljs-comment">// å¼‚æ­¥ç›‘æ§æ¨¡å—ï¼Œç”¨äºå®ç°å¼‚æ­¥è°ƒåº¦</span>
<span class="hljs-keyword">mod</span> async_monitor;
<span class="hljs-keyword">use</span> async_monitor::AsyncMonitor;


<span class="hljs-comment">// å®šä¹‰æ–‡ä»¶è¯»å–æ¨¡å—ï¼Œå°è£…é€šç”¨çš„æ–‡ä»¶å¤„ç†æ“ä½œ</span>
<span class="hljs-keyword">mod</span> tools;
<span class="hljs-keyword">use</span> tools::file_tool::{read_json_file};

<span class="hljs-comment">// å®šä¹‰ç›‘æ§å¼•æ“æ¨¡å—ï¼Œå¼•å…¥ç›‘æ§å¼•æ“å·¥å‚å¯¹è±¡</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">mod</span> monitor;
<span class="hljs-keyword">use</span> monitor::{ MonitorFactory } ;


<span class="hljs-meta">#[tokio::main]</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç½‘ç»œç›‘æ§å™¨ å¯åŠ¨..."</span>);
    <span class="hljs-comment">// è·å–éœ€è¦ç›‘æ§çš„ç½‘ç«™åˆ—è¡¨ï¼Œè¿™é‡Œçš„è¯æˆ‘ä»¬æ”¹æˆäº†ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œæ¯ä¸ªç›‘æ§å¼•æ“å‚æ•°éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ–¹ä¾¿åç»­é€šè¿‡é¡µé¢æ¥é…ç½®,ç±»ä¼¼ä¸‹é¢çš„æ•°æ®ç»“æ„ï¼š</span>
     <span class="hljs-comment">//   [{</span>
    <span class="hljs-comment">//         "target": "https://www.google.com",</span>
    <span class="hljs-comment">//         "monitor_type": "HTTP",</span>
    <span class="hljs-comment">//         "method": "GET",</span>
    <span class="hljs-comment">//         "params": {},</span>
    <span class="hljs-comment">//         "headers": {},</span>
    <span class="hljs-comment">//         "rules": [</span>
    <span class="hljs-comment">//             {</span>
    <span class="hljs-comment">//                 "rule_type": "contains",</span>
    <span class="hljs-comment">//                 "rule_content": "Google",</span>
    <span class="hljs-comment">//                 "rule_description": "æ£€æŸ¥é¡µé¢æ˜¯å¦åŒ…å« 'Google' å­—ç¬¦ä¸²"</span>
    <span class="hljs-comment">//             }</span>
    <span class="hljs-comment">//         ],</span>
    <span class="hljs-comment">//         "timeout": 5000</span>
    <span class="hljs-comment">//     }]</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monitor_website_list</span> = <span class="hljs-title function_ invoke__">read_json_file</span>(<span class="hljs-string">"monitor_list.json"</span>);
    <span class="hljs-keyword">match</span> monitor_website_list {
        <span class="hljs-title function_ invoke__">Ok</span>(monitor_list) =&gt; {
            <span class="hljs-comment">// å­˜å‚¨çº¿ç¨‹çš„è¿è¡Œç»“æœ</span>
            <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">result_monitors</span> = <span class="hljs-type">Vec</span>::<span class="hljs-title function_ invoke__">new</span>();
            <span class="hljs-keyword">for</span> <span class="hljs-variable">monitor</span> <span class="hljs-keyword">in</span> monitor_list {
                <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå…·ä½“çš„ç›‘æ§å™¨å®ä¾‹</span>
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">target</span> = MonitorFactory::<span class="hljs-title function_ invoke__">create_monitor</span>(monitor.monitor_type);
                <span class="hljs-comment">// æŠŠç›‘æ§é…ç½®æ–‡ä»¶ä¸­çš„å¯¹è±¡è½¬æ¢æˆç›‘æ§å™¨æ£€æµ‹æ—¶éœ€è¦çš„å¯¹è±¡</span>
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">monitor_config</span> = <span class="hljs-title function_ invoke__">convert_to_monitor_config</span>(&amp;monitor);
                <span class="hljs-comment">// å¦‚æœæ˜¯ä¸€ä¸ª è½®è¯¢ç›‘æ§ åˆ›å»ºä¸€ä¸ªè½®è¯¢ç›‘æ§å™¨</span>
                <span class="hljs-keyword">match</span> monitor.interval {
                    <span class="hljs-title function_ invoke__">Some</span>(interval) =&gt; {
                        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªè½®è¯¢ç›‘æ§è°ƒåº¦å™¨</span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">async_monitor</span> = AsyncMonitor::<span class="hljs-title function_ invoke__">create_interval_monitoring</span>(target, monitor_config).<span class="hljs-keyword">await</span>;
                        result_monitors.<span class="hljs-title function_ invoke__">push</span>(async_monitor);
                    },
                    <span class="hljs-literal">None</span> =&gt; {
                        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå•æ¬¡ç›‘æ§è°ƒåº¦å™¨</span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">once_monitor</span> = AsyncMonitor::<span class="hljs-title function_ invoke__">create_once_monitoring</span>(target, monitor_config).<span class="hljs-keyword">await</span>;
                        result_monitors.<span class="hljs-title function_ invoke__">push</span>(once_monitor);
                    }
                }
            }
            <span class="hljs-comment">// å¤„ç†æ‰€æœ‰çš„ç›‘æ§ç»“æœ</span>
            <span class="hljs-keyword">for</span> <span class="hljs-variable">monitor_receiver</span> <span class="hljs-keyword">in</span> result_monitors {
                <span class="hljs-comment">// ä½¿ç”¨tokio::spawnå¼‚æ­¥ä»»åŠ¡æ¥ç›‘æ§ä¸åŒç±»å‹çš„è°ƒåº¦å™¨ï¼Œé¿å…é˜»å¡ä¸»è¿›ç¨‹</span>
                tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
                    <span class="hljs-comment">// è¿™é‡Œä½¿ç”¨ä¸€ä¸ªå¾ªç¯æ¥æ¥æ”¶æ‰€æœ‰çš„ç›‘æ§ç»“æœ</span>
                    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">result_receiver</span> = monitor_receiver;
                    <span class="hljs-keyword">while</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(result) = result_receiver.<span class="hljs-title function_ invoke__">recv</span>().<span class="hljs-keyword">await</span> {
                        <span class="hljs-comment">// ç›´æ¥æ‰“å°ç›¸å…³çš„æ£€æµ‹ç»“æœï¼Œåç»­ä¼šæ¥å…¥H5é¡µé¢æ¥å®ç°</span>
                        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Received result: {:?}"</span>, result);
                    }
                });

            }
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ‰€æœ‰ç›‘æ§å·²å¯åŠ¨ï¼Œç¨‹åºå°†ç»§ç»­è¿è¡Œ"</span>);
            <span class="hljs-comment">// ä½ å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´è¿™ä¸ªæ—¶é—´æˆ–è€…ä½¿ç”¨å…¶ä»–æ–¹å¼ä¿æŒç¨‹åºè¿è¡Œ</span>
            tokio::time::<span class="hljs-title function_ invoke__">sleep</span>(Duration::<span class="hljs-title function_ invoke__">from_secs</span>(<span class="hljs-number">60</span>)).<span class="hljs-keyword">await</span>; <span class="hljs-comment">// è®©ç¨‹åºè¿è¡Œ60sç„¶åç¨‹åºå°±ä¼šé€€å‡º</span>
        },
        <span class="hljs-title function_ invoke__">Err</span>(err) =&gt; {
            eprintln!(<span class="hljs-string">"Error reading monitor list: {}"</span>, err.<span class="hljs-title function_ invoke__">to_string</span>());
        }
    }
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ‰€æœ‰ URL æ£€æŸ¥å®Œæ¯•"</span>);
}

</code></pre>
<p>å…¶ä¸­ä¸Šé¢ä½¿ç”¨åˆ°äº†è½®è¯¢è°ƒåº¦å™¨å’Œå•æ¬¡è°ƒåº¦å™¨ï¼Œä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“çš„çœ‹ä¸‹ç›¸å…³çš„å®ç°é€»è¾‘ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">src/async_monitor.rs
<span class="hljs-keyword">use</span>  tokio::time::{interval, Duration};
<span class="hljs-keyword">use</span> crate::monitor::monitor_trait::Monitor;
<span class="hljs-keyword">use</span> crate::monitor::types::{MonitorConfig, CheckResult};
<span class="hljs-comment">// 1. å¼•å…¥mpsc é€šé“æ¦‚å¿µ ç”¨äºåˆ›å»ºé€šé“ å¹¶å°†æ¥æ”¶ç«¯è¿”å›ç»™è°ƒç”¨è€…</span>
<span class="hljs-keyword">use</span> tokio::sync::mpsc;

<span class="hljs-keyword">use</span> std::pin::Pin;

<span class="hljs-comment">// è¿™é‡Œç»Ÿä¸€è¿”å›å¼‚æ­¥ç›‘æ§çš„ç±»å‹ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œç»Ÿä¸€çš„ç›‘æ§ç»“æœæ£€æµ‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MonitorResultReceiver</span> = mpsc::Receiver&lt;CheckResult&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PinnedReceiverFuture</span> = Pin&lt;<span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Future&lt;Output = MonitorResultReceiver&gt; + <span class="hljs-built_in">Send</span>&gt;&gt;;

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">AsyncMonitor</span> {
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">AsyncMonitor</span> {
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªè½®è¯¢çš„ç›‘æ§å™¨</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_interval_monitoring</span>(target: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Monitor&gt;, config: MonitorConfig) <span class="hljs-punctuation">-&gt;</span> PinnedReceiverFuture {
        <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">pin</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
            <span class="hljs-keyword">let</span> (tx, rx) = mpsc::<span class="hljs-title function_ invoke__">channel</span>(<span class="hljs-number">100</span>);
            tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">interval</span>: tokio::time::Interval = <span class="hljs-title function_ invoke__">interval</span>(Duration::<span class="hljs-title function_ invoke__">from_secs</span>(config.interval.<span class="hljs-title function_ invoke__">unwrap</span>()));
                <span class="hljs-keyword">loop</span> {
                    interval.<span class="hljs-title function_ invoke__">tick</span>().<span class="hljs-keyword">await</span>;
                    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">check_result</span> = target.<span class="hljs-title function_ invoke__">check</span>(&amp;config).<span class="hljs-keyword">await</span>;
                    <span class="hljs-keyword">if</span> tx.<span class="hljs-title function_ invoke__">send</span>(check_result).<span class="hljs-keyword">await</span>.<span class="hljs-title function_ invoke__">is_err</span>() {
                        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Error sending result to channel"</span>);
                    }

                }
            });
            <span class="hljs-comment">// è¿”å›æ¥æ”¶ç«¯ å¯¹è±¡</span>
            rx

        })
    }
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå•æ¬¡ç›‘æ§</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_once_monitoring</span>( target: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Monitor&gt;, config: MonitorConfig) <span class="hljs-punctuation">-&gt;</span> PinnedReceiverFuture {
        <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">pin</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
            <span class="hljs-keyword">let</span> (tx, rx) = mpsc::<span class="hljs-title function_ invoke__">channel</span>(<span class="hljs-number">1</span>);
            tokio::<span class="hljs-title function_ invoke__">spawn</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">move</span> {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">check_result</span> = target.<span class="hljs-title function_ invoke__">check</span>(&amp;config).<span class="hljs-keyword">await</span>;
                <span class="hljs-keyword">if</span> tx.<span class="hljs-title function_ invoke__">send</span>(check_result).<span class="hljs-keyword">await</span>.<span class="hljs-title function_ invoke__">is_err</span>() {
                    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Error sending result to channel"</span>);
                }
            });
            <span class="hljs-comment">// è¿”å›æ¥æ”¶ç«¯ å¯¹è±¡</span>
            rx
        })

    }

}

</code></pre>
<p>ğŸ‰Â <strong>çƒ­çƒˆç¥è´ºï¼</strong> Â ğŸ‰</p>
<p>å¦‚æœæ‚¨å·²ç»è·Ÿéšåˆ°è¿™é‡Œï¼Œé‚£ä¹ˆæ­å–œâ€”â€”æ‚¨å·²ç»æˆåŠŸå®Œæˆäº†æ•´ä¸ªç›‘æ§ç³»ç»Ÿæ ¸å¿ƒæ¡†æ¶çš„æ­å»ºï¼è¿™æ˜¯å€¼å¾—ğŸ‘æŒå£°çš„é‡è¦é‡Œç¨‹ç¢‘ï¼</p>
<p>æ ¹æ®æˆ‘ä»¬æœ€åˆçš„è§„åˆ’ï¼Œæ¥ä¸‹æ¥å°†è¿›å…¥å…·ä½“ç›‘æ§ç±»å‹çš„å®ç°é˜¶æ®µã€‚åœ¨æœ¬æ¬¡å®ç°ä¸­ï¼Œæˆ‘ä»¬å°†èšç„¦äºÂ <strong>HTTP ç›‘æ§</strong>Â çš„è¯¦ç»†é€»è¾‘å¼€å‘ï¼Œè¿™ä¹Ÿæ˜¯æœ€å¸¸ç”¨å’ŒåŸºç¡€çš„æœåŠ¡ç›‘æ§ç±»å‹ã€‚</p>
<p>è‡³äºå…¶ä»–ç›‘æ§ç±»å‹ï¼ˆå¦‚ TCPã€DNSã€ICMP ç­‰ï¼‰ï¼Œæˆ‘ä»¬å°†å®ƒä»¬ç•™ä½œå¤§å®¶çš„<strong>è¯¾åå®è·µä½œä¸š</strong>â€”â€”å½“ç„¶ï¼Œä¹Ÿä¸æ’é™¤æˆ‘åç»­ä¼šæ‚„æ‚„æ›´æ–°è¡¥å……çš„å¯èƒ½æ€§ ğŸ™„</p>
<h4 data-id="heading-10">å®ç°HTTP/HTTPSç›‘æ§å¼•æ“</h4>
<p>åŸºäºä¹‹å‰çš„éœ€æ±‚åˆ†æï¼Œæˆ‘ä»¬å·²ç»æ˜ç¡®äº† HTTP ç›‘æ§æ‰€éœ€å®ç°çš„åŠŸèƒ½ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ ¹æ®æ—¢å®šçš„è®¾è®¡ï¼Œå¼€å§‹å®šä¹‰ä¸ä¹‹å¯¹åº”çš„ç›‘æ§å™¨ç»“æ„ä½“ã€‚</p>
<h5 data-id="heading-11">1.1 å®šä¹‰HTTPç›‘æ§ç±»å‹ç»“æ„ä½“</h5>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// src/tools_types.rs</span>
<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªstruct æ¥ä¿å­˜httpç›¸å…³ç›‘æ§çš„æœ€ç»ˆç»“æœå‚æ•°ç»“æ„ä½“</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HttpMonitorResult</span>{
    <span class="hljs-keyword">pub</span> basic_avaliable: BasicAvailability,
    <span class="hljs-keyword">pub</span> response_headers: SecurityHeaders,
    <span class="hljs-keyword">pub</span> performance_timings: PerformanceTimings,
    <span class="hljs-keyword">pub</span> certificate_info: CertificateInfo, <span class="hljs-comment">// SSLè¯ä¹¦ä¿¡æ¯</span>
    <span class="hljs-keyword">pub</span> content_verification: ContentVerificationResult,
    <span class="hljs-keyword">pub</span> advanced_avaliable: AdvancedAvailability,

}

</code></pre>
<p>åœ¨ä¸Šé¢æˆ‘ä»¬å·²ç»çœ‹åˆ°äº†HTTPç›‘æ§å¼•æ“æœ€åçš„ç›‘æ§ç»“æœäº†ï¼ŒåŒ…å«6ä¸ªæ¨¡å—ï¼š</p>
<ul>
<li><code>BasicAvailability</code>ï¼šåŸºç¡€ç›‘æ§ç»“æœï¼ŒåŒ…æ‹¬æ˜¯å¦å¯è®¿é—®ã€çŠ¶æ€ç ã€åè®®ç±»å‹ç­‰ç­‰</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªstruct æ¥ä¿å­˜åŸºæœ¬çš„HTTPå¯ç”¨æ€§ä¿¡æ¯</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">BasicAvailability</span>{
    <span class="hljs-keyword">pub</span> is_reachable:  <span class="hljs-type">bool</span>, <span class="hljs-comment">// æ˜¯å¦å¯è¾¾</span>
    <span class="hljs-keyword">pub</span> dns_resolvable: <span class="hljs-type">bool</span>, <span class="hljs-comment">// DNSè§£ææ˜¯å¦æˆåŠŸ</span>
    <span class="hljs-keyword">pub</span> tcp_connect_success: <span class="hljs-type">bool</span>, <span class="hljs-comment">// TCPé“¾æ¥æ˜¯å¦æˆåŠŸ</span>
    <span class="hljs-comment">// HTTPç›¸å…³</span>
    <span class="hljs-keyword">pub</span> res_received: <span class="hljs-type">bool</span>, <span class="hljs-comment">// æ˜¯å¦æ”¶åˆ°å“åº”</span>
    <span class="hljs-keyword">pub</span> res_status_code: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">u16</span>&gt;, <span class="hljs-comment">// å“åº”çŠ¶æ€ç </span>
    <span class="hljs-keyword">pub</span> res_status_category: StatusCategory, <span class="hljs-comment">// å“åº”çŠ¶æ€ç ç±»åˆ«</span>
    <span class="hljs-keyword">pub</span> protocol_version: <span class="hljs-type">String</span>, <span class="hljs-comment">// HTTPåè®®ç‰ˆæœ¬ï¼ˆå¦‚HTTP/1.1, HTTP/2ï¼‰</span>
    <span class="hljs-keyword">pub</span> res_content_type: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// å“åº”å†…å®¹ç±»å‹</span>
    <span class="hljs-keyword">pub</span> res_content_length: <span class="hljs-type">u64</span>, <span class="hljs-comment">// å“åº”å†…å®¹é•¿åº¦</span>
    <span class="hljs-keyword">pub</span> res_charset: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// å“åº”å­—ç¬¦é›†</span>
}
</code></pre>
<ul>
<li><code>SecurityHeaders</code>ï¼šå®‰å…¨å¤´ç›¸å…³ç›‘æ§ç»“æœï¼Œæ˜¯å¦åŒ…å«ä¸€äº›å®‰å…¨å¤´ä¿¡æ¯ï¼š<code>strict_transport_securityã€content_security_policy</code>ç­‰ç­‰</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªstruct æ¥ä¿å­˜å®‰å…¨å¤´ç›‘æ§ä¿¡æ¯</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">SecurityHeaders</span>{
    <span class="hljs-keyword">pub</span> strict_transport_security: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨Strict-Transport-Securityå¤´</span>
    <span class="hljs-keyword">pub</span> content_security_policy: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨Content-Security-Policyå¤´</span>
    <span class="hljs-keyword">pub</span> x_content_type_options: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨X-Content-Type-Optionså¤´</span>
    <span class="hljs-keyword">pub</span> x_frame_options: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨X-Frame-Optionså¤´</span>
    <span class="hljs-keyword">pub</span> x_xss_protection: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨X-XSS-Protectionå¤´</span>
    <span class="hljs-keyword">pub</span> referrer_policy: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨Referrer-Policyå¤´</span>
    <span class="hljs-keyword">pub</span> feature_policy: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨Feature-Policyå¤´</span>
    <span class="hljs-keyword">pub</span> permissions_policy: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// æ˜¯å¦å­˜åœ¨Permissions-Policyå¤´</span>
    <span class="hljs-keyword">pub</span> security_headers_ok: <span class="hljs-type">bool</span>, <span class="hljs-comment">// æ˜¯å¦æ‰€æœ‰å®‰å…¨å¤´éƒ½å­˜åœ¨</span>
}
</code></pre>
<ul>
<li><code>PerformanceTimings</code>ï¼šæ€§èƒ½æŒ‡æ ‡ï¼ŒåŒ…æ‹¬TCPè¿æ¥æ—¶é—´ã€TLSé“¾æ¥æ—¶é—´ã€è¿æ¥è€—æ—¶ç­‰ç­‰</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œè¡¨ç¤ºæ€§èƒ½æŒ‡æ ‡çš„ç±»åˆ«</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">PerformanceTimings</span> {
   <span class="hljs-comment">// æ€§èƒ½æŒ‡æ ‡ç›¸å…³</span>
    <span class="hljs-keyword">pub</span> dns_lookup_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// DNSæŸ¥è¯¢æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> tcp_connect_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// TCPè¿æ¥æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> tls_handshake_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// TLSæ¡æ‰‹æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> first_byte_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// é¦–å­—èŠ‚æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> content_download_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// å†…å®¹ä¸‹è½½æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> ssl_negotiation_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// SSLåå•†æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> ssl_cert_valid: <span class="hljs-type">bool</span>, <span class="hljs-comment">// SSLè¯ä¹¦æ˜¯å¦æœ‰æ•ˆ</span>
    <span class="hljs-keyword">pub</span> request_sending_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// è¯·æ±‚å‘é€æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> server_processing_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// æœåŠ¡å™¨å¤„ç†æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> response_receiving_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// å“åº”æ¥æ”¶æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>
    <span class="hljs-keyword">pub</span> total_time: <span class="hljs-type">u128</span>, <span class="hljs-comment">// æ€»æ—¶é—´ï¼Œå•ä½æ¯«ç§’</span>

}
</code></pre>
<ul>
<li><code>CertificateInfo</code>:SSLè¯ä¹¦ç›¸å…³å†…å®¹ï¼ŒåŒ…æ‹¬è¯ä¹¦ç¼–å·ã€æ˜¯å¦æœ‰æ•ˆç­‰ç­‰</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CertificateInfo</span> {
    <span class="hljs-keyword">pub</span> issuer: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// è¯ä¹¦é¢å‘è€…</span>
    <span class="hljs-keyword">pub</span> subject: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// è¯ä¹¦ä¸»é¢˜</span>
    <span class="hljs-keyword">pub</span> valid_from: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// è¯ä¹¦æœ‰æ•ˆæœŸå¼€å§‹æ—¶é—´</span>
    <span class="hljs-keyword">pub</span> valid_until: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// è¯ä¹¦æœ‰æ•ˆæœŸç»“æŸæ—¶é—´</span>
    <span class="hljs-keyword">pub</span> serial_number: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// è¯ä¹¦åºåˆ—å·</span>
    <span class="hljs-keyword">pub</span> signature_algorithm: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// ç­¾åç®—æ³•</span>
    <span class="hljs-keyword">pub</span> public_key_algorithm: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;, <span class="hljs-comment">// å…¬é’¥ç®—æ³•</span>
    <span class="hljs-keyword">pub</span> public_key_size: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">usize</span>&gt;, <span class="hljs-comment">// å…¬é’¥å¤§å°</span>
    <span class="hljs-keyword">pub</span> is_valid: <span class="hljs-type">bool</span>, <span class="hljs-comment">// è¯ä¹¦æ˜¯å¦æœ‰æ•ˆ</span>
}
</code></pre>
<ul>
<li><code>ContentVerificationResult</code>ï¼šå“åº”å†…å®¹ç›‘æ§ç»“æœï¼ŒåŒ…æ‹¬æ˜¯å¦åŒ…å«æŸå­—æ®µã€æ­£åˆ™åŒ¹é…å†…å®¹ç­‰</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">//  åˆ›å»ºä¸€ä¸ªå†…å®¹éªŒè¯ç»“æœ</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentVerificationResult</span> {
    <span class="hljs-keyword">pub</span> match_rules: <span class="hljs-type">Vec</span>&lt;ContentVerificationRulesResult&gt;, <span class="hljs-comment">// åŒ¹é…çš„è§„åˆ™</span>
    <span class="hljs-keyword">pub</span> failed_rules: <span class="hljs-type">Vec</span>&lt;ContentVerificationRulesResult&gt;, <span class="hljs-comment">// æœªåŒ¹é…çš„è§„åˆ™ åŠå…¶åŸå› </span>
}
<span class="hljs-comment">// å®šä¹‰æ ¸å¿ƒå†…å®¹éªŒè¯è¿”å›æ•°æ®ç»“æ„ä½“</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentVerificationRulesResult</span> {
    <span class="hljs-keyword">pub</span> rule_id: <span class="hljs-type">u64</span>,
    <span class="hljs-keyword">pub</span> status:StatusInfo,
    <span class="hljs-keyword">pub</span> message: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> rules: ContentVerificationRulesSingle
}
<span class="hljs-comment">//å®šä¹‰å†…å®¹ç›‘æ§è§„åˆ™ç»“æ„ä½“æ˜ç»†å­—æ®µ</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default, serde::Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentVerificationRulesSingle</span> {
    <span class="hljs-keyword">pub</span> rule_type: ContentVerificationRules,
    <span class="hljs-keyword">pub</span> rule_content: <span class="hljs-type">String</span>,
    <span class="hljs-keyword">pub</span> rule_description: <span class="hljs-type">String</span>,
}
<span class="hljs-comment">// å†…å®¹éªŒè¯ç±»åˆ«</span>
<span class="hljs-meta">#[derive(Debug, Clone, serde::Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ContentVerificationRules</span> {
    <span class="hljs-meta">#[serde(rename = <span class="hljs-string">"contains"</span>)]</span>
    Contains, <span class="hljs-comment">// å“åº”å†…å®¹ä¸­åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²</span>
    <span class="hljs-meta">#[serde(rename = <span class="hljs-string">"not_contains"</span>)]</span>
    NotContains, <span class="hljs-comment">// å“åº”å†…å®¹ä¸­ä¸åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²</span>
    <span class="hljs-meta">#[serde(rename = <span class="hljs-string">"regex"</span>)]</span>
    Regex, <span class="hljs-comment">// å“åº”å†…å®¹åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</span>
    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªé»˜è®¤å€¼ ç”¨äºåŒ¹é…</span>
    <span class="hljs-meta">#[serde(rename = <span class="hljs-string">"default"</span>)]</span> <span class="hljs-comment">// å®šä¹‰é»˜è®¤å€¼</span>
    <span class="hljs-built_in">Default</span>,
}
<span class="hljs-comment">// è®¾ç½®é»˜è®¤å€¼</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Default</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">ContentVerificationRules</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">default</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        ContentVerificationRules::<span class="hljs-built_in">Default</span>
    }
}

<span class="hljs-meta">#[derive(Debug, Clone, serde::Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">StatusInfo</span> {
    Success,
    Failed,
    Unknown,
}
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Default</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">StatusInfo</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">default</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        StatusInfo::Unknown
    }
}



</code></pre>
<ul>
<li>AdvancedAvailabilityï¼šé«˜çº§ç›‘æ§å†…å®¹ï¼ŒåŒ…å«äº‹ç‰©ç›‘æ§ç­‰ï¼Œæœ¬æ¬¡å…ˆä¸æ¶‰åŠ...</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// é«˜çº§å¯ç”¨æ€§ç±»åˆ« ä¸šåŠ¡æŒ‡æ ‡ç›‘æ§ äº‹åŠ¡ç›‘æ§ ç­‰</span>
<span class="hljs-meta">#[derive(Debug, Clone, Default)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">AdvancedAvailability</span> {
    <span class="hljs-keyword">pub</span> bussiness_metrics: HashMap&lt;<span class="hljs-type">String</span>, <span class="hljs-type">String</span>&gt;,
}
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ç›‘æ§ç»“æœç»“æ„ä½“çš„å®šä¹‰ï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯é€æ­¥å¡«å……æ¯ä¸ªå­—æ®µçš„å€¼â€”â€”è¿™å°±åƒå®Œæˆæ‹¼å›¾çš„æœ€åä¸€å—ï¼Œå½“æ‰€æœ‰å­—æ®µéƒ½è¢«æ­£ç¡®èµ‹å€¼æ—¶ï¼Œæ•´ä¸ªHTTPç›‘æ§æ¨¡å—çš„å®ç°ä¹Ÿå°±åœ†æ»¡å®Œæˆäº†ã€‚</p>
<p>è®©æˆ‘ä»¬ç«‹å³å¼€å§‹è¿™æœ€åçš„å®ç°ç¯èŠ‚ï¼Œä¸ºæ¯ä¸ªå­—æ®µæ³¨å…¥å®é™…çš„æ•°æ®å†…å®¹ã€‚</p>
<h5 data-id="heading-12">1.2 HTTPç›‘æ§å¼•æ“çš„å®ç°</h5>
<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°†è§†çº¿è½¬å›æœ€åˆè®¾è®¡çš„ HTTP ç›‘æ§å¼•æ“ã€‚åœ¨ä¹‹å‰æ­å»ºæ¡†æ¶æ—¶ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†ä¸€ä¸ªåŸºç¡€çš„ç»“æœè¿”å›é€»è¾‘ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨æ­¤åŸºç¡€ä¸Šé€æ­¥æ·±åŒ–ï¼Œå¡«å……æ›´å¤šå®é™…åŠŸèƒ½ã€‚</p>
<p>æ­£å¦‚å‰æ–‡æ‰€æåˆ°çš„ï¼Œæˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨Â <code>reqwest</code>Â åº“æ¥å¤„ç† HTTP è¯·æ±‚ã€‚å…¶åŸºæœ¬ç”¨æ³•åœ¨æ­¤ä¸å†èµ˜è¿°ï¼Œç°åœ¨è®©æˆ‘ä»¬é›†ä¸­ç²¾åŠ›ï¼Œè¿›ä¸€æ­¥å®Œå–„Â <code>HttpMonitor</code>Â å¼•æ“çš„å®Œæ•´é€»è¾‘ã€‚</p>
<pre><code class="hljs language-rust" lang="rust">src/monitor/http_monitor.rs

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HttpMonitor</span> {
    client: Client,
}
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">HttpMonitor</span> {
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªClientï¼Œæ–¹ä¾¿åç»­è¿›è¡ŒURLè°ƒç”¨</span>
        HttpMonitor {
            client: Client::<span class="hljs-title function_ invoke__">builder</span>()
                .<span class="hljs-title function_ invoke__">redirect</span>(reqwest::redirect::Policy::<span class="hljs-title function_ invoke__">limited</span>(<span class="hljs-number">5</span>)) <span class="hljs-comment">// é‡å®šå‘æ¬¡æ•°é™åˆ¶ä¸º5æ¬¡</span>
                .<span class="hljs-title function_ invoke__">build</span>().<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">"Failed to create HTTP client"</span>),
        }
    }
    <span class="hljs-comment">// è·å–ä¸€ä¸ªhttp å®¢æˆ·ç«¯é“¾æ¥ æ ¹æ® method æ–¹æ³•æ¥åˆ¤æ–­ åˆ›å»ºä¸€ä¸ªhttp é“¾æ¥</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_client</span>(&amp;<span class="hljs-keyword">self</span>, config: &amp;HttpMonitorConfig) <span class="hljs-punctuation">-&gt;</span> reqwest::RequestBuilder {
        <span class="hljs-comment">//   åˆ›å»ºä¸€ä¸ªhttp è¯·æ±‚</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut  </span><span class="hljs-variable">request_client</span> = <span class="hljs-keyword">match</span> config.method {
            HttpMethodTypes::Get =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">get</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()),
            HttpMethodTypes::Post =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">post</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()),
            HttpMethodTypes::Put =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">put</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()),
            HttpMethodTypes::Delete =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">delete</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()),
            HttpMethodTypes::Head =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">head</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()),
            HttpMethodTypes::Patch =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">patch</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()),
            _ =&gt; <span class="hljs-keyword">self</span>.client.<span class="hljs-title function_ invoke__">get</span>(config.url.<span class="hljs-title function_ invoke__">as_str</span>()), <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ GET æ–¹æ³•</span>
        };

        <span class="hljs-comment">// æ ¹æ®é…ç½®ä¿¡æ¯  è®¾ç½®è¶…æ—¶æ—¶é—´</span>
       request_client = request_client.<span class="hljs-title function_ invoke__">timeout</span>(std::time::Duration::<span class="hljs-title function_ invoke__">from_millis</span>(config.timeout));
        <span class="hljs-comment">// å¦‚æœç”¨æˆ·è‡ªå®šä¹‰äº†Headerå¤´ä¿¡æ¯ åœ¨è¿™é‡Œè¦æ·»åŠ è¿›å»</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(headers) = &amp;config.headers {
            request_client = request_client.<span class="hljs-title function_ invoke__">headers</span>(headers.<span class="hljs-title function_ invoke__">clone</span>());
        }
       <span class="hljs-comment">// å…¼å®¹å‡ ç§ä¸åŒçš„bodyç±»å‹ï¼Œåˆ†åˆ«è¿›è¡Œè®¾ç½®</span>
       <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(body) = &amp;config.body {
           <span class="hljs-keyword">match</span> body {
               HttpBody::<span class="hljs-title function_ invoke__">Text</span>(text) =&gt; {
                   request_client = request_client.<span class="hljs-title function_ invoke__">body</span>(text.<span class="hljs-title function_ invoke__">clone</span>());
               },
               HttpBody::<span class="hljs-title function_ invoke__">Binary</span>(bin) =&gt; {
                   request_client = request_client.<span class="hljs-title function_ invoke__">body</span>(bin.<span class="hljs-title function_ invoke__">clone</span>());
               },
               HttpBody::<span class="hljs-title function_ invoke__">Json</span>(json_value) =&gt; {
                   request_client = request_client.<span class="hljs-title function_ invoke__">json</span>(json_value);
               },
               HttpBody::Empty =&gt; {request_client = request_client.<span class="hljs-title function_ invoke__">body</span>(<span class="hljs-string">""</span>);},
           }
       }
        <span class="hljs-comment">// æœ€ç»ˆè¿”å›ä¸€ä¸ªHTTPè¿æ¥ Client </span>
       request_client
    }
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç”ŸæˆåŸºç¡€ç›‘æ§ç»“æœçš„å‡½æ•°</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_basic_result</span>(&amp;<span class="hljs-keyword">self</span>, ...) <span class="hljs-punctuation">-&gt;</span> BasicAvailability {ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—}
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç”Ÿæˆå®‰å…¨å¤´ç›‘æ§ç»“æœçš„å‡½æ•°</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_headers_result</span>(&amp;<span class="hljs-keyword">self</span>,...) <span class="hljs-punctuation">-&gt;</span> SecurityHeaders{ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—}
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç”Ÿæˆæ€§èƒ½æŒ‡æ ‡çš„ç›‘æ§ç»“æœçš„å‡½æ•°</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_performance_timings</span>(&amp;<span class="hljs-keyword">self</span>,...) <span class="hljs-punctuation">-&gt;</span> PerformanceTimings {ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—}
    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ ¡éªŒå“åº”å†…å®¹ç›‘æ§ç»“æœçš„å‡½æ•°</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_content_verification_result</span>(&amp;<span class="hljs-keyword">self</span>,...) <span class="hljs-punctuation">-&gt;</span> ContentVerificationResult{ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—ğŸš—}
    <span class="hljs-comment">// åˆ›å»ºé«˜çº§å¯ç”¨æ€§ç»“æœ ç›´æ¥è¿”å›ä¸€ä¸ªé»˜è®¤ç»“æœ</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_advanced_availability_result</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> AdvancedAvailability {
        AdvancedAvailability {
            bussiness_metrics: HashMap::<span class="hljs-title function_ invoke__">new</span>(),
        }
    } 
    
}
<span class="hljs-comment">//  ä¸‹é¢çš„è¯ å°±æ˜¯è¦å®ç°å…·ä½“çš„checkæ–¹æ³•äº†</span>
<span class="hljs-meta">#[async_trait::async_trait]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Monitor</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">HttpMonitor</span>{
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>(&amp;<span class="hljs-keyword">self</span>, config: &amp;MonitorConfig) <span class="hljs-punctuation">-&gt;</span> CheckResult {
        <span class="hljs-comment">// è¿™é‡Œå°±æ˜¯æˆ‘ä»¬çš„ä¸»æˆ˜åœºäº† é¦–å…ˆæˆ‘ä»¬å…ˆæŠŠå¼‚å¸¸æƒ…å†µå†™å®Œï¼Œç„¶ååœ¨åé¢è¿›è¡Œä¸€ç‚¹ç‚¹çš„å¡«ç©º</span>
         <span class="hljs-comment">// åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦å­˜åœ¨ target æ­¤æ—¶çš„target åº”è¯¥æ˜¯ä¸€ä¸ª URL åœ°å€</span>
         <span class="hljs-keyword">if</span> config.target.<span class="hljs-title function_ invoke__">is_none</span>() {
            <span class="hljs-keyword">return</span> CheckResult {
                id: uuid::Uuid::<span class="hljs-title function_ invoke__">new_v4</span>().<span class="hljs-title function_ invoke__">as_u128</span>(), <span class="hljs-comment">// V4 uuid ä¸€ç§éšæœºæ•° åŸºäºæ—¶é—´æˆ³å’Œéšæœºæ•° V4ç‰ˆæœ¬çš„ç”ŸæˆåŠŸèƒ½</span>
                monitor_type: MonitorType::Http,
                target: <span class="hljs-literal">None</span>,
                status: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ç›‘æ§çŠ¶æ€å¤±è´¥ æ ¹æœ¬å°±æ²¡æœ‰è¿›å…¥ç›‘æ§å½“ä¸­å»</span>
                details: CheckResultDetail::<span class="hljs-title function_ invoke__">Http</span>(HttpMonitorResult::<span class="hljs-title function_ invoke__">default</span>()), <span class="hljs-comment">// default è¡¨ç¤ºè°ƒç”¨Default traitæ–¹æ³•ï¼Œé»˜è®¤å€¼ä¸ºæ¯ä¸ªå­—æ®µçš„é»˜è®¤å€¼</span>
            };
         }
         <span class="hljs-comment">// æ¥å¤„ç†å…·ä½“çš„HTTPç›‘æ§çš„ç±»å‹æ•°æ®</span>
         <span class="hljs-keyword">match</span> config.details {
             MonitorConfigDetail::<span class="hljs-title function_ invoke__">Http</span>(<span class="hljs-keyword">ref</span> detail) =&gt; {
                 <span class="hljs-comment">// åœ¨è¿™é‡Œçš„è¯ æˆ‘ä»¬åœ¨å‰ä¸€ç« é‡Œé¢ä¹Ÿçœ‹åˆ°äº† é¦–å…ˆæˆ‘ä»¬è¦å‘é€HTTPè¯·æ±‚åˆ°Targetåœ°å€</span>
                 <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">request_client</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">get_client</span>(detail);
                 <span class="hljs-comment">// å‘é€è¯·æ±‚ï¼Œæ¥åŒ¹é…è¿”å›çš„ç»“æœ</span>
                 <span class="hljs-keyword">match</span> request_client.<span class="hljs-title function_ invoke__">send</span>().<span class="hljs-keyword">await</span>{
                     <span class="hljs-title function_ invoke__">Ok</span>(response)=&gt; {
                         <span class="hljs-comment">// å®é™…ä¸Šæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠè¿™ä¸ªåœ°æ–¹çš„é€»è¾‘æ¥ä¸€ç‚¹ç‚¹çš„å®Œå–„ å¥½ å¦‚æœç»†å¿ƒçš„ä½ çœ‹åˆ°è¿™é‡Œçš„è¯ï¼Œåˆ«æ€¥ æˆ‘ä»¬è¿™ä¸ªé‡Œé¢çš„å†…å®¹è¯·å¾€ä¸‹ç¿»å“¦ï½ï½ï½</span>
                         ğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºä¸Šè½¦å‡†å¤‡å‡ºå‘å–½ï¼ï¼ï¼ï¼ğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›ºğŸ›º
                         
                     },
                     <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; {
                        <span class="hljs-comment">// æ£€æŸ¥å„ç§é”™è¯¯ç±»å‹</span>
                        <span class="hljs-keyword">return</span> CheckResult {
                            id: uuid::Uuid::<span class="hljs-title function_ invoke__">new_v4</span>().<span class="hljs-title function_ invoke__">as_u128</span>(), <span class="hljs-comment">// V4 uuid ä¸€ç§éšæœºæ•° åŸºäºæ—¶é—´æˆ³å’Œéšæœºæ•° V4ç‰ˆæœ¬çš„ç”ŸæˆåŠŸèƒ½</span>
                            monitor_type: MonitorType::Http,
                            target: config.target.<span class="hljs-title function_ invoke__">clone</span>(),
                            status: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä»£è¡¨ç›‘æ§çŠ¶æ€ä¸ºæˆåŠŸï¼Œä½†æ˜¯targetè®¿é—®å¤±è´¥äº†</span>
                            details: CheckResultDetail::<span class="hljs-title function_ invoke__">Http</span>(HttpMonitorResult::<span class="hljs-title function_ invoke__">default</span>()),
                        };
                    },
                 
                 }
             },
              _ =&gt; {
                <span class="hljs-comment">// å¦‚æœä¸æ˜¯ HTTP ç›‘æ§ç±»å‹ï¼Œè¿”å›é”™è¯¯ç»“æœ</span>
                <span class="hljs-keyword">return</span> CheckResult {
                    id: uuid::Uuid::<span class="hljs-title function_ invoke__">new_v4</span>().<span class="hljs-title function_ invoke__">as_u128</span>(), <span class="hljs-comment">// V4 uuid ä¸€ç§éšæœºæ•° åŸºäºæ—¶é—´æˆ³å’Œéšæœºæ•° V4ç‰ˆæœ¬çš„ç”ŸæˆåŠŸèƒ½</span>
                    monitor_type: MonitorType::Http,
                    target: <span class="hljs-literal">None</span>,
                    status: <span class="hljs-literal">false</span>, <span class="hljs-comment">// ç›‘æ§çŠ¶æ€å¤±è´¥ æ ¹æœ¬å°±æ²¡æœ‰è¿›å…¥ç›‘æ§å½“ä¸­å»</span>
                    details: CheckResultDetail::<span class="hljs-title function_ invoke__">Unknown</span>(UnknownQueryResult {
                        description: <span class="hljs-string">"è°ƒç”¨ç›‘æ§ç±»å‹: HTTP, è¯·æŸ¥å®åå†ç»§ç»­æ“ä½œ"</span>.<span class="hljs-title function_ invoke__">to_string</span>(),
                        query_type: MonitorType::Http,
                    }),
                };
            },
             
         
         }
        
    
    }
    <span class="hljs-comment">// å®šä¹‰è¿”å›å…·ä½“ç±»å‹çš„å‡½æ•°</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_type</span>(&amp;<span class="hljs-keyword">self</span>) <span class="hljs-punctuation">-&gt;</span> MonitorType {
        MonitorType::Http
    }
    

}


</code></pre>
<p>å¥½ï¼Œç»†å¿ƒçš„ä½ åº”è¯¥å·²ç»å‘ç°ä¸Šé¢çš„ä»£ç éœ€è¦å¡«ç©ºçš„åœ°æ–¹æˆ‘éƒ½å·²ç»åšäº†æ ‡æ³¨ï¼Œç°åœ¨æˆ‘ä»¬æ¥ä¸€ä¸ªä¸€ä¸ªçš„å®ç°å…·ä½“çš„é€»è¾‘å³å¯ï¼š</p>
<ul>
<li><code>æ‹¼æ¥åŸºç¡€ç›‘æ§ä¿¡æ¯å‡½æ•°create_basic_result</code>ï¼šè¿™ä¸ªåœ°æ–¹æ²¡æœ‰ä»€ä¹ˆå¤æ‚çš„å†…å®¹ï¼Œç›´æ¥æ ¹æ®responseè¿›è¡Œå¤„ç†ç›¸å…³çš„æ•°æ®å³å¯</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è§£ææˆåŸºç¡€çš„å“åº”ç»“æœç»“æ„ä½“</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_basic_result</span>(&amp;<span class="hljs-keyword">self</span>, status_code: <span class="hljs-type">u16</span>, version: reqwest::Version, headers: &amp;reqwest::header::HeaderMap, content_length: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">u64</span>&gt; ) <span class="hljs-punctuation">-&gt;</span> BasicAvailability {
        BasicAvailability {
            is_reachable: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä»£è¡¨è¿™ä¸ªtarget æ˜¯å¯ä»¥è®¿é—®çš„</span>
            dns_resolvable: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// ä»£è¡¨è¿™ä¸ªtarget çš„åŸŸåæ˜¯å¯ä»¥è§£æçš„</span>
            tcp_connect_success: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä»£è¡¨è¿™ä¸ªtarget çš„ TCP è¿æ¥æ˜¯æˆåŠŸçš„</span>
            res_received: <span class="hljs-literal">true</span>,
            res_status_code: <span class="hljs-title function_ invoke__">Some</span>(status_code),
            res_status_category: StatusCategory::<span class="hljs-title function_ invoke__">from_status_code</span>(status_code),<span class="hljs-comment">//è·å–å¯¹åº”çš„çŠ¶æ€ç æè¿°ä¿¡æ¯</span>
            protocol_version: <span class="hljs-built_in">format!</span>(<span class="hljs-string">"{:?}"</span>, version), <span class="hljs-comment">// è·å–HTTPåè®®ç‰ˆæœ¬</span>
            res_content_type: headers.<span class="hljs-title function_ invoke__">get</span>(reqwest::header::CONTENT_TYPE).<span class="hljs-title function_ invoke__">and_then</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">ok</span>()).<span class="hljs-title function_ invoke__">map</span>(|s| s.<span class="hljs-title function_ invoke__">to_string</span>()),
            res_content_length: content_length.<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>),
            res_charset: headers.<span class="hljs-title function_ invoke__">get</span>(reqwest::header::ACCEPT_CHARSET).<span class="hljs-title function_ invoke__">and_then</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">ok</span>()).<span class="hljs-title function_ invoke__">map</span>(|s| s.<span class="hljs-title function_ invoke__">to_string</span>()),
        }
    }
    
    <span class="hljs-comment">// å®šä¹‰çŠ¶æ€ç å¯¹åº”çš„çŠ¶æ€æšä¸¾ç±»å‹</span>
    <span class="hljs-meta">#[derive(Debug, Clone)]</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">StatusCategory</span> {
        Informational,
        Success,
        Redirection,
        ClientError,
        ServerError,
        Unknown,
    }

    <span class="hljs-comment">// ç»™å¯¹åº”çš„æšä¸¾å€¼ æ·»åŠ æ–¹æ³• æ¥è·å–ä¸åŒçš„çŠ¶æ€ç çš„å®é™…çŠ¶æ€</span>

    <span class="hljs-keyword">impl</span> <span class="hljs-title class_">StatusCategory</span> {
        <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">from_status_code</span>(status_code: <span class="hljs-type">u16</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
            <span class="hljs-keyword">match</span> status_code {
                <span class="hljs-number">100</span>..=<span class="hljs-number">199</span> =&gt; StatusCategory::Informational,
                <span class="hljs-number">200</span>..=<span class="hljs-number">299</span> =&gt; StatusCategory::Success,
                <span class="hljs-number">300</span>..=<span class="hljs-number">399</span> =&gt; StatusCategory::Redirection,
                <span class="hljs-number">400</span>..=<span class="hljs-number">499</span> =&gt; StatusCategory::ClientError,
                <span class="hljs-number">500</span>..=<span class="hljs-number">599</span> =&gt; StatusCategory::ServerError,
                _ =&gt; StatusCategory::Unknown,
            }
        }
    }
    
</code></pre>
<ul>
<li><code>è§£æå®‰å…¨å¤´ä¿¡æ¯å‡½æ•°create_headers_result</code>ï¼šä¹Ÿæ˜¯ç›¸å¯¹æ¯”è¾ƒç®€å•çš„ï¼Œå°±æ˜¯è·å–è¿”å›è¯·æ±‚å¤´é‡Œé¢æœ‰ä¹ˆæœ‰ä¸€äº›å®‰å…¨å­—æ®µå€¼ï¼Œæœ€ååˆ¤æ–­å¦‚æœå¤§äº4ä¸ªå­—æ®µçš„è¯å°±è®¾ç½®<code>security_headers_ok</code>ä¸º<code>true</code></li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è§£æç›¸å…³å¤´ä¿¡æ¯</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_headers_result</span>(&amp;<span class="hljs-keyword">self</span>, headers: &amp;reqwest::header::HeaderMap) <span class="hljs-punctuation">-&gt;</span> SecurityHeaders {
        SecurityHeaders {
            strict_transport_security: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Strict-Transport-Security"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            content_security_policy: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Content-Security-Policy"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            x_content_type_options: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"X-Content-Type-Options"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            x_frame_options: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"X-Frame-Options"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            x_xss_protection: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"X-XSS-Protection"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            referrer_policy: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Referrer-Policy"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            feature_policy: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Feature-Policy"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            permissions_policy: headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Permissions-Policy"</span>).<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">map</span>(|v| v.<span class="hljs-title function_ invoke__">to_str</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-string">""</span>).<span class="hljs-title function_ invoke__">to_string</span>()),
            security_headers_ok: <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">check_security_headers_ok</span>(&amp;headers),
        }
    }
    <span class="hljs-comment">//  æ£€æµ‹æ˜¯å¦å®‰å…¨å¤´æœ‰æ•ˆ</span>
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check_security_headers_ok</span>(&amp;<span class="hljs-keyword">self</span>, headers: &amp;reqwest::header::HeaderMap) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">bool</span> {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">score</span> = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Strict-Transport-Security"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Content-Security-Policy"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"X-Content-Type-Options"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"X-Frame-Options"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"X-XSS-Protection"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Referrer-Policy"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        <span class="hljs-keyword">if</span> headers.<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">"Permissions-Policy"</span>).<span class="hljs-title function_ invoke__">is_some</span>() {
            score += <span class="hljs-number">1</span>;
        }
        score &gt;= <span class="hljs-number">4</span> <span class="hljs-comment">// ä¾‹å¦‚ï¼Œè‡³å°‘æœ‰4ä¸ªå®‰å…¨å¤´éƒ¨å­˜åœ¨åˆ™è®¤ä¸ºå®‰å…¨å¤´éƒ¨æ£€æŸ¥é€šè¿‡</span>
    }
</code></pre>
<ul>
<li><code>è·å–æ€§èƒ½æŒ‡æ ‡å‚æ•°å‡½æ•°create_performance_timings</code>:è¿™é‡Œçš„è¯reqwestå¹¶æ²¡æœ‰ç›´æ¥æä¾›è·å–DNSã€TCPã€TLSç›¸å…³çš„æ•°æ®æŒ‡æ ‡ï¼Œæ‰€ä»¥è¿™é‡Œçš„è¯æˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰å¦å¤–çš„æ–¹æ³•æ¥å®ç°</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è·å–æ€§èƒ½å‚æ•°</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_performance_timings</span>(&amp;<span class="hljs-keyword">self</span>, start_time: std::time::Instant, start_time_unix: <span class="hljs-type">u128</span>) <span class="hljs-punctuation">-&gt;</span> PerformanceTimings {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">total_time</span> = start_time.<span class="hljs-title function_ invoke__">elapsed</span>().<span class="hljs-title function_ invoke__">as_millis</span>();
    PerformanceTimings {
        dns_lookup_time: <span class="hljs-number">0</span>,
        tcp_connect_time: <span class="hljs-number">0</span>,
        tls_handshake_time: <span class="hljs-number">0</span>,
        first_byte_time: <span class="hljs-number">0</span>,  <span class="hljs-comment">// mor</span>
        content_download_time: <span class="hljs-number">0</span>,
        ssl_negotiation_time: <span class="hljs-number">0</span>,
        ssl_cert_valid: <span class="hljs-literal">true</span>,
        request_sending_time: start_time_unix,
        server_processing_time: <span class="hljs-number">0</span>,
        response_receiving_time: total_time,
        total_time: total_time,
    }
}

<span class="hljs-comment">// å•ç‹¬å®šä¹‰ä¸€ä¸ªè·å–TCP ã€DNSã€TLSçš„å‡½æ•° </span>

<span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå‡½æ•°è¿”å›ç±»å‹ ä¸€ä¸ªå…ƒç»„å³å¯</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">DnsTcpTlsPerformance</span> = (<span class="hljs-type">u128</span>, <span class="hljs-type">u128</span>, <span class="hljs-type">u128</span>, <span class="hljs-type">Option</span>&lt;CertificateInfo&gt;); <span class="hljs-comment">// DNSæ—¶é—´ï¼ŒTCPæ—¶é—´ï¼ŒTLSæ—¶é—´ï¼Œè¯ä¹¦ä¿¡æ¯</span>

<span class="hljs-comment">// è®¡ç®— æ€§èƒ½ç›‘æ§ç›¸å…³æ•°æ® DNS TCP TLS ä¸‰ä¸ªæ•°æ®è€—æ—¶ ä»¥åŠåœ¨è¿æ¥è¿‡ç¨‹ä¸­SSLè¯ä¹¦ç›¸å…³ä¿¡æ¯</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_dns_tcp_tls_performance</span>(url: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;DnsTcpTlsPerformance, <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::error::Error&gt;&gt; {
    <span class="hljs-comment">// ä½¿ç”¨Urlè¿›è¡Œè§£æç›¸å…³çš„åœ°å€</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">url</span> = reqwest::Url::<span class="hljs-title function_ invoke__">parse</span>(url)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">host</span> = url.<span class="hljs-title function_ invoke__">host_str</span>().<span class="hljs-title function_ invoke__">ok_or</span>(<span class="hljs-string">"Invalid URL"</span>)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">port</span> = url.<span class="hljs-title function_ invoke__">port_or_known_default</span>().<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">80</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">resolver</span> = TokioAsyncResolver::<span class="hljs-title function_ invoke__">tokio_from_system_conf</span>()?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dns_lookup_time</span> =Instant::<span class="hljs-title function_ invoke__">now</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ips</span> = resolver.<span class="hljs-title function_ invoke__">lookup_ip</span>(host).<span class="hljs-keyword">await</span>?;
    <span class="hljs-comment">// å¼€å§‹è®¾ç½®DNSçš„ç¼“å­˜æ—¶é—´</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dns_lookup_ms</span> = dns_lookup_time.<span class="hljs-title function_ invoke__">elapsed</span>().<span class="hljs-title function_ invoke__">as_millis</span>();
    <span class="hljs-comment">// å¼€å§‹è®¾ç½®TCPçš„ç¼“å­˜æ—¶é—´ ä»¥åŠ TLSçš„æ—¶é—´</span>
    <span class="hljs-comment">// éå†ç›¸å…³çš„IP åœ°å€ å–å…¶ä¸­æœ€å°çš„ä¸€ä¸ªæ—¶é—´å³å¯</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">tls_min_time</span>: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">u128</span>&gt; = <span class="hljs-literal">None</span>;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">tcp_min_time</span>: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">u128</span>&gt; = <span class="hljs-literal">None</span>;

    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">per_addr_timeout</span> = Duration::<span class="hljs-title function_ invoke__">from_secs</span>(<span class="hljs-number">3</span>);
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">is_https</span> = url.<span class="hljs-title function_ invoke__">scheme</span>() == <span class="hljs-string">"https"</span>;
    <span class="hljs-comment">// å¤ç”¨ TLS è¿æ¥å™¨</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tls_connector</span> = <span class="hljs-keyword">if</span> is_https {
        <span class="hljs-title function_ invoke__">Some</span>(TokioTlsConnector::<span class="hljs-title function_ invoke__">from</span>(TlsConnector::<span class="hljs-title function_ invoke__">new</span>()?))
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-literal">None</span>
    };
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">ssl_certificate_info</span>: <span class="hljs-type">Option</span>&lt;CertificateInfo&gt; = <span class="hljs-literal">None</span>;
    <span class="hljs-keyword">for</span> <span class="hljs-variable">ip</span> <span class="hljs-keyword">in</span> ips.<span class="hljs-title function_ invoke__">iter</span>(){
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">addr</span> = std::net::SocketAddr::<span class="hljs-title function_ invoke__">new</span>(ip, port);
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">start_tcp</span> = Instant::<span class="hljs-title function_ invoke__">now</span>();
        <span class="hljs-comment">// è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ é¿å…ä¸ªåˆ«IPæ— æ³•è¿æ¥é˜»å¡åç»­çš„è¿æ¥</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tcp_res</span> = <span class="hljs-title function_ invoke__">timeout</span>(per_addr_timeout, TcpStream::<span class="hljs-title function_ invoke__">connect</span>(addr)).<span class="hljs-keyword">await</span>;
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tcp_stream</span> = <span class="hljs-keyword">match</span> tcp_res {
            <span class="hljs-title function_ invoke__">Ok</span>(<span class="hljs-title function_ invoke__">Ok</span>(stream)) =&gt; {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ms</span> = start_tcp.<span class="hljs-title function_ invoke__">elapsed</span>().<span class="hljs-title function_ invoke__">as_millis</span>();
                <span class="hljs-comment">// è®¾ç½®TCPé“¾æ¥æ—¶é—´</span>
                tcp_min_time = tcp_min_time.<span class="hljs-title function_ invoke__">map_or</span>(<span class="hljs-title function_ invoke__">Some</span>(ms), |min| <span class="hljs-title function_ invoke__">Some</span>(min.<span class="hljs-title function_ invoke__">min</span>(ms)));
                stream
            },
            _ =&gt; <span class="hljs-keyword">continue</span>, <span class="hljs-comment">// è¶…æ—¶æˆ–è¿æ¥å¤±è´¥ï¼Œå°è¯•ä¸‹ä¸€ä¸ªåœ°å€</span>
        };
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(tls) = &amp;tls_connector {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">hs_start</span> = Instant::<span class="hljs-title function_ invoke__">now</span>();
            <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">hs_res</span> = <span class="hljs-title function_ invoke__">timeout</span>(per_addr_timeout, tls.<span class="hljs-title function_ invoke__">connect</span>(host, tcp_stream)).<span class="hljs-keyword">await</span>;
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Ok</span>(<span class="hljs-title function_ invoke__">Ok</span>(_tls_stream)) = hs_res {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ms</span> = hs_start.<span class="hljs-title function_ invoke__">elapsed</span>().<span class="hljs-title function_ invoke__">as_millis</span>();
                <span class="hljs-comment">// è®¾ç½®TLSçš„è¿æ¥æ—¶é—´</span>
                tls_min_time = tls_min_time.<span class="hljs-title function_ invoke__">map_or</span>(<span class="hljs-title function_ invoke__">Some</span>(ms), |min| <span class="hljs-title function_ invoke__">Some</span>(min.<span class="hljs-title function_ invoke__">min</span>(ms)));
                <span class="hljs-comment">// æ£€æµ‹è¯ä¹¦æœ‰æ•ˆæ€§å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œ</span>
                <span class="hljs-keyword">if</span> ssl_certificate_info.<span class="hljs-title function_ invoke__">is_none</span>() {
                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(cert) = _tls_stream.<span class="hljs-title function_ invoke__">get_ref</span>().<span class="hljs-title function_ invoke__">peer_certificate</span>()? {
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">cert_der</span> = cert.<span class="hljs-title function_ invoke__">to_der</span>()?;
                        <span class="hljs-comment">// from_der è¿”å› nom::IResultï¼Œéœ€è¦æ‰‹åŠ¨ map_err</span>
                        <span class="hljs-keyword">let</span> (_, x509_cert) = X509Certificate::<span class="hljs-title function_ invoke__">from_der</span>(&amp;cert_der)
                            .<span class="hljs-title function_ invoke__">map_err</span>(|e| io::Error::<span class="hljs-title function_ invoke__">new</span>(io::ErrorKind::InvalidData, <span class="hljs-built_in">format!</span>(<span class="hljs-string">"x509 parse error: {e}"</span>)))?;

                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">validity</span> = x509_cert.<span class="hljs-title function_ invoke__">validity</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">now</span> =  std::time::SystemTime::<span class="hljs-title function_ invoke__">now</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">not_before</span> = validity.not_before.<span class="hljs-title function_ invoke__">to_datetime</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">not_after</span> = validity.not_after.<span class="hljs-title function_ invoke__">to_datetime</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">days_until_expiry</span> = (not_after - now).<span class="hljs-title function_ invoke__">whole_days</span>();
                        <span class="hljs-comment">// è¿™é‡Œçš„è¯éœ€è¦æŸ¥çœ‹ç›¸å…³çš„APIæ–‡æ¡£æ¥è·å–ç›¸å…³çš„åº“çš„ä¿¡æ¯</span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">info</span> = CertificateInfo {
                            issuer: <span class="hljs-title function_ invoke__">Some</span>(x509_cert.<span class="hljs-title function_ invoke__">issuer</span>().<span class="hljs-title function_ invoke__">to_string</span>()),
                            subject: <span class="hljs-title function_ invoke__">Some</span>(x509_cert.<span class="hljs-title function_ invoke__">subject</span>().<span class="hljs-title function_ invoke__">to_string</span>()),
                            valid_from: <span class="hljs-title function_ invoke__">Some</span>(not_before.<span class="hljs-title function_ invoke__">to_string</span>()),
                            valid_until: <span class="hljs-title function_ invoke__">Some</span>(not_after.<span class="hljs-title function_ invoke__">to_string</span>()),
                            serial_number: <span class="hljs-title function_ invoke__">Some</span>(x509_cert.tbs_certificate.serial.<span class="hljs-title function_ invoke__">to_string</span>()),
                            signature_algorithm: <span class="hljs-title function_ invoke__">Some</span>(x509_cert.signature_algorithm.algorithm.<span class="hljs-title function_ invoke__">to_string</span>()),
                            public_key_algorithm: <span class="hljs-title function_ invoke__">Some</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"{:?}"</span>, x509_cert.<span class="hljs-title function_ invoke__">public_key</span>().algorithm)),
                            public_key_size: <span class="hljs-title function_ invoke__">Some</span>(x509_cert.<span class="hljs-title function_ invoke__">public_key</span>().subject_public_key.data.<span class="hljs-title function_ invoke__">len</span>() * <span class="hljs-number">8</span>), <span class="hljs-comment">// è½¬æ¢ä¸ºä½æ•°</span>
                            is_valid: days_until_expiry &gt; <span class="hljs-number">0</span>,
                        };
                        ssl_certificate_info = <span class="hljs-title function_ invoke__">Some</span>(info);
                    }
                }
            }
        }
    }
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tcp</span> = tcp_min_time.<span class="hljs-title function_ invoke__">ok_or</span>(<span class="hljs-string">"all TCP connect attempts failed"</span>)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">tls</span> = <span class="hljs-keyword">if</span> is_https { tls_min_time.<span class="hljs-title function_ invoke__">unwrap_or</span>(<span class="hljs-number">0</span>) } <span class="hljs-keyword">else</span> { <span class="hljs-number">0</span> };
    <span class="hljs-comment">// è¿”å›ç›¸å…³ç»“æœ</span>
    <span class="hljs-title function_ invoke__">Ok</span>((dns_lookup_ms, tcp, tls, ssl_certificate_info))
}
    
</code></pre>
<ul>
<li><code>åˆ›å»ºå“åº”å†…å®¹æ ¡éªŒå‡½æ•°create_content_verification_result</code>ï¼šæˆ‘ä»¬è·å–åˆ°bodyå†…å®¹ï¼Œç„¶åæ‰§è¡Œç›¸å…³çš„æ ¡éªŒé€»è¾‘å³å¯ï¼Œ</li>
</ul>
<pre><code class="hljs language-rust" lang="rust"> <span class="hljs-comment">// åˆ›å»ºå†…å®¹éªŒè¯ç»“æœ</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">create_content_verification_result</span>(&amp;<span class="hljs-keyword">self</span>,body: <span class="hljs-type">String</span>, rules: &amp;<span class="hljs-type">Option</span>&lt;<span class="hljs-type">Vec</span>&lt;ContentVerificationRulesSingle&gt;&gt;) <span class="hljs-punctuation">-&gt;</span> ContentVerificationResult {
    <span class="hljs-comment">// åˆ¤ç©ºå¤„ç†</span>
    <span class="hljs-title function_ invoke__">if</span>(rules.<span class="hljs-title function_ invoke__">is_none</span>() || body.<span class="hljs-title function_ invoke__">is_empty</span>()){
        <span class="hljs-keyword">return</span> ContentVerificationResult {
            match_rules: <span class="hljs-built_in">vec!</span>[],
            failed_rules: <span class="hljs-built_in">vec!</span>[],
        };
    }
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">rules</span> = rules.<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">unwrap</span>();
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">match_rules</span> = <span class="hljs-built_in">vec!</span>[];
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">failed_rules</span> = <span class="hljs-built_in">vec!</span>[];

    <span class="hljs-keyword">for</span> <span class="hljs-title class_">ContentVerificationRulesSingle</span>{rule_type, rule_content,rule_description } <span class="hljs-keyword">in</span> rules.<span class="hljs-title function_ invoke__">iter</span>() {
       <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">status</span> = <span class="hljs-keyword">match</span> rule_type {
           <span class="hljs-comment">// æ˜¯å¦åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ</span>
            ContentVerificationRules::Contains =&gt; {
                body.<span class="hljs-title function_ invoke__">contains</span>(rule_content)
            },
            <span class="hljs-comment">// æ˜¯å¦ä¸åŒ…å«å“ªäº›å†…å®¹ï¼Ÿ</span>
            ContentVerificationRules::NotContains =&gt; {
                !body.<span class="hljs-title function_ invoke__">contains</span>(rule_content)
            },
            <span class="hljs-comment">// åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</span>
            ContentVerificationRules::Regex =&gt; {
                <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">regex</span> = Regex::<span class="hljs-title function_ invoke__">new</span>(&amp;rule_content).<span class="hljs-title function_ invoke__">unwrap</span>();
                 regex.<span class="hljs-title function_ invoke__">is_match</span>(&amp;body)
            },
            _ =&gt; {
                <span class="hljs-literal">false</span>
            },
        };
        <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">get_content_verify_result</span>(status, rule_type.<span class="hljs-title function_ invoke__">clone</span>(), rule_content.<span class="hljs-title function_ invoke__">clone</span>(), rule_description.<span class="hljs-title function_ invoke__">clone</span>(), &amp;<span class="hljs-keyword">mut</span> match_rules, &amp;<span class="hljs-keyword">mut</span> failed_rules);

    }
    ContentVerificationResult {
        match_rules: match_rules,
        failed_rules: failed_rules,
    }
}
<span class="hljs-comment">// æ‹¼æ¥å†…å®¹æ ¡éªŒçš„å†…å®¹ å› ä¸ºä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹ è¿”å›çš„æ•°æ®ç»“æ„éƒ½æ˜¯ä¸€æ ·çš„</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_content_verify_result</span>(&amp;<span class="hljs-keyword">self</span>, status: <span class="hljs-type">bool</span>, rule_type: ContentVerificationRules, rule_content: <span class="hljs-type">String</span>, rule_description: <span class="hljs-type">String</span>, true_Rules: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">Vec</span>&lt;ContentVerificationRulesResult&gt;, failed_Rules: &amp;<span class="hljs-keyword">mut</span> <span class="hljs-type">Vec</span>&lt;ContentVerificationRulesResult&gt;) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">result</span> =  ContentVerificationRulesResult {
        rule_id: Uuid::<span class="hljs-title function_ invoke__">new_v4</span>().<span class="hljs-title function_ invoke__">as_u128</span>() <span class="hljs-keyword">as</span> <span class="hljs-type">u64</span>,
        status: <span class="hljs-keyword">if</span> status { StatusInfo::Success } <span class="hljs-keyword">else</span> { StatusInfo::Failed },
        message: <span class="hljs-keyword">if</span> status { <span class="hljs-string">"Rule verification passed"</span>.<span class="hljs-title function_ invoke__">to_string</span>() } <span class="hljs-keyword">else</span> { <span class="hljs-string">"Rule verification failed"</span>.<span class="hljs-title function_ invoke__">to_string</span>() },
        rules: ContentVerificationRulesSingle{rule_type: rule_type.<span class="hljs-title function_ invoke__">clone</span>(),rule_content: rule_content.<span class="hljs-title function_ invoke__">clone</span>(),rule_description: rule_description.<span class="hljs-title function_ invoke__">clone</span>()}
    };
    <span class="hljs-keyword">if</span> status {
        true_Rules.<span class="hljs-title function_ invoke__">push</span>(result);
    } <span class="hljs-keyword">else</span> {
        failed_Rules.<span class="hljs-title function_ invoke__">push</span>(result);
    }
}
</code></pre>
<p>ä¸Šé¢çš„è¿™å‡ ä¸ªå‡½æ•°å®šä¹‰å®Œæ¥çš„è¯ï¼Œå…¶å®æˆ‘ä»¬çš„HTTPç›‘æ§å¼•æ“çš„å†…å®¹å°±å·²ç»å…¨éƒ¨å®Œæˆäº†ï¼Œç°åœ¨æˆ‘ä»¬æœ€åæ¥çœ‹ä¸‹HTTPç›‘æ§ä¸­æˆ‘ä»¬å¾…å®Œæˆçš„é‚£ä¸€æ®µä»£ç å°±å¯ä»¥äº†ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Monitor</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">HttpMonitor</span> {
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>(&amp;<span class="hljs-keyword">self</span>, config: &amp;MonitorConfig)<span class="hljs-punctuation">-&gt;</span>CheckResult{
        <span class="hljs-comment">// åˆ¤ç©ºé€»è¾‘ ä¸Šé¢å†™è¿‡äº† è¿™é‡Œå°±ä¸èµ˜è¿°äº†</span>
        ...
        <span class="hljs-comment">// ä¸ºäº†è®°å½•è¯·æ±‚å‘é€æ—¶é—´</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">start_time_instant</span> = std::time::Instant::<span class="hljs-title function_ invoke__">now</span>();
        <span class="hljs-keyword">match</span> config.details {
            MonitorConfigDetail::<span class="hljs-title function_ invoke__">Http</span>(<span class="hljs-keyword">ref</span> detail) =&gt; {
                <span class="hljs-comment">// è·å–ä¸€ä¸ªhttp é“¾æ¥</span>
                 <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">request_client</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">get_client</span>(detail);
                 <span class="hljs-keyword">match</span> request_client.<span class="hljs-title function_ invoke__">send</span>().<span class="hljs-keyword">await</span>{
                     <span class="hljs-title function_ invoke__">Ok</span>(response)=&gt;{
                         <span class="hljs-comment">// ğŸ€„ï¸ç‚¹ï¼ŒğŸ€„ï¸ç‚¹ï¼ŒğŸ€„ï¸ç‚¹</span>
                         <span class="hljs-comment">// è·å–çŠ¶æ€ç </span>
                        <span class="hljs-keyword">let</span> (dns_lookup_time, tcp_connect_time, tls_handshake_time, ssl_certificate_info) = <span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">get_dns_tcp_tls_performance</span>(config.target.<span class="hljs-title function_ invoke__">as_ref</span>().<span class="hljs-title function_ invoke__">unwrap</span>()).<span class="hljs-keyword">await</span> {
                            <span class="hljs-title function_ invoke__">Ok</span>(performance) =&gt; performance,
                            <span class="hljs-title function_ invoke__">Err</span>(_) =&gt; (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">None</span>),
                        };
                        <span class="hljs-comment">// æå–éœ€è¦çš„æ•°æ® </span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">status_code</span> = response.<span class="hljs-title function_ invoke__">status</span>().<span class="hljs-title function_ invoke__">as_u16</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">version</span> = response.<span class="hljs-title function_ invoke__">version</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">headers</span> = response.<span class="hljs-title function_ invoke__">headers</span>().<span class="hljs-title function_ invoke__">clone</span>();
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">content_length</span> = response.<span class="hljs-title function_ invoke__">content_length</span>();
                        <span class="hljs-comment">// å› ä¸ºè¿™é‡Œçš„ä»£ç ä¼šè·å–æ‰€æœ‰æƒ æ‰€ä»¥åé¢å°±æ²¡åŠæ³•ç›´æ¥ç”¨responseäº† æ‰€ä»¥ä¸Šé¢å°±å•ç‹¬è·å–responseä¸­çš„å­—æ®µå€¼ç”¨åœ¨åé¢çš„æ–¹æ³•ä¸­</span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">body</span> = response.<span class="hljs-title function_ invoke__">text</span>().<span class="hljs-keyword">await</span>.<span class="hljs-title function_ invoke__">unwrap_or_default</span>();
                        <span class="hljs-comment">// åˆ›å»ºåŸºæœ¬ç»“æœå’Œå¤´éƒ¨ç»“æœ</span>
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">basic_avaliable</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">create_basic_result</span>(status_code, version, &amp;headers, content_length);
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">response_headers</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">create_headers_result</span>(&amp;headers);
                        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">performance_timings</span> = PerformanceTimings { dns_lookup_time, tcp_connect_time, tls_handshake_time, ..<span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">create_performance_timings</span>(start_time_instant, <span class="hljs-title function_ invoke__">unix_now_ms</span>()) };
                        <span class="hljs-keyword">return</span> CheckResult {
                            id: uuid::Uuid::<span class="hljs-title function_ invoke__">new_v4</span>().<span class="hljs-title function_ invoke__">as_u128</span>(), <span class="hljs-comment">// V4 uuid ä¸€ç§éšæœºæ•° åŸºäºæ—¶é—´æˆ³å’Œéšæœºæ•° V4ç‰ˆæœ¬çš„ç”ŸæˆåŠŸèƒ½</span>
                            monitor_type: MonitorType::Http,
                            target: config.target.<span class="hljs-title function_ invoke__">clone</span>(),
                            status: <span class="hljs-literal">true</span>, <span class="hljs-comment">// ä»£è¡¨ç›‘æ§çŠ¶æ€ä¸ºæˆåŠŸï¼Œä½†æ˜¯targetè®¿é—®å¤±è´¥äº†</span>
                            details: CheckResultDetail::<span class="hljs-title function_ invoke__">Http</span>(HttpMonitorResult {
                                basic_avaliable,
                                response_headers,
                                performance_timings,
                                certificate_info: ssl_certificate_info.<span class="hljs-title function_ invoke__">unwrap_or_default</span>(),
                                content_verification: <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">create_content_verification_result</span>(body, &amp;detail.rules),
                                advanced_avaliable: <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">create_advanced_availability_result</span>(),
                            })
                        }
                     },
                     <span class="hljs-title function_ invoke__">Err</span>(_)=&gt;{
                         ....
                     }
                 
                 }
            },
            _=&gt;{
                <span class="hljs-comment">// å…¶ä»–ç±»å‹ ä¸Šé¢ä¹Ÿå†™è¿‡äº† </span>
                ...
            }
        
        }

    }
}

</code></pre>
<p>å¦‚æœæ‚¨èƒ½åšæŒå­¦ä¹ åˆ°è¿™é‡Œï¼Œé‚£ä¹ˆæ­å–œâ€”â€”æˆ‘ä»¬çš„ä»£ç å®ç°éƒ¨åˆ†å·²ç»åœ†æ»¡å®Œæˆï¼</p>
<p>å›é¡¾æ•´ä¸ªå¼€å‘è¿‡ç¨‹ï¼Œå…¶å®æˆ‘ä»¬ä¸€ç›´åœ¨è¿›è¡Œä¸€åœºç²¾å¦™çš„"å¡«ç©ºæ¸¸æˆ"ï¼šå…ˆæ­å»ºèµ·æ•´ä½“çš„æ¡†æ¶ç»“æ„ï¼Œå†é€æ­¥å¡«å……æ¯ä¸ªæ¨¡å—çš„å…·ä½“å®ç°ã€‚è¿™ç§ç”±å®è§‚åˆ°å¾®è§‚çš„å¼€å‘æ–¹å¼ï¼Œèƒ½å¤Ÿè®©æˆ‘ä»¬å§‹ç»ˆä¿æŒæ¸…æ™°çš„æ€è·¯ï¼Œå³ä½¿é¢å¯¹å¤æ‚ç³»ç»Ÿä¹Ÿä¸ä¼šè¿·å¤±æ–¹å‘ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘è‡ªå·±çš„å¼€å‘ç»å†ä¹Ÿæ˜¯å¦‚æ­¤â€”â€”ä»æœ€åˆå¯¹å„ä¸ªæ¨¡å—çš„é™Œç”Ÿï¼Œåˆ°é€æ­¥æ‹†è§£éœ€æ±‚ã€ç ”ç©¶æŠ€æœ¯ç»†èŠ‚ï¼Œæœ€ç»ˆç‹¬ç«‹å®Œæˆæ•´ä¸ªåŠŸèƒ½çš„å®ç°ã€‚è¿™æ®µç»å†è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼Œå¯¹äºåˆå­¦è€…è€Œè¨€ï¼Œ<strong>å‹¤äºåŠ¨æ‰‹å®è·µ</strong>è‡³å…³é‡è¦ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬æœ¬é˜¶æ®µçš„å®ç°å°±å‘Šä¸€æ®µè½äº†ã€‚å»ºè®®å¤§å®¶å¯ä»¥å¥½å¥½æ¶ˆåŒ–å¸æ”¶è¿™äº›å†…å®¹ï¼Œå°è¯•è‡ªå·±åŠ¨æ‰‹æ‰©å±•æ›´å¤šç›‘æ§ç±»å‹ã€‚æœŸå¾…åœ¨æ¥ä¸‹æ¥çš„å­¦ä¹ ä¸­ä¸å¤§å®¶å†æ¬¡ç›¸é‡ï¼</p>
<h2 data-id="heading-13">è¿‡ç¨‹é—®é¢˜&amp;&amp;è§£å†³æ–¹æ¡ˆ</h2>
<ol>
<li><strong><code>#[async_trait::async_trait] </code>è¿™ç§å®çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br/>
ç­”ï¼šå®ƒæ˜¯ async-trait å®ï¼Œç”¨æ¥è®© trait é‡Œçš„å¼‚æ­¥æ–¹æ³•å¯ç”¨ã€‚æ ¸å¿ƒç‚¹ï¼š
<ul>
<li>Rust åŸç”Ÿçš„ <code>trait</code> é‡Œå†™ <code>async fnï¼ˆæˆ–è¿”å› impl Futureï¼‰åœ¨ç”¨ä½œ trait objectï¼ˆå¦‚ Box&lt;dyn Monitor&gt;ï¼‰</code>æ—¶ä¸æ»¡è¶³å¯¹è±¡å®‰å…¨ï¼Œç¼–è¯‘ä¸è¿‡ã€‚</li>
<li><code>#[async_trait::async_trait]</code> ä¼šæŠŠä½ çš„ <code>async fn è‡ªåŠ¨å±•å¼€æˆè¿”å› Pin&lt;Box&lt;dyn Future&lt;Output =Â  *&gt; + Send + '* &gt;&gt; </code>çš„å½¢å¼ï¼Œä»è€Œè®© trait å¯ä»¥ä½œä¸º <code>dyn Trait</code> ä½¿ç”¨ã€‚</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-rust" lang="rust">  <span class="hljs-comment">// åŸå§‹å†™æ³•</span>
  <span class="hljs-meta">#[async_trait::async_trait]</span>
  <span class="hljs-keyword">trait</span> <span class="hljs-title class_">Monitor</span> {
      <span class="hljs-keyword">async</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>(&amp;<span class="hljs-keyword">self</span>, cfg: &amp;MonitorConfig) <span class="hljs-punctuation">-&gt;</span> CheckResult;
  }

  <span class="hljs-comment">// å±•å¼€åå¤§è‡´ç­‰ä»·</span>
  <span class="hljs-keyword">trait</span> <span class="hljs-title class_">Monitor</span> {
      <span class="hljs-keyword">fn</span> <span class="hljs-title function_">check</span>&lt;<span class="hljs-symbol">'a</span>&gt;(&amp;<span class="hljs-symbol">'a</span> <span class="hljs-keyword">self</span>, cfg: &amp;<span class="hljs-symbol">'a</span> MonitorConfig)
          <span class="hljs-punctuation">-&gt;</span> core::pin::Pin&lt;<span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> core::future::Future&lt;Output = CheckResult&gt; + <span class="hljs-built_in">Send</span> + <span class="hljs-symbol">'a</span>&gt;&gt;;
}
</code></pre>
<ol start="2">
<li>åœ¨<code>src/async_monitor.rs</code>ä¸­ä½¿ç”¨<code>mpsc</code>ã€<code>Box::pin</code>ã€<code>tokio::spawn</code>éƒ½æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿ
ç­”ï¼šæŠŠä¸€ä¸ªå¼‚æ­¥å—å˜æˆâ€œå¯è¿”å›/å¯å­˜æ”¾â€çš„ Futureï¼Œç”¨æ¥ç»Ÿä¸€è¿”å›ç±»å‹å¹¶åœ¨å †ä¸Šå›ºå®šï¼ˆPinï¼‰å®ƒï¼Œä¾¿äºåœ¨å¤–éƒ¨ await ä¸å­˜å…¥é›†åˆã€‚è¦ç‚¹è§£é‡Šï¼š
<ul>
<li><code>async move {...}</code>: ç”Ÿæˆä¸€ä¸ª <code>Future</code>ï¼Œå¹¶æŠŠ <code>targetã€config</code> çš„æ‰€æœ‰æƒç§»åŠ¨è¿›å»ï¼Œç¡®ä¿åœ¨ <code>tokio::spawn</code> ä¸­æ»¡è¶³ <code>'static</code> è¦æ±‚ã€‚</li>
<li><code>Box::pin(...):</code> æŠŠè¿™ä¸ª <code>Future</code> æ”¾åˆ°å †ä¸Šå¹¶å›ºå®šä½ç½®ï¼ˆPinï¼‰ï¼Œå†é€šè¿‡ <code>dyn Future</code> åšç±»å‹æ“¦é™¤ï¼Œå¾—åˆ°ç»Ÿä¸€çš„è¿”å›ç±»å‹ <code>PinnedReceiverFuture = Pin&lt;Box&lt;dyn Future&lt;Output = mpsc::Receiver&lt;_&gt;&gt; + Send&gt;&gt;</code>ã€‚</li>
<li><code>mpscé€šé“</code>ï¼šå‡½æ•°é‡Œåˆ›å»º <code>tx/r</code>xï¼Œåå°å¾ªç¯æ¯æ¬¡ <code>check</code> åç”¨ <code>tx</code> å‘é€ç»“æœï¼›å‡½æ•°æœ¬èº«è¿”å› <code>rx</code>ï¼ˆé€šè¿‡ <code>await</code> å¾—åˆ°ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-14">å†™åœ¨æœ€å</h2>
<p>è¯šç„¶ï¼Œæœ¬ç¯‡å†…å®¹æœ€åˆå®šä½ä¸ºä¼ä¸šçº§ç›‘æ§ç³»ç»Ÿï¼Œä½†åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ‰æ·±åˆ»ä½“ä¼šåˆ°ä»€ä¹ˆå«åšâ€œæ— çŸ¥è€…æ— ç•â€ã€‚è‹¥è¦çœŸæ­£æ‰“é€ ä¸€ä¸ªç§°å¾—ä¸Šâ€œä¼ä¸šçº§â€çš„ç›‘æ§ç³»ç»Ÿï¼Œéœ€è¦è€ƒè™‘çš„ç»´åº¦è¿œè¶…æƒ³è±¡ã€‚</p>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œâ€œå¯ç”¨â€ä¸â€œèƒ½ç”¨â€ä¹‹é—´é‚£é“çœ‹ä¼¼æ— å½¢çš„é¸¿æ²Ÿï¼Œæœ¬è´¨ä¸Šæ˜¯ç”±<strong>ç”¨æˆ·è§„æ¨¡</strong>ä¸<strong>èµ„é‡‘æŠ•å…¥</strong>å…±åŒå†³å®šçš„ã€‚å½“ç”¨æˆ·é‡è¾¾åˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼Œé‚£äº›åœ¨ demo é˜¶æ®µçœ‹ä¼¼æ— è¶³è½»é‡çš„ç»†èŠ‚â€”â€”æ¯”å¦‚æ€§èƒ½ç“¶é¢ˆã€æ•°æ®ä¸€è‡´æ€§ã€é«˜å¯ç”¨æ¶æ„â€”â€”éƒ½ä¼šéª¤ç„¶æˆä¸ºç³»ç»Ÿç¨³å®šæ€§çš„è‡´å‘½ç¼ºå£ã€‚è€Œä¸€æ—¦æ¶‰åŠèµ„é‡‘æµè½¬æˆ–å•†ä¸šæŸå¤±ï¼Œå¯¹ç³»ç»Ÿçš„å¯é æ€§è¦æ±‚æ›´æ˜¯ä¼šè·ƒå‡è‡³å…¨æ–°çš„é‡çº§ã€‚</p>
<p>å› æ­¤ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬è®¤ä¸ºâ€œç®€å•â€çš„ç³»ç»Ÿæˆ–åŠŸèƒ½ï¼Œå…¶å®å¹¶éçœŸçš„ç®€å•ï¼Œåªæ˜¯å°šæœªç»å†å¤§è§„æ¨¡ç”¨æˆ·ä¸çœŸå®èµ„é‡‘çš„è€ƒéªŒã€‚æœ¬æ¬¡æˆ‘ä»¬å®ç°çš„ï¼Œä»…ä»…æ˜¯å…¶ä¸­ä¸€ä¸ªåŸºç¡€çš„ HTTP ç›‘æ§æ¨¡å—ï¼Œè·ç¦»å®Œæ•´çš„ä¼ä¸šçº§æ–¹æ¡ˆä»æœ‰å¤§é‡åŠŸèƒ½æœ‰å¾…å®Œå–„ã€‚</p>
<p>ä½†å³ä¾¿å¦‚æ­¤ï¼Œå¯¹äºä¸€ååˆå­¦è€…è€Œè¨€ï¼Œèƒ½å¤Ÿä¸€æ­¥æ­¥èµ°å®Œè¿™ä¸ªä»é›¶åˆ°ä¸€çš„è¿‡ç¨‹ï¼Œç†è§£ç›‘æ§ç³»ç»Ÿçš„æ ¸å¿ƒæ¶æ„ä¸å®ç°é€»è¾‘ï¼Œå·²ç»æ˜¯æå…·ä»·å€¼çš„æˆé•¿ã€‚æ„¿è¿™ä»½å®è·µç»éªŒï¼Œèƒ½æˆä¸ºä½ èµ°å‘æ›´å¤æ‚ç³»ç»Ÿè®¾è®¡çš„åšå®ç¬¬ä¸€æ­¥ã€‚</p>
<p>åœ¨AIæŠ€æœ¯å¦‚æ­¤æ™®åŠçš„ä»Šå¤©ï¼Œæˆ‘æƒ³ç‰¹åˆ«åˆ†äº«ä¸€ç‚¹å¿ƒå¾—ï¼šè¯·ä¸è¦è¿‡åº¦ä¾èµ–AIçš„ä»£ç ç”Ÿæˆèƒ½åŠ›ã€‚ä¼˜ç§€çš„å¼€å‘è€…åº”è¯¥å°†AIè§†ä¸ºæå‡æ•ˆç‡çš„<strong>å·¥å…·</strong>ï¼Œè€Œéæ›¿ä»£æ€è€ƒçš„<strong>å¤§è„‘</strong>ã€‚é‡è¦çš„æ˜¯ä¿æŒè‡ªå·±çš„æ€è€ƒä¸»å¯¼æƒâ€”â€”<strong>ç”±ä½ æ¥é©¾é©­æŠ€æœ¯ï¼Œè€Œä¸æ˜¯è¢«æŠ€æœ¯æ‰€é©¾é©­</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶æ„å»º React Native å¯¼èˆªä½“ç³»-React Navigation]]></title>    <link>https://juejin.cn/post/7572844326390530082</link>    <guid>https://juejin.cn/post/7572844326390530082</guid>    <pubDate>2025-11-17T05:39:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572844326390530082" data-draft-id="7572844326390366242" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶æ„å»º React Native å¯¼èˆªä½“ç³»-React Navigation"/> <meta itemprop="keywords" content="å‰ç«¯,React Native"/> <meta itemprop="datePublished" content="2025-11-17T05:39:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°‘å¿"/> <meta itemprop="url" content="https://juejin.cn/user/26044010879709"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶æ„å»º React Native å¯¼èˆªä½“ç³»-React Navigation
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044010879709/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°‘å¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:39:03.000Z" title="Mon Nov 17 2025 05:39:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€React Navigation v7 ä»‹ç»</h2>
<p>React Navigation v7 åœ¨æ¶æ„å’Œæ€§èƒ½ä¸Šéƒ½æœ‰æ˜¾è‘—ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>åŸç”Ÿæ€§èƒ½æå‡</strong>ï¼šæ¨èä½¿ç”¨ <code>@react-navigation/native-stack</code>ï¼Œåˆ©ç”¨åŸç”Ÿå¯¼èˆªæ§åˆ¶å™¨å®ç°æ›´æµç•…çš„åŠ¨ç”»</li>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šæ ¸å¿ƒåŒ…ä¸å¯¼èˆªå™¨åˆ†ç¦»ï¼ŒæŒ‰éœ€å®‰è£…å‡å°‘åŒ…ä½“ç§¯</li>
<li><strong>ç»Ÿä¸€çš„é…ç½® API</strong>ï¼šæ— è®ºæ˜¯ Stackã€Tab è¿˜æ˜¯ Drawerï¼Œé…ç½®æ–¹å¼æ›´åŠ ä¸€è‡´</li>
<li><strong>æ›´å¥½çš„ TypeScript æ”¯æŒ</strong>ï¼šå†…ç½®ç±»å‹æ¨æ–­ï¼Œå¼€å‘ä½“éªŒæ›´å‹å¥½</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€ç¯å¢ƒæ­å»ºï¼šä¸‰æ­¥å®Œæˆå®‰è£…é…ç½®</h2>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šå®‰è£…æ ¸å¿ƒä¾èµ–</h3>
<pre><code class="hljs language-java" lang="java">npm install <span class="hljs-meta">@react</span>-navigation/<span class="hljs-keyword">native</span>
</code></pre>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šæ·»åŠ åŸç”Ÿèƒ½åŠ›åº“</h3>
<p>è¿™ä¸¤ä¸ªåº“æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ï¼Œå¿…é¡»å®‰è£…ï¼š</p>
<pre><code class="hljs language-java" lang="java">npm install react-<span class="hljs-keyword">native</span>-screens react-<span class="hljs-keyword">native</span>-safe-area-context
</code></pre>
<p><strong>iOS ç”¨æˆ·æ³¨æ„</strong>ï¼šå®‰è£…åéœ€æ‰§è¡Œ <code>npx pod-install ios</code> é“¾æ¥åŸç”Ÿä»£ç ã€‚</p>
<h3 data-id="heading-4">æ­¥éª¤ 3ï¼šæŒ‰éœ€å®‰è£…å¯¼èˆªå™¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å †æ ˆå¯¼èˆªï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
npm install @react-navigation/native-stack

<span class="hljs-comment"># åº•éƒ¨æ ‡ç­¾å¯¼èˆª</span>
npm install @react-navigation/bottom-tabs

<span class="hljs-comment"># æŠ½å±‰å¯¼èˆª</span>
npm install @react-navigation/drawer
</code></pre>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒåŸºç¡€ï¼šStack Navigator å®æˆ˜</h2>
<p>Stack Navigator æ˜¯ç§»åŠ¨åº”ç”¨çš„åŸºçŸ³ï¼Œå®ƒç®¡ç†é¡µé¢çš„å †æ ˆå†å²ï¼Œæ”¯æŒæ‰‹åŠ¿è¿”å›å’Œåˆ‡æ¢åŠ¨ç”»ã€‚</p>
<h3 data-id="heading-6">3.1 åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªå¯¼èˆªå™¨</h3>
<p><strong>å±å¹•ç»„ä»¶</strong>ï¼ˆ<code>screens/Home.jsx</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SafeAreaView</span>, <span class="hljs-title class_">StyleSheet</span>, <span class="hljs-title class_">Text</span>, <span class="hljs-title class_">Pressable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params">{ navigation }</span>) =&gt; {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Home Screen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> 
                <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span> navigation.navigate('Profile')}
                style={styles.button}
            &gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span>&gt;</span>â†’ è·³è½¬åˆ° Profile<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaView</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">const</span> styles = <span class="hljs-title class_">StyleSheet</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">container</span>: { <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>, <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span> },
    <span class="hljs-attr">title</span>: { <span class="hljs-attr">fontSize</span>: <span class="hljs-number">24</span>, <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">20</span> },
    <span class="hljs-attr">button</span>: { 
        <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#4BC1D2'</span>, 
        <span class="hljs-attr">padding</span>: <span class="hljs-number">12</span>, 
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">8</span> 
    },
    <span class="hljs-attr">buttonText</span>: { <span class="hljs-attr">color</span>: <span class="hljs-string">'#fff'</span>, <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span> }
});
</code></pre>
<p><strong>æ ¹ç»„ä»¶é…ç½®</strong>ï¼ˆ<code>App.js</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NavigationContainer</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>;
<span class="hljs-keyword">import</span> { createNativeStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native-stack'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./screens/Home'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Profile</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./screens/Profile'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">Stack</span> = <span class="hljs-title function_">createNativeStackNavigator</span>();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span> <span class="hljs-attr">initialRouteName</span>=<span class="hljs-string">"Home"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Home}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> 
          <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> 
          <span class="hljs-attr">component</span>=<span class="hljs-string">{Profile}</span>
          <span class="hljs-attr">options</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">title:</span> '<span class="hljs-attr">ä¸ªäººä¸­å¿ƒ</span>' }}  // <span class="hljs-attr">è‡ªå®šä¹‰æ ‡é¢˜</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>å…³é”®ç‚¹è§£æ</strong>ï¼š</p>
<ul>
<li><strong><code>NavigationContainer</code></strong> ï¼šæ•´ä¸ªåº”ç”¨çš„å¯¼èˆªå¤§è„‘ï¼Œç®¡ç†çŠ¶æ€ä¸æ·±åº¦é“¾æ¥</li>
<li><strong><code>navigation.navigate('RouteName')</code></strong> ï¼šæœ€æ ¸å¿ƒçš„è·³è½¬æ–¹æ³•ï¼Œè‡ªåŠ¨ç®¡ç†å †æ ˆ</li>
<li><strong>æ‰€æœ‰å±å¹•è‡ªåŠ¨æ¥æ”¶ <code>navigation</code> å±æ€§</strong> ï¼šæ— éœ€æ‰‹åŠ¨ä¼ é€’</li>
</ul>
<hr/>
<h2 data-id="heading-7">å››ã€ä¸°å¯Œå¯¼èˆªä½“éªŒï¼šTab ä¸ Drawer</h2>
<h3 data-id="heading-8">4.1 Bottom Tabsï¼šä¸»æµ App çš„é¦–é€‰</h3>
<p>åº•éƒ¨æ ‡ç­¾æ è®©ç”¨æˆ·èƒ½å¿«é€Ÿåˆ‡æ¢æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> { createBottomTabNavigator } from <span class="hljs-string">'@react-navigation/bottom-tabs'</span>;
<span class="hljs-keyword">import</span> Ionicons from <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>;

<span class="hljs-type">const</span> Tab = <span class="hljs-built_in">createBottomTabNavigator</span>();

<span class="hljs-function">function <span class="hljs-title">AppTabs</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> (
    &lt;Tab.Navigator
      screenOptions={({ route }) =&gt; ({
        <span class="hljs-comment">// åŠ¨æ€å›¾æ ‡é…ç½®</span>
        tabBarIcon: ({ focused, color, size }) =&gt; {
          <span class="hljs-type">const</span> iconMap = {
            Home: focused ? <span class="hljs-string">'ios-home'</span> : <span class="hljs-string">'ios-home-outline'</span>,
            Settings: focused ? <span class="hljs-string">'ios-settings'</span> : <span class="hljs-string">'ios-settings-outline'</span>,
          };
          <span class="hljs-keyword">return</span> &lt;Ionicons name={iconMap[route.name]} size={size} color={color} /&gt;;
        },
        tabBarActiveTintColor: <span class="hljs-string">'#4BC1D2'</span>,  <span class="hljs-comment">// æ¿€æ´»é¢œè‰²</span>
        tabBarInactiveTintColor: <span class="hljs-string">'#999'</span>,     <span class="hljs-comment">// éæ¿€æ´»é¢œè‰²</span>
        headerShown: <span class="hljs-literal">false</span>,  <span class="hljs-comment">// éšè—å †æ ˆæ ‡é¢˜ï¼Œç”±å†…éƒ¨å¯¼èˆªå™¨ç®¡ç†</span>
      })}
    &gt;
      &lt;Tab.Screen name=<span class="hljs-string">"Home"</span> component={HomeStackScreen} /&gt;
      &lt;Tab.Screen name=<span class="hljs-string">"Settings"</span> component={SettingsScreen} /&gt;
    &lt;/Tab.Navigator&gt;
  );
}
</code></pre>
<h3 data-id="heading-9">4.2 Drawerï¼šä¾§è¾¹èœå•çš„ä¼˜é›…å®ç°</h3>
<p>é€‚åˆåŠŸèƒ½æ¨¡å—è¾ƒå¤šã€éœ€è¦å±‚çº§å¯¼èˆªçš„åº”ç”¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { createDrawerNavigator } from '@react-navigation/drawer'<span class="hljs-comment">;</span>

const <span class="hljs-attr">Drawer</span> = createDrawerNavigator()<span class="hljs-comment">;</span>

function AppDrawer() {
  return (
    &lt;Drawer.Navigator
      <span class="hljs-attr">drawerPosition</span>=<span class="hljs-string">"left"</span>  // æŠ½å±‰ä»å·¦ä¾§æ»‘å‡º
      <span class="hljs-attr">drawerStyle</span>={{ width: <span class="hljs-number">280</span> }}  // è‡ªå®šä¹‰å®½åº¦
      <span class="hljs-attr">drawerContentOptions</span>={{
        activeTintColor: '<span class="hljs-comment">#4BC1D2',</span>
        labelStyle: { fontSize: 16 },
      }}
    &gt;
      &lt;Drawer.Screen <span class="hljs-attr">name</span>=<span class="hljs-string">"Main"</span> component={AppTabs} /&gt;
      &lt;Drawer.Screen <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> component={ProfileScreen} /&gt;
    &lt;/Drawer.Navigator&gt;
  )<span class="hljs-comment">;</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-10">äº”ã€å¯¼èˆªå™¨ç»„åˆï¼šæ„å»ºå¤æ‚åº”ç”¨ç»“æ„</h2>
<p>çœŸå®åœºæ™¯é€šå¸¸æ˜¯<strong>å¯¼èˆªå™¨åµŒå¥—</strong>ï¼šæ ‡ç­¾å¯¼èˆªåŒ…å«å †æ ˆå¯¼èˆªï¼ŒæŠ½å±‰å¯¼èˆªåŒ…è£¹æ ‡ç­¾å¯¼èˆªã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. é¦–é¡µæ¨¡å—çš„å †æ ˆå¯¼èˆª</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HomeStackScreen</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"HomeMain"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Details"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{DetailsScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// 2. è®¾ç½®æ¨¡å—çš„å †æ ˆå¯¼èˆª</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">SettingsStackScreen</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SettingsMain"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{SettingsScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Account"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{AccountScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// 3. åº•éƒ¨æ ‡ç­¾å¯¼èˆªç»„åˆä¸¤ä¸ªå †æ ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">AppTabs</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"HomeTab"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeStackScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"SettingsTab"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{SettingsStackScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tab.Navigator</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// 4. æ ¹ç»„ä»¶ï¼šæŠ½å±‰åŒ…è£¹æ ‡ç­¾å¯¼èˆª</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Navigator</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"App"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{AppTabs}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Drawer.Navigator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>è®¾è®¡æ¨¡å¼è§£è¯»</strong>ï¼š</p>
<ul>
<li><strong>æ¨¡å—åŒ–</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ç®¡ç†è‡ªå·±çš„é¡µé¢å †æ ˆ</li>
<li><strong>èŒè´£åˆ†ç¦»</strong>ï¼šTab è´Ÿè´£ä¸€çº§å¯¼èˆªï¼ŒStack è´Ÿè´£äºŒçº§é¡µé¢æµè½¬</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šä¿æŒåº•éƒ¨æ ‡ç­¾å¸¸é©»ï¼Œå †æ ˆè·³è½¬ä¸å½±å“å…¨å±€å¯¼èˆª</li>
</ul>
<hr/>
<h2 data-id="heading-11">å…­ã€é¡µé¢é€šä¿¡ï¼šå‚æ•°ä¼ é€’ä¸è¿”å›å¤„ç†</h2>
<h3 data-id="heading-12">6.1 å‘ä¸‹ä¸€ä¸ªé¡µé¢ä¼ å‚</h3>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å‘é€æ–¹ï¼šHomeScreen</span>
navigation.<span class="hljs-title function_ invoke__">navigate</span>(<span class="hljs-string">'Details'</span>, {
  <span class="hljs-attr">itemId</span>: <span class="hljs-number">86</span>,
  <span class="hljs-attr">itemName</span>: <span class="hljs-string">'React Navigation æŒ‡å—'</span>,
  <span class="hljs-attr">timestamp</span>: Date.<span class="hljs-title function_ invoke__">now</span>()
});
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ¥æ”¶æ–¹ï¼šDetailsScreen</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">DetailsScreen</span>(<span class="hljs-params">{ route, navigation }</span>) {
  <span class="hljs-keyword">const</span> { itemId, itemName } = route.<span class="hljs-property">params</span>;
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>å•†å“ID: {itemId}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>å•†å“åç§°: {itemName}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-13">6.2 è¿”å›æ—¶æºå¸¦æ•°æ®</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// DetailsScreen è¿”å›æ—¶ä¼ å‚</span>
navigation.navigate(<span class="hljs-string">'Home'</span>, { result: <span class="hljs-string">'success'</span> });

<span class="hljs-comment">// HomeScreen æ¥æ”¶è¿”å›å‚æ•°</span>
useEffect(() =&gt; {
  <span class="hljs-keyword">if</span> (route.<span class="hljs-keyword">params</span>?.result) {
    console.log(<span class="hljs-string">'æ“ä½œç»“æœ:'</span>, route.<span class="hljs-keyword">params</span>.result);
  }
}, [route.<span class="hljs-keyword">params</span>]);
</code></pre>
<h3 data-id="heading-14">6.3 useNavigation Hookï¼šåœ¨æ·±å±‚ç»„ä»¶ä¸­å¯¼èˆª</h3>
<p>å½“ç»„ä»¶æœªç›´æ¥æ¥æ”¶ <code>navigation</code> prop æ—¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">import { useNavigation } from '@react-navigation/native'<span class="hljs-comment">;</span>

function DeepChildComponent() {
  const <span class="hljs-attr">navigation</span> = useNavigation()<span class="hljs-comment">;</span>
  
  return (
    &lt;Button 
      <span class="hljs-attr">title</span>=<span class="hljs-string">"è¿”å›é¦–é¡µ"</span> 
      <span class="hljs-attr">onPress</span>={() =&gt; navigation.navigate(<span class="hljs-string">'Home'</span>)} 
    /&gt;
  )<span class="hljs-comment">;</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-15">ä¸ƒã€è¿›é˜¶å®šåˆ¶ï¼šè®©å¯¼èˆªæ›´è´´åˆä½ çš„ App</h2>
<h3 data-id="heading-16">7.1 è‡ªå®šä¹‰å¤´éƒ¨æ ·å¼</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;Stack.Screen 
  <span class="hljs-attr">name</span>=<span class="hljs-string">"Details"</span> 
  <span class="hljs-attr">component</span>={DetailsScreen}
  <span class="hljs-attr">options</span>={{
    headerStyle: { backgroundColor: '<span class="hljs-comment">#f4511e' },</span>
    headerTintColor: '<span class="hljs-comment">#fff',  // è¿”å›æŒ‰é’®å’Œæ ‡é¢˜é¢œè‰²</span>
    headerTitleStyle: { fontWeight: 'bold' },
    headerRight: () =&gt; (
      &lt;Button <span class="hljs-attr">onPress</span>={() =&gt; alert(<span class="hljs-string">'åˆ†äº«'</span>)} title=<span class="hljs-string">"åˆ†äº«"</span> /&gt;
    ),
  }}
/&gt;
</code></pre>
<h3 data-id="heading-17">7.2 æ·±åº¦é“¾æ¥ï¼ˆDeep Linkingï¼‰</h3>
<p>è®©å¤–éƒ¨é“¾æ¥èƒ½ç›´æ¥æ‰“å¼€ App å†…ç‰¹å®šé¡µé¢ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Linking</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">const</span> linking = {
  <span class="hljs-attr">prefixes</span>: [<span class="hljs-string">'myapp://'</span>, <span class="hljs-string">'https://myapp.com'</span>],
  <span class="hljs-attr">config</span>: {
    <span class="hljs-attr">screens</span>: {
      <span class="hljs-title class_">Home</span>: <span class="hljs-string">'home'</span>,
      <span class="hljs-title class_">Details</span>: <span class="hljs-string">'details/:itemId'</span>,  <span class="hljs-comment">// åŠ¨æ€å‚æ•°</span>
      <span class="hljs-title class_">Profile</span>: <span class="hljs-string">'profile'</span>,
    },
  },
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span> <span class="hljs-attr">linking</span>=<span class="hljs-string">{linking}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
        {/* ... */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-18">7.3 æƒé™è·¯ç”±å®ˆå«</h3>
<p>åœ¨æ¸²æŸ“å‰è¿›è¡Œæƒé™æ£€æŸ¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">function RequireAuth({ children }) {
  const { hasToken } = useAuth()<span class="hljs-comment">;</span>
  const <span class="hljs-attr">location</span> = useLocation()<span class="hljs-comment">;</span>
  
  const <span class="hljs-attr">publicPaths</span> = [<span class="hljs-string">"/login"</span>, <span class="hljs-string">"/register"</span>]<span class="hljs-comment">;</span>
  const <span class="hljs-attr">isPublic</span> = publicPaths.includes(location.pathname)<span class="hljs-comment">;</span>
  
  if (!hasToken &amp;&amp; !isPublic) {
    return &lt;Navigate <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> replace state={{ from: location }} /&gt;<span class="hljs-comment">;</span>
  }
  
  return children<span class="hljs-comment">;</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-19">å…«ã€ç‰ˆæœ¬å‡çº§æŒ‡å—ä¸å…¼å®¹æ€§</h2>
<h3 data-id="heading-20">v7 ä¸æ—§ç‰ˆæœ¬çš„ä¸»è¦å·®å¼‚</h3>
<p>è¡¨æ ¼</p>
<p>å¤åˆ¶</p>





























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">v6/v7 æ¨è</th><th align="left">æ—§ç‰ˆæœ¬ (v4/v5)</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left">å †æ ˆå¯¼èˆªå™¨</td><td align="left"><code>@react-navigation/native-stack</code></td><td align="left"><code>react-navigation-stack</code></td><td align="left">åŸç”Ÿæ€§èƒ½ï¼ŒAPI æ›´ç®€æ´</td></tr><tr><td align="left">Tab å¯¼èˆªå™¨</td><td align="left"><code>@react-navigation/bottom-tabs</code></td><td align="left"><code>react-navigation-tabs</code></td><td align="left">ç‹¬ç«‹æˆåŒ…ï¼Œé…ç½®æ›´çµæ´»</td></tr><tr><td align="left">Drawer å¯¼èˆªå™¨</td><td align="left"><code>@react-navigation/drawer</code></td><td align="left"><code>react-navigation-drawer</code></td><td align="left">æ‰‹åŠ¿ä½“éªŒä¼˜åŒ–</td></tr></tbody></table>
<p><strong>æç¤º</strong> ï¼š<code>@react-navigation/stack</code> å·²é€æ­¥è¢« <code>@react-navigation/native-stack</code> æ›¿ä»£ï¼Œæ–°é¡¹ç›®å¼ºçƒˆæ¨èä½¿ç”¨åè€…ä»¥è·å¾—åŸç”Ÿæ€§èƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-21">ä¹ã€æ€»ç»“</h2>
<p>React Navigation v7 é€šè¿‡<strong>æ¨¡å—åŒ–æ¶æ„</strong>å’Œ<strong>åŸç”Ÿæ€§èƒ½ä¼˜åŒ–</strong>ï¼Œæˆä¸º React Native å¯¼èˆªçš„æœ€ä½³é€‰æ‹©ã€‚è®°ä½ä¸‰ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š</p>
<ol>
<li><strong><code>@react-navigation/native</code> æ˜¯å¿…éœ€åŸºç¡€</strong> ï¼šæ‰€æœ‰é¡¹ç›®éƒ½ä»æ­¤å¼€å§‹</li>
<li><strong>æ ¹æ®åœºæ™¯é€‰æ‹©å¯¼èˆªå™¨</strong>ï¼šStack å¤„ç†é¡µé¢æµï¼ŒTab è´Ÿè´£ä¸€çº§å¯¼èˆªï¼ŒDrawer æä¾›å…¨å±€èœå•</li>
<li><strong>åµŒå¥—è€Œéå¹³é“º</strong>ï¼šå¤æ‚åº”ç”¨é‡‡ç”¨å¯¼èˆªå™¨ç»„åˆï¼Œä¿æŒç»“æ„æ¸…æ™°</li>
</ol>
<p>ç°åœ¨æ‰“å¼€ä½ çš„ç¼–è¾‘å™¨ï¼Œå¼€å§‹æ„å»ºæµç•…çš„å¯¼èˆªä½“éªŒå§ï¼</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Freactnavigation.org%2Fdocs%2Fgetting-started" target="_blank" title="https://reactnavigation.org/docs/getting-started" ref="nofollow noopener noreferrer">React Navigation å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2F2481595" target="_blank" title="https://cloud.tencent.com/developer/article/2481595" ref="nofollow noopener noreferrer">React Native å¯¼èˆªå®ç°è¯¦è§£</a></li>
<li><a href="https://juejin.cn/post/7383385723914942474" target="_blank" title="https://juejin.cn/post/7383385723914942474">React Navigation v7 æ–°ç‰¹æ€§</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ React-DnDï¼šå®ç° TodoList ç®€å•æ‹–æ‹½åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7573002274324463662</link>    <guid>https://juejin.cn/post/7573002274324463662</guid>    <pubDate>2025-11-17T05:33:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573002274324463662" data-draft-id="7572961448537784347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ React-DnDï¼šå®ç° TodoList ç®€å•æ‹–æ‹½åŠŸèƒ½"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-11-17T05:33:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Wect"/> <meta itemprop="url" content="https://juejin.cn/user/4185164878720068"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ React-DnDï¼šå®ç° TodoList ç®€å•æ‹–æ‹½åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4185164878720068/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Wect
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:33:45.000Z" title="Mon Nov 17 2025 05:33:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡å°†ä¸ºæ‚¨å¸¦æ¥åŸºç¡€ TodoList é¡¹ç›®çš„è¿›é˜¶æ•™ç¨‹ï¼Œé‡ç‚¹è®²è§£å¦‚ä½•ä½¿ç”¨ React-DnD åº“ä¸ºä»»åŠ¡åˆ—è¡¨æ·»åŠ æ‹–æ‹½æ’åºåŠŸèƒ½ã€‚å»ºè®®è¯»è€…å…ˆæŒæ¡åŸºç¡€ç‰ˆæœ¬å®ç°åå†ç»§ç»­é˜…è¯»æœ¬æ–‡ï¼›è‹¥å°šæœªäº†è§£åŸºç¡€ TodoList åŠŸèƒ½ï¼Œè¯·å…ˆæŸ¥é˜…ç›¸å…³æ•™ç¨‹ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1aa3104a699343eb8077ec1b9ebd8bfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgV2VjdA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962424&amp;x-signature=C7Rk5mYq39%2FeGjllRr7vjUFZMcc%3D" alt="EasyTodoList.gif" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>åœ¨åŸºç¡€ TodoList é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†ä»»åŠ¡çš„æ·»åŠ ã€çŠ¶æ€åˆ‡æ¢å’Œåˆ é™¤ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œæ‹–æ‹½æ’åºæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„åŠŸèƒ½ï¼Œå®ƒå…è®¸ç”¨æˆ·é€šè¿‡ç›´è§‚çš„æ‹–æ”¾æ“ä½œæ¥é‡æ–°æ’åˆ—ä»»åŠ¡é¡ºåºã€‚React-DnD æ˜¯ React ç”Ÿæ€ä¸­å¤„ç†æ‹–æ‹½æ“ä½œçš„ä¼˜ç§€åº“ï¼Œå®ƒæä¾›äº†å£°æ˜å¼ APIï¼Œè®©æ‹–æ‹½åŠŸèƒ½çš„å®ç°å˜å¾—ç®€å•è€Œä¼˜é›…ã€‚</p>
<p>ä¸åŸç”Ÿæ‹–æ‹½ API ç›¸æ¯”ï¼ŒReact-DnD å°è£…äº†å¤æ‚çš„äº‹ä»¶å¤„ç†é€»è¾‘ï¼Œå°†æ‹–æ‹½è¡Œä¸ºæ‹†è§£ä¸ºå¯å¤ç”¨çš„ç»„ä»¶é€»è¾‘ï¼ŒåŒæ—¶æ”¯æŒå¤šç§æ‹–æ‹½åœºæ™¯æ‰©å±•ï¼Œéå¸¸é€‚åˆåœ¨ TodoList è¿™ç±»éœ€è¦çµæ´»äº¤äº’çš„åº”ç”¨ä¸­ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">äºŒã€é¡¹ç›®ç»“æ„è°ƒæ•´</h2>
<p>ä¸ºäº†ä½¿æ‹–æ‹½åŠŸèƒ½çš„ä»£ç ç»“æ„æ¸…æ™°ã€å¯ç»´æŠ¤ï¼Œæˆ‘ä»¬åŸºäºåŸºç¡€ TodoList é¡¹ç›®è¿›è¡Œå¦‚ä¸‹ç»“æ„è°ƒæ•´ï¼Œæ–°å¢æ‹–æ‹½ç›¸å…³é…ç½®ç›®å½•ï¼Œå¹¶æ˜ç¡®å„ç»„ä»¶çš„èŒè´£è¾¹ç•Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">src/
â”œâ”€â”€ App.jsx              <span class="hljs-comment"># åº”ç”¨å…¥å£ç»„ä»¶ï¼Œæ·»åŠ  DnDProvider åŒ…è£¹å…¨å±€</span>
â”œâ”€â”€ App.css              <span class="hljs-comment"># å…¨å±€æ ·å¼æ–‡ä»¶ï¼Œæ–°å¢æ‹–æ‹½ç›¸å…³è§†è§‰æ ·å¼</span>
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ TodoList/
â”‚   â”‚   â””â”€â”€ TodoList.jsx <span class="hljs-comment"># ä»»åŠ¡åˆ—è¡¨å®¹å™¨ï¼Œæ¸²æŸ“ TodoItem åˆ—è¡¨</span>
â”‚   â””â”€â”€ TodoItem/
â”‚       â””â”€â”€ TodoItem.jsx <span class="hljs-comment"># æ ¸å¿ƒæ”¹é€ ç»„ä»¶ï¼ŒåŒæ—¶ä½œä¸ºæ‹–æ‹½æºå’Œæ”¾ç½®ç›®æ ‡</span>
â”œâ”€â”€ context/
â”‚   â””â”€â”€ TodoContext/     <span class="hljs-comment"># ä»»åŠ¡çŠ¶æ€ç®¡ç†ï¼Œæ–°å¢æ‹–æ‹½æ’åºæ–¹æ³•</span>
â”œâ”€â”€ dnd/                 <span class="hljs-comment"># æ–°å¢ï¼šæ‹–æ‹½ç›¸å…³é…ç½®ç›®å½•ï¼Œé›†ä¸­ç®¡ç†ç±»å‹å®šä¹‰</span>
â”‚   â””â”€â”€ types.js         <span class="hljs-comment"># å®šä¹‰æ‹–æ‹½ç±»å‹å¸¸é‡ï¼Œå®ç°ç±»å‹ç»Ÿä¸€ç®¡ç†</span>
â””â”€â”€ main.jsx             <span class="hljs-comment"># åº”ç”¨æŒ‚è½½å…¥å£ï¼Œæ— é¢å¤–ä¿®æ”¹</span>
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€å®Œæ•´å®ç°æ­¥éª¤</h2>
<p>æŒ‰ä»¥ä¸‹æ­¥éª¤å®ŒæˆåŠŸèƒ½è½åœ°ï¼Œé€æ­¥å®Œæˆæ‹–æ‹½æ’åºåŠŸèƒ½çš„é›†æˆï¼Œæ¯ä¸€æ­¥éƒ½åŒ…å«å…·ä½“ä»£ç å’Œå…³é”®è¯´æ˜ï¼š</p>
<h3 data-id="heading-3">1. å®‰è£… React-DnD æ ¸å¿ƒä¾èµ–</h3>
<p>é¦–å…ˆéœ€è¦å®‰è£… React-DnD åº“åŠå…¶ HTML5 åç«¯ï¼ˆé€‚ç”¨äºæ¡Œé¢ç«¯æµè§ˆå™¨åœºæ™¯ï¼‰ï¼Œå¦‚æœæ˜¯ç§»åŠ¨ç«¯åº”ç”¨ï¼Œå¯åç»­æ›¿æ¢ä¸ºè§¦æ‘¸åç«¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ npm å®‰è£…</span>
npm install react-dnd react-dnd-html5-backend

<span class="hljs-comment"># æˆ–ä½¿ç”¨ yarn å®‰è£…</span>
yarn add react-dnd react-dnd-html5-backend
</code></pre>
<h3 data-id="heading-4">2. å®šä¹‰æ‹–æ‹½ç±»å‹å¸¸é‡</h3>
<p>åœ¨ <code>dnd/types.js</code> æ–‡ä»¶ä¸­å®šä¹‰æ‹–æ‹½ç±»å‹ï¼Œé‡‡ç”¨å¸¸é‡å½¢å¼ä¾¿äºåç»­ç»´æŠ¤å’Œå¤ç”¨ï¼Œé¿å…ç¡¬ç¼–ç å¯¼è‡´çš„é”™è¯¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// dnd/types.js</span>
<span class="hljs-comment">// å®šä¹‰ Todo ä»»åŠ¡çš„æ‹–æ‹½ç±»å‹ï¼Œå‘½åæ¸…æ™°ä¾¿äºåŒºåˆ†å…¶ä»–æ‹–æ‹½é¡¹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ItemTypes</span> = {
  <span class="hljs-attr">TODO_ITEM</span>: <span class="hljs-string">'todo_item'</span>,
}

<span class="hljs-comment">// å¯¼å‡ºæ‹–æ‹½ç±»å‹å¸¸é‡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ItemTypes</span>; 
</code></pre>
<h3 data-id="heading-5">3. é…ç½®å…¨å±€ DnDProvider</h3>
<p>React-DnD é€šè¿‡ <code>DnDProvider</code> ä¸ºæ•´ä¸ªåº”ç”¨æä¾›æ‹–æ‹½ä¸Šä¸‹æ–‡ï¼Œéœ€è¦åœ¨åº”ç”¨å…¥å£ç»„ä»¶ <code>App.jsx</code> ä¸­åŒ…è£¹å…¨å±€ç»„ä»¶ï¼Œå¹¶é…ç½® HTML5 åç«¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>

<span class="hljs-keyword">import</span> { <span class="hljs-title class_">DndProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dnd'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HTML5Backend</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dnd-html5-backend'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoProvider</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/context/TodoContext/TodoProvider'</span>

<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoList</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/TodoList/TodoList'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DndProvider</span> <span class="hljs-attr">backend</span>=<span class="hljs-string">{HTML5Backend}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TodoProvider</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">TodoList</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">TodoProvider</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">DndProvider</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h3 data-id="heading-6">4. å®ç° TodoItem æ‹–æ‹½åŠŸèƒ½</h3>
<p>æˆ‘ä»¬éœ€è¦æ”¹é€  TodoItem.jsx ç»„ä»¶ï¼Œä½¿å…¶åŒæ—¶å…·å¤‡æ‹–æ‹½æºï¼ˆDragSourceï¼‰å’Œæ”¾ç½®ç›®æ ‡ï¼ˆDropTargetï¼‰åŠŸèƒ½ï¼Œè¿™æ˜¯å®ç°æ‹–æ‹½æ’åºçš„å…³é”®ï¼š</p>
<p>æ”¹é€ è¦ç‚¹ï¼š</p>
<ol>
<li>æ‹–æ‹½æºåŠŸèƒ½ï¼šå¯ç”¨å¾…åŠäº‹é¡¹çš„æ‹–æ‹½æ“ä½œï¼Œè®¾ç½®æ‹–æ‹½æ•°æ®</li>
<li>æ”¾ç½®ç›®æ ‡åŠŸèƒ½ï¼šæ¥æ”¶å…¶ä»–å¾…åŠäº‹é¡¹çš„æ‹–æ‹½ï¼Œå¤„ç†æ”¾ç½®æ“ä½œ</li>
<li>äº¤äº’ä¼˜åŒ–ï¼šç¡®ä¿æ‹–æ‹½è¿‡ç¨‹æµç•…ï¼Œå®ç°è‡ªç„¶çš„æ’åºæ•ˆæœ</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// components/TodoItem/TodoItem.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> useTodoContext <span class="hljs-keyword">from</span> <span class="hljs-string">'@/context/TodoContext/useTodoContext'</span>;

<span class="hljs-keyword">import</span> { useDrag, useDrop } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dnd'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ItemTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/dnd/types'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">TodoItem</span>(<span class="hljs-params">{ todo, index }</span>) {
  <span class="hljs-keyword">const</span> { todos, deleteTodo, toggleComplete, reorderTodos } = <span class="hljs-title function_">useTodoContext</span>();
  <span class="hljs-keyword">const</span> divRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-comment">// ç¡®ä¿todoå­˜åœ¨</span>
  <span class="hljs-keyword">if</span> (!todo) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-comment">// æ‹–æ‹½åŠŸèƒ½å®ç°</span>
  <span class="hljs-keyword">const</span> [{ isDragging }, dragSourceRef] = <span class="hljs-title function_">useDrag</span>(
    {
      <span class="hljs-comment">// æ‹–æ‹½ç±»å‹ï¼Œç”¨äºå’Œç›®æ ‡æºçš„acceptå±æ€§åŒ¹é…</span>
      <span class="hljs-attr">type</span>: <span class="hljs-title class_">ItemTypes</span>.<span class="hljs-property">TODO_ITEM</span>,
      <span class="hljs-comment">// æ‹–æ‹½æ—¶ä¼ é€’çš„æ•°æ®ï¼ŒåŒ…å«å½“å‰æ‹–æ‹½é¡¹çš„idå’Œç´¢å¼•</span>
      <span class="hljs-attr">item</span>: { <span class="hljs-attr">id</span>: todo.<span class="hljs-property">id</span>, index },
      <span class="hljs-comment">// è‡ªå®šä¹‰åˆ¤æ–­å½“å‰é¡¹æ˜¯å¦æ­£åœ¨è¢«æ‹–æ‹½çš„é€»è¾‘</span>
      <span class="hljs-comment">// å½“æ‹–æ‹½æ•°æ®å­˜åœ¨ä¸”idä¸å½“å‰é¡¹åŒ¹é…æ—¶ï¼Œè§†ä¸ºæ­£åœ¨æ‹–æ‹½</span>
      <span class="hljs-attr">isDragging</span>: <span class="hljs-function">(<span class="hljs-params">monitor</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> monitor.<span class="hljs-title function_">getItem</span>() !== <span class="hljs-literal">null</span> &amp;&amp; monitor.<span class="hljs-title function_">getItem</span>().<span class="hljs-property">id</span> === todo.<span class="hljs-property">id</span>;
      },
      <span class="hljs-comment">// æ”¶é›†æ‹–æ‹½çŠ¶æ€çš„å›è°ƒï¼Œè¿”å›éœ€è¦çš„çŠ¶æ€æ•°æ®</span>
      <span class="hljs-attr">collect</span>: <span class="hljs-function">(<span class="hljs-params">monitor</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-comment">// è·å–å½“å‰æ˜¯å¦å¤„äºæ‹–æ‹½çŠ¶æ€ï¼ˆå¦‚æœä¸è®¾ç½®isDraggingé…ç½®ï¼Œä¼šä½¿ç”¨é»˜è®¤å®ç°ï¼‰</span>
          <span class="hljs-comment">// isDragging å¦‚æœæ²¡æœ‰è®¾ç½® åˆ™ä¼šè°ƒç”¨é»˜è®¤çš„å®ç°</span>
          <span class="hljs-attr">isDragging</span>: monitor.<span class="hljs-title function_">isDragging</span>(),
        }
      }

    }
    <span class="hljs-comment">// ä¾èµ–æ•°ç»„ï¼šå½“todoså‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°åˆ›å»ºæ‹–æ‹½æºé…ç½®</span>
    , [todos])

  <span class="hljs-keyword">const</span> [{ isOver, canDrop }, dropTargetRef] = <span class="hljs-title function_">useDrop</span>(
    {
      <span class="hljs-comment">// æ¥å—çš„æ‹–æ‹½ç±»å‹ï¼Œä¸æ‹–æ‹½æºçš„typeåŒ¹é…</span>
      <span class="hljs-attr">accept</span>: <span class="hljs-title class_">ItemTypes</span>.<span class="hljs-property">TODO_ITEM</span>,
      <span class="hljs-comment">// æ”¾ç½®ç›®æ ‡è‡ªèº«çš„æ•°æ®ï¼ˆæ­¤å¤„ä¸ºç©ºå¯¹è±¡ï¼Œå¯æ ¹æ®éœ€è¦æ·»åŠ ï¼‰</span>
      <span class="hljs-attr">item</span>: {},
      <span class="hljs-attr">hover</span>: <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
        <span class="hljs-comment">// item æ˜¯æ‹–æ‹½æº  todo æ˜¯æ¥å—æ‹–æ‹½</span>
        <span class="hljs-comment">// console.log(item, todo);</span>

        <span class="hljs-keyword">if</span> (item.<span class="hljs-property">id</span> === todo.<span class="hljs-property">id</span>) <span class="hljs-keyword">return</span>;

        <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨ç´¢å¼•ä¼šå¯¼è‡´æ‹–æ‹½æ··ä¹±</span>
        <span class="hljs-comment">// åœ¨æ‹–æ‹½è¿‡ç¨‹ä¸­åˆ—è¡¨é¡ºåºå‘ç”Ÿå˜åŒ–ï¼ˆæ¯”å¦‚å¤šæ¬¡å¿«é€Ÿæ‹–æ‹½ï¼‰ï¼Œ item.index ä»ç„¶ä¼šä¿æŒ åˆå§‹æ‹–æ‹½æ—¶çš„æ—§ç´¢å¼• ï¼Œè€Œä¸æ˜¯å½“å‰åˆ—è¡¨ä¸­çš„å®é™…ç´¢å¼•ã€‚</span>
        <span class="hljs-comment">// console.log(item.index, index);</span>
        <span class="hljs-comment">// reorderTodos(item.index, index);</span>

        <span class="hljs-comment">// é€šè¿‡ todos.findIndex çš„æ–¹å¼è·å–indexæ›´å¯é </span>
        <span class="hljs-comment">// console.log(item.id, todo.id);</span>
        <span class="hljs-keyword">const</span> sourceIndex = todos.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">oneTodo</span> =&gt;</span> oneTodo.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span>);
        <span class="hljs-keyword">const</span> destinationIndex = todos.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">oneTodo</span> =&gt;</span> oneTodo.<span class="hljs-property">id</span> === todo.<span class="hljs-property">id</span>);
        <span class="hljs-comment">// console.log(sourceIndex, destinationIndex);</span>
        <span class="hljs-title function_">reorderTodos</span>(sourceIndex, destinationIndex);

      },
      <span class="hljs-comment">// æ”¶é›†æ”¾ç½®çŠ¶æ€çš„å›è°ƒï¼Œè¿”å›éœ€è¦çš„çŠ¶æ€æ•°æ®</span>
      <span class="hljs-attr">collect</span>: <span class="hljs-function">(<span class="hljs-params">monitor</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-comment">// å½“å‰æ˜¯å¦æœ‰æ‹–æ‹½é¡¹æ‚¬åœåœ¨ä¸Šæ–¹</span>
          <span class="hljs-attr">isOver</span>: monitor.<span class="hljs-title function_">isOver</span>(),
          <span class="hljs-comment">// å½“å‰ç›®æ ‡æ˜¯å¦å¯ä»¥æ¥å—æ‹–æ‹½é¡¹</span>
          <span class="hljs-attr">canDrop</span>: monitor.<span class="hljs-property">canDrop</span>
        }
      },
    }
    <span class="hljs-comment">// ä¾èµ–æ•°ç»„ï¼šå½“todoså‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°åˆ›å»ºæ”¾ç½®ç›®æ ‡é…ç½®</span>
    , [todos])

  <span class="hljs-comment">// æ³¨æ„ Drag å’Œ Drop å¿…é¡»æ·»åŠ todosä¾èµ– å¦‚æœä¸æ·»åŠ  å®¹æ˜“æ‹–æ‹½çŠ¶æ€ä¸åŒæ­¥ ç­‰é—®é¢˜  æ˜¾ç¤ºæ··ä¹±</span>
  <span class="hljs-title function_">dropTargetRef</span>(<span class="hljs-title function_">dragSourceRef</span>(divRef))

  <span class="hljs-keyword">return</span> (
    <span class="hljs-comment">// æ‹–æ‹½æ—¶  ä¼šæ·»åŠ  isDragging ç±»å  ä¼šä½¿å½“å‰ç»„ä»¶ é€æ˜åº¦ é™ä½</span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">todo-item</span>${<span class="hljs-attr">isDragging</span> ? ' <span class="hljs-attr">isDragging</span>' <span class="hljs-attr">:</span> ''}`} <span class="hljs-attr">ref</span>=<span class="hljs-string">{divRef}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-item-content"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
          <span class="hljs-attr">id</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">todo-</span>${<span class="hljs-attr">todo.id</span>}`}
          <span class="hljs-attr">className</span>=<span class="hljs-string">"todo-checkbox"</span>
        /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span>
          <span class="hljs-attr">htmlFor</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">todo-</span>${<span class="hljs-attr">todo.id</span>}`}
          <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">todo-text</span> ${<span class="hljs-attr">todo.completed</span> ? '<span class="hljs-attr">completed</span>' <span class="hljs-attr">:</span> ''}`}
        &gt;</span>
          {todo.text}
        <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> toggleComplete(todo.id)}
        className={`todo-complete-btn ${todo.completed ? 'completed' : ''}`}
        aria-label={todo.completed ? "æ ‡è®°ä¸ºæœªå®Œæˆ" : "æ ‡è®°ä¸ºå·²å®Œæˆ"}
      &gt;
        {todo.completed ? "å·²å®Œæˆ" : "æœªå®Œæˆ"}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> deleteTodo(todo.id)}
        className="todo-delete-btn"
        aria-label="åˆ é™¤ä»»åŠ¡"
      &gt;
        Ã—
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h2 data-id="heading-7">äº”ã€å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-8">1. æ‹–æ‹½ä¸€æ¬¡åæ ·å¼ä¸ç”Ÿæ•ˆ</h3>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šé¦–æ¬¡æ‹–æ‹½ä»»åŠ¡åï¼Œå†æ¬¡æ‹–æ‹½æ—¶é€æ˜åº¦æ ·å¼ä¸å†æ­£ç¡®åº”ç”¨ã€‚</p>
<p><strong>åŸå› åˆ†æ</strong>ï¼šReact-DnD é»˜è®¤çš„ <code>monitor.isDragging()</code> æ–¹æ³•åœ¨ç»„ä»¶é‡æ–°æ¸²æŸ“åï¼Œæ— æ³•å‡†ç¡®è¯†åˆ«å½“å‰æ­£åœ¨è¢«æ‹–æ‹½çš„æ˜¯å“ªä¸ªå…·ä½“ç»„ä»¶ï¼Œå¯¼è‡´çŠ¶æ€åˆ¤æ–­é”™è¯¯ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå®ç°åŸºäºä»»åŠ¡ ID çš„è‡ªå®šä¹‰æ‹–æ‹½çŠ¶æ€åˆ¤æ–­ï¼Œåœ¨ <code>collect</code> å‡½æ•°ä¸­ä½¿ç”¨ç›¸åŒçš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">isDragging</span>: <span class="hljs-function">(<span class="hljs-params">monitor</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> monitor.<span class="hljs-title function_">getItem</span>() !== <span class="hljs-literal">null</span> &amp;&amp; monitor.<span class="hljs-title function_">getItem</span>().<span class="hljs-property">id</span> === todo.<span class="hljs-property">id</span>;
}
</code></pre>
<h3 data-id="heading-9">2. æ‹–æ‹½ä½ç½®è®¡ç®—ä¸å‡†ç¡®</h3>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šæ‹–æ‹½æ’åºåï¼Œä»»åŠ¡çš„å®é™…ä½ç½®ä¸é¢„æœŸä¸ç¬¦ï¼Œå‡ºç°ä½ç½®é”™ä¹±ã€‚</p>
<p><strong>åŸå› åˆ†æ</strong>ï¼šç›´æ¥ä½¿ç”¨ç»„ä»¶ç´¢å¼•è¿›è¡Œä½ç½®è®¡ç®—æ—¶ï¼Œæ²¡æœ‰è€ƒè™‘åˆ°åˆ—è¡¨åŠ¨æ€æ›´æ–°å¯¼è‡´çš„ç´¢å¼•å˜åŒ–ï¼Œå®¹æ˜“äº§ç”Ÿé—­åŒ…é™·é˜±ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ <code>findIndex</code> æ–¹æ³•åŸºäºä»»åŠ¡ ID å®æ—¶æŸ¥æ‰¾æœ€æ–°ä½ç½®ï¼Œç¡®ä¿æ’åºæ“ä½œçš„å‡†ç¡®æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> sourceIndex = todos.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">oneTodo</span> =&gt;</span> oneTodo.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span>);
<span class="hljs-keyword">const</span> destinationIndex = todos.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">oneTodo</span> =&gt;</span> oneTodo.<span class="hljs-property">id</span> === todo.<span class="hljs-property">id</span>);
</code></pre>
<h3 data-id="heading-10">3. çŠ¶æ€ä¸åŒæ­¥é—®é¢˜</h3>
<p><strong>é—®é¢˜æè¿°</strong>ï¼šæ‹–æ‹½æ“ä½œå®Œæˆåï¼Œç»„ä»¶ç•Œé¢æ˜¾ç¤ºä¸å®é™…æ•°æ®çŠ¶æ€ä¸ä¸€è‡´ã€‚</p>
<p><strong>åŸå› åˆ†æ</strong>ï¼š<code>useDrag</code> å’Œ <code>useDrop</code> é’©å­çš„ä¾èµ–æ•°ç»„é…ç½®ä¸å®Œæ•´ï¼Œå¯¼è‡´ç»„ä»¶æ²¡æœ‰åœ¨ç›¸å…³çŠ¶æ€å˜åŒ–æ—¶é‡æ–°è®¡ç®—ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç¡®ä¿ä¾èµ–æ•°ç»„åŒ…å«æ‰€æœ‰å¿…è¦çš„çŠ¶æ€å’Œå±æ€§ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// å¯¹äº useDrag</span>
}, [todos]);

<span class="hljs-comment">// å¯¹äº useDrop</span>
}, [todos]);
</code></pre>
<h2 data-id="heading-11">å…­ã€æ€»ç»“</h2>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åœ¨åŸºç¡€ TodoList åº”ç”¨ä¸Šé›†æˆäº† React-DnD åº“ï¼Œå®ç°äº†ä»»åŠ¡çš„æ‹–æ‹½æ’åºåŠŸèƒ½ã€‚é€šè¿‡ç³»ç»Ÿæ€§çš„å®ç°æ­¥éª¤ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªç”¨æˆ·ä½“éªŒè‰¯å¥½çš„äº¤äº’å¼å¾…åŠäº‹é¡¹åº”ç”¨ï¼š</p>
<ol>
<li><strong>é¡¹ç›®ç»“æ„ä¼˜åŒ–</strong>ï¼šåˆ›å»ºäº†ä¸“é—¨çš„æ‹–æ‹½é…ç½®ç›®å½•ï¼Œä½¿ä»£ç ç»„ç»‡æ›´åŠ æ¸…æ™°</li>
<li><strong>React-DnD åŸºç¡€é…ç½®</strong>ï¼šé€šè¿‡ DnDProvider å’Œ HTML5Backend é…ç½®äº†æ‹–æ‹½ç¯å¢ƒ</li>
<li><strong>çŠ¶æ€ç®¡ç†æ‰©å±•</strong>ï¼šåœ¨ TodoContext ä¸­å®ç°äº†åŸºäº Reducer çš„æ‹–æ‹½æ’åºé€»è¾‘</li>
<li><strong>ç»„ä»¶åŠŸèƒ½å¢å¼º</strong>ï¼šå°† TodoItem ç»„ä»¶æ”¹é€ ä¸ºåŒæ—¶æ”¯æŒæ‹–æ‹½æºå’Œæ”¾ç½®ç›®æ ‡çš„å¤åˆç»„ä»¶</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong>ï¼šæ·»åŠ äº†æ‹–æ‹½è¿‡ç¨‹ä¸­çš„è§†è§‰åé¦ˆæ ·å¼ï¼Œæå‡äº¤äº’ä½“éªŒ</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Goè¯­è¨€AIæ™ºèƒ½ä½“å¼€å‘å¥—ä»¶(ADK) - æ„å»ºå¤æ‚AIä»£ç†çš„å¼€æºæ¡†æ¶]]></title>    <link>https://juejin.cn/post/7573193563054194729</link>    <guid>https://juejin.cn/post/7573193563054194729</guid>    <pubDate>2025-11-17T04:26:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573193563054194729" data-draft-id="7573300346261848118" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Goè¯­è¨€AIæ™ºèƒ½ä½“å¼€å‘å¥—ä»¶(ADK) - æ„å»ºå¤æ‚AIä»£ç†çš„å¼€æºæ¡†æ¶"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2025-11-17T04:26:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Goè¯­è¨€AIæ™ºèƒ½ä½“å¼€å‘å¥—ä»¶(ADK) - æ„å»ºå¤æ‚AIä»£ç†çš„å¼€æºæ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:26:33.000Z" title="Mon Nov 17 2025 04:26:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Goè¯­è¨€AIæ™ºèƒ½ä½“å¼€å‘å¥—ä»¶(ADK)</h2>
<p>Agent Development Kit (ADK) æ˜¯ä¸€ä¸ªçµæ´»ã€æ¨¡å—åŒ–çš„æ¡†æ¶ï¼Œå°†è½¯ä»¶å¼€å‘åŸåˆ™åº”ç”¨äºAIæ™ºèƒ½ä½“åˆ›å»ºã€‚å®ƒæ—¨åœ¨ç®€åŒ–ä»ç®€å•ä»»åŠ¡åˆ°å¤æ‚ç³»ç»Ÿçš„ä»£ç†å·¥ä½œæµç¨‹çš„æ„å»ºã€éƒ¨ç½²å’Œç¼–æ’ã€‚è™½ç„¶é’ˆå¯¹Geminiè¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½†ADKæ˜¯æ¨¡å‹æ— å…³ã€éƒ¨ç½²æ— å…³çš„ï¼Œå¹¶ä¸å…¶ä»–æ¡†æ¶å…¼å®¹ã€‚</p>
<h3 data-id="heading-1">âœ¨ åŠŸèƒ½ç‰¹æ€§</h3>
<ul>
<li><strong>ç¬¦åˆGoè¯­è¨€ä¹ æƒ¯</strong>ï¼šè®¾è®¡è‡ªç„¶ï¼Œå……åˆ†åˆ©ç”¨Goè¯­è¨€çš„ä¼˜åŠ¿</li>
<li><strong>ä¸°å¯Œçš„å·¥å…·ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šåˆ©ç”¨é¢„æ„å»ºå·¥å…·ã€è‡ªå®šä¹‰å‡½æ•°æˆ–é›†æˆç°æœ‰å·¥å…·ï¼Œä¸ºä»£ç†æä¾›å¤šæ ·åŒ–èƒ½åŠ›</li>
<li><strong>ä»£ç ä¼˜å…ˆå¼€å‘</strong>ï¼šç›´æ¥åœ¨Goä¸­å®šä¹‰ä»£ç†é€»è¾‘ã€å·¥å…·å’Œç¼–æ’ï¼Œå®ç°ç»ˆæçµæ´»æ€§ã€å¯æµ‹è¯•æ€§å’Œç‰ˆæœ¬æ§åˆ¶</li>
<li><strong>æ¨¡å—åŒ–å¤šä»£ç†ç³»ç»Ÿ</strong>ï¼šé€šè¿‡ç»„åˆå¤šä¸ªä¸“ä¸šä»£ç†æ¥è®¾è®¡å¯æ‰©å±•çš„åº”ç”¨ç¨‹åº</li>
<li><strong>éšå¤„éƒ¨ç½²</strong>ï¼šè½»æ¾å®¹å™¨åŒ–å¹¶éƒ¨ç½²ä»£ç†ï¼Œå¯¹Google Cloud Runç­‰äº‘åŸç”Ÿç¯å¢ƒæä¾›å¼ºåŠ›æ”¯æŒ</li>
</ul>
<h3 data-id="heading-2">ğŸš€ å®‰è£…æŒ‡å—</h3>
<p>è¦å°†ADK Goæ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ï¼Œè¯·è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">go get google.golang.org/adk
</code></pre>
<h4 data-id="heading-3">ç³»ç»Ÿè¦æ±‚</h4>
<ul>
<li>Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li>æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼šLinuxã€macOSã€Windows</li>
<li>å¯é€‰ï¼šGoogle Cloudè´¦å·ï¼ˆç”¨äºäº‘éƒ¨ç½²ï¼‰</li>
</ul>
<h3 data-id="heading-4">ğŸ“– ä½¿ç”¨è¯´æ˜</h3>
<h4 data-id="heading-5">åŸºç¡€ä»£ç†åˆ›å»º</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"context"</span>
    <span class="hljs-string">"iter"</span>

    <span class="hljs-string">"google.golang.org/adk/agent"</span>
    <span class="hljs-string">"google.golang.org/adk/session"</span>
)

<span class="hljs-comment">// è‡ªå®šä¹‰ä»£ç†å®ç°</span>
<span class="hljs-keyword">type</span> CustomAgent <span class="hljs-keyword">struct</span> {
    name        <span class="hljs-type">string</span>
    description <span class="hljs-type">string</span>
    subAgents   []agent.Agent
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a *CustomAgent)</span></span> Name() <span class="hljs-type">string</span> { <span class="hljs-keyword">return</span> a.name }
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a *CustomAgent)</span></span> Description() <span class="hljs-type">string</span> { <span class="hljs-keyword">return</span> a.description }
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a *CustomAgent)</span></span> SubAgents() []agent.Agent { <span class="hljs-keyword">return</span> a.subAgents }

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a *CustomAgent)</span></span> Run(ctx agent.InvocationContext) iter.Seq2[*session.Event, <span class="hljs-type">error</span>] {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(yield <span class="hljs-keyword">func</span>(*session.Event, <span class="hljs-type">error</span>)</span></span> <span class="hljs-type">bool</span>) {
        <span class="hljs-comment">// ä»£ç†æ‰§è¡Œé€»è¾‘</span>
        event := &amp;session.Event{
            Author: a.name,
            <span class="hljs-comment">// è®¾ç½®å…¶ä»–äº‹ä»¶å±æ€§</span>
        }
        yield(event, <span class="hljs-literal">nil</span>)
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰ä»£ç†</span>
    customAgent := &amp;CustomAgent{
        name:        <span class="hljs-string">"MyAgent"</span>,
        description: <span class="hljs-string">"æˆ‘çš„è‡ªå®šä¹‰AIä»£ç†"</span>,
    }
    
    <span class="hljs-comment">// ä½¿ç”¨ä»£ç†åŠ è½½å™¨</span>
    loader := agent.NewSingleLoader(customAgent)
    
    <span class="hljs-comment">// è¿è¡Œä»£ç†é€»è¾‘...</span>
}
</code></pre>
<h4 data-id="heading-6">LLMä»£ç†ç¤ºä¾‹</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"google.golang.org/adk/agent/llmagent"</span>
    <span class="hljs-string">"google.golang.org/adk/model"</span>
    <span class="hljs-string">"google.golang.org/genai"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">createLLMAgent</span><span class="hljs-params">()</span></span> (agent.Agent, <span class="hljs-type">error</span>) {
    cfg := llmagent.Config{
        AgentConfig: agent.Config{
            Name:        <span class="hljs-string">"èŠå¤©ä»£ç†"</span>,
            Description: <span class="hljs-string">"å¤„ç†ç”¨æˆ·å¯¹è¯çš„LLMä»£ç†"</span>,
        },
        Model: &amp;model.LLM{
            <span class="hljs-comment">// é…ç½®LLMæ¨¡å‹</span>
        },
        Instruction: <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠ©æ‰‹ï¼Œç”¨ä¸­æ–‡å›ç­”ç”¨æˆ·é—®é¢˜ã€‚"</span>,
    }
    
    <span class="hljs-keyword">return</span> llmagent.New(cfg)
}
</code></pre>
<h4 data-id="heading-7">å·¥ä½œæµä»£ç†</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"google.golang.org/adk/agent/workflowagents/loopagent"</span>
    <span class="hljs-string">"google.golang.org/adk/agent/workflowagents/parallelagent"</span>
    <span class="hljs-string">"google.golang.org/adk/agent/workflowagents/sequentialagent"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">createWorkflowAgents</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// é¡ºåºä»£ç† - æŒ‰å›ºå®šé¡ºåºæ‰§è¡Œå­ä»£ç†</span>
    seqCfg := sequentialagent.Config{
        AgentConfig: agent.Config{
            Name: <span class="hljs-string">"é¡ºåºå·¥ä½œæµ"</span>,
            SubAgents: []agent.Agent{<span class="hljs-comment">/* å­ä»£ç†åˆ—è¡¨ */</span>},
        },
    }
    sequentialAgent, _ := sequentialagent.New(seqCfg)
    
    <span class="hljs-comment">// å¹¶è¡Œä»£ç† - åŒæ—¶è¿è¡Œå­ä»£ç†</span>
    parallelCfg := parallelagent.Config{
        AgentConfig: agent.Config{
            Name: <span class="hljs-string">"å¹¶è¡Œå·¥ä½œæµ"</span>, 
            SubAgents: []agent.Agent{<span class="hljs-comment">/* å­ä»£ç†åˆ—è¡¨ */</span>},
        },
    }
    parallelAgent, _ := parallelagent.New(parallelCfg)
    
    <span class="hljs-comment">// å¾ªç¯ä»£ç† - é‡å¤æ‰§è¡Œç›´åˆ°æ¡ä»¶æ»¡è¶³</span>
    loopCfg := loopagent.Config{
        AgentConfig: agent.Config{
            Name: <span class="hljs-string">"å¾ªç¯å·¥ä½œæµ"</span>,
            SubAgents: []agent.Agent{<span class="hljs-comment">/* å­ä»£ç†åˆ—è¡¨ */</span>},
        },
        MaxIterations: <span class="hljs-number">5</span>, <span class="hljs-comment">// æœ€å¤§è¿­ä»£æ¬¡æ•°</span>
    }
    loopAgent, _ := loopagent.New(loopCfg)
}
</code></pre>
<h3 data-id="heading-8">ğŸ’» æ ¸å¿ƒä»£ç è§£æ</h3>
<h4 data-id="heading-9">ä»£ç†æ¥å£è®¾è®¡</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Agentæ˜¯æ‰€æœ‰ä»£ç†å¿…é¡»å®ç°çš„åŸºç¡€æ¥å£</span>
<span class="hljs-keyword">type</span> Agent <span class="hljs-keyword">interface</span> {
    Name() <span class="hljs-type">string</span>
    Description() <span class="hljs-type">string</span>
    Run(InvocationContext) iter.Seq2[*session.Event, <span class="hljs-type">error</span>]
    SubAgents() []Agent
    internal() *agent
}

<span class="hljs-comment">// è°ƒç”¨ä¸Šä¸‹æ–‡æä¾›ä»£ç†æ‰§è¡Œç¯å¢ƒ</span>
<span class="hljs-keyword">type</span> InvocationContext <span class="hljs-keyword">interface</span> {
    context.Context
    Agent() Agent
    Artifacts() Artifacts
    Memory() Memory
    Session() session.Session
    InvocationID() <span class="hljs-type">string</span>
    Branch() <span class="hljs-type">string</span>
    UserContent() *genai.Content
    RunConfig() *RunConfig
    EndInvocation()
    Ended() <span class="hljs-type">bool</span>
}
</code></pre>
<h4 data-id="heading-10">ä¼šè¯ç®¡ç†</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ä¼šè¯æœåŠ¡æ¥å£</span>
<span class="hljs-keyword">type</span> Service <span class="hljs-keyword">interface</span> {
    Create(context.Context, *CreateRequest) (*CreateResponse, <span class="hljs-type">error</span>)
    Get(context.Context, *GetRequest) (*GetResponse, <span class="hljs-type">error</span>)
    List(context.Context, *ListRequest) (*ListResponse, <span class="hljs-type">error</span>)
    Delete(context.Context, *DeleteRequest) <span class="hljs-type">error</span>
    AppendEvent(context.Context, Session, *Event) <span class="hljs-type">error</span>
}

<span class="hljs-comment">// ä¼šè¯è¡¨ç¤ºç”¨æˆ·ä¸ä»£ç†çš„äº¤äº’ä¼šè¯</span>
<span class="hljs-keyword">type</span> Session <span class="hljs-keyword">interface</span> {
    AppName() <span class="hljs-type">string</span>
    UserID() <span class="hljs-type">string</span>
    ID() <span class="hljs-type">string</span>
    State() State
    Events() Events
    LastUpdateTime() time.Time
}
</code></pre>
<h4 data-id="heading-11">å·¥å…·ç³»ç»Ÿ</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// å·¥å…·æ¥å£å®šä¹‰ä»£ç†å¯ç”¨çš„åŠŸèƒ½</span>
<span class="hljs-keyword">type</span> Tool <span class="hljs-keyword">interface</span> {
    Name() <span class="hljs-type">string</span>
    Description() <span class="hljs-type">string</span>
    Run(ctx Context, args any) (result <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]any, err <span class="hljs-type">error</span>)
}

<span class="hljs-comment">// å·¥å…·ä¸Šä¸‹æ–‡æä¾›å·¥å…·æ‰§è¡Œç¯å¢ƒ</span>
<span class="hljs-keyword">type</span> Context <span class="hljs-keyword">interface</span> {
    context.Context
    Artifacts() Artifacts
    FunctionCallID() <span class="hljs-type">string</span>
    Actions() *EventActions
    AgentName() <span class="hljs-type">string</span>
    SearchMemory(ctx context.Context, query <span class="hljs-type">string</span>) (*memory.SearchResponse, <span class="hljs-type">error</span>)
}
</code></pre>
<h4 data-id="heading-12">è¿è¡Œå™¨å®ç°</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// è¿è¡Œå™¨é…ç½®</span>
<span class="hljs-keyword">type</span> Config <span class="hljs-keyword">struct</span> {
    AppName         <span class="hljs-type">string</span>
    Agent           Agent          <span class="hljs-comment">// å¯åŠ¨æ‰§è¡Œçš„æ ¹ä»£ç†</span>
    SessionService  session.Service
    ArtifactService artifact.Service <span class="hljs-comment">// å¯é€‰</span>
    MemoryService   memory.Service   <span class="hljs-comment">// å¯é€‰</span>
}

<span class="hljs-comment">// è¿è¡Œå™¨æ‰§è¡Œä»£ç†å·¥ä½œæµ</span>
<span class="hljs-keyword">type</span> Runner <span class="hljs-keyword">struct</span> {
    appName         <span class="hljs-type">string</span>
    rootAgent       Agent
    sessionService  session.Service
    artifactService artifact.Service
    memoryService   memory.Service
    parents         parentmap.Map
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *Runner)</span></span> Run(ctx context.Context, session session.Session, userContent *genai.Content, runConfig *agent.RunConfig) iter.Seq2[*session.Event, <span class="hljs-type">error</span>] {
    <span class="hljs-comment">// å®ç°ä»£ç†æ‰§è¡Œæµæ°´çº¿</span>
    <span class="hljs-comment">// åŒ…æ‹¬ä¼šè¯ç®¡ç†ã€è®°å¿†æ£€ç´¢ã€å·¥å…·æ‰§è¡Œç­‰</span>
}
</code></pre>
<p>è¿™ä¸ªæ¡†æ¶æä¾›äº†å®Œæ•´çš„AIä»£ç†å¼€å‘åŸºç¡€è®¾æ–½ï¼Œæ”¯æŒå¤æ‚çš„å¤šä»£ç†å·¥ä½œæµã€å·¥å…·é›†æˆå’Œäº‘åŸç”Ÿéƒ¨ç½²ï¼Œæ˜¯æ„å»ºä¼ä¸šçº§AIåº”ç”¨çš„å¼ºå¤§å·¥å…·ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Rust æ„å»º Git æäº¤å†å²å¯è§†åŒ–å·¥å…·]]></title>    <link>https://juejin.cn/post/7572844326390333474</link>    <guid>https://juejin.cn/post/7572844326390333474</guid>    <pubDate>2025-11-17T03:58:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572844326390333474" data-draft-id="7572836557143441408" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Rust æ„å»º Git æäº¤å†å²å¯è§†åŒ–å·¥å…·"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T03:58:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘è€…é˜¿è±ª"/> <meta itemprop="url" content="https://juejin.cn/user/4073055974333608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Rust æ„å»º Git æäº¤å†å²å¯è§†åŒ–å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4073055974333608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘è€…é˜¿è±ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:58:11.000Z" title="Mon Nov 17 2025 03:58:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28884c8a5f6c448894f33550b0a728bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=EwT%2B%2BqMQrvvc1w%2Bs6E9PqfqYjVo%3D" alt="" loading="lazy"/></p>
<p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„å†å²è®°å½•å¾€å¾€æ‰¿è½½ç€é¡¹ç›®çš„æ¼”è¿›è„‰ç»œã€‚ç„¶è€Œï¼Œå½“é¡¹ç›®è§„æ¨¡æ‰©å¤§ã€åˆ†æ”¯å¢å¤šæ—¶ï¼Œçº¯æ–‡æœ¬çš„ <code>git log</code> è¾“å‡ºå¾ˆéš¾ç›´è§‚åœ°å±•ç°æäº¤ä¹‹é—´çš„å¤æ‚å…³ç³»ã€‚ä»Šå¤©ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€ä¸ªç”¨ Rust æ„å»ºçš„è½»é‡çº§å·¥å…· â€”â€” <strong>git-graph-rs</strong>ï¼Œå®ƒèƒ½æŠŠ Git ä»“åº“çš„æäº¤å†å²è½¬æ¢ä¸ºå¯è§†åŒ–çš„å›¾ç»“æ„ï¼Œä¸ºä»£ç å®¡æŸ¥ã€é¡¹ç›®å¤ç›˜å’Œå·¥ç¨‹å†³ç­–æä¾›ç›´è§‚çš„æ”¯æŒã€‚
@<a href="https://link.juejin.cn?target=%25E7%259B%25AE%25E5%25BD%2595" target="_blank" title="%E7%9B%AE%E5%BD%95" ref="nofollow noopener noreferrer">TOC</a></p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦å¯è§†åŒ–ï¼Ÿ</h2>
<p>åœ¨å‚ä¸å¤§å‹é¡¹ç›®æ—¶ï¼Œæˆ‘ç»å¸¸ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼š</p>
<ul>
<li>éœ€è¦å¿«é€Ÿäº†è§£æŸä¸ªåŠŸèƒ½åˆ†æ”¯çš„åˆå¹¶è·¯å¾„</li>
<li>åœ¨ä»£ç å®¡æŸ¥æ—¶æƒ³çŸ¥é“æŸä¸ªæäº¤åœ¨æ•´ä½“å†å²ä¸­çš„ä½ç½®</li>
<li>å‘æ–°æˆå‘˜è§£é‡Šé¡¹ç›®çš„åˆ†æ”¯ç­–ç•¥å’Œå¼€å‘æµç¨‹</li>
</ul>
<p>ä¼ ç»Ÿçš„ <code>git log --graph</code> è™½ç„¶èƒ½æä¾›æ–‡æœ¬åŒ–çš„åˆ†æ”¯å›¾ï¼Œä½†åœ¨å¤æ‚åœºæ™¯ä¸‹å¯è¯»æ€§æœ‰é™ã€‚è€Œå›¾å½¢åŒ–çš„å±•ç¤ºæ–¹å¼èƒ½è®©æˆ‘ä»¬ä¸€çœ¼çœ‹å‡ºåˆ†æ”¯çš„èµ°å‘ã€åˆå¹¶çš„èŠ‚ç‚¹ï¼Œä»¥åŠå„ä¸ªæäº¤ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7d805aef0c646a3a75e58de7e2ce10e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=NRAZekwQg%2Bg7hr5ei%2B0Kit5pJ9E%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">æŠ€æœ¯æ–¹æ¡ˆçš„é€‰æ‹©</h2>
<p>åœ¨æ„å»ºè¿™ä¸ªå·¥å…·æ—¶ï¼Œæˆ‘åˆ»æ„é€‰æ‹©äº†<strong>æç®€ä½†å®ç”¨</strong>çš„æŠ€æœ¯è·¯çº¿ï¼š</p>
<h3 data-id="heading-2">1. åˆ©ç”¨ç³»ç»Ÿ Git å‘½ä»¤</h3>
<p>æ²¡æœ‰å¼•å…¥ libgit2 è¿™ç±»é‡é‡çº§ä¾èµ–ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨ç³»ç»Ÿçš„ <code>git</code> å‘½ä»¤ã€‚è¿™æ ·åšæœ‰å‡ ä¸ªå¥½å¤„ï¼š</p>
<ul>
<li>é›¶é…ç½®ï¼šä¸éœ€è¦é¢å¤–çš„æ„å»ºä¾èµ–</li>
<li>å…¼å®¹æ€§ï¼šè‡ªåŠ¨é€‚é…ç”¨æˆ·å·²æœ‰çš„ Git é…ç½®</li>
<li>ç¨³å®šæ€§ï¼šGit æœ¬èº«çš„å‘½ä»¤æ¥å£éå¸¸ç¨³å®š</li>
</ul>
<h3 data-id="heading-3">2. æ¨¡å—åŒ–çš„ Rust æ¶æ„</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// æ ¸å¿ƒæ•°æ®ç»“æ„</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CommitNode</span> {
    <span class="hljs-keyword">pub</span> id: <span class="hljs-type">String</span>,           <span class="hljs-comment">// æäº¤çŸ­å“ˆå¸Œ</span>
    <span class="hljs-keyword">pub</span> author: <span class="hljs-type">String</span>,       <span class="hljs-comment">// ä½œè€…</span>
    <span class="hljs-keyword">pub</span> email: <span class="hljs-type">String</span>,        <span class="hljs-comment">// é‚®ç®±</span>
    <span class="hljs-keyword">pub</span> timestamp: <span class="hljs-type">i64</span>,       <span class="hljs-comment">// æ—¶é—´æˆ³</span>
    <span class="hljs-keyword">pub</span> message_summary: <span class="hljs-type">String</span>,  <span class="hljs-comment">// æäº¤æ‘˜è¦</span>
    <span class="hljs-keyword">pub</span> is_merge: <span class="hljs-type">bool</span>,       <span class="hljs-comment">// æ˜¯å¦ä¸ºåˆå¹¶æäº¤</span>
}

<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CommitGraph</span> {
    <span class="hljs-keyword">pub</span> nodes: <span class="hljs-type">Vec</span>&lt;CommitNode&gt;,
    <span class="hljs-keyword">pub</span> edges: <span class="hljs-type">Vec</span>&lt;Edge&gt;,     <span class="hljs-comment">// parent -&gt; child å…³ç³»</span>
}
</code></pre>
<h3 data-id="heading-4">3. åŒæ ¼å¼è¾“å‡ºç­–ç•¥</h3>
<ul>
<li><strong>DOT æ ¼å¼</strong>ï¼šç›´æ¥å¯¹æ¥ Graphvizï¼Œç”Ÿæˆä¸“ä¸šçš„çŸ¢é‡å›¾</li>
<li><strong>JSON æ ¼å¼</strong>ï¼šä¸ºå‰ç«¯å¯è§†åŒ–æä¾›æ•°æ®æ”¯æŒ</li>
</ul>
<p>[æ’å›¾2ï¼šé¡¹ç›®æ•´ä½“æ¶æ„å›¾ï¼Œå±•ç¤ºä»Gitå‘½ä»¤åˆ°DOT/JSONè¾“å‡ºçš„æ•°æ®æµ]</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0dcd28173da546e8a60cdef9584ad977~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=zf%2Fw5W3uFnzCPGt4dZ1%2BAU6CD8o%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-5">æ ¸å¿ƒå®ç°è§£æ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71d8d1713d6c48878741fab23d4590d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=x8QAFAtlofzk%2FjcHMqMoUtE08KE%3D" alt="" loading="lazy"/></p>
<p>å…ˆåˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•ç”¨çš„<code>.git</code>æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-6">Git æ•°æ®è·å–çš„è‰ºæœ¯</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è·å–æ‹“æ‰‘æ’åºçš„æäº¤å†å²</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">args</span> = <span class="hljs-built_in">vec!</span>[
    <span class="hljs-string">"rev-list"</span>.<span class="hljs-title function_ invoke__">into</span>(), 
    <span class="hljs-string">"--topo-order"</span>.<span class="hljs-title function_ invoke__">into</span>(), 
    <span class="hljs-string">"--date-order"</span>.<span class="hljs-title function_ invoke__">into</span>(), 
    <span class="hljs-string">"--parents"</span>.<span class="hljs-title function_ invoke__">into</span>()
];

<span class="hljs-comment">// æ™ºèƒ½è¿‡æ»¤æ”¯æŒ</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(since) = &amp;opts.since { 
    args.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"--since={}"</span>, since)); 
}
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Some</span>(max) = opts.max_commits { 
    args.<span class="hljs-title function_ invoke__">push</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"--max-count={}"</span>, max)); 
}
</code></pre>
<p>é€šè¿‡ <code>git rev-list --topo-order --date-order --parents</code>ï¼Œæˆ‘ä»¬è·å¾—äº†æ—¢ç¬¦åˆæ—¶é—´é¡ºåºåˆä¿æŒæ‹“æ‰‘å…³ç³»çš„æäº¤åˆ—è¡¨ã€‚è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºæ ¼å¼æ˜¯ï¼š<code>child_hash parent1_hash parent2_hash ...</code>ï¼Œæ­£å¥½ç¬¦åˆæˆ‘ä»¬æ„å»ºæœ‰å‘å›¾çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-7">å›¾ç»“æ„çš„ä¸€è‡´æ€§ä¿è¯</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ç¡®ä¿æ‰€æœ‰è¾¹éƒ½æŒ‡å‘å­˜åœ¨çš„èŠ‚ç‚¹</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">ids</span>: HashSet&lt;<span class="hljs-type">String</span>&gt; = graph.nodes.<span class="hljs-title function_ invoke__">iter</span>()
    .<span class="hljs-title function_ invoke__">map</span>(|n| n.id.<span class="hljs-title function_ invoke__">clone</span>())
    .<span class="hljs-title function_ invoke__">collect</span>();
graph.edges.<span class="hljs-title function_ invoke__">retain</span>(|e| ids.<span class="hljs-title function_ invoke__">contains</span>(&amp;e.from) &amp;&amp; ids.<span class="hljs-title function_ invoke__">contains</span>(&amp;e.to));
</code></pre>
<p>åœ¨æ„å»ºå›¾ç»“æ„åï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œä¸€è‡´æ€§æ£€æŸ¥ï¼Œç§»é™¤æŒ‡å‘ä¸å­˜åœ¨èŠ‚ç‚¹çš„è¾¹ã€‚è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æ­¥éª¤åœ¨å®é™…å·¥ç¨‹ä¸­éå¸¸é‡è¦ï¼Œå®ƒèƒ½å¤„ç†å„ç§è¾¹ç•Œæƒ…å†µï¼Œæ¯”å¦‚éƒ¨åˆ†å…‹éš†çš„ä»“åº“æˆ–è€…è¿‡æ»¤åçš„å†å²ã€‚</p>
<h3 data-id="heading-8">åˆå¹¶æäº¤çš„å¯è§†åŒ–åŒºåˆ†</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// DOT è¾“å‡ºä¸­ï¼Œåˆå¹¶æäº¤ç”¨ç‰¹æ®Šæ ·å¼æ ‡è¯†</span>
<span class="hljs-keyword">if</span> node.is_merge {
    attrs.<span class="hljs-title function_ invoke__">push_str</span>(<span class="hljs-string">", shape=box, style=filled, fillcolor=lightgray"</span>);
}
</code></pre>
<h2 data-id="heading-9">å·¥ç¨‹åŒ–æ€ç»´ä½“ç°</h2>
<h3 data-id="heading-10">é”™è¯¯å¤„ç†çš„å‰ç½®åŒ–</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// åœ¨ç¨‹åºæ—©æœŸå°±æ£€æŸ¥å¿…è¦çš„ç¯å¢ƒæ¡ä»¶</span>
<span class="hljs-title function_ invoke__">run_git</span>(&amp;[<span class="hljs-string">"rev-parse"</span>.<span class="hljs-title function_ invoke__">into</span>(), <span class="hljs-string">"--git-dir"</span>.<span class="hljs-title function_ invoke__">into</span>()])?;
</code></pre>
<p>ä¸å…¶åœ¨åç»­å¤„ç†ä¸­å¤„ç†å„ç§å¼‚å¸¸æƒ…å†µï¼Œä¸å¦‚åœ¨æœ€å¼€å§‹å°±éªŒè¯å½“å‰ç›®å½•æ˜¯å¦æ˜¯ Git ä»“åº“ã€‚è¿™ç§"å¿«é€Ÿå¤±è´¥"çš„ç­–ç•¥è®©è°ƒè¯•å˜å¾—ç®€å•ã€‚</p>
<h3 data-id="heading-11">å‚æ•°è®¾è®¡çš„å…‹åˆ¶</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(Parser, Debug)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Args</span> {
    <span class="hljs-meta">#[arg(long, help = <span class="hljs-string">"Only include commits since this date"</span>)]</span>
    <span class="hljs-keyword">pub</span> since: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    
    <span class="hljs-meta">#[arg(long, help = <span class="hljs-string">"Branch to traverse"</span>)]</span>
    <span class="hljs-keyword">pub</span> branch: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,
    
    <span class="hljs-meta">#[arg(long, required = true, help = <span class="hljs-string">"Output file path"</span>)]</span>
    <span class="hljs-keyword">pub</span> output: <span class="hljs-type">String</span>,
}
</code></pre>
<p>åªæš´éœ²çœŸæ­£å¿…è¦çš„å‚æ•°ï¼Œé¿å…è¿‡åº¦è®¾è®¡ã€‚æ¯ä¸ªå‚æ•°éƒ½æœ‰æ˜ç¡®çš„ç”¨é€”ï¼Œæ²¡æœ‰ä¸ºäº†"åŠŸèƒ½ä¸°å¯Œ"è€Œæ·»åŠ çš„é¸¡è‚‹é€‰é¡¹ã€‚</p>
<h3 data-id="heading-12">è¾“å‡ºæ ¼å¼çš„ç¨³å®šæ€§</h3>
<p>DOT å’Œ JSON æ ¼å¼éƒ½é‡‡ç”¨äº†æœ€åŸºç¡€ä½†ç¨³å®šçš„ç»“æ„ï¼š</p>
<ul>
<li>DOT æ ¼å¼åªä½¿ç”¨æœ€åŸºæœ¬çš„èŠ‚ç‚¹å’Œè¾¹å±æ€§</li>
<li>JSON æ ¼å¼ä½¿ç”¨æ‰å¹³åŒ–çš„ç»“æ„ï¼Œé¿å…åµŒå¥—è¿‡æ·±</li>
</ul>
<p>è¿™ç§è®¾è®¡å“²å­¦ç¡®ä¿äº†å·¥å…·çš„è¾“å‡ºèƒ½è¢«å„ç§ä¸‹æ¸¸å·¥å…·ç¨³å®šæ¶ˆè´¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/054ceb70ebd3470399000308f8c4fd46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=pGbmQoC0uR%2B30TmzRwCO5gpHEHM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-14">1. CI/CD é›†æˆ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¯å‘¨è‡ªåŠ¨ç”Ÿæˆä¸»å¹²åˆ†æ”¯çš„æäº¤å›¾</span>
0 9 * * 1 <span class="hljs-built_in">cd</span> /path/to/repo &amp;&amp; git-graph-rs \
    --since <span class="hljs-string">"1 week ago"</span> \
    --branch main \
    --output /var/reports/weekly_commits.dot
</code></pre>
<h3 data-id="heading-15">2. ä»£ç å®¡æŸ¥è¾…åŠ©</h3>
<p>åœ¨å®¡æŸ¥å¤§å‹åŠŸèƒ½åˆ†æ”¯æ—¶ï¼Œå…ˆå¯¼å‡ºè¯¥åˆ†æ”¯çš„æäº¤å›¾ï¼Œå¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼š</p>
<ul>
<li>åˆ†æ”¯ä»ä½•å¤„å¼€å§‹</li>
<li>ä¸­é—´æ˜¯å¦æœ‰ä¸å¿…è¦çš„åˆå¹¶</li>
<li>æœ€ç»ˆçš„åˆå¹¶ç‚¹æ˜¯å¦åˆç†</li>
</ul>
<h3 data-id="heading-16">3. é¡¹ç›®æ–‡æ¡£åŒ–</h3>
<p>å°†å…³é”®æ—¶é—´èŠ‚ç‚¹çš„æäº¤å›¾ä¿å­˜åœ¨é¡¹ç›®æ–‡æ¡£ä¸­ï¼Œä¸ºæ–°æˆå‘˜æä¾›ç›´è§‚çš„å†å²å‚è€ƒã€‚</p>
<h2 data-id="heading-17">å®é™…æ•ˆæœå±•ç¤º</h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®é™…çš„ä½¿ç”¨æ¡ˆä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†ææœ€è¿‘ä¸€ä¸ªæœˆçš„ä¸»å¹²åˆ†æ”¯å†å²</span>
git-graph-rs --since <span class="hljs-string">"2024-01-01"</span> --branch main --output main_history.dot

<span class="hljs-comment"># ä½¿ç”¨Graphvizæ¸²æŸ“</span>
dot -Tpng main_history.dot -o main_history.png
</code></pre>
<p>ç”Ÿæˆçš„å›¾è°±æ¸…æ™°åœ°å±•ç¤ºäº†ï¼š</p>
<ul>
<li>ä¸»å¹²çš„çº¿æ€§å‘å±•</li>
<li>å„ä¸ªåŠŸèƒ½åˆ†æ”¯çš„åˆå¹¶ç‚¹</li>
<li>çƒ­ä¿®å¤åˆ†æ”¯çš„å¿«é€Ÿåˆå¹¶è·¯å¾„</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4132fdb78de544e6a34a277f78a1d0c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=MfK9XYBAaLydtBrDG17rG%2FccUS4%3D" alt="" loading="lazy"/></p>
<p>è¾“å‡ºçš„Jsonæ–‡ä»¶å†…å®¹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"nodes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"d2c322e"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Tester"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tester@example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763102276</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"feat: dev"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_merge"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6c8bb7a"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Tester"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tester@example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763102276</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"feat: second"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_merge"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"00e0bc0"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Tester"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tester@example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763102276</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"feat: first"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_merge"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"a1b2c3d"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Developer"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"developer@example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763188676</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"feat(ui): step1"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_merge"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"b2c3d4e"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Developer"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"developer@example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763189676</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"feat(ui): step2"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_merge"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c3d4e5f"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Maintainer"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"email"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"maintainer@example.com"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"timestamp"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763275076</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message_summary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"merge: feat/ui into main"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"is_merge"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"edges"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"00e0bc0"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6c8bb7a"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6c8bb7a"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"d2c322e"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"00e0bc0"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"a1b2c3d"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"a1b2c3d"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"b2c3d4e"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"d2c322e"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c3d4e5f"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"from"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"b2c3d4e"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"to"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c3d4e5f"</span> <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>dotæ„å»ºçš„å¯è§†åŒ–å›¾åƒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5dd45d1d08ff404fae3fe6266d86a421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR6ICF6Zi_6LGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956690&amp;x-signature=NlWKm2Tl3TV6QwL4r0B9kwm%2BCNg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-18">ç»“è¯­</h2>
<p>git-graph-rs å¯èƒ½ä¸æ˜¯æœ€å¤æ‚çš„ Rust é¡¹ç›®ï¼Œä½†å®ƒä½“ç°äº†ç³»ç»Ÿç¼–ç¨‹è¯­è¨€åœ¨å·¥ç¨‹å·¥å…·å¼€å‘ä¸­çš„ä»·å€¼ï¼šç¨³å®šã€é«˜æ•ˆã€å¯ç»´æŠ¤ã€‚åœ¨æ„å»ºè¿™ä¸ªå·¥å…·çš„è¿‡ç¨‹ä¸­ï¼ŒRust æ²¡æœ‰é€šè¿‡ç‚«æŠ€çš„æ–¹å¼æ¥è¯æ˜è‡ªå·±ï¼Œè€Œæ˜¯è®©æ¯ä¸€ä¸ªè®¾è®¡å†³ç­–éƒ½å˜å¾—"ç†æ‰€å½“ç„¶"çš„æ­£ç¡®ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨å¤„ç† Git å†å²åˆ†æçš„éœ€æ±‚ï¼Œä¸å¦¨è¯•è¯•è¿™ä¸ªå·¥å…·ã€‚æˆ–è€…æ›´å¥½çš„æ˜¯ï¼ŒåŸºäºå®ƒçš„æ€è·¯æ„å»ºé€‚åˆä½ å›¢é˜Ÿéœ€æ±‚çš„å®šåˆ¶åŒ–è§£å†³æ–¹æ¡ˆã€‚æ¯•ç«Ÿï¼Œæœ€å¥½çš„å·¥å…·å¾€å¾€è¯ç”Ÿäºè§£å†³å®é™…é—®é¢˜çš„è¿‡ç¨‹ä¸­ã€‚</p>
<hr/>
<p><strong>å®‰è£…ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">cargo install git-graph-rs
<span class="hljs-built_in">cd</span> your-git-repo
git-graph-rs --output history.dot
</code></pre>
<hr/>
<blockquote>
<p>æƒ³äº†è§£æ›´å¤šå…³äºRustè¯­è¨€çš„çŸ¥è¯†åŠåº”ç”¨ï¼Œå¯å‰å¾€æ—‹æ­¦å¼€æºç¤¾åŒºï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fxuanwu.openatom.cn%2F" target="_blank" title="https://xuanwu.openatom.cn/" ref="nofollow noopener noreferrer">xuanwu.openatom.cn/</a>ï¼‰ï¼Œäº†è§£æ›´å¤šèµ„è®¯ï½</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ TRAE SOLO é«˜æ•ˆå¼€å‘çš„ 12 ä¸ªå°æŠ€å·§]]></title>    <link>https://juejin.cn/post/7573002274324545582</link>    <guid>https://juejin.cn/post/7573002274324545582</guid>    <pubDate>2025-11-17T05:40:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573002274324545582" data-draft-id="7573192460869353482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ TRAE SOLO é«˜æ•ˆå¼€å‘çš„ 12 ä¸ªå°æŠ€å·§"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T05:40:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ TRAE SOLO é«˜æ•ˆå¼€å‘çš„ 12 ä¸ªå°æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T05:40:43.000Z" title="Mon Nov 17 2025 05:40:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/884448d8ed2a4407a4b6d98e8190653a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=JRfCtUGrTH1sX0qKSVM%2BMlaDcN8%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šäº‘èˆ’ï¼ŒTRAE äº§å“è¿è¥</p>
</blockquote>
<p>ç”¨ SOLO é«˜æ•ˆå¼€å‘çš„ 12 ä¸ªæŠ€å·§ï¼Œä»å…¥é—¨åˆ°ç²¾é€šï¼Œå¸¦ä½ ç©è½¬ SOLOã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68b81c538dac4bf0b4b3238421e00a67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=7XH%2Ffqbd0tuqgctTNrvnJI8dJIA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ç¬¬ä¸€éƒ¨åˆ†ï¼šå…¥é—¨ç¯‡</strong></h2>
<h3 data-id="heading-1"><strong>æŠ€å·§ 1ï¼šæ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„å†…ç½®æ™ºèƒ½ä½“</strong></h3>
<p>TRAE SOLO å†…ç½®äº†ä¸¤ä¸ªæ ¸å¿ƒæ™ºèƒ½ä½“ï¼šSOLO Coderå’Œ SOLO Builderï¼Œå®ƒä»¬åˆ†åˆ«é€‚ç”¨äºä¸åŒçš„å¼€å‘åœºæ™¯ï¼Œæ˜ç¡®åœºæ™¯åé€‰æ‹©åˆé€‚çš„æ™ºèƒ½ä½“ï¼Œèƒ½æ˜¾è‘—æå‡æ¨è¿›æ•ˆç‡ä¸ç»“æœè´¨é‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1893aa78215a43949a201120d2536984~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=8iJUxC%2FYcubJUSJY6uyYYpi7mlE%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³å¤„ç†åŸºäºç°æœ‰ä»£ç åº“çš„è¿­ä»£ã€é‡æ„å’Œ Bug ä¿®å¤ç­‰å¤æ‚ä»»åŠ¡ï¼Œ<strong>SOLO Coder</strong> æ˜¯æœ€ä½³çš„é€‰æ‹©ï¼Œå®ƒå…·å¤‡ä¼˜ç§€çš„é¡¹ç›®ç†è§£å’Œä¸Šä¸‹æ–‡ç®¡ç†èƒ½åŠ›ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç¼–æ’æ™ºèƒ½ä½“ååŒå¼€å‘ã€‚</p>
<p><strong>SOLO Builder</strong> æ“…é•¿ä» 0 åˆ° 1 å¿«é€Ÿè½åœ°æ–°é¡¹ç›®ï¼Œå°¤å…¶æ˜¯ç«¯åˆ°ç«¯åº”ç”¨çš„æ­å»ºã€‚éœ€æ±‚æ–‡æ¡£-&gt;æŠ€æœ¯æ–‡æ¡£-&gt;ä»£ç å¼€å‘-&gt;æœåŠ¡é¢„è§ˆ-&gt;å‘å¸ƒä¸Šçº¿ï¼Œä¸€æ¡é“¾è·¯ç›´è¾¾ç»“æœã€‚</p>
<h3 data-id="heading-2"><strong>æŠ€å·§ 2ï¼šä¼˜åŒ–è¾“å…¥å†…å®¹ï¼Œå®ç°ç²¾å‡†æ²Ÿé€š</strong></h3>
<p>æä¾›æ¸…æ™°ã€å…·ä½“ä¸”åŒ…å«å……è¶³ä¸Šä¸‹æ–‡çš„æŒ‡ä»¤ï¼Œæ˜¯è·å¾—é«˜è´¨é‡è¾“å‡ºçš„å…³é”®ã€‚æ¨¡ç³Šæˆ–è¿‡äºå®½æ³›çš„æŒ‡ä»¤å®¹æ˜“å¯¼è‡´ AI äº§ç”Ÿè¯¯è§£æˆ–ç»™å‡ºé€šç”¨æ€§å¼ºä½†å®ç”¨æ€§ä¸è¶³çš„å›ç­”ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šæ¯”èµ·â€œä¼˜åŒ–è¿™æ®µä»£ç â€ï¼Œâ€œé‡æ„è¿™æ®µä»£ç ï¼Œå°†å…¶ä¸­å¤„ç†ç”¨æˆ·éªŒè¯çš„é€»è¾‘æå–åˆ°ä¸€ä¸ªç‹¬ç«‹çš„å‡½æ•°ä¸­ï¼Œå¹¶å¢åŠ é”™è¯¯å¤„ç†æœºåˆ¶â€æ›´å®¹æ˜“è·å¾—ç¬¦åˆé¢„æœŸçš„å›ç­”ã€‚</p>
<p>SOLO å†…ç½®äº† Prompt ä¼˜åŒ–èƒ½åŠ›ï¼Œåœ¨ AI å¯¹è¯è¾“å…¥æ¡†ä¸­è¾“å…¥ Prompt åï¼Œç‚¹å‡»Â <strong>ä¼˜åŒ–è¾“å…¥å†…å®¹</strong> æŒ‰é’®ï¼Œå°†è‡ªåŠ¨ä¼˜åŒ– Promptã€‚ä½ è¿˜å¯ä»¥ä¿®æ”¹æˆ–è€…é‡è¯•ï¼Œå®Œå–„è¾“å…¥å†…å®¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/791f9686bd334629a117f30e21acd5d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=%2FCRmKP4zUneswrmLTj0J4iRfUwA%3D" alt="" loading="lazy"/></p>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒTRAE æ”¯æŒå¤šç§ç±»å‹çš„ä¸Šä¸‹æ–‡å¼•ç”¨èƒ½åŠ›ï¼Œåœ¨å¤„ç†å¤æ‚é¡¹ç›®æ—¶ï¼Œé€šè¿‡ # ç¬¦å·å¼•ç”¨ç›¸å…³æ–‡ä»¶æˆ–ä»£ç ç‰‡æ®µï¼Œä¹Ÿèƒ½å¤Ÿè®© AI èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£æ‚¨çš„æ„å›¾å’Œé¡¹ç›®èƒŒæ™¯ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b804c2f11cd348e3ab3389ff72f570e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=G2oKy2Gp2VZvKImfw%2B19h9Y8uiM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3"><strong>æŠ€å·§ 3ï¼šæ‰“å¼€ Planï¼Œå…ˆè®¡åˆ’å†è¡ŒåŠ¨</strong></h3>
<p>SOLO Coder æ”¯æŒ Plan èƒ½åŠ›ï¼Œåœ¨å¤„ç†å¤æ‚ä»»åŠ¡æ—¶ï¼Œå¯ä»¥å…ˆå¼€å¯ Plan å†å‘é€æŒ‡ä»¤ã€‚AI ä¼šé¦–å…ˆç”Ÿæˆä¸€ä»½è¯¦ç»†çš„å¼€å‘è®¡åˆ’ï¼Œä½ å¯ä»¥å……åˆ†äº†è§£å…¶å·¥ä½œæ€è·¯å’Œæ­¥éª¤ï¼Œé¿å…åç¦»é¢„æœŸã€‚</p>
<p>Plan æ”¯æŒæ‰‹åŠ¨ä¿®æ”¹æˆ–ä¸ AI æ²Ÿé€šä¿®æ”¹ï¼Œç›´åˆ°æ–¹æ¡ˆæ»¡æ„åæ‰å¼€å§‹æ‰§è¡Œï¼Œè®©ä½ æ‹¥æœ‰æ›´å¼ºçš„æŒæ§æ„Ÿï¼Œé™ä½è¿”å·¥ä¸è¯¯è§£æˆæœ¬ã€‚å°¤å…¶é€‚åˆ Bug ä¿®å¤ã€æ¥å£æ”¹é€ ã€è·¨æ¨¡å—å˜æ›´ã€é‡æ„ç­‰é«˜é£é™©ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f3a716dc65646b99d82fcdc7840807f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=U4oDRjEzig1TeJSwU5mNEpKNjXM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4"><strong>æŠ€å·§ 4ï¼šç”¨å¾…åŠæ¸…å•æŒæ¡å¼€å‘èŠ‚å¥</strong></h3>
<p>å¯¹è¯æµä¸ä»…æ˜¯è¾“å‡ºçª—å£ï¼Œä¹Ÿæ˜¯ä½ å’Œ AI åä½œçš„é‡è¦ç•Œé¢ã€‚SOLO çš„å¾…åŠæ¸…å•ä¼šæ™ºèƒ½æ‹†è§£ä»»åŠ¡ã€æ ‡è®°å®Œæˆæƒ…å†µï¼Œå¯¹è¯ä¸­æ™ºèƒ½æŠ˜å å¹¶ç”Ÿæˆæ‘˜è¦ï¼Œè®©è¿›åº¦ä¸é‡ç‚¹ä¸€ç›®äº†ç„¶ã€‚ä½ å¯ä»¥å›´ç»•è¿™äº›â€œèŠ‚ç‚¹â€è¿›è¡ŒéªŒæ”¶ã€çº åä¸å¤ç›˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef5f5bf3c806420291c22b33b26ecb98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=PyBfB3me3zvbkUdotwxPbe5DFTk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4bd23795e05478aa068a0852d7b0df7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=pg0d4kZGlC%2BHmIhzKqbCGkuu2mg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5"><strong>ç¬¬äºŒéƒ¨åˆ†ï¼šè¿›é˜¶ç¯‡</strong></h2>
<h3 data-id="heading-6"><strong>æŠ€å·§ 5ï¼šå¤šä»»åŠ¡å¹¶è¡Œ</strong></h3>
<p>SOLO æ¨¡å¼æ”¯æŒåœ¨åŒä¸€ç©ºé—´å†…å¹¶è¡Œå¤„ç†å¤šä¸ªå¼€å‘ä»»åŠ¡ï¼Œä½ å¯ä»¥ä¸€è¾¹è®© AI è¿›è¡Œä¸»è¦åŠŸèƒ½å¼€å‘ï¼Œä¸€è¾¹åœ¨æ–°ä»»åŠ¡é‡ŒåšæŠ€æœ¯é—®ç­”æˆ–æ¨è¿›å¦ä¸€ä¸ªæ¨¡å—ã€‚ç³»ç»Ÿè¿˜ä¼šä¸ºå¯¹è¯è‡ªåŠ¨ç”Ÿæˆæ™ºèƒ½æ ‡é¢˜ï¼Œä¾¿äºä½ å¿«é€Ÿè¯†åˆ«ä¸ç®¡ç†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f28ccdd989d440db7a2ebb57c727ed8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=gwi7JS%2BtlwjO45n1S9%2FIlMOzH4c%3D" alt="" loading="lazy"/></p>
<p><strong>å°å»ºè®®ï¼š</strong></p>
<ul>
<li>
<p><strong>ä»»åŠ¡æ‹†è§£ï¼š</strong> â€œæŠŠâ€œå¤§é¡¹ç›®â€æ‹†æˆå¤šä¸ªå¹¶è¡Œä»»åŠ¡ï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ã€é—®é¢˜å’¨è¯¢ã€æ¬¡è¦æ¨¡å—æ¨è¿›åˆ†åˆ«è¿è¡Œï¼Œé¿å…äº’ç›¸å¹²æ‰°ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>å®šæœŸæ£€æŸ¥ï¼š</strong> å®šæœŸæŸ¥çœ‹æ¯ä¸ªä»»åŠ¡çš„è¿›åº¦æ‘˜è¦ï¼Œé‡åˆ°åèˆªåŠæ—¶çº æ­£ï¼Œæ¯”â€œç­‰å…¨éƒ¨è·‘å®Œå†çœ‹â€æ›´çœå¿ƒã€‚</p>
</li>
</ul>
<h3 data-id="heading-7"><strong>æŠ€å·§ 6ï¼šå–„ç”¨å¿«æ·é”®</strong></h3>
<p>TRAE å†…ç½®ä¸€ç³»åˆ—å¸¸ç”¨å¿«æ·é”®ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæˆ–è¿›è¡Œè‡ªå®šä¹‰é…ç½®ï¼Œä»¥ä¸‹æ˜¯éƒ¨åˆ† SOLO æ¨¡å¼ä¸‹é»˜è®¤çš„å¿«æ·é”®ã€‚</p>


















































<table><thead><tr><th><strong>åŠ¨ä½œ</strong></th><th><strong>å¿«æ·é”®ï¼ˆMacOSï¼‰</strong></th><th><strong>å¿«æ·é”®ï¼ˆWindowsï¼‰</strong></th></tr></thead><tbody><tr><td><strong>æ–°å»ºä»»åŠ¡</strong></td><td>Command + Control+ N</td><td>Ctrl + Alt + N</td></tr><tr><td><strong>è§¦å‘ä»£ç è‡ªåŠ¨è¡¥å…¨</strong></td><td>Command + Space</td><td>Ctrl + Space</td></tr><tr><td><strong>æ‰“å¼€å‘½ä»¤é¢æ¿</strong></td><td>Command + Shift + P</td><td>Ctrl + Shift + PÂ  Â Â </td></tr><tr><td><strong>æ‰“å¼€æ–‡ä»¶/æ–‡ä»¶å¤¹</strong></td><td>Command + O</td><td>Ctrl + O</td></tr><tr><td><strong>æ‰“å¼€è®¾ç½®</strong></td><td>Command + ,Â Â </td><td>Ctrl + ,Â Â </td></tr><tr><td><strong>æŠ¥å‘Šé—®é¢˜</strong></td><td>Command + K ,Command + R</td><td>Ctrl Â + K ,Ctrl Â + R</td></tr><tr><td><strong>æ”¾å¤§ç•Œé¢</strong></td><td>Command + åŠ å·</td><td>Ctrl Â + Shift + åŠ å·</td></tr><tr><td><strong>ç¼©å°ç•Œé¢</strong></td><td>Command + å‡å·</td><td>Ctrl Â + Shift + å‡å·</td></tr></tbody></table>
<p>ä½ å¯ä»¥åœ¨è®¾ç½®-é€šç”¨-å¿«æ·é”®è®¾ç½®ä¸­æŸ¥çœ‹æˆ–æ ¹æ®å®é™…éœ€æ±‚ä¿®æ”¹ã€æ·»åŠ ã€åˆ é™¤å¿«æ·é”®ç»„åˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a63110cbe8584bec8adcfdf8bc1c53c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=9YSaC5XGab6oAVjM3UmJC859HyA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8"><strong>æŠ€å·§ 7ï¼šé€‰æ‹©é”™è¯¯/å…ƒç´ ï¼Œå®ç°ç²¾å‡†ä¿®æ”¹</strong></h3>
<p>åœ¨ SOLO çš„æµè§ˆå™¨ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡å³ä¸Šè§’çš„ã€é€‰æ‹©å…ƒç´ ã€‘é€‰å– UI å…ƒç´ ï¼Œæ— éœ€æŸ¥çœ‹ä»£ç å³å¯å®Œæˆç²¾å‡†è¿­ä»£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfae4649f3af42eab8c19b29e8ab0660~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=j3ZjxNprO5nFKVgsgGj%2FtZgN8tY%3D" alt="" loading="lazy"/></p>
<p>æ§åˆ¶å°æ—¥å¿—ä¹Ÿæ”¯æŒæ·»åŠ åˆ°å¯¹è¯ï¼Œè®© AI å¸®åŠ©ä½ å¿«é€Ÿå®šä½å’Œä¿®å¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18fe3623a3524e0a801dc7917ca0c5e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=AnqKtteQ3Cja25Hw7upUf1A8pz8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9"><strong>æŠ€å·§ 8ï¼šè¯­éŸ³è¾“å…¥ï¼Œè§£æ”¾åŒæ‰‹</strong></h3>
<p>æ— éœ€è¾“å…¥å†—é•¿çš„æŒ‡ä»¤ï¼Œæ‰“å¼€éº¦å…‹é£å³å¯å°†ä½ çš„è®²è¯å†…å®¹å®æ—¶è½¬å½•ä¸ºæ–‡å­—ï¼Œå±•ç¤ºåœ¨è¾“å…¥æ¡†ä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/300ec024505a47bf990ae066491d8ba6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=d6QbpUWq3zZkX1Y6EKb1P54fVFY%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92a9c3908ef241ecbed6fb73cb6ffa38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=PhRcY8%2Fh8V6M6WRM2gAKTOYyW0U%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60bc6a7cab814168815359aeada4ff20~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=%2FQv81TTNtVMBmDrmcBLDPXXVZM8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10"><strong>ç¬¬ä¸‰éƒ¨åˆ†ï¼šç²¾é€šç¯‡</strong></h2>
<h3 data-id="heading-11"><strong>æŠ€å·§ 9ï¼šä½¿ç”¨è‡ªå®šä¹‰æ™ºèƒ½ä½“ï¼Œç»„å»ºä½ çš„ AI ä¸“å®¶å›¢é˜Ÿ</strong></h3>
<p>SOLO Coder åœ¨æ‰§è¡Œå’Œå¤„ç†ä¸Šä¸‹æ–‡è¾ƒé•¿çš„å¤æ‚ä»»åŠ¡æ—¶ï¼Œèƒ½å¤Ÿè‡ªåŠ¨è°ƒç”¨æ™ºèƒ½ä½“ï¼Œæ›´æ¸…æ™°åœ°æ‹†åˆ†å’Œéš”ç¦»ä¸åŒçš„ç²¾ç»†åŒ–ä»»åŠ¡ã€‚ä½ å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚åˆ›å»ºæ“…é•¿ç‰¹å®šé¢†åŸŸçš„è‡ªå®šä¹‰æ™ºèƒ½ä½“ï¼Œä¾‹å¦‚â€œå‰ç«¯æ ·å¼å¤§å¸ˆâ€ã€â€œæ€§èƒ½ä¼˜åŒ–å¸ˆâ€ã€â€œåç«¯æ¶æ„å¸ˆâ€ç­‰ï¼Œæ„å»ºå±äºä½ è‡ªå·±çš„ AI ä¸“å®¶å›¢é˜Ÿã€‚é€šè¿‡å°†å¤æ‚ä»»åŠ¡æ‹†è§£ç»™å¤šä¸ªä¸“ä¸šé¢†åŸŸçš„æ™ºèƒ½ä½“ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…åœ¨é•¿å¯¹è¯ä¸­æ¨¡å‹è¾“å‡ºæ•ˆæœä¸‹é™çš„é—®é¢˜ï¼Œä»è€Œæå‡æ•´ä½“çš„å¼€å‘æ•ˆç‡å’Œè´¨é‡ã€‚</p>
<p>TRAE çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“æ–°å¢äº†æ™ºèƒ½åˆ›å»ºèƒ½åŠ›ï¼Œä½ åªéœ€è¦ç®€å•æè¿°è¿™ä¸ªæ™ºèƒ½ä½“çš„èŒè´£ï¼ŒAI å°†è‡ªåŠ¨è¡¥å……è¯¦ç»†çš„æç¤ºè¯å’Œè°ƒç”¨è§„åˆ™ï¼Œå®Œæˆæ™ºèƒ½ä½“åˆ›å»ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27e8bd8c2fe341edbef4e6abb6e42723~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=75N%2FIC2Nk8lmlP4bJUPRpJ86a6o%3D" alt="" loading="lazy"/><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/873233b39a7e4a068df0b356163ff9a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=4pH5WnDzQHCTU%2BNJup9LI7UKTPs%3D" alt="" loading="lazy"/></p>
<p><strong>å°å»ºè®®ï¼š</strong></p>
<ul>
<li>
<p><strong>æ˜ç¡®è§’è‰²ä¸ç›®æ ‡ï¼š</strong> ä¸ºè‡ªå®šä¹‰æ™ºèƒ½ä½“è®¾å®šä¸€ä¸ªæ¸…æ™°çš„èº«ä»½å’Œå…·ä½“çš„ç›®æ ‡ï¼Œèƒ½è®©å®ƒåœ¨æ‰§è¡Œä»»åŠ¡æ—¶è¡¨ç°æ›´ç¨³å®šã€æ›´ä¸“ä¸šã€‚</p>
</li>
<li>
<p><strong>æä¾›èŒƒä¾‹ï¼š</strong> åœ¨æŒ‡ä»¤ä¸­æä¾›â€œå¥½çš„â€å’Œâ€œåçš„â€èŒƒä¾‹ï¼Œå¯ä»¥å¸®åŠ©æ™ºèƒ½ä½“æ›´å¿«åœ°ç†è§£ä½ çš„æœŸæœ›å’Œæ ‡å‡†ã€‚</p>
</li>
<li>
<p><strong>è¿­ä»£æŒ‡ä»¤ï¼š</strong> é€šè¿‡è§‚å¯Ÿæ™ºèƒ½ä½“çš„æ‰§è¡Œç»“æœï¼Œä¸æ–­è°ƒæ•´å’Œä¼˜åŒ–æŒ‡ä»¤ï¼Œæå‡æ™ºèƒ½ä½“çš„è¡¨ç°ã€‚</p>
</li>
<li>
<p><strong>ä¼ é€é—¨ï¼š</strong> ã€Š8 ä¸ªå¯è¢«ä¸€é”®å¯¼å…¥ TRAE çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“ã€‹<a href="https://docs.trae.ai/ide/custom-agents-ready-for-one-click-import?_lang=zh" target="_blank" title="https://docs.trae.ai/ide/custom-agents-ready-for-one-click-import?_lang=zh" ref="nofollow noopener noreferrer">docs.trae.ai/ide/custom-â€¦</a>Â </p>
</li>
</ul>
<h3 data-id="heading-12"><strong>æŠ€å·§ 10ï¼šé…ç½®ä¸ªæ€§åŒ–çš„ AI åŠ©æ‰‹</strong></h3>
<p>ä½ å¯ä»¥é€šè¿‡ä¸ªäººè§„åˆ™æ¥é¿å…é‡å¤è¾“å…¥ç›¸åŒçš„è¦æ±‚ï¼ŒæŒ‰ç…§ä¸ªäººç¼–ç ä¹ æƒ¯å’Œæ ‡å‡†å®šåˆ¶ AI çš„å›ç­”é£æ ¼å’Œä¸“ä¸šé¢†åŸŸã€‚ä¾‹å¦‚ï¼Œå¸Œæœ›æ¨¡å‹é»˜è®¤éµå¾ªç¨‹åºå‘˜çš„æœ€ä½³å®è·µï¼Œç”Ÿæˆç®€æ´ã€è§£è€¦çš„ä»£ç ï¼Œè€Œä¸æ˜¯å†—é•¿çš„å®ç°ã€‚</p>
<p><strong>æ“ä½œæ­¥éª¤ï¼š</strong> è¿›å…¥ TRAE è®¾ç½®é¡µé¢â†’æ‰¾åˆ°ã€è§„åˆ™ã€‘ï¼Œåˆ›å»ºä¸ªäººè§„åˆ™â†’è®¾ç½®ç¼–ç¨‹è¯­è¨€åå¥½ã€ä»£ç é£æ ¼ç­‰â†’ä¿å­˜é…ç½®å¹¶é‡å¯ TRAE IDE</p>
<p><strong>æœ€ä½³å®è·µï¼š</strong></p>
<ul>
<li>
<p><strong>è¯­è¨€åå¥½ï¼š</strong> è®¾ç½®ä¸»è¦ä½¿ç”¨çš„å¯¹è¯è¯­è¨€å’Œç¼–ç¨‹è¯­è¨€</p>
</li>
<li>
<p><strong>ä»£ç è§„èŒƒï¼š</strong> é…ç½®ä»£ç è§„èŒƒå’Œé£æ ¼åå¥½</p>
</li>
<li>
<p><strong>å®šæœŸæ›´æ–°ï¼š</strong> å®šæœŸæ›´æ–°è§„åˆ™ä»¥é€‚åº”å¼€å‘éœ€æ±‚ï¼Œé¡¹ç›®ç»´åº¦å¯é…ç½®ã€é¡¹ç›®è§„åˆ™ã€‘</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1cb682150dd4498a7898867e560d7a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=4sm9WYplDhukMG8mF6wXxhkFJdg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13"><strong>æŠ€å·§ 11ï¼šç®¡ç†ä¸Šä¸‹æ–‡</strong></h3>
<p>ä¸Šä¸‹æ–‡æ˜¯ AI ç†è§£æ‚¨æ„å›¾çš„åŸºç¡€ï¼Œè¿‡é•¿å¯¹è¯ä¼šè®©æ¨¡å‹â€œè®°ä¸ä½é‡ç‚¹â€ã€‚SOLO æä¾›äº†ä¸Šä¸‹æ–‡è¿›åº¦å±•ç¤ºä¸å‹ç¼©èƒ½åŠ›ï¼šå½“ä¸Šä¸‹æ–‡è¿‡é•¿æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨å‹ç¼©ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è§¦å‘ï¼Œå°†å†—ä½™ä¿¡æ¯æŠ˜å èµ·æ¥ï¼Œä¿ç•™çœŸæ­£æœ‰ä»·å€¼çš„éƒ¨åˆ†ï¼Œè®©æ¨¡å‹æ›´èšç„¦ã€‚</p>
<p>å½“ä½ å·²ç»æ˜ç¡®å½“å‰ä»»åŠ¡åªéœ€å°‘é‡å…³é”®ä¿¡æ¯æˆ–å‘ç°ä¸Šä¸‹æ–‡å ç”¨è¾ƒé«˜æ—¶ï¼Œå¯ä»¥æ‰‹åŠ¨è§¦å‘â€œä¸Šä¸‹æ–‡å‹ç¼©â€åŠŸèƒ½ï¼ŒæŠ›å¼ƒå†—ä½™ä¿¡æ¯ï¼Œä¿ç•™æ ¸å¿ƒå†…å®¹ï¼Œä»è€Œæå‡æ¨¡å‹åç»­è¾“å‡ºçš„å‡†ç¡®æ€§å¹¶èŠ‚çœæˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ac23d8aa0db4302ab327d1410227c85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=zncRwOoljFuHL426JdJDjue3gJQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-14"><strong>æŠ€å·§ 12ï¼šåº”ç”¨å†…ç½®å·¥å…·ï¼Œå‡å°‘åˆ‡æ¢æˆæœ¬</strong></h3>
<p>SOLO é›†æˆäº† Supabaseã€Figmaã€Vercelã€Stripeã€AI Service ç­‰ä¸°å¯Œçš„å·¥å…·ï¼Œä½ å¯ä»¥åœ¨åŒä¸€ç©ºé—´å†…è®¿é—®æ•°æ®åº“ã€è§£æè®¾è®¡ç¨¿ã€ä¸€é”®éƒ¨ç½²ã€é›†æˆæ”¯ä»˜æ¨¡å—ã€é…ç½®æ¨¡å‹æœåŠ¡ï¼Œå‡å°‘åœ¨ä¸åŒåº”ç”¨é—´çš„åå¤åˆ‡æ¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8b0b04e47cf4b1caee47b0ca1a98cd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763962843&amp;x-signature=S46%2BKde8xrWuLVIxPmfvEmASspQ%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchainåˆ›å»ºæ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7572844326390382626</link>    <guid>https://juejin.cn/post/7572844326390382626</guid>    <pubDate>2025-11-17T04:13:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572844326390382626" data-draft-id="7552505922577236003" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchainåˆ›å»ºæ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,OpenAI"/> <meta itemprop="datePublished" content="2025-11-17T04:13:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uccs"/> <meta itemprop="url" content="https://juejin.cn/user/2664871915435550"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchainåˆ›å»ºæ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2664871915435550/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uccs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:13:59.000Z" title="Mon Nov 17 2025 04:13:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AgentType</h2>
<p><code>LangChain</code> æä¾›äº†å¤šç§æ™ºèƒ½ä½“ç±»å‹ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç±»å‹ã€‚å¸¸è§çš„æ™ºèƒ½ä½“ç±»å‹åŒ…æ‹¬ï¼š</p>






















































<table><thead><tr><th align="left">AgentType</th><th align="left">æ ¸å¿ƒæœºåˆ¶</th><th align="left">é€‚ç”¨åœºæ™¯</th><th align="left">ä¼˜ç‚¹</th><th align="left">ç¼ºç‚¹</th></tr></thead><tbody><tr><td align="left"><code>ZERO_SHOT_REACT_DESCRIPTION</code></td><td align="left"><code>ReAct</code> + å·¥å…·æè¿°</td><td align="left">ç®€å•ä»»åŠ¡ + å·¥å…·ç»„åˆ</td><td align="left">å¿«é€Ÿé›†æˆã€æ— éœ€è®­ç»ƒæ•°æ®</td><td align="left">è¾“å‡ºæ ¼å¼è‡ªç”±ï¼Œå¯æ§æ€§è¾ƒä½</td></tr><tr><td align="left"><code>STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION</code></td><td align="left">ç»“æ„åŒ–è¾“å‡º + <code>ReAct</code></td><td align="left">ç»“æ„åŒ–å·¥å…·è°ƒç”¨</td><td align="left">é«˜å¯æ§æ€§ï¼Œæ ¼å¼ä¸¥æ ¼</td><td align="left">ä¾èµ–å·¥å…·æè¿°æ¸…æ™°åº¦</td></tr><tr><td align="left"><code>OPENAI_FUNCTIONS</code></td><td align="left">OpenAI å‡½æ•°è°ƒç”¨</td><td align="left">OPENAI æ¨¡å‹åœºæ™¯</td><td align="left">é«˜æ•ˆï¼Œå¼ºè€¦åˆ OPENAI</td><td align="left">ä»…é™ OPENAI æ¨¡å‹</td></tr><tr><td align="left"><code>CONVERSATIONS_REACT_DESCRIPTION</code></td><td align="left">å¤šè½®å¯¹è¯ + <code>ReAct</code></td><td align="left">å¤šè½®äº¤äº’ä»»åŠ¡</td><td align="left">ä¸Šä¸‹æ–‡æ„ŸçŸ¥ã€çµæ´»æ€§é«˜</td><td align="left">éœ€é…ç½®è®°å¿†æ¨¡å—</td></tr><tr><td align="left"><code>AUTO_GPT</code></td><td align="left">è‡ªä¸»ä»£ç†å¾ªç¯</td><td align="left">å¤æ‚ä»»åŠ¡è‡ªåŠ¨åŒ–</td><td align="left">è‡ªä¸»å†³ç­–ã€é•¿æœŸç›®æ ‡</td><td align="left">å®éªŒæ€§ï¼Œç¨³å®šæ€§å¾…éªŒè¯</td></tr><tr><td align="left"><code>STRUCTURED_CHAT</code></td><td align="left">ä¸¥æ ¼ç»“æ„åŒ–è¾“å‡º</td><td align="left">æ•°æ®æå–ã€è¡¨å•å¡«å†™</td><td align="left">æ ¼å¼æ ‡å‡†åŒ–ã€å¯æ§æ€§å¼º</td><td align="left">çµæ´»æ€§ä½</td></tr></tbody></table>
<h2 data-id="heading-1">åˆå§‹åŒ–æ™ºèƒ½ä½“</h2>
<p>æ™ºèƒ½ä½“æ˜¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ä¸€ç»„å·¥å…·æ¥å®Œæˆä»»åŠ¡çš„ç³»ç»Ÿã€‚<code>initialize_agent</code> ç”¨äºåˆ›å»ºä¸€ä¸ªæ™ºèƒ½ä½“(agent)ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸€ç»„å·¥å…·(tools)æ¥å®Œæˆä»»åŠ¡ã€‚æ™ºèƒ½ä½“é€šè¿‡ä¸è¯­è¨€æ¨¡å‹(LLM)äº¤äº’ï¼Œå†³å®šä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·</p>
<p><code>initialize_agent</code> æ¥è‡ªäº <code>langchain</code> è¿™ä¸ªåŒ…</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType

agent = initialize_agent(
    tools=create_calc_tools(),
    llm=llm,
    agent=AgentType.STRUCTURED_CHAT_ZERO_SHOT_REACT_DESCRIPTION,
    verbose=<span class="hljs-literal">True</span>, <span class="hljs-comment"># æ‰“å¼€è°ƒè¯•</span>
)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"å·¥å…·å‡½æ•°è®¡ç®—ç»“æœï¼š"</span>, resp)
</code></pre>
<p>ä¼ å…¥ <code>verbose=True</code> å¯ä»¥æ‰“å¼€è°ƒè¯•æ¨¡å¼ï¼Œçœ‹åˆ°æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹</p>
<p><code>Thought</code> æ˜¯æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹ï¼Œ<code>Action</code> æ˜¯æ™ºèƒ½ä½“å†³å®šä½¿ç”¨å“ªä¸ªå·¥å…·ä»¥åŠä¼ å…¥ä»€ä¹ˆå‚æ•°ï¼Œ<code>Observation</code> æ˜¯å·¥å…·å‡½æ•°çš„è¿”å›ç»“æœ</p>
<pre><code class="hljs language-bash" lang="bash">&gt; Entering new AgentExecutor chain...
Thought: éœ€è¦ä½¿ç”¨åŠ æ³•å·¥å…·æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œã€‚
Action:
</code></pre>
<p>{ "action": "add", "action_input": { "a": 100, "b": 100 } }</p>
<pre><code class="hljs language-css" lang="css">
Observation: <span class="hljs-number">200</span>


&gt; Finished chain.
å·¥å…·å‡½æ•°è®¡ç®—ç»“æœï¼š {'<span class="hljs-selector-tag">input</span>': <span class="hljs-string">'100+100=?'</span>, <span class="hljs-string">'output'</span>: <span class="hljs-number">200</span>}
</code></pre>
<h2 data-id="heading-2">ç»“æ„åŒ–è¿”å›</h2>
<p>æˆ‘ä»¬ç°åœ¨è¿”å›çš„æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬ï¼Œæˆ‘ä»¬å¸Œæœ›è¿”å›çš„æ˜¯ä¸€ä¸ª <code>json</code>ï¼Œå› ä¸º <code>json</code> åœ¨å¤„ç†å¤§æ¨¡å‹ä¹‹é—´çš„è°ƒç”¨æ—¶æ›´ä¸ºé«˜æ•ˆå’Œçµæ´»</p>
<p><code>JsonOutputParser</code> å¯ä»¥å°†å¤§æ¨¡å‹çš„è¾“å‡ºè§£æä¸º <code>json</code> æ ¼å¼</p>
<p>æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ª <code>output_schema</code>ï¼Œå‘Šè¯‰ <code>JsonOutputParser</code> æˆ‘ä»¬å¸Œæœ›è¿”å›çš„ <code>json</code> æ ¼å¼</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> JsonOutputParser

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Output</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    args: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"è¾“å…¥çš„å‚æ•°"</span>)
    output: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"è¿”å›çš„ç»“æœ"</span>)
    think: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ€è€ƒè¿‡ç¨‹"</span>)


parser = JsonOutputParser(pydantic_object=Output)
format_instructions = parser.get_format_instructions()

prompt = chat_prompt_template.format_messages(
    role=<span class="hljs-string">"è®¡ç®—"</span>,
    domain=<span class="hljs-string">"ä½¿ç”¨å·¥å…·è¿›è¡Œæ•°å­¦è®¡ç®—"</span>,
    question=<span class="hljs-string">f"""
    è¯·é˜…è¯»ä¸‹é¢çš„é—®é¢˜ï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸¥æ ¼çš„ JSON å¯¹è±¡ï¼Œä¸è¦ä½¿ç”¨ Markdown ä»£ç å—åŒ…è£¹
    æ ¼å¼è¦æ±‚ï¼š
    <span class="hljs-subst">{format_instructions}</span>

é—®é¢˜ï¼š
100+100=?
"""</span>,
)
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F4fa8c5287c1706a6620421cf68a9fcf77ae275f4%2Fbailian%2Fbailian_agent.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/4fa8c5287c1706a6620421cf68a9fcf77ae275f4/bailian/bailian_agent.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h2 data-id="heading-3">PythonREPL</h2>
<p>ä¹‹å‰å¼€å‘çš„ <code>add</code> å·¥å…·å‡½æ•°åªèƒ½è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œåœ¨æˆ‘ä»¬å®é™…çš„å¼€å‘ä¸­ï¼Œè‚¯å®šä¸å¯èƒ½è¿™ä¹ˆç®€å•</p>
<p>ä½†æ˜¯æˆ‘ä»¬åˆä¸å¯èƒ½å»å¼€å‘æ‰€æœ‰çš„å·¥å…·å‡½æ•°ï¼Œè¿™æ ·å·¥ä½œé‡å¤ªå¤§</p>
<p><code>PythonREPL</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„å·¥å…·ï¼Œå¯ä»¥è®©å¤§æ¨¡å‹ç›´æ¥æ‰§è¡Œ <code>Python</code> ä»£ç </p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.tools.python.tool <span class="hljs-keyword">import</span> PythonREPLTool

python_repl = PythonREPLTool()
ret = python_repl.run(<span class="hljs-string">"print(1 + 1)"</span>)

<span class="hljs-built_in">print</span>(ret)  <span class="hljs-comment"># è¾“å‡º 2</span>
</code></pre>
<p>åœ¨ä½ ä½¿ç”¨ <code>PythonREPL</code> å·¥å…·æ—¶ï¼Œè¯·åŠ¡å¿…å°å¿ƒï¼Œå› ä¸ºå®ƒå…è®¸æ‰§è¡Œä»»æ„çš„ <code>Python</code> ä»£ç ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥å®‰å…¨é£é™©</p>
<pre><code class="hljs language-bash" lang="bash">Python REPL can execute arbitrary code. Use with caution.
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F01bfa5ecb31d22656182108a6441306579db0a09%2Fbailian%2Fbailian_repl.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/01bfa5ecb31d22656182108a6441306579db0a09/bailian/bailian_repl.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-4">ç”¨æ™ºèƒ½ä½“ç¼–å†™ä¸€ä¸ªç½‘ç«™</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_experimental.tools.python.tool <span class="hljs-keyword">import</span> PythonREPLTool
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> initialize_agent, AgentType
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> PromptTemplate
<span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm


tools = [PythonREPLTool()]
tool_names = [<span class="hljs-string">"PythonREPLTool"</span>]

agent = initialize_agent(
    tools=tools,
    llm=llm,
    agent=AgentType.ZERO_SHOT_REACT_DESCRIPTION,
    verbose=<span class="hljs-literal">True</span>,
)

prompt_template = PromptTemplate.from_template(
    template=<span class="hljs-string">"""
å°½ä½ æ‰€èƒ½å›ç­”ä»¥ä¸‹é—®é¢˜æˆ–æ‰§è¡Œç”¨æˆ·å‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·: [${tool_names}]
--
è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿›è¡Œæ€è€ƒï¼š
\```
# æ€è€ƒçš„è¿‡ç¨‹
- é—®é¢˜ï¼šä½ å¿…é¡»å›ç­”çš„é—®é¢˜
- æ€è€ƒï¼šä½ è€ƒè™‘åº”è¯¥æ€ä¹ˆåš
- è¡ŒåŠ¨ï¼šè¦é‡‡å–è¡ŒåŠ¨ï¼Œåº”è¯¥æ˜¯[{tool_names}]ä¸­çš„ä¸€ä¸ª
- è¡ŒåŠ¨è¾“å…¥ï¼šè¡ŒåŠ¨çš„è¾“å…¥
- è§‚å¯Ÿï¼šè¡ŒåŠ¨çš„ç»“æœ
...(è¿™ä¸ªæ€è€ƒ/è¡ŒåŠ¨/è¡ŒåŠ¨è¾“å…¥/è§‚å¯Ÿå¯ä»¥é‡å¤Næ¬¡)
# æœ€ç»ˆç­”æ¡ˆ
å¯¹åŸå§‹è¾“å…¥é—®é¢˜çš„æœ€ç»ˆç­”æ¡ˆ
\```
--
æ³¨æ„ï¼š
- PythonREPLTool å·¥å…·çš„å…¥å‚æ˜¯pythonä»£ç ï¼Œä¸å…è®¸æ·»åŠ  ```python æˆ– ```py ç­‰æ ‡è®°
--
è¦æ±‚ï¼š{input}
"""</span>
)

prompt = prompt_template.<span class="hljs-built_in">format</span>(
    tool_names=<span class="hljs-string">", "</span>.join(tool_names),
    <span class="hljs-built_in">input</span>=<span class="hljs-string">"""
    è¦æ±‚ï¼š
    1. å‘ /Users/uccs/Desktop/project/ai/ai-agent/.tmp ä¸‹å†™å…¥ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œåç§°ä¸º index.html
    2. å†™ä¸€ä¸ªåœ¨çº¿æ•™è‚²äº§å“çš„å®˜ç½‘ï¼ŒåŒ…å«3ä¸ªtabï¼Œåˆ†åˆ«æ˜¯ é¦–é¡µã€å®æˆ˜è¯¾ã€ä½“ç³»è¯¾å’Œå…³äºæˆ‘ä»¬
    3. é¦–é¡µåŒ…å«3ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯ï¼šçƒ­é—¨è¯¾ç¨‹ã€ä¸Šæ–°è¯¾ç¨‹ã€çˆ†æ¬¾è¯¾ç¨‹
    4. å…³äºæˆ‘ä»¬å±•ç¤ºå¹³å°çš„è”ç³»æ–¹å¼ç­‰åŸºæœ¬ä¿¡æ¯
    """</span>,
)

agent.invoke({<span class="hljs-string">"input"</span>: prompt})
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2F3584bda65b0089f157676059fc2e7ac3f0dc209f%2Fbailian%2Fbailian_repl.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/3584bda65b0089f157676059fc2e7ac3f0dc209f/bailian/bailian_repl.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h2 data-id="heading-5">è§£æå™¨</h2>
<p><code>LangChain</code> è¾“å‡ºè§£æå™¨ï¼ˆ<code>Output Parsers</code>ï¼‰æ˜¯å°†å¤§è¯­è¨€æ¨¡å‹ï¼ˆ<code>LLM</code>ï¼‰çš„åŸå§‹æ–‡æœ¬å“åº”è½¬æ¢ä¸ºç»“æ„åŒ–ã€å¯æ“ä½œæ•°æ®çš„å…³é”®ç»„ä»¶ã€‚è¾“å‡ºè§£æå™¨é€šè¿‡æä¾›æ ¼å¼åŒ–æŒ‡ä»¤å¹¶è§£ææ¨¡å‹è¾“å‡ºï¼Œå®ç°æ–‡æœ¬åˆ°ç»“æ„åŒ–æ•°æ®çš„é«˜æ•ˆè½¬æ¢ã€‚</p>
<h3 data-id="heading-6">åŸºç¡€è§£æå™¨</h3>
<p>åŸºç¡€è§£æå™¨å¤„ç†æœ€ç®€å•çš„æ•°æ®æ ¼å¼è½¬æ¢ï¼š</p>
<ul>
<li><code>StrOutputParser</code>ï¼šç›´æ¥æå–æ¨¡å‹è¿”å›çš„åŸå§‹æ–‡æœ¬ï¼Œä¸åšä»»ä½•ç»“æ„åŒ–å¤„ç†</li>
<li><code>CommaSeparatedListOutputParser</code>ï¼šå°†é€—å·åˆ†éš”çš„æ–‡æœ¬è½¬æ¢ä¸º <code>Python</code> åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œå°† <code>"apples, bananas, oranges"</code> è§£æä¸º <code>['apples', 'bananas', 'oranges']</code></li>
<li><code>BooleanOutputParser</code>ï¼šè§£ææ–‡æœ¬ä¸ºå¸ƒå°”å€¼ <code>ï¼ˆTrue/Falseï¼‰</code>ã€‚æ¨¡å‹è¾“å‡ºå¿…é¡»æ˜¯ <code>"yes"</code> æˆ– <code>"no"</code>ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œè§£æå™¨ä¼šç»Ÿä¸€è½¬ä¸ºå¤§å†™ååˆ¤æ–­</li>
<li><code>SimpleJsonOutputParser</code>ï¼šå°†æ–‡æœ¬ç®€å•å¤„ç†åè½¬æ¢ä¸º <code>JSON</code> æ ¼å¼ï¼Œé€šå¸¸ç”¨äºæ¨¡å‹å·²ç»æ­£ç¡®è¾“å‡º <code>JSON</code> çš„æƒ…å†µ</li>
</ul>
<h4 data-id="heading-7">StrOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm, chat_prompt_template
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> StrOutputParser

parser = StrOutputParser()
chain = chat_prompt_template | llm | parser
resp = chain.invoke(
    <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"è®¡ç®—"</span>,
        <span class="hljs-string">"domain"</span>: <span class="hljs-string">"æ•°å­¦è®¡ç®—"</span>,
        <span class="hljs-string">"question"</span>: <span class="hljs-string">"100+200 = ?"</span>,
    }
)
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># 100 + 200 = **300**</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2Fca6c4c270e77c9d5cca7a4a55d06cd76e078aefc%2Fbailian%2Fbailian_output_parser.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/ca6c4c270e77c9d5cca7a4a55d06cd76e078aefc/bailian/bailian_output_parser.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h4 data-id="heading-8">CommaSeparatedListOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm, chat_prompt_template
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> CommaSeparatedListOutputParser

parser = CommaSeparatedListOutputParser()
chain = chat_prompt_template | llm | parser
resp = chain.invoke(
    <span class="hljs-built_in">input</span>={
        <span class="hljs-string">"role"</span>: <span class="hljs-string">"è®¡ç®—"</span>,
        <span class="hljs-string">"domain"</span>: <span class="hljs-string">"æ•°å­¦è®¡ç®—"</span>,
        <span class="hljs-string">"question"</span>: <span class="hljs-string">"100*200 = ?"</span>,
    }
)
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># ['100ä¹˜ä»¥200ç­‰äº20000ã€‚å› æ­¤ï¼Œ$100 \\times 200 = 20000$ã€‚']</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Fblob%2Ff735cf42a7acf7d23b0429176a41a3fc0087e43b%2Fbailian%2Fbailian_output_parser.py" target="_blank" title="https://github.com/astak16/langchain-demo/blob/f735cf42a7acf7d23b0429176a41a3fc0087e43b/bailian/bailian_output_parser.py" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-9">Pydantic è§£æå™¨</h3>
<p><code>Pydantic</code> è§£æå™¨é€šè¿‡ <code>Pydantic</code> æ¨¡å‹å®šä¹‰å¤æ‚ç»“æ„ï¼Œæä¾›æ›´ä¸¥æ ¼çš„éªŒè¯å’Œæ•°æ®æ ¡éªŒï¼š</p>
<ul>
<li><code>PydanticOutputParser</code>ï¼šå°†æ¨¡å‹è¾“å‡ºè§£æä¸º <code>Pydantic</code> å®šä¹‰çš„æ¨¡å‹å¯¹è±¡ã€‚éœ€è¦é¢„å…ˆå®šä¹‰ <code>Pydantic</code> æ¨¡å‹ï¼Œæ”¯æŒåµŒå¥—æ•°æ®ç»“æ„å’Œç±»å‹éªŒè¯</li>
<li><code>PydanticToolsParser</code>ï¼šä¸“é—¨å¤„ç†OpenAIå·¥å…·è°ƒç”¨ä¸­çš„ <code>Pydantic</code> å¯¹è±¡ï¼Œå°†å·¥å…·è°ƒç”¨å‚æ•°è§£æä¸º <code>Pydantic</code> æ¨¡å‹</li>
</ul>
<p><code>Pydantic</code> è§£æå™¨é€‚åˆéœ€è¦ä¸¥æ ¼éªŒè¯çš„æ•°æ®ç»“æ„ï¼Œå¦‚ç”¨æˆ·ä¿¡æ¯ã€è®¢å•è¯¦æƒ…ç­‰ï¼Œç¡®ä¿è¾“å‡ºçš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§</p>
<h3 data-id="heading-10">å‡½æ•°è°ƒç”¨è§£æå™¨</h3>
<p>å‡½æ•°è°ƒç”¨è§£æå™¨å¤„ç†æ”¯æŒOpenAIå‡½æ•°è°ƒç”¨çš„æ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰çš„å“åº”ï¼š</p>
<ul>
<li><code>OutputFunctionsParser</code>ï¼šè§£ææ¨¡å‹è¿”å›çš„å‡½æ•°è°ƒç”¨å‚æ•°ï¼Œé€šå¸¸è¿”å›JSONæ ¼å¼çš„å‡½æ•°å‚æ•°</li>
<li><code>JsonOutputFunctionsParser</code>ï¼šæå–å‡½æ•°è°ƒç”¨ä¸­çš„JSONå‚æ•°</li>
</ul>
<p>è¿™äº›è§£æå™¨ä¸“ä¸ºéœ€è¦è°ƒç”¨ç‰¹å®šå‡½æ•°æˆ–å·¥å…·çš„åœºæ™¯è®¾è®¡ï¼Œå¸¸è§äºAgentç³»ç»Ÿæˆ–å¤æ‚ä»»åŠ¡å¤„ç†</p>
<h3 data-id="heading-11">æ—¶é—´/æšä¸¾è§£æå™¨</h3>
<p>å¤„ç†ç‰¹å®šç±»å‹çš„æ•°æ®ï¼š</p>
<ul>
<li><code>DatetimeOutputParser</code>ï¼šå°†æ–‡æœ¬è§£æä¸ºæ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ï¼ˆ<code>"%Y-%m-%dT%H:%M:%S.%fZ"</code>ï¼‰</li>
<li><code>EnumOutputParser</code>ï¼šå°†æ–‡æœ¬è§£æä¸ºé¢„å®šä¹‰çš„æšä¸¾å€¼ï¼Œé€‚ç”¨äºéœ€è¦ä¸¥æ ¼é™åˆ¶è¾“å‡ºé€‰é¡¹çš„åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-12">DatetimeOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> bailian.common <span class="hljs-keyword">import</span> llm
<span class="hljs-keyword">from</span> langchain.output_parsers <span class="hljs-keyword">import</span> DatetimeOutputParser
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate

parser = DatetimeOutputParser()
instructions = parser.get_format_instructions()
prompt = ChatPromptTemplate.from_messages(
    [
        (<span class="hljs-string">"system"</span>, <span class="hljs-string">f"å¿…é¡»æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿”å›æ—¥æœŸæ—¶é—´ï¼š<span class="hljs-subst">{instructions}</span>"</span>),
        (<span class="hljs-string">"human"</span>, <span class="hljs-string">"è¯·å°†ä»¥ä¸‹è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºæ ‡å‡†æ—¥æœŸæ—¶é—´æ ¼å¼ï¼š{text}"</span>),
    ]
)
chain = prompt | llm | parser
resp = chain.invoke({<span class="hljs-string">"text"</span>: <span class="hljs-string">"äºŒå¹´é›¶äºŒäº”å¹´äº”æœˆä¸€æ—¥ä¸‹åˆåç‚¹ååˆ†"</span>})
<span class="hljs-built_in">print</span>(resp)

<span class="hljs-comment"># ç»“æœ</span>
<span class="hljs-comment"># 2025-05-01 22:10:00</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastak16%2Flangchain-demo%2Ftree%2Fb9b7de835edb63bb532be00392bab420b50f91fb" target="_blank" title="https://github.com/astak16/langchain-demo/tree/b9b7de835edb63bb532be00392bab420b50f91fb" ref="nofollow noopener noreferrer">æºç </a></p>
<h3 data-id="heading-13">æ­£åˆ™è§£æå™¨</h3>
<p>é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æå–ç‰¹å®šæ¨¡å¼çš„æ•°æ®ï¼š</p>
<ul>
<li><code>RegexParser</code>ï¼šå•å­—æ®µæ­£åˆ™åŒ¹é…ã€‚</li>
<li><code>RegexDictParser</code>ï¼šå¤šå­—æ®µæ­£åˆ™æå–ä¸ºå­—å…¸ã€‚</li>
<li>æ­£åˆ™è§£æå™¨é€‚åˆéœ€è¦çµæ´»åŒ¹é…æ–‡æœ¬æ¨¡å¼çš„åœºæ™¯ï¼Œå¦‚æå–ç”µè¯å·ç ã€é‚®ç®±åœ°å€ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-14">å¤åˆè§£æå™¨</h3>
<p>å¤„ç†å¤æ‚æˆ–å¤šéƒ¨åˆ†çš„è¾“å‡ºï¼š</p>
<ul>
<li><code>CombiningOutputParser</code>ï¼šç»„åˆå¤šä¸ªè§£æå™¨ï¼Œå°†æ–‡æœ¬é€šè¿‡åˆ†éš”ç¬¦æ‹†åˆ†ååˆ†åˆ«è§£æã€‚</li>
<li><code>RetryWithErrorOutputParser</code>ï¼šåœ¨è§£æå¤±è´¥æ—¶é‡è¯•å¹¶å°è¯•ä¿®å¤è¾“å‡ºã€‚</li>
<li>å¤åˆè§£æå™¨æä¾›äº†æ›´å¼ºå¤§çš„å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥åº”å¯¹å¤æ‚æˆ–å¤šä»»åŠ¡çš„è¾“å‡ºåœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-15">å¼ºæ ¡éªŒè§£æå™¨</h3>
<p>æä¾›æ›´ä¸¥æ ¼çš„è¾“å‡ºéªŒè¯ï¼š</p>
<ul>
<li><code>GuardrailsOutputParser</code>ï¼šåŸºäº <code>Guardrails</code> åº“ï¼Œå¯¹è¾“å‡ºè¿›è¡Œå¼ºæ ¡éªŒï¼Œæ”¯æŒè‡ªå®šä¹‰è§„åˆ™ï¼ˆå¦‚è¿‡æ»¤ä¸å½“å†…å®¹ã€æ ¡éªŒæ•°æ®æ ¼å¼ï¼‰ã€‚</li>
</ul>
<p><code>Guardrails</code> è§£æå™¨ç‰¹åˆ«é€‚åˆå®‰å…¨æ•æ„Ÿåœºæ™¯ï¼Œç¡®ä¿è¾“å‡ºå†…å®¹ç¬¦åˆé¢„è®¾è§„åˆ™å’Œæ ‡å‡†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptæ€§èƒ½ä¼˜åŒ–ï¼š10ä¸ªV8å¼•æ“éšè—æŠ€å·§è®©ä½ çš„ä»£ç å¿«30%]]></title>    <link>https://juejin.cn/post/7572841327295397940</link>    <guid>https://juejin.cn/post/7572841327295397940</guid>    <pubDate>2025-11-17T04:16:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572841327295397940" data-draft-id="7572844326390399010" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptæ€§èƒ½ä¼˜åŒ–ï¼š10ä¸ªV8å¼•æ“éšè—æŠ€å·§è®©ä½ çš„ä»£ç å¿«30%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-17T04:16:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IT_é™ˆå¯’"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptæ€§èƒ½ä¼˜åŒ–ï¼š10ä¸ªV8å¼•æ“éšè—æŠ€å·§è®©ä½ çš„ä»£ç å¿«30%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IT_é™ˆå¯’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:16:40.000Z" title="Mon Nov 17 2025 04:16:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>JavaScriptæ€§èƒ½ä¼˜åŒ–ï¼š10ä¸ªV8å¼•æ“éšè—æŠ€å·§è®©ä½ çš„ä»£ç å¿«30%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨ç°ä»£Webå¼€å‘ä¸­ï¼ŒJavaScriptæ€§èƒ½ç›´æ¥å†³å®šäº†ç”¨æˆ·ä½“éªŒçš„è´¨é‡ã€‚ä½œä¸ºChromeæµè§ˆå™¨å’ŒNode.jsçš„æ ¸å¿ƒå¼•æ“ï¼ŒV8é€šè¿‡å³æ—¶ç¼–è¯‘(JIT)ã€éšè—ç±»(Hidden Classes)ã€å†…è”ç¼“å­˜(Inline Caching)ç­‰å…ˆè¿›æŠ€æœ¯å°†JavaScriptä»£ç è½¬åŒ–ä¸ºé«˜æ•ˆçš„æœºå™¨ç ã€‚ç„¶è€Œï¼Œè®¸å¤šå¼€å‘è€…å¹¶æœªå……åˆ†äº†è§£V8çš„å·¥ä½œåŸç†ï¼Œå¯¼è‡´ç¼–å†™çš„ä»£ç æ— æ³•å‘æŒ¥å¼•æ“çš„å…¨éƒ¨æ½œåŠ›ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥è§£æV8å¼•æ“çš„å†…éƒ¨å·¥ä½œæœºåˆ¶ï¼Œæ­ç¤º10ä¸ªé²œä¸ºäººçŸ¥çš„ä¼˜åŒ–æŠ€å·§ã€‚è¿™äº›æŠ€å·§æºè‡ªGoogle V8å›¢é˜Ÿçš„æŠ€æœ¯æ¼”è®²ã€æºç åˆ†æä»¥åŠå®é™…åŸºå‡†æµ‹è¯•ç»“æœï¼ŒæŒæ¡å®ƒä»¬å¯ä»¥å¸®åŠ©ä½ çš„JavaScriptåº”ç”¨è·å¾—æœ€é«˜30%çš„æ€§èƒ½æå‡ã€‚</p>
<h2 data-id="heading-2">1. ç†è§£V8çš„éšè—ç±»æœºåˆ¶</h2>
<h3 data-id="heading-3">å…³é”®æ¦‚å¿µ</h3>
<p>V8ä½¿ç”¨"éšè—ç±»"(Hidden Classes)æ¥ä¼˜åŒ–å¯¹è±¡å±æ€§è®¿é—®ã€‚å½“å¯¹è±¡ç»“æ„å˜åŒ–æ—¶ï¼ˆå¦‚åŠ¨æ€æ·»åŠ /åˆ é™¤å±æ€§ï¼‰ï¼Œä¼šè§¦å‘éšè—ç±»çš„è¿‡æ¸¡(transition)ï¼Œå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</p>
<h3 data-id="heading-4">ä¼˜åŒ–æŠ€å·§</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åæ¨¡å¼ - åŠ¨æ€æ·»åŠ å±æ€§</span>
<span class="hljs-keyword">const</span> obj = {};
obj.<span class="hljs-property">a</span> = <span class="hljs-number">1</span>;  <span class="hljs-comment">// åˆ›å»ºéšè—ç±»C0 â†’ C1</span>
obj.<span class="hljs-property">b</span> = <span class="hljs-number">2</span>;  <span class="hljs-comment">// C1 â†’ C2</span>

<span class="hljs-comment">// ä¼˜åŒ–æ–¹æ¡ˆ - ä¸€æ¬¡æ€§åˆå§‹åŒ–æ‰€æœ‰å±æ€§</span>
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> }; <span class="hljs-comment">// ç›´æ¥åˆ›å»ºC2</span>
</code></pre>
<p>ç ”ç©¶è¡¨æ˜ï¼Œé¢„å…ˆå®šä¹‰å®Œæ•´å¯¹è±¡ç»“æ„æ¯”åŠ¨æ€æ·»åŠ å±æ€§å¿«3-5å€ã€‚</p>
<h2 data-id="heading-5">2. é¿å…æ•°ç»„ç±»å‹è½¬æ¢</h2>
<h3 data-id="heading-6">V8çš„æ•°ç»„å…ƒç´ ç§ç±»</h3>
<p>V8å†…éƒ¨åŒºåˆ†å¤šç§æ•°ç»„ç±»å‹ï¼š</p>
<ul>
<li>PACKED_SMI_ELEMENTS (ä»…åŒ…å«å°æ•´æ•°)</li>
<li>PACKED_DOUBLE_ELEMENTS (åŒ…å«åŒç²¾åº¦æ•°)</li>
<li>PACKED_ELEMENTS (åŒ…å«ä»»æ„ç±»å‹)</li>
</ul>
<h3 data-id="heading-7">æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒç ´åSMIä¼˜åŒ–</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4.5</span>); <span class="hljs-comment">// SMI â†’ DOUBLE</span>

<span class="hljs-comment">// âœ…ä¿æŒç±»å‹ä¸€è‡´</span>
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>); <span class="hljs-comment">// Maintains SMI</span>
</code></pre>
<p>åŸºå‡†æµ‹è¯•æ˜¾ç¤ºç±»å‹ä¸€è‡´çš„æ•°ç»„æ“ä½œé€Ÿåº¦å¿«40%ã€‚</p>
<h2 data-id="heading-8">3. Function Inliningçš„ä¸´ç•Œç‚¹</h2>
<h3 data-id="heading-9">V8çš„å†…è”ç­–ç•¥</h3>
<p>V8å¯¹å‡½æ•°è¿›è¡Œå†…è”ä¼˜åŒ–çš„æ¡ä»¶ï¼š</p>
<ul>
<li>ASTèŠ‚ç‚¹æ•° &lt; ~196ï¼ˆTurboFané»˜è®¤é˜ˆå€¼ï¼‰</li>
<li><strong>ä¸å«</strong> try-catchæˆ–withè¯­å¥</li>
</ul>
<h3 data-id="heading-10">Case Study</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒè¿‡å¤§å‡½æ•°ä¸ä¼šè¢«å†…è”</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">largeFn</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* &gt;200èŠ‚ç‚¹ */</span> }

<span class="hljs-comment">// âœ…æ‹†åˆ†ä¸ºå°å‡½æ•°æ›´æ˜“è¢«å†…è” </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">optimized</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">smallFn1</span>();
    <span class="hljs-title function_">smallFn2</span>();
}
</code></pre>
<p>å®æµ‹æ˜¾ç¤ºåˆç†æ‹†åˆ†å¯ä½¿çƒ­ä»£ç è·¯å¾„åŠ é€Ÿ20%ã€‚</p>
<h2 data-id="heading-11">4. Optimize Monomorphic Calls</h2>
<h3 data-id="heading-12">Call Siteå½¢æ€å­¦åˆ†ç±»ï¼š</h3>
<ul>
<li>Monomorphic (å•å½¢æ€)ï¼šå§‹ç»ˆè°ƒç”¨åŒä¸€å‡½æ•°</li>
<li>Polymorphic (å¤šå½¢æ€)ï¼š2-4ç§å¯èƒ½å‡½æ•°</li>
<li>Megamorphic (å·¨å½¢æ€)ï¼š&gt;4ç§å¯èƒ½å‡½æ•°</li>
</ul>
<h3 data-id="heading-13">Optimization Guide:</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒMegamorphicè°ƒç”¨ </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClick</span>(<span class="hljs-params">type</span>) {
    <span class="hljs-keyword">const</span> handlers = {
        <span class="hljs-attr">A</span>: handlerA,
        <span class="hljs-attr">B</span>: handlerB,
        <span class="hljs-attr">C</span>: handlerC,
        <span class="hljs-attr">D</span>: handlerD,
        <span class="hljs-attr">E</span>: handlerE <span class="hljs-comment">// &gt;4ç§ç±»å‹ï¼</span>
    };
}

<span class="hljs-comment">// âœ…Monomorphicç‰ˆæœ¬ </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleClickA</span>(<span class="hljs-params"/>) { <span class="hljs-title function_">handlerA</span>(); }
</code></pre>
<p>Monomorphicè°ƒç”¨æ¯”Megamorphicå¿«10å€(V8 v9.6å®æµ‹)ã€‚</p>
<h2 data-id="heading-14">[...]</h2>
<p><em>[æ³¨ï¼šå› ç¯‡å¹…é™åˆ¶å±•ç¤ºéƒ¨åˆ†å†…å®¹ï¼Œå®Œæ•´æ–‡ç« å°†ç»§ç»­æ·±å…¥ä»¥ä¸‹ä¸»é¢˜ï¼š]</em></p>
<h2 data-id="heading-15">[...]</h2>
<ol start="5">
<li>
<p><strong>Memory Management Tricks</strong></p>
<ul>
<li>Scavengerä¸Mark-Sweepçš„ååŒå·¥ä½œæ–¹å¼</li>
<li>New Space vs Old Spaceåˆ†é…ç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>Optimizing Data Structures</strong></p>
<ul>
<li>TypedArray vsæ™®é€šArrayå†…å­˜å¸ƒå±€å·®å¼‚</li>
<li>ES6 Map/Setçš„å†…éƒ¨å“ˆå¸Œè¡¨å®ç°</li>
</ul>
</li>
<li>
<p><strong>Deoptimization Pitfalls</strong></p>
<ul>
<li>BailoutåŸå› åˆ†æï¼ˆ32ä½æ•´æ•°æº¢å‡ºç­‰ï¼‰</li>
<li>"Hot Exit"ç°è±¡è¯†åˆ«æ–¹æ³•</li>
</ul>
</li>
</ol>
<p>[...]</p>
<h2 data-id="heading-16">Conclusion</h2>
<p>é€šè¿‡æ·±å…¥äº†è§£V8å¼•æ“çš„å†…éƒ¨å·¥ä½œåŸç†ï¼Œå¼€å‘è€…å¯ä»¥ç¼–å†™å‡ºæ›´ç¬¦åˆJITç¼–è¯‘å™¨ä¼˜åŒ–çš„JavaScriptä»£ç ã€‚æœ¬æ–‡ä»‹ç»çš„10é¡¹æŠ€æœ¯å¹¶éç†è®ºå‡è®¾â€”â€”åœ¨WebAssemblyç¼–è¯‘ã€React Virtual DOM reconciliationç­‰çœŸå®åœºæ™¯ä¸­å‡å·²è¯å®å¯å¸¦æ¥15%-30%çš„æ€§èƒ½æå‡ã€‚è®°ä½ï¼šæœ€å¥½çš„ä¼˜åŒ–ä¸æ˜¯hackä»£ç æœ¬èº«ï¼Œè€Œæ˜¯è®©ä»£ç è‡ªç„¶é€‚é…å¼•æ“çš„å·¥ä½œæ–¹å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI å®æˆ˜ç¯‡ï¼šä»é›¶è®­ç»ƒä½ çš„å¤§æ¨¡å‹ â€”â€”MiniMind å…¨æµç¨‹å®æˆ˜]]></title>    <link>https://juejin.cn/post/7573300346261749814</link>    <guid>https://juejin.cn/post/7573300346261749814</guid>    <pubDate>2025-11-17T04:06:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573300346261749814" data-draft-id="7572927004657582123" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI å®æˆ˜ç¯‡ï¼šä»é›¶è®­ç»ƒä½ çš„å¤§æ¨¡å‹ â€”â€”MiniMind å…¨æµç¨‹å®æˆ˜"/> <meta itemprop="keywords" content="LLM,ç¨‹åºå‘˜,Agent"/> <meta itemprop="datePublished" content="2025-11-17T04:06:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI å®æˆ˜ç¯‡ï¼šä»é›¶è®­ç»ƒä½ çš„å¤§æ¨¡å‹ â€”â€”MiniMind å…¨æµç¨‹å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:06:52.000Z" title="Mon Nov 17 2025 04:06:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote>
<p>æœ€è¿‘åœ¨GitHubä¸ŠæŒ–åˆ°ä¸€ä¸ªå®è—é¡¹ç›®â€”â€”MiniMindï¼Œä¸€ä¸ªèƒ½è®©å¤§å®¶ä»é›¶å¼€å§‹ï¼Œç”¨æä½æˆæœ¬å’ŒæçŸ­æ—¶é—´ç©è½¬å¤§æ¨¡å‹å…¨æµç¨‹çš„å¼€æºé¡¹ç›®ã€‚ä»é¢„è®­ç»ƒï¼ˆPretrainï¼‰åˆ°ç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰ï¼Œä»LoRAè½»é‡åŒ–è®­ç»ƒåˆ°DPOåå¥½ä¼˜åŒ–ï¼Œç”šè‡³æ¨¡å‹è’¸é¦å’Œå¤šæ¨¡æ€æ‹“å±•ï¼Œå…¨éƒ¨ä»£ç åŸç”ŸPyTorchå®ç°ï¼Œä¸ä¾èµ–å¤æ‚ç¬¬ä¸‰æ–¹æŠ½è±¡æ¥å£ã€‚</p>
<p>ä½œä¸ºä¸€åAIä»ä¸šè€…ï¼Œäº²æµ‹åå‘ç°å®ƒä¸ä»…æ˜¯ä¸€ä¸ªå¯è½åœ°çš„é¡¹ç›®ï¼Œæ›´æ˜¯å…¥é—¨å¤§æ¨¡å‹è®­ç»ƒçš„ç»ä½³æ•™ç¨‹ã€‚ä»Šå¤©å°±å¸¦å¤§å®¶æ‰‹æŠŠæ‰‹ä½“éªŒè¿™ä¸ªâ€œå¤§é“è‡³ç®€â€çš„å®æˆ˜è¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46533be1b3f6424392050da9e5ba6cda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=PlI%2Fi7oV3x4Y8eYOUgPAT2efLhg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/692d80be8146412d97541524e22c92b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=LKbclRQak5%2BNkZhW5L%2Fy2EqEyjE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">01 ä¸ºä»€ä¹ˆMiniMindå€¼å¾—ä¸Šæ‰‹ï¼Ÿ</h2>
<p>æ¥è§¦è¿‡å¤§æ¨¡å‹çš„åŒå­¦éƒ½çŸ¥é“ï¼Œè®­ç»ƒä¸€ä¸ªæ¨¡å‹å¾€å¾€æ„å‘³ç€â€œé«˜é—¨æ§›â€ï¼šåŠ¨è¾„åƒä¸‡çº§å‚æ•°ã€æ•°ä¸‡å…ƒæœåŠ¡å™¨æˆæœ¬ã€æ•°å‘¨çš„è®­ç»ƒå‘¨æœŸï¼Œè¿˜å¾—ä¾èµ–ä¸€å †å¤æ‚æ¡†æ¶ã€‚ä½†MiniMindå½»åº•æ‰“ç ´äº†è¿™ä¸ªå°è±¡ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/302fc7683a5c48569c7d65aa936b3d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=Lnkf4CkOCTPcZcFj3avT8zxfnug%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p>æè‡´è½»é‡åŒ–ï¼šæœ€å°çš„MiniMind2-smallä»…25.8Må‚æ•°ï¼Œæ˜¯GPT-3çš„1/7000ï¼Œæ™®é€šä¸ªäººGPUï¼ˆæ¯”å¦‚NVIDIA 3090ï¼‰å°±èƒ½è½»æ¾è·‘èµ·æ¥ã€‚</p>
<p>ï¼ˆæœ¬åœ°å®æµ‹ï¼‰è®­ç»ƒå®Œæˆçš„ DPO æ¨¡å‹ï¼ˆout/dpo_512.pthï¼‰ä»… 2910 ä¸‡å‚æ•°ï¼Œå†…å­˜å ç”¨ 55.52MBã€‚ä»ç»“æ„ä¸Šçœ‹ï¼Œå®ƒç”± 8 å±‚ç½‘ç»œç»„æˆï¼Œæ ¸å¿ƒå‚æ•°é›†ä¸­åœ¨ MLP æ¨¡å—ï¼ˆ59.4%ï¼‰ï¼Œæ²¡æœ‰å†—ä½™è®¾è®¡</p>
</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">PyTorch</span> <span class="hljs-string">Model</span> <span class="hljs-string">Analysis:</span>Â <span class="hljs-string">out/dpo_512.pth</span>  
<span class="hljs-string">==================================================</span>  
<span class="hljs-string">File</span> <span class="hljs-string">Size:</span>Â <span class="hljs-number">58237621</span>Â <span class="hljs-string">bytes</span> <span class="hljs-string">(55.54</span>Â <span class="hljs-string">MB)</span>  
<span class="hljs-attr">File Type:</span> <span class="hljs-string">PyTorch</span> <span class="hljs-string">Model</span>  
<span class="hljs-attr">Object Type:</span> <span class="hljs-string">dict</span>  
<span class="hljs-string">Total</span> <span class="hljs-string">Parameters:29,106,688</span>  
<span class="hljs-string">Model</span> <span class="hljs-string">Size</span> <span class="hljs-string">in</span> <span class="hljs-string">Memory:</span>Â <span class="hljs-number">55.52</span>Â <span class="hljs-string">MB</span>  
  
<span class="hljs-attr">Model Architecture Summary:</span>  
<span class="hljs-string">----------------------------</span>  
<span class="hljs-string">Number</span> <span class="hljs-string">of</span> <span class="hljs-string">Layers:8</span>  
<span class="hljs-string">Vocab</span> <span class="hljs-string">Size:</span>Â <span class="hljs-number">6400</span>  
<span class="hljs-string">Hidden</span> <span class="hljs-string">Size:</span>Â <span class="hljs-number">512</span>  
<span class="hljs-string">Output</span> <span class="hljs-string">Vocab</span> <span class="hljs-string">Size:</span>Â <span class="hljs-number">6400</span>  
<span class="hljs-string">Attention</span> <span class="hljs-string">Heads:1</span>  
<span class="hljs-string">Head</span> <span class="hljs-string">Dimension:</span>Â <span class="hljs-number">512</span>  
  
<span class="hljs-attr">Component Breakdown:</span>  
Â  <span class="hljs-string">Tokenizer</span> <span class="hljs-string">Embeddings:3,276,800</span>Â <span class="hljs-string">parameters</span> <span class="hljs-string">(11.3%)</span>  
Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-string">model.embed_tokens.weight</span>  
Â  <span class="hljs-string">Attention</span> <span class="hljs-string">Blocks:5,242,880</span>Â <span class="hljs-string">parameters</span> <span class="hljs-string">(18.0%)</span>  
Â  <span class="hljs-string">MLP</span> <span class="hljs-string">Blocks:17,301,504</span>Â <span class="hljs-string">parameters</span> <span class="hljs-string">(59.4%)</span>  
Â  <span class="hljs-string">Layer</span> <span class="hljs-string">Norms:8,192</span>Â <span class="hljs-string">parameters</span> <span class="hljs-string">(0.0%)</span>  
Â  <span class="hljs-string">Final</span> <span class="hljs-string">Normalization:</span>Â <span class="hljs-number">512</span>Â <span class="hljs-string">parameters</span> <span class="hljs-string">(0.0%)</span>  
Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-string">model.norm.weight</span>  
Â  <span class="hljs-string">Output</span> <span class="hljs-string">Projection:</span>Â <span class="hljs-number">3</span><span class="hljs-string">,276,800</span>Â <span class="hljs-string">parameters</span> <span class="hljs-string">(11.3%)</span>  
Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-string">lm_head.weight</span>

</code></pre>
<ul>
<li>
<p>ä½æˆæœ¬å¿«è¿­ä»£ï¼šå•å¡3090è®­ç»ƒ2å°æ—¶ã€æœåŠ¡å™¨æˆæœ¬ä»…3å…ƒï¼Œå°±èƒ½ä»0è®­å‡ºä¸€ä¸ªèƒ½å¯¹è¯çš„åŸºç¡€æ¨¡å‹ï¼›8å¡4090ç”šè‡³èƒ½å‹ç¼©åˆ°10åˆ†é’Ÿå†…ï¼Œæˆæœ¬å‡ ä¹ä¸å˜ã€‚</p>
</li>
<li>
<p>å…¨æµç¨‹å¼€æºï¼šä»Tokenizerè®­ç»ƒã€æ•°æ®æ¸…æ´—ï¼Œåˆ°Pretrainã€SFTã€LoRAã€DPO/PPOå¼ºåŒ–å­¦ä¹ ï¼Œå†åˆ°æ¨¡å‹è’¸é¦ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰å®Œæ•´ä»£ç ï¼Œä¸”å®Œå…¨åŸºäºPyTorchåŸç”Ÿå®ç°ï¼Œå°ç™½ä¹Ÿèƒ½çœ‹æ‡‚åº•å±‚é€»è¾‘ã€‚</p>
</li>
<li>
<p>æ‰©å±•æ€§å¼ºï¼šä¸ä»…æ”¯æŒæ–‡æœ¬æ¨¡å‹ï¼Œè¿˜æ‹“å±•äº†è§†è§‰å¤šæ¨¡æ€ï¼ˆMiniMind-Vï¼‰ï¼Œå…¼å®¹transformersã€vllmã€llama.cppç­‰ä¸»æµå·¥å…·ï¼Œè®­ç»ƒå¥½çš„æ¨¡å‹èƒ½ç›´æ¥é›†æˆåˆ°ChatUIé‡Œç”¨ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56ca8a354f2d43ab938695176bebce1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=Bap1tdsxFokG1bZvgEW8VbDhAco%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">02 å®æˆ˜å‰çš„å‡†å¤‡ï¼š3åˆ†é’Ÿæ­å¥½ç¯å¢ƒ</h2>
<p>MiniMindçš„é—¨æ§›ä½åˆ°ç¦»è°±ï¼Œä¸éœ€è¦å¤æ‚çš„é›†ç¾¤é…ç½®ï¼Œä¸ªäººç”µè„‘æˆ–äº‘æœåŠ¡å™¨ï¼ˆ3090ä»¥ä¸Šæ˜¾å¡ï¼‰å°±èƒ½æå®šã€‚</p>
<ol>
<li>ç¯å¢ƒä¾èµ–</li>
</ol>
<p>æ ¸å¿ƒä¾èµ–åªæœ‰PyTorchï¼Œå…¶ä»–åº“ï¼ˆå¦‚transformersã€datasetsï¼‰æŒ‰éœ€å®‰è£…ï¼Œé¡¹ç›®ä»“åº“é‡Œæä¾›äº†<code>requirements.txt</code>ï¼Œä¸€è¡Œå‘½ä»¤å³å¯æå®šï¼š</p>
<pre><code class="hljs">pip install -r requirements.txt
</code></pre>
<p>2.  æ•°æ®é›†å‡†å¤‡</p>
<p>ä¸ç”¨è‡ªå·±çˆ¬æ•°æ®ï¼é¡¹ç›®å¼€æºäº†æ‰€æœ‰è®­ç»ƒé˜¶æ®µçš„é«˜è´¨é‡æ•°æ®é›†ï¼ˆé¢„è®­ç»ƒã€SFTã€DPOç­‰ï¼‰ï¼Œç›´æ¥ä»ModelScopeæˆ–HuggingFaceä¸‹è½½ï¼Œæ”¾åˆ°<code>./dataset/</code>ç›®å½•å³å¯ã€‚æ¨èå…ˆä¸‹è¿™ä¸‰ä¸ªæ ¸å¿ƒæ–‡ä»¶ï¼š</p>
<ul>
<li><code>pretrain_hq.jsonl</code>ï¼šé«˜è´¨é‡é¢„è®­ç»ƒæ•°æ®ï¼ˆ1.6GBï¼‰</li>
<li><code>sft_*mini_*512.jsonl</code>ï¼šç²¾ç®€ç‰ˆSFTæŒ‡ä»¤æ•°æ®ï¼ˆ1.2GBï¼‰</li>
<li><code>dpo.jsonl</code>ï¼šåå¥½ä¼˜åŒ–æ•°æ®ï¼ˆ55MBï¼‰</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13a00b72cb994334878883b6be3c465e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=T7QwKY%2BdcvFp%2BhxVklGmtAWP9rk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">03 ä»é›¶è®­ç»ƒä¸‰æ­¥èµ°ï¼šä»â€œç©ºç™½æ¨¡å‹â€åˆ°â€œèƒ½èŠå¤©â€</h2>
<p>ç¬¬ä¸€æ­¥ï¼šé¢„è®­ç»ƒï¼ˆPretrainï¼‰â€”â€”è®©æ¨¡å‹â€œè®¤è¯†ä¸–ç•Œâ€</p>
<p>é¢„è®­ç»ƒæ˜¯è®©æ¨¡å‹å­¦ä¹ è¯­è¨€è§„å¾‹çš„åŸºç¡€ï¼ŒMiniMindçš„é¢„è®­ç»ƒè¿‡ç¨‹ç®€åŒ–åˆ°æè‡´ï¼š</p>
<ol>
<li>
<p>ä¸‹è½½å¹¶å¤„ç†é¢„è®­ç»ƒæ•°æ®ï¼ˆ<code>pretrain_hq.jsonl</code>ï¼‰ï¼Œé¡¹ç›®æä¾›äº†è‡ªåŠ¨æ¸…æ´—è„šæœ¬ï¼Œä¼šè¿‡æ»¤ä½è´¨æ–‡æœ¬ã€ç»Ÿä¸€æ ¼å¼ã€‚</p>
</li>
<li>
<p>è¿è¡Œé¢„è®­ç»ƒè„šæœ¬ï¼ŒæŒ‡å®šæ¨¡å‹å‚æ•°ï¼ˆä»¥25.8Mçš„smallæ¨¡å‹ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs">python train_pretrain.py
</code></pre>
</li>
</ol>
<p>å•å¡3090ä¸Šï¼Œ2ä¸ªepochçº¦1.5å°æ—¶å°±èƒ½è·‘å®Œï¼Œæ¨¡å‹ä¼šåˆæ­¥å…·å¤‡è¯­è¨€ç”Ÿæˆèƒ½åŠ›ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šç›‘ç£å¾®è°ƒï¼ˆSFTï¼‰â€”â€”æ•™æ¨¡å‹â€œæ‡‚æŒ‡ä»¤â€</p>
<p>é¢„è®­ç»ƒåçš„æ¨¡å‹åƒä¸ªâ€œè¯†å­—ä½†ä¸æ‡‚ä»»åŠ¡â€çš„å­©å­ï¼ŒSFTè¦æ•™å®ƒç†è§£äººç±»æŒ‡ä»¤ï¼ˆæ¯”å¦‚â€œæ¨èæ­å·ç¾é£Ÿâ€â€œè§£é‡Šå¤§è¯­è¨€æ¨¡å‹â€ï¼‰ï¼š</p>
<ol>
<li>
<p>ç”¨<code>./dataset/sft_*mini_*512.jsonl</code>ä½œä¸ºå¾®è°ƒæ•°æ®ï¼ŒåŒ…å«æ—¥å¸¸å¯¹è¯ã€çŸ¥è¯†é—®ç­”ç­‰åœºæ™¯ã€‚</p>
</li>
<li>
<p>è¿è¡ŒSFTè„šæœ¬ï¼š</p>
<pre><code class="hljs">python train_sft.py
</code></pre>
</li>
</ol>
<p>è¿™ä¸€æ­¥æ›´å¿«ï¼Œçº¦30åˆ†é’Ÿå°±èƒ½å®Œæˆï¼Œæ¨¡å‹å·²ç»èƒ½å›åº”ç®€å•æŒ‡ä»¤äº†ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼šDPOä¼˜åŒ–â€”â€”è®©æ¨¡å‹â€œè¯´äººè¯â€</p>
<p>ç›´æ¥å¾®è°ƒçš„æ¨¡å‹å¯èƒ½å›ç­”ç”Ÿç¡¬ï¼ŒDPOï¼ˆç›´æ¥åå¥½ä¼˜åŒ–ï¼‰é€šè¿‡â€œå¥½/åå›ç­”å¯¹æ¯”â€ï¼Œè®©æ¨¡å‹è¾“å‡ºæ›´ç¬¦åˆäººç±»åå¥½çš„å†…å®¹ï¼š</p>
<ol>
<li>
<p>ä½¿ç”¨<code>dpo.jsonl</code>æ•°æ®é›†ï¼Œé‡Œé¢åŒ…å«â€œé—®é¢˜+å¥½å›ç­”+åå›ç­”â€çš„ä¸‰å…ƒç»„ã€‚</p>
</li>
<li>
<p>è¿è¡ŒDPOè„šæœ¬ï¼š</p>
<pre><code class="hljs">python train_dpo.py
</code></pre>
</li>
</ol>
<p>20åˆ†é’Ÿå·¦å³å®Œæˆï¼Œæ­¤æ—¶æ¨¡å‹çš„å¯¹è¯æµç•…åº¦ä¼šæ˜æ˜¾æå‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bdb724a7e526436c8b1bfefc4ea4a37e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=9mDR9FBubFdBZNwhUCKmnDrfB8g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">04 æ•ˆæœå®æµ‹ï¼š3å…ƒæˆæœ¬çš„æ¨¡å‹èƒ½åšåˆ°ä»€ä¹ˆï¼Ÿ</h2>
<p>è®­ç»ƒå®Œæˆåï¼Œç”¨é¡¹ç›®æä¾›çš„<code>eval_llm.py</code>å¯åŠ¨ä¸€ä¸ªç®€å•chatç»ˆç«¯ï¼Œå°±èƒ½ç›´æ¥å’Œæ¨¡å‹èŠå¤©äº†ã€‚å®æµ‹æ•ˆæœè¶…å‡ºé¢„æœŸï¼š</p>
<ul>
<li>åŸºç¡€å¯¹è¯ï¼šèƒ½æ¸…æ™°ä»‹ç»è‡ªå·±ï¼ˆâ€œæˆ‘æ˜¯MiniMindï¼Œä¸€ä¸ªè½»é‡çº§AIåŠ©æ‰‹â€ï¼‰ã€‚</li>
<li>çŸ¥è¯†é—®ç­”ï¼šèƒ½è§£é‡Šâ€œå¤§è¯­è¨€æ¨¡å‹â€çš„åŸºæœ¬æ¦‚å¿µï¼Œæ¨èæ­å·ç‰¹è‰²ç¾é£Ÿï¼ˆè™½ç„¶å¶å°”ä¼šæ··å…¥å…¶ä»–åœ°æ–¹çš„èœï¼Œä½†é€»è¾‘åœ¨çº¿ï¼‰ã€‚</li>
<li>å¤šè¯­è¨€èƒ½åŠ›ï¼šæ”¯æŒç®€å•è‹±æ–‡å¯¹è¯ï¼Œè™½ç„¶ä¸å¤Ÿæµåˆ©ï¼Œä½†ä½œä¸º25.8Mçš„å°æ¨¡å‹å·²å±éš¾å¾—ã€‚</li>
</ul>
<p>ï¼ˆé™„ä¸€æ®µå®æµ‹å¯¹è¯ï¼‰</p>
<pre><code class="hljs language-markdown" lang="markdown">MiniMindæ¨¡å‹å‚æ•°: 25.83 M(illion)  
[0] è‡ªåŠ¨æµ‹è¯•  
[1] æ‰‹åŠ¨è¾“å…¥  
1  
ğŸ‘¶: è¯·ä»‹ç»ä¸€ä¸‹åŒ—äº¬çš„ç¾é£Ÿ  
ğŸ¤–ï¸: åŒ—äº¬æ˜¯ä¸­åäººæ°‘å…±å’Œå›½é¦–éƒ½ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„ç¾é£Ÿæ–‡åŒ–ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›è‘—åçš„ç¾é£Ÿï¼š  
  
<span class="hljs-bullet">1.</span>Â <span class="hljs-strong">**çƒ¤é¸­**</span>ï¼šåŒ—äº¬çƒ¤é¸­æ˜¯åŒ—äº¬æœ€å…·ä»£è¡¨æ€§çš„ç¾é£Ÿä¹‹ä¸€ï¼Œä»¥å…¶ç‹¬ç‰¹çš„çš®è„†è‚‰å«©ã€çš®è„†è‚‰å«©ã€é¸­è‚‰é²œå«©ã€é¸­è¡€ç²‰è…Œåˆ¶è€Œé—»åã€‚  
<span class="hljs-bullet">2.</span>Â <span class="hljs-strong">**è±†æ±**</span>ï¼šè±†æ±æ˜¯åŒ—äº¬æœ€å…·ä»£è¡¨æ€§çš„ç¾é£Ÿä¹‹ä¸€ï¼Œä»¥å…¶æµ“éƒçš„è±†æ±å’Œé²œç¾çš„é¸­è‚‰æ±è€Œé—»åã€‚  
<span class="hljs-bullet">3.</span>Â <span class="hljs-strong">**ç«é”…**</span>ï¼šç«é”…æ˜¯åŒ—äº¬æœ€æœ‰åçš„ä¸­å›½èœä¹‹ä¸€ï¼Œä»¥å…¶ç«é”…åº•æ–™ã€è‚‰è´¨é²œå«©ã€é…æ–™å¤šæ ·è€Œé—»åã€‚  
<span class="hljs-bullet">4.</span>Â <span class="hljs-strong">**è‘±æ²¹é¥¼**</span>ï¼šè‘±æ²¹é¥¼æ˜¯åŒ—äº¬ä¼ ç»Ÿç¾é£Ÿï¼Œé€šå¸¸ç”±é¥¼çš®ã€è‘±èŠ±ã€è‚‰é¦…ã€è±†çš®ç­‰é…æ–™ç»„æˆï¼Œå£æ„Ÿéº»è¾£é²œé¦™ï¼Œæ˜¯åŒ—äº¬çš„ä»£è¡¨ç¾é£Ÿä¹‹ä¸€ã€‚  
<span class="hljs-bullet">5.</span>Â <span class="hljs-strong">**è±†æµ†**</span>ï¼šè±†æµ†æ˜¯åŒ—äº¬è‘—åçš„ç‰¹è‰²å°åƒï¼Œç”±è±†æµ†ã€ç‰›å¥¶ã€è›‹é»„ã€ç³–ç­‰åŸæ–™åˆ¶æˆï¼Œå£æ„Ÿä¸°å¯Œï¼Œå¯ä»¥æ­é…ç±³é¥­é£Ÿç”¨ã€‚
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/883b34f5f10b4e679af26ce2bf6bca51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=0oo5LoKivgLlbVqTzY4aXp45SUc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">05 ä¸€ç‚¹å»ºè®®ï¼šä¸ºä»€ä¹ˆMiniMindæ˜¯æœ€å¥½çš„å…¥é—¨æ•™æï¼Ÿ</h2>
<p>å¦‚æœä½ æ˜¯å¤§æ¨¡å‹åˆå­¦è€…ï¼ŒMiniMindçš„ä»·å€¼è¿œä¸æ­¢â€œèƒ½è®­æ¨¡å‹â€ï¼š</p>
<ul>
<li>ä»£ç æç®€ï¼šæ‰€æœ‰æ ¸å¿ƒç®—æ³•ï¼ˆå¦‚Transformerç»“æ„ã€LoRAæƒé‡åˆ†è§£ã€DPOæŸå¤±å‡½æ•°ï¼‰éƒ½ç”¨PyTorchåŸç”Ÿä»£ç å®ç°ï¼Œæ²¡æœ‰éšè—çš„ç¬¬ä¸‰æ–¹æ¥å£ï¼Œèƒ½ç›´æ¥çœ‹åˆ°â€œæ¨¡å‹æ€ä¹ˆç®—å‡ºæ¥çš„â€ã€‚</li>
<li>æ–‡æ¡£è¯¦ç»†ï¼šä»æ•°æ®æ¸…æ´—åˆ°è®­ç»ƒå‚æ•°è°ƒä¼˜ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ³¨é‡Šå’Œè¯´æ˜ï¼Œç”šè‡³åŒ…å«â€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€çš„æ€è·¯è§£æã€‚</li>
<li>å¯æ‰©å±•æ€§å¼ºï¼šæƒ³å°è¯•MoEï¼ˆæ··åˆä¸“å®¶æ¨¡å‹ï¼‰ï¼Ÿæƒ³åšåŒ»ç–—é¢†åŸŸå¾®è°ƒï¼Ÿé¡¹ç›®é‡Œæœ‰ç°æˆçš„ä»£ç å’Œæ•°æ®é›†ï¼ˆå¦‚<code>lora_medical.jsonl</code>ï¼‰ï¼Œæ”¹æ”¹å‚æ•°å°±èƒ½è·‘ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b72374a83a146fea981ec576956e680~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=1AzPrdY74DkQRWXsahZB1M9VHcw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">06 ç»“è¯­ï¼šç”¨â€œæç®€â€æ‰“ç ´å¤§æ¨¡å‹çš„â€œç¥ç§˜æ„Ÿâ€</h2>
<p>MiniMindæœ€æ‰“åŠ¨æˆ‘çš„æ˜¯å®ƒè·µè¡Œçš„â€œå¤§é“è‡³ç®€â€ç†å¿µâ€”â€”å¤§æ¨¡å‹ä¸æ˜¯åªæœ‰å¤§å‚èƒ½ç©çš„å¥¢ä¾ˆå“ï¼Œæ™®é€šäººä¹Ÿèƒ½å®Œæ•´ä½“éªŒä»0åˆ°1çš„è®­ç»ƒæµç¨‹ã€‚å¦‚æœä½ ä¹Ÿæƒ³äº²æ‰‹æ‘¸é€å¤§æ¨¡å‹çš„åº•å±‚é€»è¾‘ï¼Œä¸å¦¨ä»è¿™ä¸ªé¡¹ç›®å¼€å§‹ï¼šä¸éœ€è¦é«˜æ·±çš„ç†è®ºï¼Œä¸éœ€è¦æ˜‚è´µçš„è®¾å¤‡ï¼Œè·Ÿç€æ­¥éª¤ä¸€æ­¥æ­¥è·‘ï¼Œä½ ä¼šå‘ç°â€œè®­ç»ƒå¤§æ¨¡å‹â€åŸæ¥è¿™ä¹ˆç®€å•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71861106319043d88683be229eb5ca66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763957212&amp;x-signature=CHyFVFz35e1TrQFeKxzZuaQJr0U%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¹æœæ‰‹æœºå’Œå®‰å“æ‰‹æœºäº’ä¼ æ–‡ä»¶ï¼ŒLocalSendæ‰‹æœºå¤¸å¹³å°æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ä¸‹è½½]]></title>    <link>https://juejin.cn/post/7572961448537833499</link>    <guid>https://juejin.cn/post/7572961448537833499</guid>    <pubDate>2025-11-17T04:25:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537833499" data-draft-id="7566833883712634926" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¹æœæ‰‹æœºå’Œå®‰å“æ‰‹æœºäº’ä¼ æ–‡ä»¶ï¼ŒLocalSendæ‰‹æœºå¤¸å¹³å°æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ä¸‹è½½"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-11-17T04:25:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœç½—ä¸‡ç›¸"/> <meta itemprop="url" content="https://juejin.cn/user/4116175105041085"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¹æœæ‰‹æœºå’Œå®‰å“æ‰‹æœºäº’ä¼ æ–‡ä»¶ï¼ŒLocalSendæ‰‹æœºå¤¸å¹³å°æ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ä¸‹è½½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4116175105041085/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœç½—ä¸‡ç›¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T04:25:12.000Z" title="Mon Nov 17 2025 04:25:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šç”µè„‘å‘ç”µè„‘ä¼ æ–‡ä»¶ï¼Œç”µè„‘å’Œæ‰‹æœºäº’ä¼ æ–‡ä»¶ã€‚è¿™æ ·çš„éœ€æ±‚å¾ˆå¤šå‚å•†éƒ½æœ‰å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚è‹¹æœç³»ç»Ÿçš„â€œéš”ç©ºæŠ•é€â€ã€‚</p>
<p>ä½†å½“æ“ä½œç³»ç»Ÿä¸ä¸€æ ·æ—¶ï¼Œå°±éœ€è¦å€ŸåŠ©äºå…¶ä»–è½¯ä»¶æ¥å®ç°ã€‚</p>
<p>è¿™ç±»è½¯ä»¶è™½ç„¶æ¯”è¾ƒå¤šï¼Œä½†åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ä½“éªŒå‚å·®ä¸é½ï¼Œè€Œä¸”å¾ˆå¤šè½¯ä»¶ä¹Ÿæ˜¯æ”¶è´¹çš„ã€‚</p>
<p>iPhoneã€Macã€iPad ä¹‹é—´ä¾é ä¸€ä¸ªã€ŒAirDropã€åŠŸèƒ½å°±èƒ½è½»æ¾å®ç°æ–‡ä»¶äº’ä¼ ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a5570d506cb4b29a3bae66504224fc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=4J2K6LS%2F3yt3hXTGlnJtWiLQ%2BbU%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>ä½† Android ä¸ iOSã€Android ä¸ iOS ä¹‹é—´çš„æ–‡ä»¶äº’ä¼ å¯å°±æ²¡é‚£ä¹ˆç®€å•äº†ï¼Œæ›´å¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯ç”¨å¾®ä¿¡çš„ã€Œæ–‡ä»¶ä¼ è¾“åŠ©æ‰‹ã€ï¼Œå…¶å®åœ¨ä¸åŒå¹³å°ä¼ è¾“æ–‡ä»¶æˆ‘ä»¬è¿˜æœ‰æ›´å¤šä¼˜é›…çš„æ–¹å¼ã€‚</p>
<p>å°ç±³ã€OPPOã€vivo æˆç«‹äº’ä¼ è”ç›Ÿï¼Œç®—æ˜¯è§£å†³çš„è¿™ä¸‰ä¸ªå“ç‰Œæ‰‹æœºä¹‹é—´çš„æ–‡ä»¶ä¸€é”®äº’ä¼ åŠŸèƒ½ï¼Œå›½å¤– Google è€çˆ¹é‚£è¾¹ä¹Ÿåœ¨ç§¯ææ¨è¿› Nearby Sharingï¼Œé™„è¿‘å…±äº«åŠŸèƒ½ï¼Œéƒ½æ˜¯ä¸ºäº†æœè‹¹æœçš„ AirDrop çœ‹é½ã€‚</p>
<p>é‚£ Android å’Œ iOS ä¹‹é—´æœ‰æ²¡æœ‰å¥½ç”¨çš„æ–‡ä»¶äº’ä¼ å·¥å…·å‘¢ï¼Ÿ</p>
<p>ä»è§£å†³å®é™…é—®é¢˜çš„è§’åº¦ä¸Šï¼Œå¿…é¡»å®‰åˆ©å¤§åé¼é¼çš„ã€LocalSendã€‘</p>
<p>å¦‚æœä½ æœ‰Androidã€iOSã€Windowsã€Macäº’ä¼ æ–‡ä»¶ï¼Œé‚£ä¹ˆLocalSendç®€ç›´å°±æ˜¯é‡èº«å®šåšçš„ï¼</p>
<h2 data-id="heading-0">ä¸‹è½½</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2Fe2d0dc936d25" target="_blank" title="https://pan.quark.cn/s/e2d0dc936d25" ref="nofollow noopener noreferrer">æ–‡ä»¶ä¼ è¾“å·¥å…·LocalSend</a></p>
<h2 data-id="heading-1">ä»‹ç»</h2>
<p>é€‚ç”¨äºæ‰‹æœºç”µè„‘ä¹‹é—´çš„æ•°æ®æ–‡ä»¶ä¼ è¾“ï¼Œä¸éœ€è¦äº’è”ç½‘è¿æ¥æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œæ˜¯å±€åŸŸç½‘æœ¬åœ°é€šä¿¡çš„å¿«é€Ÿå¯é è§£å†³æ–¹æ¡ˆã€‚</p>
<p>LocalSendç›¸å½“ç®€æ´ï¼Œä¸»ç•Œé¢æ˜¾ç¤ºçš„æ˜¯å½“å‰è®¾å¤‡ï¼Œå®ƒçš„èœå•ä¸€ç›®äº†ç„¶ï¼Œåªæœ‰å‘é€ã€æ¥æ”¶å’Œè®¾ç½®ä¸‰ä¸ªé€‰é¡¹ï¼Œç›®å‰åªæ”¯æŒå‘é€æ–‡ä»¶å’Œæ–‡æœ¬ã€‚</p>
<p>LocalSendæ”¯æŒå¸¸è§æ‰€æœ‰å¹³å°ï¼Œå¯ä»¥äº’ä¼ æ–‡ä»¶ã€å‘æ–‡æœ¬ï¼Œæ²¡æœ‰é‚£ä¹ˆç¹ççš„è®¾ç½®ï¼Œå®‰è£…å¥½å°±å¯ä»¥ç›´æ¥ç”¨ã€‚</p>
<p>LocalSend é€šè¿‡å±€åŸŸç½‘ä¼ è¾“ï¼Œå¯ä»¥ä¸ç”¨è”å¤–ç½‘çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼ŒåŒä¸€å±€åŸŸç½‘ä¸­è¿è¡Œäº†LocalSendçš„è®¾å¤‡ä¹‹é—´éƒ½å¯ä»¥äº’ä¼ ï¼Œé€Ÿåº¦æå¿«ï¼Œç«¯å¯¹ç«¯åŠ å¯†ã€‚</p>
<p>å‘é€é¡µé¢é€‰æ‹©æƒ³è¦å‘é€çš„æ–‡ä»¶ï¼Œç„¶åç‚¹å‡»å¯¹åº”çš„è®¾å¤‡å³å¯è¿›è¡Œå‘é€ï¼š</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c043b0bd8c2842e79610a1a6699881fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=Ue%2F26PGbYPvyBxtlDIP%2FYMGWjBc%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>å¯¹åº”çš„è®¾å¤‡ä¼šåœ¨æ¥æ”¶é¡µé¢å—åˆ°æ–‡ä»¶ã€æˆ–è€…æ¶ˆæ¯æç¤ºï¼š</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b162bc5f41b4083833fade2ca6ecc15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=sNqnKu41%2F78Q4l4ImLEkxTaRD4s%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>æ‰‹æœºç«¯ä¸ç”µè„‘ç«¯çš„ç•Œé¢ï¼Œåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹ä¼šè‡ªåŠ¨å‘ç°è®¾å¤‡ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e30a008a58140f99f7eb52286fd402c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=GUD54oz5yBom5VifSeidHrOXcW4%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>åœ¨å‘é€çš„ç•Œé¢ï¼Œé€‰æ‹©çš„æ–‡ä»¶ä¼šä»¥å¾…å‘é€çš„åˆ—è¡¨å‡ºç°ï¼Œç­‰æ•´ç†å¥½ä¹‹åï¼Œç‚¹å‡»éœ€è¦å‘é€çš„è®¾å¤‡ï¼Œå°±å¯ä»¥å…¨éƒ¨å‘å‡ºå»äº†ï¼Œå‘é€å®Œä¹‹åè¿™ä¸ªæ–‡ä»¶é€‰æ‹©çš„åˆ—è¡¨ä¼šç»§ç»­ä¿ç•™ï¼Œæ–¹ä¾¿å†å‘é€ç»™å…¶ä»–è®¾å¤‡ã€‚</p>
<h2 data-id="heading-2">è‹¹æœæ‰‹æœºå‘é€æ–‡ä»¶ç»™Android</h2>
<p>è‹¹æœæ‰‹æœºå‘é€ä¸¤å¼ å›¾ç‰‡å¦‚å›¾æ‰€ç¤ºï¼š</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60996b7e275b447abddaef1f668b54fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=TH4TaccI4n%2FXE%2BS7Ni3FxhiLtB8%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>Androidç«¯æ¥æ”¶æ–‡ä»¶å¦‚å›¾æ‰€ç¤º:</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df223717bfa24bc18555148734cf3e0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=5IhjVoJ2hEgugU4Z%2BFri%2Fs91OVo%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>æ¸©é¦¨æç¤ºï¼šandroidæ‰‹æœºéœ€è¦æ‰“å¼€æƒé™ï¼Œä¸ç„¶ä¼šæç¤ºæƒé™ä¸è¶³çš„ã€‚è¿™ç§ä¿å­˜æ–‡ä»¶ä¸€å®šè¦æ‰“å¼€æƒé™</p>
<p>æ¸©é¦¨æç¤ºï¼šæ‰“å¼€ã€è¯»å†™æ‰‹æœºå­˜å‚¨ã€‘æƒé™ï¼Œä¸ç„¶Androidç«¯æ— æ³•æ¥æ”¶æˆåŠŸã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/207c5fcdf5db491d837cf04c6ea5d7f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=RF85WqKjH63uZTmjQ%2FO2b1ewWKU%3D" alt="alt text" loading="lazy"/>â€‹</p>
<h2 data-id="heading-3">Androidæ‰‹æœºç»™è‹¹æœæ‰‹æœºå‘é€æ–‡ä»¶</h2>
<p>è¿™é‡Œå®æµ‹çš„æ˜¯ç”¨å°ç±³æ‰‹æœºï¼Œå‘é€ä¸‰å¼ å›¾ç‰‡ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6e2810401fa46808e07f49a95035490~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=gl8NQh3kk7UmGPVE3aTxO4oL4ng%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>åœ¨è‹¹æœæ‰‹æœºä¸Šï¼Œç‚¹å‡»æ¥æ”¶å³å¯ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f95f16953dae4526a79b86eda156fcec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=fB8PPhxwfDHofJ%2BHrmJf1nGFyhk%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>è‹¹æœæ‰‹æœºå¦‚ä½•æŸ¥çœ‹æ¥æ”¶çš„æ–‡ä»¶ï¼Ÿæ¥æ”¶çš„æ–‡ä»¶éƒ½åœ¨è¿™é‡Œï¼Œå¯ä»¥ç›´æ¥ç‚¹å‡»æŸ¥çœ‹ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90b40b6731f947e39d6d8c332e225309~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=0qFKOPNj9M4fn8iYDDqaPqDL5Xc%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>androidæ‰‹æœºç»™è‹¹æœæ‰‹æœºä¼ æ–‡ä»¶è¿™é‡Œè¸©äº†å‡ ä¸ªå‘ï¼Œæˆ‘é‡åˆ°çš„é”™è¯¯å°±æ˜¯androidå‘é€æˆåŠŸï¼Œä½†æ˜¯è‹¹æœæ‰‹æœºæ— æ³•æ¥æ”¶æˆåŠŸã€‚</p>
<p>è¯·æ³¨æ„ç«¯å£ã€åŠ å¯†ã€å¤šæ’­ä¸¤è¾¹å¿…é¡»ä¿æŒä¸€è‡´ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/484c4a8f8b5a48769d33a7cec974db5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=RUvmFe%2Fy7aDSWMsK%2FPoRB3URHp0%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>å¦‚æœä¸æˆåŠŸè¯·é‡å¯ã€æœåŠ¡å™¨ã€‘è¯•è¯•ï¼Œå¦‚å›¾ç‚¹å‡»åˆ·æ–°å›¾æ ‡ï¼Œä¸¤è¾¹éƒ½é‡å¯è¯•è¯•ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8357f3265e4947eba9d66922be3e821b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=kFK4%2FvwgyRCMjDGtV%2BroMnE2%2Bbs%3D" alt="alt text" loading="lazy"/>â€‹</p>
<h2 data-id="heading-4">å…¶å®ƒè¯´æ˜</h2>
<p>è¿™ä¸ªè½¯ä»¶è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯ä¼ è¾“é€Ÿåº¦ï¼Œåœ¨æµ‹è¯•çš„æ—¶å€™æ˜¯8M/sï¼Œæ„Ÿè§‰è¿˜æœ‰å¾ˆå¤§çš„è¿›æ­¥ç©ºé—´ï¼ŒåŒæ—¶æ²¡æœ‰æ–‡ä»¶å¤¹ä¼ è¾“æ¨¡å¼ï¼Œå¦‚æœä¼˜åŒ–å¥½è¿™äº›ï¼Œå†é…åˆä¸€ä¸ªå³é”®å¿«é€Ÿå‘é€ï¼Œé‚£ä¹ˆå°†æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„è½¯ä»¶ã€‚</p>
<p>åœ¨å±€åŸŸç½‘ä¼ è¾“ä¸Šé¢ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¯èƒ½è¢«å¤§å®¶å¿½è§†çš„å›½äº§å·¥å…·ï¼Œä¸€ä¸ªæ˜¯æè¿å¿«ä¼ ï¼Œä¸€ä¸ªæ˜¯äº’ä¼ ã€‚ç»å¸¸è¦ç”¨åˆ°çš„è®¾å¤‡å¯ä»¥å¯ä»¥ä½¿ç”¨æè¿å¿«ä¼ ï¼Œå®ƒæ”¯æŒéå±€åŸŸç½‘å’Œå±€åŸŸç½‘ä¸¤ç§æ¨¡å¼ï¼Œè¿æ¥è¿‡çš„è®¾å¤‡ä¼šè‡ªå·±ä¿å­˜ï¼Œä»¥åä½¿ç”¨å¯ä»¥è‡ªç”±åˆ‡æ¢ï¼Œä¸éœ€è¦å†æ¬¡ç¡®è®¤ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c12077ed1764482090011a697c2e7801~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=zQT5CS19HNVNS5I9kXmGIhfJF78%3D" alt="alt text" loading="lazy"/>â€‹</p>
<p>åœ¨ç½‘é¡µä¸Šé¢è¿›è¡Œæ‰«ç ä¼šè‡ªå·±è¿›è¡Œé…ç½®ï¼Œå¦‚æœæƒ³åœ¨å±€åŸŸç½‘ä½¿ç”¨ç›´æ¥è¾“å…¥åœ°å€å°±è¡Œï¼Œå¤šä¸ªè®¾å¤‡ä¹Ÿèƒ½è®¿é—®ï¼Œæƒ³ç®€å•ä¸€ç‚¹å°±é€‰è¿™ä¸ªï¼Œåªéœ€è¦åœ¨æ‰‹æœºä¸Šä¸‹è½½è½¯ä»¶å°±è¡Œï¼Œç›´æ¥ç½‘é¡µç®¡ç†ã€‚</p>
<p>â€‹<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3548604e8784fb0b5e4326fbacc1727~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pCc572X5LiH55u4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763958312&amp;x-signature=lcY4YYuweHYTnR53VBr9VVCJGEw%3D" alt="alt text" loading="lazy"/>â€‹</p>
<h2 data-id="heading-5">è§†é¢‘æ¼”ç¤º</h2>
<p>è¿™æ˜¯ä¸€æ¬¾æ¯”è¾ƒæ–°çš„å·¥å…·ï¼Œç¬¬ä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒäº2022å¹´12æœˆ29å·ï¼Œåˆ°23å¹´2æœˆ10å·å·²ç»è¿ç»­æ›´æ–°äº†12ä¸ªç‰ˆæœ¬ï¼Œæ ¹æ®LocalSendé¡¹ç›®çš„Starçš„å†å²ï¼Œå¤§å®¶å¯ä»¥ç›´è§‚æ„Ÿå—åˆ°è¿™ä¸ªé¡¹ç›®çš„å—æ¬¢è¿ç¨‹åº¦ï¼Œåƒè¿™ç§å‡ ä¹å‚ç›´çš„ç‚¹èµçº¿ï¼Œå°±èƒ½è¯´æ˜é¡¹ç›®é‡Œè‚¯å®šæœ‰ä»€ä¹ˆè®©äººçœ¼å‰ä¸€äº®/ä¸€é»‘çš„ä¸œè¥¿ã€‚</p>
<p>â€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€SwiftUI ä»»åŠ¡èº«ä»½ã€‘task(id:) å¦‚ä½•æ­£ç¡®å“åº”ä¾èµ–å˜åŒ–]]></title>    <link>https://juejin.cn/post/7572961448537374747</link>    <guid>https://juejin.cn/post/7572961448537374747</guid>    <pubDate>2025-11-17T03:08:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537374747" data-draft-id="7573193563053604905" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€SwiftUI ä»»åŠ¡èº«ä»½ã€‘task(id:) å¦‚ä½•æ­£ç¡®å“åº”ä¾èµ–å˜åŒ–"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T03:08:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€SwiftUI ä»»åŠ¡èº«ä»½ã€‘task(id:) å¦‚ä½•æ­£ç¡®å“åº”ä¾èµ–å˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:08:31.000Z" title="Mon Nov 17 2025 03:08:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆ <code>.task</code> é»˜è®¤ä¸ä¼šâ€œè·Ÿç€å˜é‡è·‘â€</h2>
<p>åœ¨ UIKit æ—¶ä»£ï¼Œæˆ‘ä»¬æ‰‹åŠ¨ <code>addObserver</code>ã€<code>removeObserver</code>ï¼Œä¸€ä¸å°å¿ƒå°±å¿˜è®°ç§»é™¤ã€‚</p>
<p>SwiftUI å¸¦æ¥äº†â€œè‡ªåŠ¨ä¾èµ–è¿½è¸ªâ€ï¼šåªè¦ <code>body</code> é‡Œè¯»åˆ°çš„ <code>@State</code>ã€<code>@ObservedObject</code> å‘ç”Ÿå˜åŒ–ï¼Œ<code>body</code> ä¼šè¢«é‡æ–°æ±‚å€¼ã€‚</p>
<p>ç„¶è€Œï¼Œè¿™ä¸ªâ€œè‡ªåŠ¨â€ä»…é™äº <code>body</code> çš„æ±‚å€¼æœ¬èº«ï¼Œå¹¶ä¸åŒ…æ‹¬ä½ åœ¨ <code>.task</code>ï¼ˆæˆ– <code>.onAppear</code>ï¼‰é‡Œå†™çš„å¼‚æ­¥é—­åŒ…ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼š<code>.task</code> é—­åŒ…é‡Œç”¨åˆ°çš„ä»»ä½•å˜é‡ï¼Œéƒ½ä¸ä¼šè‡ªåŠ¨æˆä¸ºâ€œé‡æ–°è§¦å‘â€çš„è§¦å‘å™¨ã€‚</p>
<p>å®ƒåªä¼šåœ¨â€œè§†å›¾ç¬¬ä¸€æ¬¡å‡ºç°â€æ—¶è·‘ä¸€æ¬¡ï¼Œä¹‹åå³ä½¿å˜é‡å˜äº†ï¼Œé—­åŒ…ä¹Ÿä¸ä¼šå†æ‰§è¡Œã€‚</p>
<h2 data-id="heading-1">ä¸€ä¸ªâ€œçœ‹ä¼¼æ­£å¸¸â€å´æ°¸è¿œä¸ä¼šåˆ·æ–°çš„ä¾‹å­</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å›¾ç‰‡åŠ è½½å™¨</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ImageLoader</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">var</span> url: <span class="hljs-type">URL</span>                                    <span class="hljs-comment">// å¤–éƒ¨ä¼ è¿›æ¥çš„ URL</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> loaded: <span class="hljs-type">NSImage</span>? <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>       <span class="hljs-comment">// ä¸‹è½½å¥½çš„å›¾ç‰‡</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> loaded {
                <span class="hljs-type">Image</span>(nsImage: loaded)               <span class="hljs-comment">// æ˜¾ç¤ºå›¾ç‰‡</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">Text</span>(<span class="hljs-string">"Loadingâ€¦"</span>)                     <span class="hljs-comment">// åŠ è½½ä¸­å ä½</span>
            }
        }
        <span class="hljs-comment">// âš ï¸ åªä¼šåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶æ‰§è¡Œä¸€æ¬¡</span>
        .task {
            <span class="hljs-comment">// å³ä½¿ url åæ¥å˜äº†ï¼Œè¿™é‡Œä¹Ÿä¸ä¼šå†è·‘</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
        }
    }
}

<span class="hljs-comment">// åœ¨ ContentView é‡Œéšæœºåˆ‡æ¢é«˜åº¦</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ContentView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> height <span class="hljs-operator">=</span> <span class="hljs-number">300</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ImageLoader</span>(url: <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://picsum.photos/200/<span class="hljs-subst">\(height)</span>"</span>)<span class="hljs-operator">!</span>)
            .onTapGesture {
                height <span class="hljs-operator">=</span> height <span class="hljs-operator">==</span> <span class="hljs-number">300</span> <span class="hljs-operator">?</span> <span class="hljs-number">200</span> : <span class="hljs-number">300</span>   <span class="hljs-comment">// ç‚¹å‡»å URL å·²å˜</span>
            }
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<p>ç‚¹å‡»å <code>body</code> ç¡®å®é‡æ–°æ±‚å€¼ï¼Œä½†å›¾ç‰‡ä¸ä¼šé‡æ–°åŠ è½½ï¼Œå› ä¸º <code>.task</code> é—­åŒ…æ²¡å†è·‘ã€‚</p>
<h2 data-id="heading-2">ç»™ä»»åŠ¡ä¸€ä¸ªâ€œèº«ä»½è¯â€â€”â€”<code>task(id:)</code></h2>
<p>æŠŠâ€œä¾èµ–â€æ˜¾å¼åœ°å‘Šè¯‰ SwiftUIï¼šåªè¦ <code>id</code> çš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œæ—§ä»»åŠ¡ä¼šè¢«è‡ªåŠ¨å–æ¶ˆï¼Œæ–°ä»»åŠ¡ä¼šè¢«é‡æ–°åˆ›å»ºã€‚</p>
<pre><code class="hljs language-swift" lang="swift">.task(id: url) {   <span class="hljs-comment">// url å°±æ˜¯èº«ä»½è¯</span>
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
    loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
}
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼Œå´è§£å†³äº†â€œå˜é‡å˜è€Œä»»åŠ¡ä¸å˜â€çš„ç—›ç‚¹ã€‚</p>
<h2 data-id="heading-3">å¤šä¾èµ–æ€ä¹ˆåŠï¼Ÿâ€”â€”æ„é€ â€œå¤åˆèº«ä»½è¯â€</h2>
<p>å½“ä»»åŠ¡åŒæ—¶ä¾èµ–å¤šä¸ªå€¼æ—¶ï¼Œéœ€è¦æŠŠå®ƒä»¬æ‰“åŒ…æˆä¸€ä¸ªå¯æ¯”è¾ƒï¼ˆEquatableï¼‰ çš„æ•´ä½“ã€‚</p>
<p>æ–¹æ³• 1ï¼šç”¨æ•°ç»„ <code>[AnyHashable]</code></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ImageLoader</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Environment</span>(\.baseURL) <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> baseURL   <span class="hljs-comment">// ç¯å¢ƒå€¼</span>
    <span class="hljs-keyword">var</span> path: <span class="hljs-type">String</span>                              <span class="hljs-comment">// å¤–éƒ¨å±æ€§</span>
    
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> loaded: <span class="hljs-type">NSImage</span>? <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> loaded { <span class="hljs-type">Image</span>(nsImage: loaded) }
            <span class="hljs-keyword">else</span> { <span class="hljs-type">Text</span>(<span class="hljs-string">"Loadingâ€¦"</span>) }
        }
        <span class="hljs-comment">// æŠŠä¸¤ä¸ªä¾èµ–ä¸€èµ·æ”¾è¿›æ•°ç»„ï¼Œä½œä¸ºå¤åˆ id</span>
        .task(id: [baseURL, path] <span class="hljs-keyword">as</span> [<span class="hljs-type">AnyHashable</span>]) {
            <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> baseURL.appendingPathComponent(path)
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
        }
    }
}
</code></pre>
<p>æ–¹æ³• 2ï¼šæŠ½æˆä¸€ä¸ªè®¡ç®—å±æ€§ï¼Œåªè¦å±æ€§æœ¬èº« Equatable</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">var</span> fullURL: <span class="hljs-type">URL</span> {
    baseURL.appendingPathComponent(path)
}

.task(id: fullURL) { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<h2 data-id="heading-4">å¦‚æœä½ æ›´å–œæ¬¢ <code>.onAppear</code> é£æ ¼</h2>
<p><code>.task</code> æœ¬è´¨æ˜¯â€œå¸¦ç”Ÿå‘½å‘¨æœŸçš„å¼‚æ­¥é—­åŒ…â€ã€‚</p>
<p>å¦‚æœä½ åªæƒ³ç”¨ <code>.onAppear</code> + <code>.onChange</code>ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿï¼š</p>
<pre><code class="hljs language-swift" lang="swift">.onAppear {
    load()          <span class="hljs-comment">// é¦–æ¬¡åŠ è½½</span>
}
.onChange(of: url) { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
    load()          <span class="hljs-comment">// url å˜åŒ–æ—¶å†åŠ è½½</span>
}

<span class="hljs-keyword">func</span> <span class="hljs-title function_">load</span>() {
    <span class="hljs-type">Task</span> {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url).<span class="hljs-number">0</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        loaded <span class="hljs-operator">=</span> <span class="hljs-type">NSImage</span>(data: data)
    }
}
</code></pre>
<p>ä½†å®˜æ–¹æ›´æ¨èç»Ÿä¸€ç”¨ <code>.task(id:)</code>ï¼Œå› ä¸ºï¼š</p>
<ol>
<li>è‡ªåŠ¨å–æ¶ˆæ—§ä»»åŠ¡ï¼Œé˜²æ­¢ç½‘ç»œå›è°ƒâ€œä¸²å°â€ï¼›</li>
<li>ä»£ç æ›´çŸ­ï¼Œé€»è¾‘é›†ä¸­ã€‚</li>
</ol>
<h2 data-id="heading-5">Apple ä¸ºä½•ä¸åšâ€œå…¨è‡ªåŠ¨â€è¿½è¸ªï¼Ÿ</h2>
<p>SwiftUI å·¥ç¨‹ç»ç† Matt Ricketson åœ¨ Mastodon çš„å›åº”ï¼š</p>
<ol>
<li>è‡ªåŠ¨è¿½è¸ªå‰¯ä½œç”¨é—­åŒ…ï¼Œææ˜“äº§ç”Ÿä¾èµ–ç¯ï¼Œä¸”éš¾ä»¥è°ƒè¯•ï¼›</li>
<li>æœ‰äº›ä»»åŠ¡æœ¬å°±åªæƒ³è·‘ä¸€æ¬¡ï¼Œä¾‹å¦‚ <code>for await</code> æŒç»­ç›‘å¬ï¼›</li>
<li>æœ‰æ—¶è¯»å†™çš„æ˜¯ç¼“å­˜å€¼ï¼Œä¸åº”å‚ä¸è¿½è¸ªï¼›</li>
</ol>
<p>å› æ­¤ï¼ŒæŠŠâ€œå†³å®šæƒâ€äº¤ç»™å¼€å‘è€…ï¼Œæ˜¯æœ€å®‰å…¨ã€æœ€çµæ´»çš„åšæ³•ã€‚</p>
<h2 data-id="heading-6">æ€»ç»“ä¸å®æˆ˜å»ºè®®</h2>
<ol>
<li>
<p>çœ‹åˆ° <code>.task { ... }</code> å…ˆé—®è‡ªå·±ï¼šé—­åŒ…é‡Œç”¨åˆ°äº†å“ªäº›å¤–éƒ¨å˜é‡ï¼Ÿ</p>
<p>åªè¦æœ‰ä¸€ä¸ªå˜é‡å¯èƒ½å˜åŒ–ä¸”å¸Œæœ›ä»»åŠ¡é‡æ–°æ‰§è¡Œï¼Œå°±ç»™å®ƒä¸€ä¸ª <code>id</code>ã€‚</p>
</li>
<li>
<p>å¤šä¾èµ–å°±æ‰“åŒ…æˆä¸€ä¸ª Equatable å€¼ï¼Œåˆ«å†™å¤šä¸ª <code>.task</code>ï¼Œå¦åˆ™é¡ºåºä¸å–æ¶ˆç­–ç•¥ä¼šå˜å¾—ä¸å¯æ§ã€‚</p>
</li>
<li>
<p>å¦‚æœä»»åŠ¡é‡Œéœ€è¦æŒç»­ç›‘å¬ï¼ˆå¦‚ <code>AsyncSequence</code>ï¼‰ï¼Œè®°å¾—åœ¨ <code>task</code> å†…éƒ¨æ‰‹åŠ¨ <code>for await</code>ï¼Œæ­¤æ—¶ <code>id</code> åªç”¨äºâ€œé…ç½®å˜åŒ–æ—¶é‡å¯â€ï¼Œè€Œä¸æ˜¯â€œæ¯æ¡æ¶ˆæ¯éƒ½é‡å¯â€ã€‚</p>
</li>
<li>
<p>ä¸ <code>.refreshable</code>ã€<code>.searchable</code> æ­é…æ—¶ï¼ŒåŒæ ·å¯ä»¥ç”¨ <code>task(id:)</code> å®ç°â€œæœç´¢å…³é”®å­—å˜åŒ–å³é‡æ–°æ‹‰å–â€ã€‚</p>
</li>
<li>
<p>å•å…ƒæµ‹è¯•ï¼š</p>
<p>ç”¨ <code>ViewInspector</code> ä¹‹ç±»çš„æ¡†æ¶ï¼Œå¯ä»¥ç›´æ¥æ–­è¨€ <code>task(id:)</code> çš„ Equatable å€¼ï¼Œç¡®ä¿ä¾èµ–ç»„åˆæ­£ç¡®ã€‚</p>
</li>
</ol>
<h2 data-id="heading-7">æ‰©å±•åœºæ™¯ï¼šæœç´¢ + åˆ†é¡µ + è‡ªåŠ¨å–æ¶ˆ</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">SearchResultView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> keyword <span class="hljs-operator">=</span> <span class="hljs-string">""</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> page <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> items: [<span class="hljs-type">Item</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">List</span>(items) { item <span class="hljs-keyword">in</span>
            <span class="hljs-type">Text</span>(item.title)
        }
        .searchable(text: <span class="hljs-variable">$keyword</span>)
        .task(id: compoundID) {           <span class="hljs-comment">// å…³é”®å­—æˆ–é¡µç ä»»ä¸€å˜åŒ–éƒ½é‡æ–°æŠ“å–</span>
            <span class="hljs-keyword">let</span> newItems <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> <span class="hljs-type">API</span>.search(keyword: keyword, page: page)
            items <span class="hljs-operator">=</span> page <span class="hljs-operator">==</span> <span class="hljs-number">1</span> <span class="hljs-operator">?</span> newItems : items <span class="hljs-operator">+</span> newItems  <span class="hljs-comment">// åˆ†é¡µæ‹¼æ¥</span>
        }
        .onTapGesture {
            page <span class="hljs-operator">+=</span> <span class="hljs-number">1</span>                       <span class="hljs-comment">// ç‚¹å‡»åŠ è½½ä¸‹ä¸€é¡µ</span>
        }
    }
    
    <span class="hljs-comment">// å¤åˆèº«ä»½è¯ï¼šæœç´¢è¯ + é¡µç </span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> compoundID: [<span class="hljs-type">AnyHashable</span>] {
        [keyword, page]
    }
}
</code></pre>
<p>å¥½å¤„ï¼š</p>
<ul>
<li>ç”¨æˆ·å¿«é€Ÿè¾“å…¥å…³é”®è¯æ—¶ï¼Œæ—§è¯·æ±‚ä¼šè¢«è‡ªåŠ¨å–æ¶ˆï¼Œé¿å…â€œå…ˆå‘å‡ºçš„è¯·æ±‚åè¿”å›â€å¯¼è‡´åˆ—è¡¨é”™ä¹±ï¼›</li>
<li>é¡µç å˜åŒ–ä¹Ÿèƒ½è‡ªåŠ¨ç»­è½½ï¼Œé€»è¾‘ç»Ÿä¸€åœ¨ä¸€å¤„ã€‚</li>
</ul>
<h2 data-id="heading-8">ä¸€å¥è¯æ”¶æŸ</h2>
<p><code>.task(id:)</code> å°±æ˜¯ SwiftUI ä¸–ç•Œçš„ <code>useEffect(callback, [dep1, dep2])</code>â€”â€”</p>
<p>æŠŠâ€œä¾èµ–æ•°ç»„â€æ˜¾å¼åœ°å†™åœ¨ä»£ç é‡Œï¼Œæ‰èƒ½è®©å‰¯ä½œç”¨çœŸæ­£éšä¾èµ–è€Œèˆï¼Œè€Œä¸æ˜¯â€œè·‘äº†ä¸€æ¬¡å°±èººå¹³â€ã€‚</p>
<p>è®°ä½ï¼šä»»åŠ¡ä¹Ÿæœ‰èº«ä»½ï¼Œä¾èµ–å˜åŒ–å°±æ¢èº«ä»½è¯ã€‚</p>
<h2 data-id="heading-9">å­¦ä¹ æ–‡ç« </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fchris.eidhof.nl%2Fpost%2Fswiftui-task-identity%2F" target="_blank" title="https://chris.eidhof.nl/post/swiftui-task-identity/" ref="nofollow noopener noreferrer">chris.eidhof.nl/post/swiftuâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cursor ä¸€å¹´æ·±åº¦å¼€å‘å®è·µï¼šå‰ç«¯å¼€å‘çš„æ•ˆç‡é©å‘½ğŸš€]]></title>    <link>https://juejin.cn/post/7573193563053522985</link>    <guid>https://juejin.cn/post/7573193563053522985</guid>    <pubDate>2025-11-17T02:49:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573193563053522985" data-draft-id="7571829879827267603" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cursor ä¸€å¹´æ·±åº¦å¼€å‘å®è·µï¼šå‰ç«¯å¼€å‘çš„æ•ˆç‡é©å‘½ğŸš€"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-17T02:49:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Sentry5"/> <meta itemprop="url" content="https://juejin.cn/user/2159893031168119"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cursor ä¸€å¹´æ·±åº¦å¼€å‘å®è·µï¼šå‰ç«¯å¼€å‘çš„æ•ˆç‡é©å‘½ğŸš€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2159893031168119/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Sentry5
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T02:49:55.000Z" title="Mon Nov 17 2025 02:49:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>åœ¨ AI Coding ææ•ˆè¿™ä»¶äº‹ä¸Šï¼Œæˆ‘æƒ³æˆ‘çš„ç»å†è®©æˆ‘æœ‰å……åˆ†çš„å‘è¨€æƒã€‚ä»Šå¹´ä¸ŠåŠå¹´ï¼Œä½œä¸ºå›¢é˜Ÿä¸­çš„æ ¡æ‹›æ–°äººï¼Œæˆ‘æ‰¿æ¥äº†ä¸¤ä½ç¦»èŒåŒäº‹çš„ä¸šåŠ¡æ¨¡å—ã€‚é¢å¯¹å¯†é›†çš„éœ€æ±‚ï¼Œæˆ‘ä¸ä»…æ‰›ä½äº†â€œä»¥ä¸€å½“ä¸‰â€çš„äº¤ä»˜å‹åŠ›ï¼ŒåŒæ—¶ä¿è¯äº†çº¿ä¸Šé›¶äº‹æ•…ã€‚è¿™ä¸€åˆ‡ï¼Œç¦»ä¸å¼€ Cursor çš„æ·±åº¦è¾…åŠ©ã€‚</p>
<p>å…ˆä¸Šå¹²è´§ï¼š</p>
<h2 data-id="heading-0">Cursor å®æˆ˜ case å±•ç¤º</h2>
<p>ä»¥ä¸‹å±•ç¤ºäº†è¿‡å»ä¸€å¹´ä¸­ï¼Œæˆ‘ä½¿ç”¨ Cursor å¼€å‘çš„éƒ¨åˆ†å‰ç«¯é¡¹ç›®ã€‚è¿™äº›é¡µé¢å¹³å‡çš„ AI ç”Ÿæˆä»£ç å æ¯”è¶…è¿‡ 80%ï¼Œ<strong>ä¸šåŠ¡åœºæ™¯æ¨ªè·¨ B/C ä¸¤ç«¯ï¼ŒæŠ€æœ¯æ ˆå…¨é¢è¦†ç›– Vueã€Reactã€å¾®ä¿¡å°ç¨‹åºä»¥åŠ Tailwindcssã€Antdã€shadcn UI ç­‰å¤šç§æŠ€æœ¯æ¡†æ¶</strong>ï¼Œå……åˆ†ä½“ç°äº† Cursor å…¨é¢çš„æŠ€æœ¯èƒ½åŠ›ä¸æ˜¾è‘—çš„æ•ˆç‡æå‡ã€‚</p>
<h3 data-id="heading-1">ç§»åŠ¨ç«¯</h3>
<p><strong>App h5</strong>æ¨å¹¿é¡µé¢ï¼Œä¸­ç§‹å‰å¤•æ™šä¸Š 22 ç‚¹ä¸šåŠ¡æ¥ç”µè¯è¯´æƒ³è¦ä¸€ä¸ªä¸­ç§‹æ¨å¹¿çš„æ´»åŠ¨é¡µï¼Œä½¿ç”¨è±†åŒ…ç”ŸæˆèƒŒæ™¯å›¾ï¼Œ<strong>ä½¿ç”¨cursorè¿›è¡Œæ ·å¼è®¾è®¡ï¼Œ0-1å¼€å‘ä»…è€—è´¹ä¸¤ä¸ªåŠå°æ—¶</strong>ï¼Œ0:30 å®Œæˆä¸Šçº¿ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf1a7320d56c433895c47cd7988837ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=eSHA%2Fmqm999RME8FLeKrtxkRYsY%3D" alt="8915703d40874aceba0eb63be0708f72~tplv-73owjymdk6-jj-mark-v1_0_0_0_0_5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==_q75.jpg" loading="lazy"/></p>
<p><strong>å¹¿å‘Šè½åœ°é¡µ</strong>ï¼ŒUI æä¾›çš„åˆç‰ˆ Lottie åŠ¨ç”»æ˜¯ä¸€ä¸ªå®Œæ•´é¡µé¢ï¼Œæ— æ³•æ‹†åˆ†ã€‚ç”±äºå¤§ä¿ƒæ’æœŸç´§å¼ ï¼Œç­‰å¾… UI æ”¯æŒè¾ƒæ…¢ã€‚ä¸ºæ­¤ï¼Œæˆ‘<strong>å€ŸåŠ© Cursor ç›´æ¥è§£è¯» Lottie çš„ JSON é…ç½®æ–‡ä»¶</strong>ï¼ŒæˆåŠŸå°†ç«ç„°ã€æ€ä»·ã€æŠ˜æ‰£ç­‰æ ¸å¿ƒåŠ¨æ•ˆå…ƒç´ ï¼Œç²¾å‡†åœ°è§£æä¸ºç‹¬ç«‹çš„åŠ¨ç”»ï¼Œå¹¶è®© Curosr é€šè¿‡CSSå®ç°ï¼Œé™ä½äº†å¼•å…¥èµ„æºä½“ç§¯çš„åŒæ—¶è¿˜ä¼˜åŒ–äº†åŠ¨ç”»çš„æ•ˆæœï¼ŒåŠ é€Ÿé€šè¿‡äº†ååŒå·¥ä½œçš„å¡ç‚¹ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0ed81e5b32e46c49252b993db360c7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=AYKrulri0oGb0djFwztil%2Fdy5rA%3D" alt="d6f4d2bf95484cc0a1636193ca3378c2~tplv-73owjymdk6-jj-mark-v1_0_0_0_0_5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==_q75.jpg" loading="lazy"/></p>
<h3 data-id="heading-2">pcç«¯</h3>
<p><strong>ä¸œçš‡é’Ÿèµ„æŸé˜²æ§å¹³å°</strong>ï¼Œè¯¥é¡¹ç›®ç”±ç ”å‘å‘èµ·ï¼Œ<span>åœ¨æ²¡æœ‰äº§å“åŸå‹å’ŒUIè®¾è®¡çš„æƒ…å†µä¸‹</span>ï¼Œå€ŸåŠ© Cursor ç»“åˆ Shadcn UIï¼Œæˆ‘ç‹¬ç«‹å®Œæˆäº†å¹³å° <span>0-1</span> çš„äº¤äº’ä¸ç•Œé¢æ„å»ºï¼Œæœ€ç»ˆæˆæœè·å¾—äº†åç«¯ä¸æµ‹è¯•å›¢é˜Ÿçš„ä¸€è‡´å¥½è¯„ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74324175000d4eda97aa128fb869e3b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=dExmeifO2T%2BUxxbVdnV78f1RCaQ%3D" alt="image.png" width="100%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/246666e7f9224e0ca66cc4bd006ab296~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=otNbPn3K3KuaZs7mGEf7cSGCryA%3D" alt="image.png" width="100%" loading="lazy"/>
<p><strong>æµé‡è°ƒåº¦åˆ†æµè¡¨å•</strong>ï¼Œè¯¥æ¨¡å—æ ¸å¿ƒä»£ç è¿‘ä¸‡è¡Œï¼Œè¡¨å•è”åŠ¨é€»è¾‘å¤æ‚ï¼Œæ•´ä½“ç”± Cursor ç”Ÿæˆå®ç°ã€‚é¢å¯¹ 5 å±‚ä»¥ä¸Šçš„åµŒå¥—æ•°æ®ç»“æ„ï¼Œäººå·¥ç†è§£å…¶å±‚çº§å…³ç³»å¹¶æ§åˆ¶åŠ¨æ€è”åŠ¨ä¸ä»…éš¾åº¦å¤§ï¼Œä¸”ææ˜“å‡ºé”™ã€‚é€šè¿‡å¼•å…¥ Cursorï¼Œæ·±å…¥è§£ææ•°æ®ç»“æ„ä¸è”åŠ¨é€»è¾‘ï¼Œæ˜¾è‘—é™ä½ç ”å‘çš„ç†è§£æˆæœ¬ï¼Œæå‡æ•´ä½“å¼€å‘æ•ˆç‡ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c475b735420442b824ae5d27d8ca32c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=El%2ByyowUBWkdnzejYshSta3gHQg%3D" alt="image.png" width="100%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f586e18fead942a2b170d1d8e70e73aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=4vGvN%2BUgR3feGRgKxoy0SbTcLpw%3D" alt="image.png" width="100%" loading="lazy"/>
<p><strong>ç²¾å‡†é“¾è·¯åˆ†æé¡¹ç›®</strong>ï¼Œå…¬å¸å†…æ¯”èµ›å‚èµ›é¡¹ç›®ï¼ŒåŸºäº Cursor ä»é›¶å¯åŠ¨ï¼Œå•äººä»…ç”¨ä¸¤å¤©ä¾¿å¿«é€Ÿæ„å»ºå‡ºåŠŸèƒ½å®Œæ•´çš„ç²¾ç¾ Demoã€‚é¡¹ç›®å®Œæ•´å®ç°äº†åŸºäº React Flow çš„ <strong>JAVA è°ƒç”¨é“¾è·¯å±•ç¤ºä¸ç»„åˆ</strong>ã€<strong>AI æµå¼æŠ¥å‘Š</strong>åŠ<strong>æ™ºèƒ½Agentå¯¹è¯</strong>ç­‰å¤šç§é«˜çº§èƒ½åŠ›ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f73fc0b0ea8e4b359a13431f56d01cfe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=OheoVRlHcfqKB9tCnlck1UKkY3g%3D" alt="image.png" width="100%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a9c1ea4f17c460c8880b82557b1f64c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=2qU3ZmHM5BAVT%2BaAgxszQgL%2B9cU%3D" alt="image.png" width="100%" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8006fdd825ef4aef9547fad65dba1e5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=xoYjTDz%2FNKvzCkzYNnTmFiPwsRQ%3D" alt="image.png" width="100%" loading="lazy"/>
<h3 data-id="heading-3">å·¥ç¨‹åŒ–</h3>
<p>å·¥ç¨‹åŒ–å†æ¥æ˜¯å‰ç«¯é¢†åŸŸçš„æ ¸å¿ƒæŒ‘æˆ˜ï¼Œå……æ–¥ç€ä¾èµ–ç‰ˆæœ¬å†²çªä¸ç¹æ‚çš„é…ç½®é€»è¾‘ã€‚ä¸ºéªŒè¯ Cursor å¤„ç†ç³»ç»Ÿçº§ä»»åŠ¡çš„èƒ½åŠ›ï¼Œæˆ‘å°è¯•å°†å®Œæ•´å‡çº§æµç¨‹äº¤ç”±å®ƒä¸»å¯¼ï¼šä»ä¾èµ–åˆ†æã€ç‰ˆæœ¬ç®¡ç†åˆ°å·¥ç¨‹é…ç½®æ›´æ–°ï¼Œè®©å…¶ç›´æ¥æ“æ§ç»ˆç«¯ã€æ‰§è¡Œ npm å‘½ä»¤ã€‚</p>
<p>åœ¨ä¸€ä¸ª App H5 é¡¹ç›®ä¸­ï¼Œæˆ‘åŸºäº Cursor æˆåŠŸå®Œæˆäº†ä»æ—§ç‰ˆæœ¬åˆ° Vue 2.7.16 + Webpack 5 çš„å‡çº§å…¨æµç¨‹ï¼š<a href="https://juejin.cn/post/7530105395281821734" target="_blank" title="https://juejin.cn/post/7530105395281821734">Vue 2.5.16 + Webpack 4 å‡çº§ Vue 2.7.16 + Webpack 5 è®°å½•è®°å½•é¡¹ç›®ä» Vue - æ˜é‡‘</a></p>
<p>cursor æä¾›çš„å‡çº§æ–¹æ¡ˆï¼ˆéƒ¨åˆ†å¯¹è¯ï¼‰ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95519e9f71fd4cba8f745c3c5b7f8092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=p9InhYKKEBi%2BAqp3TPJHFIjdFUk%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>æ›´æ–°ä¾èµ–ç‰ˆæœ¬å’Œé…ç½®æ–‡ä»¶ï¼ˆéƒ¨åˆ†å¯¹è¯ï¼‰ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adbf728964114b5a8ef429ff01355882~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=u4OA82M3OOXJDiKjRENMysiCCjA%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>è‡ªåŠ¨æ‰§è¡Œç»ˆç«¯å‘½ä»¤ä¸ä¿®å¤æŠ¥é”™ï¼ˆéƒ¨åˆ†å¯¹è¯ï¼‰ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/111c02b3a5af43438a98c8c49c9fbb19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=6ssn0tpvqwk5pfedXjNbGqF9iPA%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œæˆ‘ä¹Ÿè®© Cursor å®ç°äº†è¯¥ App h5 ä» Webpack åˆ° Vite çš„è¿ç§»è·¯å¾„éªŒè¯ï¼Œæ ¸å¿ƒæ„å»ºæµç¨‹å·²å…¨éƒ¨è·‘é€šã€‚ç›®å‰å› éƒ¨åˆ†è¾¹ç•Œåœºæ™¯æŠ¥é”™å°šæœªå®Œå…¨è§£å†³ï¼Œæœªæ²‰æ·€åšå®¢æ–‡ç« ï¼Œä½†è¯¥å®è·µå·²åˆæ­¥éªŒè¯ Cursor åœ¨å¤æ‚å·¥ç¨‹é“¾è·¯ä¸­å…·å¤‡å¯è¡Œçš„è¾…åŠ©æ½œåŠ›ã€‚</p>
<h2 data-id="heading-4">Cursor ä½¿ç”¨ç»éªŒåˆ†äº«</h2>
<h3 data-id="heading-5">é‡ä¸­ä¹‹é‡ï¼šæ¨¡å‹çš„é€‰æ‹©</h3>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ce651617d184cf69bcedbd479cd9d64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=9gJfX6dJ%2BHZZl00aq9Kw4LT%2Fj1o%3D" alt="image.png" width="100%" loading="lazy"/>
<p>æ¨¡å‹æ˜¯ AI çš„åŸºåº§ï¼Œåœ°åŸºä¸ç‰¢ï¼Œåœ°åŠ¨å±±æ‘‡ã€‚åœ¨æ­¤ç›´æ¥ä¸Šç»“è®ºï¼š<strong>æ— è„‘é€‰æ‹© Claude</strong>ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d28dd9f107140f489da635a1a5a4413~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=8KMMf4IvXS1Y%2Bsal90zqds4VtKA%3D" alt="image.png" width="100%" loading="lazy"/></p>
<p>è¿™ä¸ä»…å› ä¸ºåœ¨å¤§æ¨¡å‹ä»£ç èƒ½åŠ›è¯„æµ‹ä¸­ Claude æŒç»­é¢†å…ˆï¼ˆå¦‚ä¸Šå›¾æ‰€ç¤ºï¼‰ï¼Œæ›´æ˜¯ç¬”è€…è‡ª Sonnet 3.5 ç‰ˆæœ¬å‘å¸ƒä»¥æ¥ï¼Œå®é™…ä½“éªŒ Claude åœ¨ä»£ç ç”Ÿæˆã€é€»è¾‘ç†è§£ä¸ä¸Šä¸‹æ–‡å…³è”æ–¹é¢çš„èƒ½åŠ›ï¼Œç›¸æ¯”åŒæ—¶æœŸçš„æ¨¡å‹ï¼Œç¡®å®ä¸€éª‘ç»å°˜ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„ä¸¤ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>è­¦æƒ• Auto æ¨¡å¼ï¼š</strong> è‹¥è´¦å·ç”¨é‡ä¸è¶³ï¼ŒCursor ä¼šè‡ªåŠ¨åˆ‡æ¢è‡³ Auto æ¨¡å¼ï¼Œæ­¤æ—¶å¯èƒ½åˆ†é…åˆ°æ€§èƒ½è¾ƒå¼±çš„æ¨¡å‹ï¼Œè¾“å‡ºè´¨é‡ä¼šæ˜¾è‘—ä¸‹é™ã€‚è¯¥æ¨¡å¼å¯ç”¨äºæŠ€æœ¯äº¤æµï¼Œä½†ä¸å»ºè®®ç”¨äºä»£ç ç”Ÿæˆä¸ç¼–è¾‘ã€‚è¿™ä¹Ÿæ˜¯æˆ‘å‡çº§äº†è®¢é˜…è®¡åˆ’çš„åŸå› ã€‚</p>
</li>
<li>
<p><strong>å…³æ³¨ä¸Šä¸‹æ–‡é•¿åº¦ï¼š</strong> Cursor ä¼šå®æ—¶æ˜¾ç¤ºä¸Šä¸‹æ–‡ä½¿ç”¨æƒ…å†µã€‚è‹¥æ¥è¿‘é™åˆ¶ï¼Œå¯ä¸»åŠ¨é€‰æ‹©æ”¯æŒæ›´é•¿ä¸Šä¸‹æ–‡çš„æ¨¡å‹ï¼Œæˆ–å¼€å¯å¤šå€è®¡è´¹çš„ Max Mode ä»¥æ‰©å±•å¤„ç†èƒ½åŠ›ï¼Œé¿å…ä¸Šä¸‹æ–‡ä¸¢å¤±å¸¦æ¥çš„è¾“å‡ºè´¨é‡ä¸‹é™ã€‚</p>
</li>
</ol>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cb9be9e363d47689705712a9a564b60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=uQKacQaOX9r6BZjhdJ5MeFZWXEc%3D" alt="image.png" width="50%" loading="lazy"/></p>
<h3 data-id="heading-6">Talk is cheap. Show me the code.</h3>
<p>ç›¸ä¿¡ç ”å‘åŒå­¦å¯¹è¿™å¥è¯éƒ½ä¸é™Œç”Ÿã€‚è¿™å¥è¯ï¼Œåœ¨æ­¤å¤„ä¸å¦¨è§†ä½œ Cursor å¯¹æˆ‘ä»¬æå‡ºçš„è¦æ±‚ã€‚ä¸ Cursor åä½œçš„ç¬¬ä¸€åŸåˆ™æ˜¯ï¼š<strong>èƒ½æä¾›ä»£ç ç‰‡æ®µï¼Œç»ä¸ç”¨æ–‡å­—æè¿°ï¼›èƒ½ç”¨å˜é‡åæŒ‡ä»£çš„ï¼Œç»ä¸ç”¨ä¸­æ–‡å</strong>ã€‚</p>
<h4 data-id="heading-7">æ‰‹åŠ¨æ·»åŠ ä¸Šä¸‹æ–‡</h4>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f573195d9834cab8a15389ae6ebb006~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=yc8aLrAQ4Hip40jUTFp3g2zQXYA%3D" alt="image.png" width="50%" loading="lazy"/></p>
<ol>
<li>
<p>é€‰ä¸­ä»£ç ç‰‡æ®µï¼Œç‚¹å‡»â€œæ·»åŠ åˆ°èŠå¤©ä¸Šä¸‹æ–‡â€æŒ‰é’®ï¼ˆå¿«æ·é”® Ctrl+Iï¼‰ï¼›</p>
</li>
<li>
<p>è‹¥ä»…æé—®ä¸å¸Œæœ› Cursor æ”¹åŠ¨ä»£ç ï¼Œå¯ä½¿ç”¨ Ctrl+Lï¼›</p>
</li>
<li>
<p>åœ¨ç›®å½•ä¸­å³é”®ç‚¹å‡»æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå°†å…¶åŠ å…¥å¯¹è¯ï¼›</p>
</li>
<li>
<p>åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ @ï¼Œæ‰‹åŠ¨é€‰æ‹©è¦å¼•ç”¨çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚</p>
</li>
</ol>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae7d95522905434494b21c9c78987b88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=iOeYSHDx6WeaK5DaflwWrc%2FobvU%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69e2faaf584342fbabb51c5bf40c3a3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=Wg2LI5xhajDgybvRJEzziBbPTXg%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>å°¤å…¶åœ¨æ¶‰åŠå¤šæ–‡ä»¶æ”¹åŠ¨æ—¶ï¼Œä¸»åŠ¨å‘ŠçŸ¥ Cursor ç›¸å…³æ–‡ä»¶è·¯å¾„ï¼Œæ•ˆæœè¿œä¼˜äºä¾èµ–å…¶è‡ªè¡Œæ£€ç´¢ã€‚</p>
<h4 data-id="heading-8">ç»Ÿä¸€è¯­ä¹‰è¡¨è¾¾</h4>
<p>åœ¨ä¸šåŠ¡æ²Ÿé€šä¸­ï¼Œè¯·å§‹ç»ˆä½¿ç”¨ç²¾å‡†çš„å˜é‡åä¸ Cursor äº¤äº’ã€‚ä¾‹å¦‚ï¼Œåœ¨ä»·æ ¼ç›¸å…³éœ€æ±‚ä¸­ï¼Œåº”ç›´æ¥ä½¿ç”¨ <code>purchasePrice</code>ã€<code>price</code> ç­‰å·²æœ‰å˜é‡åï¼Œè€Œéå£è¯­åŒ–çš„â€œåˆ°æ‰‹ä»·â€ã€â€œåŸä»·â€ã€‚è¿™èƒ½ç¡®ä¿ AI åœ¨åç»­æ‰€æœ‰äº¤äº’ä¸­å¯¹æ¦‚å¿µç†è§£ä¸€è‡´ï¼Œæ— éœ€åå¤æ¨ç†æ˜ å°„å…³ç³»ã€‚</p>
<p>åŒæ ·ï¼Œåœ¨æè¿°ç•Œé¢å…ƒç´ ä¸äº¤äº’é€»è¾‘æ—¶ï¼Œç²¾å‡†å¼•ç”¨æ ‡è¯†ç¬¦è€Œéä¾èµ–è‡ªç„¶è¯­è¨€æè¿°ï¼Œæ˜¯æå‡ Cursor ç†è§£å‡†ç¡®åº¦çš„å…³é”®ã€‚</p>
<ul>
<li>
<p><strong>å®šä½ç•Œé¢å…ƒç´ </strong>ï¼Œåº”æ˜ç¡®æŒ‡å‡ºå…¶ <code>className</code> æˆ– <code>id</code>ï¼Œè€Œéä½¿ç”¨æ¨¡ç³Šçš„è‡ªç„¶è¯­è¨€ã€‚
ä¾‹å¦‚ï¼šâŒ â€œé‚£ä¸ªä¸‹è½½æŒ‰é’®â€ â†’ âœ… â€œç±»åä¸º <code>.download-btn</code> çš„æŒ‰é’®â€ æˆ– â€œID ä¸º <code>#export-download</code> çš„å…ƒç´ â€ã€‚</p>
</li>
<li>
<p>æè¿°äº¤äº’é€»è¾‘ï¼Œåº”ç›´æ¥æä¾›å›è°ƒå‡½æ•°åæˆ–æ–¹æ³•åç§°ï¼Œè€Œéç¬¼ç»Ÿæè¿°è¡Œä¸ºæ„å›¾ã€‚
ä¾‹å¦‚ï¼šâŒ â€œç‚¹å‡»æŒ‰é’®åå¼¹çª—â€ â†’ âœ… â€œåœ¨ <code>handleConfirmClick</code> å‡½æ•°ä¸­è°ƒç”¨ <code>showModal()</code> æ–¹æ³•â€ã€‚</p>
</li>
</ul>
<p>è¿™ç§æ–¹å¼èƒ½å¤Ÿæœ‰æ•ˆé¿å…ç•Œé¢ä¸­å­˜åœ¨å¤šä¸ªç›¸ä¼¼å…ƒç´ æ—¶é€ æˆçš„æ­§ä¹‰ï¼Œä¹Ÿä¾¿äº Cursor ç›´æ¥åœ¨ä»£ç åº“ä¸­å®šä½ç›¸å…³é€»è¾‘ï¼Œå®ç°ç²¾å‡†ç¼–è¾‘ã€‚</p>
<h3 data-id="heading-9">å¦‚ä½•ä½¿ç”¨ cursor å®šä½æ•…éšœï¼Ÿ</h3>
<p>åœ¨â€œAI èƒ½å¦å–ä»£ç¨‹åºå‘˜â€çš„æŒç»­è®¨è®ºä¸­ï¼Œç²¾å‡†å®šä½å¹¶ä¿®å¤çº¿ä¸Šæ•…éšœä¸€ç›´è¢«è§†ä½œäººç±»å·¥ç¨‹å¸ˆçš„å…³é”®ä¼˜åŠ¿ã€‚å…¶æ ¹æœ¬åŸå› åœ¨äºï¼šAI è™½èƒ½è¾ƒå¥½åœ°è§£æé™æ€ä»£ç ç»“æ„ï¼Œå´éš¾ä»¥æ„ŸçŸ¥ç³»ç»Ÿè¿è¡Œæ—¶çš„åŠ¨æ€çŠ¶æ€ã€‚è€Œå¾ˆå¤šæ·±å±‚é—®é¢˜â€”â€”å¦‚å†…å­˜æ³„æ¼ã€çº¿ç¨‹ç«äº‰ã€ç¯å¢ƒä¾èµ–å¼‚å¸¸ç­‰â€”â€”æ°æ°éšè—åœ¨é™æ€ä»£ç ä¸åŠ¨æ€æ‰§è¡Œä¹‹é—´çš„é¸¿æ²Ÿä¸­ï¼Œè¿™æ„æˆäº†å½“å‰ AI åœ¨æ•…éšœå¤„ç†ä¸­çš„è®¤çŸ¥è¾¹ç•Œã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•ä¸º AI æ¶èµ·ä¸€åº§è·¨è¶Šè¿™é“é¸¿æ²Ÿçš„æ¡¥æ¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ­£åœ¨äºæˆ‘ä»¬äººç±»æœ€ç†Ÿæ‚‰çš„è°ƒè¯•æ‰‹æ®µï¼š<strong><span>æ—¥å¿—</span></strong>ã€‚æ—¢ç„¶æ—¥å¿—èƒ½å¤Ÿæˆä¸ºå¼€å‘è€…å’Œè¿è¡Œä¸­ç³»ç»Ÿä¹‹é—´çš„æ²Ÿé€šåª’ä»‹ï¼Œé‚£ä¹ˆå®ƒåŒæ ·å¯ä»¥è½¬åŒ–ä¸º AI ç†è§£è¿è¡Œæ—¶è¡Œä¸ºçš„å…³é”®ä¿¡æ¯æ¥æºã€‚</p>
<h4 data-id="heading-10">å¼•å¯¼ AI æ’å…¥å…³é”®æ—¥å¿—</h4>
<p>å½“ä½ å‘ç°æŸä¸ªåŠŸèƒ½å¼‚å¸¸ï¼Œå¯æŒ‡ç¤º Cursor åœ¨å…³é”®é€»è¾‘è·¯å¾„ä¸Šæ·»åŠ æ—¥å¿—ç‚¹ã€‚åªéœ€ç®€å•æŒ‡ä»¤ï¼Œå¦‚ï¼šâ€œè¯·å¸®æˆ‘åœ¨xxåŠŸèƒ½ç›¸å…³çš„å‡½æ•°å†…éƒ¨æ·»åŠ  console.logï¼Œè¾“å‡ºå…³é”®å˜é‡çš„å€¼ã€‚â€</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/851db0a3d1584f72b43c3ea2a874afce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=0XblswdYeYXhZrSM8r5JLj28xNg%3D" alt="image.png" width="50%" loading="lazy"/></p>
### è¿è¡Œä»£ç å¹¶æ•è·æ—¥å¿—
<p>æ‰§è¡Œæ·»åŠ æ—¥å¿—åçš„ä»£ç ï¼Œå¤åˆ¶è¿è¡Œæ—¶æ‰€ç”Ÿæˆçš„å®Œæ•´æ—¥å¿—è¾“å‡ºã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac75876268bd4769a39e05b53c65141e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=aiIiQF1m%2BfZiZZAekydxpEDTNn0%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h4 data-id="heading-11">å°†æ—¥å¿—ä¸ä»£ç å…±åŒæäº¤ç»™ AI åˆ†æ</h4>
<p>ç„¶åå†å°†æ—¥å¿—å¤åˆ¶å‘é€ç»™cursorï¼Œç¥å¥‡çš„äº‹å‘ç”Ÿäº†ï¼Œæœ¬æ¥å®ƒæ”¹åŠ¨äº†å‡ ééƒ½æ²¡èƒ½è§£å†³çš„é—®é¢˜ï¼Œä¸€ä¸‹å°±å®šä½åˆ°äº†æ ¹å› ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f10d8de4cd954aa18c69ed82a652565c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=UYDD8OCgPJw9LqubNApdaPaIXe8%3D" alt="image.png" width="50%" loading="lazy"/></p>
<h4 data-id="heading-12">æŠ€å·§èƒŒåçš„é€»è¾‘</h4>
<p>æ­¤æ–¹æ³•ä¹‹æ‰€ä»¥æœ‰æ•ˆï¼Œæ˜¯å› ä¸ºå®ƒå°† AI ä»çº¯ç²¹çš„ä»£ç é™æ€åˆ†æè€…ï¼Œè½¬å˜ä¸ºäº†ä¸€ä¸ªå…·å¤‡â€œè¿è¡Œæ—¶è§†é‡â€çš„è°ƒè¯•ä¼™ä¼´ã€‚é€šè¿‡æ—¥å¿—ï¼ŒAI èƒ½å¤Ÿï¼š</p>
<ul>
<li>
<p>è¿½è¸ªå˜é‡çš„å®é™…å˜åŒ–è½¨è¿¹</p>
</li>
<li>
<p>è¯†åˆ«é€»è¾‘åˆ†æ”¯çš„çœŸå®æ‰§è¡Œè·¯å¾„</p>
</li>
<li>
<p>å‘ç°æ•°æ®æµä¸é¢„æœŸä¸ç¬¦çš„å…·ä½“ä½ç½®</p>
</li>
</ul>
<h3 data-id="heading-13">æ·»åŠ  Rulesï¼šè®© AI è®°ä½ä½ çš„å·¥ç¨‹è§„èŒƒ</h3>
<p>åœ¨ä½¿ç”¨æ—¥å¿—ä¸ Cursor åä½œè°ƒè¯•æ—¶ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªå…¸å‹é—®é¢˜ï¼šé¡¹ç›®ä¸­å·²æœ‰å¤§é‡æ—¥å¿—ï¼Œæ–°å¢çš„è°ƒè¯•ä¿¡æ¯å¾ˆå¿«è¢«æ·¹æ²¡ï¼Œéš¾ä»¥å¿«é€Ÿå®šä½ã€‚æˆ‘å¸Œæœ› Cursor åœ¨æ¯æ¬¡æ’å…¥è°ƒè¯•æ—¥å¿—æ—¶ï¼Œè‡ªåŠ¨åœ¨å¼€å¤´é™„åŠ  ã€xxåŠŸèƒ½è°ƒè¯•ã€‘ è¿™æ ·çš„æ ‡è¯†ï¼Œä»¥ä¾¿åœ¨æ§åˆ¶å°ä¸­å¿«é€Ÿç­›é€‰ã€‚ä½†è‹¥æ¯æ¬¡å¯¹è¯éƒ½é‡å¤è¿™ä¸€è¦æ±‚ï¼Œæ—¢ä½æ•ˆåˆå®¹æ˜“é—æ¼ã€‚</p>
<p>è¿™æ—¶ï¼ŒCursor çš„ Rules åŠŸèƒ½ä¾¿å¯å‘æŒ¥å…³é”®ä½œç”¨ã€‚ä½ å¯ä»¥åœ¨è§„åˆ™ä¸­å›ºè¯è¿™ç±»å¸¸è§çš„å·¥ç¨‹çº¦æŸæˆ–å›¢é˜Ÿè§„èŒƒï¼Œä¾‹å¦‚ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93beaf35662142bd9023b4c243bedbbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=Mvzh60zAqpP4iRR28dzcxmY%2BCbA%3D" alt="image.png" width="100%" loading="lazy"/>
<p>Cursor æ”¯æŒä¸ºä¸åŒé¡¹ç›®é…ç½®ç‹¬ç«‹çš„è§„åˆ™é›†ï¼Œçµæ´»é€‚é…å„å·¥ç¨‹çš„ç‰¹å®šè§„èŒƒã€‚å…·ä½“è®¾ç½®æ–¹æ³•è¯¦è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.cursor.com%2Fzh%2Fcontext%2Frules" target="_blank" title="https://docs.cursor.com/zh/context/rules" ref="nofollow noopener noreferrer">Cursor - è§„åˆ™</a></p>
<p>å®Œæˆè§„åˆ™é…ç½®åï¼Œæˆ‘ä»¬é‡æ–°æ‰§è¡Œä¹‹å‰çš„è°ƒè¯•å¯¹è¯ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç°åœ¨æ¯ä¸ª <code>console.log</code> è¯­å¥çš„å¼€å¤´éƒ½å·²è‡ªåŠ¨åŠ ä¸Šäº†å¯¹åº”çš„å‡½æ•°åä½œä¸ºæ ‡è¯†ï¼Œæå¤§æ–¹ä¾¿äº†åœ¨æ§åˆ¶å°ä¸­çš„ç­›é€‰ä¸æŸ¥çœ‹ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4edc65fc385642ac9c93c6b141b509e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=Abo5Yh6o8e2Hopw3DWNCWa%2Bhero%3D" alt="image.png" width="50%" loading="lazy"/></p>
<h3 data-id="heading-14">é›†æˆ MCPï¼šæ‹“å±•èƒ½åŠ›è¾¹ç•Œ</h3>
<p>åœ¨ä½¿ç”¨æ—¥å¿—è¾…åŠ© Cursor è¿›è¡Œè°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é€æ¸å‘ç°ä¸¤ä¸ªå½±å“æ•ˆç‡çš„å…¸å‹é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>æ‰‹åŠ¨å¤åˆ¶ç¹ç</strong>ï¼šé¢‘ç¹ä»æ§åˆ¶å°å¤åˆ¶æ—¥å¿—å†ç²˜è´´è‡³ Cursorï¼Œæœ¬è´¨ä¸Šä»æ˜¯ä¸€ç§é‡å¤åŠ³åŠ¨ï¼Œä¸ AI åä½œçš„è‡ªåŠ¨åŒ–ç†å¿µç›¸æ‚–ã€‚</p>
</li>
<li>
<p><strong>æ—¥å¿—å†…å®¹æ‚ä¹±</strong>ï¼šæ§åˆ¶å°ä¸­çš„å¼•ç”¨ç±»å‹æ•°æ®ï¼ˆå¦‚å¯¹è±¡ã€æ•°ç»„ï¼‰è‹¥ä¸å±•å¼€æˆ–æ ¼å¼ä¸å½“ï¼Œéš¾ä»¥å®Œæ•´å¤åˆ¶ï¼›åŒæ—¶ï¼Œæ§åˆ¶å°è‡ªåŠ¨æ’å…¥çš„ä»£ç ä½ç½®ä¿¡æ¯ï¼ˆæ–‡ä»¶è·¯å¾„ä¸è¡Œå·ï¼‰å¸¸æ··æ‚åœ¨æ—¥å¿—æ­£æ–‡ä¸­ï¼Œå¯¼è‡´æœ€ç»ˆæä¾›ç»™ Cursor çš„æ–‡æœ¬ç»“æ„æ··ä¹±ã€éš¾ä»¥è§£æã€‚</p>
</li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55642655a2444c53b6260139a6861712~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=PP%2Fv8L9dYsvx2OORehk4ucVboXo%3D" alt="image.png" width="70%" loading="lazy"/></p>
<p>ä¸Šå›¾æ­£æ˜¯è¿™ä¸€é—®é¢˜çš„ç›´è§‚ä½“ç°ï¼šæ—¥å¿—ä¸­ç©¿æ’äº†æºä»£ç ä½ç½®ï¼Œè€Œå¯¹è±¡æ•°æ®æœªå®Œæ•´å±•å¼€ï¼Œè¿™æ ·çš„ä¿¡æ¯ç›´æ¥äº¤ç»™ Cursorï¼Œä¼šå½±å“å…¶ç†è§£ä¸æ¨ç†çš„å‡†ç¡®æ€§ã€‚</p>
<p><strong>è€Œæ­¤æ—¶ï¼Œæ­£æ˜¯ MCPï¼ˆModel Context Protocolï¼‰å¯å¤§æ˜¾èº«æ‰‹çš„åœºæ™¯ã€‚</strong> é€šè¿‡ä¸º Cursor é…ç½®æµè§ˆå™¨ MCP æœåŠ¡ï¼Œæˆ‘å®ç°äº†å·¥ä½œæµçš„è´¨çš„é£è·ƒï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ea81497129e440dba0455ee53179eb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=4t4vEm6rV9%2Fd3zxpSlYPWv6GWfA%3D" alt="image.png" width="100%" loading="lazy"/>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9902c962aba4de98e2fdff1dcfe9d19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=CDMHPDjkJrh8dpZ%2B9O335z2qpK8%3D" alt="image.png" width="50%" loading="lazy"/></p>
MCP èµ‹äºˆ Cursor ç›´æ¥æ§åˆ¶æµè§ˆå™¨çš„èƒ½åŠ›ï¼Œä½¿å…¶èƒ½å¤Ÿï¼š
<ul>
<li><strong>è‡ªåŠ¨æ•è·é¡µé¢æˆªå›¾</strong></li>
<li><strong>ç›´æ¥è¯»å–æ§åˆ¶å°æ—¥å¿—</strong></li>
<li><strong>åˆ†æ DOM ç»“æ„</strong></li>
</ul>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/492d9e1dd83d4404a8c2cff11ac1ffc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=5OwLq4QiqbX689vZw1C9xssov24%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>å½“å‰ Cursor çš„æµè§ˆå™¨ MCP ä»…æ”¯æŒå†…ç½®çª—å£ä¸ Chromeã€‚è‹¥ä½ ä½¿ç”¨ Edge æˆ–å…¶ä»–æµè§ˆå™¨ï¼Œå¯é€‰ç”¨å¾®è½¯æ¨å‡ºçš„  <a href="https://link.juejin.cn?target=https%3A%2F%2Fplaywright.dev%2Fdocs%2Fintro" target="_blank" title="https://playwright.dev/docs/intro" ref="nofollow noopener noreferrer">Playwright</a> ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>åŒæ—¶ï¼Œä¸»æµå‰ç«¯å·¥å…·å·²çº·çº·æä¾› MCP æˆ–çŸ¥è¯†åº“ã€‚ä»¥ Ant Design ä¸ºä¾‹ï¼Œå°†å…¶å®˜æ–¹çŸ¥è¯†åº“ <a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fllms-cn" target="_blank" title="https://ant.design/docs/react/llms-cn" ref="nofollow noopener noreferrer"> LLMs.txt - Ant Design</a> ï¼Œæ·»åŠ åˆ° Cursor çš„æŒ‡å®šä½ç½®ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9140bb9025e4f22897aece9861dd394~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=D2qZCj9mYfR%2Fp8jRgiRg4p8%2Fsjg%3D" alt="image.png" width="100%" loading="lazy"/>
<p>æ·»åŠ åï¼ŒCursor å³å¯åŸºäºå®˜æ–¹æœ€æ–°æ–‡æ¡£æä¾›å‡†ç¡®çš„ç»„ä»¶ä½¿ç”¨å»ºè®®ã€‚</p>
<h3 data-id="heading-15">ä¼˜å…ˆé€‰ç”¨ AI â€œæ“…é•¿â€çš„æŠ€æœ¯æ ˆ</h3>
<p>ä½•ä¸º AI â€œæ“…é•¿â€çš„æŠ€æœ¯æ ˆï¼Ÿç®€å•æ¥è¯´ï¼š<strong>Reactã€TailwindCSS å±äº AI è¡¨ç°ä¼˜å¼‚çš„æŠ€æœ¯æ ˆï¼›å¾®ä¿¡å°ç¨‹åºæ¬¡ä¹‹ï¼›è€Œåƒ Taroã€uni-app è¿™ç±»ä¸€ç å¤šç«¯çš„æ¡†æ¶ï¼Œåˆ™å¾€å¾€æ˜¯ AI çš„å¼±é¡¹ã€‚</strong></p>
<p>å…¶èƒŒåçš„é€»è¾‘åœ¨äºæ•°æ®å¯è§æ€§ï¼š<strong>å¼€æºç”Ÿæ€è¶Šä¸°å¯Œã€ç½‘ç»œå…¬å¼€æ ·æœ¬è¶Šå¤šçš„æŠ€æœ¯ï¼Œå¤§æ¨¡å‹åœ¨è®­ç»ƒæ—¶æ¥è§¦åˆ°çš„ç›¸å…³ä»£ç å°±è¶Šå……åˆ†ï¼Œç”Ÿæˆè´¨é‡è‡ªç„¶æ›´é«˜</strong>ã€‚åä¹‹ï¼Œ<strong>é—­æºã€æ–‡æ¡£ç¨€å°‘çš„åœºæ™¯ï¼ŒAI ç”±äºç¼ºä¹å­¦ä¹ ææ–™ï¼Œè¡¨ç°å¾€å¾€ä¸å°½å¦‚äººæ„</strong>ã€‚</p>
<p>åœ¨å®é™…çš„ Taro é¡¹ç›®ä¸­ï¼Œå½“æˆ‘å°è¯•è®© AI ååŠ©å¤„ç† H5ã€å°ç¨‹åºä¸ RN ä¸‰ç«¯çš„ä»£ç é€‚é…æ—¶ï¼Œå…¶è¡¨ç°ç¡®å®ä»¤äººæ²®ä¸§ã€‚æˆ‘æœ€å¸¸é‡åˆ°çš„çŠ¶å†µæ˜¯ï¼šå¥½ä¸å®¹æ˜“è®© AI ä¿®å¤äº† H5 ç«¯çš„æ ·å¼é”™ä½ï¼Œè½¬å¤´å°±å‘ç°å°ç¨‹åºç«¯å¸ƒå±€å´©æºƒï¼›å½“ RN ç«¯çš„äº¤äº’é—®é¢˜è¢«è§£å†³åï¼ŒH5 ç«¯åˆå‡ºç°äº†æ–°çš„æ¸²æŸ“å¼‚å¸¸ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨ AI Coding æ—¥ç›Šæ™®åŠçš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä¸å¾—ä¸é‡æ–°å®¡è§†å¦‚ Taroã€UniApp ç­‰ä¸€ç å¤šç«¯æ¡†æ¶çš„æ•ˆç‡ç­‰å¼ï¼šå…¶å¸¦æ¥çš„è·¨ç«¯ä¾¿åˆ©ï¼Œæ˜¯å¦è¶³ä»¥æŠµæ¶ˆå›  AI æ”¯æŒè–„å¼±è€Œå¯¼è‡´çš„é¢å¤–ç ”å‘æˆæœ¬ï¼Ÿè¿™ä¸€ç‚¹å€¼å¾—æ·±æ€ã€‚</p>
<p><strong>ç ´å±€ä¹‹é“æˆ–è®¸åœ¨äºæ·±åº¦æ‹¥æŠ± AI ç”Ÿæ€ã€‚å¦‚æœè¿™ç±»æ¡†æ¶èƒ½å®˜æ–¹çš„æ¨å‡ºå¼ºå¤§çš„ MCP æœåŠ¡ï¼Œå°†å…¶å¤šç«¯å·®å¼‚å’Œé…ç½®é€»è¾‘â€œç»“æ„åŒ–â€åœ°æ³¨å…¥ AI çš„è®¤çŸ¥è¿‡ç¨‹ï¼Œå®ƒä»¬å°†æœ‰æ½œåŠ›ä»å½“å‰çš„â€œAI æ´¼åœ°â€è½¬å˜ä¸ºâ€œæ™ºèƒ½è·¨ç«¯â€çš„å…¸èŒƒã€‚</strong></p>
<h3 data-id="heading-16">åç›´è§‰ï¼š0-1ä¸éš¾ï¼Œ1-100 æ›´éš¾ï¼Ÿ</h3>
<p>è¯»è¿‡ä¸å°‘ AI ç¼–ç¨‹æ–‡ç« çš„äººéƒ½ä¼šå‘ç°ï¼Œå¤šæ•°å†…å®¹éƒ½åœ¨å±•ç¤ºå¦‚ä½•ä» 0 åˆ° 1 å¿«é€Ÿæ­å»ºåº”ç”¨ã€‚ä½†å®é™…ä¸Šå­˜åœ¨ä¸€ä¸ªåç›´è§‰çš„çœŸç›¸ï¼š<strong>ç”¨ AI ä» 0 åˆ° 1 å¹¶ä¸éš¾ï¼ŒçœŸæ­£éš¾çš„æ˜¯è®©å®ƒæ¥æ‰‹å’Œç»´æŠ¤å­˜é‡ä»£ç ã€‚</strong></p>
<p>åœ¨æ–°é¡¹ç›®ä¸­ï¼ŒAI é¢å¯¹çš„æ˜¯æ¸…æ™°çš„ä¸Šä¸‹æ–‡å’Œç°ä»£æŠ€æœ¯æ ˆã€‚è€Œåœ¨å­˜é‡ä»£ç ä¸­ï¼Œå®ƒéœ€è¦ç†è§£æ··ä¹±çš„å‘½åã€éšå«çš„ä¸šåŠ¡é€»è¾‘å’Œç‰¹æ®Šçš„å®ç°æ–¹å¼ï¼ŒåŒæ—¶è¦é¿å…â€œä¿®å¤ä¸€ä¸ª bug å¼•å…¥ä¸¤ä¸ªæ–° bugâ€çš„è¿é”ååº”ã€‚è¿™å°±åƒè®©æ–°äººä»å¤´åšé¡¹ç›®ï¼Œè¿œæ¯”è®©ä»–ä¿®æ”¹å¤æ‚çš„è€ç³»ç»Ÿè¦ç®€å•ã€‚</p>
<p>è¦è®© AI æœ‰æ•ˆæ¥æ‰‹å­˜é‡ä»£ç ï¼Œå…³é”®åœ¨äºåƒå¸®åŠ©æ–°äººä¸€æ ·ä¸ºå®ƒæä¾›æ¸…æ™°çš„æŒ‡å¼•ã€‚æ ¸å¿ƒæ–¹æ³•æœ‰äºŒï¼š</p>
<h4 data-id="heading-17">ä¸º AI ä¼˜åŒ–çš„ä»£ç æ³¨é‡Š</h4>
<p>ä¼ ç»Ÿçš„ä¸šåŠ¡èƒŒæ™¯ä»‹ç»å¯¹ AI å¸®åŠ©æœ‰é™ï¼Œåº”è¯¥é‡‡ç”¨æ›´ä»£ç åŒ–çš„æ³¨é‡Šæ–¹å¼ã€‚é¿å…é•¿ç¯‡å¤§è®ºåœ°ä»‹ç»ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ˜¯æ¸…æ™°åœ°æŒ‡å‡ºä»£ç å’Œä¸šåŠ¡ä¹‹é—´çš„å…³ç³»ï¼Œé­”æ³•æ•°å­—çš„å…·ä½“å«ä¹‰ç­‰ã€‚</p>
<p>æ¯”å¦‚ï¼Œä¸è¦å†™â€œè¿™é‡Œæ˜¯ä»·æ ¼è®¡ç®—æ¨¡å—ï¼Œå› ä¸ºå†å²åŸå› éœ€è¦åŒºåˆ†æ–°è€ç”¨æˆ·â€ï¼Œè€Œåº”è¯¥å†™â€œæ–°ç”¨æˆ·(level=1)äº«å—é¦–å•ä¼˜æƒ ï¼Œè€ç”¨æˆ·(level&gt;=2)æŒ‰åŸä»·è®¡ç®—ï¼Œä¼˜æƒ é‡‘é¢å›ºå®šä¸º20â€ã€‚é‡ç‚¹æ³¨é‡Šé­”æ³•æ•°å­—çš„å®é™…å«ä¹‰ã€å¤æ‚æ¡ä»¶åˆ¤æ–­çš„ä¸šåŠ¡èƒŒæ™¯ã€æ¥å£å­—æ®µçš„æ˜ å°„å…³ç³»ç­‰ã€‚</p>
<h4 data-id="heading-18">TypeScript çš„å¤©ç„¶ä¼˜åŠ¿</h4>
<p>åœ¨æ¥æ‰‹ç°æœ‰é¡¹ç›®ä¸Šï¼ŒTypeScript æœ‰ç€å¾—å¤©ç‹¬åšçš„ä¼˜åŠ¿ã€‚ç±»å‹å®šä¹‰ç›¸å½“äºå¼ºåˆ¶å±•ç¤ºäº†ä¸€éä»£ç ç»“æ„ï¼Œå¦‚æœå†åŠ ä¸Šæ¯ä¸ªå˜é‡çš„æ³¨é‡Šï¼Œå°±æ˜¯ç°æˆçš„çŸ¥è¯†åº“ã€‚</p>
<p>é€šè¿‡â€œç²¾å‡†æ³¨é‡Š + å®Œæ•´ç±»å‹â€çš„ç»„åˆï¼Œå³ä½¿æ˜¯æœ€å¤æ‚çš„é—ç•™ä»£ç ï¼ŒAI ä¹Ÿèƒ½å¿«é€Ÿç†è§£å¹¶å®‰å…¨ä¿®æ”¹ï¼ŒçœŸæ­£çªç ´ä» 1 åˆ° 100 çš„ç“¶é¢ˆã€‚</p>
<h2 data-id="heading-19">AI Codingæ—¶ä»£ï¼Œä¼˜ç§€ç ”å‘éœ€è¦å“ªäº›æ–°ç‰¹è´¨ï¼Ÿ</h2>
<p>èŠäº†è¿™ä¹ˆå¤š Cursor çš„å¼ºå¤§è¡¨ç°ï¼Œéš¾å…è®©äººå¿ƒç”Ÿç–‘é—®ï¼šç ”å‘æ˜¯å¦æ­£åœ¨è¢« AI å–ä»£ï¼Ÿæ°æ°ç›¸åï¼Œæˆ‘è®¤ä¸º AI æ­£åœ¨æ€¥å‰§æ‹‰å¤§å¼€å‘è€…ä¹‹é—´çš„èƒ½åŠ›å·®è·ã€‚ä»Šå¹´å‡ ä¹äººäººéƒ½ç”¨ä¸Šäº† AI ç¼–ç¨‹å·¥å…·ï¼Œå¯èƒ½æ˜¯ Cursorï¼Œä¹Ÿå¯èƒ½æ˜¯ Joycodeã€‚ä½†å¦‚æœä½ å» review å›¢é˜Ÿä¸­çš„ä»£ç ï¼Œå°±ä¼šå‘ç°ï¼š<strong>å¼ºè€…çš„ä»£ç å› AIè€Œæ›´ä¼˜ç§€ï¼Œå¼±è€…çš„ä»£ç å› AIè€Œæ›´ç´Šä¹±</strong>ã€‚</p>
<p>ç»“åˆå®è·µä¸­çš„ç»éªŒï¼Œæˆ‘æ€»ç»“äº† AI ç¼–ç æ—¶ä»£ä¸€åä¼˜ç§€å¼€å‘è€…æœ€åº”å…·å¤‡çš„å‡ ç§æ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<h3 data-id="heading-20">1ï¸âƒ£æœ‰è´£ä»»å¿ƒï¼Œåšä»£ç çš„owner</h3>
<p>æ—©æœŸä½¿ç”¨Cursoræ—¶ï¼Œæˆ‘å¸¸å¸¸é™·å…¥ä¸€ç§çŠ¶æ€ï¼š<strong>AIç”Ÿæˆçš„ä»£ç å æ¯”å¤ªé«˜ï¼Œä»¥è‡³äºæˆ‘å¯¹æ–°å¢éƒ¨åˆ†å¤±å»ç†è§£å’ŒæŒæ§ã€‚ä¸€æ—¦è¢«é—®åŠä¸šåŠ¡é€»è¾‘ï¼Œæˆ–æ˜¯å‡ºç°çº¿ä¸Šé—®é¢˜ï¼Œç”šè‡³ä¼šä¸çŸ¥ä»ä½•æŸ¥èµ·ã€‚</strong></p>
<p>è¿™å°±åƒä¸€ä½è‰ºæœ¯å®¶é€šè¿‡AIç”Ÿæˆç”»ä½œï¼Œå¾ˆéš¾åƒå¯¹å¾…è‡ªå·±äº²ç¬”ä½œå“é‚£æ ·çè§†å¹¶è´Ÿè´£ã€‚æˆ‘çš„æ”¹è¿›æ–¹æ¡ˆæ˜¯ï¼š<strong>åœ¨æ¯æ¬¡ Agent å®Œæˆç¼–ç ä¹‹åï¼Œé˜…è¯»å…¶æ”¹åŠ¨æ€»ç»“ï¼›åœ¨æ¯æ¬¡æäº¤å‰ï¼Œä»”ç»†Review Cursorç”Ÿæˆä»£ç çš„Diff</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹å¼ºåˆ¶æˆ‘ç†è§£æ¯ä¸€è¡Œå˜æ›´ï¼Œé‡æ–°å»ºç«‹èµ·å¯¹ä»£ç çš„æŒæ§æ„Ÿã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8181be1902014a38bc5de068b2bb395c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=F2TL1mzI74Zbd6cpTytCCICbBZE%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾ï¼Œé€šå¸¸ cursor åœ¨ä¿®æ”¹å®Œæˆåéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆæ€»ç»“ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡æ·»åŠ  rules æ§åˆ¶ï¼‰ï¼Œå¯ä»¥ç»“åˆæ€»ç»“é˜…è¯» diffã€‚</p>
<h3 data-id="heading-21">2ï¸âƒ£ä»£ç å“å‘³ï¼Œè¶…è¶Šèƒ½è·‘å°±è¡Œ</h3>
<p>AIç”Ÿæˆçš„ä»£ç èƒ½è¿è¡Œã€æµ‹è¯•é€šè¿‡ã€ä¸Šçº¿ä¸å‡ºäº‹æ•…ï¼Œå°±è¶³å¤Ÿäº†å—ï¼Ÿå¦‚æœä½ çš„æŠ€æœ¯è®¤çŸ¥æ°´å¹³åœ¨ AI ä¹‹ä¸‹ï¼Œæ— æ³•åˆ¤æ–­å…¶å®ç°æ˜¯å¦ä¸ºæœ€ä½³å®è·µï¼Œå°±å¯èƒ½åœ¨ç³»ç»Ÿä¸­åŸ‹ä¸‹æ— æ•°éšæ‚£ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸Šå‘¨åœ¨ä½¿ç”¨è®¾è®¡ç¨¿ AI è½¬ä»£ç çš„æ—¶å€™é‡åˆ°è¿‡ä¸€ä»¶äº‹ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abc461788a104621839fcbb797f417b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=9YYUn4hEhc6M9sOlDiWJL567Vc8%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>AI å°†å›¾ä¸­çš„å•†å“åˆ—è¡¨æ‹†åˆ†ä¸ºå¤šè¡Œå¸ƒå±€â€”â€”ä¸€è¡Œå›¾ç‰‡ã€ä¸€è¡Œå•†å“åã€ä¸€è¡Œä»·æ ¼ã€ä¸€è¡ŒæŒ‰é’®ã€‚ç„¶è€Œï¼Œå…·å¤‡å‰ç«¯ç»„ä»¶åŒ–æ€ç»´çš„åŒå­¦ä¸€çœ¼å°±èƒ½çœ‹å‡ºï¼Œæ›´åˆç†çš„åšæ³•æ˜¯å°†å…¶å°è£…ä¸ºç‹¬ç«‹çš„å•†å“å¡ç‰‡ç»„ä»¶è¿›è¡Œå¾ªç¯æ¸²æŸ“ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c41b8a17c8d947af870cab0e46f9ba82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=pGWLMYKV3DxUthRiQnP5qLiirW8%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p>å°½ç®¡ AI çš„äº§å‡ºåœ¨åŠŸèƒ½ä¸Šå¯ä»¥è¿è¡Œï¼Œæµ‹è¯•ã€äº§å“ä¸ç”¨æˆ·ä¹Ÿéš¾ä»¥å¯Ÿè§‰å·®å¼‚ï¼Œä½†è¿™æ ·çš„ç»“æ„ä¸¥é‡ç¼ºä¹å¯å¤ç”¨æ€§ã€‚è‹¥æœªæ¥å…¶ä»–é¡µé¢éœ€è¦å¤ç”¨ç›¸åŒæ ·å¼çš„å•†å“å±•ç¤ºï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸é‡å¤ç¼–å†™æ ·å¼ä¸é€»è¾‘ï¼Œè¿èƒŒäº†ç»„ä»¶åŒ–çš„è®¾è®¡åˆè¡·ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š<strong>åšæŒé˜…è¯»é«˜è´¨é‡çš„ä»£ç ï¼Œæ— è®ºæ˜¯ä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œè¿˜æ˜¯èº«è¾¹åŒäº‹çš„æˆç†Ÿå®ç°</strong>ã€‚é‡åˆ°é—®é¢˜æ—¶ï¼Œä¸å¿…è¿‡åº¦æ²‰æººäºè°ƒè¯•é”™è¯¯å®ç°ï¼Œè€Œåº”ä¸»åŠ¨å­¦ä¹ å¹¶ç†è§£æœ€ä½³å®è·µï¼Œå‹‡äºå¯¹ä¸åˆç†çš„ä»£ç è¿›è¡Œæœæ–­é‡æ„ã€‚ã€‚</p>
<h3 data-id="heading-22">3ï¸âƒ£çŸ¥è¯†å¹¿åº¦ï¼Œåšå¥½æŠ€æœ¯å†³ç­–</h3>
<p>AIåœ¨æ‰§è¡Œæ˜ç¡®ã€å…·ä½“çš„æŒ‡ä»¤æ—¶è¡¨ç°æ›´ä½³ã€‚è¿™è¦æ±‚å¼€å‘è€…æ—¢è¦æœ‰å¹¿æ³›çš„çŸ¥è¯†å‚¨å¤‡ï¼Œåˆè¦èƒ½ç²¾å‡†æè¿°éœ€æ±‚ã€‚<span><strong>ç ”å‘å°±åƒè¡Œæ”¿æ€»å¨ï¼Œè€ŒAIæ˜¯ç²¾é€šå„èœç³»çš„å¨å¸ˆâ€”â€”æ€»å¨å¿…é¡»æ¸…æ¥šåšä»€ä¹ˆèœçš„æ—¶å€™ï¼Œéœ€è¦å¤‡å“ªäº›æ–™ï¼Œä½¿ç”¨å“ªäº›å¨å…·é¤å…·ï¼Œæ‰èƒ½è°ƒåº¦åå¨é«˜æ•ˆäº§å‡ºã€‚</strong></span></p>
<p>ä»¥å‰ç«¯å¼€å‘ä¸ºä¾‹ï¼Œè‹¥èƒ½æ˜ç¡®æŒ‡å®šä½¿ç”¨æŸä¸ªå…·ä½“çš„ JavaScript åº“ï¼ŒAI çš„å“åº”è´¨é‡å°†æ˜¾è‘—æå‡ã€‚ä¾‹å¦‚ï¼Œåœ¨å®ç°â€œå‰ç«¯è§£æ Excel æ–‡ä»¶â€åŠŸèƒ½æ—¶ï¼Œè‹¥ç›´æ¥æç¤º Cursor ä½¿ç”¨ xlsx åº“ï¼Œä»…éœ€äºŒä¸‰åè¡Œä»£ç å³å¯è·å¾—ç›®æ ‡æ•°æ®ç»“æ„ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16cd30267b57407a924da1ab73e06640~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=YRqHnvO1lI96%2Fr2ARZGhNh12wmw%3D" alt="image.png" width="100%" loading="lazy"/>
<p>è€Œè‹¥æœªæä¾›ä»»ä½•æŠ€æœ¯æ ˆæç¤ºï¼ŒAI å¯èƒ½å€¾å‘äºä½¿ç”¨åŸç”Ÿ JS å®ç°ï¼Œä»£ç é‡æ¿€å¢äº”å€ä»¥ä¸Šï¼Œä¸”é€»è¾‘å¤æ‚ã€æœªç»å……åˆ†éªŒè¯ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18ba96b25a644afbbf567a6132bb4e10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VudHJ5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763952594&amp;x-signature=ms1guednLBgIiicEGF6PNE6atO4%3D" alt="image.png" width="100%" loading="lazy"/>
<p>å› æ­¤ï¼Œ<strong>æŒç»­åœ¨æŠ€æœ¯ç¤¾åŒºäº¤æµï¼Œå…³æ³¨ç»å…¸å·¥å…·ä¸å‰æ²¿æ–¹æ¡ˆ</strong>ï¼Œæ˜¯æå‡æŠ€æœ¯å†³ç­–èƒ½åŠ›çš„å…³é”®ã€‚ åªæœ‰æ¸…æ¥šâ€œç”¨ä»€ä¹ˆâ€å’Œâ€œä¸ºä»€ä¹ˆç”¨â€ï¼Œæ‰èƒ½æœ€å¤§é™åº¦åœ°å‘æŒ¥ AI çš„ç¼–ç æ½œåŠ›ã€‚</p>
<h3 data-id="heading-23">4ï¸âƒ£è¡¨è¾¾ç²¾åº¦ï¼Œè¯´ AI å¬å¾—æ‡‚çš„è¯</h3>
<p><strong><span>ä¸€ä¸ªä¸å–„äºä½¿ç”¨æœç´¢å¼•æ“çš„äººï¼Œå¾€å¾€ä¹Ÿéš¾ä»¥é€šè¿‡AIè·å¾—ç†æƒ³ç»“æœã€‚</span></strong> ä»æ¨¡ç³Šçš„éœ€æ±‚åˆ°æ¸…æ™°çš„æç¤ºè¯ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§ç»“æ„åŒ–ä¸æŠ½è±¡èƒ½åŠ›çš„ä½“ç°ã€‚</p>
<p>ç»§ç»­ç”¨è¡Œæ”¿æ€»å¨çš„æ¯”å–»ï¼š<span><strong>å¦‚æœåªè¯´â€œç•ªèŒ„ç‚’è›‹è¦ç”œä¸€ç‚¹â€ï¼Œå¨å¸ˆä¼šå›°æƒ‘â€”â€”æ˜¯åŠ ç³–è¿˜æ˜¯åŠ ç•ªèŒ„é…±ï¼Ÿå¦‚æœèƒ½æ˜ç¡®â€œ300å…‹ç•ªèŒ„é…3ä¸ªé¸¡è›‹ï¼Œéœ€è¦åŠ 5å…‹ç™½ç³–â€ï¼Œäº§å‡ºè´¨é‡å°±æœ‰ä¿éšœã€‚</strong></span></p>
<p>ç²¾å‡†è¡¨è¾¾çš„èƒ½åŠ›ï¼Œä¸ä¸ªäººçŸ¥è¯†å‚¨å¤‡å’Œè¯­è¨€è¡¨è¾¾èƒ½åŠ›ç›¸å…³ï¼Œä¸å¥½ä¸¾ä¾‹è¯´æ˜ã€‚å»ºè®®<strong>æœ‰æ„è¯†åœ°é˜…è¯»å®Œæ•´ä¹¦ç±ã€è§‚çœ‹æœ‰æ·±åº¦çš„é•¿æ’­å®¢</strong>ï¼Œé¿å…è¢«çŸ­è§†é¢‘æ—¶ä»£çš„ç¢ç‰‡åŒ–è¡¨è¾¾å‰Šå¼±è¿™ç§èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-24">å¯¹æœªæ¥çš„å±•æœ›</h2>
<p>ç›®å‰è®¸å¤šå…¬å¸éƒ½åœ¨ä¸šäº§ç ”æµ‹å„ç¯èŠ‚å¤§åŠ›æ¨è¿›â€œ+AIâ€æ—¶ï¼Œæˆ‘ä¸ç¦æ€è€ƒï¼šAI ææ•ˆï¼Œæ˜¯å¦çœŸçš„ç­‰åŒäºåœ¨ç°æœ‰æµç¨‹çš„æ¯ä¸ªç¯èŠ‚ç®€å•å åŠ  AIï¼Ÿ</p>
<p><strong>è¿™è®©æˆ‘æƒ³èµ·ä»åŠŸèƒ½æœºåˆ°æ™ºèƒ½æœºçš„è¿‡æ¸¡æ—¶æœŸï¼šæ—©æœŸçš„è§¦æ‘¸å±è®¾å¤‡ä»ä¿ç•™ç€å¤§é‡å®ä½“æŒ‰é”®ï¼Œæˆ–è€…åœ¨å±å¹•åº•éƒ¨ä¿ç•™äº†è§¦æ‘¸ç‰ˆçš„èœå•é”®å’Œè¿”å›é”®ï¼Œäº¤äº’é€»è¾‘ä»æ˜¯æ—§æ—¶ä»£çš„å»¶ä¼¸ã€‚ç›´åˆ°å¤šå¹´åï¼ŒçœŸæ­£çš„å…¨é¢å±ä¸æ‰‹åŠ¿å¯¼èˆªå‡ºç°ï¼Œæ‰å½»åº•é‡Šæ”¾äº†è§¦æ‘¸äº¤äº’çš„æ½œåŠ›ã€‚</strong></p>
<p><strong><span>æˆ‘ä»¬å½“å‰å¯¹ AI çš„åº”ç”¨ï¼Œæˆ–è®¸æ­£å¤„åœ¨é‚£ä¸ªâ€œä»å¸¦ç€å®ä½“æŒ‰é”®â€çš„é˜¶æ®µã€‚</span></strong> è‹¥åªæ»¡è¶³äºåœ¨åŸæœ‰æµç¨‹ä¸Šâ€œ+AIâ€ï¼Œææ€•éš¾ä»¥è§¦åŠå…¶çœŸæ­£çš„å˜é©æ€§æ½œåŠ›ã€‚AI ä¸åº”ä»…æ˜¯æ•ˆç‡å·¥å…·ï¼Œæ›´åº”æˆä¸ºæµç¨‹é‡æ„ä¸ä½“éªŒé‡å¡‘çš„å‚¬åŒ–å‰‚â€”â€”è€Œè¿™ï¼Œæ‰æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦å…±åŒæ¢ç´¢çš„æ–¹å‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2024å¹´ä½ä»£ç å¼€å‘è¶‹åŠ¿æŠ¥å‘Š]]></title>    <link>https://juejin.cn/post/7572972346073759771</link>    <guid>https://juejin.cn/post/7572972346073759771</guid>    <pubDate>2025-11-17T03:08:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572972346073759771" data-draft-id="7573002274323677230" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2024å¹´ä½ä»£ç å¼€å‘è¶‹åŠ¿æŠ¥å‘Š"/> <meta itemprop="keywords" content="ä½ä»£ç "/> <meta itemprop="datePublished" content="2025-11-17T03:08:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿¡ç ç”±ç¼°"/> <meta itemprop="url" content="https://juejin.cn/user/2110664941509214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2024å¹´ä½ä»£ç å¼€å‘è¶‹åŠ¿æŠ¥å‘Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2110664941509214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿¡ç ç”±ç¼°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:08:35.000Z" title="Mon Nov 17 2025 03:08:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1å°æ—¶+
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://cf-blog.icodebuddy.com/image/87/87-0.jpg" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">æ¬¢è¿ä¿¡</h2>
<p>ä½œè€…ï¼šLucy Marcum, DZoneç»„ç¨¿ç¼–è¾‘</p>
<p>æˆ‘å¶ç„¶è¿›å…¥äº†ç§‘æŠ€ä¸–ç•Œã€‚å°½ç®¡æˆ‘æ¯•ä¸šäºä¸€æ‰€ä»¥å…¶è®¡ç®—æœºç§‘å­¦é¡¹ç›®é—»åçš„å¤§å­¦ï¼Œä½†æˆ‘ä»æœªæƒ³è¿‡è‡ªå·±ä¼šä¸å¼€å‘äººå‘˜ä¸€èµ·å·¥ä½œâ€”â€”ç›´åˆ°æ¯•ä¸šåä¸ä¸€ä½æœ‹å‹è®¨è®ºå¯èƒ½çš„èŒä¸šé“è·¯æ—¶ã€‚ç§‘æŠ€ä¸–ç•Œå¯¹æˆ‘æ¥è¯´æ›¾ç»å¦‚æ­¤é™Œç”Ÿï¼Œä½†åœ¨å¥¹çš„é¼“åŠ±å’Œæˆ‘é‚£ä»¤äººç´§å¼ çš„äººè„‰æ‹“å±•åŠªåŠ›ä¸‹ï¼Œæˆ‘æ‰¾åˆ°äº†åœ¨è¿™ä¸ªè¡Œä¸šçš„ç¬¬ä¸€ä»½å·¥ä½œã€‚</p>
<p>åœ¨æœ€åˆçš„å‡ ä¸ªæœˆé‡Œï¼Œä¸€åˆ‡éƒ½æ„Ÿè§‰æå…¶é™Œç”Ÿã€‚åƒ<strong>Kubernetes</strong>å’Œ<strong>NoSQL</strong>è¿™æ ·çš„æœ¯è¯­è®©æˆ‘å›°æƒ‘ä¸å·²ï¼Œæˆ‘å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ²‰æµ¸åœ¨ç ”ç©¶ä¸­ï¼Œå­¦ä¹ åœ¨æ–°èŒä½ä¸Šå–å¾—æˆåŠŸæ‰€éœ€äº†è§£çš„ä¸€åˆ‡ã€‚</p>
<p>å½“æ—¶æˆ‘æ²¡æœ‰æ„è¯†åˆ°çš„æ˜¯ï¼Œæˆ‘å·²ç»ä»¥ä¸åŒçš„å½¢å¼æ¥è§¦è¿‡è½¯ä»¶å¼€å‘ï¼š<em>ä½ä»£ç å’Œæ— ä»£ç </em>ã€‚ä¸ºäº†å‡ ä¸ªå¤§å­¦é¡¹ç›®ï¼Œæˆ‘ä½¿ç”¨æ— ä»£ç æ„å»ºå™¨åˆ›å»ºç½‘ç«™æ¥å±•ç¤ºç ”ç©¶æˆ–æ¦‚å¿µï¼Œå¶å°”ä¹Ÿæ¶‰è¶³ä»£ç è¿›è¡Œè‡ªå®šä¹‰è°ƒæ•´ï¼ˆåœ¨å¤§é‡æœç´¢ä¹‹åï¼‰ã€‚</p>
<p>ç°åœ¨ï¼Œå³ä½¿å¤šå¹´åå¯¹å¼€å‘æœ‰äº†æ¦‚å¿µæ€§çš„ç†è§£ï¼Œæˆ‘ä»ç„¶ä¸å£°ç§°è‡ªå·±æ˜¯å¼€å‘äººå‘˜ã€‚ä½†æˆ‘ç¡®å®è®¤è¯†åˆ°è®©éå¼€å‘äººå‘˜èƒ½å¤Ÿæ¥è§¦å¼€å‘çš„é‡è¦æ€§ã€‚æ­£å¦‚æˆ‘éœ€è¦åœ¨å·¥ä½œä¸­å‘å…¶ä»–å›¢é˜Ÿå¯»æ±‚å¸®åŠ©ä¸€æ ·ï¼Œå¼€å‘äººå‘˜ä¹Ÿéœ€è¦å¸®åŠ©ã€‚</p>
<p>èµ‹èƒ½éå¼€å‘äººå‘˜å‚ä¸ä¸å…¶ä»»åŠ¡ç›¸å…³çš„å¼€å‘ï¼Œä½¿å¾—å¼€å‘äººå‘˜æœ‰æ—¶é—´ä¸“æ³¨äºèƒ½äº§ç”Ÿæ›´å¤§ç»„ç»‡å½±å“çš„æ›´å¤§é—®é¢˜å’Œé¡¹ç›®ã€‚</p>
<p>å°†æˆ‘æ›¾ä½¿ç”¨çš„æ— ä»£ç å·¥å…·ä¸æŸç§å½¢å¼çš„è½¯ä»¶å¼€å‘è”ç³»èµ·æ¥ï¼Œæ˜¯è®©æˆ‘çš„å·¥ä½œæ„Ÿè§‰æ˜“äºä¸Šæ‰‹çš„å…³é”®ã€‚æˆ‘çŸ¥é“ä½ ä»¬ä¸­çš„è®¸å¤šå¼€å‘äººå‘˜è¯»åˆ°è¿™å„¿å¯èƒ½ç¬‘äº†ï¼Œä½†æœ‰æ—¶ï¼Œæ­£æ˜¯åƒç¬¬ä¸€ä¸ª"é¡¿æ‚Ÿ"æ—¶åˆ»è¿™æ ·çš„å°äº‹ï¼Œèƒ½è®©äººåœ¨æ–°ç¯å¢ƒä¸­æ„Ÿåˆ°èˆ’é€‚ã€‚å¦ä¸€æ–¹é¢ï¼Œå½“å¼€å‘äººå‘˜æ„è¯†åˆ°é€šè¿‡è¿™äº›å·¥å…·æ‰€èƒ½è·å¾—çš„æ”¯æŒæ—¶ï¼Œä»–ä»¬å¯èƒ½ä¼šå‘ç°è‡ªå·±çš„å·¥ä½œæµç¨‹å˜å¾—æ›´åŠ é¡ºç•…é«˜æ•ˆã€‚</p>
<p>åœ¨DZoneçš„ã€Š2024å¹´<em>ä½ä»£ç å¼€å‘</em>è¶‹åŠ¿æŠ¥å‘Šã€‹ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨äº†ä½ä»£ç åœ¨å½“ä»Šå¼€å‘ç¯å¢ƒä¸­çš„é‡è¦æ€§ã€‚ç‰¹åˆ«æ˜¯"ä¸»è¦ç ”ç©¶å‘ç°"éƒ¨åˆ†ï¼Œå›é¡¾äº†é‡‡ç”¨æƒ…å†µã€è‡ªåŠ¨åŒ–ã€AIçš„è§’è‰²ä»¥åŠå¯¹å¼€å‘äººå‘˜çš„å½±å“â€”â€”åŒ…æ‹¬å…³äºè°å¯ä»¥è¢«è§†ä¸ºå¼€å‘äººå‘˜çš„ä¸€ä¸ªä»¤äººæƒŠè®¶çš„æ··åˆååº”ã€‚æœ¬è¶‹åŠ¿æŠ¥å‘Šè¿˜åŒ…æ‹¬DZoneå‡ ä½ä¸“å®¶ç¤¾åŒºæˆå‘˜çš„æ–‡ç« ï¼Œä»–ä»¬è®¨è®ºäº†æœ€ä½³å®è·µã€ä½ä»£ç ä¸AIä¹‹é—´çš„ç•Œé™ã€æ™ºèƒ½æµ‹è¯•ç­–ç•¥ã€å…¬æ°‘å¼€å‘å’Œå¯æ‰©å±•æ€§ã€‚</p>
<p>ç¥ç¼–ç æ„‰å¿«ï¼ˆå„ç§å½¢å¼çš„ç¼–ç ï¼‰ï¼Œ</p>
<p><em>Lucy</em></p>
<blockquote>
<p>Lucy Marcum</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>Lucyè´Ÿè´£DZoneå‡ºç‰ˆç‰©çš„ç»„ç¨¿æµç¨‹å’Œç­–ç•¥ï¼Œä»å¯»æ‰¾æ–°çš„æŠ•ç¨¿äººå’Œç¤¾åŒºæˆå‘˜åˆ°å¼•å¯¼ä»–ä»¬å®Œæˆç¼–è¾‘å®¡æŸ¥ã€‚å¥¹è¿˜ç¼–è¾‘å‡ºç‰ˆç‰©ï¼Œåˆ›å»ºè¶‹åŠ¿æŠ¥å‘Šçš„å„ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¹¶ä¸ç½‘ç«™å†…å®¹å’Œç¤¾åŒºå›¢é˜Ÿåˆä½œã€‚å·¥ä½œä¹‹ä½™ï¼ŒLucyæŠŠæ—¶é—´èŠ±åœ¨é˜…è¯»ã€å†™ä½œã€è·‘æ­¥ä¸Šï¼Œå¹¶åŠªåŠ›ä¸è®©å¥¹çš„çŒ«Oliveå’ŒTiger Lilyæƒ¹éº»çƒ¦ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä¸»è¦ç ”ç©¶å‘ç°</h2>
<p><strong>DZone 2024ä½ä»£ç å¼€å‘è°ƒæŸ¥ç»“æœåˆ†æ</strong></p>
<p><em>ä½œè€…ï¼šG. Ryan Spain, è‡ªç”±è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œå‰DZoneå·¥ç¨‹å¸ˆå…¼ç¼–è¾‘</em></p>
<p>ä½ä»£ç ã€æ— ä»£ç ã€å…¬æ°‘å¼€å‘ã€AIè‡ªåŠ¨åŒ–ã€å¯æ‰©å±•æ€§â€”â€”å¦‚æœä½ åœ¨ç§‘æŠ€ç•Œå·¥ä½œï¼Œä½ å¾ˆå¯èƒ½ä¼šè¢«é¼“åŠ±ä½¿ç”¨è‡³å°‘å…¶ä¸­ä¸€ä¸ªé¢†åŸŸçš„å·¥å…·ã€‚è¿™æ˜¯æœ‰å……åˆ†ç†ç”±çš„ï¼Œå› ä¸ºGartneré¢„æµ‹ï¼Œåˆ°2025å¹´ï¼Œç»„ç»‡å†…å¼€å‘çš„åº”ç”¨ç¨‹åºä¸­æœ‰70%å°†ä½¿ç”¨ä½ä»£ç å’Œ/æˆ–æ— ä»£ç æŠ€æœ¯æ„å»ºã€‚<em>é‚£ä¹ˆï¼Œå®è·µæ˜¯å¦ä¸è´Ÿä¼—æœ›å‘¢ï¼Ÿ</em></p>
<p>å¹´å¤ä¸€å¹´ï¼Œéšç€è¡Œä¸šçš„ä¸æ–­å‘å±•ï¼Œç­”æ¡ˆæ˜¯å“äº®çš„"æ˜¯"ã€‚ç»„ç»‡å¯¹æ›´é¢‘ç¹çš„åº”ç”¨ç¨‹åºå‘å¸ƒå’Œæ›´æ–°çš„éœ€æ±‚å¢åŠ ï¼Œéšä¹‹è€Œæ¥çš„æ˜¯å¯¹æé«˜æ•ˆç‡çš„éœ€æ±‚ã€‚è€Œè¿™æ­£æ˜¯ä½ä»£ç å’Œæ— ä»£ç å¼€å‘å®è·µå¤§æ”¾å¼‚å½©çš„åœ°æ–¹ã€‚å°†AIè‡ªåŠ¨åŒ–èå…¥ä½ä»£ç å’Œæ— ä»£ç å¼€å‘ä¸­ï¼Œå¯æ‰©å±•æ€§å’Œæœºé‡æ˜¯æ— é™çš„ã€‚</p>
<p>äº”æœˆï¼ŒDZoneå¯¹è½¯ä»¶å¼€å‘äººå‘˜ã€æ¶æ„å¸ˆå’Œå…¶ä»–ITä¸“ä¸šäººå£«è¿›è¡Œäº†è°ƒæŸ¥ï¼Œæ—¨åœ¨æ·±å…¥äº†è§£ä½ä»£ç å¼€å‘åœ¨è½¯ä»¶å¼€å‘é¢†åŸŸçš„ç°çŠ¶ã€‚</p>
<p>åœ¨è¿™äº›å‘ç°ä¸­ï¼Œæˆ‘ä»¬è€ƒå¯Ÿäº†å¼€å‘äººå‘˜å¯¹ä½ä»£ç å’Œæ— ä»£ç å¼€å‘çš„çœ‹æ³•ã€ä»–ä»¬ä½¿ç”¨å’Œåˆ©ç”¨ä½ä»£ç å·¥å…·çš„æ–¹å¼ï¼Œä»¥åŠä»–ä»¬å¯¹ä½ä»£ç å½±å“è½¯ä»¶å¼€å‘çš„ç»éªŒã€‚</p>
<h3 data-id="heading-2">æ–¹æ³•</h3>
<p>æˆ‘ä»¬åˆ›å»ºäº†ä¸€é¡¹è°ƒæŸ¥ï¼Œå¹¶å°†å…¶åˆ†å‘ç»™å…¨çƒçš„è½¯ä»¶ä¸“ä¸šäººå£«ã€‚é—®é¢˜æ ¼å¼ä¸»è¦åŒ…æ‹¬å•é¡¹å’Œå¤šé¡¹é€‰æ‹©ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æä¾›å¡«å†™å›ç­”çš„é€‰é¡¹ã€‚æœ¬æ¬¡è°ƒæŸ¥é€šè¿‡ç”µå­é‚®ä»¶åˆ†å‘ç»™DZoneå’ŒTechnologyAdviceçš„æ³¨å†Œè®¢é˜…ç”¨æˆ·åˆ—è¡¨ï¼ŒåŒæ—¶åœ¨DZoneå®˜ç½‘ã€DZone Core Slackå·¥ä½œåŒºåŠå„ç¤¾äº¤åª’ä½“æ¸ é“è¿›è¡Œäº†æ¨å¹¿ã€‚</p>
<p>æœ¬æŠ¥å‘Šçš„æ•°æ®æ”¶é›†è‡ª2024å¹´5æœˆ3æ—¥è‡³2024å¹´5æœˆ23æ—¥æœŸé—´æäº¤çš„è°ƒæŸ¥å›å¤ï¼›æˆ‘ä»¬æ”¶é›†äº†228ä»½å®Œæ•´å’Œéƒ¨åˆ†å›å¤ã€‚</p>
<h3 data-id="heading-3">æ ·æœ¬ç‰¹å¾</h3>
<p>æˆ‘ä»¬åœ¨ä¸‹é¢æ³¨æ˜äº†æŸäº›å…³é”®çš„å—ä¼—ç»†èŠ‚ï¼Œä»¥ä¾¿å¯¹å¾—å‡ºç»“æœçš„æ ·æœ¬å»ºç«‹æ›´ç‰¢å›ºçš„å°è±¡ï¼š</p>
<ul>
<li>
<p>29%çš„å—è®¿è€…å°†å…¶åœ¨ç»„ç»‡ä¸­çš„ä¸»è¦è§’è‰²æè¿°ä¸º"å¼€å‘äººå‘˜/å·¥ç¨‹å¸ˆ"ï¼Œ18%æè¿°ä¸º"æŠ€æœ¯æ¶æ„å¸ˆ"ï¼Œ14%æè¿°ä¸º"å¼€å‘å›¢é˜Ÿè´Ÿè´£äºº"ï¼Œ10%æè¿°ä¸º"é¡¾é—®/è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ"ã€‚æˆ‘ä»¬æä¾›çš„å…¶ä»–è§’è‰²å‡æœªè¢«è¶…è¿‡10%çš„å—è®¿è€…é€‰æ‹©ã€‚*</p>
</li>
<li>
<p>70%çš„å—è®¿è€…è¡¨ç¤ºä»–ä»¬ç›®å‰æ­£åœ¨å¼€å‘"Webåº”ç”¨ç¨‹åº/æœåŠ¡ï¼ˆSaaSï¼‰"ï¼Œ54%è¡¨ç¤º"ä¼ä¸šä¸šåŠ¡åº”ç”¨ç¨‹åº"ï¼Œ27%è¡¨ç¤º"åŸç”Ÿç§»åŠ¨åº”ç”¨"ã€‚</p>
</li>
<li>
<p>"Java"ï¼ˆ72%ï¼‰æ˜¯å—è®¿è€…å…¬å¸ä½¿ç”¨çš„æœ€æµè¡Œçš„è¯­è¨€ç”Ÿæ€ç³»ç»Ÿï¼Œå…¶æ¬¡æ˜¯"JavaScriptï¼ˆå®¢æˆ·ç«¯ï¼‰"ï¼ˆ54%ï¼‰ã€"Python"ï¼ˆ53%ï¼‰ã€"Node.jsï¼ˆæœåŠ¡å™¨ç«¯JavaScriptï¼‰"ï¼ˆ45%ï¼‰ã€"TypeScript"ï¼ˆ41%ï¼‰å’Œ"C#"ï¼ˆ30%ï¼‰ã€‚</p>
</li>
<li>
<p>å…³äºå—è®¿è€…å·¥ä½œä¸­ä½¿ç”¨çš„ä¸»è¦è¯­è¨€çš„å›ç­”ï¼Œæœ€æµè¡Œçš„æ˜¯"Java"ï¼ˆ37%ï¼‰ï¼Œå…¶æ¬¡æ˜¯"Python"ï¼ˆ17%ï¼‰ã€"C#"ï¼ˆ7%ï¼‰å’Œ"Go"ï¼ˆ6%ï¼‰ã€‚å…¶ä»–è¯­è¨€çš„é€‰æ‹©ç‡å‡æœªè¶…è¿‡5%ã€‚</p>
</li>
<li>
<p>å¹³å‡è€Œè¨€ï¼Œå—è®¿è€…è¡¨ç¤ºä»–ä»¬æ‹¥æœ‰17.99å¹´çš„ITä¸“ä¸šäººå£«ç»éªŒï¼Œä¸­ä½æ•°ä¸º18å¹´ã€‚</p>
</li>
<li>
<p>35%çš„å—è®¿è€…åœ¨å‘˜å·¥äººæ•°&lt;100çš„ç»„ç»‡å·¥ä½œï¼Œ25%åœ¨å‘˜å·¥äººæ•°100-999çš„ç»„ç»‡å·¥ä½œï¼Œ38%åœ¨å‘˜å·¥äººæ•°1000+çš„ç»„ç»‡å·¥ä½œã€‚</p>
</li>
</ul>
<p><em>æ³¨ï¼šä¸ºç®€æ´èµ·è§ï¼Œåœ¨æœ¬å‘ç°æŠ¥å‘Šçš„å…¶ä½™éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ¯è¯­"å¼€å‘äººå‘˜"æˆ–"å¼€å‘è€…"æ¥æŒ‡ä»£ä»»ä½•ç§¯æå‚ä¸è½¯ä»¶åˆ›å»ºå’Œå‘å¸ƒçš„äººå‘˜ï¼Œæ— è®ºå…¶è§’è‰²æˆ–å¤´è¡”å¦‚ä½•ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å°†"å°å‹"ç»„ç»‡å®šä¹‰ä¸ºå‘˜å·¥äººæ•°&lt;100ï¼Œ"ä¸­å‹"ç»„ç»‡å®šä¹‰ä¸ºå‘˜å·¥äººæ•°100-999ï¼Œ"å¤§å‹"ç»„ç»‡å®šä¹‰ä¸ºå‘˜å·¥äººæ•°1000+ã€‚</em></p>
<h3 data-id="heading-4">ä¸»è¦ç ”ç©¶ç›®æ ‡</h3>
<p>åœ¨æˆ‘ä»¬çš„2024å¹´ä½ä»£ç å¼€å‘è°ƒæŸ¥ä¸­ï¼Œæˆ‘ä»¬æ—¨åœ¨æ”¶é›†ä¸ä»¥ä¸‹ä¸»è¦ç ”ç©¶ç›®æ ‡ç›¸å…³çš„å„ç§ä¸»é¢˜çš„æ•°æ®ï¼š</p>
<ul>
<li>
<p>å¼€å‘äººå‘˜å¯¹ä½ä»£ç çš„æ„Ÿå—</p>
</li>
<li>
<p>å¼€å‘äººå‘˜å¦‚ä½•ä½¿ç”¨ä½ä»£ç æˆ–ä¸ä½ä»£ç äº¤äº’</p>
</li>
<li>
<p>ä½ä»£ç å¯¹å¼€å‘å’Œè½¯ä»¶è´¨é‡çš„å½±å“</p>
</li>
</ul>
<p>åœ¨æœ¬æŠ¥å‘Šä¸­ï¼Œæˆ‘ä»¬å›é¡¾äº†ä¸€äº›å…³é”®çš„ç ”ç©¶å‘ç°ã€‚è®¸å¤šæ„Ÿå…´è¶£çš„æ¬¡è¦å‘ç°æœªåŒ…å«åœ¨æ­¤å¤„ã€‚</p>
<h4 data-id="heading-5">ç ”ç©¶ç›®æ ‡ä¸€ï¼šå¼€å‘äººå‘˜å¯¹ä½ä»£ç çš„æ„Ÿå—</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æƒ³çœ‹çœ‹å¼€å‘äººå‘˜å¯¹ä½ä»£ç é‡‡ç”¨å¦‚ä½•èå…¥æ•´ä½“å¼€å‘æ ¼å±€çš„çœ‹æ³•ï¼Œä½ä»£ç å¦‚ä½•å½±å“å¼€å‘è¿‡ç¨‹ï¼Œä»¥åŠä»–ä»¬è®¤ä¸ºä½ä»£ç åœ¨å“ªäº›æ–¹é¢ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¯ä»¥è¡¨ç°å‡ºè‰²ã€‚æˆ‘ä»¬è¿˜æ—¨åœ¨æ‰¾å‡ºå‚ä¸è°ƒæŸ¥çš„å¼€å‘äººå‘˜ç±»å‹ï¼Œæ— è®ºæ˜¯å‰ç«¯ã€åç«¯ã€å…¨æ ˆè¿˜æ˜¯å…¬æ°‘å¼€å‘è€…ã€‚</p>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ¢è®¨ï¼š</p>
<ul>
<li>
<p>å—è®¿è€…å¦‚ä½•æè¿°è‡ªå·±ä½œä¸ºå¼€å‘äººå‘˜</p>
</li>
<li>
<p>å¼€å‘äººå‘˜æ˜¯å¦è®¤ä¸º"æ— ä»£ç "æ˜¯"ä½ä»£ç "çš„å­é›†</p>
</li>
<li>
<p>å¼€å‘äººå‘˜æ˜¯å¦è®¤ä¸ºä½ä»£ç ç”¨æˆ·ä¹Ÿæ˜¯"å¼€å‘äººå‘˜"</p>
</li>
<li>
<p>å¼€å‘äººå‘˜å…³äºä½ä»£ç å¹³å°å¦‚ä½•å½±å“å¼€å‘è¿‡ç¨‹çš„çœ‹æ³•</p>
</li>
<li>
<p>å¼€å‘äººå‘˜è®¤ä¸ºå“ªäº›ç”¨ä¾‹æœ€é€‚åˆä½ä»£ç </p>
</li>
</ul>
<h5 data-id="heading-6">å—è®¿è€…å¦‚ä½•æè¿°è‡ªå·±ä½œä¸ºå¼€å‘äººå‘˜</h5>
<p>ä»"AWSè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ"åˆ°"Zapierå·¥ç¨‹å¸ˆ"ï¼Œä¸–ç•Œä¸Šè½¯ä»¶ä¸“ä¸šäººå£«çš„ç§ç±»æ¯”æˆ‘ä»¬å¯èƒ½å¼€å§‹åˆ—ä¸¾çš„è¿˜è¦å¤šï¼Œä¸€ä¸ªå¼€å‘äººå‘˜å¯èƒ½ä¼šæ ¹æ®ä»–ä»¬å½“å‰æ­£åœ¨è¿›è¡Œçš„é¡¹ç›®ã€ä»–ä»¬æ­£åœ¨ä¸è°äº¤è°ˆã€ä»–ä»¬å¸Œæœ›æ·±å…¥æ¢è®¨å…¶è§’è‰²ç»†èŠ‚çš„ç¨‹åº¦ç­‰ï¼Œå£°ç§°è‡ªå·±å±äºä»»ä½•æ•°é‡çš„ITç›¸å…³ç±»åˆ«ã€‚å°½ç®¡å¦‚æ­¤ï¼Œæ‹¥æœ‰æŸäº›å¹¿æ³›çš„ç±»åˆ«æ¥å¯¹æˆ‘ä»¬è‡ªå·±è¿›è¡Œåˆ†ç»„å¯èƒ½æ˜¯æœ‰ç”¨çš„â€”â€”ä¸ä»…æ˜¯ä¸ºäº†ä¾¿äºæ¾„æ¸…ï¼Œä¹Ÿæ˜¯ä¸ºäº†åº†ç¥ç›¸ä¼¼æ€§å’Œæ¬£èµå·®å¼‚æ€§ã€‚</p>
<p>åœ¨æˆ‘ä»¬çš„è°ƒæŸ¥ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ˜ç¡®åŒºåˆ†çš„ä¸€ä¸ªåˆ†ç±»æ˜¯å—è®¿è€…åœ¨å°‘æ•°å‡ ä¸ª"è§’è‰²"ä¹‹é—´çš„è‡ªæˆ‘è®¤åŒï¼š"å‰ç«¯"ã€"åç«¯"ã€"å…¨æ ˆ"å’Œ"å…¬æ°‘"å¼€å‘è€…ã€‚æˆ‘ä»¬ä»è¿™é‡Œå¼€å§‹ï¼Œä¸æ˜¯å› ä¸ºç»“æœæœ¬èº«è¯´æ˜äº†å¼€å‘äººå‘˜å¯¹ä½ä»£ç çš„æ„Ÿå—ï¼Œè€Œæ˜¯å› ä¸ºæˆ‘ä»¬å°†åœ¨è¿™äº›å‘ç°ä¸­æŒç»­å¼•ç”¨è¿™äº›æ•°æ®ã€‚æˆ‘ä»¬è¯¢é—®å—è®¿è€…ï¼š</p>
<p><em>æ‚¨ä¼šå¦‚ä½•æœ€å¥½åœ°æè¿°è‡ªå·±ï¼Ÿ</em></p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾1.</strong> è‡ªæˆ‘æè¿°çš„å¼€å‘äººå‘˜ç±»å‹ [n=220]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-1.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>åç«¯å¼€å‘è€…ï¼š39%</p>
</li>
<li>
<p>å…¨æ ˆå¼€å‘è€…ï¼š37%</p>
</li>
<li>
<p>å…¶ä»–ï¼Œè¯·å¡«å†™ï¼š14%</p>
</li>
<li>
<p>å…¬æ°‘å¼€å‘è€…ï¼š7%</p>
</li>
<li>
<p>å‰ç«¯å¼€å‘è€…ï¼š3%</p>
</li>
</ul>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>
<p>è€ƒè™‘åˆ°æˆ‘ä»¬å…¸å‹çš„ä¼ä¸šå¼€å‘äººå‘˜å—ä¼—ï¼Œç»å¤§å¤šæ•°å—è®¿è€…å°†è‡ªå·±æè¿°ä¸º"åç«¯å¼€å‘è€…"ï¼ˆ39%ï¼‰æˆ–"å…¨æ ˆå¼€å‘è€…"ï¼ˆ37%ï¼‰å¹¶ä¸å¥‡æ€ªï¼Œå…¶ä¸­7%å°†è‡ªå·±æè¿°ä¸º"å…¬æ°‘å¼€å‘è€…"ï¼Œåªæœ‰3%å°†è‡ªå·±æè¿°ä¸º"å‰ç«¯å¼€å‘è€…"ã€‚14%çš„å—è®¿è€…é€‰æ‹©äº†"å…¶ä»–ï¼Œè¯·å¡«å†™"ï¼Œå¡«å†™é€‰é¡¹åŒ…æ‹¬"æ¶æ„å¸ˆ"ã€"ç»ç†"ã€"æ•°æ®å·¥ç¨‹å¸ˆ"å’Œ"æµ‹è¯•å·¥ç¨‹å¸ˆ"ã€‚</p>
</li>
<li>
<p>è¿™äº›ç»“æœä¸æˆ‘ä»¬2023å¹´Webã€ç§»åŠ¨å’Œä½ä»£ç å¼€å‘è°ƒæŸ¥æ”¶é›†çš„ç»“æœéå¸¸ç›¸ä¼¼ã€‚"åç«¯å¼€å‘è€…"çš„å›å¤ç‡ä¸2023å¹´ç›¸æ¯”ä¿æŒä¸å˜ï¼Œ"å‰ç«¯å¼€å‘è€…"å’Œ"å…¬æ°‘å¼€å‘è€…"çš„å›å¤ç‡å˜åŒ–åœ¨ç»Ÿè®¡ä¸Šä¸æ˜¾è‘—ã€‚"å…¨æ ˆå¼€å‘è€…"çš„å›å¤ç‡ç•¥æœ‰ä¸‹é™ï¼ŒåŒæ—¶é€‰æ‹©"å…¶ä»–ï¼Œè¯·å¡«å†™"é€‰é¡¹çš„å—è®¿è€…æœ‰æ‰€å¢åŠ ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬é¢„è®¡è¿™äº›è½»å¾®çš„é€å¹´å˜åŒ–å½’å› äºæ ·æœ¬ç‰¹å¾çš„å˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œå»å¹´38%çš„å—è®¿è€…å°†å…¶åœ¨ç»„ç»‡ä¸­çš„ä¸»è¦è§’è‰²æè¿°ä¸º"å¼€å‘äººå‘˜/å·¥ç¨‹å¸ˆ"ï¼Œè€Œä»Šå¹´ä¸º29%ï¼‰ä»¥åŠæ™®éå­˜åœ¨çš„æŠ—æ‹’"æŠŠè‡ªå·±æ¡†å®š"çš„å¿ƒæ€ã€‚æŒ‰å¹´ä»½åˆ’åˆ†çš„ç»“æœè¯¦æƒ…è§è¡¨1ã€‚</p>
</li>
</ul>
<p><strong>è¡¨1.</strong> è‡ªæˆ‘æè¿°çš„å¼€å‘äººå‘˜ç±»å‹ï¼š2023å¹´ vs. 2024å¹´</p>
<p>| å¼€å‘äººå‘˜ç±»å‹ | 2023 | 2024 |</p>
<p>| :--- | :--- | :--- |</p>
<p>| åç«¯ | 39% | 39% |</p>
<p>| å…¨æ ˆ | 45% | 37% |</p>
<p>| å…¬æ°‘ | 3% | 7% |</p>
<p>| å‰ç«¯ | 8% | 3% |</p>
<p>| å…¶ä»– | 4% | 14% |</p>
<ul>
<li>
<p>å°±å…¶æœ¬èº«è€Œè¨€ï¼Œä»è¿™ä¸ªé—®é¢˜çš„å›ç­”æ”¶é›†çš„æ•°æ®è¡¨æ˜â€”â€”æ¯«ä¸å¥‡æ€ªâ€”â€”ä¼ä¸šä¸­<strong>å¾ˆå°‘</strong>æœ‰è½¯ä»¶ä¸“ä¸šäººå£«è®¤ä¸ºè‡ªå·±æ˜¯å…¬æ°‘å¼€å‘è€…ã€‚é€å¹´çš„ç»“æœå¯èƒ½é¢„ç¤ºç€æœªæ¥ä¼ä¸šè½¯ä»¶ä¸­å…¬æ°‘å¼€å‘è€…æ•°é‡çš„å¢é•¿ï¼Œä½†å³ä½¿å¦‚æ­¤ï¼Œä¼¼ä¹åœ¨æœªæ¥è®¸å¤šå¹´ä¹Ÿä¸å¤ªå¯èƒ½å‡ºç°æ˜¾è‘—å¢é•¿ã€‚æ­£å¦‚æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ï¼Œè¿™ä¸ªé—®é¢˜çš„ç»“æœä¸»è¦æ˜¯åœ¨ç”¨äºæŒ‰å¼€å‘äººå‘˜ç±»å‹ç»†åˆ†å…¶ä»–å›ç­”æ—¶æ‰å¼•èµ·å…´è¶£ã€‚ç”±äº"å…¬æ°‘"ã€"å‰ç«¯"å’Œ"å¡«å†™"é€‰é¡¹çš„å›å¤ç‡è¾ƒä½ï¼Œåœ¨æœ¬å‘ç°æŠ¥å‘Šçš„å‰©ä½™éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸ªé—®é¢˜å›ç­”åˆ†ç»„ä¸º"åç«¯"ã€"å…¨æ ˆ"å’Œ"éåç«¯/å…¨æ ˆ"ã€‚</p>
</li>
</ul>
<h5 data-id="heading-7">ä½ä»£ç ã€æ— ä»£ç ä¸"å¼€å‘äººå‘˜"å¤´è¡”</h5>
<p>å¼€å‘äººå‘˜å¯èƒ½éå¸¸ä¿æŠ¤ä»–ä»¬çš„æŠ€èƒ½ç»„åˆï¼Œå¹¶è­¦æƒ•é‚£äº›ä»–ä»¬è®¤ä¸ºè¯•å›¾åœ¨æ²¡æœ‰é€‚å½“è€ƒè™‘è½¯ä»¶åˆ›å»ºæ‰€æœ‰æ–¹é¢çš„æƒ…å†µä¸‹å¼ºè¡Œè¿›å…¥å¼€å‘é¢†åŸŸçš„äººã€‚é€šå¸¸ï¼Œè¿™äº›æ„Ÿè§‰å¹¶éæºäºè¯•å›¾è®¾é™ï¼Œè€Œæ˜¯æºäºåˆ¶ä½œæ‹™åŠ£çš„è½¯ä»¶å¯èƒ½äº§ç”Ÿæ·±è¿œçš„åæœã€‚</p>
<p>æ„å»ºä¸€ä¸ªå®ç°é¢„æœŸç›®æ ‡çš„å‡½æ•°ä¸ä¸€å®šå›°éš¾ï¼Œä½†ç†è§£è¯¥å‡½æ•°å¯¹ç³»ç»Ÿç¨³å®šæ€§ã€æ€§èƒ½å’Œå®‰å…¨æ€§å½±å“åˆ™å®Œå…¨æ˜¯å¦ä¸€å›äº‹ï¼Œæ›´ä¸ç”¨è¯´æ¦‚å¿µåŒ–è¯¥å‡½æ•°åœ¨æœªæ¥ç³»ç»Ÿæ‰©å±•æ—¶çš„éœ€æ±‚å’Œå½±å“äº†ã€‚å› æ­¤ï¼Œä½ä»£ç å¯¹äºä¸€äº›å¼€å‘äººå‘˜æ¥è¯´å¯èƒ½æ˜¯ä¸€ä¸ªæœ‰äº‰è®®çš„è¯é¢˜ï¼Œä¸ºäº†äº†è§£æ›´å¤šä»–ä»¬çš„çœ‹æ³•ï¼Œæˆ‘ä»¬è¯¢é—®ï¼š</p>
<p>*æ‚¨ä¸ªäººæ˜¯å¦è®¤ä¸º"æ— ä»£ç "å¼€å‘æ˜¯"ä½ä»£ç "å¼€å‘çš„ä¸€ä¸ªå­é›†ï¼Ÿ</p>
<p>åŒæ„/ä¸åŒæ„ï¼š"å¼€å‘äººå‘˜"å¤´è¡”ä¹Ÿåº”é€‚ç”¨äºä»…ä½¿ç”¨ä½ä»£ç å·¥å…·åˆ›å»ºåº”ç”¨ç¨‹åºä¸”å¯èƒ½ä»æœªè‡ªå·±ç¼–å†™ä»»ä½•ä»£ç çš„äººã€‚*</p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾2.</strong> "æ— ä»£ç "æ˜¯"ä½ä»£ç "å—ï¼Ÿ[n=219]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-2.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æ˜¯ï¼š53%</p>
</li>
<li>
<p>å¦ï¼š32%</p>
</li>
<li>
<p>æ— æ„è§ï¼š16%</p>
</li>
</ul>
<p><strong>å›¾3.</strong> ä¸¥æ ¼ä½¿ç”¨ä½ä»£ç çš„ç”¨æˆ·åº”è¯¥æ‹¥æœ‰"å¼€å‘äººå‘˜"å¤´è¡”å—ï¼Ÿ[n=210]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-3.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>ä¸­ç«‹ï¼š28%</p>
</li>
<li>
<p>ä¸åŒæ„ï¼š20%</p>
</li>
<li>
<p>åŒæ„ï¼š19%</p>
</li>
<li>
<p>éå¸¸ä¸åŒæ„ï¼š17%</p>
</li>
<li>
<p>éå¸¸åŒæ„ï¼š16%</p>
</li>
</ul>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>
<p>å¤§çº¦ä¸€åŠçš„å—è®¿è€…ï¼ˆ53%ï¼‰è®¤ä¸ºæ— ä»£ç å±äºä½ä»£ç èŒƒç•´ï¼Œè€Œ32%è®¤ä¸ºè¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯åˆ†å¼€çš„ï¼Œ16%å¯¹æ­¤äº‹æ²¡æœ‰æ„è§ã€‚</p>
</li>
<li>
<p>å¤§çº¦ç›¸åŒæ¯”ä¾‹çš„åç«¯å¼€å‘è€…å’Œå…¨æ ˆå¼€å‘è€…è®¤ä¸ºæ— ä»£ç æ˜¯ä½ä»£ç çš„å­é›†ï¼Œå°½ç®¡åç«¯å¼€å‘è€…æ¯”å…¨æ ˆå¼€å‘è€…æ›´å¯èƒ½"æ— æ„è§"ï¼Œå¹¶ä¸”æ¯”å…¨æ ˆå¼€å‘è€…æ›´ä¸å¯èƒ½å›ç­”ä»–ä»¬ä¸è®¤ä¸ºæ— ä»£ç æ˜¯ä½ä»£ç çš„ä¸€éƒ¨åˆ†ã€‚éåç«¯/å…¨æ ˆå¼€å‘è€…æœ€å¯èƒ½è®¤ä¸ºæ— ä»£ç åŒ…å«åœ¨ä½ä»£ç ä¸­ï¼Œå¹¶ä¸”æœ€ä¸å¯èƒ½å›ç­”"æ— æ„è§"ã€‚è¿™äº›ç»“æœçš„è¯¦ç»†ä¿¡æ¯è§è¡¨2ã€‚</p>
</li>
</ul>
<p><strong>è¡¨2.</strong> "æ— ä»£ç "æ˜¯"ä½ä»£ç "å—ï¼Ÿï¼ˆæŒ‰å¼€å‘äººå‘˜ç±»å‹ç»†åˆ†ï¼‰*</p>
<p>| å›å¤ | å¼€å‘äººå‘˜ç±»å‹ |</p>
<p>| :--- | :--- | :--- | :--- |</p>
<p>| | åç«¯ | å…¨æ ˆ | éåç«¯/å…¨æ ˆ |</p>
<p>| æ˜¯ | 49% | 51% | 62% |</p>
<p>| å¦ | 28% | 36% | 31% |</p>
<p>| æ— æ„è§ | 22% | 14% | 8% |</p>
<p><em>*åˆ—ä¸ºç™¾åˆ†æ¯”</em></p>
<ul>
<li>
<p>åœ¨åé¢çš„å‘ç°ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†è¡¨æ˜å…¨æ ˆå¼€å‘è€…æ¯”åç«¯å¼€å‘è€…æ›´é¢‘ç¹åœ°ä½¿ç”¨ä½ä»£ç çš„æ•°æ®ã€‚é‚£ä¹ˆï¼Œå…¨æ ˆå¼€å‘è€…å¯¹"ä½ä»£ç "å’Œ"æ— ä»£ç "åŒºåˆ†æ›´æ˜ç¡®çš„çœ‹æ³•ï¼Œå¯èƒ½åŸºäºè¿™ç§é¢å¤–çš„ç†Ÿæ‚‰åº¦ã€‚ä¹Ÿè®¸ä»–ä»¬çš„ç»éªŒè¡¨æ˜ï¼Œ"æ— ä»£ç "è§£å†³æ–¹æ¡ˆé€šå¸¸æ¯”"ä½ä»£ç "å¹³å°æä¾›æ›´å°‘çš„çµæ´»æ€§å’Œå®šåˆ¶åŒ–ï¼Œè€Œä½ä»£ç å¹³å°å…è®¸å¼€å‘è€…æ ¹æ®éœ€è¦<em>æ‰©å±•å’Œå®šåˆ¶åº”ç”¨ç¨‹åº</em>ã€‚</p>
</li>
<li>
<p>å—è®¿è€…å¯¹äºæ˜¯å¦åº”å°†å¯èƒ½ä»æœªç¼–å†™ä»»ä½•å®é™…ä»£ç çš„ä½ä»£ç å·¥å…·ç”¨æˆ·è§†ä¸º"å¼€å‘äººå‘˜"å­˜åœ¨ç›¸å½“åˆ†æ­§ï¼šå¤§çº¦ä¸‰åˆ†ä¹‹ä¸€çš„å—è®¿è€…å€¾å‘äºåŒæ„è¿™ä¸€è§‚ç‚¹ï¼ˆ35%ï¼‰ï¼Œå¤§çº¦ä¸‰åˆ†ä¹‹ä¸€ä¸åŒæ„ï¼ˆ37%ï¼‰ï¼Œå¤§çº¦ä¸‰åˆ†ä¹‹ä¸€ä¿æŒä¸­ç«‹ï¼ˆ28%ï¼‰ã€‚åç«¯å¼€å‘è€…æ¯”å…¨æ ˆå·¥ç¨‹å¸ˆæ›´å¯èƒ½ä¸åŒæ„æˆ–å¼ºçƒˆä¸åŒæ„è¿™ç±»ä½ä»£ç ç”¨æˆ·åº”è¢«ç§°ä¸º"å¼€å‘äººå‘˜"ï¼ˆ44% vs 32%ï¼‰ï¼Œè€Œå…¨æ ˆå¼€å‘è€…æ¯”åç«¯å¼€å‘è€…æ›´å¯èƒ½åŒæ„æˆ–å¼ºçƒˆåŒæ„ï¼ˆ39% vs 28%ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-8">ä½ä»£ç  vs. å…¨ä»£ç ï¼šå…³äºå¼€å‘è¿‡ç¨‹çš„çœ‹æ³•</h5>
<p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ä»£ç å’Œå…¨ä»£ç çš„è½¯ä»¶åˆ›å»ºæ–¹æ³•å¯èƒ½è¢«è§†ä¸ºæ—¨åœ¨å®ç°ç›¸åŒç›®æ ‡çš„ä¸¤ç§æ–¹æ³•ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œä½ä»£ç å·¥å…·å¯èƒ½è¢«è®¤ä¸ºé€‚ç”¨äºæŸäº›ç›®æ ‡ï¼Œè€Œå…¨ä»£ç å¼€å‘é€‚ç”¨äºå…¶ä»–ç›®æ ‡ã€‚æˆ‘ä»¬æƒ³çŸ¥é“å¼€å‘äººå‘˜å¯¹äºä½¿ç”¨ä½ä»£ç å·¥å…·åˆ›å»ºçš„è½¯ä»¶ä¸å®Œå…¨ç¼–ç çš„è½¯ä»¶åœ¨å¤æ‚æ€§ã€å¯é‡ç”¨æ€§å’Œå¼€å‘æ˜“ç”¨æ€§æ–¹é¢çš„æ ¹æœ¬å·®å¼‚çš„çœ‹æ³•ï¼Œå› æ­¤æˆ‘ä»¬æå‡ºäº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p>*æ‚¨è®¤ä¸ºä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºçš„åº”ç”¨ç¨‹åºç›¸å¯¹äºå®Œå…¨ç”¨ä»£ç ç¼–å†™çš„åº”ç”¨ç¨‹åºåº”è¯¥æœ‰å¤šå¤æ‚ï¼Ÿ</p>
<p>åœ¨æ‚¨çœ‹æ¥ï¼Œè°ƒè¯•ä½ä»£ç åº”ç”¨ç¨‹åºæˆ–ä¸ä½ä»£ç åº”ç”¨ç¨‹åºäº¤äº’çš„è½¯ä»¶æ˜¯...</p>
<p>åœ¨æ‚¨çœ‹æ¥ï¼Œä½¿ç”¨ä½ä»£ç å·¥å…·å®ç°çš„ä¸šåŠ¡é€»è¾‘æ˜¯...</p>
<p>åœ¨æ‚¨çœ‹æ¥ï¼Œä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„è½¯ä»¶ä¼šå¯¼è‡´...*</p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾4.</strong> å…³äºä½ä»£ç  vs. å…¨ä»£ç åº”ç”¨ç¨‹åºå¤æ‚æ€§çš„çœ‹æ³• [n=220]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-4.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>ç¨å¾®ç®€å•ä¸€äº›ï¼š39%</p>
</li>
<li>
<p>ç®€å•å¾—å¤šï¼š19%</p>
</li>
<li>
<p>ä¸å…¨ä»£ç åº”ç”¨ç¨‹åºä¸€æ ·å¤æ‚ï¼š16%</p>
</li>
<li>
<p>ç¨å¾®å¤æ‚ä¸€äº›ï¼š11%</p>
</li>
<li>
<p>æ— æ„è§ï¼š9%</p>
</li>
<li>
<p>å¤æ‚å¾—å¤šï¼š3%</p>
</li>
</ul>
<p><strong>å›¾5.</strong> å…³äºä½ä»£ç  vs. å…¨ä»£ç è°ƒè¯•æ˜“ç”¨æ€§çš„çœ‹æ³• [n=218]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-5.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æ›´éš¾ï¼š25%</p>
</li>
<li>
<p>æ›´å®¹æ˜“ï¼š22%</p>
</li>
<li>
<p>æ— æ„è§ï¼š19%</p>
</li>
<li>
<p>å¯èƒ½æ›´éš¾ï¼š19%</p>
</li>
<li>
<p>å¯èƒ½æ›´å®¹æ˜“ï¼š9%</p>
</li>
</ul>
<p><strong>å›¾6.</strong> å…³äºä½ä»£ç  vs. å…¨ä»£ç ä¸šåŠ¡é€»è¾‘å¯é‡ç”¨æ€§çš„çœ‹æ³• [n=211]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-6.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>å¯é‡ç”¨æ€§æ›´ä½ï¼š36%</p>
</li>
<li>
<p>å¯é‡ç”¨æ€§æ›´é«˜ï¼š39%</p>
</li>
<li>
<p>å¯é‡ç”¨æ€§ç›¸åŒï¼š17%</p>
</li>
<li>
<p>æ— æ„è§ï¼š8%</p>
</li>
</ul>
<p><strong>å›¾7.</strong> å…³äºä½ä»£ç  vs. å…¨ä»£ç äº§ç”Ÿçš„æŠ€æœ¯å€ºåŠ¡çš„çœ‹æ³• [n=219]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-7.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æŠ€æœ¯å€ºåŠ¡æ›´å°‘ï¼š31%</p>
</li>
<li>
<p>æŠ€æœ¯å€ºåŠ¡ç›¸åŒï¼š21%</p>
</li>
<li>
<p>æŠ€æœ¯å€ºåŠ¡æ›´å¤šï¼š21%</p>
</li>
<li>
<p>å¯èƒ½æŠ€æœ¯å€ºåŠ¡æ›´å°‘ï¼š13%</p>
</li>
<li>
<p>å¯èƒ½æŠ€æœ¯å€ºåŠ¡æ›´å¤šï¼š9%</p>
</li>
<li>
<p>æ— æ„è§ï¼š5%</p>
</li>
</ul>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>å¤§å¤šæ•°å—è®¿è€…ï¼ˆ68%ï¼‰è®¤ä¸ºä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºçš„åº”ç”¨ç¨‹åºåº”è¯¥è‡³å°‘"ç¨å¾®ç®€å•ä¸€äº›"ï¼Œè€Œå¾ˆå°‘ï¼ˆ14%ï¼‰è®¤ä¸ºä½ä»£ç é©±åŠ¨çš„åº”ç”¨ç¨‹åºåº”è¯¥è‡³å°‘"ç¨å¾®å¤æ‚ä¸€äº›"ã€‚è¿™äº›å›å¤ç‡ä¸æˆ‘ä»¬ä¸Šæ¬¡åœ¨2022å¹´ä½ä»£ç å¼€å‘è°ƒæŸ¥ä¸­æå‡ºè¿™ä¸ªé—®é¢˜æ—¶çœ‹åˆ°çš„æ¯”ç‡ç›¸ä¼¼ï¼Œå½“æ—¶æˆ‘ä»¬çœ‹åˆ°62%çš„äººè¯´ä½¿ç”¨ä½ä»£ç å·¥å…·åˆ›å»ºçš„è½¯ä»¶åº”è¯¥è‡³å°‘"ç¨å¾®ç®€å•ä¸€äº›"ï¼Œ17%çš„äººè¯´åº”è¯¥è‡³å°‘"ç¨å¾®å¤æ‚ä¸€äº›"ã€‚</li>
</ul>
<p><strong>ä½ä»£ç å¹³å°</strong>è®¾è®¡ä¸ºç”¨æˆ·å‹å¥½å‹å¹¶èƒ½å®ç°å¿«é€Ÿå¼€å‘ï¼Œè¿™å¯èƒ½å¯¼è‡´äººä»¬è®¤ä¸ºå®ƒä»¬æ›´é€‚åˆç®€å•çš„åº”ç”¨ç¨‹åºâ€”â€”å¼€å‘äººå‘˜å¯èƒ½è§‰å¾—è¿™äº›å·¥å…·<em>æŠ½è±¡æ‰äº†ä¼ ç»Ÿç¼–ç æ¶‰åŠçš„è®¸å¤šå¤æ‚æ€§</em>ã€‚æ­¤å¤–ï¼Œå…¨ä»£ç åº”ç”¨ç¨‹åºæä¾›äº†<em>æ›´å¤§çš„çµæ´»æ€§å’Œå®šåˆ¶é€‰é¡¹</em>ï¼Œå…è®¸å¼€å‘äººå‘˜åˆ›å»ºæ›´å¤æ‚å’Œé‡èº«å®šåˆ¶çš„è§£å†³æ–¹æ¡ˆã€‚ä½ä»£ç å·¥å…·åœ¨æä¾›çš„å®šåˆ¶æ·±åº¦æ–¹é¢å¯èƒ½è¢«è§†ä¸ºæœ‰é™ã€‚ä½ä»£ç å·¥å…·ä¸å¤ªå¯èƒ½å¾ˆå¿«å¼¥åˆå¤æ‚æ€§å·®è·â€”â€”è‡³å°‘åœ¨å¤§å¤šæ•°å¼€å‘äººå‘˜å¿ƒç›®ä¸­æ˜¯è¿™æ ·ã€‚</p>
<ul>
<li>å—è®¿è€…å¯¹äºè°ƒè¯•ä½ä»£ç åº”ç”¨ç¨‹åºæ¯”ä¼ ç»Ÿä»£ç è°ƒè¯•æ›´å®¹æ˜“è¿˜æ˜¯æ›´å›°éš¾å­˜åœ¨åˆ†æ­§ï¼Œä½†æ€»ä½“è€Œè¨€ï¼Œ<em>è®¤ä¸º</em>ä½ä»£ç è½¯ä»¶æ›´éš¾è°ƒè¯•æˆ–å¯èƒ½æ¯”å…¨ä»£ç åº”ç”¨ç¨‹åºæ›´éš¾è°ƒè¯•çš„å—è®¿è€…ï¼ˆ44%ï¼‰å¤šäºè®¤ä¸ºè°ƒè¯•ä½ä»£ç æ›´å®¹æ˜“æˆ–å¯èƒ½æ›´å®¹æ˜“çš„å—è®¿è€…ï¼ˆ31%ï¼‰ã€‚</li>
</ul>
<p>ä¸€äº›å¼€å‘äººå‘˜å¯èƒ½å‘ç°ä½ä»£ç åº”ç”¨ç¨‹åº<strong>æ›´éš¾è°ƒè¯•</strong>ï¼Œå› ä¸ºæŠ½è±¡å’Œå¯¹åº•å±‚ä»£ç çš„æœ‰é™å¯è§æ€§<em>æ©ç›–äº†é—®é¢˜çš„æ ¹æœ¬åŸå› </em>å¹¶é™åˆ¶äº†ç›´æ¥æ“ä½œã€‚ç”Ÿæˆä»£ç çš„ä¸“æœ‰æ€§è´¨å’Œä¸ç†Ÿæ‚‰çš„è°ƒè¯•å·¥å…·è¿›ä¸€æ­¥ä½¿è¿‡ç¨‹å¤æ‚åŒ–ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸€äº›å¼€å‘äººå‘˜å¯èƒ½å‘ç°ä½ä»£ç åº”ç”¨ç¨‹åº<strong>æ›´å®¹æ˜“è°ƒè¯•</strong>ï¼Œå› ä¸ºä½ä»£ç å¹³å°é€šå¸¸æä¾›é›†æˆçš„è°ƒè¯•å·¥å…·ã€å¯è§†åŒ–ç•Œé¢å’Œæ ‡å‡†åŒ–ç¯å¢ƒï¼Œ<em>ç®€åŒ–äº†é”™è¯¯è¯†åˆ«å’Œè§£å†³</em>ã€‚ä½ä»£ç å¼€å‘çš„å¯è§†åŒ–æ€§è´¨å¯ä»¥å¢å¼ºå¯¹åº”ç”¨ç¨‹åºé€»è¾‘çš„ç†è§£å¹¶å‡å°‘ç¼–ç é”™è¯¯ï¼Œä½¿ä¸€äº›å¼€å‘äººå‘˜æ›´å®¹æ˜“è¯Šæ–­å’Œä¿®å¤é—®é¢˜ã€‚</p>
<ul>
<li>å—è®¿è€…ä¸»è¦åœ¨è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘æ¯”ä»£ç å®ç°çš„ä¸šåŠ¡é€»è¾‘å¯é‡ç”¨æ€§æ›´é«˜è¿˜æ˜¯æ›´ä½ä¹‹é—´å­˜åœ¨åˆ†æ­§ï¼Œè®¤ä¸ºä¸¤è€…å…·æœ‰ç›¸åŒå¯é‡ç”¨æ€§æ°´å¹³å’Œæ— æ„è§çš„å—è®¿è€…å­é›†è¦å°å¾—å¤šã€‚è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘å¯é‡ç”¨æ€§æ›´ä½çš„å›å¤ç‡ä¸2022å¹´ä¿æŒä¸å˜ï¼Œä½†è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘å¯é‡ç”¨æ€§æ›´é«˜çš„å›å¤ç‡ä»2022å¹´çš„30%å¢åŠ äº†9%ï¼Œè€Œè®¤ä¸ºä½ä»£ç å’Œå…¨ä»£ç ä¸šåŠ¡é€»è¾‘å…·æœ‰ç›¸åŒå¯é‡ç”¨æ€§æ°´å¹³çš„å›å¤ç‡ä»28%ä¸‹é™äº†11%ã€‚</li>
</ul>
<p>è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘æ¯”å…¨ä»£ç <strong>å¯é‡ç”¨æ€§æ›´é«˜</strong>çš„å¼€å‘è€…å¯èƒ½è¿™æ ·è®¤ä¸ºï¼Œæ˜¯å› ä¸ºä½ä»£ç å¹³å°çš„<em>æ¨¡å—åŒ–ç»„ä»¶ã€æ‹–æ”¾ç•Œé¢å’Œå†…ç½®æ¨¡æ¿</em>ä¿ƒè¿›äº†ä¸šåŠ¡é€»è¾‘åœ¨ä¸åŒåº”ç”¨ç¨‹åºé—´çš„è½»æ¾å¤åˆ¶å’Œé€‚åº”â€”â€”è¿™äº›æ–¹é¢å¯ä»¥å¢å¼ºä¸€è‡´æ€§å¹¶åŠ é€Ÿå¼€å‘å‘¨æœŸã€‚ä»–ä»¬ä¹Ÿå¯èƒ½è®¤ä¸ºéå¼€å‘äººå‘˜æˆ–å…¬æ°‘å¼€å‘è€…æ›´å®¹æ˜“åˆ©ç”¨æŸäº›ä½ä»£ç ä¸šåŠ¡é€»è¾‘ï¼Œä»è€Œå…è®¸åœ¨ç»„ç»‡å†…æ›´å¹¿æ³›åœ°é‡ç”¨ã€‚</p>
<p>ç›¸åï¼Œå…¶ä»–å¼€å‘äººå‘˜å¯èƒ½è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘<strong>å¯é‡ç”¨æ€§æ›´ä½</strong>ï¼Œå› ä¸ºè®¸å¤šä½ä»£ç å¹³å°çš„ä¸“æœ‰æ€§è´¨ï¼Œåœ¨ä¸å…¶ä»–ç³»ç»Ÿæˆ–å¹³å°é›†æˆæ—¶å¯èƒ½<em>äº§ç”Ÿå…¼å®¹æ€§é—®é¢˜å’Œé™åˆ¶çµæ´»æ€§</em>ã€‚æˆ–è€…ä»–ä»¬å¯èƒ½è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘æ˜¯<strong>è„†å¼±çš„</strong>ï¼Œæ˜¯ä¸ºä¸€æ¬¡æ€§ç›®çš„åˆ›å»ºçš„ï¼Œæ²¡æœ‰è€ƒè™‘å¦‚ä½•è®¾è®¡å’Œå®ç°é€»è¾‘ä»¥æœ€å¤§åŒ–å…¶å¯é‡ç”¨æ€§ã€‚</p>
<p>ä¸ä¸¤å¹´å‰ç›¸æ¯”ï¼Œç°åœ¨æ›´å¤šçš„å¼€å‘äººå‘˜å¯èƒ½è®¤ä¸ºä½ä»£ç ä¸šåŠ¡é€»è¾‘<strong>å¯é‡ç”¨æ€§æ›´é«˜</strong>ï¼Œè¿™æ˜¯å› ä¸ºä½ä»£ç æŠ€æœ¯çš„è¿›æ­¥ã€é›†æˆèƒ½åŠ›çš„æé«˜ä»¥åŠä½ä»£ç ç¯å¢ƒä¸­æ ‡å‡†åŒ–å®è·µçš„æ—¥ç›Šæ™®åŠï¼Œè¿™äº›å…±åŒ<em>å¢å¼ºäº†é‡ç”¨ä½ä»£ç ç»„ä»¶çš„å¸å¼•åŠ›å’Œå®ç”¨æ€§</em>ã€‚</p>
<ul>
<li>æœ€åï¼Œæ›´å¤šå—è®¿è€…è®¤ä¸ºä½¿ç”¨ä½ä»£ç å¹³å°åˆ›å»ºçš„è½¯ä»¶å¯¼è‡´ï¼ˆæˆ–å¯èƒ½å¯¼è‡´ï¼‰æ¯”ç”¨ä»£ç ç¼–å†™çš„è½¯ä»¶æ›´å°‘çš„æŠ€æœ¯å€ºåŠ¡ï¼ˆ44%ï¼‰ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œè®¤ä¸ºä¼šå¯¼è‡´æ›´å¤šæŠ€æœ¯å€ºåŠ¡ï¼ˆ30%ï¼‰æˆ–ç›¸åŒæ•°é‡æŠ€æœ¯å€ºåŠ¡ï¼ˆ21%ï¼‰çš„å—è®¿è€…è¦å°‘ã€‚è¿™äº›ç»“æœä¸æˆ‘ä»¬åœ¨2022å¹´çœ‹åˆ°çš„ç»“æœä¸€è‡´ï¼Œé€å¹´ç»“æœæ²¡æœ‰æ˜¾è‘—å˜åŒ–ã€‚</li>
</ul>
<p>å¼€å‘äººå‘˜å¯èƒ½è®¤ä¸ºä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„è½¯ä»¶å¯¼è‡´<strong>æ›´å°‘çš„æŠ€æœ¯å€ºåŠ¡</strong>ï¼Œå› ä¸ºè¿™äº›å¹³å°å¼ºåˆ¶æ‰§è¡Œæ ‡å‡†åŒ–çš„ç¼–ç å®è·µï¼Œå¯ä»¥å‡å°‘æ‰‹åŠ¨ç¼–ç é”™è¯¯ï¼Œå¹¶æä¾›é¢„æ„å»ºçš„ç»„ä»¶ä»¥<em>ç¡®ä¿ä¸€è‡´çš„è´¨é‡å’Œå¯ç»´æŠ¤æ€§</em>ã€‚è¿™äº›ç‰¹æ€§å¯ä»¥æœ€å¤§é™åº¦åœ°é™ä½ç¼–å†™ä¸è‰¯ä»£ç çš„é£é™©ï¼Œå¹¶ä½¿æ›´æ–°å’Œæ‰©å±•åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ å®¹æ˜“ã€‚å†è€…ï¼Œéå¼€å‘äººå‘˜æˆ–å…¬æ°‘å¼€å‘è€…èƒ½å¤Ÿä¸ºè½¯ä»¶éœ€æ±‚åšå‡ºè´¡çŒ®ï¼Œå¯èƒ½é€šè¿‡é‡Šæ”¾å¼€å‘å›¢é˜Ÿå‘¨æœŸç”¨äºæ›´å¤æ‚æˆ–å…³é”®çš„é—®é¢˜æ¥å¸®åŠ©å‡è½»æŠ€æœ¯å€ºåŠ¡ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œä¸€äº›å¼€å‘äººå‘˜å¯èƒ½è®¤ä¸ºä½ä»£ç å¹³å°<strong>ç¼ºä¹å¯¹è½¯ä»¶ç³»ç»Ÿçš„çµæ´»æ€§å’Œæ§åˆ¶</strong>ï¼Œè¿™å¯èƒ½<em>å¯¼è‡´ä½æ•ˆå’Œå˜é€šæ–¹æ³•</em>ï¼Œä½¿æœªæ¥çš„ç»´æŠ¤å¤æ‚åŒ–ã€‚æ­¤å¤–ï¼Œå¯¹ä¸“æœ‰æŠ€æœ¯çš„ä¾èµ–å¯èƒ½äº§ç”Ÿéš¾ä»¥ç®¡ç†æˆ–æ›¿æ¢çš„ä¾èµ–æ€§ï¼Œä»è€Œå¢åŠ é•¿æœŸæŠ€æœ¯å€ºåŠ¡ã€‚</p>
<h5 data-id="heading-9">æœ‰ä»·å€¼çš„ä½ä»£ç ç”¨ä¾‹</h5>
<p>åœ¨ç»§ç»­è€ƒå¯Ÿå¼€å‘äººå‘˜å¯¹ä½ä»£ç çš„çœ‹æ³•æ—¶ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“å—è®¿è€…è®¤ä¸ºå“ªäº›ç±»å‹çš„åŠŸèƒ½é€‚åˆä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºï¼Œå¹¶è¯¢é—®ï¼š</p>
<p><em>åœ¨æ‚¨çœ‹æ¥ï¼Œä½ä»£ç å¹³å°å¯¹å“ªäº›ç”¨ä¾‹æœ‰ç”¨ï¼Ÿ</em></p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾8.</strong> è¢«è®¤ä¸ºæœ‰ç”¨çš„ä½ä»£ç ç”¨ä¾‹ [n=218]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-8.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šæŒ‰é€‰æ‹©ç™¾åˆ†æ¯”æ’åºï¼‰</p>
<ul>
<li>
<p>äº¤äº’å¼ç½‘é¡µè¡¨å•ï¼š66%</p>
</li>
<li>
<p>ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–ï¼š56%</p>
</li>
<li>
<p>ä¼ä¸šCRUDï¼š54%</p>
</li>
<li>
<p>ç®€å•æ•°æ®åº“ï¼š51%</p>
</li>
<li>
<p>è¯·æ±‚å¤„ç†ï¼š43%</p>
</li>
<li>
<p>ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼š43%</p>
</li>
<li>
<p>é›†æˆä¸­é—´ä»¶ï¼š39%</p>
</li>
<li>
<p>å­¦ä¹ ç®¡ç†ï¼š29%</p>
</li>
<li>
<p>æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–/AIè‡ªåŠ¨åŒ–ï¼š29%</p>
</li>
<li>
<p>BI/æ•°æ®åˆ†æï¼š28%</p>
</li>
<li>
<p>ç”µå­å•†åŠ¡å’Œç”µå­é‡‡è´­ï¼š27%</p>
</li>
<li>
<p>ETLï¼š22%</p>
</li>
<li>
<p>æœºå™¨å­¦ä¹ ç®¡é“ï¼š18%</p>
</li>
<li>
<p>å®‰å…¨æµç¨‹ï¼š15%</p>
</li>
<li>
<p>ç‰©ç†å»ºæ¨¡ï¼š12%</p>
</li>
<li>
<p>å…¶ä»–ï¼Œè¯·å¡«å†™ï¼š6%</p>
</li>
</ul>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>ä¸å¼€å‘äººå‘˜å¯¹ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºçš„åº”ç”¨ç¨‹åº/ç»„ä»¶å¤æ‚æ€§çš„æ„Ÿå—ä¸€è‡´ï¼Œå—è®¿è€…è®¤ä¸ºä½ä»£ç å¹³å°æœ‰ç”¨çš„æœ€æµè¡Œç”¨ä¾‹é€šå¸¸æ˜¯ä½å¤æ‚æ€§ã€ä½é£é™©çš„è½¯ä»¶å…ƒç´ ã€‚è¶…è¿‡ä¸€åŠçš„å—è®¿è€…è®¤ä¸º"äº¤äº’å¼ç½‘é¡µè¡¨å•"ã€"ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–"ã€"ä¼ä¸šCRUD"å’Œ"ç®€å•æ•°æ®åº“"æ˜¯ä½ä»£ç çš„åˆé€‚ç”¨ä¾‹ï¼Œè€Œå¾ˆå°‘å—è®¿è€…å¯¹"ç‰©ç†å»ºæ¨¡"ã€"å®‰å…¨æµç¨‹"å’Œ"æœºå™¨å­¦ä¹ ç®¡é“"ç­‰ç”¨ä¾‹æŒç›¸åŒçœ‹æ³•ã€‚</li>
</ul>
<p>æˆªè‡³ç›®å‰ï¼Œä½ä»£ç å·¥å…·æ›´å¸¸è¢«è®¤ä¸º<strong>æ“…é•¿æ„å»º</strong>æ¶‰åŠ<em>é‡å¤æ€§ã€å®šä¹‰æ˜ç¡®ä»»åŠ¡</em>çš„åº”ç”¨ç¨‹åºï¼Œè¿™äº›ä»»åŠ¡å¯ä»¥å—ç›Šäºå¹³å°çš„å¿«é€Ÿå¼€å‘èƒ½åŠ›ã€é¢„æ„å»ºç»„ä»¶å’Œç”¨æˆ·å‹å¥½ç•Œé¢ã€‚è¿™äº›ç”¨ä¾‹é€šå¸¸éœ€è¦è¾ƒå°‘çš„å¤æ‚é€»è¾‘å’Œå®šåˆ¶ï¼Œä½¿å®ƒä»¬æˆä¸ºä½ä»£ç è§£å†³æ–¹æ¡ˆçš„ç†æƒ³é€‰æ‹©ã€‚</p>
<p>ç›¸åï¼Œæ›´é«˜å¤æ‚æ€§çš„è½¯ä»¶<strong>è¢«è®¤ä¸ºä¸å¤ªé€‚åˆ</strong>ä½ä»£ç å¹³å°ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸éœ€è¦é«˜çº§çš„ã€<em>ä¸“é—¨çš„ç®—æ³•</em>ã€é«˜æ°´å¹³çš„<em>å®šåˆ¶</em>ä»¥åŠä¸¥æ ¼çš„<em>æ€§èƒ½</em>å’Œ<em>å®‰å…¨æ€§</em>æ ‡å‡†ï¼Œè€Œä½ä»£ç å·¥å…·å¯èƒ½éš¾ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Œç‰¹åˆ«æ˜¯å¦‚æœè½¯ä»¶æ—¨åœ¨ç”±å‡ ä¹æ²¡æœ‰è½¯ä»¶è®¾è®¡ç»éªŒçš„å‘˜å·¥åˆ›å»ºã€‚è¿™äº›å¤æ‚åº”ç”¨ç¨‹åºæ‰€éœ€çš„å›ºæœ‰çµæ´»æ€§å’Œæ§åˆ¶æ›´å¥½åœ°ç”±ä¼ ç»Ÿçš„ç¼–ç æ–¹æ³•æä¾›ã€‚</p>
<p>æˆ‘ä»¬å°†åœ¨åé¢çš„å‘ç°ä¸­è€ƒå¯Ÿå—è®¿è€…å®é™…åˆ©ç”¨ä½ä»£ç å¹³å°çš„ç”¨ä¾‹ã€‚</p>
<ul>
<li>
<p>è¿™ä¸ªé—®é¢˜çš„ç»“æœå¤§å¤šä¸æˆ‘ä»¬2023å¹´ä¸Šæ¬¡æå‡ºè¯¥é—®é¢˜æ—¶çœ‹åˆ°çš„ç»“æœä¸€è‡´ã€‚é€å¹´å›å¤ç‡å”¯ä¸€å…·æœ‰ç»Ÿè®¡å­¦æ˜¾è‘—å˜åŒ–çš„æ˜¯"äº¤äº’å¼ç½‘é¡µè¡¨å•"ã€"è¯·æ±‚å¤„ç†"å’Œ"é›†æˆä¸­é—´ä»¶"çš„å¢åŠ ï¼Œä»¥åŠ"ETL"çš„å‡å°‘ã€‚è¿™äº›ç»“æœçš„è¯¦ç»†ä¿¡æ¯è§è¡¨3ï¼š</p>
</li>
</ul>
<p>è¡¨3. è¢«è®¤ä¸ºæœ‰ç”¨çš„ä½ä»£ç ç”¨ä¾‹ï¼š2023-2024*</p>
<p>| ç”¨ä¾‹ | 2023 | 2024 | å˜åŒ–ç™¾åˆ†æ¯” |</p>
<p>| :--- | :--- | :--- | :--- |</p>
<p>| äº¤äº’å¼ç½‘é¡µè¡¨å• | 58% | 66% | +8% |</p>
<p>| ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ– | - | 56% | - |</p>
<p>| ä¼ä¸šCRUD | 52% | 54% | +2% |</p>
<p>| ç®€å•æ•°æ®åº“ | 56% | 51% | -5% |</p>
<p>| è¯·æ±‚å¤„ç† | 36% | 43% | +7% |</p>
<p>| ä¸šåŠ¡æµç¨‹ç®¡ç† | 48% | 43% | -5% |</p>
<p>| é›†æˆä¸­é—´ä»¶ | 28% | 39% | +11% |</p>
<p>| å­¦ä¹ ç®¡ç† | 28% | 29% | +1% |</p>
<p>| æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–/AIè‡ªåŠ¨åŒ– | - | 29% | - |</p>
<p>| BI/æ•°æ®åˆ†æ | - | 28% | - |</p>
<p>| ç”µå­å•†åŠ¡å’Œç”µå­é‡‡è´­ | 24% | 27% | +3% |</p>
<p>| ETL | 32% | 22% | -10% |</p>
<p>| æœºå™¨å­¦ä¹ ç®¡é“ | 16% | 18% | +2% |</p>
<p>| å®‰å…¨æµç¨‹ | - | 15% | - |</p>
<p>| ç‰©ç†å»ºæ¨¡ | 10% | 12% | +2% |</p>
<p>| n= | 93 | 218 | |</p>
<p><em>*æ³¨ï¼š2023å¹´åˆ—ä¸­çš„ç©ºç™½è¡¨ç¤ºæˆ‘ä»¬2024å¹´è°ƒæŸ¥ä¸­æ·»åŠ çš„é€‰é¡¹ã€‚</em></p>
<p>æ€»ä½“è€Œè¨€ï¼Œè¿™äº›æ•°æ®è¡¨æ˜å¼€å‘äººå‘˜å¯¹ä½ä»£ç ç”¨ä¾‹çš„çœ‹æ³•å˜åŒ–ç¼“æ…¢ï¼Œå¹¶ä¸”<em>ä½ä»£ç å¹³å°å¯èƒ½éœ€è¦å–å¾—é‡å¤§è¿›æ­¥</em>ï¼Œå¤§å¤šæ•°å¼€å‘äººå‘˜æ‰ä¼šå¯¹å°†ä½ä»£ç ç”¨äºæ›´å¤æ‚çš„è½¯ä»¶éœ€æ±‚æ„Ÿåˆ°æ»¡æ„ã€‚</p>
<h4 data-id="heading-10">ç ”ç©¶ç›®æ ‡äºŒï¼šå¼€å‘äººå‘˜å¦‚ä½•ä½¿ç”¨ä½ä»£ç æˆ–ä¸ä½ä»£ç äº¤äº’</h4>
<p>éšç€ç»„ç»‡é‡‡ç”¨ä½ä»£ç å¹³å°ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€å‘äººå‘˜å¾ˆå¯èƒ½éœ€è¦ä»¥æŸç§æ–¹å¼ä¸ä½ä»£ç åˆä½œã€‚è¿™å¯èƒ½æ„å‘³ç€ä¸ºä½ä»£ç åˆ›å»ºçš„åŠŸèƒ½è®¾è®¡å’Œæ„å»ºäº’æ“ä½œæ€§ã€‚æˆ–è€…å®ƒå¯èƒ½æ¶‰åŠå­¦ä¹ å¹¶ä½¿ç”¨æ–°çš„ä½ä»£ç å¹³å°æœ¬èº«ã€‚æˆ‘ä»¬æƒ³äº†è§£æ›´å¤šå…³äºå¼€å‘äººå‘˜ä¸ä½ä»£ç å·¥å…·äº¤äº’çš„ç°çŠ¶ã€‚</p>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºï¼š</p>
<ul>
<li>
<p>å¼€å‘äººå‘˜å¦‚ä½•ä¸ä½ä»£ç è½¯ä»¶äº¤äº’æˆ–ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»º</p>
</li>
<li>
<p>å¼€å‘äººå‘˜å¦‚ä½•ä½¿ç”¨ä½ä»£ç è¿›è¡Œè‡ªåŠ¨åŒ–å’ŒAI</p>
</li>
</ul>
<h5 data-id="heading-11">ä¸ä½ä»£ç è½¯ä»¶äº¤äº’å’Œæ„å»º</h5>
<p>å…¨ä»£ç è½¯ä»¶å¼€å‘äººå‘˜å¯èƒ½éœ€è¦ä¸ä½ä»£ç å¹³å°äº¤äº’çš„åŸå› æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p>é›†æˆä½ä»£ç å·¥å…·æ— æ³•æä¾›çš„è‡ªå®šä¹‰åŠŸèƒ½</p>
</li>
<li>
<p>å°†ä½ä»£ç åº”ç”¨ç¨‹åºä¸å…¶ä»–ç³»ç»Ÿå’ŒæœåŠ¡è¿æ¥ï¼Œå¤„ç†å¤æ‚çš„é›†æˆå¹¶ç¡®ä¿æ•´ä¸ªä¼ä¸šçš„æ— ç¼æ•°æ®æµ</p>
</li>
<li>
<p>ç»´æŠ¤å’Œæ’æŸ¥ä½ä»£ç åº”ç”¨ç¨‹åºæ•…éšœï¼Œè§£å†³éœ€è¦æ›´æ·±å…¥äº†è§£åº•å±‚ä»£ç å’Œç³»ç»Ÿæ¶æ„çš„æ€§èƒ½é—®é¢˜æˆ–é”™è¯¯</p>
</li>
</ul>
<p>æˆ‘ä»¬æƒ³æ‰¾å‡ºå¼€å‘äººå‘˜å¤„ç†ä½ä»£ç çš„é¢‘ç‡ï¼Œå› æ­¤æˆ‘ä»¬æå‡ºäº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p>*æ‚¨ç¼–å†™ä¸ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„è½¯ä»¶äº¤äº’çš„ä»£ç çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ</p>
<p>æ‚¨ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºè½¯ä»¶çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ*</p>
<p>å¯¹äºå›ç­”å¹¶é"ä»æœª"ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºè½¯ä»¶çš„å—è®¿è€…ï¼Œæˆ‘ä»¬è¿˜è¯¢é—®ï¼š</p>
<p><em>æ‚¨ä½¿ç”¨ä½ä»£ç å¹³å°å®ç°äº†å“ªäº›ç±»å‹çš„è½¯ä»¶æˆ–è½¯ä»¶åŠŸèƒ½ï¼Ÿ</em></p>
<p>ç»“æœï¼š</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-9_10.png" alt="" loading="lazy"/></p>
<p>å›¾9. ç¼–å†™ä¸ä½ä»£ç åˆ›å»ºè½¯ä»¶äº¤äº’ä»£ç çš„é¢‘ç‡ [n=220]</p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æœ‰æ—¶ï¼š32%</p>
</li>
<li>
<p>å¾ˆå°‘ï¼š26%</p>
</li>
<li>
<p>ç»å¸¸ï¼š20%</p>
</li>
<li>
<p>ä»æœªï¼š13%</p>
</li>
<li>
<p>ä¸€ç›´ï¼š10%</p>
</li>
</ul>
<p>å›¾10. ä½¿ç”¨ä½ä»£ç å¹³å°åˆ›å»ºè½¯ä»¶çš„é¢‘ç‡ [n=215]</p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æœ‰æ—¶ï¼š30%</p>
</li>
<li>
<p>å¾ˆå°‘ï¼š25%</p>
</li>
<li>
<p>ç»å¸¸ï¼š19%</p>
</li>
<li>
<p>ä»æœªï¼š16%</p>
</li>
<li>
<p>ä¸€ç›´ï¼š10%</p>
</li>
</ul>
<p>å›¾11. ä½¿ç”¨ä½ä»£ç å¹³å°å®ç°çš„è½¯ä»¶/åŠŸèƒ½ç±»å‹ [n=175]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-11.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šæŒ‰é€‰æ‹©ç™¾åˆ†æ¯”æ’åºï¼‰</p>
<ul>
<li>
<p>äº¤äº’å¼ç½‘é¡µè¡¨å•ï¼š46%</p>
</li>
<li>
<p>ä¼ä¸šCRUDï¼š37%</p>
</li>
<li>
<p>ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–ï¼š39%</p>
</li>
<li>
<p>ç®€å•æ•°æ®åº“ï¼š27%</p>
</li>
<li>
<p>é›†æˆä¸­é—´ä»¶ï¼š27%</p>
</li>
<li>
<p>ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼š31%</p>
</li>
<li>
<p>è¯·æ±‚å¤„ç†ï¼š24%</p>
</li>
<li>
<p>æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–/AIè‡ªåŠ¨åŒ–ï¼š15%</p>
</li>
<li>
<p>BI/æ•°æ®åˆ†æï¼š12%</p>
</li>
<li>
<p>ç”µå­å•†åŠ¡å’Œç”µå­é‡‡è´­ï¼š14%</p>
</li>
<li>
<p>ETLï¼š13%</p>
</li>
<li>
<p>å­¦ä¹ ç®¡ç†ï¼š11%</p>
</li>
<li>
<p>å®‰å…¨æµç¨‹ï¼š8%</p>
</li>
<li>
<p>ç‰©ç†å»ºæ¨¡ï¼š6%</p>
</li>
<li>
<p>æœºå™¨å­¦ä¹ ç®¡é“ï¼š5%</p>
</li>
<li>
<p>å…¶ä»–ï¼Œè¯·å¡«å†™ï¼š4%</p>
</li>
</ul>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>å‡ ä¹æ‰€æœ‰å—è®¿è€…ï¼ˆ93%ï¼‰éƒ½è‡³å°‘æœ‰ä¸€äº›ä¸ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„è½¯ä»¶äº¤äº’æˆ–è‡ªå·±ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„ç»éªŒï¼ˆå³ï¼Œä»–ä»¬è‡³å°‘å›ç­”äº†å…¶ä¸­ä¸€ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”æ²¡æœ‰å¯¹ä¸¤ä¸ªé—®é¢˜éƒ½å›ç­”"ä»æœª"ï¼‰ã€‚æ€»ä½“è€Œè¨€ï¼Œå—è®¿è€…ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºçš„å¯èƒ½æ€§ä¸ä½ä»£ç æ„å»ºè½¯ä»¶äº¤äº’çš„å¯èƒ½æ€§ä¸€æ ·é«˜ï¼Œå¹¶ä¸”ä¸ªä½“å—è®¿è€…å€¾å‘äºä»¥ç›¸åŒçš„é¢‘ç‡è¿›è¡Œå…¶ä¸­ä¸€é¡¹æ´»åŠ¨ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œå¤§å¤šæ•°è¡¨ç¤ºä»–ä»¬"<strong>ä¸€ç›´</strong>"ä¸ä½ä»£ç å·¥å…·åˆ›å»ºçš„è½¯ä»¶<strong>äº¤äº’</strong>çš„å—è®¿è€…ä¹Ÿè¡¨ç¤ºä»–ä»¬"<strong>ä¸€ç›´</strong>"ä½¿ç”¨ä½ä»£ç <strong>æ„å»º</strong>è½¯ä»¶ï¼Œå¯¹äº"<strong>ç»å¸¸</strong>"ã€"<strong>æœ‰æ—¶</strong>"ç­‰ä¹Ÿæ˜¯å¦‚æ­¤ï¼ˆè¯¦æƒ…è§è¡¨4ï¼‰ã€‚</p>
<p><strong>è¡¨4.</strong> ä¸ä½ä»£ç æ„å»ºè½¯ä»¶äº¤äº’çš„é¢‘ç‡å’Œä½¿ç”¨ä½ä»£ç æ„å»ºçš„é¢‘ç‡*</p>
<p>| | ä½¿ç”¨ä½ä»£ç æ„å»º |</p>
<p>| :--- | :--- | :--- | :--- | :--- | :--- | :--- |</p>
<p>| <strong>ä¸ä½ä»£ç äº¤äº’</strong> | <strong>ä¸€ç›´</strong> | <strong>ç»å¸¸</strong> | <strong>æœ‰æ—¶</strong> | <strong>å¾ˆå°‘</strong> | <strong>ä»æœª</strong> | <strong>æ€»ä½“</strong> |</p>
<p>| <strong>ä¸€ç›´</strong> | 55% | 30% | 10% | 5% | 0% | 10% |</p>
<p>| <strong>ç»å¸¸</strong> | 9% | 63% | 12% | 9% | 7% | 20% |</p>
<p>| <strong>æœ‰æ—¶</strong> | 4% | 7% | 64% | 15% | 9% | 32% |</p>
<p>| <strong>å¾ˆå°‘</strong> | 2% | 4% | 18% | 57% | 20% | 26% |</p>
<p>| <strong>ä»æœª</strong> | 7% | 3% | 14% | 24% | 52% | 13% |</p>
<p>| <strong>æ€»ä½“</strong> | 10% | 19% | 30% | 25% | 16% | |</p>
<p><em>*è¡Œå†…ç™¾åˆ†æ¯”</em></p>
<p>è¿™äº›ç»“æœå¯èƒ½è¡¨æ˜ï¼Œé‡‡ç”¨ä½ä»£ç æŠ€æœ¯çš„ç»„ç»‡é€šå¸¸åœ¨æ•´ä¸ªç»„ç»‡èŒƒå›´å†…åŒç­‰ç¨‹åº¦åœ°ä½¿ç”¨å®ƒä»¬ï¼Œè€Œä¸æ˜¯å°†è¿™äº›å·¥å…·çš„ä½¿ç”¨éš”ç¦»ç»™å…¬æ°‘å¼€å‘è€…æˆ–éå¼€å‘å›¢é˜Ÿã€‚æˆ‘ä»¬å°†åœ¨ç ”ç©¶ç›®æ ‡ä¸‰ä¸­è®¨è®ºå—è®¿è€…å…³äºä½ä»£ç å¦‚ä½•å½±å“è½¯ä»¶è´¨é‡çš„ç»éªŒã€‚</p>
<ul>
<li>
<p>å°†è‡ªå·±æè¿°ä¸ºå…¨æ ˆå¼€å‘è€…çš„å—è®¿è€…é¢‘ç¹ï¼ˆ"ç»å¸¸"æˆ–"ä¸€ç›´"ï¼‰ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºè½¯ä»¶çš„å¯èƒ½æ€§æ˜¾è‘—é«˜äºåç«¯å’Œéåç«¯/å…¨æ ˆå¼€å‘è€…ã€‚éåç«¯/å…¨æ ˆå¼€å‘è€…æœ€å¯èƒ½è¯´ä»–ä»¬"æœ‰æ—¶"ä½¿ç”¨è¿‡ä½ä»£ç å¹³å°ï¼Œè€Œåç«¯å¼€å‘è€…æœ€å¯èƒ½è¯´ä»–ä»¬"å¾ˆå°‘"æˆ–"ä»æœª"ä½¿ç”¨è¿‡ä½ä»£ç ã€‚å…·ä½“æ•°æ®è§è¡¨5ã€‚</p>
</li>
</ul>
<p><strong>è¡¨5.</strong> æŒ‰å¼€å‘äººå‘˜ç±»å‹åˆ’åˆ†çš„ä½ä»£ç ä½¿ç”¨é¢‘ç‡*</p>
<p>| é¢‘ç‡ | å¼€å‘äººå‘˜ç±»å‹ |</p>
<p>| :--- | :--- | :--- | :--- | :--- |</p>
<p>| | åç«¯ | å…¨æ ˆ | éåç«¯/å…¨æ ˆ | æ€»ä½“ |</p>
<p>| ä¸€ç›´ | 4% | 18% | 8% | 10% |</p>
<p>| ç»å¸¸ | 13% | 27% | 17% | 19% |</p>
<p>| æœ‰æ—¶ | 29% | 23% | 40% | 29% |</p>
<p>| å¾ˆå°‘ | 36% | 19% | 17% | 25% |</p>
<p>| ä»æœª | 18% | 14% | 17% | 16% |</p>
<p><em>*åˆ—å†…ç™¾åˆ†æ¯”</em></p>
<ul>
<li>
<p>å¯¹äºæ¯ä¸ªç”¨ä¾‹ï¼Œå£°ç§°æ›¾åˆ©ç”¨ä½ä»£ç å¹³å°å®ç°è¯¥åŠŸèƒ½ç”¨ä¾‹çš„å—è®¿è€…ï¼Œè®¤ä¸ºä½ä»£ç æ˜¯å¤„ç†è¯¥ç”¨ä¾‹çš„åˆé€‚å·¥å…·çš„å¯èƒ½æ€§è¿œé«˜äºæ€»ä½“å—è®¿è€…ã€‚ä¾‹å¦‚ï¼Œè™½ç„¶æ€»ä½“ä¸Šæœ‰54%çš„å—è®¿è€…è®¤ä¸ºä½ä»£ç å¹³å°å¯¹"ä¼ä¸šCRUD"æœ‰ç”¨ï¼Œä½†å£°ç§°å®é™…ä½¿ç”¨ä½ä»£ç è¿›è¡Œ"ä¼ä¸šCRUD"çš„å—è®¿è€…ä¸­æœ‰90%æŒç›¸åŒçœ‹æ³•ã€‚æˆ‘ä»¬æä¾›çš„æ¯ä¸ªç”¨ä¾‹ç­”æ¡ˆé€‰é¡¹ï¼Œåœ¨å®é™…ä½¿ç”¨ä½ä»£ç å¤„ç†è¯¥ç”¨ä¾‹çš„å—è®¿è€…ä¸­ï¼Œå…³äºä½ä»£ç å¯¹è¯¥ç”¨ä¾‹æœ‰ç”¨æ€§çš„å›å¤ç‡éƒ½æœ‰æ˜¾è‘—å¢åŠ ã€‚è¯¦æƒ…è§è¡¨6ã€‚</p>
</li>
</ul>
<p><strong>è¡¨6.</strong> æŒ‰ç”¨ä¾‹åˆ’åˆ†çš„ä½ä»£ç æœ‰ç”¨æ€§çœ‹æ³•ï¼šæŠ¥å‘Šçš„ä½ä»£ç ä½¿ç”¨æƒ…å†µ vs. æ€»ä½“æ¯”ç‡</p>
<p>| ç”¨ä¾‹ | ä½¿ç”¨è¿‡æ­¤ç”¨ä¾‹ | æ€»ä½“ | å·®å€¼ |</p>
<p>| :--- | :--- | :--- | :--- | :--- | :--- |</p>
<p>| | æ¯”ç‡ | n= | æ¯”ç‡ | n= | |</p>
<p>| æœºå™¨äººæµç¨‹/AIè‡ªåŠ¨åŒ– | 93% | 26 | 29% | 63 | 64% |</p>
<p>| ä¼ä¸šCRUD | 90% | 64 | 54% | 117 | 36% |</p>
<p>| ç®€å•æ•°æ®åº“ | 87% | 47 | 51% | 111 | 36% |</p>
<p>| äº¤äº’å¼ç½‘é¡µè¡¨å• | 87% | 80 | 66% | 143 | 21% |</p>
<p>| ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ– | 86% | 69 | 56% | 121 | 31% |</p>
<p>| ç”µå­å•†åŠ¡å’Œç”µå­é‡‡è´­ | 86% | 25 | 27% | 59 | 59% |</p>
<p>| å­¦ä¹ ç®¡ç† | 83% | 19 | 29% | 64 | 53% |</p>
<p>| è¯·æ±‚å¤„ç† | 82% | 42 | 43% | 94 | 39% |</p>
<p>| å®‰å…¨æµç¨‹ | 82% | 14 | 15% | 32 | 68% |</p>
<p>| ä¸šåŠ¡æµç¨‹ç®¡ç† | 82% | 54 | 43% | 94 | 39% |</p>
<p>| BI/æ•°æ®åˆ†æ | 78% | 21 | 28% | 62 | 49% |</p>
<p>| é›†æˆä¸­é—´ä»¶ | 77% | 47 | 39% | 86 | 38% |</p>
<p>| ETL | 72% | 23 | 22% | 48 | 50% |</p>
<p>| æœºå™¨å­¦ä¹ ç®¡é“ | 67% | 8 | 18% | 39 | 49% |</p>
<p>| ç‰©ç†å»ºæ¨¡ | 63% | 10 | 12% | 27 | 50% |</p>
<p>| å…¶ä»–ï¼Œè¯·å¡«å†™ | 58% | 7 | 6% | 12 | 53% |</p>
<ul>
<li>
<p>å°½ç®¡è¿™äº›ç»“æœå¯èƒ½åæ˜ äº†æŸäº›è®¤çŸ¥åå·®ï¼Œä¾‹å¦‚å•çº¯æ›å…‰æ•ˆåº”ï¼Œä½†è¿™äº›åå·®çš„è¯æ®å¯èƒ½è¡¨æ˜ä½ä»£ç å·¥å…·æ¯”è®¸å¤šå¼€å‘äººå‘˜è®¤ä¸ºçš„æ›´å…·å®ç”¨æ€§ï¼Œå¹¶ä¸”ç»„ç»‡é‡‡ç”¨ä½ä»£ç å¹³å°çš„å¢åŠ å¯èƒ½å¯¼è‡´å¼€å‘äººå‘˜åœ¨æœ‰æœºä¼šå°è¯•è¿™äº›å·¥å…·åæ‰¾åˆ°æ›´å¤šä½¿ç”¨å®ƒä»¬çš„æ–¹æ³•ã€‚</p>
</li>
</ul>
<p><strong>ç”¨äºè‡ªåŠ¨åŒ–å’ŒAIçš„ä½ä»£ç </strong></p>
<p>è‡ªåŠ¨åŒ–å’ŒAIéƒ½æ˜¯åˆ©ç”¨ä½ä»£ç èƒ½åŠ›çš„æœ‰å‰æ™¯çš„é¢†åŸŸã€‚ä¸¤è€…éƒ½æœ‰æ½œåŠ›ç®€åŒ–å„ç§é‡å¤æ€§ä»»åŠ¡ï¼Œä½¿å‘˜å·¥èƒ½å¤Ÿå‡å°‘èŠ±åœ¨ç¹å¿™å·¥ä½œä¸Šçš„æ—¶é—´ï¼Œè€Œå°†æ›´å¤šæ—¶é—´ç”¨äºè¿ç”¨ä»–ä»¬çš„æŠ€èƒ½ç»„åˆã€‚ä½ä»£ç å¹³å°å¯ä»¥ä½¿ä¸šåŠ¡ç”¨æˆ·å’Œå¼€å‘äººå‘˜éƒ½èƒ½å¤Ÿä»¥æœ€å°‘çš„ç¼–ç åˆ›å»ºå’Œä¿®æ”¹<strong>è‡ªåŠ¨åŒ–å·¥ä½œæµä»¥åŠAIé©±åŠ¨çš„æµç¨‹</strong>ã€‚ä½ä»£ç å¹³å°çš„å¯è§†åŒ–ç•Œé¢å’Œé¢„æ„å»ºç»„ä»¶å¯ä»¥<em>æ›´è½»æ¾åœ°å°†AIèƒ½åŠ›</em>â€”â€”å¦‚æœºå™¨å­¦ä¹ æ¨¡å‹å’Œè‡ªç„¶è¯­è¨€å¤„ç†â€”â€”é›†æˆåˆ°ä¸šåŠ¡åº”ç”¨ç¨‹åºä¸­ï¼Œä»è€Œæé«˜è¿è¥æ•ˆç‡å’Œå†³ç­–èƒ½åŠ›ã€‚ä¸ºäº†ç¡®å®šç»„ç»‡ç›®å‰å¦‚ä½•ä½¿ç”¨ä½ä»£ç è¿›è¡Œè‡ªåŠ¨åŒ–å’ŒAIï¼Œæˆ‘ä»¬æå‡ºäº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p><em>æ‚¨çš„ç»„ç»‡æ˜¯å¦ä½¿ç”¨ä½ä»£ç å·¥å…·æ¥åˆ›å»ºå·¥ä½œæµå’Œ/æˆ–æµç¨‹è‡ªåŠ¨åŒ–ï¼Ÿ</em></p>
<p>å¯¹äºå›ç­”"æ˜¯"æˆ–"å¦ï¼Œä½†æˆ‘ä»¬æ­£åœ¨è€ƒè™‘"çš„å—è®¿è€…ï¼Œæˆ‘ä»¬è¿˜è¯¢é—®ï¼š</p>
<p><em>æ‚¨ä½¿ç”¨æˆ–æ­£åœ¨è€ƒè™‘ä½¿ç”¨ä»¥ä¸‹å“ªäº›å·¥ä½œæµå’Œ/æˆ–æµç¨‹è‡ªåŠ¨åŒ–æ–¹æ³•ï¼Ÿ</em></p>
<p>å…³äºç”¨äºAIçš„ä½ä»£ç ï¼Œæˆ‘ä»¬è¯¢é—®ï¼š</p>
<p><em>æ‚¨çš„ç»„ç»‡åœ¨å“ªäº›ç”¨ä¾‹ä¸­ä½¿ç”¨ä½ä»£ç AIå·¥å…·æˆ–å¹³å°ï¼Ÿ</em></p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾12.</strong> ç»„ç»‡ä½¿ç”¨ä½ä»£ç è¿›è¡Œå·¥ä½œæµ/æµç¨‹è‡ªåŠ¨åŒ–çš„æƒ…å†µ [n=213]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-12.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æ˜¯ï¼š47%</p>
</li>
<li>
<p>å¦ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰è€ƒè™‘ï¼š18%</p>
</li>
<li>
<p>æˆ‘ä¸çŸ¥é“ï¼š11%</p>
</li>
<li>
<p>å¦ï¼Œä½†æˆ‘ä»¬æ­£åœ¨è€ƒè™‘ï¼š24%</p>
</li>
</ul>
<p><strong>å›¾13.</strong> ä½¿ç”¨æˆ–è€ƒè™‘çš„å·¥ä½œæµ/æµç¨‹è‡ªåŠ¨åŒ–æ–¹æ³• [n=150]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-13.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šæŒ‰é€‰æ‹©ç™¾åˆ†æ¯”æ’åºï¼‰</p>
<ul>
<li>
<p>ä¸šåŠ¡æµç¨‹ç®¡ç†ï¼š65%</p>
</li>
<li>
<p>æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼š42%</p>
</li>
<li>
<p>ä¼ä¸šèµ„æºè§„åˆ’ï¼š39%</p>
</li>
<li>
<p>è¶…è‡ªåŠ¨åŒ–ï¼š15%</p>
</li>
<li>
<p>å…¶ä»–ï¼š5%</p>
</li>
</ul>
<p><strong>å›¾14.</strong> ä½ä»£ç AIå·¥å…·/å¹³å°çš„ä½¿ç”¨ç”¨ä¾‹ [n=211]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-14.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šæŒ‰é€‰æ‹©ç™¾åˆ†æ¯”æ’åºï¼‰</p>
<ul>
<li>
<p>èŠå¤©æœºå™¨äºº/è™šæ‹ŸåŠ©æ‰‹ï¼š38%</p>
</li>
<li>
<p>é¢„æµ‹åˆ†æï¼š24%</p>
</li>
<li>
<p>è¯­è¨€å¤„ç†ï¼š22%</p>
</li>
<li>
<p>è®¡ç®—æœºè§†è§‰ï¼š19%</p>
</li>
<li>
<p>ä¸é€‚ç”¨ï¼š21%</p>
</li>
</ul>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>è¿‘ä¸€åŠçš„å—è®¿è€…ï¼ˆ47%ï¼‰è¡¨ç¤ºä»–ä»¬çš„ç»„ç»‡ä½¿ç”¨ä½ä»£ç å·¥å…·è¿›è¡Œå·¥ä½œæµ/æµç¨‹è‡ªåŠ¨åŒ–ï¼Œè¿™æ¯”æˆ‘ä»¬åœ¨2023å¹´è°ƒæŸ¥ä¸­çœ‹åˆ°çš„60%æ˜¾è‘—ä¸‹é™ã€‚å›ç­”"å¦ï¼Œä½†æˆ‘ä»¬æ­£åœ¨è€ƒè™‘"çš„å›å¤ç‡ä»2023å¹´çš„11%å¢åŠ åˆ°24%ä»¥ä½œè¡¥å¿ï¼Œè€Œå›ç­”"å¦ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰è€ƒè™‘"å’Œ"æˆ‘ä¸çŸ¥é“"çš„å›å¤ç‡åœ¨2023å¹´å’Œ2024å¹´ä¹‹é—´æ²¡æœ‰æ˜¾è‘—å˜åŒ–ã€‚</li>
</ul>
<p>è€ƒè™‘åˆ°æˆ‘ä»¬åœ¨æ¯”è¾ƒæœ¬æ¬¡è°ƒæŸ¥ä¸­å…¶ä»–é—®é¢˜çš„é€å¹´ç»“æœæ—¶æ²¡æœ‰çœ‹åˆ°ä½ä»£ç å·¥å…·ä½¿ç”¨ç‡çš„ä¸‹é™ï¼Œç›®å‰å°šä¸æ¸…æ¥šä¸ºä»€ä¹ˆä»Šå¹´å£°ç§°å…¶ç»„ç»‡ä½¿ç”¨ä½ä»£ç å·¥å…·è¿›è¡Œå·¥ä½œæµå’Œ/æˆ–æµç¨‹è‡ªåŠ¨åŒ–çš„å—è®¿è€…å¦‚æ­¤ä¹‹å°‘ï¼Œä½†è¿™æ˜¯æˆ‘ä»¬æœªæ¥ç»§ç»­ä½ä»£ç ç ”ç©¶æ—¶å°†å…³æ³¨çš„è¶‹åŠ¿ã€‚</p>
<ul>
<li>
<p>å¤§å¤šæ•°åœ¨ä½¿ç”¨æˆ–è€ƒè™‘ä½¿ç”¨ä½ä»£ç è¿›è¡Œå·¥ä½œæµ/æµç¨‹è‡ªåŠ¨åŒ–çš„ç»„ç»‡çš„å—è®¿è€…ä¹Ÿè¡¨ç¤ºï¼Œä»–ä»¬ä½¿ç”¨æˆ–è€ƒè™‘ä½¿ç”¨"ä¸šåŠ¡æµç¨‹ç®¡ç†"ï¼Œå°½ç®¡è¿™ä¸€æ•°å­—ä¹Ÿä½äºæˆ‘ä»¬2023å¹´æ”¶é›†çš„ç»“æœã€‚å¦ä¸€æ–¹é¢ï¼Œ"æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–"å’Œ"ä¼ä¸šèµ„æºè§„åˆ’"çš„å›å¤ç‡è¾ƒ2023å¹´è°ƒæŸ¥ç»“æœæœ‰æ‰€å¢åŠ ã€‚é€å¹´æ•°æ®è§è¡¨7ï¼š</p>
</li>
</ul>
<p><strong>è¡¨7.</strong> ä½¿ç”¨æˆ–è€ƒè™‘çš„å·¥ä½œæµ/æµç¨‹è‡ªåŠ¨åŒ–æ–¹æ³•ï¼š2023-2024</p>
<p>| æ–¹æ³• | 2023 | 2024 | å˜åŒ–ç™¾åˆ†æ¯” |</p>
<p>| :--- | :--- | :--- | :--- |</p>
<p>| | æ¯”ç‡ | n= | æ¯”ç‡ | n= | |</p>
<p>| ä¸šåŠ¡æµç¨‹ç®¡ç† | 75% | 49 | 65% | 97 | -10% |</p>
<p>| æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ– | 28% | 18 | 42% | 63 | +14% |</p>
<p>| ä¼ä¸šèµ„æºè§„åˆ’ | 31% | 20 | 39% | 58 | +8% |</p>
<p>| è¶…è‡ªåŠ¨åŒ–* | - | - | 15% | 22 | - |</p>
<p>| å…¶ä»– | 11% | 7 | 5% | 8 | -6% |</p>
<p><em>*æ³¨ï¼š"è¶…è‡ªåŠ¨åŒ–"æ˜¯æˆ‘ä»¬ä¸º2024å¹´è°ƒæŸ¥æ·»åŠ çš„å›å¤é€‰é¡¹ã€‚</em></p>
<p>è¿™äº›ç»“æœå¯èƒ½è¡¨æ˜ï¼Œä½¿ç”¨ä½ä»£ç è¿›è¡Œå·¥ä½œæµ/æµç¨‹è‡ªåŠ¨åŒ–çš„ç»„ç»‡æ­£åœ¨æ‰©å±•ä»–ä»¬é‡‡ç”¨çš„æ–¹æ³•ã€‚</p>
<ul>
<li>
<p>å¤§å¤šæ•°å—è®¿è€…ï¼ˆ63%ï¼‰è¡¨ç¤ºä»–ä»¬çš„ç»„ç»‡å°†ä½ä»£ç AIå·¥å…·ç”¨äºè‡³å°‘ä¸€ä¸ªåˆ—å‡ºçš„ç”¨ä¾‹â€”â€”æœ€æµè¡Œçš„ç”¨ä¾‹æ˜¯"èŠå¤©æœºå™¨äºº/è™šæ‹ŸåŠ©æ‰‹"ã€‚</p>
</li>
<li>
<p>å°å‹ç»„ç»‡çš„å—è®¿è€…å£°ç§°å…¶ç»„ç»‡ä½¿ç”¨ä½ä»£ç AIå·¥å…·çš„<strong>å¯èƒ½æ€§è¦ä½</strong>å¾—å¤šï¼Œæœ‰34%é€‰æ‹©"ä¸é€‚ç”¨"ï¼Œè€Œä¸­å‹ç»„ç»‡çš„å—è®¿è€…ä¸º12%ï¼Œå¤§å‹ç»„ç»‡ä¸º14%ã€‚</p>
</li>
<li>
<p>å°å‹ç»„ç»‡çš„å—è®¿è€…å£°ç§°å…¶ç»„ç»‡ä½¿ç”¨ä½ä»£ç å¤„ç†"èŠå¤©æœºå™¨äºº/è™šæ‹ŸåŠ©æ‰‹"ï¼ˆ23%ï¼‰å’Œ"é¢„æµ‹åˆ†æ"ï¼ˆ8%ï¼‰çš„<strong>å¯èƒ½æ€§æ˜¾è‘—ä½äº</strong>ä¸­å‹ç»„ç»‡ï¼ˆåˆ†åˆ«ä¸º40%å’Œ27%ï¼‰å’Œå¤§å‹ç»„ç»‡ï¼ˆåˆ†åˆ«ä¸º47%å’Œ27%ï¼‰çš„å—è®¿è€…ã€‚</p>
</li>
<li>
<p>æœ‰è¶£çš„æ˜¯ï¼Œå°å‹ç»„ç»‡çš„å—è®¿è€…å£°ç§°å…¶ç»„ç»‡ä½¿ç”¨ä½ä»£ç AIè¿›è¡Œ"è¯­è¨€å¤„ç†"ï¼ˆ24%ï¼‰çš„<strong>å¯èƒ½æ€§é«˜äº</strong>ä¸­å‹ç»„ç»‡ï¼ˆ15%ï¼‰ï¼Œä½†ä»ä½äºå¤§å‹ç»„ç»‡ï¼ˆ31%ï¼‰ã€‚</p>
</li>
</ul>
<h4 data-id="heading-12">ç ”ç©¶ç›®æ ‡ä¸‰ï¼šå¼€å‘äººå‘˜å¦‚ä½•çœ‹å¾…ä½ä»£ç å¯¹å¼€å‘å’Œè½¯ä»¶è´¨é‡çš„å½±å“</h4>
<p>æˆ‘ä»¬åœ¨ç ”ç©¶å‘ç°ä¸­è¯•å›¾è‡³å°‘è§¦åŠçš„ä¸€ä¸ªä¸»è¦é—®é¢˜æ˜¯ï¼š"è¿™ä¸ªä¸»é¢˜çš„å½±å“æ˜¯å¦ä¸å…¶å‘¨å›´çš„ç‚’ä½œç›¸ç¬¦ï¼Ÿ"æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬æƒ³çŸ¥é“æˆ‘ä»¬è®¨è®ºçš„ä¸»é¢˜æ˜¯å¦å¯¹è½¯ä»¶å¼€å‘æ•´ä½“äº§ç”Ÿç§¯æå½±å“ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨æœ¬èŠ‚ä¸­è€ƒå¯Ÿï¼š</p>
<ul>
<li>
<p>ä½ä»£ç å¯¹è½¯ä»¶è´¨é‡çš„å½±å“</p>
</li>
<li>
<p>ä½ä»£ç å®‰å…¨å…³åˆ‡ä»¥åŠå¯¹ä½ä»£ç æ²»ç†çš„éœ€æ±‚</p>
</li>
</ul>
<h5 data-id="heading-13">ä½ä»£ç å¯¹è½¯ä»¶è´¨é‡çš„å½±å“</h5>
<p>åœ¨æœ¬æŠ¥å‘Šçš„ç¬¬ä¸€ä¸ªç ”ç©¶ç›®æ ‡ä¸­ï¼Œæˆ‘ä»¬è€ƒå¯Ÿäº†å¼€å‘äººå‘˜å¯¹ä½ä»£ç å½±å“å¼€å‘çš„æ„Ÿå—å’Œçœ‹æ³•ã€‚æˆ‘ä»¬è¿˜å¸Œæœ›è€ƒå¯Ÿå¼€å‘äººå‘˜å¯¹ä½¿ç”¨ä½ä»£ç å·¥å…·çš„å¼€å‘è¿‡ç¨‹å’Œè½¯ä»¶çš„ç¬¬ä¸€æ‰‹ç»éªŒâ€”â€”è¿™ä¸ªåŒºåˆ«å¯èƒ½å¾ˆå°ï¼Œä½†æˆ‘ä»¬è®¤ä¸ºå¾ˆé‡è¦ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è€ƒå¯Ÿçš„æ˜¯é‚£äº›æŠ¥å‘Šè‡³å°‘æœ‰ä¸€äº›ä¸ä½ä»£ç åˆ›å»ºè½¯ä»¶äº¤äº’æˆ–è‡ªå·±ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºåº”ç”¨ç¨‹åºç»éªŒçš„å¼€å‘äººå‘˜ï¼ˆæ­£å¦‚æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ï¼Œä»–ä»¬å å—è®¿è€…çš„93%ï¼‰çš„å›ç­”ï¼Œæå‡ºä»¥ä¸‹é—®é¢˜ï¼š</p>
<p>*æ ¹æ®æ‚¨çš„ç»éªŒï¼Œä½¿ç”¨ä½ä»£ç å·¥å…·æ€»ä½“ä¸Šä½¿è½¯ä»¶...*</p>
<p>æ ¹æ®æ‚¨çš„ç»éªŒï¼Œä½¿ç”¨ä½ä»£ç å·¥å…·æ˜¯å¦ä½¿å¼€å‘æ›´å…·è¿­ä»£æ€§ï¼Ÿ*</p>
<p>æ ¹æ®æ‚¨çš„ç»éªŒï¼Œä½¿ç”¨ä½ä»£ç å·¥å…·å¯¼è‡´æ€»ä½“ä¸Š...**</p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾15.</strong> ä½ä»£ç å¯¹è½¯ä»¶æ€§èƒ½ã€å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§çš„å½±å“ [n=199]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-15.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šé’ˆå¯¹æ¯ä¸ªå±æ€§ï¼Œæ˜¾ç¤º"æ›´å¥½"ã€"å¤§è‡´ç›¸åŒ"ã€"æ›´å·®"çš„ç™¾åˆ†æ¯”ï¼‰</p>
<ul>
<li>
<p>æ€§èƒ½ï¼šæ›´å¥½ 26%ï¼Œå¤§è‡´ç›¸åŒ 40%ï¼Œæ›´å·® 25%</p>
</li>
<li>
<p>å¯ç»´æŠ¤æ€§ï¼šæ›´å¥½ 47%ï¼Œå¤§è‡´ç›¸åŒ 30%ï¼Œæ›´å·® 17%</p>
</li>
<li>
<p>å¯æ‰©å±•æ€§ï¼šæ›´å¥½ 40%ï¼Œå¤§è‡´ç›¸åŒ 32%ï¼Œæ›´å·® 21%</p>
</li>
<li>
<p>å®‰å…¨æ€§ï¼šæ›´å¥½ 38%ï¼Œå¤§è‡´ç›¸åŒ 35%ï¼Œæ›´å·® 20%</p>
</li>
</ul>
<p>å›¾16. ä½ä»£ç å¯¹å¼€å‘è¿­ä»£æ€§çš„å½±å“ [n=196]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-16.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æ˜¯ï¼š53%</p>
</li>
<li>
<p>å¦ï¼š25%</p>
</li>
<li>
<p>æ— æ„è§ï¼š22%</p>
</li>
</ul>
<p>å›¾17. ä½ä»£ç å¯¹è½¯ä»¶è´¨é‡çš„å½±å“ [n=197]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-17.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>æ›´é«˜è´¨é‡çš„è½¯ä»¶ï¼š41%</p>
</li>
<li>
<p>ç›¸åŒè´¨é‡çš„è½¯ä»¶ï¼š28%</p>
</li>
<li>
<p>æ›´ä½è´¨é‡çš„è½¯ä»¶ï¼š24%</p>
</li>
<li>
<p>æ— æ„è§ï¼š7%</p>
</li>
</ul>
<p><em>*æ³¨ï¼šè¿™ä¸‰ä¸ªé—®é¢˜ä»…è¯¢é—®äº†æœªåœ¨"æ‚¨ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºè½¯ä»¶çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ"é—®é¢˜ä¸­å›ç­”"ä»æœª" æˆ–æœªåœ¨"æ‚¨ç¼–å†™ä¸ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„è½¯ä»¶äº¤äº’çš„ä»£ç çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ"é—®é¢˜ä¸­å›ç­”"ä»æœª"çš„å—è®¿è€…ã€‚</em></p>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>å¯ç»´æŠ¤æ€§æ˜¯å—è®¿è€…æœ€å¯èƒ½è¡¨ç¤ºè¢«ä½ä»£ç æ”¹è¿›çš„ç‰¹æ€§ï¼Œå°½ç®¡è®¤ä¸ºä½ä»£ç å·¥å…·æ”¹å–„äº†å¯æ‰©å±•æ€§å’Œå®‰å…¨æ€§çš„å—è®¿è€…ä¹Ÿå å¤šæ•°ã€‚å—è®¿è€…æœ€å¯èƒ½è¯´ä½ä»£ç æ„å»ºçš„è½¯ä»¶æ€§èƒ½ä¸å…¨ä»£ç åº”ç”¨ç¨‹åºå¤§è‡´ç›¸åŒï¼Œè€Œè¡¨ç¤ºä½ä»£ç ä½¿è½¯ä»¶æ€§èƒ½"æ›´å¥½"æˆ–"æ›´å·®"çš„å—è®¿è€…æ•°é‡å¤§è‡´ç›¸å½“ã€‚</li>
</ul>
<p>è¡¨ç¤ºæœ€é¢‘ç¹ï¼ˆ"ç»å¸¸"æˆ–"ä¸€ç›´"ï¼‰ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºè½¯ä»¶çš„å—è®¿è€…ï¼Œæ¯”å…¶ä»–å—è®¿è€…æ›´å¯èƒ½å‘ç°ä½ä»£ç ä½¿è½¯ä»¶æ€§èƒ½æ›´å¥½ï¼ˆ36%ï¼‰ã€æ›´å¯ç»´æŠ¤ï¼ˆ65%ï¼‰ã€æ›´å¯æ‰©å±•ï¼ˆ53%ï¼‰å’Œæ›´å®‰å…¨ï¼ˆ55%ï¼‰ã€‚</p>
<ul>
<li>ç•¥å¤šäºåŠæ•°çš„å—è®¿è€…è®¤ä¸ºä½ä»£ç å·¥å…·ä½¿è½¯ä»¶å¼€å‘æ›´å…·è¿­ä»£æ€§ã€‚è¿™äº›ç»“æœä¸æˆ‘ä»¬2022å¹´æ”¶é›†çš„ç»“æœç›¸æ¯”æ²¡æœ‰æ˜¾è‘—å˜åŒ–ã€‚</li>
</ul>
<p>å†æ¬¡ï¼ŒæŠ¥å‘Š"ç»å¸¸"æˆ–"ä¸€ç›´"ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºè½¯ä»¶çš„å—è®¿è€…ï¼Œæ¯”é‚£äº›"æœ‰æ—¶"ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºï¼ˆ60%ï¼‰å’Œé‚£äº›"å¾ˆå°‘"æˆ–"ä»æœª"ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºï¼ˆ36%ï¼‰çš„å—è®¿è€…æ›´å¯èƒ½å‘ç°ä½¿ç”¨ä½ä»£ç ä½¿å¼€å‘æ›´å…·è¿­ä»£æ€§ï¼ˆ74%ï¼‰ã€‚</p>
<p>ç”±äºè®¸å¤šä½ä»£ç å¹³å°æ˜¯ä¸“é—¨ä¸ºæ”¯æŒå¿«é€ŸåŸå‹è®¾è®¡å’Œå¿«é€Ÿä¿®æ”¹è€Œè®¾è®¡çš„ï¼Œå…è®¸å¼€å‘äººå‘˜æ ¹æ®å³æ—¶åé¦ˆæŒç»­å®Œå–„å’Œæ”¹è¿›åº”ç”¨ç¨‹åºï¼Œè¿™äº›ç»“æœç¬¦åˆé¢„æœŸã€‚æˆ‘ä»¬å†æ¬¡çœ‹åˆ°ï¼Œ<em>æ›´å¹¿æ³›åœ°ä½¿ç”¨ä½ä»£ç å·¥å…·çš„ç»éªŒä¼šå¸¦æ¥å¯¹å…¶æ½œåŠ›çš„æ›´ç§¯æçœ‹æ³•</em>ã€‚</p>
<ul>
<li>æ˜¾è‘—æ›´å¤šçš„å—è®¿è€…è¡¨ç¤ºï¼Œä»–ä»¬çš„ç»éªŒè¡¨æ˜ä½ä»£ç å·¥å…·å¯¼è‡´äº†æ›´é«˜è´¨é‡çš„è½¯ä»¶ï¼Œè€Œä¸æ˜¯è¡¨ç¤ºä½ä»£ç å¯¼è‡´ç›¸åŒæˆ–æ›´ä½è´¨é‡è½¯ä»¶çš„å—è®¿è€…ï¼Œå°½ç®¡ä»–ä»¬å¹¶æœªå½¢æˆå¤šæ•°ã€‚</li>
</ul>
<p>è™½ç„¶è¿™äº›ç»“æœä¸æˆ‘ä»¬2023å¹´è°ƒæŸ¥æ”¶é›†çš„ç»“æœæœ‰æ˜¾è‘—ä¸åŒï¼Œä½†å®ƒä»¬å·²æ¢å¤åˆ°æˆ‘ä»¬åœ¨2021å¹´ä½ä»£ç å¼€å‘å’Œ2022å¹´ä½ä»£ç å¼€å‘è°ƒæŸ¥ä¸­çœ‹åˆ°çš„æ¯”ç‡ï¼ˆè¯¦æƒ…è§è¡¨8ï¼‰ã€‚ç›®å‰å°šä¸æ¸…æ¥šå»å¹´æ˜¯ä»€ä¹ˆå¯èƒ½å½±å“äº†ä½ä»£ç æ„å»ºè½¯ä»¶æ„ŸçŸ¥è´¨é‡çš„ä¸‹é™ã€‚</p>
<p><strong>è¡¨8.</strong> ä½ä»£ç å¯¹è½¯ä»¶è´¨é‡çš„å½±å“ï¼š2021-2024</p>
<p>| å½±å“ | 2021 | 2022 | 2023 | 2024 |</p>
<p>| :--- | :--- | :--- | :--- | :--- |</p>
<p>| æ›´é«˜è´¨é‡çš„è½¯ä»¶ | 39% | 38% | 22% | 41% |</p>
<p>| ç›¸åŒè´¨é‡çš„è½¯ä»¶ | 26% | 28% | 24% | 28% |</p>
<p>| æ›´ä½è´¨é‡çš„è½¯ä»¶ | 24% | 25% | 32% | 24% |</p>
<p>| æ— æ„è§ | 11% | 10% | 22% | 7% |</p>
<p>å†æ¬¡ï¼Œä½¿ç”¨ä½ä»£ç "ç»å¸¸"æˆ–"ä¸€ç›´"æ„å»ºè½¯ä»¶çš„å—è®¿è€…ï¼Œç»å†ä½ä»£ç å·¥å…·å…è®¸åˆ›å»ºæ›´é«˜è´¨é‡è½¯ä»¶çš„å¯èƒ½æ€§ï¼ˆ61%ï¼‰è¿œé«˜äºé‚£äº›"æœ‰æ—¶"ä½¿ç”¨ä½ä»£ç æ„å»ºè½¯ä»¶ï¼ˆ37%ï¼‰æˆ–"å¾ˆå°‘"/"ä»æœª"ä½¿ç”¨ï¼ˆ27%ï¼‰çš„å—è®¿è€…ã€‚æˆ‘ä»¬è®¤ä¸ºè¿™ä¸ä½ä»£ç å¹³å°å¯ä»¥å…è®¸çš„è¿­ä»£æ€§å¯†åˆ‡ç›¸å…³ï¼Œå¦‚å‰ä¸€è§‚å¯Ÿæ‰€è¿°ã€‚</p>
<h5 data-id="heading-14">ä½ä»£ç å®‰å…¨ä¸æ²»ç†</h5>
<p>åœ¨æ„å»ºä»»ä½•ç±»å‹çš„è½¯ä»¶æ—¶ï¼Œæ²»ç†å’Œå®‰å…¨æ€§éƒ½æ˜¯è‡³å…³é‡è¦çš„è€ƒè™‘å› ç´ ï¼Œå› æ­¤ï¼Œåœ¨å¤„ç†ä½ä»£ç å·¥å…·æ—¶ï¼Œè¿™äº›å°†æ˜¯å°¤å…¶éœ€è¦è§‚å¯Ÿçš„é‡è¦é¢†åŸŸï¼Œå› ä¸ºä½ä»£ç å·¥å…·å¯èƒ½å…è®¸æ–°å¹³å°å¹¿æ³›è®¿é—®åº”ç”¨ç¨‹åºåŸºç¡€è®¾æ–½â€”â€”å¹¶ä¸”å¯èƒ½æ¶‰åŠå¼€å‘å›¢é˜Ÿä»¥å¤–çš„å‘˜å·¥æ¥æ·»åŠ åŠŸèƒ½æˆ–ä¸è½¯ä»¶å†…éƒ¨äº¤äº’ã€‚æˆ‘ä»¬æƒ³æ‰¾å‡ºåœ¨ä½ä»£ç ä½¿ç”¨æ–¹é¢ï¼Œå¼€å‘äººå‘˜æœ€å…³å¿ƒæ²»ç†å’Œå®‰å…¨çš„å“ªäº›æ–¹é¢ï¼Œå› æ­¤æˆ‘ä»¬è¯¢é—®ï¼š</p>
<p>*åœ¨ä»¥ä¸‹é€‰æ‹©ä¸­ï¼Œæ‚¨è®¤ä¸ºåœ¨æ‚¨ç»„ç»‡ä¸­å»ºç«‹å¯¹ä½ä»£ç å·¥ä½œæ²»ç†çš„ä¸»è¦éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æ‚¨è®¤ä¸ºOWASPä½ä»£ç /æ— ä»£ç åå¤§å®‰å…¨å…³åˆ‡ä¸­ï¼Œå“ªäº›æ˜¯æ‚¨å½“å‰è´¡çŒ®çš„è½¯ä»¶çš„æ˜¾è‘—æ½œåœ¨å¨èƒï¼Ÿ**</p>
<p>ç»“æœï¼š</p>
<p><strong>å›¾18.</strong> å»ºç«‹å¯¹ä½ä»£ç å·¥ä½œæ²»ç†çš„ä¸»è¦éœ€æ±‚ [n=204]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-18.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šï¼‰</p>
<ul>
<li>
<p>ç®¡ç†ç«¯åˆ°ç«¯åº”ç”¨ç¨‹åºå¼€å‘ç”Ÿå‘½å‘¨æœŸï¼š31%</p>
</li>
<li>
<p>é¿å…å†—ä½™åº”ç”¨ç¨‹åºçš„è”“å»¶ï¼š22%</p>
</li>
<li>
<p>ä¿æŠ¤å…å—å¯¹å…¶ä»–ä¼ä¸šç³»ç»Ÿå’Œæ•°æ®çš„å½±å“ï¼š22%</p>
</li>
<li>
<p>ç»´æŒä¼ä¸šè´¨é‡å’Œæ€§èƒ½æ ‡å‡†çš„å¯è§æ€§ï¼š21%</p>
</li>
<li>
<p>å…¶ä»–ï¼š4%</p>
</li>
</ul>
<p><strong>å›¾19.</strong> æ„æˆæ˜¾è‘—æ½œåœ¨å¨èƒçš„ä½ä»£ç å®‰å…¨å…³åˆ‡ [n=197]</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-19.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æ•°æ®ç¿»è¯‘ï¼šæŒ‰é€‰æ‹©ç™¾åˆ†æ¯”æ’åºï¼‰</p>
<ul>
<li>
<p>èº«ä»½éªŒè¯å’Œå®‰å…¨é€šä¿¡æ•…éšœï¼š41%</p>
</li>
<li>
<p>æ•°æ®å’Œå¯†é’¥å¤„ç†æ•…éšœï¼š40%</p>
</li>
<li>
<p>æˆæƒæ»¥ç”¨ï¼š38%</p>
</li>
<li>
<p>æ˜“å—æ”»å‡»å’Œä¸å—ä¿¡ä»»çš„ç»„ä»¶ï¼š35%</p>
</li>
<li>
<p>å®‰å…¨æ—¥å¿—è®°å½•å’Œç›‘æ§æ•…éšœï¼š33%</p>
</li>
<li>
<p>æ³¨å…¥å¤„ç†æ•…éšœï¼š28%</p>
</li>
<li>
<p>èµ„äº§ç®¡ç†æ•…éšœï¼š25%</p>
</li>
<li>
<p>æ•°æ®æ³„æ¼å’Œæ„å¤–åæœï¼š24%</p>
</li>
<li>
<p>è´¦æˆ·å†’å……ï¼š21%</p>
</li>
<li>
<p>æ— ï¼š13%</p>
</li>
</ul>
<p><em>*æ³¨ï¼šæ­¤é—®é¢˜ä»…è¯¢é—®äº†æœªåœ¨"æ‚¨ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºè½¯ä»¶çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ"é—®é¢˜ä¸­å›ç­”"ä»æœª" æˆ– æœªåœ¨"æ‚¨ç¼–å†™ä¸ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºçš„è½¯ä»¶äº¤äº’çš„ä»£ç çš„é¢‘ç‡å¦‚ä½•ï¼Ÿ"é—®é¢˜ä¸­å›ç­”"ä»æœª"çš„å—è®¿è€…ã€‚</em></p>
<p><strong>è§‚å¯Ÿ</strong></p>
<ul>
<li>å—è®¿è€…å…³äºå»ºç«‹å¯¹ä½ä»£ç å·¥ä½œæ²»ç†çš„ä¸»è¦åŸå› çš„çœ‹æ³•åœ¨æä¾›çš„å››ä¸ªé€‰é¡¹ä¸­åˆ†å¸ƒç›¸å½“å‡åŒ€ï¼Œ"ç®¡ç†ç«¯åˆ°ç«¯åº”ç”¨ç¨‹åºå¼€å‘ç”Ÿå‘½å‘¨æœŸ"ç•¥å¾®é¢†å…ˆäºå…¶ä»–é€‰é¡¹ã€‚è¿™äº›ç»“æœä¸æˆ‘ä»¬2022å¹´è°ƒæŸ¥æ”¶é›†çš„ç»“æœç›¸æ¯”æ²¡æœ‰æ˜¾è‘—å˜åŒ–ã€‚</li>
</ul>
<p>è¡¨ç¤º"ç»å¸¸"æˆ–"ä¸€ç›´"ä½¿ç”¨ä½ä»£ç å¹³å°æ„å»ºè½¯ä»¶çš„å—è®¿è€…æ¯”å…¶ä»–å—è®¿è€…æ›´å¯èƒ½å°†"ç»´æŒä¼ä¸šè´¨é‡å’Œæ€§èƒ½æ ‡å‡†çš„å¯è§æ€§"è§†ä¸ºä½ä»£ç æ²»ç†çš„ä¸»è¦åŸå› ï¼Œå¹¶ä¸”æ›´ä¸å¯èƒ½é€‰æ‹©"ä¿æŠ¤å…å—å¯¹å…¶ä»–ä¼ä¸šç³»ç»Ÿå’Œæ•°æ®çš„å½±å“"å’Œ"é¿å…å†—ä½™åº”ç”¨ç¨‹åºçš„è”“å»¶"ã€‚è¡¨ç¤º"å¾ˆå°‘"æˆ–"ä»æœª"ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºè½¯ä»¶çš„å—è®¿è€…æ¯”å…¶ä»–å—è®¿è€…æ›´ä¸å¯èƒ½é€‰æ‹©"ç®¡ç†ç«¯åˆ°ç«¯åº”ç”¨ç¨‹åºå¼€å‘ç”Ÿå‘½å‘¨æœŸ"ä½œä¸ºå»ºç«‹æ²»ç†çš„ä¸»è¦éœ€æ±‚ã€‚æ­¤æ•°æ®çš„è¯¦ç»†ä¿¡æ¯è§è¡¨9ï¼š</p>
<p><strong>è¡¨9.</strong> æŒ‰ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºè½¯ä»¶çš„é¢‘ç‡åˆ’åˆ†çš„å»ºç«‹ä½ä»£ç æ²»ç†çš„ä¸»è¦éœ€æ±‚</p>
<p>| éœ€æ±‚ | ä½¿ç”¨é¢‘ç‡ |</p>
<p>| :--- | :--- | :--- | :--- |</p>
<p>| | ä»æœª/å¾ˆå°‘ | æœ‰æ—¶ | ç»å¸¸/ä¸€ç›´ |</p>
<p>| ç®¡ç†ç«¯åˆ°ç«¯åº”ç”¨ç¨‹åºå¼€å‘ç”Ÿå‘½å‘¨æœŸ | 23% | 35% | 37% |</p>
<p>| ç»´æŒä¼ä¸šè´¨é‡å’Œæ€§èƒ½æ ‡å‡†çš„å¯è§æ€§ | 24% | 17% | 35% |</p>
<p>| ä¿æŠ¤å…å—å¯¹å…¶ä»–ä¼ä¸šç³»ç»Ÿå’Œæ•°æ®çš„å½±å“ | 23% | 25% | 15% |</p>
<p>| é¿å…å†—ä½™åº”ç”¨ç¨‹åºçš„è”“å»¶ | 27% | 23% | 10% |</p>
<p>| å…¶ä»– | 4% | 0% | 3% |</p>
<ul>
<li>æ²¡æœ‰ä¸€ä¸ªå•ä¸€çš„å®‰å…¨å…³åˆ‡è¢«è®¤ä¸ºæ˜¯å¯¹å—è®¿è€…è´¡çŒ®è¿‡çš„è½¯ä»¶çš„"æ˜¾è‘—æ½œåœ¨å¨èƒ"ï¼Œä½†å››åˆ†ä¹‹ä¸‰çš„å—è®¿è€…é€‰æ‹©äº†è‡³å°‘ä¸€ä¸ªä»–ä»¬è®¤ä¸ºå¯èƒ½è¯æ˜æ˜¯ä¸¥é‡çš„å…³åˆ‡ï¼Œå¤§çº¦ä¸€åŠï¼ˆ49%ï¼‰é€‰æ‹©äº†ä¸‰ä¸ªæˆ–æ›´å¤šï¼Œå¤§çº¦å››åˆ†ä¹‹ä¸€ï¼ˆ24%ï¼‰é€‰æ‹©äº†OWASPä½ä»£ç /æ— ä»£ç åå¤§å®‰å…¨å…³åˆ‡ä¸­çš„äº”ä¸ªæˆ–æ›´å¤šã€‚</li>
</ul>
<p>å…¨æ ˆå¼€å‘è€…æ¯”å…¶ä»–å¼€å‘è€…æ›´å¯èƒ½è®¤ä¸º"æ˜“å—æ”»å‡»å’Œä¸å—ä¿¡ä»»çš„ç»„ä»¶"ï¼ˆ41%ï¼‰ã€"å®‰å…¨æ—¥å¿—è®°å½•å’Œç›‘æ§æ•…éšœ"ï¼ˆ36%ï¼‰ã€"æ³¨å…¥å¤„ç†æ•…éšœ"ï¼ˆ31%ï¼‰å’Œ"è´¦æˆ·å†’å……"ï¼ˆ26%ï¼‰æ˜¯æ½œåœ¨çš„ä¸¥é‡å¨èƒï¼Œè€Œéåç«¯/å…¨æ ˆå¼€å‘è€…æ¯”å…¶ä»–å¼€å‘è€…æ›´å¯èƒ½å°†"æˆæƒæ»¥ç”¨"ï¼ˆ40%ï¼‰è§†ä¸ºå¯èƒ½ä¸¥é‡çš„å¨èƒï¼Œå¹¶ä¸”æ›´ä¸å¯èƒ½å°†"æ•°æ®æ³„æ¼å’Œæ„å¤–åæœ"ï¼ˆ31%ï¼‰å’Œ"èº«ä»½éªŒè¯å’Œå®‰å…¨é€šä¿¡æ•…éšœ"ï¼ˆ15%ï¼‰è§†ä¸ºæ­¤ç±»å¨èƒã€‚</p>
<p>è¡¨ç¤ºæœ€é¢‘ç¹ä½¿ç”¨ä½ä»£ç å·¥å…·æ„å»ºè½¯ä»¶çš„å—è®¿è€…æ¯”å…¶ä»–å—è®¿è€…æ›´å¯èƒ½å‘ç°"æ³¨å…¥å¤„ç†æ•…éšœ"ï¼ˆ29%ï¼‰æ˜¯ä¸¥é‡å¨èƒï¼Œå¹¶ä¸”æ›´ä¸å¯èƒ½ç›¸ä¿¡"æˆæƒæ»¥ç”¨"ï¼ˆ23%ï¼‰å’Œ"è´¦æˆ·å†’å……"ï¼ˆ15%ï¼‰æ˜¯ä¸»è¦å…³åˆ‡ã€‚è¿™äº›å—è®¿è€…ä¹Ÿæ›´å¯èƒ½å£°ç§°OWASPä½ä»£ç /æ— ä»£ç åå¤§å®‰å…¨å…³åˆ‡ä¸­æ²¡æœ‰ä¸€ä¸ªå¯¹å…¶è½¯ä»¶æ„æˆæ˜¾è‘—å¨èƒï¼ˆ13%ï¼‰ã€‚</p>
<p>è¡¨ç¤º"å¾ˆå°‘"æˆ–"ä»æœª"ä½¿ç”¨ä½ä»£ç æ„å»ºè½¯ä»¶çš„å—è®¿è€…æ¯”å…¶ä»–å—è®¿è€…æ›´å¯èƒ½é€‰æ‹©"èµ„äº§ç®¡ç†æ•…éšœ"ï¼ˆ19%ï¼‰ï¼Œå¹¶ä¸”æ›´ä¸å¯èƒ½é€‰æ‹©"æ•°æ®å’Œå¯†é’¥å¤„ç†æ•…éšœ"ï¼ˆ18%ï¼‰ä½œä¸ºæ½œåœ¨çš„ä¸¥é‡å¨èƒã€‚</p>
<h4 data-id="heading-15">æœªæ¥ç ”ç©¶</h4>
<p>æˆ‘ä»¬è¿™é‡Œçš„åˆ†æä»…è§¦åŠäº†å¯ç”¨æ•°æ®çš„è¡¨é¢ï¼Œæˆ‘ä»¬å°†åœ¨åˆ¶ä½œæœªæ¥çš„è¶‹åŠ¿æŠ¥å‘Šæ—¶å®Œå–„å’Œæ‰©å±•æˆ‘ä»¬çš„ä½ä»£ç å¼€å‘è°ƒæŸ¥ã€‚æˆ‘ä»¬åœ¨æœ¬æŠ¥å‘Šä¸­æœªæ¶‰åŠä½†å·²çº³å…¥è°ƒæŸ¥çš„ä¸€äº›ä¸»é¢˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>å¼€å‘äººå‘˜å¸Œæœ›ä¸šåŠ¡ç”¨æˆ·åˆ›å»ºç®€å•è‡ªåŠ¨åŒ–çš„æ„æ„¿</p>
</li>
<li>
<p>ä½ä»£ç å’Œå…¨ä»£ç ä¹‹é—´äº’æ“ä½œæ€§é—®é¢˜çš„é¢‘ç‡</p>
</li>
<li>
<p>ä½ä»£ç é¿å…å¯é¢„é˜²å¼€å‘é”™è¯¯çš„èƒ½åŠ›</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-16">é€šè¿‡ä½ä»£ç å’Œæ— ä»£ç é›†æˆè½¬å˜è½¯ä»¶å¼€å‘</h2>
<p><strong>åˆ›å»ºæ›´å¿«ã€æ›´æ™ºèƒ½çš„è½¯ä»¶å¼€å‘æµç¨‹</strong></p>
<p>ä½œè€…ï¼šShantanu Kumar, Amazon é«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆ</p>
<p>å°½ç®¡ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸï¼ˆSDLCï¼‰é€Ÿåº¦ç¼“æ…¢ä¸”æ— æ³•æ»¡è¶³åŠ¨æ€çš„ä¸šåŠ¡éœ€æ±‚ï¼Œä½†å®ƒé•¿æœŸä»¥æ¥ä¸€ç›´æ˜¯å…¬å¸æ„å»ºåº”ç”¨ç¨‹åºæœ€æµè¡Œçš„æ–¹å¼â€”â€”ç›´åˆ°ä½ä»£ç å’Œæ— ä»£ç ï¼ˆLCNCï¼‰å·¥å…·çš„å‡ºç°ã€‚è¿™äº›å·¥å…·ç®€åŒ–äº†ç¼–ç è¿‡ç¨‹ï¼Œä½¿å¾—é«˜çº§å¼€å‘äººå‘˜å’ŒéæŠ€æœ¯ç”¨æˆ·éƒ½å¯ä»¥åšå‡ºè´¡çŒ®ï¼Œé€šè¿‡ç¼©çŸ­SDLCä½¿ç»„ç»‡èƒ½å¤Ÿå¿«é€Ÿå“åº”å¸‚åœºéœ€æ±‚ã€‚</p>
<p>è¯·ç»§ç»­é˜…è¯»ï¼Œäº†è§£è½¯ä»¶å¼€å‘å¦‚ä½•å› LCNCå·¥å…·è€Œæ”¹å˜ï¼Œå¦‚ä½•å°†å®ƒä»¬é›†æˆåˆ°æ‚¨çš„è¿è¥ä¸­ï¼Œä»¥åŠé›†æˆæ—¶å¯èƒ½å‡ºç°çš„æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-17">ç†è§£ä½ä»£ç å’Œæ— ä»£ç å¼€å‘</h3>
<p>ä½ä»£ç å’Œæ— ä»£ç å¼€å‘ç¯å¢ƒè®©äººä»¬èƒ½å¤Ÿé€šè¿‡å¯è§†åŒ–ç•Œé¢ã€æ‹–æ”¾å·¥å…·å’Œå¯é‡ç”¨ç»„ä»¶æ¥æ„å»ºåº”ç”¨ç¨‹åºï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç¼–å†™ä»£ç ã€‚ä½ä»£ç å¼€å‘å¹³å°æ˜¯å¯è§†åŒ–å¼€å‘ç¯å¢ƒï¼Œä½¿ä»»ä½•æŠ€èƒ½æ°´å¹³çš„å¼€å‘äººå‘˜éƒ½èƒ½å¤Ÿå°†ç»„ä»¶æ‹–æ”¾åˆ°é¢æ¿ä¸Šå¹¶è¿æ¥å®ƒä»¬ä»¥åˆ›å»ºç§»åŠ¨æˆ–Webåº”ç”¨ç¨‹åºã€‚æ— ä»£ç å¼€å‘å¹³å°åˆ™é¢å‘æ²¡æœ‰æˆ–å‡ ä¹æ²¡æœ‰ç¼–ç ç»éªŒçš„ç”¨æˆ·ã€‚</p>
<p>é‚£ä¹ˆï¼Œæ‚¨å¦‚ä½•åˆ©ç”¨è¿™äº›å¹³å°æ¥å¢å¼ºä¼ ç»Ÿçš„SDLCå‘¢ï¼Ÿ</p>
<p>å‡è®¾æ‚¨æ˜¯ä¸€åå…·æœ‰åŸºæœ¬ç¼–ç æŠ€èƒ½çš„è®¾è®¡å¸ˆã€‚ä½¿ç”¨LCNCå¹³å°ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿä½¿ç”¨å¯é‡ç”¨ç»„ä»¶åˆ›å»ºåŸå‹ï¼Œè€Œæ— éœ€ç¼–å†™ä¸€è¡Œä»£ç ã€‚è¿™å°†åŠ å¿«è½¯ä»¶å¼€å‘è¿‡ç¨‹ï¼Œå¹¶ç¡®ä¿æœ€ç»ˆäº§å“æ»¡è¶³ç”¨æˆ·éœ€æ±‚ã€‚</p>
<h3 data-id="heading-18">ä½ä»£ç å’Œæ— ä»£ç é›†æˆçš„è§„åˆ’ä¸è¯„ä¼°</h3>
<p>å°½ç®¡SDLCå› ä¸åŒçš„SDLCæ¨¡å‹è€Œåœ¨å…¬å¸é—´æœ‰æ‰€ä¸åŒï¼Œä½†å®ƒé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹é˜¶æ®µï¼šé¡¹ç›®è§„åˆ’ã€éœ€æ±‚æ”¶é›†ä¸åˆ†æã€è®¾è®¡ã€æµ‹è¯•ã€éƒ¨ç½²å’Œç»´æŠ¤ã€‚è¿™ä¸ªè¿‡ç¨‹ç¡®ä¿äº†é«˜åº¦çš„ç»†èŠ‚ï¼Œä½†å‡æ…¢äº†å¼€å‘å‘¨æœŸå¹¶æ¶ˆè€—äº†å¤§é‡èµ„æºã€‚</p>
<p>ä½ä»£ç å’Œæ— ä»£ç å·¥å…·è§£å†³äº†è¿™ä¸€æŒ‘æˆ˜ã€‚ä¾‹å¦‚ï¼Œåœ¨è®¾è®¡é˜¶æ®µï¼ŒäººåŠ›èµ„æºå›¢é˜Ÿå¯ä»¥ä½¿ç”¨LCNCå¹³å°æä¾›çš„å¯é‡ç”¨ç»„ä»¶æˆ–é¢„åˆ¶æ¨¡æ¿å¿«é€Ÿè®¾è®¡ä»–ä»¬çš„æ‹›è˜é—¨æˆ·ï¼Œä»¥è½»æ¾è·Ÿè¸ªå€™é€‰äººã€èŒä½å‘å¸ƒå’Œé¢è¯•å®‰æ’ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å°†LCNCå¹³å°é›†æˆåˆ°æ‚¨ç°æœ‰çš„å·¥ä½œæµä¹‹å‰ï¼Œè¯·è€ƒè™‘æ‚¨å›¢é˜Ÿçš„ä¸“é•¿ã€æ‚¨é€‰æ‹©çš„å¹³å°ä¸æ‚¨çš„ITåŸºç¡€è®¾æ–½çš„å…¼å®¹æ€§ä»¥åŠå¹³å°çš„å®‰å…¨ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-19">ä½ä»£ç å’Œæ— ä»£ç é›†æˆçš„æ­¥éª¤</h3>
<p>è¦å°†ä½ä»£ç å’Œæ— ä»£ç å·¥å…·é›†æˆåˆ°æ‚¨çš„è¿è¥ä¸­ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p>
<p>å›¾1. å®ç°æ— ç¼LCNCé›†æˆçš„ç®€åŒ–æ­¥éª¤</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-20-1.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šä¸€ä¸ªå¾ªç¯å›¾ï¼ŒåŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼š1. å®šä¹‰ç›®æ ‡å’Œç›®çš„ -&gt; 2. é€‰æ‹©åˆé€‚çš„LCNCå¹³å° -&gt; 3. åŸ¹è®­å›¢é˜Ÿæˆå‘˜ -&gt; 4. è®¾è®¡é›†æˆæ¶æ„ -&gt; 5. å®æ–½é›†æˆæ¡†æ¶ -&gt; 6. è¿›è¡Œæµ‹è¯•å’Œè´¨é‡ä¿è¯ -&gt; 7. ç®¡ç†éƒ¨ç½²å’Œå‘å¸ƒ -&gt; 8. ç›‘æ§å’Œç»´æŠ¤ -&gt; è¿”å›æ­¥éª¤1 å½¢æˆå¾ªç¯ï¼‰</p>
<p>è¡¨1æ‰©å±•äº†è¿™äº›æ­¥éª¤ï¼Œå¹¶åŒ…æ‹¬æ¯ä¸ªæ­¥éª¤çš„ç¤ºä¾‹ï¼š</p>
<p><strong>è¡¨1.</strong> é›†æˆLCNCå·¥å…·çš„æ­¥éª¤</p>
<p>| æ­¥éª¤ | æè¿° | ç¤ºä¾‹ |</p>
<p>| :--- | :--- | :--- |</p>
<p>| 1. å®šä¹‰ç›®æ ‡å’Œç›®çš„ | <strong>æ˜ç¡®å®šä¹‰æ‚¨æƒ³è¦å®ç°çš„ç›®æ ‡</strong>ï¼Œå¹¶ä½¿å…¶å…·ä½“åŒ–ã€‚ç›®æ ‡å¯èƒ½åŒ…æ‹¬åŠ é€Ÿå¼€å‘ã€é™ä½æˆæœ¬æˆ–æé«˜å›¢é˜Ÿç”Ÿäº§åŠ›ã€‚ | åœ¨å…­ä¸ªæœˆå†…ä½¿ç”¨é¢„æ„å»ºæ¨¡æ¿å°†åº”ç”¨ç¨‹åºå¼€å‘æ—¶é—´å‡å°‘40%ã€‚ |</p>
<p>| 2. é€‰æ‹©åˆé€‚çš„LCNCå¹³å° | ä¸è¦å°†å°±ã€‚<strong>è¯„ä¼°å„ç§å¹³å°</strong>ï¼Œå¹¶å°†å…¶ä¸æ‚¨çš„éœ€æ±‚å’Œç›®æ ‡ç›¸åŒ¹é…ã€‚è€ƒè™‘ç”¨æˆ·å‹å¥½æ€§ã€å®‰å…¨ç‰¹æ€§ä»¥åŠä¸ç°æœ‰ç³»ç»Ÿçš„å…¼å®¹æ€§ã€‚ | å¦‚æœå¤§å¤šæ•°å›¢é˜Ÿæˆå‘˜ä¸ç²¾é€šæŠ€æœ¯ï¼Œåˆ™é€‰æ‹©ä¸€ä¸ªä¸»è¦å› å…¶æ˜“ç”¨æ€§å’Œæ•™è‚²æ”¯æŒè€Œçªå‡ºçš„æ— ä»£ç å¹³å°ã€‚ |</p>
<p>| 3. åŸ¹è®­å’Œå¼•å¯¼å›¢é˜Ÿæˆå‘˜ | ç¡®ä¿æ‰€æœ‰å›¢é˜Ÿæˆå‘˜ï¼Œæ— è®ºæ˜¯å¦ç²¾é€šæŠ€æœ¯ï¼Œ<strong>éƒ½èƒ½ä½¿ç”¨æ‚¨çš„å¹³å°</strong>ã€‚ | å®‰æ’è®²åº§å’Œç½‘ç»œç ”è®¨ä¼šï¼Œç”šè‡³ä¸ºæ‚¨çš„å›¢é˜Ÿæˆå‘˜æŠ¥åå‚åŠ LCNCå¹³å°æä¾›çš„ä¸“ä¸šè¯¾ç¨‹ã€‚ |</p>
<p>| 4. è®¾è®¡é›†æˆæ¶æ„ | ç¡®ä¿æ‚¨çš„å¹³å°<strong>è®¾è®¡å¾—æ˜“äºä¸å½“å‰ç³»ç»Ÿé›†æˆ</strong>ã€‚ | æ˜ å°„æ•°æ®åœ¨ç°æœ‰ç³»ç»Ÿå’Œé¦–é€‰å¹³å°ä¹‹é—´çš„æµåŠ¨æ–¹å¼ã€‚ |</p>
<p>| 5. å®æ–½é›†æˆæ¡†æ¶ | <strong>åˆ›å»ºä¸€ä¸ªåœ¨SDLCå†…é›†æˆLCNCå¹³å°çš„æ¡†æ¶</strong>ã€‚åœ¨æœ€ç®€å•çš„å±‚é¢ä¸Šï¼Œè¿™å¯èƒ½æ¶‰åŠä¸ºSDLCæ¯ä¸ªé˜¶æ®µé€‰æ‹©å·¥å…·åˆ›å»ºæŒ‡å—ã€‚ | é›†æˆLCNCå¹³å°ä»¥æ”¶é›†å®¢æˆ·è°ƒæŸ¥å›å¤ã€äº§å“å‘å¸ƒåé¦ˆæˆ–è”ç³»è¡¨å•æäº¤ã€‚æ²¡æœ‰è¿™äº›å·¥å…·ï¼Œå¼€å‘äººå‘˜éœ€è¦ä»å¤´å¼€å§‹æ„å»ºåŠŸèƒ½ï¼Œéœ€è¦å¤§é‡çš„å‰ç«¯å¼€å‘å’Œå­˜å‚¨é›†æˆï¼Œå¯¼è‡´æ›´é«˜çš„æˆæœ¬å’Œæ›´é•¿çš„å¼€å‘å‘¨æœŸã€‚ |</p>
<p>| 6. è¿›è¡Œæµ‹è¯•å’Œè´¨é‡ä¿è¯ | ä½¿ç”¨<strong>æ··åˆæµ‹è¯•æ–¹æ³•</strong>ï¼ˆå¦‚å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’ŒéªŒæ”¶æµ‹è¯•ï¼‰å¯¹æ‚¨çš„LCNCå·¥å…·è¿›è¡Œä¸¥æ ¼æµ‹è¯•ã€‚ | æ‚¨å¯ä»¥æ‰§è¡ŒéªŒæ”¶æµ‹è¯•ä»¥ç¡®ä¿æ‚¨çš„åº”ç”¨ç¨‹åºæ»¡è¶³æœ€ç»ˆç”¨æˆ·çš„éœ€æ±‚å’ŒæœŸæœ›ã€‚ |</p>
<p>| 7. ç®¡ç†éƒ¨ç½²å’Œå‘å¸ƒ | ä»¥ç»“æ„åŒ–çš„æ–¹å¼<strong>ä½¿ç”¨éƒ¨ç½²ç­–ç•¥</strong>ï¼ˆä¾‹å¦‚ï¼Œæ»šåŠ¨éƒ¨ç½²ï¼‰å°†æ‚¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²ç»™æœ€ç»ˆç”¨æˆ·ï¼Œå¹¶åŒ…å«åœ¨å‡ºç°ä¸å¯é¢„è§é—®é¢˜æ—¶å›æ»šçš„è®¡åˆ’ã€‚ | æ‚¨å¯ä»¥ä½¿ç”¨äº‘è§£å†³æ–¹æ¡ˆæ¥è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚ |</p>
<p>| 8. ç›‘æ§å’Œç»´æŠ¤ | éƒ¨ç½²å<strong>ç›‘æ§åº”ç”¨ç¨‹åºçš„æ€§èƒ½</strong>ä»¥æ£€æµ‹æ½œåœ¨çš„ç›¸å…³é—®é¢˜ã€‚ | åœ¨ç»´æŠ¤æœŸé—´ï¼Œæ‚¨å¯èƒ½ä¼šé‡åˆ°é”™è¯¯ã€‚å®‰æ’å®šæœŸé”™è¯¯ä¿®å¤å¯ä»¥ç»´æŠ¤åº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§ã€åŠŸèƒ½æ€§å’Œå®‰å…¨æ€§ã€‚ |</p>
<h3 data-id="heading-20">é›†æˆä½ä»£ç å’Œæ— ä»£ç ï¼šè¦å®æ–½å’Œé¿å…çš„å®è·µ</h3>
<p>è™½ç„¶ä½ä»£ç å’Œæ— ä»£ç å¹³å°ç®€åŒ–äº†SDLCï¼Œä½†å®æ–½å®ƒä»¬éœ€è¦ç»“æ„åŒ–çš„æ–¹æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ¢è®¨åœ¨é›†æˆè¿‡ç¨‹ä¸­éœ€è¦è€ƒè™‘çš„æœ€ä½³å®è·µå’Œé€‚å¾—å…¶åçš„å®è·µã€‚</p>
<h4 data-id="heading-21">å®æ–½ï¼šæ¸è¿›å¼é‡‡ç”¨</h4>
<p>å°†ä½ä»£ç å’Œæ— ä»£ç å¹³å°é€æ­¥é›†æˆåˆ°ç°æœ‰çš„æµç¨‹å’Œç³»ç»Ÿä¸­ï¼Œå¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å¯¹æ­£åœ¨è¿›è¡Œçš„è¿è¥çš„å¹²æ‰°ã€‚é¦–å…ˆå°†LCNCè§£å†³æ–¹æ¡ˆç”¨äºéå…³é”®é¡¹ç›®ï¼Œè¿™äº›é¡¹ç›®å¯ä»¥ä½œä¸ºå®Œå–„é›†æˆç­–ç•¥çš„è¯•éªŒåœºã€‚ä¾‹å¦‚ï¼Œå¼€å‘äººå‘˜å¯ä»¥é€æ­¥è¿ç§»LCNCæµç¨‹ï¼Œä»éå…³é”®çš„ã€æ˜“äºæ‰“åŒ…çš„æµç¨‹å¼€å§‹ï¼Œå¹¶éšç€æ—¶é—´çš„æ¨ç§»é€æ¸æ‰©å¤§è§„æ¨¡ã€‚éå…³é”®æµç¨‹ï¼Œå¦‚ç”µå­é‚®ä»¶é€šçŸ¥ï¼Œæ›´é€‚åˆç¼“æ…¢ã€è¿­ä»£åœ°æ¨å¹¿åˆ°ä¸€å°éƒ¨åˆ†å®¢æˆ·ã€‚</p>
<h4 data-id="heading-22">å®æ–½ï¼šåä½œå¼€å‘</h4>
<p>åä½œå¼€å‘æ˜¯ä¸€ç§å¼ºè°ƒå›¢é˜Ÿåˆä½œçš„æ–¹æ³•è®ºã€‚å®ƒå°†SDLCä¸­æ¶‰åŠçš„å„ç§åˆ©ç›Šç›¸å…³è€…èšé›†åœ¨ä¸€èµ·ï¼Œä¾‹å¦‚é¡¹ç›®ç»ç†ã€ä¸šåŠ¡åˆ†æå¸ˆã€UX/UIè®¾è®¡å¸ˆã€è½¯ä»¶å¼€å‘äººå‘˜ä»¥åŠå…¶ä»–æŠ€æœ¯å’ŒéæŠ€æœ¯äººå‘˜ã€‚è¿™ç§æ–¹æ³•è€ƒè™‘äº†æ¯ä¸ªåˆ©ç›Šç›¸å…³è€…çš„æ„è§ï¼Œä»è€Œäº¤ä»˜é«˜è´¨é‡çš„åº”ç”¨ç¨‹åºã€‚é€šè¿‡ä¸ºSDLCä¸­æ¶‰åŠçš„æ¯ä¸ªåˆ©ç›Šç›¸å…³è€…å»ºç«‹æ˜ç¡®çš„è§’è‰²å’ŒèŒè´£æ¥é¼“åŠ±åä½œã€‚</p>
<h4 data-id="heading-23">å®æ–½ï¼šæ··åˆå¼€å‘æ¨¡å‹</h4>
<p>å°†ä½ä»£ç å’Œæ— ä»£ç å¹³å°ä¸ä¼ ç»Ÿç¼–ç ç›¸ç»“åˆæä¾›äº†ä¸€ç§å¹³è¡¡çš„æ–¹æ³•ã€‚è™½ç„¶LCNCå¹³å°å¯ä»¥åŠ é€Ÿå¼€å‘ï¼Œä½†å¤æ‚çš„åŠŸèƒ½å¯èƒ½éœ€è¦è‡ªå®šä¹‰ä»£ç ã€‚é‡‡ç”¨æ··åˆæ–¹æ³•å¯ä»¥ä¿ƒè¿›çµæ´»æ€§ï¼Œå¹¶åœ¨ä¸ç‰ºç‰²ä¼ ç»Ÿç¼–ç æä¾›çš„å¢å¼ºåŠŸèƒ½çš„æƒ…å†µä¸‹ç»´æŠ¤åº”ç”¨ç¨‹åºçš„å®Œæ•´æ€§ã€‚</p>
<h4 data-id="heading-24">å®æ–½ï¼šæŒç»­åé¦ˆå¾ªç¯</h4>
<p>ä½ä»£ç å’Œæ— ä»£ç å·¥å…·åŠ é€Ÿäº†åé¦ˆå¾ªç¯ï¼Œå…è®¸å›¢é˜Ÿå¿«é€Ÿæ„å»ºåŸå‹ã€æ—©æœŸå¹¶ç»å¸¸æ”¶é›†ç”¨æˆ·åé¦ˆï¼Œå¹¶æ ¹æ®æ”¶åˆ°çš„åé¦ˆå®Œå–„åº”ç”¨ç¨‹åºã€‚è¿™ç§æ–¹æ³•ç¡®ä¿æœ€ç»ˆäº§å“ç¬¦åˆç”¨æˆ·éœ€æ±‚å’ŒæœŸæœ›ï¼Œå¹¶å¿«é€Ÿé€‚åº”åŠ¨æ€çš„ä¸šåŠ¡éœ€æ±‚ã€‚</p>
<h4 data-id="heading-25">é¿å…ï¼šè¿‡åº¦ä¾èµ–ä½ä»£ç å’Œæ— ä»£ç å¹³å°</h4>
<p>ä½ä»£ç å’Œæ— ä»£ç å·¥å…·å¹¶éæ—¨åœ¨å½»åº•æ”¹å˜ä¼ ç»Ÿç¼–ç ã€‚å¤æ‚çš„é€»è¾‘æˆ–æ€§èƒ½å…³é”®çš„ä»»åŠ¡ä»ç„¶éœ€è¦ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æ–¹æ³•ã€‚å› æ­¤ï¼Œä¼ä¸šåº”é‡‡ç”¨æ··åˆå¼€å‘æ¨¡å‹ã€‚</p>
<h4 data-id="heading-26">é¿å…ï¼šç¼ºä¹é€‚å½“çš„åŸ¹è®­å’Œæ•™è‚²</h4>
<p>å¦‚æœä½¿ç”¨ä¸å½“ï¼Œä½ä»£ç å’Œæ— ä»£ç å¯èƒ½å¼Šå¤§äºåˆ©ã€‚éƒ¨ç½²ä¸å½“å¯èƒ½å¯¼è‡´åœæœºï¼Œè¿™ä¼šè¿…é€Ÿå¢åŠ å®¢æˆ·æµå¤±å’Œå£°èª‰å—æŸæ–¹é¢çš„æˆæœ¬ï¼ˆä¾‹å¦‚ï¼Œåœ¨æœåŠ¡è®¸å¤šå®¢æˆ·çš„æƒ…å†µä¸‹ï¼‰â€”â€”å³ä½¿ä¸€ç§’é’Ÿçš„ä¸å¯ç”¨æ€§ä¹Ÿä¼šå¸¦æ¥å·¨å¤§çš„æˆæœ¬ã€‚ä»è¿™äº›å¼€åˆ›æ€§å¹³å°å—ç›Šçš„èƒ½åŠ›å®Œå…¨ä¾èµ–äºä¸ºæŠ€æœ¯å’ŒéæŠ€æœ¯ç”¨æˆ·æä¾›é€‚å½“çš„åŸ¹è®­ï¼Œä»¥é¿å…ç´¯ç§¯çš„å¼‚å¸¸æƒ…å†µã€‚</p>
<h4 data-id="heading-27">é¿å…ï¼šå¿½è§†å®‰å…¨å’Œåˆè§„æ€§é—®é¢˜</h4>
<p>ä½ä»£ç å’Œæ— ä»£ç å¹³å°æ¶ˆé™¤äº†ä¸å¸¸è§„SDLCæµç¨‹ç›¸å…³çš„å„ç§éšœç¢ã€‚ç„¶è€Œï¼Œå®ƒä»¬ä¹Ÿå¸¦æ¥äº†å®‰å…¨å…³åˆ‡ï¼Œä¸»è¦æ˜¯å› ä¸ºæ‚¨é€‰æ‹©çš„å¹³å°æ‰˜ç®¡ç€æ‚¨çš„æ•°æ®ã€‚è¯„ä¼°æ‚¨é€‰æ‹©çš„ä½ä»£ç æˆ–æ— ä»£ç å¹³å°çš„å®‰å…¨ç‰¹æ€§ï¼Œä»¥ç¡®ä¿å…¶æ»¡è¶³æ‚¨ç»„ç»‡çš„æ•°æ®ä¿æŠ¤æ³•è§„å’Œå…¶ä»–è¡Œä¸šæ³•è§„ï¼ˆä¾‹å¦‚ï¼ŒGDPRã€HIPAAã€CCPAï¼‰ï¼Œä»¥é¿å…å®‰å…¨æ¼æ´å’Œæ³•å¾‹é—®é¢˜ã€‚</p>
<h4 data-id="heading-28">é¿å…ï¼šå¿½ç•¥å¯æ‰©å±•æ€§å’Œå®šåˆ¶åŒ–è¦æ±‚</h4>
<p>å¹¶éæ‰€æœ‰çš„ä½ä»£ç å’Œæ— ä»£ç å¹³å°éƒ½èƒ½å¾ˆå¥½åœ°æ‰©å±•æˆ–å…è®¸è¶³å¤Ÿçš„å®šåˆ¶ã€‚ä¾‹å¦‚ï¼Œä¸€äº›å¹³å°é™åˆ¶äº†ä½¿ç”¨å®ƒä»¬çš„å›¢é˜Ÿæˆå‘˜æ•°é‡ï¼Œè€Œå…¶ä»–å¹³å°åˆ™æœ‰å­˜å‚¨é™åˆ¶ã€‚è¿™å¯¹äºæˆé•¿ä¸­çš„ä¼ä¸šæˆ–æœ‰ç‰¹å®šéœ€æ±‚çš„ä¼ä¸šæ¥è¯´å¯èƒ½æ˜¯ä¸€ä¸ªå·¨å¤§çš„éšœç¢ã€‚åœ¨ç¡®å®šå¹³å°ä¹‹å‰ï¼Œè¯„ä¼°æ‚¨æ­£åœ¨è€ƒè™‘çš„å¹³å°æ˜¯å¦å¯ä»¥æ‰©å±•å’Œå®šåˆ¶ä»¥æ»¡è¶³é•¿æœŸä¸šåŠ¡ç›®æ ‡ã€‚</p>
<h3 data-id="heading-29">ä½ä»£ç å’Œæ— ä»£ç çš„æŒ‘æˆ˜ä¸ç¼“è§£ç­–ç•¥</h3>
<p>å°†ä½ä»£ç å’Œæ— ä»£ç å·¥å…·çº³å…¥ç°æœ‰æµç¨‹å¸¦æ¥äº†ä¸€äº›ç‹¬ç‰¹çš„éšœç¢ã€‚è¡¨2æè¿°äº†å°†LCNCå·¥å…·é›†æˆåˆ°SDLCä¸­çš„å¸¸è§æŒ‘æˆ˜åŠå…¶ç›¸åº”çš„ç¼“è§£ç­–ç•¥ï¼š</p>
<p><strong>è¡¨2.</strong> é›†æˆä½ä»£ç å’Œæ— ä»£ç ï¼šæŒ‘æˆ˜ä¸ç¼“è§£ç­–ç•¥</p>
<p>| éšœç¢ | æŒ‘æˆ˜ | ç¼“è§£ç­–ç•¥ |</p>
<p>| :--- | :--- | :--- |</p>
<p>| å˜é©é˜»åŠ› | é€šå¸¸æ˜¯æœ€æ™®éçš„æŒ‘æˆ˜ï¼›å‘˜å·¥æ‹…å¿ƒLCNCå·¥å…·å­¦ä¹ æ›²çº¿é™¡å³­ | å®æ–½å¹¿æ³›çš„åŸ¹è®­è®¡åˆ’ï¼Œä½¿å›¢é˜Ÿæˆå‘˜å…·å¤‡å¿…è¦çš„æŠ€èƒ½ç»„åˆ |</p>
<p>| ä¸å…¼å®¹å’Œäº’æ“ä½œæ€§ | å¯èƒ½é˜»ç¢LCNCå¹³å°çš„é›†æˆï¼ˆä¾‹å¦‚ï¼Œç”±äºä¸è¿‡æ—¶çš„æ•°æ®åº“åè®®ä¸å…¼å®¹ï¼‰ | ä¸¥æ ¼è¯„ä¼°å¹³å°ï¼Œç¡®ä¿ä¸ç°æœ‰ç³»ç»Ÿå…¼å®¹ï¼Œæˆ–è€…å®ƒä»¬å¯ä»¥è¿æ¥åˆ°æœªé€šè¿‡APIè¿æ¥çš„ç³»ç»Ÿ |</p>
<p>| æŠ€æœ¯é™åˆ¶ | å¯èƒ½é˜»æ­¢LCNCå¹³å°çš„é›†æˆï¼ˆå³ï¼Œç¼ºä¹å¯æ‰©å±•æ€§ï¼‰ | é€‰æ‹©ä»ä¸€å¼€å§‹å°±å¯æ‰©å±•æˆ–æä¾›æ··åˆå¼€å‘æ–¹æ³•çš„å¹³å° |</p>
<h3 data-id="heading-30">SDLCä¸­ä½ä»£ç å’Œæ— ä»£ç çš„æœªæ¥</h3>
<p>éšç€ä½ä»£ç å’Œæ— ä»£ç å¹³å°çš„å‘å±•ï¼Œæˆ‘ä»¬å¯ä»¥é¢„æœŸè½¯ä»¶å¼€å‘å®è·µå°†å‘ç”Ÿé‡å¤§è½¬å˜ã€‚è™½ç„¶LCNCå·¥å…·ä¸ä¼šä½¿ä¼ ç»Ÿç¼–ç è¿‡æ—¶ï¼Œä½†å®ƒä»¬å°†åŠ é€Ÿå¼€å‘ã€é™ä½æˆæœ¬ã€æœ€å°åŒ–æŠ€æœ¯å€ºåŠ¡ï¼Œå¹¶æ°‘ä¸»åŒ–åº”ç”¨ç¨‹åºå¼€å‘â€”â€”å…è®¸æ›´å¤šäººåœ¨æ²¡æœ‰é«˜çº§ç¼–ç¨‹æŠ€èƒ½çš„æƒ…å†µä¸‹æ„å»ºè½¯ä»¶ã€‚</p>
<p>ä½ä»£ç å’Œæ— ä»£ç å¼€å‘å·¥å…·ä¸ä»…ä»…æ˜¯ä¸€ç§æµè¡Œè¶‹åŠ¿ã€‚å®ƒä»¬å°†ç»§ç»­å­˜åœ¨ï¼Œå¹¶å°†æ”¹å˜æˆ‘ä»¬å¼€å‘å’Œç»´æŠ¤è½¯ä»¶çš„æ–¹å¼ã€‚Gartnerä¼°è®¡ï¼Œåˆ°2025å¹´ï¼Œä¼ä¸šå¼€å‘çš„æ‰€æœ‰æ–°åº”ç”¨ç¨‹åºä¸­æœ‰70%å°†ä½¿ç”¨LCNCæŠ€æœ¯ã€‚æ–°å…´LCNCé¢†åŸŸçš„ç°æœ‰è¶‹åŠ¿è¡¨æ˜ï¼Œè¿™äº›å¹³å°å°†å‘å±•åˆ°æ”¯æŒæ—¥ç›Šå¤æ‚çš„åŠŸèƒ½ï¼Œä¾‹å¦‚é«˜çº§å·¥ä½œæµå’Œé›†æˆã€‚æœ€é‡è¦çš„æ˜¯ï¼ŒAIå°†æˆä¸ºè¿™ä¸€æ¼”è¿›çš„æ ¸å¿ƒã€‚æä¾›æ•°å­—èŠå¤©æœºå™¨äººã€å›¾åƒè¯†åˆ«ã€ä¸ªæ€§åŒ–å’Œå…¶ä»–é«˜çº§åŠŸèƒ½çš„AIå¢å¼ºå‹LCNCå¹³å°å·²ç»ä¸Šå¸‚ã€‚</p>
<h3 data-id="heading-31">ç»“è®º</h3>
<p>Forresterè¡¨ç¤ºï¼Œä½ä»£ç å’Œæ— ä»£ç å·¥å…·æ­£åœ¨"é‡æ–°å®šä¹‰ç»„ç»‡æ„å»ºè½¯ä»¶çš„æ–¹å¼"ï¼›ä»…ä½ä»£ç å¸‚åœºé¢„è®¡åˆ°2028å¹´å°†è¾¾åˆ°è¿‘300äº¿ç¾å…ƒçš„ä»·å€¼ã€‚å¦‚æœæ‚¨å¸Œæœ›æ‚¨çš„ç»„ç»‡è·Ÿä¸Šæ­¥ä¼ï¼Œæ‚¨å°±ä¸èƒ½å¿½è§†LCNCå¹³å°ã€‚é€šè¿‡å®æ–½è¿™äº›æ­¥éª¤ï¼Œç»„ç»‡å¯ä»¥æœ‰æ•ˆåœ°é›†æˆLCNCè§£å†³æ–¹æ¡ˆï¼š</p>
<ol>
<li>
<p>ç»„ç»‡åº”è®¾å®šæ˜ç¡®çš„ç›®æ ‡ï¼Œè¯´æ˜ä»–ä»¬å¸Œæœ›é€šè¿‡LCNCè§£å†³æ–¹æ¡ˆå®ç°ä»€ä¹ˆã€‚ç„¶åï¼Œä»–ä»¬åº”æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å¹³å°ã€‚</p>
</li>
<li>
<p>ç»„ç»‡åº”å°±æ‰€é€‰å¹³å°åŸ¹è®­å…¶å›¢é˜Ÿã€‚</p>
</li>
<li>
<p>å›¢é˜Ÿåº”ä»”ç»†å°†æ–°ç³»ç»Ÿä¸ç°æœ‰ç³»ç»Ÿé›†æˆï¼Œå¹¶åœ¨éƒ¨ç½²ä¹‹å‰å¯¹å…¶è¿›è¡Œå½»åº•æµ‹è¯•ã€‚</p>
</li>
</ol>
<p>æœ€ç»ˆï¼ŒæˆåŠŸçš„é›†æˆå–å†³äºé‡‡ç”¨æœ€ä½³å®è·µï¼ˆä¾‹å¦‚ï¼Œæ¸è¿›å¼é‡‡ç”¨ã€åä½œå¼€å‘ã€æ··åˆå¼€å‘ï¼‰å’Œé¿å…é€‚å¾—å…¶åçš„å®è·µï¼ˆä¾‹å¦‚ï¼Œä¸¥é‡ä¾èµ–LCNCå·¥å…·ã€æœªèƒ½è€ƒè™‘å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ï¼‰ã€‚</p>
<p>æ‚¨è¿˜æ²¡æœ‰ä½¿ç”¨ä½ä»£ç å’Œæ— ä»£ç å·¥å…·å—ï¼Ÿå°†å®ƒä»¬å¼•å…¥æ‚¨ç°æœ‰çš„å·¥ä½œæµä»¥æ”¯æŒæ‚¨çš„SDLCè¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-32">è¡¥å……èµ„æºï¼š</h4>
<ul>
<li>
<p>ã€Šä½¿ç”¨Mendixæ„å»ºä½ä»£ç åº”ç”¨ç¨‹åºï¼šå‘ç°ç®€åŒ–ä¼ä¸šWebå¼€å‘çš„æœ€ä½³å®è·µå’Œä¸“å®¶æŠ€æœ¯ã€‹ä½œè€…ï¼šBryan Kenneweg, Imran Kasam, å’Œ Micah McMullen</p>
</li>
<li>
<p>Ponemonç ”ç©¶æ‰€çš„ã€Šæ•°æ®ä¸­å¿ƒåœæœºçš„æˆæœ¬ã€‹</p>
</li>
<li>
<p>Gartnerçš„ã€ŠGartnerç§°äº‘å°†æˆä¸ºæ–°æ•°å­—ä½“éªŒçš„æ ¸å¿ƒã€‹</p>
</li>
<li>
<p>Forresterçš„ã€Šä½ä»£ç å¸‚åœºåˆ°2028å¹´å¯èƒ½æ¥è¿‘500äº¿ç¾å…ƒã€‹</p>
</li>
</ul>
<blockquote>
<p>Shantanu Kumar</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>æˆ‘åœ¨äºšé©¬é€Šå·¥ä½œè¶…è¿‡ä¹å¹´ï¼Œé¢†å¯¼å›¢é˜Ÿä»äº‹å¤§è§„æ¨¡æ•°æ®ç³»ç»Ÿã€AIåŸºç¡€è®¾æ–½å’Œäº‘å¹³å°çš„å·¥ä½œã€‚æˆ‘é¢†å¯¼äº†"Buy with Prime"é¡¹ç›®ï¼Œæå‡äº†ç¾å›½Primeè´­ç‰©ä½“éªŒå¹¶æ”¯æŒå°ä¼ä¸šã€‚ä½œä¸ºIEEEã€ACMå’ŒBCSçš„æ´»è·ƒæˆå‘˜ï¼Œæˆ‘å‚ä¸è½¯ä»¶å·¥ç¨‹è®¨è®ºï¼Œå¹¶ä½œä¸ºæ¼”è®²è€…å’Œä½œå®¶åˆ†äº«æˆ‘çš„ä¸“ä¸šçŸ¥è¯†ï¼Œçƒ­æƒ…åœ°ä¸ºæŠ€æœ¯ç¤¾åŒºåšå‡ºè´¡çŒ®ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-33">åˆä½œä¼™ä¼´å®‰å…¨ç ”ç©¶</h2>
<h3 data-id="heading-34">DoorDashæ¡ˆä¾‹</h3>
<p><strong>DoorDashå¦‚ä½•åˆ©ç”¨Retoolåœ¨3ä¸ªæœˆå†…å®Œæˆäº†2å¹´çš„è·¯çº¿å›¾å·¥ä½œ</strong></p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-21.png" alt="" loading="lazy"/></p>
<p>DoorDashæ˜¯å…¨å›½æœ€å¤§çš„æœ€åä¸€è‹±é‡Œç‰©æµå¹³å°ï¼Œè¿æ¥ç€ç¾å›½ã€åŠ æ‹¿å¤§ã€æ³¢å¤šé»å„å’Œæ¾³å¤§åˆ©äºš<strong>50</strong>ä¸ªå·ã€<strong>4000</strong>å¤šä¸ªåŸå¸‚çš„å®¢æˆ·ä¸ä»–ä»¬æœ€å–œæ¬¢çš„æœ¬åœ°å’Œå…¨å›½ä¼ä¸šã€‚</p>
<h4 data-id="heading-35">æŒ‘æˆ˜</h4>
<p>DoorDashçš„å·¥ç¨‹å›¢é˜Ÿè´Ÿè´£æ„å»ºæ‰€æœ‰è‡ªå·±çš„å†…éƒ¨å·¥å…·ï¼Œä½œä¸ºä¸€å®¶è¿è¥ç¹é‡çš„å…¬å¸ï¼Œæœ‰å¤§é‡å·¥ä½œè¦åšã€‚Rohan Chopraè´Ÿè´£ç®¡ç†Dasherå›¢é˜Ÿçš„å·¥ç¨‹å·¥ä½œï¼Œä¸ºä»–çš„å›¢é˜Ÿæ„å»ºå†…éƒ¨å·¥å…·æ—¢ç¹çåˆå…³é”®ã€‚æ„å»ºç”¨äºå¯è§†åŒ–Dasherè·¯çº¿ã€ç»˜åˆ¶åŒºåŸŸæˆ–ä½¿å›¢é˜Ÿèƒ½å¤Ÿä¸é¤å…åˆä½œçš„ä¸€æ¬¡æ€§å·¥å…·æ˜¯ä¸€é¡¹<strong>æ‰‹åŠ¨ã€è€—æ—¶æ•°æœˆçš„å·¥ä½œ</strong>ã€‚</p>
<p>Rohançš„å›¢é˜Ÿæœ€åˆä½¿ç”¨äº†Djangoçš„ç®¡ç†é¢æ¿ï¼Œä½†ç«‹å³é¢ä¸´æŒ‘æˆ˜ï¼šå®ƒä¸æ˜¯ä¸ºäº†æ‰©å±•è€Œæ„å»ºçš„ï¼Œå¹¶ä¸”ç¼ºä¹ä»–ä»¬æ‰€éœ€çš„å®šåˆ¶æ€§ã€‚Djangoçš„å¯¹è±¡å…³ç³»æ˜ å°„å™¨ç”Ÿæˆäº†ä½æ•ˆçš„æŸ¥è¯¢ï¼Œç»™DoorDashçš„åŸºç¡€è®¾æ–½å¸¦æ¥äº†å‹åŠ›ï¼Œå¹¶ä¸”éœ€è¦æ‰‹åŠ¨è¾“å…¥æ‰èƒ½å®Œæˆè¯¸å¦‚å°†DasherçŠ¶æ€è®¾ç½®ä¸º"æš‚åœ"ä¹‹ç±»çš„åŸºæœ¬æ“ä½œã€‚</p>
<p><em>â€œæŠ•èµ„å†…éƒ¨å·¥å…·æ›¾ç»æ˜¯ä¸€ä¸ªå›°éš¾ä¸”ä¸¤æåˆ†åŒ–çš„æƒè¡¡ï¼›Retoolé€šè¿‡ä½¿å·¥å…·æˆä¸ºä»»ä½•é¡¹ç›®ä¸­å¿«é€Ÿä¸”è½»æ¾çš„ä¸€éƒ¨åˆ†ï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹å˜äº†è¿™ç§èŒƒå¼ï¼Œä¸ºæˆ‘ä»¬èŠ‚çœäº†æ— æ•°æ—¶é—´ã€‚â€</em></p>
<p>â€”<strong>Rohan Chopra</strong>,</p>
<p><em>DoorDashå·¥ç¨‹æ€»ç›‘</em></p>
<h4 data-id="heading-36">ç»“æœ</h4>
<p>ä¸€ä¸ªå…·ä½“çš„ç—›ç‚¹æ˜¯Dasherå›¢é˜Ÿçš„å¥–åŠ±è®¡åˆ’ã€‚ä¿æŒè¯¥è®¡åˆ’è¿è¡Œéœ€è¦å›¢é˜Ÿæˆå‘˜æ‰‹åŠ¨å¡«å†™ä¸€ä¸ªåºå¤§çš„ç”µå­è¡¨æ ¼ï¼Œå°†æ•°æ®äº¤ç»™å·¥ç¨‹å›¢é˜Ÿï¼Œå¹¶è¿è¡Œæ¯å‘¨è„šæœ¬ã€‚è¿™ä¸ªè¿‡ç¨‹ç»å¸¸å‡ºé—®é¢˜ï¼šè¾“å…¥é”™è¯¯çš„æ•°æ®ã€é”™è¿‡çš„äº¤æ¥å’Œæœªæ•è·çš„é”™è¯¯éœ€è¦åŒæ–¹èŠ±è´¹å¤§é‡æ—¶é—´æ¥æ¢å¤ã€‚</p>
<h4 data-id="heading-37">è§£å†³æ–¹æ¡ˆ</h4>
<p>é€šè¿‡åœ¨ç½‘ç»œä¸Šæœç´¢æ‰¾åˆ°Retoolåï¼ŒRohançš„å›¢é˜Ÿå¼€å§‹ä½¿ç”¨Retoolæ„å»ºä»–ä»¬çš„å†…éƒ¨å·¥å…·ä»¥èŠ‚çœæ—¶é—´å¹¶æ”¹è¿›æµç¨‹ã€‚å·¥ç¨‹å¸ˆèƒ½å¤Ÿåœ¨å‡ å°æ—¶å†…æ„å»ºä»–ä»¬çš„æ–°å·¥å…·ï¼Œå¹¶æ›´æœ‰æ•ˆåœ°æ”¯æŒä»–ä»¬çš„è¿è¥å›¢é˜Ÿï¼Œè€Œ<strong>æ— éœ€æ•°å‘¨çš„å¼€é”€</strong>ã€‚</p>
<p>åœ¨Rohançš„å›¢é˜Ÿé‡‡ç”¨åï¼ŒRetoolé›†æˆè‡ªç„¶åœ°æ‰©å±•åˆ°æ•´ä¸ªDoorDashç»„ç»‡ã€‚"æˆ‘ä»¬æ²¡æœ‰å‘é€ä»»ä½•ç”µå­é‚®ä»¶ï¼šæ¯å½“å·¥ç¨‹å¸ˆä»¬è°ˆè®ºæ„å»ºå†…éƒ¨å·¥å…·æ—¶ï¼ŒRetoolå°±ä¼šå‡ºç°ï¼Œæ–°çš„å›¢é˜Ÿå°±ä¼šå°è¯•å®ƒï¼Œ"Rohanè¯´ã€‚</p>
<p>Retoolæå¤§åœ°å‡å°‘äº†Rohanå›¢é˜Ÿæ„å»ºå†…éƒ¨å·¥å…·æ‰€éœ€çš„æ—¶é—´ï¼š"æˆ‘ä»¬æ¯ä¸ªéœ€è¦æ„å»ºçš„å·¥å…·ä»1-2ä¸ªæœˆç¼©çŸ­åˆ°<strong>30-60</strong>åˆ†é’Ÿã€‚"å·¥å…·çš„æ„å»ºè¿‡ç¨‹å˜å¾—çŸ­å¾—å¤šï¼Œä½†ç»´æŠ¤ä¹Ÿæ˜¾è‘—æ›´å®¹æ˜“â€”â€”åƒæ·»åŠ ä¸‹æ‹‰èœå•æˆ–è¿‡æ»¤å™¨è¿™æ ·çš„å°è°ƒæ•´å˜æˆäº†"å‡ åˆ†é’Ÿ"è€Œä¸æ˜¯"æˆ‘ä»¬ä¸ç¡®å®š"ã€‚è¿è¡Œè„šæœ¬å’Œå¡«å†™ç”µå­è¡¨æ ¼ç­‰æ‰‹åŠ¨å·¥ä½œè¢«è‡ªåŠ¨åŒ–å¹¶æŒ‰è®¡åˆ’è¿›è¡Œï¼Œè€Œä¸æ˜¯ä»¤äººæ²®ä¸§å’Œè¢«é—å¿˜ã€‚</p>
<p>å¦‚ä»Šï¼ŒDoorDashæ‹¥æœ‰<strong>40å¤š</strong>ä¸ªåœ¨Retoolä¸­æ„å»ºçš„æ´»è·ƒè¿è¥å·¥å…·ï¼Œéƒ¨åˆ†æˆåŠŸåœ¨äºRetoolæ‰€å®ç°çš„æ°‘ä¸»åŒ–â€”â€”ä¸ºDoorDashèŠ‚çœäº†<strong>600ä¸‡</strong>ç¾å…ƒçš„å·¥ç¨‹æ—¶é—´ã€‚</p>
<hr/>
<h2 data-id="heading-38">è´¡çŒ®è€…æ´å¯Ÿ</h2>
<h3 data-id="heading-39">AIåœ¨ä½ä»£ç å’Œæ— ä»£ç å¼€å‘ä¸­çš„è§’è‰²</h3>
<p><strong>ä½œè€…ï¼šEric Goebelbecker, Hit Subscribe é¡¹ç›®å®è·µç»ç†</strong></p>
<p>å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰çš„å‡ºç°å¯¼è‡´äº†ä¸€åœºå°†äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰å¼ºè¡Œèå…¥æ¯ä¸€ä¸ªæœ‰æ„ä¹‰çš„äº§å“ä¸­çš„çƒ­æ½®ï¼Œä»¥åŠä¸å°‘æ²¡æœ‰æ„ä¹‰çš„äº§å“ã€‚ä½†æœ‰ä¸€ä¸ªé¢†åŸŸï¼ŒAIå·²ç»è¢«è¯æ˜æ˜¯ä¸€ä¸ªå¼ºå¤§è€Œæœ‰ç”¨çš„è¡¥å……ï¼šä½ä»£ç å’Œæ— ä»£ç è½¯ä»¶å¼€å‘ã€‚è®©æˆ‘ä»¬çœ‹çœ‹AIå¦‚ä½•ä»¥åŠä¸ºä½•ä½¿æ„å»ºåº”ç”¨ç¨‹åºæ›´å¿«ã€æ›´å®¹æ˜“ï¼Œå°¤å…¶æ˜¯åœ¨ä½¿ç”¨ä½ä»£ç å’Œæ— ä»£ç å·¥å…·æ—¶ã€‚</p>
<h4 data-id="heading-40">AIåœ¨å¼€å‘ä¸­çš„è§’è‰²</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è®¨è®ºAIåœ¨ç®€åŒ–å’ŒåŠ é€Ÿå¼€å‘è¿‡ç¨‹ä¸­æœ€å¸¸è§çš„ä¸¤ä¸ªè§’è‰²ï¼š<strong>ç”Ÿæˆä»£ç </strong>å’Œ<strong>å……å½“æ™ºèƒ½åŠ©æ‰‹</strong>ã€‚</p>
<p>AIä»£ç ç”Ÿæˆå™¨å’ŒåŠ©æ‰‹ä½¿ç”¨åœ¨å¤§å‹ä»£ç åº“ä¸Šè®­ç»ƒçš„LLMsï¼Œè¿™äº›ä»£ç åº“æ•™ä¼šå®ƒä»¬ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•ã€æ¨¡å¼å’Œè¯­ä¹‰ã€‚è¿™äº›æ¨¡å‹é¢„æµ‹æ»¡è¶³æç¤ºæ‰€éœ€çš„ä»£ç â€”â€”å°±åƒèŠå¤©æœºå™¨äººä½¿ç”¨å®ƒä»¬çš„è®­ç»ƒæ¥é¢„æµ‹å¥å­ä¸­çš„ä¸‹ä¸€ä¸ªå•è¯ä¸€æ ·ã€‚</p>
<h5 data-id="heading-41">è‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆ</h5>
<p>AIä»£ç ç”Ÿæˆå™¨æ ¹æ®è¾“å…¥åˆ›å»ºä»£ç ã€‚è¿™äº›æç¤ºé‡‡ç”¨è‡ªç„¶è¯­è¨€è¾“å…¥æˆ–é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰ä¸­æˆ–å‘½ä»¤è¡Œä¸­çš„ä»£ç å½¢å¼ã€‚ä»£ç ç”Ÿæˆå™¨é€šè¿‡å°†ç¨‹åºå‘˜ä»ç¼–å†™é‡å¤æ€§ä»£ç ä¸­è§£æ”¾å‡ºæ¥è€ŒåŠ é€Ÿå¼€å‘ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥å‡å°‘å¸¸è§é”™è¯¯å’Œæ’ç‰ˆé”™è¯¯ã€‚ä½†ä¸ç”¨äºç”Ÿæˆæ–‡æœ¬çš„LLMsç±»ä¼¼ï¼Œä»£ç ç”Ÿæˆå™¨éœ€è¦ä»”ç»†å®¡æŸ¥ï¼Œå¹¶ä¸”å¯èƒ½çŠ¯è‡ªå·±çš„é”™è¯¯ã€‚å¼€å‘äººå‘˜åœ¨æ¥å—AIç”Ÿæˆçš„ä»£ç æ—¶éœ€è¦å°å¿ƒï¼Œä»–ä»¬ä¸ä»…éœ€è¦æµ‹è¯•å®ƒæ˜¯å¦èƒ½æ„å»ºï¼Œè¿˜éœ€è¦æµ‹è¯•å®ƒæ˜¯å¦å®Œæˆäº†<em>ç”¨æˆ·è¦æ±‚çš„åŠŸèƒ½</em>ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgpt-engineer-org%2Fgpt-engineer" target="_blank" title="https://github.com/gpt-engineer-org/gpt-engineer" ref="nofollow noopener noreferrer">gpt-engineer</a>æ˜¯ä¸€ä¸ªå¼€æºçš„AIä»£ç ç”Ÿæˆå™¨ï¼Œå®ƒæ¥å—è‡ªç„¶è¯­è¨€æç¤ºæ¥æ„å»ºæ•´ä¸ªä»£ç åº“ã€‚å®ƒå¯ä»¥ä¸<a href="https://link.juejin.cn?target=https%3A%2F%2Fchatgpt.com%2F" target="_blank" title="https://chatgpt.com/" ref="nofollow noopener noreferrer">ChatGPT</a>æˆ–åƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fllama.meta.com%2Fdocs%2Fget-started%2F" target="_blank" title="https://llama.meta.com/docs/get-started/" ref="nofollow noopener noreferrer">Llama</a>è¿™æ ·çš„è‡ªå®šä¹‰LLMsä¸€èµ·å·¥ä½œã€‚</p>
<h5 data-id="heading-42">ç”¨äºå¼€å‘çš„æ™ºèƒ½åŠ©æ‰‹</h5>
<p>æ™ºèƒ½åŠ©æ‰‹åœ¨å¼€å‘äººå‘˜å·¥ä½œæ—¶ä¸ºä»–ä»¬æä¾›å®æ—¶å¸®åŠ©ã€‚å®ƒä»¬ä½œä¸ºä¸€ç§AIä»£ç ç”Ÿæˆå™¨ï¼Œä½†ä¸æ˜¯ä½¿ç”¨è‡ªç„¶è¯­è¨€æç¤ºï¼Œå®ƒä»¬å¯ä»¥è‡ªåŠ¨å®Œæˆã€æä¾›å†…è”æ–‡æ¡£å¹¶æ¥å—ä¸“é—¨çš„å‘½ä»¤ã€‚åŠ©æ‰‹å¯ä»¥åœ¨åƒEclipseå’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2Fdocs" target="_blank" title="https://code.visualstudio.com/docs" ref="nofollow noopener noreferrer">Microsoftçš„VS Code</a>è¿™æ ·çš„ç¼–ç¨‹å·¥å…·å†…éƒ¨ã€å‘½ä»¤è¡Œæˆ–ä¸‰è€…åŒæ—¶å·¥ä½œã€‚è¿™äº›å·¥å…·æä¾›äº†è®¸å¤šä¸ä»£ç ç”Ÿæˆå™¨ç›¸åŒçš„å¥½å¤„ï¼ŒåŒ…æ‹¬æ›´çŸ­çš„å¼€å‘æ—¶é—´ã€æ›´å°‘çš„é”™è¯¯å’Œå‡å°‘çš„æ‹¼å†™é”™è¯¯ã€‚å®ƒä»¬è¿˜å¯ä»¥ä½œä¸ºå­¦ä¹ å·¥å…·ï¼Œå› ä¸ºå®ƒä»¬åœ¨å·¥ä½œæ—¶ä¸ºå¼€å‘äººå‘˜æä¾›ç¼–ç¨‹ä¿¡æ¯ã€‚ä½†ä¸ä»»ä½•AIå·¥å…·ä¸€æ ·ï¼ŒAIåŠ©æ‰‹å¹¶éä¸‡æ— ä¸€å¤±â€”â€”å®ƒä»¬éœ€è¦<em>å¯†åˆ‡å’Œä»”ç»†çš„ç›‘æ§</em>ã€‚</p>
<p>GitHubçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffeatures%2Fcopilot" target="_blank" title="https://github.com/features/copilot" ref="nofollow noopener noreferrer">Copilot</a>æ˜¯ä¸€ä¸ªæµè¡Œçš„AIç¼–ç¨‹åŠ©æ‰‹ã€‚å®ƒä½¿ç”¨åŸºäºå…¬å…±GitHubä»“åº“æ„å»ºçš„æ¨¡å‹ï¼Œå› æ­¤å®ƒæ”¯æŒéå¸¸å¹¿æ³›çš„è¯­è¨€ï¼Œå¹¶å¯ä»¥æ’å…¥æ‰€æœ‰æœ€æµè¡Œçš„ç¼–ç¨‹å·¥å…·ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fpower-platform%2F" target="_blank" title="https://learn.microsoft.com/en-us/power-platform/" ref="nofollow noopener noreferrer">Microsoftçš„Power Platform</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Faws.amazon.com%2Fq%2Fdeveloper%2F" target="_blank" title="https://aws.amazon.com/q/developer/" ref="nofollow noopener noreferrer">Amazon Q Developer</a>æ˜¯ä¸¤ä¸ªæµè¡Œçš„å•†ä¸šé€‰é¡¹ï¼Œè€Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsmallcloudai" target="_blank" title="https://github.com/smallcloudai" ref="nofollow noopener noreferrer">Refact.ai</a>æ˜¯ä¸€ä¸ªå¼€æºæ›¿ä»£å“ã€‚</p>
<h4 data-id="heading-43">AIä¸ä½ä»£ç å’Œæ— ä»£ç ï¼šå®Œç¾ç»“åˆ</h4>
<p>ä½ä»£ç å’Œæ— ä»£ç æ˜¯ä¸ºäº†æ»¡è¶³éœ€è¦è®©æ–°æ‰‹å’ŒéæŠ€æœ¯äººå‘˜å¿«é€Ÿä¸ºå…¶éœ€æ±‚å®šåˆ¶è½¯ä»¶çš„å·¥å…·è€Œå‘å±•èµ·æ¥çš„ã€‚AIé€šè¿‡ä½¿å°†æƒ³æ³•è½¬åŒ–ä¸ºè½¯ä»¶å˜å¾—æ›´åŠ å®¹æ˜“ï¼Œå°†è¿™ä¸€ç‚¹æ›´è¿›ä¸€æ­¥ã€‚</p>
<h4 data-id="heading-44">æ°‘ä¸»åŒ–å¼€å‘</h4>
<p>AIä»£ç ç”Ÿæˆå™¨å’ŒåŠ©æ‰‹é€šè¿‡ä½¿ç¼–ç æ›´å®¹æ˜“æ¥è§¦ã€æé«˜ç”Ÿäº§åŠ›å¹¶ä¿ƒè¿›æŒç»­å­¦ä¹ æ¥æ°‘ä¸»åŒ–è½¯ä»¶å¼€å‘ã€‚è¿™äº›å·¥å…·é™ä½äº†ç¼–ç¨‹æ–°æ‰‹çš„å…¥é—¨é—¨æ§›ã€‚ä¸€ä¸ªæ–°æ‰‹ç¨‹åºå‘˜å¯ä»¥ä½¿ç”¨å®ƒä»¬è¾¹åšè¾¹å­¦ï¼Œå¿«é€Ÿæ„å»ºå¯è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼ŒMicrosoft Power AppsåŒ…å«Copilotï¼Œå®ƒå¯ä»¥ä¸ºæ‚¨ç”Ÿæˆåº”ç”¨ç¨‹åºä»£ç ï¼Œç„¶åä¸æ‚¨ä¸€èµ·å®Œå–„å®ƒã€‚</p>
<h4 data-id="heading-45">AIå¦‚ä½•å¢å¼ºä½ä»£ç å’Œæ— ä»£ç å¹³å°</h4>
<p>AIé€šè¿‡å‡ ç§é‡è¦æ–¹å¼å¢å¼ºä½ä»£ç å’Œæ— ä»£ç å¹³å°ã€‚æˆ‘ä»¬å·²ç»ä»‹ç»äº†AIæ ¹æ®è‡ªç„¶è¯­è¨€æç¤ºæˆ–ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä¸Šä¸‹æ–‡ç”Ÿæˆä»£ç ç‰‡æ®µçš„èƒ½åŠ›ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åƒChatGPTå’ŒGeminiè¿™æ ·çš„LLMsä¸ºè®¸å¤šä½ä»£ç å¹³å°ç”Ÿæˆä»£ç ï¼Œè€Œè®¸å¤šæ— ä»£ç å¹³å°å¦‚AppSmithå’ŒGoogle AppSheetä½¿ç”¨AIæ ¹æ®æè¿°æ‚¨å¸Œæœ›é›†æˆåšä»€ä¹ˆçš„æ–‡æœ¬æ¥ç”Ÿæˆé›†æˆã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨AIè‡ªåŠ¨åŒ–å‡†å¤‡ã€æ¸…ç†å’Œåˆ†ææ•°æ®ã€‚è¿™ä½¿å¾—é›†æˆå’Œå¤„ç†éœ€è¦è°ƒæ•´æ‰èƒ½ä¸æ‚¨çš„æ¨¡å‹ä¸€èµ·ä½¿ç”¨çš„å¤§å‹æ•°æ®é›†å˜å¾—æ›´åŠ å®¹æ˜“ã€‚åƒAmazon SageMakerè¿™æ ·çš„å·¥å…·ä½¿ç”¨AIæ¥æ‘„å–ã€åˆ†ç±»ã€ç»„ç»‡å’Œç®€åŒ–æ•°æ®ã€‚ä¸€äº›å¹³å°ä½¿ç”¨AIå¸®åŠ©åˆ›å»ºç”¨æˆ·ç•Œé¢å’Œå¡«å……è¡¨å•ã€‚ä¾‹å¦‚ï¼ŒMicrosoftçš„Power Platformä½¿ç”¨AIä½¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡ä¸å®ƒçš„copilotè¿›è¡Œå¯¹è¯äº¤äº’æ¥æ„å»ºç”¨æˆ·ç•Œé¢å’Œè‡ªåŠ¨åŒ–æµç¨‹ã€‚</p>
<p>æ‰€æœ‰è¿™äº›åŠŸèƒ½éƒ½æœ‰åŠ©äºä½¿ä½ä»£ç å’Œæ— ä»£ç å¼€å‘æ›´å¿«ï¼ŒåŒ…æ‹¬åœ¨å¯æ‰©å±•æ€§æ–¹é¢ï¼Œå› ä¸ºæ›´å¤šçš„å›¢é˜Ÿæˆå‘˜å¯ä»¥å‚ä¸å¼€å‘è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-46">ä½ä»£ç å’Œæ— ä»£ç å¦‚ä½•å®ç°AIå¼€å‘</h4>
<p>è™½ç„¶AIå¯¹äºç”Ÿæˆä»£ç éå¸¸å®è´µï¼Œä½†å®ƒåœ¨æ‚¨çš„ä½ä»£ç å’Œæ— ä»£ç åº”ç”¨ç¨‹åºä¸­ä¹Ÿå¾ˆæœ‰ç”¨ã€‚è®¸å¤šä½ä»£ç å’Œæ— ä»£ç å¹³å°å…è®¸æ‚¨æ„å»ºå’Œéƒ¨ç½²æ”¯æŒAIçš„åº”ç”¨ç¨‹åºã€‚å®ƒä»¬æŠ½è±¡æ‰äº†æ·»åŠ è¯¸å¦‚è‡ªç„¶è¯­è¨€å¤„ç†ã€è®¡ç®—æœºè§†è§‰å’ŒAI APIç­‰åŠŸèƒ½åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸­çš„å¤æ‚æ€§ã€‚</p>
<p>ç”¨æˆ·æœŸæœ›åº”ç”¨ç¨‹åºæä¾›è¯¸å¦‚è¯­éŸ³æç¤ºã€èŠå¤©æœºå™¨äººå’Œå›¾åƒè¯†åˆ«ç­‰åŠŸèƒ½ã€‚ä»å¤´å¼€å§‹å¼€å‘è¿™äº›èƒ½åŠ›éœ€è¦æ—¶é—´ï¼Œå³ä½¿å¯¹äºæœ‰ç»éªŒçš„å¼€å‘äººå‘˜ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› æ­¤è®¸å¤šå¹³å°æä¾›æ¨¡å—ï¼Œä½¿å¾—åªéœ€å¾ˆå°‘æˆ–æ— éœ€ä»£ç å³å¯è½»æ¾æ·»åŠ å®ƒä»¬ã€‚ä¾‹å¦‚ï¼ŒMicrosoftæœ‰ç”¨äºåœ¨Azureä¸Šæ„å»ºPower Virtual Agentsï¼ˆç°å·²æˆä¸ºå…¶Copilot Studioçš„ä¸€éƒ¨åˆ†ï¼‰çš„ä½ä»£ç å·¥å…·ã€‚è¿™äº›ä»£ç†å¯ä»¥æ’å…¥ç”±AzureæœåŠ¡æ”¯æŒçš„å¤šç§æŠ€èƒ½ï¼Œå¹¶ä½¿ç”¨èŠå¤©ç•Œé¢é©±åŠ¨å®ƒä»¬ã€‚</p>
<p>åƒAmazon SageMakerå’ŒGoogleçš„Teachable Machineè¿™æ ·çš„ä½ä»£ç å’Œæ— ä»£ç å¹³å°ç®¡ç†è¯¸å¦‚å‡†å¤‡æ•°æ®ã€è®­ç»ƒè‡ªå®šä¹‰æœºå™¨å­¦ä¹ ï¼ˆMLï¼‰æ¨¡å‹å’Œéƒ¨ç½²AIåº”ç”¨ç¨‹åºç­‰ä»»åŠ¡ã€‚è€ŒZapieråˆ™åˆ©ç”¨Amazon Alexaçš„è¯­éŸ³è½¬æ–‡æœ¬åŠŸèƒ½ï¼Œå¹¶å°†è¾“å‡ºå¼•å¯¼åˆ°è®¸å¤šä¸åŒçš„åº”ç”¨ç¨‹åºã€‚</p>
<p><strong>å›¾1.</strong> ä½¿ç”¨æ„å»ºå—æ„å»ºä½ä»£ç AIåº”ç”¨</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-22-1.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šå±•ç¤ºäº†ä½¿ç”¨é¢„æ„å»ºçš„AIç»„ä»¶/APIï¼ˆå¦‚NLPã€è®¡ç®—æœºè§†è§‰ã€é¢„æµ‹åˆ†æï¼‰é€šè¿‡ä½ä»£ç å¹³å°å¿«é€Ÿç»„è£…æˆåº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚ï¼‰</p>
<h4 data-id="heading-47">æ”¯æŒAIçš„ä½ä»£ç å’Œæ— ä»£ç å·¥å…·ç¤ºä¾‹</h4>
<p>æ­¤è¡¨åŒ…å«å¹¿æ³›ä½¿ç”¨çš„ä½ä»£ç å’Œæ— ä»£ç å¹³å°åˆ—è¡¨ï¼Œè¿™äº›å¹³å°æ”¯æŒAIä»£ç ç”Ÿæˆã€æ”¯æŒAIçš„åº”ç”¨ç¨‹åºæ‰©å±•ï¼Œæˆ–ä¸¤è€…å…¼æœ‰ï¼š</p>
<p><strong>è¡¨1.</strong> æ”¯æŒAIçš„ä½ä»£ç å’Œæ— ä»£ç å·¥å…·</p>
<p>| åº”ç”¨ç¨‹åº | ç±»å‹ | ä¸»è¦ç”¨æˆ· | å…³é”®ç‰¹æ€§ | AI/MLèƒ½åŠ› |</p>
<p>| :--- | :--- | :--- | :--- | :--- |</p>
<p>| Amazon CodeWhisperer | AIé©±åŠ¨çš„ä»£ç ç”Ÿæˆå™¨ | å¼€å‘äººå‘˜ | â€¢ å®æ—¶ä»£ç å»ºè®®<br/>â€¢ å®‰å…¨æ‰«æ<br/>â€¢ å¹¿æ³›çš„è¯­è¨€æ”¯æŒ | MLé©±åŠ¨çš„ä»£ç å»ºè®® |</p>
<p>| Amazon SageMaker | å…¨æ‰˜ç®¡çš„MLæœåŠ¡ | æ•°æ®ç§‘å­¦å®¶, MLå·¥ç¨‹å¸ˆ | â€¢ èƒ½å¤Ÿæ„å»ºã€è®­ç»ƒã€éƒ¨ç½²MLæ¨¡å‹<br/>â€¢ å®Œå…¨é›†æˆçš„IDE<br/>â€¢ æ”¯æŒMLOps | é¢„è®­ç»ƒæ¨¡å‹, è‡ªå®šä¹‰æ¨¡å‹è®­ç»ƒå’Œéƒ¨ç½² |</p>
<p>| GitHub Copilot | AIç»“å¯¹ç¨‹åºå‘˜ | å¼€å‘äººå‘˜ | â€¢ ä»£ç å»ºè®®<br/>â€¢ å¤šè¯­è¨€æ”¯æŒ<br/>â€¢ ä¸Šä¸‹æ–‡æ„ŸçŸ¥å»ºè®® | ç”¨äºä»£ç å»ºè®®çš„ç”Ÿæˆå¼AIæ¨¡å‹ |</p>
<p>| Google Cloud AutoML | æ— ä»£ç AI | æ•°æ®ç§‘å­¦å®¶, å¼€å‘äººå‘˜ | â€¢ å¯ä»¥ç”¨æœ€å°‘çš„ç²¾åŠ›è®­ç»ƒé«˜è´¨é‡çš„å®šåˆ¶MLæ¨¡å‹<br/>â€¢ æ”¯æŒå„ç§æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬å›¾åƒã€æ–‡æœ¬å’ŒéŸ³é¢‘ | è‡ªåŠ¨åŒ–çš„MLæ¨¡å‹è®­ç»ƒå’Œéƒ¨ç½² |</p>
<p>| Microsoft Power Apps | ä½ä»£ç åº”ç”¨ç¨‹åºå¼€å‘ | ä¸šåŠ¡ç”¨æˆ·, å¼€å‘äººå‘˜ | â€¢ å¯ä»¥æ„å»ºå®šåˆ¶ä¸šåŠ¡åº”ç”¨<br/>â€¢ æ”¯æŒå¤šç§ä¸åŒçš„æ•°æ®æº<br/>â€¢ è‡ªåŠ¨åŒ–å·¥ä½œæµ | ç”¨äºå¢å¼ºåº”ç”¨çš„AIæ„å»ºå™¨ |</p>
<p>| Microsoft Power Platform | ä½ä»£ç å¹³å° | ä¸šåŠ¡åˆ†æå¸ˆ, å¼€å‘äººå‘˜ | â€¢ å•†ä¸šæ™ºèƒ½<br/>â€¢ åº”ç”¨ç¨‹åºå¼€å‘<br/>â€¢ åº”ç”¨ç¨‹åºè¿æ¥æ€§<br/>â€¢ æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ– | ç”¨äºå¢å¼ºåº”ç”¨å’Œæµç¨‹çš„AIåº”ç”¨æ„å»ºå™¨ |</p>
<h4 data-id="heading-48">ä½¿ç”¨AIè¿›è¡Œå¼€å‘çš„é™·é˜±</h4>
<p>AIæ”¹å–„ä½ä»£ç å’Œæ— ä»£ç å¼€å‘çš„èƒ½åŠ›æ˜¯ä¸å¯å¦è®¤çš„ï¼Œä½†å…¶é£é™©ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä»»ä½•AIçš„ä½¿ç”¨éƒ½éœ€è¦é€‚å½“çš„åŸ¹è®­å’Œå…¨é¢çš„æ²»ç†ã€‚LLMså€¾å‘äºå¯¹æç¤º"äº§ç”Ÿå¹»è§‰"ç­”æ¡ˆçš„æƒ…å†µä¹Ÿé€‚ç”¨äºä»£ç ç”Ÿæˆã€‚</p>
<p>å› æ­¤ï¼Œè™½ç„¶AIå·¥å…·é™ä½äº†æ–°æ‰‹å¼€å‘è€…çš„å…¥é—¨é—¨æ§›ï¼Œæ‚¨ä»ç„¶éœ€è¦ç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜åœ¨å°†ä»£ç éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰è¿›è¡Œå®¡æŸ¥ã€éªŒè¯å’Œæµ‹è¯•ã€‚</p>
<ul>
<li>
<p>å¼€å‘äººå‘˜é€šè¿‡æäº¤æç¤ºå’Œæ¥æ”¶å“åº”æ¥ä½¿ç”¨AIã€‚æ ¹æ®é¡¹ç›®çš„ä¸åŒï¼Œè¿™äº›æç¤ºå¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ã€‚å¦‚æœæ¨¡å‹å±äºç¬¬ä¸‰æ–¹ä¾›åº”å•†æˆ–æœªæ­£ç¡®ä¿æŠ¤ï¼Œæ‚¨çš„å¼€å‘äººå‘˜å°±ä¼šæš´éœ²è¿™äº›ä¿¡æ¯ã€‚</p>
</li>
<li>
<p>å½“å®ƒå·¥ä½œæ—¶ï¼ŒAIä¼šå»ºè®®å¯èƒ½æ»¡è¶³å…¶æ­£åœ¨è¯„ä¼°çš„æç¤ºçš„ä»£ç ã€‚ä»£ç æ˜¯æ­£ç¡®çš„ï¼Œä½†ä¸ä¸€å®šæ˜¯æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚å› æ­¤ï¼Œä¸¥é‡ä¾èµ–AIç”Ÿæˆä»£ç å¯èƒ½å¯¼è‡´ä»£ç éš¾ä»¥æ›´æ”¹å¹¶ä»£è¡¨å¤§é‡çš„æŠ€æœ¯å€ºåŠ¡ã€‚</p>
</li>
</ul>
<p>AIå·²ç»åœ¨æ°‘ä¸»åŒ–ç¼–ç¨‹å’ŒåŠ é€Ÿä½ä»£ç å’Œæ— ä»£ç å¼€å‘æ–¹é¢åšå‡ºäº†é‡è¦è´¡çŒ®ã€‚éšç€LLMsçš„é€æ­¥æ”¹è¿›ï¼Œç”¨äºåˆ›å»ºè½¯ä»¶çš„AIå·¥å…·åªä¼šå˜å¾—æ›´å¥½ã€‚å³ä½¿è¿™äº›å·¥å…·åœ¨æ”¹è¿›ï¼ŒITé¢†å¯¼è€…ä»ç„¶éœ€è¦è°¨æ…è¡Œäº‹ã€‚</p>
<p>AIæä¾›äº†å¼ºå¤§çš„åŠ›é‡ï¼Œä½†è¿™ç§åŠ›é‡ä¼´éšç€å·¨å¤§çš„è´£ä»»ã€‚ä»»ä½•å’Œæ‰€æœ‰AIçš„ä½¿ç”¨éƒ½éœ€è¦å…¨é¢çš„æ²»ç†å’Œå®Œæ•´çš„ä¿éšœæªæ–½ï¼Œä»¥ä¿æŠ¤ç»„ç»‡å…å—é”™è¯¯ã€æ¼æ´å’Œæ•°æ®ä¸¢å¤±çš„å½±å“ã€‚</p>
<h4 data-id="heading-49">ç»“è®º</h4>
<p>å°†AIé›†æˆåˆ°ä½ä»£ç å’Œæ— ä»£ç å¼€å‘å¹³å°ä¸­å·²ç»å½»åº•æ”¹å˜äº†è½¯ä»¶å¼€å‘ã€‚å®ƒæ°‘ä¸»åŒ–äº†é«˜çº§ç¼–ç çš„è®¿é—®ï¼Œå¹¶èµ‹èƒ½éä¸“å®¶ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿæ„å»ºå¤æ‚çš„åº”ç”¨ç¨‹åºã€‚AIé©±åŠ¨çš„å·¥å…·å’Œæ™ºèƒ½åŠ©æ‰‹å‡å°‘äº†å¼€å‘æ—¶é—´ï¼Œæé«˜äº†å¼€å‘å¯æ‰©å±•æ€§ï¼Œå¹¶æœ‰åŠ©äºæœ€å°åŒ–å¸¸è§é”™è¯¯ã€‚ä½†è¿™äº›å¼ºå¤§çš„èƒ½åŠ›ä¼´éšç€é£é™©å’Œè²¬ä»»ã€‚</p>
<p>å¼€å‘äººå‘˜å’ŒITé¢†å¯¼è€…éœ€è¦å»ºç«‹<strong>å¼ºå¤§çš„æ²»ç†ã€æµ‹è¯•åˆ¶åº¦</strong>å’Œ<strong>éªŒè¯ç³»ç»Ÿ</strong>ï¼Œå¦‚æœä»–ä»¬æƒ³è¦å®‰å…¨åœ°åˆ©ç”¨AIçš„å…¨éƒ¨æ½œåŠ›ã€‚</p>
<p>AIæŠ€æœ¯å’Œæ¨¡å‹æŒç»­æ”¹è¿›ï¼Œå®ƒä»¬å¾ˆå¯èƒ½å°†æˆä¸ºåˆ›æ–°ã€é«˜æ•ˆå’Œå®‰å…¨çš„è½¯ä»¶å¼€å‘çš„åŸºçŸ³ã€‚çœ‹çœ‹AIå¦‚ä½•é€šè¿‡ä½ä»£ç å’Œæ— ä»£ç å·¥å…·å¸®åŠ©æ‚¨çš„ç»„ç»‡æ‰©å¤§å¼€å‘å·¥ä½œã€‚</p>
<blockquote>
<p>Eric Goebelbecker</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>è¿‘30å¹´æ¥ï¼ŒEricåœ¨åå°”è¡—å¤šå®¶å¸‚åœºæ•°æ®å’Œäº¤æ˜“å…¬å¸æ‹…ä»»å¼€å‘äººå‘˜å’Œç³»ç»Ÿå·¥ç¨‹å¸ˆã€‚ç°åœ¨ï¼Œä»–æŠŠæ—¶é—´èŠ±åœ¨æ’°å†™æŠ€æœ¯å’Œç§‘å¹»æ–‡ç« ã€è®­ç‹—å’Œéª‘è‡ªè¡Œè½¦ä¸Šã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-50">ä½¿ç”¨ä½ä»£ç å¹³å°ç¼–æ’IATã€IPAå’ŒRPA</h3>
<p><strong>é«˜çº§è‡ªåŠ¨åŒ–ä¸æµ‹è¯•çš„ç›Šå¤„ä¸æŒ‘æˆ˜</strong></p>
<p><strong>ä½œè€…ï¼šStelios Manioudakis, Transifex é¦–å¸­QAå·¥ç¨‹å¸ˆ</strong></p>
<p>å½“è½¯ä»¶å¼€å‘å›¢é˜Ÿé¢ä¸´å¿«é€Ÿäº¤ä»˜é«˜è´¨é‡åº”ç”¨ç¨‹åºçš„å‹åŠ›æ—¶ï¼Œä½ä»£ç å¹³å°ä¸ºå¿«é€Ÿå‘å±•çš„ä¸šåŠ¡éœ€æ±‚å’Œå¤æ‚é›†æˆæä¾›äº†æ‰€éœ€çš„æ”¯æŒã€‚é›†æˆèƒ½å¤Ÿæ›´ readily é€‚åº”å˜åŒ–çš„æ™ºèƒ½è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆIATï¼‰ã€æ™ºèƒ½æµç¨‹è‡ªåŠ¨åŒ–ï¼ˆIPAï¼‰å’Œæœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼ˆRPAï¼‰è§£å†³æ–¹æ¡ˆï¼Œå¯ç¡®ä¿æµ‹è¯•å’Œè‡ªåŠ¨åŒ–è·Ÿä¸Šä¸æ–­å‘å±•çš„åº”ç”¨ç¨‹åºå’Œæµç¨‹çš„æ­¥ä¼ã€‚åœ¨ä½ä»£ç å¼€å‘ç¯å¢ƒä¸­ï¼Œå¦‚å›¾1æ‰€ç¤ºï¼ŒIATã€IPAå’ŒRPAå¯ä»¥å‡å°‘æ‰‹åŠ¨å·¥ä½œï¼Œå¹¶æé«˜SDLCå’Œæµç¨‹è‡ªåŠ¨åŒ–ä¸­çš„æµ‹è¯•è¦†ç›–ç‡ã€å‡†ç¡®æ€§å’Œæ•ˆç‡ã€‚</p>
<p><strong>å›¾1.</strong> ä½ä»£ç å¼€å‘ç¯å¢ƒ</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-23-1.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šå±•ç¤ºäº†ä½ä»£ç å¹³å°ä½œä¸ºä¸­å¿ƒï¼Œè¿æ¥ç€ç”¨æˆ·ç•Œé¢ã€æ•°æ®æºã€æœåŠ¡/APIï¼Œå¹¶é€šè¿‡IATã€IPAã€RPAä¸å¼€å‘è¿ç»´æµç¨‹å’Œä¸šåŠ¡ç”¨æˆ·äº¤äº’ã€‚ï¼‰</p>
<p>å°†IATã€IPAã€RPAä¸ä½ä»£ç å¹³å°ç»“åˆä½¿ç”¨è¿˜å¯ä»¥å®ç°æ›´å¿«çš„ä¸Šå¸‚æ—¶é—´ã€é™ä½çš„æˆæœ¬å’Œæé«˜çš„ç”Ÿäº§åŠ›ã€‚IATã€IPAã€RPAå’Œä½ä»£ç çš„äº¤å‰ç‚¹æ˜¯ç°ä»£è½¯ä»¶å¼€å‘å’Œæµç¨‹è‡ªåŠ¨åŒ–ä¸­çš„èŒƒå¼è½¬å˜ï¼Œå…¶å½±å“å»¶ä¼¸åˆ°ä¸“ä¸šæœåŠ¡ã€æ¶ˆè´¹å“ã€é“¶è¡Œä¸šç­‰è¡Œä¸šã€‚</p>
<p>æœ¬æ–‡æ¢è®¨äº†æ‰€æœ‰ä¸‰ç§é›†æˆã€‚å¯¹äºæ¯ç§é›†æˆï¼Œæˆ‘ä»¬å°†å¼ºè°ƒä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œæ¢è®¨å†³å®šæ˜¯å¦é›†æˆæ—¶éœ€è¦è€ƒè™‘çš„å› ç´ ï¼Œæå‡ºä¸€ä¸ªç”¨ä¾‹ï¼Œå¹¶å¼ºè°ƒå…³é”®å®æ–½ç‚¹ã€‚æ‰€å‘ˆç°çš„ç”¨ä¾‹æ˜¯è¿™äº›æŠ€æœ¯å¦‚ä½•åœ¨ç‰¹å®šåœºæ™¯ä¸­åº”ç”¨çš„æµè¡Œç¤ºä¾‹ã€‚è¿™äº›ç”¨ä¾‹å¹¶ä¸æ„å‘³ç€æ¯ç§é›†æˆä»…é™äºæ‰€æåŠçš„é¢†åŸŸï¼Œä¹Ÿä¸æš—ç¤ºè¿™äº›é›†æˆä¸èƒ½åœ¨åŒä¸€é¢†åŸŸå†…ä»¥ä¸åŒæ–¹å¼ä½¿ç”¨ã€‚æœ¬æ–‡æ¢è®¨çš„ä¸‰ç§é›†æˆçš„çµæ´»æ€§å’Œå¤šåŠŸèƒ½æ€§å…è®¸è·¨ä¸åŒè¡Œä¸šå’Œæµç¨‹çš„å¹¿æ³›åº”ç”¨ã€‚</p>
<h4 data-id="heading-51">ä½ä»£ç å¼€å‘ä¸­çš„IAT</h4>
<p><strong>æ™ºèƒ½è‡ªåŠ¨åŒ–æµ‹è¯•</strong>ä¸­AIé©±åŠ¨çš„æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå¯ä»¥æ¢ç´¢æ›´å¤šåœºæ™¯ã€è¾¹ç•Œæƒ…å†µå’Œåº”ç”¨ç¨‹åºçŠ¶æ€ï¼Œä»è€Œå®ç°æ›´å¥½çš„æµ‹è¯•è¦†ç›–ç‡å’Œæ›´é«˜çš„åº”ç”¨ç¨‹åºè´¨é‡ã€‚è¿™åœ¨ä½ä»£ç ç¯å¢ƒä¸­å°¤å…¶æœ‰ç›Šï¼Œå› ä¸ºå¤æ‚çš„é›†æˆå’Œå¿«é€Ÿå‘å±•çš„éœ€æ±‚å¯èƒ½ä½¿å…¨é¢æµ‹è¯•å…·æœ‰æŒ‘æˆ˜æ€§ã€‚</p>
<p>é€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ä»»åŠ¡ï¼Œä¾‹å¦‚æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆã€æ‰§è¡Œå’Œç»´æŠ¤ï¼ŒIATå¯ä»¥æ˜¾è‘—å‡å°‘æ‰€éœ€çš„æ‰‹åŠ¨å·¥ä½œï¼Œä»è€Œæé«˜æ•ˆç‡å’ŒèŠ‚çº¦æˆæœ¬ã€‚è¿™åœ¨æ¶‰åŠæœ‰é™æµ‹è¯•ç»éªŒçš„å…¬æ°‘å¼€å‘è€…çš„ä½ä»£ç å¼€å‘ä¸­æ˜¯æœ‰åˆ©çš„ï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘å¯¹ä¸“ç”¨æµ‹è¯•èµ„æºçš„éœ€æ±‚ã€‚</p>
<p>ä½ä»£ç å¹³å°æ”¯æŒå¿«é€Ÿåº”ç”¨ç¨‹åºå¼€å‘ï¼Œä½†æµ‹è¯•å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒIATå¯ä»¥å°±åº”ç”¨ç¨‹åºè´¨é‡å’Œæ½œåœ¨é—®é¢˜æä¾›å¿«é€Ÿåé¦ˆï¼Œä»è€Œèƒ½å¤Ÿæ›´å¿«åœ°è¯†åˆ«å’Œè§£å†³ç¼ºé™·ã€‚è¿™å¯ä»¥åŠ é€Ÿæ•´ä½“å¼€å‘å’Œäº¤ä»˜å‘¨æœŸã€‚å®ƒè¿˜å¯ä»¥å…è®¸ç»„ç»‡åœ¨ä¿æŒè´¨é‡æ ‡å‡†çš„åŒæ—¶åˆ©ç”¨ä½ä»£ç çš„é€Ÿåº¦ã€‚</p>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬éœ€è¦è®°ä½ï¼Œå¹¶éæ‰€æœ‰ä½ä»£ç å¹³å°éƒ½å¯ä»¥ä¸æ‰€æœ‰IATè§£å†³æ–¹æ¡ˆé›†æˆã€‚IATè§£å†³æ–¹æ¡ˆå¯èƒ½éœ€è¦è®¿é—®æ•æ„Ÿçš„åº”ç”¨ç¨‹åºæ•°æ®ã€æ—¥å¿—å’Œå…¶ä»–ä¿¡æ¯ï¼Œç”¨äºè®­ç»ƒAI/MLæ¨¡å‹å’Œç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€‚åœ¨IATä¸­AI/MLéœ€è¦åŸ¹è®­å’Œè½¯ä»¶å·¥ç¨‹æŠ€èƒ½å‘å±•çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘è¯¸å¦‚ç»´æŠ¤å’Œæ”¯æŒä»¥åŠå®šåˆ¶å’ŒåŸºç¡€è®¾æ–½ç­‰æˆæœ¬ã€‚</p>
<p>æ˜¯å¦å°†IATä¸ä½ä»£ç å¹³å°é›†æˆçš„å†³å®šæ¶‰åŠè®¸å¤šå› ç´ ï¼Œä¸‹è¡¨çªå‡ºäº†è¿™äº›å› ç´ ï¼š</p>
<p><strong>è¡¨1.</strong> å°†IATä¸ä½ä»£ç å¼€å‘é›†æˆ</p>
<p>| ä½•æ—¶é›†æˆ | ä½•æ—¶ä¸é›†æˆ |</p>
<p>| :--- | :--- |</p>
<p>| å¿«é€Ÿå¼€å‘è‡³å…³é‡è¦ï¼Œä½†åªæœ‰æœ‰é™æµ‹è¯•ç»éªŒçš„å…¬æ°‘å¼€å‘è€…å¯ç”¨ | ç®€å•çš„åº”ç”¨ç¨‹åºåŠŸèƒ½æœ‰é™ï¼Œä¸”ä½ä»£ç å¹³å°å·²æä¾›è¶³å¤Ÿçš„æµ‹è¯•èƒ½åŠ› |</p>
<p>| åŸºäºä½ä»£ç å¹³å°æ„å»ºçš„åº”ç”¨ç¨‹åºæœ‰è‰¯å¥½çš„IATé›†æˆé€‰é¡¹ | å¤æ‚æ€§å’Œå­¦ä¹ æ›²çº¿é«˜ï¼Œéœ€è¦æ·±å…¥ç†è§£AI/ML |</p>
<p>| å¤æ‚çš„åº”ç”¨ç¨‹åºéœ€è¦å…¨é¢çš„æµ‹è¯•è¦†ç›–ï¼Œéœ€è¦å¤§é‡æµ‹è¯• | å­˜åœ¨å…¼å®¹æ€§ã€äº’æ“ä½œæ€§å’Œæ•°æ®å­¤å²›é—®é¢˜ |</p>
<p>| é¢‘ç¹çš„å‘å¸ƒå‘¨æœŸï¼Œæ‹¥æœ‰å®Œå–„çš„CI/CDç®¡é“ | æ•°æ®å®‰å…¨å’Œæ³•è§„åˆè§„æ€§æ˜¯æŒ‘æˆ˜ |</p>
<p>| éœ€è¦å¢å¼ºæµ‹è¯•è¿‡ç¨‹çš„å†³ç­–èƒ½åŠ› | å­˜åœ¨é¢„ç®—é™åˆ¶ |</p>
<h5 data-id="heading-52">ç”¨ä¾‹ï¼šä¸“ä¸šæœåŠ¡</h5>
<p>å°†ä½¿ç”¨ä½ä»£ç å¹³å°å¼€å‘å®šåˆ¶å®¡è®¡åº”ç”¨ç¨‹åºã€‚ç”±äºå¯ä»¥é›†æˆIATå·¥å…·æ¥è‡ªåŠ¨æµ‹è¯•è¿™äº›åº”ç”¨ç¨‹åºï¼Œä¸€å®¶ä¸“ä¸šæœåŠ¡å…¬å¸å°†åˆ©ç”¨IATæ¥æé«˜å…¶å®¡è®¡å’Œé‰´è¯æœåŠ¡çš„å‡†ç¡®æ€§ã€é€Ÿåº¦ã€æ•ˆç‡å’Œæœ‰æ•ˆæ€§ã€‚å®æ–½è¦ç‚¹æ€»ç»“åœ¨ä¸‹å›¾2ä¸­ï¼š</p>
<p><strong>å›¾2.</strong> ç”¨äºå®šåˆ¶å®¡è®¡åº”ç”¨ç¨‹åºçš„ä½ä»£ç å¼€å‘ä¸IAT</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-23-2.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šå±•ç¤ºäº†ä½ä»£ç å¹³å°ç”¨äºæ„å»ºå®¡è®¡åº”ç”¨ï¼ŒIATå·¥å…·é›†æˆè¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå¹¶ä¸æ•°æ®æºã€ç”¨æˆ·å’ŒCI/CDç®¡é“äº¤äº’ï¼Œæœ€ç»ˆå®ç°æ›´å¿«çš„å‘å¸ƒå‘¨æœŸå’Œæ›´é«˜çš„è´¨é‡ã€‚ï¼‰</p>
<p>åœ¨è¿™ä¸ªå°†IATä¸ä½ä»£ç é›†æˆçš„ä¸“ä¸šæœåŠ¡ç”¨ä¾‹ä¸­ï¼Œå®šåˆ¶å®¡è®¡åº”ç”¨ç¨‹åºä¹Ÿå¯ä»¥ä¸ºåŒ»ç–—ä¿å¥æˆ–é‡‘èç­‰è¡Œä¸šå¼€å‘ï¼Œåœ¨è¿™äº›è¡Œä¸šä¸­ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å¯ä»¥æé«˜åˆè§„æ€§å’Œé£é™©ç®¡ç†ã€‚</p>
<h4 data-id="heading-53">ä½ä»£ç å¼€å‘ä¸­çš„IPA</h4>
<p>æ™ºèƒ½æµç¨‹è‡ªåŠ¨åŒ–å¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–è½¯ä»¶å¼€å‘å’Œæµ‹è¯•ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªæ–¹é¢æ¥æ˜¾è‘—æé«˜æ•ˆç‡ã€‚ä½ä»£ç ç¯å¢ƒå¯ä»¥å—ç›ŠäºIPAçš„é«˜çº§AIæŠ€æœ¯ï¼Œä¾‹å¦‚æœºå™¨å­¦ä¹ ã€è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰å’Œè®¤çŸ¥è®¡ç®—ã€‚è¿™äº›å¢å¼ºåŠŸèƒ½å…è®¸ä½ä»£ç å¹³å°è‡ªåŠ¨åŒ–æ›´å¤æ‚å’Œæ•°æ®å¯†é›†å‹çš„ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡è¶…å‡ºäº†ç®€å•çš„åŸºäºè§„åˆ™çš„æµç¨‹ã€‚</p>
<p>IPAä¸é™äºç®€å•çš„åŸºäºè§„åˆ™çš„ä»»åŠ¡ï¼›å®ƒåŒ…å«äº†è®¤çŸ¥è‡ªåŠ¨åŒ–èƒ½åŠ›ã€‚è¿™ä½¿å¾—IPAèƒ½å¤Ÿå¤„ç†æ¶‰åŠéç»“æ„åŒ–æ•°æ®å’Œå†³ç­–çš„æ›´å¤æ‚åœºæ™¯ã€‚IPAå¯ä»¥ä»æ•°æ®æ¨¡å¼ä¸­å­¦ä¹ ï¼Œå¹¶æ ¹æ®å†å²æ•°æ®å’Œè¶‹åŠ¿åšå‡ºå†³ç­–ã€‚è¿™å¯¹äºæ¶‰åŠå¤æ‚é€»è¾‘å’Œå¯å˜ç»“æœçš„æµ‹è¯•åœºæ™¯ç‰¹åˆ«æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼ŒIPAå¯ä»¥é€šè¿‡ä½¿ç”¨NLPå’Œå…‰å­¦å­—ç¬¦è¯†åˆ«æ¥å¤„ç†éç»“æ„åŒ–æ•°æ®ï¼Œå¦‚æ–‡æœ¬æ–‡æ¡£ã€å›¾åƒå’Œç”µå­é‚®ä»¶ã€‚</p>
<p>IPAå¯ç”¨äºè‡ªåŠ¨åŒ–å¤æ‚çš„å·¥ä½œæµå’Œå†³ç­–è¿‡ç¨‹ï¼Œå‡å°‘æ‰‹åŠ¨å¹²é¢„çš„éœ€è¦ã€‚å¯ä»¥è‡ªåŠ¨åŒ–ç«¯åˆ°ç«¯çš„å·¥ä½œæµå’Œä¸šåŠ¡æµç¨‹ï¼ŒåŒ…æ‹¬å®¡æ‰¹ã€é€šçŸ¥å’Œå‡çº§ã€‚è‡ªåŠ¨åŒ–å†³ç­–å¯ä»¥åŸºäºé¢„å®šä¹‰çš„æ ‡å‡†å’Œå®æ—¶æ•°æ®åˆ†æå¤„ç†è¯¸å¦‚ä¿¡ç”¨è¯„åˆ†ã€é£é™©è¯„ä¼°å’Œèµ„æ ¼éªŒè¯ç­‰ä»»åŠ¡ï¼Œè€Œæ— éœ€äººå·¥å‚ä¸ã€‚é€šè¿‡IPAï¼Œä½ä»£ç æµ‹è¯•å¯ä»¥è¶…è¶Šæµ‹è¯•åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥æµ‹è¯•è·¨è¶Šç»„ç»‡ä¸åŒå‚ç›´é¢†åŸŸçš„æ•´ä¸ªæµç¨‹ã€‚</p>
<p>ç”±äºIPAæ”¯æŒå¹¿æ³›çš„è·¨å‚ç›´é¢†åŸŸé›†æˆåœºæ™¯ï¼Œå®‰å…¨æ€§å’Œæ³•è§„åˆè§„æ€§å¯èƒ½æˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚å¦‚æœä½ä»£ç å¹³å°ä¸å®Œå…¨æ”¯æŒIPAæä¾›çš„å¹¿æ³›é›†æˆï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è€ƒè™‘æ›¿ä»£æ–¹æ¡ˆã€‚åŸºç¡€è®¾æ–½è®¾ç½®ã€æ•°æ®è¿ç§»ã€æ•°æ®é›†æˆã€è®¸å¯å’Œå®šåˆ¶æ˜¯æ‰€æ¶‰åŠæˆæœ¬çš„ç¤ºä¾‹ã€‚</p>
<p>ä¸‹è¡¨æ€»ç»“äº†é›†æˆIPAå‰éœ€è¦è€ƒè™‘çš„å› ç´ ï¼š</p>
<p><strong>è¡¨2.</strong> å°†IPAä¸ä½ä»£ç å¼€å‘é›†æˆ</p>
<p>| ä½•æ—¶é›†æˆ | ä½•æ—¶ä¸é›†æˆ |</p>
<p>| :--- | :--- |</p>
<p>| å­˜åœ¨ä¸¥æ ¼ä¸”å˜åŒ–é¢‘ç¹ã€é€‚åº”æ€§å¼ºã€è¯¦ç»†ä¸”æ˜“äºè‡ªåŠ¨åŒ–çš„åˆè§„å’Œç›‘ç®¡è¦æ±‚ | ç›‘ç®¡å’Œå®‰å…¨åˆè§„æ¡†æ¶è¿‡äºåƒµåŒ–ï¼Œå­˜åœ¨å®‰å…¨/åˆè§„å·®è·å’Œæ½œåœ¨æ³•å¾‹é—®é¢˜ï¼Œå¯¼è‡´æŒ‘æˆ˜å’Œä¸ç¡®å®šæ€§ |</p>
<p>| å­˜åœ¨è·¨å‚ç›´é¢†åŸŸçš„é‡å¤æµç¨‹ï¼Œå…¶æ•ˆç‡å’Œå‡†ç¡®æ€§å¯ä»¥å¾—åˆ°æé«˜ | æ²¡æœ‰æ˜ç¡®çš„ä¼˜åŒ–ç›®æ ‡ï¼›æ‰‹åŠ¨æµç¨‹è¶³å¤Ÿ |</p>
<p>| éœ€è¦å¿«é€Ÿå¼€å‘å’Œéƒ¨ç½²å¯æ‰©å±•çš„è‡ªåŠ¨åŒ–è§£å†³æ–¹æ¡ˆ | ä½ä»£ç å¹³å°å¯¹IPAçš„å®šåˆ¶æœ‰é™ |</p>
<p>| å¯ä»¥ç®€åŒ–ç«¯åˆ°ç«¯çš„ä¸šåŠ¡æµç¨‹ | ITä¸“ä¸šçŸ¥è¯†æœ‰é™ |</p>
<p>| éœ€è¦å¤æ‚æµç¨‹ä¼˜åŒ–çš„å†³ç­–èƒ½åŠ› | åˆå§‹å®æ–½æˆæœ¬é«˜ |</p>
<h5 data-id="heading-54">ç”¨ä¾‹ï¼šæ¶ˆè´¹å“</h5>
<p>ä¸€å®¶é¢†å…ˆçš„æ¶ˆè´¹å“å…¬å¸å¸Œæœ›åˆ©ç”¨IPAæ¥å¢å¼ºå…¶ä¾›åº”é“¾ç®¡ç†å’Œä¸šåŠ¡è¿è¥ã€‚ä»–ä»¬å°†ä½¿ç”¨ä½ä»£ç å¹³å°å¼€å‘ä¾›åº”é“¾åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”è¯¥å¹³å°å°†å…·æœ‰é›†æˆIPAå·¥å…·ä»¥è‡ªåŠ¨åŒ–å’Œä¼˜åŒ–ä¾›åº”é“¾æµç¨‹çš„é€‰é¡¹ã€‚è¿™æ ·çš„é›†æˆå°†ä½¿å…¬å¸èƒ½å¤Ÿæé«˜ä¾›åº”é“¾æ•ˆç‡ã€é™ä½è¿è¥æˆæœ¬å¹¶ç¼©çŸ­äº§å“äº¤ä»˜æ—¶é—´ã€‚å®æ–½è¦ç‚¹æ€»ç»“åœ¨ä¸‹å›¾3ä¸­ï¼š</p>
<p>å›¾3. ç”¨äºæ¶ˆè´¹å“å…¬å¸çš„ä½ä»£ç å¼€å‘ä¸IPA</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-23-3.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šå±•ç¤ºäº†ä½ä»£ç å¹³å°ç”¨äºæ„å»ºä¾›åº”é“¾åº”ç”¨ï¼ŒIPAå·¥å…·é›†æˆè¿›è¡Œæµç¨‹ä¼˜åŒ–å’Œå†³ç­–ï¼Œå¹¶ä¸ä¾›åº”å•†ã€åº“å­˜ã€ç‰©æµå’Œå®¢æˆ·æ•°æ®äº¤äº’ï¼Œæœ€ç»ˆå®ç°æˆæœ¬é™ä½å’Œæ•ˆç‡æå‡ã€‚ï¼‰</p>
<p>è¿™ä¸ªåœ¨æ¶ˆè´¹å“é¢†åŸŸå°†IPAä¸ä½ä»£ç é›†æˆçš„ä¾‹å­å¯ä»¥é€‚ç”¨äºé›¶å”®æˆ–åˆ¶é€ ä¸šç­‰è¡Œä¸šï¼Œåœ¨è¿™äº›è¡Œä¸šä¸­ï¼Œåº“å­˜ç®¡ç†ã€éœ€æ±‚é¢„æµ‹å’Œç”Ÿäº§è°ƒåº¦å¯ä»¥å¾—åˆ°ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-55">ä½ä»£ç å¼€å‘ä¸­çš„RPA</h4>
<p><strong>æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–</strong>å’Œä½ä»£ç å¼€å‘å…·æœ‰äº’è¡¥å…³ç³»ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç»“åˆä½¿ç”¨ä»¥å¢å¼ºç»„ç»‡å†…çš„æ•´ä½“è‡ªåŠ¨åŒ–å’Œåº”ç”¨ç¨‹åºå¼€å‘èƒ½åŠ›ã€‚ä¾‹å¦‚ï¼ŒRPAå¯ç”¨äºè‡ªåŠ¨åŒ–é‡å¤æ€§ä»»åŠ¡å¹¶ä¸å„ç§ç³»ç»Ÿé›†æˆã€‚ä½ä»£ç å¹³å°å¯è¢«åˆ©ç”¨æ¥å¿«é€Ÿæ„å»ºå®šåˆ¶åº”ç”¨ç¨‹åºå’Œå·¥ä½œæµï¼Œè¿™å¯èƒ½å¯¼è‡´æ›´å¿«çš„ä¸Šå¸‚æ—¶é—´ã€‚ä½ä»£ç å¹³å°çš„å¿«é€Ÿå¼€å‘èƒ½åŠ›ä¸RPAçš„è‡ªåŠ¨åŒ–èƒ½åŠ›ç›¸ç»“åˆï¼Œå¯ä»¥ä½¿ç»„ç»‡å¿«é€Ÿæ„å»ºå’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚</p>
<p>é€šè¿‡ä½¿ç”¨RPAè‡ªåŠ¨åŒ–é‡å¤æ€§ä»»åŠ¡å¹¶ä½¿ç”¨ä½ä»£ç å¹³å°å¿«é€Ÿæ„å»ºå®šåˆ¶åº”ç”¨ç¨‹åºï¼Œç»„ç»‡å¯ä»¥æ˜¾è‘—æé«˜å…¶æ•´ä½“è¿è¥æ•ˆç‡å’Œç”Ÿäº§åŠ›ã€‚ä½ä»£ç ç¯å¢ƒä¸­çš„RPAå¯ä»¥é€šè¿‡æœ€å°åŒ–æ‰‹åŠ¨å·¥ä½œã€å‡å°‘å¼€å‘æ—¶é—´å¹¶ä½¿å…¬æ°‘å¼€å‘è€…èƒ½å¤Ÿä¸ºåº”ç”¨ç¨‹åºå¼€å‘åšå‡ºè´¡çŒ®æ¥å®ç°æˆæœ¬èŠ‚çº¦ã€‚</p>
<p>RPAå’Œä½ä»£ç å¹³å°éƒ½æä¾›å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ï¼Œå…è®¸ç»„ç»‡é€‚åº”ä¸æ–­å˜åŒ–çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¹¶æ ¹æ®éœ€è¦æ‰©å±•å…¶åº”ç”¨ç¨‹åºå’Œè‡ªåŠ¨åŒ–æµç¨‹ã€‚<strong>RPAæœºå™¨äºº</strong>å¯ä»¥åŠ¨æ€æ‰©å±•ä»¥å¤„ç†ä¸åŒæ•°é‡çš„å®¢æˆ·æŸ¥è¯¢ã€‚åœ¨é«˜å³°æ—¶æ®µï¼Œå¯ä»¥éƒ¨ç½²é¢å¤–çš„æœºå™¨äººæ¥ç®¡ç†å¢åŠ çš„å·¥ä½œè´Ÿè½½ï¼Œç¡®ä¿æŒç»­çš„æœåŠ¡æ°´å¹³ã€‚RPAå·¥å…·é€šå¸¸å…·æœ‰è·¨å¹³å°å…¼å®¹æ€§ï¼Œå…è®¸å®ƒä»¬ä¸å„ç§åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿäº¤äº’ï¼Œä»è€Œå¢å¼ºä½ä»£ç å¹³å°çš„çµæ´»æ€§ã€‚</p>
<p>è¿™é‡Œæ•°æ®æ•æ„Ÿæ€§å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºRPAæœºå™¨äººå¯èƒ½ç›´æ¥è®¿é—®ä¸“æœ‰æˆ–æ•æ„Ÿæ•°æ®ã€‚å¯¹äºä¸ç¨³å®šã€éš¾ä»¥è‡ªåŠ¨åŒ–æˆ–ä¸å¯é¢„æµ‹çš„æµç¨‹ï¼ŒRPAå¯èƒ½æ— æ³•æä¾›é¢„æœŸçš„æ”¶ç›Šã€‚RPAä¾èµ–ç»“æ„åŒ–æ•°æ®å’Œé¢„å®šä¹‰è§„åˆ™æ¥æ‰§è¡Œä»»åŠ¡ã€‚é¢‘ç¹å˜åŒ–ã€ä¸ç¨³å®šå’Œéç»“æ„åŒ–çš„æµç¨‹ï¼Œç¼ºä¹æ¸…æ™°å’Œä¸€è‡´çš„é‡å¤æ¨¡å¼ï¼Œå¯èƒ½å¯¹RPAæœºå™¨äººæ„æˆé‡å¤§æŒ‘æˆ˜ã€‚éš¾ä»¥è‡ªåŠ¨åŒ–çš„å¤æ‚æµç¨‹é€šå¸¸æ¶‰åŠå¤šä¸ªå†³ç­–ç‚¹ã€å¼‚å¸¸å’Œä¾èµ–å…³ç³»ã€‚è™½ç„¶RPAå¯ä»¥å¤„ç†ä¸€å®šç¨‹åº¦çš„å¤æ‚æ€§ï¼Œä½†å®ƒå¹¶éä¸ºéœ€è¦æ·±åº¦ä¸Šä¸‹æ–‡ç†è§£æˆ–å¤æ‚å†³ç­–èƒ½åŠ›çš„ä»»åŠ¡è€Œè®¾è®¡ã€‚</p>
<p>ä¸‹è¡¨æ€»ç»“äº†é›†æˆRPAå‰éœ€è¦è€ƒè™‘çš„å› ç´ ï¼š</p>
<p>**è¡¨3. **å°†RPAä¸ä½ä»£ç å¼€å‘é›†æˆ</p>
<p>| ä½•æ—¶é›†æˆ | ä½•æ—¶ä¸é›†æˆ |</p>
<p>| :--- | :--- |</p>
<p>| ç°æœ‰çš„ç³»ç»Ÿé›†æˆå¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–è¿›ä¸€æ­¥å¢å¼º | è¦è‡ªåŠ¨åŒ–çš„ä»»åŠ¡æ¶‰åŠéç»“æ„åŒ–æ•°æ®å’Œå¤æ‚å†³ç­– |</p>
<p>| å­˜åœ¨é‡å¤æ€§ä»»åŠ¡å’Œæµç¨‹ï¼Œæ‰‹åŠ¨å¤„ç†æ•ˆç‡ä½ä¸‹ | å¿…é¡»è‡ªåŠ¨åŒ–å¿«é€Ÿå˜åŒ–å’Œå¤æ‚çš„æµç¨‹ |</p>
<p>| æœŸæœ›é€šè¿‡è‡ªåŠ¨åŒ–å¤§é‡ç»“æ„åŒ–å’Œé‡å¤æ€§ä»»åŠ¡æ¥èŠ‚çº¦æˆæœ¬ | é›†æˆçš„å®æ–½å’Œç»´æŠ¤æˆæœ¬é«˜ |</p>
<p>| ä½ä»£ç å¹³å°å¯ä»¥åˆ©ç”¨RPAçš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ | ç¼ºä¹æŠ€æœ¯ä¸“ä¸šçŸ¥è¯† |</p>
<p>| ä¸Šå¸‚æ—¶é—´å¾ˆé‡è¦ | RPAæœºå™¨äººåœ¨æ²¡æœ‰ä¿éšœçš„æƒ…å†µä¸‹æ“ä½œæ•æ„Ÿæ•°æ® |</p>
<h5 data-id="heading-56">ç”¨ä¾‹ï¼šé“¶è¡Œä¸š</h5>
<p>ä¸€å®¶é“¶è¡Œç»„ç»‡æ—¨åœ¨é€šè¿‡å°†RPAä¸ä½ä»£ç å¼€å‘å¹³å°é›†æˆæ¥ç®€åŒ–å…¶æ•°æ®å½•å…¥æµç¨‹ï¼Œä»¥è‡ªåŠ¨åŒ–é‡å¤æ€§å’Œè€—æ—¶çš„ä»»åŠ¡ï¼Œä¾‹å¦‚è¡¨å•å¡«å†™ã€æ•°æ®æå–ä»¥åŠåœ¨é—ç•™ç³»ç»Ÿå’Œæ–°ç³»ç»Ÿä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚è¯¥é›†æˆé¢„è®¡å°†æé«˜è¿è¥æ•ˆç‡ã€å‡å°‘æ‰‹åŠ¨é”™è¯¯ã€ç¡®ä¿æ•°æ®å‡†ç¡®æ€§å¹¶æé«˜å®¢æˆ·æ»¡æ„åº¦ã€‚æ­¤å¤–ï¼Œå®ƒå°†ä½¿é“¶è¡Œèƒ½å¤Ÿä»¥æ›´å¿«çš„é€Ÿåº¦å’Œå¯é æ€§å¤„ç†å¢åŠ çš„å®¢æˆ·æ•°æ®é‡ã€‚</p>
<p>ä½ä»£ç å¹³å°å°†æä¾›å¿«é€Ÿå¼€å‘å’Œéƒ¨ç½²é’ˆå¯¹é“¶è¡Œç‰¹å®šéœ€æ±‚å®šåˆ¶çš„å®šåˆ¶åº”ç”¨ç¨‹åºçš„çµæ´»æ€§ã€‚RPAå°†å¤„ç†åç«¯æµç¨‹çš„è‡ªåŠ¨åŒ–ï¼Œç¡®ä¿æ— ç¼å’Œå®‰å…¨çš„æ•°æ®ç®¡ç†ã€‚å®æ–½è¦ç‚¹æ€»ç»“åœ¨ä¸‹å›¾4ä¸­ï¼š</p>
<p><strong>å›¾4.</strong> ç”¨äºé“¶è¡Œç»„ç»‡çš„ä½ä»£ç å¼€å‘ä¸RPA</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-23-4.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šå±•ç¤ºäº†ä½ä»£ç å¹³å°ç”¨äºæ„å»ºå‰ç«¯åº”ç”¨ï¼ŒRPAæœºå™¨äººè‡ªåŠ¨åŒ–åç«¯æ•°æ®å½•å…¥å’Œä¼ è¾“ï¼Œå¹¶ä¸é—ç•™ç³»ç»Ÿã€æ•°æ®åº“å’Œæ–°ç³»ç»Ÿäº¤äº’ï¼Œæœ€ç»ˆå®ç°é”™è¯¯å‡å°‘å’Œå®¢æˆ·æ»¡æ„åº¦æé«˜ã€‚ï¼‰</p>
<p>åœ¨è¿™ä¸ªå°†RPAä¸ä½ä»£ç é›†æˆçš„é“¶è¡Œç¤ºä¾‹ä¸­ï¼Œè™½ç„¶RPAç”¨äºè‡ªåŠ¨åŒ–åç«¯æµç¨‹ï¼Œå¦‚æ•°æ®å½•å…¥å’Œä¼ è¾“ï¼Œä½†å®ƒä¹Ÿå¯ä»¥è‡ªåŠ¨åŒ–å‰ç«¯æµç¨‹ï¼Œå¦‚å®¢æˆ·æœåŠ¡äº¤äº’å’Œè´·æ¬¾å¤„ç†ã€‚æ­¤å¤–ï¼Œä½ä»£ç ä¸RPAå¯ä»¥åº”ç”¨äºä¿é™©æˆ–ç”µä¿¡ç­‰é¢†åŸŸï¼Œåˆ†åˆ«è‡ªåŠ¨åŒ–ç´¢èµ”å¤„ç†å’Œå®¢æˆ· onboardingã€‚</p>
<h4 data-id="heading-57">ç»“è®º</h4>
<p>æŠ€æœ¯é›†æˆçš„ä»·å€¼åœ¨äºå…¶èƒ½å¤Ÿèµ‹èƒ½ç¤¾ä¼šå’Œç»„ç»‡è¿›åŒ–ã€ä¿æŒç«äº‰åŠ›å¹¶åœ¨ä¸æ–­å˜åŒ–çš„æ ¼å±€ä¸­èŒå£®æˆé•¿â€”â€”è¿™ä¸ªæ ¼å±€å‘¼å”¤åˆ›æ–°å’Œç”Ÿäº§åŠ›ä»¥åº”å¯¹å¸‚åœºéœ€æ±‚å’Œç¤¾ä¼šå˜åŒ–ã€‚é€šè¿‡æ‹¥æŠ±IATã€IPAã€RPAå’Œä½ä»£ç å¼€å‘ï¼Œä¼ä¸šå¯ä»¥è§£é”æ–°çš„æ•æ·æ€§ã€æ•ˆç‡å’Œåˆ›æ–°æ°´å¹³ã€‚è¿™å°†ä½¿ä»–ä»¬èƒ½å¤Ÿæä¾›å“è¶Šçš„å®¢æˆ·ä½“éªŒï¼ŒåŒæ—¶æ¨åŠ¨å¯æŒç»­çš„å¢é•¿å’ŒæˆåŠŸã€‚</p>
<p>éšç€æ•°å­—åŒ–è½¬å‹ä¹‹æ—…çš„ç»§ç»­å±•å¼€ï¼ŒIATã€IPAå’ŒRPAä¸ä½ä»£ç å¼€å‘çš„é›†æˆå°†å‘æŒ¥å…³é”®ä½œç”¨ï¼Œå¹¶å¡‘é€ è½¯ä»¶å¼€å‘ã€æµç¨‹è‡ªåŠ¨åŒ–å’Œè·¨è¡Œä¸šä¸šåŠ¡è¿è¥çš„æœªæ¥ã€‚</p>
<blockquote>
<p>Stelios Manioudakis</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>Steliosæ›¾åœ¨è¥¿é—¨å­å’ŒAtosæ‹…ä»»è½¯ä»¶ä¸“ä¸šäººå£«ã€‚ä»–è¿˜åœ¨Softomotiveè¢«å¾®è½¯æ”¶è´­æœŸé—´åœ¨RPAé¢†åŸŸå·¥ä½œè¿‡ã€‚ç›®å‰ï¼Œä»–åœ¨Transifexæ‹…ä»»é¦–å¸­QAå·¥ç¨‹å¸ˆã€‚ä»–æ‹¥æœ‰è‹±å›½æ³°æ©æ²³ç•”çº½å¡æ–¯å°”å¤§å­¦çš„ç”µæ°”ã€ç”µå­å’Œè®¡ç®—æœºå·¥ç¨‹åšå£«å­¦ä½ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-58">ä½¿ç”¨ä½ä»£ç å’Œæ— ä»£ç å·¥å…·èµ‹èƒ½å…¬æ°‘å¼€å‘è€…</h3>
<p><strong>æ”¹å˜å¼€å‘è€…å·¥ä½œæµå¹¶èµ‹èƒ½éæŠ€æœ¯å‘˜å·¥æ„å»ºåº”ç”¨ç¨‹åº</strong></p>
<p><strong>ä½œè€…ï¼šSudip Sengupta, Brollyca æŠ€æœ¯é¡¾é—®</strong></p>
<p>ä½ä»£ç å’Œæ— ä»£ç ï¼ˆLCNCï¼‰å¹³å°çš„å…´èµ·å¼•å‘äº†ä¸€åœºå…³äºå®ƒä»¬å¯¹å¼€å‘äººå‘˜è§’è‰²å½±å“çš„è¾©è®ºã€‚å¯¹æŠ€èƒ½è´¬å€¼çš„æ‹…å¿§æ˜¯å¯ä»¥ç†è§£çš„ï¼›æ¯•ç«Ÿï¼Œå¦‚æœä»»ä½•äººéƒ½å¯ä»¥æ„å»ºåº”ç”¨ç¨‹åºï¼Œç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜çš„ä¸“ä¸šçŸ¥è¯†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<p>è™½ç„¶å¯¹ä½ä»£ç å¹³å°ä»ç„¶å­˜åœ¨ä¸€äº›æ€€ç–‘ï¼Œç‰¹åˆ«æ˜¯å…³äºå®ƒä»¬æ˜¯å¦é€‚ç”¨äºå¤§è§„æ¨¡ã€ä¼ä¸šçº§åº”ç”¨ç¨‹åºï¼Œä½†é‡è¦çš„æ˜¯è¦è®¤è¯†åˆ°è¿™äº›å¹³å°æ­£åœ¨ä¸æ–­å‘å±•å’Œæ”¹è¿›ã€‚è®¸å¤šå¹³å°ç°åœ¨æä¾›å¼ºå¤§çš„åŠŸèƒ½ï¼Œå¦‚æ¨¡å‹é©±åŠ¨å¼€å‘ã€è‡ªåŠ¨åŒ–æµ‹è¯•å’Œé«˜çº§æ•°æ®å»ºæ¨¡ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿå¤„ç†å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ã€‚æ­¤å¤–ï¼Œåˆå¹¶è‡ªå®šä¹‰ä»£ç æ¨¡å—çš„èƒ½åŠ›ç¡®ä¿äº†åœ¨éœ€è¦æ—¶ä»ç„¶å¯ä»¥å®ç°ä¸“é—¨çš„åŠŸèƒ½ã€‚</p>
<p>æ˜¯çš„ï¼Œè¿™äº›å·¥å…·æ­£åœ¨å½»åº•æ”¹å˜è½¯ä»¶åˆ›å»ºï¼Œä½†ç°åœ¨æ˜¯æ—¶å€™è¶…è¶Šå…³äºå®ƒä»¬å¯¹å¼€å‘æ ¼å±€å½±å“çš„è¾©è®ºï¼Œæ·±å…¥æ¢è®¨ç°å®æƒ…å†µäº†ã€‚</p>
<p>æœ¬æ–‡ä¸æ˜¯æ— ä»£ç å¹³å°çš„æ¨é”€è¯´è¾ï¼Œè€Œæ˜¯æ—¨åœ¨ä¸ºå¼€å‘äººå‘˜æä¾›å¯¹è¿™äº›å·¥å…·èƒ½åšä»€ä¹ˆå’Œä¸èƒ½åšä»€ä¹ˆçš„ç°å®ç†è§£ï¼Œå®ƒä»¬å¦‚ä½•æ”¹å˜å¼€å‘äººå‘˜çš„å·¥ä½œæµï¼Œä»¥åŠæœ€é‡è¦çš„æ˜¯ï¼Œæ‚¨å¦‚ä½•åœ¨AIæ”¯æŒçš„ã€LCNCé©±åŠ¨çš„ä¸–ç•Œä¸­åˆ©ç”¨å®ƒä»¬çš„åŠ›é‡å˜å¾—æ›´é«˜æ•ˆå’Œæœ‰ä»·å€¼ã€‚</p>
<h4 data-id="heading-59">åˆ©ç”¨ç°ä»£LCNCå¹³å°ä¼˜åŒ–å¼€å‘äººå‘˜å·¥ä½œæµ</h4>
<p>LCNCå¹³å°çš„è´¢åŠ¡æ•ˆç›Šæ˜¯ä¸å¯å¦è®¤çš„ã€‚é™ä½çš„å¼€å‘æˆæœ¬ã€æ›´å¿«çš„ä¸Šå¸‚æ—¶é—´ä»¥åŠå¯¹ITæ›´è½»çš„è´Ÿæ‹…æ˜¯ä»¤äººä¿¡æœçš„è®ºæ®ã€‚ä½†é€šè¿‡èµ‹èƒ½ä¸ªäººåœ¨æ²¡æœ‰ä»»ä½•ç¼–ç ç»éªŒçš„æƒ…å†µä¸‹å¼€å‘è§£å†³æ–¹æ¡ˆæ¥æ°‘ä¸»åŒ–åº”ç”¨ç¨‹åºå¼€å‘çš„æˆ˜ç•¥ä¼˜åŠ¿ï¼Œæ¨åŠ¨äº†åˆ›æ–°å’Œç«äº‰ä¼˜åŠ¿ã€‚</p>
<p>å¯¹äºITæ¥è¯´ï¼Œè¿™æ„å‘³ç€æ›´å°‘çš„æ—¶é—´èŠ±åœ¨ä¿®å¤å°é—®é¢˜ä¸Šï¼Œæ›´å¤šçš„æ—¶é—´èŠ±åœ¨é‡è¦çš„å¤§äº‹ä¸Šã€‚å¯¹äºITä»¥å¤–çš„å›¢é˜Ÿæ¥è¯´ï¼Œè¿™å°±åƒæ‹¥æœ‰ä¸€ä¸ªå·¥å…·ç®±æ¥æ„å»ºè‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚éœ€è¦ä¸€ç§è·Ÿè¸ªé¡¹ç›®æˆªæ­¢æ—¥æœŸçš„æ–¹æ³•å—ï¼Ÿæœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥åšåˆ°ã€‚æƒ³è‡ªåŠ¨åŒ–ä¸€ä»½ç¹ççš„æŠ¥å‘Šå—ï¼Ÿæ‚¨å¯èƒ½å¯ä»¥è‡ªå·±æ„å»ºå®ƒã€‚</p>
<p>è¿™ç§è½¬å˜å¹¶ä¸æ„å‘³ç€ä¼ ç»Ÿçš„ç¼–ç æŠ€èƒ½è¿‡æ—¶äº†ã€‚äº‹å®ä¸Šï¼Œå®ƒä»¬å˜å¾—æ›´æœ‰ä»·å€¼ã€‚ç»éªŒä¸°å¯Œçš„å¼€å‘äººå‘˜ç°åœ¨å¯ä»¥ä¸“æ³¨äºæ„å»ºå¯é‡ç”¨ç»„ä»¶ã€ä¸ºå…¬æ°‘å¼€å‘è€…åˆ›å»ºæ¨¡æ¿å’Œæ¡†æ¶ï¼Œå¹¶ç¡®ä¿ä»–ä»¬çš„LCNCè§£å†³æ–¹æ¡ˆä¸ç°æœ‰ç³»ç»Ÿæ— ç¼é›†æˆã€‚éšç€ç»„ç»‡æ—¥ç›Šé‡‡ç”¨"åŒé€ŸIT"æ–¹æ³•ï¼Œå¹³è¡¡å¿«é€Ÿã€è¿­ä»£å¼€å‘çš„éœ€æ±‚ä¸å¤æ‚æ ¸å¿ƒç³»ç»Ÿçš„ç»´æŠ¤å’Œå¢å¼ºï¼Œè¿™ç§è½¬å˜è‡³å…³é‡è¦ã€‚</p>
<h4 data-id="heading-60">é€‚åˆLCNCä¸ä¼ ç»Ÿå¼€å‘çš„ä»»åŠ¡ç±»å‹</h4>
<p>è¦ç†è§£ä¼ ç»Ÿå¼€å‘çš„å„ç§ä»»åŠ¡ä¸ä½¿ç”¨æ— ä»£ç è§£å†³æ–¹æ¡ˆæœ‰ä½•ä¸åŒï¼Œè¯·è€ƒè™‘ä¸‹è¡¨ä¸­å¼€å‘äººå‘˜å·¥ä½œæµä¸­çš„å…¸å‹ä»»åŠ¡ï¼š</p>
<p><strong>è¡¨1.</strong> å¼€å‘äººå‘˜å·¥ä½œæµä»»åŠ¡ï¼šLCNC vs. ä¼ ç»Ÿå¼€å‘</p>
<p>| ç±»åˆ« | LCNC | ä¼ ç»Ÿï¼ˆå…¨ä»£ç ï¼‰ | æ¨èå·¥å…· | å¼€å‘äººå‘˜å‚ä¸åº¦ |</p>
<p>| :--- | :--- | :--- | :--- | :--- |</p>
<p>| ç®€å•è¡¨å•æ„å»º | ç†æƒ³ï¼›æ‹–æ”¾ç•Œé¢ï¼Œé¢„æ„å»ºç»„ä»¶ | å¯èƒ½ä½†éœ€è¦æ›´å¤šæ‰‹åŠ¨ç¼–ç å’Œé…ç½® | LCNC | æœ€å°ï¼›æ‹–æ”¾ï¼Œæœ€å°‘é…ç½® |</p>
<p>| æ•°æ®å¯è§†åŒ– | ä½¿ç”¨å†…ç½®å›¾è¡¨/å›¾å½¢æ•ˆæœå¾ˆå¥½ï¼Œå¯é€šè¿‡ä¸€äº›ä»£ç å®šåˆ¶ | æ›´å¤šå®šåˆ¶é€‰é¡¹ï¼Œéœ€è¦ç¼–ç åº“æˆ–æ¡†æ¶ | LCNCæˆ–æ··åˆï¼ˆå¦‚æœéœ€è¦å®šåˆ¶ï¼‰ | æœ€å°åˆ°ä¸­ç­‰ï¼Œå–å†³äºå¤æ‚æ€§ |</p>
<p>| åŸºæœ¬å·¥ä½œæµè‡ªåŠ¨åŒ– | ç†æƒ³ï¼›å¯è§†åŒ–å·¥ä½œæµæ„å»ºå™¨ï¼Œæ˜“äºé›†æˆ | éœ€è¦è‡ªå®šä¹‰ç¼–ç å’Œé›†æˆé€»è¾‘ | LCNC | æœ€å°åˆ°ä¸­ç­‰ï¼›é›†æˆå¯èƒ½éœ€è¦ä¸€äº›è„šæœ¬ç¼–å†™ |</p>
<p>| å‰ç«¯åº”ç”¨ç¨‹åºå¼€å‘ | é€‚ç”¨äºåŸºæœ¬UIï¼›å¤æ‚çš„äº¤äº’éœ€è¦ç¼–ç  | å¯¹UI/UXçš„å®Œå…¨æ§åˆ¶ä½†æ›´è€—æ—¶ | æ··åˆ | ä¸­ç­‰ï¼›éœ€è¦å‰ç«¯å¼€å‘æŠ€èƒ½ |</p>
<p>| å¤æ‚é›†æˆ | é™äºé¢„æ„å»ºçš„è¿æ¥å™¨ï¼Œé€šå¸¸éœ€è¦è‡ªå®šä¹‰ä»£ç  | çµæ´»ä¸”å¼ºå¤§ä½†éœ€è¦ä¸“ä¸šçŸ¥è¯† | å…¨ä»£ç æˆ–æ··åˆ | é«˜ï¼›æ·±å…¥ç†è§£APIå’Œæ•°æ®æ ¼å¼ |</p>
<p>| è‡ªå®šä¹‰ä¸šåŠ¡é€»è¾‘ | ä¸ç†æƒ³ï¼›å¯èƒ½éœ€è¦å˜é€šæ–¹æ³•æˆ–æœ‰é™çš„è‡ªå®šä¹‰ä»£ç  | å®Œå…¨çµæ´»åœ°å®ç°ä»»ä½•é€»è¾‘ | å…¨ä»£ç  | é«˜ï¼›å¼ºå¤§çš„ç¼–ç¨‹æŠ€èƒ½å’Œé¢†åŸŸçŸ¥è¯† |</p>
<p>| æ€§èƒ½ä¼˜åŒ– | é€‰é¡¹æœ‰é™ï¼Œé€šå¸¸ç”±å¹³å°å¤„ç† | å¯¹ä»£ç ä¼˜åŒ–çš„å®Œå…¨æ§åˆ¶ä½†éœ€è¦æ·±åšçš„ä¸“ä¸šçŸ¥è¯† | å…¨ä»£ç  | é«˜ï¼›æ€§èƒ½åˆ†æå’Œä»£ç ä¼˜åŒ–æ–¹é¢çš„ä¸“ä¸šçŸ¥è¯† |</p>
<p>| APIå¼€å‘ | æŸäº›å¹³å°å¯èƒ½ï¼Œä½†å¤æ‚æ€§æœ‰é™ | å®Œå…¨çµæ´»ä½†éœ€è¦APIè®¾è®¡å’Œç¼–ç æŠ€èƒ½ | å…¨ä»£ç æˆ–æ··åˆ | é«˜ï¼›APIè®¾è®¡å’Œå®ç°æŠ€èƒ½ |</p>
<p>| å®‰å…¨å…³é”®å‹åº”ç”¨ç¨‹åº | å–å†³äºå¹³å°çš„å®‰å…¨ç‰¹æ€§ï¼Œå¯èƒ½ä¸è¶³ | å¯¹å®‰å…¨å®ç°çš„å®Œå…¨æ§åˆ¶ä½†éœ€è¦ä¸“ä¸šçŸ¥è¯† | å…¨ä»£ç  | é«˜ï¼›å®‰å…¨æœ€ä½³å®è·µå’Œå®‰å…¨ç¼–ç æ–¹é¢çš„ä¸“ä¸šçŸ¥è¯† |</p>
<h4 data-id="heading-61">ä»LCNCå¹³å°è·å¾—æœ€å¤§æ”¶ç›Š</h4>
<p>æ— è®ºæ‚¨æ˜¯æ„å»ºè‡ªå·±çš„æ— ä»£ç å¹³å°è¿˜æ˜¯é‡‡ç”¨ç°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œå¥½å¤„éƒ½å¯èƒ½æ˜¯å·¨å¤§çš„ã€‚ä½†åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·è®°ä½ä»»ä½•LCNCå¹³å°çš„æ ¸å¿ƒéƒ½æ˜¯å°†ç”¨æˆ·çš„å¯è§†åŒ–è®¾è®¡è½¬æ¢ä¸ºåŠŸèƒ½ä»£ç çš„èƒ½åŠ›ã€‚è¿™æ˜¯çœŸæ­£é­”åŠ›å‘ç”Ÿçš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æœ€å¤§æŒ‘æˆ˜æ‰€åœ¨ã€‚ä¸ºäº†è®©LCNCå¹³å°å¸®åŠ©æ‚¨å–å¾—æˆåŠŸï¼Œæ‚¨éœ€è¦ä»æ·±å…¥äº†è§£ç›®æ ‡ç”¨æˆ·å¼€å§‹ã€‚ä»–ä»¬çš„æŠ€æœ¯æŠ€èƒ½æ˜¯ä»€ä¹ˆï¼Ÿä»–ä»¬æƒ³ä½¿ç”¨ä»€ä¹ˆæ ·çš„åº”ç”¨ç¨‹åºï¼Ÿè¿™äº›é—®é¢˜çš„ç­”æ¡ˆå°†å½±å“æ‚¨å¹³å°è®¾è®¡çš„å„ä¸ªæ–¹é¢ï¼Œä»ç”¨æˆ·ç•Œé¢/ç”¨æˆ·ä½“éªŒï¼ˆUI/UXï¼‰åˆ°åº•å±‚æ¶æ„ã€‚</p>
<p>UI/UXå¯¹äºä»»ä½•LCNCå¹³å°çš„æˆåŠŸéƒ½è‡³å…³é‡è¦ï¼Œä½†å®ƒåªæ˜¯å†°å±±ä¸€è§’ã€‚åœ¨åº•å±‚ï¼Œæ‚¨éœ€è¦ä¸€ä¸ªå¼ºå¤§çš„å¼•æ“ï¼Œå¯ä»¥å°†è§†è§‰å…ƒç´ è½¬æ¢ä¸ºå¹²å‡€ã€é«˜æ•ˆçš„ä»£ç ã€‚è¿™é€šå¸¸æ¶‰åŠå¤æ‚çš„AIç®—æ³•ã€æ•°æ®ç»“æ„ä»¥åŠå¯¹å„ç§ç¼–ç¨‹è¯­è¨€çš„æ·±å…¥ç†è§£ã€‚æ‚¨è¿˜éœ€è¦è€ƒè™‘æ‚¨çš„å¹³å°å°†å¦‚ä½•å¤„ç†ä¸šåŠ¡é€»è¾‘ã€ä¸å…¶ä»–ç³»ç»Ÿçš„é›†æˆä»¥åŠéƒ¨ç½²åˆ°ä¸åŒçš„ç¯å¢ƒã€‚</p>
<p>å›¾1. å…¸å‹çš„LCNCæ¶æ„æµç¨‹</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-24-1.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šå±•ç¤ºäº†ä»ç”¨æˆ·é€šè¿‡UI/UXè®¾è®¡åº”ç”¨ï¼Œåˆ°å¹³å°å¼•æ“è¿›è¡Œé€»è¾‘å¤„ç†ã€ä»£ç ç”Ÿæˆã€æ•°æ®ç®¡ç†å’Œé›†æˆï¼Œæœ€åéƒ¨ç½²åˆ°å„ç§ç¯å¢ƒï¼ˆWebã€ç§»åŠ¨ã€äº‘ï¼‰çš„æµç¨‹ã€‚ï¼‰</p>
<p>è®¸å¤šå…¬å¸å·²ç»æ‹¥æœ‰å¤æ‚çš„ITç¯å¢ƒï¼Œå¼•å…¥æ–°å¹³å°å¯èƒ½ä¼šäº§ç”Ÿå…¼å®¹æ€§é—®é¢˜ã€‚é€‰æ‹©ä¸€ä¸ªæä¾›å¼ºå¤§é›†æˆé€‰é¡¹ï¼ˆæ— è®ºæ˜¯é€šè¿‡APIã€Webhooksè¿˜æ˜¯é¢„æ„å»ºè¿æ¥å™¨ï¼‰çš„LCNCå¹³å°è‡³å…³é‡è¦ã€‚æ‚¨è¿˜éœ€è¦å†³å®šæ˜¯é‡‡ç”¨å®Œå…¨æ— ä»£ç çš„è§£å†³æ–¹æ¡ˆï¼Œè¿˜æ˜¯å…è®¸è‡ªå®šä¹‰ç¼–ç çš„ä½ä»£ç è§£å†³æ–¹æ¡ˆã€‚éœ€è¦è€ƒè™‘çš„å…¶ä»–å› ç´ åŒ…æ‹¬æ‚¨å°†å¦‚ä½•å¤„ç†ç‰ˆæœ¬æ§åˆ¶ã€æµ‹è¯•å’Œè°ƒè¯•ã€‚</p>
<h4 data-id="heading-62">èµ‹èƒ½å…¬æ°‘å¼€å‘è€…ä½¿ç”¨LCNCçš„æœ€ä½³å®è·µ</h4>
<p>LCNCå¹³å°ä»¥å¼ºå¤§çš„ç‰¹æ€§èµ‹èƒ½å¼€å‘è€…ï¼Œä½†å¦‚ä½•æœ‰æ•ˆä½¿ç”¨è¿™äº›å·¥å…·çš„çŸ¥è¯†æ‰èƒ½çœŸæ­£é‡Šæ”¾å®ƒä»¬çš„æ½œåŠ›ã€‚ä»¥ä¸‹æœ€ä½³å®è·µæä¾›äº†å…³äºå¦‚ä½•å……åˆ†åˆ©ç”¨LCNCèƒ½åŠ›åŒæ—¶ä¸æ›´å¹¿æ³›çš„ç»„ç»‡ç›®æ ‡ä¿æŒä¸€è‡´çš„æŒ‡å¯¼ã€‚</p>
<h5 data-id="heading-63">åˆ©ç”¨é¢„æ„å»ºç»„ä»¶å’Œæ¨¡æ¿</h5>
<p>å¤§å¤šæ•°LCNCå¹³å°æä¾›é¢„æ„å»ºçš„ç»„ä»¶å’Œæ¨¡æ¿ä½œä¸ºç°æˆçš„å…ƒç´ â€”â€”ä»è¡¨å•å­—æ®µå’ŒæŒ‰é’®åˆ°æ•´ä¸ªé¡µé¢å¸ƒå±€ã€‚è¿™äº›æ„å»ºå—å¯ä»¥å¸®åŠ©æ‚¨ç»•è¿‡ç¹ççš„æ‰‹åŠ¨ç¼–ç ï¼Œä¸“æ³¨äºåº”ç”¨ç¨‹åºçš„ç‹¬ç‰¹æ–¹é¢ã€‚è™½ç„¶æ–¹ä¾¿ï¼Œä½†é¢„æ„å»ºç»„ä»¶å¯èƒ½å¹¶ä¸æ€»æ˜¯å®Œå…¨ç¬¦åˆæ‚¨çš„è¦æ±‚ã€‚è¯„ä¼°å®šåˆ¶æ˜¯å¦å¿…è¦ä¸”åœ¨å¹³å°å†…å¯è¡Œã€‚</p>
<p>ä»ä¸æ‚¨çš„æ€»ä½“ç›®æ ‡ä¸€è‡´çš„é¢„æ„å»ºåº”ç”¨ç¨‹åºæ¨¡æ¿å¼€å§‹ã€‚è¿™å¯ä»¥èŠ‚çœå¤§é‡æ—¶é—´å¹¶æä¾›åšå®çš„åŸºç¡€ã€‚åœ¨æ·±å…¥å¼€å‘ä¹‹å‰æ¢ç´¢å¯ç”¨çš„ç»„ä»¶ã€‚å¦‚æœé¢„æ„å»ºç»„ä»¶ä¸å¤ªåˆé€‚ï¼Œåœ¨è¯‰è¯¸å¤æ‚çš„å˜é€šæ–¹æ³•ä¹‹å‰ï¼Œå…ˆæ¢ç´¢å¹³å°å†…çš„å®šåˆ¶é€‰é¡¹ã€‚</p>
<h5 data-id="heading-64">ä¼˜å…ˆè€ƒè™‘ç”¨æˆ·ä½“éªŒ</h5>
<p>è¯·è®°ä½ï¼Œå³ä½¿æ˜¯æœ€å¼ºå¤§çš„åº”ç”¨ç¨‹åºï¼Œå¦‚æœä½¿ç”¨èµ·æ¥å¤ªæ··ä¹±æˆ–ä»¤äººæ²®ä¸§ï¼Œä¹Ÿæ˜¯æ— ç”¨çš„ã€‚LCNCå¹³å°é€šå¸¸ä¸ºå¿«é€Ÿåº”ç”¨ç¨‹åºå¼€å‘è€Œè®¾è®¡ã€‚é¦–å…ˆä¼˜å…ˆè€ƒè™‘æ ¸å¿ƒåŠŸèƒ½ç¬¦åˆè¿™ä¸€ç†å¿µï¼Œå…è®¸æ›´å¿«åœ°äº¤ä»˜åŠŸèƒ½æ€§äº§å“ï¼Œç„¶åå¯ä»¥æ ¹æ®ç”¨æˆ·åé¦ˆè¿›è¡Œè¿­ä»£ã€‚åœ¨å¼€å§‹æ„å»ºä¹‹å‰ï¼ŒèŠ±æ—¶é—´äº†è§£æœ€ç»ˆç”¨æˆ·çš„éœ€æ±‚å’Œç—›ç‚¹ã€‚å‹¾ç”»æ½œåœ¨çš„å·¥ä½œæµç¨‹ï¼Œæ”¶é›†åŒäº‹çš„åé¦ˆï¼Œå¹¶ä¸æ½œåœ¨ç”¨æˆ·æµ‹è¯•æ‚¨çš„åŸå‹ã€‚</p>
<p>ä¸ºé¿å…æ··ä¹±å’Œä¸å¿…è¦çš„åŠŸèƒ½ï¼Œç»éªŒæ³•åˆ™æ˜¯é¦–å…ˆå¼€å‘ç”¨æˆ·éœ€è¦çš„æ ¸å¿ƒåŠŸèƒ½ã€‚ä½¿ç”¨æ¸…æ™°çš„æ ‡ç­¾ã€èœå•å’Œæœç´¢åŠŸèƒ½ã€‚è§†è§‰ä¸Šä»¤äººæ„‰æ‚¦çš„ç•Œé¢å¯ä»¥æ˜¾è‘—å¢å¼ºç”¨æˆ·å‚ä¸åº¦å’Œæ»¡æ„åº¦ã€‚</p>
<h5 data-id="heading-65">ä¸æ²»ç†å’Œæ ‡å‡†ä¿æŒä¸€è‡´</h5>
<p>æ‚¨çš„ç»„ç»‡å¯èƒ½å·²ç»ä¸ºæ•°æ®ä½¿ç”¨ã€å®‰å…¨åè®®å’Œé›†æˆè¦æ±‚å»ºç«‹äº†æŒ‡å—ã€‚éµå®ˆè¿™äº›æ ‡å‡†ä¸ä»…ç¡®ä¿åº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ï¼Œè€Œä¸”ä¸ºä¸ç°æœ‰ç³»ç»Ÿæ›´é¡ºç•…çš„é›†æˆå’Œæ›´ç»Ÿä¸€çš„ITç¯å¢ƒé“ºå¹³é“è·¯ã€‚</p>
<p>äº†è§£å¯èƒ½é€‚ç”¨äºæ‚¨çš„åº”ç”¨ç¨‹åºçš„ä»»ä½•è¡Œä¸šç‰¹å®šæ³•è§„æˆ–æ•°æ®éšç§æ³•å¾‹ã€‚éµå®ˆæ—¢å®šçš„å®‰å…¨åè®®ã€æ•°æ®å¤„ç†æŒ‡å—å’Œç¼–ç è§„èŒƒï¼Œä»¥æœ€å°åŒ–é£é™©å¹¶ç¡®ä¿é¡ºåˆ©çš„éƒ¨ç½²è¿‡ç¨‹ã€‚åˆ¶å®šä¸€ä¸ªåŸºäºAIçš„è¿è¡Œæ‰‹å†Œï¼Œè§„å®šåœ¨åº”ç”¨ç¨‹åºä¸Šçº¿å‰å¿…é¡»è·å¾—ITæ‰¹å‡†ï¼Œç‰¹åˆ«æ˜¯å¦‚æœå®ƒæ¶‰åŠæ•æ„Ÿæ•°æ®æˆ–ä¸å…³é”®ç³»ç»Ÿçš„é›†æˆã€‚</p>
<h4 data-id="heading-66">ç»“è®º</h4>
<p>å¼€å‘äººå‘˜ä¸åº”å°†ä½ä»£ç å’Œä¼ ç»Ÿç¼–ç è§†ä¸ºéæ­¤å³å½¼çš„å‘½é¢˜ï¼Œè€Œåº”å°†å…¶è§†ä¸ºäº’è¡¥çš„å·¥å…·ã€‚ä½ä»£ç å¹³å°æ“…é•¿å¿«é€ŸåŸå‹è®¾è®¡ã€æ„å»ºæ ¸å¿ƒåº”ç”¨ç¨‹åºç»“æ„ä»¥åŠå¤„ç†å¸¸è§åŠŸèƒ½ï¼›è€Œä¼ ç»Ÿç¼–ç åœ¨å¤æ‚ç®—æ³•ã€å®šåˆ¶é›†æˆå’Œç²¾ç»†æ§åˆ¶æ–¹é¢è¡¨ç°æ›´ä¼˜ã€‚æ··åˆæ–¹æ³•æä¾›äº†ä¸¤ç§èŒƒå¼çš„æœ€ä½³ç»“åˆã€‚</p>
<p>åŒæ ·é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œè¿™å¹¶éå¼€å‘äººå‘˜è§’è‰²çš„ç»ˆç»“ï¼Œè€Œæ˜¯ä¸€ä¸ªæ–°çš„ç¯‡ç« ã€‚LCNCå’ŒAIå°†ç»§ç»­å­˜åœ¨ï¼Œèªæ˜çš„å¼€å‘äººå‘˜è®¤è¯†åˆ°æŠµåˆ¶è¿™ç§å˜åŒ–æ˜¯å¾’åŠ³çš„ã€‚ç›¸åï¼Œæ‹¥æŠ±è¿™äº›å·¥å…·ä¸ºèŒä¸šæˆé•¿å’Œå½±å“å¼€è¾Ÿäº†æ–°çš„é€”å¾„ã€‚æ‹¥æŠ±å˜åŒ–ã€æå‡æŠ€èƒ½å¹¶é€‚åº”ä¸æ–­å‘å±•çš„æ ¼å±€ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨åŸºäºAIçš„LCNCæ—¶ä»£è“¬å‹ƒå‘å±•ï¼Œè§£é”æ–°çš„ç”Ÿäº§åŠ›ã€åˆ›é€ åŠ›å’Œå½±å“åŠ›æ°´å¹³ã€‚</p>
<blockquote>
<p>Sudip Sengupta</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>Sudip Senguptaæ˜¯ä¸€ä½é©»è‹±å›½çš„è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå’ŒæŠ€æœ¯ä½œå®¶ï¼Œæ‹¥æœ‰è¶…è¿‡18å¹´ä¸å…¨çƒå…¬å¸åœ¨äº‘ã€DevOpså’Œç½‘ç»œå®‰å…¨æ–¹é¢åˆä½œçš„ç»éªŒã€‚ä¸å†™ä½œæˆ–ä¸é˜…è¯»æ—¶ï¼Œä»–å¾ˆå¯èƒ½åœ¨å£çƒåœºä¸Šæˆ–ä¸‹æ£‹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-67">ä½ä»£ç çš„è§„æ¨¡ã€é€Ÿåº¦ä¸æˆæœ¬</h3>
<p><strong>ä½ä»£ç å¹³å°çš„ç›Šå¤„ä¸æŒ‘æˆ˜</strong></p>
<p><strong>ä½œè€…ï¼šAlireza C., Azureä¸“å®¶</strong></p>
<p>éšç€ä¼ä¸šå¯»æ±‚åŠ é€Ÿå…¶æ•°å­—åŒ–è½¬å‹ã€æé«˜è¿è¥æ•ˆç‡å¹¶å¿«é€Ÿå“åº”å¸‚åœºå˜åŒ–ï¼Œä½ä»£ç å¼€å‘çš„ç›¸å…³æ€§æ—¥ç›Šå¢é•¿ã€‚é€šè¿‡æ°‘ä¸»åŒ–åº”ç”¨ç¨‹åºå¼€å‘ï¼Œä½ä»£ç å¹³å°ä½¿ä¸“ä¸šå¼€å‘äººå‘˜å’ŒéæŠ€æœ¯ç”¨æˆ·éƒ½èƒ½å¤Ÿé«˜æ•ˆåœ°æ„å»ºã€éƒ¨ç½²å’Œç»´æŠ¤è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ä½ä»£ç å¼€å‘çš„æ ¸å¿ƒå¥½å¤„æ˜¯å¤šæ–¹é¢çš„ï¼ŒåŒ…æ‹¬å¢åŠ çš„å¯æ‰©å±•æ€§ã€åŠ é€Ÿçš„ä¸Šå¸‚æ—¶é—´å’Œé™ä½çš„æˆæœ¬ã€‚ä½ä»£ç å¹³å°è®¾è®¡ä¸ºéšä¸šåŠ¡éœ€æ±‚æ‰©å±•ï¼Œå¤„ç†å¢é•¿çš„ç”¨æˆ·éœ€æ±‚ï¼Œå¹¶ä¿ƒè¿›åº”ç”¨ç¨‹åºçš„å¿«é€Ÿéƒ¨ç½²ã€‚æ­¤å¤–ï¼Œå®ƒä»¬é€šè¿‡å‡å°‘å¯¹å¹¿æ³›ç¼–ç ä¸“ä¸šçŸ¥è¯†çš„éœ€è¦å’Œç®€åŒ–å¼€å‘è¿‡ç¨‹æä¾›äº†èŠ‚çº¦æˆæœ¬çš„æœºä¼šã€‚æœ¬æ–‡æ¦‚è¿°äº†è¿™äº›å…³é”®æ–¹é¢ã€‚</p>
<h4 data-id="heading-68">ä½ä»£ç å¼€å‘ä¸­çš„å¯æ‰©å±•æ€§</h4>
<p>åœ¨ä½ä»£ç å¹³å°ä¸­ï¼Œå¯æ‰©å±•æ€§æ„å‘³ç€å¤„ç†æ›´é«˜å·¥ä½œè´Ÿè½½çš„èƒ½åŠ›ï¼ŒåŒ…æ‹¬ç”¨æˆ·é‡ã€è´Ÿè½½ã€æ•°æ®å’Œå¤æ‚äº‹åŠ¡çš„å¢åŠ ï¼Œè€Œä¸ä¼šæŸå¤±æ€§èƒ½ã€‚ä½ä»£ç å¹³å°æ”¯æŒå¯æ‰©å±•æ€§ï¼Œå› ä¸ºå®ƒä»¬å…·æœ‰å†…ç½®ç‰¹æ€§ï¼Œå¦‚è´Ÿè½½å‡è¡¡ã€èµ„æºåˆ†é…å’Œæ€§èƒ½ç›‘æ§ã€‚è¿™äº›å…è®¸è·¨å¤šä¸ªæœåŠ¡å™¨åˆ†å‘æœåŠ¡ï¼Œä»¥ç¡®ä¿åº”ç”¨ç¨‹åºå³ä½¿åœ¨å³°å€¼ä½¿ç”¨æ—¶é—´ä¹Ÿèƒ½ä¿æŒå“åº”ã€‚æ­¤å¤–ï¼Œå¤§å¤šæ•°ä½ä»£ç å¹³å°ä¸å¯æ ¹æ®éœ€æ±‚è½»æ¾æ‰©å±•çš„äº‘æœåŠ¡é›†æˆã€‚</p>
<h4 data-id="heading-69">æ‰©å±•ä¼ ç»Ÿå¼€å‘ vs. ä½ä»£ç å¼€å‘</h4>
<p>ä¼ ç»Ÿå¼€å‘éœ€è¦å¤§é‡æ—¶é—´å’Œèµ„æºæ¥æ‰©å±•åº”ç”¨ç¨‹åºï¼Œå› ä¸ºæ‰€æœ‰ä»£ç éƒ½å¿…é¡»æ‰‹åŠ¨ç¼–å†™å’Œè°ƒæ•´ã€‚å¯¹äºè‡ªå®šä¹‰ä»£ç ï¼Œå¿…é¡»æ ¼å¤–å°å¿ƒå¤æ‚çš„è®¾è®¡ã€æµ‹è¯•å’Œæ€§èƒ½ä¼˜åŒ–ã€‚ç»éªŒä¸°å¯Œçš„å¼€å‘äººå‘˜æ˜¯èƒ½å¤Ÿåˆ›å»ºæ–°åº”ç”¨ç¨‹åºæˆ–è¿›è¡Œæ›´æ”¹çš„å”¯ä¸€äººå‘˜ï¼Œè¿™æ„å‘³ç€ç»„ç»‡å—é™äºå¼€å‘äººå‘˜çš„å¯ç”¨æ€§ã€‚ç„¶è€Œï¼Œä¸ä½ä»£ç ä¸åŒï¼Œä¼ ç»Ÿå¼€å‘å…è®¸å®Œå…¨è‡ªå®šä¹‰çš„ç¼–ç ï¼Œå¯ä»¥æ ¹æ®æ¯ä¸ªä¸ªäººæˆ–ç»„ç»‡çš„ç”¨ä¾‹è¿›è¡Œè°ƒæ•´ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œä½ä»£ç å¹³å°ä½¿æ‰©å±•æ›´å®¹æ˜“ã€‚å®ƒä»¬ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·å’Œé¢„é…ç½®ç»„ä»¶ï¼ˆä¾‹å¦‚ï¼Œæ‹–æ”¾å·¥å…·ã€æ•°æ®æ˜¾ç¤ºç»„ä»¶ã€å®¡è®¡æ—¥å¿—ï¼‰ï¼Œå¯ä»¥ç”±å„ç§ç»„ç»‡è§’è‰²ä½¿ç”¨ï¼Œä»¥æ›´æœ‰æ•ˆåœ°ç®¡ç†å¤§è§„æ¨¡éƒ¨ç½²ã€‚ç”±ä½ä»£ç å·¥å…·å®ç°çš„ä¸€äº›ç¤ºä¾‹éƒ¨ç½²æ˜¯å†…éƒ¨ä¸šåŠ¡åº”ç”¨ç¨‹åºã€å·¥ä½œæµè‡ªåŠ¨åŒ–å’Œæ•°æ®æ”¶é›†ã€‚</p>
<h4 data-id="heading-70">ä½ä»£ç å¯æ‰©å±•æ€§çš„ä¼˜åŠ¿</h4>
<p>ä½ä»£ç å¯æ‰©å±•æ€§çš„ä¸»è¦ä¼˜åŠ¿ä¹‹ä¸€æ˜¯ç®¡ç†å’Œå‡çº§åº”ç”¨ç¨‹åºçš„ä¾¿åˆ©æ€§ã€‚ä½ä»£ç å¹³å°æä¾›äº†ä¸€ä¸ªé›†ä¸­å¼ç¯å¢ƒï¼Œå¯ä»¥åœ¨æ‰€æœ‰åº”ç”¨ç¨‹åºå®ä¾‹ä¸­æ— ç¼éƒ¨ç½²æ›´æ–°ã€‚è¿™ç§èƒ½åŠ›å‡å°‘äº†åœæœºæ—¶é—´ï¼Œå¹¶ç¡®ä¿æ‰€æœ‰ç”¨æˆ·æ— éœ€å¤§é‡æ‰‹åŠ¨å¹²é¢„å³å¯è®¿é—®æœ€æ–°çš„ç‰¹æ€§å’Œæ”¹è¿›ã€‚</p>
<p>ä½ä»£ç å¹³å°å¸¦æœ‰æ”¯æŒæ°´å¹³å’Œå‚ç›´æ‰©å±•çš„å†…ç½®ç‰¹æ€§ã€‚æ°´å¹³æ‰©å±•æ¶‰åŠæ·»åŠ æ›´å¤šåº”ç”¨ç¨‹åºå®ä¾‹ä»¥åˆ†é…è´Ÿè½½ï¼Œè€Œå‚ç›´æ‰©å±•é€šè¿‡æ·»åŠ æ›´å¤šèµ„æºæ¥å¢å¼ºç°æœ‰å®ä¾‹çš„å®¹é‡ã€‚è¿™äº›ç‰¹æ€§é€šå¸¸æ˜¯è‡ªåŠ¨åŒ–çš„ï¼Œå…è®¸åº”ç”¨ç¨‹åºåŠ¨æ€è°ƒæ•´ä»¥é€‚åº”éœ€æ±‚çš„å˜åŒ–ï¼Œå¹¶ç¡®ä¿æŒç»­çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-71">ä½ä»£ç å¯æ‰©å±•æ€§çš„å±€é™æ€§</h4>
<p>å°½ç®¡æœ‰ä¼˜åŠ¿ï¼Œé«˜åº¦å®šåˆ¶çš„ä½ä»£ç è§£å†³æ–¹æ¡ˆå¯èƒ½ä¼šå¼•å…¥æ€§èƒ½ç“¶é¢ˆã€‚ä¾‹å¦‚ï¼Œä½ä»£ç å·¥å…·æé«˜çš„å¼€å‘é€Ÿåº¦å¯èƒ½å¯¼è‡´è´¨é‡ä¸‹é™å’Œå¤§é‡éœ€è¦ä¿®å¤çš„é”™è¯¯ã€‚ç”±äºç¯å¢ƒçš„é™åˆ¶ï¼Œä½ä»£ç çš„è°ƒè¯•å·¥å…·é€šå¸¸ä¸å¤Ÿå½»åº•ï¼Œå¹³å°å…¼å®¹æ€§é—®é¢˜å¯èƒ½é˜»ç¢å¿…è¦çš„æ›´æ–°æˆ–ç»´æŠ¤ã€‚</p>
<p>æ­¤å¤–ï¼Œä½¿ä½ä»£ç å¹³å°ç”¨æˆ·å‹å¥½çš„æŠ½è±¡å±‚æœ‰æ—¶å¯èƒ½å¯¼è‡´ä½æ•ˆç‡ã€‚éšç€å®šåˆ¶çš„å¢åŠ ï¼Œè¿™äº›å¹³å°å¯èƒ½éš¾ä»¥ä¿æŒæœ€ä½³æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…·æœ‰å¤æ‚ã€ç‹¬ç‰¹éœ€æ±‚çš„åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚åˆè§„è§„åˆ™æˆ–è¯¦ç»†çš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p>ä½ä»£ç åº”ç”¨ç¨‹åºçš„å¯æ‰©å±•æ€§ä¸¥é‡ä¾èµ–äºåº•å±‚å¹³å°çš„èƒ½åŠ›ã€‚å¦‚æœå¹³å°ç¼ºä¹å¼ºå¤§çš„å¯æ‰©å±•æ€§ç‰¹æ€§æˆ–ä¸ç°æœ‰ç³»ç»Ÿé›†æˆä¸ä½³ï¼Œå¯èƒ½ä¼šé™åˆ¶æ„å»ºäºå…¶ä¸Šçš„åº”ç”¨ç¨‹åºçš„æ•´ä½“æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚è¿™ç§ä¾èµ–æ€§å¼ºè°ƒäº†é€‰æ‹©ä¸€ä¸ªä¸é•¿æœŸå¯æ‰©å±•æ€§éœ€æ±‚ç›¸ä¸€è‡´çš„ä½ä»£ç å¹³å°çš„é‡è¦æ€§ã€‚</p>
<p>å›¾1. ä½ä»£ç å¯æ‰©å±•æ€§çš„ä¼˜ç‚¹å’Œç¼ºç‚¹</p>
<p><img src="https://cf-blog.icodebuddy.com/image/87/87-25-1.png" alt="" loading="lazy"/></p>
<p>ï¼ˆå›¾è¡¨æè¿°ï¼šä¸€ä¸ªå¤©å¹³ï¼Œä¸€è¾¹æ˜¯ä¼˜ç‚¹ï¼ˆæ˜“äºç®¡ç†å’Œå‡çº§ã€å†…ç½®æ‰©å±•ç‰¹æ€§ã€æˆæœ¬æ•ˆç›Šï¼‰ï¼Œå¦ä¸€è¾¹æ˜¯ç¼ºç‚¹ï¼ˆæ€§èƒ½ç“¶é¢ˆã€å¹³å°ä¾èµ–ã€å®šåˆ¶é™åˆ¶ï¼‰ã€‚ï¼‰</p>
<h5 data-id="heading-72">ä½ä»£ç å¼€å‘çš„ä¸Šå¸‚é€Ÿåº¦</h5>
<p>ä½ä»£ç å¼€å‘åŠ é€Ÿäº†åº”ç”¨ç¨‹åºå¼€å‘è¿‡ç¨‹ï¼Œå› ä¸ºå¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨æ‹–æ”¾ç•Œé¢ã€é¢„æ„å»ºæ¨¡æ¿å’Œå¯é‡ç”¨ç»„ä»¶å¿«é€ŸåŸå‹åŒ–å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚é€Ÿåº¦åœ¨ç«äº‰æ¿€çƒˆçš„å¸‚åœºä¸­è‡³å…³é‡è¦ï¼Œåœ¨é‚£é‡Œå¢åŠ æ–°äº§å“æˆ–æœåŠ¡çš„ä¸Šå¸‚æ—¶é—´å¯ä»¥æä¾›å¥åº·çš„ç«äº‰ä¼˜åŠ¿ã€‚</p>
<h5 data-id="heading-73">ç°å®ä¸–ç•Œçš„ä¾‹å­</h5>
<p>è®¸å¤šç»„ç»‡é€šè¿‡ä½¿ç”¨ä½ä»£ç å¼€å‘æµç¨‹å®ç°äº†æ›´å¿«çš„ä¸Šå¸‚æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œæ¶ˆè´¹å“å…¬å¸è”åˆåˆ©åœ¨ä½ä»£ç å¹³å°ä¸Šå¼€å‘äº†ä»–ä»¬çš„ç§»åŠ¨é”€å”®åº”ç”¨ç¨‹åºã€‚è¯¥é”€å”®åº”ç”¨ç¨‹åºåœ¨ä¸‰å‘¨å†…å¼€å‘å¹¶éƒ¨ç½²å®Œæˆï¼Œå®ƒæ”¹å–„äº†é”€å”®è¿‡ç¨‹å¹¶ä¸°å¯Œäº†å®¢æˆ·ä½“éªŒã€‚è¿™ç§å¿«é€Ÿå¼€å‘ä½¿è”åˆåˆ©èƒ½å¤Ÿæ¯”ä¼ ç»Ÿç¼–ç æ›´å¿«åœ°å“åº”å¸‚åœºå˜åŒ–å¹¶æ”¹è¿›å…¶é”€å”®è¿è¥ã€‚</p>
<h5 data-id="heading-74">åŠ é€Ÿå¼€å‘å‘¨æœŸ</h5>
<p>ä½ä»£ç å¹³å°åŠ é€Ÿå¼€å‘å‘¨æœŸçš„æœ€æ˜¾è‘—ä¼˜åŠ¿æ˜¯å‡å°‘äº†ç¼–ç æ—¶é—´ã€‚æ‹–æ”¾ç•Œé¢å’Œé¢„æ„å»ºæ¨¡æ¿ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œç”¨æˆ·ä½“éªŒï¼Œè€Œä¸æ˜¯ç¼–å†™å¤§é‡çš„ä»£ç è¡Œã€‚æ­¤å¤–ï¼Œå¼€å‘äººå‘˜èƒ½å¤Ÿé€šè¿‡ä½ä»£ç è‡ªåŠ¨åŒ–é‡å¤æ€§ä»»åŠ¡ã€‚è¿™ç§æ‰‹åŠ¨ç¼–ç çš„å‡å°‘ç¼©çŸ­äº†å¼€å‘æ—¶é—´çº¿ï¼Œå‡å°‘äº†é”™è¯¯çš„å¯èƒ½æ€§ï¼Œæœ€é‡è¦çš„æ˜¯ï¼Œè§£æ”¾äº†å¼€å‘äººå‘˜çš„å·¥ä½œé‡ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿä¸“æ³¨äºå°†å¯¹ç»„ç»‡äº§ç”ŸæŒä¹…å½±å“çš„æ›´å…³é”®çš„é¡¹ç›®ã€‚</p>
<p>ä½ä»£ç å¹³å°è¿˜ä¿ƒè¿›äº†æ›´å¿«çš„è¿­ä»£å’ŒåŸå‹è®¾è®¡ã€‚å¼€å‘äººå‘˜å¯ä»¥æ ¹æ®ç”¨æˆ·åé¦ˆå¿«é€Ÿæ„å»ºã€æµ‹è¯•å’Œå®Œå–„åº”ç”¨ç¨‹åºã€‚è¿™ç§è¿­ä»£æ–¹æ³•æé«˜äº†æœ€ç»ˆäº§å“çš„è´¨é‡ï¼Œå¹¶ç¡®ä¿å…¶æ»¡è¶³ç”¨æˆ·æœŸæœ›ã€‚å¿«é€ŸåŸå‹è®¾è®¡å…è®¸å¼€å‘äººå‘˜å°è¯•æ–°æƒ³æ³•ï¼Œå¹¶æ ¹æ®ç”¨æˆ·åé¦ˆå¿«é€Ÿè°ƒæ•´æ–¹å‘ã€‚</p>
<h5 data-id="heading-75">é€Ÿåº¦ vs. å®šåˆ¶åŒ–</h5>
<p>è™½ç„¶ä½ä»£ç å¹³å°æä¾›äº†é€Ÿåº¦ä¼˜åŠ¿ï¼Œä½†é€Ÿåº¦ä¸å®šåˆ¶åŒ–æ·±åº¦ä¹‹é—´å¯èƒ½å­˜åœ¨æƒè¡¡ã€‚é«˜åº¦ä¸“ä¸šåŒ–çš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦è‡ªå®šä¹‰ä»£ç æ¥æ»¡è¶³ç‰¹å®šè¦æ±‚ï¼Œä»è€Œå‡æ…¢å¼€å‘é€Ÿåº¦ã€‚ç„¶è€Œï¼Œä½ä»£ç å¹³å°é€šå¸¸æä¾›å¯æ‰©å±•æ€§é€‰é¡¹ï¼Œå…è®¸å¼€å‘äººå‘˜åœ¨å¿…è¦æ—¶åˆå¹¶è‡ªå®šä¹‰ä»£ç ï¼Œä»è€Œå¹³è¡¡é€Ÿåº¦ä¸å®šåˆ¶åŒ–ã€‚</p>
<p>é€Ÿåº¦ä¸å®šåˆ¶åŒ–ä¹‹é—´çš„æƒè¡¡å¯èƒ½å½±å“å¸‚åœºä¸­çš„åˆ›æ–°å’Œå·®å¼‚åŒ–ã€‚è™½ç„¶ä½ä»£ç å¹³å°æ”¯æŒå¿«é€Ÿå¼€å‘ï¼Œä½†æ ‡å‡†åŒ–ç»„ä»¶å¯èƒ½å¯¼è‡´ç›¸ä¼¼çš„åº”ç”¨ç¨‹åºã€‚ä¸ºäº†è„±é¢–è€Œå‡ºï¼Œä¼ä¸šå¯èƒ½éœ€è¦æŠ•å…¥é¢å¤–çš„æ—¶é—´å’Œèµ„æºæ¥å®šåˆ¶å…¶ä½ä»£ç è§£å†³æ–¹æ¡ˆï¼Œä»è€Œç¡®ä¿å®ƒä»¬æä¾›ç‹¬ç‰¹çš„ç‰¹æ€§å’Œå·®å¼‚åŒ–çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h5 data-id="heading-76">ä½ä»£ç å¼€å‘çš„æˆæœ¬å½±å“</h5>
<p>ä¼ä¸šå¿…é¡»è€ƒè™‘é‡‡ç”¨ä½ä»£ç å¹³å°çš„æˆæœ¬å½±å“ã€‚åˆå§‹æˆæœ¬é€šå¸¸åŒ…æ‹¬å¹³å°è®¸å¯è´¹ç”¨å’Œç”¨æˆ·åŸ¹è®­ã€‚æŒç»­æˆæœ¬å¯èƒ½æ¶‰åŠè®¢é˜…è´¹ã€æ”¯æŒæœåŠ¡ä»¥åŠä¸æ‰©å±•å’Œå®šåˆ¶ç›¸å…³çš„æ½œåœ¨æˆæœ¬ã€‚å°½ç®¡å­˜åœ¨è¿™äº›è´¹ç”¨ï¼Œä½†ç”±äºå¼€å‘æ—¶é—´ç¼©çŸ­å’ŒåŠ³åŠ¨åŠ›æˆæœ¬é™ä½ï¼Œä½ä»£ç å¹³å°ä»é•¿è¿œæ¥çœ‹é€šå¸¸è¢«è¯æ˜å…·æœ‰æˆæœ¬æ•ˆç›Šã€‚</p>
<p>ä¸ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æ–¹æ³•ç›¸æ¯”ï¼Œä½ä»£ç å¼€å‘æä¾›äº†æ˜¾è‘—çš„æˆæœ¬èŠ‚çº¦ã€‚ä¼ ç»Ÿå¼€å‘éœ€è¦é«˜æŠ€èƒ½çš„å¼€å‘äººå‘˜ã€å¤§é‡çš„ç¼–ç å’Œæ¼«é•¿çš„æµ‹è¯•é˜¶æ®µï¼Œæ‰€æœ‰è¿™äº›éƒ½å¯¼è‡´æ›´é«˜çš„åŠ³åŠ¨åŠ›æˆæœ¬å’Œæ›´é•¿çš„é¡¹ç›®æ—¶é—´çº¿ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œä½ä»£ç å¹³å°å‡å°‘äº†å¯¹ä¸“ä¸šæŠ€èƒ½çš„éœ€æ±‚ï¼Œç®€åŒ–äº†å¼€å‘è¿‡ç¨‹ï¼Œå¹¶ç¼©çŸ­äº†ä¸Šå¸‚æ—¶é—´â€”â€”ä»è€Œé™ä½äº†æ€»ä½“æˆæœ¬å¹¶å®ç°äº†åº”ç”¨ç¨‹åºå¼€å‘çš„æ°‘ä¸»åŒ–ã€‚</p>
<p>ä½ä»£ç å¹³å°è¿˜æœ‰åŠ©äºç¼©çŸ­é¡¹ç›®æ—¶é—´çº¿ï¼Œè¿™è½¬åŒ–ä¸ºæˆæœ¬èŠ‚çº¦å’Œæ•ˆç‡ã€‚æ›´çŸ­çš„å¼€å‘å‘¨æœŸæ„å‘³ç€ä¼ä¸šå¯ä»¥æ›´å¿«åœ°éƒ¨ç½²è§£å†³æ–¹æ¡ˆï¼Œå‡å°‘åœ¨æ¯ä¸ªé¡¹ç›®ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºã€‚æ­¤å¤–ï¼Œæ›´å¿«çš„éƒ¨ç½²ä½¿ä¼ä¸šèƒ½å¤Ÿæ›´å¿«åœ°å®ç°æŠ•èµ„å›æŠ¥ã€‚</p>
<h5 data-id="heading-77">éšæ€§æˆæœ¬ä¸è€ƒè™‘å› ç´ </h5>
<p>è™½ç„¶ä½ä»£ç å¹³å°æä¾›äº†è®¸å¤šå¥½å¤„ï¼Œä½†å®ƒä»¬ä¹Ÿæœ‰æ½œåœ¨çš„éšæ€§æˆæœ¬å’Œè€ƒè™‘å› ç´ ã€‚ä¸€ä¸ªè€ƒè™‘å› ç´ æ˜¯å¯¹å¹³å°ä¾›åº”å•†çš„é”å®šæˆ–ä¾èµ–ã€‚ç„¶è€Œï¼Œå¦‚æœæ‚¨å·²ç»ä¾èµ–äºä¸€ä¸ªä½ä»£ç å¹³å°ï¼Œè¿ç§»åˆ°å¦ä¸€ä¸ªå¹³å°å¯èƒ½ç›¸å½“å¤æ‚å’Œæ˜‚è´µã€‚è¿™å¯èƒ½ä¼šé™åˆ¶çµæ´»æ€§ï¼Œä»é•¿è¿œæ¥çœ‹å¯¼è‡´æ›´æ˜¾è‘—çš„æˆæœ¬ã€‚</p>
<p>å…¶ä»–è€ƒè™‘å› ç´ æ˜¯é•¿æœŸçš„ç»´æŠ¤å’Œå‡çº§æˆæœ¬ã€‚è™½ç„¶å‰æœŸçš„å¼€å‘æˆæœ¬å¯èƒ½å¾ˆä½ï¼Œä½†é•¿æœŸçš„ç»´æŠ¤ã€æ›´æ–°å’Œå¹³å°å‡çº§å¯èƒ½å¾ˆæ˜‚è´µã€‚ä¼ä¸šå¿…é¡»è€ƒè™‘é•¿æœŸæˆæœ¬ï¼Œå¹¶ç¡®ä¿æ‰€é€‰å¹³å°å…·æœ‰æ”¯æŒæ€§ä¸”å¯æ ¹æ®æœªæ¥éœ€æ±‚è¿›è¡Œæ‰©å±•ã€‚</p>
<h4 data-id="heading-78">ç»“è®º</h4>
<p>æ€»è€Œè¨€ä¹‹ï¼Œä½ä»£ç å¼€å‘æä¾›äº†ä¸€ä¸ªéå¸¸æœ‰å¸å¼•åŠ›çš„åˆ©å¼Šæ¯”ã€‚å®ƒèƒ½å¤Ÿæå‡å¯æ‰©å±•æ€§ã€ä¸Šå¸‚é€Ÿåº¦å’Œæˆæœ¬æ•ˆç‡ï¼Œä½¿å…¶æˆä¸ºä»»ä½•å¯»æ±‚åŠ é€Ÿæ•°å­—åŒ–è½¬å‹ä¼ä¸šçš„æœ‰å¸å¼•åŠ›çš„é€‰æ‹©ã€‚ç„¶è€Œï¼Œå¯èƒ½çš„ç¼ºç‚¹åŒ…æ‹¬æ€§èƒ½ç“¶é¢ˆã€å¹³å°ä¾èµ–æ€§å’Œé•¿æœŸç»´æŠ¤æˆæœ¬ã€‚å¹³è¡¡ä½ä»£ç è§£å†³æ–¹æ¡ˆçš„ä¼˜ç‚¹å’Œç¼ºç‚¹å¯¹äºä¼ä¸šè‡³å…³é‡è¦ã€‚</p>
<p>å±•æœ›æœªæ¥ï¼Œä½ä»£ç å¯èƒ½ä¼šæ¼”å˜å¾—æ›´å¯æ‰©å±•ã€æ›´çµæ´»ï¼Œå¼€å‘äººå‘˜å¯ä»¥æ ¹æ®éœ€è¦åœ¨ä½ä»£ç å’Œä¼ ç»Ÿä»£ç ä¹‹é—´åˆ‡æ¢ï¼Œä»è€Œå¢åŠ å®šåˆ¶é€‰é¡¹ã€‚ä»Šå¤©é›†æˆä½ä»£ç å°†æ˜¯ç¡®ä¿æœªæ¥å‡ å¹´æˆåŠŸã€é«˜æ•ˆå¼€å‘çš„å…³é”®ã€‚</p>
<blockquote>
<p>Alireza C.</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>Alirezaæ˜¯ä¸€ä½æ‹¥æœ‰äºŒåå¹´è½¯ä»¶å¼€å‘ç»éªŒçš„è½¯ä»¶å·¥ç¨‹å¸ˆã€‚ä»–èŒä¸šç”Ÿæ¶¯å§‹äºè½¯ä»¶å¼€å‘ï¼Œå¹¶äºè¿‘å¹´è½¬å‘DevOpsé¢†åŸŸã€‚ç›®å‰ï¼Œä»–ä¸»è¦ååŠ©ä¼ä¸šä»ä¼ ç»Ÿå¼€å‘æ¨¡å¼è¿‡æ¸¡åˆ°DevOpsæ–‡åŒ–ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-79">é™„ä»¶èµ„æº</h2>
<h3 data-id="heading-80">æ·±å…¥äº†è§£ä½ä»£ç å’Œæ— ä»£ç å¼€å‘</h3>
<h4 data-id="heading-81">DZONEè¶‹åŠ¿æŠ¥å‘Š</h4>
<ul>
<li>
<p><strong>å¤§è§„æ¨¡å¼€å‘ï¼šæ¢ç´¢ç§»åŠ¨ã€Webå’Œä½ä»£ç åº”ç”¨ç¨‹åº</strong> éšç€ä¸šåŠ¡éœ€æ±‚å’Œè¦æ±‚çš„æ¼”å˜ï¼Œå¼€å‘å›¢é˜Ÿæ»¡è¶³è¿™äº›å¤§è§„æ¨¡éœ€æ±‚è‡³å…³é‡è¦ã€‚æœ¬æŠ¥å‘Šæ¢è®¨äº†è¿™äº›å¼€å‘è¶‹åŠ¿ä»¥åŠå®ƒä»¬å¦‚ä½•ä¸ç»„ç»‡å†…çš„å¯æ‰©å±•æ€§ç›¸å…³è”ï¼Œé‡ç‚¹ä»‹ç»äº†åº”ç”¨ç¨‹åºæŒ‘æˆ˜ã€ä»£ç ç­‰ã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼šè·¨å¼€å‘çš„ç°ä»£æµ‹è¯•è®¾è®¡ä¸æ¶æ„</strong> [...] AIå’Œä½ä»£ç ç­‰è§£å†³æ–¹æ¡ˆåœ¨ä¸ºå¼€å‘å’Œæµ‹è¯•å›¢é˜Ÿå®æ–½æµ‹è¯•æ–¹é¢å‘æŒ¥ç€é‡è¦ä½œç”¨ï¼Œæ‰©å±•äº†æµ‹è¯•è¦†ç›–èŒƒå›´å¹¶æ¶ˆé™¤äº†åœ¨å†—ä½™ä»»åŠ¡ä¸ŠèŠ±è´¹çš„æ—¶é—´ã€‚æœ¬æŠ¥å‘Šè¯„ä¼°äº†ä¸è‡ªåŠ¨åŒ–æµ‹è¯•ç›¸å…³çš„è¶‹åŠ¿ï¼ŒåŒ…æ‹¬æ¶æ„å’Œæµ‹è¯•é©±åŠ¨å¼€å‘ä»¥åŠAIå’Œä½ä»£ç å·¥å…·çš„å¥½å¤„ã€‚</p>
</li>
</ul>
<h4 data-id="heading-82">DZONEå‚è€ƒå¡ç‰‡</h4>
<ul>
<li>
<p><strong>ä½ä»£ç å¼€å‘å…¥é—¨</strong> å°½ç®¡æœ‰å®šä¹‰ï¼Œä½†"ä½ä»£ç "æ€»æ‹¬æœ¯è¯­ä¸‹å­˜åœ¨å‡ ç§å·¥å…·ç±»å‹ï¼šAPIè¿æ¥å™¨ã€æ•°æ®åº“æ„å»ºå™¨ã€å·¥ä½œæµè‡ªåŠ¨åŒ–ç­‰ã€‚åœ¨æœ¬å‚è€ƒå¡ç‰‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»ä½ä»£ç å¼€å‘ï¼Œå®ƒä¸æ— ä»£ç å¼€å‘çš„ä¸åŒä¹‹å¤„ï¼Œä¸»è¦ç”¨ä¾‹ï¼Œå¹³å°ä½¿ç”¨å’Œå…³é”®ç‰¹æ€§ã€‚</p>
</li>
<li>
<p><strong>AIè‡ªåŠ¨åŒ–è¦ç‚¹ï¼šä¸ºä»ä¸šè€…æä¾›æ„å»ºå’Œå®æ–½AIçš„è§è§£</strong> [...] AIåº”ç”¨ç¨‹åºä¸ä»…å¤„ç†ä¿¡æ¯ï¼Œè¿˜æ„å»ºèƒ½å¤Ÿæ ¹æ®è·å–çš„çŸ¥è¯†åšå‡ºæ˜æ™ºå†³ç­–çš„æ™ºèƒ½æ¨¡å‹ã€‚æœ¬å‚è€ƒå¡ç‰‡æ—¨åœ¨ä¸ºä»ä¸šè€…æä¾›å¿…è¦çš„è§è§£ï¼Œä»¥åº”å¯¹æ„å»ºå’Œå®æ–½AIè‡ªåŠ¨åŒ–çš„å¤æ‚è¿‡ç¨‹ã€‚</p>
</li>
<li>
<p><strong>æœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–å…¥é—¨</strong> RPAæ˜¯ä¸€ç§è½¯ä»¶æœºå™¨äººï¼Œå®ƒä¸ä»¥è®¡ç®—æœºä¸ºä¸­å¿ƒçš„æµç¨‹äº¤äº’ï¼Œæ—¨åœ¨å¼•å…¥ä¸€æ”¯æ•°å­—åŠ³åŠ¨åŠ›ï¼Œæ‰§è¡Œä»¥å‰ç”±äººç±»å®Œæˆçš„é‡å¤æ€§ä»»åŠ¡ã€‚æœ¬å‚è€ƒå¡ç‰‡ä»‹ç»äº†RPAæŠ€æœ¯ã€å…¶å·¥ä½œåŸç†ã€å…³é”®ç»„ä»¶ä»¥åŠå¦‚ä½•è®¾ç½®æ‚¨çš„ç¯å¢ƒã€‚</p>
</li>
</ul>
<h4 data-id="heading-83">ç¤¾åŒºåˆ›ä½œè€…</h4>
<ul>
<li>
<p>Justin Albano, IBMè½¯ä»¶å·¥ç¨‹å¸ˆ åœ¨IBMï¼ŒJustinè´Ÿè´£ä¸ºä¸€äº›å…¨çƒæœ€å¤§çš„å…¬å¸æ„å»ºè½¯ä»¶å­˜å‚¨å’Œå¤‡ä»½/æ¢å¤è§£å†³æ–¹æ¡ˆï¼Œä¸“æ³¨äºåŸºäºSpringçš„REST APIå’ŒMongoDBå¼€å‘ã€‚ä¸å·¥ä½œæˆ–ä¸å†™ä½œæ—¶ï¼Œä»–å¯ä»¥ç»ƒä¹ å·´è¥¿æŸ”æœ¯ã€æ‰“æˆ–çœ‹å†°çƒã€ç”»ç”»æˆ–é˜…è¯»ã€‚</p>
</li>
<li>
<p>Syed Balkhi, Awesome Motive Inc. CEO Syedæ˜¯WPBeginnerçš„åˆ›å§‹äººï¼Œè¯¥ç½‘ç«™æ˜¯æœ€å¤§çš„å…è´¹WordPressèµ„æºç½‘ç«™ã€‚æ‹¥æœ‰è¶…è¿‡10å¹´çš„ç»éªŒï¼Œä»–æ˜¯è¡Œä¸šå†…çš„é¢†å…ˆWordPressä¸“å®¶ã€‚</p>
</li>
<li>
<p>Freedom to Code on Low-Code Platforms [æ–‡ç« ] ä½œè€…ï¼šDeepak Anupalli å½“å…è®¸å¼€å‘äººå‘˜åœ¨ä¸åŒç¨‹åº¦çš„ä»£ç è®¿é—®ã€å¯è§æ€§å’Œå¯æ‰©å±•æ€§ä¸­ä¿®æ”¹ä»£ç æ—¶ï¼Œä»–ä»¬å°±èƒ½åœ¨ä½ä»£ç å¹³å°ä¸Šå‘æŒ¥å…¶æ½œåŠ›ã€‚</p>
</li>
<li>
<p>Workflow, From Stateless to Stateful [æ–‡ç« ] ä½œè€…ï¼šNicolas FrÃ¤nkel å·¥ä½œæµåŒ…æ‹¬ä»»åŠ¡ï¼›è‡ªåŠ¨åŒ–ä»»åŠ¡å§”æ‰˜ç»™ä»£ç ï¼Œè€Œæ‰‹åŠ¨ä»»åŠ¡éœ€è¦æŸäººåšæŸäº‹å¹¶å°†å…¶æ ‡è®°ä¸ºå®Œæˆã€‚</p>
</li>
<li>
<p>Low Code and No Code: The Security Challenge [æ–‡ç« ] ä½œè€…ï¼šCate Lawrence é€‰æ‹©ä¸å½“çš„ä½ä»£ç å’Œæ— ä»£ç å¹³å°å¯èƒ½å¸¦æ¥è®¸å¤šå®‰å…¨æ¼æ´ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ä¸€äº›å…³é”®æŒ‘æˆ˜ä»¥åŠå¦‚ä½•é¿å…å®ƒä»¬ã€‚</p>
</li>
<li>
<p>RPA vs. Workflow: It's Not Either/orâ€¦ It's Both [æ–‡ç« ] ä½œè€…ï¼šBrian Safron å’Œ Stu Leibowitz å·¥ä½œæµå’Œæœºå™¨äººæµç¨‹è‡ªåŠ¨åŒ–ï¼ˆRPAï¼‰æœ‰ä¸åŒçš„ä¼˜åŠ¿ï¼Œåº”åœ¨ä¸åŒæƒ…å†µä¸‹ä½¿ç”¨ã€‚æœ¬æ–‡æè¿°äº†ä¸¤è€…ã€‚</p>
</li>
<li>
<p>How Low Code Demands More Creativity From Developers [æ–‡ç« ] ä½œè€…ï¼šJennifer Riggins ä½ä»£ç /æ— ä»£ç è¿åŠ¨æ­£åœ¨ä¸ºå¼€å‘äººå‘˜è‡ªåŠ¨åŒ–å°ä»»åŠ¡ï¼Œè…¾å‡ºæ—¶é—´ä¸“æ³¨äºè§£å†³é—®é¢˜ã€‚äº†è§£ä½ä»£ç /æ— ä»£ç å¦‚ä½•èå…¥æ‚¨ä½œä¸ºå¼€å‘äººå‘˜çš„å·¥ä½œä»¥åŠå®ƒçš„å‘å±•æ–¹å‘éå¸¸é‡è¦ã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-84">è§£å†³æ–¹æ¡ˆç›®å½•</h3>
<p>æ­¤ç›®å½•åŒ…å«ä½ä»£ç ã€æ— ä»£ç å’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼Œä»¥å¸®åŠ©æ‚¨ç®€åŒ–å¼€å‘å’Œå·¥ä½œæµã€‚å®ƒæä¾›äº†ä»ä¾›åº”å•†ç½‘ç«™å’Œé¡¹ç›®é¡µé¢æ”¶é›†çš„å®šä»·æ•°æ®å’Œäº§å“ç±»åˆ«ä¿¡æ¯ã€‚è§£å†³æ–¹æ¡ˆåŸºäºè‹¥å¹²å…¬æ­£æ ‡å‡†è¢«é€‰å…¥ï¼ŒåŒ…æ‹¬è§£å†³æ–¹æ¡ˆæˆç†Ÿåº¦ã€æŠ€æœ¯åˆ›æ–°æ€§ã€ç›¸å…³æ€§å’Œæ•°æ®å¯ç”¨æ€§ã€‚</p>
<h4 data-id="heading-85">DZONE 2024å¹´ä½ä»£ç å¼€å‘è§£å†³æ–¹æ¡ˆç›®å½•</h4>
<p>ï¼ˆæ³¨æ„ï¼šç”±äºç›®å½•å†…å®¹ä¸ºå¤§é‡å…¬å¸äº§å“åˆ—è¡¨ï¼Œæ ¼å¼ä¸ºè¡¨æ ¼ï¼Œä¸”ä¿¡æ¯é«˜åº¦é‡å¤ï¼ˆå…¬å¸åã€äº§å“åã€ç”¨é€”ã€å¯ç”¨æ€§ã€ç½‘ç«™ï¼‰ï¼Œä»¥ä¸‹å°†æä¾›ä»£è¡¨æ€§æ ·æœ¬çš„ç¿»è¯‘ï¼Œå¹¶è¯´æ˜æ•´ä½“ç»“æ„ï¼Œè€Œéé€è¡Œå®Œæ•´ç¿»è¯‘ï¼Œä»¥ä¿æŒå“åº”çš„ç®€æ´å’Œé‡ç‚¹ã€‚å®Œæ•´çš„ç²¾ç¡®ç¿»è¯‘å°†éµå¾ªæ­¤æ¨¡å¼ã€‚ï¼‰</p>
<p>| å…¬å¸ | äº§å“ | ç”¨é€” | å¯ç”¨æ€§ | ç½‘ç«™ |</p>
<p>| :--- | :--- | :--- | :--- | :--- |</p>
<p>| Retool | Retool | åœ¨æ²¡æœ‰åŸºç¡€è®¾æ–½å¼€é”€çš„æƒ…å†µä¸‹æ›´å¿«åœ°æ„å»ºå†…éƒ¨å·¥å…· | å…è´¹ç‰ˆ | retool.com |</p>
<p>| 3forge | AMI | å¼€ç®±å³ç”¨çš„ä½ä»£ç åº”ç”¨ç¨‹åºå¼€å‘å¹³å° | æŒ‰éœ€æä¾› | 3forge.com |</p>
<p>| AccelQ | Automate Mobile | æ— ä»£ç ã€åŸºäºäº‘çš„ç§»åŠ¨æµ‹è¯•è‡ªåŠ¨åŒ– | è¯•ç”¨æœŸ | accelq.com/products/test-automation-mobile |</p>
<p>| Acquia | Cloud Platform | æ‰˜ç®¡å¹³å° | è¯•ç”¨æœŸ | acquia.com/products/acquia-cloud-platform |</p>
<p>| Actian, HCL Software | DataConnect | ä½ä»£ç æ•°æ®é›†æˆå¹³å° | è¯•ç”¨æœŸ | actian.com/data-integration/dataconnect |</p>
<p>| ... | ... | ... | ... | ... |</p>
<p>| Zapier | Zaps | æ— ä»£ç å·¥ä½œæµè‡ªåŠ¨åŒ– | å…è´¹ç‰ˆ | zapier.com/workflows |</p>
<p>| Zenity | Zenity | ç”¨äºä½ä»£ç ã€æ— ä»£ç å’Œç”Ÿæˆå¼AIå¼€å‘çš„å®‰å…¨æ€§ | æŒ‰éœ€æä¾› | zenity.io |</p>
<p>| Zvolv | Zvolv | ä½ä»£ç è‡ªåŠ¨åŒ– | å…è´¹ç‰ˆ | zvolv.com |</p>
<hr/>
<p>ã€æ³¨ã€‘æœ¬æ–‡è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdzone.com%2Ftrendreports%2Flow-code-development-4" target="_blank" title="https://dzone.com/trendreports/low-code-development-4" ref="nofollow noopener noreferrer">Low-Code Development - DZone Trend Report</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«å¹¶å‘è­¦å‘Šï¼šSwift 6 çº¿ç¨‹å®‰å…¨é€šçŸ¥ MainActorMessage & AsyncMessage å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572961448537587739</link>    <guid>https://juejin.cn/post/7572961448537587739</guid>    <pubDate>2025-11-17T03:28:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537587739" data-draft-id="7573002274323906606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«å¹¶å‘è­¦å‘Šï¼šSwift 6 çº¿ç¨‹å®‰å…¨é€šçŸ¥ MainActorMessage &amp; AsyncMessage å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2025-11-17T03:28:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«å¹¶å‘è­¦å‘Šï¼šSwift 6 çº¿ç¨‹å®‰å…¨é€šçŸ¥ MainActorMessage &amp; AsyncMessage å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:28:08.000Z" title="Mon Nov 17 2025 03:28:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆæ—§çš„ NotificationCenter ä¼šâ€œè¸©å‘â€</h2>
<p>åœ¨ Swift Concurrency æ—¶ä»£ï¼Œå³ä½¿ä½ æŠŠ <code>addObserver</code> çš„ <code>queue</code> è®¾æˆ <code>.main</code>ï¼Œåªè¦é—­åŒ…é‡Œè°ƒç”¨äº† <code>@MainActor</code> éš”ç¦»çš„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¾æ—§ä¼šç”©å‡ºè­¦å‘Šï¼š</p>
<blockquote>
<p>âš ï¸ Main actor-isolated property 'xxx' can not be referenced from a non-isolated context</p>
</blockquote>
<p>æ ¹å› ï¼š</p>
<p><code>Notification</code> é»˜è®¤è¢«æ ‡è®°ä¸º <code>nonisolated</code>ï¼Œå®ƒä¸ <code>@MainActor</code> ä¹‹é—´æ²¡æœ‰å»ºç«‹ä»»ä½•â€œéš”ç¦»çº¦å®šâ€ï¼Œç¼–è¯‘å™¨æ— æ³•è¯æ˜çº¿ç¨‹å®‰å…¨ã€‚</p>
<h2 data-id="heading-1">æ–° API çš„åŸºçŸ³ï¼šä¸¤ä¸ªåè®®</h2>




















<table><thead><tr><th>åè®®</th><th>ä½œç”¨</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>MainActorMessage</code></td><td>ä¿è¯è§‚å¯Ÿå›è°ƒä¸€å®šåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ</td><td>æ›´æ–° UIã€è®¿é—® @MainActor å±æ€§</td></tr><tr><td><code>AsyncMessage</code></td><td>å…è®¸åœ¨ä»»æ„éš”ç¦»åŸŸå¼‚æ­¥æŠ•é€’</td><td>åå°å¤„ç†ã€è·¨ actor é€šä¿¡</td></tr></tbody></table>
<blockquote>
<p>ç³»ç»Ÿç‰ˆæœ¬è¦æ±‚ï¼šiOS / macOS 26+</p>
</blockquote>
<h2 data-id="heading-2">MainActorMessage æ·±å…¥æ‹†è§£</h2>
<h3 data-id="heading-3">åè®®å®šä¹‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">MainActorMessage</span>: <span class="hljs-title class_">SendableMetatype</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Subject</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> name: <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-comment">// æŠŠ Notification è½¬æˆå½“å‰æ¶ˆæ¯ç±»å‹</span>
    <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) -&gt; <span class="hljs-keyword">Self</span><span class="hljs-operator">?</span>

    <span class="hljs-comment">// æŠŠæ¶ˆæ¯è½¬å› Notificationï¼ˆä¾› post æ—¶ä½¿ç”¨ï¼‰</span>
    <span class="hljs-meta">@MainActor</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-keyword">Self</span>) -&gt; <span class="hljs-type">Notification</span>
}
</code></pre>
<p>å…³é”®æ³¨è§£</p>
<ul>
<li>æ‰€æœ‰åè®®è¦æ±‚éƒ½åœ¨ <code>@MainActor</code> éš”ç¦»åŸŸå†…å®Œæˆï¼Œç¼–è¯‘æœŸå³ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li><code>makeMessage</code> å…è®¸ä½ ä» <code>userInfo</code>ã€<code>object</code> é‡Œå–å‡ºå¼ºç±»å‹æ•°æ®ï¼Œå‘Šåˆ« Any? å¼ºè½¬</li>
</ul>
<h3 data-id="heading-4">ç³»ç»Ÿå¸®ä½ åšå¥½çš„â€œç°æˆçš„â€æ¶ˆæ¯ç±»å‹</h3>
<p>ä»¥ <code>UIApplication.didBecomeActiveNotification</code> ä¸ºä¾‹ï¼ŒSwift 26 å·²å†…ç½®ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">@available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">26.0</span>, <span class="hljs-operator">*</span>)
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">MessageIdentifier</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Self</span> ==
    <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">BaseMessageIdentifier</span>&lt;<span class="hljs-title class_">UIApplication</span>.<span class="hljs-title class_">DidBecomeActiveMessage</span>&gt; {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> didBecomeActive: <span class="hljs-type">NotificationCenter</span>.<span class="hljs-type">BaseMessageIdentifier</span>&lt;<span class="hljs-type">UIApplication</span>.<span class="hljs-type">DidBecomeActiveMessage</span>&gt; { <span class="hljs-keyword">get</span> }
}
</code></pre>
<p><code>DidBecomeActiveMessage</code> å†…éƒ¨å®ç°ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">DidBecomeActiveMessage</span>: <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">MainActorMessage</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> name: <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span> { <span class="hljs-type">UIApplication</span>.didBecomeActiveNotification }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">typealias</span> <span class="hljs-type">Subject</span> <span class="hljs-operator">=</span> <span class="hljs-type">UIApplication</span>

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) -&gt; <span class="hljs-type">DidBecomeActiveMessage</span>? {
        <span class="hljs-comment">// ç³»ç»Ÿé€šçŸ¥ä¸éœ€è¦é¢å¤–å‚æ•°ï¼Œç›´æ¥è¿”å›ç©ºå®ä¾‹å³å¯</span>
        <span class="hljs-keyword">return</span> <span class="hljs-type">DidBecomeActiveMessage</span>()
    }

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">DidBecomeActiveMessage</span>) -&gt; <span class="hljs-type">Notification</span> {
        <span class="hljs-type">Notification</span>(name: name)
    }
}
</code></pre>
<h3 data-id="heading-5">è§‚å¯Ÿæ–¹å¼å¯¹æ¯”</h3>













<table><thead><tr><th>æ—§å†™æ³•ï¼ˆä»æœ‰å¹¶å‘è­¦å‘Šï¼‰</th><th>æ–°å†™æ³•ï¼ˆé›¶è­¦å‘Šï¼‰</th></tr></thead><tbody><tr><td><code>NotificationCenter.default.addObserver(forName: .didBecomeActiveNotification, object: nil, queue: .main, using: { ... })</code></td><td><code>NotificationCenter.default.addObserver(of: UIApplication.self, for: .didBecomeActive) { message in ... }</code></td></tr></tbody></table>
<p>å®Œæ•´æ–°ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppActiveMonitor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> token: <span class="hljs-type">NSObjectProtocol</span>?

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">startObserving</span>() {
        <span class="hljs-comment">// âœ… é—­åŒ…è‡ªåŠ¨åœ¨ @MainActor æ‰§è¡Œ</span>
        token <span class="hljs-operator">=</span> <span class="hljs-type">NotificationCenter</span>.default.addObserver(
            of: <span class="hljs-type">UIApplication</span>.<span class="hljs-keyword">self</span>,
            for: .didBecomeActive
        ) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.handleDidBecomeActive()
        }
    }

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleDidBecomeActive</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å·²åˆ‡æ¢åˆ°å‰å°ï¼Œçº¿ç¨‹ï¼š<span class="hljs-subst">\(Thread.isMainThread)</span>"</span>)
    }
}
</code></pre>
<h3 data-id="heading-6">æŠ•é€’ç«¯ï¼ˆpostï¼‰ä¹Ÿå— @MainActor é™åˆ¶</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">postDidBecomeActive</span>() {
    <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-type">DidBecomeActiveMessage</span>()
    <span class="hljs-type">NotificationCenter</span>.default.post(message, subject: <span class="hljs-type">UIApplication</span>.shared)
}
</code></pre>
<blockquote>
<p>ç”±äº <code>post</code> æ–¹æ³•æœ¬èº«è¢«æ ‡è®°ä¸º <code>@MainActor</code>ï¼Œç³»ç»Ÿä¿è¯åŒæ­¥æŠ•é€’ï¼Œå³è§‚å¯Ÿé—­åŒ…ä¼šç«‹å³åœ¨å½“å‰ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œä¸æ—§ API çš„â€œå¼‚æ­¥é˜Ÿåˆ—æŠ•é€’â€è¡Œä¸ºä¸åŒã€‚</p>
</blockquote>
<p>è¿ç§»æ—¶éœ€è¯„ä¼°æ˜¯å¦ä¼šå¯¹ç°æœ‰æ—¶åºäº§ç”Ÿå‰¯ä½œç”¨ã€‚</p>
<h2 data-id="heading-7">AsyncMessageï¼šè„±ç¦»ä¸»çº¿ç¨‹çš„çµæ´»æŠ•é€’</h2>
<h3 data-id="heading-8">åè®®å®šä¹‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">protocol</span> <span class="hljs-title class_">AsyncMessage</span>: <span class="hljs-title class_">SendableMetatype</span> {
    <span class="hljs-keyword">associatedtype</span> <span class="hljs-type">Subject</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> name: <span class="hljs-type">Notification</span>.<span class="hljs-type">Name</span> { <span class="hljs-keyword">get</span> }

    <span class="hljs-comment">// å¯åœ¨ä»»æ„éš”ç¦»åŸŸè°ƒç”¨ï¼Œæ”¯æŒå¼‚æ­¥ä¸Šä¸‹æ–‡</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-keyword">Self</span><span class="hljs-operator">?</span>

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-keyword">Self</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Notification</span>
}
</code></pre>
<p>ä¸ MainActorMessage çš„æ ¸å¿ƒå·®å¼‚</p>
<ol>
<li>æ²¡æœ‰ <code>@MainActor</code> é™åˆ¶</li>
<li>è§‚å¯Ÿé—­åŒ…ä¸º <code>@Sendable async</code> å½¢å¼ï¼Œå¯å¹¶å‘æ‰§è¡Œ</li>
<li>æŠ•é€’æ–¹ <code>post</code> ä¸è¦æ±‚ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥åˆ†å‘</li>
</ol>
<h3 data-id="heading-9">è‡ªå®šä¹‰ AsyncMessage å®æˆ˜</h3>
<p>å‡è®¾ RocketSim æ’ä»¶éœ€è¦å¹¿æ’­â€œæœ€è¿‘æ„å»ºåˆ—è¡¨å·²æ›´æ–°â€ï¼š</p>
<p>æ­¥éª¤ 1ï¼šå®šä¹‰å¼ºç±»å‹æ¶ˆæ¯</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RecentBuild</span> {
    <span class="hljs-keyword">let</span> appName: <span class="hljs-type">String</span>
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">RecentBuildsChangedMessage</span>: <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">AsyncMessage</span> {
    <span class="hljs-keyword">typealias</span> <span class="hljs-type">Subject</span> <span class="hljs-operator">=</span> [<span class="hljs-type">RecentBuild</span>]   <span class="hljs-comment">// æŠŠæ•°ç»„æœ¬èº«å½“ Subject</span>

    <span class="hljs-keyword">let</span> recentBuilds: [<span class="hljs-type">RecentBuild</span>]

    <span class="hljs-comment">// ä»æ—§çš„ notification.object å–å‡ºæ•°æ®</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeMessage</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">notification</span>: <span class="hljs-type">Notification</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">RecentBuildsChangedMessage</span>? {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> builds <span class="hljs-operator">=</span> notification.object <span class="hljs-keyword">as?</span> [<span class="hljs-type">RecentBuild</span>] <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">return</span> <span class="hljs-type">RecentBuildsChangedMessage</span>(recentBuilds: builds)
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeNotification</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">RecentBuildsChangedMessage</span>) <span class="hljs-keyword">async</span> -&gt; <span class="hljs-type">Notification</span> {
        <span class="hljs-type">Notification</span>(name: .recentBuildsChanged, object: message.recentBuilds)
    }
}
</code></pre>
<p>æ­¥éª¤ 2ï¼šæ·»åŠ é™æ€æˆå‘˜ï¼Œæå‡å¯è¯»æ€§</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">extension</span> <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">MessageIdentifier</span> <span class="hljs-title class_">where</span> <span class="hljs-title class_">Self</span> ==
    <span class="hljs-title class_">NotificationCenter</span>.<span class="hljs-title class_">BaseMessageIdentifier</span>&lt;<span class="hljs-title class_">RecentBuildsChangedMessage</span>&gt; {

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> recentBuildsChanged: <span class="hljs-type">NotificationCenter</span>.<span class="hljs-type">BaseMessageIdentifier</span>&lt;<span class="hljs-type">RecentBuildsChangedMessage</span>&gt; {
        .<span class="hljs-keyword">init</span>()
    }
}
</code></pre>
<p>æ­¥éª¤ 3ï¼šå‘é€ç«¯ï¼ˆå¯åœ¨åå°çº¿ç¨‹ï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchLatestBuilds</span>() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">let</span> builds <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> <span class="hljs-type">ServerAPI</span>.latestBuilds()
    <span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-type">RecentBuildsChangedMessage</span>(recentBuilds: builds)
    <span class="hljs-keyword">await</span> <span class="hljs-type">NotificationCenter</span>.default.post(message)   <span class="hljs-comment">// å¼‚æ­¥æŠ•é€’</span>
}
</code></pre>
<p>æ­¥éª¤ 4ï¼šè§‚å¯Ÿç«¯ï¼ˆæ”¯æŒä»»æ„éš”ç¦»åŸŸï¼‰</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BuildListViewModel</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> token: <span class="hljs-type">NSObjectProtocol</span>?

    <span class="hljs-keyword">func</span> <span class="hljs-title function_">startObserving</span>() {
        token <span class="hljs-operator">=</span> <span class="hljs-type">NotificationCenter</span>.default.addObserver(
            of: [<span class="hljs-type">RecentBuild</span>].<span class="hljs-keyword">self</span>,
            for: .recentBuildsChanged
        ) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] message <span class="hljs-keyword">in</span>
            <span class="hljs-comment">// âœ… é—­åŒ…ä¸º async @Sendableï¼Œå¯å¹¶å‘æ‰§è¡Œ</span>
            <span class="hljs-keyword">await</span> <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.handleNewBuilds(message.recentBuilds)
        }
    }

    <span class="hljs-meta">@MainActor</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">handleNewBuilds</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">builds</span>: [<span class="hljs-type">RecentBuild</span>]) <span class="hljs-keyword">async</span> {
        <span class="hljs-comment">// å›åˆ°ä¸»çº¿ç¨‹åˆ·æ–° UI</span>
        <span class="hljs-keyword">self</span>.builds <span class="hljs-operator">=</span> builds
    }
}
</code></pre>
<h2 data-id="heading-10">çŸ¥è¯†é€ŸæŸ¥è¡¨</h2>



































<table><thead><tr><th>ç‰¹æ€§</th><th>MainActorMessage</th><th>AsyncMessage</th></tr></thead><tbody><tr><td>å›è°ƒçº¿ç¨‹</td><td>ä¸»çº¿ç¨‹ï¼ˆåŒæ­¥ï¼‰</td><td>ä»»æ„ï¼ˆå¼‚æ­¥ï¼‰</td></tr><tr><td>å‘é€æ–¹é™åˆ¶</td><td>@MainActor</td><td>ä»»æ„éš”ç¦»åŸŸ</td></tr><tr><td>è§‚å¯Ÿé—­åŒ…</td><td>åŒæ­¥</td><td><code>async @Sendable</code></td></tr><tr><td>æ˜¯å¦å¼ºç±»å‹</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æ˜¯å¦éœ€è¦ async ä¸Šä¸‹æ–‡</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<h2 data-id="heading-11">æ€»ç»“ä¸è¿ç§»å»ºè®®</h2>
<ol>
<li>
<p>ä¼˜å…ˆä½¿ç”¨ MainActorMessage</p>
<p>åªè¦æœ€ç»ˆéœ€è¦åˆ·æ–° UIï¼Œå°±ç›´æ¥é€‰å®ƒï¼Œç¼–è¯‘æœŸå¼ºåˆ¶ä¸»çº¿ç¨‹ï¼Œå†ä¹Ÿä¸ç”¨æ‰‹å†™ <code>DispatchQueue.main.async</code>ã€‚</p>
</li>
<li>
<p>AsyncMessage é€‚åˆâ€œçº¯åå°â€é“¾è·¯</p>
<p>ä¾‹å¦‚æ•°æ®åº“è½åœ°ã€ç½‘ç»œæ—¥å¿—ä¸ŠæŠ¥ã€è·¨ actor é€šä¿¡ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚</p>
</li>
<li>
<p>é€æ­¥æ›¿æ¢ï¼Œè€Œéä¸€åˆ€åˆ‡</p>
<p>æ—§é€šçŸ¥å¯ä»¥å…ˆå°è£…æˆæ–°æ¶ˆæ¯ç±»å‹ï¼ŒåŒè½¨å¹¶è¡Œï¼›è§‚å¯Ÿåˆ°æ— å¼‚å¸¸åå†åˆ é™¤æ—§ä»£ç ã€‚</p>
</li>
<li>
<p>å•å…ƒæµ‹è¯•æ›´å‹å¥½</p>
<p>å¼ºç±»å‹æ¶ˆæ¯è®©æµ‹è¯•æ–­è¨€ä¸å†ä¾èµ– <code>userInfo</code> é­”æ³•å­—ç¬¦ä¸²ï¼Œå¯è¯»æ€§â†‘ ç»´æŠ¤æ€§â†‘ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7572997791452020774</link>    <guid>https://juejin.cn/post/7572997791452020774</guid>    <pubDate>2025-11-17T03:29:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791452020774" data-draft-id="7571729676344033343" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,Chrome"/> <meta itemprop="datePublished" content="2025-11-17T03:29:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡³ç®€ç®€"/> <meta itemprop="url" content="https://juejin.cn/user/4212984286819384"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Chrome/Firefox æµè§ˆå™¨æ‰©å±•å¼€å‘å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984286819384/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡³ç®€ç®€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:29:00.000Z" title="Mon Nov 17 2025 03:29:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æµè§ˆå™¨æ‰©å±•</h2>
<p>æµè§ˆå™¨æ‰©å±•ï¼ˆBrowser Extensionï¼‰æ˜¯ä¸€ç§å¯ä»¥ä¿®æ”¹å’Œå¢å¼ºæµè§ˆå™¨åŠŸèƒ½çš„å°å‹è½¯ä»¶ç¨‹åºã€‚å®ƒä»¬ä½¿ç”¨ Web æŠ€æœ¯ï¼ˆHTMLã€CSSã€JavaScriptï¼‰å¼€å‘ï¼Œå¯ä»¥åœ¨ç”¨æˆ·æµè§ˆç½‘é¡µæ—¶æä¾›é¢å¤–åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-1">å…¸å‹åº”ç”¨åœºæ™¯</h3>








































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>æŠ€æœ¯è¦ç‚¹</th></tr></thead><tbody><tr><td><strong>å†…å®¹å¢å¼º</strong></td><td>å¹¿å‘Šæ‹¦æˆªå™¨ï¼ˆAdBlockï¼‰ã€è¯­æ³•æ£€æŸ¥ï¼ˆGrammarlyï¼‰</td><td>Content Scriptsã€DOM æ“ä½œ</td></tr><tr><td><strong>ç”Ÿäº§åŠ›å·¥å…·</strong></td><td>å¯†ç ç®¡ç†å™¨ã€ç¬”è®°å·¥å…·ã€æˆªå›¾å·¥å…·</td><td>Storage APIã€Context Menu</td></tr><tr><td><strong>æ•°æ®è·å–</strong></td><td>ä»·æ ¼è¿½è¸ªã€å¤©æ°”æŸ¥è¯¢ã€æ–°é—»è®¢é˜…</td><td>Fetch APIã€å®šæ—¶ä»»åŠ¡</td></tr><tr><td><strong>é¡µé¢ä¿®æ”¹</strong></td><td>æš—é»‘æ¨¡å¼ã€å­—ä½“æ›¿æ¢ã€æ ·å¼è°ƒæ•´</td><td>CSS æ³¨å…¥ã€åŠ¨æ€ DOM</td></tr><tr><td><strong>å¼€å‘å·¥å…·</strong></td><td>React DevToolsã€Vue DevTools</td><td>DevTools APIã€æ¶ˆæ¯ä¼ é€’</td></tr><tr><td><strong>æ ‡ç­¾ç®¡ç†</strong></td><td>OneTabã€Session Buddy</td><td>Tabs APIã€Bookmarks API</td></tr></tbody></table>
<h3 data-id="heading-2">æ‰©å±•çš„ä¼˜åŠ¿</h3>
<ul>
<li>âœ… <strong>ç›´æ¥è®¿é—®æµè§ˆå™¨ API</strong>ï¼šæ¯”ç½‘é¡µåº”ç”¨æœ‰æ›´å¼ºçš„èƒ½åŠ›</li>
<li>âœ… <strong>æ— éœ€æœåŠ¡å™¨</strong>ï¼šå¯ä»¥å®Œå…¨ç¦»çº¿è¿è¡Œ</li>
<li>âœ… <strong>è·¨é¡µé¢å·¥ä½œ</strong>ï¼šå¯ä»¥åœ¨æ‰€æœ‰æ ‡ç­¾é¡µä¸­ç”Ÿæ•ˆ</li>
<li>âœ… <strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼šä½¿ç”¨æµè§ˆå™¨æä¾›çš„å­˜å‚¨ API</li>
<li>âœ… <strong>ç”¨æˆ·åŸºæ•°å¤§</strong>ï¼šChrome Web Store å’Œ Firefox Add-ons æœ‰åºå¤§ç”¨æˆ·ç¾¤</li>
</ul>
<h2 data-id="heading-3">æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-4">1. Manifest æ–‡ä»¶ï¼šæ‰©å±•çš„èº«ä»½è¯</h3>
<p>Manifest æ˜¯æ‰©å±•çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†æ‰©å±•çš„æ‰€æœ‰ä¿¡æ¯ã€æƒé™å’Œè¡Œä¸ºã€‚</p>
<p><strong>åŸºç¡€ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ‰©å±•"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç‚¹å‡»æ‰“å¼€"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Manifestä¸»è¦æœ‰v2å’Œv3ä¸¤ç§ï¼Œç°åœ¨ä»¥ v3 ä¸ºä¸»</p>
<p><strong>Manifest V2 vs V3 ä¸»è¦å·®å¼‚ï¼š</strong></p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Manifest V2</th><th>Manifest V3</th></tr></thead><tbody><tr><td>åå°è„šæœ¬</td><td><code>background.page</code> / <code>background.scripts</code></td><td><code>background.service_worker</code></td></tr><tr><td>ç½‘ç»œè¯·æ±‚</td><td><code>webRequest</code> APIï¼ˆåŒæ­¥é˜»å¡ï¼‰</td><td><code>declarativeNetRequest</code>ï¼ˆå£°æ˜å¼ï¼‰</td></tr><tr><td>ä»£ç æ‰§è¡Œ</td><td><code>executeScript</code></td><td><code>scripting.executeScript</code></td></tr><tr><td>è¿œç¨‹ä»£ç </td><td>å…è®¸</td><td>ç¦æ­¢ï¼ˆå¿…é¡»æ‰“åŒ…åœ¨æ‰©å±•å†…ï¼‰</td></tr><tr><td>å®‰å…¨æ€§</td><td>ä¸€èˆ¬</td><td>æ›´å¼ºï¼ˆCSP æ›´ä¸¥æ ¼ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-5">2. äº”å¤§æ ¸å¿ƒç»„ä»¶è¯¦è§£</h3>
<h4 data-id="heading-6">ç»„ä»¶æ¶æ„å›¾</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca126b36fd614f3fb5946616794b929a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iez566A566A:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954940&amp;x-signature=GYU%2FazDjFUfHAOAho8DxpNq7uOA%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li><strong>Background Script (åå°è„šæœ¬):</strong> Â æ‰©å±•çš„æ ¸å¿ƒï¼ŒæŒç»­è¿è¡Œåœ¨åå°ï¼Œå¤„ç†äº‹ä»¶å’Œåè°ƒå…¶ä»–ç»„ä»¶</li>
<li><strong>Popup (å¼¹çª—UI):</strong> Â ç”¨æˆ·ç‚¹å‡»æ‰©å±•å›¾æ ‡æ—¶æ˜¾ç¤ºçš„ç•Œé¢</li>
<li><strong>Content Script (å†…å®¹è„šæœ¬):</strong> Â æ³¨å…¥åˆ°ç½‘é¡µä¸­çš„è„šæœ¬ï¼Œå¯ä»¥è®¿é—®å’Œä¿®æ”¹é¡µé¢DOM</li>
<li><strong>Options Page (é€‰é¡¹é¡µé¢):</strong> Â æ‰©å±•çš„è®¾ç½®é¡µé¢ï¼Œç”¨äºé…ç½®é€‰é¡¹</li>
<li><strong>Web Page DOM:</strong> Â å®é™…ç½‘é¡µçš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ŒContent Scriptå¯ä»¥ç›´æ¥æ“ä½œ</li>
</ul>
<h4 data-id="heading-7">ç»„ä»¶å¯¹æ¯”è¡¨</h4>





















































<table><thead><tr><th>ç»„ä»¶</th><th>è¿è¡Œç¯å¢ƒ</th><th>ç”Ÿå‘½å‘¨æœŸ</th><th>èƒ½è®¿é—® DOM</th><th>èƒ½ä½¿ç”¨ Chrome API</th><th>é€šä¿¡æ–¹å¼</th></tr></thead><tbody><tr><td><strong>Background</strong></td><td>ç‹¬ç«‹ä¸Šä¸‹æ–‡</td><td>é•¿æœŸ/äº‹ä»¶è§¦å‘</td><td>âŒ</td><td>âœ… å…¨éƒ¨</td><td><code>runtime.sendMessage</code></td></tr><tr><td><strong>Content Script</strong></td><td>ç½‘é¡µä¸Šä¸‹æ–‡</td><td>éšé¡µé¢åŠ è½½</td><td>âœ… é¡µé¢ DOM</td><td>âš ï¸ éƒ¨åˆ†</td><td><code>runtime.sendMessage</code></td></tr><tr><td><strong>Popup</strong></td><td>ç‹¬ç«‹çª—å£</td><td>å¼¹çª—æ‰“å¼€æ—¶</td><td>âœ… è‡ªèº« DOM</td><td>âœ… å…¨éƒ¨</td><td>ç›´æ¥è°ƒç”¨æˆ–æ¶ˆæ¯</td></tr><tr><td><strong>Options</strong></td><td>ç‹¬ç«‹é¡µé¢</td><td>è®¾ç½®é¡µæ‰“å¼€æ—¶</td><td>âœ… è‡ªèº« DOM</td><td>âœ… å…¨éƒ¨</td><td>ç›´æ¥è°ƒç”¨æˆ–æ¶ˆæ¯</td></tr><tr><td><strong>DevTools</strong></td><td>DevTools é¢æ¿</td><td>DevTools æ‰“å¼€æ—¶</td><td>âš ï¸ é€šè¿‡ inspectedWindow</td><td>âœ… éƒ¨åˆ†</td><td><code>runtime.connect</code></td></tr></tbody></table>
<h3 data-id="heading-8">3. æƒé™ç³»ç»Ÿ</h3>
<h4 data-id="heading-9">æƒé™ç±»å‹</h4>
<p><strong>åŸºæœ¬æƒé™ï¼ˆpermissionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// ä½¿ç”¨ chrome.storage API</span>
    <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// è®¿é—®å½“å‰æ´»åŠ¨æ ‡ç­¾é¡µ</span>
    <span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span>          <span class="hljs-comment">// è®¿é—®æ ‡ç­¾é¡µä¿¡æ¯ï¼ˆURLã€æ ‡é¢˜ç­‰ï¼‰</span>
    <span class="hljs-string">"notifications"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// æ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥</span>
    <span class="hljs-string">"alarms"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å®šæ—¶ä»»åŠ¡</span>
    <span class="hljs-string">"contextMenus"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// å³é”®èœå•</span>
    <span class="hljs-string">"cookies"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// è®¿é—® Cookie</span>
    <span class="hljs-string">"downloads"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç®¡ç†ä¸‹è½½</span>
    <span class="hljs-string">"bookmarks"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç®¡ç†ä¹¦ç­¾</span>
    <span class="hljs-string">"history"</span>        <span class="hljs-comment">// è®¿é—®å†å²è®°å½•</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ä¸»æœºæƒé™ï¼ˆhost_permissionsï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://api.example.com/*"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// ç‰¹å®šåŸŸå</span>
    <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">,</span>                 <span class="hljs-comment">// æ‰€æœ‰ HTTPS ç½‘ç«™</span>
    <span class="hljs-string">"&lt;all_urls&gt;"</span>                   <span class="hljs-comment">// æ‰€æœ‰ç½‘ç«™ï¼ˆéœ€è°¨æ…ï¼‰</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-10">æƒé™æœ€å°åŒ–åŸåˆ™</h4>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼šåªè¯·æ±‚å¿…è¦çš„æƒé™ï¼Œè¿‡å¤šæƒé™ä¼šï¼š</p>
<ul>
<li>é™ä½ç”¨æˆ·ä¿¡ä»»åº¦</li>
<li>å¢åŠ å®¡æ ¸éš¾åº¦</li>
<li>å½±å“å•†åº—æ’å</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šè¯·æ±‚äº†ä¸å¿…è¦çš„æƒé™</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"history"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"bookmarks"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âœ… å¥½ï¼šåªè¯·æ±‚å®é™…ä½¿ç”¨çš„æƒé™</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"activeTab"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-11">é¡¹ç›®æ¶æ„ä¸æŠ€æœ¯æ ˆ</h2>
<h3 data-id="heading-12">æŠ€æœ¯é€‰å‹</h3>
<p>ç¬”è€…æ¨èç›´æ¥ä½¿ç”¨ç°æˆçš„å¼€å‘æ¨¡æ¿ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FJohnBra%2Fvite-web-extension" target="_blank" title="https://github.com/JohnBra/vite-web-extension" ref="nofollow noopener noreferrer">github.com/JohnBra/vitâ€¦</a></p>
<h2 data-id="heading-13">ä»¥ vite-web-extension æ¨¡æ¿å¼€å‘çš„æ¯æ—¥é‡‘ä»·å°ä¾‹å­</h2>
<h3 data-id="heading-14">1. å‰ç½®è¦æ±‚</h3>
<ul>
<li><strong>Node.js</strong>: &gt;= 16.xï¼ˆæ¨è 18.x æˆ– 20.xï¼‰</li>
<li><strong>åŒ…ç®¡ç†å™¨</strong>: npm / yarn / pnpmï¼ˆæ¨è pnpmï¼‰</li>
<li><strong>æµè§ˆå™¨</strong>: Chrome æˆ– Firefox æœ€æ–°ç‰ˆ</li>
</ul>
<p>æ£€æŸ¥ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --version   <span class="hljs-comment"># v20.x.x</span>
npm --version    <span class="hljs-comment"># 10.x.x</span>
</code></pre>
<h3 data-id="heading-15">2. é¡¹ç›®åˆå§‹åŒ–</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†é¡¹ç›®æˆ–ä½¿ç”¨æ¨¡æ¿</span>
git <span class="hljs-built_in">clone</span> https://github.com/JohnBra/vite-web-extension

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm install

<span class="hljs-comment"># æˆ–ä½¿ç”¨ npm</span>
npm install
</code></pre>
<h3 data-id="heading-16">3. å¼€å‘æ¨¡å¼å¯åŠ¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome å¼€å‘æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰</span>
pnpm dev
<span class="hljs-comment"># æˆ–</span>
pnpm dev:chrome

<span class="hljs-comment"># Firefox å¼€å‘æ¨¡å¼</span>
pnpm dev:firefox
</code></pre>
<p><strong>å¼€å‘æ¨¡å¼ç‰¹æ€§ï¼š</strong></p>
<ul>
<li>âœ… è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–</li>
<li>âœ… çƒ­é‡è½½ï¼ˆnodemon è‡ªåŠ¨é‡æ–°æ„å»ºï¼‰</li>
<li>âœ… Source Map æ”¯æŒ</li>
<li>âœ… å¼€å‘ç¯å¢ƒä¸“ç”¨å›¾æ ‡</li>
<li>âœ… è¯¦ç»†çš„é”™è¯¯æ—¥å¿—</li>
</ul>
<h3 data-id="heading-17">4. åŠ è½½æ‰©å±•åˆ°æµè§ˆå™¨</h3>
<h4 data-id="heading-18">Chrome / Edge</h4>
<ol>
<li>
<p>æ‰“å¼€æ‰©å±•ç®¡ç†é¡µé¢ï¼š</p>
<ul>
<li>åœ°å€æ è¾“å…¥ <code>chrome://extensions</code></li>
<li>æˆ–é€šè¿‡èœå•ï¼šæ›´å¤šå·¥å…· â†’ æ‰©å±•ç¨‹åº</li>
</ul>
</li>
<li>
<p>å¼€å¯<strong>å¼€å‘è€…æ¨¡å¼</strong>ï¼ˆå³ä¸Šè§’å¼€å…³ï¼‰</p>
</li>
<li>
<p>ç‚¹å‡» <strong>"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"</strong></p>
</li>
<li>
<p>é€‰æ‹©é¡¹ç›®çš„ <code>dist_chrome</code> æ–‡ä»¶å¤¹</p>
</li>
<li>
<p>æ‰©å±•åŠ è½½æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°å¼€å‘ç‰ˆå›¾æ ‡</p>
</li>
</ol>
<p><strong>å¸¸è§é—®é¢˜ï¼š</strong></p>
<ul>
<li>âš ï¸ å¦‚æœä¿®æ”¹äº† Manifestï¼Œéœ€è¦ç‚¹å‡»åˆ·æ–°æŒ‰é’®</li>
<li>âš ï¸ Content Script ä¿®æ”¹åï¼Œéœ€è¦åˆ·æ–°ç›®æ ‡ç½‘é¡µ</li>
<li>âš ï¸ Popup å’Œ Options é¡µé¢å¯ä»¥ç›´æ¥åˆ·æ–°</li>
</ul>
<h4 data-id="heading-19">Firefox</h4>
<ol>
<li>
<p>æ‰“å¼€è°ƒè¯•é¡µé¢ï¼š</p>
<ul>
<li>åœ°å€æ è¾“å…¥ <code>about:debugging#/runtime/this-firefox</code></li>
<li>æˆ–é€šè¿‡èœå•ï¼šé™„åŠ ç»„ä»¶å’Œä¸»é¢˜ â†’ ç®¡ç†æ‰©å±• â†’ è°ƒè¯•é™„åŠ ç»„ä»¶</li>
</ul>
</li>
<li>
<p>ç‚¹å‡» <strong>"ä¸´æ—¶è½½å…¥é™„åŠ ç»„ä»¶"</strong></p>
</li>
<li>
<p>é€‰æ‹© <code>dist_firefox</code> æ–‡ä»¶å¤¹ä¸­çš„ <code>manifest.json</code> æ–‡ä»¶</p>
</li>
<li>
<p>æ‰©å±•åŠ è½½æˆåŠŸ</p>
</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>âš ï¸ Firefox çš„ä¸´æ—¶æ‰©å±•åœ¨æµè§ˆå™¨å…³é—­åä¼šè¢«å¸è½½</li>
<li>âš ï¸ æ¯æ¬¡é‡å¯æµè§ˆå™¨éœ€è¦é‡æ–°åŠ è½½</li>
</ul>
<h3 data-id="heading-20">5. éªŒè¯å®‰è£…</h3>
<p>åŠ è½½æ‰©å±•åï¼ŒéªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. æ‰“å¼€ Popup</span>
<span class="hljs-comment">//    ç‚¹å‡»æ‰©å±•å›¾æ ‡ï¼Œåº”è¯¥çœ‹åˆ°é»„é‡‘ä»·æ ¼æŸ¥è¯¢ç•Œé¢</span>

<span class="hljs-comment">// 2. æŸ¥çœ‹ Background Script æ—¥å¿—</span>
<span class="hljs-comment">//    åœ¨æ‰©å±•ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»"service worker"æˆ–"èƒŒæ™¯é¡µ"</span>
<span class="hljs-comment">//    æ§åˆ¶å°åº”è¯¥æ˜¾ç¤ºï¼š'background script loaded'</span>

<span class="hljs-comment">// 3. æŸ¥çœ‹ Content Script</span>
<span class="hljs-comment">//    è®¿é—®ä»»æ„ç½‘ç«™ï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·</span>
<span class="hljs-comment">//    åº”è¯¥çœ‹åˆ°é¡µé¢å·¦ä¸‹è§’æœ‰é»„è‰²æç¤ºï¼š"content script loaded"</span>

<span class="hljs-comment">// 4. æ‰“å¼€ Options é¡µé¢</span>
<span class="hljs-comment">//    å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡ â†’ é€‰é¡¹</span>
<span class="hljs-comment">//    åº”è¯¥æ˜¾ç¤ºè®¾ç½®é¡µé¢</span>
</code></pre>
<hr/>
<h2 data-id="heading-21">Manifest é…ç½®è¯¦è§£</h2>
<h3 data-id="heading-22">å®Œæ•´é…ç½®æ–‡ä»¶</h3>
<p>æœ¬é¡¹ç›®çš„ <code>manifest.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/popup/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æŸ¥çœ‹é»„é‡‘ä»·æ ¼"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"background"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"service_worker"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/background/index.ts"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"http://*/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/pages/content/index.tsx"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"css"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"contentStyle.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"run_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"document_idle"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"storage"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"activeTab"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://chatbot-be-omega.vercel.app/*"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"options_ui"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/options/index.html"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"open_in_tab"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"chrome_url_overrides"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"newtab"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/newtab/index.html"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"devtools_page"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/pages/devtools/index.html"</span><span class="hljs-punctuation">,</span>
  
  <span class="hljs-attr">"web_accessible_resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"contentStyle.css"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"icon-128.png"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"icon-32.png"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"&lt;all_urls&gt;"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-23">å­—æ®µè¯¦è§£</h3>
<h4 data-id="heading-24">åŸºç¡€ä¿¡æ¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"manifest_version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å¿…é¡»æ˜¯ 3ï¼ˆæ–°ç‰ˆï¼‰</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰©å±•åç§°"</span><span class="hljs-punctuation">,</span>            <span class="hljs-comment">// æœ€å¤š 45 ä¸ªå­—ç¬¦</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è¯­ä¹‰åŒ–ç‰ˆæœ¬å·</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ‰©å±•æè¿°"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// æœ€å¤š 132 ä¸ªå­—ç¬¦</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½œè€…å"</span>            <span class="hljs-comment">// å¯é€‰</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-25">å›¾æ ‡é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"icons"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ‰©å±•é¡µé¢çš„ favicon</span>
    <span class="hljs-attr">"48"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-48.png"</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// æ‰©å±•ç®¡ç†é¡µé¢</span>
    <span class="hljs-attr">"128"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-128.png"</span>     <span class="hljs-comment">// å®‰è£…å’Œ Chrome Web Store</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å›¾æ ‡è®¾è®¡å»ºè®®ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ç®€æ´ã€å¯è¯†åˆ«çš„è®¾è®¡</li>
<li>PNG æ ¼å¼ï¼Œé€æ˜èƒŒæ™¯</li>
<li>ä¸åŒå°ºå¯¸ä¿æŒä¸€è‡´æ€§</li>
<li>é¿å…æ–‡å­—ï¼ˆå¤ªå°çœ‹ä¸æ¸…ï¼‰</li>
</ul>
<h4 data-id="heading-26">Actionï¼ˆå·¥å…·æ å›¾æ ‡ï¼‰</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"default_popup"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"popup.html"</span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// ç‚¹å‡»å›¾æ ‡æ‰“å¼€çš„é¡µé¢</span>
    <span class="hljs-attr">"default_icon"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"16"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-16.png"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"32"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"icon-32.png"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"default_title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"é¼ æ ‡æ‚¬åœæç¤ºæ–‡å­—"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>åŠ¨æ€ä¿®æ”¹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿®æ”¹å›¾æ ‡</span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setIcon</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">"new-icon.png"</span> });

<span class="hljs-comment">// ä¿®æ”¹æ ‡é¢˜</span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setTitle</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">"æ–°æ ‡é¢˜"</span> });

<span class="hljs-comment">// ä¿®æ”¹å¾½ç« </span>
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeText</span>({ <span class="hljs-attr">text</span>: <span class="hljs-string">"99+"</span> });
chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeBackgroundColor</span>({ <span class="hljs-attr">color</span>: <span class="hljs-string">"#FF0000"</span> });
</code></pre>
<h4 data-id="heading-27">Content Scripts é…ç½®</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"content_scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"https://www.example.com/*"</span><span class="hljs-punctuation">,</span>    <span class="hljs-comment">// åŒ¹é…æ¨¡å¼</span>
        <span class="hljs-string">"https://*.google.com/*"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"js"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.js"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>             <span class="hljs-comment">// JavaScript æ–‡ä»¶</span>
      <span class="hljs-attr">"css"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"content.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// CSS æ–‡ä»¶</span>
      <span class="hljs-attr">"run_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"document_idle"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// æ³¨å…¥æ—¶æœº</span>
      <span class="hljs-attr">"all_frames"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>              <span class="hljs-comment">// æ˜¯å¦æ³¨å…¥åˆ° iframe</span>
      <span class="hljs-attr">"match_about_blank"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>        <span class="hljs-comment">// æ˜¯å¦åŒ¹é… about:blank</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>run_at é€‰é¡¹ï¼š</strong></p>
<ul>
<li><code>document_start</code>: DOM æ„å»ºä¹‹å‰ï¼ˆæœ€æ—©ï¼‰</li>
<li><code>document_end</code>: DOM æ„å»ºå®Œæˆå</li>
<li><code>document_idle</code>: é¡µé¢ç©ºé—²æ—¶ï¼ˆé»˜è®¤ï¼Œæ¨èï¼‰</li>
</ul>
<h4 data-id="heading-28">Web Accessible Resources</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"web_accessible_resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"resources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"images/*"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"styles.css"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"matches"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://example.com/*"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>ç”¨é€”ï¼š</strong> å…è®¸ç½‘é¡µè®¿é—®æ‰©å±•å†…çš„èµ„æºæ–‡ä»¶</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ Content Script ä¸­ä½¿ç”¨æ‰©å±•èµ„æº</span>
<span class="hljs-keyword">const</span> imageUrl = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getURL</span>(<span class="hljs-string">'images/logo.png'</span>);
<span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
img.<span class="hljs-property">src</span> = imageUrl;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(img);
</code></pre>
<hr/>
<h2 data-id="heading-29">æ ¸å¿ƒç»„ä»¶å¼€å‘å®è·µ</h2>
<h3 data-id="heading-30">1. Background Scriptï¼ˆåå°è„šæœ¬ï¼‰</h3>
<p>Background Script æ˜¯æ‰©å±•çš„"å¤§è„‘"ï¼Œè´Ÿè´£å¤„ç†äº‹ä»¶ã€ç®¡ç†çŠ¶æ€ã€åè°ƒå„ç»„ä»¶ã€‚</p>
<h4 data-id="heading-31">Manifest V3 çš„å˜åŒ–</h4>
<p>åœ¨ Manifest V3 ä¸­ï¼ŒBackground Page è¢« <strong>Service Worker</strong> å–ä»£ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Background Page (V2)</th><th>Service Worker (V3)</th></tr></thead><tbody><tr><td>ç”Ÿå‘½å‘¨æœŸ</td><td>æŒç»­è¿è¡Œ</td><td>äº‹ä»¶é©±åŠ¨ï¼Œç©ºé—²æ—¶ä¼‘çœ </td></tr><tr><td>DOM è®¿é—®</td><td>æœ‰ DOM</td><td>æ—  DOM</td></tr><tr><td>å®šæ—¶å™¨</td><td>setTimeout/setInterval</td><td>chrome.alarms API</td></tr><tr><td>å­˜å‚¨</td><td>å˜é‡æŒä¹…åŒ–</td><td>éœ€è¦ä½¿ç”¨ chrome.storage</td></tr></tbody></table>
<h4 data-id="heading-32">åŸºç¡€ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/background/index.ts</span>

<span class="hljs-comment">// ç›‘å¬æ‰©å±•å®‰è£…æˆ–æ›´æ–°</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">details</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (details.<span class="hljs-property">reason</span> === <span class="hljs-string">'install'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰©å±•é¦–æ¬¡å®‰è£…'</span>);
    <span class="hljs-comment">// åˆå§‹åŒ–é»˜è®¤è®¾ç½®</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">settings</span>: {
        <span class="hljs-attr">refreshInterval</span>: <span class="hljs-number">30</span>,
        <span class="hljs-attr">notifications</span>: <span class="hljs-literal">true</span>
      }
    });
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (details.<span class="hljs-property">reason</span> === <span class="hljs-string">'update'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰©å±•å·²æ›´æ–°åˆ°'</span>, chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getManifest</span>().<span class="hljs-property">version</span>);
  }
});

<span class="hljs-comment">// ç›‘å¬æ¥è‡ªå…¶ä»–ç»„ä»¶çš„æ¶ˆæ¯</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, message);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥è‡ª:'</span>, sender.<span class="hljs-property">tab</span> ? <span class="hljs-string">`æ ‡ç­¾é¡µ <span class="hljs-subst">${sender.tab.id}</span>`</span> : <span class="hljs-string">'æ‰©å±•é¡µé¢'</span>);
  
  <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'getGoldPrice'</span>) {
    <span class="hljs-comment">// å¼‚æ­¥å¤„ç†</span>
    <span class="hljs-title function_">fetchGoldPrice</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, data });
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    });
    
    <span class="hljs-comment">// è¿”å› true è¡¨ç¤ºå¼‚æ­¥å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'openOptionsPage'</span>) {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">openOptionsPage</span>();
  }
});

<span class="hljs-comment">// ç›‘å¬æ ‡ç­¾é¡µæ›´æ–°</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-property">onUpdated</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">tabId, changeInfo, tab</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (changeInfo.<span class="hljs-property">status</span> === <span class="hljs-string">'complete'</span> &amp;&amp; tab.<span class="hljs-property">url</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'é¡µé¢åŠ è½½å®Œæˆ:'</span>, tab.<span class="hljs-property">url</span>);
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ³¨å…¥ Content Script æˆ–æ‰§è¡Œå…¶ä»–æ“ä½œ</span>
  }
});

<span class="hljs-comment">// ä½¿ç”¨ Alarms API å®ç°å®šæ—¶ä»»åŠ¡</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'fetchGoldPrice'</span>, {
  <span class="hljs-attr">periodInMinutes</span>: <span class="hljs-number">30</span>  <span class="hljs-comment">// æ¯ 30 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span>
});

chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'fetchGoldPrice'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶è·å–é»„é‡‘ä»·æ ¼'</span>);
    <span class="hljs-title function_">fetchGoldPrice</span>();
  }
});

<span class="hljs-comment">// æ•°æ®è·å–å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchGoldPrice</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.example.com/gold-price'</span>);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    
    <span class="hljs-comment">// ä¿å­˜åˆ° storage</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">goldPrice</span>: data });
    
    <span class="hljs-comment">// æ›´æ–°å¾½ç« </span>
    chrome.<span class="hljs-property">action</span>.<span class="hljs-title function_">setBadgeText</span>({ 
      <span class="hljs-attr">text</span>: data.<span class="hljs-property">price</span>.<span class="hljs-title function_">toString</span>() 
    });
    
    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–æ•°æ®å¤±è´¥:'</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
}
</code></pre>
<h4 data-id="heading-33">é«˜çº§ç”¨æ³•ï¼šé•¿è¿æ¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onConnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">port</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å»ºç«‹è¿æ¥:'</span>, port.<span class="hljs-property">name</span>);
  
  port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, message);
    <span class="hljs-comment">// å¤„ç†æ¶ˆæ¯</span>
    port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">response</span>: <span class="hljs-string">'processed'</span> });
  });
  
  port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥æ–­å¼€'</span>);
  });
});

<span class="hljs-comment">// Popup æˆ– Content Script</span>
<span class="hljs-keyword">const</span> port = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">connect</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'my-channel'</span> });
port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'subscribe'</span> });
port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¨é€:'</span>, message);
});
</code></pre>
<h3 data-id="heading-34">2. Content Scriptï¼ˆå†…å®¹è„šæœ¬ï¼‰</h3>
<p>Content Script è¿è¡Œåœ¨ç½‘é¡µä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥è¯»å–å’Œä¿®æ”¹é¡µé¢ DOMï¼Œä½†æœ‰ç‹¬ç«‹çš„ JavaScript è¿è¡Œç¯å¢ƒã€‚</p>
<h4 data-id="heading-35">ç‰¹æ€§ä¸é™åˆ¶</h4>
<p><strong>å¯ä»¥åšï¼š</strong></p>
<ul>
<li>âœ… è®¿é—®å’Œä¿®æ”¹é¡µé¢ DOM</li>
<li>âœ… ç›‘å¬é¡µé¢äº‹ä»¶</li>
<li>âœ… ä½¿ç”¨éƒ¨åˆ† Chrome APIï¼ˆruntimeã€storageã€i18n ç­‰ï¼‰</li>
<li>âœ… ä¸ Background Script é€šä¿¡</li>
</ul>
<p><strong>ä¸èƒ½åšï¼š</strong></p>
<ul>
<li>âŒ è®¿é—®é¡µé¢çš„ JavaScript å˜é‡å’Œå‡½æ•°</li>
<li>âŒ ä½¿ç”¨å¤§éƒ¨åˆ† Chrome APIï¼ˆtabsã€windowsã€bookmarks ç­‰ï¼‰</li>
<li>âŒ è·¨åŸŸè¯·æ±‚ï¼ˆéœ€è¦é€šè¿‡ Backgroundï¼‰</li>
</ul>
<h4 data-id="heading-36">React é›†æˆç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/content/index.tsx</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>;

<span class="hljs-comment">// åˆ›å»ºå®¹å™¨</span>
<span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
container.<span class="hljs-property">id</span> = <span class="hljs-string">'gold-price-extension-root'</span>;
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(container);

<span class="hljs-comment">// React ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GoldPriceWidget</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [price, setPrice] = useState&lt;<span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [visible, setVisible] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ä» storage è·å–ä»·æ ¼</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPrice'</span>], <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (result.<span class="hljs-property">goldPrice</span>) {
        <span class="hljs-title function_">setPrice</span>(result.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">price</span>);
      }
    });
    
    <span class="hljs-comment">// ç›‘å¬ storage å˜åŒ–</span>
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">changes</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (changes.<span class="hljs-property">goldPrice</span>) {
        <span class="hljs-title function_">setPrice</span>(changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>.<span class="hljs-property">price</span>);
      }
    });
  }, []);
  
  <span class="hljs-keyword">if</span> (!visible) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
        <span class="hljs-attr">className</span>=<span class="hljs-string">"gold-price-toggle"</span>
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setVisible(true)}
      &gt;
        ğŸ’°
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
    );
  }
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"gold-price-widget"</span>&gt;</span>
                // ã€‚ã€‚ã€‚
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> root = <span class="hljs-title function_">createRoot</span>(container);
root.<span class="hljs-title function_">render</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GoldPriceWidget</span> /&gt;</span></span>);

<span class="hljs-comment">// ç›‘å¬é¡µé¢ DOM å˜åŒ–</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutations</span>) =&gt;</span> {
  mutations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">mutation</span>) =&gt;</span> {
    <span class="hljs-comment">// æ£€æµ‹ç‰¹å®šå…ƒç´ å¹¶è¿›è¡Œå¤„ç†</span>
    <span class="hljs-keyword">if</span> (mutation.<span class="hljs-property">type</span> === <span class="hljs-string">'childList'</span>) {
      <span class="hljs-keyword">const</span> targetElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.target-class'</span>);
      <span class="hljs-keyword">if</span> (targetElement) {
        <span class="hljs-comment">// åœ¨ç›®æ ‡å…ƒç´ ä¸Šæ·»åŠ åŠŸèƒ½</span>
        <span class="hljs-title function_">addCustomFeature</span>(targetElement);
      }
    }
  });
});

observer.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, {
  <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// è‡ªå®šä¹‰åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">addCustomFeature</span>(<span class="hljs-params">element: Element</span>) {
  <span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'button'</span>);
  button.<span class="hljs-property">textContent</span> = <span class="hljs-string">'æŸ¥çœ‹é‡‘ä»·'</span>;
  button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'openPopup'</span> });
  });
  element.<span class="hljs-title function_">appendChild</span>(button);
}
</code></pre>
<h4 data-id="heading-37">CSS éš”ç¦»</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* src/pages/content/style.css */</span>

<span class="hljs-comment">/* ä½¿ç”¨å”¯ä¸€çš„ç±»åå‰ç¼€ï¼Œé¿å…ä¸é¡µé¢æ ·å¼å†²çª */</span>
<span class="hljs-selector-class">.gold-price-extension-root</span> {
  <span class="hljs-attribute">all</span>: initial; <span class="hljs-comment">/* é‡ç½®æ‰€æœ‰æ ·å¼ */</span>
  <span class="hljs-attribute">font-family</span>: -apple-system, BlinkMacSystemFont, <span class="hljs-string">'Segoe UI'</span>, sans-serif;
}

<span class="hljs-selector-class">.gold-price-widget</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.15</span>);
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">999999</span>; <span class="hljs-comment">/* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */</span>
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">16px</span>;
}

<span class="hljs-comment">/* ä½¿ç”¨ CSS-in-JS ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹© */</span>
</code></pre>
<h4 data-id="heading-38">ä¸é¡µé¢è„šæœ¬é€šä¿¡</h4>
<p>Content Script å’Œé¡µé¢è„šæœ¬è¿è¡Œåœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œéœ€è¦é€šè¿‡ <code>window.postMessage</code> é€šä¿¡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script â†’ é¡µé¢</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'FROM_EXTENSION'</span>,
  <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span>
}, <span class="hljs-string">'*'</span>);

<span class="hljs-comment">// é¡µé¢ â†’ Content Script</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">source</span> !== <span class="hljs-variable language_">window</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'FROM_PAGE'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¥è‡ªé¡µé¢çš„æ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>);
    
    <span class="hljs-comment">// è½¬å‘åˆ° Background</span>
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(event.<span class="hljs-property">data</span>);
  }
});
</code></pre>
<h3 data-id="heading-39">3. Popupï¼ˆå¼¹çª—é¡µé¢ï¼‰</h3>
<p>Popup æ˜¯ç”¨æˆ·ä¸æ‰©å±•äº¤äº’çš„ä¸»è¦ç•Œé¢ï¼Œç‚¹å‡»å·¥å…·æ å›¾æ ‡æ—¶å¼¹å‡ºã€‚</p>
<h4 data-id="heading-40">ç‰¹ç‚¹</h4>
<ul>
<li>â±ï¸ <strong>ä¸´æ—¶æ€§</strong>ï¼šå…³é—­åé¡µé¢å’ŒçŠ¶æ€ä¼šè¢«é”€æ¯</li>
<li>ğŸ“ <strong>å°ºå¯¸é™åˆ¶</strong>ï¼šæœ€å° 25x25pxï¼Œæœ€å¤§ 800x600px</li>
<li>âš¡ <strong>å¿«é€ŸåŠ è½½</strong>ï¼šåº”è¯¥åœ¨ 1 ç§’å†…å®Œæˆåˆå§‹åŒ–</li>
</ul>
<h4 data-id="heading-41">å®Œæ•´ç¤ºä¾‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/Popup.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GoldPriceData</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./types"</span>;
<span class="hljs-keyword">import</span> { fetchGoldPriceData, refreshGoldPriceData } <span class="hljs-keyword">from</span> <span class="hljs-string">"./services/goldPriceService"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JewelryCard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/JewelryCard"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BankCard</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/BankCard"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LoadingSpinner</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/LoadingSpinner"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Popup</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [data, setData] = useState&lt;<span class="hljs-title class_">GoldPriceData</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">const</span> [refreshing, setRefreshing] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [activeTab, setActiveTab] = useState&lt;<span class="hljs-string">"jewelry"</span> | <span class="hljs-string">"bank"</span>&gt;(<span class="hljs-string">"jewelry"</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">loadData</span>();
  }, []);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-keyword">const</span> goldData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
      <span class="hljs-title function_">setData</span>(goldData);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åŠ è½½æ•°æ®å¤±è´¥:"</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleRefresh</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-title function_">setRefreshing</span>(<span class="hljs-literal">true</span>);
      <span class="hljs-keyword">const</span> goldData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">refreshGoldPriceData</span>();
      <span class="hljs-title function_">setData</span>(goldData);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"åˆ·æ–°æ•°æ®å¤±è´¥:"</span>, error);
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-title function_">setRefreshing</span>(<span class="hljs-literal">false</span>);
    }
  };

  <span class="hljs-keyword">if</span> (loading) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"w-[400px] h-[600px] flex items-center justify-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">LoadingSpinner</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"w-[400px] h-[600px] bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 flex flex-col"</span>&gt;</span>
      {/* å¤´éƒ¨ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/60 backdrop-blur-md shadow-sm px-4 py-3 flex items-center justify-between"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold"</span>&gt;</span>æ¯æ—¥é‡‘ä»·<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleRefresh}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{refreshing}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"p-1.5 rounded-full hover:bg-amber-100/50 transition-colors"</span>
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">RefreshIcon</span> <span class="hljs-attr">spinning</span>=<span class="hljs-string">{refreshing}</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>

      {/* æ ‡ç­¾åˆ‡æ¢ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex border-b border-amber-100"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab("jewelry")}
          className={`flex-1 py-2.5 text-sm ${
            activeTab === "jewelry" ? "text-amber-600" : "text-gray-500"
          }`}
        &gt;
          é‡‘é¥°å“
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setActiveTab("bank")}
          className={`flex-1 py-2.5 text-sm ${
            activeTab === "bank" ? "text-amber-600" : "text-gray-500"
          }`}
        &gt;
          é“¶è¡Œé‡‘æ¡
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* å†…å®¹åŒºåŸŸ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex-1 overflow-y-auto p-3"</span>&gt;</span>
        {activeTab === "jewelry" ? (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"grid grid-cols-2 gap-2"</span>&gt;</span>
            {data?.jewelryBrands.map((brand) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">JewelryCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{brand.id}</span> <span class="hljs-attr">brand</span>=<span class="hljs-string">{brand}</span> /&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        ) : (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col gap-2"</span>&gt;</span>
            {data?.bankGoldBars.map((bank) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">BankCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{bank.id}</span> <span class="hljs-attr">bank</span>=<span class="hljs-string">{bank}</span> /&gt;</span>
            ))}
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      {/* åº•éƒ¨ä¿¡æ¯ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 text-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500"</span>&gt;</span>æ›´æ–°æ—¶é—´: {data?.lastUpdate}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>Popup è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li>ğŸ¯ <strong>å•ä¸€ç›®æ ‡</strong>ï¼šæ¯ä¸ª Popup åº”è¯¥æœ‰æ˜ç¡®çš„ç”¨é€”</li>
<li>âš¡ <strong>å¿«é€Ÿå“åº”</strong>ï¼šä¼˜å…ˆæ˜¾ç¤ºç¼“å­˜æ•°æ®ï¼Œåå°åˆ·æ–°</li>
<li>ğŸ“± <strong>ç®€æ´ UI</strong>ï¼šç©ºé—´æœ‰é™ï¼Œé¿å…å¤æ‚äº¤äº’</li>
<li>ğŸ’¾ <strong>çŠ¶æ€ç®¡ç†</strong>ï¼šä½¿ç”¨ <code>chrome.storage</code> æŒä¹…åŒ–é‡è¦çŠ¶æ€</li>
</ul>
<hr/>
<h2 data-id="heading-42">ç»„ä»¶é—´é€šä¿¡æœºåˆ¶</h2>
<p>æµè§ˆå™¨æ‰©å±•çš„å„ä¸ªç»„ä»¶ä¹‹é—´éœ€è¦é¢‘ç¹é€šä¿¡ï¼ŒChrome æä¾›äº†å¤šç§é€šä¿¡æ–¹å¼ã€‚</p>
<h3 data-id="heading-43">1. ä¸€æ¬¡æ€§æ¶ˆæ¯ä¼ é€’</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> ç®€å•çš„è¯·æ±‚-å“åº”æ¨¡å¼</p>
<h4 data-id="heading-44">Content Script â†’ Background</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'getPrice'</span>, <span class="hljs-attr">item</span>: <span class="hljs-string">'gold'</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼:'</span>, response.<span class="hljs-property">data</span>);
    }
  }
);

<span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'getPrice'</span>) {
    <span class="hljs-title function_">fetchPrice</span>(request.<span class="hljs-property">item</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">data</span>: price });
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    });
    
    <span class="hljs-comment">// å¿…é¡»è¿”å› true è¡¨ç¤ºå¼‚æ­¥å“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<h4 data-id="heading-45">Popup â†’ Background</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Popup</span>
<span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({
  <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span>
});

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ callback</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'getData'</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
  }
);
</code></pre>
<h4 data-id="heading-46">Background â†’ Content Script</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Background: å‘ç‰¹å®šæ ‡ç­¾é¡µå‘é€æ¶ˆæ¯</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(
  tabId,
  { <span class="hljs-attr">action</span>: <span class="hljs-string">'updatePrice'</span>, <span class="hljs-attr">price</span>: <span class="hljs-number">520</span> },
  <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Content Script å“åº”:'</span>, response);
  }
);

<span class="hljs-comment">// Background: å‘æ‰€æœ‰æ ‡ç­¾é¡µå¹¿æ’­</span>
chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({}, <span class="hljs-function">(<span class="hljs-params">tabs</span>) =&gt;</span> {
  tabs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">tab</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (tab.<span class="hljs-property">id</span>) {
      chrome.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">sendMessage</span>(tab.<span class="hljs-property">id</span>, { <span class="hljs-attr">action</span>: <span class="hljs-string">'refresh'</span> });
    }
  });
});

<span class="hljs-comment">// Content Script: ç›‘å¬æ¶ˆæ¯</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'updatePrice'</span>) {
    <span class="hljs-title function_">updatePriceDisplay</span>(request.<span class="hljs-property">price</span>);
    <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">updated</span>: <span class="hljs-literal">true</span> });
  }
});
</code></pre>
<h3 data-id="heading-47">2. é•¿è¿æ¥ï¼ˆLong-lived Connectionsï¼‰</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> éœ€è¦æŒç»­é€šä¿¡ã€å®æ—¶æ¨é€æ•°æ®</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// Content Script: å»ºç«‹è¿æ¥</span>
<span class="hljs-keyword">const</span> port = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">connect</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'price-updates'</span> });

<span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
port.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'subscribe'</span>, <span class="hljs-attr">symbol</span>: <span class="hljs-string">'GOLD'</span> });

<span class="hljs-comment">// æ¥æ”¶æ¶ˆæ¯</span>
port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ›´æ–°:'</span>, message);
  <span class="hljs-title function_">updateUI</span>(message.<span class="hljs-property">price</span>);
});

<span class="hljs-comment">// ç›‘å¬æ–­å¼€</span>
port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¿æ¥å·²æ–­å¼€'</span>);
});

<span class="hljs-comment">// Background Script: ç›‘å¬è¿æ¥</span>
<span class="hljs-keyword">const</span> connections = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onConnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">port</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–°è¿æ¥:'</span>, port.<span class="hljs-property">name</span>);
  
  connections.<span class="hljs-title function_">set</span>(port.<span class="hljs-property">name</span>, port);
  
  port.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (message.<span class="hljs-property">action</span> === <span class="hljs-string">'subscribe'</span>) {
      <span class="hljs-comment">// å¼€å§‹æ¨é€æ•°æ®</span>
      <span class="hljs-title function_">startPriceUpdates</span>(port, message.<span class="hljs-property">symbol</span>);
    }
  });
  
  port.<span class="hljs-property">onDisconnect</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
    connections.<span class="hljs-title function_">delete</span>(port.<span class="hljs-property">name</span>);
  });
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startPriceUpdates</span>(<span class="hljs-params">port, <span class="hljs-built_in">symbol</span></span>) {
  <span class="hljs-keyword">const</span> intervalId = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchPrice</span>(<span class="hljs-built_in">symbol</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">price</span> =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        port.<span class="hljs-title function_">postMessage</span>({ price, <span class="hljs-built_in">symbol</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-comment">// ç«¯å£å·²æ–­å¼€</span>
        <span class="hljs-built_in">clearInterval</span>(intervalId);
      }
    });
  }, <span class="hljs-number">5000</span>);
}
</code></pre>
<h3 data-id="heading-48">3. Storage å˜åŒ–ç›‘å¬</h3>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»»æ„ç»„ä»¶ï¼šè®¾ç½®æ•°æ®</span>
chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">goldPrice</span>: <span class="hljs-number">520</span> });

<span class="hljs-comment">// ä»»æ„ç»„ä»¶ï¼šç›‘å¬å˜åŒ–</span>
chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">changes, areaName</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (areaName === <span class="hljs-string">'local'</span> &amp;&amp; changes.<span class="hljs-property">goldPrice</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼æ›´æ–°:'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'  æ—§å€¼:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">oldValue</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'  æ–°å€¼:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
    
    <span class="hljs-comment">// æ›´æ–° UI</span>
    <span class="hljs-title function_">updatePriceDisplay</span>(changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
  }
});
</code></pre>
<h3 data-id="heading-49">4. æ¶ˆæ¯ä¼ é€’æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰æ¶ˆæ¯ç±»å‹ï¼ˆTypeScriptï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Message</span> {
  <span class="hljs-attr">action</span>: <span class="hljs-built_in">string</span>;
  data?: <span class="hljs-built_in">any</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Response</span> {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  data?: <span class="hljs-built_in">any</span>;
  error?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// å°è£…æ¶ˆæ¯å‘é€</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">message: Message</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>(message, <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">lastError</span>) {
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">lastError</span>.<span class="hljs-property">message</span>));
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">resolve</span>(response);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">sendMessage</span>({
    <span class="hljs-attr">action</span>: <span class="hljs-string">'getPrice'</span>,
    <span class="hljs-attr">data</span>: { <span class="hljs-attr">symbol</span>: <span class="hljs-string">'GOLD'</span> }
  });
  
  <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);
  }
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é€šä¿¡å¤±è´¥:'</span>, error);
}
</code></pre>
<hr/>
<h2 data-id="heading-50">æ•°æ®å­˜å‚¨æ–¹æ¡ˆ</h2>
<h3 data-id="heading-51">1. chrome.storage API</h3>
<p>Chrome Extension æä¾›äº†ä¸“é—¨çš„å­˜å‚¨ APIï¼Œæ¯” <code>localStorage</code> æ›´å¼ºå¤§ã€‚</p>
<h4 data-id="heading-52">å­˜å‚¨ç±»å‹å¯¹æ¯”</h4>





























<table><thead><tr><th>å­˜å‚¨ç±»å‹</th><th>å®¹é‡</th><th>åŒæ­¥</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>storage.local</code></td><td>10 MB</td><td>âŒ</td><td>æœ¬åœ°æ•°æ®ç¼“å­˜</td></tr><tr><td><code>storage.sync</code></td><td>100 KB</td><td>âœ…</td><td>ç”¨æˆ·è®¾ç½®ï¼ˆè·¨è®¾å¤‡åŒæ­¥ï¼‰</td></tr><tr><td><code>storage.session</code></td><td>10 MB</td><td>âŒ</td><td>ä¸´æ—¶ä¼šè¯æ•°æ®ï¼ˆMV3ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-53">åŸºç¡€ç”¨æ³•</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¿å­˜æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
  <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'John'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">30</span> },
  <span class="hljs-attr">settings</span>: { <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span> },
  <span class="hljs-attr">prices</span>: [<span class="hljs-number">520</span>, <span class="hljs-number">530</span>, <span class="hljs-number">525</span>]
});

<span class="hljs-comment">// è¯»å–æ•°æ®</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'user'</span>, <span class="hljs-string">'settings'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">user</span>);      <span class="hljs-comment">// { name: 'John', age: 30 }</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result.<span class="hljs-property">settings</span>);  <span class="hljs-comment">// { theme: 'dark' }</span>

<span class="hljs-comment">// è¯»å–æ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">const</span> allData = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-literal">null</span>);

<span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>([<span class="hljs-string">'user'</span>]);

<span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰æ•°æ®</span>
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">clear</span>();

<span class="hljs-comment">// è·å–å­˜å‚¨ä½¿ç”¨é‡</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">getBytesInUse</span>([<span class="hljs-string">'prices'</span>]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½¿ç”¨äº† <span class="hljs-subst">${bytes}</span> å­—èŠ‚`</span>);
</code></pre>
<h4 data-id="heading-54">å°è£… Storage å·¥å…·ç±»</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/storage.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StorageManager</span> {
  <span class="hljs-keyword">async</span> get&lt;T&gt;(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;T | <span class="hljs-literal">null</span>&gt; {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(key);
    <span class="hljs-keyword">return</span> result[key] ?? <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">async</span> set&lt;T&gt;(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">value</span>: T): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ [key]: value });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">remove</span>(<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>(key);
  }

  <span class="hljs-keyword">async</span> getMultiple&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;&gt;(
    <span class="hljs-attr">keys</span>: <span class="hljs-built_in">string</span>[]
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Partial</span>&lt;T&gt;&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(keys);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">setMultiple</span>(<span class="hljs-attr">items</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>(items);
  }

  <span class="hljs-title function_">onChange</span>(<span class="hljs-attr">callback</span>: <span class="hljs-function">(<span class="hljs-params">changes: <span class="hljs-built_in">any</span>, areaName: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span> {
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(callback);
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> storage = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StorageManager</span>();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> { storage } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/storage'</span>;

<span class="hljs-comment">// ä¿å­˜</span>
<span class="hljs-keyword">await</span> storage.<span class="hljs-title function_">set</span>(<span class="hljs-string">'goldPrice'</span>, { <span class="hljs-attr">price</span>: <span class="hljs-number">520</span>, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });

<span class="hljs-comment">// è¯»å–</span>
<span class="hljs-keyword">const</span> goldPrice = <span class="hljs-keyword">await</span> storage.<span class="hljs-property">get</span>&lt;{ <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span> }&gt;(<span class="hljs-string">'goldPrice'</span>);

<span class="hljs-comment">// ç›‘å¬å˜åŒ–</span>
storage.<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">changes, areaName</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (changes.<span class="hljs-property">goldPrice</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä»·æ ¼æ›´æ–°:'</span>, changes.<span class="hljs-property">goldPrice</span>.<span class="hljs-property">newValue</span>);
  }
});
</code></pre>
<h3 data-id="heading-55">2. IndexedDBï¼ˆå¤§é‡æ•°æ®ï¼‰</h3>
<p>å¯¹äºéœ€è¦å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨ IndexedDBã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/indexedDB.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">GoldPriceDB</span> {
  <span class="hljs-keyword">private</span> dbName = <span class="hljs-string">'GoldPriceExtension'</span>;
  <span class="hljs-keyword">private</span> version = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">db</span>: <span class="hljs-title class_">IDBDatabase</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span>);

      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = request.<span class="hljs-property">result</span>;
        <span class="hljs-title function_">resolve</span>();
      };

      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = (event.<span class="hljs-property">target</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">IDBOpenDBRequest</span>).<span class="hljs-property">result</span>;
        
        <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡å­˜å‚¨</span>
        <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'prices'</span>)) {
          <span class="hljs-keyword">const</span> store = db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-string">'prices'</span>, {
            <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span>,
            <span class="hljs-attr">autoIncrement</span>: <span class="hljs-literal">true</span>
          });
          
          <span class="hljs-comment">// åˆ›å»ºç´¢å¼•</span>
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'timestamp'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'brand'</span>, <span class="hljs-string">'brand'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
        }
      };
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addPrice</span>(<span class="hljs-attr">price</span>: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">number</span>&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readwrite'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">add</span>(price);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getPrices</span>(limit = <span class="hljs-number">100</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[]&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readonly'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">getAll</span>(<span class="hljs-literal">undefined</span>, limit);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getPricesByBrand</span>(<span class="hljs-attr">brand</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>[]&gt; {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>!.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'prices'</span>], <span class="hljs-string">'readonly'</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'prices'</span>);
    <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(<span class="hljs-string">'brand'</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">getAll</span>(brand);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> goldPriceDB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GoldPriceDB</span>();

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">init</span>();
<span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">addPrice</span>({
  <span class="hljs-attr">brand</span>: <span class="hljs-string">'å‘¨å¤§ç¦'</span>,
  <span class="hljs-attr">price</span>: <span class="hljs-number">520</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
});

<span class="hljs-keyword">const</span> prices = <span class="hljs-keyword">await</span> goldPriceDB.<span class="hljs-title function_">getPricesByBrand</span>(<span class="hljs-string">'å‘¨å¤§ç¦'</span>);
</code></pre>
<hr/>
<h2 data-id="heading-56">å®æˆ˜æ¡ˆä¾‹ï¼šé»„é‡‘ä»·æ ¼æŸ¥è¯¢æ‰©å±•</h2>
<p>è®©æˆ‘ä»¬æ·±å…¥åˆ†ææœ¬é¡¹ç›®çš„å®Œæ•´å®ç°ã€‚</p>
<h3 data-id="heading-57">1. é¡¹ç›®æ¶æ„</h3>
<pre><code class="hljs">æ•°æ®æµå‘ï¼š
API â†’ Service Layer â†’ Storage â†’ UI Components
 â†“         â†“             â†“          â†“
å¤–éƒ¨æ•°æ®  ä¸šåŠ¡é€»è¾‘     ç¼“å­˜å±‚    ç”¨æˆ·ç•Œé¢
</code></pre>
<h3 data-id="heading-58">2. ç±»å‹å®šä¹‰ç³»ç»Ÿ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/types.ts</span>

<span class="hljs-comment">/** é‡‘é¥°å“å“ç‰Œä»·æ ¼ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">JewelryBrand</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;        <span class="hljs-comment">// å“ç‰Œåç§°</span>
  <span class="hljs-attr">price</span>: <span class="hljs-built_in">number</span>;       <span class="hljs-comment">// ä»·æ ¼ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">change</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// æ¶¨è·Œå¹…åº¦ï¼ˆå…ƒï¼‰</span>
  <span class="hljs-attr">updateTime</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
}

<span class="hljs-comment">/** é“¶è¡Œé‡‘æ¡ä»·æ ¼ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BankGoldBar</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">bankName</span>: <span class="hljs-built_in">string</span>;    <span class="hljs-comment">// é“¶è¡Œåç§°</span>
  <span class="hljs-attr">buyPrice</span>: <span class="hljs-built_in">number</span>;    <span class="hljs-comment">// ä¹°å…¥ä»·ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">sellPrice</span>: <span class="hljs-built_in">number</span>;   <span class="hljs-comment">// å–å‡ºä»·ï¼ˆå…ƒ/å…‹ï¼‰</span>
  <span class="hljs-attr">change</span>: <span class="hljs-built_in">number</span>;      <span class="hljs-comment">// æ¶¨è·Œå¹…åº¦ï¼ˆå…ƒï¼‰</span>
  <span class="hljs-attr">updateTime</span>: <span class="hljs-built_in">string</span>;  <span class="hljs-comment">// æ›´æ–°æ—¶é—´</span>
}

<span class="hljs-comment">/** é»„é‡‘ä»·æ ¼æ•°æ® */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">GoldPriceData</span> {
  <span class="hljs-attr">jewelryBrands</span>: <span class="hljs-title class_">JewelryBrand</span>[];
  <span class="hljs-attr">bankGoldBars</span>: <span class="hljs-title class_">BankGoldBar</span>[];
  <span class="hljs-attr">lastUpdate</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">/** API å“åº”ç±»å‹ */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">BrandPriceData</span> {
  <span class="hljs-attr">brand</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">goldPrice</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">platinumPrice</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PriceResponse</span> {
  <span class="hljs-attr">status</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">data</span>: <span class="hljs-title class_">BrandPriceData</span>[];
}
</code></pre>
<h3 data-id="heading-59">3. Service Layerå®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/services/goldPriceService.ts</span>

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API_URL</span> = <span class="hljs-string">"https://chatbot-be-omega.vercel.app/api/goldPrice"</span>;

<span class="hljs-comment">// å®šä¹‰å“ç‰Œåˆ†ç±»</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">JEWELRY_BRANDS</span> = [
  <span class="hljs-string">"å‘¨å¤§ç¦"</span>, <span class="hljs-string">"è€å‡¤ç¥¥"</span>, <span class="hljs-string">"å‘¨å…­ç¦"</span>, <span class="hljs-string">"å‘¨ç”Ÿç”Ÿ"</span>, 
  <span class="hljs-string">"å…­ç¦ç å®"</span>, <span class="hljs-string">"è€åº™"</span>, <span class="hljs-string">"é‡‘è‡³å°Š"</span>, <span class="hljs-string">"èœç™¾"</span>
  <span class="hljs-comment">// ... æ›´å¤šå“ç‰Œ</span>
];

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BANK_BRANDS</span> = [<span class="hljs-string">"ä¸­å›½é»„é‡‘"</span>, <span class="hljs-string">"é«˜èµ›å°”"</span>];

<span class="hljs-comment">/**
 * ä» API è·å–é»„é‡‘ä»·æ ¼æ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGoldPriceFromAPI = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PriceResponse</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">API_URL</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> },
    });

    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`API è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    }

    <span class="hljs-keyword">const</span> <span class="hljs-attr">data</span>: <span class="hljs-title class_">PriceResponse</span> = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();

    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">status</span> !== <span class="hljs-string">"ok"</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"API è¿”å›çŠ¶æ€å¼‚å¸¸"</span>);
    }

    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è·å–é»„é‡‘ä»·æ ¼å¤±è´¥:"</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-comment">/**
 * å°† API æ•°æ®è½¬æ¢ä¸ºåº”ç”¨æ ¼å¼
 */</span>
<span class="hljs-keyword">const</span> transformAPIData = (<span class="hljs-attr">apiResponse</span>: <span class="hljs-title class_">PriceResponse</span>): <span class="hljs-function"><span class="hljs-params">GoldPriceData</span> =&gt;</span> {
  <span class="hljs-comment">// è½¬æ¢é‡‘é¥°å“æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">jewelryBrands</span>: <span class="hljs-title class_">JewelryBrand</span>[] = apiResponse.<span class="hljs-property">data</span>
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable constant_">JEWELRY_BRANDS</span>.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">brand</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-string">`jewelry-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">name</span>: item.<span class="hljs-property">brand</span>,
      <span class="hljs-attr">price</span>: item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">change</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">updateTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
        <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
      }),
    }));

  <span class="hljs-comment">// è½¬æ¢é“¶è¡Œé‡‘æ¡æ•°æ®</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">bankGoldBars</span>: <span class="hljs-title class_">BankGoldBar</span>[] = apiResponse.<span class="hljs-property">data</span>
    .<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable constant_">BANK_BRANDS</span>.<span class="hljs-title function_">includes</span>(item.<span class="hljs-property">brand</span>))
    .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
      <span class="hljs-attr">id</span>: <span class="hljs-string">`bank-<span class="hljs-subst">${index}</span>`</span>,
      <span class="hljs-attr">bankName</span>: item.<span class="hljs-property">brand</span>,
      <span class="hljs-attr">buyPrice</span>: item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">sellPrice</span>: <span class="hljs-keyword">typeof</span> item.<span class="hljs-property">platinumPrice</span> === <span class="hljs-string">"number"</span> 
        ? item.<span class="hljs-property">platinumPrice</span> 
        : item.<span class="hljs-property">goldPrice</span>,
      <span class="hljs-attr">change</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">updateTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
        <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
        <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
      }),
    }));

  <span class="hljs-keyword">const</span> lastUpdate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(apiResponse.<span class="hljs-property">timestamp</span>).<span class="hljs-title function_">toLocaleString</span>(<span class="hljs-string">"zh-CN"</span>, {
    <span class="hljs-attr">year</span>: <span class="hljs-string">"numeric"</span>,
    <span class="hljs-attr">month</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">day</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
  });

  <span class="hljs-keyword">return</span> { jewelryBrands, bankGoldBars, lastUpdate };
};

<span class="hljs-comment">/**
 * è·å–é»„é‡‘ä»·æ ¼æ•°æ®ï¼ˆå¯¹å¤–æ¥å£ï¼‰
 * å¸¦ç¼“å­˜æœºåˆ¶
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchGoldPriceData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GoldPriceData</span>&gt; =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å…ˆå°è¯•ä»ç¼“å­˜è¯»å–</span>
    <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPriceData'</span>, <span class="hljs-string">'cacheTime'</span>]);
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> cacheAge = now - (cached.<span class="hljs-property">cacheTime</span> || <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// ç¼“å­˜æœ‰æ•ˆæœŸï¼š5 åˆ†é’Ÿ</span>
    <span class="hljs-keyword">if</span> (cached.<span class="hljs-property">goldPriceData</span> &amp;&amp; cacheAge &lt; <span class="hljs-number">5</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨ç¼“å­˜æ•°æ®'</span>);
      <span class="hljs-keyword">return</span> cached.<span class="hljs-property">goldPriceData</span>;
    }

    <span class="hljs-comment">// ç¼“å­˜è¿‡æœŸï¼Œé‡æ–°è·å–</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è·å–æ–°æ•°æ®'</span>);
    <span class="hljs-keyword">const</span> apiResponse = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceFromAPI</span>();
    <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">transformAPIData</span>(apiResponse);

    <span class="hljs-comment">// ä¿å­˜åˆ°ç¼“å­˜</span>
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({
      <span class="hljs-attr">goldPriceData</span>: data,
      <span class="hljs-attr">cacheTime</span>: now
    });

    <span class="hljs-keyword">return</span> data;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è·å–å¹¶è½¬æ¢é»„é‡‘ä»·æ ¼æ•°æ®å¤±è´¥:"</span>, error);
    
    <span class="hljs-comment">// å¦‚æœæœ‰ç¼“å­˜æ•°æ®ï¼Œå³ä½¿è¿‡æœŸä¹Ÿè¿”å›</span>
    <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>([<span class="hljs-string">'goldPriceData'</span>]);
    <span class="hljs-keyword">if</span> (cached.<span class="hljs-property">goldPriceData</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'API å¤±è´¥ï¼Œä½¿ç”¨è¿‡æœŸç¼“å­˜'</span>);
      <span class="hljs-keyword">return</span> cached.<span class="hljs-property">goldPriceData</span>;
    }
    
    <span class="hljs-keyword">throw</span> error;
  }
};

<span class="hljs-comment">/**
 * å¼ºåˆ¶åˆ·æ–°æ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> refreshGoldPriceData = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">GoldPriceData</span>&gt; =&gt; {
  <span class="hljs-comment">// æ¸…é™¤ç¼“å­˜æ—¶é—´ï¼Œå¼ºåˆ¶é‡æ–°è·å–</span>
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>([<span class="hljs-string">'cacheTime'</span>]);
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
};
</code></pre>
<h3 data-id="heading-60">4. UI ç»„ä»¶å®ç°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/components/JewelryCard.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">JewelryBrand</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../types"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">JewelryCardProps</span> {
  <span class="hljs-attr">brand</span>: <span class="hljs-title class_">JewelryBrand</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">JewelryCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">JewelryCardProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ brand }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isPositive = brand.<span class="hljs-property">change</span> &gt;= <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/80 backdrop-blur-sm rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow"</span>&gt;</span>
      {/* å“ç‰Œåå’Œæ¶¨è·Œ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between mb-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-gray-800"</span>&gt;</span>{brand.name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {brand.change !== 0 &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">text-xs</span> <span class="hljs-attr">px-2</span> <span class="hljs-attr">py-0.5</span> <span class="hljs-attr">rounded-full</span> ${
              <span class="hljs-attr">isPositive</span> 
                ? "<span class="hljs-attr">bg-red-50</span> <span class="hljs-attr">text-red-600</span>" 
                <span class="hljs-attr">:</span> "<span class="hljs-attr">bg-green-50</span> <span class="hljs-attr">text-green-600</span>"
            }`}
          &gt;</span>
            {isPositive ? "+" : ""}{brand.change}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* ä»·æ ¼æ˜¾ç¤º */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-baseline"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xl font-semibold text-amber-600"</span>&gt;</span>
          Â¥{brand.price}
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 ml-1"</span>&gt;</span>/å…‹<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* æ›´æ–°æ—¶é—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-1 text-xs text-gray-400"</span>&gt;</span>
        {brand.updateTime}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/popup/components/BankCard.tsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">BankGoldBar</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"../types"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BankCardProps</span> {
  <span class="hljs-attr">bank</span>: <span class="hljs-title class_">BankGoldBar</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">BankCard</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">BankCardProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{ bank }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> isPositive = bank.<span class="hljs-property">change</span> &gt;= <span class="hljs-number">0</span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bg-white/80 backdrop-blur-sm rounded-lg p-3 shadow-sm hover:shadow-md transition-shadow"</span>&gt;</span>
      {/* é“¶è¡Œåå’Œæ¶¨è·Œ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex items-center justify-between mb-2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-sm font-medium text-gray-800"</span>&gt;</span>{bank.bankName}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        {bank.change !== 0 &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">text-xs</span> <span class="hljs-attr">px-2</span> <span class="hljs-attr">py-0.5</span> <span class="hljs-attr">rounded-full</span> ${
              <span class="hljs-attr">isPositive</span> 
                ? "<span class="hljs-attr">bg-red-50</span> <span class="hljs-attr">text-red-600</span>" 
                <span class="hljs-attr">:</span> "<span class="hljs-attr">bg-green-50</span> <span class="hljs-attr">text-green-600</span>"
            }`}
          &gt;</span>
            {isPositive ? "+" : ""}{bank.change}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* ä¹°å…¥/å–å‡ºä»·æ ¼ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex justify-between items-center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 mb-1"</span>&gt;</span>ä¹°å…¥<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold text-blue-600"</span>&gt;</span>
            Â¥{bank.buyPrice}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"h-6 w-px bg-gray-200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"flex flex-col items-end"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-xs text-gray-500 mb-1"</span>&gt;</span>å–å‡º<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-base font-semibold text-purple-600"</span>&gt;</span>
            Â¥{bank.sellPrice}
          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      
      {/* æ›´æ–°æ—¶é—´ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"mt-2 text-xs text-gray-400 text-center"</span>&gt;</span>
        {bank.updateTime}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h3 data-id="heading-61">5. å…³é”®æŠ€æœ¯ç‚¹</h3>
<h4 data-id="heading-62">é”™è¯¯å¤„ç†ä¸é™çº§ç­–ç•¥</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤šå±‚æ¬¡çš„é”™è¯¯å¤„ç†</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchWithRetry</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, retries = <span class="hljs-number">3</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Response</span>&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; retries; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
      <span class="hljs-keyword">if</span> (response.<span class="hljs-property">ok</span>) <span class="hljs-keyword">return</span> response;
      
      <span class="hljs-keyword">if</span> (i === retries - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${response.status}</span>`</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">if</span> (i === retries - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> error;
      
      <span class="hljs-comment">// æŒ‡æ•°é€€é¿</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, i) * <span class="hljs-number">1000</span>));
    }
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Max retries reached'</span>);
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchWithRetry</span>(<span class="hljs-variable constant_">API_URL</span>);
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-comment">// é™çº§åˆ°ç¼“å­˜æ•°æ®</span>
  <span class="hljs-keyword">const</span> cached = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCachedData</span>();
  <span class="hljs-keyword">if</span> (cached) <span class="hljs-keyword">return</span> cached;
  
  <span class="hljs-comment">// æ˜¾ç¤ºé”™è¯¯æç¤º</span>
  <span class="hljs-title function_">showErrorNotification</span>(error);
}
</code></pre>
<h4 data-id="heading-63">æ€§èƒ½ä¼˜åŒ–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// 1. é˜²æŠ–åˆ·æ–°</span>
<span class="hljs-keyword">function</span> debounce&lt;T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; <span class="hljs-built_in">any</span>&gt;(
  <span class="hljs-attr">func</span>: T,
  <span class="hljs-attr">wait</span>: <span class="hljs-built_in">number</span>
): <span class="hljs-function">(<span class="hljs-params">...args: Parameters&lt;T&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">timeout</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args: Parameters&lt;T&gt;</span>) {
    <span class="hljs-built_in">clearTimeout</span>(timeout);
    timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">func</span>(...args), wait);
  };
}

<span class="hljs-keyword">const</span> debouncedRefresh = <span class="hljs-title function_">debounce</span>(refreshGoldPriceData, <span class="hljs-number">1000</span>);

<span class="hljs-comment">// 2. æ•°æ®é¢„åŠ è½½</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onInstalled</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// å®‰è£…æ—¶é¢„å…ˆè·å–æ•°æ®</span>
  <span class="hljs-title function_">fetchGoldPriceData</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
});

<span class="hljs-comment">// 3. åå°å®šæ—¶æ›´æ–°</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'updatePrices'</span>, {
  <span class="hljs-attr">periodInMinutes</span>: <span class="hljs-number">30</span>
});

chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'updatePrices'</span>) {
    <span class="hljs-title function_">fetchGoldPriceData</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">error</span>);
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-64">è·¨æµè§ˆå™¨å…¼å®¹æ€§å¤„ç†</h2>
<h3 data-id="heading-65">1. ä½¿ç”¨ webextension-polyfill</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®‰è£…</span>
npm install webextension-polyfill
npm install --save-dev <span class="hljs-meta">@types</span>/webextension-polyfill

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Browser</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'webextension-polyfill'</span>;

<span class="hljs-comment">// ç»Ÿä¸€çš„ Promise é£æ ¼ API</span>
<span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Browser</span>.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'key'</span>);
<span class="hljs-keyword">const</span> tabs = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Browser</span>.<span class="hljs-property">tabs</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span> });

<span class="hljs-comment">// è‡ªåŠ¨å¤„ç†å›è°ƒè½¬ Promise</span>
<span class="hljs-title class_">Browser</span>.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">action</span>: <span class="hljs-string">'test'</span> })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response))
  .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error));
</code></pre>
<h3 data-id="heading-66">2. Vite é…ç½®å·®å¼‚</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.chrome.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">crx</span>({
      <span class="hljs-attr">manifest</span>: {
        ...baseManifest,
        <span class="hljs-attr">background</span>: {
          <span class="hljs-attr">service_worker</span>: <span class="hljs-string">'src/pages/background/index.ts'</span>,  <span class="hljs-comment">// Chrome: Service Worker</span>
          <span class="hljs-attr">type</span>: <span class="hljs-string">'module'</span>
        },
      },
      <span class="hljs-attr">browser</span>: <span class="hljs-string">'chrome'</span>,
    })
  ],
});

<span class="hljs-comment">// vite.config.firefox.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">crx</span>({
      <span class="hljs-attr">manifest</span>: {
        ...baseManifest,
        <span class="hljs-attr">background</span>: {
          <span class="hljs-attr">scripts</span>: [<span class="hljs-string">'src/pages/background/index.ts'</span>]  <span class="hljs-comment">// Firefox: Scripts Array</span>
        },
      },
      <span class="hljs-attr">browser</span>: <span class="hljs-string">'firefox'</span>,
    })
  ],
});
</code></pre>
<h3 data-id="heading-67">3. æµè§ˆå™¨ç‰¹æ€§æ£€æµ‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/browser.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getBrowserInfo</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> userAgent = navigator.<span class="hljs-property">userAgent</span>;
  
  <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Edg/'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Edge'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Chrome'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Chrome'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">true</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Firefox'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Firefox'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (userAgent.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'Safari'</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Safari'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
  }
  
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-string">'Unknown'</span>, <span class="hljs-attr">isChromium</span>: <span class="hljs-literal">false</span> };
};

<span class="hljs-comment">// æ ¹æ®æµè§ˆå™¨è°ƒæ•´è¡Œä¸º</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isSidePanel <span class="hljs-title class_">Supported</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> { name } = <span class="hljs-title function_">getBrowserInfo</span>();
  <span class="hljs-keyword">return</span> name === <span class="hljs-string">'Chrome'</span> || name === <span class="hljs-string">'Edge'</span>;
};

<span class="hljs-comment">// æ¡ä»¶æ€§ä½¿ç”¨ API</span>
<span class="hljs-keyword">if</span> (<span class="hljs-string">'sidePanel'</span> <span class="hljs-keyword">in</span> chrome) {
  chrome.<span class="hljs-property">sidePanel</span>.<span class="hljs-title function_">setOptions</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">'panel.html'</span> });
}
</code></pre>
<hr/>
<h2 data-id="heading-68">è°ƒè¯•æŠ€å·§ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-69">1. è°ƒè¯•å·¥å…·</h3>
<h4 data-id="heading-70">Background Script è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome</span>
1. æ‰“å¼€ chrome://extensions
2. æ‰¾åˆ°ä½ çš„æ‰©å±•
3. ç‚¹å‡» <span class="hljs-string">"service worker"</span> æˆ– <span class="hljs-string">"èƒŒæ™¯é¡µ"</span>
4. æ‰“å¼€ DevTools æ§åˆ¶å°

<span class="hljs-comment"># Firefox</span>
1. æ‰“å¼€ about:debugging
2. ç‚¹å‡» <span class="hljs-string">"æ£€æŸ¥"</span>
3. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
</code></pre>
<h4 data-id="heading-71">Content Script è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥åœ¨ç½‘é¡µä¸­è°ƒè¯•</span>
1. æ‰“å¼€ç›®æ ‡ç½‘é¡µ
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åœ¨ Console ä¸­å¯ä»¥çœ‹åˆ° Content Script çš„æ—¥å¿—
4. åœ¨ Sources/Debugger æ ‡ç­¾å¯ä»¥æ‰¾åˆ°æ³¨å…¥çš„è„šæœ¬
</code></pre>
<h4 data-id="heading-72">Popup è°ƒè¯•</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Chrome</span>
1. å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. é€‰æ‹© <span class="hljs-string">"æ£€æŸ¥å¼¹å‡ºå†…å®¹"</span>
3. DevTools ä¼šé™„åŠ åˆ° Popup

<span class="hljs-comment"># Firefox</span>
1. å³é”®ç‚¹å‡»æ‰©å±•å›¾æ ‡
2. é€‰æ‹© <span class="hljs-string">"è°ƒè¯•æ­¤æ‰©å±•"</span>
</code></pre>
<h3 data-id="heading-73">2. æ—¥å¿—ç³»ç»Ÿ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// utils/logger.ts</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">LogLevel</span> {
  <span class="hljs-variable constant_">DEBUG</span> = <span class="hljs-number">0</span>,
  <span class="hljs-variable constant_">INFO</span> = <span class="hljs-number">1</span>,
  <span class="hljs-variable constant_">WARN</span> = <span class="hljs-number">2</span>,
  <span class="hljs-variable constant_">ERROR</span> = <span class="hljs-number">3</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">level</span>: <span class="hljs-title class_">LogLevel</span> = <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">INFO</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">prefix</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">prefix: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span> = <span class="hljs-string">`[<span class="hljs-subst">${prefix}</span>]`</span>;
  }

  <span class="hljs-title function_">setLevel</span>(<span class="hljs-params">level: LogLevel</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> = level;
  }

  <span class="hljs-title function_">debug</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">DEBUG</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[DEBUG]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">info</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">INFO</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[INFO]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">warn</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">WARN</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[WARN]'</span>, ...args);
    }
  }

  <span class="hljs-title function_">error</span>(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">level</span> &lt;= <span class="hljs-title class_">LogLevel</span>.<span class="hljs-property">ERROR</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">prefix</span>, <span class="hljs-string">'[ERROR]'</span>, ...args);
    }
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Logger</span>(<span class="hljs-string">'GoldPrice'</span>);

<span class="hljs-comment">// ä½¿ç”¨</span>
logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">'è·å–ä»·æ ¼æ•°æ®'</span>);
logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">'API è¯·æ±‚å¤±è´¥'</span>, error);
</code></pre>
<h3 data-id="heading-74">3. æ€§èƒ½ç›‘æ§</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ€§èƒ½è®¡æ—¶</span>
<span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchGoldPriceData</span>();
<span class="hljs-keyword">const</span> endTime = performance.<span class="hljs-title function_">now</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ®è·å–è€—æ—¶: <span class="hljs-subst">${(endTime - startTime).toFixed(<span class="hljs-number">2</span>)}</span>ms`</span>);

<span class="hljs-comment">// ä½¿ç”¨ Performance API</span>
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'fetch-start'</span>);
<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
performance.<span class="hljs-title function_">mark</span>(<span class="hljs-string">'fetch-end'</span>);
performance.<span class="hljs-title function_">measure</span>(<span class="hljs-string">'fetch-duration'</span>, <span class="hljs-string">'fetch-start'</span>, <span class="hljs-string">'fetch-end'</span>);

<span class="hljs-keyword">const</span> measures = performance.<span class="hljs-title function_">getEntriesByName</span>(<span class="hljs-string">'fetch-duration'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ®è·å–è€—æ—¶: <span class="hljs-subst">${measures[<span class="hljs-number">0</span>].duration}</span>ms`</span>);
</code></pre>
<hr/>
<h2 data-id="heading-75">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-76">1. Content Script ä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸å¥½ï¼šé˜»å¡ä¸»çº¿ç¨‹</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-comment">// å¤§é‡ DOM æ“ä½œ</span>
  item.<span class="hljs-property">innerHTML</span> = <span class="hljs-title function_">generateComplexHTML</span>();
});

<span class="hljs-comment">// âœ… å¥½ï¼šæ‰¹é‡æ“ä½œï¼Œä½¿ç”¨ DocumentFragment</span>
<span class="hljs-keyword">const</span> fragment = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> newElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
  newElement.<span class="hljs-property">innerHTML</span> = <span class="hljs-title function_">generateComplexHTML</span>();
  fragment.<span class="hljs-title function_">appendChild</span>(newElement);
});
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(fragment);

<span class="hljs-comment">// âœ… æ›´å¥½ï¼šä½¿ç”¨ IntersectionObserver å»¶è¿ŸåŠ è½½</span>
<span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
  entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
      <span class="hljs-title function_">enhanceElement</span>(entry.<span class="hljs-property">target</span>);
      observer.<span class="hljs-title function_">unobserve</span>(entry.<span class="hljs-property">target</span>);
    }
  });
});

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'.item'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  observer.<span class="hljs-title function_">observe</span>(item);
});
</code></pre>
<h3 data-id="heading-77">2. èµ„æºä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»£ç åˆ†å‰²</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">loadHeavyFeature</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> <span class="hljs-variable language_">module</span> = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./heavy-feature'</span>);
  <span class="hljs-variable language_">module</span>.<span class="hljs-title function_">initialize</span>();
};

<span class="hljs-comment">// å›¾ç‰‡æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> imageUrl = chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">getURL</span>(<span class="hljs-string">'images/large-image.png'</span>);
<span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
img.<span class="hljs-property">loading</span> = <span class="hljs-string">'lazy'</span>;
img.<span class="hljs-property">src</span> = imageUrl;

<span class="hljs-comment">// å‹ç¼©æ•°æ®</span>
<span class="hljs-keyword">import</span> pako <span class="hljs-keyword">from</span> <span class="hljs-string">'pako'</span>;

<span class="hljs-comment">// ä¿å­˜æ—¶å‹ç¼©</span>
<span class="hljs-keyword">const</span> compressed = pako.<span class="hljs-title function_">deflate</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(largeData));
<span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ <span class="hljs-attr">data</span>: compressed });

<span class="hljs-comment">// è¯»å–æ—¶è§£å‹</span>
<span class="hljs-keyword">const</span> { data } = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'data'</span>);
<span class="hljs-keyword">const</span> decompressed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(pako.<span class="hljs-title function_">inflate</span>(data, { <span class="hljs-attr">to</span>: <span class="hljs-string">'string'</span> }));
</code></pre>
<h3 data-id="heading-78">3. å†…å­˜ç®¡ç†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŠæ—¶æ¸…ç†ç›‘å¬å™¨</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">listener</span>: (<span class="hljs-function">(<span class="hljs-params">changes: <span class="hljs-built_in">any</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>) | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startMonitoring</span>(<span class="hljs-params"/>) {
  listener = <span class="hljs-function">(<span class="hljs-params">changes</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Storage changed:'</span>, changes);
  };
  chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">addListener</span>(listener);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">stopMonitoring</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (listener) {
    chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">onChanged</span>.<span class="hljs-title function_">removeListener</span>(listener);
    listener = <span class="hljs-literal">null</span>;
  }
}

<span class="hljs-comment">// é™åˆ¶ç¼“å­˜å¤§å°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addToCache</span>(<span class="hljs-params">key: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cache'</span>) || {};
  <span class="hljs-keyword">const</span> cacheKeys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(cache);
  
  <span class="hljs-comment">// æœ€å¤šä¿ç•™ 100 æ¡</span>
  <span class="hljs-keyword">if</span> (cacheKeys.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">100</span>) {
    <span class="hljs-keyword">const</span> oldest = cacheKeys[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">delete</span> cache[oldest];
  }
  
  cache[key] = data;
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ cache });
}
</code></pre>
<hr/>
<h2 data-id="heading-79">æ‰“åŒ…æ„å»ºä¸å‘å¸ƒ</h2>
<h3 data-id="heading-80">1. ç”Ÿäº§æ„å»º</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»º Chrome ç‰ˆæœ¬</span>
npm run build:chrome

<span class="hljs-comment"># æ„å»º Firefox ç‰ˆæœ¬</span>
npm run build:firefox

<span class="hljs-comment"># è¾“å‡ºç›®å½•</span>
<span class="hljs-comment"># dist_chrome/   # Chrome æ‰©å±•æ–‡ä»¶</span>
<span class="hljs-comment"># dist_firefox/  # Firefox æ‰©å±•æ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-81">2. æ‰“åŒ…ä¸º ZIP</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰‹åŠ¨æ‰“åŒ…</span>
<span class="hljs-built_in">cd</span> dist_chrome
zip -r ../extension-chrome.zip *

<span class="hljs-built_in">cd</span> ../dist_firefox
zip -r ../extension-firefox.zip *

<span class="hljs-comment"># æˆ–ä½¿ç”¨è„šæœ¬</span>
npm install --save-dev archiver

// scripts/zip.js
const archiver = require(<span class="hljs-string">'archiver'</span>);
const fs = require(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">function</span> zipDirectory(<span class="hljs-built_in">source</span>, out) {
  const archive = archiver(<span class="hljs-string">'zip'</span>, { zlib: { level: 9 } });
  const stream = fs.createWriteStream(out);

  <span class="hljs-built_in">return</span> new Promise((resolve, reject) =&gt; {
    archive
      .directory(source, false)
      .on('error', reject)
      .pipe(stream);

    stream.on('close', resolve);
    archive.finalize();
  });
}

zipDirectory('./dist_chrome', './extension-chrome.zip');
</code></pre>
<h3 data-id="heading-82">3. å‘å¸ƒåˆ° Chrome Web Store</h3>
<h4 data-id="heading-83">å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p><strong>æ³¨å†Œå¼€å‘è€…è´¦å·</strong></p>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdevconsole%2F" target="_blank" title="https://chrome.google.com/webstore/devconsole/" ref="nofollow noopener noreferrer">Chrome Web Store Developer Dashboard</a></li>
<li>æ”¯ä»˜ $5 ä¸€æ¬¡æ€§æ³¨å†Œè´¹</li>
</ul>
</li>
<li>
<p><strong>å‡†å¤‡èµ„æ–™</strong></p>
<ul>
<li>æ‰©å±• ZIP æ–‡ä»¶</li>
<li>å›¾æ ‡ï¼ˆ128x128pxï¼‰</li>
<li>æˆªå›¾ï¼ˆè‡³å°‘ 1 å¼ ï¼Œ1280x800 æˆ– 640x400ï¼‰</li>
<li>æ¨å¹¿å›¾ç‰‡ï¼ˆå¯é€‰ï¼Œ440x280pxï¼‰</li>
<li>è¯¦ç»†æè¿°ï¼ˆè‹±æ–‡ï¼Œæœ€å¤š 132 å­—ç¬¦ç®€ä»‹ + è¯¦ç»†è¯´æ˜ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-84">å‘å¸ƒæµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash">1. ç™»å½• Developer Dashboard
2. ç‚¹å‡» <span class="hljs-string">"New Item"</span>
3. ä¸Šä¼  ZIP æ–‡ä»¶
4. å¡«å†™å•†åº—ä¿¡æ¯ï¼š
   - åç§°å’Œæè¿°
   - ç±»åˆ«å’Œè¯­è¨€
   - æˆªå›¾å’Œå›¾æ ‡
   - éšç§æ”¿ç­–ï¼ˆå¦‚æœä½¿ç”¨äº†ç”¨æˆ·æ•°æ®ï¼‰
5. å®šä»·å’Œåˆ†å‘ï¼š
   - å…è´¹æˆ–ä»˜è´¹
   - å‘å¸ƒåœ°åŒº
6. æäº¤å®¡æ ¸
</code></pre>
<p><strong>å®¡æ ¸æ—¶é—´ï¼š</strong> é€šå¸¸ 1-3 å¤©</p>
<h3 data-id="heading-85">4. å‘å¸ƒåˆ° Firefox Add-ons</h3>
<h4 data-id="heading-86">å‡†å¤‡å·¥ä½œ</h4>
<ol>
<li>
<p><strong>æ³¨å†Œè´¦å·ï¼ˆå…è´¹ï¼‰</strong></p>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Faddons.mozilla.org%2Fdevelopers%2F" target="_blank" title="https://addons.mozilla.org/developers/" ref="nofollow noopener noreferrer">Firefox Add-on Developer Hub</a></li>
</ul>
</li>
<li>
<p><strong>ç­¾åè¦æ±‚</strong></p>
<ul>
<li>Firefox è¦æ±‚æ‰€æœ‰æ‰©å±•å¿…é¡»ç­¾å</li>
<li>å¯ä»¥é€‰æ‹©è‡ªåŠ¨ç­¾åï¼ˆä¸ä¸Šæ¶ï¼‰æˆ–å®Œæ•´å®¡æ ¸ï¼ˆä¸Šæ¶ï¼‰</li>
</ul>
</li>
</ol>
<h4 data-id="heading-87">å‘å¸ƒæµç¨‹</h4>
<pre><code class="hljs language-bash" lang="bash">1. ç™»å½• Developer Hub
2. Submit a New Add-on
3. é€‰æ‹©åˆ†å‘æ–¹å¼ï¼š
   - On this site (å®Œæ•´å®¡æ ¸ï¼Œå…¬å¼€å‘å¸ƒ)
   - On your own (è‡ªåŠ¨ç­¾åï¼Œè‡ªè¡Œåˆ†å‘)
4. ä¸Šä¼  ZIP æ–‡ä»¶
5. å¡«å†™ä¿¡æ¯ï¼š
   - åç§°ã€æè¿°ã€åˆ†ç±»
   - ç‰ˆæœ¬è¯´æ˜
   - è®¸å¯è¯
   - éšç§æ”¿ç­–
6. æäº¤å®¡æ ¸
</code></pre>
<p><strong>å®¡æ ¸æ—¶é—´ï¼š</strong> äººå·¥å®¡æ ¸é€šå¸¸ 1-5 å¤©</p>
<h3 data-id="heading-88">5. GitHub Actions è‡ªåŠ¨åŒ–</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/release.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">and</span> <span class="hljs-string">Release</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">tags:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'v*'</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v3</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node.js</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v3</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-string">'20'</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">dependencies</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Chrome</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build:chrome</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Firefox</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">run</span> <span class="hljs-string">build:firefox</span>
      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">ZIP</span> <span class="hljs-string">files</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          cd dist_chrome &amp;&amp; zip -r ../extension-chrome.zip * &amp;&amp; cd ..
          cd dist_firefox &amp;&amp; zip -r ../extension-firefox.zip * &amp;&amp; cd ..
</span>      
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Create</span> <span class="hljs-string">Release</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">softprops/action-gh-release@v1</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">files:</span> <span class="hljs-string">|
            extension-chrome.zip
            extension-firefox.zip
</span>        <span class="hljs-attr">env:</span>
          <span class="hljs-attr">GITHUB_TOKEN:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.GITHUB_TOKEN</span> <span class="hljs-string">}}</span>
</code></pre>
<hr/>
<h2 data-id="heading-89">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-90">1. Manifest é”™è¯¯</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>Manifest version 3 is not supported</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<ul>
<li>ç¡®ä¿ Chrome ç‰ˆæœ¬ &gt;= 88</li>
<li>Firefox éœ€è¦ç‰¹æ®Šé…ç½®æ”¯æŒ MV3</li>
</ul>
<p><strong>é—®é¢˜ï¼š</strong> <code>Permission 'tabs' is not recognized</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// âŒ é”™è¯¯</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>

<span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"tabs"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"https://*/*"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-91">2. Content Script é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> Content Script æ— æ³•è®¿é—®é¡µé¢å˜é‡</p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸èƒ½ç›´æ¥è®¿é—®</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">pageVariable</span>);

<span class="hljs-comment">// âœ… é€šè¿‡ postMessage é€šä¿¡</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'GET_DATA'</span> }, <span class="hljs-string">'*'</span>);
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'DATA_RESPONSE'</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">data</span>.<span class="hljs-property">value</span>);
  }
});

<span class="hljs-comment">// é¡µé¢è„šæœ¬</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">data</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'GET_DATA'</span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">type</span>: <span class="hljs-string">'DATA_RESPONSE'</span>,
      <span class="hljs-attr">value</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageVariable</span>
    }, <span class="hljs-string">'*'</span>);
  }
});
</code></pre>
<h3 data-id="heading-92">3. CORS é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>Fetch API cannot load due to CORS policy</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// manifest.json æ·»åŠ  host_permissions</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"host_permissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"https://api.example.com/*"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æˆ–åœ¨ Background Script ä¸­ä»£ç†è¯·æ±‚</span>
<span class="hljs-comment">// Content Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-title function_">sendMessage</span>({
  <span class="hljs-attr">action</span>: <span class="hljs-string">'fetch'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://api.example.com/data'</span>
}, <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response);
});

<span class="hljs-comment">// Background Script</span>
chrome.<span class="hljs-property">runtime</span>.<span class="hljs-property">onMessage</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">request, sender, sendResponse</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">action</span> === <span class="hljs-string">'fetch'</span>) {
    <span class="hljs-title function_">fetch</span>(request.<span class="hljs-property">url</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>())
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-title function_">sendResponse</span>(data))
      .<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> <span class="hljs-title function_">sendResponse</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> }));
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¼‚æ­¥å“åº”</span>
  }
});
</code></pre>
<h3 data-id="heading-93">4. Storage é…é¢é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼š</strong> <code>QUOTA_BYTES quota exceeded</code></p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ£€æŸ¥å­˜å‚¨ä½¿ç”¨é‡</span>
<span class="hljs-keyword">const</span> bytes = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">getBytesInUse</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å·²ä½¿ç”¨: <span class="hljs-subst">${bytes}</span> / <span class="hljs-subst">${chrome.storage.local.QUOTA_BYTES}</span>`</span>);

<span class="hljs-comment">// å®šæœŸæ¸…ç†æ—§æ•°æ®</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> all = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(all);
  
  <span class="hljs-comment">// åˆ é™¤è¶…è¿‡ 7 å¤©çš„æ•°æ®</span>
  <span class="hljs-keyword">const</span> sevenDaysAgo = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>;
  <span class="hljs-keyword">const</span> toRemove = keys.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> item = all[key];
    <span class="hljs-keyword">return</span> item.<span class="hljs-property">timestamp</span> &amp;&amp; item.<span class="hljs-property">timestamp</span> &lt; sevenDaysAgo;
  });
  
  <span class="hljs-keyword">if</span> (toRemove.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">remove</span>(toRemove);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ¸…ç†äº† <span class="hljs-subst">${toRemove.length}</span> æ¡è¿‡æœŸæ•°æ®`</span>);
  }
}
</code></pre>
<h3 data-id="heading-94">5. Service Worker ç”Ÿå‘½å‘¨æœŸ</h3>
<p><strong>é—®é¢˜ï¼š</strong> Background Service Worker æ„å¤–ä¼‘çœ </p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ ä¸è¦ä¾èµ–å…¨å±€å˜é‡</span>
<span class="hljs-keyword">let</span> cache = {};  <span class="hljs-comment">// Service Worker ä¼‘çœ åä¼šä¸¢å¤±</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ chrome.storage</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCache</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'cache'</span>);
  <span class="hljs-keyword">return</span> result.<span class="hljs-property">cache</span> || {};
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">setCache</span>(<span class="hljs-params">cache</span>) {
  <span class="hljs-keyword">await</span> chrome.<span class="hljs-property">storage</span>.<span class="hljs-property">local</span>.<span class="hljs-title function_">set</span>({ cache });
}

<span class="hljs-comment">// âŒ ä¸è¦ä½¿ç”¨ setTimeout</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">doSomething</span>();
}, <span class="hljs-number">60000</span>);  <span class="hljs-comment">// å¯èƒ½ä¸ä¼šæ‰§è¡Œ</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ chrome.alarms</span>
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'task'</span>, { <span class="hljs-attr">delayInMinutes</span>: <span class="hljs-number">1</span> });
chrome.<span class="hljs-property">alarms</span>.<span class="hljs-property">onAlarm</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-function">(<span class="hljs-params">alarm</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (alarm.<span class="hljs-property">name</span> === <span class="hljs-string">'task'</span>) {
    <span class="hljs-title function_">doSomething</span>();
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-95">å‚è€ƒèµ„æ–™</h2>
<h3 data-id="heading-96">å®˜æ–¹æ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.chrome.com%2Fdocs%2Fextensions%2F" target="_blank" title="https://developer.chrome.com/docs/extensions/" ref="nofollow noopener noreferrer">Chrome Extensions æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions" target="_blank" title="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions" ref="nofollow noopener noreferrer">MDN Web Extensions</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fextensionworkshop.com%2F" target="_blank" title="https://extensionworkshop.com/" ref="nofollow noopener noreferrer">Firefox Extension Workshop</a></li>
</ul>
<h3 data-id="heading-97">å·¥å…·å’Œåº“</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcrxjs.dev%2Fvite-plugin" target="_blank" title="https://crxjs.dev/vite-plugin" ref="nofollow noopener noreferrer">@crxjs/vite-plugin</a> - Vite æ’ä»¶</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmozilla%2Fwebextension-polyfill" target="_blank" title="https://github.com/mozilla/webextension-polyfill" ref="nofollow noopener noreferrer">webextension-polyfill</a> - æµè§ˆå™¨å…¼å®¹å±‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FDefinitelyTyped%2FDefinitelyTyped%2Ftree%2Fmaster%2Ftypes%2Fchrome" target="_blank" title="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/chrome" ref="nofollow noopener noreferrer">Chrome Types</a> - TypeScript ç±»å‹å®šä¹‰</li>
</ul>
<h3 data-id="heading-98">ç¤¾åŒºèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGoogleChrome%2Fchrome-extensions-samples" target="_blank" title="https://github.com/GoogleChrome/chrome-extensions-samples" ref="nofollow noopener noreferrer">Chrome Extension Samples</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffregante%2FAwesome-WebExtensions" target="_blank" title="https://github.com/fregante/Awesome-WebExtensions" ref="nofollow noopener noreferrer">Awesome Browser Extensions</a></li>
</ul>
<h2 data-id="heading-99">æ¯æ—¥é‡‘ä»·ä»“åº“åœ°å€æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Filcherry%2Fdaily-gold-price" target="_blank" title="https://github.com/ilcherry/daily-gold-price" ref="nofollow noopener noreferrer">github.com/ilcherry/daâ€¦</a></h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQL ä¸ Clickhouse å¤šæ•°æ®æºåˆ‡æ¢æŠ€æœ¯åˆ†æ]]></title>    <link>https://juejin.cn/post/7572972346073923611</link>    <guid>https://juejin.cn/post/7572972346073923611</guid>    <pubDate>2025-11-17T03:24:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572972346073923611" data-draft-id="7572997791451955238" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQL ä¸ Clickhouse å¤šæ•°æ®æºåˆ‡æ¢æŠ€æœ¯åˆ†æ"/> <meta itemprop="keywords" content="åç«¯,MyBatis,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-11-17T03:24:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jaising666"/> <meta itemprop="url" content="https://juejin.cn/user/2418581311850301"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQL ä¸ Clickhouse å¤šæ•°æ®æºåˆ‡æ¢æŠ€æœ¯åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2418581311850301/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jaising666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:24:53.000Z" title="Mon Nov 17 2025 03:24:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é›¶ã€ä»£ç æ‘˜è¦</h2>
<p>åœ¨ Spring Boot ç­‰ç”Ÿæ€ä¸­ï¼Œå¤šæ•°æ®æºåˆ‡æ¢æ˜¯ä¸€ç§å¸¸ç”¨çš„åŸºç¡€ç»„ä»¶ï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ä½†è¦å®ç°ä¸€ä¸ªå¹¶å‘ç¨³å®šã€é²æ£’æ€§å¥½ã€é›†æˆå®¹æ˜“çš„å¤šæ•°å…ƒåˆ‡æ¢ç»„ä»¶ä¹Ÿéœ€è¦èŠ±è´¹ä¸€ç‚¹åŠŸå¤«ã€‚è¿™é‡Œç»™å‡ºä¸€äº›ä»£ç ç¤ºä¾‹åˆ†æéšè—é—®é¢˜å¹¶ç»™å‡ºä¼˜åŒ–å»ºè®®ï¼Œä¸è®ºæ˜¯é¢è¯•å€™é€‰è¿˜æ˜¯ä»£ç è¯„å®¡éƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„ç´ æã€‚</p>
<h3 data-id="heading-1">1. Clickhouse</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Clickhouse {

    String <span class="hljs-title function_">value</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
}
</code></pre>
<h3 data-id="heading-2">2. ClickhouseDatasource</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@MapperScan(basePackages = {"com.xxx.anomaly.**.mapper"}, sqlSessionFactoryRef = "SqlSessionFactory")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ClickhouseDatasource</span> {
    
    <span class="hljs-meta">@Bean(name = "defaultDatasource")</span>
    <span class="hljs-meta">@ConfigurationProperties(prefix = "spring.datasource")</span>
    <span class="hljs-meta">@Primary</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">getDefault</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> DataSourceBuilder.create().build();
    }

    <span class="hljs-meta">@Bean(name = "clickhouse")</span>
    <span class="hljs-meta">@ConfigurationProperties(prefix = "spring.clickhouse")</span>
    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">clickhouse</span><span class="hljs-params">(<span class="hljs-meta">@Qualifier("defaultDatasource")</span> DataSource defaultDatasource)</span> {
        <span class="hljs-keyword">if</span>(StringUtils.isNotEmpty(dbUrl)) {
            <span class="hljs-comment">// è·å–Clickhouseè¿æ¥å‚æ•°</span>
            <span class="hljs-keyword">return</span> balancedClickhouseDataSource;
        } <span class="hljs-keyword">else</span> {
            LOGGER.info(<span class="hljs-string">"Clickhouseæ•°æ®æºæœªé…ç½®"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-3">3. DatasourceAop</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Order(-1)</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatasourceAop</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PACKAGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"com.xxx.anomaly"</span>;

    <span class="hljs-meta">@Pointcut("execution(* com.xxx.anomaly..*.*(..))")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pointCut</span><span class="hljs-params">()</span>{};

    <span class="hljs-meta">@Before(value = "pointCut()")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeInvoke</span><span class="hljs-params">(JoinPoint joinpoint)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">String</span> <span class="hljs-variable">clazzName</span> <span class="hljs-operator">=</span> joinpoint.getTarget().getClass().getName();
            <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> joinpoint.getSignature().getName();
            <span class="hljs-keyword">if</span>(clazzName.startsWith(PACKAGE)) {  <span class="hljs-comment">// é˜²æ­¢ç¬¬ä¸‰æ–¹jaråŒ…çš„åŠ¨æ€ä»£ç†å½±å“(å¦‚mybatis)</span>
                <span class="hljs-type">Class</span> <span class="hljs-variable">targetClazz</span> <span class="hljs-operator">=</span> Class.forName(clazzName);
                Method[] methods = targetClazz.getMethods();
                <span class="hljs-keyword">for</span>(Method method : methods) {
                    <span class="hljs-keyword">if</span>(method.getName().equals(methodName)) {
                        <span class="hljs-keyword">if</span>(method.isAnnotationPresent(Clickhouse.class)) {
                            DatasourceType.setDataBaseType(DatasourceType.DataBaseType.CLICKHOUSE);
                        } <span class="hljs-keyword">else</span> {
                            DatasourceType.setDataBaseType(DatasourceType.DataBaseType.DEFAULT);
                        }
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }

    }
}

</code></pre>
<h3 data-id="heading-4">4. DatasourceType</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatasourceType</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">DataBaseType</span> {
        CLICKHOUSE,DEFAULT
    }

    <span class="hljs-comment">// ä½¿ç”¨ThreadLocalä¿è¯çº¿ç¨‹å®‰å…¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> ThreadLocal&lt;DataBaseType&gt; TYPE = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadLocal</span>&lt;DataBaseType&gt;();

    <span class="hljs-comment">// å¾€å½“å‰çº¿ç¨‹é‡Œè®¾ç½®æ•°æ®æºç±»å‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setDataBaseType</span><span class="hljs-params">(DataBaseType dataBaseType)</span> {
        <span class="hljs-keyword">if</span> (dataBaseType == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NullPointerException</span>();
        }
        <span class="hljs-comment">//System.err.println("[å°†å½“å‰æ•°æ®æºæ”¹ä¸º]ï¼š" + dataBaseType);</span>
        TYPE.set(dataBaseType);
    }

    <span class="hljs-comment">// è·å–æ•°æ®æºç±»å‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> DataBaseType <span class="hljs-title function_">getDataBaseType</span><span class="hljs-params">()</span> {
        <span class="hljs-type">DataBaseType</span> <span class="hljs-variable">dataBaseType</span> <span class="hljs-operator">=</span> TYPE.get() == <span class="hljs-literal">null</span> ? DataBaseType.DEFAULT : TYPE.get();
        <span class="hljs-comment">//System.err.println("[è·å–å½“å‰æ•°æ®æºçš„ç±»å‹ä¸º]ï¼š" + dataBaseType);</span>
        <span class="hljs-keyword">return</span> dataBaseType;
    }

    <span class="hljs-comment">// æ¸…ç©ºæ•°æ®ç±»å‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">clearDataBaseType</span><span class="hljs-params">()</span> {
        TYPE.remove();
    }
}
</code></pre>
<h3 data-id="heading-5">5. DynamicDataSource</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service("dynamicDataSource")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicDataSource</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractRoutingDataSource</span> {

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        targetDataSource.put(DatasourceType.DataBaseType.DEFAULT, defaultDatasource);
        <span class="hljs-keyword">if</span>(clickhouse != <span class="hljs-literal">null</span>) {
            targetDataSource.put(DatasourceType.DataBaseType.CLICKHOUSE, clickhouse);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> DataSource <span class="hljs-title function_">determineTargetDataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è·å–æ•°æ®æºåç§°</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">dbName</span> <span class="hljs-operator">=</span> (Object) determineCurrentLookupKey();
        <span class="hljs-keyword">if</span>(dbName == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> defaultDatasource;
        }
        <span class="hljs-keyword">if</span>(targetDataSource.get(dbName) == <span class="hljs-literal">null</span>) {
           		<span class="hljs-comment">// è·å–Clickhouseè¿æ¥å‚æ•°</span>
                <span class="hljs-keyword">return</span> balancedClickhouseDataSource;
            } <span class="hljs-keyword">else</span> {
                LOGGER.error(<span class="hljs-string">"Clickhouseæ•°æ®æºæœªé…ç½®"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> (DataSource) targetDataSource.get(dbName);
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> Object <span class="hljs-title function_">determineCurrentLookupKey</span><span class="hljs-params">()</span> {
        DatasourceType.<span class="hljs-type">DataBaseType</span> <span class="hljs-variable">dataBaseType</span> <span class="hljs-operator">=</span> DatasourceType.getDataBaseType();
        <span class="hljs-keyword">return</span> dataBaseType;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterPropertiesSet</span><span class="hljs-params">()</span> {

    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeDatasouce</span><span class="hljs-params">(Object dbName)</span> {
        <span class="hljs-keyword">if</span>(targetDataSource.containsKey(dbName)) {
            targetDataSource.remove(dbName);
        }
    }

    <span class="hljs-keyword">public</span> DataSource <span class="hljs-title function_">getDefaultDatasource</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">DataSource</span> <span class="hljs-variable">dataSource</span> <span class="hljs-operator">=</span> (DataSource) targetDataSource.get(DatasourceType.DataBaseType.DEFAULT);
            <span class="hljs-keyword">return</span> dataSource;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            LOGGER.error(e.getMessage(), e);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }
}
</code></pre>
<h3 data-id="heading-6">6. SessionFactory</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@MapperScan(basePackages = {"com.xxx.anomaly.**.mapper"}, sqlSessionFactoryRef = "SqlSessionFactory")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionFactory</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> DynamicDataSource dynamicDataSource;

    <span class="hljs-meta">@Bean("defaultTransactionManager")</span>
    <span class="hljs-meta">@Primary</span>
    <span class="hljs-keyword">public</span> DataSourceTransactionManager <span class="hljs-title function_">defaultTransactionManager</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataSourceTransactionManager</span>(dynamicDataSource);
    }

    <span class="hljs-meta">@Bean(name = "SqlSessionFactory")</span>
    <span class="hljs-keyword">public</span> MybatisSqlSessionFactoryBean <span class="hljs-title function_">sqlSessionFactory</span><span class="hljs-params">()</span>
            <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">MybatisSqlSessionFactoryBean</span> <span class="hljs-variable">sessionFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisSqlSessionFactoryBean</span>();
        sessionFactory.setDataSource(dynamicDataSource);
        <span class="hljs-type">MybatisConfiguration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisConfiguration</span>();
        configuration.setMapUnderscoreToCamelCase(<span class="hljs-literal">true</span>);
        configuration.setCallSettersOnNulls(<span class="hljs-literal">true</span>);
        sessionFactory.setConfiguration(configuration);
        <span class="hljs-keyword">if</span> (DatabaseUtil.isGuanEnv()) {
            sessionFactory.setPlugins(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Interceptor</span>[]{<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInterceptor</span>().setDialectType(<span class="hljs-string">"postgresql"</span>),<span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisLikeSqlInterceptor</span>()}); <span class="hljs-comment">// åˆ†é¡µæ’ä»¶</span>
        } <span class="hljs-keyword">else</span> {
            sessionFactory.setPlugins(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Interceptor</span>[]{<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInterceptor</span>(),<span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisLikeSqlInterceptor</span>()}); <span class="hljs-comment">// åˆ†é¡µæ’ä»¶</span>
        }
        sessionFactory.setPlugins(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Interceptor</span>[]{<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInterceptor</span>()}); <span class="hljs-comment">// åˆ†é¡µæ’ä»¶</span>
        sessionFactory.setMapperLocations(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PathMatchingResourcePatternResolver</span>().getResources(<span class="hljs-string">"classpath*:config/dao/**/*.xml"</span>));
        <span class="hljs-keyword">return</span> sessionFactory;
    }
}
</code></pre>
<h2 data-id="heading-7">ä¸€ã€æ ¸å¿ƒæ¶æ„æ¦‚è¿°</h2>
<p>æœ¬é¡¹ç›®é‡‡ç”¨ <strong>åŠ¨æ€æ•°æ®æºè·¯ç”±</strong> æ¶æ„ï¼Œæ”¯æŒåœ¨è¿è¡Œæ—¶æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªåŠ¨åˆ‡æ¢ MySQLï¼ˆé»˜è®¤ï¼‰å’Œ ClickHouse æ•°æ®æºã€‚è¯¥æ¶æ„é€šè¿‡ AOP åˆ‡é¢å’Œ Spring çš„ <code>AbstractRoutingDataSource</code> å®ç°é€æ˜çš„æ•°æ®æºåˆ‡æ¢ï¼Œæ— éœ€ä¸šåŠ¡ä»£ç æ˜¾å¼å¤„ç†æ•°æ®æºé€‰æ‹©é€»è¾‘ã€‚</p>
<h3 data-id="heading-8">1.1 å…³é”®ç»„ä»¶åŠèŒè´£</h3>
<h4 data-id="heading-9">1. <strong><code>ClickhouseDatasource</code></strong> (é…ç½®ç±»)</h4>
<ul>
<li><strong>èŒè´£</strong>ï¼šåˆå§‹åŒ–å¹¶æ³¨å†Œæ•°æ®æº Bean</li>
<li><strong>åˆ›å»ºçš„ Bean</strong>ï¼š
<ul>
<li><code>defaultDatasource</code>ï¼šä¸»æ•°æ®æºï¼ˆMySQL/PostgreSQLï¼‰ï¼Œé€šè¿‡ <code>spring.datasource.*</code> é…ç½®</li>
<li><code>clickhouse</code>ï¼šClickHouse æ•°æ®æºï¼Œä¼˜å…ˆä»æ•°æ®åº“è¡¨ <code>ums_sys_datasource_config</code> è¯»å–é…ç½®</li>
</ul>
</li>
</ul>
<h4 data-id="heading-10">2. <strong><code>DynamicDataSource</code></strong> (ç»§æ‰¿ <code>AbstractRoutingDataSource</code>)</h4>
<ul>
<li><strong>èŒè´£</strong>ï¼šå®ç°è¿è¡Œæ—¶æ•°æ®æºè·¯ç”±é€»è¾‘</li>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š
<ul>
<li>åœ¨ <code>@PostConstruct</code> é˜¶æ®µå°†å·²åˆ›å»ºçš„æ•°æ®æºç¼“å­˜åˆ° <code>targetDataSource</code> Map ä¸­</li>
<li>æ”¯æŒæ‡’åŠ è½½æœºåˆ¶ï¼šé¦–æ¬¡è®¿é—® ClickHouse æ—¶è‹¥ç¼“å­˜æœªå‘½ä¸­ï¼Œä¼šå®æ—¶æŸ¥è¯¢é…ç½®å¹¶åŠ¨æ€åˆ›å»ºæ•°æ®æº</li>
<li>é€šè¿‡ <code>determineCurrentLookupKey()</code> æ–¹æ³•è¯»å– ThreadLocal ä¸­çš„æ•°æ®æºç±»å‹æ ‡è¯†</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">3. <strong><code>DatasourceAop</code></strong> (AOP åˆ‡é¢) + <strong><code>@Clickhouse</code></strong> (æ³¨è§£)</h4>
<ul>
<li><strong>èŒè´£</strong>ï¼šæ‹¦æˆªä¸šåŠ¡æ–¹æ³•è°ƒç”¨ï¼Œæ ¹æ®æ³¨è§£è®¾ç½®æ•°æ®æºç±»å‹</li>
<li><strong>æ‹¦æˆªèŒƒå›´</strong>ï¼š<code>com.xxx.anomaly..*</code> åŒ…ä¸‹çš„æ‰€æœ‰æ–¹æ³•</li>
<li><strong>åˆ‡æ¢é€»è¾‘</strong>ï¼š
<ul>
<li>æ–¹æ³•æ ‡æ³¨ <code>@Clickhouse</code> æ³¨è§£ â†’ è®¾ç½® ThreadLocal ä¸º <code>CLICKHOUSE</code></li>
<li>æ–¹æ³•æœªæ ‡æ³¨æ³¨è§£ â†’ è®¾ç½® ThreadLocal ä¸º <code>DEFAULT</code></li>
</ul>
</li>
<li><strong>çº¿ç¨‹éš”ç¦»</strong>ï¼šé€šè¿‡ <code>ThreadLocal</code> ä¿è¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹æ•°æ®æºé€‰æ‹©äº’ä¸å¹²æ‰°</li>
</ul>
<h4 data-id="heading-12">4. <strong><code>SessionFactory</code></strong> (é…ç½®ç±»)</h4>
<ul>
<li><strong>èŒè´£</strong>ï¼šé…ç½® MyBatis é›†æˆå’Œäº‹åŠ¡ç®¡ç†</li>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š
<ul>
<li>å°† <code>DynamicDataSource</code> æ³¨å…¥åˆ° MyBatis çš„ <code>SqlSessionFactory</code></li>
<li>é…ç½® <code>DataSourceTransactionManager</code> äº‹åŠ¡ç®¡ç†å™¨</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-13">äºŒã€æ•°æ®æºåŠ è½½å®Œæ•´æµç¨‹</h2>
<h3 data-id="heading-14">2.1 é˜¶æ®µ 1ï¼šSpring Boot å¯åŠ¨ä¸é»˜è®¤æ•°æ®æºé…ç½®ç»‘å®š</h3>
<p>æ­¤é˜¶æ®µå®Œæˆé»˜è®¤æ•°æ®æºï¼ˆMySQL/PostgreSQLï¼‰çš„åˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-java" lang="java">Spring Boot åº”ç”¨å¯åŠ¨
    â†“
EnvironmentPostProcessor å¤„ç†é…ç½®æ–‡ä»¶ï¼ˆapplication.ymlï¼‰
    â†“
Binder ç»‘å®š spring.datasource.* å±æ€§åˆ°æ•°æ®æºé…ç½®å¯¹è±¡
    â†“
DataSourceBuilder è‡ªåŠ¨åˆ›å»º defaultDatasource <span class="hljs-title function_">Bean</span>
    <span class="hljs-params">(é»˜è®¤ä¼˜å…ˆé€‰æ‹© HikariDataSource ä½œä¸ºè¿æ¥æ± å®ç°)</span>
</code></pre>
<p><strong>å…³é”®æºç ä½ç½®ï¼š</strong></p>
<ul>
<li><code>ClickhouseDatasource.java</code> ç¬¬ 63-68 è¡Œ</li>
</ul>
<p><strong>æŠ€æœ¯è¯´æ˜ï¼š</strong></p>
<ul>
<li>Spring Boot çš„è‡ªåŠ¨é…ç½®æœºåˆ¶ä¼šæ ¹æ® classpath ä¸­çš„ä¾èµ–è‡ªåŠ¨é€‰æ‹©è¿æ¥æ± å®ç°</li>
<li>HikariCP æ˜¯ Spring Boot 2.x é»˜è®¤çš„é«˜æ€§èƒ½è¿æ¥æ± ï¼Œ1.x ä¸­éœ€è¦é¢å¤–æ·»åŠ è¯¥ä¾èµ–</li>
</ul>
<hr/>
<h3 data-id="heading-15">2.2 é˜¶æ®µ 2ï¼šClickHouse æ•°æ®æºåŠ¨æ€åˆ›å»º</h3>
<p>æ­¤é˜¶æ®µæ ¹æ®æ•°æ®åº“é…ç½®è¡¨æˆ–é…ç½®æ–‡ä»¶åˆ›å»º ClickHouse æ•°æ®æºï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Spring å®¹å™¨åˆå§‹åŒ– <span class="hljs-variable">@Configuration</span> ç±»
    â†“
æ‰§è¡Œ clickhouse() Bean æ–¹æ³•
    â†“
ä½¿ç”¨ defaultDatasource æŸ¥è¯¢é…ç½®è¡¨
    â†“
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> ums_sys_datasource_config 
<span class="hljs-keyword">WHERE</span> moudle_name<span class="hljs-operator">=</span><span class="hljs-string">'general'</span> <span class="hljs-keyword">AND</span> status<span class="hljs-operator">=</span><span class="hljs-number">1</span>
    â†“
æ ¹æ®é…ç½®ä¼˜å…ˆçº§å†³å®šæ•°æ®æºé…ç½®æ¥æº
    â†“
åˆ›å»º BalancedClickhouseDataSource å®ä¾‹
    â”œâ”€ è®¾ç½®è¿æ¥æ± å‚æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°ã€è¶…æ—¶ç­‰ï¼‰
    â”œâ”€ scheduleActualization(<span class="hljs-number">10</span>s) <span class="hljs-operator">-</span> å®šæœŸåˆ·æ–°èŠ‚ç‚¹çŠ¶æ€
    â””â”€ withConnectionsCleaning(<span class="hljs-number">10</span>s) <span class="hljs-operator">-</span> å®šæœŸæ¸…ç†æ— æ•ˆè¿æ¥
</code></pre>
<p><strong>å…³é”®æºç ä½ç½®ï¼š</strong></p>
<ul>
<li><code>ClickhouseDatasource.java</code> ç¬¬ 70-113 è¡Œ</li>
</ul>
<p><strong>é…ç½®ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š</strong></p>
<ol>
<li>æ•°æ®åº“è¡¨ <code>ums_sys_datasource_config</code> ä¸­çš„é…ç½®</li>
<li><code>application.yml</code> ä¸­çš„ <code>spring.clickhouse.*</code> é™æ€é…ç½®</li>
<li>è‹¥ä»¥ä¸Šå‡æ— é…ç½®ï¼Œåˆ™è¿”å› <code>null</code>ï¼ˆClickHouse æ•°æ®æºä¸å¯ç”¨ï¼‰</li>
</ol>
<p><strong>è®¾è®¡ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>é™çº§æœºåˆ¶ï¼šä¼˜å…ˆä½¿ç”¨æ•°æ®åº“é…ç½®ï¼Œé€€è€Œä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä¿è¯çµæ´»æ€§</li>
</ul>
<hr/>
<h3 data-id="heading-16">2.3 é˜¶æ®µ 3ï¼šåŠ¨æ€æ•°æ®æºåˆå§‹åŒ–ä¸ç¼“å­˜</h3>
<p>æ­¤é˜¶æ®µå°†æ‰€æœ‰æ•°æ®æºæ³¨å†Œåˆ° <code>DynamicDataSource</code> çš„å†…éƒ¨ç¼“å­˜ä¸­ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-type">DynamicDataSource</span> <span class="hljs-type">Bean</span> åˆ›å»º
    <span class="hljs-operator">â†“</span>
<span class="hljs-meta">@PostConstruct</span> <span class="hljs-keyword">init</span>() æ–¹æ³•æ‰§è¡Œ
    <span class="hljs-operator">â†“</span>
targetDataSource.put(<span class="hljs-type">DEFAULT</span>, defaultDatasource) <span class="hljs-operator">-</span> æ³¨å†Œé»˜è®¤æ•°æ®æº
    <span class="hljs-operator">â†“</span>
<span class="hljs-keyword">if</span> (clickhouse <span class="hljs-operator">!=</span> null)
    targetDataSource.put(<span class="hljs-type">CLICKHOUSE</span>, clickhouse) <span class="hljs-operator">-</span> æ³¨å†Œ <span class="hljs-type">ClickHouse</span> æ•°æ®æº
    <span class="hljs-operator">â†“</span>
setTargetDataSources(targetDataSource) <span class="hljs-operator">-</span> è®¾ç½®åˆ°çˆ¶ç±»
    <span class="hljs-operator">â†“</span>
afterPropertiesSet() <span class="hljs-operator">-</span> å®Œæˆåˆå§‹åŒ–
</code></pre>
<p><strong>å…³é”®æºç ä½ç½®ï¼š</strong></p>
<ul>
<li><code>DynamicDataSource.java</code> ç¬¬ 61-67 è¡Œ</li>
</ul>
<p><strong>æŠ€æœ¯ç»†èŠ‚ï¼š</strong></p>
<ul>
<li><code>targetDataSource</code> æ˜¯ä¸€ä¸ª Mapï¼Œkey ä¸ºæ•°æ®æºç±»å‹æšä¸¾ï¼Œvalue ä¸ºå®é™…çš„ DataSource å¯¹è±¡</li>
<li>æ­¤é˜¶æ®µå®Œæˆåï¼Œæ•°æ®æºå·²å°±ç»ªï¼Œç­‰å¾…è¿è¡Œæ—¶è·¯ç”±è°ƒç”¨</li>
</ul>
<hr/>
<h3 data-id="heading-17">2.4 é˜¶æ®µ 4ï¼šè¿è¡Œæ—¶æ•°æ®æºåŠ¨æ€è·¯ç”±</h3>
<p>æ­¤é˜¶æ®µæ˜¯æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œæ¯æ¬¡æ–¹æ³•è°ƒç”¨æ—¶éƒ½ä¼šæ‰§è¡Œæ•°æ®æºè·¯ç”±åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">ä¸šåŠ¡æ–¹æ³•è°ƒç”¨
    â†“
DatasourceAop åˆ‡é¢æ‹¦æˆªï¼ˆ<span class="hljs-variable">@Before</span> é€šçŸ¥ï¼‰
    â†“
æ£€æŸ¥æ–¹æ³•æ˜¯å¦æ ‡æ³¨ <span class="hljs-variable">@Clickhouse</span> æ³¨è§£
    â”œâ”€ æœ‰æ³¨è§£ï¼šDatasourceType.set(CLICKHOUSE) â†’ å†™å…¥ ThreadLocal
    â””â”€ æ— æ³¨è§£ï¼šDatasourceType.set(<span class="hljs-keyword">DEFAULT</span>) â†’ å†™å…¥ ThreadLocal
    â†“
MyBatis æ‰§è¡Œ Mapper æ–¹æ³•
    â†“
SqlSessionFactory éœ€è¦è·å–æ•°æ®åº“è¿æ¥
    â†“
è°ƒç”¨ DynamicDataSource.determineCurrentLookupKey()
    â””â”€ ä» ThreadLocal è¯»å–æ•°æ®æºç±»å‹ï¼ˆCLICKHOUSE æˆ– <span class="hljs-keyword">DEFAULT</span>ï¼‰
    â†“
è°ƒç”¨ DynamicDataSource.determineTargetDataSource()
    â””â”€ æ ¹æ®æ•°æ®æºç±»å‹ä» targetDataSource ç¼“å­˜æŸ¥æ‰¾
    â†“
ç¼“å­˜æŸ¥æ‰¾ç»“æœåˆ¤æ–­
    â”œâ”€ ç¼“å­˜å‘½ä¸­ï¼šç›´æ¥è¿”å›å·²ç¼“å­˜çš„æ•°æ®æºå¯¹è±¡
    â””â”€ ç¼“å­˜æœªå‘½ä¸­ä¸”ç±»å‹ä¸º CLICKHOUSEï¼ˆæ‡’åŠ è½½åœºæ™¯ï¼‰ï¼š
        â”œâ”€ æŸ¥è¯¢æ•°æ®åº“é…ç½®è¡¨ ums_sys_datasource_config
        â”œâ”€ åˆ›å»ºæ–°çš„ BalancedClickhouseDataSource å®ä¾‹
        â”œâ”€ æ”¾å…¥ targetDataSource ç¼“å­˜
        â””â”€ è¿”å›æ–°åˆ›å»ºçš„æ•°æ®æº
    â†“
ä»ç›®æ ‡æ•°æ®æºè·å– Connection å¯¹è±¡
    â†“
MyBatis é€šè¿‡ Connection æ‰§è¡Œ <span class="hljs-keyword">SQL</span> è¯­å¥
    â†“
<span class="hljs-keyword">SQL</span> è·¯ç”±åˆ°å¯¹åº”æ•°æ®åº“ï¼ˆMySQL æˆ– ClickHouseï¼‰
</code></pre>
<p><strong>å…³é”®æºç ä½ç½®ï¼š</strong></p>
<ul>
<li><code>DatasourceAop.java</code> ç¬¬ 31-54 è¡Œï¼ˆAOP æ‹¦æˆªé€»è¾‘ï¼‰</li>
<li><code>DynamicDataSource.java</code> ç¬¬ 70-120 è¡Œï¼ˆæ•°æ®æºè·¯ç”±ä¸æ‡’åŠ è½½é€»è¾‘ï¼‰</li>
</ul>
<p><strong>æŠ€æœ¯è¦ç‚¹ï¼š</strong></p>
<ul>
<li><strong>ThreadLocal éš”ç¦»</strong>ï¼šæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹ç»´æŠ¤æ•°æ®æºç±»å‹ï¼Œä¿è¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹äº’ä¸å¹²æ‰°</li>
<li><strong>æ‡’åŠ è½½æœºåˆ¶</strong>ï¼šClickHouse æ•°æ®æºæ”¯æŒè¿è¡Œæ—¶åŠ¨æ€åˆ›å»º</li>
<li><strong>é€æ˜è·¯ç”±</strong>ï¼šä¸šåŠ¡ä»£ç æ— æ„ŸçŸ¥ï¼Œä»…é€šè¿‡æ³¨è§£æ§åˆ¶æ•°æ®æºé€‰æ‹©</li>
</ul>
<h3 data-id="heading-18">2.5 æ—¶åºå›¾</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    autonumber
    participant Boot as Spring Boot
    participant Cfg as ClickhouseDatasource
    participant Dyn as DynamicDataSource
    participant AOP as DatasourceAop
    participant MyB as MyBatis
    participant DB as MySQL
    participant CH as ClickHouse

    Boot-&gt;&gt;Cfg: åŠ è½½ @Configuration
    Cfg-&gt;&gt;DB: æŸ¥è¯¢ ums_sys_datasource_config
    DB--&gt;&gt;Cfg: è¿”å› CH é…ç½®
    Cfg-&gt;&gt;Cfg: åˆ›å»º BalancedClickhouseDataSource
    Cfg--&gt;&gt;Boot: æ³¨å†Œ clickhouse Bean

    Boot-&gt;&gt;Dyn: åˆ›å»º DynamicDataSource
    Dyn-&gt;&gt;Dyn: @PostConstruct åˆå§‹åŒ–ç¼“å­˜
    Dyn--&gt;&gt;Boot: åˆå§‹åŒ–å®Œæˆ

    Note over AOP,MyB: === è¿è¡Œæ—¶è°ƒç”¨ ===

    AOP-&gt;&gt;AOP: æ‹¦æˆªæ–¹æ³•è°ƒç”¨
    alt æ–¹æ³•æœ‰ @Clickhouse
        AOP-&gt;&gt;Dyn: ThreadLocal.set(CLICKHOUSE)
    else æ— æ³¨è§£
        AOP-&gt;&gt;Dyn: ThreadLocal.set(DEFAULT)
    end

    MyB-&gt;&gt;Dyn: getConnection()
    Dyn-&gt;&gt;Dyn: determineTargetDataSource()

    alt ç¼“å­˜å‘½ä¸­
        Dyn--&gt;&gt;MyB: è¿”å›å·²ç¼“å­˜æ•°æ®æº
    else ç¼“å­˜æœªå‘½ä¸­ (æ‡’åŠ è½½)
        Dyn-&gt;&gt;DB: å†æ¬¡æŸ¥è¯¢é…ç½®
        Dyn-&gt;&gt;Dyn: åˆ›å»ºæ•°æ®æºå¹¶ç¼“å­˜
        Dyn--&gt;&gt;MyB: è¿”å›æ–°æ•°æ®æº
    end

    alt ä½¿ç”¨ DEFAULT
        MyB-&gt;&gt;DB: æ‰§è¡Œ SQL
    else ä½¿ç”¨ CLICKHOUSE
        MyB-&gt;&gt;CH: æ‰§è¡Œ SQL
    end
</code></pre>
<h4 data-id="heading-19">æ—¶åºå›¾æµç¨‹è¯¦è§£</h4>
<p><strong>é˜¶æ®µä¸€ï¼šSpring Boot åº”ç”¨å¯åŠ¨ä¸åˆå§‹åŒ–ï¼ˆæ­¥éª¤ 1-8ï¼‰</strong></p>
<ol>
<li><strong>åŠ è½½é…ç½®ç±»</strong>ï¼šSpring Boot å¯åŠ¨æ—¶æ‰«æå¹¶åŠ è½½ <code>@Configuration</code> æ³¨è§£çš„ <code>ClickhouseDatasource</code> é…ç½®ç±»</li>
<li><strong>æŸ¥è¯¢ ClickHouse é…ç½®</strong>ï¼š<code>ClickhouseDatasource</code> Bean æ–¹æ³•æ‰§è¡Œï¼Œä½¿ç”¨é»˜è®¤æ•°æ®æºï¼ˆMySQLï¼‰æŸ¥è¯¢é…ç½®è¡¨ <code>ums_sys_datasource_config</code>ï¼Œè·å– ClickHouse çš„è¿æ¥å‚æ•°</li>
<li><strong>è¿”å›é…ç½®ä¿¡æ¯</strong>ï¼šæ•°æ®åº“è¿”å› ClickHouse çš„ JDBC URLã€ç”¨æˆ·åã€å¯†ç ã€è¿æ¥æ± å‚æ•°ç­‰é…ç½®</li>
<li><strong>åˆ›å»º ClickHouse æ•°æ®æº</strong>ï¼šæ ¹æ®æŸ¥è¯¢åˆ°çš„é…ç½®åˆ›å»º <code>BalancedClickhouseDataSource</code> å®ä¾‹ï¼Œå¹¶è®¾ç½®è¿æ¥æ± å‚æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°ã€è¶…æ—¶æ—¶é—´ç­‰ï¼‰</li>
<li><strong>æ³¨å†Œ Bean</strong>ï¼šå°†åˆ›å»ºå¥½çš„ ClickHouse æ•°æ®æºæ³¨å†Œä¸º Spring Beanï¼ˆåç§°ï¼š<code>clickhouse</code>ï¼‰</li>
<li><strong>åˆ›å»ºåŠ¨æ€æ•°æ®æº</strong>ï¼šSpring å®¹å™¨åˆ›å»º <code>DynamicDataSource</code> Bean</li>
<li><strong>åˆå§‹åŒ–æ•°æ®æºç¼“å­˜</strong>ï¼š<code>DynamicDataSource</code> çš„ <code>@PostConstruct</code> æ–¹æ³•æ‰§è¡Œï¼Œå°† <code>defaultDatasource</code> å’Œ <code>clickhouse</code> ä¸¤ä¸ªæ•°æ®æºæ”¾å…¥å†…éƒ¨ <code>targetDataSource</code> ç¼“å­˜ Map ä¸­</li>
<li><strong>åˆå§‹åŒ–å®Œæˆ</strong>ï¼šæ‰€æœ‰æ•°æ®æºåˆå§‹åŒ–å®Œæˆï¼Œåº”ç”¨å¯åŠ¨æˆåŠŸï¼Œè¿›å…¥å°±ç»ªçŠ¶æ€</li>
</ol>
<p><strong>é˜¶æ®µäºŒï¼šè¿è¡Œæ—¶åŠ¨æ€æ•°æ®æºè·¯ç”±ï¼ˆæ­¥éª¤ 9-22ï¼‰</strong></p>
<ol start="9">
<li><strong>æ‹¦æˆªæ–¹æ³•è°ƒç”¨</strong>ï¼šä¸šåŠ¡æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ<code>DatasourceAop</code> åˆ‡é¢æ‹¦æˆª <code>com.xxx.anomaly..*</code> åŒ…ä¸‹çš„æ‰€æœ‰æ–¹æ³•
10-12. <strong>åˆ¤æ–­æ³¨è§£å¹¶è®¾ç½®æ•°æ®æºç±»å‹</strong>ï¼š
<ul>
<li>å¦‚æœæ–¹æ³•æ ‡æ³¨äº† <code>@Clickhouse</code> æ³¨è§£ â†’ é€šè¿‡ <code>ThreadLocal</code> è®¾ç½®æ•°æ®æºç±»å‹ä¸º <code>CLICKHOUSE</code></li>
<li>å¦‚æœæ–¹æ³•æœªæ ‡æ³¨æ³¨è§£ â†’ è®¾ç½®æ•°æ®æºç±»å‹ä¸º <code>DEFAULT</code>ï¼ˆMySQLï¼‰</li>
</ul>
</li>
<li><strong>è·å–æ•°æ®åº“è¿æ¥</strong>ï¼šMyBatis é€šè¿‡ <code>DynamicDataSource</code> è¯·æ±‚è·å–æ•°æ®åº“è¿æ¥</li>
<li><strong>ç¡®å®šç›®æ ‡æ•°æ®æº</strong>ï¼š<code>DynamicDataSource.determineTargetDataSource()</code> æ–¹æ³•æ ¹æ® ThreadLocal ä¸­çš„æ•°æ®æºç±»å‹æ ‡è¯†æŸ¥æ‰¾å®é™…æ•°æ®æº
15-17. <strong>ç¼“å­˜å‘½ä¸­åœºæ™¯</strong>ï¼š</li>
</ol>
<ul>
<li>ä» <code>targetDataSource</code> ç¼“å­˜ä¸­æŸ¥æ‰¾å¯¹åº”æ•°æ®æº</li>
<li>å¦‚æœç¼“å­˜å‘½ä¸­ï¼Œç›´æ¥è¿”å›å·²ç¼“å­˜çš„æ•°æ®æºå®ä¾‹ï¼ˆå¸¸è§„åœºæ™¯ï¼‰
18-20. <strong>æ‡’åŠ è½½åœºæ™¯</strong>ï¼ˆç¼“å­˜æœªå‘½ä¸­ï¼‰ï¼š</li>
<li>å¦‚æœç¼“å­˜ä¸­æ²¡æœ‰ ClickHouse æ•°æ®æºï¼ˆä¾‹å¦‚é…ç½®åŠ¨æ€æ›´æ–°åç¼“å­˜è¢«æ¸…é™¤ï¼‰</li>
<li>å†æ¬¡æŸ¥è¯¢æ•°æ®åº“é…ç½®è¡¨è·å–æœ€æ–°é…ç½®</li>
<li>åˆ›å»ºæ–°çš„ ClickHouse æ•°æ®æºå®ä¾‹</li>
<li>å°†æ–°æ•°æ®æºæ”¾å…¥ç¼“å­˜ï¼Œé¿å…é‡å¤åˆ›å»º</li>
<li>è¿”å›æ–°æ•°æ®æºç»™ MyBatis
21-22. <strong>æ‰§è¡Œ SQL è¯­å¥</strong>ï¼š</li>
<li>å¦‚æœä½¿ç”¨ <code>DEFAULT</code> æ•°æ®æº â†’ SQL è¯­å¥è·¯ç”±åˆ° MySQL æ‰§è¡Œ</li>
<li>å¦‚æœä½¿ç”¨ <code>CLICKHOUSE</code> æ•°æ®æº â†’ SQL è¯­å¥è·¯ç”±åˆ° ClickHouse æ‰§è¡Œ</li>
</ul>
<p><strong>æ¶æ„è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ‡’åŠ è½½æœºåˆ¶</strong>ï¼šClickHouse æ•°æ®æºæ”¯æŒæ‡’åŠ è½½ï¼Œé¦–æ¬¡è®¿é—®æˆ–é…ç½®æ›´æ–°åä¼šåŠ¨æ€åˆ›å»ºï¼Œæé«˜çµæ´»æ€§</li>
<li><strong>ThreadLocal çº¿ç¨‹éš”ç¦»</strong>ï¼šé€šè¿‡ ThreadLocal ä¿è¯å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¸åŒçº¿ç¨‹çš„æ•°æ®æºé€‰æ‹©äº’ä¸å¹²æ‰°</li>
<li><strong>é…ç½®çƒ­æ›´æ–°æ”¯æŒ</strong>ï¼šé€šè¿‡ <code>removeDatasouce()</code> æ–¹æ³•æ¸…é™¤ç¼“å­˜ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨åŠ è½½æœ€æ–°é…ç½®ï¼Œæ— éœ€é‡å¯åº”ç”¨</li>
<li><strong>é€æ˜è·¯ç”±</strong>ï¼šä¸šåŠ¡ä»£ç æ— éœ€å…³å¿ƒæ•°æ®æºåˆ‡æ¢é€»è¾‘ï¼Œä»…é€šè¿‡æ³¨è§£å£°æ˜å¼æ§åˆ¶</li>
</ul>
<hr/>
<h2 data-id="heading-20">ä¸‰ã€å·²çŸ¥é—®é¢˜ä¸é£é™©åˆ†æ</h2>
<h3 data-id="heading-21">3.1 é—®é¢˜ 1ï¼šThreadLocal å†…å­˜æ³„æ¼é£é™©</h3>
<h4 data-id="heading-22">é—®é¢˜æ ¹æº</h4>
<p>æŸ¥çœ‹å½“å‰ <code>DatasourceAop.java</code> çš„å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Before(value = "pointCut()")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeInvoke</span><span class="hljs-params">(JoinPoint joinpoint)</span> {
    <span class="hljs-comment">// ... çœç•¥å…¶ä»–ä»£ç </span>
    <span class="hljs-keyword">if</span> (method.isAnnotationPresent(Clickhouse.class)) {
        DatasourceType.setDataBaseType(DataBaseType.CLICKHOUSE);
    } <span class="hljs-keyword">else</span> {
        DatasourceType.setDataBaseType(DataBaseType.DEFAULT);
    }
}
</code></pre>
<p><strong>ä»£ç ç¼ºé™·åˆ†æï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨ <code>@Before</code> é€šçŸ¥åœ¨æ–¹æ³•æ‰§è¡Œå‰è®¾ç½®æ•°æ®æºç±»å‹</li>
<li>âŒ <strong>ç¼ºå°‘æ¸…ç†æœºåˆ¶</strong>ï¼šæ²¡æœ‰å¯¹åº”çš„ <code>@After</code> æˆ– <code>@AfterReturning</code> / <code>@AfterThrowing</code> æ¸…ç† ThreadLocal</li>
<li>âŒ <strong>æœªè°ƒç”¨æ¸…ç†æ–¹æ³•</strong>ï¼šè™½ç„¶ <code>DatasourceType.clearDataBaseType()</code> æ–¹æ³•å·²å®šä¹‰ï¼Œä½†ä»æœªè¢«è°ƒç”¨</li>
</ul>
<h4 data-id="heading-23">é—®é¢˜å±å®³ä¸åœºæ™¯åˆ†æ</h4>
<p>åœ¨ Web åº”ç”¨çš„çº¿ç¨‹æ± ç¯å¢ƒï¼ˆå¦‚ Tomcat çº¿ç¨‹æ± ï¼‰ä¸­ï¼Œçº¿ç¨‹ä¼šè¢«å¤ç”¨ï¼Œå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p><strong>åœºæ™¯æ—¶åºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">æ—¶åˆ» T1ï¼šçº¿ç¨‹ Thread<span class="hljs-number">-1</span> æ‰§è¡Œæ ‡æ³¨ <span class="hljs-variable">@Clickhouse</span> çš„æ–¹æ³•
    â†’ ThreadLocal è¢«è®¾ç½®ä¸º CLICKHOUSE
    â†’ <span class="hljs-keyword">SQL</span> æ­£ç¡®è·¯ç”±åˆ° ClickHouse æ‰§è¡Œ âœ…
    â†’ æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œä½† ThreadLocal æœªæ¸…ç† âŒ
    â†’ çº¿ç¨‹è¿”å›çº¿ç¨‹æ± 

æ—¶åˆ» T2ï¼šçº¿ç¨‹ Thread<span class="hljs-number">-1</span> è¢«å¤ç”¨ï¼Œæ‰§è¡Œæœªæ ‡æ³¨ <span class="hljs-variable">@Clickhouse</span> çš„æ­£å¸¸æ–¹æ³•
    â†’ AOP æ‹¦æˆªï¼Œå°† ThreadLocal è®¾ç½®ä¸º <span class="hljs-keyword">DEFAULT</span>
    â†’ <span class="hljs-keyword">SQL</span> æ­£ç¡®è·¯ç”±åˆ° MySQL âœ…
    â†’ çœ‹ä¼¼æ­£å¸¸è¿è¡Œ

æ—¶åˆ» T3ï¼šçº¿ç¨‹ Thread<span class="hljs-number">-1</span> å†æ¬¡è¢«å¤ç”¨ï¼Œæ‰§è¡Œæœªæ ‡æ³¨æ³¨è§£çš„æ–¹æ³•
    â†’ ä½†å‰ä¸€æ¬¡è¯·æ±‚å› å¼‚å¸¸ä¸­æ–­ï¼ŒAOP çš„ <span class="hljs-variable">@Before</span> æœªæ‰§è¡Œ
    â†’ ThreadLocal ä¸­æ®‹ç•™ä¸Šæ¬¡çš„ CLICKHOUSE æ ‡è¯† âŒ
    â†’ æœ¬åº”è·¯ç”±åˆ° MySQL çš„ä¸šåŠ¡è¯·æ±‚è¯¯è·¯ç”±åˆ° ClickHouse
    â†’ å¯¼è‡´ä¸¥é‡é—®é¢˜ï¼š
        âœ— æŸ¥è¯¢å¤±è´¥ï¼ˆClickHouse ä¸­ä¸å­˜åœ¨å¯¹åº”çš„ä¸šåŠ¡è¡¨ï¼‰
        âœ— æ•°æ®å†™å…¥é”™è¯¯çš„æ•°æ®åº“
        âœ— äº‹åŠ¡ç®¡ç†å¼‚å¸¸
        âœ— æ•°æ®ä¸€è‡´æ€§è¢«ç ´å
</code></pre>
<p><strong>é£é™©ç­‰çº§ï¼šé«˜</strong> - å¯èƒ½å¯¼è‡´æ•°æ®é”™è¯¯å’Œä¸šåŠ¡å¼‚å¸¸</p>
<hr/>
<h3 data-id="heading-24">3.2 é—®é¢˜ 2ï¼šå¹¶å‘åœºæ™¯ä¸‹çš„æ•°æ®æºç¼“å­˜ç«æ€æ¡ä»¶</h3>
<h4 data-id="heading-25">é—®é¢˜æ ¹æº</h4>
<p>æŸ¥çœ‹ <code>DynamicDataSource.determineTargetDataSource()</code> æ‡’åŠ è½½é€»è¾‘ï¼ˆç¬¬ 77-111 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span>(targetDataSource.get(dbName) == <span class="hljs-literal">null</span>) {
    <span class="hljs-comment">// é€šè¿‡æ•°æ®åº“è·å– ClickHouse æ•°æ®æºçš„é…ç½®å¹¶åˆ›å»ºæ•°æ®æº</span>
    <span class="hljs-type">JdbcTemplate</span> <span class="hljs-variable">jdbcTemplate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JdbcTemplate</span>();
    <span class="hljs-comment">// ... æŸ¥è¯¢æ•°æ®åº“é…ç½®</span>
    <span class="hljs-type">BalancedClickhouseDataSource</span> <span class="hljs-variable">balancedClickhouseDataSource</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BalancedClickhouseDataSource</span>(dbUrl, properties);
    targetDataSource.put(DatasourceType.DataBaseType.CLICKHOUSE, balancedClickhouseDataSource);
    <span class="hljs-keyword">return</span> balancedClickhouseDataSource;
}
</code></pre>
<p><strong>ä»£ç ç¼ºé™·åˆ†æï¼š</strong></p>
<ul>
<li>âŒ <code>targetDataSource</code> ä½¿ç”¨æ™®é€šçš„ <code>HashMap</code>ï¼ˆéçº¿ç¨‹å®‰å…¨å®¹å™¨ï¼‰</li>
<li>âŒ <strong>æ‡’åŠ è½½é€»è¾‘æ— åŒæ­¥æ§åˆ¶</strong>ï¼šå¤šçº¿ç¨‹å¹¶å‘è®¿é—®æ—¶æ— é”ä¿æŠ¤</li>
<li>âŒ <strong>Check-Then-Act ç«æ€æ¡ä»¶</strong>ï¼š<code>get(dbName) == null</code> åˆ¤æ–­ä¸ <code>put()</code> æ“ä½œä¹‹é—´éåŸå­</li>
</ul>
<p><strong>å¹¶å‘é—®é¢˜åœºæ™¯ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">æ—¶åˆ»</span> <span class="hljs-string">T0ï¼šClickHouse</span> <span class="hljs-string">æ•°æ®æºç¼“å­˜ä¸ºç©º</span>

<span class="hljs-string">å¹¶å‘çº¿ç¨‹</span> <span class="hljs-string">Aï¼š</span>
    <span class="hljs-attr">T1:</span> <span class="hljs-string">if(targetDataSource.get(CLICKHOUSE)</span> <span class="hljs-string">==</span> <span class="hljs-literal">null</span><span class="hljs-string">)</span> <span class="hljs-string">â†’</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">T2:</span> <span class="hljs-string">å¼€å§‹åˆ›å»º</span> <span class="hljs-string">BalancedClickhouseDataSource</span> <span class="hljs-string">A</span>

<span class="hljs-string">å¹¶å‘çº¿ç¨‹</span> <span class="hljs-string">Bï¼š</span>
    <span class="hljs-attr">T1:</span> <span class="hljs-string">if(targetDataSource.get(CLICKHOUSE)</span> <span class="hljs-string">==</span> <span class="hljs-literal">null</span><span class="hljs-string">)</span> <span class="hljs-string">â†’</span> <span class="hljs-literal">true</span> <span class="hljs-string">(åŒæ—¶åˆ¤æ–­ä¸º</span> <span class="hljs-literal">null</span><span class="hljs-string">)</span>
    <span class="hljs-attr">T2:</span> <span class="hljs-string">å¼€å§‹åˆ›å»º</span> <span class="hljs-string">BalancedClickhouseDataSource</span> <span class="hljs-string">B</span>

    <span class="hljs-attr">T3:</span> <span class="hljs-string">çº¿ç¨‹</span> <span class="hljs-string">B</span> <span class="hljs-string">å…ˆå®Œæˆï¼Œput(CLICKHOUSE,</span> <span class="hljs-string">dataSourceB)</span>
    <span class="hljs-attr">T4:</span> <span class="hljs-string">çº¿ç¨‹</span> <span class="hljs-string">A</span> <span class="hljs-string">åå®Œæˆï¼Œput(CLICKHOUSE,</span> <span class="hljs-string">dataSourceA)</span> <span class="hljs-string">â†’</span> <span class="hljs-string">è¦†ç›–</span> <span class="hljs-string">B</span>
</code></pre>
<p><strong>å¯¼è‡´çš„é—®é¢˜ï¼š</strong></p>
<ol>
<li><strong>é‡å¤åˆ›å»ºæ•°æ®æº</strong>ï¼šå¤šä¸ªçº¿ç¨‹åŒæ—¶åˆ¤æ–­ä¸º <code>null</code> åéƒ½åˆ›å»ºæ•°æ®æºå®ä¾‹</li>
<li><strong>è¿æ¥æ± æ³„æ¼</strong>ï¼šè¢«è¦†ç›–çš„ <code>BalancedClickhouseDataSource</code> å¯¹è±¡æœªæ­£ç¡®å…³é—­ï¼Œè¿æ¥èµ„æºæ— æ³•é‡Šæ”¾</li>
<li><strong>è¿æ¥æ± è€—å°½</strong>ï¼šæ¯æ¬¡åˆ›å»ºéƒ½å»ºç«‹ç‹¬ç«‹çš„è¿æ¥æ± ï¼Œå¿«é€Ÿæ¶ˆè€—æ•°æ®åº“è¿æ¥æ•°</li>
<li><strong>å†…å­˜æµªè´¹</strong>ï¼šé‡å¤åˆ›å»ºçš„æ•°æ®æºå¯¹è±¡å ç”¨å †å†…å­˜</li>
</ol>
<p><strong>é£é™©ç­‰çº§ï¼šä¸­é«˜</strong> - åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½å¯¼è‡´èµ„æºè€—å°½</p>
<hr/>
<h3 data-id="heading-26">3.3 é—®é¢˜ 3ï¼šäº‹åŠ¡è¾¹ç•Œå†…çš„æ•°æ®æºåˆ‡æ¢é™åˆ¶</h3>
<h4 data-id="heading-27">é—®é¢˜æè¿°</h4>
<p>Spring çš„ <code>DataSourceTransactionManager</code> åœ¨äº‹åŠ¡å¼€å§‹æ—¶è·å–å¹¶ç»‘å®šæ•°æ®åº“è¿æ¥ï¼Œäº‹åŠ¡æœŸé—´æ— æ³•åˆ‡æ¢æ•°æ®æºã€‚</p>
<h4 data-id="heading-28">é—®é¢˜åœºæ™¯</h4>
<p>åœ¨åŒä¸€ä¸ªäº‹åŠ¡å†…å°è¯•æ··ç”¨ä¸¤ç§æ•°æ®æºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">mixedTransaction</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. äº‹åŠ¡å¼€å§‹ï¼Œè·å– MySQL è¿æ¥å¹¶ç»‘å®šåˆ°å½“å‰çº¿ç¨‹</span>
    userMapper.insert(user);  <span class="hljs-comment">// è·¯ç”±åˆ° MySQL âœ…</span>
    
    <span class="hljs-comment">// 2. è°ƒç”¨æ ‡æ³¨ @Clickhouse çš„æ–¹æ³•</span>
    logToClickhouse();  <span class="hljs-comment">// æœŸæœ›è·¯ç”±åˆ° ClickHouseï¼Œä½†å®é™…ä»ä½¿ç”¨ MySQL è¿æ¥ âŒ</span>
    
    <span class="hljs-comment">// 3. ç»§ç»­ MySQL æ“ä½œ</span>
    orderMapper.insert(order);  <span class="hljs-comment">// ä»ä½¿ç”¨åŒä¸€ä¸ª MySQL è¿æ¥ âœ…</span>
}

<span class="hljs-meta">@Clickhouse</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">logToClickhouse</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ThreadLocal è¢«è®¾ç½®ä¸º CLICKHOUSE</span>
    <span class="hljs-comment">// ä½†äº‹åŠ¡å·²ç»‘å®š MySQL è¿æ¥ï¼Œæ— æ³•åˆ‡æ¢</span>
    logMapper.insert(log);  <span class="hljs-comment">// å®é™…ä»åœ¨ MySQL æ‰§è¡Œï¼</span>
}
</code></pre>
<p><strong>é—®é¢˜æ ¹æœ¬åŸå› ï¼š</strong></p>
<ul>
<li><code>DataSourceTransactionManager</code> åœ¨äº‹åŠ¡å¼€å§‹æ—¶è°ƒç”¨ <code>DataSource.getConnection()</code> è·å–è¿æ¥</li>
<li>è¿æ¥é€šè¿‡ <code>TransactionSynchronizationManager</code> ç»‘å®šåˆ°å½“å‰çº¿ç¨‹</li>
<li>äº‹åŠ¡æœŸé—´ï¼Œæ‰€æœ‰ SQL æ“ä½œéƒ½ä½¿ç”¨è¿™ä¸ªå·²ç»‘å®šçš„è¿æ¥ï¼Œå³ä½¿ ThreadLocal æ•°æ®æºç±»å‹å‘ç”Ÿå˜åŒ–</li>
</ul>
<p><strong>å¯¼è‡´çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li>SQL è·¯ç”±åˆ°é”™è¯¯çš„æ•°æ®æºï¼ˆæœŸæœ› ClickHouseï¼Œå®é™… MySQLï¼‰</li>
<li>æŸ¥è¯¢/æ’å…¥å¤±è´¥ï¼ˆè¡¨ä¸å­˜åœ¨ï¼‰</li>
<li>ä¸šåŠ¡é€»è¾‘é”™è¯¯ï¼ˆæ•°æ®å†™å…¥é”™è¯¯çš„åº“ï¼‰</li>
</ul>
<p><strong>é£é™©ç­‰çº§ï¼šä¸­</strong> - ä¸šåŠ¡ä»£ç è®¾è®¡ä¸å½“æ—¶ä¼šè§¦å‘</p>
<hr/>
<h3 data-id="heading-29">3.4 é—®é¢˜ 4ï¼šæ–¹æ³•åŒ¹é…é€»è¾‘ç¼ºé™·ï¼ˆæ–¹æ³•é‡è½½åœºæ™¯ï¼‰</h3>
<h4 data-id="heading-30">é—®é¢˜æ ¹æº</h4>
<p>AOP åˆ‡é¢ä¸­é€šè¿‡åå°„åŒ¹é…æ–¹æ³•ï¼Œä»…ä½¿ç”¨æ–¹æ³•ååˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">for</span>(Method method : methods) {
    <span class="hljs-keyword">if</span>(method.getName().equals(methodName)) {  <span class="hljs-comment">// âš ï¸ ä»…æŒ‰åç§°åŒ¹é…ï¼Œæœªæ¯”è¾ƒå‚æ•°ç±»å‹</span>
        <span class="hljs-keyword">if</span>(method.isAnnotationPresent(Clickhouse.class)) {
            <span class="hljs-comment">// è®¾ç½®æ•°æ®æºç±»å‹</span>
        }
        <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒåæ–¹æ³•å³é€€å‡º</span>
    }
}
</code></pre>
<p><strong>ä»£ç ç¼ºé™·åˆ†æï¼š</strong></p>
<ul>
<li>âŒ <strong>ä»…æ¯”è¾ƒæ–¹æ³•å</strong>ï¼šæœªæ¯”è¾ƒå‚æ•°ç±»å‹å’Œæ•°é‡ï¼Œæ— æ³•åŒºåˆ†é‡è½½æ–¹æ³•</li>
<li>âŒ <strong>é¦–ä¸ªåŒ¹é…å³é€€å‡º</strong>ï¼šä½¿ç”¨ <code>break</code> è¯­å¥ï¼Œå¦‚æœç›®æ ‡æ–¹æ³•æ˜¯ç¬¬äºŒä¸ªé‡è½½ç‰ˆæœ¬ï¼Œä¼šåŒ¹é…åˆ°é”™è¯¯çš„æ–¹æ³•</li>
<li>âŒ <strong>æ³¨è§£ä¸¢å¤±</strong>ï¼šåŒ¹é…åˆ°é”™è¯¯çš„é‡è½½æ–¹æ³•æ—¶ï¼Œå¯èƒ½è¯»å–ä¸åˆ°æ­£ç¡®çš„ <code>@Clickhouse</code> æ³¨è§£</li>
</ul>
<p><strong>é—®é¢˜åœºæ™¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// æ–¹æ³• 1ï¼šæ— æ³¨è§£ï¼Œè·¯ç”±åˆ° MySQL</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-keyword">return</span> userMapper.selectById(id);
    }
    
    <span class="hljs-comment">// æ–¹æ³• 2ï¼šæœ‰æ³¨è§£ï¼Œè·¯ç”±åˆ° ClickHouse</span>
    <span class="hljs-meta">@Clickhouse</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">query</span><span class="hljs-params">(String id, String type)</span> {
        <span class="hljs-keyword">return</span> userMapper.selectByIdAndType(id, type);
    }
}
</code></pre>
<p><strong>é”™è¯¯æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin">ä¸šåŠ¡è°ƒç”¨ï¼šquery(<span class="hljs-string">"user123"</span>, <span class="hljs-string">"VIP"</span>)
    â†“
AOP æ‹¦æˆªï¼šmethodName = <span class="hljs-string">"query"</span>
    â†“
åå°„éå†ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªåä¸º <span class="hljs-string">"query"</span> çš„æ–¹æ³•ï¼ˆæ–¹æ³• <span class="hljs-number">1</span>ï¼‰
    â†“
æ£€æŸ¥æ³¨è§£ï¼šæ–¹æ³• <span class="hljs-number">1</span> æ²¡æœ‰ <span class="hljs-meta">@Clickhouse</span> æ³¨è§£
    â†“
è®¾ç½®æ•°æ®æºï¼šDatasourceType.<span class="hljs-keyword">set</span>(DEFAULT) âŒ é”™è¯¯ï¼åº”è¯¥æ˜¯ CLICKHOUSE
    â†“
ç»“æœï¼šClickHouse æŸ¥è¯¢è¢«è¯¯è·¯ç”±åˆ° MySQL
</code></pre>
<p><strong>é£é™©ç­‰çº§ï¼šä¸­</strong> - ä½¿ç”¨æ–¹æ³•é‡è½½æ—¶ä¼šè§¦å‘</p>
<h3 data-id="heading-31">3.5 é—®é¢˜ 5ï¼šClickHouse æ•°æ®æºä¸åº”çº³å…¥äº‹åŠ¡ç®¡ç†</h3>
<h4 data-id="heading-32">é—®é¢˜æè¿°</h4>
<p>æŸ¥çœ‹å½“å‰ <code>SessionFactory.java</code> çš„äº‹åŠ¡ç®¡ç†å™¨é…ç½®ï¼ˆç¬¬ 31-35 è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean("defaultTransactionManager")</span>
<span class="hljs-meta">@Primary</span>
<span class="hljs-keyword">public</span> DataSourceTransactionManager <span class="hljs-title function_">defaultTransactionManager</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataSourceTransactionManager</span>(dynamicDataSource);  <span class="hljs-comment">// âš ï¸ ä½¿ç”¨åŠ¨æ€æ•°æ®æº</span>
}
</code></pre>
<p><strong>æ ¸å¿ƒé—®é¢˜ï¼š</strong></p>
<ul>
<li>äº‹åŠ¡ç®¡ç†å™¨æ³¨å†Œæ—¶ä½¿ç”¨çš„æ˜¯ <code>DynamicDataSource</code>ï¼ˆåŒ…å« MySQL å’Œ ClickHouse ä¸¤ç§æ•°æ®æºï¼‰</li>
<li>è¿™æ„å‘³ç€ <strong>æ‰€æœ‰é€šè¿‡åŠ¨æ€æ•°æ®æºè·¯ç”±çš„æ“ä½œéƒ½ä¼šè¢«çº³å…¥äº‹åŠ¡ç®¡ç†</strong>ï¼ŒåŒ…æ‹¬ ClickHouse çš„æŸ¥è¯¢å’Œå†™å…¥</li>
<li>ClickHouse ä½œä¸º OLAP æ•°æ®åº“ï¼Œä¸æ”¯æŒä¼ ç»Ÿçš„ ACID äº‹åŠ¡ï¼Œå¼ºåˆ¶äº‹åŠ¡ç®¡ç†ä¼šå¸¦æ¥å‰¯ä½œç”¨</li>
</ul>
<h4 data-id="heading-33">é—®é¢˜åˆ†æ</h4>
<p><strong>1. ClickHouse çš„äº‹åŠ¡ç‰¹æ€§ä¸ OLTP æ•°æ®åº“çš„æœ¬è´¨å·®å¼‚</strong></p>
<p>ClickHouse æ˜¯ <strong>OLAP</strong>ï¼ˆOnline Analytical Processingï¼Œè”æœºåˆ†æå¤„ç†ï¼‰æ•°æ®åº“ï¼Œè®¾è®¡ç›®æ ‡ï¼š</p>
<ul>
<li>é«˜ååé‡çš„æ‰¹é‡æ•°æ®å†™å…¥</li>
<li>å¿«é€Ÿçš„èšåˆæŸ¥è¯¢å’Œå¤§è§„æ¨¡æ•°æ®åˆ†æ</li>
<li>åˆ—å¼å­˜å‚¨ä¼˜åŒ–ï¼Œé€‚åˆå®½è¡¨å’Œå¤æ‚èšåˆ</li>
</ul>
<p>MySQL æ˜¯ <strong>OLTP</strong>ï¼ˆOnline Transaction Processingï¼Œè”æœºäº‹åŠ¡å¤„ç†ï¼‰æ•°æ®åº“ï¼Œè®¾è®¡ç›®æ ‡ï¼š</p>
<ul>
<li>é«˜å¹¶å‘çš„å°äº‹åŠ¡å¤„ç†</li>
<li>ACID äº‹åŠ¡ä¿è¯ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰</li>
<li>è¡Œå¼å­˜å‚¨ä¼˜åŒ–ï¼Œé€‚åˆé¢‘ç¹çš„å¢åˆ æ”¹æŸ¥</li>
</ul>
<p><strong>ClickHouse çš„äº‹åŠ¡æ”¯æŒæƒ…å†µï¼š</strong></p>








































<table><thead><tr><th>ç‰¹æ€§</th><th>MySQLï¼ˆOLTPï¼‰</th><th>ClickHouseï¼ˆOLAPï¼‰</th></tr></thead><tbody><tr><td>BEGIN/COMMIT/ROLLBACK</td><td>âœ… å®Œå…¨æ”¯æŒ</td><td>âŒ ä¸æ”¯æŒ</td></tr><tr><td>è¡Œçº§é”</td><td>âœ… æ”¯æŒ</td><td>âŒ ä»…æ”¯æŒè¡¨çº§å’Œåˆ†åŒºçº§é”</td></tr><tr><td>å³æ—¶ä¸€è‡´æ€§</td><td>âœ… æ”¯æŒ</td><td>âŒ æœ€ç»ˆä¸€è‡´æ€§æ¨¡å‹</td></tr><tr><td>å•è¯­å¥åŸå­æ€§</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒï¼ˆINSERT æ˜¯åŸå­çš„ï¼‰</td></tr><tr><td>è·¨è¯­å¥äº‹åŠ¡</td><td>âœ… æ”¯æŒ</td><td>âŒ ä¸æ”¯æŒ</td></tr><tr><td>å¹‚ç­‰å†™å…¥</td><td>éœ€åº”ç”¨å±‚ä¿è¯</td><td>âœ… é€šè¿‡ ReplicatedMergeTree æ”¯æŒ</td></tr></tbody></table>
<p><strong>2. äº‹åŠ¡ç®¡ç†å™¨å¯¹ ClickHouse çš„å‰¯ä½œç”¨</strong></p>
<p>å½“ <code>DataSourceTransactionManager</code> ç®¡ç† ClickHouse è¿æ¥æ—¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">queryClickhouseData</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// äº‹åŠ¡ç®¡ç†å™¨ä¼šå°è¯•æ‰§è¡Œï¼ˆä½† ClickHouse ä¸æ”¯æŒï¼‰ï¼š</span>
    <span class="hljs-comment">// 1. connection.setAutoCommit(false)  â† ClickHouse JDBC é©±åŠ¨ä¼šå¿½ç•¥</span>
    <span class="hljs-comment">// 2. æ‰§è¡Œä¸šåŠ¡ SQL</span>
    <span class="hljs-comment">// 3. connection.commit()              â† æ— å®é™…ä½œç”¨ï¼Œæ•°æ®å·²ç«‹å³å†™å…¥</span>
    <span class="hljs-comment">// 4. å¼‚å¸¸æ—¶ connection.rollback()    â† æ— æ³•å›æ»šå·²æ‰§è¡Œçš„æŸ¥è¯¢/å†™å…¥</span>
}
</code></pre>
<p><strong>å¯¼è‡´çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>è¿æ¥èµ„æºæµªè´¹</strong>ï¼šäº‹åŠ¡ç®¡ç†å™¨ä¼šä¿æŒè¿æ¥æ‰“å¼€ç›´åˆ°äº‹åŠ¡ç»“æŸï¼Œä½† ClickHouse æŸ¥è¯¢é€šå¸¸æ¯«ç§’çº§å®Œæˆ</li>
<li><strong>è¿æ¥æ± è€—å°½é£é™©</strong>ï¼šé•¿äº‹åŠ¡åœºæ™¯ä¸‹ï¼ˆå¦‚æ‰¹å¤„ç†ï¼‰ï¼ŒClickHouse è¿æ¥è¢«é•¿æ—¶é—´å ç”¨ï¼Œå¯¼è‡´è¿æ¥æ± è€—å°½</li>
<li><strong>è¯­ä¹‰æ··æ·†</strong>ï¼šå¼€å‘äººå‘˜å¯èƒ½è¯¯ä»¥ä¸º ClickHouse æ”¯æŒå›æ»šï¼Œç¼–å†™é”™è¯¯çš„ä¸šåŠ¡é€»è¾‘</li>
<li><strong>æ€§èƒ½æŸè€—</strong>ï¼šä¸å¿…è¦çš„äº‹åŠ¡ç®¡ç†è°ƒç”¨ï¼ˆsetAutoCommitã€commitç­‰ï¼‰å¢åŠ å¼€é”€</li>
<li><strong>å‡æ€§å®‰å…¨æ„Ÿ</strong>ï¼š<code>@Transactional</code> æ³¨è§£æ— æ³•ä¿è¯ ClickHouse æ“ä½œçš„åŸå­æ€§</li>
</ul>
<p><strong>3. å®é™…ä½¿ç”¨åœºæ™¯åˆ†æ</strong></p>
<p>å…¸å‹çš„ ClickHouse ä½¿ç”¨æ¨¡å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âœ… åœºæ™¯ 1ï¼šçº¯æŸ¥è¯¢æ“ä½œï¼ˆåªè¯»ï¼Œä¸éœ€è¦äº‹åŠ¡ï¼‰</span>
<span class="hljs-meta">@Clickhouse</span>
<span class="hljs-keyword">public</span> List&lt;LogEntry&gt; <span class="hljs-title function_">queryLogs</span><span class="hljs-params">(String userId)</span> {
    <span class="hljs-keyword">return</span> logMapper.selectByUserId(userId);  <span class="hljs-comment">// æŸ¥è¯¢æ“ä½œï¼Œæ— éœ€äº‹åŠ¡ä¿æŠ¤</span>
}

<span class="hljs-comment">// âœ… åœºæ™¯ 2ï¼šæ‰¹é‡å†™å…¥ï¼ˆINSERT æœ¬èº«æ˜¯åŸå­çš„ï¼‰</span>
<span class="hljs-meta">@Clickhouse</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchInsertLogs</span><span class="hljs-params">(List&lt;LogEntry&gt; logs)</span> {
    logMapper.batchInsert(logs);  <span class="hljs-comment">// å•ä¸ª INSERT è¯­å¥æ˜¯åŸå­æ“ä½œ</span>
}

<span class="hljs-comment">// âŒ åœºæ™¯ 3ï¼šæ··åˆæ“ä½œï¼ˆé”™è¯¯ç¤ºä¾‹ - ä¸åº”åœ¨åŒä¸€äº‹åŠ¡ä¸­æ··ç”¨ï¼‰</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
    orderMapper.insert(order);          <span class="hljs-comment">// MySQL - éœ€è¦äº‹åŠ¡</span>
    logToClickhouse(order.getId());     <span class="hljs-comment">// ClickHouse - ä¸éœ€è¦äº‹åŠ¡ï¼Œä¸”æ— æ³•å‚ä¸ MySQL äº‹åŠ¡</span>
}
</code></pre>
<p><strong>é£é™©ç­‰çº§ï¼šä¸­ä½</strong> - å½±å“æ€§èƒ½å’Œèµ„æºåˆ©ç”¨ï¼Œä½†é€šå¸¸ä¸ä¼šå¯¼è‡´åŠŸèƒ½æ€§é”™è¯¯</p>
<hr/>
<h2 data-id="heading-34">å››ã€é—®é¢˜ä¿®å¤æ–¹æ¡ˆ</h2>
<h3 data-id="heading-35">4.1 ä¿®å¤æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ @Around ç¯ç»•é€šçŸ¥ç¡®ä¿ ThreadLocal æ¸…ç†ï¼ˆå¿…é¡»ä¿®å¤ï¼‰</h3>
<p><strong>ç›®æ ‡</strong>ï¼šè§£å†³ ThreadLocal å†…å­˜æ³„æ¼å’Œçº¿ç¨‹æ±¡æŸ“é—®é¢˜</p>
<p><strong>ä¿®æ”¹æ–‡ä»¶</strong>ï¼š<code>DatasourceAop.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Order(-1)</span> <span class="hljs-comment">// ä¿è¯ä¼˜å…ˆçº§åœ¨ AOP å‰</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatasourceAop</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PACKAGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"com.xxx.anomaly"</span>;

    <span class="hljs-meta">@Pointcut("execution(* com.xxx.anomaly..*.*(..))")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pointCut</span><span class="hljs-params">()</span>{};

    <span class="hljs-comment">// å°† @Before æ”¹ä¸º @Aroundï¼Œç¡®ä¿æ¸…ç†</span>
    <span class="hljs-meta">@Around(value = "pointCut()")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">aroundInvoke</span><span class="hljs-params">(ProceedingJoinPoint joinpoint)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// ä¿å­˜åŸæ•°æ®æºç±»å‹ï¼ˆæ”¯æŒåµŒå¥—è°ƒç”¨åœºæ™¯ï¼‰</span>
        DatasourceType.<span class="hljs-type">DataBaseType</span> <span class="hljs-variable">originalType</span> <span class="hljs-operator">=</span> DatasourceType.getDataBaseType();
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è·å–ç›®æ ‡ç±»å’Œæ–¹æ³•ä¿¡æ¯</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">clazzName</span> <span class="hljs-operator">=</span> joinpoint.getTarget().getClass().getName();
            <span class="hljs-type">String</span> <span class="hljs-variable">methodName</span> <span class="hljs-operator">=</span> joinpoint.getSignature().getName();
            
            <span class="hljs-comment">// ä»…å¤„ç†æŒ‡å®šåŒ…ä¸‹çš„æ–¹æ³•</span>
            <span class="hljs-keyword">if</span>(clazzName.startsWith(PACKAGE)) {
                <span class="hljs-type">Class</span> <span class="hljs-variable">targetClazz</span> <span class="hljs-operator">=</span> Class.forName(clazzName);
                Method[] methods = targetClazz.getMethods();
                
                <span class="hljs-comment">// éå†æ–¹æ³•ï¼ŒæŸ¥æ‰¾åŒ¹é…çš„æ–¹æ³•å¹¶æ£€æŸ¥ @Clickhouse æ³¨è§£</span>
                <span class="hljs-keyword">for</span>(Method method : methods) {
                    <span class="hljs-keyword">if</span>(method.getName().equals(methodName)) {
                        <span class="hljs-keyword">if</span>(method.isAnnotationPresent(Clickhouse.class)) {
                            <span class="hljs-comment">// è®¾ç½®ä¸º ClickHouse æ•°æ®æº</span>
                            DatasourceType.setDataBaseType(DatasourceType.DataBaseType.CLICKHOUSE);
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-comment">// è®¾ç½®ä¸ºé»˜è®¤æ•°æ®æºï¼ˆMySQLï¼‰</span>
                            DatasourceType.setDataBaseType(DatasourceType.DataBaseType.DEFAULT);
                        }
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
            
            <span class="hljs-comment">// æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
            <span class="hljs-keyword">return</span> joinpoint.proceed();
            
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// ã€å…³é”®ä¿®å¤ã€‘ï¼šæ–¹æ³•æ‰§è¡Œå®Œæ¯•åæ¢å¤åŸæ•°æ®æºç±»å‹</span>
            <span class="hljs-comment">// å¦‚æœæ˜¯é¡¶å±‚è°ƒç”¨ï¼ˆoriginalType == nullï¼‰ï¼Œåˆ™æ¸…ç† ThreadLocal</span>
            <span class="hljs-comment">// å¦‚æœæ˜¯åµŒå¥—è°ƒç”¨ï¼Œåˆ™æ¢å¤ä¸ºä¸Šå±‚çš„æ•°æ®æºç±»å‹</span>
            <span class="hljs-keyword">if</span> (originalType == <span class="hljs-literal">null</span>) {
                DatasourceType.clearDataBaseType();  <span class="hljs-comment">// æ¸…ç† ThreadLocalï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</span>
            } <span class="hljs-keyword">else</span> {
                DatasourceType.setDataBaseType(originalType);  <span class="hljs-comment">// æ¢å¤åµŒå¥—è°ƒç”¨çš„æ•°æ®æº</span>
            }
        }
    }
}
</code></pre>
<p><strong>ä¿®å¤æ•ˆæœï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨ <code>finally</code> å—ç¡®ä¿ ThreadLocal ä¸€å®šä¼šè¢«æ¸…ç†ï¼Œå³ä½¿æ–¹æ³•æŠ›å‡ºå¼‚å¸¸</li>
<li>âœ… æ”¯æŒåµŒå¥—è°ƒç”¨ï¼šä¿å­˜å¹¶æ¢å¤åŸæ•°æ®æºç±»å‹</li>
<li>âœ… é˜²æ­¢çº¿ç¨‹æ±¡æŸ“ï¼šçº¿ç¨‹å½’è¿˜çº¿ç¨‹æ± æ—¶ä¸ä¼šæºå¸¦æ®‹ç•™çš„æ•°æ®æºæ ‡è¯†</li>
</ul>
<hr/>
<h3 data-id="heading-36">4.2 ä¿®å¤æ–¹æ¡ˆ 2ï¼šæ•°æ®æºç¼“å­˜åŠ é”ï¼ˆå¿…é¡»ä¿®å¤ï¼‰</h3>
<p><strong>ç›®æ ‡</strong>ï¼šè§£å†³å¹¶å‘åœºæ™¯ä¸‹çš„ç«æ€æ¡ä»¶ï¼Œé˜²æ­¢é‡å¤åˆ›å»ºæ•°æ®æºå’Œè¿æ¥æ³„æ¼</p>
<p><strong>ä¿®æ”¹æ–‡ä»¶</strong>ï¼š<code>DynamicDataSource.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service("dynamicDataSource")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicDataSource</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractRoutingDataSource</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">LOGGER</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(DynamicDataSource.class);

    <span class="hljs-comment">// ã€ä¿®å¤1ã€‘ï¼šæ”¹ä¸ºçº¿ç¨‹å®‰å…¨çš„ ConcurrentHashMap</span>
    <span class="hljs-keyword">private</span> Map&lt;Object, Object&gt; targetDataSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-comment">// ã€ä¿®å¤2ã€‘ï¼šæ·»åŠ é”å¯¹è±¡ï¼Œç”¨äºæ‡’åŠ è½½çš„åŒæ­¥æ§åˆ¶</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">clickhouseLock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> DataSource <span class="hljs-title function_">determineTargetDataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-type">Object</span> <span class="hljs-variable">dbName</span> <span class="hljs-operator">=</span> determineCurrentLookupKey();
        <span class="hljs-keyword">if</span>(dbName == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> defaultDatasource;
        }
        
        <span class="hljs-comment">// å…ˆå°è¯•ä»ç¼“å­˜è·å–ï¼ˆå¿«é€Ÿè·¯å¾„ï¼Œæ— é”ï¼‰</span>
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">cachedDs</span> <span class="hljs-operator">=</span> (DataSource) targetDataSource.get(dbName);
        <span class="hljs-keyword">if</span> (cachedDs != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> cachedDs;
        }
        
        <span class="hljs-comment">// ç¼“å­˜æœªå‘½ä¸­ä¸”éœ€è¦ ClickHouseï¼Œè¿›å…¥æ‡’åŠ è½½æµç¨‹</span>
        <span class="hljs-keyword">if</span> (DatasourceType.DataBaseType.CLICKHOUSE.equals(dbName)) {
            <span class="hljs-keyword">return</span> getOrCreateClickhouseDataSource();
        }
        
        <span class="hljs-comment">// é»˜è®¤è¿”å› MySQL æ•°æ®æº</span>
        <span class="hljs-keyword">return</span> defaultDatasource;
    }
    
    <span class="hljs-comment">// ã€ä¿®å¤3ã€‘ï¼šä½¿ç”¨åŒé‡æ£€æŸ¥é”å®šï¼ˆDouble-Checked Lockingï¼‰æ¨¡å¼åˆ›å»º ClickHouse æ•°æ®æº</span>
    <span class="hljs-keyword">private</span> DataSource <span class="hljs-title function_">getOrCreateClickhouseDataSource</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡æ£€æŸ¥ï¼ˆæ— é”ï¼Œæé«˜æ€§èƒ½ï¼‰</span>
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> (DataSource) targetDataSource.get(DatasourceType.DataBaseType.CLICKHOUSE);
        <span class="hljs-keyword">if</span> (ds != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> ds;
        }
        
        <span class="hljs-comment">// åŠ é”åˆ›å»ºæ•°æ®æº</span>
        <span class="hljs-keyword">synchronized</span> (clickhouseLock) {
            <span class="hljs-comment">// ç¬¬äºŒæ¬¡æ£€æŸ¥ï¼ˆé˜²æ­¢é‡å¤åˆ›å»ºï¼‰</span>
            ds = (DataSource) targetDataSource.get(DatasourceType.DataBaseType.CLICKHOUSE);
            <span class="hljs-keyword">if</span> (ds != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> ds;
            }
            
            <span class="hljs-comment">// é€šè¿‡æ•°æ®åº“è·å– ClickHouse æ•°æ®æºçš„é…ç½®å¹¶åˆ›å»ºæ•°æ®æº</span>
            <span class="hljs-comment">// ... æŸ¥è¯¢é…ç½®ã€åˆ›å»ºæ•°æ®æºçš„ä»£ç </span>
            <span class="hljs-comment">// BalancedClickhouseDataSource newDs = new BalancedClickhouseDataSource(dbUrl, properties);</span>
            <span class="hljs-comment">// targetDataSource.put(DatasourceType.DataBaseType.CLICKHOUSE, newDs);</span>
            <span class="hljs-comment">// return newDs;</span>
            ......
        }
    }
}
</code></pre>
<p><strong>ä¿®å¤æ•ˆæœï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨ <code>ConcurrentHashMap</code> æ›¿ä»£ <code>HashMap</code>ï¼Œä¿è¯åŸºæœ¬çš„çº¿ç¨‹å®‰å…¨</li>
<li>âœ… åŒé‡æ£€æŸ¥é”å®šæ¨¡å¼ï¼šç¬¬ä¸€æ¬¡æ— é”æ£€æŸ¥æé«˜æ€§èƒ½ï¼ŒåŠ é”åå†æ¬¡æ£€æŸ¥é˜²æ­¢é‡å¤åˆ›å»º</li>
<li>âœ… æ¶ˆé™¤ç«æ€æ¡ä»¶ï¼šç¡®ä¿åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹åˆ›å»º ClickHouse æ•°æ®æº</li>
<li>âœ… é˜²æ­¢è¿æ¥æ³„æ¼ï¼šä¸ä¼šå› å¹¶å‘å¯¼è‡´å¤šä¸ªæ•°æ®æºå®ä¾‹è¢«åˆ›å»ºåè¦†ç›–</li>
</ul>
<hr/>
<h3 data-id="heading-37">4.3 ä¿®å¤æ–¹æ¡ˆ 3ï¼šå¢å¼º removeDatasouce æ–¹æ³•ï¼ˆæ¨èä¿®å¤ï¼‰</h3>
<p><strong>ç›®æ ‡</strong>ï¼šæ­£ç¡®å…³é—­æ—§æ•°æ®æºï¼Œé˜²æ­¢èµ„æºæ³„æ¼</p>
<p><strong>ä¿®æ”¹æ–‡ä»¶</strong>ï¼š<code>DynamicDataSource.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeDatasouce</span><span class="hljs-params">(Object dbName)</span> {
    <span class="hljs-comment">// ä½¿ç”¨ä¸æ‡’åŠ è½½ç›¸åŒçš„é”ï¼Œç¡®ä¿çº¿ç¨‹å®‰å…¨</span>
    <span class="hljs-keyword">synchronized</span> (clickhouseLock) {
        <span class="hljs-keyword">if</span>(targetDataSource.containsKey(dbName)) {
            <span class="hljs-comment">// ä»ç¼“å­˜ä¸­ç§»é™¤æ•°æ®æº</span>
            <span class="hljs-type">DataSource</span> <span class="hljs-variable">oldDs</span> <span class="hljs-operator">=</span> (DataSource) targetDataSource.remove(dbName);
            
            <span class="hljs-comment">// å¦‚æœæ˜¯ BalancedClickhouseDataSourceï¼Œéœ€è¦æ­£ç¡®å…³é—­ä»¥é‡Šæ”¾èµ„æº</span>
            <span class="hljs-keyword">if</span> (oldDs <span class="hljs-keyword">instanceof</span> BalancedClickhouseDataSource) {
                <span class="hljs-keyword">try</span> {
                    ((BalancedClickhouseDataSource) oldDs).close();
                    LOGGER.info(<span class="hljs-string">"å·²å…³é—­æ—§çš„ ClickHouse æ•°æ®æºï¼Œé‡Šæ”¾è¿æ¥æ± èµ„æº"</span>);
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    LOGGER.error(<span class="hljs-string">"å…³é—­ ClickHouse æ•°æ®æºå¤±è´¥ï¼Œå¯èƒ½å¯¼è‡´è¿æ¥æ³„æ¼"</span>, e);
                }
            }
        }
    }
}
</code></pre>
<p><strong>ä¿®å¤æ•ˆæœï¼š</strong></p>
<ul>
<li>âœ… åŠ é”ä¿æŠ¤ï¼šä¸æ‡’åŠ è½½ä½¿ç”¨åŒä¸€ä¸ªé”ï¼Œé¿å…åˆ é™¤ä¸åˆ›å»ºçš„å¹¶å‘å†²çª</li>
<li>âœ… èµ„æºé‡Šæ”¾ï¼šæ­£ç¡®å…³é—­æ—§æ•°æ®æºï¼Œé‡Šæ”¾è¿æ¥æ± èµ„æº</li>
<li>âœ… å¼‚å¸¸å¤„ç†ï¼šæ•è·å…³é—­å¼‚å¸¸å¹¶è®°å½•æ—¥å¿—ï¼Œä¸å½±å“ä¸»æµç¨‹</li>
</ul>
<hr/>
<h3 data-id="heading-38">4.4 ä¿®å¤æ–¹æ¡ˆ 4ï¼šä¼˜åŒ–æ–¹æ³•åŒ¹é…é€»è¾‘ï¼ˆæ›¿ä»£æ–¹æ¡ˆï¼‰</h3>
<p><strong>ç›®æ ‡</strong>ï¼šè§£å†³æ–¹æ³•é‡è½½åœºæ™¯ä¸‹çš„æ³¨è§£åŒ¹é…é”™è¯¯</p>
<p><strong>ä¿®æ”¹æ–‡ä»¶</strong>ï¼š<code>DatasourceAop.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Order(-1)</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatasourceAop</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PACKAGE</span> <span class="hljs-operator">=</span> <span class="hljs-string">"com.xxx.anomaly"</span>;

    <span class="hljs-meta">@Pointcut("execution(* com.xxx.anomaly..*.*(..))")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pointCut</span><span class="hljs-params">()</span>{};

    <span class="hljs-meta">@Around(value = "pointCut()")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">aroundInvoke</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åˆ‡æ¢æ•°æ®æº</span>
            switchDataSource(joinPoint);
            
            <span class="hljs-comment">// 2. æ‰§è¡Œç›®æ ‡æ–¹æ³•</span>
            <span class="hljs-keyword">return</span> joinPoint.proceed();
            
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// 3. æ¸…ç† ThreadLocalï¼ˆé˜²æ­¢å†…å­˜æ³„æ¼ï¼‰</span>
            DatasourceType.clearDataBaseType();
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">switchDataSource</span><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ã€ä¼˜åŒ–ã€‘ï¼šç›´æ¥é€šè¿‡ MethodSignature è·å–æ–¹æ³•å¯¹è±¡ï¼ˆé¿å…å¤æ‚çš„åå°„éå†ï¼‰</span>
            <span class="hljs-type">MethodSignature</span> <span class="hljs-variable">signature</span> <span class="hljs-operator">=</span> (MethodSignature) joinPoint.getSignature();
            <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> signature.getMethod();
            
            <span class="hljs-comment">// æ£€æŸ¥æ–¹æ³•æ˜¯å¦æ ‡æ³¨ @Clickhouse æ³¨è§£</span>
            <span class="hljs-keyword">if</span> (method.isAnnotationPresent(Clickhouse.class)) {
                DatasourceType.setDataBaseType(DatasourceType.DataBaseType.CLICKHOUSE);
            } <span class="hljs-keyword">else</span> {
                DatasourceType.setDataBaseType(DatasourceType.DataBaseType.DEFAULT);
            }
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// å¼‚å¸¸æ—¶é™çº§åˆ°é»˜è®¤æ•°æ®æºï¼Œä¿è¯ç³»ç»Ÿå¯ç”¨æ€§</span>
            log.error(<span class="hljs-string">"æ•°æ®æºåˆ‡æ¢å¤±è´¥ï¼Œé™çº§ä½¿ç”¨é»˜è®¤æ•°æ®æºï¼ˆMySQLï¼‰"</span>, e);
            DatasourceType.setDataBaseType(DatasourceType.DataBaseType.DEFAULT);
        }
    }
}
</code></pre>
<p><strong>ä¿®å¤æ•ˆæœï¼š</strong></p>
<ul>
<li>âœ… ä½¿ç”¨ <code>finally</code> ç¡®ä¿ ThreadLocal ä¸€å®šä¼šè¢«æ¸…ç†</li>
<li>âœ… ç›´æ¥é€šè¿‡ <code>MethodSignature</code> è·å–æ–¹æ³•å¯¹è±¡ï¼Œé¿å…å¤æ‚çš„åå°„éå†å’Œæ–¹æ³•é‡è½½é—®é¢˜</li>
<li>âœ… å¼‚å¸¸æ—¶è‡ªåŠ¨é™çº§åˆ°é»˜è®¤æ•°æ®æºï¼Œä¿è¯ç³»ç»Ÿå¯ç”¨æ€§</li>
<li>âœ… ä½¿ç”¨æ—¥å¿—æ¡†æ¶è®°å½•é”™è¯¯ï¼ˆæ›¿ä»£ <code>printStackTrace()</code>ï¼‰</li>
</ul>
<p><strong>æ³¨æ„</strong>ï¼šæ­¤æ–¹æ¡ˆä½¿ç”¨ <code>MethodSignature.getMethod()</code> ç›´æ¥è·å–å®é™…è°ƒç”¨çš„æ–¹æ³•å¯¹è±¡ï¼Œè‡ªåŠ¨è§£å†³äº†æ–¹æ³•é‡è½½çš„åŒ¹é…é—®é¢˜ï¼Œæ¯”æ‰‹åŠ¨éå† <code>getMethods()</code> æ›´å¯é ã€‚</p>
<hr/>
<h3 data-id="heading-39">4.5 ä¿®å¤æ–¹æ¡ˆ 5ï¼šäº‹åŠ¡ç®¡ç†å™¨ä»…ç®¡ç† MySQL æ•°æ®æºï¼ˆæ¨èä¿®å¤ï¼‰</h3>
<p><strong>ç›®æ ‡</strong>ï¼šå°† ClickHouse æ’é™¤åœ¨äº‹åŠ¡ç®¡ç†ä¹‹å¤–ï¼Œé¿å…ä¸å¿…è¦çš„äº‹åŠ¡å¼€é”€</p>
<p><strong>ä¿®æ”¹æ–‡ä»¶</strong>ï¼š<code>SessionFactory.java</code></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-meta">@MapperScan(basePackages = {"com.xxx.anomaly.**.mapper"}, sqlSessionFactoryRef = "SqlSessionFactory")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionFactory</span> {
    
    <span class="hljs-comment">// æ³¨å…¥å•ç‹¬çš„é»˜è®¤æ•°æ®æºï¼ˆä»… MySQLï¼‰</span>
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-meta">@Qualifier("defaultDatasource")</span>
    <span class="hljs-keyword">private</span> DataSource defaultDatasource;

    <span class="hljs-comment">/**
     * äº‹åŠ¡ç®¡ç†å™¨ä»…ç®¡ç†é»˜è®¤æ•°æ®æºï¼ˆMySQLï¼‰
     * ClickHouse ä½œä¸º OLAP æ•°æ®åº“ä¸éœ€è¦äº‹åŠ¡ç®¡ç†
     */</span>
    <span class="hljs-meta">@Bean("defaultTransactionManager")</span>
    <span class="hljs-meta">@Primary</span>
    <span class="hljs-keyword">public</span> DataSourceTransactionManager <span class="hljs-title function_">defaultTransactionManager</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ã€å…³é”®ä¿®æ”¹ã€‘ï¼šä»…ä½¿ç”¨ MySQL æ•°æ®æºï¼Œä¸ä½¿ç”¨ DynamicDataSource</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataSourceTransactionManager</span>(defaultDatasource);
    }
}
</code></pre>
<p><strong>ä¿®å¤æ•ˆæœï¼š</strong></p>
<ul>
<li>âœ… ClickHouse è¿æ¥ä¸å†è¢«äº‹åŠ¡ç®¡ç†å™¨ç®¡ç†ï¼Œé¿å…ä¸å¿…è¦çš„äº‹åŠ¡å¼€é”€</li>
<li>âœ… è¿æ¥å¿«é€Ÿé‡Šæ”¾ï¼šClickHouse æŸ¥è¯¢å®Œæˆåç«‹å³é‡Šæ”¾è¿æ¥ï¼Œä¸ç­‰å¾…äº‹åŠ¡ç»“æŸ</li>
<li>âœ… é¿å…è¯­ä¹‰æ··æ·†ï¼šå¼€å‘äººå‘˜æ¸…æ¥šçŸ¥é“ ClickHouse æ“ä½œä¸åœ¨äº‹åŠ¡ä¿æŠ¤èŒƒå›´å†…</li>
<li>âœ… æ€§èƒ½ä¼˜åŒ–ï¼šå‡å°‘äº‹åŠ¡ç®¡ç†è°ƒç”¨ï¼ˆsetAutoCommitã€commitç­‰ï¼‰çš„å¼€é”€</li>
</ul>
<p><strong>ä½¿ç”¨å»ºè®®ï¼š</strong></p>
<ul>
<li>å¯¹äºéœ€è¦äº‹åŠ¡ä¿æŠ¤çš„ MySQL æ“ä½œï¼Œä½¿ç”¨ <code>@Transactional</code> æ³¨è§£</li>
<li>å¯¹äº ClickHouse æ“ä½œï¼Œä¸ä½¿ç”¨ <code>@Transactional</code> æ³¨è§£ï¼Œè®©å…¶è‡ªåŠ¨æäº¤</li>
<li>ä¸è¦åœ¨åŒä¸€ä¸ª <code>@Transactional</code> æ–¹æ³•ä¸­æ··ç”¨ MySQL å’Œ ClickHouse æ“ä½œ</li>
</ul>
<hr/>
<h2 data-id="heading-40">äº”ã€æ¶æ„æ›¿ä»£æ–¹æ¡ˆ</h2>
<h3 data-id="heading-41">5.1 æ–¹æ¡ˆæ¦‚è¿°</h3>
<p>é‰´äº MySQL å’Œ ClickHouse åœ¨ä¸šåŠ¡åœºæ™¯ä¸­é€šå¸¸<strong>åŒæ—¶ä½¿ç”¨</strong>è€Œé<strong>äº’æ–¥ä½¿ç”¨</strong>ï¼Œå¯ä»¥è€ƒè™‘æ›´å½»åº•çš„æ¶æ„è°ƒæ•´ï¼š<strong>ä¸º MySQL å’Œ ClickHouse åˆ†åˆ«é…ç½®ç‹¬ç«‹çš„æ•°æ®æºå’Œ MyBatis SqlSessionFactory</strong>ï¼Œå®Œå…¨é¿å…åŠ¨æ€åˆ‡æ¢å¸¦æ¥çš„å®ç°å¤æ‚æ€§å’Œè¿è¡Œæ—¶é£é™©ã€‚</p>
<h3 data-id="heading-42">5.2 æ–¹æ¡ˆä¼˜åŠ¿</h3>
<p><strong>1. æ¶æ„æ¸…æ™°ï¼ŒèŒè´£åˆ†ç¦»</strong></p>
<ul>
<li>MySQL SqlSessionFactoryï¼šè´Ÿè´£ OLTP ä¸šåŠ¡æ“ä½œï¼Œæ”¯æŒå®Œæ•´çš„äº‹åŠ¡ç®¡ç†</li>
<li>ClickHouse SqlSessionFactoryï¼šè´Ÿè´£ OLAP åˆ†ææŸ¥è¯¢ï¼Œæ— äº‹åŠ¡ç®¡ç†</li>
</ul>
<p><strong>2. æ¶ˆé™¤å·²çŸ¥é£é™©</strong></p>
<ul>
<li>âœ… æ—  ThreadLocal æ³„æ¼é£é™©ï¼ˆä¸éœ€è¦ ThreadLocalï¼‰</li>
<li>âœ… æ— å¹¶å‘ç«æ€æ¡ä»¶ï¼ˆæ— åŠ¨æ€åˆ›å»ºé€»è¾‘ï¼‰</li>
<li>âœ… æ— äº‹åŠ¡è¾¹ç•Œé—®é¢˜ï¼ˆä¸¤ä¸ªæ•°æ®æºç‹¬ç«‹ç®¡ç†ï¼‰</li>
<li>âœ… æ— æ–¹æ³•åŒ¹é…é—®é¢˜ï¼ˆé€šè¿‡ä¸åŒçš„ Mapper æ¥å£åŒºåˆ†ï¼‰</li>
</ul>
<p><strong>3. å¼€å‘ä½“éªŒæ›´å¥½</strong></p>
<ul>
<li>Mapper æ¥å£é€šè¿‡åŒ…è·¯å¾„æˆ–å‘½åè§„åˆ™è‡ªç„¶åŒºåˆ†ï¼ˆå¦‚ <code>*.mysql.mapper</code> vs <code>*.clickhouse.mapper</code>ï¼‰</li>
<li>ä¸éœ€è¦é¢å¤–çš„ <code>@Clickhouse</code> æ³¨è§£</li>
<li>IDE è‡ªåŠ¨è¡¥å…¨å’Œç±»å‹æ£€æŸ¥æ›´å‹å¥½</li>
</ul>
<h3 data-id="heading-43">5.3 è·¨æ•°æ®æºæ•°æ®ä¸€è‡´æ€§æ–¹æ¡ˆ</h3>
<p>å¯¹äºéœ€è¦åŒæ—¶æ“ä½œ MySQL å’Œ ClickHouse çš„åœºæ™¯ï¼Œæ¨èä»¥ä¸‹ä¸€è‡´æ€§ä¿è¯æ–¹æ¡ˆï¼š</p>
<p><strong>æ–¹æ¡ˆ Aï¼šMySQL äº‹åŠ¡ + å¼‚æ­¥äº‹ä»¶é€šçŸ¥ ClickHouseï¼ˆæ¨èï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
    <span class="hljs-comment">// 1. MySQL äº‹åŠ¡å†…å®Œæˆä¸šåŠ¡æ“ä½œ</span>
    orderMapper.insert(order);
    
    <span class="hljs-comment">// 2. å‘å¸ƒé¢†åŸŸäº‹ä»¶ï¼ˆäº‹åŠ¡æäº¤åè§¦å‘ï¼‰</span>
    applicationEventPublisher.publishEvent(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCreatedEvent</span>(order));
}

<span class="hljs-meta">@EventListener</span>
<span class="hljs-meta">@Async</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">syncToClickhouse</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
    <span class="hljs-comment">// 3. å¼‚æ­¥å†™å…¥ ClickHouseï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰</span>
    clickhouseLogMapper.insert(event.getOrder());
}
</code></pre>
<p><strong>æ–¹æ¡ˆ Bï¼šè¡¥å¿æœºåˆ¶ï¼ˆé€‚ç”¨äºå¯¹ä¸€è‡´æ€§è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼‰</strong></p>
<ul>
<li>MySQL æ“ä½œæˆåŠŸï¼ŒClickHouse å†™å…¥å¤±è´¥ â†’ é€šè¿‡å®šæ—¶ä»»åŠ¡æˆ–æ¶ˆæ¯é˜Ÿåˆ—é‡è¯•</li>
<li>æ¥å—çŸ­æ—¶é—´çš„æ•°æ®ä¸ä¸€è‡´ï¼Œé€šè¿‡æœ€ç»ˆä¸€è‡´æ€§ä¿è¯</li>
</ul>
<p><strong>æ–¹æ¡ˆ Cï¼šåˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆä¸æ¨èï¼‰</strong></p>
<ul>
<li>ä½¿ç”¨ Seataã€XA ç­‰åˆ†å¸ƒå¼äº‹åŠ¡æ¡†æ¶</li>
<li>æ€§èƒ½å¼€é”€å¤§ï¼ŒClickHouse ä¸æ”¯æŒæ ‡å‡†äº‹åŠ¡åè®®ï¼Œå®ç°å›°éš¾</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elasticsearchï¼šå¦‚ä½•åœ¨ ES|QL ä¸­ä½¿ç”¨ FORK åŠ FUSE å‘½ä»¤æ¥å®ç°æ··åˆæœç´¢ - 9.1+]]></title>    <link>https://juejin.cn/post/7572921387747033094</link>    <guid>https://juejin.cn/post/7572921387747033094</guid>    <pubDate>2025-11-17T03:25:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572921387747033094" data-draft-id="7573187591223623734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elasticsearchï¼šå¦‚ä½•åœ¨ ES|QL ä¸­ä½¿ç”¨ FORK åŠ FUSE å‘½ä»¤æ¥å®ç°æ··åˆæœç´¢ - 9.1+"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2025-11-17T03:25:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elasticsearchï¼šå¦‚ä½•åœ¨ ES|QL ä¸­ä½¿ç”¨ FORK åŠ FUSE å‘½ä»¤æ¥å®ç°æ··åˆæœç´¢ - 9.1+
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:25:21.000Z" title="Mon Nov 17 2025 03:25:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc5b27bca8d3494d9e777d9e46bff65b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=yc0UgYZLU97KcfZ8edacgQBS3JY%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬çŸ¥é“åœ¨ DSL ä¸­æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä½¿ç”¨ RRF åŠçº¿æ€§æ¥é’ˆå¯¹å¤šè·¯æœç´¢è¿›è¡Œæ··åˆæœç´¢ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‘½ä»¤æ¥è¿›è¡Œ RRF æ··åˆæœç´¢ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  GET /imdb_movies/_search?pretty
2.  {
3.    <span class="hljs-string">"retriever"</span>: {
4.      <span class="hljs-string">"rrf"</span>: {
5.        <span class="hljs-string">"retrievers"</span>: [
6.          {
7.            <span class="hljs-string">"standard"</span>: {
8.              <span class="hljs-string">"query"</span>: {
9.                <span class="hljs-string">"term"</span>: {
10.                  <span class="hljs-string">"overview"</span>: <span class="hljs-string">"clueless slackers"</span>
11.                }
12.              }
13.            }
14.          },
15.          {
16.            <span class="hljs-string">"knn"</span>: {
17.              <span class="hljs-string">"field"</span>: <span class="hljs-string">"overview_dense"</span>,
18.              <span class="hljs-string">"query_vector_builder"</span>: {
19.                <span class="hljs-string">"text_embedding"</span>: {
20.                  <span class="hljs-string">"model_id"</span>: <span class="hljs-string">".multilingual-e5-small_linux-x86_64"</span>,
21.                  <span class="hljs-string">"model_text"</span>: <span class="hljs-string">"clueless slackers"</span>
22.                }
23.              },
24.              <span class="hljs-string">"k"</span>: 5,
25.              <span class="hljs-string">"num_candidates"</span>: 5
26.            }
27.          },
28.          {
29.            <span class="hljs-string">"standard"</span>: {
30.              <span class="hljs-string">"query"</span>: {
31.                <span class="hljs-string">"text_expansion"</span>: {
32.                  <span class="hljs-string">"overview_sparse"</span>: {
33.                    <span class="hljs-string">"model_id"</span>: <span class="hljs-string">".elser_model_2_linux-x86_64"</span>,
34.                    <span class="hljs-string">"model_text"</span>: <span class="hljs-string">"clueless slackers"</span>
35.                  }
36.                }
37.              }
38.            }
39.          }
40.        ],
41.        <span class="hljs-string">"rank_window_size"</span>: 5,
42.        <span class="hljs-string">"rank_constant"</span>: 1
43.      }
44.    },
45.    <span class="hljs-string">"size"</span>: 3,
46.    <span class="hljs-string">"fields"</span>: [
47.      <span class="hljs-string">"names"</span>,
48.      <span class="hljs-string">"overview"</span>
49.    ],
50.    <span class="hljs-string">"_source"</span>: <span class="hljs-literal">false</span>
51.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)æ”¶èµ·ä»£ç å—![](https://csdnimg.cn/release/blogv2/dist/pc/img/arrowup-line-top-White.png)
</code></pre>
<p>è¯·è¯¦ç»†é˜…è¯»ä¹‹å‰çš„æ–‡ç«  â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F140361405" title="https://elasticstack.blog.csdn.net/article/details/140361405" target="_blank" ref="nofollow noopener noreferrer">Elasticsearchï¼šä»‹ç» retrievers - æœç´¢ä¸€åˆ‡äº‹ç‰©</a>â€ã€‚åœ¨ä¸Šé¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† RRFã€‚æœ‰å…³ RRF çš„ä»‹ç»ï¼Œè¯·é˜…è¯»æ–‡ç«  â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F131200354" title="https://elasticstack.blog.csdn.net/article/details/131200354" target="_blank" ref="nofollow noopener noreferrer">Elasticsearchï¼šå€’æ•°æ’åºèåˆ - Reciprocal rank fusion (RRF)</a>â€ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨çº¿æ€§ç»„åˆæ¥å¹³è¡¡æ··åˆæœç´¢ã€‚è¯·è¯¦ç»†é˜…è¯»æ–‡ç«  â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F151765742" title="https://elasticstack.blog.csdn.net/article/details/151765742" target="_blank" ref="nofollow noopener noreferrer">å¹³è¡¡å°ºåº¦ï¼šåˆ©ç”¨æƒé‡ä½¿å€’æ•°æ’åºèåˆ (RRF) æ›´åŠ æ™ºèƒ½</a>â€ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  {
<span class="hljs-bullet">2.</span>    "retriever": {
<span class="hljs-bullet">3.</span>      "rrf": {
<span class="hljs-bullet">4.</span>        "retrievers": [
<span class="hljs-bullet">5.</span>          {
<span class="hljs-bullet">6.</span>            "retriever": {
<span class="hljs-bullet">7.</span>              "standard": {
<span class="hljs-bullet">8.</span>                "query": {
<span class="hljs-bullet">9.</span>                  "match": {
<span class="hljs-bullet">10.</span>                    "cuisine<span class="hljs-emphasis">_type": "Italian"
11.                  }
12.                }
13.              }
14.            },
15.            "weight": 0.4
16.          },
17.          {
18.            "retriever": {
19.              "standard": {
20.                "query": {
21.                  "match": {
22.                    "menu_</span>items": "cacio e pepe"
<span class="hljs-bullet">23.</span>                  }
<span class="hljs-bullet">24.</span>                }
<span class="hljs-bullet">25.</span>              }
<span class="hljs-bullet">26.</span>            },
<span class="hljs-bullet">27.</span>            "weight": 0.6
<span class="hljs-bullet">28.</span>          }
<span class="hljs-bullet">29.</span>        ]
<span class="hljs-bullet">30.</span>      }
<span class="hljs-bullet">31.</span>    }
<span class="hljs-bullet">32.</span>  }

`AIå†™ä»£ç ![](<span class="hljs-link">https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png</span>)
</code></pre>
<p>éšç€ ES|QL çš„æ¨å‡ºï¼Œè¶Šæ¥è¶Šå¤šçš„æŸ¥è¯¢ä¼šä½¿ç”¨ ES|QL æ¥åšæŸ¥è¯¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•å®ç°æ··åˆæœç´¢å‘¢ï¼Ÿ</p>
<p>Elastic åœ¨ 9.1 ä¸­å¼€å§‹æ¨å‡º FORK åŠ FUSE å‘½ä»¤æ¥å¸®åŠ©æˆ‘ä»¬æ¥å®ç°è¿™ç§æ··åˆæœç´¢ã€‚</p>
<h2 data-id="heading-0">å‡†å¤‡æ•°æ®</h2>
<p>æˆ‘ä»¬é¦–å…ˆåˆ›å»ºå¦‚ä¸‹çš„æ•°æ®é›†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  PUT /people
2.  {
3.    <span class="hljs-string">"mappings"</span>: {
4.      <span class="hljs-string">"properties"</span>: {
5.        <span class="hljs-string">"id"</span>: {
6.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>
7.        },
8.        <span class="hljs-string">"name"</span>: {
9.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>
10.        },
11.        <span class="hljs-string">"description"</span>: {
12.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
13.          <span class="hljs-string">"copy_to"</span>: <span class="hljs-string">"des_semantic"</span>
14.        },
15.        <span class="hljs-string">"des_semantic"</span>: {
16.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"semantic_text"</span>,
17.          <span class="hljs-string">"inference_id"</span>: <span class="hljs-string">".multilingual-e5-small-elasticsearch"</span>
18.        },
19.        <span class="hljs-string">"sex"</span>: {
20.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"keyword"</span>
21.        },
22.        <span class="hljs-string">"age"</span>: {
23.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>
24.        },
25.        <span class="hljs-string">"address"</span>: {
26.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>
27.        },
28.        <span class="hljs-string">"location"</span>: {
29.          <span class="hljs-string">"type"</span>: <span class="hljs-string">"geo_point"</span>
30.        }
31.      }
32.    }
33.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>

<pre><code class="hljs language-bash" lang="bash">`

1.  POST /_bulk
2.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"1"</span> } }
3.  { <span class="hljs-string">"id"</span>: 1, <span class="hljs-string">"name"</span> : <span class="hljs-string">"John Doe"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A software developer"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Male"</span>, <span class="hljs-string">"age"</span> : 30, <span class="hljs-string">"address"</span> : <span class="hljs-string">"123 Elm Street, Springfield"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 37.7749, <span class="hljs-string">"lon"</span>: -122.4194} }
4.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"2"</span> } }
5.  { <span class="hljs-string">"id"</span>: 2, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Jane Smith"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A project manager"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Female"</span>, <span class="hljs-string">"age"</span> : 28, <span class="hljs-string">"address"</span> : <span class="hljs-string">"456 Maple Avenue, Anytown"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 40.7128, <span class="hljs-string">"lon"</span>: -74.0060} }
6.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"3"</span> } }
7.  { <span class="hljs-string">"id"</span>: 3, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Alice Johnson"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A graphic designer"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Female"</span>, <span class="hljs-string">"age"</span> : 26, <span class="hljs-string">"address"</span> : <span class="hljs-string">"789 Oak Lane, Metropolis"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 34.0522, <span class="hljs-string">"lon"</span>: -118.2437} }
8.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"4"</span> } }
9.  { <span class="hljs-string">"id"</span>: 4, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Bob Brown"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A marketing specialist"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Male"</span>, <span class="hljs-string">"age"</span> : 32, <span class="hljs-string">"address"</span> : <span class="hljs-string">"321 Pine Street, Gotham"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 41.8781, <span class="hljs-string">"lon"</span>: -87.6298} }
10.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"5"</span> } }
11.  { <span class="hljs-string">"id"</span>: 5, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Charlie Davis"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"An IT analyst"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Male"</span>, <span class="hljs-string">"age"</span> : 29, <span class="hljs-string">"address"</span> : <span class="hljs-string">"654 Cedar Blvd, Star City"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 29.7604, <span class="hljs-string">"lon"</span>: -95.3698} }
12.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"6"</span> } }
13.  { <span class="hljs-string">"id"</span>: 6, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Diana Prince"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A diplomat"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Female"</span>, <span class="hljs-string">"age"</span> : 35, <span class="hljs-string">"address"</span> : <span class="hljs-string">"987 Birch Road, Themyscira"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 39.9526, <span class="hljs-string">"lon"</span>: -75.1652} }
14.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"7"</span> } }
15.  { <span class="hljs-string">"id"</span>: 7, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Evan Wright"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A journalist"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Male"</span>, <span class="hljs-string">"age"</span> : 27, <span class="hljs-string">"address"</span> : <span class="hljs-string">"213 Willow Lane, Central City"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 33.4484, <span class="hljs-string">"lon"</span>: -112.0740} }
16.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"8"</span> } }
17.  { <span class="hljs-string">"id"</span>: 8, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Fiona Gallagher"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A nurse"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Female"</span>, <span class="hljs-string">"age"</span> : 31, <span class="hljs-string">"address"</span> : <span class="hljs-string">"546 Spruce Street, South Side"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 32.7157, <span class="hljs-string">"lon"</span>: -117.1611} }
18.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"9"</span> } }
19.  { <span class="hljs-string">"id"</span>: 9, <span class="hljs-string">"name"</span> : <span class="hljs-string">"George King"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A teacher"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Male"</span>, <span class="hljs-string">"age"</span> : 34, <span class="hljs-string">"address"</span> : <span class="hljs-string">"879 Elm St, Smallville"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 39.7392, <span class="hljs-string">"lon"</span>: -104.9903} }
20.  { <span class="hljs-string">"index"</span> : { <span class="hljs-string">"_index"</span> : <span class="hljs-string">"people"</span>, <span class="hljs-string">"_id"</span> : <span class="hljs-string">"10"</span> } }
21.  { <span class="hljs-string">"id"</span>: 10, <span class="hljs-string">"name"</span> : <span class="hljs-string">"Helen Parr"</span>, <span class="hljs-string">"description"</span> : <span class="hljs-string">"A full-time superhero"</span>, <span class="hljs-string">"sex"</span> : <span class="hljs-string">"Female"</span>, <span class="hljs-string">"age"</span>: 37, <span class="hljs-string">"address"</span> : <span class="hljs-string">"123 Metro Avenue, Metroville"</span>, <span class="hljs-string">"location"</span>: {<span class="hljs-string">"lat"</span>: 47.6062, <span class="hljs-string">"lon"</span>: -122.3321} }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬çš„ people ç´¢å¼•å«æœ‰ä¸€ä¸ª description å­—æ®µã€‚å®ƒæ˜¯ text ç±»å‹çš„ã€‚è€Œå¦å¤–ä¸€ä¸ªå­—æ®µÂ des_semantic å…¶å®æ˜¯ä¸€ä¸ªå¯†é›†å‘é‡ã€‚å®ƒçš„ç±»å‹æ˜¯Â semantic_textã€‚å…¶å‘é‡å€¼ç”± E3 å¤šè¯­è¨€æ¨¡å‹äº§ç”Ÿã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é’ˆå¯¹ des_semantic å­—æ®µåšå¦‚ä¸‹çš„å‘é‡æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _score 
5.       | WHERE MATCH(des_semantic, "coder")
6.       | SORT _score DESC | LIMIT 2
7.       | KEEP description
8.    """</span>
<span class="hljs-number">9.</span>  }

`AIå†™ä»£ç 
</code></pre>
<p>æˆ‘ä»¬åšå¦‚ä¸Šçš„æŸ¥è¯¢ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dee9c19bd4714198b55b4371152f746b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=lxM1iNpjSVfQUviUxdLrBpqSOww%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">FORK</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fcommands%2Ffork" title="https://www.elastic.co/docs/reference/query-languages/esql/commands/fork" target="_blank" ref="nofollow noopener noreferrer">FORK</a> å¤„ç†å‘½ä»¤ä¼šåˆ›å»ºå¤šä¸ªæ‰§è¡Œåˆ†æ”¯ï¼Œå¯¹ç›¸åŒçš„è¾“å…¥æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¹¶å°†ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªè¾“å‡ºè¡¨ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">`FORK ( &lt;processing_commands&gt; ) ( &lt;processing_commands&gt; ) ... ( &lt;processing_commands&gt; )`AIå†™ä»£ç 
</code></pre>
<p><strong>è¯´æ˜</strong></p>
<p>FORK å¤„ç†å‘½ä»¤ä¼šåˆ›å»ºå¤šä¸ªæ‰§è¡Œåˆ†æ”¯ï¼Œå¯¹ç›¸åŒçš„è¾“å…¥æ•°æ®è¿›è¡Œæ“ä½œï¼Œå¹¶å°†ç»“æœåˆå¹¶ä¸ºä¸€ä¸ªè¾“å‡ºè¡¨ã€‚ä¼šæ·»åŠ ä¸€ä¸ªåŒºåˆ†åˆ—ï¼ˆ_forkï¼‰æ¥æ ‡è¯†æ¯ä¸€è¡Œæ¥è‡ªå“ªä¸ªåˆ†æ”¯ã€‚</p>
<p>ç»“åˆ FUSE å‘½ä»¤ï¼ŒFORK å¯ä»¥å®ç°æ··åˆæœç´¢ï¼Œç”¨æ¥åˆå¹¶å¹¶ç»™å¤šä¸ªæŸ¥è¯¢çš„ç»“æœæ‰“åˆ†ã€‚æƒ³è¦äº†è§£æ›´å¤šå…³äºä½¿ç”¨ ES|QL åšæœç´¢çš„å†…å®¹ï¼Œè¯·å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fesql-for-search" title="https://www.elastic.co/docs/solutions/search/esql-for-search" target="_blank" ref="nofollow noopener noreferrer">ES|QL for search</a>ã€‚</p>
<p><strong>ä¾‹å­</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _score 
5.       | FORK (WHERE MATCH(des_semantic, "coder"))
6.              (WHERE MATCH(description, "journalist"))
7.       | SORT _score DESC
8.       | KEEP description
9.       | LIMIT 2
10.    """</span>
<span class="hljs-number">11.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46f6ad8cab2c41e0ab710e3803da1c31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=5hFkwiuWChXrF0REe1RaOX7x7a0%3D" alt="" loading="lazy"/></p>
<p>å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬å¾—åˆ°äº†æœç´¢æ—¢æ˜¯ jounalist ä¹Ÿæ˜¯æ˜¯ coder çš„æœç´¢ç»“æœã€‚è™½ç„¶è¿™ç§ç»“æœæ˜¯å¾ˆå¥½ï¼Œè¿”å›äº†å¤šè·¯æŸ¥è¯¢çš„ç»“æœï¼Œä½†æ˜¯æ¯•ç«ŸÂ WHERE MATCH(description, "journalist") ä½¿ç”¨çš„æ˜¯ BM25 çš„æœç´¢æ–¹æ³•ï¼Œè€ŒÂ HERE MATCH(des_semantic, "coder") ä½¿ç”¨çš„æ˜¯å‘é‡æœç´¢çš„æ–¹æ³•ã€‚ä¸¤ç§æ‰“åˆ†çš„æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ã€‚ç›¸ä¼¼æ€§çš„åˆ†æ•°åœ¨ 0-1 ä¹‹é—´ã€‚</p>
<p>æˆ‘ä»¬å†æ¬¡ä¿®æ”¹æˆ‘ä»¬çš„æŸ¥è¯¢æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _score 
5.       | FORK (WHERE MATCH(des_semantic, "coder"))
6.              (WHERE MATCH(description, "journalist"))
7.       | KEEP description, _score
8.       | LIMIT 2
9.    """</span>
<span class="hljs-number">10.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>åœ¨ä¸Šé¢ï¼Œæˆ‘ä»¬ä¿ç•™äº† _score çš„å€¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7962060d2199402398f0b9392fd0dbf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=uWTxOYdKh8pXTRJjAfkaTMFJ3SY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">FUSE å‘½ä»¤</h2>
<p>ä»ä¸Šé¢çš„ç»“æœä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼ŒFORK å‘½ä»¤è™½ç„¶å¯ä»¥å¸®æˆ‘è¿›è¡Œå¤šè·¯å¬å›ï¼Œä½†æ˜¯ä»–ä»¬å„è‡ªçš„æ‰“åˆ†ä½“ç°æ˜¯ä¸åŒçš„ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ç§æ–¹æ³•æŠŠå¤šè·¯æŸ¥è¯¢çš„ç»“æœæ¥è¿›è¡Œç»Ÿä¸€æ‰“åˆ†ï¼Œå¹¶æœ€ç»ˆç»™å‡ºç»“æœã€‚ FUSE å°±æ˜¯ä¸ºè¿™ç§æ··åˆæœç´¢è€Œç”Ÿã€‚FUSE å¤„ç†å‘½ä»¤ä¼šåˆå¹¶å¤šä¸ªç»“æœé›†çš„è¡Œï¼Œå¹¶åˆ†é…æ–°çš„ç›¸å…³æ€§åˆ†æ•°ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fcommands%2Ffuse" title="https://www.elastic.co/docs/reference/query-languages/esql/commands/fuse" target="_blank" ref="nofollow noopener noreferrer">FUSE</a> ä¸ FORK å‘½ä»¤ç»“åˆï¼Œå¯ä»¥å®ç°<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Freference%2Fquery-languages%2Fesql%2Fesql-search-tutorial%23perform-hybrid-search" title="https://www.elastic.co/docs/reference/query-languages/esql/esql-search-tutorial#perform-hybrid-search" target="_blank" ref="nofollow noopener noreferrer">æ··åˆæœç´¢</a>ï¼Œç”¨æ¥åˆå¹¶å¹¶ç»™å¤šä¸ªæŸ¥è¯¢çš„ç»“æœæ‰“åˆ†ã€‚</p>
<p>FUSE çš„å·¥ä½œæ–¹å¼åŒ…æ‹¬ï¼š</p>
<ul>
<li>
<p>åˆå¹¶å…·æœ‰åŒ¹é… <code>&lt;key_columns&gt;</code> å€¼çš„è¡Œ</p>
</li>
<li>
<p>ä½¿ç”¨æŒ‡å®šçš„ <code>&lt;fuse_method&gt;</code> ç®—æ³•ï¼Œæ ¹æ® <code>&lt;group_column&gt;</code> å’Œ <code>&lt;score_column&gt;</code> çš„å€¼åˆ†é…æ–°çš„ç›¸å…³æ€§åˆ†æ•°</p>
</li>
</ul>
<blockquote>
<p><strong>æç¤º</strong>ï¼šFUSE ç”¨äºæœç´¢ç”¨ä¾‹ï¼šå®ƒä¼šåˆå¹¶å·²æ’åºçš„ç»“æœé›†å¹¶è®¡ç®—ç›¸å…³æ€§ã€‚æƒ³äº†è§£æ›´å¤š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fsolutions%2Fsearch%2Fesql-for-search%23how-search-works-in-esql" title="https://www.elastic.co/docs/solutions/search/esql-for-search#how-search-works-in-esql" target="_blank" ref="nofollow noopener noreferrer">ES|QL ä¸­æœç´¢çš„å·¥ä½œæ–¹å¼</a>ã€‚</p>
</blockquote>
<h3 data-id="heading-3"><strong>ç¤ºä¾‹</strong>ï¼š</h3>
<h4 data-id="heading-4">ä½¿ç”¨ RRF</h4>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "coder" | SORT _score DESC)
6.              (WHERE description: "journalist" | SORT _score DESC)
7.       | FUSE
8.       | KEEP description, _score
9.       | LIMIT 2
10.    """</span>
<span class="hljs-number">11.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81c938f9970b4326bbc7b7df9d40ceae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=Gr0KqnoqVHdorpgK%2FWBu27aROgQ%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šé’ˆå¯¹ä¸Šé¢çš„æœç´¢ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ METADATA é‡ŒæŒ‡å _id, _index åŠ _scoreã€‚å¦åˆ™ä¼šæœ‰é”™è¯¯ï¼</p>
</blockquote>
<p>ä¸Šé¢çš„æœç´¢æ˜¯é’ˆå¯¹ä¸¤ç§ä¸åŒçš„èŒä¸šæ¥è¿›è¡Œæœç´¢çš„ã€‚æ¯”è¾ƒå°‘è§ã€‚æˆ‘ä»¬ç›´æ¥é’ˆå¯¹ coder æ¥è¿›è¡Œæœç´¢ï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "coder" | SORT _score DESC)
6.              (WHERE description: "coder" | SORT _score DESC)
7.       | FUSE
8.       | KEEP description, _score
9.       | LIMIT 2
10.    """</span>
<span class="hljs-number">11.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1474e3e06d3461ea8c3de40bf5b4cf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=IcMwDPK4TelnPgCqusPE4UUzuII%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æ›´åŠ æ¸…æ¥šåœ°è¯´æ˜é—®é¢˜ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª search_type æ¥å±•ç¤ºï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "coder" | SORT _score DESC | EVAL search_type = "semantic" )
6.              (WHERE description: "coder" | SORT _score DESC | EVAL search_type = "bm25")
7.       | FUSE
8.       | KEEP description, _score, search_type
9.       | LIMIT 2
10.    """</span>
<span class="hljs-number">11.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1aa94420dcdb47a4b14eb72950eaf58c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=arUruTymQ6hIl8bwwCxResYorKQ%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥æŸ¥è¯¢ software developerï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "software developer" | SORT _score DESC | EVAL search_type = "semantic" )
6.              (WHERE description: "software developer" | SORT _score DESC | EVAL search_type = "bm25")
7.       | FUSE
8.       | KEEP description, _score, search_type
9.       | LIMIT 2
10.    """</span>
<span class="hljs-number">11.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8cbdfb4e8ab48fba305354775a0b161~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=ZW2Om26%2Frj%2B4yfSuACyNkAuSrz0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">ä½¿ç”¨çº¿æ€§ç»„åˆ</h4>
<p>FUSE ä¹Ÿå¯ä»¥ä½¿ç”¨ çº¿æ€§ åˆ†æ•°ç»„åˆï¼š</p>
<pre><code class="hljs language-python" lang="python">`

<span class="hljs-number">1.</span>  POST _query?<span class="hljs-built_in">format</span>=txt
<span class="hljs-number">2.</span>  {
<span class="hljs-number">3.</span>    <span class="hljs-string">"query"</span>: <span class="hljs-string">"""
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "software developer" | SORT _score DESC | EVAL search_type = "semantic" )
6.              (WHERE description: "software developer" | SORT _score DESC | EVAL search_type = "bm25")
7.       | FUSE LINEAR
8.       | KEEP description, _score, search_type
9.       | LIMIT 2
10.    """</span>
<span class="hljs-number">11.</span>  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cf917c06eb24980973b115fe13baa7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=11VpRHfhdHhO6apkLvforNs2VJs%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å®šåˆ¶çš„ weightsã€‚FUSE å…è®¸ä½ åŸºäº <code>_fork</code> åˆ—çš„å€¼ä¸ºåˆ†æ•°æŒ‡å®šä¸åŒçš„æƒé‡ï¼Œè®©ä½ å¯ä»¥æ§åˆ¶æ¯ä¸ªæŸ¥è¯¢åˆ†æ”¯åœ¨æœ€ç»ˆç»“æœä¸­çš„ç›¸å¯¹é‡è¦æ€§ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _query?format=txt
2.  {
3.    <span class="hljs-string">"query"</span>: <span class="hljs-string">""</span><span class="hljs-string">"
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "</span>software developer<span class="hljs-string">" | SORT _score DESC | EVAL search_type = "</span>semantic<span class="hljs-string">" )
6.              (WHERE description: "</span>software developer<span class="hljs-string">" | SORT _score DESC | EVAL search_type = "</span>bm25<span class="hljs-string">")
7.       | FUSE LINEAR WITH { "</span>weights<span class="hljs-string">": { "</span>fork1<span class="hljs-string">": 0.7, "</span>fork2<span class="hljs-string">": 0.3 }, "</span>normalizer<span class="hljs-string">": "</span>minmax<span class="hljs-string">" }
8.       | KEEP description, _score, search_type
9.       | LIMIT 2
10.    "</span><span class="hljs-string">""</span>
11.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/785cb67fbf794870867e24841cc0bba5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=U%2BpFfPljPlV6cZyOPWS%2FGpcaSfo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">å½’ä¸€åŒ– åˆ†æ•°</h4>
<p>å½“ä½¿ç”¨ çº¿æ€§ ç»„åˆå°†è¯­ä¹‰æŸ¥è¯¢å’Œè¯æ³•æŸ¥è¯¢çš„ç»“æœåˆå¹¶æ—¶ï¼Œæˆ‘ä»¬å»ºè®®å…ˆå¯¹æ¯ä¸ªç»“æœé›†çš„åˆ†æ•°è¿›è¡Œå½’ä¸€åŒ–ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹ä½¿ç”¨ minmax åˆ†æ•°å½’ä¸€åŒ–ã€‚è¿™æ„å‘³ç€åœ¨åˆå¹¶è¡Œä¹‹å‰ï¼Œåˆ†æ•°ä¼šå½’ä¸€åŒ–ä¸º 0 åˆ° 1 ä¹‹é—´çš„å€¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _query?format=txt
2.  {
3.    <span class="hljs-string">"query"</span>: <span class="hljs-string">""</span><span class="hljs-string">"
4.       FROM people METADATA _id, _index, _score 
5.       | FORK (WHERE des_semantic: "</span>software developer<span class="hljs-string">" | SORT _score DESC | EVAL search_type = "</span>semantic<span class="hljs-string">" )
6.              (WHERE description: "</span>software developer<span class="hljs-string">" | SORT _score DESC | EVAL search_type = "</span>bm25<span class="hljs-string">")
7.       | FUSE LINEAR WITH { "</span>normalizer<span class="hljs-string">": "</span>minmax<span class="hljs-string">" }
8.       | KEEP description, _score, search_type
9.       | LIMIT 2
10.    "</span><span class="hljs-string">""</span>
11.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e077d8154db4ba7a44187d7ef9d735a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954721&amp;x-signature=Tm4T9B10mjJ2MoQaVr0CeoZadjA%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[fasttushare éœ€æ±‚åˆ†æ]]></title>    <link>https://juejin.cn/post/7572972346073972763</link>    <guid>https://juejin.cn/post/7572972346073972763</guid>    <pubDate>2025-11-17T03:31:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572972346073972763" data-draft-id="7572939250587156531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="fasttushare éœ€æ±‚åˆ†æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T03:31:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç§æ•™"/> <meta itemprop="url" content="https://juejin.cn/user/3394924618197325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            fasttushare éœ€æ±‚åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3394924618197325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç§æ•™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:31:21.000Z" title="Mon Nov 17 2025 03:31:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¡¹ç›®æ¦‚è¿°</h2>
<p>fasttushare æ˜¯ä¸€ä¸ªåœ¨ TuShare Pro ä¹‹ä¸Šå°è£…çš„é«˜æ€§èƒ½ç¼“å­˜å±‚ä¸è®¿é—®åº“ï¼Œé€šè¿‡æ™ºèƒ½ç¼“å­˜ã€å¹¶å‘è°ƒåº¦ä¸æ•°æ®ä¸€è‡´æ€§ç­–ç•¥æ˜¾è‘—æå‡æ•°æ®è·å–é€Ÿåº¦ï¼Œå‡å°‘é‡å¤ç½‘ç»œè¯·æ±‚ä¸é…é¢æ¶ˆè€—ã€‚é¡¹ç›®æœ€ç»ˆä»¥ Python åº“å½¢å¼å‘å¸ƒï¼Œåº“åä¸º <code>fasttushare</code>ï¼Œä½œè€…ä¸ºå¼ å¤§é¹ã€‚</p>
<h2 data-id="heading-1">èƒŒæ™¯ä¸åŠ¨æœº</h2>
<ul>
<li>TuShare Pro æä¾›æµ·é‡é‡‘èæ•°æ®ï¼Œä½†å­˜åœ¨æ¥å£è°ƒç”¨é…é¢ä¸é€Ÿç‡é™åˆ¶ï¼Œä¸”é‡å¤æŸ¥è¯¢ä¼šæµªè´¹è°ƒç”¨é¢åº¦ä¸æ—¶é—´ã€‚</li>
<li>ç ”ç©¶ã€å›æµ‹ã€æŠ¥è¡¨ç”Ÿæˆç­‰åœºæ™¯ä¸­å¯¹å†å²æ•°æ®çš„é‡å¤è®¿é—®é¢‘ç¹ï¼Œé€‚åˆä»¥æœ¬åœ°ç¼“å­˜å‘½ä¸­æ¥èŠ‚çº¦æ—¶é—´ä¸é¢åº¦ã€‚</li>
<li>éœ€è¦ä¸€ä¸ªå…¼å®¹ TuShare Pro çš„é€æ˜ä»£ç†å±‚ï¼Œæœ€å¤§åŒ–å‘½ä¸­ç¼“å­˜ã€æœ€å°åŒ–ç½‘ç»œè°ƒç”¨ã€å¯æ§åœ°ä¿è¯æ•°æ®æ–°é²œåº¦ã€‚</li>
</ul>
<h2 data-id="heading-2">ç›®æ ‡ä¸ä¸åšäº‹é¡¹</h2>
<h3 data-id="heading-3">é¡¹ç›®ç›®æ ‡</h3>
<ul>
<li>åœ¨ä¸æ”¹å˜ä¸šåŠ¡é€»è¾‘çš„å‰æä¸‹ï¼ŒåŠ é€Ÿ TuShare æ•°æ®è®¿é—®ï¼Œæ˜¾è‘—é™ä½æ¥å£è°ƒç”¨æ¬¡æ•°ã€‚</li>
<li>æä¾›ã€Œé€æ˜ä½¿ç”¨ã€ä½“éªŒï¼šå°½é‡ä¿æŒä¸ TuShare Pro åŸæœ‰è°ƒç”¨æ–¹å¼ä¸€è‡´ï¼Œç”¨æˆ·è¿ç§»æˆæœ¬ä½ã€‚</li>
<li>å¯é…ç½®çš„ç¼“å­˜ç­–ç•¥ï¼ˆTTLã€LRUã€å±‚çº§ç¼“å­˜ã€é¢„çƒ­ã€ç¦»çº¿æ¨¡å¼ï¼‰ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„æ–°é²œåº¦ä¸æ€§èƒ½éœ€æ±‚ã€‚</li>
<li>ç»Ÿä¸€çš„å…ƒæ•°æ®ä¸ä¸€è‡´æ€§ç®¡ç†ï¼Œä¿è¯æ•°æ®å‡†ç¡®æ€§å¯è¿½æº¯ã€‚</li>
<li>å¯è§‚æµ‹æ€§ï¼šæä¾›å‘½ä¸­ç‡ã€èŠ‚çœè°ƒç”¨æ•°ã€è€—æ—¶ç­‰æŒ‡æ ‡ï¼Œè¾…åŠ©ä¼˜åŒ–ç­–ç•¥ã€‚</li>
</ul>
<h3 data-id="heading-4">ä¸åšäº‹é¡¹ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰</h3>
<ul>
<li>ä¸æä¾› TuShare æ•°æ®çš„äºŒæ¬¡åˆ†å‘æœåŠ¡ï¼Œä»…åœ¨æœ¬æœº/å¯æ§å­˜å‚¨å±‚åšç¼“å­˜ã€‚</li>
<li>ä¸ç»•è¿‡åˆæ³•é…é¢ä¸åè®®é™åˆ¶ï¼Œç¼“å­˜ä»…ç”¨äºå‡å°‘é‡å¤è°ƒç”¨è€Œéè§„é¿æœåŠ¡æ¡æ¬¾ã€‚</li>
<li>ä¸å®ç°æ•°æ®æ¸…æ´—/åŠ å·¥æµæ°´çº¿ï¼Œèšç„¦äºé«˜æ•ˆè·å–ä¸ç¼“å­˜ã€‚</li>
</ul>
<h2 data-id="heading-5">ç”¨æˆ·ç”»åƒä¸ä½¿ç”¨åœºæ™¯</h2>
<ul>
<li>é‡åŒ–ç ”ç©¶å‘˜ï¼šé¢‘ç¹å›æ”¾ä¸å›æµ‹å†å²è¡Œæƒ…/å› å­æ•°æ®ï¼Œå…³æ³¨æ‰¹é‡è¯»å–ä¸é«˜å‘½ä¸­ç‡ã€‚</li>
<li>æ•°æ®å·¥ç¨‹å¸ˆï¼šå‘¨æœŸæ€§æ„å»ºæ•°æ®é›†å¸‚ï¼Œå…³æ³¨ç¨³å®šæ€§ã€å¯è§‚æµ‹æ€§ä¸æ‰¹å¤„ç†æ•ˆç‡ã€‚</li>
<li>ä¸ªäººç ”ç©¶è€…/å­¦ç”Ÿï¼šè„šæœ¬åŒ–æŸ¥è¯¢ï¼Œå…³æ³¨æ˜“ç”¨æ€§ä¸å®‰è£…æˆæœ¬ã€‚</li>
</ul>
<p>å…¸å‹åœºæ™¯ï¼š</p>
<ul>
<li>é‡å¤æŸ¥è¯¢åŒä¸€ <code>ts_code</code> åœ¨å¤šå¤©æˆ–å¤šæ¬¡å®éªŒä¸­å¤ç”¨ã€‚</li>
<li>å›æµ‹æ—¶æŒ‰äº¤æ˜“æ—¥åºåˆ—æ‹‰å–åŒä¸€ç«¯ç‚¹çš„ä¸€è‡´å‚æ•°ç»„åˆã€‚</li>
<li>ç¦»çº¿åˆ†ææ—¶åœ¨æ— ç½‘ç»œæˆ–é¢åº¦ä¸è¶³æƒ…å†µä¸‹ä¾ç„¶å¯è¯»ç¼“å­˜æ•°æ®ã€‚</li>
</ul>
<h2 data-id="heading-6">æˆåŠŸæŒ‡æ ‡ä¸æ€§èƒ½ç›®æ ‡</h2>
<ul>
<li>å‘½ä¸­ç‡ï¼šå¸¸ç”¨ç«¯ç‚¹åœ¨ç¨³å®šå·¥ä½œé›†ä¸‹ç¼“å­˜å‘½ä¸­ç‡ â‰¥ 80%ã€‚</li>
<li>å»¶è¿Ÿï¼šå‘½ä¸­ç¼“å­˜çš„å•æ¬¡æŸ¥è¯¢å»¶è¿Ÿ â‰¤ 30msï¼ˆæœ¬åœ°å­˜å‚¨ï¼‰ã€‚</li>
<li>ååï¼šå¹¶å‘ 16 çº¿ç¨‹ä¸‹æ— æ˜¾è‘—é€€åŒ–ï¼ˆ&lt;10%ï¼‰ã€‚</li>
<li>èŠ‚çœé¢åº¦ï¼šå¯¹é‡å¤æŸ¥è¯¢çš„è°ƒç”¨èŠ‚çœæ¯”ä¾‹ â‰¥ 70%ã€‚</li>
<li>å¯è§‚æµ‹æ€§ï¼šæä¾›å‘½ä¸­/æœªå‘½ä¸­ã€èŠ‚çœæ¬¡æ•°ã€å¹³å‡è€—æ—¶ç­‰æŒ‡æ ‡æ¥å£ã€‚</li>
</ul>
<h2 data-id="heading-7">ä¸šåŠ¡éœ€æ±‚ä¸ç”¨æˆ·æ•…äº‹</h2>
<ul>
<li>ä½œä¸ºç ”ç©¶å‘˜ï¼Œæˆ‘å¸Œæœ›åƒè°ƒç”¨ TuShare ä¸€æ ·è°ƒç”¨ fasttushareï¼Œè€Œæ— éœ€é‡å†™ä¸šåŠ¡ä»£ç ã€‚</li>
<li>ä½œä¸ºå·¥ç¨‹å¸ˆï¼Œæˆ‘å¸Œæœ›é…ç½®ä¸åŒç«¯ç‚¹çš„ç¼“å­˜ TTL ä¸åˆ·æ–°ç­–ç•¥ï¼Œä»¥å¹³è¡¡å‡†ç¡®æ€§ä¸æ€§èƒ½ã€‚</li>
<li>ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›åœ¨ç½‘ç»œä¸å¯ç”¨æ—¶è¯»å–å†å²ç¼“å­˜ï¼Œä»¥ä¿è¯ä»»åŠ¡ä¸ä¸­æ–­ã€‚</li>
<li>ä½œä¸ºç»´æŠ¤è€…ï¼Œæˆ‘å¸Œæœ›èƒ½æŸ¥çœ‹æ¯ä¸ªç«¯ç‚¹çš„ç¼“å­˜å ç”¨ã€å‘½ä¸­ç‡ä¸æœ€è¿‘åˆ·æ–°æ—¶é—´ã€‚</li>
</ul>
<h2 data-id="heading-8">åŠŸèƒ½æ€§éœ€æ±‚</h2>
<ol>
<li>é€æ˜ä»£ç†ï¼šå¯¹ TuShare Pro çš„ç«¯ç‚¹è°ƒç”¨è¿›è¡ŒåŒ…è£…ï¼Œå‚æ•°ä¸è¿”å›ç»“æ„ä¿æŒä¸€è‡´ã€‚</li>
<li>å¯æ’æ‹”ç¼“å­˜åç«¯ï¼š
<ul>
<li>é»˜è®¤æœ¬åœ°æ–‡ä»¶/SQLite å­˜å‚¨ï¼›å¯æ‰©å±•åˆ° Redis/Parquet ç­‰ã€‚</li>
</ul>
</li>
<li>é”®ç©ºé—´è®¾è®¡ï¼šç«¯ç‚¹å + è§„èŒƒåŒ–å‚æ•° + æ•°æ®ç‰ˆæœ¬å· â†’ ç¨³å®š Keyï¼ˆå«åˆ†é¡µä¸æ—¥æœŸèŒƒå›´ï¼‰ã€‚</li>
<li>ç¼“å­˜ç­–ç•¥ï¼š
<ul>
<li>TTLï¼šç«¯ç‚¹çº§/å‚æ•°çº§å¯é…ç½®å­˜æ´»æ—¶é—´ã€‚</li>
<li>LRUï¼šåœ¨å®¹é‡å—é™æ—¶æ·˜æ±°æœ€å°‘ä½¿ç”¨é¡¹ã€‚</li>
<li>é¢„çƒ­ï¼šæ”¯æŒæŒ‰ç«¯ç‚¹/å‚æ•°æ‰¹é‡é¢„å–ã€‚</li>
<li>ç¦»çº¿æ¨¡å¼ï¼šå¼ºåˆ¶åªè¯»ç¼“å­˜ï¼Œé¿å…ä»»ä½•ç½‘ç»œè°ƒç”¨ã€‚</li>
</ul>
</li>
<li>ä¸€è‡´æ€§ä¸æ–°é²œåº¦ï¼š
<ul>
<li>æ”¯æŒã€Œå¼ºä¸€è‡´ã€ï¼ˆå¼ºåˆ¶åˆ·æ–°ï¼‰ä¸ã€Œæœ€ç»ˆä¸€è‡´ã€ï¼ˆTTL è¿‡æœŸååå°åˆ·æ–°ï¼‰ã€‚</li>
</ul>
</li>
<li>å¹¶å‘ä¸é˜Ÿåˆ—ï¼š
<ul>
<li>ç»Ÿä¸€è°ƒåº¦é˜Ÿåˆ—ï¼Œé™åˆ¶å¹¶å‘ä¸é€Ÿç‡ï¼Œé¿å…è§¦å‘æœåŠ¡ç«¯é™æµã€‚</li>
</ul>
</li>
<li>ç›‘æ§ä¸æ—¥å¿—ï¼š
<ul>
<li>å‘½ä¸­ç‡ã€è€—æ—¶ã€ç¼“å­˜å¤§å°ã€åˆ·æ–°æ¬¡æ•°ã€é”™è¯¯ç åˆ†å¸ƒã€‚</li>
</ul>
</li>
<li>ç®¡ç†æ¥å£ï¼š
<ul>
<li>æ¸…ç†ç¼“å­˜ï¼ˆæŒ‰ç«¯ç‚¹/Key/æ—¶é—´èŒƒå›´ï¼‰ã€‚</li>
<li>æŸ¥çœ‹ä¸å¯¼å‡ºç¼“å­˜å…ƒæ•°æ®ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-9">éåŠŸèƒ½æ€§éœ€æ±‚</h2>
<ul>
<li>æ€§èƒ½ï¼šè¯»å–ç¼“å­˜å»¶è¿Ÿä¸åºåˆ—åŒ–å¼€é”€å¯æ§ï¼›æ‰¹é‡æŸ¥è¯¢ååç¨³å®šã€‚</li>
<li>å¯é æ€§ï¼šå†™å…¥åŸå­æ€§ã€å´©æºƒæ¢å¤ã€å…ƒæ•°æ®ä¸€è‡´ã€‚</li>
<li>å¯ç§»æ¤æ€§ï¼šWindows/macOS/Linuxï¼›Python 3.9+ã€‚</li>
<li>å®‰å…¨ï¼šä¸è®°å½•æˆ–æ³„éœ²æ•æ„Ÿ Tokenï¼›æ”¯æŒæœ¬åœ°å®‰å…¨å­˜å‚¨ã€‚</li>
<li>å¯ç»´æŠ¤æ€§ï¼šæ¨¡å—åŒ–è®¾è®¡ã€æ¸…æ™°æ¥å£ä¸å•å…ƒæµ‹è¯•è¦†ç›–ã€‚</li>
</ul>
<h2 data-id="heading-10">ç³»ç»Ÿè®¾è®¡æ¦‚è¿°</h2>
<h3 data-id="heading-11">ç»„ä»¶åˆ’åˆ†</h3>
<ul>
<li>æ ¸å¿ƒä»£ç†å±‚ï¼ˆProxyï¼‰ï¼šæ‹¦æˆªå¹¶å°è£… TuShare è°ƒç”¨ï¼›è·¯ç”±è‡³ç¼“å­˜æˆ–ç½‘ç»œã€‚</li>
<li>ç¼“å­˜å­˜å‚¨å±‚ï¼ˆStoreï¼‰ï¼šæä¾›ç»Ÿä¸€æ¥å£ï¼š<code>get/set/delete/scan</code>ï¼›å®ç°æœ¬åœ°æ–‡ä»¶/SQLiteã€‚</li>
<li>é”®ä¸å…ƒæ•°æ®ï¼ˆKey/Metaï¼‰ï¼šç”Ÿæˆç¨³å®šé”®ï¼›è®°å½•ç«¯ç‚¹ã€å‚æ•°æ‘˜è¦ã€TTLã€æœ€ååˆ·æ–°æ—¶é—´ã€æ ¡éªŒå’Œã€‚</li>
<li>è°ƒåº¦ä¸å¹¶å‘ï¼ˆSchedulerï¼‰ï¼šæ§åˆ¶å¹¶å‘ã€é€Ÿç‡ã€é‡è¯•ä¸é€€é¿ï¼›æ”¯æŒåå°åˆ·æ–°ã€‚</li>
<li>ç›‘æ§ä¸æ—¥å¿—ï¼ˆMetrics/Loggingï¼‰ï¼šè®°å½•æŒ‡æ ‡å¹¶å¯¹å¤–æš´éœ²æŸ¥è¯¢æ¥å£ã€‚</li>
</ul>
<h3 data-id="heading-12">æ•°æ®æµ</h3>
<ol>
<li>ç”¨æˆ·è°ƒç”¨ fasttushare â†’ ç”Ÿæˆ Key â†’ æŸ¥è¯¢ç¼“å­˜ã€‚</li>
<li>å‘½ä¸­ï¼šè¿”å›æ•°æ®ï¼›æ›´æ–°å‘½ä¸­è®¡æ•°ä¸æœ€è¿‘è®¿é—®æ—¶é—´ã€‚</li>
<li>æœªå‘½ä¸­/è¿‡æœŸï¼šè¿›å…¥è°ƒåº¦é˜Ÿåˆ—ï¼›æŒ‰ç­–ç•¥ä» TuShare æ‹‰å–ï¼›å†™å…¥ç¼“å­˜ä¸å…ƒæ•°æ®ï¼›è¿”å›æ•°æ®ã€‚</li>
<li>åå°åˆ·æ–°ï¼ˆå¯é€‰ï¼‰ï¼šTTL è¿‡æœŸåå¼‚æ­¥åˆ·æ–°ï¼Œå‰å°ä»ä½¿ç”¨æ—§æ•°æ®ç›´åˆ°åˆ·æ–°å®Œæˆã€‚</li>
</ol>
<h2 data-id="heading-13">ç¼“å­˜ç­–ç•¥è®¾è®¡</h2>
<ul>
<li>TTL ç­–ç•¥ï¼šç«¯ç‚¹é»˜è®¤ TTLï¼›å¯é’ˆå¯¹å‚æ•°ï¼ˆå¦‚æ—¥æœŸèŒƒå›´ï¼‰è¦†ç›–ã€‚</li>
<li>LRU å®¹é‡ï¼šæ”¯æŒæŒ‰æ€»å¤§å°/æ¡ç›®æ•°é™åˆ¶ï¼›æ·˜æ±°ç­–ç•¥å¯é…ç½®ã€‚</li>
<li>ä¸€è‡´æ€§çº§åˆ«ï¼š
<ul>
<li><code>strict</code>ï¼šæ¯æ¬¡å¼ºåˆ¶åˆ·æ–°ï¼›é€‚ç”¨äºé«˜åº¦æ—¶æ•ˆæ•°æ®ã€‚</li>
<li><code>eventual</code>ï¼šTTL å†…ä½¿ç”¨ç¼“å­˜ï¼Œè¿‡æœŸåå°åˆ·æ–°ã€‚</li>
<li><code>offline_only</code>ï¼šä»…è¯»ç¼“å­˜ï¼Œä¸è§¦ç½‘ã€‚</li>
</ul>
</li>
<li>é¢„çƒ­ä¸æ‰¹é‡ï¼šæ”¯æŒå¯¹å¸¸ç”¨ç«¯ç‚¹/å‚æ•°åˆ—è¡¨é¢„æ‹‰å–ä»¥å¡«å……ç¼“å­˜ã€‚</li>
<li>å¤±æ•ˆè§¦å‘ï¼šæ‰‹åŠ¨æ¸…ç†ã€TTL åˆ°æœŸã€ç‰ˆæœ¬å·å˜åŒ–ã€æ•°æ®æ ¡éªŒå¤±è´¥ã€‚</li>
</ul>
<h2 data-id="heading-14">æ•°æ®æ¨¡å‹ä¸å­˜å‚¨</h2>
<ul>
<li>æœ¬åœ°ç›®å½•ç»“æ„ï¼š<code>~/.fasttushare/</code>ï¼ˆå¯é…ç½®ï¼‰ã€‚</li>
<li>SQLite æ¨¡å¼ï¼š
<ul>
<li>è¡¨ <code>cache_entries(key PRIMARY, endpoint, params_hash, created_at, ttl, last_refresh_at, size, checksum)</code>ã€‚</li>
<li>è¡¨ <code>cache_blobs(key PRIMARY, blob)</code> æˆ–å¤–ç½®æ–‡ä»¶ï¼›æ”¯æŒåˆ†å—ã€‚</li>
</ul>
</li>
<li>æ–‡ä»¶æ¨¡å¼ï¼š
<ul>
<li><code>data/&lt;endpoint&gt;/&lt;key&gt;.parquet</code> æˆ– <code>.json</code>ï¼›<code>meta/&lt;key&gt;.json</code> å­˜æ”¾å…ƒæ•°æ®ã€‚</li>
<li>æ”¯æŒå‹ç¼©ä¸æ ¡éªŒã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-15">API è®¾è®¡ä¸åº“ç»“æ„ï¼ˆè‰æ¡ˆï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> fasttushare <span class="hljs-keyword">as</span> fts

client = fts.Client(token=<span class="hljs-string">"..."</span>)

<span class="hljs-comment"># é€æ˜è°ƒç”¨ï¼šç­‰ä»·äº ts.pro_api().query(endpoint, params)</span>
df = client.query(<span class="hljs-string">"daily"</span>, ts_code=<span class="hljs-string">"000001.SZ"</span>, start_date=<span class="hljs-string">"20240101"</span>, end_date=<span class="hljs-string">"20240131"</span>)

<span class="hljs-comment"># ç­–ç•¥é…ç½®</span>
client.set_policy(endpoint=<span class="hljs-string">"daily"</span>, ttl=<span class="hljs-string">"1d"</span>, consistency=<span class="hljs-string">"eventual"</span>)

<span class="hljs-comment"># ç®¡ç†ä¸ç›‘æ§</span>
client.metrics()           <span class="hljs-comment"># å‘½ä¸­ç‡ã€è€—æ—¶ã€èŠ‚çœè°ƒç”¨æ•°</span>
client.cache_clear(<span class="hljs-string">"daily"</span>)
client.offline(<span class="hljs-literal">True</span>)       <span class="hljs-comment"># ç¦»çº¿æ¨¡å¼</span>
</code></pre>
<p>æ¨¡å—ç»“æ„ï¼š</p>
<ul>
<li><code>client.py</code>ï¼šå…¬å…±å…¥å£ã€ç­–ç•¥ç®¡ç†ã€é€æ˜ä»£ç†ã€‚</li>
<li><code>store/</code>ï¼š<code>sqlite_store.py</code>ã€<code>file_store.py</code> ç­‰åç«¯å®ç°ã€‚</li>
<li><code>scheduler.py</code>ï¼šå¹¶å‘ã€é€Ÿç‡é™åˆ¶ã€é‡è¯•ä¸åå°åˆ·æ–°ã€‚</li>
<li><code>key.py</code>ï¼šé”®ç”Ÿæˆä¸å‚æ•°è§„èŒƒåŒ–ã€å“ˆå¸Œã€‚</li>
<li><code>meta.py</code>ï¼šå…ƒæ•°æ®æ¨¡å‹ä¸æ ¡éªŒã€‚</li>
<li><code>metrics.py</code>ï¼šæŒ‡æ ‡é‡‡é›†ä¸æŸ¥è¯¢ã€‚</li>
<li><code>config.py</code>ï¼šé»˜è®¤é…ç½®ã€åŠ è½½ä¸æ ¡éªŒã€‚</li>
</ul>
<h2 data-id="heading-16">é…ç½®ä¸å®‰è£…</h2>
<ul>
<li>é€šè¿‡ <code>pip install fasttushare</code> å®‰è£…ã€‚</li>
<li>é»˜è®¤ä½¿ç”¨æœ¬åœ°ç›®å½•ä¸ SQLiteï¼›å¯é€šè¿‡ç¯å¢ƒå˜é‡æˆ–ä»£ç è®¾ç½®å­˜å‚¨åç«¯ä¸è·¯å¾„ã€‚</li>
<li>æ”¯æŒ <code>FASTTUSHARE_HOME</code> æŒ‡å®šç¼“å­˜æ ¹ç›®å½•ã€‚</li>
</ul>
<h2 data-id="heading-17">æˆæƒä¸å®‰å…¨</h2>
<ul>
<li>Token ç®¡ç†ï¼šä¸å†™å…¥ç¼“å­˜å†…å®¹æˆ–æ—¥å¿—ï¼›ä»…ä¿å­˜åœ¨è¿›ç¨‹å†…å­˜æˆ–ç”¨æˆ·å®‰å…¨å­˜å‚¨ã€‚</li>
<li>æ—¥å¿—è„±æ•ï¼šå‚æ•°ä¸­å‡ºç° Token æ—¶è‡ªåŠ¨å±è”½ã€‚</li>
</ul>
<h2 data-id="heading-18">é”™è¯¯å¤„ç†ä¸é‡è¯•</h2>
<ul>
<li>ç½‘ç»œé”™è¯¯ï¼šæŒ‡æ•°é€€é¿é‡è¯•ï¼Œæœ€å¤§æ¬¡æ•°å¯é…ç½®ã€‚</li>
<li>æ•°æ®é”™è¯¯ï¼šæ ¡éªŒå¤±è´¥è§¦å‘å¼ºåˆ¶åˆ·æ–°æˆ–æ ‡è®°ä¸å¯ä¿¡ã€‚</li>
<li>éƒ¨åˆ†é¡µå¤±è´¥ï¼šåˆ†é¡µæ–­ç‚¹ç»­ä¼ ä¸åˆå¹¶ï¼›å¤±è´¥é¡µæ ‡æ³¨å¹¶é‡è¯•ã€‚</li>
</ul>
<h2 data-id="heading-19">ç›‘æ§ä¸æ—¥å¿—</h2>
<ul>
<li>æŒ‡æ ‡ï¼š<code>hits/misses/saved_calls/avg_latency/bytes_used/refresh_count</code>ã€‚</li>
<li>æ—¥å¿—ï¼šå…³é”®è·¯å¾„ã€é”™è¯¯ä¸ç­–ç•¥å†³ç­–ï¼›æ”¯æŒè°ƒè¯•çº§åˆ«å¼€å…³ã€‚</li>
</ul>
<h2 data-id="heading-20">å…¼å®¹æ€§ä¸ä¾èµ–</h2>
<ul>
<li>Python 3.9+ï¼›å¹³å°ï¼šWindows/macOS/Linuxã€‚</li>
<li>ä¾èµ–ï¼š<code>tushare</code>ã€<code>pandas</code>ã€<code>sqlite3</code>ï¼ˆæ ‡å‡†åº“ï¼‰ã€å¯é€‰ <code>pyarrow</code>/<code>redis</code>ã€‚</li>
</ul>
<h2 data-id="heading-21">æµ‹è¯•ç­–ç•¥</h2>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼šé”®ç”Ÿæˆã€TTLã€LRUã€å­˜å‚¨æ¥å£ã€ä¸€è‡´æ€§ç­–ç•¥ã€‚</li>
<li>é›†æˆæµ‹è¯•ï¼šä¸çœŸå® TuShare å¯¹æ¥çš„è°ƒåº¦ä¸åˆ·æ–°è·¯å¾„ï¼ˆéœ€éš”ç¦» Tokenï¼‰ã€‚</li>
<li>æ€§èƒ½æµ‹è¯•ï¼šå‘½ä¸­ä¸æœªå‘½ä¸­çš„å»¶è¿Ÿã€å¹¶å‘ååã€å®¹é‡å‹åŠ›ã€‚</li>
</ul>
<h2 data-id="heading-22">å‘å¸ƒä¸ç‰ˆæœ¬</h2>
<ul>
<li>ç‰ˆæœ¬è¯­ä¹‰åŒ–ï¼ˆSemVerï¼‰ã€‚</li>
<li>åˆå§‹é‡Œç¨‹ç¢‘ï¼š
<ul>
<li>v0.1ï¼šé€æ˜ä»£ç† + æœ¬åœ° SQLite/æ–‡ä»¶å­˜å‚¨ + TTL + æŒ‡æ ‡ã€‚</li>
<li>v0.2ï¼šLRU å®¹é‡ã€åå°åˆ·æ–°ã€é¢„çƒ­ä¸ç¦»çº¿æ¨¡å¼ã€‚</li>
<li>v0.3ï¼šå¯æ’æ‹”åç«¯ã€CLI ç®¡ç†å·¥å…·ï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-23">é£é™©ä¸ç¼“è§£</h2>
<ul>
<li>æœåŠ¡æ¡æ¬¾åˆè§„é£é™©ï¼šåšæŒä»…ç¼“å­˜é‡å¤æŸ¥è¯¢ç»“æœï¼Œé¿å…ç»•è¿‡é™åˆ¶çš„æ»¥ç”¨ï¼›åœ¨æ–‡æ¡£ä¸­æ˜ç¡®ç”¨é€”ä¸åˆè§„å»ºè®®ã€‚</li>
<li>æ•°æ®è¿‡æœŸå¯¼è‡´åˆ†æåå·®ï¼šæä¾›å¼ºåˆ¶åˆ·æ–°ä¸ä¸€è‡´æ€§çº§åˆ«é€‰æ‹©ï¼›é»˜è®¤è°¨æ… TTLã€‚</li>
<li>æ–‡ä»¶æŸåæˆ– SQLite å´©æºƒï¼šå¼•å…¥æ ¡éªŒå’Œä¸åŸå­å†™ï¼›æä¾›æ¢å¤å·¥å…·ä¸é‡å»ºç­–ç•¥ã€‚</li>
<li>å¹¶å‘å¯¼è‡´å†™å†²çªï¼šäº‹åŠ¡åŒ–å†™å…¥ä¸æ–‡ä»¶é”ï¼›è°ƒåº¦å±‚ä¸²è¡ŒåŒ–å…³é”®å†™è·¯å¾„ã€‚</li>
</ul>
<h2 data-id="heading-24">é‡Œç¨‹ç¢‘è®¡åˆ’ï¼ˆå»ºè®®ï¼‰</h2>
<ol>
<li>åŸå‹ä¸æ¥å£è‰æ¡ˆï¼ˆ1 å‘¨ï¼‰ï¼šå®Œæˆ <code>Client.query</code> é€æ˜è°ƒç”¨ä¸æœ¬åœ°æ–‡ä»¶å­˜å‚¨ï¼›åŸºæœ¬ TTLã€‚</li>
<li>SQLite åç«¯ä¸å…ƒæ•°æ®ï¼ˆ1 å‘¨ï¼‰ï¼šç¨³å®šé”®ç©ºé—´ä¸å…ƒæ•°æ®ç»“æ„ï¼›æŒ‡æ ‡åˆç‰ˆã€‚</li>
<li>è°ƒåº¦ä¸å¹¶å‘ï¼ˆ1 å‘¨ï¼‰ï¼šé‡è¯•ã€é€Ÿç‡é™åˆ¶ã€åå°åˆ·æ–°ï¼›ç¦»çº¿æ¨¡å¼ã€‚</li>
<li>LRU å®¹é‡ä¸é¢„çƒ­ï¼ˆ1 å‘¨ï¼‰ï¼šå®¹é‡æ§åˆ¶ã€æ‰¹é‡é¢„å–ï¼›CLI/ç®¡ç†æ¥å£ï¼ˆå¯é€‰ï¼‰ã€‚</li>
<li>æ–‡æ¡£ä¸å‘å¸ƒï¼ˆ1 å‘¨ï¼‰ï¼šREADMEã€ç¤ºä¾‹ã€æ‰“åŒ…ä¸ PyPI å‘å¸ƒï¼›åŸºç¡€æµ‹è¯•è¦†ç›–ã€‚</li>
</ol>
<p>â€”â€”
æœ¬éœ€æ±‚åˆ†ææ—¨åœ¨ä¸º fasttushare çš„æ¶æ„ä¸å®ç°æä¾›æ¸…æ™°è¾¹ç•Œä¸åº¦é‡æ ‡å‡†ï¼Œç¡®ä¿åœ¨æå‡è®¿é—®é€Ÿåº¦ä¸èŠ‚çœé…é¢çš„åŒæ—¶ï¼Œç»´æŒæ•°æ®è´¨é‡ä¸åˆè§„æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»Chromeè·³è½¬åˆ°IEæµè§ˆå™¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7572775409726930944</link>    <guid>https://juejin.cn/post/7572775409726930944</guid>    <pubDate>2025-11-17T03:26:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572775409726930944" data-draft-id="7572836557143146496" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»Chromeè·³è½¬åˆ°IEæµè§ˆå™¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-11-17T03:26:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç é€”è¿›åŒ–è®º"/> <meta itemprop="url" content="https://juejin.cn/user/3633206105473182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»Chromeè·³è½¬åˆ°IEæµè§ˆå™¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3633206105473182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç é€”è¿›åŒ–è®º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:26:17.000Z" title="Mon Nov 17 2025 03:26:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»Chromeè·³è½¬åˆ°IEæµè§ˆå™¨çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨ä¼ä¸šçº§åº”ç”¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„é—®é¢˜ï¼šæŸäº›å†å²ç³»ç»Ÿæˆ–å†…éƒ¨ç³»ç»Ÿåªèƒ½åœ¨IEæµè§ˆå™¨ä¸­è¿è¡Œï¼Œè€Œç”¨æˆ·å´ä¹ æƒ¯ä½¿ç”¨Chromeç­‰ç°ä»£æµè§ˆå™¨ã€‚å¦‚ä½•è®©ç”¨æˆ·åœ¨Chromeä¸­ç‚¹å‡»é“¾æ¥æ—¶ï¼Œè‡ªåŠ¨è·³è½¬åˆ°IEæµè§ˆå™¨æ‰“å¼€æŒ‡å®šé¡µé¢å‘¢ï¼Ÿ</p>
<p>æœ¬æ–‡å°†åˆ†äº«ä¸€å¥—å®Œæ•´çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œæ¶‰åŠ<strong>Windowsæ³¨å†Œè¡¨åè®®æ³¨å†Œ</strong>ã€<strong>VBSè„šæœ¬</strong>ã€<strong>åè®®æ£€æµ‹</strong>ç­‰æ ¸å¿ƒæŠ€æœ¯ç‚¹ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€æŠ€æœ¯æ¶æ„æ¦‚è§ˆ</h3>
<h4 data-id="heading-3">1.1 æ•´ä½“æ€è·¯</h4>
<pre><code class="hljs language-less" lang="less">ç”¨æˆ·åœ¨<span class="hljs-selector-tag">Chrome</span>ä¸­ç‚¹å‡»é“¾æ¥
    â†“
å‰ç«¯<span class="hljs-selector-tag">JS</span>è°ƒç”¨è‡ªå®šä¹‰åè®® (<span class="hljs-attribute">openIE</span>:<span class="hljs-comment">//url)</span>
    â†“
Windowsç³»ç»Ÿæ‹¦æˆªåè®®
    â†“
è§¦å‘æ³¨å†Œè¡¨ä¸­çš„å¤„ç†ç¨‹åº (VBSè„šæœ¬)
    â†“
VBSè„šæœ¬è°ƒç”¨IEæµè§ˆå™¨æ‰“å¼€URL
</code></pre>
<h4 data-id="heading-4">1.2 æ ¸å¿ƒæŠ€æœ¯ç‚¹</h4>
<ol>
<li><strong>è‡ªå®šä¹‰åè®®æ³¨å†Œ</strong>ï¼ˆWindows Registryï¼‰</li>
<li><strong>VBSè„šæœ¬å¤„ç†</strong>ï¼ˆURLè§£æä¸IEå¯åŠ¨ï¼‰</li>
<li><strong>åè®®æ£€æµ‹</strong>ï¼ˆprotocolCheck.jsï¼‰</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong>ï¼ˆå¤±è´¥æç¤ºä¸è‡ªåŠ¨ä¸‹è½½ï¼‰</li>
</ol>
<h3 data-id="heading-5">äºŒã€æ ¸å¿ƒå®ç°è¯¦è§£</h3>
<h4 data-id="heading-6">2.1 æ³¨å†Œè¡¨è„šæœ¬ç¼–å†™</h4>
<h5 data-id="heading-7">2.1.1 æ³¨å†Œè‡ªå®šä¹‰åè®®</h5>
<p>åˆ›å»º <code>openIE.reg</code> æ–‡ä»¶ï¼Œç”¨äºæ³¨å†Œè‡ªå®šä¹‰çš„ <code>openIE://</code> åè®®ï¼š</p>
<pre><code class="hljs language-reg" lang="reg">Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\openIE]
@="URL:openIE Protocol"
"URL Protocol"=""

[HKEY_CLASSES_ROOT\openIE\DefaultIcon]
@="iexplore.exe,1"

[HKEY_CLASSES_ROOT\openIE\shell]

[HKEY_CLASSES_ROOT\openIE\shell\open]

[HKEY_CLASSES_ROOT\openIE\shell\open\command]
@="wscript.exe //B \"C:\\Program Files\\openIE\\openIE.vbs\" \"%1\""
</code></pre>
<p><strong>å…³é”®ç‚¹è§£æï¼š</strong></p>
<ul>
<li><code>HKEY_CLASSES_ROOT\openIE</code>: æ³¨å†Œåè®®åç§°ä¸º <code>openIE</code></li>
<li><code>"URL Protocol"=""</code>: å£°æ˜è¿™æ˜¯ä¸€ä¸ªURLåè®®</li>
<li><code>DefaultIcon</code>: è®¾ç½®åè®®å›¾æ ‡ä¸ºIEæµè§ˆå™¨å›¾æ ‡</li>
<li><code>command</code>: æŒ‡å®šåè®®å¤„ç†ç¨‹åºï¼Œè¿™é‡Œæ˜¯ VBS è„šæœ¬çš„å®Œæ•´è·¯å¾„</li>
<li><code>//B</code>: wscriptçš„å‚æ•°ï¼Œè¡¨ç¤ºæ‰¹å¤„ç†æ¨¡å¼ï¼ˆä¸æ˜¾ç¤ºè„šæœ¬é”™è¯¯å¯¹è¯æ¡†ï¼‰</li>
<li><code>%1</code>: ä¼ é€’çš„URLå‚æ•°ï¼ˆåŒ…å«å®Œæ•´çš„åè®®åœ°å€ï¼Œå¦‚ <code>openIE:http://www.example.com</code>ï¼‰</li>
</ul>
<h4 data-id="heading-8">2.2 VBSè„šæœ¬å®ç°</h4>
<p>åˆ›å»º <code>openIE.vbs</code> æ–‡ä»¶ï¼Œè´Ÿè´£æ¥æ”¶URLå¹¶å¯åŠ¨IEï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript"><span class="hljs-keyword">Set</span> args = WScript.Arguments
<span class="hljs-keyword">If</span> args.Count &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">Then</span>
	url = <span class="hljs-built_in">Replace</span>(args(<span class="hljs-number">0</span>), <span class="hljs-string">"openIE:"</span>, <span class="hljs-string">""</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
	<span class="hljs-keyword">Set</span> shell = <span class="hljs-built_in">CreateObject</span>(<span class="hljs-string">"WScript.Shell"</span>)
	shell.Run <span class="hljs-string">"iexplore.exe "</span> &amp; url, <span class="hljs-number">1</span>, <span class="hljs-literal">False</span>
<span class="hljs-keyword">End</span> <span class="hljs-keyword">If</span>
</code></pre>
<p><strong>ä»£ç è§£æï¼š</strong></p>
<ol>
<li><code>WScript.Arguments</code>: è·å–ä¼ å…¥çš„å‘½ä»¤è¡Œå‚æ•°</li>
<li><code>Replace(args(0), "openIE:", "", 1, 1, 1)</code>: ç§»é™¤åè®®å‰ç¼€ï¼Œæå–çœŸå®URL</li>
<li><code>CreateObject("WScript.Shell")</code>: åˆ›å»ºShellå¯¹è±¡</li>
<li><code>shell.Run "iexplore.exe " &amp; url, 1, False</code>:
<ul>
<li>ç¬¬ä¸€å‚æ•°ï¼šè¦æ‰§è¡Œçš„å‘½ä»¤</li>
<li>ç¬¬äºŒå‚æ•°ï¼šçª—å£æ ·å¼ï¼ˆ1è¡¨ç¤ºæ­£å¸¸æ¿€æ´»çª—å£ï¼‰</li>
<li>ç¬¬ä¸‰å‚æ•°ï¼šFalseè¡¨ç¤ºä¸ç­‰å¾…ç¨‹åºæ‰§è¡Œå®Œæ¯•</li>
</ul>
</li>
</ol>
<h4 data-id="heading-9">2.3 è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬</h4>
<p>åˆ›å»º <code>install.bat</code> æ‰¹å¤„ç†æ–‡ä»¶ï¼Œå®ç°ä¸€é”®å®‰è£…ï¼š</p>
<pre><code class="hljs language-batch" lang="batch">@echo off
chcp 936 &gt; nul
setlocal enabledelayedexpansion

:: æ£€æŸ¥ç®¡ç†å‘˜æƒé™
net session &gt;nul 2&gt;&amp;1
if %errorLevel% neq 0 (
    echo è¯·ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œ!
    pause
    exit /b
)

:: è·å–å½“å‰è„šæœ¬ç›®å½•
set "currPath=%~dp0"
if not exist "%currPath%" (
	echo æ— æ³•è·å–å½“å‰ç¨‹åºç›®å½•!
	pause
    exit /b
)

:: åˆ¤æ–­æ ¸å¿ƒæ–‡ä»¶æ˜¯å¦å­˜åœ¨
if not exist "%currPath%openIE.vbs" (
	echo openIE.vbsæ–‡ä»¶ç¼ºå¤±!
	pause
    exit /b
)
if not exist "%currPath%openIE.reg" (
	echo openIE.regæ–‡ä»¶ç¼ºå¤±!
	pause
    exit /b
)

:: åˆ›å»ºç›®æ ‡ç›®å½•
set "targetDir=C:\Program Files\openIE"
echo æ­£åœ¨åˆ›å»ºç›®å½•...
if not exist "%targetDir%" (
	mkdir "%targetDir%" 2&gt;&amp;1 || (
		echo ç›®å½•åˆ›å»ºå¤±è´¥, è¯·æ£€æŸ¥æƒé™æˆ–è·¯å¾„!
		pause
		exit /b
	)
)

:: å¤åˆ¶æ–‡ä»¶
echo æ­£åœ¨å¤åˆ¶æ–‡ä»¶...
copy /y "%currPath%openIE.vbs" "%targetDir%\" 2&gt;&amp;1 || (
	echo openIE.vbså¤åˆ¶å¤±è´¥!
	pause
	exit /b
)

:: å¯¼å…¥æ³¨å†Œè¡¨æ–‡ä»¶
set "regFile=%currPath%openIE.reg"
echo æ­£åœ¨å¯¼å…¥æ³¨å†Œè¡¨...
regedit /s "%regFile%" 2&gt;&amp;1 || (
	echo openIE.regå¯¼å…¥å¤±è´¥!
	pause
	exit /b
)

:: å®Œæˆæç¤º
echo å®‰è£…æˆåŠŸï¼
pause
exit /b
</code></pre>
<p><strong>è„šæœ¬äº®ç‚¹ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹ç®¡ç†å‘˜æƒé™</li>
<li>æ–‡ä»¶å­˜åœ¨æ€§æ ¡éªŒ</li>
<li>é”™è¯¯å¤„ç†æœºåˆ¶</li>
<li>ç”¨æˆ·å‹å¥½çš„æç¤ºä¿¡æ¯</li>
</ul>
<h4 data-id="heading-10">2.4 å¸è½½è„šæœ¬</h4>
<p>åˆ›å»º <code>uninstall.bat</code> ç”¨äºæ¸…ç†æ³¨å†Œè¡¨ï¼š</p>
<pre><code class="hljs language-batch" lang="batch">@echo off
chcp 936 &gt; nul
reg delete "HKEY_CLASSES_ROOT\openIE\shell\open\command" /f
reg delete "HKEY_CLASSES_ROOT\openIE\shell\open" /f
reg delete "HKEY_CLASSES_ROOT\openIE\shell" /f
reg delete "HKEY_CLASSES_ROOT\openIE\DefaultIcon" /f
reg delete "HKEY_CLASSES_ROOT\openIE" /f
echo æ³¨å†Œè¡¨å·²åˆ é™¤å®Œæˆ
pause
</code></pre>
<h3 data-id="heading-11">ä¸‰ã€å‰ç«¯åè®®æ£€æµ‹å®ç°</h3>
<h4 data-id="heading-12">3.1 ä½¿ç”¨ protocolCheck.js</h4>
<p>å¼•å…¥åè®®æ£€æµ‹åº“ï¼ˆprotocolcheck.jsï¼‰ï¼Œç”¨äºæ£€æµ‹è‡ªå®šä¹‰åè®®æ˜¯å¦å·²æ³¨å†Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æµ‹IEæµè§ˆå™¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isIE</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> ua = navigator.<span class="hljs-property">userAgent</span>;
  <span class="hljs-keyword">return</span> ua.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'Trident'</span>) &gt; -<span class="hljs-number">1</span> || ua.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'MSIE'</span>) &gt; -<span class="hljs-number">1</span>;
}

<span class="hljs-comment">// å¦‚æœéœ€è¦åœ¨IEä¸­æ‰“å¼€ï¼Œä½†å½“å‰æµè§ˆå™¨ä¸æ˜¯IE</span>
<span class="hljs-keyword">if</span> (browser === <span class="hljs-string">'IE'</span> &amp;&amp; !<span class="hljs-title function_">isIE</span>()) {
  <span class="hljs-comment">// è°ƒç”¨åè®®æ£€æµ‹</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">protocolCheck</span>(
    <span class="hljs-string">`openIE:<span class="hljs-subst">${url}</span>`</span>,
    <span class="hljs-comment">// å¤±è´¥å›è°ƒï¼šåè®®æœªæ³¨å†Œ</span>
    <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title class_">MessageBox</span>({
        <span class="hljs-attr">title</span>: <span class="hljs-string">'æ‰“å¼€å¤±è´¥'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·æ£€æŸ¥æ˜¯å¦æ³¨å†ŒopenIEåè®®ï¼Œå¦‚æœªå®‰è£…è¯·ä¸‹è½½openIEï¼Œå¹¶æ ¹æ®æ“ä½œæ‰‹å†Œè¿›è¡Œå®‰è£…åå†è¯•ï¼'</span>,
        <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>,
        <span class="hljs-attr">confirmButtonText</span>: <span class="hljs-string">'ç«‹å³ä¸‹è½½'</span>,
        <span class="hljs-attr">cancelButtonText</span>: <span class="hljs-string">'å–æ¶ˆ'</span>,
        <span class="hljs-attr">showCancelButton</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">showConfirmButton</span>: <span class="hljs-literal">true</span>,
      }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// ç«‹å³ä¸‹è½½ open-ie.zip</span>
        <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'a'</span>);
        <span class="hljs-keyword">const</span> downloadUrl = <span class="hljs-string">`<span class="hljs-subst">${process.env.VUE_APP_STATIC_PATIENT_BASE_URL}</span>/open-ie.zip`</span>;
        link.<span class="hljs-property">href</span> = downloadUrl;
        link.<span class="hljs-property">download</span> = <span class="hljs-string">'open-ie.zip'</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(link);
        link.<span class="hljs-title function_">click</span>();
        <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(link);
      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç”¨æˆ·å–æ¶ˆä¸‹è½½'</span>);
      });
    },
    <span class="hljs-comment">// æˆåŠŸå›è°ƒï¼šåè®®å·²æ³¨å†Œï¼ŒIEå·²æ‰“å¼€</span>
    <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'IEæµè§ˆå™¨æ‰“å¼€æˆåŠŸ'</span>);
    }
  );
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// æ™®é€šæ‰“å¼€æ–¹å¼</span>
  <span class="hljs-keyword">const</span> target = openType === <span class="hljs-string">'new_tab'</span> ? <span class="hljs-string">'_self'</span> : <span class="hljs-string">'_blank'</span>;
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">open</span>(url, target);
}
</code></pre>
<h4 data-id="heading-13">3.2 protocolCheck.js åŸç†å‰–æ</h4>
<h5 data-id="heading-14">3.2.1 æ ¸å¿ƒæ£€æµ‹æœºåˆ¶</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">openUriWithTimeoutHack</span>(<span class="hljs-params">uri, failCb, successCb</span>) {
    <span class="hljs-comment">// è®¾ç½®è¶…æ—¶ï¼š2ç§’å†…å¦‚æœæ²¡æœ‰bluräº‹ä»¶ï¼Œè¯´æ˜åè®®æœªæ³¨å†Œ</span>
    <span class="hljs-keyword">var</span> timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-title function_">failCb</span>();
        handler.<span class="hljs-title function_">remove</span>();
    }, <span class="hljs-number">2000</span>);

    <span class="hljs-comment">// ç›‘å¬çª—å£å¤±ç„¦äº‹ä»¶</span>
    <span class="hljs-keyword">var</span> handler = <span class="hljs-title function_">_registerEvent</span>(<span class="hljs-variable language_">window</span>, <span class="hljs-string">"blur"</span>, onBlur);

    <span class="hljs-keyword">function</span> <span class="hljs-title function_">onBlur</span>(<span class="hljs-params"/>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout);
        handler.<span class="hljs-title function_">remove</span>();
        <span class="hljs-title function_">successCb</span>();  <span class="hljs-comment">// çª—å£å¤±ç„¦è¯´æ˜å¤–éƒ¨ç¨‹åºè¢«è°ƒç”¨</span>
    }

    <span class="hljs-comment">// å°è¯•æ‰“å¼€è‡ªå®šä¹‰åè®®</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span> = uri;
}
</code></pre>
<p><strong>æ£€æµ‹åŸç†ï¼š</strong></p>
<ol>
<li>å½“è°ƒç”¨è‡ªå®šä¹‰åè®®æ—¶ï¼Œå¦‚æœå·²æ³¨å†Œï¼ŒWindowsä¼šå¯åŠ¨å¯¹åº”çš„å¤„ç†ç¨‹åº</li>
<li>å¤–éƒ¨ç¨‹åºå¯åŠ¨ä¼šå¯¼è‡´æµè§ˆå™¨çª—å£<strong>å¤±å»ç„¦ç‚¹</strong>ï¼ˆè§¦å‘bluräº‹ä»¶ï¼‰</li>
<li>å¦‚æœ2ç§’å†…æ²¡æœ‰bluräº‹ä»¶ï¼Œè¯´æ˜åè®®æœªæ³¨å†Œ</li>
</ol>
<h5 data-id="heading-15">3.2.2 è·¨æµè§ˆå™¨å…¼å®¹æ€§å¤„ç†</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkBrowser</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">var</span> isOpera = !!<span class="hljs-variable language_">window</span>.<span class="hljs-property">opera</span> || navigator.<span class="hljs-property">userAgent</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">' OPR/'</span>) &gt;= <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> ua = navigator.<span class="hljs-property">userAgent</span>.<span class="hljs-title function_">toLowerCase</span>();
    <span class="hljs-keyword">return</span> {
        isOpera   : isOpera,
        isFirefox : <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">InstallTrigger</span> !== <span class="hljs-string">'undefined'</span>,
        isSafari  : (~ua.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'safari'</span>) &amp;&amp; !~ua.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'chrome'</span>)) || 
                    <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">HTMLElement</span>).<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">'Constructor'</span>) &gt; <span class="hljs-number">0</span>,
        isIOS     : <span class="hljs-regexp">/iPad|iPhone|iPod/</span>.<span class="hljs-title function_">test</span>(navigator.<span class="hljs-property">userAgent</span>) &amp;&amp; !<span class="hljs-variable language_">window</span>.<span class="hljs-property">MSStream</span>,
        isChrome  : !!<span class="hljs-variable language_">window</span>.<span class="hljs-property">chrome</span> &amp;&amp; !isOpera,
        isIE      : <span class="hljs-comment">/*@cc_on!@*/</span><span class="hljs-literal">false</span> || !!<span class="hljs-variable language_">document</span>.<span class="hljs-property">documentMode</span>
    }
}
</code></pre>
<p>ä¸åŒæµè§ˆå™¨é‡‡ç”¨ä¸åŒçš„æ£€æµ‹ç­–ç•¥ï¼š</p>



































<table><thead><tr><th>æµè§ˆå™¨</th><th>æ£€æµ‹æ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Chrome</td><td><code>openUriWithTimeoutHack</code></td><td>é€šè¿‡bluräº‹ä»¶æ£€æµ‹</td></tr><tr><td>Firefox</td><td><code>openUriUsingFirefox</code></td><td>ä½¿ç”¨try-catchæ•è·å¼‚å¸¸</td></tr><tr><td>IE</td><td><code>openUriUsingIEInOlderWindows</code></td><td>æ ¹æ®ç‰ˆæœ¬ä½¿ç”¨ä¸åŒç­–ç•¥</td></tr><tr><td>Safari</td><td><code>openUriWithHiddenFrame</code></td><td>ä½¿ç”¨éšè—iframe</td></tr><tr><td>Edge (Win10+)</td><td><code>navigator.msLaunchUri</code></td><td>åŸç”ŸAPIæ”¯æŒ</td></tr></tbody></table>
<h5 data-id="heading-16">3.2.3 iframeåœºæ™¯ä¼˜åŒ–</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isInIframe</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">self</span> !== <span class="hljs-variable language_">window</span>.<span class="hljs-property">top</span>;
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// è·¨åŸŸiframeä¼šæŠ›å‡ºå¼‚å¸¸</span>
    }
}

<span class="hljs-comment">// åœ¨Chromeä¸­ï¼Œå¦‚æœåœ¨iframeå†…ï¼Œä½¿ç”¨hidden frameæ–¹å¼é¿å…æ•´ä¸ªé¡µé¢è·³è½¬</span>
<span class="hljs-keyword">if</span> (browser.<span class="hljs-property">isChrome</span> || browser.<span class="hljs-property">isIOS</span>) {
    <span class="hljs-keyword">if</span> (inIframe) {
        <span class="hljs-title function_">openUriWithHiddenFrame</span>(uri, failCallback, successCallback);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">openUriWithTimeoutHack</span>(uri, failCallback, successCallback);
    }
}
</code></pre>
<h3 data-id="heading-17">å››ã€å®Œæ•´è°ƒç”¨æµç¨‹å›¾</h3>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·åœ¨Chromeä¸­ç‚¹å‡»é“¾æ¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å‰ç«¯JSæ£€æµ‹ï¼šå½“å‰æµè§ˆå™¨æ˜¯å¦ä¸ºIEï¼Ÿ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                    â”‚             â”‚
                  æ˜¯IE          ä¸æ˜¯IE
                    â”‚             â”‚
                    â–¼             â–¼
              æ­£å¸¸æ‰“å¼€      è°ƒç”¨protocolCheck
                           æ£€æµ‹openIEåè®®
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚
              åè®®å·²æ³¨å†Œ                  åè®®æœªæ³¨å†Œ
                    â”‚                         â”‚
                    â–¼                         â–¼
         è§¦å‘ï¼šopenIE:http:<span class="hljs-comment">//xxx        å¼¹çª—æç¤ºç”¨æˆ·ä¸‹è½½</span>
                    â”‚                   å®‰è£…ç¨‹åº(open-ie.zip)
                    â–¼                         â”‚
         Windowsæ‹¦æˆªè‡ªå®šä¹‰åè®®                 â”‚
                    â”‚                         â–¼
                    â–¼                   ç”¨æˆ·æ‰‹åŠ¨å®‰è£…
         è°ƒç”¨æ³¨å†Œè¡¨ä¸­çš„VBSè„šæœ¬           (è¿è¡Œinstall.bat)
                    â”‚                         â”‚
                    â–¼                         â–¼
         VBSè§£æURLå¹¶è°ƒç”¨              æ³¨å†Œè¡¨æ³¨å†Œå®Œæˆ
         iexplore.exe                         â”‚
                    â”‚                         â”‚
                    â–¼                         â–¼
         IEæµè§ˆå™¨æ‰“å¼€ç›®æ ‡é¡µé¢            ç”¨æˆ·é‡æ–°ç‚¹å‡»é“¾æ¥
                    â”‚                         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
                          âœ“ ä»»åŠ¡å®Œæˆ
</code></pre>
<h3 data-id="heading-18">äº”ã€å®‰è£…éƒ¨ç½²æŒ‡å—</h3>
<h4 data-id="heading-19">5.1 æ‰“åŒ…åˆ†å‘</h4>
<p>å°†ä»¥ä¸‹æ–‡ä»¶æ‰“åŒ…ä¸º <code>open-ie.zip</code>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">open</span>-ie/
â”œâ”€â”€ install.bat       <span class="hljs-comment"># å®‰è£…è„šæœ¬</span>
â”œâ”€â”€ uninstall.bat     <span class="hljs-comment"># å¸è½½è„šæœ¬</span>
â”œâ”€â”€ openIE.vbs        <span class="hljs-comment"># VBSå¤„ç†è„šæœ¬</span>
â”œâ”€â”€ openIE.reg        <span class="hljs-comment"># æ³¨å†Œè¡¨æ–‡ä»¶</span>
â””â”€â”€ ä½¿ç”¨æ‰‹å†Œ.doc      <span class="hljs-comment"># ç”¨æˆ·æ“ä½œæ‰‹å†Œ</span>
</code></pre>
<h4 data-id="heading-20">5.2 ç”¨æˆ·å®‰è£…æ­¥éª¤</h4>
<ol>
<li>ä¸‹è½½ <code>open-ie.zip</code> å¹¶è§£å‹</li>
<li><strong>å³é”®ç‚¹å‡» <code>install.bat</code></strong>ï¼Œé€‰æ‹©"<strong>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</strong>"</li>
<li>ç­‰å¾…å®‰è£…å®Œæˆæç¤º</li>
<li>åˆ·æ–°æµè§ˆå™¨é¡µé¢ï¼Œé‡æ–°ç‚¹å‡»éœ€è¦ç”¨IEæ‰“å¼€çš„é“¾æ¥</li>
</ol>
<h4 data-id="heading-21">5.3 å¸è½½æ­¥éª¤</h4>
<ol>
<li>å³é”®ç‚¹å‡» <code>uninstall.bat</code>ï¼Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</li>
<li>æ‰‹åŠ¨åˆ é™¤ <code>C:\Program Files\openIE</code> ç›®å½•ï¼ˆå¯é€‰ï¼‰</li>
</ol>
<h3 data-id="heading-22">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-23">6.1 åè®®æ³¨å†Œå¤±è´¥</h4>
<p><strong>é—®é¢˜è¡¨ç°ï¼š</strong> è¿è¡Œinstall.batåï¼Œç‚¹å‡»é“¾æ¥ä»æç¤º"åè®®æœªæ³¨å†Œ"</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ç¡®è®¤æ˜¯å¦ä»¥<strong>ç®¡ç†å‘˜æƒé™</strong>è¿è¡Œinstall.bat</li>
<li>æ£€æŸ¥æ³¨å†Œè¡¨è·¯å¾„ï¼š<code>HKEY_CLASSES_ROOT\openIE</code></li>
<li>æ‰‹åŠ¨åŒå‡» <code>openIE.reg</code> å¯¼å…¥æ³¨å†Œè¡¨</li>
<li>é‡å¯æµè§ˆå™¨</li>
</ol>
<h4 data-id="heading-24">6.2 VBSè„šæœ¬è·¯å¾„é—®é¢˜</h4>
<p><strong>é—®é¢˜è¡¨ç°ï¼š</strong> åè®®èƒ½è§¦å‘ï¼Œä½†IEæ²¡æœ‰æ‰“å¼€</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š<code>C:\Program Files\openIE\openIE.vbs</code></li>
<li>ç¡®è®¤openIE.regä¸­çš„è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼ˆæ³¨æ„åŒåæ–œæ ï¼‰</li>
<li>æ‰‹åŠ¨è¿è¡ŒVBSæµ‹è¯•ï¼š
<pre><code class="hljs language-cmd" lang="cmd">wscript.exe "C:\Program Files\openIE\openIE.vbs" "openIE:http://www.baidu.com"
</code></pre>
</li>
</ol>
<h4 data-id="heading-25">6.3 URLå‚æ•°ä¼ é€’é—®é¢˜</h4>
<p><strong>é—®é¢˜è¡¨ç°ï¼š</strong> URLä¸­çš„æŸ¥è¯¢å‚æ•°ä¸¢å¤±</p>
<p><strong>åŸå› åˆ†æï¼š</strong> <code>&amp;</code> ç¬¦å·åœ¨æŸäº›åœºæ™¯ä¸‹ä¼šè¢«è½¬ä¹‰</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
å‰ç«¯è°ƒç”¨æ—¶è¿›è¡ŒURLç¼–ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> encodedUrl = <span class="hljs-built_in">encodeURIComponent</span>(url);
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">protocolCheck</span>(<span class="hljs-string">`openIE:<span class="hljs-subst">${encodedUrl}</span>`</span>, failCb, successCb);
</code></pre>
<p>VBSè„šæœ¬ç›¸åº”ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript">url = <span class="hljs-built_in">Replace</span>(args(<span class="hljs-number">0</span>), <span class="hljs-string">"openIE:"</span>, <span class="hljs-string">""</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
<span class="hljs-comment">' å¦‚æœéœ€è¦è§£ç ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</span>
<span class="hljs-comment">' url = Server.URLDecode(url)  ' éœ€è¦é¢å¤–ç»„ä»¶</span>
</code></pre>
<h4 data-id="heading-26">6.4 è·¨åŸŸiframeæ£€æµ‹å¤±è´¥</h4>
<p><strong>é—®é¢˜è¡¨ç°ï¼š</strong> åœ¨iframeä¸­è°ƒç”¨æ—¶ï¼Œåè®®æ£€æµ‹ä¸å‡†ç¡®</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
protocolcheck.jså·²é’ˆå¯¹iframeåœºæ™¯ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è‡ªåŠ¨æ£€æµ‹iframeç¯å¢ƒå¹¶ä½¿ç”¨åˆé€‚çš„ç­–ç•¥</span>
<span class="hljs-keyword">if</span> (inIframe) {
    <span class="hljs-title function_">openUriWithHiddenFrame</span>(uri, failCallback, successCallback);
}
</code></pre>
<h3 data-id="heading-27">ä¸ƒã€è¿›é˜¶ä¼˜åŒ–å»ºè®®</h3>
<h4 data-id="heading-28">7.1 å¤šæµè§ˆå™¨åè®®æ”¯æŒ</h4>
<p>é™¤äº†IEï¼Œä¹Ÿå¯ä»¥æ³¨å†Œå…¶ä»–æµè§ˆå™¨åè®®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é…ç½®ä¸åŒçš„åè®®å¤„ç†</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BROWSER_PROTOCOLS</span> = {
  <span class="hljs-attr">ie</span>: <span class="hljs-string">'openIE'</span>,
  <span class="hljs-attr">firefox</span>: <span class="hljs-string">'openFirefox'</span>,
  <span class="hljs-attr">edge</span>: <span class="hljs-string">'openEdge'</span>
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">openInSpecificBrowser</span>(<span class="hljs-params">url, browser</span>) {
  <span class="hljs-keyword">const</span> protocol = <span class="hljs-variable constant_">BROWSER_PROTOCOLS</span>[browser];
  <span class="hljs-keyword">if</span> (protocol) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">protocolCheck</span>(<span class="hljs-string">`<span class="hljs-subst">${protocol}</span>:<span class="hljs-subst">${url}</span>`</span>, onFail, onSuccess);
  }
}
</code></pre>
<h4 data-id="heading-29">7.2 é™é»˜å®‰è£…æ–¹æ¡ˆ</h4>
<p>å¯¹äºä¼ä¸šå†…éƒ¨åº”ç”¨ï¼Œå¯ä»¥é€šè¿‡<strong>ç»„ç­–ç•¥</strong>æˆ–<strong>SCCM</strong>æ¨é€æ³¨å†Œè¡¨é…ç½®ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># PowerShellé™é»˜å®‰è£…è„šæœ¬
$vbsPath = "C:\Program Files\openIE\openIE.vbs"
$regPath = "HKCR:\openIE\shell\open\command"

# åˆ›å»ºç›®å½•
New-Item -Path "C:\Program Files\openIE" -ItemType Directory -Force

# å¤åˆ¶VBSæ–‡ä»¶
Copy-Item ".\openIE.vbs" -Destination $vbsPath -Force

# å†™å…¥æ³¨å†Œè¡¨
New-Item -Path "HKCR:\openIE" -Force
Set-ItemProperty -Path "HKCR:\openIE" -Name "(Default)" -Value "URL:openIE Protocol"
Set-ItemProperty -Path "HKCR:\openIE" -Name "URL Protocol" -Value ""
New-Item -Path $regPath -Force
Set-ItemProperty -Path $regPath -Name "(Default)" -Value "wscript.exe //B `"$vbsPath`" `"%1`""
</code></pre>
<h4 data-id="heading-30">7.3 æ—¥å¿—è®°å½•</h4>
<p>ä¸ºVBSè„šæœ¬æ·»åŠ æ—¥å¿—åŠŸèƒ½ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥ï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript"><span class="hljs-keyword">Set</span> args = WScript.Arguments
<span class="hljs-keyword">Set</span> fso = <span class="hljs-built_in">CreateObject</span>(<span class="hljs-string">"Scripting.FileSystemObject"</span>)
<span class="hljs-keyword">Set</span> logFile = fso.OpenTextFile(<span class="hljs-string">"C:\Program Files\openIE\log.txt"</span>, <span class="hljs-number">8</span>, <span class="hljs-literal">True</span>)

<span class="hljs-keyword">If</span> args.Count &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">Then</span>
	url = <span class="hljs-built_in">Replace</span>(args(<span class="hljs-number">0</span>), <span class="hljs-string">"openIE:"</span>, <span class="hljs-string">""</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
	logFile.WriteLine Now &amp; <span class="hljs-string">" - Opening URL: "</span> &amp; url
	
	<span class="hljs-keyword">Set</span> shell = <span class="hljs-built_in">CreateObject</span>(<span class="hljs-string">"WScript.Shell"</span>)
	shell.Run <span class="hljs-string">"iexplore.exe "</span> &amp; url, <span class="hljs-number">1</span>, <span class="hljs-literal">False</span>
	
	logFile.WriteLine Now &amp; <span class="hljs-string">" - IE launched successfully"</span>
<span class="hljs-keyword">End</span> <span class="hljs-keyword">If</span>

logFile.Close
</code></pre>
<h4 data-id="heading-31">7.4 å‰ç«¯çŠ¶æ€æŒä¹…åŒ–</h4>
<p>ä½¿ç”¨localStorageè®°å½•åè®®å®‰è£…çŠ¶æ€ï¼Œå‡å°‘é‡å¤æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PROTOCOL_CHECK_KEY</span> = <span class="hljs-string">'openIE_protocol_installed'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">checkProtocolWithCache</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> isInstalled = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable constant_">PROTOCOL_CHECK_KEY</span>);
  
  <span class="hljs-keyword">if</span> (isInstalled === <span class="hljs-string">'true'</span>) {
    <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span> = <span class="hljs-string">`openIE:<span class="hljs-subst">${url}</span>`</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// æ‰§è¡Œæ£€æµ‹</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">protocolCheck</span>(
      <span class="hljs-string">`openIE:<span class="hljs-subst">${url}</span>`</span>,
      <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">PROTOCOL_CHECK_KEY</span>, <span class="hljs-string">'false'</span>);
        <span class="hljs-title function_">showInstallPrompt</span>();
      },
      <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable constant_">PROTOCOL_CHECK_KEY</span>, <span class="hljs-string">'true'</span>);
      }
    );
  }
}
</code></pre>
<h3 data-id="heading-32">å…«ã€å®‰å…¨æ€§è€ƒè™‘</h3>
<h4 data-id="heading-33">8.1 URLæ³¨å…¥é˜²æŠ¤</h4>
<p>é˜²æ­¢æ¶æ„URLæ³¨å…¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sanitizeUrl</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-comment">// ç™½åå•åŸŸåæ£€æŸ¥</span>
  <span class="hljs-keyword">const</span> allowedDomains = [<span class="hljs-string">'example.com'</span>, <span class="hljs-string">'internal.corp'</span>];
  <span class="hljs-keyword">const</span> urlObj = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(url);
  
  <span class="hljs-keyword">if</span> (!allowedDomains.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">domain</span> =&gt;</span> urlObj.<span class="hljs-property">hostname</span>.<span class="hljs-title function_">endsWith</span>(domain))) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ä¸å…è®¸çš„åŸŸå'</span>);
  }
  
  <span class="hljs-keyword">return</span> url;
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> safeUrl = <span class="hljs-title function_">sanitizeUrl</span>(userInputUrl);
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">protocolCheck</span>(<span class="hljs-string">`openIE:<span class="hljs-subst">${safeUrl}</span>`</span>, failCb, successCb);
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-title function_">alert</span>(<span class="hljs-string">'æ— æ•ˆçš„URL'</span>);
}
</code></pre>
<h4 data-id="heading-34">8.2 VBSè„šæœ¬å®‰å…¨</h4>
<p>é™åˆ¶VBSè„šæœ¬åªèƒ½æ‰“å¼€HTTP/HTTPSåè®®ï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript"><span class="hljs-keyword">Set</span> args = WScript.Arguments
<span class="hljs-keyword">If</span> args.Count &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">Then</span>
	url = <span class="hljs-built_in">Replace</span>(args(<span class="hljs-number">0</span>), <span class="hljs-string">"openIE:"</span>, <span class="hljs-string">""</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)
	
	<span class="hljs-comment">' å®‰å…¨æ£€æŸ¥ï¼šåªå…è®¸httpå’Œhttps</span>
	<span class="hljs-keyword">If</span> <span class="hljs-built_in">InStr</span>(<span class="hljs-number">1</span>, url, <span class="hljs-string">"http://"</span>, <span class="hljs-number">1</span>) = <span class="hljs-number">1</span> <span class="hljs-keyword">Or</span> <span class="hljs-built_in">InStr</span>(<span class="hljs-number">1</span>, url, <span class="hljs-string">"https://"</span>, <span class="hljs-number">1</span>) = <span class="hljs-number">1</span> <span class="hljs-keyword">Then</span>
		<span class="hljs-keyword">Set</span> shell = <span class="hljs-built_in">CreateObject</span>(<span class="hljs-string">"WScript.Shell"</span>)
		shell.Run <span class="hljs-string">"iexplore.exe "</span> &amp; url, <span class="hljs-number">1</span>, <span class="hljs-literal">False</span>
	<span class="hljs-keyword">End</span> <span class="hljs-keyword">If</span>
<span class="hljs-keyword">End</span> <span class="hljs-keyword">If</span>
</code></pre>
<h3 data-id="heading-35">ä¹ã€æ€»ç»“</h3>
<p>æœ¬æ–¹æ¡ˆé€šè¿‡<strong>è‡ªå®šä¹‰åè®®æ³¨å†Œ</strong>å®ç°äº†ä»Chromeæ— ç¼è·³è½¬åˆ°IEæµè§ˆå™¨çš„åŠŸèƒ½ï¼Œä¸»è¦æŠ€æœ¯äº®ç‚¹ï¼š</p>
<p>âœ… <strong>WindowsåŸç”Ÿåè®®æœºåˆ¶</strong>ï¼šåˆ©ç”¨æ³¨å†Œè¡¨å®ç°ç³»ç»Ÿçº§åè®®æ‹¦æˆª<br/>
âœ… <strong>è·¨æµè§ˆå™¨åè®®æ£€æµ‹</strong>ï¼šprotocolCheck.jsæ”¯æŒä¸»æµæµè§ˆå™¨<br/>
âœ… <strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong>ï¼šåè®®æœªå®‰è£…æ—¶è‡ªåŠ¨æç¤ºä¸‹è½½<br/>
âœ… <strong>è‡ªåŠ¨åŒ–éƒ¨ç½²</strong>ï¼šä¸€é”®å®‰è£…/å¸è½½è„šæœ¬<br/>
âœ… <strong>é«˜å…¼å®¹æ€§</strong>ï¼šæ”¯æŒiframeã€è·¨åŸŸç­‰å¤æ‚åœºæ™¯</p>
<h4 data-id="heading-36">é€‚ç”¨åœºæ™¯</h4>
<ul>
<li>âœ… ä¼ä¸šå†…éƒ¨OAç³»ç»Ÿï¼ˆä¾èµ–IE ActiveXæ§ä»¶ï¼‰</li>
<li>âœ… åŒ»ç–—ä¿¡æ¯ç³»ç»Ÿï¼ˆHIS/PACSç­‰ï¼‰</li>
<li>âœ… æ”¿åŠ¡ç³»ç»Ÿï¼ˆè€æ—§ç³»ç»Ÿå…¼å®¹ï¼‰</li>
<li>âœ… é“¶è¡Œ/é‡‘èç³»ç»Ÿï¼ˆå®‰å…¨æ§ä»¶ä¾èµ–ï¼‰</li>
</ul>
<h4 data-id="heading-37">æŠ€æœ¯æ ˆæ€»ç»“</h4>






























<table><thead><tr><th>æŠ€æœ¯</th><th>ä½œç”¨</th><th>éš¾ç‚¹</th></tr></thead><tbody><tr><td>Windowsæ³¨å†Œè¡¨</td><td>åè®®æ³¨å†Œ</td><td>è·¯å¾„è½¬ä¹‰ã€æƒé™é—®é¢˜</td></tr><tr><td>VBScript</td><td>URLå¤„ç†ä¸IEå¯åŠ¨</td><td>å‚æ•°ä¼ é€’ã€ç‰¹æ®Šå­—ç¬¦</td></tr><tr><td>Batchè„šæœ¬</td><td>è‡ªåŠ¨åŒ–å®‰è£…</td><td>ç®¡ç†å‘˜æƒé™æ£€æµ‹</td></tr><tr><td>JavaScript</td><td>åè®®æ£€æµ‹</td><td>è·¨æµè§ˆå™¨å…¼å®¹æ€§</td></tr></tbody></table>
<h3 data-id="heading-38">é™„å½•ï¼šç›¸å…³èµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fprevious-versions%2Fwindows%2Finternet-explorer%2Fie-developer%2Fplatform-apis%2Faa767914(v%3Dvs.85)" target="_blank" title="https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85)" ref="nofollow noopener noreferrer">Microsoftè‡ªå®šä¹‰åè®®å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fismailhabib%2Fcustom-protocol-detection" target="_blank" title="https://github.com/ismailhabib/custom-protocol-detection" ref="nofollow noopener noreferrer">protocolCheck.js GitHubä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.microsoft.com%2Fen-us%2Fprevious-versions%2Ft0aew7h6(v%3Dvs.85)" target="_blank" title="https://docs.microsoft.com/en-us/previous-versions/t0aew7h6(v=vs.85)" ref="nofollow noopener noreferrer">VBScriptè¯­è¨€å‚è€ƒ</a></li>
</ul>
<hr/>
<p><strong>ä½œè€…ï¼š</strong> ç é€”è¿›åŒ–è®º</p>
<p><strong>å…³é”®è¯ï¼š</strong> Chromeè·³è½¬IEã€è‡ªå®šä¹‰åè®®ã€æ³¨å†Œè¡¨ã€protocolCheckã€è·¨æµè§ˆå™¨å…¼å®¹</p>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼æœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®ºäº¤æµ~ ğŸ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 15 -æœ¬åœ°æ•°æ®å­˜å‚¨]]></title>    <link>https://juejin.cn/post/7572997791451856934</link>    <guid>https://juejin.cn/post/7572997791451856934</guid>    <pubDate>2025-11-17T03:14:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791451856934" data-draft-id="7572836557142278144" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 15 -æœ¬åœ°æ•°æ®å­˜å‚¨"/> <meta itemprop="keywords" content="Flutter,Dart,iOS"/> <meta itemprop="datePublished" content="2025-11-17T03:14:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="QuantumLeapä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/1767603104125197"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠFlutterå…¨æ ˆå¼€å‘å®æˆ˜æŒ‡å—ï¼šä»é›¶åˆ°é«˜çº§ã€‹- 15 -æœ¬åœ°æ•°æ®å­˜å‚¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1767603104125197/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    QuantumLeapä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:14:17.000Z" title="Mon Nov 17 2025 03:14:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutteræœ¬åœ°å­˜å‚¨</h2>
<blockquote>
<p>å½“æˆ‘ä»¬å…³é—­Appå†é‡æ–°æ‰“å¼€ï¼Œä¸ºä»€ä¹ˆæœ‰äº›æ•°æ®ï¼ˆæ¯”å¦‚ç™»å½•çŠ¶æ€ã€ç”¨æˆ·è®¾ç½®ã€æ–‡ç« è‰ç¨¿ï¼‰è¿˜åœ¨ï¼Œè€Œæœ‰äº›æ•°æ®ï¼ˆæ¯”å¦‚ä¸´æ—¶å¼¹çª—çŠ¶æ€ï¼‰å´æ¶ˆå¤±äº†ï¼Ÿè¿™èƒŒåå°±æ˜¯ <strong>â€œæœ¬åœ°å­˜å‚¨â€</strong> åœ¨å‘æŒ¥ä½œç”¨ã€‚å¯ä»¥è¯´ï¼Œä¸€ä¸ªä¸æ‡‚å¾—å¦‚ä½•ç®¡ç†æœ¬åœ°æ•°æ®çš„å¼€å‘è€…ï¼Œå¾ˆéš¾åšå‡ºç”¨æˆ·ä½“éªŒå¥½çš„åº”ç”¨ã€‚</p>
</blockquote>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥å½»åº•ææ‡‚Flutterä¸­çš„æœ¬åœ°å­˜å‚¨ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ ä¸ºä»€ä¹ˆéœ€è¦æœ¬åœ°å­˜å‚¨ï¼Ÿ</h3>
<p>ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœä½ æ¯å¤©é†’æ¥éƒ½ä¼šå¤±å¿†ï¼Œä¸è®°å¾—è‡ªå·±çš„åå­—ã€å®¶åœ¨å“ªé‡Œã€æ˜¨å¤©åšäº†ä»€ä¹ˆâ€¦â€¦è¿™ç®€ç›´æ˜¯ä¸€åœºç¾éš¾ã€‚å¯¹äºAppè€Œè¨€ï¼Œæœ¬åœ°å­˜å‚¨å°±æ˜¯å®ƒçš„ <strong>â€œè®°å¿†ç³»ç»Ÿâ€</strong>ã€‚</p>
<p><strong>ä¸»è¦åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ol>
<li><strong>ç”¨æˆ·åå¥½è®¾ç½®</strong>ï¼šæ¯”å¦‚ä¸»é¢˜é¢œè‰²ã€è¯­è¨€é€‰æ‹©ã€æ¶ˆæ¯æé†’å¼€å…³ã€‚</li>
<li><strong>ç™»å½•çŠ¶æ€ä¿æŒ</strong>ï¼šç”¨æˆ·ç™»å½•åï¼ŒAppâ€œè®°ä½â€ä»–ï¼Œä¸‹æ¬¡æ‰“å¼€æ— éœ€é‡æ–°ç™»å½•ã€‚</li>
<li><strong>ç¼“å­˜ç½‘ç»œæ•°æ®</strong>ï¼šå°†é¦–å±æ•°æ®ç¼“å­˜ä¸‹æ¥ï¼Œä¸‹æ¬¡å¯åŠ¨ç§’å¼€ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>ç¦»çº¿æ•°æ®æŒä¹…åŒ–</strong>ï¼šå¦‚ç¬”è®°è‰ç¨¿ã€é˜…è¯»è¿›åº¦ã€è´­ç‰©è½¦å•†å“ï¼Œå³ä½¿æ–­ç½‘ä¹Ÿä¸ä¸¢å¤±ã€‚</li>
<li><strong>å¤§æ•°æ®é‡ç»“æ„åŒ–å­˜å‚¨</strong>ï¼šæ¯”å¦‚èŠå¤©è®°å½•ã€äº¤æ˜“æ˜ç»†ç­‰ã€‚</li>
</ol>
<p>Flutteræ‹¥æœ‰å¤šç§æœ¬åœ°æ•°æ®å­˜å‚¨æ–¹æ¡ˆï¼Œä¸‹é¢æˆ‘ä»¬å…ˆçœ‹ä¸‹ç”¨å¼ å›¾æ¥äº†è§£ä¸‹å­˜å‚¨æ–¹æ¡ˆè„‰ç»œï¼š</p>
<h2 data-id="heading-2"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca6584d28a254bad9e650fd438b51ca2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUXVhbnR1bUxlYXDkuLY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763954057&amp;x-signature=wg3hQnacZC0tTnnVO3DtXqlF9LY%3D" alt="image.png" loading="lazy"/></h2>
<h3 data-id="heading-3">äºŒã€ <code>shared_preferences</code></h3>
<h4 data-id="heading-4">2.1 å®ƒæ˜¯ä»€ä¹ˆï¼Ÿèƒ½å¹²ä»€ä¹ˆï¼Ÿ</h4>
<p><code>shared_preferences</code> è¿™ä¸ªåå­—å¬èµ·æ¥æœ‰ç‚¹æ‹—å£ï¼Œä½†å…¶å®å¾ˆç®€å•ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆ Flutter ä¸ºæˆ‘ä»¬åœ¨æœ¬åœ°æä¾›çš„ä¸€ä¸ª <strong>â€œå°æœ¬å­â€</strong>ï¼Œä¸“é—¨ç”¨æ¥è®°å½•ä¸€äº›ç®€å•çš„ã€é”®å€¼å¯¹å½¢å¼çš„æ•°æ®ã€‚</p>
<ul>
<li><strong><code>shared</code>ï¼ˆå…±äº«ï¼‰</strong>ï¼šæŒ‡è¿™äº›æ•°æ®åœ¨ä½ çš„Appå†…æ˜¯å…±äº«çš„ï¼Œä»»ä½•é¡µé¢éƒ½èƒ½è¯»å†™ã€‚</li>
<li><strong><code>preferences</code>ï¼ˆåå¥½ï¼‰</strong>ï¼šé¡¾åæ€ä¹‰ï¼Œæœ€é€‚åˆå­˜å‚¨ç”¨æˆ·çš„åå¥½è®¾ç½®ã€‚</li>
</ul>
<p><strong>å®ƒçš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</strong>
åœ¨ Android ä¸Šï¼Œå®ƒèƒŒåæ˜¯é€šè¿‡ <code>SharedPreferences</code> API å°†æ•°æ®ä»¥ XML æ–‡ä»¶å½¢å¼å­˜å‚¨ï¼›åœ¨ iOS ä¸Šï¼Œåˆ™ä½¿ç”¨çš„æ˜¯ <code>NSUserDefaults</code>ã€‚Flutter æ’ä»¶å¸®æˆ‘ä»¬ç»Ÿä¸€äº†è¿™ä¸¤ç«¯çš„æ¥å£ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨ä¸€å¥—ä»£ç æå®šåŒç«¯å­˜å‚¨ã€‚</p>
<h4 data-id="heading-5">2.2 å·¥ä½œåŸç†å›¾è§£</h4>
<p>è®©æˆ‘ä»¬çœ‹çœ‹å½“ä½ è°ƒç”¨ <code>setString('name', 'ä¸€ä¸€')</code> æ—¶ï¼ŒèƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant A as Flutter App
    participant SP as shared_preferencesæ’ä»¶
    participant M as Method Channel
    participant AOS as Android (SharedPreferences)
    participant IOS as iOS (NSUserDefaults)

    A-&gt;&gt;SP: è°ƒç”¨ setString('name', 'ä¸€ä¸€')
    SP-&gt;&gt;M: é€šè¿‡Method Channelè°ƒç”¨åŸç”Ÿä»£ç 
    M-&gt;&gt;AOS: (åœ¨Androidä¸Š) å†™å…¥XMLæ–‡ä»¶
    M-&gt;&gt;IOS: (åœ¨iOSä¸Š) å†™å…¥plistæ–‡ä»¶
    AOS--&gt;&gt;M: å†™å…¥æˆåŠŸ
    IOS--&gt;&gt;M: å†™å…¥æˆåŠŸ
    M--&gt;&gt;SP: è¿”å›ç»“æœ
    SP--&gt;&gt;A: è¿”å› Future&lt;bool&gt; (true)
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>å¼‚æ­¥æ“ä½œ</strong>ï¼šæ‰€æœ‰è¯»å†™æ“ä½œéƒ½æ˜¯ <code>Future</code>ï¼Œæ„å‘³ç€ä¸ä¼šé˜»å¡ä½ çš„UIçº¿ç¨‹ã€‚</li>
<li><strong>æŒä¹…åŒ–</strong>ï¼šæ•°æ®è¢«å†™å…¥è®¾å¤‡æ–‡ä»¶ç³»ç»Ÿï¼ŒAppé‡å¯åä¾ç„¶å­˜åœ¨ã€‚</li>
<li><strong>å¹³å°å·®å¼‚è¢«å±è”½</strong>ï¼šä½ ä¸éœ€è¦å…³å¿ƒåº•å±‚æ˜¯XMLè¿˜æ˜¯plistï¼Œæ’ä»¶å¸®ä½ å¤„ç†äº†ã€‚</li>
</ul>
<h4 data-id="heading-6">2.3 ä¸‹é¢ç”¨ä¸€æ®µä»£ç æ¥è¯¦ç»†ä»‹ç»ä¸‹</h4>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä¾èµ–</strong>
åœ¨ <code>pubspec.yaml</code> æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">shared_preferences:</span> <span class="hljs-string">^2.2.2</span> <span class="hljs-comment"># è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬</span>
</code></pre>
<p>ç„¶åè¿è¡Œ <code>flutter pub get</code>ã€‚</p>
<p><strong>ç¬¬äºŒæ­¥ï¼šåŸºç¡€CRUDæ“ä½œ</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:shared_preferences/shared_preferences.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SPManager</span> </span>{
  <span class="hljs-comment">// å•ä¾‹</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SPManager _instance = SPManager._internal();
  <span class="hljs-keyword">factory</span> SPManager() =&gt; _instance;
  SPManager._internal();

  <span class="hljs-keyword">late</span> SharedPreferences _prefs;

  <span class="hljs-comment">// åˆå§‹åŒ–</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; init() <span class="hljs-keyword">async</span> {
    _prefs = <span class="hljs-keyword">await</span> SharedPreferences.getInstance();
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'SharedPreferences åˆå§‹åŒ–å®Œæˆï¼'</span>);
  }

  <span class="hljs-comment">// 1. å†™å…¥æ•°æ®</span>
  Future&lt;<span class="hljs-built_in">bool</span>&gt; saveUserInfo() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// å­—ç¬¦ä¸²</span>
      <span class="hljs-keyword">await</span> _prefs.setString(<span class="hljs-string">'username'</span>, <span class="hljs-string">'Flutteræœ¬åœ°å­˜å‚¨'</span>);
      <span class="hljs-comment">// æ•´å‹</span>
      <span class="hljs-keyword">await</span> _prefs.setInt(<span class="hljs-string">'userAge'</span>, <span class="hljs-number">28</span>);
      <span class="hljs-comment">// å¸ƒå°”å€¼</span>
      <span class="hljs-keyword">await</span> _prefs.setBool(<span class="hljs-string">'isVip'</span>, <span class="hljs-keyword">true</span>);
      <span class="hljs-comment">// å­—ç¬¦ä¸²åˆ—è¡¨</span>
      <span class="hljs-keyword">await</span> _prefs.setStringList(<span class="hljs-string">'hobbies'</span>, [<span class="hljs-string">'ç¼–ç¨‹'</span>, <span class="hljs-string">'è¯»ä¹¦'</span>, <span class="hljs-string">'å¥èº«'</span>]);
      <span class="hljs-comment">// åŒç²¾åº¦æµ®ç‚¹æ•°</span>
      <span class="hljs-keyword">await</span> _prefs.setDouble(<span class="hljs-string">'walletBalance'</span>, <span class="hljs-number">99.99</span>);

      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç”¨æˆ·ä¿¡æ¯ä¿å­˜æˆåŠŸï¼'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä¿å­˜å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
  }

  <span class="hljs-comment">// 2. è¯»å–æ•°æ®</span>
  <span class="hljs-keyword">void</span> readUserInfo() {
    <span class="hljs-comment">// è¯»å–å­—ç¬¦ä¸²ï¼Œæä¾›é»˜è®¤å€¼</span>
    <span class="hljs-built_in">String</span> username = _prefs.getString(<span class="hljs-string">'username'</span>) ?? <span class="hljs-string">'æœªçŸ¥ç”¨æˆ·'</span>;
    <span class="hljs-built_in">int</span> age = _prefs.getInt(<span class="hljs-string">'userAge'</span>) ?? <span class="hljs-number">0</span>;
    <span class="hljs-built_in">bool</span> isVip = _prefs.getBool(<span class="hljs-string">'isVip'</span>) ?? <span class="hljs-keyword">false</span>;
    <span class="hljs-built_in">double</span> balance = _prefs.getDouble(<span class="hljs-string">'walletBalance'</span>) ?? <span class="hljs-number">0.0</span>;
    <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">String</span>&gt; hobbies = _prefs.getStringList(<span class="hljs-string">'hobbies'</span>) ?? [];

    <span class="hljs-built_in">print</span>(<span class="hljs-string">'''
      ç”¨æˆ·ä¿¡æ¯ï¼š
      ç”¨æˆ·åï¼š<span class="hljs-subst">$username</span>
      å¹´é¾„ï¼š<span class="hljs-subst">$age</span>
      VIPï¼š<span class="hljs-subst">$isVip</span>
      ä½™é¢ï¼š<span class="hljs-subst">$balance</span>
      çˆ±å¥½ï¼š<span class="hljs-subst">$hobbies</span>
    '''</span>);
  }

  <span class="hljs-comment">// 3. åˆ é™¤æ•°æ®</span>
  Future&lt;<span class="hljs-built_in">bool</span>&gt; deleteUserInfo() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// åˆ é™¤æŒ‡å®šé”®</span>
      <span class="hljs-keyword">await</span> _prefs.remove(<span class="hljs-string">'username'</span>);
      <span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰æ•°æ®</span>
      <span class="hljs-comment">// await _prefs.clear();</span>
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç”¨æˆ·ä¿¡æ¯å·²åˆ é™¤'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'åˆ é™¤å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
  }

  <span class="hljs-comment">// 4. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</span>
  <span class="hljs-built_in">bool</span> containsKey(<span class="hljs-built_in">String</span> key) {
    <span class="hljs-keyword">return</span> _prefs.containsKey(key);
  }

  <span class="hljs-comment">// 5. è·å–æ‰€æœ‰é”®</span>
  <span class="hljs-built_in">Set</span>&lt;<span class="hljs-built_in">String</span>&gt; getAllKeys() {
    <span class="hljs-keyword">return</span> _prefs.getKeys();
  }
}
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šåœ¨Appä¸­ä½¿ç”¨</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">void</span> main() <span class="hljs-keyword">async</span> {
  <span class="hljs-comment">// ç¡®ä¿WidgetsBindingåˆå§‹åŒ–</span>
  WidgetsFlutterBinding.ensureInitialized();
  
  <span class="hljs-comment">// åˆå§‹åŒ–SPManager</span>
  <span class="hljs-keyword">await</span> SPManager().init();
  
  runApp(MyApp());
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> MaterialApp(
      home: HomePage(),
    );
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HomePage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _HomePageState createState() =&gt; _HomePageState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_HomePageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">HomePage</span>&gt; </span>{
  <span class="hljs-keyword">final</span> SPManager _spManager = SPManager();

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(title: Text(<span class="hljs-string">'SPæ¼”ç¤º'</span>)),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(
              onPressed: () =&gt; _spManager.saveUserInfo(),
              child: Text(<span class="hljs-string">'ä¿å­˜ç”¨æˆ·ä¿¡æ¯'</span>),
            ),
            ElevatedButton(
              onPressed: () =&gt; _spManager.readUserInfo(),
              child: Text(<span class="hljs-string">'è¯»å–ç”¨æˆ·ä¿¡æ¯'</span>),
            ),
            ElevatedButton(
              onPressed: () =&gt; _spManager.deleteUserInfo(),
              child: Text(<span class="hljs-string">'åˆ é™¤ç”¨æˆ·ä¿¡æ¯'</span>),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre>
<h4 data-id="heading-7">2.4 ä½¿ç”¨ä»‹ç»ä¸æ³¨æ„ç‚¹</h4>
<ol>
<li><strong>ä¸€å®šè¦å…ˆåˆå§‹åŒ–</strong>ï¼šåœ¨ä½¿ç”¨å‰å¿…é¡»è°ƒç”¨ <code>getInstance()</code> å¹¶ç­‰å¾…å…¶å®Œæˆã€‚</li>
<li><strong>å¤„ç†ç©ºå€¼</strong>ï¼šè¯»å–æ—¶ä¸€å®šè¦æä¾›é»˜è®¤å€¼ï¼Œå› ä¸ºé”®å¯èƒ½ä¸å­˜åœ¨ã€‚</li>
<li><strong>ä¸è¦å­˜å¤§æ•°æ®</strong>ï¼šå®ƒä¸é€‚åˆå­˜å‚¨å¤§å‹å¯¹è±¡æˆ–åˆ—è¡¨ï¼Œæ€§èƒ½ä¼šå˜å·®ã€‚</li>
<li><strong>é”®åç®¡ç†</strong>ï¼šå»ºè®®ä½¿ç”¨å¸¸é‡æ¥ç®¡ç†é”®åï¼Œé¿å…æ‹¼å†™é”™è¯¯ã€‚
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SPKeys</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> username = <span class="hljs-string">'username'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> userAge = <span class="hljs-string">'user_age'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> isVip = <span class="hljs-string">'is_vip'</span>;
}
</code></pre>
</li>
<li><strong>å¼‚æ­¥é”™è¯¯å¤„ç†</strong>ï¼šä½¿ç”¨ <code>try-catch</code> åŒ…è£¹å¯èƒ½å‡ºé”™çš„æ“ä½œã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ æ–‡ä»¶å­˜å‚¨</h3>
<h4 data-id="heading-9">3.1 é€‚ç”¨åœºæ™¯</h4>
<p>å½“ä½ çš„æ•°æ®ä¸é€‚åˆç”¨é”®å€¼å¯¹å­˜å‚¨æ—¶ï¼Œæ–‡ä»¶å­˜å‚¨å°±æ´¾ä¸Šç”¨åœºäº†ï¼š</p>
<ul>
<li>Appçš„é…ç½®æ–‡ä»¶ï¼ˆJSON, XMLï¼‰</li>
<li>ç”¨æˆ·ä¸‹è½½çš„å›¾ç‰‡ã€æ–‡æ¡£</li>
<li>åº”ç”¨æ—¥å¿—æ–‡ä»¶</li>
<li>éœ€è¦è‡ªå®šä¹‰æ ¼å¼çš„æ•°æ®</li>
</ul>
<h4 data-id="heading-10">3.2 æ–‡ä»¶ç³»ç»Ÿè·¯å¾„è¯¦è§£</h4>
<p>åœ¨Flutterä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>path_provider</code> æ’ä»¶æ¥è·å–å„ç§è·¯å¾„ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:path_provider/path_provider.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FilePathManager</span> </span>{
  <span class="hljs-comment">// è·å–ä¸´æ—¶ç›®å½•</span>
  <span class="hljs-keyword">static</span> Future&lt;<span class="hljs-built_in">String</span>&gt; <span class="hljs-keyword">get</span> tempPath <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> dir = <span class="hljs-keyword">await</span> getTemporaryDirectory();
    <span class="hljs-keyword">return</span> dir.path;
  }

  <span class="hljs-comment">// è·å–æ–‡æ¡£ç›®å½•ï¼ˆAndroidå¯¹åº”Appä¸“ç”¨ç›®å½•ï¼ŒiOSå¯¹åº”Documentsï¼‰</span>
  <span class="hljs-keyword">static</span> Future&lt;<span class="hljs-built_in">String</span>&gt; <span class="hljs-keyword">get</span> documentsPath <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> dir = <span class="hljs-keyword">await</span> getApplicationDocumentsDirectory();
    <span class="hljs-keyword">return</span> dir.path;
  }

  <span class="hljs-comment">// è·å–å¤–éƒ¨å­˜å‚¨ç›®å½•</span>
  <span class="hljs-keyword">static</span> Future&lt;<span class="hljs-built_in">String?</span>&gt; <span class="hljs-keyword">get</span> externalStoragePath <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> dir = <span class="hljs-keyword">await</span> getExternalStorageDirectory();
    <span class="hljs-keyword">return</span> dir?.path;
  }

  <span class="hljs-comment">// è·å–æ”¯æŒç›®å½•</span>
  <span class="hljs-keyword">static</span> Future&lt;<span class="hljs-built_in">String</span>&gt; <span class="hljs-keyword">get</span> supportPath <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> dir = <span class="hljs-keyword">await</span> getApplicationSupportDirectory();
    <span class="hljs-keyword">return</span> dir.path;
  }
}
</code></pre>
<p><strong>è·¯å¾„é€‰æ‹©ï¼š</strong></p>
<ul>
<li><strong>ä¸´æ—¶æ–‡ä»¶</strong>ï¼š<code>getTemporaryDirectory()</code> - ç¼“å­˜ï¼Œç³»ç»Ÿå¯æ¸…ç†</li>
<li><strong>ç”¨æˆ·æ•°æ®</strong>ï¼š<code>getApplicationDocumentsDirectory()</code> - ç”¨æˆ·ç”Ÿæˆçš„å†…å®¹</li>
<li><strong>Appå†…éƒ¨æ–‡ä»¶</strong>ï¼š<code>getApplicationSupportDirectory()</code> - Appè¿è¡Œæ‰€éœ€æ–‡ä»¶</li>
</ul>
<h4 data-id="heading-11">3.3 æ–‡ä»¶å­˜å‚¨å®æˆ˜æ¼”ç¤º</h4>
<p>ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ç®¡ç†ç±»å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'dart:io'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'dart:convert'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:path_provider/path_provider.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileManager</span> </span>{
  <span class="hljs-comment">// å•ä¾‹</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> FileManager _instance = FileManager._internal();
  <span class="hljs-keyword">factory</span> FileManager() =&gt; _instance;
  FileManager._internal();

  <span class="hljs-comment">// è·å–æ–‡ä»¶è·¯å¾„</span>
  Future&lt;<span class="hljs-built_in">String</span>&gt; _getLocalFilePath(<span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> dir = <span class="hljs-keyword">await</span> getApplicationDocumentsDirectory();
    <span class="hljs-keyword">return</span> <span class="hljs-string">'<span class="hljs-subst">${dir.path}</span>/<span class="hljs-subst">$filename</span>'</span>;
  }

  <span class="hljs-comment">// 1. å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶</span>
  Future&lt;File&gt; writeStringToFile(<span class="hljs-built_in">String</span> content, <span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> file = File(<span class="hljs-keyword">await</span> _getLocalFilePath(filename));
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> file.writeAsString(content);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'å†™å…¥æ–‡ä»¶å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">rethrow</span>;
    }
  }

  <span class="hljs-comment">// 2. ä»æ–‡ä»¶è¯»å–å­—ç¬¦ä¸²</span>
  Future&lt;<span class="hljs-built_in">String</span>&gt; readStringFromFile(<span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> file = File(<span class="hljs-keyword">await</span> _getLocalFilePath(filename));
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> file.exists()) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> file.readAsString();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'æ–‡ä»¶ä¸å­˜åœ¨'</span>);
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯»å–æ–‡ä»¶å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">rethrow</span>;
    }
  }

  <span class="hljs-comment">// 3. å†™å…¥JSONå¯¹è±¡</span>
  Future&lt;File&gt; writeJsonToFile(<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; json, <span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> jsonString = jsonEncode(json);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> writeStringToFile(jsonString, filename);
  }

  <span class="hljs-comment">// 4. ä»æ–‡ä»¶è¯»å–JSONå¯¹è±¡</span>
  Future&lt;<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;&gt; readJsonFromFile(<span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> jsonString = <span class="hljs-keyword">await</span> readStringFromFile(filename);
      <span class="hljs-keyword">return</span> jsonDecode(jsonString);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¯»å–JSONå¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">rethrow</span>;
    }
  }

  <span class="hljs-comment">// 5. å¢åŠ å†…å®¹åˆ°æ–‡ä»¶</span>
  Future&lt;File&gt; appendToFile(<span class="hljs-built_in">String</span> content, <span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> file = File(<span class="hljs-keyword">await</span> _getLocalFilePath(filename));
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> file.writeAsString(content, mode: FileMode.append);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¿½åŠ æ–‡ä»¶å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">rethrow</span>;
    }
  }

  <span class="hljs-comment">// 6. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
  Future&lt;<span class="hljs-built_in">bool</span>&gt; fileExists(<span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> file = File(<span class="hljs-keyword">await</span> _getLocalFilePath(filename));
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> file.exists();
  }

  <span class="hljs-comment">// 7. åˆ é™¤æ–‡ä»¶</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; deleteFile(<span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> file = File(<span class="hljs-keyword">await</span> _getLocalFilePath(filename));
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> file.exists()) {
        <span class="hljs-keyword">await</span> file.delete();
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ–‡ä»¶åˆ é™¤æˆåŠŸ: <span class="hljs-subst">$filename</span>'</span>);
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'åˆ é™¤æ–‡ä»¶å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">rethrow</span>;
    }
  }

  <span class="hljs-comment">// 8. è·å–æ–‡ä»¶ä¿¡æ¯</span>
  Future&lt;FileStat&gt; getFileInfo(<span class="hljs-built_in">String</span> filename) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> file = File(<span class="hljs-keyword">await</span> _getLocalFilePath(filename));
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> file.exists()) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> file.stat();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">throw</span> Exception(<span class="hljs-string">'æ–‡ä»¶ä¸å­˜åœ¨'</span>);
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'è·å–æ–‡ä»¶ä¿¡æ¯å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">rethrow</span>;
    }
  }
}
</code></pre>
<h4 data-id="heading-12">3.4 ä»¥ç”¨æˆ·é…ç½®ç®¡ç†ä¸ºä¾‹ï¼š</h4>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserConfigManager</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> _configFileName = <span class="hljs-string">'user_config.json'</span>;
  <span class="hljs-keyword">final</span> FileManager _fileManager = FileManager();

  <span class="hljs-comment">// ä¿å­˜ç”¨æˆ·é…ç½®</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; saveUserConfig({
    <span class="hljs-keyword">required</span> <span class="hljs-built_in">String</span> theme,
    <span class="hljs-keyword">required</span> <span class="hljs-built_in">String</span> language,
    <span class="hljs-keyword">required</span> <span class="hljs-built_in">bool</span> darkMode,
    <span class="hljs-keyword">required</span> <span class="hljs-built_in">List</span>&lt;<span class="hljs-built_in">String</span>&gt; recentSearches,
  }) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> config = {
      <span class="hljs-string">'theme'</span>: theme,
      <span class="hljs-string">'language'</span>: language,
      <span class="hljs-string">'darkMode'</span>: darkMode,
      <span class="hljs-string">'recentSearches'</span>: recentSearches,
      <span class="hljs-string">'lastUpdated'</span>: <span class="hljs-built_in">DateTime</span>.now().toIso8601String(),
    };

    <span class="hljs-keyword">await</span> _fileManager.writeJsonToFile(config, _configFileName);
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç”¨æˆ·é…ç½®å·²ä¿å­˜'</span>);
  }

  <span class="hljs-comment">// è¯»å–ç”¨æˆ·é…ç½®</span>
  Future&lt;<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt;&gt; loadUserConfig() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _fileManager.fileExists(_configFileName)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> _fileManager.readJsonFromFile(_configFileName);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// è¿”å›é»˜è®¤é…ç½®</span>
        <span class="hljs-keyword">return</span> _getDefaultConfig();
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'åŠ è½½ç”¨æˆ·é…ç½®å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤é…ç½®: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-keyword">return</span> _getDefaultConfig();
    }
  }

  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; _getDefaultConfig() {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-string">'theme'</span>: <span class="hljs-string">'light'</span>,
      <span class="hljs-string">'language'</span>: <span class="hljs-string">'zh-CN'</span>,
      <span class="hljs-string">'darkMode'</span>: <span class="hljs-keyword">false</span>,
      <span class="hljs-string">'recentSearches'</span>: [],
      <span class="hljs-string">'lastUpdated'</span>: <span class="hljs-built_in">DateTime</span>.now().toIso8601String(),
    };
  }

  <span class="hljs-comment">// æ¸…ç©ºé…ç½®</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; clearConfig() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> _fileManager.deleteFile(_configFileName);
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-13">å››ã€ SQLite</h3>
<h4 data-id="heading-14">4.1 ä»€ä¹ˆæ˜¯SQLiteï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</h4>
<p>SQLiteæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ã€æ–‡ä»¶å¼çš„<strong>å…³ç³»å‹æ•°æ®åº“</strong>ã€‚å®ƒä¸éœ€è¦å•ç‹¬çš„æœåŠ¡å™¨è¿›ç¨‹ï¼Œæ•´ä¸ªæ•°æ®åº“å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œéå¸¸é€‚åˆç§»åŠ¨ç«¯åº”ç”¨ã€‚</p>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·å…³ç³»ç®¡ç†ï¼ˆè”ç³»äººã€å¥½å‹ï¼‰</li>
<li>å•†å“ç›®å½•ã€è®¢å•ç®¡ç†</li>
<li>èŠå¤©æ¶ˆæ¯è®°å½•</li>
<li>ä»»ä½•éœ€è¦å¤æ‚æŸ¥è¯¢å’Œå…³ç³»çš„æ•°æ®</li>
</ul>
<h4 data-id="heading-15">4.2 Flutterä¸­çš„SQLiteæ¶æ„</h4>
<p>åœ¨Flutterä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>sqflite</code> æ’ä»¶æ¥æ“ä½œSQLiteï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[Flutter App] --&gt; B[sqfliteæ’ä»¶]
    B --&gt; C[Method Channel]
    C --&gt; D[Android: SQLiteDatabase]
    C --&gt; E[iOS: SQLite3 Library]
    D --&gt; F[.dbæ–‡ä»¶]
    E --&gt; F
    F --&gt; G[æ•°æ®æŒä¹…åŒ–]
</code></pre>
<h4 data-id="heading-16">4.3 æ„å»ºä¸€ä¸ªä»»åŠ¡ç®¡ç†App</h4>
<p><strong>ç¬¬ä¸€æ­¥ï¼šæ·»åŠ ä¾èµ–</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">sqflite:</span> <span class="hljs-string">^2.3.0</span>
  <span class="hljs-attr">path:</span> <span class="hljs-string">^1.8.3</span>
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“å·¥å…·ç±»</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:sqflite/sqflite.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:path/path.dart'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseHelper</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> DatabaseHelper _instance = DatabaseHelper._internal();
  <span class="hljs-keyword">factory</span> DatabaseHelper() =&gt; _instance;
  DatabaseHelper._internal();

  <span class="hljs-keyword">static</span> Database? _database;

  <span class="hljs-comment">// æ•°æ®åº“åç§°å’Œç‰ˆæœ¬</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> _dbName = <span class="hljs-string">'task_manager.db'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> _dbVersion = <span class="hljs-number">1</span>;

  <span class="hljs-comment">// è¡¨åå’Œåˆ—å</span>
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> tableTasks = <span class="hljs-string">'tasks'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> columnId = <span class="hljs-string">'id'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> columnTitle = <span class="hljs-string">'title'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> columnDescription = <span class="hljs-string">'description'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> columnIsCompleted = <span class="hljs-string">'is_completed'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> columnCreatedAt = <span class="hljs-string">'created_at'</span>;
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> columnUpdatedAt = <span class="hljs-string">'updated_at'</span>;

  <span class="hljs-comment">// è·å–æ•°æ®åº“å®ä¾‹</span>
  Future&lt;Database&gt; <span class="hljs-keyword">get</span> database <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (_database != <span class="hljs-keyword">null</span>) <span class="hljs-keyword">return</span> _database!;
    _database = <span class="hljs-keyword">await</span> _initDatabase();
    <span class="hljs-keyword">return</span> _database!;
  }

  <span class="hljs-comment">// åˆå§‹åŒ–æ•°æ®åº“</span>
  Future&lt;Database&gt; _initDatabase() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// è·å–æ•°æ®åº“è·¯å¾„</span>
    <span class="hljs-built_in">String</span> path = join(<span class="hljs-keyword">await</span> getDatabasesPath(), _dbName);
    
    <span class="hljs-comment">// åˆ›å»º/æ‰“å¼€æ•°æ®åº“</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> openDatabase(
      path,
      version: _dbVersion,
      onCreate: _createTables,
      onUpgrade: _upgradeDatabase,
    );
  }

  <span class="hljs-comment">// åˆ›å»ºè¡¨</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; _createTables(Database db, <span class="hljs-built_in">int</span> version) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> db.execute(<span class="hljs-string">'''
      CREATE TABLE <span class="hljs-subst">$tableTasks</span> (
        <span class="hljs-subst">$columnId</span> INTEGER PRIMARY KEY AUTOINCREMENT,
        <span class="hljs-subst">$columnTitle</span> TEXT NOT NULL,
        <span class="hljs-subst">$columnDescription</span> TEXT,
        <span class="hljs-subst">$columnIsCompleted</span> INTEGER NOT NULL DEFAULT 0,
        <span class="hljs-subst">$columnCreatedAt</span> INTEGER NOT NULL,
        <span class="hljs-subst">$columnUpdatedAt</span> INTEGER NOT NULL
      )
    '''</span>);
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä»»åŠ¡è¡¨åˆ›å»ºæˆåŠŸï¼'</span>);
  }

  <span class="hljs-comment">// æ•°æ®åº“å‡çº§</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; _upgradeDatabase(Database db, <span class="hljs-built_in">int</span> oldVersion, <span class="hljs-built_in">int</span> newVersion) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (oldVersion &lt; <span class="hljs-number">2</span>) {
      <span class="hljs-comment">// await db.execute('ALTER TABLE $tableTasks ADD COLUMN new_column TEXT');</span>
    }
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ•°æ®åº“ä»ç‰ˆæœ¬ <span class="hljs-subst">$oldVersion</span> å‡çº§åˆ° <span class="hljs-subst">$newVersion</span>'</span>);
  }

  <span class="hljs-comment">// å…³é—­æ•°æ®åº“</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; close() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (_database != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">await</span> _database!.close();
      _database = <span class="hljs-keyword">null</span>;
    }
  }
}
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºæ•°æ®æ¨¡å‹</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Task</span> </span>{
  <span class="hljs-built_in">int?</span> id;
  <span class="hljs-built_in">String</span> title;
  <span class="hljs-built_in">String?</span> description;
  <span class="hljs-built_in">bool</span> isCompleted;
  <span class="hljs-built_in">DateTime</span> createdAt;
  <span class="hljs-built_in">DateTime</span> updatedAt;

  Task({
    <span class="hljs-keyword">this</span>.id,
    <span class="hljs-keyword">required</span> <span class="hljs-keyword">this</span>.title,
    <span class="hljs-keyword">this</span>.description,
    <span class="hljs-keyword">this</span>.isCompleted = <span class="hljs-keyword">false</span>,
    <span class="hljs-built_in">DateTime?</span> createdAt,
    <span class="hljs-built_in">DateTime?</span> updatedAt,
  })  : createdAt = createdAt ?? <span class="hljs-built_in">DateTime</span>.now(),
        updatedAt = updatedAt ?? <span class="hljs-built_in">DateTime</span>.now();

  <span class="hljs-comment">// å°†Taskå¯¹è±¡è½¬æ¢ä¸ºMapï¼Œä¾¿äºå­˜å…¥æ•°æ®åº“</span>
  <span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; toMap() {
    <span class="hljs-keyword">return</span> {
      DatabaseHelper.columnId: id,
      DatabaseHelper.columnTitle: title,
      DatabaseHelper.columnDescription: description,
      DatabaseHelper.columnIsCompleted: isCompleted ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>,
      DatabaseHelper.columnCreatedAt: createdAt.millisecondsSinceEpoch,
      DatabaseHelper.columnUpdatedAt: updatedAt.millisecondsSinceEpoch,
    };
  }

  <span class="hljs-comment">// ä»Mapåˆ›å»ºTaskå¯¹è±¡</span>
  <span class="hljs-keyword">factory</span> Task.fromMap(<span class="hljs-built_in">Map</span>&lt;<span class="hljs-built_in">String</span>, <span class="hljs-built_in">dynamic</span>&gt; map) {
    <span class="hljs-keyword">return</span> Task(
      id: map[DatabaseHelper.columnId],
      title: map[DatabaseHelper.columnTitle],
      description: map[DatabaseHelper.columnDescription],
      isCompleted: map[DatabaseHelper.columnIsCompleted] == <span class="hljs-number">1</span>,
      createdAt: <span class="hljs-built_in">DateTime</span>.fromMillisecondsSinceEpoch(
          map[DatabaseHelper.columnCreatedAt]),
      updatedAt: <span class="hljs-built_in">DateTime</span>.fromMillisecondsSinceEpoch(
          map[DatabaseHelper.columnUpdatedAt]),
    );
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-built_in">String</span> toString() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Task{id: <span class="hljs-subst">$id</span>, title: <span class="hljs-subst">$title</span>, completed: <span class="hljs-subst">$isCompleted</span>}'</span>;
  }
}
</code></pre>
<p><strong>ç¬¬å››æ­¥ï¼šåˆ›å»ºæ•°æ®è®¿é—®å¯¹è±¡</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskDao</span> </span>{
  <span class="hljs-keyword">final</span> DatabaseHelper _dbHelper = DatabaseHelper();

  <span class="hljs-comment">// 1. æ’å…¥æ–°ä»»åŠ¡</span>
  Future&lt;<span class="hljs-built_in">int</span>&gt; insertTask(Task task) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-comment">// æ›´æ–°æ—¶é—´æˆ³</span>
    task.updatedAt = <span class="hljs-built_in">DateTime</span>.now();
    
    <span class="hljs-keyword">final</span> id = <span class="hljs-keyword">await</span> db.insert(
      DatabaseHelper.tableTasks,
      task.toMap(),
      conflictAlgorithm: ConflictAlgorithm.replace,
    );
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä»»åŠ¡åˆ›å»ºæˆåŠŸï¼ŒID: <span class="hljs-subst">$id</span>'</span>);
    <span class="hljs-keyword">return</span> id;
  }

  <span class="hljs-comment">// 2. æ ¹æ®IDæŸ¥è¯¢ä»»åŠ¡</span>
  Future&lt;Task?&gt; getTaskById(<span class="hljs-built_in">int</span> id) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">final</span> maps = <span class="hljs-keyword">await</span> db.query(
      DatabaseHelper.tableTasks,
      where: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnId}</span> = ?'</span>,
      whereArgs: [id],
    );
    
    <span class="hljs-keyword">if</span> (maps.isNotEmpty) {
      <span class="hljs-keyword">return</span> Task.fromMap(maps.first);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
  }

  <span class="hljs-comment">// 3. æŸ¥è¯¢æ‰€æœ‰ä»»åŠ¡</span>
  Future&lt;<span class="hljs-built_in">List</span>&lt;Task&gt;&gt; getAllTasks() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">final</span> maps = <span class="hljs-keyword">await</span> db.query(
      DatabaseHelper.tableTasks,
      orderBy: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnCreatedAt}</span> DESC'</span>,
    );
    
    <span class="hljs-keyword">return</span> maps.map((map) =&gt; Task.fromMap(map)).toList();
  }

  <span class="hljs-comment">// 4. æŸ¥è¯¢æœªå®Œæˆçš„ä»»åŠ¡</span>
  Future&lt;<span class="hljs-built_in">List</span>&lt;Task&gt;&gt; getIncompleteTasks() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">final</span> maps = <span class="hljs-keyword">await</span> db.query(
      DatabaseHelper.tableTasks,
      where: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnIsCompleted}</span> = ?'</span>,
      whereArgs: [<span class="hljs-number">0</span>],
      orderBy: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnCreatedAt}</span> DESC'</span>,
    );
    
    <span class="hljs-keyword">return</span> maps.map((map) =&gt; Task.fromMap(map)).toList();
  }

  <span class="hljs-comment">// 5. æ›´æ–°ä»»åŠ¡</span>
  Future&lt;<span class="hljs-built_in">int</span>&gt; updateTask(Task task) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-comment">// æ›´æ–°ä¿®æ”¹æ—¶é—´</span>
    task.updatedAt = <span class="hljs-built_in">DateTime</span>.now();
    
    <span class="hljs-keyword">final</span> count = <span class="hljs-keyword">await</span> db.update(
      DatabaseHelper.tableTasks,
      task.toMap(),
      where: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnId}</span> = ?'</span>,
      whereArgs: [task.id],
    );
    
    <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä»»åŠ¡æ›´æ–°æˆåŠŸ: <span class="hljs-subst">${task.title}</span>'</span>);
    }
    
    <span class="hljs-keyword">return</span> count;
  }

  <span class="hljs-comment">// 6. åˆ é™¤ä»»åŠ¡</span>
  Future&lt;<span class="hljs-built_in">int</span>&gt; deleteTask(<span class="hljs-built_in">int</span> id) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">final</span> count = <span class="hljs-keyword">await</span> db.delete(
      DatabaseHelper.tableTasks,
      where: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnId}</span> = ?'</span>,
      whereArgs: [id],
    );
    
    <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'ä»»åŠ¡åˆ é™¤æˆåŠŸ, ID: <span class="hljs-subst">$id</span>'</span>);
    }
    
    <span class="hljs-keyword">return</span> count;
  }

  <span class="hljs-comment">// 7. æ‰¹é‡æ“ä½œ</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; batchInsertTasks(<span class="hljs-built_in">List</span>&lt;Task&gt; tasks) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">final</span> batch = db.batch();
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">final</span> task <span class="hljs-keyword">in</span> tasks) {
      batch.insert(DatabaseHelper.tableTasks, task.toMap());
    }
    
    <span class="hljs-keyword">await</span> batch.commit();
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ‰¹é‡æ’å…¥ <span class="hljs-subst">${tasks.length}</span> ä¸ªä»»åŠ¡æˆåŠŸ'</span>);
  }

  <span class="hljs-comment">// 8. å¤æ‚æŸ¥è¯¢ï¼šæœç´¢ä»»åŠ¡</span>
  Future&lt;<span class="hljs-built_in">List</span>&lt;Task&gt;&gt; searchTasks(<span class="hljs-built_in">String</span> keyword) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">final</span> maps = <span class="hljs-keyword">await</span> db.query(
      DatabaseHelper.tableTasks,
      where: <span class="hljs-string">'''
        <span class="hljs-subst">${DatabaseHelper.columnTitle}</span> LIKE ? OR 
        <span class="hljs-subst">${DatabaseHelper.columnDescription}</span> LIKE ?
      '''</span>,
      whereArgs: [<span class="hljs-string">'%<span class="hljs-subst">$keyword</span>%'</span>, <span class="hljs-string">'%<span class="hljs-subst">$keyword</span>%'</span>],
      orderBy: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnCreatedAt}</span> DESC'</span>,
    );
    
    <span class="hljs-keyword">return</span> maps.map((map) =&gt; Task.fromMap(map)).toList();
  }

  <span class="hljs-comment">// 9. äº‹åŠ¡æ“ä½œ</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; markAllAsCompleted() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
    
    <span class="hljs-keyword">await</span> db.transaction((txn) <span class="hljs-keyword">async</span> {
      <span class="hljs-keyword">await</span> txn.update(
        DatabaseHelper.tableTasks,
        {
          DatabaseHelper.columnIsCompleted: <span class="hljs-number">1</span>,
          DatabaseHelper.columnUpdatedAt: <span class="hljs-built_in">DateTime</span>.now().millisecondsSinceEpoch,
        },
      );
    });
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ‰€æœ‰ä»»åŠ¡æ ‡è®°ä¸ºå®Œæˆ'</span>);
  }
}
</code></pre>
<p><strong>ç¬¬äº”æ­¥ï¼šåœ¨UIä¸­ä½¿ç”¨</strong></p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TaskListPage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatefulWidget</span> </span>{
  <span class="hljs-meta">@override</span>
  _TaskListPageState createState() =&gt; _TaskListPageState();
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_TaskListPageState</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">State</span>&lt;<span class="hljs-title">TaskListPage</span>&gt; </span>{
  <span class="hljs-keyword">final</span> TaskDao _taskDao = TaskDao();
  <span class="hljs-built_in">List</span>&lt;Task&gt; _tasks = [];
  <span class="hljs-built_in">bool</span> _isLoading = <span class="hljs-keyword">true</span>;

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> initState() {
    <span class="hljs-keyword">super</span>.initState();
    _loadTasks();
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _loadTasks() <span class="hljs-keyword">async</span> {
    setState(() =&gt; _isLoading = <span class="hljs-keyword">true</span>);
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">final</span> tasks = <span class="hljs-keyword">await</span> _taskDao.getAllTasks();
      setState(() =&gt; _tasks = tasks);
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'åŠ è½½ä»»åŠ¡å¤±è´¥: <span class="hljs-subst">$e</span>'</span>);
      <span class="hljs-comment">// é”™è¯¯æç¤º</span>
    } <span class="hljs-keyword">finally</span> {
      setState(() =&gt; _isLoading = <span class="hljs-keyword">false</span>);
    }
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _addTask() <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">final</span> newTask = Task(
      title: <span class="hljs-string">'æ–°ä»»åŠ¡ <span class="hljs-subst">${DateTime.now().second}</span>'</span>,
      description: <span class="hljs-string">'è¿™æ˜¯ä¸€ä¸ªæ–°ä»»åŠ¡çš„æè¿°'</span>,
    );
    
    <span class="hljs-keyword">await</span> _taskDao.insertTask(newTask);
    <span class="hljs-keyword">await</span> _loadTasks(); <span class="hljs-comment">// é‡æ–°åŠ è½½åˆ—è¡¨</span>
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _toggleTaskCompletion(Task task) <span class="hljs-keyword">async</span> {
    task.isCompleted = !task.isCompleted;
    <span class="hljs-keyword">await</span> _taskDao.updateTask(task);
    <span class="hljs-keyword">await</span> _loadTasks();
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _deleteTask(Task task) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">if</span> (task.id != <span class="hljs-keyword">null</span>) {
      <span class="hljs-keyword">await</span> _taskDao.deleteTask(task.id!);
      <span class="hljs-keyword">await</span> _loadTasks();
    }
  }

  <span class="hljs-meta">@override</span>
  Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: Text(<span class="hljs-string">'ä»»åŠ¡ç®¡ç†å™¨ (<span class="hljs-subst">${_tasks.length}</span>)'</span>),
        actions: [
          IconButton(
            icon: Icon(Icons.add),
            onPressed: _addTask,
          ),
        ],
      ),
      body: _isLoading
          ? Center(child: CircularProgressIndicator())
          : _tasks.isEmpty
              ? Center(child: Text(<span class="hljs-string">'è¿˜æ²¡æœ‰ä»»åŠ¡ï¼Œç‚¹å‡»+å·æ·»åŠ å§ï¼'</span>))
              : ListView.builder(
                  itemCount: _tasks.length,
                  itemBuilder: (context, index) {
                    <span class="hljs-keyword">final</span> task = _tasks[index];
                    <span class="hljs-keyword">return</span> Dismissible(
                      key: Key(task.id.toString()),
                      background: Container(color: Colors.red),
                      onDismissed: (_) =&gt; _deleteTask(task),
                      child: ListTile(
                        leading: Checkbox(
                          value: task.isCompleted,
                          onChanged: (_) =&gt; _toggleTaskCompletion(task),
                        ),
                        title: Text(
                          task.title,
                          style: TextStyle(
                            decoration: task.isCompleted
                                ? TextDecoration.lineThrough
                                : TextDecoration.none,
                          ),
                        ),
                        subtitle: Text(
                          task.description ?? <span class="hljs-string">'æš‚æ— æè¿°'</span>,
                          maxLines: <span class="hljs-number">1</span>,
                          overflow: TextOverflow.ellipsis,
                        ),
                        trailing: Text(
                          DateFormat(<span class="hljs-string">'MM-dd HH:mm'</span>).format(task.createdAt),
                          style: TextStyle(fontSize: <span class="hljs-number">12</span>, color: Colors.grey),
                        ),
                      ),
                    );
                  },
                ),
    );
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-17">äº”ã€ æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-18">5.1 æ•°æ®åº“è¿ç§»</h4>
<p>å½“ä½ çš„æ•°æ®ç»“æ„éœ€è¦å˜æ›´æ—¶ï¼Œå°±éœ€è¦æ•°æ®åº“è¿ç§»ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseHelper</span> </span>{
  <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">int</span> _dbVersion = <span class="hljs-number">2</span>; <span class="hljs-comment">// ç‰ˆæœ¬å‡çº§</span>
  
  Future&lt;<span class="hljs-keyword">void</span>&gt; _upgradeDatabase(Database db, <span class="hljs-built_in">int</span> oldVersion, <span class="hljs-built_in">int</span> newVersion) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> version = oldVersion + <span class="hljs-number">1</span>; version &lt;= newVersion; version++) {
      <span class="hljs-keyword">switch</span> (version) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
          <span class="hljs-keyword">await</span> _migrateToV2(db);
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
          <span class="hljs-keyword">await</span> _migrateToV3(db);
          <span class="hljs-keyword">break</span>;
      }
    }
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _migrateToV2(Database db) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// æ·»åŠ ä¼˜å…ˆçº§å­—æ®µ</span>
    <span class="hljs-keyword">await</span> db.execute(<span class="hljs-string">'''
      ALTER TABLE <span class="hljs-subst">${DatabaseHelper.tableTasks}</span> 
      ADD COLUMN priority INTEGER NOT NULL DEFAULT 0
    '''</span>);
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ•°æ®åº“è¿ç§»åˆ°ç‰ˆæœ¬2æˆåŠŸ'</span>);
  }

  Future&lt;<span class="hljs-keyword">void</span>&gt; _migrateToV3(Database db) <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// åˆ›å»ºæ–°è¡¨æˆ–æ›´å¤æ‚çš„è¿ç§»</span>
    <span class="hljs-keyword">await</span> db.execute(<span class="hljs-string">'''
      CREATE TABLE categories (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT NOT NULL,
        color TEXT NOT NULL
      )
    '''</span>);
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'æ•°æ®åº“è¿ç§»åˆ°ç‰ˆæœ¬3æˆåŠŸ'</span>);
  }
}
</code></pre>
<h4 data-id="heading-19">5.2 ä½¿ç”¨ORMç®€åŒ–æ“ä½œ</h4>
<p>è™½ç„¶ç›´æ¥ä½¿ç”¨SQLå¾ˆå¼ºå¤§ï¼Œä½†ORMå¯ä»¥è®©ä»£ç æ›´ç®€æ´ã€‚æ¨è <code>floor</code> æˆ– <code>moor</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">floor:</span> <span class="hljs-string">^1.4.0</span>
  <span class="hljs-attr">sqflite:</span> <span class="hljs-string">^2.0.0</span>
</code></pre>
<h4 data-id="heading-20">5.3 ä¼˜åŒ–æŠ€å·§</h4>
<ol>
<li><strong>ä½¿ç”¨ç´¢å¼•</strong>ï¼šå¯¹ç»å¸¸æŸ¥è¯¢çš„å­—æ®µåˆ›å»ºç´¢å¼•</li>
<li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šä½¿ç”¨ <code>batch()</code> è¿›è¡Œæ‰¹é‡æ’å…¥/æ›´æ–°</li>
<li><strong>è¿æ¥æ± </strong>ï¼šä¿æŒæ•°æ®åº“è¿æ¥ï¼Œé¿å…é¢‘ç¹å¼€å…³</li>
<li><strong>åˆ†é¡µæŸ¥è¯¢</strong>ï¼šå¤§æ•°æ®é›†ä½¿ç”¨ <code>LIMIT</code> å’Œ <code>OFFSET</code></li>
<li><strong>é¿å…N+1æŸ¥è¯¢</strong>ï¼šä½¿ç”¨ <code>JOIN</code> ä¸€æ¬¡æ€§è·å–å…³è”æ•°æ®</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åˆ†é¡µæŸ¥è¯¢</span>
Future&lt;<span class="hljs-built_in">List</span>&lt;Task&gt;&gt; getTasksPaginated(<span class="hljs-built_in">int</span> page, <span class="hljs-built_in">int</span> pageSize) <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">final</span> db = <span class="hljs-keyword">await</span> _dbHelper.database;
  <span class="hljs-keyword">final</span> offset = (page - <span class="hljs-number">1</span>) * pageSize;
  
  <span class="hljs-keyword">final</span> maps = <span class="hljs-keyword">await</span> db.query(
    DatabaseHelper.tableTasks,
    limit: pageSize,
    offset: offset,
    orderBy: <span class="hljs-string">'<span class="hljs-subst">${DatabaseHelper.columnCreatedAt}</span> DESC'</span>,
  );
  
  <span class="hljs-keyword">return</span> maps.map((map) =&gt; Task.fromMap(map)).toList();
}
</code></pre>
<hr/>
<h3 data-id="heading-21">å…­ã€ æ–¹æ¡ˆå¯¹æ¯”</h3>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡å¤šç»´åº¦å¯¹ä»¥ä¸Šå‡ ç§æœ¬åœ°å­˜å‚¨æ–¹æ¡ˆè¿›è¡Œä¸€ä¸ªè¯¦ç»†å¯¹æ¯”ï¼š</p>






















































<table><thead><tr><th>ç»´åº¦</th><th>shared_preferences</th><th>æ–‡ä»¶å­˜å‚¨</th><th>SQLite</th><th>Hive</th></tr></thead><tbody><tr><td><strong>æ•°æ®ç±»å‹</strong></td><td>åŸºæœ¬ç±»å‹</td><td>ä»»æ„æ•°æ®</td><td>ç»“æ„åŒ–æ•°æ®</td><td>ä»»æ„å¯¹è±¡</td></tr><tr><td><strong>æŸ¥è¯¢èƒ½åŠ›</strong></td><td>é”®å€¼æŸ¥è¯¢</td><td>é¡ºåºè¯»å–</td><td>å¤æ‚SQLæŸ¥è¯¢</td><td>é”®å€¼+æ¡ä»¶æŸ¥è¯¢</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>å¿«</td><td>ä¸­ç­‰</td><td>å¿«ï¼ˆæœ‰ç´¢å¼•ï¼‰</td><td>éå¸¸å¿«</td></tr><tr><td><strong>å¤æ‚åº¦</strong></td><td>ç®€å•</td><td>ä¸­ç­‰</td><td>å¤æ‚</td><td>ç®€å•</td></tr><tr><td><strong>æ•°æ®é‡</strong></td><td>å°ï¼ˆ&lt;1MBï¼‰</td><td>ä¸­ç­‰</td><td>å¤§</td><td>å¤§</td></tr><tr><td><strong>æ˜¯å¦éœ€è¦åºåˆ—åŒ–</strong></td><td>éœ€è¦</td><td>éœ€è¦</td><td>éœ€è¦</td><td>ä¸éœ€è¦</td></tr></tbody></table>
<p><strong>å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¦‚ä½•é€‰æ‹©æœ¬åœ°å­˜å‚¨ï¼Ÿå¯æŒ‰ä¸‹é¢ç­–ç•¥è¿›è¡Œå­˜å‚¨æ–¹æ¡ˆé€‰å‹ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[å¼€å§‹é€‰å‹] --&gt; B{æ•°æ®é‡å¤§å°};
    B --&gt;|å¾ˆå° &lt; 1MB| C{æ•°æ®ç±»å‹};
    B --&gt;|ä¸­ç­‰| D[æ–‡ä»¶å­˜å‚¨];
    B --&gt;|å¾ˆå¤§| E{æ˜¯å¦éœ€è¦å¤æ‚æŸ¥è¯¢};
    
    C --&gt;|ç®€å•é”®å€¼å¯¹| F[shared_preferences];
    C --&gt;|å¤æ‚å¯¹è±¡| G[Hive];
    
    E --&gt;|æ˜¯| H[SQLite];
    E --&gt;|å¦| G;
    
    F --&gt; I[å®Œæˆ];
    D --&gt; I;
    G --&gt; I;
    H --&gt; I;
</code></pre>
<p><strong>ä»¥ä¸Šé€‰å‹ç­–ç•¥æ¦‚è¿°ä»¥ä¸‹ï¼š</strong></p>
<ol>
<li><strong>ç”¨æˆ·è®¾ç½®ã€ç™»å½•ä»¤ç‰Œ</strong> â†’ <code>shared_preferences</code></li>
<li><strong>Appé…ç½®ã€æ—¥å¿—æ–‡ä»¶</strong> â†’ æ–‡ä»¶å­˜å‚¨</li>
<li><strong>èŠå¤©è®°å½•ã€å•†å“ç›®å½•</strong> â†’ SQLite</li>
<li><strong>ç¼“å­˜æ•°æ®ã€ä¸´æ—¶çŠ¶æ€</strong> â†’ Hive</li>
<li><strong>éœ€è¦æè‡´æ€§èƒ½</strong> â†’ Hive</li>
<li><strong>éœ€è¦å¤æ‚å…³ç³»æŸ¥è¯¢</strong> â†’ SQLite</li>
</ol>
<hr/>
<h3 data-id="heading-22">ä¸ƒã€ ç»¼åˆåº”ç”¨ä»£ç å®æˆ˜</h3>
<p>ä¸‹é¢æˆ‘ä»¬æ„å»ºä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æ•°æ®ç®¡ç†æ–¹æ¡ˆï¼Œç»¼åˆè¿ç”¨å¤šç§å­˜å‚¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDataManager</span> </span>{
  <span class="hljs-keyword">final</span> SPManager _spManager = SPManager();
  <span class="hljs-keyword">final</span> FileManager _fileManager = FileManager();
  <span class="hljs-keyword">final</span> TaskDao _taskDao = TaskDao();
  
  <span class="hljs-comment">// 1. ç”¨æˆ·ç™»å½•çŠ¶æ€ - ä½¿ç”¨shared_preferences</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; saveLoginState(User user) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> _spManager.init();
    <span class="hljs-keyword">await</span> _spManager._prefs.setString(<span class="hljs-string">'user_id'</span>, user.id);
    <span class="hljs-keyword">await</span> _spManager._prefs.setString(<span class="hljs-string">'user_token'</span>, user.token);
    <span class="hljs-keyword">await</span> _spManager._prefs.setBool(<span class="hljs-string">'is_logged_in'</span>, <span class="hljs-keyword">true</span>);
    
    <span class="hljs-comment">// åŒæ—¶ä¿å­˜ç”¨æˆ·ä¿¡æ¯åˆ°SQLite</span>
    <span class="hljs-comment">// await _userDao.insertUser(user);</span>
  }
  
  <span class="hljs-comment">// 2. ç”¨æˆ·åå¥½è®¾ç½® - ä½¿ç”¨æ–‡ä»¶å­˜å‚¨</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; saveUserPreferences(UserPreferences prefs) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> _fileManager.writeJsonToFile(
      prefs.toJson(), 
      <span class="hljs-string">'user_preferences.json'</span>
    );
  }
  
  <span class="hljs-comment">// 3. ç”¨æˆ·ä»»åŠ¡æ•°æ® - ä½¿ç”¨SQLite</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; syncUserTasks(<span class="hljs-built_in">List</span>&lt;Task&gt; tasks) <span class="hljs-keyword">async</span> {
    <span class="hljs-keyword">await</span> _taskDao.batchInsertTasks(tasks);
  }
  
  <span class="hljs-comment">// 4. æ¸…ç†æ‰€æœ‰ç”¨æˆ·æ•°æ®</span>
  Future&lt;<span class="hljs-keyword">void</span>&gt; clearAllUserData() <span class="hljs-keyword">async</span> {
    <span class="hljs-comment">// æ¸…ç†SP</span>
    <span class="hljs-keyword">await</span> _spManager._prefs.clear();
    
    <span class="hljs-comment">// æ¸…ç†é…ç½®æ–‡ä»¶</span>
    <span class="hljs-keyword">await</span> _fileManager.deleteFile(<span class="hljs-string">'user_preferences.json'</span>);
    
    <span class="hljs-comment">// æ¸…ç†æ•°æ®åº“</span>
    <span class="hljs-comment">// await _taskDao.deleteAllTasks();</span>
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-23">å†™åœ¨æœ€å</h3>
<p>è‡³æ­¤æœ¬åœ°æ•°æ®å­˜å‚¨çš„çŸ¥è¯†å°±å…¨å­¦å®Œäº†ï¼Œ<strong>è®°ä½è¿™å‡ ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼š</strong></p>
<ol>
<li><strong>æ€§èƒ½æ„è¯†</strong>ï¼šå¤§æ•°æ®é‡æ—¶è€ƒè™‘ç´¢å¼•ã€åˆ†é¡µã€æ‰¹é‡æ“ä½œ</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå­˜å‚¨æ“ä½œå¯èƒ½å¤±è´¥ï¼Œä¸€å®šè¦æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†</li>
<li><strong>æ•°æ®å®‰å…¨</strong>ï¼šæ•æ„Ÿä¿¡æ¯è€ƒè™‘åŠ å¯†å­˜å‚¨</li>
<li><strong>æµ‹è¯•éªŒè¯</strong>ï¼šæ•°æ®åº“è¿ç§»ç­‰å¤æ‚æ“ä½œè¦å……åˆ†æµ‹è¯•</li>
</ol>
<p>æœ¬åœ°å­˜å‚¨æ˜¯Appå¼€å‘çš„åŸºç¡€ï¼ŒæŒæ¡å¥½å®ƒï¼Œå°±èƒ½å¼€å‘å‡ºä½“éªŒæµç•…ã€æ•°æ®å¯é çš„åº”ç”¨ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©åˆ°ä½ ï¼
æˆ‘ä»¬ä¸‹æœŸå†è§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘åˆå¼€å‘äº†ä¸€æ¬¾ideaæ’ä»¶-ContiNewGenerator]]></title>    <link>https://juejin.cn/post/7572880767585927219</link>    <guid>https://juejin.cn/post/7572880767585927219</guid>    <pubDate>2025-11-17T03:37:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572880767585927219" data-draft-id="7572880767585828915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘åˆå¼€å‘äº†ä¸€æ¬¾ideaæ’ä»¶-ContiNewGenerator"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-11-17T03:37:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç­¾æ”¶æ—¥è½"/> <meta itemprop="url" content="https://juejin.cn/user/3227821870940216"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘åˆå¼€å‘äº†ä¸€æ¬¾ideaæ’ä»¶-ContiNewGenerator
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821870940216/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç­¾æ”¶æ—¥è½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:37:44.000Z" title="Mon Nov 17 2025 03:37:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¹‹å‰ç»™å¼€å‘äº†ä¸€æ¬¾ <code>idea</code> æ’ä»¶ï¼Œåå­—å« <code>YamlHelper</code>ï¼Œæ˜¯ä¸ªæ”¶è´¹æ’ä»¶ã€‚</p>
<p>è™½ç„¶æ”¶è´¹ï¼Œä½†æ˜¯å¯¹å­¦ç”Ÿï¼Œè€å¸ˆï¼Œå¼€æºé¡¹ç›®ç­‰ç­‰æ˜¯å…è´¹çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feb229af98424d7d9b179866e2c33a64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=GhW5Dml4ayUKTsN1qFNFSfAzlMQ%3D" alt="PixPin_2025-11-14_10-49-52.png" loading="lazy"/></p>
<p>è™½ç„¶ä¸‹è½½çš„äººä¸å°‘
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9bf17a12efb4f6585559a6d0ce4bd77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=0rqigvbkfkoPLQvko51ObNKHSSs%3D" alt="PixPin_2025-11-14_10-50-58.png" loading="lazy"/></p>
<p>ä½†æ˜¯ä¸Šæ¶è‡³ä»Šï¼Œé”€å”®é¢æ˜¯0ï¼Œå“ˆå“ˆå“ˆ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd280b4ff7fd4e85876e44e8154e3540~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=2YnlIFHCHjPNQFr5xrncgrL0chA%3D" alt="PixPin_2025-11-14_10-52-15.png" loading="lazy"/></p>
<p>æ‰€ä»¥åé¢å°±æ²¡æ€ä¹ˆå¼€å‘æ’ä»¶äº†ï¼Œæœ‰å‡ ä¸ªå¼€å‘çš„æ’ä»¶ä¹Ÿæ˜¯è‡ªå·±ç”¨äº†ï¼Œæ²¡æœ‰å†ä¸Šæ¶æ’ä»¶å¸‚åœºã€‚</p>
<p>å› ä¸º<code>YamlHelper</code>æ’ä»¶ä¸Šæœ‰ä¸€ä¸ªæèµ é¡µé¢ï¼Œå‰ä¸¤å¤©æ”¶åˆ°äº†10å—é’±çš„æèµ ï¼Œéå¸¸æ„Ÿè°¢è€æ¿çš„è®¤å¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d13faa10aa2f4e7c972fc3a3e37f7382~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=Um%2F4k28iSGTnRa403cACTpKiliY%3D" alt="PixPin_2025-11-14_11-00-39.png" loading="lazy"/></p>
<p>ä¸ºäº†æ„Ÿè°¢è¿™ä½è€æ¿çš„è®¤å¯ï¼Œä»Šå¤©æŠŠä¹‹å‰å¼€å‘çš„æ’ä»¶åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<p>ä¹‹å‰å…¬å¸å¼€å‘çš„æ—¶å€™ï¼Œè¦ç”¨ä¸€ä¸ªç±»ä¼¼äºè‹¥ä¾é‚£æ ·çš„ç®¡ç†åå°ï¼Œä½†æ˜¯è‹¥ä¾å‰ç«¯ç•Œé¢å®åœ¨ä¸å¤ªç¾è§‚ã€‚</p>
<p>äºæ˜¯åœ¨ <code>gitee</code> ä¸Šæ‰¾ï¼Œå‘ç°äº† <code>Continew Admin</code> è¿™ä¸ªé¡¹ç›®ï¼Œç°åœ¨æ”¹åå« <code>Continew</code> äº†ã€‚
å¾ˆå¤šåœ°æ–¹ç¡®å®ä¸é”™ï¼Œå‰ç«¯é¡µé¢ä¹Ÿå¾ˆæ¼‚äº®ã€‚äºæ˜¯å°±åœ¨è¿™ä¸ªé¡¹ç›®çš„åŸºç¡€ä¸Šå¼€å‘äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/752ac9c608454356b2344f3d346aa64f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=A5Qs3NMUPkjhdylr9DntyWaPEF8%3D" alt="PixPin_2025-11-14_11-23-14.png" loading="lazy"/></p>
<p>åæ¥å‘ç°ç”Ÿæˆä»£ç æœ‰äº›éº»çƒ¦ï¼Œå°±æƒ³ç€ç»™è¿™ä¸ªé¡¹ç›®å†™ä¸€ä¸ªä»£ç ç”Ÿæˆå™¨çš„æ’ä»¶ã€‚æ‰€ä»¥å°±æœ‰äº†è¿™ä¸ªæ’ä»¶ã€‚</p>
<h2 data-id="heading-1">ç®€å•ä»‹ç»</h2>
<p>æ’ä»¶åå­—å« <code>ContiNewGenerator</code> ï¼Œå·²ç»å‘å¸ƒåˆ°ideaæ’ä»¶å¸‚åœºäº†ï¼Œç›´æ¥æœç´¢å°±å¯ä»¥å®‰è£…äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/43ac3e1b423c4b7796c314f9dae7261d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=8UDeawtsoPDSm2due0%2FcLuCobyI%3D" alt="PixPin_2025-11-17_10-45-31.png" loading="lazy"/></p>
<h3 data-id="heading-2">åŠŸèƒ½</h3>
<p>ç®€å•ä»‹ç»ä¸€ä¸‹åŠŸèƒ½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b816a8acb4c648fbb3901b9a0a6913e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=wVInRgfZau9GAoJdTszoye8kibs%3D" alt="PixPin_2025-11-17_10-45-50.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/017e5b556d6f49d798257d05fcd512f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=RY0sgTUHcX%2B2k2BaDM%2B8IGJIJsU%3D" alt="PixPin_2025-11-17_10-48-33.png" loading="lazy"/></p>
<p>æ”¯æŒ 3.5.0ã€3.6.0ã€3.7.0ã€4.0.0 ç‰ˆæœ¬ï¼Œç”Ÿæˆæ—¶å¯ä»¥é€‰æ‹©ç‰ˆæœ¬</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ede359cd5d34bf2802fbdf8e9596701~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=m47xshfM9yofuBaUIPhrhjpMrUY%3D" alt="PixPin_2025-11-14_11-26-18.png" loading="lazy"/></p>
<p>æ”¯æŒMySQLå’ŒPostgreSQLæ•°æ®åº“ã€‚ä¼šæ ¹æ®é…ç½®æ–‡ä»¶è‡ªåŠ¨è§£ææ•°æ®åº“é…ç½®ä¿¡æ¯,Â è¿æ¥æ•°æ®åº“ã€‚</p>
<p>è®¾ç½®å‰ç«¯,Â åç«¯ç›®å½•å,Â ä¸€é”®ç”Ÿæˆå‰ç«¯,Â åç«¯ä»£ç åˆ°æŒ‡å®šç›®å½•,  çœå»äº†å¤åˆ¶ç²˜è´´çš„éº»çƒ¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c155474f208047e79758d5fa642920db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=TRp3URa1YOtL7hhBkUCuPwCJ%2FZM%3D" alt="PixPin_2025-11-17_10-46-48.png" loading="lazy"/></p>
<p>åœ¨ ContiNew Admin é¡¹ç›®çš„ä»£ç ç”Ÿæˆå™¨æ¨¡æ¿åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œå¯ç”Ÿæˆ ContiNew Admin é£æ ¼ä»£ç ï¼Œä¹Ÿå¯ç”Ÿæˆ Mybatis-Plus é£æ ¼ä»£ç ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1093d202967c4bf0aa1051eabc6ae123~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=E3DMUvYnWx0HDqJxtJhFIFhya9Q%3D" alt="PixPin_2025-11-17_10-49-41.png" loading="lazy"/></p>
<p>æ”¯æŒé¢„è§ˆ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da0cb9e4ebea4918b3cf0bcf63cf8d88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=0Mw%2BcO%2FSX%2Bb8%2F1a%2B9V57YYSaiAo%3D" alt="PixPin_2025-11-17_10-47-36.png" loading="lazy"/></p>
<p>æ”¯æŒä¿å­˜è¡¨ç”Ÿæˆé…ç½®ä¿¡æ¯ï¼ŒåŒä¸€å¼ è¡¨å†æ¬¡ç”Ÿæˆå¯å›æ˜¾ä¸Šæ¬¡é…ç½®ä¿¡æ¯ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e32b2080466543d4bda02a3aab5fd501~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=ovc2SgFDXSOvb8LRBXmXfoKPS44%3D" alt="PixPin_2025-11-17_10-47-01.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cbd78b0353947a9b0fef8e24da44486~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=h6tLesaLiDez%2BE4%2BB9OqU6CyO0Q%3D" alt="PixPin_2025-11-17_10-47-59.png" loading="lazy"/></p>
<p>ç”Ÿæˆçš„åç«¯ä»£ç </p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28808c82dac8498cbdbf0c6a621bbfd5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=ycROjk641Kptch%2BDIDqHyWJIk2M%3D" alt="PixPin_2025-11-17_10-48-08.png" loading="lazy"/></p>
<p>ç”Ÿæˆçš„å‰ç«¯ä»£ç </p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6617ab51e884fffb6fb49c82b04f147~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=RmeqpYQ99nvlHp8m0dJZw8hhPog%3D" alt="PixPin_2025-11-17_10-53-56.png" loading="lazy"/></p>
<p>è¿˜æ”¯æŒä¸€äº›é…ç½®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6430c322b11c4fb8804482d9a861403f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg562-5pS25pel6JC9:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955464&amp;x-signature=A%2BkTAPHbObeIN1%2FKgeenNQvUMZI%3D" alt="PixPin_2025-11-17_11-34-53.png" loading="lazy"/></p>
<p>ä»£ç ç”Ÿæˆåï¼Œå…ˆæ‰§è¡Œä¸€ä¸‹SQLæ·»åŠ èœå•ï¼Œç„¶åå°±å¯ä»¥å¯åŠ¨ç³»ç»Ÿï¼Œçœ‹ä¸€çœ‹æ–°å¢çš„é¡µé¢å•¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æµ‹è¯•åˆ°éƒ¨ç½²ï¼šåŸºäºTRAE SOLOæ„å»ºAIåº”ç”¨çš„è´¨é‡é—¨ç¦æµæ°´çº¿]]></title>    <link>https://juejin.cn/post/7572836557143375872</link>    <guid>https://juejin.cn/post/7572836557143375872</guid>    <pubDate>2025-11-17T03:44:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572836557143375872" data-draft-id="7572844326390267938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æµ‹è¯•åˆ°éƒ¨ç½²ï¼šåŸºäºTRAE SOLOæ„å»ºAIåº”ç”¨çš„è´¨é‡é—¨ç¦æµæ°´çº¿"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-11-17T03:44:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒåŒå­¦çš„æµ‹å¼€ç¬”è®°"/> <meta itemprop="url" content="https://juejin.cn/user/84028728031976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æµ‹è¯•åˆ°éƒ¨ç½²ï¼šåŸºäºTRAE SOLOæ„å»ºAIåº”ç”¨çš„è´¨é‡é—¨ç¦æµæ°´çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/84028728031976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒåŒå­¦çš„æµ‹å¼€ç¬”è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:44:31.000Z" title="Mon Nov 17 2025 03:44:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_3" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_3" ref="nofollow noopener noreferrer"/></h2>
<p>å½“AIåº”ç”¨ä¸€å¤´æ’ä¸Šè´¨é‡ä¿éšœï¼Œè¿™ä¸­é—´çš„â€œå‘â€æˆ‘å¯å¤ªç†Ÿäº†ã€‚ åšæµ‹è¯•å¼€å‘è¿™ä¹ˆå¤šå¹´ï¼Œçœ¼çœ‹ç€åº”ç”¨å¼€å‘ä»è€å¥—è·¯ä¸€è·¯ç‹‚å¥”åˆ°AIé©±åŠ¨ï¼Œä½†è¯´å®è¯ï¼Œè´¨é‡ä¿éšœè¿™ä¸€å—ï¼Œæœ‰ç‚¹è·Ÿä¸ä¸Šäº†ã€‚</p>
<p>ç°åœ¨ç”¨<code>TRAE SOLO</code>è¿™æ ·çš„å·¥å…·ï¼Œéšæ‰‹å°±èƒ½æ­ä¸ªå¸¦å¤§æ¨¡å‹çš„åº”ç”¨demoï¼Œå¿«æ˜¯çœŸå¿«ã€‚ ä½†åŸå‹è·‘èµ·æ¥ä¹‹åå‘¢ï¼Ÿæ€ä¹ˆä¿è¯å®ƒè¿­ä»£ä¸å´©ï¼Ÿä¸Šçº¿ä¹‹åæ€ä¹ˆçŸ¥é“å®ƒåˆ°åº•ç¨³ä¸ç¨³ï¼Ÿè¿™äº›é—®é¢˜æˆä¸ºäº†æ–°çš„æŒ‘æˆ˜ã€‚ æœ¬æ–‡å°†ä»¥ä¸€ä¸ªçœŸå®çš„â€œæ™ºèƒ½é—®ç­”APIâ€ä¸ºä¾‹ï¼Œåˆ†äº«æ˜¯å¦‚ä½•åˆ©ç”¨<code>TRAE SOLO</code>ä¸ºæ ¸å¿ƒï¼Œç»“åˆ<code>Python</code>æµ‹è¯•æ¡†æ¶å’Œ<code>Kubernetes</code>ç¯å¢ƒï¼Œæ­å»ºä¸€å¥—è´¯ç©¿å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²å…¨æµç¨‹çš„AIåº”ç”¨è´¨é‡é—¨ç¦æµæ°´çº¿ï¼Œä¸ºAIåº”ç”¨çš„å¯é è½åœ°ä¿é©¾æŠ¤èˆªã€‚</p>
<h2 data-id="heading-1">æ¡ˆä¾‹èƒŒæ™¯ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_4" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_4" ref="nofollow noopener noreferrer"/></h2>
<p>ç›®æ ‡æ˜¯å¿«é€Ÿæ„å»ºä¸€ä¸ªç®€å•çš„æ™ºèƒ½é—®ç­”æœåŠ¡ã€‚åˆ©ç”¨<code>TRAE SOLO</code>çš„SOLO coderåŠŸèƒ½ï¼Œæˆ‘ä»¬é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤ç”Ÿæˆäº†åº”ç”¨çš„æ ¸å¿ƒä»£ç æ¡†æ¶ã€‚</p>
<p>å‘<code>SOLO coder</code>å‘å‡ºçš„æŒ‡ä»¤ï¼š</p>
<blockquote>
<h3 data-id="heading-2"/>
<p>â€œç”Ÿæˆä¸€ä¸ªåŸºäºFastAPIçš„æ™ºèƒ½é—®ç­”æ¥å£ã€‚å®ƒéœ€è¦æ¥æ”¶ç”¨æˆ·é—®é¢˜ï¼Œè°ƒç”¨OpenAIå…¼å®¹çš„APIï¼Œå¹¶è¿”å›ç­”æ¡ˆã€‚åŒæ—¶ï¼Œè¯·ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„Dockerfileã€‚â€</p>
</blockquote>
<p><code>TRAE SOLO</code>çš„äº§å‡ºï¼š</p>
<ol>
<li><code>app.py</code>: ä¸€ä¸ªå®Œæ•´çš„<code>FastAPI</code>åº”ç”¨ä»£ç ï¼ŒåŒ…å«<code>/ask</code>ç«¯ç‚¹ã€‚</li>
<li><code>requirements.txt</code>: é¡¹ç›®ä¾èµ–æ–‡ä»¶ã€‚</li>
<li><code>Dockerfile</code>: ç”¨äºå®¹å™¨åŒ–çš„<code>Dockerfile</code>ã€‚</li>
</ol>
<p>æ€»ç»“ï¼šÂ <code>TRAE SOLO</code>åœ¨å‡ åˆ†é’Ÿå†…å®Œæˆäº†ä»éœ€æ±‚åˆ°åŸºç¡€ä»£ç çš„è½¬æ¢ï¼Œå®ç°äº†æƒŠäººçš„å¼€å‘æ•ˆç‡æå‡ã€‚</p>
<h2 data-id="heading-3">å®æˆ˜ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_5" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_5" ref="nofollow noopener noreferrer"/></h2>
<p>å°½ç®¡<code>TRAE SOLO</code>ç”Ÿæˆçš„ä»£ç å¯ç”¨ï¼Œä½†ç›´æ¥æŠ•å…¥ç”Ÿäº§å­˜åœ¨é£é™©ã€‚æˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›å®¡æŸ¥ã€‚</p>
<h3 data-id="heading-4">æ­¥éª¤ä¸€ï¼šä»£ç å®¡æŸ¥ä¸å·¥ç¨‹åŒ–åŠ å›ºï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_38" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_38" ref="nofollow noopener noreferrer"/></h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯¹AIç”Ÿæˆçš„ä»£ç è¿›è¡Œâ€œäººå·¥å®¡æŸ¥â€å’ŒåŠ å›ºï¼Œè¿™æ˜¯è´¨é‡çš„ç¬¬ä¸€é“é˜²çº¿ã€‚</p>
<ol>
<li>å®‰å…¨åŠ å›ºÂ ï¼šæ£€æŸ¥å‘ç°ï¼ŒAPIå¯†é’¥åœ¨ä»£ç ä¸­ä¸ºç¡¬ç¼–ç ã€‚æˆ‘ä»¬å°†å…¶æ”¹ä¸ºä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œå¹¶è®¡åˆ’ä½¿ç”¨k8sçš„Secretç®¡ç†ã€‚</li>
<li>å¥å£®æ€§åŠ å›ºÂ ï¼šä¸ºAPIæ·»åŠ äº†æ›´å®Œå–„çš„å¼‚å¸¸å¤„ç†ï¼ŒåŒ…æ‹¬ç½‘ç»œè¶…æ—¶ã€æ¨¡å‹APIé™æµç­‰ã€‚</li>
<li>åˆ©ç”¨<code>DiffView</code>å±•ç¤ºä¼˜åŒ–Â ï¼šæˆ‘ä»¬ä½¿ç”¨<code>TRAE SOLO</code>çš„DiffViewåŠŸèƒ½ï¼Œå°†åŸå§‹ç”Ÿæˆçš„ä»£ç ä¸ä¼˜åŒ–åçš„ä»£ç è¿›è¡Œå¯¹æ¯”ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†æˆ‘ä»¬çš„æ”¹è¿›ç‚¹ã€‚</li>
</ol>
<h3 data-id="heading-5">æ­¥éª¤äºŒï¼šç”Ÿæˆä¸ä¼˜åŒ–è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_39" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_39" ref="nofollow noopener noreferrer"/></h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¬¡è¯·å‡º<code>SOLO coder</code>Â ï¼Œè®©å®ƒä¸ºæˆ‘ä»¬çš„APIç”Ÿæˆæµ‹è¯•ä»£ç ã€‚</p>
<p>å‘<code>SOLO coder</code>å‘å‡ºçš„æŒ‡ä»¤ï¼š</p>
<blockquote>
<h3 data-id="heading-6"/>
<p>â€œä¸ºä¸Šé¢çš„FastAPIæ™ºèƒ½é—®ç­”æ¥å£ç”ŸæˆPytestå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è„šæœ¬ã€‚æµ‹è¯•éœ€è¦æ¨¡æ‹Ÿå¯¹<code>/ask</code>ç«¯ç‚¹çš„è¯·æ±‚ï¼Œå¹¶éªŒè¯è¿”å›ç»“æ„ã€‚â€</p>
</blockquote>
<p>ç”Ÿæˆåï¼Œæˆ‘ä»¬è¿›è¡Œäº†å…³é”®ä¼˜åŒ–ï¼š</p>
<ul>
<li>ä½¿ç”¨<code>pytest-fixture</code>Â ï¼šä¼˜åŒ–äº†æµ‹è¯•èµ„æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</li>
<li>å¼•å…¥<code>responses</code>åº“Â ï¼šç²¾ç¡®æ¨¡æ‹Ÿå¯¹ä¸Šæ¸¸å¤§æ¨¡å‹APIçš„è°ƒç”¨ï¼Œå®ç°çœŸæ­£çš„å•å…ƒæµ‹è¯•ï¼Œé¿å…ç½‘ç»œä¾èµ–ã€‚</li>
<li>æ·»åŠ æ€§èƒ½åŸºçº¿æµ‹è¯•Â ï¼šåˆ©ç”¨<code>pytest-benchmark</code>ç®€å•æµ‹è¯•æ¥å£å“åº”æ—¶é—´ï¼Œä¸ºåç»­æ€§èƒ½å›å½’åšå‡†å¤‡ã€‚</li>
</ul>
<p>ä¼˜åŒ–åçš„æµ‹è¯•ç‰‡æ®µç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> app <span class="hljs-keyword">import</span> app
<span class="hljs-keyword">from</span> fastapi.testclient <span class="hljs-keyword">import</span> TestClient

<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">client</span>():
    <span class="hljs-keyword">return</span> TestClient(app)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">test_ask_endpoint</span>(<span class="hljs-params">client</span>):
    <span class="hljs-comment"># ä½¿ç”¨responsesåº“æ¨¡æ‹Ÿæ¨¡å‹APIè¿”å›</span>
    <span class="hljs-keyword">with</span> responses.RequestsMock() <span class="hljs-keyword">as</span> rsps:
        rsps.add(
            rsps.POST,
            <span class="hljs-string">"https://your-aoai-endpoint.openai.azure.com/"</span>,
            json={<span class="hljs-string">"choices"</span>: [{<span class="hljs-string">"message"</span>: {<span class="hljs-string">"content"</span>: <span class="hljs-string">"è¿™æ˜¯æ¨¡æ‹Ÿå›ç­”ã€‚"</span>}}]},
            status=<span class="hljs-number">200</span>
        )
        response = client.post(<span class="hljs-string">"/ask"</span>, json={<span class="hljs-string">"question"</span>: <span class="hljs-string">"ä½ å¥½å—ï¼Ÿ"</span>})
    <span class="hljs-keyword">assert</span> response.status_code == <span class="hljs-number">200</span>
    <span class="hljs-keyword">assert</span> <span class="hljs-string">"answer"</span> <span class="hljs-keyword">in</span> response.json()
</code></pre>
<h3 data-id="heading-7">æ­¥éª¤ä¸‰ï¼šæ³¨å…¥å¯è§‚æµ‹æ€§ï¼Œè®©AIåº”ç”¨â€œé€æ˜åŒ–â€ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23ai" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#ai" ref="nofollow noopener noreferrer"/></h3>
<p>AIåº”ç”¨çš„ç‰¹æ®Šæ€§åœ¨äºï¼Œå…¶æ ¸å¿ƒé€»è¾‘ä¾èµ–äºå¤–éƒ¨é»‘ç›’æ¨¡å‹ã€‚å› æ­¤ï¼Œå¯è§‚æµ‹æ€§è‡³å…³é‡è¦ã€‚æˆ‘ä»¬ä¸ºåº”ç”¨æ·»åŠ äº†è‡ªå®šä¹‰æŒ‡æ ‡ï¼š</p>
<ol>
<li>
<p>ä½¿ç”¨<code>prometheus-client</code>åº“Â ï¼šåœ¨APIä¸­åŸ‹ç‚¹ï¼Œè®°å½•ï¼š</p>
<ul>
<li><code>ai_api_requests_total</code>Â ï¼šè¯·æ±‚æ€»æ•°ã€‚</li>
<li><code>ai_api_request_duration_seconds</code>Â ï¼šè¯·æ±‚è€—æ—¶ã€‚</li>
<li><code>ai_model_tokens_used</code>Â ï¼šæ¶ˆè€—çš„å¤§æ¨¡å‹Tokenæ•°ï¼ˆè¿™æ˜¯AIåº”ç”¨ç‰¹æœ‰çš„é»„é‡‘æŒ‡æ ‡ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p>é…ç½®Grafanaçœ‹æ¿Â ï¼šå°†ä¸Šè¿°æŒ‡æ ‡å¯è§†åŒ–ï¼Œå®æ—¶ç›‘æ§APIçš„å¥åº·åº¦å’Œæˆæœ¬ã€‚</p>
</li>
</ol>
<h3 data-id="heading-8">æ­¥éª¤å››ï¼šæ­å»ºk8sç¯å¢ƒä¸‹çš„CI/CDè´¨é‡é—¨ç¦ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23k8s-ci-cd" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#k8s-ci-cd" ref="nofollow noopener noreferrer"/></h3>
<p>è¿™æ˜¯å°†ä¸€åˆ‡ä¸²è”èµ·æ¥çš„å…³é”®ã€‚æˆ‘ä»¬åœ¨GitLab CIä¸­è®¾è®¡äº†ä¸€å¥—è‡ªåŠ¨åŒ–æµæ°´çº¿ã€‚<br/>
<code>.gitlab-ci.yml</code>Â ç‰‡æ®µå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">stages:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">test</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">deploy-staging</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">integration-test</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">canary-deploy</span>

<span class="hljs-attr">quality_gate:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">test</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">python:3.11</span>
  <span class="hljs-attr">before_script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">pip</span> <span class="hljs-string">install</span> <span class="hljs-string">-r</span> <span class="hljs-string">requirements.txt</span>
  <span class="hljs-attr">script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">pytest</span> <span class="hljs-string">--cov=app</span> <span class="hljs-string">--cov-report=html:coverage_report</span> <span class="hljs-string">tests/</span>

<span class="hljs-attr">deploy_to_staging:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">deploy-staging</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">bitnami/kubectl</span>
  <span class="hljs-attr">script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">echo</span> <span class="hljs-string">"${KUBE_CONFIG}"</span> <span class="hljs-string">&gt;</span> <span class="hljs-string">/tmp/config</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">kubectl</span> <span class="hljs-string">apply</span> <span class="hljs-string">-f</span> <span class="hljs-string">k8s/</span> <span class="hljs-string">-n</span> <span class="hljs-string">staging</span> <span class="hljs-string">--kubeconfig</span> <span class="hljs-string">/tmp/config</span>
  <span class="hljs-attr">only:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">main</span>

<span class="hljs-attr">integration_test:</span>
  <span class="hljs-attr">stage:</span> <span class="hljs-string">integration-test</span>
  <span class="hljs-attr">image:</span> <span class="hljs-string">python:3.11</span>
  <span class="hljs-attr">script:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">pip</span> <span class="hljs-string">install</span> <span class="hljs-string">requests</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">python</span> <span class="hljs-string">tests/integration_test.py</span> <span class="hljs-comment"># å¯¹stagingç¯å¢ƒè¿›è¡Œå†’çƒŸæµ‹è¯•</span>
</code></pre>
<p>æµæ°´çº¿æµç¨‹è§£è¯»ï¼š</p>
<ol>
<li>åˆå¹¶è¯·æ±‚ï¼ˆMerge Requestï¼‰è§¦å‘Â ï¼šå¼€å‘è€…æäº¤ä»£ç åï¼Œæµæ°´çº¿è‡ªåŠ¨å¯åŠ¨ã€‚</li>
<li>è´¨é‡é—¨ç¦1ï¼šå•å…ƒæµ‹è¯•Â ï¼šåœ¨CIç¯å¢ƒä¸­è¿è¡Œæ‰€æœ‰Pytestæµ‹è¯•ï¼Œå¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Šã€‚å¦‚æœå¤±è´¥ï¼Œåˆ™é˜»æ­¢åˆå¹¶ã€‚</li>
<li>è´¨é‡é—¨ç¦2ï¼šéƒ¨ç½²è‡³Stagingç¯å¢ƒÂ ï¼šæµ‹è¯•é€šè¿‡åï¼Œè‡ªåŠ¨å°†åº”ç”¨éƒ¨ç½²åˆ°k8sçš„Stagingå‘½åç©ºé—´ã€‚</li>
<li>è´¨é‡é—¨ç¦3ï¼šé›†æˆæµ‹è¯•Â ï¼šå¯¹Stagingç¯å¢ƒçš„APIç«¯ç‚¹è¿›è¡ŒçœŸå®çš„å†’çƒŸæµ‹è¯•ï¼ŒéªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸã€‚</li>
<li>è´¨é‡é—¨ç¦4ï¼šæ¸è¿›å¼å‘å¸ƒÂ ï¼šä¸€åˆ‡å°±ç»ªåï¼Œæ‰é€šè¿‡k8sçš„Deploymentç­–ç•¥å°†æ–°ç‰ˆæœ¬é€æ­¥å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒã€‚</li>
</ol>
<h3 data-id="heading-9">æ­¥éª¤äº”ï¼šé£é™©ç®¡æ§ä¸åé¦ˆé—­ç¯ï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_42" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_42" ref="nofollow noopener noreferrer"/></h3>
<p>ä¸Šçº¿åï¼Œæˆ‘ä»¬é€šè¿‡<code>Grafana</code>çœ‹æ¿æŒç»­ç›‘æ§<code>Token</code>æ¶ˆè€—å’Œå»¶è¿Ÿã€‚å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œä¾‹å¦‚æŸä¸ªé—®é¢˜å¯¼è‡´Tokenæ¶ˆè€—æ¿€å¢ï¼Œç›‘æ§ç³»ç»Ÿä¼šè§¦å‘å‘Šè­¦ï¼Œå¹¶è‡ªåŠ¨å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬ï¼Œå½¢æˆé£é™©ç®¡æ§çš„é—­ç¯ã€‚</p>
<h2 data-id="heading-10">æœ€åï»¿<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A63342%2Fyundi-java%2Fpreview%2F%25E4%25BB%258E%25E6%25B5%258B%25E8%25AF%2595%25E5%2588%25B0%25E9%2583%25A8%25E7%25BD%25B2-%25E5%259F%25BA%25E4%25BA%258Etrae-solo%25E6%259E%2584%25E5%25BB%25BAai%25E5%25BA%2594%25E7%2594%25A8%25E7%259A%2584%25E8%25B4%25A8%25E9%2587%258F%25E9%2597%25A8%25E7%25A6%2581%25E6%25B5%2581%25E6%25B0%25B4%25E7%25BA%25BF.html%23scw38g_6" target="_blank" title="http://localhost:63342/yundi-java/preview/%E4%BB%8E%E6%B5%8B%E8%AF%95%E5%88%B0%E9%83%A8%E7%BD%B2-%E5%9F%BA%E4%BA%8Etrae-solo%E6%9E%84%E5%BB%BAai%E5%BA%94%E7%94%A8%E7%9A%84%E8%B4%A8%E9%87%8F%E9%97%A8%E7%A6%81%E6%B5%81%E6%B0%B4%E7%BA%BF.html#scw38g_6" ref="nofollow noopener noreferrer"/></h2>
<p>è¿™ä¸ªå®è·µï¼Œæœ€å¤§çš„æ”¶è·å°±æ˜¯ï¼šÂ <code>TRAE SOLO</code>Â å¤ªå¼ºå¤§äº†ï¼Œé€šè¿‡è¿™å¥—æµæ°´çº¿ï¼Œå®ƒçš„é£é™©å’ŒçŠ¶æ€æˆ‘ä»¬éƒ½çœ‹å¾—è§ã€ç®¡å¾—ä½ã€‚<br/>
æœªæ¥å…¶å®ä¹Ÿå¯ä»¥è®©Â <code>TRAE SOLO</code>Â å¸®å¿™å†™æ›´æ™ºèƒ½çš„ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œæˆ–è€…è‡ªåŠ¨åˆ†æçº¿ä¸Šæ—¥å¿—ã€‚æŠ€æœ¯æ—¥æ–°æœˆå¼‚ï¼Œä½†å’±ä»¬å·¥ç¨‹å¸ˆå¯¹è´¨é‡çš„è¿™ä»½æ‰§ç€ï¼Œæ°¸è¿œæ˜¯æœ€å¥½çš„å‹èˆ±çŸ³ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[fasttushare æŠ€æœ¯æ¶æ„è®¾è®¡]]></title>    <link>https://juejin.cn/post/7572997791452168230</link>    <guid>https://juejin.cn/post/7572997791452168230</guid>    <pubDate>2025-11-17T03:42:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572997791452168230" data-draft-id="7572961448537686043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="fasttushare æŠ€æœ¯æ¶æ„è®¾è®¡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T03:42:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç§æ•™"/> <meta itemprop="url" content="https://juejin.cn/user/3394924618197325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            fasttushare æŠ€æœ¯æ¶æ„è®¾è®¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3394924618197325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç§æ•™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:42:46.000Z" title="Mon Nov 17 2025 03:42:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¶æ„ç›®æ ‡</h2>
<ul>
<li>é«˜å‘½ä¸­ç‡ä¸ä½å»¶è¿Ÿçš„ç¼“å­˜å‘½ä¸­ï¼Œæ˜¾è‘—å‡å°‘ TuShare Pro è°ƒç”¨æ¬¡æ•°ã€‚</li>
<li>ä¸ TuShare Pro é€æ˜å…¼å®¹ï¼Œæœ€å°è¿ç§»æˆæœ¬ï¼Œå°½é‡ä¿ç•™åŸæœ‰è°ƒç”¨æ–¹å¼ä¸è¿”å›ç»“æ„ã€‚</li>
<li>å¯é…ç½®çš„æ–°é²œåº¦ä¸ä¸€è‡´æ€§ç­–ç•¥ï¼Œæ”¯æŒç¦»çº¿æ¨¡å¼ä¸åå°åˆ·æ–°ã€‚</li>
<li>å¼ºå¥çš„æ•°æ®ä¸€è‡´æ€§ä¸å´©æºƒæ¢å¤ï¼Œä¿è¯ç¼“å­˜æ•°æ®å¯é å¯è¿½æº¯ã€‚</li>
<li>å®Œæ•´å¯è§‚æµ‹æ€§ï¼šå‘½ä¸­ç‡ã€è€—æ—¶ã€èŠ‚çœè°ƒç”¨æ•°ã€ç¼“å­˜å ç”¨ã€é”™è¯¯åˆ†å¸ƒã€‚</li>
</ul>
<h2 data-id="heading-1">æ€»ä½“æ¶æ„</h2>
<ul>
<li>æ¥å£å±‚ï¼ˆClient/Proxyï¼‰ï¼šæä¾›é€æ˜ APIï¼›æ‹¦æˆªè°ƒç”¨ â†’ ç”Ÿæˆç¨³å®šé”® â†’ æŸ¥è¯¢ç¼“å­˜ â†’ è°ƒåº¦åˆ·æ–°ã€‚</li>
<li>ç­–ç•¥å±‚ï¼ˆPolicyï¼‰ï¼šç«¯ç‚¹/å‚æ•°çº§ TTLã€ä¸€è‡´æ€§ã€å®¹é‡æ§åˆ¶ä¸ç¦»çº¿å¼€å…³ã€‚</li>
<li>å­˜å‚¨å±‚ï¼ˆStoreï¼‰ï¼šç»Ÿä¸€ç¼“å­˜æ¥å£ï¼Œæ”¯æŒ SQLite ä¸æ–‡ä»¶ä¸¤ç§å®ç°ï¼Œå¯æ’æ‹”æ‰©å±• Redis/Parquetã€‚</li>
<li>è°ƒåº¦å±‚ï¼ˆSchedulerï¼‰ï¼šå¹¶å‘ä¸é€Ÿç‡é™åˆ¶ã€é‡è¯•é€€é¿ã€åå°åˆ·æ–°ã€åˆ†é¡µåˆå¹¶ã€‚</li>
<li>é”®ä¸å…ƒæ•°æ®ï¼ˆKey/Metaï¼‰ï¼šå‚æ•°è§„èŒƒåŒ–ã€å“ˆå¸Œä¸ç‰ˆæœ¬æ ‡è¯†ï¼›è®°å½• TTLã€åˆ·æ–°æ—¶é—´ã€æ ¡éªŒå’Œç­‰ã€‚</li>
<li>å¯è§‚æµ‹æ€§ï¼ˆMetrics/Loggingï¼‰ï¼šæŒ‡æ ‡é‡‡é›†ä¸æŸ¥è¯¢ï¼›æ—¥å¿—è®°å½•ä¸è„±æ•ã€‚</li>
<li>é…ç½®ä¸é›†æˆï¼ˆConfig/Adapterï¼‰ï¼šé»˜è®¤é…ç½®ã€ç¯å¢ƒå˜é‡æ³¨å…¥ï¼›ä¸ TuShare Pro é›†æˆã€‚</li>
</ul>
<h2 data-id="heading-2">æ¨¡å—åˆ’åˆ†</h2>
<ul>
<li><code>client.py</code>
<ul>
<li>å°è£… <code>Client.query(endpoint, **params)</code> é€æ˜ä»£ç†ã€‚</li>
<li>ç®¡ç†ç­–ç•¥ï¼š<code>set_policy() / offline() / cache_clear()</code>ã€‚</li>
<li>æ³¨å…¥ <code>Store</code>ã€<code>Scheduler</code>ã€<code>KeyFactory</code>ã€<code>Metrics</code>ã€‚</li>
</ul>
</li>
<li><code>key.py</code>
<ul>
<li>å‚æ•°è§„èŒƒåŒ–ï¼ˆæ’åºã€ç±»å‹å½’ä¸€ã€æ—¥æœŸè§„èŒƒã€åˆ†é¡µæ ‡æ³¨ï¼‰ã€‚</li>
<li>ç¨³å®šåºåˆ—åŒ–ä¸å“ˆå¸Œï¼ˆæ¨è <code>xxhash</code> æˆ– <code>sha256</code>ï¼‰ã€‚</li>
<li>é”®ç»“æ„ï¼š<code>&lt;endpoint&gt;:&lt;params_hash&gt;:&lt;version&gt;</code>ã€‚</li>
</ul>
</li>
<li><code>meta.py</code>
<ul>
<li>å…ƒæ•°æ®æ¨¡å‹ï¼š<code>endpoint, params_hash, ttl, created_at, last_refresh_at, size, checksum, hits</code>ã€‚</li>
<li>æ ¡éªŒç­–ç•¥ï¼šè¯»å–åæ ¡éªŒ <code>checksum</code>ï¼›å¤±è´¥è§¦å‘å¼ºåˆ¶åˆ·æ–°ã€‚</li>
</ul>
</li>
<li><code>store/</code>
<ul>
<li><code>sqlite_store.py</code>ï¼š
<ul>
<li>è¡¨ <code>cache_entries(key PRIMARY, endpoint, params_hash, created_at, ttl, last_refresh_at, size, checksum, hits)</code>ã€‚</li>
<li>è¡¨ <code>cache_blobs(key PRIMARY, blob)</code> æˆ–å¤–ç½®æ–‡ä»¶è·¯å¾„ï¼›äº‹åŠ¡åŒ–å†™å…¥ï¼Œå´©æºƒæ¢å¤ã€‚</li>
</ul>
</li>
<li><code>file_store.py</code>ï¼š
<ul>
<li>ç›®å½• <code>data/&lt;endpoint&gt;/&lt;key&gt;.parquet|json</code>ï¼Œ<code>meta/&lt;key&gt;.json</code>ã€‚</li>
<li>åŸå­å†™ï¼ˆä¸´æ—¶æ–‡ä»¶ + äº¤æ¢ï¼‰ã€æ ¡éªŒå’Œã€å‹ç¼©æ”¯æŒã€‚</li>
</ul>
</li>
<li>ç»Ÿä¸€æ¥å£ï¼š<code>get(key) -&gt; Blob|DataFrame</code>, <code>set(key, blob, meta)</code>, <code>delete(key)</code>, <code>scan(endpoint, prefix)</code>ã€‚</li>
</ul>
</li>
<li><code>scheduler.py</code>
<ul>
<li>è¯·æ±‚é˜Ÿåˆ—ä¸å¹¶å‘æ§åˆ¶ï¼ˆThreadPool/AsyncIO å¯é€‰ï¼‰ã€‚</li>
<li>é€Ÿç‡é™åˆ¶ï¼ˆä»¤ç‰Œæ¡¶/æ¼æ¡¶ï¼‰ï¼Œé˜²æ­¢è§¦å‘æœåŠ¡ç«¯é™æµã€‚</li>
<li>é‡è¯•ä¸é€€é¿ï¼ˆæŒ‡æ•°é€€é¿ã€æŠ–åŠ¨ï¼‰ï¼Œé”™è¯¯åˆ†ç±»ä¸æœ€å¤§é‡è¯•æ¬¡æ•°ã€‚</li>
<li>åå°åˆ·æ–°ä¸å‰å°é€ä¼ æ—§å€¼ï¼ˆæœ€ç»ˆä¸€è‡´ï¼‰ã€‚</li>
<li>åˆ†é¡µæ‹‰å–ä¸åˆå¹¶ï¼Œæ–­ç‚¹ç»­ä¼ ä¸å¤±è´¥é¡µé‡è¯•ã€‚</li>
</ul>
</li>
<li><code>metrics.py</code>
<ul>
<li>æŒ‡æ ‡ï¼š<code>hits, misses, saved_calls, avg_latency, bytes_used, refresh_count</code>ã€‚</li>
<li>å¯¹å¤–æŸ¥è¯¢ï¼š<code>metrics()</code>ï¼Œå¹¶æä¾›ç»“æ„åŒ–è¾“å‡ºã€‚</li>
</ul>
</li>
<li><code>config.py</code>
<ul>
<li>é»˜è®¤ç­–ç•¥ä¸é˜ˆå€¼ï¼Œç¯å¢ƒå˜é‡ï¼ˆå¦‚ <code>FASTTUSHARE_HOME</code>ï¼‰ã€‚</li>
<li>ç«¯ç‚¹çº§é…ç½®è¦†ç›–ä¸æ ¡éªŒã€‚</li>
</ul>
</li>
<li><code>adapter/tushare.py</code>
<ul>
<li>ä¸ <code>ts.pro_api()</code> å¯¹æ¥ï¼Œç»Ÿä¸€åˆ†é¡µä¸å‚æ•°æ˜ å°„ï¼›è¿”å› <code>DataFrame</code>ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-3">è¿è¡Œæ—¶æ•°æ®æµ</h2>
<ul>
<li>å‰å°è¯·æ±‚ï¼š<code>Client.query</code> â†’ <code>KeyFactory</code> ç”Ÿæˆé”® â†’ <code>Store.get</code>ã€‚</li>
<li>å‘½ä¸­ï¼šç›´æ¥è¿”å›ï¼›æ›´æ–° <code>hits</code> ä¸æœ€è¿‘è®¿é—®æ—¶é—´ï¼›é‡‡é›†è€—æ—¶æŒ‡æ ‡ã€‚</li>
<li>æœªå‘½ä¸­/è¿‡æœŸï¼šè¿›å…¥ <code>Scheduler</code> é˜Ÿåˆ— â†’ å—é™å¹¶å‘ä¸é€Ÿç‡ â†’ è°ƒç”¨ TuShare â†’ å†™å…¥ <code>Store</code> ä¸ <code>Meta</code> â†’ è¿”å›ã€‚</li>
<li>åå°åˆ·æ–°ï¼šTTL åˆ°æœŸåå¼‚æ­¥åˆ·æ–°ï¼›å‰å°ç»§ç»­è¿”å›æ—§å€¼ç›´åˆ°åˆ·æ–°å®Œæˆæˆ–è¿‡æ¸¡åˆ°ä¸¥æ ¼æ¨¡å¼ã€‚</li>
</ul>
<h2 data-id="heading-4">é”®ä¸å‚æ•°è§„èŒƒåŒ–</h2>
<ul>
<li>è§„èŒƒåŒ–è§„åˆ™ï¼š
<ul>
<li>å­—å…¸é”®æ’åºã€åˆ—è¡¨å»é‡ä¸æ’åºã€æ•°å€¼ç±»å‹ç»Ÿä¸€ï¼ˆ<code>int/float</code>ï¼‰ï¼Œå­—ç¬¦ä¸²å»ç©ºæ ¼ã€‚</li>
<li>æ—¥æœŸæ ¼å¼ç»Ÿä¸€ä¸º <code>YYYYMMDD</code>ï¼›<code>None/ç¼ºçœ</code> æ˜ å°„ä¸ºå›ºå®šå ä½ç¬¦ã€‚</li>
<li>åˆ†é¡µå‚æ•°ç»Ÿä¸€æ ‡æ³¨åˆ°é”®ï¼ˆå¦‚ <code>limit/offset</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>å“ˆå¸Œç”Ÿæˆï¼š
<ul>
<li>é‡‡ç”¨ç¨³å®šåºåˆ—åŒ–ï¼ˆä¾‹å¦‚ JSON with sorted keysï¼Œç¦æ­¢ä¸ç¡®å®šæµ®ç‚¹æ ¼å¼ï¼‰ã€‚</li>
<li>å“ˆå¸Œç®—æ³•ï¼š<code>sha256(params_serialized)</code>ï¼›å¯é€‰ <code>xxhash</code> æå‡æ€§èƒ½ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">ç¼“å­˜ç­–ç•¥ä¸ä¸€è‡´æ€§</h2>
<ul>
<li>ä¸€è‡´æ€§çº§åˆ«ï¼š
<ul>
<li><code>strict</code>ï¼šæ¯æ¬¡å¼ºåˆ¶åˆ·æ–°ï¼›é€‚ç”¨äºé«˜æ—¶æ•ˆç«¯ç‚¹ã€‚</li>
<li><code>eventual</code>ï¼šTTL å†…ç¼“å­˜ï¼Œè¿‡æœŸåå°åˆ·æ–°ã€‚</li>
<li><code>offline_only</code>ï¼šä»…è¯»ç¼“å­˜ï¼Œå®Œå…¨ä¸è§¦ç½‘ã€‚</li>
</ul>
</li>
<li>TTL ç­–ç•¥ï¼š
<ul>
<li>ç«¯ç‚¹çº§é»˜è®¤ TTLï¼›å‚æ•°çº§è¦†ç›–ï¼ˆå¦‚æ—¥æœŸè·¨åº¦ã€å®æ—¶è¡Œæƒ…ï¼‰ã€‚</li>
</ul>
</li>
<li>LRU å®¹é‡ï¼š
<ul>
<li>æŒ‰æ€»å¤§å°/æ¡ç›®æ•°é™åˆ¶ï¼›æ·˜æ±°ç­–ç•¥ï¼šæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼›å‘½ä¸­æ›´æ–° <code>hits/last_access</code>ã€‚</li>
</ul>
</li>
<li>é¢„çƒ­ï¼š
<ul>
<li>æ”¯æŒå¯¹å·¥ä½œé›†ç«¯ç‚¹/å‚æ•°æ‰¹é‡é¢„å–ï¼Œå‡å°‘é¦–è½®å†·å¯åŠ¨ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-6">å¹¶å‘ä¸é€Ÿç‡é™åˆ¶</h2>
<ul>
<li>å¹¶å‘æ¨¡å‹ï¼š
<ul>
<li>é»˜è®¤ <code>ThreadPoolExecutor</code>ï¼›I/O å—é™åœºæ™¯ä¼˜å…ˆçº¿ç¨‹æ¨¡å‹ï¼Œåç»­å¯æ”¯æŒ <code>asyncio</code>ã€‚</li>
</ul>
</li>
<li>é€Ÿç‡é™åˆ¶ï¼š
<ul>
<li>ä»¤ç‰Œæ¡¶ï¼š<code>capacity, refill_rate</code>ï¼›æ¯æ¬¡ç½‘ç»œè°ƒç”¨æ¶ˆè€—ä»¤ç‰Œã€‚</li>
</ul>
</li>
<li>é‡è¯•ä¸é€€é¿ï¼š
<ul>
<li>ç½‘ç»œç±»é”™è¯¯é‡è¯•ï¼ŒæŒ‡æ•°é€€é¿ä¸éšæœºæŠ–åŠ¨ï¼›ä¸šåŠ¡ç±»é”™è¯¯ï¼ˆå‚æ•°é”™è¯¯ï¼‰ç›´æ¥å¤±è´¥ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-7">å­˜å‚¨å®ç°ç»†èŠ‚</h2>
<ul>
<li>SQLiteï¼š
<ul>
<li>äº‹åŠ¡åŒ–å†™å…¥ï¼›WAL æ¨¡å¼æå‡å¹¶å‘è¯»å–ï¼›è¡¨çº§ç´¢å¼•ï¼ˆ<code>endpoint, params_hash</code>ï¼‰ã€‚</li>
<li>å¤§å¯¹è±¡ç­–ç•¥ï¼š<code>cache_blobs</code> å­˜å‚¨äºŒè¿›åˆ¶æˆ–å¤–ç½®æ–‡ä»¶è·¯å¾„ï¼›åˆ†å—ä¸å‹ç¼©å¯é€‰ã€‚</li>
</ul>
</li>
<li>æ–‡ä»¶ï¼š
<ul>
<li>åŸå­å†™ï¼š<code>tmp</code> æ–‡ä»¶è½ç›˜å <code>rename</code>ï¼›å¤±è´¥æ¸…ç†ä¸´æ—¶æ–‡ä»¶ã€‚</li>
<li>æ ¼å¼ï¼šä¼˜å…ˆ <code>parquet</code>ï¼ˆåˆ—å¼å‹ç¼©ä¸ç±»å‹ä¿æŒï¼‰ï¼Œå…¼å®¹ <code>json/csv</code>ã€‚</li>
<li>å…ƒæ•°æ®ç‹¬ç«‹å­˜å‚¨ï¼›è¯»å–æ—¶å…ˆæ ¡éªŒ <code>checksum</code> ä¸ <code>ttl/refresh</code>ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-8">å¯è§‚æµ‹æ€§ä¸æ—¥å¿—</h2>
<ul>
<li>æŒ‡æ ‡ï¼š
<ul>
<li><code>hits/misses/saved_calls/avg_latency/bytes_used/refresh_count/errors</code>ã€‚</li>
</ul>
</li>
<li>æ—¥å¿—ï¼š
<ul>
<li>å…³é”®è·¯å¾„ä¸ç­–ç•¥å†³ç­–ï¼›å‚æ•°ä¸ Token è„±æ•ï¼›å¯é…ç½®æ—¥å¿—çº§åˆ«ã€‚</li>
</ul>
</li>
<li>è¾“å‡ºæ¥å£ï¼š
<ul>
<li><code>client.metrics()</code> è¿”å›ç»“æ„åŒ–æ•°æ®ï¼›åç»­å¯é›†æˆ Prometheus/OTLPï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-9">å®‰å…¨ä¸åˆè§„</h2>
<ul>
<li>Token ç®¡ç†ï¼šä»…ä¿å­˜åœ¨è¿›ç¨‹å†…å­˜æˆ–ç”¨æˆ·å®‰å…¨å­˜å‚¨ï¼›ä¸å†™å…¥æ—¥å¿—/ç¼“å­˜å†…å®¹ã€‚</li>
<li>åˆè§„è¾¹ç•Œï¼šç¼“å­˜ç”¨äºå‡å°‘é‡å¤è°ƒç”¨ï¼Œä¸æä¾›äºŒæ¬¡åˆ†å‘ï¼›æ–‡æ¡£æ˜ç¡®ç”¨é€”ä¸é™åˆ¶ã€‚</li>
</ul>
<h2 data-id="heading-10">API è®¾è®¡ï¼ˆè‰æ¡ˆï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> fasttushare <span class="hljs-keyword">as</span> fts

client = fts.Client(token=<span class="hljs-string">"..."</span>)

df = client.query(<span class="hljs-string">"daily"</span>, ts_code=<span class="hljs-string">"000001.SZ"</span>, start_date=<span class="hljs-string">"20240101"</span>, end_date=<span class="hljs-string">"20240131"</span>)

client.set_policy(endpoint=<span class="hljs-string">"daily"</span>, ttl=<span class="hljs-string">"1d"</span>, consistency=<span class="hljs-string">"eventual"</span>)
client.cache_clear(<span class="hljs-string">"daily"</span>)
client.offline(<span class="hljs-literal">True</span>)
client.metrics()
</code></pre>
<h2 data-id="heading-11">é…ç½®ä¸éƒ¨ç½²</h2>
<ul>
<li>å®‰è£…ï¼š<code>pip install fasttushare</code>ã€‚</li>
<li>ç¯å¢ƒå˜é‡ï¼š<code>FASTTUSHARE_HOME</code>ï¼ˆç¼“å­˜ç›®å½•ï¼‰ã€<code>FASTTUSHARE_BACKEND</code>ï¼ˆ<code>sqlite|file|redis</code>ï¼‰ã€‚</li>
<li>é»˜è®¤é…ç½®ï¼šSQLite åç«¯ä¸æœ¬åœ°ç›®å½•ï¼›ç«¯ç‚¹çº§ TTL æä¾›åˆç†åˆå€¼ï¼Œç”¨æˆ·å¯è¦†ç›–ã€‚</li>
</ul>
<h2 data-id="heading-12">ä¾èµ–ä¸å…¼å®¹æ€§</h2>
<ul>
<li>Python 3.9+ï¼›Windows/macOS/Linuxã€‚</li>
<li>ä¾èµ–ï¼š<code>tushare</code>ã€<code>pandas</code>ã€<code>sqlite3</code>ï¼ˆæ ‡å‡†åº“ï¼‰ï¼›å¯é€‰ <code>pyarrow</code>ã€<code>xxhash</code>ã€<code>redis</code>ã€‚</li>
</ul>
<h2 data-id="heading-13">æµ‹è¯•ä¸è´¨é‡ä¿è¯</h2>
<ul>
<li>å•å…ƒæµ‹è¯•ï¼šé”®è§„èŒƒåŒ–ã€TTL/LRUã€å­˜å‚¨æ¥å£ã€ä¸€è‡´æ€§ç­–ç•¥ã€é€Ÿç‡é™åˆ¶ä¸é‡è¯•ã€‚</li>
<li>é›†æˆæµ‹è¯•ï¼šçœŸå® TuShare å¯¹æ¥ï¼ˆä½¿ç”¨éš”ç¦» Tokenï¼‰ï¼›åˆ†é¡µä¸åå°åˆ·æ–°è·¯å¾„ã€‚</li>
<li>æ€§èƒ½æµ‹è¯•ï¼šå‘½ä¸­ä¸æœªå‘½ä¸­å»¶è¿Ÿã€å¹¶å‘ååã€å®¹é‡å‹åŠ›ä¸æ·˜æ±°å‡†ç¡®æ€§ã€‚</li>
<li>å´©æºƒæ¢å¤æµ‹è¯•ï¼šåŸå­å†™ã€äº‹åŠ¡å›æ»šã€æ–‡ä»¶é”å¹¶å‘å†²çªã€‚</li>
</ul>
<h2 data-id="heading-14">æ€§èƒ½ä¸å®¹é‡ç›®æ ‡</h2>
<ul>
<li>å‘½ä¸­ç‡ â‰¥ 80%ï¼ˆç¨³å®šå·¥ä½œé›†ï¼‰ã€‚</li>
<li>å‘½ä¸­å»¶è¿Ÿ â‰¤ 30msï¼ˆæœ¬åœ°è¯»å–ï¼‰ã€‚</li>
<li>å¹¶å‘ 16 çº¿ç¨‹ä¸‹ååé€€åŒ– &lt; 10%ã€‚</li>
<li>å¯æ‰¿è½½ç™¾ä¸‡çº§é”®ç©ºé—´ï¼ˆSQLite ç´¢å¼•ä¸æ–‡ä»¶åˆ†å±‚ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-15">æ‰©å±•æ€§è®¾è®¡</h2>
<ul>
<li>Store æ¥å£å¯æ’æ‹”ï¼šæ–°å¢ <code>RedisStore/ParquetStore</code> æ— éœ€æ”¹åŠ¨ä¸Šå±‚é€»è¾‘ã€‚</li>
<li>ç­–ç•¥å¯æ‰©å±•ï¼šç«¯ç‚¹è‡ªå®šä¹‰ TTL/ä¸€è‡´æ€§ï¼›åŠ¨æ€è°ƒæ•´ã€‚</li>
<li>è§‚æµ‹å¯æ‰©å±•ï¼šå¯¼å‡ºåˆ°å¤–éƒ¨ç›‘æ§ç³»ç»Ÿã€‚</li>
</ul>
<h2 data-id="heading-16">è¿ç§»ä¸å…¼å®¹</h2>
<ul>
<li>é€æ˜ä»£ç†ï¼šä¸ TuShare Pro çš„ <code>query</code> è°ƒç”¨ä¿æŒå‚æ•°ä¸è¿”å›ç»“æ„ä¸€è‡´ã€‚</li>
<li>é€æ­¥æ›¿æ¢ï¼šåœ¨ç°æœ‰ä»£ç ä¸­ä»…éœ€æ›¿æ¢å…¥å£åˆ›å»ºä¸è°ƒç”¨è·¯å¾„ã€‚</li>
</ul>
<h2 data-id="heading-17">é‡Œç¨‹ç¢‘ä¸äº¤ä»˜</h2>
<ul>
<li>v0.1ï¼šClient é€æ˜ä»£ç†ã€SQLite/æ–‡ä»¶åç«¯ã€TTLã€åŸºç¡€æŒ‡æ ‡ã€‚</li>
<li>v0.2ï¼šLRU å®¹é‡ã€åå°åˆ·æ–°ã€é¢„çƒ­ã€ç¦»çº¿æ¨¡å¼ã€åˆ†é¡µåˆå¹¶ã€‚</li>
<li>v0.3ï¼šå¯æ’æ‹”åç«¯ã€CLI ç®¡ç†å·¥å…·ã€Prometheus é›†æˆï¼ˆå¯é€‰ï¼‰ã€‚</li>
</ul>
<p>â€”â€”
è¯¥æ¶æ„åœ¨ä¿è¯é€æ˜å…¼å®¹ä¸åˆè§„å‰æä¸‹ï¼Œé€šè¿‡ç¨³å®šé”®ç©ºé—´ã€å¯é å­˜å‚¨ä¸å—æ§å¹¶å‘å®ç°é«˜æ€§èƒ½ç¼“å­˜å±‚ï¼Œæ»¡è¶³é‡åŒ–ç ”ç©¶ä¸æ•°æ®å·¥ç¨‹çš„æ ¸å¿ƒè¯‰æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Workflows vs Agentsï¼šå¦‚ä½•é€‰æ‹©ä½ çš„ LLM åº”ç”¨æ¶æ„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7572880767585910835</link>    <guid>https://juejin.cn/post/7572880767585910835</guid>    <pubDate>2025-11-17T03:36:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572880767585910835" data-draft-id="7572362484659339315" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Workflows vs Agentsï¼šå¦‚ä½•é€‰æ‹©ä½ çš„ LLM åº”ç”¨æ¶æ„ï¼Ÿ"/> <meta itemprop="keywords" content="LangChain"/> <meta itemprop="datePublished" content="2025-11-17T03:36:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ALLINAI"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056639549"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Workflows vs Agentsï¼šå¦‚ä½•é€‰æ‹©ä½ çš„ LLM åº”ç”¨æ¶æ„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056639549/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ALLINAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:36:59.000Z" title="Mon Nov 17 2025 03:36:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡æ˜¯åŸºäº LangGraph å®˜æ–¹æ–‡æ¡£çš„æ·±åº¦è§£é‡Š</p>
</blockquote>
<p>éšç€å¤§æ¨¡å‹èƒ½åŠ›å¿«é€Ÿå¢å¼ºï¼Œå¼€å‘è€…åœ¨æ„å»º LLM åº”ç”¨æ—¶é¢ä¸´ä¸€ä¸ªæ ¸å¿ƒé€‰æ‹©ï¼š</p>
<p><strong>åˆ°åº•è¦ä½¿ç”¨ Workflowsï¼ˆå·¥ä½œæµï¼‰è¿˜æ˜¯ Agentsï¼ˆæ™ºèƒ½ä½“ï¼‰ï¼Ÿ</strong></p>
<p>è¿™ä¸¤ç§æ¶æ„ç»å¸¸è¢«æ··ç”¨ï¼Œä½†åœ¨ LangChain / LangGraph çš„æ¡†æ¶ä¸­ï¼Œå®ƒä»¬æœ‰éå¸¸æ¸…æ™°çš„è¾¹ç•Œã€åº”ç”¨åœºæ™¯å’Œè®¾è®¡å“²å­¦ã€‚ç†è§£å®ƒä»¬çš„åŒºåˆ«ï¼Œæœ‰åŠ©äºä½ é€‰æ‹©æ›´ç¨³å®šã€æ›´æ™ºèƒ½ã€ä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤çš„ç³»ç»Ÿè®¾è®¡ã€‚</p>
<p><strong>æœ¬æ–‡ä¸»é¢˜</strong>ï¼š</p>
<ul>
<li>LLM åŠŸèƒ½å¦‚ä½•è¢«å¢å¼º</li>
<li>å„ç±» Workflows çš„æ¨¡å¼</li>
<li>ä»€ä¹ˆæ˜¯ Agents</li>
<li>Workflows ä¸ Agents çš„æ ¸å¿ƒåŒºåˆ«</li>
<li>çœŸå®é¡¹ç›®ä¸­å¦‚ä½•é€‰æ‹©</li>
</ul>
<hr/>
<h2 data-id="heading-0">1. LLM ä¸å¢å¼ºæœºåˆ¶ï¼šæ‰€æœ‰ç³»ç»Ÿçš„åŸºçŸ³</h2>
<p>ä¸è®ºæ˜¯ Workflows è¿˜æ˜¯ Agentsï¼Œæœ¬è´¨ä¸Šéƒ½å»ºç«‹åœ¨ <strong>LLM çš„æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸Š</strong>ã€‚
LangChain æ–‡æ¡£å¼ºè°ƒï¼š</p>
<blockquote>
<p>Workflows and agentic systems are based on LLMs and the various augmentations you add to them.</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒLLM æ˜¯æ ¸å¿ƒï¼Œå¼€å‘è€…é€šè¿‡â€œå¢å¼ºï¼ˆaugmentationsï¼‰â€è®©å®ƒæ›´å¯é ã€æ›´æ˜“æ§ã€‚</p>
<p>å®˜æ–¹åˆ—å‡ºäº†ä¸‰ç±»å…³é”®å¢å¼ºèƒ½åŠ›ï¼š</p>
<h3 data-id="heading-1"><strong>â‘  ç»“æ„åŒ–è¾“å‡ºï¼ˆStructured outputsï¼‰</strong></h3>
<p>å¼ºåˆ¶ LLM è¾“å‡º JSON / Pydantic æ¨¡å¼ï¼Œä»è€Œä¿è¯å¯æ§æ€§ä¸ä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-2"><strong>â‘¡ å·¥å…·è°ƒç”¨ï¼ˆTool callingï¼‰</strong></h3>
<p>LLM ä¸å†åªç”Ÿæˆæ–‡æœ¬ï¼Œè€Œèƒ½è°ƒç”¨å¤–éƒ¨å‡½æ•°ã€APIã€æ•°æ®åº“è®¿é—®ã€æœç´¢å·¥å…·ç­‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    ...

model = model.bind_tools([search])
</code></pre>
<h3 data-id="heading-3"><strong>â‘¢ çŸ­æœŸè®°å¿†ï¼ˆShort-term memoryï¼‰</strong></h3>
<p>è®© LLM åœ¨ä¸€ä¸ªå·¥ä½œæµï¼æ™ºèƒ½ä½“å¾ªç¯ä¸­æ‹¥æœ‰â€œçŠ¶æ€â€ï¼Œèƒ½å¤Ÿè®°ä½ä¸Šä¸€æ­¥è¡ŒåŠ¨çš„ç»“æœã€‚</p>
<p>è¿™äº›èƒ½åŠ›ä¸º Workflows ä¸ Agents æ‰“ä¸‹å…±åŒçš„åŸºç¡€ã€‚</p>
<hr/>
<h2 data-id="heading-4">2. Workflowsï¼šå¯æ§ã€ç¨³å®šã€å¯é¢„æµ‹çš„ç³»ç»Ÿæ¶æ„</h2>
<p>Workflows æ˜¯ <strong>é¢„å®šä¹‰è·¯å¾„çš„ LLM ç¼–æ’æ–¹å¼</strong>ï¼Œå®ƒå¼ºè°ƒï¼š</p>
<ul>
<li>æµç¨‹ç”±ä»£ç æ§åˆ¶</li>
<li>æ¯ä¸€æ­¥çš„æ‰§è¡Œé¡ºåºå›ºå®š</li>
<li>é€‚ç”¨äºç¡®å®šæ€§ä»»åŠ¡</li>
</ul>
<p>LangGraph å®˜æ–¹æ–‡æ¡£å°† Workflows åˆ†æˆå‡ ç±»å…¸å‹æ¨¡å¼ï¼š</p>
<hr/>
<h3 data-id="heading-5"><strong>2.1 Prompt Chainingï¼ˆæç¤ºé“¾ï¼‰</strong></h3>
<p>æœ€ç»å…¸çš„å·¥ä½œæµï¼Œæ¯æ¬¡ LLM è°ƒç”¨å¤„ç†ä¸Šä¸€æ­¥è¾“å‡ºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1016568713f24b909a9a55275b0eba40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=hWsyneKcxtQsRY%2BennZlR259fS8%3D" alt="2025-11-17 11 03 22.png" loading="lazy"/></p>
<p>å¸¸ç”¨äºï¼š</p>
<ul>
<li>ç¿»è¯‘ + æ ¡å¯¹</li>
<li>å†…å®¹ç”Ÿæˆ + å®¡æ ¸</li>
<li>å¤šæ­¥åŠ å·¥è¿‡ç¨‹</li>
</ul>
<p>ç‰¹ç‚¹ï¼š
<strong>é¡ºåºå›ºå®šã€éå¸¸å¯æ§ã€‚</strong></p>
<hr/>
<h3 data-id="heading-6"><strong>2.2 Parallelizationï¼ˆå¹¶è¡ŒåŒ–ï¼‰</strong></h3>
<p>å¤šä¸ª LLM è°ƒç”¨åŒæ—¶è¿›è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdf5e07535eb48b89c6a7b5a65fd3eb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=qAX1cmIgS7cCflxrLhtzTPeHL4E%3D" alt="2025-11-17 11 06 35.png" loading="lazy"/></p>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>å¤§æ–‡ä»¶åˆ†æ®µå¤„ç†</li>
<li>å¤šç»´åº¦è¯„ä¼°</li>
<li>å¤šè·¯å¾„æ¢ç´¢ï¼ˆå¦‚å¤šç§é£æ ¼è¾“å‡ºï¼‰</li>
</ul>
<p>ä¼˜ç‚¹ï¼š
<strong>å¤§å¹…æå‡ååé‡å’Œé€Ÿåº¦ã€‚</strong></p>
<hr/>
<h3 data-id="heading-7"><strong>2.3 Routingï¼ˆè·¯ç”±ï¼‰</strong></h3>
<p>LLM ç”¨ä¸€æ¬¡è°ƒç”¨å†³å®šâ€œæŠŠè¾“å…¥é€å¾€å“ªä¸ªåˆ†æ”¯â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e71d723240a14bd4b21a1426a0443d75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=wHLkaINVTDnHKXJgca0lKuVLzOg%3D" alt="2025-11-17 11 08 06.png" loading="lazy"/></p>
<p>å¦‚ï¼š</p>
<ul>
<li>å¤šè¯­è¨€å®¢æœ</li>
<li>æ„å›¾è¯†åˆ«</li>
<li>åˆ†ç±»å¤„ç†</li>
</ul>
<p>æœ¬è´¨æ˜¯ï¼š
<strong>LLM åšè·¯ç”±å†³ç­–ï¼Œä½†æµç¨‹ç»“æ„ä»ç”±å¼€å‘è€…å®šä¹‰ã€‚</strong></p>
<hr/>
<h3 data-id="heading-8"><strong>2.4 Orchestratorâ€“Workerï¼ˆåè°ƒè€…â€“å·¥äººæ¨¡å‹ï¼‰</strong></h3>
<p>ä¸€ä¸ª orchestratorï¼ˆåè°ƒè€…ï¼‰æ‹†è§£ä»»åŠ¡ï¼Œå¤šä¸ª worker å¹¶è¡Œå¤„ç†ï¼Œæœ€å synthesizeï¼ˆåˆæˆï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b72e0ef30f514cebb7f64cb0f5fdbae3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=U%2F47fTNj1VvrWjsGy239%2FaA63pU%3D" alt="2025-11-17 11 10 37.png" loading="lazy"/></p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>ç”Ÿæˆé•¿ç¯‡æ–‡ç« </li>
<li>æ‹†è§£å¤§ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œ</li>
<li>ä»£ç å¤šæ–‡ä»¶é‡æ„</li>
</ul>
<p>è¿™ç§æ¨¡å¼éå¸¸é€‚åˆï¼š<strong>éœ€è¦è§„æ¨¡åŒ–ã€ç»“æ„åŒ–çš„å¤§å‹ç”Ÿæˆä»»åŠ¡ã€‚</strong></p>
<hr/>
<h3 data-id="heading-9"><strong>2.5 Evaluatorâ€“Optimizerï¼ˆè¯„ä¼°è€…â€“ä¼˜åŒ–å™¨ï¼‰</strong></h3>
<p>ç”Ÿæˆ â†’ è¯„ä¼° â†’ ä¼˜åŒ– â†’ å¾ªç¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d32bc697cd9843d8aec00282e6128058~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=1uKETake16XMVQKwerQna3uogXQ%3D" alt="2025-11-17 11 14 43.png" loading="lazy"/></p>
<p>ç”¨äºï¼š</p>
<ul>
<li>æå‡æ–‡æœ¬è´¨é‡</li>
<li>è‡ªåŠ¨æ ¡å¯¹</li>
<li>åæ€ä¸æ”¹è¿›ï¼ˆself-reflectionï¼‰</li>
<li>å¤šæ¬¡è¿­ä»£ç›´åˆ°æ»¡è¶³æ ‡å‡†</li>
</ul>
<p>ç‰¹ç‚¹ï¼š
<strong>å¼•å…¥åé¦ˆç¯ï¼Œä½†æµç¨‹ä¾ç„¶å›ºå®šï¼Œå¾ªç¯èŒƒå›´å—æ§ã€‚</strong></p>
<hr/>
<h3 data-id="heading-10"><strong>2.6 Workflows çš„æœ¬è´¨æ€»ç»“</strong></h3>
<p>å®˜æ–¹å®šä¹‰çš„å…³é”®æ€»ç»“å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Workflows have predetermined code paths and are designed to operate in a certain order.</p>
</blockquote>
<p>é€šä¿—è®²ï¼š</p>
<p>ğŸŒŸ <strong>Workflows æ˜¯â€œä½ å†™è§„åˆ™ï¼ŒLLM æ‰§è¡Œè§„åˆ™â€ã€‚</strong>
æµç¨‹å®Œå…¨å¯æ§ï¼Œå‡ ä¹ä¸ä¼šâ€œä¹±è·‘â€ã€‚</p>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>é«˜ç¨³å®šè¦æ±‚</li>
<li>å¯¹ç»“æœè´¨é‡å¯æ§æ€§å¼º</li>
<li>æ•°æ®å¤„ç†ç±»ä»»åŠ¡</li>
<li>ç”Ÿäº§ç¯å¢ƒ</li>
</ul>
<hr/>
<h2 data-id="heading-11">3. Agentsï¼šå…·æœ‰è‡ªä¸»æ€§çš„æ™ºèƒ½ä½“ç³»ç»Ÿ</h2>
<p>ä¸ Workflows ç›¸åï¼ŒAgents æ‰®æ¼”ä¸€ä¸ªâ€œå¯ä»¥è‡ªå·±å†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆâ€çš„è§’è‰²ã€‚</p>
<p>LangChain æ–‡æ¡£ç»™å‡ºäº†æ¸…æ™°å®šä¹‰ï¼š</p>
<blockquote>
<p>Agents are implemented as an LLM performing actions using tools.
They operate in continuous feedback loops and have more autonomy.</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fd58bd368f3486a94865cbee1dd9dbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUxMSU5BSQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955418&amp;x-signature=z9dGNmbjusSeJV0F%2B8QiKtYHotU%3D" alt="2025-11-17 11 19 36.png" loading="lazy"/></p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<p>ğŸŒŸ <strong>Agents æ˜¯è®© LLM è‡ªä¸»è¡ŒåŠ¨çš„ç³»ç»Ÿï¼šå®ƒå†³å®šè¦åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä½ å†™æ­»æµç¨‹ã€‚</strong></p>
<p>Agent çš„æ ¸å¿ƒæœºåˆ¶åŒ…å«ï¼š</p>
<h3 data-id="heading-12"><strong>â‘  LLM å†³ç­–è¡ŒåŠ¨ï¼ˆAction Selectionï¼‰</strong></h3>
<p>LLM è§‚å¯Ÿå½“å‰å¯¹è¯çŠ¶æ€ï¼Œå†³å®šä¸‹ä¸€æ­¥è°ƒç”¨å“ªä¸ªå·¥å…·ã€‚</p>
<h3 data-id="heading-13"><strong>â‘¡ è°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆTool Callingï¼‰</strong></h3>
<p>å¦‚æœç´¢ã€æ•°æ®åº“ã€è®¡ç®—å™¨ã€æ–‡ä»¶è¯»å–ç­‰ã€‚</p>
<h3 data-id="heading-14"><strong>â‘¢ æ ¹æ®ç¯å¢ƒåé¦ˆåšä¸‹ä¸€æ­¥åŠ¨ä½œï¼ˆFeedback Loopï¼‰</strong></h3>
<p>ç¯å¢ƒå¯èƒ½è¿”å›ï¼š</p>
<ul>
<li>å·¥å…·æ‰§è¡Œç»“æœ</li>
<li>ç”¨æˆ·åé¦ˆ</li>
<li>ç³»ç»ŸçŠ¶æ€</li>
</ul>
<p>LLM å†æ ¹æ®åé¦ˆç”Ÿæˆä¸‹ä¸€æ­¥è®¡åˆ’ã€‚</p>
<h3 data-id="heading-15"><strong>â‘£ è‡ªåŠ¨å¾ªç¯ç›´åˆ°ä»»åŠ¡å®Œæˆ</strong></h3>
<p>Agent çš„æµç¨‹æ˜¯ <strong>åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸å†™æ­»åœ¨ä»£ç é‡Œ</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-16">4. Workflows vs Agentsï¼šæ ¸å¿ƒåŒºåˆ«</h2>













































<table><thead><tr><th>é¡¹ç›®</th><th>Workflowsï¼ˆå·¥ä½œæµï¼‰</th><th>Agentsï¼ˆä»£ç†ï¼‰</th></tr></thead><tbody><tr><td><strong>è°æ§åˆ¶æµç¨‹ï¼Ÿ</strong></td><td>å¼€å‘è€…</td><td>LLM</td></tr><tr><td><strong>æµç¨‹æ˜¯å¦å›ºå®šï¼Ÿ</strong></td><td>å›ºå®šé¡ºåº</td><td>åŠ¨æ€å†³å®š</td></tr><tr><td><strong>é€‚ç”¨ä»»åŠ¡</strong></td><td>ç»“æ„åŒ–ã€å¯æ§ä»»åŠ¡</td><td>æ¢ç´¢æ€§ã€å¤æ‚ä»»åŠ¡</td></tr><tr><td><strong>å¯é¢„æµ‹æ€§</strong></td><td>é«˜</td><td>è¾ƒä½</td></tr><tr><td><strong>æ™ºèƒ½çµæ´»æ€§</strong></td><td>é™åˆ¶è¾ƒå¤š</td><td>é«˜</td></tr><tr><td><strong>å®‰å…¨æ€§ç¨³å®šæ€§</strong></td><td>é«˜</td><td>éœ€æ›´å¤šçº¦æŸ</td></tr><tr><td><strong>å…¸å‹ç”¨æ³•</strong></td><td>æ•°æ®å¤„ç†ã€æ–‡æ¡£ç”Ÿæˆã€é“¾å¼æ¨ç†</td><td>å·¥å…·è°ƒåº¦ã€æœç´¢ã€è§„åˆ’ã€å¤šæ­¥éª¤å†³ç­–</td></tr></tbody></table>
<p>ä¸€å¥è¯ï¼š</p>
<p>âœ¨ <strong>Workflows æ³¨é‡â€œå¯é å®Œæˆä»»åŠ¡â€
âœ¨ Agents æ³¨é‡â€œè‡ªä¸»æ¢ç´¢å¹¶æ‰¾åˆ°è§£å†³æ–¹å¼â€</strong></p>
<hr/>
<h2 data-id="heading-17">5. å¦‚ä½•é€‰æ‹©ï¼šçœŸå®é¡¹ç›®ä¸­çš„å®è·µå»ºè®®</h2>
<p>æ ¹æ® LangChain æ–‡æ¡£ï¼Œå»ºè®®å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-18"><strong>å¦‚æœä½ çš„ä»»åŠ¡æ˜¯â€¦â€¦</strong></h3>
<p>âœ” å¯é¢„æµ‹ã€æœ‰æ˜ç¡®æ­¥éª¤
âœ” å¯¹ç¨³å®šæ€§å’Œæ€§èƒ½è¦æ±‚é«˜
âœ” ç”Ÿäº§ç¯å¢ƒåœ¨çº¿æœåŠ¡</p>
<p>ğŸ‘‰ <strong>ä¼˜å…ˆä½¿ç”¨ Workflows</strong></p>
<hr/>
<p>å¦‚æœä½ çš„ä»»åŠ¡æ˜¯â€¦â€¦</p>
<p>âœ” ä¸ç¡®å®šæ€§é«˜
âœ” éœ€è¦å·¥å…·è°ƒåº¦
âœ” éœ€è¦å¤šæ­¥éª¤æ¢ç´¢
âœ” ç»“æœæ–¹å¼ä¸å›ºå®š</p>
<p>ğŸ‘‰ <strong>é€‚åˆä½¿ç”¨ Agents</strong></p>
<hr/>
<h3 data-id="heading-19">ä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨</h3>
<p>ä¸€ä¸ªå¸¸è§çš„æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ç”¨ Workflows è´Ÿè´£ä¸»æµç¨‹ï¼ˆä¿è¯ç¨³å®šï¼‰</li>
<li>åœ¨å…³é”®èŠ‚ç‚¹ç”¨ Agent åšè‡ªä¸»å†³ç­–ï¼ˆæå‡æ™ºèƒ½æ€§ï¼‰</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>â€œå†…å®¹ç”Ÿæˆæµç¨‹+è‡ªåŠ¨æ ¡å¯¹â€ ç”¨ Workflow</li>
<li>â€œè‡ªåŠ¨æ£€ç´¢ç›¸å…³çŸ¥è¯†â€ ç”¨ Agent</li>
<li>â€œå¤æ‚ä»»åŠ¡è§„åˆ’â€ ç”¨ Agent</li>
<li>â€œæ‰§è¡Œæ­¥éª¤â€ ç”¨ Workflow</li>
</ul>
<p>è¿™ç§æ··åˆç»“æ„åœ¨ LangGraph ä¸­éå¸¸å®¹æ˜“å®ç°ã€‚</p>
<hr/>
<h2 data-id="heading-20">6. ç»“è¯­ï¼šä»å¯æ§åˆ°æ™ºèƒ½ï¼Œé€‰æ‹©æœ€é€‚åˆçš„æ¶æ„</h2>
<p>éšç€å¤§æ¨¡å‹èƒ½åŠ›å¢å¼ºï¼Œæˆ‘ä»¬æœ‰è¶Šæ¥è¶Šå¤šçš„æ–¹å¼æ„å»ºæ™ºèƒ½ç³»ç»Ÿã€‚
Workflows å’Œ Agents å¹¶éå¯¹ç«‹ï¼Œè€Œæ˜¯è§£å†³ä¸åŒç±»å‹é—®é¢˜çš„å·¥å…·ã€‚</p>
<p><strong>Workflows ç»™ä½ ç¨³å®šæ€§ä¸å¯æ§æ€§ï¼›Agents ç»™äºˆçµæ´»æ€§ä¸è‡ªä¸»æ€§ã€‚</strong></p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼š</p>
<ul>
<li>å…ˆç”¨ Workflows ä¿è¯ç¨³å®š</li>
<li>éœ€è¦â€œæ™ºèƒ½æ¢ç´¢â€æ—¶å†åŠ  Agent</li>
<li>ç”¨ LLM å¢å¼ºå·¥å…·ï¼ˆç»“æ„åŒ–è¾“å‡ºã€å·¥å…·è°ƒç”¨ã€çŸ­æœŸè®°å¿†ï¼‰æå‡ä¸¤è€…å¯é æ€§</li>
</ul>
<p>æœ€ç»ˆç›®æ ‡ä¸æ˜¯é€‰æ‹©å…¶ä¸­ä¸€æ–¹ï¼Œè€Œæ˜¯
âœ¨ <strong>æ„å»ºä¸€ä¸ªæ—¢å¯é åˆæ™ºèƒ½çš„ç³»ç»Ÿã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ¬åœ°æ¨¡å‹ + äº‘ç«¯æ¨¡å‹çš„ Hybrid Inference æ¶æ„è®¾è®¡ï¼šä¸‹ä¸€ä»£æ™ºèƒ½ç³»ç»Ÿçš„åº•å±‚èŒƒå¼]]></title>    <link>https://juejin.cn/post/7572939250587205683</link>    <guid>https://juejin.cn/post/7572939250587205683</guid>    <pubDate>2025-11-17T03:39:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572939250587205683" data-draft-id="7572880767585894451" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ¬åœ°æ¨¡å‹ + äº‘ç«¯æ¨¡å‹çš„ Hybrid Inference æ¶æ„è®¾è®¡ï¼šä¸‹ä¸€ä»£æ™ºèƒ½ç³»ç»Ÿçš„åº•å±‚èŒƒå¼"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-17T03:39:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ¬åœ°æ¨¡å‹ + äº‘ç«¯æ¨¡å‹çš„ Hybrid Inference æ¶æ„è®¾è®¡ï¼šä¸‹ä¸€ä»£æ™ºèƒ½ç³»ç»Ÿçš„åº•å±‚èŒƒå¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:39:09.000Z" title="Mon Nov 17 2025 03:39:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‡å»ä¸€å¹´ï¼Œå¤§æ¨¡å‹çš„æ¨ç†æ–¹å¼æ­£åœ¨å˜å¾—å‰æ‰€æœªæœ‰åœ°å¤šæ ·åŒ–ã€‚å¼€å‘è€…ä¸å†æ»¡è¶³äºâ€œæŠŠè¯·æ±‚ä¸¢ç»™äº‘ç«¯ APIï¼Œç„¶åç­‰å¾…ç»“æœâ€è¿™ç§å•å‘æµç¨‹ï¼Œè€Œæ˜¯çœŸå®åœ°æ„Ÿå—åˆ°ï¼šä¸åŒåœºæ™¯ï¼Œå¯¹å»¶è¿Ÿã€éšç§ã€æˆæœ¬ã€å¯æ§æ€§éƒ½æœ‰å®Œå…¨ä¸åŒçš„è¦æ±‚ã€‚å°¤å…¶æ˜¯åœ¨è®¾å¤‡ä¸åº”ç”¨ç¢ç‰‡åŒ–çš„å½“ä¸‹ï¼Œä¸€ä¸ªå•ä¸€æ¨¡å‹æ¶æ„æ ¹æœ¬æ— æ³•è¦†ç›–æ‰€æœ‰ä½“éªŒã€‚äºæ˜¯ï¼Œä¸€ä¸ªè¶Šæ¥è¶Šæ¸…æ™°çš„è¶‹åŠ¿å‡ºç°äº†â€”â€”<strong>Hybrid Inferenceï¼šè®©æœ¬åœ°æ¨¡å‹ä¸äº‘ç«¯æ¨¡å‹ååŒå·¥ä½œï¼Œè®©æ¨ç†ä¸å†æ˜¯å•ç‚¹ï¼Œè€Œæ˜¯ä¸€æ¡å¯è‡ªé€‚åº”çš„æ¨ç†é“¾è·¯ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5efb185dc6af4ffa81d72124caa72420~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955548&amp;x-signature=98dkj6EBnLpgD5yBRTGr4xMSJsY%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸æ˜¯ä¸€ä¸ªâ€œç”¨æœ¬åœ°æ¨¡å‹åšç‚¹å°æ´»ã€äº‘ç«¯åšå¤§æ´»â€çš„ç®€å•æ¨¡å¼ï¼Œè€Œè¶Šæ¥è¶Šåƒæ˜¯ä¸€å¥—â€œæ¨ç†æ“ä½œç³»ç»Ÿâ€ã€‚å®ƒèƒŒåçš„å…³é”®é—®é¢˜æ˜¯ï¼š<strong>å¦‚ä½•åœ¨å»¶è¿Ÿã€ç®—åŠ›ã€æˆæœ¬ã€éšç§ä¹‹é—´åŠ¨æ€è°ƒåº¦æ¨¡å‹ï¼Œè®©ç³»ç»Ÿåœ¨ä¸ç¡®å®šæ€§ä¸‹ç¨³å®šè¾“å‡ºæœ€ä¼˜ç»“æœï¼Ÿ</strong></p>
<p>è¿™ç¯‡æ–‡ç« æƒ³å¸¦ä½ æŠŠ Hybrid Inference çš„åº•å±‚é€»è¾‘è®²é€ï¼Œè®©ä½ æ—¢ç†è§£å®ƒçš„åŸç†ï¼Œä¹ŸçœŸçš„èƒ½åŠ¨æ‰‹æ­å»ºä¸€å¥—å¯è¿è¡Œçš„æ¶æ„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef9cbc21edd34e9f885d07b9cbc772a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955548&amp;x-signature=9yq2wak7Ult9cF71zl4C2NiUGQw%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ Hybrid Inference æ˜¯å¤§åŠ¿æ‰€è¶‹ï¼Ÿ</h2>
<p>å¦‚æœä½ æ­£åœ¨å¼€å‘æ™ºèƒ½åŠ©æ‰‹ã€è¡Œä¸š AI å·¥å…·ã€è‡ªåŠ¨é©¾é©¶è¾…åŠ©åº”ç”¨ã€å·¥ä½œæµæ™ºèƒ½ä½“ï¼Œæˆ–è€…åªæ˜¯ä¸€ä¸ªæœ¬åœ°çŸ¥è¯†åº“åº”ç”¨ï¼Œä½ ä¸€å®šä¼šå‘ç°ä»¥ä¸‹å›°å¢ƒï¼š</p>
<p>å½“ä½ æŠŠæ¨ç†æ”¾åˆ°äº‘ç«¯æ—¶ï¼š</p>
<ul>
<li>å»¶è¿Ÿä¸å¯æ§ï¼ˆç½‘ç»œä¸ç¨³å®šå°±æ˜¯ç¾éš¾ï¼‰</li>
<li>æˆæœ¬ä¼šéšè°ƒç”¨é‡æŒ‡æ•°å¢é•¿</li>
<li>éšç§ä¸åˆè§„å‹åŠ›å§‹ç»ˆå­˜åœ¨ï¼ˆæ•°æ®ä¸èƒ½éšä¾¿ä¸Šä¼ ï¼‰</li>
<li>æŸäº›è½»ä»»åŠ¡å®åœ¨ä¸è¯¥ç”¨ä¸€ä¸ª 500B æ¨¡å‹å»ç®—</li>
</ul>
<p>è€Œå½“ä½ æŠŠæ¨ç†æ”¾åˆ°æœ¬åœ°ï¼š</p>
<ul>
<li>ç®—åŠ›æœ‰é™ï¼ˆå°¤å…¶æ˜¯ç§»åŠ¨ç«¯ï¼‰</li>
<li>æ— æ³•å¤„ç†å¤æ‚ä»»åŠ¡ï¼ˆä¾‹å¦‚å¤æ‚æ¨ç†ã€é•¿ä¸Šä¸‹æ–‡ã€å¤šæ¨¡æ€ç”Ÿæˆï¼‰</li>
<li>æ›´æ–°æˆæœ¬é«˜ï¼ˆæ¨¡å‹ç‰ˆæœ¬éš¾åŒæ­¥ï¼‰</li>
<li>ç¼ºä¹æ·±åº¦èƒ½åŠ›ï¼ˆæœ¬åœ°å°æ¨¡å‹çš„è¾¹ç•Œå¾ˆæ˜æ˜¾ï¼‰</li>
</ul>
<p>æ‰€ä»¥è¿™å‡ å¹´æˆ‘ä»¬çœ‹åˆ° Appleã€Googleã€å¾®è½¯ã€ç™¾åº¦ã€OpenAI çš„æ–¹å‘è¶Šæ¥è¶Šä¸€è‡´ï¼š <strong>è®©äº‘ç«¯ç®—åŠ›åšâ€œé‡æ¨ç†â€ï¼Œè®©è®¾å¤‡ç«¯åšâ€œè½»æ¨ç†â€ï¼Œå¹¶é€šè¿‡ç»Ÿä¸€çš„è°ƒåº¦ä½“ç³»è¿æ¥å®ƒä»¬ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a88df2803d20483abeabd8dd1c968264~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955548&amp;x-signature=tBtYHeA%2BW7eZr67a%2BHSuAt6Gxb8%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¼šå‘ç° Hybrid Inference æœ¬è´¨ä¸æ˜¯æ¶æ„é—®é¢˜ï¼Œè€Œæ˜¯ <strong>æ¨ç†èƒ½åŠ›åœ¨ä¸åŒâ€œåœ°ç†ä½ç½®â€é—´çš„ååŒé—®é¢˜</strong>ã€‚å®ƒæ›´åƒ CDN ä¸è¾¹ç¼˜è®¡ç®—èåˆåçš„ä¸–ç•Œï¼Œä½†è¿™ä¸€æ¬¡çš„å†…å®¹ä¸æ˜¯â€œé™æ€æ–‡ä»¶â€ï¼Œè€Œæ˜¯â€œæ™ºèƒ½æœ¬èº«â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€Hybrid Inference çš„åº•å±‚é€»è¾‘ï¼ˆçœŸæ­£ç†è§£å®ƒéœ€è¦ä»è¿™é‡Œå¼€å§‹ï¼‰</h2>
<p>å¦‚æœä½ åªä»â€œæœ¬åœ°èƒ½åšä»€ä¹ˆã€äº‘ç«¯èƒ½åšä»€ä¹ˆâ€å»ç†è§£ Hybridï¼Œä¼šæŠŠè‡ªå·±æ¡†æ­»åœ¨ä½ç»´åº¦é‡Œã€‚æ­£ç¡®çš„åˆ‡å…¥æ–¹å¼åº”è¯¥æ˜¯ï¼š</p>
<p><strong>Hybrid Inference = æ¨ç†ä»»åŠ¡æ‹†è§£ + æ¨¡å‹èƒ½åŠ›ç¼–æ’ + è·¯å¾„åŠ¨æ€å†³ç­–</strong></p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ‹†æˆä¸‰ä¸ªå…³é”®å±‚ï¼š</p>
<hr/>
<h3 data-id="heading-2">1ï¼‰æ¨ç†ä»»åŠ¡æ‹†è§£ï¼ˆTask Decomposition Layerï¼‰</h3>
<p>å¤§éƒ¨åˆ†æ¨ç†ä»»åŠ¡çœ‹ä¼¼â€œä¸€ä¸ªé—®é¢˜â€ï¼Œä½†å®é™…åŒ…å«å¤šä¸ªå­èƒ½åŠ›ï¼š</p>
<p>ä¸¾ä¾‹ï¼š</p>
<blockquote>
<p>â€œæ€»ç»“è¿™æ®µè´¢æŠ¥å¹¶ç”Ÿæˆä¸€ä»½å¯è§†åŒ–åˆ†ææŠ¥å‘Šã€‚â€</p>
</blockquote>
<p>è¿™èƒŒåè‡³å°‘åŒ…å«ï¼š</p>
<ul>
<li>æ–‡æœ¬ç†è§£</li>
<li>ä¿¡æ¯æŠ½å–</li>
<li>è´¢åŠ¡çŸ¥è¯†æ¨ç†</li>
<li>å¯è§†åŒ–ç»“æ„è§„åˆ’</li>
<li>å¤šè½®é—®é¢˜æ¾„æ¸…</li>
<li>æœ€ç»ˆæ ¼å¼åŒ–ç”Ÿæˆ</li>
</ul>
<p>å…³é”®æ´å¯Ÿæ˜¯ï¼š<strong>ä¸æ˜¯æ¯ä¸€æ­¥éƒ½å¿…é¡»ç”¨ 70B æˆ– 500B æ¨¡å‹ã€‚è½»èƒ½åŠ›å®Œå…¨å¯ä»¥æœ¬åœ°è§£å†³ã€‚</strong></p>
<hr/>
<h3 data-id="heading-3">2ï¼‰æ¨¡å‹èƒ½åŠ›ç¼–æ’ï¼ˆModel Orchestration Layerï¼‰</h3>
<p>ä½ çš„ç³»ç»Ÿå¿…é¡»çŸ¥é“ï¼š</p>
<ul>
<li>å“ªäº›ä»»åŠ¡é€‚ç”¨äºæœ¬åœ° LLMï¼ˆä½å»¶è¿Ÿã€è½»è®¡ç®—ï¼‰</li>
<li>å“ªäº›ä»»åŠ¡å¿…é¡»äº¤ç»™äº‘ç«¯ LLMï¼ˆé«˜æ¨ç†æ·±åº¦ï¼‰</li>
<li>å“ªäº›ä»»åŠ¡å¯ä»¥ç”±æœ¬åœ°æ¨¡å‹é¢„å¤„ç†ï¼ˆé™ç»´ï¼‰</li>
<li>å“ªäº›ä»»åŠ¡éœ€è¦äº‘ç«¯æ¨¡å‹å‹è½´ï¼ˆå‡ç»´ï¼‰</li>
</ul>
<p>å®ƒç±»ä¼¼äº Transformer çš„å±‚é€‰æ‹©ï¼Œä½†æ­¤æ—¶é€‰æ‹©çš„æ˜¯â€œæ¨ç†ä½ç½®â€ã€‚</p>
<p>ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆï¼š</p>
<blockquote>
<p><em>æœ¬åœ°æ¨¡å‹è´Ÿè´£å¿«é€Ÿç†è§£ã€è¿‡æ»¤ã€ç‰¹å¾åŒ–ï¼›äº‘ç«¯æ¨¡å‹è´Ÿè´£æ·±æ¨ç†ã€ç”Ÿæˆä¸å¤šæ¨¡æ€å¤„ç†ã€‚</em></p>
</blockquote>
<hr/>
<h3 data-id="heading-4">3ï¼‰è·¯å¾„åŠ¨æ€å†³ç­–ï¼ˆDynamic Routing Layerï¼‰</h3>
<p>è¿™æ˜¯ Hybrid çš„çµé­‚ã€‚</p>
<p>æœ€ä¼˜è·¯å¾„ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯åœ¨ä»¥ä¸‹ç»´åº¦ä¹‹é—´å®æ—¶åšå¼ˆï¼š</p>
<ul>
<li>å»¶è¿Ÿï¼ˆç½‘ç»œ/è®¾å¤‡ï¼‰</li>
<li>éšç§çº§åˆ«ï¼ˆå¦‚ä¼ä¸šå†…éƒ¨æ•°æ®ï¼‰</li>
<li>æˆæœ¬ï¼ˆAPI å•ä»·ï¼‰</li>
<li>æ¨¡å‹èƒ½åŠ›è¦æ±‚ï¼ˆæ˜¯å¦è¶³å¤Ÿèªæ˜ï¼‰</li>
<li>ä¸Šä¸‹æ–‡é•¿åº¦</li>
<li>è®¾å¤‡åœ¨çº¿/ç¦»çº¿çŠ¶æ€</li>
<li>ä»»åŠ¡å¤æ‚åº¦åŠ¨æ€è¯„ä¼°</li>
</ul>
<p>æœ€ç»ˆå½¢æˆä¸€ç§â€œæ¨ç†è·¯ç”±â€ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·è¾“å…¥ â†’ æœ¬åœ°æ¨¡å‹åˆç­› â†’ åŠ¨æ€è¯„ä¼° â†’ 
<span class="hljs-code">    â†³ å¦‚æœæ˜¯ç®€å•ä»»åŠ¡ â†’ ç›´æ¥æœ¬åœ°æ¨ç†
    â†³ å¦‚æœä¸­ç­‰å¤æ‚ â†’ åˆ†å±‚æœ¬åœ°æ¨ç† + äº‘ç«¯è¡¥æ´
    â†³ å¦‚æœæ˜¯é«˜å¤æ‚ â†’ å…¨é“¾è·¯äº‘ç«¯æ¨ç†
</span></code></pre>
<p>çœ‹åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å·²ç»æ„è¯†åˆ°â€”â€” <strong>Hybrid Inference çš„æ ¸å¿ƒä¸æ˜¯æœ¬åœ°æ¨¡å‹ï¼Œè€Œæ˜¯â€œæ€è€ƒå¦‚ä½•åˆ†é…æ™ºèƒ½å·¥ä½œé‡â€ã€‚</strong></p>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€æ¶æ„å›¾ï¼šè®© Hybrid Inference å˜å¾—å¯è§†åŒ–</h2>
<p>ä¸ºäº†è®©ä½ è„‘å­é‡Œå½¢æˆä¸€ä¸ªæ¸…æ™°æ¨¡å‹ï¼Œæˆ‘ç”¨æœ€å¸¸è§çš„å·¥ä¸šå®è·µç”»äº†ä¸€å¼ ç¤ºæ„ç»“æ„ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   User <span class="hljs-selector-tag">Input</span>  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Local PreModel   â”‚  â† <span class="hljs-number">2</span>B~<span class="hljs-number">8</span>B æœ¬åœ°æ¨¡å‹
                   â”‚(ç†è§£/åˆ†ç±»/è¿‡æ»¤)  â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚  Dynamic Routing Engine      â”‚
             â”‚ (å¤æ‚åº¦ã€éšç§ã€æˆæœ¬ã€å»¶è¿Ÿåˆ¤æ–­) â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                     â”‚              â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Local LLM Execution â”‚  â”‚ Cloud LLM Executionâ”‚
       â”‚  (è½»æ¨ç†/çŸ­ä¸Šä¸‹æ–‡)  â”‚  â”‚(æ·±æ¨ç†/é•¿ä¸Šä¸‹æ–‡) â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                  â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚        Hybrid Aggregator              â”‚
              â”‚ (ç»“æœåˆå¹¶/è§’è‰²åˆ†å·¥/è¡¥å…¨/ä¸€è‡´æ€§æ£€æŸ¥)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚    Final Output     â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>å®ƒå¾ˆåƒå¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼Œä½†è¿™é‡Œçš„æ™ºèƒ½ä½“ä¸æ˜¯ä¸åŒè§’è‰²ï¼Œè€Œæ˜¯<strong>ä¸åŒä½ç½®çš„æ¨¡å‹</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-6">å››ã€åŠ¨æ‰‹ï¼š15 è¡Œä»£ç æ­ä¸€ä¸ªæœ€ç®€å•çš„ Hybrid Inference åŸå‹</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªâ€œæœ¬åœ°æ¨¡å‹ + äº‘ç«¯æ¨¡å‹â€çš„æ··åˆæ¨ç†è·¯ç”± Demoï¼ˆPythonï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">from transformers import AutoModelForCausalLM, AutoTokenizer
import openai

<span class="hljs-comment"># æœ¬åœ°è½»é‡æ¨¡å‹ï¼ˆä¾‹å¦‚ 1.3Bã€3Bï¼‰</span>
<span class="hljs-attr">local_tokenizer</span> = AutoTokenizer.from_pretrained(<span class="hljs-string">"Qwen/Qwen2-1.5B"</span>)
<span class="hljs-attr">local_model</span> = AutoModelForCausalLM.from_pretrained(<span class="hljs-string">"Qwen/Qwen2-1.5B"</span>)

<span class="hljs-attr">openai.api_key</span> = <span class="hljs-string">"YOUR_API_KEY"</span>

def local_infer(prompt):
    <span class="hljs-attr">inputs</span> = local_tokenizer(prompt, return_tensors=<span class="hljs-string">"pt"</span>)
    <span class="hljs-attr">outputs</span> = local_model.generate(**inputs, max_new_tokens=<span class="hljs-number">128</span>)
    return local_tokenizer.decode(outputs<span class="hljs-section">[0]</span>)

def cloud_infer(prompt):
    <span class="hljs-attr">response</span> = openai.chat.completions.create(
        <span class="hljs-attr">model</span>=<span class="hljs-string">"gpt-4.1"</span>,
        <span class="hljs-attr">messages</span>=[{<span class="hljs-string">"role"</span>: <span class="hljs-string">"user"</span>, <span class="hljs-string">"content"</span>: prompt}],
    )
    return response.choices<span class="hljs-section">[0]</span>.message<span class="hljs-section">["content"]</span>

def hybrid_infer(prompt):
    <span class="hljs-comment"># æœ¬åœ°æ¨¡å‹åˆ¤æ–­â€œä»»åŠ¡å¤æ‚åº¦â€</span>
    <span class="hljs-attr">judge</span> = local_infer(f<span class="hljs-string">"åˆ¤æ–­æ­¤ä»»åŠ¡æ˜¯å¦å¤æ‚ï¼š{prompt}ï¼Œå›ç­” simple æˆ– complex"</span>)
    
    if "simple" in judge.lower():
        return local_infer(prompt)
    else:
        return cloud_infer(prompt)

print(hybrid_infer("è¯·å¸®æˆ‘ç”Ÿæˆä¸€ä»½æœ‰ç»“æ„çš„å•†ä¸šè®¡åˆ’ä¹¦"))
</code></pre>
<p>å®ƒå¹¶ä¸å®Œç¾ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„æ„ä¹‰ï¼š</p>
<blockquote>
<p><strong>è®©ä½ çœŸæ­£ç†è§£ Hybrid çš„é€»è¾‘ï¼šä¸æ˜¯åŒæ¨¡å‹å¹¶ç”¨ï¼Œè€Œæ˜¯è®©æœ¬åœ°æ¨¡å‹æˆä¸ºâ€œæ¨ç†å…¥å£â€ã€‚</strong></p>
</blockquote>
<p>ä½ å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­æ‰©å±•ï¼šé•¿ä¸Šä¸‹æ–‡æ£€æµ‹ã€æœ¬åœ° embedding æ£€ç´¢ã€æœ¬åœ°å¤šæ¨¡æ€é¢„å¤„ç†ã€Confidence Routing ç­‰ç­‰ã€‚</p>
<hr/>
<h2 data-id="heading-7">äº”ã€Hybrid æ¶æ„çš„ä¸€ä¸ªå…¸å‹çœŸå®æ¡ˆä¾‹</h2>
<p>å‡è®¾ä½ åšçš„æ˜¯ã€Œä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“ + AI åŠ©æ‰‹ã€ï¼Œæµç¨‹ä¼šæ˜¯è¿™æ ·ï¼š</p>
<ol>
<li><strong>æœ¬åœ°æ¨¡å‹</strong>ï¼šå¯¹ç”¨æˆ·é—®é¢˜åšåˆ†ç±»ã€æ„å›¾è¯†åˆ« ä¾‹å¦‚è¯†åˆ«ï¼šè¡Œæ”¿ï¼ŸåˆåŒï¼Ÿæµç¨‹ï¼Ÿè´¢åŠ¡ï¼Ÿ</li>
<li><strong>æœ¬åœ° embedding æ¨¡å‹</strong>ï¼šåœ¨ä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢å†…å®¹ï¼ˆä¸èƒ½ä¸Šäº‘ï¼‰</li>
<li><strong>æœ¬åœ°æ¨¡å‹</strong>ï¼šç”Ÿæˆ condensed contextï¼ˆå‹ç¼©æ‘˜è¦ï¼‰</li>
<li><strong>äº‘ç«¯æ¨¡å‹</strong>ï¼šåœ¨å‹ç¼©åçš„ä¸Šä¸‹æ–‡ä¸Šè¿›è¡Œæ·±æ¨ç†ä¸ç”Ÿæˆï¼ˆé™ä½ token æˆæœ¬ï¼‰</li>
<li><strong>æœ¬åœ°æ¨¡å‹</strong>ï¼šåå¤„ç†ã€è¡¥é½ä¼ä¸šæœ¯è¯­ã€åˆè§„è¿‡æ»¤</li>
</ol>
<p>è¿™ç§æ¶æ„ä¸ä»…æå‡äº†éšç§å’Œé€Ÿåº¦ï¼Œè¿˜æå¤§é™ä½äº† cloud API æˆæœ¬â€”â€”</p>
<p>å› ä¸ºäº‘ç«¯æ¨¡å‹çœŸæ­£æ”¶åˆ°çš„ä¸Šä¸‹æ–‡åªæœ‰å¿…è¦éƒ¨åˆ†ã€‚</p>
<p>è¿™å°±æ˜¯ Hybrid æ¶æ„çœŸæ­£çš„ä»·å€¼ï¼š<strong>è®©æ™ºèƒ½ç³»ç»Ÿå…·å¤‡äº†â€œå·¥ä½œæµå¼çš„æ€è€ƒèƒ½åŠ›â€ï¼Œè€Œä¸æ˜¯ä¸€é—®ä¸€ç­”çš„åå°„èƒ½åŠ›ã€‚</strong></p>
<hr/>
<h2 data-id="heading-8">å…­ã€æ”¶å°¾ï¼šHybrid Inference ä¸åªæ˜¯æ¶æ„ï¼Œè€Œæ˜¯æœªæ¥æ™ºèƒ½ç³»ç»Ÿçš„åœ°åŸº</h2>
<p>å¦‚æœè¯´å•æ¨¡å‹æ¨ç†æ˜¯â€œä¸€æ¡ç›´çº¿â€ï¼Œé‚£ä¹ˆ Hybrid Inference å°±æ˜¯â€œä¸€ç‰‡åœ°å½¢â€ã€‚</p>
<p>æœ¬åœ°æ¨¡å‹åƒæ˜¯åœ°è¡¨çš„é“è·¯ï¼Œå¿«é€Ÿã€å¯æ§ã€è´´è¿‘ç”¨æˆ·ï¼›</p>
<p>äº‘ç«¯æ¨¡å‹åƒæ˜¯åœ°ä¸‹çš„é«˜é€Ÿéš§é“ï¼Œæ·±é‚ƒã€æœ‰åŠ›ï¼Œå´æˆæœ¬é«˜æ˜‚ã€‚</p>
<p>è€ŒåŠ¨æ€è·¯ç”±ï¼Œå°±æ˜¯åœ¨è¿™äº›é“è·¯ä¹‹é—´ä¸æ–­å¯»æ‰¾æœ€ä¼˜è·¯å¾„çš„äº¤é€šä¸­æ¢ã€‚</p>
<p>æœªæ¥çš„æ™ºèƒ½ç³»ç»Ÿä¸ä¼šè¢«ç»‘å®šåœ¨å•ä¸€æ¨¡å‹ä¸Šï¼Œå®ƒä»¬ä¼šåƒæ“ä½œç³»ç»Ÿä¸€æ ·ï¼Œ <strong>æŠŠä¸åŒä½ç½®ã€ä¸åŒèƒ½åŠ›çš„æ¨¡å‹ç»„ç»‡æˆä¸€å¼ æ™ºèƒ½ç½‘ç»œã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bba5b0a5f09b45e6b578aa1c86d7b4d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955548&amp;x-signature=g0w5FH31Af8m5seBIktceq7T70c%3D" alt="" loading="lazy"/></p>
<p>Hybrid Inference ä¸æ˜¯è¶‹åŠ¿â€”â€”å®ƒå·²ç»å¼€å§‹æˆä¸ºâ€œé»˜è®¤â€ã€‚</p>
<p>è€Œä½ ç°åœ¨ç†è§£çš„è¿™äº›æ€è·¯ï¼Œå°†ä¼šåœ¨æœªæ¥å‡ å¹´ AI åº”ç”¨çœŸæ­£çˆ†å‘æ—¶æˆä¸ºåº•å±‚åŸºçŸ³ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨æ„å»ºè‡ªå·±çš„æ¨¡å‹æ¶æ„ã€æ™ºèƒ½åŠ©æ‰‹æˆ–ä¼ä¸šåº”ç”¨ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç»§ç»­äº¤æµæ€è·¯ã€‚</p>
<p>è®©æ™ºèƒ½ç³»ç»ŸçœŸæ­£â€œåŠ¨â€èµ·æ¥ï¼Œæ˜¯æˆ‘ä»¬å…±åŒçš„å‘½é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[12 èŠ‚è¯¾è§£é” AI Agentsï¼Œè®©AIæ›¿ä½ æ‰“å·¥ï¼ˆä¸‰ï¼‰ï¼šæ¡†æ¶ä¹‹ç†è®ºç¯‡]]></title>    <link>https://juejin.cn/post/7573187591223853110</link>    <guid>https://juejin.cn/post/7573187591223853110</guid>    <pubDate>2025-11-17T03:40:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573187591223853110" data-draft-id="7572142436126867475" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="12 èŠ‚è¯¾è§£é” AI Agentsï¼Œè®©AIæ›¿ä½ æ‰“å·¥ï¼ˆä¸‰ï¼‰ï¼šæ¡†æ¶ä¹‹ç†è®ºç¯‡"/> <meta itemprop="keywords" content="Agent,ç¨‹åºå‘˜,LLM"/> <meta itemprop="datePublished" content="2025-11-17T03:40:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            12 èŠ‚è¯¾è§£é” AI Agentsï¼Œè®©AIæ›¿ä½ æ‰“å·¥ï¼ˆä¸‰ï¼‰ï¼šæ¡†æ¶ä¹‹ç†è®ºç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:40:03.000Z" title="Mon Nov 17 2025 03:40:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote>
<blockquote>
<p>ç”±äºæœ¬ç« èŠ‚å†…å®¹è¾ƒå¤šï¼Œå°†ä¼šæ‹†åˆ†æˆä¸¤ç¯‡æ–‡ç« è¿›è¡Œè®²è§£ã€‚ç¬¬ä¸€ç¯‡æ˜¯ç†è®ºç¯‡ï¼Œä¸»è¦ä»‹ç»Agenticæ¡†æ¶æœºå™¨å¯¹æ¯”ã€æ ¸å¿ƒæ¦‚å¿µå’ŒåŸç†ï¼›ç¬¬äºŒç¯‡æ˜¯å®æˆ˜ç¯‡ï¼Œå°†é€šè¿‡å®é™…æ¡ˆä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨LangGraphæ„å»ºèŠå¤©æœºå™¨äººï¼Œå¹¶æ¢è®¨å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„ä¼˜åŠ¿ã€‚</p>
</blockquote>
<h2 data-id="heading-0">æœ¬ç¯‡ä¸ºç†è®ºç¯‡ã€‚</h2>
<h3 data-id="heading-1">1.  å¼•è¨€</h3>
<hr/>
<p>Agenticæ¡†æ¶é€šè¿‡ä½¿è‡ªä¸»ç³»ç»Ÿèƒ½å¤ŸåŠ¨æ€æ„ŸçŸ¥ã€æ¨ç†å’Œè¡ŒåŠ¨ï¼Œå½»åº•æ”¹å˜äº†AIé¢†åŸŸã€‚æœ¬èŠ‚å°†æ¢è®¨Agenticæ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶é˜è¿°å¼€æºè§£å†³æ–¹æ¡ˆå¯¹ç°ä»£AIå¼€å‘åˆ›æ–°å’Œæ‰©å±•çš„é‡è¦æ€§ã€‚</p>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯Agenticæ¡†æ¶ï¼Ÿ</h4>
<p>Agenticæ¡†æ¶ä»£è¡¨äº†äººå·¥æ™ºèƒ½ç³»ç»Ÿè®¾è®¡èŒƒå¼çš„è½¬å˜ã€‚ä¸ä¾èµ–é™æ€é¢„å®šä¹‰å·¥ä½œæµçš„ä¼ ç»ŸAIåº”ç”¨ä¸åŒï¼ŒAgenticæ¡†æ¶å¼•å…¥äº†èƒ½å¤Ÿè‡ªä¸»æ„ŸçŸ¥ã€æ¨ç†å’Œè¡ŒåŠ¨çš„åŠ¨æ€è‡ªé€‚åº”ç³»ç»Ÿã€‚è¿™äº›æ¡†æ¶å°†å¤æ‚ä»»åŠ¡åˆ†è§£ä¸ºå¯ç”±ä¸“ä¸šagentåä½œå®Œæˆçš„å­ä»»åŠ¡ï¼Œé€šè¿‡åˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ç®¡ç†æµç¨‹ã€åšå‡ºå†³ç­–å¹¶æ— ç¼é›†æˆå·¥å…·ï¼Œä½¿å…¶æˆä¸ºåŠ¨æ€å†³ç­–å’Œå®æ—¶é—®é¢˜è§£å†³ç­‰é«˜çº§åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<blockquote>
<p><strong>å…³é”®å‚è€ƒï¼š</strong></p>
<p>LangGraphå’ŒCrewAIç­‰æ¡†æ¶ä½“ç°äº†è¿™ç§åŠ¨æ€æ–¹æ³•ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿçªç ´å•agentçº¿æ€§å·¥ä½œæµçš„é™åˆ¶ï¼Œæ„å»ºå¤šagentåä½œç³»ç»Ÿã€‚</p>
</blockquote>
<h4 data-id="heading-3">1.2 ä¸ºä½•å®ƒä»¬å¦‚æ­¤é‡è¦ï¼Ÿ</h4>
<p>ä»å¤´æ„å»ºagentæå…·æŒ‘æˆ˜æ€§ã€‚LangGraphã€CrewAIå’ŒOpenAI Swarmç­‰æ¡†æ¶ç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ï¼Œä½¿å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºåº”ç”¨é€»è¾‘ï¼Œè€Œæ— éœ€é‡æ–°è®¾è®¡çŠ¶æ€ç®¡ç†ã€ç¼–æ’å’Œå·¥å…·é›†æˆç­‰åŸºç¡€æ¶æ„ã€‚</p>
<p><strong>Agentæ¡†æ¶çš„æ ¸å¿ƒä»·å€¼ï¼š</strong></p>
<ul>
<li>å®šä¹‰agentå’Œå·¥å…·çš„ç®€ä¾¿æ–¹å¼</li>
<li>ç¼–æ’æœºåˆ¶</li>
<li>çŠ¶æ€ç®¡ç†</li>
<li>æ”¯æŒå¤æ‚åº”ç”¨çš„é™„åŠ å·¥å…·ï¼ˆå¦‚æŒä¹…å±‚ã€ä¸­æ–­å¤„ç†ç­‰ï¼‰</li>
</ul>
<p><strong>åç»­ç« èŠ‚å°†é€ä¸€è§£æè¿™äº›æ ¸å¿ƒè¦ç´ </strong></p>
<ol start="2">
<li>ä¸»æµAgenticæ¡†æ¶ä¸åº“</li>
</ol>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac73c50122be4f5d915ca673e96b28b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955603&amp;x-signature=Ut92yO6K1zHVFJ8N0NnAoJcirnI%3D" alt="" loading="lazy"/> æ¥æºï¼šanalyticsvidhya</p>
<h4 data-id="heading-4">2.1 Langchain</h4>
<p><strong>LangChain</strong>Â ä½œä¸ºå¼ºå¤§è€Œçµæ´»çš„æ¡†æ¶ï¼Œæå¤§ç®€åŒ–äº†åŸºäºå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰åº”ç”¨çš„å¼€å‘ã€‚é€šè¿‡ä¸°å¯Œçš„å·¥å…·é›†å’ŒæŠ½è±¡å±‚ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå…·å¤‡å¤æ‚æ¨ç†ã€ä»»åŠ¡æ‰§è¡Œå’Œå¤–éƒ¨æ•°æ®/APIäº¤äº’èƒ½åŠ›çš„AI agentã€‚</p>
<p>è¯¥æ¡†æ¶è§£å†³äº†é•¿å¯¹è¯ä¸Šä¸‹æ–‡ä¿æŒã€å¤–éƒ¨ä¿¡æ¯æ•´åˆå’Œå¤šæ­¥éª¤é¡¹ç›®åè°ƒç­‰æ ¸å¿ƒæŒ‘æˆ˜ã€‚å…¶æ¨¡å—åŒ–æ¶æ„æ”¯æŒçµæ´»ç»„åˆå„ç§ç»„ä»¶ï¼Œé€‚ç”¨äºå¤šç§åº”ç”¨åœºæ™¯ã€‚</p>
<ul>
<li><em><strong>GitHubé“¾æ¥ï¼š</strong> *** LangChain GitHub</em>***</li>
<li><em><strong>æ–‡æ¡£é“¾æ¥ï¼š</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fpython.langchain.com%2Fdocs%2Fintroduction%2F" target="_blank" title="https://python.langchain.com/docs/introduction/" ref="nofollow noopener noreferrer">python.langchain.com/docs/introdâ€¦</a></em>***</li>
</ul>
<h4 data-id="heading-5">2.2 LangGraph</h4>
<p><strong>LangGraph</strong>Â æ˜¯LangChainçš„æ‰©å±•ï¼Œæ”¯æŒä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹æ„å»ºæœ‰çŠ¶æ€çš„å¤šå‚ä¸è€…åº”ç”¨ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦è§„åˆ’ã€åæ€å’Œå¤šagentåè°ƒçš„å¤æ‚äº¤äº’å¼AIç³»ç»Ÿã€‚</p>
<ul>
<li><em><strong>GitHubé“¾æ¥ï¼š</strong> *** LangGraph</em>***</li>
<li><em><strong>æ–‡æ¡£é“¾æ¥ï¼š</strong> *** LangGraph</em>***</li>
</ul>
<h4 data-id="heading-6">2.3 CrewAI</h4>
<p><strong>CrewAI</strong>Â æ˜¯è§’è‰²æ‰®æ¼”AI agentç¼–æ’æ¡†æ¶ï¼Œå…è®¸å¼€å‘è€…åˆ›å»ºå…·æœ‰ç‰¹å®šèŒè´£çš„AI"å›¢é˜Ÿ"æ¥åä½œå¤„ç†å¤æ‚ä»»åŠ¡ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦å¤šé¢†åŸŸä¸“ä¸šçŸ¥è¯†çš„ååŒç³»ç»Ÿã€‚</p>
<ul>
<li><em><strong>GitHubé“¾æ¥ï¼š</strong> *** CrewAI GitHub</em>***</li>
<li><em><strong>æ–‡æ¡£ï¼š</strong> *** CrewAI</em>***</li>
</ul>
<h4 data-id="heading-7">2.4 Microsoft Semantic Kernel</h4>
<p><strong>Microsoft Semantic Kernel</strong>Â æ—¨åœ¨å¼¥åˆä¼ ç»Ÿè½¯ä»¶å¼€å‘ä¸AIèƒ½åŠ›ä¹‹é—´çš„é¸¿æ²Ÿã€‚å®ƒç‰¹åˆ«ä¸“æ³¨äºå°†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰é›†æˆåˆ°ç°æœ‰åº”ç”¨ä¸­ã€‚è¯¥æ¡†æ¶ä¸ºå¼€å‘è€…æä¾›äº†åœ¨ä¸å®Œå…¨é‡æ„ç°æœ‰ä»£ç åº“çš„æƒ…å†µä¸‹æ•´åˆAIåŠŸèƒ½çš„å·¥å…·ã€‚</p>
<p>è¯¥SDKçš„è½»é‡çº§ç‰¹æ€§å’Œå¯¹å¤šç¼–ç¨‹è¯­è¨€çš„æ”¯æŒä½¿å…¶èƒ½é«˜åº¦é€‚åº”å„ç§å¼€å‘ç¯å¢ƒã€‚å…¶ç¼–æ’å™¨å…è®¸ç®¡ç†å¤æ‚çš„å¤šæ­¥éª¤AIä»»åŠ¡ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿåœ¨åº”ç”¨ä¸­åˆ›å»ºå¤æ‚çš„AIé©±åŠ¨å·¥ä½œæµã€‚</p>
<ul>
<li><em><strong>GitHub é“¾æ¥:</strong> *** Microsoft Semantic Kernal</em>***</li>
<li><em><strong>æ–‡æ¡£é“¾æ¥:</strong> *** Microsoft Semantics Kernel</em>***</li>
</ul>
<h4 data-id="heading-8">2.5 Microsoft AutoGen</h4>
<p><strong>Microsoft AutoGen</strong>Â æ˜¯ä¸€ä¸ªç”¨äºæ„å»ºé«˜çº§AI Agent å’Œå¤š Agent ç³»ç»Ÿçš„å¼€æºæ¡†æ¶ã€‚ç”±å¾®è½¯ç ”ç©¶é™¢å¼€å‘ï¼ŒAutoGenä¸ºåˆ›å»ºå¯¹è¯å¼å’Œä»»åŠ¡å®Œæˆå‹AIåº”ç”¨æä¾›äº†çµæ´»è€Œå¼ºå¤§çš„å·¥å…·åŒ…ã€‚å®ƒå¼ºè°ƒæ¨¡å—åŒ–ã€å¯æ‰©å±•æ€§å’Œæ˜“ç”¨æ€§ï¼Œä½¿å¼€å‘è€…èƒ½å¤Ÿé«˜æ•ˆæ„å»ºå¤æ‚çš„AIç³»ç»Ÿã€‚</p>
<ul>
<li><em><strong>æ–‡æ¡£:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fmicrosoft.github.io%2Fautogen%2Fstable%2Fuser-guide%2Fagentchat-user-guide%2F" target="_blank" title="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/" ref="nofollow noopener noreferrer">microsoft.github.io/autogen/staâ€¦</a></em>***</li>
<li><em><strong>GitHub é“¾æ¥:</strong> *** Microsoft Autogen</em>***</li>
</ul>
<h4 data-id="heading-9">2.6 Smolagents</h4>
<p>Smolagentsæ˜¯ä¸€ä¸ªå°–ç«¯çš„å¼€æºæ¡†æ¶ï¼Œæ—¨åœ¨å½»åº•æ”¹å˜AIÂ Agent çš„å¼€å‘ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›äº†æ„å»ºæ™ºèƒ½åä½œå¤šÂ Agent ç³»ç»Ÿçš„å…¨é¢å·¥å…·åŒ…ã€‚è¯¥æ¡†æ¶æ³¨é‡çµæ´»æ€§å’Œæ¨¡å—åŒ–ï¼Œæ”¯æŒåˆ›å»ºå¯ä»¥ç‹¬ç«‹è¿è¡Œæˆ–åœ¨äººç±»ç›‘ç£ä¸‹åä½œçš„å¤æ‚AIç³»ç»Ÿã€‚</p>
<ul>
<li><em><strong>æ–‡æ¡£:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdocs%2Fsmolagents%2Fen%2Findex" target="_blank" title="https://huggingface.co/docs/smolagents/en/index" ref="nofollow noopener noreferrer">huggingface.co/docs/smolagâ€¦</a></em>***</li>
<li><em><strong>GitHub é“¾æ¥:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhuggingface%2Fsmolagents" target="_blank" title="https://github.com/huggingface/smolagents" ref="nofollow noopener noreferrer">github.com/huggingfaceâ€¦</a></em>***</li>
</ul>
<h4 data-id="heading-10">2.7 AutoGPT</h4>
<p><strong>AutoGPT</strong>Â åŸºäºå¼ºå¤§çš„GPT-4è¯­è¨€æ¨¡å‹ï¼Œå¯ä»¥é€šè¿‡è¯­è¨€è¾“å…¥æ‰§è¡Œç›®æ ‡å¯¼å‘æ´»åŠ¨ï¼Œä»£è¡¨äº†è‡ªä¸»AIÂ Agent é¢†åŸŸçš„é‡å¤§è¿›æ­¥ã€‚è¿™ä¸ªå°–ç«¯AIåŠ©æ‰‹å°†å†³ç­–èƒ½åŠ›æå‡åˆ°æ–°é«˜åº¦ï¼Œè¶…è¶Šäº†åŸºæœ¬åå°„ä»£ç†ï¼Œæ•´åˆäº†ä½¿å…¶åœ¨å„ç§åº”ç”¨ä¸­æˆä¸ºæ— ä»·å·¥å…·çš„å¤æ‚åŠŸèƒ½ã€‚</p>
<ul>
<li><em><strong>æ–‡æ¡£:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fdocs%2Fsmolagents%2Fen%2Findex" target="_blank" title="https://huggingface.co/docs/smolagents/en/index" ref="nofollow noopener noreferrer">huggingface.co/docs/smolagâ€¦</a></em>***</li>
<li><em><strong>GitHub é“¾æ¥:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhuggingface%2Fsmolagents" target="_blank" title="https://github.com/huggingface/smolagents" ref="nofollow noopener noreferrer">github.com/huggingfaceâ€¦</a></em>***</li>
</ul>
<h4 data-id="heading-11">2.8 Agno (Phidata)</h4>
<p>æˆ‘ä»¬å°†è®¨è®ºçš„æœ€åä¸€ä¸ªAI Agentæ¡†æ¶æ˜¯Â <strong>Phidata</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªå¤šæ¨¡æ€Â Agent æ¡†æ¶ï¼Œå¯ä»¥å¼€å‘æ‰§è¡Œåä½œçš„Â Agent ç³»ç»Ÿã€‚å®ƒä¹Ÿè¢«è®¾è®¡ä¸ºä¸å†…å­˜å’Œå·¥å…·ç­‰ç»„ä»¶ååŒå·¥ä½œï¼Œå¸®åŠ©Â Agent å®ç°è‡ªä¸»å’Œä¸€è‡´çš„æ“ä½œã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒPhidataÂ Agent æ”¯æŒæ–‡æœ¬ã€å›¾åƒå’ŒéŸ³é¢‘ç­‰å¤šæ¨¡æ€æ•°æ®ï¼Œè¿™ä½¿å¾—å®ƒä»¬æ— éœ€ä¾èµ–å¤–éƒ¨å·¥å…·å³å¯å‘æŒ¥ä»·å€¼ã€‚è¯¥æ¡†æ¶è¿˜æä¾›Agentic UIï¼Œæ–¹ä¾¿ç”¨æˆ·ä¸Â Agent è¿›è¡Œå¯è§†åŒ–äº¤äº’ã€‚å®ƒä»¬ä¹Ÿæ˜¯ç‡å…ˆå®ç°Agentic RAGï¼ˆAgent å¯ä»¥æœç´¢çŸ¥è¯†åº“ï¼‰çš„æ¡†æ¶ä¹‹ä¸€ã€‚</p>
<ul>
<li><em><strong>æ–‡æ¡£:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.phidata.com%2Fintroduction" target="_blank" title="https://docs.phidata.com/introduction" ref="nofollow noopener noreferrer">docs.phidata.com/introductioâ€¦</a></em>***</li>
<li><em><strong>GitHub é“¾æ¥:</strong> *** <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fagno-agi%2Fphidata" target="_blank" title="https://github.com/agno-agi/phidata" ref="nofollow noopener noreferrer">github.com/agno-agi/phâ€¦</a></em>***</li>
</ul>
<hr/>
<h3 data-id="heading-12">3.  <strong>AIä»£ç†æ¡†æ¶å¯¹æ¯”</strong></h3>
<hr/>
<p>ä»¥ä¸‹å›¾è¡¨å¯¹æœ¬æ–‡è®¨è®ºçš„å…³é”®AI Agent æ¡†æ¶è¿›è¡Œäº†é«˜å±‚æ¬¡å¯¹æ¯”ã€‚æ­¤å¯¹æ¯”æ—¨åœ¨çªå‡ºæ¯ä¸ªæ¡†æ¶çš„ç‹¬ç‰¹ä¼˜åŠ¿å’Œé‡ç‚¹é¢†åŸŸï¼Œå¸®åŠ©å¼€å‘è€…å’Œç ”ç©¶äººå‘˜æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea4e345e685e49d4ba26a97eb1995951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955603&amp;x-signature=qy8pOe%2B3fNJxEn1HfXQ8YRR5JR4%3D" alt="" loading="lazy"/></p>
<p>å›¾ç‰‡æ¸…æ™°åº¦è¾ƒå·®ï¼Œä¸‹è¡¨ä¹Ÿä»ä¸€äº›æ ¸å¿ƒç»´åº¦å¯¹å„æ¡†æ¶åšä¸ªå¯¹æ¯”ï¼š</p>















































<table><thead><tr><th>æ¡†æ¶</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th><th>å­¦ä¹ æ›²çº¿</th><th>ç¤¾åŒºæ´»è·ƒåº¦</th></tr></thead><tbody><tr><td>LangGraph</td><td>å¯è§†åŒ–å·¥ä½œæµç¼–æ’</td><td>å¤æ‚çŠ¶æ€ç®¡ç†åº”ç”¨</td><td>ä¸­ç­‰</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>CrewAI</td><td>è§’è‰²é©±åŠ¨åä½œ</td><td>å¤šä¸“å®¶ç³»ç»Ÿæ„å»º</td><td>ä½</td><td>â˜…â˜…â˜…â˜†â˜†</td></tr><tr><td>Semantic Kernel</td><td>ä¼ ç»Ÿç³»ç»Ÿé›†æˆ</td><td>ä¼ä¸šçº§åº”ç”¨æ”¹é€ </td><td>é«˜</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>AutoGen</td><td>å¯¹è¯ç³»ç»Ÿä¸“ä¸šåŒ–</td><td>å®¢æœ/è™šæ‹ŸåŠ©æ‰‹å¼€å‘</td><td>ä¸­ç­‰</td><td>â˜…â˜…â˜…â˜…â˜†</td></tr><tr><td>Smolagents</td><td>è½»é‡çº§å¿«é€ŸåŸå‹</td><td>åˆåˆ›é¡¹ç›®/PoCéªŒè¯</td><td>ä½</td><td>â˜…â˜…â˜†â˜†â˜†</td></tr></tbody></table>
<h3 data-id="heading-13">4.  <strong>æ·±å…¥æ¢ç©¶LangGraph</strong></h3>
<hr/>
<p>LangGraphæ˜¯ç”±LangChainå›¢é˜Ÿæ„å»ºçš„åº“ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…åˆ›å»ºåŸºäºå›¾çš„å•Â Agent æˆ–å¤šÂ Agent AIåº”ç”¨ã€‚ä½œä¸ºä¸€ä¸ªåº•å±‚æ¡†æ¶ï¼ŒLangGraphå…è®¸å¼€å‘è€…æ§åˆ¶Â Agent é—´çš„äº¤äº’æ–¹å¼ã€å·¥å…·é€‰æ‹©ä»¥åŠåº”ç”¨å†…çš„ä¿¡æ¯æµã€‚</p>
<h4 data-id="heading-14">4.1Â <strong>ä»€ä¹ˆæ˜¯å›¾ï¼ˆGraphï¼‰ï¼Ÿ</strong></h4>
<p>æƒ³è±¡ä½ æœ‰ä¸€ç»„æ•°æ®ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªç½‘ç»œè¡¨ç¤ºï¼Œå…¶ä¸­æ¯ä¸ªæ•°æ®æˆ–å®ä½“ä¸å…¶ä»–æ•°æ®æˆ–å®ä½“å­˜åœ¨å¤šç§ç±»å‹çš„å…³ç³»ï¼ˆä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šç­‰ï¼‰ã€‚å›¾ç”±ä¸¤ä¸ªä¸»è¦ç»„ä»¶æ„æˆï¼š<strong>èŠ‚ç‚¹ï¼ˆNodesï¼‰</strong> å’Œ<strong>è¾¹ï¼ˆEdgesï¼‰</strong> ã€‚</p>
<p>å›¾çš„ä¸¤ç§ç±»å‹ï¼š</p>
<ul>
<li>
<p><strong>æœ‰å‘å›¾</strong></p>
<p>è¾¹å…·æœ‰æ–¹å‘æ€§ï¼Œè¡¨ç¤ºèŠ‚ç‚¹é—´çš„æµå‘æˆ–å…³ç³»ï¼ˆä¾‹å¦‚ç¤¾äº¤åª’ä½“ä¸Šçš„å…³æ³¨å…³ç³»ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ— å‘å›¾</strong></p>
<p>è¾¹æ— æ–¹å‘æ€§ï¼Œè¡¨ç¤ºå¯¹ç§°å…³ç³»ï¼ˆä¾‹å¦‚LinkedInä¸Šçš„è¿æ¥å…³ç³»ï¼‰ã€‚</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cca387e4a3034048a2084cd2a031f5a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955603&amp;x-signature=7bozvAf1W58PLUaXOaUB1G5BhZc%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">4.2Â <strong>æ ¸å¿ƒæ¦‚å¿µ</strong></h4>
<h5 data-id="heading-16">4.2.1Â <strong>å›¾ç»“æ„</strong></h5>
<p>LangGraphçš„è®¾è®¡æ ¸å¿ƒæ˜¯åº”ç”¨å·¥ä½œæµçš„å›¾è¡¨ç¤ºã€‚è¯¥å›¾åŒ…å«ä¸¤ä¸ªä¸»è¦å…ƒç´ ï¼š</p>
<ul>
<li>
<p><strong>èŠ‚ç‚¹</strong></p>
<p>å·¥ä½œçš„æ„å»ºæ¨¡å—ï¼šæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨åº”ç”¨ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å·¥ä½œå•å…ƒæˆ–æ“ä½œã€‚è¿™äº›èŠ‚ç‚¹æœ¬è´¨ä¸Šæ˜¯å°è£…ç‰¹å®šä»»åŠ¡çš„Pythonå‡½æ•°ï¼Œä¾‹å¦‚ï¼š</p>
</li>
</ul>

<ul>
<li>ç›´æ¥ä¸LLMäº¤äº’ä»¥ç”Ÿæˆæ–‡æœ¬æˆ–æ‘˜è¦ã€‚</li>
<li>è°ƒç”¨å¤–éƒ¨å·¥å…·æˆ–APIè·å–æ•°æ®ã€‚</li>
<li>æ•°æ®æ ¼å¼åŒ–ã€è¿‡æ»¤æˆ–è½¬æ¢ã€‚</li>
<li>ä¸ç”¨æˆ·äº¤äº’è·å–è¾“å…¥æˆ–æ˜¾ç¤ºä¿¡æ¯ã€‚</li>
</ul>

<ul>
<li>
<p><strong>è¾¹</strong></p>
<p>å¼•å¯¼ä¿¡æ¯æµå’Œæ§åˆ¶æµï¼šè¾¹ä½œä¸ºè¿æ¥å›¾çš„çº½å¸¦ï¼Œå»ºç«‹ä¿¡æ¯æµåŠ¨è·¯å¾„å’Œæ“ä½œé¡ºåºã€‚LangGraphæ”¯æŒå¤šç§è¾¹ç±»å‹ï¼š</p>
</li>
</ul>

<ul>
<li>
<p><strong>ç®€å•è¾¹</strong></p>
<p>è¡¨ç¤ºèŠ‚ç‚¹é—´çš„ç›´æ¥æ— æ¡ä»¶æµåŠ¨ï¼Œå‰ä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªèŠ‚ç‚¹çš„è¾“å…¥ï¼Œå½¢æˆçº¿æ€§æµç¨‹ã€‚</p>
</li>
<li>
<p><strong>æ¡ä»¶è¾¹</strong></p>
<p>åŸºäºç‰¹å®šèŠ‚ç‚¹æ“ä½œç»“æœåŠ¨æ€åˆ†æ”¯æµç¨‹ã€‚ä¾‹å¦‚æ ¹æ®ç”¨æˆ·å“åº”å†³å®šç»ˆæ­¢äº¤äº’æˆ–è°ƒç”¨å·¥å…·ã€‚</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b1a77766d054ea684bb90a09275b08b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955603&amp;x-signature=yfx6o2HrGiiaShlZoq%2FrPlLQx9k%3D" alt="" loading="lazy"/></p>
<h5 data-id="heading-17">4.2.2Â <strong>çŠ¶æ€ç®¡ç†</strong></h5>
<p>LangGraphé€šè¿‡è‡ªåŠ¨çŠ¶æ€ç®¡ç†ç¡®ä¿å¤šÂ Agent ç³»ç»Ÿå…±äº«å¯¹ä»»åŠ¡å½“å‰çŠ¶æ€çš„ç»Ÿä¸€ç†è§£ã€‚è¯¥åº“è‡ªåŠ¨è·Ÿè¸ªå’Œæ›´æ–°ä¸­å¤®çŠ¶æ€å¯¹è±¡ï¼ŒçŠ¶æ€å¯¹è±¡å­˜å‚¨å…³é”®ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>
<p><strong>å¯¹è¯å†å²</strong></p>
<p>èŠå¤©åº”ç”¨ä¸­å­˜å‚¨ç”¨æˆ·ä¸æœºå™¨äººçš„å¯¹è¯ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li>
<p><strong>ä¸Šä¸‹æ–‡æ•°æ®</strong></p>
<p>ç”¨æˆ·åå¥½ã€å†å²è¡Œä¸ºæˆ–ç›¸å…³å¤–éƒ¨æ•°æ®ã€‚</p>
</li>
<li>
<p><strong>å†…éƒ¨å˜é‡</strong></p>
<p>Agent ä½¿ç”¨çš„å†…éƒ¨æ ‡å¿—ã€è®¡æ•°å™¨ç­‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-18">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[12 èŠ‚è¯¾è§£é” AI Agentsï¼Œè®©AIæ›¿ä½ æ‰“å·¥ï¼ˆå››ï¼‰ï¼šæ¡†æ¶ä¹‹å®è·µç¯‡]]></title>    <link>https://juejin.cn/post/7573180788578566185</link>    <guid>https://juejin.cn/post/7573180788578566185</guid>    <pubDate>2025-11-17T03:40:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573180788578566185" data-draft-id="7572048000303022121" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="12 èŠ‚è¯¾è§£é” AI Agentsï¼Œè®©AIæ›¿ä½ æ‰“å·¥ï¼ˆå››ï¼‰ï¼šæ¡†æ¶ä¹‹å®è·µç¯‡"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-11-17T03:40:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            12 èŠ‚è¯¾è§£é” AI Agentsï¼Œè®©AIæ›¿ä½ æ‰“å·¥ï¼ˆå››ï¼‰ï¼šæ¡†æ¶ä¹‹å®è·µç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:40:10.000Z" title="Mon Nov 17 2025 03:40:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç”±äºæœ¬ç« èŠ‚å†…å®¹è¾ƒå¤šï¼Œå°†ä¼šæ‹†åˆ†æˆä¸¤ç¯‡æ–‡ç« è¿›è¡Œè®²è§£ã€‚ç¬¬ä¸€ç¯‡æ˜¯ç†è®ºç¯‡ï¼Œä¸»è¦ä»‹ç»Agenticæ¡†æ¶æœºå™¨å¯¹æ¯”ã€æ ¸å¿ƒæ¦‚å¿µå’ŒåŸç†ï¼›ç¬¬äºŒç¯‡æ˜¯å®æˆ˜ç¯‡ï¼Œå°†é€šè¿‡å®é™…æ¡ˆä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨LangGraphæ„å»ºèŠå¤©æœºå™¨äººï¼Œå¹¶æ¢è®¨å…¶åœ¨å®é™…åº”ç”¨ä¸­çš„ä¼˜åŠ¿ã€‚</p>
</blockquote>
<h2 data-id="heading-0">æœ¬ç¯‡ä¸ºå®æˆ˜ç¯‡ã€‚</h2>
<h3 data-id="heading-1">5.  <strong>LangGraphå®æˆ˜</strong></h3>
<hr/>
<h4 data-id="heading-2">5.1Â <strong>å®‰è£…</strong></h4>
<p>åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…LangGraphï¼š</p>
<pre><code class="hljs">1pip install -U langgraph
</code></pre>
<h4 data-id="heading-3">5.2Â <strong>åˆ›å»ºåŸºç¡€èŠå¤©æœºå™¨äºº</strong></h4>
<p><strong>1. å¯¼å…¥åº“</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">1<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-title class_">Annotated</span>
â€‹
2<span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> <span class="hljs-title class_">TypedDict</span>
â€‹
3<span class="hljs-keyword">from</span> langgraph.<span class="hljs-property">graph</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">StateGraph</span>, <span class="hljs-variable constant_">START</span>, <span class="hljs-variable constant_">END</span>
â€‹
4<span class="hljs-keyword">from</span> langgraph.<span class="hljs-property">graph</span>.<span class="hljs-property">message</span> <span class="hljs-keyword">import</span> add_messages
</code></pre>
<p><strong>2. å®šä¹‰çŠ¶æ€ç»“æ„</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">1</span><span class="hljs-function"><span class="hljs-keyword">class</span> <span class="hljs-title">State</span><span class="hljs-params">(TypedDict)</span>:
â€‹
<span class="hljs-number">2</span> Â   messages: Annotated[list, add_messages]
â€‹
<span class="hljs-number">3</span>
â€‹
<span class="hljs-number">4</span>graph_builder =</span> <span class="hljs-built_in">StateGraph</span>(State)
</code></pre>
<p><strong>3. åˆå§‹åŒ–LLM</strong></p>
<pre><code class="hljs language-ini" lang="ini">1from langchain_anthropic import ChatAnthropic
â€‹
2
â€‹
<span class="hljs-attr">3llm</span> = ChatAnthropic(model=<span class="hljs-string">"claude-3-5-sonnet-20240620"</span>)
</code></pre>
<p><strong>4. åˆ›å»ºèŠå¤©æœºå™¨äººèŠ‚ç‚¹</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">1</span><span class="hljs-function">def <span class="hljs-title">chatbot</span><span class="hljs-params">(state: State)</span>:
â€‹
<span class="hljs-number">2</span> Â   response =</span> llm.<span class="hljs-built_in">invoke</span>(state[<span class="hljs-string">"messages"</span>])
â€‹
<span class="hljs-number">3</span> Â   <span class="hljs-keyword">return</span> {<span class="hljs-string">"messages"</span>: [response]}
â€‹
<span class="hljs-number">4</span>
â€‹
<span class="hljs-number">5</span>graph_builder.<span class="hljs-built_in">add_node</span>(<span class="hljs-string">"chatbot"</span>, chatbot)
</code></pre>
<p><strong>5. å®šä¹‰å…¥å£å’Œç»ˆç‚¹</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-number">1</span>graph_builder.add_edge(<span class="hljs-keyword">START</span>, "chatbot")
â€‹
<span class="hljs-number">2</span>graph_builder.add_edge("chatbot", <span class="hljs-keyword">END</span>)
</code></pre>
<p><strong>6. ç¼–è¯‘å›¾</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">1graph</span> = graph_builder.compile()
</code></pre>
<p><strong>7. å¯è§†åŒ–å›¾ç»“æ„</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span><span class="hljs-selector-tag">from</span> IPython<span class="hljs-selector-class">.display</span> import Image, <span class="hljs-attribute">display</span>
â€‹
<span class="hljs-number">2</span>
â€‹
<span class="hljs-number">3</span>try:
â€‹
<span class="hljs-number">4</span> Â   <span class="hljs-built_in">display</span>(<span class="hljs-built_in">Image</span>(graph.<span class="hljs-built_in">get_graph</span>().<span class="hljs-built_in">draw_mermaid_png</span>()))
â€‹
<span class="hljs-number">5ex</span>cept Exception:
â€‹
<span class="hljs-number">6</span> Â   pass
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55517c3ed8b349239d0c383cfd6ecb5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955609&amp;x-signature=pFizhIGq8qOPHDAjrN014jiPfAQ%3D" alt="" loading="lazy"/></p>
<p><strong>8. è¿è¡ŒèŠå¤©æœºå™¨äºº</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-number">1</span>while True:

<span class="hljs-number">2</span>    user_input = <span class="hljs-built_in">input</span>(<span class="hljs-string">"User: "</span>)

<span class="hljs-number">3</span>    if user_input.<span class="hljs-built_in">lower</span>() in [<span class="hljs-string">"quit"</span>, <span class="hljs-string">"exit"</span>, <span class="hljs-string">"q"</span>]:

<span class="hljs-number">4</span>        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Goodbye!"</span>)

<span class="hljs-number">5</span>        break

<span class="hljs-number">6</span>

<span class="hljs-number">7</span>    for event in graph.<span class="hljs-built_in">stream</span>({"messages": [(<span class="hljs-string">"user"</span>, user_input)]}):

<span class="hljs-number">8</span>        for value in event.<span class="hljs-built_in">values</span>():

<span class="hljs-number">9</span>            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Assistant:"</span>, value[<span class="hljs-string">"messages"</span>][-<span class="hljs-number">1</span>].content)
</code></pre>
<h4 data-id="heading-4">5.3Â <strong>é«˜çº§æŠ€å·§ï¼šå·¥å…·é›†æˆ</strong></h4>
<p>å¢å¼ºèŠå¤©æœºå™¨äººèƒ½åŠ›ï¼Œä½¿å…¶æ”¯æŒç½‘ç»œæœç´¢ï¼ˆéœ€Tavily APIå¯†é’¥ï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">1</span>from langchain_community<span class="hljs-selector-class">.tools</span><span class="hljs-selector-class">.tavily_search</span> import TavilySearchResults

<span class="hljs-number">2</span>

<span class="hljs-number">3</span>tool = <span class="hljs-built_in">TavilySearchResults</span>(max_results=<span class="hljs-number">2</span>)

<span class="hljs-number">4</span>tools = <span class="hljs-selector-attr">[tool]</span>

<span class="hljs-number">5</span>llm_with_tools = llm<span class="hljs-selector-class">.bind_tools</span>(tools)

<span class="hljs-number">6</span>

<span class="hljs-number">7</span>def <span class="hljs-built_in">chatbot</span>(state: State):

<span class="hljs-number">8</span>    return {"messages": [llm_with_tools.<span class="hljs-built_in">invoke</span>(state[<span class="hljs-string">"messages"</span>])]}

<span class="hljs-number">9</span>

<span class="hljs-number">10</span>graph_builder<span class="hljs-selector-class">.add_node</span>("chatbot", chatbot)

<span class="hljs-number">11</span>

<span class="hljs-number">12</span>tool_node = <span class="hljs-built_in">ToolNode</span>(tools=[tool])

<span class="hljs-number">13</span>graph_builder<span class="hljs-selector-class">.add_node</span>("tools", tool_node)

<span class="hljs-number">14</span>

<span class="hljs-number">15</span>graph_builder<span class="hljs-selector-class">.add_conditional_edges</span>("chatbot", tools_condition)

<span class="hljs-number">16</span>graph_builder<span class="hljs-selector-class">.add_edge</span>("tools", "chatbot")
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c5c8606821f4405b1ddb99e8b05d20f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955609&amp;x-signature=RcFvHPGvZCZbodPSJS0oylwUzXg%3D" alt="" loading="lazy"/></p>
<ol start="6">
<li><strong>ä¸ºèŠå¤©æœºå™¨äººæ·»åŠ è®°å¿†</strong></li>
</ol>
<hr/>
<p>é€šè¿‡æ£€æŸ¥ç‚¹ç³»ç»Ÿå®ç°å¯¹è¯å†å²è®°å¿†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">1from langgraph.checkpoint.memory import MemorySaver

2

<span class="hljs-attr">3memory</span> = MemorySaver()

<span class="hljs-attr">4graph</span> = graph_builder.compile(checkpointer=memory)

5

<span class="hljs-attr">6config</span> = {<span class="hljs-string">"configurable"</span>: {<span class="hljs-string">"thread_id"</span>: <span class="hljs-string">"1"</span>}}  <span class="hljs-comment"># æ¯ä¸ªthread_idå¯¹åº”ç‹¬ç«‹å¯¹è¯å†å²</span>

7

8while True:

9    <span class="hljs-attr">user_input</span> = input(<span class="hljs-string">"User: "</span>)

10    <span class="hljs-comment"># ...ï¼ˆåŒä¸Šï¼‰</span>

11    for event in graph.stream({"messages": <span class="hljs-section">[("user", user_input)]</span>}, config):

12        <span class="hljs-comment"># ...ï¼ˆåŒä¸Šï¼‰</span>
</code></pre>
<p>7.  <strong>äººæœºååŒï¼ˆHuman in the Loopï¼‰</strong></p>
<hr/>
<p>åœ¨å·¥å…·è°ƒç”¨å‰æš‚åœæµç¨‹ï¼Œå…è®¸äººå·¥å®¡æ ¸ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">1graph</span> = graph_builder.compile(

2    <span class="hljs-attr">checkpointer</span>=memory,

3    <span class="hljs-attr">interrupt_before</span>=[<span class="hljs-string">"tools"</span>]  <span class="hljs-comment"># åœ¨è°ƒç”¨å·¥å…·å‰ä¸­æ–­</span>

4)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f768d2ae41f441291c75e7bac877ef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763955609&amp;x-signature=jglKE5HxgcvMCxwYl%2BsZx9ZQcO8%3D" alt="" loading="lazy"/></p>
<ol start="8">
<li><strong>LangGraphå®é™…åº”ç”¨åœºæ™¯</strong></li>
</ol>
<hr/>
<ul>
<li>
<p><strong>æ™ºèƒ½å®¢æœ</strong></p>
<p>è®°å¿†ç”¨æˆ·è®¢å•å†å²ï¼Œå¤„ç†é€€è´§æˆ–å‡çº§é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>ç ”ç©¶åŠ©æ‰‹</strong></p>
<p>è‡ªåŠ¨æ£€ç´¢è®ºæ–‡ï¼Œæ€»ç»“å…³é”®å‘ç°ã€‚</p>
</li>
<li>
<p><strong>ä¸ªæ€§åŒ–æ•™è‚²</strong></p>
<p>åŠ¨æ€è°ƒæ•´å­¦ä¹ è®¡åˆ’ï¼Œæ¨èèµ„æºã€‚</p>
</li>
<li>
<p><strong>ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–</strong></p>
<p>æ–‡æ¡£å®¡æ‰¹ã€æ•°æ®åˆ†æå’Œé¡¹ç›®ç®¡ç†ã€‚</p>
</li>
</ul>
<ol start="9">
<li><strong>ç»“è®º</strong></li>
</ol>
<hr/>
<p>AIÂ Agent æ¡†æ¶æ­£åœ¨é‡å¡‘AIç³»ç»Ÿçš„æ„å»ºæ–¹å¼ï¼Œä½¿è‡ªä¸»Â Agent èƒ½å¤ŸåŠ¨æ€æ¨ç†ã€è§„åˆ’å’Œäº¤äº’ã€‚é€šè¿‡å¯¹æ¯”ä¸»æµæ¡†æ¶å¹¶æ·±å…¥å‰–æLangGraphçš„å›¾ç»“æ„ä¸çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•æ„å»ºå…·å¤‡è®°å¿†ã€å·¥å…·é›†æˆå’ŒäººæœºååŒèƒ½åŠ›çš„å¤æ‚ç³»ç»Ÿã€‚éšç€æŠ€æœ¯è¿›æ­¥ï¼Œè¿™ç±»æ¡†æ¶å°†æˆä¸ºå¼€å‘è‡ªé€‚åº”ã€äº¤äº’å¼AIåº”ç”¨çš„æ ¸å¿ƒå·¥å…·ï¼Œæ¨åŠ¨ä»é™æ€æµç¨‹åˆ°åŠ¨æ€æ™ºèƒ½çš„èŒƒå¼è½¬å˜ã€‚</p>
<h3 data-id="heading-5">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è±†ç“£è¯„åˆ† 9.4ï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šäººéƒ½åœ¨æ¨èè¿™æœ¬ä¹¦ï¼Ÿå‡ é¡µå°±èƒ½è®©ä½ çœ‹æ‡‚ï¼]]></title>    <link>https://juejin.cn/post/7573193563054145577</link>    <guid>https://juejin.cn/post/7573193563054145577</guid>    <pubDate>2025-11-17T03:59:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573193563054145577" data-draft-id="7573187591224000566" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è±†ç“£è¯„åˆ† 9.4ï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šäººéƒ½åœ¨æ¨èè¿™æœ¬ä¹¦ï¼Ÿå‡ é¡µå°±èƒ½è®©ä½ çœ‹æ‡‚ï¼"/> <meta itemprop="keywords" content="LLM,ç¨‹åºå‘˜,Agent"/> <meta itemprop="datePublished" content="2025-11-17T03:59:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è±†ç“£è¯„åˆ† 9.4ï¼Œä¸ºä»€ä¹ˆå¾ˆå¤šäººéƒ½åœ¨æ¨èè¿™æœ¬ä¹¦ï¼Ÿå‡ é¡µå°±èƒ½è®©ä½ çœ‹æ‡‚ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T03:59:12.000Z" title="Mon Nov 17 2025 03:59:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote>
<p>ä½œä¸ºä¸€ä¸ªå¯¹ LLM å·¥ä½œåŸç†å¾ˆæ„Ÿå…´è¶£ï¼Œä½†åˆå¸¸å¸¸è¢«å„ç§é›¶æ•£æ•™ç¨‹ç»•æ™•çš„äººï¼Œæˆ‘è¯»å®Œ Sebastian Raschka çš„ã€Š<code>ä»é›¶æ„å»ºå¤§æ¨¡å‹</code>ã€‹ä¹‹åï¼Œå…¶å®æŒºæ¾ä¸€å£æ°”çš„ã€‚</p>
<p>æˆ‘åŸæœ¬ä»¥ä¸ºè¿™æœ¬ä¹¦è¦ä¹ˆä¼šè¿‡åº¦ç®€åŒ–ã€è¦ä¹ˆä¼šé«˜åº¦æŠ½è±¡ï¼Œç”šè‡³å¯èƒ½å‡ºç°é‚£ç§ä½ å…ˆæ¥å—è¿™ä¸ªå…¬å¼å°±å¥½çš„ç„ä¹è®²æ³•ï¼Œä½†å®ƒå…¶å®å¾ˆè¸å®ï¼Œä»æœ€åŸºç¡€çš„æ¨¡å—å¼€å§‹è®²èµ·ï¼Œä¸€æ­¥æ­¥å¸¦ä½ æŠŠæ¨¡å‹æ­å‡ºæ¥ã€‚</p>
<h2 data-id="heading-0"><strong>01</strong> ä¿¡æ¯é‡å¤Ÿï¼Œä¸ä¼šå‹å¾—äººå–˜ä¸è¿‡æ°”</h2>
<p>æ•´æœ¬ä¹¦çš„ä¿¡æ¯é‡ç®—å¤§ï¼Œä½†å†…å®¹ç»„ç»‡å¾—æŒºæ¸…æ¥šã€‚ä½œè€…æ²¡æœ‰ä¸€ä¸Šæ¥å°±æŠŠä¸€å †æœ¯è¯­ã€æ¶æ„å¾€ä½ è„¸ä¸Šç ¸ï¼Œè€Œæ˜¯æ›´åƒå¸®ä½ æ­å¥½ç§¯æœ¨çš„åº•å±‚ï¼Œç„¶åå¸¦ç€ä½ ä¸€æ­¥æ­¥å¾€ä¸Šæ­ã€‚</p>
<p>é˜…è¯»è¿‡ç¨‹ä¸­æˆ‘å¶å°”ä¹Ÿä¼šå¡ä½ï¼Œä½†ä¸ä¼šæœ‰é‚£ç§å®Œå…¨ä¸çŸ¥é“è‡ªå·±åœ¨çœ‹ä»€ä¹ˆçš„å´©æºƒæ„Ÿã€‚</p>
<h2 data-id="heading-1"><strong>02</strong> è§£é‡Šè¯¦ç»†ä½†æ˜¯ä¸èŠ±å“¨</h2>
<p>Raschka å¯¹ Transformer çš„ç»†èŠ‚è®²å¾—æŒºé€ï¼Œæ¯”å¦‚æ³¨æ„åŠ›æœºåˆ¶ã€æ¢¯åº¦é—®é¢˜ä¹‹ç±»çš„ï¼Œä»–ä¼šè§£é‡Šï¼Œä¹Ÿä¼šç»™ä¾‹å­ï¼Œä½†ä¸ä¼šä¸ºäº†ç‚«æŠ€è€Œå †å¾ˆå¤šæ•°å­¦æ¨å¯¼ã€‚å¯¹æˆ‘è¿™æ ·åªæ˜¯æƒ³ææ‡‚å…¶ä¸­é€»è¾‘çš„äººæ¥è¯´ï¼Œè¿™ç§å¹³è¡¡åˆšå¥½ã€‚</p>
<p>ä¸è¿‡å¦‚æœä½ æœ¬èº«å°±æƒ³å®Œå…¨è·³è¿‡æ•°å­¦ï¼Œå¯èƒ½è¿˜æ˜¯ä¼šè§‰å¾—æœ‰ç‚¹é‡ã€‚ç›¸åï¼Œå¦‚æœä½ æƒ³è¦éå¸¸æ·±å…¥çš„ç†è®ºæ¨å¯¼ï¼Œè¿™æœ¬ä¹¦ä¸æ˜¯è®ºæ–‡é£é‚£ç§æ·±åº¦ï¼Œå®Œå…¨èƒ½å¤Ÿç†è§£ã€‚</p>
<h2 data-id="heading-2"><strong>03</strong> èƒ½è·‘ï¼Œæ˜¯è¿™æœ¬ä¹¦æœ€å¤§çš„äº®ç‚¹ä¹‹ä¸€</h2>
<p>è¿™æœ¬ä¹¦å¯¹æˆ‘æ¥è¯´æœ€å®ç”¨çš„åœ°æ–¹å°±æ˜¯ä»£ç éƒ½èƒ½è·‘ï¼Œè€Œä¸”ç»“æ„éå¸¸æ¸…æ™°ã€‚å¦‚æœä½ æ˜¯é‚£ç§å–œæ¬¢è¾¹çœ‹è¾¹æ•²çš„è¯»è€…ï¼Œè¿™æœ¬ä¹¦çš„ä»£ç ä½“éªŒä¼šè®©äººæ”¾æ¾ä¸å°‘â€”â€”è‡³å°‘æˆ‘æ²¡æœ‰é‡åˆ°é‚£ç§è·‘ä¸é€šç„¶åèŠ±ä¸¤å°æ—¶æ‰¾é—®é¢˜çš„å´©æºƒæƒ…å†µã€‚</p>
<p>å½“ç„¶ï¼Œå› ä¸ºæ˜¯ä»é›¶å¼€å§‹å†™ä¸€ä¸ªå°å‹ GPTï¼Œä»£ç é‡å…¶å®ä¸ç®—å°‘ï¼Œè¿™éƒ¨åˆ†éœ€è¦ä½ æ„¿æ„èŠ±ç‚¹æ—¶é—´å»è·Ÿç€æ“ä½œæ‰è¡Œã€‚</p>
<h2 data-id="heading-3"><strong>04</strong> è¦†ç›–æ•´ä¸ªæµç¨‹ï¼Œä¸åªæ˜¯æ•™ä½ æ­ä¸ªæ¨¡å‹</h2>
<p>ä¹¦é‡Œä»æ•°æ®å‡†å¤‡åˆ°é¢„è®­ç»ƒã€å†åˆ°å¾®è°ƒä»»åŠ¡ï¼ˆæ¯”å¦‚æ–‡æœ¬åˆ†ç±»ã€æŒ‡ä»¤è·Ÿéšï¼‰éƒ½æœ‰æ¶‰åŠã€‚å®ƒä¸ä¼šè®©ä½ å˜æˆ LLM å¤§ç¥ï¼Œä½†èƒ½ç»™ä½ ä¸€ä¸ªæ¯”è¾ƒå®Œæ•´çš„å¼€å‘æµç¨‹å°è±¡ï¼Œè®©ä½ è‡³å°‘çŸ¥é“ä¸€ä¸ªæ¨¡å‹ä»å¤´åˆ°å°¾éƒ½ç»å†äº†ä»€ä¹ˆã€‚è¿™å¯¹ä½ ä¹‹åè®­ç»ƒè‡ªå·±çš„å¤§æ¨¡å‹å¾ˆæœ‰å¸®åŠ©ã€‚æˆ‘æŒºå–œæ¬¢è¿™ä¸€ç‚¹ï¼Œå› ä¸ºå®ƒå¹¶ä¸åªå…³æ³¨æ¨¡å‹æœ¬ä½“ï¼Œè€Œæ˜¯å…³æ³¨æ•´ä¸ªå®é™…ä½¿ç”¨çš„é“¾æ¡ã€‚</p>
<h2 data-id="heading-4"><strong>05</strong> ä½ ä¸ä¼šçªç„¶å¼€çªï¼Œä½†ä¼šå˜å¾—è¸å®</h2>
<h3 data-id="heading-5"><strong>è¯»å®Œä¹‹åï¼Œæˆ‘ä¸ä¼šè¯´è‡ªå·±å½»åº•æ‡‚äº†æ‰€æœ‰ LLM åŸç†ï¼Œä½†æœ‰ç§æˆ‘ç°åœ¨çŸ¥é“è¿™äº›ä¸œè¥¿æ˜¯æ€ä¹ˆè¿åœ¨ä¸€èµ·çš„æ„Ÿè§‰ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿™æ¯”è¿‡åº¦æ‰¿è¯ºçš„ä»å°ç™½åˆ°ä¸“å®¶æ›´çœŸå®ã€‚</strong></h3>
<p>å¦‚æœä½ æƒ³ä»é›¶æ‰‹å†™ä¸€ä¸ªå¯è¿è¡Œçš„å°å‹ GPTï¼Œæˆ–è€…æƒ³æŠŠé›¶æ•£çŸ¥è¯†æ•´åˆèµ·æ¥ï¼Œè¿™æœ¬ä¹¦ç¡®å®æŒºé€‚åˆã€‚</p>
<p>ä½†å¦‚æœä½ åªæ˜¯æƒ³çœ‹ç‚¹æ¦‚å¿µã€å¿«é€Ÿäº†è§£è¶‹åŠ¿ï¼Œé‚£å®ƒå¯èƒ½ä¼šæ¯”ä½ é¢„æœŸæ›´åŠ¨æ‰‹å‹ã€‚</p>
<h2 data-id="heading-6"><strong>06</strong> å…¨ç½‘ç–¯ä¼ çš„ã€Šä»é›¶æ„å»ºå¤§æ¨¡å‹ã€‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0e02f7ec50a458782717c1a52e68138~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956751&amp;x-signature=lZoCNUUZIkSoct7xW7z5CVI%2BGOY%3D" alt="" loading="lazy"/></p>
<p>è±†ç“£è¯„åˆ† 9.4ï¼Œå…¨ç½‘ç–¯ä¼ çš„å¤§æ¨¡å‹æ•™ç¨‹ï¼Œç”±ç•…é”€ä¹¦ä½œå®¶å¡å·´æ–¯è’‚å®‰â€¢æ‹‰æ–½å¡æ’°å†™ï¼Œé€šè¿‡æ¸…æ™°çš„æ–‡å­—ã€å›¾è¡¨å’Œå®ä¾‹ï¼Œé€æ­¥æŒ‡å¯¼è¯»è€…åˆ›å»ºè‡ªå·±çš„å¤§æ¨¡å‹ã€‚</p>
<p>åœ¨æœ¬ä¹¦ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•è§„åˆ’å’Œç¼–å†™å¤§æ¨¡å‹çš„å„ä¸ªç»„æˆéƒ¨åˆ†ã€ä¸ºå¤§æ¨¡å‹è®­ç»ƒå‡†å¤‡é€‚å½“çš„æ•°æ®é›†ã€è¿›è¡Œé€šç”¨è¯­æ–™åº“çš„é¢„è®­ç»ƒï¼Œä»¥åŠå®šåˆ¶ç‰¹å®šä»»åŠ¡çš„å¾®è°ƒã€‚æ­¤å¤–ï¼Œæœ¬ä¹¦è¿˜å°†æ¢è®¨å¦‚ä½•åˆ©ç”¨äººå·¥åé¦ˆç¡®ä¿å¤§æ¨¡å‹éµå¾ªæŒ‡ä»¤ï¼Œä»¥åŠå¦‚ä½•å°†é¢„è®­ç»ƒæƒé‡åŠ è½½åˆ°å¤§æ¨¡å‹ä¸­ã€‚è¿˜æœ‰æƒŠå–œå½©è›‹ DeepSeekï¼Œä½œè€…æ·±å…¥è§£ææ„å»ºä¸ä¼˜åŒ–æ¨ç†æ¨¡å‹çš„æ–¹æ³•å’Œç­–ç•¥ã€‚</p>
<p>ä½œè€…è®©ä½ ç”¨æœ€å°çš„ç®—åŠ›è·‘é€šæœ€å¤§çš„é€»è¾‘ï¼Œè€Œä½ åªè¦æ‹¥æœ‰ä¸€å°ç¬”è®°æœ¬ï¼Œå…·å¤‡ä¸€å®šçš„ Python åŸºç¡€ï¼Œé‚£ä½ éƒ½å¯ä»¥æ¥è¯•è¯•ï¼æœ¬ä¹¦ä¸­æ–‡ç‰ˆæ€ç»´å¯¼å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7516b8f9ca9e4a8f9feef059dcdf2248~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956751&amp;x-signature=UfeD6ASNwrZmeFvngGmYV02fPd8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58afab0095bd4daf94dfea074b18da62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763956751&amp;x-signature=R8jzhTviz81vy%2B3jKtqRNAvBl3E%3D" alt="" loading="lazy"/></p>
<p>ã€Šä»é›¶æ„å»ºå¤§æ¨¡å‹ä¹ é¢˜è§£ç­”ã€‹</p>
<p>å¡å·´æ–¯è’‚å®‰Â·æ‹‰æ–½å¡ | è‘—</p>
<p>ã€Šä»é›¶æ„å»ºå¤§æ¨¡å‹ä¹ é¢˜è§£ç­”ã€‹æ—¨åœ¨é€šè¿‡å¤šç§ç»ƒä¹ å’Œè‡ªæˆ‘è¯„ä¼°æ–¹å¼ï¼Œå¸®åŠ©è¯»è€…å·©å›ºå’Œæ·±åŒ–å¯¹å¤§è¯­è¨€æ¨¡å‹æ„å»ºè¿‡ç¨‹çš„ç†è§£ã€‚</p>
<p>ä¹¦ä¸­å†…å®¹å›´ç»•ã€Šä»é›¶æ„å»ºå¤§æ¨¡å‹ã€‹ä¸€ä¹¦çš„ç»“æ„å±•å¼€ï¼Œè¦†ç›–ä»£ç å’Œä¸»è¦æ¦‚å¿µé—®é¢˜ã€æ‰¹åˆ¤æ€§æ€ç»´ç»ƒä¹ ã€å•é¡¹é€‰æ‹©é¢˜ä»¥åŠç­”æ¡ˆè§£æç­‰å†…å®¹ã€‚</p>
<p>å»ºè®®è¯»è€…åœ¨é˜…è¯»ã€Šä»é›¶æ„å»ºå¤§æ¨¡å‹ã€‹ä¹‹åä»¥åŠå¤ä¹ é˜¶æ®µæ­é…ä½¿ç”¨è¿™æœ¬ä¹¦ï¼Œé€šè¿‡é‡å¤å­¦ä¹ çš„æ–¹å¼å·©å›ºçŸ¥è¯†ï¼Œå¹¶å°†å…¶ä¸å·²æœ‰çš„çŸ¥è¯†ä½“ç³»ç›¸èåˆã€‚</p>
<h2 data-id="heading-7">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fhy.zhipoai.cn%2F" target="_blank" title="https://hy.zhipoai.cn/" ref="nofollow noopener noreferrer">æ™ºæ³ŠAI</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AST åæ··æ·†å¤„ç†ç¤ºä¾‹]]></title>    <link>https://juejin.cn/post/7573193563044692022</link>    <guid>https://juejin.cn/post/7573193563044692022</guid>    <pubDate>2025-11-16T12:41:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7573193563044692022" data-draft-id="7572480736362184710" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AST åæ··æ·†å¤„ç†ç¤ºä¾‹"/> <meta itemprop="keywords" content="JavaScript,çˆ¬è™«"/> <meta itemprop="datePublished" content="2025-11-16T12:41:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Glommer"/> <meta itemprop="url" content="https://juejin.cn/user/847085484127432"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AST åæ··æ·†å¤„ç†ç¤ºä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/847085484127432/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Glommer
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T12:41:45.000Z" title="Sun Nov 16 2025 12:41:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡ç« åªåšæŠ€æœ¯æ¢è®¨, è¯·å‹¿ç”¨äºéæ³•ç”¨é€”ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>çˆ¬è™«åšå¤šäº†, è§åˆ°çš„æ··æ·†æƒ³å¿…ä¹Ÿä¸ä¼šå¤ªå°‘ã€‚ç®€å•çš„æ··æ·†ä»£ç , æˆ‘ä»¬å¯ä»¥ç¡¬é¡¶ç€è°ƒè¯•ä¸‹å»ã€‚ä½†æ˜¯å¯¹äºè¿‡äºå¤æ‚çš„æ··æ·†ä»£ç , ä¸å¦¨è¯•è¯•ç”¨ AST å·¥å…·, åæ··æ·†å¤„ç†åä¼šæ–¹ä¾¿å¾ˆå¤šã€‚</p>
<p>å…³äºæŠ€æœ¯æœ¬èº«, ä¸è¿›è¡Œè¿‡å¤šçš„ä»‹ç», æ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œç™¾åº¦ã€‚</p>
<p><strong>å…³äº AST çš„ä¸€äº›èµ„æ–™</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fastexplorer.net%2F" target="_blank" title="https://astexplorer.net/" ref="nofollow noopener noreferrer">astexplorer.net/</a> ï¼ˆè¯­æ³•è°ƒè¯•ï¼‰</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.babeljs.cn%2Fdocs" target="_blank" title="https://www.babeljs.cn/docs" ref="nofollow noopener noreferrer">www.babeljs.cn/docs</a> (nodejs çš„ AST æ“ä½œåº“ babel)</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbabel%2Fbabel%2Ftree%2Fmain" target="_blank" title="https://github.com/babel/babel/tree/main" ref="nofollow noopener noreferrer">github.com/babel/babelâ€¦</a> (babel æºç )</p>
<p>å¯¹ AST æœ‰äº†ç®€å•çš„äº†è§£ä¹‹å, è¿™é‡Œæˆ‘ä¼šä»¥ nodejs çš„ babel åº“ä¸ºä¸­å¿ƒ, ç®€å•èŠä¸€ä¸‹åœ¨å®é™…ä¸­å¦‚ä½•æ¥ä½¿ç”¨å®ƒã€‚</p>
<h2 data-id="heading-1">å®æˆ˜</h2>
<p>ä»Šå¤©ç”¨ AST æ¥å¤„ç†ä¸€ä¸‹ Akamai çš„åŠ å¯†, ä»£ç æ··æ·†ç¨‹åº¦å¾ˆé«˜, éƒ¨åˆ†æ··æ·†ä»£ç å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// éƒ¨åˆ†æ··æ·†ä»£ç ç¤ºä¾‹</span>
<span class="hljs-keyword">var</span> <span class="hljs-title class_">MZx</span> = <span class="hljs-keyword">new</span> (<span class="hljs-title class_">Fq</span>[<span class="hljs-title function_">K3</span>()[<span class="hljs-title function_">Y7</span>(<span class="hljs-title class_">Rt</span>)](kY, <span class="hljs-variable constant_">SM</span>, jXc)])(fL,<span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>])[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">Gb</span>)](<span class="hljs-title class_">Gb</span>, <span class="hljs-variable constant_">IR</span>, <span class="hljs-title class_">Mb</span>)](<span class="hljs-title function_">jb</span>()[<span class="hljs-title function_">E6</span>(<span class="hljs-title class_">Zs</span>)](zW, <span class="hljs-variable constant_">JT</span>, sA));
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Whc</span> = <span class="hljs-title class_">MZx</span>[<span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(tW)](lf, <span class="hljs-title class_">Jl</span>, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(fL)), <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(fL)))](<span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(j1)](wA, bh, <span class="hljs-title class_">Tz</span>, <span class="hljs-title function_">vt</span>([])));
<span class="hljs-keyword">var</span> wQx = <span class="hljs-title class_">MZx</span>[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [pg, <span class="hljs-variable constant_">P9</span>, rS])](<span class="hljs-title class_">Whc</span>[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">YA</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [qE, <span class="hljs-title class_">Rs</span>, tN])]);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">RVx</span> = <span class="hljs-title class_">MZx</span>[<span class="hljs-title function_">jt</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">CL</span>)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)](<span class="hljs-variable constant_">MY</span>, <span class="hljs-variable constant_">P9</span>, rS) : <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(kL)](<span class="hljs-title function_">vt</span>({}), <span class="hljs-title class_">Axc</span>, <span class="hljs-variable constant_">Z2</span>)](<span class="hljs-title class_">Whc</span>[<span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-title class_">Rz</span>)](vb, lr, dD, cR)]);
<span class="hljs-title class_">AXx</span> = <span class="hljs-title function_">P8</span>(X, [<span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(tW)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-title class_">Rg</span>)](kpc, rS, <span class="hljs-title class_">Dl</span>, <span class="hljs-title class_">Ob</span>) : <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-variable constant_">NB</span>)](<span class="hljs-variable constant_">N1</span>, wL, lR, <span class="hljs-variable constant_">BY</span>), wQx, <span class="hljs-title function_">jb</span>()[<span class="hljs-title function_">E6</span>(pg)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-variable constant_">KH</span>, z0, cR), <span class="hljs-title class_">RVx</span>]);
<span class="hljs-keyword">var</span> dQx = <span class="hljs-keyword">new</span> (<span class="hljs-title class_">Fq</span>[<span class="hljs-title function_">K3</span>()[<span class="hljs-title function_">Y7</span>(<span class="hljs-title class_">Rt</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [kY, <span class="hljs-variable constant_">OY</span>, jXc])])(<span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>],fL)[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">Gb</span>)](zW, <span class="hljs-variable constant_">IR</span>, <span class="hljs-title class_">Mb</span>)](<span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(g8)], <span class="hljs-string">'undefined'</span>) ? <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(kL)](<span class="hljs-title class_">Pmc</span>, r2, fPc) : <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">Hz</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">LB</span>, <span class="hljs-variable constant_">OS</span>, rb]));
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Qcx</span> = dQx[<span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(tW)](lf, <span class="hljs-title class_">Jl</span>, tI, vL)](<span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(rW)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(<span class="hljs-variable constant_">YB</span>)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-title class_">PKc</span>, qnc, <span class="hljs-title class_">Et</span>, <span class="hljs-title function_">vt</span>(fL)) : <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(j1)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [wA, bh, hk, <span class="hljs-title class_">Hz</span>]));
<span class="hljs-keyword">var</span> khc = dQx[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">XA</span>, <span class="hljs-variable constant_">P9</span>, rS])](<span class="hljs-title class_">Qcx</span>[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">YA</span>)](vb, <span class="hljs-title class_">Rs</span>, tN)]);
<span class="hljs-keyword">var</span> vEc = dQx[<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-title class_">Cf</span>, <span class="hljs-variable constant_">P9</span>, rS)](<span class="hljs-title class_">Qcx</span>[<span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-title class_">Rz</span>)](vb, <span class="hljs-variable constant_">YA</span>, dD, <span class="hljs-variable constant_">ZO</span>)]);
x2c = <span class="hljs-title function_">P8</span>(X, [<span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Vt</span>()[<span class="hljs-title function_">QB</span>(<span class="hljs-variable constant_">OL</span>)], <span class="hljs-string">'undefined'</span>) ? <span class="hljs-title class_">Vt</span>()[<span class="hljs-title function_">QB</span>(vB)](dh, nE, cR, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>({})), D5c, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(vB))) : <span class="hljs-title class_">Vt</span>()[<span class="hljs-title function_">QB</span>(<span class="hljs-variable constant_">R7</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [wl, x2, <span class="hljs-variable constant_">BY</span>, <span class="hljs-title function_">vt</span>({}), <span class="hljs-title class_">Rg</span>, <span class="hljs-variable constant_">LB</span>]), khc, <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(lr)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-title class_">Vz</span>, bh, tXc, <span class="hljs-title function_">vt</span>({})]), vEc]);                
</code></pre>
<p>æ„Ÿå…´è¶£çš„è¯å¯ä»¥è‡ªå·±å»çœ‹ä¸€ä¸‹æºç , ç½‘ç«™æ”¾è¿™é‡Œã€‚  <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.dhl.com%2Fcn-zh%2Fhome.html" target="_blank" title="https://www.dhl.com/cn-zh/home.html" ref="nofollow noopener noreferrer">www.dhl.com/cn-zh/home.â€¦</a></p>
<h3 data-id="heading-2">æ€è·¯</h3>
<p>é¦–å…ˆæ¥æ˜ç¡®ä¸€ä¸‹ç›®çš„, æˆ‘ä»¬æœ€ç»ˆè¦å¾—åˆ°çš„æ˜¯ä¸€æ®µæ˜æ–‡ä»£ç , å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ç›®æ ‡ä»£ç </span>
<span class="hljs-keyword">var</span> <span class="hljs-title class_">MZx</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fq</span>[<span class="hljs-string">"OffscreenCanvas"</span>](fL, <span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>])[<span class="hljs-string">"getContext"</span>](<span class="hljs-string">"webgl"</span>);
</code></pre>
<p>ç„¶åæ˜¯ä¸€äº›é‡è¦çš„äº‹æƒ…ã€‚</p>
<ul>
<li>åœ¨è§£æ··æ·†çš„è¿‡ç¨‹ä¸­, å¿…é¡»ä¿æŒä»£ç åŸé€»è¾‘ä¸å˜ã€‚</li>
<li>åŠ å¯†ä»£ç å¯èƒ½ä¼šå˜åŒ–, é€šè¿‡ overwrited æˆ–æ˜¯ autoresponse åŠŸèƒ½è‡ªè¡Œå›ºå®šã€‚</li>
</ul>
<h4 data-id="heading-3">åŸç†</h4>
<p>é€šå¸¸æƒ…å†µä¸‹, ç®€å•çš„æ··æ·†åªæœ‰ä¸€ä¸ªè§£å¯†å‡½æ•°, æˆ‘ä»¬åªéœ€è¦å°†è§£å¯†å‡½æ•°æå‰æ”¾å…¥å†…å­˜, å¤„ç†çš„æ—¶å€™è°ƒç”¨, å°±èƒ½æˆåŠŸè§£å¯†ã€‚ä½†æ˜¯å¯¹äºå¤æ‚çš„æ··æ·†, è§£å¯†å‡½æ•°å¹¶ä¸å›ºå®š, æˆ‘ä»¬éœ€è¦åŸºäº js çš„è¯­æ³•ç‰¹ç‚¹åšä¸€äº›ç‰¹æ®Šçš„å¤„ç†ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// js è¯­æ³• A</span>
<span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>; <span class="hljs-comment">// æœ€ç»ˆ x = 1, è¯­å¥è¿”å› 2ã€‚</span>
</code></pre>
<p>åŸç†å¾ˆç®€å•, å°±æ˜¯åˆ©ç”¨ js çš„é€—å·è¡¨è¾¾å¼, å…·ä½“æµç¨‹å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å‡å®šå¾…è§£æ··æ·†è¡¨è¾¾å¼(func ä¸­ä¸ºåŠ å¯†éƒ¨åˆ†)</span>
func[<span class="hljs-title class_">Im</span>()[<span class="hljs-title function_">CY</span>(qj)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">NF</span>, cD, rX])];
<span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡</span>
<span class="hljs-keyword">let</span> vars = {};
<span class="hljs-comment">// æ”¹é€ åŸè¡¨è¾¾å¼</span>
func[vars[<span class="hljs-string">"Im()[CY(qj)].apply(null, [NF, cD, rX])"</span>] = <span class="hljs-title class_">Im</span>()[<span class="hljs-title function_">CY</span>(qj)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">NF</span>, cD, rX]), vars[<span class="hljs-string">"Im()[CY(qj)].apply(null, [NF, cD, rX])"</span>]];

<span class="hljs-comment">// å°†åŠ å¯†éƒ¨åˆ†è½¬ä¸ºå­—ç¬¦ä¸²ä½œä¸ºå…¨å±€å˜é‡ vars çš„ key, å°†æ‰§è¡Œç»“æœä½œä¸º value, è¿›è¡Œèµ‹å€¼, åŒæ—¶å†æ¬¡è¿”å›è¯¥å€¼ã€‚</span>
<span class="hljs-comment">// è¿™æ ·åšæ˜¯ä¸ºäº†ä¸æ”¹å˜åŸä»£ç é€»è¾‘(è§£å¯†å‡½æ•°åªè¿è¡Œä¸€æ¬¡, ä¸”è¿”å›å€¼ä¸å˜)ã€‚</span>
<span class="hljs-comment">// ç”¨å¤„ç†åçš„ä»£ç æ›¿æ¢åŸä»£ç (å› å¤„ç†é€»è¾‘ä¸€æ ·, ç†è®ºæ­£å¸¸è¿è¡Œ), è¿è¡Œåæˆ‘ä»¬å¯ä»¥å¾—åˆ°æ˜ å°„å…³ç³» varsã€‚</span>
vars = {<span class="hljs-string">"Im()[CY(qj)].apply(null, [NF, cD, rX])"</span>: <span class="hljs-string">"length"</span>};

<span class="hljs-comment">// å°†æ˜ å°„å…³ç³»æ”¾åˆ°æœ¬åœ°, åšæ›¿æ¢åå³å¯å¾—åˆ°æœ€ç»ˆæ˜æ–‡ã€‚</span>
func[<span class="hljs-string">"length"</span>]
</code></pre>
<p>å¸Œæœ›èƒ½ç†è§£ä¸ºä»€ä¹ˆè¦è¿™æ ·åš, è¿™å¾ˆé‡è¦ã€‚</p>
<h3 data-id="heading-4">å¼€æ•´</h3>
<p>ç®€å•å¯¹åŠ å¯†ä»£ç è¿›è¡Œåˆ†æ, å¯ä»¥å‘ç°ä¸€å…±å››ç§åŠ å¯†å½¢å¼ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// ç¬¬ä¸€ç§, é€šè¿‡ apply è¿›è¡ŒåŠ å¯†</span>
<span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">XA</span>, <span class="hljs-variable constant_">P9</span>, rS])

<span class="hljs-comment">// ç¬¬äºŒç§, é€šè¿‡ call è¿›è¡ŒåŠ å¯†</span>
<span class="hljs-title function_">jb</span>()[<span class="hljs-title function_">E6</span>(pg)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-variable constant_">KH</span>, z0, cR)

<span class="hljs-comment">// ç¬¬ä¸‰ç§, ç›´æ¥è°ƒç”¨å‡½æ•°åŠ å¯†</span>
<span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(tW)](lf, <span class="hljs-title class_">Jl</span>, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(fL)))

<span class="hljs-comment">// ç¬¬å››ç§, é€šè¿‡æ’å¯¹æˆ–æ’é”™çš„ä¸‰å…ƒè¡¨è¾¾å¼è¿›è¡ŒåŠ å¯†</span>
<span class="hljs-title function_">jt</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">CL</span>)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)](<span class="hljs-variable constant_">MY</span>, <span class="hljs-variable constant_">P9</span>, rS) : <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(kL)](<span class="hljs-title function_">vt</span>({}), <span class="hljs-title class_">Axc</span>, <span class="hljs-variable constant_">Z2</span>)
</code></pre>
<p>æˆ‘ä»¬å°†å››ç§å½¢å¼, æ”¾åœ¨è§£æç½‘ç«™ä¸Š, æ ¹æ®æ ‘çš„ç»“æ„æ¥è¿›è¡Œæ•æ‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc9e843189ed4fd38d65b766099a7600~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=tvUofZSFtA0SxZWg4UOhjt%2FL%2FBE%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ ‘ç¤ºä¾‹</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca5f565741f246afbb455839bb726470~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=z5EvZrm%2FeebRlKSem8WEHxlZRW4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ•æ‰ä»£ç ç¤ºä¾‹</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70e1f527716b4c4ab86268a0fe9df50d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=Dp2Tk3bvqx0CJ%2BuqAPwlGUC7Xjo%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ•æ‰ç»“æœ</strong></p>
<p>ä»£ç çš„å†™æ³•ä¸å”¯ä¸€, å¯ä»¥è‡ªè¡Œæ ¹æ®æ ‘çš„ç»“æ„æ¥æ‰¾ä¸åŒ, å¤šæ‰“å°, èƒ½æ‹¿åˆ°åŠ å¯†è¯­å¥å³å¯ã€‚æˆåŠŸåå¼€å§‹è¿›è¡Œä»£ç æ›¿æ¢ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5e7f5e637eb48458b4cba90b8cab7ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=7EHHZc8OiBiJORYCzLwlzY5PxWM%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ›¿æ¢ä»£ç ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å°†æ›¿æ¢å¤„ç†åçš„ä»£ç å†™å…¥æ–°æ–‡ä»¶</span>
<span class="hljs-keyword">var</span> <span class="hljs-title class_">MZx</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fq</span>[_vars[<span class="hljs-string">"K3()[Y7(Rt)](kY, SM, jXc)"</span>] = <span class="hljs-title function_">K3</span>()[<span class="hljs-title function_">Y7</span>(<span class="hljs-title class_">Rt</span>)](kY, <span class="hljs-variable constant_">SM</span>, jXc), _vars[<span class="hljs-string">"K3()[Y7(Rt)](kY, SM, jXc)"</span>]](fL, <span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>])[_vars[<span class="hljs-string">"lz()[vg(Gb)](Gb, IR, Mb)"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">Gb</span>)](<span class="hljs-title class_">Gb</span>, <span class="hljs-variable constant_">IR</span>, <span class="hljs-title class_">Mb</span>), _vars[<span class="hljs-string">"lz()[vg(Gb)](Gb, IR, Mb)"</span>]]((_vars[<span class="hljs-string">"jb()[E6(Zs)](zW, JT, sA)"</span>] = <span class="hljs-title function_">jb</span>()[<span class="hljs-title function_">E6</span>(<span class="hljs-title class_">Zs</span>)](zW, <span class="hljs-variable constant_">JT</span>, sA), _vars[<span class="hljs-string">"jb()[E6(Zs)](zW, JT, sA)"</span>]));
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Whc</span> = <span class="hljs-title class_">MZx</span>[_vars[<span class="hljs-string">"b8()[r7(tW)](lf, Jl, vt(vt(fL)), vt(vt(fL)))"</span>] = <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(tW)](lf, <span class="hljs-title class_">Jl</span>, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(fL)), <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(fL))), _vars[<span class="hljs-string">"b8()[r7(tW)](lf, Jl, vt(vt(fL)), vt(vt(fL)))"</span>]]((_vars[<span class="hljs-string">"b8()[r7(j1)](wA, bh, Tz, vt([]))"</span>] = <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(j1)](wA, bh, <span class="hljs-title class_">Tz</span>, <span class="hljs-title function_">vt</span>([])), _vars[<span class="hljs-string">"b8()[r7(j1)](wA, bh, Tz, vt([]))"</span>]));
<span class="hljs-keyword">var</span> wQx = <span class="hljs-title class_">MZx</span>[_vars[<span class="hljs-string">"lz()[vg(St)].apply(null, [pg, P9, rS])"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [pg, <span class="hljs-variable constant_">P9</span>, rS]), _vars[<span class="hljs-string">"lz()[vg(St)].apply(null, [pg, P9, rS])"</span>]](<span class="hljs-title class_">Whc</span>[_vars[<span class="hljs-string">"lz()[vg(YA)].apply(null, [qE, Rs, tN])"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">YA</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [qE, <span class="hljs-title class_">Rs</span>, tN]), _vars[<span class="hljs-string">"lz()[vg(YA)].apply(null, [qE, Rs, tN])"</span>]]);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">RVx</span> = <span class="hljs-title class_">MZx</span>[_vars[<span class="hljs-string">"jt(typeof lz()[vg(CL)], Bk([], [][[]])) ? lz()[vg(St)](MY, P9, rS) : lz()[vg(kL)](vt({}), Axc, Z2)"</span>] = <span class="hljs-title function_">jt</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">CL</span>)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)](<span class="hljs-variable constant_">MY</span>, <span class="hljs-variable constant_">P9</span>, rS) : <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(kL)](<span class="hljs-title function_">vt</span>({}), <span class="hljs-title class_">Axc</span>, <span class="hljs-variable constant_">Z2</span>), _vars[<span class="hljs-string">"jt(typeof lz()[vg(CL)], Bk([], [][[]])) ? lz()[vg(St)](MY, P9, rS) : lz()[vg(kL)](vt({}), Axc, Z2)"</span>]](<span class="hljs-title class_">Whc</span>[_vars[<span class="hljs-string">"kt()[Jz(Rz)](vb, lr, dD, cR)"</span>] = <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-title class_">Rz</span>)](vb, lr, dD, cR), _vars[<span class="hljs-string">"kt()[Jz(Rz)](vb, lr, dD, cR)"</span>]]);
<span class="hljs-title class_">AXx</span> = <span class="hljs-title function_">P8</span>(X, [(_vars[<span class="hljs-string">"Eg(typeof kt()[Jz(tW)], Bk([], [][[]])) ? kt()[Jz(Rg)](kpc, rS, Dl, Ob) : kt()[Jz(NB)](N1, wL, lR, BY)"</span>] = <span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(tW)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-title class_">Rg</span>)](kpc, rS, <span class="hljs-title class_">Dl</span>, <span class="hljs-title class_">Ob</span>) : <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-variable constant_">NB</span>)](<span class="hljs-variable constant_">N1</span>, wL, lR, <span class="hljs-variable constant_">BY</span>), _vars[<span class="hljs-string">"Eg(typeof kt()[Jz(tW)], Bk([], [][[]])) ? kt()[Jz(Rg)](kpc, rS, Dl, Ob) : kt()[Jz(NB)](N1, wL, lR, BY)"</span>]), wQx, (_vars[<span class="hljs-string">"jb()[E6(pg)].call(null, KH, z0, cR)"</span>] = <span class="hljs-title function_">jb</span>()[<span class="hljs-title function_">E6</span>(pg)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-variable constant_">KH</span>, z0, cR), _vars[<span class="hljs-string">"jb()[E6(pg)].call(null, KH, z0, cR)"</span>]), <span class="hljs-title class_">RVx</span>]);
<span class="hljs-keyword">var</span> dQx = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fq</span>[_vars[<span class="hljs-string">"K3()[Y7(Rt)].apply(null, [kY, OY, jXc])"</span>] = <span class="hljs-title function_">K3</span>()[<span class="hljs-title function_">Y7</span>(<span class="hljs-title class_">Rt</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [kY, <span class="hljs-variable constant_">OY</span>, jXc]), _vars[<span class="hljs-string">"K3()[Y7(Rt)].apply(null, [kY, OY, jXc])"</span>]](<span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>], fL)[_vars[<span class="hljs-string">"lz()[vg(Gb)](zW, IR, Mb)"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">Gb</span>)](zW, <span class="hljs-variable constant_">IR</span>, <span class="hljs-title class_">Mb</span>), _vars[<span class="hljs-string">"lz()[vg(Gb)](zW, IR, Mb)"</span>]]((_vars[<span class="hljs-string">"Eg(typeof lz()[vg(g8)], 'undefined') ? lz()[vg(kL)](Pmc, r2, fPc) : lz()[vg(Hz)].apply(null, [LB, OS, rb])"</span>] = <span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(g8)], <span class="hljs-string">'undefined'</span>) ? <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(kL)](<span class="hljs-title class_">Pmc</span>, r2, fPc) : <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">Hz</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">LB</span>, <span class="hljs-variable constant_">OS</span>, rb]), _vars[<span class="hljs-string">"Eg(typeof lz()[vg(g8)], 'undefined') ? lz()[vg(kL)](Pmc, r2, fPc) : lz()[vg(Hz)].apply(null, [LB, OS, rb])"</span>]));
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Qcx</span> = dQx[_vars[<span class="hljs-string">"b8()[r7(tW)](lf, Jl, tI, vL)"</span>] = <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(tW)](lf, <span class="hljs-title class_">Jl</span>, tI, vL), _vars[<span class="hljs-string">"b8()[r7(tW)](lf, Jl, tI, vL)"</span>]]((_vars[<span class="hljs-string">"Eg(typeof b8()[r7(rW)], Bk([], [][[]])) ? b8()[r7(YB)].call(null, PKc, qnc, Et, vt(fL)) : b8()[r7(j1)].apply(null, [wA, bh, hk, Hz])"</span>] = <span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(rW)], <span class="hljs-title class_">Bk</span>([], [][[]])) ? <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(<span class="hljs-variable constant_">YB</span>)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-title class_">PKc</span>, qnc, <span class="hljs-title class_">Et</span>, <span class="hljs-title function_">vt</span>(fL)) : <span class="hljs-title function_">b8</span>()[<span class="hljs-title function_">r7</span>(j1)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [wA, bh, hk, <span class="hljs-title class_">Hz</span>]), _vars[<span class="hljs-string">"Eg(typeof b8()[r7(rW)], Bk([], [][[]])) ? b8()[r7(YB)].call(null, PKc, qnc, Et, vt(fL)) : b8()[r7(j1)].apply(null, [wA, bh, hk, Hz])"</span>]));
<span class="hljs-keyword">var</span> khc = dQx[_vars[<span class="hljs-string">"lz()[vg(St)].apply(null, [XA, P9, rS])"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-variable constant_">XA</span>, <span class="hljs-variable constant_">P9</span>, rS]), _vars[<span class="hljs-string">"lz()[vg(St)].apply(null, [XA, P9, rS])"</span>]](<span class="hljs-title class_">Qcx</span>[_vars[<span class="hljs-string">"lz()[vg(YA)](vb, Rs, tN)"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-variable constant_">YA</span>)](vb, <span class="hljs-title class_">Rs</span>, tN), _vars[<span class="hljs-string">"lz()[vg(YA)](vb, Rs, tN)"</span>]]);
<span class="hljs-keyword">var</span> vEc = dQx[_vars[<span class="hljs-string">"lz()[vg(St)].call(null, Cf, P9, rS)"</span>] = <span class="hljs-title function_">lz</span>()[<span class="hljs-title function_">vg</span>(<span class="hljs-title class_">St</span>)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-title class_">Cf</span>, <span class="hljs-variable constant_">P9</span>, rS), _vars[<span class="hljs-string">"lz()[vg(St)].call(null, Cf, P9, rS)"</span>]](<span class="hljs-title class_">Qcx</span>[_vars[<span class="hljs-string">"kt()[Jz(Rz)](vb, YA, dD, ZO)"</span>] = <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(<span class="hljs-title class_">Rz</span>)](vb, <span class="hljs-variable constant_">YA</span>, dD, <span class="hljs-variable constant_">ZO</span>), _vars[<span class="hljs-string">"kt()[Jz(Rz)](vb, YA, dD, ZO)"</span>]]);
x2c = <span class="hljs-title function_">P8</span>(X, [(_vars[<span class="hljs-string">"Eg(typeof Vt()[QB(OL)], 'undefined') ? Vt()[QB(vB)](dh, nE, cR, vt(vt({})), D5c, vt(vt(vB))) : Vt()[QB(R7)].apply(null, [wl, x2, BY, vt({}), Rg, LB])"</span>] = <span class="hljs-title class_">Eg</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Vt</span>()[<span class="hljs-title function_">QB</span>(<span class="hljs-variable constant_">OL</span>)], <span class="hljs-string">'undefined'</span>) ? <span class="hljs-title class_">Vt</span>()[<span class="hljs-title function_">QB</span>(vB)](dh, nE, cR, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>({})), D5c, <span class="hljs-title function_">vt</span>(<span class="hljs-title function_">vt</span>(vB))) : <span class="hljs-title class_">Vt</span>()[<span class="hljs-title function_">QB</span>(<span class="hljs-variable constant_">R7</span>)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [wl, x2, <span class="hljs-variable constant_">BY</span>, <span class="hljs-title function_">vt</span>({}), <span class="hljs-title class_">Rg</span>, <span class="hljs-variable constant_">LB</span>]), _vars[<span class="hljs-string">"Eg(typeof Vt()[QB(OL)], 'undefined') ? Vt()[QB(vB)](dh, nE, cR, vt(vt({})), D5c, vt(vt(vB))) : Vt()[QB(R7)].apply(null, [wl, x2, BY, vt({}), Rg, LB])"</span>]), khc, (_vars[<span class="hljs-string">"kt()[Jz(lr)].apply(null, [Vz, bh, tXc, vt({})])"</span>] = <span class="hljs-title function_">kt</span>()[<span class="hljs-title class_">Jz</span>(lr)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-title class_">Vz</span>, bh, tXc, <span class="hljs-title function_">vt</span>({})]), _vars[<span class="hljs-string">"kt()[Jz(lr)].apply(null, [Vz, bh, tXc, vt({})])"</span>]), vEc]);
          
</code></pre>
<p>å¾—åˆ°å¤„ç†åçš„æ–‡ä»¶, å°†å…¶å¯¹æµè§ˆå™¨çš„åŠ å¯†æ–‡ä»¶è¿›è¡Œæ›¿æ¢, ç„¶ååœ¨æµè§ˆå™¨ä¸Šå¾—åˆ°å˜é‡ _varsã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93ec013733284ba284f430df192b46e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=ew8lH0ZRqDjThmMxIOFNcxQ0UfM%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è·å–æ˜ å°„å…³ç³»</strong></p>
<pre><code class="hljs language-Json" lang="Json"><span class="hljs-comment">// æ˜ å°„æ•°æ®ç»“æ„(éƒ¨åˆ†)</span>
<span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"kt()[Jz(fL)].apply(null, [YA, kf, Zd, kY])"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jt(typeof K3()[Y7(kL)], Bk([], [][[]])) ? K3()[Y7(SS)](Xw, vt([]), J2) : K3()[Y7(vB)](Pk, jk, k1)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jt(typeof lz()[vg(vB)], 'undefined') ? lz()[vg(D7)](vt(vB), YP, M8) : lz()[vg(kL)].call(null, Hz, MH, TM)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"9"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"Eg(typeof K3()[Y7(SS)], Bk([], [][[]])) ? K3()[Y7(vB)](V9, kL, gD) : K3()[Y7(D7)](YA, Xw, qh)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"8"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"b8()[r7(fL)].apply(null, [EV, ml, R7, vt(vt([]))])"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jb()[E6(D7)].call(null, bg, rc, R7)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"7"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"Eg(typeof K3()[Y7(SS)], Bk([], [][[]])) ? K3()[Y7(vB)].call(null, fD, rW, Bh) : K3()[Y7(Nw)](EL, Ik, KC)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lz()[vg(Nw)](Vf, bH, wJ)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jb()[E6(Nw)].call(null, g8, v8, vL)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"K3()[Y7(Ik)](SS, SL, lR)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"6"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"b8()[r7(SS)].call(null, Q5, ct, Vv, g8)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lz()[vg(fL)].apply(null, [vt([]), wO, jS])"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"length"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"Eg(typeof K3()[Y7(fL)], Bk('', [][[]])) ? K3()[Y7(vB)](fFc, YA, Cd) : K3()[Y7(fL)](Ib, GN, rQc)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"JV"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lz()[vg(SS)](Tk, Ycc, Vf)"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"parseFloat"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å–å¾—æ˜ å°„å…³ç³»å, å­˜å…¥æœ¬åœ°, ç„¶åè¿›è¡Œæ›¿æ¢å°±èƒ½æˆåŠŸè§£æ··æ·†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef0dd089fd134d37b63d72db218359bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=TLeD0K5nfAh7cOd4HBhp80njVSw%3D" alt="image.png" loading="lazy"/>
<strong>è§£æ··æ·†ä»£ç ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// å¯¹åº”çš„è§£æ··æ·†ç»“æœ</span>
<span class="hljs-keyword">var</span> <span class="hljs-title class_">MZx</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fq</span>[<span class="hljs-string">"OffscreenCanvas"</span>](fL, <span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>])[<span class="hljs-string">"getContext"</span>](<span class="hljs-string">"webgl"</span>);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Whc</span> = <span class="hljs-title class_">MZx</span>[<span class="hljs-string">"getExtension"</span>](<span class="hljs-string">"WEBGL_debug_renderer_info"</span>);
<span class="hljs-keyword">var</span> wQx = <span class="hljs-title class_">MZx</span>[<span class="hljs-string">"getParameter"</span>](<span class="hljs-title class_">Whc</span>[<span class="hljs-string">"UNMASKED_VENDOR_WEBGL"</span>]);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">RVx</span> = <span class="hljs-title class_">MZx</span>[<span class="hljs-string">"getParameter"</span>](<span class="hljs-title class_">Whc</span>[<span class="hljs-string">"UNMASKED_RENDERER_WEBGL"</span>]);
<span class="hljs-title class_">AXx</span> = <span class="hljs-title function_">P8</span>(X, [<span class="hljs-string">"vendor"</span>, wQx, <span class="hljs-string">"renderer"</span>, <span class="hljs-title class_">RVx</span>]);
<span class="hljs-keyword">var</span> dQx = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Fq</span>[<span class="hljs-string">"OffscreenCanvas"</span>](<span class="hljs-title class_">Ns</span>[<span class="hljs-title class_">Nw</span>], fL)[<span class="hljs-string">"getContext"</span>](<span class="hljs-string">"webgl2"</span>);
<span class="hljs-keyword">var</span> <span class="hljs-title class_">Qcx</span> = dQx[<span class="hljs-string">"getExtension"</span>](<span class="hljs-string">"WEBGL_debug_renderer_info"</span>);
<span class="hljs-keyword">var</span> khc = dQx[<span class="hljs-string">"getParameter"</span>](<span class="hljs-title class_">Qcx</span>[<span class="hljs-string">"UNMASKED_VENDOR_WEBGL"</span>]);
<span class="hljs-keyword">var</span> vEc = dQx[<span class="hljs-string">"getParameter"</span>](<span class="hljs-title class_">Qcx</span>[<span class="hljs-string">"UNMASKED_RENDERER_WEBGL"</span>]);
x2c = <span class="hljs-title function_">P8</span>(X, [<span class="hljs-string">"vendor2"</span>, khc, <span class="hljs-string">"renderer2"</span>, vEc]);
</code></pre>
<h3 data-id="heading-5">ä¸€äº›å€¼å¾—æ³¨æ„çš„ç‚¹</h3>
<h4 data-id="heading-6"><strong>ç½‘ç«™æ ¼å¼æ£€æµ‹é—®é¢˜?</strong></h4>
<p>å¤šæ•°ç½‘ç«™éƒ½ä¼šæœ‰å‹ç¼©æ£€æµ‹, æ›¿æ¢ä»£ç ä¹‹å‰å¯ä»¥æ‰¾å·¥å…·è¿›è¡Œå‹ç¼©ä¹‹åå†æ›¿æ¢ã€‚</p>
<p>åƒè¿™ä¸ªç½‘ç«™, è¿˜å­˜åœ¨ä»£ç æ£€æµ‹, æ£€æµ‹ä½ æ˜¯å¦ä¿®æ”¹äº†éƒ¨åˆ†ä»£ç , å¯ä»¥é€šè¿‡ hook è°ƒè¯•å®šä½åˆ°æ£€æµ‹ä½ç½®, åšå¯¹åº”å¤„ç†å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51aaa721fe9a40b88eaa4bd740909703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2xvbW1lcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763901766&amp;x-signature=CNGXHTuHh5x%2F5ukpZlAbfkVtM34%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-7"><strong>æœ€ç»ˆä»£ç æ˜¯å¦å¯ç”¨?</strong></h4>
<p>å¯¹äºè¯¥æ–¹æ¡ˆ, å…¶å®æœ€ç»ˆæ›¿æ¢åçš„ä»£ç å·²ç»ä¸å¯ç”¨, åªèƒ½ä½œä¸ºè°ƒè¯•ç”¨çš„å‚è€ƒäº†ã€‚ åŸå› å°±æ˜¯æ”¹å˜äº†åŸä»£ç çš„è¿è¡Œé€»è¾‘, è§£å¯†å‡½æ•°å·²ç»ä¸å†è¢«è°ƒç”¨äº†, å¯èƒ½å­˜åœ¨ä¸€äº›è®¡æ•°ä¹‹ç±»çš„é€»è¾‘, å¯¼è‡´æ— æ³•é€šè¿‡, ä½†æ˜¯å¯¹æˆ‘ä»¬çš„è°ƒè¯•è¿˜æ˜¯ä¼šæ–¹ä¾¿å¾ˆå¤šã€‚</p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>ç®—æ˜¯æä¾›ä¸€ç§æ€è·¯å§, å½“ä½œæŠ›ç –å¼•ç‰, è‡³äºç”¨ä¸ç”¨å¾—åˆ°, å…¨çœ‹å¤§å®¶äº†ã€‚</p>
<p>åšä¸ªé¢„å‘Š, ä¹Ÿç»™è‡ªå·±ç«‹ä¸ª flag, è¿‘æœŸæœ‰æ—¶é—´, ä¼šæŠŠ Akamai ç›¸å…³çš„ä¸œè¥¿åšäº†, ä¹Ÿå°±æ˜¯å°½å¯èƒ½ç³»ç»Ÿçš„èŠä¸€ä¸‹è¿™ä¸ªç½‘ç«™çš„å‘, æœ‰å…´è¶£çš„å¤šå…³æ³¨ä¸€ä¸‹å§ã€‚</p>
<p>æ›´æ–°æ—¶é—´ä¸å›ºå®š, è§†å¿ƒæƒ…è€Œå®šäº†, å‘¨æœ«å¿«ä¹, å„ä½ ~ã€‚</p>
<blockquote>
<p>è¯·æ´’æ½˜æ±Ÿï¼Œå„å€¾é™†æµ·äº‘å°”ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®© Flutter èµ„æºç®¡ç†æ›´æ™ºèƒ½]]></title>    <link>https://juejin.cn/post/7572539461479530539</link>    <guid>https://juejin.cn/post/7572539461479530539</guid>    <pubDate>2025-11-17T00:09:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572539461479530539" data-draft-id="7572524368879190050" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®© Flutter èµ„æºç®¡ç†æ›´æ™ºèƒ½"/> <meta itemprop="keywords" content="Flutter,Android,iOS"/> <meta itemprop="datePublished" content="2025-11-17T00:09:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ³•çš„ç©ºé—´"/> <meta itemprop="url" content="https://juejin.cn/user/254742428916408"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®© Flutter èµ„æºç®¡ç†æ›´æ™ºèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/254742428916408/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ³•çš„ç©ºé—´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T00:09:35.000Z" title="Mon Nov 17 2025 00:09:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›¸å…³é˜…è¯»</h2>
<ul>
<li><a href="https://juejin.cn/post/6886778443753586702" target="_blank" title="https://juejin.cn/post/6886778443753586702">Flutter Assets ç”Ÿæˆå·¥å…·</a></li>
</ul>
<h2 data-id="heading-1">å‰è¨€</h2>
<p>åœ¨ <code>Flutter</code> å¼€å‘ä¸­ï¼Œèµ„æºæ–‡ä»¶çš„ç®¡ç†ä¸€ç›´æ˜¯å½±å“å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡çš„é‡è¦ç¯èŠ‚ã€‚æ‰‹åŠ¨ç»´æŠ¤èµ„æºè·¯å¾„ä¸ä»…å®¹æ˜“å‡ºé”™ï¼Œè¿˜ä¼šåœ¨å›¢é˜Ÿåä½œæ—¶äº§ç”Ÿä¸ä¸€è‡´çš„ä»£ç é£æ ¼ã€‚<code>Assets Generator</code> æ­£æ˜¯ä¸ºè§£å†³è¿™äº›ç—›ç‚¹è€Œç”Ÿçš„è‡ªåŠ¨åŒ–å·¥å…·ã€‚</p>
<h2 data-id="heading-2">æ ¼å¼åŒ–å®½åº¦æ§åˆ¶</h2>
<h3 data-id="heading-3">åŠŸèƒ½ç®€ä»‹</h3>
<p>æ”¯æŒä» <code>analysis_options.yaml</code> æ–‡ä»¶ä¸­è¯»å– <code>page_width</code> é…ç½®ï¼Œç”¨äºæ§åˆ¶ä»£ç æ ¼å¼åŒ–å™¨çš„é¡µé¢å®½åº¦ã€‚</p>
<h3 data-id="heading-4">ä½¿ç”¨åœºæ™¯</h3>
<p>åœ¨å›¢é˜Ÿåä½œä¸­ï¼Œä¸åŒé¡¹ç›®å¯èƒ½å¯¹ä»£ç è¡Œå®½æœ‰ä¸åŒçš„è¦æ±‚ã€‚æ­¤åŠŸèƒ½å…è®¸æ‚¨åœ¨é¡¹ç›®çš„åˆ†æé…ç½®æ–‡ä»¶ä¸­ç»Ÿä¸€å®šä¹‰æ ¼å¼åŒ–å®½åº¦ï¼Œç¡®ä¿ç”Ÿæˆçš„ä»£ç ç¬¦åˆé¡¹ç›®çš„ç¼–ç è§„èŒƒã€‚</p>
<h3 data-id="heading-5">é…ç½®ç¤ºä¾‹</h3>
<p>åœ¨æ‚¨çš„ <code>analysis_options.yaml</code> ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">formatter:</span>
  <span class="hljs-attr">page_width:</span> <span class="hljs-number">120</span>
</code></pre>
<p>ç”Ÿæˆçš„èµ„æºæ–‡ä»¶å°†éµå¾ªæŒ‡å®šçš„é¡µé¢å®½åº¦è¿›è¡Œæ ¼å¼åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-6"><code>workspace</code> æ ¹åŒ…æŒ‡å®šåŠŸèƒ½</h2>
<h3 data-id="heading-7">åŠŸèƒ½ç®€ä»‹</h3>
<p>æ–°å¢ <code>root-package</code> å‚æ•°ï¼Œå…è®¸é€šè¿‡åŒ…åæŒ‡å®šå“ªä¸ªåŒ…åº”è¢«è§†ä¸ºå·¥ä½œç©ºé—´çš„æ ¹é¡¹ç›®ã€‚</p>
<h3 data-id="heading-8">ä½¿ç”¨åœºæ™¯</h3>
<p>åœ¨åŒ…å«å¤šä¸ª Flutter åŒ…çš„å·¥ä½œç©ºé—´ <code>workspace</code> ä¸­ï¼Œæ‚¨å¯èƒ½éœ€è¦æ˜ç¡®æŒ‡å®šä¸»é¡¹ç›®åŒ…ã€‚ ç”±äº</p>
<p><code>PackageNode.isRoot</code> ä¸å†å·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¸€ä¸‹ <code>root</code> ã€‚</p>
<h3 data-id="heading-9">ä½¿ç”¨æ–¹æ³•</h3>
<pre><code class="hljs language-bash" lang="bash">dart run assets_generator --root-package=your_package_name
</code></pre>
<p>æˆ–åœ¨é…ç½®æ–‡ä»¶ <code>assets_generator_arguments</code> ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">--root-package</span>=your_package_name
</code></pre>
<hr/>
<h2 data-id="heading-10">é”®åæ ·å¼è·¯å¾„</h2>
<h3 data-id="heading-11">åŠŸèƒ½ç®€ä»‹</h3>
<p>æ–°å¢ <code>use-key-name</code> å‚æ•°ï¼Œå¯é€‰æ‹©æ˜¯å¦ä½¿ç”¨ <code>keyName</code> é£æ ¼çš„èµ„æºè·¯å¾„æ ¼å¼ï¼ˆå¦‚ <code>packages/{package}/...</code>ï¼‰ã€‚å®˜æ–¹çš„ <code>AssetImage</code> æœ€ç»ˆæ˜¯é€šè¿‡ <code>keyName</code> è¿›è¡ŒåŠ è½½èµ„æºçš„ã€‚</p>
<pre><code class="hljs language-dart" lang="dart">  <span class="hljs-keyword">const</span> ExactAssetImage(
    <span class="hljs-keyword">this</span>.assetName, {
    <span class="hljs-keyword">this</span>.scale = <span class="hljs-number">1.0</span>,
    <span class="hljs-keyword">this</span>.bundle,
    <span class="hljs-keyword">this</span>.package,
  });

  <span class="hljs-comment">/// <span class="markdown">The name of the asset.</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> assetName;

  <span class="hljs-comment">/// <span class="markdown">The key to use to obtain the resource from the [bundle]. This is the</span></span>
  <span class="hljs-comment">/// <span class="markdown">argument passed to [AssetBundle.load].</span></span>
  <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> keyName =&gt; package == <span class="hljs-keyword">null</span> ? assetName : <span class="hljs-string">'packages/<span class="hljs-subst">$package</span>/<span class="hljs-subst">$assetName</span>'</span>;
 }
  
  <span class="hljs-keyword">const</span> AssetImage(
    <span class="hljs-keyword">this</span>.assetName, {
    <span class="hljs-keyword">this</span>.bundle,
    <span class="hljs-keyword">this</span>.package,
  });

  <span class="hljs-comment">/// <span class="markdown">The name of the main asset from the set of images to choose from. See the</span></span>
  <span class="hljs-comment">/// <span class="markdown">documentation for the [AssetImage] class itself for details.</span></span>
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> assetName;

  <span class="hljs-comment">/// <span class="markdown">The name used to generate the key to obtain the asset. For local assets</span></span>
  <span class="hljs-comment">/// <span class="markdown">this is [assetName], and for assets from packages the [assetName] is</span></span>
  <span class="hljs-comment">/// <span class="markdown">prefixed <span class="hljs-code">`packages/&lt;package_name&gt;/`</span>.</span></span>
  <span class="hljs-built_in">String</span> <span class="hljs-keyword">get</span> keyName =&gt; package == <span class="hljs-keyword">null</span> ? assetName : <span class="hljs-string">'packages/<span class="hljs-subst">$package</span>/<span class="hljs-subst">$assetName</span>'</span>;
}
</code></pre>
<h3 data-id="heading-12">ä½¿ç”¨åœºæ™¯</h3>
<p>ä¸åŒçš„é¡¹ç›®å¯èƒ½å¯¹èµ„æºè·¯å¾„çš„å‘½åé£æ ¼æœ‰ä¸åŒçš„åå¥½ï¼š</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼</strong>: å¯¹äºæœ‰æ–°æ‰‹çš„é¡¹ç›®ï¼Œè¿™ä¸ªæ–¹å¼å…¶å®æ›´ä½³ï¼Œ<code>keyName</code> å®¹æ˜“è®©æ–°æ‰‹å¿˜è®° <code>package</code> çš„å­˜åœ¨ã€‚</li>
<li><strong>keyName é£æ ¼</strong>: å¸Œæœ›èƒ½ç®€å•è®¾ç½®å‚æ•°çš„æƒ…å†µã€‚</li>
</ul>
<h3 data-id="heading-13">ä½¿ç”¨æ–¹æ³•</h3>
<p>å¯ç”¨ keyName é£æ ¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">dart run assets_generator --use-key-name
</code></pre>
<p>æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attr">--use-key-name</span>
</code></pre>
<h3 data-id="heading-14">æ•ˆæœå¯¹æ¯”</h3>
<p><strong>é»˜è®¤æ–¹å¼</strong>:</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> package = <span class="hljs-string">'my_package'</span>;
<span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> image = <span class="hljs-string">'assets/images/logo.png'</span>;
</code></pre>
<p><strong>keyName é£æ ¼</strong>:</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-built_in">String</span> image = <span class="hljs-string">'packages/my_package/assets/images/logo.png'</span>;
</code></pre>
<hr/>
<h2 data-id="heading-15">æ”¯æŒå‘½ä»¤</h2>
<p>å…¨éƒ¨çš„å‘½ä»¤å¦‚ä¸‹:</p>
<pre><code class="hljs language-lua" lang="lua">-h, <span class="hljs-comment">--[no-]help            å¸®åŠ©ä¿¡æ¯</span>
-p, <span class="hljs-comment">--path                 Flutter é¡¹ç›®æ ¹è·¯å¾„</span>
                           (é»˜è®¤å€¼ä¸º <span class="hljs-string">"."</span>)
-f, <span class="hljs-comment">--folder               èµ„æºæ–‡ä»¶çš„æ ¹ç›®å½•</span>
                           (é»˜è®¤å€¼ä¸º <span class="hljs-string">"assets"</span>)
-w, <span class="hljs-comment">--[no-]watch           æ˜¯å¦æŒç»­ç›‘å¬èµ„æºæ–‡ä»¶çš„å˜åŒ–</span>
                           (é»˜è®¤å¼€å¯)
-t, <span class="hljs-comment">--type                 pubsepec.yaml ä¸­çš„ç±»å‹</span>
                           <span class="hljs-string">"d"</span> è¡¨ç¤ºç›®å½• <span class="hljs-string">"- assets/images/"</span>
                           <span class="hljs-string">"f"</span> è¡¨ç¤ºæ–‡ä»¶ <span class="hljs-string">"- assets/images/xxx.jpg"</span>
                           (é»˜è®¤å€¼ä¸º <span class="hljs-string">"d"</span>)
-s, <span class="hljs-comment">--[no-]save            æ˜¯å¦å°†å‚æ•°ä¿å­˜åˆ°æœ¬åœ°</span>
                           å¦‚æœä¸å¸¦ä»»ä½•å‚æ•°è¿è¡Œ <span class="hljs-string">"agen"</span>ï¼Œå°†æ‰§è¡Œæœ¬åœ°ä¿å­˜çš„å‚æ•°
-o, <span class="hljs-comment">--out                  å¸¸é‡ç±»çš„è¾“å‡ºè·¯å¾„</span>
                           (é»˜è®¤å€¼ä¸º <span class="hljs-string">"lib"</span>)
-r, <span class="hljs-comment">--rule                 èµ„æºå¸¸é‡çš„å‘½åè§„åˆ™</span>
                           <span class="hljs-string">"lwu"</span>(lowercase_with_underscores) : <span class="hljs-string">"assets_images_xxx_jpg"</span>
                           <span class="hljs-string">"uwu"</span>(uppercase_with_underscores) : <span class="hljs-string">"ASSETS_IMAGES_XXX_JPG"</span>
                           <span class="hljs-string">"lcc"</span>(lowerCamelCase)             : <span class="hljs-string">"assetsImagesXxxJpg"</span>
                           (é»˜è®¤å€¼ä¸º <span class="hljs-string">"lwu"</span>)
-c, <span class="hljs-comment">--class                å¸¸é‡ç±»çš„åç§°</span>
                           (é»˜è®¤å€¼ä¸º <span class="hljs-string">"Assets"</span>)
    <span class="hljs-comment">--const-ignore         ç”¨äºå¿½ç•¥æŸäº›å¸¸é‡çš„æ­£åˆ™è¡¨è¾¾å¼</span>
    <span class="hljs-comment">--[no-]const-array     æ˜¯å¦ç”ŸæˆåŒ…å«æ‰€æœ‰å¸¸é‡çš„æ•°ç»„</span>
    <span class="hljs-comment">--folder-ignore        ç”¨äºå¿½ç•¥æŸäº›æ–‡ä»¶å¤¹çš„æ­£åˆ™è¡¨è¾¾å¼</span>
    <span class="hljs-comment">--[no-]package         æ˜¯å¦ä¸º packageï¼Œå¦‚æœä¸º trueï¼Œå°†åœ¨ Assets ç±»ä¸­ç”ŸæˆåŒ…å</span>
    <span class="hljs-comment">--[no-]class-prefix    æ˜¯å¦ä½¿ç”¨åŒ…åä½œä¸ºå¸¸é‡ç±»åç§°çš„å‰ç¼€</span>
    <span class="hljs-comment">--[no-]g-suffix        ç”Ÿæˆçš„æ–‡ä»¶æ˜¯å¦ä»¥ .g ç»“å°¾</span>
    <span class="hljs-comment">--package-ignore       ç”¨äºå¿½ç•¥æŸäº›åŒ…çš„æ­£åˆ™è¡¨è¾¾å¼</span>
    <span class="hljs-comment">--[no-]use-key-name    æ˜¯å¦ä½¿ç”¨ keyName é£æ ¼ (packages/{package}/...) çš„èµ„æºè·¯å¾„</span>
    <span class="hljs-comment">--root-package         æŒ‡å®šå“ªä¸ªåŒ…åº”è¢«è§†ä¸ºæ ¹é¡¹ç›®ï¼ˆé€šè¿‡åŒ…åï¼‰</span>
</code></pre>
<h2 data-id="heading-16">ç»“è¯­</h2>
<p>å®é™…ä¸Šï¼Œ<code>keyName</code> é£æ ¼ï¼Œå¾ˆæ—©å°±æœ‰äººæè¿‡äº†ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä½œä¸ºä¸€ä¸ªå·¥å…·ï¼Œè¿˜æ˜¯å°½é‡ä¸è¦é­”æ³•åŒ–ï¼Œä»¥å®˜æ–¹çš„æ–¹å¼å‘ˆç°æ‰æ˜¯æœ€ä½³ã€‚å› ä¸ºä¸€æ—¦å®˜æ–¹ä¿®æ”¹äº† <code>keyName</code> çš„æ ¼å¼ï¼Œæˆ‘ä»¬åˆæ²¡æœ‰æ„ŸçŸ¥åˆ°çš„è¯ï¼Œå°†é€ æˆé‡å¤§çš„å½±å“ã€‚</p>
<blockquote>
<p>å½“ç„¶ï¼Œå·¥å…·æ˜¯ç»™äººä½¿ç”¨çš„ï¼Œä½¿ç”¨é€‰æ‹©æƒåœ¨ç”¨æˆ·ï¼Œæˆ‘å¯ä»¥ä¸ç”¨ï¼Œä½†æ˜¯ä½ å¿…é¡»è¦æœ‰ï¼Œè¿™æ‰æ˜¯å¾€å¾€ç”¨æˆ·æƒ³è¦çš„ã€‚</p>
</blockquote>
<p>æ¬¢è¿åŠ å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffluttercandies" target="_blank" title="https://github.com/fluttercandies" ref="nofollow noopener noreferrer">Flutter Candies</a>ï¼Œä¸€èµ·ç”Ÿäº§å¯çˆ±çš„Flutterå°ç³–æœ<a href="https://link.juejin.cn?target=https%3A%2F%2Fimg.shields.io%2Fbadge%2Fdynamic%2Fyaml%3Furl%3Dhttps%253A%252F%252Fgitee.com%252Fzmtzawqlp%252F.flutter_github%252Fraw%252Fmain%252Fdata.yml%26query%3D%2524.qq_group_number%26style%3Dfor-the-badge%26label%3DQQ%25E7%25BE%25A4%26logo%3Dqq%26color%3D1DACE8" target="_blank" title="https://img.shields.io/badge/dynamic/yaml?url=https%3A%2F%2Fgitee.com%2Fzmtzawqlp%2F.flutter_github%2Fraw%2Fmain%2Fdata.yml&amp;query=%24.qq_group_number&amp;style=for-the-badge&amp;label=QQ%E7%BE%A4&amp;logo=qq&amp;color=1DACE8" ref="nofollow noopener noreferrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8afe301bcc2a4fccbdbcee6d05927a8c~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=90&amp;h=22&amp;s=1827&amp;e=png&amp;b=1fa4e6" alt="" loading="lazy"/></a></p>
<p>æœ€æœ€åæ”¾ä¸Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ffluttercandies" target="_blank" title="https://github.com/fluttercandies" ref="nofollow noopener noreferrer">Flutter Candies</a>å…¨å®¶æ¡¶ï¼ŒçœŸé¦™ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/192cbc5338cc4848af54c629d6865050~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1920&amp;h=1920&amp;s=131155&amp;e=png&amp;a=1&amp;b=5abffa" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ Dubbo æœåŠ¡æš´éœ²æœºåˆ¶ï¼šä»æ³¨è§£åˆ°ç½‘ç»œçš„å®Œæ•´é“¾è·¯å‰–æ]]></title>    <link>https://juejin.cn/post/7572841327293890612</link>    <guid>https://juejin.cn/post/7572841327293890612</guid>    <pubDate>2025-11-16T17:23:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572841327293890612" data-draft-id="7572790083095691299" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ Dubbo æœåŠ¡æš´éœ²æœºåˆ¶ï¼šä»æ³¨è§£åˆ°ç½‘ç»œçš„å®Œæ•´é“¾è·¯å‰–æ"/> <meta itemprop="keywords" content="Dubbo,Java"/> <meta itemprop="datePublished" content="2025-11-16T17:23:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ°´ä¸å¦‚è¿œæ–¹"/> <meta itemprop="url" content="https://juejin.cn/user/1239904847665709"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ Dubbo æœåŠ¡æš´éœ²æœºåˆ¶ï¼šä»æ³¨è§£åˆ°ç½‘ç»œçš„å®Œæ•´é“¾è·¯å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1239904847665709/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ°´ä¸å¦‚è¿œæ–¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T17:23:46.000Z" title="Sun Nov 16 2025 17:23:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€ï¼šæœåŠ¡æš´éœ²æ²¡ä½ æƒ³å¾—é‚£ä¹ˆç®€å•</h2>
<p>å¾ˆå¤šäººä»¥ä¸º Dubbo çš„â€œæœåŠ¡æš´éœ²â€å°±æ˜¯ä¸¤ä»¶äº‹ï¼š</p>
<blockquote>
<p>å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨ â†’ å¾€æ³¨å†Œä¸­å¿ƒï¼ˆZookeeper / Nacosï¼‰å†™ä¸€æ¡è®°å½•ã€‚</p>
</blockquote>
<p>ä½†çœŸå®é“¾è·¯è¦å¤æ‚å¾—å¤šï¼š</p>
<ul>
<li>Spring æ‰«æ <code>@DubboService</code>ï¼Œç»„è£…å‡ºå„ç§ <code>*Config</code></li>
<li>åŸºäºé…ç½®æ„å»ºä¸€æ¡æ‰¿è½½æ‰€æœ‰ä¿¡æ¯çš„ <code>URL</code></li>
<li>é€šè¿‡ <code>ProxyFactory</code> ä¸ºæœåŠ¡å®ç°ç”Ÿæˆ <code>Invoker</code> + <code>Wrapper</code>ï¼ˆç»•å¼€åå°„ï¼‰</li>
<li>å¤šå±‚ <code>Protocol</code> åŒ…è£…ï¼ˆè¿‡æ»¤å™¨ã€ç›‘å¬å™¨ã€æ³¨å†Œé€»è¾‘ã€çœŸæ­£çš„ç½‘ç»œåè®®ï¼‰</li>
<li>å¯åŠ¨ Netty Serverï¼Œç»‘å®šç«¯å£å¼€å§‹ç›‘å¬</li>
<li>å°†æœåŠ¡ä¿¡æ¯å†™åˆ°æ³¨å†Œä¸­å¿ƒï¼Œå¹¶è®¢é˜…åŠ¨æ€é…ç½® / è·¯ç”±ç­‰æ²»ç†æ•°æ®</li>
</ul>
<p>æœ¬æ–‡ä¼šæ²¿ç€<strong>ä¸€æ¬¡ <code>@DubboService</code> æœåŠ¡æš´éœ²çš„å®Œæ•´è·¯å¾„</strong>ï¼Œä»æºç è§†è§’æŠŠè¿™æ¡é“¾è·¯æ‹†å¼€æ¥çœ‹ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä» @DubboService åˆ° ServiceConfigï¼šæš´éœ²çš„èµ·ç‚¹</h2>
<p>å…ˆçœ‹ä¸€ä¸ªæœ€æ™®é€šçš„æœåŠ¡å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@DubboService(version = "1.0.0", timeout = 3000)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long userId)</span> {
        <span class="hljs-keyword">return</span> userRepository.findById(userId);
    }
}
</code></pre>
<p>è¿™ä¸€è¡Œæ³¨è§£èƒŒåï¼Œè‡³å°‘è—ç€ä¸‰å±‚åŠ¨ä½œï¼š</p>
<ol>
<li><strong>Spring å¯åŠ¨æ—¶</strong>ï¼šæ‰«æ Bean â†’ åˆ›å»º <code>ServiceBean</code> / <code>ServiceConfig</code></li>
<li><strong>Spring å®¹å™¨åˆ·æ–°å®Œæˆå</strong>ï¼šæ ¹æ® delay é…ç½®å†³å®šä½•æ—¶è§¦å‘ <code>export()</code></li>
<li><strong><code>export()</code> å†…éƒ¨</strong>ï¼šç»„è£… URL â†’ åˆ›å»º Invoker â†’ èµ° Protocol é“¾ â†’ å¯åŠ¨ Netty â†’ æ³¨å†Œä¸­å¿ƒæ³¨å†Œ</li>
</ol>
<h3 data-id="heading-2">2.1 ServiceConfig æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ</h3>
<p>å¯åŠ¨é˜¶æ®µï¼ŒSpring ä¼šåšå‡ ä»¶äº‹ï¼š</p>
<ul>
<li><code>ServiceAnnotationBeanPostProcessor</code> æ‰«æ <code>@DubboService</code></li>
<li>ä¸ºæ¯ä¸ªå¸¦æ³¨è§£çš„ç±»åˆ›å»ºå¯¹åº”çš„ <code>ServiceBean</code> / <code>ServiceConfig</code></li>
<li>å¾€ <code>ServiceConfig</code> é‡Œå¡æ»¡é…ç½®ï¼šæ¥å£ã€å®ç°ç±»ã€åè®®ã€æ³¨å†Œä¸­å¿ƒã€åº”ç”¨ã€æ–¹æ³•çº§é…ç½®ç­‰</li>
</ul>
<p>å¯ä»¥ç®€å•ç†è§£ä¸ºï¼š</p>
<blockquote>
<p><strong><code>@DubboService</code> å¯¹åº”ç€ä¸€ä¸ª <code>ServiceConfig</code> å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹å°±æ˜¯â€œæœåŠ¡æš´éœ²çš„é…ç½®ä¸­æ¢â€ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-3">2.2 æš´éœ²æ—¶æœºï¼šç«‹å³ã€å»¶è¿Ÿã€æ‰‹åŠ¨</h3>
<h4 data-id="heading-4">1ï¼‰å®¹å™¨åˆ·æ–°åç«‹å³æš´éœ²ï¼ˆé»˜è®¤ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@DubboService</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {
    <span class="hljs-comment">// Spring ContextRefreshedEvent åï¼Œç›´æ¥ export()</span>
}
</code></pre>
<p>æµç¨‹å¤§è‡´æ˜¯ï¼š</p>
<ul>
<li>Spring å‘å¸ƒ <code>ContextRefreshedEvent</code></li>
<li>Dubbo çš„ <code>ServiceBean#onApplicationEvent</code> æ”¶åˆ°äº‹ä»¶</li>
<li>åˆ¤æ–­ <code>delay</code> é…ç½®ï¼šå¦‚æœæ²¡è®¾ç½®æˆ– â‰¤ 0ï¼Œå°±ç›´æ¥è°ƒç”¨ <code>export()</code></li>
</ul>
<h4 data-id="heading-5">2ï¼‰å»¶æ—¶æš´éœ²</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@DubboService(delay = 5000)</span>  <span class="hljs-comment">// å»¶è¿Ÿ 5 ç§’</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä¸€äº›åˆå§‹åŒ–é€»è¾‘ï¼Œæ¯”å¦‚ç¼“å­˜é¢„çƒ­</span>
    }
}
</code></pre>
<p>é€»è¾‘å˜æˆï¼š</p>
<ul>
<li>Spring åˆ·æ–°å®Œæˆåä¸ç«‹åˆ»æš´éœ²</li>
<li>æäº¤ä¸€ä¸ªå»¶è¿Ÿä»»åŠ¡ï¼Œ<strong>å†ç­‰ 5 ç§’</strong> æ‰æ‰§è¡Œ <code>ServiceConfig.export()</code></li>
</ul>
<p>å…¸å‹åœºæ™¯ï¼š</p>
<ul>
<li>ä¾èµ–çš„ä¸‹æ¸¸æœåŠ¡éœ€è¦å…ˆå°±ç»ªä¸€æ®µæ—¶é—´</li>
<li>æœ¬åœ°æ¨¡å‹ã€ç¼“å­˜ã€è§„åˆ™ç­‰éœ€è¦é¢„çƒ­</li>
</ul>
<h4 data-id="heading-6">3ï¼‰æ‰‹åŠ¨æš´éœ²ï¼šå®Œå…¨è‡ªå·±æ§åˆ¶æ—¶æœº</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DubboManualExportConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> ServiceConfig&lt;UserService&gt; <span class="hljs-title function_">userServiceConfig</span><span class="hljs-params">(UserService userService)</span> {
        ServiceConfig&lt;UserService&gt; config = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServiceConfig</span>&lt;&gt;();
        config.setInterface(UserService.class);
        config.setRef(userService);
        <span class="hljs-comment">// ä¸è°ƒç”¨ exportï¼Œå…ˆç•™ç€</span>
        <span class="hljs-keyword">return</span> config;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">manualExport</span><span class="hljs-params">(ServiceConfig&lt;UserService&gt; config)</span> {
        <span class="hljs-comment">// åœ¨ä½ è®¤ä¸ºåˆé€‚çš„æ—¶å€™å†æš´éœ²</span>
        config.export();
    }
}
</code></pre>
<p>å¯ä»¥é…åˆè‡ªå®šä¹‰äº‹ä»¶ã€å¥åº·æ£€æŸ¥ã€ä¸šåŠ¡æ¢é’ˆç­‰æ–¹å¼ï¼Œåœ¨â€œä¸šåŠ¡çœŸæ­£å‡†å¤‡å¥½â€ä¹‹åå†å¯¹å¤–å¼€æ”¾ã€‚</p>
<h4 data-id="heading-7">4ï¼‰æ—¶åºå›¾ï¼šä»æ³¨è§£åˆ° export()</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Spring
    participant ServiceBean
    participant Scheduler
    participant ServiceConfig

    Spring-&gt;&gt;ServiceBean: æ‰«æ @DubboServiceï¼Œåˆ›å»º ServiceBean
    Spring-&gt;&gt;Spring: å®¹å™¨åˆ·æ–°å®Œæˆ
    Spring-&gt;&gt;ServiceBean: å‘å¸ƒ ContextRefreshedEvent

    alt delay == null æˆ– delay &lt;= 0
        Note right of ServiceBean: ä¸é¢å¤–å»¶æ—¶&lt;br/&gt;æ”¶åˆ°äº‹ä»¶åç›´æ¥ export()
        ServiceBean-&gt;&gt;ServiceConfig: export()
        ServiceConfig-&gt;&gt;ServiceConfig: doExport()
    else delay &gt; 0
        Note right of ServiceBean: æäº¤å»¶æ—¶ä»»åŠ¡
        ServiceBean-&gt;&gt;Scheduler: æäº¤ delay ä»»åŠ¡
        Scheduler-&gt;&gt;ServiceConfig: delay ç»“æŸåæ‰§è¡Œ export()
        ServiceConfig-&gt;&gt;ServiceConfig: doExport()
    end
</code></pre>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€æœåŠ¡æš´éœ²å…¨æµç¨‹é¸Ÿç°</h2>
<h3 data-id="heading-9">3.1 äº”ä¸ªé˜¶æ®µï¼šä»é…ç½®åˆ°åŠ¨æ€é…ç½®è®¢é˜…</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A["é˜¶æ®µ1ï¼šé…ç½®è§£æä¸æ ¡éªŒ"] --&gt; B["é˜¶æ®µ2ï¼šInvoker æ„å»º"]
    B --&gt; C["é˜¶æ®µ3ï¼šåè®®å±‚æš´éœ²"]
    C --&gt; D["é˜¶æ®µ4ï¼šæ³¨å†Œä¸­å¿ƒæ³¨å†Œ"]
    D --&gt; E["é˜¶æ®µ5ï¼šè®¢é˜…åŠ¨æ€é…ç½®"]
    
    A1["æ£€æŸ¥æ¥å£ã€æ–¹æ³•&lt;br/&gt;è§£æå„ç§ Config"] --&gt; A
    B1["ProxyFactory ç”Ÿæˆ Invoker&lt;br/&gt;Javassist ç”Ÿæˆ Wrapper"] --&gt; B
    C1["å¤šå±‚ Protocol åŒ…è£…&lt;br/&gt;DubboProtocol å¯åŠ¨æœåŠ¡å™¨"] --&gt; C
    D1["æ„é€  provider URL&lt;br/&gt;å†™å…¥ Zookeeper providers èŠ‚ç‚¹"] --&gt; D
    E1["è®¢é˜… configurators / routers&lt;br/&gt;åŠ¨æ€æ„ŸçŸ¥é…ç½®å˜æ›´"] --&gt; E
    
    style A fill:#e1f5ff
    style B fill:#fff3cd
    style C fill:#ffeaa7
    style D fill:#d4edda
    style E fill:#dfe6e9
</code></pre>
<p>å¯ä»¥æŠŠ Dubbo çš„æœåŠ¡æš´éœ²çœ‹æˆä¸€ä¸ªâ€œåˆ†å±‚è´£ä»»é“¾â€ï¼š</p>
<ul>
<li><strong>ServiceConfig å±‚</strong>ï¼šè´Ÿè´£èšåˆå’Œæ ¡éªŒé…ç½®</li>
<li><strong>Proxy / Invoker å±‚</strong>ï¼šæŠŠå®ç°ç±»åŒ…è£…æˆç»Ÿä¸€çš„â€œå¯è°ƒç”¨ä½“â€</li>
<li><strong>Protocol å±‚</strong>ï¼šåè®®åŒ…è£…ã€è¿‡æ»¤å™¨ã€ç›‘å¬å™¨ã€æ³¨å†Œä¸­å¿ƒæ¥å…¥</li>
<li><strong>Transport å±‚</strong>ï¼šçœŸæ­£å¯åŠ¨ Nettyï¼Œè´Ÿè´£ç½‘ç»œ IO</li>
<li><strong>Registry å±‚</strong>ï¼šæ³¨å†Œã€è®¢é˜…ã€æ„ŸçŸ¥æ²»ç†é…ç½®</li>
</ul>
<p>æ•´æ¡é“¾è·¯ä¸Šï¼Œé…ç½®é€šè¿‡ <strong>URL</strong> åœ¨å„å±‚ä¹‹é—´ä¼ é€’ï¼Œè¿™å°±æ˜¯ Dubbo çš„â€œé…ç½®æ€»çº¿â€è®¾è®¡ã€‚</p>
<h3 data-id="heading-10">3.2 è°ƒç”¨é“¾ï¼šä» Spring åˆ° Netty</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Spring
    participant ServiceConfig
    participant ProxyFactory
    participant RegistryProtocol
    participant DubboProtocol
    participant Registry
    participant Netty

    Note over Spring,Netty: ä» Spring å®¹å™¨åˆ°ç½‘ç»œç›‘å¬çš„å®Œæ•´é“¾è·¯
    
    Spring-&gt;&gt;ServiceConfig: è§¦å‘ export()
    ServiceConfig-&gt;&gt;ServiceConfig: checkAndUpdateSubConfigs()
    
    ServiceConfig-&gt;&gt;ProxyFactory: getInvoker(ref, interface, url)
    Note right of ProxyFactory: ä½¿ç”¨ Wrapper åŒ…è£…å®ç°ç±»&lt;br/&gt;é¿å…åå°„å¼€é”€
    ProxyFactory--&gt;&gt;ServiceConfig: AbstractProxyInvoker
    
    ServiceConfig-&gt;&gt;RegistryProtocol: export(invoker)
    Note right of RegistryProtocol: åŒ…è£… DubboProtocolï¼Œè´Ÿè´£æ³¨å†Œä¸­å¿ƒé€»è¾‘
    
    RegistryProtocol-&gt;&gt;DubboProtocol: doLocalExport(invoker)
    Note right of DubboProtocol: åˆ›å»º Exporterï¼Œå¯åŠ¨ Netty
    
    DubboProtocol-&gt;&gt;Netty: openServer(url)
    Netty-&gt;&gt;Netty: bind(port)&lt;br/&gt;å¯åŠ¨ boss/worker çº¿ç¨‹
    Netty--&gt;&gt;DubboProtocol: è¿”å› server å®ä¾‹
    
    RegistryProtocol-&gt;&gt;Registry: register(providerUrl)
    Registry--&gt;&gt;RegistryProtocol: æ³¨å†ŒæˆåŠŸ
    
    RegistryProtocol-&gt;&gt;Registry: subscribe(overrideUrl)
    RegistryProtocol--&gt;&gt;ServiceConfig: è¿”å› DestroyableExporter
</code></pre>
<hr/>
<h2 data-id="heading-11">å››ã€ä¸‰ä¸ªæ ¸å¿ƒæŠ½è±¡ï¼šURL / Invoker / Protocol</h2>
<h3 data-id="heading-12">4.1 URLï¼šDubbo çš„é…ç½®æ€»çº¿</h3>
<p>åœ¨ Dubbo é‡Œï¼ŒURL ç»ä¸æ˜¯â€œä¸€ä¸ªå­—ç¬¦ä¸²â€é‚£ä¹ˆç®€å•ï¼Œå®ƒæ‰¿è½½ç€æ•´ä¸ªæœåŠ¡æš´éœ²è¿‡ç¨‹çš„å…³é”®ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸€ä¸ªçœŸå®çš„ provider URL ç¤ºä¾‹</span>
dubbo:<span class="hljs-comment">//192.168.1.100:20880/com.example.UserService</span>
    ?anyhost=<span class="hljs-literal">true</span>
    &amp;application=demo-provider
    &amp;bind.ip=<span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
    &amp;bind.port=<span class="hljs-number">20880</span>
    &amp;dubbo=<span class="hljs-number">2.0</span><span class="hljs-number">.2</span>
    &amp;generic=<span class="hljs-literal">false</span>
    &amp;interface=com.example.UserService
    &amp;methods=getUserById,createUser,updateUser
    &amp;pid=<span class="hljs-number">12345</span>
    &amp;side=provider
    &amp;timestamp=<span class="hljs-number">1699920000000</span>
    &amp;version=<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¦ç”¨ URL æ¥åšé…ç½®æ€»çº¿ï¼Ÿ</strong></p>
<ol>
<li><strong>ç»Ÿä¸€æ¨¡å‹</strong>ï¼šæ‰€æœ‰é…ç½®éƒ½ç”¨ <code>key=value</code> æ–¹å¼æ”¾åœ¨ URL ä¸Š</li>
<li><strong>æ˜“äºä¼ é€’</strong>ï¼šå„ä¸ªå±‚ï¼ˆConfigã€Protocolã€Transportã€Registryï¼‰ä¹‹é—´åªéœ€è¦ä¼  URL</li>
<li><strong>æ‰©å±•ç®€å•</strong>ï¼šæ–°å¢å‚æ•°åªè¦åŠ ä¸€ä¸ª keyï¼Œä¸éœ€è¦æ”¹ç±»ç»“æ„</li>
<li><strong>æ˜“äºåºåˆ—åŒ–</strong>ï¼šå¯ä»¥ç›´æ¥åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå†™å…¥æ³¨å†Œä¸­å¿ƒæˆ–è€…æ—¥å¿—</li>
</ol>
<p>å¸¸è§å…³é”®å‚æ•°ï¼š</p>
<ul>
<li><code>protocol</code>ï¼šåè®®ç±»å‹ï¼ˆ<code>dubbo</code>ã€<code>rest</code>ã€<code>grpc</code> ç­‰ï¼‰</li>
<li><code>host:port</code>ï¼šæœåŠ¡ç›‘å¬åœ°å€</li>
<li><code>path</code>ï¼šæ¥å£å…¨é™å®šå</li>
<li><code>side=provider</code>ï¼šæ ‡è¯†å½“å‰ URL æ‰€åœ¨è§’è‰²</li>
<li><code>methods</code>ï¼šå½“å‰æœåŠ¡æš´éœ²çš„æ–¹æ³•åˆ—è¡¨</li>
<li><code>timestamp</code>ï¼šæœåŠ¡å¯åŠ¨æ—¶é—´</li>
</ul>
<p>åœ¨æš´éœ²è¿‡ç¨‹ä¸­ï¼ŒURL è¿˜ä¼šè¢«â€œå±‚å±‚åŠ å·¥â€ï¼šåŠ ä¸Šæ³¨å†Œä¸­å¿ƒã€ç›‘æ§ã€åŠ¨æ€é…ç½®ã€è·¯ç”±ç­‰å‚æ•° â€”â€” <strong>æ‰€æœ‰æ²»ç†èƒ½åŠ›ï¼Œæœ€åéƒ½è½åœ¨ URL ä¸Š</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-13">4.2 Invokerï¼šç»Ÿä¸€è°ƒç”¨æ¨¡å‹</h3>
<p><code>Invoker</code> æ˜¯ Dubbo é‡Œæœ€æ ¸å¿ƒçš„é¢†åŸŸæ¨¡å‹ä¹‹ä¸€ï¼Œä»£è¡¨ä¸€ä¸ªâ€œå¯æ‰§è¡Œçš„æœåŠ¡â€ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Invoker</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Node</span> {
    Class&lt;T&gt; <span class="hljs-title function_">getInterface</span><span class="hljs-params">()</span>;
    Result <span class="hljs-title function_">invoke</span><span class="hljs-params">(Invocation invocation)</span> <span class="hljs-keyword">throws</span> RpcException;
}
</code></pre>
<p>ä»å½¢æ€ä¸Šçœ‹ï¼ŒInvoker ä¸»è¦æœ‰ä¸‰ç§ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[Invoker æŠ½è±¡] --&gt; B[Provider æœ¬åœ° Invoker]
    A --&gt; C[Consumer è¿œç¨‹ Invoker]
    A --&gt; D[é›†ç¾¤ Invoker]
    
    B --&gt; B1[AbstractProxyInvoker&lt;br/&gt;åŒ…è£…æœ¬åœ°å®ç°ç±»]
    C --&gt; C1[DubboInvoker&lt;br/&gt;å°è£…è¿œç¨‹è°ƒç”¨é€»è¾‘]
    D --&gt; D1[FailoverClusterInvoker&lt;br/&gt;å†…å«å¤šä¸ªè¿œç¨‹ Invoker]
    
    style B1 fill:#e1f5ff
    style C1 fill:#fff3cd
    style D1 fill:#ffeaa7
</code></pre>
<p><strong>Provider ä¾§ Invoker æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JavassistProxyFactory</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProxyFactory</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; Invoker&lt;T&gt; <span class="hljs-title function_">getInvoker</span><span class="hljs-params">(T proxy, Class&lt;T&gt; type, URL url)</span> {
        <span class="hljs-keyword">final</span> <span class="hljs-type">Wrapper</span> <span class="hljs-variable">wrapper</span> <span class="hljs-operator">=</span> Wrapper.getWrapper(
            proxy.getClass().getName().indexOf(<span class="hljs-string">'$'</span>) &lt; <span class="hljs-number">0</span> ? proxy.getClass() : type
        );
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbstractProxyInvoker</span>&lt;T&gt;(proxy, type, url) {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">protected</span> Object <span class="hljs-title function_">doInvoke</span><span class="hljs-params">(T proxy, String methodName,
                                     Class&lt;?&gt;[] parameterTypes,
                                     Object[] arguments)</span> <span class="hljs-keyword">throws</span> Throwable {
                <span class="hljs-comment">// å®é™…è°ƒç”¨èµ° Wrapperï¼Œä¸ç”¨åå°„</span>
                <span class="hljs-keyword">return</span> wrapper.invokeMethod(proxy, methodName, parameterTypes, arguments);
            }
        };
    }
}
</code></pre>
<p>è¿™é‡Œçš„å…³é”®å°±æ˜¯ï¼š<strong>å…ˆç”¨ Wrapper æŠŠå®ç°ç±»â€œç¼–è¯‘æˆâ€ä¸€ä¸ªé«˜æ•ˆè°ƒç”¨å™¨ï¼Œå†ç”¨ Invoker æŠŠå®ƒé€‚é…æˆç»Ÿä¸€è°ƒç”¨æ¨¡å‹ã€‚</strong></p>
<hr/>
<h3 data-id="heading-14">4.3 Protocolï¼šåˆ†å±‚åŒ…è£… + è‡ªé€‚åº”æ‰©å±•</h3>
<p>Protocol çš„å±‚çº§ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ServiceConfig] --&gt; B[ProtocolFilterWrapper]
    B --&gt; C[ProtocolListenerWrapper]
    C --&gt; D[RegistryProtocol]
    D --&gt; E[DubboProtocol]
    
    B -.-&gt; B1[Filter é“¾ï¼šé™æµã€ç›‘æ§ã€Context...]
    C -.-&gt; C1[ExporterListener / InvokerListener]
    D -.-&gt; D1[æ³¨å†Œã€è®¢é˜…ã€åŠ¨æ€é…ç½®]
    E -.-&gt; E1[Nettyã€åºåˆ—åŒ–ã€åè®®ç¼–è§£ç ]
    
    style E fill:#e74c3c
</code></pre>
<ul>
<li><code>ProtocolFilterWrapper</code>ï¼šç»™ Invoker å¤–é¢å¥—ä¸Šè¿‡æ»¤å™¨é“¾</li>
<li><code>ProtocolListenerWrapper</code>ï¼šæŒ‚ç›‘å¬å™¨ï¼Œæ„ŸçŸ¥æš´éœ²/é”€æ¯ç­‰äº‹ä»¶</li>
<li><code>RegistryProtocol</code>ï¼šä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ï¼Œæœ¬åœ°æš´éœ² + æ³¨å†Œ + è®¢é˜…</li>
<li><code>DubboProtocol</code>ï¼šçœŸæ­£å¤„ç† Dubbo åè®®å’Œç½‘ç»œé€šä¿¡</li>
</ul>
<p>é‚£ä¸€ä¸ªé—®é¢˜æ¥äº†ï¼š<strong>ServiceConfig è°ƒç”¨çš„ <code>PROTOCOL.export(invoker)</code>ï¼Œåˆ°åº•ä¼šè½åˆ°å“ªä¸ªå®ç°ä¸Šï¼Ÿ</strong></p>
<p>ç­”æ¡ˆæ˜¯ â€”â€” <strong>è‡ªé€‚åº”æ‰©å±•ï¼ˆAdaptive SPIï¼‰</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@SPI("dubbo")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Protocol</span> {

    <span class="hljs-meta">@Adaptive</span>
    &lt;T&gt; Exporter&lt;T&gt; <span class="hljs-title function_">export</span><span class="hljs-params">(Invoker&lt;T&gt; invoker)</span> <span class="hljs-keyword">throws</span> RpcException;

    <span class="hljs-meta">@Adaptive</span>
    &lt;T&gt; Invoker&lt;T&gt; <span class="hljs-title function_">refer</span><span class="hljs-params">(Class&lt;T&gt; type, URL url)</span> <span class="hljs-keyword">throws</span> RpcException;
}
</code></pre>
<p>Dubbo ä¼šåœ¨è¿è¡Œæ—¶ä¸º <code>Protocol</code> ç”Ÿæˆä¸€ä¸ª <code>Protocol$Adaptive</code> ç±»ï¼Œæ ¸å¿ƒé€»è¾‘ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Protocol$Adaptive</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Protocol</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Exporter&lt;?&gt; export(Invoker&lt;?&gt; invoker) <span class="hljs-keyword">throws</span> RpcException {
        <span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> invoker.getUrl();
        <span class="hljs-type">String</span> <span class="hljs-variable">extName</span> <span class="hljs-operator">=</span> url.getProtocol();   <span class="hljs-comment">// registry / dubbo / injvm ...</span>
        <span class="hljs-keyword">if</span> (extName == <span class="hljs-literal">null</span>) {
            extName = <span class="hljs-string">"dubbo"</span>; <span class="hljs-comment">// å¯¹åº” @SPI("dubbo")</span>
        }
        <span class="hljs-type">Protocol</span> <span class="hljs-variable">extension</span> <span class="hljs-operator">=</span> ExtensionLoader
                .getExtensionLoader(Protocol.class)
                .getExtension(extName);
        <span class="hljs-keyword">return</span> extension.export(invoker);
    }

    <span class="hljs-comment">// refer(...) ç±»ä¼¼</span>
}
</code></pre>
<p>å› æ­¤ï¼š</p>
<ul>
<li>URL æ˜¯ <code>registry://</code> â†’ é€‰æ‹© <code>RegistryProtocol</code></li>
<li>URL æ˜¯ <code>dubbo://</code> â†’ é€‰æ‹© <code>DubboProtocol</code></li>
<li>URL æ˜¯ <code>injvm://</code> â†’ é€‰æ‹© <code>InjvmProtocol</code></li>
</ul>
<p><strong>Protocol é“¾å¦‚ä½•å½¢æˆï¼Ÿ</strong></p>
<ul>
<li>ä»£ç ä¸­æ³¨å…¥çš„ <code>PROTOCOL</code> å®é™…ä¸Šæ˜¯ <code>ProtocolFilterWrapper(ProtocolListenerWrapper(Protocol$Adaptive))</code></li>
<li><code>Protocol$Adaptive</code> æ ¹æ® URL å†³å®šâ€œæ ¸å¿ƒå®ç°æ˜¯è°â€ï¼ˆDubbo / Registry / Injvmï¼‰</li>
<li>Wrapper å†åœ¨å¤–å±‚å¥—è¿‡æ»¤å™¨ã€ç›‘å¬å™¨ç­‰æ¨ªåˆ‡é€»è¾‘</li>
</ul>
<hr/>
<h2 data-id="heading-15">äº”ã€æºç è§†è§’ï¼šä¸€æ¬¡ export ç©¿è¿‡å“ªäº›ç±»</h2>
<h3 data-id="heading-16">5.1 ServiceConfig.doExportUrls()ï¼šæš´éœ²å…¥å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doExportUrls</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. åŠ è½½æ³¨å†Œä¸­å¿ƒé…ç½®</span>
    List&lt;URL&gt; registryURLs = ConfigValidationUtils.loadRegistries(<span class="hljs-built_in">this</span>, <span class="hljs-literal">true</span>);
    
    <span class="hljs-comment">// 2. éå†æ¯ä¸ªåè®®é…ç½®</span>
    <span class="hljs-keyword">for</span> (ProtocolConfig protocolConfig : protocols) {
        <span class="hljs-type">String</span> <span class="hljs-variable">pathKey</span> <span class="hljs-operator">=</span> URL.buildKey(
            getContextPath(protocolConfig).map(p -&gt; p + <span class="hljs-string">"/"</span> + path).orElse(path),
            group, version
        );
        
        <span class="hljs-comment">// 3. ä¸ºå•ä¸ªåè®®æ‰§è¡Œæš´éœ²</span>
        doExportUrlsFor1Protocol(protocolConfig, registryURLs);
    }
}
</code></pre>
<h3 data-id="heading-17">5.2 doExportUrlsFor1Protocol()ï¼šæ„å»º URL + è°ƒç”¨ export</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doExportUrlsFor1Protocol</span><span class="hljs-params">(ProtocolConfig protocolConfig,
                                      List&lt;URL&gt; registryURLs)</span> {
    <span class="hljs-comment">// 1. æ„å»ºå±æ€§ Map</span>
    Map&lt;String, String&gt; map = buildAttributes(protocolConfig);

    <span class="hljs-comment">// 2. ç§»é™¤ç©º key / value</span>
    map.keySet().removeIf(key -&gt;
        StringUtils.isEmpty(key) || StringUtils.isEmpty(map.get(key)));

    <span class="hljs-comment">// 3. é™„åŠ åˆ° metadata</span>
    serviceMetadata.getAttachments().putAll(map);

    <span class="hljs-comment">// 4. æ„å»º provider URL</span>
    <span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> buildUrl(protocolConfig, map);

    <span class="hljs-comment">// 5. æ ¹æ® scope å†³å®šæœ¬åœ°æš´éœ² / è¿œç¨‹æš´éœ²</span>
    exportUrl(url, registryURLs);
}
</code></pre>
<p><code>buildAttributes()</code> ä¼šæŠŠåº”ç”¨ã€æ¨¡å—ã€åè®®ã€æœåŠ¡ã€æ–¹æ³•çº§é…ç½®ç­‰å…¨éƒ¨æ‘Šå¹³åˆ°ä¸€ä¸ª Map é‡Œï¼Œæœ€ç»ˆè½åˆ° URL å‚æ•°ä¸­ã€‚</p>
<h3 data-id="heading-18">5.3 RegistryProtocol.export()ï¼šæœ¬åœ°æš´éœ² + æ³¨å†Œä¸­å¿ƒæ³¨å†Œ</h3>
<p>ç»è¿‡ä¸Šé¢çš„<code>exportUrl()</code> -&gt; <code>exportRemote()</code> -&gt; <code>doExportUrl()</code> -&gt; <code>doExportUrl</code> è¿›å…¥ä¸‹é¢æ–¹æ³•</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> &lt;T&gt; Exporter&lt;T&gt; <span class="hljs-title function_">export</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Invoker&lt;T&gt; originInvoker)</span> {
    <span class="hljs-comment">// 1. æ‹† registry:// å’Œ dubbo://</span>
    <span class="hljs-type">URL</span> <span class="hljs-variable">registryUrl</span> <span class="hljs-operator">=</span> getRegistryUrl(originInvoker);  <span class="hljs-comment">// registry://</span>
    <span class="hljs-type">URL</span> <span class="hljs-variable">providerUrl</span> <span class="hljs-operator">=</span> getProviderUrl(originInvoker);  <span class="hljs-comment">// dubbo://</span>
    
    <span class="hljs-comment">// 2. è®¢é˜… override é…ç½®</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">URL</span> <span class="hljs-variable">overrideSubscribeUrl</span> <span class="hljs-operator">=</span> getSubscribedOverrideUrl(providerUrl);
    <span class="hljs-keyword">final</span> <span class="hljs-type">OverrideListener</span> <span class="hljs-variable">overrideSubscribeListener</span> <span class="hljs-operator">=</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">OverrideListener</span>(overrideSubscribeUrl, originInvoker);
    
    <span class="hljs-comment">// 3. å…ˆåº”ç”¨ä¸€è½®åŠ¨æ€é…ç½®</span>
    providerUrl = overrideUrlWithConfig(providerUrl, overrideSubscribeListener);
    
    <span class="hljs-comment">// 4. æœ¬åœ°æš´éœ²ï¼ˆå¯åŠ¨ DubboProtocol / Nettyï¼‰</span>
    <span class="hljs-keyword">final</span> ExporterChangeableWrapper&lt;T&gt; exporter = doLocalExport(originInvoker, providerUrl);
    
    <span class="hljs-comment">// 5. è·å– Registry å®ä¾‹</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">Registry</span> <span class="hljs-variable">registry</span> <span class="hljs-operator">=</span> getRegistry(originInvoker);
    
    <span class="hljs-comment">// 6. è®¡ç®—å®é™…è¦æ³¨å†Œçš„ URL</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">URL</span> <span class="hljs-variable">registeredProviderUrl</span> <span class="hljs-operator">=</span> getUrlToRegistry(providerUrl, registryUrl);
    
    <span class="hljs-comment">// 7. å†³å®šæ˜¯å¦æ³¨å†Œ</span>
    <span class="hljs-type">boolean</span> <span class="hljs-variable">register</span> <span class="hljs-operator">=</span> providerUrl.getParameter(REGISTER_KEY, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">if</span> (register) {
        register(registryUrl, registeredProviderUrl);
    }
    
    <span class="hljs-comment">// 8. è®¢é˜… override / router ç­‰æ²»ç†æ•°æ®</span>
    registry.subscribe(overrideSubscribeUrl, overrideSubscribeListener);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DestroyableExporter</span>&lt;&gt;(exporter);
}
</code></pre>
<p><code>doLocalExport()</code> åˆ™è´Ÿè´£è°ƒç”¨ <code>DubboProtocol.export()</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> &lt;T&gt; ExporterChangeableWrapper&lt;T&gt; <span class="hljs-title function_">doLocalExport</span><span class="hljs-params">(
    <span class="hljs-keyword">final</span> Invoker&lt;T&gt; originInvoker, URL providerUrl)</span> {

    <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> getCacheKey(originInvoker);

    <span class="hljs-keyword">return</span> (ExporterChangeableWrapper&lt;T&gt;) bounds.computeIfAbsent(key, s -&gt; {
        Invoker&lt;?&gt; invokerDelegate = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvokerDelegate</span>&lt;&gt;(originInvoker, providerUrl);
        <span class="hljs-comment">// è°ƒç”¨DubboProtocol.export()</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExporterChangeableWrapper</span>&lt;&gt;(protocol.export(invokerDelegate), originInvoker);
    });
}
</code></pre>
<h3 data-id="heading-19">5.4 DubboProtocol.export()ï¼šç¼“å­˜ Exporter + å¯åŠ¨æœåŠ¡å™¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> &lt;T&gt; Exporter&lt;T&gt; <span class="hljs-title function_">export</span><span class="hljs-params">(Invoker&lt;T&gt; invoker)</span> <span class="hljs-keyword">throws</span> RpcException {
    <span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> invoker.getUrl();

    <span class="hljs-comment">// 1. æ„å»º service keyï¼ˆgroup/interface:version:portï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> serviceKey(url);

    <span class="hljs-comment">// 2. åˆ›å»º DubboExporter</span>
    DubboExporter&lt;T&gt; exporter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DubboExporter</span>&lt;&gt;(invoker, key, exporterMap);
    exporterMap.put(key, exporter);

    <span class="hljs-comment">// 3. å¯åŠ¨ Serverï¼ˆNettyï¼‰</span>
    openServer(url);

    <span class="hljs-comment">// 4. åºåˆ—åŒ–ç­‰ä¼˜åŒ–</span>
    optimizeSerialization(url);

    <span class="hljs-keyword">return</span> exporter;
}
</code></pre>
<p><strong>openServer()ï¼šæŒ‰åœ°å€ç»´åº¦å¤ç”¨ Server</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">openServer</span><span class="hljs-params">(URL url)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> url.getAddress();  <span class="hljs-comment">// host:port</span>
    <span class="hljs-type">boolean</span> <span class="hljs-variable">isServer</span> <span class="hljs-operator">=</span> url.getParameter(IS_SERVER_KEY, <span class="hljs-literal">true</span>);

    <span class="hljs-keyword">if</span> (isServer) {
        <span class="hljs-type">ProtocolServer</span> <span class="hljs-variable">server</span> <span class="hljs-operator">=</span> serverMap.get(key);
        <span class="hljs-keyword">if</span> (server == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
                server = serverMap.get(key);
                <span class="hljs-keyword">if</span> (server == <span class="hljs-literal">null</span>) {
                    serverMap.put(key, createServer(url));
                }
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å·²å­˜åœ¨çš„ server é‡ç½®é…ç½®</span>
            server.reset(url);
        }
    }
}
</code></pre>
<h3 data-id="heading-20">5.5 NettyServer.doOpen()ï¼šçœŸæ­£ç»‘å®šç«¯å£ç›‘å¬ï¼ˆ3.1.x / netty4ï¼‰</h3>
<p>è¿™é‡Œä»¥ Dubbo 3.1.x çš„ netty4 å®ç°ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NettyServer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractServer</span> {

    <span class="hljs-keyword">private</span> ServerBootstrap bootstrap;
    <span class="hljs-keyword">private</span> Channel channel;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doOpen</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Throwable {
        NettyHelper.setNettyLoggerFactory();

        <span class="hljs-comment">// 1. boss / worker çº¿ç¨‹æ± </span>
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">boss</span> <span class="hljs-operator">=</span> Executors.newCachedThreadPool(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">NamedThreadFactory</span>(<span class="hljs-string">"NettyServerBoss"</span>, <span class="hljs-literal">true</span>));
        <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">worker</span> <span class="hljs-operator">=</span> Executors.newCachedThreadPool(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">NamedThreadFactory</span>(<span class="hljs-string">"NettyServerWorker"</span>, <span class="hljs-literal">true</span>));

        <span class="hljs-type">ChannelFactory</span> <span class="hljs-variable">channelFactory</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioServerSocketChannelFactory</span>(
                boss,
                worker,
                getUrl().getPositiveParameter(IO_THREADS_KEY, DEFAULT_IO_THREADS));

        <span class="hljs-comment">// 2. åˆ›å»º ServerBootstrap</span>
        bootstrap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>(channelFactory);

        <span class="hljs-keyword">final</span> <span class="hljs-type">NettyHandler</span> <span class="hljs-variable">nettyHandler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NettyHandler</span>(getUrl(), <span class="hljs-built_in">this</span>);
        channels = nettyHandler.getChannels();

        <span class="hljs-comment">// 3. TCP å‚æ•°</span>
        bootstrap.setOption(<span class="hljs-string">"child.tcpNoDelay"</span>, <span class="hljs-literal">true</span>);
        bootstrap.setOption(<span class="hljs-string">"backlog"</span>,
                getUrl().getPositiveParameter(BACKLOG_KEY, DEFAULT_BACKLOG));

        <span class="hljs-comment">// 4. pipelineï¼šç¼–è§£ç  + ä¸šåŠ¡å¤„ç†</span>
        bootstrap.setPipelineFactory(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelPipelineFactory</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> ChannelPipeline <span class="hljs-title function_">getPipeline</span><span class="hljs-params">()</span> {
                <span class="hljs-type">NettyCodecAdapter</span> <span class="hljs-variable">adapter</span> <span class="hljs-operator">=</span>
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">NettyCodecAdapter</span>(getCodec(), getUrl(), NettyServer.<span class="hljs-built_in">this</span>);

                <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">pipeline</span> <span class="hljs-operator">=</span> Channels.pipeline();
                pipeline.addLast(<span class="hljs-string">"decoder"</span>, adapter.getDecoder());
                pipeline.addLast(<span class="hljs-string">"encoder"</span>, adapter.getEncoder());
                pipeline.addLast(<span class="hljs-string">"handler"</span>, nettyHandler);
                <span class="hljs-keyword">return</span> pipeline;
            }
        });

        <span class="hljs-comment">// 5. ç»‘å®šç«¯å£</span>
        channel = bootstrap.bind(getBindAddress());
    }
}
</code></pre>
<p>æ•°æ®åˆ°è¾¾åçš„ç®€åŒ–é“¾è·¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Socket æ”¶åŒ…
 â†’ Netty Decoder
 â†’ DubboCodecï¼šåè®®è§£ç ã€ååºåˆ—åŒ–
 â†’ NettyHandlerï¼šè½¬ä¸º Dubbo Channel
 â†’ ä¸šåŠ¡çº¿ç¨‹æ± ï¼šInvoker.<span class="hljs-built_in">invoke</span>()
 â†’ è¿”å› Resultï¼Œç¼–ç ã€å‘é€
</code></pre>
<hr/>
<h2 data-id="heading-21">å…­ã€æ€§èƒ½ä¸é«˜çº§ç‰¹æ€§</h2>
<h3 data-id="heading-22">6.1 Wrapperï¼šé¿å…åå°„çš„é»‘ç§‘æŠ€</h3>
<p>å¯¹æ¯”ä¸€ä¸‹ Wrapper è°ƒç”¨å’Œåå°„è°ƒç”¨çš„æ€§èƒ½å·®å¼‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WrapperVsReflectionTest</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserServiceImpl</span>();

        <span class="hljs-comment">// æ–¹å¼1ï¼šåå°„è°ƒç”¨</span>
        <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> UserServiceImpl.class.getMethod(<span class="hljs-string">"getUserById"</span>, Long.class);
        <span class="hljs-type">long</span> <span class="hljs-variable">start1</span> <span class="hljs-operator">=</span> System.nanoTime();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1_000_000</span>; i++) {
            method.invoke(service, <span class="hljs-number">1L</span>);
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">time1</span> <span class="hljs-operator">=</span> System.nanoTime() - start1;

        <span class="hljs-comment">// æ–¹å¼2ï¼šWrapper è°ƒç”¨</span>
        <span class="hljs-type">Wrapper</span> <span class="hljs-variable">wrapper</span> <span class="hljs-operator">=</span> Wrapper.getWrapper(UserServiceImpl.class);
        <span class="hljs-type">long</span> <span class="hljs-variable">start2</span> <span class="hljs-operator">=</span> System.nanoTime();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1_000_000</span>; i++) {
            wrapper.invokeMethod(service, <span class="hljs-string">"getUserById"</span>,
                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>[]{Long.class}, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[]{<span class="hljs-number">1L</span>});
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">time2</span> <span class="hljs-operator">=</span> System.nanoTime() - start2;

        System.out.println(<span class="hljs-string">"åå°„è€—æ—¶ï¼š"</span> + time1 / <span class="hljs-number">1_000_000</span> + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"Wrapperè€—æ—¶ï¼š"</span> + time2 / <span class="hljs-number">1_000_000</span> + <span class="hljs-string">"ms"</span>);
        System.out.println(<span class="hljs-string">"æ€§èƒ½æå‡ï¼š"</span> + (time1 / time2) + <span class="hljs-string">"å€"</span>);
    }
}
</code></pre>
<p>ç¤ºä¾‹è¾“å‡ºï¼ˆä¸åŒæœºå™¨ç•¥æœ‰å·®å¼‚ï¼‰ï¼š</p>
<ul>
<li>åå°„è€—æ—¶ï¼š800ms+</li>
<li>Wrapper è€—æ—¶ï¼šå‡ å ms</li>
<li>æ€§èƒ½æå‡ï¼šæ•°åå€</li>
</ul>
<p><strong>Wrapper ç”Ÿæˆæ€è·¯ï¼ˆåç¼–è¯‘åç±»ä¼¼ä¸‹é¢ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Wrapper1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Wrapper</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invokeMethod</span><span class="hljs-params">(Object instance, String methodName,
                              Class&lt;?&gt;[] paramTypes, Object[] args)</span>
            <span class="hljs-keyword">throws</span> InvocationTargetException {

        <span class="hljs-type">UserServiceImpl</span> <span class="hljs-variable">impl</span> <span class="hljs-operator">=</span> (UserServiceImpl) instance;

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"getUserById"</span>.equals(methodName) &amp;&amp; paramTypes.length == <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">return</span> impl.getUserById((Long) args[<span class="hljs-number">0</span>]);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"createUser"</span>.equals(methodName) &amp;&amp; paramTypes.length == <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">return</span> impl.createUser((User) args[<span class="hljs-number">0</span>]);
            }
            <span class="hljs-comment">// ... å…¶ä»–æ–¹æ³•</span>
        } <span class="hljs-keyword">catch</span> (Throwable e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InvocationTargetException</span>(e);
        }

        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NoSuchMethodException</span>(<span class="hljs-string">"Method not found: "</span> + methodName);
    }
}
</code></pre>
<p>æœ¬è´¨å°±æ˜¯ï¼š<strong>æŠŠâ€œåå°„â€æ¢æˆäº†â€œif + ç›´æ¥æ–¹æ³•è°ƒç”¨â€ï¼Œæ–¹æ³•åå’Œå‚æ•°ç±»å‹éƒ½é¢„å…ˆç¼“å­˜ï¼Œè°ƒç”¨å¼€é”€éå¸¸å°ã€‚</strong></p>
<hr/>
<h3 data-id="heading-23">6.2 çº¿ç¨‹æ¨¡å‹ï¼šé¿å… IO çº¿ç¨‹è¢«ä¸šåŠ¡é˜»å¡</h3>
<p>Dubbo çš„çº¿ç¨‹æ¨¡å‹å¤§è‡´å¯ä»¥æŠ½è±¡ä¸ºï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ç½‘ç»œè¯·æ±‚åˆ°è¾¾] --&gt; B{Dispatcher ç­–ç•¥}
    
    B --&gt;|all| C[IO çº¿ç¨‹: decode]
    C --&gt; D[ä¸šåŠ¡çº¿ç¨‹æ± : æ‰§è¡Œæ‰€æœ‰ä¸šåŠ¡]
    D --&gt; E[IO çº¿ç¨‹: encode + send]
    
    B --&gt;|direct| F[IO çº¿ç¨‹: decode + ä¸šåŠ¡ + encode + send]
    
    B --&gt;|message| H[IO çº¿ç¨‹: decode]
    H --&gt; I[ä¸šåŠ¡çº¿ç¨‹æ± : è¯·æ±‚å¤„ç†]
    I --&gt; J[IO çº¿ç¨‹: å“åº” encode + send]
    
    style D fill:#d4edda
    style I fill:#d4edda
</code></pre>
<p>å…¸å‹é…ç½®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é»˜è®¤ dispatcher="all" or "message"ï¼Œç”±ç‰ˆæœ¬å†³å®š --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dubbo:protocol</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dubbo"</span>
                <span class="hljs-attr">dispatcher</span>=<span class="hljs-string">"message"</span>
                <span class="hljs-attr">threadpool</span>=<span class="hljs-string">"fixed"</span>
                <span class="hljs-attr">threads</span>=<span class="hljs-string">"200"</span>
                <span class="hljs-attr">queues</span>=<span class="hljs-string">"100"</span>/&gt;</span>
</code></pre>
<p><strong>æ³¨æ„å‡ ä¸ªç‚¹ï¼š</strong></p>
<ul>
<li><code>threads</code> ä¸ <code>executes</code>ï¼ˆå•æœåŠ¡æœ€å¤§å¹¶å‘ï¼‰è¦åè°ƒï¼Œä¸è¦ä¸€ä¸ªè¿œå¤§äºå¦ä¸€ä¸ª</li>
<li>é˜Ÿåˆ—å¤ªå¤§ï¼šå®¹æ˜“å †ç§¯è¯·æ±‚å¯¼è‡´è¶…æ—¶</li>
<li>é˜Ÿåˆ—å¤ªå°ï¼šé«˜å³°æ—¶å¤§é‡è¢«æ‹’ç»</li>
</ul>
<h3 data-id="heading-24">6.3 æœ¬åœ°æš´éœ²ï¼šinjvm çš„ä¼˜åŒ–è·¯å¾„</h3>
<p>å½“ provider å’Œ consumer åœ¨åŒä¸€ä¸ª JVM é‡Œæ—¶ï¼Œèµ°ç½‘ç»œå°±å¤ªæµªè´¹äº† â€”â€” Dubbo å¯ä»¥é€šè¿‡ injvm åè®®èµ°â€œJVM å†…è°ƒç”¨â€ã€‚</p>
<p>å¯¼å‡ºç«¯ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exportLocal</span><span class="hljs-params">(URL url)</span> {
    <span class="hljs-type">URL</span> <span class="hljs-variable">local</span> <span class="hljs-operator">=</span> URLBuilder.from(url)
        .setProtocol(LOCAL_PROTOCOL) <span class="hljs-comment">// injvm</span>
        .setHost(<span class="hljs-string">"127.0.0.1"</span>)
        .setPort(<span class="hljs-number">0</span>)
        .build();

    Exporter&lt;?&gt; exporter = PROTOCOL.export(
        PROXY_FACTORY.getInvoker(ref, (Class) interfaceClass, local)
    );
    exporters.add(exporter);
}
</code></pre>
<p>å¯¹åº”çš„ <code>InjvmProtocol</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InjvmProtocol</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractProtocol</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Exporter&lt;?&gt;&gt; exporterMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; Exporter&lt;T&gt; <span class="hljs-title function_">export</span><span class="hljs-params">(Invoker&lt;T&gt; invoker)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InjvmExporter</span>&lt;T&gt;(invoker,
                invoker.getUrl().getServiceKey(), exporterMap);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; Invoker&lt;T&gt; <span class="hljs-title function_">refer</span><span class="hljs-params">(Class&lt;T&gt; type, URL url)</span> {
        Exporter&lt;?&gt; exporter = exporterMap.get(url.getServiceKey());
        <span class="hljs-keyword">if</span> (exporter == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcException</span>(<span class="hljs-string">"Service not found: "</span> + url);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">InjvmInvoker</span>&lt;T&gt;(type, url, exporter.getInvoker());
    }
}
</code></pre>
<p>åŒ JVM è°ƒç”¨å¯ä»¥æ¯”ç½‘ç»œè°ƒç”¨å¿«ä¸€ä¸ªæ•°é‡çº§ä»¥ä¸Šï¼Œæ˜¯æœ¬åœ°åŒ–éƒ¨ç½²çš„ä¸€ä¸ªé‡è¦ä¼˜åŒ–ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-25">ä¸ƒã€åŠ¨æ€é…ç½®ä¸æœåŠ¡æ²»ç†</h2>
<h3 data-id="heading-26">7.1 Zookeeper ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    subgraph Zookeeper
        Root["/dubbo"] --&gt; Service["/com.example.UserService"]
        Service --&gt; Providers["/providers"]
        Service --&gt; Consumers["/consumers"]
        Service --&gt; Configurators["/configurators"]
        Service --&gt; Routers["/routers"]
        
        Providers --&gt; P1["dubbo://192.168.1.100:20880/... (ä¸´æ—¶èŠ‚ç‚¹)"]
        Providers --&gt; P2["dubbo://192.168.1.101:20880/... (ä¸´æ—¶èŠ‚ç‚¹)"]
        
        Configurators --&gt; C1["override://0.0.0.0/...&lt;br/&gt;timeout=5000,weight=200"]
        
        Routers --&gt; R1["condition://0.0.0.0/...&lt;br/&gt;method=getUserById=&gt;host=192.168.1.100"]
    end
    
    style Providers fill:#d4edda
    style Configurators fill:#ffeaa7
    style P1 fill:#ff6b6b
    style P2 fill:#ff6b6b
</code></pre>
<ul>
<li><strong><code>/providers</code></strong>ï¼šå­˜æ”¾ provider URLï¼ˆä¸´æ—¶èŠ‚ç‚¹ï¼ŒæœåŠ¡ä¸‹çº¿è‡ªåŠ¨åˆ é™¤ï¼‰</li>
<li><strong><code>/consumers</code></strong>ï¼šè®°å½•æ¶ˆè´¹è€…ä¿¡æ¯ï¼Œç”¨äºæ²»ç†ä¸ç›‘æ§</li>
<li><strong><code>/configurators</code></strong>ï¼šåŠ¨æ€é…ç½®èŠ‚ç‚¹ï¼Œæ”¯æŒè¦†ç›– timeoutã€weightã€loadbalance ç­‰</li>
<li><strong><code>/routers</code></strong>ï¼šè·¯ç”±è§„åˆ™ï¼Œæ”¯æŒç°åº¦å‘å¸ƒã€æœºæˆ¿å°±è¿‘è·¯ç”±ç­‰</li>
</ul>
<h3 data-id="heading-27">7.2 OverrideListenerï¼šåŠ¨æ€é…ç½®ç”Ÿæ•ˆçš„å…¥å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OverrideListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">NotifyListener</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> URL subscribeUrl;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Invoker originInvoker;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notify</span><span class="hljs-params">(List&lt;URL&gt; urls)</span> {
        <span class="hljs-comment">// 1. è¿‡æ»¤å‡ºåŒ¹é…å½“å‰æœåŠ¡çš„ URL</span>
        List&lt;URL&gt; matchedUrls = getMatchedUrls(urls, subscribeUrl);
        <span class="hljs-keyword">if</span> (matchedUrls.isEmpty()) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// 2. URL -&gt; Configurator</span>
        List&lt;Configurator&gt; configurators = Configurator.toConfigurators(matchedUrls);

        <span class="hljs-comment">// 3. åº”ç”¨é…ç½®</span>
        <span class="hljs-keyword">for</span> (Configurator configurator : configurators) {
            <span class="hljs-built_in">this</span>.configurators.put(configurator.getUrl().getAddress(), configurator);
        }

        <span class="hljs-comment">// 4. é‡æ–°æš´éœ²æœåŠ¡ï¼ˆåŸºäºæ–° URLï¼‰</span>
        exporter.setInvoker(originInvoker);
    }
}
</code></pre>
<p><strong>é…ç½®ä¼˜å…ˆçº§ï¼ˆä»é«˜åˆ°ä½ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[JVM å‚æ•°&lt;br/&gt;-Ddubbo.timeout=3000] --&gt; B[ç¯å¢ƒå˜é‡]
    B --&gt; C[é…ç½®ä¸­å¿ƒ / æ³¨å†Œä¸­å¿ƒ override]
    C --&gt; D[å¤–éƒ¨é…ç½®æ–‡ä»¶ dubbo.properties]
    D --&gt; E[ä»£ç  / æ³¨è§£ / XML é…ç½®]
    
    style A fill:#ff6b6b
    style C fill:#ffd93d
    style E fill:#4ecdc4
</code></pre>
<hr/>
<h2 data-id="heading-28">å…«ã€æœåŠ¡æš´éœ²æ•´ä½“æ¶æ„å›¾å›é¡¾</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
  subgraph A["å¯åŠ¨ä¸æ‰«æ"]
    Start["åº”ç”¨å¯åŠ¨"] --&gt; ScanBean["Spring æ‰«æ @DubboService"]
    ScanBean --&gt; CreateConfig["åˆ›å»º ServiceConfig"]
  end

  subgraph B["é…ç½®ä¸ URL æ„å»º"]
    CreateConfig --&gt; Validate["æ ¡éªŒé…ç½®"]
    Validate --&gt; BuildURL["æ„å»º URL å‚æ•°"]
    BuildURL --&gt; Scope["scope å‚æ•°"]
  end

  subgraph C["æœåŠ¡æš´éœ²"]
    Scope --&gt;|local/ç©º| LocalExport["æœ¬åœ°æš´éœ² injvm://"]
    Scope --&gt;|remote/ç©º| RemoteExport["è¿œç¨‹æš´éœ² dubbo://"]
    Scope --&gt;|none| End["ä¸æš´éœ²"]
  end

  subgraph D["è¿œç¨‹å¯¼å‡ºå®ç°"]
    RemoteExport --&gt; CreateInvoker["ProxyFactory åˆ›å»º Invoker"]
    CreateInvoker --&gt; WrapperGen["Javassist ç”Ÿæˆ Wrapper"]
    WrapperGen --&gt; RegProtocol["RegistryProtocol.export()"]
    RegProtocol --&gt; DubboProtocol["DubboProtocol.export()"]
  end

  subgraph E["ç½‘ç»œæœåŠ¡å¯åŠ¨"]
    DubboProtocol --&gt; CheckServer["Server å·²å­˜åœ¨?"]
    CheckServer --&gt;|å¦| CreateServer["createServer(url)"]
    CheckServer --&gt;|æ˜¯| ReuseServer["é‡ç”¨ + reset é…ç½®"]
    CreateServer --&gt; Netty["NettyServer.doOpen()&lt;br/&gt;ç»‘å®šç«¯å£"]
    ReuseServer --&gt; Netty
  end

  subgraph F["æ³¨å†Œä¸è®¢é˜…"]
    Netty --&gt; Register["Registry.register(providerUrl)"]
    Register --&gt; Subscribe["Registry.subscribe(override/router)"]
    Subscribe --&gt; Complete["æš´éœ²å®Œæˆ"]
    LocalExport --&gt; Complete
  end

  style Start fill:#e1f5ff
  style Complete fill:#d4edda
  style CreateServer fill:#fff3cd
  style Register fill:#ffeaa7

</code></pre>
<hr/>
<h2 data-id="heading-29">ä¹ã€æ€»ç»“ä¸æ€è€ƒ</h2>
<p>æŠŠ Dubbo æœåŠ¡æš´éœ²çš„é“¾è·¯ä»å¤´åˆ°å°¾æ‹å®Œï¼Œå¯ä»¥çœ‹åˆ°å‡ ä¸ªéå¸¸é²œæ˜çš„è®¾è®¡ç‰¹ç‚¹ï¼š</p>
<ol>
<li><strong>åˆ†å±‚æ¶æ„ + è£…é¥°å™¨æ¨¡å¼</strong>
<ul>
<li>Config å±‚åªç®¡é…ç½®</li>
<li>Invoker å±‚åªç®¡è°ƒç”¨æŠ½è±¡</li>
<li>Protocol å±‚åˆ†å·¥ï¼šFilter / Listener / Registry / Dubbo</li>
<li>é€šè¿‡å¤šå±‚ Protocol åŒ…è£…ï¼ŒæŠŠèŒè´£æ‹†å¾—éå¸¸ç»†</li>
</ul>
</li>
<li><strong>URL ä½œä¸ºé…ç½®æ€»çº¿</strong>
<ul>
<li>æ‰€æœ‰é…ç½®éƒ½è½åœ¨ URL ä¸Šï¼Œç»Ÿä¸€ã€ç®€å•ã€å¯æ‰©å±•</li>
<li>ä¸Šä¸‹æ¸¸ç»„ä»¶åªä¾èµ– URLï¼Œä¸ç›´æ¥ä¾èµ–ä¸€å † Config ç±»</li>
<li>è¿™ä¸ºåç»­æ¥å…¥ç›‘æ§ã€è·¯ç”±ã€åŠ¨æ€é…ç½®æä¾›äº†å¤©ç„¶æ‰©å±•ç‚¹</li>
</ul>
</li>
<li><strong>Invoker æŠ½è±¡ + SPI è‡ªé€‚åº”æ‰©å±•</strong>
<ul>
<li>Invoker å±è”½äº†æœ¬åœ°ã€è¿œç¨‹ã€é›†ç¾¤çš„å·®å¼‚</li>
<li>SPI + <code>@Adaptive</code> è®©â€œé€‰å“ªä¸ªå®ç°â€å˜æˆé…ç½®é—®é¢˜ï¼Œè€Œä¸æ˜¯ if-else</li>
<li>Protocol / Cluster / LoadBalance ç­‰éƒ½å¯ä»¥åšåˆ°â€œæ— ä¾µå…¥æ‰©å±•â€</li>
</ul>
</li>
<li><strong>å·¥ç¨‹å±‚é¢çš„æ€§èƒ½ä¼˜åŒ–</strong>
<ul>
<li>Wrapper å­—èŠ‚ç ç»•å¼€åå°„ï¼Œæå¤§é™ä½è°ƒç”¨å¼€é”€</li>
<li>çº¿ç¨‹æ¨¡å‹æŠŠ IO å’Œä¸šåŠ¡è§£è€¦ï¼Œé˜²æ­¢äº’ç›¸æ‹–æ­»</li>
<li>injvm æœ¬åœ°è°ƒç”¨ä¼˜åŒ–ï¼Œè®©åŒ JVM æƒ…å†µä¸‹ä¸æµªè´¹ç½‘ç»œ</li>
</ul>
</li>
<li><strong>æœåŠ¡æ²»ç†èƒ½åŠ›è‡ªç„¶è½åœ¨æš´éœ²é“¾è·¯ä¸Š</strong>
<ul>
<li>æ³¨å†Œä¸­å¿ƒä¸ä»…â€œæ³¨å†Œâ€ï¼Œè¿˜è´Ÿè´£é…ç½®ã€è·¯ç”±ã€æƒé‡ç­‰æ²»ç†èƒ½åŠ›çš„å¹¿æ’­</li>
<li>OverrideListener æœºåˆ¶è®©é…ç½®å¯ä»¥åŠ¨æ€ç”Ÿæ•ˆã€æ— éœ€é‡å¯</li>
<li>å¤šçº§ä¼˜å…ˆçº§ï¼ˆJVM å‚æ•° &gt; é…ç½®ä¸­å¿ƒ &gt; æœ¬åœ°é…ç½®ï¼‰æ–¹ä¾¿æ•…éšœåº”æ€¥</li>
</ul>
</li>
</ol>
<p>å¦‚æœä½ å·²ç»åœ¨ä¸šåŠ¡ä¸­ä½¿ç”¨ Dubboï¼Œå†å›å¤´çœ‹è¿™æ¡æš´éœ²é“¾è·¯ï¼Œä¼šå‘ç°å¾ˆå¤šé…ç½®é¡¹ã€å¼‚å¸¸æ ˆã€ç›‘æ§æŒ‡æ ‡èƒŒåéƒ½æœ‰å¯¹åº”çš„ä¸€å±‚æŠ½è±¡ã€‚
<strong>ç†è§£è¿™æ¡é“¾è·¯ï¼Œä¸åªæ˜¯ä¼šç”¨ Dubboï¼Œè€Œæ˜¯ä» RPC æ¡†æ¶é‡Œæ‹†å‡ºä¸€æ•´å¥—å¯é‡ç”¨çš„æ¶æ„æ€è·¯ã€‚</strong></p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™</strong></p>
<ul>
<li>Apache Dubbo å®˜æ–¹æ–‡æ¡£</li>
<li>Dubbo æºç ï¼ˆä»¥ 3.1.x åˆ†æ”¯ä¸ºä¾‹ï¼‰</li>
<li>ã€Šæ·±å…¥ç†è§£ Apache Dubbo ä¸å®æˆ˜ã€‹</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linux ä¸‹é«˜æ•ˆå¼€å‘ç¯å¢ƒæ­å»ºï¼šVSCode Remote + å®¹å™¨å¼€å‘]]></title>    <link>https://juejin.cn/post/7572972346072514587</link>    <guid>https://juejin.cn/post/7572972346072514587</guid>    <pubDate>2025-11-16T22:07:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572972346072514587" data-draft-id="7572454929144709155" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linux ä¸‹é«˜æ•ˆå¼€å‘ç¯å¢ƒæ­å»ºï¼šVSCode Remote + å®¹å™¨å¼€å‘"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-11-16T22:07:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LCGå…ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/3097802498120889"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linux ä¸‹é«˜æ•ˆå¼€å‘ç¯å¢ƒæ­å»ºï¼šVSCode Remote + å®¹å™¨å¼€å‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097802498120889/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LCGå…ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-16T22:07:15.000Z" title="Sun Nov 16 2025 22:07:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-16
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ç¯å¢ƒå‡†å¤‡ä¸åŸºç¡€è½¯ä»¶å®‰è£…</h2>
<h3 data-id="heading-1">1.1 ç³»ç»Ÿè¦æ±‚æ£€æŸ¥</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ Linux ç³»ç»Ÿæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ul>
<li>Ubuntu 18.04+ã€CentOS 7+ æˆ–å…¶ä»–ä¸»æµ Linux å‘è¡Œç‰ˆ</li>
<li>è‡³å°‘ 4GB å†…å­˜ï¼ˆæ¨è 8GB æˆ–ä»¥ä¸Šï¼‰</li>
<li>20GB å¯ç”¨ç£ç›˜ç©ºé—´</li>
<li>ç¨³å®šçš„ç½‘ç»œè¿æ¥</li>
</ul>
<h3 data-id="heading-2">1.2 å®‰è£… Docker</h3>
<p>é¦–å…ˆå®‰è£… Docker ä½œä¸ºå®¹å™¨åŒ–å¼€å‘çš„åŸºç¡€å¹³å°ã€‚</p>
<p><strong>åˆ›å»ºå®‰è£…è„šæœ¬æ–‡ä»¶ï¼š</strong> <code>install_docker.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># å¸è½½æ—§ç‰ˆæœ¬ Docker</span>
sudo apt-get remove docker docker-engine docker.io containerd runc

<span class="hljs-comment"># æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•</span>
sudo apt-get update

<span class="hljs-comment"># å®‰è£…ä¾èµ–åŒ…</span>
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg \
    lsb-release

<span class="hljs-comment"># æ·»åŠ  Docker å®˜æ–¹ GPG å¯†é’¥</span>
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

<span class="hljs-comment"># è®¾ç½®ç¨³å®šç‰ˆä»“åº“</span>
<span class="hljs-built_in">echo</span> \
  <span class="hljs-string">"deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  <span class="hljs-subst">$(lsb_release -cs)</span> stable"</span> | sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null

<span class="hljs-comment"># å®‰è£… Docker Engine</span>
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io

<span class="hljs-comment"># å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„</span>
sudo usermod -aG docker <span class="hljs-variable">$USER</span>

<span class="hljs-comment"># å¯åŠ¨ Docker æœåŠ¡</span>
sudo systemctl <span class="hljs-built_in">enable</span> docker
sudo systemctl start docker

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
docker --version
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Docker å®‰è£…å®Œæˆï¼Œè¯·é‡æ–°ç™»å½•ä»¥ä½¿ç»„æƒé™ç”Ÿæ•ˆ"</span>
</code></pre>
<p>è¿è¡Œå®‰è£…è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x install_docker.sh
./install_docker.sh
</code></pre>
<h3 data-id="heading-3">1.3 å®‰è£… Visual Studio Code</h3>
<p><strong>åˆ›å»ºå®‰è£…è„šæœ¬æ–‡ä»¶ï¼š</strong> <code>install_vscode.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># ä¸‹è½½å¹¶å®‰è£… VS Code</span>
wget -qO- https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor &gt; packages.microsoft.gpg
sudo install -o root -g root -m 644 packages.microsoft.gpg /etc/apt/trusted.gpg.d/
sudo sh -c <span class="hljs-string">'echo "deb [arch=amd64,arm64,armhf signed-by=/etc/apt/trusted.gpg.d/packages.microsoft.gpg] https://packages.microsoft.com/repos/code stable main" &gt; /etc/apt/sources.list.d/vscode.list'</span>

<span class="hljs-comment"># æ›´æ–°å¹¶å®‰è£…</span>
sudo apt update
sudo apt install code

<span class="hljs-comment"># å®‰è£… Remote Development æ‰©å±•åŒ…</span>
code --install-extension ms-vscode-remote.vscode-remote-extensionpack
code --install-extension ms-vscode-remote.remote-ssh
code --install-extension ms-vscode-remote.remote-containers
code --install-extension ms-vscode-remote.remote-ssh-edit

<span class="hljs-built_in">echo</span> <span class="hljs-string">"VS Code åŠè¿œç¨‹å¼€å‘æ‰©å±•å®‰è£…å®Œæˆ"</span>
</code></pre>
<p>è¿è¡Œå®‰è£…è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x install_vscode.sh
./install_vscode.sh
</code></pre>
<h2 data-id="heading-4">2. é…ç½®å¼€å‘å®¹å™¨ç¯å¢ƒ</h2>
<h3 data-id="heading-5">2.1 åˆ›å»ºå¼€å‘å®¹å™¨é…ç½®</h3>
<p><strong>åˆ›å»ºç›®å½•ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p ~/dev-container/project
<span class="hljs-built_in">cd</span> ~/dev-container
</code></pre>
<p><strong>åˆ›å»ºå¼€å‘å®¹å™¨é…ç½®æ–‡ä»¶ï¼š</strong> <code>devcontainer.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Python-DataScience-Dev-Container"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"image"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"mcr.microsoft.com/vscode/devcontainers/python:3.9"</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"settings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"python.pythonPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/bin/python"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.pylintEnabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.formatting.autopep8Path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/autopep8"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.formatting.blackPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/black"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.formatting.yapfPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/yapf"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.banditPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/bandit"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.flake8Path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/flake8"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.mypyPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/mypy"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.pycodestylePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/pycodestyle"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.pydocstylePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/pydocstyle"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python.linting.pylintPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/py-utils/bin/pylint"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"extensions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"ms-python.python"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"ms-python.vscode-pylance"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"batisteo.vscode-django"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"wholroyd.jinja"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"formulahendry.auto-rename-tag"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"esbenp.prettier-vscode"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"ms-vscode.vscode-typescript-next"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"bradlc.vscode-tailwindcss"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"forwardPorts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-number">8000</span><span class="hljs-punctuation">,</span> <span class="hljs-number">8080</span><span class="hljs-punctuation">,</span> <span class="hljs-number">5000</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"postCreateCommand"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pip install --upgrade pip &amp;&amp; pip install -r requirements.txt"</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"remoteUser"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vscode"</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"features"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"git"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"github-cli"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"latest"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"python"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"3.9"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"installTools"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>åˆ›å»ºé¡¹ç›®ä¾èµ–æ–‡ä»¶ï¼š</strong> <code>requirements.txt</code></p>
<pre><code class="hljs language-txt" lang="txt">numpy&gt;=1.21.0
pandas&gt;=1.3.0
matplotlib&gt;=3.4.0
seaborn&gt;=0.11.0
scikit-learn&gt;=1.0.0
jupyter&gt;=1.0.0
flask&gt;=2.0.0
requests&gt;=2.25.0
black&gt;=21.0.0
flake8&gt;=3.9.0
pytest&gt;=6.0.0
python-dotenv&gt;=0.19.0
</code></pre>
<h3 data-id="heading-6">2.2 åˆ›å»ºè‡ªå®šä¹‰å¼€å‘é•œåƒ</h3>
<p><strong>åˆ›å»º Dockerfileï¼š</strong> <code>Dockerfile</code></p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä½¿ç”¨å®˜æ–¹ Python è¿è¡Œæ—¶ä½œä¸ºçˆ¶é•œåƒ
FROM python:3.9-slim

# è®¾ç½®ç¯å¢ƒå˜é‡
ENV PYTHONUNBUFFERED 1
ENV DEBIAN_FRONTEND=noninteractive

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /workspace

# å®‰è£…ç³»ç»Ÿä¾èµ–
RUN apt-get update &amp;&amp; apt-get install -y \
    git \
    curl \
    wget \
    vim \
    htop \
    procps \
    build-essential \
    libssl-dev \
    zlib1g-dev \
    libbz2-dev \
    libreadline-dev \
    libsqlite3-dev \
    libffi-dev \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

# åˆ›å»ºé root ç”¨æˆ·
RUN useradd -m -s /bin/bash vscode &amp;&amp; \
    usermod -aG sudo vscode &amp;&amp; \
    echo "vscode ALL=(ALL) NOPASSWD:ALL" &gt;&gt; /etc/sudoers

# åˆ‡æ¢ç”¨æˆ·
USER vscode

# å®‰è£… pyenv
RUN curl https://pyenv.run | bash

# è®¾ç½® pyenv ç¯å¢ƒå˜é‡
ENV HOME /home/vscode
ENV PYENV_ROOT $HOME/.pyenv
ENV PATH $PYENV_ROOT/shims:$PYENV_ROOT/bin:$PATH

# å®‰è£… Python ç‰ˆæœ¬ç®¡ç†å·¥å…·
RUN echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.bashrc &amp;&amp; \
    echo 'command -v pyenv &gt;/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.bashrc &amp;&amp; \
    echo 'eval "$(pyenv init -)"' &gt;&gt; ~/.bashrc

# å¤åˆ¶é¡¹ç›®æ–‡ä»¶
COPY --chown=vscode:vscode requirements.txt .

# å®‰è£… Python ä¾èµ–
RUN pip install --upgrade pip &amp;&amp; \
    pip install -r requirements.txt

# æš´éœ²ç«¯å£
EXPOSE 8000 8080 5000

# è®¾ç½®é»˜è®¤å‘½ä»¤
CMD ["/bin/bash"]
</code></pre>
<p><strong>åˆ›å»ºé•œåƒæ„å»ºè„šæœ¬ï¼š</strong> <code>build_image.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># è®¾ç½®å˜é‡</span>
IMAGE_NAME=<span class="hljs-string">"python-dev-container"</span>
IMAGE_TAG=<span class="hljs-string">"latest"</span>

<span class="hljs-comment"># æ„å»º Docker é•œåƒ</span>
docker build -t <span class="hljs-variable">$IMAGE_NAME</span>:<span class="hljs-variable">$IMAGE_TAG</span> .

<span class="hljs-comment"># éªŒè¯é•œåƒ</span>
docker images | grep <span class="hljs-variable">$IMAGE_NAME</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¼€å‘é•œåƒæ„å»ºå®Œæˆ"</span>
</code></pre>
<p>è¿è¡Œæ„å»ºè„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x build_image.sh
./build_image.sh
</code></pre>
<h2 data-id="heading-7">3. VSCode Remote-Containers é…ç½®ä¸ä½¿ç”¨</h2>
<h3 data-id="heading-8">3.1 é…ç½®å¼€å‘å®¹å™¨</h3>
<p>åœ¨ VSCode ä¸­é…ç½®å¼€å‘å®¹å™¨ï¼š</p>
<ol>
<li>æ‰“å¼€å‘½ä»¤é¢æ¿ (<code>Ctrl+Shift+P</code>)</li>
<li>è¾“å…¥ "Remote-Containers: Open Folder in Container"</li>
<li>é€‰æ‹©é¡¹ç›®ç›®å½• <code>~/dev-container/project</code></li>
<li>VSCode å°†è‡ªåŠ¨æ„å»ºå¹¶è¿æ¥åˆ°å®¹å™¨</li>
</ol>
<p><strong>åˆ›å»ºå®¹å™¨å¯åŠ¨é…ç½®ï¼š</strong> <code>.devcontainer/devcontainer.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Custom Python Development Container"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"dockerfile"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"../Dockerfile"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"context"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">".."</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"customizations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"vscode"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"settings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"terminal.integrated.shell.linux"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/bin/bash"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"editor.fontSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">14</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"editor.lineHeight"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1.5</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"editor.tabSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                    <span class="hljs-attr">"source.organizeImports"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
                <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"python.defaultInterpreterPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/local/bin/python"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"python.languageServer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Pylance"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"python.analysis.autoImportCompletions"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"python.analysis.typeCheckingMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"basic"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            
            <span class="hljs-attr">"extensions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-string">"ms-python.python"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"ms-python.vscode-pylance"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"ms-python.vscode-python-debugger"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"ms-toolsai.jupyter"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"ms-toolsai.jupyter-keymap"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"ms-toolsai.jupyter-renderers"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"formulahendry.auto-rename-tag"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"esbenp.prettier-vscode"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">"ms-vscode.vscode-typescript-next"</span>
            <span class="hljs-punctuation">]</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"remoteUser"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vscode"</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"mounts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"source=${localEnv:HOME}/.ssh,target=/home/vscode/.ssh,type=bind"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"runArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"--cap-add=SYS_PTRACE"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"--security-opt"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"seccomp=unconfined"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-attr">"postCreateCommand"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sudo chown vscode:vscode /home/vscode/.ssh &amp;&amp; chmod 700 /home/vscode/.ssh &amp;&amp; pip install --upgrade pip"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">3.2 åˆ›å»ºå¼€å‘ç¯å¢ƒæµ‹è¯•è„šæœ¬</h3>
<p><strong>åˆ›å»ºæµ‹è¯•æ–‡ä»¶ï¼š</strong> <code>test_environment.py</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
å¼€å‘ç¯å¢ƒæµ‹è¯•è„šæœ¬
éªŒè¯å®¹å™¨å†…å¼€å‘ç¯å¢ƒæ˜¯å¦æ­£å¸¸é…ç½®
"""</span>

<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> platform
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> importlib.util


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_python_version</span>():
    <span class="hljs-string">"""æ£€æŸ¥ Python ç‰ˆæœ¬"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Python ç¯å¢ƒæ£€æŸ¥"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    
    version = sys.version_info
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Python ç‰ˆæœ¬: <span class="hljs-subst">{sys.version}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¶æ„: <span class="hljs-subst">{platform.architecture()[<span class="hljs-number">0</span>]}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ“ä½œç³»ç»Ÿ: <span class="hljs-subst">{platform.system()}</span> <span class="hljs-subst">{platform.release()}</span>"</span>)
    
    <span class="hljs-keyword">if</span> version.major == <span class="hljs-number">3</span> <span class="hljs-keyword">and</span> version.minor &gt;= <span class="hljs-number">8</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Python ç‰ˆæœ¬ç¬¦åˆè¦æ±‚"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ Python ç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_package_installation</span>():
    <span class="hljs-string">"""æ£€æŸ¥å¿…è¦åŒ…çš„å®‰è£…"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åŒ…ä¾èµ–æ£€æŸ¥"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    
    required_packages = [
        <span class="hljs-string">'numpy'</span>, <span class="hljs-string">'pandas'</span>, <span class="hljs-string">'matplotlib'</span>, <span class="hljs-string">'seaborn'</span>,
        <span class="hljs-string">'sklearn'</span>, <span class="hljs-string">'flask'</span>, <span class="hljs-string">'jupyter'</span>, <span class="hljs-string">'requests'</span>
    ]
    
    all_installed = <span class="hljs-literal">True</span>
    <span class="hljs-keyword">for</span> package <span class="hljs-keyword">in</span> required_packages:
        spec = importlib.util.find_spec(package)
        <span class="hljs-keyword">if</span> spec <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… <span class="hljs-subst">{package}</span> å·²å®‰è£…"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ <span class="hljs-subst">{package}</span> æœªå®‰è£…"</span>)
            all_installed = <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">return</span> all_installed


<span class="hljs-keyword">def</span> <span class="hljs-title function_">check_system_tools</span>():
    <span class="hljs-string">"""æ£€æŸ¥ç³»ç»Ÿå·¥å…·"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç³»ç»Ÿå·¥å…·æ£€æŸ¥"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    
    tools = [<span class="hljs-string">'git'</span>, <span class="hljs-string">'curl'</span>, <span class="hljs-string">'vim'</span>]
    all_available = <span class="hljs-literal">True</span>
    
    <span class="hljs-keyword">for</span> tool <span class="hljs-keyword">in</span> tools:
        <span class="hljs-keyword">try</span>:
            subprocess.run([tool, <span class="hljs-string">'--version'</span>], 
                         capture_output=<span class="hljs-literal">True</span>, check=<span class="hljs-literal">True</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… <span class="hljs-subst">{tool}</span> å¯ç”¨"</span>)
        <span class="hljs-keyword">except</span> (subprocess.CalledProcessError, FileNotFoundError):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ <span class="hljs-subst">{tool}</span> ä¸å¯ç”¨"</span>)
            all_available = <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">return</span> all_available


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_sample_app</span>():
    <span class="hljs-string">"""åˆ›å»ºç¤ºä¾‹åº”ç”¨"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ›å»ºç¤ºä¾‹ Flask åº”ç”¨"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    
    sample_code = <span class="hljs-string">'''
from flask import Flask, jsonify
import numpy as np
import pandas as pd
from datetime import datetime

app = Flask(__name__)

@app.route('/')
def hello():
    return jsonify({
        "message": "å¼€å‘ç¯å¢ƒè¿è¡Œæ­£å¸¸!",
        "timestamp": datetime.now().isoformat(),
        "status": "success"
    })

@app.route('/data')
def data_demo():
    # åˆ›å»ºç¤ºä¾‹æ•°æ®
    df = pd.DataFrame({
        'x': range(10),
        'y': np.random.randn(10)
    })
    return jsonify({
        "data": df.to_dict(orient='records'),
        "summary": {
            "mean": float(df['y'].mean()),
            "std": float(df['y'].std())
        }
    })

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
'''</span>
    
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">'app.py'</span>, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
        f.write(sample_code)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç¤ºä¾‹åº”ç”¨åˆ›å»ºå®Œæˆ"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¿è¡Œå‘½ä»¤: python app.py"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è®¿é—®: http://localhost:5000"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»æµ‹è¯•å‡½æ•°"""</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ å¼€å§‹å¼€å‘ç¯å¢ƒæµ‹è¯•..."</span>)
    
    tests_passed = <span class="hljs-number">0</span>
    total_tests = <span class="hljs-number">3</span>
    
    <span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
    <span class="hljs-keyword">if</span> check_python_version():
        tests_passed += <span class="hljs-number">1</span>
    
    <span class="hljs-keyword">if</span> check_package_installation():
        tests_passed += <span class="hljs-number">1</span>
    
    <span class="hljs-keyword">if</span> check_system_tools():
        tests_passed += <span class="hljs-number">1</span>
    
    <span class="hljs-comment"># åˆ›å»ºç¤ºä¾‹åº”ç”¨</span>
    create_sample_app()
    
    <span class="hljs-comment"># è¾“å‡ºæ€»ç»“</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æµ‹è¯•æ€»ç»“"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é€šè¿‡æµ‹è¯•: <span class="hljs-subst">{tests_passed}</span>/<span class="hljs-subst">{total_tests}</span>"</span>)
    
    <span class="hljs-keyword">if</span> tests_passed == total_tests:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼å¼€å‘ç¯å¢ƒé…ç½®æˆåŠŸï¼"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nä¸‹ä¸€æ­¥:"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"1. è¿è¡Œ: python app.py"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"2. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ http://localhost:5000"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"3. å¼€å§‹æ‚¨çš„å¼€å‘å·¥ä½œï¼"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸ éƒ¨åˆ†æµ‹è¯•æœªé€šè¿‡ï¼Œè¯·æ£€æŸ¥é…ç½®"</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p><strong>åˆ›å»ºå¼€å‘ç¯å¢ƒç®¡ç†è„šæœ¬ï¼š</strong> <code>manage_dev_env.sh</code></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>

<span class="hljs-comment"># å¼€å‘ç¯å¢ƒç®¡ç†è„šæœ¬</span>

<span class="hljs-built_in">set</span> -e

CONTAINER_NAME=<span class="hljs-string">"python-dev-container"</span>
PROJECT_DIR=<span class="hljs-string">"/workspace"</span>

<span class="hljs-keyword">case</span> <span class="hljs-string">"<span class="hljs-variable">$1</span>"</span> <span class="hljs-keyword">in</span>
    start)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¯åŠ¨å¼€å‘å®¹å™¨..."</span>
        docker run -d \
            --name <span class="hljs-variable">$CONTAINER_NAME</span> \
            -p 8000:8000 \
            -p 5000:5000 \
            -p 8080:8080 \
            -v $(<span class="hljs-built_in">pwd</span>):<span class="hljs-variable">$PROJECT_DIR</span> \
            -v /var/run/docker.sock:/var/run/docker.sock \
            python-dev-container:latest \
            <span class="hljs-built_in">tail</span> -f /dev/null
        ;;
    
    stop)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢å¼€å‘å®¹å™¨..."</span>
        docker stop <span class="hljs-variable">$CONTAINER_NAME</span> || <span class="hljs-literal">true</span>
        docker <span class="hljs-built_in">rm</span> <span class="hljs-variable">$CONTAINER_NAME</span> || <span class="hljs-literal">true</span>
        ;;
    
    build)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"é‡æ–°æ„å»ºå¼€å‘é•œåƒ..."</span>
        docker build -t python-dev-container:latest .
        ;;
    
    shell)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"è¿›å…¥å®¹å™¨ shell..."</span>
        docker <span class="hljs-built_in">exec</span> -it <span class="hljs-variable">$CONTAINER_NAME</span> /bin/bash
        ;;
    
    logs)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"æŸ¥çœ‹å®¹å™¨æ—¥å¿—..."</span>
        docker logs <span class="hljs-variable">$CONTAINER_NAME</span>
        ;;
    
    <span class="hljs-built_in">test</span>)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"è¿è¡Œç¯å¢ƒæµ‹è¯•..."</span>
        docker <span class="hljs-built_in">exec</span> <span class="hljs-variable">$CONTAINER_NAME</span> python test_environment.py
        ;;
    
    *)
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç”¨æ³•: <span class="hljs-variable">$0</span> {start|stop|build|shell|logs|test}"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"å‘½ä»¤è¯´æ˜:"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  start   - å¯åŠ¨å¼€å‘å®¹å™¨"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  stop    - åœæ­¢å¼€å‘å®¹å™¨"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  build   - é‡æ–°æ„å»ºé•œåƒ"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  shell   - è¿›å…¥å®¹å™¨ç»ˆç«¯"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  logs    - æŸ¥çœ‹å®¹å™¨æ—¥å¿—"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"  test    - è¿è¡Œç¯å¢ƒæµ‹è¯•"</span>
        <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">esac</span>
</code></pre>
<p>è¿è¡Œç¯å¢ƒæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x manage_dev_env.sh
./manage_dev_env.sh <span class="hljs-built_in">test</span>
</code></pre>
<h2 data-id="heading-10">4. å¼€å‘ç¯å¢ƒå·¥ä½œæµç¨‹</h2>
<h3 data-id="heading-11">4.1 å¼€å‘ç¯å¢ƒæ¶æ„æµç¨‹å›¾</h3>
<p>ä»¥ä¸‹æµç¨‹å›¾å±•ç¤ºäº† VSCode Remote + å®¹å™¨å¼€å‘çš„å®Œæ•´æ¶æ„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[å¼€å‘è€…æœ¬åœ°æœºå™¨] --&gt; B[VS Code IDE]
    B --&gt; C[Remote-Containers æ‰©å±•]
    C --&gt; D[Docker å®ˆæŠ¤è¿›ç¨‹]
    D --&gt; E[å¼€å‘å®¹å™¨]
    
    E --&gt; F[åº”ç”¨ç¨‹åºä»£ç ]
    E --&gt; G[å¼€å‘å·¥å…·é“¾]
    E --&gt; H[é¡¹ç›®ä¾èµ–]
    
    F --&gt; I[ä»£ç ç¼–è¾‘]
    G --&gt; J[è°ƒè¯•æ‰§è¡Œ]
    H --&gt; K[ä¾èµ–ç®¡ç†]
    
    I --&gt; L[å®æ—¶åŒæ­¥]
    J --&gt; M[ç«¯å£è½¬å‘]
    K --&gt; N[ç¯å¢ƒéš”ç¦»]
    
    L --&gt; O[æ–‡ä»¶æ˜ å°„]
    M --&gt; P[æœ¬åœ°è®¿é—®]
    N --&gt; Q[ä¸€è‡´æ€§ç¯å¢ƒ]
    
    O --&gt; R[å¼€å‘ä½“éªŒ]
    P --&gt; R
    Q --&gt; R
    
    style A fill:#2c3e50,color:#ffffff
    style B fill:#3498db,color:#ffffff
    style C fill:#2980b9,color:#ffffff
    style D fill:#34495e,color:#ffffff
    style E fill:#16a085,color:#ffffff
    style R fill:#e74c3c,color:#ffffff
    
    style F fill:#27ae60,color:#ffffff
    style G fill:#f39c12,color:#ffffff
    style H fill:#8e44ad,color:#ffffff
</code></pre>
<h3 data-id="heading-12">4.2 åˆ›å»ºå¼€å‘å·¥ä½œæµè„šæœ¬</h3>
<p><strong>åˆ›å»ºå·¥ä½œæµè‡ªåŠ¨åŒ–è„šæœ¬ï¼š</strong> <code>development_workflow.py</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
å¼€å‘å·¥ä½œæµè‡ªåŠ¨åŒ–è„šæœ¬
æä¾›å¸¸ç”¨çš„å¼€å‘ä»»åŠ¡è‡ªåŠ¨åŒ–åŠŸèƒ½
"""</span>

<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">import</span> json


<span class="hljs-keyword">class</span> <span class="hljs-title class_">DevelopmentWorkflow</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, project_root=<span class="hljs-string">"."</span></span>):
        self.project_root = Path(project_root)
        self.setup_directories()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_directories</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºæ ‡å‡†é¡¹ç›®ç›®å½•ç»“æ„"""</span>
        directories = [
            <span class="hljs-string">'src'</span>,
            <span class="hljs-string">'tests'</span>,
            <span class="hljs-string">'docs'</span>,
            <span class="hljs-string">'data/raw'</span>,
            <span class="hljs-string">'data/processed'</span>,
            <span class="hljs-string">'notebooks'</span>,
            <span class="hljs-string">'scripts'</span>,
            <span class="hljs-string">'config'</span>,
            <span class="hljs-string">'logs'</span>
        ]
        
        <span class="hljs-keyword">for</span> directory <span class="hljs-keyword">in</span> directories:
            dir_path = self.project_root / directory
            dir_path.mkdir(parents=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… ç¡®ä¿ç›®å½•å­˜åœ¨: <span class="hljs-subst">{directory}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_gitignore</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»º .gitignore æ–‡ä»¶"""</span>
        gitignore_content = <span class="hljs-string">"""
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual environments
.env
.venv
env/
venv/
ENV/

# IDE
.vscode/
.idea/
*.swp
*.swo

# Data
data/raw/
data/processed/
*.csv
*.json
*.parquet

# Logs
logs/
*.log

# Jupyter
.ipynb_checkpoints
        """</span>
        
        gitignore_path = self.project_root / <span class="hljs-string">'.gitignore'</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(gitignore_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            f.write(gitignore_content)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… .gitignore æ–‡ä»¶åˆ›å»ºå®Œæˆ"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_python_package</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è®¾ç½® Python åŒ…ç»“æ„"""</span>
        src_dir = self.project_root / <span class="hljs-string">'src'</span>
        init_file = src_dir / <span class="hljs-string">'__init__.py'</span>
        
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(init_file, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            f.write(<span class="hljs-string">'''"""
å¼€å‘é¡¹ç›®ä¸»åŒ…
"""

__version__ = "0.1.0"
__author__ = "Your Name"
'''</span>)
        
        <span class="hljs-comment"># åˆ›å»ºä¸»æ¨¡å—</span>
        main_module = src_dir / <span class="hljs-string">'main.py'</span>
        main_module_content = <span class="hljs-string">'''
def main():
    """ä¸»å‡½æ•°"""
    print("ğŸš€ å¼€å‘ç¯å¢ƒè¿è¡Œæ­£å¸¸!")
    
    # ç¤ºä¾‹åŠŸèƒ½
    import numpy as np
    import pandas as pd
    
    # åˆ›å»ºç¤ºä¾‹æ•°æ®
    data = {
        'feature1': np.random.randn(100),
        'feature2': np.random.randint(0, 10, 100),
        'target': np.random.choice([0, 1], 100)
    }
    
    df = pd.DataFrame(data)
    print(f"ğŸ“Š ç¤ºä¾‹æ•°æ®æ¡†å½¢çŠ¶: {df.shape}")
    print(f"ğŸ“ˆ æ•°æ®æ‘˜è¦:")
    print(df.describe())
    
    return df

if __name__ == "__main__":
    main()
'''</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(main_module, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            f.write(main_module_content)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Python åŒ…ç»“æ„è®¾ç½®å®Œæˆ"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_requirements_dev</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»ºå¼€å‘ä¾èµ–æ–‡ä»¶"""</span>
        requirements_dev = <span class="hljs-string">"""
# å¼€å‘ä¾èµ–
black&gt;=21.0.0
flake8&gt;=3.9.0
pytest&gt;=6.0.0
pytest-cov&gt;=2.0.0
pre-commit&gt;=2.0.0
jupyter&gt;=1.0.0
ipython&gt;=7.0.0

# æ–‡æ¡£
sphinx&gt;=4.0.0
sphinx-rtd-theme&gt;=1.0.0
"""</span>
        
        req_path = self.project_root / <span class="hljs-string">'requirements-dev.txt'</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(req_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            f.write(requirements_dev)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å¼€å‘ä¾èµ–æ–‡ä»¶åˆ›å»ºå®Œæˆ"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_code_quality_checks</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” è¿è¡Œä»£ç è´¨é‡æ£€æŸ¥..."</span>)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># è¿è¡Œ black æ ¼å¼åŒ–æ£€æŸ¥</span>
            subprocess.run([
                <span class="hljs-string">'black'</span>, <span class="hljs-string">'--check'</span>, <span class="hljs-string">'src/'</span>, <span class="hljs-string">'tests/'</span>
            ], check=<span class="hljs-literal">True</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… black æ ¼å¼åŒ–æ£€æŸ¥é€šè¿‡"</span>)
        <span class="hljs-keyword">except</span> subprocess.CalledProcessError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸ black æ ¼å¼åŒ–æ£€æŸ¥æœªé€šè¿‡ï¼Œè¿è¡Œ black è¿›è¡Œæ ¼å¼åŒ–"</span>)
            subprocess.run([<span class="hljs-string">'black'</span>, <span class="hljs-string">'src/'</span>, <span class="hljs-string">'tests/'</span>])
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># è¿è¡Œ flake8 ä»£ç é£æ ¼æ£€æŸ¥</span>
            subprocess.run([
                <span class="hljs-string">'flake8'</span>, <span class="hljs-string">'src/'</span>, <span class="hljs-string">'tests/'</span>
            ], check=<span class="hljs-literal">True</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… flake8 ä»£ç é£æ ¼æ£€æŸ¥é€šè¿‡"</span>)
        <span class="hljs-keyword">except</span> subprocess.CalledProcessError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ flake8 ä»£ç é£æ ¼æ£€æŸ¥å‘ç°é—®é¢˜"</span>)
        
        <span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
        <span class="hljs-keyword">try</span>:
            subprocess.run([
                <span class="hljs-string">'pytest'</span>, <span class="hljs-string">'tests/'</span>, <span class="hljs-string">'-v'</span>, <span class="hljs-string">'--cov=src'</span>
            ], check=<span class="hljs-literal">True</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æµ‹è¯•é€šè¿‡"</span>)
        <span class="hljs-keyword">except</span> subprocess.CalledProcessError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æµ‹è¯•å¤±è´¥"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_vscode_settings</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åˆ›å»º VSCode å·¥ä½œåŒºè®¾ç½®"""</span>
        vscode_dir = self.project_root / <span class="hljs-string">'.vscode'</span>
        vscode_dir.mkdir(exist_ok=<span class="hljs-literal">True</span>)
        
        settings = {
            <span class="hljs-string">"python.defaultInterpreterPath"</span>: <span class="hljs-string">"/usr/local/bin/python"</span>,
            <span class="hljs-string">"python.linting.enabled"</span>: true,
            <span class="hljs-string">"python.linting.pylintEnabled"</span>: true,
            <span class="hljs-string">"python.linting.flake8Enabled"</span>: true,
            <span class="hljs-string">"python.formatting.provider"</span>: <span class="hljs-string">"black"</span>,
            <span class="hljs-string">"python.testing.pytestEnabled"</span>: true,
            <span class="hljs-string">"editor.formatOnSave"</span>: true,
            <span class="hljs-string">"editor.codeActionsOnSave"</span>: {
                <span class="hljs-string">"source.organizeImports"</span>: true
            },
            <span class="hljs-string">"files.exclude"</span>: {
                <span class="hljs-string">"**/__pycache__"</span>: true,
                <span class="hljs-string">"**/*.pyc"</span>: true
            }
        }
        
        settings_path = vscode_dir / <span class="hljs-string">'settings.json'</span>
        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(settings_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
            json.dump(settings, f, indent=<span class="hljs-number">2</span>)
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… VSCode å·¥ä½œåŒºè®¾ç½®åˆ›å»ºå®Œæˆ"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_complete_workflow</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ‰§è¡Œå®Œæ•´çš„å·¥ä½œæµè®¾ç½®"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ å¼€å§‹è®¾ç½®å®Œæ•´å¼€å‘å·¥ä½œæµ..."</span>)
        
        self.setup_directories()
        self.create_gitignore()
        self.setup_python_package()
        self.create_requirements_dev()
        self.create_vscode_settings()
        
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ‰ å¼€å‘å·¥ä½œæµè®¾ç½®å®Œæˆï¼"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¯ç”¨å‘½ä»¤:"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"  python src/main.py      - è¿è¡Œä¸»ç¨‹åº"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"  pytest tests/           - è¿è¡Œæµ‹è¯•"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"  black src/ tests/       - æ ¼å¼åŒ–ä»£ç "</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"  flake8 src/ tests/      - ä»£ç é£æ ¼æ£€æŸ¥"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) &gt; <span class="hljs-number">1</span>:
        project_path = sys.argv[<span class="hljs-number">1</span>]
    <span class="hljs-keyword">else</span>:
        project_path = <span class="hljs-string">"."</span>
    
    workflow = DevelopmentWorkflow(project_path)
    
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) &gt; <span class="hljs-number">2</span>:
        command = sys.argv[<span class="hljs-number">2</span>]
        <span class="hljs-keyword">if</span> command == <span class="hljs-string">"setup"</span>:
            workflow.setup_complete_workflow()
        <span class="hljs-keyword">elif</span> command == <span class="hljs-string">"quality"</span>:
            workflow.run_code_quality_checks()
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æœªçŸ¥å‘½ä»¤"</span>)
    <span class="hljs-keyword">else</span>:
        workflow.setup_complete_workflow()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h2 data-id="heading-13">5. é«˜çº§é…ç½®ä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-14">5.1 å¤šé˜¶æ®µå¼€å‘å®¹å™¨é…ç½®</h3>
<p><strong>åˆ›å»ºå¤šé˜¶æ®µ Dockerfileï¼š</strong> <code>Dockerfile.multistage</code></p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># å¤šé˜¶æ®µæ„å»ºå¼€å‘ç¯å¢ƒ Dockerfile

# ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºé˜¶æ®µ
FROM python:3.9-slim as builder

WORKDIR /build

# å®‰è£…æ„å»ºä¾èµ–
RUN apt-get update &amp;&amp; apt-get install -y \
    gcc \
    g++ \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

# å¤åˆ¶ä¾èµ–æ–‡ä»¶
COPY requirements.txt .

# å®‰è£… Python ä¾èµ–åˆ°è™šæ‹Ÿç¯å¢ƒ
RUN python -m venv /opt/venv
ENV PATH="/opt/venv/bin:$PATH"
RUN pip install --upgrade pip &amp;&amp; \
    pip install -r requirements.txt

# ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œé˜¶æ®µ
FROM python:3.9-slim as runtime

# å®‰è£…è¿è¡Œæ—¶ä¾èµ–
RUN apt-get update &amp;&amp; apt-get install -y \
    git \
    curl \
    vim \
    &amp;&amp; rm -rf /var/lib/apt/lists/*

# åˆ›å»ºé root ç”¨æˆ·
RUN useradd -m -s /bin/bash vscode &amp;&amp; \
    usermod -aG sudo vscode &amp;&amp; \
    echo "vscode ALL=(ALL) NOPASSWD:ALL" &gt;&gt; /etc/sudoers

USER vscode
WORKDIR /workspace

# ä»æ„å»ºé˜¶æ®µå¤åˆ¶è™šæ‹Ÿç¯å¢ƒ
COPY --from=builder --chown=vscode:vscode /opt/venv /opt/venv

# è®¾ç½®ç¯å¢ƒå˜é‡
ENV PATH="/opt/venv/bin:$PATH"
ENV PYTHONPATH="/workspace/src"

# æš´éœ²ç«¯å£
EXPOSE 8000 5000 8080

CMD ["/bin/bash"]
</code></pre>
<h3 data-id="heading-15">5.2 åˆ›å»ºå¼€å‘ç¯å¢ƒç›‘æ§è„šæœ¬</h3>
<p><strong>åˆ›å»ºç›‘æ§è„šæœ¬ï¼š</strong> <code>monitor_dev_env.py</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
å¼€å‘ç¯å¢ƒç›‘æ§è„šæœ¬
ç›‘æ§å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µå’Œæ€§èƒ½æŒ‡æ ‡
"""</span>

<span class="hljs-keyword">import</span> psutil
<span class="hljs-keyword">import</span> docker
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> logging
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path


<span class="hljs-keyword">class</span> <span class="hljs-title class_">DevelopmentEnvironmentMonitor</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, container_name=<span class="hljs-literal">None</span></span>):
        self.container_name = container_name
        self.docker_client = docker.from_env()
        self.setup_logging()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_logging</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è®¾ç½®æ—¥å¿—"""</span>
        log_dir = Path(<span class="hljs-string">'logs'</span>)
        log_dir.mkdir(exist_ok=<span class="hljs-literal">True</span>)
        
        logging.basicConfig(
            level=logging.INFO,
            <span class="hljs-built_in">format</span>=<span class="hljs-string">'%(asctime)s - %(levelname)s - %(message)s'</span>,
            handlers=[
                logging.FileHandler(<span class="hljs-string">'logs/monitor.log'</span>),
                logging.StreamHandler()
            ]
        )
        self.logger = logging.getLogger(__name__)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_system_metrics</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è·å–ç³»ç»ŸæŒ‡æ ‡"""</span>
        <span class="hljs-keyword">return</span> {
            <span class="hljs-string">'timestamp'</span>: datetime.now().isoformat(),
            <span class="hljs-string">'cpu_percent'</span>: psutil.cpu_percent(interval=<span class="hljs-number">1</span>),
            <span class="hljs-string">'memory_percent'</span>: psutil.virtual_memory().percent,
            <span class="hljs-string">'disk_usage'</span>: psutil.disk_usage(<span class="hljs-string">'/'</span>).percent,
            <span class="hljs-string">'active_processes'</span>: <span class="hljs-built_in">len</span>(psutil.pids())
        }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_container_metrics</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è·å–å®¹å™¨æŒ‡æ ‡"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.container_name:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
        
        <span class="hljs-keyword">try</span>:
            container = self.docker_client.containers.get(self.container_name)
            stats = container.stats(stream=<span class="hljs-literal">False</span>)
            
            <span class="hljs-comment"># è§£æå®¹å™¨ç»Ÿè®¡ä¿¡æ¯</span>
            cpu_stats = stats[<span class="hljs-string">'cpu_stats'</span>]
            memory_stats = stats[<span class="hljs-string">'memory_stats'</span>]
            
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">'container_cpu_usage'</span>: cpu_stats.get(<span class="hljs-string">'cpu_usage'</span>, {}).get(<span class="hljs-string">'total_usage'</span>, <span class="hljs-number">0</span>),
                <span class="hljs-string">'container_memory_usage'</span>: memory_stats.get(<span class="hljs-string">'usage'</span>, <span class="hljs-number">0</span>),
                <span class="hljs-string">'container_memory_limit'</span>: memory_stats.get(<span class="hljs-string">'limit'</span>, <span class="hljs-number">0</span>),
                <span class="hljs-string">'container_network_io'</span>: stats.get(<span class="hljs-string">'networks'</span>, {})
            }
        <span class="hljs-keyword">except</span> docker.errors.NotFound:
            self.logger.warning(<span class="hljs-string">f"å®¹å™¨ <span class="hljs-subst">{self.container_name}</span> æœªæ‰¾åˆ°"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_development_services</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€æŸ¥å¼€å‘æœåŠ¡çŠ¶æ€"""</span>
        services = {
            <span class="hljs-string">'jupyter'</span>: <span class="hljs-number">8888</span>,
            <span class="hljs-string">'flask_dev'</span>: <span class="hljs-number">5000</span>,
            <span class="hljs-string">'database'</span>: <span class="hljs-number">5432</span>
        }
        
        service_status = {}
        
        <span class="hljs-keyword">for</span> service, port <span class="hljs-keyword">in</span> services.items():
            <span class="hljs-keyword">try</span>:
                <span class="hljs-keyword">import</span> socket
                sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
                sock.settimeout(<span class="hljs-number">1</span>)
                result = sock.connect_ex((<span class="hljs-string">'localhost'</span>, port))
                sock.close()
                service_status[service] = <span class="hljs-string">'running'</span> <span class="hljs-keyword">if</span> result == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">'stopped'</span>
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                service_status[service] = <span class="hljs-string">f'error: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>'</span>
        
        <span class="hljs-keyword">return</span> service_status
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_health_report</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ç”Ÿæˆå¥åº·æŠ¥å‘Š"""</span>
        system_metrics = self.get_system_metrics()
        container_metrics = self.get_container_metrics()
        service_status = self.check_development_services()
        
        report = {
            <span class="hljs-string">'system'</span>: system_metrics,
            <span class="hljs-string">'container'</span>: container_metrics,
            <span class="hljs-string">'services'</span>: service_status,
            <span class="hljs-string">'health_status'</span>: self.assess_health_status(system_metrics, service_status)
        }
        
        <span class="hljs-keyword">return</span> report
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">assess_health_status</span>(<span class="hljs-params">self, system_metrics, service_status</span>):
        <span class="hljs-string">"""è¯„ä¼°å¥åº·çŠ¶æ€"""</span>
        warnings = []
        
        <span class="hljs-comment"># æ£€æŸ¥ç³»ç»Ÿèµ„æº</span>
        <span class="hljs-keyword">if</span> system_metrics[<span class="hljs-string">'cpu_percent'</span>] &gt; <span class="hljs-number">80</span>:
            warnings.append(<span class="hljs-string">"CPU ä½¿ç”¨ç‡è¿‡é«˜"</span>)
        
        <span class="hljs-keyword">if</span> system_metrics[<span class="hljs-string">'memory_percent'</span>] &gt; <span class="hljs-number">85</span>:
            warnings.append(<span class="hljs-string">"å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜"</span>)
        
        <span class="hljs-keyword">if</span> system_metrics[<span class="hljs-string">'disk_usage'</span>] &gt; <span class="hljs-number">90</span>:
            warnings.append(<span class="hljs-string">"ç£ç›˜ç©ºé—´ä¸è¶³"</span>)
        
        <span class="hljs-comment"># æ£€æŸ¥æœåŠ¡çŠ¶æ€</span>
        <span class="hljs-keyword">for</span> service, status <span class="hljs-keyword">in</span> service_status.items():
            <span class="hljs-keyword">if</span> status != <span class="hljs-string">'running'</span>:
                warnings.append(<span class="hljs-string">f"æœåŠ¡ <span class="hljs-subst">{service}</span> æœªè¿è¡Œ"</span>)
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> warnings:
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">'status'</span>: <span class="hljs-string">'healthy'</span>,
                <span class="hljs-string">'message'</span>: <span class="hljs-string">'æ‰€æœ‰ç³»ç»Ÿè¿è¡Œæ­£å¸¸'</span>
            }
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">'status'</span>: <span class="hljs-string">'degraded'</span>,
                <span class="hljs-string">'message'</span>: <span class="hljs-string">'; '</span>.join(warnings)
            }
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">continuous_monitoring</span>(<span class="hljs-params">self, interval=<span class="hljs-number">60</span></span>):
        <span class="hljs-string">"""æŒç»­ç›‘æ§"""</span>
        self.logger.info(<span class="hljs-string">"ğŸš€ å¼€å§‹å¼€å‘ç¯å¢ƒç›‘æ§..."</span>)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
                report = self.generate_health_report()
                
                <span class="hljs-comment"># è®°å½•æŠ¥å‘Š</span>
                self.logger.info(<span class="hljs-string">f"ç³»ç»ŸçŠ¶æ€: <span class="hljs-subst">{report[<span class="hljs-string">'health_status'</span>][<span class="hljs-string">'status'</span>]}</span>"</span>)
                self.logger.info(<span class="hljs-string">f"CPU: <span class="hljs-subst">{report[<span class="hljs-string">'system'</span>][<span class="hljs-string">'cpu_percent'</span>]}</span>%"</span>)
                self.logger.info(<span class="hljs-string">f"å†…å­˜: <span class="hljs-subst">{report[<span class="hljs-string">'system'</span>][<span class="hljs-string">'memory_percent'</span>]}</span>%"</span>)
                
                <span class="hljs-comment"># ä¿å­˜æŠ¥å‘Šåˆ°æ–‡ä»¶</span>
                report_file = Path(<span class="hljs-string">'logs/health_report.json'</span>)
                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(report_file, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
                    json.dump(report, f, indent=<span class="hljs-number">2</span>)
                
                time.sleep(interval)
                
        <span class="hljs-keyword">except</span> KeyboardInterrupt:
            self.logger.info(<span class="hljs-string">"ç›‘æ§å·²åœæ­¢"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    <span class="hljs-keyword">import</span> argparse
    
    parser = argparse.ArgumentParser(description=<span class="hljs-string">'å¼€å‘ç¯å¢ƒç›‘æ§å·¥å…·'</span>)
    parser.add_argument(<span class="hljs-string">'--container'</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">'å®¹å™¨åç§°'</span>)
    parser.add_argument(<span class="hljs-string">'--interval'</span>, <span class="hljs-built_in">type</span>=<span class="hljs-built_in">int</span>, default=<span class="hljs-number">60</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">'ç›‘æ§é—´éš”ï¼ˆç§’ï¼‰'</span>)
    parser.add_argument(<span class="hljs-string">'--once'</span>, action=<span class="hljs-string">'store_true'</span>, <span class="hljs-built_in">help</span>=<span class="hljs-string">'å•æ¬¡è¿è¡Œ'</span>)
    
    args = parser.parse_args()
    
    monitor = DevelopmentEnvironmentMonitor(args.container)
    
    <span class="hljs-keyword">if</span> args.once:
        report = monitor.generate_health_report()
        <span class="hljs-built_in">print</span>(json.dumps(report, indent=<span class="hljs-number">2</span>))
    <span class="hljs-keyword">else</span>:
        monitor.continuous_monitoring(args.interval)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h2 data-id="heading-16">6. æ•…éšœæ’é™¤ä¸ä¼˜åŒ–</h2>
<h3 data-id="heading-17">6.1 å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h3>
<p><strong>åˆ›å»ºæ•…éšœæ’é™¤è„šæœ¬ï¼š</strong> <code>troubleshooting_guide.py</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
å¼€å‘ç¯å¢ƒæ•…éšœæ’é™¤æŒ‡å—
æä¾›å¸¸è§é—®é¢˜çš„æ£€æµ‹å’Œè§£å†³æ–¹æ¡ˆ
"""</span>

<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path


<span class="hljs-keyword">class</span> <span class="hljs-title class_">DevelopmentTroubleshooter</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.issues_found = []
        self.solutions_applied = []
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_docker_installation</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€æŸ¥ Docker å®‰è£…"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æ£€æŸ¥ Docker å®‰è£…..."</span>)
        
        <span class="hljs-keyword">try</span>:
            result = subprocess.run(
                [<span class="hljs-string">'docker'</span>, <span class="hljs-string">'--version'</span>],
                capture_output=<span class="hljs-literal">True</span>,
                text=<span class="hljs-literal">True</span>,
                check=<span class="hljs-literal">True</span>
            )
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… Docker å·²å®‰è£…: <span class="hljs-subst">{result.stdout.strip()}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
        <span class="hljs-keyword">except</span> (subprocess.CalledProcessError, FileNotFoundError):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ Docker æœªå®‰è£…æˆ–æœªåœ¨ PATH ä¸­"</span>)
            self.issues_found.append(<span class="hljs-string">"Docker æœªæ­£ç¡®å®‰è£…"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_docker_service</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€æŸ¥ Docker æœåŠ¡çŠ¶æ€"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æ£€æŸ¥ Docker æœåŠ¡çŠ¶æ€..."</span>)
        
        <span class="hljs-keyword">try</span>:
            result = subprocess.run(
                [<span class="hljs-string">'sudo'</span>, <span class="hljs-string">'systemctl'</span>, <span class="hljs-string">'is-active'</span>, <span class="hljs-string">'docker'</span>],
                capture_output=<span class="hljs-literal">True</span>,
                text=<span class="hljs-literal">True</span>,
                check=<span class="hljs-literal">True</span>
            )
            <span class="hljs-keyword">if</span> result.stdout.strip() == <span class="hljs-string">'active'</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Docker æœåŠ¡æ­£åœ¨è¿è¡Œ"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ Docker æœåŠ¡æœªè¿è¡Œ"</span>)
                self.issues_found.append(<span class="hljs-string">"Docker æœåŠ¡æœªè¿è¡Œ"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">except</span> subprocess.CalledProcessError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ— æ³•æ£€æŸ¥ Docker æœåŠ¡çŠ¶æ€"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_user_in_docker_group</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨ docker ç»„ä¸­"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æ£€æŸ¥ç”¨æˆ·ç»„æƒé™..."</span>)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-keyword">import</span> grp
            current_user = os.getenv(<span class="hljs-string">'USER'</span>)
            docker_group = grp.getgrnam(<span class="hljs-string">'docker'</span>)
            
            <span class="hljs-keyword">if</span> current_user <span class="hljs-keyword">in</span> docker_group.gr_mem:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç”¨æˆ·åœ¨ docker ç»„ä¸­"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ ç”¨æˆ·ä¸åœ¨ docker ç»„ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ "</span>)
                self.issues_found.append(<span class="hljs-string">"ç”¨æˆ·ä¸åœ¨ docker ç»„ä¸­"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
        <span class="hljs-keyword">except</span> KeyError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ docker ç»„ä¸å­˜åœ¨"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_vscode_extensions</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€æŸ¥ VSCode æ‰©å±•"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æ£€æŸ¥ VSCode è¿œç¨‹æ‰©å±•..."</span>)
        
        <span class="hljs-keyword">try</span>:
            result = subprocess.run(
                [<span class="hljs-string">'code'</span>, <span class="hljs-string">'--list-extensions'</span>],
                capture_output=<span class="hljs-literal">True</span>,
                text=<span class="hljs-literal">True</span>,
                check=<span class="hljs-literal">True</span>
            )
            
            required_extensions = [
                <span class="hljs-string">'ms-vscode-remote.vscode-remote-extensionpack'</span>,
                <span class="hljs-string">'ms-vscode-remote.remote-containers'</span>,
                <span class="hljs-string">'ms-python.python'</span>
            ]
            
            installed_extensions = result.stdout.split(<span class="hljs-string">'\n'</span>)
            
            <span class="hljs-keyword">for</span> ext <span class="hljs-keyword">in</span> required_extensions:
                <span class="hljs-keyword">if</span> ext <span class="hljs-keyword">in</span> installed_extensions:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… æ‰©å±•å·²å®‰è£…: <span class="hljs-subst">{ext}</span>"</span>)
                <span class="hljs-keyword">else</span>:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ‰©å±•æœªå®‰è£…: <span class="hljs-subst">{ext}</span>"</span>)
                    self.issues_found.append(<span class="hljs-string">f"VSCode æ‰©å±•æœªå®‰è£…: <span class="hljs-subst">{ext}</span>"</span>)
            
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">all</span>(ext <span class="hljs-keyword">in</span> installed_extensions <span class="hljs-keyword">for</span> ext <span class="hljs-keyword">in</span> required_extensions)
            
        <span class="hljs-keyword">except</span> subprocess.CalledProcessError:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æ— æ³•è·å– VSCode æ‰©å±•åˆ—è¡¨"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_container_connectivity</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ£€æŸ¥å®¹å™¨è¿æ¥æ€§"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” æ£€æŸ¥å®¹å™¨è¿æ¥æ€§..."</span>)
        
        <span class="hljs-keyword">try</span>:
            result = subprocess.run(
                [<span class="hljs-string">'docker'</span>, <span class="hljs-string">'ps'</span>],
                capture_output=<span class="hljs-literal">True</span>,
                text=<span class="hljs-literal">True</span>,
                check=<span class="hljs-literal">True</span>
            )
            
            <span class="hljs-keyword">if</span> result.stdout.strip():
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å¯ä»¥è¿æ¥åˆ° Docker å®ˆæŠ¤è¿›ç¨‹"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸ å¯ä»¥è¿æ¥ Dockerï¼Œä½†æ²¡æœ‰è¿è¡Œä¸­çš„å®¹å™¨"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
                
        <span class="hljs-keyword">except</span> subprocess.CalledProcessError <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ— æ³•è¿æ¥åˆ° Docker å®ˆæŠ¤è¿›ç¨‹: <span class="hljs-subst">{e}</span>"</span>)
            self.issues_found.append(<span class="hljs-string">"æ— æ³•è¿æ¥åˆ° Docker å®ˆæŠ¤è¿›ç¨‹"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">apply_solutions</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""åº”ç”¨è§£å†³æ–¹æ¡ˆ"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ› ï¸ åº”ç”¨è§£å†³æ–¹æ¡ˆ..."</span>)
        
        <span class="hljs-keyword">for</span> issue <span class="hljs-keyword">in</span> self.issues_found:
            <span class="hljs-keyword">if</span> <span class="hljs-string">"Docker æœåŠ¡æœªè¿è¡Œ"</span> <span class="hljs-keyword">in</span> issue:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¯åŠ¨ Docker æœåŠ¡..."</span>)
                <span class="hljs-keyword">try</span>:
                    subprocess.run([<span class="hljs-string">'sudo'</span>, <span class="hljs-string">'systemctl'</span>, <span class="hljs-string">'start'</span>, <span class="hljs-string">'docker'</span>], check=<span class="hljs-literal">True</span>)
                    subprocess.run([<span class="hljs-string">'sudo'</span>, <span class="hljs-string">'systemctl'</span>, <span class="hljs-string">'enable'</span>, <span class="hljs-string">'docker'</span>], check=<span class="hljs-literal">True</span>)
                    self.solutions_applied.append(<span class="hljs-string">"Docker æœåŠ¡å·²å¯åŠ¨å¹¶å¯ç”¨"</span>)
                <span class="hljs-keyword">except</span> subprocess.CalledProcessError <span class="hljs-keyword">as</span> e:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ å¯åŠ¨ Docker æœåŠ¡å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            
            <span class="hljs-keyword">if</span> <span class="hljs-string">"ç”¨æˆ·ä¸åœ¨ docker ç»„ä¸­"</span> <span class="hljs-keyword">in</span> issue:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å°†ç”¨æˆ·æ·»åŠ åˆ° docker ç»„..."</span>)
                current_user = os.getenv(<span class="hljs-string">'USER'</span>)
                <span class="hljs-keyword">try</span>:
                    subprocess.run([<span class="hljs-string">'sudo'</span>, <span class="hljs-string">'usermod'</span>, <span class="hljs-string">'-aG'</span>, <span class="hljs-string">'docker'</span>, current_user], check=<span class="hljs-literal">True</span>)
                    self.solutions_applied.append(<span class="hljs-string">f"ç”¨æˆ· <span class="hljs-subst">{current_user}</span> å·²æ·»åŠ åˆ° docker ç»„"</span>)
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç”¨æˆ·å·²æ·»åŠ åˆ° docker ç»„ï¼Œè¯·é‡æ–°ç™»å½•ä½¿æ›´æ”¹ç”Ÿæ•ˆ"</span>)
                <span class="hljs-keyword">except</span> subprocess.CalledProcessError <span class="hljs-keyword">as</span> e:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ æ·»åŠ ç”¨æˆ·åˆ° docker ç»„å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_report</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ç”Ÿæˆæ•…éšœæ’é™¤æŠ¥å‘Š"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>*<span class="hljs-number">50</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ•…éšœæ’é™¤æŠ¥å‘Š"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>*<span class="hljs-number">50</span>)
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.issues_found:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ‰ æœªå‘ç°é—®é¢˜ï¼å¼€å‘ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å‘ç° <span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.issues_found)}</span> ä¸ªé—®é¢˜:"</span>)
            <span class="hljs-keyword">for</span> issue <span class="hljs-keyword">in</span> self.issues_found:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  â€¢ <span class="hljs-subst">{issue}</span>"</span>)
            
            <span class="hljs-keyword">if</span> self.solutions_applied:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nå·²åº”ç”¨ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.solutions_applied)}</span> ä¸ªè§£å†³æ–¹æ¡ˆ:"</span>)
                <span class="hljs-keyword">for</span> solution <span class="hljs-keyword">in</span> self.solutions_applied:
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  âœ… <span class="hljs-subst">{solution}</span>"</span>)
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·å°è¯•:"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"  1. é‡å¯ç³»ç»Ÿ"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"  2. æ£€æŸ¥ Docker æ—¥å¿—: sudo journalctl -u docker"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"  3. é‡æ–°å®‰è£… Docker"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_full_check</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è¿è¡Œå®Œæ•´æ£€æŸ¥"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ å¼€å§‹å¼€å‘ç¯å¢ƒæ•…éšœæ’é™¤...\n"</span>)
        
        self.check_docker_installation()
        self.check_docker_service()
        self.check_user_in_docker_group()
        self.check_vscode_extensions()
        self.check_container_connectivity()
        
        self.apply_solutions()
        self.generate_report()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    troubleshooter = DevelopmentTroubleshooter()
    troubleshooter.run_full_check()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h3 data-id="heading-18">6.2 æ€§èƒ½ä¼˜åŒ–é…ç½®</h3>
<p><strong>åˆ›å»ºæ€§èƒ½ä¼˜åŒ–è„šæœ¬ï¼š</strong> <code>optimize_performance.py</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–é…ç½®
ä¼˜åŒ–å®¹å™¨å’Œ VSCode æ€§èƒ½
"""</span>

<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> subprocess
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path


<span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceOptimizer</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.optimizations_applied = []
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">optimize_docker_daemon</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ä¼˜åŒ– Docker å®ˆæŠ¤è¿›ç¨‹é…ç½®"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”§ ä¼˜åŒ– Docker å®ˆæŠ¤è¿›ç¨‹é…ç½®..."</span>)
        
        docker_daemon_config = {
            <span class="hljs-string">"log-driver"</span>: <span class="hljs-string">"json-file"</span>,
            <span class="hljs-string">"log-opts"</span>: {
                <span class="hljs-string">"max-size"</span>: <span class="hljs-string">"10m"</span>,
                <span class="hljs-string">"max-file"</span>: <span class="hljs-string">"3"</span>
            },
            <span class="hljs-string">"storage-driver"</span>: <span class="hljs-string">"overlay2"</span>,
            <span class="hljs-string">"default-ulimits"</span>: {
                <span class="hljs-string">"nofile"</span>: {
                    <span class="hljs-string">"Name"</span>: <span class="hljs-string">"nofile"</span>,
                    <span class="hljs-string">"Hard"</span>: <span class="hljs-number">65536</span>,
                    <span class="hljs-string">"Soft"</span>: <span class="hljs-number">65536</span>
                }
            }
        }
        
        config_path = Path(<span class="hljs-string">'/etc/docker/daemon.json'</span>)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># å¤‡ä»½ç°æœ‰é…ç½®</span>
            <span class="hljs-keyword">if</span> config_path.exists():
                backup_path = config_path.with_suffix(<span class="hljs-string">'.json.backup'</span>)
                config_path.rename(backup_path)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… ç°æœ‰é…ç½®å·²å¤‡ä»½åˆ°: <span class="hljs-subst">{backup_path}</span>"</span>)
            
            <span class="hljs-comment"># å†™å…¥æ–°é…ç½®</span>
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(config_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
                json.dump(docker_daemon_config, f, indent=<span class="hljs-number">2</span>)
            
            <span class="hljs-comment"># é‡å¯ Docker æœåŠ¡</span>
            subprocess.run([<span class="hljs-string">'sudo'</span>, <span class="hljs-string">'systemctl'</span>, <span class="hljs-string">'restart'</span>, <span class="hljs-string">'docker'</span>], check=<span class="hljs-literal">True</span>)
            
            self.optimizations_applied.append(<span class="hljs-string">"Docker å®ˆæŠ¤è¿›ç¨‹é…ç½®ä¼˜åŒ–"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Docker å®ˆæŠ¤è¿›ç¨‹é…ç½®å·²ä¼˜åŒ–"</span>)
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ Docker é…ç½®ä¼˜åŒ–å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">optimize_vscode_settings</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ä¼˜åŒ– VSCode è®¾ç½®"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”§ ä¼˜åŒ– VSCode æ€§èƒ½è®¾ç½®..."</span>)
        
        vscode_settings = {
            <span class="hljs-string">"editor.minimap.enabled"</span>: <span class="hljs-literal">False</span>,
            <span class="hljs-string">"extensions.autoUpdate"</span>: <span class="hljs-literal">False</span>,
            <span class="hljs-string">"git.enableSmartCommit"</span>: true,
            <span class="hljs-string">"git.autofetch"</span>: true,
            <span class="hljs-string">"files.autoSave"</span>: <span class="hljs-string">"afterDelay"</span>,
            <span class="hljs-string">"files.autoSaveDelay"</span>: <span class="hljs-number">1000</span>,
            <span class="hljs-string">"telemetry.enableCrashReporter"</span>: false,
            <span class="hljs-string">"telemetry.enableTelemetry"</span>: false,
            <span class="hljs-string">"python.terminal.activateEnvironment"</span>: false,
            <span class="hljs-string">"remote.autoForwardPorts"</span>: false
        }
        
        <span class="hljs-comment"># ç”¨æˆ·è®¾ç½®è·¯å¾„</span>
        vscode_user_dir = Path.home() / <span class="hljs-string">'.config'</span> / <span class="hljs-string">'Code'</span> / <span class="hljs-string">'User'</span>
        vscode_user_dir.mkdir(parents=<span class="hljs-literal">True</span>, exist_ok=<span class="hljs-literal">True</span>)
        
        settings_path = vscode_user_dir / <span class="hljs-string">'settings.json'</span>
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># è¯»å–ç°æœ‰è®¾ç½®</span>
            existing_settings = {}
            <span class="hljs-keyword">if</span> settings_path.exists():
                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(settings_path, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:
                    existing_settings = json.load(f)
            
            <span class="hljs-comment"># åˆå¹¶è®¾ç½®</span>
            optimized_settings = {**existing_settings, **vscode_settings}
            
            <span class="hljs-comment"># å†™å…¥ä¼˜åŒ–åçš„è®¾ç½®</span>
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(settings_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
                json.dump(optimized_settings, f, indent=<span class="hljs-number">2</span>)
            
            self.optimizations_applied.append(<span class="hljs-string">"VSCode æ€§èƒ½è®¾ç½®ä¼˜åŒ–"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… VSCode æ€§èƒ½è®¾ç½®å·²ä¼˜åŒ–"</span>)
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ VSCode è®¾ç½®ä¼˜åŒ–å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">optimize_system_limits</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ä¼˜åŒ–ç³»ç»Ÿé™åˆ¶"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”§ ä¼˜åŒ–ç³»ç»Ÿé™åˆ¶..."</span>)
        
        limits_config = <span class="hljs-string">"""
# å¼€å‘ç¯å¢ƒä¼˜åŒ–é…ç½®
* soft nofile 65536
* hard nofile 65536
* soft nproc 65536
* hard nproc 65536
"""</span>
        
        <span class="hljs-keyword">try</span>:
            limits_path = Path(<span class="hljs-string">'/etc/security/limits.d/99-dev-environment.conf'</span>)
            
            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(limits_path, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:
                f.write(limits_config)
            
            self.optimizations_applied.append(<span class="hljs-string">"ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦é™åˆ¶ä¼˜åŒ–"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ç³»ç»Ÿé™åˆ¶å·²ä¼˜åŒ–"</span>)
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ ç³»ç»Ÿé™åˆ¶ä¼˜åŒ–å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cleanup_docker_resources</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ¸…ç† Docker èµ„æº"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ§¹ æ¸…ç† Docker èµ„æº..."</span>)
        
        <span class="hljs-keyword">try</span>:
            <span class="hljs-comment"># åœæ­¢æ‰€æœ‰å®¹å™¨</span>
            subprocess.run([<span class="hljs-string">'docker'</span>, <span class="hljs-string">'stop'</span>, <span class="hljs-string">'$(docker ps -aq)'</span>], 
                         capture_output=<span class="hljs-literal">True</span>, shell=<span class="hljs-literal">True</span>)
            
            <span class="hljs-comment"># åˆ é™¤æ‰€æœ‰åœæ­¢çš„å®¹å™¨</span>
            subprocess.run([<span class="hljs-string">'docker'</span>, <span class="hljs-string">'rm'</span>, <span class="hljs-string">'$(docker ps -aq)'</span>], 
                         capture_output=<span class="hljs-literal">True</span>, shell=<span class="hljs-literal">True</span>)
            
            <span class="hljs-comment"># åˆ é™¤æ‚¬ç©ºé•œåƒ</span>
            subprocess.run([<span class="hljs-string">'docker'</span>, <span class="hljs-string">'image'</span>, <span class="hljs-string">'prune'</span>, <span class="hljs-string">'-f'</span>], check=<span class="hljs-literal">True</span>)
            
            <span class="hljs-comment"># åˆ é™¤æ„å»ºç¼“å­˜</span>
            subprocess.run([<span class="hljs-string">'docker'</span>, <span class="hljs-string">'builder'</span>, <span class="hljs-string">'prune'</span>, <span class="hljs-string">'-f'</span>], check=<span class="hljs-literal">True</span>)
            
            self.optimizations_applied.append(<span class="hljs-string">"Docker èµ„æºæ¸…ç†"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… Docker èµ„æºå·²æ¸…ç†"</span>)
            
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âŒ Docker èµ„æºæ¸…ç†å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_optimization_report</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ç”Ÿæˆä¼˜åŒ–æŠ¥å‘Š"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>*<span class="hljs-number">50</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>*<span class="hljs-number">50</span>)
        
        <span class="hljs-keyword">if</span> self.optimizations_applied:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ… å·²åº”ç”¨ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(self.optimizations_applied)}</span> ä¸ªä¼˜åŒ–:"</span>)
            <span class="hljs-keyword">for</span> optimization <span class="hljs-keyword">in</span> self.optimizations_applied:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  â€¢ <span class="hljs-subst">{optimization}</span>"</span>)
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå»ºè®®ä¸‹ä¸€æ­¥:"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"  1. é‡å¯ç³»ç»Ÿä»¥ä½¿æ‰€æœ‰ä¼˜åŒ–ç”Ÿæ•ˆ"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"  2. ç›‘æ§ç³»ç»Ÿæ€§èƒ½"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"  3. æ ¹æ®éœ€è¦è¿›è¡Œè¿›ä¸€æ­¥è°ƒæ•´"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸ æœªåº”ç”¨ä»»ä½•ä¼˜åŒ–"</span>)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run_full_optimization</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""è¿è¡Œå®Œæ•´ä¼˜åŒ–"""</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ å¼€å§‹å¼€å‘ç¯å¢ƒæ€§èƒ½ä¼˜åŒ–...\n"</span>)
        
        self.optimize_docker_daemon()
        self.optimize_vscode_settings()
        self.optimize_system_limits()
        self.cleanup_docker_resources()
        
        self.generate_optimization_report()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>
    optimizer = PerformanceOptimizer()
    optimizer.run_full_optimization()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h2 data-id="heading-19">7. æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<p>é€šè¿‡ä»¥ä¸Šå®Œæ•´çš„é…ç½®å’Œä¼˜åŒ–ï¼Œæ‚¨å·²ç»æˆåŠŸæ­å»ºäº†ä¸€ä¸ªé«˜æ•ˆã€å¯é çš„ Linux å¼€å‘ç¯å¢ƒã€‚è¿™ä¸ªç¯å¢ƒå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<h3 data-id="heading-20">7.1 ç¯å¢ƒä¸€è‡´æ€§</h3>
<ul>
<li>å®¹å™¨åŒ–ç¡®ä¿æ‰€æœ‰å¼€å‘è€…ä½¿ç”¨ç›¸åŒçš„ç¯å¢ƒ</li>
<li>ç‰ˆæœ¬æ§åˆ¶å¼€å‘é…ç½®</li>
<li>å¿«é€Ÿç¯å¢ƒé‡å»ºèƒ½åŠ›</li>
</ul>
<h3 data-id="heading-21">7.2 å¼€å‘æ•ˆç‡</h3>
<ul>
<li>VSCode æä¾›å®Œæ•´çš„ IDE åŠŸèƒ½</li>
<li>å®æ—¶ä»£ç åŒæ­¥å’Œè°ƒè¯•</li>
<li>é›†æˆçš„ç»ˆç«¯å’Œç‰ˆæœ¬æ§åˆ¶</li>
</ul>
<h3 data-id="heading-22">7.3 å¯ç»´æŠ¤æ€§</h3>
<ul>
<li>é…ç½®å³ä»£ç </li>
<li>è‡ªåŠ¨åŒ–è„šæœ¬å‡å°‘æ‰‹åŠ¨æ“ä½œ</li>
<li>ç›‘æ§å’Œæ•…éšœæ’é™¤å·¥å…·</li>
</ul>
<h3 data-id="heading-23">7.4 æ‰©å±•æ€§</h3>
<ul>
<li>æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶</li>
<li>æ˜“äºæ·»åŠ æ–°å·¥å…·å’ŒæœåŠ¡</li>
<li>å¯å¤ç”¨çš„å¼€å‘ç¯å¢ƒé…ç½®</li>
</ul>
<p>è¿™ä¸ªå¼€å‘ç¯å¢ƒé…ç½®ä¸ºå›¢é˜Ÿåä½œå’Œé¡¹ç›®å¼€å‘æä¾›äº†åšå®çš„åŸºç¡€ï¼Œç¡®ä¿å¼€å‘è¿‡ç¨‹çš„é¡ºç•…å’Œé«˜æ•ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†…å­˜ç½‘ç›˜ - Goè¯­è¨€å®ç°çš„WebDAVå†…å­˜æ–‡ä»¶ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7572761792465666111</link>    <guid>https://juejin.cn/post/7572761792465666111</guid>    <pubDate>2025-11-17T00:33:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572761792465666111" data-draft-id="7572921387745820678" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†…å­˜ç½‘ç›˜ - Goè¯­è¨€å®ç°çš„WebDAVå†…å­˜æ–‡ä»¶ç³»ç»Ÿ"/> <meta itemprop="keywords" content="Go"/> <meta itemprop="datePublished" content="2025-11-17T00:33:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Mgx"/> <meta itemprop="url" content="https://juejin.cn/user/4334740908805417"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†…å­˜ç½‘ç›˜ - Goè¯­è¨€å®ç°çš„WebDAVå†…å­˜æ–‡ä»¶ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4334740908805417/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Mgx
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T00:33:06.000Z" title="Mon Nov 17 2025 00:33:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ä¸ª Go å°ç©å…·ï¼Œè®©å†…å­˜ç§’å˜ç½‘ç›˜ï¼å…³æœºå°±æ¶ˆå¤±ï¼Œé‡å‘½åéšä¾¿æ”¹ï¼Œè¿˜èƒ½è‡ªåŠ¨æŒ‚æˆ Z ç›˜â€”â€”è¿™ä¸æ˜¯é­”æ³•ï¼Œæ˜¯ Go å†™çš„ WebDAV å†…å­˜æ–‡ä»¶ç³»ç»Ÿï¼</p>
<p>ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼šå¦‚æœæœ‰ä¸€ä¸ªç½‘ç›˜ï¼Œä¸ç”¨æ³¨å†Œã€ä¸å ç¡¬ç›˜ã€é€Ÿåº¦é£å¿«ï¼Œä½†åªè¦ä¸€å…³ç¨‹åºï¼Œæ‰€æœ‰æ•°æ®å°±"äººé—´è’¸å‘"ï¼Ÿå¬èµ·æ¥åƒé—´è°å·¥å…·ï¼Ÿå…¶å®å®ƒåªæ˜¯ä¸ªç”¨ Go å†™çš„å°ç©å…·â€”â€”è€Œä¸”ç°åœ¨ï¼Œå®ƒè¿˜èƒ½è®©ä½ åœ¨ Windows èµ„æºç®¡ç†å™¨é‡Œç›´æ¥é‡å‘½åæ–‡ä»¶ï¼Œå°±åƒæ“ä½œæœ¬åœ°æ–‡ä»¶ä¸€æ ·ä¸æ»‘ï¼</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ­å¼€è¿™ä¸ª"å†…å­˜ç½‘ç›˜"çš„ç¥ç§˜é¢çº±ã€‚æ”¾å¿ƒï¼Œä»£ç ä¸å¤šï¼Œç¬‘ç‚¹ç®¡å¤Ÿï¼ŒåŸç†è®²é€ï¼Œè¿ä½ å®¶çŒ«éƒ½èƒ½çœ‹æ‡‚ï¼ˆå¤§æ¦‚ï¼‰ã€‚</p>
<h2 data-id="heading-0">ğŸ¯ åŠŸèƒ½ç‰¹æ€§</h2>
<ul>
<li>âœ… æ‰€æœ‰æ–‡ä»¶å­˜åœ¨å†…å­˜é‡Œï¼ˆRAMï¼‰ï¼Œå…³è¿›ç¨‹å°±æ¸…é›¶ï¼Œå¹²å‡€å¾—åƒæ²¡æ¥è¿‡</li>
<li>âœ… æ”¯æŒå®Œæ•´çš„ WebDAV åè®®ï¼šæ–°å»ºã€åˆ é™¤ã€è¯»å†™ã€å»ºæ–‡ä»¶å¤¹â€¦â€¦</li>
<li>âœ… æ–°å¢é‡ç£…åŠŸèƒ½ï¼šæ”¯æŒé‡å‘½åæ–‡ä»¶/æ–‡ä»¶å¤¹ï¼æ‹–æ‹½ã€å³é”®æ”¹åç»Ÿç»Ÿ OK</li>
<li>âœ… å¯åŠ¨æ—¶è‡ªåŠ¨åœ¨ Windows ä¸Šæ˜ å°„ä¸º Z: ç›˜ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ï¼Œåƒæœ¬åœ°ç£ç›˜ä¸€æ ·ç”¨ï¼</li>
<li>âœ… è‡ªå¸¦ README.txt å½©è›‹ï¼Œå†…å«ä½œè€…ç­¾åï¼ˆä¸æ˜¯ç—…æ¯’ï¼ŒçœŸçš„ï¼ï¼‰</li>
</ul>
<h3 data-id="heading-1">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>ä¸´æ—¶å…±äº«</li>
<li>å¿«é€Ÿæµ‹è¯•</li>
<li>æ¼”ç¤ºç¯å¢ƒ</li>
</ul>
<h2 data-id="heading-2">ğŸ› ï¸ æŠ€æœ¯åŸç†</h2>
<h3 data-id="heading-3">1. å†…å­˜æ–‡ä»¶ç³»ç»Ÿ = ä¸€æ£µæ ‘</h3>
<p>æˆ‘ä»¬ç”¨ Go çš„ <code>map[string]*File</code> æ¨¡æ‹Ÿæ–‡ä»¶ç›®å½•ç»“æ„ï¼Œæ¯ä¸ª File å¯ä»¥æ˜¯æ™®é€šæ–‡ä»¶æˆ–ç›®å½•ã€‚æ•´æ£µæ ‘ä»æ ¹èŠ‚ç‚¹ <code>/</code> å¼€å§‹ï¼Œé•¿å¾—åƒè¿™æ ·ï¼š</p>
<pre><code class="hljs">/
â””â”€â”€ README.txt
</code></pre>
<p>æ‰€æœ‰æ“ä½œï¼ˆåˆ›å»ºã€è¯»å–ã€åˆ é™¤ã€é‡å‘½åï¼‰éƒ½æ˜¯åœ¨è¿™æ£µæ ‘ä¸Š"ä¿®æå‰ªå¶"ã€‚</p>
<h3 data-id="heading-4">2. WebDAV = HTTP çš„"æ–‡ä»¶æ“ä½œæ‰©å±•åŒ…"</h3>
<p>æ™®é€š HTTP åªèƒ½ GET/POSTï¼Œè€Œ WebDAV å¢åŠ äº† MKCOLï¼ˆå»ºç›®å½•ï¼‰ã€PUTï¼ˆä¸Šä¼ ï¼‰ã€MOVEï¼ˆé‡å‘½åï¼‰ç­‰æ–¹æ³•ã€‚Go çš„ <code>golang.org/x/net/webdav</code> åŒ…å¸®æˆ‘ä»¬å®ç°äº†åè®®è§£æï¼Œæˆ‘ä»¬åªéœ€æä¾›åº•å±‚æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ã€‚</p>
<h3 data-id="heading-5">3. é‡å‘½å = "æ¬å®¶+æ”¹å"</h3>
<p>é‡å‘½åçš„æœ¬è´¨æ˜¯ï¼š</p>
<ol>
<li>ä»æ—§çˆ¶ç›®å½•ä¸­åˆ æ‰æ¡ç›®</li>
<li>åœ¨æ–°çˆ¶ç›®å½•ä¸­åŠ ä¸Šæ–°åå­—</li>
<li>å¦‚æœè·¨ç›®å½•ï¼Œè¿˜è¦æ›´æ–°çˆ¶æŒ‡é’ˆ</li>
</ol>
<p>å…³é”®æ˜¯è¦åŒæ—¶é”ä½ä¸¤ä¸ªçˆ¶ç›®å½•ï¼Œé˜²æ­¢å¹¶å‘æ—¶"æ–‡ä»¶å¤±è¸ª"ã€‚æˆ‘ä»¬çš„ä»£ç åšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œå®‰å…¨åˆé«˜æ•ˆã€‚</p>
<h3 data-id="heading-6">4. Windows æ˜ å°„ = net use å‘½ä»¤è‡ªåŠ¨åŒ–</h3>
<p>ç¨‹åºå¯åŠ¨åï¼Œå·å·æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-cmd" lang="cmd">net use Z: http://localhost:8080 /y
</code></pre>
<p>äºæ˜¯ä½ çš„èµ„æºç®¡ç†å™¨å°±å¤šäº†ä¸€ä¸ª"ç½‘ç»œé©±åŠ¨å™¨"ã€‚é€€å‡ºæ—¶å†æ‰§è¡Œ /deleteï¼Œä¸ç•™ç—•è¿¹ã€‚</p>
<h2 data-id="heading-7">ğŸ“¦ ä½¿ç”¨æ–¹æ³•</h2>
<h3 data-id="heading-8">ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡ç¯å¢ƒ</h3>
<p>ç¡®ä¿å·²å®‰è£… Goï¼ˆ1.16+ï¼‰ï¼Œå¹¶å¯ç”¨ Go Modulesã€‚</p>
<h3 data-id="heading-9">ç¬¬äºŒæ­¥ï¼šä¿å­˜ä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶</h3>
<p>æ³¨æ„ï¼šä¸‰ä¸ªæ–‡ä»¶éœ€æ”¾åœ¨åŒä¸€æ¨¡å—ä¸‹ï¼Œä¾‹å¦‚é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go">your-project/
â”œâ”€â”€ <span class="hljs-keyword">go</span>.mod
â”œâ”€â”€ main.<span class="hljs-keyword">go</span>
â””â”€â”€ memdisk/
    â”œâ”€â”€ memfs.<span class="hljs-keyword">go</span>
    â””â”€â”€ webdav.<span class="hljs-keyword">go</span>
</code></pre>
<h3 data-id="heading-10">ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œï¼</h3>
<pre><code class="hljs language-bash" lang="bash">go run main.go -port=8080 -drive=Z:
</code></pre>
<p>ç„¶åæ‰“å¼€"æ­¤ç”µè„‘"ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å¤šäº†ä¸ª Z: ç›˜ï¼ŸåŒå‡»è¿›å»ï¼Œè¯•è¯•æ–°å»ºæ–‡ä»¶ã€é‡å‘½åâ€”â€”æ˜¯ä¸æ˜¯å’Œæœ¬åœ°ç£ç›˜ä¸€æ¨¡ä¸€æ ·ï¼Ÿ
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1233e144373435dbbbffcd2728848af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWd4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763944386&amp;x-signature=jVh%2F3%2F9hE3na8EqDeLe2wZ4iI60%3D" alt="å¢åŠ äº†ç›˜" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63d8e4389f2144bda9f34f3f02593513~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWd4:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763944386&amp;x-signature=6annfYFvjUMnuah%2FRit66LkFFNw%3D" alt="æ‰“å¼€ç›˜çš„æ ·å­" loading="lazy"/></p>
<h2 data-id="heading-11">ğŸ“„ æºç å±•ç¤º</h2>
<h3 data-id="heading-12">main.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"flag"</span>
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"log"</span>
	<span class="hljs-string">"net/http"</span>
	<span class="hljs-string">"os"</span>
	<span class="hljs-string">"os/exec"</span>
	<span class="hljs-string">"os/signal"</span>
	<span class="hljs-string">"sync"</span>
	<span class="hljs-string">"syscall"</span>
	<span class="hljs-string">"time"</span>

	<span class="hljs-string">"golang.org/x/net/webdav"</span>
	
	<span class="hljs-string">"memdisk/memdisk"</span>
)

<span class="hljs-comment">// ä½¿ç”¨Windows net useå‘½ä»¤æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">mapNetworkDrive</span><span class="hljs-params">(serverURL, drive <span class="hljs-type">string</span>)</span></span> {
	<span class="hljs-comment">// é¦–å…ˆï¼Œå¦‚æœå·²ç»è¿æ¥åˆ™æ–­å¼€è¿æ¥</span>
	exec.Command(<span class="hljs-string">"net"</span>, <span class="hljs-string">"use"</span>, drive, <span class="hljs-string">"/delete"</span>, <span class="hljs-string">"/y"</span>).Run()

	<span class="hljs-comment">// ç„¶åæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
	cmd := exec.Command(<span class="hljs-string">"net"</span>, <span class="hljs-string">"use"</span>, drive, serverURL)
	<span class="hljs-keyword">if</span> err := cmd.Run(); err != <span class="hljs-literal">nil</span> {
		log.Printf(<span class="hljs-string">"æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨å¤±è´¥: %v"</span>, err)
		<span class="hljs-comment">// å°è¯•ä¸åŒçš„æ–¹æ³•</span>
		log.Printf(<span class="hljs-string">"æ‚¨å¯ä»¥æ‰‹åŠ¨æ˜ å°„é©±åŠ¨å™¨: net use %s %s"</span>, drive, serverURL)
	} <span class="hljs-keyword">else</span> {
		log.Printf(<span class="hljs-string">"æˆåŠŸå°† %s æ˜ å°„åˆ° %s"</span>, drive, serverURL)
	}
}

<span class="hljs-comment">// ä½¿ç”¨Windows net useå‘½ä»¤å–æ¶ˆæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">unmapNetworkDrive</span><span class="hljs-params">(drive <span class="hljs-type">string</span>)</span></span> {
	log.Printf(<span class="hljs-string">"æ­£åœ¨å–æ¶ˆæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨: %s"</span>, drive)
	cmd := exec.Command(<span class="hljs-string">"net"</span>, <span class="hljs-string">"use"</span>, drive, <span class="hljs-string">"/delete"</span>, <span class="hljs-string">"/y"</span>)
	<span class="hljs-keyword">if</span> err := cmd.Run(); err != <span class="hljs-literal">nil</span> {
		log.Printf(<span class="hljs-string">"å–æ¶ˆæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨å¤±è´¥: %v"</span>, err)
	} <span class="hljs-keyword">else</span> {
		log.Printf(<span class="hljs-string">"æˆåŠŸå–æ¶ˆæ˜ å°„ %s"</span>, drive)
	}
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	<span class="hljs-comment">// è§£æå‘½ä»¤è¡Œå‚æ•°</span>
	<span class="hljs-keyword">var</span> port <span class="hljs-type">string</span>
	<span class="hljs-keyword">var</span> drive <span class="hljs-type">string</span>

	flag.StringVar(&amp;port, <span class="hljs-string">"port"</span>, <span class="hljs-string">"8080"</span>, <span class="hljs-string">"æœåŠ¡å™¨ç«¯å£"</span>)
	flag.StringVar(&amp;drive, <span class="hljs-string">"drive"</span>, <span class="hljs-string">"Z:"</span>, <span class="hljs-string">"æ˜ å°„çš„ç½‘ç»œé©±åŠ¨å™¨ç›˜ç¬¦"</span>)
	flag.Parse()

	<span class="hljs-comment">// å¦‚æœä½¿ç”¨æ—§çš„å‚æ•°æ–¹å¼ï¼Œä»ç„¶æ”¯æŒ</span>
	<span class="hljs-keyword">if</span> flag.NArg() &gt; <span class="hljs-number">0</span> {
		port = flag.Arg(<span class="hljs-number">0</span>)
	}
	<span class="hljs-keyword">if</span> flag.NArg() &gt; <span class="hljs-number">1</span> {
		drive = flag.Arg(<span class="hljs-number">1</span>)
	}

	<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„å†…å­˜æ–‡ä»¶ç³»ç»Ÿ</span>
	fs := memdisk.NewMemFS()

	<span class="hljs-comment">// åªåˆ›å»ºä¸€ä¸ªREADMEæ–‡ä»¶</span>
	fs.WriteFile(<span class="hljs-string">"/README.txt"</span>, []<span class="hljs-type">byte</span>(<span class="hljs-string">"å†…å­˜æ–‡ä»¶ç³»ç»Ÿ\r\n\r\nè¿™æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨å†…å­˜ä¸­çš„æ–‡ä»¶æœåŠ¡å™¨ã€‚\r\næ‰€æœ‰æ–‡ä»¶éƒ½å­˜å‚¨åœ¨RAMä¸­ï¼ŒæœåŠ¡å™¨åœæ­¢æ—¶å°†ä¸¢å¤±ã€‚\r\nJjMgx"</span>))

	<span class="hljs-comment">// ç”¨äºç½‘ç»œé©±åŠ¨å™¨æ˜ å°„çš„æœåŠ¡å™¨URL</span>
	serverURL := fmt.Sprintf(<span class="hljs-string">"http://localhost:%s"</span>, port)

	<span class="hljs-comment">// å¯åŠ¨WebDAVæœåŠ¡å™¨</span>
	startWebDAVServer(fs, port, drive, serverURL)

}

<span class="hljs-comment">// å¯åŠ¨WebDAVæœåŠ¡å™¨</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">startWebDAVServer</span><span class="hljs-params">(fs *memdisk.MemFS, port, drive, serverURL <span class="hljs-type">string</span>)</span></span> {
	<span class="hljs-comment">// åˆ›å»ºWebDAVæ–‡ä»¶ç³»ç»Ÿ</span>
	wdFs := memdisk.NewWebDAVFS(fs)

	<span class="hljs-comment">// åˆ›å»ºWebDAVå¤„ç†å™¨</span>
	handler := &amp;webdav.Handler{
		FileSystem: wdFs,
		LockSystem: webdav.NewMemLS(),
		Logger: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(r *http.Request, err <span class="hljs-type">error</span>)</span></span> {
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
				log.Printf(<span class="hljs-string">"WebDAVé”™è¯¯: %v %v"</span>, r.Method, err)
			} <span class="hljs-keyword">else</span> {
				log.Printf(<span class="hljs-string">"WebDAVè¯·æ±‚: %v %v"</span>, r.Method, r.URL)
			}
		},
	}

	<span class="hljs-comment">// åˆ›å»ºæœåŠ¡å™¨å¤šè·¯å¤ç”¨å™¨</span>
	mux := http.NewServeMux()

	<span class="hljs-comment">// ä¸ºæ‰€æœ‰è·¯å¾„æ³¨å†ŒWebDAVå¤„ç†å™¨</span>
	mux.HandleFunc(<span class="hljs-string">"/"</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(w http.ResponseWriter, r *http.Request)</span></span> {
		<span class="hljs-comment">// æ·»åŠ CORSå¤´éƒ¨</span>
		w.Header().Set(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"*"</span>)
		w.Header().Set(<span class="hljs-string">"Access-Control-Allow-Methods"</span>, <span class="hljs-string">"GET, POST, PUT, DELETE, MKCOL, COPY, MOVE, OPTIONS"</span>)
		w.Header().Set(<span class="hljs-string">"Access-Control-Allow-Headers"</span>, <span class="hljs-string">"Content-Type, Depth, Overwrite, Destination, Authorization"</span>)

		<span class="hljs-comment">// æ·»åŠ å¯èƒ½å½±å“æ˜¾ç¤ºåç§°çš„è‡ªå®šä¹‰å¤´éƒ¨</span>
		w.Header().Set(<span class="hljs-string">"Server"</span>, <span class="hljs-string">"CustomWebDAVServer"</span>)
		w.Header().Set(<span class="hljs-string">"X-Server-Name"</span>, <span class="hljs-string">"MemoryFileSystem"</span>)

		<span class="hljs-comment">// å¤„ç†OPTIONSè¯·æ±‚</span>
		<span class="hljs-keyword">if</span> r.Method == <span class="hljs-string">"OPTIONS"</span> {
			w.WriteHeader(http.StatusOK)
			<span class="hljs-keyword">return</span>
		}

		<span class="hljs-comment">// è°ƒç”¨WebDAVå¤„ç†å™¨</span>
		handler.ServeHTTP(w, r)
	})

	<span class="hljs-comment">// ç›‘å¬ä¸­æ–­ä¿¡å·çš„é€šé“</span>
	sigChan := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> os.Signal, <span class="hljs-number">1</span>)
	signal.Notify(sigChan, syscall.SIGINT, syscall.SIGTERM)

	<span class="hljs-comment">// ç¡®ä¿æ¸…ç†å®Œæˆçš„ç­‰å¾…ç»„</span>
	<span class="hljs-keyword">var</span> wg sync.WaitGroup

	<span class="hljs-comment">// å¯åŠ¨æœåŠ¡å™¨goroutineå¹¶åœ¨å‡†å¤‡å¥½æ—¶æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
	log.Printf(<span class="hljs-string">"æ­£åœ¨å¯åŠ¨WebDAVæœåŠ¡å™¨äº :%s"</span>, port)
	log.Printf(<span class="hljs-string">"è®¿é—®æœåŠ¡å™¨åœ°å€ http://localhost:%s"</span>, port)
	log.Printf(<span class="hljs-string">"å°è¯•æ˜ å°„ä¸ºç½‘ç»œé©±åŠ¨å™¨: %s"</span>, drive)

	<span class="hljs-comment">// æœåŠ¡å™¨goroutine</span>
	server := &amp;http.Server{
		Addr:    fmt.Sprintf(<span class="hljs-string">":%s"</span>, port),
		Handler: mux,
	}

	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		wg.Add(<span class="hljs-number">1</span>)
		<span class="hljs-keyword">defer</span> wg.Done()
		<span class="hljs-keyword">if</span> err := server.ListenAndServe(); err != <span class="hljs-literal">nil</span> &amp;&amp; err != http.ErrServerClosed {
			log.Fatalf(<span class="hljs-string">"æœåŠ¡å™¨å¯åŠ¨å¤±è´¥: %v"</span>, err)
		}
	}()

	<span class="hljs-comment">// ç»™æœåŠ¡å™¨ä¸€ç‚¹æ—¶é—´å¯åŠ¨ï¼Œç„¶åæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		time.Sleep(<span class="hljs-number">500</span> * time.Millisecond)
		log.Printf(<span class="hljs-string">"æ­£åœ¨æ˜ å°„ç½‘ç»œé©±åŠ¨å™¨: %s åˆ° %s"</span>, drive, serverURL)
		mapNetworkDrive(serverURL, drive)
	}()

	<span class="hljs-comment">// ç­‰å¾…ä¸­æ–­ä¿¡å·</span>
	&lt;-sigChan
	log.Println(<span class="hljs-string">"æ­£åœ¨å…³é—­æœåŠ¡å™¨..."</span>)

	<span class="hljs-comment">// å–æ¶ˆæ˜ å°„ç½‘ç»œé©±åŠ¨å™¨</span>
	unmapNetworkDrive(drive)

	<span class="hljs-comment">// ä¼˜é›…åœ°å…³é—­æœåŠ¡å™¨</span>
	<span class="hljs-keyword">if</span> err := server.Shutdown(context.Background()); err != <span class="hljs-literal">nil</span> {
		log.Printf(<span class="hljs-string">"æœåŠ¡å™¨å…³é—­é”™è¯¯: %v"</span>, err)
	}

	<span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰goroutineå®Œæˆ</span>
	wg.Wait()
	log.Println(<span class="hljs-string">"æœåŠ¡å™¨å·²ä¼˜é›…é€€å‡º"</span>)
}
</code></pre>
<h3 data-id="heading-13">memdisk/memfs.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> memdisk

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"os"</span>
	<span class="hljs-string">"sync"</span>
	<span class="hljs-string">"time"</span>
)

<span class="hljs-comment">// File è¡¨ç¤ºå†…å­˜æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªæ–‡ä»¶</span>
<span class="hljs-keyword">type</span> File <span class="hljs-keyword">struct</span> {
	Filename     <span class="hljs-type">string</span>
	Content      []<span class="hljs-type">byte</span>
	FileSize     <span class="hljs-type">int64</span>
	CreatedAt    time.Time
	ModifiedAt   time.Time
	IsDirectory  <span class="hljs-type">bool</span>
	Children     <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*File
	Parent       *File
	mu           sync.RWMutex
}

<span class="hljs-comment">// MemFS è¡¨ç¤ºå†…å­˜æ–‡ä»¶ç³»ç»Ÿ</span>
<span class="hljs-keyword">type</span> MemFS <span class="hljs-keyword">struct</span> {
	Root  *File
	mu    sync.RWMutex
}

<span class="hljs-comment">// NewMemFS åˆ›å»ºä¸€ä¸ªæ–°çš„MemFSå®ä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewMemFS</span><span class="hljs-params">()</span></span> *MemFS {
	root := &amp;File{
		Filename:     <span class="hljs-string">""</span>,
		IsDirectory:  <span class="hljs-literal">true</span>,
		Children:     <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*File),
		CreatedAt:    time.Now(),
		ModifiedAt:   time.Now(),
	}
	<span class="hljs-keyword">return</span> &amp;MemFS{
		Root: root,
	}
}

<span class="hljs-comment">// splitPath å°†è·¯å¾„åˆ†å‰²ä¸ºå…¶ç»„æˆéƒ¨åˆ†</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">splitPath</span><span class="hljs-params">(path <span class="hljs-type">string</span>)</span></span> []<span class="hljs-type">string</span> {
	<span class="hljs-keyword">if</span> path == <span class="hljs-string">"/"</span> {
		<span class="hljs-keyword">return</span> []<span class="hljs-type">string</span>{}
	}

	components := []<span class="hljs-type">string</span>{}
	current := <span class="hljs-string">""</span>
	<span class="hljs-keyword">for</span> _, c := <span class="hljs-keyword">range</span> path {
		<span class="hljs-keyword">if</span> c == <span class="hljs-string">'/'</span> {
			<span class="hljs-keyword">if</span> current != <span class="hljs-string">""</span> {
				components = <span class="hljs-built_in">append</span>(components, current)
				current = <span class="hljs-string">""</span>
			}
		} <span class="hljs-keyword">else</span> {
			current += <span class="hljs-type">string</span>(c)
		}
	}
	<span class="hljs-keyword">if</span> current != <span class="hljs-string">""</span> {
		components = <span class="hljs-built_in">append</span>(components, current)
	}
	<span class="hljs-keyword">return</span> components
}

<span class="hljs-comment">// GetFile æ ¹æ®è·¯å¾„è·å–æ–‡ä»¶æˆ–ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> GetFile(path <span class="hljs-type">string</span>) (*File, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> path == <span class="hljs-string">""</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	fs.mu.RLock()
	<span class="hljs-keyword">defer</span> fs.mu.RUnlock()

	components := splitPath(path)
	current := fs.Root

	<span class="hljs-keyword">for</span> _, comp := <span class="hljs-keyword">range</span> components {
		current.mu.RLock()
		child, exists := current.Children[comp]
		current.mu.RUnlock()
		<span class="hljs-keyword">if</span> !exists {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrNotExist
		}
		current = child
	}

	<span class="hljs-keyword">return</span> current, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// CreateDir åœ¨ç»™å®šè·¯å¾„ä¸­åˆ›å»ºæ–°ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> CreateDir(path <span class="hljs-type">string</span>) (*File, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> path == <span class="hljs-string">""</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	components := splitPath(path)
	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(components) == <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> fs.Root, <span class="hljs-literal">nil</span> <span class="hljs-comment">// æ ¹ç›®å½•å·²å­˜åœ¨</span>
	}

	<span class="hljs-comment">// åœ¨ä¸æŒæœ‰å…¨å±€é”çš„æƒ…å†µä¸‹è·å–çˆ¶çº§</span>
	parentPathComponents := components[:<span class="hljs-built_in">len</span>(components)<span class="hljs-number">-1</span>]
	parentPath := <span class="hljs-string">"/"</span> + joinPath(parentPathComponents)
	parent, err := fs.GetFile(parentPath)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}

	fs.mu.Lock()
	<span class="hljs-keyword">defer</span> fs.mu.Unlock()

	parent.mu.Lock()
	<span class="hljs-keyword">defer</span> parent.mu.Unlock()

	newDirName := components[<span class="hljs-built_in">len</span>(components)<span class="hljs-number">-1</span>]
	<span class="hljs-keyword">if</span> _, exists := parent.Children[newDirName]; exists {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrExist
	}

	newDir := &amp;File{
		Filename:     newDirName,
		IsDirectory:  <span class="hljs-literal">true</span>,
		Children:     <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*File),
		CreatedAt:    time.Now(),
		ModifiedAt:   time.Now(),
		Parent:       parent,
	}

	parent.Children[newDirName] = newDir
	<span class="hljs-keyword">return</span> newDir, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// CreateFile åœ¨ç»™å®šè·¯å¾„ä¸­åˆ›å»ºæ–°æ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> CreateFile(path <span class="hljs-type">string</span>) (*File, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">if</span> path == <span class="hljs-string">""</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	components := splitPath(path)
	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(components) == <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	<span class="hljs-comment">// åœ¨ä¸æŒæœ‰å…¨å±€é”çš„æƒ…å†µä¸‹è·å–çˆ¶çº§</span>
	parentPathComponents := components[:<span class="hljs-built_in">len</span>(components)<span class="hljs-number">-1</span>]
	parentPath := <span class="hljs-string">"/"</span> + joinPath(parentPathComponents)
	parent, err := fs.GetFile(parentPath)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}

	fs.mu.Lock()
	<span class="hljs-keyword">defer</span> fs.mu.Unlock()

	parent.mu.Lock()
	<span class="hljs-keyword">defer</span> parent.mu.Unlock()

	newFileName := components[<span class="hljs-built_in">len</span>(components)<span class="hljs-number">-1</span>]
	<span class="hljs-keyword">if</span> _, exists := parent.Children[newFileName]; exists {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrExist
	}

	newFile := &amp;File{
		Filename:     newFileName,
		IsDirectory:  <span class="hljs-literal">false</span>,
		Content:      []<span class="hljs-type">byte</span>{},
		FileSize:     <span class="hljs-number">0</span>,
		CreatedAt:    time.Now(),
		ModifiedAt:   time.Now(),
		Parent:       parent,
	}

	parent.Children[newFileName] = newFile
	<span class="hljs-keyword">return</span> newFile, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// ReadFile è¯»å–æ–‡ä»¶å†…å®¹</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> ReadFile(path <span class="hljs-type">string</span>) ([]<span class="hljs-type">byte</span>, <span class="hljs-type">error</span>) {
	file, err := fs.GetFile(path)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}

	file.mu.RLock()
	<span class="hljs-keyword">defer</span> file.mu.RUnlock()

	<span class="hljs-keyword">if</span> file.IsDirectory {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	content := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(file.Content))
	<span class="hljs-built_in">copy</span>(content, file.Content)
	<span class="hljs-keyword">return</span> content, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// WriteFile å°†å†…å®¹å†™å…¥æ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> WriteFile(path <span class="hljs-type">string</span>, content []<span class="hljs-type">byte</span>) <span class="hljs-type">error</span> {
	file, err := fs.GetFile(path)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-comment">// å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™å°è¯•åˆ›å»º</span>
		file, err = fs.CreateFile(path)
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> err
		}
	}

	file.mu.Lock()
	<span class="hljs-keyword">defer</span> file.mu.Unlock()

	<span class="hljs-keyword">if</span> file.IsDirectory {
		<span class="hljs-keyword">return</span> os.ErrInvalid
	}

	file.Content = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(content))
	<span class="hljs-built_in">copy</span>(file.Content, content)
	file.FileSize = <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(content))
	file.ModifiedAt = time.Now()
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Delete åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> Delete(path <span class="hljs-type">string</span>) <span class="hljs-type">error</span> {
	<span class="hljs-keyword">if</span> path == <span class="hljs-string">"/"</span> {
		<span class="hljs-keyword">return</span> os.ErrPermission
	}

	components := splitPath(path)
	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(components) == <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> os.ErrInvalid
	}

	<span class="hljs-comment">// åœ¨ä¸æŒæœ‰å…¨å±€é”çš„æƒ…å†µä¸‹è·å–çˆ¶çº§</span>
	parentPathComponents := components[:<span class="hljs-built_in">len</span>(components)<span class="hljs-number">-1</span>]
	parentPath := <span class="hljs-string">"/"</span> + joinPath(parentPathComponents)
	parent, err := fs.GetFile(parentPath)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err
	}

	fs.mu.Lock()
	<span class="hljs-keyword">defer</span> fs.mu.Unlock()

	parent.mu.Lock()
	<span class="hljs-keyword">defer</span> parent.mu.Unlock()

	fileName := components[<span class="hljs-built_in">len</span>(components)<span class="hljs-number">-1</span>]
	<span class="hljs-keyword">if</span> _, exists := parent.Children[fileName]; !exists {
		<span class="hljs-keyword">return</span> os.ErrNotExist
	}

	<span class="hljs-built_in">delete</span>(parent.Children, fileName)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Rename é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> Rename(oldPath, newPath <span class="hljs-type">string</span>) <span class="hljs-type">error</span> {
	<span class="hljs-keyword">if</span> oldPath == <span class="hljs-string">"/"</span> || newPath == <span class="hljs-string">"/"</span> {
		<span class="hljs-keyword">return</span> os.ErrPermission
	}

	oldComponents := splitPath(oldPath)
	newComponents := splitPath(newPath)
	
	<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(oldComponents) == <span class="hljs-number">0</span> || <span class="hljs-built_in">len</span>(newComponents) == <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> os.ErrInvalid
	}

	<span class="hljs-comment">// è·å–æ—§æ–‡ä»¶çš„çˆ¶ç›®å½•å’Œæ–‡ä»¶å</span>
	oldParentPathComponents := oldComponents[:<span class="hljs-built_in">len</span>(oldComponents)<span class="hljs-number">-1</span>]
	oldParentPath := <span class="hljs-string">"/"</span> + joinPath(oldParentPathComponents)
	oldParent, err := fs.GetFile(oldParentPath)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err
	}

	<span class="hljs-comment">// è·å–æ–°æ–‡ä»¶çš„çˆ¶ç›®å½•å’Œæ–‡ä»¶å</span>
	newParentPathComponents := newComponents[:<span class="hljs-built_in">len</span>(newComponents)<span class="hljs-number">-1</span>]
	newParentPath := <span class="hljs-string">"/"</span> + joinPath(newParentPathComponents)
	newParent, err := fs.GetFile(newParentPath)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> err
	}

	<span class="hljs-comment">// å¯¹ç›¸åŒå¯¹è±¡åªé”å®šä¸€æ¬¡</span>
	sameParent := oldParent == newParent

	fs.mu.Lock()
	<span class="hljs-keyword">defer</span> fs.mu.Unlock()

	oldParent.mu.Lock()
	<span class="hljs-keyword">defer</span> oldParent.mu.Unlock()

	<span class="hljs-comment">// å¦‚æœä¸æ˜¯åŒä¸€çˆ¶ç›®å½•ï¼Œåˆ™é”å®šæ–°çˆ¶ç›®å½•</span>
	<span class="hljs-keyword">if</span> !sameParent {
		newParent.mu.Lock()
		<span class="hljs-keyword">defer</span> newParent.mu.Unlock()
	}

	oldFileName := oldComponents[<span class="hljs-built_in">len</span>(oldComponents)<span class="hljs-number">-1</span>]
	newFileName := newComponents[<span class="hljs-built_in">len</span>(newComponents)<span class="hljs-number">-1</span>]

	<span class="hljs-comment">// æ£€æŸ¥æ—§æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
	oldFile, exists := oldParent.Children[oldFileName]
	<span class="hljs-keyword">if</span> !exists {
		<span class="hljs-keyword">return</span> os.ErrNotExist
	}

	<span class="hljs-comment">// æ£€æŸ¥æ–°æ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨</span>
	<span class="hljs-keyword">if</span> _, exists := newParent.Children[newFileName]; exists {
		<span class="hljs-keyword">return</span> os.ErrExist
	}

	<span class="hljs-comment">// ä»æ—§ä½ç½®ç§»é™¤</span>
	<span class="hljs-built_in">delete</span>(oldParent.Children, oldFileName)

	<span class="hljs-comment">// æ›´æ–°æ–‡ä»¶å</span>
	oldFile.Filename = newFileName
	
	<span class="hljs-comment">// æ›´æ–°çˆ¶æŒ‡é’ˆï¼ˆå¦‚æœä¸æ˜¯åŒä¸€çˆ¶ç›®å½•ï¼‰</span>
	<span class="hljs-keyword">if</span> !sameParent {
		oldFile.Parent = newParent
	}
	
	<span class="hljs-comment">// æ·»åŠ åˆ°æ–°ä½ç½®</span>
	newParent.Children[newFileName] = oldFile
	
	<span class="hljs-comment">// æ›´æ–°ä¿®æ”¹æ—¶é—´</span>
	oldFile.ModifiedAt = time.Now()

	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// ListDir åˆ—å‡ºç›®å½•å†…å®¹</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(fs *MemFS)</span></span> ListDir(path <span class="hljs-type">string</span>) ([]*File, <span class="hljs-type">error</span>) {
	dir, err := fs.GetFile(path)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}

	dir.mu.RLock()
	<span class="hljs-keyword">defer</span> dir.mu.RUnlock()

	<span class="hljs-keyword">if</span> !dir.IsDirectory {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	children := <span class="hljs-built_in">make</span>([]*File, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(dir.Children))
	<span class="hljs-keyword">for</span> _, child := <span class="hljs-keyword">range</span> dir.Children {
		child.mu.RLock()
		<span class="hljs-comment">// åˆ›å»ºå‰¯æœ¬ä»¥é¿å…ç«æ€æ¡ä»¶</span>
		copyChild := &amp;File{
		Filename:     child.Filename,
		FileSize:     child.FileSize,
		CreatedAt:    child.CreatedAt,
		ModifiedAt:   child.ModifiedAt,
		IsDirectory:  child.IsDirectory,
	}
		child.mu.RUnlock()
		children = <span class="hljs-built_in">append</span>(children, copyChild)
	}

	<span class="hljs-keyword">return</span> children, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// joinPath å°†è·¯å¾„ç»„ä»¶è¿æ¥æˆå•ä¸ªè·¯å¾„å­—ç¬¦ä¸²</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">joinPath</span><span class="hljs-params">(components []<span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> {
	result := <span class="hljs-string">""</span>
	<span class="hljs-keyword">for</span> i, comp := <span class="hljs-keyword">range</span> components {
		<span class="hljs-keyword">if</span> i &gt; <span class="hljs-number">0</span> {
			result += <span class="hljs-string">"/"</span>
		}
		result += comp
	}
	<span class="hljs-keyword">return</span> result
}
</code></pre>
<h3 data-id="heading-14">memdisk/webdav.go</h3>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> memdisk

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"io"</span>
	<span class="hljs-string">"os"</span>
	<span class="hljs-string">"time"</span>
	<span class="hljs-string">"golang.org/x/net/webdav"</span>
)

<span class="hljs-comment">// ä¸ºFileå®ç°os.FileInfoæ¥å£</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(f *File)</span></span> Name() <span class="hljs-type">string</span> {
	<span class="hljs-keyword">return</span> f.Filename
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(f *File)</span></span> Size() <span class="hljs-type">int64</span> {
	<span class="hljs-keyword">return</span> f.FileSize
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(f *File)</span></span> Mode() os.FileMode {
	<span class="hljs-keyword">if</span> f.IsDirectory {
		<span class="hljs-keyword">return</span> <span class="hljs-number">0755</span> | os.ModeDir
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0644</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(f *File)</span></span> ModTime() time.Time {
	<span class="hljs-keyword">return</span> f.ModifiedAt
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(f *File)</span></span> IsDir() <span class="hljs-type">bool</span> {
	<span class="hljs-keyword">return</span> f.IsDirectory
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(f *File)</span></span> Sys() <span class="hljs-keyword">interface</span>{} {
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// ... ç§»é™¤å…¼å®¹æ€§å±‚ï¼Œç°åœ¨ç›´æ¥å®ç°Name()å’ŒSize() ...</span>

<span class="hljs-comment">// WebDAVFSå®ç°äº†webdav.FileSystemæ¥å£</span>

<span class="hljs-keyword">type</span> WebDAVFS <span class="hljs-keyword">struct</span> {
	fs *MemFS
}

<span class="hljs-comment">// NewWebDAVFSåˆ›å»ºä¸€ä¸ªæ–°çš„WebDAVFSå®ä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewWebDAVFS</span><span class="hljs-params">(fs *MemFS)</span></span> *WebDAVFS {
	<span class="hljs-keyword">return</span> &amp;WebDAVFS{
		fs: fs,
	}
}

<span class="hljs-comment">// Mkdiråˆ›å»ºä¸€ä¸ªæ–°ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wfs *WebDAVFS)</span></span> Mkdir(ctx context.Context, name <span class="hljs-type">string</span>, perm os.FileMode) <span class="hljs-type">error</span> {
	_, err := wfs.fs.CreateDir(name)
	<span class="hljs-keyword">return</span> err
}

<span class="hljs-comment">// OpenFileæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wfs *WebDAVFS)</span></span> OpenFile(ctx context.Context, name <span class="hljs-type">string</span>, flag <span class="hljs-type">int</span>, perm os.FileMode) (webdav.File, <span class="hljs-type">error</span>) {
	<span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
	file, err := wfs.fs.GetFile(name)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">if</span> os.IsNotExist(err) &amp;&amp; (flag&amp;os.O_CREATE != <span class="hljs-number">0</span>) {
			<span class="hljs-comment">// å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ä¸”æŒ‡å®šäº†O_CREATEæ ‡å¿—ï¼Œåˆ™åˆ›å»ºæ–‡ä»¶</span>
			file, err = wfs.fs.CreateFile(name)
			<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
			}
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
	}

	<span class="hljs-comment">// è¿”å›WebDAVFileåŒ…è£…å™¨</span>
	<span class="hljs-keyword">return</span> &amp;WebDAVFile{
		file: file,
		pos:  <span class="hljs-number">0</span>,
	}, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// RemoveAllåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wfs *WebDAVFS)</span></span> RemoveAll(ctx context.Context, name <span class="hljs-type">string</span>) <span class="hljs-type">error</span> {
	<span class="hljs-keyword">return</span> wfs.fs.Delete(name)
}

<span class="hljs-comment">// Renameé‡å‘½åæ–‡ä»¶æˆ–ç›®å½•</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wfs *WebDAVFS)</span></span> Rename(ctx context.Context, oldName, newName <span class="hljs-type">string</span>) <span class="hljs-type">error</span> {
	<span class="hljs-keyword">return</span> wfs.fs.Rename(oldName, newName)
}

<span class="hljs-comment">// Statè¿”å›æ–‡ä»¶ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wfs *WebDAVFS)</span></span> Stat(ctx context.Context, name <span class="hljs-type">string</span>) (os.FileInfo, <span class="hljs-type">error</span>) {
	file, err := wfs.fs.GetFile(name)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
	}
	<span class="hljs-keyword">return</span> file, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// WebDAVFileå®ç°äº†webdav.Fileæ¥å£</span>
<span class="hljs-keyword">type</span> WebDAVFile <span class="hljs-keyword">struct</span> {
	file *File
	pos  <span class="hljs-type">int64</span>
}

<span class="hljs-comment">// Closeå…³é—­æ–‡ä»¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Close() <span class="hljs-type">error</span> {
	<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> <span class="hljs-comment">// å†…å­˜æ–‡ä»¶æ— éœ€æ“ä½œ</span>
}

<span class="hljs-comment">// Readä»æ–‡ä»¶è¯»å–</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Read(p []<span class="hljs-type">byte</span>) (n <span class="hljs-type">int</span>, err <span class="hljs-type">error</span>) {
	wf.file.mu.RLock()
	<span class="hljs-keyword">defer</span> wf.file.mu.RUnlock()

	<span class="hljs-keyword">if</span> wf.pos &gt;= <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(wf.file.Content)) {
		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, io.EOF
	}

	n = <span class="hljs-built_in">copy</span>(p, wf.file.Content[wf.pos:])
	wf.pos += <span class="hljs-type">int64</span>(n)
	<span class="hljs-keyword">return</span> n, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// ReadAtåœ¨æŒ‡å®šåç§»ä½ç½®ä»æ–‡ä»¶è¯»å–</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> ReadAt(p []<span class="hljs-type">byte</span>, off <span class="hljs-type">int64</span>) (n <span class="hljs-type">int</span>, err <span class="hljs-type">error</span>) {
	wf.file.mu.RLock()
	<span class="hljs-keyword">defer</span> wf.file.mu.RUnlock()

	<span class="hljs-keyword">if</span> off &gt;= <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(wf.file.Content)) {
		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, io.EOF
	}

	n = <span class="hljs-built_in">copy</span>(p, wf.file.Content[off:])
	<span class="hljs-keyword">if</span> n &lt; <span class="hljs-built_in">len</span>(p) {
		err = io.EOF
	}
	<span class="hljs-keyword">return</span> n, err
}

<span class="hljs-comment">// Seekå®šä½åˆ°æŒ‡å®šä½ç½®</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Seek(offset <span class="hljs-type">int64</span>, whence <span class="hljs-type">int</span>) (<span class="hljs-type">int64</span>, <span class="hljs-type">error</span>) {
	wf.file.mu.RLock()
	<span class="hljs-keyword">defer</span> wf.file.mu.RUnlock()

	<span class="hljs-keyword">var</span> newPos <span class="hljs-type">int64</span>

	<span class="hljs-keyword">switch</span> whence {
	<span class="hljs-keyword">case</span> io.SeekStart:
		newPos = offset
	<span class="hljs-keyword">case</span> io.SeekCurrent:
		newPos = wf.pos + offset
	<span class="hljs-keyword">case</span> io.SeekEnd:
		newPos = <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(wf.file.Content)) + offset
	<span class="hljs-keyword">default</span>:
		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, os.ErrInvalid
	}

	<span class="hljs-keyword">if</span> newPos &lt; <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, os.ErrInvalid
	}

	wf.pos = newPos
	<span class="hljs-keyword">return</span> newPos, <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Writeå‘æ–‡ä»¶å†™å…¥</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Write(p []<span class="hljs-type">byte</span>) (n <span class="hljs-type">int</span>, err <span class="hljs-type">error</span>) {
	wf.file.mu.Lock()
	<span class="hljs-keyword">defer</span> wf.file.mu.Unlock()

	<span class="hljs-comment">// è®¡ç®—å†™å…¥åçš„æ–°ä½ç½®</span>
	newPos := wf.pos + <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(p))

	<span class="hljs-comment">// å¦‚éœ€è¦åˆ™è°ƒæ•´å†…å®¹å¤§å°</span>
	<span class="hljs-keyword">if</span> newPos &gt; <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(wf.file.Content)) {
		<span class="hljs-comment">// æ‰©å±•å†…å®¹</span>
		newContent := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, newPos)
		<span class="hljs-built_in">copy</span>(newContent, wf.file.Content)
		wf.file.Content = newContent
	}

	<span class="hljs-comment">// å°†på†™å…¥å½“å‰ä½ç½®</span>
	<span class="hljs-built_in">copy</span>(wf.file.Content[wf.pos:newPos], p)

	<span class="hljs-comment">// æ›´æ–°ä½ç½®å’Œå¤§å°</span>
	wf.pos = newPos
	wf.file.FileSize = newPos
	wf.file.ModifiedAt = time.Now()

	<span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(p), <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// WriteAtåœ¨æŒ‡å®šåç§»ä½ç½®å‘æ–‡ä»¶å†™å…¥</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> WriteAt(p []<span class="hljs-type">byte</span>, off <span class="hljs-type">int64</span>) (n <span class="hljs-type">int</span>, err <span class="hljs-type">error</span>) {
	wf.file.mu.Lock()
	<span class="hljs-keyword">defer</span> wf.file.mu.Unlock()

	newPos := off + <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(p))
	<span class="hljs-keyword">if</span> newPos &gt; <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(wf.file.Content)) {
		<span class="hljs-comment">// æ‰©å±•å†…å®¹</span>
		newContent := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, newPos)
		<span class="hljs-built_in">copy</span>(newContent, wf.file.Content)
		wf.file.Content = newContent
	}

	<span class="hljs-built_in">copy</span>(wf.file.Content[off:newPos], p)

	<span class="hljs-comment">// å¦‚éœ€è¦åˆ™æ›´æ–°å¤§å°</span>
	<span class="hljs-keyword">if</span> newPos &gt; wf.file.FileSize {
		wf.file.FileSize = newPos
	}

	wf.file.ModifiedAt = time.Now()

	<span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(p), <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Readdirè¯»å–ç›®å½•æ¡ç›®</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Readdir(count <span class="hljs-type">int</span>) ([]os.FileInfo, <span class="hljs-type">error</span>) {
	wf.file.mu.RLock()
	<span class="hljs-keyword">defer</span> wf.file.mu.RUnlock()

	<span class="hljs-keyword">if</span> !wf.file.IsDirectory {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	<span class="hljs-comment">// å°†mapå€¼è½¬æ¢ä¸ºåˆ‡ç‰‡</span>
	children := <span class="hljs-built_in">make</span>([]os.FileInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(wf.file.Children))
	<span class="hljs-keyword">for</span> _, child := <span class="hljs-keyword">range</span> wf.file.Children {
		children = <span class="hljs-built_in">append</span>(children, child)
	}

	<span class="hljs-comment">// å¤„ç†countå‚æ•°</span>
	<span class="hljs-keyword">if</span> count &lt;= <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> children, <span class="hljs-literal">nil</span>
	}

	<span class="hljs-keyword">if</span> count &gt; <span class="hljs-built_in">len</span>(children) {
		<span class="hljs-keyword">return</span> children, io.EOF
	}

	<span class="hljs-keyword">return</span> children[:count], <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Readdirnamesè¯»å–ç›®å½•æ¡ç›®åç§°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Readdirnames(n <span class="hljs-type">int</span>) ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
	wf.file.mu.RLock()
	<span class="hljs-keyword">defer</span> wf.file.mu.RUnlock()

	<span class="hljs-keyword">if</span> !wf.file.IsDirectory {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, os.ErrInvalid
	}

	<span class="hljs-comment">// å°†mapé”®è½¬æ¢ä¸ºåˆ‡ç‰‡</span>
	names := <span class="hljs-built_in">make</span>([]<span class="hljs-type">string</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(wf.file.Children))
	<span class="hljs-keyword">for</span> name := <span class="hljs-keyword">range</span> wf.file.Children {
		names = <span class="hljs-built_in">append</span>(names, name)
	}

	<span class="hljs-comment">// å¤„ç†nå‚æ•°</span>
	<span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">0</span> {
		<span class="hljs-keyword">return</span> names, <span class="hljs-literal">nil</span>
	}

	<span class="hljs-keyword">if</span> n &gt; <span class="hljs-built_in">len</span>(names) {
		<span class="hljs-keyword">return</span> names, io.EOF
	}

	<span class="hljs-keyword">return</span> names[:n], <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// Statè¿”å›æ–‡ä»¶ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(wf *WebDAVFile)</span></span> Stat() (os.FileInfo, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">return</span> wf.file, <span class="hljs-literal">nil</span>
}
</code></pre>
<h2 data-id="heading-15">ğŸ§¼ æ³¨æ„äº‹é¡¹</h2>
<ul>
<li>æ­¤é¡¹ç›®ä»…é™æœ¬åœ°æµ‹è¯•ï¼Œæ— ä»»ä½•èº«ä»½éªŒè¯ï¼Œè¯·å‹¿æš´éœ²åˆ°å…¬ç½‘ï¼</li>
<li>Windows æ˜ å°„åŠŸèƒ½ä»…åœ¨ Windows ä¸Šæœ‰æ•ˆï¼ˆåºŸè¯æ–‡å­¦+1ï¼‰</li>
<li>æ•°æ®éšè¿›ç¨‹æ¶ˆäº¡â€”â€”æ‰€ä»¥åˆ«æŠŠæƒ…ä¹¦å­˜è¿›å»ï¼Œé™¤éä½ æƒ³åˆ¶é€ "æ•°å­—å¤±å¿†"æµªæ¼«</li>
</ul>
<h2 data-id="heading-16">ğŸŒˆ å½©è›‹</h2>
<p>README.txt æœ«å°¾çš„ JjMgx æ˜¯ä½œè€…ç­¾åï¼Œä¸æ˜¯ä¹±ç ï¼Œä¹Ÿä¸æ˜¯ç—…æ¯’å“ˆ :)</p>
<h2 data-id="heading-17">å¾€æœŸéƒ¨åˆ†æ–‡ç« åˆ—è¡¨</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154681418%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154681418?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">è¿œç¨‹æ¡Œé¢ç®¡ç†ç¥å™¨ï¼šgoç¨‹åºå‘˜çš„ã€ŒæœåŠ¡å™¨åå®«ã€ç®¡ç†å™¨</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154635317%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154635317?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">FileSyncï¼šGoå¼€å‘ä¸€ä¸ªâ€œä½›ç³»â€œæ–‡ä»¶åŒæ­¥å°å·¥å…·ï¼ˆé™„æºç ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154580998%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154580998?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ç”¨ Go å†™ä¸ª"ç«¯å£æ‰«æå™¨"ï¼Œ100 è¡Œä»£ç æ‰«æä½ å®¶è·¯ç”±å™¨ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154545036%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154545036?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ä»"åŒå‡»æ‰“ä¸å¼€"åˆ°"ç®¡ç†å‘˜éƒ½æœäº†"ï¼šç”¨ Go æ‰“é€ ä½ çš„ä¸“å± .mgx ç¼–è¾‘å™¨</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154495366%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154495366?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">éœ‡æƒŠï¼Goè¯­è¨€å±…ç„¶å¯ä»¥è¿™æ ·ç©Windowsçª—å£ï¼Œå‘Šåˆ«è‡ƒè‚¿GUIåº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154446571%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154446571?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">å‰ªè´´æ¿ç›‘æ§è®°ï¼šç”¨ Go å†™ä¸€ä¸ª Windows å‰ªè´´æ¿ç›‘æ§å™¨</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154435455%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154435455?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ä¸€æ–‡è®²é€ Go çš„ deferï¼šä½ çš„"å–„åç®¡å®¶"ï¼Œåˆ«è®©ä»–å˜æˆ"èƒŒé”…ä¾ "ï¼</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154388179%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154388179?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ä½ çŸ¥é“ç¨‹åºæ€æ ·ä¼˜é›…é€€å‡ºå—ï¼Ÿâ€”â€” Go å¼€å‘ä¸­çš„"ä½“é¢å‘Šåˆ«"å…¨æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154353774%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154353774?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ç”¨golangè§£æ•‘PDFæ–‡ä»¶ä¸­çš„å›¾ç‰‡åªè¦200è¡Œä»£ç ï¼</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154342421%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154342421?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">200KB çš„çƒ¦æ¼ï¼ŒGo è¯­è¨€ 20 åˆ†é’Ÿæå®šï¼â€”â€” ä¸€ä¸ªç¨‹åºå‘˜çš„å›¾ç‰‡å‹ç¼©è‡ªæ•‘æŒ‡å—</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154280615%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154280615?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ä»"CPU çƒ§å¼€æ°´"åˆ°ä¼˜é›…æš‚åœï¼šGo é‡Œ sync.Cond çš„æ­£ç¡®æ‰“å¼€æ–¹å¼</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154239651%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154239651?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">æ—¶ç§»ä¸–æ˜“ï¼Œç¯¡æ”¹å¤©æœºï¼šå¾ä»¥ Go è¯­ä»¤ Windows æ–‡ä»¶"è¿”è€è¿˜ç«¥"è®°</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154215423%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154215423?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">golangåœ†é˜µåˆ—å›¾è®°ï¼šå¤©çµçµåœ°çµçµå›¾æ ‡æ’åœ†å½¢</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154171637%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154171637?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">golangè§£å›¾è®°</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154112977%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154112977?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ä» 4.8 ç§’åˆ° 0.25 ç§’ï¼šæˆ‘æ˜¯å¦‚ä½•æŠŠ Go æ­£åˆ™åŒ¹é…æé€Ÿ 19 å€çš„ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154079297%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154079297?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ç”¨ Go æ‰‹æ“ä¸€ä¸ªå†…ç½‘ DNS æœåŠ¡å™¨ï¼šä»æ­¤å‘Šåˆ« IP åœ°å€ï¼Œç”¨åŸŸåç•…æ¸¸å®¶åº­ç½‘ç»œï¼</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154063291%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154063291?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">æˆ‘ç”¨Goå†™äº†ä¸ªåå®¹é“æ¸¸æˆï¼Œæ›¹æ“ç»ˆäºä¸ç”¨å†æ±‚å…³ç¾½äº†ï¼</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F154006419%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/154006419?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ç”¨ Go æ¥å£æŠŠ Excel å˜æˆæ•°æ®åº“ï¼šä¸€ä¸ªç–¯ç‹‚ä½†å¯è¡Œçš„æƒ³æ³•</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153980901%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153980901?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">ç©¿å¢™æœ¯å¤§æ­ç§˜ï¼šç”¨ Go æ‰‹æ“ä¸€ä¸ª"å†…ç½‘ç©¿é€"ç¥å™¨ï¼</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153966485%3Fspm%3D1011.2124.3001.6209" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153966485?spm=1011.2124.3001.6209" ref="nofollow noopener noreferrer">å¸ƒéš†è¿‡æ»¤å™¨(go)ï¼šä¸€ä¸ªå¯èƒ½çŠ¯é”™ä½†ä»ä¸æ’’è°çš„å†…å­˜å¤§å¸ˆ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153923507%3Fspm%3D1011.2124.3001.6209" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153923507?spm=1011.2124.3001.6209" ref="nofollow noopener noreferrer">è‡ªç”±é€šè®¯çš„é­”æ³•ï¼šGoä»é›¶å®ç°UDP/P2P èŠå¤©å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153882865%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153882865?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">Goè¯­è¨€å®ç°çš„ç®€æ˜“è¿œç¨‹ä¼ å±å·¥å…·ï¼šè®©ä½ çš„å±å¹•ã€Œé£ã€èµ·æ¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153835711%3Fspm%3D1011.2415.3001.5331" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153835711?spm=1011.2415.3001.5331" ref="nofollow noopener noreferrer">å½“ä½ çš„ç¨‹åºå­¦ä¼šäº†"è¯ˆå°¸"ï¼šGo å®ç° Windows è¿›ç¨‹å®ˆæŠ¤æœ¯</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153815674%3Fspm%3D1011.2124.3001.6209" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153815674?spm=1011.2124.3001.6209" ref="nofollow noopener noreferrer">éªŒè¯ç è¯†åˆ«APIï¼šå‘Šåˆ«æ”¶è´¹æ¥å£ï¼Œè¿æ¥å…è´¹åˆé¤</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153771823%3Fspm%3D1011.2124.3001.6209" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153771823?spm=1011.2124.3001.6209" ref="nofollow noopener noreferrer">ç”¨ Go ç»™ Windows è£…ä¸ª"é¡ºé£è€³"ï¼šä¸¤åˆ†é’Ÿå†™ä¸ªå½•éŸ³å°å·¥å…·</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fjjgtmgx%2Farticle%2Fdetails%2F153727120%3Fspm%3D1011.2124.3001.6209" target="_blank" title="https://blog.csdn.net/jjgtmgx/article/details/153727120?spm=1011.2124.3001.6209" ref="nofollow noopener noreferrer">æ— å¥ˆï¼æˆ‘ç”¨goå†™äº†ä¸ªMySQLæœåŠ¡</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-155 Apache Druid å­˜å‚¨ä¸æŸ¥è¯¢æ¶æ„å®æˆ˜ï¼šSegment/Chunk/Roll-up/Bitmap ä¸€æ–‡è®²æ¸…]]></title>    <link>https://juejin.cn/post/7572972346073366555</link>    <guid>https://juejin.cn/post/7572972346073366555</guid>    <pubDate>2025-11-17T02:16:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572972346073366555" data-draft-id="7572997791451463718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-155 Apache Druid å­˜å‚¨ä¸æŸ¥è¯¢æ¶æ„å®æˆ˜ï¼šSegment/Chunk/Roll-up/Bitmap ä¸€æ–‡è®²æ¸…"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,NoSQL"/> <meta itemprop="datePublished" content="2025-11-17T02:16:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-155 Apache Druid å­˜å‚¨ä¸æŸ¥è¯¢æ¶æ„å®æˆ˜ï¼šSegment/Chunk/Roll-up/Bitmap ä¸€æ–‡è®²æ¸…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T02:16:51.000Z" title="Mon Nov 17 2025 02:16:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šå®æ—¶/æ—¶åº OLAPï¼Œäº¿çº§æ˜ç»†ï¼Œä½å»¶è¿Ÿçœ‹æ¿ä¸å¤šç»´åˆ†æã€‚</li>
<li>ç»“è®ºï¼šæŒ‰æ—¶é—´ Chunkâ†’Segment åˆ—å­˜ + Roll-up + Bitmap ç´¢å¼• + mmap + å¤šçº§ç¼“å­˜ï¼›ç´¢å¼•æœåŠ¡ Overlord/MiddleManager/Peon è´Ÿè´£æ‘„å…¥ä¸ä»»åŠ¡ã€‚</li>
<li>äº§å‡ºï¼šå­˜å‚¨/æŸ¥è¯¢æœºåˆ¶è¦ç‚¹ã€æ£€æŸ¥æ¸…å•ã€å¸¸è§å‘ä½ä¿®å¤æ€è·¯ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0f7c3a93a154f02a5f47f4eefb1a0fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=f4KwssUcXHMQ7h4gh3gWEzER%2BpM%3D" alt="å¤§æ•°æ®-155 Apache Druid å­˜å‚¨ä¸æŸ¥è¯¢æ¶æ„å®æˆ˜ï¼šSegment/Chunk/Roll-up/Bitmap ä¸€æ–‡è®²æ¸…" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fb7d3e9937b41ce8d46b962ac5f4d35~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=wCaaLfDqgh40N%2BHdMZ0VKoDLfVU%3D" alt="Apache Druid" loading="lazy"/></p>
<h2 data-id="heading-1">æ•°æ®å­˜å‚¨</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d1a6b2cd478406aab2c38faa5747cd5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=TT7TEFnTVg2AFUTQ8yrQLAHSp2w%3D" alt="Druid æ•°æ®å­˜å‚¨" loading="lazy"/></p>
<h3 data-id="heading-2">Druidçš„æ•°æ®å­˜å‚¨æ¶æ„</h3>
<p>Druidä¸­çš„æ•°æ®å­˜å‚¨é‡‡ç”¨åˆ†å±‚é€»è¾‘ç»“æ„ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªå±‚æ¬¡ï¼š</p>
<h4 data-id="heading-3">1. DataSourceï¼ˆæ•°æ®æºï¼‰</h4>
<ul>
<li>æ¦‚å¿µç±»æ¯”ï¼šDataSourceç±»ä¼¼äºå…³ç³»å‹æ•°æ®åº“(RDBMS)ä¸­çš„Tableæˆ–æ•°æ®è¡¨</li>
<li>åŠŸèƒ½å®šä½ï¼šä½œä¸ºæ•°æ®çš„é¡¶å±‚å®¹å™¨ï¼Œä¸€ä¸ªDataSourceåŒ…å«ç‰¹å®šä¸šåŠ¡é¢†åŸŸçš„æ‰€æœ‰ç›¸å…³æ•°æ®</li>
<li>ç¤ºä¾‹ï¼šç”µå•†ç½‘ç«™å¯èƒ½åˆ›å»º"user_behavior"ã€"product_inventory"ç­‰DataSourceæ¥å­˜å‚¨ä¸åŒä¸šåŠ¡æ•°æ®</li>
</ul>
<h4 data-id="heading-4">2. Chunkï¼ˆæ—¶é—´å—ï¼‰</h4>
<ul>
<li>æ—¶é—´åˆ†åŒºï¼šæ¯ä¸ªDataSourceçš„æ•°æ®æŒ‰ç…§æ—¶é—´èŒƒå›´åˆ’åˆ†ï¼Œå½¢æˆChunk</li>
<li>åˆ†åŒºç²’åº¦ï¼šå¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚é…ç½®ä¸åŒçš„æ—¶é—´ç²’åº¦ï¼š
<ul>
<li>å¸¸è§é…ç½®ï¼šå¤©(1d)ã€å°æ—¶(1h)ã€å‘¨(1w)ç­‰</li>
<li>ç¤ºä¾‹ï¼šæŒ‰å¤©åˆ†åŒºæ—¶ï¼Œ2023-01-01å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„Chunk</li>
</ul>
</li>
<li>æŸ¥è¯¢ä¼˜åŠ¿ï¼šè¿™ç§æŒ‰æ—¶é—´åˆ’åˆ†çš„ç»“æ„ä½¿æ—¶é—´èŒƒå›´æŸ¥è¯¢éå¸¸é«˜æ•ˆ</li>
</ul>
<h4 data-id="heading-5">3. Segmentï¼ˆæ•°æ®æ®µï¼‰</h4>
<ul>
<li>ç‰©ç†å­˜å‚¨ï¼šSegmentæ˜¯æ•°æ®çš„å®é™…ç‰©ç†å­˜å‚¨å•å…ƒï¼Œæ¯ä¸ªSegmentéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶</li>
<li>æ•°æ®è§„æ¨¡ï¼šä¸€ä¸ªSegmenté€šå¸¸åŒ…å«å‡ ç™¾ä¸‡è¡Œæ•°æ®(çº¦500ä¸‡è¡Œ)</li>
<li>æ–‡ä»¶ç‰¹æ€§ï¼šSegmentæ–‡ä»¶é‡‡ç”¨åˆ—å¼å­˜å‚¨æ ¼å¼ï¼Œå…·æœ‰å‹ç¼©å’Œç´¢å¼•ç‰¹æ€§</li>
<li>å¹¶è¡Œå¤„ç†ï¼šDruidå¯ä»¥å¹¶è¡ŒåŠ è½½å’Œå¤„ç†å¤šä¸ªSegment</li>
</ul>
<h3 data-id="heading-6">æ•°æ®åˆ†å¸ƒæœºåˆ¶</h3>
<ul>
<li>æ—¶é—´é¡ºåºï¼šSegmentä¸¥æ ¼æŒ‰ç…§æ—¶é—´å…ˆåé¡ºåºç»„ç»‡åœ¨Chunkä¸­</li>
<li>åˆ†å¸ƒå¼å­˜å‚¨ï¼šSegmentä¼šè¢«åˆ†å¸ƒå¼å­˜å‚¨åœ¨Druidé›†ç¾¤çš„å¤šä¸ªèŠ‚ç‚¹ä¸Š</li>
<li>å‰¯æœ¬æœºåˆ¶ï¼šä¸ºç¡®ä¿é«˜å¯ç”¨ï¼Œæ¯ä¸ªSegmentä¼šæœ‰å¤šä¸ªå‰¯æœ¬(é€šå¸¸2-3ä¸ª)å­˜å‚¨åœ¨ä¸åŒèŠ‚ç‚¹</li>
</ul>
<h3 data-id="heading-7">æŸ¥è¯¢ä¼˜åŒ–</h3>
<ul>
<li>æ—¶é—´è¿‡æ»¤ï¼šæŸ¥è¯¢æ—¶ç³»ç»Ÿé¦–å…ˆç¡®å®šæ¶‰åŠçš„æ—¶é—´èŒƒå›´(Chunk)</li>
<li>Segmentç­›é€‰ï¼šç„¶ååªåŠ è½½ç›¸å…³Chunkä¸­çš„Segmentæ–‡ä»¶</li>
<li>æ€§èƒ½ä¼˜åŠ¿ï¼šè¿™ç§æœºåˆ¶å¤§å¹…å‡å°‘äº†éœ€è¦æ‰«æçš„æ•°æ®é‡ï¼Œç‰¹åˆ«é€‚åˆæ—¶é—´åºåˆ—æ•°æ®åˆ†æåœºæ™¯</li>
</ul>
<h3 data-id="heading-8">å®é™…åº”ç”¨ç¤ºä¾‹</h3>
<ol>
<li><strong>ç›‘æ§ç³»ç»Ÿ</strong>ï¼šæ¯åˆ†é’Ÿç”Ÿæˆä¸€ä¸ªSegmentï¼Œæ¯å°æ—¶å½¢æˆä¸€ä¸ªChunk</li>
<li><strong>IoTæ•°æ®å¤„ç†</strong>ï¼šæŒ‰è®¾å¤‡ID+æ—¶é—´åŒé‡ç»´åº¦ç»„ç»‡Segment</li>
<li><strong>å¹¿å‘Šåˆ†æ</strong>ï¼šæ¯å¤©åˆ›å»ºä¸€ä¸ªChunkï¼ŒæŒ‰å¹¿å‘Šä¸»IDè¿›ä¸€æ­¥ç»†åˆ†Segment</li>
</ol>
<p>é€šè¿‡è¿™ç§åˆ†å±‚å­˜å‚¨ç»“æ„ï¼ŒDruidèƒ½å¤Ÿé«˜æ•ˆå¤„ç†å¤§è§„æ¨¡æ—¶é—´åºåˆ—æ•°æ®ï¼ŒåŒæ—¶ä¿æŒè‰¯å¥½çš„æŸ¥è¯¢æ€§èƒ½ã€‚</p>
<h2 data-id="heading-9">æ•°æ®åˆ†åŒº</h2>
<ul>
<li>Druidå¤„ç†çš„æ˜¯äº‹ä»¶æ•°æ®ï¼Œæ¯æ¡æ•°æ®éƒ½ä¼šå¸¦æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå¯ä»¥ä½¿ç”¨æ—¶é—´è¿›è¡Œåˆ†åŒº</li>
<li>ä¸Šå›¾æŒ‡å®šäº†åˆ†åŒºç²’åº¦ä¸ºå¤©ï¼Œé‚£ä¹ˆæ¯å¤©çš„æ•°æ®éƒ½ä¼šè¢«å•ç‹¬å­˜å‚¨å’ŒæŸ¥è¯¢</li>
</ul>
<h2 data-id="heading-10">Segmentå†…éƒ¨å­˜å‚¨</h2>
<ul>
<li>Druidé‡‡ç”¨åˆ—å¼å­˜å‚¨ï¼Œæ¯åˆ—æ•°æ®éƒ½æ˜¯åœ¨ç‹¬ç«‹çš„ç»“æ„ä¸­å­˜å‚¨</li>
<li>Segmentä¸­çš„æ•°æ®ç±»å‹ä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼š</li>
<li>ç±»å‹1 æ—¶é—´æˆ³ï¼šæ¯ä¸€è¡Œæ•°æ®ï¼Œéƒ½å¿…é¡»æœ‰ä¸€ä¸ªTimeStampï¼ŒDruidä¸€å®šä¼šåŸºäºäº‹ä»¶æˆ³æ¥åˆ†ç‰‡</li>
<li>ç±»å‹2 ç»´åº¦åˆ—ï¼šç”¨æ¥è¿‡æ»¤Fliteræˆ–è€…ç»„åˆGroupBYçš„åˆ—ï¼Œé€šè¿‡æ˜¯Stringã€Floatã€Doubleã€Intç±»å‹</li>
<li>ç±»å‹3 æŒ‡æ ‡åˆ—ï¼šç”¨æ¥è¿›è¡Œèšåˆè®¡ç®—çš„åˆ—ï¼ŒæŒ‡å®šçš„èšåˆå‡½æ•° sumã€averageç­‰</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81b5f0f1fe174c1ca26c68b23deea382~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=K2LSrag%2BXTd%2BeiOutbgx00IJ4Ew%3D" alt="Druid Segment å­˜å‚¨ç»“æ„" loading="lazy"/>
MiddleMangerèŠ‚ç‚¹æ¥å—åˆ°Ingestionçš„ä»»åŠ¡ä¹‹åï¼Œå¼€å§‹åˆ›å»ºSegmentï¼š</p>
<ul>
<li>è½¬æ¢æˆåˆ—å¼å­˜å‚¨æ ¼å¼</li>
<li>ç”¨bitmapæ¥å»ºç«‹ç´¢å¼•ï¼ˆå¯¹æ‰€æœ‰çš„dimensionåˆ—å»ºç«‹ç´¢å¼•ï¼‰</li>
<li>ä½¿ç”¨å„ç§å‹ç¼©ç®—æ³•</li>
<li>ç®—æ³•1ï¼šæ‰€æœ‰çš„ä½¿ç”¨ LZ4 å‹ç¼©</li>
<li>ç®—æ³•2ï¼šæ‰€æœ‰çš„å­—ç¬¦ä¸²é‡‡ç”¨å­—å…¸ç¼–ç ã€æ ‡è¯†ä»¥è¾¾åˆ°æœ€å°åŒ–å­˜å‚¨</li>
<li>ç®—æ³•3ï¼šå¯¹ä½å›¾ç´¢å¼•ä½¿ç”¨ä½å›¾å‹ç¼©</li>
</ul>
<p>Segmentåˆ›å»ºå®Œæˆä¹‹åï¼ŒSegmentæ–‡ä»¶å°±æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œè¢«å†™å…¥åˆ°æ·±åº¦å­˜å‚¨ï¼ˆç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢MiddleManagerèŠ‚ç‚¹å®•æœºåï¼ŒSegmentä¸¢å¤±ï¼‰ã€‚ç„¶åSegmentåŠ è½½åˆ°Historicaljiedianï¼ŒHistoricalèŠ‚ç‚¹å¯ä»¥ç›´æ¥åŠ è½½åˆ°å†…å­˜ä¸­ã€‚
åŒæ—¶ï¼ŒMetadata store ä¹Ÿä¼šè®°å½•ä¸‹è¿™ä¸ªæ–°åˆ›å»ºçš„Segmentçš„ä¿¡æ¯ï¼Œå¦‚ç»“æ„ã€å°ºå¯¸ã€æ·±åº¦å­˜å‚¨çš„ä½ç½®ç­‰ç­‰
CoordinatorèŠ‚ç‚¹éœ€è¦è¿™äº›å…ƒæ•°æ®æ¥åè°ƒæ•°æ®çš„æŸ¥æ‰¾ã€‚</p>
<h2 data-id="heading-11">ç´¢å¼•æœåŠ¡</h2>
<p>ç´¢å¼•æœåŠ¡æ˜¯æ•°æ®å¯¼å…¥å¹¶åˆ›å»ºSegmentæ•°æ®æ–‡ä»¶çš„æœåŠ¡
ç´¢å¼•æœåŠ¡æ˜¯ä¸€ä¸ªé«˜å¯ç”¨çš„åˆ†å¸ƒå¼æœåŠ¡ï¼Œé‡‡ç”¨ä¸»ä»ç»“æ„ä½œä¸ºæ¶æ„æ¨¡å¼ï¼Œç´¢å¼•æœåŠ¡ç”±ä¸‰å¤§ç»„ä»¶æ„æˆï¼š</p>
<ul>
<li>overlord ä½œä¸ºä¸»èŠ‚ç‚¹</li>
<li>MiddleManageä½œä¸ºä»èŠ‚ç‚¹</li>
<li>peonç”¨äºè¿è¡Œä¸€ä¸ªTask</li>
</ul>
<p>ç´¢å¼•æœåŠ¡æ¶æ„å›¾å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a03880c684d4be4a634bab4b7013e18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=LLq1msqTh2jR9V7CUAbHuiNZNMw%3D" alt="Druid Index" loading="lazy"/></p>
<h3 data-id="heading-12">æœåŠ¡æ„æˆ</h3>
<h4 data-id="heading-13">Overlordç»„ä»¶</h4>
<p>è´Ÿè´£åˆ›å»ºTaskã€åˆ†å‘Taskåˆ°MiddleMangerä¸Šè¿è¡Œï¼Œä¸ºTaskåˆ›å»ºé”ä»¥åŠè·Ÿè¸ªTaskè¿è¡ŒçŠ¶æ€å¹¶åé¦ˆç»™ç”¨æˆ·</p>
<h4 data-id="heading-14">MiddleManagerç»„ä»¶</h4>
<p>ä½œä¸ºä»èŠ‚ç‚¹ï¼Œè´Ÿè´£æ¥æ”¶ä¸»èŠ‚ç‚¹åˆ†é…çš„ä»»åŠ¡ï¼Œç„¶åä¸ºæ¯ä¸ªTaskå¯åŠ¨ä¸€ä¸ªç‹¬ç«‹çš„JVMè¿›ç¨‹æ¥å®Œæˆå…·ä½“çš„ä»»åŠ¡</p>
<h4 data-id="heading-15">Peonï¼ˆåŠ³å·¥ï¼‰ç»„ä»¶</h4>
<p>ç”± MiddleManager å¯åŠ¨çš„ä¸€ä¸ªè¿›ç¨‹ç”¨äºä¸€ä¸ªTaskä»»åŠ¡çš„è¿è¡Œ</p>
<h4 data-id="heading-16">å¯¹æ¯”YARN</h4>
<ul>
<li>Overlord ç±»ä¼¼ ResourceManager è´Ÿè´£é›†ç¾¤èµ„æºç®¡ç†å’Œä»»åŠ¡åˆ†é…</li>
<li>MiddleManager ç±»ä¼¼ NodeManager è´Ÿè´£æ¥æ”¶ä»»åŠ¡å’Œç®¡ç†æœ¬èŠ‚ç‚¹çš„èµ„æº</li>
<li>Peon ç±»ä¼¼ Container æ‰§è¡ŒèŠ‚ç‚¹ä¸Šå…·ä½“çš„ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-17">Taskç±»å‹</h3>
<ul>
<li>index hadoop taskï¼šHadoopç´¢å¼•ä»»åŠ¡ï¼Œåˆ©ç”¨Hadoopé›†ç¾¤æ‰§è¡ŒMapReduceä»»åŠ¡ä»¥å®ŒæˆSegmentæ•°æ®æ–‡ä»¶çš„åˆ›å»ºï¼Œé€‚åˆä½“é‡è¾ƒå¤§çš„Segmentsæ•°æ®æ–‡ä»¶çš„åˆ›å»ºä»»åŠ¡</li>
<li>index kafka taskï¼šç”¨äºKafkaæ•°æ®çš„å®æ—¶æ‘„å…¥ï¼Œé€šè¿‡Kafkaç´¢å¼•ä»»åŠ¡å¯ä»¥åœ¨Overlordä¸Šé…ç½®ä¸€ä¸ªKafkaSupervisorï¼Œé€šè¿‡ç®¡ç†Kafkaç´¢å¼•ä»»åŠ¡çš„åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸæ¥å®ŒæˆKafkaæ•°æ®çš„æ‘„å–</li>
<li>merge taskï¼šåˆå¹¶ç´¢å¼•ä»»åŠ¡ï¼Œå°†å¤šä¸ªSegmentæ•°æ®æ–‡ä»¶æŒ‰ç…§æŒ‡å®šçš„èšåˆæ–¹æ³•åˆå¹¶ä¸ºä¸€ä¸ªsegmentsæ•°æ®æ–‡ä»¶</li>
<li>kill taskï¼šé”€æ¯ç´¢å¼•ä»»åŠ¡ï¼Œå°†æ‰§è¡Œæ—¶é—´èŒƒå›´å†…çš„æ•°æ®ä»Druidé›†ç¾¤çš„æ·±åº¦å­˜å‚¨ä¸­åˆ é™¤</li>
</ul>
<h2 data-id="heading-18">Druidé«˜æ€§èƒ½æŸ¥è¯¢æœºåˆ¶è¯¦è§£</h2>
<p>Druidä¹‹æ‰€ä»¥èƒ½å¤Ÿå®ç°ä½å»¶è¿Ÿã€é«˜æ€§èƒ½çš„æŸ¥è¯¢ï¼Œä¸»è¦ä¾èµ–äºä»¥ä¸‹äº”ä¸ªå…³é”®æŠ€æœ¯ç‚¹ï¼š</p>
<h3 data-id="heading-19">1. æ•°æ®é¢„èšåˆ</h3>
<p>Druidåœ¨æ•°æ®æ‘„å…¥é˜¶æ®µå°±è¿›è¡Œé¢„èšåˆå¤„ç†ï¼Œè¿™æ˜¾è‘—å‡å°‘äº†æŸ¥è¯¢æ—¶éœ€è¦å¤„ç†çš„æ•°æ®é‡ã€‚ç³»ç»Ÿæ”¯æŒå¤šç§èšåˆæ–¹å¼ï¼š</p>
<ul>
<li>è®¡æ•°(count)</li>
<li>æ±‚å’Œ(sum)</li>
<li>æœ€å¤§å€¼(max)</li>
<li>æœ€å°å€¼(min)</li>
<li>è¿‘ä¼¼åŸºæ•°(hyperloglog)ç­‰
ä¾‹å¦‚ï¼Œé’ˆå¯¹ç½‘ç«™è®¿é—®æ—¥å¿—æ•°æ®ï¼ŒDruidå¯ä»¥åœ¨æ•°æ®æ‘„å…¥æ—¶å°±é¢„å…ˆè®¡ç®—å¥½æ¯åˆ†é’Ÿçš„PVã€UVç­‰æŒ‡æ ‡ï¼Œé¿å…æŸ¥è¯¢æ—¶è¿›è¡Œå…¨é‡è®¡ç®—ã€‚</li>
</ul>
<h3 data-id="heading-20">2. åˆ—å¼å­˜å‚¨ä¸æ•°æ®å‹ç¼©</h3>
<p>Druidé‡‡ç”¨åˆ—å¼å­˜å‚¨æ¶æ„ï¼Œé…åˆå¤šç§å‹ç¼©ç®—æ³•ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²ç±»å‹ï¼šå­—å…¸ç¼–ç (dictionary encoding)å‹ç¼©</li>
<li>æ•°å€¼ç±»å‹ï¼š
<ul>
<li>ä½å‹ç¼©(bit compression)</li>
<li>LZ4å‹ç¼©</li>
<li>ZSTDå‹ç¼©
è¿™ç§å­˜å‚¨æ–¹å¼ä¸ä»…å‡å°‘äº†I/Oæ“ä½œï¼Œè¿˜èƒ½æ˜¾è‘—æé«˜å‹ç¼©ç‡ï¼Œä¾‹å¦‚æ—¶é—´æˆ³åˆ—é€šå¸¸å¯ä»¥è·å¾—10å€ä»¥ä¸Šçš„å‹ç¼©æ¯”ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-21">3. Bitmapç´¢å¼•</h3>
<p>Druidä¸ºæ¯ä¸ªç»´åº¦åˆ—éƒ½å»ºç«‹äº†Bitmapç´¢å¼•ï¼š</p>
<ul>
<li>å¯¹æ¯ä¸ªç»´åº¦å€¼ç”Ÿæˆå¯¹åº”çš„bitmap</li>
<li>æ”¯æŒå¿«é€Ÿçš„AND/OR/NOTç­‰ä½è¿ç®—</li>
<li>ç‰¹åˆ«é€‚åˆé«˜åŸºæ•°ç»´åº¦çš„è¿‡æ»¤æŸ¥è¯¢
ä¾‹å¦‚ï¼Œå¯¹"æµè§ˆå™¨ç±»å‹"ç»´åº¦è¿›è¡Œ"Chrome OR Firefox"çš„æŸ¥è¯¢ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡bitmapçš„ORè¿ç®—å¿«é€Ÿå®šä½åˆ°ç›¸å…³æ•°æ®è¡Œã€‚</li>
</ul>
<h3 data-id="heading-22">4. å†…å­˜æ–‡ä»¶æ˜ å°„(mmap)</h3>
<p>Druidä½¿ç”¨mmapæŠ€æœ¯æ¥è®¿é—®ç£ç›˜æ•°æ®ï¼š</p>
<ul>
<li>å°†ç´¢å¼•æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶æ˜ å°„åˆ°å†…å­˜åœ°å€ç©ºé—´</li>
<li>æ“ä½œç³»ç»Ÿè‡ªåŠ¨ç®¡ç†å†…å­˜é¡µçš„åŠ è½½å’Œå›æ”¶</li>
<li>é¿å…ä¼ ç»ŸI/Oçš„ç³»ç»Ÿè°ƒç”¨å¼€é”€</li>
<li>æ”¯æŒçƒ­æ•°æ®çš„è‡ªåŠ¨ç¼“å­˜
è¿™ç§æœºåˆ¶ä½¿å¾—æŸ¥è¯¢å¯ä»¥åƒè®¿é—®å†…å­˜ä¸€æ ·å¿«é€Ÿï¼ŒåŒæ—¶ç”±æ“ä½œç³»ç»Ÿæ™ºèƒ½ç®¡ç†ç¼“å­˜ã€‚</li>
</ul>
<h3 data-id="heading-23">5. æŸ¥è¯¢ç»“æœç¼“å­˜</h3>
<p>Druidå®ç°äº†å¤šçº§ç¼“å­˜æœºåˆ¶ï¼š</p>
<ul>
<li>ä¸­é—´ç»“æœç¼“å­˜ï¼šå­˜å‚¨éƒ¨åˆ†æŸ¥è¯¢ç»“æœ</li>
<li>æŸ¥è¯¢ç»“æœç¼“å­˜ï¼šå®Œæ•´æŸ¥è¯¢ç»“æœçš„ç¼“å­˜</li>
<li>æ”¯æŒåŸºäºæ—¶é—´çš„ç¼“å­˜å¤±æ•ˆç­–ç•¥</li>
<li>å¯¹äºç›¸åŒæŸ¥è¯¢æ¨¡å¼çš„é‡å¤è¯·æ±‚å¯ç«‹å³è¿”å›
ä¾‹å¦‚ï¼Œä»ªè¡¨ç›˜å¸¸è§çš„"æœ€è¿‘1å°æ—¶æ•°æ®"æŸ¥è¯¢ï¼Œåœ¨ç¼“å­˜æœ‰æ•ˆæœŸå†…å¯ç›´æ¥è¿”å›ç»“æœï¼Œæ— éœ€é‡æ–°è®¡ç®—ã€‚</li>
</ul>
<h2 data-id="heading-24">æ•°æ®é¢„èšåˆ</h2>
<ul>
<li>Druid é€šè¿‡ä¸€æ¶æRollUpçš„å¤„ç†ï¼Œå°†åŸå§‹æ•°æ®åœ¨æ³¨å…¥çš„æ—¶å€™å°±è¿›è¡Œäº†æ±‡æ€»å¤„ç†</li>
<li>RollUpå¯ä»¥å‹ç¼©æˆ‘ä»¬éœ€è¦ä¿å­˜çš„æ•°æ®é‡</li>
<li>Druidä¼šæŠŠé€‰å®šçš„ç›¸åŒç»´åº¦çš„æ•°æ®è¿›è¡Œèšåˆæ“ä½œï¼Œå¯ä»¥å­˜å‚¨çš„å¤§å°</li>
<li>Druidå¯ä»¥é€šè¿‡queryGranularityæ¥æ§åˆ¶æ³¨å…¥æ•°æ®çš„ç²’åº¦ï¼Œæœ€å°çš„queryGranularityæ˜¯millisecondï¼ˆæ¯«ç§’çº§åˆ«ï¼‰</li>
</ul>
<h3 data-id="heading-25">Roll-Up</h3>
<p>èšåˆå‰ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eff77dc1877442e08110907a077af28c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=sKM%2FUxDYlrVrv%2BFsklXHOntj0cw%3D" alt="Druid Roll Up" loading="lazy"/>
èšåˆåï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ab4ebe35ce14f91bc9b3f411e1373a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=HuX5jSQHsszzn5HEnUJm3NEc9z0%3D" alt="Druid Roll Up ç»“æœ" loading="lazy"/></p>
<h3 data-id="heading-26">ä½å›¾ç´¢å¼•</h3>
<p>Druidåœ¨æ‘„å…¥çš„æ•°æ®ç¤ºä¾‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2cacdd4fe5d4c8dbb8c7723c485e47b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=Q2BuPF%2Bv1slnzvNoyCMqYtphL1k%3D" alt="Druid ä½å›¾ç´¢å¼•" loading="lazy"/></p>
<ul>
<li>ç¬¬ä¸€åˆ—ä¸ºæ—¶é—´ï¼ŒAppkeyå’ŒAreaéƒ½æ˜¯ç»´åº¦åˆ—ï¼ŒValueä¸ºæŒ‡æ ‡åˆ—</li>
<li>Druidä¼šåœ¨å¯¼å…¥é˜¶æ®µè‡ªåŠ¨å¯¹æ•°æ®è¿›è¡ŒRollUpï¼Œå°†ç»´åº¦ç›¸åŒç»„åˆçš„æ•°æ®è¿›è¡Œèšåˆå¤„ç†</li>
<li>æ•°æ®èšåˆçš„ç²’åº¦æ ¹æ®ä¸šåŠ¡éœ€è¦ç¡®å®š</li>
</ul>
<p>æŒ‰å¤©èšåˆåçš„æ•°æ®å¦‚ä¸‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8417951a7b09496a9bcce96e67242f07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=Kwx4bho0NQiikD3Dmfn9RdHtk3g%3D" alt="Druid æŒ‰å¤©èšåˆ" loading="lazy"/>
Druidé€šè¿‡å»ºç«‹ä½å›¾ç´¢å¼•ï¼Œå®ç°å¿«é€Ÿæ•°æ®æŸ¥æ‰¾ã€‚
BitMapç´¢å¼•ä¸»è¦ä¸ºäº†åŠ é€ŸæŸ¥è¯¢æ—¶æœ‰æ¡ä»¶è¿‡æ»¤çš„åœºæ™¯ï¼ŒDruidç”Ÿæˆç´¢å¼•æ–‡ä»¶çš„æ—¶å€™ï¼Œå¯¹æ¯ä¸ªåˆ—çš„æ¯ä¸ªå–å€¼ç”Ÿæˆå¯¹åº”çš„BitMapé›†åˆï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/381987f26a934d879d134b9a12356495~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=inTSdg%2B2u%2B%2F%2FYWR9OLpaFcSDBWw%3D" alt="Druid æŒ‰å¤©èšåˆåç»“æœ" loading="lazy"/></p>
<p>ç´¢å¼•ä½å›¾å¯ä»¥çœ‹ä½œæ˜¯ï¼šHashMap&lt;String, BitMap&gt;</p>
<ul>
<li>Keyå°±æ˜¯ç»´åº¦çš„å€¼</li>
<li>Valueå°±æ˜¯è¯¥è¡¨ä¸­å¯¹åº”çš„è¡Œæ˜¯å¦æœ‰è¯¥ç»´åº¦çš„å€¼</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab3d4edd399543779f8c7be7cc494fbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950610&amp;x-signature=aqt0fAEorc0nBMuV%2BEYnzkPpzkA%3D" alt="Druid ç´¢å¼•ä½å›¾" loading="lazy"/></p>
<h3 data-id="heading-27">SQLæŸ¥è¯¢</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">sum</span>(<span class="hljs-keyword">value</span>) <span class="hljs-keyword">FROM</span> tab1
<span class="hljs-keyword">WHERE</span> <span class="hljs-type">time</span><span class="hljs-operator">=</span><span class="hljs-string">'2020-01-01'</span>
<span class="hljs-keyword">AND</span> appkey <span class="hljs-keyword">in</span> (<span class="hljs-string">'appkey1'</span>, <span class="hljs-string">'appkey2'</span>)
<span class="hljs-keyword">AND</span> area<span class="hljs-operator">=</span><span class="hljs-string">'åŒ—äº¬'</span>
</code></pre>
<p>æ‰§è¡Œè¿‡ç¨‹åˆ†æï¼š</p>
<ul>
<li>æ ¹æ®æ—¶é—´æ®µå®šä½åˆ°Segment</li>
<li>appkey in ('appkey1', 'appkey2') and area='åŒ—äº¬' æŸ¥åˆ°å„è‡ªçš„bitmap</li>
<li>ï¼ˆappkey1 or appkey2ï¼‰and åŒ—äº¬</li>
<li>(110000 or 001100) and 101010 = 111100 and 101010 = 101000</li>
<li>ç¬¦åˆæ¡ä»¶çš„åˆ—ä¸ºï¼šç¬¬ä¸€è¡Œ &amp; ç¬¬ä¸‰è¡Œï¼Œè¿™å‡ è¡Œ sum(value)çš„å’Œä¸º40</li>
</ul>
<h3 data-id="heading-28">GroupByæŸ¥è¯¢</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> area, <span class="hljs-built_in">sum</span>(<span class="hljs-keyword">value</span>)
<span class="hljs-keyword">FROM</span> tab1
<span class="hljs-keyword">WHERE</span> <span class="hljs-type">time</span><span class="hljs-operator">=</span><span class="hljs-string">'2020-01-01'</span>
<span class="hljs-keyword">AND</span> appkey <span class="hljs-keyword">in</span> (<span class="hljs-string">'appkey1'</span>, <span class="hljs-string">'appkey2'</span>)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> area
</code></pre>
<p>è¯¥æŸ¥è¯¢ä¸ä¸Šé¢çš„æŸ¥è¯¢ä¸åŒä¹‹å¤„åœ¨ä¸å°†ç¬¦åˆæ¡ä»¶çš„åˆ—ï¼š</p>
<ul>
<li>appkey1 or appkey2</li>
<li>110000 or 001100 = 111100</li>
<li>å°†ç¬¬ä¸€è¡Œåˆ°ç¬¬å››è¡Œå–å‡ºæ¥</li>
<li>åœ¨å†…å­˜ä¸­åšåˆ†ç»„èšåˆï¼Œç»“æœä¸ºï¼šåŒ—äº¬40ã€æ·±åœ³60</li>
</ul>
<h2 data-id="heading-29">é”™è¯¯é€ŸæŸ¥</h2>







































































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>ä»»åŠ¡æˆåŠŸä½†æŸ¥è¯¢ä¸ºç©º</td><td>interval/æ—¶åŒºä¸åŒ¹é…ï¼ŒsegmentGranularity ä¸ queryGranularity æ··æ·†</td><td>æŸ¥çœ‹ task æ—¥å¿—ä¸­çš„ intervalsï¼›ç”¨ SQL æ£€æŸ¥ __time è¿‡æ»¤</td><td>ç»Ÿä¸€æ—¶åŒºï¼›ä¿®æ­£ intervalï¼›é‡å»º Segment</td></tr><tr><td>Task failed to acquire lock</td><td>å¤šä»»åŠ¡å†™åŒä¸€ timeChunk é”å†²çª</td><td>Overlord UI/æ—¥å¿—çœ‹é”ä¸å¹¶å‘</td><td>æ‹†åˆ† interval/åˆ†åŒºï¼›åºåˆ—åŒ–å†™å…¥æˆ–å‡ç»´åˆ†åŒºé”®</td></tr><tr><td>Rejected segment / overshadowed</td><td>ç‰ˆæœ¬/è§„åˆ™è¦†ç›–å¯¼è‡´æ‹’ç»</td><td>Coordinator è§„åˆ™ä¸ segment ç‰ˆæœ¬å¯¹æ¯”</td><td>è°ƒæ•´ Load/Drop è§„åˆ™æˆ–é‡ç½® versionï¼Œé‡æ–°å‘å¸ƒ</td></tr><tr><td>Historical ä¸åŠ è½½æ–°æ®µ</td><td>æ·±åº¦å­˜å‚¨è·¯å¾„/å‡­æ®é”™è¯¯æˆ–è§„åˆ™æœªå‘½ä¸­</td><td>Historical æ—¥å¿— â€œFailed to download segmentâ€ï¼›Rules é¡µ</td><td>ä¿®æ­£å­˜å‚¨é…ç½®/æƒé™ï¼›è¡¥å……åŠ è½½è§„åˆ™å¹¶å›å¡«</td></tr><tr><td>Direct buffer memory OOM</td><td>MaxDirectMemorySize åå°æˆ–å¹¶å‘è¿‡é«˜</td><td>æŸ¥çœ‹ hs_err / JVM æ—¥å¿—å…³é”®å­—</td><td>å¢å¤§ Direct Memoryï¼›è°ƒå° processing.buffer/threads</td></tr><tr><td>GroupBy å†…å­˜ä¸è¶³/è¶…æ—¶</td><td>v2 spill é…ç½®ä¸è¶³æˆ–æ•°æ®å€¾æ–œ</td><td>Broker/Historical æ—¥å¿—ä¸ query context</td><td>å¼€å¯/å¢å¤§ç£ç›˜æº¢å†™ï¼›æå‡é™é¢æˆ–æ”¹ Timeseries/TopN</td></tr><tr><td>è¿‡æ»¤å‘½ä¸­å·®/æ…¢</td><td>ç»´åº¦æœªå»ºç´¢å¼•/é«˜åŸºæ•°ç­–ç•¥ä¸å½“</td><td>Segment metadata æŸ¥çœ‹åˆ—ä¸ç´¢å¼•</td><td>ä¸ºå¸¸ç”¨ç»´åº¦å»º bitmap / ä½¿ç”¨ sketchï¼›ä¼˜åŒ– schema</td></tr><tr><td>æ— æ³•è§£ææ—¶é—´</td><td>æ—¶é—´æ ¼å¼/å­—æ®µæ˜ å°„é”™è¯¯</td><td>timestampSpec æ ¡éªŒæ ·ä¾‹æ•°æ®</td><td>ä¿®æ­£ format/æ—¶åŒºï¼›è®¾ç½® secondarySpec</td></tr><tr><td>Kafka æ‘„å…¥è½å</td><td>åˆ†åŒºå°‘/å¹¶è¡Œåº¦ä½/å˜æ¢è€—æ—¶</td><td>Supervisor çŠ¶æ€ä¸ lag æŒ‡æ ‡</td><td>æå‡ task å¹¶è¡Œä¸åˆ†åŒºï¼›ä¸‹æ¨è¿‡æ»¤/ç²¾ç®€ transform</td></tr><tr><td>Can not vectorize filter</td><td>ä¸å¯å‘é‡åŒ–å‡½æ•°/è¡¨è¾¾å¼</td><td>Broker æ—¥å¿—æŠ¥é”™ç‚¹</td><td>æ›¿æ¢å‡½æ•°æˆ–å…è®¸éå‘é‡åŒ–æ‰§è¡Œï¼›è¯„ä¼°ä»£ä»·</td></tr></tbody></table>
<h2 data-id="heading-30">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-31">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-127 Qwen2.5-Omni æ·±è§£ï¼šThinker-Talker åŒæ ¸ã€TMRoPE ä¸æµå¼è¯­éŸ³</strong></p>
<h3 data-id="heading-32">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-174 FastFDS ä»å•æœºåˆ°åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨ï¼šå®æˆ˜ä¸æ¶æ„å–èˆ</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS æ­£åœ¨æ›´æ–°ï¼Œæ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-33">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3å›¾ç‰‡æ”¾å¤§é•œä»åŸç†åˆ°å®ç°ï¼Œç”µå•†çº§ç»†èŠ‚å±•ç¤ºæ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7572961448537079835</link>    <guid>https://juejin.cn/post/7572961448537079835</guid>    <pubDate>2025-11-17T02:20:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572961448537079835" data-draft-id="7566626899578454043" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3å›¾ç‰‡æ”¾å¤§é•œä»åŸç†åˆ°å®ç°ï¼Œç”µå•†çº§ç»†èŠ‚å±•ç¤ºæ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Canvas"/> <meta itemprop="datePublished" content="2025-11-17T02:20:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3å›¾ç‰‡æ”¾å¤§é•œä»åŸç†åˆ°å®ç°ï¼Œç”µå•†çº§ç»†èŠ‚å±•ç¤ºæ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T02:20:43.000Z" title="Mon Nov 17 2025 02:20:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼ä»Šå¤©åˆ†äº«ä¸€ä¸ªéå¸¸å®ç”¨çš„å‰ç«¯åŠŸèƒ½ï¼š<strong>å›¾ç‰‡æ”¾å¤§é•œæ•ˆæœ</strong>ã€‚è¿™ä¸ªæ•ˆæœåœ¨ç”µå•†ç½‘ç«™ã€å›¾ç‰‡å±•ç¤ºå¹³å°ä¸­éå¸¸å¸¸è§ï¼Œæ¯”å¦‚æŸ¥çœ‹å•†å“ç»†èŠ‚æ—¶ç‰¹åˆ«å¥½ç”¨ã€‚</p>
<h2 data-id="heading-0">æ•ˆæœé¢„è§ˆ</h2>
<p>å…ˆæ¥çœ‹çœ‹æœ€ç»ˆå®ç°çš„æ•ˆæœï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e9c16f3982f489a88a901a4726b328e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YiY5aSn5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950843&amp;x-signature=v8hhhi0vg9hsXay8zAVEQvWlPgU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ul>
<li>é¼ æ ‡ç§»åŠ¨åˆ°å›¾ç‰‡ä¸Šä¼šå‡ºç°ä¸€ä¸ªæ”¾å¤§é•œæ¡†</li>
<li>å³ä¾§ä¼šæ˜¾ç¤ºæ”¾å¤§åçš„å±€éƒ¨ç»†èŠ‚</li>
<li>æ”¯æŒè‡ªå®šä¹‰æ”¾å¤§å€æ•°ã€é•œç‰‡å¤§å°å’Œæ”¾å¤§åŒºåŸŸå°ºå¯¸</li>
<li>å®ç°äº†åƒç´ çº§ç²¾å‡†çš„æ”¾å¤§æ•ˆæœ</li>
<li>å¸¦æœ‰è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯å±•ç¤º</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒåŸç†</h2>
<p>å›¾ç‰‡æ”¾å¤§é•œæ•ˆæœçš„æ ¸å¿ƒåŸç†å…¶å®å¾ˆç®€å•ï¼š<strong>é€šè¿‡è®¡ç®—é¼ æ ‡ä½ç½®ï¼Œåœ¨åŸå§‹å›¾ç‰‡ä¸Šç¡®å®šä¸€ä¸ªæŸ¥çœ‹åŒºåŸŸï¼Œç„¶åå°†è¿™ä¸ªåŒºåŸŸæŒ‰æ¯”ä¾‹æ”¾å¤§æ˜¾ç¤º</strong>ã€‚</p>
<p>å¬èµ·æ¥ç®€å•ï¼Œä½†å®ç°èµ·æ¥æœ‰å‡ ä¸ªå…³é”®ç‚¹éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼š</p>
<p><strong>1.åæ ‡æ˜ å°„</strong>ï¼šå¦‚ä½•å°†é¼ æ ‡åœ¨æ˜¾ç¤ºå›¾ç‰‡ä¸Šçš„ä½ç½®ï¼Œç²¾ç¡®æ˜ å°„åˆ°åŸå§‹å›¾ç‰‡ä¸Šçš„å¯¹åº”ä½ç½®
<strong>2.æ¯”ä¾‹è®¡ç®—</strong>ï¼šå¤„ç†å›¾ç‰‡åŸå§‹å°ºå¯¸å’Œæ˜¾ç¤ºå°ºå¯¸ä¹‹é—´çš„æ¯”ä¾‹å…³ç³»
<strong>3.è¾¹ç•Œå¤„ç†</strong>ï¼šç¡®ä¿æ”¾å¤§é•œä¸ä¼šè·‘å‡ºå›¾ç‰‡èŒƒå›´
<strong>4.æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä¿è¯äº¤äº’çš„æµç•…æ€§</p>
<h2 data-id="heading-2">ä»£ç å®ç°è¯¦è§£</h2>
<h3 data-id="heading-3">HTML ç»“æ„</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"magnifier-container"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- åŸå§‹å›¾ç‰‡åŒºåŸŸ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image-section"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"original-image-container"</span> 
         @<span class="hljs-attr">mousemove</span>=<span class="hljs-string">"handleMouseMove"</span> 
         @<span class="hljs-attr">mouseleave</span>=<span class="hljs-string">"isVisible = false"</span>
         @<span class="hljs-attr">mouseenter</span>=<span class="hljs-string">"isVisible = true"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"originalImage"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"å›¾ç‰‡åœ°å€"</span> @<span class="hljs-attr">load</span>=<span class="hljs-string">"handleImageLoad"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"zoom-lens"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"é•œç‰‡æ ·å¼"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  
  <span class="hljs-comment">&lt;!-- æ”¾å¤§åŒºåŸŸ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"zoomed-section"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"zoomed-image-container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!isVisible"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"placeholder"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å°†é¼ æ ‡æ‚¬åœåœ¨å·¦ä¾§å›¾ç‰‡ä¸ŠæŸ¥çœ‹æ”¾å¤§æ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"zoomed-image"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"æ”¾å¤§å›¾ç‰‡æ ·å¼"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>è¿™ä¸ªç»“æ„åˆ†ä¸ºä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š</p>
<ul>
<li>å·¦ä¾§æ˜¯åŸå§‹å›¾ç‰‡å’Œè·Ÿéšé¼ æ ‡çš„æ”¾å¤§é•œé•œç‰‡</li>
<li>å³ä¾§æ˜¯æ”¾å¤§åçš„å›¾ç‰‡æ˜¾ç¤ºåŒºåŸŸ</li>
</ul>
<h3 data-id="heading-4">Vue3 å“åº”å¼æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å›¾ç‰‡ç›¸å…³å¼•ç”¨å’Œå°ºå¯¸æ•°æ®</span>
  <span class="hljs-keyword">const</span> originalImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> originalWidth = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);   <span class="hljs-comment">// å›¾ç‰‡åŸå§‹å®½åº¦</span>
  <span class="hljs-keyword">const</span> originalHeight = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);  <span class="hljs-comment">// å›¾ç‰‡åŸå§‹é«˜åº¦</span>
  <span class="hljs-keyword">const</span> displayWidth = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);    <span class="hljs-comment">// å›¾ç‰‡æ˜¾ç¤ºå®½åº¦</span>
  <span class="hljs-keyword">const</span> displayHeight = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);   <span class="hljs-comment">// å›¾ç‰‡æ˜¾ç¤ºé«˜åº¦</span>
  
  <span class="hljs-comment">// æ”¾å¤§é•œçŠ¶æ€</span>
  <span class="hljs-keyword">const</span> lensPosition = <span class="hljs-title function_">ref</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> });  <span class="hljs-comment">// é•œç‰‡ä½ç½®</span>
  <span class="hljs-keyword">const</span> isVisible = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);              <span class="hljs-comment">// æ˜¯å¦æ˜¾ç¤ºæ”¾å¤§é•œ</span>
  <span class="hljs-keyword">const</span> imageLoaded = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);            <span class="hljs-comment">// å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œæˆ</span>
  
  <span class="hljs-comment">// é…ç½®å‚æ•°</span>
  <span class="hljs-keyword">const</span> lensSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">150</span>);     <span class="hljs-comment">// é•œç‰‡å¤§å°</span>
  <span class="hljs-keyword">const</span> zoomedSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">400</span>);   <span class="hljs-comment">// æ”¾å¤§åŒºåŸŸå¤§å°</span>
  <span class="hljs-keyword">const</span> zoomLevel = <span class="hljs-title function_">ref</span>(<span class="hljs-number">2</span>);      <span class="hljs-comment">// æ”¾å¤§å€æ•°</span>
}
</code></pre>
<h3 data-id="heading-5">å…³é”®æŠ€æœ¯ç‚¹è§£æ</h3>
<h4 data-id="heading-6">1. æ¯”ä¾‹è®¡ç®—</h4>
<p>è¿™æ˜¯æ•´ä¸ªåŠŸèƒ½æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼å½“å›¾ç‰‡åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºæ—¶ï¼Œå®ƒçš„æ˜¾ç¤ºå°ºå¯¸å¯èƒ½ä¸ç­‰äºåŸå§‹å°ºå¯¸ï¼ˆæ¯”å¦‚å“åº”å¼å¸ƒå±€ä¸­å›¾ç‰‡ä¼šè‡ªé€‚åº”å®¹å™¨å¤§å°ï¼‰ã€‚æˆ‘ä»¬éœ€è¦ç²¾ç¡®è®¡ç®—è¿™ä¸ªæ¯”ä¾‹å…³ç³»ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> scaleX = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> originalWidth.<span class="hljs-property">value</span> / displayWidth.<span class="hljs-property">value</span>;
});

<span class="hljs-keyword">const</span> scaleY = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  <span class="hljs-keyword">return</span> originalHeight.<span class="hljs-property">value</span> / displayHeight.<span class="hljs-property">value</span>;
});
</code></pre>
<p>ä¸¾ä¸ªä¾‹å­ï¼š</p>
<ul>
<li>å¦‚æœå›¾ç‰‡åŸå§‹å®½åº¦æ˜¯ 1200pxï¼Œæ˜¾ç¤ºå®½åº¦æ˜¯ 600px</li>
<li>é‚£ä¹ˆ scaleX å°±æ˜¯ 2ï¼Œæ„å‘³ç€æ˜¾ç¤ºå›¾ç‰‡ä¸Šçš„ 1 åƒç´ å¯¹åº”åŸå§‹å›¾ç‰‡çš„ 2 åƒç´ </li>
</ul>
<h4 data-id="heading-7">2. é¼ æ ‡ä½ç½®è¿½è¸ª</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseMove</span> = (<span class="hljs-params">e</span>) =&gt; {
  <span class="hljs-keyword">if</span> (!originalImage.<span class="hljs-property">value</span> || !imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-comment">// è·å–å›¾ç‰‡ç›¸å¯¹äºè§†å£çš„ä½ç½®</span>
  <span class="hljs-keyword">const</span> rect = originalImage.<span class="hljs-property">value</span>.<span class="hljs-title function_">getBoundingClientRect</span>();
  
  <span class="hljs-comment">// è®¡ç®—é¼ æ ‡åœ¨å›¾ç‰‡å†…çš„ç›¸å¯¹ä½ç½®</span>
  <span class="hljs-keyword">const</span> mouseX = e.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>;
  <span class="hljs-keyword">const</span> mouseY = e.<span class="hljs-property">clientY</span> - rect.<span class="hljs-property">top</span>;
  
  <span class="hljs-comment">// è®¡ç®—é•œç‰‡ä½ç½®ï¼ˆè®©é•œç‰‡ä¸­å¿ƒå¯¹å‡†é¼ æ ‡ï¼‰</span>
  <span class="hljs-keyword">let</span> x = mouseX - lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">let</span> y = mouseY - lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
  
  <span class="hljs-comment">// è¾¹ç•Œé™åˆ¶ï¼Œé˜²æ­¢é•œç‰‡è·‘å‡ºå›¾ç‰‡å¤–</span>
  <span class="hljs-keyword">const</span> maxX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, displayWidth.<span class="hljs-property">value</span> - lensSize.<span class="hljs-property">value</span>);
  <span class="hljs-keyword">const</span> maxY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, displayHeight.<span class="hljs-property">value</span> - lensSize.<span class="hljs-property">value</span>);
  
  x = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(x, maxX));
  y = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(y, maxY));
  
  lensPosition.<span class="hljs-property">value</span> = { 
    <span class="hljs-attr">x</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span>,  <span class="hljs-comment">// é«˜ç²¾åº¦æ•°å€¼</span>
    <span class="hljs-attr">y</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(y * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span> 
  };
};
</code></pre>
<h4 data-id="heading-8">3. åŸå§‹å›¾ç‰‡ä½ç½®è®¡ç®—</h4>
<p>æœ‰äº†é¼ æ ‡åœ¨æ˜¾ç¤ºå›¾ç‰‡ä¸Šçš„ä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°å®ƒåœ¨åŸå§‹å›¾ç‰‡ä¸Šçš„å¯¹åº”ä½ç½®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> originalX = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  <span class="hljs-comment">// è®¡ç®—é•œç‰‡ä¸­å¿ƒåœ¨æ˜¾ç¤ºå›¾ç‰‡ä¸Šçš„ä½ç½®</span>
  <span class="hljs-keyword">const</span> lensCenterX = lensPosition.<span class="hljs-property">value</span>.<span class="hljs-property">x</span> + lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
  <span class="hljs-comment">// æ˜ å°„åˆ°åŸå§‹å›¾ç‰‡ä¸Šçš„ä½ç½®</span>
  <span class="hljs-keyword">const</span> pos = lensCenterX * scaleX.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(pos, originalWidth.<span class="hljs-property">value</span>));
});
</code></pre>
<h4 data-id="heading-9">4. æ”¾å¤§åŒºåŸŸèƒŒæ™¯å®šä½</h4>
<p>è¿™æ˜¯å®ç°æ”¾å¤§æ•ˆæœçš„å…³é”®ï¼šæˆ‘ä»¬é€šè¿‡ CSS çš„ <code>background-position</code> æ¥ç§»åŠ¨èƒŒæ™¯å›¾ç‰‡ï¼Œåˆ›é€ å‡ºæ”¾å¤§æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> backgroundPosition = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> };
  
  <span class="hljs-comment">// è®¡ç®—åœ¨æ”¾å¤§è§†å›¾ä¸­çš„ç›®æ ‡ä¸­å¿ƒç‚¹</span>
  <span class="hljs-keyword">const</span> targetCenterX = originalX.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span>;
  <span class="hljs-keyword">const</span> targetCenterY = originalY.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span>;
  
  <span class="hljs-comment">// è®¡ç®—èƒŒæ™¯ä½ç½®ï¼Œä½¿ç›®æ ‡ç‚¹å‡ºç°åœ¨æ”¾å¤§åŒºåŸŸä¸­å¿ƒ</span>
  <span class="hljs-keyword">let</span> bgX = targetCenterX - zoomedSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
  <span class="hljs-keyword">let</span> bgY = targetCenterY - zoomedSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
  
  <span class="hljs-comment">// è¾¹ç•Œå¤„ç†</span>
  <span class="hljs-keyword">const</span> maxBgX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, originalWidth.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span> - zoomedSize.<span class="hljs-property">value</span>);
  <span class="hljs-keyword">const</span> maxBgY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, originalHeight.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span> - zoomedSize.<span class="hljs-property">value</span>);
  
  bgX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bgX, maxBgX));
  bgY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bgY, maxBgY));
  
  <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: bgX, <span class="hljs-attr">y</span>: bgY };
});

<span class="hljs-keyword">const</span> <span class="hljs-title function_">getZoomedImageStyle</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> bgSize = <span class="hljs-string">`<span class="hljs-subst">${originalWidth.value * zoomLevel.value}</span>px <span class="hljs-subst">${originalHeight.value * zoomLevel.value}</span>px`</span>;
  <span class="hljs-keyword">const</span> bgPosition = <span class="hljs-string">`-<span class="hljs-subst">${backgroundPosition.value.x}</span>px -<span class="hljs-subst">${backgroundPosition.value.y}</span>px`</span>;
  
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">backgroundImage</span>: <span class="hljs-string">`url(<span class="hljs-subst">${imageUrl.value}</span>)`</span>,
    <span class="hljs-attr">backgroundSize</span>: bgSize,        <span class="hljs-comment">// è®¾ç½®èƒŒæ™¯å›¾ç‰‡å¤§å°ä¸ºæ”¾å¤§åçš„å°ºå¯¸</span>
    <span class="hljs-attr">backgroundPosition</span>: bgPosition, <span class="hljs-comment">// ç§»åŠ¨èƒŒæ™¯å›¾ç‰‡æ¥æ˜¾ç¤ºæ­£ç¡®åŒºåŸŸ</span>
    <span class="hljs-attr">transform</span>: <span class="hljs-string">`translateZ(0)`</span>,    <span class="hljs-comment">// å¼€å¯ç¡¬ä»¶åŠ é€Ÿï¼Œæé«˜æ€§èƒ½</span>
  };
};
</code></pre>
<h3 data-id="heading-10">å›¾ç‰‡åŠ è½½å¤„ç†</h3>
<p>æˆ‘ä»¬éœ€è¦åœ¨å›¾ç‰‡å®Œå…¨åŠ è½½åè·å–å…¶çœŸå®å°ºå¯¸ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleImageLoad</span> = (<span class="hljs-params"/>) =&gt; {
  originalWidth.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">naturalWidth</span>;
  originalHeight.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">naturalHeight</span>;
  displayWidth.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">clientWidth</span>;
  displayHeight.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">clientHeight</span>;
  imageLoaded.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
};
</code></pre>
<h2 data-id="heading-11">æ ·å¼è®¾è®¡è¦ç‚¹</h2>
<h3 data-id="heading-12">é•œç‰‡æ ·å¼</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.zoom-lens</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid white;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">52</span>, <span class="hljs-number">152</span>, <span class="hljs-number">219</span>, <span class="hljs-number">0.2</span>);  <span class="hljs-comment">/* åŠé€æ˜è“è‰² */</span>
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>);    <span class="hljs-comment">/* é˜´å½±å¢å¼ºè§†è§‰æ•ˆæœ */</span>
  <span class="hljs-attribute">pointer-events</span>: none;  <span class="hljs-comment">/* é‡è¦ï¼é˜²æ­¢é•œç‰‡å¹²æ‰°é¼ æ ‡äº‹ä»¶ */</span>
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10</span>;
}
</code></pre>
<h3 data-id="heading-13">æ”¾å¤§åŒºåŸŸæ ·å¼</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.zoomed-image-container</span> {
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;  <span class="hljs-comment">/* é»˜è®¤èƒŒæ™¯è‰² */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: center;
}
</code></pre>
<h2 data-id="heading-14">è°ƒè¯•å’Œä¼˜åŒ–æŠ€å·§</h2>
<p>æˆ‘ä»¬çš„å®ç°ä¸­åŒ…å«äº†ä¸€ä¸ªå®ç”¨çš„è°ƒè¯•é¢æ¿ï¼Œå¯ä»¥å®æ—¶æ˜¾ç¤ºå„ç§è®¡ç®—æ•°æ®ï¼š</p>
<ul>
<li><strong>æ¯”ä¾‹å› å­</strong>ï¼šæ˜¾ç¤ºåŸå§‹å›¾ç‰‡ä¸æ˜¾ç¤ºå›¾ç‰‡çš„å°ºå¯¸æ¯”ä¾‹</li>
<li><strong>ä½ç½®ä¿¡æ¯</strong>ï¼šæ˜¾ç¤ºé¼ æ ‡ä½ç½®ã€é•œç‰‡ä½ç½®å’ŒèƒŒæ™¯ä½ç½®</li>
<li><strong>è®¡ç®—ç²¾åº¦</strong>ï¼šè¯„ä¼°åæ ‡æ˜ å°„çš„å‡†ç¡®åº¦</li>
<li><strong>åƒç´ åå·®</strong>ï¼šæ˜¾ç¤ºå®é™…ä½ç½®ä¸ç†æƒ³ä½ç½®çš„åå·®</li>
</ul>
<p>è¿™äº›è°ƒè¯•ä¿¡æ¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½é—®é¢˜ã€‚</p>
<h2 data-id="heading-15">å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-16">1. å›¾ç‰‡é—ªçƒæˆ–è·³åŠ¨</h3>
<p><strong>åŸå› </strong>ï¼šè®¡ç®—ç²¾åº¦ä¸å¤Ÿæˆ–è¾¹ç•Œå¤„ç†ä¸å½“
<strong>è§£å†³</strong>ï¼šä½¿ç”¨æ›´é«˜ç²¾åº¦çš„è®¡ç®—ï¼ˆæˆ‘ä»¬ä»£ç ä¸­ä½¿ç”¨äº†ä¸‰ä½å°æ•°ï¼‰ï¼Œå¹¶ä»”ç»†å¤„ç†æ‰€æœ‰è¾¹ç•Œæƒ…å†µ</p>
<h3 data-id="heading-17">2. æ€§èƒ½é—®é¢˜</h3>
<p><strong>åŸå› </strong>ï¼šmousemove äº‹ä»¶è§¦å‘é¢‘ç‡å¾ˆé«˜
<strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ Vue çš„å“åº”å¼ç³»ç»Ÿï¼Œå®ƒå·²ç»åšäº†ä¼˜åŒ–</li>
<li>é¿å…åœ¨ mousemove ä¸­æ‰§è¡Œå¤æ‚æ“ä½œ</li>
<li>ä½¿ç”¨ <code>transform: translateZ(0)</code> å¼€å¯ç¡¬ä»¶åŠ é€Ÿ</li>
</ul>
<h3 data-id="heading-18">3. å›¾ç‰‡åŠ è½½é—®é¢˜</h3>
<p><strong>åŸå› </strong>ï¼šåœ¨å›¾ç‰‡åŠ è½½å®Œæˆå‰å°±è¿›è¡Œè®¡ç®—
<strong>è§£å†³</strong>ï¼šä½¿ç”¨ <code>@load</code> äº‹ä»¶ç¡®ä¿å›¾ç‰‡å®Œå…¨åŠ è½½åå†åˆå§‹åŒ–åŠŸèƒ½</p>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ä¸ä»…å®ç°äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å›¾ç‰‡æ”¾å¤§é•œæ•ˆæœï¼Œè¿˜æ·±å…¥ç†è§£äº†å…¶èƒŒåçš„åŸç†å’Œå®ç°ç»†èŠ‚ã€‚å…³é”®ç‚¹åœ¨äºï¼š</p>
<ul>
<li>ç²¾ç¡®çš„åæ ‡æ˜ å°„å’Œæ¯”ä¾‹è®¡ç®—</li>
<li>å®Œå–„çš„è¾¹ç•Œå¤„ç†</li>
<li>åˆ©ç”¨ CSS èƒŒæ™¯å®šä½å®ç°æ”¾å¤§æ•ˆæœ</li>
<li>è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ä¼˜åŒ–</li>
</ul>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚</p>
<p><strong>å®Œæ•´ä»£ç </strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue3 å›¾ç‰‡æ”¾å¤§é•œæ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/vue@3/dist/vue.global.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">20px</span>;
    }
    <span class="hljs-selector-class">.container</span> {
      <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1200px</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
    }
    <span class="hljs-selector-tag">header</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
    }
    <span class="hljs-selector-tag">h1</span> {
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#2c3e50</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2.2rem</span>;
    }
    <span class="hljs-selector-class">.magnifier-app</span> {
      <span class="hljs-attribute">background</span>: white;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">12px</span>;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">30px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">25px</span>;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
    }
    <span class="hljs-selector-class">.config-info</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">25px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#495057</span>;
    }
    <span class="hljs-selector-class">.magnifier-container</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-wrap</span>: wrap;
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">30px</span>;
      <span class="hljs-attribute">justify-content</span>: center;
    }
    <span class="hljs-selector-class">.image-section</span> {
      <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">min-width</span>: <span class="hljs-number">300px</span>;
    }
    <span class="hljs-selector-class">.original-image-container</span> {
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">cursor</span>: crosshair;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">overflow</span>: hidden;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
    }
    <span class="hljs-selector-class">.original-image-container</span> <span class="hljs-selector-tag">img</span> {
      <span class="hljs-attribute">display</span>: block;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: auto;
    }
    <span class="hljs-selector-class">.zoom-lens</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid white;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">52</span>, <span class="hljs-number">152</span>, <span class="hljs-number">219</span>, <span class="hljs-number">0.2</span>);
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>);
      <span class="hljs-attribute">pointer-events</span>: none;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10</span>;
    }
    <span class="hljs-selector-class">.zoomed-section</span> {
      <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">min-width</span>: <span class="hljs-number">300px</span>;
    }
    <span class="hljs-selector-class">.zoomed-image-container</span> {
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">overflow</span>: hidden;
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>);
      <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">400px</span>;
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">align-items</span>: center;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">position</span>: relative;
    }
    <span class="hljs-selector-class">.zoomed-image</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">background-repeat</span>: no-repeat;
      <span class="hljs-attribute">image-rendering</span>: -webkit-optimize-contrast;
      <span class="hljs-attribute">image-rendering</span>: crisp-edges;
    }
    <span class="hljs-selector-class">.placeholder</span> {
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#7f8c8d</span>;
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    }
    <span class="hljs-selector-class">.instructions</span> {
      <span class="hljs-attribute">text-align</span>: center;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#7f8c8d</span>;
      <span class="hljs-attribute">font-style</span>: italic;
    }
    <span class="hljs-selector-class">.status</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-wrap</span>: wrap;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">gap</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9rem</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#7f8c8d</span>;
    }
    <span class="hljs-selector-class">.debug-info</span> {
      <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f9fa</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">font-family</span>: monospace;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.85rem</span>;
    }
    <span class="hljs-selector-class">.pixel-grid</span> {
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      <span class="hljs-attribute">background-image</span>: 
        <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>) <span class="hljs-number">1px</span>, transparent <span class="hljs-number">1px</span>),
        <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>) <span class="hljs-number">1px</span>, transparent <span class="hljs-number">1px</span>);
      <span class="hljs-attribute">background-size</span>: <span class="hljs-number">10px</span> <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">pointer-events</span>: none;
      <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.3</span>;
    }
    
    <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
      <span class="hljs-selector-class">.magnifier-container</span> {
        <span class="hljs-attribute">flex-direction</span>: column;
      }
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Vue3 å›¾ç‰‡æ”¾å¤§é•œæ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"magnifier-app"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"config-info"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰é…ç½®ï¼šé•œç‰‡å¤§å° {{ lensSize }}px | æ”¾å¤§åŒºåŸŸ {{ zoomedSize }}px | æ”¾å¤§å€æ•° {{ zoomLevel }}x<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"magnifier-container"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"image-section"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"original-image-container"</span> 
                 @<span class="hljs-attr">mousemove</span>=<span class="hljs-string">"handleMouseMove"</span> 
                 @<span class="hljs-attr">mouseleave</span>=<span class="hljs-string">"isVisible = false"</span>
                 @<span class="hljs-attr">mouseenter</span>=<span class="hljs-string">"isVisible = true"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
                <span class="hljs-attr">ref</span>=<span class="hljs-string">"originalImage"</span> 
                <span class="hljs-attr">src</span>=<span class="hljs-string">"https://picsum.photos/600/400"</span> 
                <span class="hljs-attr">alt</span>=<span class="hljs-string">"Original Image"</span> 
                @<span class="hljs-attr">load</span>=<span class="hljs-string">"handleImageLoad"</span>
              /&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
                <span class="hljs-attr">class</span>=<span class="hljs-string">"zoom-lens"</span> 
                <span class="hljs-attr">:style</span>=<span class="hljs-string">"{
                  width: lensSize + 'px',
                  height: lensSize + 'px',
                  left: lensPosition.x + 'px',
                  top: lensPosition.y + 'px',
                  display: isVisible &amp;&amp; imageLoaded ? 'block' : 'none'
                }"</span>
              &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"zoomed-section"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
              <span class="hljs-attr">class</span>=<span class="hljs-string">"zoomed-image-container"</span> 
              <span class="hljs-attr">:style</span>=<span class="hljs-string">"{
                width: zoomedSize + 'px',
                height: zoomedSize + 'px'
              }"</span>
            &gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"!isVisible || !imageLoaded"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"placeholder"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å°†é¼ æ ‡æ‚¬åœåœ¨å·¦ä¾§å›¾ç‰‡ä¸ŠæŸ¥çœ‹æ”¾å¤§æ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
                <span class="hljs-attr">v-else</span>
                <span class="hljs-attr">class</span>=<span class="hljs-string">"zoomed-image"</span> 
                <span class="hljs-attr">:style</span>=<span class="hljs-string">"getZoomedImageStyle()"</span>
              &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"pixel-grid"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"isVisible &amp;&amp; imageLoaded"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"status"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å›¾ç‰‡åŸå§‹å°ºå¯¸: {{ originalWidth }} Ã— {{ originalHeight }}px<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å›¾ç‰‡æ˜¾ç¤ºå°ºå¯¸: {{ displayWidth }} Ã— {{ displayHeight }}px<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ”¾å¤§é•œä½ç½®: X:{{ Math.round(lensPosition.x * 1000) / 1000 }}, Y:{{ Math.round(lensPosition.y * 1000) / 1000 }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"debug-info"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"imageLoaded"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æ¯”ä¾‹å› å­: X={{ scaleX.toFixed(8) }}, Y={{ scaleY.toFixed(8) }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŸå§‹å›¾ç‰‡ä½ç½®: X={{ Math.round(originalX * 1000) / 1000 }}, Y={{ Math.round(originalY * 1000) / 1000 }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>èƒŒæ™¯ä½ç½®: X:{{ Math.round(backgroundPosition.x * 1000) / 1000 }}, Y:{{ Math.round(backgroundPosition.y * 1000) / 1000 }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>è®¡ç®—ç²¾åº¦: {{ (calculationAccuracy * 100).toFixed(6) }}%<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åƒç´ åå·®: X:{{ Math.abs(pixelDeviation.x).toFixed(3) }}px, Y:{{ Math.abs(pixelDeviation.y).toFixed(3) }}px<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">const</span> { createApp, ref, computed } = <span class="hljs-title class_">Vue</span>;
    
    <span class="hljs-title function_">createApp</span>({
      <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> originalImage = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
        <span class="hljs-keyword">const</span> originalWidth = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> originalHeight = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> displayWidth = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> displayHeight = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">const</span> lensPosition = <span class="hljs-title function_">ref</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> });
        <span class="hljs-keyword">const</span> isVisible = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">const</span> imageLoaded = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">const</span> imageUrl = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'https://picsum.photos/600/400'</span>);
        
        <span class="hljs-comment">// ä½¿ç”¨æœ€ç²¾å‡†çš„é»˜è®¤å‚æ•°</span>
        <span class="hljs-keyword">const</span> lensSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">150</span>);
        <span class="hljs-keyword">const</span> zoomedSize = <span class="hljs-title function_">ref</span>(<span class="hljs-number">400</span>);
        <span class="hljs-keyword">const</span> zoomLevel = <span class="hljs-title function_">ref</span>(<span class="hljs-number">2</span>);

        <span class="hljs-comment">// è®¡ç®—æ¯”ä¾‹å› å­ - ä½¿ç”¨è¶…é«˜ç²¾åº¦è®¡ç®—</span>
        <span class="hljs-keyword">const</span> scaleX = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
          <span class="hljs-keyword">const</span> scale = originalWidth.<span class="hljs-property">value</span> / displayWidth.<span class="hljs-property">value</span>;
          <span class="hljs-keyword">return</span> scale;
        });
        
        <span class="hljs-keyword">const</span> scaleY = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
          <span class="hljs-keyword">const</span> scale = originalHeight.<span class="hljs-property">value</span> / displayHeight.<span class="hljs-property">value</span>;
          <span class="hljs-keyword">return</span> scale;
        });

        <span class="hljs-comment">// è®¡ç®—åŸå§‹å›¾ç‰‡ä¸Šçš„ç²¾ç¡®ä½ç½® - è¶…é«˜ç²¾åº¦ç‰ˆæœ¬</span>
        <span class="hljs-keyword">const</span> originalX = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
          <span class="hljs-keyword">const</span> lensCenterX = lensPosition.<span class="hljs-property">value</span>.<span class="hljs-property">x</span> + lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          <span class="hljs-keyword">const</span> pos = lensCenterX * scaleX.<span class="hljs-property">value</span>;
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(pos, originalWidth.<span class="hljs-property">value</span>));
        });
        
        <span class="hljs-keyword">const</span> originalY = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
          <span class="hljs-keyword">const</span> lensCenterY = lensPosition.<span class="hljs-property">value</span>.<span class="hljs-property">y</span> + lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          <span class="hljs-keyword">const</span> pos = lensCenterY * scaleY.<span class="hljs-property">value</span>;
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(pos, originalHeight.<span class="hljs-property">value</span>));
        });

        <span class="hljs-comment">// åƒç´ çº§åå·®è®¡ç®—</span>
        <span class="hljs-keyword">const</span> pixelDeviation = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> };
          
          <span class="hljs-comment">// è®¡ç®—ç†è®ºä¸Šçš„å®Œç¾ä½ç½®</span>
          <span class="hljs-keyword">const</span> perfectBgX = originalX.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span> - zoomedSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          <span class="hljs-keyword">const</span> perfectBgY = originalY.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span> - zoomedSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">x</span>: backgroundPosition.<span class="hljs-property">value</span>.<span class="hljs-property">x</span> - perfectBgX,
            <span class="hljs-attr">y</span>: backgroundPosition.<span class="hljs-property">value</span>.<span class="hljs-property">y</span> - perfectBgY
          };
        });

        <span class="hljs-comment">// è®¡ç®—ç²¾åº¦è¯„ä¼° - æ›´ä¸¥æ ¼çš„è¯„ä¼°æ ‡å‡†</span>
        <span class="hljs-keyword">const</span> calculationAccuracy = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
          
          <span class="hljs-keyword">const</span> maxDeviation = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(zoomedSize.<span class="hljs-property">value</span> * <span class="hljs-number">0.01</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// å…è®¸1%æˆ–2åƒç´ çš„åå·®</span>
          <span class="hljs-keyword">const</span> xAccuracy = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(pixelDeviation.<span class="hljs-property">value</span>.<span class="hljs-property">x</span>) / maxDeviation);
          <span class="hljs-keyword">const</span> yAccuracy = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span> - <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(pixelDeviation.<span class="hljs-property">value</span>.<span class="hljs-property">y</span>) / maxDeviation);
          
          <span class="hljs-keyword">return</span> (xAccuracy + yAccuracy) / <span class="hljs-number">2</span>;
        });

        <span class="hljs-comment">// è¶…ç²¾å‡†èƒŒæ™¯ä½ç½®è®¡ç®—ç®—æ³•</span>
        <span class="hljs-keyword">const</span> backgroundPosition = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (!imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> };
          
          <span class="hljs-comment">// æ ¸å¿ƒç®—æ³•ï¼šç¡®ä¿åƒç´ çº§ç²¾ç¡®å¯¹åº”</span>
          <span class="hljs-keyword">const</span> targetCenterX = originalX.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span>;
          <span class="hljs-keyword">const</span> targetCenterY = originalY.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span>;
          
          <span class="hljs-comment">// è®¡ç®—èƒŒæ™¯ä½ç½®ï¼Œä½¿æ”¾å¤§åŒºåŸŸä¸­å¿ƒç²¾ç¡®æ˜¾ç¤ºç›®æ ‡ä½ç½®</span>
          <span class="hljs-keyword">let</span> bgX = targetCenterX - zoomedSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          <span class="hljs-keyword">let</span> bgY = targetCenterY - zoomedSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          
          <span class="hljs-comment">// ç²¾ç¡®çš„è¾¹ç•Œå¤„ç†</span>
          <span class="hljs-keyword">const</span> maxBgX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, originalWidth.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span> - zoomedSize.<span class="hljs-property">value</span>);
          <span class="hljs-keyword">const</span> maxBgY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, originalHeight.<span class="hljs-property">value</span> * zoomLevel.<span class="hljs-property">value</span> - zoomedSize.<span class="hljs-property">value</span>);
          
          <span class="hljs-comment">// ä½¿ç”¨æ›´ç²¾ç¡®çš„è¾¹ç•Œæ£€æŸ¥</span>
          bgX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bgX, maxBgX));
          bgY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(bgY, maxBgY));
          
          <span class="hljs-comment">// å¼ºåˆ¶åƒç´ å¯¹é½ - æ¶ˆé™¤äºšåƒç´ æ¸²æŸ“é—®é¢˜</span>
          bgX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(bgX * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span>;
          bgY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(bgY * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span>;
          
          <span class="hljs-keyword">return</span> { <span class="hljs-attr">x</span>: bgX, <span class="hljs-attr">y</span>: bgY };
        });

        <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleImageLoad</span> = (<span class="hljs-params"/>) =&gt; {
          originalWidth.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">naturalWidth</span>;
          originalHeight.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">naturalHeight</span>;
          displayWidth.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">clientWidth</span>;
          displayHeight.<span class="hljs-property">value</span> = originalImage.<span class="hljs-property">value</span>.<span class="hljs-property">clientHeight</span>;
          imageLoaded.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
          
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'=== è¶…é«˜ç²¾åº¦å›¾ç‰‡åŠ è½½ä¿¡æ¯ ==='</span>);
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åŸå§‹å°ºå¯¸:'</span>, <span class="hljs-string">`<span class="hljs-subst">${originalWidth.value}</span>x<span class="hljs-subst">${originalHeight.value}</span>`</span>);
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ˜¾ç¤ºå°ºå¯¸:'</span>, <span class="hljs-string">`<span class="hljs-subst">${displayWidth.value}</span>x<span class="hljs-subst">${displayHeight.value}</span>`</span>);
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¯”ä¾‹å› å­:'</span>, <span class="hljs-string">`X=<span class="hljs-subst">${scaleX.value.toFixed(<span class="hljs-number">8</span>)}</span>, Y=<span class="hljs-subst">${scaleY.value.toFixed(<span class="hljs-number">8</span>)}</span>`</span>);
        };

        <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseMove</span> = (<span class="hljs-params">e</span>) =&gt; {
          <span class="hljs-keyword">if</span> (!originalImage.<span class="hljs-property">value</span> || !imageLoaded.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>;
          
          <span class="hljs-keyword">const</span> rect = originalImage.<span class="hljs-property">value</span>.<span class="hljs-title function_">getBoundingClientRect</span>();
          
          <span class="hljs-comment">// è¶…é«˜ç²¾åº¦çš„é¼ æ ‡ä½ç½®è®¡ç®—</span>
          <span class="hljs-keyword">const</span> mouseX = e.<span class="hljs-property">clientX</span> - rect.<span class="hljs-property">left</span>;
          <span class="hljs-keyword">const</span> mouseY = e.<span class="hljs-property">clientY</span> - rect.<span class="hljs-property">top</span>;
          
          <span class="hljs-comment">// è®¡ç®—æ”¾å¤§é•œä½ç½®ï¼ˆä¸­å¿ƒå¯¹é½ï¼‰</span>
          <span class="hljs-keyword">let</span> x = mouseX - lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          <span class="hljs-keyword">let</span> y = mouseY - lensSize.<span class="hljs-property">value</span> / <span class="hljs-number">2</span>;
          
          <span class="hljs-comment">// ç²¾ç¡®çš„è¾¹ç•Œé™åˆ¶</span>
          <span class="hljs-keyword">const</span> maxX = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, displayWidth.<span class="hljs-property">value</span> - lensSize.<span class="hljs-property">value</span>);
          <span class="hljs-keyword">const</span> maxY = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, displayHeight.<span class="hljs-property">value</span> - lensSize.<span class="hljs-property">value</span>);
          
          x = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(x, maxX));
          y = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(y, maxY));
          
          <span class="hljs-comment">// ä½¿ç”¨æ›´é«˜ç²¾åº¦çš„æ•°å€¼</span>
          lensPosition.<span class="hljs-property">value</span> = { 
            <span class="hljs-attr">x</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(x * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span>, 
            <span class="hljs-attr">y</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(y * <span class="hljs-number">1000</span>) / <span class="hljs-number">1000</span> 
          };
        };

        <span class="hljs-keyword">const</span> <span class="hljs-title function_">getZoomedImageStyle</span> = (<span class="hljs-params"/>) =&gt; {
          <span class="hljs-keyword">const</span> bgSize = <span class="hljs-string">`<span class="hljs-subst">${originalWidth.value * zoomLevel.value}</span>px <span class="hljs-subst">${originalHeight.value * zoomLevel.value}</span>px`</span>;
          <span class="hljs-keyword">const</span> bgPosition = <span class="hljs-string">`-<span class="hljs-subst">${backgroundPosition.value.x}</span>px -<span class="hljs-subst">${backgroundPosition.value.y}</span>px`</span>;
          
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">backgroundImage</span>: <span class="hljs-string">`url(<span class="hljs-subst">${imageUrl.value}</span>)`</span>,
            <span class="hljs-attr">backgroundSize</span>: bgSize,
            <span class="hljs-attr">backgroundPosition</span>: bgPosition,
            <span class="hljs-attr">transform</span>: <span class="hljs-string">`translateZ(0)`</span>, <span class="hljs-comment">// ç¡¬ä»¶åŠ é€Ÿ</span>
            <span class="hljs-attr">backgroundOrigin</span>: <span class="hljs-string">'border-box'</span>
          };
        };

        <span class="hljs-keyword">return</span> {
          originalImage,
          originalWidth,
          originalHeight,
          displayWidth,
          displayHeight,
          lensPosition,
          backgroundPosition,
          isVisible,
          imageLoaded,
          imageUrl,
          lensSize,
          zoomedSize,
          zoomLevel,
          scaleX,
          scaleY,
          originalX,
          originalY,
          calculationAccuracy,
          pixelDeviation,
          handleImageLoad,
          handleMouseMove,
          getZoomedImageStyle
        };
      }
    }).<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>);
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-20">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FP7SMincYFKERZbNKAFtzGQ" target="_blank" title="https://mp.weixin.qq.com/s/P7SMincYFKERZbNKAFtzGQ" ref="nofollow noopener noreferrer">ã€Šè¿™20æ¡SQLä¼˜åŒ–æ–¹æ¡ˆï¼Œè®©ä½ çš„æ•°æ®åº“æŸ¥è¯¢é€Ÿåº¦æå‡10å€ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fy-GJ26kl0-yT6hE3fy2KjQ" target="_blank" title="https://mp.weixin.qq.com/s/y-GJ26kl0-yT6hE3fy2KjQ" ref="nofollow noopener noreferrer">ã€ŠMySQL ä¸ºä»€ä¹ˆä¸æ¨èç”¨é›ªèŠ±ID å’Œ UUID åšä¸»é”®ï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fn1DqvgnDTFzpv9hJaudQeA" target="_blank" title="https://mp.weixin.qq.com/s/n1DqvgnDTFzpv9hJaudQeA" ref="nofollow noopener noreferrer">ã€ŠVue3 + Element Plus åŠ¨æ€èœå•å®ç°ï¼šä¸€å¥—ä»£ç å®Œç¾é€‚é…å¤šè§’è‰²æƒé™ç³»ç»Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F72THiVPtsrA2xvtHmdDLmA" target="_blank" title="https://mp.weixin.qq.com/s/72THiVPtsrA2xvtHmdDLmA" ref="nofollow noopener noreferrer">ã€ŠSpringBoot+Vue3 æ•´åˆ SSE å®ç°å®æ—¶æ¶ˆæ¯æ¨é€ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonåˆ¤æ–­è¯­å¥]]></title>    <link>https://juejin.cn/post/7572761792466468927</link>    <guid>https://juejin.cn/post/7572761792466468927</guid>    <pubDate>2025-11-17T02:08:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572761792466468927" data-draft-id="7572927004656615467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonåˆ¤æ–­è¯­å¥"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-17T02:08:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è†å¬å¹¸ç¦"/> <meta itemprop="url" content="https://juejin.cn/user/3440790288732348"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonåˆ¤æ–­è¯­å¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3440790288732348/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è†å¬å¹¸ç¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T02:08:26.000Z" title="Mon Nov 17 2025 02:08:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å¸ƒå°”ç±»å‹å’Œæ¯”è¾ƒè¿ç®—ç¬¦</h3>
<h4 data-id="heading-1">å¸ƒå°”ç±»å‹çš„å®šä¹‰ï¼š</h4>
<p>å¸ƒå°”ç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼šTrue å’Œ False
å¯ä»¥é€šè¿‡å®šä¹‰å˜é‡å­˜å‚¨å¸ƒå°”ç±»å‹æ•°æ®ï¼š
å˜é‡åç§° = å¸ƒå°”ç±»å‹å€¼ï¼ˆTrue/Falseï¼‰
å¸ƒå°”ç±»å‹ä¸ä»…å¯ä»¥è‡ªè¡Œå®šä¹‰ï¼ŒåŒæ—¶ä¹Ÿå¯é€šè¿‡è®¡ç®—è·å¾—ã€‚ä¹Ÿå°±æ˜¯é€šè¿‡æ¯”è¾ƒè¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒè¿ç®—å¾—åˆ°å¸ƒå°”ç±»å‹çš„ç»“æœã€‚</p>
<h4 data-id="heading-2">æ¯”è¾ƒè¿ç®—ç¬¦</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fb72d8db8874e34b3bed1c3fa324baa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IGG5ZCs5bm456aP:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763950106&amp;x-signature=DeCvDvXXgxcxKSPs7riJnm%2FeyyA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-3">å®ä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å¸ƒå°”ç±»å‹çš„å®šä¹‰å’Œæ¯”è¾ƒè¿ç®—ç¬¦åº”ç”¨
"""</span>
<span class="hljs-comment">#å®šä¹‰å˜é‡å­˜å‚¨å¸ƒå°”ç±»å‹çš„æ•°æ®</span>
bool_1 = <span class="hljs-literal">True</span>
bool_2 = <span class="hljs-literal">False</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"bool_1å˜é‡çš„å†…å®¹<span class="hljs-subst">{bool_1}</span>,ç±»å‹æ˜¯ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(bool_1)}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"bool_2å˜é‡çš„å†…å®¹<span class="hljs-subst">{bool_2}</span>,ç±»å‹æ˜¯ï¼š<span class="hljs-subst">{<span class="hljs-built_in">type</span>(bool_2)}</span>"</span>)
<span class="hljs-comment">#æ¯”è¾ƒè¿ç®—ç¬¦</span>
<span class="hljs-comment"># ==,!=,&gt;,&lt;,&gt;=,&lt;=</span>
num1 = <span class="hljs-number">10</span>
num2 = <span class="hljs-number">10</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 == 10çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1==num2}</span>"</span>)

num1 = <span class="hljs-number">10</span>
num2 = <span class="hljs-number">15</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 != 10çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1!=num2}</span>"</span>)

num1 = <span class="hljs-string">"Python"</span>
num2 = <span class="hljs-string">"Pythons"</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"Python == Pythonsçš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1==num2}</span>"</span>)

num1 = <span class="hljs-number">10</span>
num2 = <span class="hljs-number">5</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 &gt; 5çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1&gt;num2}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 &lt; 5çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1&lt;num2}</span>"</span>)

num1 = <span class="hljs-number">10</span>
num2 = <span class="hljs-number">10</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 &gt;= 10çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1&gt;num2}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"10 &lt;= 10çš„ç»“æœæ˜¯ï¼š<span class="hljs-subst">{num1&lt;num2}</span>"</span>)
</code></pre>
<p>ç»“æœ</p>
<pre><code class="hljs language-python" lang="python">D:\Study\PythonManage\.venv\Scripts\python.exe D:\Study\PythonManage\Demo\Demo1.py 
bool_1å˜é‡çš„å†…å®¹<span class="hljs-literal">True</span>,ç±»å‹æ˜¯ï¼š&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">'bool'</span>&gt;
bool_2å˜é‡çš„å†…å®¹<span class="hljs-literal">False</span>,ç±»å‹æ˜¯ï¼š&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">'bool'</span>&gt;
<span class="hljs-number">10</span> == <span class="hljs-number">10</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">True</span>
<span class="hljs-number">10</span> != <span class="hljs-number">10</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">True</span>
Python == Pythonsçš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">False</span>
<span class="hljs-number">10</span> &gt; <span class="hljs-number">5</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">True</span>
<span class="hljs-number">10</span> &lt; <span class="hljs-number">5</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">False</span>
<span class="hljs-number">10</span> &gt;= <span class="hljs-number">10</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">False</span>
<span class="hljs-number">10</span> &lt;= <span class="hljs-number">10</span>çš„ç»“æœæ˜¯ï¼š<span class="hljs-literal">False</span>
</code></pre>
<h3 data-id="heading-4">if è¯­å¥çš„åŸºæœ¬æ ¼å¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> è¦åˆ¤æ–­çš„æ¡ä»¶ï¼š
    æ¡ä»¶æˆç«‹æ—¶ï¼Œè¦åšçš„äº‹æƒ…


age = <span class="hljs-number">30</span>
<span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æˆ‘å·²ç»æˆå¹´äº†"</span>)
</code></pre>
<p>æ³¨æ„ï¼š
åˆ¤æ–­è¯­å¥çš„ç»“æœï¼Œå¿…é¡»æ—¶å¸ƒå°”ç±»å‹ True æˆ– False
True ä¼šæ‰§è¡Œ if å†…çš„ä»£ç è¯­å¥ï¼ŒFalse ä¸ä¼šæ‰§è¡Œ if å†…çš„è¯­å¥ã€‚
ç¡®è®¤æ˜¯å¦å½’å± if åˆ¤æ–­å†…çš„ä»£ç è¯­å¥å—ï¼Œéœ€è¦åœ¨å‰æ–¹å¡«å…… 4 ä¸ªç©ºæ ¼ç¼©è¿›
python é€šè¿‡ç©ºæ ¼ç¼©è¿›åˆ¤æ–­ä»£ç å—çš„å½’å±å…³ç³»</p>
<h3 data-id="heading-5">if  else è¯­å¥</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span>	æ¡ä»¶ï¼š
    æ»¡è¶³æ¡ä»¶è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    æ»¡è¶³æ¡ä»¶è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    â€¦â€¦
<span class="hljs-keyword">else</span>:
    ä¸æ»¡è¶³æ¡ä»¶è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    ä¸æ»¡è¶³æ¡ä»¶è¦åšçš„äº‹æƒ…<span class="hljs-number">2</span>
    â€¦â€¦
</code></pre>
<p>æ³¨æ„ï¼š
else åï¼Œä¸éœ€è¦åˆ¤æ–­æ¡ä»¶
å’Œ if çš„ä»£ç å—ä¸€æ ·ï¼Œelse çš„ä»£ç å—åŒæ ·éœ€è¦ 4 ä¸ªç©ºæ ¼ç¼©è¿›
å®ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¬¢è¿æ¥åˆ°å„¿ç«¥æ¸¸ä¹åœºï¼Œå„¿ç«¥å…è´¹ï¼Œæˆäººæ”¶è´¹"</span>)
<span class="hljs-comment">#è·å–è¾“å…¥çš„å¹´é¾„</span>
age = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š"</span>))
<span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦éœ€è¦æ”¶è´¹</span>
<span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¨å·²æˆå¹´ï¼Œéœ€è¦è¡¥ç¥¨10å…ƒ"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¨æœªæˆå¹´ï¼Œå¯ä»¥å…è´¹æ¸¸ç©"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¥æ‚¨æ¸¸ç©æ„‰å¿«ï¼"</span>)

è¾“å‡ºç»“æœï¼š
D:\Study\PythonManage\.venv\Scripts\python.exe D:\Study\PythonManage\Demo\Demo1.py 
æ¬¢è¿æ¥åˆ°å„¿ç«¥æ¸¸ä¹åœºï¼Œå„¿ç«¥å…è´¹ï¼Œæˆäººæ”¶è´¹
è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š<span class="hljs-number">30</span>
æ‚¨å·²æˆå¹´ï¼Œéœ€è¦è¡¥ç¥¨<span class="hljs-number">10</span>å…ƒ
ç¥æ‚¨æ¸¸ç©æ„‰å¿«ï¼
</code></pre>
<h3 data-id="heading-6">if elif else è¯­å¥</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span>	æ¡ä»¶<span class="hljs-number">1</span>ï¼š
    æ»¡è¶³æ¡ä»¶<span class="hljs-number">1</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    æ»¡è¶³æ¡ä»¶<span class="hljs-number">1</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    â€¦â€¦
<span class="hljs-keyword">elif</span> æ¡ä»¶<span class="hljs-number">2</span>:
    æ»¡è¶³æ¡ä»¶<span class="hljs-number">2</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    æ»¡è¶³æ¡ä»¶<span class="hljs-number">3</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    â€¦â€¦
<span class="hljs-keyword">else</span>:
    ä¸æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    ä¸æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶è¦åšçš„äº‹æƒ…<span class="hljs-number">2</span>
    â€¦â€¦
</code></pre>
<p>æ³¨æ„ï¼š
elif è¯­å¥æ˜¯å¯ä»¥å†™å¤šä¸ª
åˆ¤æ–­æ¡ä»¶æ˜¯äº’æ–¥å¹¶ä¸”æœ‰æ‰§è¡Œé¡ºåºçš„
æ»¡è¶³æ¡ä»¶ 1 å°†ä¸ä¼šåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ 2 åŠå…¶ä»–
ä¸æ»¡è¶³æ¡ä»¶ 1ï¼Œæ»¡è¶³æ¡ä»¶ 2 æ‰§è¡Œæ¡ä»¶ 2 å†…çš„ä»£ç å—ï¼Œä¸åˆ¤æ–­æ¡ä»¶ 2 åé¢çš„æ¡ä»¶
å¦‚æœå‰é¢çš„æ¡ä»¶å…¨éƒ¨åˆ¤æ–­ä¸ºä¸æ»¡è¶³ï¼Œåˆ™æ‰§è¡Œ else ä»£ç å—
else ä¹Ÿå¯ä»¥çœç•¥ä¸å†™ï¼Œæ•ˆæœç­‰åŒäºå¤šä¸ªç‹¬ç«‹çš„ if åˆ¤æ–­
åŒæ ·ç©ºæ ¼ç¼©è¿›ä¸èƒ½çœç•¥
å®ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">print</span>(<span class="hljs-string">"æ¬¢è¿æ¥åˆ°åŠ¨ç‰©å›­"</span>)

height = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„èº«é«˜ï¼ˆcmï¼‰ï¼š"</span>))
vip_level = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„vipç­‰çº§ï¼ˆ1-5ï¼‰ï¼š"</span>))

<span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦éœ€è¦æ”¶è´¹</span>
<span class="hljs-keyword">if</span> height &lt; <span class="hljs-number">120</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¨çš„èº«é«˜å°äº120cmï¼Œå¯ä»¥å…è´¹æ¸¸ç©"</span>)
<span class="hljs-keyword">elif</span> vip_level &gt; <span class="hljs-number">3</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¨çš„vipç­‰çº§å¤§äº3ï¼Œå¯ä»¥å…è´¹æ¸¸ç©"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸å¥½æ„æ€ï¼Œæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè¯·è´­ç¥¨ï¼"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¥æ‚¨æ¸¸ç©æ„‰å¿«ï¼"</span>)

è¾“å‡ºç»“æœï¼š
D:\Study\PythonManage\.venv\Scripts\python.exe D:\Study\PythonManage\Demo\Demo1.py 
æ¬¢è¿æ¥åˆ°åŠ¨ç‰©å›­
è¯·è¾“å…¥æ‚¨çš„èº«é«˜ï¼ˆcmï¼‰ï¼š<span class="hljs-number">170</span>
è¯·è¾“å…¥æ‚¨çš„vipç­‰çº§ï¼ˆ<span class="hljs-number">1</span>-<span class="hljs-number">5</span>ï¼‰ï¼š<span class="hljs-number">2</span>
ä¸å¥½æ„æ€ï¼Œæ‰€æœ‰æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè¯·è´­ç¥¨ï¼
ç¥æ‚¨æ¸¸ç©æ„‰å¿«ï¼
</code></pre>
<h3 data-id="heading-7">åˆ¤æ–­è¯­å¥çš„åµŒå¥—</h3>
<p>åœ¨å¾ˆå¤šåœºæ™¯ä¸­ï¼Œä¸ä»…æ˜¯å¤šä¸ªå¹¶åˆ—çš„åˆ¤æ–­ï¼Œè¿˜ä¼šæœ‰æ»¡è¶³å‰ç½®æ¡ä»¶åˆ¤æ–­ï¼Œæ‰ä¼šæ‰§è¡ŒäºŒæ¬¡åˆ¤æ–­ï¼Œè¿™ç§åœºæ™¯å¯é€šè¿‡åµŒå¥—åˆ¤æ–­å®ç°ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> æ¡ä»¶<span class="hljs-number">1</span>ï¼š
    æ»¡è¶³æ¡ä»¶<span class="hljs-number">1</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
    æ»¡è¶³æ¡ä»¶<span class="hljs-number">1</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">2</span>

    <span class="hljs-keyword">if</span> æ¡ä»¶<span class="hljs-number">2</span>:
        æ»¡è¶³æ¡ä»¶<span class="hljs-number">2</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">1</span>
        æ»¡è¶³æ¡ä»¶<span class="hljs-number">2</span>è¦åšçš„äº‹æƒ…<span class="hljs-number">2</span>
</code></pre>
<p>æ³¨æ„ï¼š
åµŒå¥—çš„å…³é”®åœ¨äºç©ºæ ¼ç¼©è¿›ï¼Œé€šè¿‡ç©ºæ ¼ç¼©è¿›æ¥ä½“ç°ä¸é€šè¿‡åˆ¤æ–­è¯­å¥ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ã€‚
å¦‚ä¸Šé¢ä»£ç æ‰€ç¤ºï¼š
åˆ¤æ–­æ¡ä»¶æœ‰ 2 å±‚
å½“å¤–å±‚ if æ»¡è¶³æ¡ä»¶æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ if åˆ¤æ–­å†…éƒ¨ä»£ç å—çš„æ¡ä»¶ 2 æ˜¯å¦æˆç«‹
å½“å¤–å±‚ if ä¸æ»¡è¶³æ¡ä»¶æ—¶ï¼Œç›´æ¥æ‰§è¡Œå¤–å±‚çš„ else ä»£ç å—ã€‚
å®ä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#è·å–è¾“å…¥çš„å¹´é¾„</span>
age = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š"</span>))
year = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„åœ¨èŒå¹´æ•°ï¼š"</span>))
level = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥æ‚¨çš„å²—ä½çº§åˆ«ï¼ˆ1-5ï¼‰ï¼š"</span>))

<span class="hljs-keyword">if</span> age &gt;= <span class="hljs-number">18</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æˆå¹´äººç¬¦åˆï¼Œç»§ç»­åˆ¤æ–­"</span>)
    <span class="hljs-keyword">if</span> age &lt; <span class="hljs-number">30</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¹´é¾„è¾¾æ ‡ï¼Œç»§ç»­åˆ¤æ–­"</span>)
        <span class="hljs-keyword">if</span> year &gt; <span class="hljs-number">2</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"å°äº30å²çš„æˆå¹´äººä¸”å…¥èŒè¶…è¿‡2å¹´ï¼Œæ»¡è¶³æ¡ä»¶ï¼Œå¯ä»¥é¢†å–"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"Sorry,å¹´é¾„ç¬¦åˆï¼Œä½†å…¥èŒæ—¶é—´ä¸è¶³"</span>)
    <span class="hljs-keyword">elif</span> level &gt; <span class="hljs-number">3</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"çº§åˆ«å¤§äº3çš„æˆå¹´äººå¯ä»¥ç›´æ¥é¢†å–"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ‚¨çš„è¿‡å¤§æˆ–çº§åˆ«å°äºç­‰3ï¼Œä¸å¯é¢†å–"</span>)
<span class="hljs-keyword">else</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Sorry,æœªæˆå¹´äººä¸å¯é¢†å–"</span>)

è¾“å‡ºç»“æœï¼š
D:\Study\PythonManage\.venv\Scripts\python.exe D:\Study\PythonManage\Demo\Demo1.py 
è¯·è¾“å…¥æ‚¨çš„å¹´é¾„ï¼š<span class="hljs-number">25</span>
è¯·è¾“å…¥æ‚¨çš„åœ¨èŒå¹´æ•°ï¼š<span class="hljs-number">3</span>
è¯·è¾“å…¥æ‚¨çš„å²—ä½çº§åˆ«ï¼ˆ<span class="hljs-number">1</span>-<span class="hljs-number">5</span>ï¼‰ï¼š<span class="hljs-number">2</span>
æˆå¹´äººç¬¦åˆï¼Œç»§ç»­åˆ¤æ–­
å¹´é¾„è¾¾æ ‡ï¼Œç»§ç»­åˆ¤æ–­
å°äº<span class="hljs-number">30</span>å²çš„æˆå¹´äººä¸”å…¥èŒè¶…è¿‡<span class="hljs-number">2</span>å¹´ï¼Œæ»¡è¶³æ¡ä»¶
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç½‘é¡µç‰ˆå¾®ä¿¡æ¥äº†ï¼æ— éœ€ä¸‹è½½å®‰è£…å®¢æˆ·ç«¯ï¼]]></title>    <link>https://juejin.cn/post/7572921387746377734</link>    <guid>https://juejin.cn/post/7572921387746377734</guid>    <pubDate>2025-11-17T01:58:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7572921387746377734" data-draft-id="7570162686580408362" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç½‘é¡µç‰ˆå¾®ä¿¡æ¥äº†ï¼æ— éœ€ä¸‹è½½å®‰è£…å®¢æˆ·ç«¯ï¼"/> <meta itemprop="keywords" content="Docker,å¾®ä¿¡,å®¹å™¨"/> <meta itemprop="datePublished" content="2025-11-17T01:58:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaé™ˆåºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/3958702402176765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç½‘é¡µç‰ˆå¾®ä¿¡æ¥äº†ï¼æ— éœ€ä¸‹è½½å®‰è£…å®¢æˆ·ç«¯ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3958702402176765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaé™ˆåºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-17T01:58:46.000Z" title="Mon Nov 17 2025 01:58:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-17
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ <code>Javaé™ˆåºå‘˜</code>ã€‚</p>
<p>ä½ æ˜¯å¦é‡åˆ°è¿‡ï¼šåœ¨å…¬å…±ç”µè„‘ä¸Šæƒ³ä¸´æ—¶ç”¨å¾®ä¿¡å´æ‹…å¿ƒè´¦å·å®‰å…¨ï¼ŒæœåŠ¡å™¨æˆ– Linux ç³»ç»Ÿä¸Šæ‰¾ä¸åˆ°åˆé€‚çš„å¾®ä¿¡å®¢æˆ·ç«¯ï¼Œæˆ–è€…æƒ³åœ¨å¤šä¸ªè®¾å¤‡ä¸Šä¾¿æ·è®¿é—®å¾®ä¿¡å´å—é™äºå®‰è£…ç¯å¢ƒï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªè¶…å®ç”¨çš„å¼€æºé¡¹ç›®ï¼Œè®©ä½ é€šè¿‡æµè§ˆå™¨å°±èƒ½è½»æ¾ä½¿ç”¨å¾®ä¿¡ï¼Œæ— éœ€åœ¨æœ¬åœ°å®‰è£…å®¢æˆ·ç«¯ï¼</p>
<h2 data-id="heading-0">é¡¹ç›®ä»‹ç»</h2>
<p><code>wechat-selkies</code> â€”â€” åŸºäº Docker çš„å¾®ä¿¡/QQ Linux å®¢æˆ·ç«¯ï¼Œå°†å®˜æ–¹å¾®ä¿¡/QQ Linux å®¢æˆ·ç«¯å°è£…åœ¨å®¹å™¨ä¸­ï¼Œå€ŸåŠ© Selkies WebRTC æŠ€æœ¯ï¼Œå®ç°äº†é€šè¿‡æµè§ˆå™¨ç›´æ¥è®¿é—®ä½¿ç”¨ã€‚</p>
<p><strong>åŠŸèƒ½ç‰¹è‰²</strong>ï¼š</p>
<ul>
<li><strong>æµè§ˆå™¨è®¿é—®</strong>ï¼šé€šè¿‡ Web æµè§ˆå™¨ç›´æ¥ä½¿ç”¨å¾®ä¿¡ï¼Œæ— éœ€æœ¬åœ°å®‰è£…</li>
<li><strong>DockeråŒ–éƒ¨ç½²</strong>ï¼šç®€å•çš„å®¹å™¨åŒ–éƒ¨ç½²ï¼Œç¯å¢ƒéš”ç¦»</li>
<li><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šæ”¯æŒé…ç½®å’ŒèŠå¤©è®°å½•æŒä¹…åŒ–å­˜å‚¨</li>
<li><strong>ä¸­æ–‡æ”¯æŒ</strong>ï¼šå®Œæ•´çš„ä¸­æ–‡å­—ä½“å’Œæœ¬åœ°åŒ–æ”¯æŒï¼Œæ”¯æŒæœ¬åœ°ä¸­æ–‡è¾“å…¥æ³•</li>
<li><strong>å›¾ç‰‡å¤åˆ¶</strong>ï¼šæ”¯æŒé€šè¿‡ä¾§è¾¹æ é¢æ¿å¼€å¯å›¾ç‰‡å¤åˆ¶</li>
<li><strong>æ–‡ä»¶ä¼ è¾“</strong>ï¼šæ”¯æŒé€šè¿‡ä¾§è¾¹æ é¢æ¿è¿›è¡Œæ–‡ä»¶ä¼ è¾“</li>
<li><strong>AMD64å’ŒARM64æ¶æ„æ”¯æŒ</strong>ï¼šå…¼å®¹ä¸»æµCPUæ¶æ„</li>
<li><strong>ç¡¬ä»¶åŠ é€Ÿ</strong>ï¼šå¯é€‰çš„ GPU ç¡¬ä»¶åŠ é€Ÿæ”¯æŒ</li>
<li><strong>çª—å£åˆ‡æ¢å™¨</strong>ï¼šå·¦ä¸Šè§’å¢åŠ åˆ‡æ¢æ‚¬æµ®çª—ï¼Œæ–¹ä¾¿åˆ‡æ¢åˆ°åå°çª—å£ï¼Œä¸ºåç»­æ·»åŠ å…¶å®ƒåŠŸèƒ½åšåŸºç¡€</li>
<li><strong>è‡ªåŠ¨å¯åŠ¨</strong>ï¼šå¯é…ç½®è‡ªåŠ¨å¯åŠ¨å¾®ä¿¡å’ŒQQå®¢æˆ·ç«¯ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<p><strong>æŠ€æœ¯æ ˆ</strong>ï¼š</p>
<ul>
<li><strong>åŸºç¡€é•œåƒ</strong>ï¼š<code>ghcr.io/linuxserver/baseimage-selkies:ubuntunoble</code></li>
<li><strong>å¾®ä¿¡å®¢æˆ·ç«¯</strong>ï¼šå®˜æ–¹å¾®ä¿¡ Linux ç‰ˆæœ¬</li>
<li><strong>Web æŠ€æœ¯</strong>ï¼šSelkies WebRTC</li>
<li><strong>å®¹å™¨åŒ–</strong>ï¼šDocker + Docker Compose</li>
</ul>
<h2 data-id="heading-1">å®‰è£…éƒ¨ç½²</h2>
<h3 data-id="heading-2">ç¯å¢ƒè¦æ±‚</h3>
<ul>
<li>Docker</li>
<li>Docker Compose</li>
<li>æ”¯æŒ WebRTC çš„ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safari ç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-3">Docker éƒ¨ç½²</h3>
<p>1ã€æ‹‰å–é•œåƒ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GitHub Container Registry é•œåƒ</span>
docker pull ghcr.io/nickrunning/wechat-selkies:latest

<span class="hljs-comment"># Docker Hub é•œåƒ</span>
docker pull ghcr.io/nickrunning/wechat-selkies:latest
</code></pre>
<p>2ã€åˆ›å»ºæŒ‚è½½ç›®å½•</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p /data/software/wechat/conf
</code></pre>
<p>3ã€è¿è¡Œå®¹å™¨</p>
<pre><code class="hljs language-bash" lang="bash">docker run -it -d \
	-p 3000:3000 \
	-p 3001:3001 \
	-v /data/software/wechat/conf:/config \
	--device /dev/dri:/dev/dri \
	nickrunning/wechat-selkies:latest
</code></pre>
<p>4ã€å®¹å™¨è¿è¡ŒæˆåŠŸåï¼Œæµè§ˆå™¨è®¿é—®</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># HTTP</span>
http://{ip/åŸŸå}:3000

<span class="hljs-comment"># HTTPS</span>
https://{ip/åŸŸå}:3001
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šæ˜ å°„ 3000 ç«¯å£ç”¨äº HTTP è®¿é—®ï¼Œ3001 ç«¯å£ç”¨äº HTTPS è®¿é—®ï¼Œ<strong>å»ºè®®ä½¿ç”¨ HTTPS.</strong></p>
</blockquote>
<h3 data-id="heading-4">Docker Compose éƒ¨ç½²</h3>
<p>1ã€åˆ›å»ºé¡¹ç›®ç›®å½•å¹¶è¿›å…¥</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p /data/software/wechat-selkies
<span class="hljs-built_in">cd</span> /data/software/wechat-selkies
</code></pre>
<p>2ã€åˆ›å»º docker-compose.yaml æ–‡ä»¶</p>
<pre><code class="hljs language-yaml" lang="yaml"> <span class="hljs-attr">services:</span>
   <span class="hljs-attr">wechat-selkies:</span>
     <span class="hljs-attr">image:</span> <span class="hljs-string">nickrunning/wechat-selkies:latest</span>    <span class="hljs-comment"># or ghcr.io/nickrunning/wechat-selkies:latest</span>
     <span class="hljs-attr">container_name:</span> <span class="hljs-string">wechat-selkies</span>
     <span class="hljs-attr">ports:</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">"3000:3000"</span>       <span class="hljs-comment"># http port</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">"3001:3001"</span>       <span class="hljs-comment"># https port</span>
     <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
     <span class="hljs-attr">volumes:</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">./config:/config</span>
     <span class="hljs-attr">devices:</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">/dev/dri:/dev/dri</span> <span class="hljs-comment"># optional, for hardware acceleration</span>
     <span class="hljs-attr">environment:</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">PUID=1000</span>                    <span class="hljs-comment"># user ID</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">PGID=100</span>                     <span class="hljs-comment"># group ID</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">TZ=Asia/Shanghai</span>             <span class="hljs-comment"># timezone</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">LC_ALL=zh_CN.UTF-8</span>           <span class="hljs-comment"># locale</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">AUTO_START_WECHAT=true</span>       <span class="hljs-comment"># default is true</span>
       <span class="hljs-bullet">-</span> <span class="hljs-string">AUTO_START_QQ=false</span>          <span class="hljs-comment"># default is false</span>
       <span class="hljs-comment"># - CUSTOM_USER=&lt;Your Name&gt;      # recommended to set a custom user name</span>
       <span class="hljs-comment"># - PASSWORD=&lt;Your Password&gt;     # recommended to set a password for selkies web ui</span>
</code></pre>
<p>3ã€å¯åŠ¨æœåŠ¡</p>
<pre><code class="hljs language-bash" lang="bash">docker-compose up -d
</code></pre>
<p>4ã€è¿è¡ŒæˆåŠŸåï¼Œæµè§ˆå™¨è®¿é—®</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># HTTP</span>
http://{ip/åŸŸå}:3000

<span class="hljs-comment"># HTTPS</span>
https://{ip/åŸŸå}:3001
</code></pre>
<h3 data-id="heading-5">æºç éƒ¨ç½²</h3>
<p>1ã€å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®æºç </p>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/nickrunning/wechat-selkies.git
<span class="hljs-built_in">cd</span> wechat-selkies
</code></pre>
<p>2ã€å¯åŠ¨æœåŠ¡</p>
<pre><code class="hljs language-bash" lang="bash">docker-compose up -d
</code></pre>
<p>3ã€è¿è¡ŒæˆåŠŸåï¼Œæµè§ˆå™¨è®¿é—®</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># HTTP</span>
http://{ip/åŸŸå}:3000

<span class="hljs-comment"># HTTPS</span>
https://{ip/åŸŸå}:3001
</code></pre>
<h3 data-id="heading-6">é…ç½®è¯´æ˜</h3>
<p>åœ¨ <code>docker-compose.yml</code> ä¸­å¯ä»¥é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š</p>























































<table><thead><tr><th>å˜é‡å</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>TITLE</td><td>WeChat Selkies</td><td>Web UI æ ‡é¢˜</td></tr><tr><td>PUID</td><td>1000</td><td>ç”¨æˆ· ID</td></tr><tr><td>PGID</td><td>100</td><td>ç»„ ID</td></tr><tr><td>TZ</td><td>Asia/Shanghai</td><td>æ—¶åŒºè®¾ç½®</td></tr><tr><td>LC_ALL</td><td>zh_CN.UTF-8</td><td>è¯­è¨€ç¯å¢ƒ</td></tr><tr><td>CUSTOM_USER</td><td>-</td><td>è‡ªå®šä¹‰ç”¨æˆ·åï¼ˆæ¨èè®¾ç½®ï¼‰</td></tr><tr><td>PASSWORD</td><td>-</td><td>Web UI è®¿é—®å¯†ç ï¼ˆæ¨èè®¾ç½®ï¼‰</td></tr><tr><td>AUTO_START_WECHAT</td><td>true</td><td>æ˜¯å¦è‡ªåŠ¨å¯åŠ¨å¾®ä¿¡å®¢æˆ·ç«¯</td></tr><tr><td>AUTO_START_QQ</td><td>false</td><td>æ˜¯å¦è‡ªåŠ¨å¯åŠ¨ QQ å®¢æˆ·ç«¯</td></tr></tbody></table>
<h2 data-id="heading-7">åŠŸèƒ½ä½“éªŒ</h2>
<p><code>wechat-selkies</code> éƒ¨ç½²æˆåŠŸåï¼Œå³å¯é€šè¿‡æµè§ˆå™¨è®¿é—®ã€‚</p>
<p>1ã€æ‰“å¼€åœ°å€åï¼Œéœ€è¦ä½¿ç”¨æ‰‹æœºå¾®ä¿¡è¿›è¡Œæ‰«ç ç™»å½•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca6fa9ae85a3419cab264e5214dbd79b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763949526&amp;x-signature=2H9zkL%2FA5xWSRvtu%2FNlOkRPG5r0%3D" alt="" loading="lazy"/></p>
<p>2ã€æ‰«ç ç™»å½•æˆåŠŸåï¼Œå³å¯å¼€å§‹ä½¿ç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c165368fa2c34590bf04dae7f7a4a4dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763949526&amp;x-signature=9xWRLH1sst03YXPJ8NswGF5Xu2w%3D" alt="" loading="lazy"/></p>
<p>3ã€åŒæ—¶æ”¯æŒæš—é»‘ä¸»é¢˜æ¨¡å¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da899123a03e4da399ae75dd8257aeb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763949526&amp;x-signature=MCV8TU58NHH8h2TmqXpg%2BjLYtVM%3D" alt="" loading="lazy"/></p>
<p>4ã€QQ åŒæ ·ä¹Ÿéœ€è¦è¿›è¡Œæ‰«ç ç™»å½•æˆ–è€…ä½¿ç”¨è´¦å¯†ç™»å½•</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fbdd23b73884682adf552356a0721fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763949526&amp;x-signature=fHM9e5IkcI41a2OKADFNmTNPchk%3D" alt="" loading="lazy"/></p>
<p>5ã€ç™»å½•æˆåŠŸåï¼Œå³å¯å¼€å§‹ä½¿ç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb5f8327e5f541208fae0d59599b914d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YemZiOW6j-WRmA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1763949526&amp;x-signature=WhOYvQ4h%2BxrWqdT%2B5g3tbWn1Is8%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³åœ¨ Linux ç³»ç»Ÿä½¿ç”¨å¾®ä¿¡æˆ–è€…æƒ³éšæ—¶éšåœ°ä¾¿æ·ä½¿ç”¨å¾®ä¿¡ï¼Œä¸å¦¨è¯•è¯• <code>wechat-selkies</code>, å¯ä»¥ä½¿ç”¨ Docker å¿«é€Ÿåœ°éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¿«å»è¯•è¯•å§~</p>
<pre><code class="hljs language-bash" lang="bash">é¡¹ç›®åœ°å€ï¼šhttps://github.com/nickrunning/wechat-selkies
</code></pre>
<h2 data-id="heading-8">æœ€å</h2>
<p>æ¨èçš„å¼€æºé¡¹ç›®å·²ç»æ”¶å½•åˆ° <code>GitHub</code> é¡¹ç›®ï¼Œæ¬¢è¿ <code>Star</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/chenyl8848/great-open-source-project
</code></pre>
<p>æˆ–è€…è®¿é—®ç½‘ç«™ï¼Œè¿›è¡Œåœ¨çº¿æµè§ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://chencoding.top:8090/<span class="hljs-comment">#/</span>
</code></pre>
<blockquote>
<p>å¤§å®¶çš„ç‚¹èµã€æ”¶è—å’Œè¯„è®ºéƒ½æ˜¯å¯¹ä½œè€…çš„æ”¯æŒï¼Œå¦‚æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©è¿˜è¯·ç‚¹èµè½¬å‘æ”¯æŒä¸‹ï¼Œè°¢è°¢ï¼</p>
</blockquote>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>