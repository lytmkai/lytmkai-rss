<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Pythonç¯å¢ƒå®‰è£…]]></title>    <link>https://juejin.cn/post/7586493936677732392</link>    <guid>https://juejin.cn/post/7586493936677732392</guid>    <pubDate>2025-12-22T15:16:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677732392" data-draft-id="7586493936677716008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonç¯å¢ƒå®‰è£…"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:16:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonç¯å¢ƒå®‰è£…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:16:34.000Z" title="Mon Dec 22 2025 15:16:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Anacondaï¼šå¤šç‰ˆæœ¬ç¯å¢ƒç®¡ç†</h2>
<h3 data-id="heading-1">ä¸€ã€ä¸‹è½½æ¸ é“é€‰æ‹©ï¼šä¼˜å…ˆé•œåƒæºï¼Œè§„é¿å®˜æ–¹ç—›ç‚¹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anaconda.com%2Fdownload%2Fsuccess" target="_blank" title="https://www.anaconda.com/download/success" ref="nofollow noopener noreferrer">Anaconda å®˜æ–¹ä¸‹è½½</a>å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>éœ€ç™»å½•è´¦å·æ‰èƒ½ä¸‹è½½ï¼›</li>
<li>æœåŠ¡å™¨åœ¨å¢ƒå¤–ï¼Œä¸‹è½½æ…¢ã€‚</li>
</ol>
<p><strong>æ¨èä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmirrors.tuna.tsinghua.edu.cn%2Fanaconda%2Farchive%2F" target="_blank" title="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" ref="nofollow noopener noreferrer">æ¸…åé•œåƒæº</a></strong>ï¼Œæ— éœ€ç™»å½•ï¼Œä¸‹è½½å¿«ã€‚</p>
<h3 data-id="heading-2">äºŒã€ç‰ˆæœ¬é€‰æ‹©å…³é”®ï¼šä»¥å‘å¸ƒæ—¥æœŸä¸ºå‡†ï¼Œä¼˜å…ˆæœ€æ–°ç‰ˆ</h3>
<p>æ³¨æ„ï¼šä¸è¦é€‰ç½‘é¡µæœ€åº•éƒ¨ç‰ˆæœ¬ï¼Œéœ€æŒ‰ã€Œå‘å¸ƒæ—¥æœŸã€é€‰æœ€æ–°ç‰ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8abfa762ea74bdfb015f629cd3d45ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5rOl56eN6I236Iqx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767021393&amp;x-signature=mPosae3%2FVJ%2F9in9BvWROqqptRJE%3D" alt="" loading="lazy"/></p>
<p>æ ¸å¿ƒï¼šä»¥å‘å¸ƒæ—¥æœŸåˆ¤æ–­ç‰ˆæœ¬ï¼Œä¼˜å…ˆæœ€æ–°ç‰ˆï¼Œé¿å…æ—§ç‰ˆå…¼å®¹æ€§é”™è¯¯ã€å®‰è£…å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-3">ä¸‰ã€æ§åˆ¶å°ä½¿ç”¨å‰ç½®ï¼šé…ç½®ç¯å¢ƒå˜é‡</h3>
<p>Anaconda å®‰è£…åéœ€é…ç½®ç¯å¢ƒå˜é‡ï¼Œå¦åˆ™æ— æ³•ç›´æ¥ä½¿ç”¨ conda å‘½ä»¤ã€‚</p>
<h4 data-id="heading-4">3.1 ç¯å¢ƒå˜é‡é…ç½®æ­¥éª¤</h4>
<ol>
<li>è¿›å…¥ï¼šè®¾ç½® â†’ ç³»ç»Ÿ â†’ å…³äº â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡ã€‚</li>
<li>ç¼–è¾‘ Path å˜é‡ï¼Œæ–°å¢ç¯å¢ƒå˜é‡è·¯å¾„ã€‚</li>
<li>ä¿å­˜ï¼Œé‡å¯æ§åˆ¶å°ç”Ÿæ•ˆã€‚</li>
</ol>
<h4 data-id="heading-5">3.2 é»˜è®¤ç¯å¢ƒå˜é‡è·¯å¾„ï¼ˆå‚è€ƒï¼‰</h4>
<p>é»˜è®¤è·¯å¾„ï¼ˆéœ€æ ¹æ®å®é™…å®‰è£…ç›®å½•è°ƒæ•´ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">C:\ProgramData\anaconda3
C:\ProgramData\anaconda3\Scripts
C:\ProgramData\anaconda3\Library\bin
</code></pre>
<h4 data-id="heading-6">3.3 å®‰è£…ä¸é…ç½®éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æµ‹æ˜¯å¦æ­£ç¡®å®‰è£…conda</span>
conda --version 
</code></pre>
<blockquote>
<p>æç¤ºï¼šè‹¥æç¤ºâ€œconda ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤â€ï¼Œæ£€æŸ¥è·¯å¾„æ˜¯å¦æ­£ç¡®æˆ–é‡å¯æ§åˆ¶å°ã€‚</p>
</blockquote>
<h2 data-id="heading-7">uvï¼šæ–°ä¸€ä»£é«˜æ€§èƒ½PythonåŒ…ç®¡ç†å™¨</h2>
<p>uv ç”± Astral å…¬å¸åŸºäº Rust å¼€å‘ï¼Œå…¼å®¹ pip ä½¿ç”¨ä¹ æƒ¯ï¼Œæ ¸å¿ƒä¼˜åŠ¿ä¸º<strong>å®‰è£…é€Ÿåº¦æå¿«ã€å†…å­˜å ç”¨ä½ã€å†…ç½®è™šæ‹Ÿç¯å¢ƒç®¡ç†</strong>ï¼Œæ˜¯ pip/venv çš„é«˜æ•ˆæ›¿ä»£æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-8">ä¸€ã€å®‰è£…uvï¼šä¼˜å…ˆé•œåƒæºï¼Œè§„é¿ä¸‹è½½è¶…æ—¶</h3>
<p>ç›´æ¥ä»å®˜æ–¹æºå®‰è£…æ˜“å› ç½‘ç»œé—®é¢˜è¶…æ—¶ï¼Œæ¨èä½¿ç”¨å›½å†…é•œåƒæºï¼ŒWindows/macOS/Linux é€šç”¨ã€‚</p>
<h4 data-id="heading-9">1.1 é•œåƒæºå®‰è£…å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ¸…åPyPIé•œåƒå®‰è£…ï¼ˆæ¨èï¼‰</span>
pip3 install uv -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<h4 data-id="heading-10">1.2 å®‰è£…éªŒè¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œæ­£å¸¸æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸ</span>
uv --version
</code></pre>
<blockquote>
<p>æç¤ºï¼šè‹¥Windowsç³»ç»Ÿæç¤ºâ€œuv ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤â€ï¼Œéœ€æ£€æŸ¥Pythonçš„Scriptsç›®å½•ï¼ˆå¦‚C:\ProgramData\anaconda3\Scriptsï¼‰æ˜¯å¦åŠ å…¥ç¯å¢ƒå˜é‡ï¼Œæˆ–é‡å¯ç»ˆç«¯ã€‚</p>
</blockquote>
<h3 data-id="heading-11">äºŒã€é¡¹ç›®ä¸­ä½¿ç”¨uv</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ–é¡¹ç›®</span>
uv init project_demo
</code></pre>
<p>é…ç½®é¡¹ç›®uvé•œåƒé…ç½®ï¼Œé…ç½®<code>pyproject.toml</code>æ–‡ä»¶</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[project]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"project_demo"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">requires-python</span> = <span class="hljs-string">"&gt;=3.13"</span>

<span class="hljs-section">[tool.uv]</span>
<span class="hljs-attr">index-url</span> = <span class="hljs-string">"https://pypi.tuna.tsinghua.edu.cn/simple"</span>

</code></pre>
<h3 data-id="heading-12">ä¸‰ã€å¸¸è§é—®é¢˜è§£å†³</h3>
<h4 data-id="heading-13">3.1 å®‰è£…æ—¶æƒé™ä¸è¶³</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ========== æ–¹å¼1ï¼šä»…å½“å‰ç”¨æˆ·å®‰è£…ï¼ˆæ— éœ€ç®¡ç†å‘˜æƒé™ï¼‰ ==========</span>
<span class="hljs-comment"># ç‰¹ç‚¹ï¼šå®‰è£…åˆ°å½“å‰ç”¨æˆ·ä¸“å±ç›®å½•ï¼Œä¸å½±å“å…¶ä»–ç”¨æˆ·ï¼Œæ— éœ€ç®¡ç†å‘˜æƒé™</span>
<span class="hljs-comment"># æ³¨æ„ï¼šå®‰è£…åéœ€æ‰‹åŠ¨å°†ä¸Šè¿°è·¯å¾„æ·»åŠ åˆ°ã€Œç”¨æˆ·ç¯å¢ƒå˜é‡Pathã€ï¼Œå¦åˆ™æ— æ³•ç›´æ¥ä½¿ç”¨uvå‘½ä»¤</span>
pip3 install --user uv -i https://pypi.tuna.tsinghua.edu.cn/simple

<span class="hljs-comment"># ========== æ–¹å¼2ï¼šå…¨å±€å®‰è£…ï¼ˆæ‰€æœ‰ç”¨æˆ·å¯ç”¨ï¼Œæ¨èï¼‰ ==========</span>
<span class="hljs-comment"># ç‰¹ç‚¹ï¼šå®‰è£…åˆ°Pythonå…¨å±€ç›®å½•ï¼Œæ‰€æœ‰ç™»å½•è¯¥ç”µè„‘çš„ç”¨æˆ·å‡å¯ä½¿ç”¨ï¼Œéœ€ç®¡ç†å‘˜æƒé™</span>
<span class="hljs-comment"># å‰ç½®æ“ä½œï¼šå¿…é¡»å³é”®ã€Œå‘½ä»¤æç¤ºç¬¦ã€â†’ã€Œä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€åæ‰§è¡Œæ­¤å‘½ä»¤</span>
pip3 install uv -i https://pypi.tuna.tsinghua.edu.cn/simple
</code></pre>
<h2 data-id="heading-14">Ruffï¼šä»£ç æ ¼å¼åŒ–å·¥å…·</h2></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Andrej Karpathy:2025å¹´å¤§æ¨¡å‹å‘å±•æ€»ç»“]]></title>    <link>https://juejin.cn/post/7586491717873860627</link>    <guid>https://juejin.cn/post/7586491717873860627</guid>    <pubDate>2025-12-22T15:19:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717873860627" data-draft-id="7585502118459752467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Andrej Karpathy:2025å¹´å¤§æ¨¡å‹å‘å±•æ€»ç»“"/> <meta itemprop="keywords" content="GitHub,åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:19:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èµ›åšä¸œå“¥CyberFD"/> <meta itemprop="url" content="https://juejin.cn/user/4323692639162087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Andrej Karpathy:2025å¹´å¤§æ¨¡å‹å‘å±•æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4323692639162087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èµ›åšä¸œå“¥CyberFD
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:19:40.000Z" title="Mon Dec 22 2025 15:19:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e4eeee8cdc7439f805c86d3ae6e6b8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LWb5Y2a5Lic5ZOlQ3liZXJGRA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767021580&amp;x-signature=QHf8ELuCJNP9jnX0rHzMZAgEZFw%3D" alt="image.png" loading="lazy"/></p>
<p>2025 å¹´ï¼Œæ— ç–‘æ˜¯å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰é¢†åŸŸçš„ä¸€å¹´ï¼ŒæŠ€æœ¯è¿›å±•è¿…é€Ÿä¸”å……æ»¡å˜é©ã€‚ä»è®­ç»ƒæ–¹æ³•çš„åˆ›æ–°åˆ°å…¨æ–°åº”ç”¨å±‚æ¬¡çš„è¯ç”Ÿï¼Œè¡Œä¸šæ ¼å±€å‘ç”Ÿäº†æ·±åˆ»çš„å˜åŒ–ã€‚AI é¢†åŸŸç¬¬ä¸€ KOL <strong>Andrej Karpathy</strong> å‘è¡¨è‡ªå·±é’ˆå¯¹ 2025 å¹´ AI å‘å±•çš„å›é¡¾</p>
<p>æˆ‘å°†ä»æˆ‘ä¸ªäººè§’åº¦ï¼Œåˆ†ææ–‡ç« ä¸­æåˆ°çš„å…³é”®æŠ€æœ¯ã€è¶‹åŠ¿å’Œå®é™…åº”ç”¨ï¼Œè·Ÿç€ä¸€èµ·å›é¡¾ä¸€ä¸‹ 2025 å¹´çš„ AI ä¹‹è·¯</p>
<h3 data-id="heading-0">1. RLVRï¼šå¯éªŒè¯å¥–åŠ±ä¸‹çš„â€œæ¨ç†æ—¶åˆ»â€</h3>
<p>åœ¨ 2025 å¹´åˆï¼Œå¤§æ¨¡å‹çš„æ ‡å‡†ç”Ÿäº§çº¿è¿˜æ˜¯â€œé¢„è®­ç»ƒï¼ˆPretrainingï¼‰+ æŒ‡ä»¤å¾®è°ƒï¼ˆSFTï¼‰+ äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰â€ã€‚è¿™å¥—æµç¨‹è™½ç„¶ç¨³å®šï¼Œä½†æ½œåŠ›å·²è¿‘è§¦é¡¶ã€‚</p>
<p>ä»Šå¹´ï¼Œ<strong>RLVRï¼ˆåŸºäºå¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ï¼‰</strong> Â æ­£å¼å…¥åœºï¼Œæˆä¸ºå¤§æ¨¡å‹è®­ç»ƒçš„æ–°æ ‡é…ã€‚é€šè¿‡åœ¨æ•°å­¦ã€ä»£ç ç­‰å…·å¤‡â€œå®¢è§‚çœŸç†æ ‡å‡†â€çš„ç¯å¢ƒä¸­è¿›è¡Œå¼ºåŒ–å­¦ä¹ ï¼Œæ¨¡å‹è‡ªå‘æ¼”åŒ–å‡ºäº†ç±»ä¼¼äººç±»çš„â€œæ¨ç†â€èƒ½åŠ›ã€‚å®ƒä»¬å­¦ä¼šäº†è‡ªæˆ‘çº é”™ã€æ­¥éª¤æ‹†è§£ä»¥åŠå¤šè·¯å¾„å°è¯•ã€‚</p>
<p><strong>æ ¸å¿ƒå˜åŒ–ï¼š</strong></p>
<ul>
<li><strong>DeepSeek R1 ä¸ OpenAI o1/o3</strong>Â è¯æ˜äº†è¿™ä¸€ç‚¹ï¼šæ¨ç†ä¸å†æ˜¯å•çº¯çš„æ–‡æœ¬æ¨¡ä»¿ï¼Œè€Œæ˜¯ä¼˜åŒ–ç›®æ ‡é©±åŠ¨ä¸‹çš„ç­–ç•¥å‘ç°ã€‚</li>
<li><strong>ç®—åŠ›åˆ†é…é‡æ„</strong>ï¼šè¿‡å»ç®—åŠ›ä¸»è¦å †åœ¨é¢„è®­ç»ƒé˜¶æ®µï¼Œç°åœ¨å¤§é‡ç®—åŠ›å‘ RLVR å€¾æ–œã€‚ä¸šå†…å‘ç°ï¼Œåœ¨å¯éªŒè¯é¢†åŸŸï¼ŒRL çš„æŠ•å…¥äº§å‡ºæ¯”ï¼ˆCapability/$ï¼‰æé«˜ã€‚</li>
<li><strong>æ–° Scaling Law</strong>ï¼šæˆ‘ä»¬æ‹¥æœ‰äº†ä¸€ä¸ªæ§åˆ¶æ¨¡å‹èƒ½åŠ›çš„æ–°æ—‹é’®â€”â€”<strong>æ¨ç†æ—¶ç®—åŠ›ï¼ˆTest-time computeï¼‰</strong> ã€‚é€šè¿‡å¢åŠ æ¨¡å‹çš„â€œæ€è€ƒæ—¶é—´â€ï¼Œæ€§èƒ½å¯ä»¥å®ç°éçº¿æ€§å¢é•¿ã€‚</li>
</ul>
<h3 data-id="heading-1">2. â€œå¬å”¤å¹½çµâ€è€Œéâ€œé©¯åŒ–åŠ¨ç‰©â€ï¼šå‚å·®ä¸é½çš„æ™ºèƒ½</h3>
<p>2025 å¹´ï¼Œæˆ‘ä»¬ç»ˆäºçœ‹æ¸…äº† AI æ™ºèƒ½çš„åº•è‰²ï¼šæˆ‘ä»¬ä¸æ˜¯åœ¨â€œå…»è‚²åŠ¨ç‰©â€ï¼Œè€Œæ˜¯åœ¨â€œå¬å”¤å¹½çµâ€ã€‚</p>
<p>äººç±»å¤§è„‘çš„è¿›åŒ–æ˜¯ä¸ºäº†åœ¨ä¸›æ—ä¸­ç”Ÿå­˜ï¼Œè€Œ LLM çš„ç¥ç»å…ƒæ˜¯ä¸ºäº†æ¨¡æ‹Ÿäººç±»æ–‡æœ¬ã€è§£å†³æ•°å­¦è°œé¢˜ã€åœ¨ LM Arena ä¸­åšå–äººç±»çš„å¥½æ„Ÿã€‚è¿™ç§å®Œå…¨ä¸åŒçš„åº•å±‚é€»è¾‘ï¼Œå¯¼è‡´äº†Â  <strong>â€œé”¯é½¿çŠ¶æ™ºèƒ½â€ï¼ˆJagged Intelligenceï¼‰</strong> Â çš„å‡ºç°ï¼šæ¨¡å‹å¯èƒ½åœ¨é‡å­ç‰©ç†é¢†åŸŸæ˜¯å¤©æ‰ï¼Œä½†åœ¨å¤„ç†ç®€å•çš„é€»è¾‘é™·é˜±æˆ–é˜²å¾¡è¶Šç‹±æ”»å‡»æ—¶ï¼Œå´åƒä¸ªå¿ƒæ™ºä¸å…¨çš„å°å­¦ç”Ÿã€‚</p>
<p><strong>å…³äº Benchmark çš„å¹»ç­ï¼š</strong> Â ç”±äº RLVR çš„æ™®åŠï¼Œåˆ·æ¦œï¼ˆBenchmaxxingï¼‰å˜å¾—ç©ºå‰ç®€å•ã€‚åªè¦ç¯å¢ƒå¯éªŒè¯ï¼Œæ¨¡å‹å°±èƒ½é€šè¿‡ RL å¿«é€Ÿè¦†ç›–è¿™äº›çŸ¥è¯†ç›²ç‚¹ã€‚</p>
<p>ç°åœ¨çš„å…±è¯†æ˜¯ï¼š<strong>é«˜åˆ†ä¸ä»£è¡¨ AGI</strong>ã€‚ä¸€äº›å®éªŒå®¤æ­£åœ¨é€šè¿‡åˆ¶é€ å¤§é‡åˆæˆæ•°æ®æ¥â€œä¿®å‰ªâ€è¿™äº›æ™ºèƒ½é”¯é½¿ï¼Œè¯•å›¾è®©æ¨¡å‹åœ¨æŸäº›ç‰¹å®šé¢†åŸŸå‘ˆç°å‡ºè¶…è¶Šå¸¸äººçš„ç»Ÿæ²»åŠ›ã€‚</p>
<h3 data-id="heading-2">3.Â <strong>Cursor ä¸ LLM åº”ç”¨çš„æ–°å±‚æ¬¡</strong></h3>
<p>Cursor çš„çˆ†å‘æ­ç¤ºäº†ä¸€ä¸ªæ®‹é…·ä½†æ¸…æ™°çš„ç°å®ï¼šçº¯åŒ…è£…ï¼ˆWrapperï¼‰æ²¡æœ‰æœªæ¥ï¼Œä½†<strong>æ·±åº¦å‚ç›´çš„ç¼–æ’å±‚ï¼ˆOrchestration Layerï¼‰</strong> å¤§æœ‰å¯ä¸ºã€‚</p>
<p>ç°åœ¨çš„å¼€å‘è€…ä¸å†åªæ˜¯è°ˆè®ºâ€œæ¥å…¥ APIâ€ï¼Œè€Œæ˜¯è®¨è®ºâ€œåšä¸€ä¸ª X è¡Œä¸šçš„ Cursorâ€ã€‚è¿™ç±»åº”ç”¨çš„æ ¸å¿ƒç«äº‰åŠ›åœ¨äºï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ˆContext Engineeringï¼‰</strong> ï¼šå¦‚ä½•æ›´ç²¾å‡†åœ°å–‚å…¥æ•°æ®ã€‚</li>
<li><strong>å¤æ‚ä»»åŠ¡ç¼–æ’</strong>ï¼šå°† LLM è°ƒç”¨ä¸²è”æˆå¤æ‚çš„ DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰ï¼Œåœ¨æ€§èƒ½ä¸æˆæœ¬é—´èµ°é’¢ä¸ã€‚</li>
<li><strong>åŸç”Ÿ GUI ä¸äº¤äº’</strong>ï¼šä¸å†ä»…ä»…æ˜¯å¯¹è¯æ¡†ï¼Œè€Œæ˜¯ä¸ºç‰¹å®šåœºæ™¯å®šåˆ¶çš„æ“ä½œç•Œé¢ã€‚</li>
<li><strong>è‡ªä¸»æƒæ»‘å—ï¼ˆAutonomy Sliderï¼‰</strong> ï¼šè®©ç”¨æˆ·åœ¨â€œè¾…åŠ©æ‰§è¡Œâ€ä¸â€œå…¨è‡ªåŠ¨ä»£ç†â€ä¹‹é—´è‡ªç”±åˆ‡æ¢ã€‚</li>
</ul>
<p>ä»äº§å“è§†è§’æ¥çœ‹ï¼Œå¤§æ¨¡å‹å‚å•†è´Ÿè´£äº¤ä»˜â€œé€šæ‰å¤§å­¦ç”Ÿâ€ï¼Œè€Œå‚ç›´ App è´Ÿè´£å°†è¿™äº›å¤§å­¦ç”Ÿç»„ç»‡æˆä¸“ä¸šçš„ã€å¯äº¤ä»˜ä¸šåŠ¡ä»·å€¼çš„â€œä¸“ä¸šå›¢é˜Ÿâ€ã€‚</p>
<h3 data-id="heading-3">4. Claude Codeï¼šå›å½’ Localhost çš„ Agent</h3>
<p>Claude Codeï¼ˆCCï¼‰çš„å‡ºç°ï¼Œç»™â€œä»€ä¹ˆæ‰æ˜¯çœŸæ­£çš„ Agentâ€æ‰“äº†ä¸ªæ ·ã€‚ä¸ OpenAI æ‰§ç€äºäº‘ç«¯å®¹å™¨ï¼ˆCloud-basedï¼‰çš„æ€è·¯ä¸åŒï¼ŒCC é€‰æ‹©è¿è¡Œåœ¨ç”¨æˆ·çš„<strong>æœ¬åœ°ç¯å¢ƒï¼ˆLocalhostï¼‰</strong> ã€‚</p>
<p>è¿™ç§â€œæ¥åœ°æ°”â€çš„åšæ³•è§£å†³äº†ä¸¤ä¸ªç—›ç‚¹ï¼š<strong>éšç§ä¸ä¸Šä¸‹æ–‡</strong>ã€‚</p>
<p>Agent å¯ä»¥ç›´æ¥è¯»å–ä½ çš„ç§æœ‰ä»£ç åº“ã€è°ƒç”¨æœ¬åœ°ç¼–è¯‘å™¨ã€æ„Ÿå—ä½ çš„å¼€å‘ç¯å¢ƒã€‚</p>
<p>å®ƒä¸å†æ˜¯æµè§ˆå™¨é‡Œä¸€ä¸ªå†°å†·çš„ç½‘é¡µï¼Œè€Œæ˜¯ä¸€ä¸ªâ€œä½â€åœ¨ä½ ç”µè„‘é‡Œçš„<strong>æ•°å­—ç²¾çµ</strong>ï¼Œä¸ä½ å¹¶è‚©ä½œæˆ˜ã€‚è¿™æ ‡å¿—ç€ AI äº¤äº’èŒƒå¼çš„è½¬ç§»ï¼šä»â€œå»ä¸­å¿ƒåŒ–çš„äº‘æœåŠ¡â€å›å½’åˆ°â€œä¸ªæ€§åŒ–çš„æœ¬åœ°åŠ©æ‰‹â€ã€‚</p>
<h3 data-id="heading-4">5. Vibe Codingï¼šä»£ç çš„â€œå¿«æ¶ˆå“åŒ–â€</h3>
<p>2025 å¹´ï¼Œâ€œVibe Codingâ€ï¼ˆæ°›å›´æ„Ÿç¼–ç¨‹ï¼‰ä»ä¸€ä¸ªæ¨ç‰¹çƒ­æ¢—å˜æˆäº†ç°å®ã€‚ å½“ AI çš„ç”Ÿæˆèƒ½åŠ›è·¨è¿‡ä¸´ç•Œç‚¹ï¼Œç¼–ç¨‹çš„é—¨æ§›å´©å¡Œäº†ã€‚ä½ ä¸éœ€è¦ç²¾é€š Rust æˆ– C++ï¼Œåªè¦é€»è¾‘æ¸…æ™°ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€å°±èƒ½æŒ‡æŒ¥ AI ç¼–ç»‡å‡ºå¤æ‚çš„ç¨‹åºã€‚</p>
<p>è¿™å¸¦æ¥äº†è½¯ä»¶ç”Ÿäº§é€»è¾‘çš„å·¨å˜ï¼š</p>
<ul>
<li><strong>ä»£ç ä¸å†â€œæ˜‚è´µâ€</strong> ï¼šè¿‡å»å†™ä¸€ä¸ªå·¥å…·éœ€è¦æƒè¡¡ ROIï¼Œç°åœ¨ä»£ç æ˜¯å»‰ä»·çš„ã€ç¬æ—¶çš„ã€ç”¨å®Œå³å¼ƒçš„ã€‚</li>
<li><strong>äººäººéƒ½æ˜¯å¼€å‘è€…</strong>ï¼šè¿™ç§æŠ€æœ¯æ‰©æ•£è®©æ™®é€šäººçš„è·ç›Šè¿œè¶…ä¸“ä¸šäººå£«ï¼Œå®ƒæ‰“ç ´äº†æŠ€èƒ½å£å’ã€‚</li>
<li><strong>è½¯ä»¶åœ°è²Œé‡å¡‘</strong>ï¼šæˆ‘ä»¬ä¼šçœ‹åˆ°å¤§é‡â€œä¸€æ¬¡æ€§è½¯ä»¶â€æˆ–â€œæåº¦ä¸ªæ€§åŒ–è½¯ä»¶â€çš„è¯ç”Ÿã€‚</li>
</ul>
<h3 data-id="heading-5">6. Nano Banana ä¸ LLM çš„å›¾å½¢ç•Œé¢</h3>
<p>2025 å¹´ï¼Œ<strong>Google Gemini Nano Banana</strong> çš„æ¨å‡ºå±•ç¤ºäº† LLM çš„å¦ä¸€ä¸ªé©å‘½æ€§è¿›å±•ã€‚</p>
<p>åœ¨è¿‡å»çš„è®¡ç®—æœºå‘å±•å†ç¨‹ä¸­ï¼Œå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ä¸ºè®¡ç®—æœºæ“ä½œæä¾›äº†ç›´è§‚å’Œé«˜æ•ˆçš„äº¤äº’æ–¹å¼ã€‚åŒæ ·ï¼Œ</p>
<p>LLM çš„å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰ä¹Ÿå¼€å§‹å´­éœ²å¤´è§’ï¼Œå‘ˆç°å‡ºå¤šç§å½¢å¼çš„äº’åŠ¨æ–¹å¼ï¼Œå¦‚å›¾åƒç”Ÿæˆã€ä¿¡æ¯å›¾è¡¨ã€å¹»ç¯ç‰‡å’Œè§†é¢‘ç­‰ã€‚è¿™ç§å›¾å½¢åŒ–çš„äº¤äº’æ¨¡å¼ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿæ›´åŠ è‡ªç„¶åœ°ä¸ LLM è¿›è¡Œäº’åŠ¨ã€‚</p>
<p><strong>Nano Banana</strong> çš„å‡ºç°åªæ˜¯è¿™ä¸€è¶‹åŠ¿çš„å¼€å§‹ï¼Œå®ƒé€šè¿‡å›¾åƒç”Ÿæˆã€æ–‡æœ¬ç”Ÿæˆå’ŒçŸ¥è¯†æ•´åˆçš„ç»“åˆï¼Œé¢„ç¤ºäº†æœªæ¥ LLM å›¾å½¢ç•Œé¢å¯èƒ½çš„å¤šæ ·æ€§ã€‚</p>
<p>æœ€ç»ˆï¼ŒLLM å¯èƒ½ä¸å†ä»…ä»…æ˜¯é€šè¿‡æ–‡æœ¬è¾“å…¥æ¥è¿›è¡Œäº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡æ›´åŠ ç›´è§‚å’Œè§†è§‰åŒ–çš„æ–¹å¼ä¸ç”¨æˆ·æ²Ÿé€šã€‚</p>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>2025 å¹´å¯¹äº LLM é¢†åŸŸæ¥è¯´ï¼Œæ˜¯å……æ»¡å˜é©çš„ä¸€å¹´ã€‚ä»Â <strong>RLVR</strong> çš„å¼•å…¥åˆ°Â <strong>Vibe Coding</strong> çš„æ™®åŠï¼Œä»<strong>æœ¬åœ° AI Agent</strong> åˆ°Â <strong>LLM åº”ç”¨çš„å±‚æ¬¡åŒ–å‘å±•</strong>ï¼ŒæŠ€æœ¯çš„æ¯ä¸€æ¬¡çªç ´éƒ½ä¸ºæœªæ¥çš„äººå·¥æ™ºèƒ½å‘å±•å¥ å®šäº†æ›´æ·±çš„åŸºç¡€ã€‚è™½ç„¶ LLM çš„èƒ½åŠ›å·²ç»å–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä½†ä»æŠ€æœ¯çš„æ·±åº¦å’Œå®é™…åº”ç”¨çš„å¹¿åº¦æ¥çœ‹ï¼ŒLLM é¢†åŸŸä»ç„¶æœ‰ç€å·¨å¤§çš„å‘å±•ç©ºé—´ã€‚åœ¨æœªæ¥ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥æœŸå¾…æŠ€æœ¯è¿›æ­¥çš„åŠ é€Ÿï¼Œè¿˜å°†è§è¯ AI ä¸æˆ‘ä»¬çš„ç”Ÿæ´»ã€å·¥ä½œæ–¹å¼æ›´åŠ ç´§å¯†åœ°èåˆã€‚</p>
<h3 data-id="heading-7">æœ€åï¼Œè°ˆè°ˆå¯¹ AI äº§å“è½åœ°çš„å¯å‘</h3>
<ol>
<li><strong>ä»â€œå¯¹è¯æ¡†â€æ€ç»´è½¬å‘â€œAgent ç¼–æ’â€æ€ç»´</strong>ï¼šä¸è¦å†æ‰§ç€äºå¦‚ä½•è°ƒä¼˜ Prompt è®©æ¨¡å‹å›ç­”å¾—æ›´å¥½ï¼Œè€Œè¦æ€è€ƒå¦‚ä½•æ„å»ºä¸€å¥—é—­ç¯çš„åé¦ˆç¯å¢ƒï¼ˆVerifiable Environmentï¼‰ï¼Œåˆ©ç”¨ RL çš„æ€è·¯è®©æ¨¡å‹åœ¨ç‰¹å®šä¸šåŠ¡åœºæ™¯ä¸‹è¿›è¡Œâ€œè‡ªæˆ‘è¿›åŒ–â€ï¼Œä¸ä¸€å®šæ˜¯æŠ€æœ¯ä¸Šé—­ç¯ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸šåŠ¡ä¸Šçš„é—­ç¯ï¼Œåªè¦èƒ½æŒç»­æ¨åŠ¨ Agent åº”ç”¨è¿­ä»£è¿›æ­¥ã€‚</li>
<li><strong>æŠ“ä½â€œæœ¬åœ°åŒ–ä¸Šä¸‹æ–‡â€çš„æœºä¼š</strong>ï¼šClaude Code çš„æˆåŠŸæé†’æˆ‘ä»¬ï¼ŒçœŸæ­£çš„æ€æ‰‹çº§ Agent å¯èƒ½ä¸éœ€è¦è·‘åœ¨äº‘ç«¯ï¼Œè€Œæ˜¯éœ€è¦æ·±åº¦åµŒå…¥ç”¨æˆ·çš„å·¥ä½œæµå’Œæœ¬åœ°æ•°æ®ã€‚ç§åŸŸæ•°æ®å’Œæœ¬åœ°ç¯å¢ƒçš„æ“ä½œæƒï¼Œæ˜¯å¯¹æŠ—å¤§æ¨¡å‹å‚å•†â€œæ”¶å‰²â€çš„æŠ¤åŸæ²³ã€‚</li>
<li><strong>é‡æ–°å®šä¹‰è½¯ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šå¦‚æœä»£ç å·²ç»å˜æˆâ€œç¬æ—¶ä¸”å…è´¹â€çš„èµ„æºï¼Œæˆ‘ä»¬çš„é‡å¿ƒåº”ä»â€œå¦‚ä½•äº¤ä»˜ç¨³å®šçš„åŠŸèƒ½â€è½¬å‘â€œå¦‚ä½•æä¾›æ›´ç²¾å‡†çš„äº¤äº’æ„å›¾ç†è§£â€ã€‚åœ¨ Vibe Coding æ—¶ä»£ï¼Œ<strong>å®¡ç¾ã€é€»è¾‘æŠ½è±¡èƒ½åŠ›å’Œå¯¹ç”¨æˆ·ç—›ç‚¹çš„æ´å¯Ÿ</strong>ï¼Œæ¯”å·¥ç¨‹å®ç°èƒ½åŠ›æ›´é‡è¦ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0b370270b274e06b06f33b50df1e1aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6LWb5Y2a5Lic5ZOlQ3liZXJGRA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767021580&amp;x-signature=mwZac1G6k4%2Bay8%2FMRzTIEtT700I%3D" alt="Gemini_Generated_Image_1vsa881vsa881vsa.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ç³Ÿç³•ï¼Œæˆ‘å®ç°çš„k8s informerå¥½åƒæ˜¯ä¾æ‰˜ç­”è¾©]]></title>    <link>https://juejin.cn/post/7586493936677748776</link>    <guid>https://juejin.cn/post/7586493936677748776</guid>    <pubDate>2025-12-22T15:26:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677748776" data-draft-id="7586452779713757199" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ç³Ÿç³•ï¼Œæˆ‘å®ç°çš„k8s informerå¥½åƒæ˜¯ä¾æ‰˜ç­”è¾©"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:26:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬"/> <meta itemprop="url" content="https://juejin.cn/user/448256476727662"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ç³Ÿç³•ï¼Œæˆ‘å®ç°çš„k8s informerå¥½åƒæ˜¯ä¾æ‰˜ç­”è¾©
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/448256476727662/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:26:00.000Z" title="Mon Dec 22 2025 15:26:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸ’¡ ç³Ÿç³•ï¼Œk8s informeræˆ‘å¥½åƒæ‹‰ä¸€å¨å¤§çš„</p>
<p>è¿‘æ®µæ—¶é—´åœ¨åšäº‘åŸç”ŸAIç®—åŠ›å¹³å°ï¼Œä¹‹å‰æåˆ°ä½¿ç”¨k8s informeræœºåˆ¶ç®¡æ§å¤šæ¸ é“æäº¤çš„è®­ç»ƒä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef3cb59b054145cdb776d48bbb1bc73b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=IaCER33kcRxWBnOwtOQTv66DDC8%3D" alt="" loading="lazy"/></p>
<p>ä¸Šé¢ç¬¬4ç‚¹ï¼š</p>
<p>informerä¼šç›‘å¬é€šè¿‡cliå’Œç½‘é¡µportalæäº¤çš„jobï¼Œ å›æ˜¾åˆ°portalå¹³å°ï¼Œå¹¶åœ¨jobå‘ç”ŸçŠ¶æ€å˜æ›´æ—¶é€šçŸ¥ç”¨æˆ·ã€‚</p>
<h2 data-id="heading-0">1. informeræ˜¯å®ç°å£°æ˜å¼controllerè®¾è®¡çš„æ ¸å¿ƒ</h2>
<p>k8sé‡‡ç”¨å£°æ˜å¼è®¾è®¡ï¼Œ ä»¥ç»“æœä¸ºå¯¼å‘ï¼Œ å®ç°è¿™ä¸€å…³é”®èƒ½åŠ›çš„ç»„ä»¶æ˜¯k8så„ç§controllerï¼š</p>
<p>å®šä¹‰æŸå¯¹è±¡çš„æœŸæœ›çŠ¶æ€ï¼Œå®æ—¶ç›‘æ§å¹¶è¾¾æˆè¿™ä¸ªçŠ¶æ€ï¼ˆè°ƒè°Reconcileï¼‰ å°±æ˜¯æ§åˆ¶å™¨åšçš„äº‹æƒ…ï¼Œ No signal was sent. No webhook firedã€‚</p>
<p>informeræ˜¯k8s client-goåº“çš„ä¸€éƒ¨åˆ†ï¼š</p>
<ul>
<li>â‘  ç›‘å¬èµ„æº</li>
<li>â‘¡å¹¶æœ¬åœ°ç¼“å­˜</li>
<li>â‘¢é€šçŸ¥ä¸Šå±‚åº”ç”¨å‘ç”Ÿäº†ä¸€äº›äº‹ä»¶ï¼ˆjobåˆ›å»ºã€job pendingã€jobè¿è¡Œã€jobå®Œæˆ/å¤±è´¥ï¼‰</li>
</ul>
<p>å‡å°‘äº†apiserverçš„è°ƒç”¨æµé‡ã€ä¼˜åŒ–æ€§èƒ½ã€ååº”å¼è‡ªåŠ¨åŒ–è¿ç»´  ï¼ˆæˆ‘å½“å‰çš„éœ€æ±‚æœ‰ç‚¹ç±»ä¼¼äºååº”å¼è‡ªåŠ¨åŒ–è¿ç»´ğŸ˜„ï¼‰ã€‚</p>
<h2 data-id="heading-1">2. informeræ ¸å¿ƒä½¿ç”¨æµç¨‹</h2>
<p>è¿è¡Œä¸€ä¸ªå®Œæ•´çš„informerï¼š list ---&gt; watch ---&gt; cache---&gt; reactã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/476a993690e64441820c0ba4081ff831~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=ywCbAvZ%2FlkWNsTS5lpGUurHsMLI%3D" alt="" loading="lazy"/></p>
<p>â‘  ä»apiserveræ‹‰å–æŒ‡å®šçš„gvrèµ„æº, å½¢æˆé¦–æ¬¡èµ„æºå¿«ç…§</p>
<p>â‘¡ æŒç»­ç›‘å¬èµ„æºçš„å˜æ›´äº‹ä»¶è¿›deltaFIFOé˜Ÿåˆ—ï¼Œè¿™é‡Œæ˜¯é€šè¿‡HTTP/1.1 çš„<code>Chunked Transfer Encoding</code>ï¼ˆåˆ†å—ä¼ è¾“ç¼–ç ï¼‰æ¥å®ç°çš„</p>
<p>â‘¢ é€šè¿‡ä¸Šè¿°â‘ â‘¡ä¸¤æ­¥å¾—åˆ°èµ„æºçš„æœ€æ–°çŠ¶æ€å¹¶ç¼“å­˜ï¼Œæ³¨æ„ï¼Œç¼“å­˜çš„æ˜¯èµ„æºå¯¹è±¡ï¼Œè€Œä¸æ˜¯èµ„æºå˜æ›´äº‹ä»¶ï¼Œ å¦å¤–æ˜¯çº¿ç¨‹å®‰å…¨çš„å­˜å‚¨ã€‚</p>
<p>â‘£ äº‹ä»¶å¤„ç†ï¼Œåº”ç”¨åœ¨ä¸šåŠ¡å±‚é¢çš„åŠ¨ä½œï¼Œå¯ä»¥å†™æ—¥å¿—ï¼Œå¯ä»¥åšcontrollerçš„ReconcileåŠ¨ä½œã€‚</p>
<p>å¼€å‘è€…ä¸»è¦è€ƒé‡åœ¨<code>reactï¼ˆEventHandlerï¼‰</code>é˜¶æ®µï¼Œå…¶ä½™èƒ½åŠ›client-go sdkä¼šæä¾›ã€‚</p>
<p>apiserver--&gt;reflector(æ‹‰å–/ç›‘å¬)--&gt;DeltaFiFO(é˜Ÿåˆ—)--&gt; Processï¼ˆå¤„ç†ï¼‰--&gt;Handlerï¼ˆç”¨æˆ·ä»£ç ï¼‰</p>
<h3 data-id="heading-2">2.1 Watchæœºåˆ¶ï¼š chunked transfer encoding</h3>
<p>åˆ†å—ä¼ è¾“èƒ½åŠ›æ˜¯http1.1 å¸¸è§åŠŸèƒ½ï¼Œä¸éœ€è¦åƒwebsocketé‚£æ ·å‡çº§åè®®åˆ°å¸§æ ¼å¼ï¼Œhttpè¿æ¥ä¸­æ¯ä¸ªäº‹ä»¶æ˜¯ç‹¬ç«‹çš„ï¼Œç›´åˆ°è¿æ¥å…³é—­ã€‚</p>
<p>è¯·æ±‚spiserveræ—¶æŸ¥è¯¢å‚æ•°åŠ ä¸Š<code>watch=true</code>, ä¼šæç¤ºæœåŠ¡å™¨æœ¬æ¬¡æ˜¯ç›‘å¬è¯·æ±‚
å“åº”æ ¸å¿ƒç‰¹å¾æ˜¯å“åº”å¤´åŒ…å«<code>Transfer-Encoding: chunked</code></p>
<p>éªŒè¯</p>
<pre><code class="hljs language-ini" lang="ini">ç»ˆç«¯1ï¼škubectl proxy <span class="hljs-attr">--port</span>=<span class="hljs-number">8081</span>  ï¼š åœ¨ä¸»æœºä¸Š<span class="hljs-number">8081</span>ç«¯å£ä»£ç†aiserveræœåŠ¡

ç»ˆç«¯2ï¼š curl "http://localhost:8081/api/v1/namespaces/team-a/pods?<span class="hljs-attr">watch</span>=<span class="hljs-literal">true</span><span class="hljs-string">"  --verbose
</span></code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0446b2f795744d23bc2aae0bd08b379e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=ZFqBrnPN3X7na%2Fros5xmpWAtf7I%3D" alt="" loading="lazy"/></p>
<p>åœ¨client-go sdkä¸­ä¼šä¸ºinformer watchå»ºç«‹ç¨³å®šçš„é•¿è¿æ¥ï¼ˆæ–­çº¿é‡è¿ã€é‡è¯•ç­‰ï¼‰</p>
<h2 data-id="heading-3">3. ä¸€ä¸ªå¸¸è§„çš„informerå®è·µ</h2>
<p>åˆ©ç”¨kubeconfigåˆ›å»ºinformerï¼ˆç»‘å®šgvrï¼‰ï¼Œ å¯åŠ¨informerï¼ˆå¸¦ç»ˆæ­¢ä¿¡é“ï¼‰</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"time"</span>

	v1 <span class="hljs-string">"k8s.io/api/core/v1"</span>
	<span class="hljs-string">"k8s.io/apimachinery/pkg/fields"</span>
	<span class="hljs-string">"k8s.io/client-go/kubernetes"</span>
	<span class="hljs-string">"k8s.io/client-go/tools/cache"</span>
	<span class="hljs-string">"k8s.io/client-go/tools/clientcmd"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	config, _ := clientcmd.BuildConfigFromFlags(<span class="hljs-string">""</span>, <span class="hljs-string">"/home/user/.kube/config"</span>)
	clientset, _ := kubernetes.NewForConfig(config)

	podInformer := cache.NewSharedIndexInformer(
		cache.NewListWatchFromClient(
			clientset.CoreV1().RESTClient(),
			<span class="hljs-string">"pods"</span>,
			v1.NamespaceAll,
			fields.Everything(),
		),
		&amp;v1.Pod{},
		time.Minute*<span class="hljs-number">10</span>, <span class="hljs-comment">// resync å‘¨æœŸ</span>
		cache.Indexers{ <span class="hljs-comment">// cacheä¸Šçš„å¿«é€Ÿè¿‡æ»¤å™¨</span>
			<span class="hljs-string">"byNode"</span>: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(obj <span class="hljs-keyword">interface</span>{})</span></span> ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
				pod := obj.(*v1.Pod)
				<span class="hljs-keyword">return</span> []<span class="hljs-type">string</span>{pod.Spec.NodeName}, <span class="hljs-literal">nil</span>
			}},
	)

	podInformer.AddEventHandler(cache.ResourceEventHandlerFuncs{
		DeleteFunc: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(obj <span class="hljs-keyword">interface</span>{})</span></span> {
			pod := obj.(*v1.Pod)
			fmt.Printf(<span class="hljs-string">"[DELETED] Pod: %s/%s\n"</span>, pod.Namespace, pod.Name)
		},
	})

	<span class="hljs-comment">// å¯åŠ¨ informer (å¿…é¡»åœ¨ç‹¬ç«‹goroutineä¸­ï¼Œå› ä¸ºRunæ–¹æ³•æ˜¯åŒæ­¥æ–¹æ³•)</span>
	stopCh := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
	<span class="hljs-keyword">defer</span> <span class="hljs-built_in">close</span>(stopCh)
	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
		fmt.Println(<span class="hljs-string">"Starting PodInformer..."</span>)
		podInformer.Run(stopCh) <span class="hljs-comment">// åŒæ­¥æ–¹æ³•ï¼Œä¼šé˜»å¡ç›´åˆ° stopCh å…³é—­</span>
		fmt.Println(<span class="hljs-string">"PodInformer stopped"</span>)
	}()

	<span class="hljs-comment">//  ç­‰å¾…ç¼“å­˜åŒæ­¥å°±ç»ª</span>
	<span class="hljs-keyword">if</span> !cache.WaitForCacheSync(stopCh, podInformer.HasSynced) {
		<span class="hljs-built_in">panic</span>(<span class="hljs-string">"failed to wait for cache sync"</span>)
	}
	&lt;-stopCh
}
</code></pre>
<ul>
<li>
<p>informeræœ‰<code>resync</code>æœºåˆ¶ï¼š å‘¨æœŸæ€§é‡æ”¾æ•°æ®ï¼Œç›®çš„æ˜¯ä¸ºä¸šåŠ¡æä¾›è¡¥å¿æœºä¼šï¼Œä¸Šé¢è®¾ç½®äº†10åˆ†é’Ÿé‡æ”¾å‘¨æœŸ, =0æˆ–è€…ä¸è®¾ç½®åˆ™ä¸é‡æ”¾ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨<code>cache.NewListWatchFromClient</code>è®¾ç½®äº†informerçš„<code>local cache</code>ï¼Œ å¼€å‘è€…å¯ä»¥ç›´æ¥æŠŠ<code>local cache</code>å½“æˆç›‘å¬å¯¹è±¡çš„é›†åˆ,client-goä¼šç¡®ä¿local cacheæ­£ç¡®åæ˜ å½“å‰çš„èµ„æºå¯¹è±¡ã€‚</p>
</li>
<li>
<p><code>informer.Run(stopCh)</code> æ˜¯ä¸€ä¸ªåŒæ­¥çš„å‡½æ•°ï¼ŒæŒç»­æ‰§è¡Œlist-watch-cache-reactè¿™ä¸ªå¼•æ“ï¼Œ åœ¨åº”ç”¨å±‚é¢éœ€è¦ä»¥å­goroutineå½¢å¼ï¼Œclient-goå¦æœ‰informerå·¥å‚ï¼ŒinformerFactory.Start(stopCh) å†…éƒ¨ä¹Ÿæ˜¯å¯åç¨‹ï¼Œè¿™é‡Œä¹Ÿè¦è®¤è¯†åˆ°ä¿¡é“stopChåœ¨golangä¸­çš„é€šä¿¡ä½œç”¨ã€‚</p>
</li>
</ul>
<blockquote>
<p>ä¸ºåŠ å¿«è¿™ä¸ªinformer cacheè®¿é—®é€Ÿåº¦ï¼Œè¿˜å¯ä»¥ç»™è¿™ä¸ªcacheåŠ ä¸Šç´¢å¼•å™¨<code>Indexers</code>, åé¢å¯ç›´æ¥ä½¿ç”¨ç´¢å¼•å™¨è®¿é—®cacheã€‚</p>
</blockquote>
<h3 data-id="heading-4">3.1 æ‹‰äº†ä¸€å¨å¤§çš„</h3>
<p>å¦‚æœæŠŠä¸šåŠ¡éœ€æ±‚éƒ½åšåœ¨EventHandleré‡Œé¢ï¼Œé•¿æ­¤ä»¥å¾€ä¼šæ‹‰ä¸€å¨å¤§çš„ã€‚</p>
<p>é¦–å…ˆè¿™æ˜¯ä¸€ä¸ª<strong>äº‹ä»¶é˜Ÿåˆ—æ¶ˆè´¹æ¨¡å‹</strong>ï¼ŒAdd/Update/Deleteå˜æ›´äº‹ä»¶æ˜¯ä»ä¸€ä¸ªå«<code>deltaFIFO</code>é˜Ÿåˆ—ä¸­popå‡ºæ¥çš„ï¼Œ æ—¢ç„¶æ˜¯é˜Ÿåˆ—æ¨¡å‹ï¼Œé‚£ä¹ˆé˜Ÿåˆ—æ¶ˆè´¹çš„é«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€å¯æ‰©å±•é—®é¢˜å°±é¿å…ä¸äº†ï¼š</p>
<ul>
<li>
<p>äº‹ä»¶éœ€è¦åŒæ­¥æŒ¨ä¸ªå¤„ç†ï¼Œå¦åˆ™æ§åˆ¶å™¨ä¾§æ‹¿åˆ°çš„æœ€ç»ˆèµ„æºçŠ¶æ€å¯èƒ½ä¸å¯¹ï¼Œé‚£ä¹ˆè¿™ç§æŒ¨ä¸ªå¤„ç†ä¹Ÿå°±è°ˆä¸ä¸Šé«˜æ€§èƒ½ã€‚</p>
</li>
<li>
<p>ä½†æ˜¯åº”ç”¨åˆæ˜¯å¤šå®ä¾‹éƒ¨ç½²ï¼Œ å¤šä¸ªinformeréƒ½èµ°åŒæ ·çš„list-watch-cache-reactæµç¨‹ï¼Œ å®¢è§‚ä¸Šå›´ç»•informer deltaFIIOåˆå½¢æˆå¤šç”Ÿäº§è€…=&gt;å¤šæ¶ˆè´¹è€…æ¨¡å‹ï¼Œè¿™ç§å±€é¢EventHandlerå°±è¦è€ƒé‡å¹‚ç­‰å’Œèµ„æºä¸€è‡´æ€§é—®é¢˜ã€‚</p>
</li>
<li>
<p>é˜Ÿåˆ—å¸¸è§„çš„é«˜å¯ç”¨è€ƒé‡ï¼šâ‘  æ¶ˆè´¹è€…å®•æœºæ—¶äº‹ä»¶ä¸¢å¤±  â‘¡ æ¶ˆè´¹å¤±è´¥å¦‚ä½•é‡è¯•ï¼ˆé‡è¯•åˆæœ‰å¹‚ç­‰æ€§é—®é¢˜ï¼‰</p>
</li>
<li>
<p>informeræœ‰<code>resync</code>æœºåˆ¶ï¼šä¼šå¯¹<code>local cache</code>ä¸­çš„èµ„æºæ„é€ <code>onUpdateäº‹ä»¶</code>ï¼Œä¹Ÿä¼šèµ°EventHandler, æ‰€ä»¥EventHandleråšçš„å¾ˆé‡ï¼Œä¼šå¾ˆéº»çƒ¦ã€‚</p>
</li>
</ul>
<p>å¦‚æœä¸šåŠ¡é€»è¾‘å¾ˆé‡æˆ–è€…å¼ºä¾èµ–é‡è¯•ï¼Œæ¨èä¸Š<code>[workQueue](https://pkg.go.dev/k8s.io/client-go@v0.35.0/util/workqueue "workQueue")</code>, æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>
<p>å…¬å¹³ï¼šæŒ‰æ·»åŠ é¡ºåºå¤„ç†å…ƒç´ </p>
</li>
<li>
<p>å…ƒç´ å»é‡ï¼šå•ä¸ªitemä¸ä¼šè¢«å¹¶å‘æ¶ˆè´¹å¤šæ¬¡ï¼›å¦‚æœä¸€ä¸ªitemåœ¨æ¶ˆè´¹å‰è¢«å¤šæ¬¡æ·»åŠ ï¼Œå®ƒåªä¼šè¢«æ¶ˆè´¹ä¸€æ¬¡</p>
</li>
<li>
<p>å¤šä¸ªæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ï¼Œ æ”¯æŒæ¶ˆè´¹æ—¶é‡æ’</p>
</li>
<li>
<p>å…³é—­é€šçŸ¥</p>
</li>
</ul>
<h2 data-id="heading-5">4. <a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40dhruvbhl%2Finformers-listers-workqueues-the-brain-behind-your-controller-f5b0967026de" title="https://medium.com/@dhruvbhl/informers-listers-workqueues-the-brain-behind-your-controller-f5b0967026de" target="_blank" ref="nofollow noopener noreferrer">controllerè°ƒè°è®¾è®¡</a></h2>
<p>å­¦ä¹ controllerçš„è®¾è®¡ï¼šé™¤äº†informerï¼Œè¿˜æä¾›äº†é¢å¤–çš„å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…é«˜æ•ˆæ„ŸçŸ¥æœ€æ–°çš„èµ„æºï¼Œæ‰§è¡Œè°ƒè°å·¥ä½œã€‚</p>





















<table><thead><tr><th>package</th><th>role</th></tr></thead><tbody><tr><td>informer</td><td>Eyes(watch and cache them)</td></tr><tr><td>lister</td><td>Memory(read from lcoal cache)</td></tr><tr><td>workQueue</td><td>task list (reconcile work)</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c74090dc69b149aa8a9bde5fb46954d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=Advz76wzZDH8D7%2BUx6mo7FqEYio%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">type</span> PodController <span class="hljs-keyword">struct</span> {
	clientset kubernetes.Interface
	queue     workqueue.TypedRateLimitingInterface[<span class="hljs-type">string</span>]
	informer  cache.SharedIndexInformer
	indexer   cache.Indexer
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewPodController</span><span class="hljs-params">(clientset kubernetes.Interface)</span></span> *PodController {
	<span class="hljs-comment">// åˆ›å»º Pod informer</span>
	podInformer := cache.NewSharedIndexInformer(
		cache.NewListWatchFromClient(
			clientset.CoreV1().RESTClient(),
			<span class="hljs-string">"pods"</span>,
			v1.NamespaceAll,
			fields.Everything(),
		),
		&amp;v1.Pod{},
		time.Minute*<span class="hljs-number">10</span>, <span class="hljs-comment">// resync å‘¨æœŸ</span>
		cache.Indexers{
			<span class="hljs-string">"byNode"</span>: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(obj <span class="hljs-keyword">interface</span>{})</span></span> ([]<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
				pod := obj.(*v1.Pod)
				<span class="hljs-keyword">return</span> []<span class="hljs-type">string</span>{pod.Spec.NodeName}, <span class="hljs-literal">nil</span>
			}},
	)

	<span class="hljs-comment">// åˆ›å»ºæ§åˆ¶å™¨</span>
	controller := &amp;PodController{
		clientset: clientset,
		queue: workqueue.NewTypedRateLimitingQueue(
			workqueue.DefaultTypedControllerRateLimiter[<span class="hljs-type">string</span>]( <span class="hljs-string">"string"</span>),
		),
		informer: podInformer,
		indexer:  podInformer.GetIndexer(),
	}

	<span class="hljs-comment">// æ³¨å†Œäº‹ä»¶å¤„ç†å™¨</span>
	podInformer.AddEventHandler(cache.ResourceEventHandlerFuncs{
		AddFunc:    controller.handleAdd,
		UpdateFunc: controller.handleUpdate,
		DeleteFunc: controller.handleDelete,
	})

	<span class="hljs-keyword">return</span> controller
}
</code></pre>
<h3 data-id="heading-6">â‘   Informers: The Eyes on the Cluster</h3>
<p>informeræ˜¯ä¸€ä¸ªç®¡é“ï¼Œå½“å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¯¥informerç®¡é“å¯ç¡®ä¿ï¼š</p>
<ul>
<li>æœ¬åœ°ç¼“å­˜local cacheå·²æ›´æ–°</li>
<li>ä»»ä½•å·²æ³¨å†Œçš„äº‹ä»¶å¤„ç†ç¨‹åº(add/update/delete)éƒ½ä¼šæ”¶åˆ°é€šçŸ¥</li>
</ul>
<p>informerä¸ä¼šç›´æ¥è°ƒç”¨æ§åˆ¶å™¨çš„Reconcileæ–¹æ³•ï¼Œäº‹ä»¶å¤„ç†ç¨‹åºçš„å”¯ä¸€å·¥ä½œæ˜¯å°†<code>key (namespace/name)</code>å…¥é˜Ÿï¼ˆworkQueueï¼‰</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆä½¿ç”¨keyï¼Ÿ<br/>
èµ„æºå¯¹è±¡å˜åŒ–å¾ˆå¿«â†’é”®æ›´ç¨³å®šâ†’æ›´é€‚åˆæ•°æ®å»é‡ã€‚</p>
</blockquote>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> handleAdd(obj <span class="hljs-keyword">interface</span>{}) {
	key, err := cache.MetaNamespaceKeyFunc(obj)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		klog.Errorf(<span class="hljs-string">"Couldn't get key for object %+v: %v"</span>, obj, err)
		<span class="hljs-keyword">return</span>
	}
	c.queue.Add(key)
}
</code></pre>
<h3 data-id="heading-7">â‘¡ keyä¸€æ—¦å…¥é˜Ÿï¼Œå°±ç”±workQueueæ¥ç®¡</h3>
<ul>
<li>å»é‡</li>
<li>é‡è¯•ã€å‡ºé˜Ÿæ¶ˆè´¹å¤±è´¥é‡æ’ï¼š é˜Ÿåˆ—è¡Œä¸ºå¢å¼ºç³»ç»Ÿå¯ç”¨æ€§</li>
<li>é™é€Ÿï¼š å¼¹æ€§è®¾è®¡ï¼Œå¢å¼ºå¯ç”¨æ€§å’Œæ•ˆç‡</li>
</ul>
<h3 data-id="heading-8">â‘¢ listerï¼šå…¶å®å°±æ˜¯Indexersç´¢å¼•å™¨</h3>
<p>ä½¿ç”¨listerä»local cache è¯»å–æœ€æ–°çš„èµ„æºçŠ¶æ€ï¼ˆä¸éœ€è¦ä»api serverè¯»å–ï¼‰ï¼Œ</p>
<p>æœ€ç»ˆæ‰§è¡Œæ§åˆ¶å™¨çš„<code>Reconcile</code>é€»è¾‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fc780e25aa74e5ba84a0ced3fec39df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767022063&amp;x-signature=nTm3E%2BgwCeEeeCqnTnpAWdBz568%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡<code>workQueue</code>å°†æ¶æ„ä»åŸºäºèµ„æºäº‹ä»¶çš„é˜Ÿåˆ—è½¬æ¢ä¸ºåŸºäºèµ„æºçš„é˜Ÿåˆ— ã€‚</p>
<p>æ³¨æ„ï¼šè¿™ä¸ªæ—¶å€™çš„workQueueæœ‰äº‹ä»¶å‹ç¼©çš„æ•ˆæœï¼š åœ¨è¢«æ¶ˆè´¹ä¹‹å‰ï¼Œå¦‚æœè¯¥èµ„æºæœ‰å¤šä¸ªå˜æ›´äº‹ä»¶ï¼Œåªä¼šä¿ç•™é¦–æ¬¡å…¥é˜Ÿï¼ˆæ›´æ–°æ—¶é—´æˆ³ï¼‰ã€‚</p>
<p>Controllerä¸å…³å¿ƒå¯¹è±¡å¦‚ä½•åˆ°è¾¾å½“å‰çŠ¶æ€ï¼Œåªå…³å¿ƒå½“å‰çŠ¶æ€æ˜¯å¦ä¸æœŸæœ›çŠ¶æ€ä¸€è‡´ï¼Œå¹¶é‡‡å–è¡ŒåŠ¨ä½¿å…¶ä¸€è‡´ã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> Run(workers <span class="hljs-type">int</span>, stopCh &lt;-<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{}) {
	<span class="hljs-keyword">defer</span> c.queue.ShutDown()

	klog.Info(<span class="hljs-string">"Starting Pod controller"</span>)

	<span class="hljs-keyword">go</span> c.informer.Run(stopCh)

	<span class="hljs-keyword">if</span> !cache.WaitForCacheSync(stopCh, c.informer.HasSynced) {
		klog.Error(<span class="hljs-string">"Timed out waiting for caches to sync"</span>)
		<span class="hljs-keyword">return</span>
	}

	<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; workers; i++ {
		<span class="hljs-keyword">go</span> wait.Until(c.runWorker, time.Second, stopCh)
	}

	&lt;-stopCh
	klog.Info(<span class="hljs-string">"Stopping Pod controller"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> runWorker() {
	<span class="hljs-keyword">for</span> c.processNextWorkItem() {
	}
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *PodController)</span></span> processNextWorkItem() <span class="hljs-type">bool</span> {
	key, quit := c.queue.Get()
	<span class="hljs-keyword">if</span> quit {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
	}

	<span class="hljs-keyword">defer</span> c.queue.Done(key)

	err := c.syncPod(key)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		klog.Errorf(<span class="hljs-string">"Error syncing pod %s: %v"</span>, key, err)
		c.queue.AddRateLimited(key)
		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
	}

	c.queue.Forget(key)
	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	<span class="hljs-comment">// åˆ›å»º clientset</span>
	<span class="hljs-comment">// config, _ := rest.InClusterConfig()</span>

	homepath := homedir.HomeDir()
	kubeconfig := filepath.Join(homepath, <span class="hljs-string">".kube"</span>, <span class="hljs-string">"config"</span>)
	config, err := clientcmd.BuildConfigFromFlags(<span class="hljs-string">""</span>, kubeconfig) <span class="hljs-comment">// é›†ç¾¤å¤–è®¤è¯è®¿é—® apiserver</span>
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		klog.Errorf(<span class="hljs-string">"Error building kubeconfig: %v"</span>, err)
	}
	clientset, _ := kubernetes.NewForConfig(config)

	controller := NewPodController(clientset)
	stopCh := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>{})
	controller.Run(<span class="hljs-number">3</span>, stopCh)
}
</code></pre>
<hr/>
<h3 data-id="heading-9">4.1  å±ä¸Šé›•èŠ±</h3>
<p>ä¸Šæ–‡äº§ç”Ÿçš„"ä¸€å¨å¤§çš„"æ˜¯ä¸€ä¸ªé‡åº¦çš„äº‹ä»¶å¤„ç†è¡Œä¸ºï¼šsyncåˆ°mysqlå¹¶åšå‡ºé€šçŸ¥ã€‚</p>
<p>å’±å°±ç¼ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿ç”¨workQueueï¼Œ ä½†æ˜¯æœ¬æ¬¡éœ€æ±‚è¦è·Ÿè¸ªæ¯æ¬¡çŠ¶æ€å˜æ›´ï¼Œäºæ˜¯è¦è§„é¿workQueueçš„äº‹ä»¶å‹ç¼©è¡Œä¸ºã€‚</p>
<p>äºæ˜¯æœ¬æ¬¡å°†(åŸèµ„æºkey+ èµ„æºç‰ˆæœ¬+ èµ„æºçŠ¶æ€)æ•´ä½“ä½œä¸ºå…¥é˜Ÿå…ƒç´ ã€‚</p>
<pre><code class="hljs language-css" lang="css"> item := QueueItem{
        Key:     fmt.<span class="hljs-built_in">Sprintf</span>(<span class="hljs-string">"%s/%s"</span>, pod.Namespace, pod.Name),
        Version: pod.ResourceVersion,
        Status ï¼š pod.Statusï¼Œ
    }
</code></pre>
<p>åˆ©ç”¨é˜Ÿåˆ—å‰Šå³°å¡«è°·ï¼Œæ»¡è¶³äº†ä¸šåŠ¡çš„éœ€æ±‚å’Œé«˜å¯ç”¨ã€å¯æ‰©å±•è¦æ±‚ã€‚</p>
<p>æ³¨æ„å‡ºé˜Ÿæ¶ˆè´¹æ—¶ä»è¦ä¿è¯å¹‚ç­‰æ“ä½œï¼Œ å¯é‡‡ç”¨ï¼ˆèµ„æºkey+èµ„æºversion) ä½œä¸ºå¹‚ç­‰é”®å®ç°å¹‚ç­‰çš„åˆ¤å®šã€‚</p>
<p>è¿™å°±æ˜¯æŸä¼ä¸šé¡¹ç›®å±ä¸Šé›•èŠ±çš„ç»å†ï¼Œ è€é¸Ÿè½»å–·ã€‚</p>
<p>ğŸ¤– ğŸš€ ğŸ‘‘ ğŸ› ï¸ ğŸ’¡ ğŸŒŸ ğŸ¤– â˜• ğŸ”— ğŸ“„ ğŸ“– ğŸŒ ğŸ’¼ ğŸ—£ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¾®ä¿¡å…¬ä¼—å·&å°ç¨‹åºçš„SDKå‰–æJSBridge]]></title>    <link>https://juejin.cn/post/7586505172815626291</link>    <guid>https://juejin.cn/post/7586505172815626291</guid>    <pubDate>2025-12-22T15:31:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815626291" data-draft-id="7586550947703291914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¾®ä¿¡å…¬ä¼—å·&amp;å°ç¨‹åºçš„SDKå‰–æJSBridge"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T15:31:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ¢¦plus"/> <meta itemprop="url" content="https://juejin.cn/user/2875978149798093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¾®ä¿¡å…¬ä¼—å·&amp;å°ç¨‹åºçš„SDKå‰–æJSBridge
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978149798093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ¢¦plus
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:31:55.000Z" title="Mon Dec 22 2025 15:31:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»å¾®ä¿¡å…¬ä¼—å·&amp;å°ç¨‹åºçš„SDKå‰–æJSBridge</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£,Hybridåº”ç”¨å·²æˆä¸ºä¸»æµå¼€å‘æ¨¡å¼ä¹‹ä¸€ã€‚JSBridgeä½œä¸ºè¿æ¥JavaScriptä¸Nativeçš„æ ¸å¿ƒæ¡¥æ¢,è®©Webé¡µé¢èƒ½å¤Ÿè°ƒç”¨åŸç”Ÿèƒ½åŠ›,å®ç°äº†è·¨å¹³å°å¼€å‘çš„å®Œç¾å¹³è¡¡ã€‚å¾®ä¿¡ä½œä¸ºå›½å†…æœ€å¤§çš„è¶…çº§åº”ç”¨,å…¶å…¬ä¼—å·JSSDKå’Œå°ç¨‹åºæ¶æ„ä¸ºæˆ‘ä»¬æä¾›äº†ç»ä½³çš„JSBridgeå®è·µæ¡ˆä¾‹ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æè¿™ä¸¤å¥—SDKçš„å®ç°åŸç†,å¸®åŠ©è¯»è€…ç†è§£JSBridgeçš„æœ¬è´¨ä¸è®¾è®¡æ€æƒ³ã€‚</p>
<h3 data-id="heading-2">ä¸€ã€JSBridgeæ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-3">1.1 ä»€ä¹ˆæ˜¯JSBridge</h4>
<p>JSBridgeæ˜¯JavaScriptä¸Nativeä¹‹é—´çš„é€šä¿¡æ¡¥æ¢,å®ƒå»ºç«‹äº†åŒå‘æ¶ˆæ¯é€šé“,ä½¿å¾—:</p>
<ul>
<li><strong>JavaScriptè°ƒç”¨Native</strong>: Webé¡µé¢å¯ä»¥è°ƒç”¨åŸç”Ÿèƒ½åŠ›(ç›¸æœºã€åœ°ç†ä½ç½®ã€æ”¯ä»˜ç­‰)</li>
<li><strong>Nativeè°ƒç”¨JavaScript</strong>: åŸç”Ÿä»£ç å¯ä»¥å‘Webé¡µé¢ä¼ é€’æ•°æ®æˆ–è§¦å‘äº‹ä»¶</li>
</ul>
<h4 data-id="heading-4">1.2 JSBridgeé€šä¿¡æ¶æ„</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph WebViewå±‚
        A[JavaScriptä»£ç ]
    end

    subgraph JSBridgeå±‚
        B[æ¶ˆæ¯é˜Ÿåˆ—]
        C[åè®®è§£æå™¨]
    end

    subgraph Nativeå±‚
        D[åŸç”ŸAPI Handler]
        E[ç³»ç»Ÿèƒ½åŠ›]
    end

    A --&gt;|å‘èµ·è°ƒç”¨| B
    B --&gt;|è§£æåè®®| C
    C --&gt;|è½¬å‘è¯·æ±‚| D
    D --&gt;|è°ƒç”¨èƒ½åŠ›| E
    E --&gt;|è¿”å›ç»“æœ| D
    D --&gt;|å›è°ƒ| C
    C --&gt;|æ‰§è¡Œcallback| A

    style A fill:#e1f5ff
    style E fill:#fff4e1
    style C fill:#f0f0f0
</code></pre>
<h4 data-id="heading-5">1.3 é€šä¿¡æ–¹å¼å¯¹æ¯”</h4>
<p>JSBridgeä¸»è¦æœ‰ä¸‰ç§å®ç°æ–¹å¼:</p>





























<table><thead><tr><th>æ–¹å¼</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>URL Schemaæ‹¦æˆª</td><td>é€šè¿‡iframe.srcè§¦å‘ç‰¹å®šåè®®</td><td>å…¼å®¹æ€§å¥½,iOS/Androidé€šç”¨</td><td>æœ‰URLé•¿åº¦é™åˆ¶,ä¸æ”¯æŒåŒæ­¥è¿”å›</td></tr><tr><td>æ³¨å…¥API</td><td>Nativeå‘WebViewæ³¨å…¥å…¨å±€å¯¹è±¡</td><td>è°ƒç”¨ç®€å•ç›´æ¥</td><td>Android 4.2ä»¥ä¸‹æœ‰å®‰å…¨é£é™©</td></tr><tr><td>MessageHandler</td><td>WKWebViewçš„postMessageæœºåˆ¶</td><td>æ€§èƒ½å¥½,å®‰å…¨æ€§é«˜</td><td>ä»…iOSå¯ç”¨</td></tr></tbody></table>
<h3 data-id="heading-6">äºŒã€å¾®ä¿¡å…¬ä¼—å·JSSDKå®ç°åŸç†</h3>
<h4 data-id="heading-7">2.1 JSSDKæ¶æ„è®¾è®¡</h4>
<p>å¾®ä¿¡å…¬ä¼—å·çš„JSSDKåŸºäºWeixinJSBridgeå°è£…,æä¾›äº†æ›´å®‰å…¨å’Œæ˜“ç”¨çš„æ¥å£ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant H5 as H5é¡µé¢
    participant SDK as wx-JSSDK
    participant Bridge as WeixinJSBridge
    participant Native as å¾®ä¿¡å®¢æˆ·ç«¯

    H5-&gt;&gt;SDK: è°ƒç”¨wx.config()
    SDK-&gt;&gt;Native: è¯·æ±‚ç­¾åéªŒè¯
    Native--&gt;&gt;SDK: è¿”å›éªŒè¯ç»“æœ

    H5-&gt;&gt;SDK: è°ƒç”¨wx.chooseImage()
    SDK-&gt;&gt;Bridge: invoke('chooseImage', params)
    Bridge-&gt;&gt;Native: è½¬å‘è°ƒç”¨è¯·æ±‚
    Native-&gt;&gt;Native: æ‰“å¼€ç›¸å†Œé€‰æ‹©
    Native--&gt;&gt;Bridge: è¿”å›å›¾ç‰‡æ•°æ®
    Bridge--&gt;&gt;SDK: è§¦å‘å›è°ƒ
    SDK--&gt;&gt;H5: success(res)
</code></pre>
<h4 data-id="heading-8">2.2 JSSDKåˆå§‹åŒ–æµç¨‹</h4>
<p><strong>JSSDKçš„åˆå§‹åŒ–éœ€è¦å®Œæˆé…ç½®éªŒè¯å’ŒreadyçŠ¶æ€å‡†å¤‡:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­¥éª¤1: å¼•å…¥JSSDK</span>
&lt;script src=<span class="hljs-string">"https://res.wx.qq.com/open/js/jweixin-1.6.0.js"</span>&gt;&lt;/script&gt;

<span class="hljs-comment">// æ­¥éª¤2: é…ç½®æƒé™éªŒè¯</span>
wx.<span class="hljs-title function_">config</span>({
  <span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">appId</span>: <span class="hljs-string">'your-app-id'</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-number">1234567890</span>,
  <span class="hljs-attr">nonceStr</span>: <span class="hljs-string">'random-string'</span>,
  <span class="hljs-attr">signature</span>: <span class="hljs-string">'sha1-signature'</span>,
  <span class="hljs-attr">jsApiList</span>: [<span class="hljs-string">'chooseImage'</span>, <span class="hljs-string">'uploadImage'</span>, <span class="hljs-string">'getLocation'</span>]
});

<span class="hljs-comment">// æ­¥éª¤3: ç›‘å¬readyäº‹ä»¶</span>
wx.<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// é…ç½®æˆåŠŸåæ‰èƒ½è°ƒç”¨API</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'JSSDKåˆå§‹åŒ–å®Œæˆ'</span>);
});

wx.<span class="hljs-title function_">error</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é…ç½®å¤±è´¥:'</span>, res);
});
</code></pre>
<p><strong>é…ç½®éªŒè¯æµç¨‹è¯´æ˜:</strong></p>
<ol>
<li><strong>è·å–ç­¾å</strong>: åç«¯é€šè¿‡jsapi_ticketå’Œå½“å‰URLç”ŸæˆSHA1ç­¾å</li>
<li><strong>å‰ç«¯é…ç½®</strong>: å°†ç­¾åç­‰å‚æ•°ä¼ å…¥wx.config()</li>
<li><strong>å®¢æˆ·ç«¯éªŒè¯</strong>: å¾®ä¿¡å®¢æˆ·ç«¯æ ¡éªŒç­¾åçš„åˆæ³•æ€§</li>
<li><strong>æˆæƒå®Œæˆ</strong>: éªŒè¯é€šè¿‡åè§¦å‘readyäº‹ä»¶</li>
</ol>
<h4 data-id="heading-9">2.3 WeixinJSBridgeåº•å±‚æœºåˆ¶</h4>
<p><strong>WeixinJSBridgeæ˜¯å¾®ä¿¡å†…éƒ¨æä¾›çš„åŸç”Ÿæ¥å£,ä¸å¯¹å¤–å…¬å¼€ä½†å¯ä»¥ç›´æ¥ä½¿ç”¨:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ£€æµ‹WeixinJSBridgeæ˜¯å¦ready</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">onBridgeReady</span>(<span class="hljs-params"/>) {
  <span class="hljs-title class_">WeixinJSBridge</span>.<span class="hljs-title function_">invoke</span>(
    <span class="hljs-string">'getBrandWCPayRequest'</span>,
    {
      <span class="hljs-attr">appId</span>: <span class="hljs-string">'wx123456'</span>,
      <span class="hljs-attr">timeStamp</span>: <span class="hljs-string">'1234567890'</span>,
      <span class="hljs-attr">nonceStr</span>: <span class="hljs-string">'randomstring'</span>,
      <span class="hljs-attr">package</span>: <span class="hljs-string">'prepay_id=xxx'</span>,
      <span class="hljs-attr">signType</span>: <span class="hljs-string">'MD5'</span>,
      <span class="hljs-attr">paySign</span>: <span class="hljs-string">'signature'</span>
    },
    <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
      <span class="hljs-keyword">if</span> (res.<span class="hljs-property">err_msg</span> === <span class="hljs-string">'get_brand_wcpay_request:ok'</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¯ä»˜æˆåŠŸ'</span>);
      }
    }
  );
}

<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">WeixinJSBridge</span> === <span class="hljs-string">'undefined'</span>) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'WeixinJSBridgeReady'</span>, onBridgeReady, <span class="hljs-literal">false</span>);
} <span class="hljs-keyword">else</span> {
  <span class="hljs-title function_">onBridgeReady</span>();
}
</code></pre>
<p><strong>WeixinJSBridgeä¸wx JSSDKçš„å…³ç³»:</strong></p>
<ul>
<li><code>WeixinJSBridge</code>: åº•å±‚åŸç”Ÿæ¥å£,ç›´æ¥ç”±å¾®ä¿¡å®¢æˆ·ç«¯æ³¨å…¥,æ— éœ€å¼•å…¥å¤–éƒ¨JS</li>
<li><code>wx JSSDK</code>: åŸºäºWeixinJSBridgeçš„é«˜çº§å°è£…,æä¾›ç»Ÿä¸€çš„APIè§„èŒƒå’Œå®‰å…¨éªŒè¯</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[H5é¡µé¢] --&gt;|å¼•å…¥jweixin.js| B[wx JSSDK]
    B --&gt;|å°è£…è°ƒç”¨| C[WeixinJSBridge]
    C --&gt;|Nativeæ³¨å…¥| D[å¾®ä¿¡å®¢æˆ·ç«¯]
    D --&gt;|ç³»ç»Ÿèƒ½åŠ›| E[&amp;#34;ç›¸æœºã€æ”¯ä»˜ã€å®šä½ç­‰&amp;#34;]

    style B fill:#07c160
    style C fill:#ff9800
    style D fill:#576b95
</code></pre>
<h4 data-id="heading-10">2.4 å…¸å‹APIè°ƒç”¨ç¤ºä¾‹</h4>
<p><strong>ä»¥é€‰æ‹©å›¾ç‰‡ä¸ºä¾‹,å±•ç¤ºå®Œæ•´çš„è°ƒç”¨é“¾è·¯:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å°è£…å›¾ç‰‡é€‰æ‹©åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">selectImages</span>(<span class="hljs-params">count = <span class="hljs-number">9</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    wx.<span class="hljs-title function_">chooseImage</span>({
      <span class="hljs-attr">count</span>: count,          <span class="hljs-comment">// æœ€å¤šé€‰æ‹©æ•°é‡</span>
      <span class="hljs-attr">sizeType</span>: [<span class="hljs-string">'original'</span>, <span class="hljs-string">'compressed'</span>],
      <span class="hljs-attr">sourceType</span>: [<span class="hljs-string">'album'</span>, <span class="hljs-string">'camera'</span>],
      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-keyword">const</span> localIds = res.<span class="hljs-property">localIds</span>; <span class="hljs-comment">// è¿”å›æœ¬åœ°å›¾ç‰‡IDåˆ—è¡¨</span>
        <span class="hljs-title function_">resolve</span>(localIds);
      },
      <span class="hljs-attr">fail</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) {
        <span class="hljs-title function_">reject</span>(err);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
wx.<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> imageIds = <span class="hljs-keyword">await</span> <span class="hljs-title function_">selectImages</span>(<span class="hljs-number">5</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å·²é€‰æ‹©å›¾ç‰‡:'</span>, imageIds);

    <span class="hljs-comment">// ç»§ç»­ä¸Šä¼ å›¾ç‰‡</span>
    <span class="hljs-title function_">uploadImages</span>(imageIds);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é€‰æ‹©å¤±è´¥:'</span>, error);
  }
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">uploadImages</span>(<span class="hljs-params">localIds</span>) {
  localIds.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">localId</span> =&gt;</span> {
    wx.<span class="hljs-title function_">uploadImage</span>({
      <span class="hljs-attr">localId</span>: localId,
      <span class="hljs-attr">isShowProgressTips</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">success</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-keyword">const</span> serverId = res.<span class="hljs-property">serverId</span>; <span class="hljs-comment">// æœåŠ¡å™¨ç«¯å›¾ç‰‡ID</span>
        <span class="hljs-comment">// å°†serverIdå‘é€ç»™åç«¯ä¿å­˜</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸Šä¼ æˆåŠŸ:'</span>, serverId);
      }
    });
  });
}
</code></pre>
<h3 data-id="heading-11">ä¸‰ã€å¾®ä¿¡å°ç¨‹åºåŒçº¿ç¨‹æ¶æ„</h3>
<h4 data-id="heading-12">3.1 å°ç¨‹åºæ¶æ„è®¾è®¡</h4>
<p><strong>å¾®ä¿¡å°ç¨‹åºé‡‡ç”¨åŒçº¿ç¨‹æ¨¡å‹,å°†æ¸²æŸ“å±‚ä¸é€»è¾‘å±‚å®Œå…¨éš”ç¦»:</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph æ¸²æŸ“å±‚[æ¸²æŸ“å±‚ View - WebView]
        A[WXMLæ¨¡æ¿]
        B[WXSSæ ·å¼]
        C[ç»„ä»¶ç³»ç»Ÿ]
    end

    subgraph é€»è¾‘å±‚[é€»è¾‘å±‚ AppService - JSCore]
        D[JavaScriptä»£ç ]
        E[å°ç¨‹åºAPI - wxå¯¹è±¡]
        F[æ•°æ®ç®¡ç†]
    end

    subgraph ç³»ç»Ÿå±‚[Native - å¾®ä¿¡å®¢æˆ·ç«¯]
        G[JSBridge]
        H[ç½‘ç»œè¯·æ±‚]
        I[æ–‡ä»¶ç³»ç»Ÿ]
        J[è®¾å¤‡èƒ½åŠ›]
    end

    A -.-&gt;|æ•°æ®ç»‘å®š| F
    C -.-&gt;|äº‹ä»¶è§¦å‘| D
    D --&gt;|setData| G
    G --&gt;|æ›´æ–°è§†å›¾| A
    E --&gt;|è°ƒç”¨èƒ½åŠ›| G
    G --&gt;|è½¬å‘è¯·æ±‚| H
    G --&gt;|è½¬å‘è¯·æ±‚| I
    G --&gt;|è½¬å‘è¯·æ±‚| J

    style æ¸²æŸ“å±‚ fill:#e3f2fd
    style é€»è¾‘å±‚ fill:#f3e5f5
    style ç³»ç»Ÿå±‚ fill:#fff3e0
</code></pre>
<p><strong>æ¶æ„è®¾è®¡çš„æ ¸å¿ƒä¼˜åŠ¿:</strong></p>
<ol>
<li><strong>å®‰å…¨éš”ç¦»</strong>: é€»è¾‘å±‚æ— æ³•ç›´æ¥æ“ä½œDOM,é˜²æ­¢XSSæ”»å‡»</li>
<li><strong>å¤šWebViewæ”¯æŒ</strong>: æ¯ä¸ªé¡µé¢ç‹¬ç«‹WebView,æ”¯æŒå¤šé¡µé¢å¹¶å­˜</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>: é€»è¾‘å±‚ä½¿ç”¨JSCore,ä¸åŠ è½½DOM/BOM,æ‰§è¡Œæ›´å¿«</li>
</ol>
<h4 data-id="heading-13">3.2 å°ç¨‹åºJSBridgeé€šä¿¡æœºåˆ¶</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Logic as é€»è¾‘å±‚&lt;br/&gt;(JSCore)
    participant Bridge as JSBridge
    participant Native as Nativeå±‚
    participant View as æ¸²æŸ“å±‚&lt;br/&gt;(WebView)

    Note over Logic,View: åœºæ™¯1: æ•°æ®æ›´æ–°
    Logic-&gt;&gt;Bridge: setData({key: value})
    Bridge-&gt;&gt;Native: åºåˆ—åŒ–æ•°æ®
    Native-&gt;&gt;View: ä¼ é€’Virtual DOM diff
    View-&gt;&gt;View: æ›´æ–°é¡µé¢æ¸²æŸ“

    Note over Logic,View: åœºæ™¯2: äº‹ä»¶å“åº”
    View-&gt;&gt;Bridge: bindtapäº‹ä»¶è§¦å‘
    Bridge-&gt;&gt;Native: åºåˆ—åŒ–äº‹ä»¶å¯¹è±¡
    Native-&gt;&gt;Logic: è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°
    Logic-&gt;&gt;Logic: æ‰§è¡Œä¸šåŠ¡é€»è¾‘

    Note over Logic,View: åœºæ™¯3: APIè°ƒç”¨
    Logic-&gt;&gt;Bridge: wx.request(options)
    Bridge-&gt;&gt;Native: è½¬å‘ç½‘ç»œè¯·æ±‚
    Native-&gt;&gt;Native: å‘èµ·HTTPè¯·æ±‚
    Native--&gt;&gt;Bridge: è¿”å›å“åº”æ•°æ®
    Bridge--&gt;&gt;Logic: è§¦å‘successå›è°ƒ
</code></pre>
<h4 data-id="heading-14">3.3 æ•°æ®é€šä¿¡å®ç°</h4>
<p><strong>setDataæ˜¯å°ç¨‹åºä¸­æœ€æ ¸å¿ƒçš„é€šä¿¡API,ç”¨äºé€»è¾‘å±‚å‘æ¸²æŸ“å±‚ä¼ é€’æ•°æ®:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Page</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">userInfo</span>: {},
    <span class="hljs-attr">items</span>: []
  },

  <span class="hljs-attr">onLoad</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€šè¿‡setDataæ›´æ–°æ•°æ®,è§¦å‘è§†å›¾æ›´æ–°</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-attr">userInfo</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
        <span class="hljs-attr">avatar</span>: <span class="hljs-string">'https://example.com/avatar.jpg'</span>
      },
      <span class="hljs-attr">items</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
    });
  },

  <span class="hljs-comment">// ä¼˜åŒ–å»ºè®®: åªæ›´æ–°å˜åŒ–çš„å­—æ®µ</span>
  <span class="hljs-attr">updateUserName</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">newName</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
      <span class="hljs-string">'userInfo.name'</span>: newName  <span class="hljs-comment">// ä½¿ç”¨è·¯å¾„è¯­æ³•,å‡å°‘æ•°æ®ä¼ è¾“</span>
    });
  },

  <span class="hljs-comment">// é¿å…é¢‘ç¹setData</span>
  <span class="hljs-attr">handleScroll</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒ: æ¯æ¬¡æ»šåŠ¨éƒ½setData</span>
    <span class="hljs-comment">// this.setData({ scrollTop: e.detail.scrollTop });</span>

    <span class="hljs-comment">// æ­£ç¡®åšæ³•: èŠ‚æµå¤„ç†</span>
    <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTimer</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTimer</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">scrollTop</span>: e.<span class="hljs-property">detail</span>.<span class="hljs-property">scrollTop</span> });
    }, <span class="hljs-number">100</span>);
  }
});
</code></pre>
<p><strong>setDataåº•å±‚æµç¨‹:</strong></p>
<ol>
<li><strong>åºåˆ—åŒ–æ•°æ®</strong>: å°†JSå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²</li>
<li><strong>é€šè¿‡JSBridgeå‘é€</strong>: Nativeå±‚æ¥æ”¶æ•°æ®</li>
<li><strong>ä¼ é€’åˆ°æ¸²æŸ“å±‚</strong>: Nativeå°†æ•°æ®è½¬å‘åˆ°WebView</li>
<li><strong>Virtual DOM Diff</strong>: è®¡ç®—å·®å¼‚å¹¶æ›´æ–°è§†å›¾</li>
</ol>
<h4 data-id="heading-15">3.4 å°ç¨‹åºAPIè°ƒç”¨æœºåˆ¶</h4>
<p><strong>å°ç¨‹åºçš„wxå¯¹è±¡æ˜¯Nativeæ³¨å…¥çš„JSBridgeæ¥å£:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç½‘ç»œè¯·æ±‚ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUserData</span>(<span class="hljs-params">userId</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    wx.<span class="hljs-title function_">request</span>({
      <span class="hljs-attr">url</span>: <span class="hljs-string">`https://api.example.com/user/<span class="hljs-subst">${userId}</span>`</span>,
      <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
      <span class="hljs-attr">header</span>: {
        <span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-title function_">success</span>(<span class="hljs-params">res</span>) {
        <span class="hljs-keyword">if</span> (res.<span class="hljs-property">statusCode</span> === <span class="hljs-number">200</span>) {
          <span class="hljs-title function_">resolve</span>(res.<span class="hljs-property">data</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è¯·æ±‚å¤±è´¥: <span class="hljs-subst">${res.statusCode}</span>`</span>));
        }
      },
      <span class="hljs-title function_">fail</span>(<span class="hljs-params">err</span>) {
        <span class="hljs-title function_">reject</span>(err);
      }
    });
  });
}

<span class="hljs-comment">// ä½¿ç”¨async/awaitä¼˜åŒ–</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadUserInfo</span>(<span class="hljs-params"/>) {
  wx.<span class="hljs-title function_">showLoading</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'åŠ è½½ä¸­...'</span> });

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> userData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchUserData</span>(<span class="hljs-number">123</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">userInfo</span>: userData });
  } <span class="hljs-keyword">catch</span> (error) {
    wx.<span class="hljs-title function_">showToast</span>({
      <span class="hljs-attr">title</span>: <span class="hljs-string">'åŠ è½½å¤±è´¥'</span>,
      <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span>
    });
  } <span class="hljs-keyword">finally</span> {
    wx.<span class="hljs-title function_">hideLoading</span>();
  }
}
</code></pre>
<p><strong>APIè°ƒç”¨æµç¨‹å›¾:</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[å°ç¨‹åºè°ƒç”¨ wx.request] --&gt; B{JSBridgeæ£€æŸ¥}
    B --&gt;|å‚æ•°æ ¡éªŒ| C[åºåˆ—åŒ–è¯·æ±‚å‚æ•°]
    C --&gt; D[Nativeæ¥ç®¡ç½‘ç»œè¯·æ±‚]
    D --&gt; E[ç³»ç»Ÿå‘èµ·HTTPè¯·æ±‚]
    E --&gt; F{è¯·æ±‚ç»“æœ}
    F --&gt;|æˆåŠŸ| G[å›è°ƒsuccesså‡½æ•°]
    F --&gt;|å¤±è´¥| H[å›è°ƒfailå‡½æ•°]
    G --&gt; I[è¿”å›æ•°æ®åˆ°é€»è¾‘å±‚]
    H --&gt; I
    I --&gt; J[completeå‡½æ•°æ‰§è¡Œ]

    style A fill:#07c160
    style D fill:#ff9800
    style E fill:#2196f3
</code></pre>
<h3 data-id="heading-16">å››ã€è‡ªå®šä¹‰JSBridgeå®ç°</h3>
<h4 data-id="heading-17">4.1 åŸºç¡€å®ç°æ–¹æ¡ˆ</h4>
<p><strong>åŸºäºURL Schemaæ‹¦æˆªå®ç°ä¸€ä¸ªç®€å•çš„JSBridge:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">JSBridge</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span> = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbackId</span> = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// æ³¨å†Œå…¨å±€å›è°ƒå¤„ç†å‡½æ•°</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">_handleMessageFromNative</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_handleCallback</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
  }

  <span class="hljs-comment">// JavaScriptè°ƒç”¨Native</span>
  <span class="hljs-title function_">callNative</span>(<span class="hljs-params">method, params = {}, callback</span>) {
    <span class="hljs-keyword">const</span> cbId = <span class="hljs-string">`cb_<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.callbackId++}</span>`</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>[cbId] = callback;

    <span class="hljs-keyword">const</span> schema = <span class="hljs-string">`jsbridge://<span class="hljs-subst">${method}</span>?params=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(
      <span class="hljs-built_in">JSON</span>.stringify(params)
    )}</span>&amp;callbackId=<span class="hljs-subst">${cbId}</span>`</span>;

    <span class="hljs-comment">// åˆ›å»ºéšè—iframeè§¦å‘schema</span>
    <span class="hljs-keyword">const</span> iframe = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'iframe'</span>);
    iframe.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    iframe.<span class="hljs-property">src</span> = schema;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(iframe);

    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(iframe);
    }, <span class="hljs-number">100</span>);
  }

  <span class="hljs-comment">// Nativeå›è°ƒJavaScript</span>
  <span class="hljs-title function_">_handleCallback</span>(<span class="hljs-params">callbackId, result</span>) {
    <span class="hljs-keyword">const</span> callback = <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>[callbackId];
    <span class="hljs-keyword">if</span> (callback) {
      <span class="hljs-title function_">callback</span>(result);
      <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">callbacks</span>[callbackId];
    }
  }

  <span class="hljs-comment">// æ³¨å†Œå¯è¢«Nativeè°ƒç”¨çš„æ–¹æ³•</span>
  <span class="hljs-title function_">registerHandler</span>(<span class="hljs-params">name, handler</span>) {
    <span class="hljs-variable language_">this</span>[name] = handler;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> bridge = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSBridge</span>();

<span class="hljs-comment">// è°ƒç”¨Nativeæ–¹æ³•</span>
bridge.<span class="hljs-title function_">callNative</span>(<span class="hljs-string">'getLocation'</span>, {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'wgs84'</span>
}, <span class="hljs-keyword">function</span>(<span class="hljs-params">location</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½ç½®ä¿¡æ¯:'</span>, location);
});

<span class="hljs-comment">// æ³¨å†Œä¾›Nativeè°ƒç”¨çš„æ–¹æ³•</span>
bridge.<span class="hljs-title function_">registerHandler</span>(<span class="hljs-string">'updateTitle'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = title;
});
</code></pre>
<h4 data-id="heading-18">4.2 Promiseé£æ ¼å°è£…</h4>
<p><strong>å°†å›è°ƒé£æ ¼æ”¹é€ ä¸ºPromise,æå‡å¼€å‘ä½“éªŒ:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ModernJSBridge</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">JSBridge</span> {
  <span class="hljs-title function_">invoke</span>(<span class="hljs-params">method, params = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callNative</span>(method, params, <span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (result.<span class="hljs-property">code</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-title function_">resolve</span>(result.<span class="hljs-property">data</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(result.<span class="hljs-property">message</span>));
        }
      });
    });
  }
}

<span class="hljs-comment">// ç°ä»£åŒ–ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-keyword">const</span> bridge = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModernJSBridge</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getUserLocation</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> location = <span class="hljs-keyword">await</span> bridge.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'getLocation'</span>, {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'wgs84'</span>
    });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»åº¦:'</span>, location.<span class="hljs-property">longitude</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'çº¬åº¦:'</span>, location.<span class="hljs-property">latitude</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è·å–ä½ç½®å¤±è´¥:'</span>, error.<span class="hljs-property">message</span>);
  }
}
</code></pre>
<h4 data-id="heading-19">4.3 Nativeç«¯å®ç°(ä»¥Androidä¸ºä¾‹)</h4>
<p><strong>Androidç«¯éœ€è¦æ‹¦æˆªWebViewçš„URLè¯·æ±‚å¹¶è§£æåè®®:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿™æ˜¯ä¼ªä»£ç ç¤ºæ„,ç”¨JavaScriptè¯­æ³•æè¿°Androidçš„WebViewClienté€»è¾‘</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">JSBridgeWebViewClient</span> {
  <span class="hljs-title function_">shouldOverrideUrlLoading</span>(<span class="hljs-params">view, url</span>) {
    <span class="hljs-comment">// æ‹¦æˆªè‡ªå®šä¹‰åè®®</span>
    <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'jsbridge://'</span>)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleJSBridgeUrl</span>(url);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‹¦æˆªå¤„ç†,ä¸åŠ è½½URL</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// æ­£å¸¸åŠ è½½</span>
  }

  <span class="hljs-title function_">handleJSBridgeUrl</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-comment">// è§£æ: jsbridge://getLocation?params=xxx&amp;callbackId=cb_1</span>
    <span class="hljs-keyword">const</span> urlObj = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(url);
    <span class="hljs-keyword">const</span> method = urlObj.<span class="hljs-property">hostname</span>;  <span class="hljs-comment">// getLocation</span>
    <span class="hljs-keyword">const</span> params = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(
      <span class="hljs-built_in">decodeURIComponent</span>(urlObj.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'params'</span>))
    );
    <span class="hljs-keyword">const</span> callbackId = urlObj.<span class="hljs-property">searchParams</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'callbackId'</span>);

    <span class="hljs-comment">// è°ƒç”¨åŸç”Ÿèƒ½åŠ›</span>
    <span class="hljs-keyword">switch</span>(method) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">'getLocation'</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getLocation</span>(params, <span class="hljs-function">(<span class="hljs-params">location</span>) =&gt;</span> {
          <span class="hljs-comment">// å›è°ƒJavaScript</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callJS</span>(callbackId, {
            <span class="hljs-attr">code</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">data</span>: location
          });
        });
        <span class="hljs-keyword">break</span>;
    }
  }

  <span class="hljs-title function_">callJS</span>(<span class="hljs-params">callbackId, result</span>) {
    <span class="hljs-keyword">const</span> script = <span class="hljs-string">`window._handleMessageFromNative('<span class="hljs-subst">${callbackId}</span>', <span class="hljs-subst">${
      <span class="hljs-built_in">JSON</span>.stringify(result)
    }</span>)`</span>;
    webView.evaluateJavascript(script, <span class="hljs-literal">null</span>);
  }

  <span class="hljs-title function_">getLocation</span>(<span class="hljs-params">params, callback</span>) {
    <span class="hljs-comment">// è°ƒç”¨Android LocationManagerè·å–ä½ç½®</span>
    <span class="hljs-comment">// è¿™é‡Œæ˜¯ä¼ªä»£ç ,å®é™…éœ€è¦åŸç”ŸJava/Kotlinå®ç°</span>
    <span class="hljs-keyword">const</span> location = {
      <span class="hljs-attr">longitude</span>: <span class="hljs-number">116.404</span>,
      <span class="hljs-attr">latitude</span>: <span class="hljs-number">39.915</span>
    };
    <span class="hljs-title function_">callback</span>(location);
  }
}
</code></pre>
<h3 data-id="heading-20">äº”ã€æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-21">5.1 æ€§èƒ½ä¼˜åŒ–è¦ç‚¹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[JSBridgeæ€§èƒ½ä¼˜åŒ–] --&gt; B[é€šä¿¡ä¼˜åŒ–]
    A --&gt; C[æ•°æ®ä¼˜åŒ–]
    A --&gt; D[è°ƒç”¨ä¼˜åŒ–]
    A --&gt; E[å†…å­˜ç®¡ç†]

    B --&gt; B1[å‡å°‘é€šä¿¡é¢‘æ¬¡]
    B --&gt; B2[æ‰¹é‡ä¼ è¾“æ•°æ®]
    B --&gt; B3[ä½¿ç”¨å¢é‡æ›´æ–°]
    B --&gt; B4[é¿å…å¤§æ•°æ®ä¼ è¾“]

    C --&gt; C1[JSONåºåˆ—åŒ–ä¼˜åŒ–]
    C --&gt; C2[æ•°æ®å‹ç¼©]
    C --&gt; C3[æƒ°æ€§åŠ è½½]
    C --&gt; C4[ç¼“å­˜æœºåˆ¶]

    D --&gt; D1[å¼‚æ­¥éé˜»å¡]
    D --&gt; D2[è¶…æ—¶å¤„ç†]
    D --&gt; D3[å¤±è´¥é‡è¯•]
    D --&gt; D4[é™çº§æ–¹æ¡ˆ]

    E --&gt; E1[åŠæ—¶é‡Šæ”¾å›è°ƒ]
    E --&gt; E2[é¿å…å†…å­˜æ³„æ¼]
    E --&gt; E3[é™åˆ¶é˜Ÿåˆ—é•¿åº¦]

    style A fill:#e3f2fd
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
    style E fill:#ffe0b2
</code></pre>
<h4 data-id="heading-22">5.2 æœ€ä½³å®è·µ</h4>
<p><strong>1. åˆç†ä½¿ç”¨setData(å°ç¨‹åºåœºæ™¯):</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸å¥½çš„åšæ³•</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({
    [<span class="hljs-string">`items[<span class="hljs-subst">${i}</span>]`</span>]: data[i]
  });  <span class="hljs-comment">// 100æ¬¡é€šä¿¡</span>
}

<span class="hljs-comment">// å¥½çš„åšæ³•</span>
<span class="hljs-keyword">const</span> updates = {};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
  updates[<span class="hljs-string">`items[<span class="hljs-subst">${i}</span>]`</span>] = data[i];
}
<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>(updates);  <span class="hljs-comment">// 1æ¬¡é€šä¿¡</span>
</code></pre>
<p><strong>2. å®ç°è¶…æ—¶ä¸é”™è¯¯å¤„ç†:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeJSBridge</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ModernJSBridge</span> {
  <span class="hljs-title function_">invoke</span>(<span class="hljs-params">method, params = {}, timeout = <span class="hljs-number">5000</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([
      <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">invoke</span>(method, params),
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`è°ƒç”¨<span class="hljs-subst">${method}</span>è¶…æ—¶`</span>));
        }, timeout);
      })
    ]);
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> bridge.<span class="hljs-title function_">invoke</span>(<span class="hljs-string">'slowMethod'</span>, {}, <span class="hljs-number">3000</span>);
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-keyword">if</span> (error.<span class="hljs-property">message</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'è¶…æ—¶'</span>)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è¯·æ±‚è¶…æ—¶,è¯·æ£€æŸ¥ç½‘ç»œ'</span>);
  }
}
</code></pre>
<p><strong>3. æƒé™ä¸å®‰å…¨æ£€æŸ¥:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// JSSDKå®‰å…¨æœ€ä½³å®è·µ</span>
<span class="hljs-keyword">const</span> secureConfig = {
  <span class="hljs-comment">// 1. ç­¾ååœ¨åç«¯ç”Ÿæˆ,å‰ç«¯ä¸æš´éœ²secret</span>
  <span class="hljs-attr">getSignature</span>: <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/wechat/signature'</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ url })
    });
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  },

  <span class="hljs-comment">// 2. åŠ¨æ€é…ç½®jsApiList,æŒ‰éœ€æˆæƒ</span>
  <span class="hljs-attr">init</span>: <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> signature = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getSignature</span>(location.<span class="hljs-property">href</span>);
    wx.<span class="hljs-title function_">config</span>({
      ...signature,
      <span class="hljs-attr">jsApiList</span>: [<span class="hljs-string">'chooseImage'</span>]  <span class="hljs-comment">// åªç”³è¯·éœ€è¦çš„æƒé™</span>
    });
  }
};
</code></pre>
<h3 data-id="heading-23">å…­ã€è°ƒè¯•æŠ€å·§</h3>
<h4 data-id="heading-24">6.1 è°ƒè¯•æµç¨‹</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    A[å¼€å‘é˜¶æ®µ] --&gt; B{å¯ç”¨debugæ¨¡å¼}
    B --&gt;|wx.config debug:true| C[æŸ¥çœ‹vconsoleæ—¥å¿—]
    B --&gt;|Chrome DevTools| D[æ–­ç‚¹è°ƒè¯•]

    C --&gt; E[æ£€æŸ¥APIè°ƒç”¨]
    D --&gt; E

    E --&gt; F{å®šä½é—®é¢˜}
    F --&gt;|ç­¾åé”™è¯¯| G[æ£€æŸ¥åç«¯ç­¾åé€»è¾‘]
    F --&gt;|APIè°ƒç”¨å¤±è´¥| H[æ£€æŸ¥æƒé™é…ç½®]
    F --&gt;|é€šä¿¡å¼‚å¸¸| I[æ£€æŸ¥JSBridgeå®ç°]

    G --&gt; J[ä¿®å¤å¹¶é‡æµ‹]
    H --&gt; J
    I --&gt; J

    style B fill:#ff9800
    style F fill:#f44336
    style J fill:#4caf50
</code></pre>
<h4 data-id="heading-25">6.2 å¸¸è§é—®é¢˜æ’æŸ¥</h4>
<p><strong>1. å¾®ä¿¡JSSDKç­¾åå¤±è´¥:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è°ƒè¯•ç­¾åé—®é¢˜</span>
wx.<span class="hljs-title function_">config</span>({
  <span class="hljs-attr">debug</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å¼€å¯è°ƒè¯•æ¨¡å¼</span>
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
});

wx.<span class="hljs-title function_">error</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'é…ç½®å¤±è´¥è¯¦æƒ…:'</span>, res);
  <span class="hljs-comment">// å¸¸è§é”™è¯¯:</span>
  <span class="hljs-comment">// invalid signature - ç­¾åé”™è¯¯,æ£€æŸ¥URLæ˜¯å¦ä¸€è‡´(ä¸å«#hash)</span>
  <span class="hljs-comment">// invalid url domain - åŸŸåæœªé…ç½®åˆ°ç™½åå•</span>
});

<span class="hljs-comment">// æ£€æŸ¥ç‚¹:</span>
<span class="hljs-comment">// 1. ç¡®ä¿URLä¸åŒ…å«hashéƒ¨åˆ†</span>
<span class="hljs-keyword">const</span> url = location.<span class="hljs-property">href</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'#'</span>)[<span class="hljs-number">0</span>];

<span class="hljs-comment">// 2. ç¡®ä¿timestampæ˜¯æ•´æ•°</span>
<span class="hljs-keyword">const</span> timestamp = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() / <span class="hljs-number">1000</span>);

<span class="hljs-comment">// 3. ç¡®ä¿ç­¾åç®—æ³•æ­£ç¡®(SHA1)</span>
<span class="hljs-comment">// ç­¾ååŸä¸²: jsapi_ticket=xxx&amp;noncestr=xxx&amp;timestamp=xxx&amp;url=xxx</span>
</code></pre>
<p><strong>2. å°ç¨‹åºsetDataæ€§èƒ½é—®é¢˜:</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼€å¯æ€§èƒ½ç›‘æ§</span>
wx.<span class="hljs-title function_">setEnableDebug</span>({
  <span class="hljs-attr">enableDebug</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// ç›‘æ§setDataæ€§èƒ½</span>
<span class="hljs-keyword">const</span> perfObserver = wx.<span class="hljs-title function_">createPerformanceObserver</span>(<span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
  entries.<span class="hljs-title function_">getEntries</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">entry</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">entryType</span> === <span class="hljs-string">'render'</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸²æŸ“è€—æ—¶:'</span>, entry.<span class="hljs-property">duration</span>);
    }
  });
});

perfObserver.<span class="hljs-title function_">observe</span>({ <span class="hljs-attr">entryTypes</span>: [<span class="hljs-string">'render'</span>, <span class="hljs-string">'script'</span>] });
</code></pre>
<h3 data-id="heading-26">ä¸ƒã€æ€»ç»“</h3>
<p>JSBridgeä½œä¸ºHybridå¼€å‘çš„æ ¸å¿ƒæŠ€æœ¯,é€šè¿‡å»ºç«‹JavaScriptä¸Nativeçš„é€šä¿¡æ¡¥æ¢,å®ç°äº†WebæŠ€æœ¯ä¸åŸç”Ÿèƒ½åŠ›çš„å®Œç¾èåˆã€‚æœ¬æ–‡é€šè¿‡å‰–æå¾®ä¿¡å…¬ä¼—å·JSSDKå’Œå°ç¨‹åºSDK,æ·±å…¥ç†è§£äº†ä»¥ä¸‹å…³é”®ç‚¹:</p>
<ol>
<li><strong>é€šä¿¡æœºåˆ¶</strong>: URL Schemaæ‹¦æˆªã€APIæ³¨å…¥ã€MessageHandlerä¸‰ç§ä¸»æµæ–¹å¼</li>
<li><strong>æ¶æ„è®¾è®¡</strong>: å¾®ä¿¡å°ç¨‹åºçš„åŒçº¿ç¨‹æ¨¡å‹æä¾›äº†å®‰å…¨æ€§å’Œæ€§èƒ½çš„æœ€ä½³å¹³è¡¡</li>
<li><strong>å®ç°åŸç†</strong>: ä»JSSDKçš„ç­¾åéªŒè¯åˆ°å°ç¨‹åºçš„setDataæœºåˆ¶,ç†è§£äº†å®Œæ•´çš„è°ƒç”¨é“¾è·¯</li>
<li><strong>æœ€ä½³å®è·µ</strong>: æ€§èƒ½ä¼˜åŒ–ã€é”™è¯¯å¤„ç†ã€å®‰å…¨é˜²æŠ¤ç­‰å·¥ç¨‹åŒ–ç»éªŒ</li>
</ol>
<p>æŒæ¡JSBridgeåŸç†ä¸ä»…èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨å¾®ä¿¡ç”Ÿæ€çš„å„ç§èƒ½åŠ›,ä¹Ÿä¸ºæ„å»ºè‡ªå·±çš„Hybridæ¡†æ¶æä¾›äº†åšå®çš„ç†è®ºåŸºç¡€ã€‚åœ¨å®é™…é¡¹ç›®ä¸­,åº”æ ¹æ®å…·ä½“åœºæ™¯é€‰æ‹©åˆé€‚çš„å®ç°æ–¹æ¡ˆ,å¹¶æŒç»­å…³æ³¨æ€§èƒ½ä¸å®‰å…¨,æ‰“é€ æ›´ä¼˜è´¨çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-27">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fzz_jesse%2Farticle%2Fdetails%2F131297966" target="_blank" title="https://blog.csdn.net/zz_jesse/article/details/131297966" ref="nofollow noopener noreferrer">ä»å¾®ä¿¡JS-SDKè®¤è¯†JSBridge - CSDN</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F429774488" target="_blank" title="https://zhuanlan.zhihu.com/p/429774488" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åºæ¸²æŸ“å±‚ä¸é€»è¾‘å±‚ç‹¬ç«‹åŠJSBridgeåŸç†åˆ†æ - çŸ¥ä¹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2401_89241768%2Farticle%2Fdetails%2F149710338" target="_blank" title="https://blog.csdn.net/2401_89241768/article/details/149710338" ref="nofollow noopener noreferrer">JSBridgeåŸç†ä¸å®ç°å…¨è§£æ - CSDN</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rootsense.com.cn%2Fh5%2Fsmart%2Fdeveloping%2F241.htm" target="_blank" title="https://www.rootsense.com.cn/h5/smart/developing/241.htm" ref="nofollow noopener noreferrer">å¾®ä¿¡å°ç¨‹åºåŸºç¡€æ¶æ„æµ…æ - ROOTSENSE</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjavascript.plainenglish.io%2Fwhat-is-jsbridge-f72f3c0987f1" target="_blank" title="https://javascript.plainenglish.io/what-is-jsbridge-f72f3c0987f1" ref="nofollow noopener noreferrer">What is JSBridge - JavaScript in Plain English</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F818505" target="_blank" title="https://developer.aliyun.com/article/818505" ref="nofollow noopener noreferrer">ä¸€æ–‡è¯¦è§£JSBridgeå®ç°åŸç† - é˜¿é‡Œäº‘</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter å¼€å‘å®æˆ˜ï¼šè§£å†³åä¸º HarmonyOS ä»»åŠ¡åˆ—è¡¨ä¸æ˜¾ç¤º App åç§°çš„ç»ˆææŒ‡å—]]></title>    <link>https://juejin.cn/post/7586540799250989110</link>    <guid>https://juejin.cn/post/7586540799250989110</guid>    <pubDate>2025-12-22T15:56:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799250989110" data-draft-id="7586500093844439082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter å¼€å‘å®æˆ˜ï¼šè§£å†³åä¸º HarmonyOS ä»»åŠ¡åˆ—è¡¨ä¸æ˜¾ç¤º App åç§°çš„ç»ˆææŒ‡å—"/> <meta itemprop="keywords" content="Flutter,Android,åä¸º"/> <meta itemprop="datePublished" content="2025-12-22T15:56:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨å¤œå¯»æ™´å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1943592288391496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter å¼€å‘å®æˆ˜ï¼šè§£å†³åä¸º HarmonyOS ä»»åŠ¡åˆ—è¡¨ä¸æ˜¾ç¤º App åç§°çš„ç»ˆææŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592288391496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨å¤œå¯»æ™´å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:56:23.000Z" title="Mon Dec 22 2025 15:56:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨ Flutter åº”ç”¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªæ£˜æ‰‹çš„å…¼å®¹æ€§é—®é¢˜ï¼šåœ¨éƒ¨åˆ† <strong>åä¸ºæ‰‹æœºï¼ˆHarmonyOS 4.2.0ï¼Œå¦‚ Mate 30 Pro 5Gï¼‰</strong> ä¸Šï¼Œåº”ç”¨è¿è¡Œæ—¶çš„<strong>æœ€è¿‘ä»»åŠ¡åˆ—è¡¨ï¼ˆOverview Screenï¼‰<strong>ä¸­ï¼Œåªæ˜¾ç¤ºåº”ç”¨å›¾æ ‡ï¼Œå´</strong>ä¸æ˜¾ç¤ºåº”ç”¨åç§°ï¼ˆApp Nameï¼‰</strong>ã€‚</p>
<p>è™½ç„¶æˆ‘ä»¬åœ¨ <code>AndroidManifest.xml</code> ä¸­æ­£ç¡®é…ç½®äº† <code>android:label</code>ï¼Œä½†åœ¨ HarmonyOS ç³»ç»Ÿä¸Šä¾ç„¶æ— æ•ˆã€‚è¿™ä¸ä»…å½±å“ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿå¯èƒ½å¯¼è‡´åº”ç”¨åœ¨å®¡æ ¸æ—¶è¢«æ‹’ï¼ˆå¦‚åä¸ºåº”ç”¨å¸‚åœºå®¡æ ¸æŒ‡å—ç¬¬ 2.19 é¡¹ï¼‰ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜åˆ†æ</h2>
<p>ç»è¿‡å¤šæ¬¡æ’æŸ¥ä¸å°è¯•ï¼Œæˆ‘ä»¬å‘ç°è¯¥é—®é¢˜ä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªå› ç´ å…±åŒå¯¼è‡´ï¼š</p>
<ol>
<li><strong>Flutter å¼•æ“åˆå§‹åŒ–å¹²æ‰°</strong>ï¼šFlutterActivity åˆå§‹åŒ–è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡ç½®çª—å£å±æ€§ï¼Œå¯¼è‡´åŸç”Ÿçš„æ ‡ç­¾è®¾ç½®è¢«è¦†ç›–ã€‚</li>
<li><strong>API å…¼å®¹æ€§</strong>ï¼šAndroid ä¸åŒç‰ˆæœ¬å¯¹ <code>TaskDescription</code>ï¼ˆä»»åŠ¡æè¿°ï¼‰çš„ API æ”¯æŒä¸åŒã€‚HarmonyOS åŸºäºè¾ƒæ–°çš„ Android ç‰ˆæœ¬ï¼Œå¯¹æ—§ç‰ˆ APIï¼ˆå¦‚åŸºäº Bitmap çš„è®¾ç½®ï¼‰å¯èƒ½å…¼å®¹æ€§ä¸ä½³ã€‚</li>
<li><strong>èµ„æºåŠ è½½æœºåˆ¶</strong>ï¼šç›´æ¥ç¡¬ç¼–ç å­—ç¬¦ä¸²å¯èƒ½å¯¼è‡´ç¼–ç æˆ–åŠ è½½å¤±è´¥ï¼Œå¿…é¡»è§„èŒƒä½¿ç”¨ <code>strings.xml</code> èµ„æºã€‚</li>
<li><strong>æ—¶åºé—®é¢˜</strong>ï¼šä»…åœ¨ <code>onCreate</code> ä¸­è®¾ç½®å¯èƒ½è¿‡æ—©ï¼Œåº”ç”¨å¯åŠ¨åçš„æŸäº›ç³»ç»Ÿå›è°ƒå¯èƒ½ä¼šå†æ¬¡åˆ·æ–°ä»»åŠ¡çŠ¶æ€ï¼Œå¯¼è‡´è®¾ç½®å¤±æ•ˆã€‚</li>
</ol>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆï¼šä¸‰çº§åŠ å›ºç­–ç•¥</h2>
<p>ä¸ºäº†å½»åº•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€å¥—â€œç»„åˆæ‹³â€æ–¹æ¡ˆï¼Œä»èµ„æºé…ç½®åˆ°åŸç”Ÿä»£ç å±‚å±‚åŠ å›ºã€‚</p>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šè§„èŒƒåŒ–èµ„æºé…ç½®</h3>
<p>é¦–å…ˆï¼Œç¡®ä¿ <code>AndroidManifest.xml</code> ä¸­ä¸ä½¿ç”¨ç¡¬ç¼–ç ï¼Œè€Œæ˜¯å¼•ç”¨èµ„æºæ–‡ä»¶ã€‚</p>
<p><strong>1. å®šä¹‰ <code>strings.xml</code></strong>
åœ¨ <code>android/app/src/main/res/values/strings.xml</code> å’Œ <code>values-zh/strings.xml</code> ä¸­æ˜ç¡®å®šä¹‰åº”ç”¨åï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"app_name"</span>&gt;</span>æ‚¨çš„åº”ç”¨åç§°<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
</code></pre>
<p><strong>2. é…ç½® <code>AndroidManifest.xml</code></strong>
ç¡®ä¿ <code>application</code> å’Œ <code>activity</code> èŠ‚ç‚¹éƒ½å¼•ç”¨äº†è¯¥èµ„æºï¼Œå¹¶é…ç½® <code>localeConfig</code>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">application</span>
    <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/app_name"</span>
    <span class="hljs-attr">android:localeConfig</span>=<span class="hljs-string">"@xml/locales_config"</span>
    <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MainActivity"</span>
        <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/app_name"</span>
        <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
</code></pre>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šåŸç”Ÿä»£ç å¼ºåˆ¶å¹²é¢„ (Kotlin)</h3>
<p>è¿™æ˜¯è§£å†³é—®é¢˜çš„æ ¸å¿ƒã€‚æˆ‘ä»¬éœ€è¦åœ¨ <code>MainActivity.kt</code> ä¸­æ‰‹åŠ¨è®¾ç½® <code>TaskDescription</code>ã€‚æˆ‘ä»¬é‡‡ç”¨äº† <strong>â€œä¸‰çº§åŠ å›ºâ€</strong> ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å¤šç”Ÿå‘½å‘¨æœŸè®¾ç½®</strong>ï¼šåœ¨ <code>onCreate</code>ï¼ˆåˆ›å»ºæ—¶ï¼‰å’Œ <code>onResume</code>ï¼ˆå¯è§æ—¶ï¼‰éƒ½è¿›è¡Œè®¾ç½®ã€‚</li>
<li><strong>å»¶è¿Ÿè®¾ç½®</strong>ï¼šåœ¨ <code>onResume</code> åå»¶è¿Ÿ 1 ç§’å†æ¬¡å¼ºåˆ¶åˆ·æ–°ï¼Œé˜²æ­¢è¢« Flutter å¼•æ“åç»­é€»è¾‘è¦†ç›–ã€‚</li>
<li><strong>API è‡ªé€‚åº”</strong>ï¼šé’ˆå¯¹ Android 9.0+ ä½¿ç”¨èµ„æº ID æ–¹å¼ï¼ˆæ›´ç¨³å®šï¼‰ï¼Œæ—§ç‰ˆæœ¬ä½¿ç”¨ Bitmap æ–¹å¼ã€‚</li>
</ol>
<p><strong>å®Œæ•´ä»£ç å®ç° (<code>MainActivity.kt</code>)ï¼š</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">package</span> com.your.<span class="hljs-keyword">package</span>.name

<span class="hljs-keyword">import</span> android.app.ActivityManager
<span class="hljs-keyword">import</span> android.graphics.BitmapFactory
<span class="hljs-keyword">import</span> android.os.Build
<span class="hljs-keyword">import</span> android.os.Bundle
<span class="hljs-keyword">import</span> android.os.Handler
<span class="hljs-keyword">import</span> android.os.Looper
<span class="hljs-keyword">import</span> android.util.Log
<span class="hljs-keyword">import</span> io.flutter.embedding.android.FlutterActivity

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">FlutterActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        <span class="hljs-comment">// 1. åˆå§‹åŒ–æ—¶å°è¯•è®¾ç½®</span>
        updateTaskDescription()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onResume</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onResume()
        <span class="hljs-comment">// 2. ç•Œé¢å¯è§æ—¶å†æ¬¡è®¾ç½®</span>
        updateTaskDescription()
        
        <span class="hljs-comment">// 3. å…³é”®ä¿®å¤ï¼šå»¶è¿Ÿ 1 ç§’å†æ¬¡è®¾ç½®</span>
        <span class="hljs-comment">// é˜²æ­¢ Flutter å¼•æ“åœ¨å¯åŠ¨å®Œæˆåé‡ç½®äº†çª—å£å±æ€§ï¼Œå¯¼è‡´ä¹‹å‰çš„è®¾ç½®å¤±æ•ˆ</span>
        Handler(Looper.getMainLooper()).postDelayed({
            updateTaskDescription()
        }, <span class="hljs-number">1000</span>)
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateTaskDescription</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> appName = getString(R.string.app_name)
            
            <span class="hljs-comment">// å°è¯•è®¾ç½®çª—å£æ ‡é¢˜ï¼Œä½œä¸ºä¸€ç§è¡¥å……æ‰‹æ®µ</span>
            <span class="hljs-keyword">try</span> {
                title = appName
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                <span class="hljs-comment">// å¿½ç•¥è®¾ç½® title å¤±è´¥</span>
            }

            <span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {
                <span class="hljs-comment">// Android 9 (API 28) åŠä»¥ä¸Šï¼šç›´æ¥ä½¿ç”¨èµ„æº IDï¼Œæ›´ç¨³å®š</span>
                <span class="hljs-comment">// ç¬¬ä¸‰ä¸ªå‚æ•° 0 è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤é¢œè‰²</span>
                <span class="hljs-keyword">val</span> taskDescription = ActivityManager.TaskDescription(appName, R.mipmap.launcher_icon, <span class="hljs-number">0</span>)
                setTaskDescription(taskDescription)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {
                <span class="hljs-comment">// Android 5.0 è‡³ 8.1ï¼šä½¿ç”¨ Bitmap è§£ç </span>
                <span class="hljs-keyword">val</span> icon = BitmapFactory.decodeResource(resources, R.mipmap.launcher_icon)
                <span class="hljs-keyword">val</span> taskDescription = ActivityManager.TaskDescription(appName, icon)
                setTaskDescription(taskDescription)
            }
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            Log.e(<span class="hljs-string">"MainActivity"</span>, <span class="hljs-string">"Failed to update TaskDescription"</span>, e)
        }
    }
}
</code></pre>
<h2 data-id="heading-5">å°ç»“</h2>
<p>åä¸º HarmonyOS ç³»ç»Ÿå¯¹åº”ç”¨å…ƒæ•°æ®çš„è¯»å–æœºåˆ¶è¾ƒä¸ºä¸¥æ ¼ã€‚é€šè¿‡åœ¨åŸç”Ÿå±‚ä¸»åŠ¨è°ƒç”¨ <code>setTaskDescription</code>ï¼Œå¹¶é…åˆ <strong>å»¶è¿Ÿæ‰§è¡Œ</strong> ç­–ç•¥ï¼Œæˆ‘ä»¬æˆåŠŸç»•è¿‡äº†ç³»ç»Ÿæˆ–æ¡†æ¶å±‚é¢çš„å¹²æ‰°ï¼Œç¡®ä¿äº†åº”ç”¨åç§°åœ¨æœ€è¿‘ä»»åŠ¡åˆ—è¡¨ä¸­æ­£ç¡®æ˜¾ç¤ºã€‚</p>
<p>å¦‚æœæ‚¨çš„ Flutter åº”ç”¨ä¹Ÿé‡åˆ°äº†ç±»ä¼¼é—®é¢˜ï¼Œä¸å¦¨å°è¯•ä¸Šè¿°æ–¹æ¡ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» v5 åˆ° v6ï¼šè¿™æ¬¡ Ant Design å‡çº§çœŸçš„é¦™]]></title>    <link>https://juejin.cn/post/7586338196302577710</link>    <guid>https://juejin.cn/post/7586338196302577710</guid>    <pubDate>2025-12-22T14:18:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586338196302577710" data-draft-id="7586504691845660681" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» v5 åˆ° v6ï¼šè¿™æ¬¡ Ant Design å‡çº§çœŸçš„é¦™"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-22T14:18:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€å°å’"/> <meta itemprop="url" content="https://juejin.cn/user/1943592286564045"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» v5 åˆ° v6ï¼šè¿™æ¬¡ Ant Design å‡çº§çœŸçš„é¦™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592286564045/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€å°å’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:18:56.000Z" title="Mon Dec 22 2025 14:18:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025 å¹´ 11 æœˆåº•ï¼ŒAnt Design æ­£å¼å‘å¸ƒäº† v6 ç‰ˆæœ¬ã€‚</p>
<p>å›é¡¾è¿‡å»ï¼Œä» v3 åˆ° v4 çš„æ–­å´–å¼å‡çº§ï¼Œåˆ° v5 å¼•å…¥ CSS-in-JS å¸¦æ¥çš„å¿ƒæ™ºè´Ÿæ‹…å’Œæ€§èƒ½å‹åŠ›ï¼Œå¾ˆå¤šå‰ç«¯åŒå­¦ä¸€æåˆ°â€œå‡çº§â€å°±æ¡ä»¶åå°„èˆ¬æŠ¤ä½å‘é™…çº¿ã€‚ä½†è¿™ä¸€æ¬¡ï¼ŒAnt Design å›¢é˜Ÿæ˜æ˜¾å¬åˆ°äº†ç¤¾åŒºçš„å‘¼å£°ã€‚</p>
<p>v6 æ²¡æœ‰ä¸ºäº†â€œåˆ›æ–°â€è€Œæå¤§åˆ€é˜”æ–§çš„é‡æ„ï¼Œè€Œæ˜¯èšç„¦äº<strong>è§£å†³é•¿æœŸç—›ç‚¹</strong>ã€<strong>æå‡å¼€å‘ä½“éªŒ</strong>å’Œ<strong>å¹³æ»‘è¿ç§»</strong>ã€‚æœ¬æ–‡ç»“åˆä¸€çº¿ä¸šåŠ¡å¼€å‘ä¸­çš„çœŸå®åœºæ™¯ï¼ŒèŠèŠ v6 çš„æ ¸å¿ƒå˜åŒ–ï¼Œä»¥åŠè¿™æ¬¡å‡çº§åˆ°åº•å€¼ä¸å€¼å¾—å‡ã€‚</p>
<h2 data-id="heading-0">æ ·å¼è¦†ç›–ä¸å†æ˜¯â€œç„å­¦â€</h2>
<p>ä½ ä¸€å®šæ·±æœ‰ä½“ä¼šï¼šè®¾è®¡å¸ˆè¦æ±‚æ”¹ <code>Select</code> ä¸‹æ‹‰æ¡†èƒŒæ™¯è‰²ã€è°ƒæ•´ <code>Modal</code> å¤´éƒ¨å†…è¾¹è·ï¼Œæˆ–è€…ç»™ <code>Table</code> çš„æŸä¸ªå•å…ƒæ ¼åŠ ç‰¹æ®Šæ ·å¼ã€‚åœ¨ v5 åŠä¹‹å‰ï¼Œä½ åªèƒ½æ‰“å¼€æ§åˆ¶å°ï¼Œä¸€å±‚å±‚æ‰’ DOM ç»“æ„ï¼Œæ‰¾åˆ°ç±»ä¼¼ <code>.ant-select-selector</code> çš„ classï¼Œç„¶åç”¨ <code>:global</code> æˆ– <code>!important</code> æš´åŠ›è¦†ç›–ã€‚ä¸€æ—¦ç»„ä»¶åº“å†…éƒ¨ DOM å¾®è°ƒï¼Œä½ çš„æ ·å¼å°±å´©äº†ã€‚</p>
<p><strong>å…¨é‡ DOM è¯­ä¹‰åŒ– + ç»†ç²’åº¦ classNames / styles API</strong><br/>
v6 å¯¹æ‰€æœ‰ç»„ä»¶è¿›è¡Œäº† <strong>DOM è¯­ä¹‰åŒ–æ”¹é€ </strong>ï¼ˆå¦‚ç”¨ <code>&lt;header&gt;</code>ã€<code>&lt;main&gt;</code> ç­‰ä»£æ›¿æ— æ„ä¹‰çš„ <code>&lt;div&gt;</code>ï¼‰ï¼Œæ›´é‡è¦çš„æ˜¯å¼•å…¥äº†å¤æ•°å½¢å¼çš„ <code>classNames</code> å’Œ <code>styles</code> å±æ€§ï¼Œè®©ä½ ç›´æ¥é€šè¿‡è¯­ä¹‰åŒ–çš„ key æ¥å®šåˆ¶å…³é”®åŒºåŸŸã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// v6 å†™æ³•ï¼šç²¾å‡†ã€å®‰å…¨ã€å¥å£®</span>
&lt;<span class="hljs-title class_">Modal</span>
  title=<span class="hljs-string">"ä¸šåŠ¡é…ç½®"</span>
  open={<span class="hljs-literal">true</span>}
  classNames={{
    <span class="hljs-attr">header</span>: <span class="hljs-string">'my-modal-header'</span>,
    <span class="hljs-attr">body</span>: <span class="hljs-string">'my-modal-body'</span>,
    <span class="hljs-attr">footer</span>: <span class="hljs-string">'my-modal-footer'</span>,
    <span class="hljs-attr">mask</span>: <span class="hljs-string">'glass-blur-mask'</span>, <span class="hljs-comment">// ç”šè‡³èƒ½ç›´æ¥æ§åˆ¶é®ç½©</span>
    <span class="hljs-attr">content</span>: <span class="hljs-string">'my-modal-content'</span>,
  }}
  styles={{
    <span class="hljs-attr">header</span>: { <span class="hljs-attr">borderBottom</span>: <span class="hljs-string">'1px solid #eee'</span>, <span class="hljs-attr">padding</span>: <span class="hljs-string">'16px 24px'</span> },
    <span class="hljs-attr">body</span>: { <span class="hljs-attr">padding</span>: <span class="hljs-string">'24px'</span> },
  }}
&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹åŒºåŸŸ...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
&lt;/<span class="hljs-title class_">Modal</span>&gt;
</code></pre>
<p><strong>v5 vs v6 å¯¹æ¯”ï¼ˆModal å¤´éƒ¨æ ·å¼å®šåˆ¶ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">// v5ï¼ˆhack å†™æ³•ï¼Œæ˜“å´©ï¼‰</span>
<span class="hljs-keyword">import</span> { <span class="hljs-variable language_">global</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>; <span class="hljs-comment">// æˆ–ç›´æ¥å†™ less</span>
:<span class="hljs-title function_">global</span>(<span class="hljs-params">.ant-modal-header</span>) {
  border-<span class="hljs-attr">bottom</span>: 1px solid #eee !important;
}
</code></pre>
<p><strong>v6 æŠ€æœ¯ä»·å€¼</strong></p>
<ul>
<li><strong>ä¸å†ä¾èµ–å†…éƒ¨ class å</strong>ï¼šå®˜æ–¹æ‰¿è¯ºè¿™äº› keyï¼ˆå¦‚ headerã€bodyï¼‰çš„å­˜åœ¨ï¼Œå³ä½¿æœªæ¥ DOM ç»“æ„å˜åŒ–ï¼Œä½ çš„æ ·å¼ä¾ç„¶æœ‰æ•ˆã€‚</li>
<li><strong>æ”¯æŒåŠ¨æ€æ ·å¼</strong>ï¼š<code>styles</code> å±æ€§æ¥å—å¯¹è±¡ï¼Œæ–¹ä¾¿ç»“åˆä¸»é¢˜æˆ– props åŠ¨æ€ç”Ÿæˆã€‚</li>
</ul>
<h2 data-id="heading-1">åŸç”Ÿ CSS å˜é‡å…¨é¢å›å½’</h2>
<p>v5 çš„ CSS-in-JS æ–¹æ¡ˆè™½ç„¶è§£å†³äº†æŒ‰éœ€åŠ è½½å’ŒåŠ¨æ€ä¸»é¢˜ï¼Œä½†åœ¨å¤§å‹åå°ç³»ç»Ÿé‡Œï¼Œè¿è¡Œæ—¶ç”Ÿæˆæ ·å¼çš„ JS å¼€é”€ä»ç„¶æ˜æ˜¾ï¼Œå°¤å…¶åœ¨ä½ç«¯è®¾å¤‡ä¸Šåˆ‡æ¢ä¸»é¢˜æˆ–è·¯ç”±æ—¶å®¹æ˜“æ‰å¸§ã€é—ªçƒã€‚</p>
<p><strong>v6 çš„è§£æ³•ï¼šé›¶è¿è¡Œæ—¶ï¼ˆZero-runtimeï¼‰CSS å˜é‡æ¨¡å¼</strong><br/>
å½»åº•æŠ›å¼ƒ CSS-in-JSï¼Œé»˜è®¤ä½¿ç”¨åŸç”Ÿ CSS Variablesï¼ˆCustom Propertiesï¼‰ã€‚</p>
<ul>
<li><strong>ä½“ç§¯æ›´å°</strong>ï¼šCSS æ–‡ä»¶æ˜¾è‘—å‡å°ï¼ˆå®˜æ–¹ç§°éƒ¨åˆ†åœºæ™¯ä¸‹å‡å°‘ 30%+ï¼‰ã€‚</li>
<li><strong>å“åº”æ›´å¿«</strong>ï¼šä¸»é¢˜åˆ‡æ¢åªéœ€ä¿®æ”¹ CSS å˜é‡å€¼ï¼Œæµè§ˆå™¨åŸç”Ÿå¤„ç†ï¼Œæ¯«ç§’çº§ç”Ÿæ•ˆï¼Œæ— éœ€é‡æ–°ç”Ÿæˆå“ˆå¸Œç±»åã€‚</li>
<li><strong>æš—é»‘æ¨¡å¼å‹å¥½</strong>ï¼šç›´æ¥é€šè¿‡ <code>--antd-color-primary</code> ç­‰å˜é‡å®ç°å…¨å±€ä¸»é¢˜åˆ‡æ¢ã€‚</li>
</ul>
<p>è¿™å¯¹éœ€è¦æ”¯æŒå¤šå“ç‰Œè‰²ã€æš—é»‘æ¨¡å¼çš„ SaaS å¹³å°æ¥è¯´ï¼Œæ˜¯å·¨å¤§çš„æ€§èƒ½çº¢åˆ©ã€‚</p>
<h2 data-id="heading-2">é«˜é¢‘åœºæ™¯å®˜æ–¹æ¥ç®¡</h2>
<p>ç€‘å¸ƒæµå¸ƒå±€ã€Drawer æ‹–æ‹½è°ƒæ•´å¤§å°ã€InputNumber åŠ å‡æŒ‰é’®ç­‰ï¼Œéƒ½æ˜¯ä¸šåŠ¡ä¸­å¸¸è§éœ€æ±‚ï¼Œä½†ä¹‹å‰å¾€å¾€éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“æˆ–è‡ªå·±æ‰‹å†™ï¼Œå¢åŠ ç»´æŠ¤æˆæœ¬å’Œæ‰“åŒ…ä½“ç§¯ã€‚</p>
<p><strong>v6 çš„è§£æ³•ï¼šæ–°å¢å®ç”¨ç»„ä»¶ &amp; äº¤äº’ä¼˜åŒ–</strong></p>
<ul>
<li><strong>Masonry ç€‘å¸ƒæµ</strong>ï¼ˆå†…ç½®ï¼‰</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Masonry</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Masonry</span> <span class="hljs-attr">columns</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">xs:</span> <span class="hljs-attr">1</span>, <span class="hljs-attr">sm:</span> <span class="hljs-attr">2</span>, <span class="hljs-attr">md:</span> <span class="hljs-attr">3</span>, <span class="hljs-attr">lg:</span> <span class="hljs-attr">4</span> }} <span class="hljs-attr">gutter</span>=<span class="hljs-string">{16}</span>&gt;</span>
  {items.map(item =&gt; (
    <span class="hljs-tag">&lt;<span class="hljs-name">Card</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span> <span class="hljs-attr">cover</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{item.cover}</span> /&gt;</span>} {...item} /&gt;
  ))}
<span class="hljs-tag">&lt;/<span class="hljs-name">Masonry</span>&gt;</span></span>
</code></pre>
<ul>
<li><strong>Drawer æ”¯æŒæ‹–æ‹½</strong>ï¼šåŸç”Ÿæ”¯æŒæ‹–æ‹½æ”¹å˜å®½åº¦ï¼Œæ— éœ€è‡ªå·±å†™ resize é€»è¾‘ã€‚</li>
<li><strong>InputNumber æ”¯æŒ spinner æ¨¡å¼</strong>ï¼šåŠ å‡æŒ‰é’®ç›´æ¥åœ¨è¾“å…¥æ¡†ä¸¤ä¾§ï¼Œåƒè´­ç‰©è½¦é‚£æ ·ã€‚</li>
<li><strong>å…¶ä»–</strong>ï¼šTooltip æ”¯æŒå¹³ç§»ï¼ˆpanningï¼‰ã€å¼¹å±‚é»˜è®¤æ”¯æŒæ¨¡ç³Šè’™å±‚ï¼ˆblur maskï¼‰ç­‰äº¤äº’ä¼˜åŒ–ã€‚</li>
</ul>
<p>è¿™äº›è¡¥é½äº†ä¸šåŠ¡é«˜é¢‘åœºæ™¯ï¼Œå‡å°‘äº†â€œè‡ªå·±é€ è½®å­â€çš„ç—›è‹¦ã€‚</p>
<h2 data-id="heading-3">å‡çº§å»ºè®®ï¼šè¿™æ¬¡çœŸçš„â€œå¹³æ»‘â€å—ï¼Ÿ</h2>
<p><strong>v6 è¿ç§»å…³é”®äº‹å®</strong></p>
<ul>
<li><strong>React ç‰ˆæœ¬è¦æ±‚</strong>ï¼šå¿…é¡»å‡çº§åˆ° <strong>React 18+</strong>ï¼ˆä¸å†æ”¯æŒ React 17 åŠä»¥ä¸‹ï¼‰ã€‚</li>
<li><strong>ç ´åæ€§å˜æ›´</strong>ï¼šéƒ¨åˆ† API è¢«åºŸå¼ƒï¼ˆå¦‚ <code>bordered</code> â†’ <code>variant</code>ã€<code>headStyle</code> â†’ <code>styles.header</code> ç­‰ï¼‰ï¼Œv7 å°†å½»åº•ç§»é™¤ã€‚</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šv5 é¡¹ç›®ç»å¤§å¤šæ•°ä¸šåŠ¡é€»è¾‘ä»£ç æ— éœ€æ”¹åŠ¨ï¼Œä½†è‹¥å¤§é‡ä½¿ç”¨äº†æ·±å±‚ hack æ ·å¼ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ã€‚</li>
<li><strong>æ¨èå·¥å…·</strong>ï¼šå®˜æ–¹æä¾› Codemod è¿ç§»è„šæœ¬ï¼Œå¯è‡ªåŠ¨åŒ–å¤„ç†å¤§éƒ¨åˆ†åºŸå¼ƒ APIã€‚</li>
</ul>
<p><strong>å»ºè®®</strong></p>
<ol>
<li><strong>æ–°é¡¹ç›®</strong>ï¼šç›´æ¥ä¸Š v6ï¼Œäº«å—æ›´å¥½çš„æ€§èƒ½ã€ä½“éªŒå’Œæœªæ¥ç»´æŠ¤æ€§ã€‚</li>
<li><strong>v5 é¡¹ç›®</strong>ï¼šå…ˆåœ¨ dev åˆ†æ”¯å°è¯•å‡çº§ã€‚æ— å¤§é‡ hack æ ·å¼çš„è¯ï¼Œæˆæœ¬å¾ˆä½ã€‚</li>
<li><strong>v4 åŠæ›´è€é¡¹ç›®</strong>ï¼šè·¨åº¦è¾ƒå¤§ï¼Œå»ºè®®å…ˆé€æ­¥è¿ç§»åˆ° v5ï¼Œå†å‡ v6ï¼›æˆ–åœ¨æ–°æ¨¡å—ä¸­ä½¿ç”¨ v6ï¼ˆé…åˆå¾®å‰ç«¯æˆ–åŒ…éš”ç¦»ï¼‰ã€‚</li>
<li><strong>å‡çº§å‰æ£€æŸ¥</strong>ï¼š
<ul>
<li>ç¡®è®¤ React â‰¥ 18</li>
<li>è¿è¡Œå®˜æ–¹ Codemod</li>
<li>éªŒè¯ç›®æ ‡æµè§ˆå™¨æ”¯æŒ CSS å˜é‡ï¼ˆIE å½»åº•ä¸æ”¯æŒï¼‰</li>
</ul>
</li>
</ol>
<h2 data-id="heading-4">æ€»ç»“</h2>
<p>Ant Design v6 æ˜¯ä¸€æ¬¡**â€œè¿”ç’å½’çœŸâ€**çš„å‡çº§ã€‚å®ƒæŠŠæ§åˆ¶æƒè¿˜ç»™å¼€å‘è€…ï¼ˆè¯­ä¹‰åŒ– APIï¼‰ï¼Œç”¨ç°ä»£æµè§ˆå™¨ç‰¹æ€§è§£å†³æ€§èƒ½é—®é¢˜ï¼ˆé›¶è¿è¡Œæ—¶ CSS å˜é‡ï¼‰ï¼Œå¹¶è¡¥é½äº†ä¸šåŠ¡é«˜é¢‘ç»„ä»¶ã€‚</p>
<p><strong>å‡çº§æ ¸å¿ƒæ”¶ç›Š</strong></p>
<ul>
<li>æ›´å°‘çš„ hack ä»£ç ï¼Œæ›´å¥å£®çš„æ ·å¼</li>
<li>æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼ˆä¸»é¢˜åˆ‡æ¢ã€æ¸²æŸ“é€Ÿåº¦ï¼‰</li>
<li>å®˜æ–¹æ¥ç®¡é«˜é¢‘ä¸šåŠ¡ç»„ä»¶ï¼Œå‡å°‘ç¬¬ä¸‰æ–¹ä¾èµ–</li>
<li>å¹³æ»‘è¿ç§»è·¯å¾„ï¼ŒçœŸæ­£é™ä½äº†â€œå‡çº§ç«è‘¬åœºâ€çš„é£é™©</li>
</ul>
<p>å¯¹äºä¸šåŠ¡å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ„å‘³ç€ï¼š<strong>æ›´å°‘çš„åŠ ç­ã€æ›´å¿«çš„é¡µé¢ã€æ›´æ—©ä¸‹ç­</strong>ã€‚</p>
<p><strong>å‚è€ƒé“¾æ¥</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fmigration-v6-cn%2F" target="_blank" title="https://ant.design/docs/react/migration-v6-cn/" ref="nofollow noopener noreferrer">Ant Design v6 è¿ç§»æŒ‡å—</a>ï¼ˆä¸­æ–‡ï¼‰ / <a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Freact%2Fmigration-v6" target="_blank" title="https://ant.design/docs/react/migration-v6" ref="nofollow noopener noreferrer">English</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fdocs%2Fblog%2Fsemantic-beauty-cn%2F" target="_blank" title="https://ant.design/docs/blog/semantic-beauty-cn/" ref="nofollow noopener noreferrer">è¯­ä¹‰åŒ–æ›´æ–°è¯´æ˜</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fchangelog-cn%2F" target="_blank" title="https://ant.design/changelog-cn/" ref="nofollow noopener noreferrer">æ›´æ–°æ—¥å¿— (Changelog)</a>ï¼ˆä¸­æ–‡ï¼‰ / <a href="https://link.juejin.cn?target=https%3A%2F%2Fant.design%2Fchangelog" target="_blank" title="https://ant.design/changelog" ref="nofollow noopener noreferrer">English</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GIS æ•°æ®è½¬æ¢ï¼šä½¿ç”¨ GDAL å°† TXT è½¬æ¢ä¸º Shp æ•°æ®]]></title>    <link>https://juejin.cn/post/7586540799250710582</link>    <guid>https://juejin.cn/post/7586540799250710582</guid>    <pubDate>2025-12-22T14:31:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586540799250710582" data-draft-id="7586490798432141375" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GIS æ•°æ®è½¬æ¢ï¼šä½¿ç”¨ GDAL å°† TXT è½¬æ¢ä¸º Shp æ•°æ®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:31:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GIS æ•°æ®è½¬æ¢ï¼šä½¿ç”¨ GDAL å°† TXT è½¬æ¢ä¸º Shp æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:31:48.000Z" title="Mon Dec 22 2025 14:31:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>TXT ä½œä¸ºä¸€ç§æ–‡æœ¬æ ¼å¼ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å­˜å‚¨ä¸€äº›ç®€å•å‡ ä½•æ•°æ®ã€‚åœ¨ GIS å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦è¿›è¡Œæ•°æ®çš„è½¬æ¢å¤„ç†ï¼Œå…¶ä¸­å¸¸è§çš„ä¾¿æ˜¯å°† TXT è½¬æ¢ä¸º Shp æ•°æ®è¿›è¡Œå±•ç¤ºã€‚</p>
</blockquote>
<p>æœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£</p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
</ul>
<p>å¦‚å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-1">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2025å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.7</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-2">2. æ•°æ®å‡†å¤‡</h2>
<p><code>TXT</code>ï¼ˆçº¯æ–‡æœ¬æ–‡ä»¶ï¼‰æ˜¯ä¸€ç§æœ€åŸºæœ¬çš„æ–‡ä»¶æ ¼å¼ï¼Œä»…å­˜å‚¨æ— æ ¼å¼çš„æ–‡æœ¬æ•°æ®ï¼Œé€‚ç”¨äºå„ç§åœºæ™¯ï¼ˆå¦‚æ•°æ®äº¤æ¢ã€æ—¥å¿—è®°å½•ã€é…ç½®æ–‡ä»¶ç­‰ï¼‰ã€‚</p>
<p><strong>å¦‚ä¸‹æ˜¯å…¨å›½çœä¼šåŸå¸‚äººå£ TXT æ–‡æœ¬ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust">ID,Name,Longitude,Latitude,Population
<span class="hljs-number">1</span>,Beijing,<span class="hljs-number">116.40</span>,<span class="hljs-number">39.90</span>,<span class="hljs-number">2171</span>ä¸‡
<span class="hljs-number">2</span>,Shanghai,<span class="hljs-number">121.47</span>,<span class="hljs-number">31.23</span>,<span class="hljs-number">2487</span>ä¸‡
<span class="hljs-number">3</span>,Guangzhou,<span class="hljs-number">113.26</span>,<span class="hljs-number">23.12</span>,<span class="hljs-number">1868</span>ä¸‡
<span class="hljs-number">4</span>,Shenzhen,<span class="hljs-number">114.05</span>,<span class="hljs-number">22.55</span>,<span class="hljs-number">1756</span>ä¸‡
<span class="hljs-number">5</span>,Tianjin,<span class="hljs-number">117.20</span>,<span class="hljs-number">39.08</span>,<span class="hljs-number">1373</span>ä¸‡
<span class="hljs-number">6</span>,Chongqing,<span class="hljs-number">106.50</span>,<span class="hljs-number">29.53</span>,<span class="hljs-number">3205</span>ä¸‡
<span class="hljs-number">7</span>,Chengdu,<span class="hljs-number">104.06</span>,<span class="hljs-number">30.67</span>,<span class="hljs-number">2094</span>ä¸‡
<span class="hljs-number">8</span>,Wuhan,<span class="hljs-number">114.30</span>,<span class="hljs-number">30.60</span>,<span class="hljs-number">1121</span>ä¸‡
<span class="hljs-number">9</span>,Hangzhou,<span class="hljs-number">120.15</span>,<span class="hljs-number">30.28</span>,<span class="hljs-number">1194</span>ä¸‡
<span class="hljs-number">10</span>,Nanjing,<span class="hljs-number">118.78</span>,<span class="hljs-number">32.04</span>,<span class="hljs-number">931</span>ä¸‡
<span class="hljs-number">11</span>,Xi<span class="hljs-symbol">'an</span>,<span class="hljs-number">108.93</span>,<span class="hljs-number">34.27</span>,<span class="hljs-number">1295</span>ä¸‡
<span class="hljs-number">12</span>,Changsha,<span class="hljs-number">112.97</span>,<span class="hljs-number">28.20</span>,<span class="hljs-number">839</span>ä¸‡
<span class="hljs-number">13</span>,Zhengzhou,<span class="hljs-number">113.62</span>,<span class="hljs-number">34.75</span>,<span class="hljs-number">1260</span>ä¸‡
<span class="hljs-number">14</span>,Harbin,<span class="hljs-number">126.63</span>,<span class="hljs-number">45.75</span>,<span class="hljs-number">1076</span>ä¸‡
<span class="hljs-number">15</span>,Shenyang,<span class="hljs-number">123.43</span>,<span class="hljs-number">41.80</span>,<span class="hljs-number">831</span>ä¸‡
<span class="hljs-number">16</span>,Qingdao,<span class="hljs-number">120.38</span>,<span class="hljs-number">36.07</span>,<span class="hljs-number">1007</span>ä¸‡
<span class="hljs-number">17</span>,Dalian,<span class="hljs-number">121.62</span>,<span class="hljs-number">38.92</span>,<span class="hljs-number">745</span>ä¸‡
<span class="hljs-number">18</span>,Xiamen,<span class="hljs-number">118.08</span>,<span class="hljs-number">24.48</span>,<span class="hljs-number">516</span>ä¸‡
<span class="hljs-number">19</span>,Ningbo,<span class="hljs-number">121.55</span>,<span class="hljs-number">29.88</span>,<span class="hljs-number">854</span>ä¸‡
<span class="hljs-number">20</span>,Hefei,<span class="hljs-number">117.28</span>,<span class="hljs-number">31.86</span>,<span class="hljs-number">937</span>ä¸‡
<span class="hljs-number">21</span>,Fuzhou,<span class="hljs-number">119.30</span>,<span class="hljs-number">26.08</span>,<span class="hljs-number">829</span>ä¸‡
<span class="hljs-number">22</span>,Jinan,<span class="hljs-number">117.00</span>,<span class="hljs-number">36.67</span>,<span class="hljs-number">920</span>ä¸‡
<span class="hljs-number">23</span>,Taiyuan,<span class="hljs-number">112.55</span>,<span class="hljs-number">37.87</span>,<span class="hljs-number">530</span>ä¸‡
<span class="hljs-number">24</span>,Changchun,<span class="hljs-number">125.35</span>,<span class="hljs-number">43.88</span>,<span class="hljs-number">906</span>ä¸‡
<span class="hljs-number">25</span>,Kunming,<span class="hljs-number">102.72</span>,<span class="hljs-number">25.04</span>,<span class="hljs-number">846</span>ä¸‡
<span class="hljs-number">26</span>,Nanning,<span class="hljs-number">108.37</span>,<span class="hljs-number">22.82</span>,<span class="hljs-number">874</span>ä¸‡
<span class="hljs-number">27</span>,Lanzhou,<span class="hljs-number">103.82</span>,<span class="hljs-number">36.06</span>,<span class="hljs-number">435</span>ä¸‡
<span class="hljs-number">28</span>,Yinchuan,<span class="hljs-number">106.27</span>,<span class="hljs-number">38.47</span>,<span class="hljs-number">285</span>ä¸‡
<span class="hljs-number">29</span>,Xining,<span class="hljs-number">101.77</span>,<span class="hljs-number">36.62</span>,<span class="hljs-number">263</span>ä¸‡
<span class="hljs-number">30</span>,UrÃ¼mqi,<span class="hljs-number">87.62</span>,<span class="hljs-number">43.82</span>,<span class="hljs-number">405</span>ä¸‡
<span class="hljs-number">31</span>,Lhasa,<span class="hljs-number">91.11</span>,<span class="hljs-number">29.65</span>,<span class="hljs-number">86</span>ä¸‡
<span class="hljs-number">32</span>,Haikou,<span class="hljs-number">110.20</span>,<span class="hljs-number">20.05</span>,<span class="hljs-number">287</span>ä¸‡
</code></pre>
<h2 data-id="heading-3">3. å¯¼å…¥ä¾èµ–</h2>
<p><code>TXT</code>ä½œä¸ºä¸€ç§çŸ¢é‡æ•°æ®æ ¼å¼ï¼Œå¯ä»¥ä½¿ç”¨çŸ¢é‡åº“<code>OGR</code>è¿›è¡Œå¤„ç†ï¼Œä»¥å®ç°<code>TXT</code>æ•°æ®ä»æ–‡æœ¬æ ¼å¼è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ã€‚å…¶ä¸­è¿˜æ¶‰åŠåæ ‡å®šä¹‰ï¼Œæ‰€ä»¥è¿˜éœ€è¦å¼•å…¥<code>osr</code>æ¨¡å—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span>Â osgeoÂ <span class="hljs-keyword">import</span>Â ogr,osr
<span class="hljs-keyword">import</span>Â os
<span class="hljs-keyword">import</span>Â csv
</code></pre>
<h2 data-id="heading-4">4. æ•°æ®è¯»å–ä¸è½¬æ¢</h2>
<p>å®šä¹‰ä¸€ä¸ªæ–¹æ³•<code>Txt2Shp(txtPath,shpPath,encoding="UTF-8")</code>ç”¨äºå°†<code>TXT</code>æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šå°†Â TXTÂ æ–‡ä»¶è½¬æ¢ä¸ºÂ ShapfileÂ æ–‡ä»¶
å‚æ•°ï¼š
Â Â Â Â -txtPathï¼šTXTÂ æ–‡ä»¶è·¯å¾„
Â Â Â Â -shpPathï¼šShpÂ æ–‡ä»¶è·¯å¾„
Â Â Â Â -encodingï¼šTXTÂ æ–‡ä»¶ç¼–ç 
"""</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">Txt2Shp</span>(<span class="hljs-params">txtPath,shpPath,encoding=<span class="hljs-string">"UTF-8"</span></span>)
</code></pre>
<p>åœ¨è¿›è¡Œ<code>TXT</code>æ•°æ®æ ¼å¼è½¬æ¢ä¹‹å‰ï¼Œéœ€è¦æ£€æŸ¥æ•°æ®è·¯å¾„æ˜¯å¦å­˜åœ¨ã€‚</p>
<pre><code class="hljs language-lua" lang="lua">#Â æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
<span class="hljs-keyword">if</span>Â <span class="hljs-built_in">os</span>.<span class="hljs-built_in">path</span>.exists(txtPath):
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"TXTÂ æ–‡ä»¶å­˜åœ¨ã€‚"</span>)
<span class="hljs-keyword">else</span>:
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"TXTÂ æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·é‡æ–°é€‰æ‹©æ–‡ä»¶ï¼"</span>)
Â Â Â Â <span class="hljs-keyword">return</span>
</code></pre>
<p>é€šè¿‡<code>GetDriverByName</code>è·å–<code>Shp</code>æ•°æ®é©±åŠ¨ï¼Œå¹¶ä½¿ç”¨<code>os.path.exists</code>æ–¹æ³•æ£€æŸ¥<code>Shp</code>æ–‡ä»¶æ˜¯å¦å·²ç»åˆ›å»ºï¼Œå¦‚æœå­˜åœ¨åˆ™å°†å…¶åˆ é™¤ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â æ³¨å†Œæ‰€æœ‰é©±åŠ¨</span>
ogr.RegisterAll()

<span class="hljs-comment">#Â æ·»åŠ Shpæ•°æ®æº</span>
shpDriverÂ =Â ogr.GetDriverByName(<span class="hljs-string">'ESRIÂ Shapefile'</span>)

<span class="hljs-keyword">if</span>Â os.path.exists(shpPath):
Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â shpDriver.DeleteDataSource(shpPath)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡ä»¶å·²åˆ é™¤ï¼"</span>)
Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–‡ä»¶åˆ é™¤å‡ºé”™ï¼š<span class="hljs-subst">{e}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">False</span>
</code></pre>
<p>æ¥ç€åˆ›å»º<code>Shp</code>æ•°æ®æºå’Œç©ºé—´å‚è€ƒï¼Œæ•°æ®åæ ‡ç³»è¿™é‡Œå®šä¹‰ä¸º4326ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â åˆ›å»ºShpæ•°æ®æº</span>
shpDataSourceÂ =Â shpDriver.CreateDataSource(shpPath)
<span class="hljs-keyword">if</span>Â shpDataSourceÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ— æ³•åˆ›å»ºShpæ•°æ®æºï¼Œè¯·æ£€æŸ¥æ–‡ä»¶ï¼"</span>)
Â Â Â Â <span class="hljs-keyword">return</span>Â false
<span class="hljs-comment">#Â åˆ›å»ºç©ºé—´å‚è€ƒ</span>
spatialReferenceÂ =Â osr.SpatialReference()
spatialReference.ImportFromEPSG(<span class="hljs-number">4326</span>)
</code></pre>
<p>ä¹‹åé€šè¿‡æ•°æ®æºæ–¹æ³•<code>CreateLayer</code>åˆ›å»º<code>Shp</code>å›¾å±‚ï¼Œä½¿ç”¨å›¾å±‚æ–¹æ³•<code>CreateField</code>æ·»åŠ å±æ€§å­—æ®µï¼Œéœ€è¦å®šä¹‰å±æ€§åç§°ä»¥åŠå±æ€§å­—æ®µç±»å‹ã€‚</p>
<pre><code class="hljs language-less" lang="less">#Â åˆ›å»ºå›¾å±‚
<span class="hljs-selector-tag">shpLayer</span>Â =Â <span class="hljs-selector-tag">shpDataSource</span><span class="hljs-selector-class">.CreateLayer</span>(<span class="hljs-string">"points"</span>,spatialReference,ogr.wkbPoint)

#Â æ·»åŠ å›¾å±‚å­—æ®µ
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"ID"</span>,ogr.OFTString))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Name"</span>,ogr.OFTString))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Longitude"</span>,ogr.OFTReal))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Latitude"</span>,ogr.OFTReal))
<span class="hljs-selector-tag">shpLayer</span><span class="hljs-selector-class">.CreateField</span>(ogr.<span class="hljs-built_in">FieldDefn</span>(<span class="hljs-string">"Population"</span>,ogr.OFTString))
</code></pre>
<p>è¯»å–<code>TXT</code>æ•°æ®å¹¶å°†å…¶è½¬æ¢ä¸º<code>Shapefile</code>æ•°æ®ï¼Œåœ¨æ‰“å¼€æ•°æ®æ—¶ï¼Œæ ¹æ®<code>TXT</code>æ–‡ä»¶å±æ€§ï¼Œä½¿ç”¨é€—å·åˆ†éš”ç¬¦è¿›è¡Œè¯»å–å¹¶è·³è¿‡è¡¨å¤´è¡Œæ•°æ®ã€‚ä¹‹åæ ¹æ®è¡Œæ•°æ®è¿›è¡Œå±æ€§éå†ï¼Œå°†è¯»å–çš„å­—æ®µå€¼å’Œå‡ ä½•å±æ€§å†™å…¥åˆ°è¦ç´ å¯¹è±¡ä¸­ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#Â è¯»å–TXTæ–‡ä»¶</span>
<span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(txtPath,<span class="hljs-string">"r"</span>,encoding=encoding)Â <span class="hljs-keyword">as</span>Â txtFile:
Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®é€—å·åˆ†éš”ç¬¦è¿›è¡Œè¯»å–</span>
Â Â Â Â readerÂ =Â csv.reader(txtFile,delimiter=<span class="hljs-string">","</span>)
Â Â Â Â <span class="hljs-comment">#Â è·³è¿‡è¡¨å¤´</span>
Â Â Â Â headerÂ =Â <span class="hljs-built_in">next</span>(reader)
Â Â Â Â <span class="hljs-comment">#Â éå†è®°å½•</span>
Â Â Â Â <span class="hljs-keyword">for</span>Â rowÂ <span class="hljs-keyword">in</span>Â reader:
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¦ç´ è®°å½•ï¼š<span class="hljs-subst">{row}</span>"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºè¦ç´ </span>
Â Â Â Â Â Â Â Â featureÂ =Â ogr.Feature(shpLayer.GetLayerDefn())

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®å›¾å±‚å­—æ®µå†™å…¥å±æ€§</span>
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"ID"</span>,<span class="hljs-built_in">str</span>(row[<span class="hljs-number">0</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Name"</span>,<span class="hljs-built_in">str</span>(row[<span class="hljs-number">1</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Longitude"</span>,<span class="hljs-built_in">float</span>(row[<span class="hljs-number">2</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Latitude"</span>,<span class="hljs-built_in">float</span>(row[<span class="hljs-number">3</span>]))
Â Â Â Â Â Â Â Â feature.SetField(<span class="hljs-string">"Population"</span>,<span class="hljs-built_in">str</span>(row[<span class="hljs-number">4</span>]))

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºå‡ ä½•å¯¹è±¡</span>
Â Â Â Â Â Â Â Â wktÂ =Â <span class="hljs-string">f"POINT(<span class="hljs-subst">{<span class="hljs-built_in">float</span>(row[<span class="hljs-number">2</span>])}</span>Â <span class="hljs-subst">{<span class="hljs-built_in">float</span>(row[<span class="hljs-number">3</span>])}</span>)"</span>
Â Â Â Â Â Â Â Â pointGeomÂ =Â ogr.CreateGeometryFromWkt(wkt)

Â Â Â Â Â Â Â Â feature.SetGeometry(pointGeom)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å°†è¦ç´ æ·»åŠ åˆ°å›¾å±‚</span>
Â Â Â Â Â Â Â Â shpLayer.CreateFeature(feature)
Â Â Â Â Â Â Â Â featureÂ =Â <span class="hljs-literal">None</span>

CreateCpgFile2Encode(shpPath,encoding)
<span class="hljs-comment">#Â é‡Šæ”¾æ•°æ®èµ„æºÂ Â Â Â Â Â Â Â </span>
shpDataSourceÂ =Â <span class="hljs-literal">None</span>
</code></pre>
<p>å…¶ä¸­<code>CreateCpgFile2Encode</code>æ–¹æ³•ç”¨äºåˆ›å»ºå­—ç¬¦ç¼–ç æ–‡ä»¶ï¼Œåç¼€åä¸º<code>.cpg</code>ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è¯´æ˜ï¼šåˆ›å»º.cpgæ–‡ä»¶æŒ‡å®šå­—ç¬¦ç¼–ç 
å‚æ•°ï¼š
Â Â Â Â -shpPathï¼šShpæ–‡ä»¶è·¯å¾„
Â Â Â Â -encodingï¼šShpæ–‡ä»¶å­—ç¬¦ç¼–ç 
"""</span>
<span class="hljs-keyword">def</span>Â <span class="hljs-title function_">CreateCpgFile2Encode</span>(<span class="hljs-params">shpPath,encoding</span>):
Â Â Â Â fileNameÂ =Â os.path.splitext(shpPath)[<span class="hljs-number">0</span>]
Â Â Â Â cpgFileÂ =Â fileNameÂ +Â <span class="hljs-string">".cpg"</span>

Â Â Â Â <span class="hljs-keyword">with</span>Â <span class="hljs-built_in">open</span>(cpgFile,<span class="hljs-string">"w"</span>,encoding=encoding)Â <span class="hljs-keyword">as</span>Â f:
Â Â Â Â Â Â Â Â f.write(encoding)
Â Â Â Â Â Â Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æˆåŠŸåˆ›å»ºç¼–ç æ–‡ä»¶:Â <span class="hljs-subst">{cpgFile}</span>"</span>)
</code></pre>
<p>ç¨‹åºæˆåŠŸè½¬æ¢æ•°æ®æ˜¾ç¤ºå¦‚ä¸‹ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10f03e53d8b14f8eaf79549da9f969af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767018708&amp;x-signature=Y%2BNBTLQrPFbuh%2Be4RsqBhfLAL8c%3D" alt="" loading="lazy"/></p>
<p>ä½¿ç”¨<code>ArcMap</code>æ‰“å¼€æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/074a8d3ab9434bd880ada8a55ab50ce1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767018708&amp;x-signature=t61QtbAYKXmOoT6IH%2BK%2BunaGRF8%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flinkæºç é˜…è¯»ï¼šWatermarkæœºåˆ¶]]></title>    <link>https://juejin.cn/post/7586505172815495219</link>    <guid>https://juejin.cn/post/7586505172815495219</guid>    <pubDate>2025-12-22T14:46:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815495219" data-draft-id="7586504691845775369" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flinkæºç é˜…è¯»ï¼šWatermarkæœºåˆ¶"/> <meta itemprop="keywords" content="Flink,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-12-22T14:46:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢å‘Googleç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986695374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flinkæºç é˜…è¯»ï¼šWatermarkæœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986695374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢å‘Googleç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:46:58.000Z" title="Mon Dec 22 2025 14:46:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰é¢æˆ‘ä»¬å·²ç»æ¢³ç†äº† Flink çŠ¶æ€å’Œ Checkpoint ç›¸å…³çš„æºç ã€‚ä»æœ¬æ–‡å¼€å§‹ï¼Œæˆ‘ä»¬å†æ¥å…³æ³¨å¦å¤–å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œå³æ—¶é—´ã€Watermark å’Œçª—å£ã€‚</p>
<h3 data-id="heading-0">å†™åœ¨å‰é¢</h3>
<p>åœ¨ Flink ä¸­ Watermark æ˜¯ç”¨æ¥è§£å†³æ•°æ®ä¹±åºé—®é¢˜çš„ï¼Œå®ƒä¹Ÿæ˜¯çª—å£å…³é—­çš„è§¦å‘æ¡ä»¶ã€‚å¯¹äº Watermark çš„æ¦‚å¿µå’Œç”¨æ³•è¿˜ä¸ç†Ÿæ‚‰çš„åŒå­¦å¯ä»¥å…ˆé˜…è¯»<a href="https://link.juejin.cn?target=https%3A%2F%2Fjackeyzhe.github.io%2F2025%2F06%2F30%2FFlink%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B0%25EF%25BC%259A%25E6%2597%25B6%25E9%2597%25B4%25E4%25B8%258EWatermark%2F" target="_blank" title="https://jackeyzhe.github.io/2025/06/30/Flink%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%9A%E6%97%B6%E9%97%B4%E4%B8%8EWatermark/" ref="nofollow noopener noreferrer">Flinkå­¦ä¹ ç¬”è®°ï¼šæ—¶é—´ä¸Watermark</a>ä¸€æ–‡ã€‚ä¸‹é¢æˆ‘ä»¬è¿›å…¥æ­£é¢˜ï¼Œå¼€å§‹æ¢³ç† Watermark ç›¸å…³çš„æºç ã€‚</p>
<h3 data-id="heading-1">Watermark å®šä¹‰</h3>
<p>Watermark çš„å®šä¹‰éå¸¸ç®€å•ï¼Œå®ƒç»§æ‰¿äº† <code>StreamElement</code> ç±»ï¼Œå†…éƒ¨åªæœ‰ä¸€ä¸ª timestamp å˜é‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PublicEvolving</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Watermark</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">StreamElement</span> {

    <span class="hljs-comment">/** The watermark that signifies end-of-event-time. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Watermark</span> <span class="hljs-variable">MAX_WATERMARK</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watermark</span>(Long.MAX_VALUE);

    <span class="hljs-comment">/** The watermark that signifies is used before any actual watermark has been generated. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Watermark</span> <span class="hljs-variable">UNINITIALIZED</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Watermark</span>(Long.MIN_VALUE);

    <span class="hljs-comment">// ------------------------------------------------------------------------</span>

    <span class="hljs-comment">/** The timestamp of the watermark in milliseconds. */</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> timestamp;

    <span class="hljs-comment">/** Creates a new watermark with the given timestamp in milliseconds. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Watermark</span><span class="hljs-params">(<span class="hljs-type">long</span> timestamp)</span> {
        <span class="hljs-built_in">this</span>.timestamp = timestamp;
    }

    <span class="hljs-comment">/** Returns the timestamp associated with this {<span class="hljs-doctag">@link</span> Watermark} in milliseconds. */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getTimestamp</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> timestamp;
    }

    <span class="hljs-comment">// ------------------------------------------------------------------------</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span> == o
                || o != <span class="hljs-literal">null</span>
                        &amp;&amp; o.getClass() == <span class="hljs-built_in">this</span>.getClass()
                        &amp;&amp; ((Watermark) o).timestamp == timestamp;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>) (timestamp ^ (timestamp &gt;&gt;&gt; <span class="hljs-number">32</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Watermark @ "</span> + timestamp;
    }
}
</code></pre>
<h3 data-id="heading-2">Watermark å¤„ç†è¿‡ç¨‹</h3>
<p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ Watermark çš„ç”Ÿæˆæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">SingleOutputStreamOperator&lt;Event&gt; <span class="hljs-attr">withTimestampsAndWatermarks</span> = source
        .assignTimestampsAndWatermarks(
                WatermarkStrategy.forBoundedOutOfOrderness(Duration.ofSeconds(20))
        )<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-3">åˆå§‹åŒ–</h4>
<p>åœ¨å®šä¹‰ Watermark çš„æ—¶å€™ï¼Œæˆ‘ä»¬è°ƒç”¨ assignTimestampsAndWatermarks æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-type">SingleOutputStreamOperator</span>&lt;<span class="hljs-type">T</span>&gt; assignTimestampsAndWatermarks(
        <span class="hljs-type">WatermarkStrategy</span>&lt;<span class="hljs-type">T</span>&gt; watermarkStrategy) {
    <span class="hljs-keyword">final</span> <span class="hljs-type">WatermarkStrategy</span>&lt;<span class="hljs-type">T</span>&gt; cleanedStrategy <span class="hljs-operator">=</span> clean(watermarkStrategy);
    <span class="hljs-comment">// match parallelism to input, to have a 1:1 source -&gt; timestamps/watermarks relationship</span>
    <span class="hljs-comment">// and chain</span>
    <span class="hljs-keyword">final</span> int inputParallelism <span class="hljs-operator">=</span> getTransformation().getParallelism();
    <span class="hljs-keyword">final</span> <span class="hljs-type">TimestampsAndWatermarksTransformation</span>&lt;<span class="hljs-type">T</span>&gt; transformation <span class="hljs-operator">=</span>
            new <span class="hljs-type">TimestampsAndWatermarksTransformation</span>&lt;&gt;(
                    <span class="hljs-string">"Timestamps/Watermarks"</span>,
                    inputParallelism,
                    getTransformation(),
                    cleanedStrategy,
                    <span class="hljs-literal">false</span>);
    getExecutionEnvironment().addOperator(transformation);
    <span class="hljs-keyword">return</span> new <span class="hljs-type">SingleOutputStreamOperator</span>&lt;&gt;(getExecutionEnvironment(), transformation);
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•æ¥æ”¶äº†ä¸€ä¸ª WatermarkStrategy å‚æ•°ï¼ŒæŠŠå®ƒå°è£…åˆ° TimestampsAndWatermarksTransformation ä¸­ä¹‹åï¼Œå°±æ·»åŠ åˆ° transformations åˆ—è¡¨ä¸­äº†ã€‚åœ¨ç”Ÿæˆ StreamGraph çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨æ¯ä¸ª transformation çš„ transform æ–¹æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c0920d6ef954cfebbd21e82caec352b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=o4HDvIbnF0FMPCn3rJFzH1z2dEM%3D" alt="transform" loading="lazy"/></p>
<p>é€šè¿‡è¿™ä¸ªè°ƒç”¨é“¾è·¯ï¼Œåˆ›å»ºå‡ºäº† TimestampsAndWatermarksOperatorFactoryï¼Œåœ¨åˆå§‹åŒ– StreamTask æ—¶ï¼Œä¼šè°ƒç”¨ <code>TimestampsAndWatermarksOperatorFactory.createStreamOperator</code> æ–¹æ³•æ¥åˆ›å»º TimestampsAndWatermarksOperatorï¼Œå¹¶è°ƒç”¨å®ƒçš„ open æ–¹æ³•ã€‚</p>
<p>åœ¨è¿™ä¸ª open æ–¹æ³•ä¸­ï¼Œä¸»è¦æ˜¯ç”Ÿæˆ timestampAssigner å’Œ watermarkGeneratorã€‚timestampAssigner æ˜¯ç”¨äºæå–æ—¶é—´æˆ³ï¼ŒwatermarkGenerator æ˜¯ç”¨äºç”Ÿæˆ Watermarkã€‚</p>
<p>ç”Ÿæˆå®Œæˆä¹‹åæ³¨å†Œäº†ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåˆ°æŒ‡å®šæ—¶é—´åä¼šè°ƒç”¨ onProcessingTime æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">public void <span class="hljs-built_in">onProcessingTime</span>(long timestamp) throws Exception {
    watermarkGenerator<span class="hljs-selector-class">.onPeriodicEmit</span>(wmOutput);

    final long now = <span class="hljs-built_in">getProcessingTimeService</span>()<span class="hljs-selector-class">.getCurrentProcessingTime</span>();
    <span class="hljs-built_in">getProcessingTimeService</span>()<span class="hljs-selector-class">.registerTimer</span>(now + watermarkInterval, this);
}
</code></pre>
<p>è¿™ä¸ªæ–¹æ³•çš„é€»è¾‘ä¹Ÿå¾ˆç®€å•ï¼Œå…ˆå‘é€åˆ›å»ºå¹¶å‘é€ Watermarkï¼Œç„¶åå†æ³¨å†Œä¸€ä¸ªå®šæ—¶å™¨ã€‚</p>
<h4 data-id="heading-4">å‘é€ Watermark</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/849537fb82f2428a9e6f354166bc984a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=Q9U8zY0irzZ%2FXBuYc4IwxU8BhUM%3D" alt="emitWatermark" loading="lazy"/></p>
<p>æˆ‘ä»¬ä»¥ BoundedOutOfOrdernessWatermarks ä¸ºä¾‹ï¼Œå®ƒå‘ä¸‹æ¸¸å‘é€äº†ä¸€ä¸ª Watermarkï¼Œæ—¶é—´æˆ³ä¸º maxTimestamp - outOfOrdernessMillis - 1ï¼ˆmaxTimestamp æ˜¯å½“å‰æœ€å¤§çš„äº‹ä»¶æ—¶é—´æˆ³ï¼ŒoutOfOrdernessMillis æ˜¯æˆ‘ä»¬å®šä¹‰çš„å‘¨æœŸæ—¶é—´æ¯«ç§’å€¼ï¼‰ã€‚éšååœ¨ WatermarkEmitter.emitWatermark æ–¹æ³•ä¸­ï¼Œæ›´æ–°äº†å½“å‰ Watermark çš„å€¼ã€‚æœ€å RecordWriterOutput.emitWatermark åˆ™æ˜¯å‘ä¸‹æ¸¸å¹¿æ’­å½“å‰çš„ Watermarkã€‚</p>
<h4 data-id="heading-5">ä¸‹æ¸¸å¤„ç†</h4>
<p>ä¸‹æ¸¸å¤„ç†æ–¹æ³•æˆ‘ä»¬ä» <code>StreamOneInputProcessor.processInput</code> å…¥æ‰‹ï¼Œå…ˆæ¥çœ‹å…·ä½“çš„è°ƒç”¨é“¾è·¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47b303cc67ec47a09609ba5245c80c4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=nDd1rjWpLmI7VtcAyN%2FF1peSqO0%3D" alt="processWatermark" loading="lazy"/></p>
<p>åœ¨ inputWatermark æ–¹æ³•ä¸­ï¼Œå…ˆæ˜¯å¯¹ alignedSubpartitionStatuses è¿›è¡Œè°ƒæ•´ï¼ŒalignedSubpartitionStatuses è¿™ä¸ªå˜é‡ä¸»è¦æ˜¯ç”¨æ¥è·å–æœ€å°çš„ Watermarkã€‚æœ€åè°ƒç”¨äº† <code>findAndOutputNewMinWatermarkAcrossAlignedSubpartitions</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä¼šè·å–åˆ°æ‰€æœ‰ä¸Šæ¸¸æœ€å°çš„ Watermarkï¼Œå¦‚æœå®ƒå¤§äºæœ€è¿‘å‘é€çš„ä¸€ä¸ª Watermarkï¼Œå°±ä¼šå‘ä¸‹æ¸¸å‘é€ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">emitWatermark</span><span class="hljs-params">(Watermark watermark)</span> throws Exception </span>{
    watermarkGauge.<span class="hljs-built_in">setCurrentWatermark</span>(watermark.<span class="hljs-built_in">getTimestamp</span>());
    <span class="hljs-keyword">operator</span>.<span class="hljs-built_in">processWatermark</span>(watermark);
}
</code></pre>
<p>è¿™ä¸ªå‘é€æ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº† <code>operator.processWatermark</code>ï¼Œæˆ‘ä»¬æ¥ç€çœ‹è¿™ä¸ªå¤„ç†æ–¹æ³•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7ef73c2e5d74e5bb1ab37c51992a0ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019617&amp;x-signature=3h9jC4RjjTX6lbtfWAemX2W6Ywk%3D" alt="advanceWatermark" loading="lazy"/></p>
<p>åœ¨ tryAdvanceWatermark æ–¹æ³•ä¸­å¦‚æœ Watermark çš„æ—¶é—´å¤§äº eventTimeTimersQueue é˜Ÿåˆ—ä¸­å¤´èŠ‚ç‚¹çš„æ—¶é—´ï¼Œé‚£ä¹ˆå¯¹ eventTimeTimersQueue è¿™ä¸ªé˜Ÿåˆ—è¿›è¡Œå‡ºé˜Ÿæ“ä½œï¼Œè¿™ä¸ªæ“ä½œæ„å‘³ç€è§¦å‘äº†çª—å£è®¡ç®—ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">public boolean tryAdvanceWatermark(
        long time, InternalTimeServiceManager.ShouldStopAdvancingFn shouldStopAdvancingFn)
        throws Exception {
    <span class="hljs-attr">currentWatermark</span> = time<span class="hljs-comment">;</span>
    InternalTimer&lt;K, N&gt; timer<span class="hljs-comment">;</span>
    boolean <span class="hljs-attr">interrupted</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
    while ((<span class="hljs-attr">timer</span> = eventTimeTimersQueue.peek()) != null
            &amp;&amp; timer.getTimestamp() &lt;= time
            &amp;&amp; !cancellationContext.isCancelled()
            &amp;&amp; !interrupted) {
        keyContext.setCurrentKey(timer.getKey())<span class="hljs-comment">;</span>
        eventTimeTimersQueue.poll()<span class="hljs-comment">;</span>
        triggerTarget.onEventTime(timer)<span class="hljs-comment">;</span>
        taskIOMetricGroup.getNumFiredTimers().inc()<span class="hljs-comment">;</span>
        // Check if we should stop advancing after at least one iteration to guarantee progress
        // and prevent a potential <span class="hljs-attr">starvation.
        interrupted</span> = shouldStopAdvancingFn.test()<span class="hljs-comment">;</span>
    }
    return !interrupted<span class="hljs-comment">;</span>
}
</code></pre>
<p>ä¹‹å Watermark å°±éšç€æ•°æ®æµä¸€ç›´åˆ° sink èŠ‚ç‚¹ï¼Œåœ¨ StreamSink ä¸­ï¼Œæ”¯æŒç”¨æˆ·è‡ªå·±å®ç°æ–¹æ³•å‘ sink ä¸­å†™å…¥ Watermarkï¼Œé™¤æ­¤ä¹‹å¤–ä»€ä¹ˆä¹Ÿä¸åšã€‚</p>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>æœ¬æ–‡æˆ‘ä»¬ä¸€èµ·æ¢³ç†äº† Watermark ç›¸å…³çš„æºç ï¼Œä» Watermark çš„å®šä¹‰ï¼Œåˆ° Watermark çš„å¤„ç†è¿‡ç¨‹ã€‚å¤„ç†è¿‡ç¨‹åˆ†æˆäº†åˆå§‹åŒ–ã€ä¸Šæ¸¸å‘é€å’Œä¸‹æ¸¸å¤„ç†ä¸‰éƒ¨åˆ†ã€‚åœ¨ä¸‹æ¸¸å¤„ç†éƒ¨åˆ†ï¼Œå…³äºè§¦å‘çª—å£è®¡ç®—çš„éƒ¨åˆ†æˆ‘ä»¬ç®€å•å¸¦è¿‡äº†ï¼Œåé¢ä¼šå†è¯¦ç»†ä»‹ç»è¿™éƒ¨åˆ†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ2ï¼‰ï¼šRegex åŸºç¡€è¯­æ³•ä¸å¸¸ç”¨ API å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7586505172815511603</link>    <guid>https://juejin.cn/post/7586505172815511603</guid>    <pubDate>2025-12-22T14:51:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586505172815511603" data-draft-id="7584824891595341860" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ2ï¼‰ï¼šRegex åŸºç¡€è¯­æ³•ä¸å¸¸ç”¨ API å…¨è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,C#,æ­£åˆ™è¡¨è¾¾å¼"/> <meta itemprop="datePublished" content="2025-12-22T14:51:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ›é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/950397795841032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ2ï¼‰ï¼šRegex åŸºç¡€è¯­æ³•ä¸å¸¸ç”¨ API å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/950397795841032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ›é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:51:09.000Z" title="Mon Dec 22 2025 14:51:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€IsMatch å…¥é—¨</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Text.RegularExpressions;

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-built_in">string</span> input = <span class="hljs-string">"2025-12-18"</span>;
        <span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"^\d{4}-\d{2}-\d{2}$"</span>;

        <span class="hljs-built_in">bool</span> isValid = Regex.IsMatch(input, pattern);
        Console.WriteLine(isValid); <span class="hljs-comment">// True</span>
    }
}
</code></pre>
<p><strong>è§£æï¼š</strong>ï¼š</p>
<ul>
<li><code>pattern</code> æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œ<code>@"..."</code> æ˜¯ C# çš„é€å­—å­—ç¬¦ä¸²å­—é¢é‡ã€‚</li>
<li><code>^</code> å’Œ <code>$</code>ï¼šé”šç‚¹ï¼Œè¡¨ç¤ºâ€œä»å¤´åˆ°å°¾æ•´ä¸²åŒ¹é…â€</li>
<li><code>\d{4}</code>ï¼š4 ä½æ•°å­—ã€‚</li>
<li><code>-</code>ï¼šå­—é¢é‡â€œ-â€ã€‚</li>
<li><code>Regex.IsMatch</code>ï¼šçœ‹å­—ç¬¦ä¸²ä¸­æ˜¯ä¸æ˜¯â€œæ»¡è¶³è¿™ä¸ªæ¨¡å¼â€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€C# Regex çš„ 5 ä¸ªæ ¸å¿ƒæ–¹æ³•</h2>
<p>åœ¨ <code>System.Text.RegularExpressions.Regex</code> é‡Œï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯è¿™ 5 ä¸ªæ–¹æ³•ï¼š</p>
<ol>
<li><code>IsMatch</code></li>
<li><code>Match</code></li>
<li><code>Matches</code></li>
<li><code>Replace</code></li>
<li><code>Split</code></li>
</ol>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€Regex.IsMatchï¼šæœ€å¸¸ç”¨çš„â€œåˆ¤æ–­æ˜¯å¦åŒ¹é…â€</h2>
<p><code>IsMatch</code> æ˜¯è¡¨å•æ ¡éªŒã€è¾“å…¥åˆæ³•æ€§æ£€æŸ¥ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">bool</span> isEmail = Regex.IsMatch(email, pattern);
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"Order12345"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d{3}"</span>;

<span class="hljs-built_in">bool</span> has3Digits = Regex.IsMatch(input, pattern); <span class="hljs-comment">// True</span>
</code></pre>
<p>æ³¨æ„ç‚¹ï¼š</p>
<ul>
<li>é»˜è®¤åªè¦â€œåŒ…å«â€æ»¡è¶³ pattern çš„å­ä¸²ï¼Œå°±è¿”å› trueï¼Œå¹¶ä¸è¦æ±‚æ•´ä¸ªå­—ç¬¦ä¸²éƒ½å®Œå…¨åŒ¹é…ã€‚</li>
<li>å¦‚æœä½ æƒ³â€œæ•´ä¸ªå­—ç¬¦ä¸²å¿…é¡»ç¬¦åˆè¿™ä¸ªè§„åˆ™â€ï¼Œè¦åœ¨ pattern å¤–é¢åŠ ä¸Š <code>^</code> å’Œ <code>$</code>ï¼š</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åªå…è®¸ç”± 3~5 ä½æ•°å­—ç»„æˆï¼Œä¸å…è®¸å¤šä¸€ä¸ªå­—ç¬¦</span>
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"^\d{3,5}$"</span>;
</code></pre>
<hr/>
<h2 data-id="heading-3">å››ã€Regex.Matchï¼šè·å–ç¬¬ä¸€ä¸ªåŒ¹é…</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> text = <span class="hljs-string">"My phone is 123-456-7890."</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d{3}-\d{3}-\d{4}"</span>;

Match match = Regex.Match(text, pattern);
<span class="hljs-keyword">if</span> (match.Success)
{
    Console.WriteLine(match.Value);  <span class="hljs-comment">// "123-456-7890"</span>
    Console.WriteLine(match.Index);  <span class="hljs-comment">// èµ·å§‹ç´¢å¼•</span>
    Console.WriteLine(match.Length); <span class="hljs-comment">// åŒ¹é…çš„é•¿åº¦</span>
}
</code></pre>
<p>å¸¸ç”¨æˆå‘˜ï¼š</p>
<ul>
<li><code>match.Success</code>ï¼šæ˜¯å¦åŒ¹é…æˆåŠŸã€‚</li>
<li><code>match.Value</code>ï¼šåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ã€‚</li>
<li><code>match.Index</code>ï¼šåŒ¹é…åœ¨åŸæ–‡æœ¬ä¸­çš„èµ·å§‹ä½ç½®ï¼ˆä» 0 å¼€å§‹ï¼‰ã€‚</li>
<li><code>match.Length</code>ï¼šé•¿åº¦ã€‚</li>
</ul>
<p><code>Regex.Match</code> ä¹Ÿæœ‰å¸¦èµ·å§‹ä½ç½®ã€å¸¦ <code>RegexOptions</code> çš„é‡è½½ï¼š</p>
<hr/>
<h2 data-id="heading-4">äº”ã€Regex.Matchesï¼šè·å–æ‰€æœ‰åŒ¹é…ç»“æœï¼ˆå¤šä¸ªï¼‰</h2>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> text = <span class="hljs-string">"ID: 100, 200, 300"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d+"</span>;

MatchCollection matches = Regex.Matches(text, pattern);
<span class="hljs-keyword">foreach</span> (Match m <span class="hljs-keyword">in</span> matches)
{
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{m.Value}</span> at <span class="hljs-subst">{m.Index}</span>"</span>);
}
<span class="hljs-comment">// è¾“å‡º:</span>
<span class="hljs-comment">// 100 at 4</span>
<span class="hljs-comment">// 200 at 9</span>
<span class="hljs-comment">// 300 at 14</span>
</code></pre>
<p><strong>è§£æï¼š</strong></p>
<ul>
<li>è¿”å›çš„æ˜¯ä¸€ä¸ª <code>MatchCollection</code>ï¼Œå¯ä»¥ <code>foreach</code> éå†ã€‚</li>
<li>æ¯ä¸ª <code>Match</code> å’Œå‰é¢ä¸€æ ·ï¼Œæœ‰ <code>Value</code>ã€<code>Index</code>ã€<code>Groups</code> ç­‰å±æ€§ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">å…­ã€Regex.Replaceï¼šæŒ‰æ¨¡å¼æœç´¢å¹¶æ›¿æ¢</h2>
<p><code>Regex.Replace</code> å’Œå­—ç¬¦ä¸²çš„ <code>Replace</code> å¾ˆåƒï¼Œä½†æ”¯æŒæ¨¡å¼åŒ¹é…ã€‚</p>
<h3 data-id="heading-6">1. å›ºå®šå­—ç¬¦ä¸²æ›¿æ¢åŒ¹é…å†…å®¹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"2025/12/18"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"/"</span>;

<span class="hljs-built_in">string</span> result = Regex.Replace(input, pattern, <span class="hljs-string">"-"</span>);
Console.WriteLine(result); <span class="hljs-comment">// "2025-12-18"</span>
</code></pre>
<p>è¿™ç›¸å½“äºâ€œæŠŠæ‰€æœ‰ <code>/</code> éƒ½æ¢æˆ <code>-</code>â€ï¼Œå’Œ <code>input.Replace("/", "-")</code> ç±»ä¼¼ï¼Œä½† pattern å¯ä»¥å†™å¾—æ›´å¤æ‚ã€‚</p>
<h3 data-id="heading-7">2.ç”¨æ•è·ç»„é‡æ’å†…å®¹</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"2025-12-18"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"(\d{4})-(\d{2})-(\d{2})"</span>;

<span class="hljs-comment">// æŠŠ yyyy-MM-dd æ”¹æˆ dd/MM/yyyy</span>
<span class="hljs-built_in">string</span> result = Regex.Replace(input, pattern, <span class="hljs-string">"$3/$2/$1"</span>);
<span class="hljs-comment">// result: "18/12/2025"</span>
</code></pre>
<p><strong>è§£æï¼š</strong></p>
<p>è¿™é‡Œçš„ <code>$1</code>ã€<code>$2</code>ã€<code>$3</code> æ˜¯æ•è·ç»„</p>
<h3 data-id="heading-8">3. æ›´é«˜çº§çš„ <code>MatchEvaluator</code> ç‰ˆæœ¬</h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"Price: 100 USD, 200 USD"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"(\d+)\s*USD"</span>;

<span class="hljs-built_in">string</span> result = Regex.Replace(input, pattern, m =&gt;
{
    <span class="hljs-built_in">int</span> <span class="hljs-keyword">value</span> = <span class="hljs-built_in">int</span>.Parse(m.Groups[<span class="hljs-number">1</span>].Value);
    <span class="hljs-built_in">int</span> converted = (<span class="hljs-built_in">int</span>)(<span class="hljs-keyword">value</span> * <span class="hljs-number">7.2</span>); <span class="hljs-comment">// å‡è®¾æ±‡ç‡</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">$"<span class="hljs-subst">{converted}</span> CNY"</span>;
});

Console.WriteLine(result);
<span class="hljs-comment">// "Price: 720 CNY, 1440 CNY"</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸ƒã€Regex.Splitï¼šæŒ‰â€œæ¨¡å¼â€åˆ‡å‰²å­—ç¬¦ä¸²</h2>
<blockquote>
<p>å¯ä»¥å®ç°å¤šåˆ†éš”ç¬¦çš„åˆ‡å‰²</p>
</blockquote>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> input = <span class="hljs-string">"apple, banana; cherry|date"</span>;
<span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"[,;|]\s*"</span>; <span class="hljs-comment">// é€—å·ï¼›åˆ†å·ï¼›ç«–çº¿ + å¯é€‰ç©ºç™½</span>

<span class="hljs-built_in">string</span>[] parts = Regex.Split(input, pattern);

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> parts)
{
    Console.WriteLine(p);
}
<span class="hljs-comment">// apple</span>
<span class="hljs-comment">// banana</span>
<span class="hljs-comment">// cherry</span>
<span class="hljs-comment">// date</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">å…«ã€æ­£åˆ™åŸºç¡€è¯­æ³•ï¼ˆä¸€ï¼‰ï¼šå­—é¢å­—ç¬¦ä¸è½¬ä¹‰</h2>
<h3 data-id="heading-11">1. å­—é¢å­—ç¬¦</h3>
<p>ç»å¤§å¤šæ•°æ™®é€šå­—ç¬¦åœ¨æ­£åˆ™é‡Œå°±æ˜¯å­—é¢æ„æ€ï¼š</p>
<ul>
<li>æ¨¡å¼ï¼š<code>abc</code> â†’ åŒ¹é…æ–‡æœ¬ä¸­å‡ºç°çš„ <code>abc</code>ã€‚</li>
<li>æ¨¡å¼ï¼š<code>hello</code> â†’ åŒ¹é…æ–‡æœ¬ä¸­å‡ºç°çš„ <code>hello</code>ã€‚</li>
</ul>
<h3 data-id="heading-12">2. ç‰¹æ®Šå­—ç¬¦ï¼ˆå…ƒå­—ç¬¦ï¼‰</h3>
<p>è¿™äº›å­—ç¬¦åœ¨æ­£åˆ™ä¸­æœ‰ç‰¹æ®Šå«ä¹‰ï¼š</p>
<ul>
<li><code>.</code> <code>^</code> <code>$</code> <code>*</code> <code>+</code> <code>?</code> <code>(</code> <code>)</code> <code>[</code> <code>]</code> <code>{</code> <code>}</code> <code>\</code> <code>|</code></li>
</ul>
<p>å¦‚æœä½ è¦åŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ªâ€œå­—é¢æ„ä¹‰ä¸Šçš„â€å­—ç¬¦ï¼Œå°±è¦ç”¨ <code>\</code> è½¬ä¹‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>åŒ¹é…ä¸€ä¸ªç‚¹å· <code>.</code> â†’ æ¨¡å¼ <code>\.</code></li>
<li>åŒ¹é…ä¸€ä¸ªæ˜Ÿå· <code>*</code> â†’ æ¨¡å¼ <code>\*</code></li>
<li>åŒ¹é…ä¸€å¯¹æ‹¬å· <code>(abc)</code> â†’ æ¨¡å¼ <code>\(</code> + <code>abc</code> + <code>\)</code></li>
</ul>
<p>åœ¨ C# ä¸­é…åˆé€å­—å­—ç¬¦ä¸²ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\."</span>;   <span class="hljs-comment">// åŒ¹é… "."</span>
<span class="hljs-built_in">string</span> pattern2 = <span class="hljs-string">@"\*"</span>;  <span class="hljs-comment">// åŒ¹é… "*"</span>
</code></pre>
<p>å¦‚æœä¸ç”¨ <code>@</code>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">"\\."</span>;   <span class="hljs-comment">// C# å­—ç¬¦ä¸²é‡Œå†™æˆ "\\." æ‰è¡¨ç¤ºä¸€ä¸ªåæ–œæ +ç‚¹</span>
</code></pre>
<p>å®è·µä¸­å‡ ä¹æ‰€æœ‰æ­£åˆ™å­—ç¬¦ä¸²éƒ½ç”¨ <code>@""</code>ï¼Œå¯ä»¥å°‘ä¸€åŠåæ–œæ ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¹ã€æ­£åˆ™åŸºç¡€è¯­æ³•ï¼ˆäºŒï¼‰ï¼šé¢„å®šä¹‰å­—ç¬¦ç±» \d / \w / \s</h2>
<p>é¢„å®šä¹‰å­—ç¬¦ç±»æ˜¯æ­£åˆ™é‡Œæœ€å¸¸ç”¨çš„å·¥å…·ï¼Œå®ƒä»¬ä»£è¡¨ä¸€ç±»å­—ç¬¦ã€‚</p>
<h3 data-id="heading-14">1. <code>\d</code> / <code>\D</code>ï¼šæ•°å­—ä¸éæ•°å­—</h3>
<ul>
<li><code>\d</code>ï¼šdigitï¼ŒåŒ¹é… 0â€“9 çš„ä»»æ„ä¸€ä½æ•°å­—ï¼Œç›¸å½“äº <code>[0-9]</code>ã€‚</li>
<li><code>\D</code>ï¼šéæ•°å­—ï¼Œç›¸å½“äº <code>[^0-9]</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\d+"</span>;
</code></pre>
<h3 data-id="heading-15">2. <code>\w</code> / <code>\W</code>ï¼šå•è¯å­—ç¬¦ä¸éå•è¯å­—ç¬¦</h3>
<ul>
<li><code>\w</code>ï¼šwordï¼ŒåŒ¹é…å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œç›¸å½“äº <code>[A-Za-z0-9_]</code>ã€‚</li>
<li><code>\W</code>ï¼šé <code>\w</code>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šåŒ¹é…â€œå•è¯â€ï¼ˆä¸€ä¸²å­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\w+"</span>;
</code></pre>
<h3 data-id="heading-16">3. <code>\s</code> / <code>\S</code>ï¼šç©ºç™½å­—ç¬¦ä¸éç©ºç™½å­—ç¬¦</h3>
<ul>
<li><code>\s</code>ï¼šspaceï¼ŒåŒ¹é…ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç­‰æ‰€æœ‰ç©ºç™½å­—ç¬¦ã€‚</li>
<li><code>\S</code>ï¼šéç©ºç™½ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span> pattern = <span class="hljs-string">@"\s+"</span>; <span class="hljs-comment">// åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªç©ºç™½</span>
</code></pre>
<h2 data-id="heading-17">ç»“è¯­</h2>
<p><strong>ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘è·å–æ›´å¤šå®ç”¨ C# æŠ€æœ¯å¹²è´§ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—æ”¶è—æœ¬æ–‡</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´ç»ˆæ€»ç»“ - 2025 æ•…äº‹é›†]]></title>    <link>https://juejin.cn/post/7586555198114906118</link>    <guid>https://juejin.cn/post/7586555198114906118</guid>    <pubDate>2025-12-22T14:51:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586555198114906118" data-draft-id="7581669438577492004" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´ç»ˆæ€»ç»“ - 2025 æ•…äº‹é›†"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-22T14:51:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jimmy"/> <meta itemprop="url" content="https://juejin.cn/user/1996368846261294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´ç»ˆæ€»ç»“ - 2025 æ•…äº‹é›†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1996368846261294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jimmy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:51:56.000Z" title="Mon Dec 22 2025 14:51:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“• å¦‚æœæ‚¨åˆšå¥½ç‚¹äº†è¿›æ¥ï¼Œå´ä¸æƒ³å®Œæ•´é˜…è¯»è¯¥æ–‡ç« ä½†åˆæƒ³çŸ¥é“å®ƒè®°å½•äº†ä»€ä¹ˆã€‚å¯è·³åˆ°æ–‡æœ«<strong>æ€»ç»“</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-0">å‰è¨€</h3>
<p>æ—¶éš”<strong>å››ä¸ªæœˆ</strong>ï¼Œå†æ‰§ç¬”å³å°†è¿›å…¥äº†æ–°çš„ä¸€å¹´ <strong>2026</strong> å¹´...</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d39e86c88d24a34a1e6be79e2176d15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=FWtDt6c58P4%2Bkncx8T%2BYdbbOqcs%3D" alt="2025 &amp; 2026" loading="lazy"/></p>
<p>æ—¶é—´åƒå¾€å¸¸ä¸€æ ·æ— å£°æ¯åœ°æµåŠ¨ï¼Œå·²è¿‘å¹´å°¾ï¼Œåœ¨è¿‡å»çš„ <strong>2025</strong> å¹´ï¼Œä¸‰ç™¾å¤šå¤©æ—¶é—´é‡Œé¢ï¼Œå‘ç”Ÿäº†å¾ˆå¤šçš„äº‹æƒ…ï¼Œæˆ–å–œï¼Œæˆ–æ‚²ï¼Œæˆ–é™ï¼Œæˆ–é—¹...æ­¤æ—¶ï¼Œç¯äº®ç€ï¼Œçª—å¤–å¶å°”æœ‰è¿œå¤„æ±½è½¦çš„æ²™æ²™å£°ã€‚æˆ‘åœ¨å…¶ä¸­ï¼Œå¼€å§‹å›é¡¾å¹¶è®°å½•æ’è¿›å¿ƒåº•çš„ç¬é—´å’Œæ„Ÿå—ã€‚</p>
<h3 data-id="heading-1">ä½ å¥½ï¼Œä¸–ç•Œ</h3>
<p>è¿˜æ˜¯<strong>ç†Ÿæ‚‰çš„å››æœˆä»½</strong>çš„ä¸€å¤©å‡Œæ™¨ï¼Œè€å¦ˆè·Ÿæˆ‘åœ¨èµ°å»Šé‡Œè¸±æ­¥~</p>
<p>éšç€æ¸…è„†çš„å“­å£°å“èµ·ï¼ŒäºŒå®å¦‚æœŸè€Œè‡³ã€‚è¿‡äº†æ®µæ—¶é—´ï¼ŒæŠ¤å£«å‡ºæ¥æŠ¥å‡º<strong>æ¯å¥³å¹³å®‰</strong>æ˜¯æˆ‘ä»¬å¬åˆ°çš„æ­¤åˆ»æœ€è®©äººå¿ƒå®‰çš„è¯è¯­ã€‚</p>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¯´æ˜¯<strong>ç†Ÿæ‚‰çš„å››æœˆä»½</strong>ï¼Œå› ä¸ºè€å¤§ä¹Ÿæ˜¯å››æœˆä»½å‡ºç”Ÿçš„</p>
</blockquote>
<p>å› ä¸ºè€å©†åœ¨å·¥ä½œæ—¥å‡Œæ™¨åˆ†å¨©ï¼Œæ‰€ä»¥æˆ‘çš„ä¼‘é™ªäº§çš„å•ä¹Ÿå…ˆæäº¤äº†ã€‚åœ¨æ”¶åˆ°è€å©†äº§åæ— éœ€æˆ‘ååŠ©äº‹æƒ…çš„è¯è¯­åï¼Œæˆ‘æ’¤é”€äº†é™ªäº§å•ï¼Œå±é¢ å±é¢ åœ°å»ä¸Šç­èµšå¥¶ç²‰é’±äº†ğŸ˜„</p>
<p>å—¯ï¼Œä»<a href="https://juejin.cn/post/7338255194608255003#heading-2" target="_blank" title="https://juejin.cn/post/7338255194608255003#heading-2">å‡†å¥¶çˆ¸</a>åˆ°é¦–æ¬¡<a href="https://juejin.cn/post/7455315760274751507#heading-2" target="_blank" title="https://juejin.cn/post/7455315760274751507#heading-2">å–œå½“çˆ¹</a>è‡³ä»Šï¼ŒçŸ­çŸ­ä¸‰å¹´æ—¶é—´é‡Œé¢ï¼Œè‡ªå·±å·²ç»æ˜¯ä¸¤ä¸ªå°å­©çš„çˆ¸çˆ¸ï¼ŒçœŸæ˜¯ä¸€ä¸ªè®©è‡ªå·±æ„æƒ³ä¸åˆ°çš„é€Ÿåº¦ã€‚</p>
<p>è‡ªä»å½“äº†çˆ¶æ¯ä¹‹åï¼Œæˆ‘ä»¬æ›´åŠ æ‡‚å¾—è‡ªå·±çˆ¶æ¯çš„<strong>æ— ç§ä¸”ä¼Ÿå¤§</strong>ï¼Œå­©å­çš„<strong>å¤©çœŸå’Œæ— çŸ¥</strong>ã€‚</p>
<p>ç›¸å¯¹äºç¬¬ä¸€æ¬¡å–œå½“çˆ¹æ—¶å€™ï¼Œè‡ªå·±æ…Œå¼ æ— æªï¼Œè€å¦ˆè¾›è‹¦åœ°å¿™å‰å¿™åï¼Œæ‰‹æ…Œè„šä¹±ã€‚æœ‰äº†ç¬¬ä¸€æ¬¡çš„ç»éªŒï¼Œæˆ‘ä»¬å¯¹äºäºŒå®çš„å¤„ç†è¿˜æ˜¯æŒºç¨³å®šï¼š</p>
<ul>
<li>åœ¨é¢„äº§æœŸä¸´è¿‘çš„ä¸¤ä¸‰å¤©ï¼Œæˆ‘ä»¬å‡†å¤‡å¥½äº†å¤§åŒ…å°åŒ…çš„å¾…äº§åŒ… -&gt; <strong>alway stand by</strong></li>
<li>äº§åçš„ä¸‰å¤©æ—¶é—´ï¼Œè¯·æŠ¤å·¥ç…§çœ‹è€å©†å’Œæ–°ç”Ÿå„¿ï¼Œè€å¦ˆåœ¨æ—è¾¹é™ªåŒï¼Œè€çˆ¸åœ¨å®¶ç…§çœ‹å¤§å®</li>
<li>å‡ºé™¢åï¼Œè€å©†å’ŒäºŒå®ç›´æ¥æœˆå­ä¸­å¿ƒåæœˆå­ã€‚è€å¦ˆå’Œæˆ‘åœ¨å®¶ç…§çœ‹å¤§å®ï¼Œå‘¨æœ«æœˆå­ä¸­å¿ƒçœ‹äºŒå®</li>
</ul>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62c883b4c9074c5da6ad03bacd1fdb8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=ZSaUqYEJcLROtBKwLUAb75q2txU%3D" alt="daughters in nursing room" loading="lazy"/></p>
<p align="center">ğŸ‘†å³å°†å‡ºæœˆå­ä¸­å¿ƒï¼Œå¤§å®å’ŒäºŒå®çš„åˆå½±ğŸ‘†</p>
<h3 data-id="heading-2">åœ¨æ—¥å¸¸é‡Œæ¥åŠ›çš„æˆ‘ä»¬</h3>
<p>æ¯å¤©ï¼Œæˆ‘ä»¬éƒ½è§‰å¾—æ—¶é—´ä¸å¤Ÿç”¨ï¼Œèƒ½ç•™å‡ºäº›è®¸ç©ºé—´å’Œæ—¶é—´æ¥æ”¾æ¾ï¼Œå·²ç»å¾ˆæ»¡è¶³ğŸ˜Œ</p>
<h4 data-id="heading-3">è€å©†æ¥å›å¥”æ³¢çš„å·¥ä½œæ—¥</h4>
<p>åœ¨ä¼‘å®Œä¸‰ä¸ªå¤šæœˆçš„äº§å‡ä¹‹åï¼Œè€å©†å°±å»å¤å·¥äº†ã€‚å› ä¸ºäºŒå®è¿˜å°ï¼Œè€å©†ä¼šæ¯å¤©ä¸­åˆéƒ½å›æ¥å“ºä¹³ã€‚ä»å°å­©ä¸‰ä¸ªå¤šæœˆåˆ°ä¸ƒä¸ªå¤šæœˆï¼Œé›·æ‰“ä¸åŠ¨ï¼Œå…¬å¸å’Œå®¶ä¸¤å¤´è·‘ã€‚</p>
<p>é‚£ä¸€å°å°ç”µé©´ï¼Œéš”ä¸‰å·®äº”å°±éœ€è¦å»å……ç”µã€‚å°å°ç”µé©´ï¼Œå·²ç»è¶…å‡ºäº†å®ƒçš„ä»·å€¼~</p>
<p>å¥½ä¸å®¹æ˜“ï¼Œè®©äºŒå®æ–­å¥¶äº†ã€‚æ–­å¥¶æ˜¯ä»¶å¾ˆç—›è‹¦çš„äº‹æƒ…ï¼Œè¦ç†¬å¤œï¼Œæ¶¨å¥¶èƒ¸ç—›ç­‰ã€‚æˆ‘è¿˜è®°å¾—åœ¨æˆåŠŸæ–­å¥¶åçš„é‚£å¤©æ™šä¸Šï¼Œè€å©†è¿˜ç‰¹æ„å«æˆ‘å‡ºå»ä¹°ç“¶é…’å›æ¥åº†ç¥ä¸€ä¸‹âœ¨</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e41ff5a6b3ca429ab84f20485e7acbb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=Ik%2BylNdo7wMSNSpt%2F3sWpBmx0R4%3D" alt="beer" loading="lazy"/></p>
<p align="center">ğŸ‘†5%-8% vol çš„é¸¡å°¾é…’ğŸ‘†</p>
<p>è™½ç„¶äºŒå®æ–­å¥¶äº†ï¼Œä½†æ˜¯è€å©†åœ¨å·¥ä½œä¸å¿™çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šä¸­åˆå›æ¥çœ‹çœ‹ã€‚ç”¨æˆ‘è€å©†çš„è¯è¯´ï¼š<strong>æœ‰ç‚¹è®¨åŒï¼Œä½†æ˜¯åˆæœ‰ç‚¹èˆä¸å¾—äºŒå®</strong>ã€‚</p>
<h4 data-id="heading-4">å·¥ä½œæ—¥ï¼Œçˆ·çˆ·å¥¶å¥¶çš„æ—¶å…‰</h4>
<p>è€å©†è·Ÿæˆ‘ï¼Œå·¥ä½œæ—¥éƒ½éœ€è¦ä¸Šç­ï¼Œå—¯~èµšå¥¶ç²‰é’±ğŸ˜€</p>
<p>ç„¶åï¼Œä¸¤ä¸ªå®å®ï¼Œå·¥ä½œæ—¥çš„æ—¶å€™ä¸»è¦ç»™çˆ·çˆ·å’Œå¥¶å¥¶å¸¦ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œä¸¤ä¸ªå®å®éƒ½éœ€è¦å¥¶å¥¶æŠ±ï¼Œè¿™å¯è‹¦äº†å¥¶å¥¶çš„è…°æ¿å­äº†ã€‚çˆ·çˆ·æ›´å¤šçš„æ—¶å€™ï¼Œæ˜¯å……å½“äº†å¨å¸ˆçš„è§’è‰²ï¼Œä¿è¯ä¸€å®¶äººçš„ä¸‰é¤ä¼™é£Ÿï¼Œå—¯~<strong>è€çˆ¸çš„å¨è‰ºçœŸå¥½</strong>ğŸ‘</p>
<p>çˆ·çˆ·å¥¶å¥¶ä¸€å¤©ä¸‹æ¥çš„æµç¨‹ï¼šæ—©ä¸Šå¸¦å¨ƒå‡ºå»æ™’å¤ªé˜³ï¼Œé›å¨ƒï¼ˆä¸»è¦æ˜¯è®©å¤§å®åŠ¨èµ·æ¥ï¼Œä¸­åˆå¥½ç¡è§‰ï¼‰ï¼›ä¸­åˆå–‚é¥­ï¼Œåˆä¼‘ï¼ˆå¤§å®ä¸€èˆ¬ä¸­åˆä¼‘æ¯ä¸¤ä¸ªé’Ÿï¼Œä¸‹åˆä¸‰æˆ–å››ç‚¹èµ·æ¥ï¼‰ï¼›ä¸‹åˆæ´—æ¾¡ï¼ˆæ€•å†·ç€å°å­©ï¼Œä¸€èˆ¬å¤©é»‘å‰æ´—å®Œï¼‰ï¼Œå–‚é¥­ï¼Œé™ªç©ï¼›æ™šä¸Šï¼Œç­‰è€å©†å’Œæˆ‘ä¸‹ç­å›æ¥ï¼Œçˆ·çˆ·å’Œå¥¶å¥¶æ‰æœ‰ç©ºé—²çš„æ—¶é—´ã€‚ä¸€èˆ¬è¿™ä¸ªæ—¶å€™ï¼Œçˆ·çˆ·å°±å–œæ¬¢ä¸‹æ¥¼å»å‘¨è¾¹é€›ï¼Œå¥¶å¥¶å°±ä¼šèººç€åºŠä¸Šç›´ä¸€ä¸‹è…°æ¿å­ï¼ˆæœ‰æ—¶ä¼šè·Ÿçˆ·çˆ·ä¸‹æ¥¼é€›è¡—ï¼‰ã€‚å·¥ä½œæ—¥çš„æ—¶å€™ï¼Œå¦‚æœå¥¶å¥¶æ™šä¸Šæ²¡æœ‰å‡ºå»é€›è¡—ï¼Œé‚£ä¹ˆï¼Œä¼šåœ¨ä¹ç‚¹å¤šå–‚å®Œå¥¶ç»™å¤§å®ï¼Œå¥¶å¥¶ä¼šå“„å¤§å®ç¡è§‰ï¼›å¦‚æœå¥¶å¥¶å¤–å‡ºï¼Œé‚£ä¹ˆæˆ‘å°±ä¼šå“„å¤§å®ç¡è§‰ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1890196a31384edcb04b256d1b9bd94a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=%2BVtv%2BxavORCaHUjeAo5AkApEtUE%3D" alt="mother's birthday" loading="lazy"/></p>
<p align="center">ğŸ‘†å¥¶å¥¶ç”Ÿæ—¥çš„æ—¶å€™ï¼Œä¸¤å®å’Œçˆ·çˆ·å¥¶å¥¶åˆå½±ğŸ‘†</p>
<h4 data-id="heading-5">ä¼‘æ¯æ—¥ï¼Œæˆ‘ä»¬çš„æ—¶å…‰</h4>
<p><strong>å·¥ä½œæ—¥ï¼Œç­ä¸Šå®Œäº†ï¼›ä¼‘æ¯æ—¥ï¼Œè¯¥å¸¦å¨ƒäº†</strong>ã€‚çˆ·çˆ·å¥¶å¥¶ä¼‘æ¯æ—¥æ”¾å‡ï¼Œæƒ³å»å“ªé‡Œå°±å»å“ªé‡Œï¼Œæ”¾æ¾æ”¾æ¾ã€‚</p>
<p>ä¼‘æ¯æ—¥å¸¦å¨ƒï¼Œæˆ‘ä»¬çš„å®—æ—¨å°±æ˜¯ï¼š<strong>å°½é‡è®©å¨ƒå¤šåŠ¨</strong>ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åŸºæœ¬éƒ½ä¼šå¤–å‡ºã€‚å¿™å¿™ç¢Œç¢Œï¼Œå—¯ï¼Œæˆ‘ä»¬åˆ†äº«ä¸¤ä»¶äº‹æƒ…ï¼š</p>
<p>æˆ‘è¿˜è®°å¾—ï¼ŒæŸä¸ªå‘¨æœ«ï¼Œæˆ‘ä»¬åœ¨å•†åœºé€›äº†ä¸€å¤©ï¼Œè®©å¤§å®åœ¨å•†åœºé‡Œé¢èµ°ï¼Œå¥¹é€›å¾—è´¼å¼€å¿ƒï¼ˆè¿™å¯ä¸ï¼Œé€›å¾—æœ‰å¤šç´¯ï¼Œç¡å¾—æœ‰å¤šé¦™ï¼‰ï¼Œæ¨ç€äºŒå®ã€‚ä¸­åˆç›´æ¥åœ¨å•†åœºé‡Œé¢è§£å†³åƒé¥­çš„é—®é¢˜ï¼Œå¤§å®ç›´æ¥åœ¨å©´å„¿è½¦ä¸Šè§£å†³äº†åˆç¡çš„äº‹æƒ…ï¼ŒäºŒå®åˆ™æ˜¯è¢«è€å©†æˆ–è€…æˆ‘èƒŒåœ¨èº«ä¸Šç¡è§‰ã€‚æ¯å©´å®¤æ²¡äººçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±ä¼šåœ¨é‡Œé¢å°æ†©ä¸€ä¼šã€‚ç­‰ä¸¤å®é†’æ¥ä¹‹åï¼Œå†é€›ä¸€ä¸‹ï¼Œ<strong>ä¸€å¤©çš„æ—¶é—´è¿‡å¾—æ…¢ä½†æ˜¯åˆå¾ˆå¿«</strong>ã€‚</p>
<p>ä»Šå¹´çš„å›½åº†è¿ç€ä¸­ç§‹ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªé•¿å‡æœŸé‡Œé¢ï¼Œä¼šå¸¦ä»–ä»¬åœ¨å°åŒºé‡Œé¢éœ²è¥ï¼ˆåœ¨è‰åªä¸Šé“ºä¸€å«å­ï¼‰ï¼Œè®©å¥¹ä»¬è‡ªå·±ç©ã€‚å¤§å®èµ°è·¯çš„å¹´çºªï¼Œè¿™é‡Œèµ°é‚£é‡Œèµ°ï¼Œæˆ‘å¾—<strong>å±é¢ å±é¢ </strong>è·Ÿå¥¹åé¢ï¼Œä»è¿™é‡ŒæŠŠå¥¹æŠ±è¿‡æ¥é‚£é‡Œï¼Œä»é‚£è¾¹æŠŠå¥¹å“„è¿‡æ¥è¿™è¾¹ï¼Œ<strong>çœŸæƒ³æ‹¿æ¡é“¾å­ç»‘ç€å¥¹</strong>ã€‚ç›¸åï¼ŒäºŒå®å°±æ·¡å®šå¤šäº†ï¼Œåªèƒ½åœ¨é‚£å—å¸ƒé‚£é‡Œçˆ¬æ¥çˆ¬å»ï¼Œè¢«å¥¹å¦ˆå¦ˆé™åˆ¶ç€ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0be16f71224949b9911866ea57997786~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=gGHOOW9RyDB75S1OU4r6XyjPB%2FE%3D" alt="Mid-Autumn Festival" loading="lazy"/></p>
<p align="center">ğŸ‘†ä¸­ç§‹èŠ‚å½“æ™šï¼Œåœ¨å“„ä¸¤å¨ƒç¡ç€åï¼Œè€å©†è·Ÿæˆ‘åœ¨é˜³å°æ‹œæœˆğŸ‘†</p>
<h3 data-id="heading-6">æ²¡æœ‰æƒŠå–œçš„å·¥ä½</h3>
<p>ç›¸å¯¹äºä¸Šä¸€å¹´å·¥ä½œçš„æƒŠå“ï¼Œä»Šå¹´çš„å·¥ä½œå¯ä»¥ç”¨æ²¡æœ‰æƒŠå–œæ¥å½¢å®¹ã€‚</p>
<blockquote>
<p>è‡³äºä¸ºä»€ä¹ˆè¯´ä¸Šä¸€å¹´æ˜¯æƒŠå“ï¼Œä»Šå¹´æ²¡æœ‰æƒŠå–œã€‚åé¢æœ‰æ—¶é—´ï¼Œä¼šå‡ºä¸€ç¯‡æ–‡ç« æ¥åˆ†äº«ä¸‹ã€‚</p>
</blockquote>
<p>ç®€ç®€å•å•çš„å·¥ä½ï¼Œä¸€æ°´æ¯ï¼Œä¸€è®°äº‹æœ¬ï¼Œä¸€å°å¼ç”µè„‘ï¼Œä¸€ç»¿æ¤ã€‚å±è‚¡ä¸€åï¼Œä¸€æ•´å¤©å—–ä¸€ä¸‹å°±è¿‡å»äº†~</p>
<p>åœ¨å…¬å¸ï¼Œè®©æˆ‘æ´»è·ƒèµ·æ¥çš„ï¼Œå°±æ˜¯<strong>ä¸­åˆ</strong>åƒé¥­çš„æ—¶å€™ã€‚æˆ‘ä»¬çš„å°å›¢ä½“ï¼ˆä¸€å®‰å“ï¼Œä¸€äº§å“å’Œæˆ‘ï¼‰å¼€è½¦å»å‘¨è¾¹åƒé¥­ã€‚è¿™æ®µæ—¶é—´ï¼Œæ˜¯æˆ‘ä»¬å” å—‘çš„æ—¶é—´ï¼Œæ— æ‹˜æ— æŸï¼Œå³ä½¿æˆ‘ä»¬å¶å°”ä¼šæµªè´¹æ‰åˆä¼‘çš„æ—¶é—´ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è§‰å¾—æŒºä¸é”™çš„ï¼Œæ—¶é—´èŠ±å¾—å€¼...</p>
<p>å·¥ä½œä¸Šç³Ÿå¿ƒçš„äº‹åæ ¹æ‰‹æŒ‡å¯æ•°ä¸è¿‡æ¥ï¼Œè§¦åŠ¨ä¸”æ¸©æš–äº†å¿ƒçªçš„äº‹æƒ…å±ˆæŒ‡å¯æ•°ã€‚</p>
<p>è®°å¾—æ‹›è¿›æ¥çš„ä¸€ä¸ªæ–°äººï¼Œæˆ‘å¸¦äº†ä»–å‡ å¤©ï¼Œæœ€åå…¥èŒçŸ­çŸ­å‡ å¤©è¢«æŸäººæ¶å¿ƒè€Œç¦»èŒäº†ã€‚ä»–ç¦»èŒçš„å‰ä¸€å¤©ï¼Œç‚¹äº†ä¸€æ¯å¥¶èŒ¶ç»™æˆ‘ï¼Œè™½ç„¶è‡ªå·±å˜´é‡Œé¢è¯´ç€åˆ«å®¢æ°”ï¼Œä½†æ˜¯å¿ƒé‡Œé¢æš–æš–çš„ã€‚ä»–æ‰è¿›æ¥çŸ­çŸ­å‡ å¤©å°±èµ°äººäº†ï¼Œè‡ªå·±å¿ƒé‡Œè«åç”Ÿæ°”ï¼šä¸ºä»€ä¹ˆæˆ‘è‡ªå·±æ‹›çš„äººï¼Œè‡ªå·±å¸¦ç€ç†Ÿæ‚‰é¡¹ç›®åï¼Œä¸€è½¬æ‰‹å°±è¢«æ¶å¿ƒåˆ°è¦ç¦»èŒäº†ï¼Ÿï¼Ÿï¼Ÿæœ€ç»ˆä»–å´è¿˜<strong>æ¸©æŸ”åœ°</strong>ä»¥è‡ªæˆ‘é—®é¢˜ä½œç¦»èŒçš„åŸå› ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1645ba344d694632bb38142173e05302~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=WhCPiwcJ8giirpRx5VskgCYb8oI%3D" alt="colleague communication" loading="lazy"/></p>
<p align="center">ğŸ‘†ç‚¹äº†ä»½å¥¶èŒ¶æ”¾æˆ‘æ¡Œé¢åçš„å¯¹è¯ğŸ‘†</p>
<h3 data-id="heading-7">æŠŠæ˜å¤©è½»è½»æ”¾è¿›å¿ƒé‡Œ</h3>
<p><strong>2026 å¹´</strong>æ‚„ç„¶å°†è‡³ã€‚åœ¨å¯¹æ–°çš„ä¸€å¹´æœ‰æ‰€å±•æœ›ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸‹<a href="https://juejin.cn/post/7455315760274751507" target="_blank" title="https://juejin.cn/post/7455315760274751507">å¹´ç»ˆæ€»ç»“ - 2024 æ•…äº‹é›†</a>ä¸­ç«‹ä¸‹çš„ä¸¤ä¸ª <code>Flags</code> å’Œå®Œæˆçš„æƒ…å†µï¼š</p>























<table><thead><tr><th>åºå·</th><th>ç›®æ ‡</th><th>å®é™…</th><th>å®Œæˆç‡</th></tr></thead><tbody><tr><td>1</td><td>åˆ†äº«æ–‡ç«  <strong>20+</strong> ç¯‡</td><td>åˆ†äº«æ–‡ç«  <strong>18</strong> ç¯‡</td><td>90%</td></tr><tr><td>2</td><td>é”»ç‚¼ <strong>30+</strong> æ¬¡</td><td>é”»ç‚¼ <strong>32</strong> æ¬¡</td><td>107%</td></tr></tbody></table>
<p>å—¯~ ç›®æ ‡å®Œæˆç‡è¿˜ä¸èµ–ã€‚</p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac82e714d32c46ed967524500f9d5155~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=xqUjmOxcHSg73xV4%2BQ8mJEWUHXA%3D" alt="do execise" loading="lazy"/></p>
<p align="center">ğŸ‘†æ¯æ¬¡é”»ç‚¼æˆ‘éƒ½ä¼šåœ¨æœ‹å‹åœˆè®°å½•ï¼Œæ¯æ¬¡è€—æ—¶ 45 åˆ†é’Ÿå·¦å³ğŸ‘†</p>
<p>å¯¹äºåˆ†äº«æ–‡ç« ï¼Œä¸€å¼€å§‹å°±æ˜¯<strong>ç§‰æ‰¿ç€è®°å½•è‡ªå·±åœ¨å·¥ä½œä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæ–¹ä¾¿è‡ªå·±å’Œå…¶ä»–äººæŸ¥æ‰¾çš„å®—æ—¨</strong>æ¥è¿›è¡Œè®°å½•ï¼Œåé¢æ˜¯å› ä¸ºå¹³å°æäº†å¥–åŠ±è€Œè¿›è¡Œçš„ä¸€äº›åˆ›ä½œã€‚è€Œç°åœ¨ï¼Œéšç€ <code>chatgpt</code>, <code>deepseek</code> ç­‰å¤§è¯­è¨€æ¨¡å‹çš„æœºå™¨äººæ¨ªç©ºå‡ºä¸–ï¼Œæµ…æ˜¾çš„åˆ†äº«å’Œé—®é¢˜çš„è®°å½•éƒ½æ˜¾å¾—<strong>é¸¡è‚‹</strong>ã€‚æ‰€ä»¥ï¼Œåœ¨ 2026 æ–°çš„ä¸€å¹´å†…ï¼Œæ–‡ç« çš„åˆ†äº«è¦æ›´åŠ æœ‰ç›®çš„æ€§å’Œå®é™…çš„æ„ä¹‰ã€‚2026 å¹´ï¼Œè°çŸ¥é“ä¼šæœ‰å‡ ç¯‡æ–‡ç« ä¼šå‡ºç‚‰ï¼Œä¹Ÿè®¸ä¸€ç¯‡ï¼Œä¹Ÿè®¸åç¯‡ï¼Œä¹Ÿè®¸äºŒåç¯‡ï¼Œä¹Ÿè®¸é›¶ç¯‡ã€‚</p>
<p>å¯¹äºé”»ç‚¼ï¼Œè¿™æ˜¯æˆ‘é•¿æœŸéœ€è¦åšæŒçš„ä¸€ä»¶äº‹æƒ…ï¼Œä¹Ÿæ˜¯æœ€å¥½é‡åŒ–çš„äº‹æƒ…ã€‚åœ¨æ–°çš„ä¸€å¹´é‡Œé¢ï¼Œé”»ç‚¼çš„æ¬¡æ•°éœ€ <code>35+</code> ã€‚</p>
<p>ä¸ºäººçˆ¶æ¯ï¼Œä¸ºäººå„¿å¥³ã€‚æˆ‘ä»¬éƒ½æœ‰è‡ªå·±çš„é‚£ä»½è´£ä»»ï¼Œ2026 å¹´ï¼Œå¸Œæœ›è‡ªå·±æ›´å¤šçš„æ—¶é—´æ˜¯å›å½’å®¶åº­ - å»å¬å¬å­©å­çš„æ¬¢å£°ç¬‘è¯­ï¼Œå»çœ‹çœ‹çˆ¸å¦ˆè„¸ä¸Šçš„ç¬‘å®¹ï¼Œå»ä½“éªŒå¤§å®¶èšåœ¨ä¸€èµ·çƒ­çƒ­é—¹é—¹çš„æ°›å›´ <strong>and more</strong></p>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70f2a49cb51b43b499d1f06286512f40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmltbXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767019916&amp;x-signature=WexaN1iOl67dRdstSurrcOlWPN8%3D" alt="family gathering" loading="lazy"/></p>
<p align="center">ğŸ‘†è€çˆ¸ç”Ÿæ—¥ï¼Œå¤§å§ï¼ŒäºŒå§å¤§å®¶çš„å¨ƒèšåœ¨ä¸€èµ·ğŸ‘†</p>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p><strong>2025</strong> å¹´ï¼Œç®€ç®€å•å•å´å¿™å¿™ç¢Œç¢ŒğŸ‘‡ï¼š</p>
<p>åœ¨ç”Ÿæ´»æ–¹é¢ï¼Œæ¬¢è¿äºŒå®åŠ å…¥å¤§å®¶åº­ã€‚è¿™è®©æˆ‘ä»¬æ¥ä¸‹æ¥çš„ä¸€å¹´æ—¶é—´é‡Œé¢ï¼Œæ—¶é—´å®‰æ’æ›´åŠ å……å®ç´§å‡‘ï¼Œæ›´æ„Ÿå—åˆ°å½“çˆ¹å¦ˆçš„ä¸å®¹æ˜“ï¼Œæ„Ÿæ©è‡ªå·±çš„çˆ¶æ¯åœ¨ä»¥å‰é‚£å¹´ä»£å«è¾›èŒ¹è‹¦å¸¦å¤§äº†æˆ‘ä»¬ä¸‰å§å¼Ÿã€‚åœ¨å·¥ä½œæ–¹é¢ï¼Œæ²¡æœ‰å¤ªå¤šæƒ³è®°å½•çš„ä¸œè¥¿ï¼Œå¹³å¹³æ·¡æ·¡åœ°æ‰“å¡ä¸Šä¸‹ç­ã€‚</p>
<p>å±•æœ› <strong>2026</strong>ï¼Œè¿˜æ˜¯ç»™è‡ªå·±åˆ¶å®šäº†é”»ç‚¼æ¬¡æ•°çš„é‡åŒ–ç›®æ ‡ã€‚åœ¨è¿™ä¸ªäººå·¥æ™ºèƒ½é€æ¸æˆç†Ÿçš„ç¯å¢ƒä¸‹ï¼Œå¸Œæœ›è‡ªå·±èƒ½å¤Ÿä½¿ç”¨å®ƒæå‡å·¥ä½œæ•ˆç‡å’Œå¸®åŠ©è‡ªå·±æˆé•¿ã€‚åœ¨ <strong>2026</strong> å¹´ï¼Œè‡ªå·±çš„é‡å¿ƒä¼šæ”¾åœ¨å®¶åº­è¿™è¾¹ï¼Œå»æ„Ÿå—å­©å­çš„æˆé•¿å’Œå®¶çš„æ°›å›´ã€‚</p>
<p align="right"><b>å®Œæˆäºä¸­å›½å¹¿ä¸œçœå¹¿å·å¸‚</b></p>
<p align="right"><b>2025 å¹´ 12 æœˆ 22 æ—¥</b></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„]]></title>    <link>https://juejin.cn/post/7586490798432239679</link>    <guid>https://juejin.cn/post/7586490798432239679</guid>    <pubDate>2025-12-22T14:54:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586490798432239679" data-draft-id="7586491717873778707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T14:54:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="uzong"/> <meta itemprop="url" content="https://juejin.cn/user/372082495985181"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/372082495985181/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    uzong
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T14:54:23.000Z" title="Mon Dec 22 2025 14:54:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¬ä¸€å¬æŠ€æœ¯é¢è¯•å®˜çš„å¿ƒè·¯å†ç¨‹ï¼šä»–ä»¬ä¹Ÿä¼šæœ‰ç“¶é¢ˆï¼Œä¹Ÿä¼šè¡¨ç°ä¸å¦‚äººæ„</h2>
<p>å¾ˆå¤šäººä»¥ä¸ºï¼Œååœ¨é¢è¯•æ¡Œå¯¹é¢çš„æŠ€æœ¯é¢è¯•å®˜ï¼Œæ‰‹æ¡ç”Ÿæ€å¤§æƒï¼Œåªéœ€â€œè€ƒå€’â€å€™é€‰äººä¾¿ç®—å®Œæˆä»»åŠ¡ã€‚ä½†å…¶å®ï¼ŒçœŸæ­£ä¼˜ç§€çš„é¢è¯•å®˜ï¼Œå¹¶ä¸æ˜¯ä¸ºäº†è®¾å¡ï¼Œè€Œæ˜¯ä¸ºäº†â€œå‘ç°â€â€”â€”å‘ç°é‚£äº›æœ‰æ½œåŠ›ã€èƒ½ä¸å›¢é˜Ÿé•¿æœŸå…±æˆé•¿çš„äººã€‚</p>
<p>æˆ‘åšæŠ€æœ¯é¢è¯•å®˜å·²æœ‰å¤šå¹´ï¼Œä»æœ€åˆç…§æœ¬å®£ç§‘åœ°é—®å…«è‚¡æ–‡ï¼Œåˆ°å¦‚ä»Šæ›´å…³æ³¨å€™é€‰äººçš„æ€ç»´æ¨¡å¼ã€åä½œæ„è¯†å’Œæˆé•¿è½¨è¿¹ï¼Œè¿™ä¸€è·¯èµ°æ¥ï¼Œè‡ªå·±ä¹Ÿåœ¨ä¸æ–­è¢«é‡å¡‘ã€‚ä»Šå¤©æƒ³å’Œå¤§å®¶èŠèŠï¼Œä¸€ä¸ªçœŸå®ã€æœ‰è¡€æœ‰è‚‰çš„æŠ€æœ¯é¢è¯•å®˜ï¼Œåœ¨è¿™åœºåŒå‘å¥”èµ´ä¸­ï¼Œæ˜¯å¦‚ä½•è‡ªæˆ‘æˆé•¿çš„ï¼Œåˆé‡åˆ°äº†å“ªäº›ç“¶é¢ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0838d1d70de34b66bd5d604c05cd6092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=subt5pHAdKdhqR58LBOSQnmBDAY%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-1">é¢è¯•å®˜çš„ç¬¬ä¸€è¯¾ï¼šå‡†å¤‡ã€æ°›å›´ä¸åé¦ˆ</h3>
<p>æˆä¸ºåˆæ ¼é¢è¯•å®˜çš„åŸºç¡€ï¼Œè¿œä¸æ­¢â€œä¼šå†™ä»£ç â€ã€‚</p>
<ul>
<li><strong>å‡†å¤‡å……åˆ†</strong>ï¼šæå‰é˜…è¯»ç®€å†ï¼Œè®¾è®¡æœ‰é’ˆå¯¹æ€§çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸´æ—¶èµ·æ„é—®â€œä½ ç”¨è¿‡ Redis å—ï¼Ÿâ€</li>
<li><strong>è¥é€ å®‰å…¨æ°›å›´</strong>ï¼šè®©å€™é€‰äººæ”¾æ¾ä¸‹æ¥ï¼Œæ‰èƒ½çœ‹åˆ°çœŸå®çš„æ°´å¹³ã€‚ç´§å¼ ä¹‹ä¸‹ï¼Œå†ä¼˜ç§€çš„äººä¹Ÿå¯èƒ½è¯­æ— ä¼¦æ¬¡ã€‚</li>
<li><strong>åŠæ—¶åé¦ˆ</strong>ï¼šé¢è¯•ç»“æŸä¸æ˜¯ç»ˆç‚¹ã€‚å¿«é€Ÿè®°å½•å…³é”®è§‚å¯Ÿç‚¹ï¼Œä¸å›¢é˜Ÿå…±äº«è¯„ä¼°ï¼Œé¿å…ä¸»è§‚åå·®ç´¯ç§¯ã€‚</li>
</ul>
<p>è¿™äº›çœ‹ä¼¼åŸºç¡€çš„è¦æ±‚ï¼Œæ°æ°æ˜¯åŒºåˆ†â€œèµ°è¿‡åœºâ€å’Œâ€œçœŸè¯†äººâ€çš„åˆ†æ°´å²­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b309f381031b40508c5cf2836d4931c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=Gkt4w591vunnqeWXdvxkQVeAKsA%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">å½“å€™é€‰äººè‡ªç§°â€œæ¶æ„å¸ˆâ€ï¼ŒæœŸå¾…å€¼å°±å˜äº†</h3>
<p>æœ‰ä¸€æ¬¡ï¼Œä¸€ä½å€™é€‰äººç®€å†ä¸Šå†™ç€â€œä¸»å¯¼è¿‡åƒä¸‡çº§ç”¨æˆ·ç³»ç»Ÿçš„æ¶æ„è®¾è®¡â€ã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘å¯¹ä»–çš„æ•´ä½“è¦æ±‚è‡ªç„¶æé«˜äº†â€”â€”ä¸ä»…è¦çœ‹æŠ€æœ¯æ·±åº¦ï¼Œè¿˜è¦çœ‹ç³»ç»Ÿæ€§æ€ç»´ã€æƒè¡¡èƒ½åŠ›ã€ç”šè‡³å¯¹ä¸šåŠ¡çš„ç†è§£ã€‚</p>
<p>å¦‚æœå®é™…è¡¨ç°ä¸æ ‡ç­¾ä¸¥é‡ä¸ç¬¦ï¼Œè½å·®æ„Ÿä¼šè®©æ•´ä¸ªé¢è¯•ä½“éªŒå˜å¾—å°´å°¬ã€‚è¿™ç§â€œé«˜å¼€ä½èµ°â€çš„æƒ…å†µï¼Œå¾€å¾€æ¯”å¹³åº¸æ›´ä»¤äººå¤±æœ›ã€‚å› ä¸ºè¿™ä¸åªæ˜¯èƒ½åŠ›é—®é¢˜ï¼Œæ›´æ˜¯è¯šä¿¡ä¸è‡ªæˆ‘è®¤çŸ¥çš„é—®é¢˜ã€‚</p>
<p>åè¿‡æ¥ï¼Œå½“é‡åˆ°çœŸæ­£æ€ç»´ç¼œå¯†ã€è¡¨è¾¾æ¸…æ™°ã€è‡ªä¿¡è€Œä¸è‡ªè´Ÿçš„å€™é€‰äººæ—¶ï¼Œé‚£ç§äº¤æµæœ¬èº«å°±æ˜¯ä¸€ç§æ»‹å…»ã€‚å³ä½¿æœ€ç»ˆä»–é€‰æ‹©äº†åˆ«å®¶å…¬å¸ï¼Œæˆ‘ä¹Ÿå¸¸ä¼šæƒ³ï¼šâ€œå’Œè¿™æ ·çš„äººèŠä¸€å°æ—¶ï¼Œèƒœè¿‡è‡ªå·±é—·å¤´å†™ä¸‰å¤©ä»£ç ã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f68d5d24c87e4923b0c50c36dedbab9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=4EQODW16XkdpU%2FiftU0xrId49j0%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-3">åŒå‘é€‰æ‹©ï¼Œä»æ¥ä¸æ˜¯å®¢å¥—è¯</h3>
<p>è¶Šæ¥è¶Šå¤šçš„ä¼˜ç§€äººæ‰åœ¨é¢è¯•ä¸­å±•ç°å‡ºå¼ºçƒˆçš„ä¸»ä½“æ„è¯†ã€‚ä»–ä»¬ä¸ä»…å›ç­”é—®é¢˜ï¼Œä¹Ÿåœ¨è¯„ä¼°æˆ‘ä»¬ï¼šå›¢é˜Ÿæ˜¯å¦ä¸“ä¸šï¼ŸæŠ€æœ¯æ°›å›´æ˜¯å¦å¼€æ”¾ï¼ŸLeader æ˜¯å¦å€¼å¾—è¿½éšï¼Ÿ</p>
<p>æ›¾æœ‰ä¸€ä½å€™é€‰äººåæ¥å‘Šè¯‰æˆ‘ï¼šâ€œä¹‹æ‰€ä»¥é€‰æ‹©ä½ ä»¬ï¼Œæ˜¯å› ä¸ºå’Œä½ é‚£è½®é¢è¯•èŠå¾—å¾ˆé€ï¼Œæ„Ÿè§‰ä½ ä»¬çœŸçš„åœ¨è®¤çœŸåšäº‹ã€‚â€ è¿™å¥è¯è®©æˆ‘æ¬£æ…°å¾ˆä¹…â€”â€”åŸæ¥æˆ‘çš„æé—®æ–¹å¼ã€å€¾å¬æ€åº¦ï¼Œç”šè‡³å¯¹æŠ€æœ¯ç»†èŠ‚çš„è¿½é—®ï¼Œéƒ½åœ¨æ— å½¢ä¸­ä¼ é€’ç€å›¢é˜Ÿçš„â€œå‘³é“â€ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿæœ‰é—æ†¾ã€‚æœ‰äº›é€šè¿‡å…¨éƒ¨é¢è¯•çš„å€™é€‰äººï¼Œæœ€ç»ˆå»äº†è–ªèµ„æ›´é«˜ã€å¹³å°æ›´å¤§çš„å…¬å¸ã€‚æˆ‘ä»¬å°Šé‡ä»–ä»¬çš„é€‰æ‹©ï¼Œä¹Ÿæ‰¿è®¤ï¼šäººæ‰æµåŠ¨æœ¬å°±æ˜¯å¸‚åœºçš„å¸¸æ€ã€‚ä½†æ¯ä¸€æ¬¡é«˜è´¨é‡çš„å¯¹è¯ï¼Œéƒ½æ˜¯ä¸€æ¬¡è‡ªæˆ‘æ ¡å‡†çš„æœºä¼šã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e47baca48b7e4e1692738c896958ef18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=eMCpKn60SNtp2H%2Bjd1y44m3rHEw%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-4">è­¦æƒ•é‚£äº›â€œæ»‘å¤´â€çš„å¥—è·¯</h3>
<p>ä¸æ˜¯æ‰€æœ‰å€™é€‰äººéƒ½åœ¨çœŸè¯šäº¤æµã€‚æœ‰äº›äººæ“…é•¿æŠŠå…·ä½“é—®é¢˜å¼•å‘æŠ½è±¡æ–¹æ³•è®ºï¼šâ€œè¿™ä¸ªé—®é¢˜å…³é”®åœ¨äºé¡¶å±‚è®¾è®¡â€â€œæˆ‘ä»¬è¦å»ºç«‹é•¿æ•ˆæœºåˆ¶â€â€¦â€¦å¬èµ·æ¥é«˜å±‹å»ºç“´ï¼Œå®åˆ™å›é¿æŠ€æœ¯ç»†èŠ‚ã€‚</p>
<p>è¿™ç±»â€œèŒåœºè€æ²¹æ¡â€ï¼Œå¾€å¾€ç¼ºä¹çœŸæ­£çš„å·¥ç¨‹æ‰‹æ„Ÿã€‚ä»–ä»¬ç”¨è¯æœ¯æ©ç›–èƒ½åŠ›çš„ç©ºæ´ï¼Œç”¨æµç¨‹ä»£æ›¿æ€è€ƒã€‚ä½œä¸ºé¢è¯•å®˜ï¼Œå¿…é¡»ç»ƒå°±ä¸€åŒâ€œå»å™ªâ€çš„è€³æœµâ€”â€”åœ¨åä¸½è¾è—»ä¸­æ•æ‰çœŸå®ä¿¡å·ã€‚</p>
<hr/>
<h3 data-id="heading-5">å·¥å…·ç®±é‡Œçš„å®ç”¨æ–¹æ³•</h3>
<p>è¿™äº›å¹´ï¼Œæˆ‘é€æ¸ç§¯ç´¯äº†ä¸€äº›æœ‰æ•ˆçš„è€ƒå¯Ÿæ‰‹æ®µï¼š</p>
<ul>
<li><strong>æƒ…æ™¯æ¨¡æ‹Ÿ</strong>ï¼šæ¯”å¦‚â€œç°åœ¨çŸ­é“¾ç³»ç»Ÿå´©æºƒäº†ï¼Œå®¢æˆ·æŠ•è¯‰ä¸æ–­ï¼Œä½ å¦‚ä½•åœ¨10åˆ†é’Ÿå†…å®šä½å¹¶ç¼“è§£ï¼Ÿâ€</li>
<li><strong>ä»£ç è¯„å®¡è§†è§’</strong>ï¼šä¸åªçœ‹å¯¹é”™ï¼Œæ›´çœ‹å€™é€‰äººæ˜¯å¦å…³æ³¨å¯ç»´æŠ¤æ€§ã€è¾¹ç•Œæ¡ä»¶ã€æ—¥å¿—è®¾è®¡ç­‰å·¥ç¨‹ç»†èŠ‚ã€‚</li>
<li><strong>ç»„åˆæ‹³è¿½é—®</strong>ï¼šä¸€ä¸ªé—®é¢˜è¿ç¯æ·±æŒ–ï¼Œç›´åˆ°è§¦åŠåº•å±‚é€»è¾‘ã€‚æ¯”å¦‚ä»â€œä½ æ€ä¹ˆä¼˜åŒ–æ¥å£æ€§èƒ½ï¼Ÿâ€ä¸€è·¯é—®åˆ°ç¼“å­˜ç­–ç•¥ã€æ•°æ®åº“ç´¢å¼•ã€ç½‘ç»œä¼ è¾“å¼€é”€ã€‚</li>
</ul>
<p>å¯¹äºèµ„æ·±å€™é€‰äººï¼Œæˆ‘ä»¬æ›´çœ‹é‡ç³»ç»Ÿæ€§ã€å…¨å±€è§‚ï¼Œè€ŒéæŸä¸ª API çš„ç”¨æ³•ã€‚</p>
<hr/>
<h3 data-id="heading-6">å¸¸è§è¯¯åŒºï¼šåˆ«è¢«æ ‡ç­¾ç»‘æ¶</h3>
<ul>
<li>è¿‡åº¦è¿·ä¿¡â€œå¤§å‚èƒŒæ™¯â€æˆ–â€œåæ ¡å­¦å†â€ï¼›</li>
<li>è¢«ç²¾å¿ƒåŒ…è£…çš„é¡¹ç›®ç»å†è¿·æƒ‘ï¼›</li>
<li>æ— æ„è¯†åœ°å› å¹´é¾„ã€æ€§åˆ«ã€å­¦å†äº§ç”Ÿåè§ã€‚</li>
</ul>
<p>çœŸæ­£çš„è¯„ä¼°ï¼Œåº”å›å½’åˆ°â€œè¿™ä¸ªäººèƒ½ä¸èƒ½è§£å†³é—®é¢˜ã€æ„¿ä¸æ„¿æ„åä½œã€æœ‰æ²¡æœ‰æŒç»­æˆé•¿çš„æ„æ„¿â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2d637a4aacd43c4923c7e56b228e937~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=kkBWCiyGb%2B5EGt78HeN7F%2Fa2dic%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-7">å…­ä¸ªæ ¸å¿ƒç»´åº¦ï¼Œç¼ºä¸€ä¸å¯</h3>
<ol>
<li><strong>æŠ€æœ¯èƒ½åŠ›</strong>ï¼šä¸è€ƒæ­»è®°ç¡¬èƒŒï¼Œè€Œçœ‹è§£é¢˜æ€è·¯ä¸ä¼˜åŒ–è¿‡ç¨‹ã€‚é¼“åŠ±â€œè¾¹å†™è¾¹è®²â€ï¼Œæš´éœ²æ€ç»´è·¯å¾„ã€‚</li>
<li><strong>é—®é¢˜è§£å†³</strong>ï¼šç”¨å¼€æ”¾æ€§é—®é¢˜è§‚å¯Ÿå…¶æ‹†è§£ã€å‡è®¾ã€éªŒè¯çš„èƒ½åŠ›ã€‚STAR åŸåˆ™å¾ˆæœ‰æ•ˆã€‚</li>
<li><strong>å­¦ä¹ æ½œåŠ›</strong>ï¼šé—®â€œæœ€è¿‘å­¦äº†ä»€ä¹ˆæ–°æŠ€æœ¯ï¼Ÿâ€çœ‹ä»–æ˜¯å¦ä¸»åŠ¨æ¢ç´¢ã€æ€»ç»“ã€åˆ†äº«ã€‚</li>
<li><strong>æ²Ÿé€šåä½œ</strong>ï¼šèƒ½å¦æ¸…æ™°è¡¨è¾¾ï¼Ÿæ˜¯å¦ä¸»åŠ¨ç¡®è®¤éœ€æ±‚ï¼Ÿé¢å¯¹åˆ†æ­§å¦‚ä½•å¤„ç†ï¼Ÿ</li>
<li><strong>è´£ä»»å¿ƒ</strong>ï¼šåœ¨é¡¹ç›®ä¸­æ˜¯â€œæˆ‘æ¨åŠ¨äº†â€è¿˜æ˜¯â€œæˆ‘ä»¬åšäº†â€ï¼Ÿå¤±è´¥æ—¶æ˜¯å¦ç”©é”…ï¼Ÿ</li>
<li><strong>æ–‡åŒ–åŒ¹é…</strong>ï¼šä»–ç†æƒ³ä¸­çš„å›¢é˜Ÿæ˜¯ä»€ä¹ˆæ ·ï¼Ÿæ˜¯å¦è®¤åŒæˆ‘ä»¬çš„èŠ‚å¥ä¸ä»·å€¼è§‚ï¼Ÿ</li>
</ol>
<p>æ‰€è°“â€œå¯¹å‘³â€ï¼Œå…¶å®å°±æ˜¯è¿™äº›ç»´åº¦ç»¼åˆä½œç”¨ä¸‹çš„ç›´è§‰åˆ¤æ–­â€”â€”ä½†å®ƒå¿…é¡»å»ºç«‹åœ¨æ‰å®çš„è§‚å¯Ÿä¹‹ä¸Šï¼Œè€Œéç„å­¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/844a7c8c1ba74c3e946d41f73fe81575~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=ZBhdPCdYN7vwyGDC3DvdxWMKPLU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-8">ä¸åŒå²—ä½ï¼Œä¸åŒè§†è§’</h3>
<p>ä½œä¸ºå›¢é˜Ÿè´Ÿè´£äººï¼Œæˆ‘å¸¸è¦é¢è¯•å‰ç«¯ã€æµ‹è¯•ã€äº§å“ç­‰éåç«¯è§’è‰²ã€‚è¿™æ—¶ï¼ŒæŠ€æœ¯ç»†èŠ‚åè€Œé€€å±…å…¶æ¬¡ï¼Œæ›´å…³æ³¨ï¼š</p>
<ul>
<li>é€»è¾‘æ˜¯å¦ä¸¥è°¨ï¼Ÿ</li>
<li>åˆ†ææ˜¯å¦é€å½»ï¼Ÿ</li>
<li>è¡¨è¾¾æ˜¯å¦æ¸…æ™°ï¼Ÿ</li>
<li>æ˜¯å¦å…·å¤‡ç»“æ„åŒ–æ€ç»´ã€æŠ½è±¡èƒ½åŠ›å’Œæ‰¹åˆ¤æ€§æ€è€ƒï¼Ÿ</li>
</ul>
<p>æ¯”å¦‚é—®å‰ç«¯ï¼šâ€œä½ å¦‚ä½•ä»æ”¶åˆ°ä¸€ä¸ªçº¿ä¸Š bug åˆ°æœ€ç»ˆé—­ç¯ï¼Ÿâ€ çœ‹çš„æ˜¯å…¨æµç¨‹æ„è¯†ï¼Œè€Œéåªä¼šè°ƒæ ·å¼ã€‚</p>
<hr/>
<h3 data-id="heading-9">é«˜é˜¶è¯†äººï¼šå‹åŠ›ã€æ²‰é»˜ä¸å¤±è´¥</h3>
<p>çœŸæ­£è€ƒéªŒä¸€ä¸ªäººçš„ï¼Œä¸æ˜¯é¡ºå¢ƒä¸­çš„è¡¨ç°ï¼Œè€Œæ˜¯é€†å¢ƒä¸­çš„ååº”ã€‚</p>
<ul>
<li><strong>å‹åŠ›æµ‹è¯•</strong>ï¼šæ•…æ„è´¨ç–‘æ–¹æ¡ˆï¼Œâ€œå¤ªå¤æ‚äº†ï¼Œæœ‰æ²¡æœ‰æ›´ç®€å•çš„ï¼Ÿâ€ è§‚å¯Ÿå…¶æ˜¯å¦æ…Œä¹±ã€é˜²å¾¡ï¼Œè¿˜æ˜¯å†·é™è°ƒæ•´ã€‚</li>
<li><strong>æ²‰é»˜å‹è¿«</strong>ï¼šåœ¨å…³é”®å›ç­”åä¿æŒå®‰é™ï¼Œçœ‹ä»–æ˜¯å¦ä¼šä¸»åŠ¨è¡¥å……ã€åæ€â€”â€”è¿™æ˜¯ ownership çš„ä½“ç°ã€‚</li>
<li><strong>å¤±è´¥å¤ç›˜</strong>ï¼šæ¯”èµ·æˆåŠŸæ¡ˆä¾‹ï¼Œæˆ‘æ›´çˆ±é—®ï¼šâ€œä½ åšè¿‡æœ€å¤±è´¥çš„æŠ€æœ¯å†³ç­–æ˜¯ä»€ä¹ˆï¼Ÿâ€<br/>
ä¼˜ç§€è€…ä¼šå¦ç„¶æ‰¿è®¤é”™è¯¯ï¼Œåˆ†ææ ¹å› ï¼Œå¹¶æ¨åŠ¨ç³»ç»Ÿæ€§æ”¹è¿›ï¼ˆå¦‚å¼•å…¥è‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰ã€‚</li>
</ul>
<p>è¿™äº›æ–¹æ³•ï¼Œé€‚ç”¨äºä¸­é«˜çº§å²—ä½ï¼Œèƒ½æœ‰æ•ˆåŒºåˆ†â€œæ‰§è¡Œè€…â€å’Œâ€œä¸»å¯¼è€…â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/853f4059e5c943439a0c6cc87a738cb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=Te7oyVNjioYBsPkqkztfKDs4yPU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-10">é¢è¯•å®˜çš„ç“¶é¢ˆï¼šæˆ‘ä»¬ä¹Ÿåœ¨æŒ£æ‰</h3>
<p>åˆ«ä»¥ä¸ºé¢è¯•å®˜æ€»æ˜¯æ¸¸åˆƒæœ‰ä½™ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬åŒæ ·é¢ä¸´è¯¸å¤šå›°å¢ƒï¼š</p>
<ol>
<li><strong>è¯„ä¼°ç»´åº¦å•ä¸€</strong>ï¼šåªçœ‹ç¼–ç ï¼Œå¿½ç•¥åä½œã€æˆé•¿æ€§ï¼›</li>
<li><strong>ä¸»è§‚åè§</strong>ï¼šå‡­æ„Ÿè§‰æ‰“åˆ†ï¼Œç¼ºä¹ä¸€è‡´æ€§ï¼›</li>
<li><strong>çŸ¥è¯†æ»å</strong>ï¼šå¯¹æ–°å…´æŠ€æœ¯ä¸ç†Ÿï¼Œé—®é¢˜é™ˆæ—§ï¼›</li>
<li><strong>è§’è‰²å±€é™</strong>ï¼šåªå½“â€œå®ˆé—¨äººâ€ï¼Œå¿½è§†å€™é€‰äººä½“éªŒï¼›</li>
<li><strong>ç¼ºä¹æ–¹æ³•è®º</strong>ï¼šé¢è¯•éšæ„ï¼Œè¯„åˆ†æ¨¡ç³Šï¼›</li>
<li><strong>ç²¾åŠ›æ¯ç«­</strong>ï¼šæ¯å‘¨é¢10+äººï¼ŒåæœŸæ ‡å‡†æ¾åŠ¨ï¼›</li>
<li><strong>åŸ¹è®­ç¼ºå¤±</strong>ï¼šä¸ä¼šè¿½é—®ï¼Œå¬ä¸å‡ºçœŸå‡ï¼›</li>
<li><strong>é¢†åŸŸç›²åŒº</strong>ï¼šè·¨å²—é¢è¯•æ—¶åŠ›ä¸ä»å¿ƒï¼›</li>
<li><strong>æ€ç»´å›ºåŒ–</strong>ï¼šåªæ‰¾â€œåƒè‡ªå·±çš„äººâ€ï¼Œæ‰¼æ€å¤šæ ·æ€§ï¼›</li>
<li><strong>å†³ç­–ç–²åŠ³</strong>ï¼šå› æ€¥æ‹›è€Œâ€œå°†å°±â€ï¼ŒåŸ‹ä¸‹éšæ‚£ã€‚</li>
</ol>
<p>è¿™äº›é—®é¢˜ï¼Œæ¯ä¸€ä¸ªéƒ½å¯èƒ½è®©ä¸€æ¬¡æœ¬è¯¥ç²¾å‡†çš„è¯„ä¼°ï¼Œå˜æˆä¸€åœºè¯¯åˆ¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4eb8466bab2946b9bb581990c9f40a93~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=GquzLvuKl3RCeZbej%2BdIPMGSZEI%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-11">å¦‚ä½•çªç ´ï¼Ÿä¸‰ä¸ªæ–¹å‘</h3>
<ol>
<li><strong>å»ºç«‹ç»“æ„åŒ–è¯„ä¼°æ¡†æ¶</strong><br/>
ä¸åŒèŒçº§ï¼Œæƒé‡ä¸åŒã€‚åˆçº§é‡åŸºç¡€ä¸å­¦ä¹ åŠ›ï¼Œé«˜çº§é‡ç³»ç»Ÿè®¾è®¡ä¸å½±å“åŠ›ã€‚ä¸å²—ä½èƒœä»»åŠ›æ¨¡å‹å¯¹é½ã€‚</li>
<li><strong>æ‹¥æŠ±è¡Œä¸ºé¢è¯•ä¸æƒ…å¢ƒæ¨¡æ‹Ÿ</strong><br/>
å°‘é—®â€œRedis æœ‰å‡ ç§æ•°æ®ç±»å‹â€ï¼Œå¤šé—®â€œè¯·è®²ä¸€ä¸ªä½ è§£å†³è¿‡çš„æœ€å¤æ‚æŠ€æœ¯éš¾é¢˜â€ã€‚ç”¨çœŸå®åœºæ™¯ä»£æ›¿çŸ¥è¯†é—®ç­”ã€‚</li>
<li><strong>æŒç»­å­¦ä¹ ï¼Œåå“ºå›¢é˜Ÿ</strong><br/>
å®šæœŸç ”ç©¶è¡Œä¸šè¶‹åŠ¿ï¼Œå‚ä¸æŠ€æœ¯åˆ†äº«ã€‚æŠŠé¢è¯•ä¸­å‘ç°çš„å…±æ€§é—®é¢˜ï¼ˆå¦‚å¤šæ•°äººä¸æ‡‚å¯è§‚æµ‹æ€§ï¼‰ï¼Œè½¬åŒ–ä¸ºå›¢é˜Ÿèƒ½åŠ›å»ºè®¾è®®é¢˜ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/176ce52ff1d64de7a89980ea39879836~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgdXpvbmc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020063&amp;x-signature=2aGZrJN51yaNIgXjV22W631qTtU%3D" alt="" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-12">æœ€åå‡ å¥å¿ƒé‡Œè¯</h3>
<ul>
<li><strong>å®å¯é”™è¿‡ï¼Œä¸è¦é”™æ‹›</strong>ã€‚ä¸€ä¸ªä¸åˆé€‚çš„äººï¼Œå¯¹å›¢é˜Ÿçš„ä¼¤å®³è¿œå¤§äºç©ºç¼ºã€‚</li>
<li><strong>å¼ºè€…å¸å¼•å¼ºè€…</strong>ã€‚ä½ æé—®çš„è´¨é‡ï¼Œä»£è¡¨å›¢é˜Ÿçš„ä¸“ä¸šæ°´å‡†ã€‚</li>
<li><strong>é¢è¯•æ˜¯é•œå­</strong>ã€‚ä½ åœ¨è¯„ä¼°åˆ«äººï¼Œåˆ«äººä¹Ÿåœ¨è¯„ä¼°ä½ ã€‚æ¯ä¸€æ¬¡å¯¹è¯ï¼Œéƒ½æ˜¯ç»„ç»‡å½¢è±¡çš„æŠ•å°„ã€‚</li>
</ul>
<p>æŠ€æœ¯é¢è¯•å®˜ï¼Œä¸è¯¥æ˜¯å†·å†°å†°çš„ç­›é€‰æœºå™¨ï¼Œè€Œåº”æ˜¯äººæ‰ä¸ç»„ç»‡ä¹‹é—´çš„æ¡¥æ¢ã€‚è¿™æ¡è·¯æ²¡æœ‰ç»ˆç‚¹ï¼Œåªæœ‰æŒç»­ç²¾è¿›ã€‚</p>
<p>æ¯•ç«Ÿï¼Œ<strong>è¯†äººï¼Œç»ˆç©¶æ˜¯ä¸€åœºå¯¹è‡ªæˆ‘çš„ä¿®è¡Œ</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ²¡å¼€æŒ‚ï¼è‹±ä¼Ÿè¾¾å¼€æºâ€œé€šç©åƒæ¬¾æ¸¸æˆâ€çš„AIæ¨¡å‹ï¼Œåªä¸ºç»™æœºå™¨äººé€ ä¸ªè„‘å­]]></title>    <link>https://juejin.cn/post/7586518130761367592</link>    <guid>https://juejin.cn/post/7586518130761367592</guid>    <pubDate>2025-12-22T15:01:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586518130761367592" data-draft-id="7586493936677699624" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ²¡å¼€æŒ‚ï¼è‹±ä¼Ÿè¾¾å¼€æºâ€œé€šç©åƒæ¬¾æ¸¸æˆâ€çš„AIæ¨¡å‹ï¼Œåªä¸ºç»™æœºå™¨äººé€ ä¸ªè„‘å­"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-22T15:01:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ²¡å¼€æŒ‚ï¼è‹±ä¼Ÿè¾¾å¼€æºâ€œé€šç©åƒæ¬¾æ¸¸æˆâ€çš„AIæ¨¡å‹ï¼Œåªä¸ºç»™æœºå™¨äººé€ ä¸ªè„‘å­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T15:01:50.000Z" title="Mon Dec 22 2025 15:01:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœè¯´ChatGPTè¯»å®Œäº†äººç±»äº’è”ç½‘æ‰€æœ‰çš„ä¹¦ï¼Œé‚£ä¹ˆè‹±ä¼Ÿè¾¾åˆšåˆšå¼€æºçš„NitroGenï¼Œå°±æ˜¯é‚£ä¸ªåœ¨ç½‘å§é‡Œæ³¡äº†4ä¸‡ä¸ªå°æ—¶ã€çœ‹éäº†æ‰€æœ‰å¤§ç¥æ“ä½œçš„â€œè¶…çº§ç©å®¶â€ã€‚</p>
<p>å°±åœ¨æœ€è¿‘ï¼Œè‹±ä¼Ÿè¾¾è”åˆæ–¯å¦ç¦ã€åŠ å·ç†å·¥æäº†ä¸ªå¤§åŠ¨ä½œï¼Œæ­£å¼å¼€æºäº†åä¸ºNitroGençš„è§†è§‰-åŠ¨ä½œåŸºç¡€æ¨¡å‹ã€‚è¿™ä¸€æ‰‹æ“ä½œç›´æ¥åœ¨AIåœˆå’Œæ¸¸æˆåœˆç‚¸äº†é”…ã€‚è¿™å¯ä¸æ˜¯é‚£ç§åªä¼šè·‘å›ºå®šè„šæœ¬çš„ç®€é™‹å¤–æŒ‚ï¼Œè€Œæ˜¯ä¸€ä¸ªçœŸæ­£é•¿äº†çœ¼ç›ã€ä¼šæ€è€ƒã€èƒ½æ“ä½œæ‰‹æŸ„çš„é€šç”¨æ™ºèƒ½ä½“ã€‚</p>
<p>å¾ˆå¤šäººç¬¬ä¸€ååº”æ˜¯ï¼šè‹±ä¼Ÿè¾¾è¿™æ˜¯è¦æä¸ªå…¨èƒ½ä»£ç»ƒï¼Ÿå…¶å®ï¼Œè¿™ç›˜æ£‹ä¸‹å¾—æ¯”ä½ æƒ³è±¡çš„è¦å¤§å¾—å¤šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fasdafsdgfg-1024x429.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/asdafsdgfg-1024x429.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a746944751e045deaec88fa5df53b3e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=FEfP4HDDEoLVCAFQINhM4VZWMZI%3D" alt="asdafsdgfg" loading="lazy"/></a></p>
<p><strong>å®ƒå‡­ä»€ä¹ˆèƒ½é€šå…³ä¸€åƒæ¬¾æ¸¸æˆï¼Ÿ</strong></p>
<p>ä»¥å¾€çš„æ¸¸æˆAIï¼Œå¤§å¤šæ˜¯â€œä¸“æ‰â€ã€‚ä¸‹å›´æ£‹çš„AlphaGoä¸ä¼šæ‰“æ˜Ÿé™…ï¼Œæ‰“Dotaçš„OpenAI Fiveä¸ä¼šç©è¶…çº§é©¬é‡Œå¥¥ã€‚ä½†NitroGenä¸»æ‰“å°±æ˜¯ä¸€ä¸ªâ€œå…¨èƒ½â€ã€‚</p>
<p>å®ƒçš„è®­ç»ƒæ•°æ®å ªç§°ææ€–ï¼š40,000å°æ—¶çš„å…¬å¼€æ¸¸æˆè§†é¢‘ï¼Œè¦†ç›–äº†è¶…è¿‡1,000æ¬¾æ¸¸æˆã€‚ä»ã€Šå·«å¸ˆ3ã€‹è¿™ç§å¤æ‚çš„3Aå¤§ä½œï¼Œåˆ°ã€Šèµ›åšæœ‹å…‹2077ã€‹çš„éœ“è™¹å¤œæ™¯ï¼Œå†åˆ°å„ç§æ¨ªç‰ˆè·³è·ƒå°æ¸¸æˆï¼Œå®ƒå…¨éƒ½è¦ã€‚</p>
<p>ä½†æœ€ç»çš„ä¸æ˜¯æ•°æ®é‡ï¼Œè€Œæ˜¯å®ƒâ€œå·å¸ˆâ€çš„æ–¹æ³•ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“è®­ç»ƒAIæœ€è´µçš„æ˜¯äººå·¥æ ‡æ³¨æ•°æ®ã€‚è‹±ä¼Ÿè¾¾çš„ç ”ç©¶å›¢é˜Ÿè¿™æ¬¡æƒ³äº†ä¸ªå¤©æ‰èˆ¬çš„ç‚¹å­ï¼šä»–ä»¬ä¸“é—¨å»æ‰¾é‚£äº›å¸¦æœ‰â€œæ‰‹æŸ„æŒ‰é”®æ˜¾ç¤ºå±‚â€çš„æ¸¸æˆç›´æ’­å½•åƒã€‚é€šè¿‡ç®—æ³•ï¼ŒæŠŠè§†é¢‘é‡Œç©å®¶æŒ‰ä¸‹çš„é”®ä½è‡ªåŠ¨æå–å‡ºæ¥ï¼Œç›´æ¥å¯¹åº”åˆ°å½“æ—¶çš„æ¸¸æˆç”»é¢ä¸Šã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸ä»…çœäº†å·¨é¢çš„äººå·¥è´¹ï¼Œè¿˜ç›´æ¥è®©AIå­¦ä¼šäº†äººç±»é«˜æ‰‹çš„æ“ä½œé€»è¾‘ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fdafsdgdfg-1024x322.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/dafsdgdfg-1024x322.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3016330c2cba46e48c2320edf6bd3667~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=UiQ3rT9t8Vt8FlGEoRmbqWp3yNM%3D" alt="dafsdgdfg" loading="lazy"/></a></p>
<p><strong>è¿™ä¸åªæ˜¯ç©æ¸¸æˆï¼Œè¿™æ˜¯æœºå™¨äººçš„æ¨¡æ‹Ÿè€ƒ</strong></p>
<p>NitroGençš„å„ç§æŠ€æœ¯æŒ‡æ ‡ç¡®å®äº®çœ¼ã€‚æ¯”å¦‚å®ƒçš„æ¶æ„é­”æ”¹è‡ªè‹±ä¼Ÿè¾¾çš„æœºå™¨äººæ¨¡å‹GR00Tï¼Œå®ƒæ˜¯çº¯è§†è§‰é©±åŠ¨çš„â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåƒäººä¸€æ ·ç›¯ç€å±å¹•çœ‹åƒç´ ï¼Œç„¶åè¾“å‡ºæ‰‹æŸ„æŒ‡ä»¤ï¼Œè€Œä¸æ˜¯å»è¯»å–æ¸¸æˆåå°å†…å­˜æ•°æ®ä½œå¼Šã€‚</p>
<p>åœ¨æµ‹è¯•ä¸­ï¼Œå³ä¾¿æŠŠNitroGenæ‰”åˆ°ä¸€ä¸ªå®ƒä»æœªè§è¿‡çš„å…¨æ–°æ¸¸æˆé‡Œï¼Œç¨å¾®ç»™ç‚¹æ•°æ®å¾®è°ƒä¸€ä¸‹ï¼Œå®ƒçš„ä¸Šæ‰‹é€Ÿåº¦æ¯”ä»é›¶è®­ç»ƒçš„æ¨¡å‹å¿«å¾—å¤šï¼Œä»»åŠ¡æˆåŠŸç‡æœ€é«˜èƒ½æå‡52%ã€‚è¿™æ„å‘³ç€å®ƒå·²ç»æŒæ¡äº†ä¸€å¥—é€šç”¨çš„â€œæ¸¸æˆè¯­æ³•â€ã€‚</p>
<p>ä½†å¦‚æœä½ ä»¥ä¸ºé»„ä»å‹‹èŠ±å¤§é’±æè¿™ä¸ªåªæ˜¯ä¸ºäº†åœ¨æ¸¸æˆé‡Œè™èœï¼Œé‚£å°±æ ¼å±€å°äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Ffsdgfdgdfg-1024x377.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/fsdgfdgdfg-1024x377.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10f0feb7064a4acaa14ae0869d81503f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=4brbTowW%2FXwkoF7%2BXu9Ibd6q8WI%3D" alt="fsdgfdgdfg" loading="lazy"/></a></p>
<p>è‹±ä¼Ÿè¾¾æœºå™¨äººæ€»ç›‘Jim Fanç›´æ¥ç‚¹ç ´äº†å¤©æœºï¼šç”µå­æ¸¸æˆæ˜¯è®­ç»ƒâ€œå…·èº«æ™ºèƒ½â€æœ€å®Œç¾çš„æ¨¡æ‹Ÿå®‡å®™ã€‚</p>
<p>ç°å®ä¸–ç•Œå¤ªå¤æ‚ã€å®¹é”™ç‡å¤ªä½ï¼Œä½ ä¸èƒ½è®©ä¸€ä¸ªåˆšå‡ºå‚çš„æœºå™¨äººå»å¨æˆ¿ç»ƒåˆ‡èœï¼Œåˆ‡åˆ°æ‰‹æˆ–è€…çƒ§äº†å¨æˆ¿ä»£ä»·å¤ªå¤§ã€‚ä½†æ¸¸æˆä¸–ç•Œç‰©ç†è§„åˆ™è‡ªæ´½ã€åé¦ˆå³æ—¶ã€‚å¦‚æœä¸€ä¸ªAIèƒ½å­¦ä¼šåœ¨ã€Šèµ›åšæœ‹å…‹ã€‹é‡Œå¼€è½¦ã€åœ¨ã€Šå¤å¢“ä¸½å½±ã€‹é‡Œæ”€å²©ã€åœ¨ã€Šæˆ‘çš„ä¸–ç•Œã€‹é‡Œåˆæˆå·¥å…·ï¼Œé‚£ä¹ˆè¿™ç§å¯¹ç¯å¢ƒçš„æ„ŸçŸ¥åŠ›ã€å†³ç­–åŠ›ï¼Œæ˜¯å¯ä»¥è¿ç§»åˆ°ç°å®ä¸–ç•Œçš„æœºå™¨äººèº«ä¸Šçš„ã€‚</p>
<p>NitroGenå°±æ˜¯è‹±ä¼Ÿè¾¾ç»™æœªæ¥æœºå™¨äººå‡†å¤‡çš„â€œå¤§è„‘é¢„æ¼”â€ã€‚</p>
<p><strong>å¼€æºçš„æ„ä¹‰ï¼šå…·èº«æ™ºèƒ½çš„GPTæ—¶åˆ»ï¼Ÿ</strong></p>
<p>æœ€è®©å¼€å‘è€…å…´å¥‹çš„æ˜¯ï¼Œè‹±ä¼Ÿè¾¾è¿™æ¬¡éå¸¸æ•äº®ã€‚</p>
<p>é¡¹ç›®ä¸»é¡µã€è®ºæ–‡ã€ä»£ç ä»“åº“ã€ç”šè‡³è¿é¢„è®­ç»ƒçš„æ¨¡å‹æƒé‡å’Œé‚£4ä¸‡å°æ—¶å¤„ç†è¿‡çš„æ•°æ®é›†ï¼Œå…¨éƒ¨åœ¨Hugging Faceä¸Šå¼€æºäº†ã€‚è¿™æ„å‘³ç€ï¼Œå…¨çƒçš„ç ”ç©¶è€…ä¸éœ€è¦å†å»é‡å¤é€ è½®å­ï¼Œç›´æ¥å¯ä»¥åœ¨NitroGençš„åŸºç¡€ä¸Šï¼Œå»è®­ç»ƒé’ˆå¯¹ç‰¹å®šæ¸¸æˆçš„è¶…å¼ºAIï¼Œæˆ–è€…æ˜¯éªŒè¯æ–°çš„æœºå™¨äººç®—æ³•ã€‚</p>
<p>æˆ‘ä»¬æ­£åœ¨è§è¯ä¸€ä¸ªæœ‰è¶£çš„è½¬æŠ˜ç‚¹ï¼šä»¥å‰æˆ‘ä»¬æ•™AIç©æ¸¸æˆæ˜¯ä¸ºäº†å¨±ä¹ï¼Œç°åœ¨AIç©æ¸¸æˆï¼Œæ˜¯ä¸ºäº†å­¦ä¼šå¦‚ä½•åœ¨è¿™ä¸ªç‰©ç†ä¸–ç•Œä¸­ç”Ÿå­˜å’Œå·¥ä½œã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Frghtyhyth-1024x446.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/rghtyhyth-1024x446.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7f0729babac4705ae882b12ea197925~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767020509&amp;x-signature=CmONyIjEwircIPq38Ojl1LXNd7M%3D" alt="rghtyhyth" loading="lazy"/></a></p>
<p>å¯¹äºNitroGenæ¥è¯´ï¼Œé€šå…³ä¸€åƒæ¬¾æ¸¸æˆåªæ˜¯çƒ­èº«ï¼Œå®ƒçš„æ˜Ÿè¾°å¤§æµ·ï¼Œæ˜¯èµ°å‡ºå±å¹•ï¼Œèµ°è¿›ç°å®ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ±‚1~nçš„ç´¯åŠ å’Œ]]></title>    <link>https://juejin.cn/post/7586479864272224262</link>    <guid>https://juejin.cn/post/7586479864272224262</guid>    <pubDate>2025-12-22T13:04:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864272224262" data-draft-id="7586479864272191494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ±‚1~nçš„ç´¯åŠ å’Œ"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-12-22T13:04:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ozyzo"/> <meta itemprop="url" content="https://juejin.cn/user/458965109710202"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ±‚1~nçš„ç´¯åŠ å’Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/458965109710202/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ozyzo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:04:39.000Z" title="Mon Dec 22 2025 13:04:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»£ç å¦‚ä¸‹:</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-comment">// è®¡ç®—1-nçš„å’Œ</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">sum</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> {
    <span class="hljs-type">int</span> result = <span class="hljs-number">0</span>;
    <span class="hljs-comment">// å¾ªç¯ç´¯åŠ 1åˆ°n</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) {
        result += i;
    }
    <span class="hljs-comment">// è¾“å‡ºç»“æœï¼ˆä¿®æ­£åŸprintfçš„é”™è¯¯æ ¼å¼ï¼‰</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"1åˆ°%dçš„å’Œæ˜¯ï¼š%d\n"</span>, n, result);
}

<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">int</span> n;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è¯·è¾“å…¥nçš„å€¼ï¼š"</span>);
    <span class="hljs-comment">// è¯»å–ç”¨æˆ·è¾“å…¥çš„n</span>
    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n);
    <span class="hljs-comment">// è°ƒç”¨sumå‡½æ•°è®¡ç®—å¹¶è¾“å‡º</span>
    sum(n);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-1">è¿è¡Œç»“æœå¦‚ä¸‹:</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c37c9f0096542d2a6a487e39235b1b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3p5em8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013479&amp;x-signature=UXBRuJ5hkWUrLk5muq2fSSIyYLw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 64 æœŸï¼ˆ2025å¹´12.1-12.21ï¼‰]]></title>    <link>https://juejin.cn/post/7586479864272273414</link>    <guid>https://juejin.cn/post/7586479864272273414</guid>    <pubDate>2025-12-22T13:10:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864272273414" data-draft-id="7586540799250251830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 64 æœŸï¼ˆ2025å¹´12.1-12.21ï¼‰"/> <meta itemprop="keywords" content="åç«¯,.NET"/> <meta itemprop="datePublished" content="2025-12-22T13:10:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠ | ç¬¬ 64 æœŸï¼ˆ2025å¹´12.1-12.21ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:10:25.000Z" title="Mon Dec 22 2025 13:10:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c18034479dd44be9df41606958a5cb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=tbm%2Br6zqJBf9Ps8QxXvc3OippyE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>C#/.NET/.NET CoreæŠ€æœ¯å‰æ²¿å‘¨åˆŠï¼Œä½ çš„æ¯å‘¨æŠ€æœ¯æŒ‡å—é’ˆï¼è®°å½•ã€è¿½è¸ªC#/.NET/.NET Coreé¢†åŸŸã€ç”Ÿæ€çš„æ¯å‘¨æœ€æ–°ã€æœ€å®ç”¨ã€æœ€æœ‰ä»·å€¼çš„æŠ€æœ¯æ–‡ç« ã€ç¤¾åŒºåŠ¨æ€ã€ä¼˜è´¨é¡¹ç›®å’Œå­¦ä¹ èµ„æºç­‰ã€‚è®©ä½ æ—¶åˆ»ç«™åœ¨æŠ€æœ¯å‰æ²¿ï¼ŒåŠ©åŠ›æŠ€æœ¯æˆé•¿ä¸è§†é‡æ‹“å®½ã€‚</p>
<blockquote>
<p>æ¬¢è¿æŠ•ç¨¿ã€æ¨èæˆ–è‡ªèä¼˜è´¨æ–‡ç« ã€é¡¹ç›®ã€å­¦ä¹ èµ„æºç­‰ã€‚</p>
</blockquote>
<ul>
<li><strong>ğŸ†æŠ€æœ¯å‰æ²¿å‘¨åˆŠGiteeå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fysgdaydayup%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetWeekly.md" target="_blank" title="https://gitee.com/ysgdaydayup/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md" ref="nofollow noopener noreferrer">gitee.com/ysgdaydayupâ€¦</a></li>
<li><strong>ğŸ“°æŠ€æœ¯å‰æ²¿å‘¨åˆŠGitHubå¼€æºåœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide%2Fblob%2Fmain%2Fdocs%2FDotNet%2FDotNetWeekly.md" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide/blob/main/docs/DotNet/DotNetWeekly.md" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<h2 data-id="heading-1">ç²¾é€‰ 8 ä¸ª .NET å¼€å‘å®ç”¨çš„ç±»åº“ï¼Œæ•ˆç‡æå‡åˆ©å™¨ï¼</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> ç²¾é€‰ 8 ä¸ª .NET å¼€å‘å®ç”¨çš„ç±»åº“ï¼Œ.NET å¼€å‘æ•ˆç‡æå‡åˆ©å™¨ï¼</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FhzHCwM3BaUyZO9HCqODIEQ" target="_blank" title="https://mp.weixin.qq.com/s/hzHCwM3BaUyZO9HCqODIEQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/hzHCwM3Baâ€¦</a></li>
</ul>
<h2 data-id="heading-2">Visual Studio 2026 æ­£å¼ç‰ˆä¸‹è½½ä¸å®‰è£…è¯¦ç»†æ•™ç¨‹ï¼ˆé™„å¸¦äº§å“å¯†é’¥ï¼‰ï¼</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æœ€è¿‘å‘ç°å¾ˆå¤šå°ä¼™ä¼´åé¦ˆ Visual Studio 2026 å®‰è£…å ç”¨ç£ç›˜ç©ºé—´è¾ƒå¤§ï¼Œä»Šå¤©å¤§å§šå‡ºä¸€æœŸ Visual Studio 2026 æ­£å¼ç‰ˆä¸‹è½½ä¸å®‰è£…è¯¦ç»†æ•™ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»…é€‰æ‹©æ‰€éœ€çš„å·¥ä½œè´Ÿè·ã€ç»„ä»¶ã€è¯­è¨€åŒ…æ¥èŠ‚çœå®‰è£…æ—¶é—´å’Œç£ç›˜ç©ºé—´ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°æœ‰éœ€è¦çš„å°ä¼™ä¼´ï¼</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FwbZiTPjhKlFOeU3MgIbq0A" target="_blank" title="https://mp.weixin.qq.com/s/wbZiTPjhKlFOeU3MgIbq0A" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/wbZiTPjhKâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5bec5194a6847dd8a6612728d7534da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=beuGr7t0BNoShQG5abTy1Zpl07o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">ä¸€ä¸ª .NET å¼€æºå…è´¹ã€åŠŸèƒ½å¼ºå¤§çš„ UI è‡ªåŠ¨åŒ–åº“</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> FlaUI æ˜¯ä¸€ä¸ª .NET å¼€æºå…è´¹ï¼ˆMIT licenseï¼‰ã€åŠŸèƒ½å¼ºå¤§ çš„ UI è‡ªåŠ¨åŒ–åº“ï¼Œä¸“ä¸º Windows æ¡Œé¢åº”ç”¨ç¨‹åºï¼ˆå¦‚ Win32ã€WinFormsã€WPFã€Store Apps ç­‰åº”ç”¨ï¼‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•è€Œè®¾è®¡ã€‚è¯¥é¡¹ç›®åŸºäº Microsoft çš„åŸç”Ÿ UI Automation åº“æ„å»ºï¼Œå¹¶ä½œä¸ºè¿™äº›åº“çš„å°è£…å™¨ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œçµæ´»çš„ APIï¼Œä»¥ä¾¿å¼€å‘è€…èƒ½å¤Ÿé«˜æ•ˆåœ°ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPE4S-fUyeG7U8Z78NYu6Rw" target="_blank" title="https://mp.weixin.qq.com/s/PE4S-fUyeG7U8Z78NYu6Rw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/PE4S-fUyeâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32a1862e16614ae6af955676f6a1b8f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=9nHePQq6%2BbqtwefHAnqEEGD2n%2BI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">Newtonsoft.Json ä¸ System.Text.Json å¤šæ€ååºåˆ—åŒ–çš„å®‰å…¨æ€§å·®å¼‚è§£æ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å¤šæ€ååºåˆ—åŒ–æ˜¯å¤„ç†ç»§æ‰¿ç»“æ„å¯¹è±¡åºåˆ—åŒ–çš„å¸¸è§éœ€æ±‚ï¼Œä½†ä¸åŒ JSON åºåˆ—åŒ–åº“çš„å®ç°æœºåˆ¶å·®å¼‚ä¼šå¸¦æ¥æ˜¾è‘—çš„å®‰å…¨é£é™©ã€‚å¾®è½¯ CA2326 è§„åˆ™æ˜ç¡®è­¦ç¤ºï¼šé¿å…ä½¿ç”¨éå®‰å…¨çš„ JsonSerializerSettings é…ç½®ï¼ˆå¦‚ Newtonsoft.Json çš„ TypeNameHandling é None å€¼ï¼‰ï¼Œå¦åˆ™å¯èƒ½å¼•å‘ç±»å‹æ³¨å…¥æ”»å‡»ã€‚æœ¬æ–‡å°†å¯¹æ¯” Newtonsoft.Json ä¸ System.Text.Json åœ¨å¤šæ€ååºåˆ—åŒ–ä¸­çš„å®ç°å·®å¼‚ï¼Œé‡ç‚¹åˆ†æå®‰å…¨æ€§é—®é¢˜ï¼Œå¹¶é€šè¿‡ä»£ç å®ä¾‹éªŒè¯ä¸¤è€…çš„å®‰å…¨è¡¨ç°ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2FMeteorSeed%2Fp%2F19366736" target="_blank" title="https://www.cnblogs.com/MeteorSeed/p/19366736" ref="nofollow noopener noreferrer">www.cnblogs.com/MeteorSeed/â€¦</a></li>
</ul>
<h2 data-id="heading-5">.NET å’Œ .NET Framework 2025 å¹´ 12 æœˆæœåŠ¡å‘å¸ƒæ›´æ–°</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æ¬¢è¿æ¥åˆ°æˆ‘ä»¬ 2025 å¹´ 12 æœˆçš„è”åˆ.NET æœåŠ¡æ›´æ–°ã€‚è®©æˆ‘ä»¬è¿›å…¥.NET å’Œ.NET Framework çš„æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™é‡Œç®€è¦ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬æœåŠ¡ç‰ˆæœ¬ä¸­çš„æ–°å†…å®¹ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Fdotnet%2Fdotnet-and-dotnet-framework-december-2025-servicing-updates%2F" target="_blank" title="https://devblogs.microsoft.com/dotnet/dotnet-and-dotnet-framework-december-2025-servicing-updates/" ref="nofollow noopener noreferrer">devblogs.microsoft.com/dotnet/dotnâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa88f8829d994a3daa2219d1eabfe653~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=DEiUCskPWwRJTqa6WL6FbutDs08%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">å¦‚ä½•æ„å»ºå¸¦æœ‰.NET MAUI çš„ iOS å°éƒ¨ä»¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æˆ‘æ˜¯ä¸€å.NET å¼€å‘è€…ï¼Œä¸»è¦ä¸“æ³¨äº.NET MAUI åˆ° ASP.NET åç«¯æœåŠ¡ã€‚å› ä¸ºæˆ‘æœ€è¿‘å¤§é‡æ¥è§¦å°éƒ¨ä»¶ï¼Œé‡åˆ°äº†è®¸å¤šéšœç¢å’Œæå…¶æœ‰é™çš„æ–‡æ¡£ï¼Œæˆ‘å†³å®šå†™è¿™ç¯‡æ–‡ç« ï¼Œå±•ç¤ºç”¨ .NET MAUI æ„å»ºå®Œæ•´å°éƒ¨ä»¶æ˜¯å®Œå…¨å¯èƒ½çš„ã€‚è€Œä¸”è¿˜èƒ½ä»¥ç±»ä¼¼åŸç”Ÿå¼€å‘ç¯å¢ƒçš„ä¸“ä¸šæ–¹å¼å®Œæˆï¼Œä¸ç”¨æ‹…å¿ƒæ¯æ¬¡æ–°æ„å»ºæˆ–æ›´æ–°éƒ½ä¼šè®©ä¸€åˆ‡å´©æºƒã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Fdotnet%2Fhow-to-build-ios-widgets-with-dotnet-maui" target="_blank" title="https://devblogs.microsoft.com/dotnet/how-to-build-ios-widgets-with-dotnet-maui" ref="nofollow noopener noreferrer">devblogs.microsoft.com/dotnet/how-â€¦</a></li>
</ul>
<h2 data-id="heading-7">.NET 10 ç½‘ç»œæ”¹è¿›</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å’Œæ¯æ¬¡ç‰ˆæœ¬ä¸€æ ·ï¼Œæˆ‘ä»¬ä¼šå‘å¸ƒä¸€ç¯‡å…³äº.NET ç½‘ç»œé¢†åŸŸæ–°é¢–æœ‰è¶£å˜åŒ–å’Œæ–°å¢å†…å®¹çš„åšå®¢æ–‡ç« ã€‚è¿™æ¬¡ï¼Œæˆ‘ä»¬å°†è®¨è®º HTTP æ”¹è¿›ã€æ–°çš„ Web å¥—æ¥å­— APIã€ å®‰å…¨å˜æ›´ä»¥åŠè®¸å¤šç½‘ç»œåŸè¯­çš„ç‹¬ç‰¹æ–°å¢å†…å®¹ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevblogs.microsoft.com%2Fdotnet%2Fdotnet-10-networking-improvements%2F" target="_blank" title="https://devblogs.microsoft.com/dotnet/dotnet-10-networking-improvements/" ref="nofollow noopener noreferrer">devblogs.microsoft.com/dotnet/dotnâ€¦</a></li>
</ul>
<h2 data-id="heading-8">åˆ†äº« 4 æ¬¾åŸºäº C# ç¼–å†™ã€å®ç”¨ã€å¼€æºçš„ Visual Studio æ‰©å±•æ’ä»¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> EFCore.Visualizer æ˜¯ä¸€æ¬¾å¯ä»¥ç›´æ¥åœ¨ Visual Studio ä¸­æŸ¥çœ‹ EF Core æŸ¥è¯¢è®¡åˆ’è°ƒè¯•å™¨å¯è§†åŒ–å·¥å…·ï¼ˆå¸®åŠ©å¼€å‘è€…åˆ†æå’Œä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ï¼‰ï¼Œç›®å‰ï¼Œè¯¥å¯è§†åŒ–å·¥å…·æ”¯æŒ SQL Serverã€PostgreSQLã€SQLiteã€MySQL å’Œ Oracleã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDTX-UAZhle9dxnD4MjebCw" target="_blank" title="https://mp.weixin.qq.com/s/DTX-UAZhle9dxnD4MjebCw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/DTX-UAZhlâ€¦</a></li>
</ul>
<h2 data-id="heading-9">å®Œç¾å¤åˆ»ï¼ä¸€ä¸ªåŸºäº C# å’Œ WPF å¼€æºçš„ç½‘æ˜“äº‘éŸ³ä¹å®¢æˆ·ç«¯</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> MusicApp æ˜¯ä¸€ä¸ªåŸºäº C# å’Œ WPF æŠ€æœ¯å¼€å‘çš„æ¨¡ä»¿ç½‘æ˜“äº‘éŸ³ä¹ç•Œé¢çš„éŸ³ä¹åº”ç”¨é¡¹ç›®ã€‚è¯¥é¡¹ç›®æ—¨åœ¨é€šè¿‡å®è·µå­¦ä¹  WPF å¼€å‘ï¼Œéå¸¸é€‚åˆ WPF å…¥é—¨å­¦ä¹ è€…ä½œä¸ºå…¥é—¨å‚è€ƒé¡¹ç›®ï¼Œæœ¬é¡¹ç›®å·²å®ç°åŸºæœ¬éŸ³ä¹æ’­æ”¾åŠŸèƒ½ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FCIWd7qx-S95Xv02pZCBpgw" target="_blank" title="https://mp.weixin.qq.com/s/CIWd7qx-S95Xv02pZCBpgw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/CIWd7qx-Sâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5577a160dfbd42e7825b6b44621a20ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=yzB8ZR8Gfrp9rd5fXTyWmKzHZQQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10">ä¸€æ¬¾åŸºäº .NET å’Œ Quartz.NET å¼€æºçš„ä»»åŠ¡è°ƒåº¦ Web ç•Œé¢ç®¡ç†</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> quartzui æ˜¯ä¸€æ¬¾åŸºäº Quartz.NET 3.0ï¼ˆåå‡çº§è‡³3.2.4ï¼‰çš„ä»»åŠ¡è°ƒåº¦ Web ç•Œé¢ç®¡ç†å·¥å…·ï¼Œä¸“ä¸ºç®€åŒ–ä»»åŠ¡è°ƒåº¦ç®¡ç†è€Œè®¾è®¡ã€‚è¯¥é¡¹ç›®æ”¯æŒé€šè¿‡ Web ç•Œé¢è¿›è¡Œä»»åŠ¡è°ƒåº¦é…ç½®ã€ç›‘æ§åŠç®¡ç†ï¼Œæå¤§åœ°æé«˜äº†ä»»åŠ¡è°ƒåº¦çš„ä¾¿æ·æ€§å’Œæ•ˆç‡ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqByA7G0EFVY0S2J5l9in1A" target="_blank" title="https://mp.weixin.qq.com/s/qByA7G0EFVY0S2J5l9in1A" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/qByA7G0EFâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8827d7380d3e435cb6c607dab03ac266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=zGdgMYZxP7niQ9nwg7lU2yDkDvg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">ä¸€ä¸ª WPF å¼€æºã€å…è´¹çš„ SVG å›¾åƒæŸ¥çœ‹æ§ä»¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> SVGImage æ˜¯ä¸€ä¸ªä¸º WPFï¼ˆWindows Presentation Foundationï¼‰åº”ç”¨ç¨‹åºè®¾è®¡ã€å¼€æºï¼ˆMIT licenseï¼‰ã€å…è´¹çš„ SVGï¼ˆScalable Vector Graphicsï¼‰å›¾åƒæŸ¥çœ‹æ§ä»¶ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F69x0B6jhYja58Ze0NSi9ew" target="_blank" title="https://mp.weixin.qq.com/s/69x0B6jhYja58Ze0NSi9ew" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/69x0B6jhYâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c873b94c37a4d6481b010baffa29bf8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=Lb%2FIouUqQnD81fXFPOJ%2Bogo8HWc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">ä¸€ä¸ªåŸºäº .NET + Vue3 å¼€æºã€å…è´¹ã€ç²¾ç¾çš„é€šç”¨ä¸šåŠ¡å‹åå°ç®¡ç†ç³»ç»Ÿ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> SimpleAdmin æ˜¯ä¸€ä¸ªåŸºäº .NET + Vue3 å¼€å‘çš„é€šç”¨ä¸šåŠ¡å‹åå°ç®¡ç†ç³»ç»Ÿï¼Œé€‚ç”¨äºå„ç±»éœ€è¦åå°ç®¡ç†åŠŸèƒ½çš„ä¼ä¸šçº§åº”ç”¨ã€ç½‘ç«™åå°ã€æ•°æ®ç›‘æ§å¹³å°ç­‰åœºæ™¯ã€‚å®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½æ¨¡å—å’Œç²¾ç¾çš„ç”¨æˆ·ç•Œé¢ï¼Œèƒ½å¤Ÿå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ­å»ºèµ·ç¨³å®šã€é«˜æ•ˆçš„åå°ç®¡ç†ç³»ç»Ÿï¼Œæå‡å¼€å‘æ•ˆç‡å’Œç®¡ç†æ°´å¹³ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQV2B3et6Df9FrU3RzYDWrQ" target="_blank" title="https://mp.weixin.qq.com/s/QV2B3et6Df9FrU3RzYDWrQ" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/QV2B3et6Dâ€¦</a></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa5ce0b0518c49f08876cfb464c7dac6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013824&amp;x-signature=ZVcsolptxeStNzt%2FUAaS5Mt4yy0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">ç²¾é€‰ 6 æ¬¾å¼€æºçš„ WinForm UI æ§ä»¶åº“ï¼Œè½»æ¾è®©ä½ çš„è€ç‰Œ WinForm åº”ç”¨ç„•ç„¶ä¸€æ–°ï¼</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> ä»Šå¤©å¤§å§šç»™å¤§å®¶åˆ†äº« 6 æ¬¾å¼€æºçš„ WinForm UI æ§ä»¶åº“ï¼Œè½»æ¾è®©ä½ çš„è€ç‰Œ WinForm åº”ç”¨ç„•ç„¶ä¸€æ–°ï¼</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fl4ccmjKzodcwhxYDRTdukg" target="_blank" title="https://mp.weixin.qq.com/s/l4ccmjKzodcwhxYDRTdukg" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/l4ccmjKzoâ€¦</a></li>
</ul>
<h2 data-id="heading-14">å…¨é¢æ”¯æŒå›½äº§åŒ–ï¼C# å¼€æºè·¨å¹³å° UI æ¡†æ¶ï¼Œæ”¯æŒ Windowsã€Macã€Linux</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> CPFï¼ˆCross-Platform Frameworkï¼‰Â æ˜¯ä¸€æ¬¾åŸºäº C# å¼€å‘çš„å¼€æºè·¨å¹³å° UI æ¡†æ¶ï¼Œä¸“æ³¨äºå›½äº§åŒ–é€‚é…ä¸å…¨å¹³å°æ”¯æŒï¼ˆWindows/macOS/Linuxï¼‰ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæä¾›é«˜æ€§èƒ½çš„æ¸²æŸ“å¼•æ“ä¸ä¸°å¯Œçš„æ§ä»¶åº“ï¼Œæ—¨åœ¨è§£å†³å›½äº§æ“ä½œç³»ç»Ÿç”Ÿæ€ä¸­ç¼ºä¹æˆç†Ÿ C# UI è§£å†³æ–¹æ¡ˆçš„ç—›ç‚¹ï¼ŒåŒæ—¶å…¼å®¹ä¸»æµå›½é™…å¹³å°ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqbmUS5gT1be6ZWpYm0FRPw" target="_blank" title="https://mp.weixin.qq.com/s/qbmUS5gT1be6ZWpYm0FRPw" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/qbmUS5gT1â€¦</a></li>
</ul>
<h2 data-id="heading-15">ä¸€ä¸ªåŸºäº .NET å¼€æºã€é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å¥—æ¥å­—æœåŠ¡å™¨åº”ç”¨ç¨‹åºæ¡†æ¶</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> SuperSocket æ˜¯ä¸€ä¸ªç”¨äº .NET çš„é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„å¥—æ¥å­—æœåŠ¡å™¨åº”ç”¨ç¨‹åºæ¡†æ¶ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›äº†æ„å»ºè‡ªå®šä¹‰ç½‘ç»œé€šä¿¡åº”ç”¨ç¨‹åºçš„å¼ºå¤§æ¶æ„ï¼Œæ”¯æŒåŒ…æ‹¬ TCPã€UDP å’Œ WebSocket åœ¨å†…çš„å¤šç§åè®®ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FoNA-dDh80e-WI__9Itf2JA" target="_blank" title="https://mp.weixin.qq.com/s/oNA-dDh80e-WI__9Itf2JA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/oNA-dDh80â€¦</a></li>
</ul>
<h2 data-id="heading-16">C#AIç³»åˆ—(7):ä»é›¶å¼€å§‹LLMä¹‹Tokenizerå®ç°</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> LLMåªåšä¸€ä¸ªäº‹æƒ…ï¼Œå°±æ˜¯åƒæ‰tokenåå‡ºtokenï¼Œtokenæ˜¯LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰çš„åŸºæœ¬å…ƒç´ ã€‚tokenä¸LLMçš„å…³ç³»ï¼Œç›¸å½“äºä¹é«˜ç§¯æœ¨ä¸ä¹é«˜å·¥å‚ï¼Œæˆ‘çš„ä¸–ç•Œæ–¹å—ä¸æˆ‘çš„ä¸–ç•Œæ¸¸æˆã€‚é‚£ä¹ˆtokenåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæœ‰äººç¿»è¯‘æˆä»¤ç‰Œï¼Œæœ‰äººç¿»è¯‘æˆè¯æºã€‚æˆ‘ä»¬ä¸å¦¨æ¢ä¸ªæ¦‚å¿µç†è§£ï¼Œtokenå°±æ˜¯æœ€å°æ“ä½œã€æœ€å°ä¿¡æ¯å•å…ƒçš„æ„æ€ã€‚è¿™ä¸ªæœ€å°æ˜¯ç›¸å¯¹äºLLMè¦å¤„ç†çš„åŸå§‹æ–‡æœ¬æ¥è¯´çš„ã€‚ä¸¾ä¸ªæ —å­ï¼Œå½“ä¸€ä¸ªå¥å­æ–‡æœ¬è¾“å…¥åˆ°ç”µè„‘ä¸­ï¼Œå¤©ç„¶å°±å°±å…·æœ‰å­—ç¬¦çº§åˆ«çš„åˆ‡åˆ†ã€‚å¦‚æœä¸æ‰“ç®—ç»§ç»­æ‹†åˆ†æˆ–ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå°†ç°æœ‰è¿™äº›å­—ç¬¦è½¬æ¢ä¸ºæ•´æ•°æ•°ç»„ï¼Œç§°ä¸ºç¼–ç è¿‡ç¨‹ã€‚ç¼–ç åæ•°ç»„å†…çš„å…ƒç´ å°±æ˜¯tokenï¼Œå…ƒç´ å–å€¼å°±ç­‰äºtokenå–å€¼ã€‚LLMå¯ä»¥åƒæ‰è¿™ä¸ªtokenæ•°ç»„ï¼Œå¹¶åå‡ºæ–°æ•°ç»„ã€‚å¯¹è¿™ä¸ªæ–°æ•°ç»„æŒ‰å‰å‰è¿°çš„æ˜ å°„è¿›è¡Œé€†è½¬æ¢ï¼Œç§°ä¸ºè§£ç è¿‡ç¨‹ã€‚è§£ç åæˆ‘ä»¬å°±èƒ½å¾—åˆ°äººç±»å¯ä»¥ç†è§£çš„æ–‡æœ¬äº†ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fluojin765%2Fp%2F19378939" target="_blank" title="https://www.cnblogs.com/luojin765/p/19378939" ref="nofollow noopener noreferrer">www.cnblogs.com/luojin765/pâ€¦</a></li>
</ul>
<h2 data-id="heading-17">.NET10 New feature æ–°å¢åŠŸèƒ½ä»‹ç»-JITç¼–è¯‘å™¨æ”¹è¿›</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> é¦–å…ˆ.NET10æ˜¯ä¸€ä¸ªLTSç‰ˆæœ¬ï¼Œå¾®è½¯å®˜æ–¹æ”¯æŒ3å¹´ï¼Œæ‰€ä»¥ä½œä¸ºæœ€æ–°çš„ä¸»åŠ›ç‰ˆæœ¬ï¼Œå¯ä»¥å°½å¿«å‡çº§ä½¿ç”¨ã€‚ä»Šå¤©æˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹.NET 10çš„ä¸€äº›æ–°åŠŸèƒ½-JITç¼–è¯‘å™¨æ”¹è¿›ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Ftianqing%2Fp%2F19378803" target="_blank" title="https://www.cnblogs.com/tianqing/p/19378803" ref="nofollow noopener noreferrer">www.cnblogs.com/tianqing/p/â€¦</a></li>
</ul>
<h2 data-id="heading-18">.Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> .Neté€šè¿‡EFCoreå’Œä»“å‚¨æ¨¡å¼å®ç°ç»Ÿä¸€æ•°æ®æƒé™ç®¡æ§å¹¶ä¸”ç›¸å…³æƒé™é…ç½®åŠ¨æ€ç”Ÿæˆã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fnet-kevin-li%2Fp%2F19368351" target="_blank" title="https://www.cnblogs.com/net-kevin-li/p/19368351" ref="nofollow noopener noreferrer">www.cnblogs.com/net-kevin-lâ€¦</a></li>
</ul>
<h2 data-id="heading-19">OpenCVSharpï¼šHOGè¡Œäººæ£€æµ‹</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> HOGè¡Œäººæ£€æµ‹æ˜¯ä¸€ç§åŸºäºæ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾ç‰¹å¾çš„è®¡ç®—æœºè§†è§‰ç›®æ ‡æ£€æµ‹æŠ€æœ¯ï¼Œå®ƒé€šè¿‡è®¡ç®—å›¾åƒå±€éƒ¨åŒºåŸŸçš„æ¢¯åº¦æ–¹å‘ç›´æ–¹å›¾æ¥æè¿°ç›®æ ‡çš„å¤–è§‚å½¢çŠ¶ç‰¹å¾ã€‚è¯¥ç®—æ³•é¦–å…ˆå°†å›¾åƒåˆ†å‰²ä¸ºå°çš„è¿é€šåŒºåŸŸï¼ˆç»†èƒå•å…ƒï¼‰ï¼Œè®¡ç®—æ¯ä¸ªå•å…ƒå†…åƒç´ çš„æ¢¯åº¦æ–¹å‘å¹¶ç”Ÿæˆç›´æ–¹å›¾ï¼Œç„¶åå°†ç›¸é‚»çš„ç»†èƒå•å…ƒç»„åˆæˆå—å¹¶å¯¹å—å†…çš„ç›´æ–¹å›¾è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œæœ€ç»ˆå½¢æˆèƒ½å¤Ÿæœ‰æ•ˆæè¿°è¡Œäººè½®å»“å’Œå½¢çŠ¶çš„ç‰¹å¾å‘é‡ã€‚è¿™äº›ç‰¹å¾å‘é‡è¢«è¾“å…¥åˆ°é¢„å…ˆè®­ç»ƒå¥½çš„SVMåˆ†ç±»å™¨ä¸­ï¼Œåˆ¤æ–­å›¾åƒåŒºåŸŸæ˜¯å¦åŒ…å«è¡Œäººï¼Œå¹¶é€šè¿‡å¤šå°ºåº¦æ‰«æç­–ç•¥åœ¨ä¸åŒå¤§å°çš„çª—å£ä¸­æœç´¢ç›®æ ‡ï¼Œä»è€Œå®ç°å¯¹å›¾åƒä¸­è¡Œäººçš„å‡†ç¡®æ£€æµ‹å’Œå®šä½ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19365183" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19365183" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-20">OpenCVSharpï¼šå­¦ä¹ äººè„¸æ£€æµ‹ä¾‹å­</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> OpenCVSharpå…³äºäººè„¸æ£€æµ‹æä¾›äº†ä¸¤ä¸ªä¾‹å­ï¼Œä¸€ä¸ªæ˜¯ä½¿ç”¨çº§è”åˆ†ç±»å™¨å¦ä¸€ä¸ªæ˜¯ä½¿ç”¨DNNæ¨¡å‹ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19363129" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19363129" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-21">Aspire 13ï¼šä».NET ç¼–æ’å·¥å…·åˆ°çœŸæ­£çš„å¤šè¯­è¨€äº‘åŸç”Ÿåº”ç”¨å¹³å°</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> Aspire 13 çš„å‘å¸ƒæ ‡å¿—ç€å¾®è½¯äº‘åŸç”Ÿå¼€å‘å·¥å…·é“¾çš„ä¸€ä¸ªå†³å®šæ€§è½¬æŠ˜ç‚¹ã€‚é€šè¿‡æ­£å¼å»é™¤ ".NET" å‰ç¼€å¹¶æ›´åä¸º "Aspire"ï¼Œè¯¥å¹³å°å·²ä»ä¸€ä¸ªä»¥.NET ä¸ºä¸­å¿ƒçš„ç¼–æ’å™¨æ¼”å˜ä¸ºä¸€ä¸ªå¹¿æ³›çš„ã€å¤šè¯­è¨€é€šç”¨çš„åº”ç”¨å¹³å° 1ã€‚è¿™ä¸€æˆ˜ç•¥è½¬å˜çš„æ ¸å¿ƒåœ¨äºå°† Python å’Œ JavaScript (Node.js) æå‡ä¸ºä¸.NET åŒç­‰çš„ä¸€ç­‰å…¬æ°‘ï¼Œå½»åº•è§£å†³äº†ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ä¸­è·¨è¯­è¨€åä½œçš„ç¢ç‰‡åŒ–ç—›ç‚¹ 2ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ Aspire 13 çš„æ¶æ„å˜é©ï¼Œé‡ç‚¹é˜è¿°å…¶å¦‚ä½•é€šè¿‡æ ‡å‡†åŒ–çš„ "AppHost" æ¨¡å‹æ¥ç»Ÿä¸€ç®¡ç†å¼‚æ„å¾®æœåŠ¡çš„ç”Ÿå‘½å‘¨æœŸã€‚æˆ‘ä»¬å°†è¯¦ç»†æ¢è®¨æ–°å¢çš„ Aspire.Hosting.Python åŒ…åŠå…¶å¯¹ Python ç”Ÿæ€ç³»ç»Ÿï¼ˆå¦‚ uv åŒ…ç®¡ç†å™¨ã€ASGI æ ‡å‡†ã€è™šæ‹Ÿç¯å¢ƒï¼‰çš„æ·±åº¦é›†æˆï¼›åˆ†æåŸºäº OpenTelemetry (OTLP) çš„ç»Ÿä¸€å¯è§‚æµ‹æ€§æ¶æ„å¦‚ä½•æ¶ˆé™¤è¯­è¨€é—´çš„ç›‘æ§å£å’ï¼›å¹¶æ­ç¤º Aspire 13 å¦‚ä½•é€šè¿‡æ™ºèƒ½åŒ–çš„ç¯å¢ƒå˜é‡æ³¨å…¥å’Œè‡ªåŠ¨åŒ–çš„ Dockerfile ç”Ÿæˆï¼Œé‡å¡‘äº†ä»æœ¬åœ°å¼€å‘åˆ°ç”Ÿäº§éƒ¨ç½²çš„å®Œæ•´å·¥ä½œæµ 1ã€‚æ­¤å¤–ï¼Œæœ¬æ–‡è¿˜å°†å®¡è§†è¿™ä¸€ç‰ˆæœ¬å¯¹åº•å±‚åŸºç¡€è®¾æ–½çš„è¦æ±‚ï¼ŒåŒ…æ‹¬å¯¹.NET 10 SDK çš„ä¾èµ–ä»¥åŠå…¨æ–°çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†å·¥å…· aspire do çš„å¼•å…¥ 2ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fshanyou%2Fp%2F19360467" target="_blank" title="https://www.cnblogs.com/shanyou/p/19360467" ref="nofollow noopener noreferrer">www.cnblogs.com/shanyou/p/1â€¦</a></li>
</ul>
<h2 data-id="heading-22">ç”¨ .NET æœ€å°åŒ– API æ„å»ºé«˜æ€§èƒ½ API</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> åœ¨å½“ä»Šå¿«é€Ÿå‘å±•çš„åº”ç”¨å¼€å‘é¢†åŸŸï¼Œæ„å»ºå¿«é€Ÿã€å¯æ‰©å±•ä¸”å¯ç»´æŠ¤çš„APIå·²æˆä¸ºç°ä»£åº”ç”¨çš„å…³é”®è¦æ±‚ã€‚éšç€.NETæŠ€æœ¯çš„ä¸æ–­æ¼”è¿›ï¼Œå¾®è½¯æ¨å‡ºäº†æœ€å°åŒ–API(Minimal APIs)è¿™ä¸€åˆ›æ–°æ¶æ„ï¼Œæ—¨åœ¨ç®€åŒ–APIå¼€å‘æµç¨‹åŒæ—¶æ˜¾è‘—æå‡æ€§èƒ½ã€‚æœ€å°åŒ–APIé€šè¿‡å‡å°‘æ¨¡æ¿ä»£ç ã€ä¼˜åŒ–å¯åŠ¨æ—¶é—´ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€Œéæ¡†æ¶å¤æ‚æ€§ï¼Œä¸ºæ„å»ºé«˜æ€§èƒ½APIæä¾›äº†å…¨æ–°çš„è§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨.NETä¸­çš„æœ€å°åŒ–APIæ¶æ„æ„å»ºé«˜æ€§èƒ½APIï¼Œé€šè¿‡ç®€æ´çš„ä»£ç ç¤ºä¾‹å’Œå®ç”¨å»ºè®®ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡è¿™ä¸€ç°ä»£APIå¼€å‘æ–¹æ³•ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fpowertoolsteam%2Fp%2F19360421" target="_blank" title="https://www.cnblogs.com/powertoolsteam/p/19360421" ref="nofollow noopener noreferrer">www.cnblogs.com/powertoolstâ€¦</a></li>
</ul>
<h2 data-id="heading-23">2025å¹´ WebTransport ç”Ÿæ€æ·±åº¦ç ”ç©¶ï¼šJavaScript å®¢æˆ·ç«¯ä¸.NET 10 SignalR çš„æ¼”è¿›ä¸èåˆ</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> åœ¨å®æ—¶ç½‘ç»œé€šä¿¡é¢†åŸŸï¼Œ2025å¹´æ ‡å¿—ç€ä»ä¼ ç»Ÿçš„åŸºäº TCP çš„ WebSocket åè®®å‘åŸºäº UDP å’Œ QUIC çš„ä¸‹ä¸€ä»£ä¼ è¾“åè®®â€”â€”WebTransport çš„å…³é”®è½¬å‹æœŸã€‚æœ¬æŠ¥å‘Šæ—¨åœ¨é’ˆå¯¹ WebTransport åœ¨ JavaScript å®¢æˆ·ç«¯ç”Ÿæ€ç³»ç»Ÿä¸­çš„æ”¯æŒç°çŠ¶ï¼Œä»¥åŠå¾®è½¯.NET 10 æ¡†æ¶ä¸‹ ASP.NET Core SignalR å¯¹è¯¥åè®®çš„æœåŠ¡ç«¯å®ç°èƒ½åŠ›ï¼Œè¿›è¡Œè¯¦å°½çš„åŸºå‡†æµ‹è¯•ä¸æ¶æ„åˆ†æã€‚ç ”ç©¶æ˜¾ç¤ºï¼Œæˆªè‡³ 2025 å¹´ç¬¬å››å­£åº¦ï¼ŒWebTransport çš„ç”Ÿæ€å‘ˆç°å‡ºæ˜¾è‘—çš„â€œä¸¤æåˆ†åŒ–â€ç‰¹å¾ã€‚åœ¨å®¢æˆ·ç«¯æ–¹é¢ï¼Œä»¥ Chrome å’Œ Firefox ä¸ºä»£è¡¨çš„æµè§ˆå™¨é˜µè¥å·²ç»å®ç°äº†é«˜åº¦æˆç†Ÿä¸”ç¨³å®šçš„æ”¯æŒï¼Œä¸ä»…å®Œå…¨éµå¾ª W3C æ ‡å‡†ï¼Œæ›´åœ¨æµæ§åˆ¶å’Œæ‹¥å¡ç®¡ç†ä¸Šè¡¨ç°ä¼˜å¼‚ï¼›ç„¶è€Œï¼ŒApple çš„ WebKit å†…æ ¸ï¼ˆSafariï¼‰ä¾æ—§æ˜¯æ™®åŠçš„æœ€å¤§é˜»ç¢ï¼Œä»…åœ¨å®éªŒæ€§ç‰ˆæœ¬ä¸­æœ‰é™åº¦å¼€æ”¾ã€‚åœ¨æœåŠ¡ç«¯æ–¹é¢ï¼Œéšç€.NET 10 çš„å‘å¸ƒï¼ŒASP.NET Core SignalR å°† WebTransport ä»â€œå®éªŒæ€§é¢„è§ˆâ€æ­£å¼æ¨è¿›è‡³â€œç”Ÿäº§å°±ç»ªâ€é˜¶æ®µï¼Œå°½ç®¡å…¶å¯¹åº•å±‚æ“ä½œç³»ç»Ÿï¼ˆå¦‚ Windows Server 2022/2025 å’Œç‰¹å®š Linux å‘è¡Œç‰ˆï¼‰çš„ä¾èµ–ä¾ç„¶æ„æˆäº†éƒ¨ç½²é—¨æ§›ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fshanyou%2Fp%2F19355053" target="_blank" title="https://www.cnblogs.com/shanyou/p/19355053" ref="nofollow noopener noreferrer">www.cnblogs.com/shanyou/p/1â€¦</a></li>
</ul>
<h2 data-id="heading-24">OpenCVSharpï¼šäº†è§£å‡ ç§ç‰¹å¾æ£€æµ‹</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å‰é¢å·²ç»ä»‹ç»è¿‡äº†OpenCVSharpä¸­å°è£…çš„å‡ ä¸ªç‰¹å¾æ£€æµ‹ç®—æ³•ï¼Œå…¶å®é‡Œé¢è¿˜æœ‰å¾ˆå¤šç‰¹å¾æ£€æµ‹ç®—æ³•ï¼Œä¸å†ä¸€ç¯‡ä¸€ç¯‡åœ°ä»‹ç»äº†ï¼Œå…¶å®ƒçš„éƒ½æ”¾åœ¨è¿™ä¸€ç¯‡ï¼Œç®€å•è¿‡ä¸€ä¸‹ï¼Œæœ‰ç‚¹å°è±¡å³å¯ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19352075" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19352075" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-25">C#AIç³»åˆ—(6): C#ç¦»çº¿å®ç°é«˜æ•ˆOCR</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> å®ç°OCRï¼Œæˆ‘ä»¬ç›´æ¥ä»Tesseractï¼ˆApache 2.0ï¼Œstar 71.4Kï¼‰å¼€å§‹ã€‚Tesseract æ˜¯ç›®å‰æœ€æ´»è·ƒã€æœ€ç²¾ç¡®çš„å¼€æº OCRï¼ˆå…‰å­¦å­—ç¬¦è¯†åˆ«ï¼‰å¼•æ“ä¹‹ä¸€ï¼Œç”± Google ç»´æŠ¤ã€‚å®ƒèƒ½æŠŠå›¾ç‰‡ä¸­çš„å°åˆ·æˆ–æ‰‹å†™æ–‡å­—è½¬æ¢æˆå¯ç¼–è¾‘çš„çº¯æ–‡æœ¬ã€PDFã€HTML ç­‰å¤šç§æ ¼å¼ï¼Œæ”¯æŒåŒ…æ‹¬ä¸­æ–‡ç­‰ 100 å¤šç§è¯­è¨€ã€‚Tesseract 4 ä»¥åå¼•å…¥åŸºäºæ·±åº¦å­¦ä¹ çš„ LSTM ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå¯¹æ•´è¡Œæ–‡å­—è¿›è¡Œè¯†åˆ«ï¼Œå‡†ç¡®ç‡å¤§å¹…æå‡ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fluojin765%2Fp%2F19346320" target="_blank" title="https://www.cnblogs.com/luojin765/p/19346320" ref="nofollow noopener noreferrer">www.cnblogs.com/luojin765/pâ€¦</a></li>
</ul>
<h2 data-id="heading-26">OpenCVSharpï¼šå­¦ä¹ è¿é€šæ€§æ£€æµ‹çš„ä½¿ç”¨</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> è¿é€šæ€§æ£€æµ‹æ˜¯è®¡ç®—æœºè§†è§‰ä¸­çš„ä¸€ç§åŸºç¡€å›¾åƒå¤„ç†æŠ€æœ¯ï¼Œç”¨äºè¯†åˆ«å’Œæ ‡è®°äºŒå€¼å›¾åƒä¸­ç›¸äº’è¿æ¥çš„åƒç´ åŒºåŸŸã€‚ç®€å•æ¥è¯´ï¼Œå®ƒèƒ½å¤Ÿæ‰¾å‡ºå›¾åƒä¸­æ‰€æœ‰ç‹¬ç«‹çš„"è¿é€šåŒºåŸŸ"ï¼ˆå³åƒç´ ä¹‹é—´ç›¸äº’è¿æ¥å½¢æˆçš„åŒºåŸŸï¼‰ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fmingupupu%2Fp%2F19344713" target="_blank" title="https://www.cnblogs.com/mingupupu/p/19344713" ref="nofollow noopener noreferrer">www.cnblogs.com/mingupupu/pâ€¦</a></li>
</ul>
<h2 data-id="heading-27">WPFä¸ªäººæ–‡æ¡£ï¼ˆä¸€ï¼‰â€”â€” åŸºç¡€è¯­æ³•&amp;ç»„ä»¶ç¯‡</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> WPFä¸ªäººæ–‡æ¡£ï¼ˆä¸€ï¼‰â€”â€” åŸºç¡€è¯­æ³•&amp;ç»„ä»¶ç¯‡ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fleaf-7-scouts%2Fp%2F19336808" target="_blank" title="https://www.cnblogs.com/leaf-7-scouts/p/19336808" ref="nofollow noopener noreferrer">www.cnblogs.com/leaf-7-scouâ€¦</a></li>
</ul>
<h2 data-id="heading-28">.Netå¾®æœåŠ¡ç½‘å…³æ³¨å†Œå’Œç®¡ç†ï¼ˆåŸºäºConsul + Nginxå®ç°ï¼‰</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼ŒAPIç½‘å…³ä½œä¸ºè¯·æ±‚å…¥å£ï¼Œè´Ÿè´£è·¯ç”±è½¬å‘ã€è´Ÿè½½å‡è¡¡ã€è®¤è¯é‰´æƒç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚Consulæä¾›æœåŠ¡æ³¨å†Œä¸å‘ç°èƒ½åŠ›ï¼ŒNginxä½œä¸ºé«˜æ€§èƒ½åå‘ä»£ç†ï¼ŒäºŒè€…ç»“åˆå¯å®ç°åŠ¨æ€ç½‘å…³ç®¡ç†ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fnet-kevin-li%2Fp%2F19332353" target="_blank" title="https://www.cnblogs.com/net-kevin-li/p/19332353" ref="nofollow noopener noreferrer">www.cnblogs.com/net-kevin-lâ€¦</a></li>
</ul>
<h2 data-id="heading-29">.NET 10 ç½‘ç»œæ”¹è¿›ï¼šHTTPã€å®‰å…¨ä¸ç½‘ç»œåŸè¯­çš„å…¨é¢å‡çº§</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> éšç€.NET 10çš„å‘å¸ƒï¼Œå¾®è½¯åœ¨ç½‘ç»œæŠ€æœ¯æ ˆä¸Šå¸¦æ¥äº†ä¸€ç³»åˆ—ä»¤äººå…´å¥‹çš„æ”¹è¿›å’Œæ–°å¢åŠŸèƒ½ã€‚è¿™äº›æ”¹è¿›è¦†ç›–äº†HTTPåè®®å¤„ç†ã€WebSockets APIã€å®‰å…¨å¢å¼ºä»¥åŠç½‘ç»œåŸºç¡€åŸè¯­ç­‰å¤šä¸ªæ–¹é¢ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™äº›æŠ€æœ¯æ”¹è¿›ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œåˆ©ç”¨.NET 10åœ¨ç½‘ç»œç¼–ç¨‹æ–¹é¢çš„æœ€æ–°èƒ½åŠ›ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fpowertoolsteam%2Fp%2F19330426" target="_blank" title="https://www.cnblogs.com/powertoolsteam/p/19330426" ref="nofollow noopener noreferrer">www.cnblogs.com/powertoolstâ€¦</a></li>
</ul>
<h2 data-id="heading-30">C#å®ç°ä¸‰è±MCé€šè®¯åè®®åº“ï¼ˆ4Cå¸§-æ ¼å¼1ï¼‰</h2>
<ul>
<li><strong>æ–‡ç« ç®€ä»‹ï¼š</strong> æ ¹æ®ä¸‰è±çš„ Melsec é€šè®¯åè®®(æœ¬æ–‡ç§°MCåè®®)æ‰‹å†Œå†…å®¹ï¼Œä½¿ç”¨ä¸²å£å®ç°äº† PC ä¸ PLC çš„é€šè®¯ï¼Œèƒ½å¤Ÿé€šè¿‡QnAå…¼å®¹4Cå¸§çš„æ ¼å¼1å®ç° PC è¯»å†™ PLC çš„è½¯å…ƒä»¶å­˜å‚¨å™¨å†…å®¹(å¼‚æ­¥æ–¹æ³•)ï¼Œæœ€åç”¨ä¸€ä¸ª C#æ§åˆ¶å°é¡¹ç›®æµ‹è¯•äº†é€šè®¯åº“åŠŸèƒ½ã€‚</li>
<li><strong>æ–‡ç« åœ°å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2Fdragonet-Z%2Fp%2F19318911" target="_blank" title="https://www.cnblogs.com/dragonet-Z/p/19318911" ref="nofollow noopener noreferrer">www.cnblogs.com/dragonet-Z/â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[lombook java: æ‰¾ä¸åˆ°ç¬¦å·]]></title>    <link>https://juejin.cn/post/7586506307726983178</link>    <guid>https://juejin.cn/post/7586506307726983178</guid>    <pubDate>2025-12-22T13:43:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586506307726983178" data-draft-id="7586338196302512174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="lombook java: æ‰¾ä¸åˆ°ç¬¦å·"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T13:43:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€šæ å¬é£é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/2682464103830750"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            lombook java: æ‰¾ä¸åˆ°ç¬¦å·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2682464103830750/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€šæ å¬é£é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T13:43:59.000Z" title="Mon Dec 22 2025 13:43:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fsinat_38719275%2Farticle%2Fdetails%2F106453328" target="_blank" title="https://blog.csdn.net/sinat_38719275/article/details/106453328" ref="nofollow noopener noreferrer">blog.csdn.net/sinat_38719â€¦</a></p>
<h4 data-id="heading-0">8.ideaç‰ˆæœ¬çš„é—®é¢˜ 202003ç‰ˆæœ¬é—®é¢˜</h4>
<p>æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">-Djps.track.ap.dependencies</span>=<span class="hljs-literal">false</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9da0677fb6034d2daa3264941e395363~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCa5qCP5ZCs6aOO6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767015839&amp;x-signature=iZls7hoW8FvMjbEkazjFwz2qmuw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åä¸‰ç¯‡ï¼‰ï¼šé¦™é¦™å…¬ä¸»çš„â€œå€¾åŸä¹‹æ‹â€ä¸ä¼˜å…ˆçº§é£å‡]]></title>    <link>https://juejin.cn/post/7586338196302217262</link>    <guid>https://juejin.cn/post/7586338196302217262</guid>    <pubDate>2025-12-22T12:02:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586338196302217262" data-draft-id="7586504691845300233" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åä¸‰ç¯‡ï¼‰ï¼šé¦™é¦™å…¬ä¸»çš„â€œå€¾åŸä¹‹æ‹â€ä¸ä¼˜å…ˆçº§é£å‡"/> <meta itemprop="keywords" content="Swift,Apple,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-22T12:02:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§ç†ŠçŒ«ä¾¯ä½©"/> <meta itemprop="url" content="https://juejin.cn/user/4292907536222152"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åä¸‰ç¯‡ï¼‰ï¼šé¦™é¦™å…¬ä¸»çš„â€œå€¾åŸä¹‹æ‹â€ä¸ä¼˜å…ˆçº§é£å‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4292907536222152/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§ç†ŠçŒ«ä¾¯ä½©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:02:44.000Z" title="Mon Dec 22 2025 12:02:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/805d895844e647068ee5dcf3d84e2dd5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=11hVP5fOrMs9PZgT9gQqXgSLeBE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šåœ¨å¹¶å‘ç¼–ç¨‹çš„æ±Ÿæ¹–é‡Œï¼Œå½“ä¸€ä¸ªä½é«˜æƒé‡çš„ä»»åŠ¡è¢«è¿«ç­‰å¾…ä¸€ä¸ªæ— åå°å’æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼ŸSwift 6.2 å¸¦æ¥çš„ <code>Task Priority Escalation APIs</code> å°±åƒæ˜¯é¦™é¦™å…¬ä¸»é‚£æƒŠå¿ƒåŠ¨é­„çš„ç¾è²Œï¼Œèƒ½è®©åŸæœ¬æ…µæ‡’çš„åå°ä»»åŠ¡ç¬é—´â€œé¸¡çŠ¬å‡å¤©â€ã€‚æœ¬æ–‡å°†å€Ÿå¤§ç†ŠçŒ«ä¾¯ä½©ä¸é¦™é¦™å…¬ä¸»çš„æ²™æ¼ å¥‡é‡ï¼Œä¸ºæ‚¨è§£æ SE-0462 çš„å¥¥ç§˜ã€‚</p>
</blockquote>
<h2 data-id="heading-0">0ï¸âƒ£ ğŸ¼ åºç« ï¼šå›ç–†çš„æ…¢è½¦ä¸æ€¥æƒŠé£</h2>
<p>å›ç–†ï¼Œèµ›é‡Œæœ¨æ¹–ç•”çš„æ•°å­—è’åŸã€‚</p>
<p>è¿™é‡Œæ˜¯ç³»ç»Ÿèµ„æºçš„è¾¹ç¼˜åœ°å¸¦ï¼Œç½‘ç»œå¸¦å®½å¦‚åŒç»†ç»†çš„æ¶“æµã€‚å¤§ç†ŠçŒ«ä¾¯ä½©æ­£è¹²åœ¨ä¸€å—è™šæ‹Ÿçš„å²©çŸ³ä¸Šï¼Œç¬¬ 10086 æ¬¡å°è¯•åˆ·æ–°ä»–çš„â€œé«˜å¾·åœ°å›¾å¯¼èˆªâ€ã€‚</p>
<p>â€œè¿™è¯¥æ­»çš„è·¯ç—´å±æ€§â€¦â€¦â€ä¾¯ä½©ç„¦èºåœ°æ‹äº†æ‹è‡ªå·±åœ†æ¶¦çš„è„‘è¢‹ï¼Œé¡ºæ‰‹æ‘¸äº†ä¸€æŠŠå¤´é¡¶é‚£å€”å¼ºçš„é»‘æ¯›ï¼Œâ€œè¿˜å¥½ï¼Œå‘é™…çº¿ä¾ç„¶åšæŒºï¼Œ<strong>ç»å¯¹æ²¡æœ‰ç§ƒ</strong>ã€‚åªæ˜¯è¿™ä¸‹è½½é€Ÿåº¦ï¼Œæ¯”èœ—ç‰›çˆ¬è¿˜æ…¢ã€‚â€</p>
<p>åœ¨ä»–çš„è§†é‡é‡Œï¼Œä»£è¡¨ä¸‹è½½ä»»åŠ¡çš„è¿›åº¦æ¡ï¼ˆTaskï¼‰æ˜¯ä¸€ä¸ªç©¿ç€ç ´çƒ‚ç¾Šçš®è¢„çš„è€å¤´ï¼Œæ­£èµ¶ç€ä¸€è¾†ç ´ç ´çƒ‚çƒ‚çš„ç‰›è½¦ï¼Œåœ¨ <code>background</code>ï¼ˆåå°ï¼‰ä¼˜å…ˆçº§çš„æ³¥æ½­é‡Œæ…¢æ‚ æ‚ åœ°æŒªåŠ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e95083494ec34adab3e4d0567cc213c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=6gTXHoSnGuq7nswv1HER7ewfM5c%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>çªç„¶ï¼Œå¤©åœ°å˜è‰²ã€‚è¿œå¤„çš„æ•°æ®æµå·èµ·ç‹‚æ²™ï¼Œä¸€æ”¯è£…å¤‡ç²¾è‰¯ã€æ€æ°”è…¾è…¾çš„çš‡å®¶éª‘å…µé˜Ÿï¼ˆé«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼‰å‘¼å•¸è€Œæ¥ï¼Œå´è¢«è¿™è¾†ç ´ç‰›è½¦æ­»æ­»æŒ¡åœ¨äº†å•è¡Œé“ä¸Šã€‚</p>
<p>éª‘å…µé˜Ÿçš„ä¸ºé¦–è€…åˆšè¦å‘æ€’ï¼Œå´è§é‚£ç ´ç‰›è½¦æ—ï¼Œä¸çŸ¥ä½•æ—¶ç«™äº†ä¸€ä½ç™½è¡£å°‘å¥³ã€‚å¥¹é¬“è¾¹æ’ç€ä¸€æœµå¤©å±±é›ªè²ï¼Œè‚Œè‚¤èƒœé›ªï¼Œè™½ç„¶åªæ˜¯é™é™ç«™ç€ï¼Œå´è®©å‘¨å›´ç‹‚æš´çš„ CPU å‘¨æœŸç¬é—´å˜å¾—æ¸©æŸ”èµ·æ¥ã€‚</p>
<p>å¥¹æ˜¯<strong>é¦™é¦™å…¬ä¸»</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/227677915de442fea541434c862fac50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=cIq88kgMvxMW2VIjBh6FJzxNb2I%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å½“é‚£ä½çš‡å®¶éª‘å…µç»Ÿé¢†ï¼ˆMain Actorï¼‰çœ‹åˆ°é¦™é¦™å…¬ä¸»ç«Ÿç„¶ä¹Ÿåœ¨ç­‰å¾…è¿™è¾†ç‰›è½¦æ—¶ï¼Œä»–ç«‹åˆ»ä¸‹ä»¤ï¼šâ€œä¼ ä»¤ä¸‹å»ï¼ç»™è¿™ç ´è½¦æ¢ä¸Šæ³•æ‹‰åˆ©çš„å¼•æ“ï¼å…¨å†›æŠ¤é€ï¼è°æ•¢è®©å…¬ä¸»å¤šç­‰ä¸€ç§’ï¼Œæå¤´æ¥è§ï¼â€</p>
<p>åˆ¹é‚£é—´ï¼Œé‚£è¾†åŸæœ¬å±äº <code>background</code> ä¼˜å…ˆçº§çš„ç‰›è½¦ï¼Œç¬é—´è·å¾—äº† <code>high</code> ä¼˜å…ˆçº§çš„åŠ æŒï¼Œå¿«å¾—è¿å½±å­éƒ½çœ‹ä¸æ¸…ã€‚</p>
<p><strong>åœ¨æœ¬æ¬¡ç©¿è¶Šå¤§å†’é™©ä¸­ï¼Œæ‚¨å°†å­¦åˆ°å¦‚ä¸‹å†…å®¹ï¼š</strong></p>
<ul>
<li>0ï¸âƒ£ ğŸ¼ åºç« ï¼šå›ç–†çš„æ…¢è½¦ä¸æ€¥æƒŠé£</li>
<li>1ï¸âƒ£ ğŸš€ ä»€ä¹ˆæ˜¯ä»»åŠ¡ä¼˜å…ˆçº§æå‡ï¼Ÿ</li>
<li>2ï¸âƒ£ ğŸ•µï¸â€â™‚ï¸ ç›‘æ§é£å‡ï¼šwithTaskPriorityEscalationHandler</li>
<li>3ï¸âƒ£ ğŸ›ï¸ æ‰‹åŠ¨å¹²é¢„ï¼šescalatePriority(to:)</li>
<li>4ï¸âƒ£ ğŸ¢ vs ğŸ‡ï¼šè‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨ï¼Ÿ</li>
<li>5ï¸âƒ£ ğŸ›‘ å°¾å£°ï¼šå¤±æ§çš„æ— åæ°</li>
</ul>
<p>ä¾¯ä½©ç›®çªå£å‘†ï¼Œå˜´é‡Œçš„ç«¹ç¬‹æ‰åœ¨äº†åœ°ä¸Šï¼šâ€œè¿™å°±å«â€¦â€¦ä¸€äººå¾—é“ï¼Œé¸¡çŠ¬å‡å¤©ï¼Ÿè¿™éš¾é“å°±æ˜¯ä¼ è¯´ä¸­çš„ <strong>Priority Escalationï¼ˆä¼˜å…ˆçº§æå‡ï¼‰</strong>ï¼Ÿâ€;)</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3fb9f3f31e14d1a908af6b7fa4af590~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=FseUdUxnGYM8mIrLJKazSoPl1Kg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ ğŸš€ ä»€ä¹ˆæ˜¯ä»»åŠ¡ä¼˜å…ˆçº§æå‡ï¼Ÿ</h2>
<p>åœ¨ Swift çš„å¹¶å‘ä¸–ç•Œé‡Œï¼Œè¿™å« <strong>â€œä¼˜å…ˆçº§åè½¬ï¼ˆPriority Inversionï¼‰â€çš„è‡ªåŠ¨æ¶ˆè§£</strong>ã€‚</p>
<p>é¦™é¦™å…¬ä¸»ï¼ˆé«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼‰éœ€è¦ç­‰å¾…é‚£ä¸ªç ´è€å¤´ï¼ˆä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼‰çš„ç»“æœï¼ˆæ¯”å¦‚ Data Race é‡Œçš„é”ï¼Œæˆ–è€…æ˜¯ <code>await</code> ä¸€ä¸ªç»“æœï¼‰ã€‚å¦‚æœç³»ç»Ÿä¸å¹²é¢„ï¼Œé«˜è´µçš„å…¬ä¸»å°±è¦åœ¨è¿™ä¸ªâ€œä½è´±â€çš„é˜Ÿåˆ—é‡Œæ— é™æœŸç­‰å¾…ï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆçš‡å®¶ï¼ˆUI å“åº”æ€§ï¼‰çš„ä½“é¢ã€‚</p>
<p>äºæ˜¯ï¼ŒSwift è¿è¡Œæ—¶ä¼šè‡ªåŠ¨æŠŠé‚£ä¸ªè€å¤´çš„ä¼˜å…ˆçº§æå‡ï¼Œè®©ä»–æš‚æ—¶æ‹¥æœ‰å’Œå…¬ä¸»ä¸€æ ·çš„åœ°ä½ï¼Œç›´åˆ°ä»–æŠŠäº‹æƒ…åšå®Œã€‚</p>
<p><strong>SE-0462</strong> èµ‹äºˆäº†æˆ‘ä»¬ç›‘æ§è¿™ç§â€œé£å‡â€ç°è±¡çš„èƒ½åŠ›ï¼Œç”šè‡³å…è®¸æˆ‘ä»¬æ‰‹åŠ¨å¹²é¢„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72cb44aecd8c49bbb2f6b453337a678d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=PFIlFOGtREjx3sB0zookzvFEll8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-2">2ï¸âƒ£ ğŸ•µï¸â€â™‚ï¸ ç›‘æ§é£å‡ï¼šwithTaskPriorityEscalationHandler</h2>
<p>â€œè™½ç„¶é£å‡å¾ˆçˆ½ï¼Œä½†é‚£ä¸ªèµ¶è½¦çš„è€å¤´å¾—çŸ¥é“è‡ªå·±è¢«â€˜ææ‹”â€™äº†å•Šï¼Œä¸ç„¶ä»–è¿˜ä»¥ä¸ºè‡ªå·±åœ¨é€›èŠ±å›­å‘¢ã€‚â€ä¾¯ä½©æ¡èµ·ç«¹ç¬‹ï¼Œè‹¥æœ‰æ‰€æ€ã€‚</p>
<p>Swift 6.2 å¼•å…¥äº† <strong><code>withTaskPriorityEscalationHandler</code></strong>ï¼Œè®©ä»»åŠ¡èƒ½å¤Ÿæ„ŸçŸ¥è‡ªå·±æ˜¯å¦â€œè¢«åŠ¨â€å˜å¼ºäº†ã€‚</p>
<p>ä¾¯ä½©çœ‹ç€é¦™é¦™å…¬ä¸»æ­£åœ¨è¯•å›¾ä»ä¸€ä¸ªæ…¢é€ŸæœåŠ¡å™¨è·å–æœ€æ–°çš„é£Ÿè°±ï¼ˆå¥¹æœ€è¿‘æƒ³å­¦åšç«¹ç¬‹ç‚’è‚‰å–‚ä¾¯ä½©ï¼‰ï¼Œäºæ˜¯å†™ä¸‹äº†è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªä¸­ç­‰ä¼˜å…ˆçº§ (medium) çš„ä»»åŠ¡</span>
<span class="hljs-keyword">let</span> newsFetcher <span class="hljs-operator">=</span> <span class="hljs-type">Task</span>(priority: .medium) {
    <span class="hljs-comment">// ğŸ›¡ï¸ ä½¿ç”¨å¤„ç†ç¨‹åºåŒ…è£¹ä½ çš„ä¸šåŠ¡é€»è¾‘</span>
    <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> withTaskPriorityEscalationHandler {
        <span class="hljs-comment">// è¿™é‡Œæ˜¯ä»»åŠ¡åŸæœ¬è¦åšçš„è‹¦åŠ›æ´»</span>
        <span class="hljs-comment">// æ¯”å¦‚å»ä¸‹è½½ä¸€ä¸ª JSON æ•°æ®</span>
        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://hws.dev/messages.json"</span>)<span class="hljs-operator">!</span>
        <span class="hljs-keyword">let</span> (data, <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url)
        <span class="hljs-keyword">return</span> data
    } onPriorityEscalated: { oldPriority, newPriority <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// ğŸš¨ è¿™é‡Œçš„é—­åŒ…ä¼šåœ¨ä¼˜å…ˆçº§å‘ç”Ÿå˜åŒ–æ—¶è¢«è°ƒç”¨</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤©å“ªï¼å…¬ä¸»åœ¨ç­‰æˆ‘ï¼æˆ‘çš„ä¼˜å…ˆçº§ä» <span class="hljs-subst">\(oldPriority)</span> é£å‡åˆ°äº† <span class="hljs-subst">\(newPriority)</span>ï¼"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å…„å¼Ÿä»¬ï¼ŒæŠ„å®¶ä¼™ï¼Œå¼€è¶³é©¬åŠ›å¹²æ´»äº†ï¼"</span>)
    }
}
</code></pre>
<p>é¦™é¦™å…¬ä¸»çœ¨ç€é‚£åŒæ¸…æ¾ˆå¦‚æ°´çš„çœ¼ç›ï¼Œå¥½å¥‡åœ°é—®ï¼šâ€œä¾¯å¤§å“¥ï¼Œè¿™æ„æ€æ˜¯ï¼Œä¸€æ—¦æœ‰äººå‚¬è¿™ä¸ªä»»åŠ¡ï¼Œå®ƒè‡ªå·±å°±ä¼šçŸ¥é“ï¼Ÿâ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7e64aff18214a4bb52ff98e289ee621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=LbKJOVscFPdbZbBNMmvEdPL0cFw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œæ²¡é”™ã€‚â€ä¾¯ä½©è§£é‡Šé“ï¼Œé¡ºä¾¿æ‘†äº†ä¸€ä¸ªè‡ªä»¥ä¸ºå¾ˆå¸…çš„ Poseï¼Œâ€œè¿™å°±å¥½æ¯”æˆ‘åœ¨ç¡è§‰ï¼Œå¦‚æœåªæ˜¯æ™®é€šäººå«æˆ‘ï¼Œæˆ‘ç†éƒ½ä¸ç†ï¼›ä½†å¦‚æœæ˜¯ä½ å«æˆ‘ï¼Œæˆ‘è„‘å­é‡Œçš„è¿™ä¸ª <code>onPriorityEscalated</code> å°±ä¼šç«‹åˆ»è§¦å‘ï¼Œç¬é—´ä»â€˜æ­»çŒªæ¨¡å¼â€™åˆ‡æ¢åˆ°â€˜èˆ”ç‹—æ¨¡å¼â€™â€¦â€¦å•Šä¸ï¼Œæ˜¯â€˜æˆ˜æ–—æ¨¡å¼â€™ã€‚â€</p>
<h2 data-id="heading-3">3ï¸âƒ£ ğŸ›ï¸ æ‰‹åŠ¨å¹²é¢„ï¼šescalatePriority(to:)</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c8aa09386454d298e085b7c9c1ba11f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=DaumdAkPq6kNnQjmnJr1%2BxQhmNI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¼˜å…ˆçº§æå‡æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ï¼ˆæ¯”å¦‚é«˜ä¼˜å…ˆçº§ä»»åŠ¡ <code>await</code> äº†ä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼‰ã€‚ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä½œä¸ºæ¶æ„å¸ˆï¼Œéœ€è¦æ‰®æ¼”â€œé™ˆå®¶æ´›â€çš„è§’è‰²ï¼Œæ‰‹åŠ¨å»æ¨ä¸€æŠŠã€‚</p>
<p>Swift 6.2 å…è®¸æˆ‘ä»¬ä½¿ç”¨ <strong><code>escalatePriority(to:)</code></strong> æ¥æ‰‹åŠ¨æå‡æŸä¸ªä»»åŠ¡çš„ä¼˜å…ˆçº§ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä¾¯ä½©çœ‹ç€ä¸‹è½½è¿›åº¦æ¡å¤ªæ…¢ï¼Œå®åœ¨å¿ä¸ä½äº†</span>
<span class="hljs-comment">// ä»–å†³å®šåŠ¨ç”¨ç‰¹æƒï¼Œæ‰‹åŠ¨æŠŠä¼˜å…ˆçº§æ‹‰æ»¡</span>
newsFetcher.escalatePriority(to: .high)
</code></pre>
<p>é¦™é¦™å…¬ä¸»æœ‰äº›æ‹…å¿§ï¼šâ€œå¯æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå®ƒæå‡åˆ°äº† <code>high</code>ï¼Œåæ¥åˆè§‰å¾—ä¸é‡è¦äº†ï¼Œèƒ½æŠŠå®ƒé™å›å»å—ï¼Ÿâ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5b2e50cd3254fe5be3228cf3bd9afff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=PAVJtWpKpabmbYvT10i5JHWhvGA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¾¯ä½©æ‘‡äº†æ‘‡å¤´ï¼Œç¥è‰²å˜å¾—ä¸¥è‚ƒèµ·æ¥ï¼ˆè™½ç„¶è„¸ä¸Šè¿˜ç²˜ç€ç«¹ç¬‹æ¸£ï¼‰ï¼šâ€œå¦¹å­ï¼Œæ±Ÿæ¹–è·¯æ˜¯ä¸€æ¡ä¸å½’è·¯ã€‚åœ¨ Swift çš„ä»»åŠ¡è°ƒåº¦é‡Œï¼Œ<strong>ä¼˜å…ˆçº§åªèƒ½å‡ï¼Œä¸èƒ½é™</strong>ã€‚â€</p>
<blockquote>
<p><strong>ğŸ’¡ æŠ€æœ¯è¦ç‚¹</strong>ï¼š
ä½ çš„ <code>onPriorityEscalated</code> å›è°ƒå¯èƒ½ä¼šè¢«è§¦å‘å¤šæ¬¡ã€‚æ¯”å¦‚ä» <code>low</code> å‡åˆ° <code>medium</code>ï¼Œå†ä» <code>medium</code> å‡åˆ° <code>high</code>ã€‚ä½†è¿™å°±åƒæ­¦åŠŸå¢ƒç•Œï¼Œä¸€æ—¦çªç ´ï¼Œå°±å›ä¸åˆ°ä»å‰äº†ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢ç³»ç»Ÿè°ƒåº¦çš„éœ‡è¡ã€‚</p>
</blockquote>
<h2 data-id="heading-4">4ï¸âƒ£ ğŸ¢ vs ğŸ‡ï¼šè‡ªåŠ¨è¿˜æ˜¯æ‰‹åŠ¨ï¼Ÿ</h2>
<p>é¦™é¦™å…¬ä¸»çœ‹ç€é‚£äº›åœ¨æ•°æ®æµä¸­å¥”è·‘çš„ä»»åŠ¡ï¼Œé—®é“ï¼šâ€œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯åº”è¯¥æŠŠæ‰€æœ‰ä»»åŠ¡éƒ½æ‰‹åŠ¨è®¾ä¸ºæœ€é«˜çº§ï¼Ÿè¿™æ ·å¤§å®¶éƒ½å¾ˆå¼€å¿ƒå‘€ã€‚â€</p>
<p>ä¾¯ä½©å¹äº†å£æ°”ï¼Œè¯­é‡å¿ƒé•¿åœ°è¯´ï¼šâ€œå‚»ä¸«å¤´ï¼Œå¦‚æœäººäººéƒ½æ˜¯ VIPï¼Œé‚£å°±æ²¡æœ‰ VIP äº†ã€‚å¦‚æœæ‰€æœ‰ä»»åŠ¡éƒ½æ˜¯ <code>high</code>ï¼Œé‚£ CPU å°±ä¼šåƒé™·å…¥â€˜çº¢èŠ±ä¼šâ€™å†…ä¹±ä¸€æ ·ï¼Œè°ä¹ŸæŠ¢ä¸åˆ°èµ„æºã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5abb8a18a6d143fdac0e8f20a55af23a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=bNoBUpiO4xgrxSWx2Y32u%2BuDbiE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>å®˜æ–¹å»ºè®®ï¼ˆNoteï¼‰ï¼š</strong> ä»»åŠ¡ä¼˜å…ˆçº§æå‡é€šå¸¸æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ï¼Œè€Œä¸” Swift åšå¾—å¾ˆæ£’ã€‚è™½ç„¶è¿™ä¸ª API ç»™äº†æˆ‘ä»¬æ‰‹åŠ¨çš„æƒåŠ›ï¼Œä½†åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯åº”è¯¥é¡ºå…¶è‡ªç„¶ï¼Œ<strong>æ— ä¸ºè€Œæ²»</strong>ã€‚é™¤éä½ çœŸçš„é‡åˆ°äº†ç‰¹æ®Šçš„æ€§èƒ½ç“¶é¢ˆã€‚</p>
<p>å°±åƒé¦™é¦™å…¬ä¸»çš„ç¾ï¼Œä¸éœ€è¦åˆ»æ„ä¿®é¥°ï¼Œè‡ªç„¶å°±èƒ½å¼•å¾—åƒå†›ä¸‡é©¬ä¸ºä¹‹é©»è¶³ã€‚</p>
<h2 data-id="heading-5">5ï¸âƒ£ ğŸ›‘ å°¾å£°ï¼šå¤±æ§çš„æ— åæ°</h2>
<p>å¤•é˜³è¥¿ä¸‹ï¼Œèµ›é‡Œæœ¨æ¹–æ³¢å…‰ç²¼ç²¼ã€‚</p>
<p>ç»è¿‡ä¼˜å…ˆçº§çš„è°ƒæ•´ï¼Œæ•°æ®ç»ˆäºä¸‹è½½å®Œæˆäº†ã€‚ä¾¯ä½©çœ‹ç€æ‰‹é‡Œé«˜æ¸…çš„åœ°å›¾ï¼Œç»ˆäºç¡®è®¤äº†è‡ªå·±çš„ä½ç½®â€”â€”å¥½å§ï¼Œä»–ç¦»ç›®çš„åœ°è¿˜æœ‰ä¸‰åƒå…¬é‡Œï¼Œæœç„¶åˆèµ°åäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33a8f3cb56504e609af413c6b644a13c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=HLSJrjRDEy4PNy%2BgHod7dUJbbWA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å°±åœ¨è¿™æ—¶ï¼Œç³»ç»Ÿä¸­çªç„¶çªœå‡ºä¸€ä¸ªé»‘å½±ï¼</p>
<p>é‚£æ˜¯ä¸€ä¸ªå¤±æ§çš„åå°ä»»åŠ¡ï¼ˆRogue Taskï¼‰ï¼Œå®ƒåƒæ˜¯ä¸ªç–¯å­ä¸€æ ·åœ¨å†…å­˜é‡Œä¹±çªœï¼Œæ¶ˆè€—ç€å®è´µçš„ç”µé‡ï¼Œå´åˆä¸å¹²æ­£äº‹ã€‚</p>
<p>â€œç«™ä½ï¼â€ä¾¯ä½©å¤§å–ä¸€å£°ï¼Œæƒ³è¦é€šè¿‡ä»£ç æ€æ‰è¿™ä¸ªè¿›ç¨‹ï¼Œâ€œä½ æ˜¯å“ªä¸ªéƒ¨é—¨çš„ï¼Ÿå«ä»€ä¹ˆåå­—ï¼Ÿâ€</p>
<p>ç„¶è€Œï¼Œé‚£ä¸ªä»»åŠ¡åªæ˜¯ç•™ä¸‹ä¸€ä¸²ä¹±ç ï¼Œç»§ç»­ç‹‚å¥”ã€‚ä¾¯ä½©å°´å°¬åœ°å‘ç°ï¼Œä»–åˆ›å»ºè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œ<strong>å¿˜è®°ç»™å®ƒèµ·åå­—äº†</strong>ã€‚åœ¨è°ƒè¯•å™¨é‡Œï¼Œå®ƒåªæ˜¯ä¸€ä¸ªå†·å†°å†°çš„å†…å­˜åœ°å€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da081ec09f194dd3b84a579e0a6cb9d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=cbs1ZjNySxKpERScVQrPvE4QL5o%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œè¿™å°±å°´å°¬äº†ï¼Œâ€ä¾¯ä½©æŒ äº†æŒ å¤´ï¼Œçœ‹ç€é¦™é¦™å…¬ä¸»æŠ•æ¥çš„ç–‘æƒ‘ç›®å…‰ï¼Œâ€œæˆ‘æƒ³æ•™è®­å®ƒï¼Œå´è¿å®ƒå«â€˜é˜¿çŒ«â€™è¿˜æ˜¯â€˜é˜¿ç‹—â€™éƒ½ä¸çŸ¥é“ã€‚â€</p>
<p>é¦™é¦™å…¬ä¸»è½»è½»ä¸€ç¬‘ï¼ŒæŒ‡ç€ä¸‹ä¸€ç« çš„é¢„å‘Šè¯´ï¼šâ€œä¾¯å¤§å“¥ï¼Œåˆ«æ€¥ï¼Œå¬è¯´ä¸‹ä¸€æ‹›èƒ½ç»™å®ƒä»¬æ¯äººå‘ä¸€å¼ èº«ä»½è¯ã€‚â€</p>
<p><strong>ï¼ˆæ¬²çŸ¥åäº‹å¦‚ä½•ï¼Œä¸”çœ‹ä¸‹å›åˆ†è§£ï¼šTask Naming â€”â€” ä¹Ÿå°±æ˜¯ç»™ä»»åŠ¡èµ·ä¸ªå“å½“å½“çš„ç»°å·ï¼Œå¥½è®©ä½ åœ¨å®ƒé—¯ç¥¸æ—¶èƒ½æŒ‡åé“å§“åœ°éª‚å®ƒã€‚ï¼‰</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a526ac5e8cd4117b9b15ba13a8ab291~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767009764&amp;x-signature=l77QihLczTlmmnUxtmoggHX%2FqU8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pnpm + monorepo æ‰æ˜¯ AI ååŒå¼€å‘çš„æœ€ä½³æ–¹æ¡ˆï¼ğŸš€ğŸš€ğŸš€]]></title>    <link>https://juejin.cn/post/7586518130761007144</link>    <guid>https://juejin.cn/post/7586518130761007144</guid>    <pubDate>2025-12-22T12:17:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586518130761007144" data-draft-id="7586490798431600703" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pnpm + monorepo æ‰æ˜¯ AI ååŒå¼€å‘çš„æœ€ä½³æ–¹æ¡ˆï¼ğŸš€ğŸš€ğŸš€"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-22T12:17:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒèŒå“’è‰å¤´å°†å†›"/> <meta itemprop="url" content="https://juejin.cn/user/1116759543260727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pnpm + monorepo æ‰æ˜¯ AI ååŒå¼€å‘çš„æœ€ä½³æ–¹æ¡ˆï¼ğŸš€ğŸš€ğŸš€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759543260727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒèŒå“’è‰å¤´å°†å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:17:54.000Z" title="Mon Dec 22 2025 12:17:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>æœ€è¿‘ä¸šä½™æ—¶é—´ä¸€ç›´å¿™ç€å¼€å‘ AudioDockï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmmdctjj%2FAudioDock" target="_blank" title="https://github.com/mmdctjj/AudioDock" ref="nofollow noopener noreferrer">github.com/mmdctjj/Audâ€¦</a></p>
<p>å¾ˆå°‘æ›´æ–°æ–‡ç« ï¼Œä½†æ˜¯ä»Šå¤©æŠ½ç©ºæ€»ç»“ä¸‹æœ€è¿‘å¼€å‘æ—¶çš„ä¸€äº›æ€è€ƒï¼Œå¸Œæœ›å¯ä»¥ç»™å¤§å®¶å¸¦æ¥æ–°çš„å¼€å‘æ€è·¯ï¼</p>
<h3 data-id="heading-1">pnpm + monorepo + AI = æ•ˆç‡ç¿»å€</h3>
<p>ä»Šå¤©çš„ä¸»è§’æ˜¯ pnpm ï¼Œä¸è¿‡è¿˜æ˜¯å¾—ç»“åˆæ­£åœ¨åšçš„é¡¹ç›®æ¥è¯´æ˜ï¼</p>
<p>æˆ‘çš„é¡¹ç›®æ˜¯åŒ…å«äº†æ¡Œé¢ç«¯ã€ç§»åŠ¨ç«¯çš„å…¨æ ˆé¡¹ç›®ï¼Œå¹¶ä¸”å‰åç«¯åˆ†ç¦»ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜åŒ…å«äº†ä¸€äº›å·¥å…·åº“ã€‚</p>
<p>æ•´ä½“ä½¿ç”¨ pnpm + monorepo çš„å½¢å¼ç®¡ç†é¡¹ç›®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">soundX/
â”œâ”€â”€ apps/                <span class="hljs-comment"># åº”ç”¨å±‚ (å‰ç«¯/å®¢æˆ·ç«¯)</span>
â”‚   â”œâ”€â”€ mobile/         <span class="hljs-comment"># ç§»åŠ¨ç«¯åº”ç”¨ (React Native / Expo)</span>
â”‚   â”œâ”€â”€ desktop/        <span class="hljs-comment"># æ¡Œé¢ç«¯åº”ç”¨ (Electron)</span>
â”‚   â””â”€â”€ mini/           <span class="hljs-comment"># è¿·ä½ ç«¯/å°ç¨‹åºåº”ç”¨</span>
â”œâ”€â”€ services/            <span class="hljs-comment"># åç«¯æœåŠ¡å±‚</span>
â”‚   â””â”€â”€ api/            <span class="hljs-comment"># æ ¸å¿ƒåç«¯ API æœåŠ¡ (é€šå¸¸æ˜¯ NestJS)</span>
â”œâ”€â”€ packages/            <span class="hljs-comment"># å…¬å…±æ¨¡å—ä¸åŒ… (å†…éƒ¨ä¾èµ–)</span>
â”‚   â”œâ”€â”€ db/             <span class="hljs-comment"># æ•°æ®åº“æ¨¡å‹ä¸ Prisma é…ç½®</span>
â”‚   â”œâ”€â”€ ws/             <span class="hljs-comment"># WebSocket é€šè®¯åè®®ä¸é€»è¾‘</span>
â”‚   â”œâ”€â”€ utils/          <span class="hljs-comment"># å…¬å…±å·¥å…·å‡½æ•°</span>
â”‚   â””â”€â”€ <span class="hljs-built_in">test</span>/           <span class="hljs-comment"># æµ‹è¯•è¾…åŠ©å·¥å…·</span>
â”œâ”€â”€ Dockerfile           <span class="hljs-comment"># å®¹å™¨åŒ–éƒ¨ç½²é…ç½®</span>
â”œâ”€â”€ docker-compose.yml   <span class="hljs-comment"># å¤šæœåŠ¡ç¼–æ’é…ç½®</span>
â”œâ”€â”€ package.json         <span class="hljs-comment"># æ ¹ç›®å½•é…ç½®ä¸å·¥ä½œåŒºç®¡ç†</span>
â”œâ”€â”€ pnpm-workspace.yaml  <span class="hljs-comment"># pnpm å·¥ä½œåŒºå®šä¹‰</span>
â””â”€â”€ nginx.conf           <span class="hljs-comment"># Nginx åå‘ä»£ç†é…ç½®</span>
</code></pre>
<p>æœ€è¿‘ä¸€ç›´é‡åº¦ä½¿ç”¨ AI å¼€å‘ï¼Œæ²¡æƒ³åˆ°è¿™ç§ç»“æ„ï¼Œè®©æˆ‘çš„å¼€å‘æ›´åŠ æµç•…ï¼š</p>
<h4 data-id="heading-2">å…¨é‡çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</h4>
<p>AI åœ¨å¼€å‘æ—¶ï¼Œå§‹ç»ˆæ˜¯å…¨é‡çš„ä¸Šä¸‹æ–‡ï¼ˆå‰ã€åç«¯ï¼‰ä¿¡æ¯ï¼Œè®©AI ç”Ÿæˆä¸€ä¸ªè¯·æ±‚å‡½æ•°å’Œå‚æ•°è¿”å›å€¼ç±»å‹ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å¾ˆå‡†ç¡®çš„å®ç°</p>
<h4 data-id="heading-3">ç»Ÿä¸€çš„ç±»å‹ç®¡ç†</h4>
<p>è¿™æ˜¯ pnpm + monorepo æœ€å¤§çš„ä¼˜ç‚¹äº†ï¼Œç»Ÿä¸€çš„ç±»å‹ç®¡ç†å’Œç»Ÿä¸€çš„æ„å»ºèŒƒå¼ï¼Œå³ä½¿æƒ³è®© AI é‡æ„ï¼Œå¾ˆå°‘ä¼šå‡ºç°é‡æ„å¤±è´¥çš„æƒ…å†µ</p>
<h4 data-id="heading-4">è·¨åº”ç”¨å¼€å‘</h4>
<p>æˆ‘å¼€å‘ç§»åŠ¨ç«¯çš„æ—¶å€™ï¼Œå¦‚æœå¯¹ AI ç”Ÿæˆçš„æ•ˆæœä¸æ»¡æ„ï¼Œç»å¸¸è®© AI ç†Ÿæ‚‰ä¸‹æ¡Œé¢ç«¯çš„ç›¸åŒåŠŸèƒ½ï¼Œåœ¨å¼€å‘ç§»åŠ¨ç«¯çš„åŠŸèƒ½ï¼Œæ•ˆæœä¼šå¾—åˆ°å¾ˆå¤§çš„æå‡ï¼</p>
<h3 data-id="heading-5">é‡åˆ°çš„é—®é¢˜</h3>
<h4 data-id="heading-6">å¤šæ¨¡å—å¤ç”¨</h4>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªæ ‡å‡†çš„å‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œéœ€è¦å¤šä¸ªæ¨¡å—çš„é…åˆï¼šmodelsã€serviesã€viewsã€‚</p>
<p>åƒæˆ‘çš„è¿™ä¸ªé¡¹ç›®ç§»åŠ¨ç«¯ï¼ˆReact Nativeï¼‰å’Œæ¡Œé¢ç«¯ï¼ˆElectronï¼‰éƒ½ä¼šå‡ºç°è¿™äº›æ¨¡å—ï¼ŒåŒ…æ‹¬åç»­ä¼šå®ç°çš„å°ç¨‹åºå’Œç”µè§†ç«¯ï¼Œå¤§æ¦‚ç‡è¿˜æ˜¯éœ€è¦è¿™äº›çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘å°†å…¬å…±çš„éƒ¨åˆ†æŠ½ç¦»æˆäº†å•ç‹¬çš„åŒ…ï¼šdbã€servicesï¼ˆåçŸ¥åè§‰ï¼Œè¿˜æ²¡æŠ½ç¦»ï¼‰ï¼</p>
<h4 data-id="heading-7">è®©äººæ‘¸ä¸ç€å¤´è„‘çš„ nestjs</h4>
<p>æˆ‘ä¹‹å‰å·²ç»å†™è¿‡ nestjs çš„æ–‡ç« äº†ï¼Œä»‹ç»äº†ä»–åŸºç¡€çš„å¼€å‘èŒƒå¼ï¼Œcontrollerã€servideã€moduleã€‚å¯ä»¥è¯´æ˜¯ spring boot æ— ç—›åˆ‡æ¢ Node çš„æœ€ä½³æ–¹æ¡ˆäº†ï¼Œä½†æ˜¯åœ¨æˆ‘ç¬¬ä¸€æ¬¡æ‰“åŒ…çš„æ—¶å€™å‚»çœ¼äº†ï¼Œæ‰“åŒ…ä¹‹åä¸€ç›´æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Cannot</span> find <span class="hljs-variable language_">module</span> <span class="hljs-string">'@nestjs/core'</span>
<span class="hljs-title class_">Require</span> <span class="hljs-attr">stack</span>:
| - <span class="hljs-regexp">/usr/</span>src/app/dist/main.<span class="hljs-property">js</span>
</code></pre>
<p>ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯æˆ‘çš„ Dockerfile é…ç½®çš„æœ‰é—®é¢˜ï¼Œåå¤è°ƒæ•´ï¼ŒæŠ˜ç£¨äº†æˆ‘ä¸€ä¸ªå‘¨æœ«æ‰å‘ç°è¿™æ˜¯åœ¨ pnpm monorepo é¡¹ç›®é‡Œå¼€å‘å¿…ç„¶ä¼šå‡ºç°çš„é—®é¢˜ã€‚</p>
<p>è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œæ„å»ºçš„æ—¶å€™ï¼Œåœ¨å•ç‹¬ä¸‹è½½ä¸€æ¬¡ç”Ÿäº§ç¯å¢ƒçš„ä¾èµ–åŒ…å°±å¯ä»¥äº†ï¼</p>
<pre><code class="hljs language-sql" lang="sql"># <span class="hljs-number">2.</span> å®‰è£…ç”Ÿäº§ä¾èµ– <span class="hljs-operator">+</span> å…¨å±€å®‰è£… prisma (ç”¨äº db push)
RUN apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> <span class="hljs-keyword">update</span> <span class="hljs-operator">-</span>y <span class="hljs-operator">&amp;&amp;</span> apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> install <span class="hljs-operator">-</span>y openssl
RUN npm i <span class="hljs-operator">-</span>g pnpm prisma<span class="hljs-variable">@6</span><span class="hljs-number">.6</span><span class="hljs-number">.0</span> <span class="hljs-operator">&amp;&amp;</span> pnpm install <span class="hljs-comment">--prod --frozen-lockfile --ignore-scripts</span>
</code></pre>
<p>å‡ºç°è¿™ä¸ªé—®é¢˜çš„ä¸»è¦åŸå› æ˜¯ pnpm çš„è½¯è¿æ¥æœºåˆ¶åœ¨æ‰“åŒ…çš„æ—¶å€™ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°è¿™ä¸ªåŒ…ã€‚</p>
<h4 data-id="heading-8">Prisma è®©æˆ‘åˆçˆ±åˆæ¨</h4>
<p>è§£å†³å®Œç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä»¥ä¸ºå¯ä»¥æ­£å¸¸è¿è¡Œæˆ‘çš„åŒ…äº†ï¼Œç»“æœæ²¡æƒ³åˆ°è¿™æ—¶å€™æ˜¯ Prisma çš„é—®é¢˜äº†ã€‚</p>
<p>Prisma æœ€å¤§çš„å¥½å¤„æ˜¯å¯ä»¥è‡ªåŠ¨ç”Ÿæˆç±»å‹æ–‡ä»¶ã€åŸºç¡€çš„ä¸šåŠ¡æŸ¥è¯¢ï¼</p>
<p>ä½†æ˜¯çœŸçš„æ²¡æƒ³åˆ°ï¼Œè¿™äº›ä¾¿æ·çš„åé¢éšè—ç€æ— æ•°çš„å‘ï¼Œç¬¬äºŒä¸ªé—®é¢˜æ˜¯ <a href="https://link.juejin.cn?target=mailto%3APrisma%406.x" target="_blank" title="mailto:Prisma@6.x" ref="nofollow noopener noreferrer">Prisma@6.x</a> ç‰ˆæœ¬é»˜è®¤è¾“å‡ºå®¢æˆ·ç«¯æ–‡ä»¶åœ¨ pnpm é¡¹ç›®é‡Œä¹Ÿä¼šæ‰¾ä¸åˆ°æ–‡ä»¶åœ¨å“ªã€‚</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-symbol">node:</span>internal/modules/cjs/<span class="hljs-symbol">loader:</span><span class="hljs-number">1386</span>
  <span class="hljs-keyword">throw</span> err;
  ^
<span class="hljs-title class_">Error</span>: <span class="hljs-title class_">Cannot</span> find <span class="hljs-keyword">module</span> <span class="hljs-string">'.prisma/client/default'</span>
<span class="hljs-title class_">Require</span> <span class="hljs-symbol">stack:</span> - <span class="hljs-regexp">/app/node</span>_modules/.pnpm/<span class="hljs-variable">@prisma</span>+client<span class="hljs-variable">@6</span>.<span class="hljs-number">8</span>.2_prisma<span class="hljs-variable">@6</span>.<span class="hljs-number">8</span>.2_typescript<span class="hljs-variable">@5</span>.<span class="hljs-number">9</span>.3__typescript<span class="hljs-variable">@5</span>.<span class="hljs-number">9.3</span>/node_modules/<span class="hljs-variable">@prisma</span>/client/default.js
</code></pre>
<p>åæ¥çœ‹åˆ°éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„æ‰ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä½†æ˜¯ä½¿ç”¨è‡ªå®šä¹‰æ–‡ä»¶è¾“å‡ºçš„æ–‡ä»¶æ˜¯ CMD æ ¼å¼çš„æ–‡ä»¶ï¼Œäºæ˜¯æˆ‘å°† Prisma çš„ç‰ˆæœ¬å‡çº§åˆ°äº†æœ€æ–°çš„ 7.x ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬è¦æ±‚å¿…é¡»ä½¿ç”¨è‡ªå®šä¹‰è·¯å¾„è¾“å‡ºå®¢æˆ·ç«¯æ–‡ä»¶ï¼Œå¹¶ä¸”ç”Ÿæˆçš„æ˜¯ ES æ ¼å¼çš„æ–‡ä»¶ï¼Œå¯ä»¥åœ¨å‰ç«¯ç›´æ¥å¼•å…¥ç±»å‹ã€‚</p>
<p>ä½†æ˜¯ç©ç©æ²¡æƒ³åˆ°ï¼Œè¾“å‡ºä¹‹åçš„æ–‡ä»¶ä¼šæœ‰ä¸‰ä¸ªå˜é‡ä¸€ç›´æŠ¥é”™</p>
<pre><code class="hljs language-bash" lang="bash">apps/api dev: generated/prisma/internal/prismaNamespace.ts:114:14 - error TS2742: The inferred <span class="hljs-built_in">type</span> of <span class="hljs-string">'DbNull'</span> cannot be named without a reference to <span class="hljs-string">'.pnpm/@prisma+client-runtime-utils@7.0.0/node_modules/@prisma/client-runtime-utils'</span>. This is likely not portable. A <span class="hljs-built_in">type</span> annotation is necessary.

apps/api dev: 114 <span class="hljs-built_in">export</span> const DbNull = runtime.DbNull
apps/api dev:                  ~~~~~~

apps/api dev: generated/prisma/internal/prismaNamespace.ts:121:14 - error TS2742: The inferred <span class="hljs-built_in">type</span> of <span class="hljs-string">'JsonNull'</span> cannot be named without a reference to <span class="hljs-string">'.pnpm/@prisma+client-runtime-utils@7.0.0/node_modules/@prisma/client-runtime-utils'</span>. This is likely not portable. A <span class="hljs-built_in">type</span> annotation is necessary.

apps/api dev: 121 <span class="hljs-built_in">export</span> const JsonNull = runtime.JsonNull
apps/api dev:                  ~~~~~~~~

apps/api dev: generated/prisma/internal/prismaNamespace.ts:128:14 - error TS2742: The inferred <span class="hljs-built_in">type</span> of <span class="hljs-string">'AnyNull'</span> cannot be named without a reference to <span class="hljs-string">'.pnpm/@prisma+client-runtime-utils@7.0.0/node_modules/@prisma/client-runtime-utils'</span>. This is likely not portable. A <span class="hljs-built_in">type</span> annotation is necessary.

apps/api dev: 128 <span class="hljs-built_in">export</span> const AnyNull = runtime.AnyNull
apps/api dev:                  ~~~~~~~
</code></pre>
<p>æ²¡åŠæ³•åˆå›é€€åˆ°äº† 6.x ç‰ˆæœ¬ç›´æ¥æ‰‹å†™ modal äº†ã€‚</p>
<h3 data-id="heading-9">æœ€å</h3>
<p>ç›®å‰å·²ç»å¼€å‘å®Œäº†å¤§éƒ¨åˆ†åŠŸèƒ½äº†ï¼Œå¤§æ¦‚é›†ä¸­å¼€å‘äº†ä¸¤ä¸‰ä¸ªå‘¨æœ«çš„æ—¶é—´ï¼Œæ•´ä½“æ¥è¯´ pnpm + monorepo ååŒ AI å¼€å‘æˆ‘æ„Ÿè§‰æ˜¯ä¸ªäººæˆ–è€…å°å›¢é˜Ÿå¼€å‘çš„æœ€å¿«å½¢å¼äº†ã€‚</p>
<p>å¯èƒ½ä¼šæœ‰å°ä¼™ä¼´æ‹…å¿ƒæ˜¯ä¸æ˜¯å¾ˆè´¹å¤§æ¨¡å‹çš„ token ï¼Ÿ</p>
<p>æˆ‘æ²¡è¯•è¿‡å°é¡¹ç›®ï¼Œä½†æ˜¯å¦‚æœçœŸçš„å…è´¹ token ç”¨å®Œäº†ï¼Œå¯ä»¥å†æ³¨å†Œä¸€ä¸ªæ–°è´¦å·ç»§ç»­ä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Agentã€‘MemOS æºç ç¬”è®°---(7)---MemScheduler ç»†èŠ‚]]></title>    <link>https://juejin.cn/post/7586479864272093190</link>    <guid>https://juejin.cn/post/7586479864272093190</guid>    <pubDate>2025-12-22T12:27:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864272093190" data-draft-id="7586491717873270803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Agentã€‘MemOS æºç ç¬”è®°---(7)---MemScheduler ç»†èŠ‚"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-22T12:27:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Agentã€‘MemOS æºç ç¬”è®°---(7)---MemScheduler ç»†èŠ‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:27:13.000Z" title="Mon Dec 22 2025 12:27:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»26åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Agentã€‘MemOS æºç ç¬”è®°---(7)---MemScheduler ç»†èŠ‚</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ‘˜è¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 ç»„ä»¶å…³ç³»</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 å®ç°</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 GeneralScheduler</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 SchedulerDispatcher</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 SchedulerRetriever</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x03 å…³è”</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.1 SchedulerDispatcher å’Œ GeneralScheduler</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.2 GeneralScheduler å’Œ TreeTextMemory</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.3 æ€»ç»“</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">3.4 MosCore</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<h3 data-id="heading-1">0x00 æ‘˜è¦</h3>
<p>è®°å¿†è°ƒåº¦å°±åƒå¤§è„‘çš„æ³¨æ„åŠ›æœºåˆ¶ï¼ŒåŠ¨æ€å†³å®šåœ¨åˆé€‚çš„æ—¶åˆ»è°ƒç”¨åˆé€‚çš„è®°å¿†ã€‚</p>
<p>åœ¨ MemOS ä¸­ï¼Œ<strong>è®°å¿†è°ƒåº¦ï¼ˆMemory Schedulingï¼‰</strong> é€šè¿‡å¯¹ã€ä¸åŒä½¿ç”¨æ•ˆç‡ï¼ˆå‚æ•°&gt;æ¿€æ´»&gt;å·¥ä½œ&gt;å…¶ä»–æ˜æ–‡ï¼‰çš„è®°å¿†ã€‘çš„ç›¸äº’è°ƒåº¦ï¼Œè®©æ¨¡å‹èƒ½æ›´é«˜æ•ˆã€å‡†ç¡®åœ°è·å–ç”¨æˆ·æ‰€éœ€çš„è®°å¿†ã€‚åœ¨å¯¹è¯å’Œä»»åŠ¡è¿›è¡Œæ—¶ï¼Œé€šè¿‡é¢„æµ‹ç”¨æˆ·åç»­å¯¹è¯æ‰€éœ€è®°å¿†å¹¶æå‰è°ƒå…¥é«˜æ•ˆç‡è®°å¿†ç±»å‹å¦‚æ¿€æ´»è®°å¿†å·¥ä½œè®°å¿†ï¼ŒåŠ é€Ÿæ¨ç†é“¾è·¯ã€‚</p>
<p>è®°å¿†è°ƒåº¦çš„å…·ä½“å®ç°å°±æ˜¯MemScheduler ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ MemOS ç³»ç»Ÿå¹¶è¡Œè¿è¡Œçš„å¹¶å‘è®°å¿†ç®¡ç†ç³»ç»Ÿï¼Œå®ƒåè°ƒ AI ç³»ç»Ÿä¸­å·¥ä½œè®°å¿†ã€é•¿æ—¶è®°å¿†å’Œæ¿€æ´»è®°å¿†ä¹‹é—´çš„è®°å¿†æ“ä½œã€‚å®ƒé€šè¿‡äº‹ä»¶é©±åŠ¨è°ƒåº¦å¤„ç†è®°å¿†æ£€ç´¢ã€æ›´æ–°å’Œå‹ç¼©ã€‚è¯¥ç³»ç»Ÿç‰¹åˆ«é€‚åˆéœ€è¦åŠ¨æ€è®°å¿†ç®¡ç†çš„å¯¹è¯ä»£ç†å’Œæ¨ç†ç³»ç»Ÿã€‚</p>
<p>å¤‡æ³¨ï¼šæœ¬æ–‡åŸºäºMemOSçš„æ–‡æ¡£å’Œæºç è¿›è¡Œå­¦ä¹ ï¼Œä¼¼ä¹å…¶æ–‡æ¡£å¹¶æ²¡æœ‰è·Ÿä¸Šæºç æ›´æ–°çš„é€Ÿåº¦ï¼Œè€Œä¸”ä¹Ÿæœ‰éƒ¨åˆ†åŠŸèƒ½æœªå®ç°æˆ–è€…æœªå¼€æºã€‚</p>
<p>å‰ä¸€ç¯‡ä»‹ç»äº† MemScheduler çš„æ€»ä½“æ¦‚å¿µï¼Œæœ¬ç¯‡æ¥çœ‹çœ‹å®ç°ç»†èŠ‚ã€‚</p>
<h3 data-id="heading-2">0x01 ç»„ä»¶å…³ç³»</h3>
<p>æœ€æ ¸å¿ƒçš„å‡ ä¸ªç»„ä»¶å…³ç³»å¦‚ä¸‹ï¼š</p>
<ul>
<li>GeneralScheduler æ˜¯æ•´ä¸ªè°ƒåº¦ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œç»§æ‰¿è‡ª BaseSchedulerï¼Œè´Ÿè´£å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼ˆæŸ¥è¯¢ã€å›ç­”ã€æ·»åŠ ç­‰ï¼‰ï¼Œå¹¶åè°ƒå…¶ä»–ç»„ä»¶å®Œæˆå…·ä½“ä»»åŠ¡ã€‚</li>
<li>SchedulerDispatcher æ˜¯æ¶ˆæ¯åˆ†å‘å™¨ï¼Œè´Ÿè´£å°†ä¸åŒç±»å‹çš„æ¶ˆæ¯åˆ†å‘ç»™å¯¹åº”çš„processorï¼Œæ”¯æŒå¹¶è¡Œå¤„ç†ï¼ˆå¯é€‰ï¼‰ã€‚</li>
<li>SchedulerRetriever æ˜¯è®°å¿†æ£€ç´¢å™¨ï¼Œè´Ÿè´£ä»è®°å¿†åº“ä¸­æœç´¢ã€é‡æ’åºå’Œè¿‡æ»¤è®°å¿†é¡¹ï¼Œæä¾›æ™ºèƒ½è®°å¿†ç®¡ç†åŠŸèƒ½ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fb95ef5952641588c8a4a6f509f27c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767011233&amp;x-signature=YBjKu%2BcIbu8HAkKtkVLsesWCWTE%3D" alt="MemScheduler-7-1" loading="lazy"/></p>
<p>MemScheduler-7-1</p>
<p>MemOS-main\src\memos\templates\mem_scheduler_prompts.py ä¸­å¯ä»¥çœ‹åˆ°ä½¿ç”¨çš„promptã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile">PROMPT_MAPPING = {
    <span class="hljs-string">"intent_recognizing"</span>: INTENT_RECOGNIZING_PROMPT,
    <span class="hljs-string">"memory_reranking"</span>: MEMORY_RERANKING_PROMPT,
    <span class="hljs-string">"query_keywords_extraction"</span>: QUERY_KEYWORDS_EXTRACTION_PROMPT,
    <span class="hljs-string">"memory_filtering"</span>: MEMORY_FILTERING_PROMPT,
    <span class="hljs-string">"memory_redundancy_filtering"</span>: MEMORY_REDUNDANCY_FILTERING_PROMPT,
    <span class="hljs-string">"memory_combined_filtering"</span>: MEMORY_COMBINED_FILTERING_PROMPT,
    <span class="hljs-string">"memory_answer_ability_evaluation"</span>: MEMORY_ANSWER_ABILITY_EVALUATION_PROMPT,
}
</code></pre>
<h3 data-id="heading-3">0x02 å®ç°</h3>
<h4 data-id="heading-4">2.1 GeneralScheduler</h4>
<p>BaseScheduleræ˜¯åŸºç±»ï¼Œè€ŒGeneralScheduleræ‰æ˜¯çœŸæ­£èµ·ä½œç”¨çš„æ´¾ç”Ÿç±»ã€‚</p>
<p>GeneralScheduleré‡‡ç”¨ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹è¿›è¡Œå·¥ä½œï¼Œæ˜¯åŸºäºæ¶ˆæ¯é˜Ÿåˆ—çš„å†…å­˜è°ƒåº¦å™¨ã€‚</p>
<ul>
<li>
<p>è¯¥ç±»æ˜¯ MemOS ä¸­åŸºäº<code>BaseScheduler</code>çš„å…·ä½“è°ƒåº¦å™¨å®ç°ï¼Œä¸“æ³¨äºå¤„ç†æŸ¥è¯¢ã€å›ç­”å’Œæ·»åŠ å†…å­˜ç­‰æ ¸å¿ƒä»»åŠ¡ã€‚æ ¸å¿ƒç»„ä»¶æ¶æ„ï¼š</p>
<ul>
<li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šä½¿ç”¨ memos_message_queue æ¥å­˜å‚¨å¾…å¤„ç†çš„æ¶ˆæ¯ã€‚</li>
<li>æ¶ˆè´¹è€…çº¿ç¨‹ï¼šä½¿ç”¨ _message_consumer æ–¹æ³•æŒç»­è½®è¯¢é˜Ÿåˆ—å¹¶å¤„ç†æ¶ˆæ¯ã€‚</li>
<li>åˆ†å‘å™¨ï¼šSchedulerDispatcher è´Ÿè´£å°†æ¶ˆæ¯è·¯ç”±åˆ°å¯¹åº”çš„processorã€‚</li>
<li>å¤„ç†å™¨ï¼šé’ˆå¯¹ä¸åŒæ¶ˆæ¯ç±»å‹çš„å…·ä½“processorã€‚</li>
</ul>
</li>
<li>
<p>æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ³¨å†Œæ¶ˆæ¯ç±»å‹ï¼ˆæŸ¥è¯¢ / å›ç­” / æ·»åŠ ï¼‰æ³¨å†Œå¯¹åº”çš„processorï¼Œå®ç°ä»»åŠ¡çš„å®šå‘åˆ†å‘ï¼›</li>
<li>å¤„ç†æŸ¥è¯¢æ¶ˆæ¯æ—¶ï¼Œæå–å…³é”®è¯ã€æ›´æ–°æŸ¥è¯¢ç›‘æ§ã€æ‰§è¡Œå†…å­˜æ£€ç´¢ä¸é‡æ’åºï¼Œå¹¶æ”¯æŒæ¿€æ´»å†…å­˜çš„å‘¨æœŸæ€§æ›´æ–°ï¼›</li>
<li>å¤„ç†æ·»åŠ å†…å­˜æ¶ˆæ¯æ—¶ï¼Œè®°å½•æ–°å¢å†…å­˜æ—¥å¿—å¹¶åŒæ­¥åˆ°ç›‘æ§ç³»ç»Ÿï¼›</li>
<li>åŸºäºä¼šè¯å¯¹è¯è½®æ¬¡é€»è¾‘ï¼Œæ ¹æ®æ„å›¾æ£€æµ‹å’Œæ—¶é—´è§¦å‘æœºåˆ¶å†³å®šå†³å®šæ˜¯å¦æ‰§è¡Œå†…å­˜æ£€ç´¢ï¼Œç¡®ä¿å·¥ä½œå†…å­˜çš„æ—¶æ•ˆæ€§å’Œç›¸å…³æ€§ã€‚</li>
</ul>
</li>
<li>
<p>ç‰¹è‰²æ˜¯åŸºäºæ¶ˆæ¯ç±»å‹çš„æ¨¡å—åŒ–å¤„ç†æœºåˆ¶ï¼Œç»“åˆæ„å›¾è¯†åˆ«å’Œæ—¶é—´è§¦å‘çš„æ··åˆè°ƒåº¦ç­–ç•¥ï¼Œæ”¯æŒæŒ‰ç”¨æˆ·å’Œå†…å­˜ç«‹æ–¹ä½“åˆ†ç»„å¤„ç†æ¶ˆæ¯ï¼Œä¿è¯å¤šç”¨æˆ·åœºæ™¯ä¸‹çš„å†…å­˜éš”ç¦»å’Œå¤„ç†æ•ˆç‡ã€‚</p>
</li>
</ul>
<h5 data-id="heading-5">2.1.1 æ¶ˆæ¯å¤„ç†</h5>
<p>SchedulerDispatcherå°†æ¶ˆæ¯è·¯ç”±åˆ°é€‚å½“çš„å¤„ç†å™¨ã€‚</p>
<h6 data-id="heading-6">æ¶ˆæ¯ç±»å‹ä¸processoræ³¨å†Œ</h6>
<p>åˆå§‹åŒ–æ—¶æ³¨å†Œäº†ä¸‰ç§æ¶ˆæ¯processorã€‚</p>
<pre><code class="hljs language-objectivec" lang="objectivec">Â Â Â Â Â Â Â Â <span class="hljs-meta">#Â registerÂ handlers</span>
Â Â Â Â Â Â Â Â handlersÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â QUERY_LABEL:Â <span class="hljs-keyword">self</span>._query_message_consumer,
Â Â Â Â Â Â Â Â Â Â Â Â ANSWER_LABEL:Â <span class="hljs-keyword">self</span>._answer_message_consumer,
Â Â Â Â Â Â Â Â Â Â Â Â ADD_LABEL:Â <span class="hljs-keyword">self</span>._add_message_consumer,
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â <span class="hljs-keyword">self</span>.dispatcher.register_handlers(handlers)
</code></pre>
<ul>
<li>_query_message_consumerï¼šå¤„ç†ç”¨æˆ·æŸ¥è¯¢ QUERY_LABELï¼Œè§¦å‘è®°å¿†æ£€ç´¢å’Œé‡æ’åº</li>
<li>_answer_message_consumerï¼šå¤„ç†ç³»ç»Ÿå›ç­” ANSWER_LABELã€‚</li>
<li>_add_message_consumerï¼šå¤„ç†æ–°å¢è®°å¿†è¯·æ±‚ ADD_LABELã€‚</li>
</ul>
<p>QUERY_LABELåœ¨memos/mem_scheduler/schemas/general_schemas.pyæ–‡ä»¶ä¸­å®šä¹‰ä¸ºä¸€ä¸ªå¸¸é‡ï¼š</p>
<ul>
<li>QUERY_LABEL="query"</li>
<li>ANSWER_LABEL ="anSwer"</li>
<li>ADD_LABEL = "add"</li>
</ul>
<p>è¿™æ˜¯ä¸€ä¸ªé¢„å®šä¹‰çš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œå€¼ä¸º"query"ã€‚</p>
<h6 data-id="heading-7">æ¶ˆæ¯åˆ†å‘è¿‡ç¨‹</h6>
<ul>
<li>æ¶ˆæ¯æäº¤ï¼šé€šè¿‡submit_messages å°†ScheduleMessageItemæ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ã€‚</li>
<li>æ¶ˆæ¯æ¶ˆè´¹ï¼š_message_consumer çº¿ç¨‹å®šæœŸä»é˜Ÿåˆ—ä¸­å–å‡ºæ‰€æœ‰æ¶ˆæ¯ã€‚</li>
<li>æ¶ˆæ¯åˆ†å‘ï¼šè°ƒç”¨self.dispatcher.dispatch(messages)æŒ‰æ¶ˆæ¯æ ‡ç­¾åˆ†å‘åˆ°å¯¹åº”çš„processorã€‚</li>
</ul>
<h5 data-id="heading-8">2.1.2 æµç¨‹</h5>
<p>GeneralSchedulerçš„æµç¨‹å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a70ce41552c344929865d4182468c0a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767011233&amp;x-signature=IVKNM%2F5tc3S%2FrtVy2984pstGgeM%3D" alt="MemScheduler-7-2" loading="lazy"/></p>
<p>MemScheduler-7-2</p>
<h5 data-id="heading-9">2.1.3 å®Œæ•´ä»£ç </h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">GeneralScheduler</span>(<span class="hljs-title class_ inherited__">BaseScheduler</span>):
Â Â Â Â <span class="hljs-string">"""é€šç”¨è°ƒåº¦å™¨ï¼Œå®ç°æŸ¥è¯¢ã€å›ç­”å’Œæ·»åŠ å†…å­˜ç­‰å…·ä½“ä»»åŠ¡çš„å¤„ç†é€»è¾‘"""</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â config:Â GeneralSchedulerConfig</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ä½¿ç”¨ç»™å®šå®šé…ç½®åˆå§‹åŒ–é€šç”¨è°ƒåº¦å™¨"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__(config)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŸ¥è¯¢å…³é”®è¯æ•°é‡é™åˆ¶ï¼ˆä»é…ç½®è·å–ï¼Œé»˜è®¤20ï¼‰</span>
Â Â Â Â Â Â Â Â self.query_key_words_limitÂ =Â self.config.get(<span class="hljs-string">"query_key_words_limit"</span>,Â <span class="hljs-number">20</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ³¨å†Œæ¶ˆæ¯processorï¼ˆæŒ‰æ¶ˆæ¯æ ‡ç­¾ç»‘å®šå¯¹åº”çš„å¤„ç†æ–¹æ³•ï¼‰</span>
Â Â Â Â Â Â Â Â handlersÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â QUERY_LABEL:Â self._query_message_consumer,Â Â <span class="hljs-comment">#Â å¤„ç†æŸ¥è¯¢æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â ANSWER_LABEL:Â self._answer_message_consumer,Â Â <span class="hljs-comment">#Â å¤„ç†å›ç­”æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â ADD_LABEL:Â self._add_message_consumer,Â Â <span class="hljs-comment">#Â å¤„ç†æ·»åŠ å†…å­˜æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â self.dispatcher.register_handlers(handlers)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_query_message_consumer</span>(<span class="hljs-params">self,Â messages:Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â å¤„ç†å’Œå“åº”é˜Ÿåˆ—ä¸­çš„æŸ¥è¯¢è§¦å‘æ¶ˆæ¯

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â messages:Â è¦å¤„ç†çš„æŸ¥è¯¢æ¶ˆæ¯åˆ—è¡¨
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰ç”¨æˆ·å’Œå†…å­˜ç«‹æ–¹ä½“åˆ†ç»„å¤„ç†æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â grouped_messagesÂ =Â self.dispatcher.group_messages_by_user_and_cube(messages=messages)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éªŒè¯æ¶ˆæ¯åˆæ³•æ€§ï¼ˆç¡®ä¿æ ‡ç­¾ä¸æ¶ˆæ¯ç±»å‹åŒ¹é…ï¼‰</span>
Â Â Â Â Â Â Â Â self.validate_schedule_messages(messages=messages,Â label=QUERY_LABEL)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éå†åˆ†ç»„æ¶ˆæ¯ï¼ŒæŒ‰ç”¨æˆ·å’Œå†…å­˜ç«‹æ–¹ä½“å¤„ç†</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â user_idÂ <span class="hljs-keyword">in</span>Â grouped_messages:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â mem_cube_idÂ <span class="hljs-keyword">in</span>Â grouped_messages[user_id]:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â messagesÂ =Â grouped_messages[user_id][mem_cube_id]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(messages)Â ==Â <span class="hljs-number">0</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–å½“å‰å†…å­˜ç«‹æ–¹ä½“å®ä¾‹</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cubeÂ =Â messages[<span class="hljs-number">0</span>].mem_cube

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»æ¶ˆæ¯æ›´æ–°å½“å‰ä¸Šä¸‹æ–‡ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self._set_current_context_from_message(msg=messages[<span class="hljs-number">0</span>])

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ›´æ–°æŸ¥è¯¢ç›‘æ§å™¨ï¼ˆä¸ºæ¯ä¸ªæ¶ˆæ¯æ³¨å†ŒæŸ¥è¯¢è®°å½•ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â msgÂ <span class="hljs-keyword">in</span>Â messages:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è‹¥ç›‘æ§å™¨ä¸å­˜åœ¨åˆ™åˆ›å»º</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.monitor.register_query_monitor_if_not_exists(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user_id=user_id,Â mem_cube_id=mem_cube_id
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–æŸ¥è¯¢å†…å®¹å’Œå…³é”®è¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â queryÂ =Â msg.content
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query_keywordsÂ =Â self.monitor.extract_query_keywords(query=query)

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å…³é”®è¯æå–å¤±è´¥æ—¶çš„Â fallbackÂ é€»è¾‘</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(query_keywords)Â ==Â <span class="hljs-number">0</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â stripped_queryÂ =Â query.strip()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®è¯­è¨€ç±»å‹é€‰æ‹©åˆ†è¯æ–¹å¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â is_all_english(stripped_query):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wordsÂ =Â stripped_query.split()Â Â <span class="hljs-comment">#Â è‹±æ–‡æŒ‰ç©ºæ ¼åˆ†è¯</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â is_all_chinese(stripped_query):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wordsÂ =Â stripped_queryÂ Â <span class="hljs-comment">#Â ä¸­æ–‡æŒ‰å­—ç¬¦å¤„ç†</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wordsÂ =Â stripped_queryÂ Â <span class="hljs-comment">#Â æ··åˆè¯­è¨€é»˜è®¤æŒ‰å­—ç¬¦å¤„ç†</span>

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å–å‰Nä¸ªå…³é”®è¯ï¼ˆå»é‡ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query_keywordsÂ =Â <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(words[:Â self.query_key_words_limit]))

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºæŸ¥è¯¢ç›‘æ§é¡¹å¹¶æ·»åŠ åˆ°æ•°æ®åº“</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â itemÂ =Â QueryMonitorItem(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user_id=user_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube_id=mem_cube_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query_text=query,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â keywords=query_keywords,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â max_keywords=DEFAULT_MAX_QUERY_KEY_WORDS,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åŒæ­¥åˆ°æ•°æ®åº“</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query_db_managerÂ =Â self.monitor.query_monitors[user_id][mem_cube_id]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query_db_manager.obj.put(item=item)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query_db_manager.sync_with_orm()Â Â <span class="hljs-comment">#Â æ·»åŠ ååŒæ­¥åˆ°æ•°æ®åº“</span>

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æå–æ‰€æœ‰æŸ¥è¯¢å†…å®¹</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â queriesÂ =Â [msg.contentÂ <span class="hljs-keyword">for</span>Â msgÂ <span class="hljs-keyword">in</span>Â messages]

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ‰§è¡Œä¼šè¯è½®æ¬¡å¤„ç†ï¼ˆæ£€ç´¢ç›¸å…³å†…å­˜ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â cur_working_memory,Â new_candidatesÂ =Â self.process_session_turn(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â queries=queries,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user_id=user_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube_id=mem_cube_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube=mem_cube,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â top_k=self.top_k,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é‡æ’åºå†…å­˜é‡æ’åºå¹¶æ›¿æ¢å·¥ä½œå†…å­˜</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â new_order_working_memoryÂ =Â self.replace_working_memory(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user_id=user_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube_id=mem_cube_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube=mem_cube,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â original_memory=cur_working_memory,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â new_memory=new_candidates,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è‹¥å¯ç”¨æ¿€æ´»å†…å­˜ï¼Œæ‰§è¡Œå‘¨æœŸæ€§æ›´æ–°</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.enable_activation_memory:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.update_activation_memory_periodically(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â interval_seconds=self.monitor.act_mem_update_interval,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â label=QUERY_LABEL,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user_id=user_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube_id=mem_cube_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube=messages[<span class="hljs-number">0</span>].mem_cube,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_answer_message_consumer</span>(<span class="hljs-params">self,Â messages:Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â å¤„ç†å’Œå“åº”é˜Ÿåˆ—ä¸­çš„å›ç­”è§¦å‘æ¶ˆæ¯

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â messages:Â è¦å¤„ç†çš„å›ç­”æ¶ˆæ¯åˆ—è¡¨
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰ç”¨æˆ·å’Œå†…å­˜ç«‹æ–¹ä½“åˆ†ç»„å¤„ç†æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â grouped_messagesÂ =Â self.dispatcher.group_messages_by_user_and_cube(messages=messages)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éªŒè¯æ¶ˆæ¯åˆæ³•æ€§</span>
Â Â Â Â Â Â Â Â self.validate_schedule_messages(messages=messages,Â label=ANSWER_LABEL)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éå†åˆ†ç»„æ¶ˆæ¯ï¼Œæ›´æ–°ä¸Šä¸‹æ–‡ï¼ˆå…·ä½“å›ç­”é€»è¾‘å¯åœ¨æ­¤æ‰©å±•ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â user_idÂ <span class="hljs-keyword">in</span>Â grouped_messages:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â mem_cube_idÂ <span class="hljs-keyword">in</span>Â grouped_messages[user_id]:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â messagesÂ =Â grouped_messages[user_id][mem_cube_id]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(messages)Â ==Â <span class="hljs-number">0</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»æ¶ˆæ¯æ›´æ–°å½“å‰ä¸Šä¸‹æ–‡</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self._set_current_context_from_message(msg=messages[<span class="hljs-number">0</span>])

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_add_message_consumer</span>(<span class="hljs-params">self,Â messages:Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""å¤„ç†å’Œå“åº”é˜Ÿåˆ—ä¸­çš„æ·»åŠ å†…å­˜æ¶ˆæ¯"""</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰ç”¨æˆ·å’Œå†…å­˜ç«‹æ–¹ä½“åˆ†ç»„å¤„ç†æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â grouped_messagesÂ =Â self.dispatcher.group_messages_by_user_and_cube(messages=messages)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éªŒè¯æ¶ˆæ¯åˆæ³•æ€§</span>
Â Â Â Â Â Â Â Â self.validate_schedule_messages(messages=messages,Â label=ADD_LABEL)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éå†åˆ†ç»„æ¶ˆæ¯ï¼Œå¤„ç†æ¯ä¸ªæ·»åŠ å†…å­˜è¯·æ±‚</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â user_idÂ <span class="hljs-keyword">in</span>Â grouped_messages:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â mem_cube_idÂ <span class="hljs-keyword">in</span>Â grouped_messages[user_id]:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â messagesÂ =Â grouped_messages[user_id][mem_cube_id]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-built_in">len</span>(messages)Â ==Â <span class="hljs-number">0</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»æ¶ˆæ¯æ›´æ–°å½“å‰ä¸Šä¸‹æ–‡</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self._set_current_context_from_message(msg=messages[<span class="hljs-number">0</span>])

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†æ¯æ¡æ¶ˆæ¯ä¸­çš„å†…å­˜IDåˆ—è¡¨</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â msgÂ <span class="hljs-keyword">in</span>Â messages:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è§£ææ¶ˆæ¯å†…å®¹ä¸­çš„å†…å­˜IDåˆ—è¡¨ï¼ˆJSONæ ¼å¼ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â userinput_memory_idsÂ =Â json.loads(msg.content)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â userinput_memory_idsÂ =Â []

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éå†å†…å­˜IDï¼Œè®°å½•æ·»åŠ æ—¥å¿—ï¼ˆè·³è¿‡å·¥ä½œå†…å­˜ç±»å‹ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cubeÂ =Â msg.mem_cube
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â memory_idÂ <span class="hljs-keyword">in</span>Â userinput_memory_ids:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_item:Â TextualMemoryItemÂ =Â mem_cube.text_mem.get(memory_id=memory_id)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_typeÂ =Â mem_item.metadata.memory_type
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_contentÂ =Â mem_item.memory

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·³è¿‡å·¥ä½œå†…å­˜ï¼ˆé€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â mem_typeÂ ==Â WORKING_MEMORY_TYPE:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®°å½•æ·»åŠ å†…å­˜çš„æ—¥å¿—</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self.log_adding_memory(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â memory=mem_content,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â memory_type=mem_type,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â user_id=msg.user_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube_id=msg.mem_cube_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube=msg.mem_cube,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â log_func_callback=self._submit_web_logs,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â logger.error(<span class="hljs-string">f"Error:Â <span class="hljs-subst">{e}</span>"</span>,Â exc_info=<span class="hljs-literal">True</span>)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">process_session_turn</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â queries:Â <span class="hljs-built_in">str</span>Â |Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
Â Â Â Â Â Â Â Â user_id:Â UserIDÂ |Â <span class="hljs-built_in">str</span>,
Â Â Â Â Â Â Â Â mem_cube_id:Â MemCubeIDÂ |Â <span class="hljs-built_in">str</span>,
Â Â Â Â Â Â Â Â mem_cube:Â GeneralMemCube,
Â Â Â Â Â Â Â Â top_k:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">10</span>,
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">list</span>[TextualMemoryItem],Â <span class="hljs-built_in">list</span>[TextualMemoryItem]]Â |Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â å¤„ç†å¯¹è¯è½®æ¬¡ï¼š
Â Â Â Â Â Â Â Â -Â å½“æŸ¥è¯¢åˆ—è¡¨è¾¾åˆ°çª—å£å¤§å°æ—¶ï¼Œè§¦å‘å†…å­˜æ£€ç´¢ï¼›
Â Â Â Â Â Â Â Â -Â è‹¥æ£€ç´¢è¢«è§¦å‘ï¼Œç«‹å³åˆ‡æ¢åˆ°æ–°å†…å­˜ã€‚
Â Â Â Â Â Â Â Â """</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–æ–‡æœ¬å†…å­˜å®ä¾‹ï¼ˆä»…æ”¯æŒTreeTextMemoryç±»å‹ï¼‰</span>
Â Â Â Â Â Â Â Â text_mem_baseÂ =Â mem_cube.text_mem
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-built_in">isinstance</span>(text_mem_base,Â TreeTextMemory):
Â Â Â Â Â Â Â Â Â Â Â Â logger.error(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"æœªå®ç°ï¼æœŸæœ›TreeTextMemoryï¼Œä½†è·å–åˆ°<span class="hljs-subst">{<span class="hljs-built_in">type</span>(text_mem_base).__name__}</span>Â "</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"ï¼ˆmem_cube_id=<span class="hljs-subst">{mem_cube_id}</span>ï¼Œuser_id=<span class="hljs-subst">{user_id}</span>ï¼‰ã€‚Â "</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"text_mem_baseå€¼ï¼š<span class="hljs-subst">{text_mem_base}</span>"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â exc_info=<span class="hljs-literal">True</span>,
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">None</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–å½“å‰å·¥ä½œå†…å­˜åŠæ–‡æœ¬å†…å®¹</span>
Â Â Â Â Â Â Â Â cur_working_memory:Â <span class="hljs-built_in">list</span>[TextualMemoryItem]Â =Â text_mem_base.get_working_memory()
Â Â Â Â Â Â Â Â text_working_memory:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>]Â =Â [w_m.memoryÂ <span class="hljs-keyword">for</span>Â w_mÂ <span class="hljs-keyword">in</span>Â cur_working_memory]
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æµ‹æŸ¥è¯¢æ„å›¾ï¼ˆåˆ¤æ–­æ˜¯å¦éœ€è¦è§¦å‘æ£€ç´¢ï¼‰</span>
Â Â Â Â Â Â Â Â intent_resultÂ =Â self.monitor.detect_intent(
Â Â Â Â Â Â Â Â Â Â Â Â q_list=queries,Â text_working_memory=text_working_memory
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æŸ¥æ˜¯å¦è¾¾åˆ°æ—¶é—´è§¦å‘æ¡ä»¶</span>
Â Â Â Â Â Â Â Â time_trigger_flagÂ =Â <span class="hljs-literal">False</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.monitor.timed_trigger(
Â Â Â Â Â Â Â Â Â Â Â Â last_time=self.monitor.last_query_consume_time,
Â Â Â Â Â Â Â Â Â Â Â Â interval_seconds=self.monitor.query_trigger_interval,
Â Â Â Â Â Â Â Â ):
Â Â Â Â Â Â Â Â Â Â Â Â time_trigger_flagÂ =Â <span class="hljs-literal">True</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®æ„å›¾å’Œæ—¶é—´è§¦å‘æ¡ä»¶å†³å®šæ˜¯å¦æ‰§è¡Œæ£€ç´¢</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (<span class="hljs-keyword">not</span>Â intent_result[<span class="hljs-string">"trigger_retrieval"</span>])Â <span class="hljs-keyword">and</span>Â (<span class="hljs-keyword">not</span>Â time_trigger_flag):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">None</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">elif</span>Â (<span class="hljs-keyword">not</span>Â intent_result[<span class="hljs-string">"trigger_retrieval"</span>])Â <span class="hljs-keyword">and</span>Â time_trigger_flag:
Â Â Â Â Â Â Â Â Â Â Â Â intent_result[<span class="hljs-string">"trigger_retrieval"</span>]Â =Â <span class="hljs-literal">True</span>
Â Â Â Â Â Â Â Â Â Â Â Â intent_result[<span class="hljs-string">"missing_evidences"</span>]Â =Â queries
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â logger.info(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"è§¦å‘æŸ¥è¯¢è°ƒåº¦ï¼ˆuser_id=<span class="hljs-subst">{user_id}</span>ï¼Œmem_cube_id=<span class="hljs-subst">{mem_cube_id}</span>ï¼‰ã€‚Â "</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"ç¼ºå¤±è¯æ®ï¼š<span class="hljs-subst">{intent_result[<span class="hljs-string">'missing_evidences'</span>]}</span>"</span>
Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†ç¼ºå¤±çš„è¯æ®ï¼ˆéœ€è¦æ£€ç´¢çš„å†…å®¹ï¼‰</span>
Â Â Â Â Â Â Â Â missing_evidencesÂ =Â intent_result[<span class="hljs-string">"missing_evidences"</span>]
Â Â Â Â Â Â Â Â num_evidenceÂ =Â <span class="hljs-built_in">len</span>(missing_evidences)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸ºæ¯ä¸ªè¯æ®åˆ†é…Top-Ké…é¢ï¼ˆç¡®ä¿è‡³å°‘è¿”å›1æ¡ï¼‰</span>
Â Â Â Â Â Â Â Â k_per_evidenceÂ =Â <span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>,Â top_kÂ //Â <span class="hljs-built_in">max</span>(<span class="hljs-number">1</span>,Â num_evidence))
Â Â Â Â Â Â Â Â new_candidatesÂ =Â []

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸ºæ¯ä¸ªç¼ºå¤±è¯æ®æ‰§è¡Œæ£€ç´¢</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â itemÂ <span class="hljs-keyword">in</span>Â missing_evidences:
Â Â Â Â Â Â Â Â Â Â Â Â infoÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"user_id"</span>:Â user_id,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"session_id"</span>:Â <span class="hljs-string">""</span>,
Â Â Â Â Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ‰§è¡Œæ£€ç´¢</span>
Â Â Â Â Â Â Â Â Â Â Â Â results:Â <span class="hljs-built_in">list</span>[TextualMemoryItem]Â =Â self.retriever.search(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query=item,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â mem_cube=mem_cube,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â top_k=k_per_evidence,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â method=self.search_method,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â info=info,
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â new_candidates.extend(results)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¿”å›å½“å‰å·¥ä½œå†…å­˜å’Œæ–°æ£€ç´¢åˆ°çš„å€™é€‰å†…å­˜</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â cur_working_memory,Â new_candidates
</code></pre>
<h4 data-id="heading-10">2.2 SchedulerDispatcher</h4>
<p>SchedulerDispatcher è´Ÿè´£å°†æ¶ˆæ¯è·¯ç”±åˆ°å¯¹åº”çš„processorã€‚SchedulerDispatcher ä¸ä½¿ç”¨ä»»ä½•æ¨¡å‹è¿›è¡Œæ¶ˆæ¯åˆ†å‘æˆ–åˆ†ç±»åˆ¤æ–­ã€‚ä¸‹é¢æ˜¯å®ƒçš„å·¥ä½œåŸç†ï¼š</p>
<ul>
<li>è¯¥ç±»æ˜¯åŸºäºçº¿ç¨‹æ± çš„æ¶ˆæ¯åˆ†å‘å™¨ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯æ ¹æ®æ¶ˆæ¯æ ‡ç­¾ï¼ˆlabelï¼‰å°†æ¶ˆæ¯è·¯ç”±åˆ°å¯¹åº”çš„processorï¼Œå®ç°æ¶ˆæ¯çš„å®šå‘æ‰¹é‡å¤„ç†ã€‚</li>
<li>æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼šæ”¯æŒå•ä¸ª / æ‰¹é‡æ³¨å†Œæ¶ˆæ¯processorã€æŒ‰ç”¨æˆ· ID å’Œå†…å­˜ç«‹æ–¹ä½“ ID åˆ†ç»„æ¶ˆæ¯ã€ä¸²è¡Œ / å¹¶è¡Œä¸¤ç§åˆ†å‘æ¨¡å¼ã€ä¼˜é›…å…³é—­å’Œä»»åŠ¡ç›‘æ§ã€‚</li>
<li>ç‰¹è‰²æ˜¯é‡‡ç”¨ä¸Šä¸‹æ–‡æ„ŸçŸ¥çº¿ç¨‹æ± ï¼ˆContextThreadPoolExecutorï¼‰ï¼Œæ”¯æŒå¹¶è¡Œä»»åŠ¡æ‰§è¡Œä»¥æå‡æ•ˆç‡ï¼›æ¶ˆæ¯åˆ†ç»„æœºåˆ¶ä¿è¯åŒç”¨æˆ·åŒå†…å­˜ç«‹æ–¹ä½“çš„æ¶ˆæ¯é›†ä¸­å¤„ç†ï¼Œé¿å…ä¸Šä¸‹æ–‡æ··ä¹±ï¼›å®Œå–„çš„ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆå–æ¶ˆã€ç­‰å¾…ã€å¼‚å¸¸æ•è·ï¼‰ç¡®ä¿ç³»ç»Ÿç¨³å®šã€‚</li>
</ul>
<h5 data-id="heading-11">2.2.1 åˆ†å‘é€»è¾‘</h5>
<p>SchedulerDispatcher æ˜¯åŸºäºæ¶ˆæ¯æ ‡ç­¾è¿›è¡Œæ“ä½œçš„ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä»»ä½•æœºå™¨å­¦ä¹ æ¨¡å‹æˆ–å¤§è¯­è¨€æ¨¡å‹è¿›è¡Œåˆ†ç±»ï¼Œå…·ä½“åˆ†å‘é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>æ¶ˆæ¯åˆ†ç»„ï¼šå°†æ¶ˆæ¯æŒ‰æ ‡ç­¾è¿›è¡Œåˆ†ç»„ã€‚</p>
</li>
<li>
<p>processoræŸ¥æ‰¾ï¼šä¾æ®æ ‡ç­¾æŸ¥æ‰¾æ³¨å†Œçš„processorã€‚å¤„ç†å‡½æ•°åœ¨åˆå§‹åŒ–æ—¶è¢«æ˜ç¡®æ³¨å†Œã€‚</p>
</li>
<li>
<p>æ‰§è¡Œæ¨¡å¼ï¼š</p>
<ul>
<li>ä¸²è¡Œæ¨¡å¼ï¼šç›´æ¥è°ƒç”¨processor</li>
<li>å¹¶è¡Œæ¨¡å¼ï¼šé€šè¿‡çº¿ç¨‹æ± å¼‚æ­¥æ‰§è¡Œ</li>
</ul>
</li>
</ul>
<p>æ¶ˆæ¯é€šè¿‡å…¶æ ‡ç­¾å±æ€§è¿›è¡Œåˆ†å‘</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">ScheduleMessageItem</span>:
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â label:Â <span class="hljs-built_in">str</span>,Â content:Â <span class="hljs-built_in">str</span>,Â ...</span>):
Â Â Â Â Â Â Â Â self.labelÂ =Â labelÂ Â <span class="hljs-comment">#Â åˆ†å‘é”®</span>
Â Â Â Â Â Â Â Â self.contentÂ =Â content
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ...Â å…¶ä»–å±æ€§</span>
</code></pre>
<p>è°ƒåº¦å™¨ä½¿ç”¨ç®€å•çš„å­—å…¸æŸ¥æ‰¾æ¥è·¯ç”±æ¶ˆæ¯åˆ°å¤„ç†å‡½æ•°ï¼Œåœ¨ SchedulerDispatcher.dispatch() ä¸­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">label_groups</span>Â =Â defaultdict(list)
forÂ messageÂ inÂ msg_list:
Â Â Â Â label_groups<span class="hljs-section">[message.label]</span>.append(message)Â Â <span class="hljs-comment">#Â æŒ‰æ ‡ç­¾åˆ†ç»„</span>

forÂ label,Â msgsÂ inÂ label_groups.items():
Â Â Â Â <span class="hljs-attr">handler</span>Â =Â self.handlers.get(label,Â self._default_message_handler)
Â Â Â Â handler(msgs)Â Â <span class="hljs-comment">#Â åŸºäºæ ‡ç­¾ç›´æ¥è°ƒç”¨å‡½æ•°</span>
</code></pre>
<p>å½“å¯ç”¨å¹¶è¡Œåˆ†å‘æ—¶ï¼Œä¹Ÿåªæ˜¯å¹¶è¡Œæ‰§è¡Œå¤„ç†å‡½æ•°ï¼Œä½†ä»ä¸ä½¿ç”¨æ¨¡å‹è¿›è¡Œè·¯ç”±ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span>Â self.enable_parallel_dispatchÂ <span class="hljs-keyword">and</span>Â self.dispatcher_executorÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â futureÂ =Â self.dispatcher_executor.submit(handler,Â msgs)Â Â <span class="hljs-comment">#Â å¹¶è¡Œæ‰§è¡Œ</span>
</code></pre>
<p>æ¶ˆæ¯æµç¨‹ç¤ºä¾‹</p>
<pre><code class="hljs language-arduino" lang="arduino">ä¼ å…¥æ¶ˆæ¯
â”œâ”€â”€Â å¸¦æœ‰æ ‡ç­¾çš„æ¶ˆæ¯Â <span class="hljs-string">"query"</span>
â”‚Â Â Â Â Â Â Â â”œâ”€â”€Â æ²¡æœ‰æ¨¡å‹å‚ä¸ç¡®å®šä½¿ç”¨å“ªä¸ªå¤„ç†å‡½æ•°
â”‚Â Â Â Â Â Â Â â”‚
â”‚Â Â Â Â Â Â Â â”œâ”€â”€Â æŒ‰æ ‡ç­¾åˆ†ç»„
â”‚Â Â Â Â Â Â Â â”‚
â”‚Â Â Â Â Â Â Â â””â”€â”€Â æŸ¥æ‰¾Â <span class="hljs-string">"query"</span>Â å¤„ç†å‡½æ•°
â”‚Â Â Â Â Â Â Â Â Â Â Â â”œâ”€â”€Â è°ƒç”¨å·²æ³¨å†Œçš„Â _query_message_consumerÂ å‡½æ•°ç›´æ¥è°ƒç”¨
â”‚
â””â”€â”€Â å¹¶è¡Œå¤„ç†ï¼ˆå¦‚æœå¯ç”¨ï¼‰
</code></pre>
<h5 data-id="heading-12">2.2.2 æµç¨‹</h5>
<p>SchedulerDispatcherçš„æµç¨‹å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72baa10ecb074c20bcd83eb8325dcae9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767011233&amp;x-signature=QM4TR0FenXbmB1QYPpU%2BZswUP%2Fg%3D" alt="MemScheduler-7-3" loading="lazy"/></p>
<p>MemScheduler-7-3</p>
<h5 data-id="heading-13">2.2.3 ä»£ç </h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SchedulerDispatcher</span>(<span class="hljs-title class_ inherited__">BaseSchedulerModule</span>):
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â åŸºäºçº¿ç¨‹æ± çš„æ¶ˆæ¯åˆ†å‘å™¨ï¼Œæ ¹æ®æ¶ˆæ¯æ ‡ç­¾å°†æ¶ˆæ¯è·¯ç”±åˆ°ä¸“ç”¨processorã€‚

Â Â Â Â ç‰¹æ€§ï¼š
Â Â Â Â -Â æ¯ä¸ªæ¶ˆæ¯æ ‡ç­¾å¯¹åº”ç‹¬ç«‹çš„çº¿ç¨‹æ± å¤„ç†é€»è¾‘
Â Â Â Â -Â æ”¯æŒæ‰¹é‡æ¶ˆæ¯å¤„ç†
Â Â Â Â -Â æ”¯æŒä¼˜é›…å…³é—­
Â Â Â Â -Â æ”¯æŒæ‰¹é‡æ³¨å†Œprocessor
Â Â Â Â """</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â max_workers=<span class="hljs-number">30</span>,Â enable_parallel_dispatch=<span class="hljs-literal">False</span></span>):
Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__()
Â Â Â Â Â Â Â Â self.max_workersÂ =Â max_workersÂ Â <span class="hljs-comment">#Â çº¿ç¨‹æ± æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»…åœ¨å¹¶è¡Œæ¨¡å¼ä¸‹åˆå§‹åŒ–çº¿ç¨‹æ± </span>
Â Â Â Â Â Â Â Â self.enable_parallel_dispatchÂ =Â enable_parallel_dispatch
Â Â Â Â Â Â Â Â self.thread_name_prefixÂ =Â <span class="hljs-string">"dispatcher"</span>Â Â <span class="hljs-comment">#Â çº¿ç¨‹åç§°å‰ç¼€</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.enable_parallel_dispatch:
Â Â Â Â Â Â Â Â Â Â Â Â self.dispatcher_executorÂ =Â ContextThreadPoolExecutor(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â max_workers=self.max_workers,Â thread_name_prefix=self.thread_name_prefix
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â self.dispatcher_executorÂ =Â <span class="hljs-literal">None</span>Â Â <span class="hljs-comment">#Â ä¸²è¡Œæ¨¡å¼ä¸‹çº¿ç¨‹æ± ä¸ºNone</span>

Â Â Â Â Â Â Â Â self.handlers:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Callable</span>]Â =Â {}Â Â <span class="hljs-comment">#Â å·²æ³¨å†Œçš„æ¶ˆæ¯processorï¼ˆæ ‡ç­¾â†’processoræ˜ å°„ï¼‰</span>
Â Â Â Â Â Â Â Â self._runningÂ =Â <span class="hljs-literal">False</span>Â Â <span class="hljs-comment">#Â åˆ†å‘å™¨è¿è¡ŒçŠ¶æ€æ ‡è¯†</span>
Â Â Â Â Â Â Â Â self._futuresÂ =Â <span class="hljs-built_in">set</span>()Â Â <span class="hljs-comment">#Â ç”¨äºç›‘æ§çš„æ´»è·ƒä»»åŠ¡é›†åˆ</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">register_handler</span>(<span class="hljs-params">self,Â label:Â <span class="hljs-built_in">str</span>,Â handler:Â <span class="hljs-type">Callable</span>[[<span class="hljs-built_in">list</span>[ScheduleMessageItem]],Â <span class="hljs-literal">None</span>]</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â ä¸ºç‰¹å®šæ¶ˆæ¯æ ‡ç­¾æ³¨å†Œprocessorå‡½æ•°ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â label:Â è¦å¤„ç†çš„æ¶ˆæ¯æ ‡ç­¾
Â Â Â Â Â Â Â Â Â Â Â Â handler:Â å¤„ç†è¯¥æ ‡ç­¾æ¶ˆæ¯çš„å¯è°ƒç”¨å¯¹è±¡ï¼Œæ¥æ”¶æ¶ˆæ¯åˆ—è¡¨ä½œä¸ºå‚æ•°
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â self.handlers[label]Â =Â handler

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">register_handlers</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,Â handlers:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-type">Callable</span>[[<span class="hljs-built_in">list</span>[ScheduleMessageItem]],Â <span class="hljs-literal">None</span>]]
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â ä»å­—å…¸ä¸­æ‰¹é‡æ³¨å†Œå¤šä¸ªprocessorã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â handlers:Â æ ‡ç­¾åˆ°processorå‡½æ•°çš„æ˜ å°„å­—å…¸ï¼Œæ ¼å¼ï¼š{æ ‡ç­¾:Â processorå¯è°ƒç”¨å¯¹è±¡}
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â label,Â handlerÂ <span class="hljs-keyword">in</span>Â handlers.items():
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éªŒè¯æ ‡ç­¾ç±»å‹ï¼ˆå¿…é¡»ä¸ºå­—ç¬¦ä¸²ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-built_in">isinstance</span>(label,Â <span class="hljs-built_in">str</span>):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éªŒè¯processoræ˜¯å¦å¯è°ƒç”¨</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-built_in">callable</span>(handler):
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">continue</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ³¨å†Œå•ä¸ªprocessor</span>
Â Â Â Â Â Â Â Â Â Â Â Â self.register_handler(label=label,Â handler=handler)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_default_message_handler</span>(<span class="hljs-params">self,Â messages:Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""é»˜è®¤æ¶ˆæ¯processorï¼ˆå½“æ‰¾ä¸åˆ°å¯¹åº”æ ‡ç­¾çš„processoræ—¶ä½¿ç”¨ï¼‰"""</span>
Â Â Â Â Â Â Â Â logger.debug(<span class="hljs-string">f"ä½¿ç”¨é»˜è®¤æ¶ˆæ¯processorå¤„ç†æ¶ˆæ¯ï¼š<span class="hljs-subst">{messages}</span>"</span>)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">group_messages_by_user_and_cube</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,Â messages:Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]]]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â å°†æ¶ˆæ¯æŒ‰ç”¨æˆ·IDå’Œå†…å­˜ç«‹æ–¹ä½“IDåˆ†ç»„ï¼Œç”ŸæˆåµŒå¥—å­—å…¸ç»“æ„ã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â messages:Â è¦åˆ†ç»„çš„ScheduleMessageItemå¯¹è±¡åˆ—è¡¨

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â åµŒå¥—å­—å…¸ï¼Œç»“æ„å¦‚ä¸‹ï¼š
Â Â Â Â Â Â Â Â Â Â Â Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "user_id_1":Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "mem_cube_id_1":Â [æ¶ˆæ¯1,Â æ¶ˆæ¯2,Â ...],
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "mem_cube_id_2":Â [æ¶ˆæ¯3,Â æ¶ˆæ¯4,Â ...],
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ...
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "user_id_2":Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ...
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ...
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â Â Â Â Â å…¶ä¸­æ¯ä¸ªæ¶ˆæ¯ä¿æŒåŸå§‹ScheduleMessageItemå¯¹è±¡
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–åµŒå¥—é»˜è®¤å­—å…¸ï¼ˆè‡ªåŠ¨åˆ›å»ºä¸å­˜åœ¨çš„é”®ï¼‰</span>
Â Â Â Â Â Â Â Â grouped_dictÂ =Â defaultdict(<span class="hljs-keyword">lambda</span>:Â defaultdict(<span class="hljs-built_in">list</span>))

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰ç”¨æˆ·IDâ†’å†…å­˜ç«‹æ–¹ä½“IDçš„å±‚çº§åˆ†ç»„æ¶ˆæ¯</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â msgÂ <span class="hljs-keyword">in</span>Â messages:
Â Â Â Â Â Â Â Â Â Â Â Â grouped_dict[msg.user_id][msg.mem_cube_id].append(msg)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å°†é»˜è®¤å­—å…¸è½¬æ¢ä¸ºæ™®é€šå­—å…¸ï¼Œè¾“å‡ºæ›´ç®€æ´</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â {user_id:Â <span class="hljs-built_in">dict</span>(cube_groups)Â <span class="hljs-keyword">for</span>Â user_id,Â cube_groupsÂ <span class="hljs-keyword">in</span>Â grouped_dict.items()}

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">_handle_future_result</span>(<span class="hljs-params">self,Â future:Â Future</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""å¤„ç†å¼‚æ­¥ä»»åŠ¡ç»“æœï¼Œæ•è·å¼‚å¸¸å¹¶æ¸…ç†ä»»åŠ¡é›†åˆ"""</span>
Â Â Â Â Â Â Â Â self._futures.remove(future)Â Â <span class="hljs-comment">#Â ä»æ´»è·ƒä»»åŠ¡é›†åˆä¸­ç§»é™¤å·²å®Œæˆä»»åŠ¡</span>
Â Â Â Â Â Â Â Â Â future.result()Â Â <span class="hljs-comment">#Â è·å–ä»»åŠ¡ç»“æœï¼Œè§¦å‘å¯èƒ½çš„å¼‚å¸¸</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">dispatch</span>(<span class="hljs-params">self,Â msg_list:Â <span class="hljs-built_in">list</span>[ScheduleMessageItem]</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â å°†æ¶ˆæ¯åˆ—è¡¨åˆ†å‘åˆ°å¯¹åº”çš„processorã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â msg_list:Â è¦å¤„ç†çš„ScheduleMessageItemå¯¹è±¡åˆ—è¡¨
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â msg_list:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æŒ‰æ¶ˆæ¯æ ‡ç­¾åˆ†ç»„ï¼ˆåŒä¸€æ ‡ç­¾çš„æ¶ˆæ¯äº¤ç»™åŒä¸€ä¸ªprocessorï¼‰</span>
Â Â Â Â Â Â Â Â label_groupsÂ =Â defaultdict(<span class="hljs-built_in">list</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â messageÂ <span class="hljs-keyword">in</span>Â msg_list:
Â Â Â Â Â Â Â Â Â Â Â Â label_groups[message.label].append(message)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¤„ç†æ¯ä¸ªæ ‡ç­¾å¯¹åº”çš„æ¶ˆæ¯ç»„</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â label,Â msgsÂ <span class="hljs-keyword">in</span>Â label_groups.items():
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–è¯¥æ ‡ç­¾å¯¹åº”çš„processorï¼Œæ— åˆ™ä½¿ç”¨é»˜è®¤processor</span>
Â Â Â Â Â Â Â Â Â Â Â Â handlerÂ =Â self.handlers.get(label,Â self._default_message_handler)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¹¶è¡Œæ¨¡å¼ï¼šæäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± å¼‚æ­¥æ‰§è¡Œ</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.enable_parallel_dispatchÂ <span class="hljs-keyword">and</span>Â self.dispatcher_executorÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æäº¤ä»»åŠ¡åˆ°çº¿ç¨‹æ± ï¼Œæ•è·å˜é‡é¿å…å¾ªç¯å¼•ç”¨é—®é¢˜</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â futureÂ =Â self.dispatcher_executor.submit(handler,Â msgs)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â self._futures.add(future)Â Â <span class="hljs-comment">#Â å°†ä»»åŠ¡æ·»åŠ åˆ°æ´»è·ƒä»»åŠ¡é›†åˆ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç»‘å®šä»»åŠ¡å®Œæˆå›è°ƒå‡½æ•°</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â future.add_done_callback(self._handle_future_result)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â logger.info(<span class="hljs-string">f"å·²å°†Â <span class="hljs-subst">{<span class="hljs-built_in">len</span>(msgs)}</span>Â æ¡æ¶ˆæ¯ä½œä¸ºå¼‚æ­¥ä»»åŠ¡åˆ†å‘"</span>)
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸²è¡Œæ¨¡å¼ï¼šç›´æ¥è°ƒç”¨processoråŒæ­¥æ‰§è¡Œ</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â handler(msgs)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">join</span>(<span class="hljs-params">self,Â timeout:Â <span class="hljs-built_in">float</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span></span>)Â -&gt;Â <span class="hljs-built_in">bool</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""ç­‰å¾…æ‰€æœ‰å·²åˆ†å‘ä»»åŠ¡å®Œæˆã€‚

Â Â Â Â Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â Â Â Â Â timeout:Â æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰ï¼ŒNoneè¡¨ç¤ºæ— é™ç­‰å¾…

Â Â Â Â Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â Â Â Â Â bool:Â æ‰€æœ‰ä»»åŠ¡å®Œæˆè¿”å›Trueï¼Œè¶…æ—¶è¿”å›False
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸²è¡Œæ¨¡å¼ä¸‹æ— å¼‚æ­¥ä»»åŠ¡ï¼Œç›´æ¥è¿”å›True</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â self.enable_parallel_dispatchÂ <span class="hljs-keyword">or</span>Â self.dispatcher_executorÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-literal">True</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç­‰å¾…æ‰€æœ‰æ´»è·ƒä»»åŠ¡å®Œæˆ</span>
Â Â Â Â Â Â Â Â done,Â not_doneÂ =Â concurrent.futures.wait(
Â Â Â Â Â Â Â Â Â Â Â Â self._futures,Â timeout=timeout,Â return_when=concurrent.futures.ALL_COMPLETED
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€æŸ¥å·²å®Œæˆä»»åŠ¡ä¸­çš„å¼‚å¸¸</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â futureÂ <span class="hljs-keyword">in</span>Â done:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â future.result()
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â Exception:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â logger.error(<span class="hljs-string">"å…³é—­è¿‡ç¨‹ä¸­processoræ‰§è¡Œå¤±è´¥"</span>,Â exc_info=<span class="hljs-literal">True</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¿”å›æ˜¯å¦æ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆ</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-built_in">len</span>(not_done)Â ==Â <span class="hljs-number">0</span>
</code></pre>
<h4 data-id="heading-14">2.3 SchedulerRetriever</h4>
<p>SchedulerRetriever æ˜¯MemOSä¸­è´Ÿè´£è®°å¿†æ£€ç´¢å’Œé‡æ’åºçš„æ ¸å¿ƒæ¨¡å—ï¼Œæ˜¯è¿æ¥æŸ¥è¯¢å’Œè®°å¿†å­˜å‚¨çš„å…³é”®æ¡¥æ¢ï¼Œè´Ÿè´£ç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿå‡†ç¡®ã€é«˜æ•ˆåœ°æ£€ç´¢å’Œæ’åºç›¸å…³è®°å¿†ã€‚</p>
<p>å†…å­˜æ£€ç´¢ä¸æ¨ç†çš„æœ¬è´¨æ˜¯ï¼šåœ¨æ­£ç¡®æ—¶é—´æ‰¾åˆ°æ­£ç¡®ä¿¡æ¯ã€‚</p>
<h5 data-id="heading-15">2.3.1 åŠŸèƒ½</h5>
<p>SchedulerRetriever çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>è®°å¿†æ£€ç´¢åŠŸèƒ½</p>
<ul>
<li>
<p>æœç´¢å®ç°ï¼šé€šè¿‡ search æ–¹æ³•åœ¨æ–‡æœ¬è®°å¿†åº“ä¸­æŸ¥æ‰¾ä¸æŸ¥è¯¢ç›¸å…³çš„è®°å¿†é¡¹</p>
</li>
<li>
<p>æ”¯æŒå¤šç§æœç´¢æ¨¡å¼ï¼š</p>
<ul>
<li>å¿«é€Ÿæœç´¢ï¼ˆfast modeï¼‰</li>
<li>ç²¾ç»†æœç´¢ï¼ˆfine modeï¼‰</li>
<li>å¤šç±»å‹è®°å¿†æ£€ç´¢ï¼šåŒæ—¶æœç´¢é•¿æœŸè®°å¿†å’Œç”¨æˆ·è®°å¿†</li>
</ul>
</li>
</ul>
</li>
<li>
<p>è®°å¿†é‡æ’åº</p>
<ul>
<li>LLMè¾…åŠ©é‡æ’åºï¼šä½¿ç”¨ rerank_memories æ–¹æ³•é€šè¿‡å¤§è¯­è¨€æ¨¡å‹å¯¹æ£€ç´¢åˆ°çš„è®°å¿†è¿›è¡Œé‡æ–°æ’åº</li>
<li>æ™ºèƒ½ç›¸å…³æ€§åˆ¤æ–­ï¼šåŸºäºæŸ¥è¯¢å†…å®¹åˆ¤æ–­è®°å¿†çš„ç›¸å…³æ€§ï¼Œæå‡è®°å¿†ä½¿ç”¨çš„å‡†ç¡®æ€§</li>
</ul>
</li>
<li>
<p>è®°å¿†å¤„ç†ä¸è¿‡æ»¤</p>
<ul>
<li>è®°å¿†å»é‡ï¼šä½¿ç”¨ filter_vector_based_similar_memories è¿‡æ»¤è¿‡äºç›¸ä¼¼çš„è®°å¿†é¡¹</li>
<li>é•¿åº¦è¿‡æ»¤ï¼šä½¿ç”¨ filter_too_short_memories ç§»é™¤è¿‡çŸ­çš„è®°å¿†é¡¹</li>
<li>æ— å…³è®°å¿†è¿‡æ»¤ï¼šé€šè¿‡ filter_unrelated_memories ç§»é™¤ä¸å½“å‰æŸ¥è¯¢å†å²æ— å…³çš„è®°å¿†</li>
<li>å†—ä½™è®°å¿†è¿‡æ»¤ï¼šé€šè¿‡ filter_redundant_memories ç§»é™¤é‡å¤çš„è®°å¿†é¡¹</li>
</ul>
</li>
<li>
<p>è®°å¿†æ•´åˆï¼šåœ¨ process_and_rerank_memories æ–¹æ³•ä¸­æ•´åˆåŸå§‹è®°å¿†å’Œæ–°æ£€ç´¢çš„è®°å¿†ï¼Œè¿›è¡Œç»Ÿä¸€å¤„ç†</p>
</li>
</ul>
<h5 data-id="heading-16">2.3.2 è¯¦ç»†æ­¥éª¤è¯´æ˜</h5>
<p>SchedulerRetriever çš„è¯¦ç»†æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>æœç´¢é˜¶æ®µï¼šæ ¹æ®æŸ¥è¯¢åœ¨ TreeTextMemory ä¸­æœç´¢ç›¸å…³è®°å¿†é¡¹</li>
<li>åˆå¹¶é˜¶æ®µï¼šå°†åŸå§‹è®°å¿†å’Œæ–°æ£€ç´¢çš„è®°å¿†åˆå¹¶æˆä¸€ä¸ªåˆ—è¡¨</li>
<li>ç›¸ä¼¼åº¦è¿‡æ»¤ï¼šä½¿ç”¨ç›¸ä¼¼åº¦ç§»é™¤è¿‡äºç›¸ä¼¼çš„è®°å¿†é¡¹</li>
<li>é•¿åº¦è¿‡æ»¤ï¼šç§»é™¤è¿‡çŸ­çš„è®°å¿†é¡¹ï¼ˆé»˜è®¤é˜ˆå€¼ä¸º6ä¸ªå­—ç¬¦ï¼‰</li>
<li>å»é‡å¤„ç†ï¼šç¡®ä¿è®°å¿†é¡¹å”¯ä¸€æ€§ï¼ŒåŒæ—¶ä¿æŒåŸæœ‰é¡ºåº</li>
<li>LLMé‡æ’åºï¼šåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹æ ¹æ®æŸ¥è¯¢ç›¸å…³æ€§å¯¹è®°å¿†è¿›è¡Œé‡æ–°æ’åº</li>
<li>æ— å…³è®°å¿†è¿‡æ»¤ï¼šç§»é™¤ä¸æŸ¥è¯¢å†å²æ— å…³çš„è®°å¿†é¡¹</li>
<li>è¿”å›ç»“æœï¼šè¿”å›ä¼˜åŒ–åçš„è®°å¿†åˆ—è¡¨ä¾›ç³»ç»Ÿä½¿ç”¨</li>
</ul>
<h5 data-id="heading-17">2.3.3 è°ƒç”¨å…³ç³»</h5>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸šç•Œçš„<strong>æ£€ç´¢æ—¶æœº</strong>æœ‰ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼š</p>
<ul>
<li><strong>ä¸»åŠ¨æ£€ç´¢</strong>ï¼šåœ¨æ¯è½®å¼€å§‹æ—¶è‡ªåŠ¨åŠ è½½è®°å¿†ï¼Œç¡®ä¿ä¸Šä¸‹æ–‡å§‹ç»ˆå¯ç”¨ï¼Œä½†ä¼šä¸ºä¸éœ€è¦è®°å¿†è®¿é—®çš„è½®æ¬¡å¼•å…¥ä¸å¿…è¦å»¶è¿Ÿ</li>
<li><strong>ååº”å¼æ£€ç´¢</strong>ï¼ˆå†…å­˜å³å·¥å…·ï¼‰ï¼šä»£ç†è¢«èµ‹äºˆæŸ¥è¯¢è®°å¿†çš„å·¥å…·ï¼Œè‡ªè¡Œå†³å®šä½•æ—¶æ£€ç´¢ä¸Šä¸‹æ–‡ï¼Œæ›´é«˜æ•ˆä½†éœ€è¦é¢å¤–LLMè°ƒç”¨</li>
</ul>
<p>SchedulerRetriever ä½œä¸º BaseScheduler çš„æ ¸å¿ƒç»„ä»¶ï¼Œä¸»è¦åœ¨å¤„ç†ç”¨æˆ·æŸ¥è¯¢å’Œæ›´æ–°å·¥ä½œè®°å¿†æ—¶è¢«è°ƒç”¨ï¼Œè´Ÿè´£è®°å¿†çš„æ£€ç´¢ã€å¤„ç†ã€é‡æ’åºå’Œè¿‡æ»¤ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå…·ä½“åœºæ™¯ä¸ºï¼š</p>
<ul>
<li>åˆå§‹åŒ–ï¼šåœ¨BaseScheduler çš„initialize_modulesä¸­å»ºç«‹SchedulerRetriever å®ä¾‹ã€‚</li>
<li>æŸ¥è¯¢å¤„ç†ï¼šå½“ GeneralScheduler æ¥æ”¶åˆ° QUERY_LABEL æ¶ˆæ¯æ—¶ï¼Œè°ƒç”¨ process_session_turn æ–¹æ³•è§¦å‘ self.retriever.search() æ¥æ£€ç´¢ç›¸å…³è®°å¿†ã€‚</li>
<li>å·¥ä½œè®°å¿†æ›´æ–°ï¼šåœ¨ replace_working_memory è¿‡ç¨‹ä¸­å¯¹å€™é€‰è®°å¿†è¿›è¡Œå¤„ç†å’Œé‡æ’åº</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">â””â”€â”€Â GeneralScheduler<span class="hljs-selector-class">._query_message_consumer</span>()
Â Â â””â”€â”€Â BaseScheduler<span class="hljs-selector-class">.process_session_turn</span>()
Â Â Â Â Â Â â””â”€â”€Â SchedulerRetriever<span class="hljs-selector-class">.search</span>()Â --------&gt;Â æ£€ç´¢ç›¸å…³è®°å¿†

â””â”€â”€Â BaseScheduler<span class="hljs-selector-class">.replace_working_memory</span>()
Â Â â””â”€â”€Â SchedulerRetriever<span class="hljs-selector-class">.process_and_rerank_memories</span>()Â ------&gt;Â å¤„ç†å’Œé‡æ’åºè®°å¿†
Â Â Â Â Â Â â””â”€â”€SchedulerRetriever<span class="hljs-selector-class">.filter_unrelated_memories</span>()Â -----&gt;Â è¿‡æ»¤æ— å…³è®°å¿†
</code></pre>
<h5 data-id="heading-18">2.3.4 å®ç°</h5>
<h6 data-id="heading-19">è®°å¿†æ£€ç´¢æµç¨‹ï¼ˆsearch æ–¹æ³•ï¼‰</h6>
<p>ä½œä¸ºå¯¹æ¯”ï¼Œä»ä¸šç•Œè§’åº¦çœ‹ï¼Œä¸€èˆ¬ä¼šä»å¤šä¸ªç»´åº¦è¯„ä¼°æ½œåœ¨è®°å¿†ï¼Œå•çº¯ä¾èµ–åŸºäºå‘é‡çš„ç›¸å…³æ€§æ˜¯å¸¸è§é™·é˜±ã€‚ç›¸ä¼¼æ€§å¾—åˆ†å¯èƒ½æ‰¾å‡ºæ¦‚å¿µç›¸ä¼¼ä½†è¿‡æ—¶æˆ–çç¢çš„è®°å¿†ã€‚æœ€æœ‰æ•ˆç­–ç•¥æ˜¯ç»“åˆæ‰€æœ‰ä¸‰ä¸ªç»´åº¦çš„æ··åˆæ–¹æ³•ï¼š</p>
<ul>
<li><strong>ç›¸å…³æ€§</strong>ï¼ˆè¯­ä¹‰ç›¸ä¼¼æ€§ï¼‰ï¼šä¸å½“å‰å¯¹è¯çš„æ¦‚å¿µå…³è”åº¦</li>
<li><strong>æ–°é²œåº¦</strong>ï¼ˆåŸºäºæ—¶é—´ï¼‰ï¼šè®°å¿†åˆ›å»ºçš„æ—¶é—´è¿œè¿‘</li>
<li><strong>é‡è¦æ€§</strong>ï¼ˆæ˜¾è‘—æ€§ï¼‰ï¼šè®°å¿†çš„æ•´ä½“å…³é”®ç¨‹åº¦</li>
</ul>
<p>SchedulerRetrieverçš„ searchæ–¹æ³•ä¼š è°ƒç”¨TreeTextMemoryçš„åŠŸèƒ½æ¥è¿›è¡Œæœç´¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b481cf8e011f472a93424e1e15ebcf75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767011233&amp;x-signature=vlJ44ps50w2OktbWa8%2FP72Vmhds%3D" alt="MemScheduler-7-4" loading="lazy"/></p>
<p>MemScheduler-7-4</p>
<h6 data-id="heading-20">è®°å¿†å…¨æµç¨‹å¤„ç†ä¸é‡æ’ï¼ˆprocess_and_rerank_memories æ–¹æ³•ï¼‰</h6>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60961cfd9ddc4878b29ef610db7835ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767011233&amp;x-signature=hFyWesdUUFA1SLK85KM1y9ovhJA%3D" alt="MemScheduler-7-5" loading="lazy"/></p>
<p>MemScheduler-7-5</p>
<h6 data-id="heading-21">LLM è®°å¿†é‡æ’æµç¨‹ï¼ˆrerank_memories æ–¹æ³•ï¼‰</h6>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbc35684fd284404a9c275d6bf56cd1e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767011233&amp;x-signature=Sbr9MiAczBUq0rFkB5%2BXweQCcTk%3D" alt="MemScheduler-7-6" loading="lazy"/></p>
<p>MemScheduler-7-6</p>
<h6 data-id="heading-22">ä»£ç </h6>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">SchedulerRetriever</span>(<span class="hljs-title class_ inherited__">BaseSchedulerModule</span>):
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â MemOSÂ è®°å¿†æ£€ç´¢ä¸ä¼˜åŒ–è°ƒåº¦å™¨
Â Â Â Â æ ¸å¿ƒåŠŸèƒ½ï¼šæ£€ç´¢æ ‘çŠ¶æ–‡æœ¬å†…å­˜ã€åˆå¹¶æ–°æ—§è®°å¿†ã€å¤šç»´åº¦è¿‡æ»¤ã€LLMÂ æ™ºèƒ½é‡æ’ï¼Œä¸ºÂ AgentÂ æä¾›ç²¾å‡†è®°å¿†æ”¯æŒ
Â Â Â Â ç»§æ‰¿è‡ªÂ BaseSchedulerModuleï¼Œéµå¾ªÂ MemOSÂ è°ƒåº¦å™¨æ¨¡å—ç»Ÿä¸€æ¥å£è§„èŒƒ
Â Â Â Â """</span>
Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â process_llm:Â BaseLLM,Â config:Â BaseSchedulerConfig</span>):
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â åˆå§‹åŒ–æ£€ç´¢è°ƒåº¦å™¨å®ä¾‹
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â process_llm:Â ç”¨äºè®°å¿†é‡æ’çš„Â LLMÂ å®ä¾‹ï¼ˆBaseLLMÂ åŸºç±»å¯¹è±¡ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â config:Â è°ƒåº¦å™¨é…ç½®å¯¹è±¡ï¼ˆBaseSchedulerConfigÂ åŸºç±»ï¼ŒåŒ…å«è¿‡æ»¤ã€æ£€ç´¢ç­‰å‚æ•°ï¼‰
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__()Â Â <span class="hljs-comment">#Â è°ƒç”¨çˆ¶ç±»Â BaseSchedulerModuleÂ çš„åˆå§‹åŒ–æ–¹æ³•</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¶…å‚æ•°é…ç½®ï¼šè®°å¿†è¿‡æ»¤é˜ˆå€¼</span>
Â Â Â Â Â Â Â Â self.filter_similarity_thresholdÂ =Â <span class="hljs-number">0.75</span>Â Â <span class="hljs-comment">#Â ç›¸ä¼¼åº¦è¿‡æ»¤é˜ˆå€¼ï¼ˆâ‰¥0.75Â çš„è®°å¿†è§†ä¸ºé‡å¤ï¼‰</span>
Â Â Â Â Â Â Â Â self.filter_min_length_thresholdÂ =Â <span class="hljs-number">6</span>Â Â Â Â Â <span class="hljs-comment">#Â é•¿åº¦è¿‡æ»¤é˜ˆå€¼ï¼ˆå­—ç¬¦æ•°ï¼œ6Â çš„è®°å¿†è§†ä¸ºè¿‡çŸ­ï¼Œå°†è¢«è¿‡æ»¤ï¼‰</span>

Â Â Â Â Â Â Â Â self.config:Â BaseSchedulerConfigÂ =Â configÂ Â <span class="hljs-comment">#Â ä¿å­˜è°ƒåº¦å™¨é…ç½®</span>
Â Â Â Â Â Â Â Â self.process_llmÂ =Â process_llmÂ Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¿å­˜ç”¨äºé‡æ’çš„Â LLMÂ å®ä¾‹</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–è®°å¿†è¿‡æ»¤å™¨ï¼šå§”æ‰˜å¤„ç†ã€Œæ— å…³è®°å¿†ã€å’Œã€Œå†—ä½™è®°å¿†ã€è¿‡æ»¤é€»è¾‘</span>
Â Â Â Â Â Â Â Â self.memory_filterÂ =Â MemoryFilter(process_llm=process_llm,Â config=config)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">search</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â query:Â <span class="hljs-built_in">str</span>,
Â Â Â Â Â Â Â Â mem_cube:Â GeneralMemCube,
Â Â Â Â Â Â Â Â top_k:Â <span class="hljs-built_in">int</span>,
Â Â Â Â Â Â Â Â method:Â <span class="hljs-built_in">str</span>Â =Â TreeTextMemory_SEARCH_METHOD,
Â Â Â Â Â Â Â Â info:Â <span class="hljs-built_in">dict</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span>,
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-built_in">list</span>[TextualMemoryItem]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â æ ¹æ®æŸ¥è¯¢è¯­å¥åœ¨æ–‡æœ¬å†…å­˜ä¸­æ£€ç´¢ç›¸å…³è®°å¿†
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â query:Â æ£€ç´¢æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆå¦‚Â AgentÂ çš„å½“å‰å¯¹è¯æŸ¥è¯¢ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â mem_cube:Â è®°å¿†ç«‹æ–¹ä½“ï¼ˆGeneralMemCubeï¼ŒMemOSÂ ä¸­å­˜å‚¨å„ç±»è®°å¿†çš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â top_k:Â è¿”å›çš„Top-KÂ ç›¸å…³è®°å¿†æ•°é‡
Â Â Â Â Â Â Â Â Â Â Â Â method:Â æ£€ç´¢æ–¹æ³•ï¼ˆé»˜è®¤ä½¿ç”¨Â TreeTextMemoryÂ çš„æ ‡å‡†æœç´¢æ–¹æ³•ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â info:Â æ£€ç´¢é™„åŠ ä¿¡æ¯ï¼ˆéœ€åŒ…å«Â user_idã€session_idï¼Œç”¨äºè®°å½•è®°å¿†ä½¿ç”¨å†å²ï¼‰

Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â æ£€ç´¢åˆ°çš„æ–‡æœ¬å‹è®°å¿†é¡¹åˆ—è¡¨ï¼ˆlist[TextualMemoryItem]ï¼‰ï¼›æ£€ç´¢å¤±è´¥è¿”å›ç©ºåˆ—è¡¨
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â text_mem_baseÂ =Â mem_cube.text_memÂ Â <span class="hljs-comment">#Â ä»è®°å¿†ç«‹æ–¹ä½“ä¸­æå–æ–‡æœ¬å†…å­˜æ ¸å¿ƒå®ä¾‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»…æ”¯æŒÂ TreeTextMemoryÂ çš„ä¸¤ç§æ£€ç´¢æ–¹æ³•</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â methodÂ <span class="hljs-keyword">in</span>Â [TreeTextMemory_SEARCH_METHOD,Â TreeTextMemory_FINE_SEARCH_METHOD]:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–­è¨€æ–‡æœ¬å†…å­˜ç±»å‹ä¸ºÂ TreeTextMemoryï¼ˆç¡®ä¿æ£€ç´¢æ–¹æ³•å…¼å®¹æ€§ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">assert</span>Â <span class="hljs-built_in">isinstance</span>(text_mem_base,Â TreeTextMemory)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è‹¥æœªä¼ å…¥Â infoï¼Œæ‰“å°è­¦å‘Šå¹¶åˆå§‹åŒ–ç©ºä¿¡æ¯ï¼ˆç”¨äºå†å²è®°å½•å­˜å‚¨ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â infoÂ <span class="hljs-keyword">is</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â infoÂ =Â {<span class="hljs-string">"user_id"</span>:Â <span class="hljs-string">""</span>,Â <span class="hljs-string">"session_id"</span>:Â <span class="hljs-string">""</span>}

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®æ£€ç´¢æ–¹æ³•è®¾ç½®æ¨¡å¼ï¼šå¿«é€Ÿæœç´¢ï¼ˆfastï¼‰æˆ–ç²¾ç»†æœç´¢ï¼ˆfineï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â modeÂ =Â <span class="hljs-string">"fast"</span>Â <span class="hljs-keyword">if</span>Â methodÂ ==Â TreeTextMemory_SEARCH_METHODÂ <span class="hljs-keyword">else</span>Â <span class="hljs-string">"fine"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€ç´¢é•¿æœŸè®°å¿†ï¼ˆLongTermMemoryï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â results_long_termÂ =Â text_mem_base.search(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query=query,Â top_k=top_k,Â memory_type=<span class="hljs-string">"LongTermMemory"</span>,Â mode=mode,Â info=info
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€ç´¢ç”¨æˆ·è®°å¿†ï¼ˆUserMemoryï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â results_userÂ =Â text_mem_base.search(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â query=query,Â top_k=top_k,Â memory_type=<span class="hljs-string">"UserMemory"</span>,Â mode=mode,Â info=info
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå¹¶é•¿æœŸè®°å¿†å’Œç”¨æˆ·è®°å¿†çš„æ£€ç´¢ç»“æœ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â resultsÂ =Â results_long_termÂ +Â results_user
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä¸æ”¯æŒçš„æ£€ç´¢æ–¹æ³•ï¼šæŠ›å‡ºæœªå®ç°å¼‚å¸¸ï¼ˆä¼ å…¥æ–‡æœ¬å†…å­˜ç±»å‹ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">raise</span>Â NotImplementedError(<span class="hljs-built_in">str</span>(<span class="hljs-built_in">type</span>(text_mem_base)))
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ£€ç´¢å¼‚å¸¸ï¼šæ‰“å°é”™è¯¯æ—¥å¿—ï¼ˆåŒ…å«å †æ ˆä¿¡æ¯ï¼‰ï¼Œè¿”å›ç©ºåˆ—è¡¨</span>
Â Â Â Â Â Â Â Â Â Â Â Â logger.error(<span class="hljs-string">f"FailÂ toÂ search.Â TheÂ exeptionÂ isÂ <span class="hljs-subst">{e}</span>."</span>,Â exc_info=<span class="hljs-literal">True</span>)
Â Â Â Â Â Â Â Â Â Â Â Â resultsÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â results

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">rerank_memories</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,Â queries:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],Â original_memories:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],Â top_k:Â <span class="hljs-built_in">int</span>
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],Â <span class="hljs-built_in">bool</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â åŸºäºÂ LLMÂ å¯¹è®°å¿†è¿›è¡Œç›¸å…³æ€§é‡æ’ï¼ˆæ ¹æ®æŸ¥è¯¢è¯­å¥è°ƒæ•´è®°å¿†é¡ºåºï¼‰
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â queries:Â ç”¨äºåˆ¤æ–­ç›¸å…³æ€§çš„æŸ¥è¯¢åˆ—è¡¨ï¼ˆé€šå¸¸ä¸ºå½“å‰å¯¹è¯æŸ¥è¯¢ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â original_memories:Â å¾…é‡æ’çš„è®°å¿†æ–‡æœ¬åˆ—è¡¨
Â Â Â Â Â Â Â Â Â Â Â Â top_k:Â é‡æ’åè¿”å›çš„Â Top-KÂ è®°å¿†æ•°é‡

Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â Tuple[é‡æ’åçš„è®°å¿†æ–‡æœ¬åˆ—è¡¨ï¼ˆé•¿åº¦â‰¤top_kï¼‰,Â é‡æ’æˆåŠŸæ ‡å¿—ï¼ˆboolï¼‰]

Â Â Â Â Â Â Â Â Note:
Â Â Â Â Â Â Â Â Â Â Â Â è‹¥Â LLMÂ é‡æ’å¤±è´¥ï¼ˆå¦‚Â JSONÂ è§£æå¼‚å¸¸ï¼‰ï¼Œé™çº§ä¸ºåŸå§‹è®°å¿†é¡ºåºï¼ˆæˆªæ–­è‡³Â top_kï¼‰
Â Â Â Â Â Â Â Â """</span>

Â Â Â Â Â Â Â Â logger.info(<span class="hljs-string">f"StartingÂ memoryÂ rerankingÂ forÂ <span class="hljs-subst">{<span class="hljs-built_in">len</span>(original_memories)}</span>Â memories"</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ„å»ºÂ LLMÂ é‡æ’æç¤ºè¯ï¼ˆä½¿ç”¨Â "memory_reranking"Â æ¨¡æ¿ï¼‰</span>
Â Â Â Â Â Â Â Â promptÂ =Â self.build_prompt(
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"memory_reranking"</span>,
Â Â Â Â Â Â Â Â Â Â Â Â queries=[<span class="hljs-string">f"[0]Â <span class="hljs-subst">{queries[<span class="hljs-number">0</span>]}</span>"</span>],Â Â <span class="hljs-comment">#Â æ ¼å¼åŒ–æŸ¥è¯¢ï¼ˆä»…å–ç¬¬ä¸€ä¸ªæŸ¥è¯¢ï¼Œæ ‡è®°ä¸ºÂ [0]ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â current_order=[<span class="hljs-string">f"[<span class="hljs-subst">{i}</span>]Â <span class="hljs-subst">{mem}</span>"</span>Â <span class="hljs-keyword">for</span>Â i,Â memÂ <span class="hljs-keyword">in</span>Â <span class="hljs-built_in">enumerate</span>(original_memories)],Â Â <span class="hljs-comment">#Â æ ¼å¼åŒ–åŸå§‹è®°å¿†é¡ºåº</span>
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è°ƒç”¨Â LLMÂ ç”Ÿæˆé‡æ’ç»“æœï¼ˆæ„é€ ç”¨æˆ·è§’è‰²æ¶ˆæ¯ï¼‰</span>
Â Â Â Â Â Â Â Â responseÂ =Â self.process_llm.generate([{<span class="hljs-string">"role"</span>:Â <span class="hljs-string">"user"</span>,Â <span class="hljs-string">"content"</span>:Â prompt}])

Â Â Â Â Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è§£æÂ LLMÂ å“åº”ä¸­çš„Â JSONÂ æ•°æ®ï¼ˆæœŸæœ›æ ¼å¼ï¼š{"new_order":Â [ç´¢å¼•åˆ—è¡¨],Â "reasoning":Â "é‡æ’ç†ç”±"}ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â responseÂ =Â extract_json_dict(response)
Â Â Â Â Â Â Â Â Â Â Â Â new_orderÂ =Â response[<span class="hljs-string">"new_order"</span>][:top_k]Â Â <span class="hljs-comment">#Â æå–Â Top-KÂ ç´¢å¼•é¡ºåº</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ ¹æ®æ–°ç´¢å¼•æ˜ å°„å›åŸå§‹è®°å¿†æ–‡æœ¬</span>
Â Â Â Â Â Â Â Â Â Â Â Â text_memories_with_new_orderÂ =Â [original_memories[idx]Â <span class="hljs-keyword">for</span>Â idxÂ <span class="hljs-keyword">in</span>Â new_order]
Â Â Â Â Â Â Â Â Â Â Â Â success_flagÂ =Â <span class="hljs-literal">True</span>Â Â <span class="hljs-comment">#Â é‡æ’æˆåŠŸæ ‡å¿—</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é‡æ’å¼‚å¸¸ï¼ˆå¦‚Â JSONÂ è§£æå¤±è´¥ã€é”®ç¼ºå¤±ï¼‰ï¼šæ‰“å°é”™è¯¯æ—¥å¿—ï¼Œä½¿ç”¨åŸå§‹é¡ºåºé™çº§</span>
Â Â Â Â Â Â Â Â Â Â Â Â text_memories_with_new_orderÂ =Â original_memories[:top_k]Â Â <span class="hljs-comment">#Â æˆªæ–­åŸå§‹è®°å¿†è‡³Â top_k</span>
Â Â Â Â Â Â Â Â Â Â Â Â success_flagÂ =Â <span class="hljs-literal">False</span>Â Â <span class="hljs-comment">#Â é‡æ’å¤±è´¥æ ‡å¿—</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â text_memories_with_new_order,Â success_flag

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">process_and_rerank_memories</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â queries:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
Â Â Â Â Â Â Â Â original_memory:Â <span class="hljs-built_in">list</span>[TextualMemoryItem],
Â Â Â Â Â Â Â Â new_memory:Â <span class="hljs-built_in">list</span>[TextualMemoryItem],
Â Â Â Â Â Â Â Â top_k:Â <span class="hljs-built_in">int</span>Â =Â <span class="hljs-number">10</span>,
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Tuple</span>[<span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[TextualMemoryItem]],Â <span class="hljs-built_in">bool</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â è®°å¿†å…¨æµç¨‹å¤„ç†ï¼šåˆå¹¶æ–°æ—§è®°å¿†Â â†’Â è¿‡æ»¤å†—ä½™/è¿‡çŸ­è®°å¿†Â â†’Â LLMÂ é‡æ’Â â†’Â è¿”å›ä¼˜åŒ–åè®°å¿†
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â queries:Â ç”¨äºé‡æ’çš„æŸ¥è¯¢åˆ—è¡¨ï¼ˆåˆ¤æ–­è®°å¿†ç›¸å…³æ€§çš„ä¾æ®ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â original_memory:Â åŸå§‹è®°å¿†åˆ—è¡¨ï¼ˆå·²å­˜å‚¨çš„å†å²è®°å¿†ï¼ŒTextualMemoryItemÂ ç±»å‹ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â new_memory:Â æ–°è®°å¿†åˆ—è¡¨ï¼ˆå¾…åˆå¹¶çš„æ–°å¢è®°å¿†ï¼ŒTextualMemoryItemÂ ç±»å‹ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â top_k:Â æœ€ç»ˆè¿”å›çš„æœ€å¤§è®°å¿†æ•°é‡ï¼ˆé»˜è®¤Â 10ï¼‰

Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â Tuple[ä¼˜åŒ–åçš„Â TextualMemoryItemÂ åˆ—è¡¨ï¼ˆé•¿åº¦â‰¤top_kï¼‰,Â å¤„ç†æˆåŠŸæ ‡å¿—ï¼ˆboolï¼‰]ï¼›å¤±è´¥è¿”å›Â (None,Â False)
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 1.Â åˆå¹¶åŸå§‹è®°å¿†å’Œæ–°è®°å¿†ï¼ˆå½¢æˆå®Œæ•´è®°å¿†æ± ï¼‰</span>
Â Â Â Â Â Â Â Â combined_memoryÂ =Â original_memoryÂ +Â new_memory

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 2.Â æ„å»ºã€Œå½’ä¸€åŒ–æ–‡æœ¬â†’è®°å¿†å¯¹è±¡ã€çš„æ˜ å°„ï¼ˆç”¨äºåç»­é‡æ’åè¿˜åŸè®°å¿†å¯¹è±¡ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â transform_name_to_keyï¼šæ–‡æœ¬å½’ä¸€åŒ–å‡½æ•°ï¼ˆå¦‚å»ç©ºæ ¼ã€å°å†™ï¼Œç¡®ä¿åŒ¹é…ä¸€è‡´æ€§ï¼‰</span>
Â Â Â Â Â Â Â Â memory_mapÂ =Â {
Â Â Â Â Â Â Â Â Â Â Â Â transform_name_to_key(name=mem_obj.memory):Â mem_objÂ <span class="hljs-keyword">for</span>Â mem_objÂ <span class="hljs-keyword">in</span>Â combined_memory
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 2.Â æå–æ‰€æœ‰è®°å¿†çš„æ–‡æœ¬å†…å®¹ï¼ˆç”¨äºè¿‡æ»¤å’Œé‡æ’ï¼‰</span>
Â Â Â Â Â Â Â Â combined_text_memoryÂ =Â [m.memoryÂ <span class="hljs-keyword">for</span>Â mÂ <span class="hljs-keyword">in</span>Â combined_memory]

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 4.Â ç›¸ä¼¼åº¦è¿‡æ»¤ï¼šç§»é™¤è¿‡äºç›¸ä¼¼çš„è®°å¿†ï¼ˆåŸºäºå‘é‡ç›¸ä¼¼åº¦ï¼Œé˜ˆå€¼Â 0.75ï¼‰</span>
Â Â Â Â Â Â Â Â filtered_combined_text_memoryÂ =Â filter_vector_based_similar_memories(
Â Â Â Â Â Â Â Â Â Â Â Â text_memories=combined_text_memory,
Â Â Â Â Â Â Â Â Â Â Â Â similarity_threshold=self.filter_similarity_threshold,
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 5.Â é•¿åº¦è¿‡æ»¤ï¼šç§»é™¤è¿‡çŸ­è®°å¿†ï¼ˆå­—ç¬¦æ•°ï¼œ6Â çš„è®°å¿†è§†ä¸ºæ— æ•ˆï¼Œé˜ˆå€¼Â 6ï¼‰</span>
Â Â Â Â Â Â Â Â filtered_combined_text_memoryÂ =Â filter_too_short_memories(
Â Â Â Â Â Â Â Â Â Â Â Â text_memories=filtered_combined_text_memory,
Â Â Â Â Â Â Â Â Â Â Â Â min_length_threshold=self.filter_min_length_threshold,
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 6.Â å»é‡ï¼šåŸºäºå½’ä¸€åŒ–æ–‡æœ¬çš„å­—å…¸å»é‡ï¼ˆä¿ç•™åŸå§‹é¡ºåºï¼‰</span>
Â Â Â Â Â Â Â Â unique_memoryÂ =Â <span class="hljs-built_in">list</span>(<span class="hljs-built_in">dict</span>.fromkeys(filtered_combined_text_memory))

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 7.Â LLMÂ æ™ºèƒ½é‡æ’ï¼šæŒ‰ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§è°ƒæ•´è®°å¿†é¡ºåº</span>
Â Â Â Â Â Â Â Â text_memories_with_new_order,Â success_flagÂ =Â self.rerank_memories(
Â Â Â Â Â Â Â Â Â Â Â Â queries=queries,
Â Â Â Â Â Â Â Â Â Â Â Â original_memories=unique_memory,
Â Â Â Â Â Â Â Â Â Â Â Â top_k=top_k,
Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â 8.Â æ˜ å°„å›åŸå§‹è®°å¿†å¯¹è±¡ï¼ˆä»æ–‡æœ¬åˆ—è¡¨è¿˜åŸä¸ºÂ TextualMemoryItemÂ åˆ—è¡¨ï¼‰</span>
Â Â Â Â Â Â Â Â memories_with_new_orderÂ =Â []
Â Â Â Â Â Â Â Â <span class="hljs-keyword">for</span>Â textÂ <span class="hljs-keyword">in</span>Â text_memories_with_new_order:
Â Â Â Â Â Â Â Â Â Â Â Â normalized_textÂ =Â transform_name_to_key(name=text)Â Â <span class="hljs-comment">#Â æ–‡æœ¬å½’ä¸€åŒ–ï¼ˆç¡®ä¿ä¸Â memory_mapÂ é”®åŒ¹é…ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â normalized_textÂ <span class="hljs-keyword">in</span>Â memory_map:Â Â <span class="hljs-comment">#Â æ£€æŸ¥å½’ä¸€åŒ–æ–‡æœ¬æ˜¯å¦å­˜åœ¨äºæ˜ å°„ä¸­</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â memories_with_new_order.append(memory_map[normalized_text])
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ—¥å¿—è­¦å‘Šï¼šè®°å¿†æ–‡æœ¬æœªæ‰¾åˆ°æ˜ å°„ï¼ˆå¯èƒ½æ˜¯å½’ä¸€åŒ–å¼‚å¸¸æˆ–è®°å¿†å¯¹è±¡ç¼ºå¤±ï¼‰</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â logger.warning(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"MemoryÂ textÂ notÂ foundÂ inÂ memoryÂ map.Â text:Â <span class="hljs-subst">{text}</span>;\n"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">f"KeysÂ ofÂ memory_map:Â <span class="hljs-subst">{memory_map.keys()}</span>"</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â memories_with_new_order,Â success_flag

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">filter_unrelated_memories</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â query_history:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
Â Â Â Â Â Â Â Â memories:Â <span class="hljs-built_in">list</span>[TextualMemoryItem],
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">list</span>[TextualMemoryItem],Â <span class="hljs-built_in">bool</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â è¿‡æ»¤ä¸æŸ¥è¯¢å†å²æ— å…³çš„è®°å¿†ï¼ˆå§”æ‰˜ç»™Â MemoryFilterÂ å®ç°ï¼‰
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â query_history:Â æŸ¥è¯¢å†å²åˆ—è¡¨ï¼ˆAgentÂ çš„å¯¹è¯å†å²ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â memories:Â å¾…è¿‡æ»¤çš„è®°å¿†åˆ—è¡¨ï¼ˆTextualMemoryItemÂ ç±»å‹ï¼‰
Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â Tuple[è¿‡æ»¤åçš„è®°å¿†åˆ—è¡¨,Â è¿‡æ»¤æˆåŠŸæ ‡å¿—]
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self.memory_filter.filter_unrelated_memories(query_history,Â memories)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">filter_redundant_memories</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â query_history:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
Â Â Â Â Â Â Â Â memories:Â <span class="hljs-built_in">list</span>[TextualMemoryItem],
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">list</span>[TextualMemoryItem],Â <span class="hljs-built_in">bool</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â è¿‡æ»¤å†—ä½™è®°å¿†ï¼ˆå§”æ‰˜ç»™Â MemoryFilterÂ å®ç°ï¼‰
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â query_history:Â æŸ¥è¯¢å†å²åˆ—è¡¨ï¼ˆåˆ¤æ–­å†—ä½™çš„ä¸Šä¸‹æ–‡ä¾æ®ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â memories:Â å¾…è¿‡æ»¤çš„è®°å¿†åˆ—è¡¨ï¼ˆTextualMemoryItemÂ ç±»å‹ï¼‰
Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â Tuple[è¿‡æ»¤åçš„è®°å¿†åˆ—è¡¨,Â è¿‡æ»¤æˆåŠŸæ ‡å¿—]
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self.memory_filter.filter_redundant_memories(query_history,Â memories)

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">filter_unrelated_and_redundant_memories</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â self,
Â Â Â Â Â Â Â Â query_history:Â <span class="hljs-built_in">list</span>[<span class="hljs-built_in">str</span>],
Â Â Â Â Â Â Â Â memories:Â <span class="hljs-built_in">list</span>[TextualMemoryItem],
Â Â Â Â </span>)Â -&gt;Â <span class="hljs-type">Tuple</span>[<span class="hljs-built_in">list</span>[TextualMemoryItem],Â <span class="hljs-built_in">bool</span>]:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â åŒæ—¶è¿‡æ»¤ã€Œæ— å…³è®°å¿†ã€å’Œã€Œå†—ä½™è®°å¿†ã€ï¼ˆåŸºäºÂ LLMÂ åˆ†æï¼Œå§”æ‰˜ç»™Â MemoryFilterÂ å®ç°ï¼‰
Â Â Â Â Â Â Â Â Args:
Â Â Â Â Â Â Â Â Â Â Â Â query_history:Â æŸ¥è¯¢å†å²åˆ—è¡¨ï¼ˆä¸Šä¸‹æ–‡ä¾æ®ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â memories:Â å¾…è¿‡æ»¤çš„è®°å¿†åˆ—è¡¨ï¼ˆTextualMemoryItemÂ ç±»å‹ï¼‰
Â Â Â Â Â Â Â Â Returns:
Â Â Â Â Â Â Â Â Â Â Â Â Tuple[è¿‡æ»¤åçš„è®°å¿†åˆ—è¡¨,Â è¿‡æ»¤æˆåŠŸæ ‡å¿—]
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â self.memory_filter.filter_unrelated_and_redundant_memories(query_history,Â memories)
</code></pre>
<h3 data-id="heading-23">0x03 å…³è”</h3>
<p>SchedulerDispatcherã€GeneralScheduler å’Œ TreeTextMemory ä¹‹é—´å­˜åœ¨æ˜ç¡®çš„ä¾èµ–å’Œåä½œå…³ç³»ã€‚</p>
<h4 data-id="heading-24">3.1 SchedulerDispatcher å’Œ GeneralScheduler</h4>
<p>SchedulerDispatcher è´Ÿè´£æ¶ˆæ¯çš„åˆ†å‘å’Œå¤„ç†ï¼Œæ˜¯ä¸€ä¸ªåº•å±‚çš„æ¶ˆæ¯å¤„ç†ç»„ä»¶ã€‚GeneralScheduler æ˜¯ä¸€ä¸ªæ›´é«˜çº§åˆ«çš„è°ƒåº¦å™¨ï¼Œåˆ©ç”¨ SchedulerDispatcher æ¥ç®¡ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼ˆå¦‚æŸ¥è¯¢ã€å›ç­”ã€æ·»åŠ è®°å¿†ç­‰ï¼‰ã€‚</p>
<ul>
<li>GeneralScheduler ä¾èµ– SchedulerDispatcher</li>
<li>SchedulerDispatcher æ˜¯ GeneralScheduler çš„ä¸€ä¸ªç»„ä»¶ï¼Œåœ¨ GeneralScheduler çš„ init æ–¹æ³•ä¸­ï¼Œåˆ›å»ºäº†ä¸€ä¸ª SchedulerDispatcher å®ä¾‹å¹¶èµ‹å€¼ç»™ self.dispatcher</li>
</ul>
<p>GeneralScheduler ä½¿ç”¨ self.dispatcher æ¥ï¼š</p>
<ul>
<li>æ³¨å†Œæ¶ˆæ¯å¤„ç†å™¨ï¼ˆhandlersï¼‰</li>
<li>åˆ†å‘æ¶ˆæ¯ï¼ˆé€šè¿‡ self.dispatcher.dispatch()ï¼‰</li>
<li>æ‰¹é‡å¤„ç†æ¶ˆæ¯ï¼ˆé€šè¿‡ self.dispatcher.group_messages_by_user_and_cube()ï¼‰</li>
<li>ç­‰å¾…ä»»åŠ¡å®Œæˆï¼ˆé€šè¿‡ self.dispatcher.join()ï¼‰</li>
<li>å…³é—­è°ƒåº¦å™¨ï¼ˆé€šè¿‡ self.dispatcher.shutdown()ï¼‰</li>
</ul>
<h4 data-id="heading-25">3.2 GeneralScheduler å’Œ TreeTextMemory</h4>
<p>TreeTextMemory æ˜¯è®°å¿†å­˜å‚¨å’Œæ£€ç´¢çš„æ ¸å¿ƒç»„ä»¶ï¼Œæä¾›äº†æ·»åŠ ã€æœç´¢ã€æ›´æ–°å’Œåˆ é™¤è®°å¿†çš„åŠŸèƒ½ï¼ŒGeneralScheduler åˆ©ç”¨ TreeTextMemory æ¥ç®¡ç†è®°å¿†çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¤„ç†ä¸è®°å¿†ç›¸å…³çš„å„ç§æ“ä½œã€‚</p>
<ul>
<li>GeneralScheduler ä¾èµ– TreeTextMemoryæ¥æ‰§è¡Œå®é™…çš„è®°å¿†æ“ä½œ</li>
<li>TreeTextMemory æä¾›äº† GeneralScheduler æ‰€éœ€çš„è®°å¿†å­˜å‚¨å’Œæ£€ç´¢åŠŸèƒ½</li>
</ul>
<p>GeneralScheduler é€šè¿‡ mem_cube.text_mem è®¿é—® TreeTextMemory å®ä¾‹ï¼ŒGeneralScheduler ä½¿ç”¨ TreeTextMemory æ¥ï¼š</p>
<ul>
<li>
<p>TreeTextMemory åŒ…å«äº† MemoryManager å’Œ Searcher ç­‰ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶è¢« GeneralScheduler é—´æ¥ä½¿ç”¨</p>
</li>
<li>
<p>è·å–å·¥ä½œè®°å¿†ï¼ˆé€šè¿‡ text_mem_base.get_working_memory()ï¼‰</p>
</li>
<li>
<p>æœç´¢è®°å¿†ï¼ˆé€šè¿‡ self.retriever.search()ï¼Œå…¶ä¸­ retriever ä½¿ç”¨ TreeTextMemory çš„æœç´¢åŠŸèƒ½ï¼‰ï¼Œæ£€ç´¢è¿‡ç¨‹æ¶‰åŠï¼š</p>
<ul>
<li>ä½¿ç”¨ TaskGoalParser è§£ææŸ¥è¯¢</li>
<li>ä½¿ç”¨ GraphMemoryRetriever ä»å›¾æ•°æ®åº“æ£€ç´¢è®°å¿†</li>
<li>ä½¿ç”¨ Reranker å¯¹æ£€ç´¢åˆ°çš„è®°å¿†è¿›è¡Œé‡æ’åº</li>
<li>ä½¿ç”¨ MemoryReasoner è¿›è¡Œæ¨ç†ä»¥ä¼˜åŒ–ç»“æœ</li>
</ul>
</li>
<li>
<p>æ·»åŠ è®°å¿†ï¼ˆé€šè¿‡ self.memory_manager.add()ï¼Œå…¶ä¸­ memory_manager ä¸ TreeTextMemory ç›¸å…³è”ï¼‰</p>
</li>
<li>
<p>æ›¿æ¢å·¥ä½œè®°å¿†ï¼ˆé€šè¿‡ text_mem_base.replace_working_memory()ï¼‰</p>
</li>
<li>
<p>è·å–è®°å¿†ï¼ˆé€šè¿‡ mem_cube.text_mem.get(memory_id=memory_id)ï¼‰</p>
</li>
<li>
<p>GeneralScheduler æ¥æ”¶ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼ˆæŸ¥è¯¢ã€å›ç­”ã€æ·»åŠ è®°å¿†ç­‰ï¼‰ï¼Œæ ¹æ®æ¶ˆæ¯ç±»å‹ï¼ŒGeneralScheduler è°ƒç”¨ç›¸åº”çš„å¤„ç†å™¨ï¼Œå¤„ç†å™¨ä½¿ç”¨ TreeTextMemory çš„æ–¹æ³•æ¥æ‰§è¡Œå…·ä½“æ“ä½œ</p>
</li>
</ul>
<p>GeneralScheduler å’Œ TreeTextMemory ä¹‹é—´æ˜¯ä¸€ç§åä½œå…³ç³»ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>GeneralScheduler æ˜¯ä¸€ä¸ªé«˜çº§è°ƒåº¦å™¨ï¼Œè´Ÿè´£å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯å¹¶åè°ƒè®°å¿†æ“ä½œ</li>
<li>TreeTextMemory æ˜¯è®°å¿†æ“ä½œçš„å®é™…æ‰§è¡Œè€…ï¼Œæä¾›äº†å­˜å‚¨ã€æ£€ç´¢ã€æ›´æ–°å’Œç»„ç»‡è®°å¿†çš„åŠŸèƒ½</li>
</ul>
<p>ä¸¤è€…é€šè¿‡å®šä¹‰è‰¯å¥½çš„æ¥å£è¿›è¡Œäº¤äº’ï¼ŒGeneralScheduler è°ƒç”¨ TreeTextMemory çš„æ–¹æ³•æ¥æ‰§è¡Œå…·ä½“æ“ä½œ è¿™ç§è®¾è®¡å®ç°äº†å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œä½¿è°ƒåº¦é€»è¾‘å’Œè®°å¿†ç®¡ç†é€»è¾‘å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œç»´æŠ¤ã€‚</p>
<p>åä½œèŒƒä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â GeneralSchedulerÂ å¤„ç†æŸ¥è¯¢æ¶ˆæ¯çš„ç®€åŒ–æµç¨‹</span>
defÂ process_query(self,Â query,Â mem_cube):
Â Â Â Â <span class="hljs-comment">#Â 1.Â è·å–å½“å‰å·¥ä½œè®°å¿†</span>
Â Â Â Â <span class="hljs-attr">current_memory</span>Â =Â mem_cube.text_mem.get_working_memory()
Â Â Â Â <span class="hljs-comment">#Â 2.Â æ£€ç´¢ç›¸å…³è®°å¿†</span>
Â Â Â Â <span class="hljs-attr">new_candidates</span>Â =Â mem_cube.text_mem.search(query,Â top_k=self.top_k)
Â Â Â Â <span class="hljs-comment">#Â 3.Â æ›´æ–°å·¥ä½œè®°å¿†</span>
Â Â Â Â mem_cube.text_mem.replace_working_memory(new_candidates)
</code></pre>
<h4 data-id="heading-26">3.3 æ€»ç»“</h4>
<p>ä¸‰è€…ä¹‹é—´çš„ä¾èµ–å…³ç³»å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p>
<ul>
<li>GeneralScheduler â†’ SchedulerDispatcherï¼ˆä½¿ç”¨å…¶è¿›è¡Œæ¶ˆæ¯åˆ†å‘ï¼‰</li>
<li>GeneralScheduler â†’ TreeTextMemoryï¼ˆä½¿ç”¨å…¶è¿›è¡Œè®°å¿†æ“ä½œï¼‰</li>
</ul>
<p>å…·ä½“æ¥è¯´ï¼š</p>
<ul>
<li>SchedulerDispatcher æ˜¯ä¸€ä¸ªæ¶ˆæ¯åˆ†å‘å™¨ï¼Œè´Ÿè´£å°†ä¸åŒç±»å‹çš„æ¶ˆæ¯è·¯ç”±åˆ°ç›¸åº”çš„å¤„ç†å™¨</li>
<li>GeneralScheduler æ˜¯ä¸€ä¸ªé«˜çº§è°ƒåº¦å™¨ï¼Œå®ƒä½¿ç”¨ SchedulerDispatcher æ¥ç®¡ç†æ¶ˆæ¯ï¼Œå¹¶ä½¿ç”¨ TreeTextMemory æ¥å¤„ç†ä¸è®°å¿†ç›¸å…³çš„æ“ä½œ</li>
<li>TreeTextMemory æ˜¯è®°å¿†å­˜å‚¨å’Œæ£€ç´¢çš„æ ¸å¿ƒç»„ä»¶ï¼Œä¸º GeneralScheduler æä¾›åº•å±‚çš„è®°å¿†æ“ä½œæ”¯æŒ</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿèƒ½å¤Ÿæœ‰æ•ˆåœ°å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯ï¼Œå¹¶å¯¹è®°å¿†è¿›è¡Œç›¸åº”çš„æ“ä½œï¼Œå®ç°äº†æ¶ˆæ¯å¤„ç†å’Œè®°å¿†ç®¡ç†çš„è§£è€¦ã€‚</p>
<h4 data-id="heading-27">3.4 MosCore</h4>
<p>MosCore æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èŒƒä¾‹ã€‚</p>
<pre><code class="hljs language-diff" lang="diff">MosCore
<span class="hljs-deletion">-Â usesÂ GeneralMemCube</span>
<span class="hljs-deletion">-Â usesÂ GeneralScheduler</span>
Â Â -Â usesÂ MemoryManager
Â Â -Â usesÂ TreeTextMemory
<span class="hljs-deletion">-Â usesÂ UserManager</span>
</code></pre>
<p>åœ¨å¦‚ä¸‹ä»£ç ä¸­ï¼Œå¯ä»¥ç®¡çª¥ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MOSCore</span>:
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â TheÂ MOSCoreÂ (MemoryÂ OperatingÂ SystemÂ Core)Â classÂ managesÂ multipleÂ MemCubeÂ objectsÂ andÂ theirÂ operations.
Â Â Â Â ItÂ providesÂ methodsÂ forÂ creating,Â searching,Â updating,Â andÂ deletingÂ MemCubes,Â supportingÂ multi-userÂ scenarios.
Â Â Â Â MOSCoreÂ actsÂ asÂ anÂ operatingÂ systemÂ layerÂ forÂ handlingÂ andÂ orchestratingÂ MemCubeÂ instances.
Â Â Â Â """</span>

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â config:Â MOSConfig,Â user_manager:Â UserManagerÂ |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span></span>):
Â Â Â Â Â Â Â Â self.configÂ =Â config
Â Â Â Â Â Â Â Â self.user_idÂ =Â config.user_id
Â Â Â Â Â Â Â Â self.session_idÂ =Â config.session_id
Â Â Â Â Â Â Â Â self.chat_llmÂ =Â LLMFactory.from_config(config.chat_model)
Â Â Â Â Â Â Â Â self.mem_readerÂ =Â MemReaderFactory.from_config(config.mem_reader)
Â Â Â Â Â Â Â Â self.chat_history_manager:Â <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â ChatHistory]Â =Â {}
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â useÂ threadÂ safeÂ dictÂ forÂ multi-userÂ product-serverÂ scenario</span>
Â Â Â Â Â Â Â Â self.mem_cubes:Â OptimizedThreadSafeDict[<span class="hljs-built_in">str</span>,Â GeneralMemCube]Â =Â (
Â Â Â Â Â Â Â Â Â Â Â Â OptimizedThreadSafeDict()Â <span class="hljs-keyword">if</span>Â user_managerÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>Â <span class="hljs-keyword">else</span>Â {}
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â self._register_chat_history()

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â UseÂ providedÂ user_managerÂ orÂ createÂ aÂ newÂ one</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â user_managerÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â Â Â Â Â self.user_managerÂ =Â user_manager
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â self.user_managerÂ =Â UserManager(user_id=self.user_idÂ <span class="hljs-keyword">if</span>Â self.user_idÂ <span class="hljs-keyword">else</span>Â <span class="hljs-string">"root"</span>)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â InitializeÂ mem_scheduler</span>
Â Â Â Â Â Â Â Â self._mem_scheduler_lockÂ =Â Lock()
Â Â Â Â Â Â Â Â self.enable_mem_schedulerÂ =Â self.config.get(<span class="hljs-string">"enable_mem_scheduler"</span>,Â <span class="hljs-literal">False</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â self.enable_mem_scheduler:
Â Â Â Â Â Â Â Â Â Â Â Â self._mem_schedulerÂ =Â self._initialize_mem_scheduler()
Â Â Â Â Â Â Â Â Â Â Â Â self._mem_scheduler.mem_cubesÂ =Â self.mem_cubes
Â Â Â Â Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â Â Â Â Â self._mem_scheduler:Â GeneralSchedulerÂ =Â <span class="hljs-literal">None</span>
</code></pre>
<h3 data-id="heading-28">0xFF å‚è€ƒ</h3>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WebCutå‰ç«¯è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ä¸€å‘¨å¼€æºè¿›åº¦]]></title>    <link>https://juejin.cn/post/7586479864272125958</link>    <guid>https://juejin.cn/post/7586479864272125958</guid>    <pubDate>2025-12-22T12:31:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864272125958" data-draft-id="7586479864272076806" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WebCutå‰ç«¯è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ä¸€å‘¨å¼€æºè¿›åº¦"/> <meta itemprop="keywords" content="å‰ç«¯,UI Kit,éŸ³è§†é¢‘å¼€å‘"/> <meta itemprop="datePublished" content="2025-12-22T12:31:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¦å­æˆˆ"/> <meta itemprop="url" content="https://juejin.cn/user/4072246798192349"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WebCutå‰ç«¯è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ä¸€å‘¨å¼€æºè¿›åº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246798192349/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¦å­æˆˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:31:29.000Z" title="Mon Dec 22 2025 12:31:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‡ªä»ä¸Šæ¬¡å‘å¸ƒäº†WebCutçš„å¼€æºä¿¡æ¯ä¹‹åï¼Œè·å¾—äº†éå¸¸å¤šå°ä¼™ä¼´çš„å…³æ³¨ï¼Œä¹Ÿæœ‰å¾ˆå¤šå°ä¼™ä¼´è¿˜ä¸çŸ¥é“ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å†™ä¸€äº›æ›´æ–°è¿›åº¦æ–‡ç« ï¼Œè®©å…³æ³¨çš„å°ä¼™ä¼´äº†è§£WebCutçš„æœ€æ–°è¿›å±•ã€‚</p>
<h3 data-id="heading-0">ä»€ä¹ˆæ˜¯WebCutï¼Ÿ</h3>
<p>å¯¹äºè¿˜ä¸äº†è§£çš„å°ä¼™ä¼´ï¼Œæˆ‘å…ˆä»‹ç»ä¸€ä¸‹WebCutã€‚å®ƒæ˜¯ä¸€æ¬¾å¼€æºçš„å‰ç«¯ï¼ˆWebï¼‰è§†é¢‘ç¼–è¾‘UIæ¡†æ¶ã€‚è¯´çš„ç®€å•ç‚¹ï¼Œå°±æ˜¯å®ƒå¯ä»¥åœ¨ä½ çš„ç½‘é¡µä¸Šå¿«é€Ÿæ¤å…¥ä¸€ä¸ªå¯ä»¥ç”¨æ¥è¿›è¡Œè§†é¢‘ç¼–è¾‘çš„æ’ä»¶ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä»¥æœ€ä½çš„æˆæœ¬å¿«é€Ÿå®ç°ç›¸å…³éœ€æ±‚ã€‚å®ƒä»¥ç»„ä»¶åŒ–æ€æƒ³å¯¹å¤–å¼€æ”¾ï¼Œå¯ä»¥é€šè¿‡ä»»æ„ç»„åˆçš„å½¢å¼ï¼Œå®ç°å„ç§é€ å‹çš„è§†é¢‘ç¼–è¾‘ç•Œé¢ã€‚</p>
<h3 data-id="heading-1">ä»€ä¹ˆäººéœ€è¦WebCutï¼Ÿ</h3>
<ul>
<li>
<p>å¼€å‘è€…ï¼šå¦‚æœä½ çš„è€æ¿è¦ä½ åœ¨ä½ ä»¬çš„webäº§å“ä¸­å¿«é€Ÿä¸Šçº¿ä¸€ä¸ªè§†é¢‘ç¼–è¾‘åŠŸèƒ½ï¼Œä½ éœ€è¦å®ƒ</p>
</li>
<li>
<p>è€ç½‘ç«™ç³»ç»Ÿç»´æŠ¤è€…ï¼šå¦‚æœä½ ä»¬çš„ç³»ç»Ÿå¸Œæœ›å®ç°ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­å®Œæˆæ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬è§†é¢‘çš„ç¼–è¾‘ï¼Œä½ éœ€è¦å®ƒ</p>
</li>
<li>
<p>åˆ›ä½œè€…ï¼šå¦‚æœä½ åœ¨æ‰¾å‰ªæ˜ çš„å…è´¹æ›¿ä»£å“ï¼Œä½ éœ€è¦å®ƒ</p>
</li>
</ul>
<h3 data-id="heading-2">ç›®å‰æ”¯æŒå“ªäº›åŠŸèƒ½ï¼Ÿ</h3>
<ul>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½ï¼š</strong></p>
</li>
<li>
<p>è§†é¢‘æ’­æ”¾/ç¼–è¾‘ç”»å¸ƒ</p>
</li>
<li>
<p>æ—¶é—´è½´ç´ æç®¡ç†å™¨ï¼šä¸åŒç±»å‹ç´ æçš„æ¸²æŸ“æ•ˆæœã€é«˜åº¦ã€åˆ†æ ã€æ»šåŠ¨ã€æ—¶é—´åˆ»åº¦ï¼ˆå«ç¼©æ”¾ï¼‰ã€æ—¶é—´æ¸¸æ ‡ã€ç´ ææ—¶é•¿å’Œä½ç½®æ‹–æ‹½è°ƒæ•´ç­‰ç­‰</p>
</li>
<li>
<p>å¤„ç†å·¥å…·ï¼šåˆ†å‰²è£å‰ªã€æ°´å¹³ç¿»è½¬ã€ä¸¤æ®µè§†é¢‘åˆå¹¶è¿æ¥</p>
</li>
<li>
<p>è§†é¢‘å¯¼å‡ºï¼šè§†é¢‘æ ¼å¼ã€åˆ†è¾¨ç‡ã€ç ç‡ã€éŸ³é¢‘å¯¼å‡ºç­‰</p>
</li>
<li>
<p>åŸºç¡€ä¿¡æ¯ç¼–è¾‘ï¼šä½ç½®ã€å¤§å°ã€é€æ˜åº¦ã€æ—‹è½¬</p>
</li>
<li>
<p>ä¿¡æ¯ç¼–è¾‘ï¼šéŸ³è§†é¢‘çš„å£°é‡è°ƒèŠ‚</p>
</li>
<li>
<p><strong>å¤–å›´åŠŸèƒ½</strong></p>
</li>
<li>
<p>é•¿å®½æ¯”è°ƒæ•´</p>
</li>
<li>
<p>æ’­æ”¾å™¨è¿›åº¦æ˜¾ç¤ºå™¨</p>
</li>
<li>
<p>æš—é»‘ä¸»é¢˜å’Œæµ…è‰²ä¸»é¢˜åˆ‡æ¢</p>
</li>
<li>
<p>å¤šè¯­è¨€ï¼ˆ8ç§ï¼‰ï¼Œå«è¯­è¨€åˆ‡æ¢ç»„ä»¶</p>
</li>
<li>
<p><strong>è¿›é˜¶åŠŸèƒ½</strong></p>
</li>
<li>
<p>æ—¶é—´è½´å®šåˆ¶ï¼šå¯åœ¨æ—¶é—´è½´ä¸Šæ‰©å±•å„ç§é™„åŠ å…ƒç´ </p>
</li>
<li>
<p>åª’ä½“åº“ç®¡ç†ï¼šç®¡ç†å„ç§ç´ æã€å¯¼å…¥ï¼ˆå«æ–‡ä»¶å¤¹å¯¼å…¥ï¼‰ã€æ·»åŠ ã€å¤šé€‰æŒ‰é¡ºåºæ·»åŠ ç­‰ç­‰</p>
</li>
<li>
<p>ç´ æç±»å‹ï¼šè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ï¼ˆå«gifï¼‰ã€æ–‡å­—ï¼ˆå«æ–‡å­—æ ·å¼ç¼–è¾‘ï¼‰</p>
</li>
<li>
<p>åª’ä½“åº“å®šåˆ¶ï¼šç‰¹å®šç±»å‹ç´ ææ–°å¢èœå•æ·»åŠ åŠŸèƒ½ã€æ–°å¢åª’ä½“ç±»å‹ç­‰</p>
</li>
<li>
<p>åŠ¨ç”»ï¼šå¯æ‰©å±•çš„åŠ¨ç”»åŠŸèƒ½</p>
</li>
<li>
<p>æ»¤é•œï¼šå¯æ‰©å±•çš„æ»¤é•œåŠŸèƒ½</p>
</li>
<li>
<p>è½¬åœºæ•ˆæœï¼šå¯æ‰©å±•çš„è½¬åœºæ•ˆæœ</p>
</li>
<li>
<p><strong>VIPåŠŸèƒ½</strong></p>
</li>
<li>
<p>è§†é¢‘æ°´å°ï¼ˆå«è¿åŠ¨æ•ˆæœï¼‰</p>
</li>
<li>
<p>æ–‡æœ¬è½¬è¯­éŸ³</p>
</li>
</ul>
<h3 data-id="heading-3">æœ¬å‘¨å¼€æºæ—¥å¿—</h3>
<p>æœ¬å‘¨æˆ‘ä»¬å®ç°äº†åŠ¨ç”»ã€æ»¤é•œã€è½¬åœºè¿™3ä¸ªåœ¨è§†é¢‘ç¼–è¾‘å™¨æŠ€æœ¯å®ç°ä¸­éå¸¸éº»çƒ¦çš„åŠŸèƒ½ï¼Œè¿™é‡Œå±•å¼€è®²ä¸€ä¸‹ã€‚</p>
<ul>
<li>åŠ¨ç”»</li>
</ul>
<p>åŠ¨ç”»ä¸»è¦æŒ‡ç´ æåœ¨è§†é¢‘ä¸­çš„è¿åŠ¨æ•ˆæœï¼Œè¿™é‡Œçš„è¿åŠ¨ä¸»è¦é€šè¿‡æ”¹å˜ç´ æçš„åŸºæœ¬å±æ€§æ¥å®ç°ã€‚ä¾‹å¦‚é€šè¿‡æ”¹å˜ç´ æçš„ä½ç½®ä¿¡æ¯æ¥å®ç°ä½ç§»ï¼Œé€šè¿‡æ”¹å˜å¤§å°æ¥å®ç°è¿åŠ¨ä¸­çš„ç¼©æ”¾æ•ˆæœï¼Œé€šè¿‡æ”¹å˜é€æ˜åº¦æ¥å®ç°é—ªåŠ¨æ•ˆæœç­‰ç­‰ã€‚åŒæ—¶ï¼Œè¿™äº›å±æ€§çš„å˜åŒ–å¯ä»¥ä¸¤ä¸¤ç»„åˆï¼Œå®ç°éå¸¸é…·ç‚«çš„åŠ¨ç”»ã€‚</p>
<p>åœ¨WebCutä¸­ï¼Œä¸€ä¸ªåŠ¨ç”»ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªéƒ¨åˆ†å®šä¹‰keyframeï¼Œå®ƒæ˜¯ä¸€ç»„key-valueï¼Œå…¶ä¸­keyä»£è¡¨æ—¶é—´è¿›åº¦ï¼Œä¾‹å¦‚5%, 40%, 90%ï¼Œvalueä»£è¡¨åœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šåº”è¯¥ä»¥ä»€ä¹ˆå±æ€§å±•ç¤ºæ—¶é—´ç‚¹ä¹‹é—´ï¼Œåˆ™é€šè¿‡åŠ¨ç”»è¿ç®—æ¥è¿›è¡Œè¡¥é—´ï¼›å¦ä¸€éƒ¨åˆ†æ˜¯å‚æ•°ï¼Œç”¨äºè®¡ç®—åŠ¨ç”»çš„é€Ÿåº¦ã€‚å¦‚æœä»¥å‰å¼€å‘è¿‡cssçš„å°ä¼™ä¼´ï¼Œåº”è¯¥å¯¹animationéå¸¸äº†è§£ã€‚</p>
<ul>
<li>æ»¤é•œ</li>
</ul>
<p>æ»¤é•œä¸»è¦æŒ‡å¯¹ç´ æçš„ç”»é¢è¡¨ç°è¿›è¡Œå˜åŒ–ï¼Œä¾‹å¦‚ç°åº¦ã€é²œäº®ã€é«˜æ–¯æ¨¡ç³Šç­‰æ•ˆæœã€‚åœ¨WebCutä¸­ï¼Œä¸»è¦é€šè¿‡å¯¹è§†é¢‘ç”»é¢çš„å¸§è¿›è¡Œæ»¤é•œå¤„ç†ï¼Œä»è€Œè®©æ•´ä¸ªè§†é¢‘æ‹¥æœ‰æ»¤é•œæ•ˆæœã€‚</p>
<ul>
<li>è½¬åœº</li>
</ul>
<p>è½¬åœºä¸»è¦é’ˆå¯¹çš„æ˜¯ä¸¤æ®µè§†é¢‘çš„è¿æ¥æ–¹å¼ï¼Œå®ƒçš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œç»“åˆäº†åŠ¨ç”»ã€æ»¤é•œç­‰æ•ˆæœï¼Œè€Œä¸”è¿˜è¦å¤„ç†ä¸¤æ®µè§†é¢‘çš„è¡”æ¥ã€‚å…¶å®ç°éš¾åº¦éå¸¸å¤§ã€‚ä¸è¿‡WebCutå·²ç»åšäº†é«˜åº¦é›†æˆï¼Œæä¾›äº†éå¸¸ä¾¿æ·çš„æ¥å£ï¼Œå¼€å‘è€…åªéœ€è¦æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œä¼ å…¥å‚æ•°ï¼Œå³å¯å®Œæˆè‡ªå·±çš„è½¬åœºæ•ˆæœã€‚</p>
<p>é™¤äº†ä¸Šé¢æåˆ°çš„3ä¸ªéå¸¸é‡è¦çš„åŠŸèƒ½ï¼Œæœ¬å‘¨ï¼Œæˆ‘ä»¬è¿˜å¯¹WebCutåšäº†ä¸€é¡¹éå¸¸é‡è¦çš„è®¾è®¡å®ç°ï¼Œå°±æ˜¯å®ç°äº†â€œæ‰©å±•åŒ…â€åŠŸèƒ½ã€‚å¼€å‘è€…å¯åŸºäºè¯¥åŠŸèƒ½ï¼Œå®šä¹‰è‡ªå·±çš„æ‰©å±•åŒ…ï¼Œå¹¶æŠŠå®ƒæ³¨å†Œåˆ°WebCutä¸­ï¼Œå³å¯å®ç°è‡ªå·±çš„å¤æ‚åŠŸèƒ½ã€‚æˆ‘ä»¬çš„VIPåŠŸèƒ½å°±æ˜¯åŸºäºè¯¥æ‰©å±•åŒ…åŠŸèƒ½å®ç°ã€‚ç®€å•è®²ï¼Œæ‰©å±•åŒ…æä¾›äº†éå¸¸æ˜ç¡®çš„typescriptç±»å‹æ¥å£ï¼Œä½ åªéœ€è¦å®ç°è¯¥æ¥å£ï¼Œå°±å¯ä»¥è½»æ¾å¯¹è§†é¢‘ç¼–è¾‘å™¨è¿›è¡Œæ‰©å±•ï¼Œä»¥å¢åŠ WebCutæœ¬èº«æ²¡æœ‰çš„åŠŸèƒ½ã€‚</p>
<p>å¦å¤–ï¼Œæˆ‘ä»¬è¿˜åšäº†ä¸€äº›å°æ›´æ–°ã€‚ä¾‹å¦‚å¢åŠ äº†åœ¨åª’ä½“åº“ä¸­ç›´æ¥ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶å¤¹çš„èƒ½åŠ›ï¼Œå¢åŠ äº†å¤šé€‰å¤šä¸ªç´ æå¹¶æŒ‰é¡ºåºæ’å…¥åˆ°ç”»å¸ƒä¸­çš„èƒ½åŠ›ç­‰ã€‚æ›´å¤šåŠŸèƒ½ï¼Œè¿˜éœ€è¦ä½ è‡ªå·±å»å‘ç°ï½</p>
<p>ğŸ‘‰ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwebcut.top" target="_blank" title="https://webcut.top" ref="nofollow noopener noreferrer">webcut.top</a></p>
<p>ğŸŒ¹Githubç‚¹èµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftangshuang%2Fwebcut" target="_blank" title="https://github.com/tangshuang/webcut" ref="nofollow noopener noreferrer">github.com/tangshuang/â€¦</a></p>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å· wwwtangshuangnet ï¼ŒæŒç»­è·å–WebCutæ›´æ–°æ—¥å¿—ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®°ä¸€æ¬¡æœåŠ¡å™¨å¤§å¹¶å‘ä¸‹é«˜å»¶è¿Ÿé—®é¢˜çš„å®šä½]]></title>    <link>https://juejin.cn/post/7586491717873369107</link>    <guid>https://juejin.cn/post/7586491717873369107</guid>    <pubDate>2025-12-22T12:45:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717873369107" data-draft-id="7586490798431584319" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®°ä¸€æ¬¡æœåŠ¡å™¨å¤§å¹¶å‘ä¸‹é«˜å»¶è¿Ÿé—®é¢˜çš„å®šä½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T12:45:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç è´¢åŒè¡Œ"/> <meta itemprop="url" content="https://juejin.cn/user/3883950915978728"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®°ä¸€æ¬¡æœåŠ¡å™¨å¤§å¹¶å‘ä¸‹é«˜å»¶è¿Ÿé—®é¢˜çš„å®šä½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3883950915978728/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç è´¢åŒè¡Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:45:41.000Z" title="Mon Dec 22 2025 12:45:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ä¸€æ®µæ—¶é—´ï¼Œé¡¹ç›®å¢åŠ äº†å°æ¸¸æˆå¹³å°çš„æ”¯æŒï¼Œè€Œå°æ¸¸æˆçš„ç½‘ç»œè¦æ±‚æ˜¯ websocketï¼Œå› æ­¤æœåŠ¡å™¨ä¹Ÿå¯¹ websocket ç½‘ç»œè¿›è¡Œäº†æ”¯æŒã€‚</p>
<p>æœ€è¿‘ï¼Œå¼€å§‹å‹æµ‹æ–°çš„æ¶æ„ï¼Œå‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜ï¼š</p>
<ol>
<li>å½“å¹¶å‘è¾ƒå°‘æ—¶ï¼Œå¦‚100äººåŒæ—¶åœ¨çº¿ï¼Œä¸€åˆ‡æ­£å¸¸</li>
<li>å½“å¹¶å‘å¢å¤§ï¼Œæ¯”å¦‚å¢åŠ åˆ°1500äººï¼Œå®¢æˆ·ç«¯çš„å»¶è¿Ÿæ˜¾è‘—å¢åŠ ï¼Œç”šè‡³å°†æ­£å¸¸ç©çš„ç©å®¶è¸¢ä¸‹çº¿ã€‚</li>
</ol>
<p>å®é™…æ„Ÿå—ä¸‹æ¥ï¼Œå®¢æˆ·ç«¯çš„å»¶è¿Ÿèƒ½è¾¾åˆ°1.5så·¦å³ï¼ŒåŸºæœ¬ä¸å¯ç©ã€‚</p>
<p>äºæ˜¯å¼€å§‹å®šä½è¿™ä¸ªå¹¶å‘é€ æˆçš„å»¶è¿Ÿé—®é¢˜ã€‚</p>
<p>åœ¨ç°æœ‰çš„æ¶æ„ä¸­ï¼Œæ¶ˆæ¯æµè½¬çš„æ–¹å‘å¦‚ä¸‹ï¼š</p>
<p>client â†’ LB â†’ server â†’ LB â†’ client</p>
<p>æ•´ä¸ªæµç¨‹æ¶‰åŠä¸‰æ–¹ï¼šå®¢æˆ·ç«¯clientã€è´Ÿè´£è´Ÿè½½å‡è¡¡çš„LBã€ä»¥åŠæœåŠ¡å™¨serveræœ¬èº«ã€‚</p>
<p>è¿™ä¸‰æ–¹éƒ½å¯èƒ½ä¼šæœ‰é—®é¢˜ï¼Œäºæ˜¯æˆ‘è®¾è®¡äº†å‡ ä¸ª case æ¥ä¾æ¬¡æ’é™¤ï¼š</p>
<p>1ï¼‰ç¬¬ä¸€ä¸ªå¯èƒ½å°±æ˜¯å®¢æˆ·ç«¯é—®é¢˜ï¼Œæ¯”å¦‚å®¢æˆ·ç«¯é˜Ÿåˆ—è°ƒåº¦å»¶è¿Ÿæˆ–è€…å…¶ä»–bugã€‚æ’é™¤çš„æ–¹æ³•å°±æ˜¯ç”¨å‹æµ‹æœºå™¨äººå’ŒçœŸå®å®¢æˆ·ç«¯æ¥å¯¹æ¯”ï¼Œå¦‚æœå‹æµ‹æœºå™¨äººä¹Ÿæœ‰è¾ƒé«˜çš„å»¶è¿Ÿï¼Œé‚£å°±å¯ä»¥æ’é™¤clienté—®é¢˜ã€‚æµ‹è¯•ä¸‹æ¥ï¼Œæœºå™¨äººç»Ÿè®¡çš„å»¶è¿Ÿä¹Ÿæ˜¯å¾ˆé«˜ï¼Œ90%çš„è€—æ—¶ä¸º900å¤šmsï¼Œå› æ­¤æ’é™¤å®¢æˆ·ç«¯clienté—®é¢˜ã€‚</p>
<p>2ï¼‰ç¬¬äºŒä¸ªå¯èƒ½æ˜¯LBé—®é¢˜ï¼Œæœ‰æ—¶å€™å¦‚æœLBé™åˆ¶äº†å¸¦å®½ï¼Œä¹Ÿå¯èƒ½é€ æˆè¾ƒé«˜çš„å»¶è¿Ÿã€‚æ’é™¤çš„æ–¹æ³•æ˜¯å°†LBæ›¿æ¢æˆå…¶ä»–ä¸èµ°LBçš„å½¢å¼ï¼Œåœ¨æˆ‘ä»¬K8SæœåŠ¡å™¨é›†ç¾¤ä¸­æ˜¯å°†LBæ¢æˆ NodePort çš„å½¢å¼ä¾›å®¢æˆ·ç«¯é“¾æ¥ã€‚æµ‹è¯•ä¸‹æ¥ï¼Œæ¢æˆ NodePort æ–¹å¼è¿æ¥åï¼Œå»¶è¿Ÿä¾ç„¶è¿˜åœ¨ï¼Œå› æ­¤æ’é™¤LBé—®é¢˜ã€‚</p>
<p>3ï¼‰æœ€åä¸€ç§å¯èƒ½å°±æ˜¯æœåŠ¡å™¨serveræœ¬èº«çš„é—®é¢˜ã€‚ä½†æ˜¯ä¹‹å‰éå°æ¸¸æˆçš„æƒ…å†µä¸‹ï¼Œå‹æµ‹æ˜¯æ­£å¸¸çš„ï¼Œå› æ­¤æˆ‘çš„æ€€ç–‘ç‚¹å°±è½åˆ°websocket ç½‘ç»œå±‚å®ç°ä¸Šï¼Œå½“ç„¶ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯èƒ½æ˜¯æœåŠ¡å™¨çš„ä¸šåŠ¡é€»è¾‘å±‚çš„å¤„ç†æ¯”è¾ƒè€—æ—¶ã€‚</p>
<p>å…ˆæ¥çœ‹çœ‹æ˜¯å¦æ˜¯é€»è¾‘å±‚å¤„ç†æ¯”è¾ƒè€—æ—¶ã€‚</p>
<p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨é€»è¾‘å¤„ç†çš„å…¥å£å’Œå‡ºå£å¤„å¢åŠ æ—¶é—´ç»Ÿè®¡ã€‚ç»“æœæ˜¯é€»è¾‘å¤„ç†éå¸¸å¿«ï¼ŒåŸºæœ¬æ˜¯æ¯«ç§’çº§åˆ«çš„è€—æ—¶ï¼Œå› æ­¤æ’é™¤äº†é€»è¾‘å±‚çš„é—®é¢˜ã€‚</p>
<p>é‚£æœ€åçš„æ€€ç–‘ç‚¹å°±è½åˆ°äº†ç½‘ç»œå±‚ä¸Šã€‚ä¸ºäº†è¯å®è‡ªå·±çš„çŒœæƒ³ï¼Œæˆ‘å°†å‹æµ‹æœºå™¨äººè¿˜åŸä¸º tcp ç½‘ç»œï¼Œå‘ç°å»¶è¿Ÿæ˜¾è‘—ä¸‹é™åˆ°æ­£å¸¸æ°´å¹³ï¼ˆ10msä»¥å†…ï¼‰ï¼Œäºæ˜¯æ ¹æ®é€»è¾‘æ¨ç†ï¼Œé—®é¢˜å‡ºåœ¨ websocket æœåŠ¡ä¸Šã€‚</p>
<p>ç°åœ¨çš„ç½‘ç»œå±‚ loop æ˜¯è¿™æ ·çš„æµç¨‹ï¼š</p>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-keyword">while</span> (<span class="hljs-built_in">IsRunning</span>())
{
    <span class="hljs-comment">// å¤„ç† websocket ç½‘ç»œIO</span>
    _ProcWebSocket();
    
    <span class="hljs-comment">// å¤„ç†TCPç½‘ç»œIO ï¼ˆå†…éƒ¨TCPé€šä¿¡ï¼‰</span>
    _ProcTcpEpoll();
    
    <span class="hljs-comment">// å¤„ç†é€»è¾‘å±‚è¿‡æ¥çš„æ¶ˆæ¯ï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰</span>
    _ProcNetQueue()
}
</code></pre>
<p>æ ¹æ®ä»¥å¾€çš„ç»éªŒï¼Œå¾ˆå¯èƒ½æ˜¯è°ƒåº¦å¾ªç¯ loop é‡Œå¤„ç†æ¶ˆæ¯å‘é€çš„æµç¨‹ç§¯å‹çš„æ¯”è¾ƒå¤šï¼Œä¹Ÿå°±æ˜¯ <code>_ProcWebSocket</code> è°ƒåº¦æ—¶é—´ä¸è¶³å¯¼è‡´çš„ã€‚</p>
<p>æŸ¥çœ‹ä»£ç ï¼Œå‘ç°æ˜¯è°ƒç”¨çš„æ˜¯ <code>RunOnce</code>, å®ƒçš„å®ç°ä¹Ÿæ¯”è¾ƒç®€å•ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CWSServer::RunOnce</span><span class="hljs-params">()</span>
</span>{
    m_endpoint.<span class="hljs-built_in">poll_one</span>();
}
</code></pre>
<p>ç¿»çœ‹ websocket åº“æ–‡æ¡£åï¼Œå‘ç°é™¤äº† poll_one ä¹‹å¤–è¿˜æœ‰ä¸ª pollï¼Œä»–ä»¬çš„åŒºåˆ«å°±æ˜¯ä¸€æ¬¡å¤„ç†å¤šå°‘ websocket çš„IO äº‹ä»¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/932a5adf1006409d9b6e08b413b3b3f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB6LSi5ZCM6KGM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767012341&amp;x-signature=ONALpQoD8712UhUSDcbXTPg2%2Bok%3D" alt="image.png" loading="lazy"/></p>
<p>å¾ˆæ˜æ˜¾ï¼Œä¸€æ¬¡å¾ªç¯è°ƒåº¦ä¸€æ¬¡ poll_one é€ æˆäº†åº•å±‚IO çš„æŒ¤å‹ï¼Œæˆ‘è°ƒè¯•æ—¶å€™å‘ç°ï¼Œå¹¶å‘è¶…è¿‡1500äººä¹‹åï¼Œpoll_one è°ƒç”¨10æ¬¡éƒ½ä¸å¤Ÿã€‚</p>
<p>æœ€ç»ˆçš„ä¿®æ”¹æ–¹æ¡ˆä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨ poll æ¥å°½é‡å¤šçš„è°ƒåº¦è§¦å‘çš„äº‹ä»¶ï¼Œæœ‰å¤šå°‘è°ƒç”¨å¤šå°‘ï¼Œç±»ä¼¼ epollï¼ˆè·å–æœ‰å¤šå°‘ä¸ªäº‹ä»¶ï¼Œç„¶åä¾æ¬¡å¤„ç†ï¼‰:</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">CWSServer::RunOnce</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// Start the Asio io_service run loop</span>
    <span class="hljs-comment">// éé˜»å¡è°ƒç”¨ï¼Œä¼šä¸€æ¬¡å¤„ç†å¤šä¸ªäº‹ä»¶</span>
    m_endpoint.<span class="hljs-built_in">poll</span>();
}
</code></pre>
<p>ä¿®æ”¹å®Œæ¯•ä¹‹åï¼Œå¤§å¹¶å‘ä¸‹ï¼Œå»¶è¿Ÿä¸‹é™åˆ°10msï¼ŒåŸºæœ¬æ»¡è¶³éœ€æ±‚ã€‚</p>
<p>æ›´è¿›ä¸€æ­¥ï¼šè¿™æ¬¡é—®é¢˜çš„å®šä½è¿˜æ˜¯æ¯”è¾ƒè€—æ—¶çš„ï¼Œå¦‚æœå¼•å…¥ä¸€ä¸‹æ¶ˆæ¯è¿½è¸ªçš„å·¥å…·ï¼Œèƒ½è¾ƒå¿«çš„å®šä½åˆ°å»¶è¿Ÿå‡ºåœ¨å“ªä¸ªç¯èŠ‚ï¼›
å¦å¤–ï¼Œå¦‚æœèƒ½å¢åŠ ä¸€äº›æ¶ˆæ¯å»¶è¿Ÿçš„ç›‘æ§æˆ–è€…ç»Ÿè®¡ï¼Œèƒ½æ›´å¿«å‘ç°é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™çœŸçš„æ˜¯æˆ‘çœ‹è¿‡æœ€æ·±åˆ»çš„2025å¹´AIå¤§æ¨¡å‹å¹´åº¦å¤ç›˜]]></title>    <link>https://juejin.cn/post/7586506307726753802</link>    <guid>https://juejin.cn/post/7586506307726753802</guid>    <pubDate>2025-12-22T12:52:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586506307726753802" data-draft-id="7586504691845496841" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™çœŸçš„æ˜¯æˆ‘çœ‹è¿‡æœ€æ·±åˆ»çš„2025å¹´AIå¤§æ¨¡å‹å¹´åº¦å¤ç›˜"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-12-22T12:52:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ™ºæ³ŠAI"/> <meta itemprop="url" content="https://juejin.cn/user/3572727470361578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™çœŸçš„æ˜¯æˆ‘çœ‹è¿‡æœ€æ·±åˆ»çš„2025å¹´AIå¤§æ¨¡å‹å¹´åº¦å¤ç›˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3572727470361578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ™ºæ³ŠAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:52:10.000Z" title="Mon Dec 22 2025 12:52:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>AndrejKarpathyå‰å‡ å¤©å‘äº†ä¸€ç¯‡2025å¹´LLMå¹´åº¦å›é¡¾ã€‚ä»–æ˜¯OpenAIè”åˆåˆ›å§‹äººã€å‰ç‰¹æ–¯æ‹‰AIæ€»ç›‘ï¼Œä¹Ÿæ˜¯å…¨çƒæœ€æœ‰å½±å“åŠ›çš„AIç ”ç©¶è€…ä¹‹ä¸€ã€‚è¿™ç¯‡æ–‡ç« é‡Œæœ‰6ä¸ªè§‚ç‚¹ï¼Œæ¯ä¸€ä¸ªéƒ½ç†è§£å¾—éå¸¸æ·±åˆ»ã€‚å¼ºçƒˆæ¨èå¤§å®¶çœ‹çœ‹ã€‚</p>
<p><strong>ç¬¬ä¸€: è®­ç»ƒæ–¹æ³•å½»åº•å˜äº†</strong></p>
<p>2025å¹´ä¹‹å‰ï¼Œè®­ç»ƒä¸€ä¸ªå¥½ç”¨çš„å¤§æ¨¡å‹åŸºæœ¬æ˜¯ä¸‰æ­¥èµ°ã€‚é¢„è®­ç»ƒã€ç›‘ç£å¾®è°ƒã€äººç±»åé¦ˆå¼ºåŒ–å­¦ä¹ ã€‚è¿™ä¸ªé…æ–¹ä» 2020å¹´ç”¨åˆ°ç°åœ¨ï¼Œç¨³å®šäº†5å¹´ã€‚</p>
<p>2025å¹´å¤šäº†å…³é”®çš„ç¬¬å››æ­¥: RLVRã€‚å…¨ç§°æ˜¯Reinforcementfrom VerifiableLearningRewardsï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯å¯éªŒè¯å¥–åŠ±çš„å¼ºåŒ–å­¦ä¹ ã€‚</p>
<p>ä»€ä¹ˆæ„æ€?ç®€å•è¯´ï¼Œå°±æ˜¯è®©æ¨¡å‹åœ¨æœ‰æ ‡å‡†ç­”æ¡ˆçš„ç¯å¢ƒé‡Œåå¤ç»ƒä¹ ã€‚æ¯”å¦‚æ•°å­¦é¢˜ï¼Œç­”æ¡ˆå¯¹å°±æ˜¯å¯¹é”™å°±æ˜¯é”™ï¼Œä¸éœ€è¦äººæ¥æ‰“åˆ†ã€‚ä»£ç ä¹Ÿä¸€æ ·ï¼Œèƒ½è·‘é€šå°±æ˜¯èƒ½è·‘é€šã€‚</p>
<p>è¿™å’Œä¹‹å‰çš„è®­ç»ƒæœ‰ä»€ä¹ˆæœ¬è´¨åŒºåˆ«?ä»¥å‰çš„ç›‘ç£å¾®è°ƒå’Œäººç±»åé¦ˆï¼Œæœ¬è´¨ä¸Šæ˜¯ç…§è‘«èŠ¦ç”»ç“¢ï¼Œäººç»™ä»€ä¹ˆæ ·æœ¬ï¼Œæ¨¡å‹å­¦ä»€ä¹ˆæ ·æœ¬ã€‚ä½†RLVRä¸ä¸€æ ·ï¼Œå®ƒè®©æ¨¡å‹è‡ªå·±æ‘¸ç´¢å‡ºè§£é¢˜ç­–ç•¥ã€‚å°±åƒå­¦æ¸¸æ³³ï¼Œä¹‹å‰æ˜¯çœ‹æ•™å­¦è§†é¢‘æ¨¡ä»¿åŠ¨ä½œï¼Œç°åœ¨æ˜¯ç›´æ¥æ‰”æ°´é‡Œï¼Œåªè¦ä½ èƒ½æ¸¸åˆ°å¯¹å²¸ï¼Œæ€ä¹ˆåˆ’æ°´æˆ‘ä¸ç®¡ã€‚</p>
<p>ç»“æœå‘¢?æ¨¡å‹è‡ªå·±æ‚Ÿå‡ºäº†çœ‹èµ·æ¥åƒæ¨ç†çš„ä¸œè¥¿å®ƒå­¦ä¼šäº†æŠŠå¤§é—®é¢˜æ‹†æˆå°æ­¥éª¤ï¼Œå­¦ä¼šäº†èµ°é”™è·¯æ—¶å›å¤´é‡æ¥ã€‚è¿™äº›ç­–ç•¥å¦‚æœé äººç±»æ ‡æ³¨ç¤ºèŒƒï¼Œæ ¹æœ¬æ ‡ä¸å‡ºæ¥ï¼Œå› ä¸ºäººè‡ªå·±ä¹Ÿè¯´ä¸æ¸…æ­£ç¡®çš„æ€è€ƒè¿‡ç¨‹é•¿ä»€ä¹ˆæ ·ã€‚</p>
<p>è¿™ä¸ªå˜åŒ–å¸¦æ¥ä¸€ä¸ªè¿é”ååº”ï¼Œç®—åŠ›çš„åˆ†é…æ–¹å¼å˜äº†ã€‚ä»¥å‰å¤§éƒ¨åˆ†ç®—åŠ›ç ¸åœ¨é¢„è®­ç»ƒé˜¶æ®µï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šç®—åŠ›ç”¨äºRLé˜¶æ®µã€‚æ¨¡å‹çš„å‚æ•°è§„æ¨¡æ²¡æ€ä¹ˆæ¶¨ï¼Œä½†æ¨ç†èƒ½åŠ›é£™å‡ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer"><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨æ™ºæ³ŠAIã€‚</strong></a></p>
<p>OpenAlçš„o1æ˜¯è¿™æ¡è·¯çš„èµ·ç‚¹ï¼Œo3 æ˜¯çœŸæ­£è®©äººæ„Ÿè§‰åˆ°ä¸ä¸€æ ·çš„æ‹ç‚¹ã€‚</p>
<p>è¿˜æœ‰ä¸ªæ–°ç©æ³•ï¼Œæ¨ç†æ—¶ä¹Ÿèƒ½èŠ±æ›´å¤šç®—åŠ›ã€‚è®©æ¨¡å‹æƒ³ä¹…ä¸€ç‚¹ï¼Œç”Ÿæˆæ›´é•¿çš„æ¨ç†é“¾æ¡ï¼Œæ•ˆæœå°±æ›´å¥½ã€‚è¿™ç›¸å½“äºå¤šäº†ä¸€ä¸ªè°ƒèŠ‚èƒ½åŠ›çš„æ—‹é’®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1d8f598b4ce499fb3cf48d425ac23ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pm65rOKQUk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767012730&amp;x-signature=04UOtC0FIIdShT1GQ66irXw6BFQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬äºŒ: æˆ‘ä»¬ç»ˆäºææ‡‚äº† AI æ˜¯ä»€ä¹ˆå½¢çŠ¶çš„</strong></p>
<p>èªæ˜Karpathy ç”¨äº†ä¸€ä¸ªå¾ˆå¦™çš„æ¯”å–»ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨å…»åŠ¨ç‰©ï¼Œè€Œæ˜¯åœ¨å¬å”¤å¹½çµã€‚</p>
<p>äººç±»çš„æ™ºèƒ½æ˜¯è¿›åŒ–å‡ºæ¥çš„ï¼Œä¼˜åŒ–ç›®æ ‡æ˜¯åœ¨ä»æ—é‡Œè®©éƒ¨è½æ´»ä¸‹å»ã€‚å¤§æ¨¡å‹çš„æ™ºèƒ½æ˜¯è®­ç»ƒå‡ºæ¥çš„ï¼Œä¼˜åŒ–ç›®æ ‡æ˜¯æ¨¡ä»¿äººç±»æ–‡æœ¬ã€åœ¨æ•°å­¦é¢˜é‡Œæ‹¿åˆ†ã€åœ¨è¯„æµ‹æ¦œå•ä¸Šåˆ·åˆ†ã€‚ä¼˜åŒ–ç›®æ ‡å®Œå…¨ä¸åŒï¼Œå‡ºæ¥çš„ä¸œè¥¿å½“ç„¶ä¹Ÿå®Œå…¨ä¸åŒã€‚</p>
<p>æ‰€ä»¥ AIçš„æ™ºèƒ½æ˜¯å‚å·®ä¸é½çš„ï¼Œè‹±æ–‡å«jaggedintelligenceã€‚å®ƒå¯ä»¥åœ¨æŸäº›é¢†åŸŸè¡¨ç°å¾—åƒå…¨çŸ¥å…¨èƒ½çš„å­¦è€…ï¼ŒåŒæ—¶åœ¨å¦ä¸€äº›é¢†åŸŸçŠ¯å°å­¦ç”Ÿéƒ½ä¸ä¼šçŠ¯çš„é”™ã€‚ä¸Šä¸€ç§’å¸®ä½ æ¨å¯¼å¤æ‚å…¬å¼ï¼Œä¸‹ä¸€ç§’è¢«ä¸€ä¸ªç®€å•çš„è¶Šç‹±æç¤ºéª—èµ°ä½ çš„æ•°æ®ã€‚</p>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·?å› ä¸ºå“ªä¸ªé¢†åŸŸæœ‰å¯éªŒè¯çš„å¥–åŠ±æ¨¡å‹åœ¨é‚£ä¸ªé¢†åŸŸå°±ä¼šé•¿å‡ºå°–åˆºã€‚æ•°å­¦æœ‰æ ‡å‡†ç­”æ¡ˆä»£ç èƒ½è·‘æµ‹è¯•ï¼Œæ‰€ä»¥è¿™äº›é¢†åŸŸè¿›æ­¥é£å¿«ã€‚ä½†å¸¸è¯†ç¤¾äº¤ã€åˆ›æ„è¿™äº›é¢†åŸŸï¼Œä»€ä¹ˆæ˜¯å¯¹å¾ˆéš¾å®šä¹‰ï¼Œæ¨¡å‹å°±æ²¡æ³•é«˜æ•ˆå­¦ä¹ ã€‚</p>
<p>è¿™ä¹Ÿè®©Karpathy å¯¹åŸºå‡†æµ‹è¯•å¤±å»äº†ä¿¡ä»»ã€‚é“ç†å¾ˆç®€å•ï¼Œæµ‹è¯•é¢˜æœ¬èº«å°±æ˜¯å¯éªŒè¯ç¯å¢ƒï¼Œæ¨¡å‹å®Œå…¨å¯ä»¥é’ˆå¯¹æµ‹è¯•ç¯å¢ƒåšä¼˜åŒ–ã€‚åˆ·æ¦œå˜æˆäº†ä¸€é—¨è‰ºæœ¯ã€‚</p>
<p>æ‰€æœ‰åŸºå‡†éƒ½åˆ·æ»¡äº†ï¼Œä½†ç¦»çœŸæ­£çš„é€šç”¨æ™ºèƒ½è¿˜å·®å¾—è¿œï¼Œè¿™æ˜¯å®Œå…¨å¯èƒ½å‘ç”Ÿçš„äº‹ã€‚</p>
<p><strong>ç¬¬ä¸‰: LLM åº”ç”¨å±‚æµ®å‡ºæ°´é¢</strong></p>
<p>ä»Šå¹´ç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚ä½† Karpathy è®¤ä¸ºCursorå®ƒæœ€å¤§çš„æ„ä¹‰ä¸æ˜¯äº§å“æœ¬èº«ï¼Œè€Œæ˜¯è¯æ˜äº†LLMåº”ç”¨è¿™ä¸ªæ–°ç‰©ç§çš„å­˜åœ¨ã€‚</p>
<p>å¤§å®¶å¼€å§‹è®¨è®ºXé¢†åŸŸçš„Cursorï¼Œè¿™è¯´æ˜ä¸€ç§æ–°çš„è½¯ä»¶èŒƒå¼æˆç«‹äº†ã€‚</p>
<p>è¿™ç±»åº”ç”¨åšä»€ä¹ˆ?ç¬¬ä¸€ï¼Œåšä¸Šä¸‹æ–‡å·¥ç¨‹ï¼ŒæŠŠç›¸å…³ä¿¡æ¯æ•´ç†å¥½ï¼Œå–‚ç»™æ¨¡å‹ã€‚ç¬¬äºŒï¼Œç¼–æ’å¤šä¸ªæ¨¡å‹è°ƒç”¨ï¼Œåå°å¯èƒ½ä¸²äº†ä¸€å † API è°ƒç”¨ï¼Œå¹³è¡¡æ•ˆæœå’Œæˆæœ¬ã€‚ç¬¬ä¸‰ï¼Œæä¾›ä¸“ä¸šåœºæ™¯çš„ç•Œé¢ï¼Œè®©äººç±»èƒ½åœ¨å…³é”®èŠ‚ç‚¹ä»‹å…¥ã€‚ç¬¬å››ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªè‡ªä¸»ç¨‹åº¦æ»‘æ†ä½ å¯ä»¥è®©å®ƒå¤šå¹²ç‚¹ï¼Œä¹Ÿå¯ä»¥è®©å®ƒå°‘å¹²ç‚¹ã€‚</p>
<p>æœ‰ä¸ªé—®é¢˜è¢«è®¨è®ºäº†ä¸€æ•´å¹´ï¼Œè¿™ä¸ªåº”ç”¨å±‚æœ‰å¤šåš?</p>
<p>æ¨¡å‹å‚å•†ä¼šä¸ä¼šæŠŠæ‰€æœ‰åº”ç”¨éƒ½åƒæ‰?</p>
<p>Karpathyçš„åˆ¤æ–­æ˜¯ï¼Œæ¨¡å‹å‚å•†åŸ¹å…»çš„æ˜¯æœ‰é€šç”¨èƒ½åŠ›çš„å¤§å­¦æ¯•ä¸šç”Ÿï¼Œä½†LLMåº”ç”¨è´Ÿè´£æŠŠè¿™äº›æ¯•ä¸šç”Ÿç»„ç»‡èµ·æ¥ã€åŸ¹è®­ä¸Šå²—ï¼Œå˜æˆèƒ½åœ¨å…·ä½“è¡Œä¸šå¹²æ´»çš„ä¸“ä¸šå›¢é˜Ÿã€‚æ•°æ®ã€ä¼ æ„Ÿå™¨ã€æ‰§è¡Œå™¨ã€åé¦ˆå¾ªç¯ï¼Œè¿™äº›éƒ½æ˜¯åº”ç”¨å±‚çš„æ´»ã€‚</p>
<p><strong>ç¬¬å››: AI æ¬è¿›äº†ä½ çš„ç”µè„‘</strong></p>
<p>Claude Code æ˜¯ä»Šå¹´æœ€è®©Karpathy å°è±¡æ·±åˆ»çš„äº§å“ä¹‹ä¸€ã€‚å®ƒå±•ç¤ºäº† AI æ™ºèƒ½ä½“åº”è¯¥é•¿ä»€ä¹ˆæ ·ï¼Œèƒ½è°ƒç”¨å·¥å…·ã€èƒ½åšæ¨ç†ã€èƒ½å¾ªç¯æ‰§è¡Œã€èƒ½è§£å†³å¤æ‚é—®é¢˜ã€‚</p>
<p>ä½†æ›´å…³é”®çš„æ˜¯ï¼Œå®ƒè·‘åœ¨ä½ çš„ç”µè„‘ä¸Šã€‚ç”¨ä½ çš„ç¯å¢ƒä½ çš„æ•°æ®ã€ä½ çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p>Karpathyè®¤ä¸ºOpenAI åœ¨è¿™é‡Œåˆ¤æ–­å¤±è¯¯äº†ã€‚ä»–ä»¬æŠŠCodexå’Œæ™ºèƒ½ä½“çš„é‡å¿ƒæ”¾åœ¨äº‘ç«¯å®¹å™¨é‡Œä» ChatGPT å»è°ƒåº¦ã€‚è¿™åƒæ˜¯åœ¨ç„å‡†AGI ç»ˆå±€,ä½†æˆ‘ä»¬è¿˜æ²¡åˆ°é‚£ä¸€æ­¥ã€‚</p>
<p>ç°å®æ˜¯ï¼ŒAIçš„èƒ½åŠ›è¿˜æ˜¯å‚å·®ä¸é½çš„ï¼Œè¿˜éœ€è¦äººç±»åœ¨æ—è¾¹çœ‹ç€ã€é…åˆç€å¹²æ´»ã€‚æŠŠæ™ºèƒ½ä½“æ”¾åœ¨æœ¬åœ°å’Œå¼€å‘è€…å¹¶è‚©å·¥ä½œï¼Œæ‰æ˜¯å½“ä¸‹æ›´åˆç†çš„é€‰æ‹©ã€‚</p>
<p>Claude Code ç”¨ä¸€ä¸ªæç®€çš„å‘½ä»¤è¡Œç•Œé¢åšåˆ°äº†è¿™ä¸€ç‚¹ã€‚AIä¸å†åªæ˜¯ä½ è®¿é—®çš„ä¸€ä¸ªç½‘ç«™ï¼Œè€Œæ˜¯ä½åœ¨ä½ ç”µè„‘é‡Œçš„ä¸€ä¸ªå°ç²¾çµã€‚è¿™æ˜¯ä¸€ç§å…¨æ–°çš„äººæœºäº¤äº’èŒƒå¼ã€‚</p>
<p><strong>ç¬¬äº”: Vibe Coding èµ·é£äº†</strong></p>
<p>2025 å¹´ï¼ŒAI çš„èƒ½åŠ›è·¨è¿‡äº†ä¸€ä¸ªé—¨æ§›ã€‚ä½ å¯ä»¥çº¯ç”¨è‹±è¯­æè¿°éœ€æ±‚ï¼Œè®©å®ƒå¸®ä½ å†™ç¨‹åºï¼Œå®Œå…¨ä¸ç”¨ç®¡ä»£ç é•¿ä»€ä¹ˆæ ·ã€‚</p>
<p>Karpathy éšæ‰‹å‘äº†æ¡æ¨ç‰¹ï¼Œç»™è¿™ç§ç¼–ç¨‹æ–¹å¼èµ·äº†ä¸ªåå­—å« vibe codingï¼Œç»“æœè¿™ä¸ªè¯ç«éå…¨ç½‘ã€‚</p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆ?ç¼–ç¨‹ä¸å†æ˜¯ä¸“ä¸šç¨‹åºå‘˜çš„ä¸“åˆ©ï¼Œæ™®é€šäººä¹Ÿèƒ½åšã€‚è¿™å’Œè¿‡å»æ‰€æœ‰æŠ€æœ¯çš„æ‰©æ•£æ¨¡å¼éƒ½ä¸ä¸€æ ·ã€‚ä»¥å‰æ–°æŠ€æœ¯æ€»æ˜¯å…ˆè¢«å¤§å…¬å¸ã€æ”¿åºœã€ä¸“ä¸šäººå£«æŒæ¡ï¼Œç„¶åæ‰æ…¢æ…¢ä¸‹æ²‰ã€‚ä½†å¤§æ¨¡å‹åè¿‡æ¥æ™®é€šäººä»ä¸­å—ç›Šçš„æ¯”ä¾‹è¿œè¶…ä¸“ä¸šäººå£«ã€‚</p>
<p>ä¸åªæ˜¯è®©ä¸ä¼šç¼–ç¨‹çš„äººèƒ½ç¼–ç¨‹ã€‚å¯¹ä¼šç¼–ç¨‹çš„äººæ¥è¯´ï¼Œå¾ˆå¤šä»¥å‰ä¸å€¼å¾—å†™çš„å°ç¨‹åºç°åœ¨éƒ½å€¼å¾—å†™äº†ã€‚</p>
<p>Karpathy è‡ªå·±å°±ç”¨ vibe coding åšäº†ä¸€å †é¡¹ç›®ã€‚ç”¨Rust å†™äº†ä¸ªå®šåˆ¶çš„åˆ†è¯å™¨ã€åšäº†å¥½å‡ ä¸ªå·¥å…·ç±» Appã€ç”šè‡³å†™äº†ä¸€æ¬¡æ€§çš„ç¨‹åºåªä¸ºæ‰¾ä¸€ä¸ª bugã€‚</p>
<p>ä»£ç çªç„¶å˜å¾—å»‰ä»·ã€å³ç”¨å³å¼ƒã€åƒè‰ç¨¿çº¸ä¸€æ ·éšä¾¿å†™ã€‚è¿™ä¼šå½»åº•æ”¹å˜è½¯ä»¶çš„å½¢æ€å’Œç¨‹åºå‘˜çš„å·¥ä½œå†…å®¹ã€‚</p>
<p><strong>ç¬¬å…­: å¤§æ¨¡å‹çš„å›¾å½¢ç•Œé¢æ—¶ä»£è¦æ¥äº†</strong></p>
<p>Googleçš„Gemini Nano Banana æ˜¯ä»Šå¹´æœ€è¢«ä½ä¼°çš„äº§å“ä¹‹ä¸€ã€‚å®ƒèƒ½æ ¹æ®å¯¹è¯å†…å®¹å®æ—¶ç”Ÿæˆå›¾ç‰‡: ä¿¡æ¯å›¾ã€åŠ¨ç”»ï¼ŒæŠŠå›å¤ç”»å‡ºæ¥è€Œä¸æ˜¯å†™å‡ºæ¥ã€‚</p>
<p>KarpathyæŠŠè¿™ä»¶äº‹æ”¾åˆ°æ›´å¤§çš„å†å²è„‰ç»œé‡Œçœ‹å¤§æ¨¡å‹æ˜¯ä¸‹ä¸€ä¸ªé‡å¤§è®¡ç®—èŒƒå¼ï¼Œå°±åƒ70å¹´ä»£ã€80å¹´ä»£çš„è®¡ç®—æœºä¸€æ ·ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šçœ‹åˆ°ç±»ä¼¼çš„æ¼”è¿›è·¯å¾„ã€‚</p>
<p>ç°åœ¨å’Œå¤§æ¨¡å‹èŠå¤©ï¼Œæœ‰ç‚¹åƒ80å¹´ä»£åœ¨ç»ˆç«¯æ•²å‘½ä»¤ã€‚æ–‡å­—æ˜¯æœºå™¨å–œæ¬¢çš„æ ¼å¼ï¼Œä½†ä¸æ˜¯äººå–œæ¬¢çš„æ ¼å¼ã€‚äººå…¶å®ä¸çˆ±è¯»æ–‡å­—ï¼Œè¯»æ–‡å­—åˆæ…¢åˆç´¯ã€‚äººå–œæ¬¢çœ‹å›¾ã€çœ‹è§†é¢‘ã€çœ‹ç©ºé—´å¸ƒå±€ã€‚è¿™å°±æ˜¯ä¼ ç»Ÿè®¡ç®—æœºä¸ºä»€ä¹ˆè¦å‘æ˜å›¾å½¢ç•Œé¢ã€‚</p>
<p>å¤§æ¨¡å‹ä¹Ÿéœ€è¦è‡ªå·±çš„GUIã€‚å®ƒåº”è¯¥ç”¨æˆ‘ä»¬å–œæ¬¢çš„æ–¹å¼è·Ÿæˆ‘ä»¬è¯´è¯ï¼Œå›¾ç‰‡ã€å¹»ç¯ç‰‡ã€ç™½æ¿ã€åŠ¨ç”»ã€å°åº”ç”¨ã€‚ç°åœ¨çš„Emojiå’ŒMarkdown åªæ˜¯åˆçº§å½¢æ€ï¼Œå¸®æ–‡å­—åŒ–ä¸ªå¦†ã€‚</p>
<p>çœŸæ­£çš„ LLM GUI ä¼šæ˜¯ä»€ä¹ˆæ ·?Nano Banana æ˜¯ä¸€ä¸ªæ—©æœŸæš—ç¤ºã€‚æœ€æœ‰æ„æ€çš„æ˜¯ï¼Œè¿™ä¸åªæ˜¯å›¾åƒç”Ÿæˆçš„äº‹ã€‚å®ƒéœ€è¦æŠŠæ–‡æœ¬ç”Ÿæˆã€å›¾åƒç”Ÿæˆã€ä¸–ç•ŒçŸ¥è¯†å…¨éƒ¨ç»åœ¨ä¸€èµ·ï¼Œåœ¨æ¨¡å‹æƒé‡é‡Œèä¸ºä¸€ä½“ã€‚</p>
<p>Karpathy çš„æ€»ç»“æ˜¯è¿™æ ·çš„ã€‚2025 å¹´çš„å¤§æ¨¡å‹æ¯”ä»–é¢„æœŸçš„èªæ˜ï¼Œä¹Ÿæ¯”ä»–é¢„æœŸçš„è ¢ã€‚ä¸¤è€…åŒæ—¶æˆç«‹ã€‚</p>
<p>ä½†æœ‰ä¸€ç‚¹å¾ˆç¡®å®šï¼Œå³ä½¿ä»¥ç°åœ¨çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬è¿10%çš„æ½œåŠ›éƒ½æ²¡æŒ–æ˜å‡ºæ¥ã€‚è¿˜æœ‰å¤ªå¤šæƒ³æ³•å¯ä»¥è¯•æ•´ä¸ªé¢†åŸŸæ„Ÿè§‰æ˜¯æ•å¼€çš„ã€‚ä»–ç›¸ä¿¡è¿›æ­¥ä¼šç»§ç»­é£é€Ÿæ¨è¿›ï¼ŒåŒæ—¶ä¹Ÿç›¸ä¿¡è¿˜æœ‰å¤§é‡çš„å·¥ä½œè¦åšã€‚ä¸¤ä»¶äº‹å¹¶ä¸çŸ›ç›¾ã€‚</p>
<p>2026å¹´ï¼Œç³»å¥½å®‰å…¨å¸¦ç»§ç»­åŠ é€Ÿå§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fyuan.zhipoai.cn%2F" target="_blank" title="https://yuan.zhipoai.cn/" ref="nofollow noopener noreferrer"><strong>æ›´å¤šAIå¤§æ¨¡å‹å­¦ä¹ è§†é¢‘åŠèµ„æºï¼Œéƒ½åœ¨æ™ºæ³ŠAIã€‚</strong></a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”DeepSeek-V3æ·±åº¦è§£æï¼š671Bå‚æ•°MoEå¤§æ¨¡å‹çš„æŠ€æœ¯çªç ´ä¸å®è·µ]]></title>    <link>https://juejin.cn/post/7586452779713495055</link>    <guid>https://juejin.cn/post/7586452779713495055</guid>    <pubDate>2025-12-22T12:57:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586452779713495055" data-draft-id="7586518130761105448" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”DeepSeek-V3æ·±åº¦è§£æï¼š671Bå‚æ•°MoEå¤§æ¨¡å‹çš„æŠ€æœ¯çªç ´ä¸å®è·µ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-22T12:57:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¾é†’"/> <meta itemprop="url" content="https://juejin.cn/user/708512558088669"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”DeepSeek-V3æ·±åº¦è§£æï¼š671Bå‚æ•°MoEå¤§æ¨¡å‹çš„æŠ€æœ¯çªç ´ä¸å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/708512558088669/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¾é†’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:57:43.000Z" title="Mon Dec 22 2025 12:57:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å¤§æ¨¡å‹èµ›é“ä¸­ï¼Œâ€œå‚æ•°è§„æ¨¡â€ä¸â€œæ¨ç†æ•ˆç‡â€å¾€å¾€æ˜¯ä¸€å¯¹çŸ›ç›¾ä½“â€”â€”æ›´å¤§çš„å‚æ•°é€šå¸¸æ„å‘³ç€æ›´å¼ºçš„èƒ½åŠ›ï¼Œä½†ä¹Ÿä¼šå¸¦æ¥æ›´é«˜çš„è®¡ç®—ä¸å†…å­˜æˆæœ¬ã€‚è€ŒDeepSeek-V3çš„å‡ºç°ï¼Œæ­£æ˜¯é€šè¿‡æ¶æ„ã€è®­ç»ƒã€è°ƒåº¦ç­‰å¤šç»´åº¦çš„æŠ€æœ¯åˆ›æ–°ï¼Œåœ¨671Bè¶…å¤§å‚æ•°è§„æ¨¡ä¸‹å®ç°äº†â€œé«˜æ•ˆèƒ½+ä½æˆæœ¬â€çš„å¹³è¡¡ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¶æ„åˆ°è®­ç»ƒç»†èŠ‚ï¼Œå…¨é¢è§£æDeepSeek-V3çš„æŠ€æœ¯äº®ç‚¹ï¼Œå¹¶ç»“åˆå®ä¾‹è®©å¤æ‚æ¦‚å¿µæ›´æ˜“ç†è§£ã€‚</p>
<h2 data-id="heading-1">DeepSeek-V3çš„å®šä½ä¸æ ¸å¿ƒç›®æ ‡</h2>
<p>DeepSeek-V3æ˜¯ä¸€æ¬¾<strong>671Bå‚æ•°çš„é€šç”¨å¤§è¯­è¨€æ¨¡å‹</strong>ï¼Œé‡‡ç”¨<strong>æ··åˆä¸“å®¶ï¼ˆMixture-of-Expertsï¼ŒMoEï¼‰æ¶æ„</strong>ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ï¼šåœ¨ä¿æŒè¶…å¤§æ¨¡å‹èƒ½åŠ›çš„åŒæ—¶ï¼Œå®ç°<strong>é«˜æ•ˆæ¨ç†</strong>ä¸<strong>æˆæœ¬æ•ˆç›Šè®­ç»ƒ</strong>â€”â€”å…¶æ¯ä¸ªTokenä»…æ¿€æ´»37Bå‚æ•°ï¼ˆçº¦æ€»å‚æ•°çš„5.5%ï¼‰ï¼Œæ—¢é¿å…äº†å…¨å‚æ•°æ¿€æ´»çš„é«˜æˆæœ¬ï¼Œåˆèƒ½é€šè¿‡ä¸“å®¶åˆ†å·¥è¦†ç›–å„ç±»ä»»åŠ¡ã€‚</p>
<h2 data-id="heading-2">åŸºç¡€æ¶æ„åˆ›æ–°ï¼šMLA+MoEï¼Œä»â€œé€šç”¨èƒ½åŠ›â€åˆ°â€œé«˜æ•ˆæ¨ç†â€</h2>
<p>DeepSeek-V3çš„åŸºç¡€æ¶æ„ç”±**å¤šå¤´æ½œåœ¨æ³¨æ„åŠ›ï¼ˆMLAï¼‰<strong>å’Œ</strong>æ··åˆä¸“å®¶ï¼ˆMoEï¼‰**ä¸¤å¤§æ ¸å¿ƒæ¨¡å—ç»„æˆï¼ŒäºŒè€…åˆ†åˆ«è§£å†³â€œæ¨ç†æ•ˆç‡â€ä¸â€œèƒ½åŠ›è¦†ç›–â€çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-3">1. MLAï¼ˆå¤šå¤´æ½œåœ¨æ³¨æ„åŠ›ï¼‰ï¼šç”¨â€œä½ç§©å‹ç¼©â€é™ä½æ¨ç†å†…å­˜å¼€é”€</h3>
<p>ä¼ ç»ŸTransformerçš„æ³¨æ„åŠ›æœºåˆ¶ä¸­ï¼ŒKVç¼“å­˜ï¼ˆå­˜å‚¨é”®å€¼å¯¹çš„ç¼“å­˜ï¼‰ä¼šéšè¾“å…¥æ–‡æœ¬é•¿åº¦çº¿æ€§å¢é•¿ï¼Œå¤„ç†é•¿æ–‡æ¡£æ—¶ææ˜“å¼•å‘å†…å­˜ç“¶é¢ˆã€‚è€ŒMLAé€šè¿‡<strong>ä½ç§©å‹ç¼©æŠ€æœ¯</strong>å¯¹KVç¼“å­˜è¿›è¡Œé™ç»´ï¼š</p>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ï¼šå°†é«˜ç»´çš„KVçŸ©é˜µå‹ç¼©ä¸ºä½ç»´çŸ©é˜µï¼Œåœ¨ä¸æ˜¾è‘—æŸå¤±ä¿¡æ¯çš„å‰æä¸‹ï¼Œå‡å°‘ç¼“å­˜å ç”¨ã€‚</li>
<li>å®é™…æ•ˆæœï¼šå¤„ç†å¤§è§„æ¨¡æ•°æ®ï¼ˆå¦‚10ä¸‡å­—çš„å­¦æœ¯è®ºæ–‡ï¼‰æ—¶ï¼Œå†…å­˜å ç”¨é™ä½40%ä»¥ä¸Šï¼Œæ¨ç†é€Ÿåº¦æå‡30%ï¼ŒåŒæ—¶ä¿è¯ç”Ÿæˆå†…å®¹çš„å‡†ç¡®æ€§ã€‚</li>
</ul>
<p>å½“ä½ è®©å¤§æ¨¡å‹æ€»ç»“ä¸€ç¯‡10ä¸‡å­—çš„è¡Œä¸šæŠ¥å‘Šæ—¶ï¼Œä¼ ç»Ÿå¤§æ¨¡å‹çš„KVç¼“å­˜å¯èƒ½éœ€è¦å ç”¨20GB GPUæ˜¾å­˜ï¼Œå¯¼è‡´æ¨ç†å»¶è¿Ÿè¶…è¿‡1åˆ†é’Ÿï¼›è€ŒMLAå‹ç¼©åï¼Œç¼“å­˜ä»…éœ€12GBæ˜¾å­˜ï¼Œæ¨ç†å»¶è¿Ÿç¼©çŸ­è‡³40ç§’ä»¥å†…ã€‚</p>
<h3 data-id="heading-4">2. MoEï¼ˆæ··åˆä¸“å®¶æ¶æ„ï¼‰ï¼šç»†ç²’åº¦åˆ†å·¥ï¼Œè®©â€œä¸“ä¸šçš„ä¸“å®¶åšä¸“ä¸šçš„äº‹â€</h3>
<p>MoEæ¶æ„çš„æ ¸å¿ƒæ˜¯â€œå°†å¤§æ¨¡å‹æ‹†åˆ†ä¸ºå¤šä¸ªâ€˜ä¸“å®¶æ¨¡å—â€™ï¼Œæ ¹æ®è¾“å…¥åŠ¨æ€æ¿€æ´»å¯¹åº”ä¸“å®¶â€ï¼ŒDeepSeek-V3çš„MoEæœ‰ä¸¤ä¸ªå…³é”®è®¾è®¡ï¼š</p>
<ul>
<li><strong>ç»†ç²’åº¦ä¸“å®¶+å…±äº«ä¸“å®¶</strong>ï¼šåŒ…å«å¤šç»„â€œè·¯ç”±ä¸“å®¶â€ï¼ˆè´Ÿè´£ç‰¹å®šä»»åŠ¡ï¼Œå¦‚æ•°å­¦æ¨ç†ã€ç¿»è¯‘ï¼‰å’Œâ€œå…±äº«ä¸“å®¶â€ï¼ˆè´Ÿè´£é€šç”¨ä»»åŠ¡ï¼Œå¦‚è¯­ä¹‰ç†è§£ï¼‰ï¼›</li>
<li><strong>åŠ¨æ€æ¿€æ´»</strong>ï¼šæ¯ä¸ªTokenä»…æ¿€æ´»37Bå‚æ•°å¯¹åº”çš„ä¸“å®¶ï¼ˆè€Œéå…¨671Bå‚æ•°ï¼‰ï¼Œé¿å…å…¨é‡è®¡ç®—çš„é«˜æˆæœ¬ã€‚</li>
</ul>
<p><strong>ä¾‹å­</strong>ï¼š</p>
<ul>
<li>å½“ä½ è¾“å…¥â€œæ±‚è§£æ–¹ç¨‹xÂ²-5x+6=0â€ï¼šRouterï¼ˆè·¯ç”±æ¨¡å—ï¼‰ä¼šè¯†åˆ«è¿™æ˜¯æ•°å­¦ä»»åŠ¡ï¼Œæ¿€æ´»â€œæ•°å­¦ç¬¦å·æ¨ç†ä¸“å®¶â€ï¼Œä»…è°ƒç”¨è¯¥ä¸“å®¶çš„å‚æ•°å®Œæˆè®¡ç®—ï¼›</li>
<li>å½“ä½ è¾“å…¥â€œå°†â€˜äººå·¥æ™ºèƒ½é‡å¡‘äº§ä¸šæ ¼å±€â€™ç¿»è¯‘æˆè‹±æ–‡â€ï¼šRouterä¼šæ¿€æ´»â€œè·¨è¯­è¨€è½¬æ¢ä¸“å®¶â€ï¼Œè°ƒç”¨å¯¹åº”çš„è¯­è¨€æ¨¡å‹å‚æ•°å®Œæˆç¿»è¯‘ã€‚</li>
</ul>
<p>è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿æ˜¯ï¼šç›¸æ¯”å…¨å‚æ•°æ¿€æ´»çš„å¤§æ¨¡å‹ï¼Œæ¨ç†æˆæœ¬é™ä½80%ä»¥ä¸Šï¼ŒåŒæ—¶æ¯ä¸ªä¸“å®¶çš„â€œä¸“ç²¾èƒ½åŠ›â€æ›´çªå‡ºã€‚</p>
<p><strong>å›¾ç¤º</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efbc8ba31afb40b3843e97f692151166~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Im-6YaS:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767013063&amp;x-signature=iq0X7dka42g1jRzbhzyRtq4Jf6g%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li><strong>è¾“å…¥ä¸é¢„å¤„ç†</strong>ï¼š<br/>
åŸå§‹æ•°æ®ç»è¿‡ç‰¹å¾æå–ï¼ˆå¦‚æ–‡æœ¬çš„ Token Embeddingã€è¯­éŸ³çš„æ¢…å°”é¢‘è°±ï¼‰åï¼Œè½¬åŒ–ä¸ºæ¨¡å‹å¯å¤„ç†çš„å‘é‡ç‰¹å¾ã€‚</li>
<li><strong>è·¯ç”±å™¨ï¼ˆRouterï¼‰</strong>ï¼š<br/>
MoE çš„ã€Œå¤§è„‘ã€ï¼Œæ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>æ ¹æ®è¾“å…¥ç‰¹å¾çš„è¯­ä¹‰/åˆ†å¸ƒï¼Œè®¡ç®—æ¯ä¸ªä¸“å®¶ç½‘ç»œçš„ã€Œé€‚é…æƒé‡ã€</strong>ï¼ˆä¾‹å¦‚ï¼šè¾“å…¥æ˜¯åŒ»ç–—æ–‡æœ¬â†’åŒ»ç–—ä¸“å®¶æƒé‡é«˜ï¼Œè¾“å…¥æ˜¯æ³•å¾‹æ–‡æœ¬â†’æ³•å¾‹ä¸“å®¶æƒé‡é«˜ï¼‰ã€‚<br/>
å¸¸è§å®ç°ï¼šå…¨è¿æ¥å±‚ + Softmaxï¼ˆè¾“å‡ºå„ä¸“å®¶çš„æ¦‚ç‡æƒé‡ï¼‰ã€‚</li>
<li><strong>é—¨æ§æœºåˆ¶ï¼ˆGatingï¼‰</strong>ï¼š<br/>
å®ç°ã€Œç¨€ç–æ¿€æ´»ã€çš„å…³é”®ï¼š
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šç­›é€‰ <strong>Top-K ä¸ªæƒé‡æœ€é«˜çš„ä¸“å®¶</strong>ï¼ˆK&lt;&lt;Nï¼Œä¾‹å¦‚ N=100 ä¸ªä¸“å®¶ï¼Œä»…æ¿€æ´» K=5 ä¸ªï¼‰ï¼Œé¿å…æ‰€æœ‰ä¸“å®¶å‚ä¸è®¡ç®—ï¼ˆé™ä½ç®—åŠ›æ¶ˆè€—ï¼‰ï¼›</li>
<li>ç¬¬äºŒæ­¥ï¼šå¯¹é€‰ä¸­çš„ K ä¸ªä¸“å®¶ï¼Œå†æ¬¡å½’ä¸€åŒ–æƒé‡ï¼ˆç¡®ä¿æƒé‡å’Œä¸º1ï¼‰ï¼Œç”¨äºåç»­è¾“å‡ºèåˆã€‚</li>
</ul>
</li>
<li><strong>ä¸“å®¶ç½‘ç»œï¼ˆExpert Networksï¼‰</strong>ï¼š<br/>
å¹¶è¡Œçš„ã€Œä¸“ç”¨å­æ¨¡å‹ã€ï¼Œæ¯ä¸ªä¸“å®¶ä¸“æ³¨äºå¤„ç†æŸä¸€ç±»å‹çš„è¾“å…¥ï¼ˆå¦‚ç‰¹å®šé¢†åŸŸã€ç‰¹å®šè¯­ä¹‰ç‰¹å¾ï¼‰ï¼Œç»“æ„å¯çµæ´»è®¾è®¡ï¼ˆå¦‚ Transformer å±‚ã€CNNã€MLP ç­‰ï¼‰ã€‚<br/>
æ ¸å¿ƒç‰¹ç‚¹ï¼š<strong>ä»… Top-K ä¸ªä¸“å®¶è¢«æ¿€æ´»è®¡ç®—ï¼Œå…¶ä½™ä¸“å®¶é—²ç½®</strong>ï¼ˆç¨€ç–æ€§ï¼‰ã€‚</li>
<li><strong>åŠ æƒèåˆä¸è¾“å‡º</strong>ï¼š<br/>
è¢«æ¿€æ´»çš„ K ä¸ªä¸“å®¶å„è‡ªè¾“å‡ºç»“æœï¼Œé—¨æ§æœºåˆ¶å°†è¿™äº›ç»“æœæŒ‰ã€Œä¸“å®¶æƒé‡ã€åŠ æƒæ±‚å’Œï¼ˆæƒé‡è¶Šé«˜çš„ä¸“å®¶ï¼Œå¯¹æœ€ç»ˆè¾“å‡ºçš„è´¡çŒ®è¶Šå¤§ï¼‰ï¼Œæœ€ç»ˆå¾—åˆ°æ¨¡å‹çš„é¢„æµ‹/ç”Ÿæˆç»“æœã€‚</li>
</ol>
<h2 data-id="heading-5">MoEçš„åŠ¨æ€è°ƒåº¦ï¼šä»â€œåˆ†é…ä¸å‡â€åˆ°â€œè´Ÿè½½å‡è¡¡â€</h2>
<p>MoEæ¶æ„çš„ç—›ç‚¹æ˜¯â€œä»»åŠ¡åˆ†é…ä¸å‡â€â€”â€”çƒ­é—¨ä¸“å®¶ï¼ˆå¦‚ç¿»è¯‘ä¸“å®¶ï¼‰å¯èƒ½æŒç»­è¿‡è½½ï¼Œè€Œå†·é—¨ä¸“å®¶é•¿æœŸç©ºé—²ï¼Œå¯¼è‡´è®¡ç®—ç“¶é¢ˆã€‚DeepSeek-V3é€šè¿‡<strong>æ— è¾…åŠ©æŸå¤±è´Ÿè½½å‡è¡¡ç­–ç•¥</strong>è§£å†³è¿™ä¸€é—®é¢˜ï¼š</p>
<h4 data-id="heading-6">è´Ÿè½½å‡è¡¡çš„æ ¸å¿ƒé€»è¾‘ï¼š</h4>
<p>æ ¹æ®æ¯ä¸ªä¸“å®¶çš„<strong>å†å²åˆ©ç”¨ç‡</strong>ï¼ŒåŠ¨æ€è°ƒæ•´å…¶æ¥æ”¶æ–°ä»»åŠ¡çš„æ¦‚ç‡ï¼š</p>
<ul>
<li>åˆ©ç”¨ç‡è¿‡é«˜çš„ä¸“å®¶ï¼šé™ä½å…¶æ¥æ”¶ä»»åŠ¡çš„æ¦‚ç‡ï¼ˆé¿å…è¿‡è½½ï¼‰ï¼›</li>
<li>åˆ©ç”¨ç‡è¿‡ä½çš„ä¸“å®¶ï¼šæé«˜å…¶æ¥æ”¶ä»»åŠ¡çš„æ¦‚ç‡ï¼ˆå……åˆ†åˆ©ç”¨èµ„æºï¼‰ã€‚</li>
</ul>
<p><strong>ä¾‹å­</strong>ï¼š
å‡è®¾ç³»ç»Ÿä¸­æœ‰5ä¸ªç¿»è¯‘ä¸“å®¶ï¼Œå…¶ä¸­ä¸“å®¶Aå› ç¿»è¯‘è´¨é‡é«˜ï¼Œè¿ç»­æ¥æ”¶äº†10ä¸ªä»»åŠ¡ï¼Œåˆ©ç”¨ç‡è¾¾åˆ°90%ï¼ˆå…¶ä»–ä¸“å®¶ä»…30%ï¼‰ã€‚æ­¤æ—¶ç­–ç•¥ä¼šï¼š</p>
<ul>
<li>æŠŠä¸“å®¶Açš„ä»»åŠ¡æ¥æ”¶æ¦‚ç‡ä»50%é™è‡³10%ï¼›</li>
<li>æŠŠä¸“å®¶B-Eçš„æ¥æ”¶æ¦‚ç‡ä»10%æå‡è‡³22.5%ï¼›</li>
</ul>
<p>åç»­ç¿»è¯‘ä»»åŠ¡ä¼šæ›´å¤šåˆ†é…ç»™ç©ºé—²ä¸“å®¶ï¼Œé¿å…ä¸“å®¶Aè¿‡è½½å¯¼è‡´çš„æ¨ç†å»¶è¿Ÿå¢åŠ ã€‚</p>
<h2 data-id="heading-7">é«˜æ•ˆè®­ç»ƒæ¡†æ¶ï¼šä»GPUé›†ç¾¤åˆ°æ··åˆç²¾åº¦ï¼Œå‹ç¼©è®­ç»ƒæˆæœ¬</h2>
<p>è®­ç»ƒ671Bå‚æ•°çš„MoEæ¨¡å‹ï¼Œéœ€è¦è§£å†³â€œé›†ç¾¤é€šä¿¡å¼€é”€å¤§â€â€œå†…å­˜å ç”¨é«˜â€çš„é—®é¢˜ï¼ŒDeepSeek-V3çš„è®­ç»ƒæ¡†æ¶é€šè¿‡ä¸¤å¤§æŠ€æœ¯å®ç°çªç ´ï¼š</p>
<h3 data-id="heading-8">1. DualPipeç®—æ³•ï¼šè®¡ç®—ä¸é€šä¿¡â€œé‡å è¿›è¡Œâ€ï¼Œå‡å°‘ç©ºé—²æ—¶é—´</h3>
<p>ä¼ ç»Ÿåˆ†å¸ƒå¼è®­ç»ƒä¸­ï¼ŒGPUçš„â€œè®¡ç®—â€å’Œâ€œè·¨èŠ‚ç‚¹é€šä¿¡â€æ˜¯ä¸²è¡Œçš„ï¼ˆå…ˆç®—å®Œå†ä¼ æ•°æ®ï¼‰ï¼Œå¯¼è‡´GPUåœ¨é€šä¿¡é˜¶æ®µå¤„äºç©ºé—²çŠ¶æ€ã€‚DualPipeçš„åˆ›æ–°æ˜¯ï¼š</p>
<ul>
<li>å°†è®¡ç®—ä¸é€šä¿¡é˜¶æ®µ<strong>é‡å è¿›è¡Œ</strong>ï¼šGPUåœ¨å®Œæˆéƒ¨åˆ†è®¡ç®—åï¼Œç«‹å³å¼€å§‹ä¼ è¾“ä¸­é—´ç»“æœï¼Œå…¶ä»–GPUæ¥æ”¶æ•°æ®çš„åŒæ—¶å‡†å¤‡è®¡ç®—ï¼›</li>
<li>é…åˆ2048ä¸ªNVIDIA H800 GPUé›†ç¾¤+é«˜æ•ˆè·¨èŠ‚ç‚¹é€šä¿¡å†…æ ¸ï¼Œå®ç°â€œè¿‘ä¹é›¶å¼€é”€â€çš„è·¨èŠ‚ç‚¹é€šä¿¡ã€‚</li>
</ul>
<p><strong>ä¾‹å­</strong>ï¼š
ä¼ ç»Ÿè®­ç»ƒæµç¨‹ï¼šGPU1è®¡ç®—10åˆ†é’Ÿâ†’ä¼ è¾“æ•°æ®2åˆ†é’Ÿâ†’GPU2è®¡ç®—10åˆ†é’Ÿï¼ˆæ€»è€—æ—¶22åˆ†é’Ÿï¼‰ï¼›
DualPipeæµç¨‹ï¼šGPU1è®¡ç®—5åˆ†é’Ÿåå¼€å§‹ä¼ æ•°æ®ï¼ŒGPU2æ¥æ”¶æ•°æ®çš„åŒæ—¶å‡†å¤‡è®¡ç®—â†’æ€»è€—æ—¶15åˆ†é’Ÿï¼Œè®­ç»ƒæ•ˆç‡æå‡40%ä»¥ä¸Šã€‚</p>
<h3 data-id="heading-9">2. FP8æ··åˆç²¾åº¦è®­ç»ƒï¼šâ€œç²¾åº¦å–èˆâ€å¹³è¡¡é€Ÿåº¦ä¸æ€§èƒ½</h3>
<p>å¤§æ¨¡å‹è®­ç»ƒé€šå¸¸ç”¨FP32/BF16ç²¾åº¦ï¼Œä½†å†…å­˜å ç”¨é«˜ã€è®¡ç®—æ…¢ã€‚DeepSeek-V3é‡‡ç”¨<strong>FP8æ··åˆç²¾åº¦ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å¤§éƒ¨åˆ†è®¡ç®—ï¼ˆå¦‚çŸ©é˜µä¹˜æ³•ï¼Œå 70%è®¡ç®—é‡ï¼‰ç”¨FP8ç²¾åº¦ï¼šå†…å­˜å ç”¨ä»…ä¸ºFP32çš„1/4ï¼Œè®¡ç®—é€Ÿåº¦æå‡2å€ï¼›</li>
<li>å…³é”®æ“ä½œï¼ˆå¦‚æ¢¯åº¦æ›´æ–°ã€æŸå¤±è®¡ç®—ï¼‰ä¿æŒBF16ç²¾åº¦ï¼šé¿å…ç²¾åº¦æŸå¤±å¯¼è‡´æ¨¡å‹æ”¶æ•›æ•ˆæœå·®ã€‚</li>
</ul>
<p><strong>ä¾‹å­</strong>ï¼š
æ¨¡å‹ä¸­çš„â€œTransformerå—å†…çš„çŸ©é˜µä¹˜æ³•â€ç”¨FP8è®¡ç®—ï¼Œå†…å­˜å ç”¨ä»100GBé™è‡³25GBï¼›è€Œâ€œæ¢¯åº¦åå‘ä¼ æ’­â€ç”¨BF16ï¼Œç¡®ä¿æ¨¡å‹èƒ½ç¨³å®šå­¦ä¹ åˆ°æ•°æ®ä¸­çš„è§„å¾‹ã€‚æœ€ç»ˆè®­ç»ƒå‘¨æœŸä»30å¤©ç¼©çŸ­è‡³18å¤©ï¼Œæˆæœ¬é™ä½40%ã€‚</p>
<h2 data-id="heading-10">å¤šæ ‡è®°é¢„æµ‹MTPï¼šä¸€æ¬¡ç”Ÿæˆå¤šä¸ªTokenï¼Œæå‡ç”Ÿæˆæ•ˆç‡ä¸è¿è´¯æ€§</h2>
<p>ä¼ ç»Ÿå¤§æ¨¡å‹é‡‡ç”¨â€œNext Token Predictionâ€ï¼ˆé€ä¸ªç”ŸæˆTokenï¼‰ï¼Œé€Ÿåº¦æ…¢ä¸”æ˜“å‡ºç°ä¸Šä¸‹æ–‡è„±èŠ‚ã€‚DeepSeek-V3å¼•å…¥<strong>å¤šæ ‡è®°é¢„æµ‹ï¼ˆMTPï¼‰æŠ€æœ¯</strong>ï¼ŒåŒæ—¶é¢„æµ‹å¤šä¸ªè¿ç»­Tokenï¼š</p>
<h3 data-id="heading-11">MTPçš„æŠ€æœ¯åŸç†ï¼š</h3>
<p>é€šè¿‡<strong>Dä¸ªä¸²è¡Œæ¨¡å—</strong>å®ç°ï¼šæ¯ä¸ªæ¨¡å—å…±äº«â€œåµŒå…¥å±‚â€â€œè¾“å‡ºå¤´â€ï¼ŒåŒ…å«â€œTransformerå—â€å’Œâ€œæŠ•å½±çŸ©é˜µâ€â€”â€”æ—¢å¤ç”¨äº†æ¨¡å‹å‚æ•°ï¼Œåˆèƒ½æ•æ‰Tokené—´çš„é•¿ç¨‹ä¾èµ–ã€‚</p>
<h3 data-id="heading-12">MTPçš„å®é™…æ•ˆæœï¼š</h3>
<ul>
<li>ç”Ÿæˆé€Ÿåº¦æå‡2-3å€ï¼šä¸€æ¬¡é¢„æµ‹å¤šä¸ªè¿ç»­Tokenï¼Œå‡å°‘ç”Ÿæˆæ­¥éª¤ï¼›</li>
<li>å†…å®¹æ›´è¿è´¯ï¼šæ•æ‰é•¿ç¨‹ä¾èµ–ï¼Œé¿å…â€œå‰è¨€ä¸æ­åè¯­â€çš„é—®é¢˜ã€‚</li>
</ul>
<p><strong>ä¾‹å­</strong>ï¼š
ç”Ÿæˆæ–‡æœ¬â€œæ·±åº¦å­¦ä¹ åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸçš„å…¸å‹åº”ç”¨åŒ…æ‹¬å›¾åƒåˆ†ç±»ã€ç›®æ ‡æ£€æµ‹å’Œè¯­ä¹‰åˆ†å‰²â€ï¼š</p>
<ul>
<li>ä¼ ç»Ÿæ–¹å¼ï¼šé€ä¸ªç”Ÿæˆâ€œæ·±â†’åº¦â†’å­¦â†’ä¹ â†’åœ¨â†’â€¦â†’è¯­â†’ä¹‰â†’åˆ†â†’å‰²â€ï¼ˆéœ€20+æ­¥éª¤ï¼‰ï¼›</li>
<li>MTPæ–¹å¼ï¼šä¸€æ¬¡é¢„æµ‹â€œæ·±åº¦å­¦ä¹ â€â€œåœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸâ€â€œå›¾åƒåˆ†ç±»ã€ç›®æ ‡æ£€æµ‹å’Œè¯­ä¹‰åˆ†å‰²â€ç­‰è¿ç»­åºåˆ—ï¼ˆä»…éœ€8ä¸ªæ­¥éª¤ï¼‰ï¼Œä¸”ç”Ÿæˆçš„åº”ç”¨åˆ—è¡¨æ›´ç¬¦åˆâ€œè®¡ç®—æœºè§†è§‰â€çš„ä¸Šä¸‹æ–‡é€»è¾‘ã€‚</li>
</ul>
<h2 data-id="heading-13">æ¨ç†ä¸“ç²¾ï¼šDeepSeek-R1çš„â€œé€»è¾‘åˆ†æâ€ä¼˜åŠ¿</h2>
<p>é™¤äº†é€šç”¨æ¨¡å‹V3ï¼ŒDeepSeekè¿˜æ¨å‡ºäº†<strong>æ¨ç†æ¨¡å‹DeepSeek-R1</strong>ï¼Œä¸“æ³¨äºæ·±åº¦é€»è¾‘åˆ†æåœºæ™¯ï¼š</p>
<ul>
<li>æ¶æ„ï¼šåŸºäºå¼ºåŒ–å­¦ä¹ ä¼˜åŒ–çš„æ¨ç†ä¼˜å…ˆæ¶æ„ï¼›</li>
<li>è®­ç»ƒï¼šå¤šé˜¶æ®µå¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰è®­ç»ƒï¼Œæ³¨é‡â€œæ€ç»´é“¾ï¼ˆCoTï¼‰æ¨ç†â€ï¼›</li>
<li>é€‚ç”¨åœºæ™¯ï¼šå¤æ‚é€»è¾‘é¢˜ï¼ˆå¦‚â€œä¸‰æ®µè®ºæ¨ç†â€ï¼‰ã€ä»£ç è°ƒè¯•ï¼ˆå¦‚å®šä½Pythonä»£ç çš„é€»è¾‘é”™è¯¯ï¼‰ã€å¤æ‚å†³ç­–åˆ†æç­‰ã€‚</li>
</ul>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>DeepSeek-V3é€šè¿‡â€œMoEæ¶æ„+MLAæ³¨æ„åŠ›+è´Ÿè½½å‡è¡¡+æ··åˆç²¾åº¦è®­ç»ƒ+MTPç”Ÿæˆâ€çš„æŠ€æœ¯ç»„åˆï¼Œåœ¨671Bå‚æ•°è§„æ¨¡ä¸‹å®ç°äº†â€œèƒ½åŠ›å¼ºã€é€Ÿåº¦å¿«ã€æˆæœ¬ä½â€çš„å¹³è¡¡ï¼›è€ŒDeepSeek-R1åˆ™å¡«è¡¥äº†â€œæ·±åº¦é€»è¾‘åˆ†æâ€çš„åœºæ™¯ç©ºç™½ã€‚äºŒè€…å½¢æˆäº’è¡¥ï¼Œè¦†ç›–äº†é€šç”¨ä»»åŠ¡ä¸ä¸“ä¸šæ¨ç†çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”å¤šå¤´æ½œåœ¨æ³¨æ„åŠ› (MLA) è¯¦è§£]]></title>    <link>https://juejin.cn/post/7586493936677584936</link>    <guid>https://juejin.cn/post/7586493936677584936</guid>    <pubDate>2025-12-22T12:59:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677584936" data-draft-id="7586518130761138216" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”å¤šå¤´æ½œåœ¨æ³¨æ„åŠ› (MLA) è¯¦è§£"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-22T12:59:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰¾é†’"/> <meta itemprop="url" content="https://juejin.cn/user/708512558088669"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹åŸç†å‰–æâ€”â€”å¤šå¤´æ½œåœ¨æ³¨æ„åŠ› (MLA) è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/708512558088669/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰¾é†’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:59:41.000Z" title="Mon Dec 22 2025 12:59:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤šå¤´æ½œåœ¨æ³¨æ„åŠ›(Multi-Head Latent Attention, MLA)æ˜¯DeepSeekå›¢é˜Ÿäº2024å¹´åœ¨DeepSeekæ¨¡å‹ä¸­é¦–æ¬¡æå‡ºçš„åˆ›æ–°æ³¨æ„åŠ›æœºåˆ¶ï¼Œé€šè¿‡ä½ç§©è”åˆå‹ç¼©é”®å€¼(KV)ç¼“å­˜ï¼Œåœ¨ä¿æŒæ¨¡å‹æ€§èƒ½çš„åŒæ—¶æ˜¾è‘—é™ä½å†…å­˜å ç”¨å’Œè®¡ç®—å¼€é”€ï¼Œç‰¹åˆ«é€‚åˆé•¿æ–‡æœ¬å¤„ç†å’Œå¤§è§„æ¨¡è¯­è¨€æ¨¡å‹éƒ¨ç½²ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒåŸç†ï¼šä»æ˜¾å¼å…³è”åˆ°æ½œåœ¨æ˜ å°„</h2>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šå°†ä¼ ç»Ÿå¤šå¤´æ³¨æ„åŠ›çš„KVçŸ©é˜µå‹ç¼©åˆ°ä½ç»´æ½œåœ¨ç©ºé—´ï¼Œä»…å­˜å‚¨å‹ç¼©åçš„æ½œå‘é‡ï¼Œæ¨ç†æ—¶åŠ¨æ€é‡æ„å®Œæ•´KVã€‚</p>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>ä¸‹æŠ•å½±</strong>ï¼šå°†è¾“å…¥å‘é‡æ˜ å°„åˆ°ä½ç»´æ½œåœ¨ç©ºé—´(ç»´åº¦d_cï¼Œè¿œå°äºåŸå§‹ç»´åº¦)
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>k</mi></msub><mo>=</mo><mi>X</mi><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>k</mi><mi>D</mi></msubsup><mo separator="true">,</mo><msub><mi>C</mi><mi>v</mi></msub><mo>=</mo><mi>X</mi><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>v</mi><mi>D</mi></msubsup></mrow><annotation encoding="application/x-tex">C_k = XÂ·W_k^D, C_v = XÂ·W_v^D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2831em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4169em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0883em;vertical-align:-0.247em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span></span></span></span></p>
<p>å…¶ä¸­<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>k</mi><mi>D</mi></msubsup></mrow><annotation encoding="application/x-tex">W_k^D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2831em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4169em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em;"><span/></span></span></span></span></span></span></span></span></span>ã€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>v</mi><mi>D</mi></msubsup></mrow><annotation encoding="application/x-tex">W_v^D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0883em;vertical-align:-0.247em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span></span></span></span>ä¸ºå‹ç¼©çŸ©é˜µï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">C_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ã€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">C_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ä¸ºé”®å€¼çš„æ½œåœ¨è¡¨ç¤º</p>
</li>
<li>
<p><strong>ä¸ŠæŠ•å½±é‡æ„</strong>ï¼šè®¡ç®—æ³¨æ„åŠ›å‰ï¼Œå°†æ½œåœ¨è¡¨ç¤ºæ¢å¤ä¸ºå…¨ç»´åº¦
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi><mo>=</mo><msub><mi>C</mi><mi>k</mi></msub><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>k</mi><mi>U</mi></msubsup><mo separator="true">,</mo><mi>V</mi><mo>=</mo><msub><mi>C</mi><mi>v</mi></msub><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>v</mi><mi>U</mi></msubsup></mrow><annotation encoding="application/x-tex">K = C_kÂ·W_k^U, V = C_vÂ·W_v^U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2831em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4169em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em;"><span/></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0883em;vertical-align:-0.247em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span></span></span></span>
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>k</mi><mi>U</mi></msubsup></mrow><annotation encoding="application/x-tex">W_k^U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2831em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4169em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em;"><span/></span></span></span></span></span></span></span></span></span>ã€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>W</mi><mi>v</mi><mi>U</mi></msubsup></mrow><annotation encoding="application/x-tex">W_v^U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0883em;vertical-align:-0.247em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span></span></span></span>ä¸ºè§£å‹ç¼©çŸ©é˜µ</p>
</li>
<li>
<p><strong>æ³¨æ„åŠ›è®¡ç®—</strong>ï¼šä½¿ç”¨æ ‡å‡†å¤šå¤´æ³¨æ„åŠ›å…¬å¼</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>t</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>V</mi><mo stretchy="false">)</mo><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">â‹…</mo><msup><mi>K</mi><mi>T</mi></msup><mi mathvariant="normal">/</mi><mtext>âˆš</mtext><msub><mi>d</mi><mi>k</mi></msub><mo stretchy="false">)</mo><mo separator="true">â‹…</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">Attention(Q, K, V) = softmax(QÂ·K^T/âˆšd_k)Â·V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">A</span><span class="mord mathnormal">tt</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"/><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord">/âˆš</span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span></span></p>
</li>
<li>
<p><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šä»…å­˜å‚¨ä½ç»´æ½œåœ¨å‘é‡C_kã€C_vï¼Œè€Œéå®Œæ•´KVçŸ©é˜µï¼Œå¤§å¹…å‡å°‘å†…å­˜å ç”¨</p>
</li>
</ol>
<h2 data-id="heading-2">æŠ€æœ¯åˆ›æ–°ï¼šå››å¤§çªç ´ç‚¹</h2>
<h3 data-id="heading-3">ä½ç§©KVè”åˆå‹ç¼©</h3>
<ul>
<li>å°†KVä»åŸå§‹ç»´åº¦(å¦‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>h</mi></msub><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo>=</mo><mn>16384</mn></mrow><annotation encoding="application/x-tex">n_hÂ·d_h=16384</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">16384</span></span></span></span></span>)å‹ç¼©è‡³æ½œåœ¨ç»´åº¦(å¦‚<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>c</mi></msub><mo>=</mo><mn>2048</mn></mrow><annotation encoding="application/x-tex">d_c=2048</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">2048</span></span></span></span></span>)ï¼Œå‹ç¼©æ¯”è¾¾8:1</li>
<li>åˆ©ç”¨è‡ªç„¶è¯­è¨€åº•å±‚çº¿æ€§å†—ä½™å’Œæ¨¡å‹è¿‡å‚æ•°åŒ–ç‰¹æ€§ï¼Œåœ¨å‡ ä¹ä¸æŸå¤±ä¿¡æ¯çš„å‰æä¸‹å®ç°é«˜æ•ˆå‹ç¼©</li>
<li>æ˜¾å­˜å ç”¨ä»O(nÂ·hÂ·<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">d_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>)é™è‡³O(nÂ·<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">d_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>)ï¼Œå‡å°‘çº¦87.5%</li>
</ul>
<h3 data-id="heading-4">è§£è€¦RoPE(æ—‹è½¬ä½ç½®ç¼–ç )</h3>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šæ ‡å‡†RoPEçš„éçº¿æ€§æ—‹è½¬æ“ä½œä¸ä½ç§©å‹ç¼©ä¸å…¼å®¹ï¼Œç›´æ¥å‹ç¼©ä¼šç ´åä½ç½®ä¿¡æ¯</li>
<li><strong>åˆ›æ–°</strong>ï¼šå°†æŸ¥è¯¢å’Œé”®è¡¨ç¤ºæ‹†åˆ†ä¸ºä½ç½®æ•æ„Ÿå’Œéæ•æ„Ÿä¸¤éƒ¨åˆ†
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>q</mi><mi>r</mi></msub><mi>o</mi><mi>p</mi><mi>e</mi><mo separator="true">;</mo><msub><mi>q</mi><mi>n</mi></msub><mi>o</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>e</mi><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>k</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>k</mi><mi>r</mi></msub><mi>o</mi><mi>p</mi><mi>e</mi><mo separator="true">;</mo><msub><mi>k</mi><mi>n</mi></msub><mi>o</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>e</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">q = [q_rope; q_norope], k = [k_rope; k_norope]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">o</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">oro</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">o</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0315em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">oro</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mclose">]</span></span></span></span></span></li>
<li>ä»…å¯¹éä½ç½®éƒ¨åˆ†è¿›è¡Œå‹ç¼©ï¼Œä¿ç•™å®Œæ•´ä½ç½®ä¿¡æ¯ï¼Œç¡®ä¿é•¿æ–‡æœ¬ç†è§£èƒ½åŠ›</li>
</ul>
<h3 data-id="heading-5">çŸ©é˜µå¸æ”¶ä¼˜åŒ–</h3>
<ul>
<li><strong>æ¨ç†åŠ é€Ÿ</strong>ï¼šå°†ä¸ŠæŠ•å½±çŸ©é˜µé¢„ä¹˜åˆ°æŸ¥è¯¢æŠ•å½±ä¸­
<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mi>q</mi></msub><mi>k</mi><mo>=</mo><msubsup><mi>W</mi><mi>q</mi><mi>U</mi></msubsup><mo separator="true">â‹…</mo><mo stretchy="false">(</mo><msubsup><mi>W</mi><mi>k</mi><mi>U</mi></msubsup><msup><mo stretchy="false">)</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">W_qk = W_q^UÂ·(W_k^U)^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.2244em;vertical-align:-0.3831em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4169em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em;"><span/></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></li>
<li>ä½¿æ³¨æ„åŠ›è®¡ç®—ç®€åŒ–ä¸ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><msub><mi>C</mi><mi>q</mi></msub><mo separator="true">â‹…</mo><msub><mi>W</mi><mi>q</mi></msub><mi>k</mi><mo separator="true">â‹…</mo><msubsup><mi>C</mi><mi>k</mi><mi>T</mi></msubsup><mi mathvariant="normal">/</mi><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt><mo stretchy="false">)</mo><mo separator="true">â‹…</mo><mo stretchy="false">(</mo><msub><mi>C</mi><mi>v</mi></msub><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>v</mi><mi>U</mi></msubsup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">softmax(C_qÂ·W_qkÂ·C_k^T/\sqrt{d_k})Â·(C_vÂ·W_v^U)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1433em;vertical-align:-0.2861em;"/><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.4169em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em;"><span/></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8572em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"/><span class="mord" style="padding-left:0.833em;"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.8172em;"><span class="pstrut" style="height:3em;"/><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702&#10;c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14&#10;c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54&#10;c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10&#10;s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429&#10;c69,-144,104.5,-217.7,106.5,-221&#10;l0 -0&#10;c5.3,-9.3,12,-14,20,-14&#10;H400000v40H845.2724&#10;s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7&#10;c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z&#10;M834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1828em;"><span/></span></span></span></span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li>
<li>å‡å°‘ä¸€æ¬¡çŸ©é˜µä¹˜æ³•ï¼Œæå‡æ¨ç†é€Ÿåº¦çº¦1.7å€</li>
</ul>
<h3 data-id="heading-6">å¤šå¤´å¹¶è¡Œ+æ½œå˜é‡ååŒ</h3>
<ul>
<li>æ¯ä¸ªæ³¨æ„åŠ›å¤´ç‹¬ç«‹å­¦ä¹ ä¸åŒç‰¹å¾ç»´åº¦çš„æ½œåœ¨æ¨¡å¼ï¼Œæ•æ‰å¤šç²’åº¦è¯­ä¹‰å…³è”</li>
<li>ç›¸æ¯”å•ä¸€æ½œæ³¨æ„åŠ›ï¼Œå¤šå¤´ç»“æ„èƒ½å¹¶è¡ŒæŒ–æ˜ä¸åŒç»´åº¦çš„éšæ€§å…³ç³»ï¼Œé¿å…è¡¨è¾¾ç“¶é¢ˆ</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€ä¸ä¼ ç»Ÿæ³¨æ„åŠ›æœºåˆ¶å¯¹æ¯”</h3>








































<table><thead><tr><th>æœºåˆ¶</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>KVç¼“å­˜å¤§å°</th><th>è®¡ç®—å¤æ‚åº¦</th><th>è¡¨è¾¾èƒ½åŠ›</th></tr></thead><tbody><tr><td><strong>MHA(å¤šå¤´)</strong></td><td>æ¯ä¸ªå¤´ç‹¬ç«‹KV</td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">â‹…</mo><mi>h</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ·hÂ·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">h</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo separator="true">â‹…</mo><mi>h</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ²Â·hÂ·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">h</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td>å¼º(å…¨è¡¨è¾¾)</td></tr><tr><td><strong>MQA(å•å¤´)</strong></td><td>æ‰€æœ‰å¤´å…±äº«KV</td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ²Â·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td>å¼±(è¡¨è¾¾å—é™)</td></tr><tr><td><strong>GQA(åˆ†ç»„)</strong></td><td>æ¯ç»„å…±äº«KV</td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">â‹…</mo><mi>g</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ·gÂ·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo separator="true">â‹…</mo><mi>g</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ²Â·gÂ·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td>ä¸­(éƒ¨åˆ†è¡¨è¾¾)</td></tr><tr><td><strong>MLA(æ½œåœ¨)</strong></td><td>KVå‹ç¼©è‡³æ½œç©ºé—´</td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>c</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ·d_c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>c</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nÂ²Â·d_c)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></td><td>å¼º(å…¨è¡¨è¾¾ä¸”å¢å¹¿)</td></tr></tbody></table>
<p><strong>å…³é”®ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šMLAçš„KVç¼“å­˜ä»…ä¸ºMHAçš„(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>c</mi></msub><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mi>h</mi><mo separator="true">â‹…</mo><msub><mi>d</mi><mi>h</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d_c/(hÂ·d_h)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord mathnormal">h</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>)ï¼Œå¦‚DeepSeek-V3ä¸­ä»6.8GBé™è‡³3.2GBï¼Œå‡å°‘53%</li>
<li><strong>è®¡ç®—é€Ÿåº¦</strong>ï¼šæ¨ç†å»¶è¿Ÿä»89msé™è‡³42msï¼Œæå‡53%</li>
<li><strong>è¡¨è¾¾èƒ½åŠ›</strong>ï¼šç†è®ºè¯æ˜MLAè¡¨è¾¾èƒ½åŠ›ä¸¥æ ¼å¼ºäºGQA(åŒKVç¼“å­˜å¤§å°æ—¶)ï¼Œå¯è¡¨ç¤ºæ›´å¤šå‡½æ•°å…³ç³»</li>
</ul>
<h2 data-id="heading-8">DeepSeekä¸­çš„MLAå®ç°ç»†èŠ‚</h2>
<p>DeepSeek-V3/R1ä¸­MLAå…³é”®å‚æ•°ï¼š</p>
<ul>
<li>åµŒå…¥ç»´åº¦d: 7168</li>
<li>å¤´æ•°<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">n_h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>: 128</li>
<li>æ½œåœ¨ç»´åº¦<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">d_c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>: 2048(çº¦ä¸ºåŸå§‹1/8)</li>
<li>æŸ¥è¯¢æŠ•å½±ç»´åº¦: 1536</li>
<li>éRoPEå¤´ç»´åº¦: 128</li>
</ul>
<p><strong>å®Œæ•´è®¡ç®—æµç¨‹</strong>ï¼š</p>
<ol>
<li>è¾“å…¥æŠ•å½±</li>
</ol>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Q</mi><mo>=</mo><mi>X</mi><mo separator="true">â‹…</mo><msub><mi>W</mi><mi>Q</mi></msub><mspace linebreak="newline"/><msub><mi>C</mi><mi>k</mi></msub><mo>=</mo><mi>X</mi><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>k</mi><mi>D</mi></msubsup><mspace linebreak="newline"/><msub><mi>C</mi><mi>v</mi></msub><mo>=</mo><mi>X</mi><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>v</mi><mi>D</mi></msubsup></mrow><annotation encoding="application/x-tex">Q = XÂ·W_Q \\
C_k = XÂ·W_k^D\\
C_v = XÂ·W_v^D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"/><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">Q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1383em;vertical-align:-0.247em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1383em;vertical-align:-0.247em;"/><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span></span></span></span></div>
<ol start="2">
<li>é¢„è®¡ç®—ä¼˜åŒ–</li>
</ol>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>W</mi><mi>q</mi></msub><mi>k</mi><mo>=</mo><msubsup><mi>W</mi><mi>q</mi><mi>U</mi></msubsup><mo separator="true">â‹…</mo><mo stretchy="false">(</mo><msubsup><mi>W</mi><mi>k</mi><mi>U</mi></msubsup><msup><mo stretchy="false">)</mo><mi>T</mi></msup><mo separator="true">,</mo><mtext>å¯é¢„å…ˆè®¡ç®—</mtext></mrow><annotation encoding="application/x-tex">W_qk = W_q^UÂ·(W_k^U)^T  , å¯é¢„å…ˆè®¡ç®—</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.2744em;vertical-align:-0.3831em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord cjk_fallback">å¯é¢„å…ˆè®¡ç®—</span></span></span></span></span></div>
<ol start="3">
<li>æ³¨æ„åŠ›å¾—åˆ†</li>
</ol>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo>=</mo><mo stretchy="false">(</mo><mi>Q</mi><mo separator="true">â‹…</mo><msub><mi>W</mi><mi>q</mi></msub><mi>k</mi><mo stretchy="false">)</mo><mo separator="true">â‹…</mo><msubsup><mi>C</mi><mi>k</mi><mi>T</mi></msubsup><mi mathvariant="normal">/</mi><msqrt><msub><mi>d</mi><mi>k</mi></msub></msqrt><mspace linebreak="newline"/><mi>p</mi><mi>r</mi><mi>o</mi><mi>b</mi><mi>s</mi><mo>=</mo><mi>s</mi><mi>o</mi><mi>f</mi><mi>t</mi><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>s</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">scores = (QÂ·W_qk)Â·C_k^T / \sqrt{d_k} \\
probs = softmax(scores)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">scores</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.2922em;vertical-align:-0.2861em;"/><span class="mopen">(</span><span class="mord mathnormal">Q</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span/></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span><span class="mord">/</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0061em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"/><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span><span style="top:-2.9661em;"><span class="pstrut" style="height:3.2em;"/><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119&#10;c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120&#10;c340,-704.7,510.7,-1060.3,512,-1067&#10;l0 -0&#10;c4.7,-7.3,11,-11,19,-11&#10;H40000v40H1012.3&#10;s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232&#10;c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1&#10;s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26&#10;c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z&#10;M1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2339em;"><span/></span></span></span></span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">p</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">b</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">so</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">scores</span><span class="mclose">)</span></span></span></span></span></div>
<ol start="4">
<li>å€¼ä¸ŠæŠ•å½±ä¸åŠ æƒ</li>
</ol>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>V</mi><mi>r</mi></msub><mi>e</mi><mi>c</mi><mo>=</mo><msub><mi>C</mi><mi>v</mi></msub><mo separator="true">â‹…</mo><msubsup><mi>W</mi><mi>v</mi><mi>U</mi></msubsup><mspace linebreak="newline"/><mi>o</mi><mi>u</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>t</mi><mo>=</mo><mi>p</mi><mi>r</mi><mi>o</mi><mi>b</mi><mi>s</mi><mo separator="true">â‹…</mo><msub><mi>V</mi><mi>r</mi></msub><mi>e</mi><mi>c</mi><mo separator="true">â‹…</mo><msub><mi>W</mi><mi>O</mi></msub></mrow><annotation encoding="application/x-tex">V_rec = C_vÂ·W_v^U \\
output = probsÂ·V_recÂ·W_O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">ec</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1383em;vertical-align:-0.247em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">U</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span/></span></span></span></span></span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:0.8095em;vertical-align:-0.1944em;"/><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">tp</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal">p</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">b</span><span class="mord mathnormal">s</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">ec</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span></div>
<p><strong>æ¨ç†ä¼˜åŒ–</strong>ï¼šä»…ç¼“å­˜<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">C_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ã€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">C_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ï¼Œè€Œéå®Œæ•´Kã€Vï¼Œåœ¨ç”Ÿæˆæ–°tokenæ—¶ï¼Œåªéœ€è®¡ç®—æ–°tokençš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>k</mi></msub></mrow><annotation encoding="application/x-tex">C_k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>ã€<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">C_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span></span></span></span></span>å¹¶è¿½åŠ åˆ°ç¼“å­˜ï¼Œæ˜¾è‘—å‡å°‘å†…å­˜å ç”¨å’Œå¸¦å®½éœ€æ±‚</p>
<h2 data-id="heading-9">åº”ç”¨åœºæ™¯ä¸ä¼˜åŠ¿</h2>
<h3 data-id="heading-10">é•¿æ–‡æœ¬å¤„ç†</h3>
<ul>
<li>æ”¯æŒæ•°å€äºä¼ ç»Ÿæ¨¡å‹çš„ä¸Šä¸‹æ–‡é•¿åº¦(å¦‚ä»4Kåˆ°32K token)</li>
<li>åœ¨ä¿æŒ95%+æ¨¡å‹ç²¾åº¦çš„åŒæ—¶ï¼ŒKVç¼“å­˜å ç”¨é™ä½30-50%</li>
<li>ç‰¹åˆ«é€‚åˆæ–‡æ¡£æ‘˜è¦ã€çŸ¥è¯†é—®ç­”ç­‰éœ€è¦é•¿ç¨‹ä¾èµ–ç†è§£çš„ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-11">å¤§è§„æ¨¡æ¨¡å‹éƒ¨ç½²</h3>
<ul>
<li>é™ä½ç¡¬ä»¶é—¨æ§›ï¼šç›¸åŒGPUå¯éƒ¨ç½²æ›´å¤§æ¨¡å‹æˆ–æ”¯æŒæ›´å¤šå¹¶å‘</li>
<li>å‡å°‘ç¢³æ’æ”¾ï¼šæ¨ç†èƒ½è€—é™ä½çº¦40%</li>
<li>é€‚åˆäº‘æœåŠ¡ã€è¾¹ç¼˜è®¾å¤‡å’Œç§»åŠ¨ç«¯éƒ¨ç½²</li>
</ul>
<h3 data-id="heading-12">å¤šæ¨¡æ€èåˆ</h3>
<ul>
<li>è®¾è®¡å…±äº«æ½œåœ¨ç¼–ç å™¨ï¼Œå°†ä¸åŒæ¨¡æ€(æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘)æ˜ å°„åˆ°ç»Ÿä¸€ç©ºé—´</li>
<li>å®ç°è·¨æ¨¡æ€ç»†ç²’åº¦å¯¹é½ï¼Œåœ¨åŒ»ç–—å½±åƒ-æ–‡æœ¬åˆ†æç­‰ä»»åŠ¡ä¸­F1-scoreæå‡è‡³0.92</li>
</ul>
<h2 data-id="heading-13">æ€»ç»“</h2>
<p><strong>MLAæ ¸å¿ƒä»·å€¼</strong>ï¼šé€šè¿‡"ä»¥è®¡ç®—æ¢å­˜å‚¨"ç­–ç•¥ï¼Œåœ¨å‡ ä¹ä¸æŸå¤±æ¨¡å‹è¡¨è¾¾èƒ½åŠ›çš„å‰æä¸‹ï¼Œè§£å†³äº†å¤§æ¨¡å‹æ¨ç†çš„å†…å­˜ç“¶é¢ˆï¼Œä¸ºé•¿æ–‡æœ¬ç†è§£å’Œé«˜æ•ˆéƒ¨ç½²å¼€è¾Ÿäº†æ–°è·¯å¾„ã€‚</p>
<p><strong>æœªæ¥å‘å±•æ–¹å‘</strong>ï¼š</p>
<ul>
<li>TransMLA: å°†ç°æœ‰GQAæ¨¡å‹æ— ç¼è½¬æ¢ä¸ºMLAï¼Œæå‡è¡¨è¾¾èƒ½åŠ›è€Œä¸å¢åŠ å†…å­˜å¼€é”€</li>
<li>FlashMLA: DeepSeekæœ€æ–°ä¼˜åŒ–ï¼Œè¿›ä¸€æ­¥æå‡æ¨ç†é€Ÿåº¦ï¼Œé™ä½å†…å­˜å ç”¨</li>
<li>ä¸MoE(æ··åˆä¸“å®¶)ç»“åˆï¼Œåœ¨ä¿æŒè½»é‡çš„åŒæ—¶å¢å¼ºæ¨¡å‹å¤šæ ·æ€§å’Œæ¨ç†èƒ½åŠ›</li>
</ul>
<p>MLAä¸ä»…æ˜¯æ³¨æ„åŠ›æœºåˆ¶çš„æŠ€æœ¯åˆ›æ–°ï¼Œæ›´æ˜¯å¤§æ¨¡å‹å·¥ç¨‹åŒ–çš„å…³é”®çªç ´ï¼Œä¸ºæ„å»ºæ›´é«˜æ•ˆã€æ›´å¼ºå¤§çš„AIç³»ç»Ÿå¥ å®šäº†åŸºç¡€ã€‚éšç€ç ”ç©¶æ·±å…¥ï¼ŒMLAæœ‰æœ›æˆä¸ºä¸‹ä¸€ä»£å¤§å‹è¯­è¨€æ¨¡å‹çš„æ ‡é…ç»„ä»¶ï¼Œæ¨åŠ¨AIä»"èƒ½ç”¨"å‘"å¥½ç”¨"è·¨è¶Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹¶å‘ç¼–ç¨‹é«˜çº§æŠ€å·§ï¼šè¿è¡Œæ—¶æ£€æµ‹æ­»é”ï¼Œå‘Šåˆ«æ­»é”ç„¦è™‘]]></title>    <link>https://juejin.cn/post/7586504691845234697</link>    <guid>https://juejin.cn/post/7586504691845234697</guid>    <pubDate>2025-12-22T11:18:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586504691845234697" data-draft-id="7586498198148792371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹¶å‘ç¼–ç¨‹é«˜çº§æŠ€å·§ï¼šè¿è¡Œæ—¶æ£€æµ‹æ­»é”ï¼Œå‘Šåˆ«æ­»é”ç„¦è™‘"/> <meta itemprop="keywords" content="åç«¯,æ€§èƒ½ä¼˜åŒ–,Java"/> <meta itemprop="datePublished" content="2025-12-22T11:18:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡¦è¯´ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2212689394274136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹¶å‘ç¼–ç¨‹é«˜çº§æŠ€å·§ï¼šè¿è¡Œæ—¶æ£€æµ‹æ­»é”ï¼Œå‘Šåˆ«æ­»é”ç„¦è™‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212689394274136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡¦è¯´ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T11:18:18.000Z" title="Mon Dec 22 2025 11:18:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½,æˆ‘æ˜¯æ¡¦è¯´ç¼–ç¨‹ã€‚</p>
<blockquote>
<p>æ­»é”æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹çš„å™©æ¢¦ï¼Œä¸€æ—¦å‘ç”Ÿç¨‹åºå°±ä¼šæŒ‚èµ·ã€‚æœ¬æ–‡ä»‹ç» Guava çš„ <code>CycleDetectingLockFactory</code>ï¼Œè®©ä½ åœ¨å¼€å‘é˜¶æ®µå°±èƒ½å‘ç°æ½œåœ¨æ­»é”ï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç”Ÿäº§ç¯å¢ƒæš´é›·ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯ï¼šæ­»é”ç„¦è™‘</h2>
<p>ä½¿ç”¨ <code>ReentrantLock</code> æˆ– <code>synchronized</code> æ—¶ï¼Œæœ€æ‹…å¿ƒçš„å°±æ˜¯æ­»é”ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// çº¿ç¨‹1ï¼šå…ˆé”Aï¼Œå†é”B</span>
lockA.lock();
lockB.lock();

<span class="hljs-comment">// çº¿ç¨‹2ï¼šå…ˆé”Bï¼Œå†é”A</span>
lockB.lock();
lockA.lock();
</code></pre>
<p>è¿™ç§ä»£ç åœ¨å•å…ƒæµ‹è¯•ä¸­å¯èƒ½è¿è¡Œæ­£å¸¸ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒé«˜å¹¶å‘æ—¶çªç„¶æ­»é”ï¼Œç¨‹åºæŒ‚èµ·ï¼Œåªèƒ½é‡å¯ã€‚</p>
<p><strong>æ ¸å¿ƒç—›ç‚¹</strong>ï¼š</p>
<ul>
<li>æ­»é”éš¾ä»¥å¤ç°ï¼Œæµ‹è¯•é˜¶æ®µå¾ˆéš¾å‘ç°</li>
<li>ä¸€æ—¦å‘ç”Ÿï¼Œåªèƒ½å¼ºåˆ¶é‡å¯</li>
<li>æ’æŸ¥éœ€è¦çº¿ç¨‹ dump åˆ†æï¼Œè€—æ—¶è€—åŠ›</li>
</ul>
<h2 data-id="heading-1">CycleDetectingLockFactoryï¼šè¿è¡Œæ—¶æ­»é”æ£€æµ‹</h2>
<p>Guava æä¾›çš„ <code>CycleDetectingLockFactory</code> é€šè¿‡<strong>æ„å»ºé”çš„ä¾èµ–å›¾</strong>ï¼Œåœ¨è·å–é”æ—¶å®æ—¶æ£€æµ‹æ˜¯å¦ä¼šå½¢æˆç¯è·¯ï¼ˆæ­»é”ï¼‰ã€‚</p>
<h3 data-id="heading-2">æ ¸å¿ƒåŸç†</h3>
<ol>
<li><strong>é”ä¾èµ–å›¾</strong>ï¼šè®°å½•æ¯ä¸ªçº¿ç¨‹è·å–é”çš„é¡ºåº</li>
<li><strong>ç¯è·¯æ£€æµ‹</strong>ï¼šå°è¯•è·å–æ–°é”æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦ä¼šå½¢æˆç¯è·¯</li>
<li><strong>å³æ—¶å¤±è´¥</strong>ï¼šæ£€æµ‹åˆ°æ½œåœ¨æ­»é”æ—¶ï¼Œç«‹å³æŠ›å‡º <code>PotentialDeadlockException</code></li>
</ol>
<h3 data-id="heading-3">ä¸‰ç§æ£€æµ‹ç­–ç•¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. THROW - æŠ›å‡ºå¼‚å¸¸ï¼ˆæ¨èç”¨äºå¼€å‘/æµ‹è¯•ç¯å¢ƒï¼‰</span>
CycleDetectingLockFactory.newInstance(Policies.THROW);

<span class="hljs-comment">// 2. WARN - æ‰“å°è­¦å‘Šæ—¥å¿—ï¼ˆé€‚åˆç”Ÿäº§ç¯å¢ƒï¼‰</span>
CycleDetectingLockFactory.newInstance(Policies.WARN);

<span class="hljs-comment">// 3. DISABLED - ç¦ç”¨æ£€æµ‹ï¼ˆæ€§èƒ½æ•æ„Ÿåœºæ™¯ï¼‰</span>
CycleDetectingLockFactory.newInstance(Policies.DISABLED);
</code></pre>
<h2 data-id="heading-4">å¯¹æ¯”æ¼”ç¤ºï¼šæ­»é” vs æ­»é”æ£€æµ‹</h2>
<h3 data-id="heading-5">åœºæ™¯ï¼šè½¬è´¦ç³»ç»Ÿ</h3>
<p>ä¸¤ä¸ªè´¦æˆ·ç›¸äº’è½¬è´¦ï¼Œçº¿ç¨‹1ä»Aè½¬åˆ°Bï¼Œçº¿ç¨‹2ä»Bè½¬åˆ°Aã€‚</p>
<h3 data-id="heading-6">æ­»é”ç‰ˆæœ¬ï¼ˆReentrantLockï¼‰</h3>
<p>ä½¿ç”¨æ™®é€š <code>ReentrantLock</code>ï¼Œç¨‹åºä¼šæŒ‚èµ·ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Account</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ReentrantLock</span> <span class="hljs-variable">lock</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReentrantLock</span>();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span><span class="hljs-params">(Account target, <span class="hljs-type">int</span> amount)</span> {
        lock.lock();  <span class="hljs-comment">// å…ˆé”è‡ªå·±</span>
        <span class="hljs-keyword">try</span> {
            target.lock.lock();  <span class="hljs-comment">// å†é”å¯¹æ–¹ - å¯èƒ½æ­»é”!</span>
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// è½¬è´¦é€»è¾‘</span>
            } <span class="hljs-keyword">finally</span> {
                target.lock.unlock();
            }
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-css" lang="css">çº¿ç¨‹<span class="hljs-number">1</span> è·å–äº† è´¦æˆ·<span class="hljs-selector-tag">A</span> çš„é”
çº¿ç¨‹<span class="hljs-number">2</span> è·å–äº† è´¦æˆ·<span class="hljs-selector-tag">B</span> çš„é”
=== <span class="hljs-number">3</span>ç§’åç¨‹åºä»æœªç»“æŸï¼Œå‘ç”Ÿæ­»é” ===
çº¿ç¨‹<span class="hljs-number">1</span>çŠ¶æ€: WAITING
çº¿ç¨‹<span class="hljs-number">2</span>çŠ¶æ€: WAITING
</code></pre>
<h3 data-id="heading-7">æ­»é”æ£€æµ‹ç‰ˆæœ¬ï¼ˆCycleDetectingLockFactoryï¼‰</h3>
<p>æ›¿æ¢ä¸º <code>CycleDetectingLockFactory</code>ï¼Œæ­»é”ä¼šè¢«ç«‹å³æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">CycleDetectingLockFactory</span> <span class="hljs-variable">lockFactory</span> <span class="hljs-operator">=</span>
    CycleDetectingLockFactory.newInstance(Policies.THROW);

<span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Account</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Lock lock;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Account</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> balance)</span> {
        <span class="hljs-built_in">this</span>.lock = lockFactory.newReentrantLock(name);  <span class="hljs-comment">// ä½¿ç”¨å·¥å‚åˆ›å»ºé”</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span><span class="hljs-params">(Account target, <span class="hljs-type">int</span> amount)</span> {
        lock.lock();
        <span class="hljs-keyword">try</span> {
            target.lock.lock();  <span class="hljs-comment">// æ£€æµ‹åˆ°æ­»é”ä¼šæŠ›å‡ºå¼‚å¸¸</span>
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// è½¬è´¦é€»è¾‘</span>
            } <span class="hljs-keyword">finally</span> {
                target.lock.unlock();
            }
        } <span class="hljs-keyword">catch</span> (PotentialDeadlockException e) {
            System.err.println(<span class="hljs-string">"æ£€æµ‹åˆ°æ½œåœ¨æ­»é”: "</span> + e.getMessage());
        } <span class="hljs-keyword">finally</span> {
            lock.unlock();
        }
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-css" lang="css">çº¿ç¨‹<span class="hljs-number">1</span> è·å–äº† è´¦æˆ·<span class="hljs-selector-tag">A</span> çš„é”
çº¿ç¨‹<span class="hljs-number">2</span> è·å–äº† è´¦æˆ·<span class="hljs-selector-tag">B</span> çš„é”
çº¿ç¨‹<span class="hljs-number">2</span> æ£€æµ‹åˆ°æ½œåœ¨æ­»é”!
æ­»é”ä¿¡æ¯: Potential Deadlock from LockGraphNode{è´¦æˆ·<span class="hljs-selector-tag">B</span>} <span class="hljs-selector-tag">to</span> LockGraphNode{è´¦æˆ·<span class="hljs-selector-tag">A</span>}
=== ç¨‹åºæ­£å¸¸ç»“æŸï¼Œæœªå‘ç”Ÿæ­»é”æŒ‚èµ· ===
</code></pre>
<h2 data-id="heading-8">å®æˆ˜å»ºè®®</h2>
<h3 data-id="heading-9">1. å¼€å‘/æµ‹è¯•ç¯å¢ƒä½¿ç”¨ THROW ç­–ç•¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨æµ‹è¯•ç¯å¢ƒé…ç½®</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">CycleDetectingLockFactory</span> <span class="hljs-variable">lockFactory</span> <span class="hljs-operator">=</span>
    CycleDetectingLockFactory.newInstance(Policies.THROW);
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ä¸­è‡ªåŠ¨å‘ç°æ­»é”é—®é¢˜ï¼Œå¿«é€Ÿå¤±è´¥ã€‚</p>
<h3 data-id="heading-10">2. ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ WARN ç­–ç•¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åœ¨ç”Ÿäº§ç¯å¢ƒé…ç½®</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">CycleDetectingLockFactory</span> <span class="hljs-variable">lockFactory</span> <span class="hljs-operator">=</span>
    CycleDetectingLockFactory.newInstance(Policies.WARN);
</code></pre>
<p><strong>å¥½å¤„</strong>ï¼šè®°å½•å‘Šè­¦æ—¥å¿—ï¼Œä½†ä¸ä¸­æ–­ä¸šåŠ¡ï¼Œä¾¿äºåç»­ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-11">3. æ€§èƒ½æ•æ„Ÿåœºæ™¯å¯ä»¥ç¦ç”¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ€§èƒ½ä¼˜å…ˆåœºæ™¯</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">CycleDetectingLockFactory</span> <span class="hljs-variable">lockFactory</span> <span class="hljs-operator">=</span>
    CycleDetectingLockFactory.newInstance(Policies.DISABLED);
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šåªæœ‰åœ¨ç¡®è®¤æ²¡æœ‰æ­»é”é£é™©ï¼Œä¸”æ€§èƒ½æµ‹è¯•è¯æ˜æ£€æµ‹æœ‰æ˜æ˜¾å¼€é”€æ—¶æ‰ç¦ç”¨ã€‚</p>
<h3 data-id="heading-12">4. æ›´å¥½çš„æ–¹æ¡ˆï¼šå›ºå®šåŠ é”é¡ºåº</h3>
<p>æ­»é”æ£€æµ‹åªæ˜¯å…œåº•æ‰‹æ®µï¼Œæ ¹æœ¬è§£å†³æ–¹æ¡ˆæ˜¯<strong>é¿å…ç¯è·¯ä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æŒ‰ç…§å›ºå®šé¡ºåºåŠ é”ï¼Œé¿å…æ­»é”</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">safeTransfer</span><span class="hljs-params">(Account from, Account to, <span class="hljs-type">int</span> amount)</span> {
    <span class="hljs-type">Account</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> System.identityHashCode(from) &lt; System.identityHashCode(to) ? from : to;
    <span class="hljs-type">Account</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> first == from ? to : from;

    first.lock.lock();
    <span class="hljs-keyword">try</span> {
        second.lock.lock();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è½¬è´¦é€»è¾‘</span>
        } <span class="hljs-keyword">finally</span> {
            second.lock.unlock();
        }
    } <span class="hljs-keyword">finally</span> {
        first.lock.unlock();
    }
}
</code></pre>
<h2 data-id="heading-13">å®Œæ•´ç¤ºä¾‹</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * CycleDetectingLockFactory æ­»é”æ£€æµ‹æ¼”ç¤º
 *
 * &lt;p&gt;ä¸ DeadlockDemo ç›¸åŒçš„è½¬è´¦åœºæ™¯ï¼Œä½†ä½¿ç”¨ CycleDetectingLockFactory
 * &lt;p&gt;å½“æ£€æµ‹åˆ°æ½œåœ¨æ­»é”æ—¶ï¼Œä¼šç«‹å³æŠ›å‡º PotentialDeadlockExceptionï¼Œè€Œä¸æ˜¯æŒ‚èµ·ç¨‹åº
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CycleDetectingLockDemo</span> {

    <span class="hljs-comment">// åˆ›å»ºé”å·¥å‚ï¼ŒTHROW ç­–ç•¥ä¼šåœ¨æ£€æµ‹åˆ°æ­»é”æ—¶æŠ›å‡ºå¼‚å¸¸</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">CycleDetectingLockFactory</span> <span class="hljs-variable">lockFactory</span> <span class="hljs-operator">=</span>
            CycleDetectingLockFactory.newInstance(CycleDetectingLockFactory.Policies.THROW);

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Account</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Lock lock;
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> balance;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Account</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> balance)</span> {
            <span class="hljs-built_in">this</span>.name = name;
            <span class="hljs-built_in">this</span>.balance = balance;
            <span class="hljs-comment">// ä½¿ç”¨ CycleDetectingLockFactory åˆ›å»ºé”</span>
            <span class="hljs-comment">// æ¯ä¸ªé”éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è¯†ï¼Œç”¨äºæ„å»ºé”çš„ä¾èµ–å›¾</span>
            <span class="hljs-built_in">this</span>.lock = lockFactory.newReentrantLock(name);
        }

        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">transfer</span><span class="hljs-params">(Account target, <span class="hljs-type">int</span> amount)</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// å…ˆé”å®šè‡ªå·±çš„è´¦æˆ·</span>
                lock.lock();
                <span class="hljs-keyword">try</span> {
                    System.out.println(Thread.currentThread().getName() +
                            <span class="hljs-string">" è·å–äº† "</span> + name + <span class="hljs-string">" çš„é”"</span>);

                    <span class="hljs-comment">// æ¨¡æ‹Ÿä¸šåŠ¡å¤„ç†è€—æ—¶</span>
                    Thread.sleep(<span class="hljs-number">100</span>);

                    <span class="hljs-comment">// å°è¯•é”å®šç›®æ ‡è´¦æˆ·</span>
                    <span class="hljs-comment">// å¦‚æœä¼šå½¢æˆå¾ªç¯ä¾èµ–ï¼ˆæ­»é”ï¼‰ï¼Œè¿™é‡Œä¼šç«‹å³æŠ›å‡º PotentialDeadlockException</span>
                    target.lock.lock();
                    <span class="hljs-keyword">try</span> {
                        System.out.println(Thread.currentThread().getName() +
                                <span class="hljs-string">" è·å–äº† "</span> + target.name + <span class="hljs-string">" çš„é”"</span>);

                        <span class="hljs-built_in">this</span>.balance -= amount;
                        target.balance += amount;

                        System.out.println(Thread.currentThread().getName() +
                                <span class="hljs-string">" å®Œæˆè½¬è´¦: "</span> + name + <span class="hljs-string">" -&gt; "</span> + target.name + <span class="hljs-string">" Â¥"</span> + amount);
                    } <span class="hljs-keyword">finally</span> {
                        target.lock.unlock();
                    }
                } <span class="hljs-keyword">finally</span> {
                    lock.unlock();
                }
            } <span class="hljs-keyword">catch</span> (CycleDetectingLockFactory.PotentialDeadlockException e) {
                <span class="hljs-comment">// æ£€æµ‹åˆ°æ½œåœ¨æ­»é”ï¼Œç«‹å³æŠ›å‡ºå¼‚å¸¸</span>
                System.err.println(Thread.currentThread().getName() +
                        <span class="hljs-string">" æ£€æµ‹åˆ°æ½œåœ¨æ­»é”!"</span>);
                System.err.println(<span class="hljs-string">"æ­»é”ä¿¡æ¯: "</span> + e.getMessage());
                <span class="hljs-comment">// æ‰“å°å®Œæ•´çš„é”ä¾èµ–é“¾</span>
                e.printStackTrace();
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
            <span class="hljs-keyword">return</span> name + <span class="hljs-string">": Â¥"</span> + balance;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
        <span class="hljs-type">Account</span> <span class="hljs-variable">accountA</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Account</span>(<span class="hljs-string">"è´¦æˆ·A"</span>, <span class="hljs-number">1000</span>);
        <span class="hljs-type">Account</span> <span class="hljs-variable">accountB</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Account</span>(<span class="hljs-string">"è´¦æˆ·B"</span>, <span class="hljs-number">1000</span>);

        System.out.println(<span class="hljs-string">"=== CycleDetectingLockFactory æ­»é”æ£€æµ‹æ¼”ç¤º ==="</span>);
        System.out.println(<span class="hljs-string">"åˆå§‹çŠ¶æ€: "</span> + accountA + <span class="hljs-string">", "</span> + accountB);
        System.out.println();

        <span class="hljs-comment">// çº¿ç¨‹1: A -&gt; B è½¬è´¦</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            accountA.transfer(accountB, <span class="hljs-number">200</span>);
        }, <span class="hljs-string">"çº¿ç¨‹1"</span>);

        <span class="hljs-comment">// çº¿ç¨‹2: B -&gt; A è½¬è´¦</span>
        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
            accountB.transfer(accountA, <span class="hljs-number">300</span>);
        }, <span class="hljs-string">"çº¿ç¨‹2"</span>);

        thread1.start();
        thread2.start();

        <span class="hljs-comment">// ç­‰å¾…çº¿ç¨‹ç»“æŸ</span>
        thread1.join(<span class="hljs-number">5000</span>);
        thread2.join(<span class="hljs-number">5000</span>);

        System.out.println();
        System.out.println(<span class="hljs-string">"=== ç¨‹åºæ­£å¸¸ç»“æŸï¼Œæœªå‘ç”Ÿæ­»é”æŒ‚èµ· ==="</span>);
        System.out.println(<span class="hljs-string">"æœ€ç»ˆçŠ¶æ€: "</span> + accountA + <span class="hljs-string">", "</span> + accountB);
        System.out.println(<span class="hljs-string">"çº¿ç¨‹1çŠ¶æ€: "</span> + thread1.getState());
        System.out.println(<span class="hljs-string">"çº¿ç¨‹2çŠ¶æ€: "</span> + thread2.getState());
    }

    <span class="hljs-comment">/**
     * æ¼”ç¤ºæ­£ç¡®çš„é”é¡ºåº - é¿å…æ­»é”
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeTransferDemo</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException {
            <span class="hljs-type">Account</span> <span class="hljs-variable">accountA</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Account</span>(<span class="hljs-string">"è´¦æˆ·A"</span>, <span class="hljs-number">1000</span>);
            <span class="hljs-type">Account</span> <span class="hljs-variable">accountB</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Account</span>(<span class="hljs-string">"è´¦æˆ·B"</span>, <span class="hljs-number">1000</span>);

            System.out.println(<span class="hljs-string">"=== å®‰å…¨è½¬è´¦æ¼”ç¤ºï¼ˆæŒ‰å›ºå®šé¡ºåºåŠ é”ï¼‰==="</span>);
            System.out.println(<span class="hljs-string">"åˆå§‹çŠ¶æ€: "</span> + accountA + <span class="hljs-string">", "</span> + accountB);
            System.out.println();

            <span class="hljs-comment">// ä¸¤ä¸ªçº¿ç¨‹éƒ½æŒ‰ç…§ç›¸åŒçš„é¡ºåºåŠ é”ï¼šå…ˆ A å B</span>
            <span class="hljs-type">Thread</span> <span class="hljs-variable">thread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                safeTransfer(accountA, accountB, <span class="hljs-number">200</span>);
            }, <span class="hljs-string">"çº¿ç¨‹1"</span>);

            <span class="hljs-type">Thread</span> <span class="hljs-variable">thread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; {
                safeTransfer(accountB, accountA, <span class="hljs-number">300</span>);
            }, <span class="hljs-string">"çº¿ç¨‹2"</span>);

            thread1.start();
            thread2.start();

            thread1.join();
            thread2.join();

            System.out.println();
            System.out.println(<span class="hljs-string">"=== å®‰å…¨è½¬è´¦å®Œæˆ ==="</span>);
            System.out.println(<span class="hljs-string">"æœ€ç»ˆçŠ¶æ€: "</span> + accountA + <span class="hljs-string">", "</span> + accountB);
        }

        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">safeTransfer</span><span class="hljs-params">(Account from, Account to, <span class="hljs-type">int</span> amount)</span> {
            <span class="hljs-comment">// æŒ‰ç…§å›ºå®šé¡ºåºåŠ é”ï¼šä½¿ç”¨ hashCode æˆ–å…¶ä»–æ ‡è¯†ç¬¦ç¡®å®šé¡ºåº</span>
            <span class="hljs-type">Account</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> System.identityHashCode(from) &lt; System.identityHashCode(to) ? from : to;
            <span class="hljs-type">Account</span> <span class="hljs-variable">second</span> <span class="hljs-operator">=</span> first == from ? to : from;

            <span class="hljs-keyword">try</span> {
                first.lock.lock();
                <span class="hljs-keyword">try</span> {
                    System.out.println(Thread.currentThread().getName() +
                            <span class="hljs-string">" è·å–äº† "</span> + first.name + <span class="hljs-string">" çš„é”"</span>);

                    Thread.sleep(<span class="hljs-number">100</span>);

                    second.lock.lock();
                    <span class="hljs-keyword">try</span> {
                        System.out.println(Thread.currentThread().getName() +
                                <span class="hljs-string">" è·å–äº† "</span> + second.name + <span class="hljs-string">" çš„é”"</span>);

                        from.balance -= amount;
                        to.balance += amount;

                        System.out.println(Thread.currentThread().getName() +
                                <span class="hljs-string">" å®Œæˆè½¬è´¦: "</span> + from.name + <span class="hljs-string">" -&gt; "</span> + to.name + <span class="hljs-string">" Â¥"</span> + amount);
                    } <span class="hljs-keyword">finally</span> {
                        second.lock.unlock();
                    }
                } <span class="hljs-keyword">finally</span> {
                    first.lock.unlock();
                }
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-14">æ ¸å¿ƒè¦ç‚¹</h2>
<h3 data-id="heading-15">CycleDetectingLockFactory çš„ä¼˜åŠ¿</h3>
<ol>
<li><strong>å³æ—¶åé¦ˆ</strong>ï¼šå¼€å‘é˜¶æ®µå°±èƒ½å‘ç°æ½œåœ¨æ­»é”</li>
<li><strong>é›¶ä¾µå…¥</strong>ï¼šåªéœ€æ›¿æ¢é”çš„åˆ›å»ºæ–¹å¼ï¼Œä¸šåŠ¡ä»£ç ä¸å˜</li>
<li><strong>å¯é…ç½®</strong>ï¼šæ ¹æ®ç¯å¢ƒé€‰æ‹©ä¸åŒç­–ç•¥ï¼ˆæŠ›å¼‚å¸¸/å‘Šè­¦/ç¦ç”¨ï¼‰</li>
<li><strong>æ¸…æ™°è¯Šæ–­</strong>ï¼šå¼‚å¸¸ä¿¡æ¯åŒ…å«å®Œæ•´çš„é”ä¾èµ–é“¾</li>
</ol>
<h3 data-id="heading-16">ä½¿ç”¨åœºæ™¯</h3>
<ul>
<li><strong>æ¨èä½¿ç”¨</strong>ï¼šå¤šä¸ªé”ã€åŠ é”é¡ºåºä¸ç¡®å®šçš„åœºæ™¯</li>
<li><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼šå…¨å±€ä½¿ç”¨ THROW ç­–ç•¥ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å‘ç°é—®é¢˜</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šä½¿ç”¨ WARN ç­–ç•¥ä½œä¸ºç›‘æ§æ‰‹æ®µ</li>
<li><strong>ä¸æ¨è</strong>ï¼šå•é”åœºæ™¯ã€åŠ é”é¡ºåºå›ºå®šçš„åœºæ™¯ï¼ˆæ— å¿…è¦ï¼‰</li>
</ul>
<h2 data-id="heading-17">æ€»ç»“</h2>
<ul>
<li><strong>æ­»é”éš¾ä»¥å¤ç°</strong>ï¼Œç”Ÿäº§ç¯å¢ƒæš´éœ²æˆæœ¬é«˜ï¼Œ<code>CycleDetectingLockFactory</code> è®©é—®é¢˜å‰ç§»</li>
<li><strong>THROW ç­–ç•¥</strong>ç”¨äºæµ‹è¯•ç¯å¢ƒï¼Œ<strong>WARN ç­–ç•¥</strong>ç”¨äºç”Ÿäº§ç¯å¢ƒ</li>
<li><strong>æ­»é”æ£€æµ‹æ˜¯å…œåº•</strong>ï¼Œæ ¹æœ¬æ–¹æ¡ˆæ˜¯è®¾è®¡åˆç†çš„åŠ é”é¡ºåº</li>
<li><strong>é›¶ä¾µå…¥æ”¹é€ </strong>ï¼Œåªéœ€æ›¿æ¢é”çš„åˆ›å»ºæ–¹å¼ï¼Œç«‹å³è·å¾—æ­»é”æ£€æµ‹èƒ½åŠ›</li>
<li><strong>æ£€æµ‹å¼€é”€</strong>ï¼šéœ€è¦ç»´æŠ¤é”ä¾èµ–å›¾ï¼Œæœ‰è½»å¾®æ€§èƒ½æŸè€—</li>
</ul>
<p>ä½¿ç”¨ <code>CycleDetectingLockFactory</code> å¯ä»¥è®©ä½ æ‘†è„±æ­»é”ç„¦è™‘ï¼Œåœ¨å¼€å‘é˜¶æ®µå°±å‘ç°é—®é¢˜ï¼Œè€Œä¸æ˜¯ç­‰åˆ°ç”Ÿäº§ç¯å¢ƒæš´é›·åæ‰‹å¿™è„šä¹±ã€‚</p>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ï¼ŒæŒç»­åˆ†äº«é«˜è´¨é‡æŠ€æœ¯å¹²è´§ï¼ŒåŠ©ä½ æ›´å¿«æå‡ç¼–ç¨‹èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ’ªåˆ«å†è¿·èŒ«ï¼ä¸€ä»½è®©ä½ å½»åº•æŒæ§ TypeScript ç±»å‹ç³»ç»Ÿçš„ç»ˆææŒ‡å—]]></title>    <link>https://juejin.cn/post/7586506307726491658</link>    <guid>https://juejin.cn/post/7586506307726491658</guid>    <pubDate>2025-12-22T11:25:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586506307726491658" data-draft-id="7586482860103827483" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ’ªåˆ«å†è¿·èŒ«ï¼ä¸€ä»½è®©ä½ å½»åº•æŒæ§ TypeScript ç±»å‹ç³»ç»Ÿçš„ç»ˆææŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2025-12-22T11:25:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hboot"/> <meta itemprop="url" content="https://juejin.cn/user/2084329777543191"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ’ªåˆ«å†è¿·èŒ«ï¼ä¸€ä»½è®©ä½ å½»åº•æŒæ§ TypeScript ç±»å‹ç³»ç»Ÿçš„ç»ˆææŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2084329777543191/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hboot
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T11:25:34.000Z" title="Mon Dec 22 2025 11:25:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>TypeScript</code>ç°åœ¨çš„æ™®åŠåº¦å·²ç»å¾ˆé«˜äº†ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ç§é™æ€ç±»å‹å®šä¹‰ï¼Œä½†å®ƒçš„åºå¤§å·²è¶³å¤Ÿæˆ‘ä»¬è¦å‘å¯¹å¾…ä¸€é—¨è¯­è¨€ä¸€æ ·å¯¹å¾…å®ƒäº†ï¼Œå»æ·±å…¥å­¦ä¹ ï¼Œä»¥ä¾¿æ›´å¥½çš„åˆ©ç”¨å®ƒçš„èƒ½åŠ›ã€‚</p>
<p>å½“ç„¶äº†ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ˜ç¡®ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Œè€Œä¸æ˜¯æŠŠå®ƒå½“ä½œä¸€ç§è´Ÿæ‹…ï¼š</p>
<ul>
<li>ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œé¿å…äº†è¿è¡Œæ—¶æ‰æ£€æŸ¥çš„æ•°æ®ç±»å‹é”™è¯¯ï¼Œå¯¼è‡´ç³»ç»Ÿå¥”æºƒã€‚</li>
<li>æå‡å¼€å‘æ•ˆç‡ï¼ŒIDEåŸºäºç±»å‹ç³»ç»Ÿæä¾›äº†ç²¾å‡†çš„ä»£ç è¡¥å…¨ã€æ¥å£æç¤ºã€‚å‡å°‘äº†æŸ¥è¯¢æ–‡æ¡£ã€æŸ¥è¯¢APIçš„æˆæœ¬ã€‚</li>
<li>å¢å¼ºäº†ä»£ç å¯è¯»æ€§ï¼Œé€šè¿‡ç±»å‹æ³¨è§£å¸®åŠ©æˆå‘˜å¿«é€Ÿç†è§£å‡½æ•°è¾“å…¥ã€è¾“å‡ºï¼Œé™ä½äº†åä½œæˆæœ¬ã€‚</li>
</ul>
<h2 data-id="heading-0">ç±»å‹ç³»ç»ŸåŸºçŸ³</h2>
<p>åƒä¸€é—¨è¯­è¨€æœ‰åŸºæœ¬çš„è¯­æ³•ä¸€æ ·ï¼Œ<code>TypeScript</code>ä¹Ÿæœ‰åŸºæœ¬çš„ç±»å‹å®šä¹‰ï¼Œè¿™äº›åŸºæœ¬ç±»å‹å¯¹åº”<code>JavaScript</code>ä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬<code>number</code>ã€<code>string</code>ã€<code>boolean</code>ã€<code>null</code>ã€<code>undefined</code>ã€<code>symbol</code>ã€<code>bigint</code>ã€<code>object</code>ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">"hboot"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">18</span>;
<span class="hljs-keyword">const</span> <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">`hello, <span class="hljs-subst">${name}</span>`</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">uniqueKey</span>: <span class="hljs-built_in">symbol</span> = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">"key"</span>);
</code></pre>
<h3 data-id="heading-1">ç©ºç±»å‹ã€ä»»æ„ç±»å‹ã€æœªçŸ¥ç±»å‹</h3>
<p><code>void</code>è¡¨ç¤ºç©ºç±»å‹ï¼Œ<code>any</code>è¡¨ç¤ºä»»æ„ç±»å‹ï¼Œ<code>unknown</code>è¡¨ç¤ºæœªçŸ¥ç±»å‹ã€‚</p>
<ul>
<li><code>void</code> å¸¸ç”¨äºå‡½æ•°æ— è¿”å›å€¼æ—¶çš„è¿”å›ç±»å‹å£°æ˜ï¼›</li>
<li><code>any</code> è¡¨ç¤ºä»»æ„ç±»å‹ï¼Œå¤±å»äº†ç±»å‹æ£€æŸ¥çš„èƒ½åŠ›ï¼Œéå¿…è¦ä¸è¦ç”¨ï¼›</li>
<li><code>unknown</code> è¡¨ç¤ºæœªçŸ¥ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥ä»£æ›¿<code>any</code>ï¼Œä½†æ˜¯å®ƒä¸èƒ½ç›´æ¥ç”¨ï¼Œå¿…é¡»é€šè¿‡ç±»å‹æ–­è¨€æˆ–ç±»å‹å®ˆå«æ˜ç¡®å…·ä½“ç±»å‹æ‰èƒ½æ“ä½œã€‚</li>
<li><code>never</code> è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ï¼Œå˜é‡å’Œå‡½æ•°è¿”å›ä¸ä¼šå­˜åœ¨ä»»ä½•å®é™…å€¼ã€‚å®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„å­—ç±»å‹ï¼Œå¯ä»¥èµ‹å€¼ç»™ä»»æ„ç±»å‹ã€‚</li>
</ul>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">noReturn</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg);
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">name</span>: <span class="hljs-built_in">any</span> = <span class="hljs-string">"admin"</span>;
<span class="hljs-comment">// å¯ä»¥ä»»æ„èµ‹å€¼</span>
name = <span class="hljs-number">123</span>;
<span class="hljs-comment">// ç”šè‡³æ˜¯å½“ä½œå‡½æ•°è°ƒç”¨,è¿™å¯¼è‡´å¼€å‘ä¸æ˜“å‘ç°ï¼Œè¿è¡Œæ—¶æ‰æŠ¥é”™</span>
<span class="hljs-title function_">name</span>():

<span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-number">18</span>;
<span class="hljs-comment">// ç±»å‹ä¸ºæœªçŸ¥ï¼Œæ— æ³•ç›´æ¥æ“ä½œ</span>
age += <span class="hljs-number">10</span>;
<span class="hljs-comment">// é€šè¿‡ç±»å‹å®ˆå«ï¼Œæ˜ç¡®ç±»å‹ä¸º number</span>
<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> age === <span class="hljs-string">'number'</span>) { 
    age += <span class="hljs-number">10</span>;
}
</code></pre>
<h2 data-id="heading-2">å¤åˆç±»å‹</h2>
<p>å¤åˆç±»å‹å°±æ˜¯åŸºç¡€ç±»å‹çš„ç»„åˆï¼ŒåŒ…æ‹¬æ•°ç»„ã€å¯¹è±¡ã€å…ƒç»„ã€æšä¸¾ã€ç±»ã€‚</p>
<h3 data-id="heading-3">æ•°ç»„</h3>
<p>æ•°ç»„çš„ç±»å‹å®šä¹‰<code>T[]</code>æˆ–<code>Array&lt;T&gt;</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æ•°ç»„</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">names</span>: <span class="hljs-built_in">string</span>[] = [<span class="hljs-string">'admin'</span>, <span class="hljs-string">'user'</span>];
<span class="hljs-keyword">let</span> <span class="hljs-attr">names</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt; = [<span class="hljs-string">'admin'</span>, <span class="hljs-string">'user'</span>];
</code></pre>
<h3 data-id="heading-4">å¯¹è±¡</h3>
<p>å¯¹è±¡ç±»å‹å®šä¹‰å¯¹è±¡çš„å±æ€§åã€å±æ€§ç±»å‹ã€‚å±æ€§æ”¯æŒå¯é€‰ã€åªè¯»ã€ç´¢å¼•ç­¾åã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å¯¹è±¡</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> } = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'hboot'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
}
</code></pre>
<h3 data-id="heading-5">å…ƒç»„</h3>
<p>å…ƒç»„æ˜¯æ˜ç¡®äº†æ•°ç»„é•¿åº¦ä»¥åŠå…ƒç´ ç±»å‹çš„ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å…ƒç»„</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">userInfo</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>] = [<span class="hljs-string">'hboot'</span>, <span class="hljs-number">18</span>];
</code></pre>
<h3 data-id="heading-6">æšä¸¾</h3>
<p>æšä¸¾ç”¨äºå®šä¹‰ä¸€ç»„æœ‰ç‰¹æ®Šå«ä¹‰çš„å¸¸é‡ï¼Œæ¯”å¦‚çŠ¶æ€ç ã€ç±»å‹æ ‡è¯†ç­‰ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æšä¸¾</span>
<span class="hljs-keyword">const</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> { 
    <span class="hljs-title class_">Success</span> = <span class="hljs-number">200</span>,
    <span class="hljs-title class_">Fail</span> = <span class="hljs-number">500</span>
}
</code></pre>
<p>æœªèµ‹å€¼æ—¶ï¼Œæšä¸¾å€¼ä» 0 å¼€å§‹é€’å¢ã€‚å¦‚æœè‡ªå®šä¹‰äº†å¼€å§‹å€¼ï¼Œåˆ™åé¢çš„å€¼é€’å¢ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> { 
  <span class="hljs-title class_">Success</span>, <span class="hljs-comment">// 0</span>
  <span class="hljs-title class_">Fail</span> <span class="hljs-comment">// 1</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> { 
  <span class="hljs-title class_">Success</span> = <span class="hljs-number">1</span>, <span class="hljs-comment">// 1</span>
  <span class="hljs-title class_">Fail</span> <span class="hljs-comment">// 2</span>
}
</code></pre>
<p>å¯ä»¥é€šè¿‡<code>const enum</code>ä¿®é¥°æšä¸¾å®šä¹‰ï¼Œåœ¨ç¼–è¯‘æ—¶ä»…ä¿ç•™å¸¸é‡å€¼ï¼Œå‡å°‘ä»£ç ä½“ç§¯ã€‚</p>
<h3 data-id="heading-7">ç±»<code>Class</code></h3>
<p>ç±»<code>class</code>æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒã€‚es6ä¸­å·²ç»å¢å¼ºäº†å¯¹ç±»çš„æ”¯æŒï¼Œå¯ä»¥é€šè¿‡ç±»å®šä¹‰å¯¹è±¡ï¼Œæ˜ç¡®å±æ€§ã€æ–¹æ³•ã€‚ç±»ä¸ä»…å¯ä»¥ç”¨æ¥åˆ›å»ºå®ä¾‹ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºç±»å‹æ³¨è§£æè¿°å®ä¾‹ç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}
</code></pre>
<p>ç±»çš„å®šä¹‰åŒ…æ‹¬å®ä¾‹å±æ€§ã€å®ä¾‹æ–¹æ³•ã€é™æ€å±æ€§ã€é™æ€æ–¹æ³•ï¼ŒåŒæ—¶è¿˜æ”¯æŒé€šè¿‡è®¿é—®ä¿®é¥°ç¬¦æ§åˆ¶æˆå‘˜å¯è§ã€‚</p>
<p>å­ç±»å¯ä»¥é€šè¿‡<code>extends</code>ç»§æ‰¿çˆ¶ç±»çš„é<code>private</code>æˆå‘˜ï¼Œé‡å†™çˆ¶ç±»æ–¹æ³•ã€‚<strong>ä»…èƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title class_">WangWang</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"WangWang"</span>;
  }
}
</code></pre>
<p>ç±»å¯ä»¥é€šè¿‡<code>implements</code>å®ç°æ¥å£ï¼Œç”¨äºçº¦æŸç±»çš„å®ç°ï¼ŒåŒ…æ‹¬å±æ€§ã€æ–¹æ³•ï¼Œä»…çº¦æŸç»“æ„ï¼Œä¸æä¾›å®ç°ã€‚<strong>å¯å®ç°å¤šä¸ªæ¥å£</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">speak</span>(): <span class="hljs-built_in">void</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">speak</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"WangWang"</span>);
  }
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}
</code></pre>
<p>é€šè¿‡<code>abstract</code>å…³é”®å­—å¯ä»¥å£°æ˜æŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚å®ƒåªå®šä¹‰äº†å­—æ®µã€æ–¹æ³•ç»“æ„ï¼Œæœªå®ç°å…·ä½“é€»è¾‘ï¼Œå®ƒä»…å¯è¢«å­ç±»ç»§æ‰¿ï¼Œå¹¶éœ€è¦å®ç°å®ƒå®šä¹‰çš„æ‰€æœ‰æŠ½è±¡æˆå‘˜ã€‚</p>
<h2 data-id="heading-8">é«˜çº§ç±»å‹</h2>
<p>åŸºç¡€ç±»å‹å¯ä»¥æ»¡è¶³ç»å¤§å¤šæ•°ä¸šåŠ¡ï¼Œä½†é¢å¯¹å¤æ‚ä¸šåŠ¡éœ€è¦ç±»å‹å¤ç”¨ã€æ¡ä»¶åˆ¤æ–­ã€å±æ€§ç­›é€‰åˆ™éœ€è¦é«˜çº§ç±»å‹ã€‚</p>
<h3 data-id="heading-9">å¤ç”¨ç±»å‹</h3>
<p>ä¸ºäº†å¤ç”¨ç±»å‹ï¼Œå¯ä»¥é€šè¿‡<code>type</code> \ <code>interface</code>å®šä¹‰ç±»å‹ã€‚<code>type</code>å¯ä»¥å®šä¹‰ä»»æ„ç±»å‹ï¼ŒåŒ…æ‹¬åŸºç¡€ç±»å‹ã€å¤åˆç±»å‹ã€è”åˆç±»å‹ç­‰ï¼Œæ¯”è¾ƒçµæ´»ï¼›<code>interface</code> åªèƒ½å®šä¹‰å¯¹è±¡ç±»å‹,ä½†æ˜¯å¯ä»¥<code>ç»§æ‰¿</code>å’Œ<code>åŒååˆå¹¶</code>ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// type</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Age</span> = <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = { 
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">age</span>: <span class="hljs-title class_">Age</span>;
}
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Status</span> = <span class="hljs-string">'success'</span> | <span class="hljs-number">200</span>;

<span class="hljs-comment">// interface</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> { 
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">SuperUser</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">User</span> { 
    <span class="hljs-attr">role</span>: <span class="hljs-built_in">string</span>;
}
</code></pre>
<p><code>interface</code> ä¸åŒäºç±»<code>class</code>,å®ƒå¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ã€‚</p>
<h3 data-id="heading-10">è”åˆ/äº¤å‰ç±»å‹</h3>
<p>è”åˆç±»å‹é€šè¿‡<code>|</code>è¡¨ç¤ºå˜é‡å¯ä»¥æ˜¯ä»»æ„å…¶ä¸­ä¸€ç§ç±»å‹ï¼›äº¤å‰ç±»å‹é€šè¿‡<code>&amp;</code>è¡¨ç¤ºå˜é‡å¿…é¡»åŒæ—¶æ»¡è¶³å¤šä¸ªç±»å‹ã€‚</p>
<p>è”åˆç±»å‹ä½¿ç”¨æ—¶éœ€è¦ç±»å‹å®ˆå«æ˜ç¡®ç±»å‹åæ‰èƒ½æ“ä½œ,å¦‚æœå˜é‡å·²ç»èµ‹å€¼ï¼Œåˆ™ä¼šè‡ªåŠ¨æ¨å¯¼å‡ºç±»å‹ï¼›</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Age</span> = <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>;

<span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-title class_">Age</span> = <span class="hljs-number">18</span>;
age+=<span class="hljs-number">2</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">agePlus</span>(<span class="hljs-params">age: Age</span>){ 
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> age === <span class="hljs-string">'number'</span>){ 
        age+=<span class="hljs-number">2</span>;
    }
    <span class="hljs-keyword">return</span> age;
}
</code></pre>
<p>äº¤å‰ç±»å‹å¸¸ç”¨åˆå¹¶å¯¹è±¡ç±»å‹ï¼Œéœ€è¦æ»¡è¶³æ‰€æœ‰ç±»å‹æ¡ä»¶ã€‚<strong>å¦‚æœæ— æ³•æ»¡è¶³æ‰€æœ‰ç±»å‹æ¡ä»¶ï¼Œåˆ™è¯¥ç±»å‹ä¸º<code>never</code></strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = { 
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Address</span> = { 
    <span class="hljs-attr">address</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">UserAddress</span> = <span class="hljs-title class_">User</span> &amp; <span class="hljs-title class_">Address</span>;
</code></pre>
<h3 data-id="heading-11">æ³›å‹</h3>
<p>æ³›å‹æ˜¯å°†ç±»å‹å‚æ•°åŒ–ï¼Œå¯ä»¥ä¸æŒ‡å®šå…·ä½“ç±»å‹æ¥å®šä¹‰å‡½æ•°ã€ç±»ã€æ¥å£ã€‚åœ¨ä½¿ç”¨æ—¶åœ¨ä¼ å…¥å…·ä½“ç±»å‹ï¼Œå®ƒå¯ä»¥é«˜åº¦æŠ½è±¡å®šä¹‰ç±»å‹ï¼Œä¿éšœç±»å‹å¤ç”¨å’Œç±»å‹å®‰å…¨ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å‡½æ•°æ³›å‹</span>
<span class="hljs-keyword">function</span> getData&lt;T&gt;(<span class="hljs-attr">data</span>: T): T {
    <span class="hljs-keyword">return</span> data;
}

<span class="hljs-comment">// æ¥å£æ³›å‹</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">IData</span>&lt;T&gt; {
    <span class="hljs-attr">data</span>: T;
}

<span class="hljs-comment">// ç±»æ³›å‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Data</span>&lt;T&gt; {
    <span class="hljs-attr">data</span>: T[] = [];
}
</code></pre>
<p>å› ä¸ºä¸çŸ¥é“å…·ä½“ç±»å‹ï¼Œå°±æ— æ³•è·çŸ¥è¿™ä¸ªç±»å‹æœ‰ä»€ä¹ˆå±æ€§ï¼Œå¯ä»¥è°ƒç”¨ä»€ä¹ˆæ–¹æ³•ã€‚ä¸ºäº†ä½¿ç”¨æŸä¸ªå±æ€§æˆ–è€…æŸä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨æ³›å‹çº¦æŸæ¥æŒ‡å®šè¿™ä¸ªç±»å‹å¿…é¡»æœ‰å“ªäº›å±æ€§æˆ–è€…æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> getData&lt;T <span class="hljs-keyword">extends</span> { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt;(<span class="hljs-attr">data</span>: T): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">return</span> data.<span class="hljs-property">name</span>;
}
</code></pre>
<p>åœ¨è°ƒç”¨å…·æœ‰æ³›å‹çš„ç±»å‹æ—¶ï¼Œéœ€è¦ä¼ é€’å…·ä½“ç±»å‹ï¼Œæœ‰æ—¶å€™è¿™ä¸ªæ³›å‹æˆ‘ä»¬çŸ¥é“åœ¨å¾ˆå¤šæƒ…å†µä¸‹å°±æ˜¯æŸä¸€ä¸ªç±»å‹ï¼Œé¿å…é‡å¤ä¼ å…¥ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ³›å‹çš„é»˜è®¤ç±»å‹ï¼Œä»è€Œåœ¨ä½¿ç”¨æ—¶ä¸å†éœ€è¦ä¼ å…¥ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = { 
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">function</span> getData&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">User</span> = <span class="hljs-title class_">User</span>&gt;(<span class="hljs-attr">data</span>: T): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> data.<span class="hljs-property">name</span>;
}
</code></pre>
<p>æ³›å‹çº¦æŸå’Œé»˜è®¤ç±»å‹ä¸éœ€è¦åŒæ—¶å‡ºç°ï¼Œä¹Ÿå¯ä»¥å®šä¹‰å…¶ä¸€ï¼Œæ ¹æ®éœ€æ±‚ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-12">ç±»å‹è¿ç®—</h2>
<p>é™¤äº†å®šä¹‰å…·ä½“ç±»å‹ï¼Œè¿˜å¯ä»¥é€šè¿‡ç±»å‹è¿ç®—ä»ä¸€ä¸ªç±»å‹å¾—åˆ°ä¸€ä¸ªæ–°çš„ç±»å‹ã€‚ä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºæ¨å¯¼ï¼Œä»ä¸€ä¸ªç±»å‹æ¨å¯¼ä¸ºå¦ä¸€ä¸ªç±»å‹ã€‚ç±»å‹è¿ç®—ä¹Ÿæ˜¯å¯¼è‡´ä¸€äº›å¤æ‚ç±»å‹äº§ç”Ÿçš„å› ç´ ã€‚</p>
<h3 data-id="heading-13">ç±»å‹å®ˆå«</h3>
<p>ç±»å‹å®ˆå«æ˜¯åœ¨è¿è¡Œæ—¶åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥ç²¾å‡†åˆ°å…·ä½“ç±»å‹ï¼Œç”¨äºç±»å‹æ”¶çª„ï¼ŒåŒ…æ‹¬<code>unknown</code>ã€è”åˆç±»å‹ã€ç±»ç»§æ‰¿ã€‚å…³é”®å­—åŒ…æ‹¬<code>typeof</code> <code>instanceof</code> <code>in</code> <code>is</code></p>
<p><strong><code>typeof</code> ç”¨äºåˆ¤æ–­åŸºç¡€ç±»å‹ã€‚ä½†æ˜¯æ— æ³•åˆ¤æ–­ <code>null</code>ï¼Œ<code>typeof null</code> è¿”å› <code>'object'</code>ï¼Œå¯é€šè¿‡<code>value!==null</code> è¿›è¡Œåˆ¤æ–­ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">agePlus</span>(<span class="hljs-params">age: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span></span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> age === <span class="hljs-string">"number"</span>) {
    age += <span class="hljs-number">2</span>;
  }
  <span class="hljs-keyword">return</span> age;
}
</code></pre>
<p><strong><code>instanceof</code> åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»å®ä¾‹ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title class_">WangWang</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"WangWang"</span>;
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Animal</span> {
  <span class="hljs-title class_">MiaoMiao</span>() {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"MiaoMiao"</span>;
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">speak</span>(<span class="hljs-params">animal: Animal</span>) {
  <span class="hljs-keyword">if</span> (animal <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Dog</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${animal.name}</span>:<span class="hljs-subst">${animal.WangWang()}</span>`</span>;
  }
  <span class="hljs-keyword">if</span> (animal <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Cat</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${animal.name}</span>:<span class="hljs-subst">${animal.MiaoMiao()}</span>`</span>;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${animal.name}</span>`</span>;
}
</code></pre>
<p><strong><code>in</code> é€‚ç”¨äºå¯¹è±¡ç±»å‹å®šä¹‰ï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Dog</span> = {
  <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>;
};
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  <span class="hljs-attr">d</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">c</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getAttr</span>(<span class="hljs-params">animal: Dog | Cat</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-string">"b"</span> <span class="hljs-keyword">in</span> animal) {
    <span class="hljs-keyword">return</span> animal.<span class="hljs-property">a</span>;
  }

  <span class="hljs-keyword">if</span> (<span class="hljs-string">"d"</span> <span class="hljs-keyword">in</span> animal) {
    <span class="hljs-keyword">return</span> animal.<span class="hljs-property">c</span>;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-string">"unknown"</span>;
}
</code></pre>
<p><strong><code>is</code> ç”¨äºç²¾å‡†æ˜ç¡®æ˜¯ä»€ä¹ˆç±»å‹ï¼Œä½†æ˜¯åˆ¤æ–­é€»è¾‘æ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬åˆ¤æ–­é€»è¾‘è¦ç²¾ç¡®ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Dog</span> = {
  <span class="hljs-attr">a</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>;
};
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  <span class="hljs-attr">d</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">c</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// å†…éƒ¨é€»è¾‘è‡ªå®šä¹‰åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªç±»å‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isDog</span>(<span class="hljs-params">animal: Dog | Cat</span>): animal is <span class="hljs-title class_">Dog</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">"b"</span> <span class="hljs-keyword">in</span> animal;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getAttr</span>(<span class="hljs-params">animal: Dog | Cat</span>) {
  <span class="hljs-comment">// è°ƒç”¨æ—¶å¦‚æœä¸ºtrueï¼Œåˆ™æ¨å¯¼ä¸ºDog</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isDog</span>(animal)) {
    <span class="hljs-keyword">return</span> animal.<span class="hljs-property">a</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> animal.<span class="hljs-property">c</span>;
  }
}
</code></pre>
<h3 data-id="heading-14">ç±»å‹æ–­è¨€</h3>
<p>ç±»å‹æ–­è¨€æ˜¯å°†ä¸€ä¸ªç±»å‹ä¸´æ—¶è½¬ä¸ºå¦ä¸€ä¸ªç±»å‹ï¼Œä»…åœ¨ç¼–è¯‘é˜¶æ®µå‘Šè¯‰TypeScriptæ˜¯ä»€ä¹ˆç±»å‹ï¼Œä¸èƒ½æ”¹å˜å˜é‡çš„å®é™…ç±»å‹ã€‚</p>
<p>ç±»å‹æ–­è¨€éœ€è¦å¼€å‘è€…æ˜ç¡®ä¿è¯æ–­è¨€ç±»å‹æ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´è¿è¡Œæ—¶å¼‚å¸¸ã€‚å¯¹äºä¸ç¡®å®šçš„ç±»å‹ï¼Œå› è¯¥ä¼˜å…ˆä½¿ç”¨<code>ç±»å‹å®ˆå«</code>.</p>
<p><strong>ä½¿ç”¨<code>as</code>æ–­è¨€ç±»å‹ï¼Œå¯ä»¥è½¬<code>unknown</code>ç±»å‹ã€çˆ¶ç±»å‹è½¬å­ç±»å‹åœºæ™¯ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">let</span> <span class="hljs-attr">age</span>: <span class="hljs-built_in">unknown</span> = <span class="hljs-number">34</span>;
<span class="hljs-comment">// å¯ä»¥æ–­è¨€ç±»å‹ä¸ºstringï¼Œä»è€Œè°ƒç”¨å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚</span>
<span class="hljs-comment">// ä½†æ˜¯åœ¨è¿è¡Œæ—¶ä¼šæŠ¥é”™</span>
(age <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>).<span class="hljs-title function_">toUpperCase</span>();
</code></pre>
<p>è¿˜å¯ä»¥é€šè¿‡<code>as const</code>æ–­è¨€ä¸ºåªè¯»å¸¸é‡ï¼Œå¸¸ç”¨äºå›ºå®šå€¼çš„ç±»å‹çº¦æŸã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// ç±»å‹ä¸º string</span>
<span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span>;

<span class="hljs-comment">// ç±»å‹ä¸ºå­—é¢é‡ "hboot" ç±»å‹</span>
<span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;
</code></pre>
<p><strong>ä½¿ç”¨<code>!</code>æ–­è¨€éç©ºï¼Œå¸¸ç”¨äºè®¿é—®æŸä¸ªå¯é€‰å±æ€§æ—¶ï¼Œæ–­è¨€éç©º</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  d?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">c</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">cat</span>: <span class="hljs-title class_">Cat</span> = {
  <span class="hljs-attr">c</span>: <span class="hljs-number">20</span>,
};
<span class="hljs-comment">// æœªæ–­è¨€æ—¶è°ƒç”¨æŠ¥é”™å±æ€§ d å¯èƒ½æœªå®šä¹‰</span>
<span class="hljs-comment">// cat.d.toUpperCase();</span>

<span class="hljs-comment">// æ–­è¨€éç©ºååˆ™ä¸ä¼šå†ææ—¶æŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶æŠ¥é”™ </span>
cat.<span class="hljs-property">d</span>!.<span class="hljs-title function_">toUpperCase</span>();
</code></pre>
<blockquote>
<p>æ‰€ä»¥ï¼Œæ–­è¨€è¦è°¨æ…ä½¿ç”¨ã€é¿å…æ»¥ç”¨ï¼Œç¡®ä¿æ–­è¨€çš„ç±»å‹æ˜¯æ˜¯å®é™…æ•°æ®ç±»å‹çš„å…¼å®¹ç±»å‹ã€‚</p>
</blockquote>
<p><strong>è¿˜å¯ä»¥é€šè¿‡åŒå±‚æ–­è¨€å°†ä¸€ä¸ªæ˜ç¡®çš„ç±»å‹æ–­è¨€ä¸ºå¦ä¸€ä¸ªç±»å‹ã€‚</strong></p>
<p>è¿™ä¸ªæ“ä½œå¾ˆå±é™©ï¼Œå®ä¾‹ä¸­å°†<code>string</code>ç±»å‹æ–­è¨€ä¸º<code>Cat</code>å¯¹è±¡ç±»å‹å»è®¿é—®å±æ€§<code>c</code>,ç¼–è¯‘é€šè¿‡ï¼Œè¿è¡Œæ—¶çˆ†ç‚¸ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  d?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">c</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">let</span> name = <span class="hljs-string">"hboot"</span>;

(name <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">Cat</span>).<span class="hljs-property">c</span>;
</code></pre>
<h3 data-id="heading-15">è¿ç®—ç¬¦</h3>
<p>è¿ç®—ç¬¦å¯ä»¥ä»ä¸€ä¸ªç±»å‹çš„åˆ°å¦ä¸€ä¸ªç±»å‹ã€‚<code>ç±»å‹å®‰å…¨</code>ï¼Œç±»å‹è¿ç®—çš„æ“ä½œæœ‰å¾ˆå¤š</p>
<p><strong><code>keyof</code> å¾—åˆ°å¯¹è±¡ç±»å‹çš„æ‰€æœ‰å­—æ®µ<code>key</code>ç±»å‹æ„æˆçš„è”åˆç±»å‹ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  d?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">c</span>: <span class="hljs-built_in">number</span>;
};
<span class="hljs-comment">// å¾—åˆ° Cat çš„æ‰€æœ‰å­—æ®µ key ç±»å‹ è”åˆç±»å‹ "d" | "c"</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Keys</span> = keyof <span class="hljs-title class_">Cat</span>;

<span class="hljs-comment">// å¦‚æœå­—æ®µæ˜¯ç´¢å¼•ç­¾åï¼Œåˆ™è¿”å›ç´¢å¼•ç­¾åçš„ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  [<span class="hljs-attr">x</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>;
};
<span class="hljs-comment">// å¾—åˆ°çš„æ˜¯ç´¢å¼•ç­¾åç±»å‹ string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Keys</span> = keyof <span class="hljs-title class_">Cat</span>;
</code></pre>
<p><strong><code>typeof</code> ä¹‹å‰å†ç±»å‹å®ˆå«é‡Œå·²ç»ä»‹ç»è¿‡äº†ï¼Œå®ƒå¯ä»¥è¿”å›å˜é‡çš„ç±»å‹ï¼ˆåŸºæœ¬ç±»å‹ï¼‰ã€‚</strong></p>
<p><strong>ç´¢å¼•è®¿é—®ï¼ˆIndexedAccessTypeï¼‰è·å–ç±»å‹,æ¯”å¦‚æˆ‘ä»¬è¦è·å–å¯¹è±¡ç±»å‹é‡ŒæŸä¸ªå­—æ®µçš„ç±»å‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ç´¢å¼•è·å–ã€‚</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  d?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">c</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-comment">// è·å–å­—æ®µç±»å‹ä¸º stringï¼Œä½†ç”±äºå­—æ®µæ˜¯å¯é€‰ ï¼Ÿï¼Œ</span>
<span class="hljs-comment">// æ‰€ä»¥è¿”å›çš„æ˜¯ string | undefined</span>
<span class="hljs-keyword">type</span> D = <span class="hljs-title class_">Cat</span>[<span class="hljs-string">"d"</span>];
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡è”åˆç±»å‹è·å–åˆ°å¤šä¸ªå­—æ®µçš„ç±»å‹ï¼Œç»“æœä¸ºä¸€ä¸ªè”åˆç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> D = <span class="hljs-title class_">Cat</span>[<span class="hljs-string">"d"</span>|<span class="hljs-string">"c"</span>]

<span class="hljs-comment">// å¦‚æœæƒ³è¦è·å–æ‰€æœ‰å­—æ®µç±»å‹,å¯ä»¥é€šè¿‡keyof è·å–åˆ°æ‰€æœ‰keyçš„è”åˆç±»å‹</span>
<span class="hljs-keyword">type</span> D = <span class="hljs-title class_">Cat</span>[keyof <span class="hljs-title class_">Cat</span>]
</code></pre>
<p>ç´¢å¼•æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯å¯ä»¥å¯¹æ•°ç»„ã€å…ƒç»„å…ƒç´ çš„ç±»å‹ç´¢å¼•è·å–.</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> names = [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];
<span class="hljs-comment">// ç´¢å¼•ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = names[<span class="hljs-number">0</span>];

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Names</span> = <span class="hljs-title class_">Array</span>&lt;<span class="hljs-built_in">string</span>&gt;;
<span class="hljs-comment">// ç´¢å¼•æ•°ç»„å…ƒç´ çš„ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = <span class="hljs-title class_">Names</span>[<span class="hljs-built_in">number</span>];
</code></pre>
<p>è¿˜å¯ä»¥æ­é…<code>typeof</code> å¯¹å˜é‡çš„ç±»å‹è¿›è¡Œç´¢å¼•è·å–ã€‚</p>
<p><strong>æ¡ä»¶ç±»å‹ï¼ˆConditionalTypeï¼‰ï¼Œé€šè¿‡è¾“å…¥çš„ç±»å‹ï¼Œå†³å®šè¾“å‡ºç±»å‹</strong>ï¼Œé€šè¿‡<code>extends</code>å…³é”®å­—å’Œä¸‰å…ƒè¡¨è¾¾å¼æ¥æ ‡è¯†ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> ? <span class="hljs-built_in">string</span> : <span class="hljs-built_in">number</span>;

<span class="hljs-comment">// è¾“å…¥æ³›å‹å‚æ•°è¿”å›ç±»å‹ï¼Œ</span>
<span class="hljs-comment">// è¾“å‡ºç±»å‹ä¸º string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Admin</span> = <span class="hljs-title class_">Name</span>&lt;<span class="hljs-built_in">string</span>&gt;;
<span class="hljs-comment">// è¾“å‡ºç±»å‹ä¸º number</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">User</span> = <span class="hljs-title class_">Name</span>&lt;<span class="hljs-built_in">unknown</span>&gt;;
</code></pre>
<p>ä¹Ÿå¯ä»¥å£°æ˜ä¸€ä¸ªå‡½æ•°ä¹¦å†™æ›´å¤æ‚çš„åˆ¤æ–­é€»è¾‘ã€‚æ—¢ç„¶é€šè¿‡<code>extends</code>å…³é”®å­—ä»¥åŠæ³›å‹å‚æ•°ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥å¢åŠ æ³›å‹çº¦æŸã€æ³›å‹é»˜è®¤å€¼ã€‚</p>
<p><strong>æ˜ å°„ç±»å‹ï¼ˆMappedTypeï¼‰,ä»ä¸€ä¸ªç±»å‹åˆ›å»ºä¸€ä¸ªæ–°ç±»å‹</strong>,å»ºç«‹åœ¨ç´¢å¼•ç­¾åè¯­æ³•ä¹‹ä¸Š,é€šè¿‡å¯¹å¯¹è±¡çš„å­—æ®µé”®å€¼ã€å­—æ®µç±»å‹è¿›è¡Œè½¬æ¢æ“ä½œã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  name?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ToFunction</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: <span class="hljs-function">() =&gt;</span> T[K];
};

<span class="hljs-comment">// ä»åŸºæœ¬ç±»å‹è½¬æ¢æˆå‡½æ•°ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">CatFunction</span> = <span class="hljs-title class_">ToFunction</span>&lt;<span class="hljs-title class_">Cat</span>&gt;;
<span class="hljs-comment">/**
 *  type CatFunction = {
 *    name?: (() =&gt; string | undefined) | undefined;
 *    age: () =&gt; number;
 *  }
 */</span>
</code></pre>
<p><strong>æ–‡æœ¬ç±»å‹ï¼ˆLiteralTypeï¼‰</strong>ï¼Œé€šè¿‡æ‰©å±•å­—ç¬¦ä¸²ç”Ÿæˆæ–‡æœ¬ç±»å‹ï¼Œè¡¨ç°åŒå­—ç¬¦ä¸²å­—é¢å€¼ç›¸åŒã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span> = <span class="hljs-string">"hboot"</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GoodName</span> = <span class="hljs-string">`Good, <span class="hljs-subst">${Name}</span>`</span>;
</code></pre>
<p>åˆ©ç”¨æ–‡æœ¬ç±»å‹æ‰©å±•ï¼Œå¯ä»¥ç»“åˆæ˜ å°„ç±»å‹ï¼Œæ”¹å˜é”®å€¼ï¼Œå¾—åˆ°ä¸€ä¸ªå…¨æ–°çš„ç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ToFunction</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T <span class="hljs-keyword">as</span> <span class="hljs-string">`on_<span class="hljs-subst">${<span class="hljs-built_in">string</span> &amp; K}</span>`</span>]: <span class="hljs-function">() =&gt;</span> T[K];
};

<span class="hljs-comment">// å°±ä¼šå¾—åˆ°ä¸åŒé”®å€¼ã€ä¸åŒç±»å‹çš„æ–°å¯¹è±¡ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">CatFunction</span> = <span class="hljs-title class_">ToFunction</span>&lt;<span class="hljs-title class_">Cat</span>&gt;;
<span class="hljs-comment">/**
 *  type CatFunction = {
 *    on_name?: (() =&gt; string | undefined) | undefined;
 *    on_age: () =&gt; number;
 *  }
 */</span>
</code></pre>
<p><strong><code>infer</code> ç±»å‹æ¨æ–­</strong>ï¼Œé€šå¸¸ç”¨äºæ³›å‹å‚æ•°æ¨å¯¼ï¼›å‡½æ•°è¿”å›å€¼ç±»å‹æ¨å¯¼</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Name</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Array</span>&lt;infer U&gt; ? U : T;

<span class="hljs-comment">// æ¡ä»¶ç±»å‹æ¨å¯¼ å¾—åˆ°æ•°ç»„å…ƒç´ ç±»å‹ string</span>
<span class="hljs-keyword">type</span> str = <span class="hljs-title class_">Name</span>&lt;<span class="hljs-built_in">string</span>[]&gt;;
<span class="hljs-comment">// éæ•°ç»„ç±»å‹ï¼Œè¿”å›åŸç±»å‹ { name: string }</span>
<span class="hljs-keyword">type</span> info = <span class="hljs-title class_">Name</span>&lt;{ <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> }&gt;;
</code></pre>
<h3 data-id="heading-16">å†…ç½®å·¥å…·å‡½æ•°</h3>
<p>é™¤äº†ä¸Šè¿°æˆ‘ä»¬è¦æ‰‹åŠ¨å»å®ç°é€»è¾‘ä»è€Œåˆ›å»ºæ–°çš„ç±»å‹å¤–ï¼Œæä¾›äº†å†…ç½®å‡½æ•°å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œè¿™äº›å·¥å…·æä¾›ä¸€äº›å¸¸ç”¨çš„ç±»å‹è½¬æ¢é€»è¾‘ã€‚</p>
<p><strong><code>Partial&lt;T&gt;</code> å¾—åˆ°ä¸€ä¸ªæ–°ç±»å‹ï¼Œå®šä¹‰ç±»å‹æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¯å¯é€‰çš„ï¼Œä¸ä¹‹ç›¸åçš„æ˜¯<code>Required&lt;T&gt;</code></strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  name?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">NewCat</span> = <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">Cat</span>&gt;;
<span class="hljs-comment">/**
 * type NewCat = {
 *   name?: string;
 *   age?: number;
 * }
 */</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">RequiredCat</span> = <span class="hljs-title class_">Required</span>&lt;<span class="hljs-title class_">Cat</span>&gt;;
<span class="hljs-comment">/**
 * type RequiredCat = {
 *   name: string;
 *   age: number;
 * }
 */</span>
</code></pre>
<p><strong><code>Pick&lt;T,Keys&gt;</code> ä»ä¸€ä¸ªç±»å‹ä¸­é€‰æ‹©æŸäº›å­—æ®µå¾—åˆ°ä¸€ä¸ªæ–°ç±»å‹ï¼Œ<code>Omit&lt;T,Keys&gt;</code>ä»ä¸€ä¸ªç±»å‹ä¸­åˆ é™¤æŸäº›å­—æ®µå¾—åˆ°ä¸€ä¸ªæ–°ç±»å‹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  name?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">NewCat</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">Cat</span>, <span class="hljs-string">'name'</span>&gt;;
<span class="hljs-comment">/**
 * type NewCat = {
 *   name?: string;
 * }
 */</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NewCat</span> = <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">Cat</span>, <span class="hljs-string">'age'</span>&gt;;
<span class="hljs-comment">/**
 * type NewCat = {
 *   name?: string;
 * }
 */</span>
</code></pre>
<p><strong><code>Readonly&lt;T&gt;</code> å¾—åˆ°ä¸€ä¸ªæ–°ç±»å‹ï¼Œå®šä¹‰ç±»å‹æ‰€æœ‰çš„å­—æ®µéƒ½æ˜¯åªè¯»çš„,åˆå§‹åŒ–åä¸å¯ä»¥ä¿®æ”¹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Cat</span> = {
  name?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ReadonlyCat</span> = <span class="hljs-title class_">Readonly</span>&lt;<span class="hljs-title class_">Cat</span>&gt;;

<span class="hljs-keyword">let</span> <span class="hljs-attr">cat</span>: <span class="hljs-title class_">ReadonlyCat</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"hboot"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,
};

<span class="hljs-comment">// æŠ¥é”™ï¼Œä¸å¯ä»¥ä¿®æ”¹å†èµ‹å€¼ï¼Œå±æ€§æ˜¯åªè¯»çš„</span>
<span class="hljs-comment">// cat.age = 20;</span>
</code></pre>
<p>å®ƒæ²¡æœ‰ä¸ä¹‹ç›¸åå®šä¹‰çš„å·¥å…·ï¼Œæ€ä¹ˆå¤„ç†è®©æ‰€æœ‰åªè¯»å±æ€§éƒ½å˜ä¸ºå¯ç¼–è¾‘çš„å‘¢ï¼Ÿè¿˜è®°å¾—ä¸Šé¢è®²è¿‡çš„<strong>æ˜ å°„ç±»å‹</strong>å—ï¼Ÿ</p>
<p>åœ¨æ˜ å°„ç±»å‹ä¸­é€šè¿‡ä½¿ç”¨<code>-</code>ç¬¦å·å°†æ‰€æœ‰å­—æ®µçš„<code>readonly</code>ä¿®é¥°ç¬¦éƒ½ç§»é™¤æ‰</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MutableType</span>&lt;T&gt; = {
  -<span class="hljs-keyword">readonly</span> [K <span class="hljs-keyword">in</span> keyof T]: T[K];
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">cat</span>: <span class="hljs-title class_">MutableType</span>&lt;<span class="hljs-title class_">ReadonlyCat</span>&gt; = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"hboot"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,
};

<span class="hljs-comment">// é€šè¿‡æ˜ å°„ç±»å‹ -readonly ç§»é™¤æ‰å±æ€§çš„åªè¯»ä¿®é¥°ç¬¦</span>
cat.<span class="hljs-property">age</span> = <span class="hljs-number">20</span>;
</code></pre>
<p><strong><code>Record&lt;Keys,T&gt;</code> å¯ä»¥åˆ›å»ºä¸€ä¸ªç”±<code>Keys</code>ç»„æˆçš„å±æ€§å¯¹åº”ç±»å‹ä¸º<code>T</code>çš„å¯¹è±¡ç±»å‹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Animal</span> = <span class="hljs-title class_">Record</span>&lt;
  <span class="hljs-string">"dog"</span> | <span class="hljs-string">"cat"</span>,
  {
    <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  }
&gt;;

<span class="hljs-comment">/**
 * type Animal = {
 *   dog: {
 *     name: string;
 *     age: number;
 *   };
 *   cat: {
 *     name: string;
 *     age: number;
 *  }; 
 * }
 */</span>
</code></pre>
<p><strong><code>Exclude&lt;U,T&gt;</code>ä»æŒ‡å®šè”åˆç±»å‹<code>U</code>æ’é™¤æŸä¸ªæ»¡è¶³ <code>T</code>ç±»å‹çš„æˆå‘˜ï¼Œå¾—åˆ°æ–°ç±»å‹ï¼›ä¸ä¹‹ç›¸åçš„æ˜¯<code>Extract&lt;U,T&gt;</code></strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Type</span> = <span class="hljs-title class_">Exclude</span>&lt;<span class="hljs-string">"name"</span> | <span class="hljs-string">"age"</span> | <span class="hljs-number">32</span>, <span class="hljs-built_in">number</span> | <span class="hljs-string">"name"</span>&gt;;

<span class="hljs-comment">/**
 * type Type = "age"
 */</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Type</span> = <span class="hljs-title class_">Extract</span>&lt;<span class="hljs-string">"name"</span> | <span class="hljs-string">"age"</span> | <span class="hljs-number">32</span>, <span class="hljs-built_in">number</span> | <span class="hljs-string">"name"</span>&gt;;
<span class="hljs-comment">/**
 * type Type = "name" | 32
 */</span>
</code></pre>
<p><strong><code>NonNullable&lt;Type&gt;</code>æ’é™¤<code>null</code>å’Œ<code>undefined</code>çš„æˆå‘˜ï¼Œå¾—åˆ°æ–°ç±»å‹</strong></p>
<p><strong><code>Parameters&lt;Type&gt;</code> ä»å‡½æ•°ç±»å‹æå–å‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œå¾—åˆ°ä¸€ä¸ªå…ƒç»„ç±»å‹</strong>,éå‡½æ•°ç±»å‹å®šä¹‰å¾—åˆ°<code>never</code>ç±»å‹ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Fun</span> = <span class="hljs-function">(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Params</span> = <span class="hljs-title class_">Parameters</span>&lt;<span class="hljs-title class_">Fun</span>&gt;;
<span class="hljs-comment">/**
 * type Params = [name: string, age: number]
 */</span>
</code></pre>
<p><strong><code>ConstructorParameters&lt;Type&gt;</code> ä»æ„é€ å‡½æ•°ç±»å‹æå–æ„é€ å‡½æ•°çš„å‚æ•°ç±»å‹ï¼Œå¾—åˆ°ä¸€ä¸ªå…ƒç»„ç±»å‹æˆ–æ•°ç»„ç±»å‹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">FunConstructorParams</span> = <span class="hljs-title class_">ConstructorParameters</span>&lt;<span class="hljs-title class_">FunctionConstructor</span>&gt;;
<span class="hljs-comment">/**
 * type FunConstructorParams = string[]
 */</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ErrorConstructorParams</span> = <span class="hljs-title class_">ConstructorParameters</span>&lt;<span class="hljs-title class_">ErrorConstructor</span>&gt;;
<span class="hljs-comment">/**
 * type ErrorConstructorParams =  [message?: string, options?: ErrorOptions]
 */</span>
</code></pre>
<p><strong><code>ReturnType&lt;Type&gt;</code> ä»å‡½æ•°ç±»å‹æå–å‡½æ•°çš„è¿”å›å€¼ç±»å‹</strong>,å¯¹äºéå‡½æ•°ç±»å‹ä¼šå¾—åˆ°<code>any</code>.</p>
<p><strong><code>Awaited</code> ç”¨æ¥è·å–å¼‚æ­¥å‡½æ•°çš„è¿”å›å€¼ç±»å‹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Fun</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;{ <span class="hljs-attr">data</span>: <span class="hljs-built_in">string</span> }&gt;;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">FunType</span> = <span class="hljs-title class_">Awaited</span>&lt;<span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-title class_">Fun</span>&gt;&gt;;
<span class="hljs-comment">/**
 * type FunType = {
 *   data: string;
 * }
 */</span>
</code></pre>
<p><strong><code>InstanceType&lt;Type&gt;</code> ä»æ„é€ å‡½æ•°ç±»å‹æå–æ„é€ å‡½æ•°çš„å®ä¾‹ç±»å‹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Fun</span> = <span class="hljs-keyword">new</span> () =&gt; { <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> };

<span class="hljs-keyword">type</span> <span class="hljs-title class_">FunType</span> = <span class="hljs-title class_">InstanceType</span>&lt;<span class="hljs-title class_">Fun</span>&gt;;
<span class="hljs-comment">/**
 * type FunType = {
 *   name: string;
 * }
 */</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">AnimalType</span> = <span class="hljs-title class_">InstanceType</span>&lt;<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Animal</span>&gt;;
<span class="hljs-comment">/**
 * type AnimalType = Animal
 */</span>
</code></pre>
<p><strong><code>NoInfer&lt;T&gt;</code>é˜»æ­¢ä»è¯¥å¤„æ¨å¯¼æ³›å‹å‚æ•°ç±»å‹</strong></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> compare&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span>&gt;(<span class="hljs-attr">a</span>: T[], b?: <span class="hljs-title class_">NoInfer</span>&lt;T&gt;) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b);
}

<span class="hljs-comment">// é”å®šäº†æ³›å‹ T ç±»å‹æ˜¯ "admin" | "test" , æ‰€ä»¥ä¼ å…¥å‚æ•° "hboot" ä¼šæç¤ºæŠ¥é”™</span>
<span class="hljs-comment">// å¦‚æœæ²¡æœ‰ NoInfer åˆ™ä¸ä¼šæŠ¥é”™ï¼Œæ¨æ–­ç±»å‹ string</span>
<span class="hljs-title function_">compare</span>([<span class="hljs-string">"admin"</span>, <span class="hljs-string">"test"</span>], <span class="hljs-string">"hboot"</span>);

</code></pre>
<p><strong><code>ThisParameterType&lt;T&gt;</code> æå–å‡½æ•°ç±»å‹ä¸­çš„<code>this</code>å‚æ•°çš„ç±»å‹</strong>ï¼Œå¦‚æœæ²¡æœ‰<code>this</code>å‚æ•°åˆ™è¿”å›<code>unknown</code></p>
<p><strong><code>OmitThisParameter&lt;Type&gt;</code> ç§»é™¤å‡½æ•°ç±»å‹ä¸­çš„<code>this</code>å‚æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å‡½æ•°ç±»å‹</strong>ï¼Œå¦‚æœæ²¡æœ‰<code>this</code>å‚æ•°æˆ–ä¸æ˜¯å‡½æ•°ç±»å‹åˆ™è¿”å›ç±»å‹æœ¬èº«ã€‚</p>
<p><strong><code>ThisType&lt;Type&gt;</code> ç”¨äºæŒ‡å®šæ–¹æ³•ä¸Šä¸‹æ–‡ä¸­çš„<code>this</code>ç±»å‹ï¼Œä¸ä¼šè¿”å›æ–°ç±»å‹</strong>,æŒ‡å®šååœ¨æ–¹æ³•ä¸­å°±å¯ä»¥é€šè¿‡<code>this</code>è®¿é—®åˆ°æŒ‡å®šå±æ€§ã€‚ä½†æ˜¯éœ€è¦å¼€å¯<code>noImplicitThis</code>ï¼ˆtsconfig.jsonï¼‰æ ‡å¿—æ‰å¯ä»¥ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Animal</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Dog</span> = {
  <span class="hljs-title function_">speak</span>(): <span class="hljs-built_in">void</span>;
} &amp; <span class="hljs-title class_">ThisType</span>&lt;<span class="hljs-title class_">Animal</span>&gt;;

<span class="hljs-keyword">const</span> <span class="hljs-attr">dog</span>: <span class="hljs-title class_">Dog</span> = {
  <span class="hljs-title function_">speak</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é€šè¿‡this å¯ä»¥è®¿é—®åˆ° name å±æ€§</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);
  },
};
</code></pre>
<p><strong>æ–‡æœ¬ç±»å‹å·¥å…·ï¼Œç”¨äºå¤„ç†æ–‡æœ¬ï¼ŒåŒ…æ‹¬:</strong></p>
<ul>
<li><code>Uppercase&lt;StringType&gt;</code>  å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™</li>
<li><code>Lowercase&lt;StringType&gt;</code> å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™</li>
<li><code>Capitalize&lt;StringType&gt;</code> å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¤§å†™</li>
<li><code>Uncapitalize&lt;StringType&gt;</code> å°†å­—ç¬¦ä¸²çš„å¼€å¤´å­—ç¬¦è½¬æ¢ä¸ºå°å†™</li>
</ul>
<h2 data-id="heading-17">å‘½åç©ºé—´</h2>
<p>é€šè¿‡å…³é”®å­—<code>namespace</code> å®šä¹‰ç©ºé—´åï¼Œç”¨äºåˆ†ç»„ç›¸å…³çš„ç±»å‹å’Œå€¼ï¼Œé¿å…å‘½åå†²çªã€‚å¹¶å¯é€šè¿‡<code>export</code>å¯¼å‡ºä¾›å¤–éƒ¨ä½¿ç”¨</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">Hboot</span> {
  <span class="hljs-comment">//å¤–éƒ¨æ— æ³•è®¿é—®</span>
  <span class="hljs-keyword">const</span> name = <span class="hljs-string">"hboot"</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

  <span class="hljs-comment">// å¤–éƒ¨å¯ä»¥è®¿é—®</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> name;
  }
}

<span class="hljs-title class_">Hboot</span>.<span class="hljs-title function_">getName</span>();
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ25ï¼‰Nettyçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586491717873156115</link>    <guid>https://juejin.cn/post/7586491717873156115</guid>    <pubDate>2025-12-22T12:00:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717873156115" data-draft-id="7586490798431535167" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ25ï¼‰Nettyçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T12:00:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ25ï¼‰Nettyçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶æ˜¯ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:00:11.000Z" title="Mon Dec 22 2025 12:00:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Nettyæ”¯æŒå¤šç§åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶ï¼ŒåŒ…æ‹¬JavaåŸç”Ÿçš„åºåˆ—åŒ–æœºåˆ¶ã€Googleçš„Protocol Buffersã€JSONã€XMLç­‰ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Nettyä¸­å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå¹¶ç»“åˆä»£ç ç¤ºä¾‹è¿›è¡Œè¯´æ˜ã€‚</p>
<h3 data-id="heading-0">JavaåŸç”Ÿåºåˆ—åŒ–</h3>
<p>JavaåŸç”Ÿåºåˆ—åŒ–æœºåˆ¶å¯ä»¥ä½¿ç”¨ <code>ObjectEncoder</code> å’Œ <code>ObjectDecoder</code> æ¥å®ç°ã€‚</p>
<h4 data-id="heading-1">ç¤ºä¾‹ï¼šä½¿ç”¨JavaåŸç”Ÿåºåˆ—åŒ–æœºåˆ¶</h4>
<ol>
<li><strong>å®šä¹‰ä¸€ä¸ªå¯åºåˆ—åŒ–çš„å¯¹è±¡</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMessage</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> String content;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyMessage</span><span class="hljs-params">(String content)</span> {
        <span class="hljs-built_in">this</span>.content = content;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getContent</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> content;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContent</span><span class="hljs-params">(String content)</span> {
        <span class="hljs-built_in">this</span>.content = content;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"MyMessage{"</span> +
                <span class="hljs-string">"content='"</span> + content + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre>
<ol start="2">
<li><strong>æœåŠ¡å™¨ç«¯å®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.serialization.ClassResolvers;
<span class="hljs-keyword">import</span> io.netty.handler.codec.serialization.ObjectDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.serialization.ObjectEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializationServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectDecoder</span>(ClassResolvers.cacheDisabled(<span class="hljs-literal">null</span>)));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SerializationServerHandler</span>());
                 }
             });

            b.bind(<span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializationServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;MyMessage&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, MyMessage msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Server received: "</span> + msg);
        ctx.writeAndFlush(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyMessage</span>(<span class="hljs-string">"Hello from server!"</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<ol start="3">
<li><strong>å®¢æˆ·ç«¯å®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.serialization.ClassResolvers;
<span class="hljs-keyword">import</span> io.netty.handler.codec.serialization.ObjectDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.serialization.ObjectEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializationClient</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectDecoder</span>(ClassResolvers.cacheDisabled(<span class="hljs-literal">null</span>)));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SerializationClientHandler</span>());
                 }
             });

            b.connect(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SerializationClientHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;MyMessage&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelActive</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> {
        ctx.writeAndFlush(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyMessage</span>(<span class="hljs-string">"Hello from client!"</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, MyMessage msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Client received: "</span> + msg);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h3 data-id="heading-2">ä½¿ç”¨Protocol Buffers</h3>
<p>Protocol Buffersï¼ˆProtobufï¼‰æ˜¯ä¸€ç§çµæ´»ã€é«˜æ•ˆã€è‡ªåŠ¨åŒ–çš„åºåˆ—åŒ–æœºåˆ¶ï¼Œé€‚ç”¨äºè¯­è¨€æ— å…³ã€å¹³å°æ— å…³çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Protobufçš„ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-3">ç¤ºä¾‹ï¼šä½¿ç”¨Protobufè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</h4>
<ol>
<li><strong>å®šä¹‰Protobufæ¶ˆæ¯</strong>ï¼š</li>
</ol>
<p>åˆ›å»ºä¸€ä¸ª <code>message.proto</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";

option java_package = "com.example.protobuf";
option java_outer_classname = "MessageProtos";

message MyMessage {
    string content = 1;
}
</code></pre>
<ol start="2">
<li><strong>ç”ŸæˆJavaç±»</strong>ï¼š</li>
</ol>
<p>ä½¿ç”¨ <code>protoc</code> ç¼–è¯‘ <code>message.proto</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">protoc --java_out=. message.proto
</code></pre>
<ol start="3">
<li><strong>æœåŠ¡å™¨ç«¯å®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.example.protobuf.MessageProtos.MyMessage;
<span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufEncoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufVarint32LengthFieldPrepender;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtobufServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufVarint32FrameDecoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufDecoder</span>(MyMessage.getDefaultInstance()));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufVarint32LengthFieldPrepender</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufServerHandler</span>());
                 }
             });

            b.bind(<span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> com.example.protobuf.MessageProtos.MyMessage;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtobufServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;MyMessage&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, MyMessage msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Server received: "</span> + msg.getContent());
        <span class="hljs-type">MyMessage</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> MyMessage.newBuilder().setContent(<span class="hljs-string">"Hello from server!"</span>).build();
        ctx.writeAndFlush(response);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<ol start="4">
<li><strong>å®¢æˆ·ç«¯å®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.example.protobuf.MessageProtos.MyMessage;
<span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufEncoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufVarint32FrameDecoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.protobuf.ProtobufVarint32LengthFieldPrepender;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtobufClient</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufVarint32FrameDecoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufDecoder</span>(MyMessage.getDefaultInstance()));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufVarint32LengthFieldPrepender</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ProtobufClientHandler</span>());
                 }
             });

            b.connect(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> com.example.protobuf.MessageProtos.MyMessage;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProtobufClientHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;MyMessage&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelActive</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> {
        <span class="hljs-type">MyMessage</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> MyMessage.newBuilder().setContent(<span class="hljs-string">"Hello from client!"</span>).build();
        ctx.writeAndFlush(message);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, MyMessage msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Client received: "</span> + msg.getContent());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h3 data-id="heading-4">ä½¿ç”¨JSON</h3>
<p>Nettyä¹Ÿæ”¯æŒä½¿ç”¨JSONè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</p>
<h4 data-id="heading-5">ç¤ºä¾‹ï¼šä½¿ç”¨JSONè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</h4>
<ol>
<li><strong>æ·»åŠ ä¾èµ–</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ  Jackson çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.13.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<ol start="2">
<li><strong>å®šä¹‰æ¶ˆæ¯å¯¹è±¡</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMessage</span> {
    <span class="hljs-keyword">private</span> String content;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyMessage</span><span class="hljs-params">()</span> {
    }

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyMessage</span><span class="hljs-params">(String content)</span> {
        <span class="hljs-built_in">this</span>.content = content;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getContent</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> content;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContent</span><span class="hljs-params">(String content)</span> {
        <span class="hljs-built_in">this</span>.content = content;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"MyMessage{"</span> +
                <span class="hljs-string">"content='"</span> + content + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre>
<ol start="3">
<li><strong>è‡ªå®šä¹‰ç¼–è§£ç å™¨</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.handler.codec.MessageToByteEncoder;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonEncoder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MessageToByteEncoder</span>&lt;Object&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">encode</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg, ByteBuf out)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">byte</span>[] bytes = objectMapper.writeValueAsBytes(msg);
        out.writeBytes(bytes);
    }
}

<span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;
<span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.handler.codec.ByteToMessageDecoder;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonDecoder</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ByteToMessageDecoder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">objectMapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Class&lt;T&gt; clazz;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">JsonDecoder</span><span class="hljs-params">(Class&lt;T&gt; clazz)</span> {
        <span class="hljs-built_in">this</span>.clazz = clazz;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">decode</span><span class="hljs-params">(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[in.readableBytes()];
        in.readBytes(bytes);
        <span class="hljs-type">T</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> objectMapper.readValue(bytes, clazz);
        out.add(obj);
    }
}
</code></pre>
<ol start="4">
<li><strong>æœåŠ¡å™¨ç«¯å®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonServer</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>(<span class="hljs-number">1</span>);
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonDecoder</span>&lt;&gt;(MyMessage.class));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonServerHandler</span>());
                 }
             });

            b.bind(<span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;MyMessage&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, MyMessage msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Server received: "</span> + msg);
        ctx.writeAndFlush(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyMessage</span>(<span class="hljs-string">"Hello from server!"</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<ol start="5">
<li><strong>å®¢æˆ·ç«¯å®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonClient</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonDecoder</span>&lt;&gt;(MyMessage.class));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JsonClientHandler</span>());
                 }
             });

            b.connect(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonClientHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;MyMessage&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelActive</span><span class="hljs-params">(ChannelHandlerContext ctx)</span> {
        ctx.writeAndFlush(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MyMessage</span>(<span class="hljs-string">"Hello from client!"</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, MyMessage msg)</span> <span class="hljs-keyword">throws</span> Exception {
        System.out.println(<span class="hljs-string">"Client received: "</span> + msg);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥äº†è§£å¦‚ä½•åœ¨Nettyä¸­ä½¿ç”¨JavaåŸç”Ÿåºåˆ—åŒ–ã€Protocol Bufferså’ŒJSONè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚é€‰æ‹©å“ªç§æ–¹å¼å–å†³äºæ‚¨çš„å…·ä½“éœ€æ±‚å’Œç¯å¢ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nettyï¼ˆ26ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„RPCæ¡†æ¶ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586479864271978502</link>    <guid>https://juejin.cn/post/7586479864271978502</guid>    <pubDate>2025-12-22T12:02:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864271978502" data-draft-id="7586540799250055222" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nettyï¼ˆ26ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„RPCæ¡†æ¶ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T12:02:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nettyï¼ˆ26ï¼‰å¦‚ä½•å®ç°åŸºäºNettyçš„RPCæ¡†æ¶ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T12:02:21.000Z" title="Mon Dec 22 2025 12:02:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸºäºNettyå®ç°ä¸€ä¸ªç®€å•çš„RPCæ¡†æ¶æ¶‰åŠåˆ°å¤šä¸ªæ­¥éª¤ï¼ŒåŒ…æ‹¬å®šä¹‰åè®®ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„é€šä¿¡ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯¦ç»†çš„å®ç°è¿‡ç¨‹ï¼š</p>
<h3 data-id="heading-0">æ­¥éª¤æ¦‚è¿°</h3>
<ol>
<li><strong>å®šä¹‰RPCè¯·æ±‚å’Œå“åº”çš„åè®®</strong></li>
<li><strong>å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶</strong></li>
<li><strong>å®ç°æœåŠ¡å™¨ç«¯</strong></li>
<li><strong>å®ç°å®¢æˆ·ç«¯</strong></li>
<li><strong>å®ç°æœåŠ¡ä»£ç†å’ŒåŠ¨æ€ä»£ç†</strong></li>
</ol>
<h3 data-id="heading-1">1. å®šä¹‰RPCè¯·æ±‚å’Œå“åº”çš„åè®®</h3>
<p>ä½¿ç”¨Javaå¯¹è±¡æ¥å®šä¹‰è¯·æ±‚å’Œå“åº”ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcRequest</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> String className;
    <span class="hljs-keyword">private</span> String methodName;
    <span class="hljs-keyword">private</span> Class&lt;?&gt;[] parameterTypes;
    <span class="hljs-keyword">private</span> Object[] parameters;

    <span class="hljs-comment">// Getters and setters</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcResponse</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> Object result;
    <span class="hljs-keyword">private</span> Throwable error;

    <span class="hljs-comment">// Getters and setters</span>
}
</code></pre>
<h3 data-id="heading-2">2. å®ç°åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶</h3>
<p>ä½¿ç”¨JavaåŸç”Ÿçš„åºåˆ—åŒ–æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.buffer.ByteBuf;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.handler.codec.MessageToByteEncoder;
<span class="hljs-keyword">import</span> io.netty.handler.codec.ByteToMessageDecoder;

<span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcEncoder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MessageToByteEncoder</span>&lt;Object&gt; {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">encode</span><span class="hljs-params">(ChannelHandlerContext ctx, Object msg, ByteBuf out)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();
        <span class="hljs-type">ObjectOutputStream</span> <span class="hljs-variable">oos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectOutputStream</span>(bos);
        oos.writeObject(msg);
        oos.flush();
        <span class="hljs-type">byte</span>[] bytes = bos.toByteArray();
        out.writeInt(bytes.length);
        out.writeBytes(bytes);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcDecoder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ByteToMessageDecoder</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Class&lt;?&gt; genericClass;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RpcDecoder</span><span class="hljs-params">(Class&lt;?&gt; genericClass)</span> {
        <span class="hljs-built_in">this</span>.genericClass = genericClass;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">decode</span><span class="hljs-params">(ChannelHandlerContext ctx, ByteBuf in, List&lt;Object&gt; out)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-keyword">if</span> (in.readableBytes() &lt; <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">return</span>;
        }
        in.markReaderIndex();
        <span class="hljs-type">int</span> <span class="hljs-variable">dataLength</span> <span class="hljs-operator">=</span> in.readInt();
        <span class="hljs-keyword">if</span> (in.readableBytes() &lt; dataLength) {
            in.resetReaderIndex();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[dataLength];
        in.readBytes(bytes);
        <span class="hljs-type">ByteArrayInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayInputStream</span>(bytes);
        <span class="hljs-type">ObjectInputStream</span> <span class="hljs-variable">ois</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectInputStream</span>(bis);
        out.add(ois.readObject());
    }
}
</code></pre>
<h3 data-id="heading-3">3. å®ç°æœåŠ¡å™¨ç«¯</h3>
<p>æœåŠ¡å™¨ç«¯éœ€è¦å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œè°ƒç”¨ç›¸åº”çš„æœåŠ¡æ–¹æ³•ï¼Œå¹¶è¿”å›ç»“æœã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.ServerBootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioServerSocketChannel;

<span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcServer</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; serviceMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerService</span><span class="hljs-params">(String interfaceName, Object service)</span> {
        serviceMap.put(interfaceName, service);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">start</span><span class="hljs-params">(<span class="hljs-type">int</span> port)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">bossGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">workerGroup</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">ServerBootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ServerBootstrap</span>();
            b.group(bossGroup, workerGroup)
             .channel(NioServerSocketChannel.class)
             .childHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcDecoder</span>(RpcRequest.class));
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcServerHandler</span>(serviceMap));
                 }
             });

            b.bind(port).sync().channel().closeFuture().sync();
        } <span class="hljs-keyword">finally</span> {
            bossGroup.shutdownGracefully();
            workerGroup.shutdownGracefully();
        }
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">import</span> java.util.Map;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcServerHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;RpcRequest&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, Object&gt; serviceMap;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RpcServerHandler</span><span class="hljs-params">(Map&lt;String, Object&gt; serviceMap)</span> {
        <span class="hljs-built_in">this</span>.serviceMap = serviceMap;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, RpcRequest request)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">RpcResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcResponse</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Object</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> serviceMap.get(request.getClassName());
            <span class="hljs-keyword">if</span> (service == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Service not found: "</span> + request.getClassName());
            }
            <span class="hljs-type">Method</span> <span class="hljs-variable">method</span> <span class="hljs-operator">=</span> service.getClass().getMethod(request.getMethodName(), request.getParameterTypes());
            <span class="hljs-type">Object</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> method.invoke(service, request.getParameters());
            response.setResult(result);
        } <span class="hljs-keyword">catch</span> (Throwable t) {
            response.setError(t);
        }
        ctx.writeAndFlush(response);
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">exceptionCaught</span><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span> {
        cause.printStackTrace();
        ctx.close();
    }
}
</code></pre>
<h3 data-id="heading-4">4. å®ç°å®¢æˆ·ç«¯</h3>
<p>å®¢æˆ·ç«¯éœ€è¦å‘é€RPCè¯·æ±‚å¹¶æ¥æ”¶å“åº”ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;

<span class="hljs-keyword">import</span> java.lang.reflect.Proxy;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcClient</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String host;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> port;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RpcClient</span><span class="hljs-params">(String host, <span class="hljs-type">int</span> port)</span> {
        <span class="hljs-built_in">this</span>.host = host;
        <span class="hljs-built_in">this</span>.port = port;
    }

    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">create</span><span class="hljs-params">(Class&lt;T&gt; serviceClass)</span> {
        <span class="hljs-keyword">return</span> (T) Proxy.newProxyInstance(serviceClass.getClassLoader(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">Class</span>&lt;?&gt;[]{serviceClass}, <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcClientProxy</span>(host, port, serviceClass));
    }
}

<span class="hljs-keyword">import</span> io.netty.channel.ChannelHandlerContext;
<span class="hljs-keyword">import</span> io.netty.channel.SimpleChannelInboundHandler;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcClientHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">SimpleChannelInboundHandler</span>&lt;RpcResponse&gt; {
    <span class="hljs-keyword">private</span> RpcResponse response;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">channelRead0</span><span class="hljs-params">(ChannelHandlerContext ctx, RpcResponse response)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-built_in">this</span>.response = response;
    }

    <span class="hljs-keyword">public</span> RpcResponse <span class="hljs-title function_">getResponse</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> response;
    }
}
</code></pre>
<h3 data-id="heading-5">5. å®ç°æœåŠ¡ä»£ç†å’ŒåŠ¨æ€ä»£ç†</h3>
<p>ä½¿ç”¨åŠ¨æ€ä»£ç†æ¥ç®€åŒ–å®¢æˆ·ç«¯çš„è°ƒç”¨é€»è¾‘ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.reflect.InvocationHandler;
<span class="hljs-keyword">import</span> java.lang.reflect.Method;
<span class="hljs-keyword">import</span> java.util.concurrent.CountDownLatch;
<span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;

<span class="hljs-keyword">import</span> io.netty.bootstrap.Bootstrap;
<span class="hljs-keyword">import</span> io.netty.channel.Channel;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelInitializer;
<span class="hljs-keyword">import</span> io.netty.channel.ChannelPipeline;
<span class="hljs-keyword">import</span> io.netty.channel.EventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.nio.NioEventLoopGroup;
<span class="hljs-keyword">import</span> io.netty.channel.socket.SocketChannel;
<span class="hljs-keyword">import</span> io.netty.channel.socket.nio.NioSocketChannel;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcClientProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InvocationHandler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String host;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> port;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Class&lt;?&gt; serviceClass;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RpcClientProxy</span><span class="hljs-params">(String host, <span class="hljs-type">int</span> port, Class&lt;?&gt; serviceClass)</span> {
        <span class="hljs-built_in">this</span>.host = host;
        <span class="hljs-built_in">this</span>.port = port;
        <span class="hljs-built_in">this</span>.serviceClass = serviceClass;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">RpcRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcRequest</span>();
        request.setClassName(serviceClass.getName());
        request.setMethodName(method.getName());
        request.setParameterTypes(method.getParameterTypes());
        request.setParameters(args);

        <span class="hljs-type">RpcClientHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcClientHandler</span>();
        <span class="hljs-type">EventLoopGroup</span> <span class="hljs-variable">group</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NioEventLoopGroup</span>();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Bootstrap</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bootstrap</span>();
            b.group(group)
             .channel(NioSocketChannel.class)
             .handler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ChannelInitializer</span>&lt;SocketChannel&gt;() {
                 <span class="hljs-meta">@Override</span>
                 <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initChannel</span><span class="hljs-params">(SocketChannel ch)</span> <span class="hljs-keyword">throws</span> Exception {
                     <span class="hljs-type">ChannelPipeline</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> ch.pipeline();
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcEncoder</span>());
                     p.addLast(<span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcDecoder</span>(RpcResponse.class));
                     p.addLast(handler);
                 }
             });

            <span class="hljs-type">Channel</span> <span class="hljs-variable">channel</span> <span class="hljs-operator">=</span> b.connect(host, port).sync().channel();
            channel.writeAndFlush(request).sync();

            <span class="hljs-type">CountDownLatch</span> <span class="hljs-variable">latch</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CountDownLatch</span>(<span class="hljs-number">1</span>);
            handler.channelReadComplete(channel.pipeline().lastContext(), latch);
            latch.await(<span class="hljs-number">10</span>, TimeUnit.SECONDS);

            <span class="hljs-type">RpcResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> handler.getResponse();
            <span class="hljs-keyword">if</span> (response.getError() != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">throw</span> response.getError();
            }
            <span class="hljs-keyword">return</span> response.getResult();
        } <span class="hljs-keyword">finally</span> {
            group.shutdownGracefully();
        }
    }
}
</code></pre>
<h3 data-id="heading-6">ä½¿ç”¨ç¤ºä¾‹</h3>
<ol>
<li><strong>å®šä¹‰æœåŠ¡æ¥å£å’Œå®ç°</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HelloService</span> {
    String <span class="hljs-title function_">hello</span><span class="hljs-params">(String name)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HelloService</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Hello, "</span> + name;
    }
}
</code></pre>
<ol start="2">
<li><strong>å¯åŠ¨æœåŠ¡å™¨</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcServerMain</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">RpcServer</span> <span class="hljs-variable">server</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcServer</span>();
        server.registerService(HelloService.class.getName(), <span class="hljs-keyword">new</span> <span class="hljs-title class_">HelloServiceImpl</span>());
        server.start(<span class="hljs-number">8080</span>);
    }
}
</code></pre>
<ol start="3">
<li><strong>å®¢æˆ·ç«¯è°ƒç”¨</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RpcClientMain</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RpcClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RpcClient</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">8080</span>);
        <span class="hljs-type">HelloService</span> <span class="hljs-variable">helloService</span> <span class="hljs-operator">=</span> client.create(HelloService.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> helloService.hello(<span class="hljs-string">"World"</span>);
        System.out.println(result);
    }
}
</code></pre>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæ‚¨å¯ä»¥å®ç°ä¸€ä¸ªåŸºäºNettyçš„ç®€å•RPCæ¡†æ¶ã€‚è¿™ä¸ªæ¡†æ¶åŒ…æ‹¬äº†åŸºæœ¬çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–æœºåˆ¶ã€å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„é€šä¿¡ã€æœåŠ¡æ³¨å†Œå’Œè°ƒç”¨ç­‰åŠŸèƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¤¯åˆ°æ‹‰ï¼Œé”è¯„ 28 ä¸ªåç«¯æŠ€æœ¯ï¼]]></title>    <link>https://juejin.cn/post/7586498198148661299</link>    <guid>https://juejin.cn/post/7586498198148661299</guid>    <pubDate>2025-12-22T10:09:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586498198148661299" data-draft-id="7586263211089133594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¤¯åˆ°æ‹‰ï¼Œé”è¯„ 28 ä¸ªåç«¯æŠ€æœ¯ï¼"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-22T10:09:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¤¯åˆ°æ‹‰ï¼Œé”è¯„ 28 ä¸ªåç«¯æŠ€æœ¯ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:09:09.000Z" title="Mon Dec 22 2025 10:09:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚ä»å¤¯åˆ°æ‹‰ï¼Œé”è¯„ 28 ä¸ªåç«¯æŠ€æœ¯ï¼Œä¸€å£æ°”è¯´å®Œï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7a4722110f34164ae95d6ff4ead4148~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=ysvyLOmcAdvjgrSUfdhcm0%2FLsbY%3D" alt="" loading="lazy"/></p>
<p>æ­£å¼å¼€å§‹å‰å…ˆéƒ‘é‡å£°æ˜ï¼Œæ¯ä¸ªåç«¯æŠ€æœ¯éƒ½æœ‰è‡ªå·±çš„åº”ç”¨åœºæ™¯ï¼Œå¾ˆå¤šæ—¶å€™æ²¡åŠæ³•å®Œå…¨å…¬å¹³åœ°å»æ¯”è¾ƒã€‚æœ¬æœŸé±¼çš®åªæ˜¯å¸Œæœ›å¸®å¤§å®¶å­¦åˆ°çŸ¥è¯†ã€è®¤è¯†æ›´å¤šçš„æŠ€æœ¯ã€‚è€Œä¸”ç”±äºæˆ‘æ˜¯ä¸ªå­¦ Java çš„ï¼Œä¹Ÿä¼šå¸¦æœ‰ä¸€å®šçš„ä¸»è§‚æ€§ï¼ŒæŸäº›è·Ÿè¯­è¨€ç»‘å®šçš„æŠ€æœ¯æˆ‘ä¼šä»¥ Java ç”Ÿæ€ä½œä¸ºä¾‹å­ã€‚</p>
<p>å¤§å®¶ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºæ‰“å‡ºè‡ªå·±çš„è¯„ä»·ï¼Œçœ‹çœ‹è·Ÿæˆ‘æƒ³çš„æ˜¯å¦ä¸€æ ·ã€‚</p>
<p>â­ï¸ æœ¬æ–‡å¯¹åº”è§†é¢‘ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fbilibili.com%2Fvideo%2FBV1HiqQBgEoN" target="_blank" title="https://bilibili.com/video/BV1HiqQBgEoN" ref="nofollow noopener noreferrer">bilibili.com/video/BV1Hiâ€¦</a></p>
<h2 data-id="heading-0">è¯„ä»·ç»´åº¦</h2>
<p>æ¥ä¸‹æ¥æˆ‘å°†ä» 5 ä¸ªç»´åº¦æ¥è¯„ä»·è¿™äº›åç«¯æŠ€æœ¯:</p>
<ol start="0">
<li>å®ç”¨æ€§ï¼šèƒ½è§£å†³å¤šå°‘å®é™…é—®é¢˜</li>
<li>ç”Ÿæ€æˆç†Ÿåº¦ï¼šåŒ…æ‹¬ç¤¾åŒºæ´»è·ƒåº¦ã€æ–‡æ¡£å®Œå–„åº¦ã€ç¬¬ä¸‰æ–¹åº“ä¸°å¯Œåº¦ç­‰</li>
<li>å­¦ä¹ æˆæœ¬ï¼šä¸Šæ‰‹éš¾åº¦å’Œå­¦ä¹ æ›²çº¿</li>
<li>æ€§èƒ½è¡¨ç°ï¼šæ¯”å¦‚ååé‡ã€å“åº”é€Ÿåº¦ã€èµ„æºå ç”¨ç­‰</li>
<li>ç»´æŠ¤æˆæœ¬ï¼šåæœŸè¿­ä»£å’Œæ’æŸ¥é—®é¢˜çš„éš¾åº¦</li>
</ol>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä¸ªäººæœ€çœ‹é‡çš„æ˜¯å®ç”¨æ€§å’Œç”Ÿæ€æˆç†Ÿåº¦ã€‚æ¯•ç«ŸæŠ€æœ¯æ˜¯ç”¨æ¥è§£å†³é—®é¢˜çš„ï¼Œç”Ÿæ€å¥½æ„å‘³ç€é‡åˆ°é—®é¢˜èƒ½å¾ˆå¿«æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">åç«¯æŠ€æœ¯ä»å¤¯åˆ°æ‹‰æ’è¡Œæ¦œ</h2>
<h4 data-id="heading-2">1ã€Spring ã€é¡¶çº§ã€‘</h4>
<p>ä¸Šæ¥å°±æ˜¯é‡é‡çº§ï¼Œè¿™æ˜¯ Java åç«¯å¼€å‘çš„ç»å¯¹éœ¸ä¸»ï¼Œä¼ä¸šçº§åº”ç”¨çš„åŸºçŸ³ã€‚Spring æ¡†æ¶ç»Ÿæ²» Java ä¼ä¸šçº§å¼€å‘åå‡ å¹´ï¼ŒIoC å®¹å™¨å’Œ AOP ç¼–ç¨‹æ€æƒ³æ·±å…¥äººå¿ƒï¼Œä» Web å¼€å‘ã€æ•°æ®è®¿é—®ã€æ‰¹å¤„ç†åˆ°å®‰å…¨è®¤è¯ï¼ŒSpring å…¨å®¶æ¡¶éƒ½èƒ½ç»™ä½ å®‰æ’çš„æ˜æ˜ç™½ç™½ã€‚å›½å†…å¤§å‚æ ‡é…ï¼Œç¤¾åŒºæ´»è·ƒåº¦éå¸¸å¥½ï¼Œå‡ºäº† Bug å¾ˆå¿«å°±èƒ½æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚ä½†ç¼ºç‚¹æ˜¯ä¼ ç»Ÿçš„ Spring é…ç½®æ¯”è¾ƒç¹çï¼Œç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd5b444fd72b4663b64a5bd784743a4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=FeAdXmsU21SaFDwwuu56GMX%2B5R8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">ç¬¬äºŒä¸ªï¼šSpring Boot ã€å¤¯ã€‘</h4>
<p>Spring çš„äº²å„¿å­ï¼ŒJava å¿«é€Ÿå¼€å‘çš„ä¸äºŒä¹‹é€‰ã€‚çº¦å®šå¤§äºé…ç½®ï¼Œèƒ½å¤Ÿè½»æ¾æ•´åˆ Spring å…¨å®¶æ¡¶ï¼Œå¼€ç®±å³ç”¨ã€‚è‡ªåŠ¨é…ç½®çœå¿ƒçœåŠ›ï¼Œå†…åµŒæœåŠ¡å™¨ä¸€é”®å¯åŠ¨ï¼Œå‡ è¡Œä»£ç å°±èƒ½è·‘èµ·æ¥ä¸€ä¸ª Web åº”ç”¨ã€‚ç¼ºç‚¹æ˜¯ä¾èµ–å¤ªå¤šï¼Œæ‰“åŒ…æ–‡ä»¶åŠ¨è¾„ä¸Šç™¾ Mï¼Œè€Œä¸”å¯åŠ¨é€Ÿåº¦æ…¢ã€å†…å­˜å ç”¨é«˜ã€‚ä¸è¿‡ç°åœ¨æœ‰äº† GraalVM åŸç”Ÿé•œåƒæŠ€æœ¯ï¼Œè¿™äº›é—®é¢˜æ­£åœ¨è¢«æ”¹å–„ï¼Œè€ƒè™‘åˆ° Java åç«¯æ ‡é…çš„æ±Ÿæ¹–åœ°ä½ï¼Œå¿…é¡»ç»™åˆ° <strong>å¤¯</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e6e1c41f61043108f0ced2b9d616846~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=2TSWvj5LLbA3x0ONLWT2fKDZ%2FH0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">3ã€EJB ã€æ‹‰ã€‘</h4>
<p>å…¨å Enterprise JavaBeansï¼Œä¼ä¸šçº§ Java çš„é»‘å†å²ã€‚å½“å¹´ Sun å…¬å¸åŠ›æ¨çš„é‡é‡çº§æ¡†æ¶ï¼Œé…ç½®å¤æ‚åˆ°ç¦»è°±ï¼Œå¼€å‘æ•ˆç‡ä½ã€æ€§èƒ½è¿˜å·®ã€‚æ­£æ˜¯å› ä¸º EJB å¤ªéš¾ç”¨ï¼Œæ‰å‚¬ç”Ÿäº† Spring æ¡†æ¶çš„è¯ç”Ÿã€‚ç°åœ¨å·²ç»è¢«æ·˜æ±°ï¼Œæ¯«æ— ç–‘é—®ç»™åˆ° <strong>æ‹‰</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcf777a940424d12b121afaa76c4ea7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=jByYKRz%2F8qRBGec7a%2BohqIS7jxQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-5">ç¬¬å››ä¸ªï¼šDocker ã€å¤¯ã€‘</h4>
<p>å®¹å™¨åŒ–æŠ€æœ¯çš„ç»å¯¹ç‹è€…ï¼Œè§£å†³ç¯å¢ƒä¸€è‡´æ€§é—®é¢˜çš„ç¥å™¨ã€‚Docker æŠŠåº”ç”¨å’Œç¯å¢ƒæ‰“åŒ…åœ¨ä¸€èµ·ï¼Œå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´ï¼Œå†ä¹Ÿä¸ç”¨å¬ â€œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘å•Šâ€ è¿™ç§é¬¼è¯ã€‚å®ƒå¾ˆè½»é‡ã€ç§’çº§å¯åŠ¨ã€èµ„æºå ç”¨å°‘ï¼Œæ˜¯å¾®æœåŠ¡æ¶æ„çš„åŸºçŸ³ï¼Œä¹Ÿæ˜¯ CI/CD çš„å¥½æ­æ¡£ã€‚Docker çš„å­¦ä¹ æ›²çº¿å‹å¥½ï¼Œæ–‡æ¡£é½å…¨ï¼Œç¤¾åŒºæ´»è·ƒåˆ°çˆ†ç‚¸ã€‚å”¯ä¸€çš„ç¼ºç‚¹å¯èƒ½å°±æ˜¯ Windows ä¸Šä½“éªŒç¨å·®ï¼Œä½†ç‘•ä¸æ©ç‘œï¼Œç»™åˆ° <strong>å¤¯</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/836fac7504804c6cbd851ef201718871~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=ErUU8mxcB0XXMyEOFZgXNjK2nrM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">ç¬¬äº”ä¸ªï¼šKubernetes ã€é¡¶çº§ã€‘</h4>
<p>å®¹å™¨ç¼–æ’é¢†åŸŸçš„éœ¸ä¸»ï¼Œäº‘åŸç”Ÿçš„æ ¸å¿ƒæŠ€æœ¯ã€‚ç®€ç§° K8sï¼Œæ˜¯ç®¡ç†æˆç™¾ä¸Šåƒä¸ª Docker å®¹å™¨çš„ç¥å™¨ã€‚è‡ªåŠ¨æ‰©ç¼©å®¹ã€æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€æ»šåŠ¨æ›´æ–°å…¨éƒ½ç»™ä½ å®‰æ’çš„æ˜æ˜ç™½ç™½ï¼Œå¤§å‚æ ‡é…ã€‚ä½†å­¦ä¹ éš¾åº¦è¾ƒå¤§ï¼Œé…ç½®æ–‡ä»¶èƒ½æŠŠäººç»•æ™•ï¼Œå°é¡¹ç›®æ²¡å¿…è¦ç”¨å®ƒï¼Œé€‚åˆå¤§è§„æ¨¡é›†ç¾¤å’Œå¤æ‚åœºæ™¯ï¼Œç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f96cdd41de44f2fbad9768ec4c1a250~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=lr6LByQV25pZCVa0Ad%2F%2FXEJByB8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">ç¬¬å…­ä¸ªï¼šRedis ã€å¤¯ã€‘</h4>
<p>é«˜æ€§èƒ½é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼Œç¼“å­˜ç•Œçš„æ‰›æŠŠå­ï¼Œå¿«åˆ°é£èµ·ã€‚å®ƒæ”¯æŒå­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å“ˆå¸Œã€é›†åˆã€æœ‰åºé›†åˆäº”å¤§æ•°æ®ç»“æ„ï¼Œå¸¸ç”¨äºå®ç°ç¼“å­˜ã€åˆ†å¸ƒå¼é”ã€æ’è¡Œæ¦œç­‰ã€‚å®ƒçš„æ ¸å¿ƒå¤„ç†é€»è¾‘é‡‡ç”¨å•çº¿ç¨‹ï¼ŒæŒä¹…åŒ–æ–¹æ¡ˆæˆç†Ÿã€‚å”¯ä¸€è¦æ³¨æ„çš„æ˜¯å†…å­˜æˆæœ¬å’Œæ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œå¿…é¡»ç»™åˆ° <strong>å¤¯</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/baee7bd25b434d6480710350527d328d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=ryuW0sZSvL8IZhmF1e7IyfbkCf8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-8">ç¬¬ä¸ƒä¸ªï¼šMemcached ã€NPCã€‘</h4>
<p>ç¼“å­˜ç•Œçš„è€å‰è¾ˆï¼Œç®€å•çš„åˆ†å¸ƒå¼å†…å­˜ç¼“å­˜ç³»ç»Ÿã€‚å®ƒç®€å•çº¯ç²¹ï¼Œå°±æ˜¯ä¸ªé”®å€¼å­˜å‚¨ï¼Œæ€§èƒ½ä¹Ÿè¿˜ä¸é”™ã€‚ä½†æ˜¯åŠŸèƒ½å¤ªå•ä¸€ï¼Œåªæ”¯æŒå­—ç¬¦ä¸²ã€æ²¡æœ‰æŒä¹…åŒ–ï¼Œæ²¡æœ‰ä¸»ä»å¤åˆ¶ã€æ‰©å±•æ€§å·®ã€‚ç°åœ¨åŸºæœ¬è¢« Redis å…¨é¢ç¢¾å‹ï¼Œåªæœ‰ä¸€äº›è€é¡¹ç›®è¿˜åœ¨ç”¨ï¼Œç»™åˆ° <strong>NPC</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cab62bc7c1341fb88b87d5131385d3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=fPugw0eZ3BCotRsPYCXcXvDBgm8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-9">ç¬¬å…«ä¸ªï¼šMySQL ã€å¤¯ã€‘</h4>
<p>å…³ç³»å‹æ•°æ®åº“çš„å¸¸é’æ ‘ï¼Œå›½å†…ä½¿ç”¨ç‡æœ€é«˜çš„æ•°æ®åº“ã€‚ACID ç‰¹æ€§ä¿è¯æ•°æ®å®‰å…¨ï¼Œäº‹åŠ¡æ”¯æŒå®Œå–„ï¼Œå¼€æºå…è´¹ï¼Œä¸­å°ä¼ä¸šé¦–é€‰ã€‚è™½ç„¶å¤æ‚æŸ¥è¯¢æ€§èƒ½ä¸€èˆ¬ã€åŠŸèƒ½æ‰©å±•æ€§ä¸å¦‚ PostgreSQLï¼Œä½†å‡­å€Ÿè¶…é«˜çš„æ™®åŠåº¦å’Œæˆç†Ÿçš„ç”Ÿæ€ï¼Œç»™åˆ° <strong>å¤¯</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/804556f014104eb8ba4f8475d8632992~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=0qzS7EvL6WgwFxzBaQbKpK6V6x4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-10">9ã€PostgreSQL ã€é¡¶çº§ã€‘</h4>
<p>æ®è¯´æ˜¯åŠŸèƒ½æœ€å¼ºå¤§çš„å¼€æºæ•°æ®åº“ã€‚æ”¯æŒ JSONã€æ•°ç»„ã€åœ°ç†ä¿¡æ¯ã€å‘é‡ï¼ˆé€šè¿‡æ’ä»¶å®ç°ï¼‰ç­‰å¤æ‚ç±»å‹ï¼Œæ‰©å±•æ€§æå¼ºï¼Œé€‚åˆå¤æ‚æŸ¥è¯¢å’Œæ•°æ®åˆ†æåœºæ™¯ã€‚æ€§èƒ½å’Œç¨³å®šæ€§éƒ½ä¸è¾“ MySQLï¼Œç”šè‡³åœ¨æŸäº›åœºæ™¯æ›´ä¼˜ç§€ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œåªèƒ½ç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e682700f39a496e8d8ae841b6b2babe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=cxa%2BLVVLn5tv%2BjWJ%2Bum5tBoSPWw%3D" alt="" loading="lazy"/></p>
<p>æˆ‘çŸ¥é“æœ‰åŒå­¦ä¸æœï¼Œä»æŠ€æœ¯è§’åº¦çœ‹ï¼ŒPostgreSQL ç¡®å®æ›´èƒœä¸€ç­¹ï¼Œä½†æ˜¯ç›®å‰å›½å†…ç”Ÿæ€ä¸å¦‚ MySQLï¼Œé‡åˆ°é—®é¢˜åè§£å†³çš„æˆæœ¬æ›´é«˜ï¼Œå­¦ä¹ éš¾åº¦ä¹Ÿæ›´å¤§ã€‚è™½ç„¶ AI ç»™ PostgreSQL åŠ©åŠ›äº†ï¼Œä½†å†ä¸‰è€ƒè™‘ç°åœ¨è¿˜æ˜¯åªèƒ½ç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<h4 data-id="heading-11">ç¬¬åä¸ªï¼šMongoDB ã€äººä¸Šäººã€‘</h4>
<p>NoSQL æ–‡æ¡£æ•°æ®åº“çš„ä»£è¡¨ï¼Œå­˜å‚¨ JSON æ ¼å¼æ•°æ®ï¼ŒSchema éå¸¸çµæ´»ï¼ŒæŸ¥è¯¢è¯­è¨€ç›´è§‚ï¼Œå®¹æ˜“ä¸Šæ‰‹ï¼Œæ¨ªå‘æ‰©å±•ä¹Ÿå¾ˆå®¹æ˜“ï¼Œé€‚åˆå¿«é€Ÿè¿­ä»£çš„é¡¹ç›®ã€‚ä½†äº‹åŠ¡çš„å¤„ç†èƒ½åŠ›ä¸Šè¿˜æ˜¯ä¸å¦‚ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“æˆç†Ÿï¼Œé€‚åˆå†…å®¹ç®¡ç†ã€æ—¥å¿—å­˜å‚¨ç­‰ä¸éœ€è¦å¼ºä¸€è‡´æ€§çš„åœºæ™¯ï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4c637196cbb4ca79ee533795f2de111~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=Q%2Bh4yoQQll4MjLCLUll%2FNh%2FSP%2Bo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12">ç¬¬åä¸€ä¸ªï¼šNginx ã€å¤¯ã€‘</h4>
<p>Web æœåŠ¡å™¨å’Œåå‘ä»£ç†çš„ç‹è€…ï¼Œé«˜æ€§èƒ½ HTTP æœåŠ¡å™¨ã€‚å®ƒçš„é«˜å¹¶å‘å¤„ç†èƒ½åŠ›å¼ºæ‚ï¼Œå ç”¨èµ„æºå°‘ï¼Œæ€§èƒ½åŠæ‰“ Apacheï¼Œä½¿ç”¨åœºæ™¯ä¹Ÿå¾ˆå¤šï¼Œè´Ÿè½½å‡è¡¡ã€é™æ€èµ„æºæœåŠ¡ã€SSL å¸è½½æ ·æ ·åœ¨è¡Œã€‚å­¦ä¹ æˆæœ¬ä¹Ÿä¸é«˜ï¼Œåœ¨æˆ‘è¿™ç»™åˆ° <strong>å¤¯çˆ†äº†</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1e8cd1b88c04e038b0604264b60f761~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=vYDGOZBVBkrT7KenXYZKGXjQk9Q%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-13">ç¬¬åäºŒä¸ªï¼šRabbitMQ ã€äººä¸Šäººã€‘</h4>
<p>åŠŸèƒ½å®Œå–„çš„ç»å…¸æ¶ˆæ¯é˜Ÿåˆ—ã€‚åŸºäº AMQP åè®®ï¼Œæ”¯æŒå¤šç§æ¶ˆæ¯æ¨¡å¼ï¼Œè·¯ç”±çµæ´»ï¼›è‡ªå¸¦ç®¡ç†ç•Œé¢ï¼Œç›‘æ§æ–¹ä¾¿ã€‚ä½†æ€§èƒ½ä¸å¦‚ Kafkaï¼Œååé‡æœ‰é™ï¼Œé€‚åˆä¸­å°è§„æ¨¡çš„å¼‚æ­¥å¤„ç†åœºæ™¯ï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77253be9e2774633a96bcfb1adb9eed6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=8ql03pzy4NWsVEJ6MPThcA3%2B0Cg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-14">ç¬¬åä¸‰ä¸ªï¼šKafka ã€é¡¶çº§ã€‘</h4>
<p>é‚£ä¹ˆä¸‹ä¸€ä¸ªè‡ªç„¶æ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„æ€§èƒ½æ€ªå…½ Kafkaï¼Œåˆ†å¸ƒå¼æµå¤„ç†å¹³å°ã€‚ååé‡å¾ˆå¤§ï¼Œç™¾ä¸‡çº§ TPS è½»æ¾æ‹¿ä¸‹ï¼Œè€Œä¸”é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œå¯é æ€§é«˜ï¼Œæ˜¯æ—¥å¿—æ”¶é›† / æµå¼è®¡ç®—çš„æ ‡é…ã€å¤§æ•°æ®åœºæ™¯çš„åŸºç¡€è®¾æ–½ã€‚ä¸è¶³ä¹‹å¤„æ˜¯è¿ç»´å¤æ‚ï¼Œå­¦ä¹ æˆæœ¬é«˜ï¼Œæ¶ˆæ¯é¡ºåºæ€§å’Œé‡å¤æ¶ˆè´¹éœ€è¦ä»”ç»†å¤„ç†ï¼Œç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2640ae9ab3a417a9c381399188d3119~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=5a1uW4QMlTp3qyxv0OPGpaWRpOc%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">14ã€Elasticsearch ã€å¤¯ã€‘</h4>
<p>æœç´¢å¼•æ“ç•Œçš„ä¸€å“¥ï¼Œåˆ†å¸ƒå¼æœç´¢å’Œåˆ†æå¼•æ“ã€‚åŸºäº Luceneï¼Œå…¨æ–‡æœç´¢é€Ÿåº¦è´¼å¿«ï¼›é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œèƒ½åº”å¯¹ PB çº§æ•°æ®ã€‚é™¤äº†æœç´¢å¤–ï¼Œè¿˜èƒ½ç”¨æ¥åšæ—¥å¿—åˆ†æã€æ•°æ®å¯è§†åŒ–ï¼Œæ˜¯ ELK æŠ€æœ¯æ ˆçš„æ ¸å¿ƒã€‚ä¸è¶³ä¹‹å¤„æ˜¯èµ„æºå ç”¨è¾ƒé«˜ï¼Œæœ‰ä¸€å®šçš„è°ƒä¼˜éš¾åº¦ã€‚ä½†æ¯•ç«Ÿæ˜¯æœç´¢åœºæ™¯å¿…å¤‡æŠ€æœ¯ï¼Œç»™åˆ° <strong>å¤¯</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff2feff1e72842908c56e23fb0abcbbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=RCOGfeI0jdtmAw9Boo0mg6zyKSE%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-16">15ã€Git ã€å¤¯ã€‘</h4>
<p>ç‰ˆæœ¬æ§åˆ¶çš„ç»å¯¹éœ¸ä¸»ï¼Œåˆ†å¸ƒå¼ä»£ç ç®¡ç†å·¥å…·ã€‚å®ƒé‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œæ¯ä¸ªå¼€å‘è€…æœ¬åœ°éƒ½æœ‰å®Œæ•´çš„ä»£ç ä»“åº“ï¼Œåˆ†æ”¯ç®¡ç†èƒ½åŠ›å¼ºå¤§ï¼Œåˆå¹¶å†²çªçš„å¤„ç†æœºåˆ¶å®Œå–„ã€‚å†åŠ ä¸Š GitHubã€GitLab ç­‰å¹³å°çš„ç”Ÿæ€åŠ æŒï¼Œå·²ç»æˆä¸ºå¼€å‘è€…å¿…å¤‡æŠ€èƒ½ï¼Œä¸ä¼š Git åŸºæœ¬å°±å‘Šåˆ«å¼€å‘äº†ï¼Œç»™åˆ° <strong>å¤¯çˆ†äº†</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b77955d74fd34ebf938e7f02700f3efb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=FAueWhLFq71fMN5PEP6f%2B5j%2Fxkk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-17">ç¬¬åå…­ä¸ªï¼šSVN ã€æ‹‰ã€‘</h4>
<p>ä¸Šå¤æ—¶ä»£çš„é›†ä¸­å¼ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿã€‚é‡‡ç”¨é›†ä¸­å¼æ¶æ„ï¼Œå¿…é¡»è”ç½‘æ‰èƒ½æäº¤ä»£ç ï¼Œåˆ†æ”¯ç®¡ç†èƒ½åŠ›å¼±ï¼Œå¤„ç†åˆå¹¶å†²çªæ¯”è¾ƒéº»çƒ¦ã€‚Git å‡ºæ¥ä¹‹åè¢«æŒ‰åœ¨åœ°ä¸Šåå¤æ‘©æ“¦ï¼Œç°åœ¨è¿˜åœ¨ç”¨ SVN çš„åŸºæœ¬éƒ½æ˜¯åå¹´å‰çš„è€é¡¹ç›®ã€‚çœŸçš„è¯¥æ·˜æ±°äº†ï¼Œç»™åˆ° <strong>æ‹‰</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d595dee344345ef8be710f44d007c31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=PB9h2jLvrmK1kR5dFUgNcX3POe0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18">ç¬¬åä¸ƒä¸ªï¼šgRPC ã€é¡¶çº§ã€‘</h4>
<p>Google å‡ºå“çš„é«˜æ€§èƒ½ RPC æ¡†æ¶ï¼Œå¾®æœåŠ¡é—´é€šä¿¡çš„åˆ©å™¨ã€‚RPC å°±æ˜¯è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œè®©ä½ è°ƒç”¨è¿œç¨‹æœåŠ¡å°±åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ç®€å•ã€‚</p>
<p>gRPC åŸºäº HTTP/2 åè®®ï¼Œæ€§èƒ½å¼ºæ‚ï¼Œä½¿ç”¨ Protocol Buffers åºåˆ—åŒ–ï¼Œä½¿å¾—ä½“ç§¯å°é€Ÿåº¦å¿«ï¼Œæµå¼ä¼ è¾“æ”¯æŒä¹Ÿå¾ˆå®Œå–„ï¼›è€Œä¸”è¿˜æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯è·¨è¯­è¨€æœåŠ¡è°ƒç”¨çš„é¦–é€‰ï¼Œç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cddadb2064846058c9d9b9dae4f8f41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=V%2BEUBduLBNRCnTs%2F3hR5jldmbug%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19">ç¬¬åå…«ä¸ªï¼šDubbo ã€äººä¸Šäººã€‘</h4>
<p>é˜¿é‡Œå¼€æºçš„é«˜æ€§èƒ½ RPC æ¡†æ¶ï¼Œå›½å†…å¾®æœåŠ¡çš„è€å¤§å“¥ã€‚æ€§èƒ½ä¼˜ç§€ï¼Œæ”¯æŒå¤šç§é€šä¿¡åè®®å’Œè´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ŒæœåŠ¡æ²»ç†åŠŸèƒ½ä¹Ÿå¾ˆå®Œå–„ã€‚å›½å†…æ–‡æ¡£å’Œæ¡ˆä¾‹è¿˜ç®—ä¸°å¯Œï¼Œä½†æ˜¯å›½å¤–ç”¨çš„å°‘ï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db28c49fa776443a97165504afde2706~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=dbqRDoH2cMT8Sc04w96cQVQ5mEo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20">19ã€Nacos ã€äººä¸Šäººã€‘</h4>
<p>é˜¿é‡Œå‡ºå“çš„æœåŠ¡å‘ç°å’Œé…ç½®ä¸­å¿ƒï¼Œå¾®æœåŠ¡æ²»ç†çš„æ–°ç§€ã€‚å®ƒæä¾›äº†å‹å¥½çš„é…ç½®ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒå¤šç§æœåŠ¡æ³¨å†Œæ¨¡å¼ï¼Œçµæ´»æ€§é«˜ï¼Œæ˜¯ Spring Cloud Alibaba çš„æ ¸å¿ƒç»„ä»¶ã€‚ä½†è·Ÿ Dubbo ä¸€æ ·ï¼Œå›½é™…åŒ–ç¨‹åº¦ä¸å¤Ÿï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f75f78afb02249d4bfca81d8c2128def~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=36l6%2BYIFZlrEPuJEtdWo19rflSA%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21">20ã€Zookeeper ã€NPCã€‘</h4>
<p>åˆ†å¸ƒå¼åè°ƒæœåŠ¡çš„è€å‰è¾ˆäº†ï¼Œèƒ½å¤Ÿå®ç°é…ç½®ç®¡ç†ã€æœåŠ¡å‘ç°ã€åˆ†å¸ƒå¼é”ã€‚å…·æœ‰å¼ºä¸€è‡´æ€§ä¿è¯ï¼Œæ•°æ®å¯é ã€‚ä½†ç¼ºç‚¹æ˜¯è¿ç»´å¤æ‚ï¼Œå¹¶ä¸”åœ¨å¤§è§„æ¨¡é›†ç¾¤ä¸‹å†™æ€§èƒ½å’Œé€‰ä¸¾æ¢å¤é€Ÿåº¦ä¸€èˆ¬ã€‚éšç€ Kafka è½¬å‘ KRaft æ¶æ„ä»¥åŠ etcd åœ¨äº‘åŸç”Ÿé¢†åŸŸçš„éœ¸æƒï¼ŒZK æ­£åœ¨æ…¢æ…¢é€€å±…äºŒçº¿ï¼Œåªèƒ½ç»™åˆ° <strong>NPC</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95a74905060e478d8e9c686d22d54c7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=piMBKCYy3lKu2OL1JPglj%2FpgVPc%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-22">21ã€etcd ã€é¡¶çº§ã€‘</h4>
<p>Go è¯­è¨€ç¼–å†™çš„åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨ï¼Œäº‘åŸç”Ÿæ—¶ä»£çš„åè°ƒæœåŠ¡ã€‚å®ƒæ˜¯ Kubernetes çš„å¾¡ç”¨å­˜å‚¨ï¼ŒåŸºäº Raft åè®®å®ç°ï¼Œæœ‰å¼ºä¸€è‡´æ€§ä¿è¯ï¼Œæ€§èƒ½æ¯” Zookeeper å¥½ã€‚å®ƒçš„ API ç®€æ´ï¼ŒåŒæ—¶æ”¯æŒ HTTP å’Œ gRPC æ¥å£ã€‚ç¼ºç‚¹æ˜¯å›½å†…ç”Ÿæ€ä¸€èˆ¬ï¼Œä¸­æ–‡èµ„æ–™ç›¸å¯¹è¾ƒå°‘ã€‚ä½†ä½œä¸ºäº‘åŸç”Ÿåœºæ™¯é¦–é€‰ï¼Œæˆ‘ç›¸ä¿¡å®ƒç«èµ·æ¥åªæ˜¯æ—¶é—´é—®é¢˜ï¼Œç»™åˆ° <strong>é¡¶çº§</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ab84f168a1247479e423c09c7e5fece~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=%2BS2iZGvmmrSeprC8lKgT%2FJZnsts%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-23">22ã€Prometheus ã€äººä¸Šäººã€‘</h4>
<p>å¼€æºçš„ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦å·¥å…·é›†ã€‚é‡‡ç”¨ Pull æ¨¡å¼é‡‡é›†æ•°æ®ï¼Œé…ç½®çµæ´»ï¼Œæä¾› PromQL æŸ¥è¯¢è¯­è¨€ï¼Œè¿˜å¯ä»¥å’Œ Grafana å¯è§†åŒ–å·¥å…·å®Œç¾æ­æ¡£ã€‚ä½†é•¿æœŸå­˜å‚¨éœ€è¦é¢å¤–æ–¹æ¡ˆï¼Œè€Œä¸”å‘Šè­¦è§„åˆ™é…ç½®æœ‰ç‚¹ç¹çï¼Œç»´æŠ¤æˆæœ¬ç¡®å®ä¸ä½ã€‚è€ƒè™‘åˆ°ç›‘æ§çš„é‡è¦æ€§å’Œäº‘åŸç”Ÿçš„è¶‹åŠ¿ï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21ee8e1d7e4c4210929aeb62df664fc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=eU3SEVtYX6JWNZcsrk%2Bsk%2BPpDLo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-24">ç¬¬äºŒåä¸‰ä¸ªï¼šJenkins ã€äººä¸Šäººã€‘</h4>
<p>CI/CD çš„è€å¤§å“¥ï¼ŒæŒç»­é›†æˆçš„ç»å…¸å·¥å…·ã€‚æµæ°´çº¿é…ç½®çµæ´»ï¼Œæ’ä»¶ç”Ÿæ€éå¸¸ä¸°å¯Œï¼Œå¼€æºå…è´¹ï¼Œç¤¾åŒºæ´»è·ƒã€‚ä½†é—®é¢˜ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œç•Œé¢è€æ—§ï¼Œç”¨æˆ·ä½“éªŒä¸€èˆ¬ï¼›é…ç½®å¤æ‚ï¼Œæ–°æ‰‹å®¹æ˜“æ‡µï¼›è€Œä¸”èµ„æºå ç”¨è¾ƒé«˜ã€‚è™½ç„¶ Jenkins ä»ç„¶æ˜¯ä¼ä¸šçº§ CI/CD çš„ä¸»æµé€‰æ‹©ï¼Œä½†å¾ˆå¤šå¼€å‘è€…å»æ‹¥æŠ± GitHub Actionsã€GitLab CI è¿™äº›ä½“éªŒæ›´å¥½çš„æ–°å·¥å…·äº†ï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b066e170bf4949348b376e01e3fbbf18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=UfmHc8dmC1JJFEAwZEgNXl30Q%2B8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-25">ç¬¬äºŒåå››ä¸ªï¼šGraphQL ã€NPCã€‘</h4>
<p>API æŸ¥è¯¢è¯­è¨€çš„æ–°è´µï¼Œçµæ´»çš„æ•°æ®è·å–æ–¹æ¡ˆã€‚å®¢æˆ·ç«¯å¯ä»¥æŒ‰éœ€è·å–æ•°æ®ï¼Œä¸€ä¸ªæ¥å£å°±èƒ½æå®šæ‰€æœ‰æŸ¥è¯¢ï¼Œå‘Šåˆ« RESTful çš„æ¥å£çˆ†ç‚¸é—®é¢˜ï¼Œé€‚åˆå‰ç«¯å¤æ‚çš„é¡¹ç›®ä½¿ç”¨ã€‚</p>
<p>ä½†å­¦ä¹ æˆæœ¬é«˜ï¼Œåœ¨å›½å†…åº”ç”¨åœºæ™¯ç›¸å¯¹æœ‰é™ï¼Œå¤§éƒ¨åˆ†å…¬å¸è¿˜æ˜¯ç”¨ RESTfulï¼Œç»™åˆ° <strong>NPC</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/067a6ab01fbb4c579d55c0ed6a2b62e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=j21SPgifRF8%2BfPL7hXE6LtSNuOA%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-26">ç¬¬äºŒåäº”ä¸ªï¼šSwagger ã€äººä¸Šäººã€‘</h4>
<p>æ¥å£æ–‡æ¡£è‡ªåŠ¨åŒ–å·¥å…·ã€‚å¯ä»¥é€šè¿‡æ³¨è§£è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼Œè¿˜æä¾›åœ¨çº¿è°ƒè¯•åŠŸèƒ½æ–¹ä¾¿æµ‹è¯•ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œæ˜¯å‰åç«¯åä½œçš„ç¥å™¨ã€‚</p>
<p>ä½†æ˜¯ç›¸æ¯”æ•°æ®åº“ã€ç¼“å­˜è¿™äº›åŸºç¡€è®¾æ–½ï¼ŒSwagger å¹¶ä¸ç®—åˆšéœ€ï¼Œç°åœ¨ç”¨ AI æˆ–è€… Postman ä¹Ÿèƒ½æå®šæ¥å£æ–‡æ¡£ï¼Œç»™åˆ° <strong>äººä¸Šäºº</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54516a2ade8242a1b2141e0c5836def6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=NFkmf7I5HCn60SzOwDk%2BwZ%2BnFRU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-27">ç¬¬äºŒåå…­ä¸ªï¼šTomcat ã€NPCã€‘</h4>
<p>ç»å…¸çš„ Java Web å®¹å™¨ï¼Œæ›¾ç»çš„ç‹è€…ï¼Œæ”¯æŒ Servlet å’Œ JSP è§„èŒƒï¼Œé…ç½®çµæ´»ï¼Œæ–‡æ¡£å®Œå–„ã€‚ä½†ç°åœ¨ Spring Boot å†…åµŒæœåŠ¡å™¨ä¸€é”®å¯åŠ¨ï¼Œè°è¿˜å•ç‹¬éƒ¨ç½² Tomcat å•Šï¼Ÿè€Œä¸”ä½ æ•¢ä¿¡ï¼Œç”šè‡³æœ‰åŒå­¦éƒ½ä¸çŸ¥é“ Tomcatï¼è€Œä¸”å®ƒçš„æ€§èƒ½ä¹Ÿä¸å¦‚ Undertowã€‚æ—¶ä»£å˜äº†ï¼Œåªèƒ½ç»™åˆ° <strong>NPC</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1acd2c7d35e344f79d5807c7f24f7036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=NX%2BOx74Vb9zH017TCnfhPhYf8nc%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-28">27ã€Struts ã€æ‹‰ã€‘</h4>
<p>Java Web æ¡†æ¶çš„è€å¤è‘£ï¼ŒMVC æ¡†æ¶çš„å…ˆé©±ã€‚æ›¾ç»é£å…‰ä¸€æ—¶ï¼Œå’Œ Springã€Hibernate ç»„æˆ SSH ä¸‰å‰‘å®¢ã€‚ä½†æ¶æ„è€æ—§ã€æ¼æ´é¢‘å‡ºã€æ€§èƒ½ä¸€èˆ¬ã€å­¦ä¹ æˆæœ¬é«˜ï¼Œç°åœ¨åº”è¯¥æ²¡æœ‰æ–°é¡¹ç›®åœ¨ç”¨äº†å§ï¼Ÿå¦¥å¦¥çš„ <strong>æ‹‰ä¸­æ‹‰</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad5c8eb9939842d082d510bc4aa4e811~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=rOUxm8vl1AtlQI5LCyd7ClId60U%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-29">28ã€JSP ã€æ‹‰ã€‘</h4>
<p>Java æœåŠ¡ç«¯é¡µé¢æŠ€æœ¯ï¼Œå‰åç«¯æ··åˆå¼€å‘çš„äº§ç‰©ã€‚æŠŠ Java ä»£ç å’Œ HTML æ··åœ¨ä¸€èµ·å†™ï¼Œæ€§èƒ½å·®ã€è°ƒè¯•å›°éš¾ã€ä»£ç æ··ä¹±ï¼Œç»´æŠ¤èµ·æ¥ç®€ç›´æ˜¯å™©æ¢¦ã€‚</p>
<p>ç°åœ¨éƒ½å‰åç«¯åˆ†ç¦»äº†ï¼Œè°è¿˜ç”¨ JSP å•Šï¼Ÿç»™åˆ° <strong>æ‹‰</strong>ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/394d11d796eb47838df9ef2f1154c3b9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=9YIiJpwMu6G86vLgs7Ad20urnW4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-30">æœ€å</h2>
<p>æœ€ç»ˆæ’è¡Œå¦‚å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f558c44b8edc482ea3debe8cbcaa40a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767002948&amp;x-signature=rCfiCevcX1pMxWAR9cf07ZkBf5g%3D" alt="" loading="lazy"/></p>
<p>OK å°±åˆ†äº«åˆ°è¿™é‡Œï¼Œå¦‚æœä½ ä»¬è¿˜æƒ³çœ‹å“ªäº›æŠ€æœ¯çš„æ’åï¼Œæˆ–è€…ä½ è§‰å¾—å“ªä¸ªæŠ€æœ¯çš„æ’åä¸åˆç†ï¼Œéƒ½å¯ä»¥åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘å“¦ã€‚æˆ‘æ˜¯é±¼çš®ï¼Œå…³æ³¨æˆ‘ï¼Œå¸¦ä½ è§£é”æ›´å¤šç¼–ç¨‹å’Œ AI çŸ¥è¯†~</p>
<h2 data-id="heading-31">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ç¿»è¯‘ã€‘adb screenrecord å¸®åŠ©æ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7586491717872877587</link>    <guid>https://juejin.cn/post/7586491717872877587</guid>    <pubDate>2025-12-22T10:13:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586491717872877587" data-draft-id="7586479864271667206" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ç¿»è¯‘ã€‘adb screenrecord å¸®åŠ©æ–‡æ¡£"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-22T10:13:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æ€¡æ—¸"/> <meta itemprop="url" content="https://juejin.cn/user/2875978146656750"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ç¿»è¯‘ã€‘adb screenrecord å¸®åŠ©æ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978146656750/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æ€¡æ—¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:13:55.000Z" title="Mon Dec 22 2025 10:13:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å°†è®¾å¤‡å±å¹•å½•åˆ¶ä¸º .mp4 æ–‡ä»¶ã€‚</p>
</blockquote>
<pre><code class="hljs language-lua" lang="lua">é€‰é¡¹ï¼š  
<span class="hljs-comment">--size å®½åº¦xé«˜åº¦  </span>
è®¾ç½®è§†é¢‘å°ºå¯¸ï¼Œä¾‹å¦‚ <span class="hljs-string">"1280x720"</span>ã€‚é»˜è®¤ä½¿ç”¨è®¾å¤‡ä¸»æ˜¾ç¤ºå±åˆ†è¾¨ç‡ï¼ˆè‹¥æ”¯æŒï¼‰ï¼Œå¦åˆ™ä½¿ç”¨ <span class="hljs-number">1280</span>x720ã€‚ä¸ºè·å¾—æœ€ä½³æ•ˆæœï¼Œè¯·ä½¿ç”¨ AVC ç¼–ç å™¨æ”¯æŒçš„å°ºå¯¸ã€‚  
<span class="hljs-comment">--bit-rate é€Ÿç‡  </span>
è®¾ç½®è§†é¢‘æ¯”ç‰¹ç‡ï¼ˆå•ä½ï¼šæ¯”ç‰¹/ç§’ï¼‰ã€‚æ•°å€¼å¯ç›´æ¥ä»¥æ¯”ç‰¹æˆ–å…†æ¯”ç‰¹è¡¨ç¤ºï¼Œä¾‹å¦‚ <span class="hljs-string">'4000000'</span> ç­‰åŒäº <span class="hljs-string">'4M'</span>ã€‚é»˜è®¤å€¼ä¸º <span class="hljs-number">20</span>Mbpsã€‚  
<span class="hljs-comment">--bugreport  </span>
åœ¨å½•åˆ¶çš„è§†é¢‘ä¸­æ·»åŠ é¢å¤–ä¿¡æ¯ï¼ˆå¦‚æ—¶é—´æˆ³å åŠ å±‚ï¼‰ï¼Œä¾¿äºåœ¨æäº¤æ•…éšœæŠ¥å‘Šæ—¶æä¾›æ›´è¯¦å®çš„ç”»é¢è®°å½•ã€‚  
<span class="hljs-comment">--time-limit æ—¶é•¿  </span>
è®¾ç½®æœ€å¤§å½•åˆ¶æ—¶é•¿ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚é»˜è®¤å€¼ä¸º <span class="hljs-number">180</span>ã€‚è®¾ç½®ä¸º <span class="hljs-number">0</span> å¯å–æ¶ˆæ—¶é•¿é™åˆ¶ã€‚  
<span class="hljs-comment">--display-id ç¼–å·  </span>
æŒ‡å®šè¦å½•åˆ¶çš„ç‰©ç†æ˜¾ç¤ºå±ç¼–å·ã€‚é»˜è®¤ä¸ºä¸»æ˜¾ç¤ºå±ã€‚å¯é€šè¿‡ <span class="hljs-string">"dumpsys SurfaceFlinger --display-id"</span> æŸ¥çœ‹æœ‰æ•ˆçš„æ˜¾ç¤ºå±ç¼–å·ã€‚  
<span class="hljs-comment">--poweron ç¼–å·  </span>
å¼€å¯æŒ‡å®šç‰©ç†æ˜¾ç¤ºå±åé€€å‡ºï¼Œä¸è¿›è¡Œå½•åˆ¶ã€‚  
å¯é€šè¿‡ <span class="hljs-string">"dumpsys SurfaceFlinger --display-id"</span> æŸ¥çœ‹æœ‰æ•ˆçš„æ˜¾ç¤ºå±ç¼–å·ã€‚  
<span class="hljs-comment">--poweroff ç¼–å·  </span>
å…³é—­æŒ‡å®šç‰©ç†æ˜¾ç¤ºå±åé€€å‡ºï¼Œä¸è¿›è¡Œå½•åˆ¶ã€‚  
å¯é€šè¿‡ <span class="hljs-string">"dumpsys SurfaceFlinger --display-id"</span> æŸ¥çœ‹æœ‰æ•ˆçš„æ˜¾ç¤ºå±ç¼–å·ã€‚  
<span class="hljs-comment">--verbose  </span>
åœ¨æ ‡å‡†è¾“å‡ºä¸­æ˜¾ç¤ºè¯¦ç»†è¿è¡Œä¿¡æ¯ã€‚  
<span class="hljs-comment">--help  </span>
æ˜¾ç¤ºæœ¬å¸®åŠ©ä¿¡æ¯ã€‚
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Nuxt 3 é¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°å®å¡”æœåŠ¡å™¨å…¨æ”»ç•¥ (GitHub Actions + rsync)]]></title>    <link>https://juejin.cn/post/7586338196302037038</link>    <guid>https://juejin.cn/post/7586338196302037038</guid>    <pubDate>2025-12-22T10:19:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586338196302037038" data-draft-id="7586482860103696411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Nuxt 3 é¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°å®å¡”æœåŠ¡å™¨å…¨æ”»ç•¥ (GitHub Actions + rsync)"/> <meta itemprop="keywords" content="è‡ªåŠ¨åŒ–è¿ç»´"/> <meta itemprop="datePublished" content="2025-12-22T10:19:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥èˆªé©¿ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/4125023356335576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Nuxt 3 é¡¹ç›®è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°å®å¡”æœåŠ¡å™¨å…¨æ”»ç•¥ (GitHub Actions + rsync)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023356335576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥èˆªé©¿ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:19:16.000Z" title="Mon Dec 22 2025 10:19:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æŒ‡å—è¯¦ç»†ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ GitHub Actions æŒç»­é›†æˆå·¥å…·ï¼Œå°† Nuxt 3 é¡¹ç›®ï¼ˆé™æ€ç”Ÿæˆ SSG æ¨¡å¼ï¼‰è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°å®å¡”é¢æ¿æœåŠ¡å™¨ã€‚</p>
<ul>
<li><strong>ğŸš€ æ¼”ç¤ºåœ°å€</strong>: <a href="https://link.juejin.cn?target=http%3A%2F%2Fnuxt.haiwb.com%2F" target="_blank" title="http://nuxt.haiwb.com/" ref="nofollow noopener noreferrer">nuxt.haiwb.com/</a></li>
<li><strong>ğŸ“– é¡¹ç›®æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fhangjob.github.io%2Fnuxt-web-plugin%2F" target="_blank" title="https://hangjob.github.io/nuxt-web-plugin/" ref="nofollow noopener noreferrer">hangjob.github.io/nuxt-web-plâ€¦</a></li>
</ul>
<hr/>
<h2 data-id="heading-0">æ’ä»¶ä»‹ç»</h2>
<p><code>nuxt-web-plugin</code> æ˜¯ä¸€æ¬¾é¢å‘ <strong>Nuxt 3/4</strong> çš„å…¨èƒ½å¢å¼ºæ’ä»¶ï¼Œæ—¨åœ¨æå‡å¼€å‘ä½“éªŒï¼ˆDXï¼‰å¹¶ä¸ºåº”ç”¨æä¾›åšå®çš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§ï¼š</h3>
<ul>
<li><strong>ğŸ” æ·±åº¦å®‰å…¨é˜²æŠ¤</strong>: é›†æˆ AES-GCM å¯¹ç§°åŠ å¯†ã€RSA éå¯¹ç§°åŠ å¯†åŠ SHA-256 å“ˆå¸Œç®—æ³•ï¼Œæ”¯æŒåŠ å¯†å­˜å‚¨ï¼ˆStorage/Cookieï¼‰ã€‚</li>
<li><strong>ğŸ›°ï¸ æ™ºèƒ½è¯·æ±‚å°è£…</strong>: åŸºäº <code>$fetch</code> çš„ç»Ÿä¸€ç½‘ç»œå±‚ï¼Œå†…ç½® <strong>è‡ªåŠ¨å»é‡ (Dedupe)</strong>ã€<strong>çŸ­æ—¶ç¼“å­˜ (Cache)</strong> å’Œ <strong>å¹¶å‘é” (Lock)</strong>ï¼Œæœ‰æ•ˆé˜²æ­¢é‡å¤è¯·æ±‚ã€‚</li>
<li><strong>ğŸ–¼ï¸ é¡µé¢æ°´å°ç³»ç»Ÿ</strong>: åŠ¨æ€ Canvas æ°´å°ï¼Œæ”¯æŒé˜²ç¯¡æ”¹ç›‘æµ‹ï¼ˆAnti-Tamperï¼‰ï¼Œä¿æŠ¤é¡µé¢å†…å®¹ç‰ˆæƒã€‚</li>
<li><strong>ğŸ” SEO &amp; è®¾å¤‡æ£€æµ‹</strong>: è‡ªåŠ¨å…ƒæ ‡ç­¾ç”Ÿæˆä¸ç§»åŠ¨ç«¯/å¹³æ¿/æ¡Œé¢ç«¯ç²¾å‡†è¯†åˆ«ã€‚</li>
<li><strong>ğŸ¨ ç»ç’ƒæ‹Ÿæ€å¸ƒå±€</strong>: å†…ç½®ä¸€å¥—ç°ä»£åŒ–çš„æ’ä»¶æ§åˆ¶å°æ¨¡æ¿ï¼Œå®Œç¾æ”¯æŒ Tailwind æš—è‰²æ¨¡å¼ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">ä¸€ã€ å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-3">1.1 æœåŠ¡å™¨ç¯å¢ƒ</h3>
<ul>
<li>ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£… <strong>å®å¡”é¢æ¿</strong>ã€‚</li>
<li>åœ¨å®å¡”é¢æ¿ä¸­åˆ›å»ºä¸€ä¸ª <strong>é™æ€ç½‘ç«™</strong>ï¼ˆæˆ– PHP ç½‘ç«™ï¼Œä½†æˆ‘ä»¬åªéœ€å…¶é™æ€èƒ½åŠ›ï¼‰ã€‚</li>
<li>è®°ä½ä½ çš„ç½‘ç«™æ ¹ç›®å½•ï¼Œä¾‹å¦‚ï¼š<code>/www/wwwroot/nuxt.haiwb.com</code>ã€‚</li>
</ul>
<h3 data-id="heading-4">1.2 ç”Ÿæˆ SSH å¯†é’¥å¯¹</h3>
<p>åœ¨ä½ çš„æœ¬åœ°ç»ˆç«¯æˆ–æœåŠ¡å™¨æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ˆå»ºè®®åœ¨æœåŠ¡å™¨æ‰§è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆå¯†é’¥å¯¹ (ed25519 ç®—æ³•æ›´å®‰å…¨ä¸”ç®€çŸ­)</span>
ssh-keygen -t ed25519 -C <span class="hljs-string">"github-actions-deploy"</span>
</code></pre>
<ol>
<li><strong>å…¬é’¥ (<code>.pub</code>)</strong>: å°†å†…å®¹å¤åˆ¶å¹¶æ·»åŠ åˆ°æœåŠ¡å™¨çš„ <code>~/.ssh/authorized_keys</code> æ–‡ä»¶ä¸­ã€‚</li>
<li><strong>ç§é’¥</strong>: å°†å†…å®¹å®Œæ•´å¤åˆ¶ï¼Œä¸‹ä¸€æ­¥ä½¿ç”¨ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-5">äºŒã€ GitHub ä»“åº“é…ç½®</h2>
<p>è¿›å…¥ä½ çš„ GitHub é¡¹ç›®ä»“åº“ï¼Œç‚¹å‡» <code>Settings -&gt; Secrets and variables -&gt; Actions</code>ï¼Œç‚¹å‡» <code>New repository secret</code> æ·»åŠ ä»¥ä¸‹å˜é‡ï¼š</p>






























<table><thead><tr><th align="left">å˜é‡å</th><th align="left">è¯´æ˜</th><th align="left">ç¤ºä¾‹å€¼</th></tr></thead><tbody><tr><td align="left"><code>SERVER_SSH_KEY</code></td><td align="left">åˆšæ‰ç”Ÿæˆçš„ <strong>ç§é’¥</strong> å†…å®¹</td><td align="left"><code>-----BEGIN OPENSSH PRIVATE KEY----- ...</code></td></tr><tr><td align="left"><code>SERVER_HOST</code></td><td align="left">æœåŠ¡å™¨å…¬ç½‘ IP æˆ–åŸŸå</td><td align="left"><code>1.2.3.4</code> æˆ– <code>nuxt.haiwb.com</code></td></tr><tr><td align="left"><code>SERVER_USER</code></td><td align="left">SSH ç™»å½•å</td><td align="left"><code>root</code> (å»ºè®®ä½¿ç”¨æœ‰æƒé™çš„æ™®é€šç”¨æˆ·)</td></tr><tr><td align="left"><code>SERVER_TARGET</code></td><td align="left">å®å¡”é¢æ¿ä¸­çš„ç½‘ç«™æ ¹ç›®å½•</td><td align="left"><code>/www/wwwroot/nuxt.haiwb.com</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ ç¼–å†™å·¥ä½œæµæ–‡ä»¶</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.github/workflows/deploy-playground.yml</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">Playground</span> <span class="hljs-string">to</span> <span class="hljs-string">Baota</span>

<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">branches:</span> [<span class="hljs-string">main</span>] <span class="hljs-comment"># ä»…åœ¨ä»£ç æ¨é€åˆ° main åˆ†æ”¯æ—¶è§¦å‘</span>
  <span class="hljs-attr">workflow_dispatch:</span>  <span class="hljs-comment"># æ”¯æŒåœ¨ GitHub Actions é¡µé¢æ‰‹åŠ¨ç‚¹å‡»è¿è¡Œ</span>

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">deploy-to-baota:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">Upload</span> <span class="hljs-string">to</span> <span class="hljs-string">Server</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>

    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Checkout</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">pnpm</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">pnpm/action-setup@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">version:</span> <span class="hljs-number">9</span>
          <span class="hljs-attr">run_install:</span> <span class="hljs-literal">false</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Setup</span> <span class="hljs-string">Node</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">24</span> <span class="hljs-comment"># å…³é”®ï¼šNode ç‰ˆæœ¬éœ€åŒ¹é…é¡¹ç›®è¦æ±‚ (v24.4.1+)</span>
          <span class="hljs-attr">cache:</span> <span class="hljs-string">'pnpm'</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Install</span> <span class="hljs-string">Dependencies</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">pnpm</span> <span class="hljs-string">install</span> <span class="hljs-string">--no-frozen-lockfile</span>

      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Build</span> <span class="hljs-string">Playground</span> <span class="hljs-string">(Static)</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">|
          # å‡†å¤‡æ¨¡å—ç¯å¢ƒ
          pnpm run dev:prepare
          cd playground
          # ç”Ÿæˆé™æ€æ–‡ä»¶ (SSG)
          npx nuxi generate 
          echo "Build Output Check:"
          ls -R .output/public/ # æ‰“å°æ„å»ºç»“æœï¼Œæ–¹ä¾¿æ’æŸ¥è·¯å¾„é—®é¢˜
</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Deploy</span> <span class="hljs-string">to</span> <span class="hljs-string">Server</span>
        <span class="hljs-attr">uses:</span> <span class="hljs-string">easingthemes/ssh-deploy@main</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-comment"># SSH ç§é’¥</span>
          <span class="hljs-attr">SSH_PRIVATE_KEY:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.SERVER_SSH_KEY</span> <span class="hljs-string">}}</span>
          <span class="hljs-comment"># è¿œç¨‹ä¸»æœºä¿¡æ¯</span>
          <span class="hljs-attr">REMOTE_HOST:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.SERVER_HOST</span> <span class="hljs-string">}}</span>
          <span class="hljs-attr">REMOTE_USER:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.SERVER_USER</span> <span class="hljs-string">}}</span>
          <span class="hljs-attr">TARGET:</span> <span class="hljs-string">${{</span> <span class="hljs-string">secrets.SERVER_TARGET</span> <span class="hljs-string">}}</span>
          <span class="hljs-comment"># éƒ¨ç½²æºç›®å½• (Nuxt 3 SSG äº§ç‰©è·¯å¾„)</span>
          <span class="hljs-attr">SOURCE:</span> <span class="hljs-string">"playground/.output/public/"</span>
          <span class="hljs-comment"># rsync å‚æ•°: r(é€’å½’), l(é“¾æ¥), g(ç»„), o(æ‰€æœ‰è€…), D(è®¾å¤‡), z(å‹ç¼©), v(è¯¦ç»†), c(æ ¡éªŒ), --delete(åˆ é™¤å¤šä½™æ–‡ä»¶)</span>
          <span class="hljs-attr">ARGS:</span> <span class="hljs-string">"-rlgoDzvc -i --delete"</span>
          <span class="hljs-comment"># å…³é”®æ’å‘ï¼šæ’é™¤æœåŠ¡å™¨ç³»ç»Ÿé”å®šçš„æ–‡ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥ Operation not permitted (rsync code 23)</span>
          <span class="hljs-attr">EXCLUDE:</span> <span class="hljs-string">"/.user.ini, /.htaccess, /.well-known/, /cgi-bin/"</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">å››ã€ æ ¸å¿ƒé¿å‘æŒ‡å— (Troubleshooting)</h2>
<h3 data-id="heading-8">4.1 Node å¼•æ“ç‰ˆæœ¬æŠ¥é”™</h3>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>: <code>Unsupported engine: wanted: {"node":"&gt;=24.4.1"}</code>
<strong>åŸå› </strong>: é¡¹ç›® <code>package.json</code> é™åˆ¶äº†é«˜ç‰ˆæœ¬ Nodeï¼Œè€Œ GitHub Actions é»˜è®¤ç¯å¢ƒè¾ƒä½ã€‚
<strong>å¯¹ç­–</strong>: åœ¨ <code>actions/setup-node</code> æ­¥éª¤ä¸­æ˜ç¡®æŒ‡å®š <code>node-version: 24</code>ã€‚</p>
<h3 data-id="heading-9">4.2 é¢„æ¸²æŸ“æ­»é“¾æŠ¥é”™</h3>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>: <code>Exiting due to prerender errors</code>
<strong>åŸå› </strong>: Nuxt 3 åœ¨ <code>generate</code> è¿‡ç¨‹ä¸­ä¼šæ£€æŸ¥æ‰€æœ‰é“¾æ¥ï¼Œå¦‚æœå‘ç°æŒ‡å‘ <code>/docs</code> ç­‰ä¸å­˜åœ¨çš„å†…éƒ¨è·¯å¾„ä¼šæŠ¥é”™ã€‚
<strong>å¯¹ç­–</strong>:</p>
<ol>
<li>åœ¨ <code>nuxt.config.ts</code> ä¸­é…ç½® <code>nitro: { prerender: { failOnError: false } }</code>ã€‚</li>
<li>å°†å¤–éƒ¨é“¾æ¥æˆ–ç‹¬ç«‹éƒ¨ç½²çš„é“¾æ¥æ”¹ä¸ºç»å¯¹è·¯å¾„ï¼ˆå¦‚ <code>https://...</code>ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-10">4.3 rsync exited with code 23</h3>
<p><strong>é”™è¯¯ä¿¡æ¯</strong>: <code>unlink(.user.ini) failed: Operation not permitted (1)</code>
<strong>åŸå› </strong>: å®å¡”é¢æ¿ä¼šè‡ªåŠ¨åœ¨ç½‘ç«™ç›®å½•åˆ›å»º <code>.user.ini</code> å¹¶é”å®šï¼ˆ<code>i</code> æƒé™ï¼‰ã€‚<code>rsync</code> å°è¯•åˆ é™¤è¯¥æ–‡ä»¶ä»¥ä¾¿åŒæ­¥æ—¶ä¼šè¢«æ‹¦æˆªã€‚
<strong>å¯¹ç­–</strong>: åœ¨éƒ¨ç½²è„šæœ¬ä¸­ä½¿ç”¨ <code>EXCLUDE</code> é…ç½®å°†å…¶æ’é™¤æ‰ã€‚</p>
<hr/>
<h2 data-id="heading-11">äº”ã€ Nginx ä¼ªé™æ€è®¾ç½® (éå¸¸é‡è¦)</h2>
<p>ä¸ºäº†è®© Nuxt çš„å®¢æˆ·ç«¯è·¯ç”±æ­£å¸¸å·¥ä½œï¼Œè¯·åœ¨å®å¡”é¢æ¿çš„ç½‘ç«™è®¾ç½® -&gt; <strong>ä¼ªé™æ€</strong> ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">location / {
  # ä¼˜å…ˆå¯»æ‰¾æ–‡ä»¶å’Œç›®å½•ï¼Œæ‰¾ä¸åˆ°åˆ™ fallback åˆ° index.html è®© Vue å¤„ç†è·¯ç”±
  try_files $uri $uri/ /index.html;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# HologresÂ DynamicÂ Tableï¼šé«˜æ•ˆå¢é‡åˆ·æ–°ï¼Œæ„å»ºå®æ—¶ç»Ÿä¸€æ•°ä»“çš„æ ¸å¿ƒåˆ©å™¨]]></title>    <link>https://juejin.cn/post/7586493936677257256</link>    <guid>https://juejin.cn/post/7586493936677257256</guid>    <pubDate>2025-12-22T10:24:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677257256" data-draft-id="7586493936676929576" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# HologresÂ DynamicÂ Tableï¼šé«˜æ•ˆå¢é‡åˆ·æ–°ï¼Œæ„å»ºå®æ—¶ç»Ÿä¸€æ•°ä»“çš„æ ¸å¿ƒåˆ©å™¨"/> <meta itemprop="keywords" content="æ•°æ®åˆ†æ,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-22T10:24:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # HologresÂ DynamicÂ Tableï¼šé«˜æ•ˆå¢é‡åˆ·æ–°ï¼Œæ„å»ºå®æ—¶ç»Ÿä¸€æ•°ä»“çš„æ ¸å¿ƒåˆ©å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:24:42.000Z" title="Mon Dec 22 2025 10:24:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¼ä¸šæ•°æ®æ¶æ„é€æ­¥èµ°å‘å®æ—¶åŒ–ä¸ä¸€ä½“åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•é«˜æ•ˆå¤„ç†â€œå¤§é‡å†å²Â +Â å°‘é‡æ–°å¢â€çš„ä¸šåŠ¡æ•°æ®ï¼Œå·²æˆä¸ºå»ºè®¾ç»Ÿä¸€æ•°ä»“ä¸å®æ—¶æ•°ä»“æ—¶ç»•ä¸å¼€çš„å…³é”®æŒ‘æˆ˜ã€‚</p>
<p>ä¼ ç»Ÿå…¨é‡åˆ·æ–°æ–¹å¼åœ¨é¢å¯¹äº¿çº§å†å²æ•°æ®æ—¶ï¼Œå¾€å¾€é¢ä¸´åˆ·æ–°å»¶è¿Ÿé«˜ã€è®¡ç®—æˆæœ¬å¤§ã€é“¾è·¯å¤æ‚ç­‰é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›ç—›ç‚¹ï¼Œä¸šç•Œé€æ¸å½¢æˆäº†ä¸€ç§æ–°çš„æ•°æ®å¤„ç†èŒƒå¼â€”â€”DynamicÂ Tableï¼ˆåŠ¨æ€è¡¨ï¼‰ï¼Œå®ƒé€šè¿‡å£°æ˜å¼è¯­æ³•è‡ªåŠ¨ç»´æŠ¤ç‰©åŒ–ç»“æœï¼Œå¹¶æ”¯æŒé«˜æ•ˆçš„å¢é‡åˆ·æ–°èƒ½åŠ›ã€‚</p>
<p>é˜¿é‡Œäº‘Â HologresÂ ä½œä¸ºé«˜æ€§èƒ½å®æ—¶æ•°ä»“å¼•æ“ï¼ŒåŸç”Ÿæä¾›äº†Â DynamicÂ Tableï¼Œå¹¶åŸºäºæœ‰çŠ¶æ€å¢é‡è®¡ç®—æ¨¡å‹ï¼Œåœ¨å¤šè¡¨å…³è”ã€èšåˆç­‰å¤æ‚åœºæ™¯ä¸‹å±•ç°å‡ºæ˜¾è‘—æ€§èƒ½ä¼˜åŠ¿ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æÂ HologresÂ DynamicÂ TableÂ çš„æŠ€æœ¯åŸç†ä¸å®è·µä»·å€¼ã€‚</p>
<h2 data-id="heading-0"><strong>ä¸ºä»€ä¹ˆéœ€è¦å¢é‡åˆ·æ–°èƒ½åŠ›ï¼Ÿ</strong></h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a7cbfe82f53407f8b20fd0266ebe284~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=g0JORnr3f8EAYl1mmUoq%2BhXDHsU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">å…¸å‹ä¸šåŠ¡åœºæ™¯</h3>
<p>åœ¨ç”µå•†ã€äº’è”ç½‘ã€é‡‘èç­‰è¡Œä¸šï¼Œä»¥ä¸‹åœºæ™¯æä¸ºå¸¸è§ï¼š</p>
<p><strong>å®æ—¶è¿è¥åˆ†æ</strong></p>
<ul>
<li>
<p>è®¢å•ã€æ”¯ä»˜ã€é€€æ¬¾ç­‰å¤šæºæ•°æ®ï¼ŒæŒ‰ç”¨æˆ·ã€å•†å“ã€æ´»åŠ¨ç­‰ç»´åº¦è¿›è¡Œå…³è”ä¸èšåˆï¼Œå½¢æˆå®æ—¶è¿è¥çœ‹æ¿ï¼›</p>
</li>
<li>
<p>è¿è¥ä¸ä¸šåŠ¡å›¢é˜Ÿå¸Œæœ›ä»¥åˆ†é’Ÿçº§ã€ç”šè‡³æ›´é«˜é¢‘ç‡åˆ·æ–°æ ¸å¿ƒæŒ‡æ ‡ã€‚</p>
</li>
</ul>
<p><strong>ç”¨æˆ·ä¸å•†å“ç‰¹å¾æ„å»º</strong></p>
<ul>
<li>
<p>å°†ç”¨æˆ·ä¿¡æ¯ã€è¡Œä¸ºæ•°æ®ã€è®¢å•æ•°æ®ã€å•†å“ä¿¡æ¯ã€æ”¯ä»˜ä¿¡æ¯ç­‰å¤šå¼ è¡¨è¿›è¡ŒÂ Joinï¼Œç”Ÿæˆç»Ÿä¸€çš„ç‰¹å¾å®½è¡¨ï¼›</p>
</li>
<li>
<p>è¿™äº›å®½è¡¨é€šå¸¸æ˜¯æ¨èã€é£æ§ã€ç”»åƒç­‰åº”ç”¨çš„è¾“å…¥ï¼Œéœ€è¦ç¨³å®šã€å¿«é€Ÿåœ°æ›´æ–°ã€‚</p>
</li>
</ul>
<p><strong>èµ„é‡‘ä¸äº¤æ˜“ç›‘æ§</strong></p>
<ul>
<li>äº¤æ˜“æµæ°´ã€è´¦æˆ·ä¿¡æ¯ã€é£æ§ç»“æœç­‰æ•°æ®æºä¸æ–­äº§ç”Ÿæ–°çš„è®°å½•ï¼›éœ€è¦ä»¥è¾ƒçŸ­çš„åˆ·æ–°é—´éš”è®¡ç®—èšåˆæŒ‡æ ‡æˆ–é£æ§ç‰¹å¾ã€‚</li>
</ul>
<p>è¿™äº›åœºæ™¯çš„å…±åŒç‰¹ç‚¹æ˜¯ï¼š</p>
<blockquote>
<p><strong>å†å²æ•°æ®è§„æ¨¡åºå¤§ï¼ˆäº¿çº§ï¼‰ï¼Œä½†æ¯æ¬¡æ–°å¢æˆ–å˜æ›´çš„æ•°æ®é‡å¾ˆå°ï¼ˆé€šå¸¸Â &lt;1%ï¼‰ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-2">ä¼ ç»Ÿæ•°æ®åŠ å·¥çš„å±€é™</h3>
<p>åœ¨ç¼ºå°‘å¢é‡å¼•æ“çš„æƒ…å†µä¸‹ï¼Œå¸¸è§åšæ³•æ˜¯ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨ä¸€æ¡æˆ–å¤šæ¡Â SQLÂ å®šä¹‰ç›®æ ‡å®½è¡¨æˆ–æ±‡æ€»è¡¨ï¼›</p>
</li>
<li>
<p>å®šæ—¶æ‰§è¡Œå…¨é‡è®¡ç®—ï¼ˆå¦‚Â INSERTÂ OVERWRITEã€CTASï¼‰ï¼Œæ¯æ¬¡ä»åŸºè¡¨å®Œæ•´æ‰«ææ•°æ®ã€æ‰§è¡Œå¤šè¡¨Â Joinã€å†è¿›è¡Œèšåˆï¼›</p>
</li>
<li>
<p>é€šè¿‡è°ƒåº¦ç³»ç»Ÿç¼–æ’ä¸Šæ¸¸ä»»åŠ¡å’Œä¸‹æ¸¸ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–ã€‚</p>
</li>
</ul>
<p>è¿™ç§æ¨¡å¼å­˜åœ¨è‹¥å¹²æ˜æ˜¾ä¸è¶³ï¼š</p>
<ul>
<li>
<p><strong>åˆ·æ–°æ—¶å»¶å—é™ï¼š</strong> æ•°æ®è§„æ¨¡å¢å¤§åï¼Œæ¯æ¬¡å…¨é‡æ‰«æå’Œè®¡ç®—è€—æ—¶è¾ƒé•¿ã€‚å½“ä¸šåŠ¡å¸Œæœ›ä»â€œæ¯å°æ—¶åˆ·æ–°â€æå‡åˆ°â€œæ¯Â 5Â åˆ†é’Ÿåˆ·æ–°â€æ—¶ï¼Œå¾€å¾€éœ€è¦æˆå€å¢åŠ è®¡ç®—èµ„æºï¼Œä¹Ÿå¯èƒ½é‡åˆ°ç‰©ç†èµ„æºä¸Šé™ã€‚</p>
</li>
<li>
<p><strong>è®¡ç®—æˆæœ¬è¾ƒé«˜</strong>ï¼šå³ä½¿æ¯æ¬¡åªæœ‰Â 1%Â å·¦å³çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œå…¨é‡æ¨¡å¼ä»éœ€å¯¹Â 100%Â æ•°æ®è¿›è¡Œæ‰«æå’Œè®¡ç®—ï¼ŒCPUã€IOÂ å’Œç½‘ç»œèµ„æºåˆ©ç”¨æ•ˆç‡ä¸é«˜ã€‚</p>
</li>
<li>
<p><strong>é“¾è·¯å¤æ‚ï¼Œç»´æŠ¤æˆæœ¬é«˜</strong>ï¼šä¸ºé™ä½å•ä»»åŠ¡å‹åŠ›ï¼Œå·¥ç¨‹å®è·µä¸­å¸¸å°†å¤æ‚é€»è¾‘æ‹†è§£ä¸ºå¤šå±‚ä¸­é—´è¡¨ï¼Œå½¢æˆè¾ƒé•¿çš„ä»»åŠ¡é“¾è·¯ã€‚é“¾è·¯è¶Šé•¿ï¼Œä¾èµ–è¶Šå¤šï¼Œç»´æŠ¤éš¾åº¦å’Œå˜æ›´é£é™©ä¹Ÿéšä¹‹ä¸Šå‡ã€‚</p>
</li>
</ul>
<p>å› æ­¤ï¼Œåœ¨â€œå†å²æ•°æ®é‡å¤§ã€å®æ—¶æ•°æ®å®æ—¶äº§ç”Ÿâ€çš„åœºæ™¯ä¸‹ï¼Œå¼•å…¥çœŸæ­£é«˜æ•ˆçš„å¢é‡åˆ·æ–°æœºåˆ¶ï¼Œæ˜¯æå‡æ•°æ®æ—¶æ•ˆä¸é™ä½èµ„æºåˆ©ç”¨ç‡çš„å…³é”®ã€‚</p>
<h2 data-id="heading-3">äºŒã€ä»€ä¹ˆæ˜¯Â DynamicÂ Tableï¼ŸHologresÂ çš„å¢é‡åˆ·æ–°å¦‚ä½•å·¥ä½œï¼Ÿ</h2>
<p>DynamicÂ Tableæ˜¯å½“å‰ä¸€ç§ä¸»æµçš„å£°æ˜å¼æ•°æ®å¤„ç†æ¶æ„ï¼Œè¯¥æ¶æ„å¯ä»¥è‡ªåŠ¨å¤„ç†å¹¶å­˜å‚¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŸºè¡¨ï¼ˆBaseÂ Tableï¼‰å¯¹è±¡çš„æ•°æ®å…³è”ã€èšåˆç»“æœï¼Œå†…ç½®ä¸åŒçš„æ•°æ®åˆ·æ–°ç­–ç•¥ï¼Œä¸šåŠ¡å¯ä»¥æ ¹æ®éœ€æ±‚è®¾ç½®ä¸åŒçš„æ•°æ®åˆ·æ–°ç­–ç•¥ï¼Œå®ç°æ•°æ®ä»åŸºè¡¨å¯¹è±¡åˆ°DynamicÂ Tableçš„è‡ªåŠ¨æµè½¬ï¼Œæ»¡è¶³ä¸šåŠ¡ç»Ÿä¸€å¼€å‘ã€æ•°æ®è‡ªåŠ¨æµè½¬ã€å¤„ç†æ—¶æ•ˆæ€§ç­‰è¯‰æ±‚ã€‚</p>
<p>å¢é‡ï¼ˆincrementalï¼‰ã€å…¨é‡ï¼ˆfullï¼‰æ˜¯DynamicÂ Tableçš„ä¸¤ç§ä¸åŒåˆ·æ–°æ–¹å¼ï¼Œåº•å±‚å®ç°åŸç†å…·æœ‰æ˜¾è‘—çš„å·®å¼‚ï¼š</p>
<ul>
<li>
<p><strong>å…¨é‡åˆ·æ–°</strong>æ˜¯æŒ‡æ¯æ¬¡æ‰§è¡Œåˆ·æ–°æ—¶ï¼Œéƒ½ä»¥å…¨é‡çš„æ–¹å¼è¿›è¡Œæ•°æ®å¤„ç†ï¼Œå¹¶å°†åŸºè¡¨çš„å…³è”ã€èšåˆç»“æœç‰©åŒ–å†™å…¥DynamicÂ Tableï¼Œå…¶æŠ€æœ¯åŸç†ç±»ä¼¼äºINSERTÂ OVERWRITEã€‚</p>
</li>
<li>
<p><strong>å¢é‡åˆ·æ–°</strong>æ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡åˆ·æ–°æ—¶åªä¼šè¯»å–åŸºè¡¨ä¸­<strong>æ–°å¢</strong>çš„æ•°æ®ï¼Œæ ¹æ®ä¸­é—´èšåˆçŠ¶æ€å’Œå¢é‡æ•°æ®è®¡ç®—æœ€ç»ˆç»“æœå¹¶æ›´æ–°åˆ°DynamicÂ Tableä¸­ã€‚ç›¸æ¯”å…¨é‡åˆ·æ–°ï¼Œå¢é‡åˆ·æ–°æ¯æ¬¡å¤„ç†çš„æ•°æ®é‡æ›´å°‘ï¼Œæ•ˆç‡æ›´é«˜ï¼Œä»è€Œå¯ä»¥éå¸¸æœ‰æ•ˆåœ°æå‡åˆ·æ–°ä»»åŠ¡çš„æ—¶æ•ˆæ€§ï¼ŒåŒæ—¶é™ä½è®¡ç®—èµ„æºçš„ä½¿ç”¨ã€‚</p>
</li>
</ul>
<p>å¢é‡DynamicÂ Tableçš„è®¡ç®—éµå¾ªå¦‚ä¸‹è®¡ç®—æ¨¡å¼ï¼š</p>
<ol>
<li>
<p><strong>å¢å…¨é‡åˆ·æ–°</strong>é˜¶æ®µï¼šDynamicÂ Tableçš„ç¬¬ä¸€æ¬¡åˆ·æ–°ä¼šæŠŠå·²æœ‰çš„æ‰€æœ‰å†å²æ•°æ®éƒ½è¿›è¡Œè®¡ç®—ï¼Œå³ç›¸å½“äºæŠŠæ‰€æœ‰å†å²æ•°æ®éƒ½å½“ä½œå¢é‡æ¥è¿›è¡Œè®¡ç®—ã€‚è¿™ä¸€é˜¶æ®µä¸€èˆ¬è€—æ—¶æ¯”è¾ƒé•¿ã€‚</p>
</li>
<li>
<p><strong>å¢é‡åˆ·æ–°</strong>é˜¶æ®µï¼šåœ¨å¢å…¨é‡åˆ·æ–°å®Œæˆåï¼Œä»¥åçš„æ¯æ¬¡DynamicÂ Tableåˆ·æ–°ä»…é’ˆå¯¹å¢é‡æ•°æ®è¿›è¡Œè®¡ç®—ã€‚ç†è®ºä¸Šè¿™äº›åˆ·æ–°åº”è¯¥è€—æ—¶è¾ƒçŸ­ã€‚</p>
</li>
</ol>
<p>åœ¨å¢é‡Â DynamicÂ TableÂ çš„å®ç°ä¸Šï¼Œä¸šç•Œå­˜åœ¨ä¸åŒçš„æŠ€æœ¯è·¯å¾„ã€‚ä¸€ç§å¸¸è§çš„åšæ³•æ˜¯é‡‡ç”¨<strong>æ— çŠ¶æ€å¢é‡è®¡ç®—æ¨¡å‹</strong>ï¼šæ¯æ¬¡åˆ·æ–°æ—¶ï¼Œç³»ç»Ÿä»…åŸºäºæºè¡¨çš„å˜æ›´æ•°æ®ï¼Œé‡æ–°æ¨å¯¼æ•´ä¸ªæŸ¥è¯¢é€»è¾‘ï¼Œè€Œä¸æŒä¹…åŒ–ä»»ä½•ä¸­é—´è®¡ç®—çŠ¶æ€ã€‚è¿™ç§æ–¹å¼è™½ç„¶èŠ‚çœå­˜å‚¨ï¼Œä½†åœ¨é¢å¯¹å¤æ‚æŸ¥è¯¢ï¼ˆå¦‚å¤šè¡¨å…³è”ã€å»é‡èšåˆç­‰ï¼‰æ—¶ï¼Œå¾€å¾€éœ€è¦åå¤æ‰«æå¤§é‡å†å²æ•°æ®ï¼Œå¯¼è‡´åˆ·æ–°æ•ˆç‡ä½ä¸‹ï¼Œç”šè‡³åœ¨æŸäº›åœºæ™¯ä¸‹å¢é‡è®¡ç®—çš„å¼€é”€åè€Œè¶…è¿‡å…¨é‡ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒHologresÂ é‡‡ç”¨äº†<strong>æœ‰çŠ¶æ€å¢é‡è®¡ç®—æ¨¡å‹</strong>ï¼šåœ¨é¦–æ¬¡å…¨é‡æ„å»ºÂ DynamicÂ TableÂ æ—¶ï¼ŒåŒæ­¥ç”Ÿæˆå¹¶æŒä¹…åŒ–å…³é”®çš„ä¸­é—´çŠ¶æ€ï¼ˆä¾‹å¦‚èšåˆç»“æœã€å¤šè¡¨Â JoinÂ çš„ä¸­é—´äº§ç‰©ç­‰ï¼‰ã€‚åç»­çš„å¢é‡åˆ·æ–°åªéœ€å°†æ–°å¢æˆ–å˜æ›´çš„æ•°æ®ä¸è¿™äº›çŠ¶æ€è¡¨è¿›è¡Œé«˜æ•ˆåˆå¹¶ï¼Œæ— éœ€é‡å¤å¤„ç†å†å²æ•°æ®ã€‚è¿™ç§è®¾è®¡ä»¥æœ‰é™ä¸”å¯æ§çš„é¢å¤–å­˜å‚¨å¼€é”€ä¸ºä»£ä»·ï¼Œ<strong>æ˜¾è‘—æå‡äº†å¤æ‚åœºæ™¯ä¸‹çš„åˆ·æ–°æ€§èƒ½å’Œèµ„æºåˆ©ç”¨ç‡ï¼Œå°¤å…¶é€‚åˆâ€œæµ·é‡å†å²Â +Â å°‘é‡å¢é‡â€çš„å…¸å‹ä¸šåŠ¡è´Ÿè½½</strong>ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef1ce8162c9e419db58577aea438cd07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=iMIWUaQcY%2FyfIMzl89kBGuaAgsc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">ä¸‰ã€HologresÂ å¢é‡åˆ·æ–°çš„å®æˆ˜ä¼˜åŠ¿</h2>
<p>æˆ‘ä»¬é€šè¿‡ä¸‰ä¸ªå…¸å‹åœºæ™¯éªŒè¯Â HologresÂ çš„æ€§èƒ½è¡¨ç°ï¼ˆæµ‹è¯•ç¯å¢ƒï¼šHologresÂ 15CUÂ Serverlessï¼Œç«å“é‡‡ç”¨ç›¸ä¼¼è§„æ ¼ï¼‰ã€‚</p>
<p>å¯¹äºå¢é‡æ•°æ®ï¼Œæœ¬å®éªŒæ¨¡æ‹Ÿä¸¤ç§åœºæ™¯ï¼š</p>
<ol>
<li>
<p>AppendÂ onlyï¼šå³æºè¡¨çš„å¢é‡æ•°æ®åªæœ‰æ–°å¢ï¼ˆInsertï¼‰ï¼Œæ²¡æœ‰ä¿®æ”¹ï¼ˆupdateå’Œdeleteï¼‰ã€‚è¿™åœ¨æ—¥å¿—ã€åŸ‹ç‚¹æ•°æ®è¡¨ä¸­éå¸¸å¸¸è§ã€‚</p>
</li>
<li>
<p>Retractionï¼ˆå›æ’¤ï¼‰ï¼šæºè¡¨çš„å¢é‡æ•°æ®åŒ…å«Insertã€Updateå’ŒDeleteçš„æ•°æ®ã€‚è¿™é€‚ç”¨äºæ•°æ®åº“ç±»çš„è¡¨ã€‚</p>
</li>
</ol>
<p>å¯¹äºAppendÂ onlyçš„æºè¡¨ï¼Œå¾ˆå¤šå¢é‡è®¡ç®—ç®—å­éƒ½å¯ä»¥å¤§å¹…ç®€åŒ–ï¼ŒçŠ¶æ€è¡¨ä¹Ÿå¯ä»¥å¤§å¹…ç¼©å°ã€‚æ‰€ä»¥åœ¨æ€§èƒ½ç¯èŠ‚ï¼Œå¯ä»¥çœ‹åˆ°AppendÂ onlyæºè¡¨çš„å¢é‡è®¡ç®—æ€§èƒ½ä¼šæ›´å¥½ã€‚</p>
<h3 data-id="heading-5">åœºæ™¯Â 1ï¼šå•è¡¨èšåˆï¼ˆCOUNTÂ DISTINCTÂ +Â SUMï¼‰</h3>
<p>è¯¥åœºæ™¯ä½¿ç”¨çš„å·¥ä½œè´Ÿè½½å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b309221d209d479a82768c426585c34f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=FDKjWtjkry3tzaxSgdZHcESKBCM%3D" alt="image.png" loading="lazy"/></p>
<p>Hologreså»ºè¡¨SQLå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DYNAMIC</span> <span class="hljs-keyword">TABLE</span> DT_ORDER_DETAIL_AGG <span class="hljs-keyword">with</span> (
    auto_refresh_mode <span class="hljs-operator">=</span> <span class="hljs-string">'incremental'</span>, 
    auto_refresh_enable <span class="hljs-operator">=</span> <span class="hljs-string">'false'</span>, 
    freshness <span class="hljs-operator">=</span> <span class="hljs-string">'1 minutes'</span>
)<span class="hljs-keyword">AS</span> 
<span class="hljs-keyword">SELECT</span>
  PRODUCT_ID,
  <span class="hljs-built_in">COUNT</span>(<span class="hljs-keyword">DISTINCT</span> USER_ID) <span class="hljs-keyword">AS</span> UV,
  <span class="hljs-built_in">SUM</span>(LINE_AMOUNT) <span class="hljs-keyword">AS</span> SUM_LINE_AMOUNT,
  <span class="hljs-built_in">MAX</span>(QUANTITY) <span class="hljs-keyword">AS</span> MAX_QUANTITY
<span class="hljs-keyword">FROM</span> ORDER_DETAIL
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> PRODUCT_ID;
</code></pre>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼ˆå®Œæ•´æµ‹è¯•SQLè§é™„å½•ï¼‰ï¼š</p>



























































<table><thead><tr><th><strong>åˆ·æ–°</strong></th><th><strong>æºè¡¨è¡Œæ•°</strong></th><th/><th><strong>æŸå›½é™…çŸ¥åäº§å“æ— çŠ¶æ€å¢é‡è®¡ç®—åˆ·æ–°è€—æ—¶(s)</strong></th><th/><th><strong>Hologresåˆ·æ–°è€—æ—¶(s)</strong></th><th/></tr></thead><tbody><tr><td/><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td></tr><tr><td><strong>å¢å…¨é‡åˆ·æ–°</strong></td><td>ORDER_DETAIL:Â 10M</td><td/><td>1.5</td><td>1.3</td><td>4.6</td><td>3.9</td></tr><tr><td><strong>å¢é‡ç¬¬ä¸€æ¬¡</strong></td><td>æ¯å¼ è¡¨Â <br/>UPDATEÂ 0.5%<br/>INSERTÂ 0.5%</td><td>æ¯å¼ è¡¨Â <br/>INSERTÂ 1.0%</td><td>7.8</td><td>2.4</td><td>0.59</td><td>0.48</td></tr><tr><td><strong>å¢é‡ç¬¬äºŒæ¬¡</strong></td><td/><td/><td>8.1</td><td>2.7</td><td>0.49</td><td>0.41</td></tr><tr><td><strong>å¢é‡ç¬¬ä¸‰æ¬¡</strong></td><td/><td/><td>7.8</td><td>2.9</td><td>0.45</td><td>0.3</td></tr></tbody></table>
<p>å¯ä»¥çœ‹åˆ°Hologreså¢å…¨é‡åˆ·æ–°é˜¶æ®µè¾ƒæ…¢ï¼Œä½†åé¢çš„æ¯æ¬¡å¢é‡åˆ·æ–°éƒ½å¾ˆå¿«ï¼Œç¬¦åˆé¢„æœŸã€‚</p>
<p>æ— çŠ¶æ€å¢é‡åˆ·æ–°æ€§èƒ½è¾ƒå·®çš„ä¸»è¦åŸå› æ˜¯æ— çŠ¶æ€å¢é‡æ‰§è¡Œè®¡åˆ’å˜å¾—æ›´åŠ å¤æ‚ï¼ŒåŒ…å«36ä¸ªè®¡ç®—èŠ‚ç‚¹ï¼Œä¸”å˜æ›´æ•°æ®è§¦åŠäº†å¤§é‡åˆ†åŒºï¼Œéœ€è¦ä»æºè¡¨é‡æ–°æ‰«æè®¡ç®—æ‰€æœ‰çš„æ•°æ®ã€‚åœ¨æœ‰å›æ’¤æ•°æ®æ—¶ï¼Œå¤„ç†æ•°æ®å˜æ›´å‰åå› æœå…³ç³»ä¼šå¯¼è‡´è®¡ç®—é€»è¾‘ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œè¿›ä¸€æ­¥å˜æ…¢ï¼Œå¢é‡è®¡ç®—æ˜¾å¾—æ²¡æœ‰æ„ä¹‰ã€‚</p>
<p>Hologreså¢é‡åˆ·æ–°å¿«çš„æ ¸å¿ƒåŸå› æ˜¯æ¯æ¬¡å¢é‡è®¡ç®—éƒ½æ˜¯åŸºäºä¸Šæ¬¡è®¡ç®—ç”Ÿæˆçš„çŠ¶æ€è¡¨ï¼ˆStateï¼‰ï¼Œè¿™æå¤§çš„ç®€åŒ–äº†å¢é‡è®¡ç®—é€»è¾‘ã€‚æ­¤ä¾‹ä¸­Hologresä¸­å„è¡¨å­˜å‚¨å¤§å°å¦‚ä¸‹æ‰€ç¤ºï¼ˆæºè¡¨æ˜¯Retractionçš„æƒ…å†µï¼‰ï¼Œç»“æœè¡¨å¾ˆå°ï¼Œè€Œå› ä¸ºmin/max/countÂ distinctè¿™ä¸¤ç§èšåˆå‡½æ•°ä¸sum/countè¿™ç±»ä¸åŒï¼ŒçŠ¶æ€è¡¨éœ€è¦å­˜å‚¨å¯¹åº”åˆ—çš„æ‰€æœ‰åŸå§‹æ•°æ®ï¼Œæ‰€ä»¥ç›¸æ¯”ç»“æœè¡¨è¦å¤§å¾ˆå¤šã€‚</p>

















<table><thead><tr><th/><th><strong>æºè¡¨</strong></th><th><strong>ç»“æœè¡¨</strong></th><th><strong>çŠ¶æ€è¡¨</strong></th></tr></thead><tbody><tr><td><strong>å­˜å‚¨</strong></td><td>252Â MB</td><td>1Â MB</td><td>93Â MB</td></tr></tbody></table>
<h3 data-id="heading-6">åœºæ™¯Â 2ï¼šä¸¤è¡¨Â Joinï¼ˆè®¢å•Â +Â æ˜ç»†ï¼‰</h3>
<p>ä¸¤è¡¨Joinæ˜¯å¤§æ•°æ®å¤„ç†ä¸­ä¸€ç§è¾ƒä¸ºç®€å•çš„åŸºæœ¬åœºæ™¯ï¼Œæµ‹è¯•ä½¿ç”¨çš„å…·ä½“å·¥ä½œè´Ÿè½½å¦‚ä¸‹å›¾æ‰€ç¤º
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3554fe51baf43fb8f9a708c90e79533~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=mpGBCEKmm8iPH0lnrvhilWnK8uU%3D" alt="image.png" loading="lazy"/></p>
<p>Hologreså»ºè¡¨SQLå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DYNAMIC</span> <span class="hljs-keyword">TABLE</span> DT_ORDER_DETAIL
<span class="hljs-keyword">WITH</span> (
  auto_refresh_mode <span class="hljs-operator">=</span> <span class="hljs-string">'incremental'</span>, 
  auto_refresh_enable <span class="hljs-operator">=</span> <span class="hljs-string">'false'</span>, 
  freshness <span class="hljs-operator">=</span> <span class="hljs-string">'1 minutes'</span>
) <span class="hljs-keyword">AS</span> 
<span class="hljs-keyword">SELECT</span>
  o.ORDER_ID,
  o.ORDER_DATE,
  o.ORDER_STATUS,
  oi.ORDER_ITEM_ID,
  oi.PRODUCT_ID,
  oi.QUANTITY,
  oi.UNIT_PRICE,
  oi.LINE_AMOUNT
<span class="hljs-keyword">FROM</span> ORDERS o
<span class="hljs-keyword">JOIN</span> ORDER_ITEMS oi
  <span class="hljs-keyword">ON</span> o.ORDER_ID <span class="hljs-operator">=</span> oi.ORDER_ID;
</code></pre>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼ˆå®Œæ•´æµ‹è¯•SQLè§é™„å½•ï¼‰ï¼Œæ— çŠ¶æ€å¢é‡åˆ·æ–°å¼•æ“åœ¨æ•°æ®å«æœ‰å›æ’¤çš„æ—¶å€™æ‰§è¡Œè®¡åˆ’åŒ…å«50ä¸ªèŠ‚ç‚¹ï¼Œæºè¡¨å¤§éƒ¨åˆ†åˆ†åŒºçš„æ•°æ®è¢«åå¤è¯»å–å‚ä¸èšåˆï¼Œå¯¼è‡´æ€§èƒ½ä¸ä½³ã€‚è€Œæ•°æ®ä¸åŒ…å«å›æ’¤ï¼ˆAppendonlyï¼‰æ—¶ï¼Œæ— çŠ¶æ€å¢é‡åˆ·æ–°æ‰§è¡Œè®¡åˆ’ç›¸å¯¹ç®€å•ï¼Œå«æœ‰35ä¸ªèŠ‚ç‚¹ï¼Œä¸”æ–°å¢æ•°æ®ä¸ä¼šè§¦åŠå¤ªå¤šåˆ†åŒºï¼Œè¡¨ç°è‰¯å¥½ï¼Œä½“ç°å‡ºäº†å¢é‡è®¡ç®—çš„æ„ä¹‰ã€‚</p>



























































<table><thead><tr><th/><th><strong>æºè¡¨è¡Œæ•°</strong></th><th/><th><strong>æŸå›½é™…çŸ¥åäº§å“æ— çŠ¶æ€å¢é‡è®¡ç®—(s)</strong></th><th/><th><strong>Hologresåˆ·æ–°è€—æ—¶(s)</strong></th><th/></tr></thead><tbody><tr><td/><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td></tr><tr><td><strong>å¢å…¨é‡åˆ·æ–°</strong></td><td><strong>ORDERS</strong>:Â 5M<br/><strong>ORDER_ITEMS</strong>:Â 10M</td><td/><td>10</td><td>8.7</td><td>9.2</td><td>6.29</td></tr><tr><td><strong>å¢é‡ç¬¬ä¸€æ¬¡</strong></td><td>æ¯å¼ è¡¨Â <br/>UPDATEÂ 0.5%<br/>INSERTÂ 0.5%</td><td>æ¯å¼ è¡¨Â <br/>INSERTÂ 1.0%</td><td>22</td><td>1.1</td><td>2.2</td><td>0.68</td></tr><tr><td><strong>å¢é‡ç¬¬äºŒæ¬¡</strong></td><td/><td/><td>19</td><td>2.2</td><td>1.1</td><td>0.50</td></tr><tr><td><strong>å¢é‡ç¬¬ä¸‰æ¬¡</strong></td><td/><td/><td>22</td><td>1.7</td><td>1.9</td><td>0.51</td></tr></tbody></table>
<p>Hologresä¸­å„è¡¨å­˜å‚¨å¤§å°å¦‚ä¸‹æ‰€ç¤ºï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹çŠ¶æ€è¡¨å­˜äº†æºè¡¨çš„éƒ¨åˆ†åˆ—æ•°æ®ï¼Œå®é™…å­˜å‚¨å°äºæºè¡¨ã€‚</p>

















<table><thead><tr><th/><th><strong>æºè¡¨</strong></th><th><strong>ç»“æœè¡¨</strong></th><th><strong>çŠ¶æ€è¡¨</strong></th></tr></thead><tbody><tr><td><strong>å­˜å‚¨</strong></td><td>370Â MB</td><td>350Â MB</td><td>228Â MB</td></tr></tbody></table>
<h3 data-id="heading-7">åœºæ™¯Â 3ï¼šäº”è¡¨å¤æ‚Â Joinï¼ˆè®¢å•Â +Â ç”¨æˆ·Â +Â å•†å“Â +Â æ”¯ä»˜ç­‰ï¼‰</h3>
<p>å¤šè¡¨Joinæ˜¯ä¸€ç§ç›¸å¯¹æ›´å¸¸è§ã€çœŸå®çš„åœºæ™¯ï¼Œæµ‹è¯•å…·ä½“ä½¿ç”¨çš„å·¥ä½œè´Ÿè½½å¦‚ä¸‹:
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e52878c421c4566bb42b3712f73e621~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=mBcM1KqrAbP%2FEqvzNE0xprSI9pE%3D" alt="image.png" loading="lazy"/></p>
<p>Hologresçš„æµ‹è¯•è„šæœ¬å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DYNAMIC</span> <span class="hljs-keyword">TABLE</span> DT_ORDER_DETAIL
<span class="hljs-keyword">WITH</span> (
  auto_refresh_mode <span class="hljs-operator">=</span> <span class="hljs-string">'incremental'</span>, 
  auto_refresh_enable <span class="hljs-operator">=</span> <span class="hljs-string">'false'</span>, 
  freshness <span class="hljs-operator">=</span> <span class="hljs-string">'1 minutes'</span>
) <span class="hljs-keyword">AS</span> 
<span class="hljs-keyword">SELECT</span>
  o.ORDER_ID,
  o.ORDER_DATE,
  o.ORDER_STATUS,
  u.USER_ID,
  u.USER_NAME,
  u.EMAIL,
  u.STATUS <span class="hljs-keyword">AS</span> USER_STATUS,
  oi.ORDER_ITEM_ID,
  oi.PRODUCT_ID,
  p.PRODUCT_NAME,
  p.CATEGORY,
  p.PRICE       <span class="hljs-keyword">AS</span> PRODUCT_PRICE,
  oi.QUANTITY,
  oi.UNIT_PRICE,
  oi.LINE_AMOUNT,
  pay.PAYMENT_ID,
  pay.PAY_AMOUNT,
  pay.PAY_METHOD,
  pay.PAY_TIME
<span class="hljs-keyword">FROM</span> ORDERS o
<span class="hljs-keyword">JOIN</span> USERS u
  <span class="hljs-keyword">ON</span> o.USER_ID <span class="hljs-operator">=</span> u.USER_ID
<span class="hljs-keyword">JOIN</span> ORDER_ITEMS oi
  <span class="hljs-keyword">ON</span> o.ORDER_ID <span class="hljs-operator">=</span> oi.ORDER_ID
<span class="hljs-keyword">JOIN</span> PRODUCTS p
  <span class="hljs-keyword">ON</span> oi.PRODUCT_ID <span class="hljs-operator">=</span> p.PRODUCT_ID
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> PAYMENTS pay
  <span class="hljs-keyword">ON</span> o.ORDER_ID <span class="hljs-operator">=</span> pay.ORDER_ID;
</code></pre>
<p>æµ‹è¯•ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼ˆå®Œæ•´æµ‹è¯•SQLè§é™„å½•ï¼‰ï¼Œæ— çŠ¶æ€å¢é‡è®¡ç®—å¼•æ“æ— è®ºæ˜¯åªåŒ…å«æ’å…¥è¿˜æ˜¯æœ‰å›æ’¤ï¼Œæ€§èƒ½éƒ½ç›¸å¯¹è¾ƒå·®ï¼ŒåŸå› ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚äº”è¡¨Joinçš„åœºæ™¯ä¸‹ï¼Œå¢é‡è®¡ç®—çš„æ‰§è¡ŒèŠ‚ç‚¹è¶…è¿‡140ä¸ªï¼Œä¼šå¤§é‡è¯»å–æºè¡¨æ•°æ®ã€‚</p>



























































<table><thead><tr><th/><th><strong>æºè¡¨è¡Œæ•°</strong></th><th/><th><strong>æŸå›½é™…çŸ¥åäº§å“æ— çŠ¶æ€å¢é‡è®¡ç®—(s)</strong></th><th/><th><strong>Hologresåˆ·æ–°è€—æ—¶(s)</strong></th><th/></tr></thead><tbody><tr><td/><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td><td><strong>Retraction</strong></td><td><strong>Appendonly</strong></td></tr><tr><td><strong>å¢å…¨é‡åˆ·æ–°</strong></td><td><strong>ORDER_ITEMS</strong>:Â 10M<br/><strong>PAYMENTS</strong>:Â 4.9M<br/><strong>ORDERS</strong>:Â 5M<br/><strong>PRODUCTS</strong>:Â 50K<br/><strong>USERS</strong>:Â 500K</td><td/><td>23</td><td>23</td><td>30</td><td>22</td></tr><tr><td><strong>å¢é‡ç¬¬ä¸€æ¬¡</strong></td><td>æ¯å¼ è¡¨Â <br/>UPDATEÂ 0.5%<br/>INSERTÂ 0.5%</td><td>æ¯å¼ è¡¨Â <br/>INSERTÂ 1.0%</td><td>55</td><td>26</td><td>3.9</td><td>2.8</td></tr><tr><td><strong>å¢é‡ç¬¬äºŒæ¬¡</strong></td><td/><td/><td>58</td><td>27</td><td>3.2</td><td>1.8</td></tr><tr><td><strong>å¢é‡ç¬¬ä¸‰æ¬¡</strong></td><td/><td/><td>60</td><td>26</td><td>2.9</td><td>1.8</td></tr></tbody></table>
<p>Hologresä¸­å„è¡¨å­˜å‚¨å¤§å°å¦‚ä¸‹æ‰€ç¤ºï¼ŒçŠ¶æ€è¡¨ä¼šå­˜å‚¨æ¯ä¸€æ¬¡Joinçš„ä¸­é—´ç»“æœ</p>

















<table><thead><tr><th/><th><strong>æºè¡¨</strong></th><th><strong>ç»“æœè¡¨</strong></th><th><strong>çŠ¶æ€è¡¨</strong></th></tr></thead><tbody><tr><td><strong>å­˜å‚¨</strong></td><td>594Â MB</td><td>1218Â MB</td><td>1094Â MB</td></tr></tbody></table>
<h2 data-id="heading-8">å››ã€æœ‰çŠ¶æ€å¢é‡è®¡ç®—ï¼šä¸ºä½•æ›´é«˜æ•ˆï¼Ÿ</h2>
<p>åŸºäºå‰é¢çš„å®éªŒç»“æœï¼Œä¸éš¾çœ‹å‡ºï¼Œæ— çŠ¶æ€å¢é‡è®¡ç®—æ–¹æ¡ˆé€‚ç”¨æ¡ä»¶å…¶å®æ¯”è¾ƒè‹›åˆ»ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸­åŸºäºå°‘é‡æ•°æ®çš„å¢é‡è®¡ç®—å¼€é”€ç”šè‡³ä¼šè¶…è¿‡ç¬¬ä¸€æ¬¡çš„å…¨é‡è®¡ç®—ï¼Œä¸§å¤±äº†å¢é‡è®¡ç®—çš„æ„ä¹‰ã€‚</p>
<p>è€Œç›¸æ¯”è¾ƒä¹‹ä¸‹ï¼ŒHologresçš„æœ‰çŠ¶æ€å¢é‡è®¡ç®—æ–¹æ¡ˆå¯ä»¥é€‚ç”¨äºå¤§å¤šæ•°çš„åœºæ™¯ï¼Œé€šå¸¸åªéœ€è¦æ»¡è¶³å¢é‡æ•°æ®è¾ƒå°‘è¿™ä¸€ä¸ªæ¡ä»¶å³å¯ã€‚ä¸‹å›¾ä»¥å•è¡¨èšåˆåœºæ™¯(<code>sum(value)Â groupÂ byÂ key</code>)ä¸ºä¾‹ï¼Œå±•ç¤ºäº†æœ‰çŠ¶æ€æ–¹æ¡ˆçš„åŸºæœ¬åŸç†ï¼Œå¢é‡è®¡ç®—è¿‡ç¨‹ä¸­å¯ä»¥ä»çŠ¶æ€è¡¨ä¸­ç›´æ¥è·å–å†å²æ•°æ®çš„èšåˆç»“æœï¼Œè€Œä¸éœ€è¦åŸºäºå†å²è¡¨çš„åŸå§‹æ•°æ®é‡æ–°è®¡ç®—ã€‚æ­¤å¤–åœ¨è¯»å–çŠ¶æ€è¡¨æ•°æ®æ—¶ï¼Œä¹Ÿè¿›ä¸€æ­¥å¼•å…¥äº†OLAPæŸ¥è¯¢ä¸­å¸¸ç”¨çš„runtimeÂ filterä¼˜åŒ–ï¼Œåœ¨å¢é‡æ•°æ®è¾ƒå°‘çš„åœºæ™¯ä¸­ï¼Œå¤§å¹…å‡å°‘çŠ¶æ€è¡¨æ•°æ®è¯»å–é‡ï¼Œä½¿åˆ·æ–°æ€§èƒ½å¾—åˆ°äº†æ˜¾è‘—çš„æå‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d6eceb6f2e947ee813e533fd51a4d92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=5ltW4H0byFwf%2FCyjOUJtww0T7%2Fs%3D" alt="image.png" loading="lazy"/></p>
<p>æœ‰çŠ¶æ€æ–¹æ¡ˆä¸€ä¸ªæ˜¾è‘—çš„ç¼ºç‚¹æ˜¯ä¸æ— çŠ¶æ€æ–¹æ¡ˆç›¸æ¯”ä¼šéœ€è¦å ç”¨é¢å¤–çš„å­˜å‚¨ç©ºé—´ç”¨äºçŠ¶æ€è¡¨çš„å­˜å‚¨ã€‚å¦‚ä¸Šè¿°å®éªŒæ•°æ®æ‰€ç¤ºï¼Œå®é™…é¢å¤–å­˜å‚¨å¤§å°é€šå¸¸ä¸æ¶‰åŠåˆ°çš„æºè¡¨ã€ç»“æœè¡¨çš„å¤§å°ç›¸å…³ã€‚</p>
<p>è¿™ä¸€ç¼ºç‚¹é€šå¸¸æ˜¯å¯ä»¥æ¥å—çš„ï¼Œå› ä¸ºåœ¨ä¸šåŠ¡å®è·µæ“ä½œä¸­ï¼Œè¿™éƒ¨åˆ†å­˜å‚¨ä¸€èˆ¬æ˜¯å¯æ§çš„,ä¸ä¼šæ— é™å¢é•¿ã€‚è¿™æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>
<p>åˆ†åŒºè¡¨çš„åœºæ™¯ä¸­ï¼Œåªæœ‰æ´»è·ƒåˆ†åŒºéœ€è¦çŠ¶æ€è¡¨ï¼Œå†å²åˆ†åŒºè½¬å…¨é‡åˆ·æ–°åä¸å†éœ€è¦çŠ¶æ€è¡¨ï¼ˆè¿™ä¸ªè¿‡ç¨‹æ˜¯è‡ªåŠ¨çš„ï¼Œåˆ†åŒºä¸å†æ´»è·ƒåä¼šè‡ªåŠ¨æ¸…ç†çŠ¶æ€è¡¨ï¼‰ã€‚å› æ­¤åªæœ‰æœ€è¿‘çš„ä¸€ä¸¤ä¸ªåˆ†åŒºæ‰éœ€è¦çŠ¶æ€è¡¨ï¼Œè¿™æå¤§åœ°å‡å°‘äº†çŠ¶æ€è¡¨çš„å­˜å‚¨ç©ºé—´ã€‚å› æ­¤HologresÂ DynamicÂ Tableå¢é‡è®¡ç®—çŠ¶æ€è¡¨æ²¡æœ‰Flinkå¸¸è§çš„çŠ¶æ€è†¨èƒ€é—®é¢˜ã€‚</p>
</li>
<li>
<p>éåˆ†åŒºè¡¨åœºæ™¯ä¸­ï¼Œå¯ä»¥ä¸ºçŠ¶æ€è¡¨é…ç½®åˆé€‚çš„TTLï¼Œä¸¢å¼ƒä¸€äº›ä¸å†éœ€è¦çš„å†å²çŠ¶æ€å‡å°‘å­˜å‚¨ç©ºé—´</p>
</li>
</ul>
<h2 data-id="heading-9">æ€»ç»“ï¼šHologresÂ DynamicÂ TableÂ çš„æ ¸å¿ƒä»·å€¼</h2>
<p>é¢å¯¹ä¼ä¸šæ—¥ç›Šå¢é•¿çš„å®æ—¶åˆ†æéœ€æ±‚ï¼ŒHologresÂ çš„Â DynamicÂ TableÂ é€šè¿‡æœ‰çŠ¶æ€å¢é‡è®¡ç®—å¼•æ“ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†ä¼ ç»Ÿæ–¹æ¡ˆåœ¨å¤æ‚æŸ¥è¯¢ä¸‹â€œå¢é‡ä¸å¢æ•ˆâ€çš„ç—›ç‚¹ã€‚å®ƒä¸ä»…å¤§å¹…ç¼©çŸ­äº†æ•°æ®åˆ·æ–°å»¶è¿Ÿï¼Œè¿˜æ˜¾è‘—é™ä½äº†è®¡ç®—èµ„æºæ¶ˆè€—å’Œè¿ç»´å¤æ‚åº¦ï¼ŒçœŸæ­£å®ç°äº†â€œå†™ä¸€æ¬¡Â SQLï¼Œè‡ªåŠ¨é«˜æ•ˆæ›´æ–°â€çš„ä½“éªŒã€‚æ— è®ºä½ æ˜¯æ„å»ºå®æ—¶çœ‹æ¿ã€ç”¨æˆ·ç”»åƒå®½è¡¨ï¼Œè¿˜æ˜¯é£æ§ç‰¹å¾ç®¡é“ï¼ŒHologresÂ éƒ½èƒ½ä»¥ç¨³å®šã€é«˜æ€§èƒ½ã€ä½æˆæœ¬çš„æ–¹å¼æ”¯æ’‘ä½ çš„æ ¸å¿ƒæ•°æ®é“¾è·¯ã€‚</p>
<h2 data-id="heading-10">é™„å½•</h2>
<h3 data-id="heading-11">æ— çŠ¶æ€Â &amp;Â æœ‰çŠ¶æ€å¢é‡è®¡ç®—åº•å±‚åŸç†å¯¹æ¯”åˆ†æ</h3>
<p>ä»ä¸Šé¢çš„å®éªŒç»“æœæ¥çœ‹ï¼ŒHologresçš„æœ‰çŠ¶æ€å®ç°æ–¹æ¡ˆåœ¨å¤§å¤šæ•°çš„åœºæ™¯ä¸­æ˜¯è¦ä¼˜äºæ— çŠ¶æ€å¢é‡è®¡ç®—å¼•æ“çš„ï¼Œæœ¬å°èŠ‚å°†å¯¹ä¸¤è€…çš„åº•å±‚è®¡ç®—åŸç†è¿›è¡Œå¯¹æ¯”åˆ†æï¼Œè¯´æ˜é€ æˆè¿™ç§æ€§èƒ½å·®å¼‚çš„æ ¹æœ¬åŸå› ã€‚</p>
<h4 data-id="heading-12">ç¬¦å·è¯´æ˜</h4>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></span>ï¼šè¡¨ç¤ºä¸€ä¸ªå…³ç³»è¡¨</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>E</mi><mi>x</mi><mi>p</mi><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta(Expr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span></span>ï¼šè¡¨ç¤ºä¸€ä¸ªå…³ç³»è®¡ç®—è¡¨è¾¾å¼çš„å¢é‡å˜åŒ–</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Pre(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></span>ï¼šè¡¨ç¤ºä¸€ä¸ªå…³ç³»è¡¨åœ¨æŸæ¬¡å¢é‡å˜åŒ–ä¹‹å‰çš„å¿«ç…§</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Post(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></span>ï¼šè¡¨ç¤ºä¸€ä¸ªå…³ç³»è¡¨åœ¨æŸæ¬¡å¢é‡å˜åŒ–ä¹‹åçš„å¿«ç…§</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo stretchy="false">(</mo><mi>E</mi><mi>x</mi><mi>p</mi><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">State(Expr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span></span>ï¼šè¡¨ç¤ºæŸä¸€ä¸ªå…³ç³»è®¡ç®—è¡¨è¾¾å¼çš„æŒä¹…åŒ–çŠ¶æ€</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‹ˆ</mo></mrow><annotation encoding="application/x-tex">\bowtie</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.51em;vertical-align:-0.005em;"/><span class="mrel">â‹ˆ</span></span></span></span></span>ï¼šè¡¨ç¤ºå…³è”æ“ä½œï¼ˆJoinï¼‰</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>g</mi><mi>g</mi><mo stretchy="false">(</mo><mi>E</mi><mi>x</mi><mi>p</mi><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Agg(Expr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.03588em;">gg</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span></span>ï¼šè¡¨ç¤ºå¯¹æŸä¸€ä¸ªå…³ç³»è®¡ç®—è¡¨è¾¾å¼åšèšåˆè¿ç®—</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>e</mi><mi>r</mi><mi>g</mi><mi>e</mi><mo stretchy="false">(</mo><mi>E</mi><mi>x</mi><mi>p</mi><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Merge(Expr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">x</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span></span>ï¼šèšåˆè¿ç®—çš„ç‰¹ä¾‹ï¼Œæ¯ä¸€ä¸ªåˆ†ç»„åªæœ‰ä¸¤è¡Œæ•°æ®</p>
<h4 data-id="heading-13">å¤šè¡¨Joinåœºæ™¯</h4>
<h5 data-id="heading-14">æ— çŠ¶æ€å®ç°HologresÂ DynamicÂ Tableï¼šé«˜æ•ˆå¢é‡åˆ·æ–°ï¼Œæ„å»ºå®æ—¶ç»Ÿä¸€æ•°ä»“çš„æ ¸å¿ƒåˆ©å™¨</h5>
<p>æ— çŠ¶æ€å¤šè¡¨InnerÂ Joinçš„å¢é‡è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼ˆåŸç†å¯å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdl.acm.org%2Fdoi%2F10.1145%2F3588720" target="_blank" title="https://dl.acm.org/doi/10.1145/3588720" ref="nofollow noopener noreferrer">è®ºæ–‡</a>ï¼‰ï¼Œæ ¹æ®å®é™…æ‰§è¡Œè®¡åˆ’æ¨æµ‹æŸæ— çŠ¶æ€å¢é‡è®¡ç®—å¼•æ“çš„å¤šè¡¨Joinå¢é‡è®¡ç®—åº”è¯¥ä¹Ÿæ˜¯åŸºäºè¯¥å…¬å¼å®ç°çš„</p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>1</mn><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mo>â‹¯</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>R</mi><mi mathvariant="normal">_</mi><mi>n</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mspace linebreak="newline"/><mo>=</mo><mtext>Â </mtext><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>3</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mo>â€¦</mo><mtext>Â </mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mi>n</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mspace linebreak="newline"/><mo>âˆª</mo><mtext>Â </mtext><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>3</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mo>â€¦</mo><mtext>Â </mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mi>n</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mspace linebreak="newline"/><mo>âˆª</mo><mtext>Â </mtext><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>3</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mo>â€¦</mo><mtext>Â </mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mi>n</mi><mo stretchy="false">)</mo><mtext>Â </mtext><mspace linebreak="newline"/><mtext>Â </mtext><mo>â€¦</mo><mtext>Â </mtext><mspace linebreak="newline"/><mo>âˆª</mo><mtext>Â </mtext><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi>P</mi><mi>r</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>3</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â€¦</mo><mtext>Â </mtext><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta(R\_1Â \bowtieÂ \cdotsÂ \bowtieÂ R\_n)Â \\=Â  \Delta(R\_1)Â \bowtieÂ Post(R\_2)Â \bowtieÂ Post(R\_3)Â \bowtieÂ \ldotsÂ Post(R\_n)Â \\ \cupÂ Pre(R\_1)Â \bowtieÂ \Delta(R\_2)Â \bowtieÂ Post(R\_3)Â \bowtieÂ \ldotsÂ Post(R\_n)Â \\ \cupÂ Pre(R\_1)Â \bowtieÂ Pre(R\_2)Â \bowtieÂ \Delta(R\_3)Â \bowtieÂ \ldotsÂ Post(R\_n)Â \\ Â \ldotsÂ \\ \cupÂ Pre(R\_1)Â \bowtieÂ Pre(R\_2)Â \bowtieÂ Pre(R\_3)Â \dotsÂ \Delta(R\_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_1Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.51em;vertical-align:-0.005em;"/><span class="mord">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord">Â </span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_1</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_2</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_3</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord">Â </span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">âˆª</span><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_1</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_2</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_3</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord">Â </span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">âˆª</span><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_1</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_2</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_3</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord">Â </span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:0.123em;"/><span class="mord">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Â </span></span><span class="mspace newline"/><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">âˆª</span><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_1</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_2</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_3</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">Â Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p>
<p>è¯¥æ–¹æ¡ˆä¸»è¦ä¼šæœ‰å¦‚ä¸‹å¼Šç«¯ï¼š</p>
<ul>
<li>
<p>Joinæ¬¡æ•°è¾ƒå¤šï¼Œä¼šæœ‰è‡³å°‘Â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mtext>Â </mtext><mo>âˆ—</mo><mtext>Â ï¼ˆ</mtext><mi>N</mi><mtext>Â </mtext><mo>âˆ’</mo><mtext>Â </mtext><mn>1</mn><mtext>ï¼‰</mtext></mrow><annotation encoding="application/x-tex">NÂ *Â ï¼ˆNÂ -Â 1ï¼‰</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord">Â </span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Â 1</span><span class="mord cjk_fallback">ï¼‰</span></span></span></span></span>æ¬¡</p>
</li>
<li>
<p>æ¯ä¸€è·¯Unionçš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">1</span></span></span></span></span>æ¬¡Joinä¸­ï¼Œåªæœ‰ä¸€ä¸ªæ˜¯å¢é‡æ•°æ®çº§çš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta(R)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span></span>ï¼Œå…¶ä»–è·¯éƒ½æ˜¯æºè¡¨æ•°é‡çº§çš„<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>r</mi><mi>e</mi><mtext>ã€</mtext><mi>P</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">Preã€Post</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">re</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">os</span><span class="mord mathnormal">t</span></span></span></span></span>ï¼Œè¿™ç§åœºæ™¯ä¸­JoinÂ Filteræ•ˆæœä¸å¥½ä¿è¯ï¼Œå¯èƒ½ä¼šå¤šæ‰«æå¾ˆå¤šæ•°æ®</p>
</li>
<li>
<p>å½“å¢é‡æ•°æ®å«æœ‰å›æ’¤æ—¶ï¼Œéœ€è¦è°ƒæ§ä¸åŒUnionä¹‹é—´çš„è¾“å‡ºé¡ºåºæ¥ç¡®ä¿å› æœå…³ç³»ï¼Œä¼šä½¿ä¸Šé¢çš„è®¡ç®—æµç¨‹å˜å¾—æ›´é‡</p>
</li>
</ul>
<h5 data-id="heading-15">æœ‰çŠ¶æ€å®ç°</h5>
<p>Hologresçš„æœ‰çŠ¶æ€å¤šè¡¨Joinè®¡ç®—å…¬å¼åŸç†å¤§è‡´å¦‚ä¸‹ï¼Œå› ä¸ºæ‰€æœ‰çš„ä¸­é—´è®¡ç®—ç»“æœçŠ¶æ€ä¼šé€šè¿‡çŠ¶æ€è¡¨ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">State</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span></span></span></span>ï¼‰æŒä¹…åŒ–ä¿å­˜ä¸‹æ¥ï¼Œå› æ­¤å¯ä»¥æŒ‰ç…§ä¸¤è¡¨Joinçš„å…¬å¼åšç®€å•å±•å¼€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e30711c81fb4f2d8751b9d392754adb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767003882&amp;x-signature=1qI7kyyAJrqNbVY55wHhmYiHnoA%3D" alt="image.png" loading="lazy"/></p>
<p>æœ‰çŠ¶æ€æ–¹æ¡ˆä»¥é¢å¤–çš„å­˜å‚¨å¼€é”€ä¸ºä»£ä»·æ¢æ¥äº†ï¼š</p>
<ul>
<li>
<p>æ›´å°‘çš„Joinæ¬¡æ•°ï¼Œå¿½ç•¥<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>1</mn><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹ˆ</mo><mtext>Â </mtext><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mi mathvariant="normal">_</mi><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta(R\_1)Â \bowtieÂ \Delta(R\_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_1</span><span class="mclose">)</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"/><span class="mord">Â Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">_2</span><span class="mclose">)</span></span></span></span></span>è¿™ç§è½»é‡çº§çš„Joinï¼Œåªæœ‰<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mtext>Â </mtext><mo>âˆ—</mo><mtext>Â ï¼ˆ</mtext><mi>N</mi><mtext>Â </mtext><mo>âˆ’</mo><mtext>Â </mtext><mn>1</mn><mtext>ï¼‰</mtext></mrow><annotation encoding="application/x-tex">2Â *Â ï¼ˆNÂ -Â 1ï¼‰</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">2Â </span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"/><span class="mord">Â </span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord">Â </span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Â 1</span><span class="mord cjk_fallback">ï¼‰</span></span></span></span></span>æ¬¡JoinÂ æ“ä½œ</p>
</li>
<li>
<p>æ›´å°‘çš„æ•°æ®è¯»å–ï¼Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord">Î”</span></span></span></span></span>Â å’Œ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">State</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span></span></span></span>Joinçš„Filterä¸‹æ¨ç®€å•é«˜æ•ˆï¼Œé€šå¸¸åªéœ€è¦è¯»å–<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">State</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span></span></span></span>è¡¨ä¸­çš„å°‘æ•°è¡Œ</p>
</li>
<li>
<p>æ›´ç®€å•çš„å›æ’¤å¤„ç†é€»è¾‘ï¼Œåªéœ€è¦åœ¨åŒä¸€å±‚å†…è°ƒæ•´æ•°æ®è¾“å‡ºé¡ºåºç¡®ä¿å› æœå…³ç³»</p>
</li>
</ul>
<h4 data-id="heading-16">å•è¡¨èšåˆåœºæ™¯</h4>
<p>å•è¡¨èšåˆåœºæ™¯ç›¸å¯¹è¾ƒä¸ºç®€å•ï¼Œæ— çŠ¶æ€ã€æœ‰çŠ¶æ€ä¸¤ç§æ–¹æ¡ˆçš„è®¡ç®—å…¬å¼åŸç†åˆ†åˆ«å¦‚ä¸‹ï¼š</p>
<p>æŸæ— çŠ¶æ€å¢é‡è®¡ç®—å¼•æ“ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">g</mi></mrow><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>Â Â </mtext><mo>=</mo><mtext>Â </mtext><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">g</mi></mrow><mo fence="true" stretchy="true" minsize="1.8em" maxsize="1.8em">(</mo><mtext>Â Â Â Â Â Â </mtext><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">g</mi></mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>Â Â Â Â Â Â </mtext><mtext>â€…â€Š</mtext><mo>â‹ˆ</mo><mtext>â€…â€Š</mtext><mtext>Â Â Â Â Â Â </mtext><mi>R</mi><mtext>Â Â Â Â </mtext><mo fence="true" stretchy="true" minsize="1.8em" maxsize="1.8em">)</mo></mrow><annotation encoding="application/x-tex">\Delta(\mathsf{Agg}(R)) Â Â =Â \mathsf{Agg}\Bigl( Â Â Â Â Â Â \mathsf{Agg}(\Delta(R)) Â Â Â Â Â Â \;\bowtie\; Â Â Â Â Â Â R Â Â Â Â \Bigr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Î”</span><span class="mopen">(</span><span class="mord"><span class="mord mathsf" style="margin-right:0.01389em;">Agg</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">))</span><span class="mord">Â Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"/><span class="mord">Â </span><span class="mord"><span class="mord mathsf" style="margin-right:0.01389em;">Agg</span></span><span class="mopen"><span class="delimsizing size2">(</span></span><span class="mord">Â Â Â Â Â Â </span><span class="mord"><span class="mord mathsf" style="margin-right:0.01389em;">Agg</span></span><span class="mopen">(</span><span class="mord">Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">))</span><span class="mord">Â Â Â Â Â Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"/><span class="mord">Â Â Â Â Â Â </span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord">Â Â Â Â </span><span class="mclose"><span class="delimsizing size2">)</span></span></span></span></span></span></p>
<p>Hologresæœ‰çŠ¶æ€ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">g</mi></mrow><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>Â Â </mtext><mo>=</mo><mtext>Â </mtext><mrow><mi mathvariant="sans-serif">M</mi><mi mathvariant="sans-serif">e</mi><mi mathvariant="sans-serif">r</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">e</mi></mrow><mo fence="true" stretchy="true" minsize="1.8em" maxsize="1.8em">(</mo><mtext>Â Â Â Â Â Â </mtext><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">g</mi><mi mathvariant="sans-serif">g</mi></mrow><mo stretchy="false">(</mo><mi mathvariant="normal">Î”</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext>Â Â Â Â Â Â </mtext><mtext>â€…â€Š</mtext><mo>â‹ˆ</mo><mtext>â€…â€Š</mtext><mtext>Â Â Â Â Â Â </mtext><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo stretchy="false">(</mo><mi>R</mi><mo stretchy="false">)</mo><mtext>Â Â Â Â </mtext><mo fence="true" stretchy="true" minsize="1.8em" maxsize="1.8em">)</mo></mrow><annotation encoding="application/x-tex">\Delta(\mathsf{Agg}(R)) Â Â =Â \mathsf{Merge}\Bigl( Â Â Â Â Â Â \mathsf{Agg}(\Delta(R)) Â Â Â Â Â Â \;\bowtie\; Â Â Â Â Â Â State(R) Â Â Â Â \Bigr)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">Î”</span><span class="mopen">(</span><span class="mord"><span class="mord mathsf" style="margin-right:0.01389em;">Agg</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">))</span><span class="mord">Â Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"/><span class="mord">Â </span><span class="mord"><span class="mord mathsf">Merge</span></span><span class="mopen"><span class="delimsizing size2">(</span></span><span class="mord">Â Â Â Â Â Â </span><span class="mord"><span class="mord mathsf" style="margin-right:0.01389em;">Agg</span></span><span class="mopen">(</span><span class="mord">Î”</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">))</span><span class="mord">Â Â Â Â Â Â </span><span class="mspace" style="margin-right:0.2778em;"/><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â‹ˆ</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em;"/><span class="mord">Â Â Â Â Â Â </span><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mord">Â Â Â Â </span><span class="mclose"><span class="delimsizing size2">)</span></span></span></span></span></span></p>
<p>å…¬å¼å¤§ä½“æ˜¯æ¯”è¾ƒç›¸ä¼¼çš„ï¼Œä¸»è¦åŒºåˆ«æ˜¯Hologresçš„æœ‰çŠ¶æ€æ–¹æ¡ˆæŒä¹…åŒ–å­˜å‚¨äº†å†å²æ•°æ®çš„èšåˆç»“æœï¼Œå› æ­¤æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>
<p>ä¸éœ€è¦é‡æ–°è®¡ç®—å†å²æ•°æ®çš„èšåˆç»“æœ</p>
</li>
<li>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">State</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span></span></span></span>è¡¨æ•°æ®é‡æå°ï¼ŒJoinÂ æ“ä½œå¯ä»¥æ˜¾è‘—å‡å°‘è¯»å–æ•°æ®é‡</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆ"è½¯ä»¶æµ‹è¯•"å¾ˆé‡è¦ï¼Ÿâ€”â€”ä» Bug åˆ°é«˜è´¨é‡è½¯ä»¶çš„ä¿éšœ]]></title>    <link>https://juejin.cn/post/7586452779713249295</link>    <guid>https://juejin.cn/post/7586452779713249295</guid>    <pubDate>2025-12-22T10:45:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586452779713249295" data-draft-id="7586496648379056128" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆ&quot;è½¯ä»¶æµ‹è¯•&quot;å¾ˆé‡è¦ï¼Ÿâ€”â€”ä» Bug åˆ°é«˜è´¨é‡è½¯ä»¶çš„ä¿éšœ "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T10:45:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆ"è½¯ä»¶æµ‹è¯•"å¾ˆé‡è¦ï¼Ÿâ€”â€”ä» Bug åˆ°é«˜è´¨é‡è½¯ä»¶çš„ä¿éšœ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T10:45:59.000Z" title="Mon Dec 22 2025 10:45:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§ª ä¸ºä»€ä¹ˆ"è½¯ä»¶æµ‹è¯•"å¾ˆé‡è¦ï¼Ÿâ€”â€”ä» Bug åˆ°é«˜è´¨é‡è½¯ä»¶çš„ä¿éšœ ğŸ›</h2>
<blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ— é™å¤§ï¼Œæ¬¢è¿æ”¶çœ‹åä¸‡ä¸ªä¸ºä»€ä¹ˆç³»åˆ—æ–‡ç« </p>
<p>å¸Œæœ›ä»Šå¤©çš„å†…å®¹èƒ½å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©</p>
</blockquote>
<p>ä»Šå¤©å’±ä»¬æ¥èŠèŠè½¯ä»¶æµ‹è¯•è¿™ä¸ª"è½¯ä»¶è´¨é‡çš„å®ˆé—¨å‘˜"ï¼æƒ³è±¡ä¸€ä¸‹ï¼Œä½ ä¸‹è½½äº†ä¸€æ¬¾æ–°æ¸¸æˆï¼Œåˆšç©5åˆ†é’Ÿå°±å´©æºƒäº†ï¼›ä½ ç”¨ç½‘è´­APPä»˜æ¬¾ï¼Œç»“æœé’±æ‰£äº†å´æ²¡è®¢å•â€”â€”è¿™äº›ç³Ÿå¿ƒçš„ä½“éªŒï¼Œéƒ½æ˜¯å› ä¸ºè½¯ä»¶æµ‹è¯•æ²¡åšå¥½ï¼</p>
<h3 data-id="heading-1">ğŸ¤” æ ¸å¿ƒé—®é¢˜ï¼šè½¯ä»¶æµ‹è¯•åˆ°åº•æ˜¯å¹²å•¥çš„ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿ</h3>
<p>å¾ˆå¤šäººè§‰å¾—è½¯ä»¶æµ‹è¯•å°±æ˜¯"ç‚¹ç‚¹ç‚¹"ï¼Œå…¶å®è¿œä¸æ­¢è¿™ä¹ˆç®€å•ï¼è½¯ä»¶æµ‹è¯•å°±åƒ"è´¨é‡æ£€æµ‹å‘˜"ï¼Œåœ¨è½¯ä»¶å‘å¸ƒå‰æ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„é—®é¢˜ï¼Œç¡®ä¿ç”¨æˆ·æ‹¿åˆ°æ‰‹çš„æ˜¯é«˜è´¨é‡äº§å“ã€‚</p>
<h4 data-id="heading-2">è½¯ä»¶æµ‹è¯•çš„æœ¬è´¨</h4>
<p>è½¯ä»¶æµ‹è¯•æ˜¯ä¸€ç§<strong>éªŒè¯è½¯ä»¶è´¨é‡çš„è¿‡ç¨‹</strong>ï¼Œé€šè¿‡å„ç§æ–¹æ³•æ£€æŸ¥è½¯ä»¶æ˜¯å¦æ»¡è¶³éœ€æ±‚ã€æ˜¯å¦å­˜åœ¨bugã€æ˜¯å¦æ€§èƒ½è‰¯å¥½ã€æ˜¯å¦å®‰å…¨å¯é ã€‚</p>
<h4 data-id="heading-3">ä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Ÿ</h4>
<ul>
<li>â±ï¸ <strong>èŠ‚çœæ—¶é—´</strong>ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡æ‰§è¡Œï¼Œæ¯”æ‰‹å·¥æµ‹è¯•å¿«10å€ä»¥ä¸Š</li>
<li>ğŸ” <strong>æé«˜è¦†ç›–ç‡</strong>ï¼šå¯ä»¥è¦†ç›–æ›´å¤šæµ‹è¯•åœºæ™¯ï¼Œå‡å°‘æ¼æµ‹</li>
<li>ğŸ¯ <strong>ä¸€è‡´æ€§</strong>ï¼šæ¯æ¬¡æµ‹è¯•éƒ½ä¸€æ ·ï¼Œä¸ä¼šå—æƒ…ç»ªã€ç–²åŠ³å½±å“</li>
<li>ğŸ’ª <strong>å›å½’æµ‹è¯•</strong>ï¼šä»£ç æ”¹åŠ¨åå¿«é€ŸéªŒè¯ï¼Œé˜²æ­¢æ—§bugé‡ç°</li>
</ul>
<h3 data-id="heading-4">ğŸ“œ è½¯ä»¶æµ‹è¯•çš„"è¿›åŒ–å²"ï¼šä»æ‰‹å·¥åˆ°è‡ªåŠ¨åŒ–</h3>
<h4 data-id="heading-5">1. ğŸ–ï¸ æ‰‹å·¥æµ‹è¯•æ—¶ä»£ï¼š"äººè‚‰æµ‹è¯•æœº"</h4>
<p>20ä¸–çºª80å¹´ä»£ï¼Œè½¯ä»¶æµ‹è¯•ä¸»è¦é æ‰‹å·¥å®Œæˆã€‚æµ‹è¯•äººå‘˜åƒ"äººè‚‰æµ‹è¯•æœº"ä¸€æ ·ï¼Œåå¤ç‚¹å‡»æŒ‰é’®ã€è¾“å…¥æ•°æ®ã€æ£€æŸ¥ç»“æœã€‚</p>
<p>è¿™å°±åƒ"ç”¨æ‰‹æ£€æŸ¥ç”Ÿäº§çº¿çš„äº§å“"ï¼Œæ•ˆç‡ä½ã€å®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”åªèƒ½è¦†ç›–æœ‰é™çš„æµ‹è¯•åœºæ™¯ã€‚</p>
<h4 data-id="heading-6">2. ğŸ¤– è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ä»£ï¼š"æœºå™¨äººæµ‹è¯•"</h4>
<p>2000å¹´åï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•å¼€å§‹å…´èµ·ã€‚æµ‹è¯•äººå‘˜ç¼–å†™è„šæœ¬ï¼Œè®©è®¡ç®—æœºè‡ªåŠ¨æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>è¿™å°±åƒ"ç”¨æœºå™¨äººæ£€æŸ¥ç”Ÿäº§çº¿"ï¼Œæ•ˆç‡é«˜ã€ä¸€è‡´æ€§å¥½ï¼Œå¯ä»¥24å°æ—¶ä¸é—´æ–­æµ‹è¯•ã€‚</p>
<h4 data-id="heading-7">3. ğŸš€ æ™ºèƒ½åŒ–æµ‹è¯•æ—¶ä»£ï¼š"AIæµ‹è¯•å¸ˆ"</h4>
<p>è¿‘å¹´æ¥ï¼ŒAIæŠ€æœ¯å¼€å§‹èå…¥è½¯ä»¶æµ‹è¯•ã€‚AIå¯ä»¥è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€é¢„æµ‹bugä½ç½®ã€åˆ†ææµ‹è¯•ç»“æœã€‚</p>
<p>è¿™å°±åƒ"ç”¨AIè´¨æ£€å¸ˆæ£€æŸ¥ç”Ÿäº§çº¿"ï¼Œä¸ä»…æ•ˆç‡æ›´é«˜ï¼Œè¿˜èƒ½å‘ç°äººç±»éš¾ä»¥å‘ç°çš„é—®é¢˜ï¼</p>
<h3 data-id="heading-8">ğŸ”§ æŠ€æœ¯åŸç†ï¼šè½¯ä»¶æµ‹è¯•çš„æ ¸å¿ƒæŠ€æœ¯</h3>
<h4 data-id="heading-9">1. ğŸ“ æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼š"æ€ä¹ˆæµ‹ï¼Ÿæµ‹ä»€ä¹ˆï¼Ÿ"</h4>
<p>æµ‹è¯•ç”¨ä¾‹æ˜¯è½¯ä»¶æµ‹è¯•çš„"å‰§æœ¬"ï¼Œå®šä¹‰äº†æµ‹è¯•çš„æ­¥éª¤ã€è¾“å…¥ã€é¢„æœŸè¾“å‡ºã€‚è®¾è®¡å¥½çš„æµ‹è¯•ç”¨ä¾‹èƒ½è¦†ç›–æ›´å¤šåœºæ™¯ï¼Œå‡å°‘æ¼æµ‹ã€‚</p>
<p><strong>å¸¸è§çš„æµ‹è¯•ç”¨ä¾‹è®¾è®¡æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>ç­‰ä»·ç±»åˆ’åˆ†ï¼šå°†è¾“å…¥åˆ’åˆ†ä¸ºè‹¥å¹²ç­‰ä»·ç±»ï¼Œæ¯ä¸ªç­‰ä»·ç±»åªæµ‹ä¸€ä¸ª</li>
<li>è¾¹ç•Œå€¼åˆ†æï¼šé‡ç‚¹æµ‹è¯•è¾¹ç•Œæƒ…å†µï¼ˆå¦‚æœ€å¤§å€¼ã€æœ€å°å€¼ã€ç©ºå€¼ï¼‰</li>
<li>å› æœå›¾ï¼šåˆ†æè¾“å…¥æ¡ä»¶å’Œè¾“å‡ºç»“æœçš„å› æœå…³ç³»</li>
<li>åœºæ™¯æ³•ï¼šæ¨¡æ‹Ÿç”¨æˆ·å®é™…ä½¿ç”¨åœºæ™¯</li>
</ul>
<h4 data-id="heading-10">2. ğŸ¤– è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼š"æµ‹è¯•çš„è„šæ‰‹æ¶"</h4>
<p>è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶æ˜¯ä¸€å¥—å·¥å…·å’Œåº“ï¼Œç”¨äºç¼–å†™ã€æ‰§è¡Œå’Œç®¡ç†è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</p>
<p><strong>å¸¸è§çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶</strong>ï¼š</p>
<ul>
<li>Webæµ‹è¯•ï¼šSeleniumã€Cypress</li>
<li>æ¥å£æµ‹è¯•ï¼šPostmanã€RestAssured</li>
<li>ç§»åŠ¨æµ‹è¯•ï¼šAppiumã€Espresso</li>
<li>æ€§èƒ½æµ‹è¯•ï¼šJMeterã€LoadRunner</li>
</ul>
<p><strong>ä»£ç å®ä¾‹</strong>ï¼šç”¨Python + Seleniumè¿›è¡ŒWebè‡ªåŠ¨åŒ–æµ‹è¯•</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver
<span class="hljs-keyword">from</span> selenium.webdriver.common.by <span class="hljs-keyword">import</span> By
<span class="hljs-keyword">from</span> selenium.webdriver.support.ui <span class="hljs-keyword">import</span> WebDriverWait
<span class="hljs-keyword">from</span> selenium.webdriver.support <span class="hljs-keyword">import</span> expected_conditions <span class="hljs-keyword">as</span> EC

<span class="hljs-comment"># åˆå§‹åŒ–æµè§ˆå™¨</span>
driver = webdriver.Chrome()
<span class="hljs-keyword">try</span>:
    <span class="hljs-comment"># æ‰“å¼€ç™¾åº¦é¦–é¡µ</span>
    driver.get(<span class="hljs-string">"https://www.baidu.com"</span>)
  
    <span class="hljs-comment"># è¾“å…¥æœç´¢å…³é”®è¯</span>
    search_box = driver.find_element(By.ID, <span class="hljs-string">"kw"</span>)
    search_box.send_keys(<span class="hljs-string">"è½¯ä»¶æµ‹è¯•"</span>)
  
    <span class="hljs-comment"># ç‚¹å‡»æœç´¢æŒ‰é’®</span>
    search_button = driver.find_element(By.ID, <span class="hljs-string">"su"</span>)
    search_button.click()
  
    <span class="hljs-comment"># ç­‰å¾…æœç´¢ç»“æœåŠ è½½</span>
    WebDriverWait(driver, <span class="hljs-number">10</span>).until(
        EC.presence_of_element_located((By.ID, <span class="hljs-string">"content_left"</span>))
    )
  
    <span class="hljs-comment"># éªŒè¯æœç´¢ç»“æœ</span>
    title = driver.title
    <span class="hljs-keyword">if</span> <span class="hljs-string">"è½¯ä»¶æµ‹è¯•"</span> <span class="hljs-keyword">in</span> title:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æµ‹è¯•é€šè¿‡ï¼šæœç´¢ç»“æœåŒ…å«å…³é”®è¯"</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"âŒ æµ‹è¯•å¤±è´¥ï¼šæœç´¢ç»“æœä¸åŒ…å«å…³é”®è¯"</span>)
      
<span class="hljs-keyword">finally</span>:
    <span class="hljs-comment"># å…³é—­æµè§ˆå™¨</span>
    driver.quit()
</code></pre>
<p><strong>è¿è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs">âœ… æµ‹è¯•é€šè¿‡ï¼šæœç´¢ç»“æœåŒ…å«å…³é”®è¯
</code></pre>
<h4 data-id="heading-11">3. ğŸ“Š æµ‹è¯•è¦†ç›–ç‡ï¼š"æµ‹äº†å¤šå°‘ï¼Ÿè¿˜æœ‰å¤šå°‘æ²¡æµ‹ï¼Ÿ"</h4>
<p>æµ‹è¯•è¦†ç›–ç‡æ˜¯è¡¡é‡æµ‹è¯•å®Œæ•´æ€§çš„æŒ‡æ ‡ï¼Œå¸¸è§çš„è¦†ç›–ç‡æœ‰ï¼š</p>
<ul>
<li>è¯­å¥è¦†ç›–ç‡ï¼šæ‰§è¡Œäº†å¤šå°‘ä»£ç è¡Œ</li>
<li>åˆ†æ”¯è¦†ç›–ç‡ï¼šæ‰§è¡Œäº†å¤šå°‘æ¡ä»¶åˆ†æ”¯</li>
<li>è·¯å¾„è¦†ç›–ç‡ï¼šæ‰§è¡Œäº†å¤šå°‘ä»£ç è·¯å¾„</li>
</ul>
<h3 data-id="heading-12">ğŸ“Š è¶£å‘³å¯¹æ¯”ï¼šæ‰‹å·¥æµ‹è¯• vs è‡ªåŠ¨åŒ–æµ‹è¯•</h3>













































<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>æ‰‹å·¥æµ‹è¯•</th><th>è‡ªåŠ¨åŒ–æµ‹è¯•</th></tr></thead><tbody><tr><td><strong>æ‰§è¡Œé€Ÿåº¦</strong></td><td>æ…¢ï¼ˆå°æ—¶çº§ï¼‰</td><td>å¿«ï¼ˆåˆ†é’Ÿçº§ï¼‰</td></tr><tr><td><strong>æ‰§è¡Œæˆæœ¬</strong></td><td>é«˜ï¼ˆäººåŠ›æˆæœ¬ï¼‰</td><td>ä½ï¼ˆä¸€æ¬¡æ€§ç¼–å†™ï¼‰</td></tr><tr><td><strong>ä¸€è‡´æ€§</strong></td><td>å·®ï¼ˆå®¹æ˜“å—æƒ…ç»ªå½±å“ï¼‰</td><td>å¥½ï¼ˆæ¯æ¬¡éƒ½ä¸€æ ·ï¼‰</td></tr><tr><td><strong>è¦†ç›–ç‡</strong></td><td>ä½ï¼ˆåªèƒ½è¦†ç›–æœ‰é™åœºæ™¯ï¼‰</td><td>é«˜ï¼ˆå¯è¦†ç›–å¤§é‡åœºæ™¯ï¼‰</td></tr><tr><td><strong>é‡å¤æ‰§è¡Œ</strong></td><td>ç–²åŠ³ï¼ˆé‡å¤æ“ä½œå®¹æ˜“å‡ºé”™ï¼‰</td><td>é«˜æ•ˆï¼ˆå¯24å°æ—¶ä¸é—´æ–­ï¼‰</td></tr><tr><td><strong>å›å½’æµ‹è¯•</strong></td><td>è€—æ—¶ï¼ˆæ¯æ¬¡éƒ½è¦é‡æ–°æ‰§è¡Œï¼‰</td><td>å¿«æ·ï¼ˆä¸€é”®æ‰§è¡Œï¼‰</td></tr><tr><td><strong>é€‚åˆåœºæ™¯</strong></td><td>æ¢ç´¢æ€§æµ‹è¯•ã€UIç»†èŠ‚æµ‹è¯•</td><td>å›å½’æµ‹è¯•ã€æ€§èƒ½æµ‹è¯•ã€å®‰å…¨æµ‹è¯•</td></tr></tbody></table>
<h3 data-id="heading-13">ğŸ¢ è½¯ä»¶æµ‹è¯•çš„ç±»å‹ï¼šä»åŠŸèƒ½åˆ°å®‰å…¨</h3>
<p>è½¯ä»¶æµ‹è¯•æœ‰å¾ˆå¤šç±»å‹ï¼Œè¢«ç§°ä¸º"æµ‹è¯•å®¶æ—"ï¼š</p>















































<table><thead><tr><th>æµ‹è¯•ç±»å‹</th><th>æµ‹è¯•å†…å®¹</th><th>æ¯”å–»</th><th>ä¾‹å­</th></tr></thead><tbody><tr><td><strong>åŠŸèƒ½æµ‹è¯•</strong></td><td>è½¯ä»¶çš„åŠŸèƒ½æ˜¯å¦æ­£å¸¸</td><td>æ£€æŸ¥æ±½è½¦èƒ½ä¸èƒ½å¼€</td><td>ç™»å½•ã€æ³¨å†Œã€ä¸‹å•åŠŸèƒ½æµ‹è¯•</td></tr><tr><td><strong>æ€§èƒ½æµ‹è¯•</strong></td><td>è½¯ä»¶çš„å“åº”é€Ÿåº¦å’Œç¨³å®šæ€§</td><td>æµ‹è¯•æ±½è½¦çš„åŠ é€Ÿæ€§èƒ½å’Œæœ€é«˜æ—¶é€Ÿ</td><td>å¹¶å‘ç”¨æˆ·æµ‹è¯•ã€è´Ÿè½½æµ‹è¯•</td></tr><tr><td><strong>å®‰å…¨æµ‹è¯•</strong></td><td>è½¯ä»¶çš„å®‰å…¨æ€§</td><td>æ£€æŸ¥æ±½è½¦çš„é˜²ç›—ç³»ç»Ÿ</td><td>æ¸—é€æµ‹è¯•ã€æ¼æ´æ‰«æ</td></tr><tr><td><strong>å…¼å®¹æ€§æµ‹è¯•</strong></td><td>è½¯ä»¶åœ¨ä¸åŒç¯å¢ƒä¸‹çš„è¡¨ç°</td><td>æµ‹è¯•æ±½è½¦åœ¨ä¸åŒè·¯å†µçš„è¡¨ç°</td><td>ä¸åŒæµè§ˆå™¨ã€ä¸åŒè®¾å¤‡æµ‹è¯•</td></tr><tr><td><strong>å›å½’æµ‹è¯•</strong></td><td>ä»£ç æ”¹åŠ¨åæ˜¯å¦å¼•å…¥æ–°bug</td><td>æ±½è½¦ç»´ä¿®åæ˜¯å¦æ­£å¸¸è¿è¡Œ</td><td>æ¯æ¬¡ä»£ç å‘å¸ƒå‰çš„æµ‹è¯•</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒæµ‹è¯•</strong></td><td>è½¯ä»¶çš„æ˜“ç”¨æ€§</td><td>æµ‹è¯•æ±½è½¦çš„é©¾é©¶ä½“éªŒ</td><td>ç•Œé¢ç¾è§‚åº¦ã€æ“ä½œæµç•…åº¦æµ‹è¯•</td></tr></tbody></table>
<h3 data-id="heading-14">ğŸ® è½¯ä»¶æµ‹è¯•çš„ç¥å¥‡åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-15">1. ğŸ›’ ç”µå•†å¹³å°ï¼š"åŒ11"çš„ä¿éšœ</h4>
<p>ç”µå•†å¹³å°åœ¨"åŒ11"æœŸé—´ï¼Œä¼šé¢ä¸´æµ·é‡ç”¨æˆ·è®¿é—®å’Œè®¢å•å¤„ç†ã€‚è½¯ä»¶æµ‹è¯•äººå‘˜éœ€è¦æå‰è¿›è¡Œå‹åŠ›æµ‹è¯•ï¼Œç¡®ä¿ç³»ç»Ÿèƒ½æ‰¿å—å³°å€¼æµé‡ã€‚</p>
<p><strong>æ•°æ®æ”¯æ’‘</strong>ï¼š2023å¹´å¤©çŒ«åŒ11ï¼Œæ¯ç§’å¤„ç†è®¢å•é‡è¶…è¿‡58ä¸‡ç¬”ï¼Œè¿™èƒŒåç¦»ä¸å¼€ä¸¥æ ¼çš„æ€§èƒ½æµ‹è¯•ï¼</p>
<h4 data-id="heading-16">2. ğŸ¥ åŒ»ç–—è½¯ä»¶ï¼š"äººå‘½å…³å¤©"</h4>
<p>åŒ»ç–—è½¯ä»¶çš„bugå¯èƒ½å±åŠç”Ÿå‘½ã€‚æµ‹è¯•äººå‘˜éœ€è¦è¿›è¡Œä¸¥æ ¼çš„åŠŸèƒ½æµ‹è¯•å’Œå®‰å…¨æµ‹è¯•ï¼Œç¡®ä¿è½¯ä»¶çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚</p>
<h4 data-id="heading-17">3. ğŸš— è‡ªåŠ¨é©¾é©¶ï¼š"é›¶å®¹å¿bug"</h4>
<p>è‡ªåŠ¨é©¾é©¶è½¯ä»¶çš„æ¯ä¸€ä¸ªbugéƒ½å¯èƒ½å¯¼è‡´äº‹æ•…ã€‚æµ‹è¯•äººå‘˜éœ€è¦æ¨¡æ‹Ÿå„ç§åœºæ™¯ï¼Œç¡®ä¿è½¯ä»¶åœ¨æç«¯æƒ…å†µä¸‹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚</p>
<h3 data-id="heading-18">âš ï¸ å¸¸è§è¯¯åŒºçº æ­£</h3>
<h4 data-id="heading-19">1. "è½¯ä»¶æµ‹è¯•å°±æ˜¯æ‰¾bugï¼Ÿ"</h4>
<p>ä¸ï¼è½¯ä»¶æµ‹è¯•ä¸ä»…æ˜¯æ‰¾bugï¼Œè¿˜åŒ…æ‹¬éªŒè¯éœ€æ±‚ã€æ”¹è¿›è´¨é‡ã€é™ä½é£é™©ç­‰å¤šä¸ªæ–¹é¢ã€‚</p>
<h4 data-id="heading-20">2. "æµ‹è¯•å¯ä»¥å‘ç°æ‰€æœ‰bugï¼Ÿ"</h4>
<p>ä¸ï¼è½¯ä»¶æµ‹è¯•åªèƒ½é™ä½bugçš„æ¦‚ç‡ï¼Œä¸èƒ½ä¿è¯100%æ²¡æœ‰bugã€‚è¿™å°±åƒ"ä½“æ£€ä¸èƒ½å‘ç°æ‰€æœ‰ç–¾ç—…"ä¸€æ ·ã€‚</p>
<h4 data-id="heading-21">3. "è‡ªåŠ¨åŒ–æµ‹è¯•å¯ä»¥æ›¿ä»£æ‰‹å·¥æµ‹è¯•ï¼Ÿ"</h4>
<p>ä¸ï¼è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ‰‹å·¥æµ‹è¯•æ˜¯äº’è¡¥çš„ã€‚è‡ªåŠ¨åŒ–é€‚åˆé‡å¤ã€è§„åˆ™çš„æµ‹è¯•ï¼Œæ‰‹å·¥é€‚åˆæ¢ç´¢æ€§ã€åˆ›é€ æ€§çš„æµ‹è¯•ã€‚</p>
<h4 data-id="heading-22">4. "æµ‹è¯•åº”è¯¥åœ¨å¼€å‘å®Œæˆåè¿›è¡Œï¼Ÿ"</h4>
<p>ä¸ï¼æµ‹è¯•åº”è¯¥è´¯ç©¿æ•´ä¸ªè½¯ä»¶å¼€å‘å‘¨æœŸï¼Œä»éœ€æ±‚é˜¶æ®µå°±å¼€å§‹ä»‹å…¥ï¼Œè¶Šæ—©å‘ç°é—®é¢˜ï¼Œä¿®å¤æˆæœ¬è¶Šä½ã€‚</p>
<p><strong>æ•°æ®æ”¯æ’‘</strong>ï¼šéœ€æ±‚é˜¶æ®µå‘ç°çš„bugï¼Œä¿®å¤æˆæœ¬æ˜¯ç”Ÿäº§ç¯å¢ƒçš„1/100ï¼›ç¼–ç é˜¶æ®µå‘ç°çš„bugï¼Œä¿®å¤æˆæœ¬æ˜¯ç”Ÿäº§ç¯å¢ƒçš„1/10ã€‚</p>
<h3 data-id="heading-23">ğŸ”® æœªæ¥å±•æœ›ï¼šè½¯ä»¶æµ‹è¯•çš„å‘å±•è¶‹åŠ¿</h3>
<h4 data-id="heading-24">1. ğŸ§  AIé©±åŠ¨çš„æµ‹è¯•</h4>
<p>AIå°†èå…¥æµ‹è¯•çš„å„ä¸ªç¯èŠ‚ï¼ŒåŒ…æ‹¬è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€æ™ºèƒ½é¢„æµ‹bugã€è‡ªåŠ¨ä¿®å¤ç®€å•bugç­‰ã€‚</p>
<h4 data-id="heading-25">2. ğŸ“± ç§»åŠ¨ä¼˜å…ˆæµ‹è¯•</h4>
<p>éšç€ç§»åŠ¨äº’è”ç½‘çš„å‘å±•ï¼Œç§»åŠ¨åº”ç”¨æµ‹è¯•å°†æˆä¸ºä¸»æµï¼ŒåŒ…æ‹¬è·¨å¹³å°æµ‹è¯•ã€è®¾å¤‡å…¼å®¹æ€§æµ‹è¯•ç­‰ã€‚</p>
<h4 data-id="heading-26">3. â˜ï¸ äº‘æµ‹è¯•å¹³å°</h4>
<p>äº‘æµ‹è¯•å¹³å°å°†è¶Šæ¥è¶Šæ™®åŠï¼Œæä¾›å¤§é‡çœŸå®è®¾å¤‡å’Œç¯å¢ƒï¼Œæ–¹ä¾¿æµ‹è¯•äººå‘˜è¿›è¡Œå„ç§åœºæ™¯çš„æµ‹è¯•ã€‚</p>
<h4 data-id="heading-27">4. ğŸ”’ å®‰å…¨æµ‹è¯•å¸¸æ€åŒ–</h4>
<p>éšç€ç½‘ç»œå®‰å…¨é—®é¢˜çš„æ—¥ç›Šä¸¥é‡ï¼Œå®‰å…¨æµ‹è¯•å°†æˆä¸ºè½¯ä»¶æµ‹è¯•çš„å¿…å¤‡ç¯èŠ‚ï¼Œèå…¥åˆ°å¼€å‘çš„å„ä¸ªé˜¶æ®µã€‚</p>
<h3 data-id="heading-28">ğŸ“ äº’åŠ¨å°æµ‹éªŒï¼šä½ ç­”å¯¹äº†å—ï¼Ÿ</h3>



































<table><thead><tr><th>é—®é¢˜</th><th>ç­”æ¡ˆ</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>è½¯ä»¶æµ‹è¯•çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>éªŒè¯è½¯ä»¶è´¨é‡çš„è¿‡ç¨‹</td><td>âœ…/âŒ</td></tr><tr><td>è‡ªåŠ¨åŒ–æµ‹è¯•æ¯”æ‰‹å·¥æµ‹è¯•å¿«å¤šå°‘å€ï¼Ÿ</td><td>10å€ä»¥ä¸Š</td><td>âœ…/âŒ</td></tr><tr><td>éœ€æ±‚é˜¶æ®µå‘ç°bugçš„ä¿®å¤æˆæœ¬æ˜¯ç”Ÿäº§ç¯å¢ƒçš„å¤šå°‘ï¼Ÿ</td><td>1/100</td><td>âœ…/âŒ</td></tr><tr><td>è‡ªåŠ¨åŒ–æµ‹è¯•é€‚åˆå“ªç§åœºæ™¯ï¼Ÿ</td><td>å›å½’æµ‹è¯•</td><td>âœ…/âŒ</td></tr><tr><td>AIåœ¨è½¯ä»¶æµ‹è¯•ä¸­çš„åº”ç”¨åŒ…æ‹¬ä»€ä¹ˆï¼Ÿ</td><td>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</td><td>âœ…/âŒ</td></tr></tbody></table>
<h3 data-id="heading-29">ğŸ¯ ç»“è¯­ï¼šè½¯ä»¶æµ‹è¯•æ˜¯è´¨é‡çš„ä¿éšœ</h3>
<p>è½¯ä»¶æµ‹è¯•å°±åƒ"è´¨é‡å®ˆé—¨å‘˜"ï¼Œåœ¨è½¯ä»¶å‘å¸ƒå‰æŠŠå¥½æœ€åä¸€é“å…³ã€‚æ²¡æœ‰è½¯ä»¶æµ‹è¯•ï¼Œå°±æ²¡æœ‰é«˜è´¨é‡çš„è½¯ä»¶ï¼›æ²¡æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œå°±æ²¡æœ‰å¿«é€Ÿè¿­ä»£çš„äº’è”ç½‘äº§å“ã€‚</p>
<p>ä¸‹æ¬¡ä½¿ç”¨è½¯ä»¶æ—¶ï¼Œä¸å¦¨æƒ³æƒ³èƒŒåæœ‰å¤šå°‘æµ‹è¯•äººå‘˜åœ¨é»˜é»˜ä»˜å‡ºï¼Œç¡®ä¿ä½ æœ‰è‰¯å¥½çš„ä½¿ç”¨ä½“éªŒï¼</p>
<hr/>
<h3 data-id="heading-30">ğŸ’¬ äº’åŠ¨è¯é¢˜</h3>
<ol>
<li>ä½ é‡åˆ°è¿‡æœ€ç³Ÿå¿ƒçš„è½¯ä»¶bugæ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ä½ è§‰å¾—è‡ªåŠ¨åŒ–æµ‹è¯•ä¼šå®Œå…¨æ›¿ä»£æ‰‹å·¥æµ‹è¯•å—ï¼Ÿ</li>
<li>ä½ å¯¹AIé©±åŠ¨çš„æµ‹è¯•æœ‰ä»€ä¹ˆæœŸå¾…ï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†è¸© Stream çš„å‘äº†ï¼Java å‡½æ•°å¼ç¼–ç¨‹å®‰å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7586306813727473674</link>    <guid>https://juejin.cn/post/7586306813727473674</guid>    <pubDate>2025-12-22T09:12:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586306813727473674" data-draft-id="7586338196301594670" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†è¸© Stream çš„å‘äº†ï¼Java å‡½æ•°å¼ç¼–ç¨‹å®‰å…¨æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-22T09:12:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sinoçˆ±å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/1873223544473431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†è¸© Stream çš„å‘äº†ï¼Java å‡½æ•°å¼ç¼–ç¨‹å®‰å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223544473431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sinoçˆ±å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:12:32.000Z" title="Mon Dec 22 2025 09:12:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"/>
<blockquote>
<p><strong>ç›®æ ‡</strong>ï¼šç¡®ä¿ Stream ä½¿ç”¨å®‰å…¨ã€å¯è¯»ã€å¯ç»´æŠ¤ï¼Œé¿å…ç©ºæŒ‡é’ˆã€é‡å¤ keyã€è¾¹ç•Œé—®é¢˜ã€å¹¶å‘éšæ‚£ç­‰å¸¸è§å‘ã€‚Stream æä¾›äº†ä¼˜é›…çš„å‡½æ•°å¼ç¼–ç¨‹æ–¹å¼ï¼Œä½†ä¸å½“ä½¿ç”¨å®¹æ˜“å¼•å…¥éšè”½ bugã€‚å›¢é˜Ÿç»Ÿä¸€è§„èŒƒæ˜¯å…³é”®ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ç©ºé›†åˆä¸è¾¹ç•Œæ¡ä»¶å¤„ç†</h3>
<h4 data-id="heading-2">1. <code>allMatch</code> / <code>anyMatch</code> / <code>noneMatch</code></h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼šç©ºé›†åˆæ—¶ï¼Œ<code>allMatch</code> å’Œ <code>noneMatch</code> è¿”å› <strong>true</strong>ï¼Œ<code>anyMatch</code> è¿”å› <strong>false</strong>ã€‚å¦‚æœä¸šåŠ¡è¯­ä¹‰ä¸Šç©ºé›†åˆåº”è§†ä¸ºâ€œä¸æˆç«‹â€æˆ–éœ€ç‰¹æ®Šå¤„ç†ï¼Œ<strong>å¿…é¡»æ˜¾å¼åˆ¤ç©º</strong>ã€‚</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ï¼šç©ºåˆ—è¡¨æ—¶è¿”å› trueï¼Œå¯èƒ½è¯¯å¯¼ä¸šåŠ¡ï¼ˆå¦‚â€œæ‰€æœ‰äººéƒ½æˆå¹´â€ï¼‰</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">allAdult</span> <span class="hljs-operator">=</span> list.stream().allMatch(p -&gt; p.getAge() &gt;= <span class="hljs-number">18</span>);

<span class="hljs-comment">// æ¨èï¼šæ˜¾å¼å¤„ç†ç©ºé›†åˆ</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">allAdult</span> <span class="hljs-operator">=</span> list.isEmpty() ? <span class="hljs-literal">false</span> : list.stream()
    .allMatch(p -&gt; p.getAge() &gt;= <span class="hljs-number">18</span>);

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ anyMatch çš„åœºæ™¯</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">hasMinor</span> <span class="hljs-operator">=</span> !list.isEmpty() &amp;&amp; list.stream().anyMatch(p -&gt; p.getAge() &lt; <span class="hljs-number">18</span>);
</code></pre>
<ul>
<li><strong>åŸå› </strong>ï¼švacuous truthï¼ˆç©ºé›†çœŸç†ï¼‰å¯¼è‡´é€»è¾‘åå·®ã€‚å®é™…é¡¹ç›®ä¸­å¸¸å› å¿½ç•¥ç©ºé›†åˆè€ŒåŸ‹ä¸‹ bugã€‚</li>
</ul>
<h4 data-id="heading-3">2. <code>findFirst</code> / <code>findAny</code> ä¸ null å…ƒç´ </h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼šStream ä¸­å¯èƒ½åŒ…å« null å…ƒç´ æ—¶ï¼Œ<strong>å¿…é¡»å…ˆè¿‡æ»¤ null</strong>ï¼Œå¦åˆ™åœ¨æ’åºã€æ¯”è¾ƒæˆ– Optional å¤„ç†æ—¶å¯èƒ½ NPEã€‚</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java">Optional&lt;Person&gt; firstPerson = list.stream()
    .filter(Objects::nonNull)  <span class="hljs-comment">// å…ˆè¿‡æ»¤ null</span>
    .findFirst();
</code></pre>
<ul>
<li><strong>åŸå› </strong>ï¼š<code>findFirst()</code> è¿”å› Optionalï¼Œä½†åç»­æ“ä½œï¼ˆå¦‚ comparatorï¼‰é‡åˆ° null ä¼šæŠ› NPEã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">äºŒã€<code>Collectors.toMap()</code> å®‰å…¨ä½¿ç”¨</h3>
<h4 data-id="heading-5">1. key / value ä¸å…è®¸ null</h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼š<code>Collectors.toMap()</code> å¯¹ key æˆ– value ä¸º null ä¼šæŠ› <strong>NullPointerException</strong>ã€‚å¿…é¡»æå‰è¿‡æ»¤æˆ–æä¾›é»˜è®¤å€¼ã€‚</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java">Map&lt;String, String&gt; map = list.stream()
    .filter(p -&gt; p.getName() != <span class="hljs-literal">null</span> &amp;&amp; p.getSex() != <span class="hljs-literal">null</span>)  <span class="hljs-comment">// è¿‡æ»¤ null</span>
    .collect(Collectors.toMap(
        Person::getName,
        p -&gt; Objects.requireNonNullElse(p.getSex(), <span class="hljs-string">"æœªçŸ¥"</span>),
        (v1, v2) -&gt; v1  <span class="hljs-comment">// åˆå¹¶å‡½æ•°ï¼Œå¿…å¤‡</span>
    ));
</code></pre>
<ul>
<li><strong>åŸå› </strong>ï¼šHashMap çš„ merge æ–¹æ³•ä¸å…è®¸ null valueï¼ˆå°½ç®¡ HashMap æœ¬èº«å…è®¸ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6">2. duplicate key å¤„ç†</h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼š<strong>å§‹ç»ˆæä¾› merge function</strong>ï¼Œå³ä½¿å½“å‰æ•°æ®æ— é‡å¤ï¼Œä¹Ÿè¦æ˜¾å¼å®šä¹‰ç­–ç•¥ï¼ˆä¿ç•™ç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ª/åˆå¹¶/æŠ›å¼‚å¸¸ï¼‰ã€‚</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿ç•™ç¬¬ä¸€ä¸ª</span>
.collect(Collectors.toMap(Person::getId, Function.identity(), (existing, replacement) -&gt; existing));

<span class="hljs-comment">// ä¿ç•™æœ€åä¸€ä¸ª</span>
.collect(Collectors.toMap(Person::getId, Function.identity(), (existing, replacement) -&gt; replacement));

<span class="hljs-comment">// åˆå¹¶ï¼ˆå¦‚æ±‚å’Œï¼‰</span>
.collect(Collectors.toMap(Person::getId, Person::getScore, Integer::sum));
</code></pre>
<ul>
<li><strong>åŸå› </strong>ï¼šæ—  merge function æ—¶ï¼Œduplicate key æŠ› <strong>IllegalStateException</strong>ã€‚å¹¶è¡Œæµä¸‹æ›´æ˜“è§¦å‘ã€‚</li>
</ul>
<h4 data-id="heading-7">3. å¹¶è¡Œåœºæ™¯è¡¥å……</h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼šå¹¶è¡Œæµä¸‹å»ºè®®ä½¿ç”¨ <code>Collectors.toConcurrentMap()</code> ä»¥è·å¾—çº¿ç¨‹å®‰å…¨ Mapã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€Optional çš„ä½¿ç”¨è§„èŒƒ</h3>
<h4 data-id="heading-9">1. <code>map</code> vs <code>flatMap</code></h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼š
<ul>
<li>å­—æ®µä¸å¯èƒ½ null â†’ ç”¨ <code>map</code></li>
<li>å­—æ®µå¯èƒ½ null â†’ ç”¨ <code>flatMap(Optional.ofNullable(...))</code></li>
</ul>
</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java">Optional&lt;String&gt; sexOpt = optionalPerson
    .flatMap(p -&gt; Optional.ofNullable(p.getSex()));  <span class="hljs-comment">// å®‰å…¨å¤„ç† null å­—æ®µ</span>

Optional&lt;Integer&gt; ageOpt = optionalPerson
    .map(Person::getAge);  <span class="hljs-comment">// age ä¸ä¸º null</span>
</code></pre>
<h4 data-id="heading-10">2. é¿å…ç›²ç”¨ <code>get()</code></h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼š<strong>ç¦æ­¢ç›´æ¥è°ƒç”¨ <code>get()</code></strong> æ— åˆ¤æ–­ã€‚ä¼˜å…ˆ <code>orElse</code> / <code>orElseGet</code> / <code>orElseThrow</code>ã€‚</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">String</span> <span class="hljs-variable">sex</span> <span class="hljs-operator">=</span> sexOpt.orElse(<span class="hljs-string">"æœªçŸ¥"</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">sex</span> <span class="hljs-operator">=</span> sexOpt.orElseGet(() -&gt; computeDefaultSex());
</code></pre>
<hr/>
<h3 data-id="heading-11">å››ã€map / peek / forEach çš„å‰¯ä½œç”¨è§„èŒƒ</h3>
<h4 data-id="heading-12">1. <code>map</code></h4>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šçº¯è½¬æ¢å…ƒç´ ï¼Œè¿”å›æ–°å€¼ã€‚</li>
<li><strong>è§„èŒƒ</strong>ï¼š<strong>ç¦æ­¢åœ¨ map ä¸­äº§ç”Ÿå‰¯ä½œç”¨</strong>ï¼ˆå¦‚ä¿®æ”¹åŸå¯¹è±¡ã€IOã€æ—¥å¿—ï¼‰ã€‚</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java">List&lt;Integer&gt; ages = list.stream()
    .map(Person::getAge)  <span class="hljs-comment">// çº¯è½¬æ¢</span>
    .toList();
</code></pre>
<h4 data-id="heading-13">2. <code>peek</code></h4>
<ul>
<li><strong>ç”¨é€”</strong>ï¼š<strong>ä»…ç”¨äºè°ƒè¯•æˆ–æ—¥å¿—</strong>ï¼Œè§‚å¯Ÿä¸­é—´å…ƒç´ ã€‚</li>
<li><strong>è§„èŒƒ</strong>ï¼š
<ul>
<li><strong>ç¦æ­¢åœ¨ peek ä¸­ä¿®æ”¹å…ƒç´ æˆ–å¤–éƒ¨çŠ¶æ€</strong>ï¼ˆå‰¯ä½œç”¨ï¼‰ã€‚</li>
<li>å¹¶è¡Œæµä¸­ peek æ‰§è¡Œé¡ºåºä¸å¯æ§ï¼Œå¯èƒ½è¢«ä¼˜åŒ–æ‰ï¼ˆJava 9+ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java">list.stream()
    .filter(p -&gt; p.getAge() &gt; <span class="hljs-number">18</span>)
    .peek(p -&gt; System.out.println(<span class="hljs-string">"è¿‡æ»¤å: "</span> + p))  <span class="hljs-comment">// ä»…è°ƒè¯•</span>
    .map(Person::getName)
    .toList();
</code></pre>
<h4 data-id="heading-14">3. <code>forEach</code></h4>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼šç»ˆç«¯æ“ä½œï¼Œä»…ç”¨äºæœ€ç»ˆæ¶ˆè´¹ã€‚é¿å…å¤æ‚ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-15">äº”ã€å¹¶è¡Œæµï¼ˆparallelStreamï¼‰ä½¿ç”¨è§„èŒƒ</h3>
<ul>
<li><strong>è§„èŒƒ</strong>ï¼š
<ul>
<li><strong>ä»…é™ CPU å¯†é›†å‹ã€çº¯è®¡ç®—ã€æ— å‰¯ä½œç”¨ã€æ— çŠ¶æ€çš„ä»»åŠ¡</strong>ï¼ˆå¦‚å¤§æ•°æ®é‡æ•°å€¼è®¡ç®—ï¼‰ã€‚</li>
<li><strong>ç¦æ­¢</strong> ç”¨äº IOã€DBã€RPCã€é”æ“ä½œæˆ–æœ‰å‰¯ä½œç”¨çš„åœºæ™¯ã€‚</li>
<li>ç¡®ä¿æ“ä½œ statelessï¼ˆæ— å…±äº«å¯å˜çŠ¶æ€ï¼‰å’Œ non-interferingï¼ˆä¸ä¿®æ”¹æºï¼‰ã€‚</li>
<li>æ•°æ®ç»“æ„å¼•ç”¨å±€éƒ¨æ€§å¥½ï¼ˆå¦‚åŸå§‹æ•°ç»„ï¼‰æ—¶æ”¶ç›Šæ›´é«˜ï¼›é“¾è¡¨ç­‰å·®ã€‚</li>
</ul>
</li>
<li><strong>ç¤ºä¾‹</strong></li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é€‚åˆï¼šçº¯è®¡ç®—</span>
<span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> longList.parallelStream().reduce(<span class="hljs-number">0L</span>, Long::sum);

<span class="hljs-comment">// ä¸é€‚åˆï¼šIO æ“ä½œ</span>
list.parallelStream().forEach(<span class="hljs-built_in">this</span>::saveToDb);  <span class="hljs-comment">// ç¦æ­¢ï¼</span>
</code></pre>
<ul>
<li><strong>åŸå› </strong>ï¼šå‰¯ä½œç”¨å¯¼è‡´æ•°æ®ç«äº‰ã€ä¸å¯é¢„æµ‹ç»“æœï¼›å¼€é”€å¤§æ—¶æ€§èƒ½åè€Œä¸‹é™ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-16">å…­ã€ç©ºæŒ‡é’ˆé˜²å¾¡é€šç”¨æ¨¡å¼</h3>
<ol>
<li>Stream å…ƒç´ å¯èƒ½ null â†’ <code>filter(Objects::nonNull)</code></li>
<li>å­—æ®µå¯èƒ½ null â†’ <code>Optional.ofNullable</code> + <code>flatMap</code> / <code>orElse</code></li>
<li>é›†åˆç©º â†’ åˆ¤ç©ºæˆ–ç”¨ <code>Stream.ofNullable</code>ï¼ˆJava 9+ï¼‰</li>
<li><code>toMap</code> key/value â†’ è¿‡æ»¤æˆ–å…œåº• + merge function</li>
<li>çŸ­è·¯æ“ä½œï¼ˆå¦‚ <code>findFirst</code>ï¼‰è¿”å› Optional â†’ å®‰å…¨æ¶ˆè´¹</li>
</ol>
<hr/>
<h3 data-id="heading-17">ä¸ƒã€å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§</h3>
<ul>
<li>é“¾å¼è°ƒç”¨ä¸è¶…è¿‡ <strong>4-5 ä¸ªæ“ä½œ</strong>ï¼Œå¦åˆ™æ‹†åˆ†æˆç‹¬ç«‹æ–¹æ³•æˆ–ä½¿ç”¨ä¸­é—´å˜é‡ã€‚</li>
<li>å¤æ‚é€»è¾‘ä¼˜å…ˆç”¨ä¼ ç»Ÿ for å¾ªç¯ï¼ŒStream ä»…ç”¨äºç®€å•æ•°æ®è½¬æ¢/èšåˆã€‚</li>
<li><strong>å¿…é¡»æ·»åŠ æ³¨é‡Š</strong> è¯´æ˜è¾¹ç•Œå¤„ç†ï¼ˆå¦‚ç©ºé›†åˆã€nullã€duplicate keyï¼‰ã€‚</li>
<li>ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜å¯¹è±¡å’Œçº¯å‡½æ•°é£æ ¼ã€‚</li>
<li>ä»£ç å®¡æŸ¥é‡ç‚¹æ£€æŸ¥ï¼šå‰¯ä½œç”¨ã€å¹¶è¡Œæµä½¿ç”¨ã€merge function æ˜¯å¦ç¼ºå¤±ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-18">å…«ã€æ€»ç»“ï¼ˆå›¢é˜Ÿæ‰§è¡Œè¦ç‚¹ï¼‰</h3>
<ol>
<li><strong>ç©ºé›†åˆ/null å…ƒç´ /å­—æ®µ</strong> â†’ æ°¸è¿œé˜²å¾¡ï¼Œä¸è¿‡åº¦ä¿¡ä»» Stream é»˜è®¤è¡Œä¸ºã€‚</li>
<li><strong>toMap/toConcurrentMap</strong> â†’ å¿…æä¾› merge functionï¼Œé˜²å¾¡ null å’Œ duplicateã€‚</li>
<li><strong>Optional</strong> â†’ ç¦æ­¢ç›² get()ï¼Œå–„ç”¨ flatMap/orElseã€‚</li>
<li><strong>map/peek/forEach</strong> â†’ map æ— å‰¯ä½œç”¨ï¼Œpeek ä»…è°ƒè¯•ï¼ŒforEach ä»…ç»ˆç«¯æ¶ˆè´¹ã€‚</li>
<li><strong>parallelStream</strong> â†’ ä¸¥æ ¼é™å®šåœºæ™¯ï¼Œé¿å…å‰¯ä½œç”¨å’Œ IOã€‚</li>
<li><strong>å¯è¯»æ€§</strong> â†’ çŸ­é“¾ã€æ³¨é‡Šã€ä¼˜å…ˆä¼ ç»Ÿå¾ªç¯å¤„ç†å¤æ‚é€»è¾‘ã€‚</li>
</ol>
<blockquote>
<p>Stream ä¼˜é›…å¼ºå¤§ï¼Œä½†â€œä¼˜é›…â€ä¸ç­‰äºâ€œå®‰å…¨â€ã€‚å›¢é˜Ÿè§„èŒƒæ˜¯é¿å…å‘çš„æœ€åé˜²çº¿ï¼Œè¿åè§„èŒƒç­‰äºè‡ªåŸ‹é›·åŒºã€‚å®šæœŸå®¡æŸ¥ Stream ä»£ç ï¼Œå…»æˆé˜²å¾¡å¼ç¼–ç¨‹ä¹ æƒ¯ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++å›¢é˜Ÿçš„æµå¼ç³»ç»Ÿä¹‹è·¯ï¼šä»å­¦ä¹ æˆæœ¬åˆ°å®æˆ˜ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7586482860103417883</link>    <guid>https://juejin.cn/post/7586482860103417883</guid>    <pubDate>2025-12-22T09:25:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482860103417883" data-draft-id="7586338196301692974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++å›¢é˜Ÿçš„æµå¼ç³»ç»Ÿä¹‹è·¯ï¼šä»å­¦ä¹ æˆæœ¬åˆ°å®æˆ˜ç­–ç•¥"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-22T09:25:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªç”±ç”Ÿé•¿2024"/> <meta itemprop="url" content="https://juejin.cn/user/1591748569862670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++å›¢é˜Ÿçš„æµå¼ç³»ç»Ÿä¹‹è·¯ï¼šä»å­¦ä¹ æˆæœ¬åˆ°å®æˆ˜ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748569862670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªç”±ç”Ÿé•¿2024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:25:29.000Z" title="Mon Dec 22 2025 09:25:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ‘˜è¦ï¼šåœ¨å®æ—¶æ•°æ®å¤„ç†é¢†åŸŸï¼Œæµå¼ç³»ç»Ÿå·²æˆä¸ºç°ä»£æ¶æ„çš„åŸºçŸ³ã€‚å¯¹äºC++å›¢é˜Ÿè€Œè¨€ï¼Œæµå¼ç³»ç»Ÿçš„é€‰å‹å’Œæ„å»ºå§‹ç»ˆä¼´éšç€<strong>å­¦ä¹ æˆæœ¬</strong>ã€<strong>æ„å»ºæˆæœ¬</strong>å’Œ<strong>æ€§èƒ½</strong>çš„æƒè¡¡ã€‚æœ¬æ–‡æ—¨åœ¨æ¢è®¨C++å›¢é˜Ÿå¦‚ä½•åœ¨è¿™äº›æŒ‘æˆ˜ä¸­æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-0">C++å›¢é˜Ÿçš„æµå¼ç³»ç»Ÿä¹‹è·¯ï¼šä»å­¦ä¹ æˆæœ¬åˆ°å®æˆ˜ç­–ç•¥</h2>
<h3 data-id="heading-1">ä¸€ã€å­¦ä¹ æˆæœ¬ï¼šä»â€œç®€å•ä¸Šæ‰‹â€åˆ°â€œæ·±åº¦æŒæ§â€</h3>
<h4 data-id="heading-2">1. Javaç”Ÿæ€çš„â€œå¼€ç®±å³ç”¨â€ vs C++çš„â€œç¢ç‰‡åŒ–å·¥å…·é“¾â€</h4>























<table><thead><tr><th>è¯­è¨€ç”Ÿæ€</th><th>å­¦ä¹ æ›²çº¿</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>å…¸å‹ä»£è¡¨</th></tr></thead><tbody><tr><td><strong>Java</strong></td><td>ä¸­ç­‰åä¸Š</td><td>å®Œæ•´çš„æµå¤„ç†æŠ½è±¡ï¼ˆçª—å£ã€çŠ¶æ€ã€å®¹é”™ï¼‰</td><td>Apache Flink</td></tr><tr><td><strong>C++</strong></td><td>æé«˜</td><td>è´´è¿‘ç¡¬ä»¶ã€æè‡´æ€§èƒ½</td><td>Kafka + librdkafka</td></tr></tbody></table>
<blockquote>
<p><code>librdkafka</code> è¿™ä¸ªåå­—ä¸­çš„ <strong>â€œrdâ€</strong> ï¼Œå…¶å®æ˜¯ä½œè€… <strong>Eden Hill</strong>ï¼ˆè¯¥é¡¹ç›®çš„åˆ›å»ºè€…å’Œä¸»è¦ç»´æŠ¤è€…ï¼‰åœ¨æ—©æœŸå¼€å‘çš„ä¸€ç³»åˆ—å¼€æºé¡¹ç›®ä¸­ä½¿ç”¨çš„å‘½åå‰ç¼€ï¼Œæœ‰ä¸€ç§å¹¿ä¸ºæ¥å—çš„è¯´æ³•æ˜¯ï¼š <strong>â€œrdâ€ æ˜¯ â€œRealtime Dataâ€ çš„ç¼©å†™</strong>ï¼Œå› ä¸ºè¿™äº›å·¥å…·ä¸»è¦ç”¨äºå®æ—¶æ•°æ®å¤„ç†ã€‚è™½ç„¶ Eden Hill æœ¬äººæ²¡æœ‰åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ˜ç¡®è¯´æ˜ï¼Œä½†ç¤¾åŒºæ™®éæ¥å—è¿™ä¸€è§£é‡Šã€‚</p>
</blockquote>
<p>C++å®é™…å·¥ä½œç¯å¢ƒçš„å¾ˆå¤šåŸºå»ºéƒ½æ˜¯æ‹¼æ­çš„ï¼Œå¹¶æ²¡æœ‰å¾ˆå‡ºåçš„åå­—ï¼Œä¸ä¿¡ä½ å¯ä»¥è§‚å¯Ÿçœ‹çœ‹ï¼Œæ‰€ä»¥å¤§å¤šåŠŸèƒ½ä¹Ÿéƒ½æ˜¯æŒ‰éœ€å¼€å‘çš„ï¼Œé¡¹ç›®ä¹Ÿæ¯”è¾ƒå°ï¼Œæ¯”è¾ƒä¸“ç”¨ï¼Œå¤§ä¸€ç»Ÿçš„ä¸šåŠ¡é¡¹ç›®æ¯”è¾ƒå°‘ã€‚</p>
<p><strong>C++å›¢é˜Ÿçš„å›°å¢ƒ</strong>ï¼š</p>
<ul>
<li>æ²¡æœ‰â€œä¸€ç«™å¼â€æµå¤„ç†æ¡†æ¶ï¼ˆå¦‚Flinkï¼‰ï¼Œéœ€æ‹¼æ¥å¤šä¸ªå·¥å…·ï¼ˆå¦‚Kafkaã€Redisã€è‡ªå®šä¹‰é€»è¾‘ï¼‰ã€‚</li>
<li>éœ€æ‰‹åŠ¨å®ç°æ ¸å¿ƒæœºåˆ¶ï¼ˆå¦‚Exactly-Onceã€Watermarkï¼‰ï¼Œå­¦ä¹ æˆæœ¬é™¡å³­ã€‚</li>
</ul>
<p><strong>å…¸å‹åœºæ™¯</strong>ï¼š</p>
<ul>
<li>ä¸€ä½C++å·¥ç¨‹å¸ˆç”¨ <code>librdkafka</code> å®ç°ç‚¹å‡»è®¡æ•°ï¼Œå´å‘ç°ï¼š
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// åŸå§‹ä»£ç ï¼šç®€å•Mapè®¡æ•°</span>
std::map&lt;std::string, <span class="hljs-type">int</span>&gt; user_clicks;
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; event : events) {
    user_clicks[event.userId]++;
}
</code></pre>
ä½†å¾ˆå¿«é‡åˆ°é—®é¢˜ï¼š
<ul>
<li><strong>çŠ¶æ€æŒä¹…åŒ–</strong>ï¼šå¦‚ä½•å®šæœŸä¿å­˜ï¼Ÿï¼ˆéœ€è‡ªå·±å®ç° WAL æˆ– Redisï¼‰</li>
<li><strong>å»é‡</strong>ï¼šå¦‚ä½•å¤„ç†é‡å¤äº‹ä»¶ï¼Ÿï¼ˆéœ€ç»´æŠ¤ event_id å»é‡è¡¨ï¼‰</li>
<li><strong>çª—å£ç®¡ç†</strong>ï¼šå¦‚ä½•æ¸…ç†è¿‡æœŸæ•°æ®ï¼Ÿï¼ˆéœ€éå† Map åˆ¤æ–­æ—¶é—´æˆ³ï¼‰</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>ç»“è®º</strong>ï¼šC++å›¢é˜Ÿåœ¨â€œç®€å•éœ€æ±‚â€ä¸Šçœ‹ä¼¼è½»æ¾ï¼Œä½†ä¸€æ—¦æ¶‰åŠå¤æ‚è¯­ä¹‰ï¼Œå­¦ä¹ æˆæœ¬è¿œé«˜äº Java æµå¼æ¡†æ¶ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-3">2. æ··åˆæ¶æ„çš„â€œæ¸è¿›å¼å­¦ä¹ â€ç­–ç•¥</h4>
<p>C++å›¢é˜Ÿå¸¸é‡‡ç”¨â€œåˆ†å±‚å­¦ä¹ â€ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å…ˆç”¨ Kafka + librdkafka</strong>ï¼šç†Ÿæ‚‰æ¶ˆæ¯æ¶ˆè´¹ã€ç”Ÿäº§æµç¨‹ã€‚</li>
<li><strong>å†æ¥å…¥ Flink</strong>ï¼šç”¨ Flink SQL å¤„ç†å¤æ‚é€»è¾‘ï¼ˆå¦‚çª—å£èšåˆï¼‰ã€‚</li>
<li><strong>é€æ­¥è‡ªç ”æ ¸å¿ƒæ¨¡å—</strong>ï¼šä»…åœ¨å…³é”®è·¯å¾„ï¼ˆå¦‚é«˜é¢‘äº¤æ˜“è§„åˆ™ï¼‰æ›¿æ¢ä¸º C++ã€‚</li>
</ol>
<p>å¦‚æœæ‰€æœ‰å·¥å…·éƒ½æ˜¯çº¯è¡€C++ï¼Œè‡ªå·±æ‰‹æ“ï¼Œé‚£ä¹ˆå…¬å¸å¾—èŠ±å¤šå°‘é’±å…»è¿™ä¹ˆäº›äººå‘¢ï¼Ÿ</p>
<p>ä»¥å¤§æ•°æ®åŸºå»ºä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[å­¦ä¹ é˜¶æ®µ] --&gt; B[KafkaåŸºç¡€]
    B --&gt; C[Flinké«˜çº§]
    C --&gt; D[è‡ªç ”æ¨¡å—]
</code></pre>
<hr/>
<h3 data-id="heading-4">äºŒã€æ„å»ºæˆæœ¬ï¼šè‡ªç ” vs ç°æˆæ¡†æ¶çš„ç»æµè´¦</h3>
<h4 data-id="heading-5">1. è‡ªç ”æµå¼ç³»ç»Ÿçš„ä»£ä»·</h4>






























<table><thead><tr><th>ç»´åº¦</th><th>è‡ªç ”æˆæœ¬</th><th>ç°æˆæ¡†æ¶ï¼ˆå¦‚ Flinkï¼‰</th></tr></thead><tbody><tr><td>å¼€å‘æ—¶é—´</td><td>æ•°æœˆåˆ°æ•°å¹´</td><td>å‡ å°æ—¶ï¼ˆSQLå³å¯ï¼‰</td></tr><tr><td>åŠŸèƒ½å®Œæ•´æ€§</td><td>éœ€æ‰‹åŠ¨å®ç° Exactly-Onceã€Watermarkã€Checkpoint</td><td>å¼€ç®±å³ç”¨</td></tr><tr><td>ç»´æŠ¤æˆæœ¬</td><td>æ°¸ä¹…æ€§æŠ•å…¥</td><td>ç¤¾åŒºæ”¯æŒ + æ–‡æ¡£å®Œå–„</td></tr><tr><td>æ€§èƒ½ä¼˜åŒ–</td><td>éœ€ç²¾ç»†è°ƒä¼˜ï¼ˆSIMDã€å†…å­˜æ± ï¼‰</td><td>JVM ä¼˜åŒ–æˆç†Ÿ</td></tr></tbody></table>
<p><strong>çœŸå®æ¡ˆä¾‹</strong>ï¼š</p>
<ul>
<li>æŸé‡‘èå…¬å¸æ›¾å°è¯•è‡ªç ”æµå¼å¼•æ“ï¼Œè€—æ—¶ 18 ä¸ªæœˆï¼Œæœ€ç»ˆå› æ— æ³•å¤„ç†â€œäº‹ä»¶æ—¶é—´çª—å£â€å’Œâ€œExactly-Onceâ€è€Œæ”¾å¼ƒï¼Œè½¬å› Flinkã€‚</li>
</ul>
<h4 data-id="heading-6">2. æ··åˆæ¶æ„çš„â€œä½æˆæœ¬é«˜æ”¶ç›Šâ€æ¨¡å¼</h4>

























<table><thead><tr><th>å±‚çº§</th><th>æŠ€æœ¯é€‰å‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒå±‚</strong></td><td>C++ + Kafka</td><td>å¾®ç§’çº§å¤„ç†ï¼ˆå¦‚é£æ§è§„åˆ™ï¼‰</td></tr><tr><td><strong>é€šç”¨å±‚</strong></td><td>Flink</td><td>èšåˆã€å…³è”ã€å­˜å‚¨</td></tr><tr><td><strong>è§£è€¦å±‚</strong></td><td>Kafka</td><td>æ¶ˆæ¯ç¼“å†²ä¸æ•°æ®æ ¼å¼è½¬æ¢</td></tr></tbody></table>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>C++åªå¤„ç†å…³é”®è·¯å¾„</strong>ï¼šå¦‚â€œ1ç§’å†…åŒä¸€IPç™»å½•å¤±è´¥è¶…è¿‡100æ¬¡â€ï¼Œå…¶ä»–é€»è¾‘ç”± Flink å¤„ç†ã€‚</li>
<li><strong>é¿å…é‡å¤é€ è½®å­</strong>ï¼šC++å›¢é˜Ÿæ— éœ€é‡å†™çª—å£ã€çŠ¶æ€ç®¡ç†ç­‰é€šç”¨åŠŸèƒ½ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€C++å›¢é˜Ÿçš„å®æˆ˜ç­–ç•¥ï¼šä»å·¥å…·åˆ°å“²å­¦</h3>
<h4 data-id="heading-8">1. å·¥å…·é€‰å‹ï¼šC++ + Kafka çš„é»„é‡‘ç»„åˆ</h4>
<p><strong>librdkafka</strong> æ˜¯ C++ å›¢é˜Ÿçš„é¦–é€‰ï¼Œå…¶ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>æ€§èƒ½</strong>ï¼šæ¯” Java Kafka å®¢æˆ·ç«¯å¿« 30%+ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fedenhill%2Flibrdkafka%2Fwiki%2FPerformance" target="_blank" title="https://github.com/edenhill/librdkafka/wiki/Performance" ref="nofollow noopener noreferrer">åŸºå‡†æµ‹è¯•</a>ï¼‰ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šæ”¯æŒå›è°ƒå¼æ¶ˆè´¹ï¼Œå¯æ·±åº¦å®šåˆ¶å¤„ç†é€»è¾‘ã€‚</li>
<li><strong>è½»é‡</strong>ï¼šæ— éœ€ JVMï¼Œé€‚åˆèµ„æºå—é™ç¯å¢ƒã€‚</li>
</ul>
<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼šC++ å®ç°ç‚¹å‡»è®¡æ•°ï¼ˆç®€åŒ–ç‰ˆï¼‰</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;librdkafka/rdkafkacpp.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ClickCounter</span> : <span class="hljs-keyword">public</span> RdKafka::MessageHandler {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">msg_consume</span><span class="hljs-params">(RdKafka::Message* msg)</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">auto</span> event = <span class="hljs-built_in">parse_event</span>(msg-&gt;<span class="hljs-built_in">payload</span>());
        <span class="hljs-keyword">auto</span>&amp; count = user_clicks[event.userId];
        count++;
        <span class="hljs-keyword">if</span> (count &gt;= threshold) {
            <span class="hljs-built_in">trigger_alert</span>(event.userId);
        }
    }

<span class="hljs-keyword">private</span>:
    std::unordered_map&lt;std::string, <span class="hljs-type">int</span>&gt; user_clicks;
    <span class="hljs-type">int</span> threshold = <span class="hljs-number">100</span>;
};
</code></pre>
<p><strong>å±€é™æ€§</strong>ï¼š</p>
<ul>
<li><strong>æ— çŠ¶æ€ä¸€è‡´æ€§</strong>ï¼šæœåŠ¡é‡å¯åè®¡æ•°å½’é›¶ã€‚</li>
<li><strong>æ— è‡ªåŠ¨å»é‡</strong>ï¼šéœ€è‡ªè¡Œå®ç° event_id å»é‡é€»è¾‘ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-9">2. æ€§èƒ½ä¼˜åŒ–ï¼šC++ çš„â€œæœ€åä¸€å…¬é‡Œâ€</h4>
<p>C++ å›¢é˜Ÿåœ¨æç«¯æ€§èƒ½åœºæ™¯ä¸‹çš„ä¼˜åŒ–æŠ€å·§ï¼š</p>






























<table><thead><tr><th>ä¼˜åŒ–ç‚¹</th><th>å®ç°æ–¹å¼</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><strong>é›¶æ‹·è´</strong></td><td><code>mmap</code> + <code>sendfile</code></td><td>å‡å°‘ CPU å ç”¨ 20%~30%</td></tr><tr><td><strong>å†…å­˜æ± </strong></td><td>è‡ªå®šä¹‰å†…å­˜æ± åˆ†é…å™¨</td><td>é¿å…é¢‘ç¹å†…å­˜ç”³è¯·</td></tr><tr><td><strong>SIMD åŠ é€Ÿ</strong></td><td>ä½¿ç”¨ <code>__m256</code> æŒ‡ä»¤é›†</td><td>æ‰¹é‡å¤„ç†é€Ÿåº¦æå‡ 3~5 å€</td></tr><tr><td><strong>æ‰¹å¤„ç†</strong></td><td>å°†å°äº‹ä»¶èšåˆæˆæ‰¹æ¬¡</td><td>å‡å°‘ I/O æ¬¡æ•°</td></tr></tbody></table>
<p><strong>çœŸå®æ¡ˆä¾‹</strong>ï¼šæŸç”µä¿¡å…¬å¸çš„ C++ æµå¤„ç†å¼•æ“</p>
<ul>
<li>ä½¿ç”¨ SIMD ä¼˜åŒ–ç”¨æˆ·è¡Œä¸ºè¯„åˆ†é€»è¾‘ï¼Œå°†å•ç”¨æˆ·å¤„ç†æ—¶é—´ä» 2ms é™è‡³ 0.4msã€‚</li>
<li>é€šè¿‡å†…å­˜æ± å‡å°‘ GC å‹åŠ›ï¼ˆå°½ç®¡ C++ æ—  GCï¼Œä½†é¢‘ç¹ <code>new/delete</code> ä»ä¼šå¯¼è‡´ç¢ç‰‡åŒ–ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-10">å››ã€C++å›¢é˜Ÿçš„å“²å­¦ï¼šåŠ¡å®ä¸å¦¥åçš„è‰ºæœ¯</h3>
<h4 data-id="heading-11">1. <strong>ä¸è¦ä¸ºâ€œé«˜æ€§èƒ½â€ç‰ºç‰²å¯ç»´æŠ¤æ€§</strong></h4>
<ul>
<li><strong>é”™è¯¯åšæ³•</strong>ï¼šä¸ºè¿½æ±‚å¾®ç§’çº§å»¶è¿Ÿï¼Œå®Œå…¨æ”¾å¼ƒæ¡†æ¶ï¼Œæ‰‹åŠ¨å®ç°æ‰€æœ‰é€»è¾‘ã€‚</li>
<li><strong>æ­£ç¡®åšæ³•</strong>ï¼šç”¨ C++ ä¼˜åŒ–å…³é”®è·¯å¾„ï¼Œå…¶ä»–éƒ¨åˆ†äº¤ç»™æˆç†Ÿæ¡†æ¶ã€‚</li>
</ul>
<h4 data-id="heading-12">2. <strong>æ··åˆæ¶æ„æ˜¯ C++ å›¢é˜Ÿçš„ç”Ÿå­˜ä¹‹é“</strong></h4>
<ul>
<li><strong>C++ åšâ€œåˆ€åˆƒâ€</strong>ï¼šå¤„ç†æ¯«ç§’çº§å“åº”ã€é«˜é¢‘äº‹ä»¶ã€‚</li>
<li><strong>Flink åšâ€œåº•ç›˜â€</strong>ï¼šè´Ÿè´£å¤æ‚è®¡ç®—ã€çŠ¶æ€ç®¡ç†ã€å®¹é”™æ¢å¤ã€‚</li>
</ul>
<h4 data-id="heading-13">3. <strong>æ€§èƒ½ä¼˜åŒ–è¦â€œé€‚åº¦â€</strong></h4>
<ul>
<li><strong>è¿‡åº¦ä¼˜åŒ–</strong>ï¼šä¸ºèŠ‚çœ 1ms å¢åŠ  10 å€ä»£ç å¤æ‚åº¦ï¼Œå¾—ä¸å¿å¤±ã€‚</li>
<li><strong>åˆç†å–èˆ</strong>ï¼šç”¨ Flink çš„ <code>TUMBLE</code> çª—å£ä»£æ›¿æ‰‹åŠ¨æ—¶é—´ç®¡ç†ï¼ŒèŠ‚çœæ•°å‘¨å¼€å‘æ—¶é—´ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-14">äº”ã€ç»“è¯­ï¼šC++ å›¢é˜Ÿçš„æµå¼ç³»ç»Ÿä¹‹é“</h3>
<p>C++ å›¢é˜Ÿåœ¨æµå¼ç³»ç»Ÿé¢†åŸŸçš„æŒ‘æˆ˜ï¼Œæœ¬è´¨ä¸Šæ˜¯ <strong>â€œæè‡´æ€§èƒ½â€ä¸â€œå·¥ç¨‹æ•ˆç‡â€</strong> çš„åšå¼ˆã€‚é€šè¿‡ä»¥ä¸‹ç­–ç•¥ï¼Œå¯ä»¥æ‰¾åˆ°æœ€ä½³å¹³è¡¡ç‚¹ï¼š</p>
<ol>
<li><strong>ä¼˜å…ˆä½¿ç”¨ Kafka + librdkafka</strong>ï¼šå¿«é€Ÿæ„å»ºåŸºç¡€æµå¤„ç†èƒ½åŠ›ã€‚</li>
<li><strong>æ··åˆæ¶æ„åˆ†å±‚è®¾è®¡</strong>ï¼šC++ å¤„ç†å…³é”®è·¯å¾„ï¼ŒFlink å¤„ç†é€šç”¨é€»è¾‘ã€‚</li>
<li><strong>åªåœ¨å¿…è¦æ—¶è‡ªç ”</strong>ï¼šé¿å…é‡å¤é€ è½®å­ï¼Œèšç„¦ä¸šåŠ¡ä»·å€¼ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–é€‚åº¦</strong>ï¼šç”¨å·¥å…·é“¾è§£å†³ 80% é—®é¢˜ï¼Œç•™ 20% ç»™ C++ ä¼˜åŒ–ã€‚</li>
</ol>
<blockquote>
<p><strong>æœ€ç»ˆç»“è®º</strong>ï¼š<br/>
C++ å›¢é˜Ÿä¸æ˜¯åœ¨â€œå¯¹æŠ— Java ç”Ÿæ€â€ï¼Œè€Œæ˜¯åœ¨ç”¨ C++ çš„â€œæ‰‹æœ¯åˆ€â€è§£å†³æµå¤„ç†ä¸­çš„â€œç¡¬éª¨å¤´â€ã€‚çœŸæ­£çš„é«˜æ‰‹ï¼Œæ˜¯æ‡‚å¾—ä½•æ—¶â€œç”¨æ¡†æ¶â€ï¼Œä½•æ—¶â€œåŠ¨æ‰‹å†™â€çš„åŠ¡å®æ´¾ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter 3.38 30å¤©å‘6ä¸ªç‰ˆæœ¬ï¼ŒGoogle ç¨‹åºå‘˜çš„å¤´å‘è¿˜å¥½å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586493936676814888</link>    <guid>https://juejin.cn/post/7586493936676814888</guid>    <pubDate>2025-12-22T09:24:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936676814888" data-draft-id="7586482851103211555" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter 3.38 30å¤©å‘6ä¸ªç‰ˆæœ¬ï¼ŒGoogle ç¨‹åºå‘˜çš„å¤´å‘è¿˜å¥½å—ï¼Ÿ"/> <meta itemprop="keywords" content="Flutter,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T09:24:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è€åˆ˜"/> <meta itemprop="url" content="https://juejin.cn/user/662360127965769"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter 3.38 30å¤©å‘6ä¸ªç‰ˆæœ¬ï¼ŒGoogle ç¨‹åºå‘˜çš„å¤´å‘è¿˜å¥½å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/662360127965769/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è€åˆ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:24:45.000Z" title="Mon Dec 22 2025 09:24:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯è€åˆ˜</strong></p>
<p>æœ€è¿‘å¦‚æœä½ ç›¯ç€ Flutter çš„ release é¡µé¢ä¼šå‘ç°ï¼Œä» 11æœˆ12æ—¥ åˆ° 12æœˆ11æ—¥ï¼ŒçŸ­çŸ­ 30 å¤©å†…ï¼ŒFlutter å®˜æ–¹ç«Ÿç„¶ä¸€å£æ°”æ›´æ–°äº† 6 ä¸ªç‰ˆæœ¬ï¼</p>
<p>å¹³å‡ 5 å¤©ä¸€ä¸ªç‰ˆæœ¬ï¼Œæœ€å¤¸å¼ çš„æ—¶å€™ï¼Œä¸¤ä¸ªè¡¥ä¸ç‰ˆæœ¬çš„é—´éš”ç”šè‡³ä¸åˆ° 24 å°æ—¶ã€‚æ¯”æˆ‘æäº¤ä»£ç åˆ° dev åˆ†æ”¯è¿˜è¦å‹¤å¿«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/533f81aeb799437194ee5109a52ce2e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767000284&amp;x-signature=U8U1H0dCgyK38kehPgyYFctqoLU%3D" alt="" loading="lazy"/></p>
<p>çœ‹ç€ 3.38.x çš„ç‰ˆæœ¬å·ä¸€è·¯ç‹‚é£™ï¼ŒçœŸå¿ƒæƒ³é—®é—®ï¼šGoogle ç¨‹åºå‘˜çš„å¤´å‘è¿˜å¥½å—ï¼Ÿ</p>
<h2 data-id="heading-0">è¿™äº›ç‰ˆæœ¬åˆ°åº•ä¿®äº†å•¥ï¼Ÿ</h2>
<p>ä¸‹é¢æ•´ç†äº† Flutter 3.38 å„ä¸ªå°ç‰ˆæœ¬çš„æ›´æ–°å†…å®¹</p>
<h3 data-id="heading-1">Flutter 3.38.5</h3>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong> ï¼š2025å¹´12æœˆ13æ—¥<br/>
<strong>ä¿®å¤å†…å®¹</strong> ï¼š</p>
<ul>
<li>flutter/179700 ï¼šå°† Dart SDK æ›´æ–°è‡³ 3.10.4 ç‰ˆæœ¬ã€‚</li>
</ul>
<h3 data-id="heading-2">Flutter 3.38.4</h3>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong> ï¼š2025å¹´12æœˆ5æ—¥<br/>
<strong>ä¿®å¤å†…å®¹</strong> ï¼š</p>
<ul>
<li>flutter/178547 ï¼šä¿®å¤ Linux æ¡Œé¢ç«¯ä½¿ç”¨ Skia æ¸²æŸ“å™¨æ—¶çš„æ¸²æŸ“é—®é¢˜ã€‚</li>
<li>flutter/178529 ï¼šä¿®å¤è¿è¡Œ debug web æ—¶ AppLocalizations è¢«æ„å¤–åˆ é™¤çš„é—®é¢˜ã€‚</li>
<li>flutter/178660 ï¼šä¿®å¤å½“ .dart_tool ç›®å½•ç»“æ„ä¸å®Œæ•´æ—¶ï¼Œ flutter widget-preview start å´©æºƒçš„é—®é¢˜ã€‚</li>
<li>flutter/175227 ï¼šä¿®å¤ Flutter Web åº”ç”¨åœ¨ Chrome ä¸­å¯åŠ¨æ—¶æ˜¾ç¤º --no-sandbox è­¦å‘Šçš„é—®é¢˜ã€‚</li>
<li>flutter/179155 ï¼šä¿®å¤é¡¹ç›®å¤–éƒ¨ pubspec.yaml å˜åŠ¨å¯¼è‡´ Widget Previewer å´©æºƒçš„é—®é¢˜ã€‚</li>
<li>flutter/156692 ï¼šä¿®å¤ç›®æ ‡åº”ç”¨æ„å¤–æ–­å¼€è¿æ¥å¯¼è‡´ flutter attach å´©æºƒçš„é—®é¢˜ã€‚</li>
<li>flutter/179008 ï¼šä¿®å¤ macOS ä¸Šæ ¹é¡¹ç›®è¿è¡Œ pub get åï¼Œå¤–éƒ¨ pubspec.yaml å˜åŠ¨å¯¼è‡´é‡å¤ spawn pub get çš„é—®é¢˜ã€‚</li>
<li>flutter/178715 ï¼šä¿®å¤ Linux/macOS ä¸Šç¼ºå°‘æ¡Œé¢å·¥å…·æ—¶ï¼Œå¯¹ Android é¡¹ç›®è¿è¡Œ flutter test å¤±è´¥çš„é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-3">Flutter 3.38.3</h3>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong> ï¼š2025å¹´11æœˆ22æ—¥<br/>
<strong>ä¿®å¤å†…å®¹</strong> ï¼š</p>
<ul>
<li>flutter/178772 ï¼šä¿®å¤ Flutter Engine æŠ¥å‘Šçš„ç‰ˆæœ¬å·ä¸ Framework ç‰ˆæœ¬ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</li>
<li>flutter/178804 ï¼šå°† Dart SDK æ›´æ–°è‡³ 3.10.1 ç‰ˆæœ¬ã€‚</li>
</ul>
<h3 data-id="heading-4">Flutter 3.38.2</h3>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong> ï¼š2025å¹´11æœˆ19æ—¥<br/>
<strong>ä¿®å¤å†…å®¹</strong> ï¼š</p>
<ul>
<li>flutter/178472 ï¼šä¿®å¤åˆ†æ Dart æ–‡ä»¶å˜æ›´è¿‡ç¨‹ä¸­é€€å‡º Widget Previewer å¯¼è‡´å´©æºƒçš„é—®é¢˜ã€‚</li>
<li>flutter/178452 ï¼šä¿®å¤ add-to-app åœºæ™¯ä¸‹ iOS æ„å»ºæŠ¥é”™ "Improperly formatted define flag" çš„é—®é¢˜ã€‚</li>
<li>flutter/178486 ï¼šä¿®å¤ç¦ç”¨ Web æ”¯æŒæ—¶å¯åŠ¨ Widget Previewer æŠ›å‡ºå¼‚å¸¸çš„é—®é¢˜ã€‚</li>
<li>flutter/178317 ï¼šä¿®å¤æ’ä»¶ä¾èµ–å˜æ›´æ—¶è¿è¡Œ flutter pub get å¯¼è‡´ Widget Previewer å´©æºƒçš„é—®é¢˜ã€‚</li>
<li>flutter/178318 ï¼šä¿®å¤å•ä¸€è¿›ç¨‹å´©æºƒæäº¤å¤šä¸ªå´©æºƒæŠ¥å‘Šçš„é—®é¢˜ã€‚</li>
<li>flutter/176399 ï¼šä¿®å¤ç¼–è¯‘ Windows æ¡Œé¢åº”ç”¨æ—¶ä¸æ”¯æŒ Visual Studio 2026 çš„é—®é¢˜ã€‚</li>
<li>flutter/175058 ï¼šä¿®å¤ç›®æ ‡é¡¹ç›®æœªè¿è¡Œ pub get æ—¶ Widget Previewer å¯åŠ¨å¤±è´¥çš„é—®é¢˜ã€‚</li>
<li>flutter/178421 ï¼šä¿®å¤ IDE è°ƒè¯•ç‰©ç† iOS 26 è®¾å¤‡æ—¶åº”ç”¨å¯åŠ¨å¡ç™½å±çš„é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-5">Flutter 3.38.1</h3>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong> ï¼š2025å¹´11æœˆ14æ—¥<br/>
<strong>ä¿®å¤å†…å®¹</strong> ï¼š</p>
<ul>
<li>flutter/178400 ï¼šæ­£å¼æ·»åŠ å¯¹ Dart 3.10 stable ç‰ˆæœ¬çš„æ”¯æŒã€‚</li>
</ul>
<h3 data-id="heading-6">Flutter 3.38.0</h3>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong> ï¼š2025å¹´11æœˆ13æ—¥</p>
<ul>
<li>åˆå§‹ç¨³å®šç‰ˆæœ¬å‘å¸ƒ ï¼šåŒ…å«è¯¥å‘¨æœŸçš„æ‰€æœ‰æ–°ç‰¹æ€§ï¼ˆå¦‚å¯¹ iOS 26 çš„æ”¯æŒã€Dart 3.10 æ–°è¯­æ³•æ”¯æŒã€Widget Previewer æ”¹è¿›ç­‰ï¼‰ã€‚</li>
</ul>
<p><strong>æ€»ç»“ä¸€ä¸‹</strong></p>
<p>è¿™ä¸€ä¸ªæœˆï¼ŒFlutter å›¢é˜ŸåŸºæœ¬ä¸Šå°±æ˜¯åœ¨<strong>ä¿® Widget Previewer -&gt; å‡ Dart -&gt; ä¿®å„å¹³å°å…¼å®¹æ€§</strong>è¿™ä¸ªå¾ªç¯é‡Œç‹‚å¥”ã€‚</p>
<hr/>
<h2 data-id="heading-7">Flutter 3.38è¿˜å¤„äºè§‚å¯ŸæœŸ</h2>
<p>è€åˆ˜ä¹‹å‰åœ¨å¾ˆå¤šåœºåˆéƒ½åå¤å¼ºè°ƒè¿‡ä¸€ä¸ªâ€œé˜²å‘æŒ‡å—â€ï¼š<strong>ä¸€ä¸ªæ–°çš„ Flutter ç‰ˆæœ¬å‘å¸ƒåï¼Œè‡³å°‘è¦è§‚å¯Ÿä¸¤ä¸ªæœˆï¼Œç­‰å®ƒåŸºæœ¬ç¨³å®šäº†ï¼Œæ²¡æœ‰ä»€ä¹ˆå¤§é—®é¢˜äº†ï¼Œå†è€ƒè™‘å‡çº§ã€‚</strong></p>
<p>çœ‹çœ‹ 3.38 è¿™ä¸€ä¸ªæœˆçš„è¡¨ç°ï¼Œå®Œå…¨éªŒè¯äº†è€åˆ˜çš„è¿™ä¸ªè§‚ç‚¹ã€‚30 å¤© 6 ä¸ªç‰ˆæœ¬ï¼Œè¿™é¢‘ç‡è™½ç„¶æ„Ÿäººï¼Œä½†ä¹Ÿæ„å‘³ç€è¿™ä¸ªç‰ˆæœ¬ç›®å‰è¿˜éå¸¸ä¸ç¨³å®šã€‚å°¤å…¶æ˜¯è¿™æ¬¡æ›´æ–°æ¶‰åŠåˆ°äº†Dart SDK çš„å‡çº§ï¼Œå¾ˆå®¹æ˜“ç‰µä¸€å‘è€ŒåŠ¨å…¨èº«ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬åœ¨å…¬å¸é‡Œç»´æŠ¤çš„å•†ä¸šé¡¹ç›®ï¼Œ<strong>ç¨³å®šæ°¸è¿œæ˜¯ç¬¬ä¸€ä½çš„</strong>ã€‚ä½ æŠ¢å…ˆå‡çº§ï¼Œå¤§æ¦‚ç‡ä¼šé‡åˆ°å„ç§ç¼–è¯‘å¤±è´¥ã€å·¥å…·å´©æºƒï¼ˆæ¯”å¦‚ä¸Šé¢æåˆ°çš„ Previewer å„ç§å´©ï¼‰ã€ç”šè‡³è¿è¡Œæ—¶çš„è¯¡å¼‚ Bugã€‚åˆ°æ—¶å€™ä¸ºäº†ä¿®è¿™äº›éä¸šåŠ¡é€»è¾‘çš„ Bugï¼ŒåŠ ç­æ‰å¤´å‘çš„å¯æ˜¯ä½ è‡ªå·±ã€‚</p>
<p>æ‰€ä»¥ï¼Œè€åˆ˜çœŸå¿ƒå»ºè®®ï¼š<strong>å…ˆåˆ«åŠ¨</strong>ã€‚è®© 3.38 å†â€œé£â€ä¸€ä¼šå„¿ã€‚ç­‰å®ƒå‘åˆ° 3.38.8 ç”šè‡³å‡ºäº† 3.39ï¼Œç¤¾åŒºé‡Œçš„å‘éƒ½è¢«å¡«å¾—å·®ä¸å¤šäº†ï¼Œæ‰æ˜¯æˆ‘ä»¬å…¥åœºçš„æœ€ä½³æ—¶æœºã€‚ç°åœ¨ï¼Œå°±é™é™åœ°çœ‹ç€ Google çš„å¤§ä½¬ä»¬è¡¨æ¼”ï¼ˆä¿® Bugï¼‰å°±å¥½ã€‚</p>
<hr/>
<h2 data-id="heading-8">æ€»ç»“ï¼šåˆ«æ…Œï¼Œè¿™æ˜¯å¥½äº‹ï¼ˆå¤§æ¦‚ï¼‰</h2>
<p>çœ‹åˆ°è¿™é‡Œï¼Œå¯èƒ½å¾ˆå¤šåŒå­¦å¿ƒé‡Œä¼šçŠ¯å˜€å’•ï¼šGoogle è¿™ä¹ˆç€æ€¥å‘ç‰ˆï¼Œæ˜¯ä¸æ˜¯ Flutter è¦å‡‰æˆ–è€…è´¨é‡ä¸è¡Œï¼Ÿ</p>
<p>å…¶å®å¤§å¯ä¸å¿…æƒŠæ…Œã€‚è€åˆ˜è§‰å¾—ï¼Œè¿™åè€Œæ˜¯å¥½äº‹ã€‚</p>
<p>ç†Ÿæ‚‰ Flutter çš„è€æœ‹å‹éƒ½çŸ¥é“ï¼Œè¿™å±äºâ€œä¼ ç»Ÿä¿ç•™èŠ‚ç›®â€äº†ã€‚</p>
<p>å‡ ä¹æ¯ä¸€ä¸ªå¤§ç‰ˆæœ¬å‘å¸ƒåï¼Œéƒ½ä¼šç´§è·Ÿç€ä¸€ä¸²å°è¡¥ä¸ï¼Œè¿™æ°æ°è¯´æ˜ Google ä¾ç„¶åœ¨é‡å…µæŠ•å…¥ Flutterï¼Œå‘ç°é—®é¢˜è§£å†³é—®é¢˜çš„é€Ÿåº¦æå¿«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae9a2e4252974365b8ca477615c56c16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6ICB5YiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767000284&amp;x-signature=1aPljVTh8W9%2F30vFxBZcLmD795Y%3D" alt="3.16å‡ºäº†9ä¸ªå°ç‰ˆæœ¬" loading="lazy"/></p>
<p>æ¯•ç«Ÿï¼Œåªæœ‰äº²å„¿å­æ‰ä¼šå¾—åˆ°å¦‚æ­¤ç»†è‡´ï¼ˆè™½ç„¶æœ‰ç‚¹æ€¥èºï¼‰çš„ç…§æ–™ï¼Œæ²¡äººä¼šç»™å¼ƒå­è¿™ä¹ˆå‹¤å¿«åœ°ä¿® Bugã€‚</p>
<p>æ‰€ä»¥ï¼Œçœ‹ç€ç‰ˆæœ¬å·é£™å‡ï¼Œæˆ‘ä»¬åº”è¯¥æ„Ÿåˆ°æ¬£æ…°ã€‚</p>
<p>è¿™æ¯ä¸€ä¸ªç‰ˆæœ¬å·èƒŒåï¼Œéƒ½æ˜¯ Google å·¥ç¨‹å¸ˆå¥‹æ–—çš„é‡Œç¨‹ç¢‘ï¼ˆå’ŒçŒ®ç¥­çš„å¤´å‘ï¼‰ã€‚</p>
<p>åªè¦ Flutter è¿˜åœ¨å˜å¥½ï¼Œè¿˜åœ¨å¿«é€Ÿè¿­ä»£ï¼Œè¿™ç‚¹å¤´å‘æ‰äº†å°±æ‰äº†ç½¢â€”â€”åæ­£æ‰çš„æ˜¯ä»–ä»¬çš„ï¼Œæˆ‘ä»¬åäº«å…¶æˆï¼ŒæŒºå¥½ã€‚</p>
<blockquote>
<p>å¦‚æœçœ‹åˆ°è¿™é‡Œçš„åŒå­¦å¯¹å®¢æˆ·ç«¯æˆ–è€…Flutterå¼€å‘æ„Ÿå…´è¶£ï¼Œæ¬¢è¿è”ç³»è€åˆ˜ï¼Œæˆ‘ä»¬äº’ç›¸å­¦ä¹ ã€‚</p>
<p>ç§ä¿¡å…è´¹é¢†è€åˆ˜æ•´ç†çš„ã€ŠFlutterå¼€å‘æ‰‹å†Œã€‹ï¼Œè¦†ç›–90%åº”ç”¨å¼€å‘åœºæ™¯ã€‚</p>
<p>å¯ä»¥ä½œä¸ºFlutterå­¦ä¹ çš„çŸ¥è¯†åœ°å›¾ã€‚</p>
<p>â€”â€” laoliu_dev</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠ€æœ¯è§†è§’ä¸‹çš„ Credits æ¶ˆè€—ä¸ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7586482851103195171</link>    <guid>https://juejin.cn/post/7586482851103195171</guid>    <pubDate>2025-12-22T09:18:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482851103195171" data-draft-id="7586496648378253312" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠ€æœ¯è§†è§’ä¸‹çš„ Credits æ¶ˆè€—ä¸ä¼˜åŒ–"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2025-12-22T09:18:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œå·´å·´AIç¼–ç¨‹ç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/1757434193132441"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠ€æœ¯è§†è§’ä¸‹çš„ Credits æ¶ˆè€—ä¸ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1757434193132441/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œå·´å·´AIç¼–ç¨‹ç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:18:36.000Z" title="Mon Dec 22 2025 09:18:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Qoder å›¢é˜Ÿçš„å¤æŒ¯åï¼Œä¸»è¦è´Ÿè´£ Qoder Agent ç›¸å…³å·¥ä½œã€‚ä»Šå¤©æˆ‘å°†ä»æŠ€æœ¯è§’åº¦è§£é‡Š Qoder ä¸­ Credits çš„æ¶ˆè€—æœºåˆ¶ï¼Œå¹¶åˆ†äº«èŠ‚çœ Credits çš„æœ€ä½³å®è·µã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸»æµ AI æ¨¡å‹çš„å®šä»·ç­–ç•¥</h2>
<p>é¦–å…ˆï¼Œå¾ˆå¤šç”¨æˆ·å¯¹æµ·å¤–æ¨¡å‹çš„å®šä»·ä½“ç³»ä¸å¤ªäº†è§£ï¼Œæ‰€ä»¥å¯¹ Credits çš„æ¶ˆè€—â€œæ²¡æ¦‚å¿µâ€â€”â€”æ¯”å¦‚ä¸€ä¸ªä»»åŠ¡ä¸ºä»€ä¹ˆä¼šæ¶ˆè€—è¿™ä¹ˆå¤š Creditsï¼Ÿ</p>
<p>è¿™é‡Œä»¥æŸå‚å•†çš„ä¸¤ä¸ªæ¨¡å‹ç³»åˆ—ä¸ºä¾‹ï¼š</p>
<ul>
<li>O ç³»åˆ—ï¼ˆæ¨¡å‹æœ€æ–°ï¼‰ï¼šè¾“å…¥Â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mi mathvariant="normal">/</mi><mi>M</mi><mi>T</mi><mi>o</mi><mi>k</mi><mtext>ï¼Œè¾“å‡º</mtext></mrow><annotation encoding="application/x-tex">5/MTokï¼Œè¾“å‡º </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">5/</span><span class="mord mathnormal" style="margin-right:0.13889em;">MT</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">ï¼Œè¾“å‡º</span></span></span></span></span>25/MTokï¼Œç¼“å­˜è¯»å–ä»·æ ¼ $0.50/MTokã€‚</li>
<li>S ç³»åˆ—ï¼ˆæ¨¡å‹æ¬¡æ–°ï¼‰ï¼šè¾“å…¥Â <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi mathvariant="normal">/</mi><mi>M</mi><mi>T</mi><mi>o</mi><mi>k</mi><mtext>ï¼Œè¾“å‡º</mtext></mrow><annotation encoding="application/x-tex">3/MTokï¼Œè¾“å‡º </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">3/</span><span class="mord mathnormal" style="margin-right:0.13889em;">MT</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">ï¼Œè¾“å‡º</span></span></span></span></span>15/MTokï¼Œç¼“å­˜è¯»å–ä»·æ ¼ $0.30/MTokã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9fd4f9f6f5804d848ff9d3a39ee3aaac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=MQQ1wdGSXTZb2ZtpJ9eRLTAOoSQ%3D" alt="" loading="lazy"/></p>
<p>ä¸¤ä¸ªç³»åˆ—çš„æ•´ä½“å®šä»·ç­–ç•¥åŸºæœ¬ç±»ä¼¼ï¼Œä½†æœ€å…³é”®çš„ä¸€ç‚¹ï¼šå¦‚æœèƒ½å‘½ä¸­ç¼“å­˜ï¼Œæˆæœ¬åªè¦ 1/10ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f90eb979b67b488fa7168c60e395bb05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=GGdro8tRd64yPGR7mxW6yzGO4BY%3D" alt="" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼ŒQoder åšäº†å¾ˆå¤šæŠ€æœ¯ç­–ç•¥å»ä¼˜åŒ–ç¼“å­˜å‘½ä¸­ç‡ã€‚è€Œå¤§å®¶åœ¨ä½¿ç”¨æ—¶ï¼Œå¦‚æœä¹Ÿèƒ½ç”¨ä¸€äº›èƒ½å‘½ä¸­ç¼“å­˜çš„æ–¹å¼ï¼Œä¹Ÿä¼šéå¸¸èŠ‚çœæˆæœ¬ã€‚</p>
<h2 data-id="heading-1">äºŒã€Qoder Agent çš„äº¤äº’æˆæœ¬æ„æˆ</h2>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸‹ Coding Agent çš„äº¤äº’æµç¨‹ä¸ Token æ¶ˆè€—çš„æƒ…å†µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcbe84f999e44aafad17b2e267420527~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=PEyj1eGBP5Fe5zRHHrXXzD27jTg%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>System+Tools</strong><br/>
å¦‚æœåšè¿‡ Agent çš„å¼€å‘çš„åŒå­¦å¯èƒ½ä¼šäº†è§£åˆ°ï¼Œæˆ‘ä»¬ä¼šç»™æ¨¡å‹ä¸€ä¸ªèº«ä»½ï¼šâ€œä½ æ˜¯ä¸€ä¸ªç¼–ç¨‹ä¸“å®¶ï¼Œæ“…é•¿ XXXï¼Œé‡åˆ° XXX æƒ…å†µè¦ç”¨ XXX å·¥å…·â€ã€‚è¿˜ä¼šç»™æ¨¡å‹å¾ˆå¤šå·¥å…·ï¼Œä¾‹å¦‚ä»£ç è¯»å–ã€ä»£ç ç¼–è¾‘ã€ç»ˆç«¯æ‰§è¡Œã€Web æ£€ç´¢â€¦â€¦å¦‚æœç”¨äº† MCPï¼Œä¹Ÿä¼šåŠ è¿›å»ã€‚</li>
</ol>
<p>è¿™éƒ¨åˆ†ä¸€èˆ¬æ˜¯å¯ä»¥å‘½ä¸­ç¼“å­˜çš„ï¼Œåœ¨å‰é¢çš„æ¨¡å‹ä¸‹çº¦ $0.3/MTokã€‚</p>
<ol start="2">
<li>
<p><strong>User</strong><br/>
ä½ å…¶å®åœ¨æé—®çš„æ—¶å€™ï¼Œç»å¸¸ä¼šç±»ä¼¼æˆ‘è¿™é‡Œå†™åˆ°çš„ä¸€äº›ç”¨æ³•ï¼Œæ¯”å¦‚ï¼šâ€œå¸®æˆ‘ç”Ÿæˆä¸€ä¸ª to-do APPã€‚â€<br/>
ä½ è¿˜å¯èƒ½å¼•å…¥æ–‡ä»¶ã€å›¾ç‰‡ï¼ˆæ¯”å¦‚è®¾è®¡ç¨¿æˆªå›¾ï¼‰ã€Agents.mdã€Rulesã€ç›®å½•ç­‰è¾…åŠ©è®© Agent çš„ç”Ÿæˆçš„æ›´å¥½ã€‚è¿™éƒ¨åˆ†æ˜¯è¾“å…¥ï¼Œä¸€èˆ¬ä¼šå‘½ä¸­åˆ°å‰é¢è®²çš„é‚£ä¸ªæ¨¡å‹çš„æˆæœ¬é‡Œé¢çš„ catchã€‚</p>
</li>
<li>
<p><strong>Action</strong><br/>
ç„¶åæ¨¡å‹ä¼šè¾“å‡ºä¸€ä¸ªä¸€ä¸ªçš„ Actionï¼Œç›¸å½“äºè®©æ¨¡å‹å¸®æˆ‘å»æ„å»ºä¸€ä¸ª to do APPï¼Œé‚£ä¹ˆè¿™ä¸ªæ¨¡å‹å¯èƒ½ä¼šè¯´ï¼šâ€œæˆ‘è¦è¯» ä¸€ä¸ªæ–‡ä»¶â€ ã€â€œæˆ‘è¦ç¼–è¾‘ ä¸€ä¸ªæ–‡ä»¶â€æˆ– â€œæˆ‘è¦åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶â€ã€‚è¿™ä¸ªå…¶å®å°±æ˜¯æ¨¡å‹çš„è¾“å‡ºï¼Œæ¨¡å‹çš„è¾“å‡ºæ˜¯æ¯”è¾ƒè´µçš„ï¼Œçº¦ $15/MTokã€‚</p>
</li>
<li>
<p><strong>Observation</strong></p>
</li>
</ol>
<p>æœ€å Qoder çš„ Agent å°±ä¼šé€šè¿‡å·¥å…·ä¼šè°ƒç”¨çš„æ–¹å¼å»æ‹¿åˆ°è¿™ä¸ª Action å¯¹åº”çš„ä¸€ä¸ª Observation çš„ç»“æœã€‚è¿™ä¸ªç»“æœé€šè¿‡ Catch Write çš„æ–¹å¼å»è¯·æ±‚æ¨¡å‹ï¼Œæˆæœ¬çº¦ $3.75/MTokã€‚</p>
<p>é‡ç‚¹æ¥äº†ï¼šä½ é—®ä¸€ä¸ªé—®é¢˜ï¼ŒAgent ä¸æ˜¯ä¸€æ¬¡å°±å®Œäº‹çš„ï¼å®ƒä¼šå¾ªç¯è°ƒç”¨æ¨¡å‹ï¼šAction â†’ Observation â†’ Action â†’ Observationâ€¦â€¦ç›´åˆ°ä»»åŠ¡å®Œæˆæˆ–éœ€è¦ä½ ç¡®è®¤ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸€æ¬¡ç”¨æˆ·è¯·æ±‚ = N æ¬¡æ¨¡å‹è°ƒç”¨ = N æ¬¡æ”¶è´¹ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/244844b4029945b2b32a443d81c7c72a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=%2BFs5sqfzkEfj9%2FNnvD6Uqwz99fo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€Qoder çœŸå®åœºæ™¯æˆæœ¬æµ‹ç®—</h2>
<p>ä¸€æ¬¡å¯¹è¯çš„æˆæœ¬è®¡ç®—å…¬å¼ï¼šâ€‹<code>â€‹æ€»æˆæœ¬ = æ¨¡å‹è°ƒç”¨æ¬¡æ•° Ã— (ç¼“å­˜éƒ¨åˆ† + æ™®é€šè¾“å…¥ + è¾“å‡ºéƒ¨åˆ†)â€‹</code>â€‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee94498093284859bf591ad90b651742~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=X8nzwLn%2BJpQu7tI77iHMXooc9kc%3D" alt="" loading="lazy"/></p>
<p>ä¸€æ¬¡å¯¹è¯çš„æˆæœ¬ï¼Œå…¶å®å®ƒæ˜¯ç”±é‚£ä¸ªæ¨¡å‹è°ƒç”¨çš„æ¬¡æ•°ä½œä¸ºè¿™ä¸ªåŸºæ•°çš„ï¼Œå°±æ˜¯ä½ è°ƒåæ¬¡é‚£å°±æ”¶åæ¬¡çš„é’±ã€‚å¦‚æœä½ é—®ä¸€ä¸ªä½ å¥½ï¼ŒQoder å›ä¸€ä¸ªä½ å¥½ï¼Œé‚£å¯èƒ½å°±åªæ”¶ä¸€æ¬¡çš„é’±ã€‚æ¯ä¸€æ¬¡çš„è¯ï¼Œå…¶å®æœ‰å®ƒçš„ç¼“å­˜éƒ¨åˆ†ï¼Œä¹Ÿæœ‰æ²¡æœ‰å‘½ä¸­ç¼“å­˜çš„éƒ¨åˆ†ï¼Œå†åŠ ä¸Šæ¨¡å‹çš„è¾“å‡ºéƒ¨åˆ†ï¼Œæœ€ååŠ åœ¨ä¸€èµ·çš„æ€»æˆæœ¬ã€‚</p>
<h3 data-id="heading-3">åœºæ™¯ 1ï¼šä¸Šä¸‹æ–‡é•¿åº¦å¯¹æˆæœ¬çš„å½±å“</h3>
<ul>
<li>ä» 100K ä¸Šä¸‹æ–‡å¼€å§‹å¯¹è¯ï¼Œå‡è®¾ä¸€æ¬¡ä»»åŠ¡è°ƒç”¨ 10 æ¬¡æ¨¡å‹ï¼Œ90%ç¼“å­˜å‘½ä¸­ç‡ï¼š</li>
</ul>

<ul>
<li>O ç³»åˆ—æ¨¡å‹ï¼šâ‰ˆ $1.00/æ¬¡å¯¹è¯</li>
<li>S ç³»åˆ—æ¨¡å‹ï¼šâ‰ˆ $0.59/æ¬¡å¯¹è¯</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e88a0d97b544dafb1fd3bcdcc038226~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=lq4xP30kOElDem59qO0fB9rD69s%3D" alt="" loading="lazy"/></p>
<ul>
<li>åŒæ ·çš„ä»»åŠ¡ï¼Œä»20Kä¸Šä¸‹æ–‡å¼€å§‹å¯¹è¯ï¼š</li>
</ul>

<ul>
<li>O ç³»åˆ—æ¨¡å‹ï¼šâ‰ˆ $0.22/æ¬¡å¯¹è¯</li>
<li>S ç³»åˆ—æ¨¡å‹ï¼šâ‰ˆ $0.13/æ¬¡å¯¹è¯</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef5ca534b1f044a090f759f8de3fe4d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=kjkofs%2BB1fEc9GArcN0e%2Bg49gAQ%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹å‡ºï¼Œä»20Kä¸Šä¸‹æ–‡å¼€å§‹å¯¹è¯ä¸ä»100Kä¸Šä¸‹æ–‡å¼€å§‹å¯¹è¯ç›¸æ¯”ï¼Œå¯ä»¥èŠ‚çœçº¦ 78%æˆæœ¬ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ çš„æ–°ä»»åŠ¡å’Œå†å²å¯¹è¯æ— å…³ï¼Œè¯·åŠ¡å¿…æ–°å¼€ä¸€ä¸ªçª—å£ï¼</p>
<p>ç›®å‰Qoder æ”¯æŒæŸ¥çœ‹ç”¨æˆ·çš„Credits æ¶ˆè€—è´¦å•ï¼Œåœ¨çœŸå®åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬çš„å•æ¬¡å¯¹è¯è°ƒç”¨å¤§çº¦<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.1</mn><mtext>Â </mtext></mrow><annotation encoding="application/x-tex">0.1~</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.1</span><span class="mspace nobreak">Â </span></span></span></span></span>1ï¼Œè¿™æ˜¯æ­£å¸¸çš„ Credits æ¶ˆè€—èŒƒå›´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c541f00de37f40308769d51623203aa8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=zTjUuid77NnJiVHHBRRvv%2B2KuzE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">åœºæ™¯ 2ï¼šä¸Šä¸‹æ–‡å‹ç¼©å¯¹æˆæœ¬çš„å½±å“</h3>
<p>å½“ä¸Šä¸‹æ–‡å¿«è¾¾åˆ°æ¨¡å‹ä¸Šé™ï¼ˆæ¯”å¦‚ 200Kï¼‰æ—¶ï¼Œå¿…é¡»åšå‹ç¼©ã€‚Claude Code ä¸Šä¸‹æ–‡åœ¨ 160~180K æ—¶çš„ä¸€æ¬¡å‹ç¼©æˆæœ¬å¤§çº¦Â $0.48ã€‚Qoder åšäº†æ·±åº¦ä¼˜åŒ–ï¼Œé€šè¿‡æ™ºèƒ½ç¼“å­˜å‘½ä¸­ï¼Œä¸€æ¬¡å‹ç¼©æˆæœ¬èŠ‚çœ 84%ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e422243983b24cbb8fc1ecbe2a26676e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=m14zyhy7LylvWThp%2F8uWb9mvE9k%3D" alt="" loading="lazy"/></p>
<p>ä¸Šä¸‹æ–‡é€è®ºç´¯ç§¯ï¼Œåˆ°è¾¾é˜ˆå€¼å‹ç¼©ï¼Œæ¯æ¬¡æ¨¡å‹äº¤äº’éƒ½ä¼šæœ‰ç›¸å…³çš„å‹ç¼©æˆæœ¬ã€‚ä»¥æ–‡ä»¶å¤§å°å½±å“å‹ç¼©æˆæœ¬ä¸ºä¾‹ï¼š</p>
<ul>
<li>å°æ–‡ä»¶ä»»åŠ¡ï¼šæˆæœ¬ â‰ˆ $0.20ï¼Œç»“æŸæ—¶ä¸Šä¸‹æ–‡ â‰ˆ 40K</li>
<li>å¤§æ–‡ä»¶ä»»åŠ¡ï¼šæˆæœ¬ â‰ˆ $0.65ï¼Œç»“æŸæ—¶ä¸Šä¸‹æ–‡ â‰ˆ 140K</li>
</ul>
<p>ç»“æŸæ—¶ä¸Šä¸‹æ–‡å¤§å°ä¹Ÿä¼šç›´æ¥å½±å“åç»­è¿½é—®æˆæœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad246738c1904e7d985d4115cfad8192~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=l7f2F5D31R1c5lZ93tnjTLxvAo4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">å››ã€èŠ‚çœ Credits çš„æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-6">1.Â æ— å…³è¯é¢˜ï¼Œæ–°å¼€çª—å£</h3>
<p>é¿å…ä¸Šä¸‹æ–‡ç§¯ç´¯ï¼Œä¿æŒä¼šè¯ç®€æ´ï¼Œå‡å°‘ Token æ¶ˆè€—ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c526648922f6495a80856b1ae8e4d9e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=45faNrchDhmhw4AXOEJLIx%2BS5Vs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">2.Â æ˜ç¡®å‘ŠçŸ¥æœŸæœ›è¡Œä¸º</h3>
<p>å‘Šè¯‰ AIï¼šç‰¹å®šé¡¹ç›®ä¸è¦å†™æµ‹è¯•ã€ä¸è¦è¿è¡Œã€ä¸è¦å†™è¿‡ç¨‹è¯´æ˜å’Œè§£é‡Šæ–‡æ¡£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da9efa6055e64516abb8df153434078c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=8qwCgThHNFXmBkWDor1hEZCxaPo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">3.Â å‘ç°è·‘åï¼Œç«‹å³ç»ˆæ­¢</h3>
<p>å‘ç° Agent åç¦»ç›®æ ‡æ—¶ï¼Œç«‹å³åœæ­¢ï¼Œé¿å…æ— è°“ Token æ¶ˆè€—ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fc159a37046439e9c870987eb8b55b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=R2TwEgTO8VQrGp0ztmcVfvwIYi0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">4.Â æ…ç”¨å¯¹è¯å¼å›æ»š</h3>
<p>å¦‚æœæŸä¸€æ¬¡çš„å¯¹è¯äº§ç”Ÿäº†ä¸€äº›ä»£ç å˜æ›´ï¼Œä¸æ˜¯æˆ‘é¢„æœŸå†…çš„ï¼Œå»ºè®®ä½¿ç”¨ Qoder çš„Â Revert åŠŸèƒ½æˆ–Â Reject å˜æ›´ï¼Œä¸æ¨èé€šè¿‡èŠå¤©è®© AI å›æ»šä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66e4c69d186b4d6baee615e922260ea7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=MNhaKCpMmwzm7hoOrvKH12sT0MU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">5.Â æŒ‰éœ€é€‰æ‹©æ¨¡å‹ç­‰çº§</h3>
<p>Qoderæä¾›å¤šçº§æ¨¡å‹é€‰æ‹©ï¼Œæ‚¨å¯æ ¹æ®ä»»åŠ¡å¤æ‚åº¦å’Œå…·ä½“åœºæ™¯éœ€æ±‚çµæ´»é€‰æ‹©é€‚åˆçš„æ¨¡å‹ï¼š</p>
<ul>
<li>Liteï¼šé€‚åˆç®€å•ä»»åŠ¡ï¼Œä¾‹å¦‚ï¼šç®€å•é—®ç­”ã€è¯­æ³•æ£€æŸ¥ã€‚</li>
<li>Efficientï¼šç»æµé«˜æ•ˆï¼Œé€‚åˆæ—¥å¸¸ç¼–ç ã€å°åŠŸèƒ½å¼€å‘ã€‚</li>
<li>Autoã€Performanceï¼šé€‚åˆå¤æ‚åŠŸèƒ½ã€å…¨æ ˆå¼€å‘ã€‚</li>
<li>Ultimateï¼šä½¿ç”¨æµ·å¤–æœ€å¥½ã€æœ€é¡¶å°–çš„æ¨¡å‹ï¼Œé€‚åˆä¼ä¸šçº§é¡¹ç›®ã€é«˜ç²¾åº¦ä»»åŠ¡æˆæœ¬æœ€é«˜ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4a5a29344c54c4cb9b795eaaeed6a97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=YrLxAL9Jpv4nvIlVuNygAD%2BtT%2Fs%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">6.Â ä¼˜åŒ–ä»£ç ä»“åº“ç»“æ„</h3>
<p>å°½é‡è®©æˆ‘ä»¬çš„ä»£ç ä»“åº“çš„ç»“æ„å’Œ AI æ›´å‹å¥½ï¼š</p>
<ul>
<li>æ§åˆ¶ä»“åº“ä»£ç æ–‡ä»¶çš„é•¿åº¦ï¼Œé¿å…è¿‡é•¿çš„ä»£ç æ–‡ä»¶ã€‚å»ºè®®å•æ–‡ä»¶ä¸è¶…è¿‡200è¡Œï¼Œé¿å…2000+è¡Œçš„å·¨æ— éœ¸æ–‡ä»¶ï¼Œä»¥æå‡ä»£ç å¯ç»´æŠ¤æ€§å’ŒAIå¤„ç†æ•ˆç‡ã€‚</li>
<li>ä½¿ç”¨å¼ºç±»å‹è¯­è¨€ï¼Œå‡å°‘ AI å¹»è§‰</li>
<li>å†™ä»£ç æ—¶æ·»åŠ å‡½æ•°æ³¨é‡Šï¼Œæå‡ AI æ£€ç´¢ç²¾åº¦</li>
<li>é…ç½®Â â€‹<code>â€‹.qoderignoreâ€‹</code>â€‹ï¼Œæ’é™¤æ— éœ€åˆ†æçš„ç›®å½•ï¼ˆå¦‚Â â€‹<code>â€‹node_modulesâ€‹</code>â€‹ã€æ„å»ºäº§ç‰©ã€éšç§æ–‡ä»¶ï¼‰ï¼Œå‡å°‘æ— æ•ˆ Tokenã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d48dbe9a82f04c5d840bbdaf9f2f5ccb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=oIv3sEJO%2B2ORZDeryDFss6xDb44%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">7.Â æŒ‰éœ€å¯ç”¨ MCP å·¥å…·</h3>
<p>MCP çš„å·¥å…·ä½ å¯ä»¥æŒ‰éœ€å¯ç”¨ï¼Œåˆ«å› ä¸ºæŸä¸ª MCP å·¥å…·â€œæŒºç«â€å°±ä¸€ç›´å¼€ç€ï¼Œå®ƒä¼šä¸€ç›´å ç€ä½ çš„ä¸Šä¸‹æ–‡æˆæœ¬ï¼ä¸ç”¨çš„ MCPï¼Œèµ¶ç´§ç¦ç”¨ã€‚é¿å…åŠ è½½â€œå·¥å…·æ•°é‡åºå¤§â€çš„ä½æ•ˆ MCPã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49c8d53a87b74ed283a10f57de6377d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=VoJC8EwTFMD7LCJvdyjeaVaChqM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">8.Â è¿ç»­å¯¹è¯åˆ©ç”¨ç¼“å­˜</h3>
<p>æ¨¡å‹ç¼“å­˜æœ‰æ•ˆæœŸåŸºæœ¬ä¸Šåœ¨Â 5~10 åˆ†é’Ÿï¼Œå¦‚æœä½ æå®Œé—®é¢˜ï¼ŒåŠå°æ—¶åå†è¿½é—®ï¼Œå°±æ— æ³•å‘½ä¸­ç¼“å­˜ï¼Œæˆæœ¬å°±ä¼šæ›´é«˜ã€‚</p>
<p><strong>å¦™æ‹›</strong>ï¼šç”¨ Qoder çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼ä»»åŠ¡è¿˜åœ¨è·‘æ—¶ï¼Œç›´æ¥åœ¨è¾“å…¥æ¡†é‡Œå†™ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œå›è½¦ã€‚å®ƒä¼šè‡ªåŠ¨æ’é˜Ÿï¼Œæ— ç¼è¡”æ¥ï¼Œå¤§å¹…åº¦å‘½ä¸­ç¼“å­˜ï¼Œé™ä½ Creditsï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a4af8072d564943a308d64b3aa1b93f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5be05be0QUnnvJbnqIvnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766999916&amp;x-signature=FRZ9FQJ3IRF6EY1LKumi9ghumPQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>èŠ‚çœCreditsçš„æœ¬è´¨ï¼Œæ˜¯æå‡äººæœºåä½œçš„æ•ˆç‡ï¼Œç»éä¸€å‘³åœ°å‡å°‘ä½¿ç”¨ï¼Œè€Œæ˜¯é€šè¿‡<strong>æ¸…æ™°çš„æŒ‡ä»¤</strong>ã€<strong>å¯¹ä¸Šä¸‹æ–‡çš„ä¸»åŠ¨ç®¡ç†</strong>å’Œ<strong>æ°åˆ°å¥½å¤„çš„äººæœºåˆ†å·¥</strong>ï¼Œæ¥æè‡´æå‡äººæœºåä½œçš„æ•ˆç‡ã€‚æŒæ¡è¿™äº›æŠ€å·§ï¼Œæ‚¨å°†èƒ½æœ€å¤§åŒ–Creditsçš„ä»·å€¼ï¼Œè®©QoderçœŸæ­£æˆä¸ºæå‡æ‚¨å¼€å‘æ•ˆç‡å’Œåˆ›é€ åŠ›çš„å¼ºå¤§åŠ©åŠ›ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸Šçº¿å‰ä¸åš Code Reviewï¼Ÿä½ å¯èƒ½æ­£åœ¨ç»™å›¢é˜ŸåŸ‹é›·ï¼]]></title>    <link>https://juejin.cn/post/7585743487258705929</link>    <guid>https://juejin.cn/post/7585743487258705929</guid>    <pubDate>2025-12-21T12:15:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585743487258705929" data-draft-id="7584861353805135908" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸Šçº¿å‰ä¸åš Code Reviewï¼Ÿä½ å¯èƒ½æ­£åœ¨ç»™å›¢é˜ŸåŸ‹é›·ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,ä»£ç è§„èŒƒ,å›¢é˜Ÿç®¡ç†"/> <meta itemprop="datePublished" content="2025-12-21T12:15:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="gyx_è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·é™"/> <meta itemprop="url" content="https://juejin.cn/user/958429872534056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸Šçº¿å‰ä¸åš Code Reviewï¼Ÿä½ å¯èƒ½æ­£åœ¨ç»™å›¢é˜ŸåŸ‹é›·ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/958429872534056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    gyx_è¿™ä¸ªæ€æ‰‹ä¸å¤ªå†·é™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T12:15:55.000Z" title="Sun Dec 21 2025 12:15:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    58
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€ä½å‰ç«¯åŒäº‹èŠ±ä¸€å‘¨æ—¶é—´é‡æ„äº†ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œè‡ªæµ‹é€šè¿‡ã€æ€§èƒ½ä¼˜åŒ–ã€UI å®Œç¾ã€‚<br/>
ä¸Šçº¿ 2 å°æ—¶åï¼Œç”¨æˆ·åé¦ˆâ€œé¡µé¢ç™½å±â€â€”â€”åŸæ¥æ¼æ‰äº†ç©ºçŠ¶æ€å¤„ç†ã€‚<br/>
ç´§æ€¥å›æ»šã€åŠ ç­ä¿®å¤ã€äº§å“ä¿¡ä»»å—æŸâ€¦â€¦<br/>
è€Œè¿™ä¸€åˆ‡ï¼Œæœ¬å¯ä»¥åœ¨ä¸€æ¬¡ 15 åˆ†é’Ÿçš„ Code Review ä¸­é¿å…ã€‚</p>
</blockquote>
<p>Code Reviewï¼ˆä»£ç å®¡æŸ¥ï¼‰ä»æ¥ä¸æ˜¯â€œæ‰¾èŒ¬â€ï¼Œè€Œæ˜¯ç»™<strong>å‰ç«¯å›¢é˜Ÿä¸Šäº†ä¸€ä¸ªæœ€é«˜æ•ˆçš„è´¨é‡ä¿é™©</strong>ã€‚å®ƒä¸ä»…èƒ½æå‰æ‹¦æˆª Bugï¼Œæ›´æ˜¯çŸ¥è¯†å…±äº«ã€è§„èŒƒè½åœ°ã€æ–°äººæˆé•¿çš„åŠ é€Ÿå™¨ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä»€ä¹ˆæ˜¯ Code Review</h2>
<h3 data-id="heading-1">1.1 Code Review çš„æ ¸å¿ƒä»·å€¼å’Œç›®æ ‡</h3>
<p>Code Review ç¿»è¯‘æˆä¸­æ–‡ï¼Œå°±æ˜¯<strong>ä»£ç å®¡æŸ¥</strong>ã€‚åœ¨å‰ç«¯å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå®ƒä¸ä»…æ˜¯<strong>ä¿è¯ä»£ç è´¨é‡</strong>çš„å…³é”®ç¯èŠ‚ï¼Œæ›´æ˜¯<strong>å›¢é˜ŸçŸ¥è¯†å…±äº«</strong>ã€<strong>æŠ€æœ¯ç»Ÿä¸€</strong>å’Œ<strong>å·¥ç¨‹è§„èŒƒè½åœ°</strong>çš„é‡è¦æœºåˆ¶ã€‚å›¢é˜Ÿæˆå‘˜é€šè¿‡è§„åˆ’åŒ–çš„ä»£ç å®¡æŸ¥æµç¨‹ï¼Œèƒ½å¤Ÿæå‰<strong>å‘ç°æ½œåœ¨é—®é¢˜</strong>ï¼Œ<strong>æå‡ä»£ç çš„å¯ä»¥ç»´æŠ¤æ€§</strong>ã€‚</p>
<h3 data-id="heading-2">1.2 Code Review å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™</h3>
<p>é€šå¸¸å‘ç”Ÿåœ¨ï¼š</p>
<ul>
<li>å¼€å‘è€…å®Œæˆä¸€ä¸ªåŠŸèƒ½ã€ä¿®å¤ä¸€ä¸ª bug æˆ–è¿›è¡Œé‡æ„å</li>
<li>å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“å¹¶å‘èµ·Â <strong>Pull Requestï¼ˆPRï¼‰</strong> Â æˆ–Â <strong>Merge Requestï¼ˆMRï¼‰</strong></li>
<li>åœ¨ä»£ç åˆå¹¶åˆ°ä¸»å¹²åˆ†æ”¯ï¼ˆå¦‚Â <code>master</code>Â /Â <code>main</code>ï¼‰<strong>ä¹‹å‰</strong></li>
</ul>
<h2 data-id="heading-3">äºŒã€ä¸ºä»€ä¹ˆè¦ Code Review</h2>
<p>ä»£ç å®¡æŸ¥çœŸçš„ä¸æ˜¯ä¸ºäº†æ‰¾èŒ¬ï¼Œè€Œæ˜¯ä¸ºäº†è®©<strong>å›¢é˜Ÿ</strong>èƒ½èµ°å¾—<strong>æ›´è¿œã€æ›´ç¨³</strong>çš„å…³é”®ä¸€ç¯ã€‚æƒ³ä¸€æƒ³ï¼Œå¦‚æœèŠ±äº†ä¸€å‘¨æ—¶é—´ï¼Œä¼˜åŒ–äº†å„ç§æ€§èƒ½ï¼Œå†™äº†ä¸€å¤§å †ä»£ç ï¼Œç»“æœä¸Šçº¿åå‘ç°äº†ä¸€ä¸ªä¸¥é‡ bugï¼Œéœ€è¦ç´§æ€¥ä¿®å¤ã€‚è¿™ä¸ä»…æµªè´¹äº†æ—¶é—´ï¼Œè¿˜å¯èƒ½å½±å“ç”¨æˆ·å¯¹äº§å“å›¢é˜Ÿå’Œå¼€å‘å›¢é˜Ÿçš„ä¿¡ä»»ã€‚</p>
<p>ä¸‹é¢åˆ—ä¸¾å‡ ä¸ª Code Review çš„ä½œç”¨ï¼š</p>
<ul>
<li><strong>æå‰å‘ç°ç¼ºé™·</strong><br/>
åœ¨ Code Review é˜¶æ®µå‘ç°çš„é€»è¾‘é”™è¯¯ã€ä¸šåŠ¡ç†è§£åå·®ã€æ€§èƒ½éšæ‚£ç­‰æ—¶æœ‰å‘ç”Ÿï¼Œå¯ä»¥æå‰å‘ç°é—®é¢˜</li>
<li><strong>æé«˜ä»£ç è´¨é‡</strong><br/>
ä¸»è¦ä½“ç°åœ¨ä»£ç å¥å£®æ€§ã€è®¾è®¡åˆç†æ€§ã€ä»£ç ä¼˜é›…æ€§ç­‰æ–¹é¢ï¼ŒæŒç»­ Code Review å¯ä»¥æå‡å›¢é˜Ÿæ•´ä½“ä»£ç è´¨é‡</li>
<li><strong>ç»Ÿä¸€è§„èŒƒå’Œé£æ ¼</strong><br/>
é›†å›¢ç¼–ç è§„èŒƒè‡ªä¸å¿…è¯´ï¼Œå¯¹äºä»£ç é£æ ¼è¦ä¸è¦ç»Ÿä¸€ï¼Œå¯èƒ½ä¼šæœ‰ä¸åŒçš„çœ‹æ³•ï¼Œä¸ªäººè§‚ç‚¹å¯¹äºé£æ ¼ä¹Ÿä¸å¼ºæ±‚ã€‚ä¸è¿‡ä»£ç é£æ ¼çš„ç»Ÿä¸€æ›´æœ‰åŠ©äºæå‡ä»£ç çš„å¯è¯»æ€§åŠè®©ç»§ä»»è€…å¿«é€Ÿä¸Šæ‰‹</li>
<li><strong>å›¢é˜Ÿå…±è¯†</strong><br/>
é€šè¿‡å¤šæ¬¡è®¨è®ºä¸äº¤æµï¼Œé€æ­¥è¾¾æˆå›¢é˜Ÿå…±è¯†ï¼Œç‰¹åˆ«æ˜¯å¯¹æ¶æ„ç†è§£å’Œè®¾è®¡åŸåˆ™çš„è®¤çŸ¥ï¼Œåœ¨å…±è¯†çš„åŸºç¡€ä¸Šå›¢é˜Ÿä¹Ÿä¼šæ›´æœ‰å‡èšåŠ›ï¼Œç‰¹åˆ«æ˜¯åœ¨è¾ƒå¤šæ–°äººåŠ å…¥æ—¶å°¤ä¸ºé‡è¦</li>
</ul>
<h2 data-id="heading-4">ä¸‰ã€æ€ä¹ˆåš Code Review</h2>
<h3 data-id="heading-5">3.1 ä»£ç æäº¤è€…</h3>
<h5 data-id="heading-6">3.1.1 ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·</h5>
<ul>
<li>ESLint + Prettier</li>
</ul>
<p>ä¸‹é¢æ˜¯ VS Code å…³äº Prettier çš„é…ç½®ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"editor.formatOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"[vue]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"[javascript]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"[html]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"[jsonc]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"[json]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"[javascriptreact]"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"editor.defaultFormatter"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"esbenp.prettier-vscode"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint.codeActionsOnSave.mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"problems"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint.validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"typescript"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"javascript"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"javascriptreact"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"typescriptreact"</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"editor.codeActionsOnSave"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-comment">// æŒ‡å®šæ˜¯å¦åœ¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ•´ç†å¯¼å…¥</span>
        <span class="hljs-attr">"source.organizeImports"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"always"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åˆ©ç”¨ Ctrl + S è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </p>
<ul>
<li>Husky + Lint-staged</li>
</ul>
<p>å®‰è£…ä¾èµ–</p>
<pre><code class="hljs language-csharp" lang="csharp">yarn <span class="hljs-keyword">add</span> -D husky
yarn <span class="hljs-keyword">add</span> -D lint-staged
</code></pre>
<p><strong>husky</strong></p>
<p>ä¸€ä¸ªä¸º git å®¢æˆ·ç«¯å¢åŠ  hook çš„å·¥å…·ã€‚å®‰è£…åï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨ä»“åº“ä¸­çš„ .husky/ ç›®å½•ä¸‹å¢åŠ ç›¸åº”çš„é’©å­ï¼›æ¯”å¦‚ pre-commit é’©å­å°±ä¼šåœ¨ä½ æ‰§è¡Œ git commit çš„è§¦å‘ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ pre-commit ä¸­å®ç°ä¸€äº›æ¯”å¦‚ lint æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€ä»£ç ç¾åŒ–ç­‰æ“ä½œã€‚</p>
<p>package.json éœ€è¦æ·»åŠ  prepare è„šæœ¬</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prepare"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"husky install"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åšå®Œä»¥ä¸Šå·¥ä½œï¼Œå°±å¯ä»¥ä½¿ç”¨ husky åˆ›å»ºä¸€ä¸ª hook äº†</p>
<pre><code class="hljs language-sql" lang="sql">npx husky <span class="hljs-keyword">add</span> .husky<span class="hljs-operator">/</span>pre<span class="hljs-operator">-</span><span class="hljs-keyword">commit</span> "npx lint-staged"
</code></pre>
<p><strong>lint-staged</strong></p>
<p>ä¸€ä¸ªä»…ä»…è¿‡æ»¤å‡º Git ä»£ç æš‚å­˜åŒºæ–‡ä»¶(è¢« git add çš„æ–‡ä»¶)çš„å·¥å…·ï¼›è¿™ä¸ªå¾ˆå®ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬å¦‚æœå¯¹æ•´ä¸ªé¡¹ç›®çš„ä»£ç åšä¸€ä¸ªæ£€æŸ¥ï¼Œå¯èƒ½è€—æ—¶å¾ˆé•¿ï¼Œå¦‚æœæ˜¯è€é¡¹ç›®ï¼Œè¦å¯¹ä¹‹å‰çš„ä»£ç åšä¸€ä¸ªä»£ç è§„èŒƒæ£€æŸ¥å¹¶ä¿®æ”¹çš„è¯ï¼Œè¿™å¯èƒ½å°±éº»çƒ¦äº†ï¼Œå¯èƒ½å¯¼è‡´é¡¹ç›®æ”¹åŠ¨å¾ˆå¤§ã€‚æ‰€ä»¥è¿™ä¸ª lint-stagedï¼Œå¯¹å›¢é˜Ÿé¡¹ç›®å’Œå¼€æºé¡¹ç›®æ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å·¥å…·ï¼Œå®ƒæ˜¯å¯¹ä¸ªäººè¦æäº¤çš„ä»£ç çš„ä¸€ä¸ªè§„èŒƒå’Œçº¦æŸã€‚</p>
<p>æ­¤æ—¶æˆ‘ä»¬å·²ç»å®ç°äº†ç›‘å¬ Git hooksï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åœ¨ pre-commit è¿™ä¸ª hook ä½¿ç”¨ Lint-staged å¯¹ä»£ç è¿›è¡Œ prettier çš„è‡ªåŠ¨åŒ–ä¿®å¤å’Œ ESLint çš„æ£€æŸ¥ï¼Œå¦‚æœå‘ç°ä¸ç¬¦åˆä»£ç è§„èŒƒçš„æ–‡ä»¶åˆ™ç›´æ¥é€€å‡º commitã€‚</p>
<p>å¹¶ä¸” Lint-staged åªä¼šå¯¹ Git æš‚å­˜åŒº(git add çš„ä»£ç )å†…çš„ä»£ç è¿›è¡Œæ£€æŸ¥è€Œä¸æ˜¯å…¨é‡ä»£ç ï¼Œä¸”ä¼šè‡ªåŠ¨å°† prettier æ ¼å¼åŒ–åçš„ä»£ç æ·»åŠ åˆ°æ­¤æ¬¡ commit ä¸­ã€‚</p>
<p>åœ¨ package.json ä¸­é…ç½®</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
 <span class="hljs-attr">"husky"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"hooks"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"pre-commit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"lint-staged"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"lint-staged"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"*.{ts,tsx,js}"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"eslint --fix"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"prettier --write"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"git add"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsunmh207%2FAI-Codereview-Gitlab" target="_blank" title="https://github.com/sunmh207/AI-Codereview-Gitlab" ref="nofollow noopener noreferrer">AI-Codereview-Gitlab</a></li>
</ul>
<p>åˆå¹¶ä»£ç çš„æ—¶å€™è‡ªåŠ¨è§¦å‘æ‰§è¡ŒåŸºäºå¤§æ¨¡å‹çš„è‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥å·¥å…·ã€‚å¯ä»¥å…ˆæ ¹æ® AI æç¤ºé€‰æ‹©æ€§çš„æ•´æ”¹ä¸€æ³¢ï¼Œç„¶åå†æ‰¾è¯„å®¡çš„äºº CRã€‚æ„Ÿå…´è¶£çš„å¯ä»¥ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsunmh207%2FAI-Codereview-Gitlab" target="_blank" title="https://github.com/sunmh207/AI-Codereview-Gitlab" ref="nofollow noopener noreferrer">é“¾æ¥</a>äº†è§£ä¸€ä¸‹ã€‚</p>
<p>åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ol>
<li>ğŸš€ å¤šæ¨¡å‹æ”¯æŒ
<ul>
<li>å…¼å®¹DeepSeekã€ZhipuAIã€OpenAIã€Anthropicã€é€šä¹‰åƒé—®å’ŒOllamaï¼Œæƒ³ç”¨å“ªä¸ªå°±ç”¨å“ªä¸ªã€‚</li>
</ul>
</li>
<li>ğŸ“¢æ¶ˆæ¯å³æ—¶ä¸»åŠ¨
<ul>
<li>ç»“æœå®¡æŸ¥ä¸€é”®ç›´è¾¾é’‰é’‰ã€ä¼ä¸šå¾®ä¿¡æˆ–é£ä¹¦ï¼Œä»£ç é—®é¢˜æ— å¤„å¯è—ï¼</li>
</ul>
</li>
<li>ğŸ“…è‡ªåŠ¨åŒ–æ—¥æŠ¥ç”Ÿæˆ
<ul>
<li>åŸºäº GitLab &amp; GitHub &amp; Gitea Commit è®°å½•ï¼Œè‡ªåŠ¨æ•´ç†æ¯æ—¥å¼€å‘è¿›åº¦ï¼Œè°åœ¨æ‘¸é±¼ã€è°åœ¨å·ï¼Œä¸€ç›®äº†ç„¶ ğŸ˜¼ã€‚</li>
</ul>
</li>
<li>ğŸ“Šå¯è§†åŒ–ä»ªè¡¨æ¿
<ul>
<li>é›†ä¸­å±•ç¤ºæ‰€æœ‰ä»£ç å®¡æŸ¥è®°å½•ï¼Œé¡¹ç›®ç»Ÿè®¡ã€å¼€å‘è€…ç»Ÿè®¡ï¼Œæ•°æ®è¯´è¯ï¼Œç”©é”…æ— é—¨ï¼</li>
</ul>
</li>
<li>ğŸ­ è¯„è®ºé£æ ¼ä»»ä½ é€‰
<ul>
<li>ä¸“ä¸šå‹ğŸ¤µï¼šä¸¥è°¨ä¸¥è°¨ï¼Œæ­£å¼ä¸“ä¸šã€‚</li>
<li>è®ºå‹ğŸ˜ˆï¼šæ¯’èˆŒåæ§½ï¼Œä¸“æ²»ä¸æœï¼ˆâ€œè¿™ä»£ç æ˜¯ç”¨è„šå†™çš„å—ï¼Ÿâ€ï¼‰</li>
<li>ç»…å£«å‹ğŸ˜ï¼šæ¸©æŸ”å»ºè®®ï¼Œå¦‚æ²æ˜¥é£ï¼ˆâ€œä¹Ÿè®¸è¿™é‡Œå¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹å‘¢~â€ï¼‰</li>
<li>å¹½é»˜å‹ğŸ¤ªï¼šæç¬‘ç‚¹è¯„ï¼Œå¿«ä¹æ”¹ç ï¼ˆâ€œbe if-elseæ¯”æˆ‘çš„ç›¸äº²ç»å†è¿˜æ›²æŠ˜ï¼â€ï¼‰</li>
</ul>
</li>
</ol>
<h5 data-id="heading-7">3.1.2 å‘èµ· Code Review æ—¶é—´å’Œä»£ç é‡</h5>
<ul>
<li>æ—¶é—´ï¼šå°½é‡<strong>ä¸Šçº¿å‰ä¸€å¤©</strong>å‘èµ·è¯„å®¡</li>
<li>ä»£ç é‡ï¼šæœ€å¥½åœ¨ 400 è¡Œä»¥ä¸‹ã€‚æ ¹æ®æ•°æ®åˆ†æå‘ç°ï¼Œä»ä»£ç è¡Œæ•°æ¥çœ‹ï¼Œè¶…è¿‡ 400 è¡Œçš„ CRï¼Œç¼ºé™·å‘ç°ç‡ä¼šæ€¥å‰§ä¸‹é™ï¼›ä» CR é€Ÿåº¦æ¥çœ‹ï¼Œè¶…è¿‡500 è¡Œ/å°æ—¶åï¼ŒReview è´¨é‡ä¹Ÿä¼šå¤§å¤§é™ä½ï¼Œä¸€ä¸ªé«˜è´¨é‡çš„ CR æœ€å¥½æ§åˆ¶åœ¨ä¸€ä¸ªå°æ—¶ä»¥å†…ã€‚</li>
</ul>
<h3 data-id="heading-8">3.2 ä»£ç è¯„å®¡è€…</h3>
<h5 data-id="heading-9">3.2.1 è¯„å®¡æ—¶é‡ç‚¹å…³æ³¨å†…å®¹</h5>
<p>ä½œä¸ºå‰ç«¯è¯„å®¡è€…ï¼Œå¯ä»¥æ£€æŸ¥ä»¥ä¸‹ç»´åº¦ï¼š</p>













































<table><thead><tr><th>ç»´åº¦</th><th>æ£€æŸ¥ç‚¹ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>åŠŸèƒ½æ­£ç¡®æ€§</strong></td><td>é€»è¾‘æ˜¯å¦è¦†ç›–æ‰€æœ‰åœºæ™¯ï¼Ÿè¾¹ç•Œæ¡ä»¶ï¼ˆç©ºå€¼ã€é”™è¯¯çŠ¶æ€ï¼‰æ˜¯å¦å¤„ç†ï¼Ÿ</td></tr><tr><td><strong>å¯è¯»æ€§ &amp; å¯ç»´æŠ¤æ€§</strong></td><td>å˜é‡/å‡½æ•°å‘½åæ˜¯å¦æ¸…æ™°ï¼Ÿç»„ä»¶èŒè´£æ˜¯å¦å•ä¸€ï¼Ÿé‡å¤ä»£ç æ˜¯å¦å¯å¤ç”¨ï¼Ÿ</td></tr><tr><td><strong>TypeScript å®‰å…¨</strong></td><td>æ˜¯å¦æ»¥ç”¨Â <code>any</code>Â /Â <code>@ts-ignore</code>ï¼Ÿç±»å‹å®šä¹‰æ˜¯å¦å‡†ç¡®ï¼Ÿ</td></tr><tr><td><strong>æ¡†æ¶è§„èŒƒ</strong></td><td>Reactï¼š<code>key</code>Â æ˜¯å¦åˆç†ï¼Ÿ<code>useEffect</code>Â ä¾èµ–æ˜¯å¦å®Œæ•´ï¼ŸVueï¼šå“åº”å¼ä½¿ç”¨æ˜¯å¦æ­£ç¡®ï¼Ÿ</td></tr><tr><td><strong>æ ·å¼ &amp; UI</strong></td><td>æ˜¯å¦é¿å…å…¨å±€ CSS æ±¡æŸ“ï¼Ÿæ˜¯å¦é€‚é…ç§»åŠ¨ç«¯ï¼Ÿæ˜¯å¦ç¬¦åˆè®¾è®¡ç³»ç»Ÿï¼Ÿ</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>æ˜¯å¦æœ‰ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼Ÿå›¾ç‰‡/èµ„æºæ˜¯å¦ä¼˜åŒ–ï¼Ÿç¬¬ä¸‰æ–¹åº“æ˜¯å¦æŒ‰éœ€å¼•å…¥ï¼Ÿ</td></tr><tr><td><strong>å¯è®¿é—®æ€§ (a11y)</strong></td><td>æ˜¯å¦ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Ÿè¡¨å•æ˜¯å¦æœ‰ labelï¼Ÿé”®ç›˜å¯¼èˆªæ˜¯å¦æ”¯æŒï¼Ÿ</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>ç”¨æˆ·è¾“å…¥æ˜¯å¦è½¬ä¹‰ï¼Ÿæ˜¯å¦é¿å… XSSï¼ˆå¦‚Â <code>dangerouslySetInnerHTML</code>ï¼‰ï¼Ÿ</td></tr><tr><td><strong>æµ‹è¯•è¦†ç›–</strong></td><td>å…³é”®é€»è¾‘æ˜¯å¦æœ‰å•å…ƒæµ‹è¯•ï¼Ÿç”¨æˆ·è·¯å¾„æ˜¯å¦æœ‰ E2E æµ‹è¯•ï¼Ÿ</td></tr></tbody></table>
<h5 data-id="heading-10">3.2.2 æ€ä¹ˆå†™ Review è¯„è®º</h5>
<p>é¦–å…ˆï¼Œä¸è¦åå•¬ä½ çš„èµç¾ã€‚<strong>ä»£ç å†™çš„å¥½çš„åœ°æ–¹è¦è¡¨æ‰¬ï¼ï¼</strong></p>
<p>åŒºåˆ†ä¼˜å…ˆçº§ï¼š</p>
<ul>
<li>ğŸ”´Â <strong>å¿…é¡»æ”¹</strong>ï¼šBugã€å®‰å…¨æ¼æ´ã€ç ´åæ€§å˜æ›´</li>
<li>ğŸŸ¡Â <strong>å»ºè®®æ”¹</strong>ï¼šå¯è¯»æ€§ã€æ€§èƒ½ä¼˜åŒ–ã€æœ€ä½³å®è·µ</li>
<li>ğŸŸ¢Â <strong>å¯è®¨è®º</strong>ï¼šé£æ ¼åå¥½ï¼ˆåº”ç”± Lint å·¥å…·ç»Ÿä¸€ï¼‰</li>
</ul>
<p>ç”¨å¥½ â€œWhat-Why-Howâ€ æ³•åˆ™</p>
<p>âœ… æ­£ç¡®ç¤ºèŒƒï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">What: è¿™é‡Œç›´æ¥æ“ä½œ DOM (`document.getElementById`)  </span>
<span class="hljs-section">Why: åœ¨ React ä¸­ç»•è¿‡è™šæ‹Ÿ DOM ä¼šå¯¼è‡´çŠ¶æ€ä¸ä¸€è‡´ï¼Œä¸”éš¾ä»¥æµ‹è¯•  </span>
<span class="hljs-section">How: å»ºè®®æ”¹ç”¨ `useRef` è·å–å…ƒç´ å¼•ç”¨ï¼Œæˆ–é€šè¿‡çŠ¶æ€é©±åŠ¨ UI æ›´æ–°</span>
</code></pre>
<p>âŒ é¿å…ï¼š</p>
<pre><code class="hljs">â€œè¿™é‡Œå†™å¾—ä¸å¥½â€ â†’ å¤ªæ¨¡ç³Š
â€œä½ åº”è¯¥ç”¨ Hooks é‡å†™â€ â†’ æ²¡è¯´æ˜åŸå› 
â€œæˆ‘ä»¥å‰éƒ½è¿™ä¹ˆå†™çš„â€ â†’ ä¸»è§‚ç»éªŒï¼Œç¼ºä¹ä¾æ®
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>å¥½çš„ Code Review æ˜¯å›¢é˜Ÿè¿›æ­¥çš„æ”¾å¤§å™¨ï¼Œå®ƒå¯ä»¥ï¼š</p>
<ul>
<li>è®©æ–°äººæˆé•¿å¾—æ›´å¿«</li>
<li>è®©ç³»ç»Ÿå˜å¾—æ›´ç¨³å®š</li>
<li>è®©"æŠ€æœ¯å€º"æ›´å°‘</li>
<li>è®©åä½œæ›´é«˜æ•ˆ</li>
</ul>
<h2 data-id="heading-12">å‚è€ƒæ–‡ç« </h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1164854" target="_blank" title="https://developer.aliyun.com/article/1164854" ref="nofollow noopener noreferrer">ä¸€æ–‡æ¢³ç†Code Reviewæ–¹æ³•è®ºä¸å®è·µæ€»ç»“</a></li>
</ul>
<h2 data-id="heading-13">æ„Ÿè°¢</h2>
<ul>
<li>æ–‡ä¸­å¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæ‰¹è¯„æŒ‡æ­£ã€‚</li>
<li>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±<strong>ç‚¹èµã€æ”¶è—</strong>æ”¯æŒä¸‹å§ï¼æ„Ÿè°¢é˜…è¯»ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯è½®å­ï¼ˆ1ï¼‰--å‰ç«¯éƒ¨ç½²å-åˆ¤æ–­é¡µé¢æ˜¯å¦ä¸ºæœ€æ–°]]></title>    <link>https://juejin.cn/post/7585706951603601434</link>    <guid>https://juejin.cn/post/7585706951603601434</guid>    <pubDate>2025-12-21T02:18:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585706951603601434" data-draft-id="7585463258690502665" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯è½®å­ï¼ˆ1ï¼‰--å‰ç«¯éƒ¨ç½²å-åˆ¤æ–­é¡µé¢æ˜¯å¦ä¸ºæœ€æ–°"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,Node.js"/> <meta itemprop="datePublished" content="2025-12-21T02:18:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°æ˜“"/> <meta itemprop="url" content="https://juejin.cn/user/2032344744857127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯è½®å­ï¼ˆ1ï¼‰--å‰ç«¯éƒ¨ç½²å-åˆ¤æ–­é¡µé¢æ˜¯å¦ä¸ºæœ€æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2032344744857127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°æ˜“
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T02:18:14.000Z" title="Sun Dec 21 2025 02:18:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å‰ç«¯è½®å­ç³»åˆ—ï¼š</p>
<ol>
<li><a href="https://juejin.cn/spost/7585706951603601434" target="_blank" title="https://juejin.cn/spost/7585706951603601434">å‰ç«¯éƒ¨ç½²å-åˆ¤æ–­é¡µé¢æ˜¯å¦ä¸ºæœ€æ–°</a></li>
<li>å¦‚ä½•ä¼˜é›…diyå“åº”æ•°æ®</li>
<li>å¦‚ä½•ä¼˜é›…è¿›è¡Œwebviewè°ƒè¯•</li>
<li>å¦‚ä½•å®ç°æµ‹è¯•ç¯å¢ƒçš„è‡ªåŠ¨ç™»å½•</li>
<li/>
</ol>
</blockquote>
<blockquote>
<p>é¡¹ç›®éƒ¨ç½²åï¼šé€šçŸ¥æ›´æ–°ã€å¼ºåˆ¶åˆ·æ–°ã€è‡ªæµ‹è®¿é—®çš„é¡µé¢ä¸ºæœ€æ–°ä»£ç ï¼ˆæ˜¯å¦å‘ç‰ˆæˆåŠŸï¼‰<br/>
é‡ç‚¹ï¼š<strong>è‡ªæµ‹ã€ææµ‹ã€ä¿®æ”¹bug</strong>åï¼Œç¡®è®¤è®¿é—®çš„ä¸º<strong>æœ€æ–°é¡µé¢</strong></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e5d14d5dcee4533938fe6b167aab982~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5piT:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766888338&amp;x-signature=CZ5zNZQsNzIVWwr9mEh1fKlvH6M%3D" alt="check-version.gif" loading="lazy"/></p>
<h2 data-id="heading-0">å®ç°æ€è·¯</h2>
<p>ç›®çš„ï¼šç”Ÿæˆæ–°çš„ç‰ˆæœ¬æ ‡è¯†ï¼Œé€šè¿‡å¯¹æ¯”æ ‡è¯† ==&gt; å½“å‰ä¸ºæœ€æ–° è¿˜æ˜¯ æ—§é¡µé¢</p>
<ol>
<li>ç”Ÿæˆç‰ˆæœ¬å·ï¼šå¦‚ï¼š1.1.10 ï¼Œæˆ–è€…æ—¶é—´æˆ³ï¼ˆ202512201416ï¼‰
<ul>
<li>è‡ªåŠ¨åŒ–è„šæœ¬ç”Ÿæˆ</li>
<li>æ‰‹åŠ¨æ§åˆ¶</li>
</ul>
</li>
<li>å¯¹æ¯”ç‰ˆæœ¬å·ï¼šç›¸ç­‰=&gt; å½“å‰ä¸ºæœ€æ–°ï¼›ä¸ç­‰ =&gt; å½“å‰ä¸ºæ—§é¡µé¢</li>
<li>é€šè¿‡å¯¹æ¯”ç»“æœ å¯¹åº”å¤„ç†äº§å“é€»è¾‘ å®Œäº‹å„¿~</li>
</ol>
<h2 data-id="heading-1">å…·ä½“å®ç°</h2>
<h3 data-id="heading-2">æ–¹æ¡ˆä¸€ï¼šç”Ÿæˆæ—¶é—´æˆ³ï¼Œæ³¨å…¥å˜é‡ï¼Œæ§åˆ¶å°æ‰“å°</h3>
<h4 data-id="heading-3">åœ¨vue-clié¡¹ç›®ä¸­</h4>
<p>é€šè¿‡vue.config.js å…¥å˜é‡<br/>
ç„¶ååœ¨main.jsä¸­æ‰“å°å˜é‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'__BUILD_TIME__'</span>, __BUILD_TIME__)
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue.config.js</span>
<span class="hljs-keyword">const</span> _date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BUILD_TIME</span> = _date.<span class="hljs-property">toLocaleString</span> ? _date.<span class="hljs-title function_">toLocaleString</span>() : _date.<span class="hljs-title function_">getTime</span>()

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">configureWebpack</span>: {
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-keyword">new</span> webpack.<span class="hljs-title class_">DefinePlugin</span>({
        <span class="hljs-attr">__BUILD_TIME__</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable constant_">BUILD_TIME</span>)
      })
    ]
  },
}

</code></pre>
<h4 data-id="heading-4">åœ¨viteé¡¹ç›®ä¸­</h4>
<p>é€šè¿‡vite.config.js æ³¨å…¥ <strong>BUILD_TIME</strong> å˜é‡<br/>
ç„¶ååœ¨main.jsä¸­æ‰“å° <strong>BUILD_TIME</strong> å˜é‡</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'__BUILD_TIME__'</span>, __BUILD_TIME__)
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">const</span> _date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BUILD_TIME</span> = _date.<span class="hljs-property">toLocaleString</span> ? _date.<span class="hljs-title function_">toLocaleString</span>() : _date.<span class="hljs-title function_">getTime</span>()
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">define</span>: {
      <span class="hljs-attr">__BUILD_TIME__</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable constant_">BUILD_TIME</span>)
    },
  }
})
</code></pre>
<p>è¿™ç§æ–¹æ¡ˆï¼Œå®ç°äº†åœ¨æ§åˆ¶å°æ‰“å°ã€‚ä½†æ˜¯å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæ— æ³•åšåˆ°ç‰ˆæœ¬å·çš„å¯¹æ¯”<br/>
ä¸ºå•¥ï¼Ÿ å› ä¸ºä¸Šçº¿ ä¸€èˆ¬ä¼šå»æ‰æ—¥å¿—çš„æ‰“å°ï¼Œ æ‰€ä»¥å’±é€šè¿‡ç‰ˆæœ¬å·æ¥~</p>
<h3 data-id="heading-5">æ–¹æ¡ˆäºŒï¼šè®°å½•ç‰ˆæœ¬å·ï¼Œè½®è¯¢å¯¹æ¯”ç‰ˆæœ¬å·</h3>
<ol>
<li>ç¼–å†™ç”Ÿæˆç‰ˆæœ¬å·çš„è„šæœ¬ï¼Œç”Ÿæˆç‰ˆæœ¬å·æ–‡ä»¶</li>
<li>buildç»“æŸï¼Œè°ƒç”¨è„šæœ¬å»ç”Ÿæˆç‰ˆæœ¬å·æ–‡ä»¶</li>
<li>è½®è¯¢å¯¹æ¯”ç‰ˆæœ¬å·æ–‡ä»¶ï¼Œå¦‚æœç‰ˆæœ¬å·ä¸ä¸€è‡´ï¼Œåšç›¸åº”æ“ä½œ</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// dist/version.json</span>
{
  <span class="hljs-string">"buildTime"</span>: <span class="hljs-string">"2025-12-20 14:16:00"</span>
}
</code></pre>
<p><strong>prebuild</strong>: buildå‰æ‰§è¡Œçš„è„šæœ¬<br/>
<strong>postbuild</strong>ï¼šbuildç»“æŸåæ‰§è¡Œçš„è„šæœ¬ï¼Œç”¨äºç”Ÿæˆç‰ˆæœ¬å·æ–‡ä»¶</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// package.json</span>
{
  <span class="hljs-string">"scripts"</span>: {
    <span class="hljs-string">"postbuild"</span>: <span class="hljs-string">"node scripts/generate-version-dist.mjs"</span>
  }
}
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// scripts/generate-version-dist.mjs</span>
<span class="hljs-keyword">import</span> { writeFile } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:fs/promises'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>

<span class="hljs-keyword">const</span> __filename = <span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>)
<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(__filename)
<span class="hljs-keyword">const</span> root = path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'..'</span>)


<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> _date = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BUILD_TIME</span> = _date.<span class="hljs-property">toLocaleString</span> ? _date.<span class="hljs-title function_">toLocaleString</span>() : _date.<span class="hljs-title function_">getTime</span>()

  <span class="hljs-keyword">const</span> outPath = path.<span class="hljs-title function_">join</span>(root, <span class="hljs-string">'dist'</span>, <span class="hljs-string">'version.json'</span>)
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">writeFile</span>(outPath, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-variable constant_">BUILD_TIME</span> }, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>) + <span class="hljs-string">'\n'</span>, <span class="hljs-string">'utf-8'</span>)

}

<span class="hljs-title function_">main</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'[generate-version] failed'</span>, e)
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>)
})
</code></pre>
<h4 data-id="heading-6">è½®è¯¢å¯¹æ¯”ç‰ˆæœ¬å·</h4>
<ol>
<li>è½®è¯¢å¯¹æ¯”ç‰ˆæœ¬å·æ–‡ä»¶ï¼Œå¦‚æœç‰ˆæœ¬å·ä¸ä¸€è‡´ï¼Œåšç›¸åº”æ“ä½œ</li>
<li>é¡µé¢éšè—ã€åˆ‡åå°æ—¶ï¼Œåœæ­¢è½®è¯¢ï¼Œé¡µé¢å…³é—­æ—¶ï¼Œåœæ­¢è½®è¯¢</li>
<li>é¡µé¢æ˜¾ç¤ºã€åˆ‡å‰å°æ—¶ï¼Œå¼€å§‹è½®è¯¢</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">import</span> { createVersionPoller } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils/versionPoller'</span>
<span class="hljs-title function_">createVersionPoller</span>({
  <span class="hljs-attr">versionUrl</span>: <span class="hljs-string">'/version.json'</span>,
  <span class="hljs-attr">storageKey</span>: <span class="hljs-string">'__VERSION_CHECK__CURRENT_BUILD_TIME__'</span>,
  <span class="hljs-attr">intervalMs</span>: <span class="hljs-number">15_000</span>,
  <span class="hljs-attr">maxDelayMs</span>: <span class="hljs-number">60_000</span>,
  <span class="hljs-attr">onResult</span>: <span class="hljs-function">(<span class="hljs-params">{ remoteVersion, remoteBuildTime }</span>) =&gt;</span> {
    <span class="hljs-comment">// è½®è¯¢åˆ°jsonæ–‡ä»¶ æˆåŠŸï¼Œé¢å¤–å¤„ç†é€»è¾‘</span>
  },
  <span class="hljs-attr">onError</span>: <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-comment">// è½®è¯¢å¤±è´¥ï¼Œé¢å¤–å¤„ç†é€»è¾‘</span>
  },
  <span class="hljs-attr">onUpdate</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç‰ˆæœ¬å·ä¸ä¸€è‡´ï¼Œéœ€è¦æ›´æ–°ï¼Œé¢å¤–å¤„ç†é€»è¾‘</span>
  }
}).<span class="hljs-title function_">start</span>()


</code></pre>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/**
 * è½®è¯¢ /version.jsonï¼Œå¯¹æ¯” buildTime åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ï¼ˆsetTimeout + é”™è¯¯æŒ‡æ•°é€€è®©ï¼‰
 *
 * è¡Œä¸ºè¯´æ˜ï¼š
 * - start() ä¼šè‡ªåŠ¨æ³¨å†Œç›‘å¬ï¼švisibilitychange / beforeunload / unload
 * - stop() ä¼šæ¸…ç†å®šæ—¶å™¨å¹¶å¸è½½ç›‘å¬
 * - è¯·æ±‚å¤±è´¥ä¼šæŒ‡æ•°é€€è®©ï¼ˆdelay *= 2ï¼Œæœ€å¤§ä¸è¶…è¿‡ maxDelayMsï¼‰ï¼›æˆåŠŸåæ¢å¤ intervalMs
 * - currentBuildTime ä¼šå†™å…¥ localStorageï¼ˆstorageKeyï¼‰
 *
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">options</span>
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [options.versionUrl='/version.json'] ç‰ˆæœ¬æ–‡ä»¶åœ°å€
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} [options.storageKey='__VERSION_CHECK__CURRENT_BUILD_TIME__'] localStorage key
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} [options.intervalMs=15000] æ­£å¸¸è½®è¯¢é—´éš”ï¼ˆæ¯«ç§’ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">number</span>} [options.maxDelayMs=60000] é€€è®©æœ€å¤§é—´éš”ï¼ˆæ¯«ç§’ï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">(info:{localBuildTime:string,remoteBuildTime:string,remoteVersion:string,data:any</span>})=&gt;void} [options.onResult] æ¯æ¬¡æˆåŠŸæ‹‰å–åçš„å›è°ƒ
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">(error:any)=&gt;void</span>} [options.onError] æ‹‰å–å¤±è´¥å›è°ƒ
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">(info:{localBuildTime:string,remoteBuildTime:string,remoteVersion:string,data:any</span>})=&gt;void} [options.onUpdate] å‘ç°æ–° buildTime æ—¶å›è°ƒï¼ˆé»˜è®¤ä¼š stopï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createVersionPoller</span>(<span class="hljs-params">{
  versionUrl = <span class="hljs-string">'/version.json'</span>,
  storageKey = <span class="hljs-string">'__VERSION_CHECK__CURRENT_BUILD_TIME__'</span>,
  intervalMs = <span class="hljs-number">15000</span>,
  maxDelayMs = <span class="hljs-number">60000</span>,
  onResult,
  onError,
  onUpdate
} = {}</span>) {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">let</span> stopped = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">let</span> delayMs = intervalMs
  <span class="hljs-keyword">let</span> bound = <span class="hljs-literal">false</span>

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">readLocal</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">getItem</span>(storageKey) || <span class="hljs-string">''</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">writeLocal</span> = (<span class="hljs-params">v</span>) =&gt; v &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">localStorage</span>.<span class="hljs-title function_">setItem</span>(storageKey, <span class="hljs-title class_">String</span>(v))

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!timer) <span class="hljs-keyword">return</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">clearTimeout</span>(timer)
    timer = <span class="hljs-literal">null</span>
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">isVisible</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">document</span>.<span class="hljs-property">visibilityState</span> !== <span class="hljs-string">'hidden'</span>
  }

  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchRemote</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> sep = versionUrl.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'?'</span>) ? <span class="hljs-string">'&amp;'</span> : <span class="hljs-string">'?'</span>
    <span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${versionUrl}</span><span class="hljs-subst">${sep}</span>t=<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, { <span class="hljs-attr">cache</span>: <span class="hljs-string">'no-store'</span>, <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Cache-Control'</span>: <span class="hljs-string">'no-cache'</span> } })
    <span class="hljs-keyword">if</span> (!res.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`fetch <span class="hljs-subst">${versionUrl}</span> failed: <span class="hljs-subst">${res.status}</span>`</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>()
  }

  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">tick</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (stopped || !<span class="hljs-title function_">isVisible</span>()) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">const</span> localBuildTime = <span class="hljs-title function_">readLocal</span>() || <span class="hljs-string">''</span>

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchRemote</span>()
      <span class="hljs-keyword">const</span> remoteVersion = <span class="hljs-title class_">String</span>(data?.<span class="hljs-property">version</span> || <span class="hljs-string">''</span>)
      <span class="hljs-keyword">const</span> remoteBuildTime = <span class="hljs-title class_">String</span>(data?.<span class="hljs-property">BUILD_TIME</span> || <span class="hljs-string">''</span>)

      delayMs = intervalMs
      onResult?.({ localBuildTime, remoteBuildTime, remoteVersion, data })

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>( remoteBuildTime , <span class="hljs-string">'=&gt;'</span>, localBuildTime)

      <span class="hljs-keyword">if</span> (remoteBuildTime &amp;&amp; remoteBuildTime !== localBuildTime) {
        <span class="hljs-comment">// è®°å½•æœ€æ–° buildTimeï¼Œé¿å…é‡å¤æç¤ºåŒä¸€ä¸ªæ›´æ–°</span>
        <span class="hljs-title function_">writeLocal</span>(remoteBuildTime)
        onUpdate?.({ localBuildTime, remoteBuildTime, remoteVersion, data })
      }
    } <span class="hljs-keyword">catch</span> (e) {
      delayMs = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(maxDelayMs, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">500</span>, delayMs * <span class="hljs-number">2</span>))
      onError?.(e)
    }

    timer = <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(tick, delayMs)
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">onVisibilityChange</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (stopped) <span class="hljs-keyword">return</span>
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isVisible</span>()) <span class="hljs-keyword">return</span> <span class="hljs-title function_">clear</span>()
    <span class="hljs-title function_">clear</span>()
    timer = <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(tick, <span class="hljs-number">0</span>)
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">ensureBound</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (bound) <span class="hljs-keyword">return</span>
    bound = <span class="hljs-literal">true</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'visibilitychange'</span>, onVisibilityChange)
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'beforeunload'</span>, stop)
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'unload'</span>, stop)
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">ensureUnbound</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!bound) <span class="hljs-keyword">return</span>
    bound = <span class="hljs-literal">false</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'visibilitychange'</span>, onVisibilityChange)
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'beforeunload'</span>, stop)
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'unload'</span>, stop)
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">start</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!stopped) <span class="hljs-keyword">return</span>
    stopped = <span class="hljs-literal">false</span>
    delayMs = intervalMs
    <span class="hljs-title function_">ensureBound</span>()
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isVisible</span>()) timer = <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(tick, <span class="hljs-number">0</span>)
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params"/>) {
    stopped = <span class="hljs-literal">true</span>
    <span class="hljs-title function_">clear</span>()
    <span class="hljs-title function_">ensureUnbound</span>()
  }

  <span class="hljs-keyword">return</span> { start, stop }
}

</code></pre>
<h2 data-id="heading-7">æ³¨æ„ç‚¹</h2>
<ul>
<li>è½®è¯¢ç‰ˆæœ¬æ–‡ä»¶ï¼Œæ‹¼ æ—¶é—´æˆ³ã€è®¾ç½®è¯·æ±‚å¤´ é¿å…å‘½ä¸­ç¼“å­˜</li>
<li>è½®è¯¢ç‰ˆæœ¬æ–‡ä»¶ï¼Œæ—¶é—´é—´éš”ä¸è¦å¤ªçŸ­ï¼Œè€—è´¹ç½‘ç»œï¼Œè™½ç„¶å·²ç»åšäº†è½®è¯¢æŒ‡æ•°é€€è®©</li>
<li>ç”Ÿæˆçš„ç‰ˆæœ¬æ–‡ä»¶ ç”Ÿæˆåˆ°distä¸‹ æ³¨æ„è®¿é—®è·¯å¾„</li>
<li>ç‰ˆæœ¬å·éœ€è¦ä¸Šä¼ åˆ°gitï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œè„šæœ¬&amp;commit + push</li>
</ul>
<h2 data-id="heading-8">æºç </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoyi1255%2Fversion-check" target="_blank" title="https://github.com/xiaoyi1255/version-check" ref="nofollow noopener noreferrer">xiaoyi1255</a></p>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰æ”¶è·ï¼Œéº»çƒ¦åŠ¨åŠ¨å‘è´¢çš„å°æ‰‹ï¼Œç‚¹ç‚¹å…³æ³¨ã€ç‚¹ç‚¹èµï¼ï¼ï¼ğŸ‘»ğŸ‘»ğŸ‘»</p>
<p>å› ä¸ºæ”¶è—===ä¼šäº†</p>
<p>å¦‚æœæœ‰ä¸å¯¹ã€æ›´å¥½çš„æ–¹å¼å®ç°ã€å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹æ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡å‡ºï¼Œè°¢è°¢ğŸ‘¾ğŸ‘¾ğŸ‘¾</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç¡¬ç¼–ç åˆ° Schema æ¨æ–­ï¼šå‰ç«¯è¡¨å•å¼€å‘çš„å·¥ç¨‹åŒ–è½¬å‹]]></title>    <link>https://juejin.cn/post/7585758163435601926</link>    <guid>https://juejin.cn/post/7585758163435601926</guid>    <pubDate>2025-12-21T12:01:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585758163435601926" data-draft-id="7585751355592507411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç¡¬ç¼–ç åˆ° Schema æ¨æ–­ï¼šå‰ç«¯è¡¨å•å¼€å‘çš„å·¥ç¨‹åŒ–è½¬å‹"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-21T12:01:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰å¤´è€çŸ³"/> <meta itemprop="url" content="https://juejin.cn/user/2963939077135006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç¡¬ç¼–ç åˆ° Schema æ¨æ–­ï¼šå‰ç«¯è¡¨å•å¼€å‘çš„å·¥ç¨‹åŒ–è½¬å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2963939077135006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰å¤´è€çŸ³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T12:01:14.000Z" title="Sun Dec 21 2025 12:01:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä½ çš„è¡¨å•ï¼Œæ˜¯å¦æ­£åœ¨å¤±æ§ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼Œä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªâ€œä¼ä¸šè´·æ¬¾ç”³è¯·â€æˆ–â€œä¿é™©ç†èµ”â€ç³»ç»Ÿã€‚</p>
<p>æœ€åˆï¼Œé¡µé¢åªæœ‰ 5 ä¸ªå­—æ®µï¼Œä½ å†™å¾—ä¼˜é›…ä»å®¹ã€‚éšç€ä¸šåŠ¡è¿­ä»£ï¼Œè¡¨å•åƒå¹æ°”çƒä¸€æ ·è†¨èƒ€åˆ°äº† 50 å¤šä¸ªå­—æ®µï¼š <strong>â€œå¦‚æœç”¨æˆ·é€‰äº†â€˜ä¸ªä½“å·¥å•†æˆ·â€™ï¼Œä¸ä»…è¦éšè—â€˜ä¼ä¸šæ³•äººâ€™å­—æ®µï¼Œè¿˜å¾—å»åŠ¨æ€è¯·æ±‚â€˜ç»è¥åœ°â€™çš„ä¸‹æ‹‰åˆ—è¡¨ï¼ŒåŒæ—¶â€˜æ³¨å†Œèµ„æœ¬â€™çš„æ ¡éªŒè§„åˆ™è¿˜è¦ä»â€˜å¿…å¡«â€™å˜æˆâ€˜é€‰å¡«â€™â€¦â€¦â€</strong></p>
<p>äºæ˜¯ï¼Œä½ çš„ Vue æ–‡ä»¶å˜æˆäº†è¿™æ ·ï¼š</p>
<ul>
<li><code>&lt;template&gt;</code> é‡Œå¡æ»¡äº†æ·±å±‚åµŒå¥—çš„ <code>v-if</code> å’Œ <code>v-show</code>ã€‚</li>
<li><code>&lt;script&gt;</code> é‡Œåˆ°å¤„æ˜¯ç›‘å¬è”åŠ¨é€»è¾‘çš„ <code>watch</code> å’Œå†—é•¿çš„ <code>if-else</code>ã€‚</li>
<li><strong>æœ€ç—›è‹¦çš„æ˜¯ï¼š</strong> å½“åç«¯å†³å®šè°ƒæ•´å­—æ®µåï¼Œæˆ–è€…å…¬å¸è¦æ±‚æŠŠè¿™å¥—é€»è¾‘å¤ç”¨åˆ°å°ç¨‹åºæ—¶ï¼Œä½ å‘ç°é€»è¾‘å’Œ UI å·²ç»åƒéº»ç»³ä¸€æ ·æ­»æ­»ç¼ åœ¨ä¸€èµ·ï¼Œæ‹†ä¸å¼€äº†ã€‚</li>
</ul>
<p><strong>â€œéš¾é“å†™è¡¨å•ï¼ŒçœŸçš„åªèƒ½é ä½“åŠ›æ´»å—ï¼Ÿâ€</strong></p>
<p>ä¸ºäº†æ‘†è„±è¿™ç§ä½æ•ˆç‡é‡å¤ï¼Œæˆ‘ä»¬å°è¯•å°† <strong>ä¸­é—´ä»¶æ€æƒ³</strong> å¼•å…¥ Vue 3ï¼ŒæŠŠå¤æ‚çš„ä¸šåŠ¡è§„åˆ™ä» UI æ¡†æ¶ä¸­å‰¥ç¦»å‡ºæ¥ã€‚ä»Šå¤©ï¼Œæˆ‘å°±æŠŠè¿™å¥—â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„å¤ç”¨â€çš„å·¥ç¨‹åŒ–æ–¹æ¡ˆåˆ†äº«ç»™ä½ ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ æ ¸å¿ƒæ€æƒ³ï¼šè®©æ•°æ®è‡ªå¸¦â€œè¯´æ˜ä¹¦â€</h2>
<p>ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œå‰ç«¯åƒæ˜¯ä¸€ä¸ª**â€œæ¬è¿å·¥â€ï¼šæ‹¿åˆ°åç«¯æ•°æ®ï¼Œæ‰‹åŠ¨åˆ¤æ–­å“ªä¸ªè¯¥æ˜¾ã€å“ªä¸ªè¯¥éšã€‚</p>
<p>è€Œå·¥ç¨‹åŒ–æ¨¡å¼ä¸‹ï¼Œå‰ç«¯æ›´åƒæ˜¯ä¸€ä¸ªâ€œç»„è£…å‚â€**ï¼šæ•°æ®åœ¨è¿›å…¥ UI å±‚ä¹‹å‰ï¼Œå…ˆç»è¿‡ä¸€å¥—â€œä¸­é—´ä»¶æµæ°´çº¿â€ï¼Œæ•°æ®ä¼šè¢«è‡ªåŠ¨æ ‡æ³¨ä¸Š UI æè¿°ä¿¡æ¯ï¼ˆSchemaï¼‰ã€‚</p>
<h3 data-id="heading-2">1. ä»€ä¹ˆæ˜¯ Schema æ¨æ–­ï¼Ÿ</h3>
<p>æ•°æ®ä¸å†æ˜¯å†·å†°å†°çš„é”®å€¼å¯¹ï¼Œè€Œæ˜¯å˜æˆäº†ä¸€ä¸ªåŒ…å«â€œå…ƒæ•°æ®â€çš„å¯¹è±¡ã€‚é€šè¿‡ TypeScript çš„ç±»å‹æ¨æ–­ï¼Œæˆ‘ä»¬è®©æ•°æ®è‡ªå·±å‘Šè¯‰é¡µé¢ï¼š</p>
<ul>
<li>æˆ‘åº”è¯¥ç”¨ä»€ä¹ˆç»„ä»¶æ¸²æŸ“ï¼ˆ<code>componentType</code>ï¼‰</li>
<li>æˆ‘æ˜¯å¦åº”è¯¥è¢«æ˜¾ç¤ºï¼ˆ<code>visible</code>ï¼‰</li>
<li>æˆ‘ä¾èµ–å“ªäº›å­—æ®µï¼ˆ<code>dependencies</code>ï¼‰</li>
<li>æˆ‘çš„ä¸‹æ‹‰é€‰é¡¹å»å“ªé‡Œæ‹‰å–ï¼ˆ<code>request</code>ï¼‰</li>
</ul>
<h3 data-id="heading-3">2. UI æ¡†æ¶åªæ˜¯â€œçš®è‚¤â€</h3>
<p>æ—¢ç„¶é€»è¾‘éƒ½æŠ½ç¦»åˆ°äº†æ¡†æ¶æ— å…³çš„ä¸­é—´ä»¶é‡Œï¼Œé‚£ä¹ˆ UI å±‚æ— è®ºæ˜¯ç”¨ Ant Design è¿˜æ˜¯ Element Plusï¼Œéƒ½åªæ˜¯æ¢ä¸ªâ€œè§£æå™¨â€è€Œå·²ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€ å®æˆ˜ï¼šæ„å»º Vue 3 è‡ªåŠ¨åŒ–æ¸²æŸ“å¼•æ“</h2>
<h3 data-id="heading-5">1. ç»„ä»¶æ³¨å†Œè¡¨</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªç»„ä»¶æ˜ å°„è¡¨ï¼ŒæŠŠæŠ½è±¡çš„å­—ç¬¦ä¸²ç±»å‹æ˜ å°„ä¸ºå…·ä½“çš„ Vue ç»„ä»¶ã€‚</p>
<p>TypeScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src-vue/components/FormRenderer/componentRegistry.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NumberField</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../FieldRenderers/NumberField.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">SelectField</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../FieldRenderers/SelectField.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TextField</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../FieldRenderers/TextField.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">ModeToggle</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../FieldRenderers/ModeToggle.vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> componentRegistry = {
  <span class="hljs-attr">number</span>: <span class="hljs-title class_">NumberField</span>,
  <span class="hljs-attr">select</span>: <span class="hljs-title class_">SelectField</span>,
  <span class="hljs-attr">text</span>: <span class="hljs-title class_">TextField</span>,
  <span class="hljs-attr">modeToggle</span>: <span class="hljs-title class_">ModeToggle</span>,
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>
</code></pre>
<h3 data-id="heading-6">2. ç»„è£…çº¿ï¼šè‡ªåŠ¨æ¸²æŸ“å™¨ï¼ˆAutoFormRendererï¼‰</h3>
<p>è¿™æ˜¯æˆ‘ä»¬çš„æ ¸å¿ƒå¼•æ“ã€‚å®ƒä¸å…³å¿ƒä¸šåŠ¡ï¼Œåªè´Ÿè´£æŒ‰ç…§åŠ å·¥å¥½çš„ <code>_fieldOrder</code> å’Œ <code>_schema</code> è¿›è¡Œéå†ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">&lt;template&gt;
  &lt;a-row :<span class="hljs-attr">gutter</span>=<span class="hljs-string">"[16,16]"</span>&gt;
    &lt;template <span class="hljs-attr">v-for</span>=<span class="hljs-string">"key in orderedKeys"</span> :key=<span class="hljs-string">"key"</span>&gt;
      &lt;component
        <span class="hljs-attr">v-if</span>=<span class="hljs-string">"shouldRender(key)"</span>
        :<span class="hljs-attr">is</span>=<span class="hljs-string">"resolveComponent(key)"</span>
        :<span class="hljs-attr">value</span>=<span class="hljs-string">"data[key]"</span>
        :<span class="hljs-attr">config</span>=<span class="hljs-string">"schema[key].fieldConfig"</span>
        :<span class="hljs-attr">dependencies</span>=<span class="hljs-string">"collectDeps(schema[key])"</span>
        :<span class="hljs-attr">request</span>=<span class="hljs-string">"schema[key].request"</span>
        @update:<span class="hljs-attr">value</span>=<span class="hljs-string">"onFieldChange(key, $event)"</span>
      /&gt;
    &lt;/template&gt;
  &lt;/a-row&gt;
&lt;/template&gt;

&lt;script setup <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;
const <span class="hljs-attr">props</span> = defineProps&lt;{ data: any }&gt;()<span class="hljs-comment">;</span>
const <span class="hljs-attr">schema</span> = computed(() =&gt; props.data?._schema || {})<span class="hljs-comment">;</span>
const <span class="hljs-attr">orderedKeys</span> = computed(() =&gt; props.data?._fieldOrder || Object.keys(props.data))<span class="hljs-comment">;</span>

// æ ¹æ®ä¸­é—´ä»¶æ³¨å…¥çš„ visible å‡½æ•°åˆ¤æ–­æ˜¾éš
function shouldRender(key: string) {
  const <span class="hljs-attr">s</span> = schema.value[key]<span class="hljs-comment">;</span>
  if (!s || s.fieldConfig?.hidden) return false<span class="hljs-comment">;</span>
  return s.visible ? s.visible(props.data) : true<span class="hljs-comment">;</span>
}

function resolveComponent(key: string) {
  const <span class="hljs-attr">type</span> = schema.value[key]?.componentType || <span class="hljs-string">'text'</span><span class="hljs-comment">;</span>
  return componentRegistry<span class="hljs-section">[type]</span><span class="hljs-comment">;</span>
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-7">3. åŸå­åŒ–ï¼šä¼šâ€œæ€è€ƒâ€çš„å­—æ®µç»„ä»¶</h3>
<p>ä»¥ <code>SelectField</code> ä¸ºä¾‹ï¼Œå®ƒä¸å†æ˜¯è¢«åŠ¨ç­‰å¾…èµ‹å€¼ï¼Œè€Œæ˜¯èƒ½æ„ŸçŸ¥ä¾èµ–ã€‚å½“å®ƒä¾èµ–çš„å­—æ®µï¼ˆå¦‚â€œçœä»½â€ï¼‰å˜åŒ–æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é‡æ–°è°ƒç”¨ <code>request</code>ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"ts"</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>([<span class="hljs-string">'value'</span>, <span class="hljs-string">'dependencies'</span>, <span class="hljs-string">'request'</span>]);
<span class="hljs-keyword">const</span> options = <span class="hljs-title function_">ref</span>([]);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadOptions</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (props.<span class="hljs-property">request</span>) {
    options.<span class="hljs-property">value</span> = <span class="hljs-keyword">await</span> props.<span class="hljs-title function_">request</span>(props.<span class="hljs-property">dependencies</span> || {});
  }
}

<span class="hljs-comment">// æ·±åº¦ç›‘å¬ä¾èµ–å˜åŒ–ï¼Œå®ç°è”åŠ¨æ•ˆæœ</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">dependencies</span>, loadOptions, { <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-8">å››ã€ æ–¹æ¡ˆçš„â€œçœŸé¦™â€æ—¶åˆ»</h2>
<h3 data-id="heading-9">1. é€»è¾‘ä¸ UI çš„å½»åº•è§£è€¦</h3>
<p>æ‰€æœ‰çš„è”åŠ¨è§„åˆ™ã€æ ¡éªŒé€»è¾‘ã€æ¥å£è¯·æ±‚éƒ½å®šä¹‰åœ¨ç‹¬ç«‹äºæ¡†æ¶çš„ <code>src/core</code> ä¸‹ã€‚å¦‚æœä½ æ˜å¤©æƒ³æŠŠé¡¹ç›®ä» Vue 3 è¿åˆ° Reactï¼Œä½ åªéœ€è¦é‡å†™é‚£å‡ ä¸ªåŸºç¡€å­—æ®µç»„ä»¶ï¼Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ <strong>ä¸€è¡Œéƒ½ä¸ç”¨åŠ¨</strong>ã€‚</p>
<h3 data-id="heading-10">2. â€œæ´ç™–å‹â€æäº¤</h3>
<p>å¾ˆå¤šåŠ¨æ€è¡¨å•æ–¹æ¡ˆä¼šå°† <code>visible</code>ã€<code>options</code> ç­‰ UI çŠ¶æ€æ··å…¥ä¸šåŠ¡æ•°æ®ï¼Œå¯¼è‡´ä¼ ç»™åç«¯çš„ JSON æå…¶æ··ä¹±ã€‚æˆ‘ä»¬çš„æ–¹æ¡ˆåœ¨æäº¤å‰ä¼šè¿è¡Œä¸€æ¬¡â€œæ¸…æ´—ä¸­é—´ä»¶â€ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">cleanPayload</span> = submitCompileOutputs(formData.compileOutputs)<span class="hljs-comment">;</span>
// è‡ªåŠ¨å‰”é™¤æ‰€æœ‰ä»¥ _ å¼€å¤´çš„è¾…åŠ©å­—æ®µå’Œä¸´æ—¶çŠ¶æ€
</code></pre>
<p>åç«¯æ‹¿åˆ°çš„æ°¸è¿œæ˜¯å¹²å‡€ã€çº¯ç²¹çš„ä¸šåŠ¡æ¨¡å‹ã€‚</p>
<h3 data-id="heading-11">3. å¼€å‘ä½“éªŒçš„é£è·ƒ</h3>
<p>ç°åœ¨ï¼Œå½“åç«¯æ–°å¢ä¸€ä¸ªå­—æ®µæ—¶ï¼Œä½ çš„å·¥ä½œæµå˜æˆäº†ï¼š</p>
<ol>
<li>
<p>åœ¨ç±»å‹æ¨æ–­å¼•æ“é‡ŒåŠ ä¸€è¡Œè§„åˆ™ã€‚</p>
</li>
<li>
<p>åˆ·æ–°é¡µé¢ï¼Œå­—æ®µå·²ç»æŒ‰é¢„å®šçš„ä½ç½®å’Œæ ·å¼é•¿å¥½äº†ã€‚</p>
<p>ä½ ä¸å†éœ€è¦å» .vue æ–‡ä»¶é‡Œç¿»æ‰¾å‡ ç™¾è¡Œå¤„çš„ template æ’å…¥ HTMLï¼Œæ›´ä¸éœ€è¦æ‹…å¿ƒæ¼æ‰äº†å“ªä¸ª v-ifã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-12">ç»“è¯­ï¼šä¸è¦ä¸ºäº†ç”¨æ¡†æ¶è€Œç”¨æ¡†æ¶</h2>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬è§‰å¾— Vue æˆ– React éš¾ç»´æŠ¤ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å°†<strong>è¿‡é‡çš„ä¸šåŠ¡å†³ç­–</strong>äº¤ç»™äº†<strong>è§†å›¾å±‚</strong>ã€‚</p>
<p>é€šè¿‡å¼•å…¥ä¸­é—´ä»¶å’Œ Schema æ¨æ–­ï¼Œæˆ‘ä»¬å®é™…ä¸Šåœ¨ UI æ¡†æ¶ä¹‹ä¸Šå»ºç«‹äº†ä¸€ä¸ªâ€œä¸šåŠ¡é€»è¾‘é˜²ç«å¢™â€ã€‚Vue åªè´Ÿè´£ç›‘å¬äº¤äº’å’Œæ¸²æŸ“ç»“æœï¼Œè€Œå˜å¹»è«æµ‹çš„ä¸šåŠ¡è§„åˆ™è¢«å…³åœ¨äº†çº¯ TypeScript ç¼–å†™çš„æ²™ç›’é‡Œã€‚</p>
<p><strong>è¿™ç§â€œå·¥ç¨‹åŒ–â€çš„æ€ç»´ï¼Œä¸ä»…æ˜¯ä¸ºäº†ä»Šå¤©èƒ½å¿«é€Ÿå¤åˆ»åŠŸèƒ½ï¼Œæ›´æ˜¯ä¸ºäº†æ˜å¤©ä¸šåŠ¡å˜åŠ¨æ—¶ï¼Œæˆ‘ä»¬èƒ½ä¼˜é›…åœ°â€œé…ç½®å‡çº§â€ï¼Œè€Œä¸æ˜¯â€œæ¨å€’é‡æ¥â€ã€‚</strong></p>
<hr/>
<p><strong>ä½ æ˜¯å¦‚ä½•å¤„ç†å¤æ‚è¡¨å•è”åŠ¨çš„ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„â€œé¿å‘â€æŒ‡å—ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java çš„é‡‘é¢è®¡ç®—ç”¨ long è¿˜æ˜¯ BigDecimalï¼Ÿèµ„æ·±ç¨‹åºå‘˜è¿™æ ·é€‰]]></title>    <link>https://juejin.cn/post/7585485074038554630</link>    <guid>https://juejin.cn/post/7585485074038554630</guid>    <pubDate>2025-12-21T02:42:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585485074038554630" data-draft-id="7577705544875589670" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java çš„é‡‘é¢è®¡ç®—ç”¨ long è¿˜æ˜¯ BigDecimalï¼Ÿèµ„æ·±ç¨‹åºå‘˜è¿™æ ·é€‰"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-21T02:42:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java çš„é‡‘é¢è®¡ç®—ç”¨ long è¿˜æ˜¯ BigDecimalï¼Ÿèµ„æ·±ç¨‹åºå‘˜è¿™æ ·é€‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T02:42:38.000Z" title="Sun Dec 21 2025 02:42:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>æœ€è¿‘æ¥è§¦ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå‘ç°ç³»ç»Ÿä¸­æ‰€æœ‰é‡‘é¢ç›¸å…³å­—æ®µéƒ½ä½¿ç”¨<code>long</code>ç±»å‹æ¥è¡¨ç¤ºã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªä¹ æƒ¯ä½¿ç”¨<code>BigDecimal</code>å¤„ç†é‡‘é¢çš„å¼€å‘è€…ï¼Œè¿™è®©æˆ‘äº§ç”Ÿäº†ç–‘æƒ‘ï¼šè¿™ä¼šä¸ä¼šæœ‰ç²¾åº¦é—®é¢˜ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ</p>
<p>â€œç”¨<code>double</code>ä¸è¡Œå—ï¼Ÿå®ƒä¹Ÿèƒ½è¡¨ç¤ºå°æ•°å•Šï¼â€</p>
<p>ç»è¿‡ä¸€ç•ªç ”ç©¶å’Œæ€è€ƒï¼ŒæŠŠæœ€ç»ˆå¾—å‡ºçš„ç»“è®ºæ¥å’Œå¤§å®¶è¯¦ç»†åˆ†äº«ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€doubleã€floatç±»å‹æ¯”è¾ƒ</h3>
<p><code>double</code>å’Œ<code>float</code>éƒ½æ˜¯Javaä¸­çš„æµ®ç‚¹æ•°ç±»å‹ï¼Œå®ƒä»¬é‡‡ç”¨IEEE 754æ ‡å‡†æ¥è¡¨ç¤ºå°æ•°ã€‚</p>
<p>è¿™ç§è¡¨ç¤ºæ–¹æ³•ç±»ä¼¼äºç§‘å­¦è®¡æ•°æ³•ï¼Œä½†å­˜åœ¨ä¸€ä¸ªè‡´å‘½é—®é¢˜ï¼š<strong>ä¸æ˜¯æ‰€æœ‰å°æ•°éƒ½èƒ½ç²¾ç¡®è¡¨ç¤º</strong>ã€‚</p>
<p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">double</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.1</span>;
<span class="hljs-type">double</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.2</span>;
<span class="hljs-type">double</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> a + b;
System.out.println(result); 
<span class="hljs-comment">// è¾“å‡ºï¼š0.30000000000000004</span>
</code></pre>
<p>ä»€ä¹ˆï¼Ÿç®€å•çš„0.1 + 0.2å±…ç„¶ä¸ç­‰äº0.3ï¼Ÿ</p>
<p>æ˜¯çš„ï¼Œè¿™æ˜¯å› ä¸ºåœ¨äºŒè¿›åˆ¶çš„è®¡ç®—ä¸­ï¼Œæœ‰äº›åè¿›åˆ¶å°æ•°æ²¡æœ‰åŠæ³•ç²¾ç¡®è¡¨ç¤ºï¼Œå°±åƒ1é™¤ä»¥3ä¸€æ ·ï¼Œåœ¨åè¿›åˆ¶ä¸­ä¹Ÿä¸èƒ½ç²¾ç¡®è¡¨ç¤ºï¼ˆ0.33333...ï¼‰ã€‚</p>
<h3 data-id="heading-2">äºŒã€BigDecimal è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-3">BigDecimalçš„æ­£ç¡®ç”¨æ³•</h4>
<p><code>BigDecimal</code>å¯ä»¥è§£å†³ç²¾åº¦é—®é¢˜ï¼Œä½†å¿…é¡»æ­£ç¡®ä½¿ç”¨ã€‚</p>
<p><strong>é”™è¯¯çš„æ„é€ æ–¹å¼</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BigDecimal</span> <span class="hljs-variable">wrong1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">0.1</span>); 
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">wrong2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">0.2</span>);
</code></pre>
<p>è¿™ç§ä¼ å…¥æµ®ç‚¹å‹çš„æ„é€ æ–¹å¼è¿˜æ˜¯ä¼šæœ‰ç²¾åº¦é—®é¢˜ã€‚</p>
<p><strong>æ­£ç¡®çš„æ„é€ æ–¹å¼</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BigDecimal</span> <span class="hljs-variable">correct1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.1"</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">correct2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.2"</span>);
System.out.println(<span class="hljs-string">"æ­£ç¡®æ–¹å¼: "</span> + correct1.add(correct2)); <span class="hljs-comment">// 0.3</span>
</code></pre>
<p>é€šè¿‡ä¼ å…¥å­—ç¬¦ä¸²è¿›è¡Œæ„é€ ã€‚</p>
<p><strong>æˆ–è€…ç”¨valueOfï¼ˆå†…éƒ¨ä¹Ÿæ˜¯è½¬å­—ç¬¦ä¸²ï¼‰</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BigDecimal</span> <span class="hljs-variable">safe1</span> <span class="hljs-operator">=</span> BigDecimal.valueOf(<span class="hljs-number">0.1</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">safe2</span> <span class="hljs-operator">=</span> BigDecimal.valueOf(<span class="hljs-number">0.2</span>);
System.out.println(<span class="hljs-string">"å®‰å…¨æ–¹å¼: "</span> + safe1.add(safe2)); <span class="hljs-comment">// 0.3</span>
</code></pre>
<h4 data-id="heading-4">BigDecimalçš„è¿ç®—è§„åˆ™</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BigDecimalOperations</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">price</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"19.99"</span>);
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">quantity</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"3"</span>);
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">taxRate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.13"</span>);
        
        <span class="hljs-comment">// ä¹˜æ³•</span>
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">subtotal</span> <span class="hljs-operator">=</span> price.multiply(quantity);
        
        <span class="hljs-comment">// é™¤æ³•å¿…é¡»æŒ‡å®šç²¾åº¦å’Œèˆå…¥æ¨¡å¼</span>
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">tax</span> <span class="hljs-operator">=</span> subtotal.multiply(taxRate)
                               .setScale(<span class="hljs-number">2</span>, RoundingMode.HALF_UP);
        
        <span class="hljs-comment">// åŠ æ³•</span>
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> subtotal.add(tax);
        
        System.out.println(<span class="hljs-string">"å°è®¡: "</span> + subtotal); <span class="hljs-comment">// 59.97</span>
        System.out.println(<span class="hljs-string">"ç¨é‡‘: "</span> + tax);      <span class="hljs-comment">// 7.80</span>
        System.out.println(<span class="hljs-string">"æ€»è®¡: "</span> + total);    <span class="hljs-comment">// 67.77</span>
    }
}
</code></pre>
<h4 data-id="heading-5">BigDecimalçš„æ¯”è¾ƒæ“ä½œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BigDecimalComparison</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">num1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"10.00"</span>);
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"10.000"</span>);
        
        <span class="hljs-comment">// é”™è¯¯ï¼šæ¯”è¾ƒå¼•ç”¨</span>
        System.out.println(<span class="hljs-string">"== æ¯”è¾ƒ: "</span> + (num1 == num2)); <span class="hljs-comment">// false</span>
        
        <span class="hljs-comment">// é”™è¯¯ï¼šequalsä¼šæ¯”è¾ƒç²¾åº¦</span>
        System.out.println(<span class="hljs-string">"equalsæ¯”è¾ƒ: "</span> + num1.equals(num2)); <span class="hljs-comment">// false</span>
        
        <span class="hljs-comment">// æ­£ç¡®ï¼šcompareToåªæ¯”è¾ƒæ•°å€¼</span>
        System.out.println(<span class="hljs-string">"compareToæ¯”è¾ƒ: "</span> + (num1.compareTo(num2) == <span class="hljs-number">0</span>)); <span class="hljs-comment">// true</span>
    }
}
</code></pre>
<h4 data-id="heading-6">BigDecimalçš„ç¼ºç‚¹</h4>
<ol>
<li><strong>æ€§èƒ½å¼€é”€</strong>ï¼šå¯¹è±¡åˆ›å»ºå’Œè¿ç®—æˆæœ¬é«˜</li>
<li><strong>å†…å­˜å ç”¨</strong>ï¼šæ¯ä¸ªå¯¹è±¡éœ€è¦20-30å­—èŠ‚</li>
<li><strong>ä½¿ç”¨å¤æ‚</strong>ï¼šå®¹æ˜“ç”¨é”™æ„é€ æ–¹æ³•å’Œè¿ç®—è§„åˆ™</li>
<li><strong>ä»£ç å†—é•¿</strong>ï¼šç®€å•çš„è¿ç®—ä¹Ÿéœ€è¦å¤šè¡Œä»£ç </li>
</ol>
<h3 data-id="heading-7">ä¸‰ã€longæ–¹æ¡ˆ</h3>
<h4 data-id="heading-8">æ ¸å¿ƒæ€æƒ³ï¼šä»¥åˆ†ä¸ºå•ä½å­˜å‚¨</h4>
<p>ä½¿ç”¨<code>long</code>è¡¨ç¤ºé‡‘é¢çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼šä¸ä»¥å…ƒä¸ºå•ä½ï¼Œè€Œä»¥æœ€å°è´§å¸å•ä½ï¼ˆåˆ†ï¼‰å­˜å‚¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LongAmountDemo</span> {
    <span class="hljs-comment">// å·¥å…·æ–¹æ³•ï¼šå…ƒè½¬åˆ†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">yuanToFen</span><span class="hljs-params">(<span class="hljs-type">double</span> yuan)</span> {
        <span class="hljs-keyword">return</span> Math.round(yuan * <span class="hljs-number">100</span>);
    }
    
    <span class="hljs-comment">// å·¥å…·æ–¹æ³•ï¼šåˆ†è½¬å…ƒï¼ˆç”¨äºæ˜¾ç¤ºï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">fenToYuanDisplay</span><span class="hljs-params">(<span class="hljs-type">long</span> fen)</span> {
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"Â¥%.2f"</span>, fen / <span class="hljs-number">100.0</span>);
    }
    
    <span class="hljs-comment">// å·¥å…·æ–¹æ³•ï¼šåˆ†è½¬å…ƒï¼ˆç”¨äºè®¡ç®—ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">fenToYuan</span><span class="hljs-params">(<span class="hljs-type">long</span> fen)</span> {
        <span class="hljs-keyword">return</span> fen / <span class="hljs-number">100.0</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ä»¥åˆ†ä¸ºå•ä½å­˜å‚¨æ‰€æœ‰é‡‘é¢</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">price</span> <span class="hljs-operator">=</span> yuanToFen(<span class="hljs-number">19.99</span>);  <span class="hljs-comment">// 1999åˆ† = 19.99å…ƒ</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">quantity</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;
        <span class="hljs-type">long</span> <span class="hljs-variable">taxRate</span> <span class="hljs-operator">=</span> <span class="hljs-number">13</span>;  <span class="hljs-comment">// 13% = 0.13ï¼Œè¿™é‡Œç”¨æ•´æ•°è¡¨ç¤ºç™¾åˆ†æ¯”</span>
        
        <span class="hljs-comment">// è®¡ç®—è¿‡ç¨‹å…¨éƒ¨ä½¿ç”¨æ•´æ•°è¿ç®—</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">subtotal</span> <span class="hljs-operator">=</span> price * quantity;                    <span class="hljs-comment">// 5997åˆ†</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">tax</span> <span class="hljs-operator">=</span> (subtotal * taxRate) / <span class="hljs-number">100</span>;               <span class="hljs-comment">// 780åˆ†</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> subtotal + tax;                         <span class="hljs-comment">// 6777åˆ†</span>
        
        System.out.println(<span class="hljs-string">"å°è®¡: "</span> + fenToYuanDisplay(subtotal)); <span class="hljs-comment">// Â¥59.97</span>
        System.out.println(<span class="hljs-string">"ç¨é‡‘: "</span> + fenToYuanDisplay(tax));      <span class="hljs-comment">// Â¥7.80</span>
        System.out.println(<span class="hljs-string">"æ€»è®¡: "</span> + fenToYuanDisplay(total));    <span class="hljs-comment">// Â¥67.77</span>
    }
}
</code></pre>
<h4 data-id="heading-9">longæ–¹æ¡ˆçš„ä¼˜åŠ¿</h4>
<p><strong>1.ç»å¯¹ç²¾ç¡®</strong>
æ•´æ•°è¿ç®—åœ¨è®¡ç®—æœºä¸­æ˜¯ç²¾ç¡®çš„ï¼Œä¸ä¼šå‡ºç°æµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜ã€‚</p>
<p><strong>2.æ€§èƒ½å“è¶Š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// longè¿ç®— - æœºå™¨æŒ‡ä»¤çº§åˆ«ï¼Œæå¿«</span>
<span class="hljs-type">long</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">1000L</span>, b = <span class="hljs-number">2000L</span>;
<span class="hljs-type">long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> a + b;

<span class="hljs-comment">// BigDecimalè¿ç®— - æ–¹æ³•è°ƒç”¨ï¼Œå¯¹è±¡åˆ›å»ºï¼Œè¾ƒæ…¢</span>
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"10.00"</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"20.00"</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">result2</span> <span class="hljs-operator">=</span> c.add(d);
</code></pre>
<p><strong>3.å­˜å‚¨é«˜æ•ˆ</strong></p>
<ul>
<li><code>long</code>ï¼šå›ºå®š8å­—èŠ‚</li>
<li><code>BigDecimal</code>ï¼šå¯¹è±¡å¤´+æ•°å€¼ï¼Œé€šå¸¸20-30å­—èŠ‚</li>
</ul>
<p><strong>4.åºåˆ—åŒ–ç®€å•</strong>
åœ¨æ•°æ®åº“ã€JSONã€ç½‘ç»œä¼ è¾“ä¸­å¤„ç†æ›´ç®€å•ã€‚</p>
<h4 data-id="heading-10">å®é™…ä¸šåŠ¡åº”ç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    <span class="hljs-comment">// è®¢å•é‡‘é¢ï¼ˆåˆ†ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> orderAmount;
    <span class="hljs-comment">// ä¼˜æƒ é‡‘é¢ï¼ˆåˆ†ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> discountAmount;
    <span class="hljs-comment">// å®ä»˜é‡‘é¢ï¼ˆåˆ†ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> actualAmount;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">calculateOrder</span><span class="hljs-params">(<span class="hljs-type">long</span> unitPrice, <span class="hljs-type">int</span> quantity, <span class="hljs-type">long</span> discountRate)</span> {
        <span class="hljs-comment">// è®¡ç®—è®¢å•é‡‘é¢</span>
        orderAmount = unitPrice * quantity;
        
        <span class="hljs-comment">// è®¡ç®—ä¼˜æƒ é‡‘é¢</span>
        discountAmount = (orderAmount * discountRate) / <span class="hljs-number">100</span>;
        
        <span class="hljs-comment">// è®¡ç®—å®ä»˜é‡‘é¢</span>
        actualAmount = orderAmount - discountAmount;
    }
    
    <span class="hljs-comment">// æ˜¾ç¤ºæ–¹æ³•</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getDisplayAmount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"è®¢å•é‡‘é¢: %s, ä¼˜æƒ : %s, å®ä»˜: %s"</span>, 
            formatFen(orderAmount),
            formatFen(discountAmount),
            formatFen(actualAmount));
    }
    
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">formatFen</span><span class="hljs-params">(<span class="hljs-type">long</span> fen)</span> {
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"Â¥%.2f"</span>, fen / <span class="hljs-number">100.0</span>);
    }
}
</code></pre>
<h3 data-id="heading-11">å››ã€å„ç§æ–¹æ¡ˆçš„é€‚ç”¨åœºæ™¯</h3>
<h4 data-id="heading-12">double/floatï¼šç»å¯¹ä¸è¦ç”¨äºé‡‘é¢</h4>
<ul>
<li>ç§‘å­¦è®¡ç®—ã€å›¾å½¢å¤„ç†</li>
<li>ç»Ÿè®¡åˆ†æï¼ˆå…è®¸è¯¯å·®ï¼‰</li>
<li>ç‰©ç†æ¨¡æ‹Ÿ</li>
<li>ä¸é€‚ç”¨äºä»»ä½•é‡‘é¢è®¡ç®—</li>
</ul>
<h4 data-id="heading-13">BigDecimalï¼šå¤æ‚é‡‘èè®¡ç®—</h4>
<ul>
<li>é«˜ç²¾åº¦åˆ©ç‡ã€æ±‡ç‡è®¡ç®—</li>
<li>ç¨åŠ¡è®¡ç®—ï¼ˆéœ€è¦å¤æ‚å°æ•°è¿ç®—ï¼‰</li>
<li>é“¶è¡Œæ ¸å¿ƒç³»ç»Ÿ</li>
<li>éœ€è¦ä»»æ„ç²¾åº¦çš„åœºæ™¯</li>
</ul>
<h4 data-id="heading-14">longï¼šå¤§å¤šæ•°ä¸šåŠ¡ç³»ç»Ÿ</h4>
<ul>
<li>ç”µå•†è®¢å•ç³»ç»Ÿ</li>
<li>æ”¯ä»˜ç³»ç»Ÿ</li>
<li>è´¦æˆ·ä½™é¢ç®¡ç†</li>
<li>ç§¯åˆ†ã€ä¼˜æƒ åˆ¸ç³»ç»Ÿ</li>
</ul>
<h3 data-id="heading-15">äº”ã€BigDecimalçš„æœ€ä½³å®è·µ</h3>
<p>å¦‚æœç¡®å®éœ€è¦ä½¿ç”¨BigDecimalï¼Œè¯·éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š</p>
<h4 data-id="heading-16">1. æ„é€ æ–¹æ³•</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¨è</span>
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"0.1"</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> BigDecimal.valueOf(<span class="hljs-number">0.1</span>);  <span class="hljs-comment">// å†…éƒ¨è½¬å­—ç¬¦ä¸²</span>

<span class="hljs-comment">// é¿å…</span>
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-number">0.1</span>);      <span class="hljs-comment">// ç²¾åº¦é—®é¢˜</span>
</code></pre>
<h4 data-id="heading-17">2. è¿ç®—æ§åˆ¶</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BigDecimal</span> <span class="hljs-variable">num1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"10.00"</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"3.00"</span>);

<span class="hljs-comment">// é™¤æ³•å¿…é¡»æŒ‡å®šç²¾åº¦</span>
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> num1.divide(num2, <span class="hljs-number">4</span>, RoundingMode.HALF_UP);

<span class="hljs-comment">// ä¹˜æ³•å»ºè®®æ§åˆ¶ç²¾åº¦</span>
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> num1.multiply(num2).setScale(<span class="hljs-number">2</span>, RoundingMode.HALF_UP);
</code></pre>
<h4 data-id="heading-18">3. æ•°å€¼æ¯”è¾ƒ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">BigDecimal</span> <span class="hljs-variable">amount1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"100.00"</span>);
<span class="hljs-type">BigDecimal</span> <span class="hljs-variable">amount2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"100.000"</span>);

<span class="hljs-comment">// æ­£ç¡®</span>
<span class="hljs-keyword">if</span> (amount1.compareTo(amount2) == <span class="hljs-number">0</span>) {
    <span class="hljs-comment">// æ•°å€¼ç›¸ç­‰</span>
}

<span class="hljs-comment">// é”™è¯¯</span>
<span class="hljs-keyword">if</span> (amount1.equals(amount2)) {
    <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºç²¾åº¦ä¸åŒ</span>
}
</code></pre>
<h3 data-id="heading-19">å…­ã€longæ–¹æ¡ˆçš„å®æ–½å»ºè®®</h3>
<h4 data-id="heading-20">1. å»ºç«‹å·¥å…·ç±»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MoneyUtils</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-title function_">MoneyUtils</span><span class="hljs-params">()</span> {} <span class="hljs-comment">// å·¥å…·ç±»ï¼Œé˜²æ­¢å®ä¾‹åŒ–</span>
    
    <span class="hljs-comment">// å…ƒè½¬åˆ†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">yuanToFen</span><span class="hljs-params">(<span class="hljs-type">double</span> yuan)</span> {
        <span class="hljs-keyword">return</span> Math.round(yuan * <span class="hljs-number">100</span>);
    }
    
    <span class="hljs-comment">// åˆ†è½¬å…ƒï¼ˆæ˜¾ç¤ºç”¨ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">fenToDisplayYuan</span><span class="hljs-params">(<span class="hljs-type">long</span> fen)</span> {
        <span class="hljs-keyword">return</span> String.format(<span class="hljs-string">"Â¥%.2f"</span>, fen / <span class="hljs-number">100.0</span>);
    }
    
    <span class="hljs-comment">// åˆ†è½¬å…ƒï¼ˆè®¡ç®—ç”¨ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">fenToYuan</span><span class="hljs-params">(<span class="hljs-type">long</span> fen)</span> {
        <span class="hljs-keyword">return</span> fen / <span class="hljs-number">100.0</span>;
    }
    
    <span class="hljs-comment">// é‡‘é¢åŠ æ³•ï¼ˆé˜²æ­¢æº¢å‡ºï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">long</span> amount1, <span class="hljs-type">long</span> amount2)</span> {
        <span class="hljs-keyword">return</span> Math.addExact(amount1, amount2);
    }
    
    <span class="hljs-comment">// é‡‘é¢ä¹˜æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">multiply</span><span class="hljs-params">(<span class="hljs-type">long</span> amount, <span class="hljs-type">int</span> multiplier)</span> {
        <span class="hljs-keyword">return</span> Math.multiplyExact(amount, multiplier);
    }
}
</code></pre>
<h4 data-id="heading-21">2. æ•°æ®åº“è®¾è®¡</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä½¿ç”¨bigintå­˜å‚¨é‡‘é¢ï¼ˆåˆ†ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders (
    id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY,
    order_amount <span class="hljs-type">BIGINT</span> COMMENT <span class="hljs-string">'è®¢å•é‡‘é¢ï¼ˆåˆ†ï¼‰'</span>,
    discount_amount <span class="hljs-type">BIGINT</span> COMMENT <span class="hljs-string">'ä¼˜æƒ é‡‘é¢ï¼ˆåˆ†ï¼‰'</span>,
    actual_amount <span class="hljs-type">BIGINT</span> COMMENT <span class="hljs-string">'å®ä»˜é‡‘é¢ï¼ˆåˆ†ï¼‰'</span>
);
</code></pre>
<h4 data-id="heading-22">3. APIè®¾è®¡</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯·æ±‚å’Œå“åº”ä¸­ä½¿ç”¨Longç±»å‹è¡¨ç¤ºé‡‘é¢ï¼ˆåˆ†ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderRequest</span> {
    <span class="hljs-keyword">private</span> Long productId;
    <span class="hljs-keyword">private</span> Integer quantity;
    <span class="hljs-keyword">private</span> Long unitPrice;  <span class="hljs-comment">// å•ä»·ï¼ˆåˆ†ï¼‰</span>
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderResponse</span> {
    <span class="hljs-keyword">private</span> String orderNo;
    <span class="hljs-keyword">private</span> Long totalAmount;  <span class="hljs-comment">// æ€»é‡‘é¢ï¼ˆåˆ†ï¼‰</span>
    <span class="hljs-keyword">private</span> String displayAmount; <span class="hljs-comment">// æ˜¾ç¤ºé‡‘é¢ "Â¥99.99"</span>
}
</code></pre>
<h3 data-id="heading-23">æ€»ç»“ä¸é€‰æ‹©</h3>
<h4 data-id="heading-24">ä¸ºä»€ä¹ˆé‚£ä¸ªé¡¹ç›®é€‰æ‹©longï¼Ÿ</h4>
<p>ç°åœ¨æˆ‘å¯ä»¥ç†è§£é‚£ä¸ªé¡¹ç›®çš„è®¾è®¡æ€è·¯äº†ï¼š</p>
<ol>
<li><strong>ä¸šåŠ¡ç‰¹æ€§</strong>ï¼šä¸»è¦æ˜¯ç®€å•çš„åŠ å‡ä¹˜è¿ç®—ï¼Œæ²¡æœ‰å¤æ‚çš„å°æ•°é™¤æ³•</li>
<li><strong>æ€§èƒ½è¦æ±‚</strong>ï¼šé«˜å¹¶å‘åœºæ™¯ï¼Œéœ€è¦æœ€ä¼˜æ€§èƒ½</li>
<li><strong>å›¢é˜Ÿåä½œ</strong>ï¼šç»Ÿä¸€è§„èŒƒï¼Œé¿å…BigDecimalçš„è¯¯ç”¨</li>
<li><strong>ç³»ç»Ÿå¤æ‚åº¦</strong>ï¼šé™ä½ç³»ç»Ÿå¤æ‚åº¦å’Œç»´æŠ¤æˆæœ¬</li>
</ol>
<h4 data-id="heading-25">å¦‚ä½•é€‰æ‹©ï¼Ÿ</h4>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>ç®€å•ä¸šåŠ¡ç³»ç»Ÿ</td><td><strong>long</strong></td><td>æ€§èƒ½å¥½ï¼Œç®€å•å¯é </td></tr><tr><td>é“¶è¡Œé‡‘èç³»ç»Ÿ</td><td><strong>BigDecimal</strong></td><td>ç²¾åº¦è¦æ±‚æé«˜</td></tr><tr><td>é«˜å¹¶å‘äº¤æ˜“</td><td><strong>long</strong></td><td>æ€§èƒ½è‡³å…³é‡è¦</td></tr><tr><td>å¤æ‚ç¨åŠ¡è®¡ç®—</td><td><strong>BigDecimal</strong></td><td>éœ€è¦å¤æ‚å°æ•°è¿ç®—</td></tr><tr><td>æ–°é¡¹ç›®å¯åŠ¨</td><td><strong>long</strong></td><td>æŠ€æœ¯å€ºåŠ¡å°‘</td></tr></tbody></table>
<p>æŠ€æœ¯é€‰å‹ä»æ¥éƒ½ä¸æ˜¯å•ä¸€çš„ï¼Œç†è§£ä¸šåŠ¡çš„éœ€æ±‚ï¼Œèƒ½é€‰æ‹©å‡ºæœ€é€‚åˆçš„æŠ€æœ¯æ–¹æ¡ˆå°±æ˜¯æœ€å¥½çš„æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-26">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6V83qjR6u0nyfzL-14xYAw" target="_blank" title="https://mp.weixin.qq.com/s/6V83qjR6u0nyfzL-14xYAw" ref="nofollow noopener noreferrer">ã€Šasync/await åˆ°åº•è¦ä¸è¦åŠ  try-catchï¼Ÿå¼‚æ­¥é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FPQ_w7CDVoIZPn-CVH2DKJg" target="_blank" title="https://mp.weixin.qq.com/s/PQ_w7CDVoIZPn-CVH2DKJg" ref="nofollow noopener noreferrer">ã€ŠVue3 å’Œ Vue2 çš„æ ¸å¿ƒåŒºåˆ«ï¼Ÿå¾ˆå¤šå¼€å‘è€…éƒ½æ²¡å®Œå…¨ææ‡‚çš„ 10 ä¸ªç»†èŠ‚ã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fp0n2mN5RDDDaIWuHHVRUZQ" target="_blank" title="https://mp.weixin.qq.com/s/p0n2mN5RDDDaIWuHHVRUZQ" ref="nofollow noopener noreferrer">ã€ŠJava å¼€å‘å¿…çœ‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ forï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Streamï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqI3TRTdDfRJSH9kCTqAQUw" target="_blank" title="https://mp.weixin.qq.com/s/qI3TRTdDfRJSH9kCTqAQUw" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª MySQL é«˜çº§ç”¨æ³•ï¼Œè®©ä½ çš„ä»£ç åˆå¿«åˆå¥½çœ‹ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangGraph1.0é€Ÿé€šæŒ‡å—ï¼ˆäºŒï¼‰â€”â€” LangGraph1.0 æ¡ä»¶è¾¹ã€è®°å¿†ã€äººåœ¨å›è·¯]]></title>    <link>https://juejin.cn/post/7585553799298056238</link>    <guid>https://juejin.cn/post/7585553799298056238</guid>    <pubDate>2025-12-21T05:49:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585553799298056238" data-draft-id="7585076863820660787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangGraph1.0é€Ÿé€šæŒ‡å—ï¼ˆäºŒï¼‰â€”â€” LangGraph1.0 æ¡ä»¶è¾¹ã€è®°å¿†ã€äººåœ¨å›è·¯"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Agent,LangChain"/> <meta itemprop="datePublished" content="2025-12-21T05:49:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹çœŸå¥½ç©"/> <meta itemprop="url" content="https://juejin.cn/user/3140624091453053"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangGraph1.0é€Ÿé€šæŒ‡å—ï¼ˆäºŒï¼‰â€”â€” LangGraph1.0 æ¡ä»¶è¾¹ã€è®°å¿†ã€äººåœ¨å›è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3140624091453053/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹çœŸå¥½ç©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T05:49:52.000Z" title="Sun Dec 21 2025 05:49:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šç¯‡å†…å®¹ã€Š<a href="https://juejin.cn/post/7584689488770252835" target="_blank" title="https://juejin.cn/post/7584689488770252835">LangGraph1.0é€Ÿé€šæŒ‡å—ï¼ˆä¸€ï¼‰â€”â€” æ ¸å¿ƒæ¦‚å¿µã€ç‚¹ã€è¾¹</a>ã€‹ä¸­ç¬”è€…ä»‹ç»äº†LangGraph çš„åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å®šä¹‰èŠ‚ç‚¹ä¸è¾¹æ¥æ„å»ºå¤šç§å›¾ç»“æ„ã€‚æœ‰äº†è¿™äº›åŸºç¡€ï¼Œå¤§å®¶å·²ç»èƒ½å¤Ÿæ­å»ºèµ·ä¸€ä¸ªå¯è¿è¡Œçš„æ™ºèƒ½ä½“å·¥ä½œæµã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ç¬”è€…å°†è¿›ä¸€æ­¥å±•å¼€ LangGraph æ›´ä¸ºçµæ´»å’Œå¼ºå¤§çš„èƒ½åŠ›ã€‚ä½ å°†å­¦ä¹ åˆ°ï¼š</p>
<ul>
<li><strong>æ¡ä»¶è¾¹ï¼ˆConditional Edgesï¼‰</strong> ï¼šé™¤æ¡ä»¶å‡½æ•°å¤–ï¼Œå¦‚ä½•è®©å›¾ç»“æ„æ ¹æ®è¿è¡Œæ—¶çš„çŠ¶æ€åŠ¨æ€é€‰æ‹©ä¸‹ä¸€æ­¥è·¯å¾„ï¼Œå®ç°åˆ†æ”¯ä¸å¾ªç¯é€»è¾‘ï¼›</li>
<li><strong>è®°å¿†ï¼ˆMemoryï¼‰</strong> ï¼šå¦‚ä½•è®© LangGraph åœ¨å¤šæ¬¡è°ƒç”¨ä¸­ä¿ç•™å’Œæ›´æ–°çŠ¶æ€ï¼Œæ„å»ºLangGraphæŒç»­è¿è¡Œçš„èƒ½åŠ›</li>
<li><strong>äººåœ¨å›è·¯ï¼ˆHuman-in-the-loopï¼‰</strong> ï¼šå¦‚ä½•åœ¨å…³é”®èŠ‚ç‚¹å¼•å…¥äººå·¥ç¡®è®¤æˆ–å¹²é¢„ï¼Œä½¿LangGraphå›¾æ›´åŠ å¯æ§ã€å¯é ã€‚</li>
</ul>
<p>LangGraph1.0 ä¸å…ˆå‰ç‰ˆæœ¬å˜åŠ¨ä¸å¤§ï¼Œé¢„è®¡èŠ±è´¹ä¸‰èŠ‚å·¦å³çš„æ—¶é—´è®²è§£ï¼ŒåŒæ—¶ä¹Ÿè¦è¯´æ˜ç¬”è€…çš„ä¸“æ <a href="https://juejin.cn/column/7526240014499495972" target="_blank" title="https://juejin.cn/column/7526240014499495972">ã€Šæ·±å…¥æµ…å‡ºLangChain&amp;LangGraph AI Agent æ™ºèƒ½ä½“å¼€å‘ã€‹</a>é€‚åˆæ‰€æœ‰å¯¹ LangChain æ„Ÿå…´è¶£çš„å­¦ä¹ è€…ï¼Œæ— è®ºä¹‹å‰æ˜¯å¦æ¥è§¦è¿‡ LangChainã€‚è¯¥ä¸“æ åŸºäºç¬”è€…åœ¨å®é™…é¡¹ç›®ä¸­çš„æ·±åº¦ä½¿ç”¨ç»éªŒï¼Œç³»ç»Ÿè®²è§£äº†ä½¿ç”¨LangChain/LangGraphå¦‚ä½•å¼€å‘æ™ºèƒ½ä½“ï¼Œç›®å‰å·²æ›´æ–° 32 è®²ï¼Œå¹¶æŒç»­è¡¥å……å®æˆ˜ä¸æ‹“å±•å†…å®¹ã€‚æ¬¢è¿æ„Ÿå…´è¶£çš„åŒå­¦å…³æ³¨ç¬”è€…çš„æ˜é‡‘è´¦å·ä¸ä¸“æ ï¼Œä¹Ÿå¯å…³æ³¨ç¬”è€…çš„åŒåå¾®ä¿¡å…¬ä¼—å·Â <strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œæ¯æœŸåˆ†äº«æ¶‰åŠçš„ä»£ç å‡å¯åœ¨å…¬ä¼—å·ç§ä¿¡:Â <strong>LangChainæ™ºèƒ½ä½“å¼€å‘</strong>å…è´¹è·å–ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ä½¿ç”¨Commandå¯¹è±¡ï¼šè¾¹å®šä¹‰çš„ç¬¬äºŒç§æ–¹æ³•</h2>
<p>ä¸Šç¯‡å†…å®¹ã€Š<a href="https://juejin.cn/post/7584689488770252835" target="_blank" title="https://juejin.cn/post/7584689488770252835">LangGraph1.0é€Ÿé€šæŒ‡å—ï¼ˆä¸€ï¼‰â€”â€” æ ¸å¿ƒæ¦‚å¿µã€ç‚¹ã€è¾¹</a>ã€‹ä¸­ç¬”è€…ä»‹ç»äº†é€šè¿‡Â <code>add_conditional_edges</code>Â é…åˆæ¡ä»¶è·¯ç”±å‡½æ•°æ¥å®šä¹‰è¾¹çš„æ–¹æ³•ã€‚è¯¥å‡½æ•°æ ¹æ®å›¾çš„çŠ¶æ€è¿”å›ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åç§°ï¼Œä»è€Œå®ç°åŠ¨æ€è·¯ç”±ã€‚</p>
<pre><code class="hljs language-python" lang="python">...
<span class="hljs-keyword">def</span> <span class="hljs-title function_">conditional_edge</span>(<span class="hljs-params">state: State</span>) -&gt; <span class="hljs-type">Literal</span>[<span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, END]:
    select = state[<span class="hljs-string">"nList"</span>][-<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> select == <span class="hljs-string">"b"</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">'b'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'c'</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">'c'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'q'</span>:
        <span class="hljs-keyword">return</span> END
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> END

...


builder.add_conditional_edges(<span class="hljs-string">"a"</span>, conditional_edge)
</code></pre>
<p>è¿™æ˜¯ä¸€ç§å°†<strong>è·¯ç”±é€»è¾‘</strong>ï¼ˆè¾¹ï¼‰ä¸<strong>èŠ‚ç‚¹æ‰§è¡Œé€»è¾‘</strong>ï¼ˆç‚¹ï¼‰åˆ†ç¦»çš„æ¸…æ™°æ¨¡å¼ã€‚ç„¶è€Œï¼ŒLangGraph æä¾›äº†å¦ä¸€ç§æ›´ä¸ºç›´æ¥çš„æ§åˆ¶æµæ–¹å¼ï¼šå…è®¸èŠ‚ç‚¹å‡½æ•°åœ¨è¿”å›æ—¶ï¼Œä¸ä»…æ›´æ–°çŠ¶æ€ï¼Œè¿˜èƒ½<strong>æ˜¾å¼æŒ‡å®šæ¥ä¸‹æ¥è¦æ‰§è¡Œçš„èŠ‚ç‚¹</strong>ã€‚è¿™æ˜¯é€šè¿‡è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„Â <code>langgraph.types.Command</code>Â å¯¹è±¡æ¥å®ç°çš„ã€‚</p>
<h3 data-id="heading-2">1.1Â <code>Command</code>Â å¯¹è±¡ï¼šå°†è·¯ç”±é€»è¾‘å†…ç½®äºèŠ‚ç‚¹</h3>
<p><code>Command</code>Â å¯¹è±¡ä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®æŒ‡ä»¤ï¼š</p>
<ul>
<li><strong><code>update</code></strong>: ç”¨äºæ›´æ–°å›¾çš„çŠ¶æ€ã€‚</li>
<li><strong><code>goto</code></strong>: ç”¨äºæŒ‡å®šä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„èŠ‚ç‚¹ã€‚</li>
</ul>
<p>è¿™æ„å‘³ç€å¯ä»¥åœ¨èŠ‚ç‚¹çš„å¤„ç†å‡½æ•°å†…éƒ¨ï¼Œç›´æ¥å†³å®šå·¥ä½œæµçš„ä¸‹ä¸€æ­¥èµ°å‘ï¼Œæ— éœ€æå‰åœ¨å›¾ä¸­å®šä¹‰å¥½æ‰€æœ‰æ¡ä»¶è¾¹ã€‚å¯¹äºä¸‹å›¾ä¸­çš„èŠ‚ç‚¹Aï¼Œç¬”è€…å¸Œæœ›åœ¨æ‰§è¡Œå…¶é€»è¾‘åï¼Œæ ¹æ®å½“å‰çŠ¶æ€é€‰æ‹©è·³è½¬èŠ‚ç‚¹Bæˆ–èŠ‚ç‚¹Cï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3241372ced94feb926336ab2ffb2365~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=uUI4mGzZtHpCbTDX03L%2BXbw4nbY%3D" alt="11.png" width="50%" loading="lazy"/></p>
<p>è¿™å°±éœ€è¦é‡å†™<code>node_a</code>å‡½æ•°</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">node_a</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>, END]]:
    select = state[<span class="hljs-string">'nList'</span>][-<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> select == <span class="hljs-string">'b'</span>:
        next_node = <span class="hljs-string">'b'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'c'</span>:
        next_node = <span class="hljs-string">'c'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'q'</span>:
        next_node = END
    <span class="hljs-keyword">else</span>:
        next_node = END

    <span class="hljs-keyword">return</span> Command(
        update=State(nList=[select]),
        goto=next_node
    )
</code></pre>
<h3 data-id="heading-3">1.2 å®Œæ•´ç¤ºä¾‹ä¸æ‰§è¡Œè¿‡ç¨‹åˆ†æ</h3>
<ol>
<li>
<p>å°†è¿™ç§æ€è·¯åº”ç”¨åˆ°<a href="https://juejin.cn/post/7584689488770252835" target="_blank" title="https://juejin.cn/post/7584689488770252835">ä¸Šç¯‡æ–‡ç« </a>çš„æ¡ä»¶å›¾ç»“æ„ä¸­ï¼Œå®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> START, END, StateGraph
<span class="hljs-keyword">import</span> operator
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict, <span class="hljs-type">List</span>, Annotated, <span class="hljs-type">Literal</span>

<span class="hljs-keyword">from</span> langgraph.types <span class="hljs-keyword">import</span> Command


<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    nList: Annotated[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], operator.add]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_a</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>, END]]:
    select = state[<span class="hljs-string">'nList'</span>][-<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> select == <span class="hljs-string">'b'</span>:
        next_node = <span class="hljs-string">'b'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'c'</span>:
        next_node = <span class="hljs-string">'c'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'q'</span>:
        next_node = END
    <span class="hljs-keyword">else</span>:
        next_node = END

    <span class="hljs-keyword">return</span> Command(
        update=State(nList=[select]),
        goto=next_node
    )

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_b</span>(<span class="hljs-params">state: State</span>):
    <span class="hljs-keyword">return</span> Command(
        goto=END
    )

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_c</span>(<span class="hljs-params">state: State</span>):
    <span class="hljs-keyword">return</span> Command(
        goto=END
    )



builder = StateGraph(State)
builder.add_node(<span class="hljs-string">"a"</span>, node_a)
builder.add_node(<span class="hljs-string">"b"</span>, node_b)
builder.add_node(<span class="hljs-string">"c"</span>, node_c)

builder.add_edge(START, <span class="hljs-string">"a"</span>)

graph = builder.<span class="hljs-built_in">compile</span>()

user = <span class="hljs-built_in">input</span>(<span class="hljs-string">'b, c or q to quit:'</span>)
input_state = State(
    nList=[user]
)
<span class="hljs-built_in">print</span>(graph.invoke(input_state))
</code></pre>
</li>
<li>
<p>è¿è¡Œæµ‹è¯•ï¼Œåˆ†æè¾“å…¥Â <code>'b'</code>Â æ—¶çš„æ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<ol>
<li>
<p><strong>åˆå§‹çŠ¶æ€</strong>ï¼š<code>State(nList=['b'])</code></p>
</li>
<li>
<p><strong>æ‰§è¡ŒèŠ‚ç‚¹ A</strong>ï¼š</p>
<ul>
<li>è¯»å–çŠ¶æ€Â <code>nList[-1]</code>ï¼Œå¾—åˆ°Â <code>'b'</code>ã€‚</li>
<li>é€»è¾‘åˆ¤æ–­Â <code>next_node = 'b'</code>ã€‚</li>
<li>è¿”å›Â <code>Command(update=State(nList=['b']), goto='b')</code>ã€‚</li>
<li><strong>çŠ¶æ€æ›´æ–°</strong>ï¼š<code>update</code>Â æŒ‡ä»¤å°†Â <code>['b']</code>Â è¿½åŠ åˆ°åŸçŠ¶æ€ã€‚ç”±äºÂ <code>reducer</code>Â æ˜¯Â <code>operator.add</code>ï¼ŒçŠ¶æ€å˜ä¸ºÂ <code>nList=['b', 'b']</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>è·³è½¬ä¸æ‰§è¡Œ</strong>ï¼šæ ¹æ®Â <code>goto='b'</code>ï¼Œå›¾è·³è½¬åˆ°èŠ‚ç‚¹ Bã€‚</p>
</li>
<li>
<p><strong>æ‰§è¡ŒèŠ‚ç‚¹ B</strong>ï¼šèŠ‚ç‚¹ B è¿”å›Â <code>Command(goto=END)</code>ï¼Œå›¾è¿è¡Œç»“æŸã€‚</p>
</li>
<li>
<p><strong>æœ€ç»ˆè¾“å‡ºçŠ¶æ€</strong>ï¼š<code>{'nList': ['b', 'b']}</code>ã€‚</p>
</li>
<li>
<p>è¾“å…¥Â <code>'c'</code>Â æˆ–å…¶å®ƒå­—ç¬¦ï¼ˆå¦‚Â <code>'q'</code>ï¼‰çš„é€»è¾‘ç±»ä¼¼ï¼Œæœ€ç»ˆçŠ¶æ€ä¼šåˆ†åˆ«ä¸ºÂ <code>['c', 'c']</code>Â æˆ–Â <code>['q']</code>ã€‚</p>
</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b84048c3efda405a942524107eb77535~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=7cbFmvF%2BDAvRLzeUkTHYcWvqCeo%3D" alt="0.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcd83efd58cd4c2dafc63bc223035b34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=xUiiv02Xx5YXJukrOIcRY9xAuBs%3D" alt="1.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dfdd975dd93434782b2b37cbd2de5ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=4uuCKOpO1BnjWnZImnxyQ%2BV2azQ%3D" alt="2.png" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-4">1.3 æ–¹æ³•å¯¹æ¯”é€‰å‹</h3>
<p>è™½ç„¶Â <code>Command</code>Â å¯¹è±¡æä¾›äº†å¼ºå¤§çš„ã€ç”±èŠ‚ç‚¹é©±åŠ¨æµç¨‹çš„èƒ½åŠ›ï¼Œä½†åœ¨å¤§å¤šæ•°æ™ºèƒ½ä½“å·¥ä½œæµçš„è®¾è®¡ä¸­ï¼Œ<strong>ç¬”è€…æ›´æ¨èä½¿ç”¨Â <code>add_conditional_edges</code>Â é…åˆæ¡ä»¶è·¯ç”±å‡½æ•°çš„æ–¹å¼æ¥å®šä¹‰è¾¹</strong>ã€‚</p>
<p>ä¸»è¦åŸå› åœ¨äºâ€œ<strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>â€å’Œâ€œ<strong>å¯ç»´æŠ¤æ€§</strong>â€ã€‚å°†â€œåšä»€ä¹ˆâ€ï¼ˆèŠ‚ç‚¹é€»è¾‘ï¼‰å’Œâ€œæ¥ä¸‹æ¥å»å“ªâ€ï¼ˆè·¯ç”±é€»è¾‘ï¼‰åˆ†å¼€å®šä¹‰ï¼Œä½¿å¾—å›¾çš„ç»“æ„æ›´åŠ æ¸…æ™°ã€æ˜“äºç†è§£å’Œè°ƒè¯•ã€‚å›¾çš„<code>builder</code>æœ¬èº«å°±èƒ½å®Œæ•´åæ˜ ä¸šåŠ¡é€»è¾‘çš„æµè½¬ï¼Œè€Œä¸æ˜¯å°†æ§åˆ¶æµéšè—åœ¨èŠ‚ç‚¹çš„å®ç°ç»†èŠ‚é‡Œã€‚</p>
<p>å› æ­¤ï¼Œ<code>Command</code>Â æ–¹æ¡ˆæ›´é€‚åˆä½œä¸ºä¸€ç§é«˜çº§æˆ–ç‰¹å®šåœºæ™¯ä¸‹çš„è¡¥å……æ‰‹æ®µï¼Œè€Œåœ¨æ„å»ºæ¸…æ™°ã€å¯ç»´æŠ¤çš„ LangGraph åº”ç”¨æ—¶ï¼Œåº”ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨æ¡ä»¶è¾¹å‡½æ•°æ¥å®šä¹‰è·¯ç”±ã€‚</p>
<h2 data-id="heading-5">äºŒã€Memoryï¼šå®ç°æ™ºèƒ½ä½“çš„é•¿æœŸè®°å¿†</h2>
<p>åœ¨ LangGraph çš„å·¥ä½œæµä¸­ï¼ŒèŠ‚ç‚¹æŒ‰é¡ºåºæ‰§è¡Œï¼ŒçŠ¶æ€éšä¹‹æ›´æ–°ã€‚ç„¶è€Œï¼Œè¿™ç§çŠ¶æ€é»˜è®¤åªå­˜åœ¨äºå•æ¬¡è°ƒç”¨ï¼ˆ<code>invoke</code>ï¼‰çš„ç”Ÿå‘½å‘¨æœŸå†…ã€‚ä¸ºäº†è®©æ™ºèƒ½ä½“åƒäººç±»ä¸€æ ·æ‹¥æœ‰â€œè®°å¿†â€ï¼Œèƒ½å¤Ÿåœ¨å¤šæ¬¡äº¤äº’ä¸­è®°ä½ä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚ï¼Œåƒåœ¨ DeepSeek ç½‘é¡µä¸­è¿›è¡Œçš„å¤šè½®å¯¹è¯ï¼‰ï¼ŒLangGraph æä¾›äº†<strong>æ£€æŸ¥ç‚¹ï¼ˆCheckpointï¼‰</strong> æœºåˆ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d46e8df421a74a97b8c4287d672a4904~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=bRw%2BY6WYtLiUYA0Out5K1qADqFo%3D" alt="3.png" loading="lazy"/></p>
<h3 data-id="heading-6">2.1 ç†è§£æ£€æŸ¥ç‚¹ï¼šçŠ¶æ€å¿«ç…§ä¸çº¿ç¨‹</h3>
<p><strong>æ£€æŸ¥ç‚¹</strong>æ˜¯ LangGraph å®ç°è®°å¿†åŠŸèƒ½çš„æ ¸å¿ƒã€‚å®ƒæœ¬è´¨ä¸Šæ˜¯åœ¨å›¾è¿è¡Œçš„<strong>å…³é”®æ­¥éª¤ï¼ˆå¦‚æ¯ä¸ªèŠ‚ç‚¹æ‰§è¡Œåï¼‰</strong> Â å¯¹å½“å‰å®Œæ•´çŠ¶æ€è¿›è¡Œçš„ä¸€æ¬¡å¿«ç…§ï¼ˆSnapshotï¼‰ï¼Œå¹¶å°†å…¶æŒä¹…åŒ–å­˜å‚¨ã€‚è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºä¸ºè™šæ‹Ÿæœºä¿å­˜æ¢å¤ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03113417b6ff41aa886a3354eaf40710~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=93B11SD2S34w70cjsODo3lWRc6A%3D" alt="4.png" loading="lazy"/></p>
<p>è¿™äº›æŒ‰æ—¶é—´é¡ºåºæ’åˆ—çš„æ£€æŸ¥ç‚¹é›†åˆï¼Œæ„æˆäº†ä¸€ä¸ª<strong>çº¿ç¨‹ï¼ˆThreadï¼‰</strong> ã€‚åœ¨çº¿ç¨‹ä¸­ï¼Œæ¯æ¬¡<code>graph.invoke</code>è°ƒç”¨çš„å†å²è®°å½•éƒ½è¢«å®Œæ•´ä¿å­˜ã€‚è¿™è§£é‡Šäº†ä¸ºä½•åœ¨ DeepSeek ä¸­ï¼Œâ€œæ–°å¯¹è¯â€ä¼šå¼€å¯ä¸€ä¸ªæ²¡æœ‰å†å²çš„çº¯å‡€ä¼šè¯â€”â€”å› ä¸ºå®ƒå¼€å¯äº†ä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚</p>
<p><strong>æ£€æŸ¥ç‚¹çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<p>å¼•å…¥æ£€æŸ¥ç‚¹æœºåˆ¶ä¸ºæ™ºèƒ½ä½“å¼€å‘å¸¦æ¥äº†å¦‚ä¸‹å…³é”®èƒ½åŠ›ï¼š</p>
<ol>
<li><strong>çŠ¶æ€æŒä¹…åŒ–</strong>ï¼šå³ä½¿å›¾åœæ­¢è¿è¡Œï¼ŒçŠ¶æ€ä¹Ÿèƒ½è¢«ä¿ç•™ï¼Œä¸‹æ¬¡å¯ä»æ–­ç‚¹æ¢å¤ã€‚</li>
<li><strong>é”™è¯¯æ¢å¤ä¸é‡è¯•</strong>ï¼šå½“æŸä¸ªèŠ‚ç‚¹æ‰§è¡Œå¤±è´¥æ—¶ï¼Œå¯ä»¥ä»ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹æ¢å¤çŠ¶æ€å¹¶é‡è¯•ï¼Œé¿å…ä¸¢å¤±å…¨éƒ¨è¿›åº¦ã€‚</li>
<li><strong>æ—¶é—´æ—…è¡Œä¸å›æ»š</strong>ï¼šå¦‚æœå‘ç°æ™ºèƒ½ä½“åœ¨é•¿æœŸè¿è¡Œåâ€œè·‘åâ€ï¼Œå¯ä»¥å›æ»šåˆ°ä»»æ„å†å²æ£€æŸ¥ç‚¹ï¼Œå¹¶ä»è¯¥å¥åº·çŠ¶æ€é‡æ–°å¼€å§‹ã€‚</li>
<li><strong>æš‚åœä¸ç»§ç»­</strong>ï¼šå¯ä»¥æš‚åœä¸€ä¸ªé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼Œå¹¶åœ¨ä¹‹åå‡†ç¡®åœ°ä»ä¸­æ–­å¤„ç»§ç»­æ‰§è¡Œã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed9c7cc7f3d341549297021aaa8a7f69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=KCMKPWXf83qswoFh350OtOFdQ7s%3D" alt="5.png" loading="lazy"/></p>
<h3 data-id="heading-7">2.2 å®æˆ˜ï¼šä½¿ç”¨å†…å­˜æ£€æŸ¥ç‚¹å™¨</h3>
<p>LangGraph æä¾›äº†å¤šç§æ£€æŸ¥ç‚¹å­˜å‚¨åç«¯ï¼ŒåŒ…æ‹¬å†…å­˜ (<code>InMemorySaver</code>)ã€Postgresæ•°æ®åº“ç­‰ã€‚æœ¬ç¯‡åˆ†äº«ç¬”è€…ä»¥æœ€ç®€å•çš„å†…å­˜æ£€æŸ¥ç‚¹å™¨ä¸ºä¾‹è¿›è¡Œæ¼”ç¤ºã€‚å…¶ä»–å­˜å‚¨å™¨çš„ç”¨æ³•ç±»ä¼¼ï¼Œå¤§å®¶å¯ä»¥åœ¨ç¬”è€…çš„æ–‡ç« ã€Š<a href="https://juejin.cn/post/7555795679382831113" target="_blank" title="https://juejin.cn/post/7555795679382831113">æ·±å…¥æµ…å‡ºLangGraph AI Agentæ™ºèƒ½ä½“å¼€å‘æ•™ç¨‹ï¼ˆä¹ï¼‰â€”LangGraphé•¿çŸ­æœŸè®°å¿†ç®¡ç†</a>ã€‹ä¸­æŸ¥çœ‹è¯¦ç»†ç¤ºä¾‹ã€‚</p>
<ol>
<li>
<p><strong>æ„å»ºåŸºç¡€å›¾ï¼š</strong> å¤ç”¨ä¸Šä¸€èŠ‚ä¸­åŸºäºÂ <code>Command</code>Â å¯¹è±¡çš„è·¯ç”±å›¾ç»“æ„ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> START, END, StateGraph
<span class="hljs-keyword">import</span> operator
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypedDict, <span class="hljs-type">List</span>, Annotated, <span class="hljs-type">Literal</span>
<span class="hljs-keyword">from</span> langgraph.types <span class="hljs-keyword">import</span> Command


<span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    nList: Annotated[<span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], operator.add]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_a</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>, END]]:
    select = state[<span class="hljs-string">'nList'</span>][-<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> select == <span class="hljs-string">'b'</span>:
        next_node = <span class="hljs-string">'b'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'c'</span>:
        next_node = <span class="hljs-string">'c'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'q'</span>:
        next_node = END
    <span class="hljs-keyword">else</span>:
        next_node = END

    <span class="hljs-keyword">return</span> Command(
        update=State(nList=[select]),
        goto=next_node
    )

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_b</span>(<span class="hljs-params">state: State</span>):
    <span class="hljs-keyword">return</span> Command(
        goto=END
    )

<span class="hljs-keyword">def</span> <span class="hljs-title function_">node_c</span>(<span class="hljs-params">state: State</span>):
    <span class="hljs-keyword">return</span> Command(
        goto=END
    )



builder = StateGraph(State)
builder.add_node(<span class="hljs-string">"a"</span>, node_a)
builder.add_node(<span class="hljs-string">"b"</span>, node_b)
builder.add_node(<span class="hljs-string">"c"</span>, node_c)

builder.add_edge(START, <span class="hljs-string">"a"</span>)
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b722abc84f14ee58c82d373e2cfbafd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=FL1pDzjXcEu%2B%2FoUktJxa%2FvqWD%2F8%3D" alt="11.png" loading="lazy"/></p>
</li>
<li>
<p><strong>å¼•å…¥å†…å­˜æ£€æŸ¥ç‚¹å™¨ï¼š</strong> ä»Â <code>langgraph.checkpoint.memory</code>Â å¯¼å…¥Â <code>InMemorySaver</code>ï¼Œå¹¶å®ä¾‹åŒ–ã€‚<code>config</code>Â ä¸­çš„Â <code>thread_id</code>Â æ˜¯å…³é”®ï¼Œå®ƒæ ‡è¯†äº†ä¼šè¯çº¿ç¨‹ã€‚ç›¸åŒÂ <code>thread_id</code>Â ä¸‹çš„æ‰€æœ‰è°ƒç”¨å°†å…±äº«çŠ¶æ€å†å²ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.checkpoint.memory <span class="hljs-keyword">import</span> InMemorySaver

memory = InMemorySaver()

config = {
    <span class="hljs-string">"configurable"</span>:{
        <span class="hljs-string">"thread_id"</span>, <span class="hljs-string">"1"</span>
    }
}
</code></pre>
</li>
<li>
<p><strong>ç¼–è¯‘æ—¶å¯ç”¨æ£€æŸ¥ç‚¹ï¼š</strong> åœ¨ç¼–è¯‘å›¾æ—¶ï¼Œé€šè¿‡Â <code>checkpointer</code>Â å‚æ•°ä¼ å…¥æ£€æŸ¥ç‚¹å™¨å®ä¾‹ã€‚</p>
<pre><code class="hljs language-python" lang="python">graph = builder.<span class="hljs-built_in">compile</span>(checkpointer=memory)
</code></pre>
</li>
<li>
<p><strong>åœ¨å¾ªç¯è°ƒç”¨ä¸­ä½“éªŒè®°å¿†ï¼š</strong> ç°åœ¨ç¬”è€…é€šè¿‡ä¸€ä¸ªå¾ªç¯æ¥æ¨¡æ‹Ÿå¤šè½®äº¤äº’ã€‚å…³é”®åœ¨äºï¼Œæ¯æ¬¡è°ƒç”¨Â <code>graph.invoke</code>Â æ—¶éƒ½ä¼ å…¥ç›¸åŒçš„Â <code>config</code>ï¼Œè¿™æ · LangGraph å°±ä¼šè‡ªåŠ¨åŠ è½½è¯¥çº¿ç¨‹ (<code>thread_id=â€™1â€™</code>) çš„ä¸Šä¸€æ¬¡çŠ¶æ€ï¼Œå¹¶åœ¨æ‰§è¡Œåä¿å­˜æ–°çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    user = <span class="hljs-built_in">input</span>(<span class="hljs-string">'b, c or q to quit:'</span>)
    input_state = State(
        nList=[user]
    )
    result = graph.invoke(input_state, config)
    <span class="hljs-built_in">print</span>(result)
    <span class="hljs-keyword">if</span> result[<span class="hljs-string">'nList'</span>][-<span class="hljs-number">1</span>] == <span class="hljs-string">'q'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'quit'</span>)
        <span class="hljs-keyword">break</span>
</code></pre>
</li>
<li>
<p><strong>è¿è¡Œæµ‹è¯•ï¼š</strong> è¾“å…¥åºåˆ—ï¼š<code>bÂ â†’Â cÂ â†’Â bÂ â†’Â q</code>ï¼Œ<strong>æ‰§è¡Œè¿‡ç¨‹è§£æï¼š</strong></p>
<ul>
<li><strong>ç¬¬ä¸€è½® (<code>è¾“å…¥b</code>)</strong> ï¼šåˆå§‹çŠ¶æ€Â <code>[â€˜bâ€™]</code>ã€‚èŠ‚ç‚¹Aæ‰§è¡Œåæ›´æ–°çŠ¶æ€ä¸ºÂ <code>[â€˜bâ€™, â€˜bâ€™]</code>Â å¹¶è·³è½¬åˆ°èŠ‚ç‚¹Bï¼Œæœ€ç»ˆçŠ¶æ€ä¸ºÂ <code>[â€˜bâ€™, â€˜bâ€™]</code>ã€‚</li>
<li><strong>ç¬¬äºŒè½® (<code>è¾“å…¥c</code>)</strong> ï¼šç”±äºæ£€æŸ¥ç‚¹å­˜åœ¨ï¼Œ<strong>åˆå§‹çŠ¶æ€å¹¶éç©ºåˆ—è¡¨ï¼Œè€Œæ˜¯ä¸Šä¸€è½®çš„æœ€ç»ˆçŠ¶æ€Â <code>[â€˜bâ€™, â€˜bâ€™]</code></strong> ã€‚è¾“å…¥<code>c</code>åï¼ŒçŠ¶æ€ä¼šç´¯ç§¯åˆ°<code>['b','b','c','c']</code></li>
<li><strong>ç¬¬ä¸‰è½® (<code>è¾“å…¥b</code>)</strong> ï¼šçŠ¶æ€ç»§ç»­ç´¯ç§¯ã€‚</li>
<li><strong>ç¬¬å››è½® (<code>è¾“å…¥q</code>)</strong> ï¼šè§¦å‘é€€å‡ºã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cf98c7e0fd64db1888d653b7e30a768~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=TIJc48xa5OR%2FhzwE%2Fi4DiUq3dU4%3D" alt="6.png" loading="lazy"/></p>
</li>
<li>
<p>é€šè¿‡ç®€å•çš„å‡ æ­¥é…ç½®,LangGraphå›¾å³å¯å…·å¤‡â€œè®°å¿†â€èƒ½åŠ›ã€‚<code>thread_id</code>Â æ˜¯ç®¡ç†ä¸åŒè®°å¿†ä¼šè¯çš„é’¥åŒ™ã€‚åªè¦ä½¿ç”¨ç›¸åŒçš„Â <code>thread_id</code>ï¼Œæ™ºèƒ½ä½“å°±èƒ½åœ¨å¤šæ¬¡è°ƒç”¨é—´ä¿æŒå¹¶ç´¯ç§¯çŠ¶æ€ã€‚å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œåªéœ€å°†Â <code>InMemorySaver</code>Â æ›¿æ¢ä¸ºÂ <code>PostgresSaver</code>Â æˆ–è‡ªå®šä¹‰çš„æŒä¹…åŒ–æ£€æŸ¥ç‚¹å™¨ï¼Œå³å¯å®ç°ç¨³å®šå¯é çš„é•¿æœŸè®°å¿†ã€‚æ›´è¯¦ç»†çš„å…³äºLangGraphè®°å¿†çš„å†…å®¹å¤§å®¶å¯å‚è€ƒç¬”è€…çš„æ–‡ç« ï¼š <a href="https://juejin.cn/post/7555795679382831113" target="_blank" title="https://juejin.cn/post/7555795679382831113">æ·±å…¥æµ…å‡ºLangGraph AI Agentæ™ºèƒ½ä½“å¼€å‘æ•™ç¨‹ï¼ˆä¹ï¼‰â€”LangGraphé•¿çŸ­æœŸè®°å¿†ç®¡ç†</a></p>
</li>
</ol>
<h2 data-id="heading-8">ä¸‰ã€ä¸­æ–­ä¸äººåœ¨å›è·¯</h2>
<p>åœ¨è®¸å¤šå®é™…åœºæ™¯ä¸­éœ€è¦åœ¨æ™ºèƒ½ä½“å·¥ä½œæµçš„å…³é”®èŠ‚ç‚¹å¼•å…¥äººå·¥åˆ¤æ–­ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤§æ¨¡å‹è°ƒç”¨å·¥å…·æ‰§è¡Œæ•°æ®åº“å†™æ“ä½œã€å‘é€é‚®ä»¶æˆ–è¿›è¡Œå…¶ä»–é«˜é£é™©åŠ¨ä½œå‰ï¼Œå¿…é¡»ç”±äººå·¥ç¡®è®¤ã€‚LangGraph é€šè¿‡<strong>ä¸­æ–­ï¼ˆInterruptï¼‰</strong> Â æœºåˆ¶ä¼˜é›…åœ°æ”¯æŒäº†è¿™ç§â€œäººåœ¨å›è·¯ï¼ˆHuman-in-the-loopï¼‰â€æ¨¡å¼ã€‚</p>
<p>ä¸­æ–­å…è®¸ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å›¾åœ¨ç‰¹å®šèŠ‚ç‚¹æš‚åœï¼Œå°†æ§åˆ¶æƒäº¤è¿˜ç»™å¤–éƒ¨ç¨‹åºï¼ˆé€šå¸¸æ˜¯ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼‰ï¼Œç„¶åæ ¹æ®å¤–éƒ¨è¾“å…¥çš„ç»“æœå†³å®šå¦‚ä½•æ¢å¤æ‰§è¡Œã€‚è¿™ä¸ªå¼ºå¤§çš„åŠŸèƒ½åŒæ ·å»ºç«‹åœ¨ä¹‹å‰ä»‹ç»çš„<strong>æ£€æŸ¥ç‚¹ï¼ˆCheckpointï¼‰</strong> Â æœºåˆ¶ä¹‹ä¸Šã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b722abc84f14ee58c82d373e2cfbafd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=FL1pDzjXcEu%2B%2FoUktJxa%2FvqWD%2F8%3D" alt="11.png" width="50%" loading="lazy"/></p>
<h3 data-id="heading-9">3.1 æ ¸å¿ƒæ¦‚å¿µï¼š<code>interrupt</code>Â ä¸Â <code>Command(resume=...)</code></h3>
<p>ç»§ç»­æ”¹é€ ä¹‹å‰ä½¿ç”¨çš„æ¡ä»¶è·¯ç”±å›¾ã€‚æ ¸å¿ƒæ”¹åŠ¨åœ¨äºï¼Œå½“èŠ‚ç‚¹Â <code>A</code>Â é‡åˆ°æ— æ³•å¤„ç†çš„è¾“å…¥æ—¶ï¼Œä¸å†ç›´æ¥ç»“æŸï¼Œè€Œæ˜¯<strong>ä¸»åŠ¨å¼•å‘ä¸€ä¸ªä¸­æ–­</strong>ï¼Œç­‰å¾…å¤–éƒ¨å¹²é¢„ã€‚</p>
<p><strong>å®ç°ä¸­æ–­éœ€è¦ä¸¤ä¸ªå…³é”®æ“ä½œï¼š</strong></p>
<ol>
<li><strong>åœ¨èŠ‚ç‚¹å†…å¼•å‘ä¸­æ–­</strong>ï¼šä½¿ç”¨Â <code>interrupt()</code>Â å‡½æ•°ã€‚è¿™ä¼šæŠ›å‡ºä¸€ä¸ªç‰¹æ®Šä¿¡å·ï¼Œä½¿å›¾ç«‹å³æš‚åœè¿è¡Œï¼Œå¹¶å°†åŒ…å«ä¸­æ–­ä¿¡æ¯çš„å¿«ç…§ä¿å­˜åˆ°æ£€æŸ¥ç‚¹ä¸­ã€‚</li>
<li><strong>ä»å¤–éƒ¨æ¢å¤æ‰§è¡Œ</strong>ï¼šå‘å›¾ä¸­å‘é€ä¸€ä¸ªå¸¦æœ‰Â <code>resume</code>Â æŒ‡ä»¤çš„Â <code>Command</code>Â å¯¹è±¡ã€‚è¿™ä¸ªæŒ‡ä»¤çš„å€¼ä¼šä¼ é€’å›å¼•å‘ä¸­æ–­çš„èŠ‚ç‚¹ï¼Œä½œä¸ºå…¶Â <code>interrupt()</code>Â è°ƒç”¨çš„è¿”å›å€¼ï¼Œä»è€Œä½¿èŠ‚ç‚¹å¾—ä»¥ç»§ç»­æ‰§è¡Œã€‚</li>
</ol>
<h3 data-id="heading-10">3.2 ç¤ºä¾‹ï¼šä¸­æ–­ä»£ç å®æˆ˜</h3>
<ol>
<li>
<p>ç¬”è€…å¯¹ä¹‹å‰çš„Â <code>node_a</code>Â è¿›è¡Œä¿®æ”¹ã€‚å½“ç”¨æˆ·è¾“å…¥ä¸æ˜¯é¢„æœŸçš„Â <code>â€˜bâ€™</code>ï¼ŒÂ <code>â€˜câ€™</code>Â æˆ–Â <code>â€˜qâ€™</code>Â æ—¶ï¼Œè§¦å‘ä¸­æ–­ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">node_a</span>(<span class="hljs-params">state: State</span>) -&gt; Command[<span class="hljs-type">Literal</span>[<span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, END]]:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'è¿›å…¥ A èŠ‚ç‚¹'</span>)
    select = state[<span class="hljs-string">'nList'</span>][-<span class="hljs-number">1</span>]
    <span class="hljs-keyword">if</span> select == <span class="hljs-string">'b'</span>:
        next_node = <span class="hljs-string">'b'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'c'</span>:
        next_node = <span class="hljs-string">'c'</span>
    <span class="hljs-keyword">elif</span> select == <span class="hljs-string">'q'</span>:
        next_node = END
    <span class="hljs-keyword">else</span>:
        admin = interrupt(<span class="hljs-string">f"æœªæœŸæœ›çš„è¾“å‡º <span class="hljs-subst">{select}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'ç”¨æˆ·é‡æ–°è¾“å…¥æ˜¯:'</span>,admin)
        <span class="hljs-keyword">if</span> admin == <span class="hljs-string">'continue'</span>:
            next_node = <span class="hljs-string">'b'</span>
            select = <span class="hljs-string">'b'</span>
        <span class="hljs-keyword">else</span>:
            next_node = END
            select = <span class="hljs-string">'q'</span>

    <span class="hljs-keyword">return</span> Command(
        update=State(nList=[select]),
        goto=next_node
    )
</code></pre>
</li>
<li>
<p>æ„å»ºå›¾å¹¶å¯ç”¨æ£€æŸ¥ç‚¹ï¼Œä¸­æ–­ä¾èµ–æ£€æŸ¥ç‚¹æ¥ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼Œå› æ­¤å¿…é¡»é…ç½®æ£€æŸ¥ç‚¹å™¨ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langgraph.graph <span class="hljs-keyword">import</span> START, END, StateGraph
<span class="hljs-keyword">from</span> langgraph.checkpoint.memory <span class="hljs-keyword">import</span> InMemorySaver

<span class="hljs-comment"># æ„å»ºå›¾</span>
builder = StateGraph(State)
builder.add_node(<span class="hljs-string">"a"</span>, node_a)
builder.add_node(<span class="hljs-string">"b"</span>, node_b)
builder.add_node(<span class="hljs-string">"c"</span>, node_c)
builder.add_edge(START, <span class="hljs-string">"a"</span>)

<span class="hljs-comment"># é…ç½®å†…å­˜æ£€æŸ¥ç‚¹å™¨å’Œçº¿ç¨‹</span>
memory = InMemorySaver()
config = {<span class="hljs-string">"configurable"</span>: {<span class="hljs-string">"thread_id"</span>: <span class="hljs-string">"1"</span>}}

<span class="hljs-comment"># ç¼–è¯‘æ—¶ä¼ å…¥æ£€æŸ¥ç‚¹å™¨</span>
graph = builder.<span class="hljs-built_in">compile</span>(checkpointer=memory)
</code></pre>
</li>
<li>
<p>å®ç°å¤–éƒ¨ä¸­æ–­å¤„ç†å¾ªç¯:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
    user = <span class="hljs-built_in">input</span>(<span class="hljs-string">'b, c or q to quit:'</span>)
    input_state = State(
        nList=[user]
    )
    result = graph.invoke(input_state, config)
    <span class="hljs-built_in">print</span>(result)

    <span class="hljs-keyword">if</span> <span class="hljs-string">'__interrupt__'</span> <span class="hljs-keyword">in</span> result:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f'Interrupt:<span class="hljs-subst">{result}</span>'</span>)
        msg = result[<span class="hljs-string">'__interrupt__'</span>][-<span class="hljs-number">1</span>].value
        <span class="hljs-built_in">print</span>(msg)
        human = <span class="hljs-built_in">input</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{msg}</span>, é‡æ–°è¾“å…¥: "</span>)
        human_response = Command(
            resume=human
        )
        result = graph.invoke(human_response, config)

    <span class="hljs-keyword">if</span> result[<span class="hljs-string">'nList'</span>][-<span class="hljs-number">1</span>] == <span class="hljs-string">'q'</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">'quit'</span>)
        <span class="hljs-keyword">break</span>
</code></pre>
</li>
<li>
<p>è¿è¡Œç»“æœåˆ†æï¼šå‡è®¾è¾“å…¥Â <code>p</code>ï¼ˆä¸€ä¸ªéæ³•å€¼ï¼‰ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>è§¦å‘ä¸­æ–­</strong>ï¼šèŠ‚ç‚¹Aè¯†åˆ«åˆ°Â <code>p</code>ï¼Œè°ƒç”¨Â <code>interrupt(â€œæœªé¢„æœŸçš„è¾“å…¥...â€</code>ã€‚å›¾åœ¨æ­¤åˆ»<strong>ç«‹å³æš‚åœ</strong>ï¼Œå¹¶å°†å½“å‰çŠ¶æ€ï¼ˆåŒ…æ‹¬ä¸­æ–­ä¿¡æ¯ï¼‰ä¿å­˜ä¸ºæ£€æŸ¥ç‚¹ã€‚<code>graph.invoke</code>Â è¿”å›çš„ç»“æœä¸­ä¼šåŒ…å«ä¸€ä¸ªç‰¹æ®Šçš„Â <code>__interrupt__</code>Â å­—æ®µã€‚</li>
<li><strong>äººå·¥å¹²é¢„</strong>ï¼šå¤–éƒ¨å¾ªç¯æ£€æµ‹åˆ°ä¸­æ–­ï¼Œæ‰“å°ä¿¡æ¯å¹¶ç­‰å¾…ç”¨æˆ·è¾“å…¥ã€‚ç”¨æˆ·è¾“å…¥Â <code>continue</code>ã€‚</li>
<li><strong>æ¢å¤æ‰§è¡Œ</strong>ï¼šå¤–éƒ¨ç¨‹åºæ„å»ºä¸€ä¸ªÂ <code>Command(resume=â€™continueâ€™)</code>Â å¹¶å†æ¬¡è°ƒç”¨Â <code>graph.invoke</code>ã€‚<strong>å…³é”®ç‚¹</strong>ï¼šå› ä¸ºä½¿ç”¨äº†ç›¸åŒçš„Â <code>thread_id</code>ï¼Œå›¾ä¼šä»ä¸Šä¸€ä¸ªæ£€æŸ¥ç‚¹ï¼ˆå³ä¸­æ–­å¤„ï¼‰æ¢å¤ã€‚</li>
<li><strong>èŠ‚ç‚¹ç»§ç»­è¿è¡Œ</strong>ï¼šæ¢å¤åï¼ŒèŠ‚ç‚¹Aä¸­Â <code>interrupt()</code>Â è°ƒç”¨å¤„å°†è¿”å›Â <code>admin_decision = â€˜continueâ€™</code>ã€‚ç¨‹åºæµç¨‹è¿›å…¥Â <code>if admin_decision == 'continue'</code>Â åˆ†æ”¯ï¼Œæœ€ç»ˆå‰å¾€èŠ‚ç‚¹Bå¹¶ç»“æŸã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6247d250bc814348bbcb6c5c042535b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L55yf5aW9546p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766900991&amp;x-signature=UFMTe8VI6sQv%2BI6XXSlP3EjhhCA%3D" alt="8.png" loading="lazy"/></p>
<p><strong>é‡è¦è¯´æ˜</strong>ï¼šå½“å›¾ä»ä¸­æ–­ç‚¹æ¢å¤æ—¶ï¼Œæ•´ä¸ªå›¾ä¼šé‡æ–°æ‰§è¡Œã€‚ä½†ç”±äºæ£€æŸ¥ç‚¹ä¿å­˜äº†ä¸­æ–­å‰çš„çŠ¶æ€ï¼ˆåŒ…æ‹¬Â <code>nList</code>ï¼‰ï¼Œå¹¶ä¸”Â <code>interrupt()</code>Â ä¼šè¿”å›æ–°çš„Â <code>resume</code>Â å€¼ï¼Œå› æ­¤èŠ‚ç‚¹èƒ½åŸºäºæ–°ä¿¡æ¯åšå‡ºä¸åŒçš„å†³ç­–ã€‚<code>__interrupt__</code>Â æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå› ä¸ºä¸€ä¸ªå›¾å¯ä»¥åœ¨ä¸åŒèŠ‚ç‚¹è§¦å‘å¤šä¸ªä¸­æ–­ï¼ŒLangGraph ä¼šè·Ÿè¸ªæ‰€æœ‰ä¸­æ–­çš„ä¸Šä¸‹æ–‡ã€‚</p>
</li>
</ol>
<p>ä»¥ä¸Šå®Œæ•´ä»£ç å‡å¯å…³æ³¨ç¬”è€…åŒåå¾®ä¿¡å…¬ä¼—å·ï¼š<strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œå¹¶ç§ä¿¡ Â <strong>LangChainæ™ºèƒ½ä½“å¼€å‘</strong> è·å¾—</p>
<h2 data-id="heading-11">å››ã€æ€»ç»“</h2>
<p>æœ¬æœŸæ–‡ç« æ·±å…¥è®²è§£äº† LangGraph 1.0 çš„ä¸‰å¤§è¿›é˜¶åŠŸèƒ½ï¼š<strong>æ¡ä»¶è¾¹</strong>ï¼ˆé™¤æ¡ä»¶å‡½æ•°å¤–ï¼Œè¿˜èƒ½é€šè¿‡ Command å¯¹è±¡å®ç°èŠ‚ç‚¹å†…è·¯ç”±ï¼‰ã€<strong>è®°å¿†</strong>ï¼ˆåˆ©ç”¨æ£€æŸ¥ç‚¹æœºåˆ¶å®ç°çŠ¶æ€æŒä¹…åŒ–ä¸å¤šè½®å¯¹è¯èƒ½åŠ›ï¼‰ä»¥åŠ<strong>äººåœ¨å›è·¯</strong>ï¼ˆé€šè¿‡ä¸­æ–­æœºåˆ¶åœ¨å…³é”®èŠ‚ç‚¹å¼•å…¥äººå·¥å¹²é¢„ï¼‰ã€‚ç°åœ¨å¤§å®¶å°±å­¦ä¹ åˆ°äº†LangGraphçš„åŸºæœ¬æŠ€èƒ½ï¼Œä½†ç›®å‰è¿™äº›çŸ¥è¯†ç‚¹è¿˜æ¯”è¾ƒé›¶ç¢ï¼Œä¸‹ç¯‡åˆ†äº«ç¬”è€…å°†ç»“åˆå¤§æ¨¡å‹ä½¿ç”¨LangGraphç¼–å†™ä¸€ä¸ªæ™ºèƒ½ä½“ï¼Œå¸®åŠ©å¤§å®¶å…¨å±€æŒæ¡è¿™äº›çŸ¥è¯†ç‚¹çš„ç”¨æ³•ï¼ŒæŒæ¡LangGraphæ™ºèƒ½ä½“å¼€å‘çš„åŸºæœ¬æŠ€èƒ½ï¼</p>
<p><a href="https://juejin.cn/column/7526240014499495972" title="https://juejin.cn/column/7526240014499495972" target="_blank">ã€Šæ·±å…¥æµ…å‡ºLangChain&amp;LangGraph AI Agent æ™ºèƒ½ä½“å¼€å‘ã€‹</a>ä¸“æ å†…å®¹æºè‡ªç¬”è€…åœ¨å®é™…å­¦ä¹ å’Œå·¥ä½œä¸­å¯¹ LangChain ä¸ LangGraph çš„æ·±åº¦ä½¿ç”¨ç»éªŒï¼Œæ—¨åœ¨å¸®åŠ©å¤§å®¶ç³»ç»Ÿæ€§åœ°ã€é«˜æ•ˆåœ°æŒæ¡ AI Agent çš„å¼€å‘æ–¹æ³•ï¼Œåœ¨å„å¤§æŠ€æœ¯å¹³å°è·å¾—äº†ä¸å°‘å…³æ³¨ä¸æ”¯æŒã€‚ç›®å‰å·²æ›´æ–°32è®²ï¼Œæ­£åœ¨æ›´æ–°LangGraph1.0é€Ÿé€šæŒ‡å—ï¼Œå¹¶éšæ—¶è¡¥å……ç¬”è€…åœ¨å®é™…å·¥ä½œä¸­æ€»ç»“çš„æ‹“å±•çŸ¥è¯†ç‚¹ã€‚å¦‚æœå¤§å®¶æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å…³æ³¨ç¬”è€…çš„æ˜é‡‘è´¦å·ä¸ä¸“æ ï¼Œä¹Ÿå¯å…³æ³¨ç¬”è€…çš„åŒåå¾®ä¿¡å…¬ä¼—å·Â <strong>å¤§æ¨¡å‹çœŸå¥½ç©</strong>ï¼Œæ¯æœŸåˆ†äº«æ¶‰åŠçš„ä»£ç å‡å¯åœ¨å…¬ä¼—å·ç§ä¿¡:Â <strong>LangChainæ™ºèƒ½ä½“å¼€å‘</strong>å…è´¹è·å–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[275. Java Stream API - flatMap æ“ä½œï¼šå±•å¼€ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæ‹‰å¹³ä½ çš„æµï¼]]></title>    <link>https://juejin.cn/post/7585502118459981843</link>    <guid>https://juejin.cn/post/7585502118459981843</guid>    <pubDate>2025-12-21T01:44:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585502118459981843" data-draft-id="7585490245006737414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="275. Java Stream API - flatMap æ“ä½œï¼šå±•å¼€ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæ‹‰å¹³ä½ çš„æµï¼"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-21T01:44:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CacheæŠ€æœ¯åˆ†äº«"/> <meta itemprop="url" content="https://juejin.cn/user/1662117313262776"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            275. Java Stream API - flatMap æ“ä½œï¼šå±•å¼€ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæ‹‰å¹³ä½ çš„æµï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1662117313262776/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CacheæŠ€æœ¯åˆ†äº«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T01:44:48.000Z" title="Sun Dec 21 2025 01:44:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">275. Java Stream API - flatMap æ“ä½œï¼šå±•å¼€ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæ‹‰å¹³ä½ çš„æµï¼</h2>
<hr/>
<h4 data-id="heading-1">ğŸ§  èƒŒæ™¯ï¼šæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ <code>flatMap</code>ï¼Ÿ</h4>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹ç»“æ„ï¼š</p>
<ul>
<li>æ¯ä¸ª <code>Country</code> æ‹¥æœ‰å¤šä¸ª <code>City</code></li>
<li>æ¯ä¸ª <code>City</code> æœ‰ä¸€ä¸ªäººå£æ•° <code>population</code></li>
</ul>
<p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š<strong>ç»Ÿè®¡æ‰€æœ‰åŸå¸‚çš„æ€»äººå£æ•°</strong>ã€‚</p>
<p>æœ€ç›´æ¥çš„å†™æ³•å½“ç„¶æ˜¯<strong>åµŒå¥— for å¾ªç¯</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">totalPopulation</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span> (Country country : countries) {
    <span class="hljs-keyword">for</span> (City city : country.cities()) {
        totalPopulation += city.population();
    }
}
System.out.println(<span class="hljs-string">"Total population = "</span> + totalPopulation);
</code></pre>
<p>ğŸ“Œ è¾“å‡ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Total</span> <span class="hljs-variable">population</span> <span class="hljs-operator">=</span> <span class="hljs-number">24493</span>
</code></pre>
<p>è™½ç„¶æœ‰æ•ˆï¼Œä½† <code>Java 8</code> ä¹‹åæˆ‘ä»¬æœ‰äº†æ›´ä¼˜é›…çš„æ–¹å¼ï¼š<strong>ä½¿ç”¨æµ + <code>flatMap</code> æ¥å¤„ç†ä¸€å¯¹å¤šçš„å…³ç³»</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-2">ğŸ” ç”¨ <code>flatMap</code> ä¼˜é›…æ›¿ä»£åµŒå¥—å¾ªç¯</h3>
<h4 data-id="heading-3">âœ… å®šä¹‰æ¨¡å‹ç»“æ„</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">City</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> population)</span> {}
<span class="hljs-keyword">record</span> <span class="hljs-title class_">Country</span><span class="hljs-params">(String name, List&lt;City&gt; cities)</span> {}
</code></pre>
<h4 data-id="heading-4">âœ… åˆå§‹åŒ–æ•°æ®</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">City</span> <span class="hljs-variable">newYork</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>(<span class="hljs-string">"New York"</span>, <span class="hljs-number">8_258</span>);
<span class="hljs-type">City</span> <span class="hljs-variable">losAngeles</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>(<span class="hljs-string">"Los Angeles"</span>, <span class="hljs-number">3_821</span>);
<span class="hljs-type">Country</span> <span class="hljs-variable">usa</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Country</span>(<span class="hljs-string">"USA"</span>, List.of(newYork, losAngeles));

<span class="hljs-type">City</span> <span class="hljs-variable">london</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>(<span class="hljs-string">"London"</span>, <span class="hljs-number">8_866</span>);
<span class="hljs-type">City</span> <span class="hljs-variable">manchester</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>(<span class="hljs-string">"Manchester"</span>, <span class="hljs-number">568</span>);
<span class="hljs-type">Country</span> <span class="hljs-variable">uk</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Country</span>(<span class="hljs-string">"United Kingdom"</span>, List.of(london, manchester));

<span class="hljs-type">City</span> <span class="hljs-variable">paris</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>(<span class="hljs-string">"Paris"</span>, <span class="hljs-number">2_103</span>);
<span class="hljs-type">City</span> <span class="hljs-variable">marseille</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">City</span>(<span class="hljs-string">"Marseille"</span>, <span class="hljs-number">877</span>);
<span class="hljs-type">Country</span> <span class="hljs-variable">france</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Country</span>(<span class="hljs-string">"France"</span>, List.of(paris, marseille));

List&lt;Country&gt; countries = List.of(usa, uk, france);
</code></pre>
<hr/>
<h4 data-id="heading-5">ğŸš€ ä½¿ç”¨ <code>flatMap</code> é‡å†™ç»Ÿè®¡é€»è¾‘</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">totalPopulation</span> <span class="hljs-operator">=</span> countries.stream()
                               .flatMap(country -&gt; country.cities().stream())  <span class="hljs-comment">// å±•å¼€æ‰€æœ‰åŸå¸‚</span>
                               .mapToInt(City::population)                     <span class="hljs-comment">// æå–äººå£</span>
                               .sum();                                         <span class="hljs-comment">// ç´¯åŠ æ€»äººå£</span>

System.out.println(<span class="hljs-string">"Total population = "</span> + totalPopulation);
</code></pre>
<p>ğŸ“Œ è¾“å‡ºï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Total</span> <span class="hljs-variable">population</span> <span class="hljs-operator">=</span> <span class="hljs-number">24493</span>
</code></pre>
<hr/>
<h3 data-id="heading-6">ğŸ” <code>flatMap</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3>
<p><code>flatMap</code> æ˜¯ä¸¤ä¸ªæ“ä½œçš„ç»„åˆï¼š</p>
<h4 data-id="heading-7">æ­¥éª¤ 1ï¸âƒ£ï¼šæ˜ å°„ï¼ˆmapï¼‰</h4>
<pre><code class="hljs language-java" lang="java">country -&gt; country.cities().stream()
</code></pre>
<p>è¿™ä¸€æ­¥å°†æ¯ä¸ª <code>Country</code> æ˜ å°„ä¸ºå®ƒçš„åŸå¸‚æµï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ª <code>Stream&lt;Stream&lt;City&gt;&gt;</code>ï¼ˆæµçš„æµï¼‰ã€‚</p>
<hr/>
<h4 data-id="heading-8">æ­¥éª¤ 2ï¸âƒ£ï¼šå±•å¹³ï¼ˆflatï¼‰</h4>
<p><code>flatMap</code> ä¼š<strong>è‡ªåŠ¨å¸®ä½ æŠŠå¤šä¸ªå­æµåˆå¹¶ä¸ºä¸€ä¸ªè¿ç»­çš„æ‰å¹³æµ</strong>ï¼ˆ<code>Stream&lt;City&gt;</code>ï¼‰ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¯¹æ‰€æœ‰åŸå¸‚ç»Ÿä¸€å¤„ç†ï¼</p>
<p>ğŸ¯ ç±»æ¯”å›¾ç¤ºï¼š</p>
<pre><code class="hljs language-java" lang="java">Stream&lt;Country&gt;  ---æ˜ å°„---&gt;  Stream&lt;Stream&lt;City&gt;&gt;
                     |
                     +---&gt;  å±•å¹³ï¼ˆflattenï¼‰---&gt;  Stream&lt;City&gt;
</code></pre>
<hr/>
<h3 data-id="heading-9">ğŸ“š å»¶ä¼¸æ¡ˆä¾‹ï¼š<code>Map</code> ç»“æ„çš„ <code>flatMap</code></h3>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª <code>Continent</code> ç±»å‹ï¼Œå®ƒåŒ…å«ä¸€ä¸ª Mapï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">record</span> <span class="hljs-title class_">Continent</span><span class="hljs-params">(Map&lt;String, Country&gt; countries)</span> {}
</code></pre>
<p>æ­¤æ—¶ï¼Œå¦‚æœä½ æƒ³ä» <code>Continent</code> ä¸­æå–æ‰€æœ‰å›½å®¶ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-java" lang="java">Function&lt;Continent, Stream&lt;Country&gt;&gt; continentToCountry =
    continent -&gt; continent.countries().values().stream();
</code></pre>
<p>å†è¿›ä¸€æ­¥ï¼Œè¿˜å¯ä»¥è¿™æ ·åµŒå¥— <code>flatMap</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> continents.stream()
                      .flatMap(continent -&gt; continent.countries().values().stream())
                      .flatMap(country -&gt; country.cities().stream())
                      .mapToInt(City::population)
                      .sum();
</code></pre>
<hr/>
<h3 data-id="heading-10">ğŸ§  å°ç»“ï¼š<code>flatMap</code> ç”¨æ³•å£è¯€</h3>

























<table><thead><tr><th>ç”¨æ³•åœºæ™¯</th><th>å¯¹åº”æ–¹æ³•</th></tr></thead><tbody><tr><td>ä¸€å¯¹ä¸€æ˜ å°„ï¼ˆæ¯ä¸ªå…ƒç´  â†’ å•ä¸ªæ–°å€¼ï¼‰</td><td><code>.map()</code></td></tr><tr><td>ä¸€å¯¹å¤šæ˜ å°„ï¼ˆæ¯ä¸ªå…ƒç´  â†’ å¤šä¸ªæ–°å€¼ï¼‰</td><td><code>.flatMap()</code></td></tr><tr><td>æå–åµŒå¥—é›†åˆä¸­çš„å†…å®¹å¹¶æ‰å¹³åŒ–</td><td><code>.flatMap()</code></td></tr><tr><td>è½¬æ¢æˆåŸºç¡€ç±»å‹æµï¼ˆ<code>int/long/double</code>ï¼‰</td><td><code>.mapToInt()</code> ç­‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-11">ğŸ§ª ç»ƒä¹ å»ºè®®ï¼ˆè¯¾å ‚å¯é€‰ï¼‰</h3>
<h4 data-id="heading-12">â“ é—®é¢˜ï¼šä¸‹é¢ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<pre><code class="hljs language-java" lang="java">List&lt;String&gt; words = List.of(<span class="hljs-string">"java"</span>, <span class="hljs-string">"stream"</span>, <span class="hljs-string">"api"</span>);

List&lt;Character&gt; chars = words.stream()
                             .flatMap(word -&gt; word.chars().mapToObj(c -&gt; (<span class="hljs-type">char</span>) c))
                             .toList();

System.out.println(chars);
</code></pre>
<p>ğŸ¯ ç­”æ¡ˆï¼š</p>
<pre><code class="hljs language-java" lang="java">[j, a, v, a, s, t, r, e, a, m, a, p, i]
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redis æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„é…ç½®é¡¹è®©æˆ‘èŠ‚çœäº†40%å†…å­˜æˆæœ¬]]></title>    <link>https://juejin.cn/post/7585600621521616936</link>    <guid>https://juejin.cn/post/7585600621521616936</guid>    <pubDate>2025-12-21T04:16:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7585600621521616936" data-draft-id="7585600621521600552" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redis æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„é…ç½®é¡¹è®©æˆ‘èŠ‚çœäº†40%å†…å­˜æˆæœ¬"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-21T04:16:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redis æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„é…ç½®é¡¹è®©æˆ‘èŠ‚çœäº†40%å†…å­˜æˆæœ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-21T04:16:47.000Z" title="Sun Dec 21 2025 04:16:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-21
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Redis æ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼š5ä¸ªè¢«ä½ä¼°çš„é…ç½®é¡¹è®©æˆ‘èŠ‚çœäº†40%å†…å­˜æˆæœ¬</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Redis ä½œä¸ºé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œåœ¨ç°ä»£åº”ç”¨æ¶æ„ä¸­æ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ã€‚ç„¶è€Œï¼Œéšç€æ•°æ®è§„æ¨¡çš„æ‰©å¤§ï¼Œå†…å­˜æˆæœ¬å¾€å¾€æˆä¸ºä¸å¯å¿½è§†çš„å¼€é”€ã€‚åœ¨ä¸€æ¬¡ç”Ÿäº§ç¯å¢ƒçš„ä¼˜åŒ–å®è·µä¸­ï¼Œæˆ‘é€šè¿‡è°ƒæ•´ 5 ä¸ªå¸¸è¢«ä½ä¼°çš„ Redis é…ç½®é¡¹ï¼ŒæˆåŠŸé™ä½äº† 40% çš„å†…å­˜ä½¿ç”¨é‡ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è¿™äº›é…ç½®é¡¹çš„åŸç†ã€ä¼˜åŒ–ç­–ç•¥ä»¥åŠå®é™…æ•ˆæœï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç®¡ç† Redis èµ„æºã€‚</p>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. <code>hash-max-ziplist-entries</code> å’Œ <code>hash-max-ziplist-value</code>ï¼šä¼˜åŒ–å“ˆå¸Œç»“æ„å­˜å‚¨</h3>
<p>Redis é»˜è®¤ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆhashtableï¼‰å­˜å‚¨ Hash ç±»å‹çš„æ•°æ®ï¼Œä½†å¯¹äºå°è§„æ¨¡çš„å“ˆå¸Œç»“æ„ï¼Œè¿™ç§æ–¹å¼çš„å­˜å‚¨æ•ˆç‡å¹¶ä¸é«˜ã€‚Redis æä¾›äº† <code>ziplist</code>ï¼ˆå‹ç¼©åˆ—è¡¨ï¼‰ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘å†…å­˜å ç”¨ã€‚</p>
<ul>
<li>
<p><strong>åŸç†</strong>ï¼š<br/>
å½“ Hash ç»“æ„çš„å­—æ®µæ•°é‡å’Œå­—æ®µå€¼å¤§å°æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼ŒRedis ä¼šä½¿ç”¨ <code>ziplist</code>ï¼š</p>
<ul>
<li>å­—æ®µæ•°é‡ â‰¤ <code>hash-max-ziplist-entries</code>ï¼ˆé»˜è®¤å€¼ï¼š512ï¼‰</li>
<li>å­—æ®µå€¼é•¿åº¦ â‰¤ <code>hash-max-ziplist-value</code>ï¼ˆé»˜è®¤å€¼ï¼š64å­—èŠ‚ï¼‰</li>
</ul>
<p>å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼ŒRedis ä¼šé€€åŒ–ä¸º hashtableã€‚</p>
</li>
<li>
<p><strong>ä¼˜åŒ–å®è·µ</strong>ï¼š<br/>
é€šè¿‡åˆ†æä¸šåŠ¡æ•°æ®ç‰¹æ€§ï¼Œæˆ‘å‘ç°å¤§éƒ¨åˆ† Hash ç»“æ„çš„å­—æ®µæ•°ä¸è¶…è¿‡ 1000ï¼Œä¸”å­—æ®µå€¼å¤šä¸ºçŸ­å­—ç¬¦ä¸²ï¼ˆå¦‚ç”¨æˆ·å±æ€§ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘å°†é…ç½®è°ƒæ•´ä¸ºï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">hash-max-ziplist-entries 1024
hash-max-ziplist-value 128
</code></pre>
<p>è¿™ä¸€è°ƒæ•´ä½¿å¾—æ›´å¤š Hash ç»“æ„ä»¥ <code>ziplist</code> å½¢å¼å­˜å‚¨ï¼Œå†…å­˜å ç”¨å‡å°‘äº†çº¦ <strong>15%</strong>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">2. <code>list-max-ziplist-size</code>ï¼šå‹ç¼©åˆ—è¡¨çš„çµæ´»æ§åˆ¶</h3>
<p>List ç±»å‹åœ¨ Redis ä¸­é»˜è®¤ä¹Ÿä½¿ç”¨ <code>ziplist</code>ï¼ˆå¯¹äºå°åˆ—è¡¨ï¼‰æˆ–åŒå‘é“¾è¡¨ï¼ˆlinkedlistï¼‰ã€‚<code>list-max-ziplist-size</code>Â å‚æ•°å†³å®šäº†ä½•æ—¶åˆ‡æ¢ä¸º linkedlistã€‚</p>
<ul>
<li>
<p><strong>åŸç†</strong>ï¼š<br/>
è¯¥å‚æ•°çš„é»˜è®¤å€¼ä¸º <code>-2</code>ï¼ˆå³æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§å†…å­˜é™åˆ¶ï¼‰ï¼Œä½†å¯ä»¥é€šè¿‡æ­£æ•´æ•°ç›´æ¥é™åˆ¶èŠ‚ç‚¹æ•°é‡ã€‚ä¾‹å¦‚ï¼š<br/>
è®¾ç½®Â <code>list-max-ziplist-sizeÂ 512</code>Â è¡¨ç¤ºå½“åˆ—è¡¨é•¿åº¦è¶…è¿‡512æ—¶è½¬ä¸º linkedlistã€‚</p>
</li>
<li>
<p><strong>ä¼˜åŒ–å®è·µ</strong>ï¼š<br/>
ç”±äºæˆ‘çš„ä¸šåŠ¡åœºæ™¯ä¸­ List ä¸»è¦ç”¨äºçŸ­æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¹³å‡é•¿åº¦ &lt;1000ï¼‰ï¼Œè°ƒæ•´ä¸ºï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">list-max-ziplist-size -1 (ä¸é™åˆ¶èŠ‚ç‚¹æ•°é‡)
 æˆ–
 list-max-ziplist-sizeÂ 1024
</code></pre>
<p>è¿™é¿å…äº†ä¸å¿…è¦çš„ linkedlistè½¬æ¢ï¼Œè¿›ä¸€æ­¥èŠ‚çœäº† <strong>8%</strong>Â çš„å†…å­˜ã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">Â 3.Â <code>set-max-intset-entries</code>:Â æ•´æ•°é›†åˆçš„é­”æ³•</h3>
<p>Setç±»å‹åœ¨å­˜å‚¨çº¯æ•´æ•°æ—¶ä¼šä½¿ç”¨æ›´é«˜æ•ˆçš„ <code>intset</code>Â è€Œéå“ˆå¸Œè¡¨ã€‚ä½†é»˜è®¤çš„è½¬æ¢é˜ˆå€¼è¾ƒä½ï¼ˆ512ï¼‰ã€‚</p>
<pre><code class="hljs language-plaintext" lang="plaintext">set-max-intset-entriesÂ 1024
```Â Â 

å°†é˜ˆå€¼æé«˜åˆ°1024å,Â å¤§é‡å°è§„æ¨¡æ•´æ•°é›†åˆç»§ç»­ä½¿ç”¨ç´§å‡‘å­˜å‚¨,å†é™ **5%**Â å†…å­˜.Â Â 

### Â 4.å¯ç”¨ä¸»åŠ¨ç¢ç‰‡æ•´ç†:activedefragÂ Â 

éšç€é”®çš„é¢‘ç¹ä¿®æ”¹åˆ é™¤,redisä¼šå‡ºç°å†…å­˜ç¢ç‰‡.è™½ç„¶è‡ªåŠ¨æ¸…ç†å­˜åœ¨,ä½†å¯¹é«˜è´Ÿè½½å®ä¾‹ä¸å¤ŸåŠæ—¶:Â Â 

```plaintext
activedefrag yesÂ 
active-defrag-threshold-lower10Â 
active-defrag-cycle-min25Â Â Â Â Â 
active-defrag-cycle-max75Â Â 
```Â Â 

é€šè¿‡ä¸»åŠ¨æ•´ç†(éœ€ç›‘æ§CPU),å¯å‡å°‘ç¢ç‰‡å¯¼è‡´çš„å¤šä½™åˆ†é…,æ•ˆæœçº¦ **7%**.Â Â 

### Â 5.åˆç†é€‰æ‹©æ·˜æ±°ç­–ç•¥ä¸è¿‡æœŸå¤„ç†Â Â Â 

è®¸å¤šå¼€å‘è€…å¿½è§†maxmemory-policyå¯¹å†…å­˜çš„å½±å“.lru/allkeys-lruå¯èƒ½è¯¯ä¼¤çƒ­ç‚¹æ•°æ®;è€Œvolatileç­–ç•¥éœ€ç»“åˆttlç®¡ç†:Â Â 

```plaintextÂ 
maxmemory-policy volatile-lruÂ Â Â 
#åŒæ—¶ç¡®ä¿è®¾ç½®äº†expireÂ 
```Â 

é…åˆå®šæœŸæ‰«æå¹¶åˆ é™¤æ— ttlçš„é”®,æœ€ç»ˆå†çœ **5%**.Â Â Â 

##æ€»ç»“Â Â 

é€šè¿‡å¯¹äº”ä¸ªå…³é”®å‚æ•°çš„è°ƒä¼˜â€”hash/list/setçš„åº•å±‚ç»“æ„è°ƒæ•´ã€ç¢ç‰‡æ•´ç†å’Œæ·˜æ±°ç­–ç•¥â€”æˆ‘åœ¨ä¿è¯æ€§èƒ½çš„å‰æä¸‹å®ç°äº†40%çš„å†…å­˜èŠ‚çº¦.è¿™äº›ä¼˜åŒ–éœ€è¦ç»“åˆå…·ä½“ä¸šåŠ¡æ•°æ®ç‰¹å¾,å»ºè®®å…ˆè¿›è¡Œbenchmarkæµ‹è¯•.redisçœŸæ­£çš„å¨åŠ›ä¸ä»…åœ¨äºå…¶é€Ÿåº¦,æ›´åœ¨äºè¿™ç§ç»†ç²’åº¦å¯æ§æ€§.
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[eBPF + OpenTelemetryï¼šé€‚ç”¨äºä»»ä½•åº”ç”¨çš„é›¶ä»£ç è‡ªåŠ¨åŒ–æµ‹é‡]]></title>    <link>https://juejin.cn/post/7586493936677044264</link>    <guid>https://juejin.cn/post/7586493936677044264</guid>    <pubDate>2025-12-22T09:45:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586493936677044264" data-draft-id="7586493936676978728" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="eBPF + OpenTelemetryï¼šé€‚ç”¨äºä»»ä½•åº”ç”¨çš„é›¶ä»£ç è‡ªåŠ¨åŒ–æµ‹é‡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T09:45:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿å‡¡"/> <meta itemprop="url" content="https://juejin.cn/user/290747765274222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            eBPF + OpenTelemetryï¼šé€‚ç”¨äºä»»ä½•åº”ç”¨çš„é›¶ä»£ç è‡ªåŠ¨åŒ–æµ‹é‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/290747765274222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿å‡¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:45:52.000Z" title="Mon Dec 22 2025 09:45:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><em>æœ¬æ–‡ä»‹ç»å¦‚ä½•å°† eBPF ä¸ OpenTelemetry ç»“åˆï¼Œå®ç°è‡ªåŠ¨åŒ–ã€é›¶ä»£ç çš„åˆ†å¸ƒå¼è¿½è¸ªå’Œå¯è§‚æµ‹æ€§ç³»ç»Ÿï¼Œäº†è§£ Odigosã€Beyla å’Œ OpenTelemetry eBPF ç­‰å·¥å…·çš„å·¥ä½œåŸç†ã€é€‚ç”¨åœºæ™¯ä»¥åŠå¦‚ä½•åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è®¾ç½®ã€‚åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-12-10-ebpf-with-opentelemetry-auto-instrumentation%2Fview" title="https://oneuptime.com/blog/post/2025-12-10-ebpf-with-opentelemetry-auto-instrumentation/view" target="_blank" ref="nofollow noopener noreferrer">Using eBPF with OpenTelemetry: Zero-Code Auto-Instrumentation for Any Application</a></em></p>
</blockquote>
<blockquote>
<p>å¦‚æœèƒ½åœ¨æ‰€æœ‰æœåŠ¡é—´å®ç°å®Œæ•´çš„åˆ†å¸ƒå¼è¿½è¸ªï¼Œ<strong>è€Œæ— éœ€æ·»åŠ ä¸€è¡Œä»ªè¡¨ç›˜ä»£ç </strong>ï¼Œæ€ä¹ˆæ ·ï¼Ÿ</p>
</blockquote>
<p>ä¼ ç»Ÿ OpenTelemetry ä»ªè¡¨ç›˜éœ€è¦æ·»åŠ  SDKã€é…ç½®å¯¼å‡ºå™¨ï¼Œå¹¶ç”¨ span åŒ…è£…ä»£ç ã€‚è™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†éœ€è¦ä»˜å‡ºä¸å°‘åŠªåŠ›ï¼Œå°¤å…¶æ˜¯ç³»ç»Ÿä¸­æœ‰æ•°åç§ä¸åŒè¯­è¨€çš„æœåŠ¡æ—¶ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-12-10-what-is-ebpf-and-how-does-it-work%2Fview" title="https://oneuptime.com/blog/post/2025-12-10-what-is-ebpf-and-how-does-it-work/view" target="_blank" ref="nofollow noopener noreferrer">eBPF</a> å®Œå…¨æ”¹å˜äº†è¿™ä¸€æ¨¡å¼ã€‚é€šè¿‡ä» Linux å†…æ ¸è§‚å¯Ÿåº”ç”¨ï¼ŒåŸºäº eBPF çš„å·¥å…·å¯ä»¥è‡ªåŠ¨ç”Ÿæˆå…¼å®¹ OpenTelemetry çš„è¿½è¸ªã€æŒ‡æ ‡å’Œé…ç½®æ–‡ä»¶ï¼Œè€Œæ— éœ€è§¦åŠåº”ç”¨ä»£ç  ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•å°† eBPF ä¸ OpenTelemetry ç»“åˆï¼Œå®ç°å¼ºå¤§çš„é›¶ä»£ç å¯è§‚æµ‹æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. é—®é¢˜ï¼šå¤§è§„æ¨¡ä»ªè¡¨ç›˜</h2>
<p>ä¼ ç»Ÿ OpenTelemetry ä»ªè¡¨ç›˜éµå¾ªä»¥ä¸‹æ¨¡å¼ï¼š</p>
<ol>
<li>ä¸ºæ¯ä¸ªæœåŠ¡æ·»åŠ  OTel SDK</li>
<li>é…ç½®å¯¼å‡ºå™¨</li>
<li>æµ‹é‡å…¥å£ç‚¹ï¼ˆHTTP å¤„ç†ç¨‹åºï¼ŒgRPC æ–¹æ³•ï¼‰</li>
<li>ä¸ºé‡è¦æ“ä½œæ·»åŠ  span</li>
<li>è·¨æœåŠ¡è¾¹ç•Œä¼ æ’­ä¸Šä¸‹æ–‡</li>
<li>æ¯ä¸ªæœåŠ¡ã€æ¯ç§è¯­è¨€éƒ½è¦é‡å¤</li>
</ol>
<p>å¯¹äºåªæœ‰å°‘é‡æœåŠ¡çš„å°å›¢é˜Ÿæ¥è¯´ï¼Œè¿˜ç®—å¯ä»¥ç®¡ç†ã€‚ä½†è¯·è€ƒè™‘ï¼š</p>





























<table><thead><tr><th>åœºæ™¯</th><th>æŒ‘æˆ˜</th></tr></thead><tbody><tr><td>50+ å¾®æœåŠ¡</td><td>éœ€è¦æ•°å‘¨æ—¶é—´é›†æˆè·¨æ‰€æœ‰æœåŠ¡çš„ SDK</td></tr><tr><td>å¤šè¯­è¨€æŠ€æœ¯æ ˆ</td><td>Goã€Pythonã€Node.jsã€Javaã€Rust ç­‰ä¸åŒçš„ SDKâ€¦â€¦</td></tr><tr><td>é—ç•™æœåŠ¡</td><td>ä»£ç ä¸å®¹æ˜“ä¿®æ”¹ï¼Œæ²¡äººæ„¿æ„ç¢°</td></tr><tr><td>ç¬¬ä¸‰æ–¹æœåŠ¡</td><td>æ— æ³•è®¿é—®æºä»£ç </td></tr><tr><td>å¿«é€Ÿéƒ¨ç½²</td><td>æ–°æœåŠ¡å‡ºç°çš„é€Ÿåº¦æ¯”æµ‹é‡å®ƒä»¬çš„é€Ÿåº¦è¿˜å¿«</td></tr></tbody></table>
<p>ç»“æœå‘¢ï¼Ÿå¯è§‚æµ‹æ€§ç¼ºå£ã€‚æœ‰äº›æœåŠ¡æœ‰è¿½è¸ªï¼Œæœ‰äº›æ²¡æœ‰ã€‚æœªå®‰è£…æµ‹é‡çš„æœåŠ¡ä¸­æ–­ä¸Šä¸‹æ–‡ä¼ æ’­ã€‚ç³»ç»Ÿä¸€å®šç¨‹åº¦ä¸Šæ­£åœ¨è£¸è·‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. eBPF å¦‚ä½•å®ç°è‡ªåŠ¨åŒ–æµ‹é‡</h2>
<p>eBPF é€šè¿‡ä»åº”ç”¨å¤–éƒ¨ â€”â€” å†…æ ¸å±‚é¢è§‚å¯Ÿåº”ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h5 data-id="heading-2">eBPF èƒ½çœ‹åˆ°ä»€ä¹ˆ</h5>
<p>ç”±äº eBPF ä¼šé’©å…¥å†…æ ¸å‡½æ•°å’Œç³»ç»Ÿè°ƒç”¨ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°ï¼š</p>

























<table><thead><tr><th>å±‚</th><th>eBPF çœ‹è§</th></tr></thead><tbody><tr><td>ç½‘ç»œ</td><td>æ¯ä¸€æ¬¡ TCP è¿æ¥ã€HTTP è¯·æ±‚/å“åº”ã€DNS æŸ¥è¯¢</td></tr><tr><td>ç³»ç»Ÿè°ƒç”¨</td><td>æ–‡ä»¶ I/Oï¼Œè¿›ç¨‹åˆ›å»ºï¼Œå†…å­˜åˆ†é…</td></tr><tr><td>ç”¨æˆ·åŠŸèƒ½</td><td>å‡½æ•°é€šè¿‡ uprobe è¿›å…¥/é€€å‡ºï¼ˆå¦‚æœæœ‰ç¬¦å·ï¼‰</td></tr><tr><td>è¯­è¨€è¿è¡Œæ—¶</td><td>Goã€Node.jsã€Pythonã€Java è¿è¡Œæ—¶å†…éƒ¨ç»“æ„</td></tr></tbody></table>
<h5 data-id="heading-3">è¿™äº›å¦‚ä½•æˆä¸º OpenTelemetry æ•°æ®</h5>
<p>åŸºäº eBPF çš„è‡ªåŠ¨åŒ–æµ‹é‡å·¥ä½œåŸç†ï¼š</p>
<ol>
<li>å°†<strong>æ¢é’ˆé™„åŠ </strong>åˆ°å·²çŸ¥å…¥å£ç‚¹ï¼ˆHTTP åº“ã€gRPC å¤„ç†å™¨ã€æ•°æ®åº“é©±åŠ¨ç¨‹åºï¼‰</li>
<li>ä»è¯·æ±‚ä¸­<strong>æå–ä¸Šä¸‹æ–‡</strong>ï¼ˆä»å¤´éƒ¨æå–è¿½è¸ª IDã€è¯·æ±‚å…ƒæ•°æ®ï¼‰</li>
<li>åˆ©ç”¨å†…æ ¸æ—¶é—´æˆ³<strong>æµ‹é‡æ—¶åº</strong></li>
<li><strong>å…³è”</strong>ç›¸å…³è¯·æ±‚/å“åº”å¯¹</li>
<li><strong>å¯¼å‡º</strong>ä¸ºæ ‡å‡† OpenTelemetry Protocolï¼ˆOTLPï¼‰æ•°æ®</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72a33297ba744f67963b91a02cb7ae58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767001553&amp;x-signature=2F2qO5vBMXylDf1PC57unVjzYNE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. eBPF + OpenTelemetry æ¶æ„</h2>
<p>å…¸å‹ç”Ÿäº§é…ç½®å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-5">ç»„ä»¶</h5>





















<table><thead><tr><th>ç»„ä»¶</th><th>èŒè´£</th></tr></thead><tbody><tr><td>eBPF ä»£ç†</td><td>è¿è¡Œåœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šï¼Œè¿æ¥ eBPF ç¨‹åºï¼Œç”Ÿæˆé¥æµ‹æ•°æ®</td></tr><tr><td>OTel æ”¶é›†å™¨</td><td>æ¥æ”¶ã€å¤„ç† OTLP æ•°æ®ï¼Œå¹¶å¯¼å‡ºåˆ°åç«¯</td></tr><tr><td>åç«¯</td><td>å­˜å‚¨å’Œå¯è§†åŒ–è¿½è¸ª/æŒ‡æ ‡ï¼ˆOneUptimeã€Jaegerã€Tempoï¼‰</td></tr></tbody></table>
<h5 data-id="heading-6">éƒ¨ç½²æ¨¡å¼</h5>
<h6 data-id="heading-7">æ¨¡å¼ 1ï¼šDaemonSetï¼ˆKubernetesï¼‰</h6>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># è¿è¡Œåœ¨æ¯ä¸ª node ä¸Šçš„ eBPF ä»£ç†</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">DaemonSet</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">ebpf-auto-instrumenter</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">ebpf-agent</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">hostPID:</span> <span class="hljs-literal">true</span>      <span class="hljs-comment"># eBPF éœ€è¦</span>
      <span class="hljs-attr">hostNetwork:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># ç½‘ç»œè¿½è¸ªéœ€è¦</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">agent</span>
        <span class="hljs-attr">securityContext:</span>
          <span class="hljs-attr">privileged:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># eBPF éœ€è¦</span>
</code></pre>
<h6 data-id="heading-8">æ¨¡å¼ 2ï¼šSidecarï¼ˆæ¯ä¸ª Pod ä¸€ä¸ªï¼‰</h6>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># eBPF ä»£ç†ä½œä¸º sidecar (æ›´ä¸ºéš”ç¦»ï¼Œæ›´å¤šå¼€é”€)</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">containers:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">my-app</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">my-app:latest</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ebpf-sidecar</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">ebpf-agent:latest</span>
    <span class="hljs-attr">securityContext:</span>
      <span class="hljs-attr">privileged:</span> <span class="hljs-literal">true</span>
</code></pre>
<h6 data-id="heading-9">æ¨¡å¼ 3ï¼šç‹¬ç«‹ï¼ˆé Kubernetesï¼‰</h6>
<pre><code class="hljs language-arduino" lang="arduino"># ç›´æ¥åœ¨ä¸»æœºä¸Šè¿è¡Œ
sudo ./beyla --config config.yaml
</code></pre>
<h2 data-id="heading-10">4. å·¥å…·æ¯”è¾ƒï¼šOdigos vs Beyla vs Pixie</h2>
<p>ä¸‹é¢æ¯”è¾ƒå‡ ç§å°† eBPF ä¸ OpenTelemetry ç»“åˆèµ·æ¥çš„å·¥å…·ã€‚</p>
<h5 data-id="heading-11">Grafana Beyla</h5>

































<table><thead><tr><th>ç‰¹è‰²</th><th>è¯¦æƒ…</th></tr></thead><tbody><tr><td>é‡ç‚¹</td><td>HTTP/gRPC è‡ªåŠ¨ç›‘æµ‹</td></tr><tr><td>è¯­è¨€</td><td>Go, Python, Node.js, Java, Rust, .NET, Ruby</td></tr><tr><td>è¾“å‡º</td><td>OTLP (è¿½è¸ª + æŒ‡æ ‡)</td></tr><tr><td>éƒ¨ç½²</td><td>ç‹¬ç«‹äºŒè¿›åˆ¶æˆ– Kubernetes</td></tr><tr><td>è®¸å¯è¯</td><td>Apache 2.0</td></tr><tr><td>æœ€ä½³å®è·µ</td><td>ç®€å•éƒ¨ç½²ï¼ŒGrafana æŠ€æœ¯æ ˆç”¨æˆ·</td></tr></tbody></table>
<h5 data-id="heading-12">Odigos</h5>

































<table><thead><tr><th>ç‰¹è‰²</th><th>è¯¦æƒ…</th></tr></thead><tbody><tr><td>é‡ç‚¹</td><td>å¸¦ä¸Šä¸‹æ–‡ä¼ æ’­çš„å…¨åˆ†å¸ƒå¼è¿½è¸ª</td></tr><tr><td>è¯­è¨€</td><td>Go, Python, Node.js, Java, .NET</td></tr><tr><td>è¾“å‡º</td><td>OTLPï¼ˆè¿½è¸ªï¼‰</td></tr><tr><td>éƒ¨ç½²</td><td>Kubernetes åŸç”Ÿ(operator)</td></tr><tr><td>è®¸å¯è¯</td><td>Apache 2.0</td></tr><tr><td>æœ€ä½³å®è·µ</td><td>Kubernetes ç¯å¢ƒï¼Œåˆ†å¸ƒå¼è¿½è¸ª</td></tr></tbody></table>
<h5 data-id="heading-13">Pixie</h5>

































<table><thead><tr><th>ç‰¹è‰²</th><th>è¯¦æƒ…</th></tr></thead><tbody><tr><td>é‡ç‚¹</td><td>å…¨æ ˆå¯è§‚æµ‹æ€§ï¼Œå¸¦é›†ç¾¤å†…å­˜å‚¨</td></tr><tr><td>è¯­è¨€</td><td>Go, C/C++, Python, Node.js, Java, Rust</td></tr><tr><td>è¾“å‡º</td><td>Pixie æ ¼å¼ï¼ˆå¯å¯¼å‡ºä¸º OTelï¼‰</td></tr><tr><td>éƒ¨ç½²</td><td>ä»…é™ Kubernetes</td></tr><tr><td>è®¸å¯è¯</td><td>Apache 2.0</td></tr><tr><td>æœ€ä½³å®è·µ</td><td>è°ƒè¯•ã€ä¸´æ—¶æŸ¥è¯¢ã€å…¨é¢å¯è§†åŒ–</td></tr></tbody></table>
<h5 data-id="heading-14">å¿«é€Ÿå†³ç­–æŒ‡å—</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9035243130d45a887982520a0e1839c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767001553&amp;x-signature=zau9Tje%2FE9nt70tnvh8mDeaF910%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">5. è®¾ç½® Beylaï¼ˆGrafana çš„ eBPF è‡ªåŠ¨åŒ–æµ‹é‡ï¼‰</h2>
<p>Beyla æ˜¯å…¥é—¨åŸºäº eBPF çš„ OpenTelemetry æµ‹é‡çš„æœ€ç®€å•æ–¹å¼ã€‚</p>
<h5 data-id="heading-16">å‰ç½®æ¡ä»¶</h5>
<ul>
<li>Linux å†…æ ¸ 5.8+ï¼ˆæ”¯æŒ BTFï¼‰</li>
<li>Root/privileged è®¿é—®</li>
<li>ç›®æ ‡åº”ç”¨ç¨‹åºæ­£åœ¨è¿è¡Œ</li>
</ul>
<h5 data-id="heading-17">å®‰è£…</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½æœ€æ–°ç‰ˆæœ¬</span>
curl -LO https://github.com/grafana/beyla/releases/latest/download/beyla-linux-amd64.tar.gz
tar xzf beyla-linux-amd64.tar.gz
sudo <span class="hljs-built_in">mv</span> beyla /usr/local/bin/
</code></pre>
<h5 data-id="heading-18">é…ç½®</h5>
<p>åˆ›å»º <code>beyla-config.yaml</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># beyla-config.yaml</span>
<span class="hljs-attr">open_port:</span> <span class="hljs-number">8080</span>  <span class="hljs-comment"># æµ‹é‡è¿›ç¨‹ç›‘å¬ç«¯å£</span>

<span class="hljs-comment"># æˆ–ç›®æ ‡çš„å¯æ‰§è¡Œåç§°</span>
<span class="hljs-comment"># executable_name: "my-service"</span>

<span class="hljs-comment"># æˆ–è¿›ç¨‹ ID</span>
<span class="hljs-comment"># pid: 12345</span>

<span class="hljs-comment"># OTLP å¯¼å‡ºé…ç½®</span>
<span class="hljs-attr">otel_traces_export:</span>
  <span class="hljs-attr">endpoint:</span> <span class="hljs-string">http://localhost:4317</span>  <span class="hljs-comment"># OTel æ”¶é›†å™¨</span>

<span class="hljs-attr">otel_metrics_export:</span>
  <span class="hljs-attr">endpoint:</span> <span class="hljs-string">http://localhost:4317</span>
  
<span class="hljs-comment"># å¯é€‰: æ·»åŠ èµ„æºå‚æ•°</span>
<span class="hljs-attr">attributes:</span>
  <span class="hljs-attr">kubernetes:</span>
    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># è‡ªåŠ¨æ£€æµ‹ K8s å…ƒæ•°æ®</span>
  
<span class="hljs-comment"># é‡‡æ · (å¯é€‰)</span>
<span class="hljs-attr">traces:</span>
  <span class="hljs-attr">sampler:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">parentbased_traceidratio</span>
    <span class="hljs-attr">arg:</span> <span class="hljs-string">"0.1"</span>  <span class="hljs-comment"># 10% é‡‡æ ·</span>
</code></pre>
<h5 data-id="heading-19">è¿è¡Œ Beyla</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é€šè¿‡é…ç½®æ–‡ä»¶æ‰§è¡Œ</span>
sudo beyla --config beyla-config.yaml

<span class="hljs-comment"># æˆ–è€…é€šè¿‡ç¯å¢ƒå˜é‡</span>
sudo BEYLA_OPEN_PORT=8080 \
     OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317 \
     beyla
</code></pre>
<h5 data-id="heading-20">Kubernetes éƒ¨ç½²</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">apps/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">DaemonSet</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">beyla</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">observability</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">selector:</span>
    <span class="hljs-attr">matchLabels:</span>
      <span class="hljs-attr">app:</span> <span class="hljs-string">beyla</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">metadata:</span>
      <span class="hljs-attr">labels:</span>
        <span class="hljs-attr">app:</span> <span class="hljs-string">beyla</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">hostPID:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">serviceAccountName:</span> <span class="hljs-string">beyla</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">beyla</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">grafana/beyla:latest</span>
        <span class="hljs-attr">securityContext:</span>
          <span class="hljs-attr">privileged:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">runAsUser:</span> <span class="hljs-number">0</span>
        <span class="hljs-attr">env:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">BEYLA_OPEN_PORT</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"8080,3000,9090"</span>  <span class="hljs-comment"># æµ‹é‡ç«¯å£</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">OTEL_EXPORTER_OTLP_ENDPOINT</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"http://otel-collector.observability:4317"</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">BEYLA_KUBE_METADATA_ENABLE</span>
          <span class="hljs-attr">value:</span> <span class="hljs-string">"true"</span>
        <span class="hljs-attr">volumeMounts:</span>
        <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">sys-kernel</span>
          <span class="hljs-attr">mountPath:</span> <span class="hljs-string">/sys/kernel</span>
          <span class="hljs-attr">readOnly:</span> <span class="hljs-literal">true</span>
      <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">sys-kernel</span>
        <span class="hljs-attr">hostPath:</span>
          <span class="hljs-attr">path:</span> <span class="hljs-string">/sys/kernel</span>
</code></pre>
<h5 data-id="heading-21">Beyla é‡‡æ ·æ•°æ®</h5>
<p>è¿è¡Œåï¼ŒBeyla ä¼šè‡ªåŠ¨ç”Ÿæˆï¼š</p>
<p><strong>è¿½è¸ª</strong>ï¼š</p>
<ul>
<li>HTTP æœåŠ¡å™¨ spanï¼ˆæ–¹æ³•ã€è·¯å¾„ã€çŠ¶æ€ã€æ—¶é•¿ï¼‰</li>
<li>HTTP å®¢æˆ·ç«¯ spanï¼ˆå¤–å‡ºè¯·æ±‚ï¼‰</li>
<li>gRPC spanï¼ˆæ–¹æ³•ï¼ŒçŠ¶æ€ï¼‰</li>
<li>SQL æŸ¥è¯¢ spanï¼ˆå¦‚æœä½¿ç”¨æ”¯æŒçš„é©±åŠ¨ï¼‰</li>
</ul>
<p><strong>æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li><code>http.server.request.duration</code>ï¼ˆç›´æ–¹å›¾ï¼‰</li>
<li><code>http.server.request.body.size</code></li>
<li><code>http.client.request.duration</code></li>
<li><code>rpc.server.duration</code></li>
<li><code>rpc.client.duration</code></li>
</ul>
<hr/>
<h2 data-id="heading-22">6. ä¸º Kubernetes è®¾ç½® Odigos</h2>
<p>Odigos æä¾›äº†æ›´å…¨é¢çš„åˆ†å¸ƒå¼è¿½è¸ªï¼Œå¹¶å®ç°äº†è‡ªåŠ¨ä¸Šä¸‹æ–‡ä¼ æ’­ã€‚</p>
<h5 data-id="heading-23">å®‰è£…</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Odigos CLI</span>
brew install odigos-io/homebrew-odigos-cli/odigos

<span class="hljs-comment"># æˆ–è€…ç›´æ¥ä¸‹è½½</span>
curl -LO https://github.com/odigos-io/odigos/releases/latest/download/odigos-cli-linux-amd64
<span class="hljs-built_in">chmod</span> +x odigos-cli-linux-amd64
sudo <span class="hljs-built_in">mv</span> odigos-cli-linux-amd64 /usr/local/bin/odigos
</code></pre>
<h5 data-id="heading-24">éƒ¨ç½²åˆ° Kubernetes</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨é›†ç¾¤é‡Œå®‰è£… Odigos</span>
odigos install

<span class="hljs-comment"># åˆ›å»º:</span>
<span class="hljs-comment"># - odigos-system namespace</span>
<span class="hljs-comment"># - Odigos operator</span>
<span class="hljs-comment"># - Instrumentor DaemonSet</span>
<span class="hljs-comment"># - OTel Collector (å¯é€‰)</span>
</code></pre>
<h5 data-id="heading-25">é…ç½®ç›®çš„åœ°</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ·»åŠ å¯è§‚æµ‹æ€§åç«¯</span>
odigos ui

<span class="hljs-comment"># æˆ–é€šè¿‡ CLI</span>
odigos destination add oneuptime \
  --endpoint https://otlp.oneuptime.com \
  --api-key YOUR_API_KEY
</code></pre>
<h5 data-id="heading-26">æµ‹é‡å‘½åç©ºé—´</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹é‡å‘½åç©ºé—´ä¸­çš„æ‰€æœ‰å·¥ä½œè´Ÿè½½</span>
odigos instrument namespace my-app-namespace

<span class="hljs-comment"># æˆ–æŒ‡å®šå·¥ä½œè´Ÿè½½</span>
odigos instrument deployment my-service -n my-namespace
</code></pre>
<h5 data-id="heading-27">Odigos è¿ä½œæ–¹å¼</h5>
<p>Odigos æ¯”ç®€å•çš„ eBPF è¿½è¸ªæ›´æ™ºèƒ½ï¼š</p>
<ol>
<li><strong>è¯­è¨€æ£€æµ‹</strong>ï¼šè‡ªåŠ¨æ£€æµ‹è¿è¡Œæ—¶ï¼ˆGoã€Javaã€Python ç­‰ï¼‰</li>
<li><strong>åˆé€‚çš„æµ‹é‡æ–¹å¼</strong>ï¼šGo ä½¿ç”¨ eBPFï¼ŒJava/Python æ³¨å…¥ä»£ç†</li>
<li><strong>ä¸Šä¸‹æ–‡ä¼ æ’­</strong>ï¼šç¡®ä¿è·¨è¶ŠæœåŠ¡è¾¹ç•Œè¿½è¸ªä¸Šä¸‹æ–‡</li>
<li><strong>æ— ä»£ç æ›´æ”¹</strong>ï¼šæ‰€æœ‰æ³¨å…¥å‡å‘ç”Ÿåœ¨è¿è¡Œæ—¶</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddf5168933954e1abca8e6c6ea2d19a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767001553&amp;x-signature=xMhu2zyA2X6rUu5oKlU8RgX79Ko%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-28">7. è‡ªåŠ¨è·å–çš„å†…å®¹</h2>
<p>ä»¥ä¸‹æ˜¯åŸºäº eBPF å·¥å…·èƒ½è‡ªåŠ¨è·å–æˆ–è€…ä¸èƒ½è·å–çš„å†…å®¹ï¼š</p>
<h5 data-id="heading-29">è‡ªåŠ¨è·å–</h5>





































<table><thead><tr><th>ä¿¡å·</th><th>è¯¦æƒ…</th></tr></thead><tbody><tr><td>HTTP æœåŠ¡å™¨è¯·æ±‚</td><td>æ–¹æ³•ã€è·¯å¾„ã€çŠ¶æ€ç ã€æ—¶é•¿ã€æ¶ˆæ¯å¤´</td></tr><tr><td>HTTP å®¢æˆ·ç«¯è¯·æ±‚</td><td>å‘é€è¯·æ±‚ï¼Œå«ç›®çš„åœ°å’Œæ—¶é—´</td></tr><tr><td>gRPC è°ƒç”¨</td><td>æ–¹æ³•ã€çŠ¶æ€ã€æ—¶é•¿ï¼ˆåŒ…æ‹¬æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼‰</td></tr><tr><td>æ•°æ®åº“æŸ¥è¯¢</td><td>æŸ¥è¯¢æ–‡æœ¬ã€æ—¶é•¿ã€æ•°æ®åº“ç±»å‹ï¼ˆå› å·¥å…·è€Œå¼‚ï¼‰</td></tr><tr><td>DNS æŸ¥è¯¢</td><td>åŸŸã€æŸ¥è¯¢æ—¶é—´ã€ç»“æœ</td></tr><tr><td>TCP è¿æ¥</td><td>æºã€ç›®çš„ã€ä¼ è¾“å­—èŠ‚æ•°</td></tr><tr><td>TLS æ¡æ‰‹</td><td>è¯ä¹¦ä¿¡æ¯ï¼Œæ¡æ‰‹æ—¶é—´</td></tr></tbody></table>
<h5 data-id="heading-30">éƒ¨åˆ†è·å–ï¼ˆå› å·¥å…·/è¯­è¨€è€Œå¼‚ï¼‰</h5>

























<table><thead><tr><th>ä¿¡å·</th><th>å±€é™æ€§</th></tr></thead><tbody><tr><td>æ¶ˆæ¯é˜Ÿåˆ—</td><td>Kafka/RabbitMQ çš„æ”¯æŒå„ä¸ç›¸åŒï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨è®¾ç½®</td></tr><tr><td>è‡ªå®šä¹‰åè®®</td><td>éœ€è¦ç‰¹å®šå·¥å…·çš„æ”¯æŒ</td></tr><tr><td>å†…éƒ¨å‡½æ•°è°ƒç”¨</td><td>åªæœ‰åœ¨ç¬¦å·ä¿¡æ¯å¯ç”¨çš„æƒ…å†µä¸‹</td></tr><tr><td>ä¸šåŠ¡é€»è¾‘ä¸Šä¸‹æ–‡</td><td>æ— æ³•æ¨æ–­ç”¨æˆ· IDã€è®¢å• ID ç­‰ä¿¡æ¯</td></tr></tbody></table>
<h5 data-id="heading-31">æ— æ³•è·å–ï¼ˆéœ€è¦æ‰‹åŠ¨æµ‹é‡ï¼‰</h5>

























<table><thead><tr><th>ä¿¡å·</th><th>ä¸ºä»€ä¹ˆ</th></tr></thead><tbody><tr><td>è‡ªå®šä¹‰ span å±æ€§</td><td>eBPF ä¸çŸ¥é“ä¸šåŠ¡åŸŸ</td></tr><tr><td>åº”ç”¨é”™è¯¯</td><td>å¼‚å¸¸è¯¦æƒ…ï¼Œstack traceï¼ˆéƒ¨åˆ†ï¼‰</td></tr><tr><td>è‡ªå®šä¹‰æŒ‡æ ‡</td><td>ä¸šåŠ¡å…³é”®ç»©æ•ˆæŒ‡æ ‡ï¼ˆKPIï¼‰ï¼Œè½¬åŒ–ç‡</td></tr><tr><td>Baggage/Context</td><td>è‡ªå®šä¹‰ä¼ æ’­æ•°æ®</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-32">8. å°† eBPF æ•°æ®ä¸æ‰‹åŠ¨æµ‹é‡è¿›è¡Œå…³è”</h2>
<p>æœ€ä½³æ–¹æ³•é€šå¸¸æ˜¯æ··åˆå¼ï¼šåŸºç¡€è¦†ç›–ç”¨ eBPFï¼Œé‡è¦ç»†èŠ‚ç”¨æ‰‹åŠ¨æµ‹é‡ã€‚</p>
<h5 data-id="heading-33">ç­–ç•¥ï¼šåˆ†å±‚æµ‹é‡</h5>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81ecd4638c294c03826d944612edb691~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-e5Yeh:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767001553&amp;x-signature=RDm0dio2PoLGceu8BwN5SozBhcc%3D" alt="" loading="lazy"/></p>
<h6 data-id="heading-34">ç¤ºä¾‹ï¼šæ··åˆé…ç½®</h6>
<pre><code class="hljs language-golang" lang="golang"><span class="hljs-comment">// Go æœåŠ¡ - eBPF è‡ªåŠ¨æ•è· HTTP å¤„ç†</span>
<span class="hljs-comment">// ä¸ºé‡è¦ä¸šåŠ¡é€»è¾‘æ·»åŠ æ‰‹åŠ¨ span</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *OrderService)</span></span> CreateOrder(ctx context.Context, req *OrderRequest) (*Order, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// eBPFå·²ç»è·å–ï¼šHTTP POST /ordersã€è®¡æ—¶ã€çŠ¶æ€</span>

    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ç»†èŠ‚çš„æ‰‹åŠ¨ span</span>
    ctx, span := tracer.Start(ctx, <span class="hljs-string">"order.validate"</span>)
    err := s.validateOrder(ctx, req)
    span.End()
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-comment">// æ‰‹åŠ¨ï¼šæ·»åŠ  eBPF çœ‹ä¸åˆ°çš„é”™è¯¯ç»†èŠ‚</span>
        span.RecordError(err)
        span.SetStatus(codes.Error, <span class="hljs-string">"validation failed"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
    }
    
    <span class="hljs-comment">// eBPF è‡ªåŠ¨æ•è·æ•°æ®åº“è°ƒç”¨</span>
    <span class="hljs-comment">// æ‰‹åŠ¨ï¼šæ·»åŠ ä¸šåŠ¡ä¸Šä¸‹æ–‡</span>
    ctx, span = tracer.Start(ctx, <span class="hljs-string">"order.save"</span>)
    span.SetAttributes(
        attribute.String(<span class="hljs-string">"order.customer_id"</span>, req.CustomerID),
        attribute.Float64(<span class="hljs-string">"order.total"</span>, req.Total),
        attribute.Int(<span class="hljs-string">"order.items_count"</span>, <span class="hljs-built_in">len</span>(req.Items)),
    )
    order, err := s.repo.Save(ctx, req)
    span.End()
    
    <span class="hljs-keyword">return</span> order, err
}
</code></pre>
<h6 data-id="heading-35">ç¡®ä¿ç›¸å…³æ€§æœ‰æ•ˆ</h6>
<p>ä¸ºäº†è®© eBPF span å’Œæ‰‹åŠ¨ span å‡ºç°åœ¨åŒä¸€æ¡è¿½è¸ªä¸­ï¼š</p>
<ol>
<li><strong>ç›¸åŒçš„ Trace ID</strong>ï¼šeBPF å·¥å…·ä»è¾“å…¥è¯·æ±‚ä¸­æå– <code>traceparent</code></li>
<li><strong>ä¸Šä¸‹æ–‡ä¼ æ’­</strong>ï¼šæ‰‹åŠ¨ span å¿…é¡»ä½¿ç”¨ç›¸åŒçš„ä¸Šä¸‹æ–‡</li>
<li><strong>ä¸€è‡´å¯¼å‡º</strong>ï¼šeBPF å’Œæ‰‹åŠ¨æµ‹é‡éƒ½å¯¼å‡ºåˆ°åŒä¸€ä¸ªæ”¶é›†å™¨</li>
</ol>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># OTel Collector é…ç½®åˆå¹¶ä¸¤ä¸ªæº</span>
<span class="hljs-attr">receivers:</span>
  <span class="hljs-attr">otlp:</span>
    <span class="hljs-attr">protocols:</span>
      <span class="hljs-attr">grpc:</span>
        <span class="hljs-attr">endpoint:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:4317</span>
      <span class="hljs-attr">http:</span>
        <span class="hljs-attr">endpoint:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><span class="hljs-string">:4318</span>

<span class="hljs-attr">processors:</span>
  <span class="hljs-attr">batch:</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">1s</span>
    
  <span class="hljs-comment"># æ·»åŠ ä¸€è‡´çš„èµ„æºå±æ€§</span>
  <span class="hljs-attr">resource:</span>
    <span class="hljs-attr">attributes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">key:</span> <span class="hljs-string">deployment.environment</span>
        <span class="hljs-attr">value:</span> <span class="hljs-string">production</span>
        <span class="hljs-attr">action:</span> <span class="hljs-string">upsert</span>

<span class="hljs-attr">exporters:</span>
  <span class="hljs-attr">otlp:</span>
    <span class="hljs-attr">endpoint:</span> <span class="hljs-string">https://oneuptime.com/otlp</span>
    <span class="hljs-attr">headers:</span>
      <span class="hljs-attr">x-oneuptime-token:</span> <span class="hljs-string">${ONEUPTIME_TOKEN}</span>

<span class="hljs-attr">service:</span>
  <span class="hljs-attr">pipelines:</span>
    <span class="hljs-attr">traces:</span>
      <span class="hljs-attr">receivers:</span> [<span class="hljs-string">otlp</span>]
      <span class="hljs-attr">processors:</span> [<span class="hljs-string">batch</span>, <span class="hljs-string">resource</span>]
      <span class="hljs-attr">exporters:</span> [<span class="hljs-string">otlp</span>]
</code></pre>
<hr/>
<h2 data-id="heading-36">9. æ€§èƒ½å¼€é”€</h2>
<p>å…³é”®é—®é¢˜ï¼š è¿è¡ŒåŸºäº eBPF çš„è‡ªåŠ¨åŒ–æµ‹é‡çš„æˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ</p>
<h5 data-id="heading-37">æµ‹é‡é¢å¤–å¼€é”€</h5>





























<table><thead><tr><th>å·¥å…·</th><th>CPU å¼€é”€</th><th>å†…å­˜</th><th>æ—¶å»¶å½±å“</th></tr></thead><tbody><tr><td>Beyla</td><td>1-3%</td><td>~50-100MB</td><td>&lt; 1ms</td></tr><tr><td>Odigos</td><td>2-5%</td><td>~100-200MB</td><td>&lt; 2ms</td></tr><tr><td>Pixie</td><td>2-5%</td><td>~500MB-1GB</td><td>&lt; 1ms</td></tr></tbody></table>
<p><em>æ³¨æ„ï¼šå®é™…å¼€é”€å› å·¥ä½œè´Ÿè½½ã€é‡‡æ ·ç‡å’Œè¿½è¸ªç«¯ç‚¹æ•°é‡è€Œå¼‚ã€‚</em></p>
<h5 data-id="heading-38">å¢åŠ é¢å¤–å¼€é”€çš„å› ç´ </h5>






























<table><thead><tr><th>å› ç´ </th><th>å½±å“</th><th>ç¼“è§£æªæ–½</th></tr></thead><tbody><tr><td>é«˜è¯·æ±‚é‡</td><td>æ›´å¤š eBPF äº‹ä»¶å¾…å¤„ç†</td><td>å¢åŠ é‡‡æ ·</td></tr><tr><td>è¿½è¸ªå¤ªå¤šç«¯ç‚¹</td><td>è¿æ¥å¤ªå¤šæ¢é’ˆ</td><td>è¦æœ‰é€‰æ‹©æ€§</td></tr><tr><td>å…¨è½½è·æ•è·</td><td>ç”¨äºå¤åˆ¶æ•°æ®çš„å†…å­˜/CPU</td><td>ç¦ç”¨æˆ–é™åˆ¶</td></tr><tr><td>ä½é‡‡æ ·ç‡</td><td>æ›´å¤šæ•°æ®éœ€å¯¼å‡º</td><td>ä½¿ç”¨å¤´éƒ¨é‡‡æ ·</td></tr></tbody></table>
<h5 data-id="heading-39">é™ä½å¼€é”€</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Beyla ç¤ºä¾‹: é€šè¿‡é‡‡æ ·é™ä½å¼€é”€</span>
<span class="hljs-attr">traces:</span>
  <span class="hljs-attr">sampler:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">parentbased_traceidratio</span>
    <span class="hljs-attr">arg:</span> <span class="hljs-string">"0.01"</span>  <span class="hljs-comment"># 1% é‡‡æ ·</span>

<span class="hljs-comment"># éš”ç¦»é«˜æ•°æ®é‡ã€ä½ä»·å€¼çš„ç«¯ç‚¹</span>
<span class="hljs-attr">routes:</span>
  <span class="hljs-attr">ignored:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/health</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/ready</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/metrics</span>
</code></pre>
<hr/>
<h2 data-id="heading-40">10. å±€é™æ€§åŠä½•æ—¶ä½¿ç”¨æ‰‹åŠ¨æµ‹é‡</h2>
<p>eBPF è‡ªåŠ¨æµ‹é‡åŠŸèƒ½å¼ºå¤§ï¼Œä½†å¹¶éé­”æ³•ï¼Œéœ€è¦çŸ¥é“å–èˆã€‚</p>
<p><strong>åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä½¿ç”¨ eBPF è‡ªåŠ¨åŒ–æµ‹é‡</strong>ï¼š</p>
<p>âœ… éœ€è¦åœ¨å¤šä¸ªæœåŠ¡ä¸­å¿«é€Ÿå®ç°åŸºçº¿å¯è§‚æµ‹æ€§</p>
<p>âœ… ä¸èƒ½ä¿®æ”¹åº”ç”¨ä»£ç ï¼ˆé—ç•™ç‰ˆæœ¬ï¼Œç¬¬ä¸‰æ–¹ä»£ç ï¼‰</p>
<p>âœ… éœ€è¦ä¸€è‡´çš„ HTTP/gRPC/æ•°æ®åº“è¿½è¸ªï¼Œè€Œä¸æ˜¯æ¯ä¸ªæœåŠ¡å•ç‹¬è®¾ç½®</p>
<p>âœ… éœ€è¦ç½‘ç»œå±‚é¢çš„å¯è§†åŒ–ï¼ˆè¿æ¥ã€DNSï¼‰</p>
<p>âœ… èº«å¤„æ··åˆè¯­è¨€çš„ Kubernetes ç¯å¢ƒä¸­</p>
<p><strong>éœ€è¦ä½¿ç”¨æ‰‹åŠ¨æµ‹é‡</strong>ï¼š</p>
<p>âœ… éœ€è¦è‡ªå®šä¹‰ä¸šåŠ¡å±æ€§ï¼ˆç”¨æˆ· IDã€è®¢å• IDã€åŠŸèƒ½æ ‡å¿—ï¼‰ã€‚</p>
<p>âœ… éœ€è¦è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œ stack traces</p>
<p>âœ… éœ€è¦è‡ªå®šä¹‰æŒ‡æ ‡ï¼ˆä¸šåŠ¡å…³é”®ç»©æ•ˆæŒ‡æ ‡ã€ç‰¹å®šäº‹ä»¶çš„è®¡æ•°å™¨ï¼‰</p>
<p>âœ… è¿½è¸ªæ²¡æœ‰ eBPF æ”¯æŒçš„é HTTP åè®®</p>
<p>âœ… éœ€è¦è·¨æœåŠ¡ä¸Šä¸‹æ–‡çš„ baggage ä¼ æ’­</p>
<p>âœ… è¦æ§åˆ¶ span åç§°å’Œç»“æ„</p>
<h5 data-id="heading-41">eBPF è‡ªåŠ¨åŒ–æµ‹é‡çš„å±€é™æ€§</h5>

































<table><thead><tr><th>é™åˆ¶</th><th>è¯¦æƒ…</th></tr></thead><tbody><tr><td>ä»…é™ Linux</td><td>ä¸æ”¯æŒæ²¡æœ‰ Linux å†…æ ¸çš„ Windowsã€macOS æˆ–å®¹å™¨è¿è¡Œæ—¶</td></tr><tr><td>å†…æ ¸ç‰ˆæœ¬</td><td>éœ€è¦ 5.x ä»¥ä¸Šæ‰èƒ½è·å¾—æœ€ä½³æ•ˆæœï¼Œéƒ¨åˆ†åŠŸèƒ½éœ€è¦ 5.8 ä»¥ä¸Š</td></tr><tr><td>ç‰¹æƒè®¿é—®</td><td>å¿…é¡»æå‡æƒé™è¿è¡Œï¼ˆå®‰å…¨è€ƒè™‘ï¼‰</td></tr><tr><td>ç¬¦å·å¯ç”¨æ€§</td><td>å‰¥ç¦»ç¬¦å·çš„ Go äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ä¼šé™ä½å¯è§åº¦</td></tr><tr><td>åŠ å¯†æµé‡</td><td>TLS æ£€æŸ¥éœ€è¦é¢å¤–è®¾ç½®</td></tr><tr><td>åº”ç”¨ä¸Šä¸‹æ–‡</td><td>æ— æ³•ä»ç½‘ç»œæ•°æ®æ¨æ–­ä¸šåŠ¡å«ä¹‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-42">11. æœ€ä½³ç”Ÿäº§å®è·µ</h2>
<h5 data-id="heading-43">å®‰å…¨è€ƒé‡</h5>
<p>è¿è¡Œ eBPF ä»£ç†éœ€è¦æå‡æƒé™ã€‚é™ä½é£é™©ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Kubernetes: ä¸¥æ ¼ä½¿ç”¨ RBAC</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">rbac.authorization.k8s.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ClusterRole</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">ebpf-agent-role</span>
<span class="hljs-attr">rules:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">apiGroups:</span> [<span class="hljs-string">""</span>]
  <span class="hljs-attr">resources:</span> [<span class="hljs-string">"pods"</span>, <span class="hljs-string">"nodes"</span>]
  <span class="hljs-attr">verbs:</span> [<span class="hljs-string">"get"</span>, <span class="hljs-string">"list"</span>, <span class="hljs-string">"watch"</span>]
<span class="hljs-comment"># é¿å…æˆäºˆä¸å¿…è¦çš„æƒé™</span>
</code></pre>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å°½å¯èƒ½ä½¿ç”¨ seccomp é…ç½®æ–‡ä»¶</span>
<span class="hljs-attr">securityContext:</span>
  <span class="hljs-attr">seccompProfile:</span>
    <span class="hljs-attr">type:</span> <span class="hljs-string">RuntimeDefault</span>
</code></pre>
<h5 data-id="heading-44">é™åˆ¶èµ„æº</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">containers:</span>
<span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">ebpf-agent</span>
  <span class="hljs-attr">resources:</span>
    <span class="hljs-attr">requests:</span>
      <span class="hljs-attr">cpu:</span> <span class="hljs-string">100m</span>
      <span class="hljs-attr">memory:</span> <span class="hljs-string">128Mi</span>
    <span class="hljs-attr">limits:</span>
      <span class="hljs-attr">cpu:</span> <span class="hljs-string">500m</span>
      <span class="hljs-attr">memory:</span> <span class="hljs-string">512Mi</span>
</code></pre>
<h5 data-id="heading-45">è¿‡æ»¤ä¸æŠ½æ ·</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># ä¸è¦è¿½è¸ªæ¯ä»¶äº‹ â€”â€” ä¸“æ³¨äºé‡è¦çš„äº‹æƒ…</span>
<span class="hljs-attr">routes:</span>
  <span class="hljs-attr">patterns:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/api/*</span>        <span class="hljs-comment"># Trace API calls</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/graphql</span>      <span class="hljs-comment"># Trace GraphQL</span>
  <span class="hljs-attr">ignored:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/health</span>       <span class="hljs-comment"># Skip health checks</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/metrics</span>      <span class="hljs-comment"># Skip metrics endpoint</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">/favicon.ico</span>  <span class="hljs-comment"># Skip static assets</span>

<span class="hljs-comment"># é€šè¿‡é‡‡æ ·æ§åˆ¶æ•°æ®é‡</span>
<span class="hljs-attr">traces:</span>
  <span class="hljs-attr">sampler:</span>
    <span class="hljs-attr">name:</span> <span class="hljs-string">parentbased_traceidratio</span>
    <span class="hljs-attr">arg:</span> <span class="hljs-string">"0.1"</span>  <span class="hljs-comment"># 10% in production</span>
</code></pre>
<h5 data-id="heading-46">é€æ­¥æ¨å¹¿</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»éç”Ÿäº§ç¯å¢ƒå¼€å§‹</span>
odigos instrument namespace staging

<span class="hljs-comment"># éªŒè¯å¼€é”€å’Œæ•°æ®è´¨é‡</span>
<span class="hljs-comment"># ç„¶åæ‰©å±•åˆ°ç”Ÿäº§ç¯å¢ƒ</span>
odigos instrument namespace production
</code></pre>
<h5 data-id="heading-47">ç›‘æ§</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># å¯¼å‡º eBPF ä»£ç†æŒ‡æ ‡</span>
<span class="hljs-attr">prometheus:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">9090</span>
  <span class="hljs-attr">path:</span> <span class="hljs-string">/metrics</span>

<span class="hljs-comment"># ä»£ç†æœ‰é—®é¢˜æ—¶å‘Šè­¦</span>
<span class="hljs-comment"># - é«˜ CPU ä½¿ç”¨ç‡</span>
<span class="hljs-comment"># - äº‹ä»¶ä¸¢å¤±</span>
<span class="hljs-comment"># - å¯¼å‡ºå¤±è´¥</span>
</code></pre>
<hr/>
<h2 data-id="heading-48">12. ç»“è®º</h2>
<p>åŸºäº eBPF çš„è‡ªåŠ¨åŒ–æµ‹é‡ä»£è¡¨äº†å¯è§‚æµ‹æ€§çš„èŒƒå¼è½¬å˜ã€‚é€šè¿‡å°†æµ‹é‡è¿ç§»åˆ°å†…æ ¸çº§ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p>
<ul>
<li><strong>æ¶ˆé™¤æµ‹é‡è´Ÿæ‹…</strong>ï¼šä¸å†æŒ‰æœåŠ¡é›†æˆ SDK</li>
<li><strong>å®ç°å…¨è¦†ç›–</strong>ï¼šè§‚å¯Ÿä»»ä½•åº”ç”¨ï¼Œä»»ä½•è¯­è¨€</li>
<li><strong>å‡å°‘ç›²ç‚¹</strong>ï¼šå‘ç°é‚£äº›è¢«å¿½è§†çš„æœåŠ¡</li>
<li><strong>åŠ å¿«ä¸Šçº¿é€Ÿåº¦</strong>ï¼šæ–°æœåŠ¡å¯ç«‹å³è¢«è§‚æµ‹åˆ°</li>
</ul>
<p>ä½†å¹¶ä¸èƒ½å®Œå…¨å–ä»£ä¼ ç»Ÿæµ‹é‡ã€‚æœ€ä½³å¯è§‚æµ‹æ€§ç­–ç•¥ç»“åˆäº†ï¼š</p>
<ol>
<li>eBPF ç”¨äºåŸºçº¿åŸºç¡€è®¾æ–½å±‚çº§å¯è§†åŒ–</li>
<li>é’ˆå¯¹ç‰¹å®šæ¡†æ¶ä¸Šä¸‹æ–‡çš„è‡ªåŠ¨åŒ–æµ‹é‡åº“</li>
<li>ä¸ºä¸šåŠ¡å…³é”®èŒƒå›´å’Œè‡ªå®šä¹‰å±æ€§æä¾›æ‰‹åŠ¨æµ‹é‡</li>
</ol>
<p>åƒ Beyla å’Œ Odigo è¿™æ ·çš„å·¥å…·è®©å…¥é—¨å˜å¾—å‰æ‰€æœªæœ‰çš„ç®€å•ã€‚å¦‚æœåº”ç”¨è¿è¡Œåœ¨ Kubernetes å’Œ Linux ä¸Šï¼Œåªéœ€è¦å‡ åˆ†é’Ÿå°±å¯ä»¥å®ç°æ•´ä¸ªåˆ†å¸ƒå¼è¿½è¸ªæŠ€æœ¯æ ˆã€‚</p>
<hr/>
<h2 data-id="heading-49">è¦ç‚¹</h2>
<ol>
<li>eBPF é€šè¿‡ä»å†…æ ¸è§‚æµ‹åº”ç”¨å®ç°<strong>é›¶ä»£ç ä»ªè¡¨åŒ–</strong></li>
<li><strong>OpenTelemetry å…¼å®¹æ€§</strong>æ„å‘³ç€ eBPF æ•°æ®ä¼šæµå…¥ç°æœ‰å¯è§‚æµ‹æ ˆ</li>
<li><strong>é€‰æ‹©åˆé€‚çš„å·¥å…·</strong>ï¼šBeyla ç®€åŒ–åº”ç”¨ï¼ŒOdigos æ”¯æŒ Kubernetes åˆ†å¸ƒå¼è¿½è¸ªï¼ŒPixie è´Ÿè´£è°ƒè¯•</li>
<li><strong>æ··åˆæ–¹æ³•æ•ˆæœæœ€ä½³</strong>ï¼šeBPF ç”¨äºè¦†ç›–ï¼Œæ‰‹åŠ¨æµ‹é‡ç”¨äºä¸šåŠ¡ç¯å¢ƒ</li>
<li><strong>å¼€é”€ä½</strong>ï¼ˆ1-5% CPUï¼‰ï¼Œä½†è¦ç›‘æ§å¹¶ä½¿ç”¨é‡‡æ ·</li>
<li><strong>å®‰å…¨é—®é¢˜</strong>ï¼šeBPF éœ€è¦ç‰¹æƒï¼ŒæˆæƒèŒƒå›´è¦é€‚å½“</li>
<li><strong>ä»å°å¤„å¼€å§‹</strong>ï¼šå…ˆä»éç”Ÿäº§ç¯å¢ƒå¼€å§‹ï¼Œå†æ‰©å±•åˆ°ç”Ÿäº§ç¯å¢ƒ</li>
</ol>
<hr/>
<h2 data-id="heading-50">å»¶ä¼¸é˜…è¯»</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-12-10-what-is-ebpf-and-how-does-it-work%2Fview" title="https://oneuptime.com/blog/post/2025-12-10-what-is-ebpf-and-how-does-it-work/view" target="_blank" ref="nofollow noopener noreferrer">What is eBPF and How Does It Work?</a> â€”â€” æ·±å…¥æ¢è®¨ eBPF åŸºç¡€çŸ¥è¯†</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-08-27-traces-and-spans-in-opentelemetry%2Fview" title="https://oneuptime.com/blog/post/2025-08-27-traces-and-spans-in-opentelemetry/view" target="_blank" ref="nofollow noopener noreferrer">Traces and Spans in OpenTelemetry</a> â€”â€” ç†è§£åˆ†å¸ƒå¼è¿½è¸ª</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-08-26-what-are-metrics-in-opentelemetry%2Fview" title="https://oneuptime.com/blog/post/2025-08-26-what-are-metrics-in-opentelemetry/view" target="_blank" ref="nofollow noopener noreferrer">What are Metrics in OpenTelemetry?</a> â€”â€” æŒ‡æ ‡åŸºç¡€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-08-20-three-pillars-of-observability-logs-metrics-traces%2Fview" title="https://oneuptime.com/blog/post/2025-08-20-three-pillars-of-observability-logs-metrics-traces/view" target="_blank" ref="nofollow noopener noreferrer">Logs, Metrics &amp; Traces: The Three Pillars</a> â€”â€” å®Œæ•´çš„å¯è§‚å¯Ÿæ€§æ¦‚è¿°</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Foneuptime.com%2Fblog%2Fpost%2F2025-09-09-basics-of-profiling%2Fview" title="https://oneuptime.com/blog/post/2025-09-09-basics-of-profiling/view" target="_blank" ref="nofollow noopener noreferrer">Basics of Profiling</a> â€”â€” éœ€è¦æ›´æ·±å…¥çš„æ€§èƒ½æ´å¯Ÿæ—¶</p>
<hr/>
<blockquote>
<p>Hiï¼Œæˆ‘æ˜¯ä¿å‡¡ï¼Œä¸€åå…¼å…·æŠ€æœ¯æ·±åº¦ä¸ç®¡ç†è§†é‡çš„æŠ€æœ¯ç®¡ç†è€…ã€‚æ›¾å°±èŒäº Motorolaï¼Œç°ä»»èŒäº Mavenirï¼Œå¤šå¹´å¸¦é¢†æŠ€æœ¯å›¢é˜Ÿï¼Œèšç„¦åç«¯æ¶æ„ä¸äº‘åŸç”Ÿï¼ŒæŒç»­å…³æ³¨ AI ç­‰å‰æ²¿æ–¹å‘ï¼Œä¹Ÿå…³æ³¨äººçš„æˆé•¿ï¼Œç¬ƒä¿¡æŒç»­å­¦ä¹ çš„åŠ›é‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä¼šåˆ†äº«æŠ€æœ¯å®è·µä¸æ€è€ƒã€‚æ¬¢è¿å…³æ³¨å…¬ä¼—å·ã€ŒDeepNoMindã€ï¼Œæ˜Ÿæ ‡ä¸è¿·è·¯ã€‚ä¹Ÿæ¬¢è¿è®¿é—®ç‹¬ç«‹ç«™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.deepnomind.com" title="https://www.deepnomind.com" target="_blank" ref="nofollow noopener noreferrer">www.DeepNoMind.com</a>ï¼Œä¸€èµ·äº¤æµæˆé•¿ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ React Hooksï¼šuseState ä¸ useEffect çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7586479864271519750</link>    <guid>https://juejin.cn/post/7586479864271519750</guid>    <pubDate>2025-12-22T09:28:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586479864271519750" data-draft-id="7586540799221022761" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ React Hooksï¼šuseState ä¸ useEffect çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-22T09:28:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ohyeah"/> <meta itemprop="url" content="https://juejin.cn/user/740446536480618"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ React Hooksï¼šuseState ä¸ useEffect çš„æ ¸å¿ƒåŸç†ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/740446536480618/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ohyeah
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:28:03.000Z" title="Mon Dec 22 2025 09:28:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ React å¼€å‘ä¸­ï¼Œå‡½æ•°å¼ç»„ä»¶é…åˆ <strong>Hooks</strong> å·²æˆä¸ºä¸»æµå¼€å‘èŒƒå¼ã€‚å…¶ä¸­ï¼Œ<code>useState</code> å’Œ <code>useEffect</code> æ˜¯æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„ä¸¤ä¸ªå†…ç½® Hookã€‚å®ƒä»¬åˆ†åˆ«è´Ÿè´£ç®¡ç†ç»„ä»¶çš„<strong>å“åº”å¼çŠ¶æ€</strong>å’Œå¤„ç†<strong>å‰¯ä½œç”¨é€»è¾‘</strong>ã€‚æœ¬æ–‡å°†ç»“åˆä»£ç ç¤ºä¾‹ä¸æ·±å…¥åˆ†æï¼Œå¸¦ä½ å…¨é¢æŒæ¡è¿™ä¸¤ä¸ªæ ¸å¿ƒ Hook çš„ä½¿ç”¨æ–¹å¼ã€åº•å±‚æ€æƒ³ä»¥åŠå¸¸è§é™·é˜±ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€useStateï¼šè®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰â€œè®°å¿†â€</h2>
<h3 data-id="heading-1">1.1 åŸºæœ¬ç”¨æ³•</h3>
<p><code>useState</code> æ˜¯ React æä¾›çš„ç¬¬ä¸€ä¸ª Hookï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å£°æ˜çŠ¶æ€å˜é‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [num, setNum] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setNum(num + 1)}&gt;
      {num}
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>è¿™é‡Œ <code>num</code> æ˜¯å½“å‰çŠ¶æ€å€¼ï¼Œ<code>setNum</code> æ˜¯æ›´æ–°è¯¥çŠ¶æ€çš„å‡½æ•°ã€‚æ¯æ¬¡è°ƒç”¨ <code>setNum</code> éƒ½ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå¹¶ä½¿ç”¨æ–°çš„çŠ¶æ€å€¼ã€‚</p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šä¸è¦ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼ˆå¦‚ <code>num++</code>ï¼‰ï¼Œå¿…é¡»é€šè¿‡ <code>setNum</code> è§¦å‘æ›´æ–°ï¼Œå¦åˆ™ React æ— æ³•æ„ŸçŸ¥å˜åŒ–ï¼Œä¹Ÿå°±æ— æ³•è§¦å‘è§†å›¾çš„æ›´æ–°ã€‚</p>
</blockquote>
<h3 data-id="heading-2">1.2 åˆå§‹å€¼æ”¯æŒå‡½æ•°å½¢å¼</h3>
<p>å½“åˆå§‹çŠ¶æ€éœ€è¦å¤æ‚è®¡ç®—æ—¶ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ª<strong>çº¯å‡½æ•°</strong>ä½œä¸º <code>useState</code> çš„å‚æ•°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-section">[num, setNum]</span> = useState(() =&gt; {
  const <span class="hljs-attr">num1</span> = <span class="hljs-number">1</span> + <span class="hljs-number">2</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">num2</span> = <span class="hljs-number">2</span> + <span class="hljs-number">3</span><span class="hljs-comment">;</span>
  return num1 + num2<span class="hljs-comment">; // è¿”å› 6</span>
})<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ä¸ªå‡½æ•°<strong>åªåœ¨ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡</strong>ï¼Œåç»­æ›´æ–°ä¸ä¼šå†æ¬¡è°ƒç”¨ã€‚è¿™æœ‰åŠ©äºé¿å…ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚</p>
<blockquote>
<p>âœ… å…³é”®ç‚¹ï¼šè¯¥å‡½æ•°å¿…é¡»æ˜¯<strong>åŒæ­¥çš„ã€æ— å‰¯ä½œç”¨çš„çº¯å‡½æ•°</strong>ã€‚ä¸èƒ½åŒ…å« <code>setTimeout</code>ã€<code>fetch</code> ç­‰å¼‚æ­¥æ“ä½œï¼Œå› ä¸ºçŠ¶æ€å¿…é¡»æ˜¯ç¡®å®šçš„ï¼Œå¦‚æœæ˜¯ç±»ä¼¼äº<code>fetch</code>è¿™ç§å¼‚æ­¥è¯·æ±‚ï¼Œå®ƒçš„çŠ¶æ€æ˜¯ä¸ç¡®å®šçš„ã€‚</p>
</blockquote>
<h3 data-id="heading-3">1.3 æ›´æ–°çŠ¶æ€æ—¶ä½¿ç”¨å‡½æ•°å¼æ›´æ–°</h3>
<p>å½“æ–°çŠ¶æ€ä¾èµ–äºå‰ä¸€ä¸ªçŠ¶æ€æ—¶ï¼Œæ¨èä½¿ç”¨å‡½æ•°å¼æ›´æ–°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">&lt;<span class="hljs-selector-tag">div</span> onClick={() =&gt; <span class="hljs-built_in">setNum</span>(prevNum =&gt; prevNum + <span class="hljs-number">1</span>)}&gt;
  {num}
&lt;/<span class="hljs-selector-tag">div</span>&gt;
</code></pre>
<p>prevNumä¼šæ¥æ”¶æœ€æ–°çš„numçŠ¶æ€å€¼ï¼Œè¿™ç§æ–¹å¼èƒ½ç¡®ä¿ä½ æ€»æ˜¯åŸºäº<strong>æœ€æ–°çš„çŠ¶æ€å€¼</strong>è¿›è¡Œè®¡ç®—ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€useEffectï¼šå¤„ç†å‰¯ä½œç”¨çš„â€œç”Ÿå‘½å‘¨æœŸé’©å­â€</h2>
<p>å¦‚æœè¯´ <code>useState</code> èµ‹äºˆç»„ä»¶â€œè®°å¿†â€ï¼Œé‚£ä¹ˆ <code>useEffect</code> å°±èµ‹äºˆç»„ä»¶â€œè¡ŒåŠ¨èƒ½åŠ›â€â€”â€”æ‰§è¡Œé‚£äº›<strong>ä¸å±äºçº¯æ¸²æŸ“é€»è¾‘çš„æ“ä½œ</strong>ï¼Œæ¯”å¦‚æ•°æ®è¯·æ±‚ã€è®¢é˜…ã€å®šæ—¶å™¨ç­‰ã€‚</p>
<h3 data-id="heading-5">2.1 åŸºæœ¬ç»“æ„</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  <span class="hljs-comment">// å‰¯ä½œç”¨é€»è¾‘</span>
  return () =&gt; {
    <span class="hljs-comment">// æ¸…ç†å‡½æ•°ï¼ˆå¯é€‰ï¼‰</span>
  };
}, <span class="hljs-selector-attr">[dependencies]</span>); <span class="hljs-comment">// ä¾èµ–æ•°ç»„</span>
</code></pre>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ï¼šå‰¯ä½œç”¨å‡½æ•°</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ï¼šä¾èµ–é¡¹æ•°ç»„ï¼ˆå†³å®šä½•æ—¶é‡æ–°æ‰§è¡Œï¼‰</li>
<li>è¿”å›å€¼ï¼ˆå¯é€‰ï¼‰ï¼šæ¸…ç†å‡½æ•°ï¼Œ<strong>åœ¨ä¸‹æ¬¡ effect æ‰§è¡Œå‰æˆ–ç»„ä»¶å¸è½½æ—¶è°ƒç”¨</strong></li>
</ul>
<h3 data-id="heading-6">2.2 ä¸‰ç§å…¸å‹ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-7">åœºæ™¯ä¸€ï¼šæ¨¡æ‹Ÿ <code>componentDidMount</code>ï¼ˆæŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  console<span class="hljs-selector-class">.log</span>('ç»„ä»¶å·²æŒ‚è½½');
  <span class="hljs-built_in">queryData</span>()<span class="hljs-selector-class">.then</span>(data =&gt; setNum(data));
}, <span class="hljs-selector-attr">[]</span>); <span class="hljs-comment">// ç©ºä¾èµ–æ•°ç»„</span>
</code></pre>
<blockquote>
<p>ğŸ“Œ æ³¨æ„ï¼šç©ºæ•°ç»„ <code>[]</code> è¡¨ç¤ºâ€œä»…åœ¨æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡â€ã€‚ä½†å¦‚æœç»„ä»¶è¢«å¸è½½åé‡æ–°æŒ‚è½½ï¼Œä»ä¼šå†æ¬¡æ‰§è¡Œã€‚</p>
</blockquote>
<h4 data-id="heading-8">åœºæ™¯äºŒï¼šç›‘å¬çŠ¶æ€å˜åŒ–ï¼ˆç±»ä¼¼ <code>watch</code>ï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  console<span class="hljs-selector-class">.log</span>('num å‘ç”Ÿå˜åŒ–:', num);
}, <span class="hljs-selector-attr">[num]</span>); <span class="hljs-comment">// ä¾èµ– num</span>
</code></pre>
<ul>
<li>é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡</li>
<li>æ¯å½“ <code>num</code> å˜åŒ–æ—¶é‡æ–°æ‰§è¡Œ</li>
</ul>
<h4 data-id="heading-9">åœºæ™¯ä¸‰ï¼šæ— ä¾èµ–é¡¹ï¼ˆæ¯æ¬¡æ¸²æŸ“åéƒ½æ‰§è¡Œï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¯æ¬¡æ¸²æŸ“åéƒ½ä¼šæ‰§è¡Œ'</span>);
}); <span class="hljs-comment">// æ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°</span>
</code></pre>
<blockquote>
<p>âš ï¸ è°¨æ…ä½¿ç”¨ï¼å®¹æ˜“å¼•å‘æ— é™å¾ªç¯æˆ–æ€§èƒ½é—®é¢˜ã€‚</p>
</blockquote>
<h3 data-id="heading-10">2.3 æ¸…ç†å‰¯ä½œç”¨ï¼šé¿å…å†…å­˜æ³„æ¼</h3>
<p>å¾ˆå¤šå‰¯ä½œç”¨ä¼šåˆ›å»ºæŒä¹…èµ„æºï¼ˆå¦‚å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬å™¨ï¼‰ï¼Œå¿…é¡»åœ¨ç»„ä»¶å¸è½½æˆ–ä¾èµ–å˜åŒ–æ—¶æ¸…ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num); <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œæ‰“å°çš„æ˜¯ effect åˆ›å»ºæ—¶çš„ numï¼ˆé—­åŒ…ï¼‰</span>
  }, <span class="hljs-number">1000</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸…ç†å®šæ—¶å™¨'</span>);
    <span class="hljs-built_in">clearInterval</span>(timer);
  };
}, [num]);
</code></pre>
<ul>
<li>æ¯æ¬¡ <code>num</code> å˜åŒ–æ—¶ï¼Œå…ˆæ‰§è¡Œä¸Šä¸€æ¬¡çš„æ¸…ç†å‡½æ•°ï¼ˆ<code>clearInterval</code>ï¼‰ï¼Œå†åˆ›å»ºæ–°å®šæ—¶å™¨ã€‚</li>
<li>è‹¥ä¸æ¸…ç†ï¼Œä¼šå¯¼è‡´å¤šä¸ªå®šæ—¶å™¨åŒæ—¶è¿è¡Œï¼Œé€ æˆ<strong>å†…å­˜æ³„æ¼</strong>ï¼Œæ¯æ¬¡æ–°å»ºçš„å®šæ—¶å™¨é‚£ä¸€å—å†…å­˜ï¼Œæ²¡æœ‰åŠæ³•å›æ”¶äº†ã€‚</li>
</ul>
<blockquote>
<p>ğŸ” é‡è¦ç»†èŠ‚ï¼š<code>console.log(num)</code> æ‰“å°çš„æ˜¯<strong>é—­åŒ…ä¸­çš„æ—§å€¼</strong>ï¼Œä¸æ˜¯æœ€æ–°çŠ¶æ€ï¼è¿™æ˜¯åˆå­¦è€…å¸¸è¸©çš„å‘ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-11">ä¸‰ã€çº¯å‡½æ•° vs å‰¯ä½œç”¨ï¼šReact çš„å“²å­¦åŸºç¡€</h2>
<p>ç†è§£ <code>useState</code> å’Œ <code>useEffect</code> çš„è®¾è®¡ï¼Œç¦»ä¸å¼€å¯¹ <strong>çº¯å‡½æ•°</strong> ä¸ <strong>å‰¯ä½œç”¨</strong> çš„åŒºåˆ†ã€‚</p>
<h3 data-id="heading-12">ä»€ä¹ˆæ˜¯çº¯å‡½æ•°ï¼Ÿ</h3>
<ul>
<li>ç›¸åŒè¾“å…¥ â†’ ç›¸åŒè¾“å‡º</li>
<li>æ— å¤–éƒ¨ä¾èµ–ï¼ˆä¸ä¿®æ”¹å¤–éƒ¨å˜é‡ï¼‰</li>
<li>æ—  I/O æ“ä½œï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€DOM æ“ä½œï¼‰</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çº¯å‡½æ•° âœ…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">x, y</span>) {
  <span class="hljs-keyword">return</span> x + y;
}

<span class="hljs-comment">// éçº¯å‡½æ•° âŒï¼ˆä¿®æ”¹äº†å¤–éƒ¨æ•°ç»„ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">nums</span>) {
  nums.<span class="hljs-title function_">push</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// å‰¯ä½œç”¨ï¼</span>
  <span class="hljs-keyword">return</span> nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a + b, <span class="hljs-number">0</span>);
}
</code></pre>
<p>React ç»„ä»¶æœ¬èº«åº”å°½é‡ä¿æŒâ€œçº¯â€ï¼šè¾“å…¥ propsï¼Œè¾“å‡º JSXã€‚è€Œ <code>useEffect</code> æ­£æ˜¯ç”¨æ¥<strong>éš”ç¦»å‰¯ä½œç”¨</strong>çš„æœºåˆ¶ã€‚</p>
<hr/>
<h2 data-id="heading-13">å››ã€å¸¸è§è¯¯åŒºä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-14">âŒ è¯¯åŒº1ï¼šåœ¨ <code>useState</code> åˆå§‹å€¼ä¸­ä½¿ç”¨å¼‚æ­¥å‡½æ•°</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// é”™è¯¯ï¼useState ä¸æ”¯æŒå¼‚æ­¥</span>
<span class="hljs-keyword">const</span> [data, setData] = useState(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">'/api'</span>);
  <span class="hljs-keyword">return</span> res.json();
});
</code></pre>
<p>âœ… æ­£ç¡®åšæ³•ï¼šç”¨ <code>useEffect</code> å¤„ç†å¼‚æ­¥åˆå§‹åŒ–ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  <span class="hljs-built_in">fetch</span>('/api')<span class="hljs-selector-class">.then</span>(res =&gt; res.json())<span class="hljs-selector-class">.then</span>(setData);
}, <span class="hljs-selector-attr">[]</span>);
</code></pre>
<h3 data-id="heading-15">âŒ è¯¯åŒº2ï¼šå¿˜è®°æ¸…ç†å®šæ—¶å™¨/ç›‘å¬å™¨</h3>
<p>ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå°¤å…¶åœ¨è·¯ç”±åˆ‡æ¢æˆ–æ¡ä»¶æ¸²æŸ“ç»„ä»¶æ—¶ã€‚</p>
<p>âœ… æ€»æ˜¯è€ƒè™‘æ˜¯å¦éœ€è¦è¿”å›æ¸…ç†å‡½æ•°ã€‚</p>
<h3 data-id="heading-16">âŒ è¯¯åŒº3ï¼šä¾èµ–é¡¹é—æ¼æˆ–å†—ä½™</h3>
<ul>
<li>é—æ¼ä¾èµ– â†’ ä½¿ç”¨æ—§å€¼ï¼ˆé—­åŒ…é™·é˜±ï¼‰</li>
<li>å†—ä½™ä¾èµ– â†’ ä¸å¿…è¦çš„é‡å¤æ‰§è¡Œ</li>
</ul>
<hr/>
<h2 data-id="heading-17">äº”ã€æ€»ç»“</h2>




















<table><thead><tr><th>Hook</th><th>ä½œç”¨</th><th>å…³é”®ç‰¹æ€§</th></tr></thead><tbody><tr><td><code>useState</code></td><td>ç®¡ç†å“åº”å¼çŠ¶æ€</td><td>æ”¯æŒå‡½æ•°å¼æ›´æ–°ã€æƒ°æ€§åˆå§‹åŒ–</td></tr><tr><td><code>useEffect</code></td><td>å¤„ç†å‰¯ä½œç”¨ï¼ˆæ•°æ®è¯·æ±‚ã€è®¢é˜…ç­‰ï¼‰</td><td>ä¾èµ–æ§åˆ¶ã€è‡ªåŠ¨æ¸…ç†ã€é—­åŒ…é™·é˜±</td></tr></tbody></table>
<ul>
<li><strong>çŠ¶æ€æ˜¯ç»„ä»¶çš„æ ¸å¿ƒ</strong>ï¼Œ<code>useState</code> è®©å‡½æ•°ç»„ä»¶å…·å¤‡çŠ¶æ€ç®¡ç†èƒ½åŠ›ã€‚</li>
<li><strong>å‰¯ä½œç”¨å¿…é¡»è¢«éš”ç¦»</strong>ï¼Œ<code>useEffect</code> æ˜¯ React å¯¹â€œçº¯ç»„ä»¶â€ç†å¿µçš„ä¼˜é›…å¦¥åã€‚</li>
<li><strong>çº¯å‡½æ•°æ˜¯åŸºçŸ³</strong>ï¼Œç†è§£å®ƒæ‰èƒ½å†™å‡ºå¯é¢„æµ‹ã€å¯ç»´æŠ¤çš„ React ä»£ç ã€‚</li>
</ul>
<p>æŒæ¡ <code>useState</code> ä¸ <code>useEffect</code>ï¼Œå°±æŒæ¡äº†å‡½æ•°å¼ç»„ä»¶çš„â€œçµé­‚â€ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œå–„ç”¨å®ƒä»¬çš„ç‰¹æ€§ï¼Œé¿å¼€å¸¸è§é™·é˜±ï¼Œä½ çš„ React åº”ç”¨å°†æ›´åŠ å¥å£®ã€é«˜æ•ˆã€‚</p>
<blockquote>
<p>ğŸ“š å»¶ä¼¸é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Freference%2Freact" target="_blank" title="https://react.dev/reference/react" ref="nofollow noopener noreferrer">React å®˜æ–¹æ–‡æ¡£ - Hooks</a></p>
</blockquote>
<hr/>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´æ·±å…¥åœ°ç†è§£ React Hooks çš„æ ¸å¿ƒæ€æƒ³ã€‚å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—å¹¶åœ¨è¯„è®ºåŒºäº¤æµä½ çš„å®è·µç»éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ”¥ æ‰‹å†™ Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šå®ç°å†…å®¹åŒºæ‹–æ‹½è°ƒæ•´å¤§å°ï¼ˆè¶…å®ç”¨ï¼‰]]></title>    <link>https://juejin.cn/post/7586178555777941510</link>    <guid>https://juejin.cn/post/7586178555777941510</guid>    <pubDate>2025-12-22T09:29:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586178555777941510" data-draft-id="7585928504950931492" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ”¥ æ‰‹å†™ Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šå®ç°å†…å®¹åŒºæ‹–æ‹½è°ƒæ•´å¤§å°ï¼ˆè¶…å®ç”¨ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T09:29:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é…¸èœåœŸç‹—"/> <meta itemprop="url" content="https://juejin.cn/user/2676649826197575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ”¥ æ‰‹å†™ Vue è‡ªå®šä¹‰æŒ‡ä»¤ï¼šå®ç°å†…å®¹åŒºæ‹–æ‹½è°ƒæ•´å¤§å°ï¼ˆè¶…å®ç”¨ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2676649826197575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é…¸èœåœŸç‹—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:29:24.000Z" title="Mon Dec 22 2025 09:29:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸é‡åˆ°éœ€è¦æ‰‹åŠ¨è°ƒæ•´å†…å®¹åŒºå¤§å°çš„åœºæ™¯ï¼Œæ¯”å¦‚ä¾§è¾¹æ ã€å¼¹çª—ã€æŠ¥è¡¨é¢æ¿ç­‰ã€‚åˆ†äº«ä¸€ä¸ªæˆ‘å†™çš„ã€Œæ‹–æ‹½è°ƒæ•´å¤§å°æŒ‡ä»¤ã€ï¼Œæ”¯æŒè‡ªå®šä¹‰æœ€å°å°ºå¯¸ã€æ‹–æ‹½æ‰‹æŸ„æ ·å¼ï¼Œèƒ½ç›‘å¬å°ºå¯¸å˜åŒ–</p>
<h2 data-id="heading-0">ğŸ“Œ å…ˆçœ‹æ•ˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ac59e818df047db900c2a579a9f088e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YW46I-c5Zyf54uX:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767000593&amp;x-signature=2xIaJjlbf%2FmG6bdTP8RN6pt7zIE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">ğŸ›  æ ¸å¿ƒä»£ç è§£æ</h2>
<p>æŒ‡ä»¤æ–‡ä»¶Â <code>directives/resizable-full.js</code>Â ï¼Œå…³é”®éƒ¨åˆ†ï¼š</p>
<h3 data-id="heading-2">1. æŒ‡ä»¤é’©å­ï¼šåˆå§‹åŒ– + æ›´æ–° + æ¸…ç†</h3>
<p>Vue æŒ‡ä»¤çš„ 3 ä¸ªæ ¸å¿ƒé’©å­ï¼Œä¿è¯æŒ‡ä»¤çš„ç”Ÿå‘½å‘¨æœŸå®Œæ•´ï¼š</p>
<p>js</p>
<pre><code class="hljs language-scss" lang="scss">export default {
  <span class="hljs-built_in">bind</span>(el, binding) {
    <span class="hljs-comment">// æŒ‡ä»¤ç»‘å®šæ—¶åˆå§‹åŒ–æ‹–æ‹½åŠŸèƒ½</span>
    <span class="hljs-built_in">initResizable</span>(el, binding);
  },
  <span class="hljs-built_in">update</span>(el, binding) {
    <span class="hljs-comment">// ç¦ç”¨çŠ¶æ€å˜åŒ–æ—¶ï¼Œé‡æ–°åˆå§‹åŒ–</span>
    if (binding.value?.disabled !== binding.oldValue?.disabled) {
      <span class="hljs-built_in">cleanupResizable</span>(el); <span class="hljs-comment">// å…ˆæ¸…ç†æ—§çš„</span>
      <span class="hljs-built_in">initResizable</span>(el, binding); <span class="hljs-comment">// å†åˆå§‹åŒ–æ–°çš„</span>
    }
  },
  <span class="hljs-built_in">unbind</span>(el) {
    <span class="hljs-comment">// æŒ‡ä»¤è§£ç»‘æ—¶ï¼Œæ¸…ç†æ‰€æœ‰æ‰‹æŸ„å’Œäº‹ä»¶ï¼ˆé¿å…å†…å­˜æ³„æ¼ï¼‰</span>
    <span class="hljs-built_in">cleanupResizable</span>(el);
  }
};
</code></pre>
<h3 data-id="heading-3">2. åˆå§‹åŒ–æ‹–æ‹½ï¼šåˆ›å»ºæ‰‹æŸ„ + æ ¸å¿ƒé€»è¾‘</h3>
<p><code>initResizable</code>Â æ˜¯æ ¸å¿ƒå‡½æ•°ï¼Œä¸»è¦åš 2 ä»¶äº‹ï¼šåˆ›å»ºæ‹–æ‹½æ‰‹æŸ„ã€å†™æ‹–æ‹½é€»è¾‘ã€‚</p>
<h4 data-id="heading-4">ï¼ˆ1ï¼‰åˆ›å»ºæ‹–æ‹½æ‰‹æŸ„</h4>
<p>æˆ‘åªä¿ç•™äº†ã€Œå³ä¸‹è§’ã€çš„æ‹–æ‹½æ‰‹æŸ„ï¼ˆå…¶ä»–æ–¹å‘æ³¨é‡Šæ‰äº†ï¼Œéœ€è¦çš„è¯è‡ªå·±è§£å¼€ï¼‰ï¼Œæ ·å¼å¯è‡ªå®šä¹‰ï¼š</p>
<p>js</p>
<pre><code class="hljs language-ini" lang="ini">// å®šä¹‰æ‰‹æŸ„é…ç½®ï¼ˆåªç•™äº†bottom-rightï¼‰
const <span class="hljs-attr">handles</span> = [
  { dir: <span class="hljs-string">'bottom-right'</span>, style: { bottom: <span class="hljs-number">0</span>, right: <span class="hljs-number">0</span>, cursor: <span class="hljs-string">'nwse-resize'</span> } }
]<span class="hljs-comment">;</span>

// å¾ªç¯åˆ›å»ºæ‰‹æŸ„å…ƒç´ 
handles.forEach(<span class="hljs-attr">handleConf</span> =&gt; {
  const <span class="hljs-attr">handle</span> = document.createElement(<span class="hljs-string">'div'</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">handle.className</span> = `resizable-handle resizable-handle--<span class="hljs-variable">${handleConf.dir}</span>`<span class="hljs-comment">;</span>
  <span class="hljs-attr">handle.dataset.dir</span> = handleConf.dir<span class="hljs-comment">;</span>
  
  // æ‰‹æŸ„æ ·å¼ï¼šå°æ–¹å—ã€åŠé€æ˜ã€hoveré«˜äº®
  Object.assign(handle.style, {
    position: 'absolute',
    width: `${handleSize}px`,
    height: `${handleSize}px`,
    background: handleColor,
    opacity: '0.6',
    zIndex: 999,
    transition: 'opacity 0.2s',
    ...handleConf.style
  })<span class="hljs-comment">;</span>

  // hoveræ—¶æ‰‹æŸ„é«˜äº®
  handle.addEventListener('mouseenter', () =&gt; <span class="hljs-attr">handle.style.opacity</span> = <span class="hljs-string">'1'</span>)<span class="hljs-comment">;</span>
  handle.addEventListener('mouseleave', () =&gt; <span class="hljs-attr">handle.style.opacity</span> = <span class="hljs-string">'0.6'</span>)<span class="hljs-comment">;</span>

  el.appendChild(handle)<span class="hljs-comment">; // æŠŠæ‰‹æŸ„åŠ åˆ°ç›®æ ‡å…ƒç´ ä¸Š</span>
  el._resizableConfig.handles.push(handle)<span class="hljs-comment">; // å­˜èµ·æ¥æ–¹ä¾¿åç»­æ¸…ç†</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-5">ï¼ˆ2ï¼‰æ‹–æ‹½æ ¸å¿ƒé€»è¾‘</h4>
<p>åˆ† 3 æ­¥ï¼šæŒ‰ä¸‹é¼ æ ‡ï¼ˆè®°å½•åˆå§‹çŠ¶æ€ï¼‰â†’ ç§»åŠ¨é¼ æ ‡ï¼ˆè®¡ç®—æ–°å°ºå¯¸ï¼‰â†’ æ¾å¼€é¼ æ ‡ï¼ˆè§¦å‘å›è°ƒ + æ¸…ç†ï¼‰ï¼š</p>
<p>js</p>
<pre><code class="hljs language-ini" lang="ini">// 1. æŒ‰ä¸‹é¼ æ ‡ï¼šè®°å½•åˆå§‹ä½ç½®å’Œå°ºå¯¸
const <span class="hljs-attr">mouseDownHandler</span> = (e) =&gt; {
  const <span class="hljs-attr">handle</span> = e.target.closest(<span class="hljs-string">'.resizable-handle'</span>)<span class="hljs-comment">;</span>
  if (!handle) return<span class="hljs-comment">;</span>

  e.stopPropagation()<span class="hljs-comment">;</span>
  e.preventDefault()<span class="hljs-comment">;</span>
  
  const <span class="hljs-attr">dir</span> = handle.dataset.dir<span class="hljs-comment">;</span>
  const <span class="hljs-attr">rect</span> = el.getBoundingClientRect()<span class="hljs-comment">; // è·å–å…ƒç´ å½“å‰ä½ç½®å’Œå°ºå¯¸</span>

  // å­˜åˆå§‹çŠ¶æ€ï¼šé¼ æ ‡ä½ç½®ã€å…ƒç´ å°ºå¯¸/ä½ç½®
  <span class="hljs-attr">startState</span> = {
    dir,
    startX: e.clientX,
    startY: e.clientY,
    startWidth: rect.width,
    startHeight: rect.height
  }<span class="hljs-comment">;</span>

  // ç»‘å®šç§»åŠ¨/æ¾å¼€äº‹ä»¶ï¼ˆç»‘åœ¨documentä¸Šï¼Œé¿å…æ‹–æ‹½æ—¶é¼ æ ‡ç§»å‡ºå…ƒç´ å¤±æ•ˆï¼‰
  document.addEventListener('mousemove', onMouseMove)<span class="hljs-comment">;</span>
  document.addEventListener('mouseup', onMouseUp)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// 2. ç§»åŠ¨é¼ æ ‡ï¼šè®¡ç®—æ–°å®½é«˜å¹¶èµ‹å€¼
const <span class="hljs-attr">onMouseMove</span> = (e) =&gt; {
  if (!startState) return<span class="hljs-comment">;</span>
  const { dir, startX, startY, startWidth, startHeight } = startState<span class="hljs-comment">;</span>
  let <span class="hljs-attr">newWidth</span> = startWidth<span class="hljs-comment">;</span>
  let <span class="hljs-attr">newHeight</span> = startHeight<span class="hljs-comment">;</span>

  // åªå¤„ç†å³ä¸‹è§’æ‹–æ‹½ï¼šå®½é«˜éƒ½å¢åŠ 
  if (<span class="hljs-attr">dir</span> === <span class="hljs-string">'bottom-right'</span>) {
    <span class="hljs-attr">newWidth</span> = startWidth + (e.clientX - startX)<span class="hljs-comment">;</span>
    <span class="hljs-attr">newHeight</span> = startHeight + (e.clientY - startY)<span class="hljs-comment">;</span>
  }

  // é™åˆ¶æœ€å°å®½é«˜ï¼ˆé¿å…æ‹–åˆ°å¤ªå°ï¼‰
  <span class="hljs-attr">newWidth</span> = Math.max(minWidth, newWidth)<span class="hljs-comment">;</span>
  <span class="hljs-attr">newHeight</span> = Math.max(minHeight, newHeight)<span class="hljs-comment">;</span>

  // ç»™å…ƒç´ è®¾ç½®æ–°å°ºå¯¸
  <span class="hljs-attr">el.style.width</span> = `<span class="hljs-variable">${newWidth}</span>px`<span class="hljs-comment">;</span>
  <span class="hljs-attr">el.style.height</span> = `<span class="hljs-variable">${newHeight}</span>px`<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// 3. æ¾å¼€é¼ æ ‡ï¼šè§¦å‘å›è°ƒ+æ¸…ç†äº‹ä»¶
const <span class="hljs-attr">onMouseUp</span> = () =&gt; {
  // æ‹–æ‹½ç»“æŸï¼Œè§¦å‘è‡ªå®šä¹‰å›è°ƒï¼Œè¿”å›æœ€æ–°å°ºå¯¸
  if (startState &amp;&amp; el._resizableConfig.onResize) {
    el._resizableConfig.onResize({
      width: parseInt(el.style.width),
      height: parseInt(el.style.height)
    })<span class="hljs-comment">;</span>
  }
  <span class="hljs-attr">startState</span> = null<span class="hljs-comment">;</span>
  // ç§»é™¤äº‹ä»¶ï¼ˆé¿å…é‡å¤ç»‘å®šï¼‰
  document.removeEventListener('mousemove', onMouseMove)<span class="hljs-comment">;</span>
  document.removeEventListener('mouseup', onMouseUp)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// ç»™å…ƒç´ ç»‘å®šæŒ‰ä¸‹äº‹ä»¶
el.addEventListener('mousedown', mouseDownHandler)<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-6">3. æ¸…ç†å‡½æ•°ï¼šé¿å…å†…å­˜æ³„æ¼</h3>
<p><code>cleanupResizable</code>Â è´Ÿè´£ç§»é™¤æ‰€æœ‰æ‰‹æŸ„å…ƒç´ å’Œäº‹ä»¶ç›‘å¬å™¨ï¼ŒæŒ‡ä»¤è§£ç»‘æ—¶å¿…æ‰§è¡Œï¼š</p>
<p>js</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanupResizable</span>(<span class="hljs-params">el</span>) {
  <span class="hljs-keyword">if</span> (el.<span class="hljs-property">_resizableConfig</span>) {
    <span class="hljs-comment">// ç§»é™¤æ‰€æœ‰æ‰‹æŸ„</span>
    el.<span class="hljs-property">_resizableConfig</span>.<span class="hljs-property">handles</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">handle</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (handle.<span class="hljs-property">parentNode</span> === el) el.<span class="hljs-title function_">removeChild</span>(handle);
    });
    <span class="hljs-comment">// ç§»é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨</span>
    el.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousedown'</span>, el.<span class="hljs-property">_resizableConfig</span>.<span class="hljs-property">mouseDownHandler</span>);
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, el.<span class="hljs-property">_resizableConfig</span>.<span class="hljs-property">mouseMoveHandler</span>);
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mouseup'</span>, el.<span class="hljs-property">_resizableConfig</span>.<span class="hljs-property">mouseUpHandler</span>);
    <span class="hljs-comment">// åˆ é™¤é…ç½®ï¼ˆé‡Šæ”¾å†…å­˜ï¼‰</span>
    <span class="hljs-keyword">delete</span> el.<span class="hljs-property">_resizableConfig</span>;
  }
}
</code></pre>
<h2 data-id="heading-7">ğŸš€ å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2>
<ol>
<li><strong>å…¨å±€æ³¨å†ŒæŒ‡ä»¤</strong>ï¼ˆmain.jsï¼‰ï¼š</li>
</ol>
<p>js</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> resizableFull <span class="hljs-keyword">from</span> <span class="hljs-string">'./directives/resizable-full'</span>;
<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'resizable-full'</span>, resizableFull);
</code></pre>
<p>2.  <strong>é¡µé¢ä¸­ä½¿ç”¨</strong>ï¼š</p>
<p>vue</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- ç»™éœ€è¦æ‹–æ‹½çš„å…ƒç´ åŠ æŒ‡ä»¤ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
    <span class="hljs-attr">v-resizable-full</span>=<span class="hljs-string">"{
      minWidth: 300, // æœ€å°å®½åº¦
      minHeight: 200, // æœ€å°é«˜åº¦
      handleSize: 10, // æ‰‹æŸ„å¤§å°
      handleColor: '#409eff', // æ‰‹æŸ„é¢œè‰²
      onResize: handleResize // æ‹–æ‹½ç»“æŸå›è°ƒ
    }"</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">"position: relative; width: 400px; height: 300px; border: 1px solid #eee;"</span>
  &gt;</span>
    æˆ‘æ˜¯å¯æ‹–æ‹½è°ƒæ•´å¤§å°çš„å†…å®¹åŒºï½
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-comment">// æ‹–æ‹½ç»“æŸï¼Œæ‹¿åˆ°æœ€æ–°å°ºå¯¸</span>
    <span class="hljs-title function_">handleResize</span>(<span class="hljs-params">{ width, height }</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ–°å°ºå¯¸ï¼š'</span>, width, height);
    }
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2 data-id="heading-8">ğŸ’¡ å…³é”®æ³¨æ„ç‚¹ï¼ˆé¿å‘ï¼‰</h2>
<ol>
<li><strong>ç›®æ ‡å…ƒç´ å¿…é¡»è®¾Â <code>position: relative/absolute/fixed</code></strong>ï¼šå› ä¸ºæ‰‹æŸ„æ˜¯ç»å¯¹å®šä½ï¼Œä¾èµ–çˆ¶å…ƒç´ çš„å®šä½ï¼›</li>
<li><strong>äº‹ä»¶ç»‘åœ¨ document ä¸Š</strong>ï¼šæ‹–æ‹½æ—¶é¼ æ ‡å¯èƒ½ç§»å‡ºç›®æ ‡å…ƒç´ ï¼Œç»‘åœ¨ document ä¸Šæ‰ä¸ä¼šæ–­ï¼›</li>
<li><strong>ä¸€å®šè¦æ¸…ç†äº‹ä»¶ / å…ƒç´ </strong>ï¼šæŒ‡ä»¤è§£ç»‘æ—¶æ‰§è¡ŒÂ <code>cleanupResizable</code>ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼›</li>
<li><strong>æœ€å°å°ºå¯¸é™åˆ¶</strong>ï¼šé€šè¿‡Â <code>minWidth/minHeight</code>Â é¿å…å…ƒç´ è¢«æ‹–åˆ°å¤ªå°ï¼Œå½±å“ä½“éªŒã€‚</li>
</ol>
<h2 data-id="heading-9">ğŸ¨ æ‰©å±•ç©æ³•</h2>
<ol>
<li>è§£å¼€æ³¨é‡Šçš„å…¶ä»– 7 ä¸ªæ–¹å‘æ‰‹æŸ„ï¼Œå®ç°å…¨æ–¹å‘æ‹–æ‹½ï¼›</li>
<li>ç»™æ‰‹æŸ„åŠ  hover æç¤ºï¼ˆæ¯”å¦‚ â€œæ‹–æ‹½è°ƒæ•´å¤§å°â€ï¼‰ï¼›</li>
<li>æ”¯æŒæ‹–æ‹½æ—¶å®æ—¶è§¦å‘å›è°ƒï¼ˆä¸æ­¢ç»“æŸæ—¶ï¼‰ï¼›</li>
<li>è‡ªå®šä¹‰æ‰‹æŸ„æ ·å¼ï¼ˆæ¯”å¦‚æ”¹æˆè™šçº¿ã€åŠ å›¾æ ‡ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-10">ğŸ“ æ€»ç»“</h2>
<p>è¿™ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤æ ¸å¿ƒæ˜¯ã€Œåˆ›å»ºæ‹–æ‹½æ‰‹æŸ„ + ç›‘å¬é¼ æ ‡äº‹ä»¶ + è®¡ç®—å°ºå¯¸å˜åŒ–ã€ï¼Œé€»è¾‘ä¸å¤æ‚ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯å®šåˆ¶ã€‚äº²æµ‹æŠ¥è¡¨å’Œå¼¹çª—éƒ½å¾ˆé€‚ç”¨ï½</p>
<p>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œå¯ä»¥ç‚¹ä¸ªèµæ”¶è—ä¸€ä¸‹ï¼Œä¸‹æ¬¡éœ€è¦ç›´æ¥ç¿»å‡ºæ¥ç”¨ğŸ˜œ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spec-Kitåº”ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7586482851103359011</link>    <guid>https://juejin.cn/post/7586482851103359011</guid>    <pubDate>2025-12-22T09:39:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482851103359011" data-draft-id="7586263211088642074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spec-Kitåº”ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-22T09:39:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·2890794216271"/> <meta itemprop="url" content="https://juejin.cn/user/2286601261823261"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spec-Kitåº”ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2286601261823261/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·2890794216271
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:39:22.000Z" title="Mon Dec 22 2025 09:39:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GitHub Spec-Kit ä½¿ç”¨æŒ‡å—</h2>
<blockquote>
<p>è§„èŒƒé©±åŠ¨å¼€å‘ï¼ˆSpec-Driven Developmentï¼‰ - è®© AI ç¼–ç æ›´å¯æ§ã€æ›´é«˜æ•ˆ</p>
</blockquote>
<h3 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ Spec-Kitï¼Ÿ</h3>
<h4 data-id="heading-2">1.1 ç®€ä»‹</h4>
<p>Spec-Kit æ˜¯ GitHub å®˜æ–¹å¼€æºçš„è§„èŒƒé©±åŠ¨å¼€å‘å·¥å…·åŒ…ï¼Œæ—¨åœ¨æ”¹å˜ä¼ ç»Ÿçš„ AI ç¼–ç æ–¹å¼ã€‚</p>
<ul>
<li><strong>å®˜æ–¹ä»“åº“</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fspec-kit" target="_blank" title="https://github.com/github/spec-kit" ref="nofollow noopener noreferrer">github.com/github/specâ€¦</a></li>
<li><strong>æ”¯æŒçš„ AI å·¥å…·</strong>: Claude Codeã€GitHub Copilotã€Cursorã€Gemini CLIã€Windsurf ç­‰</li>
</ul>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒç†å¿µ</h4>





















<table><thead><tr><th align="left">ä¼ ç»Ÿå¼€å‘</th><th align="left">Spec-Driven å¼€å‘</th></tr></thead><tbody><tr><td align="left">æƒ³æ³• â†’ ç›´æ¥å†™ä»£ç  â†’ è°ƒè¯• â†’ è¡¥æ–‡æ¡£</td><td align="left">æƒ³æ³• â†’ å†™è§„èŒƒ â†’ AI ç”Ÿæˆæ–¹æ¡ˆ â†’ AI å®ç° â†’ éªŒè¯</td></tr><tr><td align="left">ä»£ç æ˜¯æºå¤´ï¼Œæ–‡æ¡£æ˜¯å‰¯äº§å“</td><td align="left">è§„èŒƒæ˜¯æºå¤´ï¼Œä»£ç æ˜¯è§„èŒƒçš„å®ç°</td></tr><tr><td align="left">â€œVibe Codingâ€ - å‡­æ„Ÿè§‰å†™</td><td align="left">ç»“æ„åŒ–ã€å¯é¢„æµ‹ã€å¯è¿½æº¯</td></tr></tbody></table>
<h4 data-id="heading-4">1.3 ä¸ºä»€ä¹ˆéœ€è¦ Spec-Kitï¼Ÿ</h4>
<p><strong>ä¼ ç»Ÿ AI ç¼–ç çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li>AI ç†è§£ä¸å‡†ç¡®ï¼Œç”Ÿæˆçš„ä»£ç ä¸é¢„æœŸä¸ç¬¦</li>
<li>ç¼ºä¹ä¸Šä¸‹æ–‡ï¼ŒAI æ— æ³•ç†è§£é¡¹ç›®æ¶æ„çº¦æŸ</li>
<li>å¤šäººåä½œæ—¶ï¼ŒAI ç”Ÿæˆçš„ä»£ç é£æ ¼ä¸ä¸€è‡´</li>
<li>éš¾ä»¥è¿½æº¯éœ€æ±‚å’Œå®ç°çš„å¯¹åº”å…³ç³»</li>
</ul>
<p><strong>Spec-Kit çš„è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li><strong>è§„èŒƒå³åˆçº¦</strong>ï¼šAI å¿…é¡»æŒ‰ç…§è§„èŒƒç”Ÿæˆä»£ç </li>
<li><strong>Constitutionï¼ˆç« ç¨‹ï¼‰</strong>ï¼šå®šä¹‰é¡¹ç›®çš„æ¶æ„çº¦æŸå’Œç¼–ç è§„èŒƒ</li>
<li><strong>ç»“æ„åŒ–æµç¨‹</strong>ï¼šSpecify â†’ Plan â†’ Tasks â†’ Implement</li>
<li><strong>è´¨é‡é—¨ç¦</strong>ï¼šæ¯ä¸ªé˜¶æ®µéƒ½æœ‰éªŒè¯ç‚¹</li>
</ul>
<h3 data-id="heading-5">äºŒã€å®‰è£…ä¸é…ç½®</h3>
<h4 data-id="heading-6">2.1 å‰ç½®è¦æ±‚</h4>
<ul>
<li>Node.js 18+ æˆ– Python 3.10+ï¼ˆç”¨äº CLIï¼‰</li>
<li>Git</li>
<li>AI ç¼–ç å·¥å…·ï¼ˆæ¨è Claude Codeï¼‰</li>
</ul>
<h4 data-id="heading-7">2.2 å®‰è£…æ–¹å¼</h4>
<p><strong>æ–¹å¼ä¸€ï¼šä½¿ç”¨ uvxï¼ˆæ¨èï¼Œæ— éœ€å®‰è£…ï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥è¿è¡Œï¼Œæ— éœ€å®‰è£…</span>
uvx --from git+https://github.com/github/spec-kit.git specify init my-project --ai claude
</code></pre>
<p><strong>æ–¹å¼äºŒï¼šä½¿ç”¨ uv å…¨å±€å®‰è£…</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… CLI</span>
uv tool install specify-cli --from git+https://github.com/github/spec-kit.git

<span class="hljs-comment"># åˆå§‹åŒ–é¡¹ç›®</span>
specify init my-project --ai claude
</code></pre>
<p><strong>æ–¹å¼ä¸‰ï¼šä½¿ç”¨ npm/bun</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ bun</span>
bun install -g @spec-kit/cli

<span class="hljs-comment"># æˆ–ä½¿ç”¨ npm</span>
npm install -g @spec-kit/cli

<span class="hljs-comment"># åˆå§‹åŒ–é¡¹ç›®</span>
specify init my-project --ai claude
</code></pre>
<h4 data-id="heading-8">2.3 åˆå§‹åŒ–é¡¹ç›®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–°é¡¹ç›® + Claude Code</span>
specify init my-project --ai claude

<span class="hljs-comment"># åœ¨å½“å‰ç›®å½•åˆå§‹åŒ–</span>
specify init . --ai claude

<span class="hljs-comment"># è·³è¿‡ git åˆå§‹åŒ–</span>
specify init my-project --ai claude --no-git

<span class="hljs-comment"># å…¶ä»– AI å·¥å…·</span>
specify init my-project --ai copilot      <span class="hljs-comment"># GitHub Copilot</span>
specify init my-project --ai cursor-agent  <span class="hljs-comment"># Cursor</span>
specify init my-project --ai gemini        <span class="hljs-comment"># Gemini CLI</span>
</code></pre>
<h4 data-id="heading-9">2.4 åˆå§‹åŒ–åçš„ç›®å½•ç»“æ„</h4>
<pre><code class="hljs language-text" lang="text">my-project/
â”œâ”€â”€ .specify/                    # Spec-Kit é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â””â”€â”€ constitution.md      # â­ é¡¹ç›®ç« ç¨‹ï¼ˆæ¶æ„çº¦æŸï¼‰
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ bash/                # Bash è„šæœ¬
â”‚   â”‚   â””â”€â”€ powershell/          # PowerShell è„šæœ¬
â”‚   â””â”€â”€ templates/
â”‚       â”œâ”€â”€ spec-template.md     # è§„èŒƒæ¨¡æ¿
â”‚       â”œâ”€â”€ plan-template.md     # æ–¹æ¡ˆæ¨¡æ¿
â”‚       â””â”€â”€ tasks-template.md    # ä»»åŠ¡æ¨¡æ¿
â”œâ”€â”€ specs/                       # è§„èŒƒæ–‡æ¡£å­˜æ”¾ç›®å½•
â”‚   â””â”€â”€ 001-feature-name/
â”‚       â”œâ”€â”€ spec.md              # åŠŸèƒ½è§„èŒƒ
â”‚       â”œâ”€â”€ plan.md              # æŠ€æœ¯æ–¹æ¡ˆ
â”‚       â””â”€â”€ tasks.md             # ä»»åŠ¡åˆ—è¡¨
â””â”€â”€ .claude/commands/            # Claude Code è‡ªå®šä¹‰å‘½ä»¤
    â”œâ”€â”€ specify.md
    â”œâ”€â”€ plan.md
    â”œâ”€â”€ tasks.md
    â””â”€â”€ implement.md
</code></pre>
<h3 data-id="heading-10">ä¸‰ã€å·¥ä½œæµç¨‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0df8dcae812455b8bc646e838b22ccf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3Mjg5MDc5NDIxNjI3MQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767001161&amp;x-signature=TV5GB%2BwMLTsxqABLQFUlV5xonpg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-11">3.1 å…­é˜¶æ®µæµç¨‹</h4>
<pre><code class="hljs language-text" lang="text">Constitution â†’ Specify â†’ Clarify â†’ Plan â†’ Tasks â†’ Implement
    â†“            â†“         â†“        â†“       â†“         â†“
 é¡¹ç›®ç« ç¨‹    åŠŸèƒ½è§„èŒƒ   éœ€æ±‚æ¾„æ¸…   æŠ€æœ¯æ–¹æ¡ˆ  ä»»åŠ¡æ‹†åˆ†   ä»£ç å®ç°
</code></pre>
<h4 data-id="heading-12">3.2 æ ¸å¿ƒå‘½ä»¤</h4>















































<table><thead><tr><th align="left">é˜¶æ®µ</th><th align="left">å‘½ä»¤</th><th align="left">ä½œç”¨</th><th align="left">è¾“å‡ºç‰©</th></tr></thead><tbody><tr><td align="left">1. Specify</td><td align="left"><code>/specify</code></td><td align="left">å®šä¹‰åŠŸèƒ½è§„èŒƒï¼ˆWHATï¼‰</td><td align="left"><code>spec.md</code></td></tr><tr><td align="left">2. Clarify</td><td align="left"><code>/clarify</code></td><td align="left">æ¾„æ¸…æ¨¡ç³Šéœ€æ±‚</td><td align="left">æ›´æ–° <code>spec.md</code></td></tr><tr><td align="left">3. Plan</td><td align="left"><code>/plan</code></td><td align="left">ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆï¼ˆHOWï¼‰</td><td align="left"><code>plan.md</code></td></tr><tr><td align="left">4. Tasks</td><td align="left"><code>/tasks</code></td><td align="left">æ‹†åˆ†å¯æ‰§è¡Œä»»åŠ¡</td><td align="left"><code>tasks.md</code></td></tr><tr><td align="left">5. Implement</td><td align="left"><code>/implement</code></td><td align="left">æ‰§è¡Œä»£ç å®ç°</td><td align="left">æºä»£ç </td></tr><tr><td align="left">6. Analyze</td><td align="left"><code>/analyze</code></td><td align="left">è´¨é‡æ£€æŸ¥</td><td align="left">åˆ†ææŠ¥å‘Š</td></tr></tbody></table>
<h4 data-id="heading-13">3.3 è¯¦ç»†æµç¨‹è¯´æ˜</h4>
<h5 data-id="heading-14">é˜¶æ®µä¸€ï¼šç¼–å†™ Constitutionï¼ˆç« ç¨‹ï¼‰</h5>
<p>Constitution æ˜¯é¡¹ç›®çš„"å®ªæ³•"ï¼Œå®šä¹‰äº†ï¼š</p>
<ul>
<li>æŠ€æœ¯æ ˆå’Œæ¶æ„çº¦æŸ</li>
<li>ç¼–ç è§„èŒƒå’Œå‘½åè§„åˆ™</li>
<li>ä¾èµ–ç­–ç•¥</li>
<li>è®¾è®¡åŸåˆ™</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼ˆ<code>.specify/memory/constitution.md</code>ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®ç« ç¨‹</span>

<span class="hljs-section">## æŠ€æœ¯æ ˆ</span>
<span class="hljs-bullet">-</span> åç«¯ï¼šSpring Boot 2.7 + MyBatis Plus + Dubbo 3.3
<span class="hljs-bullet">-</span> æ•°æ®åº“ï¼šMySQL 8.0 + Redis
<span class="hljs-bullet">-</span> å‰ç«¯ï¼šVue 3 + Element Plus

<span class="hljs-section">## æ¶æ„çº¦æŸ</span>
<span class="hljs-bullet">-</span> åˆ†å±‚æ¶æ„ï¼šController/DubboApi â†’ Service â†’ Mapper
<span class="hljs-bullet">-</span> Entity å¿…é¡»æ”¾åœ¨ xxx.api.entity åŒ…ä¸‹
<span class="hljs-bullet">-</span> ç¦æ­¢åœ¨ Controller/DubboApi ä¸­å†™ä¸šåŠ¡é€»è¾‘

<span class="hljs-section">## ç¼–ç è§„èŒƒ</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ Spring Java Format æ ¼å¼åŒ–ä»£ç 
<span class="hljs-bullet">-</span> æ–¹æ³•å¿…é¡»æœ‰ JavaDoc æ³¨é‡Š
<span class="hljs-bullet">-</span> å¢åˆ æ”¹æ“ä½œå¿…é¡»æ·»åŠ  @Transactional

<span class="hljs-section">## å‘½åè§„åˆ™</span>
<span class="hljs-bullet">-</span> Entityï¼šå¤§é©¼å³°ï¼Œå¦‚ UserInfo
<span class="hljs-bullet">-</span> Service æ¥å£ï¼šI{Entity}Serviceï¼Œå¦‚ IUserInfoService
<span class="hljs-bullet">-</span> Mapperï¼š{Entity}Mapperï¼Œå¦‚ UserInfoMapper
</code></pre>
<h5 data-id="heading-15">é˜¶æ®µäºŒï¼šSpecifyï¼ˆåŠŸèƒ½è§„èŒƒï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Claude Code ä¸­æ‰§è¡Œ</span>
/specify
</code></pre>
<p>è¾“å…¥åŠŸèƒ½æè¿°åï¼ŒAI ä¼šç”Ÿæˆï¼š</p>
<ol>
<li>åŠŸèƒ½åˆ†æ”¯ï¼ˆå¦‚ <code>001-user-login</code>ï¼‰</li>
<li>è§„èŒƒç›®å½•ï¼ˆ<code>specs/001-user-login/</code>ï¼‰</li>
<li>è§„èŒƒæ–‡æ¡£ï¼ˆ<code>spec.md</code>ï¼‰</li>
</ol>
<p><strong>spec.md ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># åŠŸèƒ½è§„èŒƒï¼šç”¨æˆ·ç™»å½•</span>

<span class="hljs-section">## èƒŒæ™¯</span>
å½“å‰ç³»ç»Ÿæ²¡æœ‰ç”¨æˆ·ç™»å½•åŠŸèƒ½ï¼Œéœ€è¦å®ç°åŸºäºæ‰‹æœºå·+éªŒè¯ç çš„ç™»å½•æµç¨‹ã€‚

<span class="hljs-section">## ç”¨æˆ·æ•…äº‹</span>
<span class="hljs-bullet">-</span> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›é€šè¿‡æ‰‹æœºå·å’ŒéªŒè¯ç ç™»å½•ï¼Œä»¥ä¾¿è®¿é—®æˆ‘çš„ä¸ªäººä¸­å¿ƒã€‚
<span class="hljs-bullet">-</span> ä½œä¸ºç”¨æˆ·ï¼Œæˆ‘å¸Œæœ›åœ¨éªŒè¯ç é”™è¯¯æ—¶æ”¶åˆ°æ˜ç¡®æç¤ºã€‚

<span class="hljs-section">## éªŒæ”¶æ ‡å‡†</span>
<span class="hljs-bullet">1.</span> [ ] ç”¨æˆ·è¾“å…¥æ‰‹æœºå·ï¼Œç‚¹å‡»å‘é€éªŒè¯ç ï¼Œåç«¯ç”Ÿæˆå¹¶å‘é€ï¼ˆæ¨¡æ‹Ÿï¼‰ã€‚
<span class="hljs-bullet">2.</span> [ ] éªŒè¯ç æœ‰æ•ˆæœŸ 5 åˆ†é’Ÿã€‚
<span class="hljs-bullet">3.</span> [ ] ç™»å½•æˆåŠŸè¿”å› JWT Tokenã€‚
<span class="hljs-bullet">4.</span> [ ] ç™»å½•å¤±è´¥æç¤ºå…·ä½“åŸå› ï¼ˆéªŒè¯ç é”™è¯¯/è¿‡æœŸï¼‰ã€‚

<span class="hljs-section">## ä¸šåŠ¡è§„åˆ™</span>
<span class="hljs-bullet">-</span> æ‰‹æœºå·å¿…é¡»æ˜¯ 11 ä½æ•°å­—ã€‚
<span class="hljs-bullet">-</span> åŒä¸€æ‰‹æœºå· 1 åˆ†é’Ÿå†…åªèƒ½è¯·æ±‚ä¸€æ¬¡éªŒè¯ç ã€‚
</code></pre>
<h5 data-id="heading-16">é˜¶æ®µä¸‰ï¼šPlanï¼ˆæŠ€æœ¯æ–¹æ¡ˆï¼‰</h5>
<p>åœ¨æ˜ç¡®äº†â€œåšä»€ä¹ˆâ€ä¹‹åï¼Œä¸‹ä¸€æ­¥æ˜¯ç¡®å®šâ€œæ€ä¹ˆåšâ€ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Claude Code ä¸­æ‰§è¡Œ</span>
/plan
</code></pre>
<p><strong>è¾“å…¥</strong>ï¼š<code>spec.md</code> + <code>constitution.md</code> æˆ–ç›´æ¥å›è½¦</p>
<p><strong>è¾“å‡º</strong>ï¼š<code>plan.md</code></p>
<p><strong>plan.md ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æŠ€æœ¯æ–¹æ¡ˆï¼šç”¨æˆ·ç™»å½•</span>

<span class="hljs-section">## æ¶æ„å†³ç­–</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ Redis å­˜å‚¨éªŒè¯ç ï¼ŒKey æ ¼å¼ï¼š<span class="hljs-code">`auth:code:{phone}`</span>ã€‚
<span class="hljs-bullet">-</span> ä½¿ç”¨ JJWT åº“ç”Ÿæˆ Tokenã€‚
<span class="hljs-bullet">-</span> éµå¾ª Controller -&gt; Service -&gt; Manager -&gt; Mapper åˆ†å±‚ã€‚

<span class="hljs-section">## æ•°æ®åº“å˜æ›´</span>
<span class="hljs-bullet">-</span> æ— éœ€æ–°å¢è¡¨ï¼Œå¤ç”¨ <span class="hljs-code">`user_info`</span> è¡¨ã€‚

<span class="hljs-section">## API è®¾è®¡</span>
<span class="hljs-bullet">1.</span> POST /api/v1/auth/code
<span class="hljs-bullet">   -</span> Req: { phone: string }
<span class="hljs-bullet">   -</span> Res: { success: boolean }
<span class="hljs-bullet">2.</span> POST /api/v1/auth/login
<span class="hljs-bullet">   -</span> Req: { phone: string, code: string }
<span class="hljs-bullet">   -</span> Res: { token: string, user: UserInfo }

<span class="hljs-section">## æ¨¡å—è®¾è®¡</span>
<span class="hljs-bullet">-</span> <span class="hljs-code">`AuthController`</span>: å¤„ç† HTTP è¯·æ±‚ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-code">`AuthService`</span>: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ ¡éªŒã€é¢å‘ Tokenï¼‰ã€‚
<span class="hljs-bullet">-</span> <span class="hljs-code">`SmsManager`</span>: å¯¹æ¥çŸ­ä¿¡ç½‘å…³ï¼ˆMock å®ç°ï¼‰ã€‚
</code></pre>
<h5 data-id="heading-17">é˜¶æ®µå››ï¼šTasksï¼ˆä»»åŠ¡æ‹†åˆ†ï¼‰</h5>
<p>å°†æŠ€æœ¯æ–¹æ¡ˆæ‹†è§£ä¸º AI å¯ä»¥ç‹¬ç«‹æ‰§è¡Œçš„åŸå­ä»»åŠ¡ï¼ˆAtomic Tasksï¼‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Claude Code ä¸­æ‰§è¡Œ</span>
/tasks
</code></pre>
<p><strong>è¾“å…¥</strong>ï¼š<code>plan.md</code> æˆ–ç›´æ¥å›è½¦</p>
<p><strong>è¾“å‡º</strong>ï¼š<code>tasks.md</code></p>
<p><strong>tasks.md ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ä»»åŠ¡åˆ—è¡¨</span>

<span class="hljs-section">## 1. åŸºç¡€è®¾æ–½</span>
<span class="hljs-bullet">-</span> [ ] Task 1.1: æ·»åŠ  JJWT å’Œ Redis ä¾èµ–åˆ° <span class="hljs-code">`pom.xml`</span>ã€‚
<span class="hljs-bullet">-</span> [ ] Task 1.2: é…ç½® Redis è¿æ¥å‚æ•°ã€‚

<span class="hljs-section">## 2. æ ¸å¿ƒé€»è¾‘</span>
<span class="hljs-bullet">-</span> [ ] Task 2.1: åˆ›å»º <span class="hljs-code">`SmsManager`</span> å¹¶å®ç°å‘é€æ¨¡æ‹Ÿé€»è¾‘ã€‚
<span class="hljs-bullet">-</span> [ ] Task 2.2: åˆ›å»º <span class="hljs-code">`AuthService`</span> æ¥å£åŠå®ç°ï¼Œç¼–å†™ <span class="hljs-code">`sendCode`</span> æ–¹æ³•ã€‚
<span class="hljs-bullet">-</span> [ ] Task 2.3: åœ¨ <span class="hljs-code">`AuthService`</span> ä¸­å®ç° <span class="hljs-code">`login`</span> æ–¹æ³•ï¼ˆå« Token ç”Ÿæˆï¼‰ã€‚

<span class="hljs-section">## 3. æ¥å£å±‚</span>
<span class="hljs-bullet">-</span> [ ] Task 3.1: åˆ›å»º <span class="hljs-code">`AuthController`</span> å¹¶æš´éœ² REST æ¥å£ã€‚
<span class="hljs-bullet">-</span> [ ] Task 3.2: ç¼–å†™ Controller å±‚å•å…ƒæµ‹è¯•ã€‚
</code></pre>
<h5 data-id="heading-18">é˜¶æ®µäº”ï¼šImplementï¼ˆæ‰§è¡Œå®ç°ï¼‰</h5>
<p>AI é€ä¸ªè¯»å–ä»»åŠ¡å¹¶æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Claude Code ä¸­æ‰§è¡Œ</span>
/implement
</code></pre>
<p><strong>æ‰§è¡Œé€»è¾‘ï¼š</strong></p>
<ol>
<li>AI è¯»å– <code>tasks.md</code> ä¸­ç¬¬ä¸€ä¸ªæœªå®Œæˆçš„ä»»åŠ¡ã€‚</li>
<li>è¯»å–ç›¸å…³æ–‡ä»¶ä¸Šä¸‹æ–‡ã€‚</li>
<li>ç¼–å†™ä»£ç ã€‚</li>
<li>è¿è¡Œæµ‹è¯•ï¼ˆå¦‚æœå®šä¹‰äº†éªŒè¯æ­¥éª¤ï¼‰ã€‚</li>
<li>æ ‡è®°ä»»åŠ¡ä¸º <code>[x]</code>ã€‚</li>
<li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚</li>
</ol>
<h5 data-id="heading-19">é˜¶æ®µå…­ï¼šAnalyzeï¼ˆè´¨é‡æ£€æŸ¥ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ Claude Code ä¸­æ‰§è¡Œ</span>
/analyze
</code></pre>
<p>å¯¹ç”Ÿæˆçš„ä»£ç è¿›è¡Œè´¨é‡åˆ†æï¼Œæ£€æŸ¥æ˜¯å¦ç¬¦åˆ <code>constitution.md</code> ä¸­çš„è§„èŒƒï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>æ˜¯å¦é—æ¼äº† JavaDocï¼Ÿ</li>
<li>æ˜¯å¦ä½¿ç”¨äº†è¢«ç¦æ­¢çš„ç±»ï¼Ÿ</li>
<li>äº‹åŠ¡æ³¨è§£æ˜¯å¦æ·»åŠ ï¼Ÿ</li>
</ul>
<h3 data-id="heading-20">å››ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-21">4.1 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ Spec-Kitï¼Ÿ</h4>
<ul>
<li><strong>æ¨è</strong>ï¼šå¤æ‚åŠŸèƒ½å¼€å‘ã€éœ€è¦å¤šäººåä½œã€å¯¹ä»£ç è´¨é‡æœ‰ä¸¥æ ¼è¦æ±‚ã€‚</li>
<li><strong>ä¸æ¨è</strong>ï¼šç®€å•çš„ Bug ä¿®å¤ã€ä¸´æ—¶è„šæœ¬ã€çº¯æ–‡æ¡ˆä¿®æ”¹ã€‚</li>
</ul>
<h4 data-id="heading-22">4.2 å­˜é‡é¡¹ç›®æ¥å…¥ï¼ˆBrownfieldï¼‰</h4>
<p>å¯¹äºå·²æœ‰é¡¹ç›®ï¼Œä¸éœ€è¦ä¸€æ¬¡æ€§è¡¥å…¨æ‰€æœ‰æ–‡æ¡£ã€‚å¯ä»¥é‡‡ç”¨<strong>å¢é‡æ¥å…¥</strong>ç­–ç•¥ï¼š</p>
<ol>
<li>åˆå§‹åŒ– Spec-Kitã€‚</li>
<li>é…ç½® <code>constitution.md</code> ä»¥åæ˜ å½“å‰é¡¹ç›®çš„æœ€ä½³å®è·µã€‚</li>
<li>åœ¨å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼ŒæŒ‰ç…§ Specify -&gt; Plan -&gt; Tasks -&gt; Implement æµç¨‹è¿›è¡Œã€‚</li>
<li>å¯¹äºæ—§ä»£ç çš„é‡æ„ï¼Œå¯ä»¥å…ˆè®© AI è¯»å–æ—§ä»£ç ç”Ÿæˆ <code>spec.md</code>ï¼ˆé€†å‘å·¥ç¨‹ï¼‰ï¼Œå†è¿›è¡Œä¿®æ”¹ã€‚</li>
</ol>
<h3 data-id="heading-23">äº”ã€é«˜çº§ç‰¹æ€§</h3>
<h4 data-id="heading-24">5.1 è‡ªå®šä¹‰è§„èŒƒæ¨¡æ¿</h4>
<p>ä½ å¯ä»¥åˆ›å»ºè‡ªå·±çš„è§„èŒƒæ¨¡æ¿ï¼Œä»¥é€‚åº”ä¸åŒçš„é¡¹ç›®éœ€æ±‚æˆ–å›¢é˜Ÿæ ‡å‡†ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># spec_templates/my_template.py</span>
TEMPLATE = <span class="hljs-string">"""
é¡¹ç›®åç§°: {project_name}
æŠ€æœ¯æ ˆ: {tech_stack}
åŠŸèƒ½æ¨¡å—: {features}
æ€§èƒ½è¦æ±‚: {performance}
"""</span>
</code></pre>
<h4 data-id="heading-25">5.2 é›†æˆ CI/CD</h4>
<p>Spec-Kit å¯ä»¥ä¸ CI/CD å·¥å…·é›†æˆï¼Œç¡®ä¿æ‰€æœ‰æäº¤çš„è§„èŒƒå’Œä»£ç éƒ½ç¬¦åˆæ ‡å‡†ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/spec-kit.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Spec-Kit</span> <span class="hljs-string">Validation</span>
<span class="hljs-attr">on:</span> [<span class="hljs-string">push</span>]
<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">validate:</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v2</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Validate</span> <span class="hljs-string">Specifications</span>
        <span class="hljs-attr">run:</span> <span class="hljs-string">specify</span> <span class="hljs-string">validate</span>
</code></pre>
<h4 data-id="heading-26">5.3 å›¢é˜Ÿåä½œæ¨¡å¼</h4>
<p>é€šè¿‡å…±äº«è§„èŒƒåº“å®ç°å›¢é˜Ÿåä½œï¼Œç¡®ä¿æ‰€æœ‰äººä½¿ç”¨ç»Ÿä¸€çš„è§„èŒƒã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯¼å‡ºè§„èŒƒ</span>
specify <span class="hljs-built_in">export</span> --output team-specs.json

<span class="hljs-comment"># å¯¼å…¥å›¢é˜Ÿè§„èŒƒ</span>
specify import team-specs.json
</code></pre>
<h3 data-id="heading-27">å…­ã€ä¸ç°æœ‰å·¥ä½œæµæ•´åˆ</h3>
<h5 data-id="heading-28">6.1 ä¸Â Claude CodeÂ é›†æˆ</h5>
<p>åˆå§‹åŒ–åï¼ŒClaude Code è‡ªåŠ¨è·å¾—Â <code>/specify</code>ã€<code>/plan</code>ã€<code>/tasks</code>ã€<code>/implement</code>Â å‘½ä»¤ã€‚</p>
<h5 data-id="heading-29">6.2 ä¸ Git å·¥ä½œæµæ•´åˆ</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¼€å§‹æ–°åŠŸèƒ½</span>
/specify <span class="hljs-string">"å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"</span>

<span class="hljs-comment"># AI è‡ªåŠ¨åˆ›å»ºåˆ†æ”¯ï¼š001-user-login</span>

<span class="hljs-comment"># 2. å®Œæˆè§„èŒƒå’Œæ–¹æ¡ˆ</span>
/plan
/tasks

<span class="hljs-comment"># 3. å®ç°ä»£ç </span>
/implement

<span class="hljs-comment"># 4. ä»£ç å®¡æŸ¥</span>
/review-code

<span class="hljs-comment"># 5. æäº¤ PR</span>
git add .
git commit -m <span class="hljs-string">"feat: å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"</span>
git push
</code></pre>
<h5 data-id="heading-30">6.3 ä¸ç°æœ‰é¡¹ç›®è§„èŒƒæ•´åˆ</h5>
<p>å°†å…¬å¸ç°æœ‰è§„èŒƒæ•´åˆåˆ° Constitution ä¸­ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># .specify/memory/constitution.md</span>

<span class="hljs-section">## å¼•ç”¨å…¬å¸è§„èŒƒ</span>
æœ¬é¡¹ç›®éµå¾ªã€ŠåŸå¸‚åœè½¦å¾®æœåŠ¡æ¡†æ¶è§„èŒƒã€‹ï¼Œè¯¦è§ CLAUDE.md

<span class="hljs-section">## è¡¥å……çº¦æŸ</span>
<span class="hljs-bullet">-</span> Entity å¿…é¡»åœ¨ xxx.api.entity åŒ…ä¸‹
<span class="hljs-bullet">-</span> ä½¿ç”¨ ThreadPoolFactory åˆ›å»ºçº¿ç¨‹æ± 
<span class="hljs-bullet">-</span> åˆ†é¡µæŸ¥è¯¢å¿…é¡»è°ƒç”¨ startDubboPage()

</code></pre>
<h3 data-id="heading-31">ä¸ƒã€å¸¸è§é—®é¢˜ (FAQ)</h3>
<p><strong>Q1: Spec-Kit æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ</strong>
Spec-Kit æ˜¯è¯­è¨€æ— å…³çš„ï¼Œæ”¯æŒæ‰€æœ‰ä¸»æµç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬ Python, Java, JavaScript, TypeScript, Go, Rust ç­‰ã€‚å®ƒé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°è§„èŒƒï¼Œå› æ­¤ä¸å—é™äºç‰¹å®šç¼–ç¨‹è¯­è¨€ã€‚</p>
<p><strong>Q2: å‘ç°ä»£ç é€»è¾‘èµ°ä¸é€šæ€ä¹ˆåŠï¼Ÿ</strong></p>
<p><strong>åƒä¸‡ä¸è¦ç›´æ¥æ”¹ä»£ç ï¼</strong> è¿™ä¼šç ´åâ€œè§„èŒƒå³æºç â€çš„åŸåˆ™ï¼Œå¯¼è‡´æ–‡æ¡£ä¸ä»£ç è„±èŠ‚ã€‚
æ­£ç¡®åšæ³•ï¼š</p>
<ol>
<li><strong>å›æ»š</strong>ï¼šå›åˆ° <code>Plan</code> é˜¶æ®µã€‚</li>
<li><strong>ä¿®æ”¹</strong>ï¼šæ›´æ–° <code>plan.md</code> ä¸­çš„æŠ€æœ¯å†³ç­–æˆ– <code>tasks.md</code> ä¸­çš„ä»»åŠ¡æ‹†åˆ†ã€‚</li>
<li><strong>é‡ç”Ÿæˆ</strong>ï¼šè®© AI é‡æ–°ç”Ÿæˆå—å½±å“çš„ä»£ç ã€‚</li>
</ol>
<p><strong>Q3: å¦‚ä½•é¿å… Spec æ–‡æ¡£è…çƒ‚ï¼Ÿ</strong></p>
<ul>
<li><strong>å®šæœŸå½’æ¡£</strong>ï¼šSprint ç»“æŸåï¼Œå°†å®Œæˆçš„ <code>specs/</code> ä¸‹çš„æ–‡æ¡£ç§»åŠ¨åˆ° <code>docs/archive/</code>ï¼Œä¿æŒå·¥ä½œåŒºæ•´æ´ã€‚</li>
<li><strong>åå“ºç« ç¨‹</strong>ï¼šå¦‚æœæŸä¸ª Spec å¼•å…¥äº†æ–°çš„é€šç”¨æ¨¡å¼ï¼ˆä¾‹å¦‚ç¡®ç«‹äº†â€œæ–°çš„æƒé™æ§åˆ¶æ–¹æ¡ˆâ€ï¼‰ï¼Œåº”å°†å…¶æ€»ç»“å¹¶æ›´æ–°åˆ° <code>.specify/memory/constitution.md</code> ä¸­ï¼Œä½¿å…¶æˆä¸ºåç»­å¼€å‘çš„æ ‡å‡†ã€‚</li>
</ul>
<p><strong>Q4: å›¢é˜Ÿå¦‚ä½•åä½œï¼Ÿ</strong></p>
<ul>
<li><strong>äº§å“ç»ç† (PM)</strong>: è´Ÿè´£ Review <code>spec.md</code>ï¼Œé‡ç‚¹å…³æ³¨éªŒæ”¶æ ‡å‡†ï¼ˆAcceptance Criteriaï¼‰æ˜¯å¦è¦†ç›–ä¸šåŠ¡éœ€æ±‚ã€‚</li>
<li><strong>æ¶æ„å¸ˆ / Tech Lead</strong>: è´Ÿè´£ Review <code>plan.md</code>ï¼ŒæŠŠæ§æŠ€æœ¯æ–¹æ¡ˆã€æ•°æ®åº“è®¾è®¡å’Œ API å®šä¹‰æ˜¯å¦ç¬¦åˆæ¶æ„è§„èŒƒã€‚</li>
<li><strong>å¼€å‘è€…</strong>: è´Ÿè´£æ‰§è¡Œ <code>tasks.md</code>ï¼Œå¹¶ç›‘ç£ AI ç”Ÿæˆçš„ä»£ç è´¨é‡ï¼Œè¿›è¡Œæœ€ç»ˆçš„ Code Reviewã€‚</li>
</ul>
<h3 data-id="heading-32">ä¸ƒã€å‚è€ƒèµ„æ–™</h3>
<ol>
<li>å®˜æ–¹ä»“åº“: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fspec-kit" target="_blank" title="https://github.com/github/spec-kit" ref="nofollow noopener noreferrer">github.com/github/specâ€¦</a></li>
<li>å®˜æ–¹åšå®¢: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.blog%2Fai-and-ml%2Fgenerative-ai%2Fspec-driven-development-with-ai-get-started-with-a-new-open-source-toolkit%2F" target="_blank" title="https://github.blog/ai-and-ml/generative-ai/spec-driven-development-with-ai-get-started-with-a-new-open-source-toolkit/" ref="nofollow noopener noreferrer">github.blog/ai-and-ml/gâ€¦</a></li>
<li>Martin Fowler æ–‡ç« : <a href="https://link.juejin.cn?target=https%3A%2F%2Fmartinfowler.com%2Farticles%2Fexploring-gen-ai%2Fsdd-3-tools.html" target="_blank" title="https://martinfowler.com/articles/exploring-gen-ai/sdd-3-tools.html" ref="nofollow noopener noreferrer">martinfowler.com/articles/exâ€¦</a></li>
<li>Microsoft æ•™ç¨‹: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.microsoft.com%2Fblog%2Fspec-driven-development-spec-kit" target="_blank" title="https://developer.microsoft.com/blog/spec-driven-development-spec-kit" ref="nofollow noopener noreferrer">developer.microsoft.com/blog/spec-dâ€¦</a></li>
<li>æœ¬æ–‡æ¡£å‚è€ƒæ¥æº: <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fa309220728%2Farticle%2Fdetails%2F155388340" target="_blank" title="https://blog.csdn.net/a309220728/article/details/155388340" ref="nofollow noopener noreferrer">blog.csdn.net/a309220728/â€¦</a></li>
</ol>
<h3 data-id="heading-33">å…«ã€æ€»ç»“</h3>
<p>Spec-Kit ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ä¸€ç§<strong>å·¥ç¨‹åŒ–æ€ç»´</strong>çš„ä½“ç°ã€‚å®ƒé€šè¿‡å¼ºåˆ¶çš„<strong>ç»“æ„åŒ–æµç¨‹</strong>ï¼Œè§£å†³äº† AI ç¼–ç¨‹ä¸­å¸¸è§çš„â€œå¹»è§‰â€ã€â€œä¸Šä¸‹æ–‡ä¸¢å¤±â€å’Œâ€œä¸å¯æ§â€é—®é¢˜ã€‚</p>
<ul>
<li><strong>å¯¹äºä¸ªäººå¼€å‘è€…</strong>ï¼šå®ƒæ˜¯ä½ çš„â€œå¤–è„‘â€ï¼Œå¸®ä½ ç†æ¸…æ€è·¯ï¼Œä¿æŒä»£ç æ•´æ´ã€‚</li>
<li><strong>å¯¹äºå›¢é˜Ÿ</strong>ï¼šå®ƒæ˜¯æ— å½¢çš„â€œæ¶æ„å¸ˆâ€ï¼Œç¡®ä¿æ‰€æœ‰ AI ç”Ÿæˆçš„ä»£ç éƒ½éµå¾ªç»Ÿä¸€çš„å›¢é˜Ÿè§„èŒƒã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ··åˆå¼€å‘çš„ App æ€ä¹ˆæµ‹è¯•ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7586482851103457315</link>    <guid>https://juejin.cn/post/7586482851103457315</guid>    <pubDate>2025-12-22T09:52:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482851103457315" data-draft-id="7586493936677109800" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ··åˆå¼€å‘çš„ App æ€ä¹ˆæµ‹è¯•ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-22T09:52:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒçŒ´çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2179705232165364"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ··åˆå¼€å‘çš„ App æ€ä¹ˆæµ‹è¯•ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2179705232165364/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒçŒ´çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:52:34.000Z" title="Mon Dec 22 2025 09:52:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœåªåšè¿‡çº¯ Native æˆ–çº¯ Flutter é¡¹ç›®ï¼Œå¾ˆå®¹æ˜“ä½ä¼°<strong>æ··åˆå¼€å‘ App çš„æµ‹è¯•å¤æ‚åº¦</strong>ã€‚
ä½†åªè¦é¡¹ç›®é‡ŒåŒæ—¶å­˜åœ¨ Native é¡µé¢ã€WebViewã€Flutter æˆ–å…¶ä»–è·¨ç«¯æ–¹æ¡ˆï¼Œæµ‹è¯•è¿™ä»¶äº‹å°±ä¼šè¿…é€Ÿå˜å¾—ä¸é‚£ä¹ˆâ€œå¹²å‡€â€ã€‚</p>
<p>æˆ‘ç¬¬ä¸€æ¬¡æ˜æ˜¾æ„Ÿå—åˆ°è¿™ä¸€ç‚¹ï¼Œæ˜¯åœ¨ä¸€ä¸ª iOS é¡¹ç›®é‡Œï¼š
éƒ¨åˆ†æ ¸å¿ƒé¡µé¢æ˜¯ Nativeï¼Œæ´»åŠ¨é¡µç”¨ H5ï¼Œå¦ä¸€äº›æ¨¡å—æ˜¯ Flutterã€‚
åŠŸèƒ½æµ‹è¯•èƒ½è¿‡ï¼Œä½†é—®é¢˜æ€»æ˜¯åœ¨ä¸€äº›â€œè¯´ä¸æ¸…æ¥šâ€çš„åœºæ™¯é‡Œå†’å‡ºæ¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">æ··åˆå¼€å‘çš„é—®é¢˜ï¼Œå¾ˆå°‘åªå±äºæŸä¸€å±‚</h2>
<p>æµ‹è¯•åé¦ˆå¾€å¾€æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>é¡µé¢å¶å‘ç™½å±</li>
<li>æŸäº›è®¾å¤‡ä¸Šæ˜æ˜¾å¡é¡¿</li>
<li>è¿”å›ä¸Šä¸€çº§æ—¶çŸ­æš‚æ— å“åº”</li>
<li>ç”¨ä¹…äº†ä¹‹åæ•´ä½“å˜æ…¢</li>
</ul>
<p>å½“ä½ å»é—®â€œæ˜¯ Native çš„é—®é¢˜è¿˜æ˜¯ Web çš„é—®é¢˜â€ï¼Œ
å¾ˆå¤šæ—¶å€™ï¼Œç­”æ¡ˆæ˜¯ï¼š<strong>éƒ½ä¸æ˜¯å•ç‹¬ä¸€è¾¹çš„é—®é¢˜</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-1">åªç”¨æŸä¸€ç§æµ‹è¯•æ–¹å¼ï¼Œç»“è®ºå¾€å¾€ä¸å®Œæ•´</h2>
<p>æœ€æ—©æˆ‘ä»¬è¿˜æ˜¯æŒ‰è€ä¹ æƒ¯æ¥æµ‹è¯•ï¼š</p>
<ul>
<li>Xcode è·‘åŠŸèƒ½</li>
<li>Instruments çœ‹æ€§èƒ½</li>
<li>Safari Inspector çœ‹ H5</li>
</ul>
<p>æ¯ä¸ªå·¥å…·éƒ½èƒ½çœ‹åˆ°ä¸€äº›ä¸œè¥¿ï¼Œä½†æ€»æ„Ÿè§‰æ‹¼ä¸æˆä¸€æ¡å®Œæ•´çš„çº¿ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>Safari Inspector æ˜¾ç¤º JS æ­£å¸¸</li>
<li>Native å†…å­˜çœ‹èµ·æ¥ä¹Ÿä¸é«˜</li>
<li>ä½†å®é™…ä½“éªŒå°±æ˜¯è¶Šæ¥è¶Šå¡</li>
</ul>
<p>è¿™ç±»é—®é¢˜ï¼Œå¦‚æœä¸æŠŠä¸åŒå±‚çš„è¡Œä¸ºæ”¾åœ¨ä¸€èµ·çœ‹ï¼Œå¾ˆéš¾è§£é‡Šã€‚</p>
<hr/>
<h2 data-id="heading-2">æ··åˆ App æµ‹è¯•ï¼Œç¬¬ä¸€æ­¥æ˜¯â€œç»Ÿä¸€è§†è§’â€</h2>
<p>åæ¥æˆ‘æ„è¯†åˆ°ï¼Œæ··åˆå¼€å‘çš„ App åœ¨ iOS ä¸Šï¼Œæœ€ç»ˆéƒ½è¦æ¥å—ç³»ç»Ÿè°ƒåº¦ã€‚
ä¸ç®¡é¡µé¢æ˜¯ Nativeã€Web è¿˜æ˜¯ Flutterï¼Œå®ƒä»¬çš„ CPUã€å†…å­˜ã€çº¿ç¨‹ã€èƒ½è€—ï¼Œæœ€ç»ˆéƒ½ä¼šä½“ç°åœ¨åŒä¸€ä¸ªè¿›ç¨‹é‡Œã€‚</p>
<p>ä»è¿™ä¸ªè§’åº¦çœ‹ï¼ŒæŠŠ App å½“æˆä¸€ä¸ªæ•´ä½“æ¥æµ‹è¯•ï¼Œåè€Œæ›´æœ‰æ„ä¹‰ã€‚</p>
<hr/>
<h2 data-id="heading-3">ä» Instruments å¼€å§‹ï¼Œä½†ä¸è¦åœåœ¨è¿™é‡Œ</h2>
<p>Instruments ä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å·¥å…·ã€‚</p>
<p>é€šè¿‡ Time Profilerï¼Œå¯ä»¥çœ‹åˆ°ï¼š</p>
<ul>
<li>æ¸²æŸ“å‹åŠ›é›†ä¸­åœ¨å“ªä¸€æ®µ</li>
<li>WebKit çº¿ç¨‹ä½•æ—¶æ´»è·ƒ</li>
<li>Flutter Engine æ˜¯å¦é¢‘ç¹è°ƒåº¦</li>
</ul>
<p>è¿™äº›ä¿¡æ¯èƒ½å¸®ä½ åˆ¤æ–­â€œå‹åŠ›æ¥æºåœ¨å“ªé‡Œâ€ï¼Œ
ä½†å®ƒä¸å¤ªé€‚åˆå›ç­”â€œé—®é¢˜ä»€ä¹ˆæ—¶å€™å¼€å§‹å‡ºç°â€ã€‚</p>
<hr/>
<h2 data-id="heading-4">å½“é—®é¢˜æ˜¯â€œè·‘ä¹…äº†æ‰æœ‰â€ï¼Œæµ‹è¯•æ–¹å¼å°±å¾—å˜</h2>
<p>åœ¨ä¸€ä¸ªç‰ˆæœ¬å›å½’ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼š</p>
<ul>
<li>ç¬¬ä¸€æ¬¡è¿›å…¥æ··åˆé¡µé¢ä¸€åˆ‡æ­£å¸¸</li>
<li>å¤šæ¬¡åˆ‡æ¢åå¼€å§‹æ‰å¸§</li>
<li>å†å›åˆ° Native é¡µé¢ï¼Œå“åº”ä¹Ÿå˜æ…¢</li>
</ul>
<p>è¿™ä¸ªç°è±¡ï¼Œç”¨ Instruments å¾ˆéš¾ä¸€æ¬¡æ€§æŠ“ä½ã€‚</p>
<p>äºæ˜¯æˆ‘å¼€å§‹åœ¨çœŸæœºä¸Šè·‘å®Œæ•´ä½¿ç”¨æµç¨‹ï¼Œå¹¶å¼•å…¥ <strong>å…‹é­”ï¼ˆKeyMobï¼‰</strong> åšæŒç»­è§‚å¯Ÿã€‚</p>
<hr/>
<h2 data-id="heading-5">KeyMob åœ¨æ··åˆ App æµ‹è¯•é‡Œçš„ä½œç”¨</h2>
<p>æˆ‘å¹¶æ²¡æœ‰æŠŠ KeyMob å½“æˆâ€œæŸä¸€å±‚çš„å·¥å…·â€ï¼Œè€Œæ˜¯æŠŠå®ƒå½“æˆä¸€ä¸ªè§‚å¯Ÿçª—å£ï¼š</p>
<ul>
<li>çœ‹ CPUã€å†…å­˜æ˜¯å¦éšç€é¡µé¢åˆ‡æ¢é€æ­¥ä¸Šå‡</li>
<li>çœ‹ FPS åœ¨æ··åˆé¡µé¢å‰åæ˜¯å¦å‘ç”Ÿå˜åŒ–</li>
<li>çœ‹ç½‘ç»œã€æ—¥å¿—æ˜¯å¦åœ¨åå°æŒç»­æ´»è·ƒ</li>
</ul>
<p>å½“ä½ æŠŠ Nativeã€WebViewã€Flutter é¡µé¢æ¥å›åˆ‡æ¢è·‘ä¸€éï¼Œå†å›å¤´çœ‹è¿™äº›æ•°æ®ï¼Œå¾ˆå¤šé—®é¢˜ä¼šå˜å¾—éå¸¸ç›´è§‚ã€‚</p>
<hr/>
<h2 data-id="heading-6">Web å±‚çš„æµ‹è¯•ï¼Œä¸èƒ½åªçœ‹ Web å±‚</h2>
<p>åœ¨æ··åˆé¡¹ç›®ä¸­ï¼ŒWeb é¡µé¢ç»å¸¸è¢«å•ç‹¬æµ‹è¯•ã€‚
ä½†åœ¨ App é‡Œè¿è¡Œæ—¶ï¼Œå®ƒçš„è¡Œä¸ºä¼šå—åˆ°æ›´å¤šé™åˆ¶ã€‚</p>
<p>æˆ‘ä¸€èˆ¬ä¼šåŒæ—¶ä½¿ç”¨ï¼š</p>
<ul>
<li><strong>Safari Inspector</strong>ï¼šç¡®è®¤ JS è¡Œä¸ºã€å®šæ—¶ä»»åŠ¡ã€èµ„æºåŠ è½½</li>
<li><strong>KeyMob</strong>ï¼šè§‚å¯Ÿ Web é¡µé¢å‰åæ•´ä½“å†…å­˜ä¸ CPU å˜åŒ–</li>
</ul>
<p>åœ¨ä¸€æ¬¡æ’æŸ¥ä¸­ï¼Œæˆ‘ä»¬å‘ç° Web é¡µé¢æœ¬èº«æ²¡æœ‰æ˜æ˜¾é—®é¢˜ï¼Œä½†åœ¨é€€å‡ºåçŸ­æ—¶é—´å†…ä»ç„¶å ç”¨èµ„æºï¼Œå¯¼è‡´åç»­ Native é¡µé¢å—å½±å“ã€‚</p>
<hr/>
<h2 data-id="heading-7">ç½‘ç»œé—®é¢˜ï¼Œå¾€å¾€åœ¨æ··åˆåœºæ™¯ä¸‹è¢«æ”¾å¤§</h2>
<p>é€šè¿‡ <strong>Charles</strong> æŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°ä¸€äº›åœ¨åŠŸèƒ½æµ‹è¯•ä¸­ä¸æ˜æ˜¾çš„æƒ…å†µï¼š</p>
<ul>
<li>æŸäº›æ¥å£åœ¨ H5 é¡µé¢å’Œ Native é¡µé¢éƒ½ä¼šè°ƒç”¨</li>
<li>åˆ‡æ¢é¡µé¢æ—¶è¯·æ±‚è¢«é‡å¤è§¦å‘</li>
<li>å¼±ç½‘ä¸‹é‡è¯•é€»è¾‘å åŠ </li>
</ul>
<p>è¿™äº›è¡Œä¸ºå•ç‹¬çœ‹å¹¶ä¸ä¸¥é‡ï¼Œä½†æ”¾åœ¨æ··åˆåœºæ™¯ä¸­ï¼Œå°±å®¹æ˜“å˜æˆæ€§èƒ½é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-8">æ··åˆ App æµ‹è¯•ï¼Œæœ¬è´¨æ˜¯è·¨å±‚å¯¹ç…§</h2>
<p>æ…¢æ…¢åœ°ï¼Œæˆ‘å½¢æˆäº†ä¸€ç§æ¯”è¾ƒç¨³å®šçš„æµ‹è¯•æ–¹å¼ï¼š</p>
<ul>
<li>ç”¨ Instruments çœ‹å‹åŠ›æ¥æº</li>
<li>ç”¨ Safari Inspector ç†è§£ Web è¡Œä¸º</li>
<li>ç”¨ Charles å¯¹ç…§ç½‘ç»œ</li>
<li>ç”¨ KeyMob æŠŠæ‰€æœ‰è¡Œä¸ºæ”¾åœ¨åŒä¸€æ¡æ—¶é—´çº¿ä¸Šçœ‹</li>
</ul>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š
ä½ ä¸éœ€è¦ä¸€å¼€å§‹å°±åˆ¤æ–­â€œæ˜¯å“ªä¸€å±‚çš„é—®é¢˜â€ï¼Œè€Œæ˜¯è®©æ•°æ®è‡ªå·±è¯´æ˜é—®é¢˜</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[pandasè®¡ç®—æŸåˆ—æ¯è¡Œå¸¦æœ‰åˆ†éš”ç¬¦çš„æ•°æ®ä¸­åŒ…å«ç‰¹å®šå€¼çš„æ¬¡æ•°]]></title>    <link>https://juejin.cn/post/7586482851103375395</link>    <guid>https://juejin.cn/post/7586482851103375395</guid>    <pubDate>2025-12-22T09:40:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7586482851103375395" data-draft-id="7586493936676945960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="pandasè®¡ç®—æŸåˆ—æ¯è¡Œå¸¦æœ‰åˆ†éš”ç¬¦çš„æ•°æ®ä¸­åŒ…å«ç‰¹å®šå€¼çš„æ¬¡æ•°"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-22T09:40:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JxWang05"/> <meta itemprop="url" content="https://juejin.cn/user/1804730192367753"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            pandasè®¡ç®—æŸåˆ—æ¯è¡Œå¸¦æœ‰åˆ†éš”ç¬¦çš„æ•°æ®ä¸­åŒ…å«ç‰¹å®šå€¼çš„æ¬¡æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1804730192367753/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JxWang05
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-22T09:40:34.000Z" title="Mon Dec 22 2025 09:40:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-22
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æŸæ¬¡åšä¸€ä¸ªæ•°æ®çš„å¤„ç†ï¼Œè¦è®¡ç®—ç”¨æˆ·çš„ç²‰ä¸æ•°é‡ï¼Œæ•°æ®é›†å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>





















<table><thead><tr><th>ä¼ æ’­èŠ‚ç‚¹å¾®åšç”¨æˆ·id</th><th>å…³æ³¨ç”¨æˆ·ids</th></tr></thead><tbody><tr><td>ae26e5e3db7626dcaf6819ce5492d534</td><td>"04e9dc04d4b600d574d67b298a7dea7d,Â·Â·Â·"</td></tr><tr><td>a845733e3729a136889c07d275bcc3c5</td><td>"aebe49645667a02eae6ab6734ade24eb,Â·Â·Â·"</td></tr><tr><td>68e605feb5344fd413587b4245946c24"</td><td>77c471d3aba195b1322800602a93dc72,Â·Â·Â·"</td></tr></tbody></table>
<p>è¿™é‡Œçš„æ•°æ®ï¼Œéƒ½æ˜¯ç»è¿‡è„±æ•å¤„ç†åçš„idï¼Œå³æ¯ä¸ªç”¨æˆ·å’Œä»–ä»¬çš„å…³æ³¨åˆ—è¡¨ã€‚â€œå…³æ³¨ç”¨æˆ·idsâ€åº”è¯¥æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œæ¯ä¸€è¡Œç”±åŒå¼•å·åŒ…è£¹ï¼Œç”±é€—å·ä½œä¸ºidä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚è¦è®¡ç®—ç”¨æˆ·çš„ç²‰ä¸æ•°é‡ï¼Œå°±æ˜¯çœ‹ä»–ä»¬åœ¨æ‰€æœ‰ç”¨æˆ·çš„å…³æ³¨åˆ—è¡¨å½“ä¸­å‡ºç°äº†å¤šå°‘æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¦å¯¹â€œå…³æ³¨ç”¨æˆ·idsâ€åˆ—å‡ºç°çš„å„ä¸ªidè¿›è¡Œè®¡æ•°ã€‚</p>
<p>å‚è€ƒåšæ–‡<sup><a href="#user-content-fn-1" id="user-content-user-content-fnref-1" data-footnote-ref="" aria-describedby="footnote-label" title="#user-content-fn-1">1</a></sup>è¿›è¡Œä»¥ä¸‹å¤„ç†</p>
<pre><code class="hljs language-python" lang="python">countN = dataI0[<span class="hljs-string">'name'</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">'|'</span>, expand=<span class="hljs-literal">True</span>).stack().value_counts()
<span class="hljs-comment"># è®¡ç®—å„å…ƒç´ å‡ºç°çš„æ¬¡æ•°</span>
</code></pre>
<p>å…¶ä¸­ï¼Œä¸èƒ½å¯¹æ•°æ®æ¡†çš„åˆ—<kbd>Chart3Part['å…³æ³¨ç”¨æˆ·ids']</kbd>ç›´æ¥åº”ç”¨<kbd>split</kbd>ï¼Œè€Œéœ€è¦å…ˆè°ƒç”¨<kbd>str</kbd>ã€‚</p>
<ul>
<li>å…¶ä¸­çš„<kbd>expand=True</kbd>æ˜¯æŒ‰é€—å·å¯¹æ¯ä¸€è¡Œè¿›è¡Œåˆ†å‰²åï¼Œå°†å…¶æ‰©å±•æˆå¤šåˆ—ã€‚</li>
<li><kbd>stack()</kbd>åˆ™æ˜¯æ„é€ äºŒçº§è¡Œç´¢å¼•ï¼Œåœ¨åŸæœ¬çš„è¡Œç´¢å¼•ä¸Šï¼Œå°†åˆ—ä½œä¸ºäºŒçº§è¡Œç´¢å¼•ã€‚å¯å‚è€ƒåšæ–‡<sup><a href="#user-content-fn-2" id="user-content-user-content-fnref-2" data-footnote-ref="" aria-describedby="footnote-label" title="#user-content-fn-2">2</a></sup>ï¼Œä¹Ÿå¯è§ä¸‹æ–‡å½“ä¸­çš„å®éªŒä¸‰</li>
<li><kbd>value_counts()</kbd>æ˜¯å¯¹å€¼å‡ºç°çš„æ¬¡æ•°è¿›è¡Œè®¡æ•°ï¼Œå…¶è¿”å›å€¼æ˜¯ä¸€ä¸ªpd.Seriesï¼Œnameä¸ºè¢«è®¡æ•°çš„åˆ—çš„åå­—ï¼Œindexä¸ºè¢«è®¡æ•°çš„é¡¹ï¼Œå€¼ä¸ºå‡ºç°çš„æ¬¡æ•°</li>
</ul>
<p>åšæ–‡<sup><a href="#user-content-fn-1" id="user-content-user-content-fnref-1-2" data-footnote-ref="" aria-describedby="footnote-label" title="#user-content-fn-1">1</a></sup>å½“ä¸­è¿˜æœ‰å¦ä¸€ç§æ–¹æ³•ï¼Œå…ˆå•ç‹¬å¯¹æ¯ä¸€è¡Œè¿›è¡Œå¤„ç†ï¼Œå†ä»æ€»çš„è§†è§’è¿›è¡Œè®¡æ•°</p>
<pre><code class="hljs language-python" lang="python">countN = pd.Series(Counter([y <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataI0[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x.split(<span class="hljs-string">'|'</span>)]))
</code></pre>
<p>å®Œæ•´çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

dataI0 = pd.DataFrame(data=[<span class="hljs-string">"book"</span>,<span class="hljs-string">"fish"</span>,<span class="hljs-string">"icecream|book"</span>,<span class="hljs-string">"fish"</span>,<span class="hljs-string">"campfire|book"</span>],columns=[<span class="hljs-string">"name"</span>])
<span class="hljs-built_in">print</span>(dataI0)
<span class="hljs-comment"># åˆ›å»ºæ•°æ®æ¡†</span>

<span class="hljs-comment">#             name</span>
<span class="hljs-comment"># 0           book</span>
<span class="hljs-comment"># 1           fish</span>
<span class="hljs-comment"># 2  icecream|book</span>
<span class="hljs-comment"># 3           fish</span>
<span class="hljs-comment"># 4  campfire|book</span>

<span class="hljs-comment"># æ–¹æ³•ä¸€----------------------------------------------------------------------------------------</span>
countN = dataI0[<span class="hljs-string">'name'</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">'|'</span>, expand=<span class="hljs-literal">True</span>).stack().value_counts()
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># å¯¹nameåˆ—è¿›è¡Œè®¡æ•°</span>

<span class="hljs-comment"># book        3</span>
<span class="hljs-comment"># fish        2</span>
<span class="hljs-comment"># icecream    1</span>
<span class="hljs-comment"># campfire    1</span>
<span class="hljs-comment"># dtype: int64</span>

<span class="hljs-comment"># æ–¹æ³•äºŒ---------------------------------------------------------------------------------------</span>
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter

countN = pd.Series(Counter([y <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataI0[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x.split(<span class="hljs-string">'|'</span>)]))
<span class="hljs-built_in">print</span>(countN)

<span class="hljs-comment"># book        3</span>
<span class="hljs-comment"># fish        2</span>
<span class="hljs-comment"># icecream    1</span>
<span class="hljs-comment"># campfire    1</span>
<span class="hljs-comment"># dtype: int64</span>

<span class="hljs-comment"># å®éªŒä¸€---------------------------------------------------------------------------------------</span>
countN = dataI0[<span class="hljs-string">'name'</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">'|'</span>)
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># æ­¤å¤„æ˜¯å¯¹æ¯ä¸€è¡Œçš„æ•°æ®æŒ‰ç…§'|'è¿›è¡Œåˆ†å‰²ï¼Œæ¯ä¸€è¡Œè¿”å›çš„æ˜¯åˆ†å‰²åçš„æ•°ç»„</span>

<span class="hljs-comment"># 0              [book]</span>
<span class="hljs-comment"># 1              [fish]</span>
<span class="hljs-comment"># 2    [icecream, book]</span>
<span class="hljs-comment"># 3              [fish]</span>
<span class="hljs-comment"># 4    [campfire, book]</span>
<span class="hljs-comment"># Name: name, dtype: object</span>
        
<span class="hljs-comment"># å®éªŒäºŒ---------------------------------------------------------------------------------------</span>
countN = dataI0[<span class="hljs-string">'name'</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">'|'</span>, expand=<span class="hljs-literal">True</span>)
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># expand=Trueï¼Œå³åˆ†å‰²åæ‰©å±•ä¸ºå¤šåˆ—ï¼Œä¸è¶³ä¹‹å¤„ä½¿ç”¨Noneè¡¥å……</span>

<span class="hljs-comment">#           0     1</span>
<span class="hljs-comment"># 0      book  None</span>
<span class="hljs-comment"># 1      fish  None</span>
<span class="hljs-comment"># 2  icecream  book</span>
<span class="hljs-comment"># 3      fish  None</span>
<span class="hljs-comment"># 4  campfire  book</span>

<span class="hljs-comment"># å®éªŒä¸‰---------------------------------------------------------------------------------------</span>
countN = dataI0[<span class="hljs-string">'name'</span>].<span class="hljs-built_in">str</span>.split(<span class="hljs-string">'|'</span>, expand=<span class="hljs-literal">True</span>).stack()
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># stack()ï¼Œå³å°†åˆ—å˜ä¸ºäºŒçº§è¡Œç´¢å¼•ï¼ŒåŸè¡Œç´¢å¼•ä¸ºä¸€çº§è¡Œç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨çš„æ•°æ®æ¡†åªæœ‰ä¸€åˆ—äº†</span>
<span class="hljs-comment"># æ‰€æœ‰çš„æ•°æ®éƒ½åœ¨è¿™ä¸€åˆ—ï¼Œç›´æ¥å¯¹è¿™ä¸€åˆ—è¿›è¡Œè®¡æ•°å³å¯</span>

<span class="hljs-comment"># 0  0        book</span>
<span class="hljs-comment"># 1  0        fish</span>
<span class="hljs-comment"># 2  0    icecream</span>
<span class="hljs-comment">#    1        book</span>
<span class="hljs-comment"># 3  0        fish</span>
<span class="hljs-comment"># 4  0    campfire</span>
<span class="hljs-comment">#    1        book</span>
<span class="hljs-comment"># dtype: object</span>

<span class="hljs-comment"># å®éªŒå››---------------------------------------------------------------------------------------</span>
countN = [y <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataI0[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x.split(<span class="hljs-string">'|'</span>)]
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># è¿™é‡Œçš„æ€è·¯æ˜¯åˆ©ç”¨åˆ—è¡¨æ¨å¯¼å¼ï¼Œå¯¹æ¯ä¸€è¡ŒæŒ‰ç…§'|'è¿›è¡Œåˆ†å‰²åï¼Œå¯¹åˆ†å‰²çš„ç»“æœè¿›è¡Œæšä¸¾ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªåˆ—è¡¨</span>
<span class="hljs-comment"># æ‰€æœ‰çš„ç»“æœéƒ½åœ¨åˆ—è¡¨å½“ä¸­</span>

<span class="hljs-comment"># ['book', 'fish', 'icecream', 'book', 'fish', 'campfire', 'book']</span>

<span class="hljs-comment"># å®éªŒäº”---------------------------------------------------------------------------------------</span>
countN = Counter([y <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataI0[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x.split(<span class="hljs-string">'|'</span>)])
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># åšæ–‡çš„æ€è·¯æ˜¯å¯¹åˆ—è¡¨åº”ç”¨Counterï¼Œç›´æ¥è®¡æ•°</span>
<span class="hljs-comment"># ä¹‹åå†è½¬æ¢æˆä¸ºpd.Series</span>

<span class="hljs-comment"># Counter({'book': 3, 'fish': 2, 'icecream': 1, 'campfire': 1})</span>

<span class="hljs-comment"># å®éªŒå…­---------------------------------------------------------------------------------------</span>
countN = pd.Series([y <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataI0[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x.split(<span class="hljs-string">'|'</span>)])
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># ä¹Ÿå¯ä»¥ç›´æ¥è½¬æ¢æˆpd.Seriesï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½åœ¨è¿™ä¸€åˆ—äº†</span>
<span class="hljs-comment"># æ•ˆæœä¸ä¸Šæ–‡stack()åçš„ç»“æœç›¸ä¼¼</span>

<span class="hljs-comment"># 0        book</span>
<span class="hljs-comment"># 1        fish</span>
<span class="hljs-comment"># 2    icecream</span>
<span class="hljs-comment"># 3        book</span>
<span class="hljs-comment"># 4        fish</span>
<span class="hljs-comment"># 5    campfire</span>
<span class="hljs-comment"># 6        book</span>
<span class="hljs-comment"># dtype: object</span>
    
<span class="hljs-comment"># å®éªŒä¸ƒ---------------------------------------------------------------------------------------</span>
countN = pd.Series([y <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> dataI0[<span class="hljs-string">'name'</span>] <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> x.split(<span class="hljs-string">'|'</span>)]).value_counts()
<span class="hljs-built_in">print</span>(countN)
<span class="hljs-comment"># åœ¨pd.Seriesçš„åŸºç¡€ä¸Šï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨value_counts()</span>

<span class="hljs-comment"># book        3</span>
<span class="hljs-comment"># fish        2</span>
<span class="hljs-comment"># icecream    1</span>
<span class="hljs-comment"># campfire    1</span>
<span class="hljs-comment"># dtype: int64</span>
</code></pre>
<h2 class="sr-only" id="user-content-footnote-label" data-id="heading-0">Footnotes</h2>
<ol>
<li id="user-content-user-content-fn-1">
<p><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.cocoachina.com%2Farticles%2F46205" target="_blank" title="http://www.cocoachina.com/articles/46205" ref="nofollow noopener noreferrer">python â€“ è®¡ç®—åˆ—åœ¨Pandasä¸­åŒ…å«ç‰¹å®šå€¼çš„æ¬¡æ•°</a> <a href="#user-content-fnref-1" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content" title="#user-content-fnref-1">â†©</a> <a href="#user-content-fnref-1-2" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content" title="#user-content-fnref-1-2">â†©<sup>2</sup></a></p>
</li>
<li id="user-content-user-content-fn-2">
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.gairuo.com%2Fp%2Fpandas-stacking" target="_blank" title="https://www.gairuo.com/p/pandas-stacking" ref="nofollow noopener noreferrer">Pandas æ•°æ®å †å  stack</a> <a href="#user-content-fnref-2" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content" title="#user-content-fnref-2">â†©</a></p>
</li>
</ol>
</div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>